!function(){var e,t,n;!function(i){function r(e,t){return w.call(e,t)}function a(e,t){var n,i,r,a,o,s,l,u,c,d,p,h=t&&t.split("/"),f=y.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),o=e.length-1,y.nodeIdCompat&&x.test(e[o])&&(e[o]=e[o].replace(x,"")),e=h.slice(0,h.length-1).concat(e),c=0;c<e.length;c+=1)if("."===(p=e[c]))e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||m)&&f){for(n=e.split("/"),c=n.length;c>0;c-=1){if(i=n.slice(0,c).join("/"),h)for(d=h.length;d>0;d-=1)if((r=f[h.slice(0,d).join("/")])&&(r=r[i])){a=r,s=c;break}if(a)break;!l&&m&&m[i]&&(l=m[i],u=c)}!a&&l&&(a=l,s=u),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(e,t){return function(){var n=_.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),h.apply(i,n.concat([e,t]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){g[e]=t}}function u(e){if(r(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(i,t)}if(!r(g,e)&&!r(b,e))throw new Error("No "+e);return g[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,h,f,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice,x=/\.js$/;f=function(e,t){var n,i=c(e),r=i[0];return e=i[1],r&&(r=a(r,t),n=u(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):a(e,t):(e=a(e,t),i=c(e),r=i[0],e=i[1],r&&(n=u(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},m={require:function(e){return o(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},p=function(e,t,n,a){var s,c,d,p,h,y,w=[],_=typeof n;if(a=a||e,"undefined"===_||"function"===_){for(t=!t.length&&n.length?["require","exports","module"]:t,h=0;h<t.length;h+=1)if(p=f(t[h],a),"require"===(c=p.f))w[h]=m.require(e);else if("exports"===c)w[h]=m.exports(e),y=!0;else if("module"===c)s=w[h]=m.module(e);else if(r(g,c)||r(v,c)||r(b,c))w[h]=u(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,o(a,!0),l(c),{}),w[h]=g[c]}d=n?n.apply(g[e],w):void 0,e&&(s&&s.exports!==i&&s.exports!==g[e]?g[e]=s.exports:d===i&&y||(g[e]=d))}else e&&(g[e]=n)},e=t=h=function(e,t,n,r,a){if("string"==typeof e)return m[e]?m[e](t):u(f(e,t).f);if(!e.splice){if(y=e,y.deps&&h(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=i}return t=t||function(){},"function"==typeof n&&(n=r,r=a),r?p(i,e,t,n):setTimeout(function(){p(i,e,t,n)},4),h},h.config=function(e){return h(e)},e._defined=g,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("lib/almond",function(){}),t.config({paths:{auth_popups:"app/auth_popups",checkAds:"app/checkAds",doublebracket:"app/DoubleBracket",FastAction:"app/FastAction",fastaction_config:"app/fastaction_config",databag_config:"app/databag_config",FormDefUtils:"app/FormDefUtils",FormError:"app/FormError",html2canvasWrapper:"app/html2canvasWrapper",NVTagCallbacks:"app/NVTagCallbacks",oberon:"app/oberon",requestAutocomplete:"app/requestAutocomplete",trackTransaction:"app/trackTransaction",timing:"app/timing",baseUrl:"app/baseUrl",assetUrl:"app/assetUrl",loadCSS:"app/loadCSS",loadScript:"app/loadScript",loadContent:"app/loadContent",loadResource:"resources/loadResource",otherOption:"app/views/helpers/otherOption",socialSharePopup:"app/socialSharePopup",socialMediaLogger:"app/socialMediaLogger",urlUtilities:"app/urlUtilities",Map:"app/Map",ApplePay:"app/applePay",SignaturePad:"app/SignaturePad",vgs:"app/vgs",recaptcha:"app/recaptcha",aliasHelper:"app/aliasHelper",deviceInfo:"app/deviceInfo",eaPayPal:"app/eaPayPal",matchPro:"app/matchPro",FormOptimizationExperiments:"app/FormOptimizationExperiments",FormOptimizationExperimentsLogic:"app/FormOptimizationExperimentsLogic",cookieConsentConfiguration:"app/cookieConsentConfiguration",googleAnalyticsHelper:"app/googleAnalyticsHelper",formatRows:"app/views/helpers/formatRows",currency:"app/views/helpers/currency",lightboxHelper:"app/views/helpers/lightboxHelper",telemetry:"app/views/helpers/telemetry",autocomplete:"data/autocomplete",countries:"data/countries","country.keys":"data/country.keys",occupations:"data/occupations",placeholder:"data/placeholder",prefixes:"data/prefixes","form.rows":"data/form.rows",states:"data/states","qs.params":"data/qs.params",databag:"app/models/Databag",profile_databag:"app/models/ProfileDatabag",fast_databag:"app/models/FastDatabag",fastActionUser:"app/models/FastActionUser",NVForm:"app/models/NVForm",ContributionAmountModel:"app/models/ContributionAmountModel",ContributionRecurrenceModel:"app/models/ContributionRecurrenceModel",PageAlertView:"app/views/PageAlert",FormElements:"app/FormElements",AdvocacyView:"app/views/AdvocacyView",AdvocacyTweetView:"app/views/AdvocacyTweetView",AdvocacyTweetsView:"app/views/AdvocacyTweetsView",AmountView:"app/views/AmountView",CaptchaView:"app/views/CaptchaView",CheckboxView:"app/views/CheckboxView",ContributionView:"app/views/ContributionView",VgsTextFieldView:"app/views/VgsTextFieldView",CreditCardView:"app/views/CreditCardView",CVV2View:"app/views/CVV2View",CCExpirationView:"app/views/CCExpirationView",DateView:"app/views/DateView",EcardsView:"app/views/EcardsView",EventInformationView:"app/views/EventInformationView",errorviews:"app/views/ErrorViews",FastActionView:"app/views/FastActionView",FieldsetView:"app/views/FieldsetView",FieldView:"app/views/FieldView",HiddenView:"app/views/HiddenView",MarkupView:"app/views/MarkupView",NotMeView:"app/views/NotMeView",MatchProView:"app/views/MatchProView",NVTagView:"app/views/NVTagView",NVFormView:"app/views/NVFormView",PaymentInformationView:"app/views/PaymentInformationView",PaymentMethodView:"app/views/PaymentMethodView",PremiumGiftsView:"app/views/PremiumGiftsView",ActivistCodeQuestionView:"app/views/ActivistCodeQuestionView",CheckboxListManagerView:"app/views/CheckboxListManagerView",RadiosView:"app/views/RadiosView",RecipientInformationView:"app/views/RecipientInformationView",ReCaptchaView:"app/views/ReCaptchaView",SelectView:"app/views/SelectView",ShippingInformationView:"app/views/ShippingInformationView",TargetsView:"app/views/TargetsView",TargetSelectView:"app/views/TargetSelectView",TextAreaView:"app/views/TextAreaView",TextFieldView:"app/views/TextFieldView",TicketHolderView:"app/views/TicketHolderView",TicketingLevelView:"app/views/TicketingLevelView",TicketingView:"app/views/TicketingView",TimeView:"app/views/TimeView",TrackingPixelView:"app/views/TrackingPixelView",TributeGiftView:"app/views/TributeGiftView",InternationalPhoneView:"app/views/InternationalPhoneView",CoverCostsCheckboxView:"app/views/CoverCostsCheckboxView",SignaturePadView:"app/views/SignaturePadView",EmployerOccupationRetiredCheckboxView:"app/views/EmployerOccupationRetiredCheckboxView",jquery:"lib/jquery","jquery.amd":"lib/jquery.amd","jquery.timepicker":"lib/jquery.timepicker",accounting:"lib/accounting",backbone:"lib/backbone","backbone.courier":"lib/backbone.courier","backbone.subviews":"lib/backbone.subviews/backbone.subviews",braintree:"lib/braintree",paypal:"lib/paypal",PayPalCommercePlatform:"lib/PayPalCommercePlatform",select2:"lib/select2",hbs:"lib/require-handlebars-plugin/hbs",Handlebars:"lib/require-handlebars-plugin/handlebars",mailcheck:"lib/mailcheck",modal:"lib/hustle/modal",moment:"lib/moment","node-querystring":"lib/node-querystring",payment:"lib/jquery.payment",spin:"lib/spin",underscore:"lib/lodash.custom",UAParser:"lib/ua-parser",ActionTagConfig:"config/actionTagConfig",uuid:"lib/uuid/uuid","rng-browser":"lib/uuid/rng-browser",ActionTagGeneratedConfig:"config/config.generated","PrimaryResources.resx":"resources/PrimaryResources.resx","Datepicker.resx":"resources/Datepicker",parseUrl:"lib/parseUrl",gtm:"lib/gtm",templates:"app/templates/all"},waitSeconds:10,hbs:{disableI18n:!0,templateExtension:"hbs",helperPathCallback:function(e){return"app/templates/_helpers/"+e}}}),function(){var e,t=function(){},n=/^(dir(xml)?|error|info|warn)$/,i=window.console=window.console||{},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","profile","profileEnd","table","trace","warn","markTimeline","time","timeEnd","timeStamp"],a=r.length;for(i.log||(i.log=t);a--;)e=r[a],i[e]||(i[e]=n.test(e)?i.log:t)}(),console.timeStamp("ActionTag parsed"),n("config",function(){}),function(){ion o(e){var t=-1,n=e.length,r=e[0],a=e[n/2|0],o=e[n-1];if(r&&"object"==typeof r&&a&&"object"==typeof a&&o&&"object"==typeof o)return!1;var s=u();s.false=s.null=s.true=s.undefined=!1;var l=u();for(l.array=e,l.cache=s,l.push=i;++t<n;)l.push(e[t]);return l}on h(n){ction w(e,t,n,i,r){if(n){var a=n(e);if(void 0!==a)return a}if(!Ie(e))return e;var o=Tn.call(e);if(!z[o])return e;var s=Kn[o];switch(o){case L:case $:return new s(+e);case q:case H:return new s(e);case j:return a=s(e.source,E.exec(e)),a.lastIndex=e.lastIndex,a}var u=Jn(e);if(t){var d=!i;i||(i=l()),r||(r=l());for(var h=i.length;h--;)if(i[h]==e)return r[h];a=u?s(e.length):{}}else a=u?p(e):ai({},e);return u&&(Rn.call(e,"index")&&(a.index=e.index),Rn.call(e,"input")&&(a.input=e.input)),t?(i.push(e),r.push(a),(u?Qe:li)(e,,d&&(c(i),c(r)),a):a}ion te(e,t,n,i,r,a){if(n){var o=n(e,t);if(void 0!==o)return!!o}if(e===t)return 0!==e||1/e==1/t;var s=typeof e,u=typeof t;if(!(e!==e||e&&Y[s]||t&&Y[u]))return!1;if(null==e||null==t)return e===t;var d=Tn.call(e),p=Tn.call(t);if(d==F&&(d=U),p==F&&(p=U),d!=p)return!1;switch(d){case L:case $:return+e==+t;case q:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case j:case H:return e==xn(t)}var h=d==O;if(!h){var f=Rn.call(e,"__wrapped__"),m=Rn.call(t,"__wrapped__");if(f||m)return te(f?e.__wrapped__:e,m?t.__wrapped__:t,n,i,r,a);if(d!=U)return!1;var g=e.constructor,v=t.constructor;if(g!=v&&!(Se(g)&&g instanceof g&&Se(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var y=!r;r||(r=l()),a||(a=l());for(var b=r.length;b--;)if(r[b]==e)return a[b]==t;var w=0;if(o=!0,r.push(e),a.push(t),h){if(b=e.length,w=t.length,(o=w==b)||i)for(;w--;){var _=b,x=t[w];if(i)for(;_--&&!(o=te(e[_],x,n,i,r,a)););else if(!(o=te(e[w],x,n,i,r,a)))break}}else si(t,,o&&!i&&si(e,;return r.pop(),a.pop(),y&&(c(r),c(a)),o}function ne(e,t,n,i,r){(Jn(t)?Qe:li)(t,function(t,a){var o,s,l=t,u=e[a];if(t&&((s=Jn(t))||ui(t))){for(var c=i.length;c--;)if(o=i[c]==t){u=r[c];break}if(!o){var d;n&&(l=n(u,t),(d=void 0!==l)&&(u=l)),d||(u=s?Jn(u)?u:[]:ui(u)?u:{}),i.push(t),r.push(u),d||ne(u,t,n,i,r)}}else n&&void 0===(l=n(u,t))&&(l=t),void 0!==l&&(u=l);e[a]=u})}ction oe(e,t,n,i,r,a){var o=1&t,s=2&t,l=4&t,u=16&t,c=32&t;if(!s&&!Se(e))throw new Cn;u&&!n.length&&(t&=-17,u=n=!1),c&&!i.length&&(t&=-33,c=i=!1);var d=e&&e.__bindData__;return d&&!0!==d?(d=p(d),d[2]&&(d[2]=p(d[2])),d[3]&&(d[3]=p(d[3])),!o||1&d[1]||(d[4]=r),!o&&1&d[1]&&(t|=8),!l||4&d[1]||(d[5]=a),u&&Fn.apply(d[2]||(d[2]=[]),n),c&&$n.apply(d[3]||(d[3]=[]),i),d[1]|=t,oe.apply(null,d)):(1==t||17===t?g:Z)([e,t,n,i,r,a])}function se(e){return ti[e]}nction ce(e){var t,n;return!!(e&&Tn.call(e)==U&&(t=e.constructor,!Se(t)||t instanceof t))&&(si(e,,void 0===n||Rn.call(e,n))}function de(e){return ni[e]}tion ge(e,t,n){var r;return t=i.createCallback(t,n,3),li(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ve(e,t,n){var r;return t=i.createCallback(t,n,3),be(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ye(e,t,n){var i=[];si(e,;var r=i.length;for(t=Q(t,n,3);r--&&!1!==t(i[r--],i[r],e););return e}tion Ce(e){return!0===e||!1===e||e&&"object"==typeof e&&Tn.call(e)==L||!1}function ke(e){return e&&"object"==typeof e&&Tn.call(e)==$||!1}unction Ee(e){var t=!0;if(!e)return t;var n=Tn.call(e),i=e.length;return n==O||n==H||n==F||n==U&&"number"==typeof i&&Se(e.splice)?!i:(li(e,,t)}on Ne(e){return"number"==typeof e||e&&"object"==typeof e&&Tn.call(e)==q||!1}e(e){for(var t=arguments,n=-1,i=X(t,!0,!1,1),r=t[2]&&t[2][t[1]]===e?1:i.length,a=fn(r);++n<r;)a[n]=e[i[n]];return a}ction Ge(e,t,n){t=i.createCallback(t,n,3);var r=-1,a=e?e.length:0;if("number"!=typeof a){var o;return li(e,function(e,n,i){if(t(e,n,i))return o=e,!1}),o}for(;++r<a;){var s=e[r];if(t(s,r,e))return s}}function Ke(e,t,n){var r;return t=i.createCallback(t,n,3),Ze(e,,r}{return e&&"number"==typeof e.length?p(e):He(e)} bt(){for(var n=[],i=-1,r=arguments.length,a=l(),s=le(),u=s===e,p=l();++i<r;){var h=arguments[i];(Jn(h)||pe(h))&&(n.push(h),a.push(u&&h.length>=b&&o(i?n[i]:p)))}var f=n[0],m=-1,g=f?f.length:0,v=[];e:for(;++m<g;){var y=a[0];if(h=f[m],(y?t(y,h):s(p,h))<0){for(i=r,(y||p).push(h);--i;)if(y=a[i],(y?t(y,h):s(n[i],h))<0)continue e;v.push(h)}}for(;r--;)(y=a[r])&&d(y);return c(a),c(p),v}function wt(e,t,n){var r=0,a=e?e.length:0;if("number"!=typeof t&&null!=t){var o=a;for(t=i.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[a-1]:f;return p(e,Bn(0,a-r))},t){return arguments.length>2?oe(e,17,p(arguments,2),null,t):oe(e,1,null,null,t)}(e,t,n){var i=!0,r=!0;if(!Se(e))throw new Cn;return!1===n?i=!1:Ie(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),B.leading=i,B.maxWait=t,B.trailing=r,Vt(e,t,B)}ction Qt(e){return null==e?"":xn(e).replace(ri,se)}unction Jt(e,t,n){var r=!0,a=t&&we(t);t&&(n||a.length)||(null==n&&(n=t),o=m,t=e,e=i,a=we(t)),!1===n?r=!1:Ie(n)&&"chain"in n&&(r=n.chain);var o=e,s=Se(o);Qe(a,}unction en(){}lts(K.Object(),n,ee.pick(K,N)):K;var fn=n.Array,mn=n.Boolean,gn=n.Date,vn=n.Function,yn=n.Math,bn=n.Number,wn=n.Object,_n=n.RegExp,xn=n.String,Cn=n.TypeError,kn=[],An=wn.prototype,En=n._,Tn=An.toString,Pn=_n("^"+xn(Tn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Sn=yn.ceil,In=n.clearTimeout,Dn=yn.floor,Mn=vn.prototype.toString,Nn=ue(Nn=wn.getPrototypeOf)&&Nn,Rn=An.hasOwnProperty,Fn=kn.push,On=n.setTimeout,Ln=kn.splice,$n=kn.unshift,Vn=),qn=ue(qn=wn.create)&&qn,Un=ue(Un=fn.isArray)&&Un,jn=n.isFinite,Hn=n.isNaN,zn=ue(zn=wn.keys)&&zn,Bn=yn.max,Wn=yn.min,Yn=n.parseInt,Gn=yn.random,Kn={};Kn[O]=fn,Kn[L]=mn,Kn[$]=gn,Kn[V]=vn,Kn[U]=wn,Kn[q]=bn,Kn[j]=_n,Kn[H]=xn,m.prototype=i.prototype;var Qn=i.support={};Qn.funcDecomp=!ue(n.WinRTError)&&D.test(h),Qn.funcNames="string"==typeof vn.name,i.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:i}},qn||(G=));var Zn=Vn?en,Jn=Un||Xn=ei=zn?Xn,ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=xe(ti),ii=_n("("+ei(ni).join("|")+")","g"),ri=_n("["+ei(ti).join("")+"]","g"),ai=function(e,t,n){var i,r=e,a=r;if(!r)return a;var o=arguments,s=0,l="number"==typeof n?2:o.length;if(l>3&&"function"==typeof o[l-2])var u=Q(o[--l-1],o[l--],2);else l>2&&"function"==typeof o[l-1]&&(u=o[--l]);for(;++s<l;)if((r=o[s])&&Y[typeof r])for(var c=-1,d=Y[typeof r]&&ei(r),p=d?d.length:0;++c<p;)i=d[c],a[i]=u?u(a[i],r[i]):r[i];return a},oi=function(e,t,n){var i,r=e,a=r;if(!r)return a
;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if((r=o[s])&&Y[typeof r])for(var u=-1,c=Y[typeof r]&&ei(r),d=c?c.length:0;++u<d;)i=c[u],void 0===a[i]&&(a[i]=r[i]);return a},si=function(e,t,n){var i,r=e,a=r;if(!r)return a;if(!Y[typeof r])return a;t=t&&void 0===n?t:Q(t,n,3);for(i in r)if(!1===t(r[i],i,e))return a;return a},li=function(e,t,n){var i,r=e,a=r;if(!r)return a;if(!Y[typeof r])return a;t=t&&void 0===n?t:Q(t,n,3);for(var o=-1,s=Y[typeof r]&&ei(r),l=s?s.length:0;++o<l;)if(i=s[o],!1===t(r[i],i,e))return a;return a},ui=Nn?ce,ci=ae(,di=ae(,pi=ae(,hi=Xe,fi=Ye,mi=ue(mi=gn.now)&&mi||gi=8==Yn(_+"08")?Yn:return i.after=Nt,i.assign=ai,i.at=ze,i.bind=Rt,i.bindAll=Ft,i.bindKey=Ot,i.chain=un,i.compact=dt,i.compose=Lt,i.constant=Gt,i.countBy=ci,i.create=me,i.createCallback=Kt,i.curry=$t,i.debounce=Vt,i.defaults=oi,i.defer=qt,i.delay=Ut,i.difference=pt,i.filter=Ye,i.flatten=gt,i.forEach=Qe,i.forEachRight=Ze,i.forIn=si,i.forInRight=ye,i.forOwn=li,i.forOwnRight=be,i.functions=we,i.groupBy=di,i.indexBy=pi,i.initial=yt,i.intersection=bt,i.invert=xe,i.invoke=Je,i.keys=ei,i.map=Xe,i.mapValues=Le,i.max=et,i.memoize=jt,i.merge=$e,i.min=tt,i.omit=Ve,i.once=Ht,i.pairs=qe,i.partial=zt,i.partialRight=Bt,i.pick=Ue,i.pluck=hi,i.property=tn,i.pull=xt,i.range=Ct,i.reject=rt,i.remove=kt,i.rest=At,i.shuffle=ot,i.sortBy=ut,i.tap=cn,i.throttle=Wt,i.times=on,i.toArray=ct,i.transform=je,i.union=Tt,i.uniq=Pt,i.values=He,i.where=fi,i.without=St,i.wrap=Yt,i.xor=It,i.zip=Dt,i.zipObject=Mt,i.collect=Xe,i.drop=At,i.each=Qe,i.eachRight=Ze,i.extend=ai,i.methods=we,i.object=Mt,i.select=Ye,i.tail=At,i.unique=Pt,i.unzip=Dt,Jt(i),i.clone=he,i.cloneDeep=fe,i.contains=Be,i.escape=Qt,i.every=We,i.find=Ge,i.findIndex=ht,i.findKey=ge,i.findLast=Ke,i.findLastIndex=ft,i.findLastKey=ve,i.has=_e,i.identity=Zt,i.indexOf=vt,i.isArguments=pe,i.isArray=Jn,i.isBoolean=Ce,i.isDate=ke,i.isElement=Ae,i.isEmpty=Ee,i.isEqual=Te,i.isFinite=Pe,i.isFunction=Se,i.isNaN=De,i.isNull=Me,i.isNumber=Ne,i.isObject=Ie,i.isPlainObject=ui,i.isRegExp=Re,i.isString=Fe,i.isUndefined=Oe,i.lastIndexOf=_t,i.mixin=Jt,i.noConflict=Xt,i.noop=en,i.now=mi,i.parseInt=gi,i.random=nn,i.reduce=nt,i.reduceRight=it,i.result=rn,i.runInContext=h,i.size=st,i.some=lt,i.sortedIndex=Et,i.template=an,i.unescape=sn,i.uniqueId=ln,i.all=We,i.any=lt,i.detect=Ge,i.findWhere=Ge,i.foldl=nt,i.foldr=it,i.include=Be,i.inject=nt,Jt(),!1),i.first=mt,i.last=wt,i.sample=at,i.take=mt,i.head=mt,li(i,,i.VERSION="2.4.1",i.prototype.chain=dn,i.prototype.toString=pn,i.prototype.value=hn,i.prototype.valueOf=hn,Qe(["join","pop","shift"],,Qe(["push","reverse","sort","unshift"],,Qe(["concat","slice","splice"],,i}var f,m=[],g=[],v=0,y=+new Date+"",b=75,w=40,_=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",x=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,E=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,P=/<%=([\s\S]+?)%>/g,S=RegExp("^["+_+"]*0+(?=.$)"),I=/($^)/,D=/\bthis\b/,M=/['\n\r\t\u2028\u2029\\]/g,N=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],R=0,F="[object Arguments]",O="[object Array]",L="[object Boolean]",$="[object Date]",V="[object Function]",q="[object Number]",U="[object Object]",j="[object RegExp]",H="[object String]",z={};z[V]=!1,z[F]=z[O]=z[L]=z[$]=z[q]=z[U]=z[j]=z[H]=!0;var B={leading:!1,maxWait:0,trailing:!1},W={configurable:!1,enumerable:!1,value:null,writable:!1},Y={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=Y[typeof window]&&window||this,Q=Y[typeof exports]&&exports&&!exports.nodeType&&exports,Z=Y[typeof module]&&module&&!module.nodeType&&module,J=Z&&Z.exports===Q&&Q,X=Y[typeof global]&&global;!X||X.global!==X&&X.window!==X||(K=X);var ee=h();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(K._=ee,n("underscore",[],function(){return ee})):Q&&Z?J?(Z.exports=ee a document");return t(e)}:t(e)}("undefined"!=typeof n)}else n=void }var H=[],z=H.slice,B=H.concat,W=H.push,Y=H.indexOf,G={},K=G.toString,Q=G.ha(e,t){return new X.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/gion(e,t){return t.toUpperCase()};X.fn=X.prototype={jquery:"2.1.4",constructo:funis.length]t=thion(eon(t,nhStackst:fut:fshStvObject||this.constructor(null)},push:W,sort:H.sort,splic:void 0!==i&&(o[t]=i));return o},X.extend({expando:"jQuery"+("2.1.4"+Math.random()).re:function(e){throw new Error(e){return"function"===X.type(e)e){return sArray(e)&&e-ptor.prototype, t;foG[K.call(e)arentNode.eplace(tetoLowall(eull==e?"":=typeof returne[r++],r)&l.push(r);re.guid=e.guid=e.guid||X.guid++,r},now:Date.now,support:Z}),X.each("Boolean Number String Function Array Dateobject "+t+"]"]=t.to.getEl,E=y),g};return r?i(o):o}var y,b,w,_,x,C,k,A,E,T,P,S,I,D,M,N,R,F,O,L="sizzle"+1*new Date,$=e.docuion(e,t){return e===t&&(P=!0),0},B=1<<31,W={}.hasOwnProperty,Y=[],G=Y.p+)if(e[n]===t)return n;return-1},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(re),de=new RegExp("^"+ne+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+X+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1rCo023&i|56320)},_e=function(){S()};try{Q.apply(Y=Z.call($.childNodes),$.childN=0;e[n++]=t[i++];);e.lengt;return!!t&&"HTM:l[r]===$?on(e,n){return t(ereturn t(n,erDocume(t))&&i, unrecognize.splice(n[i]for(;t=e[i++];)n+=_(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"pre[3]="===e[3][2]=n.slice(0&&e.no&e.ge.sliceurn(p-=function(e){retut,null,tion(n){retuinnerTexode)&&1=ash;r},root!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(eked||"optnction(e.nodeon(e){return!w.pseudos.empty(e)},header:function(e){rn(e){re"butte"))||"t)},firstast:s(nction(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<tn=1;n<+t:n;-n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,paName.toLowerCase()&&t.type===e}}(y);for(y in{==n||"button"===n)&&t.type===e}}(y);return u.prototype=w.filters=w.pseudosth:s?t.errore,v(r,i)),a.test(e)&&l(t.parentNode)||t),n},b.sortStable=L.split("").sort(z).join("")===L,b.detectDuposifirstChild.getAttribute("hreft,"type"===t.toLoirstChild.gewerull==ee(t))&&i.specified?i.value:null}),t}(e);X.find=re,X.expr=re.selectors,X.expr[":"]=X.expr.pseudos,X.unique=re.uniqueSort,X.text=re.getText,X.isXMLDoc=re.isXML,X.contains=re.contains;var ae=X.expr.match.needsContext,oe=/^<(\w+)\s*\/?>(?:<\/\1>|ion(e){return 1===elector?this.selector+" "+e:e,i},filter:function(e){return this.hise.test(e)?X(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]e.context),X.makeArray(e,this))}).prototype=X.fn,le=X(J);var ce=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!.is(n))bType&&e!==t&&n.push.containStack(his.ue(X.merge(this.get(),X(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObjeturn t&&11!==t.nodeType?t:null},parents:function(e){return X.dir(e,"parentNode")},parentsUntil:function(e,t,n){return X.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){returnturn X.dir(e,"previousSibling")},nextUntil:function(e,t,n){return X.drn X.dir(e.parentNode||{}).firstChild,e)},children:function(e){return Xur.reverse()),this.pushStack(r)}})function(){return!!),i.p|l.resolveWith(i,a), X.ready.promise().done(e),this},X.extend({(e){e?r("ready"),X(J).offer("load",s,!1))),fn r?e:u?t.cale||9===e.nodeType||!+e.nodeType},l.uid=1,l.accep.cace foey(e)];this.seength;fohis.cachete this.cache[e[this.expando]]}};var ge=new l,ve=new l,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/rn ve.hasData(e)||ge.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:fun(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.l,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.rem.makeArrl(e,o,a)),!i{ge.remove(e,[t+"queuss"!==n[0]&&X.dequeue(this,e)})},dequeue:function(e){return this.each(function()){returnadd(s));return s(),r.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["|!X.contains(e.ownerDocumentNode(!0).lastChild.defaultValue}();Z.focusinBubbles="onfocusin"in e;var ke=/^key/,Ae=/^(?:mouse|pointer|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,Te=/^([^.]*)(?:\p.push(.handle,ge.remove(e,"events"))}},trigger:function(t,n,i,r){var a,o,s,l,u,c,d,p=[i||J],h=Q.call(t,"type")?t.type:t,f=Q.call(t,"namespace")?t.namespace.split("."):[];if(o=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(h+X.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[X.expando]?t:new X.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:X.makeArray(n,[t]),d=X.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!X.isWindow(i)){for(l=d.delegateType||h,Ee.test(l+h)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(i.ownerDocument||J)&&p.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=p[a++])&&!t.isPropagationStopped();)t.type=a>1?l:d.bindType||h,c=(ge.get(o,"events")||{})[t.type]&&ge.get(o,"handle"),c&&c.apply(o,n),(c=u&&o[u])&&c.apply&&X.acceptData(o)&&!1===(t.result=c.apply(o,n))&&t.preventDefault();return t.type=h,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!X.acceptData(i)||u&&X.isFunction(i[h])&&!X.isWindow(i)&&(s=i[u],s&&(i[u]=null),X.event.triggered=h,i[h](),X.event.triggered=void 0,Dispatch.em:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCodharCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX scre(e.whtNode),o.filter?o.filter(e,a):e},special:{lis.focus)return this.focus(),!1},delegthis.blur)return this.blur(),!1},delegat"input"))return X.nodeName(e.target,"inalEvent.rPrevented()&&n.&&e.remoamp||X.now(),this[X.expando]=!0},X.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.propagation&&e.stopPropagagation(),this.stopPropagation()}},X.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointery(this,arguments),e.type=t),n}}}),Z.focusinBubbles||X.each({tener(e,n,!0),ge.n(){,n,i(){X.even(){X.event.trieturn X.event.trigger(e,t,n,!0)}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Se=/<([\w:]+)/,Ie=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.tgth>0&&g(o,!l&r.type||""delete ve.cache[n[ve=e)})},pe){h(thinsertBrentNoertBefoode.re),e.teon(){nd(e)},null,|e.nodeType)?this:this.remove()},detach:function(e){rent.replace(Fe,"")))}return this}}),X.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"et());return this.pushStack(i)}});var Le,$e={},Ve=/^margin/,qe=new RegExp("uChild(a),a in t)e.style[a]=o[a];return r};var je=/^(none|table(?!-c[ea]).+)/,He=new RegExp("^("+we+")(.*)$","i"),ze=new RegExp("^([+-])=("+we+")","i"),Be={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},c===(0===n||X.isNumeric(a)?a||0:rcss(e,"boxSizing",!1,r),r):0)}}}),X.cssHooks.marne-block"},x,[e,"marginRight"])}),X.each({margest(e)||(X.cssHooks(e,tow:fu,hide:fX(this).show():X(this).hide()})}}),X.Tween=Snit=:S.popHooks._default.set(this),this}},S.prototype.init.prototype=S.prot&"auow+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrolentNode&&(e.elem[e.prop]=e.now)}},X.easing={li{return.5-Math.cos(e*Math.PI)/2}},X.fx=S.prototype.init,X.fx.step={};var Ge,Ke,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),d=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]}t[n]=et[n]e,t){t?Xe.eue&&X.dequeue(this,nd().anis.eac,1));!tsh.call(this);delete n.finish})}})s):this.animate(D(t,!0),e,i,r)}}),X.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"){return this.animate(tn.length||Xe()?X.fx.start():X.timers.poerval(X.fxion(){clearInterval(Ke),Ke=null},X.fx.speeds={slow:600,fdio",Z.radioValue="t"===e.value}();var tt,nt=X.expr.attrHandle;X.fn.extend({attr:function(e,t){return me(this,X.attr,e,tnction(){X.remove+""),n):voi&(e[i]=!1),e.removeAtute("type",tAttr(e,n):e.setAttribute(n,n),n}},X.each(X.expr.toLowerCase():null,nt[t]=a),r}});var it=/^(?:input|select|texta,X.prop,e,t{delete this[X.propFix[e]||e]})}}),X.extend({propFix:{for:"r&&null!==(i=r.get(e,t))?nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSeleed={get:function(e){return null}}),X.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap",ropFix[this.toLowerCase()]=this});var rt=/[\=o&&(n.class=o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeCl.get(this,"indexOf(t)>=0)return!0;return!1}n.replace(at,""):null==n?"":n)}}})urn null!=t?t),a)eturn n||(e.selectedIndex=-1),a}tribute("value")?"on":e.value})}),X.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyon(t,null,e,n):this..moust,n){re(e,t){ret,t,n,i){retf(e,"**"):this.off(t,e||"**",n)}});vation(e){reth||X.error("Invalid XML: "+e),t};var lt=/#.*$/,ut=/([?&])_=[^&]*/,ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pt=/^(?:GET|HEAD)$/,ht=/^\/\//,ft=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,mt={},gt={},vt="*/".concat("*"),yt=e.location.href,bt=ft.exec(yt.toLowerCase())||[];X.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt,type:"GET",isLocal:dt.test(bt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":X.parseJSON,"text xml":X.parseXML},flatOptionettings),t):$(X.ajaxSettings,e)},ajaxPrefiltee n(-1,"t,n){returturn X.get(e,void 0,t,"s,dataType:r,,async:!1,global:!1,t;return e}ngth?).wrapAceWith(this.childNodes)}fsetWidth<=0&&e.offsetHreturn!X.expr.filters.hidden(e)};var wt=/%20/g,_t=/\[\]$/,xt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|surn i.join("&").replace X.param(this.se:n.replace(xt,"\r\n"n new XMLHttpRequest}catch(e){}};var At=0,Et={},Tt={0:200,1223:204},Pt=X.ajaxSettings.xhr();e.attacction(){for(var e in Et)Et[e]()}),Z.cors=!!Pt&&"withCredentials"in Pw e}},abort:function(){t&&t()}}}),X.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)scion(e){return X.globalEval(e),e.crossDomain&&(e.type="0])},abort:function(){n&&n()}}}});var St=[],It=/(=)\?(?=&|$)|\?\?/;X.ajaxSetupdo+"_"+ot++;return this[e]=!0,e&&a(o[0]),o=aove(),X.merge([],i.childNoda||[e.responseText,t,e])}),this},X.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxunction(e){return this.onn(t){return e===t.elem}).length};var Mt=e.document.docin t?t.using.call(e,p+n.pageXOleft-X.css(n,e=e.offsetParent;return e||Mt})}}),X.each({scrollLeft:"pageX=a},t,r,arguments.lengt(n)?X(e).position()[t]+"px":n})}),X.eachn,i,o)},t,a?i:void 0,a,null)}})}),X.fn.size=function(){return this.length},X.fn.andSelf=X.fn.addBack,"function"==typeof n&&n.amd&&n("jquery",[],function(){return X});var Nt=e.j&&e.jQuery===X&&(e.jQuery=Nt),X},X}),n("lib/jquee){return/\=e),n(L,r,[r,e]),n($,r,[r,e]))}r=e.extend({},E,r);var D,M,N,R,F,O=r.success,L=r.error,$=r.complete,V=r.dataFilter,q=r.callbackParameter,U=r.callback,j=r.cache,H=r.pageCache,z=r.charset,B=r.url,W=r.data,Y=r..fail(L),O=e.resolver),r.abort=function(){!G++&&K()},!1===n(r.beforeSend,r,[r])||G?r:(B=B||l,W=W?"string"==typeof W?W:e.param(W,r.traditional):l,B+=W?i(B)+W:l,q&&(B+=i(B)+encodeURIComponent(q)+"=?"),!j&&!H&&(B+=i(B)+"_"+(new Date).getTime()+"="),B=B.replace(/=\?(&|$)/,"="+U+"$1"),H&&(D=k[B])?D.s?S(D.s[0]):I(D):(_[U]=t,N=e(y)[0],N.id=d+A++,z&&(N[s]=z),T&&T.version()<11.6?(R=e(y)[0]).text="document.getElementById('"+N.id+"')."+h+"()":N[o]=o,P&&(N.htmlFotch(e){}e=f]=N[h]=null,C[v](N),R&&C[v](R)},C[c](N,M=C.firstChild),R&&C[c](R,M),F=Y>0&&setTimeout(function(){I(w)},Y)),r)}var a,o="async",s="charset",l="",u="error",c="insertBefore",d="_jqjsp",p="onclick",h="on"+u,f="onload",m="onreadystatechange",g="readyState",v="removeChild",y="<script>",b="success",w="timeout",_=window,x=e.Deferred,C=e("head")[0]||document.documentElement,k={},A=0,E={callback:d,callbackParameter:"callback",url:location.href},T=_.opera,P=!!e("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;return r.setup=function(t){e.extend(E,t)},e.jsonp=r,e}),n("lib/jquery.ui",[i]&&(t[i]=n[i]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UPhis[0].ow.id||(this.id="uiid)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.un(t,n,i){rn,!isNaN(NaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).j).css(a,i(this,t,!0,r)+"px")}ject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-bs,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.t},n)}):t.apply(this,argumentsnction(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind)return i;r=r.paren|[],a0]]&&a[r][1].apply(e.element,n)}},e.extend(e.ui,{datepicker:{version:"1.11.4"}});var l;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(rn s(this._default:r&&this.rner-all'></div>"))ed&&this._disker._showD,this._formatDate(n.dpDiv.css("displogInput[0],"datepicsName).empty(),l==ction(e){return e==this._disabledInputs.lInputs[t]ance data for thise(u),this._updateD){this._optionDatepe);t&&this._updateDer(n),this._updateAld(n,t),n?ttDefault(),tKey||i<" tepicker(i))}catus(),e.datepicker.rshtml),n=t.yearshsabled")&&!e.top+a>u&& n=e(t).offset()his.dpDiv)))bind(".ui-datepickere.datepicker),i),this._fyChange(r),this.fyChange(a)a.currentMoon(t){this._t.focus(),this._lch(function=e.getDay();or(Math.ro=v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.fldefault:d+=e.chdefaue.settings[t]:thisar():0,this._adjget(e,"defaultD),this._daylightSaving()>12?e.gt.val(i?"r,e.currentMonthetAttribute("d=C}return w+=u,e._keyEven&&v?"":"&#xa0;")&"Y"!==n||this._,r=n&&t<n?n:t;ectedYear,e.selecte1,1]:"number"==e(e,this._get(e,ust(new Date(e,t,32)return new Date(tMonth())),)>=o)&&(!s||t.getames:this._gt"),r,this._getFordatepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";return e}),n("jquery.amd",["lib/jquery.ui"],function(e){return e}),function(e,i){function r(t){function n(e,t){return new Function("constructor","  return function "+e+'(){\n    // wrapper function created dynamically for "'+e+'" constructor\n    // to allow instances to be identified in the debugger\n    constructor.apply(this, arguments);\n  }')(t)}function i(e,i){if(e&&e.hasOwnProperty(a)){var o=e[a],s=e.hasOwnProperty("constructor")?e.constructor:this;e=t.extend(e,{constructor:n(o,s)})}return r.call(this,e,i)}var r=e.Backbone.View.extend,a="__name__";e.Backbone.Model.extend=e.Backbone.Collection.extend=e.Backbone.Router.extend=e.Backbone.View.extend=i}var a=!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());if("function"==typeof n&&n.amd)n("backbone",["underscore","jquery.amd","exports"],function(t,n,o){e.Backbone=i(e,o,t,n),a&&r(t)});else if("undefined"!=typeof exports){var o=t("underscore");i(e,exports,o),a&&r(o)}else e.Backbone=i(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$),a&&r(e._)}(this,function(e,t,n,i){var r=e.Backbone,a=[],o=a.slice;t.VERSION=tion(){return e.Backbone=r,this},t.emulateHTTP=!1,t.etext:rn aete this&&c(n,t),i&&c(his._listen]]callback.apply(n.ctx,t);return}};n.each({li||(r=this),t[e](i,r,this),this}}),s.bind=s.on,s.unbind=snitialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"idreturn n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){re){rion(nding=id 0,net(t,n.exte.changed):n.has(th])||((i||his._previousAttribclone(his,e&&i.waite",t/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.conturn!thi,n.extend(end(t,{validationError:i})),!1)}}),n.each(["keys","values","pairs","invert","pick","omit"],function(e){e in n&&(d.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].aeset(e,n.extend({silent:!0},t))},h={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};n.extend(p.prototype,s,{model:unctirn tset(e,n.extend({merge:!1},t,f))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,a,o,s;for(r=0,a=e.length;r<a;r++)(s=e[r]=this.get(e[r]))&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,h),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,a,o,s,l,u,c,p=t.at,f=this.model,m=this.comparator&&null==p&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,_=t.merge,x=t.remove,C=!(m||!w||!x)&&[];for(r=0,a=e.length;r<a;r++){if(l=e[r]||{},o=l instanceof d?s=l:l[f.prototype.idAttribute||"id"],u=this.get(o))x&&(b[u.cid]=!0),_&&(l=l===s?s.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),m&&!c&&u.hasChanged(g)&&(c=!0)),e[r]=u;else if(w){if(!(s=e[r]=this._prepareModel(l,t)))continue;v.push(s),this._addReference(s,t)}s=u||s,!C||!s.isNew()&&b[s.id]||C.push(s),b[s.id]=!0}if(x){for(r=0,a=this.length;r<a;++r)b[(s=this.models[r]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||C&&C.length)if(m&&(c=!0),this.length+=v.length,null!=p)for(r=0,a=v.length;r<a;r++)this.models.splice(p+r,0,v[r]);else{C&&(this.models.length=0);var k=C||v;for(r=0,a=k.length;r<a;r++)this.models.push(k[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,a=v.length;r<a;r++)(s=v[r]).trigger("add",s,this,t);(c||C&&C.length)&&this.trigger("sort|thise,n.th-1);re this.at(0); o.a._byId[e.id]||this._byId[e.cid]},at:function!==t.get(ntion(his.trn n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){i[e.reset?"reset":"set"](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},E(this,e),),r&&re},parw this.=0,this.modelsthis,i.validat("all",this._onMo("all",this._o.trigger.apply(this,arguments))}}),n.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],funft(this.models),n[e].apply(n,t)})}),n.each(["groupBy","countBy","sortBy","indexBy"],fun)};return n[e](this.models,r,i)})});var m=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,v)),this.options=e,this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},g=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];n.extention(e){return this.$el.find(e)},initialize:function(){},rendeove(),this.==n&&this.delegthis.$el.on(a,o,i.delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className"));this.setElement(t.$("<"+n.result(this,"tagNarn i.trigger("request",i,l,r),l};var y=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),b={create:"POST",update:"PUT",patch:"PATCH",den t.$.ajax.applnitialize.apply(this,arguments)},_=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,C=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,y.triggeunction(ern t.history;)this.route(e,p("^"+e+"(?:\\?([\\:e?decodeURIComponent(e):null})}}),d.epe,e),or,i,t),e.trigger("error",e,i,t)}};return t}),n(t.create?Object.create(null):{}}function t(t,n){if(0==t[n].length)return t[n]=e();var i=e();for(var r in t[n])i[r]=t[n][r];return t[n]=i,i}function n(e,i,r,a){var o=e.shift();if(o){var s=i[r]=i[r]||[];"]"==o?g(s)?""!=a&&s.push(a):"object"==typeof s?s[v(s).length]=a:s=i[r]=[i[r],a]:~m(o,"]")?(o=o.substr(0,o.length-1),!w.test(o)&&g(s)&&(s=t(i,r)),n(e,s,o,a)):(!w.test(o)&&g(s)&&(s=t(i,r)),n(e,s,o,a))}else g(i[r])?i[r].push(a):i[r]="object"==typeof i[r]?a:void 0===i[r]?a:[i[r],a]}function i(t,i,r){if(~m(i,"]")){var a=i.split("[");n(a,t,"base",r)}else{if(!w.test(i)&&g(t.base)){var o=e();for(var s in t.base)o[s]=t.base[s];t.base=o}c(t.base,i,r)}return t}function r(e){if("object"!=typeof e)return e;if(g(e)){var t=[];for(var n in e)t.push(e[n]);return t}for(var i in e)e[i]=r(e[i]);return e}function a( y(v(e),function(n){i(t,n,e[n])}),r(t.base)}function o(t){return r(b(String(t).split("&"),function(e,t){var n=m(t,"="),r=d(t),a=t.substr(0,r||n),o=t.substr(r||n,t.length),o=o.substr(m(o,"=")+1,o.length);return""==a&&(a=t,o=""),""==a?e:i(e,p(a),p(o))},{base:e()}).base)}function s(e,t){if(!t)throw new TypeError("stringify expects an object");return t+"="+encodeURIComponent(e)}function l(e,t){var n=[];if(!t)throw new TypeError("stringify expects an object");for(var i=0;i<e.length;i++)n.push(_(e[i],t+"["+i+"]"));return n.join("&")}function u(e,t){for(var n,i=[],r=v(e),a=0,o=r.length;a<o;++a)""!=(n=r[a])&&i.push(null==e[n]?encodeURIComponent(n)+"=":_(e[n],t?t+"["+encodeURIComponent(n)+"]":encodeURIComponent(n)));return i.join("&")}function c(e,t,n){var i=e[t];void 0===i?e[t]=n:g(i)?i.push(n):e[t]=n}function d(e){for(var t,n,i=e.length,r=0;r<i;++r)if(n=e[r],"]"==n&&(t=!1),"[(/\+/g," "))}catch(t){return e}}var h={},f=Object.prototype.toString,m="function"==typeof Array.prototype.indexOf?fu+)if(e[n]===t)retturn"[object Arr(var n in e)t.push(n);return t},y="function"(var n=0;n<e.length;n++)t(e[n])},b=function(e,t,n){if("function"==typeof e.reduce)return e.reduce(t,n);for(var i=n,r=0;r<e.length;r++)i=t(i,e[r]);return i},w=/^[0-9]+$/;h.parse=function(e){return null==e||""==e?{}:"object"==typeof e?a(e):o(e)};var _=h.stringify=function(e,t){return g(e)?l(e,t):"[object Object]"==f.call(e)?u(e,t):"string"==typeof e?s(e,t):t+"="+encodeURIComponent(String(e))};return h}),n("NVTagCallbacks",["underscore"],function(e){return function(t,n){if("nvtag_callbacks"in window&&t in window.nvtag_callbacks&&e.isArray(window.nvtag_callbacks[t])){var i=null;n=e.reduce(window.nvtag_callbacks[t],function(t,n){return i=e.isFunction(n)&&n(t),e.isObject(i)?i:t},n)}if("nvtag_plugins"in window&&e.isArray(window.nvtag_plugins)){var r=null;n=e.reduce(window.nvtag_plugins,function(n,i){return r=e.isObject(i)&&e.isFunction(i[t])&&i[t](n),e.isObject(r)?r:n},n)}return n}}),function(e,t){"use strict";var i="model",r="name",a="type",o="vendor",s="version",l="t[n]peof e&&-1!==f(t).indexOf(f(e))},f=functd\void 0===t?e:e.substring(0,255)},v=function(e,t){for(var n,i,r,a,o,s,l=0;l<t.length&&!o;){var u=t[l],c=t[l+1];for(n=i=0;n<u.length&&!o;)if(o=u[n++].exec(e))for(r=0;r<c.length;r++)s=o[++i],a=c[r],"object"==typeof a&&a.length>0?2===a.length?this[a[0]]="function"==typeof a[1]?a[1].call(this,s):a[1]:3===a.length?this[a[0]]="function"!=typeof a[1]||a[1].exec&&a[1].test?s?s.replace(a[1],a[2]):void 0:s?a[1].call(this,s,a[2]):void 0:4===a.length&&(this[a[0]]=s?a[3].call(this,s.replace(a[1],a[2])):voreturn"?"===n?void 0:n;return e},b={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},w={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[s,[r,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[s,[r,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[r,s],[/opios[\/ ]+([\w\.]+)/i],[s,[r,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[s,[r,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[r,s],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[s,[r,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[s,[r,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[s,[r,"WeChat"]],[/konqueror\/([\w\.]+)/i],[s,[r,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[s,[r,"IE"]],[/yabrowser\/([\w\.]+)/i],[s,[r,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[r,/(.+)/,"$1 Secure Browser"],s],[/\bfocus\/([\w\.]+)/i],[s,[r,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[s,[r,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[s,[r,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[s,[r,"Dolphin"]],[/coast\/([\w\.]+)/i],[s,[r,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[s,[r,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[s,[r,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[r,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[r,/(.+)/,"$1 Browser"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],s],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[r,s],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[r],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[r,"Facebook"],s],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[r,s],[/\bgsa\/([\w\.]+) .*safari\//i],[s,[r,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[s,[r,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[r,"Chrome WebView"],s],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[s,[r,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[r,s],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[s,[r,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[s,r],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[r,[s,y,b]],[/(webkit|khtml)\/([\w\.]+)/i],[r,s],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[r,"Netscape"],s],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[s,[r,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[r,s]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",f]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",f]]],
device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[i,[o,"Samsung"],[a,u]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[i,[o,"Samsung"],[a,l]],[/\((ip(?:hone|od)[\w ]*);/i],[i,[o,"Apple"],[a,l]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[i,[o,"Apple"],[a,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[i,[o,"Huawei"],[a,u]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[i,[o,"Huawei"],[a,l]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[i,/_/g," "],[o,"Xiaomi"],[a,l]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[i,/_/g," "],[o,"Xiaomi"],[a,u]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[i,[o,"OPPO"],[a,l]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[i,[o,"Vivo"],[a,l]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[i,[o,"Realme"],[a,l]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[i,[o,"Motorola"],[a,l]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[i,[o,"Motorola"],[a,u]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[i,[o,"LG"],[a,u]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[i,[o,"LG"],[a,l]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[i,[o,"Lenovo"],[a,u]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[i,/_/g," "],[o,"Nokia"],[a,l]],[/(pixel c)\b/i],[i,[o,"Google"],[a,u]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[i,[o,"Google"],[a,l]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[o,"Sony"],[a,l]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[i,"Xperia Tablet"],[o,"Sony"],[a,u]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[i,[o,"OnePlus"],[a,l]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[i,[o,"Amazon"],[a,u]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[i,/(.+)/g,"Fire Phone $1"],[o,"Amazon"],[a,l]],[/(playbook);[-\w\),; ]+(rim)/i],[i,o,[a,u]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[i,[o,"BlackBerry"],[a,l]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[i,[o,"ASUS"],[a,u]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[i,[o,"ASUS"],[a,l]],[/(nexus 9)/i],[i,[o,"HTC"],[a,u]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[o,[i,/_/g," "],[a,l]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[i,[o,"Acer"],[a,u]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[i,[o,"Meizu"],[a,l]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[i,[o,"Sharp"],[a,l]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[o,i,[a,l]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[o,i,[a,u]],[/(surface duo)/i],[i,[o,"Microsoft"],[a,u]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[i,[o,"Fairphone"],[a,l]],[/(u304aa)/i],[i,[o,"AT&T"],[a,l]],[/\bsie-(\w*)/i],[i,[o,"Siemens"],[a,l]],[/\b(rct\w+) b/i],[i,[o,"RCA"],[a,u]],[/\b(venue[\d ]{2,7}) b/i],[i,[o,"Dell"],[a,u]],[/\b(q(?:mv|ta)\w+) b/i],[i,[o,"Verizon"],[a,u]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[i,[o,"Barnes & Noble"],[a,u]],[/\b(tm\d{3}\w+) b/i],[i,[o,"NuVision"],[a,u]],[/\b(k88) b/i],[i,[o,"ZTE"],[a,u]],[/\b(nx\d{3}j) b/i],[i,[o,"ZTE"],[a,l]],[/\b(gen\d{3}) b.+49h/i],[i,[o,"Swiss"],[a,l]],[/\b(zur\d{3}) b/i],[i,[o,"Swiss"],[a,u]],[/\b((zeki)?tb.*\b) b/i],[i,[o,"Zeki"],[a,u]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[o,"Dragon Touch"],i,[a,u]],[/\b(ns-?\w{0,9}) b/i],[i,[o,"Insignia"],[a,u]],[/\b((nxa|next)-?\w{0,9}) b/i],[i,[o,"NextBook"],[a,u]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[o,"Voice"],i,[a,l]],[/\b(lvtel\-)?(v1[12]) b/i],[[o,"LvTel"],i,[a,l]],[/\b(ph-1) /i],[i,[o,"Essential"],[a,l]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[i,[o,"Envizen"],[a,u]],[/\b(trio[-\w\. ]+) b/i],[i,[o,"MachSpeed"],[a,u]],[/\btu_(1491) b/i],[i,[o,"Rotor"],[a,u]],[/(shield[\w ]+) b/i],[i,[o,"Nvidia"],[a,u]],[/(sprint) (\w+)/i],[o,i,[a,l]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[o,"Microsoft"],[a,l]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[i,[o,"Zebra"],[a,u]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[i,[o,"Zebra"],[a,l]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[o,i,[a,"console"]],[/droid.+; (shield) bui/i],[i,[o,"Nvidia"],[a,"console"]],[/(playstation [345portablevi]+)/i],[i,[o,"Sony"],[a,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[i,[o,"Microsoft"],[a,"console"]],[/smart-tv.+(samsung)/i],[o,[a,c]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[o,"Samsung"],[a,c]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[o,"LG"],[a,c]],[/(apple) ?tv/i],[o,[i,"Apple TV"],[a,c]],[/crkey/i],[[i,"Chromecast"],[o,"Google"],[a,c]],[/droid.+aft(\w)( bui|\))/i],[i,[o,"Amazon"],[a,c]],[/\(dtv[\);].+(aquos)/i],[i,[o,"Sharp"],[a,c]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[o,g],[i,g],[a,c]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,c]],[/((pebble))app/i],[o,i,[a,"wearable"]],[/droid.+; (glass) \d/i],[i,[o,"Google"],[a,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[i,[o,"Zebra"],[a,"wearable"]],[/(quest( 2)?)/i],[i,[o,"Facebook"],[a,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[o,[a,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[i,[a,l]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[i,[a,u]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,u]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[a,l]],[/(android[-\w\. ]{0,9});.+buil/i],[i,[o,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[s,[r,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[s,[r,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[r,s],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[s,r]],os:[[/microsoft (windows) (vista|xp)/i],[r,s],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[r,[s,y,w]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[r,"Windows"],[s,y,w]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[s,/_/g,"."],[r,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[r,"Mac OS"],[s,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[s,r],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[r,s],[/\(bb(10);/i],[s,[r,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[s,[r,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[s,[r,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[s,[r,"webOS"]],[/crkey\/([\d\.]+)/i],[s,[r,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[r,"Chromium OS"],s],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[r,s],[/(sunos) ?([\w\.\d]*)/i],[[r,"Solaris"],s],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[r,s]]},x=function(t,n){if("object"==typeof t&&(n=t,t=void 0),!(this instanceof x))return new x(t,n).getResult();var l=t||(void 0!==e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),u=nbrowser),e.mture=void 0,v.c]=void 0,v.call(e,l,u.device),e},this.getEngine=function(){var e={};return e[r]=void 0,e[s]=void 0,v.,e[s]=void 0,v..getDevice(),cpu:this.getCPU()}},this.getUAe&&e.length>255?g(e,255):e,this},this.setUA(l),this};x.VERSION="0.7.31",x.BROWSER=p([r,s,"major"]),x.CPU=p(["architecture"]),x.DEVICE=p([i,o,a,"console",l,c,u,"wearable","embedded"]),x.ENGINE=x.OS=p([r,s]),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports.UAParser=x):"function"==typeof n&&n.amd?n("UAParser",[],function(){return x}):void 0!==e&&(e.UAParser=x);var C=void 0!==e&&(e.jQuery||e.Zepto);if(C&&!C.ua){var k=nget=functt();for(var n in t)C.ua[n]=t[n]}}}("object"==typeof window?window:this),n("deviceInfo",["UAParser"],function(e){var t=/\bMobile(?:\/([\w\.]+))?\b/gi,n={browser:[[/(DuckDuckGo)\/([\w\.]+)/i],[e.BROWSER.NAME,e.BROWSER.VERSION]]},i=new e(n),r=i.getResult();r.browser=r.browser||{},r.device=r.device||{};var a=r.browser.name;return a&&(a=a.trim().replace(/\s+/g,"_").toLowerCase()),"duckduckgo"===a&&!r.device.type&&r.ua&&t.test(r.ua)&&(r.device.type="mobile"),{ua:r.ua,mobile:"mobile"===r.device.type,ie:"ie"===a||"iemobile"===a,browser:a,version:r.browser.major,deviceType:(r.device.type||"desktop").toLowerCase()}}),n("databag_config",[],function(){return{canonical:{email:"EmailAddress",firstName:"FirstName",lastName:"LastName"},allowlist:["Prefix","FullName","FirstName","MiddleName","LastName","Suffix","DateOfBirth","Pronoun","Genders","Race","Ethnicity","SexualOrientation","PreferredLanguage","PreferredLanguages","AddressLine1","AddressLine2","City","StateProvince","PostalCode","Country","HomePhone","MobilePhone","WorkPhone","EmailAddress","WorkEmail","TwitterHandle","FacebookProfileUrl","HomePhoneCountryCode","MobilePhoneCountryCode","WorkPhoneCountryCode","OrganizationName","OrganizationEmailAddress","OrganizationPhone","OrganizationPhoneCountryCode","Employer","Occupation","WorkAddressLine1","WorkAddressLine2","WorkCity","WorkStateProvince","WorkPostalCode","SpouseName","email","firstName","lastName"],denylist:["Comment","version","Account","ExpirationMonth","ExpirationYear","formType","TenantName","Cvv2","ProvideAmountOptions","SelectAmount","OtherAmount","SuggestedAmount","Amount","MarketSource","AttributedContactIds","ContributionDate","ContributionProcessedOn","IsRecurring","MailingId","SelectedFrequency","SourceCodeIds","ngpvanuser","TicketHolders","Tickets","ConfirmedEligibility","TicketHolders.Index","TicketHoldersJson","CampaignEventId","AdditionalContributionValue","YesSignMeUpForEmailUpdates","YesSignMeUpForUpdatesForBinder","ProcessingCurrency","form_build_id","form_id","op","type","oberon_form_id","form_token","AttendeeFirstName","AttendeeLastName","TicketLevel","TicketCount","indexed_on","modified_on","formCaptureImage","CaptchaResponseToken","CaptchaSecureToken","CaptchaTimeElaspedMs","BrowserName","DeviceType"],pushPullDenylist:["CCType","PnRef","ContributionDateTimeStamp","ContributionType","FullName","ConfirmationID","confirmationID","ContributionAmount","CC4Digit"]}})ts/zip",VGS_ENVIRONMENT:"live"}}),n("ActionTagConfig",["jquery.amd","ActionTagGeneratedConfig"],function(e,t){function nction(){return!!e(this).data(t)}).first().data(t)}var i={DATABAG_SYNC_DOMAINS:n("databagSyncDomains"),DATABAG_ENDPOINT:n("databagEndpoint"),DATABAG_COOKIE_CONSENT:n("databagCookieconsentmode"),DATABAG_SHARE_SETTING:n("databag")},r={DATABAG_SYNC_DOMAINS:["https://secure.everyaction.com","https://secure.ngpvan.com"],DATABAG_ENDPOINT:"https://profile.ngpvan.com/",PAYPAL_SESSION_TIMEOUT_MINUTES:60,APPLE_PAY_SESSION_TIMEOUT_MINUTES:8,VGS_POST_TIMEOUT_SECONDS:30,MATCH_PRO_SCRIPT_URL:"https://doublethedonation.com/api/js/ddplugin.js",MATCH_PRO_CSS_URL:"https://doublethedonation.com/api/css/ddplugin.css",FASTACTION_ENABLED:!0};return _.defaults({},i,t,r)}),n("cookieConsentConfiguration",["backbone","ActionTagConfig"],function(e,t){function n(e){returnturn t.trim().startsWith(e+"=")})}function i(e,t){if(n(e)){var i=e+"="+(t?"; path="+t:"")+"; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 UTC;";document.cookie=i}}function r(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],r=n.indexOf("="),a=r>-1?n.substr(0,r):n;a=a.trim(),a.startsWith("ai_")&&(document.cookie=a+"=;path=/;domain=;expires=Thu, 01 Jan 1970 00:00:00 GMT"),(a.startsWith("_ga")||a.startsWith("_gid")||a.startsWith("_gtm")||a.startsWith("_gcl")||a.startsWith("__utm"))&&i(a,"/")}}function a(){i("ProfileDatabagId","/"),i("FastActionDatabagId","/"),o.clone(t.DATABAG_SYNC_DOMAINS).forEach(function(e){s.ajax({type:"GET",url:e+"/deleteDatabag/FastAction",crossDomain:!0,xhrFields:{withCredentials:!0}}),s.ajax({type:"GET",url:e+"/deleteDatabag/Profile",crossDomain:!0,xhrFields:{withCredentials:!0}})})}var o=e._,s=e.$;return new(e.Model.extend({__name__:"CookieConsentConfiguration",initialize:function(){this.set({cookieConsentMode:t.DATABAG_COOKIE_CONSENT||!1,functionalAccepted:!1,performanceAccepted:!1}),o.bindAll(this,"acceptPerformanceCookies","revokePerformanceCookies","acceptFunctionalCookies","revokeFunctionalCookies","isCookieConsentEnabled")},isCookieConsentEnabled:function(){return this.get("cookieConsentMode")},areFunctionalCookiesAccepted:function(){return!this.get("cookieConsentMode")||this.get("functionalAccepted"this.get("performanceAccepted")},acceptFunctionalCookies:function(){this.set({functionalAccepted:!0}),window.nvtag.data.profile.resetCheckedAllowList(),"everybody"===t.DATABAG_SHARE_SETTING&&window.nvtag.data.profile.checkAllowListAndFetch()},acceptPerformanceCookies:function(){this.set({performanceAccepted:!0}),window.cookieSettingsAcceptCookiesAi&&!window.appInsights?window.cookieSettingsAcceptCookiesAi():window.appInsights&&window.appInsights.initialize&&!1===window.appInsights.getCookieMgr().isEnabled()&&(window.appInsights.getCookieMgr().setEnabled(!0),window.appInsights.config.disableTelemetry=!1),window.cookieSettingsAcceptGoogleTagCookies&&window.cookieSettingsAcceptGoogleTagCookies(),window.cookieSettingsAcceptAnalyticsCookies&&window.cookieSettingsAcceptAnalyticsCookies()},revokePerformanceCookies:function(){this.set({performanceAccepted:!1}),window.appInsights&&(window.appInsights.getCookieMgr().setEnabled(!1),window.appInsights.config.disableTelemetry=!0),window.cookieSettingsRevokeAnalyticsCookies&&window.cookieSettingsRevokeAnalyticsCookies(),window.cookieSettingsRevokeGoogleTagCookies&&window.cookieSettingsRevokeGoogleTagCookies(),r()},revokeFunctionalCookies:function(){a(),window.nvtag.data.profile.clear(),window.nvtag.data.fast.clear(),window.user.logout(),this.set({functionalAccepted:!1})}}))}),n("databag",["backbone","deviceInfo","databag_config","ActionTagConfig","cookieConsentConfiguration"],function(e,t,n,i,r){e.emulateHTTP=!!t.ie;var a=e._,o=e.$,s={regex:/\.Value$/,value:".Value"},l=i.DATABAG_ENDPOINT;l&&!/\/$/.test(l)&&(l+="/");var u=a.clone(i.DATABAG_SYNC_DOMAINS),c=/^DisclosureFieldsForDonor_(\d+)$/;return e.Model.extend({__name__:"Databag",databag_root:l,internal_keys:["id","name"],clear:function(){return a(this.getDict()).keys().each(this.unset,this),this.trigger("clear"),this},getDict:function(){var e=a.omit(this.attributes,this.internal_keys),t=this.name();return t&&(e.FullName=t),e},set:function(t,i,r){if(null==t)return this;var o,s=this.denylist(),l=function(e,t){return!a.isObject(e)&&!a.contains(s,t),function(e,t){l(e,t)&&(o[t]=e)}),r=i;else{if(!l(i,t))return this;o={},rty(t)&&(o[e]=o[t],delete o[t])}),e.Model.prototy delete this.attributes[e],this},setWithFormState:function(e){var t;return t=a.omit(e,this.denylist()),t=a.reduce(t,function(e,t,n){return"string"!=typeof t&&(t=JSON.stringify(t)),e[n]=t,e},{}),this.get("AddressLine1")!==t.AddressLine1&&(t.AddressLine2=e.AddressLine2||""),this.set(t,{silent:!0}),this},urlRoot:l+"v2/data/",url:function(){return this.urlRoot+this.get("id")+"/"+this.get("name")},initialize:function(){var t=this;a.bindAll(this,"clear","syncAcrossDomains"),this.deferrerred.resolve(t),this.synced=!0}),this.has("cache")&&(this.cache=this.get("cache"),this.hardUnset("cache")),this.databagSynced=!1},promise:function(){return this.deferred.promise()},denylist:function(e){var t=n.denylist.slice();return a.isString(e)&&/^(pull|push)$/i.test(e)&&(t=t.concat(this.internal_keys).concat(n.pushPullDenylist)),t},toJSON:function(){return this.pick(function(e,t){return a.contains(n.allowlist,t)||c.test(t)})},save:function(){return a.each(n.canonical,function(e,t){this.attributes.hasOwnProperty(e)&&(this.attributes[t]=this.attributes[e],delete this.attributes[e])},this),r.areFunctionalCookiesAccepted()?e.Model.prototype.save.apply(this,arguments).then(this.syncAcrossDomains()):e.Model.prototype.save.apply(this,arguments)},fetch:function(n){return this.attributes.id?(n=n||{},n.timeout=n.timeout||2e3,n.cache=!t.ie&&("cache"in n?n.cache:!("cache"in this)||this.cache),this.clear(),r.areFunctionalCookiesAccepted()?e.Model.prototype.fetch.call(this,n):(this.deferred.reject("Functional Cookies are currently rejected"),this.promise())):(this.deferred.reject("Cannot fetch a bag without an id"),this.promise())},syncAcrossDomains:function(){var e=this.attributes.id,t=this.get("name");t="nvtag"===t?"Profile":t,this.databagSynced||(u.forEach(function(n){o.ajax({type:"GET",url:n+"/Databag/"+t+"/"+e,crossDomain:!0,xhrFields:{withCredentials:!0}})}),this.databagSynced=!0)},name:function(){var e="";return this.has("FirstName")&&(e+=this.get("FirstName")),this.has("MiddleName")&&(e&&(e+=" "),e+=this.get("MiddleName")),this.has("LastName")&&(e&&(e+=" "),e+=this.get("LastName")),e},parse:function(e,t){var i={};return a.each(e,function(e,t,r){if(t=n.canonical[t]||t,s.regex.test(t)){var o=t.replace(s.regex,"");a.isUndefined(r[o])&&(i[o]=e)}else i[t]=e}),a.omit(i,this.denylist("pull"))}})}),n("profile_databag",["jquery.amd","databag","deviceInfo","underscore","cookieConsentConon(e,t,n,i,r){function a(){l=!1}function o(){!l&&r.areFunctionalCookiesAccepted()&&(l=!0,e.jsonp({cache:!n.ie,url:s.databag_root+"identity"}).then(function(e){s.allowlisted=ngp-formunction(){s.fetch({prefill:!0})}))}var s=new t({name:"nvtag"}),l=!1;return s.resetCheckedAllowList=i.bind(a),s.checkAllowListAndFetch=i.bind(o),turn new e({name:"fastaction"})}),n("parseUrl",[],function(){function e(e){return e?decodeURIComponent(e).replace(n.plus," "):null}var t=["protocol","host","port","pathname","search","baseURI","hostname","href","hash","origin"],n={plus:/\+/g,true:/^true$/i,bool:/^(true|false)$/i,https:/^https:?$/,query:/(?:^|&)([^&=]*)=?([^&]*)/g};return function(i){var r={},a=document.createElement("a");a.href=i;for(var o=t.length-1;o>=0;o--)r[t[o]]=a[t[o]]||"";return r._=a,r.ssl=n.https.test(r.protocol),r.host=r.host||r.port?r.hostname+":"+r.port:r.hostname,r.origin=r.origin||r.protocol+"//"+r.host,r.pathname="/"===r.pathname[0]?r.pathname:"/"+r.pathnaunction(){return r._.toString()},r.search&&r.search.length>1&&(r.query={},r.search.substr(1).replace(n.query,function(t,i,a){if(i){var o=e(i),s=e(a);n.bool.test(s)&&(s=n.true.test(s)),r.query[o]=s}})),r}}),n("timing",[],function(){function e(e,t){return this.variable=e,this.label=t||void 0,this.startTime=(new Date).getTime(),this}var t={};return e.prototype.send=function(){return(this.endTime=(new Date).getTime())-this.startTime},{start:function(n,i){var r=i?n+" ("+i+")":n;console.time(r),t[r]=ne(){t[r]=null,console.timeEnd(r)},60001)},end:function(e,n){var i=n?e+" ("+n+")":e;if(t[i]){var r=t[i];return t[i]=null,console.timeEnd(i),clearTimeout(r.timeout),r.send()}}}}),n("loadCSS",["underscore","jquery.amd"],function(e,t){return e.memoize(function(e){var n=document.createElement("link"),i=t.Deferred();return n.type="text/css",n.rel="stylesheet",void 0!==n.addEventListener?(n.addEventListener("load",i.resolve,!1),n.addEventListener("error",i.reject,!1)):void 0!==n.attachEvent&&n.attachEvent("onload",i.resolve),setTimeout(i.resolve,1e3),n.href=e,document.getElementsByTagName("head")[0].appendChild(n),i.promise()})}),n("baseUrl",["jquery.amd"],function(e){return window.nvtagDebug?"":e('script[src$="/at.js"], script[src*="/at.js?"]').attr("src").replace(/\/at\.js(.*)$/,"/")}),n("states",[],function(){return["AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY","AS","FM","GU","MH","MP","PW","PR","VI","AA","AE","AP"]}),n("countries",[],function(){return{AF:"Afghanistan",AX:"Åland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Côte D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",ME:"Montenegro",MC:"Monaco",MN:"Mongolia",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthélemy",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Việt Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",XK:"Kosovo",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"}}),n("country.keys",[],function(){return["US","CA","DK","FR","GB","AU","IT","JP","MX","ES","SE","AF","AX","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW","BV","BR","IO","BN","BG","BF","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","CI","HR","CU","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","XK","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","AN","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","PM","VC","WS","SM","ST","SA","RS","SN","SC","SL","SG","SK","SI","SB","SO","ZA","GS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UM","UY","UZ","VU","VE","VN","VG","VI","WF".replace("%v","-%v"),zero:t}:t}var c={};c.version="0.3.2",c.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var d=Array.prototype.map,p=Array.isArray,h=Object.pr.replace(t,"round(c.unformat(l+m(Math.abs(e),d).split(".")[1]:"")},v=/\.00$/,y=c.formatMoney=fun(e,function(e){return y(e,t,n,i,d,p)});e=f(e);var h=o(a(t)?t:{symbol:t,precision:n,thousand:i,decimal:d,format:p},c.settings.currency),m=u(h.format);return(e>0?m.pos:e<0?m.neg:m.zero).replace("%s",h.symbol).replace("%v",g(Math.abs(e),l(h.precision),h.thousand,h.decimal)).replace(v,"")};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.accounting=c):"function"==typeof n&&n.amd?n("accounting",[],function(){returne.accounting=t,c.noConflict=void 0,c}} n&&n.amd?n("moment",t):e.mome.replace(/\\/g,"")}function F(e){var t,n,i=e.match(qn);for(t=0,n=i.length;t<n;t++)unction?i[t].call(r,e):i[t];return a}}function O(e,t){return e.isValid()?(t=L(t,e.localeData()),(jn[t]=jn[t]||Fe.UTC(e,t+1,0)).getUTCDate()}functiohis._week.doy).wee|(i=t[r]);return i}function De(){return Ie("isAfter",[].slice.call(arguments,0))}function Ne(e){var t=T(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0;this._milliseconds=+(t.millisecond||0)+1e3*u+6e4*l+36e5*s,this._days=+o+7*a,this._months=+r+3*i+12*n,this._dane().month(5).utcOffset()}function We(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var e={};if(p(e,this),e=Ee(e),e._a){var t=e._isUTC?s(e._a):Se(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSted}function Ye(){return!this._iata().postformat(n)}function ht(e,t){return this.isValid()?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}fue),null!=t&&(this._locale=t),thull):parseInt(e,10)}function Lt(e){return this._weekdays[e.day()]}function $t(e){return this._weekdaysShort[e.day()]}function Vtt(e,t){t[pi]=g(1e3*("0."+e))}funcfunction"==typeof i?i.call(t,n):i}function en(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)})}freturn this._ordinal.reParse.source+"|"+/\d{1,2}/.source)}function ln(e=0;a<i;a++)o[a]=ln(e,a,n,r);return o}function cn(e,t){return un(e,t,"months",12,"month")}function dn(e,t){return un(e,t,"monthsShort",12,"month")}function pn(e,t){return un(e,t,"weekdays",7,"day")}function hn(e,t){rn yn(e,t){return gn(this,e,t,-1)}function bn(e){2,l.days=o,l.months=s,l.years=i,thiM":"")+(d?d+"S":""):"P0D"}var Rn,Fn,On=e.momentProperties=[],Ln=!1,$n={},Vn={},qn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Un=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},Hn={},zn=/\d/,Bn=/\d\d/,Wn=/\d{3}/,Yn=/\d{4}/,Gn=/[+-]?\d{6}/,Kn=/\d\d?/,Qn=/\d{1,3}/,Zn=/\d{1,4}/,Jn=/[+-]?\d{1,6}/,Xn=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},ai={},oi=0,si=1,li=2,uiMo",function(){return this.month()+1}),N("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),N("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),V("M",Kn),V("MM",Kn,Bn),"M","MM"],function;null!=r?t[si]=r:u(n).invalidMonth=e});var hi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\new Date(e._i+(e._useUTC?" UTC":""))},N(0,["YY",2],0,function(){return this.year()%100}),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),A("year","y"),V("Y",ei),V("YY",Kn,Bn),V("YYYY",Zn,Yn),V("YYYYY",Jn,Gn),V("YYYYYY",Jn,t.lengthon(t,n){n[oi]=e.parseon(e){return g(e)+(g(e)>68?1900:2e3)};var wi=P("FullYear",!1);N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),V("w",Kn),V("ww",Kn,Bn),V("W",Kn),V("WW",Kn,Bn),H(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var _i={dow:0,doy:6};N("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),V("D"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var xi=ee("moment().min is deprecated, use moment.min instead. https://null,arguments);return e<this?this:e}),Ci=ee("moment().max is deprecated, use moment.max instead. https://null,arguments);return e>this?this:e});Fe("Z",":"),Fe("ZZ",ion(e,t,n){n._useUTC=!0,n._tzm=Oe(e)});var ki=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ai=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ei=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qe.fn=Ne.prototype;var Ti=et(1,"add"),Pi=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Si=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use mo==e?this.localeData():this.locale(e)});N(0,["gg",2],0,function(){returntion(){return this.isoWeekYear()%100}),St("gggg","weekYear"),St("ggggg","weekYear"),St("GGGG","isoWeekYear"),St("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),V("G",ei),V("g",ei),V("GG",Kn,Bn),V("gg",Kn,Bn),V("GGGG",Zn,Yn),V("gggg",Zn,Yn),V("GGGGG",Jn,Gn),V("ggggg",Jn,ction(e,t,n,i){t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),N("Q",0,0,"quartj("Q",function(e,t){t[si]=3*(g(e)-1)}),N("D",["DD",2],"Do","date"),A("date_ordinalParse:t._ordinalPtion(e,t){t[li]=g(e.match(Kn)[0],10)});var Ii=P("Date",!0);N("d",0,"do","day"),N("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),N("ddd",0,0,function(e){return this.localeData()n this.localeData().weekdays(this,e)}),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),V("d",Kn),V("e",Kn),V("E",Kn),V("dd",ii),V("ddd",i;null!=i?t.d=i:u("e","E"],function(e,t,n,i){t[i]=g(e)});var Di="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ni="Su_Mo_Tu_We_Th_Fr_Sa".split("_");N("Hunction(){return this.hours()%12||12}),zt("a",!0),zt("A",!1),A("hour","h"),V("a",Bt),V("A",Bt),V("H",Kn),V("h",Kn),V("HH",Kn,Bn),V("hhisPm=n._localeon(e,t,n){t[ui]=g(e),u(n).bigHour=!0});var Ri=/[ap]\.?m?\.?/i,Fi=P("Hours",!0);N("m",["mm",2],0,"minute"),A("minute","m"),V("m",Kn),V("mm",Kn,Bn),j(["m","mm"],ci);var Oi=P("Minutes",!1);N("s",["ss",2],0,"second"),A("second","s"),V("s",Kn),V("ss",Kn,Bn),j(["s","ss"],di);var Li=P("Seconds",!1);N("S",0,0,function(){return~~(thion(){return~~(this.millisecond()/10)}),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,function(){return 10*this.millisecond()}),N(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),N(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),N(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),N(0,["SSSSSSSS",8],0,function(){return 1e5*this.tion(){return 1e6*this.millisecond()}),A("millisecond","ms"),V("S",Qn,zn),V("SS",Qn,Bn),V("SSS",Qn,Wn);var $i;for($i="SSSS";$i.length<=9;$i+="S")V($i,Xn);for($i="S";$i.length<=9;$i+="S")j($i,Gt);var Vi=P("Milliseconds",!1);N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var qi=h.prototype;qi.add=Ti,qi.calendar=nt,qi.clone=it,qi.diff=lt,qi.endOf=wt,qi.format=pt,qi.from=ht,qi.fromNow=ft,qi.to=mt,qi.toNow=gt,qi.get=D,qi.invalidAt=Pt,qi.isAfter=rt,qi.isBefore=at,qi.isBetween=ot,qi.isSame=st,qi.isValid=Et,qi.lang=Si,qi.locale=vt,qi.localeData=yt,qi.max=Ci,qi.min=xi,qi.parsingFlags=Tt,qi.set=D,qi.startOf=bt,qi.subtract=Pi,qi.toArray=kt,qi.toObject=At,qi.toDate=Ct,qi.toISOString=dt,qi.toJSON=dt,qi.toString=ct,qi.unix=xt,qi.valueOf=_t,qi.year=wi,qi.isLeapYear=le,qi.weekYear=Dt,qi.isoWeekYear=Mt,qi.quarter=qi.quarters=Ft,qi.month=Q,qi.daysInMonth=Z,qi.week=qi.weeks=he,qi.isoWeek=qi.isoWeeks=fe,qi.weeksInYear=Rt,qi.isoWeeksInYear=Nt,qi.date=Ii,qi.day=qi.days=Ut,qi.weekday=jt,qi.isoWeekday=Ht,qi.dayOfYear=ge,qi.hour=qi.hours=Fi,qi.minute=qi.minutes=Oi,qi.second=qi.seconds=Li,qi.millisecond=qi.milliseconds=Vi,qi.utcOffset=Ve,qi.utc=Ue,qi.local=je,qi.parseZone=He,qi.hasAlignedHourOffset=ze,qi.isDST=Be,qi.isDSTShifted=We,qi.isLocal=Ye,qi.isUtcOffset=Ge,qi.isUtc=Ke,qi.isUTC=Ke,qi.zoneAbbr=Kt,qi.zoneName=Qt,qi.dates=ee("dates accessor is deprecated. Use date instead.",Ii),qi.months=ee("months accessor is deprecated. Use month instead",Q),qi.years=ee("years accessor is deprecated. Use year instead",wi),qi.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",qe);var Ui=qi,ji={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Hi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},zi=/\d{1,2}/,Bi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Wi=y.prototype;Wi._calendar=ji,Wi.calendar=Xt,Wi._longDateFormat=Hi,Wi.longDateFormat=en,Wi._invalidDate="Invalid date",Wi.invalidDate=tn,Wi._ordinal="%d",Wi.ordinal=nn,Wi._ordinalParse=zi,Wi.preparse=rn,Wi.postformat=rn,Wi._relativeTime=Bi,Wi.relativeTime=an,Wi.pastFuture=on,Wi.set=sn,Wi.months=W,Wi._months=hi,
Wi.monthsShort=Y,Wi._monthsShort=fi,Wi.monthsParse=G,Wi.week=ce,Wi._week=_i,Wi.firstDayOfYear=pe,Wi.firstDayOfWeek=de,Wi.weekdays=Lt,Wi._weekdays=Di,Wi.weekdaysMin=Vt,Wi._weekdaysMin=Ni,Wi.weekdaysShort=$t,Wi._weekdaysShort=Mi,Wi.weekdaysParse=qt,Wi.isPM=Wt,Wi._meridiemParse=Ri,Wi.meridiem=Yt,x("en",{ordina==t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",x),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",k);var Yi=Math.abs,Gi=An("ms"),Ki=An("s"),Qi=An("m"),Zi=An("h"),Ji=An("d"),Xi=An("w"),er=An("M"),tr=An("y"),nr=Tn("milliseconds"),ir=Tn("seconds"),rr=Tn("minutes"),ar=Tn("hours"),or=Tn("days"),sr=Tn("months"),lr=Tn("years"),ur=Math.round,cr={s:45,m:45,h:22,d:26,M:11},dr=Math.abs,pr=Ne.prototype;return pr.abs=mn,pr.add=vn,pr.subtract=yn,pr.as=Cn,pr.asMilliseconds=Gi,pr.asSeconds=Ki,pr.asMinutes=Qi,pr.asHours=Zi,pr.asDays=Ji,pr.asWeeks=Xi,pr.asMonths=er,pr.asYears=tr,pr.valueOf=kn,pr._bubble=wn,pr.get=En,pr.milliseconds=nr,pr.seconds=ir,pr.minutes=rr,pr.hours=ar,pr.days=or,pr.weeks=Pn,pr.months=sr,pr.years=lr,pr.humanize=Mn,pr.toISOString=Nn,pr.toString=Nn,pr.toJSON=Nn,pr.locale=vt,pr.localeData=yt,pr.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nn),pr.lang=Si,N("X",0,0,"unix"),N("x",0,0{n._d=n,function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",function(e){Rn=e}(Se),e.fn=Ui,e.min=De,e.max=Me,e.utc=s,e.unix=Zt,e.months=cn,e.isDate=i,e.locale=x,e.invalid=d,e.duration=Qe,e.isMoment=f,e.weekdays=pn,e.parseZone=Jt,e.localeData=k,e.isDuration=Re,e.monthsShort=dn,e.weekdaysMin=fn,e.defineLocale=C,e.weekdaysShort=hn,e.normalizeUnits=E,e.relativeTimeThreshold=Dn,e}),n("FormDefUtils",["underscore","NVTagCallbacks","states","countries","country.keys","accounting","moment"],function(e,t,n,i,r,a,o){function s(t){return e.compact(e.reduce(t,function(t,n){return e.isObject(n)?t.concat(n.children?s(n):n):t},[]))e,t){return t[n]&&(e[t[n]]=t.name),e},{})}function u(t,n,i){return e(i?t:s(t)).find({name:n})}function c(t,n,i){return e.filter(i?t:s(t),{type:n})}function d(t,n,i){ e.substr(!n||n<0?0:+n,t.length)===t}function h(t,n,i,r){var o=parseFloat(a.toFixed(n,2)),s=parseFloat(a.toFixed(i,2)),l=a.toFixed(t,2),u=parseFloat(l);return u>=o&&u<=s&&(!r||e.find(r,{other:!0})||e.find(r,{val:l}))?l:null}function f(t,n,i,r){if(!t)return null;var a=e.reduce(e.uniq(t.split(",")),function(e,t){var n=h(t,i,r);return n&&e.push({val:n,display:null}),e},[]);if(!a.length)return null;var o=e.find(n,{other:!0});if(o){a.push(e.clone(o))}return a}function m(a,l,m){functio.value&&e.options&&e.options.options});return t?t.options.options:null}var v=e.cloneDeep(a.resources);a=t("preAlterFormDefinition",{form_definition:a,query_string:l}).form_definition,a.resources||(a.resources={}),a.resources=e.extend(v,a.resources);var y=s(a.form_elements),b=a.resources.PrimaryResources.DefaultSelectOption,w=a.resources.PrimaryResources.DefaultStateSelectOption,_=a.resources.PrimaryResources.DefaultCountryOption,x=e.where(y,{valueType:"date"});e.each(x,function(e){e.type="date"});var C=u(y,"SelectAmount",!0),k=function(t){return t.options=e.map(t.options,function(e,t){var n={val:t,display:e};return"other"===n.val&&(n.other=!0),n}),t};if(C&&(C.type="amount",k(C),delete C.queryString,l&&!C.children&&(C.options=f(l.amtopts,C.options,C.valueMin,C.valueMax)||C.options,l.am&&(C.default_value=h(l.am,C.valueMin,C.valueMax,C.options)||C.default_value)),C.children&&e.each(C.children,k)),e.each(c(y,"radios",!0),function(t){if(e.isArray(t.options)&&t.options[0]&&t.options[0].display&&t.options[0].value)return void(t.nction(e,t){var n={};return n[t]=e,n})}),a.metadata&&a.metadata.options&&(e.each(e.filter(y,function(t){return e.isString(t.options)&&a.metadata.options[t.options]}),function(t){t.options_src=t.options,t.options=e.clone(a.metadata.options[t.options])}),C&&e.each(e.filter([C].concat(C.children||[]),function(e){return!!e.frequencyOptions}),function(t){e.each(t.frequencyOptions,function(t){e.isString(t.options)&&a.metadata.options[t.options]&&(t.options_src=t.options,t.options=k(e.cloneDeep(a.metadata.options[t.options])))})})),C&&!C.children&&C.frequencyOptions&&l.recurringamtopts){var A=f(l.recurringamtopts,g(),C.valueMin,C.valueMax);A&&e.forEach(C.frequencyOptions,function(t){"0"!==t.value&&t.options&&(t.options.options=e.cloneDeep(A))})}if(C&&!C.children&&C.frequencyOptions&&l.recurringam){var E=h(l.recurringam,C.valueMin,C.valueMax,g());E&&e.forEach(C.frequencyOptions,function(e){"0"!==e.value&&(e.options.default_value=E)})}return e.each(d(y,"statunction(e){return{value:e,display:e}}),t.options.unshift({value:"",display:w})}),e.each(d(y,"countries",!0),function(t){t.options=e.map(r,function(e){return{value:i[e],display:i[e]}}),t.options.unshift({value:"",display:_})}),e.each(d(y,"months",!0),function(t){t.options=e.map(e.range(1,13),function(e){return{value:("0"+e).slice(-2),display:("0"+e).slice(-2)}}),t.options.unshift({value:"",display:b})}),e.each(d(y,"years",!0),function(t){var n=parseInt(o().format("YY"ion(e){return{value:e,display:e+2e3}}),t.options.unshift({value:"",display:b})}),e.each(c(y,"textfield",!0),function(t){if(p(t.name,"CustomFormFieldQuestion")||p(t.name,"QuestionOtherResponse")){var n=new RegExp("((CustomFormFieldQuestion|QuestionOtherResponse)_.*)_(QuestionOtherTextResponse_.*)$"),i=n.exec(t.name);if(i){var r=e.findIndex(y,function(e){return e.name.indexOf(i[1])>0}),a=r>0?y[r]:u(y,i[1]);a&&(a.other={name:t.name},"radios"!==a.type&&"checkbox"!==a.type||(t.labelhide=!0))}}}),e.each(c(y,"select",!0),function(t){t.options&&(!(t.options.length>0&&t.options[0])||e.has(t.options[0],"value")&&e.has(t.options[0],"ction(e,t){return{value:t,display:e}})),0!==t.options.length&&""===t.options[0].value||t.options.unshift({value:"",display:b}))}),m&&(a.fastActionNologin=!0),t("alterFormDefinition",{form_definition:a,query_string:l}).form_definition}function g(t,n,i){e(s(t)).find({name:i,type:"fieldset"}).children.push(n)}return{fields:s,find_field:u,fields_of_type:c,options_of_type:d,clone:e.clone,querystring_dict:l,fix:m,add_field_to_fieldset:g}}),n("googleAnalyticsHelper",["underscore"],function(e){functurn e&&e.hasOwnProperty("gtm.start")});return window.gtag&&!t}return{shouldUseGtag:t}}),function(e){"use strict";var t={};t.lastActive=void 0,t.actener(t,n,!1):e.attachEvent("on"+t,n)},t._addEventListener(document,"keyup",function(e){var n=window.location.hash.replace("#","");if(""!==n&&"!"!==n&&27===e.keyCode){if(window.location.hash="!",t.lastActive)return!1;t.removeFocus()}},!1),t._dispatchEvent=function(e,t){var n;document.createEvent&&(n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.customData={modal:t},document.dispatchEvent(n))},t.mainHandler=function(){var e,n,i=window.location.hash.replace("#",""),r=!!i&&document.getElementById(i),a=document.documentElement.className;r?(e=r.children[0])&&e.className.match(/modal-inner/)&&(a.match(/has-overlay/)||(document.documentElement.className+=" has-overlay"),t.activeElement&&(n=t.activeElement,n.className=n.className.replace(" is-active","")),r.className+=" is-active",t.activeElement=r,t.setFocus(i),t._dispatchEvent("cssmodal:show",t.activeElement)):(document.documentElement.className=a.replace(" has-overlay",""),t.activeElement&&(t.activeElement.className=t.activeElement.className.replace(" is-active",""),t._dispatchEvent("cssmodal:hide",t.activeElement),t.activeElement=null,t.removeFocus()))},t._addEventListener(window,"hashchange",t.mainHandler),t._addEventListener(window,"load",t.mainHandler),t.setFocus=function(){t.activeElement&&(t.lastActive=document.activeElement,t.){t.lastActive&&t.lastActive.focus()},e.CSSModal=t}(window),n("modal",function(){}),n("jquery.t[0],arguments[1],0):new Date(0,0,0)}e.TimePicker=function(){var t=this;t.container=e(".ui-timepicker-container"),t.ui=t.container.find(".ui-timepicker"),0===t.container.length&&(t.container=e("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),t.ui=e("<div></div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(t.container),t.viewport=e("<ul></ul>").addClass("ui-timepicker-viewport").appendTo(t.ui),e.fn.jquery>="1.4.2"&&t.uion(){t.activate(!1,e(this).parent())}).delegate("a","mouseleave.timepicker",function(){t.deactivate(ault(),t.select(!1,e(this).parent())}))},e.Time.TimePicker),e.TimePicker._instance},e.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(t,i){var r,a,o=this,s=e("<ul></ul>"),l=null;for(-1===t.options.timeFormat.indexOf("m")&&t.options.interval%60!=0&&(t.options.interval=60*Math.max(Math.round(t.options.interval/60),1)),r=i?n(i):t.options.startTime?n(t.options.startTime):n(t.options.startHour,t.options.startMinutes),a=new Date(r.getTime()+864e5);r<a;)o._isValidTime(t,r)&&(l=e("<li>").addClass("ui-menu-item").appendTo(s),e("<a>").addClass("ui-corner-all").text(e.fn.timepicker.formatTime(t.options.timeFormat,r)).appendTo(l),l.data("time-value",r)),r=new Date(r.getTime()+60*t.options.interval*1i&&t<=r:nul.height()<this.ui[e]("scrollHeight")},_move:function(e,t,n){var i=this;if(i.closed()&&i.open(e),!i.active)return void i.activate(e,i.viewport.children(n));var r=i.active[t+"All"](".ui-menu-item").eq(0);r.length?i.activate(e,r):i.activats(r),r.element.der.parseTime(t.options.dpicker.children().attr("id"er").removeAttr("id"),e.active=null)},next:function(e){return(this.closed()||this.instance===e)&&this._move(e,"next",".ui-rev",".ui-menu-item:last"),e.element},first:function(e){return this.instance===e&&(this.active&&0===this.active.pive.nextAce===e&&this.active?this.active:null},open:function(t){var n=this,i=t.getTime(),r=t.options.dynamic&&i;if(!t.options.dropdown)return t.element;switch(t.element.data("timepicker-event-namespace",Math.random()),e(document).bind("click.timepicker-"+t.elemeker-user-clicked-outside",!0).blur()}),(t.rebuild||!t.items||r)&&(t.items=n._items(t,r?i:null)),(t.rebuild||n.instance!==t||r)&&(e.fn.jquery<"1.4.2"?(n.viewport.children().remove(),n.viewport.append(t.items),n.viewport.ion(){n.activate(t,e(this).parent())}).bind("mouseout.timepicker",function(){n.default(),n.select(t,e(this).parent())})):(n.viewport.children().detach(),n.viewport.append(t.items))),t.rebuild=!1,n.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show(),t.options.theme){case"standard":n.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":n.container.addClass("ui-timepicker-standard ui-timepicker-corners")}n.container.hasClass("ui-timepicker-no-scrollbar")||t.options.scrollbar||(n.container.addClass("ui-timepicker-no-scrollbar"),n.viewport.css({paddingRight:40}));var a=n.container.outerHeight()-n.container.height(),o=t.options.zindex?t.options.zindex:t.element.offsetParent().css("z-index"),s=t.element.offset();n.container.css({top:s.top+t.element.outerHeight(),left:s.left}),n.container.show(),n.container.css({left:t.element.offset().left,height:n.ui.outerHeight()+a,width:t.element.outerWidth(),zIndex:o,cursor:"default"});var l=n.container.width()-(n.ui.outerWidth()-n.ui.width());return n.ui.css({width:l}),n.viewport.css({width:l}),t.items.css({width:l}),n.instance=t,i?t.items.each(function(){var r,a=e(this);return r=e.fn.jquery<"1.4.2"?e.fn.timepicker.parseTime(a.find("a").text()):a.data("time-value"),r.getTime()!==i.getTime()||(n.activate(t,a),!1)}):n.deactivate(t),t.element},close:function(t){var n=this;return n.instance===t&&(n.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),n.ui.scrollTop(0),n.ui.children().removeClass("ui-state-hover")),e(document).unbind("click.timepicker-"+t.element.data("timepicker-event-namespace")),t.element},closed:function(){timepi{returnrmat,e.fectedTime:i:i instanceof Date?i:null},setTime:function(t,i,r){var a=this,o=t.selectedTime;if("string"==typeof i&&(i=t.parse(i)),i&&i.getMinutes&&a._isValidTime(t,i)){if(i=n(i),t.selectedTime=i,t.element.val(t.format(i,t.options.timeFormat)),r)return t}else t.selectedTime=null;return null===o&&null===t.selectedTime||(t.element.trigger("time-change",[i]),e.isFunction(t.options.change)&&t.options.change.apply(t.element,[i])),t.element},option:function(t,n,i){if(void 0===i)return t.options[n];var r,a,o=t.getTime();"string"==typeof n?(r={},r[n]=i):r=n,a=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeForebuild=t.rebuild||e.inArray(n,a)>-1}),t.rebuild&&t.setTime(o)}},e.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}},e.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]},e.fn.timepicker=function(t){if("string"==typeof t){var n,i,r=Array.prototype.slice.call(arguments,1);return n="option"===t&&arguments.length>2?"each":-1!==e.inArray(t,e.TimePicker.methods.chainable)?"each":"map",i=this[n](function(){var n=e(this),i=n.data("TimePicker");if("object"==typeof i)return i[t].apply(i,r)}),"map"===n&&1===this.length?e.makeArray(i).shift():"map"===n?e.makeArray(i):i}if(1===this.length&&this.data("TimePicker"))return this.data("TimePicker");var a=e.extend({},e.TimePicker.instance().register((new RegExp("a","g"),i>11?"pm":"am")},e.fn.timepicker.parseTime=function(){var t=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]],i=t.length;return function(r){var a=n(new Date),o=!1,s=!1,l=!1,u=!1,c=!1;if(void 0===r||!r.toLowerCase)return null;r=r.toLowerCase(),o=/a/.test(r),s=!o&&/p/.test(r),r=r.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var d=0;d<i;d+=1)if(t[d][0].test(r)){r=r.replace(t[d][0],t[d][1]);break}return r=r.replace(/:/g,""),1===r.length?l=r:2===r.length?l=r:3===r.length||5===r.length?(l=r.substr(0,1),u=r.substr(1,2),c=r.substr(3,2)):(4===r.length||r.length>5)&&(l=r.substr(0,2),u=r.substr(2,2),c=r.substr(4,2)),r.length>0&&r.length<5&&(r.length<3&&(u=0),c=0),!1!==l&&!1!==u&&!1!==c&&(l=parseInt(l,10),u=parseInt(u,10),c=parseInt(c,10),o&&12===l?l=0:s&&l<12&&(l+=12),l>24?e.fn.timepicker.parseTime(r.length>=6?r.substr(0,5):r+"0"+(o?"a":"")+(s?"p":"")):(a.setHours(l,u,c),a))}g=function(){return""+this.string},e}(),t=function(e){"ction a(e,t){return(e?e+".":"")+t}var o={},s=e,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,c=/[&<>"'`]/;o.extend=n;var d=Object.nction(e){rf e&&"[object Function]"===d.call(e)});var eof e)&&"[object Array]"===d.call(e)};return o.isArray=h,o.escapeExpression=i,o.isack"];return e.prototype=new Errs=e||{},this.partials=t||{},i(this)}function uments[arguments.length-1].name+"'")}),ath,n.name),n={data:o}}ren}),c++);return 0===c&&sEmpty(e)?t.inverse(this):tn.inverse,inverse:n.fn,hah,t.ids[0]),t={data:i}}rrseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var r={},a=e,o=t;r.VERSION="2.0.0";r.COMPILER_REVISION=6,r.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};var s=a.isArray,l=a.isFunction,u=a.toString;r.HandlebarsEnvironment=n,n.prototype={constris.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){de(this.partials,e)::function(e){delete this.partials[e]}};var c={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUsole[n]&&console[n].call(console,t)}}}=a.extend({},e);return t._parent=e,t};return r.createFrame=p,r}(t,n),r=function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=p;if(t!==n){if(t<n){throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+h[n]+") or downgrade your runtime to an older version ("+h[t]+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new d("No environment passed to template");if(!e||!e.main)throw new d("Unknown template object: "+typeof e) when runnf(e[i]&turn"function"==typeof e?e.call(t):e},escapeExpression:c.escapeExpression,invokePartial:n,fn:functio||(i=t){for e&&t&&e!==t&&(n=c.extend({},t,e)),n},noopn.call(i,t,i.helpers,i.partals=i.merren a.program=t,a.depth=r?r.length:0,a}function o(e,t,n,i,r,a,o){var s={partial:!0,helpers:i,partials:r,data:a,depths:o};if(void 0===e)throw new d("The partial "+t+" could not be found");iroot"in t||(t=t?f(t):{},t.root=e),t}var u={},c=e,d=t,p=n.COMPILER_REVISION,h=n.REVISION_CHANGES,f=n.createFrame;return u.checkRevision=i,u.template=r,u.program=a,u.invokePartial=o,u.noop=s,u}(t,n,i);return function(e,t,n,i,r){"unction(t){return u.template(t,e)},e},d=c();return d.create=c,d.default=d,d}(i,e,n,t,r)}),n("hbs/underscore",{}),n("hbs/i18nprecompile",{}),n("hbs/json2",{}),n("hbs",function(){var e=[];return{get:function(){return Handlebars},write:function(e,t,n){if(t+customNameExtension in buildMap){n.asModule(e+"!"+t,buildMap[t+customNsion:"2.0.0",load:function(e,t,n,i){},onLayerEnd:function(){(){fs.existsSync(e)&&fs.unlinkSync(e)})}}}),n("app/templates/_helpers/subview",["Handlebars"],function(e){return e.registerHelper("subview",function(e,t){return e.type?'<div data-name="'+e.name+'" data-subview="'+e.type+'_view" data-subview-index="'+e.index+'" />':e})}),n("hbs!app/templates/form",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.bannerImagePath:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a},2:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<figure class="at-banner">';return r=t.if.call(e,null!=e?e.returnToWebsiteUrl:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='<img src="'+s((a=null!=(a=t.bannerImagePath||(null!=e?e.bannerImagePath:e))?a:o,"function"==typeof a?a.call(e,{name:"bannerImagePath",hash:{},data:i}):a))+'" alt="'+s((a=null!=(a=t.returnToWebsiteName||(null!=e?e.returnToWebsiteName:e))?a:o,"function"==typeof a?a.call(e,{name:"returnToWebsiteName",hash:{},data:i}):a))+'" title="'+s((a=null!=(a=t.returnToWebsiteName||(null!=e?e.returnToWebsiteName:e))?a:o,"function"==typeof a?a.call(e,{name:"returnToWebsiteName",hash:{},data:i}):a))+'">',r=t.if.call(e,null!=e?e.returnToWebsiteUrl:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"</figure>"},3:function(e,t,n,i){var r,a=t.helperMissing;return'<a href="'+(0,this.escapeExpression)((r=null!=(r=t.returnToWebsiteUrl||(null!=e?e.returnToWebsiteUrl:e))?r:a,"function"==typeof r?r.call(e,{name:"returnToWebsiteUrl",hash:{},data:i}):r))+'">'},5:function(e,t,n,i){return"</a>"},7:function(e,t,n,i){return"at-sr-only"},9:function(e,t,n,i){return"at-title"},11:function(e,t,n,i){var r,a,o=t.helperMissing,s='<header class="at-markup MeterHtml">\n        ';return a=null!=(a=t.meter_html||(null!=e?e.meter_html:e))?a:o,r="function"==typeof a?a.call(e,{name:"meter_html",hash:{},data:i}):a,null!=r&&(s+=r),s+"\n    </header>"},13:function(e,t,n,i){var r,a,o=t.helperMissing,s='<header class="at-markup HeaderHtml">\n        ';return a=null!=(a=t.header_html||(null!=e?e.header_html:e))?a:o,r="function"==typeof a?a.call(e,{name:"header_html",hash:{},data:i}):a,null!=r&&(s+=r),s+"\n    </header>"},15:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o},17:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="regulations-terms-container">\n            <p>\n                <a href="'+s((a=null!=(a=t.regulationsGovUrl||(null!=e?e.regulationsGovUrl:e))?a:o,"function"==typeof a?a.call(e,{name:"regulationsGovUrl",hash:{},data:i}):a))+'" target="_blank" rel="noopener noreferrer" class="regulations-doc-link">\n                    ';return a=null!=(a=t.regulationsGovUrlLabel||(null!=e?e.regulationsGovUrlLabel:e))?a:o,r="function"==typeof a?a.call(e,{name:"regulationsGovUrlLabel",hash:{},data:i}):a,null!=r&&(l+=r),l+='\n                </a>\n            </p>\n            <p class="regulations-terms">By submitting a comment on ',a=null!=(a=t.regulationsGovDocId||(null!=e?e.regulationsGovDocId:e))?a:o,r="function"==typeof a?a.call(e,{name:"regulationsGovDocId",hash:{},data:i}):a,null!=r&&(l+=r),l+', you agree to the <a href="https://www.regulations.gov/user-notice" target="_blank" rel="noopener noreferrer" class="regulations-terms-link">terms of participation</a> and <a href="https://www.regulations.gov/privacy-notice" target="_blank" rel="noopener noreferrer" class="regulations-privacy-link">privacy notice</a> of Regulations.gov.</p>\n        </div>'},19:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<ol class="at-steps clearfix">\n';return r=t.each.call(e,null!=e?e.steps:e,{name:"each",hash:{},fn:this.program(20,i),inverse:this.noop,data:i}),null!=r&&(l+=r),
l+="        </ol>\n        <style>\n      .at .at-steps li {",r=t.if.call(e,null!=e?e.staticSteps:e,{name:"if",hash:{},fn:this.program(25,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"width: "+s((a=null!=(a=t.stepWidth||(null!=e?e.stepWidth:e))?a:o,"function"==typeof a?a.call(e,{name:"stepWidth",hash:{},data:i}):a))+" }\n        </style>"},20:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l=t.helperMissing,u='<li data-step="'+s(o(i&&i.index,e))+'" class="at-step '+s((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:l,"function"==typeof a?a.call(e,{name:"classes",hash:{},data:i}):a))+'">\n';return r=t.if.call(e,null!=e?e.static:e,{name:"if",hash:{},fn:this.program(21,i),inverse:this.program(23,i),data:i}),null!=r&&(u+=r),u+"            </li>"},21:function(e,t,n,i){return'<b>\n                    <span class="step-title">'+(0,this.escapeExpression)((0,this.lambda)(null!=e?e.title:e,e))+"</span>\n                </b>"},23:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<a title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{},data:i}):a))+'" href="#'+s(l(null!=(r=null!=e?e[0]:e)?r.name:r,e))+'">\n                    <span class="step-title">'+s(l(null!=(r=null!=e?e[0]:e)?r.title:r,e))+"</span>\n                </a>"},25:function(e,t,n,i){return"cursor: default;"},27:function(e,t,n,i){var r,a="";return r=t.unless.call(e,null!=e?e.staticSteps:e,{name:"unless",hash:{},fn:this.program(28,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a},28:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<div class="step-prevNext clearfix">\n                <div class="prevNext next">\n                    <button class="submitStep btn-at btn-at-primary">'+s((a=null!=(a=t.submit_label||(null!=e?e.submit_label:e))?a:o,"function"==typeof a?a.call(e,{name:"submit_label",hash:{},data:i}):a))+'</button>\n                    <a tabindex="0" role="button" class="nextStep btn-at btn-at-primary">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Next:r,e))+'</a>\n                </div>\n                <div class="prevNext prev">\n                    <a tabindex="0" role="button" class="prevStep btn-at btn-at-link">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Back:r,e))+"</a>\n                </div>\n            </div>"},30:function(e,t,n,i){var r,a,o=t.helperMissing,s='<footer class="multistep-footer clearfix">\n';return r=t.if.call(e,null!=e?e.returnToWebsiteUrl:e,{name:"if",hash:{},fn:this.program(31,i),inverse:this.noop,data:i}),null!=r&&(s+=r),r=t.if.call(e,null!=e?e.paidForByDisclaimerText:e,{name:"if",hash:{},fn:this.program(33,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+='  <div class="poweredby">',a=null!=(a=t.poweredby||(null!=e?e.poweredby:e))?a:o,r="function"==typeof a?a.call(e,{name:"poweredby",hash:{},data:i}):a,null!=r&&(s+=r),s+"</div>\n</footer>"},31:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<p class="returnToWebsite ngp-returnToWebSite">\n    <a href="'+o((r=null!=(r=t.returnToWebsiteUrl||(null!=e?e.returnToWebsiteUrl:e))?r:a,"function"==typeof r?r.call(e,{name:"returnToWebsiteUrl",hash:{},data:i}):r))+'">'+o((r=null!=(r=t.returnToWebsiteName||(null!=e?e.returnToWebsiteName:e))?r:a,"function"==typeof r?r.call(e,{name:"returnToWebsiteName",hash:{},data:i}):r))+"</a>\n  </p>"},33:function(e,t,n,i){var r,a=t.helperMissing;return'<p><span class="at-paid-for-by">'+(0,this.escapeExpression)((r=null!=(r=t.paidForByDisclaimerText||(null!=e?e.paidForByDisclaimerText:e))?r:a,"function"==typeof r?r.call(e,{name:"paidForByDisclaimerText",hash:{},data:i}):r))+"</span></p>"},35:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.tracking_pixel:e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=t.if.call(e,null!=e?e.isOberonAndKeepHeaderFooter:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='<section class="at-inner">\n    <header class="',r=t.if.call(e,null!=e?e.hideTitle:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.program(9,i),data:i}),null!=r&&(l+=r),l+='">'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{},data:i}):a))+"</header>\n",r=t.if.call(e,null!=e?e.meter_html:e,{name:"if",hash:{},fn:this.program(11,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.header_html:e,{name:"if",hash:{},fn:this.program(13,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='\n    <div data-subview="error_console"></div>\n\n    <form class="'+s((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:o,"function"==typeof a?a.call(e,{name:"classes",hash:{},data:i}):a))+'" method="post" novalidate action="'+s((a=null!=(a=t.form_id||(null!=e?e.form_id:e))?a:o,"function"==typeof a?a.call(e,{name:"form_id",hash:{},data:i}):a))+'" accept-charset="utf-8" autocomplete="on">\n',r=t.each.call(e,null!=e?e.form_elements:e,{name:"each",hash:{},fn:this.program(15,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.regulationsGovUrl:e,{name:"if",hash:{},fn:this.program(17,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.multistep:e,{name:"if",hash:{},fn:this.program(19,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='<div class="at-form-submit clearfix">\n',r=t.if.call(e,null!=e?e.multistep:e,{name:"if",hash:{},fn:this.program(27,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='            <input type="submit" value="'+s((a=null!=(a=t.submit_label||(null!=e?e.submit_label:e))?a:o,"function"==typeof a?a.call(e,{name:"submit_label",hash:{},data:i}):a))+'" class="at-submit btn-at btn-at-primary">\n        </div>\n    </form>\n    <footer class="at-markup FooterHtml clearfix">\n        ',a=null!=(a=t.footer_html||(null!=e?e.footer_html:e))?a:o,r="function"==typeof a?a.call(e,{name:"footer_html",hash:{},data:i}):a,null!=r&&(l+=r),l+="\n    </footer>\n</section>",r=t.if.call(e,null!=e?e.isOberonAndKeepHeaderFooter:e,{name:"if",hash:{},fn:this.program(30,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.tracking_pixel:e,{name:"if",hash:{},fn:this.program(35,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+'<div data-subview="page_alert"></div>\n<div class="recaptcha-container"></div>\n'},useData:!0});return t.registerPartial("app/templates/form",n),n}),n("hbs!app/templates/_rows",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=t.each.call(e,null!=e?e.rows:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(a+=r),a},2:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="at-row '+s((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:o,"function"==typeof a?a.call(e,{name:"classes",hash:{}}):a))+'">';return r=t.each.call(e,e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(l+=r),l+"</div>"},3:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},5:function(e,t,n,i){var r,a="";return r=t.each.call(e,null!=e?e.children:e,{name:"each",hash:{},fn:this.program(6,i),inverse:this.noop}),null!=r&&(a+=r),a},6:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s=t.helperMissing,l='<div class="at-row at-row-full '+o(a(null!=e?e.name:e,e))+'">\n      ';return r=(t.subview||e&&e.subview||s).call(e,e,{name:"subview",hash:{}}),null!=r&&(l+=r),l+"\n    </div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.rows:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(5,i)}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/_rows",n),t.registerPartial("./_rows",n),n}),n("hbs!app/templates/fieldset",["hbs","Handlebars","hbs!app/templates/_rows"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return'<legend class="at-legend">'+(0,this.escapeExpression)((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+"</legend>"},3:function(e,t,n,i){var r,a=t.helperMissing;return'<div class="at-subtitle">'+(0,this.escapeExpression)((r=null!=(r=t.subTitle||(null!=e?e.subTitle:e))?r:a,"function"==typeof r?r.call(e,{name:"subTitle",hash:{}}):r))+"</div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.subTitle:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),a+='<div class="at-fields">\n',r=this.invokePartial(n["./_rows"],"  ","./_rows",e,void 0,t,n),null!=r&&(a+=r),a+"</div>\n"},usePartial:!0});return t.registerPartial("app/templates/fieldset",n),n}),n("hbs!app/templates/_label",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return"<kbd>"},3:function(e,t,n,i){var r,a,o=t.helperMissing,s="";return a=null!=(a=t.label||(null!=e?e.label:e))?a:o,r="function"==typeof a?a.call(e,{name:"label",hash:{}}):a,null!=r&&(s+=r),s},5:function(e,t,n,i){var r,a=t.helperMissing;return(0,this.escapeExpression)((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))},7:function(e,t,n,i){var r;return" <small>("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Optional:r,e))+")</small>"},9:function(e,t,n,i){return"</kbd>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.labelhide:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(5,i)}),null!=r&&(a+=r),r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(7,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.labelhide:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/_label",n),t.registerPartial("./_label",n),n}),n("hbs!app/templates/textfield",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (read only)"},3:function(e,t,n,i){var r;return r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r?r:""},4:function(e,t,n,i){var r;return" ("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Required:r,e))+")"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(l+=r),l+='<input type="'+s((a=null!=(a=t.type||(null!=e?e.type:e))?a:o,"function"==typeof a?a.call(e,{name:"type",hash:{}}):a))+'" ',a=null!=(a=t.autocomplete||(null!=e?e.autocomplete:e))?a:o,r="function"==typeof a?a.call(e,{name:"autocomplete",hash:{}}):a,null!=r&&(l+=r),l+=" ",a=null!=(a=t.pattern||(null!=e?e.pattern:e))?a:o,r="function"==typeof a?a.call(e,{name:"pattern",hash:{}}):a,null!=r&&(l+=r),l+=" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+=" ",a=null!=(a=t.readonly||(null!=e?e.readonly:e))?a:o,r="function"==typeof a?a.call(e,{name:"readonly",hash:{}}):a,null!=r&&(l+=r),l+=' title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a)),r=t.if.call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(l+=r),l+='" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="'+s((a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:o,"function"==typeof a?a.call(e,{name:"maxlength",hash:{}}):a))+'" ',a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,r="function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(l+=r),l+">\n"},usePartial:!0});return t.registerPartial("app/templates/textfield",n),n}),n("hbs!app/templates/textarea",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (read only)"},3:function(e,t,n,i){var r;return r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r?r:""},4:function(e,t,n,i){var r;return" ("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Required:r,e))+")"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(l+=r),l+="<textarea "+s((a=null!=(a=t.required||(null!=e?e.required:e))?a:o,"function"==typeof a?a.call(e,{name:"required",hash:{}}):a))+" "+s((a=null!=(a=t.readonly||(null!=e?e.readonly:e))?a:o,"function"==typeof a?a.call(e,{name:"readonly",hash:{}}):a))+' title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a)),r=t.if.call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(l+=r),l+='" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" ',a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:o,r="function"==typeof a?a.call(e,{name:"maxlength",hash:{}}):a,null!=r&&(l+=r),l+=" ",a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,r="function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(l+=r),l+">"+s((a=null!=(a=t.default_value||(null!=e?e.default_value:e))?a:o,"function"==typeof a?a.call(e,{name:"default_value",hash:{}}):a))+"</textarea>\n"},usePartial:!0});return t.registerPartial("app/templates/textarea",n),n}),n("hbs!app/templates/checkbox",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<input type="checkbox" '+o((r=null!=(r=t.checked||(null!=e?e.checked:e))?r:a,"function"==typeof r?r.call(e,{name:"checked",hash:{}}):r))+" "+o((r=null!=(r=t.required||(null!=e?e.required:e))?r:a,"function"==typeof r?r.call(e,{name:"required",hash:{}}):r))+' name="'+o((r=null!=(r=t.name||(null!=e?e.name:e))?r:a,"function"==typeof r?r.call(e,{name:"name",hash:{}}):r))+'"> <span class="at-checkbox-title-container"><span class="at-checkbox-title" id="'+o((r=null!=(r=t.labelId||(null!=e?e.labelId:e))?r:a,"function"==typeof r?r.call(e,{name:"labelId",hash:{}}):r))+'">'+o((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+"</span></span>\n"}});return t.registerPartial("app/templates/checkbox",n),n}),n("hbs!app/templates/select",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<option value="'+o((r=null!=(r=t.value||(null!=e?e.value:e))?r:a,"function"==typeof r?r.call(e,{name:"value",hash:{}}):r))+'" '+o((r=null!=(r=t.disabled||(null!=e?e.disabled:e))?r:a,"function"==typeof r?r.call(e,{name:"disabled",hash:{}}):r))+" "+o((r=null!=(r=t.selected||(null!=e?e.selected:e))?r:a,"function"==typeof r?r.call(e,{name:"selected",hash:{}}):r))+">"+o((r=null!=(r=t.display||(null!=e?e.display:e))?r:a,"function"==typeof r?r.call(e,{name:"display",hash:{}}):r))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(l+=r),l+="<select "+s((a=null!=(a=t.multiple||(null!=e?e.multiple:e))?a:o,"function"==typeof a?a.call(e,{name:"multiple",hash:{}}):a))+" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+=" ",a=null!=(a=t.autocomplete||(null!=e?e.autocomplete:e))?a:o,r="function"==typeof a?a.call(e,{name:"autocomplete",hash:{}}):a,null!=r&&(l+=r),l+=' title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" class="'+s((a=null!=(a=t.select_classes||(null!=e?e.select_classes:e))?a:o,"function"==typeof a?a.call(e,{name:"select_classes",hash:{}}):a))+" ",a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+='" id="'+s((a=null!=(a=t.selectId||(null!=e?e.selectId:e))?a:o,"function"==typeof a?a.call(e,{name:"selectId",hash:{}}):a))+'">',r=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(l+=r),l+"</select>\n"},usePartial:!0});return t.registerPartial("app/templates/select",n),n}),n("hbs!app/templates/span",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r;return" <small>("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Optional:r,e))+")</small>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<label for="edit-'+s((a=null!=(a=t.name_lower||(null!=e?e.name_lower:e))?a:o,"function"==typeof a?a.call(e,{name:"name_lower",hash:{}}):a))+'">\n  '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a));return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(l+=r),l+'</label>\n<span class="'+s((a=null!=(a=t.classes||(null!=e?e.classes:e))?a:o,"function"==typeof a?a.call(e,{name:"classes",hash:{}}):a))+'" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'"> '+s((a=null!=(a=t.display||(null!=e?e.display:e))?a:o,"function"==typeof a?a.call(e,{name:"display",hash:{}}):a))+" </span>\n"}});return t.registerPartial("app/templates/span",n),n}),n("hbs!app/templates/radios",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<label id="'+s((a=null!=(a=t.id||(null!=e?e.id:e))?a:o,"function"==typeof a?a.call(e,{name:"id",hash:{}}):a))+'">\n  '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a));return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(l+=r),l+"</label>"},2:function(e,t,n,i){return" <small>(Optional)</small>"},4:function(e,t,n,i,r){var a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<label title="'+s((a=null!=(a=t.display||(null!=e?e.display:e))?a:o,"function"==typeof a?a.call(e,{name:"display",hash:{}}):a))+'" class="at-radio-label-'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" role="radio">\n      <input type="radio" name="'+s(l(null!=r[1]?r[1].name:r[1],e))+'" '+s((a=null!=(a=t.checked||(null!=e?e.checked:e))?a:o,"function"==typeof a?a.call(e,{name:"checked",hash:{}}):a))+' value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'">\n      '+s((a=null!=(a=t.display||(null!=e?e.display:e))?a:o,"function"==typeof a?a.call(e,{name:"display",hash:{}}):a))+"\n    </label>"},6:function(e,t,n,i){return'<div class="radio-description"></div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,r){var a,o,s=t.helperMissing,l=this.escapeExpression,u="";return a=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i,r),inverse:this.noop}),null!=a&&(u+=a),u+='<div class="radios" role="radiogroup" aria-labelledby="'+l((o=null!=(o=t.id||(null!=e?e.id:e))?o:s,"function"==typeof o?o.call(e,{name:"id",hash:{}}):o))+'">\n',a=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(4,i,r),inverse:this.noop}),null!=a&&(u+=a),a=t.if.call(e,null!=e?e.includeDescriptionContainer:e,{name:"if",hash:{},fn:this.program(6,i,r),inverse:this.noop}),null!=a&&(u+=a),u+"\n</div>\n"},useDepths:!0});return t.registerPartial("app/templates/radios",n),n}),n("hbs!app/templates/amount",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i,r){var a,o,s=t.helperMissing,l=this.escapeExpression,u='<label class="label-amount';return a=t.if.call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(2,i,r),inverse:this.noop}),null!=a&&(u+=a),a=t.if.call(e,null!=e?e.isLong:e,{name:"if",hash:{},fn:this.program(4,i,r),inverse:this.noop}),null!=a&&(u+=a),u+='" title="',o=null!=(o=t.display||(null!=e?e.display:e))?o:s,a="function"==typeof o?o.call(e,{name:"display",hash:{}}):o,null!=a&&(u+=a),u+='">\n        <input name="SelectAmount" type="radio" ',a=t.if.call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(6,i,r),inverse:this.noop}),null!=a&&(u+=a),u+=' value="'+l((o=null!=(o=t.val||(null!=e?e.val:e))?o:s,"function"==typeof o?o.call(e,{name:"val",hash:{}}):o))+'">\n        ',o=null!=(o=t.display||(null!=e?e.display:e))?o:s,a="function"==typeof o?o.call(e,{name:"display",hash:{}}):o,null!=a&&(u+=a),u+="\n",a=t.if.call(e,null!=e?e.other:e,{name:"if",hash:{},fn:this.program(8,i,r),inverse:this.program(15,i,r)}),null!=a&&(u+=a),u+"</label>"},2:function(e,t,n,i){return" label-otheramount"},4:function(e,t,n,i){var r,a=t.helperMissing;return" "+(0,this.escapeExpression)((r=null!=(r=t.isLong||(null!=e?e.isLong:e))?r:a,"function"==typeof r?r.call(e,{name:"isLong",hash:{}}):r))},6:function(e,t,n,i){return'class="radio-other" '},8:function(e,t,n,i,r){var a,o='<input type="number" tabindex="-1" autocomplete="transaction-amount" class="edit-otheramount" name="OtherAmount"\n            title="Other Amount" ';return a=t.if.call(e,null!=e?e.otherAmountPlaceholderOverride:e,{name:"if",hash:{},fn:this.program(9,i,r),inverse:this.program(11,i,r)}),null!=a&&(o+=a),o+=">\n",a=t.if.call(e,null!=r[2]?r[2].isUSD:r[2],{name:"if",hash:{},fn:this.program(13,i,r),inverse:this.noop}),null!=a&&(o+=a),o},9:function(e,t,n,i){var r,a=t.helperMissing;return' placeholder="'+(0,this.escapeExpression)((r=null!=(r=t.otherAmountPlaceholderOverride||(null!=e?e.otherAmountPlaceholderOverride:e))?r:a,"function"==typeof r?r.call(e,{name:"otherAmountPlaceholderOverride",hash:{}}):r))+'"\n            '},11:function(e,t,n,i){return' placeholder="0.00" '},13:function(e,t,n,i,r){var a;return'          <span class="label-otheramount-prefix">'+(0,this.escapeExpression)((0,this.lambda)(null!=(a=null!=r[3]?r[3].currency:r[3])?a.symbol:a,e))+"</span>\n"},15:function(e,t,n,i){return"<a></a> "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,r){var a,o='<div class="at-row SelectAmount OtherAmount NonRecurringButtons">\n  <div class="at-radio">\n    <div class="at-radios clearfix">\n';return a=t.each.call(e,null!=e?e.amount_options:e,{name:"each",hash:{},fn:this.program(1,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"    </div>\n  </div>\n</div>\n"},useDepths:!0});return t.registerPartial("app/templates/amount",n),n}),n("hbs!app/templates/contribution",["hbs","Handlebars","hbs!app/templates/_rows","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return'<legend class="at-legend">'+(0,this.escapeExpression)((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+"</legend>"},3:function(e,t,n,i){var r,a='<div class="at-recurring">';return r=t.if.call(e,null!=e?e.includeFrequencyPlaceholder:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r&&(a+=r),r=t.each.call(e,null!=e?e.recurring:e,{name:"each",hash:{},fn:this.program(6,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>"},4:function(e,t,n,i){return'<label class="at-recurring-frequency"></label>'},6:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},8:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression;return'    <div name="AmountSubtitle" class="at-subtitle">\n      '+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ContributionAcceptedIn:r,e))+" <b>"+o(a(null!=(r=null!=e?e.currency:e)?r.code:r,e))+" "+o(a(null!=(r=null!=e?e.currency:e)?r.symbol:r,e))+" - "+o(a(null!=(r=null!=e?e.currency:e)?r.name:r,e))+"</b>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+='<div class="at-fields">\n',r=this.invokePartial(n["./_rows"],"  ","./_rows",e,void 0,t,n),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.recurring:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),r=t.each.call(e,null!=e?e.afterRecurring:e,{name:"each",hash:{},fn:this.program(6,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.showCurrencyNote:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n"},usePartial:!0});return t.registerPartial("app/templates/contribution",n),n}),n("hbs!app/templates/_payment_method_subview_div",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<div data-name="PaymentMethod" data-subview="payment_method_view" data-subview-index="-1" data-cache-key="PaymentMethod" />'}});return t.registerPartial("app/templates/_payment_method_subview_div",n),t.registerPartial("./_payment_method_subview_div",n),n}),n("hbs!app/templates/_cc_readonly",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.cvv:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(a+=r),a},2:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.cvv:e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},4:function(e,t,n,i){var r,a=t.helperMissing,o='<div class="at-row">\n    ';return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.fa:e,{name:"subview",hash:{}}),null!=r&&(o+=r),o+"\n  </div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l=t.helperMissing,u='<div class="at-row at-row-full">\n  <label class="at-text at-cc-number at-cc-number-readonly">'+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.CardNumber:r,e))+'\n    <a href="#edit-account" class="change-account">'+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Edit:r,e))+'</a>\n    <div class="cc-type-wrapper">\n      <div class="cc-type unknown"></div>\n      <input readonly disabled name="Account" type="tel" title="Credit '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:l,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'" value="•••• •••• •••• '+s((a=null!=(a=t.cc_4_digit||(null!=e?e.cc_4_digit:e))?a:l,"function"==typeof a?a.call(e,{name:"cc_4_digit",hash:{}}):a))+'">\n    </div>\n  </label>\n';return r=t.if.call(e,null!=e?e.savedCardRequiresSecurityCode:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+="</div>\n",r=t.if.call(e,null!=e?e.fa:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r&&(u+=r),u}});return t.registerPartial("app/templates/_cc_readonly",n),t.registerPartial("./_cc_readonly",n),n}),n("hbs!app/templates/_paypal",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return"block"},3:function(e,t,n,i){return"none"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u='<div class="at-payment-integration-container" style="display: ';return r=t.if.call(e,null!=e?e.paypalNonce:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(u+=r),u+';">\n  <img src="'+s((a=null!=(a=t.paypalLogoUrl||(null!=e?e.paypalLogoUrl:e))?a:o,"function"==typeof a?a.call(e,{name:"paypalLogoUrl",hash:{}}):a))+'" alt="'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayPal:r,e))+'">\n  <p>'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.AuthorizedThroughPayPal:r,e))+"</p>\n  <div>"+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ContributionAmount:r,e))+': <b class="at-paypal-amount">'+s((a=null!=(a=t.amount||(null!=e?e.amount:e))?a:o,"function"==typeof a?a.call(e,{name:"amount",hash:{}}):a))+"</b></div>\n  <div>"+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Account:r,e))+': <b class="at-paypal-account-info">'+s((a=null!=(a=t.paypalAccount||(null!=e?e.paypalAccount:e))?a:o,"function"==typeof a?a.call(e,{name:"paypalAccount",hash:{}}):a))+'</b></div>\n</div>\n<label class="paypal-label">\n  <input type="hidden" name="paypalNonce" value="'+s((a=null!=(a=t.paypalNonce||(null!=e?e.paypalNonce:e))?a:o,"function"==typeof a?a.call(e,{name:"paypalNonce",hash:{}}):a))+'"/>\n</label>\n\n'}});return t.registerPartial("app/templates/_paypal",n),t.registerPartial("./_paypal",n),n}),n("hbs!app/templates/_eft",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s='  <div class="at-eft-legal-disclaimer at-mode-org-only">\n    ';return a=null!=(a=t.eftLegalDisclaimer||(null!=e?e.eftLegalDisclaimer:e))?a:o,r="function"==typeof a?a.call(e,{name:"eftLegalDisclaimer",hash:{}}):a,null!=r&&(s+=r),s+"\n  </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s="";return r=t.if.call(e,null!=e?e.eftLegalDisclaimer:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(s+=r),
s+'<label class="account-type-label">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.AccountType:r,e))+'\n  <select title="Account Type" name="bankAccountType" id="bankAccountType" style="width:50%;" class="eft-input">\n    <option value="Checking">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Checking:r,e))+'</option>\n    <option value="Savings">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Savings:r,e))+'</option>\n  </select>\n</label>\n<label class="routing-number-label at-row-half">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.RoutingNumber:r,e))+' <a class="at-whatsthis" tabindex="0">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.WhatsThis:r,e))+'</a>\n  <input type="tel" name="routingNumber" id="routingNumber" placeholder="•••••••••" style="width:100%;" maxlength="9" class="eft-input"/>\n</label>\n<label class="account-number-label at-row-half">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.AccountNumber:r,e))+' <a class="at-whatsthis" tabindex="0">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.WhatsThis:r,e))+'</a>\n  <input type="tel" name="bankAccountNumber" id="bankAccountNumber" placeholder="•••••••••••••••••" style="width:100%;" maxlength="17" class="eft-input"/>\n</label>\n<label class="confirm-account-number-label at-row-half">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ConfirmAccountNumber:r,e))+'\n  <input type="tel" name="confirmBankAccountNumber" id="confirmBankAccountNumber" placeholder="•••••••••••••••••" style="width:100%;" maxlength="17" class="eft-input"/>\n</label>\n<label class="at-check authorize-payment-label">\n  <input type="checkbox" name="authorizePayment" id="authorizePayment" class="eft-input"/>\n  <span>'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.EftAuthorizeDisclaimer:r,e))+"</span>\n</label>\n"}});return t.registerPartial("app/templates/_eft",n),t.registerPartial("./_eft",n),n}),n("hbs!app/templates/_applePay",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression;return'<div class="at-payment-integration-container" style="display: none;">\n    <div class="at-apple-pay-button at-apple-pay-button-logo" title="'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ApplePay:r,e))+'"></div>\n    <p>'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.AuthorizedThroughApplePay:r,e))+"</p>\n    <div>"+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ContributionAmount:r,e))+': <b class="apple_pay_amount"></b></div>\n    <div>'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.CardInformation:r,e))+': <b class="apple_pay_card_info"></b></div>\n</div>\n<label class="apple-pay-label">\n    <input type="hidden" name="paymentResponseDetails" class="apple_pay_payment_details" value="" />\n</label>'}});return t.registerPartial("app/templates/_applePay",n),t.registerPartial("./_applePay",n),n}),n("hbs!app/templates/payment_information",["hbs","Handlebars","hbs!app/templates/_payment_method_subview_div","hbs!app/templates/_cc_readonly","hbs!app/templates/_rows","hbs!app/templates/_paypal","hbs!app/templates/_eft","hbs!app/templates/_applePay"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return'<legend class="at-legend">'+(0,this.escapeExpression)((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+"</legend>"},3:function(e,t,n,i){var r,a='  <div class="at-row">\n';return r=this.invokePartial(n["./_payment_method_subview_div"],"    ","./_payment_method_subview_div",e,void 0,t,n),null!=r&&(a+=r),a+"  </div>\n"},5:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_cc_readonly"],"    ","./_cc_readonly",e,void 0,t,n),null!=r&&(a+=r),a},7:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.ccEnabled:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop}),null!=r&&(a+=r),a},8:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_rows"],"      ","./_rows",e,void 0,t,n),null!=r&&(a+=r),a},10:function(e,t,n,i){var r,a='<div class="at-row">\n      <div class="at-paypal-accepted-here" style="display: none;">\n';return r=this.invokePartial(n["./_paypal"],"        ","./_paypal",e,void 0,t,n),null!=r&&(a+=r),a+"      </div>\n    </div>"},12:function(e,t,n,i){var r,a='    <div class="at-row">\n      <div class="at-eft-accepted-here" style="display: none;">\n';return r=this.invokePartial(n["./_eft"],"        ","./_eft",e,void 0,t,n),null!=r&&(a+=r),a+"      </div>\n    </div>\n"},14:function(e,t,n,i){var r,a='    <div class="at-row">\n      <div class="at-apple-pay-accepted-here" style="display: none;">\n';return r=this.invokePartial(n["./_applePay"],"        ","./_applePay",e,void 0,t,n),null!=r&&(a+=r),a+"      </div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.showPaymentMethods:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),a+='<div class="at-fields">',r=t.if.call(e,null!=e?e.isReadonly:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop}),null!=r&&(a+=r),r=t.unless.call(e,null!=e?e.isReadonly:e,{name:"unless",hash:{},fn:this.program(7,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.paypalEnabled:e,{name:"if",hash:{},fn:this.program(10,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.eftEnabled:e,{name:"if",hash:{},fn:this.program(12,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.applePayEnabled:e,{name:"if",hash:{},fn:this.program(14,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n"},usePartial:!0});return t.registerPartial("app/templates/payment_information",n),n}),n("hbs!app/templates/credit_card",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="cc-type-wrapper">\n  <div class="cc-type unknown"></div>\n  <input type="tel" autocomplete="cc-number" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" title="Credit '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'" value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="'+s((a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:o,"function"==typeof a?a.call(e,{name:"maxlength",hash:{}}):a))+'" minlength="'+s((a=null!=(a=t.minlength||(null!=e?e.minlength:e))?a:o,"function"==typeof a?a.call(e,{name:"minlength",hash:{}}):a))+'" ';return a=null!=(a=t.pattern||(null!=e?e.pattern:e))?a:o,r="function"==typeof a?a.call(e,{name:"pattern",hash:{}}):a,null!=r&&(l+=r),l+=' placeholder="'+s((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,"function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a))+'" ',a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+">\n</div>\n"},3:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<div class="cc-type-wrapper vgs-loading-placeholder">\n    <div class="cc-type unknown"></div>\n    <input type="tel" autocomplete="cc-number" title="Credit '+o((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+'" placeholder="'+o((r=null!=(r=t.placeholder||(null!=e?e.placeholder:e))?r:a,"function"==typeof r?r.call(e,{name:"placeholder",hash:{}}):r))+'" readonly="true">\n</div>\n<div id="'+o((r=null!=(r=t.vgsContainerId||(null!=e?e.vgsContainerId:e))?r:a,"function"==typeof r?r.call(e,{name:"vgsContainerId",hash:{}}):r))+'" class="vgs-cc-iframe-wrapper vgs-input-container loading" tabindex="-1"></div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(a+=r),r=t.unless.call(e,null!=e?e.vgsLoaded:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.vgsLoaded:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),a},usePartial:!0});return t.registerPartial("app/templates/credit_card",n),n}),n("hbs!app/templates/cc_expiration",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<input type="'+s((a=null!=(a=t.type||(null!=e?e.type:e))?a:o,"function"==typeof a?a.call(e,{name:"type",hash:{}}):a))+'" pattern="'+s((a=null!=(a=t.pattern||(null!=e?e.pattern:e))?a:o,"function"==typeof a?a.call(e,{name:"pattern",hash:{}}):a))+'" ';return a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+' placeholder="'+s((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,"function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a))+'" autocomplete="cc-exp" title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+" ("+s((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,"function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a))+')" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" min="'+s((a=null!=(a=t.min||(null!=e?e.min:e))?a:o,"function"==typeof a?a.call(e,{name:"min",hash:{}}):a))+'" maxlength="7">\n'},3:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<div class="vgs-loading-placeholder">\n  <input type="tel" autocomplete="cc-exp" title="'+o((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+" ("+o((r=null!=(r=t.placeholder||(null!=e?e.placeholder:e))?r:a,"function"==typeof r?r.call(e,{name:"placeholder",hash:{}}):r))+')" placeholder="'+o((r=null!=(r=t.placeholder||(null!=e?e.placeholder:e))?r:a,"function"==typeof r?r.call(e,{name:"placeholder",hash:{}}):r))+'" readonly="true">\n</div>\n<div id="'+o((r=null!=(r=t.vgsContainerId||(null!=e?e.vgsContainerId:e))?r:a,"function"==typeof r?r.call(e,{name:"vgsContainerId",hash:{}}):r))+'" class="vgs-ccexpiration-iframe-wrapper  vgs-input-container loading"></div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(a+=r),r=t.unless.call(e,null!=e?e.vgsLoaded:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.vgsLoaded:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),a},usePartial:!0});return t.registerPartial("app/templates/cc_expiration",n),n}),n("hbs!app/templates/cvv2",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="cvc-type-wrapper">\n  <div class="cvc-type"></div>\n  <input type="tel" autocomplete="cc-csc" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" pattern="[0-9]{3,4}" value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="4" minlength="3" placeholder="'+s((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,"function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a))+'" ';return a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+">\n</div>\n"},3:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<div class="vgs-cvv-iframe-wrapper vgs-input-container">\n    <div class="cvc-type-wrapper">\n        <div class="cvc-type"></div>\n        <input type="tel" autocomplete="cc-csc" placeholder="'+o((r=null!=(r=t.placeholder||(null!=e?e.placeholder:e))?r:a,"function"==typeof r?r.call(e,{name:"placeholder",hash:{}}):r))+'" readonly="true" class="vgs-loading-placeholder">\n        <div id="'+o((r=null!=(r=t.vgsContainerId||(null!=e?e.vgsContainerId:e))?r:a,"function"==typeof r?r.call(e,{name:"vgsContainerId",hash:{}}):r))+'" class="loading"></div>\n    </div>\n</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(a+=r),r=t.unless.call(e,null!=e?e.vgsLoaded:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.vgsLoaded:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),a},usePartial:!0});return t.registerPartial("app/templates/cvv2",n),n}),n("hbs!app/templates/date",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(l+=r),l+='<input type="'+s((a=null!=(a=t.type||(null!=e?e.type:e))?a:o,"function"==typeof a?a.call(e,{name:"type",hash:{}}):a))+'" title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" maxlength="10" size="10" class="',a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+='" placeholder="'+s((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,"function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a))+'" ',a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+' autocomplete="off">\n'},usePartial:!0});return t.registerPartial("app/templates/date",n),n}),n("app/templates/_helpers/formatMoney",["Handlebars","accounting"],function(e,t){return e.registerHelper("formatMoney",function(e){return t.formatMoney(e)})}),n("hbs!app/templates/ticketing",["hbs","Handlebars","app/templates/_helpers/formatMoney"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return'<legend class="at-legend">'+(0,this.escapeExpression)((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{},data:i}):r))+"</legend>"},3:function(e,t,n,i){var r,a,o=t.helperMissing,s='<div class="at-row at-row-solo at-row-full TicketHeaderHtml">\n    <div class="at-markup TicketHeaderHtml">';return a=null!=(a=t.header||(null!=e?e.header:e))?a:o,r="function"==typeof a?a.call(e,{name:"header",hash:{},data:i}):a,null!=r&&(s+=r),s+"</div>\n  </div>"},5:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression,s=this.lambda;return"<tr data-subview='ticketing_level_view' data-subview-id='"+o((r=null!=(r=t.cid||(null!=e?e.cid:e))?r:a,"function"==typeof r?r.call(e,{name:"cid",hash:{},data:i}):r))+"' data-subview-index='"+o(s(i&&i.index,e))+"'></tr>"},7:function(e,t,n,i){var r,a=t.helperMissing;return"<tr>\n        <td colspan=\"3\">\n          <div data-subview='textfield_view' data-subview-index='"+(0,this.escapeExpression)((r=null!=(r=t.additional||(null!=e?e.additional:e))?r:a,"function"==typeof r?r.call(e,{name:"additional",hash:{},data:i}):r))+"'></div>\n        </td>\n      </tr>"},9:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s='<table class="at-table TicketHolders">\n    <thead>\n      <tr>\n        <th colspan="2">'+o(a(null!=(r=null!=e?e.guest_names:e)?r.label:r,e));return r=t.if.call(e,null!=e?e.optionalTicketHolders:e,{name:"if",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+=" </th>\n        <th>Ticket Level</th>\n      </tr>\n    </thead>\n    <tbody>\n",r=t.each.call(e,null!=e?e.ticket_holders:e,{name:"each",hash:{},fn:this.program(12,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+"    </tbody>\n  </table>"},10:function(e,t,n,i){return'<small class="optional">&nbsp;(Optional)</small>'},12:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression,s=this.lambda;return"<tr data-subview='ticket_holder_view' data-subview-id='"+o((r=null!=(r=t.cid||(null!=e?e.cid:e))?r:a,"function"==typeof r?r.call(e,{name:"cid",hash:{},data:i}):r))+"' data-subview-index='"+o(s(i&&i.index,e))+"'></tr>"},14:function(e,t,n,i){var r,a=t.helperMissing;return"<div class=\"at-row\">\n    <div data-subview='select_view' data-subview-index='"+(0,this.escapeExpression)((r=null!=(r=t.host||(null!=e?e.host:e))?r:a,"function"==typeof r?r.call(e,{name:"host",hash:{},data:i}):r))+"'></div>\n  </div>"},16:function(e,t,n,i){var r,a=t.helperMissing;return"<div class=\"at-row\">\n        <div data-subview='cover_costs_checkbox_view' data-subview-index='"+(0,this.escapeExpression)((r=null!=(r=t.coverCosts||(null!=e?e.coverCosts:e))?r:a,"function"==typeof r?r.call(e,{name:"coverCosts",hash:{},data:i}):r))+"'></div>\n    </div>"},18:function(e,t,n,i){var r,a,o=t.helperMissing,s='<div class="at-row at-row-solo at-row-full TicketFooterHtml">\n    <div class="at-markup TicketFooterHtml">';return a=null!=(a=t.footer||(null!=e?e.footer:e))?a:o,r="function"==typeof a?a.call(e,{name:"footer",hash:{},data:i}):a,null!=r&&(s+=r),s+"</div>\n  </div>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression,s=this.lambda,l="";return r=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='<div class="at-fields">\n',r=t.if.call(e,null!=e?e.header:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='<table class="at-table TicketLevels">\n  <thead>\n    <th colspan="2">Ticket Level</th>\n    <th>Quantity</th>\n  </thead>\n  <tbody>\n',r=t.each.call(e,null!=e?e.ticket_levels:e,{name:"each",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.additional:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='    <tr class="ticketTotals">\n      <td class="pricingTotal" colspan="2">\n        <span class="totalAmount"><b class="label">TOTAL:</b>&nbsp;<b data-total="price">'+o((t.formatMoney||e&&e.formatMoney||a).call(e,null!=(r=null!=e?e.stats:e)?r.total:r,{name:"formatMoney",hash:{},data:i}))+'</b></span>\n      </td>\n      <td class="ticketTotal">\n        <b class="label">QTY:</b>&nbsp;<b data-total="count">'+o(s(null!=(r=null!=e?e.stats:e)?r.count:r,e))+"</b>\n      </td>\n    </tr>\n  </tbody>\n</table>\n",r=t.if.call(e,null!=e?e.showTicketHolders:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.host:e,{name:"if",hash:{},fn:this.program(14,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.coverCosts:e,{name:"if",hash:{},fn:this.program(16,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.footer:e,{name:"if",hash:{},fn:this.program(18,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"</div>\n"},useData:!0});return t.registerPartial("app/templates/ticketing",n),n}),n("hbs!app/templates/ticketing_level",["hbs","Handlebars","app/templates/_helpers/formatMoney"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return'<br /><small class="ticket-description">'+(0,this.escapeExpression)((r=null!=(r=t.publicDescription||(null!=e?e.publicDescription:e))?r:a,"function"==typeof r?r.call(e,{name:"publicDescription",hash:{}}):r))+"</small>"},3:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='      <select id="at-ticket-'+s((a=null!=(a=t.id||(null!=e?e.id:e))?a:o,"function"==typeof a?a.call(e,{name:"id",hash:{}}):a))+'" class="ticket-quantity-select">';return r=t.each.call(e,null!=e?e.levels:e,{name:"each",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r&&(l+=r),l+"</select>\n"},4:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<option value="'+o((r=null!=(r=t.value||(null!=e?e.value:e))?r:a,"function"==typeof r?r.call(e,{name:"value",hash:{}}):r))+'">'+o((r=null!=(r=t.display||(null!=e?e.display:e))?r:a,"function"==typeof r?r.call(e,{name:"display",hash:{}}):r))+"</option>"},6:function(e,t,n,i){return'      <span class="ticket-sold-out">Sold Out</span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<td colspan="2">\n  <label for="at-ticket-'+s((a=null!=(a=t.id||(null!=e?e.id:e))?a:o,"function"==typeof a?a.call(e,{name:"id",hash:{}}):a))+'">\n    <span class="ticket-name">'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+" ("+s((t.formatMoney||e&&e.formatMoney||o).call(e,null!=e?e.price:e,{name:"formatMoney",hash:{}}))+")</span>";return r=t.if.call(e,null!=e?e.publicDescription:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(l+=r),l+="</label>\n</td>\n<td>\n  <label>\n    <kbd>Number of "+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+" tickets ("+s((t.formatMoney||e&&e.formatMoney||o).call(e,null!=e?e.price:e,{name:"formatMoney",hash:{}}))+" each)</kbd>\n",r=t.if.call(e,null!=(r=null!=e?e.levels:e)?r.length:r,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(6,i)}),null!=r&&(l+=r),l+"  </label>\n</td>\n"}});return t.registerPartial("app/templates/ticketing_level",n),n}),n("hbs!app/templates/ticket_holder",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (Required)"},3:function(e,t,n,i){return" required"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u='<td>\n  <label class="ticket-guest-first-label">\n    <kbd>First Name</kbd>\n    <input type="text" maxlength="20" placeholder="First Name" title="Guest First Name';return r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+='" class="ticket-guest-first" id="ticket-guest-first-'+s((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:o,"function"==typeof a?a.call(e,{name:"cid",hash:{}}):a))+'" name="ticket-guest-first-'+s((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:o,"function"==typeof a?a.call(e,{name:"cid",hash:{}}):a))+'" value="'+s((a=null!=(a=t.first||(null!=e?e.first:e))?a:o,"function"==typeof a?a.call(e,{name:"first",hash:{}}):a))+'" ',r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+=' />\n  </label>\n</td>\n<td>\n  <label class="ticket-guest-last-label">\n    <kbd>Last Name</kbd>\n    <input type="text" maxlength="25" placeholder="Last Name" title="Guest Last Name',r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+='" class="ticket-guest-last" id="ticket-guest-last-'+s((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:o,"function"==typeof a?a.call(e,{name:"cid",hash:{}}):a))+'" name="ticket-guest-last-'+s((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:o,"function"==typeof a?a.call(e,{name:"cid",hash:{}}):a))+'" value="'+s((a=null!=(a=t.last||(null!=e?e.last:e))?a:o,"function"==typeof a?a.call(e,{name:"last",hash:{}}):a))+'" ',r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+' />\n  </label>\n<td>\n  <label for="ticket-guest-first-'+s((a=null!=(a=t.cid||(null!=e?e.cid:e))?a:o,"function"==typeof a?a.call(e,{name:"cid",hash:{}}):a))+'">'+s(l(null!=(r=null!=e?e.level:e)?r.title:r,e))+"</label>\n</td>\n"}});return t.registerPartial("app/templates/ticket_holder",n),n}),n("hbs!app/templates/guest_collection",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=t.helperMissing;return'<div class="ticket-holders" id="ticket-holders-'+(0,this.escapeExpression)((r=null!=(r=t.id||(null!=e?e.id:e))?r:a,"function"==typeof r?r.call(e,{name:"id",hash:{}}):r))+'">\n  <ul class="ticket-holders-list">\n  </ul>\n</div>\n'}});return t.registerPartial("app/templates/guest_collection",n),n}),n("hbs!app/templates/inline_error",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<small class="'+o((r=null!=(r=t.behavior_classes||(null!=e?e.behavior_classes:e))?r:a,"function"==typeof r?r.call(e,{name:"behavior_classes",hash:{}}):r))+'">'+o((r=null!=(r=t.error_text||(null!=e?e.error_text:e))?r:a,"function"==typeof r?r.call(e,{name:"error_text",hash:{}}):r))+"</small>\n"}});return t.registerPartial("app/templates/inline_error",n),n}),n("hbs!app/templates/datalist",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<datalist id="'+s((a=null!=(a=t.id||(null!=e?e.id:e))?a:o,"function"==typeof a?a.call(e,{name:"id",hash:{}}):a))+'">';return r=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop}),null!=r&&(l+=r),l+"</datalist>"},2:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(5,i)}),null!=r&&(a+=r),a},3:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<option value="'+o((r=null!=(r=t.value||(null!=e?e.value:e))?r:a,"function"==typeof r?r.call(e,{name:"value",hash:{}}):r))+'">'+o((r=null!=(r=t.key||(null!=e?e.key:e))?r:a,"function"==typeof r?r.call(e,{name:"key",hash:{}}):r))+"</option>"},5:function(e,t,n,i){return'<option value="'+(0,this.escapeExpression)((0,this.lambda)(e,e))+'"></option>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.options:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/datalist",n),n}),n("hbs!app/templates/captcha",["hbs","Handlebars","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l=t.helperMissing,u='    <div class="at-captcha" data-idx="'+s(o(i&&i.index,e))+'">\n      <div class="at-row at-row-full">\n        <span class="at-captcha-header">\n          Deliver your message to '+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:l,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+"\n";return r=t.if.call(e,null!=e?e.simpleCaptcha:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.program(4,i),data:i}),null!=r&&(u+=r),u+='        </span>\n      </div>\n      <div class="at-row">\n        <label class="at-captcha-challenge" style="cursor: default">\n          <div style="margin-bottom: 1rem">\n            <div class="spinner-wrapper"></div>\n',r=t.if.call(e,null!=e?e.simpleCaptcha:e,{name:"if",hash:{},fn:this.program(6,i),inverse:this.program(8,i),data:i}),null!=r&&(u+=r),u+='            <a href="#newCaptcha" class="get-new-captcha-link">Try a different image</a>\n          </div>\n        </label>\n',r=t.if.call(e,null!=e?e.simpleCaptcha:e,{name:"if",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u+"      </div>\n    </div>\n"},2:function(e,t,n,i){return"            by entering the text shown below\n"},4:function(e,t,n,i){var r,a=t.helperMissing;return'            by selecting all images of <b class="at-captcha-phrase">'+(0,this.escapeExpression)((r=null!=(r=t.captchaPhrase||(null!=e?e.captchaPhrase:e))?r:a,"function"==typeof r?r.call(e,{name:"captchaPhrase",hash:{},data:i}):r))+"</b>\n"},6:function(e,t,n,i){var r,a=t.helperMissing;return'              <img class="at-captcha-image" src="'+(0,this.escapeExpression)((r=null!=(r=t.img||(null!=e?e.img:e))?r:a,"function"==typeof r?r.call(e,{name:"img",hash:{},data:i}):r))+'">\n'},8:function(e,t,n,i){var r,a=t.helperMissing,o="                ";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.input:e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o+"\n"},10:function(e,t,n,i){var r,a=t.helperMissing,o="          ";return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.input:e,{name:"subview",hash:{},data:i}),null!=r&&(o+=r),o+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<legend class="at-legend">'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{},data:i}):a))+'</legend>\n<div class="at-fields">\n  <div class="at-row">\n';return r=t.each.call(e,null!=e?e.captchas:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"  </div>\n</div>\n"},useData:!0});return t.registerPartial("app/templates/captcha",n),n}),n("hbs!app/templates/targets",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a='\t<div class="at-targets-head at-targets-have-images">\n';return r=t.each.call(e,null!=e?e.head:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+"\t</div>\n"},2:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="\t\t\t<figure>\n\t\t\t\t<div";return r=t.if.call(e,null!=e?e.sent:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='>\n\t\t\t\t\t<div class="at-target-fallback">\n\t\t\t\t\t\t<div class="at-target-image" style="background-image: url(\''+s((a=null!=(a=t.img||(null!=e?e.img:e))?a:o,"function"==typeof a?a.call(e,{name:"img",hash:{},data:i}):a))+'\')">\n\t\t\t\t\t\t\t<img src="'+s((a=null!=(a=t.img||(null!=e?e.img:e))?a:o,"function"==typeof a?a.call(e,{name:"img",hash:{},data:i}):a))+'" data-idx="'+s((a=null!=(a=t.idx||(null!=e?e.idx:e))?a:o,"function"==typeof a?a.call(e,{name:"idx",hash:{},data:i}):a))+'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<figcaption>\n                    <b>'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+"</b>",r=t.if.call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.meta2:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"\n                </figcaption>\n\t\t\t</figure>\n"},3:function(e,t,n,i){return' class="at-target-sent"'},5:function(e,t,n,i){var r,a=t.helperMissing;return'<br/><span class="at-target-meta at-target-meta-1">'+(0,this.escapeExpression)((r=null!=(r=t.meta||(null!=e?e.meta:e))?r:a,"function"==typeof r?r.call(e,{name:"meta",hash:{},data:i}):r))+"</span>"},7:function(e,t,n,i){var r,a=t.helperMissing;return'<br/><span class="at-target-meta at-target-meta-2">'+(0,this.escapeExpression)((r=null!=(r=t.meta2||(null!=e?e.meta2:e))?r:a,"function"==typeof r?r.call(e,{name:"meta2",hash:{},data:i}):r))+"</span>"},9:function(e,t,n,i){var r,a='\t<div class="at-targets-head at-targets-no-images">\n';return r=t.each.call(e,null!=e?e.head:e,{name:"each",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+"\t</div>\n"},10:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="\t\t\t<div";return r=t.if.call(e,null!=e?e.sent:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+=">\n                <b>"+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",
hash:{},data:i}):a))+"</b>&nbsp;",r=t.if.call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(11,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(13,i),inverse:this.noop,data:i}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.meta2:e,{name:"if",hash:{},fn:this.program(16,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+="\n            </div>",r=t.unless.call(e,i&&i.last,{name:"unless",hash:{},fn:this.program(18,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"\n"},11:function(e,t,n,i){var r,a=t.helperMissing;return'<span class="at-target-meta at-target-meta-1">'+(0,this.escapeExpression)((r=null!=(r=t.meta||(null!=e?e.meta:e))?r:a,"function"==typeof r?r.call(e,{name:"meta",hash:{},data:i}):r))+"</span>"},13:function(e,t,n,i){var r;return r=t.if.call(e,null!=e?e.meta2:e,{name:"if",hash:{},fn:this.program(14,i),inverse:this.noop,data:i}),null!=r?r:""},14:function(e,t,n,i){return'<span class="at-target-meta-comma">, </span>'},16:function(e,t,n,i){var r,a=t.helperMissing;return'<span class="at-target-meta at-target-meta-2">'+(0,this.escapeExpression)((r=null!=(r=t.meta2||(null!=e?e.meta2:e))?r:a,"function"==typeof r?r.call(e,{name:"meta2",hash:{},data:i}):r))+"</span>"},18:function(e,t,n,i){return"<br>"},20:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s='\t<hr>\n\t<div class="at-targets-rest">\n';return r=t.each.call(e,null!=e?e.rest:e,{name:"each",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}),null!=r&&(s+=r),s+'\t\t<br>\n\t\t<a class="at-hide-targets" href="#showLess">Hide recipients</a>\n\t</div>\n\t<a class="at-show-targets" href="#showMore">+ '+o(a(null!=(r=null!=e?e.rest:e)?r.length:r,e))+" more recipients</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.hasImages:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(9,i),data:i}),null!=r&&(a+=r),a+="\n",r=t.if.call(e,null!=(r=null!=e?e.rest:e)?r.length:r,{name:"if",hash:{},fn:this.program(20,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a},useData:!0});return t.registerPartial("app/templates/targets",n),n}),n("hbs!app/templates/target_select",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<option value="'+o((r=null!=(r=t.value||(null!=e?e.value:e))?r:a,"function"==typeof r?r.call(e,{name:"value",hash:{}}):r))+'" '+o((r=null!=(r=t.disabled||(null!=e?e.disabled:e))?r:a,"function"==typeof r?r.call(e,{name:"disabled",hash:{}}):r))+" "+o((r=null!=(r=t.selected||(null!=e?e.selected:e))?r:a,"function"==typeof r?r.call(e,{name:"selected",hash:{}}):r))+">"+o((r=null!=(r=t.display||(null!=e?e.display:e))?r:a,"function"==typeof r?r.call(e,{name:"display",hash:{}}):r))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="at-select-target">\n  <b>'+s((a=null!=(a=t.target||(null!=e?e.target:e))?a:o,"function"==typeof a?a.call(e,{name:"target",hash:{}}):a))+"</b>\n  <span>"+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'</span>\n</div>\n<select required title="'+s((a=null!=(a=t.target||(null!=e?e.target:e))?a:o,"function"==typeof a?a.call(e,{name:"target",hash:{}}):a))+" - "+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'">';return r=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(l+=r),l+"</select>\n"}});return t.registerPartial("app/templates/target_select",n),n}),n("hbs!app/templates/advocacy_tweet",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return"<br>"+(0,this.escapeExpression)((r=null!=(r=t.meta||(null!=e?e.meta:e))?r:a,"function"==typeof r?r.call(e,{name:"meta",hash:{}}):r))},3:function(e,t,n,i){var r;return'<br>\n                <img class="at-twitter-account" src="'+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=e?e.config:e)?r.ASSET_BASE_URL:r,e))+'/images/twitter_account_icon.svg">'},5:function(e,t,n,i){return" (read only)"},7:function(e,t,n,i){var r;return r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop}),null!=r?r:""},8:function(e,t,n,i){return" (required)"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u='<div class="at-advocacy-tweet-field">\n    <figure>\n        <div class="at-target-fallback">\n            <div class="at-target-image" style="background-image: url(\''+s((a=null!=(a=t.img||(null!=e?e.img:e))?a:o,"function"==typeof a?a.call(e,{name:"img",hash:{}}):a))+'\')">\n                <img src="'+s((a=null!=(a=t.img||(null!=e?e.img:e))?a:o,"function"==typeof a?a.call(e,{name:"img",hash:{}}):a))+'">\n            </div>\n        </div>\n        <figcaption>\n            <b>'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+"</b>\n            ";return r=t.if.call(e,null!=e?e.meta:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),r=t.if.call(e,null!=e?e.hasTwitter:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(u+=r),u+='</figcaption>\n    </figure>\n    <div class="at-tweet-area">\n        <label class="at-tweet-label">\n            <textarea class="at-tweet-message" '+s((a=null!=(a=t.required||(null!=e?e.required:e))?a:o,"function"==typeof a?a.call(e,{name:"required",hash:{}}):a))+" "+s((a=null!=(a=t.readonly||(null!=e?e.readonly:e))?a:o,"function"==typeof a?a.call(e,{name:"readonly",hash:{}}):a))+' title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a)),r=t.if.call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.program(7,i)}),null!=r&&(u+=r),u+='" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" maxlength="'+s((a=null!=(a=t.maxlength||(null!=e?e.maxlength:e))?a:o,"function"==typeof a?a.call(e,{name:"maxlength",hash:{}}):a))+'" ',a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,r="function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(u+=r),u+">"+s((a=null!=(a=t.default_value||(null!=e?e.default_value:e))?a:o,"function"==typeof a?a.call(e,{name:"default_value",hash:{}}):a))+'</textarea>\n        </label>\n        <button class="at-tweet-button btn-at-primary">\n            <img src="'+s(l(null!=(r=null!=e?e.config:e)?r.ASSET_BASE_URL:r,e))+'/images/white_twitter_icon.svg"></img>\n            <span>Tweet</span>\n        </button>\n    </div>\n    <div class="at-tweet-closed-msg" style="display: none">\n        <div class="green-check"></div>\n        <h3>Thanks!</h3>\n        <p>Closed the window by mistake? <a class="at-show-tweet" href="tweetAgain">Click here</a> to post your Tweet.\n    </div>\n</div>\n\n'}});return t.registerPartial("app/templates/advocacy_tweet",n),n}),n("hbs!app/templates/recaptcha_grid",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i,r){var a,o='    <div class="at-recaptcha-wrapper">\n';return a=t.each.call(e,e,{name:"each",hash:{},fn:this.program(2,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"    </div>\n"},2:function(e,t,n,i,r){var a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'            <div class="at-recaptcha clearfix">\n                <div data-choice="'+s((a=null!=(a=t.idx||(null!=e?e.idx:e))?a:o,"function"==typeof a?a.call(e,{name:"idx",hash:{}}):a))+'"\n                     style="width: '+s(l(null!=r[2]?r[2].cellWidth:r[2],e))+"; height: "+s(l(null!=r[2]?r[2].cellHeight:r[2],e))+";\n                             background-image:url('"+s(l(null!=r[2]?r[2].img:r[2],e))+"');\n                             background-size:"+s((a=null!=(a=t.bkgSize||(null!=e?e.bkgSize:e))?a:o,"function"==typeof a?a.call(e,{name:"bkgSize",hash:{}}):a))+";\n                             background-position:"+s((a=null!=(a=t.bkgPos||(null!=e?e.bkgPos:e))?a:o,"function"==typeof a?a.call(e,{name:"bkgPos",hash:{}}):a))+';">\n                </div>\n            </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,r){var a,o='<div class="at-recaptcha-table">\n';return a=t.each.call(e,null!=e?e.gridRow:e,{name:"each",hash:{},fn:this.program(1,i,r),inverse:this.noop}),null!=a&&(o+=a),o+"</div>\n"},useDepths:!0});return t.registerPartial("app/templates/recaptcha_grid",n),n}),n("hbs!app/templates/tribute_gift",["hbs","Handlebars","hbs!app/templates/_rows","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-fields">\n';return r=this.invokePartial(n["./_rows"],"    ","./_rows",e,void 0,t,n),null!=r&&(a+=r),a+='    <div class="at-row">\n        <div class="at-tribute-gift" style="display:none">',r=t.each.call(e,null!=e?e.giftChildren:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n    </div>\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/tribute_gift",n),n}),n("hbs!app/templates/recipient_information",["hbs","Handlebars","hbs!app/templates/_rows","app/templates/_helpers/subview"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o='<div class="at-row">\n        ';return r=(t.subview||e&&e.subview||a).call(e,null!=e?e.includeRecipient:e,{name:"subview",hash:{}}),null!=r&&(o+=r),o+"\n    </div>\n"},3:function(e,t,n,i){var r,a=t.helperMissing,o="";return r=(t.subview||e&&e.subview||a).call(e,e,{name:"subview",hash:{}}),null!=r&&(o+=r),o},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="at-fields">';return r=t.if.call(e,null!=e?e.includeRecipient:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(l+=r),l+='    <div class="at-recipient-info">\n        <div class="at-title">'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+"</div>\n",r=this.invokePartial(n["./_rows"],"        ","./_rows",e,void 0,t,n),null!=r&&(l+=r),l+='    </div>\n    <div class="at-row">\n        <div class="at-recipient-msg">',r=t.each.call(e,null!=e?e.notificationFields:e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(l+=r),l+"</div>\n    </div>\n</div>"},usePartial:!0});return t.registerPartial("app/templates/recipient_information",n),n}),n("hbs!app/templates/question",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r;return"<small>("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Optional:r,e))+")</small>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u='<label style="padding:0px 0px 10px 10px" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" class="question-label">\n    '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+"&nbsp;";return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+'<br />\n    <small class="question-required-text" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'-small" style="display: none"><b>'+s(l(null!=(r=null!=e?e.text:e)?r.TitleIsRequired:r,e))+"</b></small>\n</label>\n\n"}});return t.registerPartial("app/templates/question",n),n}),n("hbs!app/templates/ecards",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'        <div class="at-ecard">\n            <div class="at-ecard-img">\n                <img src="'+o((r=null!=(r=t.url||(null!=e?e.url:e))?r:a,"function"==typeof r?r.call(e,{name:"url",hash:{}}):r))+'" alt="'+o((r=null!=(r=t.alt||(null!=e?e.alt:e))?r:a,"function"==typeof r?r.call(e,{name:"alt",hash:{}}):r))+'">\n            </div>\n            <input name="ecard" type="radio" value="'+o((r=null!=(r=t.url||(null!=e?e.url:e))?r:a,"function"==typeof r?r.call(e,{name:"url",hash:{}}):r))+'" '+o((r=null!=(r=t.checked||(null!=e?e.checked:e))?r:a,"function"==typeof r?r.call(e,{name:"checked",hash:{}}):r))+">\n        </div>\n"},3:function(e,t,n,i){var r;return'        <button type="button" class="at-preview-ecard btn-at btn-at-link">'+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PreviewEcard:r,e))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<div class="at-title">\n    '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'\n</div>\n<div class="at-ecards clearfix">\n';return r=t.each.call(e,null!=e?e.ecards:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(l+=r),r=t.if.call(e,null!=e?e.allowPreview:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(l+=r),l+"</div>\n"}});return t.registerPartial("app/templates/ecards",n),n}),n("hbs!app/templates/premium_gifts",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='        <div class="at-gift">\n            <input name="gift" id="gift-'+s((a=null!=(a=t.val||(null!=e?e.val:e))?a:o,"function"==typeof a?a.call(e,{name:"val",hash:{},data:i}):a))+'" type="radio" value="'+s((a=null!=(a=t.val||(null!=e?e.val:e))?a:o,"function"==typeof a?a.call(e,{name:"val",hash:{},data:i}):a))+'" data-threshold="'+s((a=null!=(a=t.threshold||(null!=e?e.threshold:e))?a:o,"function"==typeof a?a.call(e,{name:"threshold",hash:{},data:i}):a))+'" '+s((a=null!=(a=t.checked||(null!=e?e.checked:e))?a:o,"function"==typeof a?a.call(e,{name:"checked",hash:{},data:i}):a))+">\n";return r=t.if.call(e,null!=e?e.img_url:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+='            <div class="description">\n                <label class="gift-title" for="gift-'+s((a=null!=(a=t.val||(null!=e?e.val:e))?a:o,"function"==typeof a?a.call(e,{name:"val",hash:{},data:i}):a))+'">'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{},data:i}):a))+'</label>\n                <label class="gift-description" for="gift-'+s((a=null!=(a=t.val||(null!=e?e.val:e))?a:o,"function"==typeof a?a.call(e,{name:"val",hash:{},data:i}):a))+'">\n                    ',r=t.if.call(e,null!=e?e.threshold:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+'<span class="gift-description-text">'+s((a=null!=(a=t.description||(null!=e?e.description:e))?a:o,"function"==typeof a?a.call(e,{name:"description",hash:{},data:i}):a))+"</span>\n                </label>\n            </div>\n        </div>\n"},2:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'                <div class="gift-img-container" aria-hidden="true">\n                    <div class="gift-img">\n                        <img src="'+o((r=null!=(r=t.img_url||(null!=e?e.img_url:e))?r:a,"function"==typeof r?r.call(e,{name:"img_url",hash:{},data:i}):r))+'" alt="'+o((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{},data:i}):r))+'" onerror="this.style.display=\'none\'">\n                    </div>\n                </div>\n'},4:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l='<span class="gift-threshold">'+s((a=null!=(a=t.threshold||(null!=e?e.threshold:e))?a:o,"function"==typeof a?a.call(e,{name:"threshold",hash:{},data:i}):a))+"</span>\n";return r=t.if.call(e,null!=e?e.willIncrease:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+="                        ",r=t.if.call(e,null!=e?e.description:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(l+=r),l+"\n                    "},5:function(e,t,n,i){var r;return'                            <span class="gift-threshold-warning">'+(0,this.escapeExpression)((0,this.lambda)((r=(r=(r=i&&i.rooix">\n';return r=t.each.call(e,null!=e?e.gifts:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+"</div>\n"},useData:!0});return t.registerPartial("app/templates/premium_gifts",n),n}),n("hbs!app/templates/shipping_information",["hbs","Handlebars","hbs!app/templates/_rows"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=t.helperMissing;return'<legend class="at-legend">'+(0,this.escapeExpression)((r=null!=(r=t.title||(null!=e?e.title:e))?r:a,"function"==typeof r?r.call(e,{name:"title",hash:{}}):r))+"</legend>"},3:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression;return'        <div class="at-row">\n            <div class="at-shipping-cta">\n                <label class="cta-text">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.AddressAutoFillPrompt:r,e))+'</label>\n                <a href="javascript:void(0);" class="auto-fill">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.AutoFillAddress:r,e))+'</a>\n                <a href="javascript:void(0);" class="at-dismiss">&times;</a>\n            </div>\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s="";return r=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(s+=r),s+='<div class="at-fields">\n    <div class="at-row">\n        <label class="at-label">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ShipTo:r,e))+'</label>\n    </div>\n    <div class="at-row">\n        <div class="at-shipping-destinations">\n            <label>\n                <input name="destinations" id="shipping-dest-yourinfo" type="radio" value="yourinfo" checked="true">\n                '+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.YourInformation:r,e))+'\n            </label>\n            <label>\n                <input name="destinations" id="shipping-dest-other" type="radio" value="other">\n                '+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.DifferentAddress:r,e))+'\n            </label>\n        </div>\n    </div>\n    <div class="at-shipping-info">\n',r=t.if.call(e,null!=e?e.showCta:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(s+=r),r=this.invokePartial(n["./_rows"],"        ","./_rows",e,void 0,t,n),null!=r&&(s+=r),s+"    </div>\n</div>\n"},usePartial:!0});return t.registerPartial("app/templates/shipping_information",n),n}),n("hbs!app/templates/page_alert",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return'<div class="at-page-alert-wrapper">\n            <div class="at-alert alert">\n                <span class="alert-content">'+(0,this.escapeExpression)((0,this.lambda)(e,e))+'</span>\n                <a href="javascript:void(0);" class="glyphicons glyphicons-remove at-dismiss"></a>\n            </div>\n        </div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-page-alert">';return r=t.each.call(e,null!=e?e.alerts:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n"}});return t.registerPartial("app/templates/page_alert",n),n}),n("hbs!app/templates/checkbox_list_manager",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r;return"<small>("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Optional:r,e))+")</small>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u='<label name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" class="checkbox-list-label">\n    '+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+"&nbsp;";return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+'<br />\n    <small class="checkbox-list-required-text" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'-small" style="display: none"><b>'+s(l(null!=(r=null!=e?e.text:e)?r.TitleIsRequired:r,e))+"</b></small>\n</label>\n\n"}});return t.registerPartial("app/templates/checkbox_list_manager",n),n}),n("hbs!app/templates/time",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(l+=r),l+='<input type="'+s((a=null!=(a=t.type||(null!=e?e.type:e))?a:o,"function"==typeof a?a.call(e,{name:"type",hash:{}}):a))+'" title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a))+'" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" value="'+s((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,"function"==typeof a?a.call(e,{name:"value",hash:{}}):a))+'" class="timepicker ',a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+='" placeholder="'+s((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,"function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a))+'" ',a=null!=(a=t.required||(null!=e?e.required:e))?a:o,r="function"==typeof a?a.call(e,{name:"required",hash:{}}):a,null!=r&&(l+=r),l+' autocomplete="off">\n'},usePartial:!0});return t.registerPartial("app/templates/time",n),n}),n("hbs!app/templates/international_phone",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({1:function(e,t,n,i){return" (read only)"},3:function(e,t,n,i){var r;return r=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop}),null!=r?r:""},4:function(e,t,n,i){var r;return" ("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Required:r,e))+")"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(l+=r),l+='<input type="tel" class="intl-phone-'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" name="'+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:o,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'" title="'+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a)),r=t.if.call(e,null!=e?e.readonly:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(l+=r),l+='" ',a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,r="function"==typeof a?a.call(e,{name:"placeholder",hash:{}}):a,null!=r&&(l+=r),l+">\n"},usePartial:!0});return t.registerPartial("app/templates/international_phone",n),n}),n("hbs!app/templates/signature_pad",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r;return" <small>("+(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Optional:r,e))+")</small>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u="<label>\n  "+s((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,"function"==typeof a?a.call(e,{name:"title",hash:{}}):a));return r=t.unless.call(e,null!=e?e.required:e,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(u+=r),u+'</label>\n<canvas></canvas>\n<div>\n    <button type="button" name="clear">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Clear:r,e))+'</button>\n    <button type="button" name="undo">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Undo:r,e))+"</button>\n</div>\n"}});return",n),n}),n("hbs!app/templates/payment_method",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return"at-align-flex-right"},3:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<div class="at-btn-radio-wrapper at-credit-card-button-wrapper">\n      <input id="creditcard_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'" type="radio" name="PaymentMethod" value="creditcard" />\n      <label for="creditcard_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'" class="at-btn-radio large" tabindex="0">\n        '+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayWithCard:r,e))+"\n      </label>\n    </div>"},5:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'    <div class="at-btn-radio-wrapper at-eft-button-wrapper">\n      <input id="eft_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'" type="radio" name="PaymentMethod" value="eft"/>\n      <label for="eft_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'" class="at-btn-radio large" tabindex="0">\n        '+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayWithBankAccount:r,e))+"\n      </label>\n    </div>\n"},7:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.isBraintreeIntegration:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.program(10,i)}),null!=r&&(a+=r),a},8:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<div class="at-btn-radio-wrapper at-paypal-button-wrapper">\n        <input id="paypal_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'" type="radio" name="PaymentMethod" value="paypal" />\n        <label for="paypal_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'"  class="at-btn-radio small at-paypal-button" title="'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayWithPayPal:r,e))+'" aria-label="'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayWithPayPal:r,e))+'" tabindex="0">\n          <span aria-hidden="true">&nbsp;</span> \n        </label>\n      </div>\n'},10:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'      <div class="at-btn-radio-wrapper at-paypal-button-wrapper">\n        <input id="paypal_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'" type="radio" name="PaymentMethod" value="paypal" />\n        <label for="paypal_radio_'+s((a=null!=(a=t.idSuffix||(null!=e?e.idSuffix:e))?a:o,"function"==typeof a?a.call(e,{name:"idSuffix",hash:{}}):a))+'"  class="at-btn-radio small at-btn-paypal-commerce-platform" title="'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayWithPayPal:r,e))+'" aria-label="'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PayWithPayPal:r,e))+'" tabindex="0">\n          <div id="paypal-button-container"></div>\n        </label>\n      </div>'},12:function(e,t,n,i){var r,a=t.helperMissing,o=this.escapeExpression;return'<div class="at-btn-radio-wrapper at-apple-pay-button-wrapper">\n      <input id="applepay_radio_'+o((r=null!=(r=t.idSuffix||(null!=e?e.idSuffix:e))?r:a,"function"==typeof r?r.call(e,{name:"idSuffix",hash:{}}):r))+'" type="radio" name="PaymentMethod" value="applepay"/>\n      <label for="applepay_radio_'+o((r=null!=(r=t.idSuffix||(null!=e?e.idSuffix:e))?r:a,"function"==typeof r?r.call(e,{name:"idSuffix",hash:{}}):r))+'" class="at-btn-radio small" tabindex="0">\n        <div class="at-apple-pay-button at-apple-pay-button-base">&nbsp;</div>\n      </label>\n    </div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a='<div class="at-radio-set at-radio-set-buttons ';return r=t.if.call(e,null!=e?e.alignRight:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a+='">',r=t.if.call(e,null!=e?e.ccEnabled:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.eftEnabled:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.paypalEnabled:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop}),null!=r&&(a+=r),r=t.if.call(e,null!=e?e.applePayEnabled:e,{name:"if",hash:{},fn:this.program(12,i),inverse:this.noop}),null!=r&&(a+=r),a+"</div>\n"}});return t.registerPartial("app/templates/payment_method",n),n}),n("hbs!app/templates/match_pro_input",["hbs","Handlebars","hbs!app/templates/_label"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=this.invokePartial(n["./_label"],"","./_label",e,void 0,t,n),null!=r&&(a+=r),a+'  <div id="dd-company-name-input"> </div>\n'},usePartial:!0});return t.registerPartial("app/templates/match_pro_input",n),n}),n("hbs!app/templates/generic_modal",["hbs","Handlebars"],function(e,t){var n=t.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<section id="'+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'-modal" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true" class="at-modal '+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'-modal">\n    <div class="at-modal-inner">\n        <header>\n            <div>\n                '+s((a=null!=(a=t.headerText||(null!=e?e.headerText:e))?a:o,"function"==typeof a?a.call(e,{name:"headerText",hash:{}}):a))+'\n            </div>\n        </header>\n        <div class="at-modal-content" id="'+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'-modal-content"></div>\n        <footer>\n            <div class="at-footer-content" id="'+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'-footer-content"></div>\n        </footer>\n    </div>\n    <a href="#!" title="'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Close:r,e))+'" data-close="Close" data-dismiss="modal" class="at-modal-close">&times;</a>\n</section>\n\n\n'}});return t.registerPartial("app/templates/generic_modal",n),n}),n("hbs!app/templates/fa_confirm_account_modal",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression
;return'            <div>\n              <span class="glyphicons glyphicons-user" aria-label="User"></span>\n              <br>\n              <b>'+o(a(null!=(r=null!=e?e.text:e)?r.UserName:r,e))+"</b>"+o(a(null!=(r=null!=e?e.text:e)?r.UserLocation:r,e))+"\n            </div>\n"},3:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression;return'            <div>\n              <span class="glyphicons glyphicons-credit-card" aria-label="Credit Card"></span>\n              <br>\n              <b>'+o(a(null!=(r=null!=e?e.text:e)?r.UserCardType:r,e))+"</b>"+o(a(null!=(r=null!=e?e.text:e)?r.UserCardDigits:r,e))+"\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s='<section id="fastaction-confirm-account" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true" class="fa-semantic-content fastaction-modal at">\n  <div id="fastaction-confirm-account-inner" class="fa-modal-inner">\n    <div class="fa-modal-wrapper center">\n      <div class="fa-modal-content center">\n        <h1>\n          '+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ConfirmContactInformation:r,e))+'\n        </h1>\n        <div class="fastaction-user-details-container">\n';return r=t.if.call(e,null!=e?e.ShowContactDetails:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(s+=r),r=t.if.call(e,null!=e?e.ShowCardDetails:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop}),null!=r&&(s+=r),s+'        </div>\n      </div>\n      <div class="fa-modal-content center">\n        <div class="panel-buttons center">\n          <a href="#!" class="fastaction-confirm-account-button btn-at btn-at-primary" data-close="Close" data-dismiss="modal">\n            '+o(a(null!=(r=null!=e?e.text:e)?r.YesCompleteDonation:r,e))+'\n          </a>\n        </div>\n        <p class="not-me-container">\n          '+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.NoNotMe:r,e))+'\n          <br>\n          <a href="#!" class="fastaction-account-not-me-button" data-close="Close" data-dismiss="modal">'+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ContinueToForm:r,e))+'</a>\n        </p>\n        <div class="fastaction-images-container">\n          <span class="fastaction-image" aria-label="FastAction image"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="fa-modal-overlay"></div>\n</section>\n'}});return t.registerPartial("app/templates/fa_confirm_account_modal",n),n}),n("hbs!app/templates/fa_main",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a='<div class="fastAction clearfix">';return r=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.program(7,i)}),null!=r&&(a+=r),a+"</div>\n"},2:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l=t.helperMissing,u='    <p style="line-height: 30px">\n      <span class="fa-cta">\n        <a href="#" class="profile-link toggle-menu" aria-label="FastAction">\n          <img class="profile-link-fa-image" src="'+s(o(null!=(r=null!=e?e.config:e)?r.ASSET_BASE_URL:r,e))+'/images/fast-action.svg"> \n          <img class="toggle-menu-triangle" src="'+s(o(null!=(r=null!=e?e.config:e)?r.ASSET_BASE_URL:r,e))+'/images/triangle.png" srcset="'+s(o(null!=(r=null!=e?e.config:e)?r.ASSET_BASE_URL:r,e))+'/images/triangle.svg 2x">\n        </a>\n        <span><a href="'+s((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:l,"function"==typeof a?a.call(e,{name:"fastaction_url",hash:{}}):a))+'##whats-this" class="circle" id="fastaction-whatsthis" data-popup="true" data-popup-width="450" data-popup-height="850" target="_blank">?</a></span>\n      </span>\n      <span class="fa-lead">';return r=t.if.call(e,null!=e?e.authed:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(5,i)}),null!=r&&(u+=r),u+='</span>\n    </p>\n    <ul id="profile-menu">\n      <li><a href="'+s((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:l,"function"==typeof a?a.call(e,{name:"fastaction_url",hash:{}}):a))+'/profile" data-popup="true" target="_blank" id="fastaction-profile">',r=o(null!=(r=null!=e?e.text:e)?r.EditMyBlankProfile:r,e),null!=r&&(u+=r),u+'</a></li>\n      <li><a href="'+s((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:l,"function"==typeof a?a.call(e,{name:"fastaction_url",hash:{}}):a))+'/logout" data-popup="true" data-popup-width="1" data-popup-height="1" data-popup-top="0" data-popup-left="0" class="fastaction-logout">'+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.LogOut:r,e))+"</a></li>\n    </ul>\n"},3:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l=t.helperMissing;return s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Not:r,e))+"&nbsp;<b>"+s((a=null!=(a=t.name||(null!=e?e.name:e))?a:l,"function"==typeof a?a.call(e,{name:"name",hash:{}}):a))+'</b>? <a href="'+s((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:l,"function"==typeof a?a.call(e,{name:"fastaction_url",hash:{}}):a))+'/logout" data-popup="true" data-popup-width="1" data-popup-height="1" data-popup-top="0" data-popup-left="0" class="fastaction-logout">'+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ClickHereLogout:r,e))+"</a>."},5:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda;return'<a href="'+s((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:o,"function"==typeof a?a.call(e,{name:"fastaction_url",hash:{}}):a))+'/logout" data-popup="true" data-popup-width="1" data-popup-height="1" class="fastaction-logout">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ForgetThisDevice:r,e))+"</a>."},7:function(e,t,n,i){var r,a,o=this.lambda,s=this.escapeExpression,l=t.helperMissing,u='    <p>\n      <span class="fa-cta">\n        <a href="#fastaction-login" class="profile-link" aria-label="FastAction">\n          <img class="profile-link-fa-image" src="'+s(o(null!=(r=null!=e?e.config:e)?r.ASSET_BASE_URL:r,e))+'/images/fast-action.svg"> \n        </a>\n        <span><a href="'+s((a=null!=(a=t.fastaction_url||(null!=e?e.fastaction_url:e))?a:l,"function"==typeof a?a.call(e,{name:"fastaction_url",hash:{}}):a))+'##whats-this" class="circle" id="fastaction-whatsthis" data-popup="true" data-popup-width="515" data-popup-height="540" target="_blank">?</a></span>\n      </span>\n      <span class="fa-lead">\n        '+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.TakeFutureAction:r,e))+'<br>\n        <a href="#fastaction-login" class="call-modal" id="fastaction-widget-login">'+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.LogIn:r,e))+"</a>&nbsp;"+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.Or:r,e))+'&nbsp;<a href="#fastaction-signup" class="call-modal" id="fastaction-widget-signup">'+s(o(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.SignUp:r,e))+"</a>&nbsp;";return r=o(null!=(r=null!=e?e.text:e)?r.ForBlank:r,e),null!=r&&(u+=r),u+"\n      </span>\n    </p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.if.call(e,null!=e?e.cookieCompliance:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/fa_main",n),n}),n("hbs!app/templates/fa_modal",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){var r,a=this.lambda,o=this.escapeExpression,s="<h1>"+o(a(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.ThanksForYourSupport:r,e))+"</h1>\n          <p>"+o(a(null!=(r=null!=e?e.text:e)?r.StoredOnThisDevice:r,e))+"</p>\n          <p>";return r=a(null!=(r=null!=e?e.text:e)?r.SignUpForAnAccount:r,e),null!=r&&(s+=r),s+'</p>\n          <div class="fastaction-images-container">\n            <span class="fastaction-image" aria-label="FastAction image"></span>\n          </div>'},3:function(e,t,n,i){var r,a=this.lambda,o="<h1>";return r=a(null!=(r=null!=e?e.text:e)?r.SingleClick:r,e),null!=r&&(o+=r),o+="</h1>\n          <div>",r=a(null!=(r=null!=e?e.text:e)?r.AutofillQuickly:r,e),null!=r&&(o+=r),o+"</div>"},5:function(e,t,n,i){var r;return(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.LogIn:r,e))},7:function(e,t,n,i){var r;return(0,this.escapeExpression)((0,this.lambda)(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.SignUp:r,e))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a,o=t.helperMissing,s=this.escapeExpression,l=this.lambda,u='<section id="fastaction-'+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true" class="fa-semantic-content fastaction-modal at">\n  <div id="fastaction-'+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'-inner" class="fa-modal-inner">\n    <div class="fa-modal-wrapper center">\n      <header>';return r=t.if.call(e,null!=e?e.nologin:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i)}),null!=r&&(u+=r),u+='</header>\n      <div class="fa-modal-content center">\n        <div class="panel-buttons center">\n            <a id="'+s((a=null!=(a=t.prefix||(null!=e?e.prefix:e))?a:o,"function"==typeof a?a.call(e,{name:"prefix",hash:{}}):a))+'-fastaction-actionid" href="'+s((a=null!=(a=t.url||(null!=e?e.url:e))?a:o,"function"==typeof a?a.call(e,{name:"url",hash:{}}):a))+"/auth/"+s((a=null!=(a=t.actionid||(null!=e?e.actionid:e))?a:o,"function"==typeof a?a.call(e,{name:"actionid",hash:{}}):a))+'" class="btn-at btn-at-primary" data-popup="true" data-width="500" data-height="535" target="_self">\n                <span class="glyphicons glyphicons-envelope"></span>\n                '+s(l(null!=(r=null!=e?e.text:e)?r.ActionText:r,e))+"\n            </a>\n        </div>\n        <p>\n          ",r=l(null!=(r=null!=e?e.text:e)?r.NoSocialLoginExplaination:r,e),null!=r&&(u+=r),u+='\n        </p>\n        <p class="fa-modal-notusing-wrapper">',r=l(null!=(r=null!=e?e.text:e)?r.AlreadyHaveFastAction:r,e),null!=r&&(u+=r),u+="\n          ",r=l(null!=(r=null!=e?e.text:e)?r.OtherOptionText:r,e),null!=r&&(u+=r),u+='\n          <a href="#fastaction-'+s((a=null!=(a=t.other||(null!=e?e.other:e))?a:o,"function"==typeof a?a.call(e,{name:"other",hash:{}}):a))+'">\n            ',r=t.if.call(e,null!=e?e.isSignup:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.program(7,i)}),null!=r&&(u+=r),u+='\n          </a>\n        </p>\n        <p class="fa-modal-disclaimer-wrapper" style="display: none">',r=l(null!=(r=null!=e?e.text:e)?r.ByClickingAgree:r,e),null!=r&&(u+=r),u+' <a href="'+s((a=null!=(a=t.url||(null!=e?e.url:e))?a:o,"function"==typeof a?a.call(e,{name:"url",hash:{}}):a))+'/terms" target="_blank">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.TermsOfService:r,e))+"</a> "+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.And:r,e))+' <a href="'+s((a=null!=(a=t.url||(null!=e?e.url:e))?a:o,"function"==typeof a?a.call(e,{name:"url",hash:{}}):a))+'/privacy" target="_blank">'+s(l(null!=(r=null!=(r=null!=e?e.resources:e)?r.PrimaryResources:r)?r.PrivacyPolicy:r,e))+'</a></p>\n      </div>\n    </div>\n  </div>\n  <a href="#!" title="Close this modal" data-close="Close" data-dismiss="modal" class="fa-modal-close">&times;</a>\n</section>\n'}});return t.registerPartial("app/templates/fa_modal",n),n}),n("hbs!app/templates/errors",["hbs","Handlebars"],function(e,t){var n=t.template({1:function(e,t,n,i){return'<div class="at-alert at-error" tabindex="-1">'+(0,this.escapeExpression)((0,this.lambda)(e,e))+'<a class="at-dismiss" href="#">&times;</a></div>'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,a="";return r=t.each.call(e,null!=e?e.messages:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop}),null!=r&&(a+=r),a}});return t.registerPartial("app/templates/errors",n),n}),n("templates",["hbs!app/templates/form","hbs!app/templates/fieldset","hbs!app/templates/textfield","hbs!app/templates/textarea","hbs!app/templates/checkbox","hbs!app/templates/select","hbs!app/templates/span","hbs!app/templates/radios","hbs!app/templates/amount","hbs!app/templates/contribution","hbs!app/templates/payment_information","hbs!app/templates/credit_card","hbs!app/templates/cc_expiration","hbs!app/templates/cvv2","hbs!app/templates/date","hbs!app/templates/ticketing","hbs!app/templates/ticketing_level","hbs!app/templates/ticket_holder","hbs!app/templates/guest_collection","hbs!app/templates/inline_error","hbs!app/templates/datalist","hbs!app/templates/captcha","hbs!app/templates/targets","hbs!app/templates/target_select","hbs!app/templates/advocacy_tweet","hbs!app/templates/recaptcha_grid","hbs!app/templates/tribute_gift","hbs!app/templates/recipient_information","hbs!app/templates/question","hbs!app/templates/ecards","hbs!app/templates/premium_gifts","hbs!app/templates/shipping_information","hbs!app/templates/page_alert","hbs!app/templates/checkbox_list_manager","hbs!app/templates/time","hbs!app/templates/international_phone","hbs!app/templates/signature_pad","hbs!app/templates/payment_method","hbs!app/templates/match_pro_input","hbs!app/templates/generic_modal","hbs!app/templates/fa_confirm_account_modal","hbs!app/templates/fa_main","hbs!app/templates/fa_modal","hbs!app/templates/errors"],function(e,t,n,i,r,a,o,s,l,u,c,d,p,h,f,m,g,v,y,b,w,_,x,C,k,A,E,T,P,S,I,D,M,N,R,F,O,L,$,V,q,U,j,H){return{form:e,fieldset:t,textfield:n,textarea:i,checkbox:r,radios:s,select:a,span:o,date:f,contribution:u,amount:l,payment_information:c,credit_card:d,cc_expiration:p,cvv2:h,ticketing:m,ticketing_level:g,ticket_holder:v,guest_collection:y,captcha:_,targets:x,target_select:C,advocacy_tweet:k,recaptcha_grid:A,question:P,datalist:w,inline_error:b,NAME:"minimal",tribute_gift:E,recipient_information:T,ecards:S,premium_gifts:I,shipping_information:D,page_alert:M,checkbox_list_manager:N,time:R,international_phone:F,cover_costs_checkbox:r,signature_pad:O,payment_method:L,match_pro_input:$,employer_occupat:V,fa_confirm_account_modal:q,fa_main:U,fa_modal:j,errors:H}}),n("fastaction_config",["jquery.amd"],function(e){function t(){return e(".ngp-form")}function"}function r(e){return n()+"/api/v1/profile/"+e}function a(e){return n()+"/api/v1/profile/"+e+"/log_in"}function o(){return n()+"/api/v1/forms/"}var s={localhost:/^https?:\/\/localhost/i,notSSL:/^http:/i,trailingSlash:/\/+$/};return{urls:{base:n,identity:i,profile:r,forms:o,loginProfile:a}}}),n("fastActionUser",["fastaction_config","bac._;return new(t.Model.extend({__name__:"FastActionUser",initialize:function(){a.bindAll(this,"fetch","clear","onSyncError","loginAndFetchProfile")},name:function(){var e="",t=this.get("profiles");if(t){if(t.facebook)return t.facebook.name;e=t.onid.emails[0].value))}return e},onSyncError:function(e,t,n){this.trigger("syncError",e,t,n)},url:function(){return e.urls.profile(this.get("id"))},getCardForPool:function(e){return a(this.get("savedCards")).find({tokenPool:e})},fetch:function(o){o=o||{},o.cache=!n.ie&&(o.cache||!1);var s=this,l=r.Deferred();if(i.areFunctionalCookiesAccepted()){var u=r.ajax({dataType:"json",type:"GET",url:e.urls.identity(),crossDomain:!0,xhrFields:{withCredentials:!0}});u.then(function(e,i,c){var d=e.fastActionSessionId,p=e.dnt&&(!n.ie||"10"!==n.version);d&&s.set("fastActionSessionId",d),s.set("dnt",p),p&&r('.at input[name="updateMyProfile"]').prop("checked",!1),e.id?(s.set("id",e.id),s.set("authed",e.authed||!1),e.savedCards&&e.savedCards.length?s.set("savedCards",e.savedCards):s.unset("savedCards"),o.error=s.onSyncError,o.xhrFields={withCredentials:!0},t.Model.prototype.fetch.call(s,o).then(l.resolve,l.reject)):(o.clear&&(a.invoke(window.nvtag.data,"clear"),s.logout()),l.reject(s,u,"error","Unauthorized"))},a.partial(l.reject,s))}else l.reject("Functional cookies not accepted");return l.promise()},clion(e,t){"fastActionSessionId"!==t&&"dnt"!==t&&this.unset(t)},this),this.trigger("clear")},logout:function(){return this.trigger("logout").clear()},loginAndFetchProfile:function(n){var i={url:e.urls.loginProfile(n),cache:!1,xhrFields:{withCredentials:!0},error:this.onSyncError};return t.Model.prototype.fetch.call(this,i)},fetchProfileWithoutLoggingIn:function(){var n=this.get("id"),i={url:e.urls.profile(n),cache:!1,xhrFields:{withCredentials:!0},error:this.onSyncError};return t.l(this,i)}}))}),n("auth_popups",["jquery.amd","underscornction i(t){var i=new e.Deferred,r=new Image,a=function(){i.resolve(t)},o=t+"?_="+n.now();return r.onload=a,r.onerror=a,n.defer(function(){r.src=o}),i.promise()}function r(t){var r=n(t);return r.isArray()&&!r.isEmpty()?e.when.apply(e,r.map(i).value()):(new e.Deferred).resolve(t).promise()}var a=/&tknfa=[^&]+/;return function(i){e("a[data-popup]").unbind().click(function(o){o.preventDefault();var s,l,u=e(this).data(),c=e(this).attr("href"),d=window.location,p={left:0,top:0,width:u.popupWidth||1025,height:u.popupHeight||640};if(/logout/.test(c))return e.jsonp({url:c,cache:!1}).then(function(e){r(e),a.test(d.search)?window.location=d.protocol+"//"+d.host+d.pathname+d.search.replace(a,""):(n.invoke(window.nvtag.data,"clear"),t("fastActionUser").clear().fetch({cache:!1}))});if("popupTop"in u&&"popupLeft"in u?(p.top=~~u.popupTop,p.left=~~u.popupLeft):screen&&screen.width&&screen.height&&(p.top=~~(screen.height/2-p.height/2),p.left=~~(screen.width/2-p.width/2)),i){var h,f,m=n.indexOf(c,"#"),g="?fastActionSessionId="+encodeURIComponent(i);m>0?(h=c.substr(0,m),f=c.substr(m),c=h+g+f):c+=g}l={url:c,name:"FastAction",options:"toolbar=0,menubar=0,location=0,status=0,scrollbars=1,resizable=0,"+e.param(p).replace(/&/g,",")},s=window.open(l.url,l.name,l.options);var v=function(e){var t=function(){s.closed?(window.location.hash&&(window.location.hash="!"),e()):setTimeout(t,1e3/60)};setTimeout(t,1e3/60)};/auth/.test(ache:!1})}):/profile/.test(l.url)&&v(function(){t("fastActionUser").fetch({cache:!1,clear:!0}).then(function(){t("fast_databag").fetch({cache:!1})})})})}}),n("FastActionView",["backbone","fastaction_config","fast_databag","auth_popups","templates","ActionTagConfig","cookieConsentConfiguration"],function(e,t,n,i,r,a,o){var s=e.$,l=e._;return e.View.extend({__name__:"FastActionView",events:{"click .toggle-menu":"toggleMenu","click #profile-menu a":"closeMenu"},initialize:function(e){return l.bindAll(this,"render"),this.asked=!1,this.options=e,this.resources=this.options.resources||{},this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"clear",this.render),this.listenTo(n,"sync",this.render),this.listenTo(n,"clear",this.render),this.listenTo(o,"change:functionalAccepted",this.render),this.render()},toggleMenu:function(e){e.preventDefault();var t=s(e.currentTarget);if(!/^https?/.test(t.attr("href"))){var n=t.position();return n.top+=t.height()-2,this.$("#profile-menu").toggle().css(n),t.toggleClass("menu-open"),this}},turn e.preventDefault(),this.$("#profile-menu").hide(),this.$(".profile-link").removeClass("menu-open"),this},clearFeedback:function(){return this},render:function(){var e={fastaction_url:t.urls.base(),resources:this.resources||{},config:a||{},cookieCompliance:!1},s=this.model.has("fastActionSessionId")?this.model.get("fastActionSessionId"):null;return s&&(e.authed=this.model.get("authed"),e.name=n.name()||this.model.name(),e.id=this.model.get("id")),this.options.nologin||(e.authed=!0),e.text={EditMyBlankProfile:this.resources.fill(this.resources.PrimaryResources.EditMyBlankProfile,"<i>Fast</i><b>Action</b>"),ForBlank:this.resources.fill(this.resources.PrimaryResources.ForBlank,"<i>Fast</i><b>Action</b>")},o.areFunctionalCookiesAccepted()&&(e.cookieCompliance=!0),this.$el.html(r.fa_main(e)),i(s),this}})}),n("currency",["backbone"],function(e){var t=window&&window.navigator&&window.navigator.languages&&window.navigator.languages[0]||"en-US",n={USD:{resourceName:"USDollar",code:"USD",symbol:"$"},CAD:{resourceName:"CanadianDollar",code:"CAD",symbol:"$"},EUR:{resourceName:"Euro",code:"EUR",symbol:"€"},GBP:{resourceName:"PoundSterling",code:"GBP",symbol:"£"},AUD:{resourceName:"AustralianDollar",code:"AUD",symbol:"$"},HKD:{resourceName:"HongKongDollar",code:"HKD",symbol:"$"},CHF:{resourceName:"SwissFranc",coceName:"DanishKrone",code:"DKK",symbol:"DKK"}};return new(e.Model.extend({__name__:"ContributionCurrency",initialize:function(){this.setByCode("USD")},getCurrency:function(){return n[this.get("currency")]},setByCode:function(e){return this.set({currency:e||"USD"}),this.getCurrency()},format:function(e){if("other"===e)return null;var n=parseFloat(e)||0,i=n%1==0?0:2,r=this.get("currency");return n.toLocaleString(t,{style:"currency",currency:r,currencyDisplay:"symbol",maximumFractionDigits:2,minimumFractionDigits:i})}}))}),n("FastAction",["backbone","templates","fastaction_config","fastActionUser","FastActionView","auth_popups","profile_databag","fast_databag","currency","coo,c){function d(){return!c.FASTACTION_ENABLEn g(e).pluck("name").contains("PaymentInformation")}function h(e){d()||g.each(window.nvtag.tags,function(t){t.formviews.current.setFastActionState(e)})}function f(e,i,r,a){var o="";i.FirstName&&(o=i.FirstName,i.LastName&&(o+=" "+i.LastName[0],i.LastName.length>1&&(o+=".")));var s=[];i.City&&s.push(i.City),i.StateProvince&&s.push(i.StateProvince);var u="";s.length&&(o&&(u+=" • "),u+=s.join(", "));var c="";r.ccType&&(c+=" • "),c+="****"+r.ccLastFour;var d=e.options.form_definition.resources,p=e.val(),h=n.urls.base();e.$el.find("#fastaction-confirm-account").remove(),e.$el.append(t.fa_confirm_account_modal({text:{UserName:o,UserLocation:u,UserCardType:r.ccType,UserCardDigits:c,YesCompleteDonation:d.fill(d.PrimaryResources.YesCompleteDonation,l.format(p.Amount))},ShowContactDetails:o||u,ShowCardDetails:r.ccType||r.ccLastFour,fastaction_url:h,resources:d})),m("a.fastaction-confir(a)}var m=e.$,g=e._,v=null,y=null,b=!1,w=!1,_=!1,x=!1,C=!1,k=null,A="<i>Fast</i><b>Action</b>",E=null;window.user=i;var T=function(){return v&&v.render()};return new(function(){function e(e,t,n){e.triggeqs:n},e.focusOnNextRequiredValueOrSubmit({shouldRenderFeedback:!0,submissionType:"fastActionAutoSubmit"})}function l(e,t,n){e()}var r=m.Deferred(),a=!1;return f(e,t,n,i),window.location.hash="#fastaction-confirm-account",m(document).one("cssmodal:hide",function(){a||r.reject()}),r.promise()}function c(){}var P=m.Deferred(),S=m.Deferred(),I=m.Deferred(),D=m.Deferred(),M=m.Deferred();return window.nvtag.once("sync:formdef",D.resolve),u.on("change:functionalAccepted",M.resolve),u.areFunctionalCookiesAccepted()&&M.resolve(),m.when(D,M).done(function(t){var n=t.model;if(n.get("fastAction")){var r=n.get("metadata"),a=t.getAcceptedTokenPool(),o=n.get("autoFastAction"),u=t.options.query_string,c=o&&t.isFirstForm()&&u.tknfa&&"org"!==formview.contactMode;if(c&&m.when(P,I,S).done(function(){i.getCardForPool(a)&&e(t,u.tknfa,u)}),r&&r.fastActionLoginId){var d=r.fastActionLoginId,p=function(){i.set("id",d),i.loginAndFetchProfile(d).then(function(){I.resolve()})},h=function(){I.reject(),i.logout();var e=/tknfa=[^&#]*/,t=window.location.href,n=t.replace(e,"notme=1");window.location=n};if(c){s.set(=i.set("id",d).fetchProfileWithoutLoggingIn();m.when(S,f).then(function(){var e=s.getDict(),n=i.getCardForPool(a);n?g.defer(function(){l(t,e,n).then(p,h)}):p()})}else p()}else i.fetch().then(function(){I.resolve()})}}),i.on("syncError",function(){b=!0}),i.on("change:id",function(e,t){t?(m('.at input[name="updateMyProfile"]').prop("checked",!0),x=!0,b=!1,k=s.set("id",t).fetch({cache:!1}).then(function(){},s.deferred.reject)):(x=!1,g.each(window.nvtag.tags,function(e){var t=e.formviews.current,n=t.options.form_definition.resources;t.clear().fill(),_?t.$(".updateMyProfileSection").show().find(".text").html(n.fill(n.PrimaryResources.RememberMeFastActionNextTime,A)):t.$(".updateMyProfileSection").hide(),t.multistep&&t.getStepIndex()&&t.setStep(1)}))}),c.prototype.alterFormDefinition=function(e){_=!!e.form_definition.fastActionNologin,C=!!e.query_string.kiosk,y=!C&&!!e.form_definition.fastAction;var t=!e.form_definition.hideUpdateMyFastActionProfile;if(d())return e;e.form_definition.form_elements.unshift({type:"markup",markup:'<div class="fastaction-block"></div>',name:"FastAction"});var n=e.form_definition.resources;if(t){var i={type:"markup",markup:'<div class="updateMyProfileSection" style="display: none"><label style="display:inline;"><input type="checkbox" name="updateMyProfile" checked="checked"><span><span class="text">'+n.fill(n.PrimaryReso></label></div>",name:"UpdateMyProfile",contactMode:"person"},r=g(e.form_definition.form_elements).filter(function(e){return e.hasOwnProperty("children")}),a=null;a="EventForm"===e.form_definition.type?r.first():r.find({name:"PaymentInformation"})||r.first(),a&&a.children.push(i)}return e},c.prototype.postFill=function(e){if(d())return e;var t=e.view,n=e.fill_source,i=e.fill_dict;return"FastAction"===n&&i&&(t.clearFeedback(),S.resolve()),this.adjustCheckbox(t),e},c.prototype.adjustCheckbox=function(e){var t;if(e.options.form_definition&&e.options.form_definition.resources?t=e.options.form_definition.resources:e.options.formview&&e.options.formview.options.form_definition&&e.options.formview.options.form_definition.resources&&(t=e.options.formview.options.form_definition.resources),t){var n=t.fill(t.PrimaryResources.UpdateMyFastActionProfile,A);if(_){var i=e.$(".updateMyProfileSection").show().find(".text");i.html(x?n:t.fill(t.PrimaryResources.RememberMeFastActionNextTime,A))}else x?e.$(".updateMyProfileSection").show().find(".text").html(n):e.$(".updateMyProfileSection").hide();u.areFunctionalCookiesAccepted()||e.$(".updateMyProfileSection").hide()}},c.prototype.postRender=function(e){return d()?e:(m(e.options.el).find('input[name="updateMyProfile"]').on("change",function(e){e.stopImmediatePropagation()}),e&&e.thank&&m(e.options.el).prepend('<div class="fastaction-block"></div>'),v||(v=new r({el:".fastaction-block",model:i,nologin:_,resources:e.form_definition.resources||{}})),g.isEmpty(i.get("profiles"))&&k&&kh(i)}),P.resolve(),e)},c.prototype.segue=function(e){var r=!C&&g.find(e.formviews,function(e){return e.model.has("fastAction")&&e.model.get("fastAction")}),o=e.formviews.current,l=o.options.form_definition.resources;if(r){var c={AutofillQuickly:l.fill(l.PrimaryResources.AutofillQuickly,A),SingleClick:l.fill(l.PrimaryResources.SingleClick,"<br>")},d=e.thank&&_&&w,h=n.urls.base();e.calling_tag.$el.find(".fastaction-modal").remove(),e.calling_tag.$el.append(t.fa_modal({isSignup:!0,nologin:d,url:h,prefix:"signup",other:"login",actionid:"actionid_signup",text:g.extend({StoredOnThisDevice:l.PrimaryResources.StoredOnThisDevice,SignUpForAnAccount:l.fill(l.PrimaryResources.SignupForAnAccount,A),ActionText:d?l.PrimaryResources.SignUpNow:l.PrimaryResources.SignUpWithYourEmail,OrBlankUsing:l.fill(l.PrimaryResources.OrBlankUsing,l.PrimaryResources.SignUp.toLowerCase()),OtherOptionText:l.fill(l.PrimaryResources.AlreadyHaveFastAction,A),ByClickingAgree:l.fill(l.PrimaryResources.ByClickingAgree,l.PrimaryResources.LogIn,A)},c),resources:l})).append(t.fa_modal({url:h,prefix:"login",other:"signup",actionid:"actionid",text:g.extend({ActionText:l.PrimaryResources.LogInWithYourEmail,OrBlankUsing:l.fill(l.PrimaryResources.OrBlankUsing,l.PrimaryResources.LogIn.toLowerCase()),OtherOptionText:l.fill(l.PrimaryResources.DontHaveFastAction,A),ByClickingAgree:l.fill(l.PrimaryResources.ByClickingAgree,l.PrimaryResources.SignUp,A),NoSocialLoginExplaination:l.fill(l.PrimaryResources.NoSocialLoginExplaination,A)},c),resources:l})),e.thank&&_&&!x&&u.areFunctionalCookiesAccepted()&&s.fetch({cache:!1})}u.areFunctionalCookiesAccepted()&&a(i.get("fastActionSessionId"));var f=v&&v.asked,m=e.thank||!(o.isFirstForm()||p(o.model.get("form_elements")));!(r&&u.areFunctionalCookiesAccepted()&&w)||x&&i.get("authed")||f||!m||(window.location.hash="fastaction-signup",v.asked=!0,_&&w&&i.fetch({cache:!1}))},c.prototype.onSubmit=function(e){var t=e.currentTarget?m(e.currentTarget).find('input[name="updateMyProfile"]:checked'):e.formview.$('input[name="updateMyProfile"]:checked');return w=!(e.formview&&"org"===e.formview.contactMode)&&t.length>0,e},c.prototype.alterPost=function(e){return d()||e.form_definition.hideUpdateMyFastActionProfile||!u.areFunctionalCookiesAccepted()?e:(w?_&&!x?e.data.autoCreateAccount="true":x&&s.setWithFormState(e.data).save():e.data.ignorePaymentInfo="true",i.get("id")&&(e.data.fastActionId=i.get("id")),i.get("fastActionSessionId")&&(e.data.fastActionSessionId=i.get("fastActionSessionId")),e.data.endpoint=e.endpoint,e.url=n.urls.forms(),E&&(e.data.autoProcessToken=E.token,e.data.qs=JSON.stringify(E.qs),E=null),e)},c.prototype.fast_action_databag=function(){return s},c.prototype.profile_databag=function(){return o},c.prototype.user=function(){return i},c}())}),n("backbone.courier",["underscore","backbone"],function(e,t){var n=t.$,i=/^(\S+)\s*(.*)$/,r=e.isFunction(n)?n("body")[0]:null;return t.Courier={},t.Courier.add=function(n){function a(t){e.isFunction(t.$el.data)&&!t.$el.data("view")&&t.$el.data("view",t)}function o(t){var n=this.uiBindings||e.result(this,"ui");if(!n)return t;var r={};return e.each(t,function(t,a){var o=a.match(i),s=o[1],l=o[2];if(""!==l&&!e.isUndefined(n[l])){a=s+" "+n[l]}r[a]=t}),r}function s(t,n,r){var a=[];for(var o in t){var s=o.match(i),l=s[1],u=s[2];new RegExp(l.replace("*","[\\w]*")).test(n.name)&&(""!==u&&r._getChildViewNamed(u)!==n.source||a.push({eventName:l,subviewName:u,value:t[o]}))}return a.length>1&&(a=e.sortBy(a,function(e){var t=e.eventName.replace("*","");return-((""!==e.subviewName?1e3:0)+t.length)})),a.length?a[0].value:null}var l={delegateEvents:n.delegateEvents,setElement:n.setElement};n.spawn=function(t,i){if(e.isString(t))t={name:t,data:e.extend({},i)};else if(e.isUndefined(t.name))throw new Error("Undefined message name.");t.source=n,t.data=t.data||{};for(var r,a,o="!"===t.name[t.name.length-1],l=this._getParentView();l;){if(e.isObject(l.onMessages)&&null!==(a=s(l.onMessages,t,l))){var u=a;if(e.isFunction(u)||(u=l[a]),!u)throw new Error('Method "'+a+'" does not exist');var c=u.call(l,t);if(o)return c}r=!1;var d=e.result(l,"passMessages");if(e.isObject(d))if(null!==(a=s(d,t,l))){if("."===a);else if(e.isString(a))t.name=a;else{if(!e.isFunction(a))throw new TypeError;var p=t.data;t.data={},a.call(l,t,p)}r=!0}else o&&(r=!0);if(o&&(r=!0),!r)break;t.source=l,l=l._getParentView()}if(o)throw new Error('Round trip message "'+t.name+'" was not handled. All round trip messages must be handled.')},e.isFunction(n._getParentView)||(n._getParentView=function(){for(var e=null,n=this.$el.parent();n.length>0&&n[0]!==r;){var i=n.data("view");if(i&&i instanceof t.View){e=i;break}n=n.parent()}return e}),e.isFunction(n._getChildViewNamed)||(n._getChildViewNamed=function(t){return e.isObject(this.subviews)?this.subviews[t]:null
}),n.delegateEvents=function(t){var n=this;e.isFunction(this.events)&&(this.events=this.events.call(this.events)),t=t||e.clone(this.events)||{},t=o.call(this,t);var r=e.result(this,"spawnMessages")||{};r=o.call(this,r),e.each(r,function(r,a){var o=a.match(i),s=o[1],l=function(t){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation();var i;if(e.isFunction(r))i={name:s,data:{},source:n},r.call(this,i,t);else{if(!e.isStringa];if(e.isFunction(u)||(u=n[t[a]]),!u)throw new Error('Method "'+t[a]+'" does not exist');t[a]=function(){u.apply(this,arguments),l.apply(this,arguments)}}else t[a]=l}),l.delegateEvents.call(this,t)},n.setElement=function(e,t){l.setElement.call(this,e,t),a(n)},a(n),n.delegateEvents()},t}),n("backbone.subviews",["underscore","backbone.courier"],function(e,t){var n=t.$,i=!1;return tnction(t){function r(){i&&(console.log(this),console.dirxml(this.el)),this.subviews||(this.subviews={}),e.each(this.subviews,function(e,t){e.$el.detach()})}function a(){var t=this;i&&console.group("Subviews"),this.$("[data-subview]").each(function(){var r,a=n(this),o=a.data("subview"),s=parseInt(a.data("subview-index")),l=a.data("subview-id"),u=a.data("cache-key"),c=o+(e.isNaN(s)?"":s)+(e.isUndefined(l)?"":l),d=u||c;if(e.isUndefined(t.subviews[d])){var p=t.subviewCreators[o];if(e.isUndefined(p))return;i&&console.log("Creating "+o.replace(/^NVForm_(.+)_view(\d{1,2}(c\d{1,2})?)?$/,"$1")),r=p.call(t,s,l),u||(r.options.definition?d=r.options.definition.name||d:r.options.form_definition&&(d=r.options.form_definition.type||d)),r.parent=t,t.subviews[d]=r}else r=t.subviews[d];r.$el.data({formview:r.options.formview,parent:t,view:r,definition:r.options.definition,index:s,options:e.omit(r.options,"formview","templates","parent")}),a.replaceWith(r.$el)}),e.each(this.subviews,function(e,t){i&&console.groupCollapsed("Rendering "+t.replace(/^NVForm_(.+)_view(\d{1,2}(c\d{1,2})?)?$/,"$1")),e.render(),i&&(console.dirxml(e.el),console.groupEnd())}),e.isFunction(this._onSubviewsRendered)&&this._onSubviewsRendered.call(this),i&&console.groupEnd()}var o={render:t.render,remove:t.remove};t.render=function(){r.call(this);var e=o.render.apply(this,arguments);return a.call(this),e},t.remove=function(){return this.subviews&&(e.invoke(this.subviews,"remove"),this.subviews={}),o.remove.call(this)}},t}),function(e i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function l(e){this.opts=o(e||{},l.defaults,h)}var u,c,d=["webkit","Moz","ms","O"],p={},h={lines:8,length:0,width:7,radius:9,scale:1,corners:1,color:"#0d98e6",opacity:.25,rotate:0,direction:1,(var ~(1e3/s)+" "+1op:"2px"})),n(e,n(l,o(s(r.color,c),"undefined"!=typeof document){c=function(){var e=t("style",{type:"text/css"}),t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,(r=r&&r.firstChild)&&(r.opacity=n))}}():u=r(f,"animation")}return e.fn.spin=function(t,n){return this.each(function(){var i=e(this),r=i.data();r.spinner&&(r.spinner.stop(),delete r.spinner),r.position&&(i.css("position",r.position),delete r.position),!1!==t&&(r.position=i.css("position"),i.css("position","relative"),t=e.extend({color:n||h.color},e.fn.spin.presets[t]||t),r.spinner=new l(t).spin(this))})},e.fn.spin.presets={relative:{position:"relative"},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}},l}),n("doublebracket",["jquery.amd","underscore","moment"],function(e,t,n){function i(i,r,a){try{i.$("var.ngp-variable").each(function(){var i=e(this),o=i.data();if(i.data("unescaped")||(o.fallback=t.unescape(o.fallback),i.data("fallback",o.fallback).data("unescaped",!0)),r.hasOwnProperty(o.key)){var s=r[o.key];if(!s||-1===o.key.indexOf("Date")&&-1===s.indexOf("UTC")&&s.indexOf("Z")!==s.length-1)if(s.indexOf("||")>=0)if("Genders"===o.key&&a&&a.genders){var l=s.split("||"),u=t.map(l,function(e){var n=t.find(a.genders,{value:e});return n?n.display:e});i.text(u.join(", "))}else i.text(s.replace("||",", "));else{var c;"Genders"===o.key&&a&&a.genders?(c=t.find(a.genders,{value:s}),i.text(c?c.display:s)):"Race"===o.key&&a&&a.races?(c=t.find(a.races,{value:s}),i.text(c?c.display:s)):"Pronoun"===o.key&&a&&a.pronouns?(c=t.find(a.pronouns,{value:s}),i.text(c?c.display:s)):i.text(s)}else{var d=n(s);i.text(d.isValid()?d.format("LL"):s)}i.data("replaced",!0)}else o.replaced&&i.text(o.fallback).data("replaced",!1)})}catch(e){console.log(e)}}function r(e,n,i,r){var a=(i||r||"").replace(l,"'");return'<var class="ngp-variable" data-key="'+n+'" data-fallback="'+t.escape(a)+'">'+a+"</var>"}function a(e){try{return e.replace(u,",DefaultTo=").replace(s,r)}catch(e){console.warn("Merge Field",e)}}function o(e,t){return e.replace(s,function(e,n,i,r){var a=(i||r||"").replace(l,"'");if(t&&t.hasOwnProperty(n)){var o=t[n];return o=0===o||o?o:a}return a})}var s=/{{\s*(\w+)(?:(?:,\s*DefaultTo=(.*?)}})|(?:(?:\sor\s'(.*?)')?)\s*}})/gim,l=/\\'/g,u=/\.Value,\s*DefaultTo=/gm;return{translate:a,fill:i,simpleFill:o}}),n("FormError",[],function(){function e(e,t,n){"string"==typeof e?(this.text=e||"",this.field=t||null):e&&(this.text=e.text||"",this.field=is.text},e.prototype.valueOf=function(){return this.text},e.prototype.toJSON=function(){return{text:this.text,field:this.field.name,errorId:this.errorId}},e}),n("errorviews",["backbone","FormError","templates"],function(e,t,n){var i=e._;return{errors_view:e.View.extend({__name__:"InlineErrorView",template:n.errors,className:"at-error-console",events:{"click a.at-dismiss":"close","click .at-error":"focusError"},renderFeedback:function(e){return this.form_errors=e||this.options.formview.errors(),i.isArray(this.form_errors)||(console.warn("Errors isn't array! Errors is: "+JSON.stringify(this.form_errors)),this.form_errors=[]),this.server_errors.length&&(this.form_errors=i.uniq(this.form_errors.concat(this.server_errors))),i.each(this.form_errors,function(e,t){i.isObject(e)&&e.field&&(this.listenToOnce(e.field,"valid",function(){var t=i.indexOf(this.form_errors,e);-1!==t&&(this.form_errors.splice(t,1),this.$(".at-error").eq(t).remove()),this.handleMultistep()}),this.listeningTo.push(e.field))},this),this.render().focusError(),this.errors()},clearFeedback:function(){return this.clear()},focusError:function(e){e&&e.preventDefault();var t=e?this.$(e.currentTarget).index():0;if(i.isObject(this.form_errors[t])&&this.form_errors[t].field){var n=this.form_errors[t].field,r=0;r="PaymentInformation"===n.name?n.def&&n.def.step||0:n.parent&&n.parent.def&&n.parent.def.step||0,this.options.formview.multistep&&(r?this.options.formview.setStep(r):n.parent.name&&this.options.formview.setStepByName(n.parent.name)),n.focus()}else if(this.form_errors&&this.form_errors.length>0){var a=this.$(".at-alert.at-error");a[0].focus()}return this},close:function(e){e&&e.preventDefault();var t=this.$(e.currentTarget).parent(),n=t.index(),r=this.form_errors[n];if(i.isObject(r)&&r.field){var a=i.indexOf(this.listeningTo,r.field),o=this.listeningTo[a];this.stopListening(o),this.listeningTo.splice(a,1),this.listeningTo.length&&this.listeningTo[0].focus(),o.$(":input.error").removeClass("error noValue")}return this.form_errors.splice(n,1),t.remove(),this.handleMultistep()},handleMultistep:function(){return this.options.formview.multistep&&0===this.form_errors.length&&(this.options.formview.$(".at-step.active.invalid").removeClass("invalid valid"),this.options.server_errors=[]),this},clear:function(){return this.$el.empty(),this.stopListeningToErrors(),this.form_errors=[],this.server_errors=[],this},val:function(){return{}},errors:function(){return[]},setFullWidthError:function(e){e&&e.length&&this.$el.html(this.template({messages:e}))},setServerErrors:function(e){return this.server_errors=i.reduce(e,function(e,n){var r=i(n.properties).without("customerKey","ccInfoKey");if(0===r.size())return e;var a=null,o=null,s=!1;r.each(function(e){if(o=e.replace(/\.Value$/,"").replace(/DirectConnectSpecific/,"Account").replace(/Expiration(Month|Year)/,"ExpirationDate"),s=s||"Account"===o||"ExpirationDate"===o||"PaymentInformation"===o,a=this.options.formview.getField(o))return!1},this),s&&this.options.formview.$(".change-account").trigger("click");var l=r.indexOf("DirectConnectSpecific");if(l>=0){var u=r.value();u[l]="Account",r=i(u)}if(r.size()&&n.text)if(n.text=r.contains("Account")?n.text.replace(/^Account/i,"Credit Card Number"):r.contains("ExpirationMonth")?n.text.replace(/month/i,"Month"):r.contains("ExpirationYear")?n.text.replace(/year/i,"Year"):n.text,a){var c=new t(n.text,a);a.renderFeedbackWithErrors([c]),e.push(c)}else e.push(n.text);return s&&a&&(a.parent&&a.parent.defa.def.required=!0)),e},[],this),this},form_errors:[],server_errors:[],listeningTo:[],stopListeningToErrors:function(){function e(e){this.stopListening(e)}return i.each(this.listeningTo,e,this),this.listeningTo=[],this},render:function(){return("true"!==this.options.formview.options.parent_tag.options.inline_error_display||this.server_errors.length>0)&&this.$el.html(this.template({messages:this.form_errors})),this}})}}),n("oberon",["jquery.amd","fastaction_config","baseUrl"],function(e,t,n){function i(e,t,n){var i=new Array(n+1).join(t);return(i+e).slice(-i.length)}function r(e){return e||(e=0),i(e.toString(2),"0",64)}function a(e){var t=r(e);return parseInt(t.match(/.{1,8}/g).reverse().join(""),2)}function o(t,i,r,a,o){var s=t+i,l=!1,u=document.createElement("a");u.href=document.URL;var c=document.createElement("a");if(c.href=s,""!==c.host&&u.host!==c.host&&(l=!0),r.XFromApp="ActionTag",r.ActionTagBaseUrl=n,l&&!e.support.cors){if(function(e,t){return":"!==e&&":"!==t&&e!==t}(u.protocol,c.protocol)){if("http:"===u.protocol&&r.Account&&!window.confirm("You are attempting to submit this form over an insecure protocol, do you wish to continue?"))return o({responseText:'{"message":"User prevented unsecure submission"}'},null,"error");s=s.replace(new RegExp(c.protocol),u.protocol)}var d=e.param(r),p=new window.XDomainRequest;p.open("POST",s),p.onload=function(){var e=p.responseText?JSON.parse(p.responseText):{};return a(e,"success",p),"success"},p.onerr"),"error"},p.onprogress=function(){return"progress"},p.ontimeout=function(){return"timeout"},p.timeout=1e4,setTimeout(function(){return p.send(d),"send"},250)}else e.ajax({type:"POST",url:s,data:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},success:a,error:o,crossDomain:!0,xhrFields:{withCredentials:!0}})}return{post_form:o,obfuscate:a,deobfuscate:a}}),n("trackTransaction",["underscore","googleAnalyticsHelper"],function(e,t){function n(){var e=document.getElementsByName("IsRecurring")[0],t=e&&!e.checked,n=document.getElementsByName("SelectedFrequency");if(!n||n.length<=0||t)return"One Time";var i=n[0];if(i&&"radio"===i.type)for(var r=0;r<n.length;r++){var a=n[r];if(a.checked){i=a;break}}switch(i.value){case"0":return"One Time";case"1":return"Weekly";case"2":return"Every Two Weeks";case"3":return"Every Four Weeks";case"4":return"Monthly";case"5":return"Quarterly";case"6":return"Yearly";case"7":return"Twice a Year";default:var o=i.innerHTML.trim(),s=o&&o.length<=100?o:s;return s}}return function(i,r){var a=i.model.get("designation"),o=i.model.get("metadata"),s=i.model.get("formId"),l=i.model.get("type"),u=r.confirmationID,c=i.val(),d=c.Amount,p=c.CoverCostsAmount||0,h=r.upsellAmount?parseFloat(r.upsellAmount):parseFloat(d)+p,f=[];if(a&&a.name&&u&esignationId+"_"+s,"EventForm"===l){var g=c.AdditionalContributionValue,v=e.reduce(o.tickets,function(e,t){return e[t.id]={price:t.price,title:t.title},e},{});f=e.chain(c).transform(function(e,t,n){var i=n.match(/Ticket_(\d+)/);i&&(e[i[1]]=t)}).map(function(e,t){var n=v[t];return{id:a.sku+"_"+t,price:n.price.toFixed(2),name:n.title,type:"Ticket",quantity:e}}).value(),g&&"0.00"!==g&&f.push({id:a.sku+"_A",price:g,name:"Additional",type:"Donation",quantity:1})}var y={total:h.toFixed(2),id:u,tenant:a,type:l,city:c.City,state:c.StateProvince,country:c.Country,items:f,method:c.PaymentMethod,currency:c.ProcessingCurrency,variant:m};if(!e.isObject(y)||!e.isObject(y.tenant))return!1;var b,w=["nv._addTrans",y.id,y.tenant.name,"0","0","0"],_=["nv._addItem",y.id,y.tenant.sku,"Contribution","","0","1"];if(!(parseFloat(y.total)>0))return!1;b=e.isString(y.total)?y.total:""+y.total,w[3]=_[5]=b,y.type&&e.isString(y.type)&&(_[4]=y.type),y.city&&e.isString(y.city)&&(w[6]=y.city,y.state&&e.isString(y.state)&&(w[7]=y.state,y.country&&e.isString(y.country)&&(w[8]=y.country)));var x={event:"transaction",ecommerce:{currencyCode:y.currency,purchase:{actionField:{id:y.id,affiliation:"NGPVAN",revenue:b,option:y.method},products:[{id:y.tenant.sku,price:b,brand:y.tenant.name,category:y.type,quantity:1,variant:y.variant}]}}},C={ecommerce:{transaction_id:y.id,value:b,currency:y.currency,items:[{item_id:y.tenant.sku,item_name:"Contribution",price:b,item_brand:y.tenant.name,item_category:y.type,quantity:1,affiliation:"NGPVAN",item_variant:y.variant}]}};return _gaq.push(w),y.items&&y.items.length?(_gaq.pu""]})),x.ecommerce.purchase.products=e.map(y.items,function(e){return{id:e.id,name:e.name,price:e.price,brand:a.name,category:e.type,quantity:e.quantity}}),C.ecommerce.items=e.map(y.items,function(e){return{item_id:e.id,item_name:e.name,price:e.price,item_brand:a.name,item_category:e.type,quantity:e.quantity,affiliation:"NGPVAN",item_variant:m}})):_gaq.push(_),_gaq.push(["nv._trackTrans"]),t.shouldUseGtag()?window.gtag("event","purchase",C):(C.event="purchase",window.dataLayer.push(C),window.dataLayer.push(x)),x.ecommerce.purchase}}}),n("FieldView",["backbone","NVTagCallbacks","FormError","accounting"],function(e,t,n,i){var r=e._;return e.View.extend({__name__:"FieldView",initialize:function(){if(r.bindAll(this,"render","renderFeedback","clearFeedback","multiple_fields","dispose","isVisible","toFloat","renderFeedbackWithErrors","isActive","getBaseId"),e.Courier.add(this),this.touch_state=!1,this.error_template=this.options.templates.inline_error,this.def=this.options.definition||{},this.name=r.result(this,"name")||this.def.name||this.options.name,this.title=r.result(this,"title")||this.def.title||this.options.title,this.resources=this.options.formview.options.form_definition.resources||{},this.template=this.options.templates[this.type],this.def.contactMode){var t="";switch(this.def.contactMode.toLowerCase()){casn":t="at-mode-person-only"}t&&this.$el.toggleClass(t,!0ch:func_state},isRequired:function(){return!!this.options.definition.required},render:function(){return this.$el.html(this.template({definition:this.def})),this},focus:function(){var e=this.$(":focusable:first");if(e.is(":radio:not(:checked)")){var t=this.$(':radio[name="'+e.attr("name")+'"]:checked');if(t.length)return t.focus(),this}return e.focus(),this},focusLast:function(){var e=this.$(":focusable:last");if(e.is(":radio:not(:checked)")){var t=this.$(':radio[name="'+e.attr);if(t.lengteld_name:ition.name},multiple_fields:ion(){return this.options.definition.title},notEmpty:function(){return null!=this.val()},error_class:"error",toError:function(e,t){return new n(e,this,t)},errors:function(e){var n=this.require_valid()?[]:[this.resources.fill(this.resources.PrimaryResources.BlankIsRequired,this.field_title())];return r.isArray(e)&&e.length&&(n=e.concat(n)),n=t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:n,def:this.def}).errors,this.def.children||(this.trigger(n.length?"invalid":"valid"),n=r.map(n,this.toError,this)),n},events:{"change *":"touch"},require_valid:function(){var e=null!==this.val()||!this.options.definition.required;return e||"SelectedFrequency"!==this.field_name()&&"SelectedDuration"!==this.field_name()||(e=!0),t("alterRequireValid",{val:this.val(),field_name:this.field_name(),require_valid:e,form_def:this.options.definition}).require_valid},val:function(){return null},setval:function(){return this.touch()},hideOrShow:function(){return this.shouldHide()?this.$el.hide():this.$el.show(),this},shouldHide:function(){var e=this.options.formview;return e&&e.options&&e.options.smart&&!e.options.clickedNotMe&&this.require_valid()},isVisible:function(){return this.$el.is(":visible")},renderFeedback:function(e){return e&&e.stopPropagation(),this.renderFeedbackWithErrors(this.errors())},clearFeedback:function(){return this.$el.removeClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&this.$("small."+this.error_class).remove(),this.$(":input").removeClass("noValue"),this},renderFeedbackWithErrors:function(e){if(e.length){var t=this.$el,n=this.options.definition.type;t.addClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&"checkbox"!==n&&(t.find("small."+this.error_class).remove(),t.append(this.error_template({error_text:e.join(", "),behavior_classes:this.error_class})))}else this.clearFeedback();return e},getFieldPrefix:function(e,t){var n=e.indexOf(t);return n?e.substring(0,n):""},dispose:function(){},toFloat:function(e,t){return parseFloat(i.toFixed(e,t))},isActive:function(){return!this.def.contactMode||this.options.formview.contactMode===this.def.contactMode},getBaseId:function(){var e=this.options.parent||this.options.formview;return(e&&e.getBaseId?e.getBaseId():"")+"-"+this.name}})}),n("mailcheck",[],function(){var e={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["ngpvan.com","msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx","ngpvan"],defaultTopLevelDomains:["com","net","org","edu","gov","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","ch","no","cz","in","net.au","info","biz","mil","co.jp","sg","hu"],run:function(t){t.domains=t.domains||e.defaultDomains,t.secondLevelDomains=t.secondLevelDomains||e.defaultSecondLevelDomains,t.topLevelDomains=t.topLevelDomains||e.defaultTopLevelDomains,t.distanceFunction=t.distanceFunction||e.sift3Distance;return e.suggest(e.encodeEmail(t.email),t.domains,t.secondLevelDomains,t.topLevelDomains,t.distanceFunction)},suggest:function(e,t,n,i,r){e=e.toLowerCase();var a=this.splitEmail(e),o=this.findClosestDomain(a.domain,t,r,this.domainThreshold);if(o)return o!=a.domain&&{address:a.address,domain:o,full:a.address+"@"+o};var s=this.findClosestDomain(a.secondLevelDomain,n,r,this.secondLevelThreshold),l=this.findClosestDomain(a.topLevelDomain,i,r,this.topLevelThreshold);if(a.domain){var o=a.domain,u=!1;if(s&&s!=a.secondLevelDomain&&(o=o.replace(a.secondLevelDomain,s),u=!null;if(!e||!t<5;o++){if(;else{a=r[0]odeURI(ece("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};return function(t){return e.run({email:t})}}),n("autocomplete",[],function(){var e={AdditionalContributionValue:"transaction-amount",Prefix:"honorific-prefix",FirstName:"given-name",MiddleName:"additional-name",LastName:"family-name",Suffix:"honorific-suffix",AddressLine1:"address-line1",AddressLine2:"address-line2",StateProvince:"address-level1",City:"address-level2",PostalCode:"postal-code",Country:"country-name",EmailAddress:"email",HomePhone:"tel-national",Employer:"organization",Occupation:"organization-title",WorkAddressLine1:"work address-line1",WorkAddressLine2:"work address-line2",WorkStateProvince:"work address-level1",WorkCity:"work address-level2",WorkPostalCode:"work postal-code",WorkCountry:"work country-name",WorkEmail:"work email",WorkPhone:"work tel-national",MobilePhone:"mobile tel-national"},t={Prefix:"name-prefix",FirstName:"given-name",MiddleName:"middle-name",LastName:"surname",Suffix:"name-suffix",AddressLine1:"address-line1",AddressLine2:"address-line2",StateProvince:"administrative-area",City:"locality",PostalCode:"postal-code",Country:"country",EmailAddress:"email",HomePhone:"phone-national",Employer:"organization"};return function(n){var i='autocomplete="on"';return n&&e[n]&&(i='autocomplete="'+e[n]+'"',t[n]&&(i+=' x-autocompletetype="'+t[n]+'"')),i}}),n("placeholder",[],function(){return function(e,t){var n={AdditionalContributionValue:"$0.00",EmailAddress:t.PrimaryResources.EmailPlaceholder||"",TwitterHandle:t.PrimaryResources.TwitterPlaceholder||"",FacebookProfileUrl:t.PrimaryResources.FacebookPlaceholder||""},i=e.replace(/(Email)$/,"$1Address").replace(/^Work/,""),r=n[i]||n[i.replace("Organization"assetUrl",[return t=t||"",t&&0!==t.indexOf("/")&&(t="/"+t),e+t}function n(n){return t(e.ASSET_BASE_URL,n)}return n.zip=function(n){return t(e.ZIP_LOOKUP_BASE_URL,n)},n}),n("TextFieldView",["backbone","NVTagCallbacks","FieldView","accounting","mailcheck","autocomplete","placeholder","assetUrl"],function(e,t,n,i,r,a,o,s){func]).replace(/^\/|(\/([igm]+)?)$/g,"")+'"'}return null}var u=e.$,c=e._,d="".trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},p=/^(text|email|tel|url)$/i,h={number:/^-?\d*(\.\d*)?$/,creditCard:/^([0-9]{4,6}\s?){3,4}([0-9]{2})?$/,twitter:/^@?[A-Za-z0-9_]{1,15}$/,postalCode:/^[a-zA-Z\d\s\-,#\.+]+$/,postalCodeUS:/^\d{5}([\-]\d{4})?$/,postOfficeBox:/^((?:p(?:[o|0]st|(?:\.*)))\s*(?:(?:[o|0](?:ffice?|(?:\.*)))|(?:b[o|0]x)))\s*(b[o|0]x)*\s#?(\d+)?/i,phone:/^(?:\+?1[\-. ]?)?(?:\(?([2-9]\d{2})\)?)[\-. ]?([2-9]\d{2})[\-. ]?(\d{4})(?:\s{0,2}(?:ext(?:ension)?|ex|x)\.?\s?(\d{1,5}))*$/,facebook:/^https?:\/\/(?:(?:www|m)\.)?facebook\.com\/(?:(?:profile\.php\?id=([0-9]+))|((?!profile\.php)[a-zA-Z0-9.]{5,}))$/,currency:/^(\$?[+\-]?\s*[0-9]{1,3}(?:[0-9]*(?:[.,][0-9]{1,2})?|(?:,[0-9]{3})*(?:\.[0-9]{1,2})?|(?:\.[0-9]{3})*(?:,[0-9]{1,2})?))$/,email:/^([\w!#$%&'*+\-\/=?\^`\{\|\}~]+\.)*[\w!#$%&'*+\-\/=?\^`\{\|\}~]+@((((([a-zA-Z0-9]{1}[a-zA-Z0-9\-]{0,62}[a-zA-Z0-9]{1})|[a-zA-Z])\.)+[a-zA-Z]{2,62})|(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?)$/,integer:/^-?\d+$/,positiveInteger:/^\d+$/,negativeInteger:/^-\d+$/};return n.extend({__name__:"TextFieldView",tagName:"label",className:function(){return"at-text   "+this.options.definition.name},events:{change:"renderFeedback","input input":"hasValue",'change [name$="PostalCode"]':"zipLookup",'change [name$="SuggestedAmount"]':"amountChanged","click .didYouMean":"useSuggestion","change *":"touch"},pattern:h,attr:{pattern:l},formatOtherAmount:function(e){e.currentTarget.value=i.toFixed(e.currentTarget.value,2).replace(/\.00$/,"")},renderInfo:function(e){if(h.postOfficeBox.test(e.currentTarget.value)){var t=this.resources.PrimaryResources.ResidentialAddressWarnPoBox;this.$suggestion?this.$suggestion.text(t):(this.$suggestion=u('<small class="info">'+t+"</small>"),this.$el.append(this.$suggestion))}else this.clearSuggestion()},renderSuggestion:function(e){var t=r(e.currentTarget.value);t&&-1!==t.domain.indexOf(".")?this.$suggestion?this.$suggestion.find("a").text(t.full):(this.$suggestion=u(this.resources.fill('<small class="didYouMean info">{{0}} <a href="#applySuggestion">{{1}}</a>{{2}}</small>',this.resources.PrimaryResouthis.$el.append(this.$suggestion)):this.clearSuggestion()},clearSuggestion:function(){this.$suggestion&&(this.$suggestion.remove(),this.$suggestion=null)},useSuggestion:fun)),this.clearSuggestion(),this.clearFeedback(),this.input.focus()},amountChanged:function(){this.contributionAmountModel.setBaseAmount(this.val().Amount)},onGiftChanged:function(e){var t=this.contributionAmountModel.get("baseAmount");e.newAmount>parseFloat(i.toFixed(t,2))&&this.setval(e.newAmount)},zipLookup:function(e){var t=e.currentTarget.value,n=e.currentTarget.name,i=this.parent.subviews,r=this.getFieldPrefix(=i[r+"City"],o=i[r+"StateProvince"],l=i[r+"Country"],c=this.options.templates.datalist,d=!l||l&&"postalCode"!==this.def.validation,p=!1,h=function(){p=!0};t&&(a||o)&&d&&!this.errors().length&&(a&&a.$("input").one("input",h),u.jsonp({url:s.zip("with-callback/"+e.currentTarget.value.substring(0,5)+".json"),cache:!0,callback:"zipapicallback"}).then(function(e){a&&e.locality&&(e.localities&&a.$el.find("datalist").remove().end().append(c({id:"localities",options:e.localities})).find("input").attr("list","localities"),p||(a.setval(e.locality).clearFeedback(),a.$("input").off("input",h))),o&&e.region&&e.region.abbr&&o.setval(e.region.abbr)}))},initialize:function(){n.prototype.initialize.call(this),c.bindAll(this,"renderSuggestion","clearSuggestion","clearFeedback","renderInfo"),this.$el.on("change","input",this.trim),"SuggestedAmount"===this.name&&(this.contributionAmountModel=this.options.formview.contributionAmountModel,this.$el.on("blur","input",this.formatOtherAmount),window.nvtag.on("giftChanged",this.onGiftChanged,this)),"MatchingWorkEmail"===this.name&&this.listenTo(this.options.formview,"workEmailChanged",this._onWorkEmailChanged);var e=this;this.once("invalid",function(){e.$el.on("input","input",c.debounce(this.renderFeedback,150))})},renderFeedbackWithErrors:function(e){return e.length&&this.clearSuggestion(),n.prototype.renderFeedbackWithErrors.call(this,e)},trim:function(e){e.currentTarget.value&&p.test(e.currentTarget.type)&&(e.currentTarget.value=d(e.currentTarget.value))},context:function(){var e={},n=this.def.validation||this.def.valueType;e={name:this.name,labelhide:this.def.labelhide||"placeholder"===this.options.labels,label:this.def.label||this.title,title:this.title,required:this.def.required&&"required",readonly:this.def.readonly&&"readonly disabled",value:this.def.default_value||"",maxlength:this.def.maxlength||"",autocomplete:a(this.name),placeholder:o(this.name,this.resources),type:"text",precision:this.def.precision},"postalCode"===n&&c.findIndex(this.parent.def.children,{name:this.getFieldPrefix(this.name,"PostalCode")+"Country"})<0&&(n="postalCodeUS");var i;if("decimal"===n||"positiveDecimal"===n||"negativeDecimal"===n){var r,s,u=e.precision||"";s="positiveDecimal"===n?"":"negativeDecimal"===n?"-":"-?",r=new RegExp("^"+s+"(\\d+(\\.\\d{0,"+u+"})?)|((\\.\\d{1,"+u+"}))$"),
h["decimal"+u]=r,i=l("decimal"+u)}else i=l(n);i&&(e.pattern=i,e.patternKey=n),"AdditionalContributionValue"===this.name&&(this.title!==this.name&&""!==this.title||(e.title="Additional Contribution"));var d=this.options.parent;return"PaymentInformation"===d.name&&"required"in d.def&&!d.def.required&&(e.required=""),e.labelhide&&(e.placeholder='placeholder="'+c.escape(this.title)+(e.required?'*"':'"')),"TwitterHandle"===this.name?(e.pattern=l("twitter"),e.maxlength=16):"FacebookProfileUrl"===this.name&&(e.pattern=l("facebook")),"phone"===n?e.type="tel":"email"===n?e.type="email":"url"===n?e.type="url":"postalCodeUS"===n&&(e.type="tel",e.maxlength=10),t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){var e=this.context();if(this.$el.html(this.template(e)),this.$input=this.$(":input"),this.input=this.$input.get(0),e.patternKey&&this.$input.data("patterstion),"WorkEmail"===this.name){var t=this;this.$input.on("change input",function(e){t.options.formview.trigger("workEmailChanged",e.currentTarget.value)})}return"residentialAddress"===this.def.validation&&this.$input.on("change",this.renderInfo),this},_onWorkEmailChanged:function(e){"MatchingWorkEmail"!==this.name||this.touched()||this.setval(e,!0)},errors:function(){if(!this.$el.is(":visible")||!this.input)return[];var e=this.require_valid()?[]:[this.resources.fill(this.resources.PrimaryResources.BlankIsRequired,this.title)],n=thistest(this.def.validation)){var r=this.def.valueMax||1/0,a=this.def.valueMin||-1/0,o=i.unformat(n),s=function(e){return i.toFixed(e,2).replace(/\.00$/,"")};c.isNaN(o)?e.push(this.resources.PrimaryResources.PleaseEnterValidAmount):o<a?e.push(this.resources.fill(this.resources.PrimaryResources.AmountMustBeAtLeast,s(a))):o>r&&e.push(this.resources.fill(this.resources.PrimaryResources.AmountMustBeLessThan,s(r)))}if(!e.length){var l="phone"===this.options.definition.validation?this.resources.PrimaryResources.ValidUsPhoneNumber:this.resources.fill(this.resources.PrimaryResources.PleaseEnterValidBlank,this.title);if(this.input.validity)this.input.validationMessage&&e.push(l);else if(this.input.pattern){var u=this.$input.data("pattern"),d=h[u]||new RegExp(this.input.pattern);d.test(this.input.value)||e.push(l)}}}return this.trigger(e.length?"invalid":"valid"),c.map(t("alterErrors",{val:this.getTextFieldVal(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},hasValue:function(e){e.currentTarget.value?this.$(e.currentTarget).removeClass("noValue"):this.$(e.currentTarget).addClass("noValue")},getTextFieldVal:function(){var e=this.val();return this.name.toLowerCase().indexOf("phone")>-1?e?e[this.name]:"":e},val:function(){var e=this.$input?this.$input.val():this.def.default_value||"";if(e=d(e),"SuggestedAmount"===this.name)e={Amount:i.toFixed(e,2)};else if("TwitterHandle"===this.name)e=e.replace(/^@/,"");else if("StateProvince"===this.name)e=u('[name="StateProvince"]').val();else if(this.name.toLowerCase().indexOf("phone")>-1){var t=this.name,n=e;n?(e={},e[t+"CountryCode"]="us",e[t+"InternationalDialingPrefix"]=1,e[t]=n):e=null}return""!==e?e:null},setval:function(e,t){if("SuggestedAmount"===this.name&&c.isObject(e))if(e.SuggestedAmount)e=e.SuggestedAmount;else{if(!e.Amount)return;e=e.Amount}else this.name.toLowerCase().indexOf("phone")>-1&&void 0!==e[this.name]&&(e=e[this.name]);return this.$("input").val(e),"SuggestedAmount"===this.name&&this.amountChanged(),"WorkEmail"===this.name&&this.options.formview.trigger("workEmailChanged",e),t?this.hideOrShow():this.touch().hideOrShow()},type:"textfield"})}),n("TextAreaView",["backbone","NVTagCallbacks","FieldView"],function(e,t,n){var i=e._;return n.extend({__name__:"TextAreaView",tagName:"label",events:{change:"renderFeedback"},className:function(){return"at-area   "+this.options.definition.name},initialize:function(){n.prototype.initialize.call(this);var e=this;this.once("invalid",function(){e.$el.on("input",":input",i.debounce(this.renderFeedback,150))})},context:function(){var e={name:this.name,title:this.title,label:this.def.label||this.title,labelhide:"placeholder"===this.options.labels,default_value:this.def.default_value,required:this.def.required&&"required",readonly:this.def.readonly&&"readonly disabled",maxlength:this.def.maxlength?'maxlength="'+this.def.maxlength+'"':""};return e.labelhide&&(e.placeholder='placeholder="'+i.escape(this.title)+'"'),t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){return tis.$textarea=this.$("textarea"),i.isPlainObject(this.def.attr)&&this.$textarea.attr(this.def.attr),this},val:function(){return this.$textarea.val()||null},setval:function(e){return i.isNull(e)?this:(this.$textarea.val(e),this.touch().hideOrShow())},type:"textarea"})}),n("MarkupView",["doublebracket","FieldView","parseUrl","jquery","deviceInfo"],function(e,t,n,i,r){return t.extend({__name__:"MarkupView",type:"markup",tagName:"div",className:function(){var e=["at-markup",this.options.definition.name];return-1!==["SmsLegalDisclaimer"].indexOf(this.options.definition.name)&&e.push("at-legal"),e.join(" ")},render:function(){if(this.options.definition.markup)if("TrackingPixel"===this.options.definition.name){var t,a=document.implementation.createHTMLDocument("Virtual Doc"),o=i.parseHTML(e.translate(this.options.definition.markup),a)[0];try{if(window.location&&window.location.href){var s=window.location.href.substring(0,500);t=encodeURIComponent(btoa(s))}}catch(e){t=null}var l;try{if(document.referrer){var u=document.referrer.substring(0,500);l=encodeURIComponent(btoa(u))}}catch(e){l=null}if(o.src&&this.options.formview&&this.options.formview.formSessionId){var c=n(o.src),d=(c.query?"&":"?")+"formSessionId="+this.options.formview.formSessionId+"&bName="+(r.browser||"")+"&dType="+(r.deviceType||""),p=this.options.formview.form_definition();p.formVersion&&(d+="&formVersion="+p.formVersion),p.experiment&&p.experiment.chosenVariantId&&(d+="&experimentVariantId="+p.experiment.chosenVariantId);var h="&fUrl="+(t||""),f="&fRef="+(l||"");o.src.length+d.length+h.length<2e3&&(d+=h),o.src.length+d.length+f.length<2e3&&(d+=f),o.src+=d}this.$el.html(o.outerHTML).hide()}else this.$el.html(e.translate(this.options.definition.markup)).show();else this.$el.hide()}})}),n("otherOption",["jquery.amd"],function(e){function t(e){var t=!1;switch(e.type){case"radios":t="Other"===e.val();break;case"checkbox":t=e.val();break;case"select":t=null!==e.val()&&e.val().split("||").filter(function(e){return"Other"===e}).length>0}return t}var n=function(t){var n=t.def;n.other&&_.defer(function(){if(t.$other=e(".at-text."+n.other.name),"select"!==t.def.type){var i=t.$other.parent(),r=t.$el.parent();"radios"===t.type&&(r=e("input[value='Other'][name='"+t.name+"']").parent()),r.append(t.$other.detach()),i.remove()}t.$other.hide()})};return{showHide:function(e){_.defer(function(){e.def.other&&e.$other&&t(e)?("select"!==e.def.type&&e.$el.parent().addClass("other-option"),e.$other.show()):e.$other&&(e.$el.parent().removeClass("other-option"),e.$other.hide())})},render:n}}),n("CheckboxView",["backbone","NVTagCallbacks","FieldVind({__name__:"CheckboxView",tagName:"label",events:{"change input":"renderFeedback"},className:function(){return"at-check  "+this.options.definition.name},val:function(){var e=this.$(":input").prop("checked");return"IsRecurring"===this.options.definition.name&&(e=r('[name="IsRecurring"]').prop("checked")),e},setval:function(e){var t=this.$(":input").prop("checked");return this.$(":input").prop("checked",e),"IsRecurring"===this.options.definition.name&&r('[name="IsRecurring"]').prop("checked",e),this.updateContactMode(),t!==this.$(":input").prop("checked")&&this.showHideOther(),this.touch().hideOrShow()},context:function(){var e=this.options.definition,n={name:e.name,title:e.title,checked:e.default_value?"checked":"",required:e.required?"required":"",labelId:this.getBaseId()+"-label"};return t("alterContext",{element:this.type,context:n,def:e}).context},render:function(){return this.$el.html(this.template(this.context())),i.render(this),this},errors:function(){var e=this.require_valid()?[]:[this.field_title()+" is a required field."];return"ConfirmedEligibility"===this.options.definition.name&&this.options.formview.options.showNotMe&&(e=[]),e=t("alterErrors",{val:this.val(errors:e,def:this.options.definition}).errors,this.trigger(e.length?"invalid":"valid"),_.map(e,thismpty()||!this.options.definition.required},renderFeedback:function(){this.showHideOther(),n.prototype.renderFeedback.apply(this),this.updateContactMode()},showHideOther:function(){this.def.other&&i.showHide(this)},()?"org":"person")}},type:"checkbox"})}),function(e){"function"==typeof n&&n.amd?n("select2",["jquery"],e):e("object"==typeof exports?t("jquery"):jQuery)}(functioeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=Select2: An instance of jQuery or a jQuery-compatlect2/utils",["jq.constructoototypprototype[e];return fus.listeners={}};retu{}),n[0]._type=e,e ,1)),"*"in this.listeners&&thisth;n<i;function(e){for r=0;r<n.len.style.overflow"&amp;","<":"\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7fine("select2/results",["jquery","./utils"],functi=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>');i.append(n(this.options.get("translations").get(t.message)(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.lengthlts.append(t)},n.prototype.posia-selected]"),t=e.filteta"),r=""+n.id;null!=n.etions.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var r in i){n.setAttribute(r,i[r])}if(t.children){var a=e(n),o=document.createElement("strong");o.className="select2-results__group";e(o);this.template(t,o);for(var s=[],l=0;l<t.children.length;l++){s.push(this.option(t.children[l]))}var u=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});u.append(s),a.append(o),a.append(u)}is;this.$results.attr("ar(),i.append(FirstItem())}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t("select",funItem())}),t.on)}),t.on("close",functiue"),i.$results.removeAvar e=i.getHighlightedRes"mouseenter");var o=iop+i.$results.outerHeight(!1),s=a.offset().top+a.outerHeight(!1),l=i.$results.scrollTop()+s-o;0===r?i.$results.scrollTop(0):s>o&&i.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.reventDefault(),e.stopPropagation()):a&&(i.$results.scrollTop(i.$resul)return void(i.options.get("multiple")?i.trigger("unselect",{originalEven n=e(this).data("data");i.getHighligsults:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){ret$results.scrollTop()+tions.get("templateResult"),r=teturn{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../kndex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,r=e.id+"-results";this.contaselection.on("blur",furigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("rfunction(e){i.ia-expanded","f),i.$selection.rdetachCloseHandler(e)}),e. n=this;window.setTimeout(functi(t.target),i=n.closest(".select2t=e(this);this!=i[0]&totype._detachCloseHlect2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.)},r}),t.define("select2/selection/multfunction(){var e=_choice__remove",fdata("data");r.triggection__rendered").empty()},i.piner=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var r=e[i],a=this.selectionContainer();a.append(this.display(r,a)),a.prop("title",r.title||r.text),a.data("d>1||n)return e.call(this,t);this.clear();var i=this.createPlach)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n)ction__rendered").prependle="textbox" ariaput"===e.type)return void r.$sarch(e)})},i.prototype._transfs.$selection.attr("holder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=functi()})}this._keyUpPrevented=aceholder"))e=this.$selection.find(".select2-selection_-1!==e.inArray(t,a)){n=n||{};var i=e.Event("select2:"+t,{params:n})nArray(t,o)&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define(require"],function(all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t."ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ"thod must be defitype.bind=function(e){var i=t.id+"-ress.$element=e,this.optiourn t.Extend(i,e),ie.push.apply(e,i)d&&-1===n.inArray(o,r)&&r.p,i.prototype.query=fach(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var a=r.item(t),o.prototype.option=function(e){var t;e.csabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),r=thi,n.data(t,"data",r),i},i.prototype.item=function(e){var t={};if(null!=(t=n.data(e[0],"data")))return t;ip("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),r=[],a=0;a<i.length;a++){var o=n(i[a]),s=this.item(o);r.push(s)}t.children=r}return t=turn null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null_resultId=rototype.matches=function(e,t){retuatcher")(e,t)},i})ertToOptions(l.children);t.appendMany(d,p)}o.push(d)}}ret)}return t.Extend(i,e),i.prototype._appesults(i,e);r.options.get("debug")&&window.console&&console.error&&(a&&a.results&&n.isArray(a.results)||console.error("Select2: Thesponse.")),t(a)},funct||r.trigger("results:messag&&this._request.abort(),this._request=null);var a=n.extend({tfunction"==typeof a.datis._queryTimeout),,a){for(var o=e.results,s=0;s<o.length;s++){var l=o[s],u=null!=l.children&&!i({results:l.children},!0);if(l.te))}if(a)return!0;var c=r.createTag(t);if(null!=c){var d=r.option(c);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(o,c)}e.results=o,n(e)}var r=this;if(this._removeOldTags(),null==t.term||null!=t.pagdata/tokenizer",["jquery"],function(e){functiond}).length){var i=o.option(n);i.attr("data-select2-tion(e){return{id:e.term,text:e.term}};s<o.length;age",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});e.call(this,t,n)},eLong",args:{maximon(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.){},n.prototype.position=function(e,t){},n.prototype.destroy=fe,t){function n(){}returnt2-search select2-search--dropdow="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(tDefaultPrevented()}),this){r.$search.attr()}})},n.prototype.hannted=!1},n.prototype.showSeadown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t})aceholder.id===t[i].id&,i),n.on("query",funfunction(e){r.lastPar.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()}})},t.prototype.loadMore=function(){this.loadins);t.page++,this.trigger("query:appends.$dropdownParent=i.get("dropdownParen(r=!0,t.on("results:all",functition",{x:e(this).scrollLeft._resizeDropdown()})},n.prchange.select2."+i.id;this.$container.parents().filter(t.hadown.outerHeight(!1)},l={top:t.scrollTop(),botmoveClass("select2-container--below select2-coownContainer.appendTo(this.$droectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.onselectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,r,a,o,s,l,u,c,d,p,h,f,m,g,v,y,b,w,_,x,C,k,A,E,T,P){function S(){this.reset()}return S.prototype.apply=function(d){if(d=e.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(d.dataAdapter=null!=d.ajax?f:null!=d.data?h:p,d.minimumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=u.Decorate(d.dataAdapter,m)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=u.Decorate(d.dataAdapter,g)),null!=d.query){var P=t(d.amdBase+"compat/query");d.dataAdapter=u.Decorate(d.dataAdapter,P)}if(null!=d.initSelection){var S=t(d.amdBase+"compat/initSelection");d.dataAdapter=u.Decorate(d.dataAdapter,S)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,E))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var I=u.Decorate(w,_);d.dropdownAdapter=I}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,A)),d.closeOnSelect&&(d.dopdownCss||null!=d.adaptDropdownCssClass){var D=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=u.Decorate(d.dropdownAdapter,D)}d.dropdownAdapter=u.Decorate(d.dropdownAdapter,k)}if(null==d.selectionAdapter){if(d.selectionAdapter=d.multiple?r:i,null!=d.placeholder&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,a)),d.allowClear&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,o)),d.multiple&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var M=t(d.amdBase+"compat/containerCss");d.selectionAdapter=u.Decorate(d.selectionAdapter,M)}d.selectionAdapter=u.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.nguage];if(e.isArray(d.language)){var F=new c;d.language.push("en");for(var O=dons.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var r={};r=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var a=t.extend(!0,{},r);a=i._convertData(a);for(var o in a)t.inArray(o,n)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],a[o]):this.options[o]=a[o]);return this},
r.prototype.g(e,n){null!=e.data("select2"l(this),e.data("old-tabindhis.results=new(this.optiothis._registerDomEvents(),this.._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("stindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$contains=function(){var t=this;this",function(i,r){-1===e.inArrvar e=this;this.results.oss("select2-containection(t){this.dataAdapter.qss",function(t){vUP&&t.altKey?(e.clsults:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("rult())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"==otype.trigger=futotype.open=functionbe set using `selecater Select2 versions. Use $element.val() insteer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.rion t(t,n,i){var r,a,o=[];r=e.trim(t.attr("class")),e}}var l=this.options.get("containerCss")||{};return e.isFun);var o=this.options.get("adaptDropdownCopdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(r,this.$element,o),r.css(l),r.addClass(a),r},i}),t.define("select2/compat/initSelecad of a single time wn t.prototype.curred=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],functta=[],this._valueSeparator=n.get("valueSeparator")||n){var r=[];return t.selected||-1!==nt.trigger("change")}else this.current(function(h;r++){var a=e[r];t.id!=a.id&&i.push(a.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var i=[],r=0;r<this._currentData.length;r++){var a=this._currentData[r],o=this.matches(t,a);null!==o&&i.push(o)}n({results:i})},t.prototype.addOptions=function(t,n){this._currentData.push.apply(this._currentData,e.map(n,function(t){return e.data(t[0],"data")}))},t}),t.define("select2/compat/matchernshift(t,u,d,p),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply((this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.remight")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var r=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=n[t].apply(n,a)}),e.inArray(t,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),n("SelectView",["backbone","NVTagCallbacks","FieldView","Tex"],function(e,t,n,i,r,a,o){var s=e.$,l=e._,u=function(e){return!(!e&&0!==e)},c=n.extend({__name__:"SelectView",tagName:"label",events:{"change select":"renderFeedback"},className:function(){var e=this.options.definition,t="at-select "+e.name;return e.options&&e.options.length<=2&&(t=t.replace("form-item ","")+" select-collapse"),t},initialize:function(){n.prototype.initialize.call(this),l.bindAll(this,"changeCityIfNotUSA","showHideOther","focusOnSelect2Parent"),/Country/.test(this.name)&&this.$el.on("change","select",this.changeCityIfNotUSA);var e=this.def;e.other&&this.$el.on("change","select",this.showHideOther),!e.allowMultipleValues&&e.typeahead&&this.$el.on("change","select",this.focusOnSelect2Parent),/StateProvince/.test(this.name)&&!e.option_groups&&(e.option_groups={},l.each(e.options,function(t){if(t.value){var n=t.group||"US";e.option_groups[n]=e.option_groups[n]||[],e.option_groups[n].push(t)}}),e.option_groups.US&&this.setOptions(this,"US"))},setOptions:function(e,t){var n=this.hasOptions(e,t)?e.def.option_groups[t]:[];e.def.options_key=t;var i=this.resources.PrimaryResources.DefaultSelectOption;/StateProvince/.test(e.name)&&(i="CA"===t?this.resources.PrimaryResources.DefaultProvinceSelectOption:this.resources.PrimaryResources.DefaultStateSelectOption),e.def.options=[{value:"",display:i}].concat(n)},hasOptions:function(e,t){return!(!e.def.option_groups||!e.def.option_groups[t])},isValueUSA:function(e){return"United States"===e||"US"===e},normalizeCountry:function(e){return this.isValueUSA(e)||!e?"US":e},changeCityIfNotUSA:function(e){if(/Country/.test(this.name)){var t=this,n=e||"";l.isObject(e)&&e.currentTarget&&(n=e.currentTarget.value);var r=this.normalizeCountry(n),a=this.getFieldPrefix(this.name,"Country"),o=l.findIndex(this.parent.def.children,{name:a+"StateProvince"}),s=this.parent.subviews[a+"StateProvince"],u=l.findIndex(this.parent.def.children,{name:a+"PostalCode"}),d=this.parent.subviews[a+"PostalCode"];if(s&&("textfield"===s.type&&this.hasOptions(s,r)?l.defer(function(){if(s.$el.closest(document.documentElement).length){t.parent.def.children[o].type="select";var e=new c(t.parent.subviewOptions(o));t.setOptions(e,r),e.render().setval("").$el.insertBefore(s.$el),s.el.style.width&&(e.el.style.width=s.el.style.width),s.remove(),t.parent.subviews[a+"StateProvince"]=e}}):"select"!==s.type||this.hasOptions(s,r)?"select"===s.type&&this.hasOptions(s,r)&&r!==s.def.options_key&&(this.setOptions(s,r),s.render().setval("")):l.defer(function(){if(s.$el.closest(document.documentElement).length){var e=s.def.text_value||"";delete s.def.text_value,t.parent.def.children[o].type="textfield";var n=new i(t.parent.subviewOptions(o));n.render().setval(e).$el.insertBefore(s.$el),s.el.style.width&&(n.el.style.width=s.el.style.width),s.remove(),t.parent.subviews[a+"StateProvince"]=n}})),d||u>=0){var p,h=d?d.def:t.parent.def.children[u];this.isValueUSA(n)||"postalCodeUS"!==h.validation?this.isValueUSA(n)&&"postalCode"===h.validation&&(p="postalCodeUS"):p="postalCode",p&&l.defer(function(){if(t.parent.def.children[u].validation=p,d){var e=d.val();d.def.validation=p,d.render().setval(e)}})}}return this},render:function(){this.el.className=this.className(),this.collapsedTemplate=this.options.templates.span;var e=this,n=l.clone(this.def),i={};"placeholder"===this.options.labels&&(n.labelhide=!0),n.allowMultipleValues&&(this.el.className+=" multi-select");var a={name:this.name,selectId:this.getBaseId()+"-select",name_lower:this.name.toLowerCase(),classes:this.className(),label:this.def.label||this.title,title:this.title,required:n.required?"required":"",labelhide:"placeholder"===this.options.labels,autocomplete:r(this.name),options:n.options,multiple:n.allowMultipleValues?"multiple":""},c=this.options.parent;return"Paymentions.definitioest(this.name)&&(a.labelhide=!0),a.options&&a.options.leEmployers"!==a.name&&("required"===a.required||"SelectedFrequency"===a.name||"SelectedDuration"===a.name)?(a.value=a.options[1].value,a.display=a.options[1].display,this.options.collapseValue=a.value,a=t("alterContext",{element:this.type,context:a,def:n}).context,this.$el.html(this.collapsedTemplate(a)),this.$el.find("span.select-collapse").attr("id",this.getBaseId()+"-label")):(a.labelhide&&(i=l.where(a.options,{value:""}),i.length>0&&(i[0].display="- "+a.title+(a.required?"* -":" -"))),n.required&&(a.options[0].disabled="dl,"EventType"===a.name&&"0"===n.default_value&&(n.default_value=null),"EventTimeZone"===a.name&&window.Intl&&(n.default_value||(n.default_value=window.Intl.DateTimeFormat().resolvedOptions().timeZone)),a=t("alterContext",{element:this.type,context:a,def:n}).context,this.$el.html(this.template(a)),this.setval(n.default_value)),this.shouldHide()&&this.$el.hide(),o.render(this),(a.multiple||n.typeahead)&&(e.$("select").select2({placeholder:a.multiple?this.resources.PrimaryResources.DefaultSelectOption:void 0,dropdownParent:this.$el}),n.optionsUrl&&e.$("select").select2({ajax:{url:n.optionsUrl,dataType:"json",type:"GET",delay:500,data:function(e){return{query:e.term,top:50}},processResults:function(e){return{results:s.map(e,function(e){return{id:e.value,text:e.display}})}}}})),/Country/.test(this.name)&&n.default_value&&l.defer(function(){e.$("select").trigger("change")}),this},focusOnSelect2Parent:function(){!this.def.allowMultipleValues&&this.def.typeahead&&s(document.activeElement).is('input[class*="select2"]')&&this.$(":tas)},val:function(){var e=this.$("select").val();return/^Selected(Frequency|Duration)$/.test(this.name)&&(e=s('select[name^="'+this.name+'"]').val(),e=isNaN(e)?e:+e),e=this.options.collapseValue?this.options.collapseValue:e,l.isArray(e)&&e.length>0?e.join("||"):e||0===e?e:null},renderFeedback:function(){return this.renderFeedbackWithErrors(this.errors())},errors:function(){var e=this.require_valid()?[]:[this.resources.fill(this.resources.PrimaryResources.BlankIsRequired,this.title)];return e=l.map(t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},setval:function(e){var t=isNaN(e)?e:+e,n=this.val();if((n=isNaN(n)?n:+n)!==t){var i=this.$("select");if(i.length)if(delete this.def.text_value,this.def.allowMultipleValues){var r=e?t.toString().split(/\|\||,/):[];s('[name="'+this.name+'"]').select2({placeholder:this.resources.PrimaryResources.DefaultSelectOption}).val(r).trigger("change")}else null===e||""===e?i.val(i.find("option:first").val()):i.find('option[value="'+e+'"]').length?i.val(e).trigger("change"):this.def.text_value=e}return this.touch().hideOrShow()},type:"select"});return c}),n("RadiosView",["backbone","NVTagCallbacks","FieldView","otherOption"],function(e,t,n,i){var r=e.$,a=e._;return n.extend({__name__:"RadiosView",tagName:"div",events:{"keyup input":"cycleOptions",change:"changeHandler"},changeHandler:function(){this.clearFeedback(),this.showHideOther(),this.updateDescription()},initialize:function(){n.prototype.initialize.apply(this),a.bindAll(this,"cycleOptions","updateDescription")},className:function(){return"form-unit form-unit-radio form-item-"+this.options.definition.name.toLowerCase()},context:function(){var e={name:this.name,name_lower:this.name.toLowerCase(),title:this.title,required:this.def.required?"required":"",options:[],includeDescriptionContainer:!1,id:this.getBaseId()},n=this.def.ordered;if(a.each(this.def.options,function(t){var i=n?t.display:a.values(t)[0],r=n?t.value:a.keys(t)[0];e.includeDescriptionContainer=!(!n||!t.description)||e.includeDescriptionContainer;var o=r.replace(".","").replace("$","");e.options.push({value:r,display:i,id:o})}),this.def.default_value){var i=a.where(e.options,{value:this.def.default_value});i.length>0&&(i[0].checked="checked")}return t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){var e=this.context();this.$el.html(this.template(e));var t=this;return i.render(t),e.includeDescriptionContainer&&a.defer(function(){t.updateDescription()}),this},updateDescription:function(){var e=this.$el.find(".radio-description");if(e&&e.length){var t=this.val(),n=null===t?null:a.find(this.def.options,{value:t}),i=n&&n.description?n.description:null,r="radio-description";i=i||"",null!==t&&void 0!==t&&""!==t&&(r+=" radio-description-value-"+t),e.html(i),e.attr("class",r)}},val:function(){return this.$("input:radio:checked").val()||null},setval:function(e){this.clearFeedback();var t=this.val(),n=r("input:radio[name='"+this.name+"'][value='"+e+"']");return n.length&&n.prop("checked",!0),t!==this.val()&&this.showHideOther(),this.updateDescription(),this.touch()},clearFeedback:function(){return this.$el.removeClass(this.error_class),this.$(".radios").children().removeClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&this.$("small."+this.error_class).remove(),this.$(":input").removeClass("noValue"),this},renderFeedbackWithErrors:function(e){if(e.length){this.$el.addClass(this.error_class);var t=this.$(".radios"),n=this.options.definition.type;t.find("label").addClass(this.error_class),"true"===this.options.formview.parent.options.inline_error_display&&"checkbox"!==n&&(this.$("small."+this.error_class).remove(),t.before(this.error_template({error_text:e.join(", "),behavior_classes:this.error_class})))}else this.clearFeedback();return e},showHideOther:function(){this.def.other&&i.showHide(this)},cycleOptions:function(e){if(!e.isComposing&&229!==e.keyCode){var t=e.shiftKey&&("R"===e.key||82===e.keyCode),n=!e.shiftKey&&("r"===e.key||82===e.keyCode);if(t||n){var i=this.$("input:focus");i.blur(),"radio"===i.prop("type")&&i.prop("checked",!1),i.prop("required")&&i.prop("required",!1);var r,a;if(t){var o=i.parent().prev();o.length>0?r=o.children("input:radio"):(a=i.parent().siblings(),r=a.length>0?a.last().children("input:radio"):i)}else if(n){var s=i.parent().next();s.length>0?r=s.children("input:radio"):(a=i.parent().siblings(),r=a.length>0?a.first().children("input:radio"):i)}r.length>0&&r.prop("checked",!0).focus().trigger("change")}}},type:"radios"})}),n("AmountView",["backbone","NVTagCallbacks","RadiosView","accounting","currency"],function(e,t,n,i,r){var a=e._;return n.extend({__name__:"AmountView",tagName:"div",className:"form-item form-type-radios form-item-selectamount",events:{"change   *":"touch","click    [name^=OtherAmount]":"onBogusOtherAmount","focus    [name^=OtherAmount]":"onFocusOtherAmount","blur     [name^=OtherAmount]":"onBlurOtherAmount","keydown  [name^=OtherAmount]":"onKeyDownOtherAmount","keyup    [name^=OtherAmount]":"onTypeOtherAmount",'focus    :radio[value="other"]':"onFocusOtherAmountRadio","keypress [name^=OtherAmount]":"ensureAmountBeforeSubmit","click    a":"onButtonPress","change   :radio":"onSelectAmount","keyup    input":"cycleOptions"},initialize:function(){n.prototype.initialize.call(this),a.bindAll(this,"updateForNewCurrencyOrFrequency"),this.contributionAmountModel=this.options.formview.contributionAmountModel,this.contributionRecurrenceModel=this.options.formview.contributionRecurrenceModel,this.contributionRecurrenceModel.allowOneTimeFrequency&&this.contributionRecurrenceModel.on("change:frequency",this.updateForNewCurrencyOrFrequency),this.listenTo(r,"change",this.updateForNewCurrencyOrFrequency),window.nvtag.on("giftChanged",this.onGiftChanged,this)},context:function(){var e=!!this.options.formview.model.get("metadata").clientAmountFormatting,n=r.getCurrency(),i=this.getActi(t){if("other"!==t.val){t.isLong="";var a=r.format(t.val);a&&i.suffix&&(a+=i.suffix),!e&&t.display?t.display=t.display.replace(/\.00(\))?$/,"$1").replace("$",n.symbol):t.display?t.display+=" ("+a+")":t.display=a;var o=t.display.length;o>=7&&(t.isLong="long",o>=10&&(t.isLong="veryLong",o>10&&(t.isLong="incrediblyLong",o>20&&(t.isLong="tooLong"))))}});var s={name_lower:this.name.toLowerCase(),amount_options:o,currency:n,showOther:a.reduce(o,function(e,t,n){return"other"===e.val||n}),isUSD:"USD"===n.code,suffix:i.suffix,default_value:i.default_value};return t("alterContext",{element:this.type,context:s,def:this.def}).context},render:function(){var e=this.context();return this.$el.html(this.template(e)),this.$other=this.$('input[name^="OtherAmount"]'),this.$otherAmountPrefix=this.$("span.label-otheramount-prefix"),this.lastActive=null,this.setval(e.default_value),this.setOtherAmountPrefixVisibility(),this},onButtonPress:function(e){this.$(e.currentTarget).parent().trigger("click")},onSelectAmount:function(e){var t=this.getSelectedAmountInfo();return"other"!==e.currentTarget.value?(this.$other.prop("required",!1).val(""),this.setOtherAmountPrefixVisibility()):(this.$other.prop("required",!0),e.stopPropagation()),this.contributionAmountModel.setBaseAmount(t.amount),this},onFocusOtherAmountRadio:function(e){e.relatedTarget&&"OtherAmount"===e.relatedTarget.name||this.$other.focus()},onBogusOtherAmount:function(e){e&&(e.preventDefault(),e.stopPropagation())},onKeyDownOtherAmount:function(e){this.setOtherAmountPrefixVisibility(),9===e.keyCode&&this.$(':radio[value="other"]').focus()},onTypeOtherAmount:function(){this.setOtherAmountPrefixVisibility();var e=this;return setTimeout(function(){var t=e.getSelectedAmountInfo();e.contributionAmountModel.setBaseAmount(t.amount)},500),this},onFocusOtherAmount:function(e){this.setOtherAmountPrefixVisibility(),this.lastActive=e.currentTarget,
e&&(e.preventDefault(),e.stopPropagation()),this.$other.on("mousewheel.disableScroll",function(e){e.preventDefault()}),this.$(':radio[value="other"]').prop("checked",!0),this.$other.attr("required","required")},onBlurOtherAmount:function(e){if(this.setOtherAmountPrefixVisibility(),""!==e.currentTarget.value){e.currentTarget.value=i.toFixed(e.currentTarget.value,2).replace(/\.00$/,"");this.contributionAmountModel.setBaseAmount(this.getSelectedAmountInfo().amount)}return this.$other.off("mousewheel.disableScroll"),a.defer(this.renderFeedback),this},setOtherAmountPrefixVisibility:function(){this.$other&&this.$otherAmountPrefix&&"0.00"!==this.$other.attr("placeholder")&&(""!==this.$other.val()||this.$other.is(":focus")?this.$otherAmountPrefix.show():this.$otherAmountPrefix.hide())},ensureAmountBeforeSubmit:function(e){return 13!==e.which?e.metaKey||e.which>=37&&e.which<=40||8===e.which||/[0-9.]/.test(String.fromCharCode(e.which)):this.onBlurOtherAmount(e)},errors:function(){var e=[],n=this.val(),i=parseFloat(n.Amount);if(n.other&&0===this.$('input[name="OtherAmount"]:focus').length){var o=this.getActiveDefinition(),s=o.valueMax,l=o.valueMin||.01,u=this.contributionAmountModel.get("cheapestGiftThreshold");a.isNaN(i)?e.push(this.resources.PrimaryResources.InvalidAmount):a.isFinite(i)?i<l?e.push(this.resources.fill(this.resources.PrimaryResources.InvalidAmountMin,r.format(l))):i>s?e.push(this.resources.fill(this.resources.PrimaryResources.InvalidAmountMax,r.format(s))):null!==u&&i<u&&e.push(this.resources.fill(this.resources.PrimaryResources.InvalidAmountMin,r.format(u))):e.push(this.resources.PrimaryResources.InvalidAmountInfinite)}else this.touched()&&0===i&&e.push(this.resources.PrimaryResources.PleaseSelectContributionAmount);return e=t("alterErrors",{val:n.Amount,field_name:this.field_name(),errors:e,def:this.def}).errors,this.trigger(e.length?"invalid":"valid"),a.map(e,this.toError,this)},getSelectedAmountInfo:function(){var e,t=this.$(":radio:checked")[0],n=this.$(":radio:checked").val();if("other"===n){var r=i.unformat(this.$other.val());e=a.isFinite(r)&&r>=0?r:0}else e=i.unformat(n)||0;return{selectElement:t,select:n,amount:e}},getActiveDefinition:function(){var e=r.getCurrency(),t=a.cloneDeep(a.find(this.def.children,{value:e.code})||this.def);if(t.frequencyOptions&&t.frequencyOptions.length){var n=this.contributionRecurrenceModel.get("frequency");if(n>0){var i=a.cloneDeep(a.find(t.frequencyOptions,{value:n.toString()}));i&&(t=a.extend(t,i.options),t.suffix=i.suffix)}}return t},updateForNewCurrencyOrFrequency:function(){var e=this.val(),t=e.other?e.Amount:this.getActiveDefinition().default_value;this.render(),this.setval(t),this.setOtherAmountPrefixVisibility()},val:function(){var e=this.getSelectedAmountInfo(),t=this.contributionAmountModel.get("baseAmount");return t=i.toFixed(t,2),{Amount:t,other:"other"===e.select}},setval:function(e){var t,n=this.$('input[name="OtherAmount"]');if(a.isUndefined(e)||(e.SelectAmount||e.Amount?t=e.SelectAmount||e.Amount:a.isFinite(e)&&(t=e)),!a.isUndefined(t)){var r=this.getActiveDefinition(),o=parseFloat(i.toFixed(r.valueMin,2)),s=parseFloat(i.toFixed(r.valueMax,2)),l=parseFloat(i.toFixed(t,2));(l<o||l>s)&&(t=r.default_value),a.isUndefined(t)&&this.$(':radio[value="other"]').length&&(t="other"),"other"!==t&&nRecurringButtons :radio[value="'+t+'"]');u.length?(u.prop("checked",!0),this.$other.prop("required",!1).val("")):(n.val(i.toFixed(t,2).replace(/\.00$/,"")),this.$(':radio[value="other"]').prop("checked",!0).trigger("change"));return this.contributionAmountModel.setBaseAmount(this.getSelectedAck:function(){return"true"===this.options.formview.parent.options.inline_error_display&&this.$("small."+this.error_class).remove(),this.$(".label-otheramount").removeClass("error"),this.$(".label-otheramount input").removeClass("noValue"),this},renderFeedbackWithErrors:function(e){if(e.length){var t=this.$(".label-otheramount");if(t.length||(t=this.$(".SelectAmount .at-radios")),t.length&&(t.addClass("error"),"true"===this.options.formview.parent.options.inline_error_display))return this.$("small."+this.error_class).remove(),t.append(this.error_template({error_text:e.join(", "),behavior_classes:this.error_class})),e;this.parent.parent.subviews.error_console.setFullWidthError(e)}else this.clearFeedback();return e},onGiftChanged:function(e){e.newAmount>this.contributionAmountModel.get("baseAmount")&&this.setval(e.newAmount)},type:"amount"})}),n("DateView",["backbone","moment","FormDefUtils","NVTagCallbacks","FieldView","FormError","deviceInfo"],function(e,t,n,i,r,a,o){var s=e.$,l=e._;return r.extend({__name__:"DateView",tagName:"label",className:function(){return"at-date   "+this.options.definition.name.toLowerCase()},events:{change:"renderFeedback"},initialize:function(){r.prototype.initialize.call(this),s(".ui-datepicker").remove(),this.datepickerConfig=this.resources.Datepicker||{};var e=this.format={value:"YYYY-MM-DD",display:(this.datepickerConfig.MOMENT_FORMAT||"MM/DD/YYYY").toUpperCase(),valueFormat:function(){return o.mobile?e.value:e.display}}},context:function(){var e={name:this.name,title:this.title,placeholder:(this.resources.PrimaryResources.DateFormat||this.datepickerConfig.MOMENT_FORMAT||"MM/DD/YYYY").toUpperCase(),type:o.mobile?"date":"text",labelhide:"placeholder"===this.options.labels,required:this.def.required?"required":"",value:this.def.default_value?t(new Date(this.def.default_value)).utc().format(this.format.valueFormat()):""};return e.labelhide&&e.title&&(e.placeholder=e.title),"EndDate"===this.name&&(e.labelhide=!0,e.value=e.value||t().utc().add("months",1).format(this.format.valueFormat())),i("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){if(this.$el.html(this.template(this.context())),this.$date=this.$("input"),!o.mobile){var e;"DateOfBirth"===this.name?e=0:"NotificationSendDate"===this.name&&(e="+1y");var t;"EndDate"!==this.name&&"NotificationSendDate"!==this.name||(t=0),this.$date.datepicker("destroy");this.$date.datepicker(l.extend({},this.datepickerConfig,{maxDate:e,minDate:t,yearRange:"1900:2050",changeMonth:!0,changeYear:!0,showButtonPanel:!1,showAnim:""}))}return this},errors:function(){var e=[];return"invalid"===this.val()&&e.push(new a(this.resources.PrimaryResources.PleaseEnterValidDate,this)),r.prototype.errors.call(this,e)},val:function(){var e=this.$date&&this.$date.val();if(e){var n=t(e,this.format.valueFormat()).utc();return n.isValid()&&10===e.length?n.format(this.format.value):"invalid"}return null},setval:function(e){var n=e||this.def.default_value,i=n?t(new Date(n)).utc().format(this.format.valueFormat()):"";return i||"EndDate"!==this.name||(i=t().utc().format(this.format.valueFormat())),this.$date.val(i),this.touch()},type:"date"})}),n("NotMeView",["backbone","doublebracket","FormDefUtils","NVTagCallbacks","MarkupView"],function(e,t,n,i,r){var a=e._;return r.extend({__name__:"NotMeView",events:{'click [href="?nf=1"]':"notMe"},isRequired:function(){return!(!this.options.formview.options.form_definition.metadata.hideCompletedFormSections||this.options.formview.isFirstForm())},initialize:function(){r.prototype.initialize.call(this),this.touch_state=!1,this.template=this.options.templates[this.type],this.def=this.options.definition,this.name=a.result(this,"name")||this.def.name||this.options.name,this.title=a.result(this,"title")||this.def.title||this.options.title},render:function(){return this.$el.html(t.translate(this.options.definition.markup)),this.isRequired()&&!this.options.formview.options.clickedNotMe?this.$el.show():1===this.parent.context().children.length?this.parent.remove():this.$el.hide(),this},notMe:function(e){e.preventDefault();var t=this.options.formview;t.options.smart=!1,t.options.showNotMe=!1,t.options.clickedNotMe=!0,t.render().clear().options.parent_tag.bringIntoView()}})}),n("TrackingPixelView",["backbone","FieldView","parseUrl"],function(e,t,n){var i=e._,r=e.$;return t.extend({__name__:"TrackingPixelView",className:"ngp-tracking-pixel",track:i.once(function(){var e=this.options.definition,t=i.last(e.markup.match(/src=['"]?([^'" ]+)['"]?/)),a=this.options.query_string,o=a.ms||a.track;if(t){var s=n(t);if(o&&("/"!==i.last(s.pathname)&&(s.pathname+="/"),s.pathname+=o.substring(0,149),t=s.toString()),0===r('img[src="'+t+'"]').length){(new Image).src=t}}return this}),render:function(){return this.track()}})}),n("TicketHolderView",["backbone","FieldView"],function(e,t){return t.extend({__name__:"TicketHolderView",tagName:"tr",type:"ticket_holder",events:{"keyup input":"changeName","change input":"changeName"},initialize:function(){t.prototype.initialize.call(this),this.name=this.options.definition.name="TicketHolder"+this.cid},changeName:function(e){e&&e.stopPropagation();var t=e.currentTarget.value,n=e.currentTarget.id,i=/first/i.testeFeedback(this.lastNameError()),this},isRequired:function(){return this.model.attributes.required},render:function(){var e=this.model.toJSON();return e.level=ehtml(this.template(e)),this},field_name:function(){return"TicketHolder"},firstNameError:function(){var e=[];if(this.isRequired()){var t=this."First Name Required"))}return e},lastNameError:function(){var e=[];if(this.isRequired()){var t=this.val();t&&t.TicketId&&!t.LastName&&e.push(this.toError("Last Name Required"))}return e},errors:function(){var e=[],t=this.firstNameError(),n=this.lastNameError();return e=e.concat(t),e=e.concat(n),this.renderFirstNameFeedback(t),this.renderLastNameFeedback(n),e},renderFirstNameFeedback:function(e){var t=this.val(),n=this.$("label.ticket-guest-first-label small.error");n&&n.remove();var i=this.$("label.ticket-guest-first-label");!t.FirstName&&e.length?(i.addClass("error"),i.append('<small class="error">First Name is required.</small>')):i.removeClass("error")},renderLastNameFeedback:function(e){var t=this.val(),n=this.$("label.ticket-guest-last-label small.error");n&&n.remove();var i=this.$("label.ticket-guest-last-label");!t.LastName&&e.length?(i.addClass("error"),i.append('<small class="error">Last Name is required.</small>')):i.removeClass("error")},getTicketId:function(){return this.model&&this.model.attributes&&this.model.attributes.level?this.model.attributes.level.id:null},val:function(){return{FirstName:this.$("input.ticket-guest-first").val(),LastName:this.$("input.ticket-guest-last").val(),TicketId:this.getTicketId()}},setval:function(e){return this}})}),n("TicketingLevelView",["backbone","accounting","FieldView"],function(e,t,n){var i=e._;return n.extend({__name__:"TicketingLevelView",id:function(){return"ticket-level-"+this.model.get("id")},tagName:"tr",className:function(){return"ticket-level-info ticket-level"},stripingClass:function(){return this.$el.data("index")%2?"even":"odd"},isRequired:function(){return!1},events:{"change select":"changeQuantity"},initialize:function(){n.prototype.initialize.call(this),this.name=this.options.definition.name="TicketLevel"+this.cid,this.options.requireTicketHolders=this.options.parent.options.requireTicketHolders},render:function(){this.def.required=!1,this.$el.addClass(this.stripingClass()).html(this.template(this.model.toJSON()));var e=this.options.ticket_holders.holders_by_level(this.model.get("id")).length;return 0===e?this.$("select").selectedIndex=0:this.$("select").val(e),this},changeQuantity:function(e){var t=this.$("select").val(),n=t?parseInt(t,10):0,r=this.options.ticket_holders,a=r.holders_by_level(this.model.get("id")),o=n-a.length;if(o>0)i.times(o,function(){r.add({required:this.options.requireTicketHolders,level:this.model.clone()})},this);else if(o<0){o=Math.abs(o);var s=i.filter(a,function(e){return!(e.get("first")&&e.get("last"))}),l=[];s.length>=o?l=s.slice(0,o):(l=s,alert("You've attempted to remove tickn this.spawn("changeQuantityOrAdditional",{ticket_total:this.options.parent.stats.total}),this},field_name:function(){return"TicketLevel"},type:"ticketing_level"})}),n("VgsTextFieldView",["backbone","TextFieldView"],function(e,t){var n=e._;return t.extend({__name__:"VgsTextFieldView",initialize:function(){t.prototype.initialize.call(this),n.bindAll(this,"initVgsElement","vgsStateChange","fallbackRender","handleVgsStateChange","updateContainerClasses","recreateVgsElement","focus"),this.vgs=n.extend(this.vgs||{},{loaded:!!this.options.formview.vgs.form,state:this.options.formview.vgs.state[this.name]||{},form:this.options.formview.vgs.form,containerId:"vgs-"+this.name+"-"+this.options.formview.form_definition().formId,field:null,$container:null}),this.vgsConfig=n.cloneDeep(this.vgsConfig||{}),n.merge(this.vgsConfig.css,this.def.styles||{}),this.vgs.loaded&&(this.listenTo(this.options.formview,"vgsStateChange",this.vgsStateChange),this.listenTo(this.options.formview,"recreateVgsElement",this.recreateVgsElement))},recreateVgsElement:function(e){this.vgs.loaded&&this.vgs.field&&(e&&(this.vgs.form=e),this.vgs.field=null,this.$(".vgs-loading-placeholder").show(),this.vgs.$container&&(this.vgs.$container.addClass("loading"),this.vgs.$container.html(""),this.vgs.$container=null),this.initVgsElement())},clearDeferredVgsInitIfExists:function(){this.deferredVgsInitTimoutId&&(window.clearTimeout(this.deferredVgsInitTimoutId),delete this.deferredVgsInitTimoutId)},initVgsElement:function(){if(this.clearDeferredVgsInitIfExists(),!this.vgs.field){var e="#"+this.vgs.containerId;if((this.vgs.$container=this.$(e))&&this.vgs.$container.length&&document.querySelector(e)){this.vgs.$container.html("");var t=this.context(),i=n.merge({name:t.name,placeholder:t.placeholder},this.vgsConfig);i.validations=i.validations||[],this.def.required&&i.validations.push("required"),i.css=n.merge({},this.vgsConfig.css,t.styles||{}),this.vgs.field=this.vgs.form.field(e,i),this.updateContainerClasses(),this.vgs.$container.focus(this.focus),this.$el.click(this.focus)}}},focus:function(){if(this.vgs.loaded&&this.vgs.field)try{return this.vgs.field.focus(),this}catch(e){}return t.prototype.focus.call(this)},updateContainerClasses:function(){if(this.vgs.state&&this(var t in e)this.vgs.$container.toggleClasvgs.$container.hasClass("loading")&&setTimeout(function(){this.$(".vgs-loading-placeholder").hide(),this.vgs.$container&&this.vgs.$container.removeClass("loading")}.bind(this),100);var t=this.vgs.state,i=this.vgs.state&&e&&e.isDirty&&!n.isEqual(e,this.vgs.state);this.vgs.state=e||{},this.updateContainerClasses();var r=e&&t&&!e.isFocused&&t.isFocused;r&&(this.vgs.hasBlurred=!0);var a=e&&!e.isValid,o=t&&!t.isValid&&e&&e.isValid;r&&this.$el.trigger("blur"),i&&(this.touch(),(r||a&&this.vgs.hasBlurred||o)&&this.$el.trigger("change")),this.handleVgsStateChange(e,t,{hasChanged:i,isBlur:r,isError:a,wasError:o})},render:function(){var e=this.context();return this.$el.html(this.template(e)),this.vgs.loaded?(this.clearDeferredVgsInitIfExists(),this.deferredVgsInitTimoutId=n.defer(this.initVgsElement),this):this.fallbackRender(e)},fallbackRender:function(){return this},dispose:function(){this.clearDeferredVgsInitIfExists(),this.vgs.loaded&&this.vgs.field&&(this.vgs.field._iframe={contentWindow:{postMessage:n.noop}},this.vgs.$container.html(""),this.vgs.field=null,this.vgs.$container=null,this.options.formview.recreateVgsForm(this.vgs.form))}})}),n("payment",["jquery.amd"],function(e){var t,n,i=[].slice,r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e.payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],e.payment3],luhn:{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:n,leength:[16],cvcLength:[3],luhn:!0}],cardFromNumber=function(e){var n,i,r,a,o,s,l,u;for(e=(e+"").replace(/\D/g,""),a=0,s=t.length;a<s;a++)for(n=t[a],u=n.patterns,o=0,l=u.length;o<l;o++)if(r=u[o],i=r+"",e.substr(0,i.length)===i)return n},cardFromType=function(e){var n,i,r;for(i=0,r=t.length;i<r;i++)if(n=t[i],n.type===e)return n},luhnCheck=function(e){var t,n,i,r,a,o;for(i=!0,r=0,n=(e+"").split("").reverse(),a=0,o=n.length;a<o;a++)t=n[a],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return r%10==0},hasTextSelected=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!("undefined"!=typeof document&&null!==documencreateRange:void 0)||!document.ectionEnd",i)},s++)n=t[s],a=i.indexOf(n),a>-1&&(n=r[a]),o+=n;return o},reFormatNumeric=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var e;return e=n.val(),e=replaceFullWidthChars(e),reFormatCardNumber=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var t;return t=n.val(),t=replaceFullWidthChars(t),t=e.payment.formatCardNumber(t),safeVal(t,n)})},formatCardNumber=function(t){var n,i,r,a,o,s,l;if(r=String.fromCharCode(t.which),/^\d+$/.test(r)&&(n=e(t.currentTarget),l=n.val(),i=cardFromNumber(l+r),a=(l.replace(/\D/g,"")+r).length,s=16,i&&(s=i.length[i.length.length-1]),!(a>=s||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==l.length)))return o=i&&"amex"===i.type?/^(\d{4}|\d{4}\s\d{6})$/:/,8===t.which""))})):/\s\d?$/ntTarget),setTimeout(function(){var t;return t=n.val(),t=replaceFullWidthChars(t),t=e.payment.formatExpiry(t),safeVal(t,n)})},formatExpiry=function(t){var n,i,r;if(i=String.fromCharCode(t.which),/^\d+$/.test(i))return n=e(t.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),setTimeout(function(){return n.val("0"+r+" / ")})):/^\d\d$/.test(r)?(t.preventDefault(),setTimeout(function(){var e,t;return e=parseInt(r[0],10),t=parseInt(r[1],10),n.val(t>2&&0!==e?"0"+e+" / "+t:r+" / ")})):void 0},formatForwardExpiry=function(t){var n,i,r;if(i=String.fromCharCode(t.which),/^\d+$/.test(i))return n=e(t.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(r+" / "):void 0},formatForwardSlashAndSpace=function(t){vt),i=n.val(),/^\d$/.test(i)&&"0"!==i?n.val("0"+i+" / "):void 0},formatBackExpiry=function(t){var n,i;if(n=e(t.currentTarget),i=n.val(),8===t.which&&(null==n.prop("selectiunction(t){var n;return n=e(t.r=function(t){var n,i,r,a;if(nl()+i,r=r.replace(/\D/g,""),!al()+i,r.length<=4},setCard.val(),o=e.payment.cardTn"!==o),i.trigger("payment.cae",reFormatCVC),this.on("input",reFormatCVC),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictExpiry),this.on("keypress",formatExpiry),this.on("keypress",formatForwardSlashAndSpace),this.on("keypress",formatForwardExpiry),this.on("keydown",formatBackExpiry),this.on("change",reFormatExpiry),this.on("input",reFormatExpiry),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",restrictNumeric),this.on("keypress",restrictCardNumber),this.on("keypress",formatCardNumber),this.on("keydownmber),this.on("change",reFormatCardNumber),this.on("input",reFormatCardNumber),this.on("input",setCardType),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",restrictNumeric),this.on("paste",reFormatNumeric),this.on("change",reFormatNumeric),this.on("input",reFormatNumeric),this},e.payment.fn.cardExpiryVal=),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},e.payment.validateCardNumber=function(e){var t,n;return e=(e+"").replace(/\s+|-/g,""),!!/^\d+$/.test(e)&&(!!(t=cardFromNumber(e))&&(n=e.length,r.call(t.length,n)>=0&&(!1===t.luhn||luhnCheck(e))))},e.payment.validateCardExpiry=function(t,n){var i,r,a;return"object"==typeof t&&"month"in t&&(a=t,t=a.month,n=a.year),!(!t||!n)&&(t=e.trim(t),n=e.trim(n),!!/^\d+$/.test(t)&&(!!/^\d+$/.test(n)&&(1<=t&&t<=12&&(2===n.length&&(n="20"+n),4===n.length&&(!(n>(new Date).getFullYear()+20)&&(r=new Date(n,t),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i))))))},e.payment.validateCardCVC=function(t,n){var i,a;return t=e.trim(t),!!/^\d+$/.test(t)&&(i=cardFromType(n),null!=i?(a=t.length,r.call(i.cvcLength,a)>=0):t.length>=3&&t.length<=4)},e.payment.cardType=function(e){var t;return e?(null!=(t=cardFromNumber(e))?t.type:void 0)||null:null},e.payment.formatCardNumber=function(t){var n,i,r,a;return t=t.replace(/\D/g,""),(n=cardFromNumber(t))?(r=n.length[n.length.length-1],t=t.slice(0,r),n.format.global?null!=(a=t.match(n.format))?a.join(" "):void 0:null!=(i=n.format.exec(t))?(i.shift(),i=e.grep(i,function(e){return e}),i.join(" ")):void 0):t},e.payment.formatExpiry=function(e){var t,n,i,r;return(n=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=n[1]||"",i=n[2]||"",r=n[3]||"",r.length>0?i=" / ":" /"===i?(t=t.substring(0,1),i=""):2===t.length||i.length>0?i=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,i=" / "),t+i+r):""}}),n("CreditCardView",["backbone","NVTagCallbacks","VgsTextFieldView","payment"],function(e,t,n){var i=e.$,r=e._;return n.extend({__name__:"CreditCardView",tagName:"label",className:"at-text at-cc-number",vgsConfig:{type:"card-number",validations:["validCardNumber"],autoComplete:"cc-number",showCardIcon:{top:"0",transform:"translateY(0%)"},css:{fontSize:".875rem",fontFamily:"monospace",lineHeight:"1",backgroundColor:"#fff","&::placeholder":{color:"#ced4da",fontWeight:"bold"}}},context:function(){var e=this.def.validation||this.def.valueType,n={name:this.name,labelhide:"placeholder"===this.options.labels,label:this.def.label||this.title,title:this.title,value:this.def.default_value||"",maxlength:this.def.maxlength||19,minlength:this.def.minlength||12,placeholder:this.def.placeholder||"•••• •••• •••• ••••",pattern:e?this.attr.pattern(e):null,required:this.def.required?"required":"",vgsLoaded:this.vgs.loaded,vgsContainerId:this.vgs.containerId};return n.labelhide&&(n.placeholder=n.title),"PaymentInformation"===this.parent.name&&"required"in this.parent.def&&!this.parent.def.required&&(n.required=""),t("alterContext",{element:this.type,context:n,def:this.def}).context},fallbackRender:function(){this.$account=this.$('input[name="Account"]').payment("formatCardNumber");var e=this;return e.hasMoved=!1,this.$('input[name="Account"]').on("keyup",function(){i.payment.validateCardNumber(this.value)&&this.value.length>=17&&!e.hasMoved&&(e.hasMoved=!0,e.parent.subviews.ExpirationDate.focus())}),this},handleVgsStateChange:function(e){e&&e.isValiate&&(this.parent.subviews.ExpirationDate.vgs.state.isValid&&this.parent.subviews.SecurityCode?this.parent.subviews.SecurityCode.focus():this.parent.subviews.ExpirationDate.focus()))},val:function(){if(this.vgs.loaded)return null;var e=this.$account.val().replace(/\s/g,"");return""!==e?e:null},setval:function(e){if(!this.vgs.loaded)return this.$account.val(e?i.payment.formatCardNumber(e):e).trigger("keyup"),this.hideOrShow()},errors:function(){var e,n,a=[];if(this.vgs.loaded?(e=!(!this.vgs.state||this.vgs.state.isEmpty)||"",n=this.vgs.state?this.vgs.state.cardType:""):(e=this.$account.val(),n=i.payment.cardType(e)),this.defrces.CreditCardNumberRequired);else if(e&&(this.vgs.loaded&&!this.vgs.state.isValid||!this.vgs.loaded&&!i.payment.validateCardNumber(e)))a.push(this.resources.PrimaryResources.InvalidCreditCardNumber);else if(n&&!r.contains(this.parent.cards,n)){var o=this.parent.accepted[n];a.push(o?this.resources.fill(this.resources.PrimaryResources.BlankIsNotAcceptedCreditCardType,o.name):this.resources.PrimaryResources.NotAcceptedCreditCardProvider)}return a=t("alterErrors",{val:e,field_name:this.field_name(),errors:a,def:this.def}).errors,this.trigger(a.length?"invalid":"valid"),r.map(a,this.toError,this)},type:"credit_card"})}),n("HiddenView",["backbone","FieldView"],function(e,t){var n=e._;return e.View.extend({__name__:"HiddenView",type:"hidden",tagName:"input",initialize:function(){this.def=this.options.definition,this.name=this.def.name},attributes:function(){var e=this.options.definition;return{id:e.name+"_Value",type:e.type,name:e.name+".Value",value:e.value}},render:function(){return this},isRequired:function(){return!1},field_name:function(){return this.options.definition.name},errors:function(){return[]},renderFeedback:function(){return this.errors()},require_valid:function(){return!0},field_title:function(){return""},clearFeedback:function(){return this},val:function(){var e=""!==this.el.value?this.el.value:null;return n.isString(e)&&/^(true|false)$/i.test(e)?/^true$/i.test(e):e},setval:function(e){return n.isNull(e)||(this.el.value=e),this},isActive:function(){return t.prototype.isActive.apply(this)}})}),n("CVV2View",["backbone","NVTagCallbacks","VgsTextFieldView","payment"],function(e,t,n){var i=e.$,r=e._;return n.extend({__name__:"CVV2View",className:"at-text at-cc-csc",vgsConfig:{type:"card-security-code",validations:["validCardSecurityCode"],autoComplete:"cc-csc",css:{fontSize:".875rem",fontFamily:"monospace",lineHeight:"1",backgroundColor:"#fff","&::placeholder":{color:"#ced4da",fontWeight:"bold"}}},context:function(){var e={name:this.name,title:this.title,label:this.def.label||this.title,labelhide:"placeholder"===this.options.labels,required:this.def.required?"required":"",value:this.def.default_value||"",vgsContainerId:this.vgs.containerId,vgsLoaded:this.vgs.loaded};return e.placeholder=e.labelhide?"Card CVV":"•••",t("alterContext",{element:this.type,context:e,def:this.def}).context},fallbackRender:function(){return this.input=this.$("input").payment("formatCardCVC").get(0),this},val:function(){return this.vgs.loaded?null:this.input.value||null},setval:function(){},errors:function(){var e=[],n=this.val();if(this.vgs.loaded&&(n=!(!this.vgs.state||this.vgs.state.isEmpty)||""),n)if(this.vgs.loaded)this.vgs.state.isValid||e.push(this.resources.PrimaryResources.InvalidSecurityCode);else{var a=this.parent.cc_type;if(!a){var o=this.parent.subviews.Account.val();a=o?i.payment.cardType(o):null}if(!i.payment.validateCardCVC(n,a)){var s=this.parent.accepted[a],l=s?this.resources.fill(this.resources.PrimaryResources.InvalidSecurityCodeForBlank,s.name):this.resources.PrimaryResources.InvalidSecurityCode;e.push(l)}}else e.push(this.resources.PrimaryResources.SecurityCodeRequired);return e=t("alterErrors",{val:n,field_name:this.field_name(),errors:e,def:this.def}).errors,this.trigger(e.length?"invalid":"valid"),r.map(e,this.toError,this)},type:"cvv2"})}),n("CCExpirationView",["backbone","moment","NVTagCallbacks","VgsTextFieldView","deviceInfo","payment"],function(e,t,n,i,r){var a=e.$,o=e._;return i.extend({__name__:"CCExpirationView",type:"cc_expiration",className:"at-text at-cc-expiration",vgsConfig:{type:"card-expiration-date",serializers:[],validations:["validCardExpirationDate"],autoComplete:"cc-exp",yearLength:"2",css:{fontSize:".875rem",fontFamily:"monospace",lineHeight:"1",backgroundColor:"#fff","&::placeholder":{color:"#ced4da",fontWeight:"bold"}}},initialize:function(){this.options.definition.name="ExpirationDate",this.options.definition.title=this.options.formview.options.form_definition.resources.PrimaryResources.ExpirationDate,i.prototype.initialize.call(this),this.min=t(),this.vgs.loaded&&this.vgsConfig.serializers.push({name:"separate",options:{monthName:"ExpirationMonth",yearName:"ExpirationYear"}})},context:function(){var e=this.options.definition,t={name:e.name,title:e.title,pattern:"(\\d{2}\\s?/\\s?\\d{2,4})",placeholder:this.resources.PrimaryResources.CardExpirationPlaceHolder,labelhide:"placeholder"===this.options.labels,required:e.required?"required":"",value:e.default_value||"",type:"tel",vgsContainerId:this.vgs.containerId,vgsLoaded:this.vgs.loaded};if(t.labelhide){var i=this.resources.PrimaryResources.CardExpiration
;r.mobile||(i+=" ("+i+")")}var a=this.options.parent;return"PaymentInformation"===a.field_name()&&"required"in a.options.definition&&!a.options.definition.required&&(t.required=""),n("alterContext",{element:this.type,context:t,def:e}).context},fallbackRender:function(){var e="",t=this.$("input"),n=this;return t.payment("formatCardExpiry"),this.parent.subviews.SecurityCode&&t.on("input",function(i){i.currentTarget.value.length>e.length&&a.payment.validateCardExpiry(t.payment("cardExpiryVal"))&&n.parent.subviews.SecurityCode.focus(),e=i.currentTarget.value}),this},handleVgsStateChange:function(e){e&&e.isValid&&!this.hasMoved&&(this.hasMoved=!0,this.parent.subviews.SecurityCode&&this.parent.subviews.SecurityCode.focus())},val:function(){if(this.vgs.loaded)return null;var e;return e=o.mapValues(this.$("input").payment("cardExpiryVal"),function(e,t){return e?"month"===t&&e<10?"0"+e:"year"===t?""+(e-2e3):""+e:""}),{ExpirationMonth:e.month,ExpirationYear:e.year}},setval:function(e){if(!this.vgs.loaded&&o.isObject(e)){var t=""+(e.ExpirationMonth||""),n=""+(e.ExpirationYear||"");2===t.length&&n.length>=2&&this.$("input").val(t+" / "+n)}},errors:function(){var e=[],i=this.resources.PrimaryResources.InvalidExpirationDate;if(this.vgs.loaded)!this.vgs.state||this.vgs.state.isEmpty?e.push(this.resources.fill(this.resources.PrimaryResources.BlankIsRequired,this.title)):this.vgs.state.isValid||e.push(i);else{var r=this.val(),s=r.ExpirationMonth,l=r.ExpirationYear;if(s&&l){l="20"+l;var u=t([~~l,~~s-1]);u.isValid()?u.add(1,"months").isBefore(this.min)?e.push(this.resources.PrimaryResources.CardHasExpired):a.payment.validateCardExpiry(s,l)||e.push(i):e.push(i)}else e.push(i)}return e=n("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.options.definition}).errors,this.trigger(e.length?"invalid":"valid"),o.map(e,this.toError,this)}})}),n("TargetsView",["backbone","FieldView"],function(e,t){var n=e._,i=e.$;return t.extend({__name__:"TargetsView",className:"at-targets clearfix",type:"targets",events:{"click a.at-show-targets":"showAll","click a.at-hide-targets":"hideRest"},context:function(){this.withImages=[];var e=n.reduce(this.def.targets,function(e,t,n){return t.idx=n,t.img&&e.head.length<3?e.head.push(t):(t.img&&this.withImages.push(t),e.rest.push(t)),e},{head:[],rest:[]},this);if(!(e.hasImages=!!e.head.length))for(var t=Math.min(e.rest.length,3);t--;)e.head.push(e.rest.shift());return e},render:function(){var e=this;return this.$el.html(this.template(this.context())).find("img").one("error",function(){if(e.withImages.length){var t=i(this).data("idx");e.def.targets[t].img=null,e.render()}}),this},showAll:function(e){e.preventDefault(),this.$(e.currentTarget).hide().parent().find(".at-targets-rest").show().find("a.at-hide-targets").focus()},hideRest:function(e){e.preventDefault(),this.$(e.currentTarget).parent().hide().parent().find("a.at-show-targets").show().focus()}})}),n("TargetSelectView",["backbone","NVTagCallbacks","SelectView","FieldView","autocomplete"],function(e,t,n,i,r){return n.extend({__name__:"TargetSelectView",initialize:function(){i.prototype.initialize.call(this),this.template=this.options.templates.target_select},render:function(){this.el.className=this.className();var e=this.def;return this.$el.html(this.template(t("alterContext",{element:this.type,def:e,context:{name:this.name,title:this.title,target:e.target,autocomplete:r("Prefix"),options:e.options}}).context)),this.setval(e.default_value),this},type:"target_select"})}),n("AdvocacyTweetView",["backbone","NVTagCallbacks","FieldView"],function(e,t,n){function i(e){var t=void 0!==window.screenLeft?window.screenLeft:screen.left,n=void 0!==window.screenTop?window.screenTop:screen.top,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=i/2-250+t,o=r/2-250+n;return window.open(e,"ModalPopUp","toolbar=no,scrollbars=no,location=no,statusbar=no,menubar=no,resizable=0,width=500, height=500, left="+a+", top="+o)}return n.extend({__name__:"AdvocacyTweetView",type:"advocacy_tweet",className:"at-advocacy-tweet clearfix",events:{"click button.at-tweet-button":"showPopup","click a.at-show-tweet":"showTweet"},initialize:function(){n.prototype.initialize.call(this),this.template=this.options.templates.advocacy_tweet},context:function(){var e=this.def;return t("alterContext",{element:this.type,context:{img:e.img,name:e.name,meta:e.meta,title:"Tweet "+e.name,default_value:e.message,maxlength:280,required:"required",hasTwitter:e.hasTwitter,readonly:(e.readonly||"")&&"readonly disabled"},def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),this.$textarea=this.$(".at-tweet-message"),this.$label=this.$(".at-tweet-label"),this.$button=this.$(".at-tweet-button"),this.$textarea.bind("input propertychange",_.debounce(this.renderFeedback,150)),this},val:function(){return this.$textarea.val()||null},showPopup:function(e){e.preventDefault();var t=this.$textarea.val(),n="https://twitter.com/intent/tweet?text="+encodeURIComponent(t),r=i(n),a=this,o=window.setInterval(function(){!1!==r.closed&&(window.clearInterval(o),a.popupClosed())},200);this.trigger("tweetOpened",{msg:this.$textarea.val(),bioId:this.def.bioId})},popupClosed:function(){var e=this.$(".at-tweet-closed-msg");this.$(".at-tweet-area").hide(),e.show()},showTweet:function(e){e.preventDefault();var t=this.$(".at-tweet-cfunction(){this.$textarea.val()?this.clearFeedback():this.renderFeedbackWithErrors("Tweet is required.")},error_class:"error",clearFeedback:function(){return this.$("small."+this.error_class).remove(),this.$textarea.removeClass("noValue"),this.$label.removeClass(this.error_class),this.$button.prop("disabled",!1),this},renderFeedbackWithErrors:function(e){return this.$label.addClass(this.error_class),this.$textarea.addClass("noValue"),this.$label.find("small."+this.error_class).remove(),this.$label.append(this.error_template({error_text:e,behavior_classes:this.error_class})),this.$button.prop("disabled",!0),e}})}),n("ReCaptchaView",["backbone","FieldView","NVTagCallbacks"],function(e,t,n){function i(t){if(t.simpleCaptcha)return t;var n=e.$("body"),i=Math.min(350,n.width()-75),r=Math.min(400,n.height()-25),a=_.clone(t),o=t.gridHeight,s=t.gridWidth,l=t.pixelHeight,u=t.pixelWidth,c=l/u,d=o/s,p=c*d;u>i&&(u=i,l=c*u),l>r&&(l=r,u/=c);var h=l/o,f=h,m=h*p;a.cellHeight=f+"px",a.cellWidth=m+"px",a.height=l+"px",a.width=u+"px",a.gridRow=[];for(var g=0,v=0;v<o;v++){for(var y=[],b=0;b<s;b++)y.push({idx:++g,bkgPos:"-"+m*b+"px -"+f*v+"px",bkgSize:u+"px "+l+"px"});a.gridRow.push(y)}return a}return t.extend({__name__:"ReCaptchaView",type:"recaptcha_grid",initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.recaptcha_grid},context:function(){var e=i(this.def.captcha);return n("alterContext",{context:e}).context},render:function(){return this.$el.html(this.template(this.context())),this}})}),n("CheckboxListManagerView",["backbone","NVTagCallbacks","FieldView"],function(e,t,n){var i=e.$,r=e._;return n.extend({__name__:"CheckboxListManagerView",type:"checkbox-list-manager",initialize:function(){n.prototype.initialize.call(this),this.title=this.def.title,this.template=this.options.templates.checkbox_list_manager,this.childrenSelector="#"+this.options.formview.getBaseId()+' [name^="'+this.name+'_"]',this.listenTo(this.options.formview,"fill.def,n={name:e.name,title:e.title,required:e.required,text:{TitleIsRequired:this.resources.fill(this.resources.PrimaryResources.BlankIsRequired,e.title)}};return t("alterContext",{element:this.type,context:n,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),i("body").on("click",this.childrenSelector,this.renderFeedback),this},renderFeedback:function(){return this.isCheckboxUncheckedAndRequired()?this.renderFeedbackWithErrors("error"):this.clearFeedback()},clearFeedback:function(){return i('[name="'+this.name+'"]').removeClass("at-red"),i('[name="'+this.name+'-small"]').removeClass("at-red"),i('[name="'+this.name+'-small"]').hide(),this},renderFeedbackWithErrors:function(e){return i('[name="'+this.name+'"]').addClass("at-red"),i('[name="'+this.name+'-small"]').addClass("at-red"),i('[name="'+this.name+'-small"]').show(),e},focus:function(){this.getChildByIndex(0).focus()},errors:function(){var e=this.isCheckboxUncheckedAndRequired()?[this.title+" is required."]:[];return e=r.map(t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},val:function(){},postFill:function(){this.setChildrenAriaLabels(),this.values&&this.values.length&&this.updateChildrenValues(this.values)},setval:function(e){if(e&&(e=e.toString())){this.values=e.split("||")}else this.values=null;return this.touch()},setChildrenAriaLabels:function(){var e=this.getBaseId();i(this.childrenSelector).each(function(t,n){i(n).attr("aria-describedby",e)})},updateChildrenValues:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this.getChildByValue(n);i&&i.length&&i.prop("checked",!0)}},getChildByIndex:function(e){return i(i('[name^="'+this.name+'_"]')[e])},getChildByValue:function(e){return i('[name^="'+this.name+'_"][name$="_'+e+'"]')},isCheckboxUncheckedAndRequired:fuor),n=t.filter(function(){return this.checked}).length>0;return e.required&&!n}})}),n("ActivistCodeQuestionView",["CheckboxListManagerView"],function(e){return e.extend({_on",initialize:function(){e.prototype.initialize.call(this),this.template=this.options.templates.question}})}),n("EcardsView",["backbone","RadiosView","NVTagCallbacks","templates"],function(e,t,n,i){var r=e.$;return t.extend({__name__:"EcardsView",type:"ecard",events:{"change  input[name=ecard]":"onEcardRadioSelect","keyup input":"cycleOptions","click div.at-ecard":"onEcardSelect","click .at-preview-ecard":"showPreview"},initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.ecards},context:function(){var e={ecards:[],title:this.def.title||"",allowPreview:!!this.def.preview_markup};if(e.ecards=this.def.imgs,this.def.default_value){var t=_.where(e.ecards,{url:this.def.default_value});t?t.checked="checked":e.ecards[0].checked="checked"}else e.ecards[0].checked="checked";return n("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){this.$el.html(this.template(this.context())),this.def.preview_markup&&r("body").append(i.generic_modal({prefix:"preview",headerText:this.resources.PrimaryResources.Preview,resources:this.resources}));var e=r("input[name=ecard]:checked").parent();return e&&e.addClass("selected"),this},selectEcard:function(e){r("input[name=ecard]").each(function(){r(this).parent().removeClass("selected")}),e.addClass("selected")},onEcardSelect:function(e){var t=r(e.currentTarget);this.selectEcard(t),t.find("input[name=ecard]").prop("checked",!0).focus()},onEcardRadioSelect:function(e){this.selectEcard(r(e.currentTarget).parent())},showPreview:function(){var e=this.$("input[name=ecard]:checked");if(e&&e[0]){var t=e[0].value,n=r("#preview-modal"),i=n.find("#preview-modal-content"),a=n.find("#preview-footer-content");i.empty();i.html('<div class="at-preview-wrapper"><img src="'+t+'"/><div class="at-preview"),a.empty();a.html(this.resources.fill('<a href="#!" class="close-button" title="{{0}}" data-dismiss="modal">{{0}}</a>',this.resources.PrimaryResources.Close))}window.location.hash="preview-modal"},val:function(){var e=r("input[name=ecard]:checked");if(e&&e[0]){return e[0].value}return null}})}),n("PremiumGiftsView",["backbone","RadiosView","NVTagCallbacks","accounting"],function(e,t,n,i){var r=e.$,a=e._;return t.extend({__name__:"PremiumGiftsView",type:"gifts",events:{'keyup input[name="gift"]':"cycleOptions","change   :radio":"onGiftSelected"},initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.premium_gifts,this.contributionAmountModel=this.options.formview.contributionAmountModel,this.setGift(this.def.gifts[0]),this.listenTo(this.contributionAmountModel,"change:baseAmount",this.amountChanged)},context:function(){var e=this,t=e.def,r={gifts:[]},o=this.contributionAmountModel.get("baseAmount"),s=this.selectedValue;return r.gifts=a.map(t.gifts,function(t){var n=a.extend({},t);return t.no_gift||(t.threshold&&(n.threshold=i.formatMoney(t.threshold),n.floatThreshold=e.toFloat(n.threshold,2)),o<n.floatThreshold&&(n.willIncrease=!0)),t.val===s&&(n.checked="checked"),n}),n("alterContext",{element:this.type,context:r,def:t}).context},render:function(){var e=this.context(),t=this.template(e),n=this;return n.$el.html(t),r(".gift-img-container").each(function(e,t){var n=r(t).find(".gift-img"),i=r(n).find("img");r(i).one("load",function(){r(t).css("background-image","none")})}),n},val:function(){var e=r("input[name=gift]:checked");if(e&&e[0]){return e[0].value}return null},setGift:function(e){if(!e)return delete this.selectedValue,void window.nvtag.trigger("giftChanged",{newAmount:0});this.selectedValue=e.val;var t=this.toFloat(e.threshold||0,2);window.nvtag.trigger("giftChanged",{newGift:e,newAmount:t})},onGiftSelected:function(e){var t=this.getGiftFromVal(e.currentTarget.value),n=this.contributionAmountModel.get("baseAmount"),i=t.threshold||0;i=this.toFloat(i,2),i>n&&this.options.formview.setPageInfoAlert([this.resources.t]),this.setGift(t),this.render(),r("#"+e.target.id).focus(),this.renderFeedback()},amountChanged:function(){var e=this.contributionAmountModel.get("baseAmount"),t=this.getSelectedGift();if(t&&e<this.toFloat(t.threshold,2)){this.options.formview.setPageInfoAlert([this.resources.PrimaryResources.ContributionAmountTooSmall]);this.setGift(this.getGiftFromVal(0))}this.render()},clearFeedback:function(){return r(".Premiums").removeClass("error"),r(".Premiums > small.error").remove(),this},renderFeedbackWithErrors:functionrror"),t.append(this.error_template({error_text:e,behavior_classes:"error"}))}else this.clearFeedback();return e},errors:function(){var e=[],t=this.val();return(a.isNull(t)||a.isUndefined(t))&&(this.clearFeedback(),e.push(t",{val:t,field_name:this.field_name(),errors:e,def:this.def}).errors,this.trigger(e.length?"invalid":"valid"),a.map(e,this.toError,this)},getGiftFromVal:function(e){return a.find(this.def.gifts,{val:parseInt(e)})},getSelectedGift:function(){var e=this.selectedValue;if(!a.isNull(e)&&!a.isUndefined(e))return this.getGiftFromVal(e)}})}),n("TimeView",["NVTagCallbacks","FieldView","moment"],function(e,t,n){return t.extend({__name__:"TimeView",tagName:"label",type:"time",events:{'change [name$="StartTime"]':"updateTime",change:"renderFeedback"},className:function(){return"at-text "+this.options.definition.name},initialize:function(){t.prototype.initialize.call(this)},context:function(){return e("alterContext",{element:this.type,context:{name:this.name,title:this.title,required:this.def.required&&"required",value:this.def.default_value||"",type:"text",placeholder:"hh:mm AM/PM"},def:this.def}).context},render:function(){var e=this;return this.$el.html(this.template(this.context())),this.$timePicker=this.$("input.timepicker"),this.$timePicker&&this.$timePicker.timepicker({timeFormat:"hh:mm p",interval:30,minTime:"12:00am",maxTime:"11:30pm",dynamic:!1,dropdown:!0,scrollbar:!0,change:function(t){e.updateEndTime(t),e.renderFeedback()}}),this},setval:function(e){this.clearFeedback();var t=e||this.def.default_value,n=this.$timePicker.timepicker(),i=n.parse(t);if(i){var r=n.format(i);return n.setTime(i),this.$timePicker.val(r),this.touch()}return this},val:function(){return this.$timePicker&&this.$timePicker.val()||null},renderFeedbackWithErrors:function(e){return e.length&&this.clearFeedback(),t.prototype.renderFeedbackWithErrors.call(this,e)},errors:function(){if(!this.$el.is(":visible"))return[];var n=t.prototype.errors.call(this);if(!n.length){new RegExp(/^(?:(?:0?\d|1[0-2]):[0-5]\d) (AM|PM)$/i).test(this.$timePicker.val())||n.push("Please enter a valid time (ex: 9:00 PM)")}return _.map(e("alterErrors",{val:this.val(),field_name:this.field_name(),errors:n,def:this.def}).errors,this.toError,this)},updateTime:function(e){this.updateEndTime(e.currentTarget.value)},updateEndTime:function(e){var t=this.parent.subviews,i=this.getFieldPrefix(this.def.name,"StartTime"),r=t[i+"EndTime"];if(r&&e&&!(this.def.name.indexOf("EndTime")>=0)){var a=n(e);n(a).isValid()&&!r.val()&&r.setval(a.add(1,"hour").format("hh:mm A"))}}})}),n("occupations",[],function(){return{translatedOccupations:function(e){return[e.PrimaryResources.Accountant,e.PrimaryResources.Administrator,e.PrimaryResources.Analyst,e.PrimaryResources.Architect,e.PrimaryResources.Artist,e.PrimaryResources.Attorney,e.PrimaryResources.Banker,e.PrimaryResources.Consultant,e.PrimaryResources.Dentist,e.PrimaryResources.Designer,e.PrimaryResources.Director,e.PrimaryResources.Doctor,e.PrimaryResources.Editor,e.PrimaryResources.Engineer,e.PrimaryResources.Executive,e.PrimaryResources.Farmer,e.PrimaryResources.Homemaker,e.PrimaryResources.Investor,e.PrimaryResources.Librarian,e.PrimaryResources.Manager,e.PrimaryResources.Musician,e.PrimaryResources.Nurse,e.PrimaryResources.Owner,e.PrimaryResources.Partner,e.PrimaryResources.Pharmacist,e.PrimaryResources.Photographer,e.PrimaryResources.Physician,e.PrimaryResources.President,e.PrimaryResources.Professor,e.PrimaryResources.Psychologist,e.PrimaryResources.Realtor,e.PrimaryResources.Scientist,e.PrimaryResources.SocialWorker,e.PrimaryResources.SoftwareEngineer,e.PrimaryResources.Teacher,e.PrimaryResources.Writer]}}}),n("form.rows",[],function(){return window["@rows"]||{ContactInformation:[["GotYourMessage"],["OrganizationToggle"],["OrganizationName"],["OrganizationAddressLine1","OrganizationAddressLine2"],["OrganizationCountry","OrganizationPostalCode","OrganizationCity","OrganizationStateProvince"],["OrganizationEmailAddress","OrganizationPhone"],["OrganizationTwitterHandle","OrganizationFacebookProfileUrl"],["OrganizationFooterHtml"],["Prefix","FirstName","MiddleName","LastName","Suffix"],["DateOfBirth","PreferredLanguage","PreferredLanguages","Pronoun"],["Genders","SexualOrientation","Race","Ethnicity"],["AddressLine1","AddressLine2"],["Country","PostalCode","City","StateProvince"],["EmailAddress","HomePhone","MobilePhone"],["WorkEmail","WorkPhone"],["TwitterHandle","FacebookProfileUrl"],["SmsSubscribeMobilePhone"],["SmsLegalDisclaimer"],["YesSignMeUpForUpdatesForBinder"],["CardSignEmployers"],["UpdateMyProfile"]],EmployerInformation:[["LegalHeaderHtml"],["Occupation","Employer","SpouseName"],["EmployerOccupationIsRetiredCheckbox"],["WorkAddressLine1","WorkAddressLine2"],["WorkCountry","WorkPostalCode","WorkCity","WorkStateProvince"],["WorkEmail","WorkPhone"]],PaymentInformation:[["Account","ExpirationDate","SecurityCode"]],RecipientInformation:[["RecipientInfoHeaderHtml"],["RecipientFirstName","RecipientLastName"],["RecipientStreetAddress","RecipientAddressLine1","RecipientAddressLine2"],["RecipientCountry","RecipientPostalCode","RecipientCity","RecipientStateProvince"],["RecipientEmailAddress","RecipientHomePhone"],["NotifyRecipient"],["NotificationHeaderHtml"],["Ecard"],["NotificationSendDate"],["NotificationSendCopy"],["NotificationMessage"]],ShippingInformation:[["ShippingPrefix","ShippingFirstName","ShippingMiddleName",fix"],["ShippingAddressLine1","ShippingAddressLine2"],["ShippingCountry","ShippingPostalCode","ShippingCity","ShippingStateProvince"]],EventInformation:[["EventName","EventType"],["EventDate","EventStartTime","EventEndTime","EventTimeZone"],["EventDescription"],["EventIsPrivate"],["EventIsPrivateReason"]],EventLocation:[["EventLocationName"],["EventAddressLine1","EventAddressLine2"],["EventPostalCode","EventCity","EventStateProvince"]]}}),n("prefixes",[],function(){return{translatedPrefixes:function(e){return[e.PrimaryResources.Dr,e.PrimaryResources.Miss,e.PrimaryResources.Mr,e.PrimaryResources.Mrs,e.PrimaryResources.Ms,e.PrimaryResources.Mx]}}}),n("formatRows",["underscore","form.rows"],function(e,t){function n(n,i,r){var a=r||t[n],o=e.indexBy(i,"name");return e.reduce(a,function(t,n){var i=e.reduce(n,function(e,t){return o[t]&&(e.push(o[t]),o[t].inRow=!0,e.classes?e.classes.push(t):e.classes=[t],"SmsLegalDisclaimer"===t&&o.SmsSubscribeMobilePhone&&"hidden"!==o.SmsSubscribeMobilePhone.type&&e.classes.push("at-indented")),e},[]);if(i.length){1===i.length&&(/^(markup|checkbox)/.test(i[0].type)&&i.classes.unshift("at-row-full"),i.classes.unshift("at-row-solo"));var r=e.countBy(i,"contactMode");r.org===i.length?i.classes.push("at-mode-org-only"):r.person===i.length&&i.classes.push("at-mode-person-only"),i.classes=i.classes.join(" "),t.push(i)}return t},[])}return{format:n}}),n("telemetry",["underscore"],function(eerties&&(t.properties=e.omit(t.properties,function(e){return void 0===e}))}function n(e){if(window.appInsights)try{t(e),window.appInsights.trackEvent(e)}catch(e){}}function i(n){if(window.appInsights)try{t(n),n&&n.exception&&"string"==typeof n.exception&&(n=e.defaults({exception:new Error(n.exception)},n)),window.appInsights.trackException(n)}catch(e){}}function r(e){if(window.appInsights)try{t(e),window.appInsights.trackTrace(e)}catch(e){}}function a(e){if(window.appInsights)try{t(e),window.appInsights.trackDependencyData(e)}catch(e){}}return{trackEvent:n,trackException:i,trackTrace:r,trackDependencyData:a,isEnabled:function(){return!!window.appInsights}}}),n("loadScript",["underscore","jquery.amd","telemetry"],function(e,t,n){function i(e,i){function r(t){try{l&&(window.clearTimeout(l),l=null);var r=new Date,o={Timeout:i,FetchStart:s.toISOString(),FetchEnd:r.toISOString(),ScriptUrl:e,IsActionTagDynamicScript:!0,Result:t},u="success"===t,c=r-s;n.trackDependencyData({data:e,target:e,id:"0",method:"GET",responseCode:u?200:400,success:u,duration:c,properties:o})}catch(e){}a.resolve()}var a=t.Deferred();i=i||2e3;var o=document.createElement("script"ipt";var s,l;return o.src=e,o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,r("success"))}:o.onload=function(){r("success")},o.onerror=function(){r("error")},s=new Date,document.getElementsByTagName("head")[0].appendChild(o),l=window.setTimeout(function(){r("timeout")},i),a.promise()}var r=e.memoize(i,function(e,t){return e});return r.nocache=i,r}),n("InternationalPhoneView",["backbone","NVTagCallbacks","TextFieldView","placeholder","loadScript","loadCSS","assetUrl"],function(e,n,i,r,a,o,s){functry{t([d],function(){})}catch(e){console.debug("error loading intl-phone-utils in debug mode")}else a(d)}function u(){if(window.nvtagDebug){var n=e.$.Deferred();try{t([p],function(){n.resolve()})}catch(e){console.debug("error loading intl-phone-utils in debug mode"),n.resolve()}return n.promise()}return window.intlTelInput?e.$.Deferred().resolve().promise():a(p)}var c,d=s("js/intl-tel.input.utils.js"),p=s("js/intlTelInput.js");return i.extend({__name__:"InternationalPhoneView",tagName:"label",type:"international_phone",events:{change:"renderFeedback"},className:function(){return"at-text   "+this.options.definition.name},multiple_fields:function(){return[this.name,this.name+"CountryCode"]},initialize:function(){this.databaseCountryCode="us",o(s("styles/intlTelInput.min.css")),i.prototype.initialize.call(this),this.controlClass=".intl-phone-"+this.name,e.$().ready(function(){c=u(),l()})},context:function(){var e={name:this.name,label:this.def.label||this.title,title:this.title,required:this.def.required&&"required",value:this.def.default_value||"",type:this.def.type,labelhide:"placeholder"===this.options.labels};return e.labelhide&&(e.placeholder='placeholder="'+_.escape(this.title)+(e.required?"*":"")+'"'),n("alterContext",{element:this.type,context:e,def:this.def}).context},_initializeIntlTelInstance:function(){var t=e.$(this.controlClass).val(),n=this.context(),i=this.options.formview.options.form_definition.metadata,r=(this.def.options||[]).reduce(function(e,t){return e[t.value.toLowerCase()]=t.display,e},{});this.$el.html(this.template(n)),this.$input=this.$el.find(this.controlClass),this.intlTelInstance=window.intlTelInput(this.$input[0],{initialCountry:this.databaseCountryCode,nationalMode:!0,numberType:"MOBILE",preferredCountries:i&&i.languageCode?[]:["us","gb","ca"],dropdownContainer:document.body,autoPlaceholder:"off",originalCountryCode:this.databaseCountryCode,localizedCountries:r,onlyCountries:Object.keys(r)}),this.$input.val(t||this.def.default_value||""),this.intlTelInstance.setCountry(this.def.default_country_code||this.databaseCountryCode),this.$input.on("countrychange",this.renderFeedback)},render:function(){this.$el.html(this.template(this.context()));var e=this;return c&&c.then(function(){e._initializeIntlTelInstance()}),this},renderFeedback:function(){if(!this.intlTelInstance)return i.prototype.renderFeedback.call(this);if(!window.intlTelInputUtils)return this.renderFeedbackWithErrors(this.errors());var e=this.getNumberOnly();if(e){var t=this.intlTelInstance.getSelectedCountryData().iso2;if("WorkPhone"===this.name&&this.intlTelInstance.getExtension()){var n=this.intlTelInstance.getExtension();this.$input.val(window.intlTelInputUtils.formatNumber(e,t,window.intlTelInputUtils.numberFormat.NATIONAL)+" x"+n)}else this.intlTelInstance.isValidNumber()&&this.$input.val(window.intlTelInputUtils.formatNumber(e,t,window.intlTelInputUtils.numberFormat.NATIONAL))}return this.renderFeedbackWithErrors(this.errors())},errors:function(){if(!this.intlTelInstance||!window.intlTelInputUtils)return[];var e=this.require_valid()?[]:[this.resources.fill(this.resources.PrimaryResources.BlankIsRequired,this.title)];return this.getNumberOnly()&&!this.intlTelInstance.isValidNumber()&&e.push(this.resources.fill(this.resources.PrimaryResources.PleaseEnterValidBlank,this.title)),e=_.map(n("alterErrors",{val:this.getNumberOnly(),field_name:this.field_name(),errors:e,def:this.def}).errors,this.toError,this)},getFulce.getNumber(window.intlTelInputUtils.numberFormat.NATIONAL):e.$(this.controlClass).val(),"WorkPhone"===this.name&&this.intlTelInstance.getExtension()&&(t=t+" x"+this.intlTelInstance.getExtension()),t.replace(/\D/g,"")},getNumberOnly:function(){var t;if(window.intlTelInputUtils){if(t=this.intlTelInstance.getNumber(window.intlTelInputUtils.numberFormat.NATIONAL),"WorkPhone"===this.name&&this.intlTelInstance.getExtension()){var n=this.intlTelInstance.getExtension();t=t.substr(0,t.length-n.length)}}e,val:function(){if(!this.intlTelInstance)return e.$(this.controlClass).val();var t=this.context().name,n=this.intlTelInstance.getSelectedCountryData(),i={};return(i[t]=this.getNumberOnly())?(i[t+"CountryCode"]=n.iso2,i[t+"InternationalDialingPrefix"]=n.dialCode,"WorkPhone"===t&&(i.WorkPhoneExtension=this.intlTelInstance.getExtension()),i):null},setval:function(t){var n=this.context().name;if(!this.intlTelInstance)return e.$(this.controlClass).val(t[n]),this.touch().hideOrShow();var i=n+"CountryCode";return _.isNull(t)?this:(this.$input.val(_.isNull(t[n])||_.isUndefined(t[n])?"":t[n]),_.isNull(t[i])||_.isUndefined(t[i])||this.intlTelInstance.setCountry(t[i]),this.touch().hideOrShow())}})}),n("CoverCostsCheckboxView",["backbone","CheckboxView","currency"],function(e,t,n){var i=e._;return t.extend({__name__:"CoverCostsCheckboxView",events:{"change input":"updateModel"},updateModel:function(){this.contributionAmountModel.setCoverCostState(this.isChecked())},initialize:function(){t.prothecked","renderFeedback","updateModel"),this.contributionAmountModel=this.options.formview.contributionAmountModel,this.listenTo(this.options.formview,"preAutoProcess",i.partial(this.setval,!1)),this.contributionAmountModel.on("change:totalAmount",this.renderFeedback)},setval:function(e){if(void 0!==e)return t.prototype.setval.call(this,e),this.contributionAmountModel.setCoverCostState(e),this.renderFeedback(),this},render:function(){return t.prototype.render.call(this).hideOrShow()},renderFeedback:function(){if(this.hideOrShow(),this.isVisible()){var e=this.contributionAmountModel.get("coverCost"),t=this.$el.find("span.at-checkbox-title-container"),i=t.find("span.at-cover-costs-info"),r=t.find("span.at-checkbox-title");if(e<=0)i&&i.length&&i.remove(),r&&r.length&&r.text()!==this.def.title&&r.text(this.def.title);else{var a=this.contributionAmountModel.get("totalAmount"),o=this.resources.PrimaryResources.TotalContributionAmountWillBe+" <strong>"+n.format(a)+"</strong>.";if(i&&i.length)i.html(o);else{var s=document.createElement("span");s.className="at-cover-costs-info",s.innerHTML=o,t.append(s)}if(r&&r.length){var l=r.text();if(l){l=l.trim();var u=l.lastIndexOf("."),c=" ";u!==l.length-1&&(c=". "),r.text(l+c)}}}}},shouldHide:function(){var e=this.contributionAmountModel.get("baseAmount"),t=this.contributionAmountModel.maxAmount;return"number"!=typeof e||e>=t||e<=0},val:function(){var e=this.contributionAmountModel.get("coverCost");return e>0?e:void 0},isChecked:function(){return!!t.prototype.val.call(this)}})}),n("SignaturePad",["underscore","jquery","loadScript","assetUrl"],function(e,n,i,r){function a(){if(!window.SignaturePad){var e=r("js/signature_pad.min.js");if(window.nvtagDebug){var a=n.Deferred();try{t([e],function(e){window.SignaturePad=e,a.resolve()})}catch(e){console.debug("error loading signature pad library in debug mode"),a.resolve()}return a.promise()}return i(e)}return n.Deferred().resolve().promise()}function o(e,t,n){function i(e,t,n){var i=Math.max(window.devicePixelRatio||1,1),r=document.getElementsByTagName("body")[0],a=r.offsetWidth;if(!0===n||o!==a){o=a;t.width!==t.offsetWidth*i&&(t.width=t.offsetWidth*i,t.height=t.offsetHeight*i,t.getContext("2d").scale(i,i),e.clear())}}var r=document.getElementsByTagName("body")[0],o=r.offsetWidth;return a().then(function(){var r=new window.SignaturePad(e);return window.addEventListener("resize",i.bind(null,r,e,!1)),t.addEventListener("click",function(){r.clear()}),n.addEventListener("click",function(){var e=r.toData();e&&(e.pop(),r.fromDataurePadew","SignaturePad","NVTagCallbacks"],function(e,t,n){return e.extend({__name__:"SignaturePadView",type:"signature_pad",tagName:"div",className:function(){return"at-signature-pad   "+this.options.definition.name},events:{click:"renderFeedback",touchend:"renderFeedback"},initialize:function(){e.prototype.initialize.call(this),this.template=this.options.templates.signature_pad},context:function(){return n("alterContext",{element:this.type,context:{title:this.title,label:this.def.label||this.title,required:this.def.required&&"required"},def:this.def}).context},render:function(){var e=this;e.$el.html(this.template(this.context()));var n=this.$el.find("canvas")[0],i=this.$el.find('button[name="clear"]')[0],r=this.$el.find('button[name="undo"]')[0];return t.setupSignaturePad(n,i,r).then(function(t){e.signaturePad=t}),e},val:function(){return this.signaturePad&&!this.signatgnaturePad.toDataURL():null}})}),n("ApplePay",["jquery.amd","underscore","currency","ActionTagConfig"],function(e,t,n,i){function r(e){
return!!window.PaymentRequest&&!!window.Applayments()&&window.ApplePaySession.supportsVersion(u)&&(-1===d.indexOf(location.host)||c.some(function(n){return t.contains(e,n)}))}function a(t,n,i,r){l=!1,e.ajax({type:"POST",url:n,dataType:"json",async:!1,data:{validationUrl:t.validationURL,merchantIdentifier:i,displayName:r?r.substring(0,64):r,host:location.host}}).done(function(e){t.complete(JSON.parse(e))}).fail(function(){l=!0,t.complete("fail")})}function o(e){var t=e.details.billingContact,n=e.details.shippingContact;return{FirstName:t.givenName,LastName:t.familyName,AddressLine1:t.addressLines&&t.addressLines[0],AddressLine2:t.addressLines&&t.addressLines[1],City:t.locality,StateProvince:t.administrativeArea,PostalCode:t.postalCode,Country:t.countryCode,EmailAddress:n&&n.emailAddress,HomePhone:n&&n.phoneNumber,MobilePhone:n&&n.phoneNumber}}function s(t,r,s,c,d,p,h,f,m){try{var g={supportedMethods:"https://apple.com/apple-pay",data:{version:u,merchantIdentifier:t,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:r,countryCode:"US",requiredBillingContactFields:["postalAddress"]}},v={total:{label:f,amount:{value:s,currency:n.getCurrency().code}},displayItems:m},y={requestPayerEmail:p,requestPayerPhone:h},b=new window.PaymentRequest([g],v,y);return b.onmerchantvalidation=function(e){a(e,c,t,d)},b.show().then(function(e){var t=o(e);return e.complete("success"),{paymentResponseDetails:e.details,expires:Date.now()+6e4*i.APPLE_PAY_SESSION_TIMEOUT_MINUTES,fill_dict:t}}).catch(function(){return{applePayInternalError:l}})}catch(t){var w=e.Deferred();return w.resolve({applePayInternalError:!0}),w}}var l=!1,u=3,c=["ZZ","VQA","EADEM","DEMO","EMAZZ"],d=["secure.everyaction.com","secure.ngpvan.com","actions.everyaction.com","actions.ngpvan.com"];return{enabledOnBrowser:r,promptApplePay:s}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof n&&n.amd)n("braintree",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.braintree||(t.braintree={})).client=e()}}(function(){return function(){function e(n,i,r){function a(s,l){if(!i[s]){if(!n[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};n[s][0].call(d.exports,function(e){return a(n[s][1][e]||e)},d,d.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}return e}()({1:[function(e,t,n){(function(n){"use strict";var i=e("promise-polyfill");t.exports=n.Promise||i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":10}],2:[function(e,t,n){"use strict";function i(e){var t,n,i,o,s=JSON.stringify(e);return!e.forceScriptReload&&(o=a[s])?o:(i=document.createElement("script"),t=e.dataAttributes||{},n=e.container||document.head,i.src=e.src,i.id=e.id,i.async=!0,Object.keys(t).forEach(function(e){i.setAttribute("data-"+e,t[e])}),o=new r(function(t,r){i.addEventListener("load",function(){t(i)}),i.addEventListener("error",function(){r(new Error(e.src+" failed to load."))}),i.addEventListener("abort",function(){r(new Error(e.src+" has aborted."))}),n.appendChild(i)}),a[s]=o,o)}var r=e("./lib/promise"),a={};i.clearCache=function(){a={}},t.exports=i},{"./lib/promise":1}],3:[function(e,t,n){(function(n){"use strict";var i=e("./is-ie11");t.exports=function(e){return e=e||n.navigator.userAgent,-1!==e.indexOf("MSIE")||i(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":4}],4:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,-1!==e.indexOf("Trident/7")}},{}],5:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,-1!==e.indexOf("MSIE 9")}},{}],6:[function(e,t,n){"use strict";function i(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}t.exports=i},{}],7:[function(e,t,n){"use strict";function i(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}t.exports=i},{}],8:[function(e,t,n){"use strict";function i(e,t){if(!t)return e;e.then(function(e){t(null,e)}).catch(function(e){t(e)})}t.exports=i},{}],9:[function(e,t,n){"use strict";function i(e){return function(){var t,n=Array.prototype.slice.call(arguments);return"function"==typeof n[n.length-1]&&(t=n.pop(),t=a(r(t))),o(e.apply(this,n),t)}}var r=e("./lib/deferred"),a=e("./lib/once"),o=e("./lib/promise-or-callback");i.wrapPrototype=function(e,t){var n,r,a;return t=t||{},r=t.ignoreMethods||[],a=!0===t.transformPrivateMethods,n=Object.getOwnPropertyNames(e.prototype).filter(function(t){var n,i="constructor"!==t&&"function"==typeof e.prototype[t],o=-1===r.indexOf(t);return n=!!a||"_"!==t.charAt(0),i&&n&&o}),n.forEach(function(t){e.prototype[t]=i(e.prototype[t])}),e},t.exports=i},{"./lib/deferred":6,"./lib/once":7,"./lib/promise-or-callback":8}],10:[function(e,t,n){"use strict";function i(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function r(){}function a(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function s(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?l:u)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,i)})}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void p(a(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e.)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var h=setTimeoction(t,n){function i(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){i(e,t)},n)}r[e]=o,0==--a&&t(r)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var a=r.length,o=0;o<r.length;o++)i(o,r[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){h(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=o},{}],11:[function(e,t,n){"use strict";t.exports={isIe:e("@braintree/browser-detection/is-ie"),isIe9:e("@braintree/browser-detection/is-ie9")}},{"@braintree/browser-detection/is-ie":3,"@braintree/browser-detection/is-ie9":5}],12:[function(e,t,n){"use strict";function i(e){var t,n,i;if(e=e||{},t=JSON.stringify(e),!(n=e.gatewayConfiguration))throw new c(x.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(e){if(e in n&&!u(n[e]))throw new c({type:x.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:x.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(t)},this._request=l,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=n.clientApiUrl+"/v1/",(i=n.braintreeApi)&&(this._braintreeApi={baseUrl:i.url+"/",accessToken:i.accessToken},!u(this._braintreeApi.baseUrl)))throw new c({type:x.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:x.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"braintreeApi URL is on an invalid domain."});n.graphQL&&(this._graphQL=new s({graphQL:n.graphQL}))}function r(e,t){vLIENT_AIMITED):e>=500?n=new c(x.CLIENT_GATEWAY_NETWORK):(e<200||e>=400)&&(n=d(t,{type:x.CLIENT_REQUEST_ERROR.type,code:x.CLIENT_REQUEST_ERROR.code,message:x.CLIENT_REQUEST_ERROR.message})),n)return n.details=n.details||{},n.details.httpStatus=e,n}function a(e){var t=p(e).attrs;return{Authorization:"Bearer "+(t.authorizationFingerprint||t.tokenizationKey),"Braintree-Version":o}}var o=e("./constants").BRAINTREE_VERSION,s=e("./request/ee-error"),d=e("../lib/convert-to-braintree-error"),p=e("../lib/create-authorization-data"),h=e("./get-configuration").getConfiguration,f=e("../lib/add-metadata"),m=e("../lib/promise"),g=e("@braintree/wrap-promise"),v=e("../lib/once"),y=e("../lib/deferred"),b=e("../lib/assign").assign,w=e("../lib/analytics"),_=e("./constants"),x=e("./errors"),C=e("../lib/errors"),k=e("../lib/constants").VERSION,A=e("../lib/constants").GRAPHQL_URLS,E=e("../lib/methods"),T=e("../lib/convert-methods-to-error"),P=e("../lib/assets"),S=e("../lib/constants").FRAUDNET_FNCLS,I=e("../lib/constants").FRAUDNET_SOURCE,D=e("../lib/constants").FRAUDNET_URL,M={};i.initialize=function(e){var t,n=M[e.authorization];return n?(w.sendEvent(n,"custom.client.load.cached"),n):(n=h(e).then(function(n){return e.debug&&(n.isDebug=!0),t=new i(n)}),M[e.authorization]=n,w.sendEvent(n,"custom.client.load.initialized"),n.then(function(e){return w.sendEvent(t,"custom.client.load.succeeded"),e}).catch(function(t){return delete M[e.authorization],m.reject(t)}))},i.clearCache=function(){M={}},i.prototype._findOrCreateFraudnetJSON=function(e){var t,n,i,r,a=document.querySelector('script[fncls="'+S+'"]');a||(a=document.body.appendChild(document.createElement("script")),a.type="application/json",a.setAttribute("fncls",S)),t=this.getConfiguration(),n={rda_tenant:"bt_card",mid:t.gatewayConfiguration.merchantId},i=p(t.authorization).attrs.authorizationFingerprint,i&&i.split("&").forEach(function(e){var t=e.split("=");"customer_id"===t[0]&&t.length>1&&(n.cid=t[1])}),r={f:e.substr(0,32),fp:n,bu:!1,s:I},a.text=JSON.stringify(r)},i.prototype.request=function(e,t){var n=this,i=new m(function(t,i){var o,s,l,u,p=Boolean("payment_methods/credit_cards"===e.endpoint&&n.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==e.api&&(e.method?e.endpoint||(o="options.endpoint"):o="options.method"),o)throw new c({type:x.CLIENT_OPTION_REQUIRED.type,code:x.CLIENT_OPTION_Rwhen mahod:e.method,graphQL:n._guration.analyticsMetadata},"clientApi"===s)l=n._clientApiBaseUrl,uI_ACCESS_RESTRICTED);l=n._braintreeApi.baseUrl,u.data=e.data,u.headers={"Braintree-Version":_.BRAINTREE_API_VERSION_HEADER,Authorization:"Bearer "+n._braintreeApi.accessToken}}else{if("graphQLApi"!==s)throw new c({type:x.CLIENT_OPTION_INVALID.type,code:x.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});l=A[n._configuration.gatewayConfiguration.environment],e.endpoint="",u.method="post",u.data=b({clientSdkMetadata:{source:n._configuration.analyticsMetadata.source,integration:n._configuration.analyticsMuthoriza,BRAINTREE_VERSION:"2018-05-10"}},{}],14:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:i.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:i.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:i.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:i.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:i.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:i.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:i.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:i.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:i.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:i.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":37}],15:[function(e,t,n){(function(n){"use strict";function i(e){return new a(function(t,i){var a,o,m,g,v,y=l(),b={merchantAppId:n.location.host,platform:u.PLATFORM,sdkVersion:u.VERSION,source:u.SOURCE,integration:u.INTEGRATION,integ3",v={url:g,method:"GET",data:m},m.authorizationFingerprint&&o.graphQL&&(h(o.graphQL.date,f)&&(v.graphQL=new p({graphQL:{url:o.graphQL.url,features:["configuration"]}})),v.metadata=b),s(v,function(n,o,s){var l;if(n)return l=403===s?d.CLIENT_AUTHORIZATION_INSUFFICIENT:d.CLIENT_GATEWAY_NETWORK,void i(new r({type:l.type,code:l.code,message:l.message,detb,gatewayConfiguration:o},t(a)})})}var r=e("../lib/braintree-error"),a=e("../lib/promise"),o=e("@braintree/wrap-promise"),s=e("./request"),l=e("../lib/vendor/uuid"),u=e("../lib/constants"),c=e("../lib/create-authorization-data"),d=e("./errors"),p=e("./request/graphql"),h=e("../lib/is-date-string-before-or-on"),f=e("./constants").BRAINTREvendor/uuid":53,"./constants":13,"./errorraintree/wt,n){"use strict";function i(e){returno.reject(new r({type:l.INSTANTIATION_OPTION_REQUIRED.type,code:l.INSTANTIATION_OPTION_REQUIRED.code,message:"options.aung a client."}))}var r=e("../li/client"),o=e("../lib/promise"),s=e("@braintree/wrap-promise"),l=e("../lib/errors");t.exports={create:s(i),VERSION:"3.44.2"}},{"../lib/braintree-error":37,"../lib/errors":44,"../lib/promise":50,"./client":12,"@braintree/wrap-promise":9}],17:[function(e,t,n){"use strict";function i(e){return(!e||e===v)&&l.isIe()}function r(e){var t=!e.data&&e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.erroe e.grapror",null,o||500)}else E(null,l,o)}}:null,d(A.responseText),A.status)},A.onerror=function(){E("error",null,500)},A.onprogress=function(){},A.ontimeout=function(){E("timeout",null,-1)});try{A.open(b,x,!0)}catch(i){if(!T)throw i;return delete e.graphQL,void a(e,t,n)}A.timeout=k,h&&Object.keys(w).forEach(function(e){A.setRequestHeader(e,w[e])});try{A.send(c(b,y))}catch(e){}}function o(e,t){a(e,0,t)}var s=e("../../lib/querystring"),l=e("../browser-detection"),u=e("../../lib/assign").assign,c=e("./prep-body"),d=e("./parse-body"),p=e("./xhr"),h=p.isAvailable,f=e("./graphql/request"),m=e("./default-request"),g=1,v=408;t.exports={request:o}},{"../../lib/assign":36,"../../lib/querystring":51,"../browser-detection":11,"./default-request":18,":30,"./prep-body":31,"./xhr":32}],18:[function(e,t,n){"use strict";function i(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}i.prototype.getUrl=function(){return this._url},i.prototype.getBody=function(){return this._data},i.prototype.getMethod=function(){return this._method},i.prototype.getHeaders=function(){return this._headers},i.prototype.adaptResponseBody=function(e){return e},i.prototype.determineStatus=function(e){return e},t.exports=i},{}],19:[function(e,t,n){(function(e){"use strict";t.exports=function(){return e.navigator.userAgent}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";function i(e,t){return e.data&&!e.errors?r(e,t):o(e)}function r(e,t){var n,i=e.data.clientConfiguration;return n={environment:i.environment.toLowerCase(),clientApiUrl:i.clientApiUrl,assetsUrl:i.assetsUrl,analytics:{url:i.analyticsUrl},merchantId:i.merchantId,venmo:"off"},i.supportedFeatures&&(n.graphQL={url:t._graphQL._config.url,features:i.supportedFeatures.map(function(e){return e.toLowerCase()})}),i.braintreeApi&&(n.braintreeApi=i.braintreeApi),i.applePayWeb&&(n.applePayWeb=i.applePayWeb,n.applePayWeb.supportedNetworks=a(i.applePayWeb.supportedCardBrands,l.applePayWeb),delete n.applePayWeb.supportedCardBrands)?(n.challenges=i.creditCard.challenges.map(function(e){return e.toLowerCase()}),n.creditCards={supportedCardTypes:a(i.creditCard.supportedCardBrands,l.creditCard)},n.threeDSecureEnabled=i.creditCard.threeDSecureEnabled):(n.challenges=[],n.creditCards={supportedCardTypes:[]},n.threeDSecureEnabled=!1),i.googlePay&&(n.androidPay={displayName:i.googlePay.displayName,enabled:!0,environment:i.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:i.googlePay.googleAuthorization,supportedNetworks:a(i.googlePay.supportedCardBrands,l.googlePay)}),i.venmo&&(n.payWithVenmo={merchantId:i.venmo.merchantId,accessToken:i.venmo.accessToken,environment:i.venmo.environment.toLowerCase()}),i.paypal?(n.paypalEnabled=!0,n.paypal=s({},i.paypal),n.paypal.currencyIsoCode=n.paypal.currencyCode,nse(),delete n.paypal.currencyCode):n.paypalEnabled=!1,i.unionPay&&(n.unionPay={enabled:!0,merchantAccountId:i.unionPay.merchantAccountId}),i.visaCheckout&&(n.visaCheckout={apikey:i.visaCheckout.apiKey,externalClientId:i.visaCheckout.externalClientId,supportedCardTypes:a(i.visaCheckout.supportedCpass&&(n.masterpass={merchantCheckoutId:i.masterpass.merchantCheckoutId,supportedNetworks:a(i.masterpass.supportedCardBrands,l.masterpass)}),i.usBankAccount&&(n.usBankAccount={routeId:i.usBankAccount.routeId,plaid:{publicKey:i.usBankAccount.plaidPublicKey}}),n}function a(e,t){return e.reduce(function(e,n){return t.hasOwnProperty(n)?e.concat(t[n]):e},[])}var o=e("./error"),s=e("../../../../lib/assign").assign,l={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};t.exports=i},{"../../../../lib/assign":36,"./error":22}],21:[function(e{return e.data&&!e.errors?r(e):a(e)}function r(e){var t=e.data.tokenizeCrturn r&&(["commercial","debit","durbinRegulated",r[e]]:"Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(e){r[e]||(r[e]="Unknown")})),{creditCards:[{binData:r,consumed:!1,description:i?"ending in "+i:"",nonce:t.token,details:{bin:n.bin||"",cardType:o[n.brandCode]||"Unknown",lastFour:n.last4||"",lastTwo:i},type:"CreditCard",threeDSecureInfo:null}]}}var a=e("./error"),o={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},s={YES:"Yes",NO:"No",UNKNOWN:"Unknown"};t.exports=i},{"./error":22}],22:[function(e,t,n){"use strict";function i(e){var t=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"VALIDATION"===t?a(e):t?r(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}function r(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}function a(e){var t=o(e.errors);return{error:{message:l(t)},fieldErrors:t}}function o(e){var t=[];return e.forEach(function(e){s(e.extensions.inputPath.slice(1),e,t)}),t}function s(e,t,n){var i,r=t.extensions.legacyCode,a=e[0];if(1===e.length)return void n.push({code:r,field:a,message:t.message});n.forEach(function(e){e.field===a&&(i=e)}),i||(i={field:a,fieldErrors:[]},n.push(i)),s(e.slice(1),t,i.fieldErrors)}function l(e){return{creditCard:"Credit card is invalid"}[e[0].field]}t.exports=i},{}],23:[function(e,t,n){"use strict";function i(){return{query:r,operationName:"ClientConfiguration"}}var r="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard      routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       cessToken       url     }     supportedFeatures   } }";t.exports=i},{}],24:[function(e,t,n){"use strict";function i(e){var t=e.creditCard,n=t&&t.billingAddress,i=t&&t.expirationDate,a=t&&(t.expirationMonth||i&&i.split("/")[0].trim()),o=t&&(t.expirationYear||i& n&&(s.input.creditCard.billioptions&&"boolean"==typeof e.c.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizati    productId       }     }   } }";t.exports=a},{"../../../../lib/assign":36}],25:[function(e,t,n){"use strict";function i(e){this._config=e.graphQL}function r(e){return s.some(function(t){return void 0!==t.split(".").reduce(function(e,t){return e&&e[t]},e)})}var a=e("../../browser-detection"),o={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},s=["creditCard.options.unionPayEnrollment"];i.prototype.getGraphQLEndpoint=function(){return this._config.url},i.prototype.isGraphQLRequest=function(e,t){var n,i=this.getClientApiPath(e);return!(!this._piPath=function(e){var t,n=e.split("/client_api/v1/");return n.length>s._clientSdkMetadata={source:etegration,sessionId:e.metada;return Object.keys(e).forEach(function(n){var i=a(n);t[i]="object"==typeof e[n]?o(e[n]):"number"==typeof e[n]?String(e[n]):e[n]}),t}var s=e("../../constants").BRAINTREE_VERSION,l=e("../../../lib/assign").assign,u=e("./generators/credit-cardnerators/configuration"),p=e("./adapters/configuration"),h={"payment_methods/credit_cards":u,configuration:d},f={"paymentenerator(e),n=l({clientSdkMetadata:this._clientSdkMetadata},t);return JSON.stringify(n)},i.prototype.getnt):(this._sendAnalyticsEvent("graphql.tokenizatioion":21,"./generators/configuration":23,"./generators/credit-card-tokenization":24}],27:[function(e,t,n){"use strict";function i(){return null==r&&(r=!(u()&&/MSIE\s(8|9)/.test(l()))),r}var r,a=e("../../lib/once"),o=e("./jsonp-driver"),s=e("./ajax-driver"),l=e("./get-user-agent"),u=e("./is-http");t.exports=function(e,t){t=a(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},i()?s.request(e,t):o.request(e,t)}},{"../../lib/once":49,"./ajaxfunctionn(e,t,n){(function(n){"use strict";function i(e){ear i=document.createElement("script"),r=!1;return i.src=e,i.async=!0,i.onerror=function(){n[t]({message:"error",status:500})},
i.onload=i.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,i.onload=i.onreadystatechange=null)},i}function a(e){try{delete n[e]}catch(t){n[e]=null}}function o(e,t){p[t]=setTimeout(function(){p[t]=null,n[t]({error:"timeout",status:-1}),n[t]=function(){a(t)}},e)}function s(e,t,r){n[r]=function(n){var o=n.status||500,s=null,l=null;delete n.status,o>=400||o<200?s=n:l=n,a(r),i(e),clearTimeout(p[r]),t(s,l,o)}}function l(e,t){var n,i="callback_json_"+c().replace(/-/g,""),a=e.url,l=e.data,p=e.method,h=e.timeout;a=d.queryify(a,l),a=d.queryify(a,{_method:p,callback:i}),n=r(a,i),s(n,t,i),o(h,i),u||(u=document.getElementsByTagName("head")[0]),u.appendChild(n)}var u,c=e("../../lib/vendor/uuid"),d=e("../../lib/querystring"),p={};t.exports={request:l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":51,"../../lib/vendor/uuid":53}],30:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(e){}return e}},{}],31:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],32:[function(e,t,n){(function(e){"use strict";function n(){return i?new XMLHttpRequest:new XDomainRequest}var i=e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest;t.exports={isAvailable:i,getRequestObject:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){"use strict";function i(e,t){var n,i=t?a(t):{},s=r(e.authorization).attrs,l=a(e.analyticsMetadata);i.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION;for(n in i._meta)i._meta.hasOwnProperty(n)&&(l[n]=i._meta[n]);return i._meta=l,s.tokenizationKey?i.tokenizationKey=s.tokenizationKey:i.authorizationFingerprint=s.authorizationFingerprint,i}var r=e("./create-authorization-data"),a=e("./json-clone"),o=e("./constants");t.exports=i},{"./constants":38,"./create-authorization-data":41,"./json-clone":47}],34:[function(e,t,n){"use strict";function i(e){return Math.floor(e/1e3)}function r(e,t,n){var r=i(Date.now());return a.resolve(e).then(function(e){var a=i(Date.now()),l=e.getConfiguration();(0,e._request)({url:l.gatewayConfiguration.analytics.url,method:"post",data:s(l,{analytics:[{kind:o.ANALYTICS_PREFIX+t,isAsync:a!==r,timestamp:r}]}),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},n)})}var a=e("./promise"),o=e("./constants"),s=e("./add-metadata");t.exports={sendEvent:r}},{"./add-metadata":33,"./constants":38,"./promise":50}],35:[function(e,t,n){"use strict";t.exports={loadScript:e("@braintree/asset-loader/load-script")}},{"@braintree/asset-loader/load-script":2}],36:[function(e,t,n){"use strict";function i(e){var t,n,i;for(t=1;t<arguments.length;t++){n=arguments[t];for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}t.exports={assign:"function"==typeof Object.assign?Object.assign:i,_assign:i}},{}],37:[function(e,t,n){"use strict";function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var r=e("./enumerate");i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},t.exports=i},{"./enumerate":43}],38:[function(e,t,n){"use strict";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.44.2",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.44.2"}},{}],39:[function(e,t,n){"use strict";var i=e("./braintree-error"),r=e("./errors");t.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new i({type:r.METHOD_CALLED_AFTER_TEARDOWN.type,code:r.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":37,"./errors":44}],40:[function(e,t,n){"use strict";function i(e,t){return e instanceof r?e:new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}var r=e("./braintree-error");t.exports=i},{"./braintree-error":37}],41:[function(e,t,n){"use strict";function i(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function r(e){var t=e.split("_"),n=t[0];return{merchantId:t.slice(2).join("_"),environment:n}}function a(e){var t,n,a={attrchantId+"/client_api/v1/configuratiottrs.authorizationFingerprint=t.authorizationFingerprint,a.configUrl=t.configUrl,a.graphQL=t.graphQL),a}var o=e("../lib/vendor/polyfill").atob,s=e("../lib/constants").CLIENT_API_URLS;t.exports=a},{"../lib/constants":38,"../lib/vendor/polyfill":52}],42:[function(e,ion(){e.e[n]=t+nt";var i=e(".EQUIRED"},INCOMPATIBLE_VERSIONS:{type:i.types.MERCHANT,code:"INCOMPATIBRCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:i.types.MERCHANT,code:"BRAINTREE_API_ACCE"}}},{".ateElement("a"),a.href=e,t=i(a.hostname),o.hasOwnProperty(t))}var a,o={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=r},{}],47:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],48:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],49:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],50:[function(e,t,n){(function(n){"use strict";var i=n.Promise||e("promise-polyfill");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":10}],51:[function(e,t,n){(function(e){"use strict";function n(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e){return==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(t){var n;return t=t||e.location.href,/\?/.tes n,r,o,s=[];for(o in e)e.hasOwnProperty(o)&&(r=e[o],n=t?i(e)?t+"[]":t+"["+o+"]":o,s.push("object"==typeof r?a(r,n):encodeURIComponent(n)+"="+encodeURIComponent(r)));return s.join("&")}function o(e,t){return e=e||"",null!=t&&"object"==typeof t&&n(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=a(t)),e}t.exports={parse:row ne)<<4|o>>2&15,i=(3&o)<<6|63&s,d+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(i?String.fromCharCode(i):"")}while(l<e.length);return d}var i="function"==typeof e.atob?e.atob:n;t.exports={atob:function(t){return i.call(e,t)},_atob:n}}).call(this,"undefined"!=typeof global?global:ypeof win6)}),function(e){if("object"==typeof exports&&"undefine)module.exports=e();else if("function"==typeof n&&n.amd)n("paypal",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.braintree||(t.braintree={})).paypal=e()}}(function(){return function(){function e(n,i,r){function a(s,l){if(!i[s]){if(!n[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};n[s][0].call(d.exports,function(e){return a(n[s][1][e]||e)},d,d.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}return e}()({1:[function(e,t,n){(function(n){"use strict";var i=e("promise-polyfill");t.exports=n.Promise||i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":23}],2:[function(e,t,n){"use strict";function i(e){var t,n,i,o,s=JSON.stringify(e);return!e.forceScriptReload&&(o=a[s])?o:(i=document.createElement("script"),t=e.dataAttributes||{},n=e.container||document.head,i.src=e.src,i.id=e.id,i.async=!0,Object.keys(t).forEach(function(e){i.setAttribute("data-"+e,t[e])}),o=new r(function(t,r){i.addEventListener("load",function(){t(i)}),i.addEventListener("error",function(){r(new Error(e.src+" failed to load."))}),i.addEr r=e("./lib/promise"),a={};i.clearCache=function(){a={}},t.exports=i},{"./lib/promise":1}],3:[function(e,t,n){(function(e){"use strict";t.exports=functi?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){"use strict";var i=e("./is-edge"),r=e("./is-samsung");t.exports=function(e){return e=e||navigator.userAgent,!(-1===e.indexOf("Chrome")&&-1===e.indexOf("CriOS")||i(e)||r(e))}},{"./is-edge":5,"./is-samsung":12}],5:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,-1!==e.indexOf("Edge/")}},{}"!=typeof window?window:{})},{"./is-ie11":7}],7:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,-1!==e.indexOf("Trident/7")}},{}],8:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return t=t||e.navigator.userAgent,/FxiOS/i.test(t)}}).call(this,"undefined"!=typeof global?global:"w?window:{})},{}],9:[function(e,t,n){(function(n){"use strict";function i(e){return/\bGSA\b/.test(e)}var r=e("./is-ios");t.ex!.*Safari)/.test(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios":11}],10:[function(e,t,n){(function(n){"use strict";var i=e("./is-ivigator.userAgent,/iPhone|iPod|iPad/i.test(t)}}).call(this,"undefined"!=typeof glsungBrow window?window:{})},{}],13:[function(e,t,n){(fuInt(t[1],.navigatd"),u=e("./is-ios-firefox"),c=e("./is-ios-webview"),d=e("./is-chrome"),p=e(ts=function(e){return e=e||n.navigator.userAgent,!(c(e)||u(e)||a(e)||r(e)||i/is-ios-firefox":8,"./is-ios-webview":9,"./is-samsung":12}],14:[function(e,t,n){"use strict";var i=e("./lib/set-attributes"),r=e("./lib/default-attributes"),a=e("./lib/assign");t.exports=function(e){var t=document.createElement("iframe),t}},{"./l/lib/set-attributes":17}],15:[function(e,t,n){"use strict";t.exports=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){"object"==typeof t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}},{}]0,scrolling:"no"}},{}],17:[function(e,t,n){"use strict";t.exports=function(e,t){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],null==n?e.renction"==typeof n[n.length-1]&&(t=n.pop(),t=a(r(t))),o(e.apply(this,n),t)}}var r=e("./lib/deferred"),a=e("./lib/once"),o=e("./lib/promise-or-callback");i.wrapPrototype=function(e,t){var n,r,a;return t=t||{},r=t.ignoreMethods||[],a=!0===t.transformPrivateMethods,n=Object.getOwnPropertyorEach(function(t){e.prototype[t]=i(e.prototype[t])}),e},t.exports=i},{"./lib/deferred":18,"./lib/once":19,"./lib/promise-or-callback":20}],22:[function(e,t,n){(function(e){"use st)&&(n[t]=x[t]);return n._origin=e||"*",n}function r(e){var t,n,i=s(this);return!l(e)&&(!l(i)&&(n=Array.prototype.slice.calurn!w(e,t,n)&&(k[n]=k[n]||{},k[n][e]=k[n][e]||[],k[n][e].push(t),!0)}function o(e,t){var n,i,r=s(this);if(w(e,t,r))return!1;if(!(i=k[r]&&k[r][e]))return!1;for(n=0;n<i.length;n++)if(i[n]===t)return i.splice(n,1),!0;return!1}function s(e){return e&&e._origin||"*"}function l(e){return"string"!=typeof e}function u(e,ringify event: "+e.message)}return i}function c(e){var t,n,i,r;if(e.data.slice(0,A.length)!==A)return!1;try{t=JSON.parse(e.data.slice(A.length))}catch(e){return!1}return null!=t.reply&&(n=e.origin,i=e.source,r=t.reply,t.reply=function(e){var t;return!!i&&(!1!==(t=u(r,[e],n))&&void i.postMessage(t,n))},t.args.push(t.reply)),t}function d(t){_||(_=t||e,_.addEventListener?_.addEventListener("message",f,!1):_.attachEvent?_.attachEvent("onmessage",f):null===_.onmessage?_.onmessage=f:_=null)}function p(){null!=_&&(_.remoyxxx-xxxxxxxxon(){return n})},function(n){return t.reject)}}function o(e){if(!(this i(1===e._st}l(t.prom TypeErtypeof t)){var n=t.then;if(t instanceof o)return(peof n)return void p(a(n{2===e._state&&0===e.e.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(otype.finally=i,o.all=function(e){return new o(function(t,n){function i(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){i(e,t)},n)}r[e]=o,0==--a&&t(r)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var a=r.length,o=0;o<r.length;o++)i(o,r[o])})},o.resolve=functiotion(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){h(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=o},{}],24:[function(e,t,n){"use strict";function i(e,t){var n,i=t?a(t):{},s=r(e.authorization).attrs,l=a(e.analyticsMetadata);i.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION;for(n in i._meta)i._meta.hasOwnProperty(n)&&(l[n]=i._meta[n]);return i._meta=l,s.tokenizationKey?i.tokenizationKey=s.tokenizationKey:i.authorizationFingerprint=s.authorizationFingerprint,i}var r=e("./create-authorization-data"),a=e("./json-clone"),o=e("./constants");t.exports=i},{"./constants":33,"./create-authorization-data":37,"./json-clone":55}],25:[function(e,t,n){"use strict";function i(e){return Math.floor(e/1e3)}function r(e,t,n){var r=i(Date.now());return a.resolve(e).then(function(e){var a=i(Date.now()),l=e.getConfiguration();(0,e._request)({url:l.gatewayConfiguration.analyt.assign:i,_assign:i}},{}],28:[function(e,t,n){"use strict";function i(e){var t,n,i;return e?(i=e.name,t=e.client,n=e.authorization,null==t&&null==n?a.reject(new r({type:o.INSTANTIATION_OPTION_REQUIRED.type,code:o.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+i+"."})):n||t.getVersion()===s?a.resolve():a.reject(new r({type:o.INCOMPATIBLE_VERSIONS.type,code:o.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+i+" (version "+s+") components must be from the same SDK version."}))):a.reject(new r({type:o.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:o.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}var r=e("./braintree-error"),a=e("./promise"),o=e("./errors"),s="3.44.2";t.exports={verify:i}},{"./braintree-error":29,"./errors":41,"./promise":58}],29:[function(e,t,n){"use strict";funnumerate");i.protnction(e){return e instuse strict";func==e||(i.href=e,r(e))}var r=eis-verified-domain":5i(e){if(e=e||{},!s.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.mertion(e){Handler===t&&(r=i.handler);this._offDirect(e],this._offDirect(e.eventName,e.handler);this._listeners.leotype._log=function(e,t){this._isVerbose&&console.log(e,t)},i.events=a,t.exports=i},{"../braintree-error":29,URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.44.2",INTEGRATION:"custom"SSETS_URLS;t.exports={create:i}},{"./constants":33}],37:[function(e,t,n){"use strict";function i(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function r(e){var t=e.split("_"),n=t[0];return{merchantId:t.slice(2).join("_"),environment:n}}function a(e){var t,n,a={attrs:{},configUrl:"Id+"/cligerprint,a.configUrl=t.configUrl,a.graphQL=t.graphQL),a}var o=e("../lib/vendor/polyfill").atob,s=e("../lib/constants").CLIENT_API_URLS;t.exports=a},{"../lib/constants":33,"../lib/vendor/polyfill":61}],38:[function(e,t,n){(function(n){"use strict";function i(e){var t=a.resolve();return e.client?a.resolve(e.client):(n.braintree&&n.braintree.client||(t=o.loadScript({src:e.assetsUrl+"/web/"+l+"/js/client.min.js"}).catch(function(e){return a.reject(new r({type:s.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:s.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:s.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))})),t.then(function(){return n.braintree.client.VERSION!==l?a.reject(new r({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n.braintree.client.VERSION+") and "+e.namunction(e,t,n){"use strict";function i(e,t){return t=null==t?"":t,e.reduce(function(e,n){return e[n]=t+n,e},{})}t.exports=i},{}],41:[function(e,t,n){"use strict";var i=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:i.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:intree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:i.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:i.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},w new Error("A valid frame name must be provided")}function a(e){r(e),this._serviceId=h().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl,height:e.height,width:e.width,top:e.top,left:e.left},this.state=e.state||{},this._bus=new u({channel:this._serviceId}),this._setBusEvents()}var o=e("./strategies/popup"),s=e("./strategies/popup-bridge"),l=e("./strategies/p=e("../shared/constants"),h=e("../../vendor/uuid"),f=e("@braintree/iframer"),m=e("../../be("../../is-https"),y=e(".this._bus.on(c.DISPATCH_FRAME_,a.prototype._writeDi.DISPATCH_FRAME_CLASS,heigument.body.appendChild(thiORT,function(e,t){this._onCompleteCallback&&this._onCompleteCallback.call(null,e.is.state)}.bind(this))},a.prototype.open=function(e,t){var n;if(e=e||{}this._onCompleteCallback=t,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(t&&(n=new m(g.isIE()&&!v.isHTTPS()?d.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:d.FRAME_SERVICE_FRAME_OPEN_FAILED),t(n)));this._pollForPopupClose()}},a.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&this._frame.redirect(e)},a.prototype.close=function(){this.isFrameClosed()||this._frame.close()},a.prototype.focus=function(){thise(),this.close()}.bind(this),focus:function(){e.beforeFocus&&e.beforeFocus(),this.flose(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},a.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},a.prototype._cleanupFrame=function(){this._frame=null,}).call(this,"undefined"!=typeof globa/is-https":53,"../../vendor/uuid":62,"../shared/browser-detection":49,"../shared/co51,"../shared/events":52,"./.})}}},{"./frame-service":42r:0,outline:"none",zIndex:20001,background:"#FFFFFF"};r.prototype.initialize=i,r.prototype.open=function(){var e={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:o({},l),title:"Lightbox Frame"};s.isIos()?(s.isIosWKW._el=document.createElement("div"),o(this._el.style,l,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=a(e),this._el.appendChild(this._frame)):this._el=this._frame=a(e),this._closed=!1,this._container.appendChild(this._el)},r.prototype.focus=i,r.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,s.isIosWKWebview()&&this._unlockScrolling()},r.prototype.isClosed=function(){return Boolean(this._closed_frame.src=e},r.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,n.scrollTo(this._savedBodydelete this._savedBodyProperties},r.prototype._lockScrolling=funrflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.posd"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=tyframer":14}],45:[function(e,t,n){(function(n){"use strict";function i(){}function r(e){this._closed=null,this._options=e}");r.prototype.initia.onComplete=function(n,i){var r=!i&&!n;if(t._closed=!0,n||r)return void e(new a(o.FRAME_SERVICE_FRAME_CLOSED));e(null,i)}},r.prototype.open=function(e){var t;e=e||{},t=e.openFrameUrl||this._options.openFrameUrl,this._closed=!1,n.popupBridge.open(t)},r.prototype.focus=i,r.prototype.close=i,r.prototype.isClosed=functbal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../braintree-error":29,"../../shared/errors":51}],46:[function(e,t,n){"usePTIONS,"height="+t,"width="+n,"top="+a,"left="+o].join(",")}},{"../../../shared/constants":50,"./position":48}],47:[function(e,t,n){(function(n){"use strict";function i(){}function r(e){th)},r.proorts={top:n,left:i,center:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){"use strict";t.exports={isIos:e("@braintree/browser-detection/ios-wkwebview"),isIE:e("@braintree/browser-detection/is-ie"),supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":6,"@braintree/browser-detection/is-ios":11,"@braintree/browser-detection/is-ios-wkwebview":10,"@braintree/browser-detection/supports-popups":13}],50:[function(e,t,n){"use strict";t.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],51:[function(e,t,n){"use strict";var i=e("../../braintree-error");t.exports={FRAME_SERVICE_FRAME_CLOSED:{type:i.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:i.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:i.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":29}],52:[function(e,t,n){"use strict";t.exports=e("../../enumerate")(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":40}],53:[function(e,t,n){(function(e){"use strict";function n(t){return"https:"===(t=t||e.location.protocol)}t.exports={isHTTPS:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(e,t,n){"use strict";function i(e){return e.split(".").slice(-2).join(".")}function r(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&(a=a||document.createElement("a"),a.href=e,t=i(a.hostname),o.hasOwnProperty(t))}var a,o={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.expoON.parse(JSON.stringify(e))}},{}],56:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],57:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],58:[function(e,t,n){(function(n){"use strict";var i=n.Promise||e("promise-polyfill");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":23}],59:[function(e,t,n){(function(e){"use strict";function n(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(t){var n;return t=t||e.location.href,/\?/.test(t)?(n=t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&"),n.reduce(function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e},{})):{}}function a(e,t){var n,r,o,s=[];for(o in e)e.hasOwnProperty(o)&&(r=e[o],n=t?i(e)?t+"[]":t+"["+o+"]":o,s.push("object"==typeof r?a(r,n):encodeURIComponentelf:"undefined"!=typeof window?window:{})},{}],60:[function(e,t,n){"use strict";function i(e){return e?"":".min"}t.exports=i},{}],61:[function(e,t,n){(function(e){"use strict";function n(e){var t,n,i,r,a,o,s,l,u=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="";if(!u.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");l=0;do{r=c.indexOf(e.charAundefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],62:[function(e,t,n){"use strict";function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}t.exports=i},{}],63:[function(e,t,n){(function(n){"use strict";function i(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+u,this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+s(this._isDebug)+".html",thinal"),a=e("../../lib/braintree-error"),o=e("../../lib/convert-to-braintree-error"),s=e("../../lib/use-min"),l=e("../../lib/once"),u="3.44.2",c=e(".._client;return t&&(t=l(f(t))ge?function(n,s){var l=s&&s.path&&"ME_CLOSED"===n.code?(p.sendEvent,r.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,t)}).then(function(e){var t=i._formatTokenizePayload(e);return n.popupBridge?p.sendEvent(r,"paypal.te"):p.sendEvent(r,"paypal.tokenization.failed"),i._frameService.close(),y.reject(o(e,{type:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))})},i.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),n.details&&n.details.creditFinancingOffered&&(t.creditFinancingOffered=n.details.creditFinancingOffered),t},i.prototype._formatTokenizeData=function(e,t){var n=this._client.getConfiguration(),i=n.gatewayConfiguration,r="TOKENIZATION_KEY"===n.authorizationType,a={paypalAccount:{correlationId:t.ba_token||t.token,options:{validate:"vault"===e.flow&&!r}}};return t.ba_token?a.paypalAccount.billingAgreementToken=t.ba_token:(a.paypalAccount.paymentToken=t.paymentId,a.paypalAccount.payerId=t.PayerID,a.paypalAccount.unilateral=i.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(a.paypalAccount.intent=e.intent)),a},i.prototype._navigateFrameToAuth=function(e){var t=this,i=this._client;return i.request({endpoint:"paypal_hermes/"+c.FLOW_ENDPOINTS[e.flow],method:"post",data:this._formatPaymentResourceData(e)}).then(function(r){var a;a="checkout"===e.flow?r.paymentResource.redirectUrl:r.agreementSetup.approvalUrl,"commit"===e.useraction&&(a=v.queryify(a,{useraction:"commit"})),n.popupBridge&&p.sendEvent(i,"paypal.tokenization.opened-popupbridge"),t._frameService.redirect(a)}).catch(function(e){var n=e.details&&e.details.httpStatus;return t.NVALID_PAYMENT_OPTION.code,message:m.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{orformatPaymentResourceData=function(e){var t,i=this._client.getConfiguration().gatewayConfiguration,r=this._frameService._serviceId,a={returnUrl:i.paypal.assetsUrl+"/web/"+u+"/html/paypal-redirect-frame"+s(this._isDebug)+".html?channel="+r,cancelUrl:i.paypal.assetsUrl+"/web/"+u+"/html/paypal-cancel-frame"+s(this._isDebug)+".html?channel="+r,offerPaypalCredit:!0===e.offerCredit,experienceProfile:{brandName:e.displayName||i.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if(n.popupBridge&&"function"==typeof n.popupBridge.getReturnUrlPrefix&&(a.returnUrla.currencyIsoCode=e.currency,e.hasOwnProperty("intent")&&(a.intent=e.intent);for(t in e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(a[t]=e.shippingAddressOverride[t])}else a.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(a.description=e.billingAgreementDescription);return a},i.prototype.closeWindow=function(){this._authorizationInProgress&&p.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},i.prototype.focusWindow=function(){this._frameService.focus()},i.prototype.teardown=b(function(){var e=this;return e._frameService.teardown(),g(e,h(i.prototype)),p.sendEvent(e._client,"paypal.teardown-completed"),y.resolve()}),t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof winerror":3lib/create-assets-url":36,"../lib/create-deferred-{"use strict";var i=e("../../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:i.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:i.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:i.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:i.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:i.types.MERCHANT,code:"PAYPAL_POAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:i.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":29}]},{},[64])(64)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof n&&n.amd)n("PayPalCommercePlatform",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PayPalCommercePlatform=e()}}(function(){return function(){function e(n,i,r){function a(s,l){if(!i[s]){if(!n[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};n[s][0].call(d.exports,function(e){return a(n[s][1][e]||e)},d,d.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}return e}()({1:[function(e,t,n){function i(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var i=l(e,t),r=n.cloneNode();if(delete r.dataset.uidAuto,Object.keys(r.dataset).length!==Object.keys(i.dataset).length)return null;var a=!0;return Object.keys(r.dataset).forEach(function(e){r.dataset[e]!==i.dataset[e]&&(a=!1)}),a?n:null}function r(e){var t=e.url,n=e.attributes,i=e.onSuccess,r=e.onError,a=l(t,n);a.onerror=r,a.onload=i,document.head.insertBefore(a,document.head.firstElementChild)}function a(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),u(e);var n=Object.keys(e).filter(function(t){return void 0!==e[t]&&null!==e[t]&&""!==e[t]}).reduce(function(t,n){var i=e[n].toString();return"data-"===n.substring(0,5)?t.dataAttributes[n]=i:t.queryParams[n]=i,t},{queryParams:{},dataAttributes:{}}),i=n.queryParams,r=n.dataAttributes;return{url:"".concat(t,"?").concat(o(i)),dataAttributes:r}}function o(e){var t="";return Object.ke(t+="&"),t+=n+"="+e[n]}),t}function s(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}function l(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])}),n}function u(e){var t=e["merchant-id"],n=e["data-merchant-id"],i="",r="";return Array.isArray(t)?t.length>1?(i="*",r=t.toString()):i=t.toString():"string"==typeof t&&t.length>0?i=t:"string"==typeof n&&n.length>0&&(i="*",r=n),e["merchant-id"]=i,e["data-merchant-id"]=r,e}function c(e,t){if(void 0===t&&(t=p()),f(e,t),"undefined"==typeof window)return t.resolve(null);var n=a(e),r=n.url,o=n.dataAttributes,s=o["data-namespace"]||"paypal",l=h(s);return i(r,o)&&l?t.resolve(l):d({url:r,attributes:o},t).then(function(){var e=h(s);if(e)return e;throw new Error("The window.".concat){void .");if(void 0!==i&&"object"!=typeof i)throw new Error("Expected attributes to be an object.");return new t(function(e,t){if("undefa-"===n.substring(0,5)?t.daeturn Object.keys(e).forEach(function(n){0!==t.length&&(t+="&"),t+=n+"="+e[n]}),t}function a(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach(function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttrfunction(e){var t=e.url,n=e.attributes,i=e.onSuccessattributes:i,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(n){return 200===n.status&&t(e),n.text()}).then(function(e){var n=function(e){var t=e.split("/* Original Error:")[1];a(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&f&&(g=!1,f.length?m=f.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=a(s);g=!0;for(var t=m.length;t;){for(f=m,m=[];++v<t;)f&&f[v].run();v=-1,t=m.length}f=null,g=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var d,p,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||a(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}]},{},[3])(3)}),
n("eaPayPal",["braintree","paypal","PayPalCommercePlatform","jquery.amd","telemetry"],function(e,t,n,i,r){function a(n){return new window.Promise(function(a,o){i.ajax({url:n,xhrFields:{withCredentials:!0},type:"GET"}).done(function(n){e.create({authorization:n}).then(function(e){return r.trackEvent({name:"PayPal Braintree: created Braintree client instance",properties:{}}),t.create({client:e}).then(function(e){r.trackEvent({name:"PayPal Braintree: created PayPal client instance",properties:{}}),a(e)}).catch(function(e){throw r.trackException(e,{ErrorType:"PayPal Braintree",Message:"Failed to create PayPal client instance"}),e})}).catch(function(e){r.trackException(e,{ErrorType:"PayPal Braintree",Message:"Failed to create Braintree client instance"});o(!0)})}).fail(function(e,t,n){r.trackException(n,{ErrorType:"PayPal Braintree",Message:"Failed to get token during init",HttpStatus:t});o(!0)})})}function o(e){return new window.Promise(function(t,i){n.loadScript({"client-id":e.options.formview.options.form_definition.metadata.payPalClientId,"merchant-id":e.options.formview.options.form_definition.metadata.payPalMerchantId,locale:"en_US","disable-funding":"card,paylater,credit,bancontact,blik,eps,giropay,ideal,mercadopago,mybank,p24,sepa,sofort,venmo",intent:"authorize"}).then(function(n){n.Buttons({style:{shape:"rect",color:"silver",layout:"vertical",label:"paypal",height:46},createOrder:function(t,n){var i=e.contributionAmountModel.get("totalAmount");return r.trackEvent({name:"PayPalCommercePlatform: creating order",properties:{ClientId:e.options.formview.options.form_definition.metadata.payPalClientId,MerchantId:e.options.formview.options.form_definition.metadata.payPalMerchantId,Amount:i,Data:t}}),n.order.create({purchase_units:[{amount:{value:i}}],intent:"AUTHORIZE"})},onApprove:function(n,i){r.trackEvent({name:"PayPalCommercePlatform: approving order",properties:{ClientId:e.options.formview.options.form_definition.metadata.payPalClientId,MerchantId:e.options.formview.options.form_definition.metadata.payPalMerchantId,Data:n}}),i.order.authorize().then(function(n){r.trackEvent({name:"PayPalCommercePlatform: order approved",properties:{ClientId:e.options.formview.options.form_definition.metadata.payPalClientId,MerchantId:e.options.formview.options.form_definition.metadata.payPalMerchantId,Authorization:n}}),t(n)})},onCancel:function(n){r.trackEvent({name:"PayPalCommercePlatform: buyer canceled",properties:{ClientId:e.options.formview.options.form_definition.metadata.payPalClientId,MerchantId:e.options.formview.options.form_definition.metadata.payPalMerchantId,Data:n}}),t(!1)},onError:function(t){r.trackException(t,{ErrorType:"PayPalCommercePlatform",Message:"Buttons generated error",ClientId:e.options.formview.options.form_definition.metadata.payPalClientId,MerchantId:e.options.formview.options.form_definition.metadata.payPalMerchantId}),i()}}).render("#paypal-button-container")}).catch(function(t){console.error("failed to load the PayPal JS SDK script",t),r.trackException(t,{ErrorType:"PayPalCommercePlatform",Message:"Failed to load SDK",ClientId:e.options.formview.options.form_definition.metadata.payPalClientId,MerchantId:e.options.formview.options.form_definition.metadata.payPalMerchantId})})})}function s(e){var t=e.address,n=e.phone;return{FirstName:e.given_name,LastName:e.surname,AddressLine1:t&&t.address_line_1,AddressLine2:t&&t.address_line_2,City:t&&t.admin_area_2,StateProvince:t&&t.admin_area_1,PostalCode:t&&t.postal_code,Country:t&&t.country_code,EmailAddress:e.email_address,HomePhone:n&&n.national_number,MobilePhone:n&&n.national_number}}function l(e){var t=e.billingAddress||e.shippingAddress;return{FirstName:e.firstName,LastName:e.lastName,AddressLine1:t&&t.line1,AddressLine2:t&&t.line2,City:t&&t.city,StateProvince:t&&t.state,PostalCode:t&&t.postalCode,Country:t?t.countryCode:e.countryCode,EmailAddress:e.email,HomePhone:e.phone,MobilePhone:e.phone}}return{initPayPalBraintreeInstance:a,initPayPalCommercePlatformInstance:o,mapPayPalCommercePlatformResponse:s,mapPayPalBraintreeResponse:l}}),n("PaymentMethodView",["backbone","FieldView","NVTagCallbacks","ApplePay","currency","ActionTagConfig","eaPayPal"],function(e,t,n,i,r,a,o){var s=e.$;return t.extend({__name__:"PaymentMethodView",tagName:"div",className:"at-payment-method-buttons",events:{"click label.at-btn-radio":"selectPaymentMethodButton","keypress label.at-btn-radio":"selectPaymentMethodButton"},initialize:function(){t.prototype.initialize.call(this),this.paypalWaitCounter=0,this.paypalInstance=null,this.paymentMethodConfiguration=this.options.formview.paymentMethodConfiguration,this.contributionAmountModel=this.options.formview.contributionAmountModel,this.contributionRecurrenceModel=this.options.formview.contributionRecurrenceModel,this.listenTo(this.options.formview,"formResized renderStep",this.setWrapStyling),this.listenTo(this.options.formview,"preAutoProcess",this.preAutoProcess)},context:function(){var e=this.paymentMethodConfiguration;return n("alterContext",{element:this.type,context:{ccEnabled:e.isCcEnabled,paypalEnabled:e.isPayPalEnabled,eftEnabled:e.isEftEnabled,applePayEnabled:e.isApplePayEnabled,idSuffix:this.options.formview.options.form_definition.formId,alignRight:"right"===this.options.alignment,isBraintreeIntegration:"Braintree"===e.payPalIntegrationType},def:this.def}).context},render:functionhodButtons){this.$el.html(this.template(this.context()))}if(this.setWrapStyling(),!this.paymentMethodConfiguration.shouldFillFromPaymentResponse||this.selectedPaymentMethod){var e=this.getAvailablePaymentMethods();this.setPaymentMethod(-1!==e.indexOf(this.selectedPaymentMethod)?this.selectedPaymentMethod:e[0],!1)}return this.paymentMethodConfiguration.isPayPalEnabled&&"PayPalCommercePlatform"===this.paymentMethodConfiguration.payPalIntegrationType?this.initPayPalCommercePlatformInstance():this.paymentMethodConfiguration.isPayPalEnabled&&"Braintree"===this.paymentMethodConfiguration.payPalIntegrationType&&this.initPayPalBraintreeInstance(),this},setWrapStyling:function(){if(this.paymentMethodConfiguration.showPaymentMethodButtons){this.$(".at-radio-set-buttons").removeClass("at-radio-set-button-wrap-styling");var e=!1;if("right"===this.options.alignment)e=this.$(".at-btn-radio:first").position().left<5;else{var t=this.$(".at-btn-radio:last").position().left+this.$(".at-btn-radio:last").innerWidth();e=this.$el.position().left+this.$el.innerWidth()<t}e&&this.$(".at-radio-set-buttons").addClass("at-radio-set-button-wrap-styling")}},getAvailablePaymentMethods:function(){var e=this.contributionRecurrenceModel.get("isRecurring");return _.filter(this.paymentMethodConfiguration.acceptedPaymentMethods,function(t){return"applepay"!==t||!e})},preAutoProcess:function(){if(!this.selectedPaymentMethod){this.setPaymentMethod(this.getAvailablePaymentMethods()[0],!0)}},val:function(){return this.selectedPaymentMethod||null},errors:function(){return this.selectedPaymentMethod?[]:[this.toError(this.resources.PrimaryResources.SelectPaymentMethod)]},selectPaymentMethodButton:function(e){if("click"===e.type||"keypress"===e.type&&(13===e.keyCode||32===e.keyCode)){e.preventDefault(),this.clearFeedback();var t=this.$("#"+e.currentTarget.htmlFor).val();"paypal"===t&&"Braintree"===this.paymentMethodConfiguration.payPalIntegrationType?this.authorizePayPalBraintree():"applepay"===t?this.authorizeApplePay():this.setPaymentMethod(t,!0)}},setPaymentMethod:function(e,t){this.selectedPaymentMethod=e,this.$('input[name="PaymentMethod"]').prop("checked",!1),this.$('input[name="PaymentMethod"][value='+e+"]").prop("checked",!0),this.options.formview.trigger("paymentMethodChanged",{newMethod:this.selectedPaymentMethod,isUserSelection:t})},toggleOverlay:function(e){e?0===s(".at-paypal-overlay").length&&(s(document.documentElement).addClass("has-overlay"),s("body").append(s("<div/>").addClass("at-paypal-overlay"))):(s(document.documentElement).removeClass("has-overlay"),s(".at-paypal-overlay").remove())},initPayPalBraintreeInstance:function(){var e=this,t=this.options.url.base+"PayPalClientToken/"+this.options.url.full.split("/")[5];o.initPayPalBraintreeInstance(t).then(function(t){e.paypalInstance=t}).catch(function(t){e.paypalInstanceFailed=t})},initPayPalCommercePlatformInstance:function(){var e=this;o.initPayPalCommercePlatformInstance(e).then(function(t){!1===t?e.options.formview.trigger("paypalAuthorized"):(e.clearFeedback(),e.options.formview.trigger("paypalAuthorized",{paypalNonce:t.purchase_units[0].payments.authorizations[0].id,amount:t.purchase_units[0].amount.value,email:t.payer.email_address,mappedContactFields:o.mapPayPalCommercePlatformResponse(t.payer),expires:Date.now()+2592e5}),e.setPaymentMethod("paypal",!0))}).catch(function(){e.renderFeedbackWithErrors([e.toError(e.resources.PrimaryResources.PayPalAuthorizationError)])})},onUpsellAccepted:function(){var e=this.contributionAmountModel.get("proposedTotalAmount"),t=this.contributionAmountModel.get("proposedOneTimeAmount"),n=this.contributionAmountModel.get("proposedRecurringAmount");switch(this.selectedPaymentMethod){case"paypal":return this.reauthorizePayPalForUpsell(e);case"applepay":return this.reauthorizeApplePayforUpsell(n,t,e);default:return s.Deferred().resolve()}},reauthorizePayPalForUpsell:function(e){if(this.paymentMethodConfiguration.isPayPalEnabled){var t=this;this.toggleOverlay(!0);var n=this.options.designation||this.resources.PrimaryResources.TheForm;return this.paypalInstance.tokenize({flow:"vault",amount:e,currency:r.getCurrency().code,enableShippingAddress:!1,displayName:n,useraction:"commit"}).then(function(n){t.options.formview.trigger("paypalAuthorized",{paypalNonce:n.nonce,amount:e,email:n.details.email,expires:Date.now()+6e4*a.PAYPAL_SESSION_TIMEOUT_MINUTES}),t.toggleOverlay(!1)}).catch(function(e){try{return"PAYPAL_TOKENIZATION_REQUEST_ACTIVE"===e.code?t.paypalInstance.focusWindow():"PAYPAL_POPUP_CLOSED"!==e.code&&"PAYPAL_POPUP_OPEN_FAILED"!==e.code&&t.renderFeedbackWithErrors([t.toError(t.resources.PrimaryResources.PayPalAuthorizationError)]),"PAYPAL_POPUP_CLOSED"===e.code?{IsCancelled:!0}:{IsError:!0}}finally{t.toggleOverlay(!1)}})}},authorizePayPalBraintree:function(){if(this.paymentMethodConfiguration.isPayPalEnabled){var e=this;if(this.toggleOverlay(!0),!this.paypalInstance)return void(this.paypalWaitCounter<50&&!this.paypalInstanceFailed?(this.paypalWaitCounter+=1,setTimeout(function(){e.authorizePayPalBraintree()},100)):(this.toggleOverlay(!1),this.renderFeedbackWithErrors([this.toError(this.resources.PrimaryResources.PayPalAuthorizationError)])));var t=this.contributionAmountModel.get("totalAmount"),n=this.options.designation||this.resources.PrimaryResources.TheForm;this.paypalInstance.tokenize({flow:this.contributionRecurrenceModel.get("isRecurring")?"vault":"checkout",amount:t,currency:r.getCurrency().code,enableShippingAddress:this.paymentMethodConfiguration.shouldFillFromPaymentResponse,displayName:n,useraction:this.paymentMethodConfiguration.isInstantPaymentProcessingEnabled?"commit":""}).then(function(n){e.clearFeedback(),e.options.formview.trigger("paypalAuthorized",{paypalNonce:n.nonce,amount:t,email:n.details.email,mappedContactFields:o.mapPayPalBraintreeResponse(n.details),expires:Date.now()+6e4*a.PAYPAL_SESSION_TIMEOUT_MINUTES}),e.setPaymentMethod("paypal",!0),e.toggleOverlay(!1)}).catch(function(t){try{e.options.formview.trigger("paypalAuthorized"),"PAYPAL_TOKENIZATION_REQUEST_ACTIVE"===t.code?e.paypalInstance.focusWindow():"PAYPAL_POPUP_CLOSED"!==t.code&&"PAYPAL_POPUP_OPEN_FAILED"!==t.code&&e.renderFeedbackWithErrors([e.toError(e.resources.PrimaryResources.PayPalAuthorizationError)])}finally{e.toggleOverlay(!1)}})}},reauthorizeApplePayforUpsell:function(e,t,n){var a=this,o=this.options.url.base+"Apple/"+this.options.url.full.split("/")[5]+"/GetSession",s=this.options.designation||this.resources.PrimaryResources.Amount,l=[];return t&&l.push({label:a.resources.PrimaryResources.OneTimeContribution,amount:{value:t,currency:r.getCurrency().code}}),e&&l.push({label:a.resources.PrimaryResources.RecurringContribution,amount:{value:e,currency:r.getCurrency().code}}),i.promptApplePay(this.options.appleMerchantIdentifier,this.options.cards,n,o,this.options.title,!1,!1,s,l).then(function(e){if(!e.paymentResponseDetails)return e.applePayInternalError&&a.renderFeedbackWithErrors([a.toError(a.resources.PrimaryResources.ApplePayUnknownError)]),e.applePayInternalError?{IsError:!0}:{IsCancelled:!0};a.options.formview.trigger("applePayAuthorized",{paymentResponseDetails:e.paymentResponseDetails,amount:n,cardInfo:e.paymentResponseDetails.token.paymentMethod.displayName,expires:e.expires})})},authorizeApplePay:function(){var e=this,t=this.contributionAmountModel.get("totalAmount"),n=this.options.url.base+"Apple/"+this.options.url.full.split("/")[5]+"/GetSession",a=this.options.designation||this.resources.PrimaryResources.Amount,o=[];this.contributionRecurrenceModel.get("isRecurring")&&o.push({label:this.contributionRyDisplayName()+" "+e.resources.PrimaryResources.Contribution,amount:{value:t,currency:r.getCurrency().code}}),i.promptApplappleMerchantIdentifier,this.options.cards,t,n,this.options.title,this.options.requireEmail,this.options.requirePhone,a,o).then(function(n){n.paymentResponseDetails&&n.fill_dict?(e.clearFeedback(),e.options.formview.trigger("applePayAuthorized",{paymentResponseDetails:n.paymentResponseDetails,amount:t,cardInfo:n.paymentResponseDetails.token.paymentMethod.displayName,mappedContactFields:n.fill_dict,expires:n.expires}),e.setPaymentMethod("apError(e.resources.PrimaryResources.ApplePayUnknownError)]),e.options.formview.trigger("applePayAuthorized"))})},type:"payment_method"})}),n("matchPro",["ActionTagConfig","loadScript","loadCSS","jquery"],function(e,n,i){function r(e){if(!e)throw"MatchPro public key is required to configure MatchPro integration";var t=window.DDCONF=window.DDCONF||{};if(t.API_KEY&&t.API_KEY!==e)throw console.warn("Conflict between existing account "+t.API_KEY+" and account "+e),"Only one MatchPro account can be active on any given page";t.API_KEY=e,t.CONDENSED=void 0!==t.CONDENSED&&t.CONDENSED}function a(){if(!s())throw"Must configure MatchPro integration before initializing";if(c&&!1!==h)return c;h=!1;var e=i(p),t=o();return c=Promise.all([e,t]).then(function(){if(window.doublethedonation)return window.doublethedonation;throw"Loading failed silently"}).catch(function(e){throw h=!0,e})}function o(){return window.doublethedonation?Promise.resolve():s()?window.nvtagDebug?new Promise(function(e,n){try{t([d],function(){e(!0)})}catch(e){console.debug("error loading MatchPro libraries in debug mode"),n(e)}}):n.nocache(d,15e3).promise():Promise.reject("Not configured")}function s(){return!!(d&&p&&window.DDCONF&&window.DDCONF.API_KEY)}function l(e,t,_config(),r.plugin.load_plugin(),e&&r.plugin.set_donation_identifier(e),n&&r.plugin.set_donation_campaign(n),t&&r.plugin.set_company(i)})}function u(){return a().then(function(e){var t=e.plugin;t.load_config(),t.load_streamlined_input()})}var c,d=e.MATCH_PRO_SCRIPT_URL,p=e.MATCH_PRO_CSS_URL,h=!1;return{configure:r,init:a,isConfigured:s,setupStreamlinedInput:u,setupConfirmationPageWidget:l}}),n("MatchProView",["FieldView","matchPro"],function(e,t){return e.extend({__name__:"MatchProView",tagName:"label",className:function(){return"at-text "+this.options.definition.name},isRequired:function(){return!1},initialize:function(){e.prototype.initialize.call(this),this.template=this.options.templates.match_pro_input},render:function(){this.$el.html(this.template(this.context())),this.initPlugin()},initPlugin:function(){t.setupStreamlinedInput()},context:function(){return{name:this.name,labelhide:this.def.labelhide||"placeholder"===this.options.labels,label:this.def.label||this.title}},val:function(){for(var e=this.$('.dtd-streamlined-plugin input[type="hidden"]'),t={},n=0;n<e.length;n++){var i=e[n];t[i.name]=i.value}return{MatchProIsFound:"found"===t.doubledonation_status,MatchProCompanyId:t.doubledonation_company_id,MatchProCompanyName:t.doublethedonation_company_name}}})});var i="EmployerOccupationRetiredCheckboxView";n(i,["backbone","CheckboxView"],function(e,t){return t.extend({__name__:i,events:{"change input":"onInputChanged"},errors:function(){return[]},val:function(){return this.$(":input").prop("checked")},setval:function(e){return this.$(":input").prop("checked",e),this.touch()},onInputChanged:function(){var e=this.val(),t=this.parent._getChildViewNamed("Occupation"),n=this.parent._getChildViewNamed("Employer");e?(t.input.setAttribute("disabled","true"),n.input.setAttribute("disabled","true"),t.setval(this.resources.PrimaryResources.Retired),n.setval(this.resources.PrimaryResources.Retired),t.renderFeedbackWithErrors(t.errors()),n.renderFeedbackWithErrors(n.errors())):(t.setval(null),n.setval(null),t.input.removeAttribute("disabled"),n.input.removeAttribute("disabled"))},type:"employer_occupation_retired_checkbox"})}),n("EmployerOccupationRetiredCheckboxView",function(){}),n("FieldsetView",["backbone","NVTagCallbacks","FieldView","TextFieldView","TextAreaView","MarkupView","CheckboxView","SelectView","RadiosView","AmountView","DateView","NotMeView","TrackingPixelView","TicketHolderView","TicketingLevelView","CreditCardView","HiddenView","CVV2View","CCExpirationView","TargetsView","TargetSelectView","AdvocacyTweetView","ReCaptchaView","ActivistCodeQuestionView","CheckboxListManagerView","EcardsView","PremiumGiftsView","TimeView","occupations","form.rows","prefixes","formatRows","InternationalPhoneView","CoverCostsCheckboxView","SignaturePadView","PaymentMethodView","FormDefUtils","currency","MatchProView","EmployerOccupationRetiredCheckboxView"],function(e,t,n,i,r,a,o,s,l,u,c,d,p,h,f,m,g,v,y,b,w,_,x,C,k,A,E,T,P,S,I,D,M,N,R,F,O,L,$,V){var q=e._,U=e.$,j=n.extend({__name__:"FieldsetView",tagName:"fieldset",type:"fieldset",events:{},className:function(){return"at-fieldset "+this.options.definition.name},initialize:function(){n.prototype.initialize.call(this),e.Subviews.add(this),q.bindAll(this,"subviewOptions","hideOrShow"),"EmployerMatching"===this.name&&(this.listenTo(this.options.formview,"contactModeChanged",this.hideOrShow),this.listenTo(this.options.formview.contributionRecurrenceModel,"change:frequency",this.hideOrShow),this.listenTo(L,"change",this.hideOrShow))},_onSubviewsRendered:function(){if(("EmployerInformation"===this.name||"ContactInformation"===this.name&&this.options.formview.multistep)&&(this.subviews.Employer||this.subviews.Occupation)){var e=[this.resources.PrimaryResources.Retired,this.resources.PrimaryResources.Unemployed,this.resources.PrimaryResources.Student,this.resources.PrimaryResources.NotEmployed,this.resources.PrimaryResources.SelfEmployed];if(this.subviews.EmployerOccupationIsRetiredCheckbox&&(e=q.without(e,this.resources.PrimaryResources.Retired)),document.getElementById("at-occupations")||this.$el.append(this.options.templates.datalist({id:"at-occupations",options:q.uniq(this.resources.sort(P.translatedOccupations(this.resources).concat(e)))})).append(this.options.templates.datalist({id:"at-employers",options:q.uniq(this.resources.sort(e))})),this.subviews.Occupation){var t=this;this.subviews.Occupation.$("input").attr("list","at-occupations"),t.subviews.Employer&&this.subviews.Occupation.$("input").on("change",function(n){q.contains(e,n.currentTarget.value)&&t.subviews.Employer.setval(n.currentTarget.value).clearFeedback()})}this.subviews.Employer&&this.subviews.Employer.$("input").attr("list","at-employers")}"ExtraInformation"===this.name&&U("html,body").scrollTop(this.parent.$("form").offset().top),this.subviews.Prefix&&(document.getElementById("at-prefixes")||this.$el.append(this.options.templates.datalist({id:"at-prefixes",options:this.resources.sort(q.uniq(I.translatedPrefixes(this.resources)))})),this.subviews.Prefix&&this.subviews.Prefix.$("input").attr("list","at-prefixes"))},context:function(){S=window["@rows"]||S;var e=this.options.formview,n={id:this.name.toLowerCase(),title:this.title,subTitle:this.options.definition.subTitle||"",children:[]};if(q.each(this.def.children,function(t,i){var r={type:t.type,index:i,name:t.name,contactMode:t.contactMode};"SelectAmount"===t.name?(r.type="amount",n.children.push(r)):"ConfirmIdentityHtml"===t.name?(r.type="notme",n.children.push(r)):"EligibilityConfirmationHtml"!==t.name&&"ConfirmedEligibility"!==t.name||!e.options.form_definition.metadata.hideCompletedFormSections?n.children.push(r):e.options.form_definition.metadata.displayConfirmationMessage&&n.children.push(r)},this),S[this.name]){var i=S[this.name];"ContactInformation"===this.name&&e.multistep&&(i=i.concat(S.EmployerInformation));var r=q.indexBy(n.children,"name");n.rows=D.format(this.name,n.children,i);var a=q.reject(r,{inRow:!0});if(a.length)for(var o=0;o<a.length;o++)n.rows.push([a[o]])}return t("alterContext",{element:"fieldset",context:n,def:this.def}).context},render:function(){return this.$el.html(this.template(this.context())),this},renderFeedback:function(e){return e&&e.stopPropagation(),q(this.subviews).filter(function(e){return e.isActive()}).invoke("renderFeedback").flatten().compact().value()},clearFeedback:function(){return q.invoke(this.subviews,"clearFeedback"),this},createSubviewDefaults:function(){return this.subviewDefaults={parent:this,definition:this.options.definition,templates:this.options.templates,labels:this.options.labels,formview:this.options.formview}},subviewOptions:function(e){var t=this.subviewDefaults||this.createSubviewDefaults();return e=q.isNumber(e)?{index:e}:e||{},e=q.extend(e,t),q.isNumber(e.index)&&e.index>-1&&(e.definition=e.definition.children[e.index],e.definition.name&&(e.name=e.definition.name),delete e.index),e},subviewCreators:{fieldset_view:function(e){return new j(this.subviewOptions(e))},textfield_view:function(e){return new i(this.subviewOptions(e))},textarea_view:function(e){return new r(this.subviewOptions(e))},markup_view:function(e){return new a(this.subviewOptions(e))},signature_pad_view:function(e){return new R(this.subviewOptions(e))},checkbox_view:function(e){return new o(this.subviewOptions(e))},select_view:function(e){return new(this.options.definition.children[e].target?w:s)(this.subviewOptions(e))},"checkbox-list-manager_view":function(e){return new k(this.subviewOptions(e))},activistCodeQuestion_view:function(e){return new C(this.subviewOptions(e))},radios_view:function(e){return new l(this.subviewOptions(e))},hidden_view:function(e){return new g(this.subviewOptions(e))},email_view:function(e){return new i(this.subviewOptions({index:e,type:"email"}))},phone_view:function(e){return new i(this.subviewOptions({index:e,type:"tel"}))},matchpro_view:function(e){return new $(this.subviewOptions(e))},international_phone_view:function(e){return new M(this.subviewOptions(e))},gifts_view:function(e){return new E(this.subviewOptions(e))},ecard_view:function(e){return new A(this.subviewOptions(e))},recaptcha_grid_view:function(e){return new x(this.subviewOptions(e))},advocacy_tweet_view:function(e){return new _(this.subviewOptions(e))},targets_view:function(e){return new b(this.subviewOptions(e))},amount_view:function(e){return new u(this.subviewOptions(e))},credit_card_view:function(e){return new m(this.subviewOption(this.subviewOptions(e))},cvv2_view:function(e){return new v(this.subviewOptions(e))},date_view:function(e){return new c(this.subviewOptions(e))},notme_view:function(e){return new d(this.subviewOptions(e))},trackingpixel_view:function(e){return new p(this.subviewOptions(e))},ticket_holder_view:function(e,t){return new h(this.subviewOptions({model:this.ticket_holders.get(t)}))},ticketing_level_view:function(e,t){return new f(this.subviewOptions({ticket_holders:this.ticket_holders,model:this.ticket_levels.get(t)}))},time_view:function(e){return new T(this.subviewOptions(e))},cover_costs_checkbox_view:function(e){return new N(this.subviewOptions(e))},payment_method_view:function(e){var t=this.options.formview.form_definition(),n=q(O.fields(t.form_elements)),i=n.find({name:"IsRecurring"}),r=n.find({name:"EmailAddress"}),a=n.find({name:"HomePhone"}),o=n.find({name:"MobilePhone"}),s=this.subviewOptions({index:e,name:"PaymentMethod",cards:this.options.formview.paymentMethodConfiguration.acceptedCards,url:t.url,title:t.title,appleMerchantIdentifier:t.metadata.appleMerchantIdentifier,isRecurring:i&&i.default_value,requireEmail:r&&r.required,requirePhone:a&&a.required||o&&o.required,alignment:this.options.formview.paymentMethodConfiguration.shouldFillFromPaymentResponse?"right":"left",designation:(t.designation||{}).officialName});return-1===e&&(s.definition={name:"PaymentMethod",title:"Payment Method",required:!0}),new F(s)},employer_occupation_retired_checkbox_view:function(e){return new V(this.subviewOptions(e))}},errors:function(){var e=q(this.subviews).chain().filter(function(e){return e.isActive()}).invoke("errors").flatten().compact().value();return t("alterError",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors},getTouched:function(){return q.transform(this.subviews,function(e,t,n){q.isFunction(t.touched)&&t.touched()&&(e[n]=t)})},val:function(){var e={};return q.each(this.subviews,function(t){if(t.isActive()){var n=t.val();q.isObject(n)?("other"in n&&delete n.other,q.extend(e,n)):null!==n&&(e[t.name]=n)}}),e},setval:function(e){return q.each(this.subviews,function(t){var n=q.isFunction(t.multiple_fields)&&t.multiple_fields();n&&n.length>0?t.setval(q.pick(e,n)):q.isObject(t.val())?q.isFunction(t.setval)&&t.setval(e):q.each(e,function(e,n){t.field_name()===n&&t.setval(e)})}),this.hideOrShow()},hideOrShow:function(){return this.$el.toggle(!this.shouldHide()),this},shouldHide:function(){var e=this.name,t=this.options.formview,n=!1;q.each(this.subviews,function(e){e.isRequired()&&null===e.val()&&(n=!0)});var i=t.options.smart&&!t.options.clickedNotMe&&"ContributionInformation"!==e&&"TicketInformation"!==e,r="EmployerMatching"===e&&!this.employerMatchingIsActive();return this.hide||i&&!n||t.lastVisibleFieldsetIndex&&this.options.index>t.lastVisibleFieldsetIndex||r},employerMatchingIsActive:function(){var e=this.options.formview.contributionRecurrenceModel.get("frequency"),t=5!==e&&7!==e,n="USD"===L.get("currency"),i="person"===this.options.formview.contactMode;return t&&n&&i},isActive:function(){return n.prototype.isActive.apply(this)&&("EmployerMatching"!==this.name||this.employerMatchingIsActive())}});return j}),n("PaymentInformationView",["backbone","NVTagCallbacks","doublebracket","moment","FieldsetView","FastAction","currency","assetUrl","cookieConsentConfiguration"],function(e,t,n,i,r,a,o,s,l){var u=e._,c=e.$;return r.extend({__name__:"PaymentInformationView",readonly:!1,events:{change:"renderFeedback","change *":"touch",'change input[name="PaymentMethod"]':"changePaymentMethodEventHandler","click .change-account":"changeAccount","payment.cardType":"setCardType","focus .eft-input":"eftInputFocus","blur .eft-input":"eftInputFocus","click .at-whatsthis":"openEftWhatsThisModal","keypress .at-whatsthis":"openEftWhatsThisModal"},accepted:{visa:{index:0,name:"Visa"},dinersclub:{index:1,name:"Diners Club"},mastercard:{index:2,name:"Master Card"},amex:{index:3,name:"American Express"},dinitialize:function(){r.prototype.initialize.call(this),u.bindAll(this,"changeReadonly","amountChanged","recurrenceChanged");var e=u.bind(function(e,t){return this.accepted[e].index-this.accepted[t].index},this);this.cards=this.options.accepted_cards.slice(0).sort(e),this.options.post_response&&this.options.post_response.cc4Digit&&!this.options.disableCreditCardAutofill&&(this.readonly=!0),this.cardType="unknown",this.originalSubmitLabel=this.options.parent.context().submit_label,this.contributionAmountModel=this.options.formview.contributionAmountModel,this.contributionRecurrenceModel=this.options.formview.contributionRecurrenceModel,this.hideForNoAmount="EventForm"===this.options.formview.options.form_definition.type,this.hide=this.hideForNoAmount&&this.contributionAmountModel.get("totalAmount")<=0,this.listenTo(this.options.formview,"paymentMethodChanged",this.changePaymentMethod),this.listenTo(this.options.formview,"paypalAuthorized",this.setPayPalDisplay),this.listenTo(this.options.formview,"applePayAuthorized",this.setApplePayDisplay),this.listenTo(l,"change:functionalAccepted",this.adjustCheckbox),this.contributionAmountModel.on("change:totalAmount",this.amountChanged),this.contributionRecurrenceModel.on("change",this.recurrenceChanged),this.applepayAuthorizedAmount=null,this.applePayAuthorizedFrequency=null,this.paypalAuthorizedRecurring=null,this.savedCardRequiresSecurityCode=this.options.formview.options.form_definition.url.base.includes("myngp")},adjustCheckbox:function(){a.adjustCheckbox(this)},recurrenceChanged:function(){this.contributionRecurrenceModel.hasChanged("isRecurring")&&this.isPayPalAuthorized()&&this.renderFeedback(),this.updateSubmitText()},amountChanged:function(){var e=this.contributionAmountModel.get("totalAmount"),t=this.contributionAmountModel.previous("totalAmount");if(this.hideForNoAmount){var n=e>0;(!t||n!==t>0)&&(this.options.definition.required=n,this.hide=!n,this.dispose(),this.render(),this.previousVal&&this.setval(this.previousVal))}this.isPayPalAuthorized()&&this.$(".at-paypal-amount").text(o.format(e)),this.isApplePayAuthorized()&&this.renderFeedback(),this.updateSubmitText()},isApplePayAuthorized:function(){return this.options.formview.paymentMethodConfiguration.isApplePayEnabled&&c('input[name="paymentResponseDe!1;return this.options.formview.paymentMethodConfiguration.isPayPalEnabled&&c('input[name="paypalNonce"]').val()&&(e=!0),e},changeAccount:function(e){return e.preventDefault(),"creditcard"===this.selectedPaymentMethod&&(delete this.options.post_response,delete this.options.previous_payment,this.changeReadonly(!1),this.subviews.Account.focus()),this},changeReadonly:function(e,t,n,i){return u.isBoolean(e)?(n&&(this.cc_type=n.toLowerCase()),t&&(this.cc_4_digit=t),e?this.fastActionTokenPool=i:delete this.fastActionTokenPool,e!==this.readonly||t?(-1===u.indexOf(this.cards,this.cc_type)&&(e=!1),this.readonly=!this.options.isKioskEnabled&&e&&!this.options.disableCreditCardAutofill,this.def.required=!this.hide&&!this.readonly,this.dispose(),this.render()):this):this},getAmount:function(){var e=this.options.formview.val();return e?parseFloat(e.Amount||0)+parseFloat(e.CoverCostsAmount||0):0},getAvailablePaymentMethods:function(){var e=this.contributionRecurrenceModel.get("isRecurring");return u.filter(this.options.formview.paymentMethodConfiguration.acceptedPaymentMethods,function(t){return"applepay"!==t||!e})},readonlyCards:function(){return u.map(this.cards,function(e){return{name:e,state:e!==this.cc_type?"off":""}},this)},openEftWhatsThisModal:function(e){"click"!==e.type&&13!==e.keyCode||window.open(s("bankhelp.html"),"efthelp","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=400,height=450")},dispose:function(){u.forOwn(this.subviews,function(e){e&&u.isFunction(e.dispose)&&e.dispose()})},getCreditCardValidationViews:function(){return"required"in this.def&&!this.def.required||this.readonly?this.readonly&&this.isFormBaseUrlOberon&&this.subviews.SecurityCode&&this.subviews.SecurityCode.def.required?[this.subviews.SecurityCode]:[]:this.subviews},errors:function(){if(this.hide)return[];var e=[];switch(this.selectedPaymentMethod){case"paypal":e=this.errorsForPayPal();break;case"eft":e=this.errorsForEft();break;case"applepay":e=this.errorsForApplePay();break;default:
e=u(this.getCreditCardValidationViews()).chain().invoke("errors").flatten().compact().value()}return t("alterError",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors},renderFeedbackWithErrors:function(e){if(!e||!e.length)return this.clearFeedback(),e;if("paypal"===this.selectedPaymentMethod)this.$(".paypal-label").addClass("error"),this.$(".paypal-label").find("small.error").remove(),this.$(".paypal-label").append(this.error_template({error_text:e[0],behavior_classes:"error"}));else if("applepay"===this.selectedPaymentMethod)this.$(".apple-pay-label").addClass("error"),this.$(".apple-pay-label").find("small.error").remove(),this.$(".apple-pay-label").append(this.error_template({error_text:e[0],behavior_classes:"error"}));else if("eft"===this.selectedPaymentMethod){this.clearFeedback();for(var t=this.eftSubmitFocused||u.isEmpty(this.eftInputsFocused),n=0;n<e.length;n++)!t&&!this.eftInputsFocused.routingNumber||e[n].errorId!==this.eftErrorIds.routing?!t&&!this.eftInputsFocused.bankAccountNumber||e[n].errorId!==this.eftErrorIds.account?!t&&!this.eftInputsFocused.confirmBankAccountNumber||e[n].errorId!==this.eftErrorIds.accountConfirm?(t||this.eftInputsFocused.authorizePayment)&&e[n].errorId===this.eftErrorIds.authorize&&this.$(".authorize-payment-label").addClass("error"):(this.$(".confirm-account-number-label").addClass("error"),this.$(".confirm-account-number-label").find("small.error").remove(),this.$(".confirm-account-number-label").append(this.error_template({error_text:e[n],behavior_classes:"error"}))):(this.$(".account-number-label").addClass("error"),this.$(".account-number-label").find("small.error").remove(),this.$(".account-number-label").append(this.error_template({error_text:e[n],behavior_classes:"error"}))):(this.$(".routing-number-label").addClass("error"),this.$(".routing-number-label").find("small.error").remove(),this.$(".routing-number-label").append(this.error_template({error_text:e[n],behavior_classes:"error"})))}return e},renderFeedback:function(){var e=this.errors();if(!e||!e.length)return this.clearFeedback(),[];switch(this.selectedPaymentMethod){case"paypal":case"eft":case"applepay":return this.renderFeedbackWithErrors(e);default:return u(this.getCreditCardValidationViews()).chain().invoke("renderFeedback").flatten().compact().value()}},render:function(){var e=this.options.formview.paymentMethodConfiguration,n=s("images/paypal-logo.png"),i={title:this.title,resources:this.resources,ccEnabled:e.isCcEnabled,paypalEnabled:e.isPayPalEnabled,eftEnabled:e.isEftEnabled,eftLegalDisclaimer:e.eftLegalDisclaimer,applePayEnabled:e.isApplePayEnabled,showPaymentMethods:!e.shouldFillFromPaymentResponse,paypalLogoUrl:n,isReadonly:!!this.readonly,savedCardRequiresSecurityCode:this.savedCardRequiresSecurityCode};if(!this.options.isKioskEnabled&&(this.readonly||this.options.post_response&&this.ops.post_response.cc4Digit))this.readonly&&this.cc_type||(this.cc_4_digit=this.options.post_response.cc4Digit,this.cc_type=this.options.post_response.ccType.toLowerCase()),i.cc_4_digit=this.cc_4_digit,i.labelhide="inline"===this.options.labels,u.each(this.def.children,function(e,t){"SecurityCode"===e.name?i.cvv={type:"cvv2",index:t}:"UpdateMyProfile"===e.name&&(i.fa={type:e.type,index:t})});else{i.cards=this.cards.slice(),i.children=[];var r=null,a=-1;u.each(this.def.children,function(e,t){"Account"===e.name?i.children.push({type:"credit_card",index:t,name:e.name}):"SecurityCode"===e.name?i.children.push({type:"cvv2",index:t,name:e.name}):/^Expiration/.test(e.name)?(!r||r&&!r.styles&&e.styles)&&(r=e,a=t):i.children.push({type:e.type,index:t,name:e.name})}),r&&a>=0&&i.children.push({type:"cc_expiration",index:a,name:r.name});var o=[["Account","ExpirationMonth","ExpirationYear","ExpirationDate","SecurityCode"]],l=u.indexBy(i.children,"name");i.rows=u.map(o,function(e){return u.reduce(e,function(e,t){return l[t]&&(e.push(l[t]),l[t].inRow=!0),e},[])});var c=u.reject(l,{inRow:!0});c.length&&i.rows.push(c)}return this.paypalNonce&&(i.paypalNonce=this.paypalNonce,i.amount=this.contributionAmountModel.get("totalAmount"),i.paypalAccount=this.paypalAccount),i=t("alterContext",{element:this.type,context:i,def:this.def}).context,this.$el.html(this.template(i)),this.selectedPaymentMethod&&this.setPaymentInformationDisplay(this.selectedPaymentMethod),this.hideOrShow()},remove:function(){e.View.prototype.remove.call(this)},errorsForEft:function(){var e=[],t=/^\d+$/;return"eft"===this.selectedPaymentMethod&&(this.$("#routingNumber").val().length<9?e.push(this.toError(this.resources.PrimaryResources.RoutingNumberMustBeNineNumbers,this.eftErrorIds.routing)):t.test(this.$("#routingNumber").val())||e.push(this.toError(this.resources.PrimaryResources.RoutingNumberMustBeAllNumbers,this.eftErrorIds.routing)),0===this.$("#bankAccountNumber").val().length?e.push(this.toError(this.resources.PrimaryResources.AccountNumberRequired,this.eftErrorIds.account)):t.test(this.$("#bankAccountNumber").val())||e.push(this.toError(this.resources.PrimaryResources.AccountNumberMustBeAllNumbers,this.eftErrorIds.account)),0===this.$("#confirmBankAccountNumber").val().length?e.push(this.toError(this.resources.PrimaryResources.ConfirmAccountNumberRequired,this.eftErrorIds.accountConfirm)):this.$("#confirmBankAccountNumber").val()!==this.$("#bankAccountNumber").val()&&e.push(this.toError(this.resources.PrimaryResources.AccountNumbersDoNotMatch,this.eftErrorIds.accountConfirm)),this.$("#authorizePayment").is(":checked")||e.push(this.toError("Must authorize payment",this.eftErrorIds.authorize))),this.trigger(e.length?"invalid":"valid"),e},errorsForPayPal:function(){var e=[];return"paypal"===this.selectedPaymentMethod&&(this.$('input[name="paypalNonce"]').val()||e.push(this.toError(this.resources.PrimaryResources.PayPalRequired)),this.paypalExpirationTime&&Date.now()>this.paypalExpirationTime?e.push(this.toError(this.resources.PrimaryResources.PayPalReauthorize)):!this.paypalAuthorizedRecurring&&this.contributionRecurrenceModel.get("isRecurring")&&e.push(this.toError(this.resources.PrimaryResources.PayPalReauthorizeRecurring))),this.trigger(e.length?"invalid":"valid"),e},errorsForApplePay:function(){var e=[];if("applepay"===this.selectedPaymentMethod){this.$('input[name="paymentResponseDetails"]').val()||e.push(this.toError(this.resources.PrimaryResources.ApplePayNotComplete));var t=this.contributionAmountModel.get("proposedTotalAmount")||this.contributionAmountModel.get("totalAmount");(this.applePayAuthorizedFrequency!==this.contributionRecurrenceModel.get("frequency")||this.applepayAuthorizedAmount!==t||Date.now()>this.applePayExpirationTime)&&e.push(this.toError(this.resources.PrimaryResources.ApplePayReauthorize))}return this.trigger(e.length?"invalid":"valid"),e},updateSubmitText:function(){var e=this.contributionAmountModel.get("totalAmount"),t=this.contributionRecurrenceModel.getFrequencyDisplayName(),i=n.simpleFill(this.originalSubmitLabel,{Amount:o.format(e||0),Frequency:t}).trim();i=i||u.find(this.parent.model.get("form_elements"),{type:"submit"}).value,this.parent.$('input[type="submit"]').val(i),this.parent.$('button[type="submit"], .submitStep').text(i)},setPayPalDisplay:function(e){e=e||{},e.paypalNonce?(this.$(".at-paypal-amount").text(o.format(e.amount)),this.$(".at-paypal-account-info").text(e.email),this.paypalAuthorizedRecurring=this.contributionRecurrenceModel.get("isRecurring"),this.paypalExpirationTime=e.expires):(this.paypalAuthorizedRecurring=null,this.paypalExpirationTime=null),this.paypalNonce=e.paypalNonce?e.paypalNonce:null,this.paypalAccount=e.email,this.$('input[name="paypald-here > .at-payment-integration-container").toggle(!!e.paypalNonce),this.clearFeedback()},setApplePayDisplay:function(e){e=e||{},e.paymentResponseDetails?(this.$(".apple_pay_payment_details").val(JSON.stringify(e.paymentResponseDetails)),this.$(".apple_pay_amount").text(o.format(e.amount)),this.$(".apple_pay_card_info").text(e.cardInfo),this.applepayAuthorizedAmount=e.amount,this.applePayAuthorizedFrequency=this.contributionRecurrenceModel.get("frequency"),this.applePayExpirationTime=e.expires):(this.$(".apple_pay_payment_details").val(""),this.applepayAuthorizedAmount=null,this.applePayAuthorizedFrequency=null,this.applePayExpirationTime=null),this.$(".at-apple-pay-accepted-here > .at-payment-integration-container").toggle(!!e.paymentResponseDetails),this.clearFeedback()},changePaymentMethod:function(e){var n=e.newMethod;return n!==this.selectedPaymentMethod&&(this.setPaymentInformationDisplay(n),this.selectedPaymentMethod=n,this.parent.subviews.error_console.clear(),this.clearFeedback(),t("postPaymentMethodChanged",{new_payment_method:n})),e.isUserSelection&&this.options.formview.trigger("postPaymentMethodChanged",n),this},setPaymentInformationDisplay:function(e){this.$(".at-paypal-accepted-here").toggle("paypal"===e),this.$(".at-eft-accepted-here").toggle("eft"===e),this.$(".at-apple-pay-accepted-here").toggle("applepay"===e);var t="creditcard"===e;this.def.required=t,this.$(".cards").toggle(t),this.$(".at-cc-number").toggle(t),u.each(this.subviews,function(e){"PaymentMethod"!==e.name&&e.$el.toggle(t)})},clearFeedback:function(){return r.prototype.clearFeedback.call(this),this.$(".paypal-label").find("small.error").remove(),this.$(".paypal-label").removeClass("error"),this.$(".apple-pay-label").find("small.error").remove(),this.$(".apple-pay-label").removeClass("error"),this.$(".routing-number-label").find("small.error").remove(),this.$(".routing-number-label").removeClass("error"),this.$(".account-number-label").find("small.error").remove(),this.$(".account-number-label").removeClass("error"),this.$(".confirm-account-number-label").find("small.error").remove(),this.$(".confirm-account-number-label").removeClass("error"),this.$(".authorize-payment-label").removeClass("error"),this},val:function(){var e,t={};if(this.options.post_response&&this.options.post_response.confirmationID){if(i().unix()>i(this.options.post_response.contributionDateTimeStamp).add(15,"minutes").unix()||!this.options.previous_payment)return this.options.post_response=null,this.options.previous_payment=null,this.render().val();if(t=u.merge({ConfirmationID:this.options.post_response.confirmationID},this.options.previous_payment),this.subviews.SecurityCode){var n=this.subviews.SecurityCode.val();n&&(t.SecurityCode=n)}return t}return u.each(this.subviews,function(n){e=n.val(),u.isObject(e)?u.extend(t,e):e&&(t[n.name]=e)}),"paypal"===this.selectedPaymentMethod?t.paypalNonce=this.$('input[name="paypalNonce"]').val():"eft"===this.selectedPaymentMethod?(t.RoutingNumber=this.$("#routingNumber").val(),t.BankAccountNumber=this.$("#bankAccountNumber").val(),t.BankAccountType=this.$("#bankAccountType").val(),t.BankMandateAccepted=this.$("#authorizePayment").is(":checked")):"applepay"===this.selectedPaymentMethod&&(t.PaymentResponseDetails=this.$('input[name="paymentResponseDetails"]').val()),(t.Account||t.ExprirationMonth||t.ExprirationYear||t.SecurityCode)&&(this.previousVal=t),this.readonly&&"creditcard"===this.selectedPaymentMethod&&!this.hide&&(this.cc_4_digit&&(t.CreditCardLastFour=this.cc_4_digit),this.cc_4_digit&&(t.CreditCardLastFourType=this.cc_type),this.fastActionTokenPool&&(t.FastActionTokenPool=this.fastActionTokenPool)),t},_onSubviewsRendered:function(){this.$(".updateMyProfileSection").show(),this.cvc=this.$('input[name="SecurityCode"]'),this.exp=this.$('input[name="ExpirationDate"]'),this.cc_type&&(this.cardType="unknown",this.setCardType(null,this.cc_type)),a.adjustCheckbox(this),this.selectedPaymentMethod&&this.setPaymentInformationDisplay(this.selectedPaymentMethod);var e=this;u.defer(function(){e.updateSubmitText()})},setCardType:function(e,t){if(e&&e.currentTarget.readOnly)return this;var n=this.cardType;this.cardType=t;var i=this.$(".cc-type, .cvc-type");return this.cvc.length&&("amex"===n&&"amex"!==t?this.cvc.prop("placeholder","•••").prop("minLength",3).prop("maxLength",3):"amex"!==n&&"amex"===t&&this.cvc.prop("placeholder","••••").prop("maxlength",4).prop("minLength",4)),i.removeClass(n+" unknown").addClass(t),this},eftInputFocus:function(e){this.eftInputsFocused[e.currentTarget.id]=e.currentTarget.id,e.relatedTarget&&e.relatedTarget.classList.value.indexOf("btn-at-primary")>=0&&e.relatedTarget.classList.value.indexOf("nextStep")<0&&(this.eftSubmitFocused=!0)},eftInputsFocused:{},eftSubmitFocused:!1,eftErrorIds:{account:"eft_account_number",routing:"eft_routing_number",accountConfirm:"eft_account_number_confirm",authorize:"eft_authorize"},type:"payment_information"})}),n("ContributionView",["backbone","NVTagCallbacks","FieldView","FormError","FieldsetView","moment","currency"],function(e,t,n,i,r,a,o){var s=e._,l=["IsRecurring","SelectedFrequency","SelectedDuration","EndDate"],u=["CoverCostsAmount"];return r.extend({__name__:"ContributionView",type:"contribution",events:{blur:"renderFeedback","change *":"renderFeedback",change:"touch",'change [name^="SelectedDuration"]':"recurringCheckbox",'click [name="IsRecurring"]':"recurringChecked",'change [name^="SelectedFrequency"]':"onFrequencyChange",'change [name="ProcessingCurrency"]':"onCurrencyChange"},initialize:function(){r.prototype.initialize.call(this),s.bindAll(this,"onFrequencyChange","onCurrencyChange","recurringChecked","recurringCheckbox","updateRecurringSection"),this.contributionRecurrenceModel=this.options.formview.contributionRecurrenceModel},updateRecurringSection:function(){this.contributionRecurrenceModel.allowOneTimeFrequency&&!this.contributionRecurrenceModel.get("isRecurring")?this.$el.find(".at-recurring").toggleClass("at-hide",!0):(this.$el.find(".at-recurring .at-recurring-frequency").html(this.contributionRecurrenceModel.getFrequencyDisplayName()),this.$el.find(".at-recurring").toggleClass("at-hide",!1));var e=this.$el.find("input[type=checkbox][name=IsRecurring]");if(e.length){var t=this.$el.find(".IsRecurring .at-checkbox-title").text(),n=this.$el.find(".SelectedFrequency.select-collapse span.select-collapse").text()||this.$el.find(".SelectedFrequency select option:selected").text(),i=s.filter([t,n]).map(function(e){return e.trim()});i.length>1&&e.attr("aria-label",i.join(" "))}},onFrequencyChange:function(e){this.contributionRecurrenceModel.setFrequency(e.target.value),this.updateRecurringSection()},onCurrencyChange:function(e){var t=e.target.value;o.getCurrency().code!==t&&(o.see())},updateCurrencyNote:function(){var e=o.getCurrency(),t=this.resources.PrimaryResources.ContributionAcceptedIn+" <b>"+e.code+" "+e.symbol+" - "+this.resources.PrimaryResources[e.resourceName]+"</b>";this.$("[name=AmountSubtitle]").html(t)},context:function(){var e=o.getCurrency();e.name=this.resources.PrimaryResources[e.resourceName];var n=s.find(this.def.children,{name:"ProcessingCurrency"}),i="USD"!==e.code||n&&"select"===n.type,r=[],a={id:this.name.toLowerCase(),title:this.title,children:[],recurring:[],afterRecurring:[],currency:e,showCurrencyNote:i,multistep:this.options.multistep,includeFrequencyPlaceholder:!!this.contributionRecurrenceModel.allowOneTimeFrequency};return s.each(this.def.children,function(e,t){"ConfirmIdentityHtml"===e.name?a.children.push({type:"notme",index:t}):!s.contains(l,e.name)||"SelectedFrequency"===e.name&&"radios"===e.type?s.contains(u,e.name)?a.afterRecurring.push({type:e.type,index:t}):a.children.push({type:e.type,index:t}):("IsRecurring"===e.name?e.title=this.def.children[t+1].title:"SelectedFrequency"===e.name?(e.oldTitle=e.title,e.title=this.resources.PrimaryResources.Frunction(e,t){return t&&(e.display=this.resources.fill(this.resources.PrimaryResources.SelectedDurationTitle,e.display)),e},this),e.title=this.resources.PrimaryResources.DurationTitle):"EndDate"===e.name&&(e.title=this.resources.PrimaryResources.RecurringEndDateTitle),r.push({type:e.type,index:t}))},this),s.each(r,function(e){a.recurring.push(e)}),t("alterContext",{element:"fieldset",context:a,def:this.def}).context},errors:function(){var e=this.val(),n=s(l.slice()),i=s(this.subviews).chain();e.IsRecurring||(i=i.reject(function(e){return n.contains(e.name)}));var r=i.invoke("errors").flatten().compact().value();return t("alterErrors",{val:e,field_name:this.field_name(),errors:r,def:this.def}).errors},focus:function(){return this.subviews.SelectAmount?this.subviews.SelectAmount.focus():this.subviews.SuggestedAmount&&this.subviews.SuggestedAmount.focus(),this},val:function(){var e=r.prototype.val.call(this);return e.IsRecurring=this.contributionRecurrenceModel.get("isRecurring"),e.IsRecurring||(e.SelectedFrequency=e.SelectedFrequency?0:e.SelectedFrequency,delete e.SelectedDuration,delete e.EndDate),e},setval:function(e){var t=this;return s.each(this.subviews,function(n))===i&&n.setval(e),"IsRecurring"===i&&t.contributionRecurrenceModel.setIsRecurring(e),"SelectedFrequency"===i&&t.contributionRecurrenceModel.setFrequency(e{function e(){return u.contributionRecurrenceModel.get("isRecurring")}var t=this.subviews.EndDate,r=this.subviews.SelectedFrequency,o=this.subviews.SelectedDuration,l=this.subviews.IsRecurring,u=this;if(t){var c=t.errors;t.errors=urn!t.length&&e()&&4===o.val()&&a(new Date(n)).utc().diff(a().utc(),"days")<0&&t.push(new i(this.resources.PrimaryResources.SpecifyEndDateInFuture,this)),t},t)}return r&&r.def.oldTitle&&(!l||l&&"hidden"===l.def.type)&&this.$(".at-recurring").prepend('<label class="IsRecurring"><span>'+r.def.oldTitle+"</span></label>"),r&&(r.errors=s.bind(function(){var t=n.prototype.errors.call(this);return e()&&!this.val()&&t.push(new i(this.resources.PrimaryResources.SelectFrequencyForRecurring,this)),t},r)),o&&(o.errors=s.bind(function(){var t=n.prototype.errors.call(this);return e()&&!this.val()&&t.push(new i(this.resources.PrimaryResources.SelectDurationForRecurring,this)),t},o)),this.updateRecurringSection(),this.recurringCheckbox()},recurringCheckbox:function(e){var t=this.subviews.SelectedDuration,n=e?parseInt(e.currentTarget.value,10):t?t.val():null;return this.$(".at-date").css({display:4===n?"inline-block":"none","vertical-align":"top"}),this},recurringChecked:function(){this.contributionRecurrenceModel.setIsRecurring(this.subviews.IsRecurring.val())}})}),n("CaptchaView",["backbone","FieldsetView","spin"],function(e,t){function n(e,t){return e.$('.at-captcha[data-idx="'+t+'"] [data-choice].checked').map(function(){return o(this).data("choice")}).get().join(" ")}function i(e,t,n){var i=e.$('.at-captcha[data-idx="'+t+'"]'),r=i.find(".at-recaptcha-table");r&&n&&(r.removeClass("error").find(".error").remove(),r.addClass("error").append('<small class="error">'+n+"</small>"))}function r(e,t,n){return{idx:e,error:t,simpleCaptcha:n}}var a=e._,o=e.$;return t.extend({__name__:"CaptchaView",type:"captcha",events:{"click .get-new-captcha-link":"replaceCaptcha","click .at-recaptcha > div":"toggleCheck"},initialize:function(){t.prototype.initialize.call(this),this.def.children=a.reduce(this.def.captchas,function(e,t,n){return e.push(this.def.captchas[n].input={name:"Captcha"+n,title:"Image Text",type:t.simpleCaptcha?"textfield":"recaptcha_grid",captcha:t,required:!!t.simpleCaptcha,maxlength:20,index:n}),e},[],this)},context:function(){var e=a.map(this.def.captchas,a.property("name"));if(e.length>1){var t=" and "+e.pop();e=e.join(", ")+t}else e=a.first(e);return{title:e+" would like to make sure you’re not a robot.",captchas:this.def.captchas}},_onSubviewsRendered:functiounction(e,t){var n=this.subviews["Captcha"+t];n&&e.simpleCaptcha?e.error&&(n.trigger("invalid"),n.renderFeedbackWithErrors([n.toError(e.error)])):i(this,t,e.error)},this),o("html,body").scrollTop(this.parent.$("form").offset().top)},val:function(){return{Captchas:a.map(this.def.captchas,function(e,t){var i={guid:e.guid,bioId:e.bioId,tries:e.tries,cookie:e.cookie,gridWidth:e.gridWidth,gridHeight:e.gridHeight};return i.value=e.simpleCaptcha?this.subviews["Captcha"+t].val():n(this,t),i},this)}},toggleCheck:function(e){o(e.currentTarget).toggleClass("checked").parent().parent().parent().removeClass("error").find(".error").remove()},replaceCaptcha:function(e){e.preventDefault();var t,n=this.def,i=this.$(e.currentTarget).css("visibility","hidden"),r=i.closest(".at-captcha"),s=r.data("idx"),l=r.find(".spinner-wrapper"),u=r.find(".at-captcha-phrase"),c=n.captchas[s],d=!!c.simpleCaptcha,p=this;d?(t=r.find("img"),this.subviews["Captcha"+s].setval("").clearFeedback().focus()):(t=llip;"),t.find(".error").remove()),l.css({width:t.innerWidth()+"px",height:t.innerHeight()+"px"}).show().spin(),t.hide();var h=a.once(function(){l.spin(!1).hide(),t.show().find(".checked").removeClass("checked"),i.css("visibility","viax({url:n.recaptcha+"/"+c.bioId,xhrFields:{withCredentials:!0},type:"GET"}).done(function(e){a.extend(c,e),d?t.attr("src",c.img):(p.subviews["Captcha"+s].def.captcha=c,p.subviews["Captcha"+s].render()),h()}).always(function(){setTimeout(h,1e3)}),this},errors:function(){var e=this;return a.reduce(this.def.captchas,function(i,o,s){if(o.simpleCaptcha){var l=t.prototype.errors.call(e);l&&l.length&&i.push(r(s,a.map(l,function(e){return e.text}).join(" "),!0))}else n(this,s)||i.push(r(s,"Image selection is required.",!1));return i},[],this)},renderFeedback:function(){var e=this.errors();e&&e.length&&this.renderFeedbackWithErrors(e)},renderFeedbackWithErrors:function(e){var t=this;a.each(e,function(e){if(e.simpleCaptcha){var n=t.$el.find(".at-text.Captcha"+e.idx);n.addClass("error"),n.find(".error").remove(),n.append(t.error_template({error_text:e.error,behavior_classes:"error"}))}else i(t,e.idx,e.error)})}})}),n("TicketingView",["backbone","NVTagCallbacks","accounting","doublebracket","FieldsetView"],function(e,t,n,i,r){function a(e){return{display:e+1,value:e+1}}function o(e,t){return e+t.get("level").get("price")}function s(e,t){return["Ticket_"+t,e]}var l=e._,u=e.Model.extend({__name__:"TicketHolder",initialize:function(){this.attributes.cid=this.cid},defaults:{first:"",last:"",required:!1},oberon_format:function(){return{FirstName:this.get("first"),LastName:this.get("last"),TicketId:this.get("level").get("id")}}}),c=e.Collection.extend({__name__:"TicketHolders",model:u,comparator:function(e){return e.get("level").get("id")},holders_by_level:function(e){return this.filter(function(t){return t.get("level").get("id")===e})}}),d=e.Model.extend({__name__:"TicketLevel",initialize:function(){this.attributes.cid=this.cid;var e=l(this.get("quantity")).range().map(a).value();e.length>0&&e.unshift({display:"- Quantity -",value:""}),this.set("levels",e)},defaults:{levels:[],title:"General Admission",quantity:25,price:0,default_value:0}}),p=e.Collection.extend({__name__:"TicketLevels",model:d});return r.extend({__name__:"TicketingView",type:"ticketing",className:"at-fieldset TicketInformation",onMessages:{changeQuantityOrAdditional:"changeQuantityOrAdditional"},field_name:function(){return"EventTicketing"},initialize:function(){r.prototype.initialize.call(this),this.originalDef=l.clone(this.def),l.bindAll(this,"updateStats","showHideTotal"),this.ticket_levels=new p(this.options.ticket_levels),this.ticket_holders=new c;for(var e=0;e<this.ticket_levels.length;e++)for(var t=0;t<this.ticket_levels.at(e).attributes.default_value;t++)this.ticket_holders.add({required:this.options.requireTicketHolders,level:this.ticket_levels.at(e).clone()});this.updateStats(),this.rerenderState={host:null,additional:null,coverCosts:null};var n=l(this.def.children),a=n.find({name:"TicketHeaderHtml"}),o=n.find({name:"TicketFooterHtml"});this.def.context={header:a&&a.markup?i.translate(a.markup):"",additional:n.findIndex({name:"AdditionalContributionValue"}),host:n.findIndex({name:"HostCommittee"}),footer:o&&o.markup?i.translate(o.markup):"",coverCosts:n.findIndex({name:"CoverCostsAmount"})}},events:{"change *":"touch",'blur input[name^="AdditionalContribution"]':"formatAdditionalContribution",'changmount"]':"showHideTotal",'keyup input[name^="AdditionalContribution"]':"changeAdditionalContribution",'keypress input[name^="AdditionalContribution"]':"ensureTotalBeforeSubmit"},showHideTotal:function(){var e=!this.coverCostsView||!this.coverCostsView.val();this.$el.find(".ticketTotals .totalAmount").toggle(e)},formatAdditionalContribution:function(e){return e.currentTarget.value&&(e.currentTarget.value=n.formatMoney(e.currentTarget.value)),this.renderAdditionalContributionFeedback(),this},changeAdditionalContribution:l.debounce(function(){return this.updateStats(),this.$total.html(n.formatMoney(this.stats.total)),this},150),ensureTotalBeforeSubmit:function(e){if(13===e.which)return this.changeAdditionalContribution(e).formatAdditionalContribution(e)},changeQuantityOrAdditional:function(e){if(this.updateStats(),document.activeElement){var t=document.activeElement.id;if(t&&this.$("#"+t).length)return this.render(),this.$("#"+t).focus(),this}this.render()},context:function(){var e=l.omit({name:this.name,title:this.title,stats:this.stats,host:this.def.context.host,header:this.def.context.header,footer:this.def.context.footer,coverCosts:this.def.context.coverCosts,additional:this.def.context.additional,ticket_levels:this.ticket_levels.toJSON(),ticket_holders:this.ticket_holders.toJSON(),showTicketHolders:this.options.showTicketHolders&&this.ticket_holders.length,optionalTicketHolders:!this.options.requireTicketHolders,guest_names:this.options.formview.model.get("metadata").guest_names||"Guest Names"},function(e){return-1===e});return t("alterContext",{element:this.type,context:e,def:this.def}).context},render:function(){if(this.subviews){this.hostView&&(this.rerenderState.host=this.hostView.val()),this.additionalView&&(this.rerenderState.additional=this.additionalView.val()),this.coverCostsView&&(this.rerenderState.coverCosts=this.coverCostsView.isChecked());for(var e in this.subviews)e.indexOf("TicketHolder")>=0&&delete this.subviews[e]}return this.$el.html(this.template(this.context())),this},_onSubviewsRendered:function(){if(this.additionalView=this.subviews.AdditionalContributionValue,this.hostView=this.subviews.HostCommittee,this.coverCostsView=this.subviews.CoverCostsAmount,this.$total=this.$('[data-total="price"]'),this.rerenderState.host&&this.hostView&&(this.hostView.setval(this.rerenderState.host),this.rerenderState.host=null),null!==this.rerenderState.coverCosts&&this.coverCostsView&&(this.coverCostsView.setval(this.rerenderState.coverCosts),this.rerenderState.coverCosts=null),this.additionalView){this.additionalView.setval=function(e){var t=n.formatMoney(e);return n.unformat(t)?this.$("input").val(t):this.$("input").val(""),this};var e=this.additionalView.$("input:text");e.attr("placeholder")||e.attr("placeholder","$0.00"),this.rerenderState.additional&&(this.additionalView.setval(this.rerenderState.additional),this.rerenderState.additional=null)}return this.showHideTotal(),setTimeout(this.updateStats,350),this},updateStats:function(){return this.val(),this.stats.add=this.additionalView?n.unformat(this.additionalView.val())||0:0,this.stats.count=this.ticket_holders.length,this.stats.total=this.ticket_holders.reduce(o,this.stats.add<0?0:this.stats.add),this.additionalView&&this.additionalView.$input.prop("required",!this.stats.count),this.options.formview.contributionAmountModel.setBaseAmount(this.stats.total),this.$total&&this.$total.html(n.formatMoney(this.stats.total)),this.showHideTotal(),this.def=this.options.definition=this.originalDef,this.stats},stats:{count:0,total:0,add:0},additionalContributionErrors:function(){var e=[];if(0===this.stats.count&&this.additionalView){var t=n.unformat(this.additionalView.val()),i=this.additionalView.def;if("valueMin"in i){var r=i.valueMin||.01;t<r&&e.push(this.additionalView.toError("Invalid amount. Additional contributions must be at least "+n.formatMoney(r)+" without a ticket."))}if("valueMax"in i){var a=i.valueMax||1e12;t>a&&e.push(this.additionalView.toError("Invalid amount. Additional contributions must be less than "+n.formatMoney(a)+"."))}}return e},errors:function(){var e=l(this.subviews).chain().invoke("errors").flatten().compact().value();return e=e.concat(this.additionalContributionErrors()),this.renderFeedback(),t("alterErrors",{val:this.val(),field_name:this.field_name(),errors:e,def:this.def}).errors},renderAdditionalContributionFeedback:function(){var e=[];if(this.additionalView){var t=this.additionalContributionErrors();t.length?e=this.additionalView.renderFeedbackWithErrors(t):this.$(".AdditionalContributionValue small."+this.error_class).remove()}return e},renderHostCommitteeFeedback:function(){var e=[];if(this.hostView){var t=this.hostView.errors();t.length&&(e=this.hostView.renderFeedbackWithErrors(t))}return e},renderFeedback:function(){var e=[];return e=e.concat(this.renderAdditionalContributionFeedback()),e=e.concat(this.renderHostCommitteeFeedback())},val:function(){var e=l(this.ticket_holders.invoke("oberon_format")).chain(),t=e.countBy("TicketId").map(s).object(),i=0;this.additionalView&&(i=n.unformat(this.additionalView.val()),i=!l.isNaN(i)&&l.isFinite(i)&&i>=0?i:0);var r={Amount:n.toFixed(this.stats.total,2),AdditionalContributionValue:n.toFixed(i,2),TicketHolders:e.value()};return this.coverCostsView&&(r.CoverCostsAmount=this.coverCostsView.val()),this.hostView&&(r.HostCommittee=this.hostView.val()),l.extend(r,t.value())}})}),n("AdvocacyView",["backbone","FieldsetView","NVTagCallbacks"],function(e,t,n){var i=e._,r=e.$,a=/(Message|Subject)([0-9])/;return t.extend({__name__:"AdvocacyView",type:"advocacy",initialize:function(){t.prototype.initialize.call(this);var e="AdvocacyRegulationsFields"===this.def.name,n=e?"Comment":"Message",r=this.def.messages.length;this.template=this.options.templates.fieldset,this.multiple=i.size(this.def.messages)>1;var a=this.options.formview.options.form_definition.metadata,o=!a||!a.deliveryType||a.deliveryType&&a.deliveryType.indexOf("TwilioCalling")<0&&a.deliveryType.indexOf("RevereCalling")<0,s=i.first(this.def.messages),l=s&&s.targets&&s.targets.length,u=l&&!e?[{name:"AdvocacyHeader",type:"markup",markup:'<div style="margin:0 0 0.625rem;"><strong>Send the following message'+(this.multiple?"s":"")+":</strong></div>"}]:[];this.def.children=i.reduce(this.def.messages,function(t,i,a){i.targets&&i.targets.length&&!e&&t.push({name:"Targets"+a,type:"targets",targets:i.targets}),e||(t.push(i.subject.readonly?{name:"Subject"+a,type:"markup",markup:'<div data-at-id="Subject_'+a+'" class="Subject" style="white-space: pre-line">'+i.subject.value+"</div><br/>"}:{name:"Subject"+a,title:"Subject",label:"Personalize your subject",type:"textfield",required:o,maxlength:256,default_value:i.subject.value}),t.push({name:"Intro"+a,type:"markup",markup:'<div data-at-id="Greeting_'+a+'" style="white-space: pre-line">'+i.intro+"</div><br/>"}));var s=4e3;return i.introductionMessage&&!e&&(t.push({name:"IntroductionMessage"+a,type:"markup",markup:'<div data-at-id="Introduction_'+a+'" style="white-space: pre-line">'+i.introductionMessage+"</div><br/>"}),s-=1+i.introductionMessage.length),i.conclusionMessage&&(s-=1+i.conclusionMessage.length),t.push(i.message.readonly?{name:"Message"+a,type:"markup",markup:'<div data-at-id="Message_'+a+'" class="Message" style="white-space: pre-line">'+i.message.value+"</div><br/>"}:{name:"Message"+a,title:n,label:"Personalize your "+n.toLowerCase(),type:"textarea",required:o,maxlength:s,default_value:i.message.value,attr:{rows:15}}),i.conclusionMessage&&!e&&t.push({name:"ConclusionMessage"+a,type:"markup",
markup:'<div data-at-id="Conclusion_'+a+'" style="white-space: pre-line">'+i.conclusionMessage+"</div><br/>"}),t.push({name:"Outro"+a,type:"markup",markup:'<div data-at-id="Outro_'+a+'" style="white-space: pre-line">'+i.outro+"</div>"+(a+1<r?"<hr>":"")}),t},u)},val:function(){return i.reduce(t.prototype.val.call(this),function(e,t,n){var i=n.match(a);return e[i[1]+"s"][i[2]]=t,e},{Messages:[],Subjects{var e=this.parent.$(".at-form-submit");e.append('<a href="'+this.def.back.href+'" tabindex="-1" class="back-link at-submit btn-at btn-at-link">'+this.def.back.text+"</a>");var t=e.find('input[type="submit"]');this.multiple||t.val("Send message"),"AdvocacyRegulationsFields"!==this.def.name&&t.clone().attr("tabIndex",-1).addClass("at-secondary-submit").prependTo(this.$("legend").addClass("clearfix at-legend-with-submit"))}n("postRender",{form_definition:this.options.formview.options.form_definition,options:this.options,thank:!1});var i=this.parent.options.form_definition.metadata;i&&i.hasOwnProperty("layoutStyle")&&"multistep"===i.layoutStyle&&r("html,body").scrollTop(this.parent.$("form").offset().top)}})}),n("AdvocacyTweetsView",["backbone","FieldsetView"],function(e,t){var n=e.$,i=e._;return t.extend({__name__:"AdvocacyTweetsView",type:"advocacy_tweets",initialize:function(){t.prototype.initialize.call(this),this.title=this.def.title,this.template=this.options.templates.fieldset,this.def.children=i.reduce(this.def.messages,function(e,t){return e.push(i.extend({type:"advocacy_tweet"},t)),e},[])},_onSubviewsRendered:function(){var e=this,t=this.paren.back.href+'" tabindex="-1" class="back-link at-submit btn-at btn-at-link">'+this.def.back.text+"</a>");var r=t.find('input[type="submit"]');r.val("Continue"),r.prop("disabled",!0),r.prop("title","Post a Tweet to continue"),r.css("pointer-events","auto"),i.each(e.subviews,function(t){e.listenTo(t,"tweetOpened",e.tweetOpened)}),n("html,body").scrollTop(this.parent.$("form").offset().top)},tweetOpened:function(e){var t=this;n.ajax({method:"POST",xhrFields:{withCredentials:!0},url:this.def.reportUrl,data:i.extend({},e)}).always(function(){var e=t.parent.$(".at-form-submit"),n=e.find('input[type="submit"]');n.prop("disabled",!1),n.prop("title","Continue")})}})}),n("TributeGiftView",["backbone","FieldsetView","NVTagCallbacks"],function(e,t,n){var i=e._;return t.extend({__name__:"TributeGiftView",type:"tribute_gift",events:{'click [name="EnableTributeGift"]':"toggleTributeGift"},initialize:function(){t.prototype.initialize.call(this);var e=this.getEnableTributeGiftFromDef();this._enableTributeGift=e&&(e.default_value||e.value),this.template=this.options.templates.tribute_gift,this.listenTo(this.options.parent,"fill",this.postFill)},context:function(){var e={id:this.name.toLowerCase(),children:[],giftChildren:[]},t=i.findWhere(this.def.children,{name:"InHonorOrInMemoryOf"});if(t&&t.options&&t.options.length){var r=i.map(t.options,function(e){return{value:i.keys(e)[0],display:i.values(e)[0]}}),a=i.findWhere(r,{value:"2"}),o=i.findWhere(r,{value:"1"});a&&o&&(t.options=i.map([a,o],function(e){var t={};return t[e.value]=e.display,t}))}return i.each(this.def.children,function(t,n){"EnableTributeGift"===t.name?e.children.push({type:t.type,index:n,name:t.name}):e.giftChildren.push({type:t.type,index:n,name:t.name})}),n("alterContext",{context:e}).context},render:function(){this.$el.html(this.template(this.context()));var e=this.parent.$(".ContributionInformation");e&&e.css("border","none");var t=this.parent.$(".Premiums");return t&&t.css("border","none"),this.displayGiftOptions(this._enableTributeGift),this},errors:function(){return this.$(".at-tribute-gift").is(":visible")?t.prototype.errors.call(this):[]},renderFeedback:function(){return this.$(".at-tribute-gift").is(":visible")?t.prototype.renderFeedback.call(this):[]},getEnableTributeGiftFromDef:function(){return i.find(this.def.children,{name:"EnableTributeGift"})},toggleTributeGift:function(e){this.displayGiftOptions(e.currentTarget.checked)},displayGiftOptions:function(e){e?this.$(".at-tribute-gift").show():(this.$(".at-tribute-gift").hide(),this.clearFeedback()),this.displayRecipientInfoView(e)},displayRecipientInfoView:function(e){var t=this.parent.$(".RecipientInformation"),n=this.parent.subviews.RecipientInformation;t&&n&&(e?(t.show(),this.$el.addClass("at-fieldset-noborder")):(n.clearFeedback(),t.hide(),this.$el.removeClass("at-fieldset-noborder")))},postFill:function(e){this._enableTributeGift=e&&e.EnableTributeGift,this.displayGiftOptions(this._enableTributeGift)}})}),n("RecipientInformationView",["backbone","FieldsetView","NVTagCallbacks","formatRows"],function(e,t,n,i){var r=e._;return t.extend({__name__:"RecipientInformationView",type:"recipient_information",events:{'click [name="IncludeRecipient"]':"toggleRecipientInfo",'click [name="NotifyRecipient"]':"toggleNotifyRecipient"},initialize:function(){t.prototype.initialize.call(this);var e=this.getIncludeRecipientElemFromDef();this._includeRecipient=!e||e.default_value||e.value;var n=this.getNotifyRecipientElemFromDef();this._notifyRecipient=!n||n.default_value||n.value,this.listenTo(this.options.parent,"fill",this.postFill),this.template=this.options.templates.recipient_information},context:function(){var e={children:[],title:this.def.title,id:this.name.toLowerCase(),notificationFields:[]},t=this.getIncludeRecipientElemFromDef(),a=this.getNotificationFieldsFromDef(),o=r.without(this.def.children,t);e.includeRecipient={type:t.type,index:0,name:t.name},r.each(o,function(t,n){r.contains(a,t)?e.notificationFields.push({type:t.type,index:n+1,name:t.name}):e.children.push({type:t.type,index:n+1,name:t.name})});var s=e.children.concat(e.notificationFields,e.includeRecipient);return e.rows=i.format("RecipientInformation",s),n("alterContext",{element:"his.$el.html(this.template(this.context())),this.displayRecipientInfo(this._includeRecipient),this.displayRecipientMsg(this._includeRecipient&&this._notifyRecipient)},errors:function(){var e=this.$(".at-recipient-info").is(":visible"),t=this.$(".at-recipient-msg").is(":visible");if(!e)return[];var i=[];return t?i=r(this.subviews).chain().invoke("errors").flatten().compact().value():(i=r(this.subviews).reduce(function(")),e},[]),r(i).flatten().compact().value()),n("alterError",{val:this.val(.$(".at-recipient-msg").is(":visible");if(!t)return[];if(!n){var i=r(this.subviews).reduce(function(e,t){return"NotificationMessage"!==t.name&&e.push(r.invoke([t],"renderFeedback")),e},[]);return r(i).flatten().compact().value()}return r(this.su().value()},displayRecipientInfo:function(e){e?(this.$(".at-recipient-info").show(),this.displayRecipientMsg(this._notifyRecipient)):(this.$(".at-recipient-info").hide(),this.displayRecipientMsg(!1),this.clearFeedback())},displayRecipientMsg:function(e){e?this.$(".at-recipient-msg").show():(this.$(".at-recipient-msg").hide(),this.clearFeedback())},toggleRecipientInfo:function(e){this.displayRecipientInfo(e.currentTarget.checked)},toggleNotifyRecipient:function(e){this.displayRecipientMsg(e.currentTarget.checked)},postFill:function(e){this.getIncludeRecipientElemFromDef()&&(this._includeRecipient=e&&e.IncludeRecipient,this.displayRecipientInfo(this._includeRecipient)),this.getNotifyRecipientElemFromDef()&&(this._notifyRecipient=e&&e.NotifyRecipient,this.dicipientElemFromDef:function(){return r.find(this.def.children,{name:"IncludeRecipient"})},getNotifyRecipientElemFromDef:function(){return r.find(this.def.children,{name:"NotifyRecipient"})},getNotificationFieldsFromDef:function(){return r.filter(this.def.children,function(e){return"NotificationHeaderHtml"===e.name||"NotificationMessage"===e.name||"NotificationSendDate"===e.name||"Ecard"===e.name||"NotificationSendCopy"===e.name})},shouldHide:function(){var e=this.parent.$('input[name="EnableTributeGift"]:checked'),t=this.getIncludeRecipientElemFromDef();return!(t&&(t.default_value||t.value)||"on"===e.val())},getDefaultValues:function(){return r.reduce(this.def.children,function(e,t){return e[t.name]=t.default_value,e},{})}})}),n("ShippingInformationView",["backbone","FieldsetView","NVTagCallbacks","formatRows","RadiosView"],function(e,t,n,i,r){var a=e.$;return t.extend({__name__:"ShippingInformationView",type:"shippintionChange",'keyup input[name="destinations"]':"cycleOptions","click a.at-dismiss":"closeCta","click a.auto-fill":"autoFillAddress"},initialize:function(){t.prototype.initialize.call(this),this.template=this.options.templates.shipping_inforiftChanged",this.onGiftChanged,this)},context:function(){var e=this.def,t={title:e.title,showCta:!!this.getRecipientInformationSection()};t.title=t.title.replace(/{{\s*PremiumGift\s*}}/g,this.giftName);var r=_.map(e.children,function(e,t){return{type:e.type,index:t,name:e.name}});return t.rows=i.format("ShippingInformation",r),n("alterContext",{element:"fieldset",context:t,def:e}).context},render:function(){var e=this.getSelectedGift();return e&&e.no_gift?(this.hide=!0,this.$el.hide(),this):(this.hide=!1,this.$el.show(),this.$el.html(this.template(this.context())),this.displayShippingFields(!1)e)return t.prototype.val.call(this);if("yourinfo"===e){var n=this.options.formview.subviews.ContactInformation,i=n?n.val():void 0;if(i){var r=this.mapValues(i);return _.isEmpty(r)||r.ShippingCountry||!this.subviews.ShippingCountry||(r.ShippingCountry="US"),_.isEmpty(r)?void 0:r}}},errors:function(){return this.$(".at-shipping-info").is(":visible")?t.prototype.errors.call(this):[]},renderFeedback:function(e){return e&&e.stopPropagation(),this.$(".at-shipping-info").is(":visible")?t.prototype.renderFeedback.call(this):[]},cycleOptions:function(e){r.prototype.cycleOptions.call(this,e)},mapValues:function(e,t){var n=t||"";return _.reduce(this.subviews,function(t,i){var r=i.name.replace("Shipping",""),a=n+r;"Recipient"===n&&"AddressLine1"===r&&(a="RecipientStreetAddress");var o=e[a];return o&&(t[i.name]=o),t},{})},closeCta:function(){this.$(".at-shipping-cta").hide()},autoFillAddress:function(){return this.setval(this.mapValues(this.getRecipientInformationSection().val(),"Recipient")),this.closeCta(),this.clearFeedback(),this},onGiftChanged:function(e){if(!e.newGift||e.newGift.no_gift)return this.hide=!0,void this.$el.hide();this.giftName=e.newGift.title||"gift",this.hide=!1,this.$el.show(),this.render()},getSelectedGift:function(){var e=this.options.formview.subviews.Premiums;if(e){var t=e.subviews.PremiumGift;if(t)return t.getSelectedGift()}},getTributeGiftSection:function(){return this.options.formview.subviews.TributeGift},getRecipientInformationSection:,onDestinatiorentTarget.value){var t=this.getRecipientInformationSection();if(t){var n=t.getDefaultValues(),i=t.val(),r=_.reduce(i,function(e,t,i){return n[i]!==t&&(e[i]=t),e},{}),a=this.$(".at-shipping-cta > .cta-text"),o=this.mapValues(r,"Recipient");if(_.isEmpty(o))this.$(".at-shipping-cta").hide();else{var s=this.getTributeGiftSection(),l=this.resources.PrimaryResources.GiftMembershipRecipientInfoAutoFillPrompt;s&&(l=this.resources.PrimaryResources.TributeGiftRecipientInfoAutoFillPrompt),a&&a.text(l),this.$(".at-shipping-cta").show()}}this.displayShippingFields(!0)}else this.displayShippingFields(!1)},displayShippingFields:function(e){var t=this.$(".at-shipping-info");e?t.show():(t.hide(),this.clearFeedback())},getCheckedDestination:function(){var e=a("input[name=destinations]:checked");if(e&&e.length)return e[0].value}})}),n("EventInformationView",["FieldsetView","backbone"],function(e,t){var n=t._;return e.extend({__name__:"EventInformationView",type:"fieldset",events:{'change [name="EventIsPrivate"]':"eventPrivacyChange"},initialize:function(){e.prototype.initialize.call(this),this.listenTo(this.options.parent,"fill",this.postFill)},val:function(){var t=e.prototype.val.call(this),n=this.subviews.EventIsPrivateReason;return n&&n.$el.is(":hidden")&&delete t.EventIsPrivateReason,t},errors:function(){var t=e.prototype.errors.call(this),i=this.subviews.EventIsPrivateReason;return i&&i.$el.is(":hidden")&&n.remove(t,function(e){return e&&e.field&&"EventIsPrivateReason"===e.field.name}),t},postFill:function(){this.eventPrivacyChange()},eventPrivacyChange:function(){var e=this.subviews.EventIsPrivate,t=this.subviews.EventIsPrivateReason;if(e&&t){var n=e.val();n&&"true"===n.toLowerCase()?t.$el.show():t.$el.hide()}}})}),n("FormElements",["FieldsetView","SelectView","TextFieldView","MarkupView","PaymentInformationView","ContributionView","NotMeView","CaptchaView","TrackingPixelView","TicketingView","HiddenView","AdvocacyView","AdvocacyTweetsView","TributeGiftView","RecipientInformationView","ActivistCodeQuestionView","ShippingInformationView","EventInformationView","TimeView","InternationalPhoneView","SignaturePadView","Pa,function(e,t,n,i,r,a,o,s,l,u,c,d,p,h,f,m,g,v,y,b,w,_,x){return{fieldset_view:e,select_view:t,textfield_view:n,markup_view:i,payment_information_view:r,contribution_view:a,notme_view:o,captcha_view:s,trackingpixel_view:l,ticketing_view:u,hidden_view:c,advocacy_view:d,advocacy_tweets_view:p,tribute_gift_view:h,recipient_information_viview:m,shipping_information_view:g,event_information_view:v,time_view:y,international_phone_view:b,signature_pad_view:w,payment_method_view:_,matchpro_view:x}}),n("requestAutocomplete",["countries"],function(e){return function(t){function n(){var t={};if(o.forEach(function(e){var n="",i=e.autocomplete;"cc"===i.slice(0,2)?(n=r[i.slice(3)],t[n]=e.value):"billing"===i.slice(0,7)&&(n=r[i.slice(8)],t[n]=e.value)}),t.ExpirationYear&&(t.ExpirationYear=t.ExpirationYear.slice(2)),t.FullName){var n=t.FullName.split(" ");n.length&&(t.FirstName=n[0],n.length>2?(t.MiddleName=n[1],t.LastName=n.slice(2).join(" ")):t.LastName=n[1])}return t.AccountType&&"americanexpress"===(t.AccountType=t.AccountType.toLowerCase().replace(/\s/,""))&&(t.AccountType="amex"),t.Country&&(t.Country in e?t.Country=e[t.Country]:delete t.Country),t}vareturn void :"EmailAddress",name:"FullName",tel:"HomePhone","address-line1":"AddressLine1","address-line2":"AddressLine2",locality:"City",region:"StateProvince","postal-code":"PostalCode",country:"Country"},a=Object.keys(r).map(function(e){return"billing "+e});r.number="Account",r["exp-month"]="ExpirationMonth",r["exp-year"]="ExpirationYear",r.type="AccountType",r.csc="SecurityCode",a.push("cc-number","cc-exp-month","cc-exp-year","cc-type","cc-csc");var o=a.map(function(e){var t=document.createElement("input");return t.autocomplete=e,i.appendChild(t),t});i.addEventListener("autocomplete",function(){t({data:n()})}),i.addEventListener("autocompleteerror",function(e){t({err:e.reason,data:n()})}),i.requestAutocomplete()}}),n("PageAlertView",["backbone","templates"],function(e,t){var n=e.$;return e.View.extend({__name__:"PageAlertView",events:{"click a.at-dismiss":"close"},template:t.page_alert,alerts:[],render:function(){return this.$el.html(this.template({alerts:this.alerts})),this},val:function(){return{}},errors:function(){return[]},renderFeedback:function(){return[]},clearFeedback:function(){return this},close:function(e){if(e){e.stopPropagation();var t=this.$(e.currentTarget).parent();this.alerts.splice(t.index(),1),t.remove()}},setAlerts:function(e){var t=this;t.alerts=e||[],t.render(),t.$el.show(),setTimeout(function(){n("body").one("click",t,t.onBodyClick)},500),setTimeout(function(){t.clearAlert()},6e3)},onBodyClick:function(e){e.stopPropagation(),e.data&&e.data.clearAlert()},clearAlert:function(){this.alerts=[],this.$el.hide()}})}),n("Map",["underscore","jquery","loadScript","loadCSS"],function(e,n,i,r){function a(){return window.mapboxgl?n.Deferred().resolve().promise():i("//api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js")}function o(){return window.geojsonExtent?n.Deferred().resolve().promise():i("//api.mapbox.com/mapbox.js/plugins/geojson-extent/v0.0.1/geojson-extent.js")}function s(t){r("//api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css"),n.when(a(),o()).then(function(){var n=window.mapboxgl,i=window.geojsonExtent;e.forEach(t,function(t){var r=t.getAttribute("data-map-locations")ength)return!0;t.classList.add("at-map-render");var o=e.reduce(a,function(e,t){return t.Longitude&&t.Latitude&&e.push({type:"Feature",geometry:{type:"Point",coordinates:[t.Longitude,t.Latitude]},properties:{title:t.Title,description:t.Description}}),e},[]),s={type:"FeatureCollection",features:o};n.accessToken="pk.eyJ1IjoibmdwdmFuMSIsImEiOiJjamRjNzA5MnMwNGUwMnduMWpiYXpjMXV2In0.O1tZ7lyukJGf1_XAiNV9eA";var l=new n.Map({container:t,style:"mapbox://styles/mapbox/outdoors-v10?optimize=true"});l.addControl(new n.NavigationControl({showCompass:!1}),"bottom-right"),s.features.forEach(function(e){var t=document.createElement("div");t.className="glyphicons glyphicons-map-marker",new n.Marker(t).setLngLat(e.geometry.coordinates).setPopup(new n.Popup({offset:15}).setHTML('<p class="mapboxgl-popup-title">'+e.properties.title+'</p><p class="mapboxgl-popup-description">'+e.properties.description+"</p>")).addTo(l)}),l.fitBounds(i(s),{padding:20,duration:0,maxZoom:15})})})}function l(e){var n=document.getElementsByClassName(e);if(n&&n.length)if(window.nvtagDebug)try{t(["//api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js","//api.mapbox.com/mapbox.js/plugins/geojson-extent/v0.0.1/geojson-extent.js"],function(e,t){window.mapboxgl=e,window.geojsonExtent=t,s(n)})}catch(e){console.debug("error loading mapbox libraries in debug mode")}else s(n)}return{loadMap:l}}),n("loadContent",["underscore","jquery.amd"],function(e,t){return e.memoize(function(e){var n=t.Deferred();return t.ajax({method:"GET",url:e}).done(function(e){return n.resolve(e)}),setTimeout(n.resolve,5e3),n.promise()})}),n("PrimaryResources.resx",[],function(){return{data:{AccountNumberMustBeAllNumbers:"Account Number must be all numbers",AccountNumberRequired:"Account Number is required",AccountNumbersDoNotMatch:"Account Numbers do not match.",AmountMustBeAtLeast:"Amount must be at least {{0}}.",AmountMustBeLessThan:"Amount must be less than {{0}}.",PayPalReauthorizeRecurring:"Please reauthorize your PayPal account to make this contribution recurring.",PayPalReauthorize:"Please reauthorize with PayPal to proceed with your contribution.",ApplePayReauthorize:"Please reauthorize with Apple Pay to proceed with your contribution.",ApplePayNotComplete:"Apple Pay is not completed.",ApplePayUnknownError:"There was a problem authorizing your Apple Pay session. Please try again or use another payment method to complete your transaction.",NotAcceptedCreditCardProvider:"This is not an accepted credit card type",BlankIsNotAcceptedCreditCardType:"{{0}} is not an accepted credit card type.",BlankIsRequired:"{{0}} is required.",CardExpiration:"Card Expiration",CardHasExpired:"This card has expired.",ConfirmAccountNumberRequired:"Confirm Account Number is required",CreditCardNumberRequired:"Credit Card Number is required.",DefaultProvinceSelectOption:"- Province -",DefaultSelectOption:"- Select -",DefaultStateSelectOption:"- State -",DefaultCountrySelectOption:"- Country -",DidYouMean:"Did you mean",DidYouMeanQuestionMark:"?",DurationTitle:"Duration",FrequencyTitle:"Frequency",InvalidAmount:"Invalid amount. Please enter a valid amount.",InvalidAmountInfinite:"Invalid amount. Please enter a finite amount.",InvalidAmountMax:"Invalid amount. Contributions must be less than {{0}}.",InvalidAmountMin:"Invalid amount. Contributions must be at least {{0}}.",InvalidCreditCardNumber:"Please enter a valid Card Number",InvalidExpirationDate:"Please enter a valid Expiration Date",InvalidSecurityCode:"Please enter a valid Security Code",InvalidSecurityCodeForBlank:"Invalid Security Code for {{0}}",DateFormat:"MM/DD/YYYY",Optional:"Optional",PayPalRequired:"PayPal account is required.",PleaseEnterValidAmount:"Please enter a valid amount.",PleaseEnterValidBlank:"Please enter a valid {{0}}.",PleaseEnterValidDate:"Please enter a valid date.",PleaseSelectContributionAmount:"Please select a contribution amount.",PreviewEcard:"Preview Ecard",RecurringEndDateTitle:"Recurring Contribution End Date",RoutingNumberMustBeAllNumbers:"Routing Number must be all numbers",RoutingNumberMustBeNineNumbers:"Routing Number must be 9 numbers",SecurityCodeRequired:"Security Code is required.",SelectDurationForRecurring:"Please select a duration for your recurring contribution.",SelectedDurationTitle:"Until {{0}}",SelectFrequencyForRecurring:"Please select a frequency for your recurring contribution.",SpecifyEndDateInFuture:"Please specify an end date in the future to enable recurring contribution.",ThanksForYourSupport:"Thanks for your support!",StoredOnThisDevice:"Your information is now stored on this device.",SignupForAnAccount:"Sign up for an account to get the benefits of {{0}} on all your devices.",SingleClick:"Show your support{{0}}with a single click",AutofillQuickly:"Autofill forms quickly and securely with {{0}}",LogInWithYourEmail:"Log in with your email address",SignUpWithYourEmail:"Sign up with your email address",SignUpNow:"Sign up now",OrBlankUsing:"Or {{0}} using",Facebook:"Facebook",Or:"or",Twitter:"Twitter",AlreadyHaveFastAction:"Already have a {{0}} account?",LogIn:"Log in",DontHaveFastAction:"Don't have a {{0}} account yet?",SignUp:"Sign up",ByClickingAgree:'By clicking "{{0}}," I confirm that I agree with the {{1}}',TermsOfService:"terms of service",And:"and",PrivacyPolicy:"privacy policy.",Not:"Not",ClickHereLogout:"Click here to logout",ForgetThisDevice:"Forget this device",LogOut:"Log Out",TakeFutureAction:"Take future action with a single click.",Close:"Close",UpdateMyFastActionProfile:"Update my {{0}} profile with this information.",RememberMeFastActionNextTime:"Remember me so that I can use {{0}} next time.",ShipTo:"Ship To",YourInformation:"Your Information",DifferentAddress:"Different Address",AddressAutoFillPrompt:"Would you like to auto-fill the address?",AutoFillAddress:"Auto-fill Address",WillIncreaseDonation:"(will increase donation)",CardNumber:"Card Number",Edit:"Edit",ContributionAcceptedIn:"Your contribution will be accepted in",Continue:"Continue",AccountType:"Account Type",Checking:"Checking",Savings:"Savings",RoutingNumber:"Routing Number",WhatsThis:"What's This?",AccountNumber:"Account Number",ConfirmAccountNumber:"Confirm Account Number",EftAuthorizeDisclaimer:"I authorize the use of my bank account as a payment method and authorize this organization to debit my bank account via the Automated Clearing House system to fulfill my donation commitment. This authority will remain in effect until revoked in writing by the account holder.",GiftMembershipRecipientInfoAutoFillPrompt:"Would you like to use your Gift Membership recipient's information?",TributeGiftRecipientInfoAutoFillPrompt:"Would you like to use your Tribute Gift notification recipient's information?",PremiumGiftAmountIncreaseAlert:"Your amount has been increased to reflect the gift you selected.",ContributionAmountTooSmall:"Your amount is lower than the gift you selected. Select another gift or increase your amount.",PleaseSelectGift:"Please select a Gift.",Next:"Next",Back:"Back",ExpirationDate:"Expiration Date",CardExpirationPlaceHolder:"MM / YY",ResidentialAddressWarnPoBox:"We recommend providing a residential address because most recipients do not accept PO Box addresses.",Amount:"Amount",EmailPlaceholder:"email@email.com",TwitterPlaceholder:"@twitterhandle",FacebookPlaceholder:"https://facebook.com/username",PaymentMethod:"Payment Method",CreditCard:"Credit Card",PayPal:"PayPal",BankAccount:"Bank Account",ApplePay:"Apple Pay",Preview:"Preview",Retired:"Retired",Unemployed:"Unemployed",Student:"Student",NotEmployed:"Not Employed",SelfEmployed:"Self Employed",Mr:"Mr.",Ms:"Ms.",Mrs:"Mrs.",Miss:"Miss",Dr:"Dr.",Mx:"Mx.",Accountant:"Accountant",Administrator:"Administrator",Analyst:"Analyst",Architect:"Architect",Artist:"Artist",Attorney:"Attorney",Banker:"Banker",Consultant:"Consultant",Dentist:"Dentist",Designer:"Designer",Director:"Director",Doctor:"Doctor",Editor:"Editor",Engineer:"Engineer",Executive:"Executive",Farmer:"Farmer",Homemaker:"Homemaker",Investor:"Investor",Librarian:"Librarian",Manager:"Manager",Musician:"Musician",Nurse:"Nurse",Owner:"Owner",Partner:"Partner",Pharmacist:"Pharmacist",Photographer:"Photographer",Physician:"Physician",President:"President",Professor:"Professor",Psychologist:"Psychologist",Realtor:"Realtor",Scientist:"Scientist",SocialWorker:"Social Worker",SoftwareEngineer:"Software Engineer",Teacher:"Teacher",Writer:"Writer",EditMyBlankProfile:"Edit my {{0}} Profile",ForBlank:"for {{0}}",TotalContributionAmountWillBe:"My total amount will be",Clear:"Clear",Undo:"Undo",USDollar:"United States Dollar",CanadianDollar:"Canadian Dollar",Euro:"Euro",PoundSterling:"Pound Sterling",HongKongDollar:"Hong Kong Dollar",DanishKrone:"Danish Krone",SwissFranc:"Swiss Franc",AustrialianDollar:"Australian Dollar",AuthorizedThroughApplePay:"You’ve authorized this payment through Apple Pay.",ContributionAmount:"Contribution Amount",CardInformation:"Card Information",AuthorizedThroughPayPal:"You’ve authorized this payment through PayPal.",Account:"Account",PayWithCard:"Pay with Card",PayWithBankAccount:"Pay with Bank Account",PayWithPayPal:"Pay with PayPal",PayPalAuthorizationError:"There was a problem authorizing your PayPal session. Please try again to complete your transaction.",TheForm:"the form",SelectPaymentMethod:"Please select a payment method to proceed.",Required:"required",NoNotMe:"No, this is not me.",ContinueToForm:"Continue to form to enter my information",YesCompleteDonation:"Yes, complete my {{0}} donation",ConfirmContactInformation:"Confirm that your information is correct",ProblemProcessingSubmission:"There was a problem processing your submission. Please try again and contact us for assistance if the problem continues.",ProblemLoadingForm:"There was a problem loading this form. Please refresh your browser and try again. If the problem continues, please contact us for assistance.",ProblemLoadingSecondaryForm:"Thank you for completing your submission.",RecaptchaProblemLoadingSecondaryForm:"Thank you for your submission.",RecaptchaProblemLoadingForm:"There was a complication loading this form. Please refresh your browser and try again. If the problem continues, please contact us for assistance.",Contribution:"Contribution",OneTimeContribution:"One-Time Contribution",RecurringContribution:"Recurring Contribution",ValidUsPhoneNu U.S. phone number",NoSocialLoginExplaination:"We have discontinued Facebook and Twitter log in options in favor of ActionID, our newer, single sign-on for all your accounts across our platform. Log in or sign up using your email address to unlock your {{0}} profile and take future aA"]}}),n("Datepicker.resx",[],function(){return{data:{},supported:["fr-CA","fr","es","es-US","en-AU","en-GB"]}}),n("loadResource",["underscore","jquery.amd","baseUrl","loadContent","PrimaryResources.resx","Datepicker.resx"],function(e,t,n,i,r,a){var o={PrimaryResources:r,Datepicker:a};return n=window.nvtagDebug&&!n?"js/":n,e.memoize(function(r,a){var s=t.Deferred();if(!o.hasOwnProperty(r))return s.resolve(Object.freeze({}));var l=o[r],u=e.clone(l.data),c=a?a.split("-"):[],d=(c[0]||"").toLowerCase(),p=(c[1]||"").toUpperCase();a=d+(p?"-"+p:"");var h;if(!a||!l.supported||!(h=e.contains(l.supported,a))&&!e.contains(l.supported,d))return s.resolve(Object.freeze(u));var f=r+"."+(h?a:d)+".json";return i(n+f).then(function(t){var n=t;if(!e.isObject(t))try{n=JSON.parse(t)}catch(e){console.error("failed to parse resource json:",f,e),n={}}return Object.freeze(e.extend(u,n))})},function(e,t){return(e||"_")+"-"+(t||"_")})}),n("vgs",["ActionTagConfig","loadScript","jquery","telemetry","underscore"],function(e,n,i,r,a){function o(){if(!s())return i.Deferred().resolve(!1);if(window.VGSCollect)return i.Deferred().resolve(!0);if(window.nvtagDebug){var r=i.Deferred();try{t([e.VGS_JS_URL],function(){r.resolve(!0)})}catch(e){console.debug("error loading VGS libraries in debug mode"),r.resolve(!1)}return r.promise()}return n.nocache(e.VGS_JS_URL,15e3).then(function(){if(!window.VGSCollect)return n.nocache(e.VGS_JS_URL,15e3)},function(){if(!window.VGSCollect)return n.nocache(e.VGS_JS_URL,15e3)})}function s(){return!(!e.VGS_JS_URL||!e.VGS_VAULT_ID)}function l(){return!!s()&&!!w().then(l,l)}function c(){if(!l())throw"Cannot create VGS form, VGS is not loaded.";var t=[e.VGS_VAULT_ID,e.VGS_ENVIRONMENT].concat(Array.prototype.slice.call(arguments));return window.VGSCollect.create.apply(window.VGSCollect,t)}function d|Object.keys(t.state)<=0)return r.trackEvent({name:"VGS Request Skipped",properties:n}),o.resolve({});r.trackEvent({name:"VGS Request Start",properties:a.defaults({VgsFormId:t.formId,VgsEnvironment:t.environment,VgsDebugId:t.debugId,VgsVaultId:t.tntId,VgsCname:t.cname},n)});var s=1e3*e.VGS_POST_TIMEOUT_SECONDS;return window.setTimeout(function(){"pending"===o.state()&&(r.trackEvent({name:"VGS Request Result",properties:a.defaults({Status:"abandoned",WaitTimeMs:s},n)}),o.reject("No response from VGS"))},s),t.submit("/post",{},function(e,t){var i=parseInt(e,10),s=i&&i>=200&&i<400,l=t.json||t,u=a.keys(l);r.trackEvent({name:"VGS Request Result",properties:a.defaults({Status:s?"success":"failure",VgsStatus:e,VgsProps:u},n)}),s?o.resolve(l):o.reject("Failed with status "+e)},function(e){r.trackEvent({name:"VGS Request Result",properties:a.defaults({Status:"failure",VgsErrors:e},n)}),o.rejeclLoaded:u,isLoaded:l,createForm:c,submitForm:d,isConfigured:s}}),n("recaptcha",["ActionTagConfig","loadScript","jquery","telemetry","underscore"],function(e,t,n,i,r){function a(){if(window.grecaptcha)return n.Deferred().resolve(!0);try{return t(p,5e3).then(function(){return!!window.grecaptcha},function(){return!!window.grecaptcha})}catch(e){return n.Deferred().resolve(!!window.grecaptcha)}}function o(){var e=n.Deferred();return a().then(function(t){if(!t)return e.reject("grecaptcha init failed to fetch script");if(window.grecaptcha)try{return window.grecaptcha.ready(function(){e.resolve(window.grecaptcha)})}catch(t){return e.reject(t)}e.reject("window.grecaptcha not defined after fetching script")},e.reject),e.promise()}function s(e){return function(t){if(e.captcha.deferredResponse){var n=0;e.captcha.startExecute&&(n=Date.now()-e.captcha.startExecute,e.captcha.startExecute=null),e.captcha.deferredResponse.resolve({token:t,elapsedMs:n}),e.captcha.deferredResponse=null}}}function l(e){return function(t){e.captcha.deferredResponse&&(e.captcha.deferredResponse)}}function u(e){var t=n.Defecontainer")[0];e.captcha.widgetId=n.render(i,{sitekey:e.captcha.publicKey,size:"i a.resolve({});o().then(function(n){var o=n.getResponse(e.captcha.widgetId);if(o)return a.resolve({token:o,elapsedMs:0});e.captcha.deferredResponse=a,e.captcha.startExecute=Date.now(),a.then(function(){i.trackEvent({name:"reCAPTCHA execution complete",properties:r.defaults({Status:"success"},t)})},function(){i.trackEven:r.defaults({Status:"failure"},t)})}),n.execute(e.captcha.widgetId);try{window.nvtag.track(e.model.get("type"),"Captcha Call","Google Recaptcha v2 Invisible",null,e),i.trackEvent({name:"reCAPTCHA executed",properties:r.defaults({CaptchaPublicKey:e.captcha.publicKey},t)})}catch(e){}})}).fail(function(e){a.reject(e)}),a.promise()):a.reject("not ready")}var p="https://www.google.com/recaptcha/api.js?render=explicit";return{init:a,initForm:u,reset:c,getResponse:d}});var r,a=window.crypto||window.msCrypto;if(a&&a.getRandomValues){var o=new Uint8Array(16);r=function(){return a.getRandomValues(o),o}}if(!r){var s=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,functionturn t}function n(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function i(){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,n(t)}for(var r=[],a={},o=0;o<256;o++)r[o]=(o+256).toString(16).substr(1),a[r[o]]=o;var s=i;return s.v4=i,s.parse=t,s.unparse=n,s}),n("ContributionAmountModel",["backbone","accounting"],function(e,t){return e.Model.extend({__name__:"ContributionAmount",toFloat:function(e,n){return parseFloat(t.toFixed(e,n))},setBaseAmount:function(e){"number"!=typeof e&&(e=this.toFloat(e,2)),this.updateModel(e,this.get("coverCostEnabled"))},setCoverCostState:function(e){this.updateModel(this.get("baseAmount"),!!e)},setProposedUpsellState:function(e,t){t=+t||0,e=+e||0,this.set({proposedOneTimeAmount:t,proposedRecurringAmount:e,proposedTotalAmount:t+e})a(e,t);this.set({baseAmount:e,coverCostEnabled:t,coverCost:n,totalAmount:e+n})},computeFormula:function(e,t){if(e=e||0,!this.formulaArgs||!t||e<=0)return 0;var n=this.formulaArgs.percentage||0;0!==n&&(n/=100);var i=this.formulaArgs.amount||0,r=n*e+i;e+r>this.maxAmount&&(r=this.maxAmount-e);var a=this.toFloat(r,2);return a>0?a:0},initialize:function(e){this.maxAmount=e.maxValue,this.formulaArgs=e.coverCostFormula,this.updateModel(e.baseAmount,e.coverCostEnabled)}})}),n("ContributionRecurrenceModel",["backbone"],function(e){function t(e){return n.isNumber(e)||i.test(e)}var n=e._,i=/\d+/;return e.Model.extend({__name__:"C(e){this.allowOneTimeFrequency=e.allowOneTimeFrequenclue").filter().map(=n.indexBy(e.fr"),this.updateModel(e.isRecurring,e.frequency)},s{if(t(e)&&n.contains(this.frequencyOptions,Number(e))){this.updateModel(this.get("isRecurring"),e)}},getFrequencyDisplayName:function(){var e=this.get("frequency");return this.get("isRecurring")&&this.frequencyLookup[e]&&this.frequencyLookup[e].display||null},setIsRecurring:function(e){var t=this.get("frequency");this.allowOneTimeFrequency&&!e&&(t=0),this.updateModel(e,t)},updateModel:function(e,t){t=Number(t),this.allowOneTimeFrequency&&(e=t>0),this.set({isRecurring:!!e,frequency:t})}})}),n("aliasHelper",["underscore","FormDefUtils"],function(e,t){function n(e){return e.indexOf("StateProvince")>=0}function i(i){var r=[],a=e.reduce(t.fields(i.form_elements),function(e,t){return t.alias&&(e[t.alias]=e[t.alias]||[],e[t.alias].indexOf(t.name)<0&&(e[t.alias].push(t.name),r.push(t.name))),e},{}),o=e.keys(a);e.forEach(o,function(e){r.indexOf(e)>=0&&(console.error("removing invalid alias list",e),delete a[e])});var s=e.reduce(e.keys(a),function(t,n){return e.forEach(a[n],function(e){t[e]=n}),t},{}),l=[],u=[];return e.forOwn(a,function(t,i){var r=[].concat(t);r.push(i),e.any(r,n)?u.push(r):l.push(r)}),{primaryToSecondary:a,secondaryToPrimary:s,aliasGroups:l,aliasGroupsDeferred:u}}function r(t,n){var i=t.val();e.forEach(n,function(e){e.name!==t.name&&e.setval(i)})}function a(t,n,i,a){var o=function(){return e.map(t,function(e){return i?n.getFieldNoCache(e):n.getField(e)})},s=o()r(function(){s=o(),r(l,s)}):r(l,s))}function o(t,n){e.forEach(t.aliasGroups,function(e){a(e,n,!1)}),e.forEach(t.aliasGroupsDeferred,function(e){a(e,n,!0,!0)})}function s(t,n){e.forOwn(t.primaryToSecondary,function(t,i){if(e.has(n,i)){var r=n[i];e.forEach(t,function(e){n[e]=r})}})}function l(t,n){var i=t.secondaryToPrimary;e.forEach(e.keys(n),function(e){var t=i[e];t&&(n[t]=n[e],delete n[e])})}return{extractAliasMapping:i,syncAliasFields:o,fixAliasSubmissionValues:l,fixAliasFillValues:s}}),n("FormOptimizationExperimentsLogic",["underscore","FormDefUtils"],function(e,t){return[{experimentName:"Covered Costs Default Setting",variants:[{variantName:"Treatment (Default Checked)",treatmentFunction:function(e){var n=t.find_field(e.form_elements,"CoverCostsAmount",!1);n&&(n.default_value=!0)}},{variantName:"Control (Default Unchecked)",treatmentFunction:function(){}}],eligibilityCheck:function(e,n){if(n.hasOwnProperty("covercosts"))return!1;var i=t.find_field(e.form_elements,"CoverCostsAmount",!1);return!!i&&!i.default_value}},{experimentName:"Other Amount Placeholder Text",variants:[{variantName:"Treatment (Other Amount)",treatmentFunction:function(n){var i=t.find_field(n.form_elements,"SelectAmount",!1),r=i&&i.frequencyOptions,a=i&&i.options&&i.options.find(function(e){return e.other}),o=r?e.compact(e.map(r,function(e){return e.options&&e.options.options&&e.options.options.find(function(e){return e.other})})):[];a&&(a.otherAmountPlaceholderOverride="Other Amount"),e.map(o,function(e){e.otherAmountPlaceholderOverride="Other Amount"})}},{variantName:"Control ($0.00)",treatmentFunction:function(){}}],eligibilityCheck:function(n,i){if(i.hasOwnProperty("am")||i.hasOwnProperty("amtopts")||i.hasOwnProperty("recurringam")||i.hasOwnProperty("recurringamtopts"))return!1;if(n.autoFastAction&&i.hasOwnProperty("tknfa"))return!1;if(i.hasOwnProperty("is_optimized_ask"))return!1;var r=t.find_field(n.form_elements,"ProcessingCurrency",!1);if(!r||"USD"!==r.value||r.options)return!1;var a=t.find_field(n.form_elements,"SelectAmount",!1),o=a&&a.frequencyOptions,s=a&&a.options&&a.options.find(function(e){return e.other}),l=o?e.compact(e.map(o,function(e){return e.options&&e.options.options&&e.options.options.find(function(e){return e.other})})):[];return!(!s&&0===l.length)}},{experimentName:"Employer Occupati[{variantName:"Treatment (Retired Checkbox)",treatmentFunction:function(e){var n={name:"EmployerOccupationIsRetiredCheckbox",type:"employer_occupation_retired_checkbox",title:"I am retired",required:!1},i=e.metadata.hasOwnProperty("layoutStyle")&&"multistep"===e.metadata.layoutStyle;t.add_field_to_fieldset(e,n,i?"ContactInformation":"EmployerInformation")}},{variantName:"Control (No Checkbox)",treatmentFunction:function(){}}],eligibilityCheck:function(e,n){form_elements,"Occupation",!1);return!(!i||!r)&&(!n.hasOwnProperty("ep")&&!n.hasOwnProperty("oc"))}},{experimentName:"Eligibility Checkbox Default Setting",variants:[{variantName:"Treatment (Default Checked)",treatmentFunction:function(e){var n=t.find_field(e.form_elements,"ConfirmedEligibililty",!1);n&&(n.default_value=!0)}},{variantName:"Control (Default Unchecked)",treatmentFunction:function(){}}],eligibilityCheck:function(e,n){if(n.hasOwnProperty("confirmedeligibility"))return!1;var i=t.find_field(e.form_elements,"ConfirmedEligibililty",!1);return!!i&&!i.default_value}}]}),n("FormOptimizationExperiments",["underscore","telemetry","FormOptimii(t,n){if(!t.hasOwnProperty("experiment"))return!1;if(n.kiosk)return!1;if(t.metadata&&t.metadata.languageCode&&"en-US"!==t.metadata.languageCode)return!1;if("ContributionForm"!==t.type)return!1;if(!t.experiment.hasOwnProperty("variants"))return!1;var i=0;return e.each(t.experiment.variants,function(e){i+=e.probability}),1===(i=Math.round(1e4*i)/1e4)}function r(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i];if((n+=r.probability)>=t)return r}}function a(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(r.variantName===n)return r}return t.trackTrace({message:"FormOptimizationExperiments.getOverrideVariant: Could not choose override variant\n\tOverrideVariantName querystring value: "+n+"\n\tVariants: {"+e.join(", ")+"}"}),null}function o(e,o){try{if(!i(e,o))return;var s=n.find(function(t){return t.experimentName===e.experiment.experimentName});if(!s)return void t.trackException({message:"Error parsing experiment info. ActionTag does not recognize experimentName "+e.experiment.experimentName+" for experimentId "+e.experiment.experimentId});if(devariantname,u=l?a(e.experiment.variants,o.overridevariantname):r(e.experiment.variants,Math.random());if(!u)return void t.trackTrace({message:"Error choosing experiment variant\n\tExperiment ID: "+e.experiment.experimentId});t.trackEvent({name:"Experiment Variant Chosen",properties:{FormId:e.formId,ChosenVariantName:u.name,FormVersion:e.formVersion,VariantChoiceOverride:l}});var c=s.variants.find(function(e){return e.variantName===u.variantName});if(!c)return void t.trackException({message:"Error parsing experiment info. ActionTag does not recognize variantName "+u.variantName+"for experimentId "+e.experiment.experimetntId+" and variantId  "+u.variantId});c.treatmentFunction(e),e.experiment.chosenVariantId=u.variantId}catch(e){t.trackException({exception:e,properties:{ErrorType:"Form Optimization Experiment Error"}})}}return{treatFormDef:o}}),n("NVFormView",["backbone.subviews","doublebracket","FormElements","NVTagCallbacks","FormDefUtils","accounting","errorviews","templates","requestAutocomplete","deviceInfo","timing","currency","PageAlertView","Map","loadResource","vgs","recaptcha","ActionTagConfig","databag_config","ApplePay","uuid","ContributionAmountModel","ContributionRecurrenceModel","aliasHelper","telemetry","FormOptimizationExperiments","matchPro","cookieConsentConfiguration"],function(e,t,n,i,r,a,o,s,l,u,c,d,p,h,f,m,g,v,y,b,w,_,x,C,k,A,E,T){function P(e){e.focus(),u.mobile&&setTimeout(function(){e.focus()},250)}function S(e){return!I(e)||M(e.field.el).is(":visible")}function I(e){return!!(e&&e.field&&e.field.el)}var D,M=e.$,N=e._;return e.View.extend({__name__:"NVFormView",className:"at-form",defaults:{},template:M.noop,initialize:function(){N.bindinition","onResize","subviewsWithName","renderFeedback","clearFeedback","isFirstForm","fill","query_string_fill_dict","get_fill_dict","render_fill_dict","quick","clear","val","setval","loadResources","vgsStateChange","getVgsValues","getRecaptchaValues","rer.add(this),e.Subviews.add(this),this.thowNotMe=!1,this.options.filled=!1,this.options.quick_complete=!1,this.options.autoSubmitComplete=!1,this.listenTo(T,"change:functionalAccepted",this.fill),this.getField=N.memoize(this.getFieldNoCache),this.contactMode="person",this.vgs={form:null,state:{}},this.captcha={publicKey:null,bypass:null},D=[];var t={index:0,view:null};this.step=function(e,n){return N.isUndefined(e)?t:N.isObject(e)?(t=e,this):N.isUndefined(n)?t[e]:(t[e]=n,this)},this.fillCounter=0,this.hasRenderedSecondaryStep=!1,c.start("Form",this.model.id),c.start("Downloading",this.model.id);var n=this.model.fetch();n.then(this.loadResources).then(this.processDefinition),n.fail(function(e){console.error("fetching error",e),k.trackException(e,{ErrorType:"Fetch Error",FormUrl:this.url})}),N.defer(N.bind(function(){var e=M('<div class="ngp-spinner" style="width: 100%; height: 200px;"></div>');this.$el.append(e),this.parent.spin(e),n.always(function(){e.remove()})},this));var i=!1;try{i=!!this.options.form_definition.metadata.hideCompletedFormSections}catch(e){}this.isFirstForm()&&(i=!1),this.options.smart=i;var r=this;this.addDataToForm=N.once(function(){r.$("form").data("view",r)})},loadResources:function(e){e.resources=e.resources||{},e.resources.fill=function(e){var n=Array.prototype.slice.call(arguments,1);return t.simpleFill(e,n)};var n=e.metadata?e.metadata.languageCode:null;return e.resources.sort=function(e){return n?e.sort(function(e,t){return e.localeCompare(t,n)}):e.sort()},f("PrimaryResources",n).then(function(t){return e.resources.PrimaryResources=t,e})},processDefinition:function(e){c.end("Downloading",this.mel.id);var t=this.options.form_definition=r.fix(e,this.parent.options.query_string,this.parent.options.fast_action_nologin);A.treatFormDef(t,this.parent.options.query_string);var n=window.formview=this;t.metadata&&t.metadata.captcha&&t.metadata.captcha.key&&(n.captcha.publicKey=t.metadata.captcha.key,n.captcha.bypass=t.metadata.captcha.secureToken,g.init()),t.metadata&&t.metadata.matchProPublicKey&&(E.configure(t.metadata.matchProPublicKey),E.init());var o=0,l=[],p=N.compact([this.parent.options.profile_databag,this.parent.options.recipient_databag,this.parent.options.fast_action_databag]);this.formSessionId=w.v4();var h=r.find_field(t.form_elements,"OrganizationToggle");this.updateContactMode(!h||!0!==h.default_value&&!0!==h.value?"person":"org");var y=r.find_field(t.form_elements,"ProcessingCurrency"),b=y?y.value||y.default_value:t.metadata.currencyCode,T=d.setByCode(b);a.settings.currency.symbol=T.symbol,t.fastAction&&this.parent.$el.addClass("fastaction-enabled"),t.fastActionNologin&&this.model.set({fastActionNologin:!0});var P=t.metadata&&tthis.defaults=N.reduce(r.fields(t.form_elements),function(e,n){return"SelfServicePortal"!==t.type||"Account"!==n.name&&"SecurityCode"!==n.name||(P=!0),N.isUndefined(n.default_value)||(e[n.name]=n.default_value),n.type&&"date"===n.type.toLowerCase()&&(S=!0),e},{}),this.aliases=C.extractAliasMapping(t);var I=[];S&&!u.mobile&&I.push(f("Datepicker",t.metadata&&t.metadata.languageCode).then(function(e){t.resources.Datepicker=e}));var D=P?m.waitUntilLoaded():M.Deferred().resolve(!1);if(window.nvtag.trigger("sync:formdef",this),i("segue",{formviews:this.parent.formviews,thank:!1,calling_tag:this.parent}),"SignupForm"!==t.type&&"above"!==this.parent.options.labels){var R=n.model.get("options");this.parent.options.labels=this.options.labels=R.labels="above",n.model.set("options",R)}this.multistep="AdvocacyForm"!==t.type&&t.metadata.hasOwnProperty("layoutStyle")&&"multistep"===t.metadata.layoutStyle,this.el.id="NV"+t.type+t.formId,this.$("form").attr("id","NVForm"+t.formId),this.userTemplate=this.parent.options.template,t.steps&&this.parent.$el.addClass("faux-multistep-layout"),this.paymentMethodConfiguration=this.getPaymentMethodConfiguration(t);var F=r.find_field(t.form_elements,"SelectAmount"),O=r.find_field(t.form_elements,"SuggestedAmount"),L=r.find_field(t.form_elements,"AdditionalContributionValue"),$=F||O||L||{},V=r.find_field(t.form_elements,"CoverCostsAmount")||{},q=r.find_field(t.form_elements,"PremiumGift")||{},U=null;if(q.gifts&&q.gifts.length){if(q.gifts.some(function(e){return e.hasOwnProperty("no_gift")&&!0===e.no_gift}))U=0;else{U=N.sortBy(q.gifts.map(function(e){return parseFloat(a.toFixed(e.threshold,2))}))[0]}}this.contributionAmountModel=new _({cheapestGiftThreshold:U,maxValue:$.valueMax||999999.99,baseAmount:$.default_value||0,coverCostFormula:V.formula||null,coverCostEnabled:V.default_value||!1}),this.contributionAmountModel.on("change",function(){i("postContributionAmountChanged",{view:n,baseAmount:n.contributionAmountModel.get("baseAmount"),coverCostEnabled:n.contributionAmountModel.get("coverCostEnabled"),coverCost:n.contributionAmountModel.get("coverCost"),totalAmount:n.contributionAmountModel.get("totalAmount")})});var j=r.find_field(t.form_elements,"SelectedFrequency")||{},H=r.find_field(t.form_elements,"IsRecurring")||{};if(this.contributionRecurrenceModel=new x({allowOneTimeFrequency:"radios"===j.type&&N.any(j.options,{value:"0"}),frequency:j.default_value||(j.options&&j.options[0]?j.options[0]:0),isRecurring:"hidden"===H.type&&H.value||H.default_value||!1,frequencyOptions:j.options}),this.paymentMethodConfiguration.shouldFillFromPaymentResponse){var z={name:"PaymentMethodSection",type:"fieldset",children:[{name:"PaymentMethod",type:"payment_method",title:t.resources.PrimaryResources.PaymentMethod,required:!0}]};this.multistep?(z.step=0,t.form_elements.push(z)):(this.lastVisibleFieldsetIndex=N.findIndex(t.form_elements,{name:"ContactInformation"}),-1===this.lastVisibleFieldsetIndex?(this.paymentMethodConfiguration.shouldFillFromPaymentResponse=!1,this.lastVisibleFieldsetIndex=null):t.form_elements.splice(this.lastVisibleFieldsetIndex,0,z))}if(M(window).on("resize",N.debounce(this.onResize,250)),this.multistep){M("body").addClasl.addClass("multistep-layout");var B=N.clone(this.parent.options);this.parentOptions={labels:ror_display:B.inline_error_display},this.parent.options.template="accelerator",this.parent.options.inline_error_display=this.options.inline_error_display="true",this.steps=[],this.totalSteps=N.reduce(t.form_elements,function(e,t){return("tab"===t.type||"fieldset"===t.type||N.isNumber(t.step))&&(o+=N.reduce(t.children,function(e,t){return/^(hidden|markup|submit)$/.test(t.type)?(l.push(t.name),e):++e},0),t.multistep=!0,N.isNumber(t.step)?(t.humanIndex=t.step+1,t.step<this.steps.length?this.steps[t.step].push(t):this.steps.push([t])):(t.humanIndex=this.steps.length+1,this.steps.push([t]))),e},0,this),this.hasHeader=!!N.find(t.form_elements,{name:"HeaderHtml"})}else N.each(t.form_elements,function(e){e.children&&(o+=N.reduce(e.children,function(e,t){return/^(hidden|markup)$/.test(t.type)?(l.push(t.name),e):++e},0))});var W=(this.parent.options.template||"minimal").split("");W[0]=W[0].toUpperCase(),nvtag.track(e.type,"Form Load",W.join(""),o,this),this.parent.options.templates=this.options.templates=N.mapValues(s,function(e){return function(n,i){return n.config=N.extend({},v,n.config||{}),n.resources=N.extend({},t.resources,n.resources||{}),e.call(this,n,i)}}),this.template=this.options.templates.form,window.nvtag.trigger("template",this.parent.options.template);var Y=this;window.nvtag.css&&"pending"===window.nvtag.css.state()&&(Y.$el.hide(),window.nvtag.css.always(function(){Y.$el.show(),Y.onResize()})),window.onbeforeunload=function(){if(n.currentField){var t=N(n.getTouched()).omit(l).filter(function(e){return!N.isNull(e.val())});nvtag.track(e.type,"Form Abandoned",n.currentField.name,t.size(),this)}},N.invoke(p,"on","sync",this.fill),M.when.apply(this,I).done(function(){D.always(function(e){var n;if(e)try{this.vgs.form=m.createForm(this.vgsStateChange)}catch(e){this.vgs.form=null,n=e}if(m.isConfi;k.trackException({exception:i,properties:{ErrorType:"VGS Exception",FormSessionId:this.formSessionId,SecondaryAsk:!!this.options.last_form_state}});return this.$el.html(this.options.last_form_state?this.options.form_definition.resources.PrimaryResources.ProblemLoadingSecondaryForm:this.options.form_definition.resources.PrimaryResources.ProblemLoadingForm),c.end("Processing",this.model.id),this}if(c.end("Processing",this.model.id),this.startTime=N.now(),this.render(),t["Submit now, I'm super cereal"])return this.parent.postBack(void 0,void 0,void 0,"superCereal");if(window.FB&&window.FB.XFBML&&window.FB.XFBML.parse(this.el),window.twttr&&window.twttr.widgets){var r=window.location,a=r.protocol+"//"+r.hostname+r.pathname;this.$('a[href="https://twitter.com/share"]').attr("data-url",a),window.twttr.widgets.load(this.el)}this.paymentMethodConfiguration.shouldFillFromPaymentResponse&&(this.on("paypalAuthorized applePayAuthorized",this.handlePaymentAuthorization),this.on("postPaymentMethodChanged",this.handlePostPaymentMethodChanged))}.bind(this))}.bind(this))},recreateVgsForm:function(e){e&&this.vgs.form&&e.formId!==this.vgs.form.formId||(this.vgs.form=m.createForm(this.vgsStateChange),this.trigger("recreateVgsElement",this.vgs.form))},getPaymentMethodConfiguration:function(e){if("ContributionForm"!==e.type&&"EventForm"!==e.type&&"SelfServicePortal"!==e.type)return{};var t=e.metadata.accepteon(e){return"American;e.metadata.payPalIntegrationType&&"PayPalCommercePlatform"===e.metadata.payPalIntegrationType&&(r="PayPalCommercePlatform");var a=!!e.metadata.isEftEnabled,o=this.options.query_string&&this.options.query_string.kiosk,s=!!e.metadata.appleMerchantIdentifier&&t&&!o&&b.enabledOnBrowser(e.metadata.tenantUri),l=[];return i&&l.push("paypal"),a&&l.push("eft"),s&&l.push("applepay"),t||l.length||(t=!alEnabled:i,isCcEnabled:t,isEftEnabled:a,eftLegalDisclaimer:e.metadata.eftLegalDisclaimer,isApplePayEnabled:s,acceptedPaymentMethods:l,showPaymentMethodButtons:l.length>1||i||s,shouldFillFromPaymentResponse:"ContributionForm"===this.options.form_definition.type&&(i||s),isInstantPaymentProcessingEnabled:!!this.options.form_definition.metadata.isInstantPaymentProcessingEnabled,payPalIntegrationType:r}},handlePostPaymentMethodChanged:function(e){this.lastVisibleFieldsetIndex=null,this.selectedPaymentMethod=e,this.multistep||this.renderStep(this.step("index"));var t=this.val(),n=parseInt(t.PremiumGift)>0.isInstantPaymentProcessingEnabled||n?this.multistep?this.nextStep():this.subviews.ContactInformation&&this.subviews.ContactInformation.focus():this.focusOnNextRequiredValueOrSubmit({submissionType:"instantProcessing"})},handlePaymentAuthorization:.mappedContactFielata.fastActionTokenPool||"Paragon"},setFastActionState:function(e){if("org"!==this.contactMode&&this.model.get("fastAction")){var t=this.subviews&&this.subviews.PaymentInformation;if(t){var n=this.getAcceptedTokenPool(),i=e.getCardForPool(n);i?t.changeReadonly(!0,i.ccLastFour,i.ccType,n):t.changeReadonly(!1)}}},iFrameAddMultistepToBody:function(e){var t=document.querySelectorAll("iframe.meter-frame");t&&0!==t.length&&N.each(t,function(t){t.contentDocument.body.classList.add(e)})},updateContactMode:function(e){if(e){e=e.toLowerCase();var t=this.contactMode;if("person"===e||"org"===e){this.aliases&&C.syncAliasFields(this.aliases,this);var n="at-mode-"+e;this.$el.toggleClass("at-mode-"+("org"===e?"person":"org"),!1),this.$el.toggleClass(n,!0);var i=this.subviews&&this.s.changeReadonly(!1),this.contactMode=e,t!==e&&this.trigger("contactModeChanged",e)}}},onResize:function(e){if(this.hasHeader){this.parent.$el[(this.parent.$el.parent().innerWidth()>=960?"add":"remove")+"Class"]("split-layout")}this.trigger("formResized")},vgsStateChange:function(e){this.vgs.state=e,this.trigger("vgsStateChange",e)},getFieldNoCache:function(e){var t=null;return N.each(this.subviews,function(n){return n.subviews&&n.subviews[e]?(t=n.subviews[e],!1):n.name===e?(t=n,!1):void 0}),t},subviewsWithName:function(e){return D.length||(D=N.toArray(this.subviews),N.each(D,function(e){e.subviews&&(D=D.concat(N.toArray(e.subviews)))},this)),N.filter(D,function(t){return t.options.definition&&t.options.definition.name===e})},createSubviewDefaults:function(){return this.subviewDefaults={parent:this,templates:this.options.templates,labels:this.options.labels,formview:this}},subviewOptions:function(e){var t=this.subviewDefaults||this.createSubviewDefaults();return e=N.isNumber(e)?{index:e}:e||{},e=N.extend(e,t),"index"in e&&N.isNumber(e.index)&&(e.definition=this.options.form_definition.form_elements[e.index],e.definition.name&&(e.name=e.definition.name)),e.formview=this,e},subviewCreators:{shipping_information_view:function(e){return new n.shipping_information_view(this.subviewOptions(e))},tribute_gift_view:function(e){return new n.tribute_gift_view(this.subviewOptions(e))},recipient_information_view:function(e){return new n.recipient_information_view(this.subviewOptions(e))},page_alert:function(){return new p({formview:this})},error_console:function(e){return new o.errors_view({formview:this})},hidden_view:function(e){return new n.hidden_view(this.subviewOptions(e))},fieldset_view:function(e){return new n.fieldset_view(this.subviewOptions(e))},advocacy_view:function(e){return new n.advocacy_view(this.subviewOptions(e))},advocacy_tweets_view:function(e){return new n.advocacy_tweets_view(this.subviewOptions(e))},tab_view:function(e){var t=new n.fieldset_view(this.subviewOpkup_view(this.subviewOptions(e))},payment_information_view:function(e){var t=this.form_definition();return new n.payment_information_view(this.subviewOptions({index:e,accepted_cards:this.paymentMethodConfiguration.acceptedCards,post_response:this.options.post_response,previous_payment:this.options.previous_payment,isKioskEnabled:this.options.query_string&&this.options.query_string.kiosk,disableCreditCardAutofill:!!t.metadata.disableCreditCardAutofill}))},contribution_view:function(e){return new n.contribution_view(this.subviewOptions({index:e,post_response:this.options.post_response,multistep:this.multistep}))},tickets_view:function(e){return new ticketing.tickets_view(this.subviewOptions({index:e,ticket_metadata:this.form_definition().metadata.tickets}))},ticketing_view:function(e){return new n.ticketing_view(this.subviewOptions({index:e,ticket_levels:this.form_definition().metadata.tickets,showTicketHolders:!!this.form_definition().metadata.guest_names.displayName,requireTicketHolders:!!this.form_definition().metadata.guest_names.required}))},notme_view:function(e){return new n.notme_view(this.subviewOptions({child:child}))},captcha_view:function(e){return new n.captcha_view(this.subviewOptions(e))},trackingpixel_view:function(e){return new n.trackingpixel_view(this.subviewOptions({index:e,query_string:this.options.query_string}))},event_information_view:function(e){return new )},international_phone_view:function(e){return new n.international_phone_view(this.subviewOptions(e))}},_onSubviewsRendered:function(){console.timeStaRender",{form_definition:this.options.form_definition,options:this.options.parent_tag.options,thank:!1});var e=this.$(".at-steps");if(e.length){var t=this.$(".FastAction");t.length&&e.length?e.insertAfter(t.first()):e.prependTo(this.$("form"))}return this.end(this.$(".FooterHtml")).find(".at-submit").css({visibility:"hidden",position:"absolute"}),e.after(formview.subviews.error_console.$el),this.renderStep(this.step("index")),this.$el.append(this.$(".multistep-footer")),N.defer(this.onResize)),h.loadMap("at-event-map-container"),this.val(),c.end("Render",this.model.id),c.start("Fill",this.model.id),this.fill(),c.end("Fill",this.model.id),c.end("Form",this.ormValuesEvent(),this},renderFeedback:function(){return N(this.subviews).invoke("renderFeedback").flatten().compact().value()},clearFeedback:function(){return this.$(".at-step.active").removeClass("invalid"),N.invoke(this.subviews,"clearFeedback"),this},events:{change:"touch","submit formick .at-step":"gotoStep","click .prevStep":"prevStep","click .nextStep":"nextStep","keypress .prevStep":"prevStep","keypress .nextStep":"nextStep","click label[for]":"focusLocalInput",click:"hideProfileMenuClick",mousemove:"hideProfileMenuHover"},focused:function(e){this.currentField=e.currentTarget},focusLocalInput:function(e){var t=M(e.currentTarget).attr("for");if(t){M('[id="'+t+'"]').length>1&&(e.preventDefault(),this.$("#"+t).focus())}},touch:function(){this.touched=!0},touched:function(){return this.touched},isFirstForm:function(){var e=this.options.parent_tag;return e&&e.formviews&&e.formviews.current===this},form_definition:function(){return this.options.form_definition},multistep:!1,totalSteps:1,steps:[],getStepIndex:function(){return this.step("index")||0},gotoStep:function(e){if(e.preventDefault(),this.multistep){var t=M(e.currentTarget).data("step");if(t>this.step("index"))for(var n=!0;t>this.step("index")&&n;)n=this.nextStep();else t<this.step("index")&&this.setStep(t)}},nextStep:function(e){if(!this.multistep)return!1;if(void 0===e||"click"===e.type||"keypress"===e.type&&(13===e.keyCode||32===e.keyCode)){if(e&&"click"===e.type&&e.shiftKey){var t=this;l(function(e){e.err||t.setval(e.data)})}return this.setStep(this.step("index")+1)}},prevStep:function(e){return!!this.multistep&&("click"===e.type||"keypress"===e.type&&(13===e.keyCode||32===e.keyCode)?this.setStep(this.step("index")-1):void 0)},setStepByName:function(e){var t=0;return N.each(this.steps,function(n,i){N.each(n,function(n){if(n.name===e)return t=i,!1})}),this.renderStep(t)},setStep:function(e){var t=!1;if(this.step("view")){var n=[],i=this.$(".at-steps .active");if(e>this.step("index"))if(N.each(this.step("view"),function(e){n=e.renderFeedback(),n.length&&(this.subviews.error_console.renderFeedback(n),e.$(".error :input").first().focus(),t=!0)},this),t)i.removeClass("valid").addClass("invalid");else{i.addClass("valid").removeClass("invalid");var r=N.findWhere(this.step("view"),{name:"ContributionInformation"});if(r){var a=this.contributionAmountModel.get("totalAmount");a>0&&i.find(".step-title").text(d.format(a))}this.renderStep(e)}else e<this.step("index")&&(t=N.some(this.step("view"),function(e){return e.$("label.error").length||e.errors().length}),t?i.removeClass("valialid").addClass("valid"),this.renderStep(e))}return!t},renderStep:function(e){if(this.multistep?N.isNumber(e)&&e>=0&&(e<this.steps.length?(this.step("index",e),this.step("view",null),e>0&&(this.hasRenderedSecondaryStep=!0),N.each(this.steps,function(e,t){N.each(e,function(e){var n=this.subviews[e.name];if(this.step("index")!==t)n.$el.addClass("hideStep");else{this.step("view")?this.step("view").push(n):this.step("view",[n]),n.$el.removeClass("hideStep"),this.$(".at-stet(t))),n.tab.addClass("active");var i=n.$("label.error :input");i.length?(this.$(".at-step.active").addClass("invalid"),P(i.first())):this.hasRenderedSecondaryStep&&(this.$(".at-step.active").removeClass("invalid"),1===this.step("view").length&&P(n)),"ContributionInformation"===n.name&&this.$(".at-step.active").find(".step-title").text(this.options.form_definition.resources.PrimaryResources.Amount);var r=0===this.step("index"),a=this.step("index")===this.steps.length-1;this.$(".prevStep").toggle(!r),this.$(".nextStep").toggle(!a),
a?this.$(".submitStep").attr("style","display: block; visibility: visible; position: static"):this.$(".submitStep").hide();var o=a&&!!M(".FooterHtml").html().replace(/(&nbsp;|<\/?p>|\n\s*)/gi,"");this.$(".FooterHtml").toggle(o),this.$(".step-prevNext").toggle(!this.paymentMethodConfiguration.shouldFillFromPaymentResponse||!r)}},this)},this),this.trigger("renderStep")):this.$("form").submit()):(N.each(this.subviews,function(e){e.hideOrShow&&e.hideOrShow()}),this.$(".at-submit").toggle(!this.paymentMethodConfiguration.shouldFillFromPaymentResponse||!!this.selectedPaymentMethod)),u.mobile){var t;this.hasRenderedSecondaryStep||this.options.mobileAutofocus&&this.multistep&&!this.options.form_definition.fastAction?t=".at-steps":this.options.mobileAutofocus&&(t=this.options.form_definition.fastAction&&this.$(".FastAction").length>0?".FastAction":".at-fieldset"),t&&this.$(t).get(0).scrollIntoView()}return this},hideProfileMenu:function(){M("#profile-menu").hide(),M(".profile-link").removeClass("menu-open")},hideProfileMenuHover:function(){if(1===M("#profile-menu").length){var e=M(".profile-link.toggle-menu").is(":hover"),t=M("#profile-menu").is(":hover");e||t||this.hideProfileMenu()}},hideProfileMenuClick:function(e){var t=0===M(e.target).closest("#profile-menu").length,n=0===M(e.target).closest(".profile-link").length;t||n||this.hideProfileMenu()},context:function(){var e=this.options.form_definition,n=e.metadata.columns,a={form_elements:[]},o=N(r.fields(e.form_elements)),s=o.find({name:"HeaderHtml"}),l=o.find({name:"MeterHtml"}),u=o.find({name:"FooterHtml"}),c=o.find({name:"submitForm"});return a.resources=e.resources||{},a.form_id=this.model.get("id"),a.columns=n,a.classes="clearfix",a.isOberonAndKeepHeaderFooter="oberon"===this.userTemplate&&!window.exileHeaderAndFooter,a.bannerImagePath=e.bannerImagePath||null,a.returnToWebsiteUrl=e.returnToWebsiteUrl||null,a.returnToWebsiteName=e.returnToWebsiteName||e.returnToWebsiteUrl||null,a.paidForByDisclaimerText=e.paidForByDisclaimerText||null,a.header_html=s?t.translate(s.markup):null,a.meter_html=l?t.translate(l.markup):null,a.footer_html=u?t.translate(u.markup):null,a.regulationsGovUrl=e.documentId?"https://www.regulations.gov/document/"+e.documentId:null,a.regulationsGovUrlLabel="View this document on Regulations gov",a.regulationsGovDocId=e.documentId||null,a.submit_label=c?c.value:e.submit_label||"Submit",a.poweredby=window.footerHTML||"Powered by <a href='http://www.ngpvan.com/?utm_source=act.myngp.com&utm_medium=poweredby&utm_campaign=ngpnext'>NGP VAN</a>",a.title=this.model.get("title"),a.hideTitle=this.model.get("hideTitle"),e.steps&&(a.steps=N.map(e.steps,function(t,n){var i={title:t,static:!0,classes:""};return e.currentStep===n?(i.classes="active",e.currentStepSuperSaiyan&&(i.classes+=" warn")):e.currentStep>n&&(i.classes="valid"),i}),a.staticSteps=!0,a.multistep="at-multistep",a.stepWidth=100/e.steps.length-.1+"%",a.stepHover="default"),this.multistep&&(a.multistep=this.multistep?"at-multistep":"",a.steps=this.steps,a.stepWidth=100/this.steps.length-.1+"%",a.liWidth=this.steps.length<4?"150px":"100px",a.hrWidth=100*(this.steps.length-1)+"%",a.stepHover="inherit"),N.each(e.form_elements,function(e,t){if(!1===/^(FooterHtml|HeaderHtml|MeterHtml|hidden)$/.test(e.name))switch(e.name){case"PaymentInformation":a.form_elements.push({type:"payment_information",index:t});break;case"ContributionInformation":a.form_elements.push({type:"contribution",index:t});break;case"TicketInformation":a.form_elements.push({type:"ticketing",index:t});break;case"ConfirmIdentityHtml":a.form_elements.push({type:"notme",index:t});break;case"TrackingPixel":a.tracking_pixel={type:"trackingpixel",index:t};break;case"Column2Placeholder":break;case"FastAction":a.form_elements.unshift({type:e.type,index:t});break;default:a.form_elements.push({type:e.type,index:t})}},this),i("alterContext",{element:"form",context:a}).context},render:function(){if(c.start("Render",this.model.id),this.options.form_definition.errorCode)return this.options.form_definition.status)if(this.options.form_definition.metadata.deactivationRedirectUrl){var e=this.options.form_definition.metadata.deactivationRedirectUrl,t=this.model.get("options").query_string_case_preserved;if(t){var n=M.param(t);if(n&&n.length){var i=e.indexOf("?");e+=i>-1?i===e.length-1?n:"&"+n:"?"+n}}window.location=e}else if(this.options.form_definition.metadata.deactivationHtmlContent)return this.$el.html('<div class="ngp-deactivation-message">'+this.options.form_definition.metadata.deactivationHtmlContent+"</div>"),this;var r=!!this.options.last_form_state;this.options.last_form_state=this.val(),this.$el.html(this.template(this.context())),this.handleResizingIframe(),this.addDataToForm();var a=this;return g.initForm(this).then(function(){},function(e){a.$el.html(r?a.options.form_definition.resources.PrimaryResources.RecaptchaProblemLoadingSecondaryForm:a.options.form_definition.resources.PrimaryResources.RecaptchaProblemLoadingForm);var t=e||new Error("Recaptcha Load Error");k.trackException({exception:t,properties:{ErrorType:"Recaptcha Exception",FormSessionId:this.formSessionId,SecondaryAsk:r}})}),this},handleResizingIframe:function(){function e(){var e=document.querySelectorAll("iframe.meter-frame");e&&0!==e.length&&N.each(e,function(e){new URL(e.src).origin===location.origin&&(e.style.height=e.contentDocument.body.scrollHeight+"px")})}var t=this;window.addEventListener("resize",function(){e()}),window.addEventListener("load",function(){t.multistep&&t.iFrameAddMultistepToBody("multistep-layout"),e()})},errors:function(){return N(this.subviews).chain().invoke("errors").flatten().compact().value()},query_string_fill_dict:function(){var e=N.transform(r.querystring_dict(this.form_definition().form_elements,"queryString"),function(e,t,n){e[n.toLowerCase()]=t});return N.transform(this.options.query_string,function(t,n,i){if(e.hasOwnProperty(i)){var r=e[i];if("EventIsPrivate"===r){if(null!==n&&void 0!==n){var a=n.toString().toLowerCase();"true"===a||"1"===a?n="False":"false"!==a&&"0"!==a||(n="True")}t[r]=n}else t[r]=N.isString(n)&&/^(truet(n):n}})},fill:function(){var e={},n="None",a={},o={qs:this.options.query_string,recipient_databag:this.options.recipient_databag,fast_action_databag:this.options.form_definition.fastAction?this.options.fast_action_databag:null,profile_databag:this.options.profile_databag,last_form_state:this.options.last_form_state};if(o.recipient_databag){var s=o.recipient_databag;s.get("EmailAddress")||s.set("EmailAddress",s.get("HomeEmail")||s.get("WorkEmail"))}try{this.options.smart=!this.isFirstForm()&&this.form_definition().metadata.hideCompletedFormSections}catch(e){console.log(e)}this.options.fillDisabled||(e=this.get_fill_dict(o),n=e._source,a=e._value_sources,delete e._source,delete e._value_sources,this.render_fill_dict(e));var l={},u=r.find_field(this.options.form_definition.form_elements,"Genders"),c=r.find_field(this.options.form"Race"),d=r.find_on.form_elements,"Pronoun");if(u&&(l.genders=u.options),c&&(l.races=c.options),d&&(l.pronouns=d.options),this.setval(e),t.fill(this,e,l),this.options.filled=!0,this.quick(ohis.subviews)&&(this.renderStep(this.step("index")),N.invoke(this.subviewsWithName("TicketInformation"),"changeQuantityOrAdditional")),N.isEmpty(e)||this.trigger("fill",e),this.fillCounter++,k.isEnabled())try{var p=N.mapValues(e,function(e,t){return N.contains(y.allowlist,t)?e:(e||"").toString().replace(/./g,"*")});N.extend(p,{FillCounter:this.fillCounter,FormSessionId:this.formSessionId}),N.forOwn(a,function(e,t){p[t+"_Source"]=e}),k.trackEvent({name:"ActionTag Post-Fill",properties:p})}catch(e){}return i("postFill",{view:this,fill_dict:e,fill_source:n,valueFillSources:a,submit:N.bind(this.options.parent_tag.postBack,this,null,null,!0,"postFillArg")}).view},autoSubmit:function(e){var t=this.options.query_string;return!this.options.form_definition.autoSubmit||this.options.quick_complete||this.options.autoSubmitComplete||this.options.parent_tag.disableAutoSubmit||0!==this.errors().length||t.hasOwnProperty("autosubmitsuppressed")&&"true"===t.autosubmitsuppressed||(this.options.autoSubmitComplete=!0,this.options.parent_tag.postBack(null,e.profile_databag.toJSON(),!0,"autoSubmit")),this},get_fill_dict:function(e){function t(e,n){if(!N.isEmpty(e)){if(N.isFunction(e.getDict))return t(e.getDict(),n);"QueryString"===n&&"Recipient"===a&&(n=a),a=n||a;var i=N.omit(e,function(e){return""===e}),s=N.mapValues(i,function(){return n||"special"});return N.extend(o,s),N.extend(r,i)}}var n=this,r=this.val(),a="None";r.Amount&&"0.00"!==r.Amount&&(r.SelectAmount=r.Amount,r.SuggestedAmount=r.Amount);var o=N.mapValues(r,function(){return"defaults"}),s=this.query_string_fill_dict(),l=["SelectAmount","MarketSource"],u=N.pick(s,l);s=N.omit(s,l),t(u);var c=this.options.query_string&&this.options.query_string.kiosk;n.isFirstForm()&&(c||t(e.recipient_databag,"Recipient"),t(s,"QueryString")),!c&&N.isObject(e.profile_databag)&&"everybody"===n.options.parent_tag.databagShareSetting()&&t(e.profile_databag,"Profile"),!c&&N.isObject(e.fast_action_databag)&&t(e.fast_action_databag,"FastAction"),t(e.last_form_state,"PreviousFormState"),"None"!==a&&nvtag.track(this.model.get("type"),"Form Fill",a,N.size(N.omit(r,"indexed_on","modified_on")),this),C.fixAliasFillValues(this.aliases,r),r.Amount&&"0.00"!==r.Amount&&e.last_form_state.Amount&&(r.SelectAmount=e.last_form_state.Amount,r.SuggestedAmount=e.last_form_state.Amount);var d=this.multistep?this.subviews.ContactInformation:this.subviews.EmployerInformation;return!!d&&!!d.subviews.EmployerOccupationIsRetiredCheckbox&&d.subviews.EmployerOccupationIsRetiredCheckbox.el.firstElementChild.checked&&(r=N.omit(r,["Occupation","Employer"])),r._source=a,r._value_sources=o,i("alterFill",{fill_dict:N.extend({},this.defaults,r),fill_source:a}).fill_dict},render_fill_dict:function(e){return this.isFirstForm()||(this.options.showNotMe=!0),"everybody"!==this.options.parent_tag.databagShareSetting()&&(this.options.showNotMe=!1),N.isEmpty(this.options.post_response)||(e=N.extend(e,this.options.post_response)),N.invoke(this.subviewsWithName("ConfirmIdentityHtml"),"render"),this},quick:function(e){var t=/^true$/i;return["ContributionForm","EventForm"].indexOf(this.options.form_definition.type)<0&&!this.options.quick_complete&&!this.options.autoSubmitComplete&&!this.options.parent_tag.disableAutoSubmit&&this.isFirstForm()&&e.qs&&e.qs.quick&&t.test(e.qs.quick)&&0===this.errors().length&&(this.options.quick_complete=!0,this.options.parent_tag.postBack(null,{},!0,"quickSubmit")),this},getTouched:function(){return N.transform(this.subviews,function(e,t,n){N.isFunction(t.getTouched)?N.extend(e,t.getTouched()):N.isFunction(t.togsValues:functionmentInformation,n=t&&(!t.selectedPaymentMethod||"creditcard"===t.selectedPaymentMethod);return n(function(e){return e.ExpirationDate&&(e.ExpirationMonth=e.ExpirationDate.ExpirationMonth,e.ExpirationYear=e.ExpirationDate.ExpirationYear&&e.ExpirationDate.ExpirationYear.substring(e.ExpirationDate.ExpirationYear.length-2),delete e.ExpirationDate),e}):M.Deferred().resolve({})},getRecaptchaValues:function(e){return this.captcha.bypass?M.Deferred().resolve({CaptchaSecureToken:this.captcha.bypass}):g.getResponse(this,e).then(function(e){return e&&e.token?{CaptchaResponseToken:e.token,CaptchaTimeElaspedMs:e.elapsedMs}:{}})},resetRecaptcha:function(){return delete this.captcha.bypass,g.reset(this)},val:function(e){var t,n=e?null:{};return N.each(this.subviews,function(i){if(t=i.val(),N.isObject(t)){if(e&&t.hasOwnProperty(e))return n=t[e],!1;N.extend(n,t)}else if(null!==t){if(e&&t.hasOwnProperty(e))return n=t[e],!1;n[i.name]=t}}),n},clear:function(e){var t=this.defaults;return this.setval(N.mapValues(this.val(),function(n,i){return"Amount"!==i||e?t.hasOwnProperty(i)&&!e?t[i]:null:n}))},setval:function(e){return N.each(this.subviews,function(t){N.isObject(t.val())?N.isFunction(t.setval)&&t.setval(e):N.each(e,function(e,n){t.field_name()===n&&t.setval(e)})}),this},externalAutoFill:function(){var e={AddressLine1:"",AddressLine2:"",City:"",StateProvince:"",PostalCode:""};return function(t){t=N.pick(t,function(e){return e||N.isNumber(e)}),N(e).keys().any(function(e){return e in t})&&(t=N.defaults(t,e)),C.fixAliasFillValues(this.aliases,t),this.setval(t)}}(),setPageInfoAlert:function(e){var t=this.subviews.page_alert;t&&t.setAlerts(e)},focusOnNextRequiredValueOrSubmit:function(e){e=e||{};for(var t=[],n=this.multistep?this.steps.length:1,r=this.step("index")||0,a=r;a<n;a++){if((t=N.filter(this.errors(),S))&&t.length){var o=N.findWhere(t,I);if(o&&P(o.field.el),e.shouldRenderFeedback)return i("formErrors",{errors:t}),this.renderFeedback();return}a<n-1&&this.nextStep()}this.parent.postBack(null,{},!0,e.submissionType)},getBaseId:function(){return this.el.id},createFormValuesEvent:function(){var e,t=document.querySelector("input[name=OtherAmount]"),n=document.querySelectorAll("input[name=SelectAmount]"),i=[];if(n){for(var r=0;r<n.length-1;r++){i.push(n[r].getAttribute("value"))}if(t&&""!==t.value)i.push(t.value),e=t.value;else{var a=document.querySelector("input[name=SelectAmount]:checked");e=a?a.value:null}window.dataLayer.push({event:"FormValues",defaultValueOptions_array:i,defaultValueOptions_string:i.toString(),defaultValue:e})}}})}),n("NVForm",["backbone","deviceInfo"],function(e,t){e.emulateHTTP=!!t.ie;var n=e.$,i=e._;return e.Model.extend({__name__:"NVForm",urlRoot:function(){var e=this.get("options");return(e.formdefEndpoint||e.endpoint).replace(/(actions)(\.(ngpvan|everyaction)\.com)/,"secure$2")},initialize:function(e){if(this.set("obfuscatedId",this.id,{silent:!0}),this.s3Failed=!1,this.get("options").formUrl){this.url=this.get("options").formUrl;var t=this.url.match(/(.+)[?&]+$/);t&&t.length&&(this.url=t[1])}},fetch:funithCredentials:!0}),this.get("options").query_string_case_preserved&&(t.data=n.param(this.get("options").query_string_case_preserved));var r=n.Deferred(),a=i.bind(function(){this.s3Failed=!0,this.urlRoot=this.get("options").endpoint,e.Model.prototype.fetch.call(this,t).then(r.resolve,r.reject)},this);return e.Model.prototype.fetch.call(this,t).then(r.resolve,this.s3Failed?r.reject:a),r.promise()}})}),n("qs.params",[],function(){return{mveid:"MinivanExportId",dbm:"DbMode",cid:"CommitteeId",plid:"PrintedListId",mvcid:"MinivanCampaignId",vanid:"VanId",midqs:"MailingId",emci:"EmailMessageContentId",emdi:"DistributionId",ceid:"ContactsEmailId",track:"MarketSource",ms:"MarketSource",attr:"AttributedContactIds",source:"SourceCodeName",sourceid:"SourceCodeId",group:"SupporterGroupId",minivan:["DbMode","VanId","CommitteeId","PrintedListId","MinivanCampaignId","MinivanExportId","FirstName","LastName","PaymentMethod","Amount","IsRecurring","SelectedFrequency","SelectedDuration","EndDate"],mmdr:"MobileMessageDistributionRecipientLinkTrackingId"}}),n("urlUtilities",["underscore","parseUrl"],function(e,t){function n(e){return i(t(window.location.pathname+"?"+window.location.search),e,window.location.hash)}functi,a=e.sa[1]);var l={};s&&s.split("&").forEach(function(e){var t=e.split("=");t[0].length>0&&i&&!i.hasOwnProperty(t[0])&&(l[t[0]]=t.length>1?t[1]:null)});var u={};t&&t.substr(1).split("&").forEach(function(e){var t=e.split("u.hasOwnProperty(r)&&(l[r]=u[r]);o.endsWith("/")&&(o=o.substring(0,o.length-1));var c=o+"?",d=!0;for(r in l)l.hasOwnProperty(r)&&(d?d=!1:c+="&",c+=r,null!==l[r]&&(c+="="+l[r]));return n&&(c+=n),c}return{mergeLocationUrlParameters:n,mergeUrlParameters:i}}),n("socialSharePopup",["underscore","parseUrl","urlUtilities"],function(e,t,n){return{popupFunction:function(i,r,a,o,s,l,u,c){if(i.stopPropagation(),e.isUndefined(a)||e.isNull(a))return void console.log("socialSharePopup: No url specified for sharing window.");var d=t(decodeURIComponent(a)),p=t(window.location.pathname+window.location.search),h=c||"Share",f=s||520,m=l||350,g=u||{};o||d.href===p.href||(a=encodeURIComponent(n.mergeUrlParameters(p.href,d.search,window.location.hash,g)));var v=window.screenX,y=window.screenY,b=y+Math.abs(window.innerHeight-m)/2,w=v+Math.abs(window.innerWidth-f)/2,_=r+a,x="width="+f+",height="+m+",top="+b+",left="+w+",toolbar=0,status=0";window.open(_,h,x)}}}),n("socialMediaLogger",["jquery.amd","parseUrl"],function(e,t){return{recordActivity:function(n,i,r,a){var o=t(n),s=o.origin+o.pathname.replace("Foion(){a&&a(),console.log("Activity logging failure.")}})}}}),n("html2canvasWrapper",["jquery","loadScript","assetUrl","deviceInfo"],function(e,n,i,r){function a(){if(!window.html2cahtml2canvas.min.js");if(window.nvtagDebug){var a=e.Deferred();try{t([r],function(e){window.html2canvas=e,a.resolve()})}catch(e){console.log("error loading html2canvas in debug mode"),a.resolve()}return a.promise()}return n(r)}return e.Deferred().resolve().promise()}function o(t){var n=e.Deferred();return e.when(a()).then(function(){function i(t){var n=t.getElementsByTagName("select")[0];if(n.classList.contains("select2-hidden-accessible")){var i=t.getElementsByClassName("select2-selection")[0];i.classList.contains("select2-selection--single")&&(a(t,i.textContent),e(i).hide())}else a(t,e(n).children(":selected")[0].text);e(n).hide()}function a(e,t){var n=document.createElement("input");n.type="text",n.value=t,e.appendChild(n)}var o=t.getBoundingClientRect(),s=window.pageYOffset+o.top,l=document.body,u=document.documentElement,c=1.25*Math.max(l.scrollHeight,l.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),d=Math.max(l.scrollWidth,l.offsetWidth,u.clientWidth,u.scrollWidth,u.offsetWidth,"500"),p={scale:1,scrollX:0,scrollY:s,height:c,width:d,useCORS:!0,onclone:function(e){if("safari"===r.browser||r.mobile){var t=e.getElementsByClassName("at-select");Array.from(t).forEach(i)}},ignoreElements:function(e){return e.classList.contains("FastAction")||e.classList.contains("UpdateMyProfile")||e.classList.contains("flag-container")}};window.html2canvas(t,p).then(function(e){n.resolve(e)})}),n.promise()}return{htmlToCanvas:o}}),n("lightboxHelper",["templates","jquery.amd"],function(e,t){return function(n,i,r,a){function o(){i()}function s(){t(window).off("hashchange",o),window.location.hash=""}function l(){t("#lightbox-modal").remove(),t("body").append(e.generic_modal({prefix:"lightbox",headerText:n.headerText})),"#lightbox-modal"===window.location.hash&&s(),window.location.hash="lightbox-modal";var i=t("#lightbox-modal"),l=i.find("#lightbox-modal-content"),u='<div class="at-lightbox-content-wrapper">'+(n.mainContent||"")+"</div>",c=t('<a href="#" tabindex="3" class="lightbox-close">×</a>'),d=i.find("header"),p=i.find("#lightbox-footer-content"),h='<div class="at at-lightbox-footer-wrapper"><button value="accept" tabindex="1" class="at-submit btn-at btn-at-primary lightbox-accept-button">'+(n.acceptButtonText||"")+'</button><a href="#" tabindex="2" class="lightbox-decline-butto</a><div class="lightbox-footer">'+(n.footerText||"")+"</div></div>";var f=!1;t("button.ligh(){f||(f=!0,r().then(function(e){if(e=e||{},e.IsCancelled)return void(f=!1);s(),e.IsError||a(e)}))}),t("button.lightbox-accept-button").keydown(function(e){9===e.keyCode&&e.shiftKey&&(t("a.lightbox-close").focus(),e.preventDefault())}),t("a.lightbox-close").keydown(function(e){9=us(),e.preventDe"hashchange",o),t("button.lightbox-accept-button").focus()})}return{show:l}}}),n("checkAds",["jquery.amd","telemetry"],function(e,t){return function(){var n=e(".ngp-form");if(n){var i=document.createElement("div");i.innerHTML="&nbsp;",i.className="adsbox",n.append(i),window.setTimeout(function(){t.trackTrace({message:0===i.offsetHeight?"Ad blocker detected":"Ad blocker not detected"}),n.find(".adsbox").remove()},60)}}}),n("NVTagView",["backbone.subviews","spin","doublebracket","errorviews","oberon","trackTransaction","accounting","NVFormView","NVForm","FormError","FormDefUtils","FormElements","NVTagCallbacks","databag","node-querystring","parseUrl","qs.params","socialSharePopup","socialMediaLogger","Map","SignaturePad","vgs","html2canvasWrapper","deviceInfo","databag_config","lightboxHelper","checkAds","aliasHelper","uuid","telemetry","matchPro","cookieConsentConfiguration"],function(e,n,i,r,a,o,s,l,u,c,d,p,h,f,m,g,v,y,b,w,_,x,C,k,A,E,T,P,S,I,D,M){function N(){this.current=null}var R=e.$,F=e._;return x.init(),N.prototype=[],N.prototype.getCurrent=function(){return this.current},N.prototype.setCurrent=function(e){return this.current=e,this},e.View.extend({__name__:"NVTagView",interstitial:!1,events:{"submit form":"postBack","click #rta-link":"closeWindowRedirect"},closeWindowRedirect:function(){var e=this.options.query_string;window.location=e.redirect,setTimeout(function(){window.close()},8e3)},databagShareSetting:function(){return this.options.databagShareSetting},currentFormView:function(){return this.formviews.getCurrent()},bringIntoView:function(){R("html, body").scrollTop(this.$el.offset().top-100)},initialize:function(){F.bindAll(this,"render","segue","segueUrl","postBack","startPostBack","handleLightboxAcceptance"),this.formviews=new N,this.segue(this.options.initial_form_id),this.$el.attr("id","NVTag"+(this.options.index+1)).data("view",this)},segueUrl:function(e){this.options.formUrl=e;var t=g(this.options.formUrl),n=decodeURIComponent(t.pathname.split("/")[1]);return this.segue(g(n).pathname.split("/")[2])},segue:function(e){R("body").removeClass("page-ngp-multistep"),this.$el.removeClass("fastaction-enabled multistep-layout nv-template-oberon nv-template-accelerator split-layout"),null!=this.currentFormView()&&this.currentFormView().multistep&&this.currentFormView().parentOptions&&(this.options=F.extend(this.options,this.currentFormView().parentOptions));var t=new u({id:e,options:this.options}),n=this.newNVFormView(t);if(null!=this.currentFormView()){var i=new f({name:"seguedFromLastFormState"});i.setWithFormState(this.currentFormView().options.last_form_state),n.options.last_form_state=i.getDict(),this.currentFormView().remove()}if(this.formviews.push(n),this.formviews.setCurrent(n),this.options.query_string.redirect){var r="&#x25c0;";naPod|iPad)/)&&(r+="&#xFE0E;"),this.$el.append('<a id="rta-link" class="btn-at btn-at-primary">'+r+" Back to MiniVAN</a>")}return this.$el.append(n.$el),this.render()},newNVFormView:function(e){var t=new l({model:e,parent:this,parent_tag:this,labels:this.options.labels,query_string:this.options.query_string,profile_databag:this.options.profile_databag,recipient_databag:this.options.recipient_databag,fast_action_databag:this.options.fast_action_databag,post_response:this.options.post_response||null,previous_payment:this.options.previous_payment||null,inline_error_display:this.options.inline_error_display,mobileAutofocus:this.options.mobileAutofocus});return t.parent=this,t},spin:function(e){return n&&e.spin(),this},setupShareUrls:function(){var e=this.qs_field_dict,t=this.$("#fbShareBtn"),n=formview.model.get("trackingId");if(t.length){var i=R("#fbShareBtn").attr("data-trackingurl"),r=void 0!==R("#fbShareBtn").attr("data-donotmodifyforembedded");t.click(function(a){a.stopPropagation(),t.prop("disabled",!0),n&&b.recordActivity(formview.form_definition().url.full,n,"Facebook",function(){t.prop("disabled",!1)}),y.popupFunction(a,"https://www.facebook.com/sharer.php?u=",i,r,520,350,e)})}var a=this.$("#twShareBtn");if(a.length){var o=R("#twShareBtn").attr("da).attr("data-text"),l=void 0!==R("#twShareBtn").attr("data-donotmodifyforembedded");a.click(function(t){t.stopPropagation(),a.prop("disabled",!0),n&&b.recordActivity(formview.form_definition().url.full,n,"Twitter",function(){a.prop("disabled",!1)}),s?y.popupFunction(t,"https://twitter.com/intent/tweet?text="+s+"&url=",o,l,550,420,e):y.popupFunction(t,"https://twitter.com/intent/tweet?url=",o,l,520,350,e)})}},render:function(e){if(T(),this.options.offline){var t="<p>Sorry, our form processing system is down right now. Please try again shortly.</p>";return this.options.offline_message&&(t=this.options.offline_message),this.$el.html(t),this}if(void 0!==e)this.$(".ngp-spinner").remove(),this.currentFormView().$el.html('<div class="content thankYou"><section class="contributions">'+e+"</section></div>").show(),this.setupShareUrls();else{if(!this.currentFormView())return;if(this.interstitial){this.$(".thankYou").remove(),this.currentFormView().$el.hide();var n=R('<div id="progress-'+this.currentFormView().cid+'" class="ngp-spinner" style="width: 100%; height: 200px;"></div>');this.$el.append(n),this.spin(n)}else this.$(".ngp-spinner, .thankYou").remove(),this.currentFormView().$el.show()}return this},postBack:function(e,t,n,i){function r(e){I.trackEvent({name:"ActionTag Submit Resolution",properties:F.defaults({Status:"Failed",FailureReason:e},g)}),y.interstitial=!1,y.render()}function a(){return y.interstitial=!0,y.render(),s.getVgsValues(g).then(function(n){n=n||{};var i=Object.keys(n);F.forEach(i,function(e){n[");try{return y.startPostBack(e,s,t,f,m,g)}catch(e){var a=e||new Error("Start PostBack Error");I.trackException({exception:a,properties:F.defaults({ErrorType:"Start PostBack Exception"},g)}),r("Start PostBack Exception")}},function(e){try{var t=e||new Error("VGS Values Error");I.trackException({exception:t,properties:{ErrorType:"VGS Exception",FormSessionId:s.formSessionId,ClientSubmissionId:g.ClientSubmissionId}})}catch(e){}console.error(e),r("VGS Exception")})}function o(){return C.htmlToCanvas(R(s.$el)[0]).then(function(e){var n=e.toDataURL("image/png");t.formCaptureImage=n.replace("data:image/png;base64,","")}).then(a)}F.isObject(e)&&F.isFunction(e.preventDefault)&&e.preventDefault(),i=i||e&&e.type,this.disableAutoSubmit=!0;var s=this.currentFormView();if(s.multistep&&s.getStepIndex()+1!==s.steps.length&&!n)return s.nextStep();this.bringIntoView();var l=s.errors();if(l.length)return h("formErrors",{errors:l}),s.renderFeedback();var u=s.form_definition().form_elements,c=d.fields(u),p=F.filter(c,{type:"hidden"});this.qs_field_dict||(this.qs_field_dict=F.transform(d.querystring_dict(s.form_definition().form_elements,"queryString"),function(e,t,n){e[n.toLowerCase()]=t}),F.extend(this.qs_field_dict,{utm_source:"",utm_medium:"",utm_campaign:"",emci:"",emdi:"",fn:"",mn:"",ln:"",em:"",add1:"",ci:"",st:"",pc:"",hp:"",mp:"",wp:"",ep:"",oc:"",p:"",s:"",smartlinkdata:"",contactdata:""}));var f=F.reduce(p,function(e,t){return""!==t.value&&(e[t.name]=t.value),e},{}),m=this.options.query_string;if(F.each(v,function(e,t){m[t]&&(f[e]=m[t])}),f.MarketSource&&(f.MarketSource=f.MarketSource.substring(0,149)),s.form_definition().designation&&(f.designationName=s.form_definition().designation.name),t=s.options.last_form_state=t?F.merge(s.val(),t):s.val(),t.MatchProCompanyName&&t.MatchProIsFound&&!t.Employer){F.filter(c,{name:"Employer"})&&(t.Employer=t.MatchProCompanyName)}var g={ClientSubmissionId:S.v4(),FormSessionId:s.formSessionId};I.trackEvent({name:"ActionTag Submit Start",properties:F.defaults({FormId:s.form_definition().formId,FormShortCode:s.form_definition().shortCode,FormViewIndex:this.formviews.indexOf(s),SubmissionType:i,FormType:s.form_definition().type,PaymentMethod:t.PaymentMethod},g)captureFormImage?o:a;return function(e){return s.getRecaptchaValues(g).then(function(n){return t=F.merge(t,n),e()},function(e){console.error(e);try{var t=e||new Error("Recaptcha Execution Error");I.trackException({exception:t,properties:{ErrorType:"Recaptcha Exception",FormSessionId:s.formSessionId,ClientSubmissionId:g.ClientSubmissionId,InternalAttempts:s.captcha.internalAttempts}})}catch(e){}r("Recaptcha Exception")})}(b)}catch(e){I.trackException({exception:e,properties:F.defaults({ErrorType:"Unhandled Submission Error"},g)}),console.error(e),r("Unhandled Exception")}},handleLightboxAcceptance:function(e,t){t.contributionAmountModel.setProposedUpsellState(e.response.proposedUpsellRecurringAmount,e.response.proposedUpsellOneTimeAmount);var n=t.subviewsWithName("PaymentMethod");return n?(n=n[0],n.onUpsellAccepted()):R.Deferred().resolve()},startPostBack:function(e,n,r,l,u,c){function d(e,t){p.interstitial=!1,delete p.options.query_string.tknfa,delete r.LightboxResponse,p.render().$('[name="ConfirmationID"]').remove(),n.subviews.error_console.setServerErrors(e).renderFeedback(),t&&!t.captchaReset||n.resetRecaptcha(),F.forEach(e,function(e){I.trackTrace({message:"ActionTag handleErrorResponse",properties:{Details:e.text,Severity:e.severity,FormSessionId:n.formSessionId,ClientSubmissionId:c.ClientSubmissionId}})}),I.trackEvent({name:"ActionTag Submit Resolution",properties:F.defaults({Status:"Failed",FailureReason:t?"Form POST Server Error":"Form POST Failure"},c)})}r=F.omit(r,function(e,t){return 0===t.indexOf("SignaturePad_")}),n.options.form_definition.experiment&&n.options.form_definition.experiment.chosenVariantId&&(r.ExperimentVariantId=n.options.form_definition.experiment.chosenVariantId),n.options.form_definition.formVersion&&(r.FormVersion=n.options.form_definition.formVersion),P.fixAliasSubmissionValues(n.aliases,r),"everybody"===this.databagShareSetting()&&M.areFunctionalCookiesAccepted()&&this.options.profile_databag.setWithFormState(r).save(),r=F.extend(l,r),r.type=n.form_definition().type,delete r.formSessionId,delete r.FormSessionId,r.FormSessionId=n.formSessionId,r.ClientSubmissionId=c.ClientSubmissionId,delete r.BrowserName,r.BrowserName=k.browser,delete r.DeviceType,r.DeviceType=k.deviceType,n.options.profile_databag&&n.options.profile_databag.id&&(r.actionProfileId=n.options.profile_databag.id),null!==r.EndDate&&4===parseInt(r.SelectedDuration,10)||delete r.EndDate,null!==r.HostCommittee&&"null"!==r.HostCommittee||delete r.HostCommittee,"pymentMethod&&(delete r.BankAccountNumber,delete r.BankAccountType,delete r.RoutingNumber),"applepay"!==r.PaymentMethod&&delete r.PaymentResponseDetails,"creditcard"!==r.PaymentMethod&&(delete r.Account,delete r.ExpirationMonth,delete r.ExpirationYear,delete r.SecurityCode,delete r.CreditCardLastFour,delete r.CreditCardLastFourType,delete r.FastActionTokenPool),e?(e.data=r,e.formview=n,h("onSubmit",e)):h("onSubmit",{data:r,formview:n});var p=this;r=function(e){return F.reduce(e,function(e,t,n){return F.isNull(t)?e:(e[n]=F.isString(t)?t:JSON.stringify(t),e)},{})}(r);var f=function(e,a){var o="response"in e?e.response:e,l="page"in e?e.page:{};h("preSegue",{formdef:n.model.toJSON(),postVals:n.val(),response:o,confirmation:l});var c=~~((F.now()-n.startTime)/1e3);if(window.onbeforeunload=null,e.response){var d=e.response;this.options.profile_databag.set(F.extend(d,{Contributio,ContributionDateTime:d.contributionDateTimeStamp,ContributionAmount:s.formatMoney(d.contributionAmount),ContributionType:d.contributionType,ConfirmationID:d.confirmationID,PaymentConfirmationId:d.confirmationID,CC4Digit:d.cc4Digit,CreditCardLast4:d.cc4Digit,CCType:d.ccType,CreditCardType:d.ccType}))}switch(e.page.confirmationActionType){case 1:case"InternalPage":r.autoCreateAccount&&t("fk(r.type,"Form Redirect","Secondary Ask",c,n),this.options.previous_payment={},F.each(["Account","ExpirationMonth","ExpirationYear"],function(e){r[e]&&(this.options.previous_payment[e]=r[e])},this),e.page.confirmationRedirectFormUrl?this.segueUrl(e.page.confirmationRedirectFormUrl):(this.options.formUrl&&(this.options.formUrl=null),this.segue(e.page.confirmationRedirectFormId));break;case 2:case"ExternalPage":nvtag.track(r.type,"Form Redirect","External URL",c,n),window.location=e.page.confirmationRedirectUrl+(window.location.search?(e.page.confirmationRedirectUrl.indexOf("?")>=0?"&":"?")+window.location.search.substring(1):"");break;case 3:case"DisplayContent":nvtag.track(r.type,"Form Redirect","Thank You",c,n);var p,f=n.form_definition();if(p=e&&e.page&&e.page.confirmationPageContent?e.page.confirmationPageContent:f.confirmation&&f.confirmation.page_content?i.translate(f.confirmation.page_content):"",a&&a.responseHtmlFragment){var m=a.responsePlaceholder,g=a.responseHtmlFragment;m&&p.includes(m)?p=p.replace(m,g):p+=g}if(u.redirect){var y=F.reduce(v.monfirmationID:e.response.confirmationID,TrackingID:e.response.trackingId});try{y.SelectedDuration=n.getField("SelectedDuration").def.options[y.SelectedDuration].display,y.SelectedFrequency=n.getField("SelectedFrequency").def.options[y.SelectedFrequency].display}catch(e){}var b=u.redirect+"?"+R.param(y);this.$("#rta-link").attr("href",b);var _=parseInt(u.redirectafter,10);_&&(setTimeout(function(){window.location=b,window.close()},1e3*_),p+="<br>Click the link at the top if you're not returned to MiniVAN in "+_+" seconds.")}if(n.model.set({trackingId:e.response.trackingId}),this.render(p),a&&"RegisteredWithCyberGrants"!==a.status&&D.isConfigured()&&D.setupConfirmationPageWidget(a.matchProDonationIdentifier,a.matchProCompanyId),w.loadMap("at-event-map-container"),window.FB&&window.FB.XFBML&&window.FB.XFBML.parse(this.el),window.twttr&&window.twttr.widgets){var x=window.location,C=x.protocol+"//"+x.hostname+x.pathname;this.$('a[href="https://twitter.com/share"]').attr("data-url",C),window.twttr.widgets.load(this.el)}h("postRender",{form_definition:null,options:this.options,thank:!0});var k={};if("everdatabag.getDict(),e.response);else{k=F.extend({},e.response,r);var A="";k.FirstName&&(A+=k.FirstName),k.MiddleName&&(A&&(A+=" "),A+=k.MiddleName),k.LastName&&(A&&(A+=" "),A+=k.LastName),k.FullName=A}i.fill(this,k),h("segue",{formviews:this.formviews,thank:!0,calling_tag:this});break;case 4:case"Lightbox":var T=this,P=function(){return T.handleLightboxAcceptance(e,n)},S=function(){return T.postBack(null,{LightboxResponse:"accept"},!0,"upsellAccept")},I=function(){return n.contributionAmountModel.setProposedUpsellState(0,0),T.postBack(null,{LightboxResponse:"decline"},!0,"upsellDecline")},M=E(e.page.lightboxData,I,P,S);this.render(),M.show()}};f=F.bind(f,this);var m=function(e){var t="response"in e?e.response:e;t.customerKey&&t.ccInfoKey?(this.options.customerKey=t.customerKey,this.options.ccInfoKey=t.ccInfoKey):t.confirmationID&&(this.options.confirmationID=t.confirmationID),I.trackEvent({name:"ActionTag Submit Resolution",properties:F.defaults({Status:"Success"},c)});var i=n.$('input[type="submit"]').text()||"Contribute",a=0;r.Amount&&(a=Math.round(r.Amount),a=F.isNaN(a)?0:a),nvtag.track(r.type,"Form Submit",i,a,n),o(n,t)};m=F.bind(m,this);var g=function(e){var t=e.endpoint,n={workEmail:e.email,matchProCompanyId:e.matchProCompanyId,submissionTrackingId:e.submissionTrackingId,campaign:e.campaign},i={type:"POST",url:t,data:n,crossDomain:!0,xhrFields:{withCredentials:!0}};return I.trackEvent({name:"ActionTag EmployerMatching Request",properties:c}),R.ajax(i).fail(function(e){console.error("Error during employer matching call",e)})};g=F.bind(g,this);var y=F.bind(function(e){if(I.trackEvent({name:"ActionTag Form Post Response",properties:c}),F.isObject(e)||(e=JSON.parse(e)),this.options.post_response=e.response,e&&e.errors&&e.errors.length>0)d(e.errors,e);else{this.interstitial=!1,m(e);var t=e.employerMatchingInfo;t?g(t).then(function(t){I.trackEvent({name:"ActionTag EmployerMatching Response",properties:c}),f(e,t)},function(t){t=t||new Error("ActionTag EmployerMatching Error"),I.trackException({exception:t,properties:F.defaults({ErrorType:"EmployerMatching Exception"},c)}),f(e)}):f(e)}},this),b=F.bind(function(e,t,i){var r={};this.interstitial=!1,e.responseText&&(r=JSON.parse(e.responseText)),?console.warn("Unfortunately, a timeout occurred."):console.warn(r.message||"Unspecified Error"),I.trackTrace({message:"ActionTag Form POST error",properties:{Details:r.message||"Unspecified Error",Severity:"Critical",TextStatus:t,ErrorThrown:i,FormSessionId:n.formSessionId}}),d([{properties:["Unknown"],severity:"Critical",text:n.options.form_definition.resources.PrimaryResources.ProblemProcessingSubmission}])},this),_={data:r,url:this.options.endpoint,form_id:n.model.id,form_definition:n.form_definition()};n.form_definition().submissionUrl&&(_.url=n.form_definition().submissionUrl,_.form_id=""),_.endpoint=_.url;var x=h("alterPost",_);if(x.data.Account||(this.options.customerKey&&this.options.ccInfoKey?(x.data.CustomerKey=this.options.customerKey,x.data.CcInfoKey=this.options.ccInfoKey):this.options.confirmationID&&(x.data.ConfirmationID=this.options.confirmationID)),I.isEnabled())try{var C=F.map(n.$el.find(":-wvar ttype","value");return F.contains(A.allowlist,t.name)||(t.value=(t.value||"").toString().replace(/./g,"*"),t.redacted=!0),t});C&&C.length&&I.trackEvent({name:"ActionTag Autofill",properties:{Names:F.map(C,"name").join(","),Details:JSON.stringify(C),FormSessionId:n.formSessionId}})}catch(e){}return function(){return I.trackEvent({name:"ActionTag Form Post",properties:c}),a.post_form(x.url,x.form_id,x.data,y,b)}()}})}),"nvtag"in window)throNVTag JS is likely included more than once on this page.";window.nvtag={on:function(){}},t(["config"],function(){t(["backbone","node-querystring","NVTagCallbacks","databag","profile_databag","fast_databag","parseUrl","deviceInfo","timing","loadCSS","baseUrl","FormDefUtils","cookieConsentConfiguration","googleAnalyticsHelper","modal","jquery.timepicker"],function(e,n,i,r,a,o,s,l,u,c,d,p,h,f){function m(e,t,n,i,r){var a=r.options||{},o={eventCategory:e,eventAction:t,eventLabel:void 0,eventValue:void 0},s=a.form_definition;if(s){o.activistCodes=s.metadata.activistCodes,o.sourceCodeId=s.metadata.sourceCodeId,o.tenantUri=s.metadata.tenantUri,o.formName=s.name;var l=s.url.full.split("/");o.formShortCode=l[l.length-1];var u=r.paymentMethodConfiguration&&r.paymentMethodConfiguration.acceptedPaymentMethods;u&&u.length&&(o.acceptedPaymentTypes=u);var c=p.find_field(s.form_elements,"ProcessingCurrency");c&&("hidden"===c.type?o.processingCurrencies=[c.value]:c.options&&(o.processingCurrencies=c.options.filter(function(e){return!!e.value}).map(function(e){return e.value}))),o.campaignId=s.metadata.campaignId,o.campaignName=s.metadata.campaignName}var d=a.query_string;return d&&d.sourceid&&parseInt(d.sourceid)>=0&&(o.sourceCodeId=parseInt(d.sourceid)),w.isString(n)&&(o.eventLabel=n||"NO_LABEL",w.isFinite(i)&&i===~~i&&(o.eventValue=i)),f.shouldUseGtag()?window.gtag("event","FormEvent",o):(o.event="FormEvent",window.dataLayer.push(o)),o}function g(e){return w.isBoolean(e)?e:!!w.isString(e)&&k.truth.test(e)}function v(){b(".ngp-form").each(y)}function y(){var e=bocessed){n.noCss&&"false"!==n.noCss||(window.nvtagDebug?(window.nvtag.css=c("sass/at.css"),c("sass/extra.css")):(window.nvtag.css=c(d+"at.min.css"),c(d+"extra.min.css"),n.customCdata("alreadyProcessed",!0);var i=n.endpoint||"https://api.myngp.com";-1===i.indexOf("cwpapi")u=decodeURIComponent(l.pathname.split("/")[1]),p=s(u);r=p.pathname.split("/")[2]}_.kiosk||"everybody"!==n.databag||a.checkAllowListAndFetch(),t(["NVTagView"],function(t){window.nvtag.NVTagView=t,window.nvtag.tags.push(new t({el:e,query_string:_,query_string_case_preserved:x,index:window.nvtag.tags.length,endpoint:i,raw_endpoint:n.endpoint,recipient_databag:C,profile_databag:a,fast_action_databag:o,labels:"inline"===n.labels?"placeholder":n.labels,options:n.options,initial_form_id:r,databagShareSetting:!_.kiosk&&n.databag||"nobody",template:n.template||"minimal",style:n.style||"cloudfront",resource_path:(n.resourcePath||"//d1aqhv4sn5kxtx.cloudfront.net").replace(k.trailingSlash,""),inline_error_display:"true",fast_action_nologin:!_.kiosk&&g(n.fastactionNologin),formdefEndpoint:n.formdefEndpoint||null,formUrl:n.formUrl||null,oberonUrl:u||null,mobileAutofocus:!!n.mobileAutofocus}))})}}u.start("Total");var b=e.$,w=e._;b.ajaxSetup({cache:!l.ie}),window.dataLayer=window.hasOwnProperty("dataLayer")?window.dataLayer:[],window._gaq=window._gaq||[],window.nvtag=w.extend(window.nvtag,{ua:l,tags:[],track:m,process:function(e){return b(e).each(y)},data:{profile:a,fast:o},acceptFunctionalCookies:function(){h.acceptFunctionalCookies()},acceptPerformanceCookies:function(){h.acceptPerformanceCookies()},revokeFunctionalCookies:function(){h.revokeFunctionalCookies()},revokePerformanceCookies:function(){h.revokePerformanceCookies()}},e.Events),t(["FastAction"],function(e){window.nvtag_plugins=window.nvtag_plugins||[],window.nvtag_plugins.push(e)});var _=w.transform(n.parse(window.location.search.substring(1)),function(e,t,n){e[n.toLowerCase()]=t}),x=n.parse(window.location.search.substring(1)),C=null;_&&_.recipientid&&(C=new r({name:"nvtag",id:_.recipientid}),C.fetch(),window.nvtag.data.recipient=C);var k={localhost:/^https?:\/\/localhost/i,notSSL:/^http:/i,truth:/^true$/i,trailingSlash:/\/+$/},A="/v2/Forms/";return v(),setTimeout(function(){b(v)}),nvtag})}),n("nvtag",function(){})}();
/*! ActionTag v2.6.2 Copyright (c) 2024 NGP VAN | Built: 2024-01-30 10:36:23 EST | Commit: d2fcfeda4849714a7fd16e9c46864a86643c4392| Type: prod_cdn3:prod */
//# sourceMappingURL=at.js.map