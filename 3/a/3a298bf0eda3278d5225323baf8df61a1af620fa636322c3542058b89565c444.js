import{s as ve}from"../chunks/sessionStorageHelpers.fwWJH6-Z.js";import{s as me,e as de,i as B,d as h,b as fe,o as $e,M as pe,u as re,f as v,a as L,h as g,j as P,c as U,B as W,k as d,D as ge,C as f,m as ue,S as Ne,v as ne,w as ie,x as ce,r as Se,t as De,p as Me,q as qe,z as Q,A as G,E as je,J as Ve,n as Le}from"../chunks/scheduler.6hyDou9G.js";import{S as _e,i as he,t as S,g as Pe,b as q,d as Te,c as le,a as oe,m as se,e as ae}from"../chunks/index.hQc_5nPF.js";import{M as Ue}from"../chunks/MetaTags.rwrjvebb.js";import{a as Z}from"../chunks/videoPlayerStore.LmlbXoqk.js";import{C as Ie,N as He}from"../chunks/NewCreateProfile.b_VCkwXH.js";import{C as Be}from"../chunks/close.S1dc418M.js";import{p as Oe}from"../chunks/portal.cITka6gZ.js";import{b as Re}from"../chunks/index.LS8aRcGI.js";import{f as Ae}from"../chunks/notificationStore.Dik4qyms.js";import{s as te}from"../chunks/shouldDisableLayoutStore.oFfNTSHO.js";import{a as Fe,g as ye}from"../chunks/entry.Cu783cqS.js";import{P as Qe}from"../chunks/profile-person.QeCRLCwC.js";import{n as we,u as Ge}from"../chunks/NotificationToastStore.RDWzXZY_.js";import{s as ee}from"../chunks/convivaHelper.vWK4BitH.js";const Je=async o=>{const e=await o.parent(),l=e.client,t=e.profileEmail;return ve("layoutLocation",""),ve("portal_code",""),{client:l,profileEmail:t}},Dt=Object.freeze(Object.defineProperty({__proto__:null,load:Je},Symbol.toStringTag,{value:"Module"})),Ke=o=>({}),Ee=o=>({}),Ye=o=>({}),ke=o=>({}),We=o=>({}),xe=o=>({}),Xe=o=>({}),Ce=function ze(o){let e,l,t,s,a,r,p=`<img class="close bg-slate-700 hover:rounded-full hover:bg-slate-500 svelte-zlzlqo" src="${Be}" height="50" width="50" alt="close"/>`,n,m,b,T,k,$,u,D,w,c,J,K;const I=o[7].title,x=re(I,o,o[6],Ce),A=o[7].body,y=re(A,o,o[6],xe),Y=o[7]["dismiss-button"],E=re(Y,o,o[6],ke),j=o[7]["approve-button"],C=re(j,o,o[6],Ee);return{c(){e=v("div"),l=v("div"),t=v("div"),s=v("h2"),x&&x.c(),a=L(),r=v("button"),r.innerHTML=p,n=L(),m=v("div"),b=v("p"),y&&y.c(),T=L(),k=v("div"),$=v("button"),E&&E.c(),u=L(),D=v("button"),C&&C.c(),this.h()},l(i){e=g(i,"DIV",{role:!0,"aria-modal":!0,"aria-labelledby":!0,"aria-describedby":!0,class:!0});var _=P(e);l=g(_,"DIV",{class:!0});var V=P(l);t=g(V,"DIV",{class:!0});var O=P(t);s=g(O,"H2",{class:!0,id:!0,tabindex:!0});var X=P(s);x&&x.l(X),X.forEach(h),a=U(O),r=g(O,"BUTTON",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-15bb5ur"&&(r.innerHTML=p),O.forEach(h),n=U(V),m=g(V,"DIV",{class:!0});var z=P(m);b=g(z,"P",{id:!0,class:!0});var N=P(b);y&&y.l(N),N.forEach(h),z.forEach(h),T=U(V),k=g(V,"DIV",{class:!0});var M=P(k);$=g(M,"BUTTON",{class:!0});var H=P($);E&&E.l(H),H.forEach(h),u=U(M),D=g(M,"BUTTON",{class:!0});var F=P(D);C&&C.l(F),F.forEach(h),M.forEach(h),V.forEach(h),_.forEach(h),this.h()},h(){d(s,"class","font-NormsBold text-[28px] outline-none svelte-zlzlqo"),d(s,"id","title"),d(s,"tabindex","-1"),d(r,"class","close font-NormsMedium outline-none svelte-zlzlqo"),d(t,"class","mb-2 flex items-center justify-between pr-6 svelte-zlzlqo"),d(b,"id","dialog1Desc"),d(b,"class","pr-6 font-NormsRegular text-lg text-white svelte-zlzlqo"),d(m,"class","mr-[2px] h-full pb-4 svelte-zlzlqo"),d($,"class","close rounded-lg border-2 border-white bg-slate-700 px-6 py-3 text-center hover:bg-slate-600 svelte-zlzlqo"),d(D,"class","rounded-lg bg-red-700 px-6 py-3 text-center hover:bg-red-600 svelte-zlzlqo"),d(k,"class","flex justify-end space-x-3 pr-6 font-NormsRegular svelte-zlzlqo"),d(l,"class","relative w-[90vw] overflow-hidden rounded-[16px] bg-slate-700 pb-10 pl-6 pt-6 text-slate-50 drop-shadow-[0_25px_25px_rgba(0,0,0,0.9)] sm:w-[535px] svelte-zlzlqo"),d(e,"role","dialog"),d(e,"aria-modal","true"),d(e,"aria-labelledby","more-info-header"),d(e,"aria-describedby","dialog1Desc"),d(e,"class",w=ge(`wrapper fixed inset-0 z-50 ${o[0]?"flex":"hidden"} flex-row items-center justify-center`)+" svelte-zlzlqo")},m(i,_){B(i,e,_),f(e,l),f(l,t),f(t,s),x&&x.m(s,null),f(t,a),f(t,r),o[8](r),f(l,n),f(l,m),f(m,b),y&&y.m(b,null),f(l,T),f(l,k),f(k,$),E&&E.m($,null),f(k,u),f(k,D),C&&C.m(D,null),c=!0,J||(K=[ue(D,"pointerup",o[9]),ue(e,"pointerup",o[3]),ue(e,"keydown",o[4]),Ne(Oe.call(null,e,"modals"))],J=!0)},p(i,_){x&&x.p&&(!c||_&64)&&ne(x,I,i,i[6],c?ce(I,i[6],_,Xe):ie(i[6]),Ce),y&&y.p&&(!c||_&64)&&ne(y,A,i,i[6],c?ce(A,i[6],_,We):ie(i[6]),xe),E&&E.p&&(!c||_&64)&&ne(E,Y,i,i[6],c?ce(Y,i[6],_,Ye):ie(i[6]),ke),C&&C.p&&(!c||_&64)&&ne(C,j,i,i[6],c?ce(j,i[6],_,Ke):ie(i[6]),Ee),(!c||_&1&&w!==(w=ge(`wrapper fixed inset-0 z-50 ${i[0]?"flex":"hidden"} flex-row items-center justify-center`)+" svelte-zlzlqo"))&&d(e,"class",w)},i(i){c||(S(x,i),S(y,i),S(E,i),S(C,i),c=!0)},o(i){q(x,i),q(y,i),q(E,i),q(C,i),c=!1},d(i){i&&h(e),x&&x.d(i),o[8](null),y&&y.d(i),E&&E.d(i),C&&C.d(i),J=!1,Se(K)}}}function Ze(o){let e,l,t=o[0]&&ze(o);return{clmp(s,[a]){s[0]?t?(t.p(s,a),a&1&&S(t,1)):(t=ze(s),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(Pe(),q(t,1,1,,Te())},i(s){l||(S(t),l=!0)},o(s){q(t),l=!1},d}function et(o,e,l){let t;fe(o,te,u=>l(10,t=u));let{$$slots:s={},$$scope:a}=e,{show:r=!1}=e,p,n=null;const m=$e(),b=u=>{u!=null&&u.target&&u.target instanceof Element&&(u.target.classList.contains("wrapper")||u.target.classList.contains("close"))&&(m("closeModal"),pe(te,t=!1,t))},T=u=>{u.key==="Tab"&&(u.preventDefault(),p==null||p.focus())};onst $=return o.$$set=u=>{"show"in u&&l(0,r=u.show),"$$scope"in u&&l(6,a=u.$$scope)},o.$$.update=()=>{o.$$.dirty&1&&r&&pe(te,t=r,t),o.$$.dirty&35&&r&&Re&&(n||l(5,n=document.activeElement),p==null||p.focus()),o.$$.dirty&33&&!r&&n&&(n==null||n.focus(),l(5,n=null))},[r,p,m,b,T,n,a,s,k,$]}class tt extends _e{constructor(e){super(),he(this,e,et,Ze,me,{show:0})}}function lt(o){let e,l;return e=new Ie({props:{client:o[1],ldCaptureEmailButtonText:o[4]}}),e.$on("validEmail",o[7]),{c(){le(e.$$.fragment)},l(t){oe(e.$$.fragment,t)},m(t,s){se(e,t,s),l=!0},p(t,s){const a={};s&2&&(a.client=t[1]),e.$set(a)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d(t){ae(e,t)}}}function ot(o){let e,l;return e=new He({props:{client:o[1],ldCaptureEmailButtonText:o[4]}}),e.$on("validEmail",o[10]),{clmp(t,s){const a={};s&2&&(a.client=t[1]),e.$set(a)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),l=!1},d}function st(o){let e,l,t,s=`<img alt="profile-person" class="h-[40px] w-[40px] md:h-[60px] md:w-[60px]" height="60" src="${Qe}" width="60"/> <h1 class="ml-6 font-NormsMedium text-[32px] md:ml-10 md:text-5xl">Profile</h1>`,a,r,p,n,m,b=(o[0]||"jane.doe@gmail.com")+"",T,k,$,u,D,w,c,J="Forget me",K,I,x="Unlinking your email removes your profile.",A,y,Y="This does not affect accounts you may have on QVC.com or HSN.com.",E,j,C="Unlink Email",i,_,V,O,X;return _=new tt({props:{show:o[2],$$slots:{"approve-button":[it],"dismiss-button":[nt],body:[rt],title:[at]},$$scope:{ctx:o}}}),_.$on("closeModal",o[6]),_.$on("approved",o[5]),{c(){e=v("main"),l=v("div"),t=v("div"),t.innerHTML=s,a=L(),r=v("div"),p=v("p"),n=Q("The email address "),m=v("span"),T=Q(b),k=Q(`
					is currently linked to this profile.`),$=L(),u=v("hr"),D=L(),w=v("div"),c=v("h2"),c.textContent=J,K=L(),I=v("p"),I.textContent=x,A=L(),y=v("p"),y.textContent=Y,E=L(),j=v("button"),j.textContent=C,i=L(),le(_.$$.fragment),this.h()},l(z){e=g(z,"MAIN",{class:!0});var N=P(e);l=g(N,"DIV",{class:!0});var M=P(l);t=g(M,"DIV",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1xeyjnr"&&(t.innerHTML=s),a=U(M),r=g(M,"DIV",{class:!0});var H=P(r);p=g(H,"P",{class:!0});var F=P(p);n=G(F,"The email address "),m=g(F,"SPAN",{class:!0});var be=P(m);T=G(be,b),be.forEach(h),k=G(F,`
					is currently linked to this profile.`),F.forEach(h),$=U(H),u=g(H,"HR",{class:!0}),D=U(H),w=g(H,"DIV",{class:!0});var R=P(w);c=g(R,"H2",{class:!0,"data-svelte-h":!0}),W(c)!=="svelte-7okva"&&(c.textContent=J),K=U(R),I=g(R,"P",{class:!0,"data-svelte-h":!0}),W(I)!=="svelte-1oojxdx"&&(I.textContent=x),A=U(R),y=g(R,"P",{class:!0,"data-svelte-h":!0}),W(y)!=="svelte-8ci6t6"&&(y.textContent=Y),E=U(R),j=g(R,"BUTTON",{class:!0,"data-svelte-h":!0}),W(j)!=="svelte-3lvu2q"&&(j.textContent=C),R.forEach(h),H.forEach(h),M.forEach(h),i=U(N),oe(_.$$.fragment,N),N.forEach(h),this.h()},hm(z,N){B(z,e,N),f(e,l),f(l,t),f(l,a),f(l,r),f(r,p),f(p,n),f(p,m),f(m,T),f(p,k),f(r,$),f(r,u),f(r,D),f(r,w),f(w,c),f(w,K),f(w,I),f(w,A),f(w,y),f(w,E),f(w,j),f(e,i),se(_,e,null),V=!0,O||(X=ue(j,"click",je(o[9])),O=!0)},p(z,N){(!V||N&1)&&b!==(b=(z[0]||"jane.doe@gmail.com")+"")&&Ve(T,b);const M={};N&4&&(M.show=z[2]),N&16384&&(M.$$scope={dirty:N,ctx:z}),_.$set(M)},iod}function at(o){let e;return{c(){e=Q("Unlink Email?")},l(l){e=G(l,"Unlink Email?")},m(l,t){B(l,e,t)},d(l){l&&h(e)}}}function rt(o){let e;return{c(){e=Q("Are you sure you want to unlink your email on this browser?")},l(l){e=G(l,"Are you sure you want to unlink your email on this browser?")},m(l,t){B(l,e,t)},d(l){l&&h(e)}}}function nt(o){let e;return{c(){e=Q("Cancel")},l(l){e=G(l,"Cancel")},m(l,t){B(l,e,t)},d(l){l&&h(e)}}}unction ct(o){let e,l,t,s;const a=[st,ot,lt],r=[];eturn e=p(o),l=r[e]=a[e](o),{clmp(n,[m]){let b=e;e=p(n),e===b?r[e].p(n,m):(Pe(),q(r[b],1,1,,Te(),l=r[e],l?l.p(n,m):(l=r[e]=a[e](n),l.c()),S(l,1),l.m(t.parentNode,t))},iod}function ft(o,e,l){let t,s,a,r;fe(o,te,c=>l(12,s=c)),fe(o,we,c=>l(13,a=c)),fe(o,Ae,;let{client:p}=e,{profileEmail:n}=e,m=!1,b=!1;const{ldCaptureEmailButtonText:T}=r;Me(()=>{l(0,n=Z.get("profileEmail"))}),Fe(({from:c})=>{n?ee({event:"page_view",page_location:location.href,page_title:"Profile",page_referrer:(c==null?void 0:c.url.href)||""}):(ee({event:"page_view",page_location:location.href,page_title:"Email_Capture",page_referrer:(c==null?void 0:c.url.href)||""}),ee({event:t?"displayed_prompt_B":"displayed_prompt",video_format:"Profile",video_name:"Profile",brand:"Profile",source_playback:"Profile",source_playback_detail:"Profile",ld_capture_email_text:T}))}),qe(()=>{m&&pe(we,a={message:"Your email has been unlinked, and your QVC+HSN+ profile has been removed.",type:"notification",show:!0,iconType:"info"},a),pe(te,s=!1,s)});const k=async()=>{l(0,n=Z.get("profileEmail")),n&&(Z.remove("profileEmail"),Z.remove("spid"),m=!0,ee({event:"unlink_mail"})),Ge(!0,"",!0),await ye("/",{replaceState:!0})},$=()=>{l(2,b=!1)},u=async()=>{await ye("/",{replaceState:!0}),l(0,n=Z.get("profileEmail")),ee({event:"captured_mail",video_format:"Profile",video_name:"Profile",brand:"Profile",source_playback:"Profile",source_playback_detail:"Profile",ld_capture_email_text:T})},D=w=return o.$$set=o.$$.update=()=>{o.$$.dirty&256&&l(3,{useNewGatingScreen:t}=r,t)},[n,p,b,t,T,k,$,u,r,D,w]}unction dt(o){let e,l,t,s;return e=new Ue({props:{canonical:pt,description:mt,title:_t}}),t=new ut({props:{client:o[0],profileEmail:o[1]}}),{clmp:Le,iod}const pt="https://plus.qvc.com/profile",mt="Profile",_t="Profile";function ht(o,e,l){let{data:t}=e;const{client:s,profileEmail:a}=t;return o.$$set=[s,a,t]}xport{Mt as component,Dt as universal};
