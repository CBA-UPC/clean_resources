"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6521],{48516:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(76955),n=t(62869),o=t.n(n),c=t(5154),i=t.n(c),l=t(51650),d=class s extends r.PureComponent{static get defaultProps(){return{children:null,className:"",targetUrl:void 0,onClick:i(),onMouseEnter:i()}}constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}isSpaTargetLink(e){var{pathname:a,hostname:t}=e,r=t===new URL(window.process.env.HTTP_PATH_AMEBLO).hostname,n="/"===a,o="/accessibility"===a,[c,i]=a.split("/"),l=/_/.test(i);return r&&!(n||o||l)}handleClick(e){o()(this.props.onClick)&&this.props.onClick(e)}render(){var e,a=this.props,{children:t,className:n,targetUrl:o,onMouseEnter:c}=a,i=d(a,["children","className","targetUrl","onMouseEnter"]);if(void 0===o)return r.createElement("a",Object.assign({className:n},i),t);try{e=new URL(o)}catch(m){e=null}if(e&&this.isSpaTargetLink(e)){var s=e.pathname,p=e.search?"".concat(e.search):"",g=e.hash?"".concat(e.hash):"";return r.createElement(l.rU,Object.assign({className:n,to:"".concat(s).concat(p).concat(g),onClick:this.handleClick,onMouseEnter:c},i),t)}return r.createElement("a",Object.assign({className:n,href:o,onClick:this.handleClick,onMouseEnter:c},i),t)}}s.displayName="AnchorBlock"},20541:(e,a,t)=>{t.d(a,{OQ:()=>g});var r=t(66062),n=t(18274),o=t(55752),c=t.n(o),i=t(15026),l=t(64123),d=t(83244),s=p=(e,a,t)=>({type:d.wn,payload:{blogId:e,page:a,error:(0,i.s)(t)},error:!0}),g=(0,n.H)((function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return function(){var n=(0,r.Z)((function*(r,n,o){var{fetchr:i}=o,g=a>0?(a-1)*t:0,m=parseInt(a,10),u=n().entryState.amemberPageMap["".concat(e,"/").concat(m)];if(u&&u.data)return null;try{r({type:d.v7,payload:{blogId:e,page:m}});var h={amebaId:c()(n(),["bloggerState","blogMap",e,"blog_name"],""),amember:!0,blogId:e,page:m,offset:g,limit:t},y=yield i.read(l.Z.BlogAmemberEntries).params(h).end();return r(s(e,m,y.data))}catch(f){return r(p(e,m,f))}}));return function(e,a,t){return n.apply(this,arguments)}}()}))},72519:(e,a,t)=>{t.d(a,{Hc:()=>g});var r=t(66062),n=t(55752),o=t.n(n),c=t(5663),i=t.n(c),l=t(18274),d=t(94563),s=(e,a,t,r)=>({type:d.UK,payload:{yearMonth:e,page:a,data:t,blogId:r}}),p=(e,a,t,r)=>({type:d.Db,payload:{yearMonth:e,page:a,blogId:t,error:r},error:!0}),g=(0,l.H)((function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(){var c=(0,r.Z)((function*(r,c,l){var{fetchr:g}=l,m=parseInt(t,10),u=c(),h=o()(u,["archiveState","archivePageMap",e],{}),y=o()(h,["".concat(a,"/").concat(m)],{});if(!i()(h)&&!i()(y)&&!i()(y.data))return null;try{r({type:d.mm,payload:{yearMonth:a,page:m,blogId:e}});var f={amebaId:o()(u,["bloggerState","blogMap",e,"blog_name"],""),blogId:e,page:m,yearMonth:a,reqYearMonth:"".concat(a.slice(0,4),"-").concat(a.slice(4,6)),offset:t>0?(t-1)*n:0,limit:n},v=yield g.read("blogArchiveEntries").params(f).end();return r(s(a,m,v.data,e))}catch(b){return r(p(a,m,e,b))}}));return function(e,a,t){return c.apply(this,arguments)}}()}))},55311:(e,a,t)=>{t.d(a,{EN:()=>s});var r=t(66062),n=t(18274),o=t(55752),c=t.n(o),i=t(43597);function l(e,a,t){return{type:i.e,payload:{blogId:e,page:a,data:t}}}function d(e,a){return{type:i.U,payload:{blogId:e,page:a},error:!0}}var s=(0,n.H)((function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return function(){var n=(0,r.Z)((function*(r,n,o){var{fetchr:i}=o,s=a>0?(a-1)*t:0,p=n();if(c()(p,["bookmarkState","bookmarkPageMap","".concat(e,"/").concat(a)]))return null;try{var g=c()(p,["bloggerState","blogMap",e,"blog_name"],""),m=(yield i.read("blogBookmarks").params({amebaId:g,blogId:e,limit:t,offset:s}).end()).data||{};return r(l(e,a,m))}catch(u){return console.warn(u),r(d(e,a))}}));return function(e,a,t){return n.apply(this,arguments)}}()}))},39721:(e,a,t)=>{t.d(a,{by:()=>g});var r=t(66062),n=t(18274),o=t(55752),c=t.n(o),i=t(5663),l=t.n(i),d=t(77951);function s(e,a,t){return{type:d.m,payload:{blogId:e,page:a,data:t}}}function p(e,a){return{type:d.T,payload:{blogId:e,page:a},error:!0}}var g=(0,n.H)((function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return function(){var n=(0,r.Z)((function*(r,n,o){var{fetchr:i}=o,d=n(),g=c()(d,["favoriteState","favoriteBlogPageMap","".concat(e,"/").concat(a)],{});if(!l()(g)&&!1===g.loading&&!1===g.error)return null;try{var m={amebaId:c()(d,["bloggerState","blogMap",e,"blog_name"],""),blogId:e,offset:a>0?(a-1)*t:0,limit:t},u=yield i.read("blogFavorites").params(m).end();return r(s(e,a,u.data))}catch(h){return r(p(e,a))}}));return function(e,a,t){return n.apply(this,arguments)}}()}))},27169:(e,a,t)=>{t.d(a,{Pl:()=>h,rF:()=>u});var r=t(66062),n=t(18274),o=t(55752),c=t.n(o),i=t(5663),l=t.n(i),d=t(15026),s=t(64123),p=t(20795);unction m(e,a,t){return{type:p.gN,payload:{blogId:e,page:a,error:(0,d.s)(t)},error:!0}}var u=(0,n.H)((function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(){var o=(0,r.Z)((function*(r,o,i){var{fetchr:d}=i,s=o(),p=c()(s,["readerState","readerPageMap","".concat(e,"/").concat(a)],{});if(!l()(p)&&!l()(p.data)&&p.data.length>0)return null;try{var u=c()(s,["bloggerState","blogMap",e,"blog_name"],""),h=a>0?(a-1)*t:0,y={amebaId:u,blogId:e,page:parseInt(a,10),offset:h,limit:t,fields:n},f=yield d.read("blogReaders").params(y).end();return r(g(e,a,f.data))}catch(v){return r(m(e,a,v))}}));return function(e,a,t){return o.apply(this,arguments)}}()})),h=(0,n.H)({ttl:200},(e=>function(){var a=(0,r.Z)((function*(a,t,r){var{fetchr:n}=r,o=c()(t(),["bloggerState","bloggerMap",e,"attribute"]);if(!o.isOfficial&&!o.isTopBlogger)return null;if(void 0!==c()(t(),["readerState","readerCountMap",e]))return null;try{a({type:p.pd,payload:{amebaId:e}});var i=yield n.read(s.Z.ReaderCount).params({amebaId:e}).end();return a(((e,i.data))}catch(l){return a(((e,a)=>({type:p.FV,payload:{amebaId:e,error:a},error:!0}))(e,l))}}));return function(e,t,r){return a.apply(this,arguments)}}()))},35874:(e,a,t)=>{t.d(a,{Vx:()=>s});var r=t(66062),n=t(18274),o=t(55752),c=t.n(o),i=t(82548),l=d=(e,a,t,r)=>({type:i.Ic,payload:{blogId:e,themeId:a,error:r,page:t},error:!0}),s=(0,n.H)((function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(){var o=(0,r.Z)((function*(r,o,s){var{fetchr:p}=s,g=t>0?(t-1)*n:0,m=parseInt(t,10),u=n,h=o(),y=h.themesState.themePageMap["".concat(a,"/").concat(m)];if(y&&y.data)return null;try{var f={amebaId:c()(h,["bloggerState","blogMap",e,"blog_name"],""),blogId:e,page:m,themeId:a,offset:g,limit:u};r({type:i._P,payload:f});var v=yield p.read("blogThemeEntries").params(f).end();return r(l(e,a,m,v.data))}catch(b){return r(d(e,a,m,b))}}));return ()}))},39954:(e,a,t)=>{t.d(a,{x:()=>i});var r=t(91938),n=t.n(r),o=t(76955);function c(e){var{children:a,placeholder:t=null}=e,[r,n]=(0,o.useState)(!1);return(0,o.useEffect)((,[]),r?a:t}c.propTypes={children:n().node.isRequired,placeholder:n().node};var i=(0,o.memo)(c)},6521:(e,a,t)=>{t.r(a),t.d(a,{default:()=>H});var r,n,o,c,i,l,d,s,p,g=t(3e4),m=t(66062),u=(t(91938),t(76955)),h=t(29466),y=t.n(h),f=t(5663),v=t.n(f),b=t(97175),I=t(66948),Z=t(81454),k=t(20541),P=t(23347),T=t(35874),M=t(72519),N=t(73614),E=t(27169),_=t(55311),S=t(39721),w=t(48516),C=t(39954),A=t(16884),B=t(75457);function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=parseInt(e,10);return!a||a<1?1:a}function O(){return(O=(0,m.Z)((function*(e){var{dispatch:a,getState:t,match:r}=e,{params:n,route:o}=r,c=n.amebaId,i=yield a((0,N.Rs)(c));if(!i||!i.error){var l=t().bloggerState,d=l.bloggerMap,s=l.blogMap[(d[c]||{}).blog];if(s&&s.blog_id){var p=s.entry_limit||"",g=L(n.page),m=o.pageType;if(m!==B.Z.EntryList)if(m!==B.Z.AmemberEntryList)if(m!==B.Z.BlogTop){var u=n.themeId;if(u&&m===B.Z.Theme)yield a((0,T.Vx)(s.blog_id,u,g,20));else{var h=n.yearMonth;if(h&&m===B.Z.Archive)yield a((0,M.Hc)(s.blog_id,h,g,20));else if(m!==B.Z.Reader)if(m!==B.Z.Bookmark){if(m===B.Z.Favorite){yield a((0,S.by)(s.blog_id,g,30))}}else{yield a((0,_.EN)(s.blog_id,g,30))}else{yield a((0,E.rF)(s.blog_id,g,30))}}}else yield a((0,P.sl)(s.blog_id,g,p,!0));else yield a((0,k.OQ)(s.blog_id,g,20));else yield a((0,Z.OQ)(s.blog_id,g,20))}}}))).apply(this,arguments)}var H=(0,I.$j)((function(e,a){var{match:t}=a,{params:r,route:n}=t,o=r.amebaId,c=r.themeId,i=r.yearMonth,l=e.bloggerState.bloggerMap[o]||{},d=n.pageType,s=L(r.page),p={};if(d===B.Z.EntryList)p=(e.entryState.blogPageMap["".concat(l.blog,"/").concat(s)]||{}).paging||{};else if(d===B.Z.AmemberEntryList){p=(e.entryState.amemberPageMap["".concat(l.blog,"/").concat(s)]||{}).paging||{}}else if(d===B.Z.BlogTop){p=(e.entryState.pcBlogTopPageMap["".concat(l.blog,"/").concat(s)]||{}).paging||{}}else if(d===B.Z.Theme){p=(e.themesState.themePageMap["".concat(c,"/").concat(s)]||{}).paging||{}}else if(d===B.Z.Archive){p=((e.archiveState.archivePageMap[l.blog]||{})["".concat(i,"/").concat(s)]||{}).paging||{}}else if(d===B.Z.Reader){p=((e.readerState.readerPageMap||{})["".concat(l.blog,"/").concat(s)]||{}).paging||{}}else if(d===B.Z.Bookmark){p=((e.bookmarkState.bookmarkPageMap||{})["".concat(l.blog,"/").concat(s)]||{}).paging||{}}else if(d===B.Z.Favorite){p=((e.favoriteState.favoriteBlogPageMap||{})["".concat(l.blog,"/").concat(s)]||{}).paging||{}}return{amebaId:o,entryYm:i,paging:p,pageType:d,themeId:c}}))(r=(0,b.provideHooks)({done:)((o=n=class extends u.Component{ouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.entryYm!==e.entryYm||this.props.pageType!==e.pageType||this.props.themeId!==e.themeId||!y()(this.props.paging,e.paging)}handleClickender(){var{amebaId:e,entryYm:a,pageType:t,paging:r,themeId:n}=this.props;return v()(r)?null:(0,g.Z)(C.x,{},void 0,(0,g.Z)("ul",{className:"footerNav"},void 0,r.current_page<r.next_page?(0,g.Z)("li",{},void 0,(0,g.Z)(w.Z,{className:"footerNavNext",targetUrl:(0,A.Z)(t,{amebaId:e,entryYm:a,order:r.order,page:r.next_page,themeId:n})},void 0,c||(c=(0,g.Z)("div",{className:"footPt23"},void 0,"\u6b21\u3078")))):i||(i=(0,g.Z)("li",{className:"inactive"},void 0,(0,g.Z)("span",{className:"footerNavNext"},void 0,(0,g.Z)("div",{className:"footPt23"},void 0,"\u6b21\u3078")))),r.prev_page<r.current_page?(0,g.Z)("li",{},void 0,(0,g.Z)(w.Z,{className:"footerNavPrev",targetUrl:(0,A.Z)(t,{amebaId:e,entryYm:a,order:r.order,page:r.prev_page,themeId:n})},void 0,l||(l=(0,g.Z)("div",{className:"footPt23"},void 0,"\u524d\u3078")))):d||(d=(0,g.Z)("li",{className:"inactive"},void 0,(0,g.Z)("span",{className:"footerNavPrev"},void 0,(0,g.Z)("div",{className:"footPt23"},void 0,"\u524d\u3078")))),t===B.Z.BlogTop&&(0,g.Z)("li",{},void 0,(0,g.Z)(w.Z,{className:"footerNavlist",targetUrl:(0,A.Z)(B.Z.EntryList,{amebaId:e})},void 0,s||(s=(0,g.Z)("div",{className:"footPt15"},void 0,"\u8a18\u4e8b\u4e00\u89a7")))),(0,g.Z)("li",{},void 0,(0,g.Z)("a",{className:"footerNavTop",id:"footerNavTop",role:"button",tabIndex:"0",onClick:this.handleClick},void 0,p||(p=(0,g.Z)("div",{className:"footPt23"},void 0,"\u4e0a\u306b\u623b\u308b"))))))}},n.displayName="PcFooterNavigationNew",r=o))||r)||r},16884:(e,a,t)=>{t.d(a,{Z:);var r=t(75457),n=e=>{var{amebaId:a,entryId:t,vnm:r}=e;return a&&t?"/".concat(a,"/video-").concat(t,".html").concat(r?"?vnm=".concat(r):""):""};function o(e,a){var{amebaId:t,entryId:o,themeId:c,entryYm:i,imageId:l,vnm:d,day:s,page:p=1}=a,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!t||!e)return"";var m="".concat(g,"/").concat(t),u="";switch(e){case r.Z.BlogTop:return u=p>1?"page-".concat(p,".html"):"","".concat(m,"/").concat(u);case r.Z.EntryList:return u=p>1?"-".concat(p):"","".concat(m,"/entrylist").concat(u,".html");case r.Z.AmemberEntryList:return u=p>1?"-".concat(p):"","".concat(m,"/amemberentrylist").concat(u,".html");case r.Z.ArchiveTop:return"".concat(m,"/archivetop.html");case r.Z.Archive:if(i)return u=p>1?"".concat(p):"","".concat(m,"/archive").concat(u,"-").concat(i,".html");console.error("PageType.Archive: entryYm is undefined.");break;case r.Z.Day:if(s)return u=p>1?"".concat(p):"","".concat(m,"/day").concat(u,"-").concat(s,".html");console.error("PageType.Day: day is undefined.");break;case r.Z.ThemeTop:return"".concat(m,"/themetop.html");case r.Z.Theme:if(c)return u=p>1?"".concat(p):"","".concat(m,"/theme").concat(u,"-").concat(c,".html");console.error("PageType.Theme: themeId is undefined.");break;case r.Z.PopularRecentList:return u=p>1?"-".concat(p):"","".concat(m,"/popularrecentlist").concat(u,".html");case r.Z.Entry:if(o)return u=p>1?"".concat(p):"","".concat(m,"/entry").concat(u,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case r.Z.ImageList:return u=p>1?"-".concat(p):"",i?"".concat(m,"/imagelist-").concat(i).concat(u,".html"):"".concat(m,"/imagelist.html");case r.Z.Image:if(o&&l)return"".concat(m,"/image-").concat(o,"-").concat(l,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case r.Z.VideoList:return u=p>1?"-".concat(p):"","".concat(m,"/videolist").concat(u,".html");case r.Z.Video:if(o)return"".concat(g).concat(n({amebaId:t,entryId:o,vnm:d}));console.error("PageType.Video: entryId is undefined.");break;case r.Z.IineEntry:if(o)return"".concat(m,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case r.Z.Comment:if(u=p>1?"page-".concat(p,".html"):"",o)return"".concat(m,"/comment-").concat(o,"/").concat(u);console.error("PageType.Comment: entryId is undefined.");break;case r.Z.Reblog:if(u=p>1?"page-".concat(p,".html"):"",o)return"".concat(m,"/reblog-").concat(o,"/").concat(u);console.error("PageType.Reblog: entryId is undefined.");break;case r.Z.MessageBoard:return"".concat(m,"/message-board.html");case r.Z.Reader:return u=p>1?"-".concat(p):"","".concat(m,"/reader").concat(u,".html");case r.Z.Favorite:return u=p>1?"-".concat(p):"","".concat(m,"/favorite").concat(u,".html");case r.Z.Bookmark:return u=p>1?"-".concat(p):"","".concat(m,"/bookmark").concat(u,".html");case r.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(t,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case r.Z.ImageEmbed:if(o&&l)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(t,"/image-").concat(o,"-").concat(l,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case r.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}}}]);