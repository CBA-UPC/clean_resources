!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"},(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[62],{25289:(e,t,r)=>{"use strict";r.r(t);var a=r(54138),i=r.n(a),n=r(17276),s=r.n(n),o=r(99077),c=r.n(o);unction u(){var e=["getUnassignedLivePreviewBroadcast","scoreLimit","all","sendToAll","/oauth/token","validateLocaleTextData","getNearbyMarqueeRoute","initializedPromises","setSpecialOfferCallback","preventDefault","responseText","distanceInKm","viewStyle","iframe","onMarqueeItems","currentScore","urn:ietf:params:oauth:token-type:session","allow","livePreviewNextBroadcast","browse","invalid-locale-text-data","url","getNextBroadcast","default","styleManager","setNewSessionHandler","curtains","getConfigurationManager","returnValue","push","Bearer ","workingOnPromise","finally","onBootstrapped","result","/functions/sns-video:getLivePreviewBroadcasts","tokenRetries","pathname","unsubscribeAll","beforeunload","ensureAccessTokenLoaded","livePreviewBroadcasts","onreadystatechange","random","specialOfferCallback","setRequestHeader","isTokenDataValid","pageSize","style","refresh-forbidden","setBackgroundColor","getLivePreviewBroadcasts","setMaxZindex","broadcast","No eligible Live Preview broadcasts found!","getLivePreviewRoute","dataTransformHelper","div","setReinitSessionHandler","camera; microphone; geolocation; autoplay; clipboard-write","automaticTokenRenewalTimeout","enqueue","toString","No eligible Live Preview broadasts found","/functions/sns-video:getLivePreviewForUsersBroadcasts","function","settings-should-be-object","/config","changeRoute","DOMHelper","invalid-request-headers","networkUserIds","dequeue","object","values","network","refreshToken","top: 0","hasOwnProperty","searchParams","waitForInitialization","action","?access_token=","validateNonEmptyString","append","data","5478522orBtZB","getRecommendedStreamsMarqueeRoute","viewBroadcast","subscribe","4141518TsWqlY","livePreviewUserBroadcastData","maxZindex","getWebPurchaseCatalog","/functions/sns-video:getBroadcastsByUser","/economy/me/balance/","map","socialNetworksFetchPromise","slice","addPostMessageListener","setBalanceUpdateHandler","resolve","iframe-not-found","route","some","validateHostAppToken","origin","getUserBroadcastData","hostAppVersion","2333594guODdz","isActive","lng","^https:\\/\\/[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*(\\.[a-z]{2,5})?(:[0-9]{1,5})?(\\/.*)?$","parentNode","catch","invalid-hostapp-version","bootstrapped","createIframe","invalid-authentication-credentials","validateRequestUserAgent","requestManager","customFontLoad","/video-api/","PATCH","string","736071UXNbQo","/live-preview","objectId","livePreviewManager","tryToRenewTokenAutomaticallyOnExpiration","parseSocialNetworkResponse","210QATyqW","application/x-www-form-urlencoded","bind","defineProperty","missing-callback","/relations","getTimeUntilExpiration","combineBroadcastsWithMetadata","/vip","then","removeEventListener","checkForSpecialOffer","curtainClicked","send","GET","metadata","amd","clickedMarquee","router","getNetwork","requestToken","recommendedStreamsMarquee","/distance/","Basic ","useRefreshToken","setTheme","originalWebLiveURLObject","frameId",":user:","/snippet","socialNetworkManager","broadcastId","keys","includes","invalid-authentication-configuration","274688oqYwCL","initLivePreviewEventHandlers","livePreviewEmptyQueue","requestTokenPromise","open","sdk","getElementById","find","getBroadcastData","tokenData","452AKsBvw","validateLocaleString","empty-hostapp-config","position: fixed","shift","requestId","isArray","minZindex","registerProfile","/recommended-streams-marquee-snippet","invalid-color","loadCustomFont","refreshSession","stringifyMobileBreakPoints","customFontLoaded","validate","invalid-hostapp-name","setUserRelation","wrong-url-resource","networkName","isInitialized","recipientMemberId","non-empty-string-required","lat","getBroadcastsByUserParseId","length","setTextOverrides","DONE","PUT","getSocialNetworksData","getViewBroadcastRoute","position: absolute","appendChild","stringify","log","chat","authenticationManager","configure","curtain","error","animation: fadeIn 0.5s ease-in 0s 0.5 normal forwards","reject","TMGWebSDK","/profile/users/","handleInitialization","moreBroadcastsExists","opacity: 0.5","authToken","/functions/sns-profile:getSocialNetworks","getTheme","configurationManager","handleWindowUnload","replace","wrong-snippet-name, accept ","expiresIn","invalid-view-source","authUrl","shouldFetchUserBroadcasts","livePreviewClicked","sendRequest","unsubscribe","reinitSessionHandler","constructor","queue","/functions/sns-video:getBroadcast","renewTokenAutomaticallyOnExpiration","validateAuthenticationConfig","application/json; charset=UTF-8","userAgent","hostAppName","deconfigure","background: ","withCredentials","iframesData","drop","validateViewSource","livePreviewPreload","livePreviewPlaying","readyState","nearbyMarquee","assign","validateHostAppConfig","eventManager","attachEventHandler","onPostMessage","gatewayUrl","handleRefreshSessionMessage","getSnippetRoute","width: 100vw","livePreviewStopped","test","getLivePreviewForUsersBroadcasts","createSnippet","balanceUpdate","buildOptions","checkSpecialOfferPromise","getBalance","isNaN","parse","err","could-not-get-oauth-data","/video-metadata/broadcast/","setRouteUpdateHandler","/web-payments/purchase/web/catalog","viewersCount","config","createElement","broadcasts","empty-request-body","getSNSBroadcastData","setAttribute","scopeRequired","108Cnwmeu","join","now","callbacks","pillType","scope","browser-only","getIframeData","theme","validateCallback","livePreviewInstantiationQueue","Unable to parse mobileBreakPoints","forEach","[\\w]+\\/[\\d.]+\\sweb\\/[\\d.]+$","getBroadcast","latestIframeData","getConfig","left: 0","handleBootstrapMessage","z-index: ","args","accessToken","addEventListener","currentRoute","getJWT","message","initializations","getClientSideConfig","removeChild","sessionRefreshed","score","exports","postMessage","4087660fgUvIJ","invalid-authentication-user-agent","src","sns-video","validateRequestOptions","addWindowUnloadEventsListener","livePreviewInitialized","web","createLivePreview","status","liftCurtain","postManager","webLiveURL","reduce","snippet","gender","bootstrap","onclick"];return(u=()}e=r.hmd(e),function(e,t){for(var r=l,a=e();;)try{if(-parseInt(r(593))/1+parseInt(r(577))/2+parseInt(r(599))/3*(-parseInt(r(644))/4)+-parseInt(r(450))/5+parseInt(r(558))/6+parseInt(r(554))/7+-parseInt(r(634))/8*(parseInt(r(417))/9)==666151)break;a.push(a.shift())}catch(e){a.push(a.shift())}}(u,0),function(t,r){var a=l;a(541)==typeof exports&&"object"==a(541)?e[a(448)]=r():"function"==typeof define&&define[a(615)]?define([],r):a(541)==typeof exports?exports[a(347)]=r():t[a(347)]=r()}(self,()=>(()=>{var e=l,t={d:(e,r)=>{var a=l;for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object[a(602)](e,i,{enumerable:!0,get:r[i]})},o:(t,r)=>Object.prototype[e(546)].call(t,r)},r={};t.d(r,{default:);var a=e(466),n=e(446),o=e(344),u="router",d=e(613),h="POST",p=e(405),v="invalid-font-config",f=e(384),g=e(620),w={[f]:"/nearby-marquee-snippet",[g]:e(653)},m="viewSize",b=e(480),k=e(465),y=e(515),x=e(469),T="mobileBreakPoints",P=e(421),A={BROWSE:e(487),CHAT:e(340)},I=/^[a-z]{2,4}(-[A-Z][a-z]{3})?(-([A-Z]{2}|[0-9]{3}))?$/,U=class{static[e(454)](t){var r=t.method,a=t.url,i=t.headers,n=t.body;if(!a)throw Error("empty-request-url");if(i&&i[e(367)]!==Object)throw Error(e(538));if(r===h&&!n)throw Error(e(413))}static validateRequestUserAgent(t){var r=new RegExp(e(430));if(!t||e(592)!=typeof t||!r[e(395)](t))throw Error(e(451))}static[e(386)](t){if(0===Object.keys(t)[e(669)])throw Error(e(646));var r=t.locale,a=t.hostAppName,i=t.hostAppVersion;if(!r||"string"!=typeof r)throw Error("invalid-hostapp-locale");if(!a||e(592)!=typeof a)throw Error(e(660));var n=RegExp("^\\d+(\\.\\d+){0,2}$");if("number"!=typeof t[e(576)]&&!n[e(395)](i))throw Error(e(583))}static[e(573)](t){if(!t||e(592)!=typeof t)throw Error("invalid-authentication-token")}static[e(371)](t){if(!t||e(541)!=typeof t||0===Object[e(631)](t).length)throw Error(e(633));var r=t.credentials,a=t.authUrl;if(!r||e(592)!=typeof r)throw Error(e(586));var i=new RegExp(e(580));if(!a||"string"!=typeof a||!i[e(395)](a))throw Error("invalid-authentication-url")}static[e(426)](t){if(!t||e(533)!=typeof t)throw Error(e(603))}static[e(380)](t){if(!Object[e(542)](A)[e(632)](t))throw Error(e(360))}static validateFontConfig(t){if(!t||!Array[e(650)](t[e(452)])||0===t[e(452)][e(669)])throw Error(v);t[e(452)].forEach(t=>{if(!t[e(489)])throw Error(v)})}static[e(645)](e){if(!e||!I.test(e))throw Error("invalid-locale")}static validateLocaleTextData(t){if(!t||e(541)!=typeof t||Array[e(650)](t)||0===Object[e(631)](t)[e(669)])throw Error(e(488))}static[e(551)](t){if(!t||e(592)!=typeof t)throw Error(e(666))}},S={config:{},configurationManager:null,specialOfferCallback:null,tokenRetries:0,requestTokenPromise:null,renewTokenAutomaticallyOnExpiration:!1,automaticTokenRenewalTimeout:null,checkSpecialOfferPromise:null,configure:t=>{U[e(371)](t);var r=t.credentials,a=t.authUrl,i=t.authToken,n=t.hostAppName,s=t.webLiveURL,o=t.requestManager,c=t.gatewayUrl;S[e(410)]={credentials:r,authUrl:a,authToken:i,hostAppName:n,webLiveURL:s,requestManager:o,gatewayUrl:c}},deconfigure:()=>{S[e(410)]={},S[e(366)]=void 0,S[e(643)]=void 0,S.configurationManager=void 0,S[e(504)]=0,S[e(623)]=void 0,S[e(370)]=!1,clearTimeout(S[e(528)]),S[e(528)]=null,S[e(512)]=null,S[e(400)]=null},isTokenDataValid:t=>!!t&&!!t[e(438)]&&Date[e(419)]()<t.timestamp+t.expiresIn-1e4,ensureAccessTokenLoaded(t){var r=S.tokenData;if(S.isTokenDataValid(r))return void t(r);var a=S[e(410)].authToken;S.requestToken(a)[e(608)](e=>t(e))[e(582)](e=>t(null,e))},setReinitSessionHandler:t=>{S[e(366)]=t},requestToken:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{U[e(573)](t),U[e(371)](S[e(410)])}catch(t){return Promise[e(346)](t)}if(S[e(637)]&&!a)return S[e(637)];var i=S[e(399)](t,r),n=new Promise((a,n)=>{S.config[e(588)][e(364)](i,(i,s)=>{if(s)return void(S[e(504)]>=3?(S.tokenRetries=0,n(s)):(S[e(504)]+=1,a(S[e(619)](t,r,!0))));var o=i.access_token,c=i.refresh_token,l=i.expires_in,u=i.scope;S[e(643)]={accessToken:o,refreshToken:c,expiresIn:1e3*l,timestamp:Date.now()},S[e(422)]=u,S[e(610)](),S[e(597)](!0),a(S[e(643)])})});return S[e(637)]||a||(S[e(637)]=n),n[e(500)](},getTimeUntilExpiration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timestamp,r=e.expiresIn;return(void 0===t?0:t)+(void 0===r?0:r)-Date.now()},tryToRenewTokenAutomaticallyOnExpiration(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!S.renewTokenAutomaticallyOnExpiration||(t&&S[e(528)]&&(clearTimeout(S.automaticTokenRenewalTimeout),S[e(528)]=null),S[e(528)])||!S[e(514)](S[e(643)]))return!1;var r=S[e(605)](S[e(643)]);return S[e(528)]=setTimeout(()=>S[e(508)](()=>{}),Math.max(r-1e4,1e4)),!0},setSpecialOfferCallback(t){S[e(512)]=t,S.renewTokenAutomaticallyOnExpiration=!0,S[e(610)]()},getConfigurationManager(){if(!S[e(355)]){var t=S[e(410)].gatewayUrl;S[e(355)]=new class{constructor(t){var r=t.gatewayUrl,a=t.requestManager;this[e(410)]=null,this[e(390)]=r,this[e(588)]=a}getConfig(t){if(this[e(410)])return Promise.resolve(this[e(410)]);var r={method:d,withCredentials:!0,url:this[e(390)]+e(535),headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+t}};return new Promise((t,a)=>{this[e(588)][e(364)](r,(r,i)=>{i?a(i):(this[e(410)]=r,t(this[e(410)]))})})}}({gatewayUrl:t,requestManager:S[e(410)][e(588)]})}return S[e(355)]},checkForSpecialOffer(){var t=this;return c()(s()().mark(function r(){var a;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e,r.abrupt("return",S.specialOfferCallback?(t[a(400)]||(t[a(400)]=new Promise((e,r)=>{S[a(508)](()=>{var i=S[a(643)].accessToken;t[a(495)]()[a(433)](i)[a(608)](function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t||{},n=r.showSpecialCreditsOffer,s=(void 0===n?{}:n).enabled,o=r.economy,c=(void 0===o?{}:o).purchase,l=(void 0===c?{}:c).url;if(s&&l){var u=l+a(550)+i;S[a(512)](u),S[a(597)](),e(u)}else S[a(512)](!1),e(!1)})[a(582)](e=>{S.specialOfferCallback(!1),r(e)})})}),t[a(400)].finally(()=>{t[a(400)]=null})),t[a(400)]):null);case 2:case"end":return r.stop()}},r)}))()},refreshToken:t=>{if(!S[e(623)])return void t(null,Error(e(517)));var r=S[e(643)].refreshToken;S[e(619)](r,!0)[e(608)](e=>t(e))[e(582)](e=>t(null,e))},buildOptions:(t,r)=>{var a,i=S[e(410)],n=i.credentials,s=i.authUrl,o=i.hostAppName,c={Authorization:e(622)+n,"Content-Type":e(600),"x-device":e(457),"x-brand":o};a=r?{grant_type:"refresh_token",refresh_token:t}:{grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:t,subject_token_type:e(484)};var l=Object[e(631)](a)[e(564)]([e(418)]("&");return{url:s+e(472),method:h,withCredentials:!0,body:l,headers:c}}},M={curtains:{},maxZindex:16777271,minZindex:1,setMaxZindex:createWebLiveIframe:(t,r)=>{var a=document[e(411)](e(481));return a[e(415)](e(452),t),a[e(415)]("id","web-live-iframe-"+r),a.setAttribute(e(485),e(527)),a[e(415)](e(516),"position: absolute; z-index: 1;"),a},removeWebLiveIframe:()=>{M[e(494)]={}},insertWebLiveIframe:(t,r)=>{var a=document[e(640)](t);if(!a)throw Error("iframe-container-not-found");return a[e(415)](e(516),"position: relative;"),a.appendChild(r),a},addPostMessageListener:t=>{window.removeEventListener("message",t),window[e(439)](e(442),t)},removePostMessageListener:t=>{window[e(609)](e(442),t)},addWindowUnloadEventsListener:t=>{window[e(609)](e(507),t),window[e(439)](e(507),t)},getOrigin:t=>{var r=document[e(411)]("a");return r.href=t,r[e(574)]},dropCurtain:(t,r,a,i)=>{var n=t.iframe,s=t.container;if(!M[e(494)][r]){var o=document.createElement(e(525)),c=[e(647),e(393),"height: 100vh",e(545),e(434),e(351),e(376)+(a||"#000"),e(345),"z-index: "+(M[e(560)]-1)],l=[e(675),e(436)+M[e(560)]];o.setAttribute("style",c[e(418)]("; ")),o.id=r,o[e(467)]=i,M[e(494)][r]=o,n[e(415)](e(516),l[e(418)]("; ")),s[e(676)](o)}},liftCurtain:(t,r)=>{var a=t.iframe,i=M[e(494)][r];i&&(i[e(581)][e(445)](i),delete M.curtains[r],Object[e(631)](M[e(494)])[e(669)]||a.setAttribute(e(516),e(436)+M[e(651)]+";"))}};class R{tBackgroundColor(t){this[e(425)]=i()(i()({},this[e(425)]),{},{colors:{body:{"background-color":t}}})}[e(624)](t){R[e(659)](t),this.theme=t}class L{static[e(392)](t,r){if(!(t in w))throw Error(e(358)+Object[e(631)](w)[e(418)](", "));if(e(541)!=typeof r)throw Error(e(534));var a="";switch(t){case f:a=L[e(474)](t,r);break;case g:a=L.getRecommendedStreamsMarqueeRoute(t,r)}return a}static[e(657)](t){var r;try{r=JSON[e(677)](t)}catch(t){console.log(e(428))}return r}static[e(474)](t,r){var a=L[e(657)](r[T]),i=[r.lat,r.lng,r[m],r[b],r[k],r[y],r[x],a,r[P]][e(564)](e=>""===e?void 0:e)[e(564)](e=>String(e));return w[t]+"/"+i[e(418)]("/")}static[e(555)](t,r){var a=L[e(657)](r[T]),i=[r[m],r[b],r[k],r[y],r[x],a,r[P]][e(564)](.map(e=>String(e));return w[t]+"/"+i[e(418)]("/")}static[e(523)](t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.pillType,i=r.distanceFallbackPillType,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return"/live-preview-empty";var s="/live-preview/"+t;return a&&("distance"===a?n[e(479)]?s+=e(621)+n[e(479)]:e(409)===i&&(s+="/"+i):s+="/"+a),s}static[e(674)](t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.source,i=void 0===a?null:a,n="/view/"+t;return i&&(U[e(380)](i),n+="/"+i),n}}var C={pageSize:10,gender:e(470)};class E{static[e(606)](t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[e(564)](t=>{var a=r[e(641)](;return i()(i()({},t),{},{broadcastId:t[e(595)],metadata:i()({},a||{})})})}constructor(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this[e(341)]=t,this.requestManager=r,this[e(543)]=a[e(543)],this.gatewayUrl=a[e(390)],this[e(509)]=[],this.livePreviewUserBroadcastData={},this[e(350)]=!0,this.currentScore="0",this[e(443)]={}}[e(468)](){return this.livePreviewBroadcasts.find(t=>!t[e(626)])}[e(362)](t){return 0===this.livePreviewBroadcasts[e(669)]&&("0"===this[e(483)]||0===this[e(483)])&&Array[e(650)](t[e(539)])&&t[e(539)][e(669)]>0}getNextBroadcast(t){var r=arguments,a=this;return c()(s()().mark(function n(){var o,c,l,u,d;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.length>1&&void 0!==r[1]?r[1]:{},c=e,!(!(l=a.getUnassignedLivePreviewBroadcast())&&a[c(350)])){n.next=23;break}if(n.prev=4,n.t0=a.shouldFetchUserBroadcasts(o),!n.t0){n.next=10;break}return n.next=9,a[c(396)](o[c(539)],o);case 9:d=n.sent;case 10:if(n.t1=d&&d[c(412)][c(669)],n.t1){n.next=15;break}return n.next=14,a[c(519)](i()(i()({},C),{},{score:a[c(483)]}));case 14:d=n.sent;case 15:if(d[c(412)][c(669)]){n.next=17;break}return n.abrupt("return",(console[c(339)](c(522)),null));case 17:a[c(509)]=E[c(606)](d.broadcasts,null===(u=d)||void 0===u||null===(u=u[c(614)])||void 0===u?void 0:u[c(412)]),l=a[c(468)](),n.next=23;break;case 20:return n.prev=20,n.t2=n.catch(4),n.abrupt("return",(console[c(339)]("Unable to obtain Live Preview broadasts",n.t2),null));case 23:return n.abrupt("return",l?(l[c(626)]=t,l):(console[c(339)](c(531)),null));case 24:case"end":return n.stop()}},n,null,[[4,20]])}))()}getLivePreviewBroadcasts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return new Promise((t,r)=>{var a=l;this[a(341)][a(508)]((i,n)=>{if(n||!i)return void r(n);var s=i.accessToken;this[a(588)][a(364)]({method:h,url:this[a(390)]+a(590)+this.network+a(503),headers:{"content-type":a(372),"X-Parse-Application-Id":"sns-video","X-Parse-Session-Token":s},body:JSON[a(677)](e)},(e,i)=>{if(i)return this[a(350)]=!1,void r(i);var n=(e||{}).result,s=void 0===n?{}:n;this[a(350)]=!0===s.more,this[a(483)]=s[a(447)]||"0",t(s)})})})}[e(396)](e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{var n=l;this[n(341)][n(508)]((s,o)=>{if(o||!s)return void a(o);var c=s.accessToken;this[n(588)][n(364)]({method:h,url:this[n(390)]+"/video-api/"+this.network+n(532),headers:{"content-type":n(372),"X-Parse-Application-Id":n(453),"X-Parse-Session-Token":c},body:JSON[n(677)](i()(i()({networkUserIds:e},t.lat&&{latitude:t[n(667)]}),t.lng&&{longitude:t[n(579)]}))},(e,t)=>{if(t)return void a(t);var s=(e||{}).result,o=void 0===s?{}:s;if(o[n(412)]){var c=E.combineBroadcastsWithMetadata(o.broadcasts,o[n(614)][n(412)]);this[n(559)]=c[n(463)]((e,t)=>(e[t[n(595)]]=i()(i()({},t),{},{broadcastId:t[n(595)]}),e),this[n(559)])}r(o)})})})}[e(575)](t){var r=arguments,a=this;return c()(s()().mark(function i(){var n,o;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],o=e,!(!a.livePreviewUserBroadcastData[t]&&n)){i.next=12;break}return i.prev=3,i.next=6,a[o(642)](t);case 6:a[o(559)][t]=i.sent,i.next=12;break;case 9:i.prev=9,i.t0=i.catch(3),console[o(339)]("Unable to fetch broadcast data for broadcastId="+t);case 12:return i.abrupt("return",a.livePreviewUserBroadcastData[t]);case 13:case"end":return i.stop()}},i,null,[[3,9]])}))()}getBroadcastData(e){return new Promise((t,r)=>{var a=l;this[a(341)][a(508)](i=>{var n=i.accessToken;this[a(588)].sendRequest({method:h,url:this[a(390)]+"/video-api/"+this[a(543)]+a(369),headers:{"content-type":"application/json; charset=UTF-8","X-Parse-Application-Id":a(453),"X-Parse-Session-Token":n},body:JSON[a(677)]({broadcastId:e})},(e,a)=>{if(a)return void r(a);var i=(e||{}).result;t(void 0===i?{}:i)})})})}handleInitialization(t,r){var a=this.initializations[r];a?(a.isInitialized=!0,Array.isArray(a[e(475)])&&(a.initializedPromises[e(429)](e=>(0,e.resolve)()),delete a[e(475)])):this[e(443)][r]={isInitialized:!0}}[e(548)](t){this[e(443)][t]||(this[e(443)][t]={isInitialized:!1,initializedPromises:[]});var r=this[e(443)][t];return r[e(664)]?Promise.resolve():new Promise((t,a)=>{r.initializedPromises[e(497)]({resolve:t,reject:a})})}}class N{constructor(t,r,a){this[e(341)]=t,this[e(588)]=r,this[e(543)]=a.network,this[e(576)]=a[e(576)],this[e(390)]=a.gatewayUrl,this[e(565)]=null}static[e(598)](){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t[e(463)]((e,t)=>{var r=t.objectId,a=t.socialNetworkName,i=t.visibleTo;return e[r]={network:a,visibleTo:i},e},{})}[e(618)](t){var r=this;return c()(s()().mark(function a(){var i;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=e,a.next=3,r[i(673)]();case 3:return a.t0=t,a.abrupt("return",a.sent[a.t0]);case 5:case"end":return a.stop()}},a)}))()}[e(673)](){return this[e(565)]||(this.socialNetworksFetchPromise=new Promise((t,r)=>{this[e(341)][e(508)](a=>{var i=a.accessToken;this[e(588)].sendRequest({method:h,url:this[e(390)]+e(590)+this[e(543)]+e(353),headers:{"content-type":e(372),"X-Parse-Application-Id":e(453),"X-Parse-Session-Token":i},body:JSON[e(677)]({hostAppName:this.network,hostAppVersion:this[e(576)]})},(a,i)=>{i?r(i):t(N[e(598)](null==a?void 0:a[e(502)]))})})})),this[e(565)]}}var B="3.17.0",q=/^(#(?:[\da-f]{3,4}|[\da-f]{6}(?:[\da-f]{2})?)|rgb\([\d]{1,3}(?:[\s]*,[\s]*[\d]{1,3}){2}\)|rgba\([\d]{1,3}(?:[\s]*,[\s]*[\d]{1,3}){2}(?:[\s]*,[\s]*0(?:\.[\d]{1,2})?|[\s]*,[\s]*1(?:\.0)?)?\))$/i,O=function(){var t=c()(s()().mark(function t(r,a,i){var n;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,t.t0=r,!a){t.next=10;break}return t.next=5,i.getSNSBroadcastData(a);case 5:t.t2=t.sent,t.t3={broadcast:t.t2},t.t1={type:"livePreviewBroadcastLoading",payload:t.t3},t.next=11;break;case 10:t.t1={type:n(636)};case 11:t.t4=t.t1,(0,t.t0)(t.t4);case 13:case"end":return t.stop()}},t)}));return (),D=class{constructor(t){if(!window)throw Error(e(423));if(t[e(462)])try{this.originalWebLiveURLObject=new URL(t.webLiveURL)}catch(t){throw Error(e(662))}U[e(386)](t),S[e(375)](),this[e(461)]=new class{constructor(){this[e(420)]={},this[e(378)]={},this[e(432)]=null,this[e(389)]=this[e(389)][e(601)](this),this.handleWindowUnload=this[e(356)].bind(this)}[e(356)](t){Object[e(542)](this[e(378)])[e(572)](&&(t[e(477)](),t[e(496)]="",Object[e(385)](t,{_defaultPrevented:!0}))}createIframe(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random().toString(36)[e(566)](2),i=M.createWebLiveIframe(r,a),n={frameId:a,iframe:i,origin:M.getOrigin(r),url:r,container:M.insertWebLiveIframe(t,i),onBootstrapped:[],callbacks:{},currentRoute:""};return this[e(432)]=n,this[e(378)][a]=n,M[e(567)](this.onPostMessage),M[e(455)](this[e(356)]),n}[e(424)](t){return this[e(378)][t]||this[e(432)]}[e(612)](t,r,i){var n=this.getIframeData(t)||{},s=n.iframe,o=n.origin,c=n.bootstrapped,l=n.onBootstrapped;if(!s)throw Error(e(570));if(r!==a&&!c)return void l[e(497)]({action:this.send.bind(this),args:[t,r,i]});var u=s.contentWindow;u&&u[e(449)]({type:r,payload:i},o||"*")}[e(471)](t,r){Object[e(631)](this.iframesData)[e(429)](}[e(557)](t,r,a){var i=this.iframesData[a];if(i){var n=i.callbacks;return n[t]||(n[t]=[]),void n[t][e(497)](r)}this[e(420)][t]=r}[e(365)](t,r){var a=this[e(424)](r);if(a){var i=a.callbacks;delete i[t]}else delete this.callbacks[t]}[e(506)](t){var r=this[e(424)](t);r?r[e(420)]={}:this[e(420)]={}}onPostMessage(t){if(t.data[e(626)]in this[e(378)]&&Object[e(542)](this[e(378)])[e(572)](r=>{var a=r.origin;return t[e(574)]===a})){var r=t[e(553)],a=r.type,i=r.payload,n=r.frameId,s=[],o=this[e(424)](n);switch(s.push(...o[e(420)][a]||[]),0===s[e(669)]&&this[e(420)][a]&&s[e(497)](this[e(420)][a]),a){case e(584):o[e(584)]=!0,S[e(623)]=!(!i||!i[e(623)]),o.onBootstrapped.forEach(t=>{t[e(549)](...t[e(437)])}),o[e(501)]=[];break;case e(343):i&&!0===i[e(379)]?M.dropCurtain(o,i.id,i.bgColor,()=>{this.send(n,e(611),{id:i.id})}):M[e(460)](o,i.id);break;case u:o[e(440)]=i[e(571)];default:s[e(429)](t=>{e(533)==typeof t&&t(i,n)})}}}},this[e(341)]=S,this.styleManager=new R,this.requestManager=new class{constructor(t){var r=t.hostAppName,a=t.hostAppVersion,i=t.sdkVersion;this.userAgent=r+"/"+a+" web/"+i,U[e(587)](this.userAgent)}[e(364)](t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{U[e(454)](t)}catch(e){return void r(null,e)}var a=t.method,n=t.url,s=t.headers,o=t.body,c=t.withCredentials,l=i()({"x-user-agent":this[e(373)]},s),u=new XMLHttpRequest;u[e(638)](a,n,!0),Object.keys(l)[e(669)]>0&&Object[e(631)](l)[e(429)](t=>{var r=l[t];void 0!==r&&u[e(513)](t,r)}),this[e(388)](u,r),u[e(377)]=!!c,u.send(o)}[e(388)](t,r){t instanceof XMLHttpRequest&&(t[e(510)]=()=>{if(t[e(383)]===XMLHttpRequest[e(671)]){var a,i=null,n=null;try{a=JSON[e(403)](t[e(478)])}catch(e){a=t.responseText}200===t[e(459)]?i=a:n={code:t[e(459)],message:a},e(533)==typeof r&&r(i,n)}})}}({hostAppName:t.hostAppName,hostAppVersion:t[e(576)],sdkVersion:B}),this.DOMHelper=M,this[e(410)]=t,/\/+$/[e(395)](this[e(410)][e(390)])&&(this[e(410)][e(390)]=this[e(410)][e(390)][e(357)](/\/+$/g,"")),/\/+$/.test(this[e(410)][e(361)])&&(this[e(410)][e(361)]=this[e(410)][e(361)][e(357)](/\/+$/g,"")),this.eventManager=new class{constructor(t,r,a){var i=t.hostAppName,n=t.hostAppVersion,s=t.credentials,o=t.locale,c=t.authToken,l=t.chatSupport,u=t.rechargeURL,d=t.gendersSupport;this[e(410)]={hostAppName:i,hostAppVersion:n,credentials:s,locale:o,authToken:c,chatSupport:!!l,gendersSupport:!!(void 0===d||d),rechargeURL:u},this.styleManager=r,this[e(461)]=a}[e(435)](t,r){var i=this[e(410)],n=i.hostAppName,s=i.hostAppVersion,c=i.locale,l=i.chatSupport,u=i.rechargeURL,d=i.gendersSupport;S[e(508)]((t,i)=>{if(i)throw this[e(461)][e(612)](r,o,p),Error(p);var h={requestToken:t.accessToken,refreshToken:t.refreshToken,expiresIn:t[e(359)],locale:c,chatSupport:l,gendersSupport:d,hostAppName:n,hostAppVersion:s,theme:this[e(492)][e(354)](),rechargeURL:u};this[e(461)][e(612)](r,a,h)})}[e(391)](){S[e(544)]((t,r)=>{if(r)return void(S[e(366)]?S.reinitSessionHandler():this[e(461)][e(471)](n,r));var a={requestToken:t.accessToken,refreshToken:t[e(544)],expiresIn:t.expiresIn};this[e(461)][e(471)](n,a)})}}(this[e(410)],this.styleManager,this[e(461)]),this.livePreviewManager=new E(S,this[e(588)],{network:this.config.hostAppName,gatewayUrl:this.config[e(390)]}),this[e(629)]=new N(S,this.requestManager,{network:this[e(410)].hostAppName,hostAppVersion:this[e(410)][e(576)],gatewayUrl:this[e(410)].gatewayUrl}),this[e(524)]=new class{e(414)](t){var r=this;return c()(s()().mark(function a(){var i,n,o,c,l,u,d,h,p,v,f,g,w,m,b,k,y,x,T,P,A,I,U,S;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=e,o=(n=t||{}).objectId,c=n.streamDescription,l=n.currentViewers,u=n.totalViewers,p=(h=void 0===(d=n.userDetails)?{}:d).firstName,v=h.networkUserId,w=(g=void 0===(f=h.socialNetwork)?{}:f).socialNetworkName,m=g.objectId,y=(k=void 0===(b=h.profilePic)?{}:b).large,x=k.square,T=n.isActive,I=void 0===(A=(void 0===(P=n.metadata)?{}:P).distanceInKm)?null:A,U=w){a.next=7;break}return a.next=5,r[i(629)][i(618)](m);case 5:U=null==(S=a.sent)?void 0:S.network;case 7:return a.abrupt("return",{broadcastId:o,streamDescription:c,currentViewers:l,totalViewers:u,streamerFirstName:p,networkUserId:U+i(627)+v,distanceInKm:I,profilePic:{large:y,square:x},isActive:T});case 8:case"end":return a.stop()}},a)}))()}}(this[e(629)]),this[e(341)][e(342)](i()(i()({},this.config),{},{requestManager:this[e(588)]})),this[e(427)]=new class{constructor(){this[e(368)]=[],this.pendingPromise=!1}[e(529)](e){return new Promise((t,r)=>{var a=l;this.queue[a(497)]({promise:e,resolve:t,reject:r}),this[a(540)]()})}[e(540)](){if(this[e(499)])return!1;var t=this[e(368)][e(648)]();if(!t)return!1;try{this[e(499)]=!0,t.promise()[e(608)](r=>{this[e(499)]=!1,t[e(569)](r),setTimeout(()=>this[e(540)](),0)})[e(582)](r=>{this[e(499)]=!1,t[e(346)](r),setTimeout(()=>this[e(540)](),0)})}catch(r){this[e(499)]=!1,t[e(346)](r),setTimeout(()=>this[e(540)](),0)}return!0}}}[e(585)](t,r){var a=arguments,n=this;return c()(s()().mark(function o(){var c,l,u,d,h,p,v,f,g;return s()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:c=a.length>2&&void 0!==a[2]?a[2]:[],h=void 0===(d=(u=n[(l=e)(410)]).version)?null:d,p=u.hostAppName,v=u.hostAppVersion,f=Math[l(511)]()[l(530)](36)[l(566)](2),n[l(461)][l(557)](l(466),n[l(387)][l(435)][l(601)](n[l(387)]),f),n.postManager[l(557)](l(656),n[l(387)][l(391)][l(601)](n[l(387)]),f);try{(g=new URL(r))[l(547)].append(l(374),p),g.searchParams[l(552)](l(576),v),g[l(547)][l(552)](l(626),f),g.searchParams.append(l(639),B),c[l(429)](e=>g[l(547)][l(552)]("features",e)),h&&g[l(547)][l(552)]("v",h),n[l(410)][l(462)]=g[l(530)]()}catch(e){n[l(410)].webLiveURL=r}return s.abrupt("return",(n[l(341)][l(342)](i()(i()({},n[l(410)]),{},{requestManager:n[l(588)]})),n[l(341)][l(508)](()=>{}),n[l(461)][l(585)](t,n.config[l(462)],f),{frameId:f}));case 5:case"end":return s.stop()}},o)}))()}setSpecialOfferPurchaseURLHandler(t){U[e(426)](t),this[e(341)][e(476)](t)}changeRoute(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this[e(461)][e(612)](a,e(617),{route:t,filter:r})}[e(556)](e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=L.getViewBroadcastRoute(e,t||{});this.changeRoute(a,null,r)}[e(407)](t){U[e(426)](t),this[e(461)][e(557)](u,t)}setSendChatMessageHandler(t){U[e(426)](t),this[e(461)][e(557)]("sendChatMessage",function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(r[e(663)],r[e(665)],r[e(442)])})}[e(493)](t){U.validateCallback(t),this[e(341)][e(526)](t)}[e(568)](t){U[e(426)](t),this[e(461)][e(557)](e(398),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(e.balance)})}setMaximizeViewingAreaHandler(t){U[e(426)](t),this[e(461)][e(557)]("maximizeViewingArea",}setScopeRequiredHandler(t){var r=this;U[e(426)](t),this[e(461)][e(557)](e(416),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(e,e=>{var t=l;r.setNewAuthToken(e||r[t(387)][t(410)][t(352)])})})}setNewAuthToken(t){this.eventManager.config[e(352)]=t,this[e(341)].requestToken(t,!1,!0)[e(608)](t=>{this[e(461)][e(471)](n,t)})[e(582)](()=>{throw this[e(461)][e(471)](o,p),Error(p)})}[e(518)](t,r){if(!q[e(395)](t))throw Error(e(654));this[e(492)].setBackgroundColor(t),this[e(624)](this[e(492)][e(354)](),r)}[e(624)](t,r){this[e(492)][e(624)](t),this.postManager.send(r,e(624),{theme:t})}[e(520)](t){var r=Number(t);Number[e(402)](r)||this[e(537)][e(520)](r)}[e(508)](t){this[e(341)].ensureAccessTokenLoaded(t)}getUserRelation(t,r){U.validateNonEmptyString(t),U[e(426)](r),this[e(508)]((a,i)=>{i?r(i):this.requestManager[e(364)]({method:d,withCredentials:!0,url:this.config[e(390)]+e(348)+t+e(604),headers:{"content-type":"application/json; charset=UTF-8",Authorization:e(498)+S[e(643)].accessToken}},(e,t)=>t?r(t):r(null,e))})}[e(661)](t,r){var a=t.networkUserId,i=t.following,n=t.source;U[e(551)](a),U[e(426)](r),this.ensureAccessTokenLoaded((t,s)=>{s?r(s):this[e(588)].sendRequest({method:e(591),withCredentials:!0,url:this.config[e(390)]+e(348)+a+e(604),headers:{"content-type":e(372),Authorization:e(498)+S[e(643)][e(438)]},body:JSON[e(677)]({following:!!i,source:n})},(e,t)=>t?r(t):r(null,e))})}[e(652)](t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this[e(508)]((i,n)=>{n?a(n):this[e(588)][e(364)]({method:e(672),withCredentials:!0,url:this[e(410)][e(390)]+e(348)+t,headers:{"content-type":e(372),Authorization:e(498)+S[e(643)][e(438)]},body:JSON.stringify(r)},(e,t)=>t?a(t):a(null,e))})}getUserVIPStatus(e){U.validateCallback(e),this.ensureAccessTokenLoaded((t,r)=>{var a=l;r?e(r):this[a(588)].sendRequest({method:d,withCredentials:!0,url:this[a(410)][a(390)]+a(607),headers:{"content-type":a(372),Authorization:a(498)+S[a(643)][a(438)]}},(t,r)=>{var a=t.keys;return r?e(r):e(null,{keys:a})})})}[e(561)](t){U[e(426)](t),this[e(508)]((r,a)=>{a?t(a):this.requestManager[e(364)]({method:d,withCredentials:!0,url:this[e(410)].gatewayUrl+e(408),headers:{"content-type":"application/json; charset=UTF-8",Authorization:e(498)+r.accessToken}},(e,r)=>r?t(r):t(null,{items:e.items}))})}[e(401)](t,r){U[e(426)](r),this[e(508)]((a,i)=>{i?r(i):this.requestManager[e(364)]({method:d,withCredentials:!0,url:this[e(410)][e(390)]+e(563)+t,headers:{"content-type":e(372),Authorization:"Bearer "+a[e(438)]}},(e,a)=>a?r(a):r(null,{owner:e.owner,currency:t,balance:e.balance}))})}getInAppCurrencyBalance(t){U.validateCallback(t),this[e(444)]().then(r=>{var a=r.economy,i=(void 0===a?{}:a).currency,n=(void 0===i?{}:i).id;this[e(401)](n,t)})[e(582)](}[e(431)](t,r){var a=this;U[e(551)](t),U[e(426)](r),this[e(508)]((i,n)=>{var o;n?r(n):this[e(588)].sendRequest({method:d,withCredentials:!0,url:this.config[e(390)]+e(406)+t,headers:{"content-type":"application/json; charset=UTF-8",Authorization:e(498)+S[e(643)].accessToken}},(o=c()(s()().mark(function t(i,n){var o,c,l;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}t.t0=r(n),t.next=15;break;case 4:if(!(null!=i&&null!==(o=i[e(521)])&&void 0!==o&&o.error)){t.next=8;break}t.t1=r(null==i||null===(c=i[e(521)])||void 0===c?void 0:c[e(344)]),t.next=14;break;case 8:return t.t2=r,t.next=11,a.dataTransformHelper[e(414)](null==i||null===(l=i[e(521)])||void 0===l?void 0:l[e(502)]);case 11:t.t3=t.sent,t.t4={broadcast:t.t3},t.t1=(0,t.t2)(null,t.t4);case 14:t.t0=t.t1;case 15:return t.abrupt("return",t.t0);case 16:case"end":return t.stop()}},t)})),function(e,t){return o.apply(this,arguments)}))})}[e(441)](t){U[e(426)](t),this[e(508)]((e,r)=>{t(r,(e||{}).accessToken)})}[e(397)](t,r,a,n){var o=arguments,l=this;return c()(s()().mark(function u(){var d,h,p,v,f;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return d=o.length>4&&void 0!==o[4]?o[4]:U[(h=e)(426)](n),p=L[h(392)](r,a),(v=new URL(l[h(625)]||l.config.webLiveURL))[h(505)]=v[h(505)]+h(628),u.next=7,l.createIframe(t,v,[h(464)]);case 7:return f=u.sent.frameId,u.abrupt("return",(l.changeRoute(p,null,f),l.postManager[h(557)](h(616),c()(s()().mark(function e(){var t,r,a=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r=h,e.t0=n,e.t1=i(),e.t2=i()({},t),e.t3={},e.next=8,l[r(524)][r(414)](t[r(553)]);case 8:e.t4=e.sent,e.t5={broadcast:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),(0,e.t0)(e.t6);case 12:case"end":return e.stop()}},e)})),f),l[h(461)].subscribe(h(482),f),{frameId:f}));case 10:case"end":return u.stop()}},u)}))()}getLivePreviewBroadcastsForUsers(t,r,a){var i,n=this;U[e(426)](a),this[e(596)][e(396)](t,r)[e(608)]((i=c()(s()().mark(function t(r){var i;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e,t.t0=a,t.next=4,Promise[i(470)](r.broadcasts[i(564)](function(){var e=c()(s()().mark(function e(t){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n[i(524)][i(414)](t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:t.t1=t.sent,t.t2={broadcasts:t.t1},(0,t.t0)(null,t.t2);case 7:case"end":return t.stop()}},t)})),function(e){return i.apply(this,arguments)}))[e(582)](e=>a(e))}[e(668)](t,r,a){var n=this;U[e(551)](t),U[e(426)](a),this[e(508)]((o,l)=>{if(l)return void a(l);var u=i()({userId:t,limit:(null==r?void 0:r.limit)||10},void 0!==(null==r?void 0:r[e(578)])&&{isActive:r[e(578)]}),d=this[e(410)].hostAppName;this[e(588)].sendRequest({method:h,url:this[e(410)][e(390)]+e(590)+d+e(562),headers:{"content-type":e(372),"X-Parse-Application-Id":e(453),"X-Parse-Session-Token":o[e(438)]},body:JSON[e(677)](u)},(t,r)=>{if(r)return void a(r);var i,o,l=null==t||null===(i=t.result)||void 0===i?void 0:i[e(564)]((o=c()(s()().mark(function t(r){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.dataTransformHelper[e(414)](r);case 2:return t.t0=t.sent,t.abrupt("return",{broadcast:t.t0});case 4:case"end":return t.stop()}},t)})),);Promise[e(470)](l).then(e=>a(null,e)).catch(})})}[e(635)](t,r,a){var i=this;return c()(s()().mark(function n(){var o,u;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=e,u=function(){var e=c()(s()().mark(function e(r,a){var n;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l,e.t0=t,e.t1=r,e.next=5,i[n(524)][n(414)](a);case 5:e.t2=e.sent,e.t3={broadcast:e.t2},e.t4={type:e.t1,payload:e.t3},(0,e.t0)(e.t4);case 9:case"end":return e.stop()}},e)}));return (),i[o(461)][o(557)]("livePreviewClicked",e=>u(o(363),e),r),i[o(461)].subscribe(o(382),e=>u(o(382),e),r),i[o(461)][o(557)](o(394),r),i.postManager.subscribe(o(456),i[o(596)][o(349)][o(601)](i[o(596)]),r),i[o(461)][o(557)](o(486),c()(s()().mark(function e(){var n,c,l,u;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o,l=null,e.t0=a[c(630)],e.t0){e.next=7;break}return e.next=6,i[c(596)].getNextBroadcast(r);case 6:l=e.sent;case 7:O(t,l,i[c(524)]),u=L[c(523)](null===(n=l)||void 0===n?void 0:n[c(630)],a),i.changeRoute(u,null,r);case 10:case"end":return e.stop()}},e)})),r);case 2:case"end":return n.stop()}},n)}))()}[e(458)](t,r,a){var n=this;return c()(s()().mark(function o(){var l;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=e,o.abrupt("return",(U.validateCallback(a),n[l(427)][l(529)](c()(s()().mark(function e(){var o,c,u,d,h,p,v;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=l,(d=new URL(n[u(625)]||n[u(410)].webLiveURL))[u(505)]=d[u(505)]+u(594),e.next=4,n[u(585)](t,d,["live-preview"]);case 4:if(h=e.sent.frameId,!r[u(630)]){e.next=19;break}return e.t1=i(),e.t2=i(),e.t3={},e.next=12,n[u(596)].getUserBroadcastData(r[u(630)],!0);case 12:e.t4=e.sent,e.t5=(0,e.t2)(e.t3,e.t4),e.t6={},e.t7={broadcastId:r[u(630)]},e.t0=(0,e.t1)(e.t5,e.t6,e.t7),e.next=22;break;case 19:return e.next=21,n.livePreviewManager[u(490)](h,r);case 21:e.t0=e.sent;case 22:return O(a,p=e.t0,n[u(524)]),v=L[u(523)](null===(o=p)||void 0===o?void 0:o[u(630)],r,null===(c=p)||void 0===c?void 0:c[u(614)]),n[u(536)](v,null,h),e.next=28,n[u(635)](a,h,r);case 28:return e.abrupt("return",{frameId:h});case 29:case"end":return e.stop()}},e)})))));case 2:case"end":return o.stop()}},o)}))()}preloadLivePreviewStream(t){this.livePreviewManager[e(548)](t).then(()=>this[e(461)].send(t,e(381),{}))}[e(655)](t,r,a){U[e(426)](r),U.validateFontConfig(t);var n=Math.random()[e(530)](36).slice(2);this.postManager.send(a,e(589),i()(i()({},t),{},{requestId:n})),this.postManager[e(557)](e(658),t=>{t[e(649)]===n&&r(t[e(404)],null)},a)}[e(670)](t,r,a){U[e(645)](t),U[e(473)](r),this[e(461)][e(612)](a,e(670),{locale:t,textData:r})}getClientSideConfig(){return new Promise((e,t)=>{var r=l;this[r(508)]((a,i)=>{i?t(i):this[r(341)].getConfigurationManager()[r(433)](a[r(438)])[r(608)](e)[r(582)](t)})})}};return r[e(491)]})())},99077:e=>{.exports=e.exports.__esModule=!0,e.exports.default=e.exports}}]);