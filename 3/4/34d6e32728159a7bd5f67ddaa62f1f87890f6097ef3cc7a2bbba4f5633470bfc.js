var FBPublication="object"==typeof FBPublication?FBPublication:{};FBPublication.analytics=[function(t,n,e){"use strict";e.r(n);var i=e(3),a=e(4),o=e(5);function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(Object(e),!0).forEach((function(n){l(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function l(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,n,e){return n&&u(t.prototype,n),e&&u(t,e),t}var y=function(){function t(n,e){c(this,t);var i=n.userUAIDs.filter((function(t){return 0===t.indexOf("UA")})),a=n.fbUAIDs.filter((function(t){return 0===t.indexOf("UA")})),o=n.userUAIDs.filter((function(t){return 0===t.indexOf("G")})),r=n.fbUAIDs.filter(();(a[0]||i[0])&&this.applyUniversalAnalytics(s(s({},n),{fbUAIDs:a,userUAIDs:i}),e),(r[0]||o[0])&&this.applyGA4(s(s({},n),{fbUAIDs:r,userUAIDs:o}),e)}return d(t,[{key:"applyUniversalAnalytics",value:function(t,n){i.default.init(t),this.UAProvider=new a.UniversalAnalytics,n&&this.subscribeOnPublicationAPI(n)}},{key:"applyGA4",value:,{key:"subscribeOnPublicationAPI",value:,{key:"dispatch",value:function(t,n,e,a,o){this.UAProvider&&i.default.dispatch(t,n,e,a,o),this.GA4Provider&&this.GA4Provider.track({category:t,action:t.toLowerCase()+"_"+n.toLowerCase().replace(" ","_"),label:e,value:a,additionalLabel:o})}}]),t}();window.universalAnalytics=i.default,window.UniversalAnalytics=a.UniversalAnalytics,window.GoogleAnalytics=y},function(t,n,e){"use strict";e.r(n),(function(t){n.default={dimensionForVersion:void 0,version:void 0,appName:void 0,dimensionForAdditionalLabel:void 0,uaIDs:[],nonInteraction:!0,multiua:function(){if(void 0===t.FBO||!t.FBO.Config.DisableViewTracking){var n=Array.prototype.slice.call(arguments);if(t.universalAnalytics.uaIDs)for(var e=0,i=t.universalAnalytics.uaIDs.length;e<i;e++){var a=n.slice();a[0]="additional"+e.toString()+"."+a[0],t.universalAnalytics.pushApply(a)}}},fbua:function(){if(void 0===t.FBO||!t.FBO.Config.DisableViewTracking){var n=Array.prototype.slice.call(arguments);if(t.universalAnalytics.fbIDs)for(var e=0,i=t.universalAnalytics.fbIDs.length;e<i;e++){var a=n.slice();a[0]="additional"+e.toString()+"."+a[0],t.universalAnalytics.pushApply(a)}}},lastApply:(new Date).getTime(),timerId:void 0,tryApply:function(){var n=(new Date).getTime();if(n-t.universalAnalytics.lastApply>40){var e=t.universalAnalytics.events.shift();t.ua.apply(null,e),t.universalAnalytics.lastApply=n}t.universalAnalytics.events.length>0?void 0===t.universalAnalytics.timerId&&(t.universalAnalytics.timerId=setInterval((,40)):(clearInterval(t.universalAnalytics.timerId),t.universalAnalytics.timerId=void 0)},pushApply:events:[],ip:void 0,generateId:function(){var t="xx-x-x-x-xxx".replace(/[xy]/g,(function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}));try{localStorage.setItem("clientId",t)}catch(n){}return t},init:function(n,e,i,a,o,r,s,l,c,u,d){if(void 0===t.FBO||!t.FBO.Config.DisableViewTracking){var y,v,p;if("[object Object]"===Object.prototype.toString.call(n)?(y=n,t.universalAnalytics.platform=y.platform,t.universalAnalytics.startDate=y.startDate,t.universalAnalytics.dimensionForAdditionalLabel=y.dimensionForAdditionalLabel,t.universalAnalytics.dimensionForVersion=y.dimensionForVersion,t.universalAnalytics.dimensionForClientId=y.dimensionForClientId,t.universalAnalytics.sessionControl=y.sessionControl,t.universalAnalytics.version=y.version,t.universalAnalytics.appName=y.appName,t.universalAnalytics.fbIDs=y.fbUAIDs.slice(),t.universalAnalytics.uaIDs=y.fbUAIDs.concat(y.userUAIDs).slice(),t.universalAnalytics.anonymizeIp=y.anonymizeIp,t.universalAnalytics.url=null===y.url?"auto":y.url,t.universalAnalytics.title=y.title,v=y.nonce||null):(t.universalAnalytics.platform=a,t.universalAnalytics.startDate=o,t.universalAnalytics.dimensionForAdditionalLabel=c,t.universalAnalytics.dimensionForVersion=u,t.universalAnalytics.version=r,t.universalAnalytics.appName=l,t.universalAnalytics.fbIDs=n.slice(),t.universalAnalytics.uaIDs=n.concat(e).slice(),t.universalAnalytics.anonymizeIp=s,t.universalAnalytics.url=null===i?"auto":i,t.universalAnalytics.title=d),t.universalAnalytics.sessionStarted=!1,t.universalAnalytics.dimensionForAdditionalLabel||(t.universalAnalytics.dimensionForAdditionalLabel="dimension1"),t.universalAnalytics.dimensionForVersion||(t.universalAnalytics.dimensionForVersion="dimension2"),function(t,n,e,i,a,o,r){t.GoogleAnalyticsObject=a,t[a]=t[a]||t[a].l=1*new Date,o=n.createElement(e),r=n.getElementsByTagName(e)[0],o.async=1,v&&o.setAttribute("nonce",v),o.src=i,r.parentNode.insertBefore(o,r)}(t,document,"script","//www.google-analytics.com/analytics.js","ua"),y&&y.clientId)p=y.clientId;else try{p=localStorage.getItem("clientId")}catch(A){console.log("No access to localStorage.")}finally{p=p||t.universalAnalytics.generateId()}for(var f={allowLinker:!0,storage:"none",storeGac:!1,clientId:p},h=0,g=t.universalAnalytics.uaIDs.length;h<g;h++)t.ua("create",t.universalAnalytics.uaIDs[h],t.universalAnalytics.url,"additional"+h.toString(),f);t.universalAnalytics.dimensionForClientId&&t.universalAnalytics.fbua("set",t.universalAnalytics.dimensionForClientId,p),t.universalAnalytics.multiua("require","displayfeatures"),!0===t.universalAnalytics.anonymizeIp?t.universalAnalytics.multiua("set","anonymizeIp",!0):t.universalAnalytics.fbua("set","anonymizeIp",!0),t.universalAnalytics.title&&t.universalAnalytics.multiua("set","title",t.universalAnalytics.title),void 0!==t.universalAnalytics.dimensionForVersion&&t.universalAnalytics.multiua("set",t.universalAnalytics.dimensionForVersion,t.universalAnalytics.version),t.universalAnalytics.multiua("require","ecommerce"),t.universalAnalytics.multiua("require","ec")}},getPlatform:path:void 0,getPath:function(){if(void 0===t.universalAnalytics.path)if(void 0!==t.FBO)t.universalAnalytics.path=t.FBO.PreloadedPublicationModel.Publication.HashId+"/";else{if(t.universalAnalytics.path=t.location.pathname,"basic"===t.universalAnalytics.platform){var n=new RegExp("files/assets/basic-html/page.*html");t.universalAnalytics.path=t.universalAnalytics.path.replace(n,"")}t.universalAnalytics.path.length>0&&"/"!==t.universalAnalytics.path.charAt(0)&&(t.universalAnalytics.path="/"+t.universalAnalytics.path);var e=t.universalAnalytics.path.indexOf("index.html");-1!==e&&e+10===t.universalAnalytics.path.length&&(t.universalAnalytics.path=t.universalAnalytics.path.slice(0,e)),-1!==(e=t.universalAnalytics.path.indexOf("index.htm"))&&e+9===t.universalAnalytics.path.length&&(t.universalAnalytics.path=t.universalAnalytics.path.slice(0,e))}return t.universalAnalytics.path},transactionID:void 0,deteleTransactionID:getTransactionID:function(){return void 0===t.universalAnalytics.transactionID&&(t.universalAnalytics.transactionID=(new Date).getTime().toString(36),void 0!==t.universalAnalytics.startDate&&(t.universalAnalytics.transactionID+=t.universalAnalytics.startDate.toString(36)),void 0!==t.universalAnalytics.openedDate&&(t.universalAnalytics.transactionID+=t.universalAnalytics.openedDate.toString(36))),t.universalAnalytics.transactionID},setCurrency:function(n){t.universalAnalytics.currency=n,t.universalAnalytics.multiua("set","&cu",n)},setShopName:addImpression:addTransaction:function(n){t.universalAnalytics.multiua("ecommerce:addTransaction",{id:t.universalAnalytics.getTransactionID(),affiliation:t.universalAnalytics.shopName,revenue:n,currency:t.universalAnalytics.currency})},addItem:function(n,e,i,a){t.universalAnalytics.multiua("ecommerce:addItem",{id:t.universalAnalytics.getTransactionID(),name:n,sku:e,price:i,quantity:a}),t.universalAnalytics.multiua("ec:addProduct",{id:e,name:n})},purchase:function(n){t.universalAnalytics.multiua("ecommerce:send"),t.universalAnalytics.multiua("ec:setAction","purchase",{id:t.universalAnalytics.getTransactionID(),revenue:n}),t.universalAnalytics.deteleTransactionID()},shareByFacebook:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Facebook","Share",n)},shareByGooglePlus:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Google+","Share",n)},shareByLinkedin:function(n){t.ua&&t.universalAnalytics.multiua("send","social","LinkedIn","Share",n)},shareByTumblr:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Tumblr","Share",n)},shareByVK:function(n){t.ua&&t.universalAnalytics.multiua("send","social","VK","Share",n)},shareByBlogger:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Blogger","Share",n)},tweet:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Twitter","Tweet",n)},shareByEmail:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Email","Mail",n)},shareByMySpace:function(n){t.ua&&t.universalAnalytics.multiua("send","social","MySpace","Share",n)},shareByClipboard:function(n){t.ua&&t.universalAnalytics.multiua("send","social","Clipboard","Copy",n)},dispatch:function(n,e,i,a,o){var r={};void 0!==i&&(r.eventLabel=i),void 0!==a&&(r.eventValue=a),t.universalAnalytics.nonInteraction&&(r.nonInteraction=!0),void 0!==o&&void 0!==t.universalAnalytics.dimensionForAdditionalLabel&&(r[t.universalAnalytics.dimensionForAdditionalLabel]=o),r.page=t.universalAnalytics.getPath(),!0===t.universalAnalytics.anonymizeIp&&(r.anonymizeIp=!0),t.ua&&t.universalAnalytics.multiua("send","event",n,e,r)},fbDispatch:function(n,e,i,a,o){var r={};void 0!==i&&(r.eventLabel=i),void 0!==a&&(r.eventValue=a),t.universalAnalytics.nonInteraction&&(r.nonInteraction=!0),void 0!==o&&void 0!==t.universalAnalytics.dimensionForAdditionalLabel&&(r[t.universalAnalytics.dimensionForAdditionalLabel]=o),r.page=t.universalAnalytics.getPath(),r.anonymizeIp=!0,t.ua&&t.universalAnalytics.fbua("send","event",n,e,r)},zoomIn:function(n,e){t.universalAnalytics.dispatch("Zoom","Zoom In",e,void 0,n)},zoomOut:function(n,e){t.universalAnalytics.dispatch("Zoom","Zoom Out",e,void 0,n)},zoomBlock:function(n){t.universalAnalytics.dispatch("Zoom","Zoom Block",n)},openWindow:function(n,e){t.universalAnalytics.dispatch(n,"Open",e)},closeWindow:print:function(n,e,i){var a=i||e;t.universalAnalytics.dispatch("Print","Print",a)},openLightbox:function(n,e){t.universalAnalytics.dispatch("Lightbox","Open",n,void 0,e)},closeLightbox:function(n){t.universalAnalytics.dispatch("Lightbox","Close",n)},showLightboxContent:function(n,e){t.universalAnalytics.dispatch("Lightbox","Show Content",n,void 0,e)},imageLoaded:function(n){t.universalAnalytics.dispatch("Image","Loaded",n)},download:function(n,e){t.universalAnalytics.dispatch("Download","Download",n,void 0,e)},accessibility:function(n){t.universalAnalytics.dispatch("Accessibility",n)},videoPlay:function(n,e){t.universalAnalytics.dispatch("Video","Play",n,void 0,e)},videoPause:function(n,e){t.universalAnalytics.dispatch("Video","Pause",n,void 0,e)},videoStop:function(n,e){t.universalAnalytics.dispatch("Video","Stop",n,void 0,e)},videoSeekTo:function(n,e){t.universalAnalytics.dispatch("Video","SeekTo",n,void 0,e)},fullscreenOn:function(n){t.universalAnalytics.dispatch("Fullscreen","On",n)},fullscreenOff:function(n){t.universalAnalytics.dispatch("Fullscreen","Off",n)},slideshowStart:function(){t.universalAnalytics.dispatch("Slideshow","Start")},slideshowStop:function(){t.universalAnalytics.dispatch("Slideshow","Stop")},soundOn:function(){t.universalAnalytics.dispatch("Sound","On")},soundOff:addBookmark:function(n,e){t.universalAnalytics.dispatch("Bookmarks","Add",e,void 0,n)},removeBookmark:function(n,e){t.universalAnalytics.dispatch("Bookmarks","Remove",e,void 0,n)},productLink:function(n,e,i){var a=void 0===e?i:e;t.universalAnalytics.dispatch("Link","Product",n,void 0,a)},externalLink:function(n,e,i){i?t.universalAnalytics.fbDispatch("Link","External",n,void 0,e):t.universalAnalytics.dispatch("Link","External",n,void 0,e)},internalLink:function(n,e){t.universalAnalytics.dispatch("Link","Internal",n,void 0,e)},note:function(n,e){t.universalAnalytics.dispatch("Note",n,e)},selectText:function(n,e){t.universalAnalytics.dispatch("SelectText",n,e)},search:function(n){t.universalAnalytics.dispatch("Search","Search",n)},startLoading:function(){t.universalAnalytics.dispatch("Loading","Start",t.universalAnalytics.getPlatform())},openedDate:void 0,publicationOpened:function(){t.universalAnalytics.openedDate=(new Date).getTime(),t.universalAnalytics.dispatch("Loading","Open",t.universalAnalytics.getPlatform(),void 0,t.universalAnalytics.openedDate-t.universalAnalytics.startDate),t.universalAnalytics.sendApplicationTiming(t.universalAnalytics.openedDate-t.universalAnalytics.startDate),t.universalAnalytics.sendFBTiming("Application Load 2",t.universalAnalytics.openedDate-t.universalAnalytics.startDate),t.universalAnalytics.nonInteraction=!1},preloaderLoaded:function(){t.universalAnalytics.preloaderDate=(new Date).getTime(),t.universalAnalytics.sendFBTiming("Preloader Load",t.universalAnalytics.preloaderDate-t.universalAnalytics.startDate)},preloaderDate:void 0,startFlippingBookLoad:function(){t.universalAnalytics.startFlippingBookDate=(new Date).getTime()},startFlippingBookDate:void 0,endFlippingBookLoad:function(){t.universalAnalytics.endFlippingBookDate=(new Date).getTime(),t.universalAnalytics.sendFBTiming("Style Load",t.universalAnalytics.endFlippingBookDate-t.universalAnalytics.startFlippingBookDate)},endFlippingBookDate:void 0,startStyleLoad:function(){t.universalAnalytics.startStyleDate=(new Date).getTime()},startStyleDate:void 0,endStyleLoad:function(){t.universalAnalytics.endStyleDate=(new Date).getTime(),t.universalAnalytics.sendFBTiming("Style Load",t.universalAnalytics.endStyleDate-t.universalAnalytics.startStyleDate)},endStyleDate:void 0,startPropertyLoad:function(){t.universalAnalytics.startPropertyDate=(new Date).getTime()},startPropertyDate:void 0,endPropertyLoad:function(){t.universalAnalytics.endPropertyDate=(new Date).getTime(),t.universalAnalytics.sendFBTiming("Property Load",t.universalAnalytics.endPropertyDate-t.universalAnalytics.startPropertyDate)},endPropertyDate:void 0,startStyleXmlLoad:function(){t.universalAnalytics.startStyleXmlDate=(new Date).getTime()},startStyleXmlDate:void 0,endStyleXmlLoad:function(){t.universalAnalytics.endStyleXmlDate=(new Date).getTime(),t.universalAnalytics.sendFBTiming("Style xml Load",t.universalAnalytics.endStyleXmlDate-t.universalAnalytics.startStyleXmlDate)},endStyleXmlDate:void 0,startFontLoad:startFontDate:void 0,endFontLoad:function(){t.universalAnalytics.endFontDate=(new Date).getTime(),t.universalAnalytics.sendFBTiming("Font Load",t.universalAnalytics.endFontDate-t.universalAnalytics.startFontDate)},endFontDate:void 0,previousPage:void 0,previousPage2:void 0,pageView:function(n){var e={page:t.universalAnalytics.getPath()+("undefined"!=typeof FBO?n:"#"+n)};!1===t.universalAnalytics.sessionControl||t.universalAnalytics.sessionStarted||(e.sessionControl="start",t.universalAnalytics.sessionStarted=!0),t.ua&&t.universalAnalytics.multiua("send","pageview",e)},flipToLastPage:function(n){t.universalAnalytics.fbDispatch("Pages","Last Page",n)},flipToFirstPage:contentSize:function(n,e,i,a){var o=a||n,r=e+"x"+i;t.universalAnalytics.fbDispatch("ContentSize",o,r)},develop:function(n,e){t.universalAnalytics.fbDispatch("Develop",n,e)},contextMenu:function(n,e){t.universalAnalytics.fbDispatch("ContextMenu",n,e)},highlight:function(n,e){t.universalAnalytics.fbDispatch("Highlight",n,e)},openInSlide:function(n,e){t.universalAnalytics.previousPage!==e&&(t.universalAnalytics.pageView(e),t.universalAnalytics.previousPage=e),"Start Book"!==n&&t.universalAnalytics.dispatch("Pages","openInSlide",e,void 0,n)},openInSpread:function(n,e,i){e!==t.universalAnalytics.previousPage&&e!==t.universalAnalytics.previousPage2&&t.universalAnalytics.pageView(e),"Start Book"!==n&&t.universalAnalytics.dispatch("Pages","OpenInSpread",e,void 0,n),i&&(i!==t.universalAnalytics.previousPage&&i!==t.universalAnalytics.previousPage2&&t.universalAnalytics.pageView(i),t.universalAnalytics.dispatch("Pages","OpenInSpread",i,void 0,n),t.universalAnalytics.previousPage2=i),t.universalAnalytics.previousPage=e},turned:function(n,e,i){t.universalAnalytics.dispatch("Pages","Turned",e,n,i)},orientation:function(n,e,i){t.universalAnalytics.dispatch("Orientation",e,n,void 0,i)},sendTiming:function(n,e,i){t.ua&&t.universalAnalytics.multiua("send","timing",t.universalAnalytics.getPlatform(),n,e,i)},sendFBTiming:function(n,e,i){t.ua&&t.universalAnalytics.fbua("send","timing",t.universalAnalytics.getPlatform(),n,e,i)},sendApplicationTiming:sendPageTiming:function(n,e){t.universalAnalytics.sendTiming("Page Load",n,e)},sendSlideTiming:function(n,e){t.universalAnalytics.sendTiming("Slide Load",n,e)},sendThumbnailTiming:sendFatalError:function(n,e){t.ua&&t.universalAnalytics.multiua("send","exception",{exDescription:n,exFatal:!0,appName:t.universalAnalytics.appName,appVersion:t.universalAnalytics.version}),t.universalAnalytics.dispatch("Error","Fatal",n,void 0,e)},sendError:function(n,e){t.ua&&t.universalAnalytics.multiua("send","exception",{exDescription:n,exFatal:!1,appName:t.universalAnalytics.appName,appVersion:t.universalAnalytics.version}),t.universalAnalytics.dispatch("Error","Non Fatal",n,void 0,e)}}}).call(this,e(0))},function(t,n,e){(function(t){!function(e,i){"use strict";e(t,n)}((function(t,n){"use strict";function e(){this.handlers=["init","bookStateChanged","turned","goToFirstPage","goToLastPage","zoomed","unzoomed","slideshow","link","image","video","sound","window","share","print","download","fullscreen","search","develop","contextMenu","highlight","note","orientation","selectText","lightbox","accessibility"]}prototype.subscribe=function(n){if(this.evt=n,t.universalAnalytics)this.analytics=t.universalAnalytics,this._apiSubscribe();else{var e=this;setTimeout((function n(){t.universalAnalytics?(console.log("subscribe"),e.analytics=t.universalAnalytics,e._apiSubscribe()):setTimeout(n,200)}),200)}},e.prototype._apiSubscribe=function(){if(this.analytics&&this.evt&&i(this.evt.on))for(var t in this.handlers)if(this.handlers.hasOwnProperty(t)){var n=this.handlers[t];this.evt.on(n,this[n],this)}},e.prototype.init=function(t){this.state=t,this.oldState=t,this.develop({action:"version",data:t.version}),this.analytics.publicationOpened()},e.prototype.bookStateChanged=function(t,n){this.oldState=this.state||t,this.state=t,this.state.leftPageUrl!==this.state.rightPageUrl||this.state.isSingle||(this.state.rightPageUrl=void 0),this.state.isSlide?this.analytics.openInSlide(n,this.state.leftPageUrl):this.state.isSingle?this.analytics.openInSpread(n,this.state.rightPageUrl):this.analytics.openInSpread(n,this.state.leftPageUrl,this.state.rightPageUrl)},e.prototype.turned=function(t,n,e){var i=t.leftPageUrl;t.isSingle&&(i=t.rightPageUrl),this.analytics.turned(i,n,e)},e.prototype.develop=function(t){this.analytics.develop(t.action,t.data)},e.prototype.goToFirstPage=function(){this.analytics.flipToFirstPage(void 0)},e.prototype.goToLastPage=e.prototype.zoomed=function(t){t.isSingle?this.analytics.zoomIn(void 0,t.rightPageUrl):this.analytics.zoomIn(void 0,t.leftPageUrl||t.rightPageUrl)},e.prototype.unzoomed=function(t){t&&t.isSingle?this.analytics.zoomOut(void 0,t.rightPageUrl):this.oldState.isZoomed?this.analytics.zoomOut(void 0,this.oldState.leftPageUrl||this.oldState.rightPageUrl):this.analytics.zoomOut(void 0,t.leftPageUrl||t.rightPageUrl)},e.prototype.slideshow=function(t){t&&"start"===t.action?this.analytics.slideshowStart():"stop"===t.action&&this.analytics.slideshowStop()},e.prototype.link=function(t){"internal"===t.type&&"page"===t.source?this.analytics.internalLink(t.pageToUrl,t.pageUrl):"external"===t.type&&this.analytics.externalLink(t.url,t.pageUrl,t.isBlacklisted)},e.prototype.lightbox=function(t){"open"===t.action?this.analytics.openLightbox(t.lightboxUrl,t.openTarget):"show_content"===t.action?this.analytics.showLightboxContent(t.lightboxUrl,t.openTarget):"close"===t.action&&this.analytics.closeLightbox(t.lightboxUrl)},e.prototype.image=e.prototype.video=function(t){"play"===t.action?this.analytics.videoPlay(t.url,t.time):"pause"===t.action?this.analytics.videoPause(t.url,t.time):"stop"===t.action?this.analytics.videoStop(t.url,t.time):"seekTo"===t.action&&this.analytics.videoSeekTo(t.url,t.time)},e.prototype.sound=function(t){"on"===t.action?this.analytics.soundOn():"off"===t.action&&this.analytics.soundOff()},e.prototype.window=function(t){var n={Toc:"TOC",Social:"Share"},e=a(t.component);void 0!==n[e]&&(e=n[e]),"open"===t.action?this.analytics.openWindow(e):"close"===t.action&&this.analytics.closeWindow(e)},e.prototype.share=function(t){"facebook"===t.service?this.analytics.shareByFacebook(t.url):"twitter"===t.service?this.analytics.tweet(t.url):"linkedIn"===t.service?this.analytics.shareByLinkedin(t.url):"tumblr"===t.service?this.analytics.shareByTumblr(t.url):"google+"===t.service?this.analytics.shareByGooglePlus(t.url):"email"===t.service?this.analytics.shareByEmail(t.url):"vk"===t.service?this.analytics.shareByVK(t.url):"clipboard"===t.service&&this.analytics.shareByClipboard(t.url)},e.prototype.print=function(t){this.analytics.print(t.filename,a(t.option),t.number)},e.prototype.download=function(t){this.analytics.download(t.fileName,a(t.option))},e.prototype.contextMenu=function(t){"open"===t.action?this.analytics.contextMenu("Open",t.page):"select"===t.action&&this.analytics.contextMenu("Select",t.selectedItem)},e.prototype.highlight=function(t){"on"===t.action?this.analytics.highlight("On",t.page):"off"===t.action&&this.analytics.highlight("Off",t.page)},e.prototype.fullscreen=function(t){"on"===t.action?this.analytics.fullscreenOn():"off"===t.action&&this.analytics.fullscreenOff()},e.prototype.search=e.prototype.note=e.prototype.orientation=function(t){var n=t.state.rightPageUrl||t.state.leftPageUrl;this.analytics.orientation(n,t.value,t.action)},e.prototype.selectText=function(t){this.analytics.selectText(a(t.action),t.pageUrl)},e.prototype.accessibility=n.UniversalAnalytics=e}))}).call(this,e(0))},function(t,n,e){"use strict";e.r(n);var i=e(6);n d(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function y(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,n,e){return n&&y(t.prototype,n),e&&y(t,e),t}unction(t){p(e,t);var n=h(e);function e(t,i){var a;return d(this,e),(a=n.call(this,t)).platform=t.platform||"",a.startDate=t.startDate,a.subscribedToApi=!1,i&&a.subscribeOnPublicationAPI(i),a}return v(e,[{key:"subscribeOnPublicationAPI",value:function(t){if(this.subscribedToApi)throw new Error("Subscription to the API already exists");for(var n=0,e=Object.entries(i.default);n<e.length;n++){var a=o(e[n],2),r=(a[0],a[1]);t.on(r,this[r],this)}this.apiInstance=t,this.subscribedToApi=!0}},{key:i.default.INIT,value:function(t){this.state=t,this.oldState=t,this.hashMode=t.hashMode,this.track({category:"develop",action:"version",label:t.version,nonInteraction:!0,isFBGroup:!0});var n=(new Date).getTime();this.track({category:"loading",action:"opened",label:this.platform,nonInteraction:!0,additionalLabel:n-this.startDate}),this.track({category:this.platform,action:"timing_complete",name:"Application Load",value:n-this.startDate,nonInteraction:!0,isFBGroup:!0}),this[i.default.TURNED](t,"init",this.state.ui.orientation)}},{key:i.default.BOOK_STATE_CHANGED,value:function(t,n){this.oldState=this.state||t,this.state=t}},{key:i.default.TURNED,value:function(t,n,e){var i=this,a=[];t.isSlide||t.leftPageUrl===t.rightPageUrl&&!t.isSingle?a.push(t.leftPageUrl):t.isSingle?a.push(t.rightPageUrl):a.push(t.leftPageUrl,t.rightPageUrl),a.forEach((),this.hashMode?a.forEach((function(t){i.track({action:"page_view",page_location:i.apiInstance.getFullUrl(t),internal:!0})})):a[1]&&this.track({action:"page_view",page_location:this.apiInstance.getFullUrl(a[1]),internal:!0})}},{key:i.default.GO_TO_FIRST_PAGE,value:function(){this.track({category:"page",action:"page_go_to_first"})}},{key:i.default.GO_TO_LAST_PAGE,value:,{key:i.default.ZOOMED,value:function(t){var n;n=t.isSingle?t.rightPageUrl:t.leftPageUrl||t.rightPageUrl,this.track({category:"zoom",action:"zoom_in",event_page:n})}},{key:i.default.UNZOOMED,value:function(t){var n;n=t&&t.isSingle?t.rightPageUrl:this.oldState.isZoomed?this.oldState.leftPageUrl||this.oldState.rightPageUrl:t.leftPageUrl||t.rightPageUrl,this.track({category:"zoom",action:"zoom_out",event_page:n})}},{key:i.default.SLIDESHOW,value:function(t){this.track({category:"slideshow",action:"slideshow_"+t.action})}},{key:i.default.LINK,value:function(t){var n={category:"link"};switch("internal"===t.type&&"page"===t.source?(n.to_page=t.pageToUrl,n.event_page=t.pageUrl):"external"===t.type&&(n.link_url=t.url,n.event_page=t.pageUrl,t.isBlacklisted&&(n.blacklisted=!0,n.isFBGroup=!0)),t.source){case"logo":n.action="logo_click";break;case"copyright":n.action="cta_button_click";break;default:n.action="link_click_"+t.type}this.track(n)}},{key:i.default.LIGHTBOX,value:function(t){this.track({category:"lightbox",action:"lightbox_"+t.action,target:t.openTarget,item_type:t.itemType,url:t.lightboxUrl})}},{key:i.default.IMAGE,value:function(t){this.track({category:"image",action:"image_"+t.action,url:t.url,event_page:t.pageUrl})}},{key:i.default.VIDEO,value:function(t){this.track({category:"video",action:"video_"+t.action,url:t.url,time:t.time})}},{key:i.default.SOUND,value:function(t){this.track({category:"sound",action:"sound_"+t.action})}},{key:i.default.WINDOW,value:function(t){var n={toc:"toc",social:"share",notes:"note_list"},e=t.component.toLowerCase();void 0!==n[e]&&(e=n[e]),this.track({category:"window",action:e+"_"+t.action})}},{key:i.default.SHARE,value:function(t){var n="clipboard"===t.service?"link":t.service;this.track({category:"share",action:"shared_via_"+n,url:t.url})}},{key:i.default.PRINT,value:function(t){var n={category:"print",action:"printed",file_name:t.fileName,option:t.option};"page"===t.option&&(n.printed_page=t.printPage),this.track(n)}},{key:i.default.DOWNLOAD,value:function(t){var n={category:"download",action:"downloaded",file_name:t.fileName,option:t.option};"page"===t.option&&(n.download_page=t.downloadPage),this.track(n)}},{key:i.default.FULLSCREEN,value:function(t){this.track({category:"fullscreen",action:"fullscreen_"+t.action})}},{key:i.default.SEARCH,value:function(t){this.track({category:"search",action:"search_query",query:t.query})}},{key:i.default.DEVELOP,value:function(t){this.track({action:"develop_"+t.action,category:"develop",nonInteraction:!0,isFBGroup:!0,value:t.data})}},{key:i.default.CONTEXT_MENU,value:function(t){var n={category:"context_menu",action:"context_menu_"+t.action,isFBGroup:!0};"open"===t.action?n.target_page=t.page:"select"===t.action&&(n.selected_item=t.selectedItem),this.track(n)}},{key:i.default.HIGHLIGHT,value:function(t){this.track({category:"highlight",action:"highlight_"+t.action,event_page:t.page,isFBGroup:!0})}},{key:i.default.NOTE,value:function(t){this.track({category:"note",action:"note_"+t.action})}},{key:i.default.ORIENTATION,value:function(t){var n=t.state.rightPageUrl||t.state.leftPageUrl;this.track({category:"orientation",action:"orientation_"+t.action,value:t.value,event_page:n})}},{key:i.default.SELECT_TEXT,value:function(t){var n="link"===t.action?"copy_link":t.action;this.track({category:"select_text",action:"text_"+n,event_page:t.pageUrl})}},{key:i.default.ACCESSIBILITY,value:function(t){this.track({category:"accessibility",action:"accessibility_"+t.action})}}]),e}(e(7).default);n.default=O},function(t,n,e){"use strict";e.r(n),e.d(n,"INIT",(function(){return i})),e.d(n,"BOOK_STATE_CHANGED",(function(){return a})),e.d(n,"TURNED",(function(){return o})),e.d(n,"GO_TO_FIRST_PAGE",(function(){return r})),e.d(n,"GO_TO_LAST_PAGE",(function(){return s})),e.d(n,"ZOOMED",(function(){return l})),e.d(n,"UNZOOMED",(function(){return c})),e.d(n,"SLIDESHOW",(function(){return u})),e.d(n,"LINK",(function(){return d})),e.d(n,"LIGHTBOX",(function(){return y})),e.d(n,"IMAGE",(function(){return v})),e.d(n,"VIDEO",(function(){return p})),e.d(n,"SOUND",(function(){return f})),e.d(n,"WINDOW",(function(){return h})),e.d(n,"SHARE",(function(){return g})),e.d(n,"PRINT",(function(){return A})),e.d(n,"DOWNLOAD",(function(){return m})),e.d(n,"FULLSCREEN",(function(){return b})),e.d(n,"SEARCH",(function(){return O})),e.d(n,"DEVELOP",(function(){return I})),e.d(n,"CONTEXT_MENU",(function(){return S})),e.d(n,"HIGHLIGHT",(function(){return P})),e.d(n,"NOTE",(function(){return D})),e.d(n,"ORIENTATION",(function(){return w})),e.d(n,"SELECT_TEXT",(function(){return T})),e.d(n,"ACCESSIBILITY",(function(){return k}));var i="init",a="bookStateChanged",o="turned",r="goToFirstPage",s="goToLastPage",l="zoomed",c="unzoomed",u="slideshow",d="link",y="lightbox",v="image",p="video",f="sound",h="window",g="share",A="print",m="download",b="fullscreen",O="search",I="develop",S="contextMenu",P="highlight",D="note",w="orientation",T="selectText",k="accessibility";n.default={INIT:i,BOOK_STATE_CHANGED:a,TURNED:o,GO_TO_FIRST_PAGE:r,GO_TO_LAST_PAGE:s,ZOOMED:l,UNZOOMED:c,SLIDESHOW:u,LINK:d,LIGHTBOX:y,IMAGE:v,VIDEO:p,SOUND:f,WINDOW:h,SHARE:g,PRINT:A,DOWNLOAD:m,FULLSCREEN:b,SEARCH:O,DEVELOP:I,CONTEXT_MENU:S,HIGHLIGHT:P,NOTE:D,ORIENTATION:w,SELECT_TEXT:T,ACCESSIBILITY:k}},function(t,n,e){"use strict";e.r(n);var i=e(8);nction(){function t(n){var e=n.fbUAIDs,a=void 0===e?[]:e,o=n.userUAIDs,r=void 0===o?[]:o,l=(n.platform,n.startDate,n.anonymizeIp),u=void 0!==l&&l,d=(n.appName,n.title),y=n.dimensionForClientId,v=n.dimensionForAdditionalLabel,p=void 0===v?"dimension1":v,f=n.dimensionForVersion,h=void 0===f?"dimension2":f,g=n.version,A=n.clientId,m=void 0===A?Object(i.getClientId)():A,b=n.nonce,O=void 0===b?null:b,I=n.hashMode,S=void 0!==I&&I;c(this,t),window.gtag&&window.dataLayer||this._createScript(a[0]||r[0],O),this.dimensionForAdditionalLabel=p,this.dimensionForClientId=y,this.clientId=m;var P={allow_linker:!0,storage:"none",store_gac:!1,client_id:m,page_title:d,cookie_domain:window.location.hostname,cookie_flags:"SameSite=None;Secure",send_page_view:!S};a.forEach((function(t){window.gtag("config",t,s({groups:["default","fbGroup"],anonymize_ip:!0},P))})),r.forEach((function(t){window.gtag("config",t,s({groups:"userGroup",anonymize_ip:u},P))})),window.gtag("set",h,g)}return d(t,[{key:"_createScript",value:function(t,n){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),e.async=!0,n&&e.setAttribute("nonce",n),document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag("js",new Date)}},{key:"track",value:function(t){var n=t.category,e=void 0===n?null:n,o=t.action,r=void 0===o?null:o,l=t.label,c=void 0===l?null:l,u=t.value,d=void 0===u?null:u,y=t.name,v=void 0===y?null:y,p=t.additionalLabel,f=void 0===p?null:p,h=t.nonInteraction,g=void 0!==h&&h,A=t.isFBGroup,m=void 0!==A&&A,b=t.internal,O=void 0!==b&&b,I=a(t,["category","action","label","value","name","additionalLabel","nonInteraction","isFBGroup","internal"]),S={};e&&(S.event_category=e),c&&(S.event_label=c),d&&(S.value=d),v&&(S.name=v),g&&(S.non_interaction=!0),O||(S.page=Object(i.getPath)()),f&&(S[this.dimensionForAdditionalLabel]=f),m?(S.send_to=["fbGroup"],this.dimensionForClientId&&(S[this.dimensionForClientId]=this.clientId)):S.send_to=["fbGroup","userGroup"],window.gtag("event",r,s(s({},S),I))}}]),t}();n.default=y},function(t,n,e){"use strict";e.r(n),(function(t){e.d(n,"getClientId",(function(){return i})),e.d(n,"getPath",();var i=function(){var t;try{t=localStorage.getItem("clientId")}catch(n){console.log("No access to localStorage.")}finally{t=t||"xx-x-x-x-xxx".replace(/[xy]/g,()}try{localStorage.setItem("clientId",t)}catch(n){console.log("No access to localStorage.")}return t},a=function(){var n;return void 0!==t.FBO?n=t.FBO.PreloadedPublicationModel.Publication.HashId+"/":(n=window.location.pathname).length>0&&"/"!==n.charAt(0)&&(n="/"+n),n.replace(/index.htm(l)?$/gi,"")}}).call(this,e(0))}]);