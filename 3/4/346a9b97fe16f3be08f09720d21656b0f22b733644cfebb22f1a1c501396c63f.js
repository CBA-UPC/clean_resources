"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4766],{12659:64766:function(e,t,n){n.d(t,{Z:function(){return IntegrationDisplay}});var a=n(52322),r=n(2784),o=n(18406),i=n(31455),s=n(81291),l=n(73235),c=n(66547),d=n(91210),m=n(26806);function _templateObject(){let e=(0,l._)(["\n    mutation UpdateWebhookActive($id: String!, $active: Boolean!) {\n  updateWebhookActive(id: $id, active: $active) {\n    ...Webhook\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let u=(0,c.ZP)(_templateObject(),d.$);var p=n(27364),h=n(53954),b=n(77512),v=n(96577),f=n.n(v);ar x=n(83122);ar g=n(99219),y=n(32517),_=n(52934),j=n(47330);let sendTestEvent=var w=n(89747),N=n(6676),E=n.n(N);let sampleBaseEvent=e=>({id:"test_event_id",type:e,createdAt:new Date,uniqueDeviceId:"test_unique_device_id",customerId:"test_customer_id",sessionId:"test_session_id",flow:{id:"test_flow_id",name:"Test flow"},step:{indx:0,id:"test_step_id",name:"The first step"},project:{id:"test_project_id",name:"Sample project name"},projectVersionId:void 0,projectLanguage:j.sp.En,path:"/r/aww",clientSideMetadata:{os:"Mac OS X",browser:"Chrome",referrer:"https://navattic.com",referring_domain:"navattic.com",device:"Macbook Pro",current_url:"https://navattic.com",search_engine:"Google",browser_version:"1.0",host:"navattic.com",search_keyword:"navattic",screen_height:1e3,screen_width:1e3,pathname:"/test",query_strings:{},gclid:"1234"},eventAttributes:(0,w.n)()}),sampleViewStepEvent=sampleChecklistEvent=e=>({...sampleBaseEvent(e),checklist:{id:"test_checklist_id",name:"Test checklist"}}),sampleTaskEvent=sampleIdUserEventData=sampleNavigateEvent=e=>({...sampleBaseEvent(e),url:"https://my.product.com"}),sampleEventFromType=var Configuration_WebhookEventTable=S=n(70805),T=n(58389),k=n(8339),I=n(84038),C=n(4652),A=n(69260),O=n(56958);let ProjectConnectionCard=e=>{var t;let{project:n,webhook:r}=e,[{data:o}]=(0,k.Y)({variables:{projectId:null==n?void 0:n.id}}),[,i]=(0,T.k)(),s=null==o?void 0:null===(t=o.projectWebhooks)||void 0===t?void 0:t.some(e=>e.format===r.format),onChange=async e=>{let t=null==r?void 0:r.id,a=e?{connectWebhookId:t}:{disconnectWebhookId:t},o=e?"Connecting ".concat(n.name,"..."):"Disconnecting ".concat(n.name,"..."),s=e?"Connected ".concat(n.name):"Disconnected ".concat(n.name);O.A.promise(i({projectId:null==n?void 0:n.id,...a}),{loading:o,success:s,error:y.bW})},l="project-".concat(n.id);return(0,a.jsxs)("div",{className:"relative flex items-start py-4",children:[(0,a.jsx)("div",{className:"flex min-w-0 flex-1 items-center text-base",children:(0,a.jsx)("label",{htmlFor:l,className:"label-base mb-0 select-none text-base font-normal text-gray-500",children:n.name})}),(0,a.jsx)("div",{className:"ml-3 flex h-6 items-center",children:(0,a.jsx)(b.XZ,{name:l,checked:s||!1,onChange:onChange})})]})};var Tabs_ConnectedProjects=L=n(37100);function deleteWebhook_templateObject(){let e=(0,l._)(["\n    mutation DeleteWebhook($id: String!) {\n  deleteWebhook(id: $id) {\n    ...Webhook\n  }\n}\n    ",""]);return deleteWebhook_templateObject=function(){return e},e}let M=(0,c.ZP)(deleteWebhook_templateObject(),d.$);var R=n(86414),U=n(12659);function IntegrationConnected(e){let{webhook:t,integrationSettings:n,clientId:r}=e,[,o]=m.Db(M),{workspace:i}=(0,h.cF)(),{name:s,screenshot:l}=n,confirmedDelete=async()=>{confirm("Are you sure you want to disconnect the Navattic integration?")&&O.A.promise(o({id:t.id}).then(,{loading:"Disconnecting...",success:"Disconnected ".concat(s," integration"),error:y.bW})};return(0,a.jsxs)("div",{className:"mx-auto max-w-lg rounded border",children:[(0,a.jsx)("div",{className:"relative py-3",children:(0,a.jsx)("div",{className:"mx-auto flex w-fit rounded-2xl bg-gradient-to-b from-gray-100/50 to-gray-200/50 p-2 ",children:(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-lg border",children:(0,a.jsx)("div",{className:"h-[160px] w-[310px]",children:(0,a.jsx)(f(),{alt:"".concat(s," dashboard"),src:l,fill:!0,style:{objectFit:"cover",objectPosition:"top left"},priority:!0})})})})}),(0,a.jsxs)("div",{className:"flex justify-between border-t bg-gray-50 px-5 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-base font-medium leading-none text-gray-800",children:[(0,a.jsxs)("span",{children:["Connected to ",s]}),(0,a.jsx)(g.XfM,{className:"ml-2 h-4 w-4 flex-shrink-0 text-blue-500"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[n.allowReAuth&&(0,a.jsx)("button",{className:"btn-gray-border bg-white px-3 py-1.5 text-sm hover:text-blue-400 hover:shadow-sm",onClick:children:"Update"}),(0,a.jsx)("button",{className:"btn-gray-border bg-white px-3 py-1.5 text-sm hover:text-rose-900 hover:shadow-sm",onClick:confirmedDelete,children:"Disconnect"})]})]})]})}var TestIntegrationConnection=e=>{let{webhook:t,integrationSettings:n}=e,{Logo:o,name:i}=n,[s,l]=(0,r.useState)(""),[c,d]=(0,r.useState)("navattic-example@email.com"),[m,u]=(0,r.useState)("Example User"),[p,h]=(0,r.useState)("Navattic Example"),[v,f]=(0,r.useState)(!1),onSubmit=async e=>{e.preventDefault(),f(!0),l("");let n=(0,w.n)(),a={"user.email":c,"user.fullName":m},r={"company.name":p,"company.linkedinUrl":"https://www.linkedin.com/company/navattic/","company.websiteDomain":"https://navattic.com/".concat(E()()),"company.description":"Example description here!","company.employeeCount":100,"company.estimatedAnnualRevenue":1e6,"company.industry":"Example Industry","company.city":"Example City","company.state":"Example State","company.country":"Example Country","company.postalCode":"Example Postal Code","company.technologies":"Example Technologies"},o={...sampleBaseEvent(j.tw.IdentifyUser),eventAttributes:{...n,[j.eT.Form]:{...a,...r}}};O.A.promise(sendTestEvent(t,o).then(()=>(o.step.id+=1,o.type=j.tw.ViewStep,o.eventAttributes[j.eT.Form]=a,sendTestEvent(t,o))),{loading:"Sending to ".concat(i,"..."),success:"Successfully sent to ".concat(i),error:),f(!1)};return t?(0,a.jsxs)("div",{className:"mx-auto max-w-md",children:[s&&(0,a.jsx)("div",{className:"mb-5 flex w-full rounded-md border bg-gray-50 px-3 py-2 text-sm text-rose-900",children:(0,a.jsxs)("span",{children:["Error: ",s]})}),(0,a.jsxs)("form",{onSubmit:onSubmit,className:"grid gap-y-3",children:[(0,a.jsx)(b.oi,{className:"w-full",labelText:"Example name",name:"name",value:m,onChange:u}),(0,a.jsx)(b.oi,{className:"w-full",labelText:"Example email",name:"email",value:c,onChange:d}),(0,a.jsx)(b.oi,{labelText:"Example company",className:"w-full",name:"company",value:p,onChange:h}),(0,a.jsxs)("button",{disabled:v,className:"btn-white mt-2 justify-center bg-white font-medium shadow",type:"submit",children:[(0,a.jsx)(o,{className:"mr-2 h-4 w-4"}),"Send test event"]})]})]}):null};ar P=n(89623),D=n(43913),W=n(68810),F=n(53430);function webhookLog_templateObject(){let e=(0,l._)(["\n    fragment WebhookLog on WebhookLog {\n  id\n  level\n  createdAt\n  body\n  webhookId\n  eventId\n}\n    "]);return webhookLog_templateObject=function(){return e},e}let $=(0,c.ZP)(webhookLog_templateObject());function listWebhookLogs_templateObject(){let e=(0,l._)(["\n    query ListWebhookLogs($data: WebhookLogQueryInput!) {\n  webhookLogs(data: $data) {\n    ...WebhookLog\n  }\n}\n    ",""]);return listWebhookLogs_templateObject=function(){return e},e}let V=(0,c.ZP)(listWebhookLogs_templateObject(),$);var Z=n(65054);let H={[j.Cb.Debug]:"bg-sky-500",[j.Cb.Info]:"bg-slate-300",[j.Cb.Warn]:"bg-amber-500",[j.Cb.Error]:"bg-rose-500"};8406:70805:31455:37100:81291:91210:58389:function(e,t,n){n.d(t,{k:function(){return useUpdateProjectWebhooksMutation}});var a=n(73235),r=n(66547),o=n(91210),i=n(26806);function _templateObject(){let e=(0,a._)(["\n    mutation UpdateProjectWebhooks($projectId: String!, $connectWebhookId: String, $disconnectWebhookId: String) {\n  updateProjectWebhooks(\n    projectId: $projectId\n    connectWebhookId: $connectWebhookId\n    disconnectWebhookId: $disconnectWebhookId\n  ) {\n    ...Webhook\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let s=(0,r.ZP)(_templateObject(),o.$);function useUpdateProjectWebhooksMutation(){return i.Db(s)}},52934:8339:function(e,t,n){n.d(t,{Y:function(){return useGetProjectWebhooksQuery}});var a=n(73235),r=n(66547),o=n(91210),i=n(26806);function _templateObject(){let e=(0,a._)(["\n    query GetProjectWebhooks($projectId: String!) {\n  projectWebhooks(projectId: $projectId) {\n    ...Webhook\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let s=(0,r.ZP)(_templateObject(),o.$);function useGetProjectWebhooksQuery(e){return i.aM({query:s,...e})}},27364:4652:13077:81571:function(e,t,n){n.d(t,{Ul:function(){return i},ZJ:function(){return s},yd:function(){return r}});var a,r,o=n(73022);(a=r||(r={})).ContactsWrite="crm.objects.contacts.write",a.ContactsRead="crm.objects.contacts.read",a.CompaniesWrite="crm.objects.companies.write",a.CompaniesRead="crm.objects.companies.read",a.ContactsSchemaWrite="crm.schemas.contacts.write",a.ContactsSchemaRead="crm.schemas.contacts.read",a.Timeline="timeline";let i={fieldMappings:{},companyFieldMappings:{}};o.HY.FIRST_NAME,o.HY.LAST_NAME,o.d$.DOMAIN,o.HY.FIRST_NAME,o.HY.LAST_NAME,o.HY.FIRST_NAME,o.HY.LAST_NAME,o.d$.DOMAIN;let s={prospectFieldMappings:{},businessUnitId:""}},73022:function(e,t,n){n.d(t,{HY:function(){return c},J:function(){return d},Rz:function(){return l},VG:function(){return h},d$:function(){return u},jw:function(){return b}});var a,r,o,i,s,l,c,d,m,u,p=n(21254);(a=l||(l={})).FLOW_ID="Last Viewed Flow ID",a.FLOW_TITLE="Last Viewed Flow Title",a.PROJECT_ID="Last Viewed Project ID",a.PROJECT_TITLE="Last Viewed Project Title",a.STEP_ID="Last Viewed Flow Step ID",a.STEP_NUMBER="Last Viewed Flow Step Number",a.STEP_TITLE="Last Viewed Flow Step Title",a.SESSION_ID="Session ID",a.CHECKLIST_NAME="Checklist Name",a.UTM_CAMPAIGN="UTM Campaign",a.UTM_CONTENT="UTM Content",a.UTM_MEDIUM="UTM Medium",a.UTM_SOURCE="UTM Source",a.UTM_REFERRER="UTM Referrer",a.UTM_TERM="UTM Term",a.BROWSER="Browser",a.CURRENT_URL="Current URL",a.PATH="Path",a.SCREEN_WIDTH="Screen Width",a.SCREEN_HEIGHT="Screen Height",a.DEVICE="Device",a.OS="Operating System",a.NAME="Visitor Name",a.FIRST_NAME="Visitor First Name",a.LAST_NAME="Visitor Last Name",(r=c||(c={})).FLOW_ID="navattic_last_viewed_flow_id",r.FLOW_TITLE="navattic_last_viewed_flow",r.STEP_ID="navattic_last_viewed_step_id",r.STEP_TITLE="navattic_last_viewed_step",r.STEP_NUMBER="navattic_last_viewed_step_number",r.PROJECT_ID="navattic_last_viewed_step_project_id",r.PROJECT_TITLE="navattic_last_viewed_step_project",r.SESSION_ID="session_id",r.CHECKLIST_NAME="checklist_name",r.UTM_CAMPAIGN="utm_campaign",r.UTM_CONTENT="utm_content",r.UTM_MEDIUM="utm_medium",r.UTM_SOURCE="utm_source",r.UTM_REFERRER="utm_referrer",r.UTM_TERM="utm_term",r.BROWSER="browser",r.CURRENT_URL="current_url",r.PATH="path",r.SCREEN_WIDTH="screen_width",r.SCREEN_HEIGHT="screen_height",r.DEVICE="device",r.OS="os",r.NAME="visitor_name",r.FIRST_NAME="visitor_first_name",r.LAST_NAME="visitor_last_name",(o=d||(d={})).STRING="String",o.NUMBER="Number",o.BOOLEAN="Boolean";let h=[{label:"Last Viewed Flow ID",name:"navattic_last_viewed_flow_id",type:"String",description:"ID of the most recently viewed flow in the Navattic product tour",fromEvent:e=>{let{event:t}=e;return t.flow.id}},{label:"Last Viewed Flow Title",name:"navattic_last_viewed_flow",type:"String",description:"Title of the most recently viewed flow",fromEvent:e=>{let{event:t}=e;return t.flow.name}},{label:"Last Viewed Project ID",name:"navattic_last_viewed_step_project_id",type:"String",description:"ID of the most recently viewed project",fromEvent:e=>{let{event:t}=e;return t.project.id}},{label:"Last Viewed Project Title",name:"navattic_last_viewed_step_project",type:"String",description:"Title of the most recently viewed project",fromEvent:e=>{let{event:t}=e;return t.project.name}},{label:"Last Viewed Flow Step ID",name:"navattic_last_viewed_step_id",type:"String",description:"ID of the most recently viewed step",fromEvent:e=>{let{event:t}=e;return t.step.id}},{label:"Last Viewed Flow Step Number",name:"navattic_last_viewed_step_number",type:"String",description:"Number of the most recently viewed step",fromEvent:e=>{let{event:t}=e;return t.step.indx.toString()}},{label:"Last Viewed Flow Step Title",name:"navattic_last_viewed_step",type:"String",description:"Title of the most recently viewed step",fromEvent:e=>{let{event:t}=e;return t.step.name}},{label:"Session ID",name:"session_id",type:"String",description:"The ID of the most recently viewed session.",fromEvent:,{label:"Checklist Name",name:"checklist_name",type:"String",description:"The name of the most recently viewed checklist.",fromEvent:e=>{var t;let{event:n}=e;return null===(t=n.checklist)||void 0===t?void 0:t.name}},{label:"UTM Campaign",name:"utm_campaign",type:"String",description:"UTM campaign.",fromEvent:e=>{let{event:t,flattenedAttributes:n}=e;return t.clientSideMetadata.query_strings.utm_campaign||n.utm_campaign}},{label:"UTM Content",name:"utm_content",type:"String",description:"UTM content.",fromEvent:e=>{let{event:t,flattenedAttributes:n}=e;return t.clientSideMetadata.query_strings.utm_content||n.utm_content}},{label:"UTM Medium",name:"utm_medium",type:"String",description:"UTM medium.",fromEvent:e=>{let{event:t,flattenedAttributes:n}=e;return t.clientSideMetadata.query_strings.utm_medium||n.utm_medium}},{label:"UTM Source",name:"utm_source",type:"String",description:"UTM source.",fromEvent:e=>{let{event:t,flattenedAttributes:n}=e;return t.clientSideMetadata.query_strings.utm_source||n.utm_source}},{label:"UTM Referrer",name:"utm_referrer",type:"String",description:"UTM referrer.",fromEvent:e=>{let{event:t,flattenedAttributes:n}=e;return t.clientSideMetadata.query_strings.utm_referrer||n.utm_referrer}},{label:"UTM Term",name:"utm_term",type:"String",description:"UTM term.",fromEvent:e=>{let{event:t,flattenedAttributes:n}=e;return t.clientSideMetadata.query_strings.utm_term||n.utm_term}},{label:"Browser",name:"browser",type:"String",description:"The browser this viewer viewed your demo with.",fromEvent:e=>{let{event:t}=e;return t.clientSideMetadata.browser}},{label:"Current URL",name:"current_url",type:"String",description:"The URL at the time of the last event.",fromEvent:e=>{let{event:t}=e;return t.clientSideMetadata.current_url}},{label:"Path",name:"path",type:"String",description:"The path at the time of the last event.",fromEvent:e=>{let{event:t}=e;return t.clientSideMetadata.pathname}},{label:"Screen Width",name:"screen_width",type:"String",description:"The width of the user's screen.",fromEvent:e=>{let{event:t}=e;return t.clientSideMetadata.screen_width.toString()}},{label:"Screen Height",name:"screen_height",type:"String",description:"The height of the user's screen.",fromEvent:e=>{let{event:t}=e;return t.clientSideMetadata.screen_height.toString()}},{label:"Device",name:"device",type:"String",description:"The type of device the user is using.",fromEvent:e=>{let{event:t}=e;return t.clientSideMetadata.device}},{label:"Operating System",name:"os",type:"String",description:"The operating system the user is using.",fromEvent:,{label:"Visitor First Name",name:"visitor_first_name",type:"String",description:"The first name of the user.",fromEvent:e=>{let{flattenedAttributes:t}=e;return(0,p.I2)(t).firstName}},{label:"Visitor Last Name",name:"visitor_last_name",type:"String",description:"The last name of the user.",fromEvent:];(i=m||(m={})).NAME="Name",i.DOMAIN="Domain",i.DESCRIPTION="Description",i.LINKEDIN_URL="LinkedIn URL",i.EMPLOYEE_COUNT="Employee Count",i.ESTIMATED_ANNUAL_REVENUE="Estimated Annual Revenue",i.CITY="City",i.STATE="State",i.COUNTRY="Country",i.POSTAL_CODE="Postal Code",i.TECHNOLOGIES="Technologies",i.NV_IDENTIFIER="Navattic Identifier",(s=u||(u={})).NAME="navattic_company_name",s.DOMAIN="navattic_company_domain",s.DESCRIPTION="navattic_company_description",s.LINKEDIN_URL="navattic_company_linkedin_url",s.EMPLOYEE_COUNT="navattic_company_employee_count",s.ESTIMATED_ANNUAL_REVENUE="navattic_company_estimated_annual_revenue",s.CITY="navattic_company_city",s.STATE="navattic_company_state",s.COUNTRY="navattic_company_country",s.POSTAL_CODE="navattic_company_postal_code",s.TECHNOLOGIES="navattic_company_technologies",s.NV_IDENTIFIER="navattic_company_identifier";let b=[{label:"Name",name:"navattic_company_name",type:"String",description:"The name of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.name"]}},{label:"Domain",name:"navattic_company_domain",type:"String",description:"The domain of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.websiteDomain"]}},{label:"Description",name:"navattic_company_description",type:"String",description:"The description of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.description"]}},{label:"LinkedIn URL",name:"navattic_company_linkedin_url",type:"String",description:"The LinkedIn URL of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.linkedinUrl"]}},{label:"Employee Count",name:"navattic_company_employee_count",type:"Number",description:"The employee count of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.employeeCount"]}},{label:"Estimated Annual Revenue",name:"navattic_company_estimated_annual_revenue",type:"Number",description:"The estimated annual revenue of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.estimatedAnnualRevenue"]}},{label:"City",name:"navattic_company_city",type:"String",description:"The city of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.city"]}},{label:"State",name:"navattic_company_state",type:"String",description:"The state of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.state"]}},{label:"Country",name:"navattic_company_country",type:"String",description:"The country of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.country"]}},{label:"Postal Code",name:"navattic_company_postal_code",type:"String",description:"The postal code of the company.",fromEvent:e=>{let{flattenedAttributes:t}=e;return t["company.postalCode"]}},{label:"Technologies",name:"navattic_company_technologies",type:"String",description:"The technologies of the company.",fromEvent:,{label:"Navattic Identifier",name:"navattic_company_identifier",type:"Boolean",description:"The Navattic identifier of the company.",fromEvent:]},21254:89747:]);
//# sourceMappingURL=4766-de72cdcda122144e.js.map