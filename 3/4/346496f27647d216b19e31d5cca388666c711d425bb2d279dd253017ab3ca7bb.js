import{l as d,r as c,q as m,s as f,w as h,G as o,P as a,F as v,$ as p,X as w,n as k}from"./graphql.5cf3693b.js";const g=d({__name:"MrInfiniteScroll",props:{items:{},hasNext:{type:Boolean},threshold:{default:1},root:{default:null}},emits:["load"],setup(n,{emit:u}){const l=c(null),r=c();return m(()=>{r.value=new IntersectionObserver(e=>{var t;e[0].isIntersecting&&n.hasNext&&(u("load"),(t=r.value)==null||t.disconnect())},{root:n.root})}),f(,h(e=>{const t=l.value;e&&t&&k(()=>{var s;(s=r.value)==null||s.observe(t.children[e-1-n.threshold])})}),(e,t)=>(o(),a("div",{ref_key:"wrapper",ref:l},[(o(!0),a(v,null,p(e.items,(s,i)=>(o(),a("div",{key:i},[w(e.$slots,"item",{item:s,index:i})]))),128))],512))}});export{g as _};
