;
(self.AMP=self.AMP||[]).push({m:0,v:"2312191621000",n:"amp-story-interactive",ev:"0.1",l:!0,f:function(t,i){!function(){rray.isArray;r l,v,h=Object.prototype,u=h.hasOwnProperty;unction f(t,i,r,a,e,n,o,m,p,c,s){return t}nction b(t){for(var i=t.querySelectorAll("[ref]"),r=d(),a=0;a<i.length;a++){var e=i[a],n=e.getAttribute("ref");f(n),e.removeAttribute("ref"),f(void 0===r[n]),r[n]=e}return r}oString;var z=["Webkit","webkit","Moz","moz","ms","O","o"],q={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;elf.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var T,P=self.__AMP_LOG;=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;ar $={"+":"-","/":"_","=":"."__EXPERIMENT_TOGGLES";function lt(t,i){var }(t);return!!r[iunction dt(t,i,r,a,e){return tt(t,i)}(t,i,r,a,e)}var ft=function(t){return dt(t,"story-variable","amp-story","1.0")},y},gt=function(t){return rt(t,"localization")},bt=function(t){return dt(t,"story-analytics","amp-story","1.0",!0)},xt=function(t){return it(t,"url-replace")},wt=function(t){return it(t,"url")},k},zt="request-utils";function qt(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!wt(t).isProtocolValid(i))return U().error(zt,"Invalid config url."),Promise.resolve(null);var a=kt(W(t));return xt(t).expandUrlAsync(U().assertString(i)).then})).then((function(t){return _(t.ok,"Invalid HTTP response"),t.json()}))}function jt(t,i,r,a,e){var n=t.getHeadNode(),o=function(t,i,r,a){var e=t.__AMP_CSS_SM;e||(e=t.__AMP_CSS_SM=d());var n=!r&&a&&"amp-custom"!=a&&"amp-keyframes"!=a,o=r?"amp-runtime":n?"amp-extension=".concat(a):null;if(o){var m=Et(t,e,o);if(m)return"STYLE"==m.tagName&&m.textContent!==i&&(m.textContent=i),m}var p=(t.ownerDocument||t).createElement("style");p.textContent=i;var c=null;return r?p.setAttribute("amp-runtime",""):n?(p.setAttribute("amp-extension",a||""),c=Et(t,e,"amp-runtime")):(a&&p.setAttribute(a,""),c=t.lastChild}(t,p,c),o&&(e[o]=p),p}(}(n,i),a||!1,e||null);if(r){var m=t.getRootNode();if(Ot(m,o))return r(o),o;var p=setInterval((function(){Ot(m,o)&&(clearInterval(p),r(o))}),4)}return var Rt=["<div class=i-amphtml-story-interactive-confetti-wrapper aria-hidden=true></div>"],Mt=["<div class=i-amphtml-story-interactive-confetti></div>"}var St,It,Lt,Tt=(S(St={},34,(function(t,i){return t.length!==i.length})),S(St,15})),S(St,39,(function(t,i){return t.length!==i.length})),S(St,41})),S(St,42})),S(St,23,(function(t,i){return null===t||null===i||!Q(t,i,2)})),S(St,28})),S(St,16})),"none"),Pt="v0var Ct="-shadowcsshost",Xt=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Yt=(new RegExp("("+Ct+Xt,"gim"),new RegExp("(-shadowcsscontext"+Xt,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),_t=Ct+"-no-combinator",Nt=new RegExp(Ct,"gim"),Ht=(new RegExp("-shadowcsscontext","gim"),/[^\.\-\_0-9a-zA-Z]/),Jt=/[^\-\_0-9a-zA-Z]/;function Vt(t){var i,r=W(t),a=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(a){if(self.trustedTypes&&self.trustedTypes.createPolicy){var e=self.trustedTypes.createPolicy("shadow-embed#createShadowRoot",{createHTM}});a.innerHTML=e.createHTML("")}else a.innerHTML="";return a}var n,o=Ft();if("v1"==o?(i=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(i,"styleSheets",{ge}}):i=o==Pt?t.createShadowRoot():function(t){var i=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var r=i.createElement("style");r.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(r);var a=i.createElement("i-amphtml-shadow-root");return t.appendChild(a),t.__AMP_SHADOW_ROOT=a,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:a}),a.host=t,a.getElementByI},Object.defineProperty(a,"styleSheets",{ge}}),a}(t)}()){var p="i-amphtml-sd-".concat(r.Math.floor(1e4*r.Math.random()));i.id=p,i.host.classList.add(p),},i.__AMP_CSS_TR=n}return ".concat("data-text-background-color","]");var Dt='.i-amphtml-story-interactive-disclaimer-dialog{overflow:hidden!important;padding:1em!important;text-align:initial!important;box-sizing:border-box!important;font-size:calc(var(--story-page-vmin)*3)!important;max-width:25em!important;background:#fff!important;border-radius:1em!important;box-shadow:0px .2em .2em 0px var(--i-amphtml-story-interactive-disclaimer-black-transparent)!important;--i-amphtml-story-interactive-disclaimer-black-transparent:#00000040!important;--i-amphtml-story-interactive-disclaimer-blue:#005af0!important}.i-amphtml-story-interactive-disclaimer-url{color:#5f6368!important;padding-inline-end:2em!important;text-overflow:ellipsis!important;white-space:nowrap!important;overflow:hidden!important}.i-amphtml-story-interactive-disclaimer-link{color:var(--i-amphtml-story-interactive-disclaimer-blue)!important;font-weight:700!important;text-decoration:none!important;padding-top:0.2em!important}.i-amphtml-story-interactive-disclaimer-close{position:absolute!important;bottom:0!important;right:0!important;cursor:pointer!important;background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="%239AA0A6"><rect x=".788" y="1.833" width="1.479" height="13.264" rx=".739" transform="rotate(-45 .788 1.833)"/><rect x="10.167" y=".788" width="1.479" height="13.264" rx=".739" transform="rotate(45 10.167 .788)"/></svg>\')!important;width:3em!important;height:3em!important;background-size:1em!important;background-repeat:no-repeat!important;background-position:50%!important;border:none!important;font-size:inherit!important}[dir=rtl] .i-amphtml-story-interactive-disclaimer-close{left:0!important;right:auto!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-disclaimer.css*/',Qt=['<div class=i-amphtml-story-interactive-disclaimer-dialog role=alertdialog><div class=i-amphtml-story-interactive-disclaimer-description ref=descriptionEl><span class=i-amphtml-story-interactive-disclaimer-note ref=noteEl>Your response will be sent to </span><span class=i-amphtml-story-interactive-disclaimer-entity ref=entityEl></span><div class=i-amphtml-story-interactive-disclaimer-url ref=urlEl></div></div><a target=_blank class=i-amphtml-story-interactive-disclaimer-link ref=linkEl>Learn more</a> <button class=i-amphtml-story-interactive-disclaimer-close aria-label="Close disclaimer"></button></div>'],Wt=["<div class=i-amphtml-story-interactive-disclaimer-dialog-container></div>"],Kt=['<button class=i-amphtml-story-interactive-disclaimer-icon aria-label="Open disclaimer"></button>'],ti=JSON.parse('{"webstoriesinteractivity-beta.web.app":{"learnMoreUrl":"https://amp.dev/stories","entityName":"AMP Disclaimer Testing Site"}}'function ai(t,i){return Object.entries(i).find((function(i){return i[0]===t.substring(0,i[0].length)}))}var ei=['<div class="i-amphtml-story-interactive-img-container i-amphtml-story-interactive-container"><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-img-option-container></div></div>'],ni=!1,oi=function(t){return y(t)(ei)},mi=".i-amphtml-story-interactive-component{-ms-flex-item-align:center;align-self:center;height:auto!important;pointer-events:none!important;min-width:14em!important;max-width:25em!important;font-size:calc(var(--story-page-vmin)*3);width:100%;--interactive-accent-color:#005af0;--interactive-prompt-background:var(--interactive-accent-color);--interactive-prompt-text-color:#fff;--interactive-prompt-alignment:initial;--i-amphtml-interactive-option-accent-color:var(\n    --interactive-accent-color\n  )!important;--i-amphtml-interactive-option-background-color:#fff!important;--i-amphtml-interactive-options-chip-background-color:var(\n    --i-amphtml-interactive-option-background-color\n  )!important;--i-amphtml-interactive-option-text-color:#55595e!important;--i-amphtml-interactive-theme-border:rgba(85,89,94,0.2)!important;--i-amphtml-interactive-theme-shading:rgba(85,89,94,0.2)!important;--i-amphtml-interactive-theme-shading-base:#dedee1!important;--i-amphtml-interactive-theme-shading-flash:rgba(85,89,94,0.5)!important;--i-amphtml-interactive-chip-radius:2em!important;--i-amphtml-interactive-chip-shadow:0px 0px 0px transparent!important;--i-amphtml-interactive-chip-shadow-inset:inset 0px 0px 0px transparent!important;--i-amphtml-interactive-answer-choice-border:var(\n    --interactive-accent-color\n  )!important;--i-amphtml-interactive-answer-choice-background:#fff!important;--i-amphtml-interactive-prompt-text-size:1.375em!important;--i-amphtml-interactive-prompt-line-height:1.3em!important;--i-amphtml-interactive-strong-text-color:#000!important;--i-amphtml-interactive-animation-time:0.3s!important;--i-amphtml-interactive-ease-out-curve:cubic-bezier(0.3,0,0,1)!important;--i-amphtml-interactive-animation-delay:0s!important;--i-amphtml-interactive-component-shadow:0px 4px 12px rgba(60,64,67,0.08),0px 2px 4px rgba(60,64,67,0.12);--i-amphtml-interactive-prompt-clamp:4!important;--i-amphtml-interactive-results-prompt-margin:20px!important;--i-amphtml-interactive-placeholder-background:rgba(32,33,36,0.2)!important;--i-amphtml-story-interactive-img-quiz-answer-filter:none;--i-amphtml-interactive-img-border:0 0 0 transparent!important}.i-amphtml-story-interactive-component[theme=dark]{--i-amphtml-interactive-option-text-color:#a7adb4!important;--i-amphtml-interactive-option-background-color:#202124!important;--i-amphtml-interactive-theme-border:hsla(212,8%,68%,0.2)!important;--i-amphtml-interactive-theme-shading:hsla(212,8%,68%,0.2)!important;--i-amphtml-interactive-theme-shading-base:#3c3d3f!important;--i-amphtml-interactive-theme-shading-flash:hsla(212,8%,68%,0.5)!important;--i-amphtml-interactive-strong-text-color:#fff!important;--i-amphtml-interactive-placeholder-background:hsla(0,0%,100%,0.2)!important;--i-amphtml-story-interactive-img-quiz-answer-filter:invert(100%)}.i-amphtml-story-interactive-component[chip-style=shadow]{--i-amphtml-interactive-chip-shadow:0px 2px 8px rgba(60,60,60,0.2)!important;--i-amphtml-interactive-chip-shadow-inset:inset 4px 4px 8px rgba(0,0,0,0.2)!important;--i-amphtml-interactive-theme-border:transparent!important}.i-amphtml-story-interactive-component:not(amp-story-interactive-results)[chip-style=transparent]{--i-amphtml-interactive-options-chip-background-color:transparent!important;--interactive-prompt-background:transparent!important;--interactive-prompt-alignment:center;--i-amphtml-interactive-chip-shadow:0px 2px 8px rgba(60,60,60,0.2)!important;--i-amphtml-interactive-chip-shadow-inset:inset 4px 4px 8px rgba(0,0,0,0.2)!important;--i-amphtml-interactive-theme-border:transparent!important;--i-amphtml-interactive-component-shadow:none!important;--i-amphtml-interactive-img-border:0 0 0 0.25em var(--i-amphtml-interactive-option-background-color)!important}.i-amphtml-story-interactive-component[chip-style=shadow][theme=dark]{--i-amphtml-interactive-chip-shadow:0px 2px 8px 0px rgba(0,0,0,0.6)!important;--i-amphtml-interactive-chip-shadow-inset:inset 4px 4px 8px rgba(0,0,0,0.4)!important}.i-amphtml-story-interactive-component[prompt-size=large]{--i-amphtml-interactive-prompt-text-size:1.75em!important;--i-amphtml-interactive-prompt-clamp:3!important}.i-amphtml-story-interactive-component[prompt-size=small]{--i-amphtml-interactive-prompt-text-size:1.125em!important}.i-amphtml-story-interactive-component:not([prompt-text]){--interactive-prompt-background:transparent!important}amp-story-interactive-binary-poll.i-amphtml-story-interactive-component,amp-story-interactive-img-poll.i-amphtml-story-interactive-component,amp-story-interactive-img-quiz.i-amphtml-story-interactive-component,amp-story-interactive-results-detailed.i-amphtml-story-interactive-component,amp-story-interactive-results.i-amphtml-story-interactive-component{max-width:18em!important}amp-story-interactive-img-poll.i-amphtml-story-interactive-component,amp-story-interactive-img-quiz.i-amphtml-story-interactive-component{--interactive-prompt-alignment:center}amp-story-interactive-binary-poll[theme=dark],amp-story-interactive-poll[theme=dark]{--i-amphtml-interactive-option-accent-color:#fff!important}amp-story-interactive-results:not([chip-style=transparent]){--interactive-prompt-text-color:var(\n    --i-amphtml-interactive-strong-text-color\n  )}amp-story-interactive-results[chip-style=transparent]{--i-amphtml-interactive-option-text-color:#000!important;--i-amphtml-interactive-options-chip-background-color:transparent!important;--interactive-prompt-background:transparent;--i-amphtml-interactive-component-shadow:none!important;--interactive-prompt-text-color:#000;--i-amphtml-interactive-results-prompt-margin:0px!important}amp-story-interactive-results[theme=dark][chip-style=transparent]{--i-amphtml-interactive-option-text-color:#fff!important;--interactive-prompt-text-color:#fff}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-host.css*/",pi='.i-amphtml-story-interactive-container{--correct-color:#5bba74!important;--correct-color-shaded:#00600f!important;--incorrect-color:#f34e4e!important;--incorrect-color-shaded:#b71c1c!important;font-family:Poppins,sans-serif!important;background:var(--interactive-prompt-background)!important;border-radius:2em!important}.i-amphtml-story-interactive-prompt-container{display:-ms-flexbox!important;display:flex!important;justify-items:center!important;padding:1.25em!important;color:var(--interactive-prompt-text-color)!important}.i-amphtml-story-interactive-prompt{margin:0px!important;overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:var(--i-amphtml-interactive-prompt-clamp)!important;-webkit-box-orient:vertical!important;visibility:visible!important;font-size:var(--i-amphtml-interactive-prompt-text-size)!important;line-height:var(--i-amphtml-interactive-prompt-line-height)!important;font-weight:700!important;text-align:var(--interactive-prompt-alignment)!important;width:100%!important}@keyframes i-amphtml-interactive-animation-flash-background{0%{opacity:.4}to{opacity:.2}}@keyframes i-amphtml-interactive-animation-flash-background-color{0%{background-color:var(--i-amphtml-interactive-theme-shading-flash)}to{background-color:var(--i-amphtml-interactive-theme-shading-base)}}@keyframes answer-choice-bounce{0%{transform:scale(0);visibility:hidden}21%{visibility:visible;transform:scale(.01);animation-timing-function:cubic-bezier(.3,.5,.7,1)}43%{transform:scale(1.203);animation-timing-function:ease-in-out}62%{transform:scale(0.956)}83%{transform:scale(1.008)}96%{transform:scale(1)}99%{transform:scale(.998)}to{transform:scale(1)}}.i-amphtml-story-interactive-container:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option{cursor:pointer!important;pointer-events:all}.i-amphtml-story-interactive-confetti-wrapper{position:absolute!important;top:50%!important;left:50%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center;justify-content:center;z-index:1!important;transform:scale(0)!important;transition:transform .5s var(--i-amphtml-interactive-ease-out-curve),opacity .5s var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-confetti-wrapper.i-amphtml-story-interactive-confetti-wrapper-animate-in{transform:scale(1)!important}.i-amphtml-story-interactive-confetti-wrapper.i-amphtml-story-interactive-confetti-wrapper-animate-out{transform:scale(1.2)!important;opacity:0!important}.i-amphtml-story-interactive-confetti{position:absolute!important}.i-amphtml-story-interactive-active{--i-amphtml-interactive-landing-animation-delay:.5s;--i-amphtml-interactive-landing-animation-offset:.9;--i-amphtml-interactive-landing-animation-delay-offset-el1:var(--i-amphtml-interactive-landing-animation-delay);--i-amphtml-interactive-landing-animation-delay-offset-el2:calc(var(--i-amphtml-interactive-landing-animation-delay) + var(--i-amphtml-interactive-animation-time)*var(--i-amphtml-interactive-landing-animation-offset)*1);--i-amphtml-interactive-landing-animation-delay-offset-el3:calc(var(--i-amphtml-interactive-landing-animation-delay) + var(--i-amphtml-interactive-animation-time)*var(--i-amphtml-interactive-landing-animation-offset)*2);--i-amphtml-interactive-landing-animation-delay-offset-el4:calc(var(--i-amphtml-interactive-landing-animation-delay) + var(--i-amphtml-interactive-animation-time)*var(--i-amphtml-interactive-landing-animation-offset)*3)}@keyframes i-amphtml-interactive-animation-landing-animation-flash-background{30%{opacity:.4}}.i-amphtml-story-interactive-disclaimer-icon{width:1.75em!important;height:1.75em!important;position:absolute!important;right:0!important;top:0!important;padding:.25em!important;font-size:inherit!important;transform-origin:bottom right!important;background-color:#fff!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="12"><path d="M2 0a1.357 1.357 0 0 0-.97.408 1.34 1.34 0 0 0-.38.977l.271 5.497c.009.278.127.542.328.736a1.083 1.083 0 0 0 1.502 0 1.07 1.07 0 0 0 .328-.736l.27-5.497a1.334 1.334 0 0 0-.38-.977A1.35 1.35 0 0 0 2 0zM2 9.3A1.35 1.35 0 1 0 2 12a1.35 1.35 0 0 0 0-2.7z"/></svg>\')!important;background-repeat:no-repeat!important;background-position:50%!important;background-size:0.25em!important;border:.25em solid var(--interactive-accent-color)!important;border-radius:50%!important;box-shadow:0 .2em .2em 0 var(--i-amphtml-story-interactive-disclaimer-black-transparent)!important;box-sizing:border-box!important;cursor:pointer!important;pointer-events:all!important;z-index:2!important;--i-amphtml-story-interactive-disclaimer-black-transparent:#00000040!important}.i-amphtml-story-interactive-disclaimer-icon[hide]{display:none!important}[dir=rtl] .i-amphtml-story-interactive-disclaimer-icon{left:0!important;right:auto!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-shadow.css*/}function si(t,i){var r=t.pathname.replace(/\/?$/,"/")+i.replace(/^\//,"");return t.origin+r+t.search+t.hash}var li="amp-story-interactive",vi="i-amphtml-story-interactive-mid-selection",hi="i-amphtml-story-interactive-post-selection",ui="The publisher has specified an invalid datastore endpoint",di=[{family:"Poppins",weight:"400",src:"url(https://fonts.gstatic.com/s/poppins/v9/pxiEyp8kv8JHgFVrJJfecnFHGPc.woff2) format('woff2')"},{family:"Poppins",weight:"700",src:"url(https://fonts.gstatic.com/s/poppins/v9/pxiByp8kv8JHgFVrLCz7Z1xlFd2JQEk.woff2) format('woff2')"}],fi=function(t){r(a,t);var i=o(a);function a(t,r){var a,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[2,4];return(a=i.call(this,t)).Qdt=r,a.yA=null,a.Kdt=null,a.tyt=null,a.iyt=null,a.ryt=null,a.ayt=!1,a.eyt=e,a.nyt=null,a.Jt=null,a.oyt=null,a.gmt=null,a.rp=null,a.localizationService=null,a.eA=null,a.lR=null,a.cA=null,jt(a.getAmpDoc(),mi,null,!1,li),a}var e=a.prototype;return e.getRootElemen},e.getOptionElements=function(){return this.nyt||(this.nyt=m(this.rp.querySelectorAll(".i-amphtml-story-interactive-option"))),this.nyt},e.myt=function(){return a.canonicalUrl64||(function(t){if(!ni){ni=!0;for(var i=t.querySelectorAll("amp-story-interactive-binary-poll, amp-story-interactive-poll, amp-story-interactive-quiz"),r=d(),a=0;a<i.length;a++){var e=i[a].id||"interactive-id";if(void 0===r[e])r[e]=0;else{U().error("AMP-STORY-INTERACTIVE","Duplicate interactive ID ".concat(e));var n="".concat(e,"__").concat(++r[e]);i[a].id=n}}}}(this.win.document),a.canonicalUrl64=(e=(t=this.elemen}(t).get()).canonicalUrl,i="undefined"!=typeof TextEncoder?(new TextEncoder).encode(e}(unescape(encodeURIComponent(e))),}(i),btoa(r).replace(/[+/=]/g})))),"".concat(a.canonicalUrl64,"+").concat(this.element.id);var t,i,r,e},e.getPageEl=function(){return null==this.gmt&&(this.gmt=B(this.element,(function(t){return"amp-story-page"===t.tagName.toLowerCase()}))),this.gmt},e.buildCallback=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.Jt=this.Ew(),this.element.classList.add("i-amphtml-story-interactive-component"),this.pyt(),Y(0==this.element.children.length),this.lR=wt(this.element),Promise.all([ft(this.win).then((function(i){t.cA=i})),yt(this.win).then})),bt(this.win).then((function(i){t.yA=i})),gt(this.element).then}))]).then((function(){return t.rp=t.buildComponent(),t.rp.classList.add("i-amphtml-story-interactive-container"),lt(t.win,"amp-story-interactive-disclaimer")&&t.element.hasAttribute("endpoint")&&(t.ryt=ri(t),t.rp.prepend(t.ryt)),Gt(t.element,t.rp,pi+i),N()}))},e.Wdt=function(){var t=this;!a.loadedFonts&&this.win.document.fonts&&FontFace&&di.forEach((function(i){var r=i.family,a=i.src,e=i.style,n=void 0===e?"normal":e,o=i.weight;return new FontFace(r,a,{weight:o,style:n}).load().then}))})),a.loadedFonts=!0},e.Ew=function(){var t=this,i=[];if(m(this.element.attributes).forEach((function(r){if(r.name.match(/^option-\d+(-\w+)+$/)){for(var a=r.name.split("-"),e=parseInt(a[1],10);i.length<e;)i.push({"optionIndex":i.length});var n=a.slice(2).join("");i[e-1][n]="image"===n?function(t,i){var r=wt(i),a=i.win.location;if(!r.isProxyOrigin(a.origin)||r.isProxyOrigin(t))return t;var e=r.resolveRelativeUrl(t,r.getSourceOrigin(a.href));return a.origin+"/i/s/"+e.replace(/https?:\/\//,"")}(r.value,t.getAmpDoc()):r.value}})),i.length>=this.eyt[0]&&i.length<=this.eyt[1])return i;Y(i.length>=this.eyt[0]&&i.length<=this.eyt[1]),X().error(li,"Improper number of options. Expected ".concat(this.eyt[0]," <= options <= ").concat(this.eyt[1]," but got ").concat(i.length,"."))},e.syt=function(t){var i=t.querySelector(".i-amphtml-story-interactive-prompt-container");if(this.element.hasAttribute("prompt-text")){var r=document.createElement("p");r.textContent=this.element.getAttribute("prompt-text"),r.classList.add("i-amphtml-story-interactive-prompt"),i.appendChild(r)}else this.rp.removeChild(i)},e.buildComponen},e.layoutCallback=function(){return this.Wdt(),this.uA(),this.Kdt=this.element.hasAttribute("endpoint")?this.lyt():N()},e.vyt=function(){return this.tyt||(this.tyt=(t=this.element,rt(t,"cid")).then}))),this.tyt;var t},e.T},e.isLayoutSupporte},e.pyt=function(){var t=B(this.element}));t.classList.add("i-amphtml-story-has-interactive"),t.parentElement.querySelector("amp-story-cta-layer")&&t.classList.add("i-amphtml-story-has-CTA-layer"),t.parentElement.querySelector("amp-story-page-attachment")&&t.classList.add("i-amphtml-story-has-page-attachment")},e.uA=function(){var t=this;this.eA.subscribe(26,(function(i){t.TM(i)}),!0),this.eA.subscribe(36,(function(i){t.mutateElement((function(){var r=i===t.getPageEl().getAttribute("id");t.rp.classList.toggle("i-amphtml-story-interactive-active",r),t.cM(r)})),t.hyt()}),!0),this.rp.addEventListener("click",(function(i){return t.qit(i)}))},e.qit=function(t){if(t.target!=this.ryt||this.iyt){if(!this.ayt){var i=B(t.target}),this.rp);if(i){this.cyt(i.uyt),this.dyt(i.uyt,i);var r=this.Jt[i.uyt].confetti;r&&function(t,i,r){var a=2*Math.PI/5,e=.2*a,n=[30,50],o=t.getBoundingClientRect(),m=nt(i,"timer"),p=y(t)(Rt);t.appendChild(p),m.delay((function(){for(var i=0;i<5;i++){var c=y(t)(Mt);p.appendChild(c),c.textContent=r;var s=At(n[0],n[1])+"px",l=a*i+At(-e,e),v=Math.sin(l)*(o.width/2+5),h=Math.cos(l)*(o.height/2+5),u=At(-20,20);M(c,{fontSize:s,transform:"translate(".concat(v,"px, ").concat(h,"px) rotate(").concat(u,"deg)")})}p.classList.add("i-amphtml-story-interactive-confetti-wrapper-animate-in"),m.delay((function(){p.classList.add("i-amphtml-story-interactive-confetti-wrapper-animate-out"),m.delay}),300)}),1e3)}),300)}(this.rp,this.win,r),this.hyt()}}}else this.fyt()},e.yyt=function(t){this.cA.onVariableUpdate("storyInteractiveId",this.element.getAttribute("id")),this.cA.onVariableUpdate("storyInteractiveResponse",t),this.cA.onVariableUpdate("storyInteractiveType",this.Qdt),this.element.__AMP_ANALYTICS_TAG_NAME__=this.element.tagName,this.yA.triggerEvent("story-interactive",this.element)},e.displayOptionsData=function(t){},e.gyt=function(t){var i=t.reduce}),0),r=t.map((function(t){return(100*t.count/i).toFixed(2)})),a=r.reduce((function(t,i){return t+Math.round(i)}),0);if(a>100&&(a=(r=r.map((function(t){return(t-2*(t-Math.floor(t))/3).toFixed(2)}))).reduce}),0)),100===a)return r.map((function(t){return Math.round(t)}));var e=100-a,n=r.map((function(t,i){return{originalIndex:i,value:t,remainder:(t-Math.floor(t)).toFixed(2)}}));n.sort}));for(var o=[],m=function(){var t=n[0],i=n.filter}));n=n.filter}));var r=i.length<=e&&"0.00"!==t.remainder;i.forEach((function(t){o[t.originalIndex]=Math.floor(t.value)+(r?1:0)})),e-=r?i.length:0};e>0&&0!==n.length;)m();return n.forEach})),o},e.dyt=function(t,i){var r=this;this.Kdt.then((function(){r.ayt||(r.yyt(t),r.ayt=!0,r.oyt&&(r.oyt[t].count++,r.oyt[t].selected=!0),r.mutateElement((function(){r.byt(i)})),r.element.hasAttribute("endpoint")&&r.xyt("POST",t))})).catch((function(){r.yyt(t),r.ayt=!0,r.mutateElement}))}))},e.lyt=function(){var t=this;return this.xyt("GET").then}))},e.xyt=function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=this.element.getAttribute("endpoint");return wt(this.element).assertAbsoluteHttpOrHttpsUrl(a)?this.vyt().then((function(e){var n={"method":t},o={"type":i.Qdt,"client":e};return a=si(i.lR.parse(a),i.myt()),"POST"===n.method&&(n.body={"option_selected":r},n.headers={"Content-Type":"application/json"},a=si(i.lR.parse(a),":vote")),a=ci(a,o),qt(i.element,a,n).catch}))})):Promise.reject(ui)},e.wyt=function(t){if(!t||!t.options)return Y(t&&"options"in t),void X().error(li,"Invalid interactive response, expected { data: InteractiveResponseType, ...} but received ".concat(t));var i=this.getNumberOfOptions();this.updateComponentWithData(t.options.slice(0,i))},e.updateComponentWithData=function(t){var i=this,r=this.rp.querySelectorAll(".i-amphtml-story-interactive-option");this.oyt=this.kyt(t),this.oyt.forEach((function(t){t.selected&&(i.ayt=!0,i.cyt(t.index),i.mutateElement})))}))},e.byt=function(t){this.rp.classList.add(hi),null!=t&&t.classList.add("i-amphtml-story-interactive-option-selected"),this.oyt&&(this.rp.classList.add("i-amphtml-story-interactive-has-data"),this.displayOptionsData(this.oyt)),this.getOptionElements().forEach}))},e.cyt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i={option:null!=t?this.Jt[t]:null,interactiveId:this.myt(),type:this.Qdt};this.eA.dispatch(1,i)},e.cM=function(t){var i=this;this.rp.querySelectorAll("button, a, input").forEach((function(r){r.classList.contains("i-amphtml-story-interactive-option")&&i.ayt?r.setAttribute("tabindex",-1):r.setAttribute("tabindex",t?0:-1)}))},e.getNumberOfOption},e.kyt=function(t){var i=this.getNumberOfOptions(),r=new Array(i);t.forEach((function(t){var a=t.index;a>=0&&a<i&&(r[a]=t)}));for(var a=0;a<r.length;a++)r[a]||(r[a]={count:0,index:a,selected:!1});return r},e.fyt=function(){var t=this;if(!this.iyt){var i,r=this.rp.getAttribute("dir")||"ltr";this.iyt=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ii(t.element);ht(r,i);var a=b(r),e=a.descriptionEl,n=a.entityEl,o=a.linkEl,m=a.noteEl,p=a.urlEl,c=t.element.getAttribute("endpoint").replace("https://",""),s=ai(c,ti);s?(n.textContent=s[1].entityName,p.textContent=s[0],s[1].learnMoreUrl?o.href=s[1].learnMoreUrl:o.remove()):(n.remove(),p.textContent=c,o.remove()),t.localizationService.getLocalizedStringAsync("89").then}));var l="i-amphtml-story-disclaimer-".concat(t.element.id,"-description");e.id=l,r.setAttribute("aria-describedby",l);var v=y(t.element)(Wt);return Gt(v,r,Dt),v}(this,{dir:r}),this.measureMutateElement((function(){var a=t.element.getBoundingClientRect(),e=t.getPageEl().getBoundingClientRect(),n=t.ryt.getBoundingClientRect(),o=1-(n.y+n.height-e.y)/e.height,m=a.width/e.width,p=Z(100*o,0,85),c=Math.max(100*m,65);if(i={"bottom":p+"%","max-width":c+"%","position":"absolute","z-index":3},"rtl"===r){var s=(n.x-e.x)/e.width;i.left=Z(100*s,0,25)+"%"}else{var l=1-(n.x+n.width-e.x)/e.width;i.right=Z(100*l,0,25)+"%"}}),(function(){O(t.iyt,function(t){return"display"in t}("STYLE","`display` style detected. You must use toggle instead."),t}(i)),t.getPageEl().appendChild(t.iyt),t.ryt.setAttribute("hide",""),t.iyt.addEventListener("click",(function(i){i.path[0].classList.contains("i-amphtml-story-interactive-disclaimer-close")&&t.hyt()}))}))}},e.hyt=function(){var t=this;this.iyt&&this.mutateElement((function(){t.iyt.remove(),t.iyt=null,t.ryt&&t.ryt.removeAttribute("hide")}))},a}(t.BaseElement),yi=["<div class=i-amphtml-story-interactive-binary-poll-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-binary-poll-option-container></div></div>"],gi=["<button class=i-amphtml-story-interactive-option aria-live=polite><span class=i-amphtml-story-interactive-option-percent-bar></span> <span class=i-amphtml-story-interactive-option-text-container><span class=i-amphtml-story-interactive-option-title><span class=i-amphtml-story-interactive-option-title-text></span></span> <span class=i-amphtml-story-interactive-option-percentage-text aria-hidden=true>0%</span></span></button>"],bi=["<span class=i-amphtml-story-interactive-option-divider></span>"],xi=function(t){r(a,t);var i=o(a);function a(t){return i.call(this,t,1,[2,2])}var e=a.prototype;return e.buildCallback=function(){return t.prototype.buildCallback.call(this,'.i-amphtml-story-interactive-binary-poll-container{color:var(--i-amphtml-interactive-option-accent-color)!important;--post-select-scale:0.5!important;--post-select-scale-variable:1;border-radius:2em!important}.i-amphtml-story-interactive-binary-poll-option-container{background:var(--i-amphtml-interactive-option-background-color)!important;height:5.625em!important;border-radius:1em!important;overflow:hidden!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important;transform:translateZ(0)!important}.i-amphtml-story-interactive-binary-poll-option-container,.i-amphtml-story-interactive-option{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-interactive-option{-ms-flex-align:center!important;align-items:center!important;text-align:center!important;-ms-flex-direction:column!important;flex-direction:column!important;width:50%;position:relative!important;background-color:transparent!important;font:inherit!important;border:none!important;outline:none!important;color:inherit!important}.i-amphtml-story-interactive-prompt{text-align:center!important}.i-amphtml-story-interactive-option-text-container{width:100%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-direction:column!important;flex-direction:column!important;transform:translateY(calc(1em + 1px))!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-text-container{transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),opacity var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transform:translateY(0)!important}.i-amphtml-story-interactive-binary-poll-container:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option-divider{height:100%!important;width:1px!important;opacity:0.3!important;background-color:var(--i-amphtml-interactive-theme-border)!important}.i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-percent-bar{height:100%!important;width:100%!important;position:absolute!important;opacity:0!important;transform-origin:left!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-option:last-child .i-amphtml-story-interactive-option-percent-bar,[dir=rtl] .i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-percent-bar{transform-origin:right!important}[dir=rtl] .i-amphtml-story-interactive-option:last-child .i-amphtml-story-interactive-option-percent-bar{transform-origin:left!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option.i-amphtml-story-interactive-option-selected .i-amphtml-story-interactive-option-percent-bar{background-color:var(--i-amphtml-interactive-option-accent-color)!important;opacity:0.2!important;animation:i-amphtml-interactive-animation-flash-background forwards var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)}.i-amphtml-story-interactive-option-title{font-weight:800!important;font-size:1.75em!important;margin:0!important;line-height:1.3em!important;width:4.42em!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;height:2.6em!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-title{transform:scale(var(--post-select-scale))!important}.i-amphtml-story-interactive-option-title-text{overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;max-height:2.6em!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-title-text{transform:scale(var(--post-select-scale-variable))!important}.i-amphtml-story-interactive-option-percentage-text{font-weight:700!important;font-size:1.375em!important;transform:scale(0)!important;display:inline-block!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-percentage-text{transform:scale(1) translateY(-0.75em)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:before{background-color:var(--i-amphtml-interactive-theme-shading-flash)!important;content:""!important;position:absolute!important;width:100%!important;height:100%!important;left:0!important;opacity:0!important;animation:i-amphtml-interactive-animation-landing-animation-flash-background var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:focus:before{opacity:1!important;background-color:var(--i-amphtml-interactive-theme-shading)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-title-text{animation:i-amphtml-story-interactive-option-title-text-landing-animation var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2) .i-amphtml-story-interactive-option-title-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}@keyframes i-amphtml-story-interactive-option-title-text-landing-animation{33%{transform:scale(.95)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-binary-poll.css*/')},e.buildComponent=function(){return this.rp=y(this.element)(yi),this.zyt(this.rp),this.rp},e.layoutCallback=function(){var i=this;return this.qyt(this.rp).then((function(){return t.prototype.layoutCallback.call(i)}))},e.zyt=function(t){this.syt(t);var i=t.querySelector(".i-amphtml-story-interactive-binary-poll-option-container");i.appendChild(this.jyt(this.Jt[0])),i.appendChild(y(t)(bi)),i.appendChild(this.jyt(this.Jt[1]))},e.qyt=function(t){var i=this,r=28,a=m(t.querySelectorAll(".i-amphtml-story-interactive-option-title-text"));return this.measureMutateElement((function(){a.forEach((function(t){var a=Math.round(t.clientHeight/parseFloat(A(i.win,t)["line-height"].replace("px","")));t.textContent.length<=3&&r>=28?r=28:1==a&&r>=16?r=16:2==a&&(r=14)}))}),(function(){R(t,"--post-select-scale-variable","".concat((r/14).toFixed(2)))}),t)},e.jyt=function(t){var i=y(this.element)(gi);return i.querySelector(".i-amphtml-story-interactive-option-title-text").textContent=t.text,i.uyt=t.optionIndex,i},e.Eyt=function(t){var i=Math.max(t-50,-20);return"rtl"===document.dir&&(i*=-1),i},e.displayOptionsData=function(t){var i=this;if(t){var r=this.gyt(t);this.getOptionElements().forEach((function(a,e){var n=r[e],o=a.querySelector(".i-amphtml-story-interactive-option-percentage-text");o.textContent="".concat(n,"%"),o.removeAttribute("aria-hidden"),R(a.querySelector(".i-amphtml-story-interactive-option-percent-bar"),"transform","scaleX(".concat(.01*n*2,")"));var m=a.querySelector(".i-amphtml-story-interactive-option-text-container");m.setAttribute("style","transform: translateX(".concat(i.Eyt(n)*(0===e?1:-1),"%) !important")),t[e].selected&&m.setAttribute("aria-label","selected "+m.textContent),0===n&&R(m,"opacity","0")}))}},a}(fi),wi='.i-amphtml-story-interactive-img-container{--i-amphtml-interactive-img-option-size:7.5em!important;--i-amphtml-interactive-img-option-gap:1em!important;--i-amphtml-interactive-img-transform:scale(0.95)!important;border-radius:3.75em 3.75em 4.5em 4.5em!important}.i-amphtml-story-interactive-img-option-container{background:var(\n    --i-amphtml-interactive-options-chip-background-color\n  )!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:justify!important;justify-content:space-between!important;-ms-flex-align:end!important;align-items:flex-end!important;border-radius:4.375em!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;padding:var(--i-amphtml-interactive-img-option-gap)!important}.i-amphtml-story-interactive-img-option{width:var(--i-amphtml-interactive-img-option-size)!important;height:var(--i-amphtml-interactive-img-option-size)!important;position:relative!important;padding:0!important;background:none!important;border:none!important;font-family:inherit!important;font-size:inherit!important}.i-amphtml-story-interactive-img-option:nth-child(3){margin-top:var(--i-amphtml-interactive-img-option-gap)!important}.i-amphtml-story-interactive-img-option:nth-child(3):last-child{margin:0 auto auto!important}.i-amphtml-story-interactive-img-option-img{border-radius:50%!important;overflow:hidden!important;width:100%!important;height:100%!important;background-color:var(\n    --i-amphtml-interactive-placeholder-background\n  )!important;background-position:50%!important;background-size:cover!important;box-shadow:var(--i-amphtml-interactive-img-border)!important;position:relative!important;z-index:1!important;-webkit-clip-path:circle(calc(var(--i-amphtml-interactive-img-option-size)))!important;clip-path:circle(calc(var(--i-amphtml-interactive-img-option-size)))!important}.i-amphtml-story-interactive-img-option:focus{outline:none!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:focus .i-amphtml-story-interactive-img-option-img{transform:var(--i-amphtml-interactive-img-transform)!important}.i-amphtml-story-interactive-img-option-img:before{content:""!important;display:block!important;width:100%!important;height:100%!important;transform:scaleY(0)!important;transform-origin:bottom!important;opacity:0.5!important}.i-amphtml-story-interactive-option-selected .i-amphtml-story-interactive-img-option-img{box-shadow:inset 0 0 0 0.25em var(--i-amphtml-interactive-option-post-color),var(--i-amphtml-interactive-img-border)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-img-option-img:before{background-color:var(--i-amphtml-interactive-option-post-color)!important;transform:scaleY(var(--option-percentage,0))!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-img-option-percentage-text{position:absolute!important;bottom:0.625em!important;text-align:center!important;right:0!important;left:0!important;color:#fff!important;font-weight:700!important;text-shadow:0 0 0.7em rgba(0,0,0,0.5)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option-img{animation:i-amphtml-story-interactive-img-option-img-landing-animation var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el1\n  )!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:nth-of-type(2) .i-amphtml-story-interactive-img-option-img{animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el2\n  )!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:nth-of-type(3) .i-amphtml-story-interactive-img-option-img{animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el3\n  )!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:nth-of-type(4) .i-amphtml-story-interactive-img-option-img{animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el4\n  )!important}@keyframes i-amphtml-story-interactive-img-option-img-landing-animation{33%{transform:var(--i-amphtml-interactive-img-transform)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-img.css*/',ki=['<button class="i-amphtml-story-interactive-img-option i-amphtml-story-interactive-option" aria-live=polite><div class=i-amphtml-story-interactive-img-option-img><span class=i-amphtml-story-interactive-img-option-percentage-text></span></div></button>'],zi=function(t){r(a,t);var i=o(a}var e=a.prototype;return e.buildCallback=function(){return t.prototype.buildCallback.call(this,".i-amphtml-story-interactive-img-option{--i-amphtml-interactive-option-post-color:var(\n    --interactive-accent-color\n  )!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-img-poll.css*/"+wi)},e.buildComponent=function(){return this.rp=oi(this.element),this.zyt(this.rp),this.rp},e.zyt=function(t){var i=this;this.syt(t);var r=this.rp.querySelector(".i-amphtml-story-interactive-img-option-container");this.Jt.forEach((function(t,a){return r.appendChild(i.Oyt(t,a))}))},e.Oyt=function(t){var i=function(t){return y(t)(ki)}(this.element);return i.uyt=t.optionIndex,O(i.querySelector(".i-amphtml-story-interactive-img-option-img"),{"background-image":"url("+t.image+")"}),i.setAttribute("aria-label",t.imagealt),i},e.displayOptionsData=function(t){var i=this;if(t){var r=this.gyt(t);this.getOptionElements().forEach((function(a,e){t[e].selected&&a.setAttribute("aria-label","selected "+i.Jt[e].imagealt),a.querySelector(".i-amphtml-story-interactive-img-option-percentage-text").textContent="".concat(r[e],"%"),O(a,{"--option-percentage":r[e]/100})}))}},a}(fi);function qi(t,i){var r=it(i,"localization"),a=K(W(i),"vsync"),e=[];return t.querySelectorAll("[i-amphtml-i18n-aria-label]").forEach})),t.querySelectorAll("[i-amphtml-i18n-text-content]").forEach})),Promise.all(e)}var ji=['<button class="i-amphtml-story-interactive-img-option i-amphtml-story-interactive-option" aria-live=polite><div class=i-amphtml-story-interactive-img-option-img><span class=i-amphtml-story-interactive-img-option-percentage-text></span></div><div class="i-amphtml-story-interactive-img-quiz-answer-choice notranslate"></div></button>'],Ei=function(t){r(a,t);var i=o(a);function a(t){var r;return(r=i.call(this,t,0)).Ryt=[],r}var e=a.prototype;return e.buildCallback=function(){return t.prototype.buildCallback.call(this,'.i-amphtml-story-interactive-img-quiz-answer-choice{position:absolute!important;height:1.5em!important;width:1.5em!important;bottom:0.5em!important;box-shadow:0 0 0 0.125em var(--i-amphtml-interactive-option-background-color)!important;background-color:var(--interactive-accent-color)!important;border-radius:50%!important;text-align:center!important;color:var(--i-amphtml-interactive-option-answer-choice-color)!important;font-weight:700!important;line-height:1.5em!important;z-index:1!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;-webkit-clip-path:circle(1em)!important;clip-path:circle(1em)!important;background-clip:content-box!important}.i-amphtml-story-interactive-img-container:not([dir=rtl]) .i-amphtml-story-interactive-img-quiz-answer-choice{right:0.5em!important}.i-amphtml-story-interactive-img-container[dir=rtl] .i-amphtml-story-interactive-img-quiz-answer-choice{left:0.5em!important}.i-amphtml-story-interactive-img-quiz-answer-choice:before{content:""!important;width:100%!important;height:100%!important;border-radius:50%!important;position:absolute!important;left:0!important}.i-amphtml-story-interactive-img-option[correct=correct]{--i-amphtml-interactive-option-post-color:var(--correct-color)!important;--i-amphtml-interactive-option-post-marker:url(\'data:image/svg+xml;charset=utf-8,<svg width="12" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M3.584 7.497 1.362 5.276a.641.641 0 1 0-.907.907l3.129 3.129 7.241-7.242a.64.64 0 0 0-.904-.904L3.584 7.497z" fill="%23fff"/></svg>\')!important}.i-amphtml-story-interactive-img-option:not([correct=correct]){--i-amphtml-interactive-option-post-color:var(--incorrect-color)!important;--i-amphtml-interactive-option-post-marker:url(\'data:image/svg+xml;charset=utf-8,<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M11.396 1.813A.854.854 0 1 0 10.187.604L6 4.791 1.813.604A.855.855 0 0 0 .604 1.813L4.791 6 .604 10.187a.855.855 0 0 0 1.209 1.209L6 7.209l4.187 4.187a.855.855 0 1 0 1.209-1.209L7.209 6l4.187-4.187z" fill="%23fff"/></svg>\')!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-img-quiz-answer-choice{background-color:var(--i-amphtml-interactive-option-post-color)!important;color:transparent!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-img-quiz-answer-choice:before{display:block!important;background-color:transparent!important;background-image:var(--i-amphtml-interactive-option-post-marker)!important;background-position:50%!important;background-repeat:no-repeat!important;background-size:0.75em!important;filter:var(--i-amphtml-story-interactive-img-quiz-answer-filter)!important}.i-amphtml-story-interactive-option-selected .i-amphtml-story-interactive-img-quiz-answer-choice{animation:answer-choice-bounce 600ms linear forwards!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-img-quiz.css*/'+wi)},e.buildComponent=function(){return this.rp=oi(this.element),this.zyt(this.rp),this.rp},e.layoutCallback=function(){return this.Myt(this.rp),t.prototype.layoutCallback.call(this)},e.zyt=function(t){var i=this;this.syt(t),this.Ryt=["71","72","73","74"];var r=this.rp.querySelector(".i-amphtml-story-interactive-img-option-container");this.Jt.forEach((function(t,a){return r.appendChild(i.Oyt(t,a))})),qi(r,this.element)},e.Oyt=function(t,i){var r=function(t){return y(t)(ji)}(this.element);return r.querySelector(".i-amphtml-story-interactive-img-quiz-answer-choice").setAttribute("i-amphtml-i18n-text-content",this.Ryt[i]),r.uyt=t.optionIndex,O(r.querySelector(".i-amphtml-story-interactive-img-option-img"),{"background-image":"url("+t.image+")"}),r.setAttribute("aria-label",t.imagealt),"correct"in t&&r.setAttribute("correct","correct"),r},e.displayOptionsData=function(t){var i=this;if(t){var r=this.gyt(t);this.getOptionElements().forEach((function(a,e){var n=(t[e].selected?"selected":"")+(a.hasAttribute("correct")?" correct":"")+(a.hasAttribute("correct")?"":" incorrect");a.setAttribute("aria-label",n+" "+i.Jt[e].imagealt),a.querySelector(".i-amphtml-story-interactive-img-option-percentage-text").textContent="".concat(r[e],"%"),O(a,{"--option-percentage":r[e]/100})}))}},e.Myt=function(t){var i,r,a,e,n=t.querySelector(".i-amphtml-story-interactive-img-quiz-answer-choice");O(t,{"--i-amphtml-interactive-option-answer-choice-color":(}(A(this.win,n).backgroundColor),r=i.b,a=i.g,.2126*(})(i.r)+.7152*e(a)+.0722*e(r)>.179?"#000":"#FFF")})},a}(fi),Oi=["<div class=i-amphtml-story-interactive-poll-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-option-container></div></div>"],Ri=["<button class=i-amphtml-story-interactive-option aria-live=polite><span class=i-amphtml-story-interactive-option-text></span> <span class=i-amphtml-story-interactive-option-percentage><span class=i-amphtml-story-interactive-option-percentage-text></span> <span class=i-amphtml-story-interactive-option-percentage-sign>%</span></span></button>"],Mi=function(t){r(a,t);var i=o(a);function a(t){return i.call(this,t,1,[2,4])}var e=a.prototype;return e.buildCallback=function(){return t.prototype.buildCallback.call(this,'.i-amphtml-story-interactive-option-container{background-color:var(--i-amphtml-interactive-options-chip-background-color)!important;border-radius:1em!important;color:var(--i-amphtml-interactive-strong-text-color)!important;font-weight:700!important;padding:.5em!important}.i-amphtml-story-interactive-option{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:justify!important;justify-content:space-between!important;height:3.5em!important;overflow:hidden!important;padding:0px .75em!important;position:relative!important;box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-webkit-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-moz-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;border-radius:.5em!important;background-color:var(--i-amphtml-interactive-option-background-color);border:none!important;font:inherit!important;color:inherit!important;width:100%!important;outline:none!important;text-align:start!important}.i-amphtml-story-interactive-option:not(:first-child){margin-top:.5em!important}.i-amphtml-story-interactive-option.i-amphtml-story-interactive-option-selected{background-color:var(--i-amphtml-interactive-theme-shading-base);box-shadow:var(--i-amphtml-interactive-chip-shadow-inset),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-webkit-box-shadow:var(--i-amphtml-interactive-chip-shadow-inset),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-moz-box-shadow:var(--i-amphtml-interactive-chip-shadow-inset),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;animation:i-amphtml-interactive-animation-flash-background-color forwards var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-option:after{content:""!important;background-color:var(--i-amphtml-interactive-theme-shading)!important;position:absolute!important;height:100%!important;width:100%!important;left:0!important;top:0!important;transform:translateX(-100%)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:focus:before{opacity:1!important;background-color:var(--i-amphtml-interactive-theme-shading)!important}.i-amphtml-story-interactive-poll-container[dir=rtl] .i-amphtml-story-interactive-option:after{transform:translateX(100%)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option:after{transform:translateX(calc(var(--option-percentage) - 100%))!important}.i-amphtml-story-interactive-poll-container.i-amphtml-story-interactive-post-selection[dir=rtl] .i-amphtml-story-interactive-option:after{transform:translateX(calc(100% - var(--option-percentage)))!important}.i-amphtml-story-interactive-poll-container:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-option:after{visibility:hidden!important}.i-amphtml-story-interactive-option-text{font-size:1.375em!important;margin:0!important;z-index:1!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transform-origin:left!important;line-height:1.3em!important;word-wrap:break-word!important;overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;max-height:2.6em!important}.i-amphtml-story-interactive-poll-two-lines .i-amphtml-story-interactive-option-text{font-size:1.125em!important}.i-amphtml-story-interactive-poll-container[dir=rtl] .i-amphtml-story-interactive-option-text{transform-origin:right!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-text{transform:scale(0.72)!important}.i-amphtml-story-interactive-option-percentage{font-weight:700!important;font-size:1.75em!important;margin:0!important;opacity:0!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transform:translateX(2em)!important;-ms-flex-negative:0!important;flex-shrink:0!important;direction:ltr!important}.i-amphtml-story-interactive-poll-container[dir=rtl] .i-amphtml-story-interactive-option-percentage{transform:translateX(-2em)!important}.i-amphtml-story-interactive-has-data.i-amphtml-story-interactive-post-selection:not([dir=rtl]) .i-amphtml-story-interactive-option-percentage,.i-amphtml-story-interactive-has-data.i-amphtml-story-interactive-post-selection[dir=rtl] .i-amphtml-story-interactive-option-percentage{opacity:1!important;transform:translateX(0px)!important}.i-amphtml-story-interactive-option-percentage-sign{font-size:.6em!important;margin-left:-.25em!important;display:inline-block!important}.i-amphtml-story-interactive-poll-container:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-option-percentage{visibility:hidden!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:before{background-color:var(--i-amphtml-interactive-theme-shading-flash)!important;content:""!important;position:absolute!important;width:100%!important;height:100%!important;left:0!important;opacity:0!important;animation:i-amphtml-interactive-animation-landing-animation-flash-background var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(3):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el3)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(4):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el4)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-text{transform-origin:center!important;animation:i-amphtml-story-interactive-option-text-landing-text var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2) .i-amphtml-story-interactive-option-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(3) .i-amphtml-story-interactive-option-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el3)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(4) .i-amphtml-story-interactive-option-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el4)!important}@keyframes i-amphtml-story-interactive-option-text-landing-text{33%{transform:translateY(.2em)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-poll.css*/')},e.buildComponent=function(){return this.rp=y(this.element)(Oi),this.zyt(this.rp),this.rp},e.layoutCallback=function(){var i=this;return this.qyt(this.rp).then}))},e.zyt=function(t){var i=this;this.syt(t),this.Jt.forEach}))},e.Oyt=function(t,i){var r=function(t){return y(t)(Ri)}(this.element);r.uyt=i,r.querySelector(".i-amphtml-story-interactive-option-text").textContent=t.text,this.rp.querySelector(".i-amphtml-story-interactive-option-container").appendChild(r)},e.displayOptionsData=function(t){if(t){var i=this.gyt(t);this.getOptionElements().forEach((function(r,a){if(t[a].selected){var e=r.querySelector(".i-amphtml-story-interactive-option-text");e.setAttribute("aria-label","selected "+e.textContent)}r.querySelector(".i-amphtml-story-interactive-option-percentage-text").textContent=i[a],R(r,"--option-percentage",i[a]+"%")}))}},e.qyt=function(t){var i=this,r=!1,a=m(t.querySelectorAll(".i-amphtml-story-interactive-option-text"));return this.measureMutateElement((function(){r=a.some((function(t){return Math.round(t.clientHeight/parseFloat(A(i.win,t)["line-height"].replace("px","")))>=2}))})}),t)},a}(fi),Ai=["<div class=i-amphtml-story-interactive-quiz-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-quiz-option-container></div></div>"],Si=['<button class="i-amphtml-story-interactive-quiz-option i-amphtml-story-interactive-option" aria-live=polite><span class="i-amphtml-story-interactive-quiz-answer-choice notranslate"></span></button>'],Ii=function(t){r(a,t);var i=o(a);function a(t){var r;return(r=i.call(this,t,0)).Ryt=[],r}var e=a.prototype;return e.buildCallback=function(){return t.prototype.buildCallback.call(this,'.i-amphtml-story-interactive-quiz-option-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column;flex-direction:column;background-color:var(\n    --i-amphtml-interactive-options-chip-background-color\n  )!important;border-radius:2em!important;padding:0.5em 0.5em 0!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important}.i-amphtml-story-interactive-quiz-option{font-family:inherit!important;position:relative!important;display:-ms-flexbox!important;display:flex!important;justify-items:start!important;-ms-flex-align:center!important;align-items:center!important;border-radius:1.649em!important;padding:0.5em 1em 0.5em 0.5em!important;background-color:var(\n    --i-amphtml-interactive-option-background-color\n  )!important;margin-bottom:0.5em!important;color:var(--i-amphtml-interactive-option-text-color)!important;box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-webkit-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-moz-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;font-size:1em!important;line-height:1.25em!important;overflow:hidden!important;z-index:0!important;border:none!important;outline:none!important;text-align:start!important}[dir=rtl] .i-amphtml-story-interactive-quiz-option{padding:0.5em 0.5em 0.5em 1em!important}.i-amphtml-story-interactive-quiz-option-text{max-height:2.5em!important;overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;visibility:visible!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected{color:#fff!important;border:1px solid transparent!important}.i-amphtml-story-interactive-quiz-answer-choice{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important;height:1.5em!important;width:1.5em!important;min-width:1.5em!important;border-radius:50%!important;padding:.31em!important;margin-right:1em!important;color:var(--interactive-accent-color)!important;border:0.125em solid!important;border-color:var(--i-amphtml-interactive-answer-choice-border)!important;font-size:1em!important;line-height:1em!important;font-weight:700!important;background-repeat:no-repeat!important;background-position:50%!important;background-size:1.5em!important}[dir=rtl] .i-amphtml-story-interactive-quiz-answer-choice{margin-left:16px!important;margin-right:0px!important}.i-amphtml-story-interactive-quiz-percentage-text{display:-ms-flexbox!important;display:flex!important;padding-left:1em!important;margin-left:auto!important;visibility:hidden!important;-ms-flex-negative:0!important;flex-shrink:0!important}.i-amphtml-story-interactive-quiz-option:not(.i-amphtml-story-interactive-option-selected) .i-amphtml-story-interactive-quiz-percentage-text{opacity:0.5!important}[dir=rtl] .i-amphtml-story-interactive-quiz-percentage-text{padding-left:0px!important;padding-right:1em!important;margin-right:auto!important;margin-left:0px!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-quiz-percentage-text{visibility:visible!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected>.i-amphtml-story-interactive-quiz-percentage-text{color:#fff!important}.i-amphtml-story-interactive-post-selection :not([correct])>.i-amphtml-story-interactive-quiz-answer-choice{color:var(--incorrect-color)!important;border-color:var(--incorrect-color)!important}.i-amphtml-story-interactive-post-selection [correct]>.i-amphtml-story-interactive-quiz-answer-choice{color:var(--correct-color)!important;border-color:var(--correct-color)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected>.i-amphtml-story-interactive-quiz-answer-choice{border-color:transparent!important;animation:answer-choice-bounce 600ms linear forwards;background-color:var(\n    --i-amphtml-interactive-answer-choice-background\n  )!important}.i-amphtml-story-interactive-post-selection [correct]>.i-amphtml-story-interactive-quiz-answer-choice{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%235BBA74"><path fill="none" d="M0 0h24v24H0z"/><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>\')!important;color:transparent!important}.i-amphtml-story-interactive-post-selection :not([correct])>.i-amphtml-story-interactive-quiz-answer-choice{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23F34E4E"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')!important;color:transparent!important}.i-amphtml-story-interactive-quiz-option>*{position:relative!important}.i-amphtml-story-interactive-quiz-option:before{content:""!important;position:absolute!important;left:0px!important;width:100%!important;height:100%!important;border-radius:var(--i-amphtml-interactive-chip-radius)!important;line-height:1.25em!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-quiz-option:focus:before{background:var(--i-amphtml-interactive-theme-shading)!important}.i-amphtml-story-interactive-post-selection:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-quiz-option-selected[correct].i-amphtml-story-interactive-quiz-option:before{animation:option-select-correct 150ms cubic-bezier(0,0,0.2,1) forwards!important}.i-amphtml-story-interactive-post-selection:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-quiz-option-selected:not([correct]).i-amphtml-story-interactive-quiz-option:before{animation:option-select-incorrect 150ms cubic-bezier(0,0,0.2,1) forwards!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-quiz-option:before{transform:translateX(var(--option-percentage,0%))!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data[dir=rtl] .i-amphtml-story-interactive-quiz-option:before{transform:translateX(calc(var(--option-percentage, 0%)*-1))!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-quiz-option:before{left:-100%!important;width:100%!important;height:100%!important;border-radius:0px!important;background:var(--i-amphtml-interactive-theme-shading)!important;color:var(--i-amphtml-interactive-theme-shading)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data[dir=rtl] .i-amphtml-story-interactive-quiz-option:before{left:101%!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected[correct].i-amphtml-story-interactive-quiz-option{background:var(--correct-color)!important;box-shadow:var(--i-amphtml-interactive-chip-shadow-inset)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected:not([correct]).i-amphtml-story-interactive-quiz-option{background:var(--incorrect-color)!important;box-shadow:var(--i-amphtml-interactive-chip-shadow-inset)!important}.i-amphtml-story-interactive-option-selected.i-amphtml-story-interactive-quiz-option{border:none!important;box-shadow:var(--i-amphtml-interactive-chip-shadow-inset)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-option-selected[correct].i-amphtml-story-interactive-quiz-option:before{background:var(--correct-color-shaded)!important;color:var(--correct-color-shaded)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-option-selected:not([correct]).i-amphtml-story-interactive-quiz-option:before{background:var(--incorrect-color-shaded)!important;color:var(--incorrect-color-shaded)!important}@keyframes option-select-incorrect{0%{border-color:var(--incorrect-color);background:var(--incorrect-color);opacity:0.2;transform:scale(0.1);color:var(--incorrect-color)}50%{opacity:1;color:var(--incorrect-color)}to{border-color:var(--incorrect-color);background:var(--incorrect-color);transform:scale(1);color:#fff}}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option .i-amphtml-story-interactive-quiz-answer-choice{animation:i-amphtml-story-interactive-quiz-answer-choice-landing-animation var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2) .i-amphtml-story-interactive-quiz-answer-choice{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(3) .i-amphtml-story-interactive-quiz-answer-choice{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el3)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(4) .i-amphtml-story-interactive-quiz-answer-choice{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el4)!important}@keyframes i-amphtml-story-interactive-quiz-answer-choice-landing-animation{33%{transform:scale(.8)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-quiz.css*/')},e.buildComponent=function(){return this.rp=y(this.element)(Ai),this.zyt(this.rp),this.rp},e.zyt=function(t){var i=this;this.syt(t),this.Ryt=["71","72","73","74"];var r=this.rp.querySelector(".i-amphtml-story-interactive-quiz-option-container");this.Jt.forEach})),qi(r,this.element)},e.Oyt=function(t,i){var }(this.element);r.querySelector(".i-amphtml-story-interactive-quiz-answer-choice").setAttribute("i-amphtml-i18n-text-content",this.Ryt[i]),r.uyt=t.optionIndex;var a=document.createElement("span");a.classList.add("i-amphtml-story-interactive-quiz-option-text"),a.textContent=t.text,r.appendChild(a);var e=document.createElement("span");return e.classList.add("i-amphtml-story-interactive-quiz-percentage-text"),r.appendChild(e),"correct"in t&&r.setAttribute("correct","correct"),r},e.displayOptionsData=function(t){if(t){var i=this.gyt(t);this.getOptionElements().forEach((function(r,a){var e=(t[a].selected?"selected":"")+(r.hasAttribute("correct")?" correct":"")+(r.hasAttribute("correct")?"":" incorrect");r.querySelector(".i-amphtml-story-interactive-quiz-answer-choice").setAttribute("aria-hidden",!0);var n=r.querySelector(".i-amphtml-story-interactive-quiz-option-text");n.setAttribute("aria-label",e+" "+n.textContent),r.querySelector(".i-amphtml-story-interactive-quiz-percentage-text").textContent="".concat(i[a],"%"),R(r,"--option-percentage","".concat(i[a],"%"))}))}},a}(fi),Li=".i-amphtml-story-interactive-results-container{font-family:Poppins,sans-serif!important;background:var(--i-amphtml-interactive-options-chip-background-color)!important;border-radius:var(--i-amphtml-interactive-chip-radius)!important;color:var(--i-amphtml-interactive-strong-text-color)!important;text-align:center!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important;padding-bottom:1.25em!important}.i-amphtml-story-interactive-results-container.i-amphtml-story-interactive-has-image:not(.i-amphtml-story-interactive-has-score){padding-top:2.5em!important}.i-amphtml-story-interactive-has-score .i-amphtml-story-interactive-results-top{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:justify!important;justify-content:space-between!important;padding:1em 1.5em!important;box-sizing:border-box!important;color:var(--interactive-prompt-text-color)!important}.i-amphtml-story-interactive-results-top{width:100%!important;border-top-left-radius:var(--i-amphtml-interactive-chip-radius)!important;border-top-right-radius:var(--i-amphtml-interactive-chip-radius)!important;display:none!important}.i-amphtml-story-interactive-has-score:not(.i-amphtml-story-interactive-has-image) .i-amphtml-story-interactive-results-top{background:var(--interactive-prompt-background)!important}.i-amphtml-story-interactive-results-top-score{font-weight:700!important;font-size:.75em!important;line-height:1em!important;letter-spacing:.15em!important;text-transform:uppercase!important}[dir=rtl] .i-amphtml-story-interactive-results-top-score{left:auto!important;right:1.25em!important}.i-amphtml-story-interactive-results-top-value{font-weight:700!important;font-size:1.75em!important;line-height:1!important}.i-amphtml-story-interactive-results-top-value>span:nth-child(2){font-size:.5em!important}[dir=rtl] .i-amphtml-story-interactive-results-top-value{left:.7em!important;right:auto!important}.i-amphtml-story-interactive-results-container:not(.i-amphtml-story-interactive-has-score){--i-amphtml-story-interactive-score-display:none!important}.i-amphtml-story-interactive-results-container:not(.i-amphtml-story-interactive-has-image) .i-amphtml-story-interactive-results-image-border{display:none!important}.i-amphtml-story-interactive-results-image{width:8.75em!important;height:8.75em!important;background-size:cover!important;background-position:50%!important;border-radius:50%!important}.i-amphtml-story-interactive-results-image-border{margin:0px 10px!important;padding:8px!important;border-radius:50%!important;border:2px solid var(--interactive-accent-color)!important}.i-amphtml-story-interactive-results-prompt{text-transform:uppercase!important;font-size:.75em!important;margin-top:1.75em!important;font-weight:700!important;letter-spacing:.2em!important}.i-amphtml-story-interactive-results-top-transparent.i-amphtml-story-interactive-has-score:not(.i-amphtml-story-interactive-has-image) .i-amphtml-story-interactive-results-prompt{margin-top:0px!important}.i-amphtml-story-interactive-results-title{font-size:1.75em!important;font-weight:700!important}.i-amphtml-story-interactive-results-description{font-size:.875em!important;text-align:center!important;color:var(--i-amphtml-interactive-option-text-color)!important;margin-top:.5em!important;padding:0px 1.4em!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-results.css*/",Ti=["<div class=i-amphtml-story-interactive-results-container><div class=i-amphtml-story-interactive-results-image-border><div class=i-amphtml-story-interactive-results-image></div></div><div class=i-amphtml-story-interactive-results-prompt></div><div class=i-amphtml-story-interactive-results-title></div><div class=i-amphtml-story-interactive-results-description></div></div>"],Pi=["<div class=i-amphtml-story-interactive-results-top><div class=i-amphtml-story-interactive-results-top-score>SCORE:</div><div class=i-amphtml-story-interactive-results-top-value><span class=i-amphtml-story-interactive-results-top-value-number>100</span><span>%</span></div></div>"],Fi=function(t,i){var r={category:null,percentage:null},a={};return i.forEach((function(t){t.resultscategory&&(a[t.resultscategory]=0)})),Object.values(t).forEach((function(t){1==t.type&&t.option&&t.option.resultscategory&&null!=a[t.option.resultscategory]&&(a[t.option.resultscategory]+=1)})),r.category=Object.keys(a).reduce})),r},Ui=function(t,i){var r={category:null,percentage:null},a=0,e=0;Object.values(t).forEach((function(t){0==t.type&&(a+=1,t.option&&null!=t.option.correct&&(e+=1))})),r.percentage=0==a?0:e/a*100;var n=-100;return i.forEach((function(t){var i=r.percentage-parseFloat(t.resultsthreshold);(i>=0&&(n>i||n<0)||i<0&&n<0&&i>n)&&(r.category=t.resultscategory,n=i)})),r},Ci=function(t){return t.some}))?"percentage":"category"},Xi=function(t){r(a,t);var i=o(a);function a(t){return i.call(this,t,2,[2,4])}var e=a.prototype;return e.buildCallback=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.prototype.buildCallback.call(this,Li+i)},e.buildComponent=function(){return this.rp=y(this.element)(Ti),this.buildTop(),this.rp},e.buildTop=function(){this.rp.prepend(y(this.element)(Pi))},e.layoutCallback=function(){var t=this;this.element.hasAttribute("prompt-text")&&(this.rp.querySelector(".i-amphtml-story-interactive-results-prompt").textContent=this.element.getAttribute("prompt-text")),this.eA.subscribe(16}),!0)},e.onInteractiveReactStateUpdate=function(t){var i=this,r=function(t,i){return("category"===Ci(i)?Fi:Ui)(t,i)}(t,this.Jt);this.rp.classList.toggle("i-amphtml-story-interactive-has-score",null!=r.percentage),this.rp.querySelector(".i-amphtml-story-interactive-results-top-value-number").textContent=(r.percentage||0).toFixed(0),this.Jt.forEach((function(t){t.resultscategory===r.category&&i.mutateElement}))}))},e.Ayt=function(t){this.rp.classList.toggle("i-amphtml-story-interactive-has-image",null!=t.image),t.image&&R(this.rp.querySelector(".i-amphtml-story-interactive-results-image"),"background","url("+t.image+")"),this.rp.querySelector(".i-amphtml-story-interactive-results-title").textContent=t.resultscategory,this.rp.querySelector(".i-amphtml-story-interactive-results-description").textContent=t.text||"",this.rp.classList.toggle("i-amphtml-story-interactive-results-top-transparent",this.Syt())},e.qit=function(t){},e.displayOptionsData=function(t){},e.cy},e.Syt=function(){var t=A(this.win,this.rp.querySelector(".i-amphtml-story-interactive-results-top")).background;return!(!t.startsWith("rgba")||0!=t.lastIndexOf("rgb"))&&0==parseFloat(t.split(", ")[3].split(")")[0])},a}(fi),Yi=["<div class=i-amphtml-story-interactive-results-container><div class=i-amphtml-story-interactive-results-prompt></div><div class=i-amphtml-story-interactive-results-title></div><div class=i-amphtml-story-interactive-results-detailed><div class=i-amphtml-story-interactive-results-image></div></div><div class=i-amphtml-story-interactive-results-description></div></div>"],_i=function(t){r(a,t);var i=o(a);function a(t){var r;return(r=i.call(this,t)).Iyt={},r.Lyt=null,r.Tyt=!1,r}var e=a.prototype;return e.buildCallback=function(){return t.prototype.buildCallback.call(this,".i-amphtml-story-interactive-results-detailed{position:relative!important;height:18em!important;width:100%!important}.i-amphtml-story-interactive-results-image{margin:4em auto auto!important;border:0.3em solid var(--interactive-accent-color)!important}.i-amphtml-story-interactive-results-result{border-radius:50%!important;background-position:50%!important;background-size:cover!important;background-color:var(\n    --i-amphtml-interactive-placeholder-background\n  )!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-results-detailed.css*/")},e.buildComponent=function(){return this.rp=y(this.element)(Yi),this.buildTop(),this.Lyt=this.rp.querySelector(".i-amphtml-story-interactive-results-detailed"),this.Tyt="percentage"===Ci(this.Jt),this.rp},e.onInteractiveReactStateUpdate=function(i){var r=this,a=Object.values(i),e=!1;a.forEach((function(t){(r.Tyt&&0===t.type||!r.Tyt&&1===t.type)&&(r.Iyt[t.interactiveId]||(e=!0,r.Pyt(t)),r.Fyt(t))})),e&&this.Uyt(),t.prototype.onInteractiveReactStateUpdate.call(this,i)},e.Pyt=function(t){var i=document.createElement("div");i.classList.add("i-amphtml-story-interactive-results-result"),this.Lyt.appendChild(i),this.Iyt[t.interactiveId]={element:i,answered:!1}},e.Fyt=function(t){t.option&&!this.Iyt[t.interactiveId].answered&&(t.option.image?O(this.Iyt[t.interactiveId].element,{"background-image":"url("+t.option.image+")"}):this.Iyt[t.interactiveId].element.textContent=t.option.text,this.Iyt[t.interactiveId].answered=!0)},e.Uyt=function(){for(var t in this.Iyt)O(this.Iyt[t].element,{"height":"5em","width":"5em"})},a}(Xi),Ni=["<div class=i-amphtml-story-interactive-slider-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-slider-input-container><div class=i-amphtml-story-interactive-slider-input-size><input class=i-amphtml-story-interactive-slider-input type=range min=0 max=100 step=0.1 value=0><div class=i-amphtml-story-interactive-slider-bubble-wrapper><div class=i-amphtml-story-interactive-slider-bubble></div></div><div class=i-amphtml-story-interactive-slider-average-indicator><span></span><span></span><span></span></div><div class=i-amphtml-story-interactive-slider-average-text>Average answer</div></div></div></div>"],H},Ji="percentage",Vi=function(t){r(a,t);var i=o(a);function a(t){var r;return(r=i.call(this,t,3,[0,1])).Cyt=null,r.Xyt=null,r.Yyt=Ji,r._yt=null,r.xd=null,r}var e=a.prototype;return e.displayOptionsData=function(t){var i=this.Nyt(t);O(this.rp,{"--average":i+"%"})},e.Nyt=function(t){for(var i=0,r=0,a=0;a<t.length;a++)i+=t[a].index*t[a].count,r+=t[a].count;return 0==r?0:i/r},e.updateComponentWithData=function(t){var i=this;this.oyt=this.kyt(t),this.oyt.forEach((function(t){t.selected&&(i.ayt=!0,i.mutateElement((function(){i.Xyt.value=t.index,i.Hyt(),i.hC(),i.byt(null)})))}))},e.buildComponent=function(){if(this.rp=y(this.element)(Ni),this.Cyt=this.rp.querySelector(".i-amphtml-story-interactive-slider-bubble"),this.Xyt=this.rp.querySelector(".i-amphtml-story-interactive-slider-input"),this.Jt.length>0){this.Yyt="emoji";var t=this.win.document.createElement("span");t.textContent=this.Jt[0].text,this.Cyt.appendChild(t)}return this.rp.setAttribute("type",this.Yyt),this.syt(this.rp),this.rp},e.buildCallbac},e.uA=function(){var i=this;t.prototype.uA.call(this),this.Xyt.addEventListener("input"})),["mouseup","touchend"].forEach})),this.Xyt.addEventListener("keydown",(function(t){var r=i.eA.get(26)?-1:1;"Enter"===t.key||" "===t.key?i.hC():"ArrowLeft"===t.key?(i.Jyt(-r),t.preventDefault()):"ArrowRight"===t.key&&(i.Jyt(r),t.preventDefault())}),!0),this.Xyt.addEventListener("touchmove"}),!0),this.eA.subscribe(36,(function(t){if(!i.rp.classList.contains(hi)){if(t!=i.getPageEl().getAttribute("id"))return cancelAnimationFrame(i.xd),clearTimeout(i._yt),i.Xyt.value=0,i.Hyt(),void i.rp.classList.remove(vi);var r,a=function t(a){if(!i.rp.classList.contains("i-amphtml-story-interactive-has-data")){r||(r=a);var e=a-r;if(1500<e)i.rp.classList.remove(vi);else{var n=e/1500,o=n<.5?30*Hi(2*n):30*Hi(2-2*n);i.Xyt.value=o,i.Hyt(),i.xd=requestAnimationFrame(t)}}};i._yt=setTimeout}),500)}}),!0)},e.Hyt=function(){var t=this.Xyt.value;this.Yyt==Ji&&(this.Cyt.textContent=Math.round(t)+"%"),this.rp.classList.add(vi),O(this.rp,{"--fraction":t/100})},e.Jyt=function(t){var i=parseFloat(this.Xyt.value);this.Xyt.value=i+t,this.Hyt()},e.hC=function(){this.ayt||(this.byt(),this.Xyt.setAttribute("disabled",""),this.rp.classList.remove(vi),this.dyt(Math.round(this.Xyt.value)))},e.getNumberOfOption},a}(fi);t.registerElement("amp-story-interactive-binary-poll",xi),t.registerElement("amp-story-interactive-img-poll",zi),t.registerElement("amp-story-interactive-img-quiz",Ei),t.registerElement("amp-story-interactive-poll",Mi),t.registerElement("amp-story-interactive-quiz",Ii),t.registerElement("amp-story-interactive-slider",Vi),t.registerElement("amp-story-interactive-slider",Vi),t.registerElement("amp-story-interactive-slider",Vi),t.registerElement("amp-story-interactive-results",Xi),t.registerElement("amp-story-interactive-results-detailed",_i)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-interactive-0.1.js.map