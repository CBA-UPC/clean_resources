window.thirdparty.push({family:"functionning",name:"auto-login",fn:function(e){window.cms_connected=window.cms_connected||!1;var n=window.autologinOF.debug?"-staging":"",o=document.createElement("script"),t=document.getElementsByTagName("script")[0];o.type="text/javascript",o.src="https://cdn.infoconnect.fr/auth/js/keycloak"+n+".min.js",t.parentNode.insertBefore(o,t);var c=setInterval(function(){void 0!==window.Keycloak&&(clearTimeout(c),new Keycloak({realm:window.autologinOF.realm,url:window.autologinOF.url,clientId:window.autologinOF.clientID}).init({onLoad:"check-sso",messageReceiveTimeout:15e3,enableLogging:!0,silentCheckSsoFallback:!1,silentCheckSsoRedirectUri:window.autologinOF.silentSSOuri,flow:"implicit"}).then(function(e){var n;e&&!cms_connected?((n=new URL(window.location.href)).searchParams.set("login",""),n.searchParams.set("autologin",""),window.location.href=n.href):!e&&cms_connected?((n=new URL(window.location.href)).searchParams.set("logout",""),n.searchParams.set("autologout",""),window.location.href=n.href):e||cms_connected||!window.cms_got_enabled?e&&cms_connected:(n=document.createElement("script"),e=document.getElementsByTagName("script")[0],n.async=1,n.src="https://accounts.google.com/gsi/client",e.parentNode.insertBefore(n,e))}).catch()},50)}});