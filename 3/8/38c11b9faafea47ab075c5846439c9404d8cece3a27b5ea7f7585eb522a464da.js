webpackJsonp([2],Array(36).concat([,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r;n=[i(0),i(183),i(284),i(525),i(526),i(267),i(639),i(640),i(641),i(642)],void 0!==(r=function(e,t,i,n,r,a,o,s,u,l){"use strict";return e.Class.declare({$name:"FileUploadRendererBundle",$extends:t,getDefinedRenderers:function(){return{FileUpload:i,FileUploadScreenCapture:n,FileUploadVideoCaptureVideoToText:r,"FileUpload-offline":a}},getDefinedTemplates:function(){return{FileUpload:o,FileUploadScreenCapture:s,FileUploadVideoCaptureVideoToText:u,"FileUpload-offline":l}}})}.apply(t,n))&&(e.exports=r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";e){return s(e)&&1===e.nodeType}urn!0}f(e.fixed_)return e;if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var n=e||Oe.a.event;e={};for(var r in n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(e[r]=n[r]));if(e.target||(e.target=e.srcElement||Me.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=e.defaultPrevented=!1,e.stopPropagation=e.isPropagationStopped=i,e.stopImmediatePropagation=e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var a=Me.a.documentElement,o=Me.a.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}unction Y(e,t,i){if(oi.has(e)){var n=oi.get(e);if(n.handlers){if(Array.isArray(t))return H(Y,e,t,i);var r=if(void 0!==t){var a=n.handlers[t];if(a){if(!i)return void r(e,t);if(i.guid)for(var o=0;o<a.length;o++)a[o].guid===i.guid&&a.splice(o--,1);z(e,t)}}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&r(e,s)}}}ction K(e,t){void 0===t&&(t={});var i=t,n=i.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=v("span",{className:"vjs-event-bus"});return o(e,Si),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",,e}unction Z(){for(var e={},t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(,e}etPlayer(e);if(n)return t&&St.warn('Player "'+e+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"==typeof e?Qt("#"+xa(e)):e;if(!p(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||St.warn("The element supplied is not included in the DOM"),t=t||{},ft("beforesetup").forEach(;var a=Li.getComponent("Player");return n=new a(r,t,i),ft("setup").forEach(function(e){return e(n)}),n}function Ie(){}Object.defineProperty(t,"__esModule",{value:!0});for(var Pe,De=i(230),Oe=i.n(De),Le=i(314),Me=i.n(Le),Be=i(285),Ue=i.n(Be),Ne=i(315),je=i.n(Ne),Fe=i(316),Ve=i.n(Fe),qe=i(528),ze=i.n(qe),He=i(529),We=i.n(He),Ge=i(530),Ye=i.n(Ge),$e=i(533),Xe=i.n($e),Qe=i(537),Ke=i.n(Qe),Je=i(539),Ze=i.n(Je),et=i(317),tt=i(541),it=i(546),nt=i(547),rt=i(548),at=i(553),ot=i.n(at),st=i(321),ut=i(554),lt=i(238),ct=i(559),dt=(i.n(ct),"7.17.0"),ht={},ft=pt=function(e,t){ft(e,t)},mt=gt=vt={prefixed:!0},yt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],bt=yt[0],_t=0;_t<yt.length;_t++)if(yt[_t][1]in Me.a){Pe=yt[_t];break}if(Pe){for(var Tt=0;Tt<Pe.length;Tt++)vt[bt[Tt]]=Pe[Tt];vt.prefixed=Pe[0]!==bt[0]}var wt,Et=[],kt=St=n("VIDEOJS"),Ct=St.createLogger,At=Object.prototype.toString,xt=Rt=Oe.a.navigator&&Oe.a.navigator.userAgent||"",It=/AppleWebKit\/([\d.]+)/i.exec(Rt),Pt=It?parseFloat(It.pop()):null,Dt=/iPod/i.test(Rt),Ot=),Lt=/Android/i.test(Rt),Mt=),Bt=Lt&&Mt<5&&Pt<537,Ut=/Firefox/i.test(Rt),Nt=/Edg/i.test(Rt),jt=!Nt&&(/Chrome/i.test(Rt)||/CriOS/i.test(Rt)),Ft=),Vt=),qt=/Safari/i.test(Rt)&&!jt&&!Lt&&!Nt,zt=/Windows/i.test(Rt),Ht=Boolean(f()&&("ontouchstart"in Oe.a||Oe.a.navigator.maxTouchPoints||Oe.a.DocumentTouch&&Oe.a.document instanceof Oe.a.DocumentTouch)),Wt=/iPad/i.test(Rt)||qt&&Ht&&!/iPhone/i.test(Rt),Gt=/iPhone/i.test(Rt)&&!Wt,Yt=Gt||Wt||Dt,$t=(qt||Yt)&&!jt,Xt=Object.freeze({__proto__:null,IS_IPOD:Dt,IOS_VERSION:Ot,IS_ANDROID:Lt,ANDROID_VERSION:Mt,IS_NATIVE_ANDROID:Bt,IS_FIREFOX:Ut,IS_EDGE:Nt,IS_CHROME:jt,CHROME_VERSION:Ft,IE_VERSION:Vt,IS_SAFARI:qt,IS_WINDOWS:zt,TOUCH_ENABLED:Ht,IS_IPAD:Wt,IS_IPHONE:Gt,IS_IOS:Yt,IS_ANY_SAFARI:$t}),Qt=g("querySelector"),Kt=g("querySelectorAll"),Jt=Object.freeze({__proto__:null,isReal:f,isEl:p,isInFrame:m,createEl:v,textContent:y,prependTo:b,hasClass:_,addClass:T,removeClass:w,toggleClass:E,setAttributes:k,getAttributes:S,getAttribute:C,setAttribute:A,removeAttribute:x,blockTextSelection:R,unblockTextSelection:I,getBoundingClientRect:P,findPosition:D,getPointerPosition:O,isTextNode:L,emptyEl:M,normalizeContent:B,appendContent:U,insertContent:N,isSingleLeftClick:j,$:Qt,$$:Kt}),Zt=!1,ei=f()&&("complete"===Me.a.readyState?V():Oe.a.addEventListener("load",V));var ti,ii=ni=ri=3;Oe.a.WeakMap||(ti=));var ai,oi=Oe.a.WeakMap?new WeakMap:new ti,si=ui=["touchstart","touchmove"],li=Object.freeze({__proto__:null,fixEvent:W,on:G,off:Y,trigger:$,one:X,any:Q}),ci=30,di=hi=fi=function(e,t,i,n){void 0===n&&(n=Oe.a);var r,a=o=return o.cancel=a,o},pi=function(){};pi.prototype.allowedEvents_={},pi.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},G(this,e,t),this.addEventListener=i},pi.prototype.addEventListener=pi.prototype.on,pi.prototype.off=pi.prototype.removeEventListener=pi.prototype.off,pi.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},X(this,e,t),this.addEventListener=i},pi.prototype.any=pi.prototype.trigger=pi.prototype.dispatchEvent=pi.prototype.trigger;var mi;pi.prototype.queueTrigger=var gi=vi=yi=bi=_i=Ti=wi=Ei=ki=Si={on:one:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=Ei(this,i,"one"),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(a)ki(o,"one",s,u);else{var l=function t(){e.off(o,s,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];u.apply(null,n)};l.guid=u.guid,ki(o,"one",s,l)}},any:off:trigger:,Ci={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var i;return r(e,,i&&vi(this)&&this.trigger({changes:i,type:"statechanged"}),i}},Ai=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},xi=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})},Ri=Ii=),Pi=Oe.a.Map?Oe.a.Map:Ii,Di=),Oi=Oe.a.Set?Oe.a.Set:Di,Li=function(){ar t=e.prototype;return t.dispose=t.isDisposed=t.player=function(){return this.player_},t.options=t.el=function(){return this.el_},t.createEl=function(e,t,i){return v(e,t,i)},t.localize=t.handleLanguagechange=function(){},t.contentEl=t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=t.getChild=t.getDescendant=t.addChild=function(t,i,n){void 0===i&&(i={}),void 0===n&&(n=this.children_.length);var r,a;if("string"==typeof t){a=xi(t);var o=i.componentClass||a;i.name=a;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,i)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),a=a||r.name&&xi(r.name()),a&&(this.childNameIndex_[a]=r,this.childNameIndex_[Ai(a)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[n+1]&&(this.children_[n+1].el_?u=this.children_[n+1].el_:p(this.children_[n+1])&&(u=this.children_[n+1])),this.contentEl().insertBefore(r.el(),u)}return r},t.removeChild=t.initChildren=function(){var t=this,i=this.options_.children;if(i){var n,r=this.options_,a=o=e.getComponent("Tech");n=Array.isArray(i)?i:Object.keys(i),n.concat(Object.keys(this.options_).filter().map(function(e){var n,r;return"string"==typeof e?(n=e,r=i[n]||t.options_[n]||{}):(n=e.name,r=e),{name:n,opts:r}}).filter(.forEach(a)}},t.buildCSSClass=function(){return""},t.ready=t.triggerReady=t.$=function(e,t){return Qt(e,t||this.contentEl())},t.$$=t.hasClass=function(e){return _(this.el_,e)},t.addClass=function(e){T(this.el_,e)},t.removeClass=function(e){w(this.el_,e)},t.toggleClass=function(e,t){E(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=t.setAttribute=t.removeAttribute=t.width=function(e,t){return this.dimension("width",e,t)},t.height=t.dimensions=t.dimension=t.currentDimension=t.currentDimensions=t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=t.handleKeyDown=t.handleKeyPress=t.emitTapEvents=function(){var e,t=0,i=null;this.on("touchstart",,this.on("touchmove",;var n=function(){e=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",},t.enableTouchActivity=t.setTimeout=t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Oe.a.clearTimeout(e)),e},t.setInterval=t.clearInterval=t.requestAnimationFrame=function(e){var t=this;if(!this.supportsRaf_)return this.setTimeout(e,1e3/60);this.clearTimersOnDispose_();var i;return e=di(this,e),i=Oe.a.requestAnimationFrame(,this.rafIds_.add(i),i},t.requestNamedAnimationFrame=t.cancelNamedAnimationFrame=t.cancelAnimationFrame=t.clearTimersOnDispose_=e.registerComponent=function(t,i){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=e.getComponent("Tech"),r=n&&n.isTech(i),a=e===i||e.prototype.isPrototypeOf(i.prototype);if(r||!a){var o;throw o=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+o+".")}t=xi(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(e){return u[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=i,e.components_[Ai(t)]=i,i},e.getComponent=e}();Li.prototype.supportsRaf_="function"==typeof Oe.a.requestAnimationFrame&&"function"==typeof Oe.a.cancelAnimationFrame,Li.registerComponent("Component",Li),ae.prototype.code=0,ae.prototype.message="",ae.prototype.status=null,ae.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ae.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Mi=0;Mi<ae.errorTypes.length;Mi++)ae[ae.errorTypes[Mi]]=Mi,ae.prototype[ae.errorTypes[Mi]]=Mi;var Bi=Ui=Ni=ji={textTracksToJson:Ui,jsonToTextTracks:Ni,trackToJson_:Bi},Fi="vjs-modal-dialog",Vi=function(e){e()(t,e);var i=t.prototype;return i.createEl=i.dispose=i.buildCSSClass=i.label=i.description=i.open=i.opened=i.close=i.closeable=i.fill=i.fillWith=i.empty=i.content=i.conditionalFocus_=i.conditionalBlur_=i.handleKeyDown=i.focusableEls_=t}(Li);Vi.prototype.options_={pauseOnOpen:!0,temporary:!0},Li.registerComponent("ModalDialog",Vi);var qi=pi);qi.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var zi in qi.prototype.allowedEvents_)qi.prototype["on"+zi]=null;var Hi=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},Wi=qi),Gi=Yi=qi),$i=qi),Xi=),Qi=),Ki={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ji={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Zi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},en={disabled:"disabled",hidden:"hidden",showing:"showing"},tn=function(e){function t(t){var i;void 0===t&&(t={}),i=e.call(this)||this;var n={id:t.id||"vjs_track_"+q(),kind:t.kind||"",language:t.language||""},r=t.label||"";for(var a in n)!a);return Object.defineProperty(je()(i),"label",{get:function(){return r},set:),i}return Ve()(t,e),t}(pi),nn=rn=an=on=sn=Object.freeze({__proto__:null,parseUrl:nn,getAbsoluteURL:rn,getFileExtension:an,isCrossOrigin:on}),un=ln=function(e,t){var i={uri:e},n=on(e);n&&(i.cors=n);var r="use-credentials"===t.tech_.crossOrigin();r&&(i.withCredentials=r),Ye()(i,di(this,function(e,i,n){if(e)return St.error(e,i);t.loaded_=!0,"function"!=typeof Oe.a.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(e){return"vttjserror"===e.type?void St.error("vttjs failed to load, stopping trying to process "+t.src):un(n,t)}):un(n,t)}))},cn=function(e){function t(t){var i;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var n=Z(t,{kind:Zi[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=en[n.mode]||"disabled",a=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(r="hidden"),i=e.call(this,n)||this,i.tech_=n.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var o=new Qi(i.cues_),s=new Qi(i.activeCues_),u=!1,l=di(je()(i),,c=return i.tech_.one("dispose",c),"disabled"!==r&&i.tech_.on("timeupdate",l),Object.defineProperties(je()(i),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return r},set:,cues:{get:set:function(){}},activeCues:{get:set:function(){}}}),n.src?(i.src=n.src,i.preload_||(i.loaded_=!0),(i.preload_||"subtitles"!==n.kind&&"captions"!==n.kind)&&ln(i.src,je()(i))):i.loaded_=!0,i}Ve()(t,e);var i=t.prototype;return i.addCue=function(e){var t=e;if(Oe.a.vttjs&&!(e instanceof Oe.a.vttjs.VTTCue)){t=new Oe.a.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var i in e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},i.removeCue=t}(tn);cn.prototype.allowedEvents_={cuechange:"cuechange"};var dn=tn),hn=tn),fn=0,pn=2,mn=function(e){function t(t){var i;void 0===t&&(t={}),i=e.call(this)||this;var n,r=new cn(t);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(je()(i),{readyState:{get:function(){return n}},track:{get:function(){return r}}}),n=fn,r.addEventListener("loadeddata",,i}return Ve()(t,e),t}(pi);mn.prototype.allowedEvents_={load:"load"},mn.NONE=fn,mn.LOADING=1,mn.LOADED=pn,mn.ERROR=3;var gn={audio:{ListClass:Wi,TrackClass:dn,capitalName:"Audio"},video:{ListClass:Yi,TrackClass:hn,capitalName:"Video"},text:{ListClass:$i,TrackClass:cn,capitalName:"Text"}};Object.keys(gn).forEach(;var vn={remoteText:{ListClass:$i,TrackClass:cn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Xi,TrackClass:mn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},yn=Ue()({},gn,vn);vn.names=Object.keys(vn),gn.names=Object.keys(gn),yn.names=[].concat(vn.names).concat(gn.names);var bn=function(e){function t(t,i){var n;return void 0===t&&(t={}),void 0===i&&(i=function(){}),t.reportTouchActivity=!1,n=e.call(this,null,t,i)||this,n.onDurationChange_=function(e){return n.onDurationChange(e)},n.trackProgress_=function(e){return n.trackProgress(e)},n.trackCurrentTime_=function(e){return n.trackCurrentTime(e)},n.stopTrackingCurrentTime_=function(e){return n.stopTrackingCurrentTime(e)},n.disposeSourceHandler_=function(e){return n.disposeSourceHandler(e)},n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",,yn.names.forEach(,n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(,!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==t.preloadTextTracks,n.autoRemoteTextTracks_=new yn.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}Ve()(t,e);var i=t.prototype;return i.triggerSourceset=i.manualProgressOn=i.manualProgressOff=i.trackProgress=i.onDurationChange=i.buffered=i.bufferedPercent=i.stopTrackingProgress=i.manualTimeUpdatesOn=i.manualTimeUpdatesOff=i.trackCurrentTime=i.stopTrackingCurrentTime=i.dispose=i.clearTracks=i.cleanupAutoTextTracks=i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=i.played=i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=i.initTrackListeners=i.addWebVttScript_=i.emulateTextTracks=i.addTextTrack=i.createRemoteTextTrack=i.addRemoteTextTrack=i.removeRemoteTextTrack=i.getVideoPlaybackQuality=i.requestPictureInPicture=i.disablePictureInPicture=i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},t.canPlayType=t.canPlaySource=t.isTech=t.registerTech=t.getTech=t}(Li);yn.names.forEach(,bn.prototype.featuresVolumeControl=!0,bn.prototype.featuresMuteControl=!0,bn.prototype.featuresFullscreenResize=!1,bn.prototype.featuresPlaybackRate=!1,bn.prototype.featuresProgressEvents=!1,bn.prototype.featuresSourceset=!1,bn.prototype.featuresTimeupdateEvents=!1,bn.prototype.featuresNativeTextTracks=!1,bn.withSourceHandlers=Li.registerComponent("Tech",bn),bn.registerTech("Tech",bn),bn.defaultTechOrder_=[];var _n={},Tn={},wn={},En={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},kn={setCurrentTime:1,setMuted:1,setVolume:1},Sn={play:1,pause:1},Cn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},An=xn=Rn=In=Li);Li.registerComponent("MediaLoader",In);var Pn=function(e){function t(t,i){var n;return n=e.call(this,t,i)||this,n.handleMouseOver_=function(e){return n.handleMouseOver(e)},n.handleMouseOut_=function(e){return n.handleMouseOut(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.emitTapEvents(),n.enable(),n}Ve()(t,e);var i=t.prototype;return i.createEl=i.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},i.createControlTextEl=i.controlText=i.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},i.enable=i.disable=i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=i.handleKeyDown=t}(Li);Li.registerComponent("ClickableComponent",Pn);var Dn=function(e){e()(t,e);var i=t.prototype;return i.dispose=i.createEl=i.update=i.setSrc=i.handleClick=t}(Pn);Li.registerComponent("PosterImage",Dn);var On={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Ln=function(e){function t(t,i,n){var r;r=e.call(this,t,i,n)||this;var a=function(e){return r.updateDisplay(e)};return t.on("loadstart",function(e){return r.toggleDisplay(e)}),t.on("texttrackchange",a),t.on("loadedmetadata",function(e){return r.preselectTrack(e)}),t.ready(di(je()(r),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)return void this.hide();t.on("fullscreenchange",a),t.on("playerresize",a),Oe.a.addEventListener("orientationchange",a),t.on("dispose",;for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()})),r}Ve()(t,e);var i=t.prototype;return i.preselectTrack=i.toggleDisplay=i.createEl=i.clearDisplay=i.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],n=0;n<e.length;++n){var r=e[n];"showing"===r.mode&&i.push(r)}return void this.updateForTrack(i)}for(var a=null,o=null,s=e.length;s--;){var u=e[s];"showing"===u.mode&&("descriptions"===u.kind?a=u:o=u)}o?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):a&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))},i.updateDisplayState=i.updateForTrack=t}(Li);Li.registerComponent("TextTrackDisplay",Ln);var Mn=Li);Li.registerComponent("LoadingSpinner",Mn);var Bn=function(e){function t(){return e.apply(this,arguments)||this}Ve()(t,e);var i=t.prototype;return i.createEl=i.addChild=i.enable=i.disable=i.handleKeyDown=function(t){if(We.a.isEventKey(t,"Space")||We.a.isEventKey(t,"Enter"))return void t.stopPropagation();e.prototype.handleKeyDown.call(this,t)},t}(Pn);Li.registerComponent("Button",Bn);var Un=function(e){e()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return se(t),void(!this.player_.tech(!0)||(Vt||Nt)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r)return void this.player_.tech(!0).focus();var a=function(){return r.focus()};oe(t)?t.then(a,function(){}):this.setTimeout(a,1)},i.handleKeyDown=i.handleMouseDown=function(e){this.mouseused_=!0},t}(Bn);Un.prototype.controlText_="Play Video",Li.registerComponent("BigPlayButton",Un);var Nn=Bn);Li.registerComponent("CloseButton",Nn);var jn=Bn);jn.prototype.controlText_="Play",Li.registerComponent("PlayToggle",jn);var Fn=Vn=Fn,qn=(Li);qn.prototype.labelText_="Time",qn.prototype.controlText_="Time",Li.registerComponent("TimeDisplay",qn);var zn(qn);zn.prototype.labelText_="Current Time",zn.prototype.controlText_="Current Time",Li.registerComponent("CurrentTimeDisplay",zn);var Hn(qn);Hn.prototype.labelText_="Duration",Hn.prototype.controlText_="Duration",Li.registerComponent("DurationDisplay",Hn);var Wn(Li);Li.registerComponent("TimeDivider",Wn);var Gn=function(e){function t(t,i){var n;return n=e.call(this,t,i)||this,n.on(t,"durationchange",function(e){return n.updateContent(e)}),n}Ve()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl,i.updateContent,t}(qn);Gn.prototype.labelText_="Remaining Time",Gn.prototype.controlText_="Remaining Time",Li.registerComponent("RemainingTimeDisplay",Gn);var Yn}(Li);Li.registerComponent("LiveDisplay",Yn);var $}(Bn);$n.prototype.controlText_="Seek to live, currently playing live",Li.registerComponent("SeekToLive",$n);var X},Qn=function(e}Ve()(t,e);var i=t.prototype;return i.enabled=function(){return this.enabled_},i.enabl},i.disabl},i.createE},i.handleMouseDow},i.handleMouseMove=function(e){},i.handleMouseU},i.updat},i.getProgres},i.calculateDistanc},i.handleKeyDow},i.handleClick=function(e){e.stopPropagation(),e.preventDefault()},i.vertica},t}(Li);Li.registerComponent("Slider",Qn);var K},J}(Li);Li.registerComponent("LoadProgressBar",Jn);var Z}(Li);Li.registerComponent("TimeTooltip",Zn);var e}(Li);er.prototype.options_={children:[]},Yt||Lt||er.prototype.options_.children.push("timeTooltip"),Li.registerComponent("PlayProgressBar",er);var t}(Li);tr.prototype.options_={children:["timeTooltip"]},Li.registerComponent("MouseTimeDisplay",tr);var ir=function(e}Ve()(t,e);var i=t.prototype;return i.setEventHandlers},i.toggleVisibility},i.enableInterval},i.disableInterval},i.createE},i.updat},i.userSeek},i.getCurrentTime},i.getPercen},i.handleMouseDow},i.handleMouseMove=function(e){if(j(e)){var t,i=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){if(i>=.99)return void n.seekToLiveEdge();var r=n.seekableStart(),a=n.liveCurrentTime();if(t=r+i*n.liveWindow(),t>=a&&(t=a),t<=r&&(t=r+.1),t===1/0)return}else(t=i*this.player_.duration())===this.player_.duration()&&(t-=.1);this.userSeek_(t)}},i.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},i.disabl},i.handleMouseU},i.stepForwar},i.stepBac},i.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDow},i.dispos},t}(Qn);ir.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Yt||Lt||ir.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Li.registerComponent("SeekBar",ir);var n}(Li);nr.prototype.options_={children:["seekBar"]},Li.registerComponent("ProgressControl",nr);var rr=function(e){function t(t,i){var n;return n=e.call(this,t,i)||this,n.on(t,["enterpictureinpicture","leavepictureinpicture"],function(e){return n.handlePictureInPictureChange(e)}),n.on(t,["disablepictureinpicturechanged","loadedmetadata"],function(e){return n.handlePictureInPictureEnabledChange(e)}),n.disable(),n}Ve()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChang},i.handlePictureInPictureChang},i.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Bn);rr.prototype.controlText_="Picture-in-Picture",Li.registerComponent("PictureInPictureToggle",rr);var a}(Bn);ar.prototype.controlText_="Fullscreen",Li.registerComponent("FullscreenToggle",ar);var or=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},s}(Li);Li.registerComponent("VolumeLevel",sr);var u}(Li);Li.registerComponent("VolumeLevelTooltip",ur);var l}(Li);lr.prototype.options_={children:["volumeLevelTooltip"]},Li.registerComponent("MouseVolumeLevelDisplay",lr);var c}(Qn);cr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Yt||Lt||cr.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),cr.prototype.playerEvent="volumechange",Li.registerComponent("VolumeBar",cr);var dr=function(e){function t(t,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,(void 0===i.volumeBar||u(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=e.call(this,t,i)||this,or(je()(n),t),n.throttledHandleMouseMove=hi(di(je()(n),n.handleMouseMove),ci),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.on("mousedown",function(e){return n.handleMouseDown(e)}),n.on("touchstart",function(e){return n.handleMouseDown(e)}),n.on("mousemove",function(e){return n.handleMouseMove(e)}),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"}),n}Ve()(t,e);var i=t.prototype;return i.createE},i.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},i.handleMouseU},i.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Li);dr.prototype.options_={children:["volumeBar"]},Li.registerComponent("VolumeControl",dr);var h},f}(Bn);fr.prototype.controlText_="Mute",Li.registerComponent("MuteToggle",fr);var pr=function(e){function t(t,i){var n;return void 0===i&&(i={}),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||u(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),n=e.call(this,t,i)||this,n.handleKeyPressHandler_=function(e){return n.handleKeyPress(e)},n.on(t,["loadstart"],function(e){return n.volumePanelState_(e)}),n.on(n.muteToggle,"keyup",function(e){return n.handleKeyPress(e)}),n.on(n.volumeControl,"keyup",function(e){return n.handleVolumeControlKeyUp(e)}),n.on("keydown",function(e){return n.handleKeyPress(e)}),n.on("mouseover",function(e){return n.handleMouseOver(e)}),n.on("mouseout",function(e){return n.handleMouseOut(e)}),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}Ve()(t,e);var i=t.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState},i.createE},i.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},i.handleVolumeControlKeyU},i.handleMouseOver=function(e){this.addClass("vjs-hover"),G(Me.a,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(e){this.removeClass("vjs-hover"),Y(Me.a,"keyup",this.handleKeyPressHandler_)},i.handleKeyPres},t}(Li);pr.prototype.options_={children:["muteToggle","volumeControl"]},Li.registerComponent("VolumePanel",pr);var m}(Li);Li.registerComponent("Menu",mr);var gr=function(e}Ve()(t,e);var i=t.prototype;return i.updat},i.createMen},i.createItems=function(){},i.createE},i.buildWrapperCSSClas},i.buildCSSClas},i.controlTex},i.dispos},i.handleClic},i.handleMouseLeav},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDow},i.handleMenuKeyU},i.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},i.handleSubmenuKeyDow},i.pressButto},i.unpressButto},i.disabl},i.enabl},t}(Li);Li.registerComponent("MenuButton",gr);var v}(gr);Li.registerComponent("TrackButton",vr);var yr=["Tab","Esc","Up","Down","Right","Left"],b}(Pn);Li.registerComponent("MenuItem",br);var _r=function(e){function t(t,i){var n,r=i.track,a=t.textTracks();i.label=r.label||r.language||"Unknown",i.selected="showing"===r.mode,n=e.call(this,t,i)||this,n.track=r,n.kinds=(i.kinds||[i.kind||n.track.kind]).filter(Boolean);var o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(je()(n),t)},s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleSelectedLanguageChange.apply(je()(n),t)};if(t.on(["loadstart","texttrackchange"],o),a.addEventListener("change",o),a.addEventListener("selectedlanguagechange",s),n.on("dispose}),void 0===a.onchange){var u;n.on(["tap","click"})}return n.handleTracksChange(),n}Ve()(t,e);var i=t.prototype;return i.handleClic},i.handleTracksChang},i.handleSelectedLanguageChang},i.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(br);Li.registerComponent("TextTrackMenuItem",_r);var T}(_r);Li.registerComponent("OffTextTrackMenuItem",Tr);var wr=function(e){function t(t,i){return void 0===i&&(i={}),i.tracks=t.textTracks(),e.call(this,t,i)||this}return Ve()(t,e),t.prototype.createItems=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=_r);var i;this.label_&&(i=this.label_+" off"),e.push(new Tr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var a=n[r];if(this.kinds_.indexOf(a.kind)>-1){var o=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+a.kind+"-menu-item"),e.push(o)}}return e},t}(vr);Li.registerComponent("TextTrackButton",wr);var Er=function(e){function t(t,i){var n,r=i.track,a=i.cue,o=t.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=a.text,i.selected=a.startTime<=o&&o<a.endTime,n=e.call(this,t,i)||this,n.track=r,n.cue=a,r.addEventListener("cuechange",di(je()(n),n.update)),n}Ve()(t,e);var i=t.prototype;return i.handleClic},i.updat},t}(br);Li.registerComponent("ChaptersTrackMenuItem",Er);var k}(wr);kr.prototype.kind_="chapters",kr.prototype.controlText_="Chapters",Li.registerComponent("ChaptersButton",kr);var S}(wr);Sr.prototype.kind_="descriptions",Sr.prototype.controlText_="Descriptions",Li.registerComponent("DescriptionsButton",Sr);var C}(wr);Cr.prototype.kind_="subtitles",Cr.prototype.controlText_="Subtitles",Li.registerComponent("SubtitlesButton",Cr);var Ar=function(e}return Ve()(t,e),t.prototype.handleClic},t}(_r);Li.registerComponent("CaptionSettingsMenuItem",Ar);var x}(wr);xr.prototype.kind_="captions",xr.prototype.controlText_="Captions",Li.registerComponent("CaptionsButton",xr);var R}(_r);Li.registerComponent("SubsCapsMenuItem",Rr);var Ir=function(e}Ve()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},i.createItem},t}(wr);Ir.prototype.kinds_=["captions","subtitles"],Ir.prototype.controlText_="Subtitles",Li.registerComponent("SubsCapsButton",Ir);var Pr=function(e}Ve()(t,e);var i=t.prototype;return i.createE},i.handleClic},i.handleTracksChang},t}(br);Li.registerComponent("AudioTrackMenuItem",Pr);var D}(vr);Dr.prototype.controlText_="Audio Track",Li.registerComponent("AudioTrackButton",Dr);var O}(br);Or.prototype.contentElType="button",Li.registerComponent("PlaybackRateMenuItem",Or);var Lr=function(e}Ve()(t,e);var i=t.prototype;return i.createE},i.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},i.createItem},i.updateARIAAttribute},i.handleClic},i.handlePlaybackRateschang},i.playbackRate},i.playbackRateSupporte},i.updateVisibilit},i.updateLabe},t}(gr);Lr.prototype.controlText_="Playback Rate",Li.registerComponent("PlaybackRateMenuButton",Lr);var M}(Li);Li.registerComponent("Spacer",Mr);var Bt}(Mr);Li.registerComponent("CustomControlSpacer",Br);var t}(Li);Ur.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in Me.a&&Ur.prototype.options_.children.splice(Ur.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Li.registerComponent("ControlBar",Ur);var t}(Vi);Nr.prototype.options_=Ue()({},Vi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Li.registerComponent("ErrorDisplay",Nr);var jr=["#000","Black"],Fr=["#00F","Blue"],Vr=["#0FF","Cyan"],qr=["#0F0","Green"],zr=["#F0F","Magenta"],Hr=["#F00","Red"],Wr=["#FFF","White"],Gr=["#FF0","Yellow"],Yr=["1","Opaque"],$r=["0.5","Semi-Transparent"],Xr=["0","Transparent"],Qr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[jr,Wr,Hr,qr,Fr,Gr,zr,Vr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Yr,$r,Xr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Wr,jr,Hr,qr,Fr,Gr,zr,Vr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,pars)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Yr,$r]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Xr,$r,Yr]}};Qr.windowColor.options=Qr.backgroundColor.options;var Kr=function(n}Ve()(t,e);var i=t.prototype;return i.dispo)},i.createElSelec)},i.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},i.createElWinColo)},i.createElColor)},i.createElFon)},i.createElControl)},i.conte]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSCla"},i.getValu)},i.setValu)},i.setDefaul)},i.restoreSettin)},i.saveSettin}},i.updateDispl)},i.conditionalBlu)},t}(Vi);Li.registerComponent("TextTrackSettings",Kr);var Jr=function(n}Ve()(t,e);var i=t.prototype;return i.create)},i.resizeHandl)},i.dispo)},t}(Li);Li.registerComponent("ResizeManager",Jr);var Zr={trackingThreshold:20,liveTolerance:15},ea=function(n}Ve()(t,e);var i=t.prototype;return i.handleVisibilityChan)},i.trackLiv}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracki)},i.startTracki)},i.handleFirstTimeupda)},i.handleSeek)},i.handlePl)},i.rese)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracki)},i.seekableE0},i.seekableSta0},i.liveWind)},i.isLi)},i.atLiveEd)},i.liveCurrentTi)},i.pastSeekE_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracki_},i.seekToLiveEd)},i.dispo)},t}(Li);Li.registerComponent("LiveTracker",ea);var )},ia=Object.defineProperty({},"innerHTML",{gL},sL}}),i},)},}},oa=Object.defineProperty({},"src",{g"},se}}),)},}},)},ca=function(n}Ve()(t,e);var i=t.prototype;return i.dispo)},i.setupSourcesetHandlin)},i.restoreMetadataTracksInIOSNativePlaye)},i.overrideNativ}},i.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},i.overrideNativeVideoTrac)},i.proxyNativeTracksForTyp}},i.proxyNativeTrack)},i.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),t.disposeMediaElement(e),e=i}else{e=Me.a.createElement("video");var n=this.options_.tag&&S(this.options_.tag),r=Z({},n);Ht&&!0===this.options_.nativeControlsForTouch||delete r.controls,k(e,o(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&A(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var a=["loop","muted","playsinline","autoplay"],s=0;s<a.length;s++){var u=a[s],l=this.options_[u];void 0!==l&&(l?A(e,u,u):x(e,u),e[u]=l)}return e},i.handleLateIni}},i.setScrubbie},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTi}},i.duratiN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscree}},i.supportsFullScre1},i.enterFullScre}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen)return void this.trigger("fullscreenerror",new Error("The video is not fullscreen"));this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.s)},i.res)},i.currentSc},i.setControe},i.addTextTra)},i.createRemoteTextTrai},i.addRemoteTextTran},i.removeRemoteTextTra)},i.getVideoPlaybackQualie},t}(bn);la(ca,"TEST_VI}}),ca.isSupport)},ca.canPlayTy)},ca.canPlaySource=function(e,t){return ca.canPlayType(e.type)},ca.canControlVolu}},ca.canMuteVolu}},ca.canControlPlaybackRa}},ca.canOverrideAttribut0},ca.supportsNativeTextTract},ca.supportsNativeVideoTracks=function(){return!(!ca.TEST_VID||!ca.TEST_VID.videoTracks)},ca.supportsNativeAudioTrac)},ca.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEa)}),ca.prototype.movingMediaElementInDOM=!Yt,ca.prototype.featuresFullscreenResize=!0,ca.prototype.featuresProgressEvents=!0,ca.prototype.featuresTimeupdateEvents=!0;var da;ca.patchCanPlayTy)},ca.unpatchCanPlayTye},ca.patchCanPlayType(),ca.disposeMediaEleme}},ca.resetMediaEleme}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEa}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEa}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEa}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEa}}),["pause","load","play"].forEa}}),bn.withSourceHandlers(ca),ca.nativeSourceHandler={},ca.nativeSourceHandler.canPlayTy}},ca.nativeSourceHandler.canHandleSour"},ca.nativeSourceHandler.handleSour)},ca.nativeSourceHandler.dispose=function(){},ca.registerSourceHandler(ca.nativeSourceHandler),bn.registerTech("Html5",ca);var ha=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],fa={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},pa=["tiny","xsmall","small","medium","large","xlarge","huge"],ma={};pa.forEat});var ga={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},va=function(e){function t(i,n,r){var a;if(i.id=i.id||n.id||"vjs_video_"+q(),n=o(t.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&s.getAttribute&&(n.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(S(u).hasOwnProperty("lang")){n.language=u.getAttribute("lang");break}u=u.parentNode}if(a=e.call(this,null,n,r)||this,a.boundDocumentFullscreenChange_=function(e){return a.documentFullscreenChange_(e)},a.boundFullWindowOnEscKey_=function(e){return a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStyleEl_(e)},a.boundApplyInitTime_=function(e){return a.applyInitTime_(e)},a.boundUpdateCurrentBreakpoint_=function(e){return a.updateCurrentBreakpoint_(e)},a.boundHandleTechClick_=function(e){return a.handleTechClick_(e)},a.boundHandleTechDoubleClick_=function(e){return a.handleTechDoubleClick_(e)},a.boundHandleTechTouchStart_=function(e){return a.handleTechTouchStart_(e)},a.boundHandleTechTouchMove_=function(e){return a.handleTechTouchMove_(e)},a.boundHandleTechTouchEnd_=function(e){return a.handleTechTouchEnd_(e)},a.boundHandleTechTap_=function(e){return a.handleTechTap_(e)},a.isFullscreen_=!1,a.log=Ct(a.id_),a.fsApi_=vt,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=i,a.tagAttributes=i&&S(i),a.language(a.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEa]}),a.languages_=l}else a.languages_=t.prototype.options_.languages;a.resetCache_(),a.poster_=n.poster||"",a.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],i.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEa)}),a.scrubbing_=!1,a.el_=a.createEl(),K(je()(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(G(Me.a,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var c=Z(a.options_);n.plugins&&Object.keys(n.plugins).forEa)}),n.debug&&a.debug(!0),a.options_.playerOptions=c,a.middleware_=[],a.playbackRates(n.playbackRates),a.initChildren(),a.isAudio("audio"===i.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),Ht&&a.addClass("vjs-touch-enabled"),Yt||a.addClass("vjs-workinghover"),t.players[a.id_]=je()(a);var d=dt.split(".")[0];return a.addClass("vjs-v"+d),a.userActive(!0),a.reportUserActivity(),a.one("play",function(e){return a.listenForUserActivity_(e)}),a.on("stageclick",function(e){return a.handleStageClick_(e)}),a.on("keydown",function(e){return a.handleKeyDown(e)}),a.on("languagechange",function(e){return a.handleLanguagechange(e)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}Ve()(t,e);var i=t.prototype;return i.dispo)},i.createt},i.crossOrigin=function(e){return e?"anonymous"!==e&&"use-credentials"!==e?void St.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"'):void this.techCall_("setCrossOrigin",e):this.techGet_("crossOrigin")},i.width=function(e){return this.dimension("width",e)},i.heig)},i.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(t);if(isNaN(n))return void St.error('Improper value "'+t+'" supplied for for '+e);this[i]=n,this.updateStyleEl_()},i.flu)},i.fi)},i.aspectRat)},i.updateStyleEl_=function(){if(!0===Oe.a.VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(e>=0&&(i.width=e),t>=0&&(i.height=t)))}var n,r,a,o;a=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=a.split(":"),u=s[1]/s[0];n=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/u:this.videoWidth()||300,r=void 0!==this.height_?this.height_:n*u,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),ni(this.styleEl_,"\n      ."+o+" {\n        width: "+n+"px;\n        height: "+r+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},i.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var n=xi(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(bn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var a=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(a=!1);var s={source:t,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};yn.names.forEa]}),o(s,this.options_[n]),o(s,this.options_[r]),o(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var u=bn.getTech(e);if(!u)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new u(s),this.tech_.ready(di(this,this.handleTechReady_),!0),ji.jsonToTextTracks(this.textTracksJson_||[],this.tech_),ha.forEa)}),Object.keys(fa).forEa)}),this.on(this.tech_,"loadstart",function(e){return i.handleTechLoadStart_(e)}),this.on(this.tech_,"sourceset",function(e){return i.handleTechSourceset_(e)}),this.on(this.tech_,"waiting",function(e){return i.handleTechWaiting_(e)}),this.on(this.tech_,"ended",function(e){return i.handleTechEnded_(e)}),this.on(this.tech_,"seeking",function(e){return i.handleTechSeeking_(e)}),this.on(this.tech_,"play",function(e){return i.handleTechPlay_(e)}),this.on(this.tech_,"firstplay",function(e){return i.handleTechFirstPlay_(e)}),this.on(this.tech_,"pause",function(e){return i.handleTechPause_(e)}),this.on(this.tech_,"durationchange",function(e){return i.handleTechDurationChange_(e)}),this.on(this.tech_,"fullscreenchange",function(e,t){return i.handleTechFullscreenChange_(e,t)}),this.on(this.tech_,"fullscreenerro)}),this.on(this.tech_,"enterpictureinpicture",function(e){return i.handleTechEnterPictureInPicture_(e)}),this.on(this.tech_,"leavepictureinpicture",function(e){return i.handleTechLeavePictureInPicture_(e)}),this.on(this.tech_,"error",function(e){return i.handleTechError_(e)}),this.on(this.tech_,"posterchange",function(e){return i.handleTechPosterChange_(e)}),this.on(this.tech_,"textdata",function(e){return i.handleTechTextData_(e)}),this.on(this.tech_,"ratechange",function(e){return i.handleTechRateChange_(e)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||b(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTec1},i.te_},i.addTechControlsListener)},i.removeTechControlsListener)},i.handleTechRead)},i.handleTechLoadStar)},i.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var i)};if("any"!==e||this.muted()?i="muted"!==e||this.muted()?this.play():n():(i=this.play(),oe(i)&&(i=i.catch(n))),oe(i))return i.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){t.trigger({type:"autoplay-failure",autoplay:e})})}},i.updateSourceCachet},i.handleTechSourcese)},i.hasStart)},i.handleTechPla)},i.handleTechRateChang)},i.handleTechWaitin)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPla)},i.handleTechPaus)},i.handleTechEnde)},i.handleTechDurationChang)},i.handleTechClic)},i.handleTechDoubleClic}},i.handleTechTa)},i.handleTechTouchStar)},i.handleTechTouchMov)},i.handleTechTouchEn)},i.handleStageClic)},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChang}},i.handleTechFullscreenChang)},i.handleTechFullscreenErro)},i.togglePictureInPictureClas)},i.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPictur)},i.handleTechErro)},i.handleTechTextDat)},i.getCache=function(){return this.cache_},i.resetCach}},i.techCal)},i.techGe}},i.pl)},i.pla)},i.runPlayTerminatedQueu)},i.runPlayCallback)},i.pause=function(){this.techCall_("pause")},i.paus)},i.play)},i.scrubbi)},i.currentTi)},i.applyInitTim)},i.durati)},i.remainingTi)},i.remainingTimeDispl)},i.buffere},i.bufferedPerce)},i.bufferedEi},i.volu)},i.mut1},i.defaultMut1},i.lastVolume},i.supportsFullScre1},i.isFullscre_},i.requestFullscre)},i.requestFullscreenHelpe)},i.exitFullscre)},i.exitFullscreenHelpe)},i.enterFullWind)},i.fullWindowOnEscK)},i.exitFullWind)},i.disablePictureInPictu)},i.isInPictureInPictu_},i.requestPictureInPictu)},i.exitPictureInPictu)},i.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;var i=["button","checkbox","hidden","radio","reset","submit"];return"input"===t?-1===i.indexOf(e.type):-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},i.handleHotke}},i.canPlayTy"},i.selectSource=function(e){var t=this,i=this.options_.techOrder.m]}).filt)})n}}};return(this.options_.sourceOrder?n(e}}(r)):n(i,e,r))||!1},i.handleSrc_=function(e,t){var i=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var n=Rn(e);if(!n.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),ce(this,n[0],function(e,r){if(i.middleware_=r,t||(i.cache_.sources=n),i.updateSourceCaches_(e),i.src_(e))return n.length>1?i.handleSrc_(n.slice(1)):(i.changingSrc_=!1,i.setTimeo)},0),void i.triggerReady());de(r,i.tech_)}),this.options_.retryOnError&&n.length>1){var)})};this.one("error",r),this.one("playing",a),this.resetRetryOnError_=function(){i.off("error",r),i.off("playing",a)}}},i.s)},i.sr)},i.lo)},i.reset=function(){var e=this,t=this.options_.Promise||Oe.a.Promise;if(this.paused()||!t)this.doReset_();else{se(this.play().then(function(){return e.doReset_()}))}},i.doRese)},i.resetControlBarU)},i.resetProgressBa)},i.resetPlaybackRat)},i.resetVolumeBa)},i.currentSourct},i.currentSour}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentTy"},i.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},i.autopl)},i.playsinli)},i.lo)},i.post)},i.handleTechPosterChang}},i.contro)},i.usingNativeContro)},i.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(ft("beforeerror").forEach(function(i){var n=i(t,e);if((!s(n)||Array.isArray(n))&&"string"!=typeof n&&"number"!=typeof n&&null!==n)return void t.log.error("please return a value that MediaError expects in beforeerror hooks");e=n}),this.options_.suppressNotSupportedError&&e&&4===e.code){var)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),void this.one("loadstar)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ae(e),this.addClass("vjs-error"),St.error("(CODE:"+this.error_.code+" "+ae.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ft("error").forEa)})},i.reportUserActivi0},i.userActi}},i.listenForUserActivity_=function(){var e,t,i,n=di(this,this.reportUserActivity))})})};this.on("mousedown",a),this.on("mousemove",r),this.on("mouseup",o),this.on("mouseleave",o);var s=this.getChild("controlBar");!s||Yt||Lt||(s.on("mouseente0}),s.on("mouseleavt})),this.on("keydown",n),this.on("keyup",n);var u;this.setInterv}},250)},i.playbackRa1},i.defaultPlaybackRa1},i.isAud_},i.addTextTra)},i.addRemoteTextTra)},i.removeRemoteTextTra)},i.getVideoPlaybackQuali)},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeig0},i.langua)},i.languag)},i.toJSe},i.createModn},i.updateCurrentBreakpoin}},i.removeCurrentBreakpoin)},i.breakpoin)},i.responsi)},i.currentBreakpoi_},i.currentBreakpointCla"},i.loadMed}},i.getMed)},t.getTagSettint},i.flexNotSupporte)},i.deb)},i.playbackRat)},t}(Li);yn.names.forEa}}),va.prototype.crossorigin=va.prototype.crossOrigin,va.players={};var ya=Oe.a.navigator;va.prototype.options_={techOrder:bn.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ya&&(ya.languages&&ya.languages[0]||ya.userLanguage||ya.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEa}}),ha.forEa}}),Li.registerComponent("Player",va);var ba={},)},0},0},)},i},}},Ca=function)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHae},t.trigg)},t.handleStateChanged=function(e){},t.dispo)},e.isBas)},e.registerPlugin=function(t,i){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(_a(t))St.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(va.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof i+".");return ba[t]=i,"plugin"!==t&&(e.isBasic(i)?va.prototype[t]=ka(t,i):va.prototype[t]=Sa(t,i)),i},e.deregisterPlug)},e.getPlugins=function(e){void 0===e&&(e=Object.keys(ba));var t;return e.forEa)}),t},e.getPluginVersi"},e}();Ca.getPlugin=Ta,Ca.BASE_PLUGIN_NAME="plugin",Ca.registerPlugin("plugin",Ca),va.prototype.usingPlug]},va.prototype.hasPlug)};var Aa=function(e,t){void 0===t&&(t={});var)},n={};"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),n=t):"function"==typeof t&&(i=t),Ze()(i,e),e&&(i.super_=e);for(var r in n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},e};if(Re.hooks_=ht,Re.hooks=ft,Re.hook=pt,Re.hookOnce=gt,Re.removeHook=mt,!0!==Oe.a.VIDEOJS_NO_DYNAMIC_STYLE&&f()){var Ra=Qt(".vjs-styles-defaults");if(!Ra){Ra=ii("vjs-styles-defaults");var Ia=Qt("head");Ia&&Ia.insertBefore(Ra,Ia.firstChild),ni(Ra,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}F(1,Re),Re.VERSION=dt,Re.options=va.prototype.options_,Re.getPlayers=function(){return va.players},Re.getPlay}},Re.getAllPlaye)},Re.players=va.players,Re.getComponent=Li.getComponent,Re.registerCompone)},Re.getTech=bn.getTech,Re.registerTech=bn.registerTech,Re.use=le,Object.defineProperty(Re,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Re.middleware,"TERMINATOR",{value:wn,writeable:!1,enumerable:!0}),Re.browser=Xt,Re.TOUCH_ENABLED=Ht,Re.extend=Aa,Re.mergeOptions=Z,Re.bind=di,Re.registerPlugin=Ca.registerPlugin,Re.deregisterPlugin=Ca.deregisterPlugin,Re.plug)},Re.getPlugins=Ca.getPlugins,Re.getPlugin=Ca.getPlugin,Re.getPluginVersion=Ca.getPluginVersion,Re.addLangua]},Re.log=St,Re.createLogger=Ct,Re.createTimeRange=Re.createTimeRanges=ne,Re.formatTime=Se,Re.setFormatTime=Ee,Re.resetFormatTime=ke,Re.parseUrl=nn,Re.isCrossOrigin=on,Re.EventTarget=pi,Re.on=G,Re.one=X,Re.off=Y,Re.trigger=$,Re.xhr=Ye.a,Re.TextTrack=cn,Re.AudioTrack=dn,Re.VideoTrack=hn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEa}}),Re.computedStyle=l,Re.dom=Jt,Re.url=sn,Re.defineLazyProperty=la,Re.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Pa,Da=et.a,t},}},)},)},)},)},)},)},i},t},1},)},i},Ga=Re.createTimeRange,i},)},]},Qa=function(e){var t=e.preloadSegment;if(t){var i=t.parts,n=t.preloadHints,r=(n||[]).redu)},0);return r+=i&&i.length?i.length:0}},0},}},Za=function(e,t){for(var i,n=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(i=e.segments[r],void 0!==i.start)return{result:i.start-n,precise:!0};if(n+=Ya(e,i),void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},i},)},a},)},)},}},)},0},t},lo=function(e){return e.disabled},1},]},N},h},)},n},vo=function(e){if(!e||!e.playlists||!e.playlists.length){return goi})}for(var t=0;t<e.playlists.length;t++){var i=function(t){var i=e.playlists[t],n=i.attributes&&i.attributes.CODECS;return n&&n.split(",").eve)})?"continue":go(e,function(e){return mo(i,e)})?"continue":{v:!1}}(t);if("continue"!==i&&"object"==typeof i)return i.v}return!0},yo={liveEdgeDelay:Ka,duration:to,seekable:ro,getMediaInfoForTime:ao,isEnabled:uo,isDisabled:lo,isBlacklisted:oo,isIncompatible:so,playlistEnd:no,isAes:co,hasAttribute:ho,estimateSegmentRequestTime:fo,isLowestEnabledRendition:po,isAudioOnly:vo,playlistMatch:mo,segmentDurationWithParts:Ya},bo=Re.log,t},c},)},}},}},)},n},Ao=function(e,t){e.uri=t;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var n="placeholder-uri-"+i;e.playlists[i].uri=n}var r=vo(e);wo)}),ko(e),So(e)},xo=Re.mergeOptions,Ro=Re.EventTarget,e},i},o},)},t},t},n},)},No=function(r}Ve()(t,e);var i=t.prototype;return i.handleMediaupdatetimeou}},i.playlistRequestErr)},i.parseManifes)},i.haveMetada)},i.dispo)},i.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},i.media=function(e,t){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(Oe.a.clearTimeout(this.finalRenditionTimeout),t){var n=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=Oe.a.setTimeout(this.media.bind(this,e,!1),n))}var r=this.state,a=!this.media_||e.id!==this.media_.id,o=this.master.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===r?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Uo(e,!0)),a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredential}})}},i.pau)},i.load=function(e){var t=this;this.mediaUpdateTimeout&&(Oe.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var i=this.media();if(e){var n=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;return void(this.mediaUpdateTimeout=Oe.a.setTimeo)},n))}if(!this.started)return void this.start();i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeou)},i.sta)},i.srcUi},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Ao(this.master,this.srcUri()),e.playlists.forEa)}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||Oe.a.location.href;this.master=Co(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Ro),jo=Re.xhr,Fo=Re.mergeOptions,)},e},t},t},)},)},"},$o=function(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i];ArrayBuffer.isView(n)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n}),t},)},Qo=function(e){return e.resolvedUri},Ko=function(e){for(var t,i,n=Array.prototype.slice.call(e),r="",a=0;a<n.length/16;a++)t=n.slice(16*a,16*a+16).map(Go).join(""),i=n.slice(16*a,16*a+16).map(Yo).join(""),r+=t+" "+i+"\n";return r},)},i},es=Object.freeze({__proto__:null,createTransferableMessage:$o,initSegmentId:Xo,segmentKeyId:Qo,hexDump:Ko,tagDump:Jo,textRanges:Zo}),)},s},ns=function(e,t){var i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var n=t.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<t.segments.length-1;r++){n=t.segments[r];if(i<t.segments[r+1].dateTimeObject)break}var a=t.segments[t.segments.length-1],o=a.dateTimeObject,s=a.videoTimingInfo?is(a.videoTimingInfo):a.duration+.25*a.duration;return i>new Date(o.getTime()+1e3*s)?null:(i>o&&(n=a),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:yo.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},rs=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var i,n=0,r=0;r<t.segments.length&&(i=t.segments[r],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));r++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*a.duration)return null;i=a}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},3},0},)},us=function e(t){var i=t.programTime,n=t.playlist,r=t.retryCount,a=void 0===r?2:r,o=t.seekTo,s=t.pauseAfterSeek,u=void 0===s||s,l=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===i||!n||!o)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!os(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var d=ns(i,n);if(!d)return c({message:i+" was not found in the stream"});var h=d.segment,f=as(h.dateTimeObject,i);if("estimate"===d.type)return 0===a?c({message:i+" is not buffered yet. Try again"}):(o(d.estimatedStart+f),void l.one("seeke)}));var p=h.start+f)};l.one("seeked",m),u&&l.pause(),o(p)},)},cs=function(e,t,i){var n,r=[],a=!1)},s=function(e,t){if(!a){if(e)return o(e,t,"",r);var i=t.responseText.substring(r&&r.byteLength||0,t.responseText.length);if(r=Object(lt.d)(r,Object(lt.g)(i,!0)),n=n||Object(st.a)(r),r.length<10||n&&r.length<n+2)return ls(t,function(){return o(e,t,"",r)});var s=Object(ut.a)(r);return"ts"===s&&r.length<188?ls(t,function(){return o(e,t,"",r)}):!s&&r.length<376?ls)}):o(null,t,s,r)}},u={uri:e,beforeSe)}},l=t)});return l},ds=Re.EventTarget,hs=Re.mergeOptions,0},ps=function(e){var t=e.masterXml,i=e.srcUrl,n=e.clientOffset,r=e.sidxMapping,a=Object(rt.c)(t,{manifestUri:i,clientOffset:n,sidxMapping:r});return Ao(a,i),a},ms=function(e,t,i){for(var n=!0,r=hs(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),a=0;a<t.playlists.length;a++){var o=t.playlists[a];if(o.sidx){var s=Object(rt.b)(o.sidx);i&&i[s]&&i[s].sidx&&Object(rt.a)(o,i[s].sidx,o.sidx.resolvedUri)}var u=Bo(r,o,fs);u&&(r=u,n=!1)}return wo(t,function(e,t,i,a){if(e.playlists&&e.playlists.length){var o=e.playlists[0].id,s=Bo(r,e.playlists[0],fs);s&&(r=s,r.mediaGroups[t][i][a].playlists[0]=r.playlists[o],n=!1)}}),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:r},h},vs=function(e,t){var i={};for(var n in e){var r=e[n],a=r.sidx;if(a){var o=Object(rt.b)(a);if(!t[o])break;var s=t[o].sidxInfo;gs(s,a)&&(i[o]=t[o])}}return i},n},bs=function(a}Ve()(t,e);var i=t.prototype;return i.requestErrore)},i.addSidxSegments_=function(e,t,i){var n=this,r=e.sidx&&Object(rt.b)(e.sidx);if(!e.sidx||!r||this.masterPlaylistLoader_.sidxMapping_[r])return void(this.mediaRequest_=Oe.a.setTimeo)},0));var a=Oa(this.handleManifestRedirects,e.sidx.resolvedUri)}};this.request=cs(a,this.vhs_.x)})},i.dispo)},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopReque}},i.med)},i.haveMetada)},i.pau)},i.load=function(e){var t=this;Oe.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=Oe.a.setTimeout(function(){return t.load()},n))}if(!this.started)return void this.start();i&&!i.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var e=this;if(this.started=!0,!this.isMaster_)return void(this.mediaRequest_=Oe.a.setTimeout(function(){return e.haveMaster_()},0));this.requestMaste)})},i.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(i,n){if(t.requestErrored_(i,n))return void("HAVE_NOTHING"===t.state&&(t.started=!1));var r=n.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Oa(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,n),r?(t.handleMaster_(),void t.syncClientServerClock_(function(){return e(n,r)})):e(n,r)})},i.syncClientServerCloc)},i.haveMaste)},i.handleMaster_=function(){this.mediaRequest_=null;var e=ps({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),t=this.masterPlaylistLoader_.master;t&&(e=ms(t,e,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=e||t;var i=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return i&&i!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=i),(!t||e&&e.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(e)},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Oe.a.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;if(0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0)return void(t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"));this.createMUPTimeout_(t)},i.createMUPTimeou)},i.refreshXm)},i.refreshMedi)},t}(ds),_s={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},r},e},}},}},e},)},As=Ss(Cs(function(){var}};e.prototype.pie},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,i,n,r,a,o,s,u,l,c,d,h,f,p,m,g,v,y,b,_,T,w,E,k,S,C,A,x,R,I,P,D,O,L,M,B,U=e,N=Math.pow(2,32)-}}()i})})})})},a=function(e){return t(E.mdat,e)})})})})})})})})})}}}())})})}}}();var j,F,V,q,z,H,W,G,Y={ftyp:r,mdat:a,moof:u,moov:l,initSegmet}}r}r}e}}}i}u},d},r},s},ne={groupNalsIntoFrames:$,groupFramesIntoGops:X,extendFirstKeyFrame:Q,generateSampleTable:Z,concatenateNalData:ee,generateSampleTableForFrame:te,concatenateNalDataForFrame:ie},re=[33,16,5,32,164,27],ae=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],t},)},j}e}t}4}t})},W=function(e,t){return V(q(e),t)})};var le={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:F,secondsToAudioTs:V,videoTsToSeconds:q,audioTsToSeconds:z,audioTsToVideoTs:H,videoTsToAudioTs:W,metadataTsToSeconds:G},n},}},)},n},r},me={prefixWithSilence:de,trimAdtsFramesByEarliestDts:he,generateSampleTable:fe,concatenateFrameData:pe},ge=le.ONE_SECOND_IN_TS,)},s},i},_e={clearDtsInfo:ye,calculateTrackBaseMediaDecodeTime:be,collectDtsInfo:ve},i},)},o},ke=function(e){for(var t,i,n=e.byteLength,r=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),i[a]=e[o];return i},Se={parseSei:Te,parseUserData:we,parseCaptionPackets:Ee,discardEmulationPreventionBytes:ke,USER_DATA_REGISTERED_ITU_T_T35:4},)};Ce.prototype=new U,Ce.prototype.push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=Se.parseSei(e.escapedRBSP),t.payload&&t.payloadType===Se.USER_DATA_REGISTERED_ITU_T_T35&&(i=Se.parseUserData(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Se.parseCaptionPackets(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ce.prototype.flushCCStrea)},Ce.prototype.flushStream=function(e){if(!this.captionPackets_.length)return void this.flushCCStreams(e);this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEa)},this),this.captionPackets_.length=0,this.flushCCStreams(e)},Ce.prototype.flush=function(){return this.flushStream("flush")},Ce.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ce.prototype.res)},Ce.prototype.dispatchCea608Pack)},Ce.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ce.prototype.setsChannel2Acti)},Ce.prototype.setsTextOrXDSActi)},Ce.prototype.dispatchCea708Pack)};var Ae={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},)},5},)};Ie.prototype.res0},Ie.prototype.getText=function(){return this.rows.join("\n")},Ie.prototype.clearTe0},Ie.prototype.newLi-},Ie.prototype.isEmp]},Ie.prototype.addTee},Ie.prototype.backspa}};var )};Pe.prototype.in)},Pe.prototype.setCurrentWind]},Pe.prototype.createTextDecod}};var }};De.prototype=new U,De.prototype.new708Pack}},De.prototype.add708Byt)},De.prototype.push708Pack)},De.prototype.pushServiceBlo+},De.prototype.extendedCommane},De.prototype.getP]},De.prototype.initService=function(e,t){var i,n,i="SERVICE"+e,r=this;return i in this.serviceEncodings&&(n=this.serviceEncodings[i]),this.services[e]=new Pe(e,n,r),this.services[e].init(this.getPts()}),this.services[e]},De.prototype.handleTee},De.prototype.multiByteCharacte},De.prototype.setCurrentWinde},De.prototype.defineWinde},De.prototype.setWindowAttribute},De.prototype.flushDisplaye},De.prototype.pushCapti)},De.prototype.displayWindows=function(e,t){var i=this.current708Packet.data,n=i[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var a=0;a<8;a++)n&1<<a&&(t.windows[a].visible=1);return e},De.prototype.hideWindoe},De.prototype.toggleWindoe},De.prototype.clearWindows=function(e,t){var i=this.current708Packet.data,n=i[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var a=0;a<8;a++)n&1<<a&&t.windows[a].clearText();return e},De.prototype.deleteWindoe},De.prototype.setPenAttribute},De.prototype.setPenCole},De.prototype.setPenLocatie},De.prototype.res)};var Oe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},)},Me=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],e},Ue=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,a;if((t=32639&e.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Be();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Be();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Be()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))n=(3&n)<<8,a=Le(n|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=(3&n)<<8,a=Le(n|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var o=Me.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),a=Le(n),a+=Le(r),this[this.mode_](e.pts,a),this.column_+=a.length)}};Ue.prototype=new U,Ue.prototype.flushDisplay)},Ue.prototype.res]},Ue.prototype.setConstan_},Ue.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ue.prototype.isExtCharact3},Ue.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ue.prototype.isOffsetControlCo5},Ue.prototype.isP7},Ue.prototype.isColorP7},Ue.prototype.isNormalCh7},Ue.prototype.setRoll1},Ue.prototype.addFormatti)},Ue.prototype.clearFormatti}},Ue.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Ue.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Ue.prototype.shiftRowsU"},Ue.prototype.painti};var Ne={CaptionStream:Ce,Cea608Stream:Ue,Cea708Stream:De},je={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},e},}};Ve.prototype=new U;var qe,ze={TimestampRolloverStream:Ve,handleRollover:Fe},r},We=function(e,t,i){return decodeURIComponent(He(e,t,i))},)},]},$e={TX}},WX}},PRa}};qe=function(e){var t,i={descriptor:e&&e.descriptor},n=0,r=[],a=0;if(qe.prototype.init.call(this),this.dispatchType=je.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,o,s,u,l;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(r.push(e),a+=e.data.byteLength,1===r.length&&(n=Ye(e.data.subarray(6,10)),n+=10),!(a<n)){for(t={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},u=0;u<n;)t.data.set(r[0].data.subarray(0,n-u),u),u+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();i=10,64&t.data[5]&&(i+=4,i+=Ye(t.data.subarray(10,14)),n-=Ye(t.data.subarray(16,20)));do{if((o=Ye(t.data.subarray(i+4,i+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if(l=String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),s={id:l,data:t.data.subarray(i+10,i+o+10)},s.key=s.id,$e[s.id]&&($e[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var c=s.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],s.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),i+=10,i+=o}while(i<n);this.trigger("data",t)}}}},qe.prototype=new U;var Xe,Qe,Ke,Je=qe,Ze=ze.TimestampRolloverStream;Xe=function(){var e=new Uint8Array(188),t=0;Xe.prototype.init.call(this),this.pu)},this.flu)},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}},Xe.prototype=new U,Qe=function(){var e,t,i,n;Qe.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0)}d}}},this.pu)},this.processPe)}},Qe.prototype=new U,Qe.STREAM_TYPES={h264:27,adts:15},Ke=function(){var e,t=this,i=!1,n={data:[],size:0},r={data:[],size:0},a={data:[],size:0},o=function(e,t){var i,n=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===n&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),i=e[7],192&i&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}}};Ke.prototype.init.call(this),this.pu)},this.res)},this.flushStream)},this.flu)}},Ke.prototype=new U;var et={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Xe,TransportParseStream:Qe,ElementaryStream:Ke,TimestampRolloverStream:Ze,CaptionStream:Ne.CaptionStream,Cea608Stream:Ne.Cea608Stream,Cea708Stream:Ne.Cea708Stream,MetadataStream:Je};for(var tt in je)je.hasOwnProperty(tt)&&(et[tt]=je[tt]);var it,nt=et,rt=le.ONE_SECOND_IN_TS,at=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];it=function(e){var t,i=0;it.prototype.init.call(this),this.skipWar)},this.push=function(n){var r,a,o,s,u,l=0;if(e||(i=0),"audio"===n.type){t&&t.length?(o=t,t=new Uint8Array(o.byteLength+n.data.byteLength),t.set(o),t.set(n.data,o.byteLength)):t=n.data;for(var c;l+7<t.length;)if(255===t[l]&&240==(246&t[l+1])){if("number"==typeof c&&(this.skipWarn_(c,l),c=null),a=2*(1&~t[l+1]),r=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,s=1024*(1+(3&t[l+6])),u=s*rt/at[(60&t[l+2])>>>2],t.byteLength-l<r)break;this.trigger("data",{pts:n.pts+i*u,dts:n.dts+i*u,sampleCount:s,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:at[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+a,l+r)}),i++,l+=r}else"number"!=typeof c&&(c=l),l++;"number"==typeof c&&(this.skipWarn_(c,l),c=null),t=t.subarray(l)}},this.flu)},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeli)}},it.prototype=new U;var ot,st=it;)};var ut,lt,ct,dt=ot;lt=function(){var e,t,i=0;lt.prototype.init.call(this),this.push=function(n){var r;t?(r=new Uint8Array(t.byteLength+n.data.byteLength),r.set(t),r.set(n.data,t.byteLength),t=r):t=n.data;for(var a=t.byteLength;i<a-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<a);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.res)},this.flu)},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},lt.prototype=new U,ct={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ut=function(){var e,t,i,n,r,a,o,s=new lt;ut.prototype.init.call(this),e=this,this.pu)},s.on("dat)}),s.on("done",function(){e.trigger("done")}),s.on("partialdone",function(){e.trigger("partialdone")}),s.on("reset",function(){e.trigger("reset")}),s.on("endedtimeline",function(){e.trigger("endedtimeline")}),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()}a}i},a=function(e){var t,i,n,r,a,s,u,l,c,d,h,f,p=0,m=0,g=0,v=0,y=[1,1];if(t=new dt(e),i=t.readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ct[i]&&(a=t.readUnsignedExpGolomb(),3===a&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==a?8:12,f=0;f<h;f++)t.readBoolean()&&(f<6?o(16,t):o(64,t));if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),f=0;f<u;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),d=t.readBits(1),0===d&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:16*(l+1)-2*p-2*m,height:(2-d)*(c+1)*16-2*g-2*v,sarRatio:y}}},ut.prototype=new U;var ht,ft={H264Stream:ut,NalByteStream:lt},pt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],0},)},)},yt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},bt=function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},_t=function(e,t,i){return unescape(bt(e,t,i))},i},l},l},l},St={isLikelyAacData:vt,parseId3TagSize:mt,parseAdtsSize:Tt,parseType:wt,parseSampleRate:Et,parseAacTimestamp:kt};ht=function(){var e=new Uint8Array,t=0;ht.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(i){var n,r,a,o,s=0,u=0;for(e.length?(o=e.length,e=new Uint8Array(i.byteLength+o),e.set(e.subarray(0,o)),e.set(i,o)):e=i;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!=(255&e[u])||240!=(240&e[u+1]))u++;else{if(e.length-u<7)break;if(s=St.parseAdtsSize(e,u),u+s>e.length)break;a={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",a),u+=s}else{if(e.length-u<10)break;if(s=St.parseId3TagSize(e,u),u+s>e.length)break;r={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",r),u+=s}n=e.length-u,e=n>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeli)}},ht.prototype=new U;var Ct,At,xt,Rt,It=ht,Pt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Dt=Pt,Ot=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Lt=Ot,Mt=ft.H264Stream,Bt=St.isLikelyAacData,Ut=le.ONE_SECOND_IN_TS,)},}},0},}};At=function(e,t){var i,n=[],r=0,a=0,o=1/0;t=t||{},i=t.firstSequenceNumber||0,At.prototype.init.call(this),this.pu)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var s,u,l,c,d,h,f;if(0===n.length)return void this.trigger("done","AudioSegmentStream");s=me.trimAdtsFramesByEarliestDts(n,e,r),e.baseMediaDecodeTime=_e.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),f=me.prefixWithSilence(e,s,a,o),e.samples=me.generateSampleTable(s),l=Y.mdat(me.concatenateFrameData(s)),n=[],u=Y.moof(i,[e]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),_e.clearDtsInfo(e),d=Math.ceil(1024*Ut/e.samplerate),s.length&&(h=s.length*d,this.trigger("segmentTimingInfo",Vt(le.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+h,s[0].pts+h,f||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+h})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")},this.res)}},At.prototype=new U,Ct=function(e,t){var i,n,r,a=[],o=[];t=t||{},i=t.firstSequenceNumber||0,Ct.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.pu)},this.flush=function(){for(var n,r,s,u,l,c,d,h,f=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=ne.groupNalsIntoFrames(a),s=ne.groupFramesIntoGops(n),s[0][0].keyFrame||(r=this.getGopForFusion_(a[0],e),r?(f=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=ne.extendFirstKeyFrame(s)),o.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");_e.clearDtsInfo(e),s=p}_e.collectDtsInfo(e,s),e.samples=ne.generateSampleTable(s),l=Y.mdat(ne.concatenateNalData(s)),e.baseMediaDecodeTime=_e.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.m}})),d=s[0],h=s[s.length-1],this.trigger("segmentTimingInfo",Vt(e.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=Y.moof(i,[e]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.res)},this.resetStrea0},this.getGopForFusiol},this.alignGopsAtStar)},this.alignGopsAtEnl},this.alignGopsWith=function(e){o=e}},Ct.prototype=new U,Rt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Rt.prototype.init.call(this),this.pu)}},Rt.prototype=new U,Rt.prototype.flush=function(e){var t,i,n,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Lt.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Dt.forEa]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=Y.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)t=this.pendingCaptions[r],t.startTime=le.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=le.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)i=this.pendingMetadata[r],i.cueTime=le.metadataTsToSeconds(i.pts,s,this.keepOriginalTimestamps),o.metadata.push(i);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),r=0;r<o.captions.length;r++)t=o.captions[r],this.trigger("caption",t);for(r=0;r<o.metadata.length;r++)i=o.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Rt.prototype.setRemux=function(e){this.remuxTracks=e},xt=function(e){var t,i,n=this,r=!0;xt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeli)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new nt.MetadataStream,r.packetStream=new nt.TransportPacketStream,r.parseStream=new nt.TransportParseStream,r.elementaryStream=new nt.ElementaryStream,r.timestampRolloverStream=new nt.TimestampRolloverStream,r.adtsStream=new st,r.h264Stream=new Mt,r.captionStream=new nt.CaptionStream(e),r.coalesceStream=new Rt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(a){var o;if("metadata"===a.type){for(o=a.tracks.length;o--;)t||"video"!==a.tracks[o].type?i||"audio"!==a.tracks[o].type||(i=a.tracks[o],i.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=a.tracks[o],t.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime);t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Ct(t,e),r.videoSegmentStream.on("log",n.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInf)}),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTim)}),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new At(i,e),r.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t})}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Fram)}),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),jt(this,r)},this.setBaseMediaDecodeTi)},this.setAudioAppendSta)},this.setRem)},this.alignGopsWi)},this.getLogTrigge}},this.pu)},this.flu)},this.endTimeli)},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptio)}},xt.prototype=new U;var qt,zt,Ht,Wt,Gt,Yt,$t={Transmuxer:xt,VideoSegmentStream:Ct,AudioSegmentStream:At,AUDIO_PROPERTIES:Dt,VIDEO_PROPERTIES:Lt,generateSegmentTimingInfo:Vt},0},)},Kt={toUnsigned:Xt,toHexString:Qt},)},Zt=Jt,ei=Kt.toUnsigned,u},ii=ti,ni=Kt.toUnsigned,t},ai=ri,}},si=oi,i},li=ui,n},di=ci,hi=Se.discardEmulationPreventionBytes,fi=Ne.CaptionStream,l},u},gi=function(e,t,i){var n=t,r=i.defaultSampleDuration||0,a=i.defaultSampleSize||0,o=i.trackId,s=[];return e.forEach(function(e){var t=li(e),i=t.samples;i.forEan}),s=s.concat(i)}),s},r},}},bi=function(){var e,t,i,n,r,a,o=!1;this.isInitialized=function(){return o},this.in)},this.isNewIn)},this.parse=function(e,a,o){var s;if(!this.isInitialized())return null;if(!a||!o)return null;if(this.isNewInit(a,o))i=a[0],n=o[i];else if(null===i||!n)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,a,o)}return s=yi(e,i,n),s&&s.logs&&(r.logs=r.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNa)},this.flushStre)},this.clearParsedCaptio]},this.resetCaptionStre)},this.clearAllCaptio)},this.res)},this.reset()},_i=bi,Ti=Kt.toUnsigned,wi=Kt.toHexString;qt=function(e){var t={};return ii(e,["moov","trak"]).reduce(function(e,t){var i,n,r,a,o;return(i=ii(t,["tkhd"])[0])?(n=i[0],r=0===n?12:20,a=Ti(i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3]),(o=ii(t,["mdia","mdhd"])[0])?(n=o[0],r=0===n?12:20,e[a]=Ti(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),e):null):null},t)},0},Ht=function(e,t){var i,n=ii(t,["moof","traf"]),r=0,a=0;if(n&&n.length){var o=ii(n[0],["tfhd"])[0],s=ii(n[0],["trun"])[0],u=ii(n[0],["tfdt"])[0];if(o){i=di(o).trackId}if(u){r=ai(u).baseMediaDecodeTime}if(s){var l=li(s);l.samples&&l.samples.length&&(a=l.samples[0].compositionTimeOffset||0)}}return(r+a)/(e[i]||9e4)},i},)},i};var Ei={findBox:ii,parseType:Zt,timescale:qt,startTime:zt,compositionStartTime:Ht,videoTrackIds:Wt,tracks:Gt,getTimescaleFromMediaHeader:Yt},]},)},t},l},]},}},}},n},}},o},Li={parseType:Ai,parsePat:xi,parsePmt:Ri,parsePayloadUnitStartIndicator:Si,parsePesType:Ii,parsePesTime:Pi,videoPacketContainsKeyFrame:Oi},Mi=ze.handleRollover,Bi={};Bi.ts=Li,Bi.aac=St;var Ui=le.ONE_SECOND_IN_TS,}},ji=function(e,t,i){for(var n,r,a,o,s=0,u=188,l=!1;u<=e.byteLength;)if(71!==e[s]||71!==e[u]&&u!==e.byteLength)s++,u++;else{switch(n=e.subarray(s,u),Bi.ts.parseType(n,t.pid)){case"pes":r=Bi.ts.parsePesType(n,t.table),a=Bi.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(o=Bi.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),l=!0)}if(l)break;s+=188,u+=188}for(u=e.byteLength,s=u-188,l=!1;s>=0;)if(71!==e[s]||71!==e[u]&&u!==e.byteLength)s--,u--;else{switch(n=e.subarray(s,u),Bi.ts.parseType(n,t.pid)){case"pes":r=Bi.ts.parsePesType(n,t.table),a=Bi.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(o=Bi.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),l=!0)}if(l)break;s-=188,u-=188}},Fi=function(e,t,i){for(var n,r,a,o,s,u,l,c=0,d=188,h=!1,f={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(n=e.subarray(c,d),Bi.ts.parseType(n,t.pid)){case"pes":if(r=Bi.ts.parsePesType(n,t.table),a=Bi.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(a&&!h&&(o=Bi.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),h=!0),!i.firstKeyFrame)){if(a&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;if(Bi.ts.videoPacketContainsKeyFrame(s)){var p=Bi.ts.parsePesTime(s);p?(i.firstKeyFrame=p,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(n),f.size+=n.byteLength}}if(h&&i.firstKeyFrame)break;c+=188,d+=188}for(d=e.byteLength,c=d-188,h=!1;c>=0;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(n=e.subarray(c,d),Bi.ts.parseType(n,t.pid)){case"pes":r=Bi.ts.parsePesType(n,t.table),a=Bi.ts.parsePayloadUnitStartIndicator(n),"video"===r&&a&&(o=Bi.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),h=!0)}if(h)break;c-=188,d-=188}},}},}},i},Hi=function(e,t){var i,n=Bi.aac.isLikelyAacData(e);return(i=n?qi(e):zi(e))&&(i.audio||i.video)?(Vi(i,t),i):null},Wi={inspect:Hi,parseAudioPes_:ji},)},Yi=function)}var t=e.prototype;return t.in)},t.pushMp4Captio)},t.probeMp4StartTi)},t.probeMp4Trac)},t.probeTs=function(e){var t=e.data,i=e.baseStartTime,n="number"!=typeof i||isNaN(i)?void 0:i*le.ONE_SECOND_IN_TS,r=Wi.inspect(t,n),a=null;r&&(a={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1},a.hasVideo&&(a.videoStart=r.video[0].ptsTime),a.hasAudio&&(a.audioStart=r.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:a,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.pu)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffs)},t.setAudioAppendSta)},t.setRem)},t.flu)},t.endTimeli)},t.alignGopsWi)},e}();self.onmessage=function(e){if("init"===e.data.action&&e.data.options)return void(this.messageHandlers=new Yi(self,e.data.options));this.messageHandlers||(this.messageHandlers=new Yi(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)}})),xs=ks(As),)},)},o},Ds=function(e){var t=e.transmuxer,i=e.bytes,n=e.audioAppendStart,r=e.gopsToAlignWith,a=e.remux,o=e.onData,s=e.onTrackInfo,u=e.onAudioTimingInfo,l=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,h=e.onId3,f=e.onCaptions,p=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,v=e.isEndOfTimeline,y={buffer:[]},b=v)};if(t.onmessage=_,n&&t.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),i.byteLength){var T=i instanceof ArrayBuffer?i:i.buffer,w=i instanceof ArrayBuffer?0:i.byteOffset;t.postMessage({action:"push",data:T,byteOffset:w,byteLength:i.byteLength},[T])}v&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},)},)},)},Bs=function(e){Ms("reset",e)},)},)},t},Fs={reset:Bs,endTimeline:Us,transmux:Ns,createTransmuxer:js},)},qs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},)},}},n},l},}},$s=function(e,t){var i=Object(ut.a)(e.map.bytes);if("mp4"!==i){var n=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+n,code:qs.FAILURE})}Vs({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callba)}})},}},}},Ks=function(e){var t=e.segment,i=e.bytes,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=t.map&&t.map.tracks||{},m=Boolean(p.audio&&p.video),g=r.bind(null,t,"audio","start"),v=r.bind(null,t,"audio","end"),y=r.bind(null,t,"video","start"),b=r.bind(null,t,"video","end"),_=function(){return Ns({bytes:i,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onDa)},onTrackIn)},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),v&&void 0!==e.end&&v(e.end)},onVideoTimingIn)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){o(e)},onI)},onCaptio)},isEndOfTimeline:l,onEndedTimeline:function(){c()},onTransmuxerLog:f,onDo)}})};Vs({action:"probeTs",transmuxer:t.transmuxer,data:i,baseStartTime:t.baseStartTime,callba)}})},Js=function(e){var t=e.segment,i=e.bytes,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=new Uint8Array(i);if(Object(ut.b)(p)){t.isFmp4=!0;var m=t.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),n(t,g);var)};return void Vs({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:function(e){var n=e.data,a=e.startTime;if(i=n.buffer,t.bytes=p=n,g.hasAudio&&!g.isMuxed&&r(t,"audio","start",a),g.hasVideo&&r(t,"video","start",a),!m.video||!n.byteLength||!t.transmuxer)return void v();Vs({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callba)}})}})}return t.transmuxer?(void 0===t.container&&(t.container=Object(ut.a)(p)),"ts"!==t.container&&"aac"!==t.container?(n(t,{hasAudio:!1,hasVideo:!1}),void h(null,t,{})):void Ks({segment:t,bytes:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:f})):void h(null,t,{})},Zs=function(e,t){var i=e.id,n=e.key,r=e.encryptedBytes,a=e.decryptionWorker}};a.addEventListener("message",o);var s;s=n.bytes.slice?n.bytes.slice():new Uint32Array(Array.prototype.slice.call(n.bytes)),a.postMessage($o({source:i,encrypted:r,key:s,iv:n.iv}),[r.buffer,s.buffer])},)},}},}},}},ru=function(e){var t=e.xhr,i=e.xhrOptions,n=e.decryptionWorker,r=e.segment,a=e.abortFn,o=e.progressFn,s=e.trackInfoFn,u=e.timingInfoFn,l=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,h=e.captionsFn,f=e.isEndOfTimeline,p=e.endedTimelineFn,m=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog,y=[],b=tu({activeXhrs:y,decryptionWorker:n,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:v});if(r.key&&!r.key.bytes){var _=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&_.push(r.map.key);var T=Re.mergeOptions(i,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),w=Ys(r,_,b),E=t(T,w);y.push(E)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){var k=Re.mergeOptions(i,{uri:r.map.key.resolvedUri,responseType:"arraybuffer"}),S=Ys(r,[r.map.key],b),C=t(k,S);y.push(C)}var A=Re.mergeOptions(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Ho(r.map)}),x=Xs({segment:r,finishProcessingFn:b}),R=t(A,x);y.push(R)}var I=Re.mergeOptions(i,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Ho(r)}),P=Qs({segment:r,finishProcessingFn:b,responseType:I.responseType}),D=t(I,P);D.addEventListener("progress",nu({segment:r,progressFn:o,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m})),y.push(D);var O={};return y.forEa))}},au=La("CodecUtils"),)},]},1},t},t},du=function(e,t){var i=t.attributes||{},n=lu(ou(t)||[]);if(su(e,t)&&!n.audio&&!uu(e,t)){var r=lu(Object(it.d)(e,i.AUDIO)||[]);r.audio&&(n.audio=r.audio)}return n},hu=La("PlaylistSelector"),}},"},)},n},n},yu=function(e,t,i,n,r,a){if(e){var o={bandwidth:t,width:i,height:n,limitRenditionByPlayerDimensions:r},s=e.playlists;yo.isAudioOnly(e)&&(s=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=s.m}});mu(u,function(e,t){return e.bandwidth-t.bandwidth}),u=u.filter(function(e){return!yo.isIncompatible(e.playlist)});var l=u.filter(function(e){return yo.isEnabled(e.playlist)});l.length||(l=u.filt)}));var c=l.filtt}),d=c[c.length-1],h=c.filter(function(e){return e.bandwidth===d.bandwidth})[0];if(!1===r){var f=h||l[0]||u[0];if(f&&f.playlist){var p="sortedPlaylistReps";return h&&(p="bandwidthBestRep"),l[0]&&(p="enabledPlaylistReps"),hu("choosing "+fu(f)+" using "+p+" with options",o),f.playlist}return hu("could not choose a playlist with options",o),null}var m=c.filtt});mu(m,function(e,t){return e.width-t.width});var g=m.filtn});d=g[g.length-1];var v,y,b,_=g.filter(function(e){return e.bandwidth===d.bandwidth})[0];_||(v=m.filtn}),y=v.filtt}),d=y[y.length-1],b=y.filter(function(e){return e.bandwidth===d.bandwidth})[0]);var T;if(a.experimentalLeastPixelDiffSelector){var w=m.me});muf}),T=w[0]}var E=T||b||_||h||l[0]||u[0];if(E&&E.playlist){var k="sortedPlaylistReps";return T?k="leastPixelDiffRep":b?k="resolutionPlusOneRep":_?k="resolutionBestRep":h?k="bandwidthBestRep":l[0]&&(k="enabledPlaylistReps"),hu("choosing "+fu(E)+" using "+k+" with options",o),E.playlist}return hu("could not choose a playlist with options",o),null}},bu=function(){var e=this.useDevicePixelRatio?Oe.a.devicePixelRatio||1:1;return yu(this.playlists.master,this.systemBandwidth,parseInt(pu(this.tech_.el(),"width"),10)*e,parseInt(pu(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},_u=function(e){var t=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio?Oe.a.devicePixelRatio||1:1;return t<0&&(t=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(t=e*this.systemBandwidth+(1-e)*t,i=this.systemBandwidth),yu(this.playlists.master,t,parseInt(pu(this.tech_.el(),"width"),10)*n,parseInt(pu(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},Tu=function(e){var t=e.master,i=e.currentTime,n=e.bandwidth,r=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,s=e.currentTimeline,u=e.syncController,l=t.playlists.filter(function(e){return!yo.isIncompatible(e)}),c=l.filter(yo.isEnabled);c.length||(c=l.filt)}));var d=c.filter(yo.hasAttribute.bind(null,"BANDWIDTH")),h=d.map(function(e){var t=u.getSyncPoint(e,r,s,i),l=t?1:2;return{playlist:e,rebufferingImpact:yo.estimateSegmentRequestTime(a,n,e)*l-o}}),f=h.filt0});return mu)}),f.length?f[0]:(mut}),h[0]||null)},l},t},}},}},)},Au=function(e){var t=e.inbandTextTracks,i=e.metadataArray,n=e.timestampOffset,r=e.videoDuration;if(i){var a=Oe.a.WebKitDataCue||Oe.a.VTTCue,o=t.metadataTrack_;if(o&&(i.forEach(function(e){var t=e.cueTime+n;!("number"!=typeof t||Oe.a.isNaN(t)||t<0)&&t<1/0&&e.frames.forEa)})}),o.cues&&o.cues.length)){for(var s=o.cues,u=[],l=0;l<s.length;l++)s[l]&&u.push(s[l]);var c=u.redue},{}),d=Object.keys(c).so)});d.forEa)})}}},)},)},}},Pu=function(e,t,i){if(void 0===t||null===t||!e.length)return[];var n,r=Math.ceil((t-i+3)*ct.ONE_SECOND_IN_TS);for(n=0;n<e.length&&!(e[n].pts>r);n++);return e.slice(n)},)},o},0},]},)},l},)},"},"},l},1},)},0},Wu=function(e,t){if("hls"!==t)return null;var i=zu(e.audioTimingInfo,e.videoTimingInfo);if(!i)return null;var n=e.playlist.targetDuration,r=Hu({segmentDuration:i,maxDuration:2*n}),a=Hu({segmentDuration:i,maxDuration:n}),o="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+i+" when the reported duration is "+e.duration+" and the target duration is "+n+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return r||a?{severity:r?"warn":"info",message:o}:null},Gu=function(n}Ve()(t,e);var i=t.prototype;return i.createTransmuxe)},i.resetStat0},i.dispo)},i.setAud)},i.abo)},i.aborl},i.checkForAbor)},i.err_},i.endOfStre)},i.buffere)},i.initSegmentForMe},i.segmentKr},i.couldBeginLoadin)},i.lo)},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playli}},i.pau)},i.paus_},i.resetEverythi)},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoad)},i.remove=function(e,t,i,n){if(void 0===i&&(i=function(){}),void 0===n&&(n=!1),t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");var r=1)};!n&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,a)),(n||"main"===this.loaderType_)&&(this.gopBuffer_=Ou(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,a));for(var o in this.inbandTextTracks_)Ru(e,t,this.inbandTextTracks_[o]);Ru(e,t,this.segmentMetadataTrack_),a()},i.monitorBuffe)},i.monitorBufferTic)},i.fillBuffe}},i.isEndOfStreaa},i.chooseNextRequest_=function(){var e=this.buffered_(),t=Ha(e)||0,i=Wa(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,r=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||n||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(o.isSyncRequest)o.mediaIndex=Mu(this.currentTimeline_,a,t);else if(null!==this.mediaIndex){var s=a[this.mediaIndex],u="number"==typeof this.partIndex?this.partIndex:-1;o.startOfSegment=s.end?s.end:t,s.parts&&s.parts[u+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=u+1):o.mediaIndex=this.mediaIndex+1}else{var l=yo.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=l.segmentIndex,d=l.startTime,h=l.partIndex;o.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),o.mediaIndex=c,o.startOfSegment=d,o.partIndex=h}var f=a[o.mediaIndex],p=f&&"number"==typeof o.partIndex&&f.parts&&f.parts[o.partIndex];if(!f||"number"==typeof o.partIndex&&!p)return null;if("number"!=typeof o.partIndex&&f.parts&&(o.partIndex=0,p=f.parts[0]),!i&&p&&!p.independent)if(0===o.partIndex){var m=a[o.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(o.mediaIndex-=1,o.partIndex=m.parts.length-1,o.independent="previous segment")}else f.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");var v=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return o.mediaIndex>=a.length-1&&v&&!this.seeking_()?null:this.generateSegmentInfo_(o)},i.generateSegmentInfd},i.timestampOffsetForSegment_=function(e){return Vu(e)},i.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=yo.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),a=Va(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(r<=a)){var o=Tu({master:this.vhs_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=r-a,u=s-o.rebufferingImpact,l=.5;a<=1/30&&(l=1),!o.playlist||o.playlist.uri===this.playlist_.uri||u<l||(this.bandwidth=o.playlist.attributes.BANDWIDTH*_s.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbor1},i.handleProgres)},i.handleTrackInf)},i.handleTimingInf}},i.handleCaptions_=function(e,t){var i=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};t.forEa)}),Object.keys(r).forEa)}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(e,t,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i));var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();xu(this.inbandTextTracks_,i,this.vhs_.tech_),Au({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:this.duration_()})}},i.processMetadataQueu]},i.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(e){return e()})},i.processLoadQueu)},i.hasEnoughInfoToLoa)},i.getCurrentMediaInf_},i.getMediaInf_},i.hasEnoughInfoToAppen)},i.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,e,t));var i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[Fu(t.type)].start;else{var n,r=this.getCurrentMediaInfo_(),a="main"===this.loaderType_&&r&&r.hasVideo;a&&(n=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:n,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:"main"===this.loaderType_});var o=this.chooseNextRequest_();if(o.mediaIndex!==i.mediaIndex||o.partIndex!==i.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}},i.updateAppendInitSegmentStat)},i.getInitSegmentAndUpdateStatl},i.handleQuotaExceededError_=function(e,t){var i=this,n=e.segmentInfo,r=e.type,a=e.bytes,o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+qa(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+qa(s).join(", "));var u=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,c=s.length?s.start(0):0,d=s.length?s.end(s.length-1):0;if(l-u<=1&&d-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+a.byteLength+", audio buffer: "+qa(o).join(", ")+", video buffer: "+qa(s).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:r,bytes:a}));var h=this.currentTime_(),f=h-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+f),this.remove(0)},!0)},i.handleAppendError_=function(e,t){var i=e.segmentInfo,n=e.type,r=e.bytes;if(t){if(22===t.code)return void this.handleQuotaExceededError_({segmentInfo:i,type:n,bytes:r});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(n+" append of "+r.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),this.trigger("appenderror")}},i.appendToSourceBuffe)},i.handleSegmentTimingInf}},i.appendDat}},i.loadSegment_=function(e){var t=this;if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_())return void this.loadQueue_.pu)});this.updateTransmuxerAndRequestSegment_(e)},i.updateTransmuxerAndRequestSegmen)},i.trimBackBuffe)},i.createSimplifiedSegmentObn},i.saveTransferStat)},i.saveBandwidthRelatedStats_=function(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<1/60)return void this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60);this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime},i.handleTimeou)},i.segmentRequestFinished_=function(e,t,i){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===qs.ABORTED)return;return this.pause(),e.code===qs.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=Du(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}},i.setTimeMappin)},i.updateMediaSecondsLoaden},i.shouldUpdateTransmuxerTimestampOffse)},i.trueSegmentStarr},i.waitForAppendsToComplet)},i.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||0===--e.waitingOnAppends&&this.handleAppendsDone_()},i.checkForIllegalMediaSwit)},i.updateSourceBufferTimestampOffse}},i.updateTimingInfoEn)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=Wu(e,this.sourceType_);if(t&&("warn"===t.severity?Re.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_("Throwing away un-appended sync request "+ju(e));this.logger_("Appended "+ju(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var i=e.segment,n=e.part,r=i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration,a=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration;if(r||a)return this.logger_("bad "+(r?"segment":"part")+" "+ju(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput},i.addSegmentMetadataCu}},t}(Re.EventTarget),)},$u=["video","audio"],]},l},Ku=function e(t,i){if(0!==i.queue.length){var n=0,r=i.queue[n];if("mediaSource"===r.type)return void(i.updating()||"closed"===i.mediaSource.readyState||(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),e("audio",i),e("video",i)));if("mediaSource"!==t&&i.ready()&&"closed"!==i.mediaSource.readyState&&!Xu(t,i)){if(r.type!==t){if(null===(n=Qu(t,i.queue)))return;r=i.queue[n]}return i.queue.splice(n,1),i.queuePending[t]=r,r.action(t,i),r.doneFn?void 0:(i.queuePending[t]=null,void e(t,i))}}},)},)},el={appendBuff}},remo}},timestampOffs}},callba}},endOfStre}},durati}},abo}},addSourceBuff}},removeSourceBuff}},changeTy}}},)},}},nl=function(i}Ve()(t,e);var i=t.prototype;return i.initializedE)},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.rea)},i.createSourceBuffe)},i.triggerRea)},i.addSourceBuff)},i.abo)},i.removeSourceBuffer=function(e){if(!this.canRemoveSourceBuffer())return void Re.log.error("removeSourceBuffer is not supported!");tl({type:"mediaSource",sourceUpdater:this,action:el.removeSourceBuffer(e),name:"removeSourceBuffer"})},i.canRemoveSourceBuffr},t.canChangeTye},i.canChangeTy)},i.changeType=function(e,t){if(!this.canChangeType())return void Re.log.error("changeType is not supported!");tl({type:e,sourceUpdater:this,action:el.changeType(t),name:"changeType"})},i.addOrChangeSourceBuffe)},i.appendBuff}},i.audioBuffered=function(){return Zu(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Re.createTimeRange()},i.videoBuffer)},i.buffer)},i.setDurati)},i.endOfStre)},i.removeAudio=function(e,t,i){if(void 0===i&&(i=Ie),!this.audioBuffered().length||0===this.audioBuffered().end(0))return void i();tl({type:"audio",sourceUpdater:this,action:el.remove(e,t),doneFn:i,name:"remove"})},i.removeVideo=function(e,t,i){if(void 0===i&&(i=Ie),!this.videoBuffered().length||0===this.videoBuffered().end(0))return void i();tl({type:"video",sourceUpdater:this,action:el.remove(e,t),doneFn:i,name:"remove"})},i.updati)},i.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(tl({type:"audio",sourceUpdater:this,action:el.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},i.videoTimestampOffs_},i.audioQueueCallback=function(e){this.audioBuffer&&tl({type:"audio",sourceUpdater:this,action:el.callback(e),name:"callback"})},i.videoQueueCallba)},i.dispo)},t}(Re.EventTarget),)},al=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),ol=function(e){function t(t,i){var n;return void 0===i&&(i={}),n=e.call(this,t,i)||this,n.mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=t.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}Ve()(t,e);var i=t.prototype;return i.createTransmuxer_=function(){return null},i.buffere)},i.initSegmentForMe},i.couldBeginLoadin)},i.ini)},i.tra)},i.remo)},i.fillBuffe}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextReques)},i.skipEmptySegmente},i.stopForErr)},i.segmentRequestFinished_=function(e,t,i){var n=this;if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===qs.TIMEOUT&&this.handleTimeout_(),e.code===qs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),this.state="APPENDING",this.trigger("appending");var a=r.segment;if(a.map&&(a.map.bytes=t.map.bytes),r.bytes=t.bytes,"function"!=typeof Oe.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var o)};return)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",o),void this.subtitlesTrack_.tech_.one("vttjserror",s)}a.requested=!0;try{this.parseVTTCues_(r)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,r.cues.forEa)}),Iu(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCue)},i.updateTimeMapping_=function(e,t,i){var n=e.segment;if(t){if(!e.cues.length)return void(n.empty=!0);var r=e.timestampmap,a=r.MPEGTS/ct.ONE_SECOND_IN_TS-r.LOCAL+t.mapping;if(e.cues.forEaa}),!i.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(o,s-n.duration)}}}},t}(Gu),l},}},ll=[{name:"VOD",rl}},{name:"ProgramDateTime",run:function(e,t,i,n,r){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,s=$a(t);r=r||0;for(var u=0;u<s.length;u++){var l=t.endList||0===r?u:s.length-(u+1),c=s[l],d=c.segment,h=e.timelineToDatetimeMappings[d.timeline];if(h&&d.dateTimeObject){var f=d.dateTimeObject.getTime()/1e3,p=f+h;if(d.parts&&"number"==typeof c.partIndex)for(var m=0;m<c.partIndex;m++)p+=d.parts[m].duration;var g=Math.abs(r-p);if(null!==o&&(0===g||o<g))break;o=g,a={time:p,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return a}},{name:"Segment",ra}},{name:"Discontinuity",ra}},{name:"Playlist",rl}}],cl=function(i}Ve()(t,e);var i=t.prototype;return i.getSyncPoil},i.getExpiredTi)},i.runStrategier},i.selectSyncPoini},i.saveExpiredSegmentInfo=function(e,t){var i=t.mediaSequence-e.mediaSequence;if(i>86400)return void Re.log.warn("Not saving expired segment info. Media sequence gap "+i+" is too large.");for(var n=i-1;n>=0;n--){var r=e.segments[n];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForSta}},i.saveSegmentTimingIn)},i.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},i.mappingForTimelig},i.calculateSegmentTimeMappin0},i.saveDiscontinuitySyncInf}},i.dispo)},t}(Re.EventTarget),dl=function(t}Ve()(t,e);var i=t.prototype;return i.clearPendingTimelineChan)},i.pendingTimelineChan]},i.lastTimelineChan]},i.dispo)},t}(Re.EventTarget),hl=Ss(Cs(function(){function e(e,i,n){return n={path:i,exports:{},require:function(e,i){return t((void 0===i||null===i)&&n.path)}},e(n,n.exports),n.expor}var n0}),r0}),a0})e}()l},u=null,l=function(){function e(e){u||(u=s()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var t,i,n,r=this._tables[0][4],a=this._tables[1],o=e.length,l=1;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size");var c=e.slice(0),d=[];for(this._key=[c,d],t=o;t<4*o+28;t++)n=c[t-1],(t%o==0||8===o&&t%o==4)&&(n=r[n>>>24]<<24^r[n>>16&255]<<16^r[n>>8&255]<<8^r[255&n],t%o==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),c[t]=c[t-o]^n;for(i=0;t;i++,t--)n=c[3&i?t:t-4],d[i]=t<=4||i<4?n:a[0][r[n>>>24]]^a[1][r[n>>16&255]]^a[2][r[n>>8&255]]^a[3][r[255&n]]}return e.prototype.decryo},e}()t}(o)4}g},f=function)}return e.prototype.decryptChun}},n(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}()t};self.onmessa)}})),fl=ks(hl),t},)},)},vl=function(e,t){return function(){var i=t.segmentLoaders,n=i[e],r=i.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.getActiveGroup(),u=a.activePlaylistLoader,l=a.lastGroup_;if((!s||!l||s.id!==l.id)&&(a.lastGroup_=s,a.lastTrack_=o,ml(n,a),s&&!s.isMasterPlaylist)){if(!s.playlistLoader)return void(u&&r.resetEverything());n.resyncLoader(),gl(s.playlistLoader,a)}}},}},bl=function(e,t){return function(){var i=t.masterPlaylistLoader,n=t.segmentLoaders,r=n[e],a=n.main,o=t.mediaTypes[e],s=o.activeTrack(),u=o.getActiveGroup(),l=o.activePlaylistLoader,c=o.lastTrack_;if((!c||!s||c.id!==s.id)&&(o.lastGroup_=u,o.lastTrack_=s,ml(r,o),u)){if(u.isMasterPlaylist){if(!s||!c||s.id===c.id)return;var d=t.vhs.masterPlaylistController_,h=d.selectPlaylist();if(d.media()===h)return;return o.logger_("track change. Switching master audio from "+c.id+" to "+s.id),i.pause(),a.resetEverything(),void d.fastQualityChange_(h)}if("AUDIO"===e){if(!u.playlistLoader)return a.setAudio(!0),void a.resetEverything();r.setAudio(!0),a.setAudio(!1)}if(l===u.playlistLoader)return void gl(u.playlistLoader,o);r.track&&r.track(s),r.resetEverything(),gl(u.playlistLoader,o)}}},_l={AUDIO:function(e,t){return function(){var i=t.segmentLoaders[e],n=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;ml(i,n);var a=n.activeTrack(),o=n.activeGroup(),s=(o.filter(function(e){return e.default})[0]||o[0]).id,u=n.tracks[s];if(a===u)return void r({message:"Problem encountered loading the default audio track."});Re.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var l in n.tracks)n.tracks[l].enabled=n.tracks[l]===u;n.onTrackChanged()}},SUBTITL}}},Tl={AUD}},SUBTITL)}},wl={AUDIO:function(e,t){var i=t.vhs,n=t.sourceType,r=t.segmentLoaders[e],a=t.requestOptions,o=t.master.mediaGroups,s=t.mediaTypes[e],u=s.groups,l=s.tracks,c=s.logger_,d=t.masterPlaylistLoader,h=vo(d.master);o[e]&&0!==Object.keys(o[e]).length||(o[e]={main:{default:{default:!0}}},h&&(o[e].main.default.playlists=d.master.playlists));for(var f in o[e]){u[f]||(u[f]=[]);for(var p in o[e][f]){var m=o[e][f][p],g=void 0;if(h?(c("AUDIO group '"+f+"' label '"+p+"' is a master playlist"),m.isMasterPlaylist=!0,g=null):g="vhs-json"===n&&m.playlists?new No(m.playlists[0],i,a):m.resolvedUri?new No(m.resolvedUri,i,a):m.playlists&&"dash"===n?new bs(m.playlists[0],i,a,d):null,m=Re.mergeOptions({id:p,playlistLoader:g},m),Tl[e](e,m.playlistLoader,t),u[f].push(m),void 0===l[p]){var v=new Re.AudioTrack({id:p,kind:pl(m),enabled:!1,language:m.language,default:m.default,label:p});l[p]=v}}}r.on("error",_l[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,n=t.vhs,r=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,s=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,d=t.masterPlaylistLoader;for(var h in s[e]){l[h]||(l[h]=[]);for(var f in s[e][h])if(!s[e][h][f].forced){var p=s[e][h][f],m=void 0;if("hls"===r)m=new No(p.resolvedUri,n,o);else if("dash"===r){var g=p.playlists.filt0});if(!g.length)return;m=new bs(p.playlists[0],n,o,d)}else"vhs-json"===r&&(m=new No(p.playlists?p.playlists[0]:p.resolvedUri,n,o));if(p=Re.mergeOptions({id:f,playlistLoader:m},p),Tl[e](e,p.playlistLoader,t),l[h].push(p),void 0===c[f]){var v=i.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=v}}}a.on("error",_l[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,n=t.master.mediaGroups,r=t.mediaTypes[e],a=r.groups,o=r.tracks;for(var s in n[e]){a[s]||(a[s]=[]);for(var u in n[e][s]){var l=n[e][s][u];if(/^(?:CC|SERVICE)/.test(l.instreamId)){var c=i.options_.vhs&&i.options_.vhs.captionServices||{},d={label:u,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[d.instreamId]&&(d=Re.mergeOptions(d,c[d.instreamId])),void 0===d.default&&delete d.default,a[s].push(Re.mergeOptions({id:u},l)),void 0===o[u]){var h=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[u]=h}}}}}},1},kl=function(e,t){return function(i){var n=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,a=n.media();if(!a)return null;var o=null;a.attributes[e]&&(o=r[a.attributes[e]]);var s=Object.keys(r);if(!o)if("AUDIO"===e&&s.length>1&&vo(t.master))for(var u=0;u<s.length;u++){var l=r[s[u]];if(El(l,a)){o=l;break}}else r.main?o=r.main:1===s.length&&(o=r[s[0]]);return void 0===i?o:null!==i&&o?o.filtd})[0]||null:null}},Sl={AUD}},SUBTITL}}},}},Al=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEa)});var t=e.mediaTypes,i=e.masterPlaylistLoader,n=e.tech,r=e.vhs,a=e.segmentLoaders,o=a.AUDIO,s=a.main;["AUDIO","SUBTITLES"].forEa)});var u=t.AUDIO.activeGroup();if(u){var l=(u.filtt})[0]||u[0]).id;t.AUDIO.tracks[l].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged();t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})}),i.on("mediachangin)});var)};n.audioTracks().addEventListener("change",c),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispos)}),n.clearTracks("audio");for(var d in t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[d])},e},Rl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],]},1},Dl=function(e){function t(t){var i;i=e.call(this)||this;var n=t.src,r=t.handleManifestRedirects,a=t.withCredentials,o=t.tech,s=t.bandwidth,u=t.externVhs,l=t.useCueTags,c=t.blacklistDuration,d=t.enableLowInitialPlaylist,h=t.sourceType,f=t.cacheEncryptionKeys,p=t.experimentalBufferBasedABR,m=t.experimentalLeastPixelDiffSelector,g=t.captionServices;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");var v=t.maxPlaylistRetries;null!==v&&void 0!==v||(v=1/0),Pa=u,i.experimentalBufferBasedABR=Boolean(p),i.experimentalLeastPixelDiffSelector=Boolean(m),i.withCredentials=a,i.tech_=o,i.vhs_=o.vhs,i.sourceType_=h,i.useCueTags_=l,i.blacklistDuration=c,i.maxPlaylistRetries=v,i.enableLowInitialPlaylist=d,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:r,maxPlaylistRetries:v,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=xl(),i.mediaSource=new Oe.a.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(je()(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(je()(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(je()(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=Re.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new cl(t),i.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new fl,i.sourceUpdater_=new nl(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new dl;var y={vhs:i.vhs_,parse708captions:t.parse708captions,captionServices:g,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeki)},duration:function(){return i.duration()},hasPlay_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:s,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};i.masterPlaylistLoader_="dash"===i.sourceType_?new bs(n,i.vhs_,i.requestOptions_):new No(n,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new Gu(Re.mergeOptions(y,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),t),i.audioSegmentLoader_=new Gu(Re.mergeOptions(y,{loaderType:"audio"}),t),i.subtitleSegmentLoader_=new ol(Re.mergeOptions(y,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),t),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one("loadedplaylist",function(){return i.startABRTimer_()}),i.tech_.on("pause",function(){return i.stopABRTimer_()}),i.tech_.on("play",function(){return i.startABRTimer_()})),Rl.forEa)}),i.logger_=La("MPC"),i.triggeredFmp4Usage=!1,"none"===i.tech_.preload()?(i.loadOnPla)},i.tech_.one("play",i.loadOnPlay_)):i.masterPlaylistLoader_.load(),i.timeToLoadedData__=-1,i.mainAppendsToLoadedData__=-1,i.audioAppendsToLoadedData__=-1;var b="none"===i.tech_.preload()?"play":"loadstart";return i.tech_.one)}),i}Ve()(t,e);var i=t.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedDatt},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkAB)},i.switchMedi)},i.startABRTime)},i.stopABRTime)},i.getAudioTrackPlaylistt},i.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadat)}),this.masterPlaylistLoader_.on("loadedplaylist",function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var i;if(e.enableLowInitialPlaylist&&(i=e.selectInitialPlaylist()),i||(i=e.selectPlaylist()),!i||!e.shouldSwitchToMedia_(i))return;e.initialMedia_=i,e.switchMedia_(e.initialMedia_,"initial");if(!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)}),this.masterPlaylistLoader_.on("erro)}),this.masterPlaylistLoader_.on("mediachangin)}),this.masterPlaylistLoader_.on("mediachang)}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();if("playlist-unchanged"!==t.lastExcludeReason_){e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlayli)},i.triggerPresenceUsag)},i.shouldSwitchToMedi)},i.setupSegmentLoaderListener)},i.mediaSecondsLoade)},i.lo)},i.smoothQualityChang)},i.fastQualityChange_=function(e){var t=this;if(void 0===e&&(e=this.selectPlaylist()),e===this.masterPlaylistLoader_.media())return void this.logger_("skipping fastQualityChange because new media is same as old");this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverythi)})},i.pl}},i.setupFirstPl0},i.handleSourceOpe)},i.handleSourceEnde}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStre)},i.stuckAtPlaylistEn1},i.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var i=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!i)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));i.playlistErrors_++;var n=this.masterPlaylistLoader_.master.playlists,r=n.filter(uo),a=1===r.length&&r[0]===i;if(1===n.length&&t!==1/0)return Re.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a);if(a){var o=!1;n.forEa}}),o&&(Re.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var s;s=i.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,i.excludeUntil=s,e.reason&&(i.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var u=this.selectPlaylist();if(!u)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var l=e.internal?this.logger_:Re.log.warn,c=e.message?" "+e.message:"";l((e.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+c+" Switching to playlist "+u.id+"."),u.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=u.targetDuration/2*1e3||5e3,h="number"==typeof u.lastRequest&&Date.now()-u.lastRequest<=d;return this.switchMedia_(u,"exclude",a||h)},i.pauseLoadi)},i.delegateLoader)},i.setCurrentTi0},i.durati0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_&&!this.sourceUpdater_.hasCreatedSourceBuffers()){var t=this.masterPlaylistLoader_.media();if(t){var i=this.syncController_.getExpiredTime(t,this.duration());if(null!==i){var n=this.masterPlaylistLoader_.master,r=Pa.Playlist.seekable(t,i,Pa.Playlist.liveEdgeDelay(n,t));if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(t,this.duration())))return;if(e=Pa.Playlist.seekable(t,i,Pa.Playlist.liveEdgeDelay(n,t)),0===e.length)return}var a,o;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=Re.createTimeRanges([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+Fa(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1)))}var i=this.tech_.buffered(),n=Pa.Playlist.duration(this.masterPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)},i.dispo)},i.master=function(){return this.masterPlaylistLoader_.master},i.med_},i.areMediaTypesKnow)},i.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var i=du(this.master(),this.media()),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(n.video=i.video||t.main.videoCodec||it.b),t.main.isMuxed&&(n.video+=","+(i.audio||t.main.audioCodec||it.a)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||r)&&(n.audio=i.audio||t.main.audioCodec||t.audio.audioCodec||it.a,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),!n.audio&&!n.video)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});var a,o=function(e,t){return e?Object(it.c)(t):Object(it.g)(t)},s={};if(["video","audio"].forEa}}),r&&a&&this.media().attributes.AUDIO){var u=this.media().attributes.AUDIO;this.master().playlists.forEa)}),this.logger_("excluding audio group "+u+" as "+a+' does not support codec(s): "'+n.audio+'"')}if(Object.keys(s).length){var l=Object.keys(s).redu'},"")+".";return void this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var c=[];if(["video","audio"].forEa)}),c.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+c.join(", ")+".",blacklistDuration:1/0,internal:!0})}return n},i.tryToCreateSourceBuffer}},i.excludeUnsupportedVariant)},i.excludeIncompatibleVariant)},i.updateAdCue)},i.goalBufferLeng)},i.bufferLowWaterLi)},i.bufferHighWaterLine=function(){return _s.BUFFER_HIGH_WATER_LINE},t}(Re.EventTarget),}},Ll=function(e,t,i){var n=e.masterPlaylistController_,r=e.options_.smoothQualityChange,a=r?"smooth":"fast",o=n[a+"QualityChange_"].bind(n);if(t.attributes){var s=t.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=du(n.master(),t),this.playlist=t,this.id=i,this.enabled=Ol(e.playlists,t.id,o)},}},Bl=["seeking","seeked","pause","playing","error"],Ul=function}}var t=e.prototype;return t.monitorCurrentTim)},t.resetSegmentDownload)},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,i=t[e+"SegmentLoader_"],n=i.buffered_(),r=za(this[e+"Buffered_"],n);if(this[e+"Buffered_"]=n,r)return void this.resetSegmentDownloads_(e);this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:qa(n)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0))},t.checkCurrentTim}},t.cancelTimel},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),i=this.tech_.currentTime(),n=this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);if(n){e=t.end(t.length-1)}if(this.beforeSeekableWindow_(t,i)){var r=t.start(0);e=r+(r===t.end(0)?0:.1)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+Fa(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var a=this.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),s=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,l=this.media(),c=l.partTargetDuration?l.partTargetDuration:2*(l.targetDuration-1/30),d=[s,u],h=0;h<d.length;h++)if(d[h]){var f=Wa(d[h],i);if(f<c)return!1}var p=Ua(o,i);return 0!==p.length&&(e=p.start(0)+.1,this.logger_("Buffered region starts ("+p.start(0)+")  just beyond seek point ("+i+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waitin}},t.techWaitin1},t.afterSeekableWindor},t.beforeSeekableWindo)},t.videoUnderflo}},t.skipTheGa)},t.gapFromVideoUnderflol},e}(),Nl={errorInterval:30,getSour)}},jl=function e(t,i){var n=0,r=0,a=Re.mergeOptions(Nl,i);t.rea)});var)})})})})};t.on("error",u),t.on("dispose",l),t.reloadSourceOnError=c},Fl=function(e){jl(this,e)},Vl={PlaylistLoader:No,Playlist:yo,utils:es,STANDARD_PLAYLIST_SELECTOR:bu,INITIAL_PLAYLIST_SELECTOR:wu,lastBandwidthSelector:bu,movingAverageBandwidthSelector:_u,comparePlaylistBandwidth:gu,comparePlaylistResolution:vu,xhr:qo()};Object.keys(_s).forEach(function(e){Object.defineProperty(Vl,e,{g]},set:function(t){if(Re.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0)return void Re.log.warn("value of Vhs."+e+" must be greater than or equal to 0");_s[e]=t}})});var )},)};Vl.canPlaySource=function(){return Re.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var )},)},Gl=function(e){var t=e.player,i=e.sourceKeySystems,n=e.audioMedia,r=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a=n?r.concat([n]):r,o=Wl(a,Object.keys(i)),s=[],u=[];return o.forEach(function(e){u.push(new Promi)})),s.push(new Promise(function(i,n){t.eme.initializeMediaKeys({keySystems:e},function(e){if(e)return void n(e);i()})}))}),Promise.race([Promise.all(s),Promise.race(u)])},)},}},Xl=function(e){if(!Oe.a.localStorage)return!1;var t=$l();t=t?Re.mergeOptions(t,e):e;try{Oe.a.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(e){return!1}return t},e};Vl.supportsNativeHls=function(){if(!Me.a||!Me.a.createElement)return!1;var e=Me.a.createElement("video");return!!Re.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].so)})}(),Vl.supportsNativeDa)}(),Vl.supportsTypeNativeh},Vl.isSupport)};var Kl=Re.getComponent("Component"),Jl=function(e){function t(t,i,n){var r;if(r=e.call(this,i,Re.mergeOptions(n.hls,n.vhs))||this,n.hls&&Object.keys(n.hls).length&&Re.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof n.initialBandwidth&&(r.options_.bandwidth=n.initialBandwidth),r.logger_=La("VhsHandler"),i.options_&&i.options_.playerId){var a=Re(i.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Re.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),je()(r)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{g)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{g)},configurable:!0}),r.player_=a}if(r.tech_=i,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(Me.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange)}),r.on(r.tech_,"seekin)}),r.on(r.tech_,"erro)}),r.on(r.tech_,"play",r.play),r}Ve()(t,e);var i=t.prototype;return i.setOptiono},i.src=function(e,t){var i=this;if(e){this.setOptions_(),this.options_.src=Ql(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Vl,this.options_.sourceType=Object(nt.a)(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Re.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Dl(this.options_);var n=Re.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Ul(n),this.masterPlaylistController_.on("erro)});var r=this.options_.experimentalBufferBasedABR?Vl.movingAverageBandwidthSelector(.55):Vl.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Vl.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},s)}},throughput:{ge},s1}},bandwidth:{ge},s}}},systemBandwidth:{g)},s)}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{g0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return i.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return i.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return i.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return i.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{g0},enumerable:!0},buffered:{get:function(){return qa(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{gr},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{g)},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdat)}),this.masterPlaylistController_.on("selectedinitialmedia",function(){Ml(i)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){i.setupEme_()}),this.on(this.masterPlaylistController_,"progres)}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Oe.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=Yl({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});if(this.player_.tech_.on("keystatuschang)}),11===Re.browser.IE_VERSION||!i)return void this.masterPlaylistController_.sourceUpdater_.initializedEme();this.logger_("waiting for EME key session creation"),Gl({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).th)}).cat)})},i.setupQualityLevel)},t.versi}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return nl.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispo)},i.convertToProgramTi)},i.seekToProgramTi)},t}(Kl),Zl={name:"videojs-http-streaming",VERSION:"2.12.0",canHandleSour)},handleSours},canPlayType:function(e,t){void 0===t&&(t={});var i=Re.mergeOptions(Re.options,t),n=i.vhs.overrideNative,r=void 0===n?!Re.browser.IS_ANY_SAFARI:n,a=Object(nt.a)(e);return!a||Vl.supportsTypeNatively(a)&&!r?"":"maybe"}};)}()&&Re.getTech("Html5").registerSourceHandler(Zl,0),Re.VhsHandler=Jl,Object.defineProperty(Re,"HlsHandler",{get:function(){return Re.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Jl},configurable:!0}),Re.VhsSourceHandler=Zl,Object.defineProperty(Re,"HlsSourceHandler",{get:function(){return Re.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Zl},configurable:!0}),Re.Vhs=Vl,Object.defineProperty(Re,"Hls",{gl},configurable:!0}),Re.use||(Re.registerComponent("Hls",Vl),Re.registerComponent("Vhs",Vl)),Re.options.vhs=Re.options.vhs||{},Re.options.hls=Re.options.hls||{},!Re.getPlugin||!Re.getPlugin("reloadSourceOnError")){(Re.registerPlugin||Re.plugin)("reloadSourceOnError",Fl)}t.default=Re},function(e,t,i){"use strict";i.d(t,"f",function(){return u}),i.d(t,"j",function(){return c}),i.d(t,"i",function(){return d}),i.d(t,"h",function(){return h}),i.d(t,"b",function(){return m}),i.d(t,"e",function(){return g}),i.d(t,"c",function(){return v}),i.d(t,"g",function(){return y}),i.d(t,"d",function(){return b}),i.d(t,"a",function(){return _});var n=i(230),r=i.n(n)i}h})})},l=function(e){return ArrayBuffer.isView(e)},c=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||l(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!==e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},d=function(e){e=c(e);for(var t="",i=0;i<e.length;i++)t+=u(e[i].toString(16),2,"0");return t}t},f=r.a.BigInt||Number,p=[f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000")],]})}),g=function(e,t){var i=void 0===t?{}:t,n=i.le,r=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!==e)&&(e=0),e=f(e);for(var a=s(e),o=new Uint8Array(new ArrayBuffer(a)),u=0;u<a;u++){var l=r?u:Math.abs(u+1-o.length);o[l]=Number(e/p[u]&f(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=0===u?1:2)}return o}t}i}r},_=function(e,t,i){var n=void 0===i?{}:i,r=n.offset,a=void 0===r?0:r,o=n.mask,s=void 0===o?[]:o;e=c(e),t=c(t);var u=t.every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&u.call)})}},function(e,t,i){t.f=i(227)},function(e,t,i){e.exports={default:i(589),__esModule:!0}}},function(e,t,i){e.exports={default:i(570),__esModule:!0}},function(e,t,i){e.exports={default:i(573),__esModule:!0}},function(e,t,i){e.exports={default:i(575),__esModule:!0}},function(e,t,i){e.exports={default:i(582),__esModule:!0}},,,,,,,,,,function(e,t,i){var n,r;n=[i(54),i(20),i(282),i(0),i(17)],void 0!==(r=function(e,t,i,n,r){"use strict";return n.Class.declare({$name:"FileUploadRendererHTML-offline",$extends:e,__uploadZone:null,__loader:null,initialize:function(e){this.$super(e),this.on("postrender",function(){r.watch(this.runtime,this.getFileDataKey(),function(e,t,i){i&&this._triggerDevice("fileData-"+this.runtime.ID,i)}.$bind(this)),r.watch(this.runtime,"FileSize",function(e,t,i){if(i){var n=this.sizeToUnits(i).split(" ");this.runtime.FileSizeWithUnits="<strong>"+n[0]+"</strong> "+n[1]}}.$bind(this))}.$bind(this)),this.on("bind",this.setupV2Renderer.$bind(this)),this.once("ready",function(){this.getPage().on("pageunload",function(){this.runtime.FileThumbnail=""}.$bind(this))})},setupV2Renderer:function(){this.__uploadZone=this._$el.find(".dropzone"),this.__uploadZone.off("click").on("clic)}.$bind(this))},getFileDataKey:function(){return"FileData"},getTemplateVariant:function(){return"offline"},hasResponse:function(){return!!this.runtime.FileSize},getFileMetadata:function(){var e={};return this.runtime.FileSize>=0&&(e.ID=this.runtime.ID),this.runtime.FileSize>=0&&(e.FileSize=this.runtime.FileSize),this.runtime.FileName&&(e.Filename=this.runtime.FileName),this.runtime.FileType&&(e.FileType=this.runtime.FileType),this.runtime.OfflineFileID&&(e.OfflineFileID=this.runtime.OfflineFileID),e},render:function(e){this._triggerDevice("requestFile",this.id());var t=this.getFileMetadata();return t&&this._triggerDevice("requestThumbnail",JSON.stringify(t)),this.$super(e)},_triggerDevice:function(e,t){this.getPage()&&this.getPage().adapter.triggerDevice(e,t)},disableButto)},enableButtons:function(){this._page.pageButtons.enableButtons(!1,!1)},sizeToUnits:function(e){var t,i,n,r,a,o,s,u;for(o=["TB","GB","MB","KB","b"],n=r=null,i=s=0,u=o.length;s<u;i=++s)if(a=o[i],t=Math.pow(1e3,4-i)/10,e>=t){n=e/Math.pow(1e3,4-i),r=a;break}return(n=Math.round(10*n)/10)+" "+r}})}.apply(t,n))&&(e.exports=r)},function(e,t,i){"use stric}var a=r({HTML:"text/html",isHTML:function(e){return e===a.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=r({HTML:"http://www.w3.org/1999/xhtml",isHTL},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.find=n,t.freeze=r,t.MIME_TYPE=a,t.NAMESPACE=o},function(e,t,i){e.exports={default:i(562),__esModule:!0}},function(e,t,i){e.exports={default:i(564),__esModule:!0c},,,,,function(e,t,i){var n,r;n=[i(37),i(283),i(3)],void 0!==(r=function(e,t,i){"use strict";function n(e,t){window.webkit.messageHandlers.sendToApp.postMessage({key:e,value:encodeURIComponent(t)})}function r(e,i){var n=document.createElement("IFRAME");t.supportsFeature("encodeURIComponentPlatformMessage")&&-1===e.indexOf("fileData")?n.setAttribute("src",e+":##sendToApp##"+encodeURIComponent(i)):n.setAttribute("src",e+":##sendToApp##"+i),document.documentElement.appendChild(n),n.style.position="absolute",n.style.left="-99999px",n.style.width="1px",n.style.height="1px",n.style.top="0px",n.style.border="none",setTimeol},5)}function a(e,t){window.jQuery(window).trigger(e,t)}return{trigger:function(o,s){if(e.is("offline")&&"undefined"!=typeof document&&!0!==window.thisIsATest)return t.supportsFeature("webViewWKScriptMessage")?n(o,s):t.supportsFeature("nativeInterface")?window.NativeInterface.triggerEvent(o,s):r(o,s);"undefined"==typeof window||!0!==window.thisIsATest||(window.jQuery,0)?"error"===o&&i.error("device",s):a(o,s)}}}.apply(t,n))&&(e.exports=r)},function(e,t,i){var n,r;n=[i(37),i(9)],void 0!==(r=function(e,t){"use strict";var i={getOfflineAppPlatform:function(){return e.is("offline")?t.iOSAppVersion?"iOS":t.androidAppVersion?"android":t.electronAppVersion?"electron":null:null},getOfflineAppVersion:function(){return e.is("offline")?t.iOSAppVersion?t.iOSAppVersion:t.androidAppVersion?t.androidAppVersion:t.electronAppVersion?t.electronAppVersion:null:null},compareVersion:function(e,t){if(null===e||null===t)return"currentLess";for(var i=e.split("."),n=t.split("."),r=0;r<i.length;r++){if(r>=n.length)return"currentGreater";if(parseInt(i[r])>parseInt(n[r]))return"currentGreater";if(parseInt(i[r])<parseInt(n[r]))return"currentLess"}return i.length<n.length?"currentLess":"currentEqual"},getTargetVersionForFeature:function(e,t){switch(e){case"encodeURIComponentPlatformMessage":if("android"===t)return"1.0.37";if("iOS"===t)return"0.0.0";break;case"webViewWKScriptMessage":if("iOS"==t)return"13.31.00";break;case"pageStartCalledFromApp":if("electron"==t)return"1.0.7";break;case"nativeInterface":if("android"==t)return"1.3.02";break;case"offlineFileUploadV2":if("iOS"==t)return"13.35.01";if("android"==t)return"1.4.00";if("electron"==t)return"1.1.0";break;case"base64Partial":if("android"==t)return"1.3.06";break;case"base64Response":if("android"==t)return"1.4.02"}return null}};return{getOfflineAppPlatform:i.getOfflineAppPlatform,getOfflineAppVersion:i.getOfflineAppVersion,compareVersion:i.compareVersion,getTargetVersionForFeature:i.getTargetVersionForFeature,supportsFeature:function(e){var t=i.getOfflineAppVersion(),n=i.getOfflineAppPlatform(),r=i.getTargetVersionForFeature(e,n);return"currentLess"!==i.compareVersion(t,r)}}}.apply(t,n))&&(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(1),i(520),i(267),i(521),i(523),i(524)],void 0!==(r=function(e,t,i,n,r,a,o){"use strict";return e.Class.declare({$name:"FileUploadRendererHTML",$extends:n,dropzone:null,$previewEl:null,_filePreviewData:null,fallback:null,initiali)},getTemplateVariant:function(){return null},setupFileUploader:function(){this.on("postrender",this.setupDropzone.$bind(this)),this.on("postrende)}.$bind(this)),this.on("bind",function(){this.fallback&&this.fallback.bind()}),this.on("unbind",function(){this.fallback&&this.fallback.unbind()})},resl},getDropzo)},_getUploadRoute:function(e){var t=this._page.getPageTemplate().getCurrentLanguage(),i=this._page.getSessionId(),n=this.runtime.ID;return this._page.adapter.getFileUploadPath(t,e,i,n)},_getUploadConfig:function(){return this.runtime.UploadConfig||{}},setupDropzone:function(){var e=this._getUploadConfig();this.dropzone=new i(this.getDropzone()[0],{url:this._getUploadRoute(),paramName:"upload",acceptedFiles:e.ValidTypes&&e.ValidTypes.join(","),maxFiles:1,maxFilesize:e.MaxFileSize,previewTemplate:a,success:this.uploadComplete.$bind(this),dictDefaultMessage:'<button class="dropzone-btn" style="background: none; border: none;">'+e.DefaultMessage+"</button>",dictInvalidFileType:e.InvalidFileTypeMessage,dictFileTooBig:e.FileTooBigMessage,dictResponseError:e.UploadFailedMessage,fallback:function(){var e=this._getUploadRoute(!0);this.fallback=new r(this,this.id(),e),this.fallback.render(this.getDropzone())}.$bind(this)}),this.dropzone.on("uploadprogress",function(e,i){var n=parseInt(i);100==n&&(n=99),t(e.previewElement).find(".dz-upload, .dz-upload-back").text(n+"%")}),this.dropzone.on("addedfil)}.$bind(this)),this.dropzone.on("addedfile",function(e){for(;this.files.length>this.options.maxFiles;){var i=this.files.shift();this.removeFile(i)}t(e.previewElement).find("[data-dz-type]").text(e.type)}),this.dropzone.on("erro)}.$bind(this)),this.dropzone.on("complete",this.enableButtons.$bind(this)),o.registerFileUploader(this._page,this)},fileAdded:function(e){this.removePreviewElement(),this._page.pageButtons.disableButtons(),this.reset(),this.highlight(!1),this.runtime.ErrorMsg=null,this.runtime.FileName=e},uploadComplete:function(e,i){if(!i||!i.fileMeta)return this.uploadError(this._getUploadConfig().UploadFailedMessage);this.runtime.FileID=i.fileId,this.runtime.FileName=i.fileMetaRaw.FileName,this.runtime.FileSize=i.fileMetaRaw.FileSize,this.runtime.FileType=i.fileMetaRaw.FileType,this.runtime.FileMeta=i.fileMeta,this.runtime.FileMetaVersion=i.fileMetaVersion,this._filePreviewData=t(e.previewElement).find("img").attr("src"),this.responseChanged()},uploadError:function(e){this.dropzone.removeAllFiles(),this.reset(),this.highlight(),this.runtime.ErrorMsg=e.detailedMessage||e},setupFilePreview:function(){this.hasResponse()&&(this.$previewEl=t(a),this.$previewEl.find("[data-dz-size]").html(this.dropzone.filesize(this.runtime.FileSize)),this.$previewEl.find("[data-dz-type]").text(this.runtime.FileType),this.$previewEl.find(".dz-progress").hide(),this._filePreviewData?(this.$previewEl.addClass("dz-image-preview").removeClass("dz-file-preview"),this.$previewEl.find("[data-dz-thumbnail]").attr("src",this._filePreviewData)):this.$previewEl.find("[data-dz-thumbnail]").hide(),this._$el.find(".dz-default.dz-message").hide(),this._$el.find(".dropzone").append(this.$previewEl))},removePreviewElement:function(){this.$previewEl&&(this.$previewEl.remove(),this.$previewEl=null)},hasResponD}})}.apply(t,n))&&(e.exports=rls},function(e,t,i){e.exports={default:i(596),__esModule:!e}},function(e,t,i){e.exports={default:i(616),__esModule:!)}},,,))},function(e,t){function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var r=i(286);e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";var n=i(540),r=i.n(n),a=i(230),o=i.n(at)};t.a=s},function(e,t,i){"use strict";(function i}t.a=n;var r=i(230),a=i.n(r")}}).call(t,i(319).Buffe))},function(e,tnction l(e,t){function i(){}var n=e.prototype;n instanceof t||(i.prototype=t.prototype,i=new i,u(n,i),e.prototype=n=i),n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor,i}function d}}function p}function y(){}function bion R(e){return e&&e.nodeType===b.DOCUMENT_TYPE_NODE}function I(e){return e&&e.nodeType===b.ELEMENT_N)}function O(e,t){function i(e){return I(e)&&e!==t}var n=e.childNodes||[];if(se(n,i))return!1;var r=se(n,R);return!(t&&r&&n.indexOf(r)>n.indexOf(}}function B(e,t=i}var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===b.DOCUMENT_FRAGMENT_NODE){var o=a.filter(I);if(o.length>1||se(a,P))throw new c(ke,"More than one element or text in fragment");if(1===o.length&&!O(e,i))throw new c(ke,"Element in fragment can not be inserted before doctype")}if(I(t)&&!O(e,i))throw new c(ke,"Only one element can be added and only after doctype");if(R(t)){if(se(r,n))throw new c(ke,"Only one doctype is allowed");var s=se(r,I);if(i&&r.indexOf(s)<r.indexOf(i))throw new c(ke,"Doctype can only be inserted before an elementt}function j(){this._nsMap={}}function F(){}function V(){}function q(){}function z(){}function H(){}function W(){}function G(){}function Y(){}function $(){}function X(){}function Q(){}function K}function te(e,t,i,n,r){if(r||(r=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case ce:var a=e.attributes,o=a.length,s=e.firstChild,u=e.tagName;i=ue.isHTML(e.namespaceURI)||i;var l=u;if(!i&&!e.prefix&&e.namespaceURI){for(var c,d=0;d<a.length;d++)if("xmlns"===a.item(d).name){c=a.item(d).value;break}if(!c)for(var h=r.length-1;h>=0;h--){var f=r[h];if(""===f.prefix&&f.namespace===e.namespaceURI){c=f.namespace;break}}if(c!==e.namespaceURI)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.namespace===e.namespaceURI){f.prefix&&(l=f.prefix+":"+u);break}}}t.push("<",l);for(var p=0;p<o;p++){var m=a.item(p);"xmlns"==m.prefix?r.push({prefix:m.localName,namespace:m.value}):"xmlns"==m.nodeName&&r.push({prefix:"",namespace:m.value})}for(var p=0;p<o;p++){var m=a.item(p);if(Z(m,i,r)){var g=m.prefix||"",v=m.namespaceURI;ee(t,g?"xmlns:"+g:"xmlns",v),r.push({prefix:g,namespace:v})}te(m,t,i,n,r)}if(u===l&&Z(e,i,r)){var g=e.prefix||"",v=e.namespaceURI;ee(t,g?"xmlns:"+g:"xmlns",v),r.push({prefix:g,namespace:v})}if(s||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),i&&/^script$/i.test(u))for(;s;)s.data?t.push(s.data):te(s,t,i,n,r.slice()),s=s.nextSibling;else for(;s;)te(s,t,i,n,r.slice()),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case ye:case _e:for(var s=e.firstChild;s;)te(s,t,i,n,r.slice()),s=s.nextSibling;return;case de:return ee(t,e.name,e.value);case he:return t.push(e.data.replace(/[<&]/g,_).replace(/]]>/g,"]]&gt;"));case fe:return t.push("<![CDATA[",e.data,"]]>");case ve:return t.push("\x3c!--",e.data,"--\x3e");case be:var y=e.publicId,b=e.systemId;if(t.push("<!DOCTYPE ",e.name),y)t.push(" PUBLIC ",y),b&&"."!=b&&t.push(" ",b),t.push(">");else if(b&&"."!=b)t.push(" SYSTEM ",b,">");else{var T=e.internalSubset;T&&t.push(" [",T,"]"),t.push(">")}return;case ge:return t.push("<?",e.target," ",e.data,"?>");case pe:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeNamvar oe=i(268),se=oe.find,ue=oe.NAMESPACE,le={},ce=le.ELEMENT_NODE=1,de=le.ATTRIBUTE_NODE=2,he=le.TEXT_NODE=3,fe=le.CDATA_SECTION_NODE=4,pe=le.ENTITY_REFERENCE_NODE=5,me=le.ENTITY_NODE=6,ge=le.PROCESSING_INSTRUCTION_NODE=7,ve=le.COMMENT_NODE=8,ye=le.DOCUMENT_NODE=9,be=le.DOCUMENT_TYPE_NODE=10,_e=le.DOCUMENT_FRAGMENT_NODE=11,Te=le.NOTATION_NODE=12,we={},Ee={},ke=(we.INDEX_SIZE_ERR=(Ee[1]="Index size error",1),we.DOMSTRING_SIZE_ERR=(Ee[2]="DOMString size error",2),we.HIERARCHY_REQUEST_ERR=(Ee[3]="Hierarchy request error",3)),Se=(we.WRONG_DOCUMENT_ERR=(Ee[4]="Wrong document",4),we.INVALID_CHARACTER_ERR=(Ee[5]="Invalid character",5),we.NO_DATA_ALLOWED_ERR=(Ee[6]="No data allowed",6),we.NO_MODIFICATION_ALLOWED_ERR=(Ee[7]="No modification allowed",7),we.NOT_FOUND_ERR=(Ee[8]="Not found",8)),Ce=(we.NOT_SUPPORTED_ERR=(Ee[9]="Not supported",9),we.INUSE_ATTRIBUTE_ERR=(Ee[10]="Attribute in use",10));we.INVALID_STATE_ERR=(Ee[11]="Invalid state",11),we.SYNTAX_ERR=(Ee[12]="Syntax error",12),we.INVALID_MODIFICATION_ERR=(Ee[13]="Invalid modification",13),we.NAMESPACE_ERR=(Ee[14]="Invalid namespace",14),we.INVALID_ACCESS_ERR=(Ee[15]="Invalid access",15);c.prototype=Error.prototype,u(we,c),d.prototype={length:0,ill},toStr")},filter:function(e){return Array.prototype.filter.call(this,e)},indee)}},h.prototype.ill},l(h,d),p.prototype={length:0,item:d.prototype.item,getNamedIi}},setNamedI,i},setNamedIte,t},removeNamedI,t},removeNamedIte,i},getNamedItell}},y.prototype={hasFeat!0},createDocum n},createDocumentT,n}},b.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceCht)},removeChe)},appendChl)},hasChildNold},cloneNe)},normal)}},isSupport)},hasAttribu>0},lookupPrell},lookupNamespacell},isDefaultNamespe)}},u(le,b),u(le,b.prototype),w.prototype={nodeName:"#document",nodeType:ye,doctype:null,documentElement:null,_inc:1,insertBef,e},removeChe)},replaceChe)},importNt)},getElementB,t},getElementsByClassN})},createElem,t},createDocumentFragm,e},createTextNode:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASect,t},createProcessingInstruct,i},createAttrib,t},createEntityRefere,t},createElemen,i},createAttribut,i}},l(w,b),j.prototype={nodeType:ce,hasAttribe)},getAttrib""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribi)},removeAttribt)},appendChe)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNode)},removeAttributeNe)},removeAttributi)},hasAttributt)},getAttribut""},setAttributn)},getAttributeNodt)},getElementsByTagN})},getElementsByTagNam})}},w.prototype.getElementsByTagName=j.prototype.getElementsByTagName,w.prototype.getElementsByTagNameNS=j.prototype.getElementsByTagNameNS,l(j,b),F.prototype.nodeType=de,l(F,b),V.prototype={data:"",substringDt)},appendDth},insertDt)},appendCh])},deleteD")},replaceDth}},l(V,b),q.prototype={nodeName:"#text",nodeType:he,splitT,n}},l(q,V),z.prototype={nodeName:"#comment",nodeType:ve},l(z,V),H.prototype={nodeName:"#cdata-section",nodeType:fe},l(H,V),W.prototype.nodeType=be,l(W,b),G.prototype.nodeType=Te,l(G,b),Y.prototype.nodeType=me,l(Y,b),$.prototype.nodeType=pe,l($,b),X.prototype.nodeName="#document-fragment",X.prototype.nodeType=_e,l(X,b),Q.prototype.nodeType=ge,l(Q,b),K.prototype.serializeToStri)},b.prototype.toString=J;try{Object.defineProperty&&(Object.defineProperty(h.prototype,"length",{th}}),Object.defineProperty(b.prototype,"textContent",{s)},e}}})=i})}catch(e){}t.DocumentType=W,t.DOMException=c,t.DOMImplementation=y,t.Element=j,t.Node=b,t.NodeList=d,t.XMLSerializer=K},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(238),r=Object(n.j)([73,68,51]),a=function(e,t){void 0===t&&(t=0),e=Object(n.j)(e);var i=e[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&i)>>4?r+20:r+10},o=function e(t,i){return void 0===i&&(i=0),t=Object(n.j)(t),t.length-i<10||!Object(n.a)(t,r,{offset:i})?i:(i+=a(t,i),e(t,i))}},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a}),i.d(t,"c",function(){return o});var n=i(238),r=function(e){var t="",i=e[1]>>>3,r=31&e[1],a=e[2]>>>7,o=(64&e[2])>>6,s=(32&e[2])>>5,u=(16&e[2])>>4,l=(8&e[2])>>3,c=(4&e[2])>>2,d=3&e[2];t+=i+"."+Object(n.f)(r,2,"0"),0===a?t+="M":1===a&&(t+="H");var h;return h=2===i&&o?s?12:10:o?10:8,t+="."+Object(n.f)(h,2,"0"),t+="."+u,t+="."+l+c+d},a=function(e){return""+Object(n.i)(e[1])+Object(n.i)(252&e[2])+Object(n.i)(e[3])},o=function(e){var t="",i=e[1]>>6,r=31&e[1],a=(32&e[1])>>5,o=e.subarray(2,6),s=e.subarray(6,12),u=e[12];1===i?t+="A":2===i?t+="B":3===i&&(t+="C"),t+=r+".";var l=parseInt(Object(n.h)(o).split("").reverse().join(""),2);l>255&&(l=parseInt(Object(n.h)(o),2)),t+=l.toString(16)+".",t+=0===a?"L":"H",t+=u;for(var c="",d=0;d<s.length;d++){var h=s[d];h&&(c&&(c+="."),c+=h.toString(16))}return c&&(t+="."+c),t}},function(e,t,i){e.exports={default:i(561),__esModule:!y}},function(e,t,i){e.exports={default:i(581),__esModule:!0}},function(e,t,i){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}var r,a,o,s=i(323),u=n(s),l=i(591),c=n(l),d=i(336),h=n(d),f=i(301),p=n(f),m=i(338),g=n(m),v=i(269),y=n(v),b=i(272),_=n(b),T=i(251),w=n(T),E=i(252),k=n(E),S=i(339),C=n(S),A=i(602),x=n(A),R=i(253),I=n(R),P=i(256),D=n(P),O=i(306),L=n(O),M=i(245),B=n(M),U=i(242),N=n(U);!function(i,n){"object"===(0,N.default)(t)&&"object"===(0,N.default)(e)?e.exports=n():(a=[],r=n,void 0!==(o="function"==typeof r?r.apply(t,a):r)&&(e.exports=o))}(self,function(){return functiots}var t={"./src/drawer.canvasentry.js":function(e,tObject.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("./src/util/style.js")),u=n(i("./src/util/get-id.js")),l=function(){function e(){r(this,e),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,u.default)(void 0!==this.constructor.name?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return o(e,[{key:"initWave",value:function(e){this.wave=e,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",vas)}},{key:"updateDimensions",va))}},{key:"clearWave",vat)}},{key:"setFillStyles",va))}},{key:"getFillStyle",va,i}},{key:"applyCanvasTransforms",va))}},{key:"fillRects",var)}},{key:"fillRectToContext",va))}},{key:"drawRoundedRect",value:function(e,t,i,n,r,a){0!==r&&(r<0&&(r*=-1,i-=r),e.beginPath(),e.moveTo(t+a,i),e.lineTo(t+n-a,i),e.quadraticCurveTo(t+n,i,t+n,i+a),e.lineTo(t+n,i+r-a),e.quadraticCurveTo(t+n,i+r,t+n-a,i+r),e.lineTo(t+a,i+r),e.quadraticCurveTo(t,i+r,t,i+r-a),e.lineTo(t,i+a),e.quadraticCurveTo(t,i,t+a,i),e.closePath(),e.fill())}},{key:"drawLines",vaa)}},{key:"drawLineToContext",value:function(e,t,i,n,r,a,o){if(e){var s=t.length/2,u=Math.round(s*this.start),l=Math.round(s*this.end)+1,c=u,d=l,h=this.wave.width/(d-c-1),f=n+r,p=i/n;e.beginPath(),e.moveTo((c-u)*h,f),e.lineTo((c-u)*h,f-Math.round((t[2*c]||0)/p));var m,g,v;for(m=c;m<d;m++)g=t[2*m]||0,v=Math.round(g/p),e.lineTo((m-u)*h+this.halfPixel,f-v);var y=d-1;for(y;y>=c;y--)g=t[2*y+1]||0,v=Math.round(g/p),e.lineTo((y-u)*h+this.halfPixel,f-v);e.lineTo((c-u)*h,f-Math.round((t[2*c+1]||0)/p)),e.closePath(),e.fill()}}},{key:"destroy",vall}},{key:"getImage",value:function(e,t,i){var n=this;return"blob"===i?new L.defat)}):"dataURL"===i?this.wave.toDataURL(e,t):void 0}}]),e}();t.default=l,e.exports=t.default},"./src/drawer.js":function(e,t,i){function n(e){"@babel/helpers - typeof";return(n="function"==typeof D.default&&"symbol"==(0,N.default)(I.default)?function(e){return void 0===e?"undefined":(0,N.default)(e)}:function(e){return e&&"function"==typeof D.default&&e.constructor===D.default&&e!==D.default.prototype?"symbol":void 0===e?"undefined":(0,N.default)(e)})(e)}function r(e){if("function"!=typeof x.default)return null;var t=new x.default,i=new x.default;return(r=function(e){return e?i:t})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,k.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=w.default?w.default.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=f();return function(){var i,n=p(e);if(t){var r=p(this).constructor;i=(0,_.default)(n,arguments,r)}else i=n.apply(this,arguments);return d(this,i)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!_.default)return!1;if(_.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,_.default)(Boolean,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=w.default?y.default.bind():function(e){return e.__proto__||(0,y.default)(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=r(t);if(i&&i.has(e))return i.get(e);var a={},o=B.default&&C.default;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?(0,C.default)(e,s):null;u&&(u.get||u.set)?(0,B.default)(a,s,u):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a}(i("./src/util/index.js")),g=function(e){function t(e,n){var r;return a(this,t),r=i.call(this),r.container=m.withOrientation(e,n.vertical),r.params=n,r.width=0,r.height=n.height*r.params.pixelRatio,r.lastPos=0,r.wrapper=null,r}u(t,e);var i=c(t);return s(t,[{key:"style",value:function(e,t){return m.style(e,t)}},{key:"createWrapper",va()}},{key:"handleEvent",va1)}},{key:"getProgressPixels",vaft}},{key:"setupWrapperEvents",va})}},{key:"drawPeaks",van)}},{key:"resetScroll",va0)}},{key:"recenter",va0)}},{key:"recenterOnPosition",value:function(e,t){var i=this.wrapper.scrollLeft,n=~~(this.wrapper.clientWidth/2),r=this.wrapper.scrollWidth-this.wrapper.clientWidth,a=e-n,o=a-i;if(0!=r){if(!t&&-n<=o&&o<n){var s=this.params.autoCenterRate;s/=n,s*=r,o=Math.max(-s,Math.min(s,o)),a=i+o}a=Math.max(0,Math.min(r,a)),a!=i&&(this.wrapper.scrollLeft=a)}}},{key:"getScrollX",va e}},{key:"getWidth",vao)}},{key:"setWidth",va!0}},{key:"setHeight",va0)}},{key:"progress",va)}}},{key:"destroy",val)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,i,n){}},{key:"drawWave",va){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}]),t}(m.Observer);t.default=g,e.exports=t.default},"./src/drawer.multicanvas.js":function(e,t,i){function n(e){"@babel/helpers - typeof";return(n="function"==typeof D.default&&"symbol"==(0,N.default)(I.default)?function(e){return void 0===e?"undefined":(0,N.default)(e)}:function(e){return e&&"function"==typeof D.default&&e.constructor===D.default&&e!==D.default.prototype?"symbol":void 0===e?"undefined":(0,N.default)(e)})(e)}function r(e){if("function"!=typeof x.default)return null;var t=new x.default,i=new x.default;return(r=function(e){return e?i:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function u(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,k.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return(c=w.default?w.default.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=p();return function(){var i,n=m(e);if(t){var r=m(this).constructor;i=(0,_.default)(n,arguments,r)}else i=n.apply(this,arguments);return h(this,i)}}function h(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!_.default)return!1;if(_.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,_.default)(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=w.default?y.default.bind():function(e){return e.__proto__||(0,y.default)(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var g=a(i("./src/drawer.js")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=r(t);if(i&&i.has(e))return i.get(e);var a={},o=B.default&&C.default;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?(0,C.default)(e,s):null;u&&(u.get||u.set)?(0,B.default)(a,s,u):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a}(i("./src/util/index.js")),b=a(i("./src/drawer.canvasentry.js")),T=function(e){function t(e,n){var r;return o(this,t),r=i.call(this,e,n),r.maxCanvasWidth=n.maxCanvasWidth,r.maxCanvasElementWidth=Math.round(n.maxCanvasWidth/n.pixelRatio),r.hasProgressCanvas=n.waveColor!=n.progressColor,r.halfPixel=.5/n.pixelRatio,r.canvases=[],r.progressWave=null,r.EntryClass=b.default,r.canvasContextAttributes=n.drawingContextAttributes,r.overlap=2*Math.ceil(n.pixelRatio/2),r.barRadius=n.barRadius||0,r.vertical=n.vertical,r}l(t,e);var i=d(t);return u(t,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",va()}},{key:"updateCursor",va})}},{key:"updateSize",va})}},{key:"addCanvas",vae)}},{key:"removeCanvas",va()}},{key:"updateDimensions",va})}},{key:"clearWave",va()}},{key:"drawBars",value:function(e,t,i,n){var r=this;return this.prepareDraw(e,t,i,n,function(e){var t=e.absmax,a=e.hasMinVals,o=(e.height,e.offsetY),s=e.halfH,u=e.peaks,l=e.channelIndex;if(void 0!==i){var c=a?2:1,d=u.length/c,h=r.params.barWidth*r.params.pixelRatio,f=null===r.params.barGap?Math.max(r.params.pixelRatio,~~(h/2)):Math.max(r.params.pixelRatio,r.params.barGap*r.params.pixelRatio),p=h+f,m=d/r.width,g=i,v=n,y=g;for(y;y<v;y+=p){var b=0,_=Math.floor(y*m)*c,T=Math.floor((y+p)*m)*c;do{var w=Math.abs(u[_]);w>b&&(b=w),_+=c}while(_<T);var E=Math.round(b/t*s);r.params.barMinHeight&&(E=Math.max(E,r.params.barMinHeight)),r.fillRect(y+r.halfPixel,s-E+o,h+r.halfPixel,2*E,r.barRadius,l)}}})}},{key:"drawWave",value:function(e,t,i,n){var r=this;return this.prepareDraw(e,t,i,n,function(e){var t=e.absmax,a=e.hasMinVals,o=(e.height,e.offsetY),s=e.halfH,u=e.peaks,l=e.channelIndex;if(!a){var c=[],d=u.length,h=0;for(h;h<d;h++)c[2*h]=u[h],c[2*h+1]=-u[h];u=c}void 0!==i&&r.drawLine(u,t,s,o,i,n,l),r.fillRect(0,s+o-r.halfPixel,r.width,r.halfPixel,r.barRadius,l)})}},{key:"drawLine",va})}},{key:"fillRect",value:function(e,t,i,n,r,a){var o=Math.floor(e/this.maxCanvasWidth),s=Math.min(Math.ceil((e+i)/this.maxCanvasWidth)+1,this.canvases.length),u=o;for(u;u<s;u++){var l=this.canvases[u],c=u*this.maxCanvasWidth,d={x1:Math.max(e,u*this.maxCanvasWidth),y1:t,x2:Math.min(e+i,u*this.maxCanvasWidth+l.wave.width),y2:t+n};if(d.x1<d.x2){var h=this.params.splitChannelsOptions.channelColors[a]||{},f=h.waveColor,p=h.progressColor;this.setFillStyles(l,f,p),this.applyCanvasTransforms(l,this.params.vertical),l.fillRects(d.x1-c,d.y1,d.x2-d.x1,d.y2-d.y1,r)}}}},{key:"hideChannel",vae)}},{key:"prepareDraw",value:function(e,t,i,n,r,a,o){var s=this;return v.frame(function(){if(e[0]instanceof Array){var u=e;if(s.params.splitChannels){var l=u.filt)});s.params.splitChannelsOptions.overlay||s.setHeight(Math.max(l.length,1)*s.params.height*s.params.pixelRatio);var c;return s.params.splitChannelsOptions&&s.params.splitChannelsOptions.relativeNormalization&&(c=v.max(u.map(function(e){return v.absMax(e)}))),u.forEc)})}e=u[0]}if(!s.hideChannel(t)){var d=1/s.params.barHeight;s.params.normalize&&(d=void 0===o?v.absMax(e):o);var h=[].some.cal<0}),f=s.params.height*s.params.pixelRatio,p=f/2,m=f*a||0;return s.params.splitChannelsOptions&&s.params.splitChannelsOptions.overlay&&(m=0),r({absmax:d,hasMinVals:h,height:f,offsetY:m,halfH:p,peaks:e,channelIndex:t})}})()}},{key:"setFillStyles",vai)}},{key:"applyCanvasTransforms",vat)}},{key:"getImage",value:function(e,t,i){if("blob"===i)return L.default.all(this.canvases.map(function(n){return n.getImage(e,t,i)}));if("dataURL"===i){var n=this.canvases.i)});return n.length>1?n:n[0]}}},{key:"updateProgress",va})}}]),t}(g.default);t.default=T,e.exports=t.default},"./src/mediaelement-webaudio.js":function(e,t,i){function n(e){"@babel/helpers - typeof";return(n="function"==typeof D.default&&"symbol"==(0,N.default)(I.default)?function(e){return void 0===e?"undefined":(0,N.default)(e)}:function(e){return e&&"function"==typeof D.default&&e.constructor===D.default&&e!==D.default.prototype?"symbol":void 0===e?"undefined":(0,N.default)(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(){return s="undefined"!=typeof Reflect&&g.default?g.default.bind():function(e,t,i){var n=u(e,t);if(n){var r=(0,C.default)(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},s.apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,k.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return(c=w.default?w.default.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=p();return function(){var i,n=m(e);if(t){var r=m(this).constructor;i=(0,_.default)(n,arguments,r)}else i=n.apply(this,arguments);return h(this,i)}}function h(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!_.default)return!1;if(_.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,_.default)(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=w.default?y.default.bind():function(e){return e.__proto__||(0,y.default)(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var v=function(e){return e&&e.__esModule?e:{default:e}}(i("./src/mediaelement.js")),b=function(e){function t(e){var n;return r(this,t),n=i.call(this,e),n.params=e,n.sourceMediaElement=null,n}l(t,e);var i=d(t);return o(t,[{key:"init",va()}},{key:"_load",vae)}},{key:"createMediaElementSource",var)}},{key:"play",vai)}},{key:"destroy",va()}}]),t}(v.default);t.default=b,e.exports=t.default},"./src/mediaelement.js":function(e,t,i){function n(e){"@babel/helpers - typeof";return(n="function"==typeof D.default&&"symbol"==(0,N.default)(I.default)?function(e){return void 0===e?"undefined":(0,N.default)(e)}:function(e){return e&&"function"==typeof D.default&&e.constructor===D.default&&e!==D.default.prototype?"symbol":void 0===e?"undefined":(0,N.default)(e)})(e)}function r(e){if("function"!=typeof x.default)return null;var t=new x.default,i=new x.default;return(r=function(e){return e?i:t})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(){return u="undefined"!=typeof Reflect&&g.default?g.default.bind():function(e,t,i){var n=l(e,t);if(n){var r=(0,C.default)(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},u.apply(this,argumen e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,k.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=w.default?w.default.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=v();return function(){var i,n=b(e);if(t){var r=b(this).constructor;i=(0,_.default)(n,arguments,r)}else i=n.apply(this,arguments);return f(this,i)}}function f(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!_.default)return!1;if(_.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,_.default)(Boolean,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=w.default?y.default.bind():function(e){return e.__proto__||(0,y.default)(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var T=function(e){return e&&e.__esModule?e:{default:e}}(i("./src/webaudio.js")),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=r(t);if(i&&i.has(e))return i.get(e);var a={},o=B.default&&C.default;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?(0,C.default)(e,s):null;u&&(u.get||u.set)?(0,B.default)(a,s,u):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a}(i("./src/util/index.js")),S=function(e){function t(e){var n;return a(this,t),n=i.call(this,e),n.params=e,n.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},n.mediaType=e.mediaType.toLowerCase(),n.elementPosition=e.elementPosition,n.peaks=null,n.playbackRate=1,n.volume=1,n.isMuted=!1,n.buffer=null,n.onPlayEnd=null,n.mediaListeners={},n}c(t,e);var i=h(t);return s(t,[{key:"init",va()}},{key:"_setupMediaListeners",value:function(){var e=this;this.mediaListeners.er")},this.mediaListeners.canplay=function(){e.fireEvent("canplay")},this.mediaListeners.ended=function(){e.fireEvent("finish")},this.mediaListeners.play=function(){e.fireEvent("play")},this.mediaListeners.pause=function(){e.fireEvent("pause")},this.mediaListeners.see")},this.mediaListeners.volumecha")},(0,p.default)(this.mediaListeners).forE])})}},{key:"createTimer",value:function(){var e=thi))};this.on("play",t),this.on("pau))})}},{key:"load",van)}},{key:"loadElt",vad)}},{key:"_load",vae)}},{key:"isPaused",vaed}},{key:"getDuration",va,e}},{key:"getCurrentTime",vame}},{key:"getPlayedPercents",va|0}},{key:"getPlaybackRate",vate}},{key:"setPlaybackRate",vate}},{key:"seekTo",va()}},{key:"play",va,i}},{key:"pause",va,e}},{key:"setPlayEnd",vad)}},{key:"clearPlayEnd",val)}},{key:"getPeaks",va[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):L.default.reject(new Error("setSinkId is not supported in your browser")):L.default.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",vae)}},{key:"setMute",va=e}},{key:"destroy",value:function(){var e=this;this.pause(),this.unAll(),this.destroyed=!0,(0,p.default)(this.mediaListeners).forE])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),t}(T.default);t.default=S,e.exports=t.default},"./src/peakcache.js":function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=functio()}return r(e,[{key:"clearPeakCache",va-1}},{key:"addRangeToPeakCache",va a}},{key:"getCacheRanges",va t}}]),e}();t.default=a,e.exports=t.default},"./src/util/absMax.js":function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,a.default)(e),i=(0,o.default)(e);return-i>t?-i:t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(i("./src/util/max.js")),o=n(i("./src/util/min.js"));e.exports=t.default},"./src/util/clamp.js":function(ei)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},"./src/util/fetch.js":function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function a(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){if(!e)throw new Error("fetch options missing");if(!e.url)throw new Error("fetch url missing");var t=new s.default,i=new Headers,n=new Request(e.url);t.controller=new AbortController,e&&e.requestHeaders&&e.requestHeaders.forEe)});var r=e.responseType||"json",a={method:e.method||"GET",headers:i,mode:e.mode||"cors",credentials:e.credentials||"same-origin",cache:e.cache||"default",redirect:e.redirect||"follow",referrer:e.referrer||"client",signal:t.controller.signal};return fetch(n,a).t:e}).tt)}).then(function(e){t.fireEvent("success",e)}).cae)}),t.fetchRequest=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=function(e){return e&&e.__esModule?e:{default:e}}(i("./src/util/observer.js")),u=function(){function e(t,i,r){n(this,e),this.instance=t,this.instance._reader=r.body.getReader(),this.total=parseInt(i,10),this.loaded=0}return a(e,[{key:"start",va()}}]),e}();e.exports=t.default},"./src/util/frame.js":function(e,t,i){function n(e){ret})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=function(e){return e&&e.__esModule?e:{default:e}}(i("./src/util/request-animation-frame.js"));e.exports=t.default},"./src/util/get-id.js":function(e,t){function i(e){return void 0===e&&(e="wavesurfer_"),e+Math.random().toString(32).substring(2)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},"./src/util/index.js":function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"absMax",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"clamp",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getId",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ignoreSilenceMode",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"max",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"min",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"preventClick",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"style",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withOrientation",{enumerable:!0,get:function(){return g.default}});var r=n(i("./src/util/get-id.js")),a=n(i("./src/util/max.js")),o=n(i("./src/util/min.js")),s=n(i("./src/util/absMax.js")),u=n(i("./src/util/observer.js")),l=n(i("./src/util/style.js")),c=n(i("./src/util/request-animation-frame.js")),d=n(i("./src/util/frame.js")),h=n(i("./node_modules/debounce/index.js")),f=n(i("./src/util/prevent-click.js")),p=n(i("./src/util/fetch.js")),m=n(i("./src/util/clamp.js")),g=n(i("./src/util/orientation.js")),v=n(i("./src/util/silence-mode.js"))},"./src/util/max.js":function(e,t){function i(e){var t=-1/0;return(0,p.default)(e).forE])}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},"./src/util/min.js":function(e,t){function i(e){var t=Number(1/0);return(0,p.default)(e).forE])}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},"./src/util/observer.js":function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=functioll}return r(e,[{key:"on",va}}}},{key:"un",va0}}},{key:"unAll",vall}},{key:"once",value:function(e,t){var i=thi0)};return this.on(e,n)}},{key:"setDisabledEventEmissions",value:function(e){this._disabledEventEmissions=e}},{key:"_isDisabledEventEmission",vae)}},{key:"fireEvent",va)}}}]),e}();t.default=a,e.exports=t.default},"./src/util/orientation.js":function(e:e}function n(e,t){return e[a]?e:new Proxy(e,{:s},!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"},a=(0,D.default)("isProxy");e.exports=t.default},"./src/util/prevent-click.js":function(e0)}function n(e){document.body.addEventListener("click",i,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},"./src/util/request-animation-frame.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFra0)}).bind(window);t.default=i,e.exports=t.default},"./src/util/silence-mode.js":function(e,t){function i(){var e=document.createElement("div");e.innerHTML='<audio x-webkit-airplay="deny"></audio>';var t=e.children.item(0);t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",t.preload="auto",t.type="audio/mpeg",t.disableRemotePlayback=!0,t.play(),t.remove(),e.remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},"./src/util/style.js":function(e,t){function i(e,t){return(0,p.default)(t).forE])}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},"./src/wavesurfer.js":function(e,t,i){function n(e){"@babel/helpers - typeof";return(n="function"==typeof D.default&&"symbol"==(0,N.default)(I.default)?function(e){return void 0===e?"undefined":(0,N.default)(e)}:function(e){return e&&"function"==typeof D.default&&e.constructor===D.default&&e!==D.default.prototype?"symbol":void 0===e?"undefined":(0,N.default)(e)})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof x.default)return null;var t=new x.default,i=new x.default;return(a=function(e){return e?i:t})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,k.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return(s=w.default?w.default.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=m();return function(){var i,n=g(e);if(t){var r=g(this).constructor;i=(0,_.default)(n,arguments,r)}else i=n.apply(this,arguments);return d(this,i)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!_.default)return!1;if(_.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,_.default)(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=w.default?y.default.bind():function(e){return e.__proto__||(0,y.default)(e)})(e)}function v(e,t,i){return t in e?(0,B.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function E(e,t,i){return t&&T(e.prototype,t),i&&T(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=a(t);if(i&&i.has(e))return i.get(e);var r={},o=B.default&&C.default;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?(0,C.default)(e,s):null;u&&(u.get||u.set)?(0,B.default)(r,s,u):r[s]=e[s]}return r.default=e,i&&i.set(e,r),r}(i("./src/util/index.js")),A=r(i("./src/drawer.multicanvas.js")),R=r(i("./src/webaudio.js")),P=r(i("./src/mediaelement.js")),O=r(i("./src/peakcache.js")),M=r(i("./src/mediaelement-webaudio.js")),U=function(e){function t(e){var n;if(b(this,t),n=i.call(this),v(f(n),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:A.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1,splitDragSelection:!1},vertical:!1,waveColor:"#999",xhr:{}}),v(f(n),"backends",{MediaElement:P.default,WebAudio:R.default,MediaElementWebAudio:M.default}),v(f(n),"util",S),n.params=(0,h.default)({},n.defaultParams,e),n.params.splitChannelsOptions=(0,h.default)({},n.defaultParams.splitChannelsOptions,e.splitChannelsOptions),n.container="string"==typeof e.container?document.querySelector(n.params.container):n.params.container,!n.container)throw new Error("Container element not found");if(null==n.params.mediaContainer?n.mediaContainer=n.container:"string"==typeof n.params.mediaContainer?n.mediaContainer=document.querySelector(n.params.mediaContainer):n.mediaContainer=n.params.mediaContainer,!n.mediaContainer)throw new Error("Media Container element not found");if(n.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(n.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===n.params.rtl&&(!0===n.params.vertical?S.style(n.container,{transform:"rotateX(180deg)"}):S.style(n.container,{transform:"rotateY(180deg)"})),n.params.backgroundColor&&n.setBackgroundColor(n.params.backgroundColor),n.savedVolume=0,n.isMuted=!1,n.tmpEvents=[],n.currentRequest=null,n.arraybuffer=null,n.drawer=null,n.backend=null,n.peakCache=null,"function"!=typeof n.params.renderer)throw new Error("Renderer parameter is invalid");n.Drawer=n.params.renderer,"AudioElement"==n.params.backend&&(n.params.backend="MediaElement"),"WebAudio"!=n.params.backend&&"MediaElementWebAudio"!==n.params.backend||R.default.prototype.supportsWebAudio.call(null)||(n.params.backend="MediaElement"),n.Backend=n.backends[n.params.backend],n.initialisedPluginList={},n.isDestroyed=!1,n.isReady=!1;var r=0;return n._onResize=S.debou")},"number"==typeof n.params.responsive?n.params.responsive:100),d(n,f(n))}o(t,e);var i=l(t);return E(t,[{key:"init",vais}},{key:"registerPlugins",vais}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(e){var t=this;if(!e.name)throw new Error("Plugin does not have a name!");if(!e.instance)throw new Error("Plugin ".concat(e.name," does not have an instance property!"));e.staticProps&&(0,p.default)(e.staticProps).forEi]});var i=e.instance;return(0,c.default)(S.Observer.prototype).forEe]}),this[e.name]=new i(e.params||{},this),this.fireEvent("plugin-added",e.name),this}},{key:"initPlugin",vais}},{key:"destroyPlugin",vais}},{key:"destroyAllPlugins",value:function(){var e=this;(0,p.default)(this.initialisedPluginList).forEach(function(t){return e.destroyPlugin(t)})}},{key:"createDrawer",va})}},{key:"createBackend",va))}},{key:"createPeakCache",vat)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",va))}},{key:"play",vat)}},{key:"setPlayEnd",value:function(e){this.backend.setPlayEnd(e)}},{key:"pause",va()}},{key:"playPause",va()}},{key:"isPlaying",va()}},{key:"skipBackward",vah)}},{key:"skipForward",vah)}},{key:"skip",vat)}},{key:"seekAndCenter",vae)}},{key:"seekTo",vae)}},{key:"stop",va0)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",vae)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",vae)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",vad)}},{key:"setMute",value:function(e){if(e===this.isMuted)return void this.fireEvent("mute",this.isMuted);this.backend.setMute?(this.backend.setMute(e),this.isMuted=e):e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",va[]}},{key:"toggleScroll",va()}},{key:"toggleInteraction",vact}},{key:"getWaveColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[e]?this.params.splitChannelsOptions.channelColors[e].waveColor:this.params.waveColor}},{key:"setWaveColor",va()}},{key:"getProgressColor",vaor}},{key:"setProgressColor",va()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",va})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",va()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",va()}},{key:"setFilteredChannels",va()}},{key:"drawBuffer",value:function(){var e=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),t=this.drawer.getWidth(),i=e,n=0,r=Math.max(n+t,i);this.params.fillParent&&(!this.params.scrollParent||e<t)&&(i=t,n=0,r=i);var a;if(this.params.partialRender){var o,s=this.peakCache.addRangeToPeakCache(i,n,r);for(o=0;o<s.length;o++)a=this.backend.getPeaks(i,s[o][0],s[o][1]),this.drawer.drawPeaks(a,i,s[o][0],s[o][1])}else a=this.backend.getPeaks(i,n,r),this.drawer.drawPeaks(a,i,n,r);this.fireEvent("redraw",a,i)}},{key:"zoom",vae)}},{key:"loadArrayBuffer",va})}},{key:"loadDecodedBuffer",va")}},{key:"loadBlob",va()}},{key:"load",value:function(e,t,i,n){if(!e)throw new Error("url parameter cannot be empty");if(this.empty(),i){var r={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(i),"Peaks are not provided":!t,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!=typeof e},a=(0,p.default)(r).filter(function(e){return r[e]});a.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+a.join("\n\t- ")),i=null)}switch("WebAudio"===this.params.backend&&e instanceof HTMLMediaElement&&(e=e.src),this.params.backend){case"WebAudio":return this.loadBuffer(e,t,n);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(e,t,i,n)}}},{key:"loadBuffer",va))}},{key:"loadMediaElement",va})}},{key:"decodeArrayBuffer",va))}},{key:"getArrayBuffer",value:function(e,t){var i=this,n=(0,h.default)({url:e,responseType:"arraybuffer"},this.params.xhr),r=S.fetchFile(n);return this.currentRequest=r,this.tmpEvents.push(r.on("progress",function(e){i.onProgress(e)}),r.on("succell}),r.on("errll})),r}},{key:"onProgress",vat)}},{key:"exportPCM",value:function(e,t,i,n,r){e=e||1024,n=n||0,t=t||1e4,i=i||!1;var a=this.backend.getPeaks(e,n,r),o=[].map.cal/t});return new L.default(function(e,t){if(!i){var n=new Blob([(0,u.default)(o)],{type:"application/json;charset=utf-8"}),r=URL.createObjectURL(n);window.open(r),URL.revokeObjectURL(r)}e(o)})}},{key:"exportImage",vai)}},{key:"cancelAjax",val)}},{key:"clearTmpEvents",va})}},{key:"empty",va0)}},{key:"destroy",vall}}],[{key:"create",va()}}]),t}(S.Observer);t.default=U,v(U,"VERSION","6.4.0"),v(U,"util",S),e.exports=t.default},"./src/webaudio.js":function(e,t,i){function n(e){"@babel/helpers - typeof";return(n="function"==typeof D.default&&"symbol"==(0,N.default)(I.defaue)}:function(e){return e&&"function"==typeof D.default&&e.constructor===D.default&&e!==D.default.prototype?"symbol":void 0===e?"undefined":(0,N.default)(e)})(e)}function r(e){if("function"!=typeof x.default)return null;var t=new x.default,i=new x.default;retur:t})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,B.default)(e,n.key,n)}}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,k.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(et)}function c(e){var t=f();return function(){var i,n=p(e);if(t){var r=p(this).constructor;i=(0,_.default)(n,arguments,r)}else i=n.apply(this,arguments);return d(this,e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");retur1}}function p(e){return(p=w.default?y.default.bine)}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var i=r(t);if(i&&i.has(e))return i.get(e);var a={},o=B.default&&C.default;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?(0,C.default)(e,s):null;u&&(u.get||u.set)?(0,B.default)(a,s,u):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a}(i("./src/util/index.js")),v="playing",b="paused",T="finished",E=function(e){function t(e){var n,r,o;return a(this,t),o=i.call(this),m(h(o),"audioContext",null),m(h(o),"offlineAudioContext",null),m(h(o),"stateBehaviors",(n={},m(n,v,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentT()}}),m(n,b,{init:function(){this.removeOnAudioProcess()},getPlayedPerce|0},getCurrentTime:function(){return this.startPosition}}),m(n,T,{i")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),n)),o.params=e,o.ac=e.audioContext||(o.supportsWebAudio()?o.getAudioContext():{}),o.lastPlay=o.ac.currentTime,o.startPosition=0,o.scheduledPause=null,o.states=(r={},m(r,v,(0,k.default)(o.stateBehaviors[v])),m(r,b,(0,k.default)(o.stateBehaviors[b])),m(r,T,(0,k.default)(o.stateBehaviors[T])),r),o.buffer=null,o.filters=[],o.gainNode=null,o.mergedPeaks=null,o.offlineAc=null,o.peaks=null,o.playbackRate=1,o.analyser=null,o.scriptNode=null,o.source=null,o.splitPeaks=[],o.state=null,o.explicitDuration=e.duration,o.sinkStreamDestination=null,o.sinkAudioElement=null,o.destroyed=!1,o}u(t,e);var i=c(t);return s(t,[{key:"supportsWebAudio",vat)}},{key:"getAudioContext",vaxt}},{key:"getOfflineAudioContext",vaxt}},{key:"init",va0)}},{key:"disconnectFilters",va))}},{key:"setState",va))}},{key:"setFilter",vat)}},{key:"setFilters",va))}},{key:"createScriptNode",van)}},{key:"addOnAudioProcess",va)}}},{key:"removeOnAudioProcess",vall}},{key:"createAnalyserNode",vae)}},{key:"createVolumeNode",van)}},{key:"setSinkId",value:function(e){return e?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(e)):L.default.reject(new Error("setSinkId is not supported in your browser"))):L.default.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",vae)}},{key:"getVolume",vaue}},{key:"decodeArrayBuffer",va})}},{key:"setPeaks",va=e}},{key:"setLength",va0}}},{key:"getPeaks",vaks}},{key:"getPlayedPercents",vas)}},{key:"disconnectSource",va()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",va()}},{key:"load",va()}},{key:"createSource",var)}},{key:"resumeAudioContext",va()}},{key:"isPaused",vav]}},{key:"getDuration",va:0}},{key:"seekTo",vat}}},{key:"getPlayedTime",vate}},{key:"play",va)}}},{key:"pause",va")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",vae)}},{key:"setPlayEnd",value:function(e){this.scheduledPause=e}}]),t}(g.Observer);t.default=E,m(E,"scriptBufferSize",256),e.exports=t.default},"./node_modules/debounce/index.js":function,l}t.debounce=t,e.exports=t}},i={};return e("./src/wavesurfer.js")}()})}).call(t,i(55)(e))},function(e,t,i){e.exports={default:i(594),__esModule:!:l},function(e,t,i){e.exports={default:i(598),__esModule:!0}},function(e,t,i){e.exports={default:i(600),__esModule:!e}},function(e,t,i){"use strict";(function(i,n){function r(e,t){function i(i){return t.disableLogs||console.log("RecordRTC version: ",y.version),i&&(t=new a(e,i)),t.disableLogs||console.log("started recording "+t.type+" stream."),v?(v.clearRecordedData(),v.record(),m("recording"),y.recordingDuration&&p(),y)()}),y)}function n(i){i&&(t.initCallbll});var n=new o(e,t);v=new n(e,t),v.record(),m("recording"),t.disableLogs||console.log("Initialized recorderType:",v.constructor.name,"for output-type:",t.type)}function s(e){function i(i){if(!v)return void("function"==typeof e.call?e.call(y,""):e(""));Object.keys(v).forE])});var n=v.blob;if(!n){if(!i)throw"Recording failed.";v.blob=n=i}if(n&&!t.disableLogs&&console.log(n.type,"->",u(n.size)),e){var r;try{r=I.createObjectURL(n)}catch(e){}"function"==typeof e.call?e.call(y,r):e(r)}t.autoWriteToDiski)})}return e=e||function(){},v?"paused"===y.state?(y.resumeRecording(),void setTimeout(function(){s(e)},1)):("recording"===y.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',y.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?v.stop(i):(v.stop(),i()),void m("stopped")):void g()}function c(){return v?"recording"!==y.state?void(t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",y.state)):(m("paused"),v.pause(),void(t.disableLogs||console.log("Paused recording."))):void g()}function d(){return v?"paused"!==y.state?void(t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",y.state)):(m("recording"),v.resume(),void(t.disableLogs||console.log("Resumed recording."))):void ))}function f(e,i){if(!e)throw"Pass a callback function over getDataURL.";var n=i?i.blob:(v||{}).blob;if(!n)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimei)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var r=new FileReader;r.readAsDataURL(n),r.onload=function(t){e(t.target.result)}}else{va{}}(h);a.onmessage=function(t){e(t.data)},a.postMessage(n)}}function p(e){if(e=e||0,"paused"===y.state)return void setTimeout(function(){p(e)},1e3);if("stopped"!==y.state){if(e>=y.recordingDuration)return void s(y.onRecordingStopped);e+=1e3,setTimeout(function(){p(e)},1e3)}}function m(e){y&&(y.state=e,"function"==typeof y.onStateChanged.call?y.onStateChanged.call(y,e):y.onStateChanged(e))}function g(){!0!==t.disableLogs&&console.warn(b)}if(!e)throw"First parameter is required.";t=t||{type:"video"},t=new a(e,t);var v,y=this,b='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.",_={startRecording:i,stopRecording:s,pauseRecording:c,resumeRecording:d,initRecorder:n,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return y.recordingDuration=e,y.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){y.onRecordingStopped=e}}},clearRecordedData:function(){if(!v)return void g();v.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){return v?v.blob:void g()},getDataURL:f,toURL:function(){return v?I.createObjectURL(v.blob):void g()},getInternalRecorder:function(){return v},save:function(e){if(!v)return void g();l(v.blob,e)},getFromDisk:function(e){if(!v)return void g();r.getFromDisk(t.type,e)},setAdvertisementAr})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==y.state||t.disableLogs||console.warn("Stop an active recorder."),v&&"function"==typeof v.clearRecordedData&&v.clearRecordedData(),v=null,m("inactive"),y.blob=null},onStateChane)},state:"inactive",getState:function(){return y.state},dest")},version:"5.6.6"};if(!this)return y=_,_;for(var T in _)this[T]=_[T];return y=this,_}function a(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===y||t.recorderType===v||void 0!==E&&t.recorderType===E?t.type="video":t.recorderType===b?t.type="gif":t.recorderType===g?t.type="audio":t.recorderType===m&&(d(e,"audio").length&&d(e,"video").length?t.type="video":!d(e,"audio").length&&d(e,"video").length?t.type="video":d(e,"audio").length&&!d(e,"video").length&&(t.type="audio"))),void 0!==m&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond||t.videoBitsPerSecond||t.audioBitsPerSecond||(t.mimeType&&t.mimeType.includes("vp9")?t.videoBitsPerSecond=6e5:t.videoBitsPerSecond=8e5,t.audioBitsPerSecond=48e3)),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function o(e,t){var i;return(L||P||D)&&(i=g),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!L&&(i=m),"video"===t.type&&(L||D)&&(i=y,void 0!==E&&"undefined"!=typeof ReadableStream&&(i=E)),"gif"===t.type&&(i=b),"canvas"===t.type&&(i=v),p()&&i!==v&&i!==b&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(d(e,"video").length||d(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(i=m):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(i=m)),e instanceof Array&&e.length&&(i=T),t.recorderType&&(i=t.recorderType),!t.disableLogs&&i&&i.name&&console.log("Using recorderType:",i.name||i.constructor.name),!i&&M&&(i=m),i}function s(e){this.addStrt)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,i=this.mediaType,n=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof i.audio&&p()&&!d(e,"audio").length&&(i.audio=!1),"function"!=typeof i.video&&p()&&!d(e,"video").length&&(i.video=!1),"function"!=typeof i.gif&&p()&&!d(e,"video").length&&(i.gif=!1),!i.audio&&!i.video&&!i.gif)throw"MediaStream must have either audio or video tracks.";if(i.audio&&(t=null,"function"==typeof i.audio&&(t=i.audio),this.audioRecorder=new r(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:n.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),i.video||this.audioRecorder.startRecording()),i.video){t=null,"function"==typeof i.video&&(t=i.video);var a=e;if(p()&&i.audio&&"function"==typeof i.audio){var o=d(e,"video")[0];O?(a=new B,a.addTrack(o),t&&t===y&&(t=m)):(a=new B,a.addTrack(o))}this.videoRecorder=new r(a,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:n.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),i.audio||this.videoRecorder.startRecording()}if(i.audio&&i.video){var s=this,u=!0===p();i.audio instanceof g&&i.video?u=!1:!0!==i.audio&&!0!==i.video&&i.audio!==i.video&&(u=!1),!0===u?(s.audioRecorder=null,s.videoRecorder.startRecording()):s.videoRecorder.initRecor})})}i.gif&&(t=null,"function"==typeof i.gif&&(t=i.gif),this.gifRecorder=new r(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:n.gif}),this.gifRecorder.startRecording())},this.stopRecord})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecord()},this.getB,t},this.destl)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var ))});n.onmessa)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}function i(e){var t,i=I.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(i);if(void 0!==I)t=I;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(i),n}this.getB})})},this.writeToD})},this.save=function(e){e=e||{audio:!0,video:!0,gif:!0},e.audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function u(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,i)).toPrecision(3)+" "+t[i]}function l(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var i=(e.type||"video/webm").split("/")[1];if(-1!==i.indexOf(";")&&(i=i.split(";")[0]),t&&-1!==t.indexOf(".")){var n=t.split(".");t=n[0],i=n[1]}var r=(t||Math.round(9999999999*Math.random())+888888888)+"."+i;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,r);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,r);var a=document.createElement("a");a.href=I.createObjectURL(e),a.download=r,a.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(a),"function"==typeof a.click?a.click():(a.target="_blank",a.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),I.revokeObjectURL(a.href)}function c(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===n||"object"!=typeof n.versions||!n.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>[]}function h(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function f(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var i=new EBML.Reader,n=new EBML.Decoder,r=EBML.tools,a=new FileReader;a.onload=function(e){n.decode(this.result).forEach(function(e){i.read(e)}),i.stop();var a=r.makeMetadataSeekable(i.metadatas,i.duration,i.cues),o=this.result.slice(i.metadataSize),s=new Blob([a,o],{type:"video/webm"});t(s)},a.readAsArrayBuffer(e)}function p(){if(O||M||P)return!0;var e,t,i=(navigator.appVersion,navigator.userAgent),n=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return(L||D)&&(e=i.indexOf("Chrome"),n=i.substring(e+7)),-1!==(t=n.indexOf(";"))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(" "))&&(n=n.substring(0,t)),r=parseInt(""+n,10),isNaN(r)&&(n=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),r>=49}function m(e,t){function i(){o.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(o.timestamps[o.timestamps.length-1],o.timestam]}function a(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}var o=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(t=t||{mimeType:"video/webm"},"audio"===t.type){if(d(e,"video").length&&d(e,"audio").length){var s;navigator.mozGetUserMedia?(s=new B,s.addTrack(d(e,"audio")[0])):s=new B(d(e,"audio")),e=s}t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=L?"audio/webm":"audio/ogg")}var l=[];this.getArrayOfBlobs=function(){return l},this.record=function(){o.blob=null,o.clearRecordedData(),o.timestamps=[],h=[],l=[];var r=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",r),c&&(c=null),L&&!p()&&(r="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&r.mimeType&&(MediaRecorder.isTypeSupported(r.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType),r.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{c=new MediaRecorder(e,r),t.mimeType=r.mimeType}catch(t){c=new MediaRecorder(e)}r.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in c&&!1===c.canRecordMimeType(r.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType)),c.ondataavailable=function(e){if(e.data&&h.push("ondataavailable: "+u(e.data.size)),"number"!=typeof t.timeSlice){if(!e.data||!e.data.size||e.data.size<100||o.blob)return void(o.recordingCallback&&(o.recordingCallback(new Blob([],{type:n(r)})),o.recordingCallback=null));o.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:n(r)}),o.recordingCallback&&(o.recordingCallback(o.blob),o.recordingCallback=null)}else if(e.data&&e.data.size&&(l.push(e.data),i(),"function"==typeof t.ondataavailable)){var a=t.getNativeBlob?e.data:new Blob([e.data],{type:n(r)});t.ondataavailable(a)}},c.onstart=function(){h.push("started")},c.onpause=function(){h.push("paused")},c.onresume=function(){h.push("resumed")},c.onstop=function(){h.push("stopped")},c.onerror=function(e){e&&(e.name||(e.name="UnknownError"),h.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",r.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!o.manuallyStopped&&c&&"inactive"===c.state)return delete t.timeslice,void c.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==c.state&&"stopped"!==c.state&&c.stop())},"number"==typeof t.timeSlice?(i(),c.start(t.timeSlice)):c.start(864e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},o.manuallyStopped=!0,c&&(this.recordingCallback=e,"recording"===c.state&&c.stop(),"number"==typeof t.timeSlice&&setTimeb)},100))},this.pause=function(){c&&"recording"===c.state&&c.pause()},this.res()},this.clearRecordedD()};var c;this.getInternalRecorder=function(){return c},this.blob=null,this.getState=function(){return c?c.state||"inactive":"inactive"};var h=[];this.getAllStates=function(){return h},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);var o=this;!function e(){if(c&&!1!==t.checkForInactiveTracks)return!1===a()?(t.disableLogs||console.log("MediaStream seems stopped."),void o.stop()):void setTimeout(e,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function g(e,t){function i(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function n(e,t){function i(e,t){function i(e,t,i){var r=Math.round(e.length*(t/i)),a=[],o=Number((e.length-1)/(r-1));a[0]=e[0];for(var s=1;s<r-1;s++){var u=s*o,l=Number(Math.floor(u)).toFixed(),c=Number(Math.ceil(u)).toFixed(),d=u-l;a[s]=n(e[l],e[c],d)}return a[r-1]=e[e.length-1}var o=e.numberOfAudioChannels,s=e.leftBuffers.slice(0),u=e.rightBuffers.slice(0),l=e.sampleRate,c=e.internalInterleavedLength,d=e.desiredSampRate;2===o&&(s=r(s,c),u=r(u,c),d&&(s=i(s,d,l),u=i(u,d,l))),1===o&&(s=r(s,c),d&&(s=i(s,d,l))),d&&(l=d);var h;2===o& n}(s,u)),1===o&&(h=s);var f=h.length,p=44+2*f,m=new ArrayBuffer(p),g=new DataView(m);a(g,0,"RIFF"),g.setUint32(4,36+2*f,!0),a(g,8,"WAVE"),a(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,o,!0),g.setUint32(24,l,!0),g.setUint32(28,l*o*2,!0),g.setUint16(32,2*o,!0),g.setUint16(34,16,!0),a(g,36,"data"),g.setUint32(40,2*f,!0);for(var v=f,y=44,b=0;b<v;b++)g.setInt16(y,32767*h[b],!0),y+=2;if(t)return t({buffer:m,view:g});postMessage({buffer:m,view:g})}if(e.noWorker)return void w)});var n=a(i);n.onmess()},n.postMessage(e)}function a(e){var t=I.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(t);return i.workerURL=t,i}function o(){f=[],p=[],g=0,S=!1,m=!1,k=!1,b=null,h.leftchannel=f,h.rightchannel=p,h.numberOfAudioChannels=v,h.desiredSampRate=y,h.sampleRate=E,h.recordingLength=g,C={left:[],right:[],recordingLength()}function u(e){if(!k){if(!1===i()&&(t.disableLogs||console.log("MediaStream seems stopped."),c.disconnect(),m=!1),!m)return void(_&&(_.disconnect(),_=null));S||(S=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var n=e.inputBuffer.getChannelData(0),r=new Float32Array(n);if(f.push(r),2===v){var a=e.inputBuffer.getChannelData(1),o=new Float32Array(a);p.push(o)}g+=w,h.recordingLength=g,void 0!==t.timeSlice&&(C.recordingLength+=w,C.left.push(r),2===v&&C.right.push(o))}}function l(){m&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(C.left.length?(n({desiredSampRate:y,sampleRate:E,numberOfAudioChannels:v,internalInterleavedLength:C.recordingLength,leftBuffers:C.left,rightBuffers:1===v?[]:C.rige)}),C={left:[],right:[],recordingLength:0}):setTimeout(l,t.timeSlice))}if(!d(e,"audio").length)throw"Your stream has no audio tracks.";t=t||{};var c,h=this,f=[],p=[],m=!1,g=0,v=2,y=t.desiredSampRate;!0===t.leftChannel&&(v=1),1===t.numberOfAudioChannels&&(v=1),(!v||v<1)&&(v=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+v),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===i())throw"Please make sure MediaStream is active.";o(),S=k=!1,m=!0,void 0!==t.timeSlice&&l()},this.s})},void 0===r.Storage&&(r.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),r.Storage.AudioContextConstructor&&"closed"!==r.Storage.AudioContextConstructor.state||(r.Storage.AudioContextConstructor=new r.Storage.AudioContext);var b=r.Storage.AudioContextConstructor,_=b.createMediaStreamSource(e),T=[0,256,512,1024,2048,4096,8192,16384],w=void 0===t.bufferSize?4096:t.bufferSize;if(-1===T.indexOf(w)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(T,null,"\t"))),b.createJavaScriptNode)c=b.createJavaScriptNode(w,v,v);else{if(!b.createScriptProcessor)throw"WebAudio API has no support on this browser.";c=b.createScriptProcessor(w,v,v)}_.connect(c),t.bufferSize||(w=c.bufferSize);var E=void 0!==t.sampleRate?t.sampleRate:b.sampleRate||44100;(E<22050||E>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var k=!1;this.pause=function(){k=!0},this.resume=function(){if(!1===i())throw"Please make sure MediaStream is active.";if(!m)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();k=!1},this.clearRecordedD()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var S=!1;c.onaudioprocess=u,b.createMediaStreamDestination?c.connect(b.createMediaStreamDestination()):c.connect(b.destination),this.leftchannel=f,this.rightchannel=p,this.numberOfAudioChannels=v,this.desiredSampRate=y,this.sampleRate=E,h.recordingLength=g;var C={left:[],right:[],recordingLength:0}}function v(e,t){function i(){g.frames=[],h=!1,f=!1}function n(){var t=document.createElement("canvas"),i=t.getContext("2d");return t.width=e.width,t.height=e.height,i.drawImage(e,0,0),t}function r(){if(f)return p=(new Date).getTime(),setTimeout(r,500);if("canvas"===e.nodeName.toLowerCase()){var i=(new Date).getTime()-p;return p=(new Date).getTime(),g.frames.push({image:n(),duration:i}),void(h&&setTimeout(r,t.frameInterval))}html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendel)}})}if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";t=t||{},t.frameInterval||(t.frameInterval=10);var a=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forE0)});var o=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),s=50,u=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);o&&u&&u[2]&&(s=parseInt(u[2],10)),o&&s<52&&(a=!1),t.useWhammyRecorder&&(a=!1);var l,c;if(a)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)l=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";l=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var h;this.record=function(){if(h=!0,a&&!t.useWhammyRecorder){var e;"captureStream"in l?e=l.captureStream(25):"mozCaptureStream"in l?e=l.mozCaptureStream(25):"webkitCaptureStream"in l&&(e=l.webkitCaptureStream(25));try{var i=new B;i.addTrack(d(e,"video")[0]),e=i}catch(e){}if(!e)throw"captureStream API are NOT available.";c=new m(e,{mimeType:t.mimeType||"video/webm"}),c.record()}else g.frames=[],p=(new Date).getTime(),r();t.initCallback&&t.initCallback()},this.getWebPImages=function(i){if("canvas"!==e.nodeName.toLowerCase())return void i();var n=g.frames.length;g.frames.forE=a}),t.disableLogs||console.log("Generating WebM"),i()},this.stop=function(e){h=!1;var i=this;if(a&&c)return void c.stop(e);this.getWebPIma})})};var f=!1;this.pause=function(){if(f=!0,c instanceof m)return void c.pause()},this.resume=function(){if(f=!1,c instanceof m)return void c.resume();h||this.record()},this.clearRecordedD()},this.name="CanvasRecorder",this.toString=function(){return this.name};var p=(new Date).getTime(),g=new N.Video(100)}function y(e,t){function i(e){e=void 0!==e?e:10;var t=(new Date).getTime()-l;return t?s?(l=(new Date).getTime(),setTimeout(i,100)):(l=(new Date).getTime(),u.paused&&u.play(),f.drawImage(u,0,0,d.width,d.height),c.frames.push({duration:t,image:d.toDataURL("image/webp")}),void(o||setTimeout(i,e,e))):setTimeout(i,e,e)}function n(e){var t=-1,i=e.length;!function n(){if(++t===i)return void e.callback();setTimet)},1)}()}function r(e,t,i,r,a){var o=document.createElement("canvas");o.width=d.width,o.height=d.height;var s=o.getContext("2d"),u=[],l=-1===t,c=t&&t>0&&t<=e.length?t:e.length,h={r:0,g:0,b:0},f=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),p=i&&i>=0&&i<=1?i:0,m=r&&r>=0&&r<=1?r:0,g=!1;n({length:c,functionToLoop:function(t,i){var n,r,a,o=function(){!g&&a-n<=a*m||(l&&(g=!0),u.push(e[i])),t()};if(g)o();else{var c=new Image;c.onload=function(){s.drawImage(c,0,0,d.width,d.height);var e=s.getImageData(0,0,d.width,d.height);n=0,r=e.data.length,a=e.data.length/4;for(var t=0;t<r;t+=4){var i={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(i.r-h.r,2)+Math.pow(i.g-h.g,2)+Math.pow(i.b-h.b,2))<=f*p&&n++}o()},c.src=e[i].image}},callback:function(){u=u.concat(e.slice(c)),u.length<=0&&u.push(e[e.length-1]),a(u)!1}t=t||{},t.frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.recl)};var o=!1;this.s0)};var s=!1;this.pause=function(){s=!0},this.res()},this.clearRecordedD()},this.name="WhammyRecorder",this.toString=function(){return this.name};var u,l,c,d=document.createElement("canvas"),f=d.getContext("2d")}function b(e,t){function i(){p&&(p.stream().bin=[])}if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){function e(i){if(!0!==g.clearedRecordedData){if(a)return setTimei)},100);m=C(e),void 0===typeof f&&(f=i),i-f<90||(!r&&l.paused&&l.play(),r||s.drawImage(l,0,0,o.width,o.height),t.onGifPreview&&t.onGifPreview(o.toDataURL("image/png")),p.addFrame(s),f=i)}}return"undefined"==typeof GIFEncoder?void setTimeout(g.record,1e3):u?(r||(t.width||(t.width=l.offsetWidth||320),t.height||(t.height=l.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),o.width=t.canvas.width||320,o.height=t.canvas.height||240,l.width=t.video.width||320,l.height=t.video.height||240),p=new GIFEncoder,p.setRepeat(0),p.setDelay(t.frameRate||200),p.setQuality(t.quality||10),p.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),c=Date.now(),m=C(e),void(t.initCallback&&t.initCallback())):void setTimeout(g.record,1e3)},this.stop=function(e){e=e||function(){},m&&x(m),d=Date.now(),this.blob=new Blob([new Uint8Array(p.stream().bin)],{type:"image/gif"}),e(this.blob),p.stream().bin=[]};var a=!1;this.pause=function(){a=!0},this.resume=function(){a=!1},this.clearRecordedD()},this.name="GifRecorder",this.toString=function(){return this.name};var o=document.createElement("canvas"),s=o.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?(s=e,o=s.canvas):e instanceof HTMLCanvasElement&&(s=e.getContext("2d"),o=e));var u=!0;if(!r){var l=document.createElement("video");l.muted=!0,l.autoplay=!0,l.playsInline=!0,u=!1,l.onloadedmetadata=function(){u=!0},h(e,l),l.play()}var c,d,f,p,m=null,g=this}function _(e}}function o(e,t){if(!f){var i=0,n=0,r=e.width,a=e.height;1===t&&(i=e.width),2===t&&(n=e.height),3===t&&(i=e.width,n=e.height),4===t&&(n=2*e.height),5===t&&(i=e.width,n=2*e.height),6===t&&(n=3*e.height),7===t&&(i=e.width,n=3*e.height),void 0!==e.stream.left&&(i=e.stream.left),void 0!==e.stream.top&&(n=e.stream.top),void 0!==e.stream.width&&(r=e.stream.width),void 0!==e.stream.height&&(a=e.stream.height),m.drawImage(e,i,n,r,a),"function"==typeof e.stream.onRender&&e.stream.onRender(m,i,n,r,a,t)}}function s(){f=!1;var t=u(),i=l();i&&i.getTracks().filter(function(e){return"audio"===e.kind}).forEach(function(e){t.addTrack(e)});var n;return e.forE0)}),t}function u(){d();var e;"captureStream"in p?e=p.captureStream():"mozCaptureStream"in p?e=p.mozCaptureStream():g.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new b;return e.getTracks().filter(function(e){return"video"===e.kind}).forEach(function(e){t.addTrack(e)}),p.stream=t,t}function l(){_.AudioContextConstructor||(_.AudioContextConstructor=new _.AudioContext),g.audioContext=_.AudioContextConstructor,g.audioSources=[],!0===g.useGainNode&&(g.gainNode=g.audioContext.createGain(),g.gainNode.connect(g.audioContext.destination),g.gainNode.gain.value=0);var t=0;if(e.forE)}}),t)return g.audioDestination=g.audioContext.createMediaStreamDestination(),g.audioSources.forEn)}),g.audioDestination.stream}function c(e){var i=document.createElement("video");return n(e,i),i.className=t,i.muted=!0,i.volume=0,i.width=e.width||g.width||360,i.height=e.height||g.height||240,i.play(),i}function d(t){h=[],t=t||e,t.forE)}})}!function(e){void 0===r&&e&&"undefined"==typeof window&&void 0!==i&&(i.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},i.console||(i.console={}),void 0!==i.console.log&&void 0!==i.console.error||(i.console.error=i.console.log=i.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),void 0===y&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=i)}(void 0!==i?i:null),t=t||"multi-streams-mixer";var h=[],f=!1,p=document.createElement("canvas"),m=p.getContext("2d");p.style.opacity=0,p.style.position="absolute",p.style.zIndex=-1,p.style.top="-1000em",p.style.left="-1000em",p.className=t,(document.body||document.documentElement).appendChild(p),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var g=this,v=window.AudioContext;void 0===v&&("undefined"!=typeof webkitAudioContext&&(v=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(v=mozAudioContext));var y=window.URL;void 0===y&&"undefined"!=typeof webkitURL&&(y=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var b=window.MediaStream;void 0===b&&"undefined"!=typeof webkitMediaStream&&(b=webkitMediaStream),void 0!==b&&void 0===b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})});var _={};void 0!==v?_.AudioContext=v:"undefined"!=typeof webkitAudioContext&&(_.AudioContext=webkitAudioContext),this.startDrawingFra()},this.appendStre})},this.releaseStrel)},this.resetVideoStree)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=s}function T(e,t){function i(){var t=[];return e.forE})}),t}e=e||[];var n,r,a=this;t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},t.frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){n=new _(e,t.elementClass||"multi-streams-mixer"),i().length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),r=new m(n.getMixedStream(),t),r.record()},this.s})},this.pause=function(){r&&r.pause()},this.res()},this.clearRecordedDl)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),r&&n&&(n.appendStreams(i),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStre))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function w(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var i=this;i.recordRTC=new r(e,t),this.startRecording=function(){return new Promise(function(e,t){try{i.recordRTC.startRecording(),e()}catch(e){t(e)}})},this.stopRecording=function(){return new Promise(function(e,t){try{i.recordRTC.stopRecording(function(n){if(i.blob=i.recordRTC.getBlob(),!i.blob||!i.blob.size)return void t("Empty blob.",i.blob);e(n)})}catch(e){t(e)}})},this.pauseRecording=function(){return new Promise(function(e,t){try{i.recordRTC.pauseRecording(),e()}catch(e){t(e)}})},this.resumeRecord})},this.getData})},this.getBlob=function(){return new Promise(function(e,t){try{e(i.recordRTC.getBlob())}catch(e){t(e)}})},this.getInternalRecorder=function(){return new Promise(function(e,t){try{e(i.recordRTC.getInternalRecorder())}catch(e){t(e)}})},this.reset=function(){return new Promise(function(e,t){try{e(i.recordRTC.reset())}catch(e){t(e)}})},this.destroy=function(){return new Promise(function(e,t){try{e(i.recordRTC.destroy())}catch(e){t(e)}})},this.getSt})},this.blob=null,this.version="5.6.6"}function E(e,t){function i(){return new ReadableStream({start:function(i){var n=document.createElement("canvas"),r=document.createElement("video"),o=!0;r.srcObject=e,r.muted=!0,r.height=t.height,r.width=t.width,r.volume=0,r.onplaying=function(){n.width=t.width,n.height=t.height;var e=n.getContext("2d"),s=1e3/t.frameRate,u=setInter{}},s)},r.play()}})}function n(e,r){if(!t.workerPath&&!r)return a=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").t})});if(!t.workerPath&&r instanceof ArrayBuffer){var l=new Blob([r],{type:"text/javascript"});t.workerPath=I.createObjectURL(l)}t.workerPath||console.error("workerPath parameter is missing."),o=new Worker(t.workerPath),o.postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),o.addEventListener("message",function(e){"READY"===e.data?(o.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),i().pipeTo(new WritableStream({write:function(e){if(a)return void console.error("Got image, but recorder is finished!");o.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(s||u.push(e.data))})}function r(e){if(!o)return void(e&&e());o.addEventListener("messa))}),o.postMessage(null)}"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),t=t||{},t.width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0;var a,o;this.record=function(){u=[],s=!1,this.blob=null,n(e),"function"==typeof t.initCallback&&t.initCallback()};var s;this.pause=function(){s=!0},this.res!1};var u=[];this.stop=function(e){a=!0;var t=thib)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedDll},this.blob=null}var k,S,k,S;r.version="5.6.6",e.exports=r,k=[],void 0!==(S=function(){return r}.apply(t,k))&&(e.exports=S),r.getFromD})},r.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),e=e||{},e.audio&&e.video&&e.gif?e.audio.getData})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){j.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){j.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getData})}):e.audio?e.audio.getDataURL(function(e){j.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){j.Store({videoBlob:e})}):e.gif&&e.gif.getData})})},s.getFromDisk=r.getFromDisk,s.writeToDisk=r.writeToDisk,void 0!==r&&(r.MRecordRTC=s);!function(e){e&&"undefined"==typeof window&&void 0!==i&&(i.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},i.console||(i.console={}),void 0!==i.console.log&&void 0!==i.console.error||(i.console.error=i.console.log=i.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStr e},e.HTMLVideoElement=function(){}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),void 0===I&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=i)}(void 0!==i?i:null);var C=window.requestAnimationFrame;if(void 0===C)if("undefined"!=typeof webkitRequestAnimationFrame)C=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)C=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)C=msRequestAnimationFrame;else if(void 0===C){var A=,r}}var x=window.cancelAnimationFrame;void 0===x&&("undefined"!=typeof webkitCancelAnimationFrame?x=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?x=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?x=msCancelAnimationFrame:void 0===x&&(x=function(e){clearTimeout(e)}));var R=window.AudioContext;void 0===R&&("undefined"!=typeof webkitAudioContext&&(R=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(R=mozAudioContext));var I=window.URL;void 0===I&&"undefined"!=typeof webkitURL&&(I=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var P=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),D=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),O=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),L=!D&&!P&&!!navigator.webkitGetUserMedia||c()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),M=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),B=window.MediaStream;void 0===B&&"undefined"!=typeof webkitMediaStream&&(B=webkitMediaStream),void 0!==B&&void 0===B.prototype.stop&&(B.prototype.s})}),void 0!==r&&(r.invokeSaveAsDialog=l,r.getTracks=d,r.getSeekableBlob=f,r.bytesToSize=u,r.isElectron=c);var U={};void 0!==R?U.AudioContext=R:"undefined"!=typeof webkitAudioContext&&(U.AudioContext=webkitAudioContext),void 0!==r&&(r.Storage=U),void 0!==r&&(r.MediaStreamRecorder=m),void 0!==r&&(r.StereoAudioRecorder=g),void 0!==r&&(r.CanvasRecorder=v),void 0!==r&&(r.WhammyRecorder=y);var N=functio.8}function t(e){var t=I.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(t);return I.revokeObjectURL(t),i}function i(e){function t(e){var t=n(e);if(!t)return[];for(var r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:h(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],a=0,o=0;a<e.length;){var u=[],l=0;do{u.push(e[a]),l+=e[a].duration,a++}while(a<e.length&&l<3e4);var c={id:524531317,data:i(o,0,u)};r[1].data.push(c),o+=l}return s(r)}function i(e,t,i){return[{data:e,id:231}].concat(i.map(function(e){var i=u({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:i,id:163}}))}function n(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,i=e[0].height,n=e[0].duration,r=1;r<e.length;r++)n+=e[r].duration;return{duration:n,width:t,height}function s(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].data;"object"==typeof n&&(n=s(n)),"number"==typeof n&&(n=o(n.toString(2))),"string"==typeof n&&(n=a(n));var u=n.size||n.byteLength||n.length,l=Math.ceil(Math.ceil(Math.log(u)/Math.log(2))/8),c=u.toString(2),d=new Array(7*l+7+1-c.length).join("0")+c,h=new Array(l).join("0")+"1"+d;t.push(r(e[i].id)),t.push(o(h)),t.push(n)}return new Blob(t,{type:"video/webm"})}function u(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}function l(e){for(var t=e.RIFF[0].WEBP[0],i=t.indexOf("*"),n=0,r=[];n<4;n++)r[n]=t.charCodeAt(i+3+n);var a,o,s;return s=r[1]<<8|r[0],a=16383&s,s=r[3]<<8|r[2],o=16383&s,{width:a,height:o,data:t,rif,2)}function d(e){for(var t=0,i={};t<e.length;){var n=e.substr(t,4),r=c(e,t),a=e.substr(t+4+4,r);t+=8+r,i[n]=i[n]||[],"RIFF"===n||"LIST"===n?i[n].push(d(a)):i[n].push(a)}return i}function h(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}var f=new t(e.map(function(e){var t=l(d(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(f)}return e.prototypen})},e.prototype.compile=function(e){var n=t(i);n.onmessage=function(t){if(t.data.error)return void console.error(t.data.error);e(t.data)},n.postMessage(this.frames)},{Video:e}}();void 0!==r&&(r.Whammy=N);var j={init:functime)}functione)}}var t=n.transaction([i.dataStoreName],"readwrite");i.videoBlob&&t.objectStore(i.dataStoreName).put(i.videoBlob,"videoBlob"),i.gifBlob&&t.objectStore(i.dataStoreName).put(i.gifBlob,"gifBlob"),i.audioBlob&&t.objectStore(i.dataStoreName).put(i.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var i=this;if("undefined"==typeof indexedDB||void 0===indexedDB.open)return void console.error("IndexedDB API are not available in this browser.");var n,r=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),a=indexedDB.open(r,1);a.onerror=i.onError,a.onsuccess=function(){if(n=a.result,n.onerror=i.onError,n.setVersion)if(1!==n.version){var r=n.setVersion(1);r.onsuct()}}else t();else t()},a.onupgradenelt)}},Fhis},Shis},onE"))},dataStoreName:"recordRTC",dbName:null};void 0!==r&&(r.DiskStorage=j),void 0!==r&&(r.GifRecorder=b),void 0===r&&(e.exports=_,k=[],void 0!==(S=function(){return _}.apply(t,k))&&(e.exports=S)),void 0!==r&&(r.MultiStreamRecorder=T),void 0!==r&&(r.RecordRTCPromisesHandler=w),void 0!==r&&(r.WebAssemblyRecorder=E)}).call(t,i(36),i(38))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,=a)}(function(e){var t={exports:{}};return function(){var i,n,r,a,o,s,u,l,c=[].slice,d={}.hasOwnPropere,e};u=function(){},n=functi(){}return e.prototype.addEventListener=e.prototype.on,e.prototyphis},e.prototype.emit=function(){var e,t,i,n,r,a;if(n=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(r=0,a=i.length;r<a;r++)t=i[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototypehis},e}(),i=functiot()}var i,r;return h(t,e),t.prototype.Emitter=n,t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",act()},init:function(){return u},forceFallback:!1,fallback:function(){var e,i,n,r,a,o;for(this.element.className=this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),r=0,a=o.length;r<a;r++)e=o[r],/(^| )dz-message($| )/.test(e.className)&&(i=e,e.className="dz-message");return i||(i=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),n=i.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},re2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:u,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},draglr")},paste:u,rd")},addedfile:function(e){var i,n,r,a,o,s,u,l,c,d,h,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),a=0,u=d.length;a<u;a++)i=d[a],i.textContent=e.name;for(h=e.previewElement.querySelectorAll("[data-dz-size]"),o=0,l=h.length;o<l;o++)i=h[o],i.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLinke)}}(this),f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],s=0,c=f.length;s<c;s++)r=f[s],p.push(r.addEventListener("click",n));return p}},removeds()},thumbnail:function(e,t){var i,n,r,a;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),a=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=a.length;n<r;n++)i=a[n],i.alt=e.name,i.src=t;return setTim")}}(),1)}},error:function(e,t){var i,n,r,a,o;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),a=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],n=0,r=a.length;n<r;n++)i=a[n],o.push(i.textContent=t);return o}},errormultiple:u,procesoad},processingmultiple:u,uploadprogress:function(e,t,i){var n,r,a,o,s;if(e.previewElement){for(o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],r=0,a=o.length;r<a;r++)n=o[r],"PROGRESS"===n.nodeName?s.push(n.value=t):s.push(n.style.width=t+"%");return s}},totaluploadprogress:u,sending:u,sendingmultiple:u,sucs")},successmultiple:u,canc.")},canceledmultiple:u,compe")},completemultiple:u,maxfilesexceeded:u,maxfilesreached:u,queuecomplete:u,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>n n},t.prototype.getAcceptedFiles=function(){var e,t,i,n,r;for(n=this.files,r=[],t=0,i=n.length;t<i;t++)e=n[t],e.accepted&&r.push(e);return r},t.prototype.getRejectedFiles=function(){var e,t,i,n,r;for(n=this.files,r=[],t=0,i=n.length;t<i;t++)e=n[t],e.accepted||r.push(e);return r},t.prototype.getFilesWithStatus=function(e){var t,i,n,r,a;for(r=this.files,a=[],i=0,n=r.length;i<n;i++)t=r[i],t.status===e&&a.push(t);return a},t.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(t.QUEUED)},t.prototype.getUploadingFNG)},t.prototype.getActiveFiles=function(){var e,i,n,r,a;for(r=this.files,a=[],i=0,n=r.length;i<n;i++)e=r[i],e.status!==t.UPLOADING&&e.status!==t.QUEUED||a.push(e);return a},t.prototype.init=function(){var e,i,n,r,a,o,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,r,a;if(i=e.hiddenFileInput.files,i.length)for(r=0,a=i.length;r<a;r++)t=i[r],e.addFile(t);return n()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,s=this.events,r=0,a=s.length;r<a;r++)e=s[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),draget)}}(this),dragt)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),t)}}(this),drat)}}(this)}}],this.clickableElements.forEach(function(e){return function(i){return e.listeners.push({element:i,events:{click:function(n){if(i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector(".dz-message")))return e.hiddenFileInput.click()}}})}}(this)),this.enable(),this.options.init.call(this)},t.prototype.des,1)},t.prototype.updateTotalUploadProgress=function(){var e,t,i,n,r,a,o,s;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(s=this.getActiveFiles(),a=0,o=s.length;a<o;a++)t=s[a],n+=t.upload.bytesSent,i+=t.upload.total;r=100*n/i}else r=100;return this.emit("totaluploadprogress",r,i,n)},t.prototype._getParam"")},t.prototype.getFallback:i)},t.prototype.getExistingFallback=function(){var e,t,i,n,r,a;fn t},a=["div","form"],n=0,r=a.length;n<r;n++)if(i=a[n],e=t(this.element.getElementsByTagName(i)))return e},t.prototype.setupEventListeners=function(){var e,t,i,n,r,a,o;for(a=this.listeners,o=[],n=0,r=a.length;n<r;n++)e=a[n],o.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.addEventListener(t,i,!1));return r}());return o},t.prototype.removeEventListeners=function(){var e,t,i,n,r,a,o;for(a=this.listeners,o=[],n=0,r=a.length;n<r;n++)e=a[n],o.n r}());return o},t.prototype.disable=function(){var e,t,i,n,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,r=[],t=0,i=n.length;t<i;t++)e=n[t],r.push(this.cancelUpload(e));return r},t.prototype.ens()},t.prototype.filesize=function(e){var t,i,n,r,a,o,s,u;for(o=["TB","GB","MB","KB","b"],n=r=null,i=s=0,u=o.length;s<u;i=++s)if(a=o[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),r=a;break}return"<strong>"+(n=Math.round(10*n)/10)+"</strong> "+r},t.prototype._updateMaxFilesReachedCd")},t.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},t.prototype.pd 0},t.prototype.handleFn r},t.prototype._addFilesFromItems=function(e){var t,i,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)i=e[n],null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?a.push(this.addFile(i.getAsFile())):t.isDirectory?a.push(this._addFilesFromDirectory(t,t.name)):a.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?a.push(this.addFile(i.getAsFile())):a.push(void 0);return a},t.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,r,a;for(r=0,a=i.length;r<a;r++)n=i[r],n.isFile?n.(i)}):n.isDirectory&&e._addFilesFromDirectory(n,t+"/"+n.name)}}(this),i.readEntrid 0})},t.prototype.accept=function(e,i){return e.size>this.options.maxFilesize?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)},t.prototype.adds))},t.prototype.enqueueFull},t.prototype.enqueueFile=function(e){if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTim()}}(this),0)},t.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shi()}}(this))},t.prototype.removet")},t.prototype.removeAllFiles=function(e){var i,n,r,a;for(null==e&&(e=!1),a=this.files.slice(),n=0,r=a.length;n<r;n++)i=a[n],(i.status!==t.UPLOADING||e)&&this.removeFile(i);return null},t.prototype.createThumb(e)},t.prototype.createThumbnailFromUrl=function(e,t,i){var n;return n=document.createElement("img"),n.onload=function(t){return function(){var r,a,o,u,l,c,d,h;if(e.width=n.width,e.height=n.height,o=t.options.resize.call(t,e),null==o.trgWidth&&(o.trgWidth=o.optWidth),null==o.trgHeight&&(o.trgHeight=o.optHeight),r=document.createElement("canvas"),a=r.getContext("2d"),r.width=o.trgWidth,r.height=o.trgHeight,s(a,n,null!=(l=o.srcX)?l:0,null!=(c=o.srcY)?c:0,o.srcWidth,o.srcHeight,null!=(d=o.trgX)?d:0,null!=(h=o.trgY)?h:0,o.trgWidth,o.trgHeight),u=r.toDataURL("image/png"),t.emit("thumbnail",e,u),null!=i)return i()}}(this),null!=i&&(n.onerror=i),n.src=t},t.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var i,n,r;for(n=0,r=e.length;n<r;n++)i=e[n],i.processing=!0,i.status=t.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t;ren a}.call(this)},t.prototype.cancelUpload=function(e){var i,n,r,a,o,s,u;if(e.status===t.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),r=0,o=n.length;r<o;r++)i=n[r],i.status=t.CANCELED;for(e.xhr.abort(),a=0,s=n.length;a<s;a++)i=n[a],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(u=e.status)!==t.ADDED&&u!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue():t},t.prototype.uploade])},t.prototype.uploadFiles=function(e){var n,a,o,s,u,l,c,d,h,f,p,m,g,v,y,b,_,T,w,E,k,S,C,A,x,R,I,P,D,O,L,M,B,U;for(w=new XMLHttpRequest,E=0,A=e.length;E<A;E++)n=e[E],n.xhr=w;m=r(this.options.method,e),_=r(this.options.url,e),w.open(m,_,!0),w.withCredentials=!!this.options.withCredentials,y=null,o=function(t){ren a}}(this),b=function(t){return function(i){var r,a,o,s,u,l,c,d,h;if(null!=i)for(a=100*i.loaded/i.total,o=0,l=e.length;o<l;o++)n=e[o],n.upload={progress:a,total:i.total,bytesSent:i.loaded};else{for(r=!0,a=100,s=0,c=e.length;s<c;s++)n=e[s],100===n.upload.progress&&n.upload.bytesSent===n.upload.total||(r=!1),n.upload.progress=a,n.upload.bytesSent=n.upload.total;if(r)return}for(h=[],u=0,d=e.length;u<d;u++)n=e[u],h.push(t.emit("uploadprogress",n,a,n.upload.bytesSent));return h}}(this),w.on)}}}(this),w.onerror=function(i){reo()}}(),v=null!=(D=w.upload)?D:w,v.onprogress=b,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(l,this.options.headers);for(s in l)u=l[s],w.setRequestHeader(s,u);if(a=new FormData,this.options.params){O=this.options.params;for(p in O)T=O[p],a.append(p,T)}for(k=0,x=e.length;k<x;k++)n=e[k],this.emit("sending",n,w,a);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,w,a),"FORM"===this.element.tagName)for(L=this.element.querySelectorAll("input, textarea, select, button"),S=0,R=L.length;S<R;S++)if(d=L[S],h=d.getAttribute("name"),f=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(M=d.options,C=0,I=M.length;C<I;C++)g=M[C],g.selected&&a.append(h,g.value);else(!f||"checkbox"!==(B=f.toLowerCase())&&"radio"!==B||d.checked)&&a.append(h,d.value);for(c=P=0,U=e.length-1;0<=U?P<=U:P>=U;c=0<=U?++P:--P)a.append(this._getParamName(c),e[c],e[c].name);return w.send(a)},t.prototype._finished=function(e,i,n){var r,a,o;for(a=0,o=e.length;a<o;a++)r=e[a],r.status=t.SUCCESS,this.emit("success",r,i,n),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t.prototype._errorProcessing=function(e,i,n){var r,a,o;for(a=0,o=e.length;a<o;a++)r=e[a],r.status=t.ERROR,this.emit("error",r,i,n),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t}(n),i.version="4.0.1",i.options={},i.optionsForEled 0},i.instances=[],i.forEleone},i.autoDiscover=!0,i.discover=function(){var e,t,n,r,a,o;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=n a},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],r=0,a=n.length;r<a;r++)t=n[r],!1!==i.optionsForElement(t)?o.push(new i(t)):o.push(void 0);return o},i.denylistedBrowsers=[/opera.*Macintosh.*version\/12/i],i.isBrowserSupported=function(){var e,t,n,r,a;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(a=i.denylistedBrowsers,n=0,r=a.length;n<r;n++)t=a[n],t.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return n )})},i.createEle[0]},i.elementInn!1},i.getElen i},i.getElements=function(e,t){var i,n,r,a,o,s,u;if(e instanceof Array){n=[];try{for(r=0,o=e.length;r<o;r++)i=e[r],n.push(this.getElement(i,t))}catch(e){e,n=null}}else if("string"==typeof e)for(n=[],u=document.querySelectorAll(e),a=0,s=u.length;a<s;a++)i=u[a],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},i.cond 0},i.isValidFile=function(e,t){var i,n,r,a,o;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),a=0,o=t.length;a<o;a++)if(r=t[a],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},void 0!==e&&null!==e&&(e.fn.drop)})}),void 0!==t&&null!==t?t.exports=i:window.Dropzone=i,i.ADDED="added",i.QUEUED="queued",i.ACCEPTED=i.QUEUED,i.UPLOADING="uploading",i.PROCESSING=i.UPLOADING,i.CANCELED="canceled",i.ERROR="error",i.SUCCESS="success",o=function(e){var t,i,n,r,a,o,s,u,l;for(e.naturalWidth,o=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=o,n=i.getContext("2d"),n.drawImage(e,0,0),r=n.getImageData(0,0,1,o).data,l=0,a=o,s=o;s>l;)t=r[4*(s-1)+3],0===t?a=s:l=s,s=a+l>>1;return u=s/o,0===u?1:/d1)}},i._autoDiscoverFuncr()},a(window,i._autoDiscoverFunction)}.call(this),t.exports})},function(e,t,i){var n,r;n=[i(0),i(5),i(1),i(522)],void 0!==(r=function(e,t,i,n){"use strict";return e.Class.declare({$name:"FileUploadFallbackRendererHTML",fileUploadRender:null,qId:null,uploadURL:"",initiaL=i},bind:function(){i(window).on("message",this.listenForUpload)},unad)},render:function(e){var r=t.template(n),a=r({QID:this.qId,UploadURL:this.uploadURL}),o=i("<iframe>")[0];e.append(o),o.contentWindow.document.write(a),i(o).contents().find("#fileField").change(function(){this.fileUploadRender.fileAdded(""),i(o).contents().find("#fileUploadForm").submit()}.$bind(this))},listenForUpload:function(e){this.fileUploadRender.enableButtons();try{var t=JSON.parse(e.originalEvent.data);t.QID==this.qId&&(t.error?this.fileUploadRender.uploadError(t.error):(this.fileUploadRender.uploadComplete(t.file,t.fileMeta),this.fileUploadRender.removePreviewElement(),this.fileUploadRender.setupFilePreview()))}catch(e){this.fileUploadRender.uploadError(this.fileUploadRender.runtime.UploadConfig.UploadFailedMessage)}}.$bound()})}.apply(t,n))&&(e.exports=r)},function(e,t){e.exports='<form id="fileUploadForm" enctype="multipart/form-data" method="post" action="{{= it.UploadURL }}" target="FileUploader">\n    <div class="inputContainer">\n        <div class="fileInputContainer" id="fileInputContainer">\n            <input id="fileField" type="file" size="48" name="upload" autocomplete="off">\n        </div>\n    </div>\n</form>\n\n<script>\n    function onUpload(data) {\n        try {\n            var message = {\n                QID: \'{{= it.QID }}\',\n                fileMeta: data.fileMeta,\n                file: data.file,\n                error: data.error\n            };\n            window.parent.postMessage(JSON.stringify(message), \'*\');\n        } catch (e) {}\n    }\n<\/script>\n<iframe id="FileUploader" scrolling="no" name="FileUploader" frameborder="0" style="width: 0px; height: 0px;"></iframe>'},function(e,t){e.exports='<div class="dz-preview dz-file-preview">\n    <div class="dz-image"><img data-dz-thumbnail /></div>\n    <div class="dz-details">\n        <div class="dz-size"><span data-dz-size></span></div>\n        <div class="dz-type"><span data-dz-type></span></div>\n        <div class="dz-progress">\n            <span class="dz-upload-back"></span>\n            <span class="dz-upload" data-dz-uploadprogress></span>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var n,r;n=[],void 0!==(r=function(){"use strict";var e=[],t=!1;return{registerFileUplo(i)},watchPageForUploads:function(e){t||(t=!0,e.getActivePage().on("drago,!1}),e.getActivePage().on("drop",function(e){e.preventDefault();var t=this.getNearestUploader(e.originalEvent.clientY);return t&&t.dropzone.drop(e.originalEvent),!1}.$bind(this)))},getNearestUploader:function(t){return e.length<=1?e[0]:e.map(function(e){var i=e.getDropzone().offset().top+e.getDropzone().height()/2;return{distance:Math.abs(i-t),obj:e}}).sort(function(e,t){return e.distance-t.distance})[0].obj}}}.apply(t,n))&&(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(284)],void 0!==(r=function(e,t){"use strict";return e.Class.declare({$name:"ScreenCaptureRendererHTML",$extends:t,initialize:function(e){this.$super(e),this.on("prerender",this.setupMessageProcessor.$bind(this)),this.on("bind",this.__setupClickListeners.$bind(this)),this.on("unbind",this.__removeClickListeners.$bind(this))},setupFileUploader:function(){},saveScreenCapture:function(e){return this.getPage().adapter.uploadDataURL(e).then(function(e){if(!e||!e.fileMeta)return this.uploadError(this.runtime.ScreenCaptureFailed);this.runtime.FileID=e.fileId,this.runtime.FileName=e.fileMetaRaw.FileName,this.runtime.FileSize=e.fileMetaRaw.FileSize,this.runtime.FileType=e.fileMetaRaw.FileType,this.runtime.FileMeta=e.fileMeta,this.runtime.fileLocation="../file/"+this.runtime.FileID,this.responseChanged()}.$bind(this))},uploadEg=e},reset:function(){this.runtime.FileID=null,this.runtime.FileName=null,this.runtime.FileSize=null,this.runtime.FileType=null,this.runtime.FileMeta=null,this.runtime.fileLocation=""},setupMessageProcessor:function(){this.getPage().getMP().then(function(e){e&&e.onSaveScreenCapture(this.id(),this.saveScreenCapture.$bind(this))}.$bind(this))},removeImage:function(e){e.stopPropagation(),this.getPage().getMP().then(function(e){e&&(e.removeScreenCapture(this.id()),this.reset())}.$bind(this))}.$bound(),viewImage:function(){return this.getPage().getMP().then(function(e){if(e)if(this.runtime.FileID)e.editScreenCapture(this.id());else{var t={ScreenCaptureOK:this.runtime.ScreenCaptureOK,ScreenCaptureSave:this.runtime.ScreenCaptureSave,ScreenCaptureCancel:this.runtime.ScreenCaptureCancel,ScreenCaptureBuilding:this.runtime.ScreenCaptureBuilding,ScreenCaptureBuildingFailed:this.runtime.ScreenCaptureBuildingFailed};e.startScreenCapture(this.id(),t)}}.$bind(this))}.$bound(),__setupClickListeners:function(){this._$el.find("#"+this.runtime.ID+"-PreviewDelete").click(this.removeImage),this._$el.find("#"+this.runtime.ID+"-CaptureScreenButton").click(this.viewImage),this._$el.find("#"+this.runtime.ID+"-CaptureScreenPreviewButton").click(this.viewImage)},__removeClickListeners:function(){this._$el.find("#"+this.runtime.ID+"-PreviewDelete").off("click",this.removeImage),this._$el.find("#"+this.runtime.ID+"-CaptureScreenButton").off("click",this.viewImage),this._$el.find("#"+this.runtime.ID+"-CaptureScreenPreviewButton").off("click",this.viewImage)}})}.apply(t,n))&&(e.exports=r)},function(e,t,i){var n,r;n=[i(0),i(1),i(3),i(284),i(67),i(237),i(560),i(624),i(625),i(626)],void 0!==(r=function(e,t,i,n,r,a,o,s,u,l){"use strict";return e.Class.declare({$name:"VideoCaptureVideoToTextRendererHTML",$extends:n,player:null,audioPlayer:null,showDeviceButton:!0,currentXhr:null,__minSeconds:0,__maxSeconds:600,__audioOnly:!1,__hasFinishedRecording:!1,__startRecordingTime:0,__useConverter:!1,__useAudioConverter:!1,__isPreviewingExistingResponse:!1,__isPreviewingExistingUpload:!1,__videoUpload:!1,__canceledRecording:!1,initialize:function(e){this.$super(e),this.on("postrender",function(){o.microphone=s,this.runtime.ExistingVideoLink&&this.runtime.FileType&&(this.runtime.VideoUploaded?this.__isPreviewingExistingUpload=!0:this.__isPreviewingExistingResponse=!0),this.__loadVideo(),this.__audioOnly&&this.__loadAudio(),this.__videoUpload&&this.__loadVideoUpload()}.$bind(this)),this.on("beforeNext",this.__beforeNext.$bind(this));var t=this.runtime.UploadConfig.MinSeconds,i=this.runtime.UploadConfig.MaxSeconds;"number"==typeof i&&i>0&&i>t&&i<=600&&(this.__maxSeconds=i),"number"==typeof t&&t>0&&t<=i&&(this.__minSeconds=t),this.runtime.UploadConfig.VideoUpload&&(this.__videoUpload=!0),!0===this.runtime.UploadConfig.AudioOnly&&(this.__audioOnly=!0)},__beforeNext:function(){this.player&&(this.player.record().stopStream(),this.player.dispose(),this.player=null),this.__isPreviewingExistingResponse=!1,this.__isPreviewingExistingUpload=!1,this.audioPlayer&&(this.audioPlayer.record().stopStream(),this.audioPlayer.dispose(),this.audioPlayer=null)},getDevice:function(){this.player.record().getDevice(),this.__addRerecordButton(!0,!1)}.$bound(),getAudioDevice:function(){this.audioPlayer.record().getDevice(),this.__addRerecordButton(!0,!0)}.$bound(),setupFileUploader:function(){},__startRecord:function(){this.currentXhr&&this.currentXhr.abort(),this.player.controlBar.progressControl.hide(),this.__hasFinishedRecording=!1,this.__addRerecordButton(!0,!1),this.__setUploadProgress(0),this.__startRecordingTime=this.player.currentTimestamp,this._$el.find(".vjs-record-button").focus(),this.__minSeconds&&this.__disableStopRecordingButton(this.player.record()),this.disableButtons(),this.__canceledRecording=!1},__startAudioRecord:function(){this.currentXhr&&this.currentXhr.abort(),this.audioPlayer.controlBar.progressControl.hide(),this.__hasFinishedRecording=!1,this.__addRerecordButton(!0,!0),this.__setUploadProgress(0),this.__startRecordingTime=this.audioPlayer.currentTimestamp,this._$el.find(".vjs-record-button").focus(),this.__minSeconds&&this.__disableStopRecordingButton(this.audioPlayer.record()),this.disableButtons(),this.__canceledRecording=!1},__finishRecord:function(e){if(!this.__canceledRecording){var t=this._getUploadRoute(),n=new FormData;n.append("upload",e,e.name);var r=new XMLHttpRequest;this.currentXhr=r,r.open("POST",t,!0),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Cache-Control","no-cache"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.__setUploadProgress(1),this.__addRerecordButton(!1,!1),this.__startRecordingTime=0,this.player.controlBar.progressControl.show(),this._$el.find(".vjs-play-control").focus(),r.onerror=function(){this.__uploadError(this._getUploadConfig().UploadFailedMessage)}.$bind(this),r.upload.onprogress=function(e){var t=parseInt(e.loaded/e.total*100);(t=100==t?99:t)>0&&t<100&&this.__setUploadProgress(t)}.$bind(this),r.onload=function(){var e=r.responseText;if(r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json"))try{e=JSON.parse(e),this.__saveVideoCapture.$bind(this)(e)}catch(t){i.info("finishRecord error:",e,t),this.__uploadError(this._getUploadConfig().UploadFailedMessage)}}.$bind(this),r.send(n),this.__hasFinishedRecording=!0,setTimeout(function(){this.player.play().then(function(){this.player.pause()}.$bind(this))}.$bind(this),0)}},__finishAudioRecord:function(e){if(!this.__canceledRecording){var t=this._getUploadRoute()+"&recorded=true",n=new FormData;n.append("upload",e,e.name);var r=new XMLHttpRequest;this.currentXhr=r,r.open("POST",t,!0),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Cache-Control","no-cache"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.audioPlayer.controlBar.progressControl.show(),this.__addRerecordButton(!1,!0),this._$el.find(".vjs-play-control").focus(),r.onege)}.$bind(this),r.upload.onprogress=function(e){var t=parseInt(e.loaded/e.total*100);(t=100==t?99:t)>0&&t<100&&this.__setUploadProgress(t)}.$bind(this),r.onload=function(){var e=r.responseText;if(r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json"))try{e=JSON.parse(e),this.__saveVideoCapture.$bind(this)(e)}catch(t){i.info("finishAudioRecord error:",e,t),this.__uploadError(this._getUploadConfig().UploadFailedMessage)}}.$bind(this),r.send(n),this.__hasFinishedRecording=!0}},__setUploadProgress:function(e){e=parseInt(e),e=e>=0&&e<=100?e:0,0==e?(this._$el.find(".upload-progress-container").css("opacity","0"),this._$el.find(".upload-progress-container").attr("aria-hidden","true"),this._$el.find(".upload-progress-bar").attr("aria-valuenow","0"),setTimeout(function(){this._$el.find(".upload-progress-bar").css("width","0")}.$bind(this),500)):100==e?(this._$el.find(".upload-progress-bar").css("width","100%"),this._$el.find(".upload-progress-bar").attr("aria-valuenow","100"),this._$el.find(".upload-progress-container").css("opacity","0"),this._$el.find(".upload-progress-container").attr("aria-hidden","true"),setTim0")}.$bind(this),500)):(this._$el.find(".upload-progress-container").css("opacity","1"),this._$el.find(".upload-progress-container").attr("aria-hidden","false"),this._$el.find(".upload-progress-bar").css("width",e+"%"),this._$el.find(".upload-progress-bar").attr("aria-valuenow",e))},__saveVideoCapture:function(e){if(!e||!e.fileMeta)return this.__uploadError(this._getUploadConfig().UploadFailedMessage);this.runtime.FileID=e.fileId,this.runtime.FileName=e.fileMetaRaw.FileName,this.runtime.FileSize=e.fileMetaRaw.FileSize,this.runtime.FileType=e.fileMetaRaw.FileType,this.runtime.FileMeta=e.fileMeta,this.runtime.FileMetaVersion=e.fileMetaVersion,this.enableButtons(),this.__setUploadProgress(100)},__uploadError:function(e){this.__setUploadProgress(0),this.enableButtons(),this.reset(),this.highlight(),this.runtime.ErrorMsg=e.detailedMessage||e},__isVideoTypeSupported:function(e){return MediaRecorder.isTypeSupported(e)},__getSupportedVideoType:function(){var e="video/webm";return this.__isVideoTypeSupported("video/webm;codecs=vp9")?e="video/webm;codecs=vp9":this.__isVideoTypeSupported("video/webm;codecs=vp8,opus")?e="video/webm;codecs=vp8,opus":this.__isVideoTypeSupported("video/mp4")&&(e="video/mp4"),e},__getSupportedAudioType:function(){var e="audio/webm";return this.__isVideoTypeSupported("audio/ogg")?e="audio/ogg":this.__isVideoTypeSupported("audio/webm;codecs=opus")?e="audio/webm;codecs=opus":this.__isVideoTypeSupported("audio/mp4")&&(e="audio/mp4"),e},__isUnsupportedBroder},__loadVideo:function(){this.player&&this.player.dispose(),this._$el.find(".video-recorder-device-button").click(this.getDevice),this.__setPlaceholderSize();var e={};try{e=navigator.mediaDevices.getSupportedConstraints()}catch(e){}var t={width:480,height:270};e.facingMode&&(t.facingMode="user"),e.frameRate&&(t.frameRate=30),e.aspectRatio&&(t.aspectRatio=16/9);var i={};if(i[this._page.getLanguage()]={"Video Player":this.runtime.Messages.VideoPlayer,Device:this.runtime.Messages.Device,"Play Video":this.runtime.Messages.PlayVideo,"{1} is loading.":this.runtime.Messages.PlayerIsLoading.replace("{{player}}","{1}"),Record:this.runtime.Messages.Record,Stop:this.runtime.Messages.StopRecording,Play:this.runtime.Messages.Play,Pause:this.runtime.Messages.Pause,"Current Time":this.runtime.Messages.CurrentTime,"Progress Bar":this.runtime.Messages.ProgressBar,Progress:this.runtime.Messages.Progress,"progress bar timing: currentTime={1} duration={2}":this.runtime.Messages.ProgressTiming.replace("{{currentTime}}","{1}").replace("{{duration}}","{2}"),"The media could not be loaded, either because the server or network failed or because the format is not supported.":this.runtime.Messages.MediaLoadingFailed},this.__isUnsupportedBrowser())return this._$el.find(".video-recorder-device-button").remove(),void this.__uploadError(this.runtime.Messages.VideoResponseBrowserNotSupported);var n=this.__getSupportedVideoType(),r={audio:!0,video:t,autoMuteDevice:!0,videoMimeType:n,maxLength:this.__maxSeconds,timeSlice:100};~n.indexOf("webm")&&(this.__useConverter=!0,r.convertEngine="ts-ebml"),this.player=a.default("video-recorder-"+this.runtime.ID,{controls:!0,loop:!1,language:this._page.getLanguage(),languages:i,maxFileSize:75e6,controlBar:{cameraButton:!1,deviceButton:!1,fullscreenToggle:!1,pipToggle:!1,progressControl:!0,recordIndicator:!1,volumePanel:!1},fluid:!0,aspectRatio:"16:9",plugins:{record:r}}),this.player.on("deviceReady",function(){this._$el.find(".video-container").removeClass("no-device"),this._$el.find(".video-recorder-device-button").attr("aria-hidden",!0),this.__hasFinishedRecording=!1,this.audioPlayer&&this._$el.find(".audio-recorder").addClass("recording-video"),this.__setPlayerSize(),this._$el.find(".vjs-record-button").focus(),this.__videoUpload&&this._$el.find(".video-upload").attr("aria-hidden",!0)}.$bind(this)),this.player.on("startRecord",this.__startRecord.$bind(this)),this.player.on("timestamp",function(){this.__minSeconds&&this.__startRecordingTime&&(this.player.currentTimestamp-this.__startRecordingTime)/1e3>this.__minSeconds&&this.__enableStopRecordingButton(this.player.record())}.$bind(this)),this.player.on("deviceError",function(){this.__uploadError("device error: "+this.player.deviceErrorCode)}.$bind(this)),this.player.on("error",function(e,t){this.__uploadError(t)}.$bind(this)),this.player.on("finishRecta)}.$bind(this)),this.player.on("finishConvert",function(){this.__useConverter&&this.__finishRecord(this.player.convertedData)}.$bind(this)),this.player.on("canpe")}.$bind(this)),this.player.on("ready",function(){this.__isPreviewingExistingResponse&&!this.runtime.FileType.includes("audio")&&(this.player.controlBar.progressControl.show(),this.__addRerecordButton(!1,!1),this._$el.find(".video-container").removeClass("no-device"),this._$el.find(".video-js .vjs-control-bar .vjs-play-control").addClass("vjs-paused"),this._$el.find(".video-js .vjs-control-bar .vjs-play-control").removeClass("vjs-hidden"))}.$bind(this)),this.player.controlBar.progressControl.hide(),this.__isPreviewingExistingResponse&&!this.runtime.FileType.includes("audio")&&this.player.src({src:this.runtime.ExistingVideoLink,type:this.runtime.FileType})},__loadAudio:function(){this.audioPlayer&&this.audioPlayer.dispose();var e={};e[this._page.getLanguage()]={"Video Player":this.runtime.Messages.VideoPlayer,Device:this.runtime.Messages.Device,"Play Video":this.runtime.Messages.PlayVideo,"{1} is loading.":this.runtime.Messages.PlayerIsLoading.replace("{{player}}","{1}"),Record:this.runtime.Messages.Record,Stop:this.runtime.Messages.StopRecording,Play:this.runtime.Messages.Play,Pause:this.runtime.Messages.Pause,"Current Time":this.runtime.Messages.CurrentTime,"Progress Bar":this.runtime.Messages.ProgressBar,Progress:this.runtime.Messages.Progress,"progress bar timing: currentTime={1} duration={2}":this.runtime.Messages.ProgressTiming.replace("{{currentTime}}","{1}").replace("{{duration}}","{2}"),"The media could not be loaded, either because the server or network failed or because the format is not supported.":this.runtime.Messages.MediaLoadingFailed},this._$el.find(".audio-recorder-device-button").click(this.getAudioDevice),this.__setPlaceholderSize();var t=this.__getSupportedAudioType(),i={audio:!0,video:!1,maxLength:this.__maxSeconds,displayMilliseconds:!1,controls:!0,timeSlice:100,audioMimeType:t};~t.indexOf("webm")&&(this.__useAudioConverter=!0,i.convertEngine="ts-ebml"),this.audioPlayer=a.default("audio-recorder-"+this.runtime.ID,{language:this._page.getLanguage(),languages:e,controls:!0,autoplay:!1,loop:!1,muted:!1,plugins:{wavesurfer:{backend:"WebAudio",displayMilliseconds:!1,debug:!1,hideScrollbar:!0,plugins:[o.microphone.create({bufferSize:4096,numberOfInputChannels:1,numberOfOutputChannels:1,constraints:{video:!1,audio:!0}})]},record:i}}),this.audioPlayer.on("deviceError",function(){this.__uploadError("device error: "+this.audioPlayer.deviceErrorCode)}.$bind(this)),this.audioPlayer.on("error",function(e,t){this.__uploadError(t)}.$bind(this)),this.audioPlayer.on("deviceReady",function(){this._$el.find(".video-container").removeClass("no-device"),this._$el.find(".video-recorder-device-button").attr("aria-hidden",!0),this._$el.find(".audio-recorder-device-button").attr("aria-hidden",!0),this.__hasFinishedRecording=!1,this._$el.find(".audio-recorder").addClass("vjs-live"),this._$el.find(".video-recorder").addClass("recording-audio"),this.__setAudioPlayerSize(),this._$el.find(".vjs-record-button").focus()}.$bind(this)),this.audioPlayer.on("ready",function(){this.audioPlayer.duran()}.$bind(this),this.audioPlayer.currentTime=function(e){return void 0!==e&&(this.audioPlayer.record().surfer.surfer.setCurrentTime(e),this.audioPlayer.scrubbing(!1),this.audioPlayer.controlBar.progressControl.seekBar.update()),this.audioPlayer.record().surfer.getCurrentTime()}.$bind(this),this.audioPlayer.record().surfer.surfer.backend.on("audioproce()}.$bind(this)),this.__isPreviewingExistingResponse&&this.runtime.FileType.includes("audio")&&(this.audioPlayer.record().surfer.surfer.once("ready",function(){this.audioPlayer.record()._processing=!1}.$bind(this)),this.audioPlayer.record().surfer.setupPlaybackEvents(!0),this.audioPlayer.record().surfer.load(this.runtime.ExistingVideoLink),this.audioPlayer.controlBar.progressControl.show(),this.__addRerecordButton(!1,!0),this._$el.find(".video-container").removeClass("no-device"),this._$el.find(".video-js .vjs-control-bar .vjs-play-control").addClass("vjs-paused"),this._$el.find(".video-js .vjs-control-bar .vjs-play-control").removeClass("vjs-hidden"),this.__setAudioPlayerSize(),this._$el.find(".video-recorder").addClass("recording-audio"),this._$el.find(".audio-recorder").removeClass("vjs-live").addClass("playback"))}.$bind(this)),this.audioPlayer.on("startRecord",this.__startAudioRecord.$bind(this)),this.audioPlayer.on("timestamp",function(){this.__minSeconds&&this.__startRecordingTime&&(this.audioPlayer.currentTimestamp-this.__startRecordingTime)/1e3>this.__minSeconds&&this.__enableStopRecordingButton(this.audioPlayer.record())}.$bind(this)),this.audioPlayer.on("finishRecord",function(){this.__canceledRecording||(this._$el.find(".audio-recorder").removeClass("vjs-live").addClass("playback"),this.audioPlayer.controlBar.progressControl.show(),this.audioPlayer.currentTime(0),this.__useAudioConverter||this.__finishAudioRecord(this.audioPlayer.recordedData))}.$bind(this)),this.audioPlayer.on("finishConvta)}.$bind(this))},__loadVideoUpload:function(){this.renderer=new n(this.runtime),this.renderer.setPage(this.getPage()),this.renderer.postrender(this._$el.find(".video-upload-container")),this.__setUploadBoxDimensions(),this.__isPreviewingExistingUpload&&(this._$el.find(".video-upload").addClass("uploading"),this._$el.find(".video-container").addClass("vjs-hidden"),this._$el.find(".video-container").attr("aria-hidden",!0),this._$el.find(".video-upload .video-upload-button").attr("aria-hidden",!0),this._$el.find(".video-upload .upload-text-container").attr("aria-hidden",!1),this._$el.find(".video-upload .video-upload-container").attr("aria-hidden",!1)),this._$el.find(".video-upload-button").click(function(){this.runtime.VideoUploaded=!0,this._$el.find(".video-upload").addClass("uploading"),this._$el.find(".video-container").addClass("vjs-hidden"),this._$el.find(".video-container").attr("aria-hidden",!0),this._$el.find(".video-upload .video-upload-button").attr("aria-hidden",!0),this._$el.find(".video-upload .upload-text-container").attr("aria-hidden",!1)}.$bind(this)),this._$el.find(".cancel-upload-button").click(function(){this.runtime.VideoUploaded=!1,this._$el.find(".video-upload").removeClass("uploading"),this._$el.find(".video-container").removeClass("vjs-hidden"),this._$el.find(".video-container").attr("aria-hidden",!1),this._$el.find(".video-upload .video-upload-button").attr("aria-hidden",!1),this._$el.find(".video-upload .upload-text-container").attr("aria-hidden",!0),this.renderer.dropzone.removeAllFiles(),this.renderer.reset(),this.runtime.ErrorMsg=null}.$bind(this))},__setPlayerSize:function(){this.__removePlaceholderSize(),this._$el.find(".video-container").width(this._$el.find(".video-container").width()),this._$el.find(".video-container").height(this._$el.find(".video-container").height())},__setAudioPlayerSize:function(){this.__removePlaceholderSize();var e=Math.min(440,this._$el.find(".QuestionBody").width());this._$el.find(".video-container").width(e),this._$el.find(".video-container").height(112)},__addRerecordButton:function(e,i){this.__removeRerecordButton();var n=e?this.runtime.Messages.CancelRecording:this.runtime.Messages.DeleteRecording,r=t('<button class="re-record re-record-button" type="button">'+n+"</button>");r.click(this.__showRerecordingDialog.bind(null,e,i)),t(r).insertBefore(this._$el.find(".upload-progress-container"))},__removeRerecordButton:function(){this._$el.find(".re-record").remove()},__showDeviceSelection:function(e){e?(this.audioPlayer.controlBar.progressControl.hide(),this._$el.find(".audio-recorder-device-button").attr("aria-hidden",!1),this._$el.find(".audio-recorder").removeClass("vjs-live"),this._$el.find(".video-recorder").removeClass("recording-audio")):(this.player.controlBar.progressControl.hide(),this.audioPlayer&&this._$el.find(".audio-recorder").removeClass("recording-video")),this.__setPlaceholderSize(),this.__removeRerecordButton(),this.runtime.ErrorMsg=null,this._$el.find(".video-recorder-device-button").attr("aria-hidden",!1),this._$el.find(".video-container").addClass("no-device")},__cancelRecording:function(e){this.reset(),this.__canceledRecording=!0,e?this.audioPlayer.record().isRecording()&&(this.__enableStopRecordingButton(this.audioPlayer.record()),this.audioPlayer.record().stop()):this.player.record().isRecording()&&(this.__enableStopRecordingButton(this.player.record()),this.player.record().stop()),this.__showDeviceSelection(e),this.enableButtons()},__removeRecording:function(e){e&&this._$el.find(".audio-recorder").removeClass("playback").addClass("vjs-live"),this.reset(),this.__showDeviceSelection(e)},__showRerecordingDialog:function(e,t,i){var n={Title:this.runtime.Messages.DeleteRecordingModalTitle,DialogBody:this.runtime.Messages.DeleteRecordingModalDescription,Confirm:this.runtime.Messages.DeleteRecording,Cancel:this._page.getPageTemplate().getMessage("Cancel")};return e&&(n={Title:this.runtime.Messages.CancelRecordingModalTitle,DialogBody:this.runtime.Messages.CancelVideoModalDescription,Confirm:this.runtime.Messages.Yes,Cancel:this.runtime.Messages.No}),r.create({msg:n.DialogBody,pageDialog:{severity:0,title:n.Title,ref:i.ref,className:"re-record",buttons:[{text:n.Cancel,calls()}.$bind(this)},{text:n.Confirm,callback:function(){e?this.__cancelRecording(t):this.__removeRecording(t)}.bind(this)}]}},this._page.adapter)}.$bound(),__disableStopRecordingButton:function(e){e.player.recordToggle.disable()},__enableStopRecordingBue()},__setPlaceholderSize:function(){var e=this.__getVideoDimensions();this._$el.find(".video-container").width(e.width),this._$el.find(".video-container").height(e.height)},__removePlaceholder"")},__getVideoDimensions:function(){var e=Math.min(480,this._$el.find(".QuestionBody").width());return{width:e,height:e/480*270}},__setUploadBoxDimensions:function(){var e=Math.min(440,this._$el.find(".QuestionBody").width());this._$el.find(".video-upload-container").width(e)}})}.apply(t,n))&&(e.exports=r)},function(e,s=i},function( 0)}i.isEven!1}},t=e.exports=i;var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var o=t.names=t.title={};for(a in n)o[n[a]]=a;for(var s in r)n[s]=r[s]},function(e,t,i){rn null}function u(){}var l=i(230),c=i(285),d=i(531);a.httpHandler=],r]}),t):t};e.exports=a,e.exports.default=a,a.XMLHttpRequest=l.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDi++)t(e[i])}(["get","put","post","patch","heaase(),o(i)}})},fdow.prompt)}e.exports=i;var n=Object.prototype.toString},function(e,t,i){e},"utf-8")}var r=i(230),a=function(e,t){return void 0===t&&(t=!1),function(i,a,o){if(i)return void e(i);if(a.statusCode>=400&&a.statusCode<=599){var s=o;if(t)if(r.TextDecoder){var u=n(a.headers&&a.headers["content-type"]);try{s=new TextDecoder(u).decode(o)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(o));return void e({cause:s})}e(null,o)}};e||r.shim()},funt(s,u)}}}funct/^\s+/,"")}var l=e;if(u(),t.startTime=s(),u(),"--\x3e"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+l);e=e.substr(3),u(),t.end"},t.align)}(e,t)}function u(e,t){for(var i,n=e.document.createElement("div"),a=n,o=?e[1]:e[2])}());)if("<"!==i[0])a.appendChild(e.document.createTextNode(function(e){return b.innerHTML=e,e=b.textContent,b.textContent="",e}(i)));else{if("/"===i[1]){o.length&&o[o.length-1]===i.substr(2).replace(">","")&&(o.pop(),a=a.parentNode);continue}var s,u=r(i.substr(1,i.length-2));if(u){s=e.document.createProcessingInstruction("timestamp",u),a.appendChild(s);continue}var l=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!l)coni.trim()),r}(l[1],l[3])))e.localName}(a,s))continue;if(l[2]){var c=l[2].split(".style[n]=r}}),s.className=c.join(" ")}o.push(l[1]),a.appendChild(s),urn-1*++n}falues(i))}function g(){}var v=i(314),y=Obpe=t,new e}}();n.prototype=y(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.praluevalues[e]:t},has:function(e){return e in thise,t);breeInt(t,1et(e,t),!0)}};var b=v.createElement&&v.createElement("textarea"),_={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},T={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},w={v:"title",lang:"lang"},E={rt:"ruby"},k=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];h.prototypele[i]=e[i])},h.prototype0===e?0:e+t},f.prototype=y(h.prototype),f.prototype.constructor=f,p.pr.bottom-=t}},p.prototottom>e.top},p.prototype!0;return!1},p.protht<=e.right},p.prototype.overlapsm>e.bottom}},p.prototype.intersethis.width)},p.prototype.toCSSthis.width}},p.getSimple.width||i}},g.Sonent(e))}}},g.convertu(e,t):null};gsplayStatgionList=[]},g.Parser.prototype={reportingerror(e)},parseLOCAL")})}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var c;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;c=t();var d=c.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new n(n.Errors.BadSignature);l.state="HEADER"}for(var h=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(h?h=!1:c=t(),l.state){case"HEADER"i(t)}},/:/)}(c):c||(l.state="ID");continue;case"NOTE":c||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){l.state="NOTE";break}if(!c)continue;l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,"");try{l.cue.align="center"}catch(e){l.cue.align="middle"}if(l.state="CUE",-1===c.indexOf("--\x3e")){l.cue.id=c;continue}case"CUE":try{s(c,l.cue,l.regionList)}catch(e){l.reportOrThrowError(e),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var f=-1!==c.indexOf("--\x3e");if(!c||f&&(h=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=c.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":c||(l.state="ID");continue}}}catch(e){l.reportOrThrowError(e),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}returnlush(),this}},e.exports=g},function(e,t){function i(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function n(e){return"string"==typeof e&&(!!s[e.toLowerCase()]&&e.totate=void 0}var a="auto",o={"":1,lr:1,rl:1},s={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};r.prototype.,this.text)},e.exports=r},f):u=t}}})}var a={"":!0,up:!0};e.exports=r},function(e,t,i){function n(t,i,o){return a()?(e.exports=n=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):rototype),o},e.exports.default=e.exports,e.exports.__esModule=!0),n.apply(null,arguments)}var r=i(286),a=i(538);e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},f){return!1}}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},fun),t&&r(e,t)}var r=i(286);e.exports=n,e.exports.default=e.exports,e.exports.__xports=o}()},function(e,t,i){"use strict";i.d(t,"a",function(){return _});var n=i(316),r=i.n(n),a=i(542),o=i(285),s=i.n(o),u=i(315),l=i.n(u),c=i(318),dbuffer="",t}return r()(t,e),t.prstring(t+1)},t}(a.a),h=String.fromCt["|[^,]*))')},m=function(e){for(var t,i=e.split(p()),n={},r=i.length;r--;)""!==i[r]&&(t=/([^=]*)=(.*)/.exec(i[r]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n},gappers=[],t}r()(t,e);var i=t.prototype;return i.push=function(e){var t,i,n=this;if(e=e.trim(),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});this.tagMaconcat([n])},[e]).forEach(function(e){for(var r=0;r<n.customParsers.length;r++)if(n.customParsers[r].call(n,e))return;if(0!==e.indexOf("#EXT"))return void n.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void n.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void n.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void n.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void n.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void n.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void n.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void n.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return i=s()(f(t[1]),{type:"tag",tagType:"byterange"}),void n.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void n.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var a=m(t[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=f(a.BYTERANGE))}return void n.trigger("data",i)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=m(t[1]),i.attributes.RESOLUTION){var o=i.attributes.RESOLUTION.split("x"),u={};o[0]&&(u.width=parseInt(o[0],10)),o[1]&&(u.height=parseInt(o[1],10)),i.attributes.RESOLUTION=u}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}return void n.trigger("data",i)}return(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))?(i={type:"tag",tagType:"media"},t[1]&&(i.attributes=m(t[1])),void n.trigger("data",i)):(t=/^#EXT-X-ENDLIST/.exec(e))?void n.trigger("data",{type:"tag",tagType:"endlist"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void n.trigger("data",{type:"tag",tagType:"discontinuity"}):(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void n.trigger("data",i)):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(i={type:"tag",tagType:"key"},t[1]&&(i.attributes=m(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void n.trigger("data",i)):(t=/^#EXT-X-START:?(.*)$/.exec(e))?(i={type:"tag",tagType:"start"},t[1]&&(i.attributes=m(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void n.trigger("data",i)):(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void n.trigger("data",i)):(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void n.trigger("data",i)):(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void n.trigger("data",i)):(t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1]?(i={type:"tag",tagType:"skip"},i.attributes=m(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(h)),void n.trigger("data",i)):(t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1]?(i={type:"tag",tagType:"part"},i.attributes=m(t[1]),["DURATION"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=f(i.attributes.BYTERANGE)),void n.trigger("data",i)):(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1]?(i={type:"tag",tagType:"server-control"},i.attributes=m(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOibutes[e]))}),void n.trigger("data",i)):(t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1]?(i={type:"tag",tagType:"part-inf"},i.attributes=m(t[1]),["PART-TARGibutes[e]))}),void n.trigger("data",i)):(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1]?(i={type:"tag",tagType:"preload-hint"},i.attributes=m(t[1]),["BYTERANGE-START","BYTERANGE-LENGributes[e]}}),void n.trigger("data",i)):(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1]?(i={type:"tag",tagType:"rendition-report"},i.attributes=m(t[1]),["LAST-MSN","LAST-PAtes[e],10))}),void n.trigger("data",i)):void n.trigger("data",{type:"tag",data:e.slice(4)})})}}nt:a}),!0})},i.ers.push(npe)]}),t[o]=u)}},_=function(e){function t(){var t;t=e.call(this)||this,t.lineStream=new d,t.parseStream=new g,t.lineStream.pipe(t.parseStream);var i,n,r=l()(t),a=[],o={},u=!1,h=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var m=0,v=0;returdSegment=o)}),t.parseStream.on("data",function(e){var t,l;({tag:function(=e.version)},"owCache=!0et+t.len.end.segments=a},key:function(){if(!e.attributes)return void this.trigger("warn",{message:"ignoring key declaration without attribute list"});if("NONE"===e.attributes.METHOD)return void(n=null);if(!e.attributes.URI)return void this.trigger("warn",{message:"ignoring key declaration without URI"});if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:Object(c.a)(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(n.iv=e.attributes.IV)},"medce=e.number},"discontinui,p=e.number},"pllayl&&(i.key=n)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!e.attributes)return void this.trigger("warn",{message:"ignoring empty stream-inf attributes"});o.attributes||(o.attributes={}),s()(o.attributes,e.attribtes.NAME]=l},dh(a.length)},"prograeTimeObject},targetduration:function(){if(!isFinite(e.duration)||e.duration<0)return void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration});this.manifest.targetDuration=e.duration,b.call(this,this.manifest)},start:function(){if(!e.attributes||isNaN(e.attributes["TIME-OFFSET"]))return void this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.daueIn=SEGMET-PART"})})},"serS is set"})},"pnt #"+a}))}},"renditributes,n)s.manifest)}})[e.tagType]||h).i),v=0,o={}},comment:functiope]=e.data)}})[e.type].call(r)}),t}r()(t,e);var i=t.prototype;return i.warnOnMissinoin(", ")})},i.push=function(e){this.lineStream.pugger("end")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(a.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.pushdeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,r){var a,o,s=8*r-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=i?r-1:0,h=i?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=l}return(f?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,i,n,r,a){var o,s,u,l=8*a-r-1,c=(1<<l)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+d>=1?h/u:h*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*u-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[i+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;e[i+f]=255&o,f+=p,o/=256,l-=8);e[i+f=i.call(e)}},function(e,t,i){"use strict";i.d(t,"i",function(){return u}),i.d(t,"h",function(){return l}),i.d(t,"d",function(){return c}),i.d(t,"f",function(){return d}),i.d(t,"e",function(){return f}),i.d(t,"c",function(){return p}),i.d(t,"g",function(){return m}),i.d(t,"a",function(){return g}),i.d(t,"b",function(){return v});var n=i(230),r=i.n(n),a={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},o=["video","audio","text"],s=["Video","Audiice(-2)}):e},l=function(e){void 0===e&&(e="");var t=e.split(","),i=[];return t.forEach(function(e){e=e.trim();variaType:n})}}),t||i.push({type:e,details:"",mediaType:"unknoreturn null},d=function(e){return void 0===e&&(e=""),a.audio.test(e.trim().toLowows=d(}return!1})},g="mp4a.40.2",v="ajson":null}},function(e,t,i){"use strict";i.d(t,"a",function(){return E}),i.d(t,"b",function(){return k}),i.d(t,"c",function(){return fe}),i.d(t,"d",function(){return pe});var n=i(317),r=i(230),a=i.n(r),o=i(318),s=i(54"==]}tun)ca])h(n),e},[])},m={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},g=function(e){var t=e.baseUrl,i=void 0===t?"":t,r=e.source,a=void 0===r?"":r,o=e.range,s=void 0===o?"":o,u=e.indexRange,l=void 0===u?"":u,c={uri:a,resolvedUri:Object(n.a)(i||"",a)};if(s||l){var d=s||l,h=d.split("-"),f=parseInt(h[0],10),p=parseInt(h[1],10);c.byterange={length:p-f+1,offset:f}ffN(e)?null::0,end:r/s}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,a=void 0===r?1:r,o=e.duration,s=e.start,u=void 0===s?0:s,l=e.minimumUpdatePeriod,c=void 0===l?0:l,d=e.timeShiftBufferDepth,h=void 0===d?1/0:d,f=y(e.endNumber),p=(t+i)/1e3,m=n+u,g=p+c,v=g-m,b=Math.ceil(v*a/o),_=Math.floor((p-m-h)*a/o),T=Math.floor((p-m)*a/o);return{start:Math.max(0,_),end:"number"==typeof f?f:Math.m,t*humber=0,[l]},E=function(e,t,i){for(var n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,s=o.offset+o.length,u=t.timescale,l=t.referferenceType}),c=[],d=e.endList?"static":"dynamic",h=s+t.firstOffset,f=0;f<l.length;f++){var p=t.references[f],m=p.referencedSize,g=p.subsegmentDuration,v=h+m-1,y=h+"-"+v,b={baseUrl:i,timescale:u,timeline:a,periodIndex:a,duration:g,sourceDuration:r,indexRange:y,type:d},_=w(b)[0];n&&(_.map=n),c.push(_),h+=m}return e.seg.byterange)},S=function(e){return c(e.reduce(function(e,t){var i=t.attributes.id+(t.attributes.lang||"");if(e[i]){var n;t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[i].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)}else e[i]=t;returntinuolt)S="subs"),o},R=function(e){var t,i=e.attributes,n=e.segments;void 0===n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var r=(t={NAME:i.id,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t);return i.codecs&&(r.CODECS=i.codecs),{attributes:r,uri:"",endList:"static"===i.type,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}},I=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i=!1);var n,r=e.reduce(function(e,r){var a=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"",s=r.attributes.label||"main";if(o&&!r.attributes.label){var u=a?" ("+a+")":"";s=""+r.attributes.lang+u}e[s]||(e[s]={language:o,autoselect:!0,default:"main"===a,playlists:[],uri:""});var l=C(x(r,i),t);return e[s].playlists.push(l),void 0===n&&"main"===a&&(n=r,n.default=!0),e},{});if(!n){r[Object.keys(r)[0]].default=!0,t),a.sidx=r),a},L=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.cococontentType},U=function(e,t,i){var n;if(void 0===i&&(i={}),!e.length)return{};var r=e[0].attributes,a=r.sourceDuration,o=r.type,s=r.suggestedPresentationDelay,u=r.minimumUpdatePeriod,l=S(e.filter(L)).map(O),c=S(e.filter(M)),d=e.filteionServices}).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:a,playlists:A(l,i)};u>=0&&(f.minimumUpdatePeriod=1e3*u),t&&(f.locations=t),"dynamic"===o&&(f.suggestedPresentationDelay=s);var p=0===f.playlists.length;return c.length&&(f.mediaGroups.AUDIO.audio=I(c,i,p)),d.length&&(f.mediaGroups.SUBTITLES.subs=P(d,i)),h.length&&(f.mediaGroups["CLOSED-CAPTIONS"].c((++}return f},F=/\$([A-z]*)(?:(%0)([0-9inacriodIndex}]},H=function(e,t){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,a=void 0===r?{sourceURL:"",range:""}:r,o=g({baseUrl:e.baseUrl,source:q(a.sourceURL,i),range:a.range});returtionn o.map=a,o},G=function(e,t){var i=e.duration,n=e.segmentUrls,r=void 0===n?[]:n,a=e.periodStart;if(!i&&!t||i&&t)throw new Error(m.SEGMENT_TIME_UNSPECIFIED);var o,s=r.map(function(t){return W(e,t)});return i&&(o=T(e)),t&&(o=jime-o)/r,n}}).filter(function(e){rments=[]),a},$=function(e){returngName===t})},Q=function(e){return e.textContent.trim()},K=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,i=t.exec(e);if(!i)return 0;var n=i.slice(1),r=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(a||0)+86400*parseFloat(o||0)+3600*parseFloat(s||0)+60*parseFloat(u||0)+parseFlte.parse(e)},Z={mediaPresentationDuration:function(e){return K(e)},availabilrn J(e)/1e3},minimumUpdatePeriod:function(e){return K(e)},suggestedPresentationDelay:function(e){return K(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return K(e)},start:function(e){return K(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,1N(t)?K(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseseInt(e,10)},DEFAULT:function(e){r),e},{}):{}},te={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.pr(t)te Url:e})}})}},ae=function(e){rets}}return e},{})},oe=function(e){if("urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri){return("string"!=typeof e.value?[]:e.value.spllanguage:i}})}if("urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri){return("string"!=typeof e.value?[]:e.value.spl.channe(ue(u!==(ue(d,f)))}},de=function(e){if(""===e)throw new Error(m.DASH_EMPTY_MANIFEST);var t,i,n=new s.DOMParser;try{t=n.parseFromString(e,"application/xml"),i=t&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(m.DASH_INVALID_XML);E)}idxMapping)},pe=function(e){return).DOMParser},funld(t)}var c=i(268),d=i(320),h=i(551),f=i(552),p=d.DOMImplementation,m=c.NAMESPACE,g=f.ParseError,v=f.XMLReader;n.prototype.parseFromString=function(e,t){var i=this.options,n=new v,o=i.domBuilder||new a,s=i.errorHandler,u=i.locator,l=i.xmlns||{},c=/\/x?html?$/.test(t),d=c?h.HTML_ENTITIES:h.XML_ENTITIES;return u&&o.setDocumentLocator(u),n.errorHandler=r(s,o,u),n.domBuilder=i.domBuilder||o,c&&(l[""]=m.HTML),l.xml=l.xml||m.XML,e&&"string"==typeof e?n.parse(e,l,d):n.errorHandler.error("invalid doc source"),o.doc},a.prototype={sr.systemId)},uteNode(d)}.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processin),l(this,i)},ignorabion(e,t,i){locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocneNumber),l(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locas.locator))is.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".reeturn null}}),t.__DOMHandler=a,t.DOMParser=n,t.DOMImplementation=d.DOMImplementation,t.XMLSerializer=d.XMt",target:"",",telrec:"",Tfr:"",tfr:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",thing:"",varphi:""",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES},function(e,t,i){function n(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,n)}function r(){}function a(e,t,i,r,a){function d(e){if(e>65535){e-=65536;var t=55296+(e>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}function m(e){var t=e.slice(1,-1);return t in i?i[t]:"#"===t.charAt(0)?d(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function v(t){if(t>S){var i=e.substring(S,t).replace(/&#?\w+;/g,m);w&&y(S),r.characters(i,0,t-S),S=t}}function y(t,i){for(;t>=_&&(i=T.exec(e));)b=i.index,_=b+i[0].length,w.lineNumber++;w.columnNumber=t-b+1}for(var b=0,_=0,T=/.*(?:\r\n?|\n)|.*$/g,w=r.locator,E=[{currentNSMap:t}],k={},S=0;;){try{var C=e.indexOf("<",S);if(C<0){if(!e.substr(S).match(/^\s*$/)){var A=r.doc,x=A.createTextNode(e.substr(S));A.appendChild(x),r.currentElement=x}return}switch(C>S&&v(C),e.charAt(C+1)){case"/":var R=e.indexOf(">",C+3),I=e.substring(C+2,R).replace(/[ \t\n\r]+$/g,)for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&r.endPrefixMapping(L);O||a.fatalError("end tag name: "+I+" is not match the current start tagName:"+P.tagName)}else E.push(P);R++;break;case"?":w&&y(C),R=f(e,C,r);break;case"!":w&&y(C),R=h(e,C,r,a);break;default:w&&y(C);var M=new p,B=E[E.length-1].currentNSMap,R=s(e,C,M,B,m,a),U=M.length;if(!M.closed&&c(e,R,M.tagName,k)&&(M.closed=!0,i.nbsp||a.warning("unclosed xml attribute")),w&&U){for(var N=o(w,{}),j=0;j<U;j++){var F=M[j];y(F.offset),F.locator=o(w,{})}r.locator=N,u(M,r,B)&&E.push(M),r.locator=w}else u(M,r,B)&&E.push(M);g.isHTML(M.uri)&&!M.closed?R=l(e,R,M.tagName,m,r):R++}}catch(e){if(e instaunction o(e,t,n){i.attributeNames.h===T)s=e.slice(t,l),c=E;else{if(c!==w)throw new Error("attribute equal must after attrName");c=E}break;case"'":case'"':if(c===E||c===T){if(c===T&&(a.warning('attribute value must after "="'),s=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");u=e.slice(t,l).replace(/&#?\w+;/g,r),o(s,u,t-1),c=S}else{if(c!=k)throw new Error('attribute value must after "="');u=e.slice(t,l).repitch(c){case _:i.setTagNa:i.closedt,l)),l;case">":switch(c){case _:i.setTagName(e.slice(t,l));case S:case C:case A:break;case k:case T:u=e.slice(t,l),"/"===u.slice(-1)&&(i.closed=!0,u=u.slice(0,-1));case w:c===w&&(u=s),c==k?(a.warning('attribute "'+u+'" missed quot(")!'),o(s,u.replace(/&#?\w+;/g,r),t)):(g.isHTML(n[""])&&u.match(/^(?k;case A:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function u(e,t,i){for(var n=e.tagName,r=null,a=e.length;a--;){var o=e[a],s=o.qName,u=o.value,l=s.indexOf(":");if(l>0)var c=o.prefix=s.slice(0,l),h=s.slice(l+1),f="xmlns"===c&&h;else h=s,c=null,f="xmlns"===s&&"";o.localName=h,!1!==f&&(null==r&&(r={},d(i,i={})),i[f]=r[f]=u,o.uri=g.XMLNS,t.startPrefixMapping(f,u))}for(var a=e.length;a--;){o=e[a];var c=o.prefix;c&&("xml"===c&&(o.uri=g.XML),"xmlns"!==c&&(o.uri=i[c||""]))}var l=n.indexOf(":");l>0?(c=e.prefix=n.slice(0,l),h=e.localName=n.slice(l+1)):(c=null,h=e.localName=n);var p=e.uri=i[c||""];if(t.startElement(p,h,n,e),!e.closed)return e.currentNSMap=i,e.localNSMap=r,!0;if(t.endElement(p,h,n),r)for(c in r)Object.proipt|textarea)$/i.test(i)){var a=e.indexOf("</"+i+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(i)?(r.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,n),r.characters(o,0oper(e.chaOf("--\x3e",t+4);return r>t?(i.comment(e,t+4,r-t-4),r+3):(n.error("Unclosed comm+3}va1,l=][0],l=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var c=a[o-1];return i.var n=e.indexOf("?>",t);if(n){var r=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return i.processingInstruchis.attributeNames={}}function m(e,t){vandex=t,r.ex\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=new RegExp("[\\-\\.0-9"+v.s0]"),b=new RegExp("^"+v.source+y.source+"*(?::"+v.source+y.source+"*)?$"),_=0,T=1,w=2,E=3,k=4,S=5,C=6,A=7;n.prototype=new Error,n.prototype.name=n.name,r.prototype={parse:function(e,t,i){var n=this.domBuilder;n.startDocument(),d(t,t={}),a(e,t,i,n,this.errorHandler),n.endDocument()}},p.prototype={setTagName:function(e){if(!b.test(e))throw new Error("invalid.uri},getValuerray(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=t.getUint32(r)*i+t.getUint32(r+4),n.firstOffset=t.getUint32(r+8)*i+t.getUint32(r+12),r+=16),r+=2;var a=t.getUint16(r);for(r+=2;a>0;r+=12,a--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n};e.exports=n},function(e,t,i){"use strict";i.d(t,"a",function(){return h}),i.d(t,"b",function(){return f});var n=i(238),r=i(555),a=i(557),o=i(321),s=i(558),u={webm:Object(n.j)([119,101,98,109]),matroska:Object(n.j)([109,97,116,114,111,115,107,97]),flac:Object(n.j)([102,76,97,67]),ogg:Object(n.j)([79,103,103,83]),ac3:Object(n.j)([11,119]),riff:Object(n.j)([82,73,70,70]),avi:Object(n.j)([65,86,73]),wav:Object(n.j)([87,65,86,69]),"3gp":Object(n.j)([102,116,121,112,51,103]),mp4:Object(n.j)([102,116,121,112]),fmp4:Object(n.j)([115,116,121,112]),mov:Object(n.j)([102,116,121,112,113,116]),moov:Object(n.j)([109,111,111,118]),moof:Object(n.j)([109,111,111,102])},l={aac:function(e){var t=Object(o.a)(e);return Object(n.a)(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Object(o.a)(e);return Object(n.a)(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=Object(a.b)(e,[a.a.EBML,a.a.DocType])[0];return Object(n.a)(t,u.webm)},mkv:function(e){var t=Object(a.b)(e,[a.a.EBML,a.a.DocType])[0];return Object(n.a)(t,u.matroska)},mp4:function(e){return!l["3gp"](e)&&!l.mov(e)&&(!(!Object(n.a)(e,u.mp4,{offset:4})&&!Object(n.a)(e,u.fmp4,{offset:4}))||(!(!Object(n.a)(e,u.moof,{offset:4})&&!Object(n.a)(e,u.moov,{offset:4}))||void 0))},mov:function(e){return Object(n.a)(e,u.mov,{offset:4})},"3gp":function(e)ject(o.a)(e);return Object(n.a)(e,u.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:futictength}},c=Object.keys(l).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]);c.forEach(function(e){var t=l[e];l[e]=function(e){return t(Object(n.j)(e))}});var d=l,h=function(e){e=Object(n.j)(e);for(var t=0;t<c.length;t++){var i=c[t];if(d[i](e))return i}return""},f=function(e){return Object(r.a)(e,["moof"]).length>0}},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n,r=i(238),a=(i(322),i(556),function(e){return"string"==typeof e?Object(r.g)(e):e}),o=function(e){return Array.isArray(e)?e.map(function(e){return a(e)}):[a(e)]},;bors=s(e.subarray(t.size))||[],t}},{id:4,parse]<<8|t[s+3])>>>0,l=t.subarray(s+4,s+8);if(0===u)break;var c=s+u;if(c>t.length){if(n)break;c=t.length}var d=t.subarray(s+8,c);Object(r.a)(l,i[0])&&(1===i.length?a.push(d):a.push.apply(a,e(d,i.slice(1),n))),s=c}return a}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=t.getUint8(0),n=0!==i,r={version:i,channels:t.getUint8(1),preSkip:t.getUint16(2,n),sampleRate:t.getUint32(4,n),outputGain:t.getUint16(8,n),channelMappingFamily:t.getUint8(10)};if(r.channelMappingFamily>0&&e.length>10){r.streamCount=t.getUint8(11),r.twoChannelStreamCount=t.getUint8(12),r.channelMapping=[];for(var a=0;a<r.channels;a++)r.channelMapping.push(t.getUint8(13+a))}return r})},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return d});var n=i(238),r=(i(322),{EBML:Object(n.j)([26,69,223,163]),DocType:Object(n.j)([66,130]),Segment:Object(n.j)([24,83,128,103]),SegmentInfo:Object(n.j)([21,73,169,102]),Tracks:Object(n.j)([22,84,174,107]),Track:Object(n.j)([174]),TrackNumber:Object(n.j)([215]),DefaultDuration:Object(n.j)([35,227,131]),TrackEntry:Object(n.j)([174]),TrackType:Object(n.j)([131]),FlagDefault:Object(n.j)([136]),CodecID:Object(n.j)([134]),CodecPrivate:Object(n.j)([99,162]),VideoTrack:Object(n.j)([224]),AudioTrack:Object(n.j)([225]),Cluster:Object(n.j)([31,67,182,117]),Timestamp:Object(n.j)([231]),Timestamk:Object(n.j)([163])}),a=[128,64,32,16,8,4,2,1],o=function(e){for(var t=1,i=0;i<a.length&&!(e&a[i]);i++)t++;return t},s=function(e,t,i,r){void 0===i&&(i=!0),void 0===r&&(r=!1);var s=o(e[t]),u=e.subarray(t,t+s);return i&&(u=Array.prototype.slice.call(e,t,t+s),u[0]^=a[s-1]),{length:s,value:Object(n.b)(u,{signed:r}),bytes:u}},u=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map(function(t){return e(t)}):"number"==typeof t?Object(n.e)(t):t},l=function(e){return Array.isArray(e)?e.map(function(e){return u(e)}):[u(e)]},c=function e(t,i,r){if(r>=i.length)return i.length;var a=s(i,r,!1);if(Object(n.a)(t.bytes,a.bytes))return r;var o=s(i,r+a.length);return e(t,i,r+o.length+o.value+a.length)},d=function e(t,i){i=l(i),t=Object(n.j)(t);var r=[];if(!i.length)return r;for(var a=0;a<t.length;){var o=s(t,a,!1),u=s(t,a+o.length),d=a+o.length+u.length;127===u.value&&(u.value=c(o,t,d),u.value!==t.length&&(u.value-=d));var h=d+u.value>t.length?t.length:d+u.value,f=t.subarray(d,h);Object(n.a)(i[0],o.bytes)&&(1===i.length?r.push(f):r=r.concat(e(f,i.slice(1))));a+=o.length+u.length+f.length}return r}},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i.d(t,"b",function(){return c});var n=i(238),r=Object(n.j)([0,0,0,1]),a=Object(n.j)([0,0,1]),o=Object(n.j)([0,0,3]),s=function(e){for(var t=[],i=1;i<e.length-2;)Object(n.a)(e.subarray(i,i+3),o)&&(t.push(i+2),i++),i++;if(0===t.length)return e;var r=e.length-t.length,a=new Uint8Array(r),s=0;for(i=0;i<r;s++,i++)s===t[0]&&(s++,t.shift()),a[i]=e[s];return a},u=function(e,t,i,o){void 0===o&&(o=1/0),e=Object(n.j)(e),i=[].concat(i);for(var u,l=0,c=0;l<e.length&&(c<o||u);){var d=void 0;if(Object(n.a)(e.subarray(l),r)?d=4:Object(n.a)(e.subarray(l),a)&&(d=3),d){if(c++,u)return s(e.subarray(u,l));var h=void 0;"h264"===t?h=31&e[l+d]:"h265"===t&&(h=e[l+d]>>1&63),-1!==i.indexOf(h)&&(u=l+d),l+=d+("h264"===t?1:2)}else l++}return e.subarray(0,0)},l=function(e,t,i){return u(e,"h264",t,i)},c=function(e,t,i){return u(e,"h265",t,i)}},function(e,t){var i,n,r,a,o,s,u;i=function(e){return 9e4*e},n=function(e,t){return e*t},r=function(e){return e/9e4},a=function(e,t){return e/t},o=function(e,t){return i(a(e,t))},s=function(e,toTs:n,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:u}},function(e,t,i){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}var r,a,o,s=i(323),u=n(s),l=i(269),c=n(l),d=i(272),h=n(d),f=i(251),p=n(f),m=i(252),g=n(m),v=i(253),y=n(v),b=i(330),_=n(b),T=i(256),w=n(T),E=i(334),k=n(E),S=i(245),C=n(S),A=i(242),x=n(A);!function(n,s){"object"===(0,x.default)(t)&&"object"===(0,x.default)(e)?e.exports=s(i(237),i(335)):(a=[i(237),i(335)],r=s,void 0!==(o="function"==typeof r?r.apply(t,a):r)&&(e.exports=o))}(self,function(e,t){return function(){function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,i),a.exports}var n={"./node_modules/add-zero/index.js":function(e,t,i){var n;!function(t){function r(e,t){t=t||2;var i=Number(e)<0,n=e.toString(),r=0;return i&&(n=n.slice(1)),r=t-n.length+1,n=new Array(r).join("0").concat(n),(i?"-":"")+n}void 0!==(n=function(){return r}.call(t,i,t,e))&&(e.exports=n)}(this)},"./src/js/defaults.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={debug:!1,displayMilliseconds:!0},n=i;t.default=n,e.exports=t.default},"./src/js/event.js":function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,C.default)(e,n.key,n)}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){n(this,e)});r.READY="ready",r.ERROR="error",r.VOLUMECHANGE="volumechange",r.FULLSCREENCHANGE="fullscreenchange",r.TIMEUPDATE="timeupdate",r.ENDED="ended",r.PAUSE="pause",r.FINISH="finish",r.SEEK="seek",r.REDRAW="redraw",r.AUDIOPROCESS="audioprocess",r.DEVICE_READY="deviceReady",r.DEVICE_ERROR="deviceError",r.AUDIO_OUTPUT_READY="audioOutputReady",r.WAVE_READY="waveReady",r.PLAYBACK_FINISH="playbackFinish",r.ABORT="abort",r.RESIZE="resize",(0,k.default)(r);var a=r;t.default=a,e.exports=t.default},"./src/js/middleware.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={setSource:function(e,t){if(this.player.usingPlugin("wavesurfer")){var i=this.player.wavesurfer().surfer.params.backend,n=e.src,r=e.peaks;switch(i){case"WebAudio":this.player.wavesurfer().load(n);break;default:t(null,e);var a=this.player.tech_.el();void 0===r?this.player.wavesurfer().load(a):this.player.wavesurfer().load(a,r)}}else t(null,e)}},n=i;t.default=n,e.exports=t.default},"./src/js/utils/format-time.js":function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("./node_modules/add-zero/index.js")),a=n(i("./node_modules/parse-ms/index.js")),o=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=e<0?0:e,(isNaN(e)||e===1/0)&&(e=0);var n=(0,a.default)(1e3*e),o=n;void 0!==t&&(o=(0,a.default)(1e3*t));var s=(0,r.default)(n.hours),u=(0,r.default)(n.minutes),l=(0,r.default)(n.seconds),c=(0,r.default)(n.milliseconds,3);if(n.days>0||o.days>0){return"".concat((0,r.default)(n.days),":").concat(s,":").concat(u,":").concat(l)}return n.hours>0||o.hours>0?"".concat(s,":").concat(u,":").concat(l):i?"".concat(u,":").concat(l,":").concat(c):"".concat(u,":").concat(l)},s=o;t.default=s,e.exports=t.default},"./src/js/utils/log.js":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(i("video.js")),r=function(e,t,i){!0===i&&("error"===t?n.default.log.error(e):"warn"===t?n.default.log.warn(e):n.default.log(e))}indow.js":function(e,t,i){var n;n="undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},e.exports=n},"video.js":function(t){t.exports=e},"wavesurfer.js":function(e){e.exports=t},"./node_modules/parse-ms/index.js":function(e,t,i){function n(e){if("number"!=typeof e)throw new TypeError("Expected a number");var t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3,microseconds:t(1e3*e)%1e3,nanoseconds:t(1e6*e)%1e3}}i.r(t),i.d(t,{default:function(){return n}})}},r={};!function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&(0,C.default)(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===("undefined"==typeof globalThis?"undefined":(0,x.default)(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===("undefined"==typeof window?"undefined":(0,x.default)(window)))return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){void 0!==w.default&&_.default&&(0,C.default)(e,_.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var a={};return function(){function e(t){"@babel/helpers - typeof";return(e="function"==typeof w.default&&"symbol"==(0,x.default)(y.default)?function(e){return void 0===e?"undefined":(0,x.default)(e)}:function(e){return e&&"function"==typeof w.default&&e.constructor===w.default&&e!==w.default.prototype?"symbol":void 0===e?"undefined":(0,x.default)(e)})(t)}function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,C.default)(e,n.key,n)}}function o(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,g.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=p.default?p.default.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=v();return function(){var i,n=b(e);if(t){var r=b(this).constructor;i=(0,h.default)(n,arguments,r)}else i=n.apply(this,arguments);return f(this,i)}}function f(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!h.default)return!1;if(h.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,h.default)(Boolean,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=p.default?c.default.bind():function(e){return e.__proto__||(0,c.default)(e)})(e)}var _=a;Object.defineProperty(_,"__esModule",{value:!0}),_.Wavesurfer=void 0;var T=t(i("./src/js/event.js")),E=t(i("./src/js/utils/log.js")),k=t(i("./src/js/utils/format-time.js")),S=t(i("./src/js/defaults.js")),A=t(i("./src/js/middleware.js")),R=(t(i("./node_modules/global/window.js")),t(i("video.js"))),I=t(i("wavesurfer.js")),P=R.default.getPlugin("plugin"),D="vjs-wavesurfer",O=function(e){function t(e,r){var a;return n(this,t),a=i.call(this,e,r),e.addClass(D),r=R.default.mergeOptions(S.default,r),a.waveReady=!1,a.waveFinished=!1,a.liveMode=!1,a.backend=null,a.debug="true"===r.debug.toString(),a.textTracksEnabled=a.player.options_.tracks.length>0,a.displayMilliseconds=r.displayMilliseconds,r.formatTime&&"function"==typeof r.formatTime?a.setFormatTime(r.formatTime):a.setFormatTime(function(e,t){return(0,k.default)(e,t,a.displayMilliseconds)}),a.player.one(T.default.READY,a.initialize.bind(m(a))),a}s(t,e);var i=d(t);return o(t,[{key:"initialize",value:function(){var e=this;void 0!==this.player.bigPlayButton&&this.player.bigPlayButton.hide();var t=this.parseOptions(this.player.options_.plugins.wavesurfer);if(!0===this.player.options_.controls){this.player.controlBar.show(),this.player.controlBar.el_.style.display="flex","WebAudio"===this.backend&&void 0!==this.player.controlBar.progressControl&&this.player.controlBar.progressControl.hide(),void 0!==this.player.controlBar.pictureInPictureToggle&&this.player.controlBar.pictureInPictureToggle.hide();["currentTimeDisplay","timeDivider","durationDisplay"].forEach(function(t){void 0!==(t=e.player.controlBar[t])&&(t.el_.style.display="block",t.show())}),void 0!==this.player.controlBar.remainingTimeDisplay&&this.player.controlBar.remainingTimeDisplay.hide(),"WebAudio"===this.backend&&void 0!==this.player.controlBar.playToggle&&(this.player.controlBar.playToggle.on(["tap","click"],this.onPlayToggle.bind(this)),this.player.controlBar.playToggle.hide())}this.surfer=I.default.create(t),this.surfer.on(T.fault.FINISH,this.onWaveFinish.bind(this)),this.backend=this.surfer.params.backend,this.log("Using wavesurfer.js "+this.backend+" backend."),"microphone"in this.player.wavesurfer().surfer.getActivePlugins()&&(this.liveMode=!0,this.waveReady=!0,this.log("wavesurfer.js microphone plugin enabled."),this.player.controlBar.playToggle.show(),this.surfer.microphone.on(T.default.DEVICE_ERROR,this.onWaveError.bind(this))),this.surferReady=this.onWaveReady.bind(this),"WebAudio"===this.backend&&(this.surferProgress=this.onWaveProgress.bind(this),this.surferSeek=this.onWaveSeek.bind(this),this.player.muted()&&this.setVolume(0)),this.liveMode||this.setupPlaybackEvents(!0),this.player.on(T.default.VOLUMECHANGE,this.onVolumeChange.bind(this)),this.player.on(T.default.FULLSCREENCHANGE,this.onScreenChange.bind(this)),!0===this.player.options_.fluid&&(this.surfer.drawer.wrapper.className="vjs-wavedisplay")}},{key:"parseOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.player.el_.getBoundingClientRect();this.originalWidth=this.player.options_.width||t.width,this.originalHeight=this.player.options_.height||t.height;var i=this.player.controlBar.height();if(!0===this.player.options_.controls&&0===i&&(i=30),void 0===e.container&&(e.container=this.player.el_),void 0===e.waveformHeight){var n=t.height;e.height=n-i}else e.height=e.waveformHeight;return e.splitChannels&&!0===e.splitChannels&&(e.height/=2),"backend"in e?this.backend=e.backend:e.backend=this.backend="MediaElement",e}},{key:"setupPlaybackEvents",value:function(e){!1===e?(this.surfer.un(T.default.READY,this.surferReady),"WebAudio"===this.backend&&(this.surfer.un(T.default.AUDIOPROCESS,this.surferProgress),this.surfer.un(T.default.SEEK,this.surferSeek))):!0===e&&(this.surfer.on(T.default.READY,this.surferReady),"WebAudio"===this.backend&&(this.surfer.on(T.default.AUDIOPROCESS,this.surferProgress),this.surfer.on(T.default.SEEK,this.surferSeek)))}},{key:"load",value:function(e,t){e instanceof Blob||e instanceof File?(this.log("Loading object: "+(0,u.default)(e)),this.surfer.loadBlob(e)):void 0!==t?this.loadPeaks(e,t):("string"==typeof e?this.log("Loading URL: "+e):this.log("Loading element: "+e),this.surfer.load(e))}},{key:"loadPeaks",value:function(e,t){var i=this;if(Array.isArray(t))this.log("Loading URL with array of peaks: "+e),this.surfer.load(e,t);else{var n={url:t,responseType:"json"};void 0!==this.player.options_.plugins.wavesurfer.xhr&&(n.xhr=this.player.options_.plugins.wavesurfer.xhr);var r=I.default.util.fetchFile(n);r.once("success",function(n){i.log("Loaded Peak Data URL: "+t),n&&n.data?i.surfer.load(e,n.data):(i.player.trigger(T.default.ERROR,"Could not load peaks data from "+t),i.log(err,"error"))}),r.once("error",function(e){i.player.trigger(T.default.ERROR,"Unable to retrieve peak data from "+t+". Status code: "+r.response.status)})}}},{key:"play",value:function(){if(void 0!==this.player.controlBar.playToggle&&this.player.controlBar.playToggle.contentEl()&&this.player.controlBar.playToggle.handlePlay(),this.liveMode)if(this.surfer.microphone.active){var e=!this.surfer.microphone.paused;e?this.pause():(this.log("Resume microphone"),this.surfer.microphone.play())}else this.log("Start microphone"),this.surfer.microphone.start();else this.log("Start playback"),this.player.play(),this.surfer.play()}},{key:"pause",value:function(){void 0!==this.player.controlBar.playToggle&&this.player.controlBar.playToggle.contentEl()&&this.player.controlBar.playToggle.handlePause(),this.liveMode?(this.log("Pause microphone"),this.surfer.microphone.pause()):(this.log("Pause playback"),this.waveFinished?this.waveFinished=!1:this.surfer.pause(),this.setCurrentTime())}},{key:"dispose",value:function(){this.surfer&&(this.liveMode&&this.surfer.microphone&&(this.surfer.microphone.destroy(),this.log("Destroyed microphone plugin")),this.surfer.destroy()),this.log("Destroyed plugin")}},{key:"isDestroyed",value:function(){return this.player&&null===this.player.children()}},{key:"destroy",value:function(){this.player.dispose()}},{key:"setVolume",value:function(e){void 0!==e&&(this.log("Changing volume to: "+e),this.player.volume(e))}},{key:"exportImage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blob";return this.surfer.exportImage(e,t,i)}},{key:"setAudioOutput",value:function(e){var t=this;e&&this.surfer.r(T.default.AUDIO_OUTPUT_READY)}).catch(function(e){t.player.trigger(T.default.ERROR,e),t.log(e,"error")})}},{key:"getCurrentTime",value:function(){var e=this.surfer.getCurrentTime();return e=isNaN(e)?0:e}},{key:"setCurrentTime",value:function(e,t){if(void 0===e&&(e=thirfer.getDuration()),e=isNaN(e)?ar.currentTimeDisplay.contentEl().lastChild){var i=Math.min(e,t);this.player.controlBar.currentTimeDisplay.formattedTime_=this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent=this._formatTime(i,t,this.displayMie.removeClass("vjs-ended"),e.player.trigger(T.default.PAUSE)}))layToggle.hasClass("vjs-ended")&&this.player.controlBar.playToggle.removeClass("vjs-ended"),this.surfer.isPlaying()?this.pause():this.play()}},{key:"onV{this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):"keys"==,i(586),e.exports=i(223).Symbol},function(e,t,i){"use striT=i(241),w=i(292),E=i(271),k=i(273),S=i(332),C=i(274),AL&&L.stringify,B=f("_hidden"),U=f("toPrimitive"),N={}unction"==typeof O&&!!A.f,H=n.QObject,W=!H||!H.protot(e,B,E(1,{})),e[B][t]=!0),G(e,t,i)):P(e,t,i)},Q=function(et.get},function(e,t,i){function n(e}catch(e){c&&!o&&c.exit(),l(e)}}(i[a++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){v.call(u,function(){var t,i,n,r=e._v,a=M(e);if(a&&(t=_(function(){x?k.emit("unhandledRejection",r,e):(i=u.onunhandledrejection)?i({promise:e,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=x||M(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){v.call(u,function(){var t;x?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},N=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw E("Promise can't be resolved itself");(t=D(e))?y(function(){var n={_w:i,_d:!1};try{t.call(e,l(N,n,1),l(U,n,1))}catch(e){U.call(n,e)}}):(i._v=e,i._s=1,O(i,!1))}catch(e){U.call({_w:i,_d:!1},e)}}};P||(A=function(e){p(this,A,"Promise","_h"),f(e),n.call(this);try{e(l(N,this,1),l(U,this,1))}catch(e){U.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(303)(A.prototype,{then:function(e,t){var i=I(g(this,A));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=x?k.domain:void 0,this._c.push(i),this._a&&thmise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=l(N,e,1),this.reject=l(U,e,1)},b.f=I=function(e){return e===A||e===o?new a(e):r(e)}),d(d.G+d.W+d.F*!P,{Promise:A}),i(255)(A,"Promise"),i(620)("Promise"),o=i(223).Promise,d(d.S+d.F*!P,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(e){return w(s&&this===o?A:this,e)}}),d(d.S+d.F*!(P&&i(621)(function(e){A.n=i.resolve,r=i.reject,a=_(function(){var i=[],a=0,o=1;m(e,!1,function(e){var s=a++,u=!1;i.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,i[s]=e,--o||n(i))},r)}),--o||n(i)});return a.e&&r(a.v),i.promise},race:function(e){var t=this,i=I(t),n=i.reject,r=_(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(e,t,i){var n=i(225),r=i(342).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==i(250)(o);e.exports=function(){var e,t,i,l=function(){var n,r;for(u&&(n=o.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(u)i=function(){o.nextTick(l)};else if(!a||n.navigator&&n.navig{c.then(l)}}else i=function(){r.call(n,l)};else{var d=!0,h=document.createTextNode("");new a(l).observe(h,{characterData:!0}),i=function(){h.data=d=!d}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,i()),t=r}}},function(e,t,i){var n=i(225),r=n.navigator;e.exports=r&&r.userAgent||""},function(e,t,i){"use strict";var n=i(225),r=i(223),a=i(232),o=i(229),s=i(227)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n=i(227)("iterator"),r=!1;try{var a=[7][n]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:i=!0}},a[n]=function(){return o},e(a)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(226),r=i(223),a=i(225),o=i(341),s=i(344);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,r.Promise||a.Promise),i="function"==typeof e;return this.then(i?function(i){return s(t,e()).then(function(){return i})}:e,i?function(i){return s(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){"use strict";var n=i(226),r=i(307),a=i(343);n(n.S,"Promise",{try:function(e){var t=r.f(this),i=a(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}var r,a,o,s=i(306),u=n(s),l=i(245),c=n(l),d=i(242),h=n(d);!function(i,n){"object"===(0,h.default)(t)&&"object"===(0,h.default)(e)?e.exports=n():(a=[],r=n,void 0!==(o="function"==typeof r?r.apply(t,a):r)&&(e.exports=o))}(self,function(){return function(){function e(n){var r=i[n];if(void 0!==r)return r.exports;var a=i[n]={exports:{}};return t[n](a,a.exports,e),a.exports}var t={"./src/plugin/microphone/index.js":function(e,t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(t,n){var r=this;i(this,e),this.params=t,this.wavesurfer=n,this.active=!1,this.paused=!1,this.browser=this.detectBrowser(),this.reloadBufferFunction=function(e){return r.reloadBuffer(e)};var a=function(e,t,i){var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n?new u.default(function(t,i){n.call(navigator,e,t,i)}):u.default.reject(new Error("getUserMedia is not implemented in this browser"))};void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=a),this.constraints=this.params.constraints||{video:!1,audio:!0},this.bufferSize=this.params.bufferSize||4096,this.numberOfInputChannels=this.params.numberOfInputChannels||1,this.numberOfOutputChannels=this.params.numberOfOutputChannels||1,this._onBackendCreated=function(){r.micContext=r.wavesurfer.backend.getAudioContext()}}return r(e,[{key:"init",value:function(){this.wavesurfer.on("backend-created",this._onBackendCreated),this.wavesurfer.backend&&this._onBackendCreated()}},{key:"destroy",value:functios;navigator.mediaDevices.getUserMedia(this.constraints).then(function(t){return e.gs.paused,this.paused?this.pause():this.play()):this.start()}},{key:"play",value:funcnction(){this.active&&(this.stopDevice(),this.wavesurfer.empty())}},{key:"ss().forEach(function(e){return e.stop()})}},{key:"connect",value:functionrOfInputChannels,this.bufferSize,this.micContext.sampleRate)),this.mediaStreamSource=this.micContext.createMediaStreamSource(this.stream),this.levelChecker=this.micContext.createScriptProcessor(this.bufferSize,this.numberOfInputChannels,this.numberOfOutputChannels),this.mediaStreamSource.connect(this.levelChecker),this.levelChecker.connect(this.micContext.destination),this.levelChecker.onaudioprocess=this.reloadBufferFunction)}},{key:"disconnect",value:function(){void 0!==this.mediaStreamSource&&this.mediaStreamSource.disconnect(),void 0!==this.levelChecker&&(this.levelChecker.disconnect(),this.levelChecker.onaudioprocess=void 0),void 0!==this.localAudioBuffer&&(this.localAudioBuffer=void 0)}},{key:"reloadBuffer",value:function(e){if(!this.paused)if(this.wavesurfer.empty(),"edge"===this.browser.browser){var t,i;for(t=0,i=Math.min(this.localAudioBuffer.numberOfChannels,e.inputBuffer.numberOfChannels);t<i;t++)this.localAudioBuffer.getChannelData(t).set(e.inputBuffer.getChannelData(t));this.wavesurfer.loadDecodedBuffer(this.localAudioBuffer)}else this.wavesurfer.loadDecodedBuffer(e.inputBuffer)}},{key:"gotStream",value:function(e){this.stream=e,this.active=!0,this.play(),this.fireEvent("deviceReady",e)}},{key:"deviceError",value:function(e){this.fireEvent("deviceError",e)}},{key:"extractVersion",value:function(e,t,i){var n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}},{key:"detectBrowser",value:function(){var e={};return e.browser=null,e.version=null,e.minVersion=null,"undefined"!=typeof window&&window.navigator?navigator.mozGetUserMedia?(e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1),e.minVersion=31,e):navigator.webkitGetUserMedia?(e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2),e.minVersion=38,e):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547,e):window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)?(e.browser="safari",e.minVersion=11,e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1),e):(e.browser="Not a supported browser.",e):(e.browser="Not a supported browser.",e)}}],[{key:"create",value:function(t){return{name:"microphone",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),e}();t.default=a,e.exports=t.default}},i={};return e("./src/plugin/microphone/index.js")}()})}).call(t,i(55)(e))},function(e,t,i){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}var r,a,o,s=i(330),u=n(s),l=i(334),c=n(l),d=i(301),h=n(d),f=i(272),p=n(f),m=i(253),g=n(m),v=i(256),y=n(v),b=i(252),_=n(b),T=i(269),w=n(T),E=i(251),k=n(E),S=i(339),C=n(S),A=i(338),x=n(A),R=i(245),I=n(R),P=i(306),D=n(P),O=i(242),L=n(O);!function(n,s){"object"===(0,L.default)(t)&&"object"===(0,L.default)(e)?e.exports=s(i(345),i(237)):(a=[i(345),i(237)],r=s,void 0!==(o="function"==typeof r?r.apply(t,a):r)&&(e.exports=o))}(self,function(e,t){return function(){function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,i),a.exports}var n={"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e){function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=t},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(e){function t(e,t,i,n,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void i(e)}s.done?t(u):D.default.resolve(u).then(n,r)}function i(e){return function(){var i=this,n=arguments;return new D.default(function(r,a){function o(e){t(u,r,a,o,s,"next",e)}function s(e){t(u,r,a,o,s,"throw",e)}var u=e.apply(i,n);o(void 0)})}}e.exports=i},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t},"./node_modules/@babel/runtime/helpers/createClass.js":function(e){function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,I.default)(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}e.exports=i},"./node_modules/@babel/runtime/helpers/get.js":function(e,t,i){function n(t,i,a){return"undefined"!=typeof Reflect&&x.default?e.exports=n=x.default:e.exports=n=function(e,t,i){var n=r(e,t);if(n){var a=(0,C.default)(n,t);return a.get?a.get.call(i):a.value}},n(t,i,a||t)}var r=i("./node_modules/@babel/runtime/helpers/superPropBase.js");e.exports=n},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(e){function t(i){return e.exports=t=k.default?w.default:function(e){return e.__proto__||(0,w.default)(e)},t(i)}e.exports=t},"./node_modules/@babel/runtime/helpers/inherits.js":function(e,t,i){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,_.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}var r=i("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=n},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e){function t(e){return e&&e.__esModule?e:{default:e}}e.exports=t},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(e,t,i){function n(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}var r=i("./node_modules/@babel/runtime/helpers/typeof.js"),a=i("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=n},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e){function t(i,n){return e.exports=t=k.default||function(e,t){return e.__proto__=t,e},t(i,n)}e.exports=t},"./node_modules/@babel/runtime/helpers/superPropBase.js":function(e,t,i){function n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}var r=i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");e.exports=n},"./node_modules/@babel/runtime/helpers/typeof.js":function(e){function t(i){"@babel/helpers - typeof";return"function"==typeof y.default&&"symbol"===(0,L.default)(g.default)?e.exports=t=function(e){return void 0===e?"undefined":(0,L.default)(e)}:e.exports=t=function(e){return e&&"function"==typeof y.default&&e.constructor===y.default&&e!==y.default.prototype?"symbol":void 0===e?"undefined":(0,L.default)(e)},t(i)}e.exports=t},"./node_modules/@babel/runtime/regenerator/index.js":function(e,t,i){e.exports=i("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/add-zero/index.js":function(e,t,i){var n;!function(t){function r(e,t){t=t||2;var i=Number(e)<0,n=e.toString(),r=0;return i&&(n=n.slice(1)),r=t-n.length+1,n=new Array(r).join("0").concat(n),(i?"-":"")+n}void 0!==(n=function(){return r}.call(t,i,t,e))&&(e.exports=n)}(this)},"./src/js/controls/animation-display.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,c.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/get.js")),l=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),c=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=h.default.getComponent("Component"),m=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"createEl",value:function(){var e=h.default.dom.createEl("img"),i=(0,u.defs).call(this,"div",{className:"vjs-animation-display",dir:"ltr"});return i.appendChild(e),i}}]),t}(f);f.registerComponent("AnimationDisplay",m);var g=m;t.default=g,e.exports=t.default},"./src/js/controls/camera-button.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,c.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/get.js")),l=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),c=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=a(i("./src/js/event.js")),m=h.default.getComponent("Button"),g=h.default.getComponent("Component"),v=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"buildCSSClass",value:function(){return"vjs-camera-button vjs-control vjs-button vjs-icon-photo-camera"}},{key:"enable",value:function(){(0,u.default)((0,d.default)(t.prototype),"enable",this).call(this),this.on(this.player_,f.default.START_RECORD,this.onStart),this.on(this.player_,f.default.STOP_RECORD,this.onStop)}},{key:"disable",value:function(){(0,u.default)((0,d.default)(t.prototype),"disable",this).call(this),this.off(this.player_,f.default.START_RECORD,this.onStart),this.off(this.player_,f.default.STOP_RECORD,this.onStop)}},{key:"show",value:function(){this.layoutExclude&&!0===this.layoutExclushow",this).call(this)}},{key:"handleClick",value:function(e){var t=this.player_.record();t.isProcessing()?(t.retrySnapshot(),this.onStop(),this.player_.trigger(f.default.RETRY)):t.start()}},{key:"onStart",value:function(e){this.removeClass("vjs-icon-photo-camera"),this.addClass("vjs-icon-replay"),this.controlText("Retry")}},{key:"onStop",value:function(e){this.removeClass("vjs-icon-replay"),this.addClass("vjs-icon-photo-camera"),this.controlText("Image")}}]),t}(m);v.prototype.controlText_="Image",g.registerComponent("CameraButton",v);var y=v;t.default=y,e.exports=t.default},"./src/js/controls/device-button.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,|!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/get.js")),l=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),c=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=h.default.getComponent("Button"),m=h.default.getComponent("Component"),g=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"handleClick",value:function(e){this.player_.record().getDevice()}},{key:"show",value:function(){this.layoutExclude&&!0===this.layoutExclude||(0,u.default)((0,d.default)(t.prototype),"show",this).call(this)}}]),t}(f);g.prototype.controlText_="Device",m.registerComponent("DeviceButton",g);var v=g;t.default=v,e.exports=t.default},"./src/js/controls/picture-in-picture-toggle.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,h.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/regenerator/index.js")),s=a(i("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),c=a(i("./node_modules/@babel/runtime/helpers/get.js")),d=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),h=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=a(i("video.js")),g=a(i("./src/js/event.js")),v=m.default.getComponent("Button"),y=m.default.getComponent("Component"),b=function(e){function t(e,n){var r;return(0,u.default)(this,t),r=i.call(this,e,n),r.on(r.player_,g.default.ENTER_PIP,r.onStart),r.on(r.player_,g.default.LEAVE_PIP,r.onStop),r}(0,d.default)(t,e);var i=n(t);return(0,l.default)(t,[{key:"buildCSSClass",value:function(){return"vjs-pip-button vjs-control vjs-button vjs-icon-picture-in-picture-start"}},{key:"show",value:function(){this.layoutExclude&&!0===this.layoutExclude||(0,c.default)((0,f.default)(t.prototype),"show",this).call(this)}},{key:"handleClick",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(o.default.mark(function e(t){var i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.player_.record(),this.disable(),ecture();case 6:e.next=10;break;case 8:return e.next=10,document.exitPictureInPicture();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.player_.trigger(g.default.ERROR,e.t0);case 15:return e.prev=15,this.enable(),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[2,12,15,18]])}));return e}()},{key:"onStart",value:function(e){this.removeClass("vjs-icon-picture-in-picture-start"),this.addClass("vjs-icon-picture-in-picture-stop")}},{key:"onStop",value:function(e){this.removeClass("vjs-icon-picture-in-picture-stop"),this.addClass("vjs-icon-picture-in-picture-start")}}]),t}(v);b.prototype.controlText_="Picture in Picture",y.registerComponent("PictureInPictureToggle",b);var _=b;t.default=_,e.exports=t.default},"./src/js/controls/record-canvas.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,c.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/get.js")),l=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),c=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=h.default.getComponent("Component"),m=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"createEl",value:function(){var e=h.default.dom.createEl("canvas"),i=(0,u.default)((0,d.default)(t.prototype),"createEl",this).call(this,"div",{className:"vjs-record-canvas",dir:"ltr"});return i.appendChild(e),i}}]),t}(f);f.registerComponent("RecordCanvas",m);var g=m;t.default=g,e.exports=t.default},"./src/js/controls/record-indicator.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,arguments,r)}el!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/get.js")),l=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),c=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=a(i("./src/js/event.js")),m=h.default.getComponent("Component"),g=function(e){function t(e,n){var r;return(0,o.default)(this,t),r=i.call(this,e,n),r.enable(),r}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"createEl",value:function(){var e={className:"vjs-record-indicator vjs-control",dir:"ltr"},i={"data-label":this.localize("REC")};return(0,u.default)((0,d.default)(t.prototype),"createEl",this).call(this,"div",e,i)}},{key:"enable",value:function(){this.on(this.player_,f.default.START_RECORD,this.show),this.on(this.player_,f.default.STOP_RECORD,this.hide)}},{key:"disable",value:function(){this.off(this.player_,f.default.START_RECORD,this.show),this.off(this.player_,f.default.STOP_RECORD,this.hide)}},{key:"show",value:function(){this.layoutExclude&&!0===this.layoutExclude||(0,u.default)((0,d.default)(t.prototype),"show",this).call(this)}}]),t}(m);m.registerComponent("RecordIndicator",g);var v=g;t.default=v,e.exports=t.default},"./src/js/controls/record-toggle.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,c.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babdules/@babel/runtime/hebel/runtime/helpers/possibe_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=a(i("./src/js/event.js")),m=h.default.getComponent("Button"),g=h.default.getComponent("Component"),v=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"buildCSSClass",value:function(){return"vjs-record-button vjs-control vjs-button vjs-icon-record-start"}},{key:"enable",value:function(){(0,u.default)((0,d.default)(t.prototype),"enable",this).call(this),this.on(this.player_,f.default.START_RECORD,this.onStart),this.on(this.player_,f.default.STOP_RECORD,this.onStop)}},{key:"disable",value:function(){(0,u.default)((0,d.default)(t.prototype),"disable",this).call(this),this.off(this.player_,f.default.START_RECORD,this.onStart),this.off(this.player_,f.default.STOP_RECORD,this.onStop)}},{key:"show",value:function(){this.layoutExclude&&!0===this.layoutExclude||(0,u.default)((0,d.default)(t.prototype),"show",this).call(this)}},{key:"handleClick",value:function(e){var t=this.player_.record();t.isRecording()?t.stop():t.start()}},{key:"onStart",value:function(e){this.removeClass("vjs-icon-record-start"),this.addClass("vjs-icon-record-stop"),this.controlText("Stop")}},{key:"onStop",value:function(e){this.rejs-icon-record-start"),this.controlText("Record")}}]),t}(m);v.prototype.controlText_="Record",g.registerComponent("RecordToggle",v);var y=v;t.default=y,e.exports=t.default},"./src/js/defaults.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={image:!1,audio:!1,video:!1,animation:!1,screen:!1,maxLength:10,maxFileSize:0,displayMilliseconds:!1,formatTime:void 0,frameWidth:320,frameHeight:240,debug:!1,pip:!1,autoMuteDevice:!1,videoBitRate:1200,videoEngine:"recordrtc",videoFrameRate:30,videoMimeType:"video/webm",videoRecorderType:"auto",videoWorkerURL:"",videoWebAssemblyURL:"",audioEngine:"recordrtc",audioRecorderType:"auto",audioMimeType:"auto",audioBufferSize:4096,audioSampleRate:44100,audioBitRate:128,audioChannels:2,audioWorkerURL:"",audioWebAssemblyURL:"",audioBufferUpdate:!1,animationFrameRate:200,animationQuality:10,imageOutputType:"dataURL",imageOutputFormat:"image/png",imageOutputQuality:.92,timeSlice:0,convertEngine:"",convertWorkerURL:"",convertOptions:[],convertAuto:!0,hotKeys:!1,pluginLibraryOptions:{}},n=i;t.default=n,e.exports=t.default},"./src/js/engine/convert-engine.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.TSEBML=t.FFMPEGWASM=t.FFMPEGJS=t.ConvertEngine=t.CONVERT_PLUGINS=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),l=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=a(i("video.js")),f=i("./src/js/utils/file-util.js"),m=d.default.getComponent("Component");t.TSEBML="ts-ebml";t.Fffmpeg.wasm";var g=["ts-ebml","ffmpeg.js","ffmpeg.wasm"];t.CONVERT_PLUGINS=g;var v=function(e){function t(e,n){return(0,o.default)(this,t),n.evented=!0,i.call(this,e,n)}(0,u.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"setup",value:function(e,t){this.mediaType=e,this.debug=t}},{key:"loadBlob",value:function(e){return(0,f.blobToArrayBuffer)(e)}},{key:"addFileInfo",value:function(e,t){(0,f.addFileInfo)(e,t)}},{key:"saveAs",value:function(e){var t=e[(0,h.default)(e)[0]];(0,f.downloadBlob)(t,this.player().convertedData)}}]),t}(m);t.ConvertEngine=v,d.default.ConvertEngine=v,m.registerComponent("ConvertEngine",v)},"./src/js/engine/engine-loader.js":function(e,t,i){var n=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.isAudioPluginActive=t.getVideoEngine=t.getConvertEngine=t.getAudioEngine=void 0;var r=n(i("video.js")),a=n(i("./src/js/engine/record-rtc.js")),o=i("./src/js/engine/convert-engine.js"),s=i("./src/js/engine/record-engine.js"),u=function(e){var t;switch(e){case s.RECORDRTC:t=a.default;break;case s.LIBVORBISJS:t=r.default.LibVorbisEngine;break;case s.RECORDERJS:t=r.default.RecorderjsEngine;break;case s.LAMEJS:t=r.default.LamejsEngine;break;case s.OPUSRECORDER:t=r.default.OpusRecorderEngine;break;case s.OPUSMEDIARECORDER:t=r.default.OpusMediaRecorderEngine;break;case s.VMSG:t=r.default.VmsgEngine;break;default:throw new Error("Unknown audioEngine: "+e)}return t};t.getAudioEngine=u;var l=function(e){var t;switch(e){case s.RECORDRTC:t=a.default;break;case s.WEBMWASM:t=r.default.WebmWasmEngine;break;default:throw new Error("Unknown videoEngine: "+e)}return t};t.getVideoEngine=l;var c=function(e){return s.AUDIO_PLUGINS.indexOf(e)>-1};t.isAudioPluginActive=c;var d=function(e){var t;switch(e){case"":break;case o.TSEBML:t=r.default.TsEBMLEngine;break;case o.FFMPEGJS:t=r.default.FFmpegjsEngine;break;case o.FFMPEGWASM:t=r.default.FFmpegWasmEngine;break;default:throw new Error("Unknown convertEngine: "+e)}return t};t.getConvertEngine=d},"./src/js/engine/record-engine.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.WEBMWASM=t.VMSG=t.VIDEO_PLUGINS=t.RecordEngine=t.RECORD_PLUGINS=t.RECORDRTC=t.RECORDERJS=t.OPUSRECORDER=t.OPUSMEDIARECORDER=t.LIBVORBISJS=t.LAMEJS=t.AUDIO_PLUGINS=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),l=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=a(i("video.js")),f=a(i("./src/js/event.js")),m=i("./src/js/utils/file-util.js"),g=d.default.getComponent("Component");t.RECORDRTC="recordrtc";t.Lorder";t.OPUSMEDIARECOrecorder.js","lamejs","opus-recorder","opus-media-recorder","vmsg"];t.AUDIO_PLUGPLUGINS=b;var _=function(e){function t(e,n){return(0,o.default)(this,t),n.evented=!0,i.call(this,e,n)}(0,u.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"dispose",value:function(){void 0!==this.recordedData&&URL.revokeObjectURL(this.recordedData)}},{key:"destroy",value:function(){}},{key:"addFileInfo",value:function(e){(0,m.addFileInfo)(e)}},{key:"onStopRecording",value:function(e){this.recordedData=e,this.addFileInfo(this.recordedData),this.dispose(),this.trigger(f.default.RECORD_COMPLETE)}},{key:"saveAs",value:function(e){var t=e[(0,h.default)(e)[0]];(0,m.downloadBlob)(t,this.recordedData)}}]),t}(g);t.RecordEngine=_,d.default.RecordEngine=_,g.registerComponent("RecordEngine",_)},"./src/js/engine/record-mode.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRecorderMode=t.VIDEO_ONLY=t.SCREEN_ONLY=t.IMAGE_ONLY=t.AUDIO_VIDEO=t.AUDIO_SCREEN=t.AUDIO_ONLY=t.ANIMATION=void 0;t.IMAGE_ONLY="image_only";t.AUDIO_ONLY="audio_only";t.VIDEO_ONLY="video_only";t.AUDIO_VIDEO="audio_video";t.AUDIO_SCREEN="audio_screen";t.ANIMATION="animation";t.SCREEN_ONLY="screen_only";var i=function(e,t,i,r,a){return n(e)?"image_only":n(r)?"animation":n(t)&&n(i)?"audio_video":n(t)&&n(a)?"audio_screen":!n(t)&&n(a)?"screen_only":n(t)&&!n(i)?"audio_only":!n(t)&&n(i)?"video_only":void 0};t.getRecorderMode=i;var n=function(e){return e===Object(e)||!0===e}},"./src/js/engine/record-rtc.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;i=(0,p.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,c.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],func a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/get.js")),l=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),c=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=a(i("video.js")),f=a(i("recordrtc")),m=a(i("./src/js/event.js")),g=i("./src/js/engine/record-engine.js"),v=(i("./src/js/utils/detect-browser.js"),i("./src/js/engine/record-mode.js")),y=h.default.getComponent("Component"),b=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,l.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"setup",value:function(e,t,i){this.inputStream=e,this.mediaType=t,this.debug=i,"screen"in this.mediaType&&(this.mediaType.video=!0),void 0!==this.recorderType&&(this.mediaType.video=this.recorderType),this.engine=new f.default.MRecordRTC,this.engine.mediaType=this.mediaType,this.engine.disableLogs=!this.debug,this.engine.mimeType=this.mimeType,this.engine.bufferSize=this.bufferSize,this.engine.sampleRate=this.sampleRate,this.engine.numberOfAudioChannels=this.audioChannels,this.engine.video=this.video,this.engine.canvas=this.canvas,this.engine.bitrate=this.bitRate,this.engine.quality=this.quality,this.engine.frameRate=this.frameRate,void 0!==this.timeSlice&&(this.engine.timeSlice=this.timeSlice,this.engine.onTimeStamp=this.onTimeStamp.bind(this)),this.engine.workerPath=this.workerPath,this.engine.webAssemblyPath=this.videoWebAssemblyURL,this.engine.addStream(this.inputStream)}},{key:"dispose",value:function(){(0,u.default)((0,d.default)(t.prototype),"dispose",this).call(this),this.destroy()}},{key:"destroy",value:function(){this.engine&&"function"==typeof this.engine.destroy&&this.engine.destroy()}},{key:"start",value:function(){this.engine.startRecording()}},{key:"stop",value:function(){this.engine.stopRecording(this.onStopRecording.bind(this))}},{key:"pause",value:function(){this.engine.pauseRecording()}},{key:"resume",value:function(){this.engine.resumeRecording()}},{key:"saveAs",value:function(e){this.engine&&void 0!==e&&this.engine.save(e)}},{key:"onStopRecording",value:function(e,t){var i=this;URL.revokeObjectURL(e);var n=this.player().record().getRecordType();this.engine.getBlob(function(e){switch(n){case v.AUDIO_ONLY:void 0!==e.audio&&(i.recordedData=e.audio);break;case v.VIDEO_ONLY:case v.AUDIO_VIDEO:case v.AUDIO_SCREEN:case v.SCREEN_ONLY:void 0!==e.video&&(i.recordedData=e.video);break;case v.ANIMATION:void 0!==e.gif&&(i.recordedData=e.gif)}i.addFileInfo(i.recordedData),i.trigger(m.default.RECORD_COMPLETE)})}},{key:"onTimeStamp",value:function(e,t){this.player().currentTimestamp=e,this.player().allTimestamps=t;var i;switch(this.player().record().getRecordType()){case v.AUDIO_ONLY:i=this.engine.audioRecorder;break;case v.ANIMATION:i=this.engine.gifRecorder;break;default:i=this.engine.videoRecorder}var n=!1;if(i&&(i=i.getInternalRecorder()),i instanceof f.default.MediaStreamRecorder==!0&&(this.player().recordedData=i.getArrayOfBlobs(),this.addFileInfo(this.player().recordedData[this.player_.recordedData.length-1]),this.maxFileSize>0)){new Blob(this.player().recordedData).size>=this.maxFileSize&&(n=!0)}this.player().trigger(m.default.TIMESTAMP),n&&this.player().record().stop()}}]),t}(g.RecordEngine);h.default.RecordRTCEngine=b,y.registerComponent("RecordRTCEngine",b);var _=b;t.default=_,e.exports=t.default},"./src/js/event.js":function(e,t,i){var n=i("./node_modules/@babel/runtime/helpers/operty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("./node_modules/@babel/runtime/helpers/createClass.js")),a=n(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=(0,r.default)(function e(){(0,a.default)(this,e)});o.READY="ready",o.ERROR="error",o.PLAYING="playing",o.LOADEDMETADATA="loadedmetadata",o.LOADSTART="loadstart",o.USERINACTIVE="userinactive",o.TIMEUPDATE="timeupdate",o.DURATIONCHANGE="durationchange",o.ENDED="ended",o.PAUSE="pause",o.PLAY="play",o.DEVICE_READY="deviceReady",o.DEVICE_ERROR="deviceError",o.START_RECORD="startRecord",o.STOP_RECORD="stopRecord",o.FINISH_RECORD="finishRecord",o.RECORD_COMPLETE="recordComplete",o.PROGRESS_RECORD="progressRecord",o.TIMESTAMP="timestamp",o.ENUMERATE_READY="enumerateReady",o.ENUMERATE_ERROR="enumerateError",o.AUDIO_BUFFER_UPDATE="audioBufferUpdate",o.AUDIO_OUTPUT_READY="audioOutputReady",o.START_CONVERT="sNVERT="finishConvert",o.ENTER_PIP="enterPIP",o.LEAVE_PIP="leavePIP",o.RETRY="retry",o.ENTERPICTUREINPICTURE="enterpictureinpicture",o.LEAVEPICTUREINPICTURE="leavepictureinpicture",(0,c.default)(o);var s=o;t.default=s,e.exports=t.default},"./src/js/hot-keys.js":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("./src/js/engine/record-mode.js"),r=function(e){switch(e.which){case 88:switch(this.player_.record().getRecordType()){case n.IMAGE_ONLY:this.player_.cameraButton.trigger("click");break;default:this.player_.recordToggle.trigger("click")}break;case 80:!0===this.player_.record().pictureInPicture&&this.player_.pipToggle.trigger("click");break;case 67:this.player_.controlBar.playToggle&&this.player_.controlBar.playToggle.contentEl()&&player.controlBar.playToggle.trigger("click")}},a=r;t.default=a,e.exports=t.default},"./src/js/utils/browser-shim.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e},n=i;t.default=n,e.exports=t.default},"./src/js/utils/compare-version.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if("string"!=typeof e)return!1;if("string"!=typeof t)return!1;e=e.split("."),t=t.split(".");var i=Math.min(e.length,t.length),n=0;for(n;n<i;++n){if(e[n]=parseInt(e[n],10),t[n]=parseInt(t[n],10),e[n]>t[n])return 1;if(e[n]<t[n])return-1}return e.length===t.length?0:e.length<t.length?-1:1},n=i;t.default=n,e.exports=t.default},"./src/js/utils/detect-browser.js":function(e,t,i){var n=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isOpera=t.isFirefox=t.isEdge=t.isChrome=t.detectBrowser=void 0;var r=n(i("./node_modules/global/window.js")),a=function(){var e={};if(e.browser=null,e.version=null,e.minVersion=null,void 0===r.default||!r.default.navigator)return e.browser="Not a supported browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=o(navigator.userAgent,/Firefox\/(\d+)\./,1),e.minVersion=31;else if(navigator.webkitGetUserMedia)e.browser="chroediaDevices&&navigator.userAgent.match(/E10547;else{if(!r.default.RTCPeerConnection||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return e.browser="Not a supported browser.",e;e.browser="safari",e.version=o(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return e};t.deteci){var n=e.match(t)ge"===a().return!!r.default.op=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e<0?0:e,(isNaN(e)||e===1/0)&&(e=0);var n=(0,r.default)(1e3*e),o=n;void 0!==t&&(o=(0,r.default)(1e3*t));var s=(0,a.default)(n.hours),u=(0,a.default)(n.minutes),l=(0,a.default)(n.seconds),c=(0,a.default)(n.milliseconds,3);if(n.days>0||o.days>0){return"".concat((0,a.default)(n.days),":").concat(s,":").concat(u,":").concat(l)}return n.hours>0||o.hours>0?"".concat(s,":").concat(u,":").concat(l):i?"".concat(u,":").concat(l,":").concat(c):"".concat(u,":").concaalue:!0}),t.default=void 0;var i=/^\s*([^;\s]*)(?:;|\s|$)/,n={"video/ogg":"ogv","video/mp4":"mp4","video/x-matroska":"mkv","video/webm":"webm","au3","audio/aac":"aac","audio/flac":"flac","audio/ogg":"oga","audio/wav":"wav","aui.exec(e),r=t&&t[1].toLowerCase();return n[r]},a=r;t.default=a,e.exports=t.default},"./node_modules/global/wuntime.js":function(e){var t=function(e){functionke(t,e)}})}functio p()}forg,done:nd))retu.methopeError("iterae&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function f(e){if(e){var t=e[T];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(v.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=m,t.done=!0,t};return n.next=n}}return{next:p}}function p(){return{value:m,done:!0}}var m,g=Object.prototype,v=g.hasOwnProperty,b="function"==typeof y.default?y.default:{},T=b.iterator||"@@iterator",E=b.asyncIterator||,_.de"GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return k.default?(0,k.default)(e,a):(e.__proto__=a,S in e||(e[S]="GeneratorFunction")),e.prototype=(0,_.default)(B),e},e.awrap=function(e){return{__await:e}},o(s.prototype),s.prototype[E]=function(){return this},e.AsyncIterator=s,e.async=function(i,n,r,a,o){void 0===o&&(o=D.default);var u=new s(t(i,n,r,a),o);return e.isGeneratorFunction(n)?u:u.next().then(function(e){return e.done?e.value:u.next()})},o(B),B[S]="Generator",B[T]=function(){return this},B.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=f,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,i.next=t,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=v.call(r,"catchLoc"),s=v.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,I):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),d(i),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){vartype){var r=n.arg;d(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:f(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=m),I}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},recordrtc:function(t){t.exports=e},"video.js":function(e){e.exports=t},"./node_modules/parse-ms/index.js":function(e,t,i){function n(e){if("number"!=typeof e)throw new TypeError("Expected a number");var t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3,microseconds:t(1e3*e)%1e3,nanoseconds:t(1e6*e)%1e3}}i.r(t),i.d(t,{default:function(){return n}})}},r={};!function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&(0,I.default)(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===("undefined"==typeof globalThis?"undefined":(0,L.default)(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===("undefined"==typeof window?"undefined":(0,L.default)(window)))return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){void 0!==y.default&&u.default&&(0,I.default)(e,u.default,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var a={};return function(){function e(e){var i=t();return function(){var t,n=(0,f.default)(e);if(i){var r=(0,f.default)(this).constructor;t=(0,p.default)(n,arguments,r)}else t=n.apply(this,arguments);return(0,h.default)(this,t)}}function t(){if("undefined"==typeof Reflect||!p.default)return!1;if(p.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,p.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var n=a,r=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(n,"__esModule",{value:!0}),n.Record=void 0;var o=r(i("./node_modules/@babel/runtime/helpers/typeof.js")),s=r(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=r(i("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(i("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(i("./node_modules/@babel/runtime/helpers/get.js")),d=r(i("./node_modules/@babel/runtime/helpers/inherits.js")),h=r(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=r(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(i("video.js")),g=r(i("./src/js/controls/animation-display.js")),v=r(i("./src/js/controls/record-canvas.js")),y=r(i("./src/js/controls/device-button.js")),b=r(i("./src/js/controls/camera-button.js")),_=r(i("./src/js/controls/record-toggle.js")),T=r(i("./src/js/controls/record-indicator.js")),w=r(i("./src/js/controls/picture-in-picture-toggle.js")),E=r(i("./src/js/event.js")),k=r(i("./src/js/hot-keys.js")),S=r(i("./src/js/defaults.js")),C=r(i("./src/js/utils/format-time.js")),A=r(i("./src/js/utils/browser-shim.js")),x=r(i("./src/js/utils/compare-version.js")),R=i("./src/js/utils/detect-browser.js"),I=i("./src/js/engine/engine-loader.js"),P=i("./src/js/engine/record-mode.js"),O=m.default.getPlugin("plugin"),L=m.default.getComponent("Player"),M="auto",B=function(t){function i(e,t){var r;(0,s.default)(this,i),r=n.call(this,e,t),L.prototype.play=function(){var e=this.techGet_("play");return void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){}),e},e.addClass("vjs-record"),r.loadOptions(),r.resetState(),t.formatTime&&"function"==typeof t.formatTime?r.setFormatTime(t.formatTime):r.setFormatTime(function(e,t){return(0,C.default)(e,t,r.displayMilliseconds)});var a="av-perm";switch(r.getRecordType()){case P.IMAGE_ONLY:case P.VIDEO_ONLY:case P.ANIMATION:a="video-perm";break;case P.AUDIO_ONLY:a="audio-perm";break;case P.SCREEN_ONLY:a="screen-perm";break;case P.AUDIO_SCREEN:a="sv-perm"}y.default.prototype.buildCSSClass=function(){return"vjs-record vjs-device-button vjs-control vjs-icon-"+a},e.deviceButton=new y.default(e,t),e.addChild(e.deviceButton),e.recordIndicator=new T.default(e,t),e.recordIndicator.hide(),e.addChild(e.recordIndicator),e.recordCanvas=new v.default(e,t),e.recordCanvas.hide(),e.addChild(e.recordCanvas),e.animationDisplay=new g.default(e,t),e.animationDisplay.hide(),e.addChild(e.animationDisplay),e.cameraButton=new b.default(e,t),e.cameraButton.hide(),e.recordToggle=new _.default(e,t),e.recordToggle.hide();var o=void 0===m.default.VERSION||-1===(0,x.default)(m.default.VERSION,"7.6.0");if("pictureInPictureEnabled"in document||(r.pictureInPicture=!1),!0===r.pictureInPicture&&(o&&(e.pipThide()),r.onEnterPiPHandler=r.onEnterPiP.bind((0,l.default)(r)),r.onLeavePiPHandler=r.onLeavePiP.bind((0,l.default)(r))),r.player.options_.controlBar){var u=["deviceButton","recordIndicator","cameraButton","recordToggle"];e.pipToggle&&u.push("pipToggle"),u.forEach(function(e){void 0!==r.player.options_.controlBar[e]&&(r.player[e].layoutExclude=!0,r.player[e].hide())})}return r.player.one(E.default.READY,r.setupUI.bind((0,l.default)(r))),r}(0,d.default)(i,t);var n=e(i);return(0,u.default)(i,[{key:"loadOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m.default.mergeOptions(S.default,this.player.options_.plugins.record,e);this.recordImage=t.image,this.recordAudio=t.audio,this.recordVideo=t.video,this.recordAnimation=t.animation,this.recordScreen=t.screen,this.maxLength=t.maxLength,this.maxFileSize=t.maxFileSize,this.displayMilliseconds=t.displayMilliseconds,this.debug=t.debug,this.pictureInPicture=t.pip,this.recordTimeSlice=t.timeSlice,this.autoMuteDevice=t.autoMuteDevice,this.pluginLibraryOptions=t.pluginLibraryOptions,this.videoFrameWidth=t.frameWidth,this.videoFrameHeight=t.frameHeight,this.videoFrameRate=t.videoFrameRate,this.videoBitRate=t.videoBitRate,this.videoEngine=t.videoEngine,this.videoRecorderType=t.videoRecorderType,this.videoMimeType=t.videoMimeType,this.videoWorkerURL=t.videoWorkerURL,this.videoWebAssemblyURL=t.videoWebAssemblyURL,this.convertEngine=t.convertEngine,this.convertAuto=t.convertAuto,this.convertWorkerURL=t.convertWorkerURL,this.convertOptions=t.convertOptions,this.audioEngine=t.audioEngine,this.audioRecorderType=t.audioRecorderType,this.audioWorkerURL=t.audioWorkerURL,this.audioWebAssemblyURL=t.audioWebAssemblyURL,this.audioBufferSize=t.audioBufferSize,this.audioSampleRate=t.audioSampleRate,this.audioBitRate=t.audioBitRate,this.audioChannels=t.audioChannels,this.audioMimeType=t.audioMimeType,this.audioBufferUpdate=t.audioBufferUpdate,this.imageOutputType=t.imageOutputType,this.imageOutputFormat=t.imageOutputFormat,this.imageOutputQuality=t.imageOutputQuality,this.animationFrameRate=t.animationFrameRate,this.animationQuality=t.animationQuality}},{key:"setupUI",value:function(){var e=this;switch(this.player.controlBar.addChild(this.player.cameraButton),this.player.controlBar.el().insertBefore(this.player.cameraButton.el(),this.player.controlBar.el().firstChild),this.player.controlBar.el().insertBefore(this.player.recordToggle.el(),this.player.controlBar.el().firstChild),!0===this.pictureInPicture?void 0===this.player.controlBar.pictureInPictureToggle&&void 0!==this.player.pipToggle?this.player.controlBar.addChild(this.player.pipToggle):void 0!==this.player.controlBar.pictureInPictureToggle&&(this.player.pipToggle=this.player.controlBar.pictureInPictureToggle,this.player.pipToggle.hide()):!1===this.pictureInPicture&&void 0!==this.player.controlBar.pictureInPictureToggle&&this.player.controlBar.pictureInPictureToggle.hide(),void 0!==this.player.controlBar.remainingTimeDisplay&&(this.player.controlBar.remainingTimeDisplay.el().style.display="none"),void 0!==this.player.controlBar.liveDisplay&&(this.player.controlBar.liveDisplay.el().style.display="none"),this.player.loop(!1),this.getRecordType()){case P.AUDIO_ONLY:this.surfer=this.player.wavesurfer(),this.surfer.setFormatTime(this._formatTime);break;case P.IMAGE_ONLY:case P.VIDEO_ONLY:case P.AUDIO_VIDEO:case P.ANIMATION:case P.SCREEN_ONLY:case P.AUDIO_SCREEN:void 0!==this.player.bigPlayButton&&this.player.bigPlayButton.hide(),this.player.one(E.default.LOADEDMETADATA,function(){e.setDuration(e.maxLength)}),this.player.one(E.default.LOADSTART,function(){e.setDuration(e.maxLength)}),!0===this.player.usingNativeControls_&&void 0!==this.player.telayer.removeTechControlsListeners_(),this.player.options_.controls&&(void 0!==this.player.controlBar.progressControl&&this.player.controlBar.progressControl.hide(),this.player.on(E.default.USERINACTIVE,function(t){e.player.userActive(!0)}),this.player.controlBar.show(),this.player.controlBar.el().style.display="flex")}if(this.player.off(E.default.TIMEUPDATE),this.player.off(E.default.DURATIONCHANGE),this.player.off(E.default.LOADEDMETADATA),this.player.off(E.default.LOADSTART),this.player.off(E.default.ENDED),this.setDuration(this.maxLength),this.player.options_.plugins.record&&this.player.options_.plugins.record.hotKeys&&!1!==this.player.options_.plugins.record.hotKeys){var t=this.player.options_.plugins.record.hotKeys;!0===t&&(t=k.default),this.player.options_.userActions={hotkeys:t}}void 0!==this.player.controlBar.playToggle&&this.player.controlBar.playToggle.hide()}},{key:"isRecording",value:function(){return this._recording}},{key:"isProcessing",value:function(){return this._processing}},{key:"isDestroyed",value:function(){var e=null===this.player;return!1===e&&(e=null===this.player.children()),e}},{key:"getDevice",value:function(){var e=this;if(void 0===this.deviceReadyCallback&&(this.deviceReadyCallback=this.onDeviceReady.bind(this)),void 0===this.deviceErrorCallback&&(this.deviceErrorCallback=this.onDeviceError.bind(this)),void 0===this.engineStopCallback&&(this.engineStopCallback=this.onRecordComplete.bind(this)),void 0===this.streamVisibleCallback&&(this.streamVisibleCallback=this.onStreamVisible.bind(this)),this.getRecordType()===P.SCREEN_ONLY||this.getRecordType()===P.AUDIO_SCREEN){if(void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.getDisplayMedia)return void this.player.trigger(E.default.ERROR,"This browser does not support navigator.mediaDevices.getDisplayMedia")}else if(void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.getUserMedia)return void this.player.trigger(E.default.ERROR,"This browser does not support navigator.mediaDevices.getUserMedia");switch(this.getRecordType()){case P.AUDIO_ONLY:this.mediaType={audio:this.audioRecorderType===M||this.audioRecorderType,video:!1},this.surfer.surfer.microphone.un(E.default.DEVICE_READY,this.deviceReadyCallback),this.surfer.surfer.microphone.un(E.default.DEVICE_ERROR,this.deviceErrorCallback),this.surfer.surfer.microphone.on(E.default.DEVICE_READY,this.deviceReadyCallback),this.surfer.surfer.microphone.on(E.default.DEVICE_ERROR,this.deviceErrorCallback),this.surfer.setupPlaybackEvents(!1),this.surfer.liveMode=!0,this.surfer.surfer.microphone.paused=!1,"suspended"===this.surfer.surfer.backend.ac.state&&this.surfer.surfer.backend.ac.resume(),!0===this.audioBufferUpdate&&(this.surfer.surfer.microphone.reloadBufferFunction=function(t){e.surfer.surfer.microphone.paused||(e.surfer.surfer.empty(),e.surfer.surfer.loadDecodedBuffer(t.inputBuffer),e.player.recordedData=t.inputBuffer,e.player.trigger(E.default.AUDIO_BUFFER_UPDATE))}),this.surfer.surfer.microphone.start();break;case P.IMAGE_ONLY:case P.VIDEO_ONLY:this.getRecordType()===P.IMAGE_ONLY&&this.player.el().firstChild.addEventListener(E.default.PLAYING,this.streamVisibleCallback),this.mediaType={audio:!1,video:this.videoRecorderType===M||this.videoRecorderType},navigator.mediaDevices.getUserMedia({audio:!1,video:this.getRecordType()===P.IMAGE_ONLY?this.recordImage:this.recordVideo}).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break;case P.AUDIO_SCREEN:this.mediaType={audio:this.audioRecorderType===M||this.audioRecorderType,video:this.videoRecorderType===M||this.videoRecorderType};var t={};!0===this.recordScreen?t={video:!0}:"object"===(0,o.default)(this.recordScreen)&&this.recordScreen.constructor===Object&&(t=this.recordScreen),navigator.mediaDevices.getDisplayMedia(t).then(function(t){navigator.mediaDevices.getUserMedia({audio:e.recordAudio}).then(function(i){t.addTrack(i.getTracks()[0]),e.onDeviceReady.bind(e)(t)}).catch(function(i){t.active&&t.stop(),e.onDeviceError(i)})}).catch(this.onDeviceError.bind(this));break;case P.AUDIO_VIDEO:this.mediaType={audio:this.audioRecorderType===M||this.audioRecorderType,video:this.videoRecorderType===M||this.videoRecorderType},navigator.mediaDevices.getUserMedia({audio:this.recordAudio,video:this.recordVideo}).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break;case P.ANIMATION:this.mediaType={audio:!1,video:!1,gif:!0},navigator.meDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break;case P.SCREEN_ONLY:this.mediaType={audio:!1,video:!1,screen:!0,gif:!1};var i={};!0===this.recordScreen?i={video:!0}:"object"===(0,o.default)(this.recordScreen)&&this.recordScreen.constructor===Object&&(i=this.recordScreen),navigator.mediaDevices.getDisplayMedia(i).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this))}}},{key:"onDeviceReady",value:function(e){var t=this;if(this._deviceActive=!0,void 0!==this.stream&&this.stream.active&&this.stream.stop(),this.stream=e,this.player.deviceButton.hide(),this.setDuration(this.maxLength),this.setCurrentTime(0),void 0!==this.player.controlBar.playToggle&&this.player.controlBar.playToggle.hide(),this.off(this.player,E.default.TIMEUPDATE,this.playbackTimeUpdate),this.off(this.player,E.default.ENDED,this.playbackTimeUpdate),this.getRecordType()!==P.IMAGE_ONLY){if(this.getRecordType()!==P.AUDIO_ONLY&&(0,I.isAudioPluginActive)(this.audioEngine))throw new Error("Currently "+this.audioEngine+" is only supported in audio-only mode.");var i,n;switch(this.getRecordType()){case P.AUDIO_ONLY:i=(0,I.getAudioEngine)(this.audioEngine),n=this.audioEngine;break;default:i=(0,I.getVideoEngine)(this.videoEngine),n=this.videoEngine}try{this.engine=new i(this.player,this.player.options_)}catch(e){throw new Error("Could not load "+n+" plugin")}if(this.engine.on(E.default.RECORD_COMPLETE,this.engineStopCallback),this.engine.bufferSize=this.audioBufferSize,this.engine.sampleRate=this.audioSampleRate,this.engine.bitRate=this.audioBitRate,this.engine.audioChannels=this.audioChannels,this.engine.audioWorkerURL=this.audioWorkerURL,this.engine.audioWebAssemblyURL=this.audioWebAssemblyURL,this.engine.mimeType={video:this.videoMimeType,gif:"image/gif"},null!==this.audioMimeType&&this.audioMimeType!==M&&(this.engine.mimeType.audio=this.audioMimeType),this.engine.videoWorkerURL=this.videoWorkerURL,this.engine.videoWebAssemblyURL=this.videoWebAssemblyURL,this.engine.videoBitRate=this.videoBitRate,this.engine.videoFrameRate=this.videoFrameRate,this.engine.video={width:this.videoFrameWidth,height:this.videoFrameHeight},this.engine.canvas={width:this.videoFrameWidth,height:this.videoFrameHeight},this.engine.quality=this.animationQuality,this.engine.frameRate=this.animationFrameRate,this.recordTimeSlice&&this.recordTimeSlice>0&&(this.engine.timeSlice=this.recordTimeSlice,this.engine.maxFileSize=this.maxFileSize),this.engine.pluginLibraryOptions=this.pluginLibraryOptions,this.engine.setup(this.stream,this.mediaType,this.debug),""!==this.convertEngine){var r=(0,I.getConvertEngine)(this.convertEngine);try{this.converter=new r(this.player,this.player.options_)}catch(e){throw new Error("Could not load "+this.convertEngine+" plugin")}this.converter.convertAuto=this.convertAuto,this.converter.convertWorkerURL=this.convertWorkerURL,this.converter.convertOptions=this.convertOptions,this.converter.pluginLibraryOptions=this.pluginLibraryOptions,this.converter.setup(this.mediaType,this.debug)}["currentTimeDisplay","timeDivider","durationDisplay"].forEach(function(e){void 0!==(e=t.player.controlBar[e])&&(e.el().style.display="block",e.show())}),this.player.recordToggle.show()}else this.player.recordIndicator.disable(),this.retrySnapshot();this.getRecordType()!==P.AUDIO_ONLY?(this.mediaElement=this.player.el().firstChild,this.mediaElement.controls=!1,this.mediaElement.muted=!0,this.displayVolumeControl(!1),!0===this.pictureInPicture&&(this.player.pipToggle.show(),this.mediaElement.removeEventListener(E.default.ENTERPICTUREINPICTURE,this.onEnterPiPHandler),this.mediaElement.removeEventListener(E.default.LEAVEPICTUREINPICTURE,this.onLeavePiPHandler),this.mediaElement.addEventListener(E.default.ENTERPICTUREINPICTURE,this.onEnterPiPHandler),this.mediaElement.addEventListener(E.default.LEAVEPICTUREINPICTURE,this.onLeavePiPHandler)),this.load(this.stream),this.player.one(E.default.LOADEDMETADATA,function(){t.mediaElement.play(),t.player.trigger(E.default.DEVICE_READY)})):this.player.trigger(E.default.DEVICE_READY)}},{key:"onDeviceError",value:function(e){this._deviceActive=!1,this.isDestroyed()||(this.player.deviceErrorCode=e,this.player.trigger(E.default.DEVICE_ERROR))}},{key:"start",value:function(){var e=this;if(!this.isProcessing()){if(this.stream&&!1===this.stream.active)return void this.getDevice();switch(this._recording=!0,void 0!==this.player.controlBar.playToggle&&this.player.controlBar.playToggle.hide(),this.off(this.player,E.default.TIMEUPDATE,this.playbackTimeUpdate),this.off(this.player,E.default.ENDED,this.playbackTimeUpdate),this.getRecordType()){case P.AUDIO_ONLY:this.surfer.setupPlaybackEvents(!1),this.surfer.surfer.microphone.paused=!1,this.surfer.liveMode=!0,this.surfer.surfer.microphone.play();break;case P.VIDEO_ONLY:case P.AUDIO_VIDEO:case P.AUDIO_SCREEN:case P.SCREEN_ONLY:this.startVideoPreview();break;case P.ANIMATION:this.player.recordCanvas.hide(),this.player.animationDisplay.hide(),this.mediaElement.style.display="block",this.captureFrame().then(function(t){e.startVideoPreview()})}switch(this.autoMuteDevice&&this.muteTracks(!1),this.getRecordType()){case P.IMAGE_ONLY:this.createSnapshot(),this.player.trigger(E.default.START_RECORD);break;case P.VIDEO_ONLY:case P.AUDIO_VIyer.one(E.default.LOADEDMETADATA,function(){e.startRecording()});break;default:this.startRecording()}}}},{key:"startRecording",value:function(){this.paused=!1,this.pauseTime=this.pausedTime=0,this.startTime=performance.now();this.countDown=this.player.setInterval(this.onCountDown.bind(this),100),void 0!==this.engine&&this.engine.dispose(),this.engine.start(),this.player.trigger(E.default.START_RECORD)}},{key:"stop",value:function(){this.isProcessing()||(this._recording=!1,this._processing=!0,this.getRecordType()!==P.IMAGE_ONLY?(this.player.trigger(E.default.STOP_RECORD),this.player.clearInterval(this.countDown),this.engine&&this.engine.stop(),this.autoMuteDevice&&this.muteTracks(!0)):this.player.recordedData&&this.player.trigger(E.default.FINISH_RECORD))}},{key:"stopDevice",value:function(){this.isRecording()?(this.player.one(E.default.FINISH_RECORD,this.stopStream.bind(this)),this.stop()):this.stopStream()}},{key:"stopStream",value:function(){if(this.stream){if(this._deviceActive=!1,this.getRecordType()===P.AUDIO_ONLY)return void this.surfer.surfer.microphone.stopDevice();this.stream.getTracks().forEach(function(e){e.stop()})}}},{key:"pause",value:function(){this.paused||(this.pauseTime=performance.now(),this.paused=!0,this.engine.pause())}},{key:"resume",value:function(){this.paused&&(this.pausedTime+=performance.now()-this.pauseTime,this.engine.resume(),this.paused=!1)}},{key:"onRecordComplete",value:function(){var e=this;if(this.player.recordedData=this.engine.recordedData,void 0!==this.player.controlBar.playToggle&&(this.player.controlBar.playToggle.removeClass("vjs-ended"),this.player.controlBar.playToggle.show()),!0===this.convertAuto&&this.convert(),this.player.trigger(E.default.FINISH_RECORD),!this.isDestroyed())switch(this.getRecordType()){case P.AUDIO_ONLY:this.surfer.pause(),this.surfer.setupPlaybackEvents(!0),this.player.loadingSpinner.show(),this.surfer.surfer.once(E.default.READY,function(){e._processing=!1}),this.load(this.player.recordedData);break;case P.VIDEO_ONLY:case P.AUDIO_VIDEO:case P.AUDIO_SCREEN:case P.SCREEN_ONLY:this.player.one(E.default.PAUSE,function(){e._processing=!1,e.player.loadingSpinner.hide(),e.setDuration(e.streamDuration),e.on(e.player,E.default.TIMEUPDATE,e.playbackTimeUpdate),e.on(e.player,E.default.ENDED,e.playbackTimeUpdate),e.getRecordType()!==P.AUDIO_VIDEO&&e.getRecordType()!==P.AUDIO_SCREEN||(e.mediaElement.muted=!1,e.displayVolumeControl(!0)),e.load(e.player.recordedData)}),this.player.pause();break;case P.ANIMATION:this._processing=!1,this.player.loadingSpinner.hide(),this.setDuration(this.streamDuration),this.mediaElement.style.display="none",this.player.recordCanvas.shoayer,E.default.PLAY,this.sh",value:function(){if(!this.paused){var e=performance.now(),t=this.maxLength,i=(e-(this.startTime+this.pausedTime))/1e3;this.streamDuration=i,i>=t&&(i=t,this.stop()),this.setDuration(t),this.setCurrentTime(i,t),this.player.trigger(E.default.PROGRESS_RECORD)}}},{key:"getCurrentTime",value:function(){var e=isNaN(this.streamCurrentTime)?0:this.streamCurrentTime;return this.getRecordType()===P.AUDIO_ONLY&&(e=this.surfer.getCurrentTime()),e}},{key:"setCurrentTime",value:function(e,t){switch(e=isNaN(e)?0:e,t=isNaN(t)?0:t,this.getRecordType()){case P.AUDIO_ONLY:thisreak;case P.VIDEO_ONLY:case P.AUDIO_VIDEO:case P.AUDIO_SCREEN:case P.ANIMATION:case P.SCREEN_ONLY:this.player.controlBar.currentTimeDisplay&&this.player.controlBar.currentTimeDisplay.contentEl()&&this.player.controlBar.currentTimeDisplay.contentEl().lastChild&&(this.streamCurrentTime=Math.min(e,t),this.player.controlBar.currentTimeDisplay.formattedTime_=this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent=this._formatTime(this.streamCurrentTime,t,this.displayMilliseconds))}}},{key:"getDuration",value:function(){return isNaN(this.streamDuration)?0:this.streamDuration}},{key:"setDuration",value:function(e){switch(e=isNaN(e)?0:e,this.getRecordType()){case P.AUDIO_ONLY:this.surfer.setDuration(e);break;case P.VIDEO_ONLY:caseP.SCREEN_ONLY:this.player.controlBar.durationDisplay&&this.player.controlBar.durationDisplay.contentEl()&&this.player.controlBar.durationDisplay.contentEl().lastChild&&(this.player.controlBar.durationDisplay.formattedTime_=this.player.controlBar.durationDisplay.contentEl().lastChild.textContent=this._formatTime(e,e,this.displayMilliseconds))}}},{key:"load",value:function(e){switch(this.getRecordType()){case P.AUDIO_ONLY:this.surfer.load(e);break;case P.IMAGE_ONLY:case P.VIDEO_ONLY:case P.AUDIO_VIDEO:case P.AUDIO_SCREEN:case P.ANIMATION:case P.SCREEN_ONLY:e instanceof Blob||e instanceof File?(this.mediaElement.srcObject=null,this.mediaElement.src=URL.createObjectURL(e)):(0,A.default)(e,this.mediaElement)}}},{key:"saveAs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"record";"record"===t?this.engine&&void 0!==e&&this.engine.saveAs(e):"convert"===t&&this.converter&&void 0!==e&&this.converter.saveAs(e)}},{key:"dispose",value:function(){this.player.off(E.default.READY),this.player.off(E.default.USERINACTIVE),this.player.off(E.default.LOADEDMETADATA),this.engine&&(this.engine.dispose(),this.engine.destroy(),this.engine.off(E.default.RECORD_COMPLETE,this.engineStopCallback)),this.stop(),this.stopDevice(),this.removeRecording(),this.player.clearInterval(this.countDown),this.getRecordType()===P.AUDIO_ONLY?this.surfer&&this.surfer.destroy():this.getRecordType()===P.IMAGE_ONLY&&this.mediaElement&&this.streamVisibleCallback&&this.mediaElement.removeEventListener(E.default.PLAYING,this.streamVisibleCallback),this.resetState(),(0,c.default)((0,f.default)(i.prototype),"dispose",this).call(this)}},{key:"destroy",value:function(){this.player.dispose()}},{key:"reset",value:function(){var e=this;switch(this.engine&&(this.engine.dispose(),this.engine.off(E.default.RECORD_COMPLETE,this.engineStopCallback)),this.stop(),this.stopDevice(),this.player.clearInterval(this.countDown),this.removeRecording(),this.loadOptions(),this.resetState(),this.setDuration(this.maxLength),this.setCurrentTime(0),this.player.reset(),this.getRecordType()){case P.AUDIO_ONLY:this.surfer&&this.surfer..player.recordCanvas.hide(),this.player.cameraButton.hide()}void 0!==this.player.controlBar.playToggle&&this.player.controlBar.playToggle.hide(),this.player.deviceButton.show(),this.player.recordToggle.hide(),this.player.one(E.default.LOADEDMETADATA,function(){e.setDuration(e.maxLength)})}},{key:"resetState",value:function(){this._recording=!1,this._processing=!1,this._deviceActive=!1,this.devices=[]}},{key:"removeRecording",value:function(){ement.src&&!0===this.mediaElement.src.startsWith("blob:")&&(URL.revokeObjectURL(this.mediaElement.src),this.mediaElement.src="")}},{key:"exportImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.getRecordType()===P.AUDIO_ONLY)return this.surfer.surfer.exportImage(e,t,"blob");var i=this.player.recordCanvas.el().firstChild;return this.drawCanvas(i,this.mediaElement),new D.default(function(n){i.toBlob(n,e,t)})}},{key:"muteTracks",value:function(e){(this.getRecordType()===P.AUDIO_ONLY||this.getRecordType()===P.AUDIO_SCREEN||this.getRecordType()===P.AUDIO_VIDEO)&&this.stream.getAudioTracks().length>0&&(this.stream.getAudioTracks()[0].enabled=!e),this.getRecordType()!==P.AUDIO_ONLY&&this.stream.getVideoTracks().length>0&&(this.stream.getVideoTracks()[0].enabled=!e)}},{key:"getRecordType",value:function(){return(0,P.getRecorderMode)(this.recordImage,this.recordAudio,this.recordVideo,th:functis.converter&&this.converter.convert(this.player.recordedData)}},{key:"createSnapshot",value:function(){var e=this;this.captureFrame().then(function(t){"blob"===e.imageOutputType?t.toBlob(function(t){e.player.recordedData=t,e.displaySnapshot()}):"dataURL"===e.imageOutputType&&(e.player.recordedData=t.toDataURL(e.imageOutputFormat,e.imageOutputQuality),e.displaySnapshot())},this.imageOutputFormat,this.imageOutputQuality)}},{key:"displaySnapshot",value:function(){this.mediaElement.style.display="none",this.player.recordCanvas.show(),this.stop()}},{key:"retrySnapshot",value:function(){this._processing=!1,this.player.recordCanvas.hide(),this.player.el().firstChild.style.display="bl=(0,R.detectBrowser)(),i=.getVideoTracks()[0],r=n.getSettings();return i.width=r.width,i.height=r.height,new D.default(function(a,s){var u=r.width/r.height,l=e.player.width()/e.player.height(),c=0,d=0,h=0,f=0;if(u>=l?(c=r.height*(e.player.width()/r.width),d=e.player.width(),f=e.player.height()/2-c/2):(c=e.player.height(),d=r.width*(e.player.height()/r.height),h=e.player.width()/2-d/2),"chrome"===t.browser&&t.version>=60&&("undefined"==typeof ImageCapture?"undefined":(0,o.default)(ImageCapture))===("undefined"==typeof Function?"undefined":(0,o.default)(Function)))try{new ImageCapture(n).grabFrame().then(function(t){e.drawCanvas(i,t,d,c,h,f),a(i)}).catch(function(e){})}catch(e){}e.drawCanvas(i,e.mediaElement,d,c,h,f),a(i)})}},{key:"drawCanvas",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;void 0===i&&(i=e.width),void 0===n&&(n=e.height),e.getContext("2d").drawImage(t,r,a,i,n)}},{key:"startVideoPreview",value:function(){this.off(E.default.TIMEUPDATE),this.off(E.default.DURATIONCHANGE),this.off(E.default.LOADEDMETADATA),this.off(E.default.PLAY),this.mediaElement.muted=!0,this.displayVolumeControl(!1),this.removeRecording(),this.load(this.stream),this.mediaElement.play()}},{key:"showAnimation",value:function(){var e=this.player.animationDisplay.el().firstChild;e.width=this.player.width(),e.height=this.player.height(),this.player.recordCanvas.hide(),(0,A.default)(this.player.recordedData,e),this.player.animationDisplay.show()}},{key:"hideAnimation",value:function(){this.player.recordCanvas.show(),this.player.animationDisplay.hide()}},{key:"playbackTimeUpdate",value:function(){this.setCurrentTime(this.player.currentTime(),this.streamDuration)}},{key:"enumerateDevices",value:function(){var e=this;if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return this.player.enumerateErrorCode="enumerateDevices() not supported.",void this.player.trigger(E.default.ENUMERATE_ERROR);navigator.mediaDevices.enumerateDevices(this).then(function(t){e.devices=[],t.forEach(function(t){e.devices.push(t)}),e.player.trigger(E.default.ENUMERATE_READY)}).catch(function(t){e.player.enumerateErrorCode=t,e.player.trigger(E.default.ENUMERATE_ERROR)})}},{key:"setVideoInput",value:function(e){this.recordVideo===Object(this.recordVideo)?this.recordVideo.deviceId={exact:e}:Device(),this.getDevice()}},{key:"setAudioInput",value:function(e){switch(this.recordAudio===Object(this.recordAudio)?this.recordAudio.deviceId={exact:e}:!0===this.recordAudio&&(this.recordAudio={devthis.recordAudio}}this.stopDevice(),this.getDevice()}},{key:"setAudioOutput",value:function(e){var t,i=this;switch(this.getRecordType()){case P.AUDIO_ONLY:this.surfer.surfer.setSinkId(e).then(function(e){i.player.trigger(E.default.AUDIO_OUTPUT_READY)}).catch(function(e){t=e});break;default:var n=player.tech_.el_;e?void 0!==n.sinkId?n.setSinkId(e).then(function(e){i.player.trigger(E.default.AUDIO_OUTPUT_READY)}).catch(function(e){t=e}):t="Browser does not support audio output device selection.":t="Invalid deviceId: ".concat(e)}this.player.trigger(E.default.ERROR,t)}},{key:"setFormatTime",value:function(e){this._formatTime=e,m.default.setFormatTime(this._formatTime),this.surfer&&this.surfer.setFormatTime(this._formatTime)}},{key:"displayVolumeControl",value:function(e){void 0!==this.player.controlBar.volumePanel&&(e=!0===e?"flex":"none",this.player.controlBar.volumePanel.el().style.display=e)}},{key:"onStreamVisible",value:function(e){this.mediaElement.removeEventListener(E.default.PLAYING,this.streamVisibleCallback),this.player.cameraButton.onStop(),this.player.cameraButton.show()}},{key:"onEnterPiP",value:function(e){this.player.trigger(E.default.ENTER_PIP,e)}},{key:"onLeavePiP",value:function(e){this.player.trigger(E.default.LEAVE_PIP)}}]),i}(O);n.Record=B,B.VERSION="4.6.0",m.default.Record=B,void 0===m.default.getPlugin("record")&&m.default.registerPlugin("record",B)}(),a}()})}).call(t,i(55)(e))},function(e,t,i){"use strict";(function(e,n){function r(e){return e&&e.__esModule?e:{default:e}}var a,o,s,u=i(627),l=r(u),c=i(301),d=r(c),h=i(336),f=r(h),p(636),E=r(w),k=i(637),S=r(k),C=i(272),A=r(C),x=i(253),R=r(x),I=i(256),P=r(I),D=i(252),O=r(D),L=i(269),M=r(L),B=i(251),U=r(B),N=i(245),j=r(N),F=i(242),V=r(F);!function(e,r){"object"===(0,V.default)(t)&&"object"===(0,V.default)(n)?n.exports=r(i(237)):(o=[i(237)],a=r,void 0!==(s="function"==typeof a?a.apply(t,o):a)&&(n.exports=s))}(self,function(t){return function(){function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,i),a.exports}var n={"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e){function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=t},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t},"./node_modules/@babel/runtime/helpers/createClass.js":function(e){function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.et,i){function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=(0,O.default)(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}var r=i("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=n},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e){function t(e){return e&&e.__esModule?e:{default:e}}e.exports=t},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(e,t,i){function n(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}var r=i("./node_modules/@babel/runtime/helpers/typeof.js"),a=i("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=n},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e){function t(i,n){return e.exports=t=U.default||function(e,t){return e.__proto__=t,e},t(i,n)}e.exports=t},"./node_modules/@babel/runtime/helpers/typeof.js":function(e){function t(i){"@babel/helpers - typeof";return"function"==typeof P.default&&"symbol"===(0,V.default)(R.default)?e.exports=t=function(e){return void 0===e?"undefined":(0,V.default)(e)}:e.exports=t=function(e){return e&&"function"==typeof P.default&&e.constructor===P.default&&e!==P.default.prototype?"symbol":void 0===e?"undefined":(0,V.default)(e)},t(i)}e.exports=t},"./src/js/plugins/ts-ebml-plugin.js":function(e,t,i){function n(e){var t=r();return function(){var i,n=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;i=(0,A.default)(n,arguments,r)}else i=n.apply(this,arguments);return(0,l.default)(this,i)}}function r(){if("undefined"==typeof Reflect||!A.default)return!1;if(A.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call((0,A.default)(Boolean,[],function(){})),!0}catch(e){return!1}}var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=a(i("./node_modules/@babel/runtime/helpers/createClass.js")),u=a(i("./node_modules/@babel/runtime/helpers/inherits.js")),l=a(i("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=a(i("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=a(i("video.js")),h=i("./node_modules/buffer/index.js"),f=i("./node_modules/ts-ebml/lib/index.js"),p=d.default.getComponent("ConvertEngine");window.Buffer=h.Buffer;var m=function(e){function t(){return(0,o.default)(this,t),i.apply(this,arguments)}(0,u.default)(t,e);var i=n(t);return(0,s.default)(t,[{key:"convert",value:function(e){var t=this,i=new f.Decodger("startConvert"),this.loadBlob(e).then(function(a){var o=i.decode(a),s=["m","u","i","f","s","8","b","d"];o=o.filter(function(e){return s.includes(e.type)}),o.forEach(function(e){n.read(e)}),n.stop();var u=f.tools.makeMetadataSeekable(n.metadatas,n.duration,n.cues),l=a.slice(n.metadataSize),c=new Blob([u,l],{type:e.type});t.addFileInfo(c,r),t.player().convertedData=c,t.player().trigger("finishConvert")})}}]),t}(p);d.default.TsEBMLEngine=m;var g=m;t.default=g,e.exports=t.default},"./node_modules/base64-js/index.js":function(e,t){function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function n(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function r(e,t,i){return 3*(t+i)/4-i}function a(e){for(var t,n=i(e),a=n[0],o=n[1],s=new d(r(e,a,o)),u=0,l=o>0?a-4:a,h=0;h<l;h+=4)t=c[e.charCodeAt(h)]<<18|c[e.charCodeAt(h+1)]<<12|c[e.charCodeAt(h+2)]<<6|c[e.charCodeAt(h+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=c[e.charCodeAt(h)]<<2|c[e.charCodeAt(h+1)]>>4,s[u++]=255&t),1===o&&(t=c[e.charCodeAt(h)]<<10|c[e.charCodeAt(h+1)]<<4|c[e.charCodeAt(h+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function o(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,i){for(var n,r=[],a=t;a<i;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(o(n));return r.join("")}function u(e){for(var t,i=e.length,n=i%3,r=[],a=0,o=i-n;a<o;a+=16383)r.push(s(e,a,a+16383>o?o:a+16383));return 1===n?(t=e[i-1],r.push(l[t>>2]+l[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],r.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),r.join("")}t.byteLength=n,t.toByteArray=a,t.fromByteArray=u;for(var l=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=h.length;f<p;++f)l[f]=h[f],c[h.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,i){function n(e){if(e>me)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return(0,U.default)(t,r.prototype),t}function r(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,i)}function a(e,t,i){if("string"==typeof e)return l(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,V.default)(e)));if(ue(e,ArrayBuffer)||e&&ue(e.buffer,ArrayBuffer))return h(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(ue(e,SharedArrayBuffer)||e&&ue(e.buffer,SharedArrayBuffer)))return h(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return r.from(n,t,i);var a=f(e);if(a)return a;if(void 0!==P.default&&null!=S.default&&"function"==typeof e[S.default])return r.from(e[S.default]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,V.default)(e)))}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e,t,i){return o(e),e<=0?n(e):void 0!==t?"string"==typeof i?n(e).fill(t,i):n(e).fill(t):n(e)}function u(e){return o(e),n(e<0?0:0|p(e))}function l(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!r.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|y(e,t),a=n(i),o=a.write(e,t);return o!==i&&(a=a.slice(0,o)),a}function c(e){for(var t=e.length<0?0:0|p(e.length),i=n(t),r=0;r<t;r+=1)i[r]=255&e[r];return i}function d(e){if(ue(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return c(e)}function h(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n=void 0;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),(0,U.default)(n,r.prototype),n}function f(e){if(r.isBuffer(e)){var t=0|p(e.length),i=n(t);return 0===i.length?i:(e.copy(i,0,0,t),i)}return void 0!==e.length?"number"!=typeof e.length||le(e.length)?n(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}function p(e){if(e>=me)throw new RangeError("Attempt to all;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===e?"undefined":(0,V.default)(e)));var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return ne(e).length;case"ucs2":cas;case"latin1":case"binary":return j(this,t,i);case"base64":return O(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function k(e,t,i,n,a){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,le(i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return-1;i=e.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof t&&(t=r.from(t,n)),r.isBuffer(t))return 0===t.length?-1:C(e,t,i,n,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.inde,t,i):C(e,[t],i,n,a);throw new TypeError(adUInt16BE(t*o)}var o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,i/=2}var l=void 0;if(r){var c=-1;for(l=i;l<s;l++)if(a(e,l)===a(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(i+u>s&&(i=s-u),l=i;l>=0;l--){for(var d=!0,h=0;h<u;h++)if(a(e,l+h)!==a(t,h)){d=!1;break}if(d)return l}return-1}function A(e,t,i,n){i=Number(i)||0;;for(o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(le(s))return o;e[i+o]=s}return o}function x(e,t,i,n){return se(ne(t,e.length-i),e,i,n)}function R(e,t,i,n){return se(re(t),e,i,n)}function I(e,t,i,n){return se(oe(t),e,i,n)}function D(e,t,i,n){return se(ae(t,e.length-i),e,i,n)}function O(e,t,i){return 0===t&&i===e.length?he.fromByteArray(e):he.fromByteArray(e.slice(t,i))}function L(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var a=e[r],o=null,s=a>239?4:a>223?3:a>191?2:1;if(r+s<=i){var u=void 0,l=void 0,c=void 0,d=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:u=e[r+1],128==(192&u)&&(d=(31&a)<<6|63&u)>127&&(o=d);break;case 3:u=e[r+1],l=e[r+2],128==(192&u)&&128==(192&l)&&(d=(15&a)<<12|(63&u)<<6|63&l)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:u=e[r+1],l=e[r+2],c=e[r+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(d=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=s}return B(n)}function B(e){var t=e.length;if(t<=ge)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=ge));return i}function N(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function j(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function F(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",a=t;a<i;++a)r+=be[e[a]];return r}function q(e,t,i){for(var n=e.slice(t,[a]+256*n[a+1]);return r}function z(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function H(e,t,i,n,a,o){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function W(e,t,i,n,r){Z(t,n,r,e,i,7);var a=Number(t&BigInt(4294967295));e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o,i}function G(e,t,i,n,r){Z(t,n,r,e,i,7);var a=Number(t&BigInt(4294967295));e[i+7]=a,a>>=8,e[i+6]=a,a>>=8,e[i+5]=a,a>>=8,e[i+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=o,o>>=8,e[i+2]=o,o>>=8,e[i+1]=o,o>>=8,e[i]=o,i+8}function Y(e,t,i,n,r,a){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function $(e,t,i,n,r){return t=+t,i>>>=0,r||Y(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),fe.write(e,t,i,n,23,4),i+4}function X(e,t,i,n,r){return t=+t,i>>>=0,r||Y(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),fe.write(e,t,i,n,52,8),i+8}function Q(e,t,i){ve[e]=function(i){function n(){(0,v.default)(this,n);var i=(0,T.default)(this,(n.__proto__||(0,M.default)(n)).call(this));return Object.defineProperty(i,"message",{value:t.apply(i,arguments),writable:!0,configurable:!0}),i.name=i.name+" ["+e+"]",i.stack,delete i.name,i}return(0,E.default)(n,i),(0,b.default)(n,[{key:"toString",value:function(){return this.name+" ["+e+"]: "+this.message}},{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}}]),n}(i)}function K(e){for(var t="",i=e.length,n="-"===e[0]?1:0;i>=n+4;i-=3)t="_"+e.slice(i-3,i)+t;return""+e.slice(0,i)+t}function J(e,t,i){ee(t,"offset"),void 0!==e[t]&&void 0!==e[t+i]||te(t,e.length-(i+1))}function Z(e,t,i,n,r,a){if(e>i||e<t){var o="bigint"==typeof t?"n":"",s=void 0;throw s=a>3?0===t||t===BigInt(0)?">= 0"+o+" and < 2"+o+" ** "+8*(a+1)+o:">= -(2"+o+" ** "+(8*(a+1)-1)+o+") and < 2 ** "+(8*(a+1)-1)+o:">= "+t+o+" and <= "+i+o,new ve.ERR_OUT_OF_RANGE("value",s,e)}J(n,r,a)}function ee(e,t){if("number"!=typeof e)throw new ve.ERR_INVALID_ARG_TYPE(t,"number",e)}function te(e,t,i){if(Math.floor(e)!==e)throw ee(e,i),new ve.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new ve.ERR_BUFFER_OUT_OF_BOUNDS;throw new ve.ERR_OUT_OF_RANGE(i||"offset",">= "+(i?1:0)+" and <= "+t,e)}function ie(e){if(e=e.split("=")[0],e=e.trim().replace(ye,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function ne(e,t){t=t||1/0;for(var i=void 0,n=e.length,r=null,a=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function re(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function ae(e,t){for(var i=void 0,n=void 0,r=void 0,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,r=i%256,a.push(r),a.push(n);return a}function oe(e){return he.toByteArray(ie(e))}function se(e,t,i,n){var r=void 0;for(r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function ue(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function le(e){return e!==e}function ce(e){return"undefined"==typeof BigInt?de:e}function de(){throw new Error("BigInt not supported")}var he=i("./node_modules/buffer/node_modules/base64-js/index.js"),fe=i("./node_modules/buffer/node_modules/ieee754/index.js"),pe="function"==typeof P.default&&"function"==typeof P.default.for?P.default.for("nodejs.util.inspect.custom"):null;t.Buffer=r,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50;var me=2147483647;t.kMaxLength=me,r.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return(0,U.default)(t,Uint8Array.prototype),(0,U.default)(e,t),42isBuffer&&e!==r.prototype},r.compare=function(e,t){if(ue(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),ue(t,Uint8Array)&&(t=r.from(t,t.offset,t.byteLength)),!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,a=0,o=Math.min(i,n);a<o;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var i=void 0;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=r.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){var o=e[i];if(ue(o,Uint8Array))a+o.length>n.length?(r.isBuffer(o)||(o=r.from(o)),o.copy(n,a)):Uint8Array.prototype.set.call(n,o,a);else{if(!r.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a)}a+=o.length}return n},r.byteLength=y,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},r.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?L(this,0,e):_.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},pe&&(r.prototype[pe]=r.prototype.inspect),r.prototype.compare=function(e,t,i,n,a){if(ue(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),!r.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===e?"undefined":(0,V.default)(e)));if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=i)return 0;if(n>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var o=a-n,s=i-t,u=Math.min(o,s),l=this.slice(n,a),c=e.slice(t,i),d=0;d<u;++d)if(l[d]!==c[d]){o=l[d],s=c[d];break}return o<s?-1:s<o?1:0},r.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},r.prototype.indexOf=function(e,t,i){return k(this,e,t,i,!0)},r.prototype.lastIndexOf=function(e,t,i){return k(this,e,t,i,!1)},r.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return A(this,e,t,i);case"utf8":case"utf-8":return x(this,e,t,i);case"ascii":case"latin1":case"binary":return R(this,e,t,i);case"base64":return I(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ge=4096;r.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return(0,U.default)(n,r.prototype),n},r.prototype.readUintLE=r.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||z(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return n},r.prototype.readUintBE=r.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||z(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},r.prototype.readUint8=r.prototype.readUInt8=function(e,t){return e>>>=0,t||z(e,1,this.length),this[e]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(e,t){return e>>>=0,t||z(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(e,t){return e>>>=0,t||z(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(e,t){return e>>>=0,t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(e,t){return e>>>=0,t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readBigUInt64LE=ce(function(e){e>>>=0,ee(e,"offset"6)+this[++e]*Math.pow(2,24),r=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+i*Math.pow(2,24);return BigInt(n)+(BigInt(r)<<BigInt(32))}),r.prototype.readBigUInt64BE=ce(function(e){e>>>=0,ee(e,"offset");var t=this[e],i=this[e+7];void 0!==t&&void 0!==i||te(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],r=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+i;return(BigInt(n)<<BigInt(32))+BigInt(r)}),r.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||z(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},r.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||z(e,t,this.length);for(var n=t,r=1,a=this[e+--n];n>0&&(r*=256);)a+=this[e+--n]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},r.prototype.readInt8=function(e,t){return e>>>=0,t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){e>>>=0,t||z(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt16BE=function(e,t){e>>>=0,t||z(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt32LE=function(e,t){return e>>>=0,t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return e>>>=0,t||z(e,4,this.length),t==t&&void 0!==i||te(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))}),r.prototype.readBigInt64BE=ce(function(e){e>>>=0,ee(e,"offgth),fe.read(this,e,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){H(this,e,t,i,Math.pow(2,8*i)-1,0)}var r=1,a=0;for(this[t]=255&e;++a<i&&(r*=256);)this[t+a]=e/r&255;return t+i},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){H(this,e,t,i,Math.pow(2,8*i)-1,0)}var r=i-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+i},r.prototype.writeUint8=r.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||H(this,e,t,1,255,0),this[t]=255&e,t+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||H(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||H(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},r.prototype.writeUint32e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||H(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},r.prototype.writeBigUInt64LE=ce(function(e){return W(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=ce(function(e){return G(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigIn-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<i&&(o*=256);)e<0&&0===s&&0!==th[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=ce(function(e){return G(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(e,t,i){return $(this,e,t,!0,i)},r.prototype.writeFloatBE=function(e,t,i){return $(this,e,t,!1,i)},r.prototype.writeDoubleLE=function(e,t,i){return X(this,e,t,!0,i)},r.prototype.writeDoubleBE=function(e,t,i){return X(this,e,t,!1,i)},r.prototype.copy=function(e,t,i,n){if(!r.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var a=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),a},r.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!r.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var a=e.charCodeAt(0);("utf8"===n&&a<128||"latin1"===n)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0);var o=void 0;if("number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=r.isBuffer(e)?e:r.from(e,n),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=s[o%u]}return this};var ve={};Q("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?e+" is outside of buffer bounr bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'+e+'" argument must be of type number. Received type '+(void 0===t?"undefined":(0,V.default)(t))},s out of range.',r=i;return(0,m.default)(i)&&Math.abs(i)>Math.pow(2,32)?r=K(String(i)):"bigint"==typeof i&&(r=String(i),(i>Math.pow(BigInt(2),BigInt(32))||i<-Math.pow(BigInt(2),BigInt(32)))&&(r=K(r)),r+="n"),n+=" It must be "+t+". Received "+r},RangeError);var ye=/[^+/0-9A-Za-z-_]/g,be=function(){for(var e=new Array(256),t=0;t<16;++t)for(var i=16*t,n=0;n<16;++n)e[i+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];ase64-js/index.js":function(e,t){function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function n(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function r(e,t,i){return 3*(t+i)/4-i}function a(e){var t,n,a=i(e),o=a[0],s=a[1],u=new d(r(e,o,s)),l=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=c[e.charCodeAt(n)]<<18|c[e.charCodeAt(n+1)]<<12|c[e.charCodeAt(n+2)]<<6|c[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=c[e.charCodeAt(n)]<<2|c[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=c[e.charCodeAt(n)]<<10|c[e.charCodeAt(n+1)]<<4|c[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function o(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,i){for(var n,r=[],a=t;a<i;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(o(n));return r.join("")}function u(e){for(var t,i=e.length,n=i%3,r=[],a=0,o=i-n;a<o;a+=16383)r.push(s(e,a,a+16383>o?o:a+16383));return 1===n?(t=e[i-1],r.push(l[t>>2]+l[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],r.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),r.joipeof Uint8Array?Uint8Array:Array,h="ABCDstuvwxyz0123456789+/",f=0,p=h.length;f<p;++f)l[f]=h[f],c[h.charCodeAt(f)]=f;c["-".t(0)]=63},"./node_modules/buffer/node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,i,n,r){var a,o,s=8*r-n-1,u=(1<<s)-1,l=u>>1,>>=-c,c+=n;c>0;o=;e[i+f-p]|=128*m}},"./noisible=!!(8&a),t.keyframe=!!(128&a),t.discardable=!!(1&avint.js");n.prototype.nextIet+=e||this.length,t},Object.dei&&(a-=Math.pow(2,7*n-0;for(var i=1;i<=8&&!(e[t]t+i));if(t+i>e.length)return null;for(var n=e[t]&(1<<8-i)-1,r=1;r<i;r++){if(7===r&&n>=Math.pst be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,n,o,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(thrror.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,u=0;u<o;u++)l[u].apply(this,s);return!0},t.prototype.addListener=function(e,n){var o;if(!i(n))throw TypeError("listeemit("newListener",e,i(n.listener)?n.listener:n),this._events[e]?r(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,r(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){futh?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,i,n,r){var a,o,s=8*r-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=i?r-1:0,h=i?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=l}return(f?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,i,n,r,a){var o,s,u,l=8*a-r-1,c=(1<<l)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+d>=1?h/u:h*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*u-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[i+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;e[i+f]=255&o,f+=p,o/=256,l-=8);e[i+f-p]|=128*m}},"./node_modules/int64-buffer/int64-buffer.js":function(t,i){var n,r,a,o;!function(t){function i(e,i,n){function r(e,t,i,n){return this instanceof r?o(this,e,t,i,n):new r(e,t,i,n)}function a(e){return!(!e||!e[F])}function o(e,t,i,n,r){if(T&&w&&(t instanceof w&&(t=new T(t)),n instanceof w&&(n=new T(n))),!(t||i||n||y))return void(e.buffer=h(E,0));if(!c(t,i)){var a=y||Array;r=i,n=t,i=0,t=new a(8)}e.buffer=t,e.offset=i|=0,b!==(void 0===n?"undefined":(0,V.default)(n))&&("string"==typeof n?v(t,i,n,r||10):c(n,r)?d(t,i,n,r):"number"==typeof r?(x(t,i+I,n),x(t,i+P,r)):n>0?B(t,i,n):n<0?U(t,i,n):d(t,i,E,0))}function v(e,t,i,n){var r=0,a=i.length,o=0,s=0;"-"===i[0]&&r++;for(var u=r;r<a;){var l=parseInt(i[r++],n);if(!(l>=0))break;s=s*n+l,o=o*n+Math.floor(s/S),s%=S}u&&(o=~o,s?s=S-s:o++),x(e,t+I,o),x(e,t+P,s)}function k(){var e=this.buffer,t=this.offset,i=R(e,t+I),r=R(e,t+P);return n||(i|=0),i?i*S+r:r}function A(e){var t=this.buffer,i=this.offset,r=R(t,i+I),a=R(t,i+P),o="",s=!n&&2147483648&r;for(s&&(r=~r,a=S-a),e=e||10;;){var u=r%e*S+a;if(r=Math.floor(r/e),a=Math.floor(u/e),o=(u%e).toString(e)+o,!r&&!a)break}return s&&(o="-"+o),o}function x(e,t,i){e[t+M]=255&i,i>>=8,e[t+L]=255&i,i>>=8,e[t+O]=255&i,i>>=8,e[t+D]=255&i}function R(e,t){return e[t+D]*C+(e[t+O]<<16)+(e[t+L]<<8)+e[t+M]}var I=i?0:4,P=i?4:0,D=i?0:3,O=i?1:2,L=i?2:1,M=i?3:0,B=i?f:m,U=i?p:g,N=r.prototype,j="is"+e,F="_"+j;return N.buffer=void 0,N.offset=0,N[F]=!0,N.toNumber=k,N.toString=A,N.toJSON=k,N.toArray=s,_&&(N.toBuffer=u),T&&(N.toArrayBuffer=l),r[j]=a,t[e]=r,r}function s(e){var t=this.buffer,i=this.offset;return y=null,!1!==e&&0===i&&8===t.length&&k(t)?t:h(t,i)}function u(t){var i=this.buffer,n=this.offset;if(y=_,!1!==t&&0===n&&8===i.length&&e.isBuffer(i))return i;var r=new _(8);return d(r,0,i,n),r}function l(e){var t=this.buffer,i=this.offset,n=t.buffer;if(y=T,!1!==e&&0===i&&n instanceof w&&8===n.byteLength)return n;var r=new T(8);return d(r,0,t,i),r.buffer}function c(e,t){var i=e&&e.length;return t|=0,i&&t+8<=i&&"string"!=typeof e[t]}function d(e,t,i,n){t|=0,n|=0;for(var r=0;r<8;r++)e[t++]=255&i[n++]}function h(e,t){return Array.prototype.slice.call(e,t,t+8)}function f(e,t,i){for(var n=t+8;n>t;)e[--n]=255&i,i/=256}function p(e,t,i){var n=t+8;for(i++;n>t;)e[--n]=255&-i^255,i/=256}function m(e,t,i){for(var n=t+8;t<n;)e[t++]=255&i,i/=256}function g(e,t,i){var n=t+8;for(i++;t<n;)e[t++]=255&-i^255,i/=256}function v(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)}var y,b="undefined",_=b!==(void 0===e?"undefined":(0,V.default)(e))&&e,T=b!==("undefined"==typeof Uint8Array?"undefined":(0,V.default)(Uint8Array))&&Uint8Array,w=b!==("undefined"==typeof ArrayBuffer?"undefined":(0,V.default)(ArrayBuffer))&&ArrayBuffer,E=[0,0,0,0,0,0,0,0],k=Array.isArray||v,S=4294967296,C=16777216;n=i("Uint64BE",!0,!0),r=i("Int64BE",!0,!1),a=i("Uint64LE",!1,!0),o=i("Int64LE",!1,!1)}("string"!=typeof i.nodeName?i:this||{})},"./node_modules/matroska/lib/schema.js":function(e){var t={128:{name:"ChapterDisplay",level:4,type:"m",multiple:!0,minver:1,webm:!0,description:"Contains all possible strings to use for the chapter display."},131:{name:"TrackType",level:3,type:"u",mandatory:!0,minver:1,range:"1-254",description:"A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control)."},133:{name:"ChapString",cppname:"ChapterString",level:5,type:"8",mandatory:!0,minver:1,webm:!0,description:"Contains the string to use as the chapter atom."},134:{name:"CodecID",level:3,type:"s",mandatory:!0,minver:1,description:"An ID corresponding to the codec, see the codec page for more info."},136:{name:"FlagDefault",cppname:"TrackFlagDefault",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)"},137:{name:"ChapterTrackNumber",level:5,type:"u",mandatory:!0,multiple:!0,minver:1,webm:!1,range:"not 0",description:"UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks."},145:{name:"ChapterTimeStart",level:4,type:"u",mandatory:!0,minver:1,webm:!0,description:"Timestamp of the start of Chapter (not scaled)."},146:{name:"ChapterTimeEnd",level:4,type:"u",minver:1,webm:!1,description:"Timestamp of the end of Chapter (timestamp excluded, not scaled)."},150:{name:"CueRefTime",level:5,type:"u",mandatory:!0,minver:2,webm:!1,description:"Timestamp of the referenced Block."},151:{name:"CueRefCluster",level:5,type:"u",mandatory:!0,webm:!1,description:"The Position of the Cluster containing the referenced Block."},152:{name:"ChapterFlagHidden",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},16980:{name:"ContentCompAlgo",level:6,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping"},16981:{name:"ContentCompSettings",level:6,type:"b",minver:1,webm:!1,description:"Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track."},17026:{name:"DocType",level:1,type:"s",mandatory:!0,default:"matroska",minver:1,description:"A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files."},17029:{name:"DocTypeReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum DocType version an interpreter has to support to read this file."},17030:{name:"EBMLVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of EBML parser used to create the file."},17031:{name:"DocTypeVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of DocType interpreter used to create the file."},17476:{name:"SegmentFamily",level:2,type:"b",multiple:!0,minver:1,webm:!1,bytesize:16,description:"A randomly generated unique ID that all segments related to each other must use (128 bits)."},17505:{name:"DateUTC",level:2,type:"d",minver:1,description:"Date of the origin of timestamp (value 0), i.e. production date."},17540:{name:"TagDefault",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Indication to know if this is the default/original language to use for the given tag. (1 bit)"},17541:{name:"TagBinary",level:4,type:"b",minver:1,webm:!1,description:"The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString."},17543:{name:"TagString",level:4,type:"8",minver:1,webm:!1,description:"The value of the Element."},17545:{name:"Duration",level:2,type:"f",minver:1,range:"> 0",description:"Duration of the segment (based on TimecodeScale)."},17816:{name:"ChapterFlagEnabled",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)"},18016:{name:"FileMimeType",level:3,type:"s",mandatory:!0,minver:1,webm:!1,description:"MIME type of the file."},18017:{name:"FileUsedStartTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18018:{name:"FileUsedEndTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18037:{name:"FileReferral",level:3,type:"b",webm:!1,description:"A binary value that a track/codec can refer to when the attachment is needed."},20529:{name:"ContentEncodingOrder",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment."},20530:{name:"ContentEncodingScope",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)"},20531:{name:"ContentEncodingType",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption"},20532:{name:"ContentCompression",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking."},20533:{name:"ContentEncryption",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise."},21368:{name:"CueBlockNumber",level:4,type:"u",minver:1,default:1,range:"not 0",description:"Number of the Block in the specified Cluster."},22100:{name:"ChapterStringUID",level:4,type:"8",mandatory:!1,minver:3,webm:!0,description:"A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage."},22337:{name:"WritingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Writing application ("mkvmerge-0.3.3").'},22612:{name:"SilentTracks",cppname:"ClusterSilentTracks",level:2,type:"m",minver:1,webm:!1,description:"The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use."},25152:{name:"ContentEncoding",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Settings for one content encoding like compression or encryption."},25188:{name:"BitDepth",cppname:"AudioBitDepth",level:4,type:"u",minver:1,range:"not 0",description:"Bits per sample, mostly used for PCM."},25906:{name:"SignedElement",level:3,type:"b",multiple:!0,webm:!1,description:"An element ID whose data will be used to compute the signature."},26148:{name:"TrackTranslate",level:3,type:"m",multiple:!0,minver:1,webm:!1,description:"The track identification for the given Chapter Codec."},26897:{name:"ChapProcessCommand",cppname:"ChapterProcessCommand",level:5,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26914:{name:"ChapProcessTime",cppname:"ChapterProcessTime",level:6,type:"u",mandatory:!0,minver:1,webm:!1,description:"Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter)."},26916:{name:"ChapterTranslate",level:2,type:"m",multiple:!0,minver:1,webm:!1,description:"A tuple of corresponding ID used by chapter codecs to represent this segment."},26931:{name:"ChapProcessData",cppname:"ChapterProcessData",level:6,type:"b",mandatory:!0,minver:1,webm:!1,description:"Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands."},26948:{name:"ChapProcess",cppname:"ChapterProcess",level:4,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26965:{name:"ChapProcessCodecID",cppname:"ChapterProcessCodecID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later."},29555:{name:"Tag",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters."},29572:{name:"SegmentFilename",level:2,type:"8",minver:1,webm:!1,description:"A filename corresponding to this segment."},29766:{name:"AttachmentLink",cppname:"TrackAttachmentLink",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"The UID of an attachment that is used by this codec."},2459272:{name:"CodecName",level:3,type:"8",minver:1,description:"A human-readable string specifying the codec."},408125543:{name:"Segment",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment."},17530:{name:"TagLanguage",level:4,type:"s",mandatory:!0,minver:1,webm:!1,default:"und",description:"Specifies the language of the tag specified, in the Matroska languages form."},17827:{name:"TagName",level:4,type:"8",mandatory:!0,minver:1,webm:!1,description:"The name of the Tag that is going to be stored."},26568:{name:"SimpleTag",cppname:"TagSimple",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contains general information about the target."},25542:{name:"TagAttachmentUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment."},25540:{name:"TagChapterUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment."},25545:{name:"TagEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment."},25541:{name:"TagTrackUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment."},25546:{name:"TargetType",cppname:"TagTargetType",level:4,type:"s",minver:1,webm:!1,strong:"informational",description:'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).'},26826:{name:"TargetTypeValue",cppname:"TagTargetTypeValue",level:4,type:"u",minver:1,webm:!1,default:50,description:"A number to indicate the logical level of the target (see TargetType)."},25536:{name:"Targets",cppname:"TagTargets",level:3,type:"m",mandatory:!0,minver:1,webm:!1,description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},307544935:{name:"Tags",level:1,type:"m",multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here."},17677:{name:"ChapProcessPrivate",cppname:"ChapterProcessPrivate",level:5,type:"b",minver:1,webm:!1,description:'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.'},17278:{name:"ChapCountry",cppname:"ChapterCountry",level:5,type:"s",multiple:!0,minver:1,webm:!1,description:"The countries corresponding to the string, same 2 octets as in Internet domains."},17276:{name:"ChapLanguage",cppname:"ChapterLanguage",level:5,type:"s",mandatory:!0,multiple:!0,minver:1,webm:!0,default:"eng",description:"The languages corresponding to the string, in the bibliographic ISO-639-2 form."},143:{name:"ChapterTrack",level:4,type:"m",minver:1,webm:!1,description:"List of tracks on which the chapter applies. If this element is not present, all tracks apply"},25539:{name:"ChapterPhysicalEquiv",level:4,type:"u",minver:1,webm:!1,description:'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.'},28348:{name:"ChapterSegmentEditionUID",level:4,type:"u",minver:1,webm:!1,range:"not 0",description:"The EditionUID to play from the segment linked in ChapterSegmentUID."},28263:{name:"ChapterSegmentUID",level:4,type:"b",minver:1,webm:!1,range:">0",bytesize:16,description:"A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used."},29636:{name:"ChapterUID",level:4,type:"u",mandatory:!0,minver:1,webm:!0,range:"not 0",description:"A unique ID to identify the Chapter."},182:{name:"ChapterAtom",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains the atom information to use as the chapter atom (apply to all tracks)."},17885:{name:"EditionFlagOrdered",level:3,type:"u",minver:1,webm:!1,default:0,range:"0-1",description:"Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)"},17883:{name:"EditionFlagDefault",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a flag is set (1) the edition should be used as the default one. (1 bit)"},17853:{name:"EditionFlagHidden",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},17852:{name:"EditionUID",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"A unique ID to identify the edition. It's useful for tagging an edition."},17849:{name:"EditionEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains all information about a segment edition."},272869232:{name:"Chapters",level:1,type:"m",minver:1,webm:!0,description:"A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation."},18094:{name:"FileUID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,range:"not 0",description:"Unique ID representing the file, as random as possible."},18012:{name:"FileData",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The data of the file."},18030:{name:"FileName",level:3,type:"8",mandatory:!0,minver:1,webm:!1,description:"Filename of the attached file."},18046:{name:"FileDescription",level:3,type:"8",minver:1,webm:!1,description:"A human-friendly name for the attached file."},24999:{name:"AttachedFile",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"An attached file."},423732329:{name:"Attachments",level:1,type:"m",minver:1,webm:!1,description:"Contain attached files."},235:{name:"CueRefCodecState",level:5,type:"u",webm:!1,default:0,description:"The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry."},21343:{name:"CueRefNumber",level:5,type:"u",webm:!1,default:1,range:"not 0",description:"Number of the referenced Block of Track X in the specified Cluster."},219:{name:"CueReference",level:4,type:"m",multiple:!0,minver:2,webm:!1,description:"The Clusters containing the required referenced Blocks."},234:{name:"CueCodecState",level:4,type:"u",minver:2,webm:!1,default:0,description:"The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry."},178:{name:"CueDuration",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues."},240:{name:"CueRelativePosition",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.",position:"clusterRelative"},241:{name:"CueClusterPosition",level:4,type:"u",mandatory:!0,minver:1,description:"The position of the Cluster containing the required Block.",position:"segment"},247:{name:"CueTrack",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track for which a position is given."},183:{name:"CueTrackPositions",level:3,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contain positions for different tracks corresponding to the timestamp."},179:{name:"CueTime",level:3,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp according to the segment time base."},187:{name:"CuePoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains all information relative to a seek point in the segment."},475249515:{name:"Cues",level:1,type:"m",minver:1,description:'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.'},18406:{name:"ContentSigHashAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5"},18405:{name:"ContentSigAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA"},18404:{name:"ContentSigKeyID",level:6,type:"b",minver:1,webm:!1,description:"This is the ID of the private key the data was signed with."},18403:{name:"ContentSignature",level:6,type:"b",minver:1,webm:!1,description:"A cryptographic signature of the contents."},18402:{name:"ContentEncKeyID",level:6,type:"b",minver:1,webm:!1,description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},18401:{name:"ContentEncAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES"},28032:{name:"ContentEncodings",level:3,type:"m",minver:1,webm:!1,description:"Settings for several content encoding mechanisms like compression or encryption."},196:{name:"TrickMasterTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},199:{name:"TrickMasterTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},198:{name:"TrickTrackFlag",level:3,type:"u",divx:!0,default:0,description:"DivX trick track extenstions"},193:{name:"TrickTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},192:{name:"TrickTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},237:{name:"TrackJoinUID",level:5,type:"u",mandatory:!0,multiple:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of a track whose blocks are used to create this virtual track."},233:{name:"TrackJoinBlocks",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all tracks whose Blocks need to be combined to create this virtual track"},230:{name:"TrackPlaneType",level:6,type:"u",mandatory:!0,minver:3,webm:!1,description:"The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background)."},229:{name:"TrackPlaneUID",level:6,type:"u",mandatory:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of the track representing the plane."},228:{name:"TrackPlane",level:5,type:"m",mandatory:!0,multiple:!0,minver:3,webm:!1,description:"Contains a video plane track that need to be combined to create this 3D track"},227:{name:"TrackCombinePlanes",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},226:{name:"TrackOperation",level:3,type:"m",minver:3,webm:!1,description:"Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject."},32123:{name:"ChannelPositions",cppname:"AudioPosition",level:4,type:"b",webm:!1,description:"Table of horizontal angles for each successive channel, see appendix."},159:{name:"Channels",cppname:"AudioChannels",level:4,type:"u",mandatory:!0,minver:1,default:1,range:"not 0",description:"Numbers of channels in the track."},30901:{name:"OutputSamplingFrequency",cppname:"AudioOutputSamplingFreq",level:4,type:"f",minver:1,default:"Sampling Frequency",range:"> 0",description:"Real output sampling frequency in Hz (used for SBR techniques)."},181:{name:"SamplingFrequency",cppname:"AudioSamplingFreq",level:4,type:"f",mandatory:!0,minver:1,default:8e3,range:"> 0",description:"Sampling frequency in Hz."},225:{name:"Audio",cppname:"TrackAudio",level:3,type:"m",minver:1,description:"Audio settings."},2327523:{name:"FrameRate",cppname:"VideoFrameRate",level:4,type:"f",range:"> 0",strong:"Informational",description:"Number of frames per second.  only."},3126563:{name:"GammaValue",cppname:"VideoGamma",level:4,type:"f",webm:!1,range:"> 0",description:"Gamma Value."},3061028:{name:"ColourSpace",cppname:"VideoColourSpace",level:4,type:"b",minver:1,webm:!1,bytesize:4,description:"Same value as in AVI (32 bits)."},21683:{name:"AspectRatioType",cppname:"VideoAspectRatio",level:4,type:"u",minver:1,default:0,description:"Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed)."},21682:{name:"DisplayUnit",cppname:"VideoDisplayUnit",level:4,type:"u",minver:1,default:0,description:"How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio)."},21690:{name:"DisplayHeight",cppname:"VideoDisplayHeight",level:4,type:"u",minver:1,default:"PixelHeight",range:"not 0",description:"Height of the video frames to display. The default value is only valid when DisplayUnit is 0."},21680:{name:"DisplayWidth",cppname:"VideoDisplayWidth",level:4,type:"u",minver:1,default:"PixelWidth",range:"not 0",description:"Width of the video frames to display. The default value is only valid when DisplayUnit is 0."},21725:{name:"PixelCropRight",cppname:"VideoPixelCropRight",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the right of the image."},21708:{name:"PixelCropLeft",cppname:"VideoPixelCropLeft",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the left of the image."},21691:{name:"PixelCropTop",cppname:"VideoPixelCropTop",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the top of the image."},21674:{name:"PixelCropBottom",cppname:"VideoPixelCropBottom",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the bottom of the image (for HDTV content)."},186:{name:"PixelHeight",cppname:"VideoPixelHeight",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Height of the encoded video frames in pixels."},176:{name:"PixelWidth",cppname:"VideoPixelWidth",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Width of the encoded video frames in pixels."},21433:{name:"OldStereoMode",level:4,type:"u",maxver:"0",webm:!1,divx:!1,description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},21440:{name:"AlphaMode",cppname:"VideoAlphaMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data."},21432:{name:"StereoMode",cppname:"VideoStereoMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes."},154:{name:"FlagInterlaced",cppname:"VideoFlagInterlaced",level:4,type:"u",mandatory:!0,minver:2,webm:!0,default:0,range:"0-1",description:"Set if the video is interlaced. (1 bit)"},224:{name:"Video",cppname:"TrackVideo",level:3,type:"m",minver:1,description:"Video settings."},26277:{name:"TrackTranslateTrackID",level:4,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used."},26303:{name:"TrackTranslateCodec",level:4,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},26364:{name:"TrackTranslateEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment."},22203:{name:"SeekPreRoll",level:3,type:"u",mandatory:!0,multiple:!1,default:0,minver:4,webm:!0,description:"After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid."},22186:{name:"CodecDelay",level:3,type:"u",multiple:!1,default:0,minver:4,webm:!0,description:"CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster."},28587:{name:"TrackOverlay",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc."},170:{name:"CodecDecodeAll",level:3,type:"u",mandatory:!0,minver:2,webm:!1,default:1,range:"0-1",description:"The codec can decode potentially damaged data (1 bit)."},2536e3:{name:"CodecDownloadURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to download about the codec used."},3883072:{name:"CodecInfoURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to find information about the codec used."},3839639:{name:"CodecSettings",level:3,type:"8",webm:!1,description:"A string describing the encoding setting used."},25506:{name:"CodecPrivate",level:3,type:"b",minver:1,description:"Private data only known to the codec."},2274716:{name:"Language",cppname:"TrackLanguage",level:3,type:"s",minver:1,default:"eng",description:"Specifies the language of the track in the Matroska languages form."},21358:{name:"Name",cppname:"TrackName",level:3,type:"8",minver:1,description:"A human-readable track name."},21998:{name:"MaxBlockAdditionID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The maximum value of BlockAdditions for this track."},21375:{name:"TrackOffset",level:3,type:"i",webm:!1,default:0,description:"A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track."},2306383:{name:"TrackTimecodeScale",level:3,type:"f",mandatory:!0,minver:1,maxver:"3",webm:!1,default:1,range:"> 0",description:"DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs)."},2313850:{name:"DefaultDecodedFieldDuration",cppname:"TrackDefaultDecodedFieldDuration",level:3,type:"u",minver:4,range:"not 0",description:"The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)"},2352003:{name:"DefaultDuration",cppname:"TrackDefaultDuration",level:3,type:"u",minver:1,range:"not 0",description:"Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block)."},28152:{name:"MaxCache",cppname:"TrackMaxCache",level:3,type:"u",minver:1,webm:!1,description:"The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed."},28135:{name:"MinCache",cppname:"TrackMinCache",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used."},156:{name:"FlagLacing",cppname:"TrackFlagLacing",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if the track may contain blocks using lacing. (1 bit)"},21930:{name:"FlagForced",cppname:"TrackFlagForced",level:3,type:"u",mandatory:!0,minver:1,default:0,range:"0-1",description:"Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)"},185:{name:"FlagEnabled",cppname:"TrackFlagEnabled",level:3,type:"u",mandatory:!0,minver:2,webm:!0,default:1,range:"0-1",description:"Set if the track is usable. (1 bit)"},29637:{name:"TrackUID",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file."},215:{name:"TrackNumber",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},174:{name:"TrackEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Describes a track with all elements."},374648427:{name:"Tracks",level:1,type:"m",multiple:!0,minver:1,description:"A top-level block of information with many tracks described."},175:{name:"EncryptedBlock",level:2,type:"b",multiple:!0,webm:!1,description:"Similar to EncryptedBlock Structure)"},202:{name:"ReferenceTimeCode",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},201:{name:"ReferenceOffset",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},200:{name:"ReferenceFrame",level:3,type:"m",multiple:!1,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},207:{name:"SliceDuration",level:5,type:"u",default:0,description:"The (scaled) duration to apply to the element."},206:{name:"Delay",cppname:"SliceDelay",level:5,type:"u",default:0,description:"The (scaled) delay to apply to the element."},203:{name:"BlockAdditionID",cppname:"SliceBlockAddID",level:5,type:"u",default:0,description:"The ID of the BlockAdditional element (0 is the main Block)."},205:{name:"FrameNumber",cppname:"SliceFrameNumber",level:5,type:"u",default:0,description:"The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame)."},204:{name:"LaceNumber",cppname:"SliceLaceNumber",level:5,type:"u",minver:1,default:0,divx:!1,description:"The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},232:{name:"TimeSlice",level:4,type:"m",multiple:!0,minver:1,divx:!1,description:"Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},142:{name:"Slices",level:3,type:"m",minver:1,divx:!1,description:"Contains slices description."},30114:{name:"DiscardPadding",level:3,type:"i",minver:4,webm:!0,description:"Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback."},164:{name:"CodecState",level:3,type:"b",minver:2,webm:!1,description:"The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry."},253:{name:"ReferenceVirtual",level:3,type:"i",webm:!1,description:"Relative position of the data that should be in position of the virtual block."},251:{name:"ReferenceBlock",level:3,type:"i",multiple:!0,minver:1,description:"Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to."},250:{name:"ReferencePriority",cppname:"FlagReferenced",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced."},155:{name:"BlockDuration",level:3,type:"u",minver:1,default:"TrackDuration",description:'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'},165:{name:"BlockAdditional",level:5,type:"b",mandatory:!0,minver:1,webm:!1,description:"Interpreted by the codec as it wishes (using the BlockAddID)."},238:{name:"BlockAddID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"An ID to identify the BlockAdditional level."},166:{name:"BlockMore",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contain the BlockAdditional and some parameters."},30113:{name:"BlockAdditions",level:3,type:"m",minver:1,webm:!1,description:"Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data."},162:{name:"BlockVirtual",level:3,type:"b",webm:!1,description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},161:{name:"Block",level:3,type:"b",mandatory:!0,minver:1,description:"Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)"},160:{name:"BlockGroup",level:2,type:"m",multiple:!0,minver:1,description:"Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock."},163:{name:"SimpleBlock",level:2,type:"b",multiple:!0,minver:2,webm:!0,divx:!0,description:"Similar to SimpleBlock Structure"},171:{name:"PrevSize",cppname:"ClusterPrevSize",level:2,type:"u",minver:1,description:"Size of the previous Cluster, in octets. Can be useful for backward playing.",position:"prevCluster"},167:{name:"Position",cppname:"ClusterPosition",level:2,type:"u",minver:1,webm:!1,description:"The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.",position:"segment"},22743:{name:"SilentTrackNumber",cppname:"ClusterSilentTrackNumber",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster."},231:{name:"Timecode",cppname:"ClusterTimecode",level:2,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp of the cluster (based on TimecodeScale)."},524531317:{name:"Cluster",level:1,type:"m",multiple:!0,minver:1,description:"The lower level element containing the (monolithic) Block structure."},19840:{name:"MuxingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Muxing application or library ("libmatroska-0.4.3").'},31657:{name:"Title",level:2,type:"8",minver:1,webm:!1,description:"General name of the segment."},2807730:{name:"TimecodeScaleDenominator",level:2,type:"u",mandatory:!0,minver:4,default:"1000000000",description:"Timestamp scale numerator, see TimecodeScale."},2807729:{name:"TimecodeScale",level:2,type:"u",mandatory:!0,minver:1,default:"1000000",description:"Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds)."},27045:{name:"ChapterTranslateID",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used."},27071:{name:"ChapterTranslateCodec",level:3,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},27132:{name:"ChapterTranslateEditionUID",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment."},4096955:{name:"NextFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the next segment."},4110627:{name:"NextUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the next chained segment (128 bits)."},3965867:{name:"PrevFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the previous segment."},3979555:{name:"PrevUID",level:2,type:"b",minver:1,webm:!1,ntUID",level:2,type:"b",minver:1,webm:!1,range:"not 0",bytesize:16,description:"A randomly generated unique ID to identify the current segment between many others (128 bits)."},357149030:{name:"Info",level:1,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains miscellaneous general information and statistics on the file."},21420:{name:"SeekPosition",level:3,type:"u",mandatory:!0,minver:1,description:"The position of the element in the segment in octets (0 = first level 1 element).",position:"segment"},21419:{name:"SeekID",level:3,type:"b",mandatory:!0,minver:1,description:"The binary ID corresponding to the element name.",type2:"ebmlID"},19899:{name:"Seek",cppname:"SeekPoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains a single seek entry to an EBML element."},290298740:{name:"SeekHead",cppname:"SeekHeader",level:1,type:"m",multiple:!0,minver:1,description:"Contains the position of other level 1 elements."},32379:{name:"SignatureElementList",level:2,type:"m",multiple:!0,webm:!1,i:"Cluster|Block|BlockAdditional",description:"A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption."},32347:{name:"SignatureElements",level:1,type:"m",webm:!1,description:"Contains elements that will be used to compute the signature."},32437:{name:"Signature",level:1,type:"b",webm:!1,description:"The signature of the data (until a new."},32421:{name:"SignaturePublicKey",level:1,type:"b",webm:!1,description:"The public key to use with the algorithm (in the case of a PKI-based signature)."},32410:{name:"SignatureHash",level:1,type:"u",webm:!1,description:"Hash algorithm used (1=SHA1-160, 2=MD5)."},32394:{name:"SignatureAlgo",level:1,type:"u",webm:!1,description:"Signature algorithm used (1=RSA, 2=elliptic)."},458458727:{name:"SignatureSlot",level:-1,type:"m",multiple:!0,webm:!1,description:"Contain signature of some (coming) elements in the stream."},191:{name:"CRC-32",level:-1,type:"b",minver:1,webm:!1,description:"The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian",crc:!0},236:{name:"Void",level:-1,type:"b",minver:1,description:"Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use."},17139:{name:"EBMLMaxSizeLength",level:1,type:"u",mandatory:!0,default:8,minver:1,description:"The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid."},17138:{name:"EBMLMaxIDLength",level:1,type:"u",mandatory:!0,default:4,minver:1,description:"The maximum length of the IDs you'll find in this file (4 or less in Matroska)."},17143:{name:"EBMLReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum EBML version a parser has to support to read this file."},440786851:{name:"EBML",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"Set the EBML characteristics of the data to follow. Each EBML document has to start with this."}},i={},n={byEbmlID:t,byName:i};for(var r in t){i[t[r]n},"./node_modules/ts-ebml/lib/EBMLDecoder.js":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n,r=i("./node_modules/ts-ebml/lib/tools.j("./node_modules/ts-ebml/lib/tools.js"),s=i("./node_modules/matroska/lib/schema.js"),u=s.byEbmlID;!function(e){e[e.STATE_TAG=1]="STATE_TAG",e[e.STATE_SIZE=2]="STATE_SIZE",e[e.STATE_CONTENT=3]="STATE_CONTENT"}(n||(n={}));var l=function(){function e(){this._buffer=new r.Buffer(0),this._tag_stack=[],this._state=n.STATE_TAG,this._cursor=0,this._total=0,this._schema=u,this._result=[]}return e.prototype.decode=function(e){this.readChunk(e);var t=this._result;return this._result=[],t},e.prototype.readChunk=function(e){for(this._buffer=o.concat([this._buffer,new r.Buffer(e)]);this._cursor<this._buffer.length&&(this._state!==n.STATE_TAG||this.readTag())&&(this._state!==n.STATE_SIZE||this.readSize())&&(this._state!==n.STATE_CONTENT||this.readContent()););},e.prototype.getSchemaInfo=function(e){return this._schema[e]||{name:"unknown",level:-1,type:"unknown",description:"unknown"}},e.prototype.readTag=function(){if(this._cursor>=this._buffer.length)return!1;var e=r.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._buffer.slice(this._cursor,this._cursor+e.length),i=t.reduce(function(e,t,i,n){return e+t*Math.pow(16,2*(n.length-1-i))},0),a=this.getSchemaInfo(i),o={EBML_ID:i.toString(16),schema:a,type:a.type,name:a.name,level:a.level,tagStart:this._total,tagEnd:this._total+e.length,sizeStart:this._total+e.length,sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this._tag_stack.push(o),this._cursor+=e.length,this._total+=e.length,this._state=n.STATE_SIZE,!0},e.prototype.readSize=function(){if(this._cursor>=this._buffa._tag_stack[this._tag_stack.length-1];return t.sizeEnd=t.sizeStart+e.length,t.dataStart=t.sizeEnd,t.dataSize=e.value,-1===e.value?(t.dataEnd=-1,"m"===t.type&&(t.unknownSize=!0)):t.dataEnd=t.sizeEnd+e.value,this._cursor+=e.length,this._total+=e.length,this._state=n.STATE_CONTENT,!0},e.prototype.readContent=function(){var e=this._tag_stack[this._tag_stack.length-1];if("m"===e.type){if(e.isEnd=!1,this._result.push(e),this._state=n.STATE_TAG,0===e.dataSize){var t=(0,f.default)({},e,{isEnd:!0});this._result.push(t),this._tag_stack.pop()}return!0}if(this._buffer.length<this._cursor+e.dataSize)return!1;var i=this._buffer.slice(this._cursor,this._cursor+e.dataSize);switch(this._buffer=this._buffer.slice(this._cursor+e.dataSize),e.data=i,e.type){case"u":e.value=i.readUIntBE(0,i.length);break;case"i":e.value=i.readIntBE(0,i.length);break;case"f":e.value=4===e.dataSize?i.readFloatBE(0):8===e.dataSize?i.readDoubleBE(0):(console.warn("cannot read "+e.dataSize+" octets float. failback to 0"),0);break;case"s":e.value=i.toString("ascii");break;case"8":e.value=i.toString("utf8");break;case"b":e.value=i;break;case"d":e.value=r.convertEBMLDateToJSDate(new a.Int64BE(i).toNumber())}if(null===e.value)throw new Error("unknown tag type:"+e.type);for(this._result.push(e),this._total+=e.dataSize,this._state=n.STATE_TAG,this._cursor=0,this._tag_stack.pop();this._tag_stack.length>0;){var o=this._tag_stack[this._tag_stack.length-1];if(o.dataEnd<0)return this._tag_stack.pop(),!0;if(this._total<o.dataEnd)break;if("m"!==o.type)throw new Error("parent element is not master element");var t=(0,f.default)({},o,{isEnd:!0});this._result.push(t),this._tag_stack.pop()}return!0},e}();t.default=l},"./node_modules/ts-ebml/lib/EBMLEncoder.js":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i("./node_modules/ts-ebml/lib/tools.js"),r=i("./node_modules/ts-ebml/lib/tools.js"),a=i("./node_modules/matroska/lib/schema.js"),o=a.byEbmlID,s=function(){function e(){this._schema=o,this._buffers=[],this._stack=[]}return e.prototype.encode=function(e){var t=this;return n.concat(e.reduce(function(e,i){return e.concat(t.encodeChunk(i))},[])).buffer},e.prototype.encodeChunk=function(e){return"m"===e.type?e.isEnd?this.endTag(e):this.startTag(e):this.writeTag(e),this.flush()},e.prototype.flush=function(){var e=this._buffers;return this._buffers=[],e},e.prototype.getSchemaInfo=function(e){for(var t=(0,d.default)(this._schema).map(Number),i=0;i<t.length;i++){var n=t[i];if(this._schema[n].name===e)return new r.Buffer(n.toString(16),"hex")}return null},e.prototype.writeTag=function(e){var t=e.name,i=this.getSchemaInfo(t),r=e.data;if(null==i)throw new Error("No schema entry found for "+t);var a=n.encodeTag(i,r);if(this._stack.length>0){return void this._stack[this._stack.length-1].children.push({tagId:i,elm:e,children:[],data:a})}this._buffers=this._buffers.concat(a)},e.prototype.startTag=function(e){var t=e.name,i=this.getSchemaInfo(t);if(null==i)throw new Error("No schema entry found for "+t);if(e.unknownSize){var a=n.encodeTag(i,new r.Buffer(0),e.unknownSize);return void(this._buffers=this._buffers.concat(a))}var o={tagId:i,elm:e,children:[],data:null};this._stack.length>0&&this._stack[this._stack.length-1].children.push(o),this._stack.push(o)},e.prototype.endTag=function(e){var t=(e.name,this._stack.pop());if(null==t)throw new Error("EBML structure is broken");if(t.elm.name!==e.name)throw new Error("EBML structure is broken");var i=t.children.reduce(function(e,t){if(null===t.data)throw new Error("EBML structure is broken");return e.concat(t.data)},[]),r=n.concat(i);"m"===t.elm.type?t.data=n.encodeTag(t.tagId,r,t.elm.unknownSize):t.data=n.encodeTag(t.tagId,r),this._stack.length<1&&(this._buffers=this._buffers.concat(t.data))},e}();t.default=s},"./node_modules/ts-ebml/lib/EBMLReader.js":function(e,t,i){var n=this&&this.__extends||function(){var e=U.default||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?(0,O.default)(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=i("./node_modules/events/events.js"),a=i("./node_modules/ts-ebml/lib/tools.js"),o=function(e){function t(){var t=e.call(this)||this;return t.logGroup="",t.hasLoggingStarted=!1,t.metadataloaded=!1,t.chunks=[],t.stack=[],t.segmentOffset=0,t.last2SimpleBlockVideoTrackTimecode=[0,0],t.last2SimpleBlockAudioTrackTimecode=[0,0],t.lastClusterTimecode=0,t.lastClusterPosition=0,t.timecodeScale=1e6,t.metadataSize=0,t.metadatas=[],t.cues=[],t.firstVideoBlockRead=!1,t.firstAudioBlockRead=!1,t.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},t.trackTypes=[],t.trackDefaultDuration=[],t.trackCodecDelay=[],t.trackInfo={type:"nothing"},t.ended=!1,t.logging=!1,t.use_duration_every_simpleblock=!1,t.use_webp=!1,t.use_segment_info=!0,t.drop_default_duration=!0,t}return n(t,e),t.prototype.stop=function(){for(this.ended=!0,this.emit_segment_info();this.stack.length;)this.stack.pop(),this.logging&&console.groupEnd();this.logging&&this.hasLoggingStarted&&this.logGroup&&console.groupEnd()},t.prototype.emit_segment_info=function(){var e=this.chunks;if(this.chunks=[],this.metadataloaded){if(!this.use_segment_info)return;var t=this.lastClusterTimecode,i=this.duration,n=this.timecodeScale;this.emit("cluster",{timecode:t,data:e}),this.emit("duration",{timecodeScale:n,duration:i})}else{this.metadataloaded=!0,this.metadatas=e;var r=this.trackTypes.indexOf(1),a=this.trackTypes.indexOf(2);if(this.trackInfo=r>=0&&a>=0?{type:"both",trackNumber:r}:r>=0?{type:"video",trackNumber:r}:a>=0?{type:"audio",trackNumber:a}:{type:"nothing"},!this.use_segment_info)return;this.emit("metadata",{data:e,metadataSize:this.metadataSize})}},t.prototype.read=function(e){var t=this,i=!1;if(!this.ended){if("m"===e.type)if(e.isEnd)this.stack.pop();else{var n=this.stack[this.stack.length-1];if(null!=n&&n.level>=e.level){this.stack.pop(),this.logging&&console.groupEnd(),n.dataEnd=e.dataEnd,n.dataSize=e.dataEnd-n.dataStart,n.unknownSize=!1;var r=(0,f.default)({},n,{name:n.name,type:n.type,isEnd:!0});this.chunks.push(r)}this.stack.push(e)}if("m"===e.type&&"Segment"==e.name)0!=this.segmentOffset&&console.warn("Multiple segments detected!"),this.segmentOffset=e.dataStart,this.emit("segment_offset",this.segmentOffset);else if("b"===e.type&&"SimpleBlock"===e.name){var o=a.ebmlBlock(e.data),s=o.timecode,u=o.trackNumber,l=o.frames;if(1===this.trackTypes[u]){if(!this.firstVideoBlockRead&&(this.firstVideoBlockRead=!0,"both"===this.trackInfo.type||"video"===this.trackInfo.type)){var c=this.lastClusterTimecode+s;this.cues.push(me:c}),this.emit("cue_info",{CueTrack:u,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:u,CueClusterPosition:this.lastClusterPosition,CueTime:c})}this.last2SimpleBlockVideoTrackTimecode=[this.last2SimpleBlockVideoTrackTimecode[1],s]}else if(2===this.trackTypes[u]){if(!this.firstAudioBlockRead&&(this.firstAudioBlockRead=!0,"audio"===this.trackInfo.type)){var c=this.lastClusterTimecode+s;this.cues.push({CueTrack:u,CueClusterPosition:this.lastClusterPosition,CueTime:c}),this.emit("cue_info",{CueTrack:u,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:u,CueClusterPosition:this.lastClusterPosition,CueTime:c})}this.last2SimpleBlockAudioTrackTimecode=[this.last2SimpleBlockAudioTrackTimecode[1],s]}this.use_duration_every_simpleblock&&this.emit("duration",{timecodeScale:this.timecodeScale,duration:this.duration}),this.use_webp&&l.forEach(function(e){if("9d012a"===e.slice(3,6).toString("hex")){var i=a.VP8BitStreamToRiffWebPBuffer(e),n=new Blob([i],{type:"image/webp"}),r=t.duration;t.emit("webp",{currentTime:r,webp:n})}})}else"m"===e.type&&"Cluster"===e.name&&!1===e.isEnd?(this.firstVideoBlockRead=!1,this.firstAudioBlockRead=!1,this.emit_segment_info(),this.emit("cluster_ptr",e.tagStart),this.lastClusterPosition=e.tagStart):"u"===e.type&&"Timecode"===e.name?this.lastClusterTimecode=e.value:"u"===e.type&&"TimecodeScale"===e.name?this.timecodeScale=e.value:"m"===e.type&&"TrackEntry"===e.name?e.isEnd?(this.trackTypes[this.currentTrack.TrackNumber]=this.currentTrack.TrackType,this.trackDefaultDuration[this.currentTrack.TrackNumber]=this.currentTrack.DefaultDuration,this.trackCodecDelay[this.currentTrack.TrackNumber]=this.currentTrack.CodecDelay):this.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===e.type&&"TrackType"===e.name?this.currentTrack.TrackType=e.value:"u"===e.type&&"TrackNumber"===e.name?this.currentTrack.TrackNumber=e.value:"u"===e.type&&"CodecDelay"===e.name?this.currentTrack.CodecDelay=e.value:"u"===e.type&&"DefaultDuration"===e.name?this.drop_default_duration?(console.warn("DefaultDuration detected!, remove it"),i=!0):this.currentTrack.DefaultDuration=e.value:"unknown"===e.name&&console.warn(e);!this.metadataloaded&&e.dataEnd>0&&(this.metadataSize=e.dataEnd),i||this.chunks.push(e),this.logging&&this.put(e)}},Object.defineProperty(t.prototype,"duration",{get:function(){if("nothing"===this.trackInfo.type)return console.warn("no video, no audio track"),0;var e=0,t=0,i=0,n=this.trackDefaultDuration[this.trackInfo.trackNumber];if("number"==typeof n)e=n;else if("both"===this.trackInfo.type)if(this.last2SimpleBlockAudioTrackTimecode[1]>this.last2SimpleBlockVideoTrackTimecode[1]){e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale;var r=this.trackCodecDelay[this.trackTypes.indexOf(2)];"number"==typeof r&&(t=r),i=this.last2SimpleBlockAudioTrackTimecode[1]}else{e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale;var r=this.trackCodecDelay[this.trackTypes.indexOf(1)];"number"==typeof r&&(t=r),i=this.last2SimpleBlockVideoTrackTimecode[1]}else if("video"===this.trackInfo.type){e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale;var r=this.trackCodecDelay[this.trackInfo.trackNumber];"number"==typeof r&&(t=r),i=this.last2SimpleBlockVideoTrackTimecode[1]}else if("audio"===this.trackInfo.type){e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale;var r=this.trackCodecDelay[this.trackInfo.trackNumber];"number"==typeof r&&(t=r),i=this.last2SimpleBlockAudioTrackTimecode[1]}var a=(this.lastClusterTimecode+i)*this.timecodeScale+e-t,o=a/this.timecodeScale;return Math.floor(o)},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t,i){return e.prototype.addListener.call(this,t,i)},t.prototype.put=function(e){this.hasLoggingStarted||(this.hasLoggingStarted=!0,this.logging&&this.logGroup&&console.groupCollapsed(this.logGroup)),"m"===e.type?e.isEnd?console.groupEnd():console.group(e.name+":"+e.tagStart):"b"===e.type?console.log(e.name,e.type):console.log(e.name,e.tagStart,e.type,e.value)},t}(r.EventEmitter);t.default=o},"./node_modules/ts-ebml/lib/index.js":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i("./node_modules/ts-ebml/lib/EBMLDecoder.js");t.Decoder=n.default;var r=i("./node_modules/ts-ebml/lib/EBMLEncoder.js");t.Encoder=r.default;var a=i("./node_modules/ts-ebml/lib/EBMLReader.js");t.Reader=a.default;var o=i("./node_modules/ts-ebml/lib/tools.js");t.tools=o;var s=i("./node_modules/ts-ebml/package.json").version;t.version=s},"./node_modules/ts-ebml/lib/tools.js":function(e,t,i){function n(e){return t.ebmlBlock(new t.Buffer(e))}function r(e,i,n){return void 0===n&&(n=!1),b([e,n?new t.Buffer("01ffffffffffffff","hex"):t.writern o(e).reduce(function(e,i){return t.ebmlBlock(i.data).frames.reduce(function(e,t){var i=s(t),n=new Blob([i],{type:"image/webp"});return e.concat(n)},e)},[])}function o(e){return e.reduce(function(e,i){return"b"!==i.type?e:"SimpleBlock"!==i.name?e:t.ebmlBlock(i.data).frames.some(function(e){return"9d012a"===e.slice(3,6).toString("hex")})?e.concat(i):e},[])}function s(e){var i=u("VP8 ",e);return u("RIFF",b([new t.Buffer("WEBP","ascii"),i]))}function u(e,i){var n=new t.Buffer(4);return n.writeUInt32LE(i.byteLength,0),b([new t.Buffer(e.substr(0,4),"ascii"),n,i,new t.Buffer(i.byteLength%2==0?0:1)])}function l(e,i,n){var r=d("EBML",e),a=p(r),o=a+12,s=e[e.length-1].dataEnd-o,u=d("Info",e);c("Duration",u),u.splice(1,0,{name:"Duration",type:"f",data:E(i,8)});for(var l=p(u),h=d("Tracks",e),f=p(h),m=47,g=[],v=5+15*n.length,y=[],b=-1,_=0;_<10;_++){if("break"===function(e){var i=m,r=i+l,a=r+f,u=a+v,c=u-s;if(g=[],g.push({name:"SeekHead",type:"m",isEnd:!1}),g.push({name:"Seek",type:"m",isEnd:!1}),g.push({name:"SeekID",type:"b",data:new t.Buffer([21,73,169,102])}),g.push({name:"SeekPosition",type:"u",data:T(i)}),g.push({name:"Seek",type:"m",isEnd:!0}),g.push({name:"Seek",type:"m",isEnd:!1}),g.push({name:"SeekID",type:"b",data:new t.Buffer([22,84,174,107])}),g.push({name:"SeekPosition",type:"u",data:T(r)}),g.push({name:"Seek",type:"m",isEnd:!0}),g.push({name:"Seek",type:"m",isEnd:!1}),g.push({name:"SeekID",type:"b",data:new t.Buffer([28,83,187,107])}),g.push({name:"SeekPosition",type:"u",data:T(a)}),g.push({name:"Seek",type:"m",isEnd:!0}),g.push({name:"SeekHead",type:"m",isEnd:!0}),m=p(g),y=[],y.push({name:"Cues",type:"m",isEnd:!1}),n.forEach(function(e){var t=e.CueTrack,i=e.CueClusterPosition,n=e.CueTime;y.push({name:"CuePoint",type:"m",isEnd:!1}),y.push({name:"CueTime",type:"u",data:T(n)}),y.push({name:"CueTrackPositions",type:"m",isEnd:!1}),y.push({name:"CueTrack",type:"u",data:T(t)}),i-=o,i+=c,y.push({name:"CueClusterPosition",type:"u",data:T(i)}),y.push({name:"CueTrackPositions",type:"m",isEnd:!0}),y.push({name:"CuePoint",type:"m",isEnd:!0})}),y.push({name:"Cues",type:"m",isEnd:!0}),v=p(y),b===c)return"break";if(b=c,9===e)throw new Error("Failed to converge to a stable metadata size")}(_))break}var w=[].concat.apply([],[r,{name:"Segment",type:"m",isEnd:!1,unknownSize:!0},g,u,h,y]);return(new C.default).encode(w)}function c(e,t){for(var i=-1,n=0;n<t.length;n++){var r=t[n];if(r.name===e){if("m"!==r.type)return void t.splice(n,1);if(r.isEnd){if(-1==i)throw new Error("Detected "+e+" closing element before finding the start");return void t.splice(i,n-i+1)}i=n}}}function d(e,t){for(var i=[],n=-1,r=0;r<t.length;r++){var a=t[r];if(a.name===e){if("m"!==a.type){i.push(t[r]);break}if(a.isEnd){if(-1==n)throw new Error("Detected "+e+" closing element before finding the start");i=t.slice(n,r+1);break}n=r}}return i}function h(e,i){Array.isArray(i.cueInfos)&&!Array.isArray(i.cues)&&(console.warn("putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues"),i.cues=i.cueInfos);for(var n=[],r=[],a=0;a<e.length;a++){var o=e[a];if("m"===o.type&&"Segment"===o.name){if(n=e.slice(0,a),r=e.slice(a),o.unknownSize){r.shift();break}throw new Error("this metadata is not streaming webm file")}}if(!(r[r.length-1].dataEnd>0))throw new Error("metadata dataEnd has wrong number");var s,u=r[r.length-1].dataEnd,l=n[n.length-1].dataEnd,c=(new C.default).encode(n).byteLength,d=c-l,h=u-r[0].tagStart,f=(r[0].tagStart,r[0].tagStart,new t.Buffer([24,83,128,103])),p=new t.Buffer("01ffffffffffffff","hex"),g=f.byteLength+p.byteLength,v=h;for(s=1;s<20;s++){var y=l+g+v,b=yturn e.concat(t.encode([i]))},[]).reduce(function(e,t){return e+t.byteLength},0)}function m(e,t,i){var n=i.duration,r=i.clusterPtrs,a=i.cues,o=e.slice(0);if("number"==typeof n){var s=!1;o.forEach(function(e){"f"===e.type&&"Duration"===e.name&&(s=!0,e.data=E(n,8))}),s||y(o,"Info",[{name:"Duration",type:"f",data:E(n,8)}])}Array.isArray(a)&&y(o,"Cues",v(a,t));var u=[];return Array.isArray(r)&&(console.warn("append cluster pointers to seekhead is deprecated. please use cues"),u=g(r,t)),y(o,"SeekHead",u,!0),o}function g(e,i){var n=[];return e.forEach(function(e){n.push({name:"Seek",type:"m",isEnd:!1}),n.push({name:"SeekID",type:"b",data:new t.Buffer([31,67,182,117])}),n.push({name:"SeekPosition",type:"u",data:T(e+i)}),n.push({name:"Seek",type:"m",isEnd:!0})}),n}function v(e,t){var i=[];return e.forEach(function(e){var n=e.CueTraci=1;e>=Math.pow(2,8*i);i++);if(i>=7)return console.warn("7bit or more bigger uint not supported."),new S.Uint64BE(e).toBuffer();var n=new t.Buffer(i);return n.writeUIntBE(e,0,i),n}function w(e){for(var i=1;e>=Math.pow(2,8*i);i++);if(i>=7)return console.warn("7bit or more bigger uint not supported."),new S.Int64BE(e).toBuffer();var n=new t.Buffer(i);return n.writeIntBE(e,0,i),n}function E(e,i){if(void 0===i&&(i=8),8===i){var n=new t.Buffer(8);return n.writeDoubleBE(e,0),n}if(4===i){var n=new t.Buffer(4);return n.writeFloatBE(e,0),n}throw new Error("float type bits must 4bytes or 8bytes")}function k(e){return e instanceof Date?e:new Date(new Date(", Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefin n?-1:W(e).length;t=(""+t).toLowerCase(),a=!0}}function v(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.lengch(e){case"hex":return L(this,t,i);case"utf8":case"utf-8":return R(this,t,i);case"ascii":return D(this,t,i);case"latc&&(l-=l-c),c=-1}else for(i+u>s&&(i=s-u),l=i;l>=0;l--){for(var d=!0,h=0;h<u;h++)if(a(e,l+h)!==a(t,h)){d=!1;break}if(d)return l}return-1}function T(e,t,i,n){i=Number(i)||0;var r=e.leturn o}function w(e,t,i,n){return X(W(t,e.length-i),e,i,n)}function E(e,t,i,n){return X(G(t),e,i,n)}function k(e,t,i,n){return E(e,t,i,n)}function C(e,t,i,n){return X($(t),e,i,n)}function A(e,t,i,n){return X(Y(t,e.length-i),e,i,n)}function x(e,t,i){return 0===t&&i===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,i))}function R(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var a=e[r],o=null,s=a>239?4:a>223?38&&(o=a);break;case 2:u=e[r+1],128==(192&u)&&(d=(31&a)<<6|63&u)>127&&(o=d);break;case 3:u=e[r+1],l=e[r+2],128==(192&u)&&128==(192&l)&&(d=(15&a)<<12|(63&u)<<6|63&l)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:u=e[r+1],l=e[r+2],c=e[r+3],128==(192&u)&&128==(192&l)&&128==|(63&l)<<6|63&c)>65535&&d<1114112&&(o=d)}}null===o?(o=6556,n.push(o>ction I(e)L(e,t,i){var r}functio.length)throw new RangeError("Index out of range");if(i<0)t,i,n,23,4),i+4}func.replace(ie,""),e.lt(o))>55295&&i<57344)continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=sh(i)}else if(i<2048or("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function G(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function Y(e,t){for(var i,n,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,r=i%256,a.push(r),a.push(n);return a}function $(e){return J.toByteArray(z(e))}function X(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!==e}var J=i("./node_modules/base64-js/index.js"),Z=i("./node_modules/ieee754/index.js");t.Buffer=r,t.83647;t.kMaxLength=ee,r.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);reototype,foo:functilocUnsafe=function(urn null!=e&&!0===e._isBuffer&ew TypeError('The "buf1h.min(i,n);a<o;++a)if(e":case"utf8":case"utf-ucs2":case"ucs-2":case"ut{if(!Array.isArray(e))thr.length)return r.alloc(0)h;++i){var o=e[i];if(Q(o,);o.copy(n,a),a+=o.lena multiple of 16-bits"le of 32-bits");for(var e=this.length;if(e%8!7),y(this,t+1,t+6),y(thie?"":0===arguments.lengtquals=function(e){if(!r.,r.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},r.prototype.compare=function(e,t,i,n,a){if(Q(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),!r.isBuffer(e))throw new TypeError('The "target" ===e?"undefined":(0,V.deangeError("out of range ce(n,a),c=e.slice(t,i),otype.includes=function(e,)},r.prototype.lastIndexOfutf8",i=this.length,t=0;el[, length]) is no longer s0&&(i<0||t<0)||t>this.lhis,e,t,i);case"latin1"LowerCase(),a=!0}},r.p)}};var te=4096;r.prototy?(t+=i)<0&&(t=0):t>i&&(t=tion(e,t,i){e>>>=0,t>>>=0i||B(e,t,this.length);forLE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return e>>>=0,<8|this[e+2]<<16)1]<<8;return 3276,r.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){U(this,e,t,i,Math.pow(2,8*i)-1,0)n F(this,e,t,!1,i)},r.prototype.writeDoubleLE=function(e,t,i){return q(this,e,t,!0,i)},r.prototype.writeDoubleBE=function(e,t,i){return q(this,e,t,!1,i)},r.prototype.copy=function(e,t,i,n){if(!r.isBuffer(e))throw new TypeError("argument should be a Buffere){e.exports=JSON.parse('{"name":"ts-ebml","version":"2.0.s":{"setup":"npm install -g http-server;","init":"npm run update; npm run mkdir; npm run build","update":"npm run reset; npm update","reset":"rm -rf node_modules","mkdir":"mkdir lib dist 2>/dev/null","clean":"rm -rf lib/* dist/* test/*.js; mkdir -p dist","build":"npm run clean   && tsc    -p .; npm run browserify","start":"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js","stop":"killall -- node */tsc -w -p","browserify":"browserify lib/index.js --standalone EBML -o dist/EBML.js","watchify":"watchify lib/index.js --standalone EBML -o dist/EBMl.js -v","test":"tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js","example":"tsc; browserify lib/example_seekable.js -o test/example_seekable.js","examples":"tsc; for file in `find lib -name \'example_*.js\' -type f -printf \'%f\\\\n\'`; do browserify lib/$file -o test/$file; done","examples_bsd":"tsc; for file in `find lib -name \'example_*.js\' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done","check":"tsc -w --noEmit -p ./","lint":"tslint -c ./tslint.json --project ./tsconfig.json --type-check","doc":"typedoc --mode modules --out doc --disableOutputCheck"},"repository":{"type":"git","url":"git+https://github.com/legokichi/ts-ebml.git"},"keywords":["ebml","webm","mkv","matrosika","webp"],"author":"legokichi duckscallion","license":"MIT","bugs":{"url":"https://github.com/legokichi/ts-ebml/issues"},"homepage":"https://github.com/legokichi/ts-ebml#readme","dependencies":{"buffer":"^5.0.7","commander":"^2.11.0","ebml":"^2.2.1","ebml-block":"^1.1.0","events":"^1.1.1","int64-buffer":"^0.1.9","matroska":"^2.2.3"},"devDependencies":{"@types/commander":"^2.9.1","@types/qunit":"^2.0.31","browserify":"^13.1.0","empower":"^1.2.3","espower-cli":"^1.1.0","power-assert":"^1.4.4","power-assert-formatter":"^1.4.1","qunit-tap":"^1.5.1","qunitjs":"^2.4.0","tslint":"^3.15.1","typedoc":"^0.5.3","typescript":"^2.4.2","watchify":"^3.7.0"},"bin":"./lib/cli.js","main":"./lib/index.js","typings":"./lib/index.d.ts"}')}},r={};return i("./src/js/plugins/ts-ebml-plugin.js")}()})}).call(t,i(319).Buffer,i(55)(e))},function(e,t,i){e.exports={default:i(628),__esModule:!0}},function(e,t,i){e.exports=i(244).f("species")},function(e,t,i){e.exports={default:i(630),__esModule:!0}},function(e,t,i){i(631),e.exports=i(223).Number.isInteger},function(e,t,i){var n=i(226);n(n.S,"Number",{isInteger:i(632)})},function(e,t,i){var n=i(224),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(245),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t,i){"use strict";t.__esModule=!0;var n=i(242),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(251),a=n(r),o=i(252),s=n(o),u=i(242),l=n(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,i){e.exports={default:i(638),__esModule:!0}},function(e,t,i){e.exports=i(244).f("toPrimitive")},function(e,t){e.exports='<legend>\n    <div class="QuestionText BorderColor">{{=Q.runtime.QuestionText}}</div>\n</legend>\n<div class="QuestionBody">\n    <div class="dropzone">\n        <div class="FileUploadName" data-runtime-text="runtime.FileName"></div>\n    </div>\n</div>'},function(e,t){e.exports='<label class="QuestionText BorderColor">{{=Q.runtime.QuestionText}}</label>\n<div class="QuestionBody">\n    <span id="{{=Q.runtime.ID}}-CaptureScreenButton" data-runtime-hide="runtime.FileID" class="CaptureScreenButton">\n        <span id="{{=Q.runtime.ID}}-CaptureScreenIcon" class="CaptureScreenIcon"></span>\n        <span id="{{=Q.runtime.ID}}-ScreenCaptureMessage">{{=Q.runtime.ScreenCaptureText}}</span>\n    </span>\n    <span id="{{=Q.runtime.ID}}-CaptureScreenPreviewButton" data-runtime-show="runtime.FileID" class="CaptureScreenButton">\n        <span id="{{=Q.runtime.ID}}-FilePreviewDiv" class="FilePreviewDiv">\n            <img id="{{=Q.runtime.ID}}-FilePreview" class="FilePreview" data-runtime-src="runtime.fileLocation">\n        </span>\n        <span class="CaptureScreenPreviewMessages">\n            <div class="ScreenCapturePreviewMessage">{{=Q.runtime.ScreenCapturePreviewMessage}}</div>\n            <div class="ScreenCapturePreviewEditMessage">{{=Q.runtime.ScreenCapturePreviewEditMessage}}</div>\n        </span>\n        <span id="{{=Q.runtime.ID}}-PreviewDelete" class="PreviewDelete">&times;</span>\n    </span>\n    <div class="ScreenCaptureWarning">\n        {{=Q.runtime.ScreenCaptureWarning1}}\n    </div>\n    <div class="ScreenCaptureWarning">\n        {{=Q.runtime.ScreenCaptureWarning2}}\n    </div>\n</div>'},function(e,t){e.exports='<legend>\n    <div class="QuestionText BorderColor">{{=Q.runtime.QuestionText}}</div>\n</legend>\n\n<div class="QuestionBody">\n    <div class="video-container no-device">\n        <div class="video-recorder-device-button-container">\n            <button id="video-recorder-device-{{=Q.runtime.ID}}" class="video-recorder-device-button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0 1.875C0 0.839466 0.839466 0 1.875 0H16.125C17.1605 0 18 0.839466 18 1.875V16.125C18 17.1605 17.1605 18 16.125 18H1.875C0.839466 18 0 17.1605 0 16.125V1.875ZM1.875 1.5C1.66789 1.5 1.5 1.66789 1.5 1.875V16.125C1.5 16.3321 1.66789 16.5 1.875 16.5H16.125C16.3321 16.5 16.5 16.3321 16.5 16.125V1.875C16.5 1.66789 16.3321 1.5 16.125 1.5H1.875Z"></path>\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.55 7.07563V10.9244L11.3981 9.00002L7.55 7.07563ZM6.70282 5.70618C7.10864 5.45508 7.6155 5.43188 8.04256 5.64484L8.04332 5.64522L12.2881 7.76797C12.7548 8.00114 13.0501 8.4783 13.0501 9.00002C13.0501 9.52191 12.7551 9.99896 12.2881 10.232L8.04256 12.3552C7.6155 12.5682 7.10864 12.545 6.70282 12.2939C6.297 12.0428 6.05002 11.5995 6.05 11.1223V6.87775C6.05002 6.40053 6.297 5.95728 6.70282 5.70618Z"></path>\n                </svg>\n                {{=Q.runtime.Messages.RecordVideo}}\n            </button>\n            {{? Q.runtime.UploadConfig.AudioOnly}}\n            <butt 9.10514C14.7227 8.86043 14.6502 8.39113 14.8949 8.05693ZM11.9195 9.52508C12.1818 9.2045 12.6543 9.15725 12.9749 9.41954C12.958 9.40565 13.3036 9.64295 13.6179 10.0656C13.9385 10.4967 14.25 11.1412 14.25 12C14.25 12.8594 13.9371 13.5049 13.6164 13.936C13.3004 14.3606 12.9592 14.5931 12.9685 14.5857C12.6451 14.8444 12.1731 14.792 11.9143 14.4685C11.6556 14.1451 11.708 13.6731 12.0315 13.4144C12.0349 13.4116 12.0403 13.4076 12.0475 13.4023C12.1648 13.3155 12.75 12.8822 12.75 12C12.75 11.1254 12.1806 10.6977 12.0467 10.5971C12.0372 10.5899 12.0298 10.5844 12.0251 10.5805C11.7045 10.3182 11.6572 9.84567 11.9195 9.52508Z">\n                    </path>\n                </svg>\n                {{=Q.runtime.Messages.RecordAudio}}\n            </button>\n            {{?}}\n        </div>\n        <video id="video-recorder-{{=Q.runtime.ID}}" playsinline class="video-recorder video-js vjs-default-skin"></video>\n        {{? Q.runtime.UploadConfig.AudioOnly}}\n        <audio id="audio-recorder-{{=Q.runtime.ID}}" class="audio-recorder video-js vjs-default-skin"></audio>\n        {{?}}\n    </div>\n    {{?Q.runtime.UploadConfig.VideoUpload}}\n    <div class="video-upload">\n        <div class="video-upload-container" aria-hidden="true">\n            <div class="dropzone">\n                <div class="FileUploadName" data-runtime-text="runtime.FileName"></div>\n            </div>\n        </div>\n        <a role="button" class="video-upload-button" tabindex="0">{{=Q.runtime.Messages.UploadVideoFile}}</a>\n        <div class="upload-text-container" aria-hidden="true">\n            <p class="select-information">{{=Q.runtime.Messages.SelectVideoFile}}</p>\n            <button class="cancel-upload-button">{{=Q.runtime.Messages.Cancel}}</button>\n        </div>\n    </div>\n    {{?}}\n    <div class="upload-progress-container">\n        <div class="upload-progress-outer">\n            <div class="upload-progress-bar" aria-label="{{=Q.runtime.Messages.VideoUploadBar}}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n        {{=Q.runtime.Messages.ProcessingVideo}}\n    </div>\n</div>'},function(e,t){e.exports='{{? !Q.runtime.AudioRecording }}\n<label class="QuestionText BorderColor">{{=Q.runtime.QuestionText}}</label>\n<div class="QuestionBody">\n    {{? Q.runtime.offlineFileUploadV2 === true }}\n    <div class="dropzone">\n        <div data-runtime-hide="runtime.OfflineFileID" class="dz-default dz-message" data-runtime-text="runtime.UploadConfig.DefaultMessage"><span></span></div>\n        <div data-runtime-show="runtime.OfflineFileID" class="dz-preview dz-file-preview">\n            <span data-runtime-show="runtime.FileThumbnail"><img class="FileUploadThumbnail" data-runtime-src="runtime.FileThumbnail"/></span>\n            <span data-runtime-hide="runtime.FileThumbnail">\n                <div class="FileUploadName" data-runtime-text="runtime.FileName"></div>\n                <div class="FileUploadSize" data-runtime-html="runtime.FileSizeWithUnits"></div>\n                <div class="FileUploadType" data-runtime-text="runtime.FileType"></div>\n            </span>\n        </div>\n    </div>\n    {{??}}\n    <form id="fileUploadForm" enctype="multipart/form-data" method="post" action="Ajax.php?action=uploadRFile" target="FileUploader">\n        <div class="inputContainer">\n            <div class="fileInputContainer" id="fileInputContainer"><input type="hidden" value="16777216" name="MAX_FILE_SIZE">\n                <input id="fileField" type="file" size="48" name="fileField" autocomplete="off" qid="{{= Q.runtime.ID }}" data-runtime-file="runtime.File" {{? Q.isDisabled()}}disabled="disabled"{{?}} onClick="typeof Android !== \'undefined\' && Android.pickFileForQuestion(\'{{= Q.runtime.ID }}\')">\n            </div>\n        </div>\n    </form>\n    <br />\n    <img src=\'\' class=\'FileUploadPreview\' data-runtime-src="runtime.FileData" style=\'max-height:100px; border:none;\' />\n    {{?}}\n</div>\n{{?}}\n'}]));