"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[7359],{48516:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(76955),n=a(62869),i=a.n(n),o=a(5154),c=a.n(o),s=a(51650),d=class l extends r.PureComponent{static get defaultProps(){return{children:null,className:"",targetUrl:void 0,onClick:c(),onMouseEnter:c()}}sSpaTargetLink(e){var{pathname:t,hostname:a}=e,r=a===new URL(window.process.env.HTTP_PATH_AMEBLO).hostname,n="/"===t,i="/accessibility"===t,[o,c]=t.split("/"),s=/_/.test(c);return r&&!(n||i||s)}handleClick(e){i()(this.props.onClick)&&this.props.onClick(e)}render(){var e,t=this.props,{children:a,className:n,targetUrl:i,onMouseEnter:o}=t,c=d(t,["children","className","targetUrl","onMouseEnter"]);if(void 0===i)return r.createElement("a",Object.assign({className:n},c),a);try{e=new URL(i)}catch(m){e=null}if(e&&this.isSpaTargetLink(e)){var l=e.pathname,h=e.search?"".concat(e.search):"",p=e.hash?"".concat(e.hash):"";return r.createElement(s.rU,Object.assign({className:n,to:"".concat(l).concat(h).concat(p),onClick:this.handleClick,onMouseEnter:o},c),a)}return r.createElement("a",Object.assign({className:n,href:i,onClick:this.handleClick,onMouseEnter:o},c),a)}}l.displayName="AnchorBlock"},10793:(e,t,a)=>{a.d(t,{f:()=>s});var r=a(76955),n=a(52377),i=a(5154),o=a.n(i),c=a(54285);class s extends r.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:o(),viewLogger:o()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:a,subCategoryId:r,contentId:n,displayPosition:i,pageId:o,entryId:c,orderId:s,sectionId:d,serviceId:l,tagName:h}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:a,subCategoryId:r,contentId:n,displayPosition:i,pageId:o,entryId:c,orderId:s,sectionId:d,serviceId:l,tagName:h}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(s.intersectionListener||(s.intersectionListener=(0,c.T)({})),this.stopListen(),this.trigger=n.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=s.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=r.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=r.cloneElement(e,{onClick:this.handleClick})),e}}s.displayName="Tracker"},21281:(e,t,a)=>{a.d(t,{fu:()=>s});var r=a(66062),n=a(55752),i=a.n(n),o=a(18274),c=a(79235),s=(0,o.H)({ttl:500},((e,t)=>function(){var a=(0,r.Z)((function*(a,r,n){var{fetchr:o}=n,s=r();if((!t||i()(s,["archiveState","archiveMetaMap",e,"currentYear"],"")===t)&&r().archiveState.archiveMap[e])return null;try{var d=i()(s,["bloggerState","blogMap",e,"blog_name"],"");return a((yield o.read("blogArchives").params({amebaId:d,blogId:e,year:t}).end()).data))}catch(l){return a(((e,t)=>({type:c.l,payload:{blogId:e,error:t},error:!0}))(e,l))}}));return function(e,t,r){return a.apply(this,arguments)}}()))},63455:(e,t,a)=>{a.d(t,{IM:()=>l,kt:()=>h});var r=a(66062),n=a(18274),i=a(55752),o=a.n(i),c=a(5663),s=a.n(c),d=a(61863),l=(0,n.H)((e=>function(){var t=(0,r.Z)((function*(t,a,r){var{fetchr:n}=r;if(!e)return null;var i=a();if(!s()(o()(i,["themesState","bloggerThemeIdsMap",e])))return null;try{var c=o()(i,["bloggerState","blogMap",e,"blog_name"],""),l=yield n.read("themes").params({amebaId:c,blogId:e}).end(),{themeIds:h,themeMap:p}=l.data;return t(((e,t,a)=>({type:d.vR,payload:{blogId:e,themeIds:t,themeMap:a}}))(e,h,p))}catch(m){return t((e=>({type:d.fl,payload:{error:e},error:!0}))(m))}}));return function(e,a,r){return t.apply(this,arguments)}}())),h=(0,n.H)(((e,t)=>function(){var a=(0,r.Z)((function*(a,r,n){var{fetchr:i}=n,c=r();if(-1!==o()(c,["themesState","bloggerThemeIdsMap",e],[]).indexOf(t))return null;try{var s=o()(c,["bloggerState","blogMap",e,"blog_name"],""),l=yield i.read("themeInfo").params({amebaId:s,blogId:e,themeId:t}).end(),{themeMap:h}=l.data;return a(((e,t,h))}catch(p){return a((e=>({type:d.tf,payload:{error:e},error:!0}))(p))}}));return ()))},87359:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var r,n,i,o,c,s,d,l=a(3e4),h=a(66062),p=(a(91938),a(76955)),m=a(55752),g=a.n(m),u=a(55382),b=a.n(u),v=a(43177),y=a.n(v),I=a(97175),f=a(66948),Z=a(73614),T=a(63455),k=a(21281),L=a(5563),M=a(16884),E=a(48516),P=a(10793),A=a(77948),w=a(75457);function N(){return(N=(0,h.Z)((function*(e){var{dispatch:t,getState:a,match:r}=e,{params:n}=r,i=n.amebaId,o=yield t((0,Z.Rs)(i));if(!o||!o.error){var c=a().bloggerState,s=c.bloggerMap,d=c.blogMap[(s[i]||{}).blog]||{};if(d&&d.blog_id){var l=[];n.yearMonth||l.push(t((0,k.fu)(d.blog_id))),n.themeId||l.push(t((0,T.IM)(d.blog_id))),l&&(yield Promise.all(l))}}}))).apply(this,arguments)}var C=(0,f.$j)((function(e,t){var{match:a}=t,{params:r,route:n}=a,i=r.amebaId,o=e.bloggerState,c=e.themesState,s=o.bloggerMap,d=o.blogMap,l=s[i]||{},h=d[l.blog]||{},p=(l.attribute||{}).isOfficial,m=n.pageType,u=r.yearMonth||y()(new Date,A.Z.YEAR_MONTH),b=g()(c,["bloggerThemeIdsMap",h.blog_id],[]);return{amebaId:i,isOfficial:p,pageType:m,themeId:r.themeId||b[0]||"",yearMonth:u}}),{trackTapLog:L.XI})(r=(0,I.provideHooks)({defer:)((i=n=class extends p.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.themeId!==e.themeId||this.props.yearMonth!==e.yearMonth||this.props.trackTapLog!==e.trackTapLog}render(){var{amebaId:e,isOfficial:t,pageType:a,themeId:r,yearMonth:n}=this.props,i=t?"official":"general";return(0,l.Z)("div",{className:"skin-archiveNav skin-borderLoud","data-uranus-component":"archiveNav"},void 0,(0,l.Z)("ul",{className:"skin-archiveNavTabs","data-uranus-component":"archiveNavTabs"},void 0,(0,l.Z)("li",{},void 0,(0,l.Z)(P.f,{bloggerAmebaId:e,pageId:a,sectionId:"tab-entry-list_new",serviceId:i,tapLogger:this.props.trackTapLog},void 0,(0,l.Z)(E.Z,{className:b()("skin-borderLoud",{"skin-bgMain":a===w.Z.EntryList,"is-active":a===w.Z.EntryList,"is-inactive":a!==w.Z.EntryList}),"data-uranus-component":"archiveNavTab",targetUrl:(0,M.Z)(w.Z.EntryList,{amebaId:e})},void 0,o||(o=(0,l.Z)("span",{},void 0,"\u65b0\u7740"))))),(0,l.Z)("li",{},void 0,(0,l.Z)(P.f,{bloggerAmebaId:e,pageId:a,sectionId:"tab-entry-list_monthly",serviceId:i,tapLogger:this.props.trackTapLog},void 0,(0,l.Z)(E.Z,{className:b()("skin-borderLoud",{"skin-bgMain":a===w.Z.Archive,"is-active":a===w.Z.Archive,"is-inactive":a!==w.Z.Archive}),"data-uranus-component":"archiveNavTab",targetUrl:(0,M.Z)(w.Z.Archive,{amebaId:e,entryYm:n})},void 0,c||(c=(0,l.Z)("span",{},void 0,"\u6708\u5225"))))),(0,l.Z)("li",{},void 0,(0,l.Z)(P.f,{bloggerAmebaId:e,pageId:a,sectionId:"tab-entry-list_theme",serviceId:i,tapLogger:this.props.trackTapLog},void 0,(0,l.Z)(E.Z,{className:b()("skin-borderLoud",{"skin-bgMain":a===w.Z.Theme,"is-active":a===w.Z.Theme,"is-inactive":a!==w.Z.Theme}),"data-uranus-component":"archiveNavTab",targetUrl:(0,M.Z)(w.Z.Theme,{amebaId:e,themeId:r})},void 0,s||(s=(0,l.Z)("span",{},void 0,"\u30c6\u30fc\u30de\u5225"))))),(0,l.Z)("li",{"data-uranus-component":"archiveNavTabAmember"},void 0,(0,l.Z)(P.f,{bloggerAmebaId:e,pageId:a,sectionId:"tab-entry-list_amember",serviceId:i,tapLogger:this.props.trackTapLog},void 0,(0,l.Z)(E.Z,{className:b()("skin-borderLoud",{"skin-bgMain":a===w.Z.AmemberEntryList,"is-active":a===w.Z.AmemberEntryList,"is-inactive":a!==w.Z.AmemberEntryList}),"data-uranus-component":"archiveNavTab",targetUrl:(0,M.Z)(w.Z.AmemberEntryList,{amebaId:e})},void 0,d||(d=(0,l.Z)("span",{},void 0,"\u30a2\u30e1\u30f3\u30d0\u30fc\u9650\u5b9a")))))))}},n.displayName="PcEntryListGlobalTabUranus",r=i))||r)||r},16884:(e,t,a)=>{a.d(t,{Z:);var r=a(75457),n=e=>{var{amebaId:t,entryId:a,vnm:r}=e;return t&&a?"/".concat(t,"/video-").concat(a,".html").concat(r?"?vnm=".concat(r):""):""};function i(e,t){var{amebaId:a,entryId:i,themeId:o,entryYm:c,imageId:s,vnm:d,day:l,page:h=1}=t,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!a||!e)return"";var m="".concat(p,"/").concat(a),g="";switch(e){case r.Z.BlogTop:return g=h>1?"page-".concat(h,".html"):"","".concat(m,"/").concat(g);case r.Z.EntryList:return g=h>1?"-".concat(h):"","".concat(m,"/entrylist").concat(g,".html");case r.Z.AmemberEntryList:return g=h>1?"-".concat(h):"","".concat(m,"/amemberentrylist").concat(g,".html");case r.Z.ArchiveTop:return"".concat(m,"/archivetop.html");case r.Z.Archive:if(c)return g=h>1?"".concat(h):"","".concat(m,"/archive").concat(g,"-").concat(c,".html");console.error("PageType.Archive: entryYm is undefined.");break;case r.Z.Day:if(l)return g=h>1?"".concat(h):"","".concat(m,"/day").concat(g,"-").concat(l,".html");console.error("PageType.Day: day is undefined.");break;case r.Z.ThemeTop:return"".concat(m,"/themetop.html");case r.Z.Theme:if(o)return g=h>1?"".concat(h):"","".concat(m,"/theme").concat(g,"-").concat(o,".html");console.error("PageType.Theme: themeId is undefined.");break;case r.Z.PopularRecentList:return g=h>1?"-".concat(h):"","".concat(m,"/popularrecentlist").concat(g,".html");case r.Z.Entry:if(i)return g=h>1?"".concat(h):"","".concat(m,"/entry").concat(g,"-").concat(i,".html");console.error("PageType.Entry: entryId is undefined.");break;case r.Z.ImageList:return g=h>1?"-".concat(h):"",c?"".concat(m,"/imagelist-").concat(c).concat(g,".html"):"".concat(m,"/imagelist.html");case r.Z.Image:if(i&&s)return"".concat(m,"/image-").concat(i,"-").concat(s,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case r.Z.VideoList:return g=h>1?"-".concat(h):"","".concat(m,"/videolist").concat(g,".html");case r.Z.Video:if(i)return"".concat(p).concat(n({amebaId:a,entryId:i,vnm:d}));console.error("PageType.Video: entryId is undefined.");break;case r.Z.IineEntry:if(i)return"".concat(m,"/iine_entry-").concat(i,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case r.Z.Comment:if(g=h>1?"page-".concat(h,".html"):"",i)return"".concat(m,"/comment-").concat(i,"/").concat(g);console.error("PageType.Comment: entryId is undefined.");break;case r.Z.Reblog:if(g=h>1?"page-".concat(h,".html"):"",i)return"".concat(m,"/reblog-").concat(i,"/").concat(g);console.error("PageType.Reblog: entryId is undefined.");break;case r.Z.MessageBoard:return"".concat(m,"/message-board.html");case r.Z.Reader:return g=h>1?"-".concat(h):"","".concat(m,"/reader").concat(g,".html");case r.Z.Favorite:return g=h>1?"-".concat(h):"","".concat(m,"/favorite").concat(g,".html");case r.Z.Bookmark:return g=h>1?"-".concat(h):"","".concat(m,"/bookmark").concat(g,".html");case r.Z.AmemberEntry:if(i)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(a,"/amemberentry-").concat(i,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case r.Z.ImageEmbed:if(i&&s)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(a,"/image-").concat(i,"-").concat(s,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case r.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}}}]);