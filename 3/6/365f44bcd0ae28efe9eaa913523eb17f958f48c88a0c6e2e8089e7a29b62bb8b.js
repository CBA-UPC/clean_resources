"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[2819],{82819:(e,t,i)=>{i.d(t,{BF:()=>T});var a=i(5663),n=i.n(a),r=i(15972),o=['img[src*="stat.ameba.jp/user_images/"]','img[src*="stat001.ameba.jp/user_images/"]'],d=i(46656),l=e=>{var{pickLayoutType:t,adWidth:i,adHeight:a,injectionType:n,displayPosition:o,horizontalPosition:d}=e,l=document.createElement("div");return l.setAttribute(r.Sh,r.cb),l.setAttribute(r.CG,"true"),l.setAttribute(r.vt,n),l.setAttribute(r.J8,o),l.setAttribute(r.CO,"".concat(t)),l.setAttribute("style","min-height: ".concat(a,"px;\n     max-height: ").concat(a,"px;\n     height: ").concat(a,"px;\n     width: ").concat(i,"px;\n     display:inline-block;\n     max-width: 100%;\n     ")),d&&l.setAttribute(r.ng,d),l},s=(e,t)=>{var{orderId:i}=t;return Array.from(e.querySelectorAll("[".concat(r.Sh,"]"))).forEach((e=>{null==e||e.classList.add("in-article-injected-ad-".concat(i)),e.setAttribute(r.IE,"".concat(i))})),e},c=e=>{var t=l(e),i=document.createElement("div"),{adHeight:a,adVerticalMargin:n,align:r}=e;return i.setAttribute("style","text-align: ".concat(r,";\n     max-height: ").concat(a,"px;\n     margin: ").concat(n,"px 0;\n    ")),i.appendChild(t),i},p=e=>{var{adHeight:t,adVerticalMargin:i,spaceBetweenAds:a}=e,n=l(Object.assign(Object.assign({},e),{horizontalPosition:"left"})),r=l(Object.assign(Object.assign({},e),{horizontalPosition:"right"})),o=document.createElement("div");o.setAttribute("style","max-height: ".concat(t,"px;\n     margin: ").concat(i,"px 0;\n     display: flex;\n     flex-direction: row;\n     justify-content: center;\n    "));var d=document.createElement("div");return d.setAttribute("style","width: ".concat(a,"px")),o.appendChild(n),o.appendChild(d),o.appendChild(r),o},h=e=>e instanceof HTMLElement&&("DIV"===e.nodeName&&e.children.length>=1&&(!e.hasAttributes()||1===e.attributes.length&&1===e.style.length&&!!e.style.textAlign)),u=(e,t)=>{if(!t||n()(t))return[];var{selectors:i,top:a,bottom:r}=t,o=e.offsetTop;return(e=>e.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0])).reduce(((e,t)=>{var i=e.length>=1?e[e.length-1]:void 0;return i&&i[1]>=t[0]?(e.pop(),e.push([i[0],Math.max(i[1],t[1])]),e):(e.push(t),e)}),[]))(Array.from(e.querySelectorAll(i.join(","))).map((e=>{var t=e.offsetTop-o,i=t+e.getBoundingClientRect().height;return[t-a,i+r]})))},g=(e,t)=>{if(t.length<=0)return!0;var i=t[0][0],a=t[t.length-1][1];if(e<i||e>a)return!0;var n=t.find(();return!n||n[0]>e},m=e=>e instanceof HTMLElement&&""===e.innerText.trim(),y=(e,t)=>{var{contextSeparatorSelectors:i,firstAdPosition:a,shortestDistanceToBottom:n,injectionType:o,repeatUpperLimit:l=4,repeatHeight:u=1e3,pickLayoutType:m=r.iw.medium,adWidth:y=336,adHeight:f=316,adVerticalMargin:T=24,align:A="center",showDoubleColumn:b=!1,doubleColumnAdConfig:v={pickLayoutType:r.iw.medium,adHeight:250,adWidth:300,adVerticalMargin:24,minimumParentWidth:605,spaceBetweenAds:200},displayPosition:H,unsafeRanges:w}=t;if(!!e.querySelector(r.w6))return 0;var C=Array.from(e.querySelectorAll(i.join(",")));if(C.length<=0)return 0;var x=a+n;if(e.clientHeight<x)return 0;var L=c({pickLayoutType:m,adWidth:y,adHeight:f,adVerticalMargin:T,injectionType:o,align:A,displayPosition:H}),P=b&&v?p({pickLayoutType:v.pickLayoutType,adWidth:v.adWidth,adHeight:v.adHeight,adVerticalMargin:v.adVerticalMargin,spaceBetweenAds:v.spaceBetweenAds,injectionType:o,displayPosition:H}):void 0,k=e.offsetTop,M=k+e.offsetHeight-n,W=C.map((e=>{if(!(e instanceof HTMLElement))return null;var t=e.offsetTop-k;return t<a||t>M||!g(t,w)?null:{element:e,elementTop:t}})).filter(d.C);if(W.length<=0)return 0;var j=0,S=0;return W.forEach((t=>{var{element:i,elementTop:a}=t;if(!(S>=l)&&(!(S>0&&a-j<u)&&i.parentElement&&((e,t)=>{if(!(t instanceof HTMLElement))return!1;var i=t=>{if(!t)return!1;var a=t.parentElement;return!!a&&(a===e||!!h(a)&&i(a))};return i(t)})(e,i))){S+=1,j=a;var n=P&&e.clientWidth>=v.minimumParentWidth?P:L;i.parentElement.insertBefore(s(n.cloneNode(!0),{orderId:S}),i)}})),S},f=(e,t)=>{var{firstAdPosition:i,shortestDistanceToBottom:a,injectionType:n,repeatHeight:o,repeatUpperLimit:d=4,maxDepth:l=2,pickLayoutType:u=r.iw.medium,adWidth:y=336,adHeight:f=316,adVerticalMargin:T=24,align:A="center",showDoubleColumn:b=!1,doubleColumnAdConfig:v={pickLayoutType:r.iw.medium,adHeight:250,adWidth:300,adVerticalMargin:24,minimumParentWidth:605,spaceBetweenAds:200},displayPosition:H,unsafeRanges:w}=t;if(0===d)return 0;if(!!e.querySelector(r.w6))return 0;var C=i+a,x=e.clientHeight;if(x<C)return 0;var L=c({pickLayoutType:u,adWidth:y,adHeight:f,adVerticalMargin:T,injectionType:n,align:A,displayPosition:H}),P=b&&v?p({pickLayoutType:v.pickLayoutType,adWidth:v.adWidth,adHeight:v.adHeight,adVerticalMargin:v.adVerticalMargin,spaceBetweenAds:v.spaceBetweenAds,injectionType:n,displayPosition:H}):void 0,k=o?Math.floor((x-i-a)/o):0,M=d-1,W=o?[...new Array(k>M?M:k)].map(():[],j=[i].concat(W),S=j.length,V=0,B=0,D=0,E=!1,q=j[0],R=e=>{Array.from(e.children).forEach((t=>{if(!E&&0!==j.length){var i=t.getBoundingClientRect().height,n=V+i;if(D<l&&q<=V+i-B&&h(t)?(D+=1,R(t),D-=1,V=n):V+=i,x-V<a)E=!0;else if(q<=V-B&&(e=>!!e&&[m(e),m(e.nextElementSibling)].includes(!0))(t)&&g(V,w)){j.shift();var r=P&&e.clientWidth>=v.minimumParentWidth?P:L;e.insertBefore(s(r.cloneNode(!0),{orderId:S-j.length}),t.nextSibling),B=V,q=j[0]}}}))};return R(e),S-j.length},T=(e,t)=>{var{firstAdPosition:i,shortestDistanceToBottom:a,repeatHeight:l,repeatUpperLimit:p,maxDepth:h,fallbackShortestDistanceToBottom:g,fallbackShortestDistanceToTop:m,pickLayoutType:T=r.iw.short,adHeight:A,adWidth:b,adVerticalMargin:v,unsafeRangeConfig:H,showDoubleColumn:w,doubleColumnAdConfig:C,outsideAdConfig:x,contextSeparatorConfig:L,align:P="center"}=t;if(!!!e.querySelector(r.w6)){var k="same-as-user-image"===P?((e,t)=>{var i=e.querySelectorAll(t);if(i.length<=0)return"center";var a=Array.from(i).map(().reduce(((e,t)=>{var i=e[t]||0;return e[t]=i+1,e}),{}),n=Object.entries(a).sort(();if(n.length<=1)return n[0][0];var r=n[0],o=n[1];return r[1]>o[1]?r[0]:"center"})(e,o.join(",")):void 0,M=u(e,H);if(0===(!L||n()(L)?0:y(e,{firstAdPosition:L.firstAdPosition,shortestDistanceToBottom:L.shortestDistanceToBottom,contextSeparatorSelectors:L.selectors,repeatHeight:L.repeatHeight,repeatUpperLimit:L.repeatLimit,pickLayoutType:T,adHeight:A,adWidth:b,adVerticalMargin:v,injectionType:"withContextSeparator",showDoubleColumn:w,doubleColumnAdConfig:C,align:k,displayPosition:"middle",unsafeRanges:M})))if(0===f(e,{firstAdPosition:i,shortestDistanceToBottom:a,repeatHeight:l,repeatUpperLimit:p,maxDepth:h,pickLayoutType:T,adHeight:A,adWidth:b,adVerticalMargin:v,injectionType:"withHeight",showDoubleColumn:w,doubleColumnAdConfig:C,align:k,displayPosition:"middle",unsafeRanges:M})){if((0,d.C)(m)&&(0,d.C)(g))if(0!==f(e,{firstAdPosition:m,shortestDistanceToBottom:g,maxDepth:h,pickLayoutType:T,adHeight:A,adWidth:b,adVerticalMargin:v,injectionType:"withHeightFallback",showDoubleColumn:w,doubleColumnAdConfig:C,align:k,displayPosition:"middle",unsafeRanges:M}))return;var{adPosition:W="none"}=x||{};!x||n()(x)||"top"!==W&&"bottom"!==W||((e,t)=>{var{adPosition:i,pickLayoutType:a,adWidth:n,adHeight:o,adVerticalMargin:d,align:l="center",minimumArticleHeight:p}=t;if(!(e.querySelector(r.w6)||e.clientHeight<p)){var h=c({pickLayoutType:a,adWidth:n,adHeight:o,adVerticalMargin:d,injectionType:"withPosition",displayPosition:i,align:l});"top"!==i?"bottom"===i&&e.append(s(h.cloneNode(!0),{orderId:1})):e.prepend(s(h.cloneNode(!0),{orderId:1}))}})(e,{adPosition:W,pickLayoutType:x.pickLayoutType,adHeight:x.adHeight,adWidth:x.adWidth,adVerticalMargin:x.adVerticalMargin,align:k,minimumArticleHeight:x.minimumArticleHeight})}}}}}]);