/* bump_cloud_build:smp-external-feedback@bbc.co.uk */
define("mp/modules/policies",[],function(){var e={iplayer:{guidanceCleared:!1,siteID:"iPlayer",defaultUiClass:"iplayer",ui:{guidance:{displayContinuousGuidanceInQueuePlaylist:!1}}},news:{ui:{colour:"#bb1919",alternateColour:"#bb1919",cta:{mode:"default"}},preferPlainOverDash:!0,guidanceCleared:!0,siteID:"News",defaultUiClass:"news",preferHtmlOnMobile:!0},sport:{ui:{colour:"#eed71c",foreColour:"#000000",alternateColour:"#0087ff",alternateForeColour:"#ffffff",accessibility:{enhanceBrightColoursContrast:!0}},siteID:"Sport",defaultUiClass:"sport",guidanceCleared:!0},generic:{ui:{colour:"#ebebeb",foreColour:"#101010"},guidanceCleared:!0},background:{noTracking:!0,backgroundPlayer:!0,responsive:!0,loop:!0,muted:!0,autoplay:!0,includeAppClickHandler:!1,ui:{controls:{enabled:!1},errorDialog:{enabled:!1},buffer:{enabled:!1},cta:{enabled:!1},fullscreen:{enabled:!1,dblclick:!1},poster:{availableWhenPaused:!0,availableWhenSettingUp:!0},displayCover:!0,hideDefaultErrors:!0}}};return e});define("mp/modules/device",[],function(){function e(e,t){var i=e.exec(t);if(i){i.shift();return+i[0]}}function t(){var t=window.embeddedMedia.demi,r=t.ua,o=/ edge\//.test(r),s=/chrome/.test(r)&&!o,l=0,d=/trident/.test(r),c=0,u=/firefox/.test(r),p=0,m=/windows phone/.test(r),f="PlayStation 4"==navigator.platform;s&&(l=e(/chrome\/(\d+)(?:\.(\d*))?(?:\.(\d*))?(?:\.(\d*))?/,r));u&&(p=e(/firefox\/(\d+)(?:\.(\d*))?/,r));o&&(c=e(/edge\/(\d+)(?:\.(\d*))?/,r));var g=function(){var e=/mac/.test(r)&&!/like mac os x/.test(r),t={win:/windows/.test(r)&&!m,mac:e,macsafari:/safari/.test(r)&&e&&!s&&!o&&!m,ios:/like mac os x/.test(r),android:/android/.test(r)&&!o,playbook:/playbook/.test(r),blackberry:/blackberry/.test(r)||/bb10/.test(r),winphone:m,kindleSilk:/silk/.test(r),winwebview:/windows nt 10/.test(r)&&/webview/.test(r),win10arm:/windows nt 10\.[0-9]; arm/.test(r),kaios:/kaios/.test(r),phantomjs:/phantomjs/.test(r)};for(var i in t)t[i]&&(t.name=i);r.match(/webkit\/(\d*)/)&&(t.webkitVersion=parseFloat(RegExp.$1));if(t.macsafari){r.match(/version\/[^\d]*([\d|\.]+\d)/);t.safariVersion=parseFloat(RegExp.$1);r.match(/mac os x 10_([\[0-9)][\[0-9)])/);t.macosVersion=parseInt(RegExp.$1,10)}if(t.ios&&r.match(/os (\d+)/g)){t.ios=parseInt(RegExp.$1,10);r.match(/version\/[^\d]*([\d|\.]+\d)/);t.iosSafariVersion=parseFloat(RegExp.$1)}if(t.android){var n=r.match(/android (\d+(?:[\.\d]*)+)/i);t.androidVersion=n?parseFloat(n[1]):99}return t}(),h={connection:{mobile:t.isMobileNetwork},os:g,hasHlsVodSupport:g.ios||g.macsafari||g.winwebview||g.win10arm||f,hasMseSupport:!!window.MediaSource};h.isMobileDevice=g.ios||g.android||g.blackberry||g.playbook||g.winphone||g.kaios;h.isTabletDevice=g.kindleSilk||g.winwebview||g.win10arm||r.match(/ipad/)||r.match(/sm-t/)||r.match(/tablet/);if(h.os.webkitVersion>600&&navigator.maxTouchPoints>0){h.isTabletDevice=!0;h.hasHlsVodSupport=!0}!h.hasMseSupport&&(h.os.macsafari&&h.os.safariVersion>=1||h.os.webkitVersion>600)&&(h.isMobileDevice=!0);if(d&&!g.winphone){h.isMobileDevice=!1;h.isTabletDevice=!1}h.isMobileOrTablet=h.isMobileDevice||h.isTabletDevice;if(h.os.blackberry&&!n){n=!0;r.match(/version\/\d+.(\d+.\d+)/);var y=parseFloat(RegExp.$1);y>3&&i.push("blackberry")}if(h.os.winphone&&0===a){r.match(/windows phone (\d+.\d+)/);a=parseFloat(RegExp.$1);a>=10&&i.push("winphone")}for(var v=0;i.length>v;v++)h.os[i[v]]&&(h.hasHlsVodSupport=!0);h.htmlAudio=h.os.androidVersion>=4.1||h.os.kindleSilk;h.preferHtmlAudio=t.isUK===!1&&h.os.androidVersion>=5;var b=/smart.+tv/.test(r)||/linux; netcast/.test(r);h.supportedFlash=!h.isMobileOrTablet&&!f&&!b;h.IE11=r.indexOf("trident/7.0")>0;h.supportsSvg=h.hasMseSupport&&!h.os.playbook||h.os.ios>=8||h.os.androidVersion>=4.4&&s||h.IE11;h.supportChromecast=s&&window.chrome;h.requiresWindowOpenSMPAirLaunch=/fb_iab/.test(r)||/twitterandroid/.test(r)||/bbc_app/.test(r);h.hybrid=h.hasMseSupport||h.IE11&&(!document.documentMode||document.documentMode>=11);h.winXP=r.indexOf("nt 5")>0;h.webgl=function(){try{var e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in window}catch(i){return!1}}();h.support360=!(!h.webgl||g.ios&&11>g.ios||/(trident\/)|(MSIE\s)/i.test(r)&&!o||g.macsafari&&12>g.macosVersion);h.mediasetDesktop=!h.isMobileOrTablet&&(d||/windows nt/.test(r)||/x11/.test(r)||h.os.mac);return h}var i=[],n=!1,a=0;return{get:t}});define("mp/modules/demi",[],function(){return function(e){var t=window.embeddedMedia,i="unknown",n=window.navigator.connection;if(n){var a=n.effectiveType;i=a?"4g"!=a?"cellular":"":n.type;e&&e.saveData!==!1&&(e.saveData=n.saveData?!0:!1)}t.demi.isMobileNetwork="cellular"===i}});define("mp/classes/language",["jquery-1.9"],function(e){function t(e){if(r[e])for(;r[e].length>0;)r[e].pop()()}function i(e){if(2>d.length)return!0;for(var t=0;d.length>t;t++)if(d[t]==e)return!0;return!1}function n(e){if(!e||!/^[\-a-zA-Z]{1,20}$/.test(e))return"en";e=e.toLowerCase();var t={"en-gb":"en","cy-gb":"cy","gd-gb":"gd","ga-gb":"ga","ru-uk":"ru","uz-latn":"uz","uz-cyrl":"uz",zh:"zh-hans",sr:"sr-latn","pt-br":"pt"};return t[e]||e}var a={en:{pgHeader:"Parental Guidance Lock",pgAgeConfirmation:"I am aged 16 or over",pgClose:"Close pop up",pgContinue:"Continue",pgPasswordValidationError:"Please confirm your age before continuing",pgAriaAgeConfirmCheckBox:"Age confirmation check box. Checked.",pgAriaAgeConfirmCheckBoxUnchecked:"Age confirmation check box. Check to confirm you are sixteen or over.",pgTurnOnParentalGuidance:"Turn on the Parental Guidance Lock?",pgInfoPlusDownload:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose ‘Turn On’. To continue without Parental Guidance choose ‘Download’.</p>",pgInfoPlusPlay:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose ‘Turn On’. To continue without Parental Guidance choose ‘Play’.</p>",pgInfo:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.",pgTurnOn:"Turn On",toolTipPlay:"Play",pgEnterPIN:"Please enter a four-digit PIN",pgActivateInfo:"You will need your PIN to play Guidance-labelled content",pgPINValidationError:"Your PIN must be four digits",pgAriaPINEntryDescription:"PIN entry text field",pgAriaPINPrompt:"Please enter a valid four-digit PIN",pgEnterPINPrompt:"Please enter your four-digit PIN to continue",pgManageYourPIN:"Manage your PIN",pgUnlock:"Unlock",pgIncorrectPIN:"Incorrect PIN. Please try again",newPgTurnOnParentalGuidance:"Turn on Parental Guidance Lock?",newPgTurnOnParentalGuidancePINsection:"Turn on Parental Guidance Lock",newPgTurnOnParentalGuidanceInsertPIN:"Parental Guidance Lock",newPgTurnOn:"Turn on PG Lock",newToolTipPlay:"Play without PG Lock",findOutMore:"Find out more",notSuitableForChildMessage:"This programme may not be suitable for children. Turn on PG Lock and we'll ask you to set up a PIN to control who can watch BBC content with a Guidance label on this browser.",newPgAgeConfirmationUnder16:"I've got permission.",newUnder16WithPermission:"You're signed in as someone who’s under 16. So you need permission from a parent or guardian to play this.",newPgPlay:"Play",newPgEnterPIN:"Please choose a four-digit PIN.",newPgPINvalidationError:"Your PIN must be four digits long.",newPgIncorrectPIN:"Wrong PIN. Please try again.",newPgManageYourPIN:"Manage your lock",newPgEnterPINprompt:"Please enter your four-digit PIN.",newPgActivateInfo:"You'll need this to play any content with a Guidance label.",newPgEnterPINinfo:"This programme has a Guidance label.",newAgeConfirmationTitle:"Guidance",pgUnder16PermissionValidationError:"Please confirm you have permission before continuing",pgDownload:"Download",pgActivate:"Activate",unableToEmbed:"Unable to embed player",errorUnsupported:"Your device is not currently supported",initialiseFailed:"Player failed to initialise",contentNotAvailableOnDevice:"This content is not currently available on this device.",defaultErrorMessage:"This content doesn't seem to be working.",flashNotAvailable:"This player no longer works properly on your device. You'll need to update your browser or device to continue.",deprecationMessageLongLink:"Find out how to keep watching and listening",embedTitle:"Embed This Media",embedDescription:"Copy the code below to share this content on your own site. Press escape to close",embedTerms:"Terms and conditions",embedClose:"Close",aaampPlay:"click to play",screenreaderDefaultIframeTitle:"Media Player"}},r={},o={},s={},l=5e3,d="cy,gd,ga,fr,ar,az,ha,hi,id,ky,es,so,sw,tr,ur,fa,ru,uk,vi,si,rw,ps,ne,my,zh-hans,zh-hant,uz,tg,pt,ta,bn,ja,pi,am,gu,ko,mr,om,pa,pcm,te,th,ti,yo,ig,sr-cyrl,sr-latn".split(","),c={getCode:n,add:function(e,i){clearTimeout(s[e]);a[e]=i;t(e)},load:function(e,d){e=n(e);if(!a[e]&&i(e)){if(d){r[e]||(r[e]=[]);r[e].push(d)}if(!o[e]){o[e]=!0;var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.async=!0;c.src="https://emp.bbci.co.uk/emp/translations/1.0.44/language."+e+".js";document.getElementsByTagName("head")[0].appendChild(c);clearTimeout(s[e]);s[e]=setTimeout(function(){t(e)},l)}}else d&&d()},t:function(e,t){t=n(t);return a[t]&&a[t][e]?a[t][e]:a.n(e){return a[e]},screenreaderAlert:function(t){var i=e("<div role='alert' style='width: 1px; position: absolute; left: -2500px; overflow: hidden;'><p>"+t+"</p></div>").appendTo(e("body"));i.hide();i.show();setTimeout(function(){i.remove()},2500)}};return c});define("mp/modules/helpers",["mp/modules/demi","mp/classes/languageturn!1;return!0}return{isObjectEmpty:i,addEmbeddedMedia:function(){if(window.embeddedMedia){window.embeddedMedia.playerInstances||(window.embeddedMedia.playerInstances={});window.embeddedMedia.players||(window.embeddedMedia.players=[]);isNaN(window.embeddedMedia.playerInits)&&(window.embeddedMedia.playerInits=0)}else window.embeddedMedia={players:[],playerInstances:{},playerInits:0};var e=window.embeddedMedia;if(!e.openCallbacks){e.openCallbacks=[];e.closedCallbacks=[];e.opened=function(t){for(var i=0;e.openCallbacks.length>i;i++)e.openCallbacks[i](t)};e.closed=function(t){for(var i=0;e.closedCallbacks.length>i;i++)e.closedCallbacks[i](t)}}e.addPla.players.push(i)});e.distributeConfigToPlayers||(e.distributeConfigToPlayers=function(t,i,n){var a=e.api.players();for(var r in a)r!=n&&a.hasOwnProperty(r)&&a[r].distributedConfig(t,i)});e.processConfigFromPlayer||(e.processConfigFromPlayer=function(t,i,n){var a=e.api.players()[n];a._settings.set("ui"==i?{ui:t}:t);e.distributeConfigToPlayers(t,i,n)});e.language||(e.language=t);e.demiHelper||(e.demiHelper={determineConnectionType:function(){}});if(!e.demi){e.demi={callbacks:[],ua:window.navigator.userAgent.toLowerCase()};if(window.orb&&window.orb.fig){var i=window.orb.fig,n=i.geo;n&&n.isUK&&(e.demi.isUK=1===n.isUK())}if(window.bbcuser&&window.bbcuser.isUKCombined){var a=window.bbcuser.isUKCombinedt){e.demi.isUK=t})}}e.chromeCast||(e.chromeCast={castInterface:!1});e.sendEventToPlayers||(e.sendEventToPlayers=function(t,i,n){var a=e.players;a.forEach(function(e){e!==n&&e.call(t,i)})});return e}}});define("mp/classes/settingsbuilder",["jquery-1.9","mp/modules/device","mp/modules/helpers"],function(e,t,i){function n(e,t){if(e)for(var i=0;e.length>i;i++){var n=e[i];if(n){var a=n.kind;if("radioProgramme"==a||"audio"==a||!t&&(void 0===a||null===a||""===a||"programme"==n.kind))return n}}return null}var a={mediasets:{desktop:"pc",cellular:"mobile-cellular-main",mobile:"mobile-phone-main",tablet:"mobile-tablet-main"},findProgramme:n,firstProgramme:function(e,t){return n(e&&e.items,t)},mediationUrls:function(e,t){var i="ediatorHref",n=a.mediaSet(t);e["samlM"+i]=e["m"+i]=a.mediatorHref(t,n);return n},mediaSet:function(e){if(e.mediator&&e.mediator.overrideMediaSet)return e.mediator.overrideMediaSet;if(e.backgroundPlayer)return"mobile-tablet-main";var n=i.addEmbeddedMedia(),a=e.mediasets=this.mediasets,r=t.get();return r.mediasetDesktop?a.desktop:n.demi.isMobileNetwork?a.cellular:r.isTabletDevice?a.tablet:a.mobile},mediatorHref:function(t,i){var n={href:"https://{host}/mediaselector/6/select/version/2.0/mediaset/{mediaset}/vpid/{id}/format/json/jsfunc/{callback}",host:"open.live.bbc.co.uk",mediaset:i};e.extend(!0,n,t.mediator);var ace("{"+e+"}",t)});return a}};return a});define("mp/classes/errors/error",[],function(){function e(e,t,n){var a="en";e&&(a=e.locale());t=i[t]||t;if(window.embeddedMedia.language){var r=window.embeddedMedia.language.t(t,a);if(r!=t)return r}return n||"Unknown Error"}function t(t,i,n){n||(n={});this._c=t;this._s=n.severity||"critical";this._d=e(i,t+"",n.description||n.detail);return this}var i={6000:"unableToEmbed",6003:"errorUnsupported",6004:"initialiseFailed",6005:"initialiseFailed",6010:"flashNotAvailable",6012:"errorUnsupported",1003:"defaultErrorMessage",1040:"flashNotAvailable"};t.prototype={code:function(){return this._c},description:function(){return this._d},detail:function(){return""},severity:function(){return this._){return"client"}};return t});define("mp/classes/settings",["jquery-1.9","mp/modules/policies","mp/classes/settingsbuilder","mp/classes/errors/error"],function(e,t,i,n){function a(e){e&&e.getFullYear||(e=new Date);var t=Math.floor(1.25*e.getFullYear()),i=e.valueOf(),n=new Date(i);n.setMonth(2);n.setDate(31-(t+4)%7);n.setUTCHours(1);n.setUTCMinutes(0);n.setUTCSeconds(0);var a=new Date(i);a.setMonth(9);a.setDate(31-(t+1)%7);a.setUTCHours(1);a.setUTCMinutes(0);a.setUTCSeconds(0);return e>n&&a>e}function r(t,i,n){if("set"!=i&&"locale"!=i&&"playingAudio"!=i&&"posterUrl"!=i)if("playlistObject"==i||"today"==i)t[i]=n;else{var a="object"==typeof n;a?"object"==typeof d[i]&&e.extend(!0,t[i],n):"object"!=typeof t[i]&&(t[i]=n)}}function o(e,t,i){var n,a=i&&i.availableWidths&&"string"==typeof i.availableWidths?i.availableWidths:!1,r=a?a.split(","):c;if(e&&p.test(e)){var o=0;t&&t.width&&(o=t.width());(0===o||isNaN(o))&&(o=768);i&&i.densityMultiplier&&(o*=i.densityMultiplier);for(var s=r.length-1;s>0&&!(o/r[s]>.98);s--);var l=c[s]+"x"+u[s];n=a?r[s]:1024>=r[s]?r[s]:1536;return e.replace(/[\${]recipe}?/,l).replace(/[\${]width}?/,n)}}var s="true"=="true",l={locale:{lang:"en",path:"https://emp.bbci.co.uk/emp/translations/1.0.44/{lang}.xml"},subtitles:{supportLiveSubtitles:!0},thumbnail:{enabled:!0},colour:"#f54997",foreColour:"#ffffff",alternateColour:"#f54997",alternateForeColour:"#ffffff",guidance:{pgColour:"#f54997",pgSeparatorColour:"#252833",pgBackgroundColour:"#0c101c"},cta:{direction:null}},d={container:{},playlist:"",startTime:0,volume:.7,overrideHoldingImage:"",product:"iplayer",today:new Date,guidance:{},mediator:{},experimentalDashPercentage:parseFloat("0"),includeAppClickHandler:!0,plugins:{player:{width:"640px",height:"360px",poster:""},toLoad:[]},quality:"hd",uiClass:"",enableStatsReporting:!0,customRdotBaseURL:"https://r.bbci.co.uk/e",autoplay:!1,preload:"",enableRdotReporting:!0,enableSonarReporting:!0,enableBarbReporting:!0,enableAtiReporting:!0,statsObject:{},embedPageURL:location.href,forceGuidance:"",appName:"",appType:"",counterName:"smp.player.page",siteID:"",significantTime:10,playerType:"",blacklistedPlugins:["eavis","endSlate"],namedPlugins:{"dfpAds.js":"//emp.bbci.co.uk/plugins/dfpAdsHTML/5.7.0/js/dfpAds.js","continuousPlay.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.6.7/js/onwardJourney.js","endSlate.js":"//emp.bbci.co.uk/plugins/endSlateHTML/1.8.0/js/endSlate.js","preview.js":"//emp.bbci.co.uk/plugins/preview/1.1.0/js/preview.js","onwardJourney.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.6.7/js/onwardJourney.js","smp-ads-plugin-toucan.js":"//emp.bbci.co.uk/plugins/toucanAds/1.5.2/smp-ads-plugin-toucan.js","OnwardJourneyToucan.js":"//emp.bbci.co.uk/plugins/toucanOj/1.3.21/live/OnwardJourneyToucan.js","audioSegments.js":"//emp.bbci.co.uk/plugins/adhoc/0.3/Segments.js","smp-subs-config-plugin.js":"//emp.bbci.co.uk/plugins/subsConfig/0.2.3/smp-subs-config-plugin.js"},pluginUpgrades:{toucan:{"//emp.bbci.co.uk/plugins/dfpAdsHTML/5.7.0/js/dfpAds.js":{url:"//emp.bbci.co.uk/plugins/toucanAds/1.5.2/smp-ads-plugin-toucan.js",module:!0},"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.6.7/js/onwardJourney.js":{url:"//emp.bbci.co.uk/plugins/toucanOj/1.3.21/live/OnwardJourneyToucan.js",module:!0}}},suppressType:[],suppressItemKind:[],ui:{},webcastData:{},liveEnvironment:s,preferHtmlControls:!0,hdVpids:"b07v802s",optinPids:"p03cchwf",over16:!1,under16:!1,backgroundSettings:{},threeSixty:!1,disablePreload:!1,continuousPlay:!0,skipInterval:10,embeddedOffsite:!1,androidReceiverCompatible:!1},c=[320,384,432,480,512,608,640,688,720,768,800,832,976,1024,1376,1920],u=[180,216,243,270,288,342,360,387,405,432,450,468,549,576,774,1080],p=new RegExp("^//|^http[surn this.init(e)};m.prototype={set:function(){var t=this;if(2===arguments.length){var i=arguments[0],n=arguments[1];r(t,i,n)}else"object"==typeof arguments[0]&&e.each(arguments[0],function(e,i){r(t,e,i)});for(i in t.webcastData)if(t.webcastData.hasOwnProperty(i)){var o=t.webcastData[i];"[object Date]"===Object.prototype.toString.call(o)&&(t.webcastData[i]=o.getTime()/1e3)}t.isBSTime=a(t.today);return t},init:function(i){var n=this;n.reset();"object"!=typeof i&&(i={});var a=i.product||d.product,o=t[a]||ton(e,t){r(n,e,t)});n.ui=e.extend(!0,{},l,o.ui);var s="";try{s=document.cookie+""}catch(c){}if(!n.allowTracking){for(var u=!1,p=["bbc.co.uk","bbc.com","britbox.com","bbcconnectedstudio.co.uk"],m=0;p.length>m;m++)location.host.indexOf(p[m])!==-1&&(u=!0);u||(n.noTracking=!0)}s.match(/NO-SA=1/)&&(n.noTracking=!0);s.match(/html5Debug=true/)&&(n.html5Debug=!0);if(i.enableToucan!==!1){var f=(""+i.counterName).split(".")[0];("weather"==f||"food"==f)&&(n.enableToucan=!0)}return n.set(i)},reset:function(){var t=this,i=e.extend(tion(e,i){t[e]=i});return t},validate:function(){var e=this;if(!e.container||void 0===e.container.get(0)||0===e.container.length)throw"Error 6009 DOM element not found";if(e.playlistObject&&e.playlistObject.items){var t=e.playlistObject.items[0];if(t){var i=t.versionID||t.vpid||"";if(i.length>7&&"p09108vv,p09hh03z,p09hh046,p09hh03f,p09hh049,p09hh03x,p09hh04t,p09hh063,p09hh05v,p09hh3k5,p09hgzj3,p0g9hlfp,p0g9hm83,p0g9hm8f,p0g9hm9b,p0g9hm9n,p0g9hmb5,p0g9hmcs,p0g9hmdh,p0g9hmf0,p0g9hmfq".indexOf(i)>-1){e.plugins.toLoad.push({html:"https://storyplayer.pilots.bbcconnectedstudio.co.uk/smp-js"});e.ui.skin="storykit";e.waitOnPluginLoad=!0}}}},dispatch:function(t){var i=this,a=e.Event("error");a.errorData=new n(t,i);i.trigger(a)},trigger:function(e){var t=this;t.container&&"function"==typeof t.container.trigger&&t.container.ts.ui.locale.lang},playingAudio:function(){var e=this;if(e.willPlayAudio)return!0;var t=i.firstProgramme(e.playlistObject);return t?"radioProgramme"==t.kind||"audio"==t.kind:!0},posterUrl:function(e){var t=this._poster||this.playlistObject&&this.playlistObject.holdingImageURL||this.overrideHoldingImage;return o(t,e,this.ui.poster)},doHdVersionCheck:function(){var e=this;"medium"==e.quality&&e.statsObject&&e.statsObject.parentPID&&(e.hdVpids+"").indexOf(e.statsObject.parentPID+"")!==-1&&(e.quality="hd")}};return m});define("mp/modules/html5",[],function(){function e(e){var t=document.createElement(e);return!(!t||!t.canPlayType)}return{media:{audio:e("audio"),video:e("video")},audio:{},video:{}}});define("mp/classes/xd",[],function(){var e=function(e){var t=this,i=document.getElementById(e);t._receiveKey=e+Math.random();i&&i.contentWindow&&(t._postElement=i.contentWindow);t._url=i.src;t._listeners={};t.post({initXD:{receiveKey:t._receiveKey}});t.receive(function(e){if(e.data){var i=e.data.type,n=e.data.data,a=t._listeners[i];if(a)for(var r=0;a.length>r;r++){var o=a[r];o.call(t,n)}}})};e.prototype={_receiveKey:"",_postElement:null,_listeners:{},post:function(e){var t=this;e&&t._postElement&&t._postElement.postMessage&&t._postElement.postMessage(JSON.stringify(e),"*");return t},receive:function(e){var t=this,i=function(i){var n=i.origin+"";if((0===t._url.indexOf(n)||0===t._url.indexOf(n.replace("https://","http://")))&&i.data&&i.data.indexOf&&0===i.data.indexOf("{")){var a={};for(var r in i)a[r]="data"==r?JSON.parse(i[r]):i[r];if(!a.data.receiveKey||a.data.receiveKey!==t._receiveKey)return!1;e(a)}};window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i);return t},on:function(e,t){var i=this,n=func(e){t.apply(i,e)},0,arguments)};this._listeners[e]||(this._listeners[e]=[]);this._listeners[e].push(n);return i},fire:function(e,t){this.post({receiveKey:this._receiveKey,type:e,data:t})}};return e});define("mp/classes/embedPopup",["jquery-1.9"],function(e){var t={show:function(i){t._embedBox&&t.close(!0);var n=i._settings,a=!n.ui.disableReithFonts;window.embeddedMedia.opened();var r={width:"100%",height:"100%",margin:"0px",position:"fixed","z-index":1e3,top:"0px",left:"0px","background-color":"#000000",zoom:1,filter:"alpha(opacity=50)",opacity:.5};t._background=e('<div id="embedBackground"></div>').css(r).appendTo(document.body);var o={"-webkit-box-orient":"horizontal","-webkit-box-pack":"center","-webkit-box-align":"center","-moz-box-orient":"horizontal","-moz-box-pack":"center","-moz-box-align":"center",display:"box","box-orient":"horizontal","box-pack":"center","box-align":"center",position:"fixed",width:"400px","max-width":"90%",height:"160px",bottom:"0",left:"0",top:"0",right:"0",margin:"auto","vertical-align":"middle","text-align":"center",color:"white","font-size":"22px","z-index":1001,"background-color":"#262626"};document.documentElement.className.indexOf("b-reith-sans-font")>=0&&a?t.className+="font-family-sans":o["font-family"]="helvetica, Arial, sans-serif";t._embedBox=e('<div id="embedBox" role="alertdialog" aria-labelledby="embedMediaTitle" aria-describedby="embedMediaDescription"></div>').css(o).appendTo(document.body);var s=n.locale(),l=window.embeddedMedia.language,d=l.t("embedTitle",s),c=l.t("embedDescription",s),u=l.t("embedTerms",s),p=l.t("embedClose",s),m=e('<span id="embedMediaTitle" style="position:absolute;left:0px;margin-left:10%;margin-top:6%">'+d+'</span><span id="embedMediaDescription" style="display:none" aria-hidden="true">'+c+"</span>");m.appendTo(t._embedBox);var f={position:"absolute",width:"80%",height:"30px",top:"50%",left:0,"margin-top":"-15px","margin-left":"10%","font-size":"14px",color:"#848484"},g=encodeURIComponent(n.product),h=encodeURIComponent(i.playlist.title),y=n.externalEmbedUrl;if(y){for(var v=i.playlist.items,b=0;v.length>b;b++){var w=v[b].kind;if("programme"==w||"radioProgramme"==w){y=y.replace("{vpid}",v[b].identifier);break}}y=y.replace("{lang}",s)}else{if(i.playlist.url)var P=i.playlist.url;else n.playlistObject&&(P=n.playlistObject.legacyPlaylist);if(P){y="https://emp.bbc.co.uk/emp/embed/smpEmbed.html?playlist="+encodeURIComponent(P)+"&title="+h+"&product="+g;"en"!=s&&(y+="&lang="+s)}}if(y){var k='<iframe width="400" height="500" frameborder="0" src="'+y+'"></iframe>';n.externalEmbedCode&&(k=(n.externalEmbedCode+"").replace("{url}",y));var _=e('<input type="text" id="embedText" />').css(f).appendTo(t._embedBox);e("#embedText")[0].value=k;var C={position:"absolute",bottom:0,left:0,"margin-bottom":"6%","margin-left":"10%","font-size":"0.6em",color:"#ffffff","text-decoration":"none"},x=e('<a target="_blank" href="https://www.bbc.co.uk/usingthebbc/terms-of-use/">'+u+"</a> ");x.css(C).appendTo(t._e(this).select()});setTimeout(function(){_.focus()},100);var E={position:"absolute",right:"0px","font-size":"0.8em",top:"0px","margin-top":"10px","margin-right":"10px",color:"#ffffff","text-decoration":"none",cursor:"pointer"},T=e('<a aria-label="'+p+'" href="#">x</a> ');T.css(E).appendTo(t._embedBox);T.click(function(e){e.preventDefault&&e.preventDefault();e.returnValue=!1;t.close()});t._tabList=[_,x,T];t._currentTab=0;var I=function(e){e=e||window.event;var i=e.keyCode||e.which;27===i&&t.close();if(9==i||13==i){e.preventDefault&&e.preventDefault();e.returnValue=!1;if(9==i){var n=t._tabList.length-1;t._currentTab=e.shiftKey?0===t._currentTab?n:t._currentTab-1:t._currentTab===n?0:t._currenrentTab].focus()},200)}else this.click()}};for(b=0;t._tabList.length>b;b++)t._tabList[b].keydown(I)}else t.close()},close:function(e){var t=this;e||window.embeddedMedia.closed();if(t._background){t._background.remove();t._background=void 0}if(t._embedBox){t._embedBox.remove();t._embedBox=void 0}}};return t});define("mp/classes/players/player",["mp/classes/embedPopup"],function(e){function t(e,t,i){var n=new Date;n.setTime(i);n.setHours(23);n.setMinutes(59);n.setSeconds(59);var a="; expires="+n.toGMTString(),r=location.hostname;r.indexOf(".bbc.co.uk")!==-1&&(r=".bbc.co.uk");r.indexOf(".bbc.com")!==-1&&(r=".bbc.com");try{document.cookie=e+"="+escape(t)+a+"; Domain="+r+"; Path=/"}catch(o){}}function i(){this.includePoster=!0;this._volume=1;return this}var n=1e3*60*60*24*7;i.prototype={name:function(){return this._name},uiDefaults:function(e){var i=this._settings,a=i.ui;a.guidance||(a.guidance={});a.guidance.useFlashGuidance=a.guidance.useFlashGuidance||!1;i.guidanceCleared||a.guidance.pinRequired!==!1&&(a.guidance.pinRequired=!0);if(e.isMobileOrTablet){a.controls||(a.controls={volumeSlider:!1});a.controls.popout=!1;a.controls.volumeSlider||(a.controls.volumeSlider=!1);i.volume=1}if(1!=window.devicePixelRatio&&!e.connection.mobile&&!i.lowBandwidth){a.poster||(a.poster={});a.poster.densityMultiplier||(a.poster.densityMultiplier=i.saveData?.8:window.devicePixelRatio)}e.supportsSvg&&a.useHighResIcons!==!1&&(a.useHighResIcons=!0);var r="";r=window.getComputedStyle&&this._settings.container[0]?window.getComputedStyle(this._settings.container[0]).direction:this._settings.container[0].currentStyle.direction;null===a.cta.direction&&(a.cta.direction="rtl"==r?"rtl":"ltr");var o=!1,s=!0;try{var l=/[; ]ck[pn]s_smpSettings=([^\s;]*)/gim;l.test(" "+document.cookie);if(RegExp.$1){var d=JSON.parse(decodeURIComponent(RegExp.$1));if(this._deprecated&&d.FDd&&!isNaN(d.FDd)){var c=new Date(d.FDd);(new Date).valueOf()<=c.valueOf()+n&&(s=!1)}a.allowAudioControlsToHide|=d.allowAudioControlsToHide;if(d.controls){a.controls||(a.controls={});a.controls.timeout=d.controls.timeout;a.controls.sizeAdjust=d.controls.sizeAdjust;a.controls.spaceControlsPlayback|=d.controls.spaceControlsPlayback;a.controls.experimentalShortcuts|=d.controls.experimentalShortcuts;a.controls.activeStartsAt=d.controls.activeStartsAt;a.controls.chromecastMode=d.controls.chromecastMode;a.controls.speed|=d.controls.speed}if(d.subtitles){a.subtitles||(a.subtitles={});a.subtitles.contrast=d.subtitles.contrast;a.subtitles.sizeAdjustment=d.subtitles.sizeAdjustment;a.subtitles.supportLiveSubtitles|=d.subtitles.supportLiveSubtitles}d.quality&&(i.quality=d.quality)}o=!0}catch(u){}this._deprecated&&!a.deprecationWarning&&(s?this.recordDeprecationCookie=function(){try{a.deprecationWarning={enabled:!1};var e=(new Date).valueOf(),i=e+n;if(!o){d={};var r=new Date;r.setTime(r.getTime()+15552e6);i=r.valueOf()}d.FDd=e;t("ckps_smpSettings",JSON.stringify(d),i)}catch(s){}}:a.deprecationWarning={enabled:!1})},destroy:function(){this._container&&this._container.empty()},call:function(){},play:function(e){this.call("play",e)},stop:function(){this.call("stop")},suspend:function(){this.call("suspend")},pause:function(){this.call("pause")},next:function(){this.call(call("previous")},pauseAt:function(e){if(e){e=e instanceof Array?e:[e];this.call("pauseAt",e)}},muted:function(e){if("undefined"!=typeof e){this._muted=e;this.call("muted",e)}return this._muted},volume:function(e){if("number"==typeof e){this._volume=e;this.call("volume",e)}return this._volume},duration:function(){return this._duration},ended:function(){return this._ended},seeking:function(){return this._seeking},paused:function(){return this._paused},kind:function(){return this._kind},mediaItem:function(){return this._mediaItern this.playlist},currentTime:function(e){"number"==typeof e&&this.call("currentTime",e);return this._currentTime},showSubtitles:function(e){this.call("showSubtitles",e)},setData:function(e){if(e)if(e instanceof Array)for(var t=0;e.length>t;t++)this.call("setData",e[t]);else this.call("setData",e)},updateQuality:function(e){this.call("updateQuality",e)},onAdsProcessed:function(e){this.call("onAdsProcessed",e)},webcastData:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];"[object Date]"===Object.prototype.toString.call(i)&&(e[t]=i.getTime()/1e3)}},loadPluginWithCheck:function(e,t){for(var i=e.url+"",n=this._settings.blacklistedPlugins,a=0;n.length>a;a++)if(i.indexOf(n[a])>-1)return;if(0===i.indexOf("name:")){var r=this._settings.namedPlugins,o=!1,s=i.split("name:");if(2==s.length)for(var l in r)if(s[1]===l){"object"==typeof e?e.url=r[l]:e=r[l];o=!0;break}if(!o)return}var d=this._settings.pluginUpgrades&&this._settings.pluginUpgrades[this._name];if(d){var c=d[e.url];if(c){e.url=c.url;var u=c.module;(u===!0||u===!1)&&(e.module=u)}}this.call(t||"loadPlugin",e)},before:function(){var e=this,t=e._settings;e.ready=!0;e.volume(t.volume);e.muted(t.muted);e._lastSignificant=t.startTime},started:function(e){var t=this,i=t._settings;e.supportChromecast&&i.allowCasting&&window.embeddedMedia.chromeCast.castInterface&&window.embeddedMedia.chromeCast.castInterface.initialised&&window.embeddedMedia.chromeCast.castInterface.sendCastIconState();window.addEventListener?window.addEventListener("beforeunload",function(){t.call("stop",{destroy:!0})}):window.attachEvent&&window.attachEventp",{destroy:!0})});var n=window.embeddedMedia.parentalGuidance;n.updateCallbacks.push(function(e){i.guidance=e;e.noPin=i.guidanceCleared;t.call("updateGuidance",e)});n.closedCallbacks.push(function(e){t.call("guidanceClosed",[e]);if(t.resizePlayer){t.resizePlt.resizePlayer()},500)}"html"==t.type&&t._gCalled&&e&&!t._lockClicked&&t.play(!0);t._gCalled=!1})},processEvent:function(t,i,n,a){var r=t.type;i=i||{};var o=this;for(var s in i)if("type"!=s){t[s]=i[s];"currentDuration"==s&&(t.duration=i[s])}var l=window.embeddedMedia.chromeCast.castInterface;switch(r){case"ccRequestSession":l.requestSession();break;case"ccLoadMedia":l.loadMedia(this);break;case"ccPause":l.pause();break;case"ccPlay":l.play();break;case"ccSeek":l.seek(n.seekTime);break;case"ccSubsOn":l.subtitlesOn();break;case"ccSubsOff":l.subtitlesOff();break;case"ccVolume":l.setVolume(n.volume);break;case"ccMuted":l.setMuted(n.muted);break;case"timeupdate":o._currentTime=i.currentTime;o._duration=i.duration;if(Math.abs(o._currentTime-o._lastSignificant)>o._settings.significantTime){var d=a.Event("significanttimeupdate");for(s in i)"type"!=s&&(d[s]=i[s]);o._lastSignificant=o._currentTime;o._settings.trigger(d)}break;case"seeked":o._seeking=!1;"number"==typeof i.currentTime&&(o._currentTime=i.currentTime);break;case"seeking":o._seeking=!0;"number"==typeof i.currentTime&&(o._currentTime=i.currentTime);break;case"playlistEnded":case"ended":o._playing=!1;o._ended=!0;break;case"pause":o._paused=!0;break;case"playing":o._playing=!0;o._paused=!1;o._ended=!1;o._kind=t.kind;break;case"playlistLoaded":o._playing=!1;o._seeking=!1;o._paused=!0;o._ended=!1;o.playlist=i.playlist;var c=o.reloadScope;c&&c.loadingData&&!c.loadingData.playlist&&(c.loadingData.playlist=c.loadingData.now());break;case"mediaItemChanged":o._currentTime=0;o._lastSignificant=0;o._mediaItem=t.mediaItem;break;case"linkRequest":("managePIN"===i.type||"PGinfo"===i.type)&&window.open("//www.bbc.co.uk/iplayer/guidance","pg");break;case"embed":if(o.playlist){o._restoreFocus=!0;e.show(o)}break;case"setPIN":window.embeddedMedia.parentalGuidance.setPIN(i.PIN);break;case"setGuidanceSkipped":window.embeddedMedia.parentalGuidance.setAgeConfirmation(i.skipped);break;case"guidanceLocked":window.embeddedMedia.parentalGuidance.setLocked(i.locked,!0);break;case"guidanceClosed":window.embeddedMedia.parentalGuidance.close(void 0,!0);break;case"setUnder16Permission":window.embeddedMedia.parentalGuidance.setUnder16Permission(i.hasPermission);break;case"configFromPlayer":window.embeddedMedia.processConfigFromPlayer(t.config,"",o._settings.domid);break;case"uiConfigFromPlayer":window.embeddedMedia.processConfigFromPlayer(t.config,"ui",o._settings.domid)
}},setPoster:function(e,t){this.ready&&e&&this.call("setPoster",{url:e,effect:t})},updateMediaset:function(){},queuePlaylist:function(){},setPreviousPlaylist:function(){},loadPlaylist:function(){},captureIntent:function(){},updateUiConfig:function(){},updateConfig:function(){},distributeConfig:function(){}};return i});define("mp/classes/rdotreporting",[],function(){var e=0;return{error:function(t,i,n){if(i.enableRdotReporting){var a=i.customRdotBaseURL;if(a&&0===(a+"").indexOf("//")){n="c~"+navigator.platform+(n?"~"+n:"");var r=encodeURIComponent(i.counterName),o=[a,"av","0","-","bump","1.0.0","bump",window.embeddedMedia.version,"-",e++,r,"-","-","-","-","-","-","-","-","-","-","-","-","-",t,n].join("/"),s=new Image;s.src=o;return o}}},info:function(t,i){var n=i._settings;if(n.enableRdotReporting){var a=n.customRdotBaseURL;if(a&&0===(a+"").indexOf("//")){var r=encodeURIComponent(n.counterName),o=[a.replace("/e/","/i/"),"mediaplayout","0","-","bump",window.embeddedMedia.version,"-",e++,r,"init",i.name(),i._version||"-",t.load,t.init,t.playlist||"-"].join("/");navigator.sendBeacon(o,"")}}}}});define("mp/classes/players/html5/smp-html5",["jquery-1.9","mp/modules/device","mp/modules/html5","mp/classes/xd","mp/classes/errors/error","mp/classes/settingsbuilder","mp/classes/players/player","mp/classes/rdotreporting","mp/modules/demi"],function(e,t,i,n,a,r,o,s,l){function d(){this.type="html";this.includePoster=!1;this.requireSonarJS=!0;this._currentTime=0;this._duration=0;this._fullScreen=!1;this._lastSignificant=0;this._kind="";this.pluginsToLoad=[];this.updateMediasetCallback=null;return this}function c(e){if(!g){g=!0;window.addEventListener("devicemotion",function(t){var i={rotationRate:{alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma},orientation:window.orientation};e.xd.fire("devicemotion",i)})}}function u(i,n){var a,r,o,s,l,d,c,u,p=i,m=p.wrapper,f=document.body.style,g=document.documentElement.style,h=t.get(),y=h.os.ios&&!h.isTabletDevice;p._pfse=function(){p._fullScreen=!0;if(!u){u=document.createElement("style");document.createTextNode&&u.appendChild(document.createTextNode(""))}document.head.appendChild(u);var t=u.sheet?u.sheet:u.styleSheet;if(t.cssRules&&0===t.cssRules.length){t.insertRule("#"+n+"wrp{z-index:2147483600!important}",0);t.insertRule("div{z-index:auto!important}",1);t.insertRule(".smpPG {z-index:2147483600!important}",2)}o=window.pageXOffset||document.documentElement.scrollLeft;s=window.pageYOffset||document.documentElement.scrollTop;a=f.overflow;f.overflow="hidden";r=g.overflow;g.overflow="hidden";e(document.body).bind("touchmove.preventDefault()});var i=p.resizePlayer=function(){var e=window.innerWidth,t=window.innerHeight;m.css(y?{position:"fixed",top:0,left:0,height:t+"px",width:e+.5+"px","padding-bottom":0}:{position:"fixed",top:0,left:0,height:t+"px",width:e+"px","padding-bottom":0});m[0].style.setProperty&&m[0].style.setProperty("position","fixed","important");m[0].style.WebkitTransform="translate3d(0,0,10em)"},h=function(){i();clearTimeout(c);var e=200;(Device.get().os.safariVersion>=16.2||Device.get().os.iosSafariVersion>=17.2)&&(e=600);c=setTimeout(i,e)};e(window).bind("resize.playerFullscreen orientationchange.playerFullscreen",h);if(!l){for(var v="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover",b=document.getElementsByTagName("meta"),w=0;b.length>w;w++)if("viewport"===b[w].name){d=b[w].content;b[w].content=v;l=b[w];break}if(!d){l=document.createElement("meta");l.name="viewport";l.content=v;document.getElementsByTagName("head")[0].appendChild(l)}}setTimeout(i,250)};p._pfsx=function(){p._fullScreen=!1;p.resizePlayer=null;clearTimeout(c);u&&document.head.removeChild(u);e(window).unbind("resize.playerFullscreen orientationchange.playerFullscreen");m[0].style.setProperty&&m[0].style.removeProperty("position","fixed","important");m.css(p.css);m[0].style.WebkitTransform="";f.overflow=a;g.overflow=r;e(document.body).unbind("touchmove.playerFullscreen");if(d){l.content=d;d=null;l=null}else if(l&&l.parentNode){l.content="";l.parentNode.removeChild(l);l=null}window.scroll(o,s)}}function p(e){var t=[];e.uiClass&&t.push(e.uiClass);e.defaultUiClass&&t.push(e.defaultUiClass);return t.join(" ")}function m(t){return function(i){var n,a=i.type,r=e.Event(a);for(var o in i)"type"!=o&&(r[o]=i[o]);t.processEvent(r,i,i.data,e);switch(a){case"durationchange":t._duration=i.duration;break;case"initialised":t._version=(i.version+"").replace(/\.smphtml5/i,"").replace(/[^\d\.]/gim,"");t.initialised();break;case"volumechange":t._muted=i.muted;t._volume=i.volume;break;case"guidanceShow":t._gCalled=!0;t._lockClicked=i.lockClicked;window.embeddedMedia.parentalGuidance.show(i,t._settings.ui.colour,t._settings.locale());t._fullScreen&&(t.wrapper[0].style.WebkitTransform="");break;case"pause":t._ended=r.ended;break;case"mediaItemChanged":t._mediaItem=r.mediaItem;break;case"playing":t._mediaItem=r.mediaItem;break;case"playlistLoaded":var s=document.getElementById(t.getId());if(s)if(t.playlist.title)s.title=t.playlist.title;else{var l=window.embeddedMedia.language;s.title=l.t("screenreaderDefaultIframeTitle",t._settings.locale())}break;case"playlistLoading":i.statsObject&&(n=function(){i.statsObject.playlistURL||(i.statsObject.playlistURL=i.url);t._statsObject=i.statsObject});break;case"beforeFullscreenEnter":i.applyPageFullScreen&&t._pfse();break;case"beforeFullscreenExit":if(t._settings.superResponsive){t.wrapper.css("paddingBottoapper.css(t.css)},10)}i.applyPageFullScreen&&t._pfsx();break;case"loadingThreeSixty":c(t);break;case"verify":window.embeddedMedia.parental",{isCorrect:e})})}try{t._settings.trigger(r);n&&n()}catch(d){n&&n();throw d}}}function f(i){var n=e.extend(!0,{},i);n._container=null;n.container=null;n.dispatch=null;n.init=null;n.trigger=null;n.initialisationListenerTimeout=null;n.embedReferer=document.referrer||"";n.uiClass=p(n);r.mediationUrls(n,n,!0);n.mobileNetwork=t.get().connection.mobile;n.enableStatsReporting=n.enableStatsReporting;n._demiIsUK=window.embeddedMedia.demi.isUK;return n}var g=!1,h=d.prototype=new o;h._name="smphtml5";h.compatibility=function(e){var n=t.get(),a=!1;a=e.dashPlaybackOnly?n.hasMseSupport:i.media.video&&(n.hasHlsVodSupport||n.isMobileOrTablet||n.hasMseSupport);!a&&n.hybrid&&(a=!0);return a};h.embedUrl=function(e){var t=e.smpj2Beta,i=t?"//emp.bbc.co.uk/emp/SMPj/2.51.0/iframe.html":"//emp.bbc.co.uk/emp/SMPj/2.51.0/iframe.html";e.html5Debug&&(i=t?"//emp.bbc.co.uk/emp/SMPj/2.51.0/debug.html":"//emp.bbc.co.uk/emp/SMPj/2.51.0/debug.html");return i};h.embed=function(i,r){clearTimeout(i.initialisationListenerTimeout);var o=this;o.css={"border-bottom":0,"z-index":999,position:"relative",height:"100%",width:"100%","padding-bottom":0};o._settings=i;o._container=i.container;o._container.empty();var d=t.get();d.supportsFlash||l();if(i.saveData){o._settings.delayEmbed=!0;o._settings.ui.thumbnail.enabled=!1;o._settings.ui.disableReithFonts=!0}o.uiDefaults(d);i.supportHls=d.hasHlsVodSupport;i.deviceSupports360=d.support360;for(var c=0;i.plugins.toLoad.length>c;c++){var p=i.plugins.toLoad[c];o.loadPlugin(p,p.data)}var f=o.embedUrl(i),g=!1,h=["bbc.co.uk","bbc.com","britbox.com","bbcrewind.co.uk","bbcconnectedstudio.co.uk","labs.bbc"];if("http:"==location.protocol||"https:"==location.protocol)for(c=0;h.length>c;c++)if(location.host.indexOf(h[c])!==-1){f=f.replace("bbc.co.uk",h[c]);try{document.domain=h[c];g=!0}catch(y){}}g||(f=f.replace(/^\/\//,"https://"));o.uniqueId="X"+Math.random();var v=o._container;i.superResponsive&&(o.css["padding-bottom"]="56.25%");var b=o.getId(),w=o.wrapper=e("<div />").css(o.css).attr({id:b+"wrp"}).appendTo(v),P=e("<iframe />").attr({id:b,name:b,frameborder:0,scrolling:"no",src:f,allowfullscreen:"",allowtransparency:"",lang:o._settings.locale()}).css({position:"absolute",left:0,top:0,width:"100%",height:"100%"}).appendTo(w).load(function(){var t=setTimeout(function(){s.error(6007,i,"smphtml5");var t=e.Event("error");t.errorData=new a(6007,i);o._container.trigger(t)},5e3);v.bind("initialised",function(){clearTimeout(t)});var r=e(this).attr("id");u(o,r);o.xd&&(o.xd._listeners={});o.xd=new n(r);o.xd.on("jsapi",m(o));if("object"!=typeof window.JSON){var l=document.createElement("script");l.async=!0;l.src="https://emp.bbci.co.uk/emp/assets/bump-3/json.js";var d,c=!1;l.onload=function(){clearTimeout(d);c=!0;o.fireBootstrap()};document.head.appendChild(l);var p=function(){window.JSON?o.fireBootstrap():d=setTimeout(p,1e3)};d=setTimeout(p,1e3)}else o.fireBootstrap()});o._settings.delayEmbed&&P.attr("loading","lazy");P.attr("allow","autoplay");window.addEventListener&&window.addEventListener("pageshow",function(e){if(e.persison(e,t){return t});o._fullScreen&&o._pfsx()}});r(o,{markers:!0,queuedPlaylist:!0,previousPlaylist:!0,threeSixty:d.support360,inPage:!0,overlay:!0})};h.fireBootstrap=function(){var e=this;window.embeddedMedia.playerInstances[e.uniqueId]=e;var t={player:{vars:f(e._settings)},id:e.uniqueId,requireMap:window.bbcRequireMap};try{var i=document.getElementById(e.getId());i.contentWindow.bootstrap(t)}catch(n){e.xd.fire("bootstrap",t)}};h.updateUiConfig=function(e){this.call("uiConfigFromBump",e)};h.updateConfig=function(e){this.call("configFromBump",e)aptureIntent",e)};h.updateMediaset=function(){var e=this,t=function(){var t=e._settings,i={mediator:t.mediator,mobileNetwork:window.embeddedMedia.demi.isMobileNetwork};r.mediationUrls(i,t,!0);e.call("configFromBump",i)};e.ready?t():e.updateMediasetCallback=t};h.loadPlaylist=function(e){var t=this;if(t.ready){var i=f(t._settings);i.nonUserBypass=i.nonUserBypass||e===!0;t.playlist=null;t._mediaItem=null;t.call("loadPlaylist2",i);i.playlistObject&&i.playlistObject.embedRights&&!i.externalEmbedUrl&&t.updateUiConfig({embed:{enabled:!1}});var n=i.webcastData;n&&(n.accurateStartTime||n.scheduledStartTime||n.accurateEndTime||n.scheduledEndTime)&&t.webcastData(n);i.nonUserBypass=!1}};h.getId=function(){return this._name+"iframe"+this._settings.domid};h.call=function(e,t){try{var i=document.getElementById(this.getId()),n=i.contentWindow.publicApi.api[e];n||(n=i.contentWindow.publicApi[e]);n(t)}catch(a){this.xd&&this.xd.fire("jsapi",{call:e,params:t})}};h.queuePlaylist=function(e,t){var i=this;i.call("queuePlaylist",{playlist:e,options:t})};h.setPreviousPlaylist=function(e,t){var i=this;i.call("setPreviousPlaylist",{playlist:e,options:t})};h.loadPlugin=function(e,t){if(e&&(e.j2||e.html)){var i={url:e.j2||e.html,data:t};if(this.ready){this.setData(i.data);this.loadPluginWithCheck(i,"loadPlugin2")}else this.pluginsToLoad.push(i)}};h.webcastData=function(e){if(e){o.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};h.dispatchEvent=function(e,t){e&&this.call("dispatch",{type:e,data:t},!0)};h.show=function(e){this.wrapper[0].firstChild.style.width="100%";this._settings.tryPlayAfterInHtml&&e&&this.play(!0)};h.hide=function(){this.wrapper[0].firstChild.style.width="0%"}){return m(this)};h.initialised=function(){var e=this,i=e._settings;e.before();e.updateMediasetCallback&&e.updateMediasetCallback();for(var n=0;e.pluginsToLoad.length>n;n++){var a=e.pluginsToLoad[n];a.waitOnPluginLoad=i.waitOnPluginLoad;e.setData(a.data);this.loadPluginWithCheck(a,"loadPlugin2")}(i.playlistObject||i.playlist)&&e.loadPlaylist(!0);e.started(t.get())};return d});define("mp/classes/players/html5/smp-toucan",["jquery-1.9","mp/modules/device","mp/classes/settingsbuilder","mp/classes/players/player"],function(e,t,i,n){function a(n){var a=e.extend(!0,{},n);a._container=null;a.container=null;a.dispatch=null;a.init=null;a.trigger=null;a.initialisationListenerTimeout=null;a.embedReferer=document.referrer||"";a.mediator||(a.mediator={});a.mediator.mediaset=i.mediationUrls(a,a);var r=t.get();a.mobileNetwork=r.connection.mobile;a._demiIsUK=window.embeddedMedia.demi.isUK;return a}function r(){if(!window.customElements)return!1;if(!window.HTMLElement||!window.HTMLElement.prototype.attachShadow)return!1;if(!window.ResizeObserver)return!1;if(!window.PointerEvent)return!1;try{document.querySelector(":focus-visible")}catch(e){return!1}return!0}function o(e){return e.supportFakeFullscreen?!0:window.HTMLElement&&(window.HTMLElement.prototype.requestFullscreen||window.HTMLElement.prototype.webkitRequestFullscreen)?!0:!1}function s(e){var t=i.firstProgramme(e.playlistObject);return t&&"360"==t.kind?!0:void 0}function l(e){return(e.enableToucan||/ck[pn]s_smpj2Optin=optin/.test(document.cookie))&&!/ckps_smpj2Optin=optout/.test(document.cookie)}function d(){this.type="html";this.includePoster=!1;this.requireSonarJS=!0;return this}var c=d.prototype=new n;c._name="toucan";c.compatibility=function(e,t){return r()&&!s(e)&&o(e)&&(t||l(e))&&(location.hostname+"").indexOf(".oni._settings.domid};c.prepare=function(e){var t=e.html5Debug?"https://emp.bbci.co.uk/emp/toucan/bundle/1.21.2/debug/js/ToucanPlayer.js":"https://emp.bbci.co.uk/emp/toucan/bundle/1.21.2/live/js/ToucanPlayer.js",i=document.createElement("script");i.type="module";i.src=t;i.onload=function(){};document.head.appendChild(i)};c.embed=function(i,n){var r=this;r.css={"border-bottom":0,"z-index":999,position:"relative",height:"100%",width:"100%","padding-bottom":0};this._settings=i;this._container=i.container;window.customElements.whenDefined("smp-toucan-player").then(function(){r._container.empty();var o=r.getId();i.superResponsive&&(r.css["padding-bottom"]="56.25%");var s=r.wrapper=e("<div />").css(r.css).attr({id:o+"wrp"}).appendTo(r._container),l=document.createElement("smp-toucan-player");l.style.cssText="position:absolute;width:100%;height:100%;";r._version=l.version&&l.version.replace(/\.SMPToucan/i,"").replace(/[^\d\.]/gim,"");var d=window.embeddedMedia.language,c=r._settings.locale(),u=d.getList(c);l.language=u;r.toucan=l;r.toucan.id=o;var p=t.get();r.uiDefaults(p);r.toucan.settings=a(i);r._preInitPlaylist=r.toucan.settings.playlistObject;r.toucan.uiSettings=r.toucan.settings.ui;l.__bumpInit=function(){n(r,{markers:!0,queuedPlaylist:!0,previousPlaylist:!1,threeSixty:!1,inPage:!0,overlay:!0});r.before();r.toucan._eventBus.registerForPublic(function(t){var i=t.type,n=e.Event(i);for(var a in t)"type"!=a&&(n[a]=t[a]);r.processEvent(n,t,t.detail,e);switch(i){case"durationchange":r._duration=t.duration;break;case"volumechange":r._muted=t.muted;r._volume=t.volume;break;case"pause":r._ended=n.ended;break;case"mediaItemChanged":r._mediaItem=n.mediaItem;break;case"guidanceShow":r._gCalled=!0;window.embeddedMedia.parentalGuidance.show(t,r._settings.ui.colour,r._settings.locale())}r.sonar&&"Sonar"===t.type.substring(0,5)?r.sonar.eventHandler(t,r.sonar):r._settings.trigger(n)});r._settings.trigger({type:"initialised"});for(var a=0;i.plugins.toLoad.length>a;a++){var o=i.plugins.toLoad[a],s=o.html;s||o.playerOnly||(s=o.j2);if(s){var l={url:s,data:o.data,module:o.module};r.loadPluginWithCheck(l)}}if(r._preInitPlaylist){delete r._preInitPlaylist;r.loadPlaylist()}r.started(t.get())};s[0].appendChis.toucan[e](t)};c.resetForPlaylist=function(){this.toucan&&this.toucan.resetForPlaylist()};c.loadPlaylist=function(e){if(this.toucan){delete this._preInitPlaylist;e===!0&&(this._settings.nonUserBypass=!0);this.toucan.settings=a(this._settings);this._settings.nonUserBypass=!1;this.toucan.playlist=this._settings.playlistObject}};c.updateQualin.settings=a(e))};c.currentTime=function(e){"number"==typeof e&&(this.toucan.currentTime=e);return this.toucan.currentTime}an.uiSettings=e)};c.setPreviousPlaylist=function(e,t){this.toucan&&(this.toucan.previousItem={playlist:e,options:t})};c.queuePlaylist=function(e,t){this.toucan&&(this.toucan.queuedItem={playlist:e,options:t})};c.webcastData=function(e){if(this.toucan&&e){n.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};c.next=function(){this.toucan.next()};c.previous=function(){this.toucan.previous()};c.play=function(){this.toucan.play()};c.pause=function(){this.toucan.pause()};c.paused=function(){return this.toucan.paused};c.ended=function(){return this.toucans.toucan.seeking};c.playbackRate=function(e){"number"==typeof e&&(this.toucan.playbackRate=e);return this.toucan.playbackRate};c.volume=function(e){if(!isNaN(e)){this._volume=e;this.toucan&&(this.toucan.volume=e)}return this._volume};c.muted=function(e){"boolean"==typeof e&&(this.toucan.muted=e);return this.toucan.muted};c.dispatchEvent=function(e,t){this.toucan.dispatchEventToPlugins(e,t)};c.loadPlugin=function(e,t){if(e){var i=e.html;i||e.playerOnly||(i=e.j2);if(i){var n={url:i,data:t,module:e.module};if(this.toucan)this.loadPluginWithCheck(n);else{t&&(e.data=t);this._settings.plugins.toLoad.push(e)}}}};return d});define("mp/classes/players/app",["jquery-1.9","mp/modules/device","mp/classes/settingsbuilder","mp/classes/players/player"],audio"===e.kind)}function r(e,t){if(!e)return"00:00";if(isNaN(e)||0>e||e>36e4)return"";var i=Math.floor(e/60),n=Math.floor(i/60);i=Math.floor(i%60);var a=Math.floor(e%60);10>i&&(i="0"+i);10>a&&(a="0"+a);var r=[i,a];(n>0||t)&&r.unshift(n);t&&r.pop();return r.join(":")}function o(){var t=this,n=t._settings,o=n.ui.miniMode&&n.ui.miniMode.enabled;t._createdUI=e.extend(!0,{},n.ui);var c=!1,u=null;if(n.overrideCtaDuration)u=n.overrideCtaDuration;else{var f=i.firstProgramme(n.playlistObject);if(f){c=a(f);f.duration&&(u=r(f.duration,!1))}}if(!t.hasPlaylist())return!0;var h=(n.ui.colour+"").replace("0x","#").substring(0,7),y=t.css;n.superResponsive&&(y["padding-bottom"]="56.25%");t.wrapper||(t.wrapper=e("<div />").css(y));o?t.wrapper.addClass("minimode"):t.wrapper.removeClass("minimode");if(!n.backgroundPlayer){var v=window.embeddedMedia.players.length,b=e('<a id="cta'+v+'" class="p_cta"/>').attr({title:window.embeddedMedia.language.t("aaampPlay",n.locale())}),w=t._ctaClassName=n.ui[t.classStr]||n.ui.CTAcss;t.incGuidance=!0;var P=null;if(u&&n.ui.cta&&"duration"===n.ui.cta.mode){P=document.createElement("span");P.className="p_ctaDuration";P.textContent=u;b.append(P)}if(w){t.incGuidance=!1;b[0].className=w}else{m=n.ui.useHighResIcons;var k=n.ui.cta||{};k.ignoreAudio&&(c=!1);var _=s(n,m,c),C=l(m,P,o,c),x='url("'+g+_+'")';void 0!==k.custom&&(x='url("'+k.custom+'")');b.css({backgroundImage:x,backgroundPosition:C.ctaBackgroundPosition,backgroundRepeat:"no-repeat",backgroundColor:"#000000",backgroundSize:C.ctaBackgroundSize,opacity:.8,margin:0,width:C.ctaSize,height:C.ctaSize,display:"block",position:"absolute",bottom:"-0.5px"});if(P){var E=o?"6px":"8px",T=o?"60px":"80px";e(P).css({"font-size":"0.75rem","text-align":"center",position:"absolute",bottom:E,left:"0px",width:T,color:"#fff","background-colour":"transparent"})}t._container.on("mousedown touchstart mouseover focusin",function(){e(b).css({backgroundColor:h,opacity:1})});t._container.on("touchmove mouseup touchend m00",opacity:.8})})}if(n.includeAppClickHandler){var I,S=!1,M=function(){S=!1},D=function(){if(""===t.wrapper[0].style.display&&!S){t.sonar&&setTimeout(function(){n.trigger(e.Event("userPlay"));t.sonar.action("click","play",{mediaplayer_name:t.daxname,mediaplayer_type:"video"})},50);t.play();S=!0;clearTimeout(I);I=setTimeout(M,100)}};e(b).attr("tabIndex",0).on("keyup",function(e){(32==e.keyCode||13==e.keyCode)&&D()});t._container.on("click",D)}t.wrapper.append(b);t._container.empty().append(t.wrapper);if(t.incGuidance&&(!n.ui.guidance||n.ui.guidance.enabled!==!1)){var L=n.playlistObject&&(n.playlistObject.guidance||n.playlistObject.warning)||n.forceGuidance||n[t._guidance];if(L){var N=p(n,L);t.guidanceWrapper=d(N.gMessage,N.isWarning);t.wrapper.append(t.guidanceWrapper.div)}}return!1}t._container.empty().append(t.wrapper)}function s(e,t,i){var n=e.ui.cta||{};n.ignoreAudio&&(i=!1);var a="cta_play.png";t?a=i?"svg/white/audio.svg":"svg/white/play.svg":i&&(a="cta_play_audio.png");return a}function l(e,t,i,n){var a={ctaSize:i?"60px":"80px",ctaBackgroundSize:"52px 52px",ctaBackgroundPosition:"50% "+(t?"38%":"50%")};if(e){a.ctaBackgroundSize="60px 60px";t&&(a.ctaBackgroundPosition="10px 5px");if(i)if(n){t&&(a.ctaBackgroundPosition="7px 1px");a.ctaBackgroundSize="45px 45px"}else{t&&(a.ctaBackgroundPosition="10px 4px");a.ctaBackgroundSize="40px 40px"}else if(n){t&&(a.ctaBackgroundPosition="9px 4px");a.ctaBackgroundSize="62px 62px"}}else if(i)if(n){a.ctaBackgroundSize="22px 22px";t&&(a.ctaBackgroundPosition="50% 34%")}else a.ctaBackgroundSize="35px 35px";else n&&(a.ctaBackgroundSize="28px 28px");return a}function d(e,t,i){var n=document.createElement("div"),a=window.embeddedMedia.players.length,r=!i,o="",s=document.getElementsByClassName("p_cta")[0];s&&(o=window.getComputedStyle?window.getComputedStyle(s).direction:s.currentStyle.direction);var l="rtl"==o,d=l?"margin-right: 10px; ":"margin-right: -2px; ",u=l?"margin-right:10px;":"margin-left:10px;",p=l?"margin-right:80px;":"margin-left:80px;",f=l?"padding-left:30px;":"padding-right:30px;";n.id="p_guidance"+a;var h=document.createElement("div");h.id="p_guidanceBox"+a;h.className="p_guidanceBox";var y=document.createElement("span"),v=document.createElement("span"),b=t?"background-color:white; color:black;":"background-color:red;",w="display:inline-block;margin:auto;border-radius:50%;height:15px;width:15px;"+b+"position: relative; top:-2px;";if(m){y.id="p_guidanceG"+a;v.id="p_guidanceW"+a;y.style.backgroundImage='url("'+g+'svg/guidance.svg")';v.style.backgroundImage='url("'+g+'svg/warningGuidance.svg")';v.style.display=t?"inline-block":"none";y.style.display=t?"none":"inline-block";y.setAttribute("aria-labelledby","p_guidanceText"+a);v.setAttribute("aria-labelledby","p_guidanceText"+a);w="width:15px;height:15px;display:inline-block;position: relative; top: 2px;"+d}else{y.id="p_guidanceG"+a;var P=document.createElement("span");P.id="p_guidanceGText"+a;y.appendChild(P);P.textContent="G";P.setAttribute("aria-labelledby","p_guidanceText"+a)}h.appendChild(y);h.appendChild(v);var k=document.createElement("span");k.id="p_guidanceText"+a;k.textContent=e;h.appendChild(k);n.appendChild(h);var _=document.createElement("style"),C=document.getElementsByTagName("head")[0];C.appendChild(_);var x=_.sheet?_.sheet:_.styleSheet,E="position:absolute;height:80px;bottom:-0.5px;background-color: rgba(0, 0, 0, 0.7);"+p+"margin-top: -40px;display:table;"+f+"line-height:1";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&r?n.className+="font-family-sans":E+="; font-family:helvetica, Arial, sans-serif";c(x,"#p_guidance"+a,E,0);c(x,".minimode #p_guidance"+a,"left: 61px;height:60px;",1);c(x,"#p_guidanceBox"+a,"color:#ffffff;font-size:12px;font-weight:bold;padding-left:8px;display:table-cell;vertical-align:middle;",2);c(x,"#p_guidanceG"+a,w,3);c(x,"#p_guidanceW"+a,w,3);c(x,"#p_guidanceGText"+a,"position:relative;left:3px;top:1px;line-height:normal;",4);c(x,"#p_guidanceText"+a,u,5);return{text:k,div:n,id:a}}function c(e,t,i,n){e.insertRule?e.insertRule(t+"{"+i+"}",n):e.addRule&&e.addRule(t,i,n)}function u(e){this.immediate=!0;this._name=e;return this}function p(e,t){var i={gMessage:t,isWarning:!1};if(e.playlistObject){if(e.playlistObject.warning){i.gMessage=e.playlistObject.warning;i.isWarning=!0}if(e.playlistObject.guidance){i.gMessage=e.playlistObject.guidance;i.isWarning=!1}}return i}var m,f={position:"relative","z-index":1,height:"100%",width:"100%",cursor:"pointer","padding-bottom":0},g="https://emp.bbci.co.uk/emp/assets/2.0.27/",h=u.prototype=new n;h.createCta=o;h.css=f;h.embed=function(e,i){var n=this;n._settings=e;n._container=e.container;n._version=window.embeddedMedia.version;n.uiDefaults(t.get());n.ctaNeedsCreating=n.createCta();n.extraEmbed&&n.extraEmbed();i(n,n.capability);n.processPlaylist(null,!0);e.trigger("initialised");n.processPlaylist()};h.show=function(e){this.wrapper.children().show();e&&thhildren().hide()};h.setLocation=function(i){var n=this._settings;if(n.insideIframe){var a=e.Event("navigateTo");a.href=i;n.trigger(a)}else{try{var r=""===top.location.href&&!1}catch(o){r=!0}t.requiresWindowOpenSMPAirLaunch||r?window.open(i):top.location=e.playlistObject};h.updateUiConfig=function(){var e=this,t=e._createdUI||{},i=e._settings.ui,n=!1,a=t.miniMode&&t.miniMode.enabled,r=i.miniMode&&i.miniMode.enabled;if(a!=r)n=!0;else if(t.colour!=i.colour)n=!0;else{var o=i[e.classStr]||i.CTAcss;e._ctaClassName!=o&&(n=!0)}if(n){this.wrapper&&this.wrapper.empty();this.createCta()}};h.processPlaylist=function(t,i){var n=this,a=n._settings,r=t||a.playlistObject;if(r){n.playlist=e.extend(!0,{},r);var o=n.playlist.items;if(o)for(var s=o.length-1;s>=0;s--){var l=o[s];n.filterPlaylist&&("ident"==l.kind||"advert"==l.kind||"360"==l.kind)&&o.splice(s,1);if(l.versionID)l.vpid=l.versionID;else if(l.serviceID){l.vpid=l.serviceID;l.live=!0;n.playlist.simulcast!==!1&&(n.playlist.simulcast=!0)}l.identifier=l.vpid}if(!i){var d=e.Event("playlistLoaded");d.playlist=n.playlist;a.trigger(d)}}else n.playlist=null};h.next=function(){var t=this,i=t.playlist;if(i)if(i.items&&i.items.length>1)i.items.shift();else if(i.queuedPlaylist){t.processPlaylist(i.queuedPlaylist);var n=t._settings;n.playlist="";n.playlistObject=i.queuedPlaylist;n.webcastData={};n.overrideHoldingImage=null;n.statsObject.parentPID=void 0;n.statsObject.parentPIDType=void 0;n.statsObject.episodePID=void 0;n.statsObject.clipPID=void 0;n.statsObject.brandPID=void 0;n.statsObject.seriesPID=void 0;n.statsObject.playlistLabels=void 0;n.statsObject.playlistName=void 0;i.queuedOptions&&e.extend(!0,n,i.queuedOptions);t._statsObject=e.extend(!0,{},n.statsObject)}};h.loadPlaylist=function(){var e=this,t=e._settings,i=window.embeddedMedia.parentalGuidance;i.setUnder16Permission(!1);if(e.ctaNeedsCrng=e.createCta()},100);else if(e.incGuidance&&(!t.ui.guidance||t.ui.guidance.enabled!==!1)){var n=t.playlistObject&&(t.playlistObject.guidance||t.playlistObject.warning)||t.forceGuidance||t[e._guidance];if(n){var a=p(t,n);if(e.guidanceWrapper){if(m){var r=document.getElementById("p_guidanceG"+e.guidanceWrapper.id),o=document.getElementById("p_guidanceW"+e.guidanceWrapper.id);if(a.isWarning){o.style.display="inline-block";r.style.display="none"}else{o.style.display="none";r.style.display="inline-block"}}else{var s=document.getElementById("p_guidanceGText"+e.guidanceWrapper.id),l=document.getElementById("p_guidanceG"+e.guidanceWrapper.id);if(a.isWarning){s.style.color="black";l.style.backgroundColor="white"}else{s.style.color="white";l.style.backgroundColor="red"}}e.guidanceWrapper.div.style.display="";e.guidanceWrapper.text.textContent=a.gMessage}else{e.guidanceWrapper=d(a.gMessage,a.isWarning,t.ui.disableReithFonts);e.wrapper.append(e.guidanceWrapper.div)}}else if(e.guidanceWrapper){e.guidanceWrapper.div.style.display="none";e.guidanceWrapper.text.textContent=""}}e.processPlaylist();t.autoplay&&e.play();e.resetContainer&&e.resetContainer();e.setPoster()};return u});define("mp/classes/players/apps/smp-phantom",["mp/classes/players/app","mp/modules/devicTOM";return this}var n=i.prototype=new e("smp-phantom");n._name="smp-phantom";n.play=function(){};n.compatibility=function(e){return e.phantomPlayer===!0||e.backgroundPlayer&&!t.get().useOpaque};return i});define("mp/modules/players",["mp/classes/players/html5/smp-html5","mp/classes/players/html5/smp-toucan","mp/classes/players/ai){return[i,t,e]});define("mp/classes/players/html5/smp-html-background",["jquery-1.9","mp/modules/device","mp/modules/html5","mp/classes/settingsbuilder"],function(e,t,i,n){function a(){this.type="html";this.includePoster=!1;this.backgroundPlayer=null;return this}var r=a.prototype;r._name="smp-html-background";r.compatibility=function(e){return e.backgroundPlayer&&i.media.video&&!e.disableHtml?!0:!1};r.updateMediaset=function(){this.backgroundPlayer&&this.backgroundPlayer.determinedConnectionCallback()};r.embed=function(e,t){var i=this;n.mediationUrls(e,e,!0);i._settings=e;i._container=e.container;i._container.empty();var a=e.html5Debug?"https://emp.bbci.co.uk/emp/htmlbackground/1.0.6/backgroundplayer.js":"https://emp.bbci.co.uk/emp/htmlbackground/1.0.6/backgroundplayer.min.js";require([a],function(n){i.backgroundPlayer=new n(i._container[0],e,i);t(i,{markers:!1,queuedPlaylist:!1,inPage:!0,chromecast:!1,overlay:!1})}(this._settings)};r.play=function(){this.backgroundPlayer&&this.backgroundPlayendPlayer.pause()};r.muted=function(e){return this.backgroundPlayer?this.backgroundPlayer.muted(e)volume(e):void 0};r.trigger=function(t){if(t.type){var i=t.type;delete t.type;var n=e.Event(i,t);this._container.trigger(n)}};return a});define("mp/classes/decisionengine",["mp/modules/device","mp/modules/players","mp/classes/players/html5/smp-html-background","mp/classes/players/html5/smp-html5","mp/classes/players/html5/smp-toucan"],function(e,t,i,n,a){function r(e){this.setSettings(e);return this}r.prototype={setSettings:function(r){var o=this;o._settings=r;var s=e.get(),l="";try{l=document.cookie+""}catch(d){}var c=l.match(/bbcBumpForcePlayer=(.*?)(?:;|$)/),u=c&&c.length?c[1]:"";if(r.backgroundPlayer)o.Class=i;else if(r.threeSixty)(s.support360||/force360Support=true/i.test(l))&&(o.Class=n);else if(r.forceToucan)o.Class=a;else if(!r.showUnsupportedMessage||""!==u)for(var p=0;t.length>p;p++){var m=t[p];if(u==m.prototype._name||""===u&&m.prototype.compatibility(r)){""!==u&&(r.playerWasForced=!0);o.Class=m;break}}o.Class&&o.Class.prototype.prepare&&o.Class.prototype.prepare(r)},decide:function(){var e=this;if(e.Class){e.player=new e.Class;e.name=e.player._name}else e.name=null;return e.player}};return r});define("mp/libs/securehash",["mp/libs/secure(e),8*e.length))}function t(e){for(var t,i="0123456789abcdef",n="",a=0;e.length>a;a++){t=e.charCodeAt(a);n+=i.charAt(t>>>4&15)+i.charAt(15&t)}return n}function i(e){for(var t,i,n="",a=-1;++a<e.length;){t=e.charCodeAt(a);i=e.length>a+1?e.charCodeAt(a+1):0;if(t>=55296&&56319>=t&&i>=56320&&57343>=i){t=65536+((1023&t)<<10)+(1023&i);a++}127>=t?n+=String.fromCharCode(t):2047>=t?n+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t))}return n}function n(e){for(var t=Array(e.length>>2),i=0;t.length>i;i++)t[i]=0;for(i=0;8*e.length>i;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}function a(e){for(var t="",i=0;32*e.length>i;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}function r(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(var i=Array(80),n=1732584193,a=-271733879,r=-1732584194,c=271733878,u=-1009589776,p=0;e.length>p;p+=16){for(var m=n,f=a,g=r,h=c,y=u,v=0;80>v;v++){i[v]=16>v?e[p+v]:d(i[v-3]^i[v-8]^i[v-14]^i[v-16],1);var b=l(l(d(n,5),o(v,a,r,c)),l(l(u,i[v]),s(v)));u=c;c=r;r=d(a,30);a=n;n=b}n=l(n,m);a=l(a,f);r=l(r,g);c=l(c,h);u=l(u,y)}returne<<t|e>>>32-t}reeturn t(e(i(n)))}}});define("mp/classes/parentalguidance",["mp/libs/securehe.returnValue=!1}function i(e){if(e.addEventListener){Q.push(e);e.addEventListener("keydown",a)
}}function n(){for(var e=0;Q.length>e;e++)Q[e].removeEventListener(n r(){return!!q}function o(){F="true"==d(Y,"pgAgeConfirm");q=d(Y,"pgPIN");V="true"==d(Y,"pgUnlocked")}function s(e,t){H=[];F=!1;this.closedCallbacks=[];this.updateCallbacks=[];this.openedCallbacks=[];$=e||{noPlayerAction:function(){}};this.guidance={};this.isOver16=t.over16;this.isUnder16=t.under16;t.over16&&t.under16&&(this.isOver16=!1);K=t;this.usingReith=!1;this.reithEnabled=!K.ui.disableReithFonts;o();this._isLocked=r()&&!V;U=window.embeddedMedia.language;this.updateGuidanceState();return this}function l(e,t){var i=document.getElementById(e),n=function(){i.style.transition="0.3s";t?i.style.backgroundColor=K.ui.guidance.pgColour:i.style.color=K.ui.guidance.pgColour},a=function(){i.style.transition="0.3s";t?i.style.backgroundColor=K.ui.guidance.pgBackgroundColour:i.style.color="#ffffff"};i.onmouseover=i.onfocus=n;i.onmouseout=i.onblur=a}function d(e,t){try{var i=document.cookie}catch(n){i=""}var a=i.indexOf(e+t+"=");if(a==-1)return null;a=i.indexOf("=",a)+1;var r=i.indexOf(";",a);r==-1&&(r=i.length);return unescape(i.substring(a,r))}function c(e,t,i,n){var a=new Date;a.setTime(a.getTime()+15552e6*(n?-1:1));if(!n){a.setDate(15);a.setHours(12);a.setMinutes(0);a.setSeconds(0)}var r="; expires="+a.toGMTString(),o=location.hostname;o.indexOf(".bbc.co.uk")!==-1&&(o=".bbc.co.uk");o.indexOf(".bbc.com")!==-1&&(o=".bbc.com");try{document.cookie=e+t+"="+escape(i)+r+"; Domain="+o+"; Pild(e.lastChild)}function p(e,i){H.push(e);e.setAttribute("tabindex","0");e.onkeydown=function(i){i=i||window.event;var n=i.keyCode||i.which;if(9==n||13==n){t(i);if(9==n){var a=H.length-1;G=i.shiftKey?0===G?a:G-1:G===an(){H[G].focus()},200){z=!0;e.click()},200)}};if(i){G=H.length-1;e.focus()}}function m(){G=0;H=[];p(B)}function f(e,t,i){t&&i&&i.isUnder16&&(F=!1);var n="";if(F){e.style.backgroundPosition="center";n=U.t("pgAriaAgeConfirmCheckBox",j)}else{e.style.backgroundPosition="-30px";n=U.t("pgAriaAgeConfirmCheckBoxUnchecked",j)}e.setAttribute("aria-label",n);e.textContent=e.innerText=n}function g(e,t,i){var n=document.getElementById("pgErrorMessage");if(n)u(n);else{n=document.createElement("div");n.id="pgErrorMessage";var a=n.style;a.width=O.style.width;a.backgroundColor=K.ui.guidance.pgSeparatorColour;a.marginTop="15px";a.marginBottom="5px";a.left="-26px";a.position="relative"}i?e.insertBefore(n,e.firstChild):e.appendChild(n);var r=document.createElement("div"),o=r.style;o.fontSize="14px";o.position="relative";o.width="100%";o.color="#ffffff";o.fontSize="11px";o.textAlign="center";o.paddingTop=o.paddingBottom="10px";r.innerHTML='<span style="display:inline-block;  background-image: url(https://emp.bbci.co.uk/emp/assets/2.0.27/alert-color.png); background-repeat: no-repeat; background-size: 100% 100%; margin-right:5px; width:15px; height:13px;"></span>'+t;n.appendChild(r)}function h(e){if(N)return!1;N=document.createElement("div");N.setAttribute("tabindex","0");N.id="parentalGuidanceBackground";N.className="smpPG";var n=N.style;n.width=n.height="5000px";n.left=n.top="-500px";n.zIndex="2147483600";n.backgroundColor="#333333";n.filter="alpha(opacity=85)";n.opacity=.85;O=document.createElement("div");O.id="guidancePopup";O.setAttribute("role","alertdialog");O.setAttribute("aria-labelledby","pgHeaderTitle");O.className="smpPG";var a=O.style;a.position=n.position="fixed";if(400>window.innerWidth){a.width=window.innerWidth-20+"px";a.left="10px"}else{a.width="390px";a.left=(window.innerWidth-390)/2+"px"}if(window.innerHeight>350){a.top="50%";a.marginTop="-175px"}else{a.top="5px";a.marginTop="0px"}a.lineHeight="normal";a.verticalAlign="middle";a.color="white";a.zIndex="2147483600";a.backgroundColor=K.ui.guidance.pgBackgroundColour;a.textAlign="left";if(document.documentElement.className.indexOf("b-reith-sans-font")>=0&&e.reithEnabled){O.className+=" font-family-sans";e.usingReith=!0}else a.fontFamily="helvetica, Arial, sans-serif";document.body.appendChild(N);document.body.appendChild(O);O.onkeydown=function(t){t=t||window.event;var i=t.keyCode||t.which;27===i&&e.close(!1)};var r=document.createElement("div");r.id="guidanceContainer";r.style.paddingRight=r.style.paddingLeft="26px";r.style.textAlign="center";O.appendChild(r);var o=document.createElement("div");o.id="pgHeaderTitle";o.style.height="42px";o.style.position="relative";o.style.marginTop="35px";r.appendChild(o);var s=document.createElement("span");s.innerHTML=U.t("pgHeader",j);s.id="pgHeader";s.style.fontSize="24px";s.style.color=K.ui.guidance.pgColour;o.appendChild(s);A=document.createElement("div");A.id="guidanceBody";A.style.position="relative";A.style.width="100%";r.appendChild(A);R=document.createElement("div");R.id="guidanceFooter";var l=R.style;l.width="100%";l.height="42px";l.bottom="0px";l.display="table";l.textAlign="center";O.appendChild(R);B=document.createElement("a");B.setAttribute("aria-label",U.t("pgClose",j));B.id="pgExit";var d=B.style;B.title=U.t("pgClose",j);d.position="absolute";d.right=d.top="12px";d.cursor="pointer";d.width=d.height="18px";d.backgroundImage="url(https://emp.bbci.co.uk/emp/assets/2.0.27/GEL_Remove_icon.png)";d.backgroundRepeat="no-repeat";O.appendChild(B);i(B);var c=!1;setTimeout(function(){c=!0},500);B.onclick=function(i){if(c){i=i||window.event;t(i);C(!1,this.id);e.close(!1)}};return!0}function y(e){var t=document.createElement("div"),i=t.style;i.marginTop="-1px";i.position="absolute";i.width="100%";i.height="1px";i.backgroundColor=K.ui.guidance.pgSeparatorColour;e.appendChild(t)}function v(e,t){function n(){if(s){C(!1,a.id);d()}}var a=document.createElement("a");a.id=t.id;a.textContent=a.innerText=t.text;a.setAttribute("aria-label",t.text+" button");var r=a.style;r.cursor="pointer";try{r.display="table"}catch(o){r.display="block"}r.verticalAlign="middle";r.width="100%";r.lineHeight="3.5";r.fontSize="14px";r.color="#ffffff";r.backgroundColor=K.ui.guidance.pgBackgroundColour;R.appendChild(a);l(t.id,!0);i(a);var s=!1;setTimeout(function(){s=!0},500);var d=t.clickFunction;a.onclick=n;p(a,t.focus);return a}function b(e,t,i){u(R);y(R);var n=v(e,t);if(i){n.style.borderBottom="1px solid "+K.ui.guidance.pgSeparatorColour;v(e,i)}}function w(e,t){u(A);m();var i=document.createElement("div");i.id="guidanceMessage";var n=i.style;n.marginTop="15px";n.marginBottom="5px";n.width="100%";n.position="relative";n.fontSize="13px";A.appendChild(i);P("newAgeConfirmationTitle");var a=document.createElement("div");a.id="guidanceG";var r=a.style;r.display="inline-block";r.margin="auto";r.borderRadius="50%";r.width=r.height="15px";r.backgroundColor="red";r.position="relative";r.top="-2px";r.fontSize="12px";e.usingReith&&(r.lineHeight="1px");i.appendChild(a);var o=document.createElement("span");o.innerHTML="G";var s=o.style;s.lineHeight="normal";s.position="relative";s.left="-0.5px";s.top="1px";s.color="#ffffff";s.fontFamily="Arial, Helvetica, freesans, sans-serif";e.usingReith&&(s.left="0");a.appendChild(o);var l=document.createElement("span");l.id="guidanceText";l.textContent=l.innerText=t;if(e.isUnder16){l.appendChild(document.createElement("br"));l.appendChild(document.createElement("br"));var d=document.createElement("span");d.textContent=d.innerText=U.t("newUnder16WithPermission",j);l.appendChild(d)}s=l.style;s.left="0px";s.top="16px";s.marginLeft="5px";s.lineHeight="16px";s.color="#b2b7c4";i.appendChild(l);var c=document.createElement("div");c.id="ageConfirm";var h=c.style;h.width="100%";h.height="57px";h.position="relative";h.fontSize="14px";h.color="#ffffff";h.display="-ms-inline-flexbox";h.justifyContent="center";A.appendChild(c);var y=document.createElement("button");y.id="ageConfirmCheck";var v=y.style;v.background="url(https://emp.bbci.co.uk/emp/assets/2.0.27/tick.png) no-repeat center";v.backgroundPosition="-30px";v.position="absolute";v.top="16px";v.height=v.width="25px";v.verticalAlign="middle";v.cursor="pointer";v.backgroundColor="#ffffff";v.borderWidth="0";v.textIndent="-9999px";v.whiteSpace="nowrap";v.overflow="hidden";c.appendChild(y);p(y,!0);f(y,!0,e);var w=document.createElement("span");w.innerHTML=e.isUnder16?U.t("newPgAgeConfirmationUnder16",j):U.t("pgAgeConfirmation",j);w.style.position="relative";w.style.top="20px";w.style.marginLeft="35px";c.appendChild(w);var _=!1;setTimeout(function(){_=!0},500);y.onclick=function(){if(_){F=!F;f(y)}};var C=function(){if(e.isUnder16&&F){e.storeAgeConfirmation();e.setUnder16Permission(!0);e.updateGuidanceState();e.close(!0)}else if(F)k(e);else{var t=e.isUnder16?U.t("pgUnder16PermissionValidationError",j):U.t("pgPasswordValidationError",j);g(i,t,!1)}},x=e.isUnder16?U.t("newPgPlay",j):U.t("pgContinue",j);b(e,{id:"pgAgeContinue",text:x,clickFunction:C})}function P(e){var t=document.getElementById("pgHeader");t.textContent=t.innerText=U.t(e,j)}function k(e){u(A);m();var t=document.createElement("div");t.setAttribute("role","alertdialog");t.setAttribute("aria-labelledby","pgInfoHeader");t.setAttribute("aria-describedby","pgInfo");t.style.marginBottom="24px";A.appendChild(t);P("newPgTurnOnParentalGuidance");if(W)var n="pgInfo",a="pgUnlock";else{var r=e._intent;if("download"==r){n="pgInfoPlusDownload";a="pgDownload"}else if("play"==r){n="pgInfoPlusPlay";a="newToolTipPlay"}else{n="pgInfo";a=r}}var o=document.createElement("div");o.id="infoLinkContainer";var s=document.createElement("div");s.style.color="#b2b7c4";var d=U.t("notSuitableForChildMessage",j)+'</br> </br>  <a id="pgLink" target="_blank" style="color:#ffffff; text-decoration:none; font-size:0.9em;" href="//www.bbc.co.uk/iplayer/guidance">'+' <div style="display:inline-block; margin-right: 5px; color:black; font-weight:bold; width:13px; height:13px; background-color:white; border-radius:50px;font-family: Arial, Helvetica, freesans, sans-serif;">i</div>'+U.t("findOutMore",j)+"</a> ",c=document.createElement("div");c.id="pgInfo";c.style.fontSize="13px";c.style.color="#868686";c.style.marginTop="35px";t.appendChild(c);c.appendChild(o);o.style.margin=" 0 auto";o.appendChild(s);s.innerHTML=d;var f=document.getElementById("pgLink");f.setAttribute("aria-label",U.t("findOutMore",j));f.style.outline="none";i(f);s.style.display="inline-block";o.style.textAlign="center";var g=c.getElementsByTagName("p");if(g)for(var h=0;g.length>h;h++){g[h].style.color="#868686";g[h].style.fontSize="13px"}var y=document.getElementById("pgLink"),v=!1;setTimeout(function(){v=!0},500);y.onclick=function(){return v};p(y,!0);var w=function(){if(v){e.storeAgeConfirmation();E(e)}},k=function(){if(v){e.storeAgeConfirmation();e.close(!0)}},_={id:"pgTurnOn",text:U.t("newPgTurnOn",j),clickFunction:w},C={id:"toolTipPlay",text:U.t(a,j),clickFunction:k};b(e,_,W?null:C);l("pgLink")}function _(e){var t=document.createElement("div");t.id="pinEntry";t.style.width="100%";t.style.height="40px";t.style.marginBottom="20px";e.appendChild(t);var i=document.createElement("input");i.id="pinEntryInputBox";var n=i.style;i.setAttribute("maxlength",4);n.letterSpacing="5px";n.display="block";n.margin="0 auto";n.height="100%";n.width="60%";n.padding="0px";n.resize="none";n.color="#868686";n.fontSize="30px";n.textAlign="center";i.setAttribute("type","password");i.pattern="[0-9]*";t.appendChild(i);return i}function C(e,t){$.noPlayerAction(z||e?"key_press":"click",t,null,K);z=!1}function x(e,t){var i=!1,n=function(n){n=n||window.event;var a=n.keyCode||n.which;if(13===a&&i){C(!0,e.id);setTimeout(t,300)}};setTimeout(function(){i=!0},400);e.addEventListener?e.addEventListener("keyup",n):e.onkeyup=n}function E(e){u(A);m();P("newPgTurnOnParentalGuidancePINsection");var t=document.createElement("div");t.id="activatePIN";t.style.marginTop="35px";t.style.fontSize="14px";t.style.color="#ffffff";A.appendChild(t);var i=document.createElement("span");i.innerHTML=U.t("newPgEnterPIN",j);i.style.fontSize="14px";i.style.color="#ffffff";t.appendChild(i);var n=document.createElement("div");n.innerHTML='<span style="color:#b2b7c4;">'+U.t("newPgActivateInfo",j)+"</span>";n.id="activatePINInfo";n.style.marginTop="10px";n.style.marginBottom="24px";n.style.fontSize="14px";n.style.color="#868686";A.appendChild(n);var a=_(A);a.setAttribute("aria-label",U.t("pgAriaPINEntryDescription",j)+"."+U.t("pgAriaPINPrompt",j));p(a,!0);var r=function(){if(/^\d{4}$/.test(a.value)){e.setPIN(a.value);e.setLocked(W);e.close(!W)}else{a.value="";g(n,U.t("newPgPINvalidationError",j),!1);a.focus()}},o=M(e._intent,"pgActivate");x(a,r);b(e,{id:"pgActivate",text:U.t(o,j),clickFunction:r})}function T(e,t){var n=document.createElement("div");n.style.marginBottom="20px";n.style.width="100%";n.style.height="15px";e.appendChild(n);var a=document.createElement("a");a.setAttribute("target","_blank");a.setAttribute("href","//www.bbc.co.uk/iplayer/guidance");a.id="manageLock";a.innerHTML=t;a.style.color="#ffffff";a.style.textDecoration="none";a.style.width="100%";a.style.fontSize="12px";a.style.bottom="0px";a.style.textAlign="center";n.appendChild(a);l("manageLock");i(a);return a}function I(e){u(A);m();P("newPgTurnOnParentalGuidanceInsertPIN");var t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("span"),a=document.createElement("div");a.id="needPINinfo";t.id="enterPIN";n.innerHTML=U.t("newPgEnterPINprompt",j);t.style.marginTop=t.style.paddingBottom="16px";t.style.width="100%";t.style.position="relative";t.style.fontSize=n.style.fontSize="14px";n.style.color="#ffffff";t.style.marginTop=330>O.offsetWidth?"25px":"5px";A.appendChild(t);t.appendChild(i);i.appendChild(n);t.appendChild(a);a.innerHTML=U.t("newPgEnterPINinfo",j);a.style.color="rgb(134, 134, 134)";a.style.marginTop="15px";var r=_(A);r.setAttribute("aria-label",U.t("pgAriaPINEntryDescription",j)+"."+U.t("newPgEnterPINprompt",j));p(r,!0);var o=T(A,U.t("newPgManageYourPIN",j));p(o);o.onclick=function(){return s};va(function(){s=!0},500);var l=function(){if(s)if(e.verifyPIN(r.value)){W&&c(Y,"pgUnlocked","true");e.isUnder16&&e.setUnder16Permission(!0);e.setLocked(!1);e.close(!0)}else{r.value="";g(a,U.t("newPgIncorrectPIN",j),!1);r.focus()}};x(r,l);var d=M(e._intent,"pgUnlock");b(e,{id:"pgTurnOff",text:U.t(d,j),clickFunction:l})}function S(){Z++;clearTimeout(J);J=setTimeout(D,100);setTimeout(L,300)}function M(e,t){return W?t:"download"==e?"pgDownload":"play"==e?"toolTipPlay":e}function D(){if(N){var e=N.style;e.left=e.top="-500px";e.height=e.width="5000px"}if(O){var t=Math.floor(window.innerWidth/2-O.offsetWidth/2);(0>t||Z>0)&&(t=0);window.innerWidth>=400&&(O.style.left=t+"px");var i=window.innerHeight-O.offsetHeight;if(window.innerHeight>=O.offsetHeight){var n=Math.floor(i/2);(Z>0||5>n)&&(n=5)}else n=2;O.style.marginTop="0px";O.style.top=n+"px"}}function L(){var e=document.getElementById("pgHeader"),t=document.getElementById("pgInfo"),i=document.getElementById("pgHeaderTitle"),n=document.getElementById("enterPIN"),a=document.getElementById("pinEntry"),r=document.getElementById("pgErrorMessage"),o=document.getElementById("needPINinfo"),s=document.getElementById("activatePIN"),l=document.getElementById("activatePINInfo"),d=document.getElementById("pinEntryInputBox");if(O.offsetHeight>window.innerHeight){t&&(t.style.marginTop="10px");O.style.width=window.innerWidth-20+"px";e.style.fontSize="22px";O.style.left="10px";if(i){i.style.marginTop="10px";i.style.height="35px"}s&&(s.style.marginTop="0");if(n){n.style.marginTop=330>O.offsetWidth?"25px":"5px";n.style.marginBottom="5px";n.style.paddingBottom="0"}a&&(a.style.marginBottom="10px");d&&(d.style.width="30%");if(r){r.style.marginTop="5px";r.style.width=window.innerWidth-20+"px";r.style.marginLeft="0px";r.style.left="-26px";l&&(l.style.marginBottom="5px")}if(o){o.style.marginTop="5px";o.style.marginBottom="5px"}}else{O.style.left=(window.innerWidth-O.offsetWidth)/2+"px";if(i){i.style.marginTop="35px";i.style.height="42px"}s&&(s.style.marginTop="35px");a&&(a.style.marginBottom="15px");d&&(d.style.width="60%");if(420>window.innerWidth){O.style.width=window.innerWidth-20+"px";O.style.left="10px";t&&(t.style.marginTop="35px");if(r){r.style.marginTop="15px";r.style.width=window.innerWidth-20+"px";r.style.marginLeft="0px";r.style.left="-26px";l&&(l.style.marginBottom="24px")}}o&&(o.style.marginTop="15px");if(n){n.style.marginTop=330>O.offsetWidth?"25px":"5px";n.style.paddingBottom="16px"}}}var N,O,A,R,B,j,U,G,H,F,W,z,q,V,$,K,J,Y="ckns_",Q=[],X=!1,Z=0;s.prototype={show:function(e,i,n,a){var s=this;j=n;o();e||(e={});W=e.lockClicked;s._intent=e.intent||"play";window.embeddedMedia.opened({type:"guidanceShown",intent:s._intent});if(a)for(var l=0;s.openedCallbacks.length>l;l++)s.openedCallbacks[l]();var d=F&&(!r()||!s._isLocked);s.isOver16&&(F=!0);if(!d||W||s.isUnder16){if(h(s)){r()&&!V&&!this.guidance.under16permissionConfirmed&&this._isLocked?I(s):W&&d||s.isOver16?k(s):w(s,e.guidance);document.body.addEventListener&&document.body.addEventListener("touchmove",t);Z=0;if(window.addEventListener){window.addEventListener("resize",D);window.addEventListener("orientationchange",S)}}}else s.close(!0)},close:function(e,i){var a=this;document.body.removeEventListener&&document.body.removeEventListener("touchmove",t);if(window.removeEventListener){window.removeEventListener("resize",D);window.removeEventListener("orientationchange",S)}n();if(N){N.parentNode.removeChild(N);N=void 0}if(O){O.parentNode.removeChild(O);O=void 0}if(!i){var r={type:"guidanceClosed"};r.success=e;window.embeddedMedia.closed(r);for(var o=0;a.closedCallbacks.length>o;o++)a.closedCallbacks[o](e)}},setPIN:function(t){q=e.generateHash("smpembed"+t);c(Y,"pgPIN",q)},setLocked:function(e,t){if(t){c(Y,"pgUnlocked",e?"":"true");V=!e}this._isLocked=e;this.updateGuidanceState()},verify:function(e,t){var i=this.verifyPIN(e.verifyPIN);if(i){this.setLocked(!1);e.lockClicked&&c(Y,"pgUnlocked","true")}t(i)},verifyPIN:function(t){return e.generateHash("smpembed"+t)===q},setAgeConfirmation:function(e){F=e;this.storeAgeConfirmation()},storeAgeConfirmation:function(){if(!this.isUnder16){c(Y,"pgAgeConfirm",F);this.setLocked(!0)}},seteGuidanceState()},updateGuidanceState:function(){var e=this.guidance;e.isGuidanceLocked=this._isLocked&&r()&&!V;e.hasGuidancePIN=r();e.guidanceSkipped=F&&!r();e.guidancePINPassed=!this._isLocked&&r();e.under16permissionConfirmed=X;e.canPlay=e.guidanceSkipped||e.hasGuidancePIN&&e.guidancePINPassed||V;!this.isUnder16||e.isGuidanceLocked&&!e.guidancePINPassed||e.under16permissionConfirmed||(e.canPlay=!1);for(var t=0;this.updateCallbacks.length>t;t++)this.updateCallbacks[t](e)}};return s});define("mp/classes/sonarreporter",[],function(){function e(e,t){t=t||{};try{var i=[];if(e.media){var n=e.media.getVersionId()||e.media.getServiceId()||e.media.getVpId()||e.media.getNonPipsContentId();n&&i.push("PID="+n)}if(e.player){var a=e.player;t.includeVolume&&i.push("VOL="+(11*a.volume()).toFixed(0));if(t.playState!==!1){var r="unknown",o=a.player;o._seeking?r="seeking":o._ended&&(r="ended");"unknown"==r&&(o._paused?r="paused":o._playing&&(r="playing"));i.push("PST="+r)}delete t.playState;delete t.time}}catch(s){}t.metadata||(t.metadata=i.join("~").substr(0,250));return t}function t(){var e=this;this.duration=0;this.isLive=!1;this.hasPlayed=!1;this.hasSetMediaItem=!1;return e}function i(e,t){for(var i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(t[i]=e[i]);return t}function n(e){var t="",i=!1;try{t=document.cookie+""}catch(n){}var a=t.indexOf("ckns_policy="),r=t.indexOf("ckns_explicit=1");if(a>=0&&r>=0){var o=t.substr(a+14,1);"1"===o&&(i=!0)}var s=!1,l=e.counterName+"";l.indexOf("iplayer.tv")>=0&&(s=!0);return i&&e.enableBarbReporting&&s}function a(e,t){if(o){t||(t={connections:[]});e.end();e.durationSet=!1;e.isLive=t.isLive;var i=e.isLive?d.MediaConsumptionMode.LIVE:d.MediaConsumptionMode.ON_DEMAND,n="audio"==t.type?d.AvType.AUDIO:d.AvType.VIDEO,a=e.player.player._statsObject||{};a.overrideConsumptionMode&&(i=a.overrideConsumptionMode);var s=e.media=new r(n,i),l=t.identifier,c=t.versionID,u=t.serviceID;a.overrideVersionPID&&(c=a.overrideVersionPID);if(l){if(!c&&!u){s.setVpId(l);e.isLive?s.setServiceId(l):s.setVersionId(l)}}else if(a.nonPipsContentId)s.setNonPipsContentId(a.nonPipsContentId);else if(a.playlistURL){var p=(a.playlistURL+"").replace(/\W+/gim,"-");s.setNonPipsContentId(p)}c&&s.setVersionId(c);u&&s.setServiceId(u);e.playlistName&&s.setPlaylist(e.playlistName);e.title&&s.setName(e.title);if(e.parentPID){e.parentPIDType==d.PIPsType.EPISODE&&s.setEpisodeId(e.parentPID);e.parentPIDType==d.PIPsType.CLIP&&s.setClipId(e.parentPID)}if(e.episodePID){s.setType(d.PIPsType.EPISODE);s.setEpisodeId(e.episodePID)}if(e.clipPID){s.setType(d.PIPsType.CLIP);s.setClipId(e.clipPID)}e.brandPID&&s.setBrand(e.brandPID);e.seriesPID&&s.setSeries(e.seriesPID);var m=e.player.player.playlist;m&&m.masterbrand&&m.masterbrand.id&&s.setProducerByMasterbrand(m.masterbrand.id);a.producer&&s.setProducer(a.producer);a.wsPartnerId&&s.setWsPartnerId(a.wsPartnerId);a.castingDeviceReferrer&&s.setCastingDeviceReferrer(a.castingDeviceReferrer);m&&m.hasAds&&s.setAdsEnabled(!0);e.player._settings.embeddedOffsite&&s.setIsEmbedded(!0);try{e.echo.setMedia(s);e.hasSetMediaItem=!0}catch(f){e.hasSetMediaItem=!1}}else e.delayedMediaSet=!0}var r,o,s,l,d={WindowState:{}};t.prototype={initComplete:function(e){var t=this;if(!t.delayed){t.delayed=[];var i=function(e){return function(){var i=argumen.apply(t.echo,i)})}};t.echo={userActionEvent:i("userActionEvent"),setMedia:i("setMedia"),setMediaPlayer:i("setMediaPlayer"),setMediaLength:i("setMediaLength"),setPlayerVersion:i("setPlayerVersion"),setPlayerName:i("setPlayerName"),setCounterName:i("setCounterName"),setPlayerIsSubtitled:i("setPlayerIsSubtitled"),setPlayerLocation:i("setPlayerLocation"),setPlayerPlaybackSpeed:i("setPlayerPlaybackSpeed"),setPlayerVolume:i("setPlayerVolume"),setPlayerWindowState:i("setPlayerWindowState"),setProducer:i("setProducer"),setPlayerPosition:i("setPlayerPosition"),setPlayerLaunchReason:i("setPlayerLaunchReason"),setProducerByMasterbrand:i("setProducerByMasterbrand"),avPlayEvent:i("avPlayEvent"),avPauseEvent:i("avPauseEvent"),avEndEvent:i("avEndEvent"),avSeekEvent:i("avSeekEvent"),avBufferEvent:i("avBufferEvent")}}if(o&&!t._echo){var r=e._settings,l=e.name().replace(/-/gm,""),c=r.appName&&""!==r.appName?r.appName:l,u=r.appType&&""!==r.appType?r.appType:d.ApplicationType.WEB,p={},m=e.player._statsObject||{};p[s.COMSCORE_ENABLED]=!1;p[s.BARB_ENABLED]=n(r);p[s.BARB_DEBUG]=!1;p[s.BARB_SITE_CODE]=r.liveEnvironment?"bbcdotcom":"bbcdotcomtest";var f=m.echoProfile||"public_service";p[s.REPORTING_PROFILE]=f;p[s.USE_ESS]=!0;if(!r.liveEnvironment){p[s.ESS_HOSTNAME]="ess.test.api.bbci.co.uk";p[s.REMOTE_CONFIG_URL]="https://mybbc-analytics.stage.files.bbci.co.uk/analytics-remote-config/"}p[s.ATI_ENABLED]=r.enableAtiReporting;p[s.ATI_FORCE_HTTPS]=!0;m.deviceId&&(p[s.ECHO_DEVICE_ID]=m.deviceId);m.playerPosition&&t.echo.setPlayerPosition&&t.echo.setPlayerPosition(m.playerPosition);m.launchReason&&t.echo.setPlayerLaunchReason&&t.echo.setPlayerLaunchReason(m.launchReason);m.destination&&(p[s.DESTINATION]=m.destination);var g=function(){var i=t._echo;t.echo=i;r.appVersion&&i.setAppVersion(r.appVersion);t.player.player._version&&t.echo.setPlayerVersion(t.player.player._version);t.processNewSettings();t.volume(e.volume());i.setPlayerName(l);i.setPlayerDele t.currentTim.currentTime(!0)}});if(t.delayedMediaSet){a(t,t.player.player._mediaItem);t.delayedMediaSet=!1}for(var n=0;t.delayed.length>n;n++)t.delayed[n]()};try{t._echo=new o(c,u,p,null,g)}catch(h){}}},report:function(e){var t=this;if(t.hasSetMediaItem){var i=t.currentTime();t.echo["av"+e+is.report("End")},noPlayerAction:function(e,t,n,a){var r=this;if(r.echo)r.action(e,t,n);else{if(!r.nonPlayerEcho&&o){a||(a={});var l={};l[s.REPORTING_PROFILE]="public_service";var c=a.appName&&""!==a.appName?a.appName:name,u=a.appType&&""!==a.appType?a.appType:d.ApplicationType.WEB;r.nonPlayerEcho=new o(c,u,l);r.nonPlayerEcho.setCounterName(a.counterName||"smp.no-player.page")}r.nonPlayerEcho&&r.nonPlayerEcho.userActionEvent(e,t,i(n,{}))}},action:function(e,t,n){var a=this;a.echo&&a.echo.userActionEvent(e,t,i(n,{}))},newPlayer:function(e,t){var i=this;i.player=e;if(t||i.boundEvents){i.boundEvents=!0;var n=t?"bind":"unbind";e[n]("durationchange initialised mediaItemChanged playing playlistLoaded playlistLoading SonarSeekingEvent SonarEndEvent SonarPauseEvent SonarPlayEvent SonarBufferEvent error SonarResumeEvent SonarSeekEvent SonarUserActionEvent volumechange uiinfo fullscreenEnter fullscreenExit picInPicStarted picInPicStopped statsConfigChanged",{sonarReporter:i},i.eventHandler);i.initComplete(e)}},init:function(e){var t=this,i={},n="12.18.0";i["echo-"+n]="//mybbc-analytics.files.bbci.co.uk/echo-client-js/echo-"+n+(e?"":".min");if(require.config){require.config({paths:i});require(["echo-"+n],function(e){if(e){r=e.Media;o=e.EchoClient;d=e.Enums;s=e.ConfigKeys;l=e.Environment;if(r&&o&&d&&s&&l){var i=t.player;if(i){i._settings.liveEnvironment||e.Debug.enable();t.initComplete(i)}}}})}},eventHandler:function(t,i){var n=i||t.data.sonarReporter;if(n.echo){var r=n.echo;switch(t.type){case"durationchange":if(n.media&&!n.isLive&&t.duration>0&&!n.durationSet){r.setMediaLength(1e3*t.duration);n.durationSet=!0}break;case"initialised":n.player.player._version&&r.setPlayerVersion(n.player.player._version);break;case"mediaItemChanged":n.hasPlayed=!1;a(n,t.mediaItem);break;case"playing":n.hasPlayed=!0;break;case"playlistLoaded":n.processNewSettings();break;case"playlistLoading":n.end();break;case"ratechange":r.setPlayerPlaybackSpeed&&r.setPlayerPlaybackSpeed(t.playbackRate);break;case"SonarSeekingEvent":n.report("Seek");n.hasPlayed&&!n.player.paused()&&n.report("Buffer");break;case"error":t&&"critical"==t.severity&&n.end();break;case"SonarEndEvent":case"SonarPauseEvent":n.report("Pause");break;case"SonarPlayEvent":case"SonarResumeEvent":n.report("Play");break;case"SonarBufferEvent":n.report("Buffer");break;case"SonarSeekEvent":n.player.paused()||n.report("Play");break;case"SonarUserActionEvent":n.action(t.actionType,t.controlId,e(n,t.labels));break;case"volumechange":r.setPlayerVolume(t.muted?0:t.volume);break;case"uiinfo":r.setPlayerIsSubtitled(!!t.subtitles);break;case"fullscreenEnter":r.setPlayerWindowState(d.WindowState.FULL);break;case"fullscreenExit":case"picInPicStopped":r.setPlayerWindowState(d.WindowState.NORMAL);break;case"picInPicStarted":r.setPlayerWindowState(d.WindowState.PICTUREINPICTURE);break;case"statsConfigChanged":t.counterName&&(n.player._settings.counterName=t.counterName)}}},volume:function(e){var t=this;e>=0&&1>e&&t.echo.setPlayerVolume(Math.floor(100*e))},processNewSettings:function(){if(o){var e=this,t=e.player._settings,i=e.player.player._statsObject||{},n=e.player.player.playlist;e.echo.setCounterName(t.counterName);n&&n.masterbrand&&n.masterbrand.id&&e.echo.setProducerByMasterbrand(n.masterbrand.id);e.echo.setPlayerLocation&&e.echo.setPlayerLocation(e.player._settings.embeddedOffsite?"external":"internal");i.producer&&e.echo.setProducer(i.producer);e.parentPID=i.parentPID;e.parentPIDType=d.PIPsType.EPISODE;e.episodePID=i.episodePID;e.clipPID=i.clipPID;e.brandPID=i.brandPID;e.seriesPID=i.seriesPID;e.playlistName=i.playlistName;n&&n.title&&(e.title=n.title.substr(0,60));(i.parentPIDType+"").indexOf("clip")!=-1&&(e.parentPIDType=d.PIPsType.CLIP)}},currentTime:function(e){var t=this,i=Math.round(1e3*t.player.currentTime());return e?1e3*60*60*24*365>i?0:i:t.isLive?0:i}};return t});define("mp/classes/castInterface",[],function(){function e(e){this._settings=e;var t=this;window.__on(e){e&&t._init()};var i=document.createElement("script");i.async=!0;i.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";document.getElementsByTagName("head")[0].appendChild(i);this.sendCastIconState=this.sendCastIconState.bind(this)}e.prototype={_getAppId:function(){var e="1F306A22";this._settings.forceCastReceiver?e=this._settings.forceCastReceiver:"iplayer"==this._settings.product?e="2BA92214":"sport"==this._settings.product?e="15983BD8":"sounds"==this._settings.product&&(e="D350F6A9");return e},_isAndroidRceiverCompatible},_init:function(){this._castContext=cast.framework.CastContext.getInstance();this._castContext.setOptions({receiverApplicationId:this._getAppId(),androidReceiverCompatible:this._isAndroidReceiverCompatible(),autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});this._castContext.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.sendCastIconState);this.sendCastIconState();this._addRemotePlayerListeners();this.initialised=!0},_addRemotePlayerListeners:function(){var e=this;this._remotePlayer=new cast.framework.RemotePlayer;this._remotePlayerController=new cast.framework.RemotePlayerController(this._remotePlayer);this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_._disconnected()});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,function(t){e.sendToLoadedPlayer({event:"timechange",time:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,function(t){e.sendToLoadedPlayer({event:"durationchanged",duration:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,function(t){e.sendToLoadedPlayer({event:"ispausedchanged",ispaused:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.LIVE_SEEKABLE_RANGE_CHANGED,function(){});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,function(t){e.sendToLoadedPlayer({event:"ismedialoadedchanged",ismedialoaded:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(t){e.sendToLoadedPlayer({event:"mutedchanged",muted:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLvolume:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,function(t){var i;switch(t.value){case chrome.cast.media.PlayerState.IDLE:i="IDLE";break;case chrome.cast.media.PlayerState.PLAYING:i="PLAYING";break;case chrome.cast.media.PlayerState.PAUSED:i="PAUSED";break;case chrome.cast.media.PlayerState.BUFFERING:i="BUFFERING"}e.sendToLoadedPlayer({event:"playerstatechanged",state:i})})},_connected:function(){var e=this;this._castSession=this._castContext.getCurrentSession();if(this._requestPlayer){this.loadMedia(this._requestPlayer);this._requestPlayer=null}this._castSession.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,function(){if(!e.loading){e._loadedPlayer=null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"notCasting",state:e.translateCastState(e._castContext.getCastState())})}});this._castSession.addMessageListener("urn:x-cast:uk.co.bbc.general",function(t,i){var n=JSON.parse(i);switch(n.type){case"subtitlesPreference":e.sendToLoadedPlayer({event:"subson",on:!!n.value})}})},_disconnected:function(){this._castSession=null;this._requestPlayer=null;this._loadedPlayer=null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"disconnect"})},sendToLoadedPlayer:function(e){this._loadedPlayer&&this._loadedPlayer.call("ccInfo",e)},secall("ccInfohis._castSession},requestSession:function(){var e=this,t=this._castContext.requestSession();
t.requestfailed"})})},hasSubs:function(e){if(e&&e.tracks)for(var t=0;e.tracks.length>t;t++)if(e.tracks[t].type==chrome.cast.media.TrackType.TEXT)return!0;return!1},loadMedia:function(e){var t=this,i=e.mediaItem(),n=e.loadedPlaylist();this.loading=!0;if(this.isConnected()){var a=new chrome.cast.media.MediaInfo(i.identifier),r=new chrome.cast.media.GenericMediaMetadata;r.title=n.title?n.title:"";r.subtitle=n.summary?n.summary:"";if(n.posterImg){var o=new chrome.cast.Image(n.posterImg.replace("{recipe}","1280x720").replace("$recipe","1280x720"));o.width=1280;o.height=720;r.images=[o]}a.metadata=r;a.customData={secondary_title:n.summary?n.summary:""};i.castConnectUrl&&(a.customData.connect=i.castConnectUrl);e._settings.counterName&&(a.customData.counterName=e._settings.counterName);a.streamType=i.isLive?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED;var s=new chrome.cast.media.LoadRequest(a);s.currentTime=e.currentTime();this._castSession.loadMedia(s).then(function(){t.loading=!1;t._loadedPlayer=e;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"notCasting",state:t.translateCastState(t._castContext.getCastState())},t._loadedPlayer);t._loadedPlayer.call("ccInfo",{event:"loadedMedia",duration:t._remotePlayer.duration,currentTime:t._remotePlayer.currentTime,isPaused:t._remotePlayer.isPaused,hasSubs:t.hasSubs(t._remotePlayer.mediaInfo)});var i=t._castSession.getMediaSession();i.addUpdateListener(function(){i.idleReason==chrome.cast.media.IdleReason.FINISHED&&t.sendToLoadedPlayer({en(){t.loading=!1})}else{this._requestPlayer=e;this.requestSession()}},pause:function(){this._remotePlayerController.playOrPause()},play:function(){this._remotePlayerController.plontroller.seek()},translateCastState:function(e){var t={};t[cast.framework.CastState.NO_DEVICES_AVAILABLE]="no_devices";t[cast.framework.CastState.NOT_CONNECTED]="not_connected";t[cast.framework.CastState.CONNECTING]="connecting";t[cast.framework.CastState.CONNECTED]="connected";return t[e]},sendCastIconState:function(){var e=this._castContext.getCastState(),t=this._castContext.getCurrentSession(),i=t&&t.getCastDevice()?t.getCastDevice().friendlyName:null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"CASTSTATE",value:this.translateCastState(e),deviceName:i})},subtitlesOn:function(){if(this._castSession){var e=new chrome.cast.media.EditTracksInfoRequest;e.enableTextTracks=!0;this._castSession.getMediaSession().editTracksInfo(e,function(){},function(){})}},subtitlesOff:function(){if(this._castSession){var e=new chrome.cast.media.EditTracksInfoRequest;e.enableTextTracks=!1;this._castSession.getMediaSession().editTracksIn(){},function(){})}},setVolume:function(e){this._castSession&&this._castSession.setVossion.setMute(e)}};return e});define("mp/classes/player",["jquery-1.9","mp/classes/settings","mp/classes/decisionengine","mp/classes/errors/error","mp/modules/device","mp/classes/rdotreporting","mp/classes/parentalguidance","mp/classes/players/player","mp/classes/sonarreporter","mp/modules/helpers","mp/modules/html5","mp/classes/castInterface"],function(e,t,i,n,a,r,o,s,l,d,c,u){function p(){return window.performance&&window.performance.now&&window.performance.now().toFixed(0)}function m(e,t){if("string"==typeof e){if(e.match(P))return t?e:e.replace("px","");if(e.match(w))return e}return null==e||isNaN(Number(e))?void 0:Number(e)+(t?"px":"")}function f(e,t,i){t=t&&"width"===t?"width":"height";var n,a=e._settings,r=a.container,o="width"===t?"height":"width",s=m(e["_"+o]||a.plugins.player[o]);void 0!==s&&(n=s.match(w)?s:String(isNaN(s)?r[t]():Math.ceil("height"===o?s*k:s/k)));return n+(i?"px":"")}function g(e,t,i,n,a){i=i&&"width"===i?"width":"height";if("undefined"!=typeof t){t+="";var r="width"===i?"height":"width",o=e._settings,s=o.container,l=t,d=l.match(P),c=m(l);if(void 0!==c){e["_"+i]=l;o.plugins.player[i]=c}else{c=f(e,i);if(void 0!==c){e["_"+i]="0";o.plugins.player[i]=c}}if(void 0!==c){n=n||null!==l.match(w);n||s.css(i,c+"px");if(!a&&void 0===e["_"+r]){var u=f(e,r,d);g(e,u,r,n,!0)}y(e)}}return e["_"+i]}function h(t){var i={position:"relative","z-index":"1",height:"100%",width:"100%","padding-bottom":0};t.superResponsive&&(i["padding-bottom"]="56.25%");if(!t.responsive&&!t.superResponsive){t.container.css("width",m(t.plugins.player.width,!0));t.container.css("height",m(t.plugins.player.height,!0))}return e("<div />").css(i)}function y(e){var t=e._settings,i=t.container,n=t.posterUrl(i);if(!n||e.player&&!e.player.includePoster)i.css("background-image","");else{var a="contain";(t.ui.displayCover||Math.abs(16/9-i.width()/i.height())<.2)&&(a="cover");i.css({"background-image":"url("+n+")","background-repeat":"no-repeat","background-position":"center center","background-size":a,"background-color":"black",overflow:"hidden"})}"html"==e.type&&i.css("overflow","")}function v(n,r){var c=d.addEmbeddedMedia();c.version=this.bumpVersion="3.51.4";b=a.get();b.os.phantomjs&&(r.enableRdotReporting=!1);this.bumpRevision="-1";this.player=new s;this.player.fake=!0;this.supportsMarkers=!1;this.capability={markers:!1,queuedPlaylist:!1,inPage:!1,chromecast:!1,overlay:!1};r.container=n;r.domid=n.attr("id");var u=this._settings=new t(r);if(u.enableSonarReporting&&!u.noTracking){this._sonarReporter=new l;this._sonarReporter.init(u.html5Debug)}c.parentalGuidance||(c.parentalGuidance=new o(this._sonarReporter,u));u.guidance=c.parentalGuidance.guidance;var p=c.parentalGuidance;p.closedCallbacks.push(function(){var t=e.Event("guidanceClosed");t.guidance=u.guidance;u.trigger(t)});p.open");u.trigger(t)});p.updateCallbacks.push(function(t){var i=e.Event("guidanceUpdated");t.noPin=u.guidanceCleared;u.guidance=t;i.guidance=u.guidance;u.trigger(i)});this._decisionEngine=new i(u);return this}var b,w=new RegExp("^([0-9\\.]+)%$","gi"),P=new RegExp("^([0-9\\.]+)px$","gi"),k=16/9;v.prototype={showGuidance:function(e,t,i,n){var a={lockClicked:i};a.title=e?e:"";a.guidance=t?t:"";a.intent=n?n:"play";var r=window.embeddedMedia.parentalGuidance,o=this._settings;o.guidanceCleared||r.show(a,o.ui.colour,o.locale(),!0)},lockGuidance:function(){this._settings.guidance.hasGuidancePIN===!0?window.embeddedMedia.parentalGuidance.setLocked(!0,!0):this.unlockGuidance(idancame||"no-player"},decide:function(){(!this.player||this.player.fake||"smp-phantom"==this.name()&&!this._settings.phantomPlayer)&&(this.player=this._decisionEngine.decide());return thisrray(arguments))},distributedConfig:function(e,t){if(!d.isObjectEmpty(e)){"ui"==t&&(e={ui:e});this._settings.set(e);"ui"==t?this.player.updateUiConfig(e.ui):this.player.updateConfievice:b,html5:c}},poster:function(e){if("string"==typeof e){this._settings._poster=e;y(this)}},play:function(e){this.player.play(e!==!1)},autoplay:function(e){"boolean"==typeof e&&(this._settings.autoplay=e);return this._settings.autoplay},pause:function(){this.player.pause()},suspend:function(){this.player.suspend()},next:function(){this.playeris.player.next()},currentTime:function(e){return this.player.currentTime(e)},showSubtitles:function(e){return this.player.showSubtitles(e)},duration:function(){return this.player.duration()},muted:function(e){return this.player.muted(e)},queuePlaylist:function(e,t){var i=this,n=i.player;n.queuePlaylist(e,t)},setPreviousPlaylist:function(e,t){var i=this,n=i.player;n.setPreviousPlaylist(e,t)},loadPlaylist:function(t,i,n,a){var r=this,o=r.player,s=r._settings;s.autoplay=!1;s.playlist="";s._poster=null;s.playlistObject=null;s.overrideHoldingImage=null;s.overrideCtaDuration=null;s.webcastData={};s.statsObject.parentPID=void 0;s.statsObject.parentPIDType=void 0;s.statsObject.episodePID=void 0;s.statsObject.clipPID=void 0;s.statsObject.brandPID=void 0;s.statsObject.seriesPID=void 0;s.statsObject.playlistLabels=void 0;s.statsObject.playlistName=void 0;t&&("string"!=typeof t?s.playlistObject=t:s.playlist=t);s.statsObject.playlistURL||(s.statsObject.playlistURL=s.playlist||void 0);s.startTime=0;if("object"==typeof i)r.settings(i);else{r.autoplay(i);s.overrideHoldingImage=n||s.overrideHoldingImage}o._settings=s;o._statsObject=e.extend(!0,{},s.statsObject);o.includePoster&&(s.au(function(){y(r)},100):y(r));if(a){a.startTime&&(o._lastSignificant=s.startTime=a.startTime);"boolean"==typeof a.promptGuidanceWhenAutoplay&&(s.promptGuidanceWhenAutoplay=a.promptGuidanceWhenAutoplay)}s.phantomPlayer||"smp-phantom"!=o._name?o.loadPlaylist(r):this.load()},kind:function(){return this.player.kindcaptureIntent(e)},stop:function(){this._settings.autoplay=!1;return this.player.stop()},loadPlugin:function(e,t){if(this.player.loadPlugin)this.player.loadPlugin(e,t);else if(e){e.data=t;this._settings.plugins.toLoad.push(e)}},updateUiConfig:function(t){var i=this._settings,n=i.locale();e.extend(!0,i.ui,t);n!=i.locale()&&window.embeddedMedia.language.load(i.locale());this.player.updateUiConfig(t)},updateQuality:function(e){var t=this._settings;t.set(e);this.player.updateQuality(e)},setData:function(e){this.player.setData(e)},setPoster:function(e,t){this.player.setPoster(e,spatchEvent(e,t)},pauseAt:function(e){this.player.pauseAr.webcastData(onAdProlume(e);return t},paused:function(){return this.player.paused()},ended:function(){return this.player.ended()},seeking:function(){return this.player.seeking()},mediaItem:function(){return this.player.mediloadedPlaylist()},width:function(e){return g(this,ethis,e,"height")},bind:function(){var t=this._settings.container;t.bind.apply(t,e.makeArray(arguments));return this},unbind:function(){var t=this._settings.container;t.unbind.apply(t,e.makeArray(arguments));return this},_loadOptions:function(t){var i=this;i._decisionEngine.setSettings(i._settings);var a=i._settings;a.validate();a.statsObject&&a.statsObject.parentPID&&(a.optinPids+"").indexOf(a.statsObject.parentPID+"")!==-1&&(a.smpj2OptIn=!0);i.player&&i.player.immediate&&(t=!0);i.decide();i.loadingData={now:p,load:p()};var o=i._decisionEngine.name,l=window.embeddedMedia;"smphtml5"==o&&!l.chromeCast.castInterface&&b.supportChromecast&&a.allowCasting&&(l.chromeCast.castInterface=new u(a));if(o){var d=function(t,n){window.embeddedMedia.addPlayer(a.domid,t);i.player=t;t.showErrorDialog=i.showErrorDialog;if(t.includePon(e){i.poster(e)};y(i)}a.statsObject.playlistURL||(a.statsObject.playlistURL=a.playlist||void 0);t._statsObject=e.extend(!0,{},a.statsObject);if(i._sonarReporter){i._sonarReporter.newPlayer(i,t.requireSonarJS);t.sonar=i._sonarReporter}if(n){i.supportsMarkers=i.capability.markers;i.capability=n}t.reloadScope=i};if("html"==i.player.type){var c=window.innerHeight;isNaN(c)&&(c=1e3);if(a.container[0]&&a.container[0].getClientRects){var f=a.container[0].getClientRects();(!f[0]||c>f[0].y)&&(t=!0)}}window.embeddedMedia.playerInits++;i.create=function(){i.addInitialisationListener(i);i.player.embed(a,d);if(!a.responsive&&!a.superResponsive){a.container.css("width",m(a.plugins.player.width,!0));a.container.css("height",m(a.plugins.player.height,!0))}};if(t||i.player.immediate)i.create();else if(0===window.embeddedMedia.players.length)i.create();else if(window.embeddedMedia.players[0].ready)i.create();else{var g=500*(window.embeddedMedia.playerInits+2);setTimeout(function(){i.create()},g)}}else{var h=e.Event("error");y(i);var v=6003;a.dashPlaybackOnly&&!a.threeSixty?v=6012:!b.supportedFlash||a.showUnsupportedMessage||a.threeSixty||(v=6010);h.errorData=new n(v,a);a.ui.hideDefaultErrors||this.showErrorDialog(h.errorData);i.player=new s;i.player.fake=!0;a.trigger(h);r.error(v,a)}return this},load:function(e){var t=this;"string"==typeof e?t._settings.playlist=e:"object"==typeof e&&t._settings.set(e);window.embeddedMedia.language.load(t._t._loadOptions()}on(){return this},addInitialisationListener:function(t){var i=this._settings,a=i.container;clearTimeout(i.initialisationListenerTimeout);i.initialisationListenerTimeout=setTimeout(function(){r.error(6004,i,t.player._name);var o=e.Event("error");o.errorData=new n(6004,i);if(a){this.player=new s;this.player.fake=!0;a.trigger(o)}},1e4);a.bind("initialised",function(){clearTimeout(i.initialisationListenerTimeout);var e=p();if(e){t.loadingData.init=e;var n=!1;setTimeout(function(){if(!n){n=!0;r.info(t.loadingData,t)}},1e4)}})},showErrorDialog:function(t){var i=this._settings,n=i.container,a=i.ui.miniMode&&i.ui.miniMode.enabled||!1;n.empty();var r=e("<div />").css({width:"100%",height:"100%",background:"rgba(51,51,51,0.85)",position:"absolute"}),o=document.createElement("div"),s=o.style;s.position="absolute";if(a){s.width="150px";s.height="80px";s.fontSize="16px"}else{s.width="440px";s.height="160px";s.fontSize="18px";if(b.os.winphone)s.top=s.left=s.marginLeft=s.marginTop=0;else{s.top=s.left="50%";s.marginLeft="-220px";s.marginTop="-80px"}}s.verticalAlign="middle";s.textAlign="center";s.color="white";s.fontFamily="arial, helvetica, sans-serif";var l=document.createElement("div");l.style.backgroundImage="url(https://emp.bbci.co.uk/emp/assets/2.0.27/alert.png)";l.style.backgroundRepeat="no-repeat";l.style.backgroundPosition="50% 0";l.style.height="22px";l.style.backgroundSize="22px";var d=document.createElement("div"),c=d.style;c.position="absolute";c.display="block";if(a)c.top=c.left=c.right="8px";else{c.top="38px";c.left=c.right="20px"}d.innerHTML=t.description();if(!a){var u=' target="_blank" style="color:white;text-decoration:underline;background-color : transparent;">';if(6010==t.code()){var p=document.createElement("div"),m=p.style;m.position="absolute";m.bottom="20px";m.right=m.left="10px";p.innerHTML='<a href="https://www.bbc.co.uk/iplayer/help/questions/computer-issues/flash"'+u+window.embeddedMedia.language.t("deprecationMessageLongLink",i.locale())+"</a>";o.appendChild(p)}}r[0].appendChild(o);a||o.appendChild(l);if(n.width()<440){s.width="100%";s.fontSize="14px";a||(s.left="220px")}o.appendChild(d);n.append(h(i).append(r))}};return v});define("bump-3",["jquery-1.9","mp/classes/player","mp/modules/helpers"],function(e,t,i){var n={},a=i.addEmbeddedMedia();if("function"!=typeof e.fn.player){var r={getPlayer:function(){var t=e(e(this).get(0)),i=t.attr("id");return n[i]},player:function(i){var a=e(e(this).get(0)),r=a.attr("id");if("undefined"==typeof n[r]||n[r].settings().container[0]!=a[0]){if(!r){var o="bbcMediaPlayer",s=0;do r=o+s++;while(document.getElementById(r));a.attr("id",r)}if(!i)throw"No player settings. If you're trying to get a reference, it's probably not created yet.";n[r]=new t(a,i)}else n[r].settings(i);return n[r]}};e.fn.extend(r)}if("function"!=typeof e.players){var o={players:function(){return n}};e.extend(o)}a.apiction(){return n}});return e});