(function() {window.GUM_DOMAIN="gum.criteo.com";window.CONFIG_CSM_DOMAIN_NAME="csm.fr3.eu.criteo.net";window.CALLER_ID="72";window.CONFIG_JS_CALLBACK=TRC.getRTUS;window.CONFIG_RTUS_RESPONSE_RECEIVED_TIMEOUT_MS=30000;var extendStatics= PUBLIC_TOP_TLDS=["co.id","co.il","co.jp","co.kr","co.nz","co.th","co.uk","com.au","com.br","com.mx","com.my","com.pl","com.sg","com.tr","com.vn"];TCFCompatibleConsentProvider=);ar TCDataEventStatus,CRITEO_VENDOR_ID=91,TCFv1ConsentProvider=),TCF_V2_VERSION=2;!TCDataEventStatus=TCDataEventStatus||{});var StorageOrigin,PrivateModeStatus,TCFv2ConsentProvider=),USPAPI_VERSION=1,CCPAConsentProvider=),GPP_VERSION_10="1.0",GPP_VERSION_11="1.1",GPPConsentProvider=),ConsentManager=);!StorageOrigin=StorageOrigin||{}),PrivateModeStatus=PrivateModeStatus||{});var _a,_b,rtusHandleTimeoutId,rtusInitTime,AllUserData=),UserData=),StorableUserData=UserData),StorableUserDataHandlers=),StorableUserDataHandler=),Syncframe=function(){eturn e.prototype.getSyncframeListener=e.prototype.userBundleHasAlreadyBeenRetrieved=e.prototype.canDropSyncframe=e.prototype.discardMessageFromOtherFrames=e.prototype.appendGumIframeIfDoesNotExist=e.prototype.doOnCompletedDom=e.prototype.appendGumIframe=e.prototype.consentAllowsSyncframeToBeDropped=e.prototype.queueAppendSyncframeRequest=e.prototype.tryUnqueueAppendSyncframeRequests=e.prototype.createIFrame=function(e){var t,n=this.document.createElement("iframe"),o={lwid:e.localWebId,bundle:e.bundle,optout:e.optoutCookie,tld:e.topLevelDomain,topUrl:e.topUrl,version:"string"==typeof e.version?null===(t=e.version)||void 0===t?void 0:t.replace(/\./g,"_"):e.version,cw:e.canWriteCookie,lsw:e.canWriteLocalStorage,origin:e.origin,pm:e.privateMode,rtusCallerId:e.rtusCallerId,requestId:e.requestId},r=[];return r.push("origin="+e.origin),r.push("topUrl="+e.topUrl),e.consent&&(void 0!==e.consent.gdprApplies&&r.push("gdpr="+(e.consent.gdprApplies?1:0)),void 0!==e.consent.consentData&&r.push("gdpr_consent="+e.consent.consentData),void 0!==e.consent.uspString&&r.push("us_privacy="+e.consent.uspString),void 0!==e.consent.gppString&&r.push("gpp="+e.consent.gppString),void 0!==e.consent.gppSectionIds&&r.push("gpp_sid="+e.consent.gppSectionIds)),e.isDebug&&r.push("debug=1"),n.src=this.syncframeEndpoint+"?"+r.join("&")+"#"+JSON.stringify(o),n.width="0",n.height="0",n.frameBorder="0",n.style.borderWidth="0px",n.style.margin="0px",n.style.display="none",e.sandboxed&&n.setAttribute("sandbox","allow-scripts allow-same-origin"),n.title="Criteo GUM iframe",n},e}(),RtusSyncframe=function(r){eturn __extends(e,r),e.prototype.discardMessageFromOtherFrames=e.prototype.handleSyncframeResponse=e.prototype.fetchUserData=e.prototype.appendGumIFrameOnCompletedDomIfItDoesNotExist=e.prototype.createSyncframeRequest=function(e,t){return{localWebId:this.userDataHandlers.localWebId().fromAllStorages().toJSON(),bundle:this.userDataHandlers.bundle().fromAllStorages().toJSON(),optoutCookie:this.userDataHandlers.optOut().fromAllStorages().toJSON(),topLevelDomain:e.topLevelDomain,topUrl:e.topUrl,version:void 0,canWriteCookie:e.canWriteCookie,canWriteLocalStorage:e.canWriteLocalStorage,origin:"rtus",privateMode:void 0,consent:e.consent,rtusCallerId:parseInt(this.window.CALLER_ID,10),isDebug:!1,requestId:t,sandboxed:!1}},e}(Syncframe),LocalStorage=),RtusStorageAdapter=),CsmClient=),consentManager=new ConsentManager(window),localStorage=new LocalStorage(window),cookiesWriteable=!1,localStorageWritable=!1,gdprConsent=void 0,ccpaConsent=void 0,gppConsent=void 0,currentScriptSrc=document.currentScript.src,rtusResponseLsKey="cto_rtus",rtusResponseLsKeyWithCallerId=rtusResponseLsKey+"_"+window.CALLER_ID,jsonDelimiterRegex=/\(({[^}]*})\)/g,clientCallbackCalled=!1,rtusCalledViaFetch=!1,defaultRtusResponse={status:"Unknown",userid:""},csmClient=null!==(_b=null===(_a=window.CRTO_DEPENDENCIES)||void 0===_a?void 0:_a.RTUS_CSM_CLIENT)&&void 0!==_b?_b:new CsmClient(window.CONFIG_CSM_DOMAIN_NAME,"Idfs.Rtus"),syncframe=new RtusSyncframe({logCounter:logCounter,onSyncframeResponseHandled:sendMetrics:sendMetrics,removeRtusResponse:storageAdapter:new RtusStorageAdapter},window),getRtusResponseFromLocalStorage=