(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6895],{31289:(e,t,r)=>{"use strict";r.d(t,{QG:()=>y,O4:()=>b,uM:()=>I,et:()=>v});var n=r(66062),i=r(18274),a=r(68858),o=r(66229),s=r(34629),c=r(55752),d=r.n(c);function p(e,t){return d()(e(),["bloggerState","bloggerMap",t],{})}function l(e,t,r,n){var i=p(e,r.amebaId).attribute||{},a=i.isPremium,o=i.isTieup;return!(a||o||!i.isShowAdUser)&&!function(e,t,r){var{adState:n}=e();return!!d()(n,["adLoadMap",t,r])}(e,t,n)}var g="LoadPcAdIds",u="ResetAdsData",h=(e,t)=>({type:s.tB,payload:{id:t,pathname:e}}),f=(e,t)=>({type:s.yX,payload:{id:t,pathname:e}}),m=(e,t,r)=>({type:s.Kt,payload:{id:t,pathname:e,error:r},error:!0}),y=(0,i.H)(((e,t)=>function(){var r=(0,n.Z)((function*(r,n){var i=g;if(l(n,e,t,i)){r(h(e,i)),"[adLoadAction] ".concat(i);try{var{amebaId:s}=t,c=p(n,s).blog||"";yield r((0,o.Mz)(c,a.SU)),r(f(e,i))}catch(d){d instanceof Error&&console.warn(d),r(m(e,i,d))}}}));return function(e,t){return r.apply(this,arguments)}}())),b=(0,i.H)(((e,t,r)=>function(){var i=(0,n.Z)((function*(n,i){var s=u;if(l(i,e,r,s)){n(h(e,s)),"[adLoadAction] ".concat(s);try{var{amebaId:c}=r,d=p(i,c).blog||"",g=[n((0,o.Mz)(d,a.wO))];yield Promise.all(g),n((0,o.gq)(e,d,t)),n(f(e,s))}catch(y){y instanceof Error&&console.warn(y),n(m(e,s,y))}}}));return ())),v=e=>({type:s.FO,payload:{count:e}}),I=,10793:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var n=r(76955),i=r(52377),a=r(5154),o=r.n(a),s=r(54285);class c extends n.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:o(),viewLogger:o()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:r,subCategoryId:n,contentId:i,displayPosition:a,pageId:o,entryId:s,orderId:c,sectionId:d,serviceId:p,tagName:l}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:r,subCategoryId:n,contentId:i,displayPosition:a,pageId:o,entryId:s,orderId:c,sectionId:d,serviceId:p,tagName:l}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(c.intersectionListener||(c.intersectionListener=(0,s.T)({})),this.stopListen(),this.trigger=i.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=c.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=n.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=n.cloneElement(e,{onClick:this.handleClick})),e}}c.displayName="Tracker"},46895:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(66062),i=r(76955),a=r(55752),o=r.n(a),s=(r(29466),r(66948)),c=r(97175),d=r(45525),p=r(73614),l=r(10793),g=r(69450),u=r.n(g),h=r(51650),f=r(78168),m=r(73724),y=r(4670),b=r(75457),v=r(68858),I=r(31289),O=i.createElement("div",{className:u().PopinSdkLoadingBlock});function k(){return(k=(0,n.Z)((function*(e){var{dispatch:t,match:r}=e,{params:n}=r,i=n.amebaId;t((0,p.Rs)(i))}))).apply(this,arguments)}function w(){return(w=(0,n.Z)((function*(e){var{dispatch:t,match:r,location:n}=e,{params:i}=r,{pathname:a}=n;yield t((0,I.QG)(a,i))}))).apply(this,arguments)}var T=e=>{var{adxCode:t,footerGeneralNews:n,footerGenreRanking:a,footerHashtagRanking:o,footerOfficialNews:s,footerOfficialRecommend:c,footerPotentialBlog:d,footerRanking:p,genreCode:g,isOfficial:h,isPremium:f,isTieup:v,pageType:I,useTrackTapLog:k=m.Z}=e;if(f||v)return null;var w=""!==t&&(b.Z.BlogTop===I||b.Z.Entry===I);return i.createElement("div",{className:u().Block,"data-state":h?"official":"general"},h&&c,i.createElement("aside",{className:u().Topics},i.createElement("div",{className:u().TopicsInner},w&&i.createElement(y.Z,{className:u().PopinSdkLoadingBlock,loader:loading:O,rootMargin:"300px 0px",withVisibility:!0}),d,i.createElement("h2",{className:u().Title},h?"Ameba\u82b8\u80fd\u4eba\u30fb\u6709\u540d\u4eba\u30d6\u30ed\u30b0":"Ameba\u4eba\u6c17\u306e\u30d6\u30ed\u30b0"),p,h&&s,a,o,!h&&n,h&&""!==g&&i.createElement("p",{className:u().Button},i.createElement(l.f,{pageId:I,sectionId:"ameblo-top",serviceId:"official",tapLogger:k},i.createElement("a",{className:u().ButtonTarget,href:"".concat(window.process.env.HTTP_PATH_AMEBLO,"/")},"\u30a2\u30e1\u30d6\u30ed\u30c8\u30c3\u30d7\u3078"))))))},x=(0,f.ee)((0,d.w1)(u()),(0,c.provideHooks)({defer:function(e){return k.apply(this,arguments)},done:),(0,s.$j)((function(e,t){var{match:r}=t,{params:n,route:i}=r,a=n.amebaId,s=i.pageType,c=e.adState,d=e.bloggerState,p=e.genreState,l=d.bloggerMap[a]||{},g=l.attribute||{},u=g.isOfficial,h=g.isPremium,f=g.isTieup,m=o()(p,["genreCodeMap",a],"");return{adxCode:o()(c,["adIdsMap",l.blog,v.rY.PcFooter,"adx"],""),genreCode:m,isOfficial:u,isPremium:h,isTieup:f,pageType:s}})),(0,h.lB)(["match","location","navigate"]))(T)},85819:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=r(66948),i=,66229:(e,t,r)=>{"use strict";r.d(t,{Mz:()=>m,gq:()=>y});var n=r(41185),i=r(66062),a=r(18274),o=r(20076),s=r(55752),c=r.n(s),d=r(80602),p=r(68858);r u=h=(e,t,r)=>({type:d.gU,payload:{blogId:e,adsTypes:t,error:r},error:!0}),f=(e,t)=>!!t&&!e.some((),m=(0,a.H)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ignoreAdNG:!1};return function(){var n=(0,i.Z)((function*(n,i,a){var{fetchr:s}=a,d=f(t,r.ignoreAdNG),p=i(),l=((p.adState||{}).adIdsMap||{})[e]||null,m=l?[]:t;if(0===m.length&&0===(m=t.filter((e=>-1===Object.keys(l).indexOf(e)))).length)return null;try{var y=c()(p,["bloggerState","blogMap",e,"blog_name"],""),b=m.join(","),v=yield s.read("adIds").params({amebaId:y,blogId:e,options:{ads_types:b,ignore_ad_ng_user:d}}).end(),I=(0,o.ZP)(v.data,(e=>{m.forEach((t=>{e.data=g(g({},e.data),{},{[t]:c()(e,["data",t],{})})}))}));return n(u(e,I))}catch(O){return n(h(e,t,O))}}));return ()})),y=,4670:73724:(e,t,r)=>{"use strict";r.d(t,{Z:);var n=r(76955),i=r(85819),a=r(5563);function o(){var e=(0,i.I)();return(0,n.useCallback)((,[e])}},85390:(e,t,r)=>{var n=r(18300)(();n.push([e.id,"._bN4heQrF{border-top:1px solid #e2e2e2}._1yyYC3OL{box-sizing:border-box;min-height:547px}._1rTx79TK{background-color:#efefef}._pYZFnjxV{margin:0 auto;padding:40px 0;width:980px}._1qn2YABi{color:#333;font-size:20px;font-weight:700;line-height:1;margin-bottom:45px;padding:0}._1KIzR7MD,._1qn2YABi{text-align:center}._1KIzR7MD{background:#fff;font-size:14px;height:40px;line-height:40px;margin:8px auto 24px;width:380px}._1KIzR7MD:hover{opacity:.7}._2mfCzQg9{display:block;letter-spacing:1px;text-decoration:none}._2mfCzQg9:hover{opacity:.8;text-decoration:none}._2mfCzQg9,._2mfCzQg9:visited{color:#333}",""]),n.locals={Block:"_bN4heQrF",PopinSdkLoadingBlock:"_1yyYC3OL",Topics:"_1rTx79TK",TopicsInner:"_pYZFnjxV",Title:"_1qn2YABi",Button:"_1KIzR7MD",ButtonTarget:"_2mfCzQg9"},e.exports=n},69450:(e,t,r)=>{var n=r(85390),i=Object.assign||a=Object.defineProperty||"string"==typeof n&&(n=[[e.id,n,""]]),e.exports=function(e){var t=i({},e.locals||{});return a(t,"_",{value:),a(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(n)}}]);