import{E as u}from"./eventBus_552c1ba1_r24-02-0_b0_t240129-161140.js";import{aD as A}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{a as z,i as R}from"./safariCheck_11313f0b_r24-02-0_b0_t240129-161140.js";import{S}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import{L as k,s as w}from"./LscoLazyLoadDirective_02fa23a1_r24-02-0_b0_t240129-161140.js";import{V}from"./VResponsivePicture_fb50e2e9_r24-02-0_b0_t240129-161140.js";import{V as B}from"./VLinkWrapper_89f0cc15_r24-02-0_b0_t240129-161140.js";import{L as s,R as W,A as o,D as m,N as L,B as r,_ as l,G as P,V as h,O as f,S as $,I as y,Y as T,a8 as E}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{_ as C}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";const{rightBottom:d,rightTop:I,leftBottom:N,leftTop:O}=w,H={components:{SvgIcon:S,VLinkWrapper:B,VResponsivePicture:V},directives:{lscoLazyload:k},emits:["mediaClicked"],props:{columnWidth:{type:Number,default:0,required:!0},columnWidthOverrideMobile:{type:Number,default:0},columnWidthOverrideTablet:{type:Number,default:0},columnWidthOverrideDesktop:{type:Number,default:0},mediaLink:{type:Object,default:,linkPosition:{type:Number,default:0},imageBaseUrl:{type:String,default:""},adaptiveVideoSet:{type:Array,default:,displayFileType:{type:String,default:"IMAGE"},mp4SizeLimitInKb:{type:Number,default:300},pxLength:{type:Number,default:0},pxWidth:{type:Number,default:0},alpha:{type:Boolean,default:!1},playButtonPosition:{type:String,default:d},altText:{type:String,required:!1,default:""},ariaLabel:{type:String,required:!1,default:""},aspectRatioWidth:{type:Number,default:3},aspectRatioHeight:{type:Number,default:4},disableFixedAspectRatio:{type:Boolean,default:!1},useIntrinsicSize:{type:Boolean,default:!1},enableHoverZoom:{type:Boolean,default:!1},authorData:{type:String,default:""},lazyOffscreenProximity:{type:Number,default:5},focusable:{type:Boolean,default:!0},disableLazyLoad:{type:Boolean,default:!1}},data(){return{videoElementWidth:0,allowAutoplay:!0,videoPlaying:!0,CLASSES:A}},computed:{isVideo(){var e;return((e=this.adaptiveVideoSet)==null?void 0:e.length)>0},videoUrlisSafari(){return this.isMounted&&(z||R)},playButtonPositionClassname(){switch(this.playButtonPosition){case d:case I:case N:case O:return this.playButtonPosition;default:return d}},aspectRatioStyle(){return!this.disableFixedAspectRatio&&this.aspectRatioWidth&&this.aspectRatioHeight?`aspect-ratio: ${this.aspectRatioWidth} / ${this.aspectRatioHeight}`:""}},watch:{videoPlaying(){if(this.$refs.videoElement)return this.videoPlaying?this.$refs.videoElement.play():this.$refs.videoElement.pause()}},methods:{initializeResizeHandlerhandleResize(){var e,i,t,a;(i=(e=this.$refs)==null?void 0:e.videoElement)!=null&&i.offsetWidth&&((a=(t=this.$refs)==null?void 0:t.videoElement)==null?void 0:a.offsetWidth)>this.videoElementWidth&&(this.videoElementWidth=this.$refs.videoElement.offsetWidth)},getVideoUrlConstrainedByMediaWidth(e,i){if(e>0&&(i==null?void 0:i.length)>0){const t=e/1.15,a=i.filter(;return a.length>0?a[0].scene7VideoUrl:i[i.length-1].scene7VideoUrl}return""}},mounted(){this.isVideo&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(this.allowAutoplay=!1,this.videoPlaying=!1),this.$nextTick(this.initializeResizeHandler()))},updatedbeforeUnmount,M=H,U=["src","alt","aria-label","loading"],F=["data-src","alt","aria-label","autoplay"],D=["aria-label"];function Z(e,i,t,a,n,G){const p=s("VResponsivePicture"),c=s("SvgIcon"),b=s("VLinkWrapper"),v=W("lsco-lazyload");return o(),m(b,{class:"cms-media","cta-link":e.mediaLink,"link-position":e.linkPosition,tabindex:e.focusable?0:-1,onClick:i[1]||(i[1]=,style:E(e.aspectRatioStyle)},{default:L(()=>[!e.isVideo&&e.imageBaseUrl?(o(),r(h,{key:0},[e.displayFileType==="IMAGE"?(o(),m(p,{key:0,"column-width":e.columnWidth,"column-width-override-mobile":e.columnWidthOverrideMobile,"column-width-override-tablet":e.columnWidthOverrideTablet,"column-width-override-desktop":e.columnWidthOverrideDesktop,"image-base-url":e.imageBaseUrl,"aspect-ratio-width":e.aspectRatioWidth,"aspect-ratio-height":e.aspectRatioHeight,"disable-fixed-aspect-ratio":e.disableFixedAspectRatio,alpha:e.alpha,"enable-hover-zoom":e.enableHoverZoom,"use-intrinsic-size":e.useIntrinsicSize,"alt-text":e.altText,"aria-label":e.ariaLabel,"disable-lazy-load":e.disableLazyLoad},null,8,["column-width","column-width-override-mobile","column-width-override-tablet","column-width-override-desktop","image-base-url","aspect-ratio-width","aspect-ratio-height","disable-fixed-aspect-ratio","alpha","enable-hover-zoom","use-intrinsic-size","alt-text","aria-label","disable-lazy-load"])):e.displayFileType==="STATIC"?(o(),r("img",{key:1,class:l(e.useIntrinsicSize?"scale-down":"cover"),src:e.imageBaseUrl,alt:e.altText,"aria-label":e.ariaLabel,loading:e.disableLazyLoad?"eager":"lazy"},null,10,U)):P("",!0)],64)):(o(),r(h,{key:1},[f(p,{class:l(["video-poster",{"hover-zoom":e.enableHoverZoom}]),"column-width":e.columnWidth,"column-width-override-mobile":e.columnWidthOverrideMobile,"column-width-override-tablet":e.columnWidthOverrideTablet,"column-width-override-desktop":e.columnWidthOverrideDesktop,"image-base-url":e.imageBaseUrl,"aspect-ratio-width":e.aspectRatioWidth,"aspect-ratio-height":e.aspectRatioHeight,"disable-fixed-aspect-ratio":e.disableFixedAspectRatio,"enable-hover-zoom":e.enableHoverZoom,"alt-text":e.altText,"aria-label":e.ariaLabel,"disable-lazy-load":e.disableLazyLoad},null,8,["class","column-width","column-width-override-mobile","column-width-override-tablet","column-width-override-desktop","image-base-url","aspect-ratio-width","aspect-ratio-height","disable-fixed-aspect-ratio","enable-hover-zoom","alt-text","aria-label","disable-lazy-load"]),$(y("video",{ref:"videoElement",class:l(["video-element",{"hover-zoom":e.enableHoverZoom}]),"data-src":e.videoUrl,poster:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:e.altText,"aria-label":e.ariaLabel,autoplay:e.allowAutoplay,loop:"",muted:"",playsinline:""},null,10,F),[[v,e.lazyOffscreenProximity,"offscreenProximity"]]),y("button",{class:l(["play-pause-button",{[e.CLASSES.ACTIVE]:e.videoPlaying},{"is-safari":e.isSafari},e.playButtonPositionClassname]),"aria-label":`${e.videoPlaying?"Pause":"Play"} video of ${e.altText}`,onClick:i[0]||(i[0]=T(["prevent","stop"]))},[f(c,{name:e.videoPlaying?"pause":"play","fill-color":"#FFF",title:e.videoPlaying?e.$t("i18n.pauseText"):e.$t("i18n.playText")},null,8,["name","title"])],10,D)],64))]),_:1},8,["cta-link","link-position","tabindex","style"])}const ee=C(M,[["render",Z],["__scopeId","data-v-1bff4e54"]]);export{ee as V};
