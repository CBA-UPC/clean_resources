'use strict';(function(){var cmpFile='noModule'in HTMLScriptElement.prototype?'cmp2.js':'cmp2-polyfilled.js';(function(){var cmpScriptElement=document.createElement('script');var firstScript=document.getElementsByTagName('script')[0];cmpScriptElement.async=true;cmpScriptElement.type='text/javascript';var cmpVersion;var tagUrl=document.currentScript.src;cmpVersion='https://cmp.inmobi.com/tcfv2/CMP_FILE?referer=funeral-notices.co.uk'.replace('CMP_FILE',cmpFile);cmpScriptElement.src=cmpVersion;firstScript.parentNode.insertBefore(cmpScriptElement,firstScript);})();(function(){var css=""
+" .qc-cmp-button { "
+"   background-color: #FFFFFF !important; "
+"   border-color: #FFFFFF !important; "
+" } "
+" .qc-cmp-button:hover { "
+"   border-color: #FFFFFF !important; "
+" } "
+" .qc-cmp-alt-action, "
+" .qc-cmp-link { "
+"   color: #FFFFFF !important; "
+" } "
+" .qc-cmp-button.qc-cmp-secondary-button:hover { "
+"   background-color: #FFFFFF !important; "
+"   border-color: #FFFFFF !important; "
+" } "
+" .qc-cmp-button { "
+"   color: #3C5161 !important; "
+" } "
+" .qc-cmp-button.qc-cmp-secondary-button:hover { "
+"   color: #3C5161 !important; "
+" } "
+" .qc-cmp-button.qc-cmp-secondary-button { "
+"   color: #fcfcfc !important; "
+" } "
+" .qc-cmp-button.qc-cmp-secondary-button { "
+"   background-color: #a2a2a2 !important; "
+"   border-color: transparent !important; "
+" } "
+" .qc-cmp-ui, "
+" .qc-cmp-ui .qc-cmp-title, "
+" .qc-cmp-ui .qc-cmp-table, "
+" .qc-cmp-ui .qc-cmp-messaging, "
+" .qc-cmp-ui .qc-cmp-sub-title, "
+" .qc-cmp-ui .qc-cmp-vendor-list, "
+" .qc-cmp-ui .qc-cmp-purpose-info, "
+" .qc-cmp-ui .qc-cmp-table-header, "
+" .qc-cmp-ui .qc-cmp-beta-messaging, "
+" .qc-cmp-ui .qc-cmp-main-messaging, "
+" .qc-cmp-ui .qc-cmp-vendor-list-title{ "
+"   color: #fcfcfc !important; "
+" } "
+" .qc-cmp-ui a, "
+" .qc-cmp-ui .qc-cmp-alt-action { "
+"   color: #fcfcfc !important; "
+" } "
+" .qc-cmp-ui { "
+"   background-color: #3C5161 !important; "
+" } "
+" .qc-cmp-small-toggle.qc-cmp-toggle-on, "
+" .qc-cmp-toggle.qc-cmp-toggle-on { "
+"   background-color: #4CB4BE!important; "
+"   border-color: #4CB4BE!important; "
+" } "
+"a.qc-cmp2-persistent-link {background-color:#3C5161 !important;left:10px !important;right: auto !important;z-index: 1000 !important;}a.qc-cmp2-persistent-link img {display: unset !important;}@media only screen and (max-width: 727px) {a.qc-cmp2-persistent-link {display: none !important;left: 0 !important;border-bottom: 5px solid #3C5161 !important;border-top-left-radius: 0 !important;}}.qc-cmp2-list-item-status { color: #ccc !important; }.qc-cmp2-expandable-info, .qc-cmp2-expandable-info li { color: #ddd !important; }.qc-cmp2-expandable-info p { color: #B4B4B4 !important; }.qc-cmp2-link-active { color: #aaa !important; }.qc-cmp2-list-header { color: #fff !important; }.qc-cmp2-list-item-title {color: #fff !important; }.qc-cmp2-footer { background-color: #3C5161 !important; }.qc-cmp2-list-item-title {color: #fff !important; }.qc-cmp-cleanslate strong { color: #FFFFFF !important; font-weight: unset !important; cursor: pointer !important;}.qc-cmp2-list-item-header:focus { outline-style: none !important; font-weight: bold !important;}"
+""
+"";var stylesElement=document.createElement('style');var re=new RegExp('&quote;','g');css=css.replace(re,'"');stylesElement.type='text/css';if(stylesElement.styleSheet){stylesElement.styleSheet.cssText=css;}else{stylesElement.appendChild(document.createTextNode(css));}
var head=document.head||document.getElementsByTagName('head')[0];head.appendChild(stylesElement);})();var autoDetectedLanguage='en';var gvlVersion=3;function splitLang(lang){return lang.length>2?lang.split('-')[0]:lang;};function isSupported(lang){var langs=['en','fr','de','it','es','da','nl','el','hu','pt','pt-br','pt-pt','ro','fi','pl','sk','sv','no','ru','bg','ca','cs','et','hr','lt','lv','mt','sl','tr','zh'];return langs.indexOf(lang)===-1?false:true;};if(gvlVersion===2&&isSupported(splitLang(document.documentElement.lang))){autoDetectedLanguage=splitLang(document.documentElement.lang);}else if(gvlVersion===3&&isSupported(document.documentElement.lang)){autoDetectedLanguage=document.documentElement.lang;}else if(isSupported(splitLang(navigator.language))){autoDetectedLanguage=splitLang(navigator.language);};var choiceMilliSeconds=(new Date).getTime();window.__tcfapi('init',2,function(){},{"coreConfig":{"uspVersion":1,"uspJurisdiction":["US"],"uspLspact":"N","uspPrivacyPolicyLink":"https://www.reachplc.com/site-services/privacy-policy","uspDeleteDataLink":"https://forms.gle/wGirf7BvPLuQzsms7","uspAccessDataLink":"https://forms.gle/ezGJBuK5sshqVdj1A","suppressCcpaLinks":false,"inmobiAccountId":"JYWDqeLS64fbt","privacyMode":["GDPR","USP"],"hashCode":"SdOkE3lNe5khIWBQQjcF9w","publisherCountryCode":"GB","publisherName":"Funeral Notices","vendorPurposeIds":[2,4,6,7,9,10,1,3,5,8,11],"vendorFeaturesIds":[1,2,3],"vendorPurposeLegitimateInterestIds":[7,8,9,2,10,11],"vendorSpecialFeaturesIds":[2,1],"vendorSpecialPurposesIds":[1,2],"googleEnabled":true,"consentScope":"service","thirdPartyStorageType":"iframe","consentOnSafari":false,"displayUi":"always","defaultToggleValue":"off","initScreenRejectButtonShowing":false,"initScreenCloseButtonShowing":false,"softOptInEnabled":false,"showSummaryView":true,"persistentConsentLinkLocation":4,"displayPersistentConsentLink":true,"uiLayout":"banner","publisherLogo":"https://booking.funeral-notices.co.uk/siteimages/quantcast_logo.jpg?qc-size=170,90","vendorListUpdateFreq":365,"publisherPurposeIds":[1,10,9,8,7,6,5,4,3,2],"initScreenBodyTextOption":1,"publisherConsentRestrictionIds":[11,10,2,9,8,7],"publisherLIRestrictionIds":[],"publisherPurposeLegitimateInterestIds":[],"publisherSpecialPurposesIds":[2,1],"publisherFeaturesIds":[1],"publisherSpecialFeaturesIds":[1],"stacks":[],"lang_":"en","gvlVersion":3},"premiumUiLabels":{"uspDnsText":["<p>&nbsp;If you are a resident of a state with relevant privacy laws&nbsp;and wish to exercise your rights to opt out of the sharing of your personal information to third parties by us, please use the below opt out and confirm your selection. Please note that after your opt out request is processed, you may continue seeing interest-based ads based on personal Information utilized by us or personal information disclosed to third parties prior to your opt out.&nbsp;&nbsp;</p>"],"uspPrivacyPolicyLinkText":"Privacy Policy","uspDeleteDataLinkText":"Data Deletion","uspAccessDataLinkText":"Data Access","initScreenCustomLinks":[{"label":"Privacy Policy","link":"https://www.reachplc.com/site-services/privacy-policy"}]},"premiumProperties":{"vendorBlacklist":[740],"googleWhitelist":[1]},"coreUiLabels":{"agreeButton":"I ACCEPT"},"theme":{"uxPrimaryButtonTextColor":"#3C5161","uxPrimaryButtonColor":"#FFFFFF","uxBackgroundColor":"#3C5161","uxSecondaryButtonColor":"#a2a2a2","uxSecondaryButtonTextColor":"#fcfcfc","uxToogleActiveColor":"#4CB4BE","uxLinkColor":"#fcfcfc","uxFontColor":"#fcfcfc"},"nonIabVendorsInfo":{}});})();list.");this.subscriptions[r].forEach(e=>{e(...u)})}ngOnDestroy(){this.disableClickTimeout&&clearTimeout(this.disableClickTimeout)}invokeXamarinAction(r){(!this.prodMode||this.testMode)&&console.log("Invoke Xamarin Action => ",h.p[r.action]," => ",r),r.action!==h.p.CanGoBack&&r.action!==h.p.UpdateIsAuthorized&&r.action!==h.p.UpdateUserInfo&&r.action!==h.p.PageLoaded&&r.action!==h.p.AskPushNotificationInfos&&r.action!==h.p.AskPushNotificationNativeModal&&r.action!==h.p.OpenReviewInApp&&this.disableClick();try{if(window.invokeCSharpAction){const u=JSON.stringify(r);window.invokeCSharpAction(u)}else console.error("InvokeCSharpAction is not defined")}catch(u){console.error("Error on Invoke Xamarin Action => ",u,h.p[r.action]," => ",r)}}disableClick(){this.disableClickTimeout&&clearTimeout(this.disableClickTimeout);const r=document.getElementsByTagName("html")[0],u="xamarin-opening";r.classList.add(u),this.disableClickTimeout=window.setTimeout(()=>{r.classList.remove(u)},2e3)}invokeXamarinOpenInPurchaseViewAction(r){this.invokeXamarinAction({action:h.p.OpenUrlInPurchaseView,redirectToUrl:r})}invokeXamarinOpenExternalLink(r){this.invokeXamarinAction({action:h.p.OpenExternalLink,url:r})}invokeXamarinOpenShareText(r,u,e="",p=""){this.invokeXamarinAction({action:h.p.ShareText,text:u,url:r,title:e,subject:p})}invokeCanGoBack(r,u){this.invokeXamarinAction({action:h.p.CanGoBack,canGoBack:u,url:r})}invokeXamarinOpenReviewInApp(){this.invokeXamarinAction({action:h.p.OpenReviewInApp})}invokeXamarinPageLoaded(){this.invokeXamarinAction({action:h.p.PageLoaded})}invokeXamarinAskPushNotificationInfos(r,u,e=14400){this.invokeXamarinAction({action:h.p.AskPushNotificationInfos,authorizeAskIfNativeIsDenied:r,angularEventNameToCallback:u,nbMinutesToAskAgainWhenLater:e})}invokeXamarinAskPushNotificationNativeModal(){this.invokeXamarinAction({action:h.p.AskPushNotificationNativeModal})}getMobileVersion(){const u=navigator.userAgent.match(a.App_Version_Regex);return u&&u.length>=2?u[1]:null}isMobileAppVersionCompatibleForFeature(r){const u=this.getMobileVersion();return null!=u&&s(u,r,">=")}canDisplayNativeShareButton(){return this.isMobileAppVersionCompatibleForFeature(a.Features_Min_App_Version.nativeShareButton)}}return(t=a).App_Version_Regex=/\[.*\/(.*) \(\d*\)]$/,t.Features_Min_App_Version={nativeShareButton:"2.2.0"},t.\u0275fac=function(r){return new(r||t)(v.LFG("PROD_MODE"),v.LFG("TEST_MODE"),v.LFG(v.R0b),v.LFG(v.Lbi))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),a})()},8253:(O,S,i)=>{i.d(S,{W:()=>c});var f=i(2135),v=i(5502);let c=(()=>{var h;class m{constructor(s){this.cookieService=s,this.cookiePrefix="external_"}deleteCookie(s){this.cookieService.delete(this.getCookieName(s))}checkCookie(s){return this.cookieService.check(this.getCookieName(s))}createCookie(s,d,g){this.cookieService.set(this.getCookieName(s),this.setCookieValue(d,g),this.getExpiration(),"/")}replaceAndCreateCookie(s,d,g){this.checkCookie(s)&&this.deleteCookie(s),this.createCookie(s,d,g)}getCookieValue(s){const d=this.cookieService.get(this.getCookieName(s));return d?JSON.parse(d):{id:1,code:"lefigaro"}}setCookieValue(s,d){return JSON.stringify({id:s,code:d})}getExpiration(){const s=new Date;return s.setDate(s.getDate()+1),s}getCookieName(s){return`${this.cookiePrefix}${s}`}}return(h=m).\u0275fac=function(s){return new(s||h)(f.LFG(v.N))},h.\u0275prov=f.Yz7({token:h,factory:h.\u0275fac}),m})()},1724:(O,S,i)=>{i.d(S,{l:()=>v});var f=i(2135);let v=(()=>{var c;class h{constructor(){this.fragment="",this.change=new f.vpe}changeFragment(l){this.fragment=l,this.change.emit(this.fragment)}}return(c=h).\u0275fac=function(l){return new(l||c)},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac}),h})()},6156:(O,S,i)=>{i.d(S,{q:()=>b});var f=i(8987),v=i(4282),c=i(891),h=i(3100),m=i(8952),l=i(3910),s=i(2135),d=i(8253),g=i(2393),I=i(5454),E=i(5400),M=i(4767),D=i(2178);class U{constructor(T){this.isSelf=!1,this.shopId=0,this.shopRouteName="",this.dealId=0,this.ignoreClick=!1,this.isTrafficShop=!1,this.hasAdBlocker=!1,this.hasThirdPartyCookies=!0,this.isBridgeCashback=!1,this.isBridgeVoucher=!1,this.registrationShopType=c.s.None,Object.assign(this,T)}}let b=(()=>{var A;class T{constructor(n,t,a,o,r,u,e){this.injector=n,this.externalPartnerCookieService=t,this.authService=a,this.userProfileService=o,this.router=r,this.xamarinAngularCommunicationService=u,this.windowTabService=e,this.redirectCashbackPath="out/redirect/cashback",this.outPath="out",this.baseUrl=this.injector.get(m.cx)}outAffiliateLinkFromOpenDeal(n,t,a){this.outAffiliateLink(n,t,a,!1,!0)}outAffiliateLink(n,t,a,o=!1,r=!1){this.outV2(new U({isSelf:r,shopId:n,shopRouteName:t,dealId:a,ignoreClick:o}))}outCashbackBridge(n,t,a){this.outV2(new U({isSelf:!1,shopId:n,shopRouteName:t,dealId:a,isBridgeCashback:!0}))}outTrafficBridge(n,t,a){this.outV2(new U({isSelf:!1,shopId:n,shopRouteName:t,dealId:a,isTrafficShop:!0}))}outVoucherBridge(n,t,a){this.outV2(new U({isSelf:!1,shopId:n,shopRouteName:t,dealId:a,isBridgeVoucher:!0}))}outV2(n){return this.out(n.isSelf,n.shopId,n.shopRouteName,n.dealId,n.ignoreClick,n.isTrafficShop,n.hasAdBlocker,n.hasThirdPartyCookies,n.widiloveLinkId,n.widiloveUserId,n.isBridgeCashback,n.userId,n.userIdEncoded,n.isBridgeVoucher,n.registrationShopType,n.relativeDeepLink)}out(n,t,a,o=0,r=!1,u=!1,e=!1,p=!0,P,_,k=!1,F,L,y=!1,R=c.s.None,x){!0!==f.N.isMobileApp||this.router.url.startsWith("/redirect/deal")||this.router.url.startsWith("/redirect/cashback")?this.process(this.outPath,n,t,a,o,r,u,e,p,P,_,k,F,L,y,x):this.redirectMobileApp(R,t,a,o)}redirectCashback(n,t,a){!0===f.N.isMobileApp?this.redirectMobileApp(c.s.Cashback,t,a):this.process(this.redirectCashbackPath,n,t,a,void 0,!0)}redirectMobileApp(n,t,a,o=0){this.authService.isAuthorized?this.getUrl(r=>{this.invokeXamarinOpenMerchantWebsiteAction(r,t,o)},this.outPath,t,a,o):this.authService.loginEmail(!0,new v.f({registrationShopType:n,shopId:t}))}invokeXamarinOpenMerchantWebsiteAction(n,t,a=0){this.xamarinAngularCommunicationService.invokeXamarinAction({action:h.p.OpenMerchantWebsite,redirectToUrl:n,shopId:t,dealId:a})}getUrl(n,t,a,o,r=0,u=!1,e=!1,p=!1,P=!0,_,k,F=!1,L,y,R=!1,x){let W=0;this.externalPartnerCookieService.checkCookie(o)&&(W=this.externalPartnerCookieService.getCookieValue(o).id);const B=`${this.baseUrl}/${t}/${a}`,C=[];r&&0!==r&&C.push(`d=${r}`),W&&0!==W&&C.push(`p=${W}`),!0===u&&C.push("z=true"),e&&C.push("isTs=true"),!0===p?C.push("aba=true"):!1===p&&C.push("aba=false"),!0===P?C.push("tpca=true"):!1===P&&C.push("tpca=false"),_&&_.length&&C.push(`wli=${_}`),!0===F&&C.push("b=true"),!0===R&&C.push("isV=true"),y?(C.push(`ue=${y}`),x&&C.push(`rdp=${x}`),n(this.getUrlFromQueryArray(B,C))):this.authService.isAuthorized||L?L?(C.push(`u=${L}`),n(this.getUrlFromQueryArray(B,C))):this.userProfileService.getUserInfoWithoutSubscribingToEvent().pipe((0,l.q)(1)).subscribe($=>{$&&$.id?(C.push(`u=${$.id}`),n(this.getUrlFromQueryArray(B,C))):this.authService.getIsAuthorized().pipe((0,l.q)(1)).subscribe(K=>{K?this.userProfileService.getUserInfoWithoutSubscribingToEvent().pipe((0,l.q)(1)).subscribe(N=>{N&&N.id?(C.push(`u=${N.id}`),n(this.getUrlFromQueryArray(B,C))):this.authService.logoff()}):this.authService.logoff()})}):(k&&k.length&&C.push(`u=${k}`),n(this.getUrlFromQueryArray(B,C)))}getUrlFromQueryArray(n,t){return t.push("pv=w"),t.length>0&&(n=`${n}?${t.join("&")}`),n}process(n,t,a,o,r=0,u=!1,e=!1,p=!1,P=!0,_,k,F=!1,L,y,R=!1,x){this.getUrl(W=>{this.windowTabService.open(W,t?"_self":"_blank")},n,a,o,r,u,e,p,P,_,k,F,L,y,R,x)}}return(A=T).\u0275fac=function(n){return new(n||A)(s.LFG(s.zs3),s.LFG(d.W),s.LFG(g.e),s.LFG(I.i),s.LFG(E.F0),s.LFG(M.B),s.LFG(D.l))},A.\u0275prov=s.Yz7({token:A,factory:A.\u0275fac}),T})()},2178:(O,S,i)=>{i.d(S,{l:()=>c});var f=i(4666),v=i(2135);let c=(()=>{var h;class m{constructor(s){this.platformId=s}open(s,d){if(!(0,f.NF)(this.platformId))return;const g=window.open(s,d);g&&(g.opener=null)}}return(h=m).\u0275fac=function(s){return new(s||h)(v.LFG(v.Lbi))},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac}),m})()},5454:(O,S,i)=>{i.d(S,{i:()=>a});var f=i(8798),v=i(2135),c=i(8987),h=i(348),m=i(3792),l=(()=>{return(o=l||(l={}))[o.NotCashbackShopPage=1]="NotCashbackShopPage",o[o.CashbackShopPage=2]="CashbackShopPage",o[o.Footer=3]="Footer",o[o.Menu=4]="Menu",l;var o})(),s=i(3100),d=i(4505),g=i(4139),I=i(2218),E=i(8759),M=i(3910),D=i(9095),U=i(6942),b=i(5921),A=i(4497),T=i(2393),w=i(2266),n=i(4767),t=i(3628);let a=(()=>{var o;class r extends m.b{constructor(e,p,P,_,k,F,L,y){super(e,P,_),this.httpXsrfTokenExtractor=p,this.authService=k,this.walkthroughService=F,this.xamarinAngularCommunicationService=L,this.storageService=y,this.eventUserInfo=new v.vpe,this.scrollToTopProfileIonContentEvent=new v.vpe,this.scrollToAnchorProfileIonContentEvent=new v.vpe,this.profilePictureUrlSubject=new d.X(""),this.profileSmallPictureUrlSubject=new d.X(""),this._userInfo=null,this.http=e,this.apiDataUrlUserProfile=`${this.apiDataUrlUser}profile/`}get userInfo(){return this._userInfo}set userInfo(e){this._userInfo=e,!0===c.N.isMobileApp&&this.xamarinAngularCommunicationService.invokeXamarinAction({action:s.p.UpdateUserInfo,userInfo:e})}getUserInfoWithoutSubscribingToEvent(){return this.userInfo?(0,g.of)(this.userInfo):(this.addWasApiCallMadeForEntry(this.nameof("userInfo")),this.authService.get(`${this.apiDataUrlUserProfile}`).pipe((0,E.b)(e=>{this.userInfo=e,this.eventUserInfo.emit(e),this.processUserInfo(e)})))}getUserInfo(e,p){const P=this.nameof("userInfo");this.getDataWithCallback(P,`${this.apiDataUrlUserProfile}`,p,_=>{_&&(_.isWalkthrough&&(_.isWalkthrough=!1,this.redirectToWalkthrough()),this.processUserInfo(_,e))},this.authService,{propertyToSetName:P})}refreshUserInfo(){const e=this.nameof("userInfo");this.refreshData(e,`${this.apiDataUrlUserProfile}`,this.authService,{propertyToSetName:e})}getCountries(){return this.countries?(0,g.of)(this.countries):this.authService.get(`${this.apiDataUrlUserProfile}countries`).pipe((0,E.b)(e=>{this.countries=e}))}getTopCountryIso2Codes(){return this.authService.get(`${this.apiDataUrlUserProfile}countries/top/iso2`)}uploadProfilePicture(e){const p=new FormData;return p.append("file",e),this.authService.getAuthHeader().pipe((0,M.q)(1),(0,D.w)(P=>this.http.post(`${this.apiDataUrlUserProfile}picture`,p,{headers:P})))}refreshProfilePictureUrls(){this.setProfilePictureUrls(!0)}getProfilePictureUrl(e,p){this.getProfilePictureUrlBase(e,p,this.profilePictureUrlSubject)}getProfileSmallPictureUrl(e,p){this.getProfilePictureUrlBase(e,p,this.profileSmallPictureUrlSubject)}resetPicture(){return this.authService.post(`${this.apiDataUrlUserProfile}picture/reset`)}updateUserInfo(e){return this.userInfo&&this.userInfo!=e?this.authService.post(`${this.apiDataUrlUserProfile}`,e):(0,g.of)(this.userInfo)}updateUserOrderInfo(e){return this.userInfo&&this.userInfo!=e?this.authService.post(`${this.apiDataUrlUserProfile}orderInfos`,e):(0,g.of)(this.userInfo)}checkPassword(e){return this.authService.post(`${this.apiDataUrlUserProfile}password/check`,{Password:e})}updatePassword(e,p,P){return this.authService.post(`${this.apiDataUrlUserProfile}password`,{ActualPassword:e,NewPassword:p,NewPasswordConfirm:P})}resetPassword(e,p,P,_){return this.authService.post(`${this.apiDataUrlUserProfile}password/reset`,{UserId:e,ResetCode:p,Password:P,Confirm:_})}confirmEmail(e,p){const P={userId:e,code:p},_=new f.WM({"X-XSRF-TOKEN":this.httpXsrfTokenExtractor.getToken()||""});return this.http.post(`${this.originUrl}/api/account/confirmemail`,P,{headers:_}).pipe((0,U.U)(k=>k))}updateEmail(e,p){return this.authService.post(`${this.apiDataUrlUserProfile}email`,{CurrentEmail:e,NewEmail:p,CallbackUrl:`${this.apiElianWebSiteUrl}/confirm-update-email?i=userIdValue&c=codeValue&e=newEmail`})}confirmUpdateEmail(e,p,P){return this.authService.post(`${this.apiDataUrlUserProfile}email/confirm`,{UserId:e,Code:p,NewEmail:P,CallbackUrl:`${this.apiElianWebSiteUrl}/confirm-email?userId=userIdValue&c=codeValue`})}createPassword(e,p){return this.authService.put(`${this.apiDataUrlUserProfile}password`,{NewPassword:e,NewPasswordConfirm:p})}sendConfirmationEmail(){return this.authService.post(`${this.apiDataUrlUserProfile}email/sendconfirm`,{CallbackUrl:`${this.apiElianWebSiteUrl}${this.authService.confirmEmailRoute}`})}deleteProfile(){return this.authService.post(`${this.apiDataUrlUserProfile}delete`,{CallbackUrl:`${this.apiElianWebSiteUrl}/delete-account?key=keyValue`})}confirmDeleteProfile(e){return this.authService.delete(`${this.apiDataUrlUserProfile}?key=${encodeURIComponent(e)}`)}validateEmail(e){return this.authService.get(`${this.apiDataUrlUserProfile}validate/email?email=${encodeURIComponent(e)}`)}validateZipCode(e,p){return this.authService.get(`${this.apiDataUrlUserProfile}validate/zipCode?zipCode=${encodeURIComponent(e)}&countryIsoCode=${encodeURIComponent(p)}`)}redirectToWalkthrough(){let e=l.NotCashbackShopPage,p=!1;if(this.storageService.canAccessSessionStorage()){const P=sessionStorage.getItem("returnUrl");if(P){const _=P.split("?")[0];if(_.startsWith(`/${h.F_}`)&&!_.endsWith(`/${h.F_}`))if(P.includes("voucher=1"))p=!0;else{const k=this.storageService.getIsCashbackFromSessionStorage();k&&"1"===k&&(e=l.CashbackShopPage)}else _.startsWith(`/${h.jk.voucher}`)&&(p=!0)}}p||this.walkthroughService.openInterstitialWalkthroughDialogEvent.emit(e)}getProfilePictureUrlBase(e,p,P){if(P.pipe((0,b.R)(p)).subscribe(_=>{e(_)}),!P.value){const _=new I.xQ;this.getUserInfo(()=>{_.next(),_.complete()},_)}}processUserInfo(e,p){!0===e.isDisabled?this.authService.logoff():(this.setProfilePictureUrls(),p&&p(e))}setProfilePictureUrls(e=!1){this.userInfo&&((!this.profilePictureUrlSubject.value||e)&&this.profilePictureUrlSubject.next(this.getUrlEnd(`${this.apiDataUrlUserProfile}picture/${this.userInfo.id}`,!0)),(!this.profileSmallPictureUrlSubject.value||e)&&this.profileSmallPictureUrlSubject.next(this.getUrlEnd(`${this.apiDataUrlUserProfile}picture/${this.userInfo.id}_small`,!0)))}}return(o=r).\u0275fac=function(e){return new(e||o)(v.LFG(f.eN),v.LFG(f.YS),v.LFG(v.zs3),v.LFG(A.ki),v.LFG(T.e),v.LFG(w.h),v.LFG(n.B),v.LFG(t.V))},o.\u0275prov=v.Yz7({token:o,factory:o.\u0275fac}),r})()},2266:(O,S,i)=>{i.d(S,{h:()=>l});var f=i(2135),v=i(3792),c=i(8987),h=i(8798),m=i(4497);let l=(()=>{var s;class d extends v.b{constructor(I,E,M){super(I,E,M),this.http=I,this.injector=E,this.transferState=M,this.walkthroughQueryParamKey="walkthrough",this.walkthroughQueryParamValue="1",this.walkthroughQueryParam=this.walkthroughQueryParamKey+"="+this.walkthroughQueryParamValue,this.isWalkthroughActiveEvent=new f.vpe,this.hasShopInit=!1,this.shopHasInitEvent=new f.vpe,this.hasProfileMenuDesktopInit=!1,this.profileMenuDesktopHasInitEvent=new f.vpe,this.hasMenuDesktopInit=!1,this.menuDesktopHasInitEvent=new f.vpe,this.haveMenuMobileAndprofileMenuMobileInit=!1,this.menuMobileAndprofileMenuMobileHaveInitEvent=new f.vpe,this.haveAllWalkthroughAnchorsInit=!1,this.allWalkthroughAnchorsHaveInitEvent=new f.vpe,this.isMobileStepCashBack=new f.vpe,this.openInterstitialWalkthroughDialogEvent=new f.vpe,this.subscribeAllWalktroughAnchors()}getQueryParam(){return this.walkthroughQueryParam}getQueryParamValue(){return this.walkthroughQueryParamValue}getQueryParamKey(){return this.walkthroughQueryParamKey}getInterstitialDataWithShops(){return this.callApi("walkthrough/GetIntertitialDataWithShops")}subscribeAllWalktroughAnchors(){this.shopHasInitEvent.subscribe(()=>{this.hasShopInit=!0,this.checkIfAllWalkthroughAnchorsHaveInit()}),this.menuMobileAndprofileMenuMobileHaveInitEvent.subscribe(()=>{this.haveMenuMobileAndprofileMenuMobileInit=!0,this.checkIfAllWalkthroughAnchorsHaveInit()}),!1===c.N.isMobileApp&&(this.profileMenuDesktopHasInitEvent.subscribe(()=>{this.hasProfileMenuDesktopInit=!0,this.checkIfAllWalkthroughAnchorsHaveInit()}),this.menuDesktopHasInitEvent.subscribe(()=>{this.hasMenuDesktopInit=!0,this.checkIfAllWalkthroughAnchorsHaveInit()}))}checkIfAllWalkthroughAnchorsHaveInit(){(!0===c.N.isMobileApp?this.hasShopInit&&this.haveMenuMobileAndprofileMenuMobileInit:this.hasShopInit&&this.hasProfileMenuDesktopInit&&this.hasMenuDesktopInit&&this.haveMenuMobileAndprofileMenuMobileInit)&&(this.haveAllWalkthroughAnchorsInit=!0,this.allWalkthroughAnchorsHaveInitEvent.emit())}}return(s=d).\u0275fac=function(I){return new(I||s)(f.LFG(h.eN),f.LFG(f.zs3),f.LFG(m.ki))},s.\u0275prov=f.Yz7({token:s,factory:s.\u0275fac}),d})()},5502:(O,S,i)=>{i.d(S,{N:()=>c});var f=i(2135),v=i(4666);let c=(()=>{class h{constructor(l,s){this.document=l,this.platformId=s,this.documentIsAccessible=(0,v.NF)(this.platformId)}static getCookieRegExp(l){const s=l.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+s+"|;\\s*"+s+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(l){try{return decodeURIComponent(l)}catch(s){return l}}check(l){return!!this.documentIsAccessible&&(l=encodeURIComponent(l),h.getCookieRegExp(l).test(this.document.cookie))}get(l){if(this.documentIsAccessible&&this.check(l)){l=encodeURIComponent(l);const d=h.getCookieRegExp(l).exec(this.document.cookie);return d[1]?h.safeDecodeURIComponent(d[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const l={},s=this.document;return s.cookie&&""!==s.cookie&&s.cookie.split(";").forEach(d=>{const[g,I]=d.split("=");l[h.safeDecodeURIComponent(g.replace(/^ /,""))]=h.safeDecodeURIComponent(I)}),l}set(l,s,d,g,I,E,M){if(!this.documentIsAccessible)return;if("number"==typeof d||d instanceof Date||g||I||E||M)return void this.set(l,s,{expires:d,path:g,domain:I,secure:E,sameSite:M||"Lax"});let D=encodeURIComponent(l)+"="+encodeURIComponent(s)+";";const U=d||{};U.expires&&(D+="number"==typeof U.expires?"expires="+new Date((new Date).getTime()+1e3*U.expires*60*60*24).toUTCString()+";":"expires="+U.expires.toUTCString()+";"),U.path&&(D+="path="+U.path+";"),U.domain&&(D+="domain="+U.domain+";"),!1===U.secure&&"None"===U.sameSite&&(U.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${l} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),U.secure&&(D+="secure;"),U.sameSite||(U.sameSite="Lax"),D+="sameSite="+U.sameSite+";",this.document.cookie=D}delete(l,s,d,g,I="Lax"){this.documentIsAccessible&&this.set(l,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:s,domain:d,secure:g,sameSite:I})}deleteAll(l,s,d,g="Lax"){if(!this.documentIsAccessible)return;const I=this.getAll();for(const E in I)I.hasOwnProperty(E)&&this.delete(E,l,s,d,g)}}return h.\u0275fac=function(l){return new(l||h)(f.LFG(v.K0),f.LFG(f.Lbi))},h.\u0275prov=f.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);
//# debugId=352ce136-7e8e-523d-897b-2c5a6e6b3bd6
