import{getLocalData as t}from"../base/config.js";import{domAppend as u,domRemove as g,forceRepaintSVG as k,getCookie as i,setCookie as o}from"../base/croco.js";async function l(){const p=async({details})=>{const{openPopin:t}=await import("../base/popin-refit.js");t({instanceId:"popin-adblockers",loadContents:async t=>{const{tplAdblockers:o}=await import("../templates/adblockers.tpl.js");return{title:details.label,contents:o({...details,onClosePopin:()=>{t.close();window.location.reload()}})}}})};const m=await t("adblockers");if(m&&m.banner&&m.url){fetch(m.url,{method:"HEAD",mode:"no-cors"}).then(response=>response).catch(async()=>{const{render:t}=await import("../vendors/lit-html/lit-html.js");const{tplAdblockersBanner:o}=await import("../templates/adblockers.tpl.js");const i=document.createElement("div");u(i,document.body);const l={...m.banner,openAdblockerPopin:()=>p(m),closeBanner:()=>g(i)};t(o(l),i);k(i)})}}async function p(){const{displayFeedBackTab:t}=await import("../modules/customer-voice.js");window.displayFeedBackTab=t}function m(){if(navigator.userAgent.indexOf("Instagram")>-1){let vh=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${vh}px`);document.documentElement.style.setProperty("--vh-static",`${vh}px`)}}const h="_dyid_server";function j(){const t=i("_dyid");if(t&&!i(h)){o(h,t,400)}}export function nonCriticalInit(){p();l();m();j();if(Lacoste?.features?.network?.notifications){import("../components/network-status.js").then(({networkStatusInit:t})=>t(Lacoste.features.network.notifications))}const o="serviceWorker"in navigator&&Lacoste?.features?.network?.offlinepage;if(o){import("../components/offline-loader.js").then(({offlineLoaderInit:t})=>t(o))}if(Lacoste?.features?.prospectCampaignUrl){import("../components/campaign.js").then(({popinCampaignInit:t})=>t(Lacoste.features.prospectCampaignUrl))}if(Lacoste?.features?.marketingCampaignUrl&&!i("marketingCampaign")){import("../components/campaign-marketing.js").then(({marketingPopinInit:t})=>t(Lacoste.features.marketingCampaignUrl))}if(Lacoste?.features?.geolocation&&!i(Lacoste?.features?.geolocation?.cookie?.name)){import("../components/geolocation-popin.js")}if(!("scrollBehavior"in document.documentElement.style)){import("../../polyfills/smoothscroll.polyfill.min.js")}}