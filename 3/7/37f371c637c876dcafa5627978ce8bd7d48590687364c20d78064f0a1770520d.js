function initWebPixel() {(function(shopify) {
shopify.extend('WebPixel::Render', function (api) {
  var analytics=api.analytics,browser=api.browser,init=api.init;
  var e=api._pixelInfo?api._pixelInfo.runtimeContext:null,n=api._pixelInfo?api._pixelInfo.type:null;analytics.subscribe("all_standard_events",(function(i){var l,o;l=i.name,o=i,browser.localStorage.getItem("shopify-pixel-mode").then((function(i){"debug"===i&&console.log(`[shopify-pixel][${n}][${e}] ${l}`,o)})).catch((function(){}))}));
});

})(self.webPixelsManager.createShopifyExtend('shopify-app-pixel', 'app'));
}
(()=>{var e={747:function(e,t,r){var i,n,o;!function(a,s){"use strict";n=[r(18)],void 0===(o="function"==typeof(i=function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),i=r.match(/ (\(.+\)$)/);r=i?r.replace(i[0],""):r;var n=this.extractLocation(i?i[1]:r),o=i&&r||void 0,a=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new e({functionName:o,fileName:a,lineNumber:n[1],columnNumber:n[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(i)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(r),n=i&&i[1]?i[1]:void 0,o=this.extractLocation(t.replace(r,""));return new e({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split("\n"),n=[],o=2,a=i.length;o<a;o+=2){var s=r.exec(i[o]);s&&n.push(new e({fileName:s[2],lineNumber:s[1],source:i[o]}))}return n},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split("\n"),n=[],o=0,a=i.length;o<a;o+=2){var s=r.exec(i[o]);s&&n.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:i[o]}))}return n},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,i=t.split("@"),n=this.extractLocation(i.pop()),o=i.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(r=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:s,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:t})}),this)}}})?i.apply(t,n):i)||(e.exports=o)}()},18:function(e,t){var r,i,n;!function(o,a){"use strict";i=[],void 0===(n="function"==typeof(r=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],n=["fileName","functionName","source"],o=r.concat(i,n,["args"],["evalOrigin"]);function a(t){if(t)for(var r=0;r<o.length;r++)void 0!==t[o[r]]&&this["set"+e(o[r])](t[o[r]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:i?i+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},a.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),i=e.substring(0,t),n=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),c=s[1],l=s[2],u=s[3];return new a({functionName:i,args:n||void 0,fileName:c,lineNumber:l||void 0,columnNumber:u||void 0})};for(var s=0;s<r.length;s++)a.prototype["get"+e(r[s])]=t(r[s]),a.prototype["set"+e(r[s])]=function(e){return function(t){this[e]=Boolean(t)}}(r[s]);for(var c=0;c<i.length;c++)a.prototype["get"+e(i[c])]=t(i[c]),a.prototype["set"+e(i[c])]=function(e){return function(t){if(r=t,isNaN(parseFloat(r))||!isFinite(r))throw new TypeError(e+" must be a Number");var r;this[e]=Number(t)}}(i[c]);for(var l=0;l<n.length;l++)a.prototype["get"+e(n[l])]=t(n[l]),a.prototype["set"+e(n[l])]=function(e){return function(t){this[e]=String(t)}}(n[l]);return a})?r.apply(t,i):r)||(e.exports=n)}()},700:function(e,t,r){var i;!function(n,o){"use strict";var a="function",s="undefined",c="object",l="string",u="major",d="model",b="name",f="type",p="vendor",m="version",w="architecture",g="console",h="mobile",v="tablet",y="smarttv",x="wearable",k="embedded",S="Amazon",O="Apple",R="ASUS",E="BlackBerry",A="Browser",N="Chrome",T="Firefox",C="Google",L="Huawei",I="LG",M="Microsoft",B="Motorola",P="Opera",U="Samsung",j="Sharp",D="Sony",q="Xiaomi",F="Zebra",W="Facebook",_="Chromium OS",V="Mac OS",$=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},z=function(e,t){return typeof e===l&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},X=function(e,t){for(var r,i,n,s,l,u,d=0;d<t.length&&!l;){var b=t[d],f=t[d+1];for(r=i=0;r<b.length&&!l&&b[r];)if(l=b[r++].exec(e))for(n=0;n<f.length;n++)u=l[++i],typeof(s=f[n])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):o:this[s[0]]=u?s[1].call(this,u,s[2]):o:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):o):this[s]=u||o;d+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(z(t[r][i],e))return"?"===r?o:r}else if(z(t[r],e))return"?"===r?o:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,m],[/opios[\/ ]+([\w\.]+)/i],[m,[b,P+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[b,P]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[b,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[m,[b,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[b,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+A],m],[/\bfocus\/([\w\.]+)/i],[m,[b,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[b,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[b,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[b,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[m,[b,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+A],m],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[b,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,W],m],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[b,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,N+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[b,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[m,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[b,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[b,m],[/(cobalt)\/([\w\.]+)/i],[b,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,G]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,U],[f,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,U],[f,h]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,O],[f,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,O],[f,v]],[/(macintosh);/i],[d,[p,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,j],[f,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,L],[f,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,L],[f,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,q],[f,h]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,q],[f,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[f,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[f,h]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[f,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,B],[f,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,B],[f,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,I],[f,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,I],[f,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[f,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[f,h]],[/(pixel c)\b/i],[d,[p,C],[f,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,C],[f,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,D],[f,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,D],[f,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[f,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,S],[f,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,S],[f,h]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[f,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,E],[f,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,R],[f,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,R],[f,h]],[/(nexus 9)/i],[d,[p,"HTC"],[f,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[f,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[f,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[f,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[f,h]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[f,v]],[/(surface duo)/i],[d,[p,M],[f,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[f,h]],[/(u304aa)/i],[d,[p,"AT&T"],[f,h]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[f,h]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[f,v]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[f,v]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[f,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[f,v]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[f,v]],[/\b(k88) b/i],[d,[p,"ZTE"],[f,v]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[f,h]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[f,h]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[f,v]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[f,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[f,v]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[f,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[f,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[f,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[f,h]],[/\b(ph-1) /i],[d,[p,"Essential"],[f,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[f,v]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[f,v]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[f,v]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[f,v]],[/(sprint) (\w+)/i],[p,d,[f,h]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,M],[f,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,F],[f,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,F],[f,h]],[/smart-tv.+(samsung)/i],[p,[f,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,U],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,I],[f,y]],[/(apple) ?tv/i],[p,[d,O+" TV"],[f,y]],[/crkey/i],[[d,N+"cast"],[p,C],[f,y]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,S],[f,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,j],[f,y]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,D],[f,y]],[/(mitv-\w{5}) bui/i],[d,[p,q],[f,y]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,H],[d,H],[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[f,g]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[d,[p,D],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,M],[f,g]],[/((pebble))app/i],[p,d,[f,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,O],[f,x]],[/droid.+; (glass) \d/i],[d,[p,C],[f,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,F],[f,x]],[/(quest( 2| pro)?)/i],[d,[p,W],[f,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,k]],[/(aeobc)\b/i],[d,[p,S],[f,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[f,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,h]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[b,[m,Y,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,"Windows"],[m,Y,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,V],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,m],[/\(bb(10);/i],[m,[b,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[b,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[b,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,_],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,m],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,m]]},J=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var r=typeof n!==s&&n.navigator?n.navigator:o,i=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:o,y=t?function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r}(K,t):K,x=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[b]=o,t[m]=o,X.call(t,i,y.browser),t[u]=typeof(e=t[m])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o,x&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[b]="Brave"),t},this.getCPU=function(){var e={};return e[w]=o,X.call(e,i,y.cpu),e},this.getDevice=function(){var e={};return e[p]=o,e[d]=o,e[f]=o,X.call(e,i,y.device),x&&!e[f]&&g&&g.mobile&&(e[f]=h),x&&"Macintosh"==e[d]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[f]=v),e},this.getEngine=function(){var e={};return e[b]=o,e[m]=o,X.call(e,i,y.engine),e},this.getOS=function(){var e={};return e[b]=o,e[m]=o,X.call(e,i,y.os),x&&!e[b]&&g&&"Unknown"!=g.platform&&(e[b]=g.platform.replace(/chrome os/i,_).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===l&&e.length>350?H(e,350):e,this},this.setUA(i),this};J.VERSION="1.0.36",J.BROWSER=$([b,m,u]),J.CPU=$([w]),J.DEVICE=$([d,p,f,g,h,y,v,x,k]),J.ENGINE=J.OS=$([b,m]),typeof t!==s?(e.exports&&(t=e.exports=J),t.UAParser=J):r.amdO?(i=function(){return J}.call(t,r,t,e))===o||(e.exports=i):typeof n!==s&&(n.UAParser=J);var Q=typeof n!==s&&(n.jQuery||n.Zepto);if(Q&&!Q.ua){var ee=new J;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)Q.ua[r]=t[r]}}}("object"==typeof window?window:this)}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=Symbol.for("RemoteUi::Retain"),t=Symbol.for("RemoteUi::Release"),i=Symbol.for("RemoteUi::RetainedBy");class n{constructor(){this.memoryManaged=new Set}add(t){this.memoryManaged.add(t),t[i].add(this),t[e]()}release(){for(const e of this.memoryManaged)e[i].delete(this),e[t]();this.memoryManaged.clear()}}function o(r){return Boolean(r&&r[e]&&r[t])}function a(e,{deep:t=!0}={}){return s(e,t,new Map)}function s(t,r,i){const n=i.get(t);if(null!=n)return n;const a=o(t);if(a&&t[e](),i.set(t,a),r){if(Array.isArray(t)){const e=t.reduce(((e,t)=>s(t,r,i)||e),a);return i.set(t,e),e}if(c(t)){const e=Object.keys(t).reduce(((e,n)=>s(t[n],r,i)||e),a);return i.set(t,e),e}}return i.set(t,a),a}function c(e){if(null==e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return null==t||t===Object.prototype}const l="remote-ui::ready",u="_@f";function d(r){const a=new Map,s=new Map,l=new Map;return{encode:function e(t,i=new Map){if(null==t)return[t];const n=i.get(t);if(n)return n;if("object"==typeof t){if(Array.isArray(t)){i.set(t,[void 0]);const r=[],n=[t.map((t=>{const[n,o=[]]=e(t,i);return r.push(...o),n})),r];return i.set(t,n),n}if(c(t)){i.set(t,[void 0]);const r=[],n=[Object.keys(t).reduce(((n,o)=>{const[a,s=[]]=e(t[o],i);return r.push(...s),{...n,[o]:a}}),{}),r];return i.set(t,n),n}}if("function"==typeof t){if(a.has(t)){const e=a.get(t),r=[{[u]:e}];return i.set(t,r),r}const e=r.uuid();a.set(t,e),s.set(e,t);const n=[{[u]:e}];return i.set(t,n),n}const o=[t];return i.set(t,o),o},decode:d,async call(e,t){const r=new n,a=s.get(e);if(null==a)throw new Error("You attempted to call a function that was already released.");try{const e=o(a)?[r,...a[i]]:[r];return await a(...d(t,e))}finally{r.release()}},release(e){const t=s.get(e);t&&(s.delete(e),a.delete(t))},terminate(){a.clear(),s.clear(),l.clear()}};function d(n,o){if("object"==typeof n){if(null==n)return n;if(n instanceof ArrayBuffer)return n;if(Array.isArray(n))return n.map((e=>d(e,o)));if(u in n){const a=n[u];if(l.has(a))return l.get(a);let s=0,c=!1;const d=()=>{s-=1,0===s&&(c=!0,l.delete(a),r.release(a))},b=()=>{s+=1},f=new Set(o),p=(...e)=>{if(c)throw new Error("You attempted to call a function that was already released.");if(!l.has(a))throw new Error("You attempted to call a function that was already revoked.");return r.call(a,e)};Object.defineProperties(p,{[t]:{value:d,writable:!1},[e]:{value:b,writable:!1},[i]:{value:f,writable:!1}});for(const e of f)e.add(p);return l.set(a,p),p}return Object.keys(n).reduce(((e,t)=>({...e,[t]:d(n[t],o)})),{})}return n}}function b(){return`${f()}-${f()}-${f()}-${f()}`}function f(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}const p="production",m="0.0.429",w="71a5e79bw448c3389pb25a9fb4m952c72b1",g="s71a5e79bw448c3389pb25a9fb4m952c72b1m.js",h=new URL(self.location.href);class v extends Error{constructor(...e){super(...e),this.message="Invalid Extension Point"}}class y extends Error{constructor(...e){super(...e),this.name="SandboxAlreadyInitializedError",this.message="Sandbox already initialized."}}var x=r(747),k=r.n(x);class S extends Error{constructor(...e){super(...e),this.message="Excessive Stacktrace: May indicate infinite loop forming"}}var O=r(700);const R={production:"https://notify.bugsnag.com",test:"https://localhost"},E={severity:"error",context:"",unhandled:!0,library:"sandbox"},A=(e,t)=>{try{var r;if(null!=t&&null!==(r=t.options)&&void 0!==r&&r.sampleRate&&!function(e){if(e<=0||e>100)throw new Error("Invalid sampling percent");return 100*Math.random()<=e}(t.options.sampleRate))return;const a={...E,...t};let s={errorClass:null==e?void 0:e.name,message:null==e?void 0:e.message,stacktrace:[],type:"browserjs"};try{s=function(e){if("string"!=typeof((null==(t=e)?void 0:t.stack)||(null==t?void 0:t.stacktrace)||(null==t?void 0:t["opera#sourceloc"]))||t.stack===`${t.name}: ${t.message}`)throw new Error("Error incompatible with error-stack-parser");var t;const r=k().parse(e).reduce(((e,t)=>{const r=function({functionName:e,lineNumber:t,columnNumber:r}){const i=/^global code$/i.test((n=e)||"")?"global code":n;var n;return{file:`https://cdn.shopify.com/cdn/wpm/${g}`,method:i,lineNumber:t,columnNumber:r}}(t);try{return"{}"===JSON.stringify(r)?e:e.concat(r)}catch(i){return e}}),[]);return{errorClass:null==e?void 0:e.name,message:null==e?void 0:e.message,stacktrace:r,type:"browserjs"}}(e)}catch(n){try{s=function(e,t){let r="";const i={lineNumber:"1",columnNumber:"1",method:t.context,file:`https://cdn.shopify.com/cdn/wpm/${g}`};if(e.stackTrace||e.stack||e.description){r=e.stack.split("\n")[0];const t=e.stack.match(/([0-9]+):([0-9]+)/);if(t&&t.length>2&&(i.lineNumber=t[1],i.columnNumber=t[2],parseInt(i.lineNumber,10)>1e5))throw new S}return{errorClass:(null==e?void 0:e.name)||r,message:(null==e?void 0:e.message)||r,stacktrace:[i],type:"browserjs"}}(e,a)}catch(o){if(o instanceof S)return}}const c=function(t,{userAgent:r,context:i,severity:n,unhandled:o,library:a,hashVersionSandbox:s,sandboxUrl:c,pixelId:l,pixelType:u,runtimeContext:d,shopId:b,initConfig:f,notes:g}){var h,v;const{device:y,os:x,browser:k,engine:S}=function(t){try{return new O.UAParser(t).getResult()}catch(e){return{ua:"",browser:{name:"",version:"",major:""},engine:{name:"",version:""},os:{name:"",version:""},device:{model:"",type:"",vendor:""},cpu:{architecture:""}}}}(r||(null===(h=self.navigator)||void 0===h?void 0:h.userAgent));return{payloadVersion:5,notifier:{name:"web-pixel-manager",version:m,url:"-"},events:[{exceptions:[t],context:i,severity:n,unhandled:o,app:{version:m},device:{manufacturer:y.vendor,model:y.model,osName:x.name,osVersion:x.version,browserName:k.name,browserVersion:k.version},metaData:{app:{library:a,browserTarget:"modern",env:p,hashVersion:w,hashVersionSandbox:s||"N/A",sandboxUrl:c||"N/A"},device:{userAgent:r||(null===(v=self.navigator)||void 0===v?void 0:v.userAgent),renderingEngineName:S.name,renderingEngineVersion:S.version},request:{shopId:b,shopUrl:self.location.href,pixelId:l,pixelType:u,runtimeContext:d},"Additional Notes":{initConfig:JSON.stringify(f),notes:g}}}]}}(s,a),l=R[p];var i;if(!l)return void(null===(i=console)||void 0===i||i.log(`[${p}]`,"Bugsnag notify:",c));fetch(l,{method:"POST",headers:{"Content-Type":"application/json","Bugsnag-Api-Key":"bcbc9f6762da195561967577c2d74ff8","Bugsnag-Payload-Version":"5"},body:JSON.stringify(c)}).catch((()=>{}))}catch(a){}};function N(e,t,r,i=!0){try{const n={...i?Object.getOwnPropertyDescriptor(e,t):{},...r};return Object.defineProperty(e,t,n)}catch(n){return e}}class T extends Error{constructor(...e){super(...e),this.name="InsecureUrlError"}}class C extends Error{constructor(...e){super(...e),this.name="RestrictedUrlError"}}function L(e){const t=new URL(e);if("https:"!==t.protocol)throw new T(`URL must be secure (HTTPS): ${t.href}`);const r=h.host.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");if(new RegExp(`^https://(.*@)?${r}`,"i").test(t.href))throw new C(`Request are not allowed to the same origin: ${t.href}`);return t}function I(){const e=XMLHttpRequest.prototype.open;return XMLHttpRequest.prototype.open=function(t,r,i=!0,n,o){return e.call(this,t,L(r),i,n,o)},XMLHttpRequest}const M={Request:!1,Response:!1,Headers:!1,XMLHttpRequest:!1,XMLHttpRequestEventTarget:!1,XMLHttpRequestUpload:!1},B={BarcodeDetector:!0,BroadcastChannel:!0,Cache:!0,caches:!0,CustomEvent:!0,FormData:!0,ImageData:!0,NetworkInformation:!0,ServiceWorkerRegistration:!0,WebSocket:!0,Browser:!0,WorkerBrowser:!0,MessageChannel:!0,MessagePort:!0,crypto:!1,Crypto:!1,CryptoKey:!1,SubtleCrypto:!1,TextDecoder:!1,TextDecoderStream:!1,TextEncoder:!1,TextEncoderStream:!1,Request:!1,Response:!1,Headers:!1,indexedDB:!0,IDBCursor:!0,IDBCursorWithValue:!0,IDBDatabase:!0,IDBFactory:!0,IDBIndex:!0,IDBKeyRange:!0,IDBObjectStore:!0,IDBOpenDBRequest:!0,IDBRequest:!0,IDBTransaction:!0,IDBVersionChangeEvent:!0,Navigator:!0,navigator:!0,Notification:!0,NotificationEvent:!0,EventSource:!0,WebGL2RenderingContext:!0,WebGLActiveInfo:!0,WebGLBuffer:!0,WebGLFramebuffer:!0,WebGLProgram:!0,WebGLQuery:!0,WebGLRenderbuffer:!0,WebGLRenderingContext:!0,WebGLSampler:!0,WebGLShader:!0,WebGLShaderPrecisionFormat:!0,WebGLSync:!0,WebGLTexture:!0,WebGLTransformFeedback:!0,WebGLUniformLocation:!0,WebGLVertexArrayObject:!0,Path2D:!0,Worker:!0,WorkerLocation:!0,WorkerNavigator:!0,ServiceWorker:!0,ServiceWorkerContainer:!0,XMLHttpRequest:!0,XMLHttpRequestEventTarget:!0,XMLHttpRequestUpload:!0,ArrayBuffer:!1,Uint8Array:!1,Int8Array:!1,Uint16Array:!1,Int16Array:!1,Uint32Array:!1,Int32Array:!1,Float32Array:!1,Float64Array:!1,Uint8ClampedArray:!1,BigUint64Array:!1,BigInt64Array:!1,DataView:!1,PushSubscriptionOptions:!0,PushSubscription:!0,PushManager:!0,Permissions:!0,PermissionStatus:!0,PeriodicSyncManager:!0,PaymentInstruments:!0,NavigatorUAData:!0,BackgroundFetchRegistration:!0,BackgroundFetchRecord:!0,BackgroundFetchManager:!0,WritableStreamDefaultWriter:!0,WritableStreamDefaultController:!0,WritableStream:!0,ReadableStreamDefaultReader:!0,ReadableStreamDefaultController:!0,ReadableStreamBYOBRequest:!0,ReadableStreamBYOBReader:!0,ReadableStream:!0,ReadableByteStreamController:!0,RTCEncodedVideoFrame:!0,RTCEncodedAudioFrame:!0,RTCDataChannel:!0,RTCTransformEvent:!0,RTCRtpScriptTransformer:!0,OffscreenCanvasRenderingContext2D:!0,OffscreenCanvas:!0,FontFace:!0,FontFaceSet:!0,FileReaderSync:!0,FileReader:!0,FileList:!0,File:!0,FileSystemDirectoryHandle:!0,FileSystemFileHandle:!0,FileSystemHandle:!0,FileSystemWritableFileStream:!0,FileSystemSyncAccessHandle:!0,webkitRequestFileSystem:!0,webkitRequestFileSystemSync:!0,webkitResolveLocalFileSystemSyncURL:!0,webkitResolveLocalFileSystemURL:!0,DOMStringList:!0,DOMRectReadOnly:!0,DOMRect:!0,DOMQuad:!0,DOMPointReadOnly:!0,DOMPoint:!0,DOMMatrixReadOnly:!0,DOMMatrix:!0,DOMException:!0,CompressionStream:!0,Atomics:!0,WebAssembly:!0,AudioData:!0,EncodedAudioChunk:!0,EncodedVideoChunk:!0,ImageTrack:!0,ImageTrackList:!0,VideoColorSpace:!0,VideoFrame:!0,AudioDecoder:!0,AudioEncoder:!0,ImageDecoder:!0,VideoDecoder:!0,VideoEncoder:!0,AudioTrackConfiguration:!0,VideoTrackConfiguration:!0,Lock:!0,LockManager:!0,WebTransport:!0,WebTransportBidirectionalStream:!0,WebTransportDatagramDuplexStream:!0,WebTransportError:!0,Serial:!0,SerialPort:!0,USB:!0,USBAlternateInterface:!0,USBConfiguration:!0,USBConnectionEvent:!0,USBDevice:!0,USBEndpoint:!0,USBInTransferResult:!0,USBInterface:!0,USBIsochronousInTransferPacket:!0,USBIsochronousInTransferResult:!0,USBIsochronousOutTransferPacket:!0,USBIsochronousOutTransferResult:!0,USBOutTransferResult:!0,URL:{createObjectURL:!0}};function P(e,t){let r=e;do{Object.getOwnPropertyNames(r).filter((e=>e in t&&!1!==t[e])).forEach((e=>{try{let i;"object"==typeof t[e]?(i=r[e],P(i,t[e])):i=!0===t[e]?void 0:t[e],N(r,e,{value:i,configurable:!1,enumerable:!1,writable:!1},!1)}catch(i){}})),r=Object.getPrototypeOf(r)}while(r!==Object.prototype)}function U(e,t=self){const r={...e?B:M,fetch:(i=t.fetch,(e,t)=>{const r=new Request(e);return L(r.url),i(r,t)}),XMLHttpRequest:I()};var i;e||(r.addEventListener=function(e){let t=!1;return(r,i,n)=>(t||(console.warn("In a sandboxed environment, addEventListener may not behave as expected."),t=!0),e(r,i,n))}(t.addEventListener)),P(t,r),Object.freeze(String.prototype),Object.freeze(Request.prototype),Object.freeze(URL.prototype),Object.freeze(RegExp.prototype),N(self,"String",{writable:!1,configurable:!1}),N(self,"Request",{writable:!1,configurable:!1}),N(self,"URL",{writable:!1,configurable:!1}),N(self,"RegExp",{writable:!1,configurable:!1})}async function j(e,t=""){const r=new self.Blob([t],{type:"text/plain"});try{return await self.fetch(e,{method:"POST",keepalive:!0,body:r}),!0}catch{return!1}}function D(e){let t=e;return{update:async function(e,r){try{t=r(),t=await e()}catch(i){console.error(i)}return t},getRemote:async function(e){try{t=await e()}catch(r){console.error(r)}return t},getValue:()=>t}}function q(e,t){const r=new Map(Object.keys(e).map((t=>[t,e[t]])));return{getItem:e=>r.get(e)||null,setItem(e,i){t.setItem(e,i),r.set(e,i)},removeItem(e){t.removeItem(e),r.delete(e)},clear(){t.clear(),r.clear()},get length(){return r.size},key(e){var t;return null!==(t=Array.from(r.keys()).find(((t,r)=>r===e)))&&void 0!==t?t:null}}}function F(e){(function({webPixelApi:e,cookie:t,cookieRestrictedDomains:r}){const i=D(t);N(document,"cookie",{get:function(){return i.getRemote(e.browser.cookie.get),i.getValue()},set:function(t){const n=t.split(";").map((e=>e.trim())).find((e=>e.startsWith("domain="))),o=(null==n?void 0:n.split("=")[1])||"";if(!(r.filter((e=>new RegExp(`^\\.?${e}$`).test(o))).length>0)){const r=i.getValue();i.update((()=>e.browser.cookie.set(t)),(()=>function(e,t){const r=e.split("; ").reduce(((e,t)=>{const[r,i]=t.split("=");return i&&(e[r]=i),e}),{}),i=t.split(";")[0],[n,o]=i.split("=");return r[n]=o,Object.keys(r).map((e=>`${e}=${r[e]}`)).join("; ")}(r,t)))}},configurable:!1,enumerable:!1})})(e),function({origin:e,internalApi:t}){const r=D(e);N(window,"origin",{get:function(){return r.getRemote(t.self.origin.get),r.getValue()},configurable:!1,enumerable:!1})}(e),function({referrer:e,internalApi:t}){const r=D(e);N(document,"referrer",{get:()=>(r.getRemote(t.document.referrer.get),r.getValue()),configurable:!1,enumerable:!1})}(e),function({webPixelApi:e,localStorageItems:t}){const r=q(t,e.browser.localStorage);N(window,"localStorage",{get:()=>r,configurable:!1,enumerable:!1})}(e),function({webPixelApi:e,sessionStorageItems:t}){const r=q(t,e.browser.sessionStorage);N(window,"sessionStorage",{get:()=>r,configurable:!1,enumerable:!1})}(e)}const W=function(){try{return self instanceof DedicatedWorkerGlobalScope}catch(e){return!1}}();let _;Object.defineProperty(self,"webPixelsManager",{value:{createShopifyExtend:()=>({extend:async(e,t)=>{if("WebPixel::Render"!==e)throw new v;_=t}})},enumerable:!0,writable:!1});let V=!1;const $=async e=>{var t;const{pageTitle:r,webPixelConfig:i,shopId:n,webPixelApi:o,internalApi:s}=e,c=o.init.context;if(V){const e=new y;throw A(e,{pixelId:i.id,pixelType:i.type,runtimeContext:i.runtimeContext,shopId:n,context:"v0/createSandbox/alreadyInitialized",userAgent:c.navigator.userAgent||self.navigator.userAgent,hashVersionSandbox:w,sandboxUrl:h.href||"unknown"}),e}V=!0,a(o),a(s);try{W&&(o.browser.sendBeacon=j),W||(F(e),self.document.title=r)}catch(l){throw A(l,{pixelId:i.id,pixelType:i.type,runtimeContext:i.runtimeContext,shopId:n,context:"v0/createSandbox/createRestrictedEnvironment",userAgent:c.navigator.userAgent||self.navigator.userAgent,hashVersionSandbox:w,sandboxUrl:h.href||"unknown"}),l}if("function"==typeof self.initWebPixel)try{self.initWebPixel()}catch(l){}return await(null===(t=_)||void 0===t?void 0:t.call(o,o)),{status:"success",hashVersion:w,sandboxUrl:h.href||"unknown"}};!function(){const e=W?"worker":"iframe";try{(function(e,{uuid:t=b,createEncoder:r=d,callable:i}={}){let o=!1,a=e;const s=new Map,c=new Map,l=function(e,t){let r;if(null==t){if("function"!=typeof Proxy)throw new Error("You must pass an array of callable methods in environments without Proxies.");const t=new Map;r=new Proxy({},{get(r,i){if(t.has(i))return t.get(i);const n=e(i);return t.set(i,n),n}})}else{r={};for(const i of t)Object.defineProperty(r,i,{value:e(i),writable:!1,configurable:!0,enumerable:!0})}return r}(m,i),u=r({uuid:t,release(e){f(3,[e])},call(e,r,i){const n=t(),o=w(n,i),[a,s]=u.encode(r);return f(5,[n,e,a],s),o}});return a.addEventListener("message",p),{call:l,replace(e){const t=a;a=e,t.removeEventListener("message",p),e.addEventListener("message",p)},expose(e){for(const t of Object.keys(e)){const r=e[t];"function"==typeof r?s.set(t,r):s.delete(t)}},callable(...e){if(null!=i)for(const t of e)Object.defineProperty(l,t,{value:m(t),writable:!1,configurable:!0,enumerable:!0})},terminate(){f(2,void 0),g(),a.terminate&&a.terminate()}};function f(e,t,r){o||a.postMessage(t?[e,t]:[e],r)}async function p(e){const{data:t}=e;if(null!=t&&Array.isArray(t))switch(t[0]){case 2:g();break;case 0:{const e=new n,[i,o,a]=t[1],c=s.get(o);try{if(null==c)throw new Error(`No '${o}' method is exposed on this endpoint`);const[t,r]=u.encode(await c(...u.decode(a,[e])));f(1,[i,void 0,t],r)}catch(r){const{name:e,message:t,stack:n}=r;throw f(1,[i,{name:e,message:t,stack:n}]),r}finally{e.release()}break}case 1:{const[e]=t[1];c.get(e)(...t[1]),c.delete(e);break}case 3:{const[e]=t[1];u.release(e);break}case 6:{const[e]=t[1];c.get(e)(...t[1]),c.delete(e);break}case 5:{const[e,i,n]=t[1];try{const t=await u.call(i,n),[r,o]=u.encode(t);f(6,[e,void 0,r],o)}catch(r){const{name:t,message:i,stack:n}=r;throw f(6,[e,{name:t,message:i,stack:n}]),r}break}}}function m(e){return(...r)=>{if(o)return Promise.reject(new Error("You attempted to call a function on a terminated web worker."));if("string"!=typeof e&&"number"!=typeof e)return Promise.reject(new Error(`Can’t call a symbol method on a remote endpoint: ${e.toString()}`));const i=t(),n=w(i),[a,s]=u.encode(r);return f(0,[i,e,a],s),n}}function w(e,t){return new Promise(((r,i)=>{c.set(e,((e,n,o)=>{if(null==n)r(o&&u.decode(o,t));else{const e=new Error;Object.assign(e,n),i(e)}}))}))}function g(){var e;o=!0,s.clear(),c.clear(),null===(e=u.terminate)||void 0===e||e.call(u),a.removeEventListener("message",p)}})(W?self:function({targetOrigin:e="*"}={}){if("undefined"==typeof self||null==self.parent)throw new Error("This does not appear to be a child iframe, because there is no parent window.");const{parent:t}=self,r=()=>t.postMessage(l,e);window.addEventListener("message",(e=>{e.source===t&&"complete"===document.readyState&&e.data===l&&r()})),"complete"===document.readyState?r():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&r()}));const i=new WeakMap;return{postMessage(r,i){t.postMessage(r,e,i)},addEventListener(e,r){const n=e=>{e.source===t&&r(e)};i.set(r,n),self.addEventListener(e,n)},removeEventListener(e,t){const r=i.get(t);null!=r&&(i.delete(t),self.removeEventListener(e,r))}}}(),{callable:[]}).expose({initialize:$})}catch(t){A(t,{context:`v0/createSandbox/${e}`})}U(W)}()})()})();
?t.body:JSON.stringify(kd.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,h)&&(o[h]=t[h])}}),o}function Bd(t,e,r){let n={...Dd,...r&&r.include};if(n.request){let o=Array.isArray(n.request)?Oo(e,{include:n.request,deps:r&&r.deps}):Oo(e,{deps:r&&r.deps});t.request={...t.request,...o}}if(n.user){let o=e.user&&di.isPlainObject(e.user)?Fd(e.user,n.user):{};Object.keys(o).length&&(t.user={...t.user,...o})}if(n.ip){let o=e.ip||e.socket&&e.socket.remoteAddress;o&&(t.user={...t.user,ip_address:o})}return n.transaction&&!t.transaction&&(t.transaction=Gd(e,n.transaction)),t}function pi(t,e){let r=t.originalUrl||t.url||"";if(r)return r.startsWith("/")&&(r=`http://dogs.are.great${r}`),t.query||typeof URL!==void 0&&new URL(r).search.replace("?","")||e&&e.url&&e.url.parse(r).query||void 0}Rt.addRequestDataToEvent=Bd;Rt.addRequestDataToTransaction=jd;Rt.extractPathForTransaction=on;Rt.extractRequestData=Oo});var gi=j(ir=>{Object.defineProperty(ir,"__esModule",{value:!0});var fi=["fatal","error","warning","log","info","debug"];function Hd(t){return mi(t)}function mi(t){return t==="warn"?"warning":fi.includes(t)?t:"log"}ir.severityFromString=Hd;ir.severityLevelFromString=mi;ir.validSeverityLevels=fi});var No=j((Ce,vi)=>{Object.defineProperty(Ce,"__esModule",{value:!0});var Ei=ho(),qd=Xe(),yi=qd.getGlobalObject(),Po={nowSeconds:()=>Date.now()/1e3};function Yd(){let{performance:t}=yi;if(!t||!t.now)return;let e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function $d(){try{return Ei.dynamicRequire(vi,"perf_hooks").performance}catch{return}}var sn=Ei.isNodeEnv()?$d():Yd(),hi=sn===void 0?Po:{nowSeconds:()=>(sn.timeOrigin+sn.now())/1e3},zd=Po.nowSeconds.bind(Po),Si=hi.nowSeconds.bind(hi),Vd=Si,Kd=sn!==void 0;Ce._browserPerformanceTimeOriginMode=void 0;var Jd=(()=>{let{performance:t}=yi;if(!t||!t.now){Ce._browserPerformanceTimeOriginMode="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=o<e,a=t.timing&&t.timing.navigationStart,d=typeof a=="number"?Math.abs(a+r-n):e,c=d<e;return s||c?o<=d?(Ce._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(Ce._browserPerformanceTimeOriginMode="navigationStart",a):(Ce._browserPerformanceTimeOriginMode="dateNow",n)})();Ce.browserPerformanceTimeOrigin=Jd;Ce.dateTimestampInSeconds=zd;Ce.timestampInSeconds=Si;Ce.timestampWithMs=Vd;Ce.usingPerformanceAPI=Kd});var Io=j(lt=>{Object.defineProperty(lt,"__esModule",{value:!0});var Wd=Ae(),Xd=Et(),Zd="baggage",Mo="sentry-",Ti=/^sentry-/,Oi=8192;function Qd(t){if(!Wd.isString(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((n,o)=>{let s=bi(o);return{...n,...s}},{});else{if(!t)return;e=bi(t)}let r=Object.entries(e).reduce((n,[o,s])=>{if(o.match(Ti)){let a=o.slice(Mo.length);n[a]=s}return n},{});if(Object.keys(r).length>0)return r}function ep(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,o])=>(o&&(r[`${Mo}${n}`]=o),r),{});return tp(e)}function bi(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(e[r]=n,e),{})}function tp(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],o)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=o===0?s:`${e},${s}`;return a.length>Oi?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Xd.logger.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}lt.BAGGAGE_HEADER_NAME=Zd;lt.MAX_BAGGAGE_STRING_LENGTH=Oi;lt.SENTRY_BAGGAGE_KEY_PREFIX=Mo;lt.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Ti;lt.baggageHeaderToDynamicSamplingContext=Qd;lt.dynamicSamplingContextToSentryBaggageHeader=ep});var Mi=j(kt=>{Object.defineProperty(kt,"__esModule",{value:!0});var rp=Io(),an=Qr(),Pi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ni(t){if(!t)return;let e=t.match(Pi);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function np(t,e){let r=Ni(t),n=rp.baggageHeaderToDynamicSamplingContext(e),{traceId:o,parentSpanId:s,parentSampled:a}=r||{},i={traceId:o||an.uuid4(),spanId:an.uuid4().substring(16),sampled:a};return s&&(i.parentSpanId=s),n&&(i.dsc=n),{traceparentData:r,dynamicSamplingContext:n,propagationContext:i}}function op(t=an.uuid4(),e=an.uuid4().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}kt.TRACEPARENT_REGEXP=Pi;kt.extractTraceparentData=Ni;kt.generateSentryTraceHeader=op;kt.tracingContextFromHeaders=np});var Ao=j(Re=>{Object.defineProperty(Re,"__esModule",{value:!0});var sp=Qn(),ap=or(),Ii=yt();function ip(t,e=[]){return[t,e]}function up(t,e){let[r,n]=t;return[r,[...n,e]]}function wi(t,e){let r=t[1];for(let n of r){let o=n[0].type;if(e(n,o))return!0}return!1}function lp(t,e){return wi(t,(r,n)=>e.includes(n))}function wo(t,e){return(e||new TextEncoder).encode(t)}function cp(t,e){let[r,n]=t,o=JSON.stringify(r);function s(a){typeof o=="string"?o=typeof a=="string"?o+a:[wo(o,e),a]:o.push(typeof a=="string"?wo(a,e):a)}for(let a of n){let[i,d]=a;if(s(`
${JSON.stringify(i)}
`),typeof d=="string"||d instanceof Uint8Array)s(d);else{let c;try{c=JSON.stringify(d)}catch{c=JSON.stringify(ap.normalize(d))}s(c)}}return typeof o=="string"?o:dp(o)}function dp(t){let e=t.reduce((o,s)=>o+s.length,0),r=new Uint8Array(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}function pp(t,e,r){let n=typeof t=="string"?e.encode(t):t;function o(d){let c=n.subarray(0,d);return n=n.subarray(d+1),c}function s(){let d=n.indexOf(10);return d<0&&(d=n.length),JSON.parse(r.decode(o(d)))}let a=s(),i=[];for(;n.length;){let d=s(),c=typeof d.length=="number"?d.length:void 0;i.push([d,c?o(c):s()])}return[a,i]}function _p(t,e){let r=typeof t.data=="string"?wo(t.data,e):t.data;return[Ii.dropUndefinedKeys({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var fp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function mp(t){return fp[t]}function gp(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function hp(t,e,r,n){let o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:sp.dsnToString(n)},...o&&{trace:Ii.dropUndefinedKeys({...o})}}}Re.addItemToEnvelope=up;Re.createAttachmentEnvelopeItem=_p;Re.createEnvelope=ip;Re.createEventEnvelopeHeaders=hp;Re.envelopeContainsItemType=lp;Re.envelopeItemTypeToDataCategory=mp;Re.forEachEnvelopeItem=wi;Re.getSdkMetadataForEnvelopeHeader=gp;Re.parseEnvelope=pp;Re.serializeEnvelope=cp});var Ai=j(Co=>{Object.defineProperty(Co,"__esModule",{value:!0});var Ep=Ao(),yp=No();function Sp(t,e,r){let n=[{type:"client_report"},{timestamp:r||yp.dateTimestampInSeconds(),discarded_events:t}];return Ep.createEnvelope(e?{dsn:e}:{},[n])}Co.createClientReportEnvelope=Sp});var Ui=j(bt=>{Object.defineProperty(bt,"__esModule",{value:!0});var Ci=60*1e3;function Ri(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?Ci:n-e}function ki(t,e){return t[e]||t.all||0}function vp(t,e,r=Date.now()){return ki(t,e)>r}function bp(t,{statusCode:e,headers:r},n=Date.now()){let o={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let i of s.trim().split(",")){let[d,c]=i.split(":",2),y=parseInt(d,10),h=(isNaN(y)?60:y)*1e3;if(!c)o.all=n+h;else for(let S of c.split(";"))o[S]=n+h}else a?o.all=n+Ri(a,n):e===429&&(o.all=n+60*1e3);return o}bt.DEFAULT_RETRY_AFTER=Ci;bt.disabledUntil=ki;bt.isRateLimited=vp;bt.parseRetryAfterHeader=Ri;bt.updateRateLimits=bp});var Li=j(Ro=>{Object.defineProperty(Ro,"__esModule",{value:!0});function Di(t,e,r){let n=e.match(/([a-z_]+)\.(.*)/i);if(n===null)t[e]=r;else{let o=t[n[1]];Di(o,n[2],r)}}function Tp(t,e,r={}){return Array.isArray(e)?xi(t,e,r):Op(t,e,r)}function xi(t,e,r){let n=e.find(o=>o.name===t.name);if(n){for(let[o,s]of Object.entries(r))Di(n,o,s);return e}return[...e,t]}function Op(t,e,r){return o=>{let s=e(o);return t.allowExclusionByUser&&!s.find(i=>i.name===t.name)?s:xi(t,s,r)}}Ro.addOrUpdateIntegration=Tp});var ji=j(ko=>{Object.defineProperty(ko,"__esModule",{value:!0});function Pp(t){let e=[],r={};return{add(n,o){for(;e.length>=t;){let s=e.shift();s!==void 0&&delete r[s]}r[n]&&this.delete(n),e.push(n),r[n]=o},clear(){r={},e=[]},get(n){return r[n]},size(){return e.length},delete(n){if(!r[n])return!1;delete r[n];for(let o=0;o<e.length;o++)if(e[o]===n){e.splice(o,1);break}return!0}}}ko.makeFifoCache=Pp});var Hi=j(Ut=>{Object.defineProperty(Ut,"__esModule",{value:!0});var Gi=Ae(),Fi=Qr(),Np=or(),Mp=yt();function Uo(t,e){return t(e.stack||"",1)}function Bi(t,e){let r={type:e.name||e.constructor.name,value:e.message},n=Uo(t,e);return n.length&&(r.stacktrace={frames:n}),r}function Ip(t){if("name"in t&&typeof t.name=="string"){let e=`'${t.name}' captured as exception`;return"message"in t&&typeof t.message=="string"&&(e+=` with message '${t.message}'`),e}else return"message"in t&&typeof t.message=="string"?t.message:`Object captured as exception with keys: ${Mp.extractExceptionKeysForMessage(t)}`}function wp(t,e,r,n){let o=r,a=n&&n.data&&n.data.mechanism||{handled:!0,type:"generic"};if(!Gi.isError(r)){if(Gi.isPlainObject(r)){let d=t(),c=d.getClient(),y=c&&c.getOptions().normalizeDepth;d.configureScope(S=>{S.setExtra("__serialized__",Np.normalizeToSize(r,y))});let h=Ip(r);o=n&&n.syntheticException||new Error(h),o.message=h}else o=n&&n.syntheticException||new Error(r),o.message=r;a.synthetic=!0}let i={exception:{values:[Bi(e,o)]}};return Fi.addExceptionTypeValue(i,void 0,void 0),Fi.addExceptionMechanism(i,a),{...i,event_id:n&&n.event_id}}function Ap(t,e,r="info",n,o){let s={event_id:n&&n.event_id,level:r,message:e};if(o&&n&&n.syntheticException){let a=Uo(t,n.syntheticException);a.length&&(s.exception={values:[{value:e,stacktrace:{frames:a}}]})}return s}Ut.eventFromMessage=Ap;Ut.eventFromUnknownInput=wp;Ut.exceptionFromError=Bi;Ut.parseStackFrames=Uo});var qi=j(Do=>{Object.defineProperty(Do,"__esModule",{value:!0});function Cp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Do.escapeStringForRegex=Cp});var Q=j(N=>{Object.defineProperty(N,"__esModule",{value:!0});var Rp=Aa(),xo=Jn(),Lo=Qn(),kp=ro(),jo=Xe(),Dt=ei(),Te=Ae(),un=Et(),Up=fo(),ct=Qr(),Go=ho(),Fo=or(),et=yt(),Tt=li(),Dp=ci(),ln=_i(),Bo=gi(),ur=$r(),lr=Wt(),dt=uo(),Ho=So(),xt=No(),cn=Mi(),Yi=go(),$e=Ao(),xp=Ai(),cr=Ui(),Lt=Io(),dn=To(),Lp=Li(),jp=ji(),pn=Hi(),Gp=oo(),Fp=qi(),Bp=co();N.applyAggregateErrorsToEvent=Rp.applyAggregateErrorsToEvent;N.getDomElement=xo.getDomElement;N.getLocationHref=xo.getLocationHref;N.htmlTreeAsString=xo.htmlTreeAsString;N.dsnFromString=Lo.dsnFromString;N.dsnToString=Lo.dsnToString;N.makeDsn=Lo.makeDsn;N.SentryError=kp.SentryError;N.GLOBAL_OBJ=jo.GLOBAL_OBJ;N.getGlobalObject=jo.getGlobalObject;N.getGlobalSingleton=jo.getGlobalSingleton;N.SENTRY_XHR_DATA_KEY=Dt.SENTRY_XHR_DATA_KEY;N.addInstrumentationHandler=Dt.addInstrumentationHandler;N.instrumentDOM=Dt.instrumentDOM;N.instrumentXHR=Dt.instrumentXHR;N.parseFetchArgs=Dt.parseFetchArgs;N.resetInstrumentationHandlers=Dt.resetInstrumentationHandlers;N.isDOMError=Te.isDOMError;N.isDOMException=Te.isDOMException;N.isElement=Te.isElement;N.isError=Te.isError;N.isErrorEvent=Te.isErrorEvent;N.isEvent=Te.isEvent;N.isInstanceOf=Te.isInstanceOf;N.isNaN=Te.isNaN;N.isPlainObject=Te.isPlainObject;N.isPrimitive=Te.isPrimitive;N.isRegExp=Te.isRegExp;N.isString=Te.isString;N.isSyntheticEvent=Te.isSyntheticEvent;N.isThenable=Te.isThenable;N.isVueViewModel=Te.isVueViewModel;N.CONSOLE_LEVELS=un.CONSOLE_LEVELS;N.consoleSandbox=un.consoleSandbox;N.logger=un.logger;N.originalConsoleMethods=un.originalConsoleMethods;N.memoBuilder=Up.memoBuilder;N.addContextToFrame=ct.addContextToFrame;N.addExceptionMechanism=ct.addExceptionMechanism;N.addExceptionTypeValue=ct.addExceptionTypeValue;N.arrayify=ct.arrayify;N.checkOrSetAlreadyCaught=ct.checkOrSetAlreadyCaught;N.getEventDescription=ct.getEventDescription;N.parseSemver=ct.parseSemver;N.uuid4=ct.uuid4;N.dynamicRequire=Go.dynamicRequire;N.isNodeEnv=Go.isNodeEnv;N.loadModule=Go.loadModule;N.normalize=Fo.normalize;N.normalizeToSize=Fo.normalizeToSize;N.walk=Fo.walk;N.addNonEnumerableProperty=et.addNonEnumerableProperty;N.convertToPlainObject=et.convertToPlainObject;N.dropUndefinedKeys=et.dropUndefinedKeys;N.extractExceptionKeysForMessage=et.extractExceptionKeysForMessage;N.fill=et.fill;N.getOriginalFunction=et.getOriginalFunction;N.markFunctionWrapped=et.markFunctionWrapped;N.objectify=et.objectify;N.urlEncode=et.urlEncode;N.basename=Tt.basename;N.dirname=Tt.dirname;N.isAbsolute=Tt.isAbsolute;N.join=Tt.join;N.normalizePath=Tt.normalizePath;N.relative=Tt.relative;N.resolve=Tt.resolve;N.makePromiseBuffer=Dp.makePromiseBuffer;N.addRequestDataToEvent=ln.addRequestDataToEvent;N.addRequestDataToTransaction=ln.addRequestDataToTransaction;N.extractPathForTransaction=ln.extractPathForTransaction;N.extractRequestData=ln.extractRequestData;N.severityFromString=Bo.severityFromString;N.severityLevelFromString=Bo.severityLevelFromString;N.validSeverityLevels=Bo.validSeverityLevels;N.createStackParser=ur.createStackParser;N.getFunctionName=ur.getFunctionName;N.nodeStackLineParser=ur.nodeStackLineParser;N.stackParserFromStackParserOptions=ur.stackParserFromStackParserOptions;N.stripSentryFramesAndReverse=ur.stripSentryFramesAndReverse;N.isMatchingPattern=lr.isMatchingPattern;N.safeJoin=lr.safeJoin;N.snipLine=lr.snipLine;N.stringMatchesSomePattern=lr.stringMatchesSomePattern;N.truncate=lr.truncate;N.isNativeFetch=dt.isNativeFetch;N.supportsDOMError=dt.supportsDOMError;N.supportsDOMException=dt.supportsDOMException;N.supportsErrorEvent=dt.supportsErrorEvent;N.supportsFetch=dt.supportsFetch;N.supportsNativeFetch=dt.supportsNativeFetch;N.supportsReferrerPolicy=dt.supportsReferrerPolicy;N.supportsReportingObserver=dt.supportsReportingObserver;N.SyncPromise=Ho.SyncPromise;N.rejectedSyncPromise=Ho.rejectedSyncPromise;N.resolvedSyncPromise=Ho.resolvedSyncPromise;Object.defineProperty(N,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>xt._browserPerformanceTimeOriginMode});N.browserPerformanceTimeOrigin=xt.browserPerformanceTimeOrigin;N.dateTimestampInSeconds=xt.dateTimestampInSeconds;N.timestampInSeconds=xt.timestampInSeconds;N.timestampWithMs=xt.timestampWithMs;N.usingPerformanceAPI=xt.usingPerformanceAPI;N.TRACEPARENT_REGEXP=cn.TRACEPARENT_REGEXP;N.extractTraceparentData=cn.extractTraceparentData;N.generateSentryTraceHeader=cn.generateSentryTraceHeader;N.tracingContextFromHeaders=cn.tracingContextFromHeaders;N.getSDKSource=Yi.getSDKSource;N.isBrowserBundle=Yi.isBrowserBundle;N.addItemToEnvelope=$e.addItemToEnvelope;N.createAttachmentEnvelopeItem=$e.createAttachmentEnvelopeItem;N.createEnvelope=$e.createEnvelope;N.createEventEnvelopeHeaders=$e.createEventEnvelopeHeaders;N.envelopeContainsItemType=$e.envelopeContainsItemType;N.envelopeItemTypeToDataCategory=$e.envelopeItemTypeToDataCategory;N.forEachEnvelopeItem=$e.forEachEnvelopeItem;N.getSdkMetadataForEnvelopeHeader=$e.getSdkMetadataForEnvelopeHeader;N.parseEnvelope=$e.parseEnvelope;N.serializeEnvelope=$e.serializeEnvelope;N.createClientReportEnvelope=xp.createClientReportEnvelope;N.DEFAULT_RETRY_AFTER=cr.DEFAULT_RETRY_AFTER;N.disabledUntil=cr.disabledUntil;N.isRateLimited=cr.isRateLimited;N.parseRetryAfterHeader=cr.parseRetryAfterHeader;N.updateRateLimits=cr.updateRateLimits;N.BAGGAGE_HEADER_NAME=Lt.BAGGAGE_HEADER_NAME;N.MAX_BAGGAGE_STRING_LENGTH=Lt.MAX_BAGGAGE_STRING_LENGTH;N.SENTRY_BAGGAGE_KEY_PREFIX=Lt.SENTRY_BAGGAGE_KEY_PREFIX;N.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Lt.SENTRY_BAGGAGE_KEY_PREFIX_REGEX;N.baggageHeaderToDynamicSamplingContext=Lt.baggageHeaderToDynamicSamplingContext;N.dynamicSamplingContextToSentryBaggageHeader=Lt.dynamicSamplingContextToSentryBaggageHeader;N.getNumberOfUrlSegments=dn.getNumberOfUrlSegments;N.getSanitizedUrlString=dn.getSanitizedUrlString;N.parseUrl=dn.parseUrl;N.stripUrlQueryAndFragment=dn.stripUrlQueryAndFragment;N.addOrUpdateIntegration=Lp.addOrUpdateIntegration;N.makeFifoCache=jp.makeFifoCache;N.eventFromMessage=pn.eventFromMessage;N.eventFromUnknownInput=pn.eventFromUnknownInput;N.exceptionFromError=pn.exceptionFromError;N.parseStackFrames=pn.parseStackFrames;N.filenameIsInApp=Gp.filenameIsInApp;N.escapeStringForRegex=Fp.escapeStringForRegex;N.supportsHistory=Bp.supportsHistory});var dr=j(qo=>{Object.defineProperty(qo,"__esModule",{value:!0});var Hp="production";qo.DEFAULT_ENVIRONMENT=Hp});var _r=j(pr=>{Object.defineProperty(pr,"__esModule",{value:!0});var _n=Q();function $i(){return _n.getGlobalSingleton("globalEventProcessors",()=>[])}function qp(t){$i().push(t)}function Yo(t,e,r,n=0){return new _n.SyncPromise((o,s)=>{let a=t[n];if(e===null||typeof a!="function")o(e);else{let i=a({...e},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&i===null&&_n.logger.log(`Event processor "${a.id}" dropped event`),_n.isThenable(i)?i.then(d=>Yo(t,d,r,n+1).then(o)).then(null,s):Yo(t,i,r,n+1).then(o).then(null,s)}})}pr.addGlobalEventProcessor=qp;pr.getGlobalEventProcessors=$i;pr.notifyEventProcessors=Yo});var gr=j(mr=>{Object.defineProperty(mr,"__esModule",{value:!0});var fr=Q();function Yp(t){let e=fr.timestampInSeconds(),r={sid:fr.uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>zp(r)};return t&&$o(r,t),r}function $o(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||fr.timestampInSeconds(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:fr.uuid4()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function $p(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),$o(t,r)}function zp(t){return fr.dropUndefinedKeys({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}mr.closeSession=$p;mr.makeSession=Yp;mr.updateSession=$o});var fn=j(Vo=>{Object.defineProperty(Vo,"__esModule",{value:!0});var hr=Q(),zi=_r(),Vp=gr(),Kp=100,zo=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Vi()}static clone(e){let r=new t;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata},r._propagationContext={...e._propagationContext}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Vp.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):hr.isPlainObject(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Vi(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Kp;if(n<=0)return this;let o={timestamp:hr.dateTimestampInSeconds(),...e},s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={},n){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};let a=this._span.transaction;if(a){e.sdkProcessingMetadata={dynamicSamplingContext:a.getDynamicSamplingContext(),...e.sdkProcessingMetadata};let i=a.name;i&&(e.tags={transaction:i,...e.tags})}}this._applyFingerprint(e);let o=this._getBreadcrumbs(),s=[...e.breadcrumbs||[],...o];return e.breadcrumbs=s.length>0?s:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},zi.notifyEventProcessors([...n||[],...zi.getGlobalEventProcessors(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?hr.arrayify(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function Vi(){return{traceId:hr.uuid4(),spanId:hr.uuid4().substring(16)}}Vo.Scope=zo});var De=j(Ue=>{Object.defineProperty(Ue,"__esModule",{value:!0});var ke=Q(),Jp=dr(),Jo=fn(),Ko=gr(),mn=4,Wp=100,jt=class{constructor(e,r=new Jo.Scope,n=mn){this._version=n,this._stack=[{scope:r}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=Jo.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let n=this._lastEventId=r&&r.event_id?r.event_id:ke.uuid4(),o=new Error("Sentry syntheticException");return this._withClient((s,a)=>{s.captureException(e,{originalException:e,syntheticException:o,...r,event_id:n},a)}),n}captureMessage(e,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:ke.uuid4(),s=new Error(e);return this._withClient((a,i)=>{a.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:o},i)}),o}captureEvent(e,r){let n=r&&r.event_id?r.event_id:ke.uuid4();return e.type||(this._lastEventId=n),this._withClient((o,s)=>{o.captureEvent(e,{...r,event_id:n},s)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:a=Wp}=o.getOptions&&o.getOptions()||{};if(a<=0)return;let d={timestamp:ke.dateTimestampInSeconds(),...e},c=s?ke.consoleSandbox(()=>s(d,r)):d;c!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",c,r),n.addBreadcrumb(c,a))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){let{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){let r=Wo(this);try{e(this)}finally{Wo(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ke.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let n=this._callExtensionMethod("startTransaction",e,r);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n){let o=this.getClient();console.warn(o?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&Ko.closeSession(n),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=Jp.DEFAULT_ENVIRONMENT}=n&&n.getOptions()||{},{userAgent:a}=ke.GLOBAL_OBJ.navigator||{},i=Ko.makeSession({release:o,environment:s,user:r.getUser(),...a&&{userAgent:a},...e}),d=r.getSession&&r.getSession();return d&&d.status==="ok"&&Ko.updateSession(d,{status:"exited"}),this.endSession(),r.setSession(i),i}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){let{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){let o=Ot().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[e]=="function")return o.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ke.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Ot(){return ke.GLOBAL_OBJ.__SENTRY__=ke.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},ke.GLOBAL_OBJ}function Wo(t){let e=Ot(),r=Er(e);return gn(e,t),r}function Xp(){let t=Ot();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Ki(t)}function Ki(t=Ot()){return(!Ji(t)||Er(t).isOlderThan(mn))&&gn(t,new jt),Er(t)}function Zp(t,e=Ki()){if(!Ji(t)||Er(t).isOlderThan(mn)){let r=e.getStackTop();gn(t,new jt(r.client,Jo.Scope.clone(r.scope)))}}function Qp(t){let e=Ot();e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.acs=t}function e_(t,e={}){let r=Ot();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(t,e):t()}function Ji(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Er(t){return ke.getGlobalSingleton("hub",()=>new jt,t)}function gn(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}Ue.API_VERSION=mn;Ue.Hub=jt;Ue.ensureHubOnCarrier=Zp;Ue.getCurrentHub=Xp;Ue.getHubFromCarrier=Er;Ue.getMainCarrier=Ot;Ue.makeMain=Wo;Ue.runWithAsyncContext=e_;Ue.setAsyncContextStrategy=Qp;Ue.setHubOnCarrier=gn});var hn=j(Xo=>{Object.defineProperty(Xo,"__esModule",{value:!0});var t_=De();function r_(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=t_.getCurrentHub().getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}Xo.hasTracingEnabled=r_});var En=j(Gt=>{Object.defineProperty(Gt,"__esModule",{value:!0});var n_=De(),Zo=Q();function o_(t){return(t||n_.getCurrentHub()).getScope().getTransaction()}Gt.TRACEPARENT_REGEXP=Zo.TRACEPARENT_REGEXP;Gt.extractTraceparentData=Zo.extractTraceparentData;Gt.stripUrlQueryAndFragment=Zo.stripUrlQueryAndFragment;Gt.getActiveTransaction=o_});var Xi=j(ts=>{Object.defineProperty(ts,"__esModule",{value:!0});var Qo=Q(),s_=En(),Wi=!1;function a_(){Wi||(Wi=!0,Qo.addInstrumentationHandler("error",es),Qo.addInstrumentationHandler("unhandledrejection",es))}function es(){let t=s_.getActiveTransaction();if(t){let e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Qo.logger.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}es.tag="sentry_tracingErrorCallback";ts.registerErrorInstrumentation=a_});var yn=j(yr=>{Object.defineProperty(yr,"__esModule",{value:!0});var ze=Q(),rs=class{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},ns=class t{constructor(e={}){this.traceId=e.traceId||ze.uuid4(),this.spanId=e.spanId||ze.uuid4().substring(16),this.startTimestamp=e.startTimestamp||ze.timestampInSeconds(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this.description||""}set name(e){this.setName(e)}startChild(e){let r=new t({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){let n=e&&e.op||"< unknown op >",o=r.transaction.name||"< unknown name >",s=r.transaction.spanId,a=`[Tracing] Starting '${n}' span on transaction '${o}' (${s}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:a},ze.logger.log(a)}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);let r=Zi(e);return r!=="unknown_error"&&this.setStatus(r),this}setName(e){this.description=e}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&ze.logger.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:ze.timestampInSeconds()}toTraceparent(){return ze.generateSentryTraceHeader(this.traceId,this.spanId,this.sampled)}toContext(){return ze.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return ze.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return ze.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}};function Zi(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}yr.Span=ns;yr.SpanRecorder=rs;yr.spanStatusfromHttpCode=Zi});var Sr=j(os=>{Object.defineProperty(os,"__esModule",{value:!0});var i_=Q(),u_=dr();function l_(t,e,r){let n=e.getOptions(),{publicKey:o}=e.getDsn()||{},{segment:s}=r&&r.getUser()||{},a=i_.dropUndefinedKeys({environment:n.environment||u_.DEFAULT_ENVIRONMENT,release:n.release,user_segment:s,public_key:o,trace_id:t});return e.emit&&e.emit("createDsc",a),a}os.getDynamicSamplingContextFromClient=l_});var Sn=j(as=>{Object.defineProperty(as,"__esModule",{value:!0});var vr=Q(),Qi=De(),c_=Sr(),eu=yn(),ss=class extends eu.Span{constructor(e,r){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=r||Qi.getCurrentHub(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;let n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new eu.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){let r=this._finishTransaction(e);if(r)return this._hub.captureEvent(r)}toContext(){let e=super.toContext();return vr.dropUndefinedKeys({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let e=this._hub||Qi.getCurrentHub(),r=e.getClient();if(!r)return{};let n=e.getScope(),o=c_.getDynamicSamplingContextFromClient(this.traceId,r,n),s=this.metadata.sampleRate;s!==void 0&&(o.sample_rate=`${s}`);let a=this.metadata.source;return a&&a!=="url"&&(o.transaction=this.name),this.sampled!==void 0&&(o.sampled=String(this.sampled)),o}setHub(e){this._hub=e}_finishTransaction(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&vr.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&vr.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(i=>i!==this&&i.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((i,d)=>i.endTimestamp&&d.endTimestamp?i.endTimestamp>d.endTimestamp?i:d:i).endTimestamp);let o=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...o,dynamicSamplingContext:this.getDynamicSamplingContext()},...o.source&&{transaction_info:{source:o.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&vr.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&vr.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),s}};as.Transaction=ss});var us=j(br=>{Object.defineProperty(br,"__esModule",{value:!0});var he=Q(),d_=yn(),p_=Sn(),vn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},__="finishReason",Ft=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],bn=class extends d_.SpanRecorder{constructor(e,r,n,o){super(o),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=r=>{e.endTimestamp=typeof r=="number"?r:he.timestampInSeconds(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}},is=class extends p_.Transaction{constructor(e,r,n=vn.idleTimeout,o=vn.finalTimeout,s=vn.heartbeatInterval,a=!1){super(e,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=s,this._onScope=a,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Ft[4],a&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(i=>i.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Ft[3],this.finish())},this._finalTimeout)}finish(e=he.timestampInSeconds()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(__,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(let r of this._beforeFinishCallbacks)r(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=e,r.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));let n=r.startTimestamp<e,o=(this._finalTimeout+this._idleTimeout)/1e3,s=r.endTimestamp-this.startTimestamp<o;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let a=JSON.stringify(r,void 0,2);n?s||he.logger.log("[Tracing] discarding Span since it finished after Transaction final timeout",a):he.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",a)}return n&&s}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] No active IdleTransaction");if(this._onScope){let r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=o=>{this._finished||this._pushActivity(o)},n=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new bn(r,n,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Ft[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Ft[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=he.timestampInSeconds();this._idleTimeoutCanceledPermanently?(this._finishReason=Ft[5],this.finish(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Ft[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&he.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};br.IdleTransaction=is;br.IdleTransactionSpanRecorder=bn;br.TRACING_DEFAULTS=vn});var ls=j(Tn=>{Object.defineProperty(Tn,"__esModule",{value:!0});var pt=Q(),f_=De(),m_=hn(),g_=Xi(),h_=us(),E_=Sn();function y_(){let e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function tu(t,e,r){if(!m_.hasTracingEnabled(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:typeof e.tracesSampleRate<"u"?(n=e.tracesSampleRate,t.setMetadata({sampleRate:Number(n)})):(n=1,t.setMetadata({sampleRate:n})),S_(n)?n?(t.sampled=Math.random()<n,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function S_(t){return pt.isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function v_(t,e){let r=this.getClient(),n=r&&r.getOptions()||{},o=n.instrumenter||"sentry",s=t.instrumenter||"sentry";o!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&pt.logger.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),t.sampled=!1);let a=new E_.Transaction(t,this);return a=tu(a,n,{parentSampled:t.parentSampled,transactionContext:t,...e}),a.sampled&&a.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",a),a}function b_(t,e,r,n,o,s,a){let i=t.getClient(),d=i&&i.getOptions()||{},c=new h_.IdleTransaction(e,t,r,n,a,o);return c=tu(c,d,{parentSampled:e.parentSampled,transactionContext:e,...s}),c.sampled&&c.initSpanRecorder(d._experiments&&d._experiments.maxSpans),i&&i.emit&&i.emit("startTransaction",c),c}function T_(){let t=f_.getMainCarrier();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=v_),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=y_),g_.registerErrorInstrumentation())}Tn.addTracingExtensions=T_;Tn.startIdleTransaction=b_});var cs=j(Tr=>{Object.defineProperty(Tr,"__esModule",{value:!0});Tr.SpanStatus=void 0;(function(t){let e="ok";t.Ok=e;let r="deadline_exceeded";t.DeadlineExceeded=r;let n="unauthenticated";t.Unauthenticated=n;let o="permission_denied";t.PermissionDenied=o;let s="not_found";t.NotFound=s;let a="resource_exhausted";t.ResourceExhausted=a;let i="invalid_argument";t.InvalidArgument=i;let d="unimplemented";t.Unimplemented=d;let c="unavailable";t.Unavailable=c;let y="internal_error";t.InternalError=y;let h="unknown_error";t.UnknownError=h;let S="cancelled";t.Cancelled=S;let E="already_exists";t.AlreadyExists=E;let x="failed_precondition";t.FailedPrecondition=x;let R="aborted";t.Aborted=R;let T="out_of_range";t.OutOfRange=T;let p="data_loss";t.DataLoss=p})(Tr.SpanStatus||(Tr.SpanStatus={}))});var su=j(_t=>{Object.defineProperty(_t,"__esModule",{value:!0});var ds=Q(),Or=De(),ru=hn();function O_(t,e,r=()=>{}){let n=_s(t),o=Or.getCurrentHub(),s=o.getScope(),a=s.getSpan(),i=ps(o,a,n);s.setSpan(i);function d(){i&&i.finish(),o.getScope().setSpan(a)}let c;try{c=e(i)}catch(y){throw i&&i.setStatus("internal_error"),r(y),d(),y}return ds.isThenable(c)?Promise.resolve(c).then(()=>{d()},y=>{i&&i.setStatus("internal_error"),r(y),d()}):d(),c}function nu(t,e){let r=_s(t),n=Or.getCurrentHub(),o=n.getScope(),s=o.getSpan(),a=ps(n,s,r);o.setSpan(a);function i(){a&&a.finish(),n.getScope().setSpan(s)}let d;try{d=e(a)}catch(c){throw a&&a.setStatus("internal_error"),i(),c}return ds.isThenable(d)?Promise.resolve(d).then(()=>{i()},()=>{a&&a.setStatus("internal_error"),i()}):i(),d}var P_=nu;function N_(t,e){let r=_s(t),n=Or.getCurrentHub(),o=n.getScope(),s=o.getSpan(),a=ps(n,s,r);o.setSpan(a);function i(){a&&a.finish(),n.getScope().setSpan(s)}let d;try{d=e(a,i)}catch(c){throw a&&a.setStatus("internal_error"),c}return ds.isThenable(d)&&Promise.resolve(d).then(void 0,()=>{a&&a.setStatus("internal_error")}),d}function M_(t){if(!ru.hasTracingEnabled())return;let e={...t};e.name!==void 0&&e.description===void 0&&(e.description=e.name);let r=Or.getCurrentHub(),n=ou();return n?n.startChild(e):r.startTransaction(e)}function ou(){return Or.getCurrentHub().getScope().getSpan()}function ps(t,e,r){if(ru.hasTracingEnabled())return e?e.startChild(r):t.startTransaction(r)}function _s(t){let e={...t};return e.name!==void 0&&e.description===void 0&&(e.description=e.name),e}_t.getActiveSpan=ou;_t.startActiveSpan=P_;_t.startInactiveSpan=M_;_t.startSpan=nu;_t.startSpanManual=N_;_t.trace=O_});var au=j(fs=>{Object.defineProperty(fs,"__esModule",{value:!0});var I_=En();function w_(t,e,r){let n=I_.getActiveTransaction();n&&n.setMeasurement(t,e,r)}fs.setMeasurement=w_});var iu=j(le=>{Object.defineProperty(le,"__esModule",{value:!0});var Pr=Q(),Ee=De();function A_(t,e){return Ee.getCurrentHub().captureException(t,{captureContext:e})}function C_(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return Ee.getCurrentHub().captureMessage(t,r,n)}function R_(t,e){return Ee.getCurrentHub().captureEvent(t,e)}function k_(t){Ee.getCurrentHub().configureScope(t)}function U_(t){Ee.getCurrentHub().addBreadcrumb(t)}function D_(t,e){Ee.getCurrentHub().setContext(t,e)}function x_(t){Ee.getCurrentHub().setExtras(t)}function L_(t,e){Ee.getCurrentHub().setExtra(t,e)}function j_(t){Ee.getCurrentHub().setTags(t)}function G_(t,e){Ee.getCurrentHub().setTag(t,e)}function F_(t){Ee.getCurrentHub().setUser(t)}function B_(t){Ee.getCurrentHub().withScope(t)}function H_(t,e){return Ee.getCurrentHub().startTransaction({...t},e)}function q_(t,e){let r=Ee.getCurrentHub(),n=r.getScope(),o=r.getClient();if(!o)(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pr.logger.warn("Cannot capture check-in. No client defined.");else if(!o.captureCheckIn)(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pr.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return o.captureCheckIn(t,e,n);return Pr.uuid4()}async function Y_(t){let e=Ee.getCurrentHub().getClient();return e?e.flush(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pr.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function $_(t){let e=Ee.getCurrentHub().getClient();return e?e.close(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pr.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function z_(){return Ee.getCurrentHub().lastEventId()}le.addBreadcrumb=U_;le.captureCheckIn=q_;le.captureEvent=R_;le.captureException=A_;le.captureMessage=C_;le.close=$_;le.configureScope=k_;le.flush=Y_;le.lastEventId=z_;le.setContext=D_;le.setExtra=L_;le.setExtras=x_;le.setTag=G_;le.setTags=j_;le.setUser=F_;le.startTransaction=H_;le.withScope=B_});var hs=j(gs=>{Object.defineProperty(gs,"__esModule",{value:!0});var V_=Q(),K_=De(),ms=class{constructor(e,r){this._client=e,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._sessionAttrs=r}flush(){let e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){let e=Object.keys(this._pendingAggregates).map(n=>this._pendingAggregates[parseInt(n)]),r={attrs:this._sessionAttrs,aggregates:e};return V_.dropUndefinedKeys(r)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let e=K_.getCurrentHub().getScope(),r=e.getRequestSession();r&&r.status&&(this._incrementSessionStatusCount(r.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,r){let n=new Date(r).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};let o=this._pendingAggregates[n];switch(o.started||(o.started=new Date(n).toISOString()),e){case"errored":return o.errored=(o.errored||0)+1,o.errored;case"ok":return o.exited=(o.exited||0)+1,o.exited;default:return o.crashed=(o.crashed||0)+1,o.crashed}}};gs.SessionFlusher=ms});var Pn=j(On=>{Object.defineProperty(On,"__esModule",{value:!0});var Es=Q(),J_="7";function uu(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function W_(t){return`${uu(t)}${t.projectId}/envelope/`}function X_(t,e){return Es.urlEncode({sentry_key:t.publicKey,sentry_version:J_,...e&&{sentry_client:`${e.name}/${e.version}`}})}function Z_(t,e={}){let r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${W_(t)}?${X_(t,n)}`}function Q_(t,e){let r=Es.makeDsn(t);if(!r)return"";let n=`${uu(r)}embed/error-page/`,o=`dsn=${Es.dsnToString(r)}`;for(let s in e)if(s!=="dsn")if(s==="user"){let a=e.user;if(!a)continue;a.name&&(o+=`&name=${encodeURIComponent(a.name)}`),a.email&&(o+=`&email=${encodeURIComponent(a.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`;return`${n}?${o}`}On.getEnvelopeEndpointWithUrlEncodedAuth=Z_;On.getReportDialogEndpoint=Q_});var lu=j(Nn=>{Object.defineProperty(Nn,"__esModule",{value:!0});var Bt=Q();function ef(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function tf(t,e,r,n){let o=Bt.getSdkMetadataForEnvelopeHeader(r),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!n&&e&&{dsn:Bt.dsnToString(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Bt.createEnvelope(s,[a])}function rf(t,e,r,n){let o=Bt.getSdkMetadataForEnvelopeHeader(r),s=t.type&&t.type!=="replay_event"?t.type:"event";ef(t,r&&r.sdk);let a=Bt.createEventEnvelopeHeaders(t,o,n,e);delete t.sdkProcessingMetadata;let i=[{type:s},t];return Bt.createEnvelope(a,[i])}Nn.createEventEnvelope=rf;Nn.createSessionEnvelope=tf});var Ss=j(Ht=>{Object.defineProperty(Ht,"__esModule",{value:!0});var cu=Q(),nf=_r(),of=De(),ys=[];function sf(t){let e={};return t.forEach(r=>{let{name:n}=r,o=e[n];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.keys(e).map(r=>e[r])}function af(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...e,...r]:typeof r=="function"?n=cu.arrayify(r(e)):n=e;let o=sf(n),s=lf(o,a=>a.name==="Debug");if(s!==-1){let[a]=o.splice(s,1);o.push(a)}return o}function uf(t,e){let r={};return e.forEach(n=>{n&&du(t,n,r)}),r}function du(t,e,r){if(r[e.name]=e,ys.indexOf(e.name)===-1&&(e.setupOnce(nf.addGlobalEventProcessor,of.getCurrentHub),ys.push(e.name)),t.on&&typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,s)=>n(o,s,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){let n=e.processEvent.bind(e),o=Object.assign((s,a)=>n(s,a,t),{id:e.name});t.addEventProcessor(o)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&cu.logger.log(`Integration installed: ${e.name}`)}function lf(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}Ht.getIntegrationsToSetup=af;Ht.installedIntegrations=ys;Ht.setupIntegration=du;Ht.setupIntegrations=uf});var vs=j(Nr=>{Object.defineProperty(Nr,"__esModule",{value:!0});var Pe=Q(),cf=dr(),pu=_r(),df=fn();function pf(t,e,r,n,o){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,i={...e,event_id:e.event_id||r.event_id||Pe.uuid4(),timestamp:e.timestamp||Pe.dateTimestampInSeconds()},d=r.integrations||t.integrations.map(S=>S.name);_f(i,t),ff(i,d),e.type===void 0&&fu(i,t.stackParser);let c=n;r.captureContext&&(c=df.Scope.clone(c).update(r.captureContext));let y=Pe.resolvedSyncPromise(i),h=o&&o.getEventProcessors?o.getEventProcessors():[];if(c){if(c.getAttachments){let S=[...r.attachments||[],...c.getAttachments()];S.length&&(r.attachments=S)}y=c.applyToEvent(i,r,h)}else y=pu.notifyEventProcessors([...h,...pu.getGlobalEventProcessors()],i,r);return y.then(S=>(S&&mu(S),typeof s=="number"&&s>0?mf(S,s,a):S))}function _f(t,e){let{environment:r,release:n,dist:o,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?r:cf.DEFAULT_ENVIRONMENT),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&o!==void 0&&(t.dist=o),t.message&&(t.message=Pe.truncate(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Pe.truncate(a.value,s));let i=t.request;i&&i.url&&(i.url=Pe.truncate(i.url,s))}var _u=new WeakMap;function fu(t,e){let r=Pe.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let n,o=_u.get(e);o?n=o:(n=new Map,_u.set(e,n));let s=Object.keys(r).reduce((a,i)=>{let d,c=n.get(i);c?d=c:(d=e(i),n.set(i,d));for(let y=d.length-1;y>=0;y--){let h=d[y];if(h.filename){a[h.filename]=r[i];break}}return a},{});try{t.exception.values.forEach(a=>{a.stacktrace.frames.forEach(i=>{i.filename&&(i.debug_id=s[i.filename])})})}catch{}}function mu(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?e[o.abs_path]=o.debug_id:o.filename&&(e[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.keys(e).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:e[n]})})}function ff(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function mf(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:Pe.normalize(o.data,e,r)}}))},...t.user&&{user:Pe.normalize(t.user,e,r)},...t.contexts&&{contexts:Pe.normalize(t.contexts,e,r)},...t.extra&&{extra:Pe.normalize(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Pe.normalize(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(o=>(o.data&&(o.data=Pe.normalize(o.data,e,r)),o))),n}Nr.applyDebugIds=fu;Nr.applyDebugMeta=mu;Nr.prepareEvent=pf});var Os=j(Ts=>{Object.defineProperty(Ts,"__esModule",{value:!0});var ee=Q(),gf=Pn(),gu=lu(),hu=Ss(),Eu=gr(),hf=Sr(),Ef=vs(),yu="Not capturing exception because it's already been captured.",bs=class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ee.makeDsn(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.warn("No DSN provided, client will not send events."),this._dsn){let r=gf.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,n){if(ee.checkOrSetAlreadyCaught(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.log(yu);return}let o=r&&r.event_id;return this._process(this.eventFromException(e,r).then(s=>this._captureEvent(s,r,n)).then(s=>{o=s})),o}captureMessage(e,r,n,o){let s=n&&n.event_id,a=ee.isPrimitive(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(a.then(i=>this._captureEvent(i,n,o)).then(i=>{s=i})),s}captureEvent(e,r,n){if(r&&r.originalException&&ee.checkOrSetAlreadyCaught(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.log(yu);return}let o=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(s=>{o=s})),o}captureSession(e){typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Eu.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(o=>n&&o)):ee.resolvedSyncPromise(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=hu.setupIntegrations(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){hu.setupIntegration(this,e,this._integrations)}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=gu.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=ee.addItemToEnvelope(n,ee.createAttachmentEnvelopeItem(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let o=this._sendEnvelope(n);o&&o.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=gu.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let o=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;for(let d of s){let c=d.mechanism;if(c&&c.handled===!1){n=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&n)&&(Eu.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ee.SyncPromise(r=>{let n=0,o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=o,e&&n>=e&&(clearInterval(s),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n){let o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),Ef.prepareEvent(o,e,r,n,this).then(a=>{if(a===null)return a;let{propagationContext:i}=a.sdkProcessingMetadata||{};if(!(a.contexts&&a.contexts.trace)&&i){let{traceId:c,spanId:y,parentSpanId:h,dsc:S}=i;a.contexts={trace:{trace_id:c,span_id:y,parent_span_id:h},...a.contexts};let E=S||hf.getDynamicSamplingContextFromClient(c,this,n);a.sdkProcessingMetadata={dynamicSamplingContext:E,...a.sdkProcessingMetadata}}return a})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(o=>o.event_id,o=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let s=o;s.logLevel==="log"?ee.logger.log(s.message):ee.logger.warn(s)}})}_processEvent(e,r,n){let o=this.getOptions(),{sampleRate:s}=o,a=vu(e),i=Su(e),d=e.type||"error",c=`before send for type \`${d}\``;if(i&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),ee.rejectedSyncPromise(new ee.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let y=d==="replay_event"?"replay":d;return this._prepareEvent(e,r,n).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",y,e),new ee.SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return h;let E=Sf(o,h,r);return yf(E,c)}).then(h=>{if(h===null)throw this.recordDroppedEvent("before_send",y,e),new ee.SentryError(`${c} returned \`null\`, will not send event.`,"log");let S=n&&n.getSession();!a&&S&&this._updateSessionFromEvent(S,h);let E=h.transaction_info;if(a&&E&&h.transaction!==e.transaction){let x="custom";h.transaction_info={...E,source:x}}return this.sendEvent(h,r),h}).then(null,h=>{throw h instanceof ee.SentryError?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new ee.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ee.logger.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[n,o]=r.split(":");return{reason:n,category:o,quantity:e[r]}})}};function yf(t,e){let r=`${e} must return \`null\` or a valid event.`;if(ee.isThenable(t))return t.then(n=>{if(!ee.isPlainObject(n)&&n!==null)throw new ee.SentryError(r);return n},n=>{throw new ee.SentryError(`${e} rejected with ${n}`)});if(!ee.isPlainObject(t)&&t!==null)throw new ee.SentryError(r);return t}function Sf(t,e,r){let{beforeSend:n,beforeSendTransaction:o}=t;return Su(e)&&n?n(e,r):vu(e)&&o?o(e,r):e}function Su(t){return t.type===void 0}function vu(t){return t.type==="transaction"}Ts.BaseClient=bs});var Ms=j(Ns=>{Object.defineProperty(Ns,"__esModule",{value:!0});var Ps=Q();function vf(t,e,r,n,o){let s={sent_at:new Date().toISOString()};r&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),n&&o&&(s.dsn=Ps.dsnToString(o)),e&&(s.trace=Ps.dropUndefinedKeys(e));let a=bf(t);return Ps.createEnvelope(s,[a])}function bf(t){return[{type:"check_in"},t]}Ns.createCheckInEnvelope=vf});var bu=j(ws=>{Object.defineProperty(ws,"__esModule",{value:!0});var tt=Q(),Tf=Os(),Of=Ms(),Pf=De(),Nf=hs(),Mf=ls(),If=Sr();cs();var Is=class extends Tf.BaseClient{constructor(e){Mf.addTracingExtensions(),super(e)}eventFromException(e,r){return tt.resolvedSyncPromise(tt.eventFromUnknownInput(Pf.getCurrentHub,this._options.stackParser,e,r))}eventFromMessage(e,r="info",n){return tt.resolvedSyncPromise(tt.eventFromMessage(this._options.stackParser,e,r,n,this._options.attachStacktrace))}captureException(e,r,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n){let o=n.getRequestSession();o&&o.status==="ok"&&(o.status="errored")}return super.captureException(e,r,n)}captureEvent(e,r,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n&&(e.type||"exception")==="exception"&&e.exception&&e.exception.values&&e.exception.values.length>0){let a=n.getRequestSession();a&&a.status==="ok"&&(a.status="errored")}return super.captureEvent(e,r,n)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){let{release:e,environment:r}=this._options;e?this._sessionFlusher=new Nf.SessionFlusher(this,{release:e,environment:r}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&tt.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,r,n){let o=e.status!=="in_progress"&&e.checkInId?e.checkInId:tt.uuid4();if(!this._isEnabled())return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&tt.logger.warn("SDK not enabled, will not capture checkin."),o;let s=this.getOptions(),{release:a,environment:i,tunnel:d}=s,c={check_in_id:o,monitor_slug:e.monitorSlug,status:e.status,release:a,environment:i};e.status!=="in_progress"&&(c.duration=e.duration),r&&(c.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone});let[y,h]=this._getTraceInfoFromScope(n);h&&(c.contexts={trace:h});let S=Of.createCheckInEnvelope(c,y,this.getSdkMetadata(),d,this.getDsn());return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&tt.logger.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(S),o}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&tt.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,r,n){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,r,n)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];let r=e.getSpan();if(r)return[r.transaction?r.transaction.getDynamicSamplingContext():void 0,r.getTraceContext()];let{traceId:n,spanId:o,parentSpanId:s,dsc:a}=e.getPropagationContext(),i={trace_id:n,span_id:o,parent_span_id:s};return a?[a,i]:[If.getDynamicSamplingContextFromClient(n,this,e),i]}};ws.ServerRuntimeClient=Is});var Tu=j(As=>{Object.defineProperty(As,"__esModule",{value:!0});var wf=Q(),Af=De();function Cf(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?wf.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let r=Af.getCurrentHub();r.getScope().update(e.initialScope);let o=new t(e);r.bindClient(o)}As.initAndBind=Cf});var Nu=j(Mn=>{Object.defineProperty(Mn,"__esModule",{value:!0});var Oe=Q(),Pu=30;function Rf(t,e,r=Oe.makePromiseBuffer(t.bufferSize||Pu)){let n={},o=a=>r.drain(a);function s(a){let i=[];if(Oe.forEachEnvelopeItem(a,(h,S)=>{let E=Oe.envelopeItemTypeToDataCategory(S);if(Oe.isRateLimited(n,E)){let x=Ou(h,S);t.recordDroppedEvent("ratelimit_backoff",E,x)}else i.push(h)}),i.length===0)return Oe.resolvedSyncPromise();let d=Oe.createEnvelope(a[0],i),c=h=>{Oe.forEachEnvelopeItem(d,(S,E)=>{let x=Ou(S,E);t.recordDroppedEvent(h,Oe.envelopeItemTypeToDataCategory(E),x)})},y=()=>e({body:Oe.serializeEnvelope(d,t.textEncoder)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oe.logger.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),n=Oe.updateRateLimits(n,h),h),h=>{throw c("network_error"),h});return r.add(y).then(h=>h,h=>{if(h instanceof Oe.SentryError)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oe.logger.error("Skipped sending event because buffer is full."),c("queue_overflow"),Oe.resolvedSyncPromise();throw h})}return s.__sentry__baseTransport__=!0,{send:s,flush:o}}function Ou(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}Mn.DEFAULT_TRANSPORT_BUFFER_SIZE=Pu;Mn.createTransport=Rf});var Iu=j(Mr=>{Object.defineProperty(Mr,"__esModule",{value:!0});var Rs=Q(),Mu=100,ks=5e3,kf=36e5;function Cs(t,e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Rs.logger.info(`[Offline]: ${t}`,e)}function Uf(t){return e=>{let r=t(e),n=e.createStore?e.createStore(e):void 0,o=ks,s;function a(y,h,S){return Rs.envelopeContainsItemType(y,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(y,h,S):!0}function i(y){n&&(s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let h=await n.pop();h&&(Cs("Attempting to send previously queued event"),c(h).catch(S=>{Cs("Failed to retry sending",S)}))},y),typeof s!="number"&&s.unref&&s.unref())}function d(){s||(i(o),o=Math.min(o*2,kf))}async function c(y){try{let h=await r.send(y),S=Mu;if(h){if(h.headers&&h.headers["retry-after"])S=Rs.parseRetryAfterHeader(h.headers["retry-after"]);else if((h.statusCode||0)>=400)return h}return i(S),o=ks,h}catch(h){if(n&&await a(y,h,o))return await n.insert(y),d(),Cs("Error sending. Event queued",h),{};throw h}}return e.flushAtStartup&&d(),{send:c,flush:y=>r.flush(y)}}}Mr.MIN_DELAY=Mu;Mr.START_DELAY=ks;Mr.makeOfflineTransport=Uf});var Au=j(In=>{Object.defineProperty(In,"__esModule",{value:!0});var wu=Q(),Df=Pn();function Us(t,e){let r;return wu.forEachEnvelopeItem(t,(n,o)=>(e.includes(o)&&(r=Array.isArray(n)?n[1]:void 0),!!r)),r}function xf(t,e){return r=>{let n=t(r);return{send:async o=>{let s=Us(o,["event","transaction","profile","replay_event"]);return s&&(s.release=e),n.send(o)},flush:o=>n.flush(o)}}}function Lf(t,e){return r=>{let n=t(r),o={};function s(d,c){let y=c?`${d}:${c}`:d;if(!o[y]){let h=wu.dsnFromString(d);if(!h)return;let S=Df.getEnvelopeEndpointWithUrlEncodedAuth(h);o[y]=c?xf(t,c)({...r,url:S}):t({...r,url:S})}return o[y]}async function a(d){function c(S){let E=S&&S.length?S:["event"];return Us(d,E)}let y=e({envelope:d,getEvent:c}).map(S=>typeof S=="string"?s(S,void 0):s(S.dsn,S.release)).filter(S=>!!S);return y.length===0&&y.push(n),(await Promise.all(y.map(S=>S.send(d))))[0]}async function i(d){let c=[...Object.keys(o).map(h=>o[h]),n];return(await Promise.all(c.map(h=>h.flush(d)))).every(h=>h)}return{send:a,flush:i}}}In.eventFromEnvelope=Us;In.makeMultiplexedTransport=Lf});var Cu=j(Ds=>{Object.defineProperty(Ds,"__esModule",{value:!0});var jf="7.73.0";Ds.SDK_VERSION=jf});var Ls=j(xs=>{Object.defineProperty(xs,"__esModule",{value:!0});var Gf=Q(),Ru,wn=class t{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=t.id}setupOnce(){Ru=Function.prototype.toString;try{Function.prototype.toString=function(...e){let r=Gf.getOriginalFunction(this)||this;return Ru.apply(r,e)}}catch{}}};wn.__initStatic();xs.FunctionToString=wn});var js=j(Ir=>{Object.defineProperty(Ir,"__esModule",{value:!0});var fe=Q(),Ff=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Bf=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/],An=class t{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=t.id,this._options=e}setupOnce(e,r){}processEvent(e,r,n){let o=n.getOptions(),s=ku(this._options,o);return Uu(e,s)?null:e}};An.__initStatic();function ku(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Ff],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:Bf],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Uu(t,e){return e.ignoreInternal&&Vf(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fe.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${fe.getEventDescription(t)}`),!0):Hf(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fe.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${fe.getEventDescription(t)}`),!0):qf(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fe.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${fe.getEventDescription(t)}`),!0):Yf(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fe.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${fe.getEventDescription(t)}.
Url: ${Cn(t)}`),!0):$f(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fe.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${fe.getEventDescription(t)}.
Url: ${Cn(t)}`),!0)}function Hf(t,e){return t.type||!e||!e.length?!1:zf(t).some(r=>fe.stringMatchesSomePattern(r,e))}function qf(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?fe.stringMatchesSomePattern(r,e):!1}function Yf(t,e){if(!e||!e.length)return!1;let r=Cn(t);return r?fe.stringMatchesSomePattern(r,e):!1}function $f(t,e){if(!e||!e.length)return!0;let r=Cn(t);return r?fe.stringMatchesSomePattern(r,e):!0}function zf(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.length===0&&fe.logger.error(`Could not extract message for event ${fe.getEventDescription(t)}`),e}function Vf(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Kf(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Cn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Kf(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&fe.logger.error(`Cannot extract url for event ${fe.getEventDescription(t)}`),null}}Ir.InboundFilters=An;Ir._mergeOptions=ku;Ir._shouldDropEvent=Uu});var Du=j(Rn=>{Object.defineProperty(Rn,"__esModule",{value:!0});var Jf=Ls(),Wf=js();Rn.FunctionToString=Jf.FunctionToString;Rn.InboundFilters=Wf.InboundFilters});var Lu=j(Gs=>{Object.defineProperty(Gs,"__esModule",{value:!0});function Xf(t,e){let r=e.getClient(),n=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return Qf(t,n)||Zf(t,o)}function Zf(t,e){return e?xu(t)===xu(e):!1}function Qf(t,e){return e?t.includes(e.host):!1}function xu(t){return t[t.length-1]==="/"?t.slice(0,-1):t}Gs.isSentryRequestUrl=Xf});var Bu=j(wr=>{Object.defineProperty(wr,"__esModule",{value:!0});var Fs=Q(),Gu=new Map,ju=new Set;function em(t){if(Fs.GLOBAL_OBJ._sentryModuleMetadata)for(let e of Object.keys(Fs.GLOBAL_OBJ._sentryModuleMetadata)){let r=Fs.GLOBAL_OBJ._sentryModuleMetadata[e];if(ju.has(e))continue;ju.add(e);let n=t(e);for(let o of n.reverse())if(o.filename){Gu.set(o.filename,r);break}}}function Fu(t,e){return em(t),Gu.get(e)}function tm(t,e){try{e.exception.values.forEach(r=>{if(r.stacktrace)for(let n of r.stacktrace.frames||[]){if(!n.filename)continue;let o=Fu(t,n.filename);o&&(n.module_metadata=o)}})}catch{}}function rm(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(let r of e.stacktrace.frames||[])delete r.module_metadata})}catch{}}wr.addMetadataToStackFrames=tm;wr.getMetadataForUrl=Fu;wr.stripMetadataFromStackFrames=rm});var qu=j(Bs=>{Object.defineProperty(Bs,"__esModule",{value:!0});var nm=Q(),Hu=Bu(),kn=class t{static __initStatic(){this.id="ModuleMetadata"}constructor(){this.name=t.id}setupOnce(e,r){let n=r().getClient();if(!n||typeof n.on!="function")return;n.on("beforeEnvelope",s=>{nm.forEachEnvelopeItem(s,(a,i)=>{if(i==="event"){let d=Array.isArray(a)?a[1]:void 0;d&&(Hu.stripMetadataFromStackFrames(d),a[1]=d)}})});let o=n.getOptions().stackParser;e(s=>(Hu.addMetadataToStackFrames(o,s),s))}};kn.__initStatic();Bs.ModuleMetadata=kn});var Ku=j(F=>{Object.defineProperty(F,"__esModule",{value:!0});var Yu=ls(),$u=us(),zu=yn(),om=Sn(),sm=En(),am=cs(),qt=su(),im=Sr(),um=au(),ye=iu(),rt=De(),Hs=gr(),lm=hs(),cm=fn(),dm=_r(),Vu=Pn(),pm=Os(),_m=bu(),fm=Tu(),mm=Nu(),gm=Iu(),hm=Au(),Em=Cu(),ym=Ss(),Sm=Du(),vm=vs(),bm=Ms(),Tm=hn(),Om=Lu(),Pm=dr(),Nm=qu(),Mm=Ls(),Im=js(),wm=Q();F.addTracingExtensions=Yu.addTracingExtensions;F.startIdleTransaction=Yu.startIdleTransaction;F.IdleTransaction=$u.IdleTransaction;F.TRACING_DEFAULTS=$u.TRACING_DEFAULTS;F.Span=zu.Span;F.spanStatusfromHttpCode=zu.spanStatusfromHttpCode;F.Transaction=om.Transaction;F.getActiveTransaction=sm.getActiveTransaction;Object.defineProperty(F,"SpanStatus",{enumerable:!0,get:()=>am.SpanStatus});F.getActiveSpan=qt.getActiveSpan;F.startActiveSpan=qt.startActiveSpan;F.startInactiveSpan=qt.startInactiveSpan;F.startSpan=qt.startSpan;F.startSpanManual=qt.startSpanManual;F.trace=qt.trace;F.getDynamicSamplingContextFromClient=im.getDynamicSamplingContextFromClient;F.setMeasurement=um.setMeasurement;F.addBreadcrumb=ye.addBreadcrumb;F.captureCheckIn=ye.captureCheckIn;F.captureEvent=ye.captureEvent;F.captureException=ye.captureException;F.captureMessage=ye.captureMessage;F.close=ye.close;F.configureScope=ye.configureScope;F.flush=ye.flush;F.lastEventId=ye.lastEventId;F.setContext=ye.setContext;F.setExtra=ye.setExtra;F.setExtras=ye.setExtras;F.setTag=ye.setTag;F.setTags=ye.setTags;F.setUser=ye.setUser;F.startTransaction=ye.startTransaction;F.withScope=ye.withScope;F.Hub=rt.Hub;F.ensureHubOnCarrier=rt.ensureHubOnCarrier;F.getCurrentHub=rt.getCurrentHub;F.getHubFromCarrier=rt.getHubFromCarrier;F.getMainCarrier=rt.getMainCarrier;F.makeMain=rt.makeMain;F.runWithAsyncContext=rt.runWithAsyncContext;F.setAsyncContextStrategy=rt.setAsyncContextStrategy;F.setHubOnCarrier=rt.setHubOnCarrier;F.closeSession=Hs.closeSession;F.makeSession=Hs.makeSession;F.updateSession=Hs.updateSession;F.SessionFlusher=lm.SessionFlusher;F.Scope=cm.Scope;F.addGlobalEventProcessor=dm.addGlobalEventProcessor;F.getEnvelopeEndpointWithUrlEncodedAuth=Vu.getEnvelopeEndpointWithUrlEncodedAuth;F.getReportDialogEndpoint=Vu.getReportDialogEndpoint;F.BaseClient=pm.BaseClient;F.ServerRuntimeClient=_m.ServerRuntimeClient;F.initAndBind=fm.initAndBind;F.createTransport=mm.createTransport;F.makeOfflineTransport=gm.makeOfflineTransport;F.makeMultiplexedTransport=hm.makeMultiplexedTransport;F.SDK_VERSION=Em.SDK_VERSION;F.getIntegrationsToSetup=ym.getIntegrationsToSetup;F.Integrations=Sm;F.prepareEvent=vm.prepareEvent;F.createCheckInEnvelope=bm.createCheckInEnvelope;F.hasTracingEnabled=Tm.hasTracingEnabled;F.isSentryRequestUrl=Om.isSentryRequestUrl;F.DEFAULT_ENVIRONMENT=Pm.DEFAULT_ENVIRONMENT;F.ModuleMetadata=Nm.ModuleMetadata;F.FunctionToString=Mm.FunctionToString;F.InboundFilters=Im.InboundFilters;F.extractTraceparentData=wm.extractTraceparentData});var Ju=j(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.ReusableRequest=void 0;var Ar,Cr,Ys=class Ys extends Request{constructor(r,n={}){if(r instanceof Request)throw new Error("ReusableRequest input cannot be another Request instance");if(n.body instanceof ReadableStream)throw new Error("ReusableRequest cannot be constructed with a ReadableStream body");super(r,n);pe(this,Ar,void 0);pe(this,Cr,void 0);be(this,Ar,r),be(this,Cr,n)}reuse(){return new Ys($(this,Ar),$(this,Cr))}};Ar=new WeakMap,Cr=new WeakMap;var qs=Ys;Un.ReusableRequest=qs});var Qu=j(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.refreshInvalidApiV2CsrfToken=Ve.clearApiV2CsrfToken=Ve.getApiV2CsrfToken=Ve.ReusableRequest=void 0;var Am=(Yn(),ta(qn)),Cm=Am.__importStar(Ku()),Rm=Ju();Object.defineProperty(Ve,"ReusableRequest",{enumerable:!0,get:function(){return Rm.ReusableRequest}});var Wu=30*60*1e3,km=new Set(["GET","HEAD","OPTIONS"]),Yt=null,$s=0,Dn=null;async function Xu({apiV2BaseUrl:t=Zu(),apiV2Key:e,forceRefresh:r=!1,ttl:n=Wu}){return!r&&Yt&&Date.now()-$s<=n?Yt:(Dn||(Dn=xm({apiV2BaseUrl:t,apiV2Key:e}).finally(()=>Dn=null)),Dn)}Ve.getApiV2CsrfToken=Xu;function Um(){Yt=null,$s=0}Ve.clearApiV2CsrfToken=Um;async function Dm({apiV2BaseUrl:t=Zu(),apiV2Key:e,request:r,response:n,ttl:o=Wu}){if(n.status!==401||km.has(r.method)||!(await n.clone().text()).includes("token"))return n;let a=await Xu({apiV2BaseUrl:t,apiV2Key:e,forceRefresh:!0,ttl:o});if(!a)return n;let i=r.reuse();return i.headers.set("X-Csrf-Token",a),await globalThis.fetch(i)}Ve.refreshInvalidApiV2CsrfToken=Dm;async function xm({apiV2BaseUrl:t,apiV2Key:e}){let r=`${t}!token?APIKey=${encodeURIComponent(e)}&_verbosity=1`,n=await globalThis.fetch(r,{method:"POST",credentials:"same-origin",headers:{accept:"application/json"}});if(!n.ok)throw new Error(`CSRF token refresh failed with HTTP status code ${n.status}`);let s=(await n.json())?.Response?.Token?.Token;return typeof s!="string"?(Cm.captureMessage("APIv2 CSRF token response didn't include a token","warning"),Yt):(Yt=s,$s=Date.now(),Yt)}function Zu(){if(typeof document>"u")throw new Error("iron-apiv2-csrf: an `apiV2BaseUrl` argument must be provided when not running in a browser");return`${globalThis.location.origin}/api/v2`}});var el=j(zs=>{"use strict";zs.parse=jm;zs.serialize=Gm;var Lm=Object.prototype.toString,xn=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function jm(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},o=n.decode||Fm,s=0;s<t.length;){var a=t.indexOf("=",s);if(a===-1)break;var i=t.indexOf(";",s);if(i===-1)i=t.length;else if(i<a){s=t.lastIndexOf(";",a-1)+1;continue}var d=t.slice(s,a).trim();if(r[d]===void 0){var c=t.slice(a+1,i).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),r[d]=qm(c,o)}s=i+1}return r}function Gm(t,e,r){var n=r||{},o=n.encode||Bm;if(typeof o!="function")throw new TypeError("option encode is invalid");if(!xn.test(t))throw new TypeError("argument name is invalid");var s=o(e);if(s&&!xn.test(s))throw new TypeError("argument val is invalid");var a=t+"="+s;if(n.maxAge!=null){var i=n.maxAge-0;if(isNaN(i)||!isFinite(i))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(i)}if(n.domain){if(!xn.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!xn.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){var d=n.expires;if(!Hm(d)||isNaN(d.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+d.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.priority){var c=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(c){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var y=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(y){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Fm(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function Bm(t){return encodeURIComponent(t)}function Hm(t){return Lm.call(t)==="[object Date]"||t instanceof Date}function qm(t,e){try{return e(t)}catch{return t}}});var rl=j((Nh,tl)=>{tl.exports=Ym;function Ym(t,e,r){if(!t)return r;var n,o;if(Array.isArray(e)&&(n=e.slice(0)),typeof e=="string"&&(n=e.split(".")),typeof e=="symbol"&&(n=[e]),!Array.isArray(n))throw new Error("props arg must be an array, a string or a symbol");for(;n.length;)if(o=n.shift(),!t||(t=t[o],t===void 0))return r;return t}});var sl=j((Mh,ol)=>{ol.exports=$m;function $m(t,e,r){var n,o;if(Array.isArray(e)&&(n=e.slice(0)),typeof e=="string"&&(n=e.split(".")),typeof e=="symbol"&&(n=[e]),!Array.isArray(n))throw new Error("props arg must be an array, a string or a symbol");if(o=n.pop(),!o)return!1;nl(o);for(var s;s=n.shift();)if(nl(s),typeof t[s]>"u"&&(t[s]={}),t=t[s],!t||typeof t!="object")return!1;return t[o]=r,!0}function nl(t){if(t=="__proto__"||t=="constructor"||t=="prototype")throw new Error("setting of prototype values not supported")}});var cl=j((Ih,$t)=>{"use strict";var zm=typeof Buffer<"u",al=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,il=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function ul(t,e,r){r==null&&e!==null&&typeof e=="object"&&(r=e,e=void 0),zm&&Buffer.isBuffer(t)&&(t=t.toString()),t&&t.charCodeAt(0)===65279&&(t=t.slice(1));let n=JSON.parse(t,e);if(n===null||typeof n!="object")return n;let o=r&&r.protoAction||"error",s=r&&r.constructorAction||"error";if(o==="ignore"&&s==="ignore")return n;if(o!=="ignore"&&s!=="ignore"){if(al.test(t)===!1&&il.test(t)===!1)return n}else if(o!=="ignore"&&s==="ignore"){if(al.test(t)===!1)return n}else if(il.test(t)===!1)return n;return ll(n,{protoAction:o,constructorAction:s,safe:r&&r.safe})}function ll(t,{protoAction:e="error",constructorAction:r="error",safe:n}={}){let o=[t];for(;o.length;){let s=o;o=[];for(let a of s){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(a,"__proto__")){if(n===!0)return null;if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete a.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(a,"constructor")&&Object.prototype.hasOwnProperty.call(a.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete a.constructor}for(let i in a){let d=a[i];d&&typeof d=="object"&&o.push(d)}}}return t}function Vs(t,e,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return ul(t,e,r)}finally{Error.stackTraceLimit=n}}function Vm(t,e){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return ul(t,e,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}$t.exports=Vs;$t.exports.default=Vs;$t.exports.parse=Vs;$t.exports.safeParse=Vm;$t.exports.scan=ll});var fl=j(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.setJsonCookieProp=ie.setJsonCookie=ie.setCookie=ie.getJsonCookieProp=ie.getJsonCookie=ie.getCookie=ie.deleteCookie=ie.kParsedCookies=void 0;var Js=(Yn(),ta(qn)),Ks=el(),Km=Js.__importDefault(rl()),Jm=Js.__importDefault(sl()),Wm=Js.__importDefault(cl()),Xm=new Map;ie.kParsedCookies=Symbol("iron-cookie.parsedCookies");function dl(t,e){let{options:r}=t;Xs({...t,options:{...r,expires:new Date(1),maxAge:void 0}},"",e)}ie.deleteCookie=dl;function pl(t,e,r={}){let{name:n}=t,o;if(e)return o=e[ie.kParsedCookies],o||(o=(0,Ks.parse)(e.headers.cookie||""),e[ie.kParsedCookies]=o),o[n];if(globalThis.document){let s;try{s=globalThis.document.cookie}catch(i){if(i instanceof globalThis.DOMException&&i.name==="SecurityError")s="";else throw i}let{clientCache:a=Xm}=r;return o=a.get(s),o||(o=(0,Ks.parse)(s),a.clear(),a.set(s,o)),o[n]}throw new TypeError("`request` is required in order to get a cookie in a Node.js environment")}ie.getCookie=pl;function Ws(t,e,r,n={}){let{name:o,type:s}=t;if(s!=="json")throw new TypeError(`"${o}" is not a JSON cookie`);let a=pl(t,e,n);if(a!==void 0)try{return Wm.default.parse(a)}catch{(r||!e)&&dl(t,r)}}ie.getJsonCookie=Ws;function Zm(t,e,r,n,o={}){let s=Ws(t,r,n,o);if(typeof s=="object"&&s!==null&&!Array.isArray(s))return(0,Km.default)(s,e);s!==void 0&&console.error(`JSON cookie "${t.name}" is not an object.`)}ie.getJsonCookieProp=Zm;function Xs(t,e,r){let{name:n,options:o}=t,s=(0,Ks.serialize)(n,e,o);if(r){let a=r.getHeader("Set-Cookie");a?(Array.isArray(a)||(a=[String(a)]),r.removeHeader("Set-Cookie"),r.setHeader("Set-Cookie",[...a,s])):r.setHeader("Set-Cookie",s);return}if(globalThis.document){if(o?.httpOnly)throw new Error("HTTP-only cookies can only be set on the server.");try{globalThis.document.cookie=s}catch(a){if(a instanceof globalThis.DOMException&&a.name==="SecurityError")return;throw a}return}throw new TypeError("`response` is required in order to set a cookie in a Node.js environment")}ie.setCookie=Xs;function _l(t,e,r){let{name:n,type:o}=t;if(o!=="json")throw new TypeError(`"${n}" is not a JSON cookie`);Xs(t,JSON.stringify(e),r)}ie.setJsonCookie=_l;function Qm(t,e,r,n){let o=Ws(t,n?.req,n);(typeof o!="object"||o===null||Array.isArray(o))&&(o={}),(0,Jm.default)(o,e,r),_l(t,o,n)}ie.setJsonCookieProp=Qm});YUI.add("sm-page-nav-upload",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(I,P)=>{for(var g in P)a(I,g,{get:P[g],enumerable:!0})},S=(I,P,g,f)=>{if(P&&typeof P=="object"||typeof P=="function")for(let m of d(P))!y.call(I,m)&&m!==g&&a(I,m,{get:()=>P[m],enumerable:!(f=i(P,m))||f.enumerable});return I},E=(I,P,g)=>(g=I!=null?s(c(I)):{},S(P||!I||!I.__esModule?a(g,"default",{value:I,enumerable:!0}):g,I)),x=I=>S(a({},"__esModule",{value:!0}),I),R={};h(R,{default:()=>_}),n.exports=x(R);var T=E(o("sm-page"));let p={uploadNodeId:0,handleExistingClick:function(I,P,g){var f=this;t.use(["sm-picker-plugin","sm-uploader-tracking"],function(){var m=I&&I.originEvent.target||t.one(P),u=SM.import("sm-uploader-tracking");m.pickerplugin||m.plug(t.SM.Plugin.Picker,{pickerMode:t.SM.Picker.MODE_ALBUM,pickerConfig:{limit:1,useLoggedInUser:!0,message:null},triggerMode:!0});let l=()=>{m.pickerplugin.showPicker(),T.default.uxdisabled=!0,m.pickerplugin.after("hidingPicker",T.default.nav.upload._onPickerHide.bind(f,g)),u.trackScreenView("Choose A Gallery")};g?.startNodeId?m.pickerplugin._getStartPath(g.startNodeId,l):l()})},_onPickerHide:function({onComplete:I}={},P){if(T.default.uxdisabled=!1,P.selectedData[0]){var g=P.selectedData[0].hostData,f=P.selectedData[0].typeInfo;g.id&&(T.default.nav.upload.showUploadPanel(f.Name||"",{albumKey:g.key,nodeId:f.NodeID},function(m){if(m){if(I){I(f.UrlPath);return}window.location.href=`${SM.env.pageOwner.homepage}${f.UrlPath}`}}),t.use(["sm-resource-album","sm-uploader-tracking"],()=>{let m=SM.import("sm-resource-core"),u=SM.import("sm-uploader-tracking");m.Album.loadByKey(g.key,{expand:["Node"]}).then(l=>{u.trackEvent(u.ACTIONS.selectGallery,{contexts:{[u.CONTEXTS.NODE]:{node_id:l.getExpansion("Node").get("NodeID"),node_type:"Gallery"}},screenName:"Choose A Gallery"})})}))}},showUploadPanel:function(I,P,g){t.use("sm-uploader",function(){let{unmount:f}=SM.import("sm-modal");var m=SM.import("sm-uploader"),u=T.default.nav.upload.modal;u&&f(u),u=m.showAsModal({albumKey:P.albumKey,nodeId:P.nodeId,allowFolders:P.allowFolders||!1,nodeName:I,onClose:function(l){typeof g=="function"&&g(l),T.default.nav.upload.modal=null}}),T.default.nav.upload.modal=u})}};T.default.on("page:init",function(I){t.SM.Page.nav.upload.uploadNodeId=I.uploadNodeId,t.SM.Page.nav.upload.uploadNodeDepth=I.uploadNodeDepth}),t.namespace("SM.Page.nav").upload=p;var _=p})(),SM.currentModule=null},"",{requires:["sm-page","sm-page-nodepage","sm-templates-button","sm-models-usernode"]});var ft=J(Qu(),1),ml=J(fl(),1);var eg={name:"smsck",type:"json",options:{domain:globalThis.SM?.env.host.session,maxAge:365*24*60*60,path:"/",sameSite:"lax",secure:!0}},Ke,Je,zt,kr,Vt,nt,ot,ne,xe,Ln,gl,jn,hl,Gn,El,Pt,Rr,Ur,Qs,Zs=class{constructor({apiV2BaseUrl:e=`${globalThis.location.origin}/api/v2`,apiV2Key:r=globalThis.SM.env.apiKey,galleryNodeId:n,getCsrfToken:o=ft.getApiV2CsrfToken,onError:s,selectionContextKey:a,selectedItems:i=new Set}){pe(this,Ln);pe(this,jn);pe(this,Gn);pe(this,Pt);pe(this,Ur);pe(this,Ke,void 0);pe(this,Je,void 0);pe(this,zt,void 0);pe(this,kr,100);pe(this,Vt,void 0);pe(this,nt,void 0);pe(this,ot,null);pe(this,ne,void 0);pe(this,xe,void 0);be(this,Ke,e),be(this,Je,r),be(this,zt,n),be(this,Vt,o),be(this,nt,s),be(this,ne,i),be(this,xe,a)}get selectionContextKey(){return $(this,xe)}get selectedItems(){return new Set($(this,ne))}get gallerySelectionLimit(){return $(this,kr)}getSelectionCount(){return $(this,ne).size}isSelected(e){return $(this,ne).has(e)}async toggleSelection(e){$(this,ne).has(e)?await Be(this,jn,hl).call(this,e):await Be(this,Ln,gl).call(this,e)}async clearSelections(){if(!$(this,xe)||!$(this,ne).size)return;let e=Array.from($(this,ne));$(this,ne).clear();try{await Be(this,Pt,Rr).call(this,{removeImageKeys:e})}catch(r){be(this,ne,new Set(e)),$(this,nt).call(this,{error:r,imageKeys:e,type:"updateContextFailed"})}}};Ke=new WeakMap,Je=new WeakMap,zt=new WeakMap,kr=new WeakMap,Vt=new WeakMap,nt=new WeakMap,ot=new WeakMap,ne=new WeakMap,xe=new WeakMap,Ln=new WeakSet,gl=async function(e){if($(this,ne).add(e),$(this,xe)){try{await Be(this,Pt,Rr).call(this,{addImageKeys:[e]})}catch(s){$(this,ne).delete(e),$(this,nt).call(this,{error:s,imageKeys:[e],type:s.message==="selection limit exceeded"?"selectionLimitExceeded":"updateContextFailed"})}return}if($(this,ot))return;let r=new Set($(this,ne));try{await Be(this,Gn,El).call(this,{initialImageKeys:Array.from(r)})}catch(s){let a=Array.from($(this,ne));$(this,ne).clear(),$(this,nt).call(this,{error:s,imageKeys:a,type:"createContextFailed"});return}let n=[],o=[];for(let s of[...$(this,ne),...r])r.has(s)||n.push(s),$(this,ne).has(s)||o.push(s);try{await Be(this,Pt,Rr).call(this,{addImageKeys:n,removeImageKeys:o})}catch(s){for(let a of n)$(this,ne).delete(a);for(let a of o)$(this,ne).add(a);$(this,nt).call(this,{error:s,imageKeys:[...n,...o],type:"updateContextFailed"})}},jn=new WeakSet,hl=async function(e){if($(this,ne).delete(e),$(this,xe))try{await Be(this,Pt,Rr).call(this,{removeImageKeys:[e]})}catch(r){$(this,ne).add(e),$(this,nt).call(this,{error:r,imageKeys:[e],type:"updateContextFailed"})}},Gn=new WeakSet,El=function({initialImageKeys:e}){return $(this,ot)?$(this,ot):(be(this,ot,(async()=>{let n=`${$(this,Ke)}/node/${$(this,zt)}!createselection?APIKey=${$(this,Je)}`,o=await $(this,Vt).call(this,{apiV2BaseUrl:$(this,Ke),apiV2Key:$(this,Je)});if(!o)throw new Error("failed to get csrf token");let s=new ft.ReusableRequest(n,{body:JSON.stringify({AlbumImageUris:e.map(d=>`/api/v2/image/${d}`),Limit:$(this,kr)}),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-Csrf-Token":o},method:"POST"}),a=await(0,ft.refreshInvalidApiV2CsrfToken)({apiV2BaseUrl:$(this,Ke),apiV2Key:$(this,Je),request:s,response:await globalThis.fetch(s)});if(!a.ok)throw new Error(`${a.status} ${a.statusText}`);let{Response:{Selection:{SelectionKey:i}}}=await a.json();if(!i)throw new Error("expected `SelectionKey` from !createselection response");be(this,xe,i),Be(this,Ur,Qs).call(this)})().finally(()=>{be(this,ot,null)})),$(this,ot))},Pt=new WeakSet,Rr=async function({addImageKeys:e=[],removeImageKeys:r=[]}){if(!e.length&&!r.length)return;let n=`${$(this,Ke)}/selection/${$(this,xe)}!images?APIKey=${$(this,Je)}`,o=await $(this,Vt).call(this,{apiV2BaseUrl:$(this,Ke),apiV2Key:$(this,Je)});if(!o)throw new Error("failed to get csrf token");let s=new ft.ReusableRequest(n,{body:JSON.stringify({AlbumImageUris:e.map(i=>`/api/v2/image/${i}`),RemoveAlbumImageUris:r.map(i=>`/api/v2/image/${i}`)}),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-Csrf-Token":o},method:"POST"}),a=await(0,ft.refreshInvalidApiV2CsrfToken)({apiV2BaseUrl:$(this,Ke),apiV2Key:$(this,Je),request:s,response:await globalThis.fetch(s)});if(!a.ok){let i;try{({Options:{Parameters:{POST:i=[]}={}}={}}=await a.json())}catch{}throw i?.find(({Problems:c})=>c.includes("Selection limit exceeded"))?new Error("selection limit exceeded"):new Error(`${a.status} ${a.statusText}`)}Be(this,Ur,Qs).call(this)},Ur=new WeakSet,Qs=function(){$(this,xe)&&(0,ml.setJsonCookieProp)(eg,$(this,zt),$(this,xe))};YUI?.add("sm-gallery-selection",(t,e)=>{SM.modules[e]={exports:Zs,name:e}});YUI.add("sm-header-actions",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(U,C)=>{for(var w in C)a(U,w,{get:C[w],enumerable:!0})},S=(U,C,w,H)=>{if(C&&typeof C=="object"||typeof C=="function")for(let A of d(C))!y.call(U,A)&&A!==w&&a(U,A,{get:()=>C[A],enumerable:!(H=i(C,A))||H.enumerable});return U},E=(U,C,w)=>(w=U!=null?s(c(U)):{},S(C||!U||!U.__esModule?a(w,"default",{value:U,enumerable:!0}):w,U)),x=U=>S(a({},"__esModule",{value:!0}),U),R={};h(R,{editNodeSettings:()=>k,fetchCartItemCount:()=>B,toggleHeaderMenu:()=>M,toggleMainNav:()=>O,toggleUserMenu:()=>v}),n.exports=x(R);var T=o("sm-api-redux-actions"),p=o("sm-component-menu-actions"),_=o("sm-component-menu-selectors"),I=E(o("sm-dom")),P=o("sm-header-constants"),g=o("sm-header-tracking-helpers"),f=o("sm-node-settings-actions"),m=o("sm-page-nodepage-constants"),u=o("sm-page-nodepage-selectors"),l=E(o("sm-smuglog"));function v(){return U=>U(M(P.MENU_ID_USER_NAV_DROP_DOWN,"User Menu"))}function O(){return U=>U(M(P.MENU_ID_MAIN_NAV,"Dropdown Global Nav"))}function M(U,C){return(w,H)=>{let A=H(),L=(0,u.getNode)(A),q=L&&L.id,X=L&&(0,u.getRealNodeType)(A);return(0,_.isVisible)(A,U)||(0,g.trackMenuOpenEvent)({label:C,nodeId:q,nodeType:X}),Promise.resolve(w((0,p.toggle)(U)))}}function k(){return(U,C)=>{let w=C(),H=(0,u.getNode)(w),A=H&&H.id,L=H&&(0,u.getRealNodeType)(w),q=`${m.NODE_TYPE_LABEL_MAP[L]||null} Settings`;return(0,g.trackMenuItemEvent)({label:q,property:P.TRACKING_PROPERTY_USER_MENU,nodeId:A,nodeType:L}),U((0,f.openNodeSettings)()),U((0,f.loadNodeSettingsData)())}}function B(){return U=>U((0,T.fetchFromAPI)({uri:"/api/v2/cart"})).catch(C=>{l.default.add("sm-header-actions",{method:"fetchCartItemCount",message:"Failed to fetch cart data",error:C,location:I.default.win.location.href,syncUri:"/api/v2/cart"},l.default.LEVEL_ERROR)})}})(),SM.currentModule=null},"",{requires:["sm-dom","sm-smuglog","sm-api-redux-actions","sm-header-tracking-helpers","sm-page-nodepage-constants","sm-page-nodepage-selectors","sm-component-menu-selectors","sm-component-menu-actions","sm-node-settings-actions","sm-header-constants"]});YUI.add("sm-controlpanel-helpers",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,c=(x,R)=>{for(var T in R)s(x,T,{get:R[T],enumerable:!0})},y=(x,R,T,p)=>{if(R&&typeof R=="object"||typeof R=="function")for(let _ of i(R))!d.call(x,_)&&_!==T&&s(x,_,{get:()=>R[_],enumerable:!(p=a(R,_))||p.enumerable});return x},h=x=>y(s({},"__esModule",{value:!0}),x),S={};c(S,{getAccountSettingsUrl:()=>E}),n.exports=h(S);function E({nickname:x,section:R}={}){return x=x||SM.env.loggedInUser?.nickName,`https://${SM.env.host.main}/app/account/settings${x?`?nick=${x}`:""}${R?`#section=${R}`:""}`}})(),SM.currentModule=null},"",{requires:[]});var Hh=J(me()),qh=J(we()),Yh=J(ra());YUI.add("sm-header",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(g,f)=>{for(var m in f)a(g,m,{get:f[m],enumerable:!0})},S=(g,f,m,u)=>{if(f&&typeof f=="object"||typeof f=="function")for(let l of d(f))!y.call(g,l)&&l!==m&&a(g,l,{get:()=>f[l],enumerable:!(u=i(f,l))||u.enumerable});return g},E=(g,f,m)=>(m=g!=null?s(c(g)):{},S(f||!g||!g.__esModule?a(m,"default",{value:g,enumerable:!0}):m,g)),x=g=>S(a({},"__esModule",{value:!0}),g),R={};h(R,{default:()=>P}),n.exports=x(R);var T=E(o("classnames")),p=E(o("prop-types")),_=E(o("react"));let I=g=>{let{children:f,className:m,skinnable:u,...l}=g,v=[m,"sm-page-header",{"sm-nui":!u}];return _.default.createElement("header",{className:(0,T.default)(v),"data-testid":"global_page_header",...l},f)};I.displayName="Header",I.defaultProps={skinnable:!1},I.propTypes={skinnable:p.default.bool};var P=I})(),SM.currentModule=null},"",{requires:["react","prop-types","classnames"]});var Jh=J(me()),Wh=J(we());var $h=J(me()),zh=J(ra());YUI.add("sm-flickr-logo",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(g,f)=>{for(var m in f)a(g,m,{get:f[m],enumerable:!0})},S=(g,f,m,u)=>{if(f&&typeof f=="object"||typeof f=="function")for(let l of d(f))!y.call(g,l)&&l!==m&&a(g,l,{get:()=>f[l],enumerable:!(u=i(f,l))||u.enumerable});return g},E=(g,f,m)=>(m=g!=null?s(c(g)):{},S(f||!g||!g.__esModule?a(m,"default",{value:g,enumerable:!0}):m,g)),x=g=>S(a({},"__esModule",{value:!0}),g),R={};h(R,{default:()=>P}),n.exports=x(R);var T=E(o("classnames")),p=E(o("react"));let _="#sm-flickr-prints-def-FlickrWordmark";function I({className:g,...f}){let m=(0,T.default)([g,"sm-flickr-prints-logo"]);return p.default.createElement("svg",{className:m,height:"22px",role:"presentation",title:"Flickr Logo",...f},p.default.createElement("use",{href:_,xlinkHref:_}))}I.displayName="FlickrLogo";var P=I})(),SM.currentModule=null},"",{requires:["react","classnames"]});var Vh=J(me()),Kh=J(we());YUI.add("sm-logo",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(m,u)=>{for(var l in u)a(m,l,{get:u[l],enumerable:!0})},S=(m,u,l,v)=>{if(u&&typeof u=="object"||typeof u=="function")for(let O of d(u))!y.call(m,O)&&O!==l&&a(m,O,{get:()=>u[O],enumerable:!(v=i(u,O))||v.enumerable});return m},E=(m,u,l)=>(l=m!=null?s(c(m)):{},S(u||!m||!m.__esModule?a(l,"default",{value:m,enumerable:!0}):l,m)),x=m=>S(a({},"__esModule",{value:!0}),m),R={};h(R,{default:()=>f}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react"));let _=24,I=108,P=20,g=({smuggyOnly:m,...u})=>{let l=m?P:I,v=m?I-P:0;return p.default.createElement("svg",{width:l,height:_,viewBox:`${v} 0 ${l} ${_}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",...u,"data-smuggy-only":m||null},!m&&p.default.createElement(p.default.Fragment,null,p.default.createElement("path",{className:"sm-logo-wordmark",d:"M81.2159 15.9836C79.4609 15.9836 78.2999 14.9036 78.2999 13.0136C78.2999 11.2046 79.5149 10.0976 81.2159 10.0976C82.8629 10.0976 84.0779 11.1776 84.0779 13.0136C84.0779 14.8766 82.9169 15.9836 81.2159 15.9836ZM78.5429 19.3586C78.5429 19.3586 76.4099 20.5196 76.4099 20.5466V20.5736C77.1659 22.1126 78.8669 23.2196 81.1349 23.2196C85.1579 23.2196 86.4539 20.5736 86.4539 17.7116V8.04559H84.1859V9.36859C84.1859 9.36859 84.1859 9.36859 84.1589 9.36859C83.6999 8.50459 82.5119 7.82959 81.0269 7.82959C78.0839 7.82959 76.0319 10.1246 76.0319 12.9866C76.0319 15.9836 78.1649 18.2246 81.0269 18.2246C82.5659 18.2246 83.6459 17.5226 84.1049 16.6856H84.1319V17.7656C84.1319 19.9256 83.1329 20.9786 81.1079 20.9786C79.8389 21.0056 78.9479 20.3306 78.5429 19.3586C78.5429 19.3856 78.5429 19.3856 78.5429 19.3586Z"}),p.default.createElement("path",{className:"sm-logo-wordmark",d:"M72.4409 8.0459C72.4409 8.0459 72.4139 8.0459 72.4409 8.0459V13.5539C72.4409 15.1199 71.6579 16.0109 70.3079 16.0109H70.065C68.688 16.0109 67.932 15.1199 67.932 13.5539V8.0459H65.61V13.7969C65.61 16.2539 67.5809 18.2249 70.0379 18.2249H70.2809C72.7379 18.2249 74.709 16.2269 74.709 13.7969V8.0459H72.4409Z"}),p.default.createElement("path",{className:"sm-logo-wordmark",d:"M50.895 4.77832H53.352L57.375 11.0153C57.375 11.0153 57.375 11.0153 57.402 11.0153L61.425 4.77832H63.882V18.0083H61.56V8.55832C61.56 8.55832 61.56 8.55832 61.533 8.55832L57.348 14.8223C57.348 14.8223 57.348 14.8223 57.321 14.8223L53.19 8.58532H53.163V18.0083H50.895V4.77832Z"}),p.default.createElement("path",{className:"sm-logo-wordmark",d:"M43.821 15.9836C42.066 15.9836 40.905 14.9036 40.905 13.0136C40.905 11.2046 42.12 10.0976 43.821 10.0976C45.468 10.0976 46.683 11.1776 46.683 13.0136C46.71 14.8766 45.522 15.9836 43.821 15.9836ZM41.148 19.3586C41.148 19.3586 39.015 20.5196 39.015 20.5466V20.5736C39.771 22.1126 41.472 23.2196 43.74 23.2196C47.763 23.2196 49.059 20.5736 49.059 17.7116V8.04559H46.791V9.36859C46.791 9.36859 46.791 9.36859 46.764 9.36859C46.305 8.50459 45.117 7.82959 43.632 7.82959C40.689 7.82959 38.637 10.1246 38.637 12.9866C38.637 15.9836 40.77 18.2246 43.632 18.2246C45.171 18.2246 46.251 17.5226 46.71 16.6856H46.737V17.7656C46.737 19.9256 45.738 20.9786 43.713 20.9786C42.471 21.0056 41.553 20.3306 41.148 19.3586C41.175 19.3856 41.175 19.3856 41.148 19.3586Z"}),p.default.createElement("path",{className:"sm-logo-wordmark",d:"M35.1 8.0459V13.5539C35.1 15.1199 34.317 16.0109 32.967 16.0109H32.724C31.347 16.0109 30.591 15.1199 30.591 13.5539V8.0459H28.323V13.7969C28.323 16.2539 30.294 18.2249 32.751 18.2249H32.994C35.451 18.2249 37.422 16.2269 37.422 13.7969V8.0459H35.1Z"}),p.default.createElement("path",{className:"sm-logo-wordmark",d:"M11.556 8.04559H13.824V9.53059C13.824 9.53059 13.824 9.53059 13.851 9.53059C14.499 8.63959 15.363 7.82959 16.875 7.82959C18.306 7.82959 19.305 8.53159 19.845 9.58459C19.845 9.58459 19.845 9.58459 19.872 9.58459C20.682 8.53159 21.735 7.82959 23.247 7.82959C25.434 7.82959 26.757 9.20659 26.757 11.6636V18.0356H24.489V12.3656C24.489 10.7726 23.76 9.93558 22.464 9.93558C21.222 9.93558 20.331 10.7996 20.331 12.4196V18.0626H18.063V12.3386C18.063 10.7996 17.307 9.90858 16.038 9.90858C14.769 9.90858 13.905 10.8536 13.905 12.4196V18.0356H11.637L11.556 8.04559Z"}),p.default.createElement("path",{className:"sm-logo-wordmark",d:"M0 16.0918L1.377 14.4448C2.646 15.5518 3.915 16.1728 5.562 16.1728C6.993 16.1728 7.911 15.4978 7.911 14.4988V14.4718C7.911 13.5268 7.371 13.0138 4.914 12.4468C2.106 11.7448 0.513 10.9078 0.513 8.47784V8.45084C0.513 6.15584 2.43 4.58984 5.049 4.58984C6.966 4.58984 8.505 5.18384 9.855 6.23684L8.613 7.99184C7.425 7.10084 6.237 6.64184 5.022 6.64184C3.672 6.64184 2.862 7.34384 2.862 8.20784V8.23484C2.862 9.26084 3.456 9.71984 5.994 10.3138C8.802 11.0158 10.26 12.0418 10.26 14.2288V14.2558C10.26 16.7398 8.316 18.2248 5.535 18.2248C3.51 18.2248 1.593 17.5228 0 16.0918Z"})),p.default.createElement("path",{fill:"#6EB800",d:"M95.3911 3.94153C97.2271 3.91453 98.0911 2.83453 97.9831 1.86253C97.8751 1.05253 97.0921 0.296531 95.5801 0.269531C94.3381 0.269531 93.5281 1.18753 93.4201 2.10553C93.2851 3.02353 93.8521 3.96853 95.3911 3.94153Z"}),p.default.createElement("path",{fill:"#6EB800",d:"M104.301 3.72594C106.056 3.61794 106.812 2.75394 106.839 1.86294C106.839 0.863936 105.894 -0.108064 104.328 -6.40329e-05C103.059 0.107936 102.33 0.971936 102.222 1.86294C102.087 2.83494 102.735 3.80694 104.301 3.72594Z"}),p.default.createElement("path",{fill:"#6EB800",d:"M97.578 17.3339C91.503 17.3339 92.34 10.1789 93.366 10.1249C100.414 9.82793 102.222 9.61195 104.734 9.55795C107.326 9.50395 102.358 17.3069 97.578 17.3339ZM105.3 7.37095C101.008 7.80295 100.792 7.85695 92.88 8.01895C89.532 8.04595 90.207 19.4939 97.335 19.4939C104.14 19.5209 112.348 6.80395 105.3 7.37095Z"}))};g.displayName="SmugMugLogo",g.propTypes={smuggyOnly:T.default.bool};var f=g})(),SM.currentModule=null},"",{requires:["react","prop-types"]});YUI.add("sm-header-logo",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(M,k)=>{for(var B in k)a(M,B,{get:k[B],enumerable:!0})},S=(M,k,B,U)=>{if(k&&typeof k=="object"||typeof k=="function")for(let C of d(k))!y.call(M,C)&&C!==B&&a(M,C,{get:()=>k[C],enumerable:!(U=i(k,C))||U.enumerable});return M},E=(M,k,B)=>(B=M!=null?s(c(M)):{},S(k||!M||!M.__esModule?a(B,"default",{value:M,enumerable:!0}):B,M)),x=M=>S(a({},"__esModule",{value:!0}),M),R={};h(R,{default:()=>O}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-analytics")),I=E(o("sm-flickr-logo")),P=o("sm-header-constants"),g=o("sm-header-tracking-helpers"),f=E(o("sm-link")),m=E(o("sm-logo"));let u="sm-logo sm-flex-no-shrink",l="header_smugmug_logo",v=({logoHref:M,onLogoClick:k,product:B,smuggyOnly:U})=>{let C;return B===P.FLICKR_PRINTS_PRODUCT?C=p.default.createElement(I.default,{className:u,"data-testid":l,title:"Flickr"}):C=p.default.createElement(m.default,{className:u,"data-testid":l,title:"SmugMug",smuggyOnly:U}),M?p.default.createElement(f.default,{href:M,onClick:k,className:"sm-logo-link sm-flex",tabIndex:"1",...(0,g.getLinkTrackingAttrs)({label:"Logo",action:_.default.ACTION.NAVIGATION_CLICK})},C):C};v.displayName="Header.SMLogo",v.propTypes={logoHref:T.default.string,onLogoClick:T.default.func,smuggyOnly:T.default.bool,product:T.default.oneOf([P.SMUGMUG_PRODUCT,P.FLICKR_PRINTS_PRODUCT])},v.defaultProps={smuggyOnly:!1,onLogoClick:()=>{}};var O=v})(),SM.currentModule=null},"",{requires:["react","prop-types","sm-analytics","sm-flickr-logo","sm-link","sm-logo","sm-header-tracking-helpers","sm-header-constants"]});var nE=J(me()),oE=J(we());YUI.add("sm-upload-options",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(m,u)=>{for(var l in u)a(m,l,{get:u[l],enumerable:!0})},S=(m,u,l,v)=>{if(u&&typeof u=="object"||typeof u=="function")for(let O of d(u))!y.call(m,O)&&O!==l&&a(m,O,{get:()=>u[O],enumerable:!(v=i(u,O))||v.enumerable});return m},E=(m,u,l)=>(l=m!=null?s(c(m)):{},S(u||!m||!m.__esModule?a(l,"default",{value:m,enumerable:!0}):l,m)),x=m=>S(a({},"__esModule",{value:!0}),m),R={};h(R,{default:()=>f}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-component-button")),I=E(o("sm-component-panel")),P=E(o("sm-icon"));let g=({cancelHref:m,cancelText:u,currentNodeName:l,isParentRootNode:v,onCancel:O,onUploadBulkFoldersClick:M,onUploadToExistingGalleryClick:k,onUploadToNewGalleryClick:B})=>{let U;return l&&(U=[l],v||U.unshift("..."),U.unshift("Home")),p.default.createElement("div",{className:"sm-upload-options sm-text-center"},p.default.createElement(I.default,null,p.default.createElement(I.default.Body,null,p.default.createElement("div",{className:"sm-h3 sm-emphasized",role:"heading"},"Upload Photos"),U&&p.default.createElement("div",{className:"sm-upload-options-breadcrumbs sm-text-ellipsis"},p.default.createElement("span",{className:"sm-upload-options-breadcrumb-label"},"Upload to:"),U.map((C,w)=>{let H=w===U.length-1;return p.default.createElement("span",{key:w},C,!H&&p.default.createElement(P.default,{name:"AngleBracketRight",size:P.default.SIZE_SMALL}))})),p.default.createElement("div",{className:"sm-upload-options-buttons sm-button-stacked-group sm-flex sm-flex-column sm-flex-items-center"},p.default.createElement(_.default,{onClick:B,"data-testid":"uploadoptions_newgallery_button"},"Into New Gallery"),p.default.createElement(_.default,{onClick:k,"data-testid":"uploadoptions_existinggallery_button"},"Into Existing Gallery"),M&&p.default.createElement(_.default,{onClick:M,"data-testid":"uploadoptions_folders_button"},"Upload Folders")))),p.default.createElement(_.default,{noChrome:!0,skin:_.default.SKIN_PRIMARY,onClick:O||null,href:m,"data-testid":"uploadoptions_cancel_button"},p.default.createElement("span",{className:"sm-label-large"},u)))};g.displayName="UploadOptions",g.propTypes={cancelHref:T.default.string,cancelText:T.default.string,currentNodeName:T.default.string,isParentRootNode:T.default.bool,onCancel:T.default.func,onUploadBulkFoldersClick:T.default.func,onUploadToExistingGalleryClick:T.default.func.isRequired,onUploadToNewGalleryClick:T.default.func.isRequired},g.defaultProps={cancelText:"Cancel"};var f=g})(),SM.currentModule=null},"",{requires:["react","prop-types","sm-component-button","sm-component-panel","sm-icon"]});var pE=J(me()),_E=J(bl());var uE=J(me());YUI.add("sm-qr-codes-modal",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(u,l)=>{for(var v in l)a(u,v,{get:l[v],enumerable:!0})},S=(u,l,v,O)=>{if(l&&typeof l=="object"||typeof l=="function")for(let M of d(l))!y.call(u,M)&&M!==v&&a(u,M,{get:()=>l[M],enumerable:!(O=i(l,M))||O.enumerable});return u},E=(u,l,v)=>(v=u!=null?s(c(u)):{},S(l||!u||!u.__esModule?a(v,"default",{value:u,enumerable:!0}):v,u)),x=u=>S(a({},"__esModule",{value:!0}),u),R={};h(R,{default:()=>m}),n.exports=x(R);var T=E(o("react")),p=E(o("sm-component-busy")),_=E(o("sm-dom")),I=E(o("sm-modal"));let P=SM.env.type,g="smugmug.net";P==="live"&&(g="smugmug.com");function f({onClose:u,nodeId:l}){let[v,O]=(0,T.useState)(!0);(0,T.useEffect)(()=>{function k(B){B.origin.slice(-g.length)===g&&B?.data?.type==="QR_CODE_MODAL_CLOSE"&&u()}return _.default.win.addEventListener("message",k),()=>{_.default.win.removeEventListener("message",k)}},[u]);let M=(0,T.useRef)(null);return(0,T.useEffect)(()=>{function k(){O(!1)}if(M?.current){let B=M.current;return B.addEventListener("load",k),()=>{B.removeEventListener("load",k)}}},[]),T.default.createElement(I.default,{closeOnClickOutside:!0,closeOnEscape:!0,centered:!0,className:"sm-mercury-modal sm-qrcode-modal sm-flex sm-flex-column sm-flex-items-center sm-flex-justify-center",onClose:u},T.default.createElement(T.default.Fragment,null,v&&T.default.createElement("div",{className:"sm-loader-wrapper"},T.default.createElement(p.default,null)),T.default.createElement("iframe",{"data-loaded":!v||null,ref:M,src:`${SM.env.host.http+SM.env.host.main}/services/pro/qrcode?node=${l}`})))}f.displayName="QRCodes.Modal";var m=f})(),SM.currentModule=null},"",{requires:["react","sm-component-busy","sm-dom","sm-modal"]});YUI.add("sm-header-node-section-bar-helpers",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(Y,V)=>{for(var W in V)a(Y,W,{get:V[W],enumerable:!0})},S=(Y,V,W,oe)=>{if(V&&typeof V=="object"||typeof V=="function")for(let te of d(V))!y.call(Y,te)&&te!==W&&a(Y,te,{get:()=>V[te],enumerable:!(oe=i(V,te))||oe.enumerable});return Y},E=(Y,V,W)=>(W=Y!=null?s(c(Y)):{},S(V||!Y||!Y.__esModule?a(W,"default",{value:Y,enumerable:!0}):W,Y)),x=Y=>S(a({},"__esModule",{value:!0}),Y),R={};h(R,{getGalleryStyleProps:()=>q,getOpenNodeSettingsPanelClickHandler:()=>H,openQRCodePanel:()=>ue,openThemeSettingsPanel:()=>z}),n.exports=x(R);var T=E(o("react")),p=E(o("react-dom")),_=E(o("sm-analytics")),I=o("sm-api-redux-actions"),P=o("sm-api-redux-selectors"),g=o("sm-api-redux-utils"),f=o("sm-dialogs-actions"),m=E(o("sm-dom")),u=o("sm-gallery-constants"),l=o("sm-header-tracking-helpers"),v=o("sm-modal-constants"),O=E(o("sm-models-usernode")),M=E(o("sm-page")),k=o("sm-page-nodepage-constants"),B=o("sm-page-nodepage-selectors"),U=E(o("sm-qr-codes-modal")),C=E(o("sm-redux-store")),w=E(o("sm-smuglog"));function H({createNew:Y=!1,node:V,onComplete:W}={}){return()=>{SM.load("sm-settings").then(async oe=>{let te=V||(0,B.getNode)(C.default.getState())||(0,B.getOwnersRootNode)(C.default.getState()),se=te.uris.parentNode,ae;Y?(se=te.uri,ae=new O.default({ParentID:te.id,Type:O.TYPES.ALBUM})):await C.default.dispatch((0,I.fetchFromAPI)({uri:se})).then(ce=>{se=ce}).catch(ce=>{w.default.add("sm-node-page-section-bar-helpers",{...(0,g.getSmugLogDataForRequestFailure)(ce,"getOpenNodeSettingsPanelClickHandler"),currentNodeUri:se},w.default.LEVEL_ERROR),C.default.dispatch((0,f.addWarning)())}),M.default.dialogs.settings={dialogClass:oe.Base,config:{modal:!0,visible:!1,titleLocation:"outside",render:!0,userNode:Y?ae:M.default.model,parentNode:(0,P.getEntity)(C.default.getState(),se)}};let re=M.default.getDialog("settings");re.once("saved",async ce=>{let Ge=ce.userNode.get("Url"),Fe=ce.userNode.get("UrlPath");if(re.hide(),!Y){if(W){W(Fe);return}m.default.win.location.href=Ge;return}let{NodeID:Ne}=ce.responseNode,Me=`/api/v2/node/${encodeURIComponent(Ne)}`;await C.default.dispatch((0,I.fetchFromAPI)({uri:Me,expand:["Album"]})).catch(at=>{w.default.add("sm-node-page-section-bar-helpers",{...(0,g.getSmugLogDataForRequestFailure)(at,"getOpenNodeSettingsPanelClickHandler"),newlyCreatedNodeUri:Me},w.default.LEVEL_ERROR),C.default.dispatch((0,f.addWarning)())});let We=C.default.getState(),Se=(0,P.getEntity)(We,Me),st=Se.Uris.Album,{AlbumKey:Ie}=(0,P.getEntity)(We,st);M.default.nav.upload.showUploadPanel(Se.Name,{albumKey:Ie,nodeId:Ne},at=>{if(at){if(W){W(Fe);return}m.default.win.location.href=Ge}})}),re.show()})}}function A(Y){let V=u.GALLERY_STYLE_TEMPLATE_ID_LOOKUP[Y];if(!V){let W=`Invalid galleryStyle=${Y} supplied to setGalleryStyle()`;throw w.default.add("sm-node-page-section-bar-helpers",{method:"setGalleryStyle",message:W,location:m.default.win.location.href},w.default.LEVEL_ERROR),new Error(W)}(0,l.trackMenuItemEvent)({category:_.default.CATEGORY.SECTION_BAR,label:Y,property:"Gallery Style"}),M.default.setAlbumStyle(V)}function L(){return u.GALLERY_STYLES.reduce((Y,V)=>({...Y,[V]:()=>A(V)}),{})}function q(Y,V){let W=u.GALLERY_STYLE_LOOKUP[V],oe=u.GALLERY_STYLE_LOOKUP[Y.TemplateUri]||W;return{onGalleryStyleClickHandlers:L(),currentGalleryStyle:oe,defaultGalleryStyle:W}}function X(){(0,l.trackMenuItemEvent)({category:_.default.CATEGORY.SECTION_BAR,label:"Site-Wide Theme"}),M.default.editSiteSkin()}function G(Y){let W=`${k.NODE_TYPE_TRACKING_VALUES[Y]||""} Theme`;Y===k.NODE_TYPE_ROOT_FOLDER&&(W="Site-Wide Theme"),(0,l.trackMenuItemEvent)({category:_.default.CATEGORY.SECTION_BAR,label:W}),M.default.editSkin()}function z(Y){return M.default.ownerHasFeature(M.default.FEATURES.THEMES)?Y===k.NODE_TYPE_ROOT_FOLDER&&!M.default.ownerHasFeature(M.default.FEATURES.CUSTOMIZATION)?X:()=>G(Y):null}function Z(){let Y=m.default.doc.querySelector(v.UNSKINNED_MODAL_SELECTOR),V=m.default.doc.createElement("div");return Y.appendChild(V),{modalContainer:V,onClose:()=>{p.default.unmountComponentAtNode(V),Y.removeChild(V)}}}function ue(Y){let{onClose:V,modalContainer:W}=Z();p.default.render(T.default.createElement(U.default,{nodeId:Y.id,onClose:V}),W)}})(),SM.currentModule=null},"",{requires:["react","react-dom","sm-dom","sm-page","sm-smuglog","sm-redux-store","sm-analytics","sm-dialogs-actions","sm-api-redux-actions","sm-api-redux-selectors","sm-page-nodepage-selectors","sm-api-redux-utils","sm-qr-codes-modal","sm-header-tracking-helpers","sm-gallery-constants","sm-modal-constants","sm-page-nodepage-constants","sm-models-usernode"]});var HE=J(gt());var DE=J(me()),xE=J(we());var AE=J(me()),CE=J(we());YUI.add("sm-header-subscribe-button",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(u,l)=>{for(var v in l)a(u,v,{get:l[v],enumerable:!0})},S=(u,l,v,O)=>{if(l&&typeof l=="object"||typeof l=="function")for(let M of d(l))!y.call(u,M)&&M!==v&&a(u,M,{get:()=>l[M],enumerable:!(O=i(l,M))||O.enumerable});return u},E=(u,l,v)=>(v=u!=null?s(c(u)):{},S(l||!u||!u.__esModule?a(v,"default",{value:u,enumerable:!0}):v,u)),x=u=>S(a({},"__esModule",{value:!0}),u),R={};h(R,{default:()=>m}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-component-button")),I=o("sm-header-constants"),P=o("sm-header-tracking-helpers");let g=`https://${SM.env.host.main}${I.URL_PATH_SUBSCRIBE}`,f=u=>{let{size:l,trackingContext:v,trialDaysRemaining:O,onClick:M,...k}=u,B=O===0?"I'm Sold!":"Subscribe";return p.default.createElement(_.default,{href:g,size:l,skin:_.default.SKIN_ACCENT,onClick:M,"data-testid":"header_subscribe_button",...(0,P.getSubscribeTrackingAttrs)(B,v),...k},B)};f.displayName="Header.SubscribeButton",f.defaultProps={size:_.default.SIZE_MEDIUM},f.propTypes={trackingContext:T.default.string.isRequired,trialDaysRemaining:T.default.number.isRequired,size:T.default.string,onClick:T.default.func},f.defaultProps={onClick:()=>{}};var m=f})(),SM.currentModule=null},"",{requires:["react","prop-types","sm-component-button","sm-header-tracking-helpers","sm-header-constants"]});YUI.add("sm-header-subscribe-cta",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(v,O)=>{for(var M in O)a(v,M,{get:O[M],enumerable:!0})},S=(v,O,M,k)=>{if(O&&typeof O=="object"||typeof O=="function")for(let B of d(O))!y.call(v,B)&&B!==M&&a(v,B,{get:()=>O[B],enumerable:!(k=i(O,B))||k.enumerable});return v},E=(v,O,M)=>(M=v!=null?s(c(v)):{},S(O||!v||!v.__esModule?a(M,"default",{value:v,enumerable:!0}):M,v)),x=v=>S(a({},"__esModule",{value:!0}),v),R={};h(R,{default:()=>l}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-analytics")),I=E(o("sm-component-button")),P=o("sm-header-constants"),g=E(o("sm-header-subscribe-button")),f=o("sm-header-tracking-helpers");let m=`https://${SM.env.host.main}${P.URL_PATH_SUBSCRIBE}`,u=({trialDaysRemaining:v,onClick:O})=>{let M=v===1?"1 Day Left":`${v} Days Left`;return p.default.createElement("div",{className:"sm-page-header-subscribe"},p.default.createElement(I.default,{noChrome:!0,className:"sm-page-header-trial-message",skin:I.default.SKIN_NONE,href:m,onClick:O,size:I.default.SIZE_SMALL,"data-testid":"header_daysleft_link",...(0,f.getSubscribeTrackingAttrs)(M,_.default.SCREEN_CONTEXTS.SECTION_HEADER)},M),p.default.createElement(g.default,{className:"sm-header-subscribe-button",trialDaysRemaining:v,trackingContext:_.default.SCREEN_CONTEXTS.SECTION_HEADER,size:I.default.SIZE_SMALL,onClick:O}))};u.displayName="Header.SubscribeCTA",u.propTypes={trialDaysRemaining:T.default.number.isRequired,onClick:T.default.func},u.defaultProps={onClick:()=>{}};var l=u})(),SM.currentModule=null},"",{requires:["react","prop-types","sm-analytics","sm-component-button","sm-header-subscribe-button","sm-header-tracking-helpers","sm-header-constants"]});YUI.add("sm-header-subscribe-cta-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(g,f)=>{for(var m in f)a(g,m,{get:f[m],enumerable:!0})},S=(g,f,m,u)=>{if(f&&typeof f=="object"||typeof f=="function")for(let l of d(f))!y.call(g,l)&&l!==m&&a(g,l,{get:()=>f[l],enumerable:!(u=i(f,l))||u.enumerable});return g},E=(g,f,m)=>(m=g!=null?s(c(g)):{},S(f||!g||!g.__esModule?a(m,"default",{value:g,enumerable:!0}):m,g)),x=g=>S(a({},"__esModule",{value:!0}),g),R={};h(R,{default:()=>P}),n.exports=x(R);var T=o("react-redux"),p=E(o("sm-header-subscribe-cta")),_=o("sm-page-selectors");let I=g=>{let{daysRemaining:f}=(0,_.getLoggedInUserTrialData)(g);return{trialDaysRemaining:f}};var P=(0,T.connect)(I)(p.default)})(),SM.currentModule=null},"",{requires:["react-redux","sm-header-subscribe-cta","sm-page-selectors"]});var sv=J(gt());var zS=J(Dr()),VS=J(me()),KS=J(we());var $E=J(me()),zE=J(Dr());YUI.add("sm-header-headway-release-notes",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(C,w)=>{for(var H in w)a(C,H,{get:w[H],enumerable:!0})},S=(C,w,H,A)=>{if(w&&typeof w=="object"||typeof w=="function")for(let L of d(w))!y.call(C,L)&&L!==H&&a(C,L,{get:()=>w[L],enumerable:!(A=i(w,L))||A.enumerable});return C},E=(C,w,H)=>(H=C!=null?s(c(C)):{},S(w||!C||!C.__esModule?a(H,"default",{value:C,enumerable:!0}):H,C)),x=C=>S(a({},"__esModule",{value:!0}),C),R={};h(R,{default:()=>l,deserializeTrackingData:()=>M,isCountStale:()=>B,persistTrackingData:()=>k,serializeTrackingData:()=>O,useNotesCount:()=>v}),n.exports=x(R);var T=E(o("js-cookie")),p=E(o("react")),_=E(o("sm-badge")),I=E(o("sm-component-button")),P=o("sm-header-tracking-helpers");let g="https://headwayapp.co/smugmug-release-notes",f="hwnt",m=1e3*60*60*24,u=()=>{let[C,w]=v();return p.default.createElement(I.default,{href:g,target:"_blank",className:"sm-page-header-navitem-headway","data-testid":"header_headway_button",size:I.default.SIZE_SMALL,onClick:C>0?w:null,...(0,P.getLinkTrackingAttrs)({label:"What's New"})},"What's New",C>0&&p.default.createElement(_.default,{skin:_.default.SKINS.INFO},C))};u.displayName="Header.HeadwayReleaseNotes";var l=u;function v(){let[C,w]=(0,p.useState)(0);(0,p.useEffect)(()=>{let A=T.default.get(f);if(A||w(1),A){let L=M(A);if(B(L.lastFetch)){async function q(){let G=(await U()).filter(Z=>new Date(Z.dateTime)>L.lastFetch).length,z=L.newCount+G;w(z),k({newCount:z,lastFetch:new Date})}q()}else w(L.newCount)}},[]);let H=(0,p.useCallback)(()=>{w(0),k({newCount:0,lastFetch:new Date})},[w]);return[C,H]}function O(C){return JSON.stringify({...C,lastFetch:C.lastFetch.toISOString()})}function M(C){try{return JSON.parse(C,(H,A)=>(H==="lastFetch"&&(A=new Date(A)),A))}catch{return console.warn("Failed to parse headway notes cookie"),T.default.remove(f),{newCount:0,lastFetch:new Date}}}function k(C){let w=O(C);T.default.set(f,w,{domain:SM.env.host.session,path:"/",expires:365,secure:!0,sameSite:"Lax"})}function B(C){return new Date-C>m}async function U(){try{let C=await fetch("https://headwayapp.co/smugmug-release-notes.json");return C.ok?(await C.json()).collection:[]}catch(C){return console.warn("Failed to fetch headway notes: ",C),[]}}})(),SM.currentModule=null},"",{requires:["react","js-cookie","sm-component-button","sm-badge","sm-header-tracking-helpers"]});var dy=J(gt());var WE=J(me()),XE=J(we());YUI.add("sm-header-cart-button",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(l,v)=>{for(var O in v)a(l,O,{get:v[O],enumerable:!0})},S=(l,v,O,M)=>{if(v&&typeof v=="object"||typeof v=="function")for(let k of d(v))!y.call(l,k)&&k!==O&&a(l,k,{get:()=>v[k],enumerable:!(M=i(v,k))||M.enumerable});return l},E=(l,v,O)=>(O=l!=null?s(c(l)):{},S(v||!l||!l.__esModule?a(O,"default",{value:l,enumerable:!0}):O,l)),x=l=>S(a({},"__esModule",{value:!0}),l),R={};h(R,{default:()=>u}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-analytics")),I=E(o("sm-badge")),P=o("sm-header-tracking-helpers"),g=E(o("sm-pretty-pluralize"));let f=99,m=l=>{let{cartUrl:v,itemCount:O,nodeId:M,nodeType:k,onClick:B,skinnable:U}=l,C=U?I.default.SKINS.ACCENT:I.default.SKINS.INFO,w=O;return w>f&&(w=`${f}+`),p.default.createElement("a",{"aria-label":`Shopping cart. ${O} ${(0,g.default)(O,"item")} in cart.`,className:"sm-page-header-button-circle sm-page-header-navitem-cart",href:v,onClick:B,"data-testid":"header_cart_button",...(0,P.getLinkTrackingAttrs)({action:_.default.ACTION.NAVIGATION_CLICK,label:"Cart",nodeId:M,nodeType:k})},p.default.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.default.createElement("path",{d:"M5.058 6l2.64 10.25a1 1 0 00.969.75h9.444a1 1 0 00.973-.77l1.89-8A1 1 0 0020 7H7.381l-.58-2.25A1 1 0 005.834 4H3a1 1 0 000 2h2.058zM9.5 18a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm8 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm1.236-9l-1.416 6H9.442L7.896 9h10.84z",fill:"currentColor"})),!!O&&p.default.createElement(I.default,{skin:C,"aria-hidden":!0},w))};m.displayName="Header.CartButton",m.propTypes={cartUrl:T.default.string.isRequired,itemCount:T.default.number,nodeId:T.default.string,nodeType:T.default.string,onClick:T.default.func,skinnable:T.default.bool},m.defaultProps={onClick:()=>{}};var u=m})(),SM.currentModule=null},"",{requires:["react","prop-types","sm-pretty-pluralize","sm-analytics","sm-badge","sm-header-tracking-helpers"]});YUI.add("sm-header-selectors",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(b,D)=>{for(var K in D)a(b,K,{get:D[K],enumerable:!0})},S=(b,D,K,de)=>{if(D&&typeof D=="object"||typeof D=="function")for(let ve of d(D))!y.call(b,ve)&&ve!==K&&a(b,ve,{get:()=>D[ve],enumerable:!(de=i(D,ve))||de.enumerable});return b},E=(b,D,K)=>(K=b!=null?s(c(b)):{},S(D||!b||!b.__esModule?a(K,"default",{value:b,enumerable:!0}):K,b)),x=b=>S(a({},"__esModule",{value:!0}),b),R={};h(R,{getActiveFeature:()=>M,getAdminAlbumInfoUrl:()=>oe,getAdminAwareUrl:()=>Se,getAdminNodeInfoUrl:()=>te,getAdminSubmenuData:()=>se,getAdminUserInfoUrl:()=>W,getAdminUserSettingsUrl:()=>V,getCanEditNodeSettings:()=>H,getCanEditThemeSettings:()=>A,getCartItemCount:()=>Ne,getCartUrl:()=>Me,getClientDownloadModalData:()=>C,getDefaultTemplateUri:()=>Fe,getGalleryUploadUrl:()=>ae,getHelpData:()=>v,getIsAlbumAndCanUpload:()=>k,getIsClientDownloadItemShown:()=>U,getIsQrCodeItemShown:()=>B,getLoggedInProfileImageUrl:()=>We,getLogoHref:()=>O,getSearchPageUrl:()=>ue,getShowFolderPricing:()=>Ge,getShowGalleryPricing:()=>re,getShowGalleryStatsbar:()=>ce,getShowNodeSectionBar:()=>q,getShowUserSiteHeader:()=>L,getUrlChooseDesign:()=>Jt,getUrlCustomize:()=>Fn,getUrlLibrary:()=>st,getUrlOrganizePreviewPage:()=>at,getUrlOrganizer:()=>Ie,getUrlPhotoSite:()=>X,getUrlSellingTools:()=>Kt,getUserGOSMUrl:()=>z,getUserGettingStartedOverviewUrl:()=>Z,getUserMenuUrls:()=>Y,getUserSharedWithMeUrl:()=>G,shouldShowHeadwayNotes:()=>w}),n.exports=x(R);var T=o("sm-api-redux-selectors"),p=o("sm-controlpanel-helpers"),_=o("sm-header-constants"),I=E(o("sm-image-sizes")),P=o("sm-page-constants"),g=o("sm-page-feature-flag-constants"),f=o("sm-page-nodepage-constants"),m=o("sm-page-nodepage-selectors"),u=o("sm-page-selectors");let l=`https://${SM.env.host.main}`;function v(b={}){let{ui:{help:{contextual:D}={}}={}}=b;return{contextualHelpEnabled:D}}function O(b={},{linkHeaderLogo:D=!0}={}){if(!D)return;if((0,u.isLoggedInUserGuest)(b))return l+_.URL_PATH_SHARED_WITH_ME;let K=(0,u.getLoggedInUser)(b);return K?K.isTrial&&K.isGettingStarted?l+_.URL_PATH_CONTENT_WIZARD:l+_.URL_PATH_LIBRARY:l}function M(b={},D){return D||((0,m.getNode)(b)?_.MAIN_NAV_FEATURE_USER_SITE:_.MAIN_NAV_FEATURE_FALLBACK)}function k(b={}){if(!(0,u.isLoggedInUserPageOwner)(b)&&!(0,u.isLoggedInUserAdmin)(b)||!(0,u.ownerHasFeature)(b,P.USER_FEATURE_UPLOAD))return!1;let D=(0,m.getRealNodeType)(b);return D===f.NODE_TYPE_SYSTEM_ALBUM||D===f.NODE_TYPE_ALBUM}function B(b={}){let D=(0,m.getRealNodeType)(b);return D===f.NODE_TYPE_SYSTEM_PAGE||D===f.NODE_TYPE_SYSTEM_ALBUM?!1:!!(0,u.ownerHasFeature)(b,P.USER_FEATURE_QRCODE)}function U(b={}){return!((0,m.getRealNodeType)(b)!==f.NODE_TYPE_ALBUM||!(0,u.isLoggedInUserPageOwnerOrAdmin)(b)||!(0,u.ownerHasFeature)(b,P.USER_FEATURE_CLIENT_DOWNLOADS))}function C(b={}){let D=(0,m.getNode)(b);if(!D||D.type!==f.NODE_TYPE_ALBUM)return;let K=(0,T.getExpansion)(b,D.uri,"Album");if(K)return{albumAllowsDownloads:K.AllowDownloads,albumIsPrivate:K.Privacy==="Private",generateUri:D.uris?.createClientDownload}}function w(b={}){let D=(0,u.getLoggedInUser)(b);return!(!D||D.isTrial||(0,u.isLoggedInUserGuest)(b))}function H(b={}){if(!(0,u.isLoggedInUserPageOwner)(b)&&!(0,u.isLoggedInUserAdmin)(b)||!(0,u.ownerHasFeature)(b,P.USER_FEATURE_THEMES))return!1;let D=(0,m.getRealNodeType)(b);return!(!D||f.SYSTEM_NODE_TYPES.has(D))}function A(b){if(!(0,u.isLoggedInUserPageOwner)(b)&&!(0,u.isLoggedInUserAdmin)(b)||(0,u.isLoggedInUserAssistant)(b)||!(0,u.ownerHasFeature)(b,P.USER_FEATURE_THEMES))return!1;let D=(0,m.getNode)(b);if(!D||D.type===f.NODE_TYPE_SYSTEM_ALBUM)return!1;let K=(0,T.getExpansion)(b,D.uri,"Album");return!(K&&K.HideOwner)}function L(b={}){return(0,u.getLoggedInUser)(b)?!(!(0,m.getNode)(b)||(0,u.isLoggedInUserPageOwnerOrAdmin)(b)):!0}function q(b={}){let D=(0,m.getNode)(b);return!D||!(0,u.isLoggedInUserPageOwnerOrAdmin)(b)?!1:D.type===f.NODE_TYPE_SYSTEM_PAGE?(0,u.ownerHasFeature)(b,P.USER_FEATURE_CUSTOMIZE):(0,u.ownerHasFeature)(b,P.USER_FEATURE_THEMES)}function X(b={}){let{webUri:D}=(0,u.getOwner)(b)||{};return D||({homepageUrl:D}=(0,u.getLoggedInUser)(b)||{}),D}function G(b={}){if(!(0,u.isLoggedInUserAssistant)(b))return l+_.URL_PATH_SHARED_WITH_ME}function z(b={}){if(!((0,u.isLoggedInUserGuest)(b)||(0,u.isLoggedInUserAssistant)(b)))return l+_.URL_PATH_GOSM}function Z(b={}){let D=(0,u.getLoggedInUserTrialData)(b);if(!(!D||D.daysRemaining<1))return l+_.URL_PATH_GETTING_STARTED_OVERVIEW}function ue(b){if((0,u.isLoggedInUserGuest)(b))return;let{homepageUrl:D}=(0,u.getLoggedInUser)(b);return`${D}/search`}function Y(b={}){return{urlAppsPage:l+_.URL_PATH_APPS,urlGettingStartedOverview:Z(b),urlLogout:SM.env.logoutURL,urlPerksPage:l+_.URL_PATH_PERKS,urlSettings:(0,p.getAccountSettingsUrl)(),urlSharedWithMe:G(b),urlGiftOfSM:z(b),urlSearchPage:ue(b)}}function V(b={}){if((0,u.isLoggedInUserAssistant)(b))return;let D=(0,u.getOwner)(b);if(D)return(0,p.getAccountSettingsUrl)({nickname:D.nickName})}function W(b={}){if((0,u.isLoggedInUserAssistant)(b))return;let D=(0,u.getOwner)(b);if(D)return`${l}${_.URL_PATH_ADMIN_USER_INFO}?NickName=${D.nickName}`}function oe(b={}){if((0,u.isLoggedInUserAssistant)(b))return;let D=(0,T.getExpansion)(b,(0,m.getNodeUri)(b),"Album");if(D)return`${l}${_.URL_PATH_ADMIN_ALBUM_INFO}?AlbumID=${D.AlbumKey}`}function te(b={}){if((0,u.isLoggedInUserAssistant)(b))return;let D=(0,m.getNode)(b);if(D)return`${l}${_.URL_PATH_ADMIN_NODE_INFO}?NodeID=${D.id}`}function se(b={}){if(!(0,u.isLoggedInUserAdmin)(b))return{};let D=!(0,u.isLoggedInUserAssistant)(b)&&(0,u.getOwner)(b);return{ownerNickName:D?.nickName,urlAdminAlbumInfo:oe(b),urlAdminNodeInfo:te(b),urlAdminHome:l+_.URL_PATH_ADMIN,urlAdminUserHome:D?.webUri,urlAdminUserInfo:W(b),urlAdminUserSettings:V(b)}}function ae(b={}){let{type:D,uri:K}=(0,m.getNode)(b)||{};if(D!==f.NODE_TYPE_ALBUM)return;let{AlbumKey:de}=(0,T.getExpansion)(b,K,"Album")||{};if(de)return`${l}${_.URL_PATH_UPLOAD}/${de}`}function re(b={}){let{type:D}=(0,m.getNode)(b)||{};return D!==f.NODE_TYPE_ALBUM?!1:!(0,u.isLoggedInUserAssistant)(b)&&(0,u.ownerHasFeature)(b,P.USER_FEATURE_MULTIPLE_PRICELISTS)}function ce(b={}){return(0,u.getFeatureFlagValue)(b,g.EXPERIMENT_CLIENT_PHOTOGRAPHER_STATS)&&(0,u.isLoggedInUserPageOwnerOrAdmin)(b)&&(0,u.ownerHasFeature)(b,P.USER_FEATURE_GALLERY_STATS)&&(0,m.getRealNodeType)(b)===f.NODE_TYPE_ALBUM}function Ge(b={}){let D=(0,m.getRealNodeType)(b),K=D===f.NODE_TYPE_FOLDER;return D===f.NODE_TYPE_ROOT_FOLDER||!K?!1:!(0,u.isLoggedInUserAssistant)(b)&&(0,u.ownerHasFeature)(b,P.USER_FEATURE_MULTIPLE_PRICELISTS)}function Fe(b={}){let D=(0,u.getOwnerUri)(b),{DefaultTemplateUri:K}=(0,T.getExpansion)(b,D,"SiteSettings")||{};return K}function Ne(b={}){let D=(0,T.getEntity)(b,"/api/v2/cart");return D&&D.ItemCount}function Me(b={}){let{webUri:D}=(0,u.getOwner)(b)||{};return D?D+_.URL_PATH_CART:l+_.URL_PATH_CART}function We(b){let D=(0,u.getLoggedInUserUri)(b)||"",K=(0,T.getExpansion)(b,D,"BioImage")||"";if(K?.Uri){if(K?.Processing)return"https://cdn.smugmug.com/img/processing-NeXT-Th.png"}else return;let de=K.Uri,ve=(0,T.getExpansion)(b,de,"ImageSizeDetails");return ve?new I.default(ve).cover(_.PROFILE_IMAGE_DIMENSIONS,_.PROFILE_IMAGE_DIMENSIONS)?.Url:void 0}function Se(b={},D,K="NickName"){if((0,u.isLoggedInUserAdmin)(b)&&!(0,u.isLoggedInUserPageOwner)(b)){let{nickName:de}=(0,u.getOwner)(b)||{};de&&(D+=`?${K}=${de}`)}return D}function st(b={}){return Se(b,l+_.URL_PATH_LIBRARY)}function Ie(b={},{deepLink:D=!0}={}){let K=l+_.URL_PATH_ORGANIZER,{urlPath:de,type:ve}=(0,m.getNode)(b)||{},mt=ve===f.NODE_TYPE_SYSTEM_PAGE;return D&&de&&!mt?K+=de:K+="/",Se(b,K,"nick")}function at(b={}){if(!(0,u.viewportIsGreaterThanSmall)(b))return Se(b,l+_.URL_PATH_ORGANIZER_PREVIEW,"nick")}function Kt(b={}){if((0,u.isLoggedInUserAssistant)(b)||(0,u.getOwner)(b)&&!(0,u.ownerHasFeature)(b,P.USER_FEATURE_SALES)||!(0,u.loggedInUserHasFeature)(b,P.USER_FEATURE_SALES))return;let K=l+_.URL_PATH_SELLING;return Se(b,K)}function Jt(b={}){if((0,u.isLoggedInUserAssistant)(b)||!(0,u.ownerHasFeature)(b,P.USER_FEATURE_CUSTOMIZE))return;let{isRoot:D}=(0,m.getNode)(b)||{};if(!D)return;let K=l+_.URL_PATH_CHOOSE_DESIGN;return Se(b,K)}function Fn(b={}){if((0,u.isLoggedInUserAssistant)(b))return;let D=(0,m.getRealNodeType)(b),K=f.NODE_TYPE_ROOT_FOLDER===D;if(f.NODE_TYPE_SYSTEM_ALBUM===D)return;let ve=(0,u.ownerHasFeature)(b,P.USER_FEATURE_CUSTOMIZE),mt=(0,u.ownerHasFeature)(b,P.USER_FEATURE_BASIC_CUSTOMIZE);if(!ve&&!mt||!ve&&!K)return;let Nt=(0,m.getNode)(b)||{};if(D===f.NODE_TYPE_ALBUM&&(0,T.getExpansion)(b,Nt.uri,"Album")?.HideOwner)return;let ea=l+_.URL_PATH_CUSTOMIZER;if(Nt&&!K){let{urlPath:yl=""}=Nt;ea+=yl}return Se(b,ea)}})(),SM.currentModule=null},"",{requires:["sm-api-redux-selectors","sm-header-constants","sm-page-constants","sm-page-feature-flag-constants","sm-page-selectors","sm-page-nodepage-constants","sm-page-nodepage-selectors","sm-controlpanel-helpers","sm-image-sizes"]});YUI.add("sm-header-cart-button-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(m,u)=>{for(var l in u)a(m,l,{get:u[l],enumerable:!0})},S=(m,u,l,v)=>{if(u&&typeof u=="object"||typeof u=="function")for(let O of d(u))!y.call(m,O)&&O!==l&&a(m,O,{get:()=>u[O],enumerable:!(v=i(u,O))||v.enumerable});return m},E=(m,u,l)=>(l=m!=null?s(c(m)):{},S(u||!m||!m.__esModule?a(l,"default",{value:m,enumerable:!0}):l,m)),x=m=>S(a({},"__esModule",{value:!0}),m),R={};h(R,{default:()=>f}),n.exports=x(R);var T=o("react-redux"),p=E(o("sm-header-cart-button")),_=o("sm-header-selectors"),I=o("sm-page-nodepage-selectors"),P=o("sm-page-selectors");let g=m=>{let u=(0,_.getCartItemCount)(m),l=(0,_.getCartUrl)(m),v=!!(0,P.getLoggedInUser)(m),O=(0,I.getNode)(m),M,k;return O&&(M=O.id,k=(0,I.getRealNodeType)(m)),{itemCount:u,cartUrl:l,isLoggedIn:v,nodeId:M,nodeType:k}};var f=(0,T.connect)(g)(p.default)})(),SM.currentModule=null},"",{requires:["react-redux","sm-header-cart-button","sm-page-selectors","sm-header-selectors","sm-page-nodepage-selectors"]});var Xy=J(gt());var Gy=J(we()),Fy=J(me());var Iy=J(gt());var gy=J(we()),hy=J(me());YUI.add("sm-main-nav-upload-button",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(v,O)=>{for(var M in O)a(v,M,{get:O[M],enumerable:!0})},S=(v,O,M,k)=>{if(O&&typeof O=="object"||typeof O=="function")for(let B of d(O))!y.call(v,B)&&B!==M&&a(v,B,{get:()=>O[B],enumerable:!(k=i(O,B))||k.enumerable});return v},E=(v,O,M)=>(M=v!=null?s(c(v)):{},S(O||!v||!v.__esModule?a(M,"default",{value:v,enumerable:!0}):M,v)),x=v=>S(a({},"__esModule",{value:!0}),v),R={};h(R,{default:()=>l}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-component-button")),I=o("sm-header-constants"),P=E(o("sm-icon")),g=E(o("sm-modal")),f=E(o("sm-upload-options"));let m=`https://${SM.env.host.main}${I.URL_PATH_UPLOAD_OPTIONS}`,u=v=>{let[O,M]=(0,p.useState)(!1),{currentNodeName:k,isParentRootNode:B,onUploadBulkFolders:U,onUploadButtonClick:C,onUploadToExistingGalleryClick:w,onUploadToNewGalleryClick:H,onUploadToThisGallery:A,useUploadButtonLink:L}=v;function q(X){if(C){C(X);return}if(!L){if(A){A();return}M(!0)}}return p.default.createElement(p.default.Fragment,null,p.default.createElement(_.default,{"aria-label":A?"Upload to this gallery":"Upload",className:"sm-header-upload-button","data-testid":"header_upload_button",href:L?m:null,onClick:q,size:_.default.SIZE_SMALL,skin:_.default.SKIN_ACCENT},p.default.createElement("svg",{"data-upload-icon":!0,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.default.createElement("path",{d:"M20 14a1 1 0 01.993.883L21 15v3a3 3 0 01-2.824 2.995L18 21H6a3 3 0 01-2.995-2.824L3 18v-3a1 1 0 011.993-.117L5 15v3a1 1 0 00.883.993L6 19h12a1 1 0 00.993-.883L19 18v-3a1 1 0 011-1zM12.146 3.012l.027.005a.743.743 0 01.102.023 1.026 1.026 0 01.474.296l3.958 3.959a1 1 0 01-1.414 1.414L13 6.417v7.585a1 1 0 01-1.993.117L11 14.002V6.416L8.707 8.71A1 1 0 017.21 7.39l.083-.094 4-4a.979.979 0 01.854-.283z",fill:"currentColor"})),p.default.createElement("span",{className:"sm-button-label"},"Upload")),O&&p.default.createElement(g.default,{onClose:()=>M(!1)},p.default.createElement(f.default,{currentNodeName:k,isParentRootNode:B,onCancel:()=>M(!1),onUploadBulkFoldersClick:U&&(()=>{M(!1),U()}),onUploadToExistingGalleryClick:()=>{M(!1),w()},onUploadToNewGalleryClick:()=>{M(!1),H()}})))};u.displayName="Header.MainNav.UploadButton",u.propTypes={currentNodeName:T.default.string,isParentRootNode:T.default.bool,onUploadBulkFolders:T.default.func,onUploadButtonClick:T.default.func,onUploadToExistingGalleryClick:T.default.func,onUploadToNewGalleryClick:T.default.func,onUploadToThisGallery:T.default.func,useUploadButtonLink:T.default.bool};var l=u})(),SM.currentModule=null},"",{requires:["prop-types","react","sm-component-button","sm-header-constants","sm-icon","sm-modal","sm-upload-options"]});YUI.add("sm-main-nav-upload-helpers",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(u,l)=>{for(var v in l)a(u,v,{get:l[v],enumerable:!0})},S=(u,l,v,O)=>{if(l&&typeof l=="object"||typeof l=="function")for(let M of d(l))!y.call(u,M)&&M!==v&&a(u,M,{get:()=>l[M],enumerable:!(O=i(l,M))||O.enumerable});return u},E=(u,l,v)=>(v=u!=null?s(c(u)):{},S(l||!u||!u.__esModule?a(v,"default",{value:u,enumerable:!0}):v,u)),x=u=>S(a({},"__esModule",{value:!0}),u),R={};h(R,{uploadBulkFolders:()=>m,uploadToExistingGallery:()=>g,uploadToThisGallery:()=>f}),n.exports=x(R);var T=E(o("sm-analytics")),p=E(o("sm-dom")),_=o("sm-header-constants"),I=o("sm-header-tracking-helpers"),P=E(o("sm-page-nav-upload"));function g(u){(0,I.trackEvent)({label:_.TRACKING_LABEL_UPLOAD_TO_EXISTING,action:T.default.ACTION.UPLOAD_CLICK});let l=t.one("#upload-picker-plugin-host");l||(l=t.Node.create('<div id="upload-picker-plugin-host"></div>'),t.one("body").append(l)),P.default.handleExistingClick(null,l,{startNodeId:u})}function f(u,l,v){(0,I.trackEvent)({label:_.TRACKING_LABEL_UPLOAD_TO_CURRENT_GALLERY,action:T.default.ACTION.UPLOAD_CLICK}),P.default.showUploadPanel(u,{albumKey:v,nodeId:l},O=>{O&&p.default.win.location.reload()})}function m(u,l,v,O){(0,I.trackEvent)({label:_.TRACKING_LABEL_UPLOAD_FOLDERS,action:T.default.ACTION.UPLOAD_CLICK}),P.default.showUploadPanel(u,{nodeId:l,albumKey:O,allowFolders:!0},M=>{M&&(p.default.win.location=v)})}})(),SM.currentModule=null},"",{requires:["sm-analytics","sm-dom","sm-page-nav-upload","sm-header-tracking-helpers","sm-header-constants"]});YUI.add("sm-main-nav-upload-button-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(U,C)=>{for(var w in C)a(U,w,{get:C[w],enumerable:!0})},S=(U,C,w,H)=>{if(C&&typeof C=="object"||typeof C=="function")for(let A of d(C))!y.call(U,A)&&A!==w&&a(U,A,{get:()=>C[A],enumerable:!(H=i(C,A))||H.enumerable});return U},E=(U,C,w)=>(w=U!=null?s(c(U)):{},S(C||!U||!U.__esModule?a(w,"default",{value:U,enumerable:!0}):w,U)),x=U=>S(a({},"__esModule",{value:!0}),U),R={};h(R,{default:()=>B}),n.exports=x(R);var T=o("react-redux"),p=E(o("sm-analytics")),_=o("sm-api-redux-selectors"),I=o("sm-header-constants"),P=o("sm-header-node-section-bar-helpers"),g=o("sm-header-selectors"),f=o("sm-header-tracking-helpers"),m=E(o("sm-main-nav-upload-button")),u=o("sm-main-nav-upload-helpers"),l=o("sm-page-nodepage-selectors"),v=E(o("sm-ua"));let O=new v.default,M=!O.isIOS&&!O.isAndroid,k=(U,{useUploadButtonLink:C})=>{let w=(0,l.getUploadableNode)(U),H=w&&(0,_.getExpansion)(U,w.uri,"Album"),A,L,q,X,G;if(H&&(0,g.getIsAlbumAndCanUpload)(U)&&(G=()=>(0,u.uploadToThisGallery)(w.name,w.id,H.AlbumKey)),w&&M){let z=w.isRoot?"Your site":w.name,Z=H?.AlbumKey;q=()=>(0,u.uploadBulkFolders)(z,w.id,w.webUri,Z)}if(w){let z=(0,P.getOpenNodeSettingsPanelClickHandler)({createNew:!0,node:w});X=()=>{(0,f.trackEvent)({action:p.default.ACTION.UPLOAD_CLICK,label:I.TRACKING_LABEL_UPLOAD_TO_NEW_GALLERY}),z()}}return w&&!w.isRoot&&(A=w.name,L=((0,_.getExpansion)(U,w.uri,"ParentNode")||{}).IsRoot),{currentNodeName:A,isParentRootNode:L,onUploadBulkFolders:q,onUploadToExistingGalleryClick:()=>(0,u.uploadToExistingGallery)(w?.id),onUploadToNewGalleryClick:X,onUploadToThisGallery:G,useUploadButtonLink:C||!w}};var B=(0,T.connect)(k)(m.default)})(),SM.currentModule=null},"",{requires:["react-redux","sm-analytics","sm-ua","sm-main-nav-upload-button","sm-api-redux-selectors","sm-main-nav-upload-helpers","sm-header-node-section-bar-helpers","sm-header-selectors","sm-header-tracking-helpers","sm-header-constants","sm-page-nodepage-selectors"]});YUI.add("sm-main-nav",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(U,C)=>{for(var w in C)a(U,w,{get:C[w],enumerable:!0})},S=(U,C,w,H)=>{if(C&&typeof C=="object"||typeof C=="function")for(let A of d(C))!y.call(U,A)&&A!==w&&a(U,A,{get:()=>C[A],enumerable:!(H=i(C,A))||H.enumerable});return U},E=(U,C,w)=>(w=U!=null?s(c(U)):{},S(C||!U||!U.__esModule?a(w,"default",{value:U,enumerable:!0}):w,U)),x=U=>S(a({},"__esModule",{value:!0}),U),R={};h(R,{default:()=>B}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-component-button")),I=E(o("sm-component-menu")),P=o("sm-component-menu-constants"),g=o("sm-header-constants"),f=E(o("sm-icon")),m=E(o("sm-main-nav-upload-button-container")),u=E(o("sm-component-menu-item")),l=E(o("sm-component-menu-label")),v=o("sm-component-menu-constants"),O=o("sm-header-tracking-helpers"),M=E(o("sm-analytics"));let k=U=>{let C=(0,p.useRef)(null),[w,H]=(0,p.useState)(!1);(0,p.useLayoutEffect)(()=>{H(!0)},[]);let{activeFeature:A,collapseMainNav:L,nodeId:q,nodeType:X,onMainNavMenuClick:G,onNavItemClick:z,onUploadButtonClick:Z,showUploadButton:ue,urlLibrary:Y,urlOrganize:V,urlOrganizePreviewPage:W,urlPhotoSite:oe,urlSelling:te,useUploadButtonLink:se}=U,ae=(0,p.useCallback)((re,ce)=>{(0,O.trackEvent)({action:M.default.ACTION.NAVIGATION_CLICK,label:ce,nodeId:q,nodeType:X}),z?.(re)},[z]);return p.default.createElement("nav",{className:"sm-position-relative sm-flex sm-flex-items-center"},ue&&p.default.createElement(m.default,{useUploadButtonLink:se,onUploadButtonClick:Z}),p.default.createElement(_.default,{className:"sm-header-main-nav-overflow-menu-button sm-hide-extra-large-and-up","data-testid":"header_overflow_button",noChrome:!0,onClick:G,ref:C},p.default.createElement("span",{className:"sm-button-label sm-emphasized"},A),p.default.createElement(f.default,{name:"AngleBracketDownSlim",size:f.default.SIZE_SMALL})),p.default.createElement(I.default,{alwaysVisible:!L,anchor:L?C.current:null,className:"sm-header-main-nav",menuId:g.MENU_ID_MAIN_NAV,noChrome:!L,orientation:L?P.ORIENTATION_VERTICAL:P.ORIENTATION_HORIZONTAL},!!Y&&p.default.createElement(u.default,{dataAttrs:{"data-testid":"header_library_menuitem"},href:Y,onClick:re=>ae(re,g.MAIN_NAV_FEATURE_LIBRARY),type:v.ITEM_TYPE_LINK},p.default.createElement(l.default,null,g.MAIN_NAV_FEATURE_LIBRARY)),!!V&&p.default.createElement(u.default,{className:"sm-page-header-navitem-organize",dataAttrs:{"data-active":A===g.MAIN_NAV_FEATURE_ORGANIZER||void 0,"data-testid":"header_organize_menuitem"},href:V,onClick:re=>ae(re,g.MAIN_NAV_FEATURE_ORGANIZER),type:v.ITEM_TYPE_LINK},p.default.createElement(l.default,null,g.MAIN_NAV_FEATURE_ORGANIZER)),!!W&&p.default.createElement(u.default,{dataAttrs:{"data-testid":"header_organize_menuitem"},href:W,onClick:re=>ae(re,g.MAIN_NAV_FEATURE_ORGANIZER),type:v.ITEM_TYPE_LINK},p.default.createElement(l.default,null,g.MAIN_NAV_FEATURE_ORGANIZER)),p.default.createElement(u.default,{dataAttrs:{"data-active":A===g.MAIN_NAV_FEATURE_USER_SITE||void 0,"data-testid":"header_photosite_menuitem"},href:oe,onClick:re=>ae(re,"Photo Site"),type:v.ITEM_TYPE_LINK},p.default.createElement(l.default,null,g.MAIN_NAV_FEATURE_USER_SITE)),!!te&&p.default.createElement(u.default,{className:"sm-page-header-navitem-sell",dataAttrs:{"data-active":A===g.MAIN_NAV_FEATURE_SELLING||void 0,"data-testid":"header_sell_menuitem"},href:te,onClick:re=>ae(re,"Sell"),type:v.ITEM_TYPE_LINK},p.default.createElement(l.default,null,g.MAIN_NAV_FEATURE_SELLING))))};k.displayName="Header.MainNav",k.propTypes={activeFeature:T.default.string,collapseMainNav:T.default.bool,onMainNavMenuClick:T.default.func,onNavItemClick:T.default.func,onUploadButtonClick:T.default.func,showUploadButton:T.default.bool,urlLibrary:T.default.string,urlOrganize:T.default.string,urlOrganizePreviewPage:T.default.string,urlPhotoSite:T.default.string.isRequired,urlSelling:T.default.string,useUploadButtonLink:T.default.bool,nodeId:T.default.string,nodeType:T.default.string},k.defaultProps={activeFeature:g.MAIN_NAV_FEATURE_FALLBACK};var B=k})(),SM.currentModule=null},"",{requires:["prop-types","react","sm-component-button","sm-component-menu","sm-component-menu-constants","sm-header-constants","sm-icon","sm-main-nav-upload-button-container","sm-component-menu-item","sm-component-menu-label","sm-header-tracking-helpers","sm-analytics"]});YUI.add("sm-main-nav-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(l,v)=>{for(var O in v)a(l,O,{get:v[O],enumerable:!0})},S=(l,v,O,M)=>{if(v&&typeof v=="object"||typeof v=="function")for(let k of d(v))!y.call(l,k)&&k!==O&&a(l,k,{get:()=>v[k],enumerable:!(M=i(v,k))||M.enumerable});return l},E=(l,v,O)=>(O=l!=null?s(c(l)):{},S(v||!l||!l.__esModule?a(O,"default",{value:l,enumerable:!0}):O,l)),x=l=>S(a({},"__esModule",{value:!0}),l),R={};h(R,{default:()=>u}),n.exports=x(R);var T=o("react-redux"),p=o("sm-header-actions"),_=o("sm-header-selectors"),I=E(o("sm-main-nav")),P=o("sm-page-nodepage-selectors"),g=o("sm-page-selectors");let f=l=>{let v=(0,P.getNode)(l),O,M;v&&(M=v.id,O=(0,P.getRealNodeType)(l));let k=(0,g.viewportIsGreaterThanSmall)(l),B;return k&&(B=(0,_.getUrlOrganizer)(l,{deepLink:!1})),{collapseMainNav:(0,g.viewportIsLessThanExtraLarge)(l),nodeId:M,nodeType:O,showUploadButton:k,urlLibrary:(0,_.getUrlLibrary)(l),urlOrganize:B,urlOrganizePreviewPage:(0,_.getUrlOrganizePreviewPage)(l),urlPhotoSite:(0,_.getUrlPhotoSite)(l),urlSelling:(0,_.getUrlSellingTools)(l)}},m=l=>({onMainNavMenuClick:()=>{l((0,p.toggleMainNav)())}});var u=(0,T.connect)(f,m)(I.default)})(),SM.currentModule=null},"",{requires:["react-redux","sm-main-nav","sm-page-selectors","sm-page-nodepage-selectors","sm-header-actions","sm-header-selectors"]});var DS=J(gt());var pS=J(Dr());var fS=J(we()),mS=J(me());var nS=J(me());YUI.add("sm-component-menu-heading",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(P,g)=>{for(var f in g)a(P,f,{get:g[f],enumerable:!0})},S=(P,g,f,m)=>{if(g&&typeof g=="object"||typeof g=="function")for(let u of d(g))!y.call(P,u)&&u!==f&&a(P,u,{get:()=>g[u],enumerable:!(m=i(g,u))||m.enumerable});return P},E=(P,g,f)=>(f=P!=null?s(c(P)):{},S(g||!P||!P.__esModule?a(f,"default",{value:P,enumerable:!0}):f,P)),x=P=>S(a({},"__esModule",{value:!0}),P),R={};h(R,{default:()=>I}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-component-pure-render"));class I extends _.default{constructor(g){super(g),this._handleClick=this._handleClick.bind(this)}render(){let g=this.props,f=["sm-component-menu-heading","sm-flex","sm-flex-items-center"];return g.className&&f.push(g.className),p.default.createElement("li",{className:f.join(" "),onClick:this._handleClick,role:"separator"},p.default.createElement("span",{role:"heading"},g.children))}_handleClick(g){g.stopPropagation()}}I.propTypes={className:T.default.string},I.displayName="MenuHeading"})(),SM.currentModule=null},"",{requires:["react","sm-component-pure-render"]});var lS=J(gt());var sS=J(we()),aS=J(me());YUI.add("sm-user-nav-node-settings",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(f,m)=>{for(var u in m)a(f,u,{get:m[u],enumerable:!0})},S=(f,m,u,l)=>{if(m&&typeof m=="object"||typeof m=="function")for(let v of d(m))!y.call(f,v)&&v!==u&&a(f,v,{get:()=>m[v],enumerable:!(l=i(m,v))||l.enumerable});return f},E=(f,m,u)=>(u=f!=null?s(c(f)):{},S(m||!f||!f.__esModule?a(u,"default",{value:f,enumerable:!0}):u,f)),x=f=>S(a({},"__esModule",{value:!0}),f),R={};h(R,{default:()=>g}),n.exports=x(R);var T=E(o("prop-types")),p=E(o("react")),_=E(o("sm-icon")),I=o("sm-page-nodepage-constants");let P=f=>{let{highlightImageUrl:m,name:u,nodeType:l}=f,v;return m&&(v={backgroundImage:`url('${m}')`}),p.default.createElement("div",null,p.default.createElement("div",{className:"sm-user-nav-node-title"},u),p.default.createElement("div",{className:"sm-flex"},p.default.createElement("div",{className:"sm-user-nav-node-thumb sm-flex sm-flex-items-center sm-flex-justify-center",style:v},!m&&p.default.createElement(_.default,{name:I.PLACEHOLDER_ICON_LOOKUP[l],size:_.default.SIZE_SMALL})),p.default.createElement("div",{className:"sm-user-nav-node-settings-label sm-flex sm-flex-self-center"},p.default.createElement(_.default,{name:I.SETTINGS_ICON_LOOKUP[l],size:_.default.SIZE_SMALL}),p.default.createElement("div",null,`${I.NODE_TYPE_LABEL_MAP[l]} Settings`))))};P.displayName="Header.UserNav.NodeSettings",P.propTypes={name:T.default.string.isRequired,nodeType:T.default.oneOf([I.NODE_TYPE_ALBUM,I.NODE_TYPE_FOLDER,I.NODE_TYPE_PAGE]).isRequired,nodeHighlightImageUrl:T.default.string};var g=P})(),SM.currentModule=null},"",{requires:["prop-types","react","sm-icon","sm-page-nodepage-constants"]});YUI.add("sm-user-nav-node-settings-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,c=(I,P)=>{for(var g in P)s(I,g,{get:P[g],enumerable:!0})},y=(I,P,g,f)=>{if(P&&typeof P=="object"||typeof P=="function")for(let m of i(P))!d.call(I,m)&&m!==g&&s(I,m,{get:()=>P[m],enumerable:!(f=a(P,m))||f.enumerable});return I},h=I=>y(s({},"__esModule",{value:!0}),I),S={};c(S,{default:()=>_}),n.exports=h(S);let{connect:E}=SM.import("react-redux"),x=SM.import("sm-user-nav-node-settings"),{getNode:R,getNodeHighlightImageSizes:T}=SM.import("sm-page-nodepage-selectors");var _=E(I=>{let P=R(I),g=T(I),f;return g&&(f=g.smallImageUrl||g.largestImageUrl),{highlightImageUrl:f,name:P.name,nodeType:P.type}})(x)})(),SM.currentModule=null},"",{requires:["react-redux","sm-user-nav-node-settings","sm-page-nodepage-selectors"]});YUI.add("sm-user-nav",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(A,L)=>{for(var q in L)a(A,q,{get:L[q],enumerable:!0})},S=(A,L,q,X)=>{if(L&&typeof L=="object"||typeof L=="function")for(let G of d(L))!y.call(A,G)&&G!==q&&a(A,G,{get:()=>L[G],enumerable:!(X=i(L,G))||X.enumerable});return A},E=(A,L,q)=>(q=A!=null?s(c(A)):{},S(L||!A||!A.__esModule?a(q,"default",{value:A,enumerable:!0}):q,A)),x=A=>S(a({},"__esModule",{value:!0}),A),R={};h(R,{default:()=>H}),n.exports=x(R);var T=E(o("js-cookie")),p=E(o("prop-types")),_=E(o("react")),I=E(o("sm-analytics")),P=E(o("sm-badge")),g=E(o("sm-component-menu")),f=o("sm-component-menu-constants"),m=E(o("sm-component-menu-heading")),u=E(o("sm-component-menu-item")),l=E(o("sm-component-menu-label")),v=E(o("sm-dom")),O=o("sm-header-constants"),M=E(o("sm-header-subscribe-button")),k=o("sm-header-tracking-helpers"),B=E(o("sm-icon")),U=E(o("sm-user-nav-node-settings-container"));let C="jsCssLevelsRadioGroup",w={USER_NAV:{storageKey:"dismissedGettingStartedBadge",cookieKey:O.COOKIE_DISMISSED_USER_MENU_BADGE,stateKey:"showUserNavBadge"},DASHBOARD:{storageKey:"dismissedDashboardBadge",cookieKey:O.COOKIE_DISMISSED_DASHBOARD_BADGE,stateKey:"showDashboardBadge"}};class H extends _.default.PureComponent{constructor(L){super(L),this.anchorRef=_.default.createRef(),this.state={[w.USER_NAV.stateKey]:this._canShowBadge(w.USER_NAV),[w.DASHBOARD.stateKey]:this._canShowBadge(w.DASHBOARD)}}render(){let{nodeId:L,nodeType:q,onEditProfile:X,onNavItemClick:G,onNodeSettingsClick:z,onUserMenuClick:Z,searchScope:ue,searchScopeValue:Y,showEditProfile:V,showNodeSettings:W,showSubscribeCTA:oe,trialDaysRemaining:te,urlAppsPage:se,urlBioPhoto:ae,urlGettingStartedOverview:re,urlGiftOfSM:ce,urlLogout:Ge,urlPerksPage:Fe,urlSearchPage:Ne,urlSettings:Me,urlSharedWithMe:We,userIsAdmin:Se,userMenuIsOpen:st,viewportIsLessThanMedium:Ie}=this.props,at;Ie&&(at=["tr-br"]);let Kt,Jt,Fn=this.state[w.USER_NAV.stateKey],b=this.state[w.DASHBOARD.stateKey];Fn&&(Kt=_.default.createElement(P.default,{skin:P.default.SKINS.INFO,"data-testid":"header_usermenu_badge"},"NEW")),b&&(Jt=_.default.createElement(P.default,{skin:P.default.SKINS.INFO,"data-testid":"usermenu_quickstart_badge"},"NEW"));let D={"data-testid":"usermenu_quickstart_link",...(0,k.getUserMenuLinkTrackingAttrs)({label:"Getting Started",nodeId:L,nodeType:q})},K=!!Se&&!Ie,de=!!Ie&&W,ve=Ie&&!!Ne,mt=Ne;return Y&&ue&&(mt+=`?scope=${ue}&scopeValue=${Y}`),_.default.createElement("div",{className:"sm-position-relative"},_.default.createElement("button",{"aria-label":"User menu",className:"sm-user-nav-button","data-has-bio-image":!!ae||null,"data-testid":"header_usernav_button",onClick:()=>{this._dismissBadge(w.USER_NAV),Z()},ref:this.anchorRef},_.default.createElement("div",{className:"sm-page-header-button-circle sm-user-nav-button-avatar-wrapper","data-expanded":st||null},ae?_.default.createElement("img",{src:ae,className:""}):_.default.createElement("svg",{viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M16 14a4 4 0 014 4v2a1 1 0 11-2 0v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2a1 1 0 11-2 0v-2a4 4 0 014-4h8zM12 3a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z",fill:"currentColor"})),!!Kt&&Kt)),_.default.createElement(g.default,{menuId:O.MENU_ID_USER_NAV_DROP_DOWN,className:"sm-user-nav sm-vh",alignments:at,anchor:this.anchorRef.current},K&&this._renderAdminMenu(),K&&_.default.createElement("li",{className:"sm-component-menu-separator",role:"separator"}),oe&&_.default.createElement(u.default,{className:"sm-user-nav-subscribe sm-flex-wrap sm-flex-justify-center"},_.default.createElement(l.default,{className:"sm-text-large"},te===1?"1 Day":`${te} Days`," Left In Your Trial"),_.default.createElement(M.default,{trialDaysRemaining:te,trackingContext:I.default.SCREEN_CONTEXTS.SECTION_USER_MENU})),oe&&_.default.createElement("li",{className:"sm-component-menu-separator",role:"separator"}),de&&_.default.createElement(u.default,{className:"sm-user-nav-node",onClick:z},_.default.createElement(U.default,null)),de&&_.default.createElement("li",{className:"sm-component-menu-separator",role:"separator"}),!!re&&_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:re,dataAttrs:D,onClick:Nt=>{this._dismissBadge(w.DASHBOARD),G(Nt)}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M9 20.5V19c-.6 0-1-.4-1-1 0-1.4-.4-2.2-1.8-3.9l-.3-.4C4.5 11.9 4 10.8 4 9c0-4.4 3.6-8 8-8s8 3.6 8 8c0 1.8-.5 2.9-1.9 4.7l-.7.9C16.3 16 16 16.8 16 18c0 .6-.4 1-1 1v3c0 .5-.4.9-.9 1H10c-.5 0-.9-.4-1-.9v-1.6zm4-1.5h-2v2h2v-2zM12 3C8.7 3 6 5.7 6 9c0 1.2.4 2 1.5 3.5l.5.6c1.1 1.4 1.7 2.4 1.9 3.6v.2H14c.2-1.3.8-2.4 1.9-3.9l.5-.6C17.6 11 18 10.2 18 9c0-3.3-2.7-6-6-6z",fill:"currentColor"})),_.default.createElement(l.default,null,"Quickstart Guide"),!!Jt&&Jt),ve&&_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:mt,onClick:G,dataAttrs:{"data-testid":"usermenu_search_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"Search My Photos",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M11.5 5a6.5 6.5 0 015.25 10.334l2.957 2.959a1 1 0 01-1.414 1.414l-2.96-2.957A6.5 6.5 0 1111.5 5zm0 2a4.5 4.5 0 100 9 4.5 4.5 0 000-9z",fill:"currentColor"})),_.default.createElement(l.default,null,"Search My Photos")),!!V&&_.default.createElement(u.default,{dataAttrs:{"data-testid":"usermenu_editprofile_menuitem"},onClick:X},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M11.165 4.647a1.024 1.024 0 010 2.047H7.07c-.566 0-1.024.458-1.024 1.023v9.212c0 .566.458 1.024 1.024 1.024h9.212c.565 0 1.023-.458 1.023-1.024v-4.094a1.024 1.024 0 012.047 0v4.094A3.07 3.07 0 0116.283 20H7.07A3.07 3.07 0 014 16.93V7.716a3.07 3.07 0 013.07-3.07h4.095zM21.1 2.899c1.199 1.2 1.199 3.32 0 4.519l-7.165 7.164c-.151.151-.345.251-.556.286l-3.809.636a1.024 1.024 0 01-1.172-1.21l.739-3.706c.04-.198.137-.38.28-.524L16.582 2.9c1.2-1.199 3.32-1.199 4.519 0zM18.03 4.347l-6.946 6.945-.388 1.949 2.024-.338 6.933-6.933c.4-.4.4-1.223 0-1.623-.4-.4-1.223-.4-1.623 0z",fill:"currentColor"})),_.default.createElement(l.default,null,"Edit My Profile")),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Me,onClick:G,dataAttrs:{"data-testid":"usermenu_accountsettings_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"Account Settings",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 11.901c0-1.681 1.3-2.967 3-2.967s3 1.286 3 2.967-1.3 2.967-3 2.967c-1.6 0-3-1.286-3-2.967zm1.5 0c0 .791.7 1.484 1.5 1.484s1.5-.693 1.5-1.484-.7-1.483-1.5-1.483-1.5.692-1.5 1.483z",fill:"currentColor"}),_.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7 14.077c-.3 0-.4.099-.5.297 0 .197 0 .395.2.79.5.396.7.99.7 1.583 0 .594-.2 1.187-.6 1.583-.9.89-2.3.89-3.2 0-.2-.1-.4-.198-.6-.1-.2 0-.3.199-.3.396v.1C14.4 20.01 13.3 21 12.1 21c-1.3 0-2.3-1.088-2.3-2.275 0-.296-.1-.395-.3-.494-.3-.1-.5 0-.6.099-.9.89-2.3.89-3.2 0-.9-.89-.9-2.275 0-3.165.1-.198.2-.396.1-.594 0-.197-.2-.296-.4-.296h-.1C4 14.275 3 13.187 3 12c0-1.286 1-2.275 2.3-2.275.2 0 .4-.099.5-.296.1-.297 0-.495-.1-.594-.5-.395-.7-.989-.7-1.582 0-.594.2-1.187.6-1.583.9-.89 2.3-.89 3.2 0 .2.198.4.198.6.1h.1c.1-.1.2-.199.2-.396v-.1C9.7 3.99 10.8 3 12 3c1.2 0 2.3.989 2.3 2.077 0 .297.1.396.3.494.2.1.4 0 .5-.098.4-.495 1-.693 1.6-.693.6 0 1.2.297 1.6.693.9.89.9 2.274 0 3.164-.1.198-.2.396-.1.594v.099c.1.099.2.197.4.197h.1c1.3 0 2.3 1.088 2.3 2.275 0 1.286-1.1 2.275-2.3 2.275zm-1.4 1.978c-.7-.692-.8-1.484-.5-2.275.4-.692 1.1-1.187 1.7-1.187.5 0 .8-.296.8-.692a.68.68 0 00-.7-.692h-.1c-.8 0-1.5-.495-1.8-1.187-.1-.099-.1-.099-.1-.198-.2-.791 0-1.582.5-2.077.4-.296.4-.791.1-1.088a.768.768 0 00-.5-.197c-.2 0-.4.098-.5.197-.7.693-1.6.792-2.3.495-.7-.297-1.2-.99-1.2-1.78 0-.495-.3-.792-.7-.792-.4 0-.7.297-.7.693v.099c0 .79-.5 1.483-1.2 1.78-.1.099-.1.099-.2.099-.8.198-1.6 0-2.1-.495-.2-.198-.4-.296-.6-.296-.06.03-.12.05-.176.07-.134.046-.254.087-.324.226-.1.1-.2.297-.2.495s.1.395.2.296c.7.693.8 1.484.5 2.275-.3.791-1 1.286-1.8 1.286-.5 0-.8.297-.8.692 0 .396.3.693.7.693h.2c.8 0 1.5.494 1.8 1.186.3.693.2 1.583-.4 2.176-.2.198-.3.396-.3.594 0 .197.1.395.2.494.2.297.7.297 1 0 .5-.396 1-.593 1.5-.593.237 0 .412.062.623.136l.177.061c.8.297 1.3.99 1.3 1.78 0 .495.3.792.7.792.4 0 .7-.297.7-.692v-.1c0-.79.5-1.483 1.2-1.78.7-.296 1.6-.197 2.2.396.4.396.8.396 1.1.099.1-.099.2-.297.2-.495 0-.197-.1-.395-.2-.494z",fill:"currentColor"})),_.default.createElement(l.default,null,"Account Settings")),_.default.createElement("li",{className:"sm-component-menu-separator",role:"separator"}),!!We&&_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:We,onClick:G,dataAttrs:{"data-testid":"usermenu_sharedwithme_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"Shared With Me",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M6.5 5H20c.6 0 1 .4 1 1v9.5c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-9c0-.3-.2-.5-.5-.5h-13c-.3 0-.5-.2-.5-.5s.2-.5.5-.5z",fill:"currentColor"}),_.default.createElement("path",{d:"M18 7H4.5c-.3 0-.5.2-.5.5s.2.5.5.5h13c.3 0 .5.2.5.5v9c0 .3.2.5.5.5s.5-.2.5-.5V8c0-.6-.4-1-1-1z",fill:"currentColor"}),_.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9H4c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h12c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-1 8H5v-6h10v6z",fill:"currentColor"})),_.default.createElement(l.default,null,"Shared With Me")),!!Ie&&_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:O.HELP_PAGE_URL,onClick:G,dataAttrs:{"data-testid":"usermenu_support_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"Support",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M12 3a9 9 0 110 18 9 9 0 010-18zm0 2a7 7 0 100 14 7 7 0 000-14zm0 10a1 1 0 110 2 1 1 0 010-2zm1.914-6.62c1.318 1.317 1.222 2.914-.18 4.413l-.154.16-.925.803a1 1 0 01-1.4-1.422l.089-.088.873-.755c.766-.767.803-1.176.283-1.697-.521-.521-.93-.484-1.697.283a1 1 0 01-1.415-1.415c1.497-1.496 3.161-1.647 4.526-.282z",fill:"currentColor"})),_.default.createElement(l.default,null,"Support")),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Fe,onClick:G,dataAttrs:{"data-testid":"usermenu_smugmugperks_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"SmugMug Perks",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M12 2a7 7 0 013.971 12.765l.019.094 1 7a1 1 0 01-1.437 1.035L12 21.118l-3.553 1.776A1 1 0 017.01 21.86l1-7c.005-.033.01-.064.018-.095A7 7 0 0112 2zm2.088 13.683c-.66.206-1.36.317-2.088.317-.727 0-1.428-.11-2.088-.317l-.652 4.569 2.293-1.146a1 1 0 01.894 0l2.293 1.146-.652-4.569zM12 4a5 5 0 100 10 5 5 0 000-10z",fill:"currentColor"})),_.default.createElement(l.default,null,"SmugMug Perks")),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:se,onClick:G,dataAttrs:{"data-testid":"usermenu_smugmugapps_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"SmugMug Apps",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M16 2a3 3 0 013 3v14a3 3 0 01-3 3H8a3 3 0 01-3-3V5a3 3 0 012.824-2.995L8 2h8zm0 2H8a1 1 0 00-1 1v14a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1zm-4 13a1 1 0 110 2 1 1 0 010-2z",fill:"currentColor"})),_.default.createElement(l.default,null,"SmugMug Apps")),!!ce&&_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:ce,onClick:G,dataAttrs:{"data-testid":"usermenu_giftofsmugmug_menuitem","data-link-tracking-category":I.default.CATEGORY.GIFT_OF_SMUGMUG,"data-link-tracking-action":I.default.ACTION.GIFT_OF_SMUGMUG_START,"data-link-tracking-label":"Gift SmugMug","data-link-tracking-property":"Header"}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M19 6.347c0 .225-.032.44-.093.641H20a1 1 0 011 1v4.004a1 1 0 01-1 1.001V20A1 1 0 0119 21H5a1 1 0 01-1-1v-7.007a1 1 0 01-1-1V7.988a1 1 0 011-1.001h1.093A2.205 2.205 0 015 6.348c0-2.768 3.068-4.523 5.634-2.416a6.44 6.44 0 011.367 1.56 6.395 6.395 0 011.365-1.56C15.932 1.824 19 3.579 19 6.347zm-8 6.646H6v6.005h5v-6.005zm7 0h-5v6.005h5v-6.005zM11 8.99H5v2.002h6V8.989zm8 0h-6v2.002h6V8.99zM7 6.348c0 .066.06.164.255.287.35.22.937.36 1.745.354h1.552l-.14-.257a4.523 4.523 0 00-1.046-1.252C8.18 4.506 7 5.18 7 6.347zm7.634-.868a4.636 4.636 0 00-1.186 1.509h1.559c.8.005 1.389-.133 1.738-.354.195-.123.255-.22.255-.287 0-1.166-1.181-1.841-2.366-.868z",fill:"currentColor"})),_.default.createElement(l.default,null,"Gift SmugMug")),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Ge,onClick:G,dataAttrs:{"data-testid":"usermenu_logout_menuitem",...(0,k.getUserMenuLinkTrackingAttrs)({label:"Log Out",nodeId:L,nodeType:q})}},_.default.createElement("svg",{className:"sm-user-nav-icon",viewBox:"0 0 24 24"},_.default.createElement("path",{d:"M10 20a1 1 0 01-.883.993L9 21H6a3 3 0 01-2.995-2.824L3 18V6a3 3 0 012.824-2.995L6 3h3a1 1 0 01.117 1.993L9 5H6a1 1 0 00-.993.883L5 6v12a1 1 0 00.883.993L6 19h3a1 1 0 011 1zm10.998-7.952v.011a.994.994 0 01-.006.064l-.005.029a.986.986 0 01-.28.555l.061-.067a.968.968 0 01-.047.054l-.014.013-4 4a1 1 0 01-1.414-1.414L17.585 13H8.998a1 1 0 01-.117-1.993L8.998 11h8.586L15.29 8.707a1 1 0 011.32-1.497l.094.083 3.987 3.985.015.015c.045.045.085.093.12.144l.025.04a.991.991 0 01.06.112l.009.02a.813.813 0 01.062.203l.002.018a.935.935 0 01.014.218z",fill:"currentColor"})),_.default.createElement(l.default,null,"Log Out"))))}_canShowBadge({cookieKey:L,storageKey:q}){let{trialDaysRemaining:X}=this.props,G=v.default.win.location.pathname===O.URL_PATH_GETTING_STARTED_OVERVIEW,z=T.default.get(L);return!z&&localStorage.getItem(q)==="true"&&(z=!0,this._setDismissedBadge(L)),!(G||!X||z)}_dismissBadge({stateKey:L,cookieKey:q}){this.state[L]&&(this._setDismissedBadge(q),this.setState({[L]:!1}))}_setDismissedBadge(L){T.default.set(L,"1",{domain:SM.env.host.session,path:"/",expires:365,secure:!0,sameSite:"Lax"})}_renderAdminMenu(){let{assetsAreMinified:L,disableEditOwnerProfile:q,notificationsHidden:X,onAdminEditOwnerProfile:G,onAdminMenuJSCSSMouseEnter:z,onAdminMenuJSCSSMouseLeave:Z,onAdminMenuMouseEnter:ue,onAdminMenuMouseLeave:Y,onAdminMenuTimeMouseEnter:V,onAdminMenuTimeMouseLeave:W,onJSCSSMinClick:oe,onJSCSSRawClick:te,onNavItemClick:se,onToggleNotificationsClick:ae,onToggleTimeStuffClick:re,onToggleTimeStuffImagesClick:ce,timeStuffImagesIsOn:Ge,timeStuffIsOn:Fe,urlAdminAlbumInfo:Ne,urlAdminNodeInfo:Me,urlAdminHome:We,urlAdminUserHome:Se,urlAdminUserInfo:st,urlAdminUserSettings:Ie}=this.props;return _.default.createElement(u.default,{onMouseEnter:ue,onMouseLeave:Y},_.default.createElement(B.default,{name:"Lock",size:B.default.SIZE_SMALL}),_.default.createElement(l.default,null,"Admin"),_.default.createElement(g.default,{alignments:f.SUBMENU_ALIGNMENTS,menuId:O.MENU_ID_ADMIN_NAV},_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:We,onClick:se},"Admin Home"),_.default.createElement(m.default,null,"User Tools"),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Se,onClick:se,disabled:!Se},"User Homepage"),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:st,onClick:se,disabled:!st},"User Info"),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Ie,onClick:se,disabled:!Ie},"User Account Settings"),_.default.createElement(u.default,{disabled:q,onClick:G},"User Edit Profile"),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Ne,onClick:se,disabled:!Ne},"Album Info"),_.default.createElement(u.default,{type:f.ITEM_TYPE_LINK,href:Me,onClick:se,disabled:!Me},"Node Info"),_.default.createElement(m.default,null,"Admin Tools"),_.default.createElement(u.default,{onMouseEnter:z,onMouseLeave:Z},_.default.createElement(l.default,null,"JS/CSS Levels"),_.default.createElement(g.default,{menuId:O.MENU_ID_ADMIN_NAV_JS_CSS},_.default.createElement(u.default,{type:f.ITEM_TYPE_RADIO,radiogroup:C,onClick:oe,initiallyChecked:L},"Min"),_.default.createElement(u.default,{type:f.ITEM_TYPE_RADIO,radiogroup:C,onClick:te,initiallyChecked:!L},"Raw"))),_.default.createElement(u.default,{onMouseEnter:V,onMouseLeave:W},_.default.createElement(l.default,null,"Time Stuff"),_.default.createElement(g.default,{menuId:O.MENU_ID_ADMIN_NAV_TIME_STUFF},_.default.createElement(u.default,{type:f.ITEM_TYPE_CHECKBOX,onClick:re,initiallyChecked:Fe},"Time Stuff"),_.default.createElement(u.default,{type:f.ITEM_TYPE_CHECKBOX,onClick:ce,initiallyChecked:Ge},"Images"))),_.default.createElement(u.default,{type:f.ITEM_TYPE_CHECKBOX,onClick:ae,initiallyChecked:X},"Hide Notifications")))}}H.displayName="Header.UserNav",H.propTypes={searchScope:p.default.string,searchScopeValue:p.default.string,onEditProfile:p.default.func,onNodeSettingsClick:p.default.func,onNavItemClick:p.default.func,onUserMenuClick:p.default.func,showEditProfile:p.default.bool,showNodeSettings:p.default.bool,showSubscribeCTA:p.default.bool,trialDaysRemaining:p.default.number,urlAppsPage:p.default.string,urlBioPhoto:p.default.string,urlGettingStartedOverview:p.default.string,urlLogout:p.default.string,urlPerksPage:p.default.string,urlSearchPage:p.default.string,urlSettings:p.default.string,urlSharedWithMe:p.default.string,urlGiftOfSM:p.default.string,userIsAdmin:p.default.bool,userMenuIsOpen:p.default.bool,viewportIsLessThanMedium:p.default.bool.isRequired,nodeId:p.default.string,nodeType:p.default.string,assetsAreMinified:p.default.bool,disableEditOwnerProfile:p.default.bool,onAdminEditOwnerProfile:p.default.func,notificationsHidden:p.default.bool,onAdminMenuJSCSSMouseEnter:p.default.func,onAdminMenuJSCSSMouseLeave:p.default.func,onAdminMenuMouseEnter:p.default.func,onAdminMenuMouseLeave:p.default.func,onAdminMenuTimeMouseEnter:p.default.func,onAdminMenuTimeMouseLeave:p.default.func,onJSCSSMinClick:p.default.func,onJSCSSRawClick:p.default.func,onToggleNotificationsClick:p.default.func,onToggleTimeStuffClick:p.default.func,onToggleTimeStuffImagesClick:p.default.func,timeStuffImagesIsOn:p.default.bool,timeStuffIsOn:p.default.bool,urlAdminAlbumInfo:p.default.string,urlAdminHome:p.default.string,urlAdminUserHome:p.default.string,urlAdminUserInfo:p.default.string,urlAdminUserSettings:p.default.string},H.defaultProps={showEditProfile:!0,onNavItemClick:()=>{}}})(),SM.currentModule=null},"",{requires:["js-cookie","sm-dom","prop-types","react","sm-analytics","sm-badge","sm-icon","sm-component-menu","sm-component-menu-heading","sm-component-menu-item","sm-component-menu-label","sm-component-menu-constants","sm-header-subscribe-button","sm-user-nav-node-settings-container","sm-header-tracking-helpers","sm-header-constants"]});var IS=J(Dr());YUI.add("sm-admin-menu-helpers",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(G,z)=>{for(var Z in z)a(G,Z,{get:z[Z],enumerable:!0})},S=(G,z,Z,ue)=>{if(z&&typeof z=="object"||typeof z=="function")for(let Y of d(z))!y.call(G,Y)&&Y!==Z&&a(G,Y,{get:()=>z[Y],enumerable:!(ue=i(z,Y))||ue.enumerable});return G},E=(G,z,Z)=>(Z=G!=null?s(c(G)):{},S(z||!G||!G.__esModule?a(Z,"default",{value:G,enumerable:!0}):Z,G)),x=G=>S(a({},"__esModule",{value:!0}),G),R={};h(R,{checkIfAssetsAreMinified:()=>B,checkIfHideNotificationsIsOn:()=>q,checkIfTimeStuffImagesIsOn:()=>A,checkIfTimeStuffIsOn:()=>w,onJSCSSMinClick:()=>U,onJSCSSRawClick:()=>C,onToggleNotificationsClick:()=>X,onToggleTimeStuffClick:()=>H,onToggleTimeStuffImagesClick:()=>L,showAdminEditProfilePanel:()=>v}),n.exports=x(R);var T=E(o("js-cookie")),p=E(o("sm-dom")),_=E(o("sm-panel-profile-editor-launcher"));let I="jslevel",P="dpnaa",g="timeStuff",f="timeStuffImages",m="timeStuffNick",u="-min",l="-raw";function v(G){(0,_.default)(G)}function O(G,z,Z){T.default.set(G,z,{domain:SM.env.host.session,path:"/",expires:new Date(+new Date+365*864e5),secure:!0,sameSite:"None"}),Z&&p.default.doc.location.reload(!0)}function M(G,z){T.default.remove(G,{domain:SM.env.host.session,path:"/"}),z&&p.default.doc.location.reload(!0)}function k(G,z,Z){T.default.get(G)?M(G):O(G,z),Z&&p.default.doc.location.reload(!0)}function B(){let G=T.default.get(I);return G===u||!G}function U(){M(I,!0)}function C(){O(I,l,!0)}function w(){return T.default.get(g)}function H(G){O(m,G),k(g,!0),M(f,!0)}function A(){return!!T.default.get(f)}function L(G){O(m,G),k(g,!0),k(f,!0,!0)}function q(){return!!T.default.get(P)}function X(){k(P,!0,!0)}})(),SM.currentModule=null},"",{requires:["js-cookie","sm-dom","sm-panel-profile-editor-launcher"]});YUI.add("sm-user-nav-helpers",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(g,f)=>{for(var m in f)a(g,m,{get:f[m],enumerable:!0})},S=(g,f,m,u)=>{if(f&&typeof f=="object"||typeof f=="function")for(let l of d(f))!y.call(g,l)&&l!==m&&a(g,l,{get:()=>f[l],enumerable:!(u=i(f,l))||u.enumerable});return g},E=(g,f,m)=>(m=g!=null?s(c(g)):{},S(f||!g||!g.__esModule?a(m,"default",{value:g,enumerable:!0}):m,g)),x=g=>S(a({},"__esModule",{value:!0}),g),R={};h(R,{showEditProfilePanel:()=>P}),n.exports=x(R);var T=E(o("sm-dom")),p=o("sm-header-constants"),_=o("sm-header-tracking-helpers"),I=E(o("sm-panel-profile-editor-launcher"));function P(g,f){if((0,_.trackMenuItemEvent)({label:"Edit My Profile",property:p.TRACKING_PROPERTY_USER_MENU}),f){T.default.win.location="/settings/edit-profile";return}(0,I.default)(g)}})(),SM.currentModule=null},"",{requires:["sm-dom","sm-panel-profile-editor-launcher","sm-header-tracking-helpers","sm-header-constants"]});YUI.add("sm-user-nav-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(A,L)=>{for(var q in L)a(A,q,{get:L[q],enumerable:!0})},S=(A,L,q,X)=>{if(L&&typeof L=="object"||typeof L=="function")for(let G of d(L))!y.call(A,G)&&G!==q&&a(A,G,{get:()=>L[G],enumerable:!(X=i(L,G))||X.enumerable});return A},E=(A,L,q)=>(q=A!=null?s(c(A)):{},S(L||!A||!A.__esModule?a(q,"default",{value:A,enumerable:!0}):q,A)),x=A=>S(a({},"__esModule",{value:!0}),A),R={};h(R,{default:()=>H}),n.exports=x(R);var T=o("react-redux"),p=o("sm-admin-menu-helpers"),_=o("sm-component-menu-actions"),I=o("sm-component-menu-selectors"),P=o("sm-header-actions"),g=o("sm-header-constants"),f=o("sm-header-selectors"),m=o("sm-page-nodepage-selectors"),u=o("sm-page-selectors"),l=E(o("sm-user-nav")),v=o("sm-user-nav-helpers");let O=(0,p.checkIfAssetsAreMinified)(),M=(0,p.checkIfHideNotificationsIsOn)(),k=(0,p.checkIfTimeStuffImagesIsOn)(),B=(0,p.checkIfTimeStuffIsOn)(),U=A=>{let L=(0,u.getLoggedInUser)(A),q=(0,m.getNode)(A),X=(0,u.viewportIsLessThanMedium)(A),G,z,Z;q&&(z=q.id,Z=(0,m.getRealNodeType)(A),G=(0,f.getCanEditNodeSettings)(A));let ue,Y,V,W;if(L&&(ue=L.nickName,Y=(0,u.isLoggedInUserAdmin)(A),L.isTrial)){let{daysRemaining:se,autoStartSubscription:ae}=(0,u.getLoggedInUserTrialData)(A);V=se,W=X&&!ae&&V>=0}let oe,te;return Y&&(oe=(0,f.getAdminSubmenuData)(A),te={notificationsHidden:M,assetsAreMinified:O,disableEditOwnerProfile:!oe.ownerNickName,timeStuffImagesIsOn:k,timeStuffIsOn:B,onJSCSSMinClick:p.onJSCSSMinClick,onJSCSSRawClick:p.onJSCSSRawClick,onToggleNotificationsClick:p.onToggleNotificationsClick}),{showEditProfile:!(0,u.isLoggedInUserSuspended)(A),userMenuIsOpen:(0,I.isVisible)(A,g.MENU_ID_USER_NAV_DROP_DOWN),viewportIsLessThanMedium:X,nodeId:z,nodeType:Z,showNodeSettings:G,showSubscribeCTA:W,trialDaysRemaining:V,userIsAdmin:Y,urlBioPhoto:(0,f.getLoggedInProfileImageUrl)(A),...oe,...te,...(0,f.getUserMenuUrls)(A),_userNickName:ue}},C=(A,L,q)=>{let{_userNickName:X}=A,G;X&&(G=()=>{(0,v.showEditProfilePanel)(X,A.isMobileViewport)});let z={};return A.userIsAdmin&&(z={onAdminEditOwnerProfile:()=>{(0,p.showAdminEditProfilePanel)(A.ownerNickName)},onToggleTimeStuffClick:()=>{(0,p.onToggleTimeStuffClick)(X)},onToggleTimeStuffImagesClick:()=>{(0,p.onToggleTimeStuffImagesClick)(X)}}),{...q,...A,...L,...z,onEditProfile:G}},w=A=>({onUserMenuClick:()=>{A((0,P.toggleUserMenu)())},onNodeSettingsClick:()=>{A((0,P.editNodeSettings)())},onAdminMenuMouseEnter:()=>{A((0,_.show)(g.MENU_ID_ADMIN_NAV))},onAdminMenuMouseLeave:()=>{A((0,_.hide)(g.MENU_ID_ADMIN_NAV))},onAdminMenuJSCSSMouseEnter:()=>{A((0,_.show)(g.MENU_ID_ADMIN_NAV_JS_CSS))},onAdminMenuJSCSSMouseLeave:()=>{A((0,_.hide)(g.MENU_ID_ADMIN_NAV_JS_CSS))},onAdminMenuTimeMouseEnter:()=>{A((0,_.show)(g.MENU_ID_ADMIN_NAV_TIME_STUFF))},onAdminMenuTimeMouseLeave:()=>{A((0,_.hide)(g.MENU_ID_ADMIN_NAV_TIME_STUFF))}});var H=(0,T.connect)(U,w,C)(l.default)})(),SM.currentModule=null},"",{requires:["react-redux","sm-user-nav","sm-page-selectors","sm-page-nodepage-selectors","sm-header-selectors","sm-component-menu-selectors","sm-component-menu-actions","sm-header-actions","sm-admin-menu-helpers","sm-user-nav-helpers","sm-header-constants"]});YUI.add("sm-header-global-nav",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(w,H)=>{for(var A in H)a(w,A,{get:H[A],enumerable:!0})},S=(w,H,A,L)=>{if(H&&typeof H=="object"||typeof H=="function")for(let q of d(H))!y.call(w,q)&&q!==A&&a(w,q,{get:()=>H[q],enumerable:!(L=i(H,q))||L.enumerable});return w},E=(w,H,A)=>(A=w!=null?s(c(w)):{},S(H||!w||!w.__esModule?a(A,"default",{value:w,enumerable:!0}):A,w)),x=w=>S(a({},"__esModule",{value:!0}),w),R={};h(R,{default:()=>C}),n.exports=x(R);var T=E(o("js-cookie")),p=E(o("prop-types")),_=E(o("react")),I=E(o("sm-banner")),P=E(o("sm-header")),g=E(o("sm-header-cart-button-container")),f=o("sm-header-constants"),m=E(o("sm-header-headway-release-notes")),u=E(o("sm-header-help-container")),l=E(o("sm-header-logo")),v=E(o("sm-header-subscribe-cta-container")),O=E(o("sm-main-nav-container")),M=E(o("sm-user-nav-container"));let k=`https://${SM.env.host.main}/promo/pro-motion`,B="fpp",U=w=>{let{activeFeature:H,fetchCartItemCount:A,isPartOfFreeProPromoMessaging:L,isValidTrialForFreePro2022Promo:q,logoHref:X,logoSmuggyOnly:G,onNavItemClick:z,onUploadButtonClick:Z,product:ue,searchScope:Y,searchScopeValue:V,shouldInitializeCart:W,showCart:oe,showHeadwayNotes:te,showHelpButton:se,showMainNavigation:ae,showSubscribeCTA:re,useUploadButtonLink:ce}=w,Ge=T.default.get(B),[Fe,Ne]=(0,_.useState)(q&&L&&!Ge);return(0,_.useEffect)(()=>{W&&A()},[A,W]),_.default.createElement(_.default.Fragment,null,Fe&&_.default.createElement(I.default,{href:k,type:I.default.TYPE_INFO,onDismiss:Me=>{Me.preventDefault(),T.default.set(B,"true",{domain:SM.env.host.session,path:"/",expires:31536e3,secure:!0,sameSite:"none"}),Ne(!1)}},_.default.createElement("p",null,"Limited time offer: Get your first year of SmugMug for FREE when you subscribe to annual Pro and earn $500 profit in your first year!")),_.default.createElement(P.default,{className:"sm-flex sm-flex-items-center","data-layout":"default"},_.default.createElement(l.default,{logoHref:X,onLogoClick:z,product:ue,smuggyOnly:G}),!!ae&&_.default.createElement(O.default,{activeFeature:H,onNavItemClick:z,onUploadButtonClick:Z,useUploadButtonLink:ce}),_.default.createElement("nav",{className:"sm-page-header-nav-right sm-flex sm-flex-items-center"},te&&_.default.createElement(m.default,null),re&&_.default.createElement(v.default,{onClick:z}),se&&_.default.createElement(u.default,null),oe&&_.default.createElement(g.default,{onClick:z}),_.default.createElement(M.default,{onNavItemClick:z,searchScope:Y,searchScopeValue:V}))))};U.displayName="Header.Layout.GlobalNav",U.propTypes={activeFeature:p.default.string,fetchCartItemCount:p.default.func,isPartOfFreeProPromoMessaging:p.default.bool,isValidTrialForFreePro2022Promo:p.default.bool,logoHref:p.default.string,logoSmuggyOnly:p.default.bool,onNavItemClick:p.default.func,onUploadButtonClick:p.default.func,product:p.default.oneOf([f.SMUGMUG_PRODUCT,f.FLICKR_PRINTS_PRODUCT]),shouldInitializeCart:p.default.bool,showCart:p.default.bool,showHeadwayNotes:p.default.bool,showHelpButton:p.default.bool,showMainNavigation:p.default.bool,showSubscribeCTA:p.default.bool,useUploadButtonLink:p.default.bool},U.defaultProps={shouldInitializeCart:!0,product:f.SMUGMUG_PRODUCT};var C=U})(),SM.currentModule=null},"",{requires:["js-cookie","react","prop-types","sm-header","sm-header-headway-release-notes","sm-header-logo","sm-banner","sm-header-cart-button-container","sm-header-help-container","sm-main-nav-container","sm-header-subscribe-cta-container","sm-user-nav-container","sm-header-constants"]});YUI.add("sm-header-global-nav-container",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,h=(l,v)=>{for(var O in v)a(l,O,{get:v[O],enumerable:!0})},S=(l,v,O,M)=>{if(v&&typeof v=="object"||typeof v=="function")for(let k of d(v))!y.call(l,k)&&k!==O&&a(l,k,{get:()=>v[k],enumerable:!(M=i(v,k))||M.enumerable});return l},E=(l,v,O)=>(O=l!=null?s(c(l)):{},S(v||!l||!l.__esModule?a(O,"default",{value:l,enumerable:!0}):O,l)),x=l=>S(a({},"__esModule",{value:!0}),l),R={};h(R,{default:()=>u}),n.exports=x(R);var T=o("react-redux"),p=o("sm-header-actions"),_=E(o("sm-header-global-nav")),I=o("sm-header-selectors"),P=o("sm-page-feature-flag-constants"),g=o("sm-page-selectors");let f=(l,{linkHeaderLogo:v})=>{let{isTrial:O}=(0,g.getLoggedInUser)(l),M=!1,k=!1,B=(0,g.viewportIsGreaterThanSmall)(l);if(O){let{daysRemaining:U,autoStartSubscription:C}=(0,g.getLoggedInUserTrialData)(l);k=U>=0&&!C&&B,M=U>=0&&!C}return{logoHref:(0,I.getLogoHref)(l,{linkHeaderLogo:v}),logoSmuggyOnly:(0,g.viewportIsLessThanMedium)(l),product:SM.env.product,showCart:(0,I.getCartItemCount)(l)>0,isValidTrialForFreePro2022Promo:M,isPartOfFreeProPromoMessaging:(0,g.getFeatureFlagValue)(l,P.EXPERIMENT_FREE_PRO_PROMO_2022_MESSAGING),showHeadwayNotes:B&&(0,I.shouldShowHeadwayNotes)(l),showHelpButton:B,showMainNavigation:!(0,g.isLoggedInUserGuest)(l),showSubscribeCTA:k}},m={fetchCartItemCount:p.fetchCartItemCount};var u=(0,T.connect)(f,m)(_.default)})(),SM.currentModule=null},"",{requires:["react-redux","sm-header-global-nav","sm-page-feature-flag-constants","sm-page-selectors","sm-header-selectors","sm-header-actions"]});YUI.add("sm-guide-bootstrap",(t,e)=>{SM.currentModule=e;let r={},n=SM.modules[e]={exports:r,name:e},o=SM._requireShim;(()=>{var s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,c=(P,g)=>{for(var f in g)s(P,f,{get:g[f],enumerable:!0})},y=(P,g,f,m)=>{if(g&&typeof g=="object"||typeof g=="function")for(let u of i(g))!d.call(P,u)&&u!==f&&s(P,u,{get:()=>g[u],enumerable:!(m=a(g,u))||m.enumerable});return P},h=P=>y(s({},"__esModule",{value:!0}),P),S={};c(S,{default:()=>I}),n.exports=h(S);let E=SM.import("sm-api2"),x=SM.import("sm-page"),R=SM.import("sm-smuglog"),T={},p,_="nux";T.loadGuides=(P,g)=>new Promise((f,m)=>{E.getUser(x.user.nickName,{fields:[],expand:{UserGuideStates:{data:{OnlyAutorun:P?1:0,IncludeInvisible:g?1:0}},"UserGuideStates.Guide":!0,UserHideGuides:!0}}).then(u=>{var l={hide:!1,incompleteGuides:[],nextGuide:null,nextGuideStep:null,guides:[]};u.response.UserHideGuides&&(u.response.UserHideGuides.Hide&&(l.hide=!0),u.response.UserGuideStates&&u.response.UserGuideStates.length>0?SM.load("sm-guide").then(v=>{p=v,p.skipGuidesUri=u.response.UserHideGuides.Uri,u.response.UserGuideStates.forEach(O=>{var M=p.guides[O.Guide.GuideID];if(M)M.set("statusUri",O.Uri),M.set("isComplete",O.Complete);else{R.add(_,"Missing NUX guide: "+O.Guide.GuideID,R.LEVEL_WARNING);return}if(l.guides.push(O.Guide.GuideID),O.Autorun&&l.incompleteGuides.push(O.Guide.GuideID),O.Progress){var k=O.Progress-1;M&&M.validCheck(k)&&(l.nextGuide=M,l.nextGuideStep=k)}}),!l.nextGuide&&!l.hide&&l.incompleteGuides.forEach(O=>{var M=p.guides[O];M.validCheck()&&(l.nextGuide?M.get("priority")<l.nextGuide.get("priority")&&(l.nextGuide=M):l.nextGuide=M)}),f(l)}):f(l))},u=>{R.add(_,{message:"Failed to retrieve user and/or guide expansions",error:u},R.LEVEL_ERROR),m(u)})}),T.runGuides=()=>new Promise((P,g)=>{T.loadGuides(!0,!0).then(f=>{f.nextGuide&&SM.load("sm-guide").then(m=>{p=m;let{runningGuide:u}=T;u&&u.end(),u=p.run(f.nextGuide,f.nextGuideStep)}),f.incompleteGuides.forEach(m=>{var u=p.guides[m];(!f.nextGuide||u.name!==f.nextGuide.name)&&u.passiveCompletionHandler()}),P()},f=>{g(f)})}),T.runningGuide=null;var I=T})(),SM.currentModule=null},"",{requires:["sm","sm-analytics","sm-api2","sm-page","sm-smuglog"]});
/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=chunk-PWZMRDV6.js.map
