"use strict";(self.webpackChunkkoa2_react_redux_dom=self.webpackChunkkoa2_react_redux_dom||[]).push([[5646],{97430:(e,o,i)=>{i.d(o,{Z:()=>g});var r=i(67294),n=i(71893),t=i(45786),a=i(68929);const l=e=>{let{color:o}=e;return r.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40"},r.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#F3FAFD"}),r.createElement("path",{d:"m16.7 14.602-4.2 10.4H16l1.5-3.75 2.5 3.124v-5.625l-3.3-4.15Zm6.6 0 4.2 10.4H24l-1.5-3.75-2.5 3.125v-5.625l3.3-4.15Z",fill:o}))};l.defaultProps={color:"#6D9EEB"};const k=l,m=n.default.div.withConfig({displayName:"LetterWithLinksMetroBlockComponent__HeadBlock",componentId:"sc-sjn785-0"})(["display:flex;gap:10px;align-items:center;> div:first-child{width:40px;height:40px;background-color:lightblue;border-radius:50%;}"]),v=n.default.div.withConfig({displayName:"LetterWithLinksMetroBlockComponent__Anchor",componentId:"sc-sjn785-1"})(["color:black;padding:4px 0;font-weight:700;"]),s=n.default.div.withConfig({displayName:"LetterWithLinksMetroBlockComponent__Wrapper",componentId:"sc-sjn785-2"})(["border-radius:10px;@media (max-width:","px){margin-left:15px;box-sizing:border-box;}"],t.tR),d=n.default.div.withConfig({displayName:"LetterWithLinksMetroBlockComponent__BlockLinks",componentId:"sc-sjn785-3"})(["margin-left:50px;"]),u=(0,n.default)(a.Z).withConfig({displayName:"LetterWithLinksMetroBlockComponent__NameLink",componentId:"sc-sjn785-4"})(["display:block;color:#282828;text-decoration:none;white-space:nowrap;padding:5px 0;"]),y={0:"#6D9EEB",1:"#E06666",2:"#76AF9C"},c=e=>{let{letterKey:o,links:i,currentAnchor:n,index:t}=e;const a=o===n;return r.createElement(s,{isCurrent:a},r.createElement(m,null,r.createElement(k,{color:y[t]}),r.createElement(v,{id:o,isCurrent:a},o)),r.createElement(d,null,i.map((e=>{let{name:o,url:i,abbr:n,id:t}=e;return r.createElement(u,{key:t,href:i,"data-tm":"metroLink"},`${o}${n?` ${n}`:""}`)}))))};c.defaultProps={index:0};const h=c,p=n.default.div.withConfig({displayName:"LinksMetroBlockComponent__Wrapper",componentId:"sc-poq7jn-0"})(["display:grid;gap:20px;margin-bottom:40px;grid-auto-flow:column;grid-template-rows:1fr;@media (max-width:","px){grid-auto-flow:row;margin:15px 0;gap:15px;}"],t.tR),g=e=>{let{anchors:o,firstLatterToStreetsList:i,isMobile:n,currentAnchor:t}=e;return r.createElement(p,null,o.sort(((e,o)=>e.localeCompare(o))).map(((e,o)=>r.createElement(h,{key:e,isMobile:n,links:i[e],letterKey:e,currentAnchor:t,index:o}))))}},65646:(e,o,i)=>{i.r(o),i.d(o,{default:()=>C});var r=i(67294),n=i(65858),t=i(68566),a=i(44579),l=i(98797),k=i(48504),m=i(48281),v=i(97516),s=i(45140);const d={[k.RU_ID]:{"Куренёвско-Красноармейская":[{id:1,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-geroyev-dnepra/",name:"Героев Днепра"},{id:2,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-minskaya/",name:"Минская"},{id:3,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-obolon/",name:"Оболонь"},{id:4,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-petrovka/",name:"Почайна(Петровка)"},{id:5,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-tarasa-shevchenko/",name:"Тараса Шевченко"},{id:6,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-kontraktovaya-ploshchad/",name:"Контрактовая площадь"},{id:7,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-pochtovaya-ploshchad/",name:"Почтовая площадь"},{id:8,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-ploshchad-nezavisimosti/",name:"Площадь Независимости"},{id:9,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-ploshchad-lva-tolstogo/",name:"Площадь Льва Толстого"},{id:10,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-olimpiyskaya/",name:"Олимпийская"},{id:11,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-dvorets-ukraina/",name:"Дворец Украина"},{id:12,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-lybedskaya/",name:"Лыбедская"},{id:13,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-demiyevskaya/",name:"Демиевская"},{id:14,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-goloseyevskaya/",name:"Голосеевская"},{id:15,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-vasilkovskaya/",name:"Васильковская"},{id:16,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-vystavochnyy-tsentr/",name:"Выставочный центр"},{id:17,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-ippodrom/",name:"Ипподром"},{id:18,line:"Куренёвско-Красноармейская",url:"/novostroyki/kiev-metro-teremki/",name:"Теремки"}],"Святошинско-Броварская":[{id:19,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-akademgorodok/",name:"Академгородок"},{id:20,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-zhitomirskaya/",name:"Житомирская"},{id:21,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-svyatoshin/",name:"Святошин"},{id:22,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-nivki/",name:"Нивки"},{id:23,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-beresteyskaya/",name:"Берестейская"},{id:24,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-shulyavskaya/",name:"Шулявская"},{id:25,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-politekhnicheskiy-institut/",name:"Политехнический институт"},{id:26,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-vokzalnaya/",name:"Вокзальная"},{id:27,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-universitet/",name:"Университет"},{id:28,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-teatralnaya/",name:"Театральная"},{id:29,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-kreshchatik/",name:"Крещатик"},{id:30,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-arsenalnaya/",name:"Арсенальная"},{id:31,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-dnepr/",name:"Днепр"},{id:32,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-gidropark/",name:"Гидропарк"},{id:33,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-levoberezhnaya/",name:"Левобережная"},{id:34,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-darnitsa/",name:"Дарница"},{id:35,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-chernigovskaya/",name:"Черниговская"},{id:36,line:"Святошинско-Броварская",url:"/novostroyki/kiev-metro-lesnaya/",name:"Лесная"}],"Сырецко-Печерская":[{id:37,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-krasnyy-khutor/",name:"Красный хутор"},{id:38,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-borispolskaya/",name:"Бориспольская"},{id:39,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-vyrlitsa/",name:"Вырлица"},{id:40,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-kharkovskaya/",name:"Харьковская"},{id:41,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-poznyaki/",name:"Позняки"},{id:42,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-osokorki/",name:"Осокорки"},{id:43,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-slavutich/",name:"Славутич"},{id:44,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-vydubichi/",name:"Выдубичи"},{id:45,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-druzhby-narodov/",name:"Дружбы народов"},{id:46,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-pecherskaya/",name:"Печерская"},{id:47,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-klovskaya/",name:"Кловская"},{id:48,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-dvorets-sporta/",name:"Дворец спорта"},{id:49,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-zolotyye-vorota/",name:"Золотые ворота"},{id:50,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-lukyanovskaya/",name:"Лукьяновская"},{id:51,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-dorogozhichi/",name:"Дорогожичи"},{id:52,line:"Сырецко-Печерская",url:"/novostroyki/kiev-metro-syrets/",name:"Сырец"}]},[k.UK_ID]:{"Куренівсько-Червоноармійська":[{id:1,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-geroyev-dnepra/",name:"Героїв Дніпра"},{id:2,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-minskaya/",name:"Мінська"},{id:3,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-obolon/",name:"Оболонь"},{id:4,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-petrovka/",name:"Почайна(Петрівка)"},{id:5,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-tarasa-shevchenko/",name:"Тараса Шевченка"},{id:6,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-kontraktovaya-ploshchad/",name:"Контрактова площа"},{id:7,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-pochtovaya-ploshchad/",name:"Поштова площа"},{id:8,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-ploshchad-nezavisimosti/",name:"Майдан Незалежності"},{id:9,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-ploshchad-lva-tolstogo/",name:"Площа Льва Толстого"},{id:10,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-olimpiyskaya/",name:"Олімпійська"},{id:11,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-dvorets-ukraina/",name:'Палац "Україна"'},{id:12,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-lybedskaya/",name:"Либідська"},{id:13,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-demiyevskaya/",name:"Деміївська"},{id:14,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-goloseyevskaya/",name:"Голосіївська"},{id:15,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-vasilkovskaya/",name:"Васильківська"},{id:16,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-vystavochnyy-tsentr/",name:"Виставковий центр"},{id:17,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-ippodrom/",name:"Іподром"},{id:18,line:"Куренівсько-Червоноармійська",url:"/uk/novostroyki/kiev-metro-teremki/",name:"Теремки"}],"Святошинсько-Броварська":[{id:19,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-akademgorodok/",name:"Академмістечко"},{id:20,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-zhitomirskaya/",name:"Житомирська"},{id:21,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-svyatoshin/",name:"Святошин"},{id:22,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-nivki/",name:"Нивки"},{id:23,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-beresteyskaya/",name:"Берестейська"},{id:24,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-shulyavskaya/",name:"Шулявська"},{id:25,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-politekhnicheskiy-institut/",name:"Політехнічний інститут"},{id:26,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-vokzalnaya/",name:"Вокзальна"},{id:27,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-universitet/",name:"Університет"},{id:28,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-teatralnaya/",name:"Театральна"},{id:29,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-kreshchatik/",name:"Хрещатик"},{id:30,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-arsenalnaya/",name:"Арсенальна"},{id:31,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-dnepr/",name:"Дніпро"},{id:32,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-gidropark/",name:"Гідропарк"},{id:33,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-levoberezhnaya/",name:"Лівобережна"},{id:34,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-darnitsa/",name:"Дарниця"},{id:35,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-chernigovskaya/",name:"Чернігівська"},{id:36,line:"Святошинсько-Броварська",url:"/uk/novostroyki/kiev-metro-lesnaya/",name:"Лісова"}],"Сирецько-Печерська":[{id:37,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-krasnyy-khutor/",name:"Червоний хутір"},{id:38,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-borispolskaya/",name:"Бориспільська"},{id:39,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-vyrlitsa/",name:"Вирлиця"},{id:40,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-kharkovskaya/",name:"Харківська"},{id:41,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-poznyaki/",name:"Позняки"},{id:42,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-osokorki/",name:"Осокорки"},{id:43,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-slavutich/",name:"Славутич"},{id:44,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-vydubichi/",name:"Видубичі"},{id:45,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-druzhby-narodov/",name:"Дружби народів"},{id:46,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-pecherskaya/",name:"Печерська"},{id:47,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-klovskaya/",name:"Кловська"},{id:48,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-dvorets-sporta/",name:"Палац спорту"},{id:49,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-zolotyye-vorota/",name:"Золоті ворота"},{id:50,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-lukyanovskaya/",name:"Лук'янівська"},{id:51,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-dorogozhichi/",name:"Дорогожичі"},{id:52,line:"Сирецько-Печерська",url:"/uk/novostroyki/kiev-metro-syrets/",name:"Сирець"}]}};var u=i(51406),y=i(97430),c=i(96518),h=i(89267),p=i(32333),g=i(10977),b=i(99742),E=i(10441),f=i(41692),I=i(12241),x=i(80322),w=i(41386);const _=e=>{let{langId:o,translate:i}=e;const n=(e=>d[e])(o),k=Object.keys(n);return r.createElement(r.Fragment,null,r.createElement("div",{className:"mainContainer"},r.createElement(g.Z,{translate:i}),r.createElement(u.Z,null,r.createElement(h.Z,null),r.createElement(p.Z,null),r.createElement(E.Z,{title:i("Новостройки по станциям метро Киева","Новобудови по станціям метро Києва")}),r.createElement(y.Z,{anchors:k,firstLatterToStreetsList:n}))),r.createElement(x.HubPageBottomBlock,null,r.createElement("div",{className:"mainContainer"},r.createElement(f.Z,{translate:i,lang:o},r.createElement(I.Z,{"data-tm":"BreadCrumbItem",to:(0,t.buildNewbuildCatalogUrl)({langId:o,stateId:a.KIEV_STATE})},i("в Киевской области","в Київській області")),r.createElement(I.Z,{"data-tm":"BreadCrumbItem",to:(0,t.buildNewbuildCatalogUrl)({langId:o,cityId:l.KIEV})},i("в Киеве","в Києві")),r.createElement(I.Z,{"data-tm":"BreadCrumbItem"},"Метро")))),r.createElement(b.Z,{translate:i}))};_.fetchData=e=>{let{dispatch:o,allProps:{langId:i}}=e;o((0,c.Z)({title:i===k.RU_ID?`Поиск новостроек возле станций метро Киева - ${m.DIM_RIA}`:`Пошук новобудов біля станцій метро Києва - ${m.DIM_RIA}`,description:i===k.RU_ID?`Список станций метро рядом с новостройками - выбор ЖК в Киеве возле метро от ${m.DIM_RIA}`:`Список станцій метро поруч з новобудовами - вибір ЖК в Києві біля метро від ${m.DIM_RIA}`}))};const C=(0,s.Z)((0,n.$j)(((e,o)=>{let{location:i}=o;return{langId:(0,v.Ql)(e),canonicalHref:(0,w.WP)(i,!1)}}))(_))}}]);r e=i.findComponentInfo(this);e&&Object.keys(e.instances).forEach(function(t){var n=e.instances[t];n&&n.instance&&n.instance.teardown()})}function f(e,t){try{window.postMessage(t,"*")}catch(n){throw console.log("unserializable data for event",e,":",t),new Error(["The event",e,"on component",this.toString(),"was triggered with non-serializable data"].join(" "))}}function l(e){var n=arguments.length,r=new Array(n-1);for(var s=1;s<n;s++)r[s-1]=arguments[s];if(!e)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var o=t.merge.apply(t,r),u=i.findComponentInfo(this);$(e).each(function(e,t){if(u&&u.isAttachedTo(t))return;(new this).initialize(t,o)}.bind(this))}function c(){var e=this.mixedIn||this.prototype.mixedIn||[];return e.map(function(e){if(e.name==null){var t=e.toString().match(u);return t&&t[1]?t[1]:""}return e.name!="withBase"?e.name:""}).filter(Boolean).join(", ")}function h(){var t=arguments.length,u=new Array(t);for(var f=0;f<t;f++)u[f]=arguments[f];var p=function(){};return p.toString=p.prototype.toString=c,o.enabled&&(p.describe=p.prototype.describe=p.toString()),p.attachTo=l,p.mixin=function(){var e=h(),t=Object.create(p.prototype);return t.mixedIn=[].concat(p.prototype.mixedIn),n.mixin(t,arguments),e.prototype=t,e.prototype.constructor=e,e},p.teardownAll=a,o.enabled&&u.unshift(s),u.unshift(r,e.withAdvice,i.withRegistration),n.mixin(p.prototype,u),p}var u=/function (.*?)\s?\(/;return h.teardownAll=function(){i.components.slice().forEach(function(e){e.component.teardownAll()}),i.reset()},h}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),define("library/underscore/underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(){var e={"0.js":"templates","1.js":"basis.template.html","2.js":"basis.dom.event","3.js":"basis.l10n","4.js":"basis.event","5.js":"basis.template","6.js":"basis.template.htmlfgen"},t,n={"0.js":function(e,t,n,r,i,s,o,u){function a(e){var t=f.indexOf(e);return-1!=t?l[t]:(t=new n.template.html.Template(e),f.push(e),l.push(t),t)}n.require("./1.js");var f=[],l=[];r.bt=t.exports=n.object.extend(a,{init:function(e){if(!e)return this;if(e.noConflict)return delete window.bt,this},dispose:function(e){var t=n.template.resolveTemplateById(e.templateId_);t?t.clearInstance(e):n.dev.warn("Template is not resolved for ",e)},template:a})},"1.js":function(e,t,n,r,i,s,o,u){function a(e){e=n.template.getL10nTemplate(e);var t=e.templateId,r=z[t];return r||(r=z[t]=new X(e.source)),r}function f(e){return function(t){if("click"!=t.type||3!=t.which){for(var n=P[t.type]||"mouseenter"!=t.type&&"mouseleave"!=t.type,r=t.sender,i;r;){i=r.getAttribute&&r.getAttribute(e);if(!n||"string"==typeof i)break;r=r.parentNode}if("string"==typeof i){var s=r,n=s,o,u;P[t.type]&&(o=t.relatedTarget)&&(s===o||s.contains(o))&&(s=null);for(;s;){o=s.basisTemplateId;if("number"==typeof o&&(u=l(o)))break;s=s.parentNode}if(u&&u.action)for(i=i.trim().split(/\s+/),t.actionTarget=n,n=0;s=i[n++];)u.action.call(u.context,s,t)}t.type in D&&D[t.type](t,r)}}}function l(e){var t=M[e&4095];return t&&t.instances[e>>12]}n.require("./2.js"),n.require("./3.js"),n.require("./5.js"),n.require("./6.js"),e=this.path;var c=r.document,h=n.dom.event,p=n.string.camelize,d=n.l10n.token,v=n.template.htmlfgen.getFunctions,m=n.template.TemplateSwitchConfig;i=n.template.TemplateSwitcher,s=n.template.Template;var g=n.template.TYPE_ELEMENT,y=n.template.TYPE_ATTRIBUTE,b=n.template.TYPE_TEXT,w=n.template.TYPE_COMMENT,E=n.template.TOKEN_TYPE,S=n.template.TOKEN_BINDINGS,x=n.template.TOKEN_REFS,T=n.template.ATTR_NAME,N=n.template.ATTR_VALUE,C=n.template.ATTR_NAME_BY_TYPE,k=n.template.ELEMENT_NAME,L=n.template.TEXT_VALUE,A=n.template.COMMENT_VALUE,O={},M={},_={svg:"http://www.w3.org/2000/svg"},D={},P={},H="onmouseenter"in c.documentElement,B=!c.addEventListener&&"__basisTemplate"+parseInt(1e9*Math.random());B&&(r[B]=function(e,t){h.fireEvent(c,e),t.returnValue=!0;var n=O[e];n&&n(new h.Event(t))});var j=function(){var e=c.createElement("div");return e.appendChild(c.createTextNode("a")),e.appendChild(c.createTextNode("a")),1==e.cloneNode(!0).childNodes.length}(),F=function(){var e=c.createElement("div");return e.setAttribute("class","a"),!e.className}(),I=function(){var e=c.createElement("div");return e.setAttribute("style","position:absolute"),"absolute"!=e.style.position}(),q;e:{try{q=c.documentElement.style.color="x";break e}catch(R){}q=void 0}var U=!!q;"undefined"==typeof Node||Node.prototype.contains||(Node.prototype.contains=function(e){return!!(this.compareDocumentPosition(e)&16)});var z={},W=function(e,t){function n(e,t){r(t),P[e]=!0,D[t]=function(t){t=new h.Event(t),t.type=e,O[e](t)},D[e]=function(t,n){if(n=n&&n.parentNode)t=new h.Event(t),t.type=e,t.sender=n,O[e](t)}}function r(e){if(!O[e]&&(O[e]=f("event-"+e),!B)){if(!H&&"mouseenter"==e)return n(e,"mouseover");if(!H&&"mouseleave"==e)return n(e,"mouseout");for(var t=0,r=h.browserEvents(e),i;i=r[t];t++)h.addGlobalHandler(i,O[e])}}function i(e,t){r(e),B&&o.setAttribute("on"+e,B+'("'+e+'",event)'),o.setAttribute("event-"+e,t)}function s(e,t){F&&"class"==e&&(e="className");if(I&&"style"==e)return o.style.cssText=t;o.setAttribute(e,t)}for(var o=t||c.createDocumentFragment(),u=t?4:0,a;a=e[u];u++)switch(a[E]){case g:var l=a[k],p=l.split(/:/),l=1<p.length?c.createElementNS(_[p[0]],l):c.createElement(l);W(a,l),o.appendChild(l);break;case y:var l=a[T],p=a[N],d=l.replace(/^event-/,"");d!=l?i(d,p):("class"!=l&&"style"!=l?!a[S]:p)&&s(l,p||"");break;case 4:case 5:(p=a[N-1])&&s(C[a[E]],p);break;case 6:i(a[1],a[2]||a[1]);break;case w:o.appendChild(c.createComment(a[A]||(a[x]?"{"+a[x].join("|")+"}":"")));break;case b:j&&u&&e[u-1][E]==b&&o.appendChild(c.createComment("")),o.appendChild(c.createTextNode(a[L]||(a[x]?"{"+a[x].join("|")+"}":"")||(a[S]?"{"+a[S]+"}":"")))}return o};q=function(){function e(){this.set(this.name,this.value)}function t(t,r,i){var s=r&&r.bindingBridge,o=this.attaches&&this.attaches[t],u=null;if(s||o)if(s){if(o&&r===o.value)u=r&&"markup"==r.type?o.tmpl:null;else{o&&(o.tmpl&&(o.tmpl.element.toString=null,a(o.value).clearInstance(o.tmpl)),o.value.bindingBridge.detach(o.value,e,o));if("markup"==r.type&&r instanceof n.l10n.Token){var f=a(r),l=this.context,c=this.bindings,h=this.bindingInterface,u=f.createInstance(l,null,function d(){u=p.tmpl=f.createInstance(l,null,d,c,h),u.element.toString=function(){return r.value},e.call(p)},c,h);u.element.toString=function(){return r.value}}this.attaches||(this.attaches=new i);var p=this.attaches[t]={name:t,value:r,tmpl:u,set:this.tmpl.set};s.attach(r,e,p)}if(u)return u.element;r=s.get(r)}else o&&(o.tmpl&&(o.tmpl.element.toString=null,a(o.value).clearInstance(o.tmpl)),o.value.bindingBridge.detach(o.value,e,o),this.attaches[t]=null);return r}function i(e,t){return function(n){for(var r=0,i;i=e[r];r++)this(i,t[i](n))}}var s=/\s+/,o="function"==typeof Node&&c instanceof Node?function(e,t,n){return e=n&&n instanceof Node?n:e,e!==t&&t.parentNode.replaceChild(e,t),e}:function(e,t,n){n=n&&"object"==typeof n?n:e;if(n!==t)try{t.parentNode.replaceChild(n,t)}catch(r){n=e,t!==n&&t.parentNode.replaceChild(n,t)}return n},u=function(e,t,n,r){return n!==r&&(r?e.setAttribute(t,r):e.removeAttribute(t)),r},f={bind_textNode:function(e,t,n){return t=o(e,t,n),t===e&&(e.nodeValue=n),t},bind_node:o,bind_element:function(e,t,n){return t=o(e,t,n),t===e&&"string"==typeof n&&(e.innerHTML=n),t},bind_comment:o,bind_attr:u,bind_attrClass:r.DOMTokenList&&c&&c.documentElement.classList instanceof r.DOMTokenList?function(e,t,r,i,s){var o=r?i+r:"";return o!=t&&(t&&e.classList.remove(t),o&&(e.classList.add(o),s&&(e.classList.add(o+"-anim"),n.nextTick(function(){e.classList.remove(o+"-anim")})))),o}:function(e,t,r,i,o){var u=r?i+r:"";if(u!=t){r=e.className;var a="string"!=typeof r;a&&(r=r.baseVal),r=r.split(s),t&&n.array.remove(r,t),u&&(r.push(u),o&&(n.array.add(r,u+"-anim"),n.nextTick(function(){var t=(a?e.className.baseVal:e.className).split(s);n.array.remove(t,u+"-anim"),a?e.className.baseVal=t.join(" "):e.className=t.join(" ")}))),a?e.className.baseVal=r.join(" "):e.className=r.join(" ")}return u},bind_attrStyle:U?function(e,t,n,r){return n!==r&&(e.style[p(t)]=r),r}:function(e,t,n,r){if(n!==r)try{e.style[p(t)]=r}catch(i){}return r},resolve:t,l10nToken:d,createBindingFunction:function(e){var t={};return function(n,r,s,o){if(!n)return{};var u="bindingId"in n?n.bindingId:null,a=t[u];if(!a){for(var a=[],f={},l={},c=0,h;h=e[c];c++){var p=n[h],d=p&&p.getter;if(d&&(f[h]=d,a.push(h),p.events))for(var p=String(p.events).trim().split(/\s+|\s*,\s*/),d=0,v;v=p[d];d++)l[v]?l[v].push(h):l[v]=[h]}n=i(a,f);for(var m in l)l[m]=i(l[m],f);a={names:a,sync:n,handler:m?l:null},u&&(t[u]=a)}r&&s&&a.sync.call(s,r);if(o)return a.handler&&o.attach(r,a.handler,s),a.handler}}};return function(e){var n=v(e,!0,this.source.url,e.source_,!j),r,i={},s={},o=[],a=0,l=W(e),c=function(){return l.cloneNode(!0)},h=this.templateId;M[h]={template:this,instances:i};if(n.createL10nSync){var p=n.createL10nSync(l,s,u,j);e=0;for(var m;m=n.l10nKeys[e];e++)p(m,d(m).value);if(n.l10nKeys)for(e=0;m=n.l10nKeys[e];e++)m={path:m,token:d(m),handler:function(e){p(this.path,e);for(var t in i)i[t].tmpl.set(this.path,e)}},m.token.attach(m.handler,m),o.push(m),m=null}return r=n.createInstance(h,i,c,f,s,j),{createInstance:function(e,t,n,s,o){var u=a++;return e=r(u,e,t,n,s,o),i[u]=e,e.tmpl},destroyInstance:function(e){e=e.templateId_;var n=i[e];if(n){n.handler&&n.bindingInterface.detach(n.context,n.handler,n.tmpl.set);for(var r in n.attaches)t.call(n,r,null);delete i[e]}},keys:n.keys,destroy:function(e){for(var r=0,u;u=o[r];r++)u.token.detach(u.handler,u);for(var a in i)if(r=i[a],e&&r.rebuild&&r.rebuild.call(r.context),!e||a in i)for(a in r.handler&&r.bindingInterface.detach(r.context,r.handler,r.tmpl.set),r.attaches)t.call(a,null);M[h]&&M[h].instances===i&&delete M[h],i=p=o=s=l=c=n=null}}}}();var X=s.subclass({className:e+".Template",__extend__:function(e){return e instanceof X?e:e instanceof m?new V(e):new X(e)},builder:q}),V=i.subclass({className:e+".TemplateSwitcher",templateClass:X});t.exports={Template:X,TemplateSwitcher:V},n.template.extend({buildHtml:W,resolveTemplateById:function(e){return(e=M[e&4095])&&e.template},resolveObjectById:function(e){return(e=l(e))&&e.context},resolveTmplById:function(e){return(e=l(e))&&e.tmpl}})},"2.js":function(e,t,n,r,i,s,o,u){function a(e){return e instanceof j?e.event_:e||r.event}function f(e){return"string"==typeof e?L.getElementById(e):e}function l(e){return e=e.target||e.srcElement||L,3==e.nodeType?e.parentNode:e}function c(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function h(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function p(e,t){(t=f(t))?T(t,e,p):(h(e),c(e))}function d(e){return e.keyCode||e.which||0}function v(e){return e.charCode||e.keyCode||0}function m(e,t){return"number"==typeof e.which?e.which==t.VALUE:!!(e.button&t.BIT)}function g(e){return e.changedTouches?e.changedTouches[0].pageX:"pageX"in e?e.pageX:"clientX"in e?e.clientX+("CSS1Compat"==L.compatMode?L.documentElement.scrollLeft:L.body.scrollLeft):0}function y(e){return e.changedTouches?e.changedTouches[0].pageY:"pageY"in e?e.pageY:"clientY"in e?e.clientY+("CSS1Compat"==L.compatMode?L.documentElement.scrollTop:L.body.scrollTop):0}function b(e){var t=0;return"wheelDelta"in e?t=e.wheelDelta:"DOMMouseScroll"==e.type&&(t=-e.detail),t&&t/Math.abs(t)}function w(e){var t=O(F[e.type]),n=I[e.type],r=new j(e);if(n)n.handler.call(n.thisObject,r),p(e);else if(t)for(e=t.length;0<e--;)n=t[e],n.handler.call(n.thisObject,r)}function E(e){var t=I[e];t&&(x(e,t.handler,t.thisObject),delete I[e])}function S(e,t,n){var r=F[e];if(r){e=0;for(var i;i=r[e];e++)if(i.handler===t&&i.thisObject===n)return}else q?T(L,e,A):L.addEventListener(e,w,!0),r=F[e]=[];r.push({handler:t,thisObject:n})}function x(e,t,n){var r=F[e];if(r)for(var i=0,s;s=r[i];i++)if(s.handler===t&&s.thisObject===n){r.splice(i,1),r.length||(delete F[e],q?N(L,e,A):L.removeEventListener(e,w,!0));break}}function T(e,t,n,r){e=f(e);if(!e)throw 3;if("function"!=typeof n)throw 4;e[_]||(e[_]={});var i={handler:n,thisObject:r},s=e[_],o=s[t];if(o){for(e=0;s=o[e];e++)if(s.handler===n&&s.thisObject===r)return;o.push(i)}else o=s[t]=[i],o.fireEvent=function(e){e=a(e);if(q&&e&&F[t]&&"undefined"==typeof e.returnValue){w(e);if(!0===e.cancelBubble)return;"undefined"==typeof e.returnValue&&(e.returnValue=!0)}var n=0;e=new j(e);for(var r;r=o[n++];)r.handler.call(r.thisObject,e)},M?e.addEventListener(t,o.fireEvent,!1):e.attachEvent("on"+t,o.fireEvent)}function N(e,t,n,r){e=f(e);var i=e[_];if(i&&(i=i[t]))for(var s=0,o;o=i[s];s++)if(o.handler===n&&o.thisObject===r){i.splice(s,1),i.length||C(e,t);break}}function C(e,t){e=f(e);var n=e[_];if(n)if("string"!=typeof t)for(t in n)C(e,t);else{var r=n[t];r&&(e.removeEventListener?e.removeEventListener(t,r.fireEvent,!1):e.detachEvent("on"+t,r.fireEvent),delete n[t])}}function k(e){return function(t,n){return e(a(t),n)}}var L=r.document,A=n.fn.$null,O=n.array.from,M=!!L.addEventListener,_="__basisEvents";e={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};var D={VALUE:1,BIT:1},P={VALUE:2,BIT:4},H={VALUE:3,BIT:2},B={mousewheel:["mousewheel","DOMMouseScroll"]},j=n.Class(null,{className:this.path+".Event",KEY:e,init:function(e){e=a(e);for(var t in e)"function"!=typeof e[t]&&0==t in this&&(this[t]=e[t]);n.object.extend(this,{event_:e,sender:l(e),key:d(e),charCode:v(e),mouseLeft:m(e,D),mouseMiddle:m(e,P),mouseRight:m(e,H),mouseX:g(e),mouseY:y(e),wheelDelta:b(e)})},stopBubble:function(){c(this.event_)},stopPropagation:function(){c(this.event_)},preventDefault:function(){h(this.event_)},die:function(){this.stopBubble(),this.preventDefault()}}),F={},I={},q=!M,R={};t.exports={W3CSUPPORT:M,browserEvents:function(e){return B[e]||[e]},getEventInfo:function(e,t){t||(t="div");var n=t+"-"+e;if(R[n])return R[n];var r=!1,i=!1;if(!M){var s="on"+e,o=L.createElement("div"),u=o.appendChild(L.createElement(t));o[s]=function(){i=!0};try{u.fireEvent(s),r=!0}catch(a){}}return R[n]={supported:r,bubble:i}},KEY:e,MOUSE_LEFT:D,MOUSE_RIGHT:H,MOUSE_MIDDLE:P,Event:j,sender:k(l),cancelBubble:k(c),cancelDefault:k(h),kill:k(p),key:k(d),charCode:k(v),mouseButton:k(m),mouseX:k(g),mouseY:k(y),wheelDelta:k(b),addGlobalHandler:S,removeGlobalHandler:x,captureEvent:function(e,t,n){I[e]&&E(e),S(e,t,n),I[e]={handler:t,thisObject:n}},releaseEvent:E,addHandler:T,addHandlers:function(e,t,n){e=f(e);for(var r in t)T(e,r,t[r],n)},removeHandler:N,clearHandlers:C,fireEvent:function(e,t,n){e=f(e),(e=e[_])&&e[t]&&e[t].fireEvent(n)},onUnload:function(e,t){T(r,"unload",e,t)},wrap:a}},"3.js":function(e,t,n,r,i,s,o,u){function a(e){var t=[],n;for(n in e)v.call(e,n)&&t.push(n);return t}function f(e,t,n,r){var i=e.cultureValues[t];r=r?r+".":"";for(var s in n)if(v.call(n,s)){var o=r+s,u=n[s];(i[o]=u)&&("object"==typeof u||Array.isArray(u))&&f(e,t,u,o)}}function l(e){var t;if("string"==typeof e){var r=n.path.extname(e);".l10n"!=r&&(e=n.path.dirname(e)+"/"+n.path.basename(e,r)+".l10n"),e=n.resource(e)}return n.resource.isResource(e)&&(t=E[e.url]),t||new x(e)}function c(e,t){return e&&!C[e]&&(C[e]=new O(e,t)),C[e||N]}function h(e){if(e&&N!=e&&-1!=T.indexOf(e)){N=e;for(var t=0,r;r=w[t];t++)r.syncValues();n.Token.prototype.set.call(c,e)}}function p(e){"string"==typeof e&&(e=e.trim().split(" "));if(e.length){var t={},r,i;k={};for(var s=0,o;r=e[s];s++)r=r.split("/"),2<r.length&&(r=r.slice(0,2)),o=r[0],i||(i=o),t[o]=c(o),k[o]=r;for(o in k)k[o]=n.array.flatten(k[o].map(function(e){return k[e]})).concat(i).filter(function(e,t,n){return!t||-1==n.lastIndexOf(e,t-1)});T=n.object.keys(t),0==N in t&&h(i)}}n.require("./4.js"),e=this.path,r=n.Class;var d=n.event.Emitter,v=Object.prototype.hasOwnProperty;n.resource.extensions[".l10n"]=function(e,t){return l(t).update(n.resource.extensions[".json"](e,t))};var m=[],g={},y=r(n.Token,{className:e+".ComputeToken",init:function(e,t){t.computeTokens[this.basisObjectId]=this,this.token=t,this.get=t.computeGetMethod,n.Token.prototype.init.call(this,e)},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId],this.token=null,n.Token.prototype.destroy.call(this)}}),b=r(n.Token,{className:e+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,init:function(e,t,r,i){n.Token.prototype.init.call(this,i),this.index=m.push(this)-1,this.name=t,this.dictionary=e,this.computeTokens={},r?this.setType(r):this.apply()},toString:function(){return this.get()},computeGetMethod:function(){},apply:function(){var e={},t=this.computeTokens,r="plural"==this.type?function(){return e[C[N].plural(this.value)]}:function(){return e[this.value]};this.computeGetMethod=r;if("plural"==this.type&&Array.isArray(this.value)||"default"==this.type&&"object"==typeof this.value)e=n.object.slice(this.value,a(this.value));for(var i in t){var s=t[i],o=s.get(),u=r.call(s);s.get=r,o!==u&&s.apply()}n.Token.prototype.apply.call(this)},setType:function(e){"plural"==e||n.l10n.enableMarkup&&"markup"==e||(e="default"),this.type!=e&&(this.type=e,this.apply())},compute:function(e,t){1==arguments.length&&(t=e,e=""),t=n.getter(t),e=String(e).trim().split(/\s+|\s*,\s*/).sort();var r=e.concat(this.basisObjectId,t.basisGetterId_).join("_");if(g[r])return g[r];for(var i=this,s={},o=function(e){this.set(t(e))},u={destroy:function(e){delete s[e.basisObjectId],this.destroy()}},a=0,f;f=e[a];a++)"destroy"!=f&&(u[f]=o);return g[r]=function(e){if(0==e instanceof d)throw 5;var n=e.basisObjectId,r=s[n];return r||(r=s[n]=new y(t(e),i),e.addHandler(u,r)),r}},computeToken:function(e){return new y(e,this)},token:function(e){"plural"==this.type&&(e=C[N].plural(e));if(this.dictionary)return this.dictionary.token(this.name+"."+e)},destroy:function(){for(var e in this.computeTokens)this.computeTokens[e].destroy();this.value=this.computeTokens=null,n.Token.prototype.destroy.call(this)}}),w=[],E={},S=new n.Token,x=r(null,{className:e+".Dictionary",tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(e){this.tokens={},this.types={},this.cultureValues={},this.index=w.push(this)-1,n.resource.isResource(e)?(this.resource=e,E[e.url]||(E[e.url]=this,S.set(e.url)),e.fetch()):this.update(e||{})},update:function(e){e||(e={}),this.cultureValues={};for(var t in e)/^_|_$/.test(t)||(this.cultureValues[t]={},f(this,t,e[t]));this.types=e._meta&&e._meta.type||{};for(var n in this.tokens)this.tokens[n].setType(this.types[n]);return this.syncValues(),this},syncValues:function(){for(var e in this.tokens)this.tokens[e].set(this.getValue(e))},getValue:function(e){for(var t=k[N]||[],n=0,r;r=t[n];n++)if((r=this.cultureValues[r])&&e in r)return r[e]},getCultureValue:function(e,t){return this.cultureValues[e]&&this.cultureValues[e][t]},token:function(e){var t=this.tokens[e];return t||(t=this.tokens[e]=new b(this,e,this.types[e],this.getValue(e))),t},destroy:function(){this.cultureValues=this.tokens=null,n.array.remove(w,this),this.resource&&(delete E[this.resource.url],this.resource=null)}}),T=[],N=null,C={},k={},L={},A=[[1,function(e){return 0}],[2,function(e){return 1==e||1==e%10?0:1}],[2,function(e){return 0==e?0:1}],[2,function(e){return 1==e?0:1}],[2,function(e){return 0==e||1==e?0:1}],[2,function(e){return 1!=e%10||11==e%100?1:0}],[3,function(e){return 1==e?0:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?1:2}],[3,function(e){return 1==e%10&&11!=e%100?0:0!=e?1:2}],[3,function(e){return 1==e%10&&11!=e%100?0:2<=e%10&&(10>e%100||20<=e%100)?1:2}],[3,function(e){return 1==e%10&&11!=e%100?0:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?1:2}],[3,function(e){return 0==e?0:1==e?1:2}],[3,function(e){return 1==e?0:0==e||0<e%100&&20>e%100?1:2}],[3,function(e){return 1==e?0:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?1:2}],[3,function(e){return 1==e?0:2<=e&&4>=e?1:2}],[4,function(e){return 1==e?0:2==e?1:8!=e&&11!=e?2:3}],[4,function(e){return 1==e?0:2==e?1:3==e?2:3}],[4,function(e){return 1==e%100?1:2==e%100?2:3==e%100||4==e%100?3:0}],[4,function(e){return 1==e?0:0==e||1<e%100&&11>e%100?1:10<e%100&&20>e%100?2:3}],[4,function(e){return 1==e||11==e?0:2==e||12==e?1:2<e&&20>e?2:3}],[5,function(e){return 1==e?0:2==e?1:7>e?2:11>e?3:4}],[6,function(e){return 0==e?0:1==e?1:2==e?2:3<=e%100&&10>=e%100?3:11<=e%100?4:5}]];"ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh;mk;jv;af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo;ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh;is;csb;lv;lt;be bs hr ru sr uk;mnk;ro;pl;cs sk;cy;kw;sl;mt;gd;ga;ar".split(";").forEach(function(e,t){e.split(" ").forEach(function(e){L[e]=this},A[t])});var O=n.Class(null,{className:e+".Culture",name:"",pluralForm:null,init:function(e,t){this.name=e,C[e]||(C[e]=this),this.pluralForm=t||L[e]||L[e.split("-")[0]]||A[0]},plural:function(e){return Number(this.pluralForm[1](Math.abs(parseInt(e,10))))}});n.object.extend(c,new n.Token),c.set=h,p("en-US"),h("en-US"),t.exports={ComputeToken:y,Token:b,token:function(e){if("#"==e.charAt(0))return m[parseInt(e.substr(1),36)];if(e=e.match(/^(.+?)@(.+)$/))return l(n.path.resolve(e[2])).token(e[1])},Dictionary:x,dictionary:l,getDictionaries:function(){return w.slice(0)},addCreateDictionaryHandler:S.attach.bind(S),removeCreateDictionaryHandler:S.detach.bind(S),Culture:O,culture:c,getCulture:function(){return N},setCulture:h,getCultureList:function(){return T.slice(0)},setCultureList:p,pluralForms:A,onCultureChange:function(e,t,n){c.attach(e,t),n&&e.call(t,N)}}},"4.js":function(e,t,n,r,i,s,o,u){function a(e){var t=l[e];return t||(t=function(){for(var t=this,n,r;t=t.handler;){r=t.callbacks[e];if("function"==typeof r){if(!n){n=[this];for(var i=0;i<arguments.length;i++)n.push(arguments[i])}r.apply(t.context||this,n)}r=t.callbacks["*"];if("function"==typeof r){if(!n)for(n=[this],i=0;i<arguments.length;i++)n.push(arguments[i]);r.call(t.context||this,{sender:this,type:e,args:n})}}},l[e]=t),t}e=n.Class;var f={},l={},c=function(){};e=e(null,{className:this.path+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:a("destroy"),listen:e.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(e,t){this.handler={callbacks:e,context:t||this,handler:this.handler}},removeHandler:function(e,t){var n=this,r;for(t=t||this;r=n,n=n.handler;)if(n.callbacks===e&&n.context===t){n.callbacks=f,r.handler=n.handler;break}},destroy:function(){this.destroy=c,this.emit_destroy(),this.handler=null}}),t.exports={create:a,createHandler:function(e,t){var n={events:[]};if(e){e=String(e).trim().split(/\s+|\s*,\s*/).sort();for(var n={events:e},r=0,i;i=e[r];r++)"destroy"!=i&&(n[i]=t)}return n},events:l,Emitter:e}},"5.js":function(e,t,n,r,i,s,o,u){function a(e){"string"==typeof e&&(e=n.l10n.token(e));if(!e)return null;var t=e.basisObjectId,r=et[t];return r||(r=et[t]=new it(new tt(e))),r}function f(e){rt[E.extname(e)]&&n.resource(e)().startUse()}function l(e){rt[E.extname(e)]&&n.resource(e)().stopUse()}function c(){this.destroyBuilder&&d.call(this);for(var e=0,t;t=this.attaches_[e];e++)t.handler.call(t.context)}function h(e){for(var t=[],n=0;n<e.length;n++)t.push(Array.isArray(e[n])?h(e[n]):e[n]);return t}function p(e,t,r,i){var s=e,o;return"function"==typeof s&&(t="baseURI"in e?e.baseURI:t,o="url"in e?e.url:o,s=s()),s instanceof n.Token&&(t="baseURI"in e?e.baseURI:t,o="url"in e?e.url:o,s=s.get()),Array.isArray(s)?(r&&(s=h(s)),s={tokens:s}):"object"==typeof s&&Array.isArray(s.tokens)||(s=String(s)),"string"==typeof s&&(s=nt(s,t,i,o)),s}function d(){var e=p(this.source,this.baseURI),t=this.destroyBuilder,n=this.builder(e.tokens,this),r=this.deps_;if(r){this.deps_=null;for(var i=0,s;s=r[i];i++)s.bindingBridge.detach(s,d,this)}if(e.deps&&e.deps.length)for(this.deps_=r=e.deps,i=0;s=r[i];i++)s.bindingBridge.attach(s,d,this);this.createInstance=n.createInstance,this.clearInstance=n.destroyInstance,this.getBinding=function(){return{names:n.keys}},this.destroyBuilder=n.destroy;if(e=e.resources&&0<e.resources.length?e.resources:null)for(i=0;r=e[i];i++)f(r);if(this.resources)for(i=0;r=this.resources[i];i++)l(r);this.resources=e,t&&t(!0)}function v(e){return function(){var t;return t=(t=document.getElementById(e))&&"SCRIPT"==t.tagName?"text/basis-template"==t.type?t.textContent||t.text:"":"",t}}function m(){var e=n.array(arguments).join("."),t=lt[e];return t||(t=new at("",e),lt[e]=t),t}function g(e,t){for(var n=[],r={},i=[],s=0;s<t.length;s++)r[t[s]]||(r[t[s]]=!0,i.push(t[s]));n.source=i.join("/"),r={base:!0};for(i=0;i<t.length;i++)s=t[i]||"base",s==e||r[s]||(b(s),r[s]=!0,n.push(s),t.splice.apply(t,[i+1,0].concat(ft[s].fallback)));return n.unshift(e),"base"!=e&&n.push("base"),n.value=n.join("/"),n}function y(e,t){for(var n=ft[e].sourcesList,r=0,i;i=n[r];r++)if(i.hasOwnProperty(t))return i[t];return""}function b(e){e||(e="base");if(ft[e])return ft[e].theme;if(!/^([a-z0-9\_\-]+)$/.test(e))throw 8;var t={},r=[t],i=new ut;ft[e]={theme:i,sources:t,sourcesList:r,fallback:[]};var s=function(n,r){return 0==n in t&&(t[n]=r,-1!=ft[ht].fallback.indexOf(e)&&m(n).set()),m(n)};return n.object.extend(i,{name:e,fallback:function(t){if(i!==ct&&0<arguments.length){var n="string"==typeof t?t.split("/"):[],r={},n=g(e,n);if(ft[e].fallback.source!=n.source){ft[e].fallback.source=n.source;for(var s in ft){var o=ft[s].fallback,n=g(s,(o.source||"").split("/"));if(n.value!=o.value){r[s]=!0,ft[s].fallback=n,o=ft[s].sourcesList,o.length=n.length;for(var u=0;u<o.length;u++)o[u]=ft[n[u]].sources}}}for(s in r)if(-1!=ft[ht].fallback.indexOf(s)){n=void 0;for(n in lt)m(n).set();break}}return n=ft[e].fallback.slice(1),n.source=ft[e].fallback.source,n},define:function(e,t){"function"==typeof e&&(e=e());if("string"==typeof e){if("object"==typeof t){var n=e,r=t,o={},u;for(u in r)r.hasOwnProperty(u)&&(o[u]=s(n+"."+u,r[u]));return o}return 1==arguments.length?m(e):s(e,t)}if("object"==typeof e){r=e;for(n in r)r.hasOwnProperty(n)&&s(n,r[n]);return i}},apply:function(){if(e!=ht){ht=e;for(var t in lt)m(t).set();t=0;for(var n;n=pt[t];t++)n.fn.call(n.context,e)}return i},getSource:function(n,r){return r?y(e,n):t[n]},drop:function(n){t.hasOwnProperty(n)&&(delete t[n],-1!=ft[ht].fallback.indexOf(e)&&m(n).set())}}),ft[e].fallback=g(e,[]),r.push(ft.base.sources),i}n.require("./3.js"),e=this.path,r=n.Class;var w=n.cleaner,E=n.path,S=n.array.search,x=n.array.add,T=n.array.remove,N=[],C={},k=1,L=2,A=4,O=6,M=3,_=8,D=0,P=1,H=2,B=3,j=4,F=/^event-(.+)$/,I={4:"class",5:"style"},q={"class":A,style:5},R={2:j,4:j-1,5:j-1,6:2},U=4,z=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,W=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,X=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,V=/(.|[\r\n])*?--\x3e/g,$=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,J=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,K=/"((?:(\\")|[^"])*?)"\s*/g,Q=/^/g,G={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g},Y=/\\"/g,Z=function(e){var t=[],n=[],r={childs:t},i,s,o,u=!1,a=0,f,l=z,c=0,h;for(e=e.trim();c<e.length||l!=z;)if(i=l.lastIndex=c,(h=l.exec(e))&&h.index===c){c=l.lastIndex;switch(l){case z:f=i+h[1].length,a!=f&&(i=a==i?h[1]:e.substring(a,f),(s=i.replace(/\s*(\r\n?|\n\r?)\s*/g,""))&&r.childs.push({type:M,len:i.length,value:s})),a=f,h[3]?r.childs.push({type:M,refs:["l10n:"+h[3]],value:"{l10n:"+h[3]+"}"}):"{"==h[2]?(o=c-1,r.childs.push(s={type:M}),l=J):h[4]?"/"==h[4]?(s=null,l=$):(r.childs.push(s={type:_}),h[5]?(o=c-h[5].length,l=J):(o=c,l=V)):h[2]&&(u=!0,n.push(r),r.childs.push(s={type:k,attrs:[],childs:[]}),r=s,l=W);break;case $:h[1]!==(r.prefix?r.prefix+":":"")+r.name?r.childs.push({type:M,value:"</"+h[0]}):r=n.pop(),l=z;break;case W:case X:if(":"==h[2]){s.prefix?l=Q:s.prefix=h[1];break}h[1]&&(s.name=h[1],s.type==L&&r.attrs.push(s));if("{"==h[2]){l=s.type==k?J:Q;break}if(h[3]){u=!1;if("/>"==h[3])r=n.pop();else if("b"==r.prefix&&r.name in G){l=G[r.name];break}l=z;break}if("="==h[2]){l=K;break}s={type:L},l=X;break;case V:s.value=e.substring(o,c-3),l=z;break;case J:s.refs?s.refs.push(h[1]):s.refs=[h[1]],"|"!=h[2]&&(s.type==M?(c-=h[2].length-1,s.value=e.substring(o,c),l=z):s.type==_?l=V:s.type==L&&"="==e[c]?(c++,l=K):(s={type:L},l=X));break;case K:s.value=h[1].replace(Y,'"'),s={type:L},l=X;break;case G.text:r.childs.push({type:M,value:h[1]}),r=n.pop(),l=z;break;default:throw 6}l==z&&(a=c)}else if(l==J&&s&&s.type==_)l=V;else{u&&(r=n.pop()),s&&r.childs.pop();if(s=r.childs.pop())s.type!=M||s.refs?r.childs.push(s):a-="len"in s?s.len:s.value.length;u=!1,l=z}return a!=c&&r.childs.push({type:M,value:e.substring(a,c)}),t.templateTokens=!0,t},et={},tt=n.Token.subclass({className:e+".L10nProxyToken",token:null,url:"",init:function(e){this.url=e.dictionary.resource.url+":"+e.name,this.token=e,this.set(),e.attach(this.set,this)},set:function(){return n.Token.prototype.set.call(this,"markup"==this.token.type?'<span class="basisjs-markup" data-basisjs-l10n="'+(this.token.name+"@"+this.token.dictionary.resource.url)+'">'+String(this.token.value)+"</span>":"")},destroy:function(){n.Token.prototype.destroy.call(this),this.token=null}}),nt=function(){function e(e){return(e.prefix?e.prefix+":":"")+e.name}function t(e,t){return V[t]||("#"==t.charAt(0)?V[t]=String.fromCharCode("x"==t.charAt(1)||"X"==t.charAt(1)?parseInt(t.substr(2),16):t.substr(1)):$&&($.innerHTML=e,V[t]=$.firstChild?$.firstChild.nodeValue:e)),V[t]||e}function r(e){return(e=e.refs)&&e.length?e:0}function i(e,n){function r(e){for(var n,r=[],i=[],s={},o=0;o<e.length;o++)o%2?(n=e[o],s[n]||(s[n]=r.length,r.push(n)),i.push(s[n])):e[o]&&i.push(e[o].replace(X,t));return[r,i]}var i=0,s,o;if(n)switch(e){case"class":if(s=n.match(y)){for(var u=[],i=[],a=0,f;f=s[a];a++)(o=f.match(b))?i.push([o[1]||"",o[2]]):u.push(f);n=u.join(" ")}break;case"style":u=[],i=[];if(s=n.match(w))for(a=0;f=s[a];a++)o=f.match(C),f=o[1],n=o[2].trim(),o=n.split(z),1<o.length?(o=r(o),o.push(f),i.push(o)):u.push(f+": "+n.replace(X,t));(n=u.join("; "))&&(n+=";");break;default:s=n.split(W),1<s.length?i=r(s):n=n.replace(X,t)}return i&&!i.length&&(i=0),{binding:i,value:n,type:q[e]||2}}function s(t,n,s){t=t.attrs;for(var u=[],a,f=0,l;l=t[f];f++)if("b"==l.prefix)switch(l.name){case"ref":for(l=(l.value||"").trim().split(/\s+/),a=0;a<l.length;a++)o(n,l[a])}else if(a=l.name.match(F))u.push(a[1]==l.value?[O,a[1]]:[O,a[1],l.value]);else{a=i(l.name,l.value);var c=[a.type,a.binding,r(l)];2==a.type&&c.push(e(l)),!a.value||s&&a.binding&&2==a.type||c.push(a.value),u.push(c)}return u.length?u:0}function o(e,t){e[H]||(e[H]=[]),x(e[H],t),"element"!=t&&(e[P]=1==e[H].length?t:0)}function u(e,t){var n=e[H].indexOf(t);if(-1!=n){var r=e[P]&&"number"==typeof e[P];e[H].splice(n,1),r&&n==e[P]-1&&(e[P]=t),e[H].length?r&&(e[P]-=n<e[P]-1):e[H]=0}}function f(t){var n={};if(t.attrs)for(var r=0,i;i=t.attrs[r];r++)n[e(i)]=i.value;return n}function l(e,t){for(var n=0;n<t.length;n++)x(e,t[n])}function c(v,y,b){function w(e,t,n){var r=f(e);t&&(r.name=t);if(r.name&&g.test(r.name)){var s=K[r.ref||"element"];if(s&&s.token[D]==k){t=s.token;var o=(e=r.name.match(F))?O:q[r.name]||L,u=R[o]||j,a=t&&S(t,r.name,function(e){return e[D]==O?"event-"+e[1]:I[e[D]]||e[B]},U);a||"remove"==n||(e?a=[o,e[1]]:(a=[o,0,0,o==L?r.name:""],o==L&&a.push("")),t||(t=[],s.token.push(t)),t.push(a)),s="class"==r.name||"style"==r.name;switch(n){case"set":if(a[D]==O){r.value==e[1]?a.length=2:a[u]=r.value;break}n=i(r.name,r.value),a[P]=n.binding,b.optimizeSize&&a[P]&&!s?a.length=u:a[u]=n.value||"";if(s&&!a[P]&&!a[u]){T(t,a);break}break;case"append":n=i(r.name,r.value);if(!e)if(n.binding)if(o=a[P])switch(r.name){case"style":for(var l={},r=0,c;c=o[r];r++)l[c[2]]=r;for(r=0;c=n.binding[r];r++)c[2]in l?o[l[c[2]]]=c:o.push(c);break;case"class":o.push.apply(o,n.binding);break;default:for(n.binding[0].forEach(function(e){x(this,e)},o[0]),r=0;r<n.binding[1].length;r++)l=n.binding[1][r],"number"==typeof l&&(l=o[0].indexOf(n.binding[0][l])),o[1].push(l)}else a[P]=n.binding,s||a[P][1].unshift(a[u]);else!s&&a[P]&&a[P][1].push(r.value);n.value&&(a[u]=(a[u]||"")+(a[u]&&(e||s)?" ":"")+n.value);if(s&&!a[P]&&!a[u]){T(t,a);break}break;case"remove":a&&T(t,a)}}}}for(var C=[],A=0,H,z;H=v[A];A++){var W=r(H),V=W&&1==W.length?W[0]:0;switch(H.type){case k:if("b"==H.prefix){var $=f(H);switch(H.name){case"resource":case"style":$.src&&y.resources.push(E.resolve(y.baseURI+$.src));break;case"l10n":$.src&&(y.dictURI=E.resolve(y.baseURI,$.src));break;case"define":if("name"in $&&!y.defines[$.name])switch($.type){case"bool":y.defines[$.name]=["true"==$["default"]?1:0];break;case"enum":H=$.values?$.values.trim().split(" "):[],y.defines[$.name]=[H.indexOf($["default"])+1,H]}break;case"text":H=H.childs[0],v[A--]=n.object.extend(H,{refs:($.ref||"").trim().split(/\s+/),value:"notrim"in $?H.value:H.value.replace(/^\s*[\r\n]+|[\r\n]\s*$/g,"")});break;case"include":if(V=$.src){V=(W=/^#\d+$/.test(V))?V.substr(1):V,V=W?N[V]:/^[a-z0-9\.]+$/i.test(V)&&!/\.tmpl$/.test(V)?m(V):n.resource(E.resolve(y.baseURI+V));if(!V)continue;if(-1==J.indexOf(V)){x(y.deps,V),J.push(V),W?(V.source.bindingBridge&&x(y.deps,V.source),W=p(V.source,V.baseURI,!0,b)):W=p(V,V.url?E.dirname(V.url)+"/":"",!0,b),J.pop(),W.resources&&0=="no-style"in $&&l(y.resources,W.resources),W.deps&&l(y.deps,W.deps);var K=d(W.tokens),V=(H.childs||[]).slice();$["class"]&&V.push({type:k,prefix:"b",name:"append-class",attrs:[{type:L,name:"value",value:$["class"]}]}),$.id&&V.push({type:k,prefix:"b",name:"set-attr",attrs:[{type:L,name:"name",value:"id"},{type:L,name:"value",value:$.id}]}),$.ref&&K.element&&$.ref.trim().split(/\s+/).map(function(e){o(K.element.token,e)});for(var $=0,Q;Q=V[$];$++)if(Q.type==k&&"b"==Q.prefix)switch(Q.name){case"replace":case"remove":case"before":case"after":H="replace"==Q.name||"remove"==Q.name;var G=f(Q),Y="ref"in G||!H?G.ref:"element";if(Y=Y&&K[Y])G=Y.owner.indexOf(Y.token),-1!=G&&(H=[G+("after"==Q.name),H],"remove"!=Q.name&&(H=H.concat(c(Q.childs,y,b)||[])),Y.owner.splice.apply(Y.owner,H));break;case"prepend":case"append":G=f(Q),(H=(Y=(Y="ref"in G?G.ref:"element")&&K[Y])&&Y.token)&&H[D]==k&&(G=c(Q.childs,y,b)||[],"prepend"==Q.name?H.splice.apply(H,[U,0].concat(G)):H.push.apply(H,G));break;case"attr":case"set-attr":w(Q,!1,"set");break;case"append-attr":w(Q,!1,"append");break;case"remove-attr":w(Q,!1,"remove");break;case"class":case"append-class":w(Q,"class","append");break;case"set-class":w(Q,"class","set");break;case"remove-class":w(Q,"class","remove");break;case"add-ref":G=f(Q),(H=(Y=(Y="ref"in G?G.ref:"element")&&K[Y])&&Y.token)&&G.name&&o(H,G.name);break;case"remove-ref":G=f(Q),(H=(Y=(Y="ref"in G?G.ref:"element")&&K[Y])&&Y.token)&&u(H,G.name||G.ref)}else W.tokens.push.apply(W.tokens,c([Q],y,b)||[]);K.element&&u(K.element.token,"element"),C.push.apply(C,W.tokens)}}}continue}z=[1,V,W,e(H)],z.push.apply(z,s(H,z,b.optimizeSize)||[]),z.push.apply(z,c(H.childs,y,b)||[]);break;case M:W&&2==W.length&&S(W,"element")&&(V=W[+!W.lastSearchIndex]);if(V&&($=h(V,y.dictURI).split(/[:@\{]/),"l10n"==$[0]&&3==$.length))if($[2]){if($=$.slice(1).join("@"),$=n.l10n.token($),Q=a($),y.l10nResolved=!0,Q&&"markup"==$.type){v[A--]=Z('<b:include src="#'+Q.templateId+'"/>')[0];continue}}else T(W,V),0==W.length&&(W=null),V=0,H.value=H.value.replace(/\}$/,"@undefined}");z=[3,V,W],W&&H.value=="{"+W.join("|")+"}"||z.push(H.value.replace(X,t));break;case _:if(b.optimizeSize&&!V&&!W)continue;z=[8,V,W],b.optimizeSize||W&&H.value=="{"+W.join("|")+"}"||z.push(H.value.replace(X,t))}for(;0===z[z.length-1];)z.pop();C.push(z)}return C.length?C:0}function h(e,t){if("string"!=typeof e)return e;var n=e.split(":");return 2==n.length&&"l10n"==n[0]&&-1==n[1].indexOf("@")&&(n[1]=n[1]+"@"+t),n.join(":")}function d(e,t,n,r){n||(n={}),r=r||0;for(var i;i=e[r];r++)if(i[D]!=O){var s=i[H];if(s)for(var o=s.length-1,a;a=s[o];o--)-1!=a.indexOf(":")?u(i,a):(n[a]&&u(n[a].token,a),i[P]==a&&(i[P]=o+1),n[a]={owner:e,token:i});switch(i[D]){case M:i[P]=h(i[P],t);break;case L:if(i[P])for(i=i[P][0],o=0;o<i.length;o++)i[o]=h(i[o],t);break;case k:d(i,t,n,U)}}return n}function v(e,t,n,r){var i=0;r=r||0;for(var s;s=e[r];r++)if(s[D]==k&&(i+=v(s,t,n,U)),s[D]==A||s[D]==L&&"class"==s[B]){var o=s[P],u=j-(s[D]==A);if(o){for(var a=(s[u]||"").trim().split(" "),f=0,l;l=o[f];f++)if(!(2<l.length)){var c=l[1].split(":").pop(),h=t.defines[c];h?(l.push.apply(l,h),h.used=!0,h[0]&&(1==h.length?x(a,l[0]+c):x(a,l[0]+h[1][h[0]-1]))):i++}s[u]=a.join(" "),n.optimizeSize&&!s[u]&&(s.length=u)}}return i}var g=/^[a-z_][a-z0-9_\-]*$/i,y=/(\S+)/g,b=/^([a-z_][a-z0-9_\-]*)?\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,w=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,C=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,z=/\{([a-z_][a-z0-9_]*)\}/i,W=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,X=/&([a-z]+|#[0-9]+|#x[0-9a-f]{1,4});?/gi,V=n.NODE_ENV?node_require("./template/htmlentity.json"):{},$=n.NODE_ENV?null:document.createElement("div"),J=[];return function(e,t,r,i){r=r||{};var s=[],u={sourceUrl:i,baseURI:t||"",tokens:null,resources:[],deps:[],defines:{},unpredictable:!0,warns:s};return u.dictURI=i?n.path.resolve(i):t||"",u.dictURI&&(t=n.path.extname(u.dictURI))&&".l10n"!=t&&(u.dictURI=u.dictURI.substr(0,u.dictURI.length-t.length)+".l10n"),e.templateTokens?e.warns&&s.push.apply(s,e.warns):e=Z(String(e)),u.tokens=c(e,u,r),u.tokens||(u.tokens=[[3,0,0,""]]),o(u.tokens[0],"element"),d(u.tokens,u.dictURI),u.unpredictable=!!v(u.tokens,u,r),delete u.defines,delete u.l10nResolved,s.length||(u.warns=!1),u}}(),rt={".css":!0},it=r(null,{className:e+".Template",__extend__:function(e){return e instanceof it?e:e instanceof st?new ot(e):new it(e)},source:"",baseURI:"",init:function(e){if(4096==N.length)throw 7;this.attaches_=[],this.setSource(e||""),this.templateId=N.push(this)-1},bindingBridge:{attach:function(e,t,n){for(var r=0,i;i=e.attaches_[r];r++)if(i.handler==t&&i.context==n)return;e.attaches_.push({handler:t,context:n})},detach:function(e,t,n){for(var r=0,i;i=e.attaches_[r];r++)if(i.handler==t&&i.context==n){e.attaches_.splice(r,1);break}},get:function(){}},createInstance:function(e,t,n,r,i){return d.call(this),this.createInstance(e,t,n,r,i)},clearInstance:function(e){},getBinding:function(e){return d.call(this),this.getBinding(e)},setSource:function(e){var t=this.source;if(t!=e){if("string"==typeof e){var r=e.match(/^([a-z]+):/);if(r){var i=r[1];e=e.substr(r[0].length);switch(i){case"file":e=n.resource(e);break;case"id":e=v(e);break;case"tokens":e=n.string.toObject(e),e.isDecl=!0;break;case"path":e=m(e)}}}if(t&&t.bindingBridge){if(r=t.url&&C[t.url])T(r,this),r.length||delete C[t.url];this.baseURI="",this.source.bindingBridge.detach(t,c,this)}e&&e.bindingBridge&&(e.url&&(this.baseURI=E.dirname(e.url)+"/",C[e.url]||(C[e.url]=[]),x(C[e.url],this)),e.bindingBridge.attach(e,c,this)),this.source=e,c.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder(),this.source=this.resources=this.getBinding=this.createInstance=this.attaches_=null}}),st=function(e){n.object.extend(this,e)},ot=n.Class(null,{className:e+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:it,ruleEvents:null,rule:String,init:function(e){this.ruleRet_=[],this.templates_=[],this.rule=e.rule;if((e=e.events)&&e.length){this.ruleEvents={};for(var t=0,n;n=e[t];t++)this.ruleEvents[n]=!0}w.add(this)},resolve:function(e){e=this.rule(e);var t=this.ruleRet_.indexOf(e);return-1==t&&(this.ruleRet_.push(e),t=this.templates_.push(new this.templateClass(e))-1),this.templates_[t]},destroy:function(){this.ruleRet_=this.templates_=this.rule=null}}),ut=r(null,{className:e+".Theme",get:m}),at=r(n.Token,{className:e+".SourceWrapper",path:"",url:"",baseURI:"",init:function(e,t){this.path=t,n.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var e=y(ht,this.path);this.value!=e&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,at.prototype.apply,this),this.url=(this.value=e)&&e.url||"",this.baseURI=("object"==typeof e||"function"==typeof e)&&"baseURI"in e?e.baseURI:E.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,at.prototype.apply,this),this.apply())},destroy:function(){this.baseURI=this.url=null,this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this),n.Token.prototype.destroy.call(this)}}),ft={},lt={},ct=b(),ht="base",pt=[];w.add({destroy:function(){for(var e in lt)lt[e].destroy();lt=ft=null,e=0;for(var t;t=N[e];e++)t.destroy();N=null}}),t.exports={DECLARATION_VERSION:2,TYPE_ELEMENT:k,TYPE_ATTRIBUTE:L,TYPE_ATTRIBUTE_CLASS:A,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:O,TYPE_TEXT:M,TYPE_COMMENT:_,TOKEN_TYPE:D,TOKEN_BINDINGS:P,TOKEN_REFS:H,ATTR_NAME:B,ATTR_VALUE:j,ATTR_NAME_BY_TYPE:I,ELEMENT_NAME:3,ELEMENT_ATTRS:U,ELEMENT_CHILDS:5,TEXT_VALUE:3,COMMENT_VALUE:3,L10nProxyToken:tt,TemplateSwitchConfig:st,TemplateSwitcher:ot,Template:it,SourceWrapper:at,switcher:function(e,t){var r=n.array(arguments);return t=r.pop(),new st({rule:t,events:r.join(" ").trim().split(/\s+/)})},tokenize:Z,getDeclFromSource:p,makeDeclaration:nt,getL10nTemplate:a,Theme:ut,theme:b,getThemeList:function(){return n.object.keys(ft)},currentTheme:function(){return ft[ht].theme},setTheme:function(e){return b(e).apply()},onThemeChange:function(e,t,n){pt.push({fn:e,context:t}),n&&e.call(t,ht)},define:ct.define,get:m,getPathList:function(){return n.object.keys(lt)}}},"6.js":function(e,t,n,r,i,s,o,u){function a(e,t){return new Function(e,t)}n.require("./5.js");var f=n.template.TYPE_ELEMENT,l=n.template.TYPE_ATTRIBUTE,c=n.template.TYPE_TEXT,h=n.template.TYPE_COMMENT,p=n.template.TOKEN_TYPE,d=n.template.TOKEN_BINDINGS,v=n.template.TOKEN_REFS,m=n.template.ATTR_NAME,g=n.template.ATTR_NAME_BY_TYPE,y=n.template.ELEMENT_NAME,b=n.template.ELEMENT_ATTRS,w={},E=function(){function e(e,t){for(var n=0,r;r=e[n];n++)-1==r.indexOf(":")&&s.push(r+":"+t)}function t(e){var t=i.length,t=r[t]||"r"+t;return i.push(t+"="+e),t}function n(r,s,l){for(var w,E,S,T,N=0,k=0,L=0,A;A=r[N];N++,k++,T=!1){N?r[N+1]?(A[p]==r[N-1][p]&&A[p]==c&&L++,w=s+".childNodes["+(l?k:k+(L?" + "+L+" * TEXT_BUG":""))+"]"):w=s+".lastChild":w=s+".firstChild";if(E=A[v])T=!0,w=t(w),e(E,w);A[d]&&(A[d]&&"number"==typeof A[d]&&(A[d]=A[v][A[d]-1]),T||(T=!0,w=t(w)),o.push([A[p],w,A[d]]));if(A[p]==f){S=-1,s==a&&u.push(w+".basisTemplateId"),T||(w=t(w),S=i.length);for(var O=[],M=[],_=b,D;D=A[_];_++)D[p]==f||D[p]==c||D[p]==h?M.push(D):O.push(D);for(var _=0,P;P=O[_];_++)if(6!=P[p]){D=g[P[p]]||P[m];if(E=P[v])T=!0,e(E,t(w+'.getAttributeNode("'+D+'")'));if(E=P[d])switch(T=!0,D){case"class":P=0;for(var B;B=E[P];P++)B=[2,w,B[1],D,B[0]].concat(B.slice(2)),o.push(B);break;case"style":for(P=0;B=E[P];P++)for(var j=0,I;I=B[0][j];j++)o.push([2,w,I,D,B[0],B[1],B[2]]);break;default:for(P=0;I=E[0][P];P++)o.push([2,w,I,D,E[0],E[1],A[y]])}}M.length&&n(M,w,l),T||S!=i.length||i.pop()}}}var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i,s,o,u,a;return function(e,t,r){return i=[],s=[],o=[],u=[],a=t||"_",n(e,a,r),{path:i,ref:s,binding:o,markedElementList:u}}}(),S=function(){function e(e,n,r){var i=[],s=e[5];e=e[4];for(var o,u,a=0;a<s.length;a++)if("string"==typeof s[a])i.push('"'+s[a].replace(/"/g,'\\"')+'"');else if(o=e[s[a]],u=o.indexOf(":"),-1==u)i.push("l10n"==n?'"{'+o+'}"':"bool"==n?"(__"+o+'||"")':"__"+o);else{var f=null,l=o.substr(u+1).replace(t,function(e,t){return f=t,""});f?i.push(r[o.substr(u+1)]):i.push('__l10n["'+l+'"]')}return 1==i.length&&i.push('""'),i.join("+")}var t=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,r={disabled:"*",checked:["input"],value:["input","textarea"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},i={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0},s={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(o){function u(e){S[e]=!0,h.push(p+"="+e+"("+n.array(arguments,1)+");")}for(var a={},h,p,d=[],v=[],g,y,b=[],w={},E=1,S={resolve:!0},T,N=0,C;C=o[N];N++){var k=C[0],L=C[1],A=C[2];if(-1==["set","templateId_"].indexOf(A)){var O=A.split(":");(T="anim"==O[0])&&(A=O[1]),h=a[A],p="_"+N,g="__"+A;if("l10n"==O[0]&&O[1]){var O=O[1],M=null,_=O.replace(t,function(e,t){return M=t,""});if(M){0==O in w&&(g="$l10n_"+E++,w[O]=g,b.push('set("'+g+'",'+g+")"),d.push(g+'=tools.l10nToken("'+_+'").computeToken()'),h=a[M],h||(h=a[M]=[],d.push("__"+M)),h.push(g+".set(__"+M+");")),A=w[O],p="_"+N,g="__"+A,h=a[A],h||(h=a[A]=[],d.push(g)),k==c?(d.push(p+"="+L),u(s[k],L,p,"value")):(g='"'+C[m]+'"',d.push(p),u("bind_attr",L,g,p,e(C,!1,w)));continue}y||(y={}),a[_]||(a[_]=[],y[_]=[]),h=a[_],h.l10n=!0;if(k==c){y[_].push(L+".nodeValue=value;"),h.push(L+'.nodeValue=__l10n["'+_+'"]'+(M?"[__"+M+"]":"")+";");continue}y[_].push("bind_attr("+[L,'"'+C[m]+'"',"NaN",e(C,"l10n",w)]+");")}h||(h=a[A]=[],d.push(g));if(k!=l)if(h.nodeBind)switch(k){case f:u(s[k],L,L,"value!==null?String(value):null");break;case c:h.push(L+".nodeValue=value;")}else d.push(p+"="+L),u(s[k],L,p,"value"),h.nodeBind=p;else switch(g=C[m],g){case"class":g="",O="value",k=C[4],O=C.length;if(6<=O)if(6==O||"string"==typeof C[6])6==O?(O='value?"'+A+'":""',C[5]&&(g=k+A)):(k="",O='value?"'+C[6]+'":""',C[5]&&(g=C[6]));else{if(!C[6].length)continue;7==O?(O=C[6].map(function(e){return'value=="'+e+'"'}).join("||")+'?value:""',C[5]&&(g=k+C[6][C[5]-1])):(k="",O=C[6].map(function(e,t){return'value=="'+e+'"?"'+this[t]+'"'},C[7]).join(":")+':""',C[5]&&(g=C[7][C[5]-1]))}else O='typeof value=="string"||typeof value=="number"?value:(value?"'+A+'":"")';d.push(p+'="'+g+'"'),u("bind_attrClass",L,p,O,'"'+k+'"',T);break;case"style":d.push(p+'=""'),u("bind_attrStyle",L,'"'+C[6]+'"',p,e(C,!1,w));break;default:T=r[g],d.push(p+"="+e(C,"l10n",w)),u("bind_attr",L,'"'+g+'"',p,T&&i[g]?e(C,"bool",w)+'?"'+g+'":""':e(C,!1,w)),!T||"*"!=T&&-1==T.indexOf(C[6].toLowerCase())||h.push("if("+L+"."+g+"!="+p+")"+L+"."+g+"="+(i[g]?"!!"+p:p)+";")}}}v.push(';function set(bindName,value){if(typeof bindName!="string")');for(A in a)a[A].nodeBind&&v.push("if(bindName==="+a[A].nodeBind+')bindName="'+A+'";else ');v.push("return;"),v.push("value=resolve.call(instance,bindName,value,Attaches);switch(bindName){");for(A in a)v.push('case"'+A+'":'+(a[A].l10n?a[A].join(""):"if(__"+A+"!==value){__"+A+"=value;"+a[A].join("")+"}")+"break;");v.push("}}"),o=[];for(var D in S)o.push(D+"=tools."+D);return{keys:n.object.keys(a).filter(function(e){return-1==e.indexOf("@")}),tools:o,vars:d,set:v.join(""),l10n:y,l10nCompute:b}}}();t.exports={getFunctions:function(e,t,r,i,s){if(t=w[r&&n.path.relative(r)])return t;e=E(e,"_",s),s=S(e.binding),t=e.markedElementList.join("="),r={keys:s.keys,l10nKeys:n.object.keys(s.l10n)};if(s.l10n){i=[];for(var o in s.l10n)i.push('case"'+o+'":if(value==null)value="{'+o+'}";__l10n[token]=value;'+s.l10n[o].join("")+"break;");r.createL10nSync=a(["_","__l10n","bind_attr","TEXT_BUG"],"var "+e.path+";return function(token, value){switch(token){"+i.join("")+"}}")}return r.createInstance=a("tid map build tools __l10n TEXT_BUG".split(" "),"var getBindings=tools.createBindingFunction(["+s.keys.map(function(e){return'"'+e+'"'})+"]),"+(s.tools.length?s.tools+",":"")+"Attaches=function(){};Attaches.prototype={"+s.keys.map(function(e){return e+":null"})+"};return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){var _=build(),"+e.path.concat(s.vars)+",instance={context:obj,action:onAction,rebuild:onRebuild,handler:null,bindings:bindings,bindingInterface:bindingInterface,attaches:null,tmpl:{"+[e.ref,"templateId_:id","set:set"]+"}}"+(t?";if(obj||onAction)"+t+"=(id<<12)|tid":"")+s.set+";instance.handler=bindings?getBindings(bindings,obj,set,bindingInterface):null;"+s.l10nCompute+";return instance}"),r}}}};(function(r){function i(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){for(var n in t)0==n in e&&(e[n]=t[n]);return e}function o(e){var t=[],n;for(n in e)t.push(n);return t}function u(e,t){var n={};if(!t)return i(n,e);for(var r=0,s;s=t[r++];)s in e&&(n[s]=e[s]);return n}function a(){return g(arguments).reduce(i,{})}function f(e,t,n){var r=[],i;for(i in e)r.push(t.call(n,i,e[i]));return r}function l(e){return e}function c(){}function h(e){var t=H[e.url];if(t)for(var n=0;n<t.length;n++)t[n](e.get(),e.url)}function p(e,t,n){try{return new Function(t,n)}catch(r){x.error("Compilation error at "+e+("line"in r?":"+(r.line-1):"")+": "+r)}}function d(e){var t=e.split(".")[0],n=e.replace(/\./g,"/")+".js";return 0==e in q&&(0==t in U&&(U[t]=k.baseURI),t==e&&(R[U[t]+n]=t),q[e]=U[t]+n),q[e]}function v(e){e=e.split(".");var n;n=e[0];var i=I[n];i||(i=I[n]=new z(n),i.namespaces_={},i.namespaces_[n]=i,L.noConflict||(r[n]=i)),"templates"!=n||t||(t=I[n]);for(var i=n=i,s=1,o;o=e[s];s++){if(!i[o]){var u=e.slice(0,s+1).join(".");i[o]=new z(u),n.namespaces_[u]=i[o]}i=i[o]}return I[e.join(".")]=i}function m(e,t){if(L.extProto)for(var n in t)e.prototype[n]=function(e,n){return function(){var n=[this];return Array.prototype.push.apply(n,arguments),t[e].apply(t,n)}}(n,e.name||e.toString().match(/^\s*function\s*(\w*)\s*\(/)[1])}function g(e,t){if(null!=e){var n=e.length;if("undefined"==typeof n||"[object Function]"==w.call(e))return[e];t||(t=0);if(0<n-t){for(var r=[],i=0,s=t;s<n;)r[i++]=e[s++];return r}}return[]}function y(e,t,n){for(var r=[],i="function"==typeof t,s=0;s<e;s++)r[s]=i?t.call(n,s,r):t;return r}var b=r.document,w=Object.prototype.toString,E=function(){function e(e){if(n.test(e)){var t=e.split("."),r=t[0],i=t[1],s=t[2];switch(t.length){case 1:e=function(e){return null!=e?e[r]