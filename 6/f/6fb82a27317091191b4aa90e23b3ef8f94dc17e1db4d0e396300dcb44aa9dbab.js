/*! For license information please see latest_preferences.jsx.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("preact/compat")):"function"==typeof define&&define.amd?define(["preact/compat"],t):"object"==typeof exports?exports["latest_preferences/latest_preferences.jsx"]=t(require("preact/compat")):e["latest_preferences/latest_preferences.jsx"]=t(e["preact/compat"])}(this,(function(e){return [function(t,n){t.exports=e},function(e,t,n){var r=n(1),o=n(31),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},function(e,t){e.exports={}},function(e,t,n){n(105)},,function(e,t,n){var r=n(30);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){var r=n(2);e.exports=r},,function(e,t,n){n(58)},function(e,t,n){n(87)},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLS_MAP=t.SOCIAL_SITE_PLACEHOLDER=t.APPLE_AUTH_INFO_FLAG_COOKIE_NAME=t.TWITTER_TOKEN_FLAG_COOKIE_NAME=t.FACEBOOK_ACCESS_TOKEN_FLAG_COOKIE_NAME=t.BSSO_ACCESS_TOKEN_FLAG_COOKIE_NAME=t.EXPERIENCE_PREFERENCE_COOKIE_NAME=t.COLLECTIVE_USER_DATA_COOKIE=t.CSRF_TOKEN_COOKIE_NAME=t.AGENT_ID=t.SESSION_KEY=t.SESSION_ID=t.SUBSCRIPTION_REFRESH_COOKIE_NAME=t.BREG_USER_COOKIE_NAME=t.BREG_USER_ID_COOKIE_NAME=t.BBGCOM_SITE_REGEX=void 0;var o=r(n(229));t.BBGCOM_SITE_REGEX=/bloomberg\.com$/i,t.BREG_USER_ID_COOKIE_NAME="_breg-uid",t.BREG_USER_COOKIE_NAME="_breg-user",t.SUBSCRIPTION_REFRESH_COOKIE_NAME="_last-refresh",t.SESSION_ID="session_id",t.SESSION_KEY="session_key",t.AGENT_ID="agent_id",t.CSRF_TOKEN_COOKIE_NAME="_reg-csrf-token",t.COLLECTIVE_USER_DATA_COOKIE="_user-data",t.EXPERIENCE_PREFERENCE_COOKIE_NAME="exp_pref",t.BSSO_ACCESS_TOKEN_FLAG_COOKIE_NAME="_bsso-user-token-flag",t.FACEBOOK_ACCESS_TOKEN_FLAG_COOKIE_NAME="_fb-user-token-flag",t.TWITTER_TOKEN_FLAG_COOKIE_NAME="_twtr-user-token-flag",t.APPLE_AUTH_INFO_FLAG_COOKIE_NAME="_apple-auth-info-flag",t.SOCIAL_SITE_PLACEHOLDER="<SOCIAL_SITE>";var i={loginUrl:"iframe/login",registerUrl:"iframe/register",uverifyUrl:"iframe/uverify",terminalRegisterUrl:"iframe/terminal-register",bwRegisterUrl:"iframe/magazine",settingsUrl:"account",userInfoUrl:"user-info",bssoUrl:"api/login/bloomberg-auth-redirect",optInToReferralsUrl:"api/referrals/opt-in",optOutFromReferralsUrl:"api/referrals/opt-out",preferredEmailPath:"api/account/update-preferred-email",preferredEmailUIPath:"iframe/terminal-preferred-email",verifyVerificationCodePath:"api/user-verify/verify-verification-code",registerPath:"api/v3/register/bconnect",sendVerificationEmailPath:"api/user-verify/send-verification-email",sendEmailToEloquaAndCprefPath:"api/marketing",userSignInPath:"api/login",groupSubsSSOLoginPath:"api/login/sso-login-url",trackingPixelSrc:"/psz/pixel.gif",googleAuthPath:"api/login/google-auth",socialSignInPath:"api/login/".concat(t.SOCIAL_SITE_PLACEHOLDER,"-auth-redirect")};t.URLS_MAP={development:(0,o.default)({baseUrl:"http://local.bloomberg.com:4004/account/",apiBaseUrl:"http://local-login.bloomberg.com:4004/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),developmentTLS:(0,o.default)({baseUrl:"https://local.bloomberg.com:8008/account/",apiBaseUrl:"https://local.bloomberg.com:8008/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),red:(0,o.default)({baseUrl:"https://origin.red.bloomberg.com/account/",apiBaseUrl:"https://red-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),orange:(0,o.default)({baseUrl:"https://origin.orange.bloomberg.com/account/",apiBaseUrl:"https://orange-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),yellow:(0,o.default)({baseUrl:"https://origin.yellow.bloomberg.com/account/",apiBaseUrl:"https://yellow-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),green:(0,o.default)({baseUrl:"https://origin.green.bloomberg.com/account/",apiBaseUrl:"https://green-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),blue:(0,o.default)({baseUrl:"https://origin.blue.bloomberg.com/account/",apiBaseUrl:"https://blue-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),purple:(0,o.default)({baseUrl:"https://origin.purple.bloomberg.com/account/",apiBaseUrl:"https://purple-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),sandcastle:(0,o.default)({baseUrl:"https://origin.sandcastle.bloomberg.com/account/",apiBaseUrl:"https://sandcastle-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),staging:(0,o.default)({baseUrl:"https://origin.staging.bloomberg.com/account/",apiBaseUrl:"https://staging-login.bloomberg.com/",personalizationBaseUrl:"https://tracking.stg.bloomberg.com/"},i),production:(0,o.default)({baseUrl:"https://www.bloomberg.com/account/",apiBaseUrl:"https://login.bloomberg.com/",personalizationBaseUrl:"https://tracking.bloomberg.com/"},i)}},,,,,,,,,,,,,,,function(e,t,n){var r=n(57),o=n(194),i=n(195),a=function(){"use strict"return i(e,[{key:"trackEvent",value:function(e){var t=Object.assign({},this.globalConfig,e);window.dataLayer&&t.event&&t.category&&t.action&&t.label&&window.dataLayer.push({event:t.event,eventCategory:t.category,eventAction:t.action,eventLabel:t.label})}},{key:"addCustomDimension",value:function(e,t){window.dataLayer.push(r({},e,t))}}]),e}();e.exports=a},,,,,,,,function(e,t,n){var r=n(192),o={Popular:{brexit:{id:"brexit",text:"Brexit",type:"Topic"},coronavirus:{id:"coronavirus",text:"Coronavirus",type:"Topic"},equality:{id:"equality",text:"Equality",type:"Topic"},"real-estate":{id:"real-estate",text:"Real Estate",type:"Topic"},cryptocurrency:{id:"cryptocurrency",text:"Cryptocurrency",type:"Topic"}},Trending:{"personal-finance":{id:"personal-finance",text:"Personal Finance",type:"Topic"},stocks:{id:"stocks",text:"Stocks",type:"Topic"},etf:{id:"etf",text:"ETFs",type:"Topic"},"climate-change":{id:"climate-change",text:"Climate Change",type:"Topic"},"u-s-presidential-election-2020":{id:"u-s-presidential-election-2020",text:"Election",type:"Event"}}};e.exports={PREFERENCES:o,groupPreferencesByTagType:function(e){var t=Object.assign.apply(Object,[{}].concat(r(Object.values(o))));return e.reduce((function(e,n){var r=t[n],o=r.id,i=r.type;return e[i]||(e[i]=[]),e[i].push(o),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getExperiencePreference=t.isDelinquentStatus=t.isSocialUser=t.getNewsletters=t.isLoggedIn=t.isTerminalSubscriber=t.isBWSubscriber=t.isBBGSubscriber=void 0;var o=r(n(95)),i=n(197),a=n(223),s=n(255),c="_user-data",u="terminal",l;t.isBBGSubscriber;t.isBWSubscriber;t.isTerminalSubscriber;t.isLoggedIn=function(){var e;try{e=JSON.parse(o.default.get(c))}catch(e){}return!((0,s.isProduction)()||!new URL(window.location.href).searchParams.get("mockSub"))||!!e&&e.status===a.UserStatus.LOGGED_IN};t.getNewsletters=function(){var e;try{e=JSON.parse(o.default.get(c))}catch(e){}if(!e)return"";var t=e.newsletterIds;return Array.isArray(t)&&0!==t.length?t.join("|"):""};t.isSocialUser=function(){var e;try{e=JSON.parse(o.default.get(c))}catch(e){}return!!e&&!!e.linkedAccounts};t.isDelinquentStatus;t.getExperiencePreference},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(192),o=n.n(r),i=n(194),a=n.n(i),s=n(195),c=n.n(s),u=n(189),l=n.n(u),f=n(225),p=n.n(f),d=n(226),h=n.n(d),m=n(211),y=n.n(m),v=n(0),g=n.n(v),_=n(170),b=n.n(_),E={"modal-overlay":"modal-overlay__c22ced61",modalOverlay:"modal-overlay__c22ced61",modal:"modal__41d104f7",header:"header__8672f4f9","top-left-module":"top-left-module__e6b6f893",topLeftModule:"top-left-module__e6b6f893",title:"title__b9b4b8c4","top-right-module":"top-right-module__6b771680",topRightModule:"top-right-module__6b771680",footer:"footer__c27120f9",small:"small__e5e1e769",medium:"medium__d7014bec",body:"body__8d297e58"};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var w,x=function(e){p()(n,e);var t=S(n);function n(){var e;return a()(this,n),(e=t.call(this)).state={mounted:!1},e.origin=null,e.firstFocusable=null,e.lastFocusable=null,e.firstFocusTrap=Object(v.createRef)(),e.lastFocusTrap=Object(v.createRef)(),e.modalRef=Object(v.createRef)(),e.handlePressEsc=e.handlePressEsc.bind(l()(e)),e.handleFocusTrap=e.handleFocusTrap.bind(l()(e)),e.handleOutsideClick=e.handleOutsideClick.bind(l()(e)),e}return c()(n,[{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&(this.props.isOpen?(document.body.style.overflow="hidden",this.setFocusableElements(),w(this.firstFocusable)):(document.body.style.overflow="",w(this.origin),this.unsetFocusableElements()))}},{key:"componentDidMount",value:function(){var e=this;this.setState({mounted:!0},(function(){e.props.isOpen&&(document.body.style.overflow="hidden",e.setFocusableElements(),w(e.firstFocusable))}))}},{key:"setFocusableElements",value:function(){var e=this.modalRef.current.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])");this.origin=document.activeElement,this.firstFocusable=o()(e).shift()||this.firstFocusTrap.current,this.lastFocusable=o()(e).pop()||this.lastFocusTrap.current}},{key:"unsetFocusableElements",value},{key:"handleFocusTrap",value:function(e){this.lastFocusTrap.current===e.target&&w(this.firstFocusable),this.firstFocusTrap.current===e.target&&w(this.lastFocusable)}},{key:"handlePressEsc",value},{key:"handleOutsideClick",value:function(e){this.modalRef.current&&this.modalRef.current.contains(e.target)||this.props.onClose(e)}},{key:"render",value:function(){if(!this.props.isOpen||!this.state.mounted)return null;var e=this.props,t=e.title,n=e.children,r=e.topLeftModule,o=e.topRightModule,i=e.bottomModule,a=e.isHidden,s=e.size,c=t&&g.a.createElement("div",{className:E.header},g.a.createElement("div",{className:E.topLeftModule},r),g.a.createElement("h4",{className:E.title},t),g.a.createElement("div",{className:E.topRightModule},o)),u=[E.modal,E[s]].join(" ");return Object(v.createPortal)(g.a.createElement("div",{"aria-hidden":a,className:E.modalOverlay,onClick:this.handleOutsideClick,onFocus:this.handleFocusTrap,onKeyDown:this.handlePressEsc,"data-testid":"modal-overlay",role:"presentation"},g.a.createElement("div",{tabIndex:"0",ref:this.firstFocusTrap}),g.a.createElement("div",{className:u,ref:this.modalRef,role:"dialog","aria-modal":"true","aria-label":t,"data-testid":"modal"},c,g.a.createElement("div",{className:E.body},n),g.a.createElement("div",{className:E.footer},i)),g.a.createElement("div",{tabIndex:"0",ref:this.lastFocusTrap})),document.body)}}]),n}(v.Component);x.defaultProps={title:"",topLeftModule:null,topRightModule:null,bottomModule:null,children:null,isHidden:!1,size:"medium"},x.propTypes={title:b.a.string,topLeftModule:b.a.element,topRightModule:b.a.element,bottomModule:b.a.element,children:b.a.element,isHidden:b.a.bool,size:b.a.oneOf(["small","medium"])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(236),o=n.n(r),i=n(0),a=n.n(i),s={"x-button":"x-button__6ea99fc6",xButton:"x-button__6ea99fc6"};function c(e){return a.a.createElement("button",o()({"aria-label":"Close",className:s.xButton,onClick:e.onClick},e))}},,,,,,,,,,function(e,t,n){"use strict";var r,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addParamsToUrl=void 0;var c=s(n(229)),u=s(n(250)),l=s(n(251)),f=s(n(252)),p=n(197),d=s(n(230)),h=s(n(257)),m=n(231),y=s(n(232)),v=s(n(258)),g=n(223),_="data-signed-in",b="data-status",E="data-reg-ui-client-status",S="reg-ui-client",w=S,x="reg-ui-client__iframe-container",O="reg-ui-client__wide-iframe-container",I="reg-ui-client__uverify-iframe-container",P="reg-ui-client__iframe",T=P,A=new RegExp("^https?://([^\\\\/]+\\.)*bloomberg\\.com(:\\d+)?(/|$)","i"),C=((r={})[x]=T,r[O]="reg-ui-client__wide-iframe",r[I]="reg-ui-client__uverify-iframe",r),R="reg-user-info-ready",k="reg-ui-show-pop-up",U="reg-user-verified",j="reg-user-signed-in",L=function(){function e(e,t){void 0===t&&(t={}),this._textElements=[];var n=window.location.hostname,r=t.dismissible,o=t.displayWhenUnauthenticated,i=t.queryParams,a=t.fetchSubMetadata,s=t.activeSubscriptionsOnly,c=void 0!==s&&s,u=t.updatePreferredEmailFlow,d=void 0===u?void 0:u,m=t.applicationCaller,g=(0,h.default)(n),_=t.environment||(0,y.default)(n);this._environment=_,this._applicationCaller=m,("staging"===_&&g||"production"===_&&"blue"===g)&&(this._environment=g);var b=p.URLS_MAP[this._environment]||p.URLS_MAP.production;this._isLoggedIn=!1,this._isTerminalSubscriber=!1,this._isBBGSubscriber=!1,this._isBWSubscriber=!1,this._updatePreferredEmailFlow=d,this._opt=t,this._dismissible=!(!1===r||"false"===r),this._displayWhenUnauthenticated=Boolean(o),this._queryParams=i,this._urls=new l.default(b),this._userInfo=new f.default(this._urls,a,c),this._regApiClient=new v.default(this._urls),this._openedWindowReference=null,this._userInfoEventHandler=null,this._userClickEventHandler=this.__userClickEventHandler.bind(this),this._windowMessageListener=this.__windowMessageListener.bind(this),this._windowSignedInEventListener=this.__windowSignedInEventListener.bind(this),this._disableEscapeHandler=this.__disableEscapeHandler.bind(this),this.__triggerPersonalizationMerge=this.__triggerPersonalizationMerge.bind(this),this.dispatchSignedInEvent=this.dispatchSignedInEvent.bind(this),this.isLoggedIn=this.isLoggedIn.bind(this),this.isTerminalSubscriber=this.isTerminalSubscriber.bind(this),this.isBBGSubscriber=this.isBBGSubscriber.bind(this),this.isBWSubscriber=this.isBWSubscriber.bind(this),this.fetchAbbaUserInfo=this.fetchAbbaUserInfo.bind(this),this._socialLogin=this._socialLogin.bind(this),this.verifyVerificationCode=this.verifyVerificationCode.bind(this),this.sendVerificationEmail=this.sendVerificationEmail.bind(this),this.sendEmailToEloquaAndCpref=this.sendEmailToEloquaAndCpref.bind(this),this.terminalLogin=this.terminalLogin.bind(this),this.getGroupSubsSSOLoginUrl=this.getGroupSubsSSOLoginUrl.bind(this),this.redirectToGroupSubsSSOUrlIfEligible=this.redirectToGroupSubsSSOUrlIfEligible.bind(this),this.googleSignIn=this.googleSignIn.bind(this),this.twitterLogin=this.twitterLogin.bind(this),this.appleLogin=this.appleLogin.bind(this),this.facebookLogin=this.facebookLogin.bind(this),this.addTextElements(e)}return e.prototype.initialize,e.prototype.registerEmail=function(e){return this._regApiClient.registerEmail(e,this._applicationCaller)},e.prototype.verifyVerificationCode,e.prototype.googleSignIn,e.prototype.sendVerificationEmail,e.prototype.sendEmailToEloquaAndCpref,e.prototype._socialLogin,e.prototype.terminalLogin=function(e){return void 0===e&&(e="unknown"),this._socialLogin(g.SocialSite.TERMINAL,e)},e.prototype.twitterLogin=function(e){return void 0===e&&(e="unknown"),this._socialLogin(g.SocialSite.TWITTER,e)},e.prototype.appleLogin=function(e){return void 0===e&&(e="unknown"),this._socialLogin(g.SocialSite.APPLE,e)},e.prototype.facebookLogin,e.prototype.getGroupSubsSSOLoginUrl,e.prototype.redirectToGroupSubsSSOUrlIfEligible,e.prototype.verifySignInStatus,e.prototype.removeUserInfoEventHandler,e.prototype.cleanup,e.prototype.linkToSignIn,e.prototype.linkToRegister,e.prototype.linkToUVerify,e.prototype.linkToTerminalRegister=function(e,t){void 0===e&&(e=this._queryParams),document.body.setAttribute(E,"load"),this._createPopup(this._urls.getTerminalRegisterUrl(e),t)},e.prototype.linkToBwRegister,e.prototype.linkToBSSO,e.prototype.linkToUpdatePreferredEmail,e.prototype.onUserInfoReady,e.prototype.addTextElements,e.prototype.removeTextElements,e.prototype.refreshUserInfo,e.prototype.refreshUserInfoPromise,e.prototype.fetchAbbaUserInfo,e.prototype.optInToReferralSharing=function(e){var t=this;return this._userInfo.optInToReferralSharing(e,this._applicationCaller).then((function(){return t.refreshUserInfo()}))},e.prototype.optOutOfReferralSharing,e.prototype.setPreferredEmail,e.prototype.isLoggedIn,e.prototype.isTerminalSubscriber,e.prototype.isBBGSubscriber=function(){var e,t;return"BBG"===(null===(t=null===(e=window._regUserInfo)||void 0===e?void 0:e.subscription)||void 0===t?void 0:t.type)||this._isBBGSubscriber},e.prototype.isBWSubscriber,e.prototype._setStateToLoggedIn,e.prototype._bindUserInfoEvent,e.prototype._setupMessageListener,e.prototype._setupSignedInEventListener,e.prototype._createPopup,e.prototype._generatePopupContent,e.prototype._hidePopup,e.prototype._updateLinks,e.prototype.__userClickEventHandler,e.prototype.__disableEscapeHandler,e.prototype._showPopupAfterIframeHeightRefresh,e.prototype.__windowMessageListener,e.prototype.__windowSignedInEventListener,e.prototype.__triggerPersonalizationMerge,e.prototype.dispatchSignedInEvent,e.prototype.getUserInfo,e.isWhiteListedDomain,e.goToUrl,e}().addParamsToUrl=M,t.default=L},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(n(230)),a=/([^:]\/)\/+/g,s=function()return e.prototype._constructPath,e.prototype.getLoginUrl=function(e){var t=this._config.loginUrl;return this._constructPath(t,e)},e.prototype.getRegisterUrl=function(e){var t=this._config.registerUrl;return this._constructPath(t,e)},e.prototype.getUVerifyUrl=function(e){var t=this._config.uverifyUrl;return this._constructPath(t,e)},e.prototype.getTerminalRegisterUrl=function(e){var t=this._config.terminalRegisterUrl;return this._constructPath(t,e)},e.prototype.getBwRegisterUrl=function(e){var t=this._config.bwRegisterUrl;return this._constructPath(t,e)},e.prototype.getSettingsUrl=function(e){var t=this._config.settingsUrl;return this._constructPath(t,e)},e.prototype.getUserInfoUrl=function(e){var t=this._config.userInfoUrl;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getBssoUrl=function(e){var t=this._config.bssoUrl;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getPreferredEmailUIUrl,e.prototype.getOptInToReferralsUrl=function(e){var t=this._config.optInToReferralsUrl;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getOptOutFromReferralsUrl=function(e){var t=this._config.optOutFromReferralsUrl;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.setPreferredEmailUrl=function(e){var t=this._config.preferredEmailPath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getVerifyVerificationCodePath=function(e){var t=this._config.verifyVerificationCodePath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getRegisterPath=function(e){var t=this._config.registerPath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getSendVerificationEmailPath=function(e){var t=this._config.sendVerificationEmailPath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getSendEmailToEloquaAndCprefPath=function(e){var t=this._config.sendEmailToEloquaAndCprefPath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getUserSignInPath=function(e){var t=this._config.userSignInPath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getGroupSubsSSOLoginPath=function(e){var t=this._config.groupSubsSSOLoginPath;return this._constructPath(t,e,this._apiBaseUrl)},e.prototype.getPersonalizationTrackingPixelSrc=function(e){var t=this._config.trackingPixelSrc;return this._constructPath(t,e,this._personalizationBaseUrl)},e.prototype.getGoogleAuthPath,e.prototype.getSocialSignInPath,e.appendQueryParams,e.constructKeyValuePair,e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create),i=this&&this.__setModuleDefault||(Object.create),a=this&&this.__importStar|,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(95)),u=s(n(253)),l=a(n(254));n(55),n(94);var f=n(197),p=n(231),d=s(n(256))ar y=function()return e.prototype.fetchUserInfo,e.prototype.fetchAbbaUserInfo,e.prototype.optInToReferralSharing=function(e,t){return this._fetchFromRegAPI(this._optInUrl,{method:"PUT",body:{productRatePlanId:e},applicationCaller:t})},e.prototype.optOutOfReferralSharing=function(e,t){return this._fetchFromRegAPI(this._optOutUrl,{method:"PUT",body:{defaulted:e},applicationCaller:t})},e.prototype.setPreferredEmail,e.prototype._fetchUserInfo=function(t,n){var r=this,o=!n&&!!c.default.get(f.SUBSCRIPTION_REFRESH_COOKIE_NAME),i=!!c.default.get(f.COLLECTIVE_USER_DATA_COOKIE),a=m(),s=null==a?void 0:a.introPeriodStatus,u=(0,l.default)(),p=this._fetchSubMetadata&&!s;return e.isFetchInProgress()&&!this._fetchSubMetadata?Promise.resolve({}):o&&i&&u&&!p?Promise.resolve().then()):(e.lock(),this._fetchFromRegAPI(this._userInfoUrl,{method:"GET"},!0).then()).catch()))},e.prototype.eventDetailsFromExistingCookies,e.prototype._fetchFromRegAPI,e.lock=function(){window.__regUIFetchInProgress=!0},e.unlock,e.isFetchInProgress,e.isOnBbgComSite,e.fetch,e}();t.default=y},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.writeLastKnownInformation=void 0;var o=r(n(95)),i="_user-data";t.writeLastKnownInformation,t.default=function(){var e,t,n=o.default.get(i);if(!n)return!1;try{var r(),a=JSON.parse(n),s=r.isSignedIn===("logged_in"===a.status),c=r.isBBGSubscriber===!!(null===(e=null==a?void 0:a.subscriptionsData)||void 0===e?void 0:e.some((function(e){return"BBG"===e.product}))),u=r.isBWSubscriber===!!(null===(t=null==a?void 0:a.subscriptionsData)||void 0===t?void 0:t.some()));return s&&c&&u}catch(e){return!1}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(259),s=i(n(260)),c=function(e){var t=this;this.registerEmail,this.verifyVerificationCode,this.sendVerificationEmail,this.sendEmailToEloquaAndCpref,this.socialLogin,this.getGroupSubsSSOLoginUrl,this.googleSignIn,this.registerPath=e.getRegisterPath(),this.sendVerificationEmailPath=e.getSendVerificationEmailPath(),this.sendEmailToEloquaAndCprefPath=e.getSendEmailToEloquaAndCprefPath(),this.verifyVerificationCodePath=e.getVerifyVerificationCodePath(),this.userSignInPath=e.getUserSignInPath(),this.groupSubsSSOLoginPath=e.getGroupSubsSSOLoginPath(),this.googleAuthPath=e.getGoogleAuthPath(),this.socialSignIn=new s.default(e)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCommonjsModule},,,,,,,,,,function(e,t){e.exports=function(){return fetch.apply(void 0,arguments).then((function(e){var t=e.ok,n=e.status,r=e.statusText;return e.json().then((function(e){return t?Promise.resolve({status:n,json:e}):Promise.reject({status:n,json:e})}),(function(){return t?Promise.resolve({status:n,message:r}):Promise.reject({status:n,message:r})}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263),o=(n(276),n(309),n(312)),i=r.createCommonjsModule());t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263),o=n(307),i=(n(308),r.createCommonjsModule()));t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(275),i=n(313),a=n(314),s=n(316),c=n(317)var l=u(r),f=["small","standard","large","xlarge","xxlarge"],p=i.__spreadArrays(["12px","14px","16px","18px","20px","22px","24px","26px","32px"],f),d=function(e){var t=e.size,n=void 0===t?"14px":t,r=e.mobileSize,o=void 0===r?n:r,i=e.align,s=void 0===i?"left":i,u=e.weight,p=void 0===u?"normal":u,d=e.color,h=void 0===d?"black":d,m=e.decoration,y=void 0===m?"none":m,v=e.dangerouslySetInnerHTML,g=e.children;(f.includes(n)||f.includes(o))&&console.warn('a t-shirt size font size option was provided which is deprecated, please provide a pixel size instead e.g. "22px"');var _=[a.default["_"+n],a.default["mobile_"+o],a.default["text-align-"+s],a.default["font-weight-"+p],a.default["text-decoration-"+y],a.default["color-"+h]].join(" ").trim();return(null==v?void 0:v.__html)?l.default.createElement("span",{className:_,dangerouslySetInnerHTML:{__html:c.default.sanitize(v.__html)}}):l.default.createElement("span",{className:_},g)},h=s.default({dangerouslySetInnerHTML:o.default.shape({__html:o.default.string.isRequired}),children:o.default.string});d.propTypes={size:o.default.oneOf(p),mobileSize:o.default.oneOf(p),weight:o.default.oneOf(["normal","bold"]),decoration:o.default.oneOf(["underline","red-strikethrough","black-strikethrough","none"]),align:o.default.oneOf(["left","center","right"]),color:o.default.oneOf(["black","white","silver"]),dangerouslySetInnerHTML:h,children:h},t.default=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(379)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119ar x=f,O=p,I=l,P=u,T=o,A=d,C=a,R=v,k=y,U=i,j=c,L=s,M=h,N,B=w,D=function(e){return S(e)===l},F=function(e){return S(e)===u},G,z=function(e){return S(e)===d},H=function(e){return S(e)===a},W=function(e){return S(e)===v},K=function(e){return S(e)===y},q=function(e){return S(e)===i},V=function(e){return S(e)===c},$=function(e){return S(e)===s},Y,J,X=S,Z={AsyncMode:x,ConcurrentMode:O,ContextConsumer:I,ContextProvider:P,Element:T,ForwardRef:A,Fragment:C,Lazy:R,Memo:k,Portal:U,Profiler:j,StrictMode:L,Suspense:M,isAsyncMode:N,isConcurrentMode:B,isContextConsumer:D,isContextProvider:F,isElement:G,isForwardRef:z,isFragment:H,isLazy:W,isMemo:K,isPortal:q,isProfiler:V,isStrictMode:$,isSuspense:Y,isValidElementType:J,typeOf:X};t.AsyncMode=x,t.ConcurrentMode=O,t.ContextConsumer=I,t.ContextProvider=P,t.Element=T,t.ForwardRef=A,t.Fragment=C,t.Lazy=R,t.Memo=k,t.Portal=U,t.Profiler=j,t.StrictMode=L,t.Suspense=M,t.default=Z,t.isAsyncMode=N,t.isConcurrentMode=B,t.isContextConsumer=D,t.isContextProvider=F,t.isElement=G,t.isForwardRef=z,t.isFragment=H,t.isLazy=W,t.isMemo=K,t.isPortal=q,t.isProfiler=V,t.isStrictMode=$,t.isSuspense=Y,t.isValidElementType=J,t.typeOf=X},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263).createCommonjsModule());t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(276),o=n(310),i=n(264),a=n(311),s=Function.call.bind(Object.prototype.hasOwnProperty),c=function(){}t.default=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,l="@@iterator";var f="<<anonymous>>",p={array:y("array"),bool:y("boolean"),func:y("function"),number:y("number"),object:y("object"),string:y("string"),symbol:y("symbol"),any:m(u),arrayOf:function(e){return m((function(t,n,r,o,a){if("function"!=typeof e)return new h("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new h("Invalid "+o+" `"+a+"` of type `"+g(s)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<s.length;c++){var u=e(s,c,r,o,a+"["+c+"]",i.default);if(u instanceof Error)return u}return null}))},element:m()),elementType:m((function(e,t,n,o,i){var a=e[t];return r.default.isValidElementType(a)?null:new h("Invalid "+o+" `"+i+"` of type `"+g(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf,node:m()),objectOf:function(e){return m((function(t,n,r,o,a){if("function"!=typeof e)return new h("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var c=t[n],u=g(c);if("object"!==u)return new h("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in c)if(s(c,l)){var f=e(c,l,r,o,a+"."+l,i.default);if(f instanceof Error)return f}return null}))},oneOf,oneOfType:function(e){if(!Array.isArray(e))return u;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+b(n)+" at index "+t+"."),u}return m((function(t,n,r,o,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,o,a,i.default))return null;return new h("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return m((function(t,n,r,o,a){var s=t[n],c=g(s);if("object"!==c)return new h("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var l=e[u];if(l){var f=l(s,u,r,o,a+"."+u,i.default);if(f)return f}}return null}))},exact:function(e){return m((function(t,n,r,a,s){var c=t[n],u=g(c);if("object"!==u)return new h("Invalid "+a+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=o.default({},t[n],e);for(var f in l){var p=e[f];if(!p)return new h("Invalid "+a+" `"+s+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=p(c,f,r,a,s+"."+f,i.default);if(d)return d}return null}))}}unction m(e){function n(n,r,o,a,s,c,u){if((a=a||f,c=c||o,u!==i.default)&&t){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}return null==r[o]?n?null===r[o]?new h("The "+s+" `"+c+"` is marked as required in `"+a+"`, but its value is `null`."):new h("The "+s+" `"+c+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,o,a,s,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),rrn h.prototype=Error.prototype,p.checkPropTypes=a.default,p.resetWarningCache=a.default.resetWarningCache,p.PropTypes=p,p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var a()?Object.assign;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(264)r.resetWarningCache;var o=r;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(264);function o(){}function i(){}i.resetWarningCache=o;t.default=function(){function e(e,t,n,o,i,a){if(a!==r.default){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__assign,t.__spreadArrays},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(315).default(".styles__12px__1DI28,.styles__small__2yZ0S{font-size:12px}.styles__14px__2MMcH,.styles__standard__B12bL{font-size:14px}.styles__16px__35HQt,.styles__large__1fp9u{font-size:16px}.styles__18px__3-BAR,.styles__xlarge__qGVtF{font-size:18px}.styles__20px__3hqLF{font-size:20px}.styles__22px__10DWD,.styles__xxlarge__3YOzU{font-size:22px}.styles__24px__2c2WN{font-size:24px}.styles__26px__1v2Sx{font-size:26px}.styles__32px__3rOAP{font-size:32px}@media screen and (max-width:469px){.styles_mobile_small__1d26Y{font-size:12px}.styles_mobile_standard__2PyU2{font-size:14px}.styles_mobile_large__3imsz{font-size:16px}.styles_mobile_xlarge__3j9ex{font-size:18px}.styles_mobile_12px__3OAXa{font-size:12px}.styles_mobile_14px__3lFyH{font-size:14px}.styles_mobile_16px__ISBy2{font-size:16px}.styles_mobile_18px__1YLVS{font-size:18px}.styles_mobile_20px__3dHoY{font-size:20px}.styles_mobile_22px__1mY3L{font-size:22px}.styles_mobile_26px__3DAW8{font-size:26px}.styles_mobile_32px__113WR{font-size:32px}}.styles_font-weight-normal__3eA7N{font-family:BWHaasGrotesk-55Roman-Web,Helvetica,Arial,sans-serif}.styles_font-weight-bold__2cePf{font-family:BWHaasGrotesk-75Bold-Web,Helvetica,Arial,sans-serif}.styles_text-decoration-underline__3Udal{text-decoration:underline}.styles_text-decoration-red-strikethrough__3HPxU{text-decoration:red line-through}.styles_text-decoration-black-strikethrough__1Hhzk{text-decoration:#000 line-through}.styles_text-decoration-none__eJS-w{text-decoration:none}.styles_text-align-left__rejGO{text-align:left}.styles_text-align-right__2KZYz{text-align:right;display:block}.styles_text-align-center__1kIxx{text-align:center;display:block}.styles_color-black__1Xe9m{color:#000}.styles_color-white__2EPol{color:#fff}.styles_color-silver__2q3tP{color:#ccc}"),t.default={_12px:"styles__12px__1DI28",_small:"styles__small__2yZ0S",_14px:"styles__14px__2MMcH",_standard:"styles__standard__B12bL",_16px:"styles__16px__35HQt",_large:"styles__large__1fp9u",_18px:"styles__18px__3-BAR",_xlarge:"styles__xlarge__qGVtF",_20px:"styles__20px__3hqLF",_22px:"styles__22px__10DWD",_xxlarge:"styles__xxlarge__3YOzU",_24px:"styles__24px__2c2WN",_26px:"styles__26px__1v2Sx",_32px:"styles__32px__3rOAP",mobile_small:"styles_mobile_small__1d26Y",mobile_standard:"styles_mobile_standard__2PyU2",mobile_large:"styles_mobile_large__3imsz",mobile_xlarge:"styles_mobile_xlarge__3j9ex",mobile_12px:"styles_mobile_12px__3OAXa",mobile_14px:"styles_mobile_14px__3lFyH",mobile_16px:"styles_mobile_16px__ISBy2",mobile_18px:"styles_mobile_18px__1YLVS",mobile_20px:"styles_mobile_20px__3dHoY",mobile_22px:"styles_mobile_22px__1mY3L",mobile_26px:"styles_mobile_26px__3DAW8",mobile_32px:"styles_mobile_32px__113WR","font-weight-normal":"styles_font-weight-normal__3eA7N","font-weight-bold":"styles_font-weight-bold__2cePf","text-decoration-underline":"styles_text-decoration-underline__3Udal","text-decoration-red-strikethrough":"styles_text-decoration-red-strikethrough__3HPxU","text-decoration-black-strikethrough":"styles_text-decoration-black-strikethrough__1Hhzk","text-decoration-none":"styles_text-decoration-none__eJS-w","text-align-left":"styles_text-align-left__rejGO","text-align-right":"styles_text-align-right__2KZYz","text-align-center":"styles_text-align-center__1kIxx","color-black":"styles_color-black__1Xe9m","color-white":"styles_color-white__2EPol","color-silver":"styles_color-silver__2q3tP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(275);t.default=function(e){return function(t,n,o){var i=Object.keys(e),a=i.find((function(e){return t[e]}));try{if(!a)throw new Error("One of "+i.join(",")+" is required by '"+o+"' component.");r.default.checkPropTypes(e,t,n,o)}catch(e){return e}return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.hasOwnProperty,o=Object.setPrototypeOf,i=Object.isFrozen,a=Object.getPrototypeOf,s=Object.getOwnPropertyDescriptor,c=Object.freeze,u=Object.seal,l=Object.create,f="undefined"!=typeof Reflect&&Reflect,p=f.apply,d=f.construct;p||(p),c||(c=function(e){return e}),u||(u=function(e){return e}),d||(d);var h,m=O(Array.prototype.forEach),y=O(Array.prototype.pop),v=O(Array.prototype.push),g=O(String.prototype.toLowerCase),_=O(String.prototype.match),b=O(String.prototype.replace),E=O(String.prototype.indexOf),S=O(String.prototype.trim),w=O(RegExp.prototype.test),x=(h=TypeError) A=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k=c(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=c(["#text"]),M=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),N=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=u(/\{\{[\s\S]*|[\s\S]*\}\}/gm),G=u(/<%[\s\S]*|[\s\S]*%>/gm),z=u(/^data-[\-\w.\u00B7-\uFFFF]/),H=u(/^aria-[\-\w]+$/),W=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=u(/^(?:\w+script|data):/i),q=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V="function"==typeof Symbol&&"symbol"==typeof Symbol.iteratorvar Y,J;var X=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y(),n;if(n.version="2.3.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,u=t.Element,l=t.NodeFilter,f=t.NamedNodeMap,p=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,d=t.Text,h=t.Comment,O=t.DOMParser,X=t.trustedTypes,Z=u.prototype,Q=T(Z,"cloneNode"),ee=T(Z,"nextSibling"),te=T(Z,"childNodes"),ne=T(Z,"parentNode");if("function"==typeof a){var re=o.createElement("template");re.content&&re.content.ownerDocument&&(o=re.content.ownerDocument)}var oe=J(X,r),ie=oe&&Ne?oe.createHTML(""):"",ae=o,se=ae.implementation,ce=ae.createNodeIterator,ue=ae.createDocumentFragment,le=ae.getElementsByTagName,fe=r.importNode,pe={};try{pe=P(o).documentMode?o.documentMode:{}}catch(e){}var de={};n.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==pe;var he=F,me=G,ye=z,ve=H,ge=K,_e=q,be=W,Ee=null,Se=I({},[].concat($(A),$(C),$(R),$(U),$(L))),we=null,xe=I({},[].concat($(M),$(N),$(B),$(D))),Oe=null,Ie=null,Pe=!0,Te=!0,Ae=!1,Ce=!1,Re=!1,ke=!1,Ue=!1,je=!1,Le=!1,Me=!0,Ne=!1,Be=!0,De=!0,Fe=!1,Ge={},ze=null,He=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,Ke=I({},["audio","video","img","source","image","track"]),qe=null,Ve=I({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Xe=Je,Ze=!1,Qe=void 0,et=["application/xhtml+xml","text/html"],tt=void 0,nt=null,rt=o.createElement("form"),ot=function(e){nt&&nt===e||(e&&"object"===(void 0===e?"undefined":V(e))||(e={}),e=P(e),Ee="ALLOWED_TAGS"in e?I({},e.ALLOWED_TAGS):Se,we="ALLOWED_ATTR"in e?I({},e.ALLOWED_ATTR):xe,qe="ADD_URI_SAFE_ATTR"in e?I(P(Ve),e.ADD_URI_SAFE_ATTR):Ve,We="ADD_DATA_URI_TAGS"in e?I(P(Ke),e.ADD_DATA_URI_TAGS):Ke,ze="FORBID_CONTENTS"in e?I({},e.FORBID_CONTENTS):He,Oe="FORBID_TAGS"in e?I({},e.FORBID_TAGS):{},Ie="FORBID_ATTR"in e?I({},e.FORBID_ATTR):{},Ge="USE_PROFILES"in e&&e.USE_PROFILES,Pe=!1!==e.ALLOW_ARIA_ATTR,Te=!1!==e.ALLOW_DATA_ATTR,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=e.SAFE_FOR_TEMPLATES||!1,Re=e.WHOLE_DOCUMENT||!1,je=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,Me=!1!==e.RETURN_DOM_IMPORT,Ne=e.RETURN_TRUSTED_TYPE||!1,Ue=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,De=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Xe=e.NAMESPACE||Je,Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,tt="application/xhtml+xml"===Qe:g,Ce&&(Te=!1),Le&&(je=!0),Ge&&(Ee=I({},[].concat($(L))),we=[],!0===Ge.html&&(I(Ee,A),I(we,M)),!0===Ge.svg&&(I(Ee,C),I(we,N),I(we,D)),!0===Ge.svgFilters&&(I(Ee,R),I(we,N),I(we,D)),!0===Ge.mathMl&&(I(Ee,U),I(we,B),I(we,D))),e.ADD_TAGS&&(Ee===Se&&(Ee=P(Ee)),I(Ee,e.ADD_TAGS)),e.ADD_ATTR&&(we===xe&&(we=P(we)),I(we,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&I(qe,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ze===He&&(ze=P(ze)),I(ze,e.FORBID_CONTENTS)),De&&(Ee["#text"]=!0),Re&&I(Ee,["html","head","body"]),Ee.table&&(I(Ee,["tbody"]),delete Oe.tbody),c&&c(e),nt=e)},it=I({},["mi","mo","mn","ms","mtext"]),at=I({},["foreignobject","desc","title","annotation-xml"]),st=I({},C);I(st,R),I(st,k);var ct=I({},U);I(ct,j);var ut,lt,ft,pt,dt,ht,mt=function(e){var t,r=void 0;if(ht("beforeSanitizeElements",e,null),!((t=e)instanceof d||t instanceof h||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof p&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore))return ut(e),!0;if(_(e.nodeName,/[\u0080-\uFFFF]/))return ut(e),!0;var o=tt(e.nodeName);if(ht("uponSanitizeElement",e,{tagName:o,allowedTags:Ee}),!dt(e.firstElementChild)&&(!dt(e.content)||!dt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return ut(e),!0;if("select"===o&&w(/<template/i,e.innerHTML))return ut(e),!0;if(!Ee[o]||Oe[o]){if(De&&!ze[o]){var i=ne(e)||e.parentNode,a=te(e)||e.childNodes;if(a&&i)for(var s=a.length-1;s>=0;--s)i.insertBefore(Q(a[s],!0),ee(e))}return ut(e),!0}return e instanceof u&&(e)?(ut(e),!0):"noscript"!==o&&"noembed"!==o||!w(/<\/no(script|embed)/i,e.innerHTML)?(Ce&&3===e.nodeType&&(r=e.textContent,r=b(r,he," "),r=b(r,me," "),e.textContent!==r&&(v(n.removed,{element:e.cloneNode()}),e.textContent=r)),ht("afterSanitizeElements",e,null),!1):(ut(e),!0)},yt,vt,gt;return n.sanitize,n.setConfig,n.clearConfig,n.isValidAttribute,n.addHook,n.removeHook,n.removeHooks,n.removeAllHooks,n}();t.default=X},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(192),a=n.n(i),s=n(57),c=n.n(s),u=n(194),l=n.n(u),f=n(195),p=n.n(f),d=n(189),h=n.n(d),m=n(225),y=n.n(m),v=n(226),g=n.n(v),_=n(211),b=n.n(_),E=n(235),S=n.n(E),w=n(277),x=n.n(w),O=n(237),I=n(238),P=function(e){var t=e.selected,n=e.text,r="preference-button".concat(t?" preference-button--selected":"");return o.a.createElement("div",{className:"preference-button__wrapper"},o.a.createElement("button",{className:r,onClick,"aria-label":n,name:n},o.a.createElement("div",{className:"preference-button__text"},n),o.a.createElement("div",{className:"preference-button__plus"}),o.a.createElement("div",{className:"preference-button__checkmark"})))},T=n(217),A=n.n(T),C=n(228),R=n(274),k=n.n(R)r M="signed-in",N="signed-out",B="signing-in",D={NORMAL:"normal",LOADING:"loading",ERROR:"error"},F="preferencesIntroBubbleViewed",G=function(e){y()(n,e);var t=L(n);function n(e){var r;l()(this,n);var o=(r=t.call(this,e)).props,i=o.fetchedPreferences,a=o.hidden,s=o.signInStatus,c="viewed"!==localStorage.getItem(F);r.state={hidden:a,selectedPreferences:i||[],showIntro:c,signInStatus:s,showSignInSpinner:!1,submissionState:D.NORMAL},r.tracker=new A.a({category:"latest_preferences",event:"latest_preferences_event"}),r.onAddTopics=r.onAddTopics.bind(h()(r)),r.onApplyPreferences=r.onApplyPreferences.bind(h()(r)),r.onCloseIntro=r.onCloseIntro.bind(h()(r)),r.onManageTopics=r.onManageTopics.bind(h()(r)),r.onPreferenceSelected=r.onPreferenceSelected.bind(h()(r)),r.onPrefModalCloseClick=r.onPrefModalCloseClick.bind(h()(r)),r.onRegModalClose=r.onRegModalClose.bind(h()(r)),r.onRegModalOpen=r.onRegModalOpen.bind(h()(r)),r.onSignIn=r.onSignIn.bind(h()(r)),r.onSignInClick=r.onSignInClick.bind(h()(r)),r.onSignOut=r.onSignOut.bind(h()(r)),r.openRegModal=r.openRegModal.bind(h()(r));var u=window.__bloomberg__.environment,f=u.registrationEnv,p=u.registrationUrl;return r.engagementsUrl="".concat(p,"/api/engagements/latest-preferences"),r.regUIClient=new S.a(null,{environment:f}),r.regUIClient.initialize(),r}return p()(n,[{key:"componentDidMount",value:function(){var e=this.state.signInStatus,t=this.props,n=t.fetchedPreferences,r=t.storiesElement,o=t.moduleProvenance;n.length||r.classList.add("story-list-module__stories--with-preferences-CTA"),"canonical"===o&&(this.regUIClient.initialize(),e?window.addEventListener("reg-user-signed-in",this.onSignIn):window._regUserId?this.onSignIn():this.regUIClient.verifySignInStatus(this.onSignIn,this.onSignOut)),window.addEventListener("reg-ui-show-pop-up",this.onRegModalOpen),window.addEventListener("reg-ui-close-pop-up",this.onRegModalClose)}},{key:"componentWillUnmount",value},{key:"removeEventListeners",value},{key:"submitUserPreferences",value:function(){var e=this,t={topicIds:this.state.selectedPreferences};k()(this.engagementsUrl,j(j({},{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}),{},{body:JSON.stringify(t)})).then((function(t){e.handleEngagements(t.json)})).catch((function(t){401!==t.status?(e.setState({submissionState:D.ERROR}),console.error("Preferences fetch failed: ".concat(JSON.stringify(t.json)))):e.setState({signInStatus:B},e.openRegModal)}))}},{key:"fetchUserPreferences",value:function(){var e=this;k()(this.engagementsUrl,j({},{method:"GET",headers:{Accept:"application/json"},credentials:"include"})).then()).catch((function(t){e.broadcastPreferenceState(M,[]),console.error("Preferences fetch failed: ".concat(JSON.stringify(t.json)))}))}},{key:"handleEngagements",value:function(e){var t=e.map());this.broadcastPreferenceState(M,t),this.setState({hidden:!0})}},{key:"broadcastPreferenceState",value:function(e,t){var n=this.props.moduleProvenance,r=Object(C.groupPreferencesByTagType)(t);window.__bloomberg__.eventBus.publish("preferences-fetched",{signInStatus:e,fetchedPreferences:t,preferencesByTagType:r,moduleProvenance:n})}},{key:"onAddTopics",value:function(){this.setState({hidden:!1,showIntro:!1}),localStorage.setItem(F,"viewed"),this.tracker.trackEvent({action:"click",label:"cta-click"})}},{key:"onApplyPreferences",value:function(){var e=this;this.tracker.trackEvent({action:"click",label:"submit-preferences-click | ".concat(this.state.selectedPreferences.join())}),this.state.signInStatus!==M?this.setState({submissionState:D.LOADING,signInStatus:B},this.openRegModal):this.setState({submissionState:D.LOADING},))}},{key:"onRegModalOpen",value},{key:"onCloseIntro",value:function(){this.setState({showIntro:!1}),localStorage.setItem(F,"viewed"),this.tracker.trackEvent({action:"click",label:"close-intro-click"})}},{key:"onManageTopics",value:function(){this.setState({hidden:!1}),this.tracker.trackEvent({action:"click",label:"manage-topics-click"})}},{key:"onPreferenceSelected",value:function(e){var t=a()(this.state.selectedPreferences),n=this.state.selectedPreferences.indexOf(e);-1!==n?(t.splice(n,1),this.tracker.trackEvent({action:"click",label:"deselect-preference-click | ".concat(e)})):(t.push(e),this.tracker.trackEvent({action:"click",label:"select-preference-click | ".concat(e)})),this.setState({selectedPreferences:t})}},{key:"onPrefModalCloseClick",value:function(){var e=this.props.fetchedPreferences.length>0?this.props.fetchedPreferences:[];this.setState({hidden:!0,selectedPreferences:e}),this.tracker.trackEvent({action:"click",label:"modal-close-click"})}},{key:"onRegModalClose",value},{key:"onSignIn",value},{key:"onSignInClick",value:function(){this.setState({signInStatus:B,showSignInSpinner:!0},this.openRegModal),this.tracker.trackEvent({action:"click",label:"sign-in-click"})}},{key:"onSignOut",value},{key:"openRegModal",value},{key:"render",value:function(){var e=this,t=this.state,n=t.hidden,r=t.selectedPreferences,i=t.showIntro,a=t.showSignInSpinner,s=t.signInStatus,c=t.submissionState,u=this.props,l=u.fetchedPreferences,f=u.moduleElement,p=l.length>0,d=s!==M,h=c===D.LOADING,m=s===M?"Apply":"Sign in to continue";return s?o.a.createElement("div",{className:"preferences__wrapper"},!p&&o.a.createElement(z,{onAddTopics:this.onAddTopics}),p&&o.a.createElement("div",{className:"preferences__title"}," From your interests "),!p&&i&&o.a.createElement(W,{onClose:this.onCloseIntro}),o.a.createElement(O.a,{size:"medium",isOpen:!n,onClose:this.onPrefModalCloseClick},o.a.createElement(I.a,{onClick:this.onPrefModalCloseClick,"data-classname":"close-button"}),o.a.createElement("div",{className:"preferences__label-wrapper"},o.a.createElement("div",{className:"preferences__label"},"Add topics that matter to you")),o.a.createElement("section",{className:"preferences"},Object.keys(C.PREFERENCES).map((function(t){return o.a.createElement("div",{className:"preferences__category"},o.a.createElement("div",{className:"preferences__category-label"},t),Object.values(C.PREFERENCES[t]).map((function(t){return o.a.createElement(P,{id:t.id,text:t.text,selected:-1!==r.indexOf(t.id),onClick:e.onPreferenceSelected})})))})),o.a.createElement("div",{className:"preferences__opaque-background"})),o.a.createElement("div",{className:"preferences__apply-button-wrapper"},o.a.createElement("button",{className:"preferences__apply-button".concat(h?" preferences__apply-button--loading":""),onClick:this.onApplyPreferences,disabled:!r.length||h},h?"":m,o.a.createElement("div",{className:"preferences__apply-button__loading-dots"},o.a.createElement("span",{className:"preferences__apply-button__loading-dot"}),o.a.createElement("span",{className:"preferences__apply-button__loading-dot"}),o.a.createElement("span",{className:"preferences__apply-button__loading-dot"})))),d&&o.a.createElement(q,{onSignInClick:this.onSignInClick,showSignInSpinner:a}),c===D.ERROR&&o.a.createElement(H,null)),p&&o.a.createElement(K,{onManageTopics:this.onManageTopics,moduleElement:f})):null}}]),n}(r.Component),z=function(e){var t=e.onAddTopics;return o.a.createElement("div",{className:"preferences__call-to-action"},o.a.createElement("div",{className:"preferences__call-to-action__text"}," Get the latest from the topics you follow "),o.a.createElement("button",{className:"preferences__add-topics-button",onClick:t},"Add my topics"),o.a.createElement("div",{className:"preferences__call-to-action__text"}," You might like: "))},H,W=function(e){var t=e.onClose;return o.a.createElement("div",{className:"preferences__intro-bubble"},o.a.createElement("div",{className:"preferences__intro-bubble-message"},o.a.createElement("div",{className:"preferences__intro-bubble-new"},"NEW"),"Get the latest stories based on your interests."),o.a.createElement("button",{className:"preferences__intro-bubble-x","aria-label":"Close bubble",onClick:t}))},K=function(e){var t=e.onManageTopics,n=e.moduleElement;return Object(r.createPortal)(o.a.createElement("button",{className:"preferences__manage-topics-button",onClick:t},"Manage Topics"),n)},q=function(e){var t=e.onSignInClick,n=e.showSignInSpinner;return o.a.createElement("div",{className:"preferences__sign-in"},o.a.createElement(x.a,{size:"standard"}," Already have your topics saved? "),o.a.createElement("button",{className:"preferences__sign-in__button",onClick:t}," Sign In "),n&&o.a.createElement("div",{className:"preferences__sign-in__spinner"}))},V='.story-list-module[data-variation="preferences"]',$=".story-list-module__preferences",Y=".story-list-module__stories";function J(e,t){var n=t.moduleProvenance,i=t.signInStatus,a=t.fetchedPreferences,s=void 0===a?[]:a,c="".concat(V,'[data-module-provenance="').concat(n,'"]'),u="".concat(c," ").concat($),l="".concat(c," ").concat(Y),f=e.querySelector(c),p=e.querySelector(u),d=e.querySelector(l);return p&&Object(r.render)(o.a.createElement(G,{hidden:!0,fetchedPreferences:s,signInStatus:i,moduleProvenance:n,moduleElement:f,storiesElement:d}),p),p}window.__bloomberg__.eventBus.subscribe("abba-variant-loaded",(function e(){window.__bloomberg__.eventBus.unsubscribe("abba-variant-loaded",e);var t=J(document,{moduleProvenance:"canonical"}),n=J(document,{moduleProvenance:"shadow"});window.__bloomberg__.eventBus.subscribe("preferences-module-reloaded",(function(e){"canonical"===e.moduleProvenance?(Object(r.unmountComponentAtNode)(t),t=J(document,e)):(Object(r.unmountComponentAtNode)(n),n=J(document,e))}))}))}])}));