!function(window,undefined){try{if(window.$_bf&&!0===window.$_bf.loaded)return;var VERSION="2.8.54",_win=(window.__ubt_isTrip__="trip",window),_doc=(_win.$_bf=_win.$_bf||{},VERSION+=window.__ubt_isTrip__?"/"+window.__ubt_isTrip__:"",_win.$_bf.version=VERSION,_win.$_bf.loaded=!0,_win.document),_loc=_doc.location,Y=Y||{},isAresModule=(Y.RESOURCE_URL="https://webresource.tripcdn.com",Y.TOKEN_URL=window.__ubt_ipv6?"//upgrade-m.ctrip.com/restapi/soa2/11470/getToken.json":"//m.trip.com/restapi/soa2/11470/getToken.json",Y.PROTOCOL=-1!=_loc.protocol.indexOf("file:")?"http:":_loc.protocol,Y.ENV=_win.$_bf.env||"online",Y.ishttps="https:"==Y.PROTOCOL,function(){return"NOT_ARES2019"+Math.floor(Math.random(0))=="0"}),toString=(Y.CFG={domain:_loc.hostname.split(".").slice(-2).join(".")||"ctrip.com",referrer:!1,referrerLength:500,urlLength:600,sizeLimit:5e4,cv1:!1,orderID:"",cookiePath:"/",surl:"https://ubt-sin.tripcdn.com/",purl:"https://ubt-sin.tripcdn.com/bee/collect",commonDomain:!!_win.__ubt_isTrip__,ubtConfigURL:window.__ubt_ipv6?"https://upgrade-m.ctrip.com/restapi/soa2/18088/getAppConfig.json":"https://m.trip.com/restapi/soa2/18088/getAppConfig.json",href:_loc.href,dCollect:{},delay:0,debug:!1,useractionSample:100,rms:!0,markting:!0,third_modules:[{shouldLoad:src:"//webresource.tripcdn.com/ares2/risk/ubtrms/*/default/rms.js",option:{mask:"yyyymmdd",delay:300}}]},!0!==window.disableFP&&eval(function(e,t,n,i,r){if(i=!"".replace(/^/,String)){for(;t--;)r[i(t)]=n[t]||i(t);n=[,i=t=1}for(;t--;)n[t]&&(e=e.replace(new RegExp("\\b"+i(t)+"\\b","g"),n[t]));return e}('dr(di(d,e,a,c,b,f){b=di(a){dh(a<e?"":b(dm(a/e)))+(35<(a%=e)?dl.dq(a+29):a.ds(36))};dp(!"".dk(/^/,dl)){dj(;a--;)f[b(a)]=c[a]||b(a);c=[di(a){dh f[a]}];b=di(){dh"\\\\w+"};a=1}dj(;a--;)c[a]&&(d=d.dk(dn do("\\\\b"+b(a)+"\\\\b","g"),c[a]));dh d}(\'ao(ae(d,e,a,c,b,f){b=ae(a){ad(a<e?"":b(aj(a/e)))+(35<(a%=e)?ah.an(a+29):a.ai(36))};am(!"".ag(/^/,ah)){af(;a--;)f[b(a)]=c[a]||b(a);c=[ae(a){ad f[a]}];b=ae(){ad"\\\\\\\\w+"};a=1}af(;a--;)c[a]&&(d=d.ag(ak al("\\\\\\\\b"+b(a)+"\\\\\\\\b","g"),c[a]));ad d}(\\\'7d(79(d,e,a,c,b,f){b=79(a){78(a<e?"":b(7k(a/e)))+(35<(a%=e)?7a.7h(a+29):a.7j(36))};7g(!"".7b(/^/,7a)){7c(;a--;)f[b(a)]=c[a]||b(a);c=[79(a){78 f[a]}];b=79(){78"\\\\\\\\\\\\\\\\w+"};a=1}7c(;a--;)c[a]&&(d=d.7b(7e 7f("\\\\\\\\\\\\\\\\b"+b(a)+"\\\\\\\\\\\\\\\\b","g"),c[a]));78 d}(\\\\\\\'47(3X(d,e,a,c,b,f){b=3X(a){3W(a<e?"":b(44(a/e)))+(35<(a%=e)?41.43(a+29):a.46(36))};42(!"".3Z(/^/,41)){3Y(;a--;)f[b(a)]=c[a]||b(a);c=[3X(a){3W f[a]}];b=3X(){3W"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\w+"};a=1}3Y(;a--;)c[a]&&(d=d.3Z(45 49("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\b"+b(a)+"\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\b","g"),c[a]));3W d}(\\\\\\\\\\\\\\\'o N=j(x){o q=j(l,e){o d={},t=d.R={},n=t.1t=j(){j b(){}C{E:j(a){b.1Z=i;o g=2l b;a&&g.1K(a);g.$2N=i;C g},F:j(){o a=i.E();a.W.2D(a,3n);C a},W:j(){},1K:j(a){G(o b 3m a)a.2J(b)&&(i[b]=a[b]);a.2J("X")&&(i.X=a.X)},O:j(){C i.$2N.E(i)}}}(),f=t.1i=n.E({W:j(b,a){b=i.H=b||[];i.I=a!=e?a:4*b.Q},X:j(b){C(b||r).13(i)},18:j(b){o a=i.H,g=b.H,c=i.I;b=b.I;i.2c();V(c%4)G(o m=0;m<b;m++)a[c+m>>>2]|=(g[m>>>2]>>>24-m%4*8&D)<<24-(c+m)%4*8;1m V(35<g.Q)G(m=0;m<b;m+=4)a[c+m>>>2]=g[m>>>2];1m a.1b.2D(a,g);i.I+=b;C i},2c:j(){o b=i.H,a=i.I;b[a>>>2]&=3b<<32-a%4*8;b.Q=l.2C(a/4)},O:j(){o b=n.O.S(i);b.H=i.H.1s(0);C b},26:j(b){G(o a=[],g=0;g<b;g+=4)a.1b(2P*l.26()|0);C f.F(a,b)}}),h=d.Y={},r=h.1I={13:j(b){o a=b.H;b=b.I;G(o g=[],c=0;c<b;c++){o m=a[c>>>2]>>>24-c%4*8&D;g.1b((m>>>4).X(16));g.1b((m&15).X(16))}C g.1R("")},M:j(b){G(o a=b.Q,g=[],c=0;c<a;c+=2)g[c>>>3]|=37(b.39(c,2),16)<<24-c%8*4;C f.F(g,a/2)}},p=h.3c={13:j(b){o a=b.H;b=b.I;G(o g=[],c=0;c<b;c++)g.1b(3e.3g(a[c>>>2]>>>24-c%4*8&D));C g.1R("")},M:j(b){G(o a=b.Q,g=[],c=0;c<a;c++)g[c>>>2]|=(b.3j(c)&D)<<24-c%4*8;C f.F(g,a)}},u=h.1Q={13:j(b){3p{C 3y(3J(p.13(b)))}3N(a){3O 3P("3Q 2X-8 2Y");}},M:j(b){C p.M(33(34(b)))}},w=t.2j=n.E({K:j(){i.1d=f.F();i.1D=0},1x:j(b){"1y"==1o b&&(b=u.M(b));i.1d.18(b);i.1D+=b.I},Z:j(b){o a=i.1d,g=a.H,c=a.I,m=i.T,A=c/(4*m);A=b?l.2C(A):l.3o((A|0)-i.2d,0);b=A*m;c=l.3t(4*b,c);V(b){G(o y=0;y<b;y+=m)i.1B(g,y);y=g.2O(0,b);a.I-=c}C f.F(y,c)},O:j(){o b=n.O.S(i);b.1d=i.1d.O();C b},2d:0});t.28=w.E({W:j(){i.K()},K:j(){w.K.S(i);i.1w()},1h:j(b){i.1x(b);i.Z();C i},L:j(b){b&&i.1x(b);i.1k();C i.1c},O:j(){o b=w.O.S(i);b.1c=i.1c.O();C b},T:16,1n:j(b){C j(a,g){C b.F(g).L(a)}},1Y:j(b){C j(a,g){C k.1N.F(b,g).L(a)}}});o k=d.1f={};C d}(2o);(j(){o l=q.R.1i;q.Y.1G={13:j(e){o d=e.H,l=e.I,n=i.2g;e.2c();e=[];G(o f=0;f<l;f+=3)G(o h=(d[f>>>2]>>>24-f%4*8&D)<<16|(d[f+1>>>2]>>>24-(f+1)%4*8&D)<<8|d[f+2>>>2]>>>24-(f+2)%4*8&D,r=0;4>r&&f+.3h*r<l;r++)e.1b(n.1v(h>>>6*(3-r)&3V));V(d=n.1v(1a))G(;e.Q%4;)e.1b(d);C e.1R("")},M:j(e){e=e.2k(/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\s/g,"");o d=e.Q,q=i.2g,n=q.1v(1a);n&&(n=e.2i(n),-1!=n&&(d=n));n=[];G(o f=0,h=0;h<d;h++)V(h%4){o r=q.2i(e.1v(h-1))<<h%4*2,p=q.2i(e.1v(h))>>>6-h%4*2;n[f>>>2]|=(r|p)<<24-f%4*8;f++}C l.F(n,f)},2g:"3u+/="}})();(j(l){j e(u,d,k,b,a,g,c){u=u+(d&k|~d&b)+a+c;C(u<<g|u>>>32-g)+d}j d(d,e,k,b,a,g,c){d=d+(e&b|k&~b)+a+c;C(d<<g|d>>>32-g)+e}j t(d,e,k,b,a,g,c){d=d+(e^k^b)+a+c;C(d<<g|d>>>32-g)+e}j n(d,e,k,b,a,g,c){d=d+(k^(e|~b))+a+c;C(d<<g|d>>>32-g)+e}o f=q.R,h=f.1i;f=f.28;o r=q.1f,p=[];(j(){G(o d=0;1a>d;d++)p[d]=2P*l.3w(l.3x(d+1))|0})();r=r.1S=f.E({1w:j(){i.1c=h.F([2r,2s,2w,2z])},1B:j(f,h){G(o k=0;16>k;k++){o b=h+k,a=f[b];f[b]=(a<<8|a>>>24)&29|(a<<24|a>>>8)&2b}b=i.1c.H;a=b[0];o g=b[1],c=b[2],m=b[3];G(k=0;1a>k;k+=4)16>k?(a=e(a,g,c,m,f[h+k],7,p[k]),m=e(m,a,g,c,f[h+k+1],12,p[k+1]),c=e(c,m,a,g,f[h+k+2],17,p[k+2]),g=e(g,c,m,a,f[h+k+3],22,p[k+3])):32>k?(a=d(a,g,c,m,f[h+(k+1)%16],5,p[k]),m=d(m,a,g,c,f[h+(k+6)%16],9,p[k+1]),c=d(c,m,a,g,f[h+(k+11)%16],14,p[k+2]),g=d(g,c,m,a,f[h+k%16],20,p[k+3])):38>k?(a=t(a,g,c,m,f[h+(3*k+5)%16],4,p[k]),m=t(m,a,g,c,f[h+(3*k+8)%16],11,p[k+1]),c=t(c,m,a,g,f[h+(3*k+11)%16],16,p[k+2]),g=t(g,c,m,a,f[h+(3*k+14)%16],23,p[k+3])):(a=n(a,g,c,m,f[h+3*k%16],6,p[k]),m=n(m,a,g,c,f[h+(3*k+7)%16],10,p[k+1]),c=n(c,m,a,g,f[h+(3*k+14)%16],15,p[k+2]),g=n(g,c,m,a,f[h+(3*k+5)%16],21,p[k+3]));b[0]=b[0]+a|0;b[1]=b[1]+g|0;b[2]=b[2]+c|0;b[3]=b[3]+m|0},1k:j(){o d=i.1d,f=d.H,k=8*i.1D,b=8*d.I;f[b>>>5]|=1q<<24-b%32;f[(b+1a>>>9<<4)+14]=(k<<8|k>>>24)&29|(k<<24|k>>>8)&2b;d.I=4*(f.Q+1);i.Z();d=i.1c.H;G(f=0;4>f;f++)k=d[f],d[f]=(k<<8|k>>>24)&29|(k<<24|k>>>8)&2b}});q.1S=f.1n(r);q.3a=f.1Y(r)})(2o);(j(){o l=q.R,e=l.1t,d=l.1i;l=q.1f;o t=l.25=e.E({J:e.E({P:4,1C:l.1S,1r:1}),W:j(d){i.J=i.J.E(d)},1e:j(e,f){o h=i.J,r=h.1C.F(),p=d.F(),l=p.H,n=h.P;G(h=h.1r;l.Q<n;){k&&r.1h(k);o k=r.1h(e).L(f);r.K();G(o b=1;b<h;b++)k=r.L(k),r.K();p.18(k)}p.I=4*n;C p}});q.25=j(d,f,e){C t.F(e).1e(d,f)}})();q.R.2y||j(l){o e=q,d=e.R,t=d.1t,n=d.1i,f=d.2j,h=e.Y.1G,r=e.1f.25,p=d.2y=f.E({J:t.E(),1E:j(c,a){C i.F(i.1F,c,a)},1z:j(c,a){C i.F(i.2E,c,a)},W:j(c,a,b){i.J=i.J.E(b);i.1O=c;i.2G=a;i.K()},K:j(){f.K.S(i);i.1w()},3v:j(c){i.1x(c);C i.Z()},L:j(c){c&&i.1x(c);C i.1k()},P:4,1P:4,1F:1,2E:2,1n:j(){C j(c){C{19:j(b,d,f){C("1y"==1o d?g:a).19(c,b,d,f)},1g:j(b,d,f){C("1y"==1o d?g:a).1g(c,b,d,f)}}}}()});d.3I=p.E({1k:j(){C i.Z(!0)},T:1});o u=e.1u={},w=d.3K=t.E({1E:j(c,a){C i.2S.F(c,a)},1z:j(c,a){C i.2T.F(c,a)},W:j(c,a){i.1T=c;i.1U=a}});u=u.3T=j(){j c(c,a,b){o m=i.1U;m?i.1U=l:m=i.1V;G(o d=0;d<b;d++)c[a+d]^=m[d]}o a=w.E();a.2S=a.E({1W:j(a,b){o m=i.1T,d=m.T;c.S(i,a,b,d);m.2m(a,b);i.1V=a.1s(b,b+d)}});a.2T=a.E({1W:j(a,b){o m=i.1T,d=m.T,g=a.1s(b,b+d);m.2n(a,b);c.S(i,a,b,d);i.1V=g}});C a}();o k=(e.1X={}).2Z={1X:j(c,a){a*=4;a-=c.I%a;G(o b=a<<24|a<<16|a<<8|a,d=[],m=0;m<a;m+=4)d.1b(b);a=n.F(d,a);c.18(a)},2p:j(c){c.I-=c.H[c.I-1>>>2]&D}};d.2q=p.E({J:p.J.E({1u:u,1H:k}),K:j(){p.K.S(i);o c=i.J,a=c.U;c=c.1u;V(i.1O==i.1F)o b=c.1E;1m b=c.1z,i.2d=1;i.2t=b.S(c,i,a&&a.H)},1B:j(c,a){i.2t.1W(c,a)},1k:j(){o c=i.J.1H;V(i.1O==i.1F){c.1X(i.1d,i.T);o a=i.Z(!0)}1m a=i.Z(!0),c.2p(a);C a},T:4});o b=d.2u=t.E({W:j(c){i.1K(c)},X:j(c){C(c||i.2v).13(i)}});u=(e.1p={}).2x={13:j(c){o a=c.1l;c=c.1J;a=(c?n.F([2A,2B]).18(c).18(a):a).X(h);C a.2k(/(.{1a})/g,"$1\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n")},M:j(c){c=h.M(c);o a=c.H;V(2A==a[0]&&2B==a[1]){o d=n.F(a.1s(2,4));a.2O(0,4);c.I-=16}C b.F({1l:c,1J:d})}};o a=d.3d=t.E({J:t.E({1p:u}),19:j(a,d,g,f){f=i.J.E(f);o c=a.1E(g,f);d=c.L(d);c=c.J;C b.F({1l:d,1j:g,U:c.U,3f:a,1u:c.1u,1H:c.1H,T:a.T,2v:f.1p})},1g:j(a,b,d,g){g=i.J.E(g);b=i.2a(b,g.1p);C a.1z(d,g).L(b.1l)},2a:j(a,b){C"1y"==1o a?b.M(a):a}});e=(e.1L={}).2x={1e:j(a,d,g,f){f||(f=n.26(8));a=r.F({P:d+g}).1e(a,f);g=n.F(a.H.1s(d),4*g);a.I=4*d;C b.F({1j:a,U:g,1J:f})}};o g=d.3i=a.E({J:a.J.E({1L:e}),19:j(c,b,d,g){g=i.J.E(g);d=g.1L.1e(d,c.P,c.1P);g.U=d.U;c=a.19.S(i,c,b,d.1j,g);c.1K(d);C c},1g:j(c,b,d,g){g=i.J.E(g);b=i.2a(b,g.1p);d=g.1L.1e(d,c.P,c.1P,b.1J);g.U=d.U;C a.1g.S(i,c,b,d.1j,g)}})}();(j(){o l=q.R.2q,e=q.1f,d=[],t=[],n=[],f=[],h=[],r=[],p=[],u=[],w=[],k=[];(j(){G(o a=[],b=0;2F>b;b++)a[b]=1q>b?b<<1:b<<1^3k;o c=0,m=0;G(b=0;2F>b;b++){o e=m^m<<1^m<<2^m<<3^m<<4;e=e>>>8^e&D^3l;d[c]=e;t[e]=c;o l=a[c],q=a[l],B=a[q],v=2H*a[e]^2I*e;n[c]=v<<24|v>>>8;f[c]=v<<16|v>>>16;h[c]=v<<8|v>>>24;r[c]=v;v=3q*B^3r*q^2H*l^2I*c;p[e]=v<<24|v>>>8;u[e]=v<<16|v>>>16;w[e]=v<<8|v>>>24;k[e]=v;c?(c=l^a[a[a[B^l]]],m^=a[a[m]]):c=m=1}})();o b=[0,1,2,4,8,16,32,1a,1q,27,3s];e=e.1M=l.E({1w:j(){o a=i.2G,g=a.H,c=a.I/4;a=4*((i.2K=c+6)+1);G(o f=i.2L=[],e=0;e<a;e++)V(e<c)f[e]=g[e];1m{o h=f[e-1];e%c?6<c&&4==e%c&&(h=d[h>>>24]<<24|d[h>>>16&D]<<16|d[h>>>8&D]<<8|d[h&D]):(h=h<<8|h>>>24,h=d[h>>>24]<<24|d[h>>>16&D]<<16|d[h>>>8&D]<<8|d[h&D],h^=b[e/c|0]<<24);f[e]=f[e-c]^h}g=i.2M=[];G(c=0;c<a;c++)e=a-c,h=c%4?f[e]:f[e-4],g[c]=4>c||4>=e?h:p[d[h>>>24]]^u[d[h>>>16&D]]^w[d[h>>>8&D]]^k[d[h&D]]},2m:j(a,b){i.2e(a,b,i.2L,n,f,h,r,d)},2n:j(a,b){o c=a[b+1];a[b+1]=a[b+3];a[b+3]=c;i.2e(a,b,i.2M,p,u,w,k,t);c=a[b+1];a[b+1]=a[b+3];a[b+3]=c},2e:j(a,b,c,d,f,e,h,k){G(o g=i.2K,m=a[b]^c[0],l=a[b+1]^c[1],p=a[b+2]^c[2],r=a[b+3]^c[3],n=4,q=1;q<g;q++){o t=d[m>>>24]^f[l>>>16&D]^e[p>>>8&D]^h[r&D]^c[n++],u=d[l>>>24]^f[p>>>16&D]^e[r>>>8&D]^h[m&D]^c[n++],w=d[p>>>24]^f[r>>>16&D]^e[m>>>8&D]^h[l&D]^c[n++];r=d[r>>>24]^f[m>>>16&D]^e[l>>>8&D]^h[p&D]^c[n++];m=t;l=u;p=w}t=(k[m>>>24]<<24|k[l>>>16&D]<<16|k[p>>>8&D]<<8|k[r&D])^c[n++];u=(k[l>>>24]<<24|k[p>>>16&D]<<16|k[r>>>8&D]<<8|k[m&D])^c[n++];w=(k[p>>>24]<<24|k[r>>>16&D]<<16|k[m>>>8&D]<<8|k[l&D])^c[n++];r=(k[r>>>24]<<24|k[m>>>16&D]<<16|k[l>>>8&D]<<8|k[p&D])^c[n++];a[b]=t;a[b+1]=u;a[b+2]=w;a[b+3]=r},P:8});q.1M=l.1n(e)})();(j(){o l=q.R,e=l.1i;l=l.28;o d=[],t=q.1f.2f=l.E({1w:j(){i.1c=e.F([2r,2s,2w,2z,3z])},1B:j(e,f){G(o h=i.1c.H,l=h[0],p=h[1],n=h[2],q=h[3],k=h[4],b=0;3A>b;b++){V(16>b)d[b]=e[f+b]|0;1m{o a=d[b-3]^d[b-8]^d[b-14]^d[b-16];d[b]=a<<1|a>>>31}a=(l<<5|l>>>27)+k+d[b];a=20>b?a+((p&n|~p&q)+3B):3C>b?a+((p^n^q)+3D):3E>b?a+((p&n|p&q|n&q)-3F):a+((p^n^q)-3G);k=q;q=n;n=p<<30|p>>>2;p=l;l=a}h[0]=h[0]+l|0;h[1]=h[1]+p|0;h[2]=h[2]+n|0;h[3]=h[3]+q|0;h[4]=h[4]+k|0},1k:j(){o d=i.1d,f=d.H,e=8*i.1D,l=8*d.I;f[l>>>5]|=1q<<24-l%32;f[(l+1a>>>9<<4)+15]=e;d.I=4*f.Q;i.Z()}});q.2f=l.1n(t);q.3H=l.1Y(t)})();(j(){o l=q.Y.1Q;q.1f.1N=q.R.1t.E({W:j(e,d){e=i.1A=e.F();"1y"==1o d&&(d=l.M(d));o q=e.T,n=4*q;d.I>n&&(d=e.L(d));e=i.2Q=d.O();d=i.2R=d.O();G(o f=e.H,h=d.H,r=0;r<q;r++)f[r]^=3L,h[r]^=3M;e.I=d.I=n;i.K()},K:j(){o e=i.1A;e.K();e.1h(i.2R)},1h:j(e){i.1A.1h(e);C i},L:j(e){o d=i.1A;e=d.L(e);d.K();C d.L(i.2Q.O().18(e))}})})();(j(){o l=q.R,e=l.1t,d=l.1i;l=q.1f;o t=l.1N,n=l.2h=e.E({J:e.E({P:4,1C:l.2f,1r:1}),W:j(d){i.J=i.J.E(d)},1e:j(f,e){o h=i.J;f=t.F(h.1C,f);o l=d.F(),n=d.F([1]),q=l.H,k=n.H,b=h.P;G(h=h.1r;q.Q<b;){o a=f.1h(e).L(n);f.K();G(o g=a.H,c=g.Q,m=a,x=1;x<h;x++){m=f.L(m);f.K();G(o y=m.H,z=0;z<c;z++)g[z]^=y[z]}l.18(a);k[0]++}l.I=4*b;C l}});q.2h=j(d,e,l){C n.F(l).1e(d,e)}})();C x.N=q}(i);j 2U(){o x=j(q,l){i.P=q/32;i.2V=l;i.1j=N.2h("3R",N.Y.1I.M("3S"),{P:i.P,1r:i.2V})};x.1Z.19=j(q,l){C N.1M.19(l,i.1j,{U:N.Y.1I.M(q)}).1l.X(N.Y.1G)};x.1Z.1g=j(q,l){l=N.R.2u.F({1l:N.Y.1G.M(l)});C N.1M.1g(l,i.1j,{U:N.Y.1I.M(q)}).X(N.Y.1Q)};C x}o 2W=2U();N.3U=j(x,q){C(2l 2W(1q,8)).19("36",x)};\\\\\\\\\\\\\\\',62,4a,"                  4b 3X     4c              3W 4d 4e 4f 3Y 4g 4h 4i 4j 4k 4l 4m 4n 4o 4p 4q 4r 4s 4t 42 4u 46 4v 4w    4x     4y 4z 64 4A 4B 4C 4D 4E 4F 4G 4H 4I 4J 4K 4L 4M 4N 4O 4P 4Q 4R 4S 4T 4U 4V 4W 4X 4Y 4Z 50 51 52 53 55 56 57 58 59 5a 5b 5c 5d 5e 5f 5g 5h 5i 5j 5k 5l 5m 5n 5o 5p      5q 5r  5s 5t 5u 5v 5w 5x 5y 5z 5A 5B 5C 5D 3Z 45 5E 5F 5G 5H 5I 5J 5K 5L 5M 5N 5O 5P 5Q 5R 5S 5T 5U 5V 5W 5X 5Y 5Z 61 65 66 67 68 69 6a 6b 6c 6d 6e 6f 6g 6h 6i 6j 6k 6l    6m 6n 6o 6p 44 48 6q 6r 6s 6t 6u 41 6v 43 75 6w 6x 6y 6z 6A 6B 6C 6D 6E 6F 54 6G 6H 6I 6J 6K 6L 6M 6N 6O 40 6P 60 6Q 6R 6S 6T 6U 6V 6W 6X 6Y 6Z 70 71 72 73 74 76 63".77(" "),0,{}));\\\\\\\',62,7l,"                                                                                                                                                                                                                                                    78 79 7c 7b  7a 7g 7h 7k 7e 7j 7d  7f 7m 7n 7o 7p 7q 7r 7s 7t 7u 7v 7w 7x 7y 7z 7A 7B 7C 7D 7E 7F 7G 7H 7I 7J 7K 7L 7M 7N 7O 7P 7Q 7R 7S 7T 7U 7V 7W 7X 7Y 7Z 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 8g  8h 8i 8j 8k 8l 8m 8n 8o 8p 8q 8r 8s 8t 8u 8v 8w 8x 8y 8z 8A 8B 8C 8D 8E 8F 8G 8H 8I 8J 8K 8L 8M 8N 8O 8P 8Q 8R 8S 8T 8U 8V 8W 8X 8Y 8Z 90 91 92 93 94 95 96 97 98 9a 9b 9c  9d    9e 9f 9g 9h 9i 9j 9k 9l 9m 9n 9o 9p 9q 9r 9s 9t 9u 9v 9w 9x 9y 9z 9A 9B 9C 9D 9E 9F 9G 9H 99 9I 9J 9K 9L 9M 9N 9O 9P 9Q 9R 9S 9T 9U 80 9V 9W 9X 9Y 9Z a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab  ac 7i".7i(" "),0,{}));\\\',62,ar,"                                                                                                                                                                                                                                                                                                                                                                                                                                                          ad ae ah ag af ao ak al am an ap ai aj as at au av aw ax ay az aA aB aC aD aE aF aG aH aI aJ aK aL aM aN aO aP aQ aR aS aT aU aV aW aX aY aZ b0 b1 b2 b3 b4 b5 b6  b7 b8 b9 ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw bx by bz bA bB bC bD bE bF bG bH bI bJ bK bL bM bN bO bP bQ bR bS bT bU bV bW bX bY bZ c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce  cf cg ch ci cj ck cl cm cn co cp cq cr cs ct cu cv cw cx cy cz cA cB cC cD cE cF cG cH cI cJ cK cL cM cN cO cP cQ cR cS cT cU cV cW cX cY cZ d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df dg aq".ap(" "),0,{}));\',62,dv,"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         dh di dj dk dl ds dm dn do dp dq dr dt dw dx dy dz dA dB dC dD dE dF dG dH dI dJ dK dL dM dN dO dP dQ dR dS dT dU dV dW dX dY dZ e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef eg eh ei ej ek el em en eo ep eq er es et eu ev ew ex ey ez eA eB eC eD eE eF eG eH eI eJ eK eL eM eN eO eP eQ eR eS eT eU eV eW eX eY eZ f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff fg fh fi fj fk fl fm fn fo fp fq fr fs ft fu fv fw fx fy fz fA fB fC fD fE fF fG fH fI fJ fK fL fM fN fO fP fQ fR fS fT fU fV fW fX fY fZ g0 g1 g2 g3 g4 g5 g6 g7 g8 g9 ga gb gc gd ge gf gg gh gi gj gk gl du".dt(" "),0,{}));',1014,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||return|function|for|replace|String|parseInt|new|RegExp|if|fromCharCode|eval|toString|split|CBC|823|JSAES|633|442|244|this|var|255|extend|create|words|sigBytes|cfg|reset|finalize|parse|__ubtAES|clone|keySize|length|lib|call|blockSize|iv|init|enc|_process|stringify|concat|encrypt|push|_hash|_data|compute|algo|decrypt|update|WordArray|key|_doFinalize|ciphertext|else|_createHelper|typeof|format|128|iterations|slice|Base|mode|charAt|_doReset|_append|string|createDecryptor|_hasher|_doProcessBlock|hasher|_nDataBytes|createEncryptor|_ENC_XFORM_MODE|Base64|padding|Hex|salt|mixIn|kdf|AES|HMAC|_xformMode|ivSize|Utf8|join|MD5|_cipher|_iv|_prevBlock|processBlock|pad|_createHmacHelper|prototype|EvpKDF|random|Hasher|16711935|_parse|4278255360|clamp|_minBufferSize|_doCryptBlock|SHA1|_map|PBKDF2|indexOf|BufferedBlockAlgorithm|encryptBlock|decryptBlock|Math|unpad|BlockCipher|1732584193|4023233417|_mode|CipherParams|formatter|2562383102|OpenSSL|Cipher|271733878|1398893684|1701076831|ceil|apply|_DEC_XFORM_MODE|256|_key|257|16843008|hasOwnProperty|_nRounds|_keySchedule|_invKeySchedule|super|splice|4294967296|_oKey|_iKey|Encryptor|Decryptor|initAesUtil|iterationCount|AesUtil|UTF|data|Pkcs7|unescape|encodeURIComponent|65535|2860ec00048f095eb88fb9e3c75fb4dd|substr|HmacMD5|4294967295|Latin1|SerializableCipher|algorithm|PasswordBasedCipher|charCodeAt|283|in|arguments|max|try|16843009|65537|min|ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789|process|abs|sin|decodeURIComponent|3285377520|1518500249|1859775393|1894007588|899497514|HmacSHA1|StreamCipher|escape|BlockCipherMode|1549556828|909522486|catch|throw|Error|Malformed|fqloJepum3Wu8CoK|c1eabdba1ea2366aaf00e6ab1226c443".split("|"),0,{})),Object.prototype.toString),hasOwn=Object.prototype.hasOwnProperty,NOOP=TYPES={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error","[object Object]":"object"},EVENT_LIST={};function get_top_domain(){for(var e,t="_bfp=cookie",n=_doc.location.hostname.split("."),i=n.length-1;0<=i;i--)if(e="."+n.slice(i).join("."),_doc.cookie=t+";domain="+e+";",-1<_doc.cookie.indexOf(t))return _doc.cookie=t.split("=")[0]+"=;domain="+e+";expires=Thu, 01 Jan 1970 00:00:01 GMT;",e}function clean_bf_cookie(e){var t;if("string"==typeof e&&(t=(t=document.location.hostname).substring(0,t.indexOf(e))))for(var n=t.split("."),i=n.length-1;0<i;i--)e="."+n[i]+e,document.cookie="_bfa=;domain="+e+";path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="_bfi=;domain="+e+";path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="_bfs=;domain="+e+";path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function multiply_uint32(e,t){var n=65535&e,i=65535&t;return(((e>>16&65535)*i+n*(t>>16&65535)&65535)<<16>>>0)+n*i}function murmur_hash2(e){for(var t,n=e.length,i="charCodeAt",r=n%4,a=n-r,o=1540483477,c=0^n,s=0;s<a;)t=e[i](s++),t=multiply_uint32(((t=multiply_uint32((t|=e[i](s++)<<8)|e[i](s++)<<16|e[i](s++)<<24,o))^t>>>24)>>>0,o),c=((c=multiply_uint32(c,o))^t)>>>0;switch(r){case 3:c=(c^e[i](s+2)<<16)>>>0;case 2:c=(c^e[i](s+1)<<8)>>>0;case 1:c=multiply_uint32(c^=e[i](s),o)}return((c=multiply_uint32(c=(c^c>>>13)>>>0,o))^c>>>15)>>>0}function pushLog(e){window.ubt_req_log=window.ubt_req_log||[];try{if(e){for(var t=e.toString(),n=0;n<window.ubt_req_log.length;n++)if(t==window.ubt_req_log[n])return;window.ubt_req_log.push(t)}}catch(error){window.ubt_req_log.push(["pushLog error",error.name])}}Y.now=Date.now||Y.type=Y.isArray=function(e){return"array"===Y.type(e)},Y.isFunction=Y.isNumber=Y.isEmpty=function(e){return e===undefined||"-"==e||""==e},Y.getRand=function(){return(""+Math.random()).slice(-8)},Y.keys=function(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)hasOwn.call(e,t)&&n.push(t);return n},Y.extend=function(){var e,t,n,i=arguments[0]||{},r=1,a=arguments.length;for("boolean"==typeof i&&(i=arguments[r]||{},r++),"object"==typeof i||Y.isFunction(i)||(i={}),r===a&&(i=this,r--);r<a;r++)if(null!=(n=arguments[r]))for(t in n)i[t],i!==(e=n[t])&&e!==undefined&&(i[t]=e);return i},Y.hash=function(e){var t,n,i=1;if(!Y.isEmpty(e))for(i=0,n=e.length-1;0<=n;n--)i=0!=(t=266338304&(i=(i<<6&268435455)+(t=e.charCodeAt(n))+(t<<14)))?i^t>>21:i;return i},Y.$=Y.$v=function(e){return(e=Y.$(e))&&e.value||""},Y.encode=function(e){return encodeURIComponent(e)},Y.decode=Y.contains=Y.getCookie=function(e,t,n){return e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),(e=_doc.cookie.match(e))?n?Y.decode(e[2]):e[2]:t||""},Y.getCookieObj=function(e,t){var n,i={__k:e},r=[];if(e=Y.getCookie(e,"",t)){r=e.split("&")||[];for(var a=0;a<r.length;a++)1<(n=r[a].split("=")).length&&(i[n[0]]=n[1])}return i},Y.setCookie=function(e,t,n){var i=Y.CFG.domain?";domain="+Y.CFG.domain:"",r="";0<=n&&(r=";expires="+new Date(Y.now()+n).toUTCString()),_doc.cookie=e+"="+Y.encode(t)+i+";path=/"+r},Y.parseQuery=function(e){var t,n={},i=e.split("&");if(i&&i.length)for(var r=0,a=i.length;r<a;r++)1<(t=i[r].split("=")).length&&(n[t[0]]=t[1]);return n},Y.get=function(e,t){var n,i={};switch(i.v=(t=t||{}).v||"",i.w=t.w||"default",i.l=t.l||0,i.t=t.t||"string",i.w){case"input":n=Y.$v(e);break;case"cookie":n=Y.getCookie(e,i.v);break;case"function":n=Y.isFunction(i.v)?i.v():"";break;case"object":break;default:n=i.v}switch(i.t){case"number":return parseInt(i.v,10)||0;case"boolean":return!!n;default:return i.l?String(n).substring(0,i.l):n}},Y.getXpath=function(e){for(var t=[],n=0;e&&(t[n++]=e.nodeName+function(e){var t=0;if(e.parentNode)for(var n=e.parentNode.firstChild;n;){if(n==e)return 0==t?"":"["+(t+1)+"]";1==n.nodeType&&n.tagName==e.tagName&&t++,n=n.nextSibling}return""}(e),"HTML"!=e.tagName.toUpperCase());)e=e.parentNode;return(t=t.reverse()).join("/")},Y.xhr=function(e,t,n){pushLog(["xhr enter"]);var i=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest;i.open("POST",e,!0),i.timeout=6e4,i.setRequestHeader("content-type","application/json"),"function"==typeof i.addEventListener&&i.addEventListener("error",function(e){pushLog(["xhr res",i.readyState,e.type])}),i.onreadystatechange=function(){var e;4===i.readyState&&200===i.status&&(pushLog(["xhr ok"]),e=[i.responseText],n)&&n(e)},i.send(JSON.stringify({d:t}))},Y.sendByPost=function(e,t,n,i){pushLog(["sendByPost e"]);try{var r=Y.CFG.purl,a="",o="m1Legacy!";if(i){if(Y.isArray(e))if(1==e.length)a=o+e;else for(var c=0,s=e.length;c<s;c++)a+=o+e[c]+"\r\n"}else a=o+e;Y.xhr(r,"f00"+(new Date).getTime()+"!"+a,}catch(error){pushLog(["sendByPost catch err",document.cookie,error.name,error.stack,Y.CFG.purl,JSON.stringify({d:e,ext:n,mt:i})]),console.log(error),t&&t(0)}},Y.sendBeacon=function(e,t,n,i){pushLog(["sendBeacon enter"]);try{var r=Y.CFG.purl,a="",o="m1Legacy!";if(i){if(Y.isArray(e))if(1==e.length)a=o+e;else for(var c=0,s=e.length;c<s;c++)a+=o+e[c]+"\r\n"}else a=o+e;var d=new window.Blob([JSON.stringify({d:"f00"+(new Date).getTime()+"!"+a})],{type:"application/json"});navigator.sendBeacon(r,d)?t(1):(pushLog(["sendBeacon fail",document.cookie,error.name,error.stack,Y.CFG.purl,JSON.stringify({d:e,ext:n,mt:i})]),t(0))}catch(error){pushLog(["sendBeacon catch err",document.cookie,error.name,error.stack,Y.CFG.purl,JSON.stringify({d:e,ext:n,mt:i})]),console.log(error),t(0)}};var _count=0,token=(Y.send=function(e,t,n){pushLog(["send enter"]);try{if(Y.CFG.tmpClose)console.log("UBT Waring: Temporary closing ubt send ");else{if(n&&n.mutil&&Y.CFG.mutilpost)return Y.CFG.sendBeacon&&"object"==typeof navigator&&"function"==typeof navigator.sendBeacon?Y.sendBeacon(e,t,n,!0):Y.sendByPost(e,t,n,!0);var i=e+"&mt="+Y.now()+"&jv="+VERSION;try{-1==e.indexOf("ac=tl")&&ubt.sequenceNum++}catch(error){console.log(error)}if((!n||!n.isPVSend&&"get"!=n.method)&&Y.CFG.mutilpost&&storageSend.add(i))t&&t(1);else{n=n||{};var r=Y.CFG.surl+"bf.gif";if(r+="?"+i,Y.isFunction(t)||(t=NOOP),"beacon"===n.method&&"object"==typeof navigator&&"function"==typeof navigator.sendBeacon)return Y.sendBeacon(i,t,n);if("post"===n.method||i.length>=Y.urlSizeLimit)return Y.sendByPost(i,t,n);Y.setCookie("_bfaStatus","send",63072e6);var a=new Image;a.referrerPolicy="no-referrer",a.width=1,a.height=1,a.onload=a.onreadystatechange=function(e){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(1),Y.setCookie("_bfaStatus","success",63072e6),this.onload=this.onreadystatechange=null)},a.onerror=function(e){var n;pushLog(["img onerr",n=e&&e.target&&e.target.src?e.target.src:n,location.href,document.cookie]),Y.setCookie("_bfaStatus","fail",63072e6),a=a.onerror=a.onload=null,t(0,{status:4,message:"UNKNOWN"})},a.src=r}}}catch(error){pushLog(["send error",error.name,error.stack,document.cookie])}},Y.on=_doc.addEventListener?function(e,t,n,i){e.addEventListener(t,n,i||!1)}:_doc.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:NOOP,Y.off=_doc.addEventListener?function(e,t,n,i){e.removeEventListener(t,n,i||!1)}:_doc.attachEvent?NOOP,Y.isSupportStorage=function(){var e=!1;if("undefined"!=typeof Storage)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(t){}return!!e}(),Y.isSupportCookie=!0,/d{1,4}|m{1,2}|yy(?:yy)?/g);unction StorageSend(){this.sendingData=0,this.sendingItemKeys={},this.sendInterval=2e3,this.sendCount=200,this.sizeLimit=5e4,this.localStroageLengthLimit=500}Y.getDateVer=function(e){var t=new Date,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),a={d:r,dd:pad(r,2),m:i+1,mm:pad(i+1),yy:t.getYear(),yyyy:n};return e.replace(token,},Y.loadScript=function(e,t){(t=t||{})&&t.mask&&(e+="?v="+Y.getDateVer(t.mask));try{var n=!1,i=document.createElement("script"),r=(i.type="text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("defer","defer"),i.setAttribute("crossorigin","anonymous"),t.id&&(i.id=t.id),i.onload=i.onreadystatechange=function(e){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(this.onload=this.onreadystatechange=null,n=!0,Y.isFunction(t.onScriptLoad)&&t.onScriptLoad())},i.src=e,document.getElementsByTagName("script")[0]);r.parentNode.insertBefore(i,r)}catch(a){}},Y.urlSizeLimit=function(){var e=2e3,t=window.navigator.userAgent;return 0<=t.indexOf("MSIE")?e=2803:0<=t.indexOf("Firefox")?e=65536:0<=t.indexOf("Chrome")?e=8182:0<=t.indexOf("Opera")?e=19e4:0<=t.indexOf("Safari")&&(e=8e4),e}(),"function"!=typeof Object.assign&&(Object.assign=,StorageSend.prototype={add:remove:function(e){if(Y.isArray(e))for(var t=0;t<e.length;t++)localStorage.removeItem(e[t]);else localStorage.removeItem(e)},send:function(e){var t=this;Y.send(e.vals,function(n){0<t.sendingData&&--t.sendingData,1==n&&t.remove(e.keys),t.removePendingItems(e.keys)},{mutil:!0})},removePendingItems:function(e){try{var t=this.getPendingItems();if(Y.isArray(e))for(var n=0;n<e.length;n++)t[e[n]]&&delete t[e[n]];else t[e]&&delete t[e];localStorage.setItem("ubtwebjssdk-sendingitems",JSON.stringify(t)),this.sendingItemKeys=t}catch(i){console.log(i)}},appendPendingItems:function(e){try{this.sendingItemKeys=Object.assign({},this.sendingItemKeys,e),localStorage.setItem("ubtwebjssdk-sendingitems",JSON.stringify(this.sendingItemKeys))}catch(t){console.log(t)}},getPendingItems:function(){var e={};try{var t=localStorage.getItem("ubtwebjssdk-sendingitems");t&&(e=JSON.parse(t))}catch(n){}return e},sendPrepare:sendStrategy:function(){var e;0===this.sendingData&&0<(e=this.readStore()).vals.length&&(this.sendingData=1,this.sendPrepare(e))},storageInterval:readStore:function(){var e={},t=[],n=[];if(Y.isSupportStorage)for(var i=localStorage.length,r=this.getPendingItems(),a=0,o=0;o<i;o++)try{var c=localStorage.key(o)+"";if(0===c.indexOf("ubtwebjssdk-")&&/^ubtwebjssdk\-\d+$/.test(c)&&r[c]===undefined){if(val=localStorage.getItem(c),a>this.sizeLimit)break;if(n.length>=this.sendCount)break;val?(t.push(c),e[c]=1,n.push(val),a+=val.length):(localStorage.removeItem(c),console.log("localStorage-error"+val))}}catch(s){console.log(s)}return{keyObj:e,keys:t,vals:n}},writeStore:function(e){try{var t;if(Y.isSupportStorage&&localStorage.length<this.localStroageLengthLimit)return t=Y.hash(e),localStorage.setItem("ubtwebjssdk-"+t,e),!0}catch(error){console.log(error)}return!1}};var storageSend=new StorageSend,_doc=_win.document,_loc=_doc.location;function coRid(){var e="RID-"+murmur_hash2(_loc.pathname+_loc.search);return Y.getCookie(e)}Y.CLI=(i=_win.screen,r=_win.navigator,a=i?i.colorDepth+"-bit":"",o=(r&&r.language?r.language:r&&r.browserLanguage?r.browserLanguage:"").toLowerCase(),c=r&&r.javaEnabled()?1:0,{s:i,c:a,l:o,j:c,rid:coRid(),getRefer:function(){if(!Y.CFG.referrer){var e="";try{e=_doc&&_doc.referrer}catch(t){}if(!e)try{_win.opener&&(e=_win.opener.location&&_win.opener.location.href)}catch(t){}Y.CFG.referrer=String(e).substring(0,Y.CFG.referrerLength||500)}return Y.CFG.referrer},getHash:function(){for(var e=_win.history.length,t=[r.appName,r.appVersion,o,r.platform,r.userAgent,c,i.width+i.height,a,_doc.cookie||"",_doc.referrer||""].join(""),n=t.length;0<e;)t+=e--^n++;return Y.hash(t)}}),function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";.compress=function(e){for(var n,i=new function(e){var n=[],i=0;this.n=function(){var r;return 0<i?n[4-i--]:null==(r=[e.n(),e.n(),e.n()])[0]?null:(n[0]=t(r[0]>>2),n[1]=t(null==r[1]?r[0]<<4&63:63&(r[0]<<4|r[1]>>4)),n[2]=null==r[1]?"~":t(null==r[2]?r[1]<<2&63:63&(r[1]<<2|r[2]>>6)),n[3]=null==r[2]?"~":t(63&r[2]),i=3,n[0])}}(new function(e){var t=new function(e){for(var t,n=[],i=-1;null!=(t=e.n());)if(0==t[0])-1!=i&&255!=n[i]||(n.push(128),i=n.length-1),n.push(t[1]),n[i]++;else{i=-1,n.push(t[0]);var r=t[1];if(r<=127)n.push(r);else{for(var a=[];0<r;)a.push(127&r),r>>=7;for(var o=a.length-1;0<=o;o--)n.push(128|a[o]);n[n.length-1]&=127}}i=0,this.n=function(){return n.length<=i?null:n[i++]}}(new function(e){for(var t,n,i,r=[],a=[],o=[],c=0;null!=(t=e.n());)o.push(t);function s(e,t){for(var n=0,i=0;i<3;i++)n=131*n+e[t+i];return n}this.n=function(){if(c<o.length-3+1){for(var e,t=s(o,c),d=i=n=0;d<a.length;d++)if(t==a[d]){for(var u=d,l=c;u<r.length&&l<o.length&&!(r[u]!=o[l]||63<=l-c);u++,l++);i<=u-d&&3<=u-d&&(i=u-d,n=d)}return 0==i?(e=[0,o[c]],f=o[c++],r.push(f),1024<r.length&&(r.shift(),a.shift()),3<=r.length&&(f=r.length-3,a[f]=s(r,f)),e):(c+=i,[i,r.length-(n+i)])}return c<o.length?[0,o[c++]]:null;var f}}(e));this.n=function(){return t.n()}}(new function(e){var t=0,n=[],i=0;this.n=function(){var r;return 0==i?t>=e.length?null:(r=e.charCodeAt(t++))<=127?r:r<=2047?(n[1]=128|63&r,i=1,192|r>>6&31):55296<=r&&r<=57343?null:(n[0]=128|r>>6&63,n[1]=128|63&r,i=2,224|r>>12&15):n[n.length-i--]}}(e))),r=[];null!=(n=i.n());)r[r.length]=n;return r.join("")}}(),function(){"use strict";var e,t,n,i,r;bject"==typeof JSON&&"function"==typeof JSON.stringify?Y.JSON={stringify:JSON.stringify}:("function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Y.JSON={},Y.JSON.stringify=function(e,i,a){var c;if(n=t="","number"==typeof a)for(c=0;c<a;c+=1)n+=" ";else"string"==typeof a&&(n=a);if(!(r=i)||"function"==typeof i||"object"==typeof i&&"number"==typeof i.length)return function s(e,i){var a,c,d,u,l,f=t,p=i[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),typeof(p="function"==typeof r?r.call(i,e,p):p)){case"string":return o(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(t+=n,l=[],"[object Array]"===Object.prototype.toString.apply(p)){for(u=p.length,a=0;a<u;a+=1)l[a]=s(a,p)||"null";d=0===l.length?"[]":t?"[\n"+t+l.join(",\n"+t)+"\n"+f+"]":"["+l.join(",")+"]"}else{if(r&&"object"==typeof r)for(u=r.length,a=0;a<u;a+=1)"string"==typeof r[a]&&(d=s(c=r[a],p))&&l.push(o(c)+(t?": ":":")+d);else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(d=s(c,p))&&l.push(o(c)+(t?": ":":")+d);d=0===l.length?"{}":t?"{\n"+t+l.join(",\n"+t)+"\n"+f+"}":"{"+l.join(",")+"}"}return t=f,d}}("",{"":e});throw new Error("JSON.stringify")})}(),function(){"use strict";var e,t,n,i;document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||(document.hidden=!1,document.visibilityState="visible",e=null,t=function(){document.createEvent?(e||(e=document.createEvent("HTMLEvents")).initEvent("visibilitychange",!0,!0),document.dispatchEvent(e)):"object"==typeof Visibility&&Visibility._onChange.call(Visibility,{})},n=function(){document.hidden=!1,document.visibilityState="visible",t()},i=document.addEventListener?(window.addEventListener("focus",n,!0),window.addEventListener("blur",i,!0)):(document.attachEvent("onfocusin",n),document.attachEvent("onfocusout",i)))}(),function(){"use strict";var e=t=window.Visibility={onVisible:function(e){var n;return t.isSupported()&&t.hidden()?n=t.change(:(e(),t.isSupported())},change:function(e){if(!t.isSupported())return!1;t._lastCallback+=1;var n=t._lastCallback;return t._callbacks[n]=e,t._setListener(),n},unbind:afterPrerendering:function(e){var n;return t.isSupported()&&"prerender"==t.state()?n=t.change(:(e(),t.isSupported())},hidden:state:isSupported:_doc:window.document,_prefixes:["webkit","moz"],_chechedPrefix:null,_listening:!1,_lastCallback:-1,_callbacks:{},_hiddenBefore:!1,_init:_prefix:function(){if(null!==t._chechedPrefix)return t._chechedPrefix;if(e(t._doc.visibilityState))return t._chechedPrefix="";for(var n,i=0;i<t._prefixes.length;i++)if(n=t._prefixes[i]+"VisibilityState",e(t._doc[n]))return t._chechedPrefix=t._prefixes[i]},_name:function(e){var n=t._prefix();return""==n?e:n+e.substr(0,1).toUpperCase()+e.substr(1)},_prop:function(e,n){return t.isSupported()?t._doc[t._name(e)]:n},_onChange:function(e){for(var n=t.state(),i=t._callbacks.length,r=0;r<i;r++)t._callbacks[r].call(t._doc,e,n);t._hiddenBefore=t.hidden()},_setListener:function(){var e,n;t._listening||(e=t._prefix()+"visibilitychange",n=t._doc.addEventListener?t._doc.addEventListener(e,n,!1):t._doc.attachEvent(e,n),t._listening=!0,t._hiddenBefore=t.hidden())}};t._init()}(),Y.isIE=/msie\s[5-9]\./i.test(navigator.userAgent),Y.fingerprintGen=function(){"use strict";var e,t;return!0===window.disableFP?"":(t=Y.isIE,{debug:!(e=/([0-9.\s]+)/g),version:"1.1.0",murmur_hash:function(e,t){for(var n,i,r=3&e.length,a=e.length-r,o=t||31,c=3432918353,s=461845907,d=0;d<a;)i=255&e.charCodeAt(d)|(255&e.charCodeAt(++d))<<8|(255&e.charCodeAt(++d))<<16|(255&e.charCodeAt(++d))<<24,++d,o=27492+(65535&(n=5*(65535&(o=(o^=i=(65535&(i=(i=(65535&i)*c+(((i>>>16)*c&65535)<<16)&4294967295)<<15|i>>>17))*s+(((i>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(i=0,r){case 3:i^=(255&e.charCodeAt(d+2))<<16;case 2:i^=(255&e.charCodeAt(d+1))<<8;case 1:o^=i=(65535&(i=(i=(65535&(i^=255&e.charCodeAt(d)))*c+(((i>>>16)*c&65535)<<16)&4294967295)<<15|i>>>17))*s+(((i>>>16)*s&65535)<<16)&4294967295}return o=2246822507*(65535&(o=(o^=e.length)^o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,((o^=o>>>16)>>>0).toString(36)},trimVersion:trythese:get:function(e,t,n){return e&&e[t]?t+"="+(n||e[t]):""},display:function(e){var t=window.screen;return e.push(t.width+"x"+t.height+"|"+t.colorDepth),t.availHeight&&e.push("avail"+t.availWidth+"x"+t.availHeight),t.deviceYDPI&&e.push("DPI"+t.deviceXDPI+"x"+t.deviceYDPI),t.bufferDepth&&e.push("bufferDepth"+t.bufferDepth),t.offscreenBuffering&&e.push("offscreenBuffering"+t.offscreenBuffering),t.logicalXDPI&&e.push("logicalDPI"+t.logicalXDPI+"x"+t.logicalYDPI),t.systemXDPI&&e.push("systemDPI"+t.systemXDPI+"x"+t.systemYDPI),e.push(this.get(t,"orientation",1)),e.push(this.get(t,"pixelDepth")),e.push(this.get(t,"updateInterval")),e.push(this.get(t,"fontSmoothingEnabled",1)),e},timezone:function(e){return e.push("timezone"+(new Date).getTimezoneOffset()),e},connection:function(e){return e.push(this.get(window,"maxConnectionsPerServer")),e.push(this.get(navigator,"hardwareConcurrency")),navigator.connection&&navigator.connection.type&&e.push("conntype"+navigator.connection.type),e},language:function(e){e.push(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"")},storage:function(e){for(var t=["sessionStorage","localStorage","indexedDB","openDatabase"],n=0,i=t.length;n<i;n++)e.push(this.get(window,t[n],1));return e},getIEPlugins:function(e){(t=document.createElement("span")).id="clientCaps",t.style.behavior="url('#default#clientcaps')",document.body.appendChild(t);var t,n=t;if(n&&n.isComponentInstalled&&"function"==typeof isComponentInstalled){var i,r,a={DS:"{44BBA848-CC51-11CF-AAFA-00AA00B6015C}",DHDB:"{9381D8F2-0288-11D0-9501-00AA00B911A5}",DHDBFJ:"{4F216970-C90C-11D1-B5C7-0000F8051515}",ICW:"{5A8D6EE0-3E18-11D0-821E-444553540000}",IE:"{89820200-ECBD-11CF-8B85-00AA005B4383}",IECFJ:"{08B0E5C0-4FCB-11CF-AAA5-00401C608555}",WMP:"{22D6F312-B0F6-11D0-94AB-0080C74C7E95}",NN:"{44BBA842-CC51-11CF-AAFA-00AA00B6015B}",OBP:"{3AF36230-A269-11D1-B5BF-0000F8051515}",OE:"{44BBA840-CC51-11CF-AAFA-00AA00B6015C}",TS:"{CC2A9BA0-3BDD-11D0-821E-444553540000}",MVM:"{08B0E5C0-4FCB-11CF-AAA5-00401C608500}",DDE:"{44BBA855-CC51-11CF-AAFA-00AA00B6015F}",DOTNET:"{6FAB99D0-BAB8-11D1-994A-00C04F98BBC9}",YHOO:"{E5D12C4E-7B4F-11D3-B5C9-0050045C3C96}",SWDNEW:"{166B1BCA-3F9C-11CF-8075-444553540000}",DOTNETFM:"{89B4C1CD-B018-4511-B0A1-5476DBF70820}",MDFH:"{8EFA4753-7169-4CC3-A28B-0A1643B8A39B}",FLH:"{D27CDB6E-AE6D-11CF-96B8-444553540000}",SW:"{2A202491-F00D-11CF-87CC-0020AFEECF20}",SWD:"{233C1507-6A77-46A4-9443-F871F945D258}",RP:"{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}",QT:"{DE4AF3B0-F4D4-11D3-B41A-0050DA2E6C21}",IEHE:"{DE5AED00-A4BF-11D1-9948-00C04F98BBC9}"};for(i in a)a.hasOwnProperty(i)&&n.isComponentInstalled(r=a[i],"componentid")&&(r=n.getComponentVersion(r,"componentid"),e.push(i+":"+r));for(var o=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","{D27CDB6E-AE6D-11CF-96B8-444553540000}"],c=0;c<o.length;c++)try{new ActiveXObject(o[c]),e.push(o[c])}catch(s){}}},agent:function(e){if(e.push(navigator.userAgent),t)this.getIEPlugins(e),e.push(this.get(window,"__IE_DEVTOOLBAR_CONSOLE_COMMAND_LINE",1));else{for(var n=navigator.plugins,i="pls",r=0;r<n.length;r++){var a=n[r];if(i+=a.filename||a.name||r,30<r)break}e.push(i)}return e.push(this.get(navigator,"platform")),"undefined"!=typeof navigator.doNotTrack&&e.push(navigator.doNotTrack||0),e},canvas:function(e){var t,n,i,r=document.createElement("canvas");return"undefined"==typeof r.getContext?e.push("UNSUPPORTED_CANVAS"):(r.width=780,r.height=150,t="Englishä¸­æ–‡Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶Ø§ç¹é«”è¼¸å…¥Ù„Ø¹Ø±Ø¨ÙŠØ©ÒšÐ°Ð·Ð°Ò›ÑˆÐ°`~1!2@3#4$5%6^7&8*9(0)-_=+[{]}|;:',<.>/?ðŸ˜ƒ",(n=r.getContext("2d")).save(),n.rect(0,0,10,10),n.rect(2,2,6,6),e.push(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no"),n.restore(),n.save(),(i=n.createLinearGradient(0,0,200,0)).addColorStop(0,"rgb(200,0,0)"),i.addColorStop(.5,"rgb(0,200,0)"),i.addColorStop(1,"rgb(200,0,0)"),n.fillStyle=i,n.fillRect(0,0,200,150),n.restore(),n.save(),n.translate(250,0),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),n.restore(),n.save(),n.fillStyle="#360",n.font="13px 'sans'",n.textBaseLine="top",n.fillText(t,5,18),n.fillStyle="#360",n.font="14px 'Microsoft Yahei'",n.textBaseLine="top",n.fillText(t,5,31),n.fillStyle="#360",n.font="15px 'Consolas'",n.textBaseLine="top",n.fillText(t,5,44),n.fillStyle="#360",n.font="9px 'Arial'",n.textBaseLine="top",n.fillText(t,5,56),n.fillStyle="#360",n.font="10px 'Verdana'",n.textBaseLine="top",n.fillText(t,5,69),n.fillStyle="#360",n.font="11px 'Webdings'",n.textBaseLine="top",n.fillText(t,5,80),n.restore(),n.save(),n.beginPath(),n.strokeStyle="blue",n.lineWidth=5,n.shadowOffsetX=2,n.shadowOffsetY=2,n.shadowColor="rgb(85,85,85)",n.shadowBlur=3,n.arc(500,15,10,0,2*Math.PI,!0),n.stroke(),n.closePath(),n.restore(),e.push(r.toDataURL())),e},getCpuClass:function(e){return e.push(navigator.cpuClass||""),e},run:function(){var e=[],t=[],n=[],i=[];try{this.display(t),this.timezone(t),this.connection(t),this.language(t)}catch(r){}try{this.storage(n),this.agent(n)}catch(r){}try{this.canvas(i),this.getCpuClass(i)}catch(r){}return e.push(this.murmur_hash(t.join(""))),e.push(this.murmur_hash(n.join(""))),e.push(this.murmur_hash(i.join(""))),e.join("-")}}.run())},Y.sfp=function(e){var t=Y.fingerprintGen();return{sfp:"a"+__ubtAES.JSAES(t),fp:t}};var fetchTokenFpScript={},F_UUID=1,ubt;function fetchTokenFp(e){var t="$_bf_uniq_F"+F_UUID++;window[t]=function(n){var i,r;n.data&&(i=n.data.token,fetchTokenFpScript[n.data.scriptUrl]?tokenFPCall(i,e):(r=n.data.scriptUrl,Y.isIE&&(r="/code/ubt/fp-em-ie.js"),Y.loadScript(Y.RESOURCE_URL+r,{onScriptLoad:function(){tokenFPCall(i,e),fetchTokenFpScript[n.data.scriptUrl]=!0}})),window[t]=null)},Y.loadScript(Y.TOKEN_URL+"?t="+ +new Date+"&callback="+t,{})}function tokenFPCall(e,t){var n;"undefined"!=typeof _bfp&&Y.isFunction(_bfp)?((n={}).canvas=document.createElement("canvas"),n.doNotCaptureKeyboard=1,setTimeout(function(){var i=(n=_bfp(n)).cwrap("mixfp","string",["string"]),r=n.cwrap("authEncrypt","string",["string"]);i=Y.encode(i(e)),r=Y.encode(r(ubt.get_("vid")));ubt.track("fp",{vid:r,key:"securefp",val:i,duid:"",env:"online"}),t&&Y.isFunction(t)&&t(Y.JSON.stringify({vid:r,securefp:i,sfp:Y.sfp(i).sfp,fp:Y.sfp(i).fp}))},0)):t&&Y.isFunction(t)&&t(Y.JSON.stringify({vid:"",securefp:""}))}var hostWhiteList=["implus-file://localhost","dawn://localhost"],RG={_env:/(\.qa\.nt\.)|(localhost|172\.16|127\.0|10\.15|10\.32)|(\.uat\.)|(\.fws\.)|(\.tripqate\.)|(\.(beta|dev)\.qunar\.)/i,_bfa:/^1\.\d+\..{3,12}\.1\.\d+\.\d+\.\d+\.\d+\..+$/,_var:/\$\{(\w+)\}/g},watchdog=function(e){};function firedata(e){var t,n=e.time;(n=(e.time=n.toLocaleString("chinese",{hour12:!1})+"."+n.getMilliseconds(),e=JSON.stringify(e),document.getElementById("_ubt_Helper_Name")))&&(t=new Event("look"),n.innerText=e,n.dispatchEvent(t))}function check_tags(e,t,n){var i=Y.keys(e),r=i.length;n=n||8;if("http_request_perf"!=t&&"o_page_render_check"!=t&&n<r)return n;for(var a=0;a<r;a++){var o=e[i[a]];if("string"==typeof o)e[i[a]]=o.substring(0,200);else if("boolean"!=typeof o&&"number"!=typeof o)return 110}return 1}function validName(e){return e&&("string"==typeof e||Y.isNumber(e))}function validMetricValue(e){if(Y.isNumber(e))return 1;if("object"==Y.type(e)){var t=Y.keys(e),n=t.length;if(30<n)return;for(var i=0;i<n;i++)if(!validName(t[i])||!Y.isNumber(e[t[i]]))return;return 1}}function validMap(e){for(var t=Y.keys(e),n=t.length,i=0;i<n;i++){var r=e[t[i]];if("string"!=typeof r&&!Y.isNumber(r)&&"boolean"!=typeof r)return}return 1}function transToString(e){for(var t=Y.keys(e),n=t.length,i=0;i<n;i++){var r=t[i];"undefined"==typeof e[r]?e[r]="":"object"==typeof e[r]&&(e[r]=JSON.stringify(e[r]))}return e}function validMultiTrace(e){if(Y.isArray(e)){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(!i.name||!i.data||"string"!=typeof i.data&&!validMap(transToString(i.data)))return}return 1}}function prepareMultiTrace(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var a=e[i];n.push({duid:t||"",key:a.name,val:"string"==typeof a.data?{data:a.data}:a.data})}return n}var _structure_store={},T={get:function(e){return _structure_store.hasOwnProperty(":"ion(e,t){_structure_store[":"+e]=t}},Y_UBT_=function(e){this.isPVSend=!1,this.isPSSend=!1,this.isEventInit=!1,this.enterTime=Y.now(),this.commonData=[],this.pid=0,this.eSkip=0,this.sequenceNum=1,this.options=e||{},this.reportedErrorSet=[],this.intervalTimer=null,this.envInit_(),this.init()},coFCPDone=(Y_UBT_.prototype={constructor:Y_UBT_,_QUEUE:[],init:function(){this.isPVSend=!1,this.bfa=null,this.bfs=null,this.bfi=null,this._isNewVisitor=0,this._isNewSession=0,this.isLogin=0,this.readBfa(),this.readBfi(),clean_bf_cookie(Y.CFG.domain)},initAfterConfigReading:function(){var e=l(function(){e.reportedErrorSet=[]},Y.CFG.repeatCheckDuration||6e4)},envInit_:function(){for(var e=_loc.hostname,t=_loc.origin,n=!1,i=0;i<=hostWhiteList.length-1;i++)if(hostWhiteList[i]===t){n=!0;break}Y.CFG.isProd=!("test"==Y.ENV||RG._env.test(e)&&!n),Y.CFG.isProd||(Y.CFG.surl=Y.PROTOCOL+"//s.uat.qa.nt.ctripcorp.com/",Y.CFG.purl="https://s.uat.qa.nt.ctripcorp.com/bee/collect"),"offline"==Y.ENV&&(Y.CFG.surl=Y.PROTOCOL+"//ubt.ctripcorp.com/",Y.CFG.purl="https://ubt.ctripcorp.com/bee/collect"),(e=this.domainInit(e))&&(Y.CFG.domain=e)},inputInit:function(){try{var e,t={},n=this;document.body.innerHTML.replace(/\bbf_ubt_([^ '"]*)/gi,function(e,i){(e=Y.$v(e))&&((i=i.split("_"))[0]&&"tl"==i[0]?("offline"==Y.ENV?"callid"==i[1]&&n.sendData({k:"pvctm",v:'{"callid":"'+e+'"}'}):n._setPVCustom(i[1],e),t[i[1]]=e):(t[i[0]]=e,n.set_(i[0].toLowerCase(),e)))}),t.eid=n.getEid()||t.eid,"offline"==Y.ENV&&t.eid&&(e={k:"offline_order",v:'{"uid":"'+(t.uid||"")+'","orderid":"'+(t.orderid||"")+'","callid":"'+t.callid+'","eid":"'+t.eid+'","pid":${page_id},"order_type":"'+(t.ordertype||"")+'"}'},n.unction(e){return get_top_domain()},uniqueId_:function(){return Y.getRand(unction(e){return parseInt(e,10)+1},setItem:function(e,t,n){if(!Y.isSupportCookie)return!1;Y.setCookie(e,t,n)},getItem:function(e,t,n){return Y.isSupportCookie?Y.getCookie(e,t,!0):""},readBfa:function(){try{var e,t=this.getItem("_bfa","",!0);t&&RG._bfa.test(t)&&6<(e=t.split(".")).length&&(this.bfa=e),this.bfa?(18e5<this.enterTime-parseInt(this.bfa[5])?(this._isNewSession=1,this.bfa[6]=this.plus_(this.bfa[6]),this.bfa[7]=1):this.bfa[7]=this.plus_(this.bfa[7]),this.bfa[4]=this.bfa[5],this.bfa[5]=this.enterTime):(this.bfa=[1,this.enterTime,this.uniqueId_().toString(36),1,this.enterTime,this.enterTime,1,1,0],this._isNewVisitor=1),this.bfa[8]=this.getPid()||0,this.sessWrite()}catch(error){window.ubt_req_log=window.ubt_req_log||[],window.ubt_req_log.push({t:"readBfa error",n:error.name,s:error.stack,c:document.cookie})}},sessWrite:function(){this.setItem("_bfa",this.bfa.join("."),63072e6);var e={vid:this.get_("vid"),sid:this.get_("sid"),pvid:this.get_("pvid"),pid:this.getPid()};this.setItem("_ubtstatus",Y.JSON.stringify(e),63072e6)},readBfi:function(){try{var e;if(n=localStorage.getItem("UBT_LASTVIEW")||"")return e=JSON.parse(n)||{},this.ppi=e.pageId,void(this.ppv=e.pvid)}catch(error){localStorage.removeItem("UBT_LASTVIEW")}var t,n,i={};if(n=this.getItem("_bfi","",!0))for(var r=n.split("&")||[],a=0;a<r.length;a++)1<(t=r[a].split("=")).length&&(i[t[0]]=t[1]);this.ppi=i&&i.p1?i.p1:0,this.ppv=i&&i.v1?i.v1:0,this.bfi=i},updateBfi:function(){var e;this.isPVSend&&(e=this.get_("pvid"),e="p1="+this.pid+"&p2="+this.ppi+"&v1="+e+"&v2="+this.ppv,this.setItem("_bfi",e))},_set:function(e,t,n){switch(n=n||NOOP,e){case"uid":this.options.duid=t;break;case"loginName":this.options.login_uid=t;break;case"framework:name":case"framework:version":T.set(e,(t+"").substring(0,30));break;default:return n(0)}return n(t)},get_:function(e){if(this.bfa){var t=this.bfa;switch(e){case"vid":return Y.get("bu_be_vid",{w:"cookie",v:""})||t[1]+"."+t[2];case"sid":return parseInt(t[6],10)||0;case"pvid":return parseInt(t[7],10)||0;case"seq":var n=Y.getCookie("_bfa")||"";return 8<(n=n.split(".")).length?parseInt(n[8],10)||1:parseInt(t[8],10)||1;case"fullpv":return t[1]+"."+t[2]+"."+t[6]+"."+t[7];default:return""}}},set_:function(e,t){switch(e){case"domain":this._setDomain(t);break;case"clickv1":this._setClickV1(t);break;case"collect":this._delCollect(t);break;case"referrer":this._setReferrer(t);break;case"orderid":this._setOrderID(t)}},getPid:function(e){return this.pid&&!e||(this.pid=parseInt(Y.$v("page_id"),10)||0),this.pid},formatABtestValue:function(e){return/;$/.test(e)||(e+=";"),e},getABtest:function(){if(!this.d_abtest){for(var e=Y.$("ab_testing_tracker"),t=[],n="";e;)n+=this.formatABtestValue(e.value),t.push(e),e.removeAttribute("id"),e.removeAttribute("name"),e=Y.$("ab_testing_tracker");for(var i=0;i<t.length;i++)t[i].setAttribute("id","ab_testing_tracker");try{var r="";(r=document.location.hash)&&-1!==r.indexOf("abtest=")&&(n+=this.formatABtestValue(decodeURIComponent(r.replace(/.*(abtest=)/i,"").replace(/#.*/i,""))))}catch(a){}this.d_abtest=n.substring(0,1024)}return this.d_abtest},coIdc:function(){var e="";try{var t=document.documentElement;e=t.dataset&&t.dataset.idc||t.getAttribute("data-idc")||""}catch(n){}return(e+"").substring(0,30)},getPVparams:function(e){if(!e&&this.d_pvparams)return this.d_pvparams;e=Y.getCookieObj("Session");var t=Y.getCookieObj("CtripUserInfo"),n=Y.getCookieObj("StartCity_Pkg"),i=Y.getCookieObj("Union"),r=Y.getCookie("DUID"),a=Y.getCookie("BDUID"),o={exmktID:{}};try{(o=i?"string"==typeof i?Y.parseQuery(i):{}:(i=localStorage.getItem("UNION"),JSON.parse(i)||{})).exmktID&&"string"==typeof o.exmktID&&(o.exmktID=JSON.parse(o.exmktID)||{}),(o=o||{}).exmktID=o.exmktID||{};var c=document.location,s=Y.parseQuery((c.search.replace("?","")||"").toLocaleLowerCase());o.exmktID.innersid=o.exmktID.innersid||s.innersid,o.exmktID.innerouid=o.exmktID.innerouid||s.innerouid,o.exmktID.pushcode=o.exmktID.pushcode||s.pushcode}catch(l){o={exmktID:{}}}var d,u;c={engine:e&&e.SmartLinkCode?e.SmartLinkCode:"",keyword:e&&e.SmartLinkQuary?e.SmartLinkQuary:"",start_city:n&&n.PkgStartCity?n.PkgStartCity:"",alliance_id:i&&i.AllianceID?i.AllianceID:"",alliance_sid:i&&i.SID?i.SID:"",alliance_ouid:i&&i.OUID?i.OUID:"",alliance_createtime:i&&i.createtime?i.createtime:"",user_grade:t&&t.VipGrade?t.VipGrade:"",duid:r||(t&&t.U?t.U:""),bduid:a,zdata:Y.get("zdatactrip",{w:"cookie",v:""}),callid:Y.get("bf_ubt_tl_callid",{w:"input",v:""}),_innersid:o.exmktID.innersid,_innerouid:o.exmktID.innerouid,_pushcode:o.exmktID.pushcode};"string"==typeof this.options.duid&&(c.duid="custom:"+this.options.duid.substring(0,50)),"string"==typeof this.options.login_uid&&(c.login_uid=this.options.login_uid.substring(0,50));try{c.alliance_id||c.alliance_sid||!Y.isSupportStorage||(i=localStorage.getItem("UNION"))&&(i=(d=JSON.parse(i)).data)&&(d.st||d.timeout)&&(u=0,u=d.st?new Date(d.st):new Date(d.timeout.replace(/-/g,"/")))&&u>=Y.now()&&(c.alliance_id=i.AllianceID||i.ALLIANCEID||"",c.alliance_sid=i.SID||"",c.alliance_ouid=i.OUID||"")}catch(l){}return c.duid&&(this.isLogin=1),this.d_pvparams=c},getCommon:function(e){return(e||this.commonData.length<4)&&(e=window.mcdAppID,this.commonData=[this.getPid(),this.get_("vid"),this.get_("sid"),this.get_("pvid"),Y.get("CorrelationId",{w:"input",v:""}),this.getABtest()||"",Y.get("bf_ubt_offline_mid",{w:"input",v:""}),VERSION,Y.fingerprint,"",e,"","","","online",this.coIdc(),this.sequenceNum,Y.get("GUID",{w:"cookie",v:""})||localStorage.getItem("GUID"),String(Y.CFG.href).substring(0,Y.CFG.urlLength||600)]),this.commonData},getOinfo:function(){var e=!1;return 160<window.outerHeight-window.innerHeight&&(e=!0),160<window.outerWidth-window.innerWidth&&(e=!0),Y.JSON.stringify({fef_name:T.get("framework:name"),fef_ver:T.get("framework:version"),tz:-(new Date).getTimezoneOffset(),dt:e,rg:Y.get("_RSG",{w:"cookie",v:"",l:32}),lang:document.documentElement.getAttribute("lang")||""})},getUinfo:function(){var e,t=this.getPVparams(!0),n=[],i="";try{i=(i+="cl="+document.cookie.length)+",ckl="+(document.cookie.match(/[^=]+=[^;]*;?/g)||[]).length}catch(a){}try{var r=Y.get("CTRIP_UBT_INFO",{w:"cookie",v:""});r&&(r=JSON.parse(r)||{},t.clientid=r.cid||"")}catch(a){}try{Y.isSupportStorage&&(e=localStorage.getItem("CTRIP_UBT_INFO"))&&(e=JSON.parse(e)||{},t.clientid=e.cid||""),t.clientid=t.clientid||Y.get("GUID",{w:"cookie",v:""})||localStorage.getItem("GUID")}catch(a){}return n[0]=18,n[1]=parseInt(this.ppi,10)||0,n[2]=parseInt(this.ppv,10)||0,n[3]=String(Y.CFG.href).substring(0,Y.CFG.urlLength||600),n[4]=Y.CLI.s.width,n[5]=Y.CLI.s.height,n[6]=i,n[7]=Y.CLI.l,n[8]=t.engine,n[9]=t.keyword,n[10]=Y.CLI.getRefer(),n[11]=this.getABtest(),n[12]=this._isNewVisitor,n[13]=this.isLogin,n[14]=t.login_uid||Y.get("login_uid",{w:"cookie",v:""})||Y.get("weduid",{w:"cookie",v:""}),n[15]=t.user_grade,n[16]=Y.get("corpid",{w:"cookie",v:""}),n[17]=t.start_city,n[18]=t.alliance_id,n[19]=t.alliance_sid,n[20]=t.alliance_ouid,n[21]=Y.CFG.orderID,n[22]=t.duid,"we.ctrip.com"===window.location.hostname&&(n[22]=Y.get("weduid",{w:"cookie",v:""})||t.duid),Y.CFG.useBduid&&(n[22]=t.bduid||n[22]),n[23]=t.zdata,n[24]=t.callid,n[25]=Y.get("bid",{w:"cookie",v:""}),n[26]=t.clientid,n[27]="",n[28]="",n[29]="online",n[30]=window.devicePixelRatio||1,n[31]=this._isNewSession,n[32]=this.getOinfo(),n[33]=Y.get("bf_ubt_product",{w:"input",v:"",l:30}),n[34]="",n[35]=Y.CLI.rid,n[36]={},n[37]=t.alliance_createtime||"",n[39]={eid:this.getEid()},n[40]=t._innerouid,n[41]=t._innersid,n[42]=t._pushcode,n},replaceParam:function(e){var t=this.getPVparams(),n={duid:encodeURIComponent(t.duid),page_id:this.getPid(),is_login:thifunction(e,t){return t in n?n[t]:e})},dataHandler:function(e){if("string"==typeof e)return e;if("object"==typeof e){if(e.type&&"tiled_tl"==e.type)return params="ac=ntl&d="+Y.compress(Y.JSON.stringify({type:e.type,common:this.getCommon(),data:e.d}))+"&c=1";var t,n;if(e.c&&e.d)return e.d.pr_t&&(e.d.pr_t[2]=this.replaceParam(e.d.pr_t[2])),n={c:this.getCommon(),d:e.d},"ac=g&d="+Y.encode(Y.JSON.stringify(n));if(e.k&&e.v)return n=this.getPVparams(),t=Y.encode(this.replaceParam(e.v)),"ac=tl&pi="+this.getPid()+"&key="+e.k+"&val="+t+"&pv="+this.get_("fullpv")+"&duid="+encodeURIComponent(n.duid)+"&env=online&v=6";if(e.type&&"exposure"==e.type)return t=this.getCommon(),n={type:"exposure",header:{ts:+new Date,pid:t[0],vid:t[1],sid:t[2],pvid:t[3],tid:t[4],abtest:t[5],version:t[7],e_type:"online",clientId:Y.get("GUID",{w:"cookie",v:""})||localStorage.getItem("GUID")},body:{key:e.d.key,data:Y.JSON.stringify(e.d.val)}},Y.CFG.seq&&(n.header.seq=t[16]),params="ac=n&d="+Y.compress(Y.JSON.stringify(n))+"&c=1&v="+VERSION}return!1},sendData:function(e,t){var n;this.isPVSend?(n=this.dataHandler(e))&&Y.send(n,e.callback||NOOP,t):(e._extend=t,this._QUEUE.push(e))},sendPV:function(e){var t=this;if(Y.setCookie("_bfaStatusPVSend","1",63072e6),this.isPVSend)return!0;try{var n=this.getCommon(!0),i=this.getUinfo(),r={c:n,d:{uinfo:i}},a="ac=g&d="+Y.encode(Y.JSON.stringify(r)),o={seq:this.sequenceNum,pageId:n[0],vid:n[1],sid:n[2],pvid:n[3],url:String(Y.CFG.href).substring(0,Y.CFG.urlLength||600),refer:i[10],userAgent:navigator.userAgent,orderId:i[21],duid:i[22],clientId:i[26]};try{firedata({key:"page_id",val:o,type:"PAGE_VIEW",time:new Date})}catch(c){}Y.send(a,function(n){n&&(t.isPVSend=!0,t.queueSend_(),t.updateLastView()),Y.isFunction(e)&&e(n)},{isPVSend:!0})}catch(c){r=c.message||c.description||"&line:"+name.lineNumber||name.line||0,watchdog(r)}},queueSend_:function(){this.updateBfi();var e=this._QUEUE,t=e.length;if(t){for(var n=0;n<t;n++){var i=e[n],r=this.dataHandler(i);r&&Y.send(r,i.callback||NOOP,i._extend)}this._QUEUE=[]}return Y.PVCTM&&this.sendData({k:"pvctm",v:Y.JSON.stringify(Y.PVCTM)}),!0},getPS:function(){for(var e=["navigationStart","redirectStart","unloadEventStart","unloadEventEnd","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],t=_win.performance.timing,n=[7],i=0;i<e.length;i++)n.push(t[e[i]]);return n.push(_win.performance.navigation.type||0),n.push(_win.performance.navigation.redirectCount||0),n},sendPS:function(){var e,t;Y.CFG.dCollect.performance||!_win.performance||this.getPid()<0||(e=0,t=this,function(){var n;_win.performance.timing.loadEventEnd&&!this.isPSSend?(n={c:t.getCommon(),d:{ps:t.getPS()}},n="ac=g&d="+Y.encode(Y.JSON.stringify(n)),Y.send(n),t.isPSSend=!0):e<300&&(e++,setTimeout(arguments.callee,300))}())},bindSend:function(e){var t=this;if(this.isEventInit)return!0;if(this.isEventInit=!0,this.inputInit(),this.sendPV(e),Visibility.change(function(e,n){"visible"==n&&t.updateBfi()}),this.sendPS(),Y.isArray(EVENT_LIST.pid))for(var n=0;n<EVENT_LIST.pid.length;n++)EVENT_LIST.pid[n](!1,this.getPid())},getCommonObj:function(){var e=this.getCommon();return Y.CFG.seq?{pid:e[0],vid:e[1],sid:e[2],pvid:e[3],ver:VERSION,ifr:0,seq:e[16]||1}:{pid:e[0],vid:e[1],sid:e[2],pvid:e[3],ver:VERSION,ifr:0}},pack:function(e,t){if("restiming"!==t)return!1;e=[[1,"ctrip"],this.getCommonObj(),[[["ubt",t,1],e]]],t="a=z&d="+Y.compress(Y.JSON.stringify(e))+"&t="+Y.now(),Y.send(t)},_asynRefresh:function(e,t){var n;"object"==typeof e&&("undefined"!=typeof e.page_id&&(this.pid=parseInt(e.page_id,10)||0),"undefined"!=typeof e.url&&Y.contains(e.url,"http")&&(Y.CFG.href=e.url),"undefined"!=typeof e.orderid?this._setOrderID(e.orderid,!0):(n=Y.$v("bf_ubt_orderid"))&&this._setOrderID(n,!0),e.refer&&this._setReferrer(e.refer),"string"==typeof e.uid&&(this.options.duid=e.uid),"string"==typeof e.loginName)&&(this.options.login_uid=e.loginName),this.isEventInit?(this.init(),this.sendPV(t)):this.bindSend(t)},_config:function(e,t,n){if("object"===Y.type(e)){for(var i=Y.keys(e),r=0;r<i.length;r++){var a=i[r];Y.CFG[a]=e[a]}n=t}else Y.CFG[e]=t;Y.CFG.forceGetSend&&(Y.CFG.mutilpost=!1,Y.CFG.sendBeacon=!1),Y.isFunction(n)&&n()},_setEnv:function(e){Y.ENV=e||tDebug:function(e){Y.CFG.debug=!!e},_setDomain:funclickV1:functv1=e||""},_deerrer:function(e){Y.CFG.referrer=e},_setOrderID:function(e,t){!e||Y.CFG.orderID&&Y.PVCTM||(Y.PVCTM={}),Y.PVCTM[e]=t},_getFullPV:function(e){var t=this.get_("fullpv");return e&&Y.isFunction(e)&&e(t),t},_getStatus:function(e){var t={vid:this.get_("vid"),sid:this.get_("sid"),pvid:this.get_("pvid"),pid:this.getPid(),abtest:this.getABtest(),pv:this.isPVSend,ps:this.isPSSend};return e&&Y.isFunction(e)&&e(t),t},_getFP:function(e,t){return e&&Y.isFunction(e)?(!0===window.disableFP?e(""):t?fetchTokenFp(e):e(Y.fingerprint,Y.sfp().sfp,Y.sfp().fp),1):0},_getPageid:function(e){this.isEventInit?e(!1,this.getPid()):(EVENT_LIST.pid||(EVENT_LIST.pid=[]),EVENT_LIST.pid.push(e))},_tracklog:function(e,t,n){if("string"!=typeof t||t.length<1)return n("value must be a string."),!1;t.length>Y.CFG.sizeLimit&&(t="user data is too long");try{firedata({key:e,val:t,type:"TRACK_LOG",time:new Date})}catch(i){}this.sendData({k:e,v:t,callback:n||!1})},_trace:function(e,t,n,i){if(i=i||{method:""},validName(e)&&validMap(transToString(t))){var r,a=this.getPVparams();Y.JSON.stringify(t).length>Y.CFG.sizeLimit&&(t={UBT_WARN:"user data too long"}),r="object"!==Y.type(t)?{data:t}:t;try{firedata({key:e,val:r,type:"TRACE",time:new Date})}catch(o){}this.sendData({type:"tiled_tl",c:!0,d:[{key:e,val:r,duid:a.duid}],callback:n||!1},i)}else n&&n(0,{status:1,message:"Invalid data"})},_devTrace:function(e,t,n,i){if(i=i||{method:""},validName(e)&&validMap(transToString(t))){var r,a=this.getPVparams();Y.JSON.stringify(t).length>Y.CFG.sizeLimit&&(t={UBT_WARN:"user data too long"}),r="object"!==Y.type(t)?{data:t}:t;try{firedata({key:e,val:r,type:"DEV_TRACE",time:new Date})}catch(o){}this.sendData({type:"tiled_tl",c:!0,d:[{key:e,val:r,duid:a.duid,"$.ubt.hermes.topic.classifier":"DebugCustom"}],callback:n||!1},i)}else n&&n(0,{status:1,message:"Invalid data"})},_exposure:function(e,t,n,i){var r;i=i||{method:""},validName(e)&&validMap(transToString(t))?(r={},r="object"!==Y.type(t)?{data:t}:t,this.sendData({type:"exposure",d:{key:e,val:r},callback:n||!1},i)):n&&n(0,{status:1,message:"Invalid data"})},_multiTrace:function(e,t){var n;validMultiTrace(e)?(n=this.getPVparams(),this.sendData({type:"tiled_tl",c:!0,d:prepareMultiTrace(e,n.duid),callback:t||!1})):t&&t(0,{status:1,message:"Invalid data"})},_privateTrace:function(e,t,n){if("string"!=typeof t||t.length<1)return n("value must be a string."),!1;var i=this.getPVparams();this.sendData({c:!0,d:{pr_t:[8,e,t,i.duid,"","online"]},callback:n||!1})},_trackError:function(e,t){if("object"!=Y.type(e))return!1;if(this.eSkip&&"undefined"==typeof e.skip)return this.eSkip=!1;if(!0===e.skip&&(this.eSkip=!0),this._shouldReportError(e)){for(var n=e.version||11,i=["version","message","line","file","category","framework","time","repeat","islogin","name","column"],r=[n,"",0,"","","",Y.now()-this.enterTime,1,this.isLogin,"",0],a=1,o=i.length;a<o;a++){var c=i[a];if(e[c]){var s=e[c]+"";switch(c){case"message":case"file":s=s.substring(0,500);break;case"category":case"framework":case"name":s=s.substring(0,100);break;case"time":case"column":s=parseInt(s,10);break;default:s=parseInt(s,10)||0}r[a]=s}}var d="";e.stack?d=e.stack:"undefined"!=typeof cQuery&&Y.isFunction(cQuery.trace)&&(d=cQuery.trace(),Y.isArray(d))&&(d=d.join("")),d=d.slice(r.join("").length-2e3),r.push(d),10<=+n&&((d=e.extendedField||{}).report_url=(location||{}).href,d.time=Y.now(),d.env_clientcode=Y.get("GUID",{w:"cookie",v:""})||localStorage.getItem("GUID"),r.push(d),r.push(e.organizationId),r.push(e.appVer)),this.sendData({c:!0,d:{error:r},callback:t||!1})}},_shouldReportError:function(e){try{if(this.intervalTimer){for(var t=[e.category,e.message,e.file,e.line,e.column].toString(),n=0;n<this.reportedErrorSet.length;n++)if(t==this.reportedErrorSet[n])return!1;this.reportedErrorSet.push(t)}return!0}catch(error){return console.error(error),!0}},_trackUserBlock:function(e,t){if("object"!=typeof e)return!1;var n=[];n[0]=6,n[1]=this.isLogin,n[2]=String(e.message||"").substring(0,300),n[3]=String(e.value||"").substring(0,300),n[4]=String(e.type||"").substring(0,50),n[5]=String(e.dom||"").substring(0,100),n[6]=String(e.form||"").substring(0,100),n[7]=parseInt(e.count||0,10)||0,this.sendData({c:!0,d:{ub:n},callback:t||!1})},_trackMatrix:function(e,t,n,i,r){return this._trackMetric({name:e,tag:t,value:n,callback:r})},_trackMetric:function(e){var t=0;if("object"!=typeof e)return"Error Param";var n=Y.extend({name:"",tag:!1,value:0,callback:NOOP,sample:100,metricMaxLen:8},e);if((i=ubt.get_("vid"))&&!(Y.hash(i)%100>+n.sample)&&validName(n.name)&&validMetricValue(n.value)){if(1==(t=check_tags(n.tag,n.name,e.metricMaxLen))){var i={name:n.name,tags:n.tag,value:n.value,ts:Y.now()||0,clientCode:Y.get("GUID",{w:"cookie",v:""})||localStorage.getItem("GUID")},r=[[4,"matrix"],this.getCommon(),[i]];try{firedata({key:i.name,val:i.tags,type:"METRIC",time:new Date})}catch(a){}i="ac=a&d="+Y.compress(Y.JSON.stringify(r)),Y.send(i,null,e.extend),t=1}Y.isFunction(n.callback)&&n.callback(t)}},_trackKeyboard:function(e,t,n){Y.keyCollector(e,t,n)},track:function(e,t){t={c:{pid:(n=this.getCommon())[0],vid:n[1],sid:n[2],pvid:n[3],tid:n[4],abtest:n[5],offline_mid:n[6],UBT_version:n[7],bf:n[8],agent:""},dataType:e,priority:0,d:[t]};var n="ac=f&d="+Y.encode(Y.JSON.stringify(t));Y.send(n)},getEid:function(){return Y.CFG.isProd?Y.getCookie("PRO_Servers_Eid")||Y.getCookie("Servers_Eid"):Y.getCookie("UAT_Servers_Eid")||Y.getCookie("FAT_Servers_Eid")||Y.getCookie("Servers_Eid")},updateLastView:function(){try{var e,t=this.getCommon();!this.isPVSend||t[0]<=0||(e={sid:t[2],pvid:t[3],pageId:t[0],host:location.host,path:location.pathname},localStorage.setItem("UBT_LASTVIEW",JSON.stringify(e)))}catch(error){console.error(error)}}},function(e,t){var n,i,r,a,o,c,s,d,u={},l=[].slice,f=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Referenc,t,n)}catch(c){i=c}if(i)throw i}}function m(e,t,i,r,a){var o,c,d,l;return s?(u.computeStackTrace.augmentStackTraceWithInitialElement(s,t,i,e),v()):a?g(u.computeStackTrace(a),!0,a):(o={url:t,line:i,column:r},"[object String]"==={}.toString.call(d=e)&&(l=e.match(f))&&(c=l[1],d=l[2]),o.func=u.computeStackTrace.guessFunctionName(o.url,o.line),o.context=u.computeStackTrace.gatherContext(o.url,o.line),g({name:c,message:d,mode:"onerror",stack:[o]},!0,null)),!!n&&n.apply(this,arguments)}function b(e){e&&e.reason?g(u.computeStackTrace(e.reason),!0,e.reason):g({},!0?2e3:0),e}function y(e){return[]}function k(e,t){var n,i=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",o=[];if(o.length)for(var c=0;c<10;++c)if(!h(a=o[t-c]+a)){if(n=r.exec(a))return n[1];if(n=i.exec(a))return n[1]}return"?"}function C(e,t){var n=[];if(!n.length)return null;var i=[],r=(a=Math.floor(u.linesOfContext/2))+u.linesOfContext%2,a=Math.max(0,t-a-1),o=Math.min(n.length,t+r-1);--t;for(var c=a;c<o;++c)h(n[c])||i.|&quot;)').replace(/\s+/g,"\\s+")}function Y(e,t){for(var n,i,r=0,a=t.length;r<a;++r)if((t[r],n=[]).length&&(n=n.join("\n"),i=e.exec(n)))return{url:t[r],line:n.substring(0,i.index).split("\n").length,column:i.index-n.lastIndexOf("\n",i.index)-1};return null}function E(e,t,n){var i=[];e=new RegExp("\\b"+S(e)+"\\b");return--n<i.length&&(n=e.exec(i[n]))?n.index:null}function I(e){if(!e.stack)return null;for(var t,n,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,s=e.stack.split("\n"),d=[],u=/^(.*) is undefined$/.exec(e.message),l=0,f=s.length;l<f;++l){if(n=i.exec(s[l])){var p=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=c.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),p={url:p?null:n[2],func:n[1]||"?",args:p?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(s[l]))p={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=r.exec(s[l])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=o.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==l||n[5]||h(e.columnNumber)||(d[0].column=e.columnNumber+1),p={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!p.func&&p.line&&(p.func=k(p.url,p.line)),p.context=p.line?C(p.url,p.line):null,d.push(p)}return d.length?(d[0]&&d[0].line&&!d[0].column&&u&&(d[0].column=E(u[1],d[0].url,d[0].line)),{mode:"stack",name:e.name,message:e.message,stack:d}):null}function D(e,t,n,i){if((t={url:t,line:n}).url&&t.line){if(e.incomplete=!1,t.func||(t.func=k(0,t.line)),t.context||(t.context=C(0,t.line)),(n=/ '([^']+)' /.exec(i))&&(t.column=E(n[1],0,t.line)),0<e.stack.length&&e.stack[0].url===t.url){if(e.stack[0].line===t.line)return!1;if(!e.stack[0].line&&e.stack[0].func===t.func)return e.stack[0].line=t.line,e.stack[0].context=t.context,!1}return e.stack.unshift(t),e.partial=!0}return!(e.incomplete=!0)}function T(t,n){for(var i,r,a,o,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],d={},l=!1,p=T.caller;p&&!l;p=p.caller)if(p!==F&&p!==u.report){if(r={url:null,func:"?",args:[],line:null,column:null},p.name?r.func=p.name:(i=c.exec(p.toString()))&&(r.func=i[1]),"undefined"==typeof r.func)try{r.func=i.input.substring(0,i.input.indexOf("{"))}catch(f){}(a=function(t){if(!h(e&&e.document)){for(var n,i,r,a=[e.location.href],o=e.document.getElementsByTagName("script"),c=(t=""+t,0);c<o.length;++c){var s=o[c];s.src&&a.push(s.src)}if(i=Y((n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(t))?(i=n[1]?"\\s+"+n[1]:"",d=n[2].split(",").join("\\s*,\\s*"),r=S(n[3]).replace(/;$/,";?"),new RegExp("function"+i+"\\s*\\(\\s*"+d+"\\s*\\)\\s*{\\s*"+r+"\\s*}")):new RegExp(S(t).replace(/\s+/g,"\\s+")),a))return i;if(n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(t)){var d=n[1];if(r=w(n[2]),i=Y(new RegExp("on"+d+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i"),a[0]))return i;if(i=Y(new RegExp(r),a))return i}return null}}(p))&&(r.url=a.url,r.line=a.line,"?"===r.func&&(r.func=k(0,r.line)),o=/ '([^']+)' /.exec(t.message||t.description))&&(r.column=E(o[1],a.url,a.line)),d[""+p]?l=!0:d[""+p]=!0,s.push(r)}return n&&s.splice(0,n),D(n={mode:"callers",name:t.name,message:t.message,stack:s},t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),n}function F(t,i)e,message:e.message,stack:c}:null}}(t))return a}catch(r){if(d)throw r}try{if(a=I(t))return a}catch(r){if(d)throw r}try{if(a=function(t){var n=t.message.split("\n");if(n.length<4)return null;var i,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,c=[],s=e&&e.document&&e.document.getElementsByTagName("script"),d=[];for(i in s)p(s,i)&&!s[i].src&&d.push(s[i]);for(var u=2;u<n.length;u+=2){var l,f,h,g,m=null;(g=r.exec(n[u]))?m={url:g[2],func:g[3],args:[],line:+g[1],column:null}:(g=a.exec(n[u]))?(m={url:g[3],func:g[4],args:[],line:+g[1],column:null},l=+g[1],(f=d[g[2]-1])&&(m.url,h=[])&&0<=(f=(h=h.join("\n")).indexOf(f.innerText))&&(m.line=l+h.substring(0,f).split("\n").length)):(g=o.exec(n[u]))&&(m={url:l=e.location.href.replace(/#.*$/,""),func:"",args:[],line:(f=Y(new RegExp(w(n[u+1])),[l]))?f.line:g[1],column:null}),m&&(m.func||(m.func=k(m.url,m.line)),g=(h=C(m.url,m.line))?h[Math.floor(h.length/2)]:null,h&&g.replace(/^\s*/,"")===n[u+1].replace(/^\s*/,"")?m.context=h:m.context=[n[u+1]],c.push(m))}return c.length?{mode:"multiline",name:t.name,message:n[0],stack:c}:null}(t))return a}catch(r){if(d)throw r}try{if(a=T(t,i+1))return a}catch(r){if(d)throw r}return{name:t.name,messts)}catch(t){throw u.report(t),t}}},u.report=(o=[],s=c=null,_.subscribe=function(t){!0!==i&&(n=e.onerror,e.onerror=m,i=!0),!0!==a&&(r=e.onunhandledrejection,e.onunhandledrejection=b,a=!0),o.push(t)},_.unsubscribe=function(t){for(var c=o.length-1;0<=c;--c)o[c]===t&&o.splice(c,1);0===o.length&&(i&&(e.onerror=n,i=!1),a)&&(e.onunhandledrejection=r,a=!1)},_),u.computeStackTrace=(d=!1,F.augmentStackTraceWithInitialElement=D,F.computeStackTraceFromStackProp=I,F.guessFunctionew Error}catch(m){return F(m,e+1)}},F.getSource=y,F),u.extendToAsynchpply?n.apply(this,e):n(e[0],e[1])}})("setTimeout"),t("setInterval")},u.collectWindowErrors||(u.collectWindowErrors=!0),(!u.linesOfContext||u.linesOfContext<1)&&(u.linesOfContext=11),t.TraceKit=u}(window,Y),Y.renderAPI=function(){window.ubt_req_log_count=0;var e=new function(){this.push=function(e){window.ubt_req_log_count++;for(var t=arguments,n=0,i=t.length,r=0;r<i;r++)try{if("function"==typeof t[r])t[r]();else{var a=t[r][0];if("_"==a.substring(0,1))return ubt[a].apply(ubt,t[r].slice(1)),1}}catch(o){n++}return n}},t=alert,n=0;try{_win.alert=function(i){n++,e.push(["_trackUserBlock",{message:i,value:"alert",type:"function.alert",dom:"",form:"",count:n}]),t(i)}}catch(s){}var i=_win.__bfi;if(i&&Y.isArray(i))for(var r=_win.__bfi.length,a=0;a<r;a++)e.push(_win.__bfi[a]);else _win.__bfi=[];_win.__bnction(){return ubt.get_("fullpv")},_win.$_bf.tracklog=function(e,t,n){ubt._tracklog(e,t,n)},_win.$_bf.trackError=function(e,t){ubt._trackError(e,t)},_win.$_bf.devTrace=function(e,t,n,i){ubt.ction(e,t,n,i){ubt._traon(e,t,n){ubt._privateTrace(e,t,n)},_win.$_bf.multiTrace=function(e,t){ubt._mufunction(){return ubt.unction(e,t){ubt._asynRefresh(e,t)};var o=1,c=!1;!function d(){if(!c){if(Y._union_){if("wait"!=Y.$v("page_id")){if(0!=ubt.getPid())return c=!0,ubt.bindSend();if("complete"===document.readyState)return c=!0,ubt.bindSend();var t=!1;try{t=null==window.frameElement&&document.documentElement}catch(e){}if(t&&t.doScroll)try{return t.doScroll("left"),c=!0,ubt.bindSend()}catch(e){}}o=1}if(5<o&&(Y._union_=!0),40<o)return ubt.bindSend();o++,setTimeout(d,500)}}(),Y.CFG.mutilpost&&storageSend.storageInterval(),Y.on(_win,"beforeunload",function(){ubt.bindSend();try{Y.CFG.mutilpost&&storageSend.sendStrategy()}catch(error){console.log(error)}}),Y.TraceKit&&Y.TraceKit.report.subscribe(function(e,t,n){var i,r,a,o=window.__NEXT_DATA__&&"string"==typeof window.__NEXT_DATA__.version?"Nfes-error":"Web-error",c=Objece(function(e,t){return e[t]=n[t],e},{});c={mode:"uncatch",originErrorObject:JSON.stringify(c),sdkVersion:VERSION||"unknow",from:"framework"};e&&e.mode&&(c.mode=e.mode);try{a=Y.isArray(e.stack)?(i=e.stack[0]||{},r=e.stack.map(function(e){var t="";return e.url&&(t+="("+e.url,e.line&&(t+=":"+e.line,e.column)&&(t+=":"+e.column),t+=")"),e.func+" "+t}),{message:e.message,file:i.url,line:i.line,column:i.column,name:e.name,category:o,framework:"normal",stack:r.join("\r\n"),repeat:1,version:11,extendedField:c}):{message:n+"",file:"",line:null,column:null,category:o,framework:"normal",stack:"",repeat:1,version:11,extendedField:c},ubt._trackError(a)}catch(s){}})},function(){var e={},t={keydown:1,keyup:2,keypress:3},n={text:!0,password:!0};function i(n){var i=(i=(n=n||window.event).target||n.srcElement).id||i.name,r=n.keyCode,a=((a=e[i].filter)&&(r=a(n)),[t[n.type]||9,r,Y.now()-e[i].ts]);e[i].data.push(a.join(","))}var r=function(t,a,o){(t="string"==typeof t?document.getElementById(t):t)&&1==t.nodeType&&n[t.type]&&(key=t.id||t.name)&&(e[key]={ts:0,info:[1,0,0,1,key],data:[],fn:a||NOOP,filter:o},Y.on(t,"focus",function(n){var r;r=t,key,e[key].ts=Y.now(),Y.on(r,"keydown",i,!0),Y.on(r,"keyup",i,!0)}),Y.on(t,"blur",function(){var e;e=t,key,Y.off(e,"keydown",i,!0),Y.off(e,"keyup",i,!0),r.send(key)}))};r.send=function(t){e[t].info[1]=e[t].ts;var n=e[t].info.join(",")+"|"+e[t].data.join("|");__bfi.push(["_tracklog","ubt_tl_keycollect",n]),e[t].fn(n),e[t].data=[]},Y.keyCollector=r}(),Y.ubtConfig=function(e){var t=Y.CFG.ubtConfigURL||"https://m.ctrip.com/restapi/soa2/18088/getAppConfig.json",n={appId:"5278",categoryList:["ubtconfig"],head:{appid:"5278",auth:"",cid:ubt.get_("vid"),ctok:"",cver:"000.001",lang:"",sauth:"",sid:"8892"}},i=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("content-type","application/json"),i.onreadystatechange=function(){try{if(4!==i.readyState)return;var t,n;200===i.status&&(n=i.responseText,(n=JSON.parse(n)).ResponseStatus)&&"Success"==n.ResponseStatus.Ack&&n.configList&&0<n.configList.length&&((t=JSON.parse(n.configList[0].configContent)).seq&&(Y.CFG.seq=!0),t.storage&&(Y.CFG.storage=!0),t.sendBeacon&&(Y.CFG.sendBeacon=!0),t.mutilpost&&(Y.CFG.mutilpost=!0),"number"==typeof t.repeatCheckDuration&&(Y.CFG.repeatCheckDuration=t.repeatCheckDuration),t.tmpClose&&(Y.CFG.tmpClose=!0),-1!=window.navigator.userAgent.indexOf("tripPal"))&&(Y.CFG.sendBeacon=!1)}catch(error){console.error(error)}e&&e()},i.send(JSON.stringify(n))},Y.userAction=function(){if(!ubt.get_("vid"))retuon t(){this._queue=[],this._init()}t.prototype={constructor:t,_init:functionick",function(t){e.collectClick(t)},!0)},_sendData:function(e){try{ubt.sequenceNum++}catch(error){console.log(error)}t=Y.CFG.debug?"http://localhost/bf.gif?ac=a&d=":Y.CFG.surl+"bf.gif?ac=a&d=",t+=Y.compress(e)+"&jv=1.0.0";var t,n=new Image;n.onload=function(){n=n.onload=null},n.src=t},_getTagIndex:function(e){var t=0;if(e.parentNode)for(var n=e.parentNode.firstChild;n&&n!=e;)1==n.nodeType&&n.tagName==e.tagName&&t++,n=n.nextSibling;return 0<t?"["+ ++t+"]":""},_getXpath:function(e){for(var t,n=[],i=0;e&&9!=e.nodeType;){var r=e.nodeName+this._getTagIndex(e)+(e.id?"[@id='"+e.id+"']":"");1==e.nodeType&&(t=e.getAttribute("data-ubt-key"))&&(r+="[@cid='"+t+"']"),n[i++]=r,e=e.parentNode}return n.reverse().join("/")},_push:function(e,t,n){e={action:e,xpath:t,ts:n||+new Date},this._queue.push(e),this._checkSend()},_checkSend:function(e){(e||0<this._queue.length)&&(e=[[3,"useraction"],ubt.getCommon(),this._queue],this._sendData(Y.JSON.stringify(e)),this._queue=[])},_getFocus:function(){var e=document.activeElement;return e&&(e.type||e.href||~e.tabIndex)?e:null},collectViewport:function(t){var n=e.clientWidth||document.body.clientWidth,i=e.clientHeight||document.body.clientHeight;this._push("viewport","HTML/BODY[@w='"+n+"'][h='"+i+"']")},collectScroll:function(t){var n=Math.max(e.scrollLeft,document.body.scrollLeft),i=Math.max(e.scrollTop,document.body.scrollTop);this._push("scroll","HTML/BODY[@x='"+n+"'][@y='"+i+"']")},collectClick:function(t){var n,i,r,a,o,c,s,d,u=t.target||t.srcElement,l=u.nodeName.toUpperCase();u.getBoundingClientRect&&(n=u.getBoundingClientRect(),d="",i=Math.max(e.scrollLeft,document.body.scrollLeft)||0,r=Math.max(e.scrollTop,document.body.scrollTop)||0,a=t.pageX||t.clientX+i||0,t=t.pageY||t.clientY+r||0,o=parseInt((e.clientWidth||document.body.clientWidth)/2,10)||0,s=c=0,d="SELECT"==l&&t-n.top-r<0?(c=a,s=t-r,(d+="[@x='"+parseInt(a+n.left+i-o,10)+"'][@y='"+parseInt(t+n.top,10)+"']")+"[@rx='"+c+"'][@ry='"+s+"']"):(d+="[@x='"+(a-o)+"'][@y='"+t+"']")+"[@rx='"+(c=parseInt(a-n.left-i,10))+"'][@ry='"+(s=parseInt(t-n.top-r,10))+"']",0<c)&&0<s&&this._push("click",this._getXpath(u)+d)}};vnload",function(){n._checkSend(!0)})},!1);function coFCP(){for(var e={name:"106376",tag:{fp_status:0,fcp_status:0},value:{fp:0,fcp:0}},t=performance.getEntriesByType("paint"),n=0,i=t.length;n<i;n++){var r=t[n];switch(r.name){case"first-paint":e.tag.fp_status=1,e.value.fp=Math.floor(r.startTime+r.duration);break;case"first-contentful-paint":e.tag.fcp_status=1,e.value.fcp=Math.floor(r.startTime+r.duration)}}!coFCPDone&&e.value.fcp&&e.value.fp&&(coFCPDone=!0,ubt._trackMetric(e))}function coPerfNav(){var e=performance.getEntriesByType("navigation");if(e&&0<e.length){var t={name:"133077",tag:{},value:{}};if(Y.CFG[133077])try{t.tag.extend=JSON.stringify(Y.CFG[133077])}catch(o){console.log(o)}var n,i=e[0];for(n in i){var r=i[n],a=typeof r;"number"==a&&0<r?t.value[n]=parseFloat(r.toFixed(4)):"string"==a&&r.length<100&&(t.tag[n]=r)}ubt._trackMetric(t)}}function coPwm(){var e;window.PerformanceObserver&&"function"==typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&-1!=PerformanceObserver.supportedEntryTypes.indexOf("paint")&&window.PerformancePaintTiming&&performance.getEntriesByType&&(performance.getEntriesByType("paint")&&1<performance.getEntriesByType("paint").length?corver(function(t){e||(e=!0,coFCP())}).observe({entryTypes:["paint"]})),setTimeout(coPerfNav,30))}Y.shuffle=function(e){for(var t=e.length-1;0<=t;t--){var n=Math.floor(Math.random()*(t+1)),i=e[n];e[n]=e[t],e[t]=i}return e},Y.restiming=function(){try{coPwm()}catch(a){}var e,t,n,i,r=ubt.get_("vid");if(r&&!(Y.hash(r)%100<90&&-1==window.location.hostname.indexOf(".trip.com")))try{"performance"in window&&"getEntriesByType"in window.performance&&window.performance.getEntriesByType("resource")instanceof Array&&(e=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,t=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],n=/^([a-z]+\d*|(webresource|pic)\.english)\.((c-)?c?trip.com)/i,i=/(-s|static)\.tripcdn\.(com|cn)$/,Y.on(window,"load",function(){for(var r=Y.shuffle(window.performance.getEntriesByType("resource")||[]).filter(function(r){return!("string"!=typeof(r=function(n){if("string"!=typeof n)return"";for(var i=e.exec(n),r={},a=14;a--;)i[a]&&(r[t[a]]=i[a]);return r}(r.name)).host||!n.test(r.host)&&!i.test(r.host))}),a=[],o=[],c=0,s=0;s<r.length;s++){var d=r[s],u=d.name;if(10<r.length&&c===Math.round(.1*r.length))break;5===o.length&&(a.push(o),o=[]),o.push({entryType:d.entryType||"",initiatorType:d.initiatorType||"",name:u,nextHopProtocol:"",startTime:d.startTime||0,redirectStart:d.redirectStart||0,redirectEnd:d.redirectEnd||0,fetchStart:d.fetchStart||0,domainLookupStart:d.domainLookupStart||0,domainLookupEnd:d.domainLookupEnd||0,connectStart:d.connectStart||0,connectEnd:d.connectEnd||0,secureConnectionStart:d.secureConnectionStart||0,requestStart:d.requestStart||0,responseStart:d.responseStart||0,responseEnd:d.responseEnd||0,transferSize:d.transferSize||0,encodedBodySize:d.encodedBodySize||0,decodedBodySize:d.decodedBodySize||0}),++c}if(0<o.length&&a.push(o),0<a.length)try{"requestIdleCallback"in window&&window.requestIdleCallback(function e(t){for(;(5<t.timeRemaining()||t.didTimeout)&&0<a.length;){var n=a.shift();ubt.pack(n,"restiming")}0<a.length&&window.requestIdleCallback(e)})}catch(error){console.log(error)}}))}catch(a){}};var document_body_ready_wait=1,ready_wait_st_id=null,init=function(){window.ubt_req_log=window.ubt_req_log||[],window.ubt_req_log.push("sdk enter"),!document.body&&document_body_ready_wait<10&&(document_body_ready_wait+=1,ready_wait_st_id=setTimeout(init,50)),null!==ready_wait_st_id&&clearTimeout(ready_wait_st_id),Y.fingerprint=Y.fingerprintGen(),(ubt=new Y_UBT_)&&ubt.intervalTimer&&clearInterval(ubt.intervalTimer),Y.ubtConfig(function(){if(ubt.initAfterConfigReading(),Y.restiming(),Y.userAction(),Y.renderAPI(),Y.CFG.third_modules&&Y.CFG.third_modules.length)for(var e,t=0,n=Y.CFG.third_modules.length;t<n;t++)(e=Y.CFG.third_modules[t]).shouldLoad()&&Y.loadScript(e.src,e.option)}),document.ubt.isPVSend&&ubt.updateLastView()})};init()}catch(e){}var i,r,a,o,c}(window);
//# sourceMappingURL=_bfa.min.js.fb2f79b7.map