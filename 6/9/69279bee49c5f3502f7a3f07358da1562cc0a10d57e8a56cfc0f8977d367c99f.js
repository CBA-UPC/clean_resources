/*!
 * Bootstrap-select v1.13.14 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2020 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */@-webkit-keyframes bs-notify-fadeOut{0%{opacity:.9}100%{opacity:0}}@-o-keyframes bs-notify-fadeOut{0%{opacity:.9}100%{opacity:0}}@keyframes bs-notify-fadeOut{0%{opacity:.9}100%{opacity:0}}.bootstrap-select>select.bs-select-hidden,select.bs-select-hidden,select.selectpicker{display:none!important}.bootstrap-select{width:220px\0;vertical-align:middle}.bootstrap-select>.dropdown-toggle{position:relative;width:100%;text-align:right;white-space:nowrap;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.bootstrap-select>.dropdown-toggle:after{margin-top:-1px}.bootstrap-select>.dropdown-toggle.bs-placeholder,.bootstrap-select>.dropdown-toggle.bs-placeholder:active,.bootstrap-select>.dropdown-toggle.bs-placeholder:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder:hover{color:#999}.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-danger,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-danger:active,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-danger:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-danger:hover,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-dark,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-dark:active,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-dark:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-dark:hover,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-info,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-info:active,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-info:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-info:hover,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-primary,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-primary:active,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-primary:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-primary:hover,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-secondary,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-secondary:active,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-secondary:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-secondary:hover,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-success,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-success:active,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-success:focus,.bootstrap-select>.dropdown-toggle.bs-placeholder.btn-success:hover{color:rgba(255,255,255,.5)}.bootstrap-select>select{position:absolute!important;bottom:0;left:50%;display:block!important;width:.5px!important;height:100%!important;padding:0!important;opacity:0!important;border:none;z-index:0!important}.bootstrap-select>select.mobile-device{top:0;left:0;display:block!important;width:100%!important;z-index:2!important}.bootstrap-select.is-invalid .dropdown-toggle,.error .bootstrap-select .dropdown-toggle,.has-error .bootstrap-select .dropdown-toggle,.was-validated .bootstrap-select select:invalid+.dropdown-toggle{border-color:#b94a48}.bootstrap-select.is-valid .dropdown-toggle,.was-validated .bootstrap-select select:valid+.dropdown-toggle{border-color:#28a745}.bootstrap-select.fit-width{width:auto!important}.bootstrap-select:not([class*=col-]):not([class*=form-control]):not(.input-group-btn){width:220px}.bootstrap-select .dropdown-toggle:focus,.bootstrap-select>select.mobile-device:focus+.dropdown-toggle{outline:thin dotted #333!important;outline:5px auto -webkit-focus-ring-color!important;outline-offset:-2px}.bootstrap-select.form-control{margin-bottom:0;padding:0;border:none;height:auto}:not(.input-group)>.bootstrap-select.form-control:not([class*=col-]){width:100%}.bootstrap-select.form-control.input-group-btn{float:none;z-index:auto}.form-inline .bootstrap-select,.form-inline .bootstrap-select.form-control:not([class*=col-]){width:auto}.bootstrap-select:not(.input-group-btn),.bootstrap-select[class*=col-]{float:none;display:inline-block;margin-left:0}.bootstrap-select.dropdown-menu-right,.bootstrap-select[class*=col-].dropdown-menu-right,.row .bootstrap-select[class*=col-].dropdown-menu-right{float:right}.form-group .bootstrap-select,.form-horizontal .bootstrap-select,.form-inline .bootstrap-select{margin-bottom:0}.form-group-lg .bootstrap-select.form-control,.form-group-sm .bootstrap-select.form-control{padding:0}.form-group-lg .bootstrap-select.form-control .dropdown-toggle,.form-group-sm .bootstrap-select.form-control .dropdown-toggle{height:100%;font-size:inherit;line-height:inherit;border-radius:inherit}.bootstrap-select.form-control-lg .dropdown-toggle,.bootstrap-select.form-control-sm .dropdown-toggle{font-size:inherit;line-height:inherit;border-radius:inherit}.bootstrap-select.form-control-sm .dropdown-toggle{padding:.25rem .5rem}.bootstrap-select.form-control-lg .dropdown-toggle{padding:.5rem 1rem}.form-inline .bootstrap-select .form-control{width:100%}.bootstrap-select.disabled,.bootstrap-select>.disabled{cursor:not-allowed}.bootstrap-select.disabled:focus,.bootstrap-select>.disabled:focus{outline:0!important}.bootstrap-select.bs-container{position:absolute;top:0;left:0;height:0!important;padding:0!important}.bootstrap-select.bs-container .dropdown-menu{z-index:1060}.bootstrap-select .dropdown-toggle .filter-option{position:static;top:0;left:0;float:left;height:100%;width:100%;text-align:left;overflow:hidden;-webkit-box-flex:0;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto}.bs3.bootstrap-select .dropdown-toggle .filter-option{padding-right:inherit}.input-group .bs3-has-addon.bootstrap-select .dropdown-toggle .filter-option{position:absolute;padding-top:inherit;padding-bottom:inherit;padding-left:inherit;float:none}.input-group .bs3-has-addon.bootstrap-select .dropdown-toggle .filter-option .filter-option-inner{padding-right:inherit}.bootstrap-select .dropdown-toggle .filter-option-inner-inner{overflow:hidden}.bootstrap-select .dropdown-toggle .filter-expand{width:0!important;float:left;opacity:0!important;overflow:hidden}.bootstrap-select .dropdown-toggle .caret{position:absolute;top:50%;right:12px;margin-top:-2px;vertical-align:middle}.input-group .bootstrap-select.form-control .dropdown-toggle{border-radius:inherit}.bootstrap-select[class*=col-] .dropdown-toggle{width:100%}.bootstrap-select .dropdown-menu{min-width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.bootstrap-select .dropdown-menu>.inner:focus{outline:0!important}.bootstrap-select .dropdown-menu.inner{position:static;float:none;border:0;padding:0;margin:0;border-radius:0;-webkit-box-shadow:none;box-shadow:none}.bootstrap-select .dropdown-menu li{position:relative}.bootstrap-select .dropdown-menu li.active small{color:rgba(255,255,255,.5)!important}.bootstrap-select .dropdown-menu li.disabled a{cursor:not-allowed}.bootstrap-select .dropdown-menu li a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bootstrap-select .dropdown-menu li a.opt{position:relative;padding-left:2.25em}.bootstrap-select .dropdown-menu li a span.check-mark{display:none}.bootstrap-select .dropdown-menu li a span.text{display:inline-block}.bootstrap-select .dropdown-menu li small{padding-left:.5em}.bootstrap-select .dropdown-menu .notify{position:absolute;bottom:5px;width:96%;margin:0 2%;min-height:26px;padding:3px 5px;background:#f5f5f5;border:1px solid #e3e3e3;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05);pointer-events:none;opacity:.9;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.bootstrap-select .dropdown-menu .notify.fadeOut{-webkit-animation:.3s linear 750ms forwards bs-notify-fadeOut;-o-animation:.3s linear 750ms forwards bs-notify-fadeOut;animation:.3s linear 750ms forwards bs-notify-fadeOut}.bootstrap-select .no-results{padding:3px;background:#f5f5f5;margin:0 5px;white-space:nowrap}.bootstrap-select.fit-width .dropdown-toggle .filter-option{position:static;display:inline;padding:0}.bootstrap-select.fit-width .dropdown-toggle .filter-option-inner,.bootstrap-select.fit-width .dropdown-toggle .filter-option-inner-inner{display:inline}.bootstrap-select.fit-width .dropdown-toggle .bs-caret:before{content:'\00a0'}.bootstrap-select.fit-width .dropdown-toggle .caret{position:static;top:auto;margin-top:-1px}.bootstrap-select.show-tick .dropdown-menu .selected span.check-mark{position:absolute;display:inline-block;right:15px;top:5px}.bootstrap-select.show-tick .dropdown-menu li a span.text{margin-right:34px}.bootstrap-select .bs-ok-default:after{content:'';display:block;width:.5em;height:1em;border-style:solid;border-width:0 .26em .26em 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.bootstrap-select.show-menu-arrow.open>.dropdown-toggle,.bootstrap-select.show-menu-arrow.show>.dropdown-toggle{z-index:1061}.bootstrap-select.show-menu-arrow .dropdown-toggle .filter-option:before{content:'';border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(204,204,204,.2);position:absolute;bottom:-4px;left:9px;display:none}.bootstrap-select.show-menu-arrow .dropdown-toggle .filter-option:after{content:'';border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute;bottom:-4px;left:10px;display:none}.bootstrap-select.show-menu-arrow.dropup .dropdown-toggle .filter-option:before{bottom:auto;top:-4px;border-top:7px solid rgba(204,204,204,.2);border-bottom:0}.bootstrap-select.show-menu-arrow.dropup .dropdown-toggle .filter-option:after{bottom:auto;top:-4px;border-top:6px solid #fff;border-bottom:0}.bootstrap-select.show-menu-arrow.pull-right .dropdown-toggle .filter-option:before{right:12px;left:auto}.bootstrap-select.show-menu-arrow.pull-right .dropdown-toggle .filter-option:after{right:13px;left:auto}.bootstrap-select.show-menu-arrow.open>.dropdown-toggle .filter-option:after,.bootstrap-select.show-menu-arrow.open>.dropdown-toggle .filter-option:before,.bootstrap-select.show-menu-arrow.show>.dropdown-toggle .filter-option:after,.bootstrap-select.show-menu-arrow.show>.dropdown-toggle .filter-option:before{display:block}.bs-actionsbox,.bs-donebutton,.bs-searchbox{padding:4px 8px}.bs-actionsbox{width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.bs-actionsbox .btn-group button{width:50%}.bs-donebutton{float:left;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.bs-donebutton .btn-group button{width:100%}.bs-searchbox+.bs-actionsbox{padding:0 8px 4px}.bs-searchbox .form-control{margin-bottom:0;width:100%;float:none}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              his field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=this.groups={},t;$.each(this.settings.groups,(function(t,a){if(typeof a==="string"){a=a.split(/\s/)}$.each(a,(function(a,s){e[s]=t}))}));t=this.settings.rules;$.each(t,(function(e,a){t[e]=$.validator.normalizeRule(a)}));function a(e){if(t){var t=$.data(this[0].form,"validator"),a="on"+e.type.replace(/^validate/,""),s=t.settings;if(s[a]&&!this.is(s.ignore)){s[a].call(t,this[0],e)}}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}$(this.currentForm).find("[required], [data-rule-required], .required").not("[data-no-jquery-aria-required]").attr("aria-required","true")},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(e){var t=this.clean(e),a=this.validationTargetFor(t),s=true;this.lastElement=a;if(a===undefined){delete this.invalid[t.name]}else{this.prepareElement(a);this.currentElements=$(a);s=this.check(a)!==false;if(s){delete this.invalid[a.name]}else{this.invalid[a.name]=true}}$(e).attr("aria-invalid",!s);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return s},showErrors:function(e){if(e){$.extend(this.errorMap,e);this.errorList=[];for(var t in e){this.errorList.push({message:e[t],element:this.findByName(t)[0]})}this.successList=$.grep(this.successList,(function(t){return!(t.name in e)}))}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},resetElement:function(e){this.errorList=this.errorList.filter((t=>t.element!==e));delete this.errorMap[e.name];delete this.submitted[e.name];this.settings.unhighlight(e)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,a;for(a in e){t++}return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var e=this.lastActive;return e&&$.grep(this.errorList,(function(t){return t.element.name===e.name})).length===1&&e},elements:function(){var e=this,t={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true}))},clean:function(e){return $(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(e){var t,a=$(e),s=a.attr("type");if(s==="radio"||s==="checkbox"){return $("input[name='"+a.attr("name")+"']:checked").val()}t=a.val();if(typeof t==="string"){return t.replace(/\r/g,"")}return t},check:function(e){e=this.validationTargetFor(this.clean(e));var t=$(e).rules(),a=$.map(t,(function(e,t){return t})).length,s=false,n=this.elementValue(e),i,o,r;for(o in t){r={method:o,parameters:t[o]};try{i=$.validator.methods[o].call(this,n,e,r.parameters);if(i==="dependency-mismatch"&&a===1){s=true;continue}s=false;if(i==="pending"){this.toHide=this.toHide.not(this.errorsFor(e));return}if(!i){this.formatAndAdd(e,r);return false}}catch(t){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t)}throw t}}if(s){return}if(this.objectLength(t)){this.successList.push(e)}return true},customDataMessage:function(e,t){return $(e).data("msg"+t[0].toUpperCase()+t.substring(1).toLowerCase())||$(e).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||undefined,$.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t.method),s=/\$?\{(\d+)\}/g;if(typeof a==="function"){a=a.call(this,t.parameters,e)}else if(s.test(a)){a=$.validator.format(a.replace(s,"{$1}"),t.parameters)}this.errorList.push({message:a,element:e,method:t.method});this.errorMap[e.name]=a;this.submitted[e.name]=a},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++){a=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map((function(){return this.element}))},showLabel:function(e,t){var a=this.errorsFor(e);if(a.length){a.removeClass(this.settings.validClass).addClass(this.settings.errorClass);a.html(t)}else{a=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(a).length){if(this.settings.errorPlacement){this.settings.errorPlacement(a,$(e))}else{a.insertAfter(e)}}}if(!t&&this.settings.success){a.text("");if(typeof this.settings.success==="string"){a.addClass(this.settings.success)}else{this.settings.success(a,e)}}this.toShow=this.toShow.add(a)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter((function(){return $(this).attr("for")===t}))},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){if(this.checkable(e)){e=this.findByName(e.name).not(this.settings.ignore)[0]}return e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return $(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return $("option:selected",t).length;case"input":if(this.checkable(t)){return this.findByName(t.name).filter(":checked").length}}return e.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!$(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!$.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,t){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(t&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!t&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(e){return $.data(e,"previousValue")||$.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,t){if(e.constructor===String){this.classRuleSettings[e]=t}else{$.extend(this.classRuleSettings,e)}},classRules:function(e){var t={},a=$(e).attr("class");if(a){$.each(a.split(" "),(function(){if(this in $.validator.classRuleSettings){$.extend(t,$.validator.classRuleSettings[this])}}))}return t},attributeRules:function(e){var t={},a=$(e),s=e.getAttribute("type"),n,i;for(n in $.validator.methods){if(n==="required"){i=e.getAttribute(n);if(i===""){i=true}i=!!i}else{i=a.attr(n)}if(/min|max/.test(n)&&(s===null||/number|range|text/.test(s))){i=Number(i)}if(i||i===0){t[n]=i}else if(s===n&&s!=="range"){t[n]=true}}if(t.maxlength&&/-1|2147483647|524288/.test(t.maxlength)){delete t.maxlength}return t},dataRules:function(e){var t,a,s={},n=$(e);for(t in $.validator.methods){a=n.data("rule"+t[0].toUpperCase()+t.substring(1).toLowerCase());if(a!==undefined){s[t]=a}}return s},staticRules:function(e){var t={},a=$.data(e.form,"validator");if(a.settings.rules){t=$.validator.normalizeRule(a.settings.rules[e.name])||{}}return t},normalizeRules:function(e,t){$.each(e,(function(a,s){if(s===false){delete e[a];return}if(s.param||s.depends){var n=true;switch(typeof s.depends){case"string":n=!!$(s.depends,t.form).length;break;case"function":n=s.depends.call(t,t);break}if(n){e[a]=s.param!==undefined?s.param:true}else{delete e[a]}}}));$.each(e,(function(a,s){e[a]=$.isFunction(s)?s(t):s}));$.each(["minlength","maxlength"],(function(){if(e[this]){e[this]=Number(e[this])}}));$.each(["rangelength","range"],(function(){var t;if(e[this]){if($.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else if(typeof e[this]==="string"){t=e[this].split(/[\s,]+/);e[this]=[Number(t[0]),Number(t[1])]}}}));if($.validator.autoCreateRanges){if(e.min&&e.max){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength&&e.maxlength){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var t={};$.each(e.split(/\s/),(function(){t[this]=true}));e=t}return e},addMethod:function(e,t,a){$.validator.methods[e]=t;$.validator.messages[e]=a!==undefined?a:$.validator.messages[e];if(t.length<3){$.validator.addClassRules(e,$.validator.normalizeRule(e))}},methods:{required:function(e,t,a){if(!this.depend(a,t)){return"dependency-mismatch"}if(t.nodeName.toLowerCase()==="select"){var s=$(t).val();if(t.hasAttribute("data-has-default-value")){return false}return s&&s.length>0}if(this.checkable(t)){return this.getLength(e,t)>0}return $.trim(e).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(e)){return false}var a=0,s=0,n=false,i,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19){return false}for(i=e.length-1;i>=0;i--){o=e.charAt(i);s=parseInt(o,10);if(n){if((s*=2)>9){s-=9}}a+=s;n=!n}return a%10===0},minlength:function(e,t,a){var s=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||s>=a},maxlength:function(e,t,a){var s=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||s<=a},rangelength:function(e,t,a){var s=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||s>=a[0]&&s<=a[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},equalTo:function(e,t,a){var s=$(a);if(this.settings.onfocusout){s.unbind(".validate-equalTo").bind("blur.validate-equalTo",(function(){$(t).valid()}))}return e===s.val()},remote:function(e,t,a){if(this.optional(t)){return"dependency-mismatch"}var s=this.previousValue(t),n,i;if(!this.settings.messages[t.name]){this.settings.messages[t.name]={}}s.originalMessage=this.settings.messages[t.name].remote;this.settings.messages[t.name].remote=s.message;a=typeof a==="string"&&{url:a}||a;if(s.old===e){return s.valid}s.old=e;n=this;this.startRequest(t);i={};i[t.name]=e;$.ajax($.extend(true,{url:a,mode:"abort",port:"validate"+t.name,dataType:"json",data:i,context:n.currentForm,success:function(i){var o=i===true||i==="true",r,l,c;if(i===null&&a?.data?.action!==undefined){window.Rollbar.info("EE Validation: limit has been met!",{action:a?.data?.action})}n.settings.messages[t.name].remote=s.originalMessage;if(o){c=n.formSubmitted;n.prepareElement(t);n.formSubmitted=c;n.successList.push(t);delete n.invalid[t.name];n.showErrors()}else{r={};l=i||n.defaultMessage(t,"remote");r[t.name]=s.message=$.isFunction(l)?l(e):l;n.invalid[t.name]=true;n.showErrors(r)}s.valid=o;n.stopRequest(t,o)}},a));return"pending"}}});$.format=function e(){throw"$.format has been deprecated. Please use $.validator.format instead."}})(jQuery);(function($){var e={},t;if($.ajaxPrefilter){$.ajaxPrefilter((function(t,_,a){var s=t.port;if(t.mode==="abort"){if(e[s]){e[s].abort()}e[s]=a}}))}else{t=$.ajax;$.ajax=function(a){var s=("mode"in a?a:$.ajaxSettings).mode,n=("port"in a?a:$.ajaxSettings).port;if(s==="abort"){if(e[n]){e[n].abort()}e[n]=t.apply(this,arguments);return e[n]}return t.apply(this,arguments)}}})(jQuery);(function($){$.extend($.fn,{validateDelegate:function(e,t,a){return this.bind(t,(function(t){var s=$(t.target);if(s.is(e)){return a.apply(s,arguments)}}))}})})(jQuery)},68183:function(e,t){var a,s,n;(function(i,o){if(true){!(s=[],a=o,n=typeof a==="function"?a.apply(t,s):a,n!==undefined&&(e.exports=n))}else{}})(this,(function(){var e={};function t(t){var a=e[t];if(!a){var s="var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/\\(?=[^\*]*\*!)/g,"\t").split("\\").join("\\\\").split("\t").join("\\").replace(/'(?=[^\*]*\*!)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/!\*=raw *(.+?);* *\*!/g,"',$1,'").replace(/!\*=html *(.+?);* *\*!/g,"',window.BambooHR.Utils.sanitizeHtml($1),'").replace(/!\*= *(.+?);* *\*!/g,"',window.microTemplate.encodeHtml($1),'").split("!*").join("');").split("*!").join("\np.push('")+"');}return p.join('');";a=new Function("obj","microTemplate",s);e[t]=a}return a}function a(e){let s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof e==="function"){return e(s,a)}return t(e)(s,a)}a.encodeHtml=function(e){if(/[<>'"&]/.test(e)){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return e};a.decodeHtml=function(e){var t=document.createElement("div");t.innerHTML=String(e);var a=t.childNodes[0];return a?a.nodeValue:""};a.escapeQuotes=function(e){return String(e).replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};a.compiler=t;return a}))},51341:(e,t,a)=>{"use strict";var s=a(82543);var n=a.n(s);var i=a(51154);var o=a.n(i);var $=a(26570);var r=n().localeData(),l=r._calendar.nextWeek,c=r._longDateFormat.LL;if(!window.BambooHR.env.dev){n().suppressDeprecationWarnings=true}function d(e){return!!(e&&e.constructor&&e.call&&e.apply)}function u(e){var t,a=l,s=c;if(d(a)){a=a.apply(this,arguments)}if(d(s)){s=s.apply(this,arguments)}t=s.replace(/M+/,"MMM");if(this.isSame(e,"year")){t=t.replace(/[^MD]+Y+[^MD]+/,"")}return a.replace(/^[^d]*d+/,t)}n().locale(r._abbr,{calendar:$.extend(r._calendar,{lastWeek:u,nextWeek:u,sameElse:u})});$("[ba-date]").observe((function(){var e=$(this),t=e.text().trim(),a=e.attr("ba-date"),s=e.attr("ba-date-format-type"),i=e.attr("ba-date-tz"),o=e.data("ba-date")||n().utc(t),r;o=i&&i.toLowerCase()=="utc"?o.utc():o.local();if(a&&s){Object.keys(n().convert).some((function(e){if(e.toLowerCase()===s.toLowerCase()){a=n().convert[e](a);return true}}))}r=a?o.format(a):o.calendar();e.text(r).data("ba-date",o).addClass("ba-date-loaded")}));n().fn.isWeekend=function(){return this.isoWeekday()>=6};n().convert={};(function(){var e={jQuery:{dd:"DD",d:"D",oo:"DDDD",o:"DDD",DD:"dddd",D:"ddd",mm:"MM",m:"M",MMM:"MMM",MM:"MMMM",M:"MMM",yyyy:"YYYY",yy:"YYYY",y:"YY","@":"X","!":"[!]"},PHP:{d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var e=this.clone().utc(),t=(e.hours()+1)%24+e.minutes()/60+e.seconds()/3600;return Math.floor(t*1e3/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return parseInt(this.format("ZZ"),10)*36},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"}};Object.keys(e).forEach((function(t){var a=new RegExp(Object.keys(e[t]).join("|"),"g");n().convert[t]=function(s){var n=this;return(s||"").replace(a,(function(a){return typeof e[t][a]==="function"?e[t][a].call(n):e[t][a]}))}}))})();n().defaultFormat=n().convert.jQuery(window.GLOBAL_DATEPICKER_MASK)||"MM/DD/YYYY";function h(e){switch(e){case"DD MMM YYYY":return"DD MMM";case"YYYY-MM-DD":return"MM-DD";case"DD/MM/YYYY":return"DD/MM";case"MM/DD/YYYY":default:return"MM/DD"}}n().shortFormat=h(n().defaultFormat);n().$=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;e=$(e).first();const a=e.datepicker("option","dateFormat");const s=a?n().convert.jQuery(a):n().defaultFormat;return n()(e.val(),s,t)};t["Z"]=n()},28294:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var $=a(26570);function s(e,t,s){return Promise.all([new Promise(((t,a)=>{$.get(e).then(t,a)})),a.e(8509).then(a.bind(a,35272))]).then((e=>{let[a,n]=e;const{bambooHRPdfViewer:i}=n;if(window.PDFViewer){window.PDFViewer._initialize(a,t,s)}else{window.PDFViewer=new i(a,t,s)}}))}},76046:(e,t,a)=>{"use strict";var s=a(14186);var n=a.n(s);var i=a(20982);var o=a.n(i)},14186:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var jQuery=__webpack_require__(26570);var moment=__webpack_require__(82543);var $=__webpack_require__(26570);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"sort-descending",cssDesc:"sort-ascending",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};var sortWrapper;function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}this.benchmark=benchmark;function log(e){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(e)}else{alert(e)}}function buildParserCache(e,t){if(e.config.debug){var a=""}if(e.tBodies.length==0)return;var s=e.tBodies[0].rows;if(s[0]){var n=[],i=s[0].cells,o=i.length;for(var r=0;r<o;r++){var l=false;if($.metadata&&$(t[r]).metadata()&&$(t[r]).metadata().sorter){l=getParserById($(t[r]).metadata().sorter)}else if(e.config.headers[r]&&e.config.headers[r].sorter){l=getParserById(e.config.headers[r].sorter)}if(!l){l=detectParserForColumn(e,s,-1,r)}if(e.config.debug){a+="column:"+r+" parser:"+l.id+"\n"}n.push(l)}}if(e.config.debug){log(a)}return n}function detectParserForColumn(e,t,a,s){var n=parsers.length,i=false,o=false,r=true;while(o==""&&r){a++;if(t[a]){i=getNodeFromRowAndCellIndex(t,a,s);o=trimAndGetNodeText(e.config,i);if(e.config.debug){log("Checking if value was empty on row:"+a)}}else{r=false}}for(var l=1;l<n;l++){if(parsers[l].is(o,e,i)){return parsers[l]}}return parsers[0]}function getNodeFromRowAndCellIndex(e,t,a){return e[t].cells[a]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){var t=parsers.length;for(var a=0;a<t;a++){if(parsers[a].id.toLowerCase()==e.toLowerCase()){return parsers[a]}}return false}function buildCache(e){if(e.config.debug){var t=new Date}var a=e.tBodies[0]&&e.tBodies[0].rows.length||0,s=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,n=e.config.parsers,i={row:[],normalized:[]};for(var o=0;o<a;++o){var r=$(e.tBodies[0].rows[o]),l=[];if(r.hasClass(e.config.cssChildRow)){i.row[i.row.length-1]=i.row[i.row.length-1].add(r);continue}i.row.push(r);for(var c=0;c<s;++c){l.push(n[c].format(getElementText(e.config,r[0].cells[c]),e,r[0].cells[c]))}l.push(i.normalized.length);i.normalized.push(l);l=null}if(e.config.debug){benchmark("Building cache for "+a+" rows:",t)}return i}function getElementText(e,t){var a="";if(!t)return"";if(!e.supportsTextContent)e.supportsTextContent=t.textContent||false;if(e.textExtraction=="simple"){if(e.supportsTextContent){a=t.textContent}else{if(t.childNodes[0]&&t.childNodes[0].hasChildNodes()){a=t.childNodes[0].innerHTML}else{a=t.innerHTML}}}else{if(typeof e.textExtraction=="function"){a=e.textExtraction(t)}else{a=$(t).text()}}return a}function appendToTable(e,t){if(e.config.debug){var a=new Date}var s=t,n=s.row,i=s.normalized,o=i.length,r=i[0].length-1,l=$(e.tBodies[0]),c=[];for(var d=0;d<o;d++){var u=i[d][r];c.push(n[u]);if(!e.config.appender){var h=n[u].length;for(var p=0;p<h;p++){l[0].appendChild(n[u][p])}}}if(e.config.appender){e.config.appender(e,c)}c=null;if(e.config.debug){benchmark("Rebuilt table:",a)}applyWidget(e);setTimeout((function(){$(e).trigger("sortEnd")}),0)}function buildHeaders(e){if(e.config.debug){var t=new Date}var a=$.metadata?true:false;var s=computeTableHeaderCellIndexes(e);var n=$(e.config.selectorHeaders,e).each((function(t){this.column=s[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(e.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(e,t))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(e,t))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t);if(!this.sortDisabled){var a=$(this).addClass(e.config.cssHeader);if(e.config.onRenderHeader)e.config.onRenderHeader.apply(a)}e.config.headerList[t]=this}));if(e.config.debug){benchmark("Built headers:",t);log(n)}return n}function computeTableHeaderCellIndexes(e){var t=[];var a={};var s=e.getElementsByTagName("THEAD")[0];var n=s.getElementsByTagName("TR");for(var i=0;i<n.length;i++){var o=n[i].cells;for(var r=0;r<o.length;r++){var l=o[r];var c=l.parentNode.rowIndex;var d=c+"-"+l.cellIndex;var u=l.rowSpan||1;var h=l.colSpan||1;var p;if(typeof t[c]=="undefined"){t[c]=[]}for(var m=0;m<t[c].length+1;m++){if(typeof t[c][m]=="undefined"){p=m;break}}a[d]=p;for(var m=c;m<c+u;m++){if(typeof t[m]=="undefined"){t[m]=[]}var f=t[m];for(var g=p;g<p+h;g++){f[g]="x"}}}}return a}function checkCellColSpan(e,t,a){var s=[],n=e.tHead.rows,i=n[a].cells;for(var o=0;o<i.length;o++){var r=i[o];if(r.colSpan>1){s=s.concat(checkCellColSpan(e,headerArr,a++))}else{if(e.tHead.length==1||r.rowSpan>1||!n[a+1]){s.push(r)}}}return s}function checkHeaderMetadata(e){if($.metadata&&$(e).metadata().sorter===false){return true}return false}function checkHeaderOptions(e,t){if(e.config.headers[t]&&e.config.headers[t].sorter===false){return true}return false}function checkHeaderOptionsSortingLocked(e,t){if(e.config.headers[t]&&e.config.headers[t].lockedOrder)return e.config.headers[t].lockedOrder;return false}function applyWidget(e){var t=e.config.widgets;var a=t.length;for(var s=0;s<a;s++){getWidgetById(t[s]).format(e)}}function getWidgetById(e){var t=widgets.length;for(var a=0;a<t;a++){if(widgets[a].id.toLowerCase()==e.toLowerCase()){return widgets[a]}}}function formatSortingOrder(e){if(typeof e!="Number"){return e.toLowerCase()=="desc"?1:0}else{return e==1?1:0}}function isValueInArray(e,t){var a=t.length;for(var s=0;s<a;s++){if(t[s][0]==e){return true}}return false}function setHeadersCss(e,t,a,s){t.removeClass(s[0]).removeClass(s[1]);var n=[];t.each((function(e){if(!this.sortDisabled){n[this.column]=$(this)}}));var i=a.length;for(var o=0;o<i;o++){if(n[a[o][0]]!==undefined){n[a[o][0]].addClass(s[a[o][1]])}}}function fixColumnWidth(e,t){var a=e.config;if(a.widthFixed){var s=$("<colgroup>");$("tr:first td",e.tBodies[0]).each((function(){s.append($("<col>").css("width",$(this).width()))}));$(e).prepend(s)}}function updateHeaderSortCount(e,t){var a=e.config,s=t.length;for(var n=0;n<s;n++){var i=t[n],o=a.headerList[i[0]];o.count=i[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date}var dynamicExp="sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];if(table.config.parsers[c]==undefined){return cache}var s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c);var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date)}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(e,t,a){var s="a["+a+"]",n="b["+a+"]";if(e=="text"&&t=="asc"){return"("+s+" == "+n+" ? 0 : ("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : ("+s+" < "+n+") ? -1 : 1 )));"}else if(e=="text"&&t=="desc"){return"("+s+" == "+n+" ? 0 : ("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+s+") ? -1 : 1 )));"}else if(e=="numeric"&&t=="asc"){return"("+s+" === null && "+n+" === null) ? 0 :("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : "+s+" - "+n+"));"}else if(e=="numeric"&&t=="desc"){return"("+s+" === null && "+n+" === null) ? 0 :("+s+" === null ? Number.POSITIVE_INFINITY : ("+n+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+s+"));"}}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){if(table.config.sortLocaleCompare)return e.localeCompare(t);return e<t?-1:e>t?1:0}function sortTextDesc(e,t){if(table.config.sortLocaleCompare)return t.localeCompare(e);return t<e?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}this.construct=function(e){return this.each((function(){if(!this.tHead||!this.tBodies||this.hasInitialized===true)return;var t,a,s,n,i,o=0,r;this.config={};this.hasInitialized=true;i=$.extend(this.config,$.tablesorter.defaults,e);t=$(this);$.data(this,"tablesorter",i);s=buildHeaders(this);this.config.parsers=buildParserCache(this,s);n=buildCache(this);var l=[i.cssDesc,i.cssAsc];fixColumnWidth(this);s.click((function(e){var a=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&a>0){t.trigger("sortStart");var o=$(this);var r=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[i.sortMultiSortKey]){i.sortList=[];i.sortList.push([r,this.order]);var c=i.sortList.slice(0);if(i.sortForce!=null){var d=i.sortForce;for(var u=0;u<d.length;u++){if(d[u][0]!=r){i.sortList.push(d[u])}}}}else{if(isValueInArray(r,i.sortList)){for(var u=0;u<i.sortList.length;u++){var h=i.sortList[u],p=i.headerList[h[0]];if(h[0]==r){p.count=h[1];p.count++;h[1]=p.count%2}}}else{i.sortList.push([r,this.order])}var c=i.sortList.slice(0)}setTimeout((function(){setHeadersCss(t[0],s,c,l);appendToTable(t[0],multisort(t[0],i.sortList,n))}),1);e.preventDefault();return true}})).mousedown((function(){if(i.cancelSelection){this.onselectstart=function(){return false};return false}}));t.bind("update",(function(e,t){var a=this;setTimeout((function(){a.config.parsers=buildParserCache(a,s);n=buildCache(a);if(t&&t.resort){updateHeaderSortCount(a,a.config.sortList);appendToTable(a,multisort(a,a.config.sortList,n))}}),1)})).bind("updateCell",(function(e,t){var a=this.config;var s=[t.parentNode.rowIndex-1,t.cellIndex];n.normalized[s[0]][s[1]]=a.parsers[s[1]].format(getElementText(a,t),t)})).bind("sorton",(function(e,t){$(this).trigger("sortStart");i.sortList=t;var a=i.sortList;updateHeaderSortCount(this,a);setHeadersCss(this,s,a,l);appendToTable(this,multisort(this,a,n))})).bind("appendCache",(function(){appendToTable(this,n)})).bind("applyWidgetId",(function(e,t){getWidgetById(t).format(this)})).bind("applyWidgets",(function(){applyWidget(this)}));if($.metadata&&$(this).metadata()&&$(this).metadata().sortlist){i.sortList=$(this).metadata().sortlist}if(i.sortList.length>0||i.sortForce!=null&&i.sortForce.length>0){var c=i.sortList.slice(0);if(i.sortForce!=null){var d=i.sortForce;for(var u=0;u<d.length;u++){if(!isValueInArray(d[u][0],i.sortList)){i.sortList.push(d[u])}}}t.trigger("sorton",[i.sortList]);setHeadersCss(this,s,c,l)}applyWidget(this)}))};this.addParser=function(e){var t=parsers.length,a=true;for(var s=0;s<t;s++){if(parsers[s].id.toLowerCase()==e.id.toLowerCase()){a=false}}if(a){parsers.push(e)}};this.addWidget=function(e){widgets.push(e)};this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t};this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t};this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))};this.clearTableBody=function(e){function t(){while(this.firstChild)this.removeChild(this.firstChild)}t.apply(e.tBodies[0])}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return true},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(e,t){var a=t.config;return $.tablesorter.isDigit(e,a)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"});ts.addParser({id:"currency",is:function(e){return/^[$?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[$]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){var t=e.split("."),a="",s=t.length;for(var n=0;n<s;n++){var i=t[n];if(i.length==2){a+="0"+i}else{a+=i}}return $.tablesorter.formatFloat(a)},type:"numeric"});ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(e!=""?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"date",is:function(e){return moment(new Date(e)).isValid()},format:function(e){return $.tablesorter.formatFloat(moment(new Date(e||0)).unix())},type:"numeric"});ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var a=t.config;e=e.replace(/\-/g,"/");if(a.dateFormat=="us"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else if(a.dateFormat=="uk"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else if(a.dateFormat=="dd/mm/yy"||a.dateFormat=="dd-mm-yy"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(e){return false},format:function(e,t,a){var s=t.config,n=!s.parserMetadataName?"sortValue":s.parserMetadataName;return $(a).metadata()[n]},type:"numeric"});ts.addWidget({id:"UpdatebaIconforIE",is:function(e){return false},format:function(e){if(IS_IE_OR_EDGE){let t=e.getElementsByTagName("use");if(t.length){$.each(t,(function(e,t){if(t.href&&t.href.baseVal){t.href.baseVal=t.href.baseVal}}))}}}});ts.addWidget({id:"zebra",format:function(e){if(e.config.debug){var t=new Date}var a,s=-1,n;$("tr:visible",e.tBodies[0]).each((function(t){a=$(this);if(!a.hasClass(e.config.cssChildRow))s++;n=s%2==0;a.removeClass(e.config.widgetZebra.css[n?0:1]).addClass(e.config.widgetZebra.css[n?1:0])}));if(e.config.debug){$.tablesorter.benchmark("Applying Zebra widget",t)}}})})(jQuery);window.TSextractHiddenInput=function(e){var t=$(e);var a=t.children('input[type="hidden"]');return a.val()||t.text()};window.TSextractDataAttr=function(e){var t=$(e);return t.attr("data-sort-value")||t.text()}},20982:(e,t,a)=>{var jQuery=a(26570);(function($){$.extend({tablesorterPager:new function(){function e(e){var t=$(e.cssPageDisplay,e.container).val(e.page+1+e.seperator+e.totalPages).trigger("change");d(e)}function t(e,t){var s=e.config;s.size=t;s.totalPages=Math.ceil(s.totalRows/s.size);s.pagerPositionSet=false;r(e);a(e)}function a(e){var t=e.config;var a;if(!t.pagerPositionSet&&t.positionFixed){t=e.config;a=$(e);if(a.offset){t.container.css({top:a.offset().top+a.height()+"px"})}t.pagerPositionSet=true}}function s(e){var t=e.config;t.page=0;r(e)}function n(e){var t=e.config;t.page=t.totalPages-1;r(e)}function i(e){var t=e.config;t.page++;if(t.page>=t.totalPages-1){t.page=t.totalPages-1}r(e)}function o(e){var t=e.config;t.page--;if(t.page<=0){t.page=0}r(e)}function r(e){var t=e.config;if(t.page<0||t.page>t.totalPages-1){t.page=0}l(e,t.rowsCopy)}function l(t,s){var i=t.config;var o=s.length;var r=i.page*i.size;var l=r+i.size;if(l>s.length){l=s.length}var c=$(t.tBodies[0]);$.tablesorter.clearTableBody(t);for(var d=r;d<l;d++){var u=s[d];var o=u.length;for(var h=0;h<o;h++){c[0].appendChild(u[h])}}a(t,c);$(t).trigger("applyWidgets");if(i.page>=i.totalPages){n(t)}$(".prev,.next",i.container).removeClass("inactive");if(i.page==0){$(".prev",i.container).addClass("inactive")}if(i.page==i.totalPages-1){$(".next",i.container).addClass("inactive")}e(i)}function c(e){var t=$(".pagedisplay",e.container).val();var a=e.page;$("a.pagenumber",e.container).removeClass("selected");$('a.pagenumber[data-page-number="'+a+'"]',e.container).addClass("selected");var s=parseInt(t.substring(t.indexOf("/")+1));var n=e.size;var i=a*n;var o=e.totalRows;$(".pagedesc",e.container).html(i+1+" - "+(i+n>o?o:i+n)+" of "+o)}function d(e){var t=$(".pagedisplay",e.container).val();if(t){var a=parseInt(t.substring(t.indexOf("/")+1));$(".pages",e.container).remove();if(a>1){$(".prev",e.container).before('<span class="pages">&nbsp;&nbsp;</span>');for(var s=0;s<a;s++){var n=$('<a href="#" class="pagenumber" data-page-number="'+s+'">'+(s+1)+"</a>");$(".pages",e.container).append(n);$(".pages",e.container).append("&nbsp;&nbsp;")}}else{$(".prev, .next, .pipe",e.container).hide()}c(e);$(".pagedisplay",e.container).change((function(){c(e)}))}}this.appendFunc=function(e,t){var a=e.config;a.rowsCopy=t;a.totalRows=t.length;a.totalPages=Math.ceil(a.totalRows/a.size);l(e,t)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssPageNumber:".pagenumber",dataPageNumber:"data-page-number",seperator:"/",positionFixed:true,appender:this.appendFunc};this.construct=function(e){return this.each((function(){let a=$.extend(this.config,$.tablesorterPager.defaults,e);a.size=parseInt($(".pagesize",d).val());var c=this,d=a.container;$(this).trigger("appendCache");$(a.cssFirst,d).click((function(){s(c);return false}));$(a.cssNext,d).click((function(){i(c);return false}));$(a.cssPrev,d).click((function(){o(c);return false}));$(a.cssLast,d).click((function(){n(c);return false}));$(d).on("click",a.cssPageNumber,(function(){c.config.page=parseInt($(this).attr(a.dataPageNumber));r(c);return false}));$(a.cssPageSize,d).change((function(){t(c,parseInt($(this).val()));return false}));$(c).bind("removeRow",(function(e,t){let a;for(a in c.config.rowsCopy){if($(t).is(c.config.rowsCopy[a])){c.config.rowsCopy.splice(a,1)}}$(t).remove();c.config.totalRows=c.config.rowsCopy.length;c.config.totalPages=Math.ceil(c.config.totalRows/c.config.size);l(c,c.config.rowsCopy)}));$.tablesorterPager.config=a}))}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery)},59592:(e,t,a)=>{"use strict";a.d(t,{f:()=>g});var s=a(76725);var n=a(84479);var i=a(21198);var o=a(89100);var $=a(26570);const r=()=>{const e=new URL(window.location.href);let t;let a;let s;if((0,o.canUseLocalStorage)()){t=localStorage.getItem("__message__");a=localStorage.getItem("__messageType__");s=parseInt(localStorage.getItem("__messageTimeout__")||null);localStorage.removeItem("__message__");localStorage.removeItem("__messageType__");localStorage.removeItem("__messageTimeout__")}let n=e.searchParams.get("__message__")||t;if(n){const t=e.searchParams.get("__messageType__")||a;const o=parseInt(e.searchParams.get("__messageTimeout__")||s);e.searchParams.delete("__message__");e.searchParams.delete("__messageType__");e.searchParams.delete("__messageTimeout__");window.history.replaceState({},"",e.href);window.setTimeout((()=>{n=(0,i.sanitize)(n,{ALLOWED_ATTR:["class","href"],FORBID_TAGS:["style"]});window.setMessage(n,t);if(!isNaN(o)){window.sessionMessageTimeout=window.setTimeout((()=>{window.closeMessage()}),o)}}),0)}$(document).on("click",".messageCloseWrapper",(function(e){e.preventDefault();window.closeMessage()}))};var l=a(23321);var c=a.n(l);var d=a(77512);var u=a(59155);const h=()=>{const e=document.getElementById("sessionMessage");if(e){(0,d.s)(c().createElement(u.BasicSlidedown,{ref:e=>{window.bambooAlert=e},showOnMount:false}),e);window.closeMessage=window.bambooAlert.hideAlert;window.setMessage=function(){const t=(0,i.getMaxZIndex)();if(e.style.zIndex!==`${t}`){e.style.zIndex=t+10}window.bambooAlert.setAlert(...arguments)}}};const p=e=>{if(e&&e.text){window.setTimeout((()=>window.setMessage(e.text,e.type)),0)}};const m=(0,n.createLogger)("Alerts.mod");const f="See Alerts.mod/index.js for more info.";window.setMessage=()=>m.warn(`setMessage was called before it was initialized. ${f}`);window.closeMessage=()=>m.warn(`closeMessage was called before it was initialized. ${f}`);document.addEventListener("DOMContentLoaded",(()=>{const e=(0,s.V)("#sessionMessageJSON",true);h();p(e);r()}));function g(){window.setMessage(...arguments)}function v(){window.closeMessage(...arguments)}},71251:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x});var s=a(73641);var n=a(21198);var i=a(38592);const o=22;function r(){const e=(0,i.getRelativePosition)(this.anchor,undefined,this.settings.correctBodyPosition);const t=this.balloonElement.getBoundingClientRect();const a=(0,n.isElementInViewport)(this.anchor);const o=!(0,s.isEmpty)(this._positionLock);const r=o?this._positionLock.position:this.settings.position;const d=r==="top"||r==="bottom";const u=d?l:c;const h=u.call(this,r,e,t,a,this._positionLock,o);if(!o){this._positionLock=Object.assign({},h);this.anchor.setAttribute("balloon-position",h.position);this.balloonElement.setAttribute("position",h.position);const e=d?"left":"top";this.balloonElement.querySelector(".js-balloon-tail").style[e]=h.tail+"px";Object.assign(this.balloonElement.style,{top:h.top+"px",left:h.left+"px"})}if(h.top!==this._positionLock.top||h.left!==this._positionLock.left){this._positionLock.top=h.top;this._positionLock.left=h.left;Object.assign(this.balloonElement.style,{top:h.top+"px",left:h.left+"px"})}}function l(e,t,a,n,i,r){let{tailOnAnchor:l,flipTailOnAnchor:c,tailOnBalloon:u,flipTailOnBalloon:h,minTailOnBalloon:p,invertOnCollision:m}=this.settings;c=r?i.flipTailOnAnchor:c;h=r?i.flipTailOnBalloon:h;const f=t.top-a.height-this.settings.push;const g=t.bottom+this.settings.push;const v=f<window.pageYOffset;const y=g+a.height>window.innerHeight+window.pageYOffset;const b=d(t.width,l,c);const w=d(a.width,u,h);let S=r?i.tail:(0,s.clamp)(w,p,a.width-p);let C=t.left+b-S;let x=r?i.inverted:false;if(!r&&n){const n=C-(o+window.pageXOffset);const i=window.innerWidth+window.pageXOffset-o-(C+a.width);if(n<0||i<0){if(m){x=true;c=!c;h=!h;const e=d(t.width,l,c);const n=d(a.width,u,h);S=(0,s.clamp)(n,p,a.width-p);C=t.left+e-S}else{const e=Math.min(i,Math.abs(n));S=(0,s.clamp)(S-e,p,a.width-p);C=t.left+b-S}}if(e==="top"&&v&&!y){e="bottom"}if(e==="bottom"&&y&&!v){e="top"}}return{position:e,inverted:x,top:e==="top"?f:g,left:C,tail:S,flipTailOnAnchor:c,flipTailOnBalloon:h}}function c(e,t,a,n,i,r){let{tailOnAnchor:l,flipTailOnAnchor:c,tailOnBalloon:u,flipTailOnBalloon:h,minTailOnBalloon:p,invertOnCollision:m}=this.settings;c=r?i.flipTailOnAnchor:c;h=r?i.flipTailOnBalloon:h;const f=t.left-a.width-this.settings.push;const g=t.right+this.settings.push;const v=f<window.pageXOffset;const y=g+a.width>window.innerWidth+window.pageXOffset;const b=d(t.height,l,c);const w=d(a.height,u,h);let S=r?i.tail:(0,s.clamp)(w,p,a.height-p);let C=t.top+b-S;let x=r?i.inverted:false;if(!r&&n){const n=C-(o+window.pageYOffset);const i=window.innerHeight+window.pageYOffset-o-(C+a.height);if(n<0||i<0){if(m){x=true;c=!c;h=!h;const e=d(t.height,l,c);const n=d(a.height,u,h);S=(0,s.clamp)(n,p,a.height-p);C=t.top+e-S}else{const e=Math.min(i,Math.abs(n));S=(0,s.clamp)(S-e,p,a.height-p);C=t.top+b-S}}if(e==="left"&&v&&!y){e="right"}if(e==="right"&&y&&!v){e="left"}}return{position:e,inverted:x,top:C,left:e==="left"?f:g,tail:S,flipTailOnAnchor:c,flipTailOnBalloon:h}}function d(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=0;if(!isNaN(t)){s=Number(t)}else if(t.indexOf("px")>0){s=parseInt(t)}else if(/^[0-9]+$/.test(t)){s=Number(t)}else if(t.indexOf("%")>0){const a=parseInt(t);s=e*(a/100)}if(a){s=e-s}return s}var u='<div class="Balloon js-balloon">\n\n\t\x3c!-- Close Icon --\x3e\n\t<div class="Balloon__closeX js-balloon-close-x">\n\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="x-10x10" />\n\t</div>\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- "Tail" --\x3e\n\t<div class="Balloon__tail js-balloon-tail"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content"></div>\n\n</div>\n';var h='<div class="Balloon js-balloon">\n\n\t\x3c!-- Close Icon --\x3e\n\t<div class="Balloon__closeX js-balloon-close-x">\n\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="fab-x-12x12" />\n\t</div>\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- "Tail" --\x3e\n\t<div class="Balloon__tail js-balloon-tail"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content"></div>\n\n</div>\n';var p=a(7581);var m=a(71141);let f=[];let g=false;function v(){let e=f.filter((e=>e.showing));if(e.length&&!g){y()}else if(!e.length&&g){b()}}function y(){window.addEventListener("click",w);g=true}function b(){window.removeEventListener("click",w);g=false}function w(e){x.each((t=>{if(document.body.contains(e.target)&&!t.destroyed&&!t.balloonElement.contains(e.target)&&!t.anchor.contains(e.target)&&!t.settings.persistent){t.hide()}}))}function S(e){if(e.destroyed){throw new Error("This balloon has already been destroyed.")}}function C(e){const t=e.nodeType&&e.nodeType===1?e:document.querySelector(e);if(!t){throw new TypeError("A DOM element, or valid selector must be used as the anchor for a Balloon")}return t}class x{static get className(){return"Balloon"}constructor(e,t){this.anchor=e;this.settings=(0,s.extend)({afterCreation:s.noop,afterDestroy:s.noop,closeX:false,correctBodyPosition:true,delay:0,fadeIn:200,fadeOut:200,html:null,invertOnCollision:false,onClose:s.noop,onHide:s.noop,onShow:s.noop,persistent:false,position:"top",push:0,showImmediately:false,state:{},suppressed:false,tail:false,tailSize:0,tailBackground:null,tailBorder:null,tailOnAnchor:"50%",flipTailOnAnchor:false,tailOnBalloon:"50%",minTailOnBalloon:0,flipTailOnBalloon:false,template:null,themeClass:"Balloon",toggleOnClick:true,triggerEvent:"click"},t);this.eventCallbacks={afterCreation:this.settings.afterCreation,afterDestroy:this.settings.afterDestroy,close:[this.settings.onClose],hide:[this.settings.onHide],show:[this.settings.onShow]};this._boundClickEventHandler=this._clickEventHandler.bind(this);this._boundMouseEnterEventHandler=this._mouseEnterEventHandler.bind(this);this._boundMouseLeaveEventHandler=this._mouseLeaveEventHandler.bind(this);this.create()}create(){f.push(this);this.state=this.settings.state;this.balloonElement=null;this.created=false;this.destroyed=false;this.showing=false;this._showTimer=null;this._positionLock={};this._createBalloon();if(this.settings.showImmediately){this.show()}this._setAnchorElementEvents();return this}show(){S(this);if(this.showing){return this}if(!this.created){this._setupCloseButton();this._setTailStyles();document.body.appendChild(this.balloonElement);this.created=true;this.eventCallbacks.afterCreation(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterCreation",{bubbles:true}))}if(!this.destroyed){this.balloonElement.style.display="block";Object.assign(this.balloonElement.style,{transitionDuration:this.settings.fadeIn+"ms",transitionDelay:this.settings.delay+"ms",zIndex:(0,n.getMaxZIndex)()+10,opacity:"1"});this.showing=true;this._position();this.eventCallbacks.show.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonShow",{bubbles:true}));v()}return this}hide(){S(this);if(!this.showing){return this}const e=window.getComputedStyle(this.balloonElement).opacity;if(this.settings.fadeOut&&e!=="0"){Object.assign(this.balloonElement.style,{opacity:"0",transitionDuration:this.settings.fadeOut+"ms",transitionDelay:"",zIndex:"auto"})}else{Object.assign(this.balloonElement.style,{opacity:"0",display:""});this._unPosition()}this.showing=false;this.eventCallbacks.hide.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonHide",{bubbles:true}));v();return this}toggleBalloon(){if(this.showing){this.hide()}else{this.show()}return this}position(){window.Rollbar.info("The deprecated Balloon position() method was called.");return this}resetPositionLock(){this._positionLock={};return this}destroy(){S(this);if(this.created&&!this.destroyed){this.destroyed=true;this.balloonElement.parentNode.removeChild(this.balloonElement);this.balloonElement=null;this.eventCallbacks.afterDestroy(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterDestroy",{bubbles:true}))}this._removeAnchorElementEvents();f=f.filter((e=>e!==this));v()}suppress(){this.hide();this.settings.suppressed=true;return this}release(){this.settings.suppressed=false;return this}onShow(e){this._addEventCallback("show",e);return this}offShow(e){this._removeEventCallback("show",e);return this}onHide(e){this._addEventCallback("hide",e);return this}offHide(e){this._removeEventCallback("hide",e);return this}onClose(e){this._addEventCallback("close",e);return this}offClose(e){this._removeEventCallback("close",e);return this}setAnchor(e){this._removeAnchorElementEvents();this.anchor=C(e);this._setAnchorElementEvents();return this}setTailColors(e){if(typeof e==="string"){this.settings.tailBackground=e;this.settings.tailBorder=e}else if(typeof e==="object"){this.settings.tailBackground=e.tailBackground||this.settings.tailBackground;this.settings.tailBorder=e.tailBorder||this.settings.tailBorder}this._setTailStyles();return this}_position(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;S(this);if(this.created&&this.showing){if(e){this._positionLock={}}r.call(this);window.requestAnimationFrame((()=>{if(!this.destroyed){this._position(false)}}))}}_unPosition(){this.balloonElement.style.top="";this.balloonElement.style.left=""}_setAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.addEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.addEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.addEventListener("click",this._boundClickEventHandler)}}_removeAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.removeEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.removeEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.removeEventListener("click",this._boundClickEventHandler)}}_mouseEnterEventHandler(){if(!this.settings.suppressed){this.show()}}_mouseLeaveEventHandler(){this.hide()}_clickEventHandler(){if(this.settings.suppressed){return}if(this.settings.toggleOnClick){this.toggleBalloon()}else{this.show()}}_createBalloon(){if((0,m.isEnabled)("jade")){this.balloonElement=(0,n.fragFromHtml)(h).querySelector(".js-balloon")}else{this.balloonElement=(0,n.fragFromHtml)(u).querySelector(".js-balloon")}let e="";let t;if(this.settings.html){e=this.settings.html}else if(this.settings.template){t=p.Z[this.settings.template.name];e=t(this.settings.template.data)}else{throw new Error("HTML, or a template must be used as content.")}this.balloonElement.style.transitionDuration=this.settings.fadeIn+"ms";this.balloonElement.addEventListener("transitionend",(e=>{if(e.target===this.balloonElement&&!this.showing){this.balloonElement.style.display="";this._unPosition()}}));this.balloonElement.classList.add(this.settings.themeClass);this.balloonContentElement=this.balloonElement.querySelector(".js-balloon-content");this.balloonContentElement.appendChild((0,n.fragFromHtml)(e))}_setupCloseButton(){let e=this.balloonElement.querySelector(".js-balloon-close-x");if(this.settings.closeX){e.addEventListener("click",(()=>{this.hide();this.eventCallbacks.close.forEach((e=>e(this)))}))}else{e.style.display="none"}}_setTailStyles(){let e=this.balloonElement.querySelector(".js-balloon-tail");let t={};let a=Math.pow(this.settings.tailSize,2);let s=t.width=Math.floor(Math.sqrt(a+a));t.height=t.width=s+1+"px";t.display=this.settings.tail?"":"none";if(this.settings.tailBackground){t.backgroundColor=this.settings.tailBackground}if(this.settings.tailBorder){t.borderColor=this.settings.tailBorder}Object.assign(e.style,t)}_addEventCallback(e,t){if((0,s.isFunction)(t)){this.eventCallbacks[e].push(t)}}_removeEventCallback(e,t){this.eventCallbacks[e]=this.eventCallbacks[e].filter((e=>e!==t))}static create(e,t){const a=C(e);return new this(a,t)}static each(e){var t=this;f.forEach((function(a){if(a instanceof t){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++){n[i-1]=arguments[i]}e(a,...n)}}))}static hasInstance(e){return f.some((t=>t instanceof this&&e===t.anchor))}static getInstance(e){return f.slice().reverse().find((t=>t instanceof this&&(t.balloonElement.contains(e)||t.anchor.contains(e))))}}},7581:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var s=a(73641);function n(e){return Object.keys(e).map((t=>`${(0,s.kebabCase)(t)}: ${e[t]}`)).join("; ")}var i={convertObjectIntoInlineStylesString:n};var o=a(98580);var r=a.n(o);const l={content:null,contentClass:null,contentCssOverride:{},popoverClass:null,title:null,titleClass:null,titleCssOverride:{},rawContent:false};function c(e){if(!e.content){throw new Error('Content is required to make a "standard" popover')}e=(0,s.extend)({},l,e);e.titleCssOverride=n(e.titleCssOverride);e.contentCssOverride=n(e.contentCssOverride);return window.microTemplate(r(),e)}var d=a(52075);var u=a.n(d);const h={title:null,content:null,textAlign:"left"};function p(e){if(!e.content){throw new Error('Content is required to make a "standard" tooltip')}e=(0,s.extend)({},h,e);return window.microTemplate(u(),e)}var m={"popover-standard":c,"tooltip-standard":p}},76793:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(51341);var n=a(73641);var i=a.n(n);const o={saturday:"bhr-grid-start-saturday",sunday:"bhr-grid-start-sunday",monday:"bhr-grid-start-monday"};let r=s.Z.locale();s.Z.defineLocale(o.saturday,{parentLocale:r,week:{dow:6}});s.Z.defineLocale(o.sunday,{parentLocale:r,week:{dow:0}});s.Z.defineLocale(o.monday,{parentLocale:r,week:{dow:1}});s.Z.locale(r);const l={trail:true,groupByWeek:true,view:"month",startOfWeek:null,showWeekends:true,smartWeekView:true,smartMonthView:false};class c{static get className(){return"CalendarGrid"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=(0,n.extend)({},l,e);this._now=(0,s.Z)().startOf("day");this._setLocaleOnMomentDate(this._now);this._rangeStart=null;this._rangeEnd=null;this._marker=this._now.clone();this._setupMarker();this._setRange()}grid(){let e=this.constructor.buildRange(this._rangeStart,this._rangeEnd);if(!this._options.showWeekends){e=e.filter((e=>[0,6].indexOf(e.day())===-1))}if(this._options.groupByWeek){e=this.constructor.groupRangeByWeek(e)}return e}isTodayInRange(){return this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)}momentRange(){return{start:this._rangeStart.clone(),end:this._rangeEnd.clone()}}formattedRange(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:s.Z.defaultFormat;return{start:this._rangeStart.format(e),end:this._rangeEnd.format(e)}}setView(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.view;this._options.view=e;if(this._options.view==="month"){this._marker.endOf("week")}if(this._options.view==="1week"||this._options.view==="2weeks"){if(this._options.smartWeekView&&this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)){this._marker=this._now.clone().startOf("week")}else{this._marker.startOf("week")}}return this.jumpTo(this._marker)}today(){return this.jumpTo(this._now)}jumpTo(e){e=e.clone();this._setLocaleOnMomentDate(e);this._marker=e;this._setupMarker();this._setRange();return this}next(){switch(this._options.view){case"month":this._marker.add("1","month");break;case"2weeks":this._marker.add("2","weeks");break;case"1week":this._marker.add("1","week");break}this._setRange();return this}prev(){switch(this._options.view){case"month":this._marker.subtract("1","month");break;case"2weeks":this._marker.subtract("2","weeks");break;case"1week":this._marker.subtract("1","weeks");break}this._setRange();return this}toggleWeekends(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this._options.showWeekends;this._options.showWeekends=!!e;return this}clone(){return(0,n.cloneDeep)(this)}_setupMarker(){if(!this._marker){this._marker=this._now.clone()}switch(this._options.view){case"month":if(this._options.smartMonthView){this._marker.endOf("week")}this._marker.startOf("month");break;case"2weeks":case"1week":this._marker.startOf("week");break}}_setRange(){switch(this._options.view){case"month":this._rangeStart=this._marker.clone();this._rangeEnd=this._marker.clone().endOf("month");if(this._options.trail){this._rangeStart.startOf("week");this._rangeEnd.endOf("week")}break;case"2weeks":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("13","days");break;case"1week":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("6","days");break}}_setLocaleOnMomentDate(e){if(this._options.startOfWeek){let t=o[this._options.startOfWeek.toLowerCase()];if(t){e.locale(t)}}}static buildRange(e,t){const[a,n,i]=e.toArray();const[o,r,l]=t.toArray();const c=[];const d=s.Z.utc([a,n,i]);const u=s.Z.utc([o,r,l]);while(d.isSameOrBefore(u,"day")){const[e,t,a]=d.toArray();c.push((0,s.Z)([e,t,a]));d.add(1,"d")}return c}static groupRangeByWeek(e){let t=(0,n.groupBy)(e,(e=>e.week()));return Object.keys(t).reduce(((e,a)=>[...e,t[a]]),[]).sort(((e,t)=>e[0].diff(t[0])))}static isBetweenInclusive(e,t,a){return e.isBetween(t,a,null,"[]")}}},54706:(e,t,a)=>{"use strict";a.d(t,{R:()=>A});var s=a(89835);var n=a(92959);var i=a.n(n);var o=a(23321);var r=a.n(o);var l=a(59155);var c=a(77512);var d=a(37803);var u=a(21198);var h=a(71141);var p=a(38592);var $=a(26570);var moment=a(82543);(function($,moment){const e=(0,h.isEnabled)("jade");var t={isInRange:function(e,t,a,s){if(t&&e.isBefore(t,s)||a&&e.isAfter(a,s)){return false}return true},isEqual:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kebabToCamel:function(e){return e.split("-").reduce((function(e,t){if(!t.length){return e}return!e.length?t:e+t[0].toUpperCase()+t.substr(1)}),"")},createYearDropdown:function(e,t,a){var s="<select>";var n=[];var i;var o=moment(e);if(a){o=o.month(a.month());if(e.isAfter(o,"month")){o=o.add(1,"years")}}while(o.isSameOrBefore(t,"month")){i=['value="'+o.year()+'"'];if(a&&o.year()===a.year()){i.push("selected")}n.push("<option "+i.join(" ")+">"+o.year()+"</option>");o=o.add(1,"years")}s+=n.join("");s+="</select>";return $(s)},createMonthDropdown:function(e,t,a){var s=moment.monthsShort();var n="<select>";var i=[];var o;var r=moment(a).startOf("year");var l=moment(a).endOf("year");for(var c=0;c<s.length;c++){r=r.month(c);if(r.isBefore(e,"month")||r.isAfter(l,"month")||r.isAfter(t,"month")){continue}o=['value="'+c+'"'];if(c===a.month()){o.push("selected")}i.push("<option "+o.join(" ")+">"+s[c]+"</option>")}n+=i.join("");n+="</select>";return $(n)},debounce:function(e,t){return function(){var a=arguments;var s;if(s){window.clearTimeout(s)}setTimeout((function(){e.apply(null,a)}),t)}},isWeekend:function(e){const t=e.day();return t===0||t===6},waitForRender(){return new Promise((e=>{window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e()}))}))}))}};function a(){this.eventHandlers={}}a.prototype={on:function(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)},off:function(e,t){var a=this.eventHandlers[e];if(!a||!a.length){return}var s=a.indexOf(t);if(s>-1){a.splice(s,1)}},trigger:function(e){var t=this.eventHandlers[e];if(!t||!t.length){return}var a=Array.prototype.slice.call(arguments,1);t.forEach(function(e){e.apply(this,a)}.bind(this))}};$.fn.calendarPicker=function(e){return this.each((function(){var t=$(this);if(t.data("calendarPicker")||this.__calendarPicker){return}var a=new u(this,e);t.data("calendarPicker",a);this.__calendarPicker=a}))};var s={DATE:"date",DATE_RANGE:"date-range",MONTH:"month",MONTH_RANGE:"month-range"};var n={SINGLE:"single",RANGE:"range"};var i={START:"start",END:"end"};var o={DAY:"day",MONTH:"month"};var r="YYYY-MM-DD";var l=["format","max","min","start","end","future-only","now-and-future-only","past-only","now-and-past-only","toggle-on-focus","quick-nav"];var c="CalendarPicker__input--focus";var d={dualGrid:false,max:moment().add(50,"years"),min:moment().subtract(100,"years"),noFacade:false,period:o.DAY,quickNav:"auto",selectionMode:n.SINGLE,toggleOnFocus:false,disableWeekends:false,disableDays:[]};function u(e,t){this.$anchor=$(e).addClass("CalendarPicker");this.toggleButtons=[];this.isMobileDevice=(0,p.isWidthBelowSupportedMinWidth)();this._wireOptions(t);if(!this.options.noFacade){this._wireHiddenInputs()}if(this.options.toggleButton){this._addToggleButtons()}this._wireInternalEvents();this._wireExternalEvents();this._originalStart=this.options.start;this._originalEnd=this.options.end;this._popoverVisible=false;this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()}u.prototype.setOptions=function(e){this._wireOptions(e);this._originalStart=this.options.start;this._originalEnd=this.options.end;if(this.gridManager){this.gridManager.setOptions(this._getGridManagerOptions())}this._updateGridManager();this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()};u.prototype.enableDisableButtons=function(){const{disabled:e=false}=this.options;if(this.$start){this.$start.siblings("button").attr("disabled",e)}if(this.$end){this.$end.siblings("button").attr("disabled",e)}};u.prototype._wireOptions=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=this.options||{};this.options=$.extend(true,{},d,this.options,e,{});this.options=$.extend(true,{},this.options,this._getOptionsFromPresets(this.$anchor),this._getOptionsFromAttributes(this.$anchor));this.options.format=this.options.format||moment.defaultFormat;if(this.options.min){this.options.min=this._normalizeToTick(this.options.min)}if(this.options.max){this.options.max=this._normalizeToTick(this.options.max)}this._setInputs(this.options.startInput,this.options.endInput);if(this.options.noFacade){this.options.start=this._getTickFromInput(this.$start);if(n.RANGE===this.options.selectionMode){this.options.end=this._getTickFromInput(this.$end)}}return e};u.prototype._getOptionsFromPresets=function(e){var t={};var a=e.attr("calendar-picker");if(s.DATE_RANGE===a||s.MONTH_RANGE===a){t.selectionMode=n.RANGE;t.dualGrid=true}if(s.DATE_RANGE===a){t.period=o.DAY}else if(s.MONTH_RANGE===a||s.MONTH===a){t.period=o.MONTH;t.format="MMM YYYY"}return t};u.prototype._getOptionsFromAttributes=function(e){var a={};var s=e.attr("calendar-picker-options");l.forEach((function(s){var n=null;var i=null;var o=false;if(e[0].hasAttribute(s)){n=e[0].getAttribute(s);i=t.kebabToCamel(s);o=n==="true"||n==="false";if(n&&!o){a[i]=n}else if(n&&o){a[i]=n==="true"}else{a[i]=true}}}));if(s){s=s.replace(/\'/g,'"');a=$.extend(true,{},a,JSON.parse(s))}if(a.futureOnly){a.min=moment().add(1,this.options.period)}if(a.nowAndFutureOnly){a.min=moment()}if(a.pastOnly){a.max=moment().subtract(1,this.options.period)}if(a.nowAndPastOnly){a.max=moment()}return a};u.prototype._setInputs=function(e,t){if(n.RANGE===this.options.selectionMode){this.$start=$(e);this.$end=$(t);if(!this.$start.length&&this.$anchor.find("[range-start]").length){this.$start=this.$anchor.find("[range-start]")}if(!this.$end.length&&this.$anchor.find("[range-end]").length){this.$end=this.$anchor.find("[range-end]")}else{throw new Error("Could not find end input for CalendarPicker")}}else if(this.$anchor.is(":input")||this.$anchor.is("ba-select")){this.$start=this.$anchor}if(!this.$start||!this.$start.length){throw new Error("Could not find input for CalendarPicker")}this._getInputs().addClass("CalendarPicker__input")};u.prototype._getInputs=function(){var e=$().add(this.$start);if(n.RANGE===this.options.selectionMode){e=e.add(this.$end)}return e};u.prototype._wireHiddenInputs=function(){var e="__cpFacade";var t,a;t=this.$start.attr("name");this.$hiddenStart=$('<input type="hidden">').attr("name",this.$start.attr("name")).insertAfter(this.$start);this.$start.attr("name",t+e);if(n.RANGE===this.options.selectionMode){a=this.$end.attr("name");this.$hiddenEnd=$('<input type="hidden">').attr("name",a).insertAfter(this.$end);this.$end.attr("name",a+e)}};u.prototype._addToggleButtons=function(){var e=this.options.toggleButton;var t=typeof e==="boolean"?$('<button type="button">'):$(e);t.addClass("CalendarPicker__toggleButton js-CalendarPicker__toggleButton").attr("tabindex","-1").attr("data-no-jquery-aria-required",true).attr("aria-label",$.__("Open Calendar Picker"));this._addToggleButton(this.$start,t);if(n.RANGE===this.options.selectionMode){this._addToggleButton(this.$end,t)}};u.prototype._addToggleButton=function(t,a){if(!e){t.wrap('<div class="CalendarPicker__inputWrapper js-CalendarPicker__inputWrapper">')}const s=a.clone();this.toggleButtons=[...this.toggleButtons,s[0]];s.appendTo(t.parent()).on("click.calendarPicker",function(e){if(t.is(":disabled")){return}if(!this.options.toggleOnFocus){this._activatePopover(t).then((()=>t.focus()))}else{t.focus()}}.bind(this))};u.prototype._wireExternalEvents=function(){this.events=new a;if(this.options.events){Object.keys(this.options.events).forEach(function(e){this.events.on(e,this.options.events[e])}.bind(this))}};u.prototype._wireInternalEvents=function(){var e=$().add(this.$start);if(n.RANGE===this.options.selectionMode){e=e.add(this.$end)}e.on("input.calendarPicker",this._handleInput.bind(this));e.on("focus.calendarPicker",function(e){var t=$(e.currentTarget);if(this._hidePopoverTimeout){window.clearTimeout(this._hidePopoverTimeout);delete this._hidePopoverTimeout}if(this.options.toggleOnFocus){this._activatePopover(t)}else{this._setSelectingFromInput(t);if(this.$popover&&this.$popover.is(":visible")){this._positionPopover(this._popoverVisible)}}}.bind(this)).on("keydown.calendarPicker",function(e){if(e.which===27||e.which===9){this._hidePopover()}}.bind(this));$(window).on("resize.calendarPicker, scroll.calendarPicker",function(){if(this.$popover&&this.$popover.is(":visible")){this._positionPopover()}}.bind(this));$(window).on("resize",function(){if(this.$popover&&(0,p.isWidthBelowSupportedMinWidth)()){this.isMobileDevice=true;this.$popover.css({position:"absolute",left:`${this._horizontalPopoverPosition().left}px`,top:`${this.$anchor.offset().top+this.$anchor[0].getBoundingClientRect().height}px`,transform:""})}else if(this.$popover){this.isMobileDevice=false;this.$popover.css({position:"fixed",left:`0`,top:`0`});this._positionPopover()}}.bind(this))};u.prototype._documentClickHandler=function(e){const t=e.target;const a=this.$popover&&this.$popover[0];const s=this.toggleButtons.some((e=>e===t||$.contains(e,t)));const n=a&&$.contains(a,t);const i=this.$start&&this.$start[0]===t||this.$end&&this.$end[0]===t;const o=$.contains(document,t);if(i||s||n||!o){return}this._hidePopover()};u.prototype._handleInput=function(e){var t=$(e.currentTarget);var a=this._getTickFromInput(t);var s=t.is(this.$start)?a:this.start;var n=t.is(this.$end)?a:this.end;if(a&&a.isValid()){this._setRange(s,n)}this._validateRange(s,n)};u.prototype._normalizeToTick=function(e,t){if(!e){return null}var a=moment.isMoment(e)?e:moment(e,this.options.format,true);if(!a.isValid()&&typeof e==="string"){a=moment(e,moment.ISO_8601,true).startOf("day")}if(!a.isValid()&&!t){console.error("An invalid date was supplied to CalendarPicker");a=null}return a};u.prototype._createPopover=function(t){this.$popover=$('<div class="CalendarPicker__popover js-CalendarPicker__popover">');this.$popover.css({left:0,position:"fixed",top:0,visibility:"hidden","z-index":1e4});this.$caret=$('<div class="CalendarPicker__caret">').appendTo(this.$popover);if(e){this.$caret[0].innerHTML=`\n\t\t\t\t<svg width="26" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 15">\n\t\t\t\t\t<path d="M 0 12 L 12 0 L 24 12 Z" fill="currentColor" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4 L 23 15 Z" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4.5 L 23 15" fill="none"/>\n\t\t\t\t</svg>\n\t\t\t`}this.gridManager=this._createGridManager();this.gridManager.$element.appendTo(this.$popover);if(this.isMobileDevice){this.$popover.css({position:"absolute",left:`${t[0].getBoundingClientRect().left}px`,top:`${t.offset().top+t[0].getBoundingClientRect().height}px`})}this.$popover.appendTo(document.body);this._positionPopover()};u.prototype._activatePopover=function(e){if(!this.$popover){this._createPopover(e)}this._setSelectingFromInput(e);if(!this._popoverVisible){return this._showPopover()}else{return t.waitForRender().then((()=>this._positionPopover()))}};u.prototype._showPopover=function(){this.events.trigger("onBeforeShow",this);this.$popover.show();this._getCurrentlySelectingInput().addClass(c);this._boundDocumentClickHandler=this._documentClickHandler.bind(this);$(document).on("click.calendarPicker",this._boundDocumentClickHandler);return t.waitForRender().then((()=>{this._positionPopover();this._popoverVisible=true;this.$popover.css("visibility","visible");this.events.trigger("onAfterShow",this)}))};u.prototype._hidePopover=function(){this._hidePopoverTimeout=setTimeout(this._hidePopoverImmediately.bind(this),150)};u.prototype._hidePopoverImmediately=function(){this.events.trigger("onBeforeHide");if(this.$popover){this.$popover.css("visibility","hidden").hide()}this._popoverVisible=false;this.$start.removeClass(c);if(n.RANGE===this.options.selectionMode){this.$end.removeClass(c)}$(document).off("click.calendarPicker",this._boundDocumentClickHandler);this.events.trigger("onAfterHide")};u.prototype._getPopoverOffsets=function(){const e=this.$start[0].getBoundingClientRect();return{fromDateOffset:e,lastDateOffset:this.options.selectionMode==="range"?this.$end[0].getBoundingClientRect():e}};u.prototype._positionPopover=function(e){if(this.isMobileDevice){return}var t={};const{horizontalAnchor:a,left:s}=this._horizontalPopoverPosition();const{verticalAnchor:n,top:i}=this._verticalPopoverPosition();t.left=s;t.top=i;this.events.trigger("onBeforePosition",this.$popover,t);this.$popover.attr("horizontal-anchor",a).attr("vertical-anchor",n).css({transform:"translate3d("+Math.ceil(t.left)+"px, "+Math.ceil(t.top)+"px, 0)"});this._positionCaret(e);this.events.trigger("onAfterPosition",this.$popover,t)};u.prototype._horizontalPopoverPosition=function(){let e,t;let a=this.$popover.outerWidth(true);const{fromDateOffset:s,lastDateOffset:n}=this._getPopoverOffsets();let i=window.innerWidth-s.left;if(i<a&&s.right>a){t=n.right-a;e="right"}else{t=s.left;e="left"}return{left:t,horizontalAnchor:e}};u.prototype._verticalPopoverPosition=function(){let e=this.$popover.outerHeight(true);const{fromDateOffset:t,lastDateOffset:a}=this._getPopoverOffsets();let s=i.END===this.selecting?a:t;let n,o;let r=window.innerHeight-s.bottom;if(r<e&&s.top>e){o=s.top-e;n="bottom";this.$popover.addClass("CalendarPicker__popover--topAnchored");this.$caret.addClass("CalendarPicker__caret--topAnchored")}else{o=s.bottom;n="top";this.$popover.removeClass("CalendarPicker__popover--topAnchored");this.$caret.removeClass("CalendarPicker__caret--topAnchored")}return{top:o,verticalAnchor:n}};u.prototype._positionCaret=function(e){var t=i.END===this.selecting?this.$end:this.$start;var a=t.offset();var s=this.$popover.offset();var n=15;var o=this.$caret.outerWidth()/2;var r=a.left;if(this.$popover.attr("horizontal-anchor")==="left"||i.START===this.selecting){r+=n}else{r+=t.outerWidth()-n}var l=r-s.left-o;if(e){this.$caret.animate({left:l})}else{this.$caret.css({left:l})}};u.prototype._getGridManagerOptions=function(){return{autoSync:false,dualGrid:this.options.dualGrid,min:this.options.min,max:this.options.max,quickNav:this.options.quickNav,selectionMode:this.options.selectionMode,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays}};u.prototype._createGridManager=function(){var e=this._getGridManagerOptions();var t;if(o.MONTH===this.options.period){t=new y(e)}else{t=new b(e)}t.events.on("select",this._selectHandler.bind(this));t.events.on("periodChange",function(){this._positionPopover();this.events.trigger("onPeriodChange",this)}.bind(this));t.events.on("render",function(){this.events.trigger("onRender",this)}.bind(this));return t};u.prototype._selectHandler=function(e,t,a){this._setRange(t,a);if(this.selecting===e){e=null}this._setSelecting(e)};u.prototype._updateGridManager=function(){var e=this._getPeriodTick();if(!this.gridManager){return}if(o.DAY===this.options.period){this.gridManager.setMonth(e.month(),e.year())}else if(o.MONTH===this.options.period){this.gridManager.setYear(e.year())}this.gridManager.updateSelection(this.selecting,this.start,this.end);this.gridManager.render()};u.prototype._setSelecting=function(e){var t=this._getSelectingInput(this.selecting);this.selecting=e;this._updateInputFocusClasses();if(!this.selecting){t.blur();this._hidePopoverImmediately();return}if(i.START===this.selecting){if(n.RANGE===this.options.selectionMode){this.$end.blur()}if(!this.$start.val().trim()&&n.RANGE===this.options.selectionMode&&!this.$start.is(":focus")){this.$start.focus()}else{this._hidePopoverImmediately()}}else if(n.RANGE===this.options.selectionMode&&i.END===this.selecting){this.$start.blur();if(!this.$end.val().trim()&&n.RANGE===this.options.selectionMode&&!this.$end.is(":focus")){this.$end.focus()}else{this._hidePopoverImmediately()}}};u.prototype._setSelectingFromInput=function(e){this.selecting=n.RANGE===this.options.selectionMode&&e.is(this.$end)?i.END:i.START;this._updateInputFocusClasses();this._updateGridManager()};u.prototype._updateInputFocusClasses=function(){var e;this._getInputs().removeClass(c);if(this._popoverVisible){e=this._getCurrentlySelectingInput();e.addClass(c)}};u.prototype._getSelectingInput=function(e){return n.RANGE===this.options.selectionMode&&i.END===e?this.$end:this.$start};u.prototype._getCurrentlySelectingInput=function(){return this._getSelectingInput(this.selecting)};u.prototype._updateInput=function(e,t,a){var s=e==="end"?this.$end:this.$start;var n=null;var i=s.val();if(!this.options.noFacade){n=e==="end"?this.$hiddenEnd:this.$hiddenStart;n.val(t?moment(t).format(r):"")}if(t){s.val(t.format(this.options.format))}else if(s.val().trim()){s.val("")}if(!a&&s.val()!==i){s.trigger("change")}};u.prototype.setRange=function(e,t){e=this._normalizeToTick(e);t=this._normalizeToTick(t);var a=this._validateRange(e,t);if(a.length){console.error("Invalid range specified",a)}this._setRange(e,t,true)};u.prototype._setRange=function(e,t,a){if(e&&e.isSame(this.start)&&t&&t.isSame(this.end)){return}if(n.RANGE===this.options.selectionMode){if(i.START===this.selecting&&t&&t.isBefore(e)){t=null;this._flashInput(this.$end)}else if(i.END===this.selecting&&e&&e.isAfter(t)){e=null;this._flashInput(this.$start)}}if(this.start!==e){e=e?moment(e).startOf(this.options.period):e;this.start=e;this._updateInput(i.START,this.start,a)}if(n.RANGE===this.options.selectionMode&&this.end!==t){t=t?moment(t).endOf(this.options.period):t;this.end=t;this._updateInput(i.END,this.end,a)}if(!a){this.events.trigger("select",this.start,this.end);this.$anchor.trigger("calendarPicker:rangeSet",this.getValue())}this._updateGridManager()};u.prototype._getTickFromInput=function(e){return this._normalizeToTick(e.val(),true)};u.prototype._getRangeFromInputs=function(){var e={start:this._getTickFromInput(this.$start)};if(n.RANGE===this.options.selectionMode){e.end=this._getTickFromInput(this.$end)}return e};u.prototype._validateRange=function(e,t){var a=[];if(e&&!e.isValid()||t&&!t.isValid()){a.push({code:"INVALID_ARGUMENT",message:"An invalid argument was supplied."})}if(e&&!this._isInRange(e)||t&&!this._isInRange(t)){a.push({code:"OUT_OF_BOUNDS",message:"An argument is outside of the min/max bounds"})}return a};u.prototype._getPeriodTick=function(){var e=this.options.max;var t=this.options.min;var a=moment();var s;var n=o.DAY===this.options.period?"month":"year";var r=false;var l=this.start&&this.start.isSame(this.end,n);if(this.start&&(i.START===this.selecting||l||!this.end)){s=this.start}else if(this.end&&(i.END===this.selecting&&!l||!this.start)){s=this.end;r=true}if(!s){if(this._isInRange(a)){s=a}else if(t&&t.isAfter(a)){s=t}else if(e&&e.isBefore(a)){s=e;r=true}else{s=a}}s=moment(s).startOf(n);if(this.options.dualGrid&&r){s=moment(s).subtract(1,n)}return s};u.prototype._isInRange=function(e){return t.isInRange(e,this.options.min,this.options.max,this.options.period)};u.prototype.validate=function(){var e=this._getRangeFromInputs();var t=this._validateRange(e.start,e.end);return t};u.prototype.validateInput=function(e){const{disableWeekends:a,disableDays:s}=this.options;var i=[];var o=$(e);if(n.RANGE===this.options.selectionMode&&!$.contains(this.$anchor.get(0),o.get(0))||n.RANGE!==this.options.selectionMode&&!this.$anchor.is(o)){throw new Error("The input supplied for validation isn't part of the Calendar Picker")}var r=this._normalizeToTick(o.val(),true);if(r){if(!r.isValid()){i.push({code:"INVALID_ARGUMENT",message:"This input contains an invalid value"})}if(!this._isInRange(r)){i.push({code:"OUT_OF_BOUNDS",message:"This input is outside of the min/max bounds"})}if(a&&t.isWeekend(r)){i.push({code:"NO_WEEKENDS",message:"This input cannot select a day on a weekend."})}if(s.indexOf(r.format("YYYY-MM-DD"))>-1){i.push({code:"DISABLED_DATE",message:"This input cannot select a disabled date."})}}return i};u.prototype.isValid=function(e){var t=e?this.validateInput(e):this.validate();return!t.length};u.prototype.isDirty=function(){var e=this._getRangeFromInputs();return e.start!==this._originalStart||e.end!==this._originalEnd};u.prototype._flashInput=function(e){var t=e[0].style.color;var a=e.css("backgroundColor");e.css({backgroundColor:"#FDFFD7"});setTimeout((function(){e.animate({backgroundColor:a},{complete:function(){e.css({backgroundColor:t})},duration:200})}),200)};u.prototype.getValue=function(e){e=e||r;if(n.RANGE===this.options.selectionMode){return{start:this.start?this.start.format(e):undefined,end:this.end?this.end.format(e):undefined}}return this.start?this.start.format(e):undefined};u.prototype.getFormattedValue=function(){return this.getValue(this.options.format)};function m(e,t){this.rows=e;this.columns=t;this.selecting=i.START;this.selectionMode=n.SINGLE;this.displayingTick=moment();this.data=[];this.events=new a;this.$element=$('<div class="CalendarGrid">')}m.prototype.setOptions=function(e){this.options={...this.options,...e};this.render()};m.prototype._wireEvents=function(){this.$element.off(".calendarGrid");this.$element.on("hover.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);if(!t){return}this.events.trigger("cellHover",t);if(n.SINGLE!==this.selectionMode){this.highlightToTick(t)}}.bind(this));this.$element.on("click.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);var a=this.selecting;e.stopPropagation();e.preventDefault();if(n.RANGE===this.selectionMode){this._setRangeBoundary(t,this.selecting)}else{this.start=t}if(n.RANGE===this.selectionMode){a=i.START===this.selecting?"end":"start"}this.selecting=a;this.events.trigger("cellSelect",a,this.start,this.end);this.render()}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}))};m.prototype._setRangeBoundary=function(e,t){if(i.START===this.selecting){this.start=e}else if(i.END===this.selecting){this.end=e}};m.prototype._getTickFromCell=function(e){if(e.hasAttribute("data-cell-value")){return moment(e.getAttribute("data-cell-value"))}};m.prototype._getCellFromTick=function(e){var t=e.toISOString();return this.$element.find('[data-cell-value="'+t+'"]')};m.prototype._isInRange=function(e){if(!this.start||!this.end){return false}return this.start.isSameOrBefore(e)&&this.end.isSameOrAfter(e)};m.prototype.highlightToTick=function(e){if(i.START===this.selecting&&this.start&&this.end&&this.end.isAfter(e)){this._getCellFromTick(this.start).removeClass("CalendarGrid__cell--selected")}else if(i.END===this.selecting&&this.end&&this.start&&this.start.isBefore(e)){this._getCellFromTick(this.end).removeClass("CalendarGrid__cell--selected")}else if(this.start&&this.end){this.resetHighlight();return}this.$element.find("[data-cell-value]").each(function(t,a){var s=this._getTickFromCell(a);var n=this.end&&this.end.isSameOrAfter(e)&&this.end.isSameOrAfter(s)&&s.isSameOrAfter(e);n=n&&i.START===this.selecting;var o=this.start&&this.start.isSameOrBefore(s)&&this.start.isSameOrBefore(s)&&s.isSameOrBefore(e);o=o&&i.END===this.selecting;var r=n||o;if(r){$(a).addClass("CalendarGrid__cell--inRange")}else{$(a).removeClass("CalendarGrid__cell--inRange")}this._toggleEdgeClasses(a,r)}.bind(this))};m.prototype._toggleEdgeClasses=function(e,t){var a=$(e);var s=a.prev();var n=a.next();if(!t){a.removeClass("CalendarGrid__cell--inRangeLeading CalendarGrid__cell--inRangeTrailing");return}if(!s.length||s.is("[data-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeLeading")}else if(!n.length||n.is("[date-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeTrailing")}};m.prototype.resetHighlight=function(){if(typeof this.onResetHighlight==="function"&&this.onResetHighlight()===false){return}this.$element.find("[data-cell-value]").each(function(e,t){var a=this._getTickFromCell(t);var s=this._isInRange(a);$(t).toggleClass("CalendarGrid__cell--inRange",s);this._toggleEdgeClasses(t,s);if(this.start&&this.start.isSame(a)||this.end&&this.end.isSame(a)){$(t).addClass("CalendarGrid__cell--selected")}}.bind(this))};m.prototype._getCellClasses=function(e){var t=e.tick;var a=["CalendarGrid__cell","CalendarGrid__cell--withValue"];if(this.start&&this.start.isSame(t)||this.end&&this.end.isSame(t)){a.push("CalendarGrid__cell--selected")}var s=n.RANGE===this.selectionMode;s=s&&this.start&&this.start.isSameOrBefore(t);s=s&&this.end&&this.end.isSameOrAfter(t);if(s){a.push("CalendarGrid__cell--inRange")}if(e.isNow){a.push("CalendarGrid__cell--now")}if(e.isDisabled){a.push("CalendarGrid__cell--disabled")}return a.join(" ")};m.prototype._adjustRowsForData=function(e){while(e*this.columns<this.data.length){e++}return e};m.prototype.render=function(){if(!this.rows){throw new Error("The number of rows must be specified to render a CalendarGrid")}if(!this.columns){throw new Error("The number of columns must be specified to render a CalendarGrid")}var e;var t=this._adjustRowsForData(this.rows);var a=0;var s="";s+='<div class="CalendarGrid__body">';for(var n=0;n<t;n++){s+='<div class="CalendarGrid__row">';for(var i=0;i<this.columns;i++){e=this.data[a];a++;if(!e||!e.tick){s+='<div class="CalendarGrid__cell CalendarGrid__cell--empty" data-cell-empty></div>';continue}s+='<div class="'+this._getCellClasses(e)+'" data-cell-value="'+e.tick.toISOString()+'"'+(e.isDisabled?"data-cell-disabled":"")+">";s+=e.text;s+="</div>"}s+="</div>"}s+="</div>";this.$element.html(s);this._wireEvents();return this.$element};function f(){var e;var t=moment().year();if(typeof arguments[0]==="object"){e=arguments[0]}else if(typeof arguments[1]==="object"){e=arguments[1]}else if(typeof arguments[0]==="number"){t=arguments[0]}m.call(this,3,4);this.options=$.extend(true,{},e);this.displayingTick=moment().startOf("year").year(t);this.data=this._generateGridData()}f.prototype=Object.create(m.prototype);f.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};f.prototype.setYear=function(e){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayTick(e);this.data=this._generateGridData()};f.prototype._generateGridData=function(){var e=moment(this.displayingTick);var t=moment(this.displayingTick).endOf("year");var a=moment();var s=this.options.min;var n=this.options.max;var i=[];var o=e;while(o.isBefore(t)){i.push({isDisabled:s&&s.isAfter(o,"month")||n&&n.isBefore(o,"month"),isNow:a.isSame(o,"month"),text:o.format("MMM"),tick:o});o=moment(o).add(1,"months")}return i};function g(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];m.call(this,4,7);this.options=$.extend(true,{},a);this.setMonth(e,t);this.data=this._generateGridData()}g.prototype=Object.create(m.prototype);g.prototype._getDisplayingTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};g.prototype.setMonth=function(e,t){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayingTick(e,t);this.data=this._generateGridData()};g.prototype._generateGridData=function(){var e=moment(this.displayingTick).startOf("month");var a=moment(this.displayingTick).endOf("month");var s=moment();const{min:n,max:i,disableWeekends:o,disableDays:r}=this.options;var l=new Array(e.weekday());var c=e;while(c.isBefore(a)){const e=n&&n.isAfter(c,"day");const a=i&&i.isBefore(c,"day");const d=o&&t.isWeekend(c);const u=r.indexOf(c.format("YYYY-MM-DD"))>-1;l.push({isDisabled:e||a||d||u,isNow:s.isSame(c,"day"),text:c.format("D"),tick:c});c=moment(c).add(1,"days")}return l};g.prototype.renderDaysOfWeek=function(){var e=moment().startOf("week");var t=moment().endOf("week");var a=e;var s="";s+='<div class="CalendarGrid__daysOfWeek">';while(a<t){s+='<div class="CalendarGrid__dayOfWeek">'+a.format("dd").substr(0)+"</div>";a.add(1,"days")}s+="</div>";return $(s)};g.prototype.render=function(){var e=m.prototype.render.call(this);var t=$('<div class="CalendarGrid__header">');t.append(this.renderDaysOfWeek);e.prepend(t);return e};function v(e){this.options=$.extend(true,{},this._getDefaultOptions(),e);this.events=new a;this._previousViewState={};this.$element=$('<div class="CalendarGridManager">')}v.prototype.setOptions=function(e){this.options=$.extend(true,{},this._getDefaultOptions(),this.options,e);var t={min:e.min,max:e.max,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays};if(this.firstGrid){this.firstGrid.setOptions(t)}if(this.lastGrid){this.lastGrid.setOptions(t)}this.render()};v.prototype.getMin=function(e){e=e||this.options;let t=moment(e.min);if(t.isAfter(this.start)){t=this.start}return t};v.prototype.getMax=function(e){e=e||this.options;let t=moment(e.max);if(t.isBefore(this.end)&&e.selectionMode===n.RANGE){t=this.end}else if(t.isBefore(this.start)){t=this.start}return t};v.prototype._getDefaultOptions=function(){return{autoSync:true,display:"month",dualGrid:false,end:null,max:moment().add(20,"years"),min:moment().subtract(100,"years"),selectionMode:n.SINGLE,start:moment(),disableWeekends:false,disableDays:[]}};v.prototype._wireGrids=function(){this.firstGrid.selectionMode=this.options.selectionMode;if(this.options.dualGrid){this.lastGrid.selectionMode=this.options.selectionMode}};v.prototype._wireEvents=function(){this.$element.off(".calendarGridManager");this.$element.on("mouseleave.calendarGridManager",function(){this.firstGrid.resetHighlight();if(this.lastGrid){this.lastGrid.resetHighlight()}}.bind(this));this.$element.on("click.calendarGridManager","[data-prev-button]",function(){if(this._isPreviousDisabled()){return}this.previous();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("click.calendarGridManager","[data-next-button]",function(){if(this._isNextDisabled()){return}this.next();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}));e.call(this);function e(){this.firstGrid.events.off("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.off("cellSelect",this._boundSelectHandler)}this._boundSelectHandler=this._selectHandler.bind(this);this.firstGrid.events.on("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.on("cellSelect",this._boundSelectHandler);this.firstGrid.events.off("cellHover",this._boundHoverHandler);this.lastGrid.events.off("cellHover",this._boundHoverHandler);this._boundHoverHandler=this._hoverHandler.bind(this);this.firstGrid.events.on("cellHover",this._boundHoverHandler);this.lastGrid.events.on("cellHover",this._boundHoverHandler)}}};v.prototype._selectHandler=function(e,t,a){this.events.trigger("select",e,t,a);if(this.options.autoSync){this.updateSelection(e,t,a);this.render()}};v.prototype._needsRender=function(){var e={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};return!t.isEqual(this._previousViewState,e)};v.prototype._isDisplayTickChanged=function(){return this._previousState.displayTick!==this.displayTick};v.prototype._hoverHandler=function(e){this.firstGrid.highlightToTick(e);this.lastGrid.highlightToTick(e)};v.prototype._getGridHeaderContent=function(e){return'<div class="CalendarGridManager__gridTitle">'+e.displayingTick.format(this.titleFormat)+"</div>"};v.prototype._isNextDisabled=function(){return false};v.prototype._isPreviousDisabled=function(){return false};v.prototype._renderGrid=function(e,t){var a=[""];var s=["CalendarGridManager__previousButton"];var n=["CalendarGridManager__nextButton"];var i=null;var o="";if(t==="previous"){a.push("CalendarGridManager__gridHeader--paddedRight")}else if(t==="next"){a.push("CalendarGridManager__gridHeader--paddedLeft")}if(this._isPreviousDisabled()){s.push("CalendarGridManager__previousButton--disabled")}if(this._isNextDisabled()){n.push("CalendarGridManager__nextButton--disabled")}o+='<div class="CalendarGridManager__grid">';o+='\t<div class="CalendarGridManager__gridHeader'+a.join(" ")+'">';if(t==="both"||t==="previous"){o+='\t<div class="'+s.join(" ")+'" data-prev-button></div>'}o+='\t\t<div class="CalendarGridManager__gridHeaderContent js-CalendarGridManager__gridHeaderContent"></div>';if(t==="both"||t==="next"){o+='\t<div class="'+n.join(" ")+'" data-next-button></div>'}o+="\t</div>";o+="</div>";i=$(o).append(e.render());i.find(".CalendarGridManager__gridHeaderContent").append(this._getGridHeaderContent(e));return i};v.prototype.updateSelection=function(e,t,a){this.start=t;this.end=a;this.selecting=e;this.firstGrid.start=this.start;this.firstGrid.end=this.end;this.firstGrid.selecting=this.selecting;if(this.options.dualGrid){this.lastGrid.start=this.start;this.lastGrid.end=this.end;this.lastGrid.selecting=this.selecting}};v.prototype.next=function(){throw new Error("This method should be implemented by a child class")};v.prototype.previous=function(){throw new Error("This method should be implemented by a child class")};v.prototype.render=function(){if(!this._needsRender()){return}this._previousViewState={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};this.$element.empty();var e=$('<div class="CalendarGridManager__grids">').appendTo(this.$element);var t=this._renderGrid(this.firstGrid,this.options.dualGrid?"previous":"both");t.appendTo(e);var a;if(this.options.dualGrid){a=this._renderGrid(this.lastGrid,"next");a.appendTo(e)}this._wireEvents();this.events.trigger("render");return this.$element};function y(){var e=typeof arguments[0]==="number"?arguments[0]:moment().year();var t=arguments.length===2?arguments[1]:arguments[0];v.call(this,t);this.titleFormat="YYYY";var a={min:t.min,max:t.max};this.firstGrid=this.lastGrid=new f(e,a);if(this.options.dualGrid){this.lastGrid=new f(e,a)}this._wireGrids();this.setYear(e)}y.prototype=Object.create(v.prototype);y.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};y.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"year")};y.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"year")};y.prototype._getGridHeaderContent=function(e){var a;var s=false;var n=e.displayingTick;var i=this.getMax();var o=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return v.prototype._getGridHeaderContent.call(this,e)}if(n.isAfter(i,"year")){i.add(1,"year");s=true}if(n.isBefore(o,"year")){o.subtract(1,"year");s=true}var a=t.createYearDropdown(o,i,n);a.prop("disabled",s);a.on("change",function(t){var a=parseInt($(t.target).val(),10);if(e!==this.firstGrid&&e===this.lastGrid){a--}this.setYear(a);this.render();this.events.trigger("periodChange")}.bind(this));return a.addClass("CalendarGridManager__gridHeaderDropdown")};y.prototype.setYear=function(e){this.displayTick=this._getDisplayTick(e);this.firstGrid.setYear(e);var t=moment(this.displayTick).add(1,"years");if(this.options.dualGrid){this.lastGrid.setYear(t.year())}};y.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"year");this.setYear(e.year())};y.prototype.next=function(){var e=moment(this.displayTick).add(1,"year");this.setYear(e.year())};function b(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];var s={min:a.min,max:a.max,disableWeekends:a.disableWeekends,disableDays:a.disableDays};v.call(this,a);this.titleFormat="MMMM YYYY";this.firstGrid=this.lastGrid=new g(e,t,s);if(this.options.dualGrid){this.lastGrid=new g(e,t,s)}this._wireGrids();this.setMonth(e,t)}b.prototype=Object.create(v.prototype);b.prototype._getDisplayTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};b.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"month")};b.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"month")};b.prototype._getGridHeaderContent=function(e){var a,s;var n=false;var i=e.displayingTick;var o=this.getMax();var r=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return v.prototype._getGridHeaderContent.call(this,e)}if(i.isAfter(o,"month")){o=o.add(1,"months");n=true}if(i.isBefore(r,"month")){r=r.subtract(1,"months");n=true}s=t.createYearDropdown(r,o,i);s.prop("disabled",n);s.on("change",function(t){var a=parseInt($(t.target).val(),10);var s=i.month();if(e!==this.firstGrid&&e===this.lastGrid){s=i.subtract(1,"months").month()}this.setMonth(s,a);this.render();this.events.trigger("periodChange")}.bind(this));a=t.createMonthDropdown(r,o,i);a.prop("disabled",n);a.on("change",function(t){var a=parseInt($(t.target).val(),10);var s=moment().month(a).year(i.year());if(e!==this.firstGrid&&e===this.lastGrid){s.subtract(1,"months")}this.setMonth(s.month(),s.year());this.render();this.events.trigger("periodChange")}.bind(this));return $().add(a).add(s).addClass("CalendarGridManager__gridHeaderDropdown")};b.prototype.setMonth=function(e,t){this.displayTick=this._getDisplayTick(e,t);this.firstGrid.setMonth(this.displayTick.month(),this.displayTick.year());var a=moment(this.displayTick).add(1,"months");if(this.options.dualGrid){this.lastGrid.setMonth(a.month(),a.year())}};b.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"months");this.setMonth(e.month(),e.year())};b.prototype.next=function(){var e=moment(this.displayTick).add(1,"months");this.setMonth(e.month(),e.year())};return u})($,moment);var m=a(34914);function f(e){let{dateString:t,name:a}=e;const n=new Date(`${t}T00:00:00`);return(0,s.Z)("input",{name:a,type:"hidden",value:(0,m.isValid)(n)?(0,m.format)(n,window.dateFnsDefaultFormat):""})}var g=a(88604);function v(e){if(typeof e!=="string"&&typeof e!=="number"||!e){return""}const t=/\d\d\d\d-\d\d-\d\d/g;return e.toString().match(t)?e.toString():(0,m.formatISO)((0,m.parse)(e.toString(),window.dateFnsDefaultFormat,new Date),{representation:"date"})}function y(e){switch(e){case"future-only":return(0,m.formatISO)((0,m.add)(new Date,{days:1}),{representation:"date"});case"past-only":return(0,m.formatISO)((0,m.sub)(new Date,{days:1}),{representation:"date"});default:return(0,m.formatISO)(new Date,{representation:"date"})}}function b(e){const t={"future-only":"minDate","now-and-future-only":"minDate","now-and-past-only":"maxDate","past-only":"maxDate"};return t[e]}function w(e){const t={"calendar-picker":true,"dual-grid":true,"toggle-on-focus":true,type:true,"quick-nav":true};const a={end:"endValue",max:"maxDate",min:"minDate",start:"startValue"};if(t[e]){return}if(a[e]){return a[e]}if(e==="data-width"){return"width"}if(e==="no-facade"){return"noFacade"}return e}function S(e){const t={};const a=e.getAttributeNames();a.forEach((a=>{let s=b(a);if(s){t[s]=y(a)}s=w(a);if(s==="noFacade"){t[s]=true;return}if(s){t[s]=e.getAttribute(a)}}));return t}function C(e){const{name:t,value:a="",noFacade:n,...i}=e;const[c,d]=(0,o.useState)(v(a));return r().createElement(r().Fragment,null,r().createElement(l.DatePicker,(0,g.Z)({},i,{onChange:e=>{let{value:t}=e;d(t)},value:c})),n?(0,s.Z)(f,{dateString:c,name:t}):"")}var x=a(26570);var T=a(82543);var E;const k=i()(E=window.location.href).call(E,"/self_onboarding/");let Z="btn btnIcon";let N='<img src="/images/color-branded-icons/calendar-input-icon.svg" class="branded-icon"></span>';if((0,h.isEnabled)("jade")){Z="fab-TextInput__button fab-TextInput__button--right";N=(0,d.renderToStaticMarkup)((0,s.Z)("span",{className:"fab-TextInput__buttonIcon"},void 0,(0,s.Z)(l.Icon,{name:"fab-calendar-15x16"})))}const I={toggleButton:`\n\t\t<button type="button" class="${Z}">\n\t\t\t${N}\n\t\t</button>\n\t`,events:{onRender:B,onAfterShow:B}};x((function(){A(x("[calendar-picker]"));x("[calendar-picker]").observe((function(){A(this)}))}));function A(e){if(k){z(e)}else{j(e)}}function F(e){return!e.is("[no-mask]")}function M(e,t){var a=t||window.GLOBAL_DATE_MASK||"mm/dd/yyyy";if(e.inputmask){e.inputmask({alias:a,oncomplete(){e.trigger("inputmask:complete");e.one("blur",(()=>{e.trigger("change")}))},onincomplete(){e.trigger("inputmask:incomplete")},isComplete(e,t){const s=T.convert.jQuery(a);return T(e.join(""),s,true).isValid()}}).trigger("masked")}}function D(e){if(!e.attr("placeholder")&&(0,h.isEnabled)("jade")){e.attr("placeholder",e.inputmask("getemptymask"))}e.data("placeholderTrigger","focus")}function P(e){let t=null;switch(e.attr("calendar-picker")){case"month":case"month-range":t="MMM YYYY";break}return t}function O(e,t){var a=e.find("[range-start]");var s=e.find("[range-end]");if(F(e)){M(a,t.customFormat);M(s,t.customFormat)}e.calendarPicker(t);D(a);D(s);R(a);R(s)}function L(e,t){if(F(e)){M(e,t.customFormat)}e.calendarPicker(t);D(e);setTimeout((()=>{R(e)}))}function R(e){var t=e.closest("[bhrvalidate-initiated]");if(!t.length){return}e.rules("add",{validateCalendarPicker:true})}function B(e){const{$popover:t}=e;const a=t.find("select");if(!t.is(":visible")){return}e.$popover.css({zIndex:(0,u.getMaxZIndex)()});a.attr("data-disable-search","true").chosen()}function j(e){x(e).each((function(e,t){const a=x(t);H(a)}))}function H(e){const t={...I,customFormat:P(e),noFacade:e[0].hasAttribute("no-facade")&&e[0].getAttribute("no-facade")!=="false"};switch(e.attr("calendar-picker")){case"date-range":case"month-range":O(e,t);break;default:L(e,t);break}}function q(e,t){const a=e.parent(".dateFieldWrapper")[0];if(a){(0,c.s)(r().createElement(C,t),a);setTimeout((()=>{R(e)}))}}function W(e,t){O(e,t)}function U(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){switch(e){case"date-range":case"month-range":return O;default:return L}}switch(e){case"date-range":return W;case"month":return L;case"month-range":return O;default:return q}}function z(e){x(e).each((function(e,t){const a=x(t);if(a.parents(".repeatPrototype")[0]){return}if(a[0].hasAttribute("render-jQuery-date-picker")){H(a)}const s=S(t);const n=U(a.attr("calendar-picker"));n(a,{customFormat:P(a),...s})}))}},8575:(e,t,a)=>{"use strict";a.d(t,{m:()=>n});class s{static get className(){return"Cancelable"}constructor(){this.instance=null}on(e){this.cancel();this.instance=e;e.promise.then((()=>{this.instance=null}));return e}cancel(){if(this.instance){this.instance.cancel();this.instance=null}}}function n(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}return{promise:e,request:a.reduce(((e,t)=>e.concat(t)),[]),cancel:function(){this.request.forEach((e=>e.abort()))}}}t["Z"]=s},13686:(e,t,a)=>{"use strict";a.d(t,{TH:()=>x,vz:()=>A,K_:()=>R,xm:()=>z,Ob:()=>J,YE:()=>pe,ub:()=>Ce,VB:()=>Ee,Gm:()=>Oe,wW:()=>ct,i0:()=>it,Xb:()=>ft,BL:()=>ht});var s=a(44119);var n=a(3268);var i=a(38264);var o=a(54300);var r=a(30102);var l=a(6054);var c=a(73641);var d=a(65843);const u=e=>({bubbles:true,detail:e});function h(e,t){return e.dispatchEvent(t)}function p(e,t,a){let s=a[t];let n=new CustomEvent(d._D,u(e));h(s,n)}function m(e,t,a){let s=a[t];let n=new CustomEvent(d.xN,u(e));h(s,n)}function f(e,t,a){let s=a[t];let n=new CustomEvent(d.wQ,u(e));h(s,n)}function g(e,t,a){let s=a[t];let n=new CustomEvent(d.Zl,u(e));h(s,n)}var v=a(71141);var y=a(8346);class b{static get className(){return"BaseChart"}constructor(){this._setupResizeEventListener()}draw(e){console.error("BaseChart.draw() Must be implemented via the extending class")}resize(){console.error("BaseChart.resize() Must be implemented via the extending class")}getSettings(){return this._settings}hasAxis(){let e=this.getSettings();if(typeof e.container.axis==="undefined"){return false}return typeof e.container.axis.hasAxis!=="undefined"&&e.container.axis.hasAxis}_createRoot(){let{height:e,flexHeight:t,margin:a}=this.getSettings().container;let s=e+a.top+a.bottom;let n=this._getContainerWidth()+a.left+a.right;this._svg=(0,y.Ys)(this._selector).append("div").attr("class",this._buildClassList("Container")).style("height",(e=>{if(!t){return`${s}px`}return`auto`})).append("svg").attr("class",this._buildClassList()).style("width",`${n}px`).style("height",`${s}px`).attr("transform",`translate(${a.left}, ${a.top})`);this._g=this._svg.append("g")}_validateRequirements(){let{chartClass:e}=this.getSettings();if(!e){console.error(`${this._CLASS_NAME} requires 'chartClass' settings object to be populated`)}}_buildClassList(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=`${this._CLASS_NAME}${e}`;let a=this.getSettings();if(a.chartClass!==""){t+=` ${a.chartClass}${e}`}return t}_getClassList(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let{chartClass:t}=this.getSettings();return`.${t}${e}`}_setupResizeEventListener(){window.addEventListener("resize",(()=>{this._updateSVGWidth();this.resize()}))}_getContainerWidth(){const e=this.getSettings();let t=e.container.width;if(t==="auto"&&this._selector){t=this._selector.clientWidth}return t}_getSVGDimensionsObject(){let e=this._svg.node();let t=e.getBBox();return t}_updateSVGWidth(){const e=this._svg.node();if(!e){return}const t=this._getContainerWidth();(0,y.Ys)(e).style("width",`${t}px`)}_animateElements(e,t){if(this.getSettings().animate){return t(e)}return e}_dynamicallyAdjustSVGHeight(){let e=this._svg.node();if(!e){return}let t=this._getSVGDimensionsObject();let a=15;let s=t.y+t.height+a;let n=0;this._animateElements((0,y.Ys)(e),(t=>t.transition().duration(500).style("height",`${s}px`).on("start",(()=>{n++})).on("end",(()=>{if(--n===0&&document.contains&&document.contains(e)){this._dynamicallyAdjustAxisHeight()}})))).style("height",`${s}px`)}_dynamicallyAdjustAxisHeight(){if(this.hasAxis()){const e=this._svg.node();(0,y.Ys)(this._getClassList("__xAxis")).selectAll("line").transition().delay(1e3).filter((function(){return document.contains(e)})).attr("y2",(()=>{const e=this._getSVGDimensionsObject();return e.height}))}}_convertValueLengthToPixelSpace(e){this._svg.append("g").attr("translate","transition(10000, 0").attr("class","text-to-pixel-group").append("text").text(e);let t=(0,y.Ys)(".text-to-pixel-group");let a=t.select("text").node().getComputedTextLength();t.remove();return a}}var moment=a(82543);const w="AreaChart";const S={chartClass:"",container:{height:200,width:400,margin:{top:10,right:10,bottom:30,left:0}},xAxisTickCount:l.Z.every(1),xAxisTickFormat:moment.shortFormat,yAxisLabelWidth:40,yAxisMin:null,yAxisMax:null,pathStrokeWidth:2,drawEndDot:false};const C=(0,v.isEnabled)("jade");class x extends b{static get className(){return"AreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:S;super();(0,s.Z)(this,"_minYDrawnValue",0);this._selector=e;this._CLASS_NAME=w;this._settings=(0,c.defaultsDeep)({},t,S);this._validateRequirements();this._createRoot()}draw(e){const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const s=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t)));const i=t.map((e=>e.points.map((e=>e.y)))).reduce(((e,t)=>e.concat(t)));const o=this._settings;const r=o.yAxisMin===null?Math.floor((0,n.VV)(i)/10)*10:o.yAxisMin;const l=o.yAxisMax===null?Math.ceil((0,n.Fp)(i)/10)*10:o.yAxisMax;this._minYDrawnValue=r;this._xScale=this._getXScale(s);this._yScale=this._getYScale(r,l);this._drawAreas();this._drawXAxis(s);this._drawXAxisExtraInfo();this._drawYAxis()}_getXScale(e){const{container:{margin:t},yAxisLabelWidth:a}=this._settings;return(0,o.Xf)().domain((0,n.We)(e,(e=>new Date(e)))).range([a,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:s}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([a,s.top])}_getYScaleText(e){const{yAxisUseWholeValue:t}=this._settings;return`${e}${t?"":"%"}`}_getColor(e,t){const a=this._settings;if(a.colors){e.color=a.colors[t]}return e.color?e.color:""}_drawAreas(){this._drawAreaGroups();this._drawLineGroups()}_removeTrailingNullPoints(e){const t=e.reduce(((e,t,a)=>t&&t.y?a:e),0);return e.filter(((e,a)=>a<=t))}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const s=t.merge(a);const n=(0,r.SO)().x((e=>this._xScale(new Date(e.x)))).y0((()=>this._minYDrawnValue?this._yScale(this._minYDrawnValue):this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`${C?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getColor(e,t)));s.select(this._getClassList("__area")).attr("d",(e=>n(this._removeTrailingNullPoints(e.points))));t.exit().remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const s=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const n=a.merge(s);const i=(0,r.jv)().x((e=>this._xScale(new Date(e.x)))).y((e=>this._yScale(e.y)));s.append("path").attr("class",`${C?"AreaChart--themeStroke":"baseStrokeColor"} ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>this._getColor(e,t))).style("stroke-width",t.pathStrokeWidth+"px");if(t.drawEndDot){const e=e=>{let{x:t,y:a}=e;return{x:this._xScale(new Date(t)),y:this._yScale(a)}};const t=t=>t&&t.points?e(this._removeTrailingNullPoints(t.points).pop()):{x:this._xScale(0),y:this._yScale(0)};s.append("circle").attr("class",`${C?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__endDot")}`).attr("fill",this._getColor.bind(this)).attr("pointer-events","none").attr("r",4).attr("cx",(e=>t(e).x)).attr("cy",(e=>t(e).y))}n.select(this._getClassList("__line")).attr("d",(e=>i(this._removeTrailingNullPoints(e.points))));a.exit().remove()}_drawXAxis(e){const{container:{height:t},xAxisTickCount:a,xAxisTickFormat:s}=this._settings;const o=this._svg;this._xScale.domain((0,n.We)(e.map((e=>this._resetTimeValues(e))),(e=>this._resetTimeValues(e))));const r=(0,i.axisBottom)(this._xScale).ticks(a).tickFormat((e=>moment(e).format(s)));const l=o.select(this._getClassList("__xAxis")).empty();if(l){o.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${t})`).call(r)}else{o.select(this._getClassList("__xAxis")).call(r)}}_drawXAxisExtraInfo(){if(this._xAxisExtraInfo){const e=this._svg;const t=e.selectAll(this._getClassList("__xAxisExtraInfo")).data(this._xAxisExtraInfo);const a=t.enter().append("g").attr("class",this._buildClassList("__xAxisExtraInfo")).on("mouseover",f);const s=t.merge(a);t.exit().remove();this._drawXAxisExtraInfoLine(a,s);this._drawXAxisExtraInfoCircle(a,s);this._drawXAxisExtraInfoIcon(a,s)}}_drawXAxisExtraInfoLine(e,t){const{container:{height:a,margin:s}}=this._settings;const n=a+s.bottom-33;const i=n+14;e.append("line").attr("class",this._buildClassList("__xAxisExtraInfoLine"));t.select(this._getClassList("__xAxisExtraInfoLine")).attr("x1",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("x2",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("y1",n).attr("y2",i).style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoCircle(e,t){const{container:{height:a,margin:s}}=this._settings;e.append("circle").attr("class",this._buildClassList("__xAxisExtraInfoCircle"));t.select(this._getClassList("__xAxisExtraInfoCircle")).attr("cx",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("cy",a+s.bottom-10).attr("r",10).style("fill","#fff").style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoIcon(e,t){const{container:{height:a,margin:s}}=this._settings;e.append("svg").attr("class",this._buildClassList("__xAxisExtraInfoIcon"));t.select(this._getClassList("__xAxisExtraInfoIcon")).attr("height",12).attr("width",12).attr("x",(e=>this._xScale(this._resetTimeValues(e.x))-6)).attr("y",a+s.bottom-16).style("fill","#b1b1b1").append("svg:use").attr("xlink:href",(e=>this._getIcon(e.event)))}_getIcon(e){const t={launch:"#fab-star-13x12",email:"#fab-envelope-12x10"};return t[e]}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabelWidth:a}=this._settings;const s=this._svg;const n=(0,i.axisLeft)(this._yScale).ticks(5).tickFormat((e=>this._getYScaleText(e)));const o=s.select(this._getClassList("__yAxis")).empty();if(o){s.append("g").attr("transform",`translate(${a})`).attr("class",this._buildClassList("__yAxis")).call(n)}else{s.select(this._getClassList("__yAxis")).call(n)}s.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>t-a-e.right)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}}))}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}}var T=a(16307);var E=a(46133);const k={bars:{classNameModifier:"",mouseEvents:{}},barTitles:{classNameModifier:"",padding:7,height:17,uppercase:true},barSubtitles:{show:false,height:14},barValues:{show:true,suffix:""},barTooltips:{className:""},className:"",height:310,paddingTop:57,responsive:true,width:658,useTransitions:false};const Z="ba-BarChart";const N=2;const I="#E8E8E8";class A{static get className(){return"BarChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:k;this._selector=e;this._options=(0,c.defaultsDeep)({},t,k);this._maxBarHeight=this._options.height-this._options.barTitles.height-this._options.barTitles.padding-this._options.paddingTop;if(this._options.barSubtitles.show){this._maxBarHeight-=this._options.barSubtitles.height}this._svg=this._createSvg();this._configure()}_createSvg(){let e=(0,y.Ys)(this._selector).classed(Z,true).classed(this._options.className,this._options.className);e.selectAll("*").remove();let t=e.append("div").classed(`${Z}__container`,true).classed(`${this._options.className}__container`,this._options.className);let a=t.append("svg").classed(`${Z}__svg`,true).classed(`${this._options.className}__svg`,this._options.className).attr("viewBox","0 0 "+this._options.width+" "+this._options.height);if(this._options.responsive){t.classed("container",true).attr("style","display:inline-block;position:relative;width:100%;padding-bottom:47.11%;vertical-align:top;overflow:hidden;");a.classed("responsive",true).attr("style","display:inline-block;position:absolute;left:0;top:0;").attr("preserveAspectRatio","xMinYMin meet")}else{a.style("height",this._options.height+"px").style("width",this._options.width+"px")}this._addDefs(a);return a}_addDefs(e,t){const a=(0,v.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";let s=t?t.replace("#",""):"";let n=e.append("defs").append("pattern").attr("height",6).attr("id","diagonalHatchPattern"+s).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(-45)").attr("width",6);let i=n.append("rect").attr("height","100%").attr("fill","rgb(255, 255, 255)").attr("fill-opacity","0.6").attr("width","100%");let o=n.append("rect").attr("height",3).attr("width",6);if(t){i.attr("fill",t);o.attr("fill",t)}else{i.attr("class",a);o.attr("class",a)}}_configure(){const e=(0,v.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";const t=(0,v.isEnabled)("jade")?"Lato":"Source Sans Pro";this._barsArea=this._svg.append("g").attr("class",`${Z}__barsArea ${e}`).classed(`${this._options.className}__barsArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("opacity",.8);this._valuesArea=this._svg.append("g").attr("class",`${Z}__valuesArea ${e}`).classed(`${this._options.className}__valuesArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("font-family",t).attr("font-size","13").attr("text-anchor","middle");let a=this._options.height-this._options.barTitles.height;if(this._options.barSubtitles.show){a-=this._options.barSubtitles.height}this._titlesArea=this._svg.append("g").classed(`${Z}__titlesArea`,true).classed(`${this._options.className}__titlesArea`,this._options.className).attr("transform","translate(0, "+a+")").attr("font-family",t).attr("font-size","13").attr("fill","#777").attr("text-anchor","middle");if(this._options.barTitles.uppercase){this._titlesArea.style("text-transform","uppercase")}if(this._options.barSubtitles.show){this._subtitlesArea=this._svg.append("g").classed(`${Z}__subtitlesArea`,true).classed(`${this._options.className}__subtitlesArea`,this._options.className).attr("transform","translate(0, "+(this._options.height-this._options.barSubtitles.height)+")").attr("font-family",t).attr("font-size","10px").attr("fill","#777").attr("text-anchor","middle")}this._groupLabels=this._svg.append("g").classed(`${Z}__groupLabelsArea`,true).classed(`${this._options.className}__groupLabelsArea`,this._options.className).attr("transform","translate(0, "+16+")").attr("font-family",t).attr("font-size","19");this._groupDividers=this._svg.append("g").classed(`${Z}__groupDividersArea`,true).classed(`${this._options.className}__groupDividersArea`,this._options.className).attr("stroke","#d7d7d7").attr("stroke-width",1).attr("opacity",.9)}draw(e){let t=(0,o.ti)().range([0,this._options.width]).round(true).paddingInner(.42).domain(e.map(((e,t)=>t)));let a=(0,o.BY)().rangeRound([this._maxBarHeight-N,0]).domain([0,(0,n.Fp)(e,(e=>Array.isArray(e)?(0,n.Fp)(e,(e=>Number(e.value))):Number(e.value)))]);const s=e.reduce(((t,a,s)=>{if(s===0||e[s-1].groupName!==a.groupName){t.push(Object.assign(a,{originalIndex:s}))}return t}),[]);const i=this._svg.transition().delay(1e3).duration(600).ease(T.cC);this._drawBars(e,t,a,i);if(this._options.barValues.show){this._drawBarValues(e,t,a,i)}const r=e=>{let t=Array.isArray(e)?e[e.length-1].displayType:e.displayType;let a;if(Array.isArray(e)){a=e[e.length-1].titleColor||e[e.length-1].color}else{a=e.titleColor||e.color}return t==="unselected"?I:a};const l=this._titlesArea.selectAll(`.${Z}__title`).data(e);const c=l.enter().append("text").classed(`${Z}__title`,true).classed(`${this._options.className}__title`,this._options.className).attr("y",14).merge(l).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).text((e=>Array.isArray(e)?e[e.length-1].title:e.title)).attr("fill",r);if(this._options.barTitles.classNameModifier){c.classed(`${this._options.className}__title--${this._options.barTitles.classNameModifier}`,(e=>Array.isArray(e)?e[e.length-1].modifyTitle:e.modifyTitle))}l.exit().remove();if(this._options.barSubtitles.show){const a=this._subtitlesArea.selectAll(`.${Z}__subtitle`).data(e);a.enter().append("text").merge(a).classed(`${Z}__subtitle`,true).classed(`${this._options.className}__subtitle`,this._options.className).attr("y",8).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).filter((e=>Array.isArray(e)?e[e.length-1].subtitle&&e[e.length-1].subtitle.length:e.subtitle&&e.subtitle.length)).text((e=>Array.isArray(e)?e[e.length-1].subtitle:e.subtitle)).attr("fill",r)}const d=this._groupLabels.selectAll(`.${Z}__groupLabel`).data(s);d.enter().append("text").classed(`${Z}__groupLabel`,true).classed(`${this._options.className}__groupLabel`,this._options.className).attr("y",0).merge(d).attr("x",(e=>t(e.originalIndex))).text((e=>e.groupName));d.exit().remove();const u=this._groupDividers.selectAll(`.${Z}__groupDivider`).data(s);u.enter().append("line").classed(`${Z}__groupDivider`,true).classed(`${this._options.className}__groupDivider`,this._options.className).attr("y1",0).attr("y2",this._options.height).merge(u).attr("visibility",(e=>e.originalIndex===0?"hidden":"visible")).attr("x1",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2))).attr("x2",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2)));u.exit().remove();BambooHR.Components.Tooltip.init()}_drawBars(e,t,a,s){let n=e=>this._maxBarHeight-a(e.value);let i=e=>a(e.value);let o=this._barsArea.selectAll(`.${Z}__barGroup`).data(e);let r=o.enter().append("g").classed(`${Z}__barGroup`,true).classed(`${this._options.className}__barGroup`,this._options.className).attr("data-index",((e,t)=>t));r=o.merge(r).selectAll(`.${Z}__bar`).data((e=>Array.isArray(e)?e:[e])).enter().append("rect").classed(`${Z}__bar js-${Z}__bar`,true).classed(`${this._options.className}__bar`,this._options.className).attr("height",n).attr("width",t.bandwidth()).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))})).attr("y",i).attr("rx","2").attr("ry","2").attr("data-tip-class",this._options.barTooltips.className).attr("data-tip-z-index","auto").attr("data-tip-content",(e=>e.tooltip)).attr("data-tip-lead",(e=>e.tooltipLead)).on("mouseenter",this._options.bars.mouseEvents.mouseenter||function(){(0,y.Ys)(this).style("opacity",.85)}).on("mouseleave",this._options.bars.mouseEvents.mouseleave||function(){(0,y.Ys)(this).style("opacity",1)}).on("click",(function(e){this.dispatchEvent(new CustomEvent("ba:barClick",{bubbles:true,detail:{data:e}}))}));if(this._options.useTransitions){r.attr("height",0).attr("y",this._maxBarHeight);r.transition(s).attr("height",n).attr("y",i)}if(this._options.bars.classNameModifier){r.classed(`${this._options.className}__bar--${this._options.bars.classNameModifier}`,(e=>e.modifyBar))}r.attr("fill",(e=>{if(e.displayType==="unselected"){return I}else if(e.displayType==="partial"){if(e.color){const t=e.color?e.color.replace("#",""):"";const a="#diagonalHatchPattern"+t;if(this._svg.select(a).empty()){this._addDefs(this._svg,e.color)}return`url(${a})`}return"url(#diagonalHatchPattern)"}return e.color}));r.exit().remove()}_drawBarValues(e,t,a,s){let{suffix:n}=this._options.barValues;let i=e=>a(e.value)-5;let o=this._valuesArea.selectAll(`.${Z}__valueGroup`).data(e);let r=o.enter().append("g").classed(`${Z}__valueGroup`,true).classed(`${this._options.className}__valueGroup`,this._options.className).attr("data-index",((e,t)=>t));r=o.merge(r).selectAll(`.${Z}__value`).data((e=>Array.isArray(e)?e:[e])).enter().append("text").classed(`${Z}__value`,true).classed(`${this._options.className}__value`,this._options.className).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))+t.bandwidth()/2})).attr("y",i);if(this._options.useTransitions){r.attr("y",this._maxBarHeight);r.transition(s).attr("y",i).tween("text",(function(e){var t=(0,E.sX)(0,e.value);var a=(0,y.Ys)(this);return function(e){var s=Math.ceil(t(e)*100)/100;a.text(n?s+n:s)}}))}else{r.text((e=>n?e.value+n:e.value))}r.attr("fill",(e=>e.displayType==="unselected"?I:e.color));r.exit().remove()}}var F=a(34387);const M="BarChartSingle";const D=1140;const P=993;const O={chartClass:"",title:{fill:["#777","#777"],icon:{name:"",width:"",height:"",fill:""}},defaultFill:"#ddd",container:{height:52,width:993},bar:{height:46,width:993,leftMargin:10,radius:3}};let L=0;class R{static get className(){return"BarChartSingle"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:O;(0,s.Z)(this,"titlePosition",((e,t)=>{let a;let s=e.title.width+e.title.icon.width+e.bar.leftMargin+10;if(s<t(e.bar.width)){a=e.bar.leftMargin;L=0}else{a=t(e.bar.width)+e.bar.leftMargin;L=1}return"translate("+a+", "+e.bar.height/2+")"}));(0,s.Z)(this,"makeRect",((e,t)=>{let a=t(e.bar.width||1);let s=e.bar.height;let n=e.bar.radius||3;return`\n\t\t\tM 0, 0\n\t\t\th ${a-n}\n\t\t\ta ${n}, ${n} 0 0 1 ${n}, ${n}\n\t\t\tv ${s-2*n}\n\t\t\ta ${n}, ${n} 0 0 1 -${n}, ${n}\n\t\t\th ${n-a}\n\t\t\tz\n\t\t`}));(0,s.Z)(this,"resize",(()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".NotHiredChartSetLegend").offsetWidth;if((0,c.inRange)(e,P,D)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartSingle");for(var s=a.length;s--;){a[s].style.width=e-t+"px"}let n=(0,o.BY)().range([0,this._options.container.width]).domain([0,100]);this._updateBars([this._options],n)}}));this._selector=e;this._options=(0,c.defaultsDeep)({},t,O);this._createDom();const a=(0,c.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(){let e=(0,y.Ys)(this._selector).append("div").attr("class",`${M} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`);this._svg=e.append("svg").attr("class",`${M}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).attr("preserveAspectRatio","xMaxYMin meet").style("height",`${this._options.container.height}px`).style("width",`${this._options.container.widthp}px`)}draw(e){let t=(0,o.BY)().range([0,e.container.width]).domain([0,100]);this._drawBars([e],t)}_updateBars(e,t){let a=this._svg.select("g").data(e);a.select("path").attr("d",(e=>this.makeRect(e,t)));a.select("g").attr("transform",(e=>this.titlePosition(e,t)))}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>e.defaultFill));a.append("path").attr("d",(e=>this.makeRect(e,t))).on("mouseenter",((e,t,a)=>{if(e.hasOwnProperty("popover")){this._onPathEnter(a[t].parentNode,e.popover)}}));let s=a.append("g").attr("transform",(e=>this.titlePosition(e,t))).attr("fill",(e=>e.title.fill[L])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.title.icon.width+e.bar.leftMargin));let n=s.append("svg").attr("width",(e=>e.title.icon.width)).attr("height",(e=>e.title.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.title.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");n.append("use").attr("xlink:href",(e=>e.title.icon.name));s.append("text").text((e=>e.title.text)).attr("x",(e=>e.title.icon.width+e.bar.leftMargin/2)).attr("y","0").attr("dy","0.7ex")}_onPathEnter(e,t){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",this._options.bar.height);if(!F.Z.hasInstance(e)){F.Z.create(e,{template:{name:"popover-standard",data:{title:t.title,content:t.content,rawContent:true,popoverClass:`${M}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}var B=a(38592);const j="BarChartStacked";const H=1140;const q=993;const W={color:"#ddd",container:{height:62,width:993},bars:[{title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",(0,B.getBrandColor)()]},bar:{height:62,leftMargin:15}},{fill:"rgba(0, 0, 0, 0.2)",title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",(0,B.getBrandColor)()]},bar:{height:23,leftMargin:15}}]};let U=0;class z{static get className(){return"BarChartStacked"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:W;(0,s.Z)(this,"titlePosition",((e,t,a,s)=>{let n=e.bar;let i=e.bar.height/3-1;if(t>0){n=a[0].__data__.bar;i=n.height-e.bar.height/2}let o;let r=e.title.width+n.icon.width+n.leftMargin+20;if(r<s(n.width)){o=n.leftMargin;U=0}else{o=s(n.width)+n.leftMargin;U=1}return"translate("+o+", "+i+")"}));(0,s.Z)(this,"makeRect",((e,t,a,s)=>{let n=e.bar.height;let i=e.bar.radius||3;let o;if(t===0){o=s(e.bar.width||1)}else{let t=s(a[0].__data__.bar.width||1);s.range([0,t]);o=s(e.bar.width);if(o<=9){o=9}}return`\n\t\t\tM 0, ${e.bar.y}\n\t\t\th ${o-i}\n\t\t\ta ${i}, ${i} 0 0 1 ${i}, ${i}\n\t\t\tv ${n-2*i}\n\t\t\ta ${i}, ${i} 0 0 1 -${i}, ${i}\n\t\t\th ${i-o}\n\t\t\tz\n\t\t`}));(0,s.Z)(this,"resize",(()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".ActiveStatusChartSetLegend").offsetWidth;if((0,c.inRange)(e,q,H)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartStacked");for(var s=a.length;s--;){a[s].style.width=e-t+"px"}let n=(0,o.BY)().range([0,this._options.container.width]).domain([0,100]);this._updateBars(this._options.bars,n)}}));this._selector=e;this._options=(0,c.defaultsDeep)({},t,W);this._createDom(this._options);const a=(0,c.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(e){let t=(0,y.Ys)(this._selector).append("div").attr("class",`${j}`).style("height",`${this._options.container.height}px`);this._svg=t.append("svg").attr("class",`${j}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`)}draw(e){let t=(0,o.BY)().range([0,e.container.width]).domain([0,100]);this._drawBars(e.bars,t)}_updateBars(e,t){let a=this._svg.selectAll(".bar").data(e);a.select("path").attr("d",((e,a,s)=>this.makeRect(e,a,s,t)));a.select("g").attr("transform",((e,a,s)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,s,t)})).attr("fill",(e=>e.title.fill[U]));a.select("text").styles({fill:e=>e.title.fill[U]})}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("class","bar").attr("fill",(e=>e.fill));a.append("path").attr("d",((e,a,s)=>this.makeRect(e,a,s,t))).on("mouseenter",((e,t,a)=>{this._onPathEnter(a[t].parentNode,e)}));let s=a.append("g").attr("transform",((e,a,s)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,s,t)})).attr("fill",(e=>e.title.fill[U])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.bar.icon.width+e.bar.leftMargin));let n=s.append("svg").attr("width",(e=>e.bar.icon.width)).attr("height",(e=>e.bar.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.bar.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");n.append("use").attr("xlink:href",(e=>e.bar.icon.name));s.append("text").text((e=>e.title.text)).attr("x",(e=>e.bar.icon.width+5)).attr("y",0).attr("dy","0.7ex").styles({"font-size":(e,t)=>this._options.bars[t].bar.fontSize,fill:e=>e.title.fill[U]})}_onPathEnter(e,t){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",t.bar.height);if(!F.Z.hasInstance(e)){F.Z.create(e,{template:{name:"popover-standard",data:{title:t.popover.title,content:t.popover.content,rawContent:true,popoverClass:`${j}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}var Y=a(92959);var G=a.n(Y);var V=a(82543);const K="DetailedMultiLineAreaChart";const X={chartClass:"",container:{height:433,width:560,margin:{top:27,right:20,bottom:10,left:20}},xAxisTickCount:l.Z.every(1),xAxisTickFormat:"MMM YYYY",yAxisLabel:null,yAxisLabelXOffset:0,yAxisMin:-100,yAxisMax:100,pathStrokeWidth:3};class J extends b{static get className(){return"DetailedMultiLineAreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:X;let a=arguments.length>2?arguments[2]:undefined;let n=arguments.length>3?arguments[3]:undefined;super();(0,s.Z)(this,"_minYDrawnValue",0);(0,s.Z)(this,"_destroyPopover",void 0);(0,s.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=K;this._settings=(0,c.defaultsDeep)({},t,X);this._onMouseOver=a;this._onFocus=n;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;this._allXPoints=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t))).slice(0,this._areas[0].points.length).map((e=>this._resetTimeValues(e)));const{yAxisMin:s,yAxisMax:n}=this._settings;this._minYDrawnValue=s;this._xScale=this._getXScale(this._allXPoints);this._yScale=this._getYScale(s,n);this._svg.style("overflow","visible");this._drawYAxis();this._drawXAxis();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.BY)().domain([0,e.length-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:s}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([a-s.bottom,s.top])}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas()}_drawDivider(){const e=this._svg.selectAll(this._getClassList("dividerLine")).data([this._allXPoints]);const t=e.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const a=e.merge(t);a.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));e.exit().remove()}_drawXAxis(){const{container:{height:e},xAxisTickFormat:t}=this._settings;const a=this._svg;const s=this._allXPoints;this._xScale.domain([0,this._allXPoints.length-1]);const n=(0,i.axisBottom)(this._xScale).tickValues([0,1,2,3]).tickFormat((e=>V(s[e]).format(t)));const o=a.select(this._getClassList("__xAxis")).empty();if(o){a.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${e})`).call(n)}else{a.select(this._getClassList("__xAxis")).call(n)}a.select(this._getClassList("__xAxis")).attr("font-family",`'Lato', sans-serif`);a.select(this._getClassList("__xAxis")).select(".domain").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick line").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick text").attr("class","yAxisLabel__label")}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabel:a,yAxisLabelXOffset:s}=this._settings;const n=this._svg;const o=(0,i.axisLeft)(this._yScale);const r=n.select(this._getClassList("__yAxis")).empty();if(r){n.append("g").attr("class",this._buildClassList("__yAxis")).call(o)}else{n.select(this._getClassList("__yAxis")).call(o)}n.select(this._getClassList("__yAxis")).attr("font-family",`'Lato', sans-serif`);if(a){n.select(this._getClassList("__yAxis")).append("text").text(a).attr("class","yAxisLabel").attr("x",s)}n.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",t).attr("stroke-dasharray","3 5").style("stroke","#adadad");n.select(this._getClassList("__yAxis")).select(".domain").remove();n.select(this._getClassList("__yAxis")).selectAll(".tick text").attr("class","yAxisLabel");const l=n.select(this._getClassList("__yAxis")).selectAll(".tick");const c=(l.size()+1)/2;const d=n.select(this._getClassList("__yAxis")).select(`.tick:nth-child(${c})`);d.select("line").remove();d.append("line").attr("x2",e.left).style("stroke","#e0e0e0");d.append("line").attr("x1",t-e.right).attr("x2",t).style("stroke","#e0e0e0")}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>`area-${t}`));const s=t.merge(a);const n=(0,r.SO)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getAreaColor(t)));s.select(this._getClassList("__area")).attr("d",(e=>n(e.points)));t.exit().remove()}_getAreaColor(e){const{colors:t}=this._settings;switch(e){case 0:return t.likes.promoters;case 1:return t.likes.neutrals;case 2:return t.likes.detractors;case 3:return t.dislikes.detractors;case 4:return t.dislikes.neutrals;case 5:return t.dislikes.promoters;default:return""}}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data([this._areas[0],this._areas[3]]);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const s=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const n=a.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const i=n.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const o=n.merge(i);o.attr("d",((e,t)=>{const a=this._areas.find((t=>{var a;return G()(a=t.points).call(a,e)}));const n=this._areas.indexOf(a)===0;const i=[];const o=a.points[t-1]?this._xScale(t-1):null;const r=this._xScale(t);const l=a.points[t+1]?this._xScale(t+1):null;if(o!==null){i.push((r+o)/2)}i.push(r);if(l!==null){i.push((l+r)/2)}const c=[];const d=a.points[t-1]?this._yScale(a.points[t-1].y):null;const u=this._yScale(e.y);const h=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(d!==null){if(u>d){c.push((u+d)/2)}else{c.push((d+u)/2)}}c.push(u);if(h!==null){if(h>u){c.push((h+u)/2)}else{c.push((u+h)/2)}}return s(i.map(((e,t)=>({x:e,y:c[t]}))))})).on("mouseover",(t=>{const a=this._areas.find((e=>{var a;return G()(a=e.points).call(a,t)}));const s=this._areas.indexOf(a)===0;const n=a.points.indexOf(t);const i=this._areas.indexOf(a);const o=Math.abs(this._areas[i+1].points[n].y);const r=Math.abs(this._areas[i+2].points[n].y);const l=Math.abs(t.y);this._addHoverGroup(t,a);const c=this._svg.select("#primaryHoverPoint");this._destroyPopover=this._onMouseOver({detail:{data:{count:l,isPositive:s,promoters:Math.abs(s?l-o:r),neutrals:Math.abs(o-r),detractors:Math.abs(s?r:l-o)}},target:c.node()});e.select(`${this._getClassList("__xAxis")} .tick:nth-child(${n+1}) text`).classed("focusedAreaLabel",true).style("font-weight","bold").style("fill","#555")})).on("mouseleave",(t=>{this._removeHoverGroup(t);this._destroyPopover();e.select(".focusedAreaLabel").classed("focusedAreaLabel",false).style("font-weight","normal").style("fill","#686868")}));n.exit().remove();t.exit().remove()}_addHoverGroup(e,t){const a=this._svg;const s=t.points.indexOf(e);const n=this._areas.indexOf(t);const i=this._areas[n+1].points[s];const o=this._areas[n+2].points[s];const l=this._areas.indexOf(t)===0;const{colors:c}=this._settings;const d=(0,r.jv)().x((e=>this._xScale(s))).y((e=>this._yScale(e.y)));const u=a.append("g").attr("id","hoverGroup").style("pointer-events","none");u.append("path").style("fill","none").style("stroke","black").style("stroke-width","2px").style("opacity","0.15").attr("d",d([{x:e.x,y:0},{x:e.x,y:e.y}]));u.append("circle").attr("id","primaryHoverPoint").attr("r",6).attr("cx",this._xScale(s)).attr("cy",this._yScale(e.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(s)).attr("cy",this._yScale(e.y)).style("fill","#fff");u.append("circle").attr("r",3).attr("cx",this._xScale(s)).attr("cy",this._yScale(i.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(s)).attr("cy",this._yScale(o.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint)}_removeHoverGroup(){this._svg.select(`#hoverGroup`).remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data([this._areas[1],this._areas[2],this._areas[4],this._areas[5],this._areas[0],this._areas[3]]);const s=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>`line-${t}`));const n=a.merge(s);const i=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));s.append("path").attr("class",this._buildClassList("__line")).style("fill","none").style("stroke",((e,t)=>this._getLineColors(t))).style("stroke-width",((e,a)=>{if(a===4||a===5){return`${t.pathStrokeWidth}px`}return"1px"}));this._addLineGroupCircles();n.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));a.exit().remove()}_addLineGroupCircles(){const e=this._svg;const{colors:t}=this._settings;const a=this._areas[0];const s=a.points[0];const n=a.points.find(((e,t,a)=>t===a.length-1));const i=this._areas[3];const o=i.points[0];const r=i.points.find(((e,t,a)=>t===a.length-1));const l=e.select("#line-0");const c=l.selectAll("circle").data([s,n]);const d=c.enter().append("circle").attr("r",4).style("fill",t.likes.line);const u=c.merge(d);u.attr("cx",((e,t)=>this._xScale(t===0?t:a.points.length-1))).attr("cy",(e=>this._yScale(e.y)));c.exit().remove();const h=e.select("#line-3");const p=h.selectAll("circle").data([o,r]);const m=p.enter().append("circle").attr("r",4).style("fill",t.dislikes.line);const f=p.merge(m);f.attr("cx",((e,t)=>this._xScale(t===0?t:i.points.length-1))).attr("cy",(e=>this._yScale(e.y)));p.exit().remove()}_getLineColors(e){const{colors:t}=this._settings;switch(e){case 4:return t.likes.line;case 5:return t.dislikes.line;default:return"rgba(255, 255, 255, 0.4)"}}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}}var Q=a(80298);class ee{static get className(){return"EventRegistry"}constructor(){this.eventHandlers={}}on(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)}off(e,t){const a=this.eventHandlers[e];if(!a||!a.length){return}const s=a.indexOf(t);if(s>-1){a.splice(s,1)}}trigger(e){const t=Array.prototype.slice.call(arguments,1);const a=this.eventHandlers[e];if(!a||!a.length){return}a.forEach((e=>{e(...t)}))}}var te=ee;var ae=a(78144);function se(e,t,a,s){let n=ne(e,t,a,s)||ie(e,t,a,s);if(n){return{startAngle:n.endAngle,endAngle:n.endAngle}}return null}function ne(e,t,a,s){var n=t.length;while(--e>=0){var i=s(a[e]);for(var o=0;o<n;++o){if(s(t[o])===i){return t[o]}}}}function ie(e,t,a,s){var n=a.length;var i=t.length;while(++e<n){var o=s(a[e]);for(var r=0;r<i;++r){if(s(t[r])===o){return t[r]}}}}const oe="BhrDonut";const re={chartClass:"",icon:{visible:true},size:260,valueLabel:{visible:true},useRelativeSizes:{label:true,percentage:true,percentageSign:true}};const le={placeholderLabelFontSize:.063,valueFontSize:.194,valueLabelFontSize:.067,valuePercentageSignFontSize:.109};const ce={placeholderLabelFontSize:13};const de=750;function ue(e,t){return t}class he extends te{static get className(){return"Donut"}constructor(e,t){super();this._options=(0,c.defaultsDeep)({},t,re);this._size=this._options.size;this._radius=this._size*.5;this._setUpDom(e)}_setUpDom(e){const t=this._options.size;const a=t*.125;const s=a*.3;const n=t/2;const i=n-a*1.5;const o=(0,y.Ys)(e).append("div").attr("class",`${oe} ${this._options.chartClass}`).styles({height:`${t}px`,width:`${t}px`});const l=o.append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("width","100%").attr("height","100%").attr("style","box-sizing: border-box;").attr("viewBox",`0 0 ${t} ${t}`);this._donutGroup=l.append("g").attr("transform",`translate(${n}, ${n})`);this._donutPathGroup=this._donutGroup.append("g");this._chartArc=(0,r.Nb)().innerRadius(i).outerRadius(n-a/2);this._chartArcOver=(0,r.Nb)().innerRadius(i).outerRadius(n);this._donutGroup.append("circle").attr("r",i+s/2).attr("style","stroke-opacity: 0.1; fill: none; stroke: #000000; pointer-events: none;").style("stroke-width",s);this._setUpContentDom(o,i)}_setUpContentDom(e,t){let a=Math.sqrt(Math.pow(t,2)*2);let s=e.append("div").attr("class",`${oe}__container ${this._options.chartClass}__container`).attr("style",(0,ae.j6)(`\n\t\t\t\t\theight: ${a}px;\n\t\t\t\t\tmargin-left: ${-a/2}px;\n\t\t\t\t\tmargin-top: ${-a/2}px;\n\t\t\t\t\twidth: ${a}px\n\t\t\t\t`));this._setUpPlaceholderDom(s);this._setUpValueDom(s)}_setUpPlaceholderDom(e){this._placeholderContainer=e.append("div").attr("class",`${oe}__content ${this._options.chartClass}__content`);if(this._options.icon.visible){this._placeholderIcon=this._placeholderContainer.append("svg").attr("class",`${oe}__icon ${this._options.chartClass}__icon js-BhrPercentDonutChart-icon-svg`).attr("xmlns:xlink","http://www.w3.org/1999/xlink");this._placeholderIcon.append("use")}this._placeholderTitle=this._placeholderContainer.append("div").attr("class",`${oe}__title ${this._options.chartClass}__title`);this._placeholderLabel=this._placeholderContainer.append("div").attr("class",`${oe}__label ${this._options.chartClass}__label`)}_setUpValueDom(e){this._value=e.append("div").attr("class",`${oe}__value ${this._options.chartClass}__value`);this._valuePercentage=this._value.append("span");this._valuePercentageSign=this._value.append("span").text("%");if(this._options.valueLabel.visible){this._valueLabel=this._value.append("div").attr("class",`${oe}__valueLabel ${this._options.chartClass}__valueLabel`)}}_getIconObject(e){const t=/-(\d+)x(\d+)$/;let a=e;let s;let n,i;if(typeof e!=="string"||e.trim()===""){throw new Error("Icon name is missing a value")}s=t.exec(e);if(s){i=Number(s[1]);n=Number(s[2]);if((0,c.startsWith)(e,"fab-")){a=window.Res.get("",null,false)+"#"+e}}else if(e.indexOf("#")!==0){throw new Error(`${e} is an invalid icon name. Icon names must end with dimensions. Example: "-1x1".`)}return{height:n,path:a,width:i}}draw(e){const t=typeof e.icon==="string"?this._getIconObject(e.icon):e.icon;this._sizes=this._getSizes();this._trigger=false;this._drawPaths(e.data);if(this._options.useRelativeSizes.label){this._placeholderLabel.style("font-size",this._sizes.placeholderLabelFontSize+"px").style("line-height",this._sizes.placeholderLabelFontSize+2+"px")}if(!this._options.hidePlaceholderLabel){this._placeholderLabel.text(e.name)}if(t&&this._options.icon.visible){this._placeholderIcon.attr("height",(t.height||0)+"px").attr("width",(t.width||0)+"px");this._placeholderIcon.select("use").attr("xlink:href",t.path)}else if(this._options.hidePlaceholderTitle){this._placeholderTitle.text("")}else{this._placeholderTitle.text(e.totalCount)}}_drawPaths(e){const t=(0,r.ve)().padAngle(.015).value((e=>e.count)).sort(null);const a=this._donutPathGroup.selectAll("path");const s=a.data();const i=t(e.filter((e=>!!e.count)));const o=(0,n.Sm)(e,(e=>e.count));let l=a.data(i,ue);let c,d,u;c=l.enter().append("path").each((function(e,t){this._current=se(t,s,i,ue)||e}));d=c.merge(l).attr("id",(e=>e.data.id)).attr("fill",(e=>e.data.color));this._addSlideTransition(d,o);u=l.exit().datum((function(e,t){return se(t,i,s,ue)||e}));this._addSlideTransition(u,o).remove()}_getSizes(){return Object.keys(le).reduce(((e,t)=>{let a=Math.round(le[t]*this._options.size);let s=ce[t]||0;e[t]=Math.max(a,s);return e}),{})}_addSlideTransition(e,t){const a=this;const s=function(e){const t=(0,E.sX)(this._current,e);this._current=t(0);return function(e){var s=t(e);return a._chartArc(s)}};return e.on("mouseenter",null).on("mouseleave",null).transition().duration(de).attrTween("d",s).on("end",(function(){(0,y.Ys)(this).on("mouseenter",(function(e){a._onPathEnter((0,y.Ys)(this),e,t)})).on("mouseleave",(function(e){a._onPathLeave((0,y.Ys)(this),e,t)}))}))}_onPathEnter(e,t,a){let s=this._getSizes();this._trigger=true;setTimeout((()=>{if(this._trigger){e.node().dispatchEvent(new CustomEvent("ba:donutSliceEnter",{bubbles:true,detail:t.data}));this.trigger("sliceEnter",t.data,e.node());this._value.styles({color:t.data.color,display:"block"});this._valuePercentage.text(Math.round(t.data.count/a*100));if(this._options.useRelativeSizes.percentage){this._valuePercentage.style("font-size",s.valueFontSize+"px")}if(this._options.useRelativeSizes.percentageSign){this._valuePercentageSign.style("font-size",s.valuePercentageSignFontSize+"px")}if(this._options.valueLabel.visible){this._valueLabel.text(t.data.label).styles({color:t.data.color,"font-size":s.valueLabelFontSize+"px"})}this._placeholderContainer.style("display","none");e.transition().duration(150).ease(T.sq).attr("d",this._chartArcOver)}}),150)}_onPathLeave(e,t,a){this._trigger=false;setTimeout((()=>{e.node().dispatchEvent(new CustomEvent("ba:donutSliceLeave",{bubbles:true,detail:t.data}));this.trigger("sliceLeave",t.data,e.node());if(!this._trigger){this._value.style("display","none");this._placeholderContainer.style("display","block")}e.transition().duration(150).ease(T.sq).attr("d",this._chartArc)}),150)}}var pe=he;var me=a(60042);var fe=a.n(me);var $=a(26570);const ge=(0,v.isEnabled)("ElfDeepLinking");const ve="BhrLegend";const _e={chartClass:"",showCounts:true,truncate:true,onClick:null};class ye{static get className(){return"Legend"}constructor(e,t){this._options=(0,c.defaultsDeep)({},t,_e);this._setUpDom(e)}_setUpDom(e){const t=(0,y.Ys)(e).append("div").attr("class",fe()(`${ve}`,{[`${this._options.chartClass}`]:this._options.chartClass}));this._legendList=t.append("ul").attr("class",fe()(`${ve}__legendList`,{[`${this._options.chartClass}__legendList`]:this._options.chartClass,[`${ve}__legendList--columnLayout`]:this._options.columnLayout}));this._total=t.append("div").attr("class",fe()(`${ve}__total`,{[`${this._options.chartClass}__total`]:this._options.chartClass}));this._total.append("span").style("flex-grow",1).text($.__("Total"));this._totalCount=this._total.append("span")}draw(e){let t,a;const s=(0,n.Sm)(e,(e=>e.count));const i=e.slice();t=this._legendList.selectAll(".js-BhrPercentDonutChart-legendItem").data(i);t.exit().remove();a=t.enter().append("li").attr("class",fe()({[`${ve}__legendItem`]:true,[`${this._options.chartClass}__legendItem`]:this._options.chartClass,"js-BhrPercentDonutChart-legendItem":true}));if(this._options.onClick){a.attr("style","cursor: pointer").on("click",this._options.onClick)}a.append("span").attr("class",fe()({[`${ve}__swatch`]:true,[`${this._options.chartClass}__swatch`]:this._options.chartClass,"js-BhrPercentDonutChart-swatch":true}));const o=this._options.truncate?"truncate":"";a.append("span").attr("class",fe()({[`${ve}__legendText`]:true,[`${this._options.chartClass}__legendText`]:this._options.chartClass,"js-BhrPercentDonutChart-legendText":true,[`${o}`]:o}));t=a.merge(t);t.filter((function(e){return e.isTotal})).styles({"border-top":"1px solid #d8d8d8","padding-top":"8px"});t.select(".js-BhrPercentDonutChart-legendText").attr("id",(e=>e.id)).style("font-weight",(e=>e.color===null?"600":"normal")).text((e=>e.label)).filter((e=>e.subLabel)).append("span").attr("class",fe()(`${ve}__legendSubLabel`,{[`${this._options.chartClass}__legendSubLabel`]:this._options.chartClass})).text((e=>e.subLabel)).style("font-weight","normal");t.select(".js-BhrPercentDonutChart-swatch").style("background-color",(e=>e.color));if(this._options.showCounts){this._total.style("display","flex");this._totalCount.text(s);this._drawLegendItemCounts(t)}else{this._total.style("display","none")}}_drawLegendItemCounts(e){const t=e.selectAll(".js-BhrPercentDonutChart-legendCount").data((e=>[e]));t.enter().append("span").attr("class",fe()(`${ve}__legendCount`,{[`${this._options.chartClass}__legendCount`]:this._options.chartClass,"js-BhrPercentDonutChart-legendCount":true})).merge(t).text((e=>{if(!e.hasOwnProperty("countDetailLink")||e.countDetailLink===null){return e.count}return null})).filter((e=>e.hasOwnProperty("countDetailLink")&&e.countDetailLink!==null)).append("a").attr("href",ge&&this._options.onClick?null:e=>e.countDetailLink).text((e=>e.count));t.exit().remove()}sliceEnter(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","600")}sliceLeave(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","normal")}}var be=a(26570);const we="DonutPercentageChart";const Se={chartClass:"",color:["#8aba00","#e8454d","#f96422","#7092eb","#d05489","#3bab38","#ffcb15","#11b9aa","#9a6dc8","#1b8ab4","#6a6a6a"],getColor:null,donut:{},groupedPopoverTemplate:"",legend:{},maxVisibleItems:7,preserveOrder:true,boldLegendOnSliceHover:false};class Ce extends te{static get className(){return"DonutPercentageChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Se;let a;super();this._options=(0,c.defaultsDeep)({},t,Se);a=be("<div>").attr("class",`${we} ${this._options.chartClass}`);this.element=typeof e==="string"?document.querySelector(e):e;a.appendTo(this.element);this._donut=new pe(a[0],this._options.donut);this._donut.on("sliceEnter",this._sliceEnterHandler.bind(this));this._donut.on("sliceLeave",this._sliceLeaveHandler.bind(this));this._legend=new ye(a[0],this._options.legend)}draw(e){const t=this._createInternalModel(e);this._donut.draw(t.visible);this._legend.draw(t.visible.data)}_createInternalModel(e){let{maxVisibleItems:t}=this._options;let a,s;let i=e.data;e=(0,c.cloneDeep)(e);if(e.data.length>this._options.maxVisibleItems){t--}if(!this._options.preserveOrder){i=i.sort(((e,t)=>t.count-e.count))}a=i.slice(t);s=i.slice(0,t);if(a.length){s.push({label:be.__("Other"),count:(0,n.Sm)(a,(e=>e.count)),items:a})}e.data=s.map(((e,t)=>{e.color=this._options.color[t];if(typeof this._options.getColor==="function"){e.color=this._options.getColor(e.label)}e.id=(0,c.uniqueId)("donut-percentage-item-");return e}));return{visible:e}}_sliceEnterHandler(e,t){this.trigger("sliceEnter",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceEnter(t.id)}if(!e.items){return}if(this._options.groupedPopoverTemplate){this._groupedPopover=F.Z.create(t,{closeX:false,html:microTemplate(this._options.groupedPopoverTemplate,{data:e})}).show()}}_sliceLeaveHandler(e,t){this.trigger("sliceLeave",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceLeave(t.id)}if(this._groupedPopover){this._groupedPopover.destroy();this._groupedPopover=null}}}const xe="GroupedSliceChart";const Te={bar:{margin:20,width:60,height:162,minCount:3},chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],height:200,reverseCellOrder:true,showEmptyBar:true,width:330};class Ee{static get className(){return"GroupedSliceChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Te;this._selector=e;this._options=(0,c.defaultsDeep)({},t,Te);this._svg=this._createSvg()}_createSvg(){let e=(0,y.Ys)(this._selector).append("div");let t=e.append("svg").attr("viewBox",`0 0 ${this._options.width} ${this._options.height}`);t.style("height",`${this._options.height}px`).style("width",`${this._options.width}px`);return t}draw(e){let t=[];if(e.hasData){let a=this._options.reverseCellOrder?r.cY:r.$K;let s=(0,r.kn)().keys(e.keys).order(a);t=s(e.values)}let a=(0,o.BY)().range([this._options.bar.height,0]).domain([0,1]);let s=(0,o.ti)().range([0,this._options.width]).round(true).paddingInner(.445).paddingOuter(.2225).domain(e.values.map(((e,t)=>t)));let n=(0,o.PK)(this._options.colors);this._drawTitles(e.values,s);if(this._options.showEmptyBar){this._drawEmptyBars(e.values,s)}this._drawAxis(s);if(e.hasData){this._drawBars(t,s,a,n)}this._drawLabels(e.values,s)}_drawTitles(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${xe}__title ${this._options.chartClass}__title`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.bar.margin/2).text((e=>this._setText(e,e.title)))}_setText(e,t){let a="";if(e.isEmpty){a=this._options.showEmptyBar?t:""}else{a=t}return a}_drawEmptyBars(e,t){const a=this._svg.selectAll(`${xe}__emptyBar ${this._options.chartClass}__emptyBar`).data(e);a.enter().filter((e=>e.isEmpty)).append("rect").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${xe}__emptyBar ${this._options.chartClass}__emptyBar`).attr("x",(e=>t(e.xPosition))).attr("width",(()=>t.bandwidth())).attr("y",0).attr("height",this._options.bar.height-2)}_drawAxis(e){let t=(0,i.axisTop)().tickSize(0).tickValues([]).scale(e);for(var a=1;a<4;a++){this._svg.append("g").attr("class",`${xe}__axis ${this._options.chartClass}__axis`).attr("transform",`translate(0,${Math.round(this._options.bar.margin+this._options.bar.height/4*a)-2})`).call(t)}}_drawBars(e,t,a,s){let n=this;const i=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${xe}__stackedBar ${this._options.chartClass}__stackedBar`).attr("fill",(e=>s(e.key)));const o=i.selectAll("rect").data((e=>e));o.enter().append("rect").merge(o).attr("x",((e,a)=>t(a))).attr("width",(()=>t.bandwidth())).attr("y",(e=>e.data.isEmpty?0:a(e[1]))).attr("height",(e=>{let t=a(e[0])-a(e[1])-2;t=t>0?t:0;return e.data.isEmpty?0:t})).attr("class",`${xe}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){if(!F.Z.hasInstance(this)){let t=this.parentNode.getAttribute("fill");F.Z.create(this,{html:`<div class="${xe}__percentage ${n._options.chartClass}__percentage" style="color: ${t}">${Math.round((e[1]-e[0])*100)}%</div>`,position:"left",triggerEvent:"hover",showImmediately:true,closeX:false,push:-14,tailSize:8})}}))}_drawLabels(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${xe}__label ${this._options.chartClass}__label`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.height-this._options.bar.margin/2+6).text((e=>this._setText(e,e.label)))}}function ke(e){const{bars:t}=e;const a=this.getSettings();const{container:s}=a;const{top:i,right:r,left:l}=s.margin;const{spacing:c}=a.labelText;const{spacing:d}=a.valueText;const{padding:u,height:h,colors:v,cursor:y="default"}=a.bar;const b=25;const w=(0,n.Fp)(t.map((e=>parseInt(e.value))));const S=this._convertValueLengthToPixelSpace(w);const C=this._getContainerWidth()-l-r;const x=C-S-b;const T=(0,o.BY)().domain([0,w]).range([0,x]);const E=(0,o.PK)().domain(t).range(v);const k=this._svg.selectAll(`g${this._getClassList("Group")}`).data(t);const Z=k.enter().append("g").attr("class",this._buildClassList("Group")).attr("transform",(function(e,t){const a=i;const s=t*(h+u)+u;return`translate(${a}, ${s})`}));k.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>T(e.value)));k.select(this._getClassList("__label")).transition().duration(1e3).style("opacity",0).transition().duration(500).style("opacity",1).text((e=>e.title));k.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,T(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));k.exit().transition().duration(1e3).style("opacity",0).remove();Z.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("fill",(e=>E(e))).attr("height",h).attr("width",(e=>T(e.value))).attr("transform",`translate(0, 0)`).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);Z.append("text").attr("class",this._buildClassList("__label")).attr("y",h-h-c).attr("x",0).attr("dy",".65em").style("fill",(e=>this._settings.labelText.color)).text((e=>e.title));Z.append("text").attr("class",this._buildClassList("__value")).attr("y",h/2).attr("dx",d).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,T(e.value))})).style("fill",(e=>this._settings.valueText.color)).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}))}function Ze(e,t){if(e&&t.length>e){return`${t.substring(0,e-3)}...`}return t}function Ne(e){const{bars:t}=e;const a=this.getSettings();const{container:s}=a;const{top:i,right:r,left:l}=s.margin;const{width:c,fill:d}=a.labelText;const{spacing:u,valueEdgePadding:h}=a.valueText;const{padding:v,height:y,colors:b,cursor:w="default"}=a.bar;const S=(0,n.Fp)(t.map((e=>parseInt(e.value))));const C=this._convertValueLengthToPixelSpace(S);const x=this._getContainerWidth()-l-r;const T=x-C;const E=T-h-a.labelText.width;const k=(0,o.BY)().domain([0,S]).range([0,E-r]);const Z=(0,o.PK)().domain(t).range(b);const N=this._svg.selectAll(`g${this._getClassList("__chartContainer")}`).data(t);const I=N.enter().append("g").attr("class",this._buildClassList("__chartContainer")).attr("transform",((e,t)=>{const s=i+a.labelText.width;const n=t*(y+v)+v;return`translate(${s}, ${n})`}));const A=this._g.selectAll(this._getClassList("__label")).data(t);N.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>k(e.value)));N.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,k(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));A.transition().duration(1e3).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}));N.exit().transition().duration(1e3).style("opacity",0).remove();A.exit().transition().duration(1e3).style("opacity",0).remove();I.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",w).attr("fill",(e=>Z(e))).attr("width",(e=>k(e.value))).attr("height",y).attr("transform","translate(0, 0)").on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);I.append("text").attr("class",this._buildClassList("__value")).attr("y",y/2).attr("dx",u).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,k(e.value))})).style("fill",(e=>Z(e))).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}));A.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){return t*(y+v)+v})).attr("x",0).attr("dx",u).attr("dy","0.9em").attr("fill",d).attr("width",c).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}))}function Ie(e){const t=this.getSettings();const{container:a}=t;const{showAxis:s,label:l,labelLength:d}=a.axis;const{top:u,right:h,bottom:v,left:b}=a.margin;const{width:w,fill:S,labelPosition:C}=t.labelText;const{spacing:x,showTotalValueType:T,color:E,valueEdgePadding:k,showZero:Z}=t.valueText;const{padding:N,height:I,colors:A,cursor:F="default"}=t.bar;const M=this._getContainerWidth()-b-h;const D=a.height-u-v;const P=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const O=function(e){switch(T){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":return""}};const L=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const R=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const B=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const j=function(e){switch(T){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",E).text(te);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,s)=>{t.append("tspan").style("fill",J(s)).text((()=>{if(a===0){if(Z===true&&s===0){return 0}return""}else if(e.values.length-1===s&&e.values[s-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",J(e)).text(te)}break}case"none":case"default":break}};const H=e.bars.map((e=>P(e.value)));const q=B(H);const W=e.bars.map((e=>{e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const U=W.map((e=>{const t=P(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const z=W.map((e=>{const t=P(e);const a=(0,c.sum)(t);return a}));const Y=(0,n.Fp)(z);const G=O(q);const V=this._convertValueLengthToPixelSpace(G);const K=(0,r.kn)().keys(e.barKeys).offset(r.HL);const X=K(W);let J=(0,o.PK)().domain(W).range(A);const Q=M-w-V-k;const ee=(0,o.BY)().domain([0,Y]).rangeRound([0,Q]).nice().clamp(true);let te=function(e){switch(T){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":return""}};if(this.hasAxis()){const e=D+u+v;const t=(0,i.axisTop)().scale(ee);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);if(t==0){s.attr("dx",d);return l}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${w+1}, 0)`).call(t).call(R).call(L);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(t).call(R).call(L)}}const ae=this._g.selectAll(this._getClassList("__series")).data(X);const se=ae.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>J(t))).attr("class",(e=>this._buildClassList("__series")));const ne=se.merge(ae);const ie=ne.selectAll(this._getClassList("__bar")).data((e=>e));const oe=this._g.selectAll(this._getClassList("__label")).data(e.bars);const re=this._g.selectAll(this._getClassList("__value")).data(U);ie.exit().transition().duration(500).style("opacity",0).remove();oe.exit().transition().duration(500).style("opacity",0).remove();re.exit().transition().duration(500).style("opacity",0).remove();let le=0;ie.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(e[1])-ee(e[0])-1;return t<0?0:t})).on("start",(()=>{le++})).on("end",(()=>{if(--le===0){this._dynamicallyAdjustSVGHeight()}}));oe.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}));re.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ee(e.total)+w+1})).each(j);ie.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",F).attr("transform",`translate(${w}, 0)`).attr("shape-rendering","crispEdges").attr("height",I).attr("y",(function(e,t){return t*(I+N)+N})).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(e[1])-ee(e[0])-1;return t<0?0:t})).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);oe.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(C==="top"){return t*(I+N)+5}return t*(I+N)+N})).attr("x",0).attr("dx",x).attr("dy","1.3em").attr("fill",S).attr("width",w).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}));re.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",I/2).attr("dx",x).attr("dy","1.3em").attr("y",(function(e,t){return t*(I+N)+N})).attr("x",(function(e,t,a){return ee(e.total)+w+1})).each(j)}function Ae(e){const t=this.getSettings();const{container:a,emptyCheckCallback:s,emptyLabelCallback:i}=t;const{bottom:l=0,left:d=0,right:u=0,top:h=0}=a.margin;const{colors:v,cursor:y="default",height:b,iconPath:w="/images/bicons/notes-speech-bubble.png",padding:S,summaryBarHeight:C=25}=t.bar;const x=this._getContainerWidth()-d-u;const T=a.height-h-l;const E=s(e);const k=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const Z=e=>e.reduce(((e,t)=>e+t),0);const N=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const I=e.bars.map((e=>k(e.value)));const A=N(I);const F=e.bars.map(((e,t)=>{e.value.summary=e.summary;return e.value}));const M=Z(A);const D=(0,r.kn)().keys(e.barKeys).offset(r.HL);const P=D(F);const O=(0,o.PK)().domain(F).range(v);const L=F.map((e=>{const t=k(e);const a=(0,c.sum)(t);return a}));const R=(0,n.Fp)(L);const B=(0,o.BY)().domain([0,R]).rangeRound([0,x]);const j=e=>{const t=B(e[1])-B(e[0])-1;return t<0?0:t};const H=(e,t)=>{const{data:{summary:{displayText:a}}}=e;let s=0;if(a&&e[0]===0){s=C/2}const n=t*(b+S)+S+b/2+6-s;return n};const q=(e,t)=>{if(E[t]){return 15}return(B(e[1])-B(e[0]))/2+B(e[0])-6};const W=(e,t)=>{if(E[t]){const t=e[1]-e[0];return i(t)}const a=Math.round((e[1]-e[0]||0)/M*100);return a&&a>5?`${a}%`:""};const U=(e,t)=>{if(e.summary&&e.summary.displayText){const t=e.summary.value;return t?B(t)-1:5}return 0};const z=e=>{if(e.summary&&e.summary.displayText){return e.summary.displayText}};const Y=this._g.selectAll(this._getClassList("__series")).data(P);const G=Y.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>O(t))).attr("class",(e=>this._buildClassList("__series")));const V=G.merge(Y);const K=V.selectAll(this._getClassList("__bar")).data((e=>e));const X=V.selectAll(this._getClassList("__insideLabel")).data((e=>e));const J=this._g.selectAll(this._getClassList("__summaryBar")).data(e.bars);const Q=this._g.selectAll(this._getClassList("__summaryLabel")).data(e.bars);K.exit().transition().duration(750).style("opacity",0).remove();X.exit().transition().duration(750).style("opacity",0).remove();J.exit().transition().duration(750).style("opacity",0).remove();Q.exit().transition().duration(750).style("opacity",0).remove();let ee=0;K.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(750).attr("x",(function(e,t){return B(e[0])+1})).attr("width",j).on("start",(()=>{ee++})).on("end",(()=>{if(--ee===0){this._dynamicallyAdjustSVGHeight()}}));X.transition().duration(750).attr("y",(function(e,t){return H(e,t)})).attr("x",q).text(W);J.data(e.bars).transition().delay((function(e,t){return t*50})).duration(750).attr("x",1).attr("width",U).on("start",(()=>{ee++})).on("end",(()=>{if(--ee===0){this._dynamicallyAdjustSVGHeight()}}));Q.transition().delay((function(e,t){return t*50})).duration(750).text(z);K.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("shape-rendering","crispEdges").attr("height",b).attr("y",(function(e,t){return t*(b+S)+S})).attr("x",(function(e,t){return B(e[0])+1})).attr("width",j).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);X.enter().append("text").attr("class",this._buildClassList("__insideLabel")).attr("cursor",y).attr("y",H).attr("x",q).style("fill","#fff").style("pointer-events","none").text(W);J.enter().append("rect").attr("class",this._buildClassList("__summaryBar")).attr("fill","rgba(0,0,0,0.2)").attr("cursor",y).attr("shape-rendering","crispEdges").attr("height",C).attr("y",(function(e,t){return t*(b+S)+S+(b-C)})).attr("x",1).style("pointer-events","none").attr("width",U);J.enter().append("svg:image").attr("class",this._buildClassList("__summaryIcon")).attr("x",15).attr("y",(function(e,t){return t*(b+S)+S+(b-C)+5})).attr("height",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.height}})).attr("width",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.width}})).attr("xlink:href",(e=>{if(e.summary&&e.summary.displayText){return w}}));Q.enter().append("text").attr("class",this._buildClassList("__summaryLabel")).attr("cursor",y).attr("y",(function(e,t){return t*(b+S)+S+(b-C)})).attr("x",40).attr("dy","1.3em").attr("fill","rgba(255, 255, 255, 0.7)").style("pointer-events","none").text(z)}function Fe(e){var t;if(!G()(t=e.barKeys).call(t,"total")){e.barKeys.push("total")}const a=this.getSettings();const{container:s}=a;const{showAxis:l,label:d,labelLength:u}=s.axis;const{top:h,right:v,bottom:b,left:w}=s.margin;const{width:S,fill:C,labelPosition:x}=a.labelText;const{spacing:T,showTotalValueType:E,color:k,valueEdgePadding:Z,showZero:N}=a.valueText;const{padding:I,height:A,colors:F,totalColor:M,cursor:D="default"}=a.bar;const P=this._getContainerWidth()-w-v;const O=s.height-h-b;const L=e=>e=+e||0;const R=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const B=function(e){switch(E){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const j=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const H=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const q=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const W=function(e){switch(E){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",k).text(ie);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,s)=>{t.append("tspan").style("fill",ae(s)).text((()=>{if(a===0){if(N===true&&s===0){return 0}return""}if(e.values.length-1===s&&e.values[s-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",ae(e)).text(ie)}break}case"none":case"default":default:break}};const U=e.bars.map((e=>R(e.value)));const z=q(U);const Y=e.bars.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=R(e.value);const a=(0,c.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const V=Y.map((e=>{const t=R(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const K=Y.map((e=>{const t=R(e);const a=(0,c.sum)(t);return a}));const X=(0,n.Fp)(K);const J=B(z);const Q=this._convertValueLengthToPixelSpace(J);const ee=(0,r.kn)().keys(e.barKeys).offset(r.HL);const te=ee(Y);let ae=(0,o.PK)().domain(Y).range(F);const se=P-S-Q-Z;const ne=(0,o.BY)().domain([0,X]).rangeRound([0,se]).nice().clamp(true);let ie=function(e){switch(E){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=O+h+b;const t=(0,i.axisTop)().scale(ne);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);if(t==0){s.attr("dx",u);return d}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${S+1}, 0)`).call(t).call(H).call(j);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{this._animateElements((0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1),(e=>e.transition().duration(500).call(t).call(H).call(j)))}}const oe=this._g.selectAll(this._getClassList("__series")).data(te);const re=oe.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>{if(e.key==="total"){return M}return ae(t)})).attr("class",(e=>this._buildClassList("__series")));const le=re.merge(oe);const ce=le.selectAll(this._getClassList("__bar")).data((e=>e));const de=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ue=this._g.selectAll(this._getClassList("__value")).data(V);this._animateElements(ce,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(de,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(ue,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));let he=0;this._animateElements(ce.data((e=>e)),(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ne(e[0])+1})).attr("width",(function(e){const t=ne(L(e[1]))-ne(L(e[0]))-1;return t<0?0:t})).on("start",(()=>{he++})).on("end",(()=>{if(--he===0){this._dynamicallyAdjustSVGHeight()}}))));this._animateElements(de,(e=>e.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}))));this._animateElements(ue,(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ne(e.total)+S+1})).each(W)));ce.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",D).attr("transform",`translate(${S}, 0)`).attr("shape-rendering","crispEdges").attr("height",A).attr("y",(function(e,t){return t*(A+I)+I})).attr("x",(function(e,t){return ne(e[0])+1})).attr("width",(function(e){const t=ne(L(e[1]))-ne(L(e[0]))-1;return t<0?0:t})).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);de.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(x==="top"){return t*(A+I)+5}return t*(A+I)+I})).attr("x",0).attr("dx",T).attr("dy","1.3em").attr("fill",C).attr("width",S).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}));ue.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",A/2).attr("dx",T).attr("dy","1.3em").attr("y",(function(e,t){return t*(A+I)+I})).attr("x",(function(e,t,a){return ne(e.total)+S+1})).each(W)}function Me(e){var t;if(!G()(t=e.barKeys).call(t,"total")){e.barKeys.push("total")}const a=this.getSettings();const{container:s}=a;const{label:l,labelLength:d}=s.axis;const{top:u,right:h,bottom:v,left:b}=s.margin;const{width:w,fill:S,labelPosition:C}=a.labelText;const{spacing:x,showTotalValueType:T,color:E,valueEdgePadding:k,showZero:Z}=a.valueText;const{padding:N,height:I,colors:A,totalColor:F,totalColorSecondary:M,cursor:D="default"}=a.bar;const P=this._getContainerWidth()-b-h;const O=s.height-u-v;const L=e=>e=+e||0;const R=t=>{const a=[];(0,c.map)(t,(function(t,s){e.barKeys.forEach((e=>{if(e==s){a.push(+t)}}))}));return a};const B=function(e){switch(T){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const j=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const H=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const q=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const W=function(e){switch(T){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",E).text(he);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,s)=>{t.append("tspan").style("fill",re(s)).text((()=>{if(a===0){if(Z===true&&s===0){return 0}return""}if(e.values.length-1===s&&e.values[s-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",re(e)).text(he)}break}case"none":case"default":default:break}};const U=e?.bars[0]?.value?.length||0;const z=[];e.bars.forEach((e=>{e.value.forEach(((t,a)=>{const s={...e,value:{...t,index:a}};z.push(s)}))}));const Y=z.map((e=>R(e.value)));const V=q(Y);const K=z.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=R(e.value);const a=(0,c.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const X=K.map((e=>{const t=R(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const J=K.map((e=>{const t=R(e);const a=(0,c.sum)(t);return a}));const Q=(0,n.Fp)(J);const ee=B(V);const te=this._convertValueLengthToPixelSpace(ee);const ae=(0,r.kn)().keys(e.barKeys).offset(r.HL);const se=ae(K);const ne=se.filter((e=>e.key!=="total")).map((e=>e.map((e=>{e.id=(0,c.uniqueId)();return e}))));const ie=[];let oe=0;while(K.length>oe){const e=oe;ne.forEach((t=>{ie.push(t[e].id)}));oe++}const re=(0,o.PK)().domain(K).range(A);const le=(0,o.PK)().domain(ie).range(A);const ce=(e,t)=>{if(e.data.total||e.id===undefined){return t%2===0?F:M}return le(e.id)};const de=P-w-te-k;const ue=(0,o.BY)().domain([0,Q]).rangeRound([0,de]).nice().clamp(true);let he=function(e){switch(T){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=(0,i.axisTop)().scale(ue);e.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);if(t==0){s.attr("dx",d);return l}return e}));const t=this._g.select(this._getClassList("__xAxis")).empty();if(t){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${w+1}, 0)`).call(e).call(H).call(j);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(e).call(H).call(j)}}const pe=this._g.selectAll(this._getClassList("__series")).data(se);const me=pe.enter().append("g").attr("id",(e=>e.key)).attr("class",(()=>this._buildClassList("__series")));const fe=me.merge(pe);const ge=fe.selectAll(this._getClassList("__bar")).data((e=>e));const ve=this._g.selectAll(this._getClassList("__label")).data(e.bars);const _e=this._g.selectAll(this._getClassList("__value")).data(X);ge.exit().transition().duration(500).style("opacity",0).remove();ve.exit().transition().duration(500).style("opacity",0).remove();_e.exit().transition().duration(500).style("opacity",0).remove();let ye=0;ge.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return ue(e[0])+1})).attr("width",(function(e){const t=ue(L(e[1]))-ue(L(e[0]))-1;return t<0?0:t})).attr("fill",ce).on("start",(()=>{ye++})).on("end",(()=>{if(--ye===0){this._dynamicallyAdjustSVGHeight()}}));ve.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}));_e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return ue(e.total)+w+1})).each(W);ge.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",D).attr("transform",`translate(${w}, 0)`).attr("shape-rendering","crispEdges").attr("height",I).attr("y",(function(e,t){return t*(I+N)+N})).attr("x",(function(e){return ue(e[0])+1})).attr("width",(function(e){const t=ue(L(e[1]))-ue(L(e[0]))-1;return t<0?0:t})).attr("fill",ce).on("click",p).on("mouseenter",m).on("mouseleave",g).on("mouseover",f);ve.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(C==="top"){return t*(I+N)+5}return(t*(I+N)+N)*U})).attr("x",0).attr("dx",x).attr("dy","1.3em").attr("fill",S).attr("width",w).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ze(a,t)}));_e.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",I/2).attr("dx",x).attr("dy","1.3em").attr("y",(function(e,t){return t*(I+N)+N})).attr("x",(function(e){return ue(e.total)+w+1})).each(W)}const De="HorizontalBarChart";const Pe={chartClass:"",needsAxis:false,container:{flexHeight:false,height:210,width:70,margin:{top:0,right:0,bottom:10,left:0}},labelText:{color:"#777",spacing:12,alignmentLeft:false},valueText:{color:"#777",spacing:4,showZero:false},bar:{colors:["#ccc"],height:16,padding:28,formatTextFunction:null},animate:!window.navigator.webdriver};class Oe extends b{static get className(){return"HorizontalBarChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Pe;super();this._selector=e;this._CLASS_NAME=De;this._settings=(0,c.defaultsDeep)({},t,Pe);this._validateRequirements();this._createRoot()}draw(e){this._data=e;if(e.type==="hybrid"){Fe.call(this,e)}if(e.type==="double"){Me.call(this,e)}if(e.type==="stacked"){Ie.call(this,e)}if(e.type==="stacked-summary"){Ae.call(this,e)}if(e.type==="simple"){if(this.getSettings().labelText.alignmentLeft){Ne.call(this,e)}else{ke.call(this,e)}}this._dynamicallyAdjustSVGHeight()}resize(){this.draw(this._data)}}const Le=e=>e<=-40;const Re=e=>e>-40&&e<=0;const Be=e=>e>0;const $e=(e,t)=>{if(Le(e)||Re(e)){return(0,E.LX)(t,Je)}if(Be(e)){return(0,E.LX)(t,Ve)}};const je=e=>{if(Le(e)){return Xe}if(Re(e)){return Ke}if(Be(e)){return Ve}};const He=(e,t)=>(0,E.LX)(t,je(e));function qe(e){const t=(0,E.sX)(this._current,e);this._current=t(0);return function(e){return et(t(e))}}const We=e=>function(t){const a=(0,E.sX)(t.endAngle,e);return function(e){t.endAngle=a(e);return Qe(t)}};const{PI:Ue}=Math;const ze=-.8*Ue;const Ye=.8*Ue;const Ge="warning";const Ve="#8db812";const Ke="#f19d11";const Xe="#db6021";const Je="#555";let Qe;let et;function tt(){const e=this.getSettings();const{radius:t,width:a,color:s}=e.mainBar;const{color:n}=e.backgroundBar;const{text:i}=e.secondaryText;const{text:o}=e.ternaryText;Qe=(0,r.Nb)().innerRadius(t).outerRadius(t-a).startAngle(ze);this._arcContainer=this._svg.append("g").attr("class","arc-info").attr("transform","translate(166, 170)");this._arcContainer.append("path").datum({endAngle:Ye}).attr("d",Qe).attr("fill",n).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)");this._arcContainer.append("path").attr("fill",s).attr("class",this._buildClassList("__primaryRing")).attr("transform","translate(20, 20)").on("mouseover",f);if(e.showInnerBar){const e=t-30;const a=t-40;const s=(0,r.Nb)().innerRadius(e).outerRadius(a).startAngle(ze);this._arcContainer.append("path").datum({endAngle:Ye}).attr("d",s).attr("fill",n).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)")}this._innerInfoContainer=this._svg.append("g").attr("class","inner-info").attr("transform","translate(166, 170)");this._innerInfoContainer.append("text").attr("class",`${this._buildClassList("__secondaryText")} baseFillColor`).attr("text-anchor","middle").attr("x",20).attr("y",30).text(i);this._innerInfoContainer.append("line").attr("class",this._buildClassList("__zeroMarkLine")).attr("x1",20).attr("y1",-160).attr("x2",20).attr("y2",-117).attr("stroke-width",1).attr("stroke","white");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__zeroMarkNumber")).attr("text-anchor","middle").attr("x",20).attr("y",-108).attr("dy",".5rem").text("0");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",-50).attr("y",150).attr("dy",".5rem").text("-100");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",90).attr("y",150).attr("dy",".5rem").text("+100")}function at(e){const t=this.getSettings();const a=this._svg;const{radius:s}=t.mainBar;const{colors:n}=t.innerBar;const{text:i}=t.ternaryText;const{value:l}=e.mainBar;const{innerBar:c}=e;const d=-100;const u=100;const h=(0,o.BY)().range([ze,Ye]).domain([d,u]).clamp(true);const m=h(l);const g=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__primaryText`).data([e]);const b=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__ternaryText`).data([e]);const w=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__icon`).data([e]);g.exit().remove();b.exit().remove();w.exit().remove();this._animateElements(g,(e=>e.transition().duration(1500).styleTween("fill",(function(e){return $e(l,this.style.fill)})).tween("text",(function(e){const t=this;const a=+t.textContent;const s=+e.mainBar.value;const n=(0,E.uL)(a,s);return function(e){t.textContent=n(e)}}))));this._animateElements(b,(e=>e.transition().duration(1e3))).attr("x",(e=>{if(e.ternaryIconTheme===Ge){return 34}return 20})).text((e=>`${e.ternaryValue} ${i} (${e.ternaryPercent})`));this._animateElements(w,(e=>e.transition().duration(1e3))).style("opacity",(e=>{if(e.ternaryIconTheme===Ge){return 1}return 0}));g.enter().append("text").attr("class",this._buildClassList("__primaryText")).attr("text-anchor","middle").attr("x",20).attr("y",-10).style("fill",(e=>{if(Be(e.mainBar.value)){return Ve}return Je})).text((e=>e.mainBar.value));b.enter().append("text").attr("class",(()=>`${this._buildClassList("__ternaryText")} ${this._buildClassList("__ternaryText--link")}`)).attr("text-anchor","middle").attr("x",(e=>{if(e.ternaryIconTheme=="warning"){return 34}return 20})).attr("y",57).text((e=>`${e.ternaryValue} ${i} (${e.ternaryPercent})`)).on("click",p).on("mouseover",f);w.enter().append("svg:image").attr("class",this._buildClassList("__icon")).attr("x",(0,v.isEnabled)("enpsSentimentScoreTrend")?-75:-50).attr("y",40).attr("width",20).attr("height",24).style("opacity",(e=>{if(e.ternaryIconTheme=="warning"){return 1}return 0})).attr("xlink:href",`/images/bicons/warning-icon-lrg.png`);const S=a.select(this._getClassList("__primaryRing")).each((e=>{this._currentEndAngle=e?e.endAngle:ze})).datum({endAngle:t.animate?this._currentEndAngle:m,data:e}).attr("d",Qe);const C=e=>{if(t.showInnerBar){const t=s-30;const a=s-40;const i=(0,o.PK)().domain([1,2,3]).range(n);et=(0,r.Nb)().outerRadius(t).innerRadius(a);const l=(0,r.ve)().startAngle(-.8*Ue).endAngle(e.endAngle).sort(null).value((e=>e.value));const d=this._arcContainer.selectAll(`.${this._CLASS_NAME}__innerSlice`).data(l(c),(function(e){return e.data.label}));const u=d.enter().append("path").attr("class",this._buildClassList("__innerSlice")).attr("transform","translate(20,20)").on("mouseover",f).each((function(e){this._current=e}));this._animateElements(d,(e=>e.transition().ease(T.m2).duration(500).attrTween("d",qe)));d.exit().remove();d.merge(u).attr("fill",(function(e){return i(e.data.order)})).attr("d",et)}};const x=this._animateElements(S,(e=>e.transition().ease(T.m2).duration(500).attrTween("fill",(function(e){const t=(0,y.Ys)(this);const a=t.style("fill");return He(l,a)})).attrTween("d",We(m)).on("end",C)));if(!t.animate){C(x.attr("fill",je(l)).datum())}}const st="RadialProgressChart";const nt={chartClass:"",showInnerBar:false,innerBar:{colors:[]},animate:!window.navigator.webdriver};class it extends b{static get className(){return"RadialProgressChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:nt;super();this._selector=e;this._CLASS_NAME=st;this._settings=(0,c.defaultsDeep)({},t,nt);this._validateRequirements();this._createRoot();tt.call(this)}draw(e){at.call(this,e);this._dynamicallyAdjustSVGHeight()}}var ot=a(1765);const rt="LineChart";const lt={chartClass:"",container:{height:100,margin:{bottom:0,left:0,right:0,top:0},width:214},drawDotsAlongLines:true,fadedLineOpacity:.2,hasSelectableColumns:false,lineToBringToFrontId:null,numberOfYAxisTicks:4,onSelectableAreaClick:null,pathStrokeWidth:4,partialValueColor:"#afafaf",partialValueLightColor:"#c0c0c0",pointColorClassName:"LineChart--strokeThemeColor",pointLightColorClassName:"LineChart--strokeLightThemeColor",pointLightColorEnabled:true,pointRadius:5,pointStrokeWidth:3,pointSubtitles:{height:16,formatter:null},pointTitles:{height:18,formatter:null},yAxisLabelWidth:0,yDomainRangeMax:10,animate:!window.navigator.webdriver};class ct extends b{static get className(){return"LineChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:lt;super();this._selector=e;this._CLASS_NAME=rt;this._settings=(0,c.defaultsDeep)({},t,lt);this._barVerticalOffset=this._settings.container.height-this._settings.pointTitles.height-this._settings.pointSubtitles.height;this._xTitlesVerticalOffset=this._barVerticalOffset+1;this._xSubtitlesVerticalOffset=this._xTitlesVerticalOffset+this._settings.pointTitles.height;this._minPointVerticalOffset=this._barVerticalOffset-16;this._validateRequirements();this._createRoot();this._configure()}updateSettings(e){this._settings=(0,c.defaultsDeep)({},e,lt)}draw(e){this._data=e;const t=e.lines?e.lines:this._prepLinesData(e);const a=e.xAxisTitles?e.xAxisTitles:this._prepTitlesData(e,"title");this._xAxisTitlesData=this._settings.pointTitles.formatter?this._settings.pointTitles.formatter(a):a;const s=e.xAxisSecondaryTitles?e.xAxisSecondaryTitles:this._prepTitlesData(e,"subtitle");const i=this._settings.pointSubtitles.formatter?this._settings.pointSubtitles.formatter(s):s;const o=t.map((e=>e.points.map((e=>e?.y)))).reduce(((e,t)=>e.concat(t)));const r=(0,n.VV)(o);const l=(0,n.Fp)(o);const c=Math.floor(r/10)*10;const d=Math.ceil(l/10)*10;this._xScale=this._getXScale();this._xScaleUsingX=(t,a)=>this._xScale(e.xAxisPositionMap&&t?.x?e.xAxisPositionMap.get(t.x):a);const u=this._settings.yDomainMin||c;const h=this._settings.yDomainMax||d;this._yScale=this._getYScale(u,h);this._minY=u;if(this._settings.hasSelectableColumns)this._drawSelectableAreas();this._drawLines(t);this._drawXAxisTitles();this._drawXAxisSecondaryTitles(i);this._drawYAxis();this._drawLegend(e.legend)}resize(){const e=this._svg;e.style("width",null);const t=e.node().parentNode.clientWidth;e.style("width",`${t}px`);if(!this.hasAxis()){e.select(this._getClassList("__divider")).attr("x2",t)}this.draw(this._data)}_animateElements(e,t){if(this._settings.animate){return e.transition().duration(t)}return e}_configure(){if(!this.hasAxis()){this._bar=this._svg.append("line").style("stroke","#AFAFAF").style("shape-rendering","crispEdges").attr("class",this._buildClassList("__divider")).attr("x1",0).attr("x2",this._getContainerWidth()).attr("y1",this._barVerticalOffset).attr("y2",this._barVerticalOffset)}this._xTitles=this._svg.append("g").style("font-size","12px").style("fill","#adadad").attr("class",this._buildClassList("__titles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xTitlesVerticalOffset})`);this._xSubtitles=this._svg.append("g").style("font-size","10px").style("fill","#AFAFAF").attr("class",this._buildClassList("__subtitles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xSubtitlesVerticalOffset})`);if(this._settings.legend){const e=(0,y.Ys)(this._selector).append("div").attr("class",this._buildClassList("__legend"));const t={onClick:this._handleLegendClick,...this._settings.legend};this._legend=new ye(e.node(),t)}}_handleLegendClick(e){const t=!e.active;const a=t?"none":"initial";const s=`#tag${e.color.slice(1)}_${e.keyOrder}`;const n=(0,y.Ys)(s);this._animateElements(n,100).style("display",a);e.active=t}_prepLinesData(e){if(Array.isArray(e)){return[{points:e}]}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return[e]}}_prepTitlesData(e,t){if(Array.isArray(e)){return e.map((e=>e[t]))}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return e.points.map((e=>e[t]))}}_getXScale(){const e=this._xAxisTitlesData;return(0,o.ti)().domain(e.map(((e,t)=>t))).range([this._settings?.yAxisLabelWidth??0,this._getContainerWidth()]).round(true).paddingOuter(.4).paddingInner(1)}_getYScale(e,t){return(0,o.BY)().domain([e,t]).range([this._minPointVerticalOffset,this._settings.yDomainRangeMax])}_getLineColor(e,t){let{color:a,displayType:s,alternateColors:n}=e;const i=this._settings;if(i.colors){a=i.colors[t]}if(s==="default"||s===undefined)return a?a:"";if(s==="faded")return n?n.faded:"";return""}_getAlternatePointStyles(e){const{alternatePointStyleKeys:t,alternatePointStyles:a}=this._settings;const s=t?.find((t=>e[t]));return a&&a[s]}_getPointFill(e){const{alternatePointStyle:t,alternatePointStyleKey:a}=this._settings;const s=e[a]&&t?.pointFill||this._getAlternatePointStyles(e)?.pointFill||"";return s}_getPointRadius(e){const{alternateLineStyle:t,alternateLineStyleKey:a,alternatePointStyle:s,alternatePointStyleKey:n,pointRadius:i}=this._settings;const o=e&&e[a]&&t?.pointRadius;const r=e&&e[n]&&s?.pointRadius||this._getAlternatePointStyles(e)?.pointRadius;const l=o||r||i;return l}_getPointStrokeWidth(e){const{alternatePointStyle:t,alternatePointStyleKey:a,pointStrokeWidth:s}=this._settings;const n=e[a]&&(t.pointStrokeWidth||this._getAlternatePointStyles(e)?.pointStrokeWidth||s);return n}_drawLines(e){const t=this._drawLineGroups(e);this._drawCircleGroups(t)}_drawLineGroups(e){const t=this._svg;const a=this._settings;const s=t.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(e,(e=>e.id));const n=s.enter().append("g").attr("class",this._buildClassList("__lineGroup")).attr("id",((e,t)=>{if(e.id)return e.id;const a=this._getLineColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const i=s.merge(n);const o=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((()=>this._yScale(this._minY)));const l=(0,r.jv)().defined(((e,t)=>e!==undefined&&e!==null)).x(this._xScaleUsingX).y(((e,t)=>this._yScale(e.y)));n.append("path").attr("class",`${"LineChart--strokeThemeColor"} ${this._buildClassList("__line")}`).style("fill","none").attr("pointer-events","none").style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${a.pathStrokeWidth}px`).attr("d",(e=>o(e.points)));const c=i.select(this._getClassList("__line")).style("stroke",((e,t)=>this._getLineColor(e,t)));this._animateElements(c,300).attr("d",(e=>l(e.points)));i.raise();if(a.lineToBringToFrontId!==null){t.select(`${this._getClassList("__lineGroup")}[id="${a.lineToBringToFrontId}"]`).raise()}s.exit().remove();return{lineGroupUpdate:s,lineGroupEnter:n}}_drawCircleGroups(e){let{lineGroupEnter:t,lineGroupUpdate:a}=e;const s=this._settings;const n=t.append("g").attr("class",`${s.pointColorClassName} ${this._buildClassList("__circleGroup")}`).attr("fill",((e,t)=>this._getLineColor(e,t)||"#fff")).style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${s.pointStrokeWidth}px`);const i=a.select(this._getClassList("__circleGroup"));const o=i.merge(n);o.style("stroke",((e,t)=>this._getLineColor(e,t))).style("fill",((e,t)=>this._getLineColor(e,t)));this._drawCircles(o)}_drawCircles(e){const t=this._settings;const a=e.selectAll(this._getClassList("__innerCircleGroup")).data((e=>e.points));const s=a.enter().append("g").attr("class",this._buildClassList("__innerCircleGroup"));s.append("circle").attr("r",((e,a,s)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===s.length-1)return this._getPointRadius(e);return 0})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__circle")).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));s.append("circle").attr("r",(e=>{if(e?.displayType!=="hollow")return 0;return 3})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__innerCircle")).attr("fill","#fff").attr("stroke","none").attr("stroke-width",0).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));const n=a.merge(s);n.select(this._getClassList("__circle")).on("mouseenter",(function e(a){const s=(0,y.Ys)(this);if(a?.displayType==="partial"){s.style("stroke",t.partialValueLightColor)}else if(t.pointLightColorEnabled){s.classed(t.pointLightColorClassName,true);s.classed(t.pointColorClassName,false)}})).on("mouseleave",(function e(a){const s=(0,y.Ys)(this);if(a?.displayType==="partial"){s.style("stroke",t.partialValueColor)}else if(t.pointLightColorEnabled){s.classed(t.pointLightColorClassName,false);s.classed(t.pointColorClassName,true)}})).on("mouseover",f).filter((e=>e?.displayType==="partial")).style("stroke",t.partialValueColor);const i=n.select(this._getClassList("__circle")).attr("r",((e,a,s)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===s.length-1)return this._getPointRadius(e);return 0}));this._animateElements(i,300).attr("visibility",(e=>!e?"hidden":"")).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));const o=n.select(this._getClassList("__innerCircle")).attr("r",(e=>{if(e?.displayType!=="hollow")return 0;return 3}));this._animateElements(o,300).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));a.exit().remove()}_drawXAxisTitles(){if(this._xAxisTitlesData){const{_data:{xAxisSelectedTitle:e}}=this;this._xTitles.selectAll(this._getClassList("__title")).remove();const t=this._xTitles.selectAll(this._getClassList("__title")).data(this._xAxisTitlesData);t.enter().append("text").attr("class",((_,t)=>{if(t===e){return`${this._buildClassList("__title")} ${this._buildClassList("__title--selected")}`}return this._buildClassList("__title")})).attr("y",16).merge(t).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawXAxisSecondaryTitles(e){if(e){const{_data:{xAxisSelectedTitle:t}}=this;this._xSubtitles.selectAll(this._getClassList("__subtitle")).remove();const a=this._xSubtitles.selectAll(this._getClassList("__subtitle")).data(e);a.enter().append("text").attr("class",((_,e)=>{if(e===t){return`${this._buildClassList("__subtitle")} ${this._buildClassList("__subtitle--selected")}`}return this._buildClassList("__subtitle")})).attr("y",12).merge(a).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawYAxis(){if(this.hasAxis()){const e=this._settings;const t=(0,i.axisLeft)().scale(this._yScale);t.tickSizeOuter(0).ticks(e.numberOfYAxisTicks).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);return e}));const a=this._g.select(this._getClassList("__yAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__yAxis")).call(t);this._g.attr("transform",`translate(${e.yAxisLabelWidth}, 0)`);(0,y.Ys)(this._getClassList("__yAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__yAxis")).attr("opacity",1).call(t)}(0,y.Ys)(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>this._svg.node().parentNode.clientWidth-e.yAxisLabelWidth)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}})).attr("pointer-events","none")}}_drawLegend(e){if(e&&this._settings.legend){if(this._settings.colors){e.forEach(((e,t)=>{e.color=this._settings.colors[t]}))}this._legend.draw(e)}}_drawHoverCircles(e){const t=this._svg;const{lineToBringToFrontId:a=null}=this._settings;const{xAxisPositionMap:s,xAxisTitles:n}=this._data;const i=t.selectAll(this._getClassList("__hoverAreaGroup")).filter(((t,a)=>a===e));const o=new Map;if(s){const e=Array.from(s.values());Array.from(s.keys()).forEach(((t,a)=>{o.set(e[a],t)}))}this._data.lines.forEach((t=>{const s=o.get(e);const n=s?t.points.find((e=>e&&e.x===s)):t.points[e];let r=false;if(a&&a===t.id){r=true}if(n&&(s===undefined||s===n.x)){i.append("circle").attr("class",`${this._buildClassList("__hoverCircle")} ${r&&"front"}`).attr("fill",this._getLineColor(t,e)).attr("pointer-events","none").attr("r",4).attr("cx",this._xScaleUsingX({x:s},e)).attr("cy",this._yScale(n.y))}}));if(a){t.select(`${this._getClassList(`__hoverCircle`)}.front`).raise()}}_removeHoverCircles(){const e=this._svg;e.selectAll(this._getClassList("__hoverCircle")).remove()}_drawSelectableAreas(){const e=this._svg;const t=e.select(this._getClassList("__hoverAreaContainer"));if(!t.size()){e.append("g").attr("class",this._buildClassList("__hoverAreaContainer")).lower()}const a=e.select(this._getClassList("__hoverAreaContainer")).selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._xAxisTitlesData.map(((e,t)=>t)));const s=a.enter().append("g").attr("class",this._buildClassList("__hoverAreaGroup")).style("cursor","pointer").attr("id",((e,t)=>`hover-${t}`));s.append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent").attr("d",((e,t)=>this._getDForHoverArea(t))).on("mouseover",(t=>{this._drawHoverCircles(t);this._hoverArea=t;e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill",ot.colors.gray1)})).on("mouseleave",(t=>{e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill","transparent");this._hoverArea=undefined;this._removeHoverCircles()})).on("click",(e=>{const{onSelectableAreaClick:t}=this._settings;if(t)t(e)}));this._removeHoverCircles();if(this._hoverArea){this._drawHoverCircles(this._hoverArea)}const n=a.merge(s);n.select(this._getClassList("__hoverArea")).attr("d",((e,t)=>this._getDForHoverArea(t)));a.exit().remove()}_getDForHoverArea(e){const t=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const a=e=>t(e.map((e=>({x:e,y:0}))));if(e===0){const e=this._settings?.yAxisLabelWidth??0;const t=this._xScale(0)-e;const s=[e,this._xScale(0)+t];return a(s)}const s=this._xScale(e)-this._xScale(e-1);const n=[this._xScale(e)-s/2,this._xScale(e)+s/2];return a(n)}}const dt="SliceChart";const ut={chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],container:{height:57,width:887},slice:{height:17,hoverMargin:4,width:700}};class ht{static get className(){return"SliceChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ut;this._selector=e;this._options=(0,c.defaultsDeep)({},t,ut)}_createDom(e){const t=(0,y.Ys)(this._selector).append("div","hr").attr("class",`${dt} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`);if(e.title){this._title=t.append("div").attr("class",`${dt}__title ${this._options.chartClass}__title`).text(e.title).append("span").attr("class",`${dt}__subtitle ${this._options.chartClass}__subtitle`).text(`(${e.count})`)}this._svg=t.append("svg").attr("class",`${dt}__bar ${this._options.chartClass}__bar`).attr("viewBox",`0 0 ${this._options.slice.width} ${this._options.slice.height+this._options.slice.hoverMargin}`).style("height",`${this._options.slice.height+this._options.slice.hoverMargin}px`).style("width",`${this._options.slice.width}px`)}draw(e){this._createDom(e);const t=this;t.totals=e.totals;const a=(0,r.kn)().keys(e.keys).order(r.cY);const s=a([e.values]);const n=(0,o.BY)().range([this._options.slice.height+this._options.slice.hoverMargin,0]).domain([0,1]);const i=(0,o.BY)().range([0,this._options.slice.width]).domain([0,1]);this.barColors=(0,o.PK)(this._options.colors);if(typeof this._options.getColor==="function"){this.barColors=this._options.getColor}this._drawBars(s,i,t)}_drawBars(e,t,a){const s=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>this.barColors(e.key)));const n=s.selectAll("rect").data((e=>e));n.enter().append("rect").merge(n).attr("x",(e=>t(e[0]))).attr("width",(e=>{const a=t(e[1])-t(e[0])-2;return a>0?a:0})).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height).attr("class",`${dt}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){a._onPathEnter(this,e,(0,y.Ys)(this.parentNode).datum(),a?.totals)})).on("mouseleave",(function(e){a._onPathExit(this)}))}_onPathEnter(e,t,a,s){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",this._options.slice.height+this._options.slice.hoverMargin);if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue(a.key)}if(!F.Z.hasInstance(e)){F.Z.create(e,{template:{name:"popover-standard",data:{title:this._options?.popover?.title?this._options.popover.title(a):`${Math.round((t[1]-t[0])*100)}%`,content:this._options?.popover?.content?this._options?.popover.content(a,s):a.key,popoverClass:`${dt}__popover ${this._options.chartClass}__popover `,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600"},contentCssOverride:{"text-align":"center"},rawContent:this._options?.popover?.rawContent?this._options.popover.rawContent:false}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:6,delay:75})}}_onPathExit(e){if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue("")}(0,y.Ys)(e).transition().duration(150).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height)}}const pt="SimpleMultiLineAreaChart";const mt={chartClass:"",container:{height:180,width:"auto",margin:{top:0,right:0,bottom:0,left:0}},yAxisMin:null,yAxisMax:null,pathStrokeWidth:3};class ft extends b{static get className(){return"SimpleMultiLineAreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:mt;let a=arguments.length>2?arguments[2]:undefined;let n=arguments.length>3?arguments[3]:undefined;super();(0,s.Z)(this,"_minYDrawnValue",0);(0,s.Z)(this,"_destroyPopover",void 0);(0,s.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=pt;this._settings=(0,c.defaultsDeep)({},t,mt);this._onMouseOver=a;this._onFocus=n;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const s=t[0].points.length;const i=t[0].points.map((e=>e.y));const o=t[1].points.map((e=>e.y));const r=this._settings;const l=r.yAxisMin===null?Math.floor((0,n.VV)(o)):r.yAxisMin;const c=r.yAxisMax===null?Math.ceil((0,n.Fp)(i)):r.yAxisMax;this._minYDrawnValue=l;this._xScale=this._getXScale(s);this._yScale=this._getYScale(l,c);this._svg.style("overflow","visible");this._svg.select("defs").remove();this._defs=this._svg.append("defs");this._addLinearGradients();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.BY)().domain([0,e-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const a=Math.max(Math.abs(e),t);const s=a+a*.1;e=s*-1;t=s;const{container:{height:n,margin:i}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([n,i.top])}_addLinearGradients(){const e=this._defs.append("linearGradient").attr("id","likesGradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");e.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.likes.gradientStart}`);e.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.likes.gradientEnd}`);const t=this._defs.append("linearGradient").attr("id","dislikesGradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%");t.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientStart}`);t.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientEnd}`)}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas();this._addLastPointLabels()}_drawDivider(){const e=this._svg;const t=e.selectAll(this._getClassList("dividerLine")).data([this._areas[0].points]);const a=t.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const s=t.merge(a);s.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));t.exit().remove()}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const s=t===0?a.likes.area:a.dislikes.area;return s?`tag${s.slice(1)}_${t}`:""}));const s=t.merge(a);const n=(0,r.SO)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>t===0?"url(#likesGradient)":"url(#dislikesGradient)"));s.select(this._getClassList("__area")).attr("d",(e=>n(e.points)));t.exit().remove()}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const s=t.merge(a);const n=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const i=s.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const o=i.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const l=i.merge(o);l.attr("d",((e,t)=>{const a=this._areas.find((t=>{var a;return G()(a=t.points).call(a,e)}));const s=[];const i=a.points[t-1]?this._xScale(t-1):null;const o=this._xScale(t);const r=a.points[t+1]?this._xScale(t+1):null;if(i!==null){s.push((o+i)/2)}s.push(o);if(r!==null){s.push((r+o)/2)}const l=[];const c=a.points[t-1]?this._yScale(a.points[t-1].y):null;const d=this._yScale(e.y);const u=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(c!==null){if(d>c){l.push((d+c)/2)}else{l.push((c+d)/2)}}l.push(d);if(u!==null){if(u>d){l.push((u+d)/2)}else{l.push((d+u)/2)}}return n(s.map(((e,t)=>({x:e,y:l[t]}))))})).on("mouseover",(e=>{const t=this._areas.find((t=>{var a;return G()(a=t.points).call(a,e)}));const a=this._areas.indexOf(t)===0;const s=this._addHoverPoint(e,t.points.indexOf(e),a);this._destroyPopover=this._onMouseOver({date:e.x,count:e.y,target:s.node(),isPositive:a})})).on("mouseleave",(e=>{this._removeHoverPoint(e);this._destroyPopover()}));i.exit().remove();t.exit().remove()}_addHoverPoint(e,t,a){return this._svg.append("circle").style("pointer-events","none").attr("id","hoverPoint").attr("cx",this._xScale(t)).attr("cy",this._yScale(e.y)).attr("r",4).style("fill",a?this._settings.colors.likes.line:this._settings.colors.dislikes.line)}_removeHoverPoint(){this._svg.select("#hoverPoint").remove("circle")}_getCurrentPeriod(e){return e.find(((t,a)=>a===e.length-1))}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const s=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const s=t===0?a.likes.line:a.dislikes.line;return s?`tag${s.slice(1)}_${t}`:""}));const n=a.merge(s);const i=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));s.append("path").attr("class",`AreaChart--themeStroke ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line})).style("stroke-width",`${t.pathStrokeWidth}px`);s.append("circle").attr("class",`${this._buildClassList("__circle0")}`).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y))).attr("r",4).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));s.append("circle").attr("class",`${this._buildClassList("__circle1")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",6).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));s.append("circle").attr("class",`${this._buildClassList("__circle1--fill")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",3).style("fill","#fff");n.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));n.select(this._getClassList("__circle0")).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y)));n.select(this._getClassList("__circle1")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));n.select(this._getClassList("__circle1--fill")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));a.exit().remove()}_getAreaIndex(e){return this._areas.indexOf(e)}_addLastPointLabels(){const e=this._svg;const{colors:t}=this._settings;const a=e.selectAll(this._getClassList("__floatingLabel")).data(this._areas);const s=a.enter().append("text").attr("class",`${this._buildClassList("__floatingLabel")}`).style("font-size","13px").style("line-height","16px").style("text-anchor","middle");const n=a.merge(s);n.text(((e,t)=>this._getCurrentPeriod(e.points).y*(t===0?1:-1))).style("fill",((e,a)=>a===0?t.likes.floatingLabel:t.dislikes.floatingLabel)).attr("x",(e=>this._xScale(e.points.length-1))).attr("y",((e,t)=>this._yScale(this._getCurrentPeriod(e.points).y)+(t===0?-11:22)));a.exit().remove()}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}destroy(){(0,y.Ys)(this._selector).select("div").remove()}}},24692:(e,t,a)=>{"use strict";a.d(t,{KN:()=>r,SR:()=>o,es:()=>d,hw:()=>c,ui:()=>l});var s=a(8346);var n=a(34387);var i=a(69835);function o(e){const t=(0,s.Ys)(e.target).node().getBBox();(0,s.Ys)(e.target).attr("height",(e=>t.height+4)).attr("y",(e=>t.y-2))}function r(e){const t=(0,s.Ys)(e.target).node().getBBox();(0,s.Ys)(e.target).attr("height",(e=>t.height-4)).attr("y",(e=>t.y+2))}function l(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let i;const o=(0,s.Jz)(e.target)[0];const r=e.target.getAttribute("x")||e.target.getAttribute("cx");const{push:l=15}=a;i=r?o-r:o;n.Z.create(e.target,{showImmediately:true,closeX:false,push:l,tailSize:9,triggerEvent:"hover",onShow(e){e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},tailOnAnchor:i,html:t})}function c(e,t,a){const s={};const{push:i=15}=s;let o;n.Z.create(t,{showImmediately:true,closeX:false,push:i,position:a,tailSize:9,triggerEvent:"hover",onShow(e){o=e;e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},html:e});return()=>{if(o&&!o.destroyed){o.destroy()}}}function d(e,t){i.Z.create(e,t)}},65843:(e,t,a)=>{"use strict";a.d(t,{Zl:()=>l,_D:()=>i,wQ:()=>r,xN:()=>o});const s="ba";const n=e=>`${s}:${e}`;const i=n("chartMouseClick");const o=n("chartMouseEnter");const r=n("chartMouseOver");const l=n("chartMouseLeave")},99220:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(73641);var n=a.n(s);var $=a(26570);class i{static get className(){return"Confetti"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.target=$(e);this.canvas=null;this.context=null;this.drawInterval=0;this.setRelative=true;this.offsetX=0;this.offsetY=0;this.offsetWidth=0;this.offsetHeight=0;this.numParticles=30;this.particles=[];this.angle=0;this.tiltAngle=0;if(!(0,s.isNil)(t)){for(var a in t){this[a]=t[a]}}$(window).resize(this.setDimensions.bind(this));this.initialize();if(this.easterEgg&&this.panda){this.panda.onload=this.start.bind(this);this.panda.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAF7UlEQVRIDY2WS2iVRxTHz82NMdFgKxqbCPGNxEJRExdKqyQLQcxWEjEES1UE2027kCyq6EKK7cZFKzQKqQ9KjRYFqeQhRBBUsBof0MYnNkajsZqo0TzuY/r/zb1f+t1Ybf5wvpk5c87/zOs7M2YhOOeioWZGVX1ZkkiGMtSgD5uQKqOqvgzu7KCXjkgkknj27Nl7kydP/kz6lZJ8SZ/kF/X9DLEEn4TESQCDgTQhm6T6a1Svlrwv6Ze09Pb2NqjveRBDOu9kgULlR9I1Pn36tOTChQvW3d1ts2bNsoqKCotGoz/I+Quc3gb5f59IJD5va2uze/fuWVFRkS1dutSmTJnSIZ8q+V8PYhHUL5/KDyR/nT9/npkMSeJpiVVXV8cHBwfV7XZLvpb8KmlOC3V0u7FZu3YtfrGQ/xCcQqekUHofk33xS6zym0ePHtVplMOSnPz8fBORTZs2zS5duuQaGxvd6tWrs+7evWv379+3J0+ewGEFBQVWXFxsc+bMsVOnTiWrqqoiZWVlkZ6eHsvNzbX+/n5WbliSU1hY+J1mvZWY2aqwX8z6k9OnT8OVjcOtW7dMfSwxugiEy5cvTyxatMgRRAPzK3Xz5k3X1NRkV65ciZw9e9Yba6usq6uLmdns2bM9Z2trq9XW1n4MFzH94dqxYwck0aEhVlhrHI/bpEmTbOLEiX6v1q1bZ+vXr7eFCxdGWQEGFAYBmOHVq1ft0KFDdvjwYb+/r1698lzYDg8PU0S1clmaRMIfLDRy/vHOnTvs7/D06dPduHHjqLvjx487Eag7hWQy6f5Lgv7Xr197H3zhgEv1GNxCveqpmGr4f0/lAknXmTNnMEzOnTvXafmkSkGn1QcM2qNLBoNNAHzhgAtOoUuyIB049b9L4fdG5bHHjx9jHL9+nZPvPBmkY0V4AHDABadwLB3Uxwovdbn22C1btix54sQJH0d7PdZ4b9gFvnDBCbdQHgRnyowKbGlvb7cJEyYkKisrvSIrK4uBmWbhhfrbMNoOXwAXnHALW/gIKSI5zdD+9OrkOv1Sfl3/b0/l806ElxxOuIkhpxmp2IR3bo1+Bzdz5syEEkMGoRKGUwp0LS0t7tq1axkHKDBkkPRhgy0+YcAJNzGENeHA2zs6OpxGFYMEDAwMuH379rEkGXLy5Enfz4wQgG60Hb5wADjhJoawncCpjTArJgVqVBbszZEjR2zTpk3+kuCimD9/PvZWX19vIvRJhERCHR3ABlsEXzgAnHCn02yx1/kesxz9+JadnbolX7x4YQ0NDb6rr6/POjs7jTQIpk6dOjI42pCiA9hgiw+AAy4ANzGEHD7BjAdIkYw+gJbEV3HQqTQleN/esGGDjR8/3qdCUit1dAAbbIMJBBz0wU0MYZCPhwy+1P3pVqxYEZeBms7t37/f75uIR/Zv7969LhaLuaNHj7q6ujov1NHRJ7IMHzgAnHATQ/gqHdaf6iVahnhpaWny3LlzdDpdZ+7AgQNu1apVXg4ePOhIAkr2btu2bSNBqKOjD5vAHl84AJxwE0PNsmC2/qqRopkLW8sU075g70H95cuXQXOkVEJwyGhgO9ofzvRjoJmg8onw8fusskwS27lzp1O2iT9/zhPpX/DrMCu9n7zywYMHDgHo6At+L6/UBw644BRiEj9blamzpUpwSWxU3e3atYuljF28eDEjYZB/dem7PXv2uM2bN3uhji7Izfjz3+ILB1xpbEzPNnVJ0ADqDILXqt6vx57TazNRU1MTI+XpWRQQZNzP4bsaG2zxwRcOuCS14RjU/f5SATII3l8fqvmtTmMlyV0HxbhT9WJMlJSU2Lx58yJ6HnlfHni3b992N27cMO1jtLy8PKIsZYsXL7a8vLzfxLNVieaPgJs4ICMwirCB6hVSfapypbJOkd7cpl/CHj586B9x2PMo1CvDZyY9Y3n8dStQq7p+UtmGTZiTNngjMEoZ+s2XYzLdJjUtkZRKeEUUSPIkgKzDk/NPyWXJ7/L7W+UbPOjGBEYaDGJMDmkjfPB9l88/4YuLNj6XJrEAAAAASUVORK5CYII="}else{this.start()}}initialize(){this.canvas=document.createElement("canvas");if(this.cssClass){this.canvas.classList.add(this.cssClass)}if(this.setRelative){this.target.css("position","relative")}this.target.prepend(this.canvas);$(this.canvas).css("position","absolute");$(this.canvas).css("top",this.offsetY);$(this.canvas).css("left",this.offsetX);this.setDimensions();this.context=this.canvas.getContext("2d");for(var e=0;e<this.numParticles;e++){this.particles.push(this.getNewParticle())}if((window.ENV==="dev"||window.SESSION_USER.companyId.match(/28448|2218|20/))&&this.easterEgg){this.panda=new Image;for(let e=0;e<this.numParticles/5;e++){this.particles.push({...this.getNewParticle(),isPanda:true})}}}setDimensions(){this.canvas.width=this.target.outerWidth()+this.offsetWidth-1;this.canvas.height=this.target.outerHeight()+this.offsetHeight-1}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.particles.length;e++){const t=this.particles[e];if(t.isPanda){this.context.drawImage(this.panda,t.xPos,t.yPos)}else{this.context.beginPath();this.context.lineWidth=t.size*.3;this.context.strokeStyle=t.color;this.context.moveTo(t.xPos+t.tilt+t.size*.25,t.yPos);this.context.lineTo(t.xPos+t.tilt,t.yPos+t.tilt*.5+t.size*.1);this.context.stroke()}}this.update()}getNewParticle(){return{xPos:Math.random()*this.canvas.width,yPos:Math.random()*this.canvas.height,size:this.randomFromTo(5,30),density:Math.random()*this.numParticles+10,color:`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.7)`,tilt:Math.floor(Math.random()*10)-10,tiltAngleIncremental:Math.random()*.04+.03,tiltAngle:0}}randomFromTo(e,t){return Math.floor(Math.random()*(t-e+1)+e)}update(){this.angle+=.01;this.tiltAngle+=.1;for(let e=0;e<this.particles.length;e++){const t=this.particles[e];t.tiltAngle+=t.tiltAngleIncremental;t.yPos+=(Math.cos(this.angle+t.density)+1+t.size*.5)*.15;t.xPos+=Math.sin(this.angle)*.5;t.tilt=Math.sin(t.tiltAngle-e/3)*15;if(t.xPos>this.canvas.width+15||t.xPos<-15||t.yPos>this.canvas.height+15){t.tilt=Math.floor(Math.random()*10)-10;if(e%5>0||e%2==0){t.xPos=Math.random()*this.canvas.width;t.yPos=-10}else{t.yPos=Math.random()*this.canvas.height;if(Math.sin(this.angle)>0){t.xPos=-5}else{t.xPos=this.canvas.width+5}}}}}start(){this.drawInterval=setInterval(this.draw.bind(this),20)}stop(){clearTimeout(this.drawInterval);if(!(0,s.isNil)(this.context)){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}}},37086:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>Oe,$m:()=>_e});var s=a(67572);var n=a(38592);var i=a(71141);var o=a(6795);var r=a(76725);var l=a(55482);var $=a(26570);const c=40;const d=".HoursPerWeekField__container";const u=".HoursPerWeekField__defaultContainer";const h=".HoursPerWeekField__defaultText";const p="#hoursPerWeekField";const m=".HoursPerWeekField__helpButton";const f='input[name="hoursPerWeek"]';const g=".HoursPerWeekField__inputContainer";const v=`.HoursPerWeekField__popoverButton`;const y="#payScheduleHoursPerWeekMap";const b=".js-paySchedule";const w=`${b} ba-option[selected]`;const S=".js-payType";const C=`${S} ba-option[selected]`;function x(){document.body.style.top="";const e=N();const t=I();let a=$.__n(`This employee's pay schedule has a default of %2$s salaried hour per week.`,`This employee's pay schedule has a default of %2$s salaried hours per week.`,e,t);let s=$.__(`Edit This Employee's Salaried Hours`);let n="update-compensation-modal-hours-per-week-edit-button";if(Y()){a=$.__("This employee is using custom salary hours. We will use this value instead of the pay schedule default.");s=$.__(`Use Pay Schedule Default Instead`);n="update-compensation-modal-hours-per-week-use-default-button"}const i=BambooHR.Components.Popover.create(m,{content:`\n\t\t\t<div class="hoursPerWeekPopoverText">${a}</div>\n\t\t\t<button class="fab-TextButton fab-Link HoursPerWeekField__popoverButton" data-bi-id="${n}" type="button">${s}</button>\n\t\t`,title:$.__("Salaried Hours Per Week"),click:true,persistent:false,contentCssOverride:{maxWidth:"240px"}});i.onShow((()=>{const e=document.querySelector(v);e.removeEventListener("click",L);e.addEventListener("click",L);e.focus()}));return i}function T(){const e=k();if(e){e.destroy()}}function E(e){const t=Z();const a=(0,l.J)(t,undefined,e);const s=(0,l.j)(a);G(s)}function k(){return BambooHR.Components.Popover.selectPopovers(m)[0]}function Z(){return document.querySelector(f).value||""}function N(){const e=A();const t=F();return e?.[t]||c}function I(){return(0,l.j)(N())}function A(){return(0,r.V)(y,true)}function F(){return document.querySelector(w)?.getAttribute("value")}function M(){return document.querySelector(C)?.getAttribute("value")}function D(){return document.querySelector(w)?.getAttribute("data-syncing-pay-schedule")==="true"}function P(){E(2)}function O(){T();const e=x();setTimeout((()=>{if(!e.showing){e.show()}}),0)}function L(){T();if(Y()){X();U()}else{if(!Z()){G(I())}J();W();document.querySelector(f).focus()}}function R(){G("");Q()}function B(){G("");Q()}function j(){return!!(0,r.V)(p,true)}function H(e){const t=document.querySelector(e);if(t){t.classList.add("hidden")}}function q(){H(d);U()}function W(){H(u)}function U(){G("");document.querySelector(f).dataset.validationAllowEmpty=true;H(g)}function z(){if(j()){const e=document.querySelector(b);if(e){e.addEventListener("change",R)}const t=document.querySelector(S);if(t){t.addEventListener("change",B)}const a=document.querySelector(f);if(a){a.addEventListener("change",P)}document.querySelector(m).addEventListener("click",O);Q()}}function Y(){const e=document.querySelector(g);return e&&!e.classList.contains("hidden")}function G(e){document.querySelector(f).value=e}function V(e){const t=document.querySelector(e);if(t){t.classList.remove("hidden")}}function K(){V(d);if(Z()){J();W()}else{X();U()}}function X(){document.querySelector(h).innerText=$.__("%1$s hours per week",I());V(u)}function J(){document.querySelector(f).dataset.validationAllowEmpty=false;V(g)}function Q(){const e=D();const t=M()==="Salary";if(e&&t){K()}else{q()}}var ee=a(26570);const te=(0,i.isEnabled)("zeroWage");const ae={initializeForm(e){const t=ee(".js-payType ba-option:selected");const a=ee(".payRateGroup .percentChange");const s=t.val();this.selectedPayType=s?s.toLowerCase():"";this.initialPayType=s?s.toLowerCase():"";this.initialPayRate=ee(".payRateGroup .js-rate").val();this.initialPaidPer=ee(".payRateGroup .js-paidPer ba-option:selected").text().toLowerCase();this.initialCurrencyType=ee(".payRateGroup .js-currency-picker-type").val();if(this.initialCurrencyType===undefined){this.initialCurrencyType=ee(".payRateGroup .currencyType").val()}setTimeout((()=>{if(e){ce(e)}if(!e||e==="updateCompensation"){const e=this.selectedPayType==="hourly";ve(e);Fe(true);if(we()){Ne();Se();Ce();Ie();if(te){Ze();me()}}}if(e==="updateCompensation"){z()}if(this.initialPayType==="hourly"&&a.length){a.addClass("nextLine")}const t=ee(".js-defaultCurrency").val();const s=ee(".currencyChange-message");if(this.initialCurrencyType!==t){De(s)}}))},formChangeHandler(e){const t=e.target.name;if(t==="payType"){this.selectedPayType=`${e.target.value}`.toLowerCase()}const a=this.selectedPayType==="hourly";ve(a);if(t==="rate[0]"){this.updatePercentChange()}setTimeout((()=>{ce("updateCompensation");if(we()){if(t==="payScheduleId"){Se();Ce()}else if(t==="paidPer"){Se()}else if(t==="payType"){Ce()}Ie()}else{ke(ee(".js-paidPer"));ke(ee(".js-payType"))}xe();if(t==="overtimeRate[0]"){Fe(true)}if(t==="rate[1]"){const e=ee(".js-defaultCurrency").val();const t=ee(".currencyChange-message");const a=ee(".payRateGroup .currencyType").val();if(a!==e){De(t)}else{Pe(t)}}if(t==="rate[0]"&&te){me()}this.checkShouldShowPercentChange()}))},setupForm(e){let t;let a;let s;const n=ee(".payRateGroup .percentChange");if(e==="updateCompensation"){t="input.js-payRate";a='input[name="ymd"]';s='input[name="endYmd"]'}else if(e==="requestChangeApproval"||e==="approvalPreviewForm"){t="input.js-rate";a="input.js-startDate";s="input.js-endDate"}se(t);se(a);se(s);if(e==="updateCompensation"){fe(t,"required","requiredWhenVisible")}if(e==="requestChangeApproval"&&n.length){De(n)}},addFormNote(){setTimeout((()=>{Ne()}))},handlePayScheduleChange(e){if(e!==undefined){e.stopPropagation()}Se();Ce();setTimeout((()=>{Ie()}))},handlePaidPerChange(){setTimeout((()=>{if(we()){Se();Ie()}}));this.checkShouldShowPercentChange()},handlePayTypeChange(e){ce(e);if(!e||e==="updateCompensation"||e==="requestChangeApproval"){setTimeout((()=>{if(we()){Ce();Ie()}}));this.checkShouldShowPercentChange()}},handlePayRateChange(){this.updatePercentChange()},handleCurrencyChange(){this.checkShouldShowPercentChange()},paidPerAndPayTypeValid(){return Ae()},handleOvertimeRateChange(){setTimeout((()=>{Fe()}))},checkShouldShowPercentChange(){const e=ee(".payRateGroup .percentChange");const t=ee(".js-payType ba-option:selected").val();if(!e.length){return}if(this.initialPayType===(t?t.toLowerCase():"")&&this.initialPaidPer===ee(".js-paidPer ba-option:selected").text().toLowerCase()&&(this.initialCurrencyType===ee(".payRateGroup .js-currency-picker-type").val()||this.initialCurrencyType===ee(".payRateGroup .currencyType").val())){De(e);return}Pe(e)},updatePercentChange(){if(!ee(".payRateGroup .percentChange").length){return}const e=ee(".js-rate");const t=ee(".percentChange-percent");const a=ee(".percentChange-text-noChange");const n=ee(".percentChange-text-increase");const i=ee(".percentChange-text-decrease");const o=ee(".percentChange-icon-increase");const r=ee(".percentChange-icon-decrease");const l=(0,s.w)((0,s.l)(e.val()));const c=(0,s.w)((0,s.l)(this.initialPayRate));const d=l-c;const u=d/c*100;const h=Math.abs(Math.round(u*100)/100);t.text(`${h}%`);if(u===0){De(a);Pe(n);Pe(i);Pe(o);Pe(r);return}if(u>0){De(n);De(o);Pe(a);Pe(i);Pe(r);return}De(i);De(r);Pe(n);Pe(o);Pe(a)}};function se(e){ee(e).attr("data-lpignore",true)}function ne(e){if(e==="requestChangeApproval"||e==="approvalPreviewForm"){return ee(".CustomApprovalForm")}return ee("#historyEdit")}function ie(e){const t=ne(e);return{$payTypeSelectElement:t.find("ba-select.js-payType")}}function oe(e){const t=ne(e);let a;let s;let n;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate");s=a.siblings("button.js-currency-picker-button");n=a.closest(".fieldRow")}else{a=t.find("input.js-payRate");s=a.siblings("button.CurrencyPicker__button");n=a.closest(".fieldGroup")}return{$payRateInputElement:a,$payRateButtonElement:s,$payRateElement:n}}function re(e){const t=ne(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate").closest(".fieldBox").find(".fab-FormNote")}else{a=t.find(".compensation-per")}return{$paidPerTextElement:a}}function le(e){const t=ne(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("ba-select.js-paidPer")}else{a=t.find('ba-select[name="paidPer"]')}return{$paidPerSelectElement:a,$paidPerElement:a.closest(".fieldBox")}}function ce(e){pe(e);he(e);ue(e);de(e)}function de(e){const{$payTypeSelectElement:t}=ie(e);const{$paidPerSelectElement:a,$paidPerElement:s}=le(e);(0,o.iI)(t,s,a)}function ue(e){const{$payTypeSelectElement:t}=ie(e);const{$paidPerTextElement:a}=re(e);(0,o.UU)(t,a)}function he(e){const{$payTypeSelectElement:t}=ie(e);const{$payRateInputElement:a,$payRateButtonElement:s,$payRateElement:n}=oe(e);(0,o.os)(t,n,a,s)}function pe(e){const{$payTypeSelectElement:t}=ie(e);(0,o.rl)(t)}function me(){const e=ee(".js-payRate");const t=ee(".js-overtimeStatus");const a=ee(".js-overtimeStatusFormNote");if(!t.length||!e.length){return}const n=(0,s.w)(e.val());if(n===0){t.val("Exempt").disable();a.show()}else{t.enable();a.hide()}}function fe(e,t,a){const s=ee(e);if(s.hasClass(t)){s.removeClass(t);s.addClass(a)}}function ge(e){const t=ee('.js-paidPer, ba-select[name="paidPer"]');const a=t.attr("name");const i=ee(`select[name="${a}"]`).val();const o=ee(".js-hourlyOvertimeNote");if(!(0,n.hasTrax)()||i!=="Hour"){if(o){o.remove()}return false}const r=e.data("cursymbol")||"$";const l=(0,s.w)((0,s.l)(e.val(),r));const c=(Number(l)*2).toFixed(2);const d=(Number(l)*1.5).toFixed(2);const u=e.data("currencysymbolposition")==0?`${r}${d}`:`${d}${r}`;const h=e.data("currencysymbolposition")==0?`${r}${c}`:`${c}${r}`;const p=ee.__("Overtime rate is %1 (1.5x), double-time rate is %2",u,h);if(o.length>0){o.html(`<span class="js-hourlyOvertimeNote fab-FormNote">${p}</span>`)}else{ee(".js-overtimeStatus, .js-exemptStatus").closest(".fieldBox").append(`<span class="js-hourlyOvertimeNote fab-FormNote">${p}</span>`)}}function ve(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const t=ee(".js-overtimeRate");const a=ee('select[name="exempt"]').val();_e(t,a,e);if(a==="Non-exempt"){if(!e){t.find(".currency-field.js-overtimeRate").setTraxRequired(we())}}}function _e(e,t,a){let s=ee(".js-payRate");if(s.length===0){s=ee(".js-rate")}if(t==="Non-exempt"){if(!(0,n.hasTrax)()){e.show()}else if(a&&s.data("currencysymbolposition")==0){ge(s);ye(e)}else{const t=ee(".js-hourlyOvertimeNote");if(t.length>0){t.remove()}e.show()}}else{ye(e)}}function ye(e){e.hide();e.val("").find("input.currency-field").val("")}function be(){const e=ee(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function we(){const e=ee(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function Se(){const e=ee(".js-paidPer");const t=e.attr("name");const a=ee(`select[name="${t}"]`).val();const s=be();if(s){Te(e);if(a==="Piece"){e.attr("placeholder",a);e.attr("error",true)}else{Ee(e)}}else if(!s){ke(e);Ee(e)}else if(a!==""){Ee(e)}}function Ce(){const e=ee(".js-payType");const t=e.attr("name");const a=ee(`select[name="${t}"]`).val();const s=be();if(s){Te(e);if(a==="Contract"){e.attr("placeholder",a);e.closest(".fieldBox").find("label").addClass("fab-Label--error");e.attr("error",true)}else{Ee(e)}}else if(!s){ke(e);Ee(e)}else if(a!==""){Ee(e)}}function xe(){const e=we();const t=ee(".js-payType ba-option:selected").attr("value");const a=we(e)&&t!=="Commission";ee(".js-rate").setTraxRequired(a);ee(".js-payRate__label").toggleClass("fab-Label--required",e)}function Te(e){const t=e.find("ba-option");e.children().remove();const a=t.map(((e,t)=>{if(ee(t).attr("data-invalid-payroll-option")==="true"){ee(t).attr("hidden",true)}return t}));e.append(a)}function Ee(e){e.removeAttr("error");e.closest(".fieldBox").find("label").removeClass("fab-Label--error")}function ke(e){const t=e.find("ba-option");const a=e.find("ba-option[selected]");e.children().remove();const s=t.map(((e,t)=>{if(ee(t).attr("data-invalid-payroll-option")==="true"){ee(t).removeAttr("hidden");if(a.length>1){ee(t).removeAttr("selected")}}return t}));e.append(s)}function Ze(){const e=ee(".js-overtimeStatus").closest(".fieldBox");const t=ee(`<span class="fab-FormNote js-overtimeStatusFormNote">${ee.__("Non-exempt requires a Pay Rate higher than $0.00")}</span>`);e.append(t)}function Ne(){const e=ee(".js-paySchedule");const t=ee('<div id="js-pay-schedule-note" style="position: absolute; left: 224px; width: 230px; display: none;"></div>');const a=ee.__("This pay schedule isnt compatible with a couple other fields.");const s=ee.__("Make sure to also update the fields highlighted in red.");t.append(`<div class="fab-FormNote CompensationForm__warningNote js-pay-schedule-warning-note">${a}</div>`);t.append(`<div class="fab-FormNote">${s}</div>`);e.parent().append(t)}function Ie(){const e=ee(".js-payType");const t=ee(".js-paidPer");if(e.attr("error")||t.attr("error")){ee("#js-pay-schedule-note").show()}else{ee("#js-pay-schedule-note").hide()}}function Ae(){const e=ee(".js-payType");const t=ee(".js-paidPer");if(e.attr("error")||t.attr("error")){return false}return true}function Fe(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!(0,n.hasTrax)()){return false}const t=ee(".js-overtimeRate");const a=e?ee(".overtimeRate"):t;a.blur();const i=(0,s.w)(a.val());const o=ee(".js-double-overtime-note");const r=o.length>0;const l=Me(i);const c=ee.__("The double time rate is $%1.",l);if(r){o.text(c);o.toggle(i!==0)}else if(i!==0){const a=`<span class="fab-FormNote js-double-overtime-note">${c}</span>`;if(e){t.append(a)}else{t.closest(".fieldDiv").append(a)}}}function Me(e){return(Number(e)/1.5*2).toFixed(2)}function De(e){e.removeClass("hidden")}function Pe(e){e.addClass("hidden")}var Oe=ae},2063:(e,t,a)=>{"use strict";var s=a(17842);var n=a.n(s);var i=a(78144);var $=a(26570);const o={updateTaxTypeInitialOptions(e,t){if(o.checkIfPayrollCustomer()){const a=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;s.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${a}/${e}`).then((e=>{this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),e.data.options)}))}},init(){o.hideShowTaxTypeField();o.toggleInactiveNote()},formChangeHandler(e){const t=e.target;if(t.name==="employmentStatusId"){if(o.checkIfPayrollCustomer()){o.employmentStatusChangeHandler(e)}}const a=$(t).closest("form");const s=$("ba-select.js-employmentStatusSelect").val();const n=a.find(`.js-employmentStatusSelect ba-option[value='${s}']`);const i=n&&n[0]&&n[0].hasAttribute("data-terminatedoption");a.toggleClass("EmploymentStatusForm--terminated",i===true);const r=$("ba-select.js-terminationTypeSelect").val();const l=a.find(`.js-terminationTypeSelect ba-option[value='${r}']`);const c=i&&l&&l[0]&&l[0].hasAttribute("data-regrettableoption");a.toggleClass("EmploymentStatusForm--voluntaryTermination",c===true);this.toggleInactiveNote()},employmentStatusChangeHandler(e,t,a,s){const n=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;const i=e.target.value?e.target.value:"0";this.getAllowableEmployeeTaxTypes(n,i,a).then((e=>{let{result:t,forceNewSelection:a,warningType:n}=e;this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),t.data.options,a);this.addTaxTypePromptWarnings(n);if(s&&typeof s==="function"){s()}}))},getAllowableEmployeeTaxTypes(e,t,a){if(e&&t){return s.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${e}/${t}`).then((e=>{const t=e.data.options.map((e=>e.optionValue));const s=parseInt($(a||'select[name="taxEmployeeTypeId"]').val());const n=t.indexOf(s)===-1;const i=n?"updatedTaxType":"verifyTaxType";return{result:e,valueOptions:t,currentSelectionValue:s,forceNewSelection:n,warningType:i}}))}console.warn(`Tried to request tax types with invalid parameters. historyItemId ${e} employmentStatusId ${t}`);return Promise.reject("Missing Required Parameters")},addTaxTypePromptWarnings(e){$(".js-employeeTaxTypeFieldSelect").siblings(".TaxTypeWarningTextWrapper").remove();$(".js-employeeTaxTypeFieldSelect").after('<div class="TaxTypeWarningTextWrapper"></div>');const t=this.createTaxTypePromptText(e);this.addInfoStylesToTaxTypeSelect();$(".TaxTypeWarningTextWrapper").append(t)},createTaxTypePromptText(e){if(!e){return`<div></div>`}const t=e==="updatedTaxType"?$.__("We updated the Employee Tax Type to a value that matches the Employment Status."):$.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return`<div class="TaxTypeWarningText">\n\t\t\t\t<div class="TaxTypeWarningText__text">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t\t<div class="TaxTypeWarningText__doubleCheck">\n\t\t\t\t\t${$.__("Double-check and make sure it looks right.")}\n\t\t\t\t</div>\n\t\t\t</div>`},addInfoStylesToTaxTypeSelect(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const t={...{taxTypeSelector:".js-employeeTaxTypeFieldSelect",fieldRowSelector:".fieldRow.EmploymentStatusForm__employeeTaxTypeFieldRow",rowClass:"EmploymentStatusForm__employeeTaxTypeFieldRow--info",labelSelector:".fab-Label",selectFacadeClass:"fab-SelectToggle__innerFacade--infoCondition",infoIconClass:"iconWrapper"},...e};const a=$(t.taxTypeSelector);const s=a.closest(t.fieldRowSelector);const n=s.find(t.labelSelector);setTimeout((()=>{s.addClass(t.rowClass);a.find(".fab-SelectToggle__innerFacade").addClass(t.selectFacadeClass);if(n.length&&!n.find(`.${t.infoIconClass}`).length){n.prepend(`<ba-icon class="${t.infoIconClass}" name="fab-info-circle-13x13"></ba-icon>`)}}),100)},updateBaSelect(e,t,a){const s=e.find("select").length?parseInt(e.find("select").val()):parseInt($('select[name="taxEmployeeTypeId"]').val());e.empty();t.forEach((t=>{const{optionValue:n,optionText:i,selected:o}=t;let r=o;if(!a){if(s===n){r=true}else{r=false}}let l;if(r){l=`<ba-option value="${n}" selected>${i}</ba-option>`}else{l=`<ba-option value="${n}">${i}</ba-option>`}e.append(l)}))},toggleInactiveNote(){const e=window.Employee&&window.Employee.preferredName?(0,i.Jk)(window.Employee.preferredName):"";const t="EmploymentStatusModal__statusSelectWrapper";const a=`${t}--inactive`;const s="js-employmentStatusInactiveNote";const n=$("ba-select.js-employmentStatusSelect");const o=n.parent();const r=n.find(`ba-option[value='${n.val()}']`);const l=!!(r&&r[0]&&r[0].hasAttribute("data-inactiveoption"));o.addClass(t).toggleClass(a,l);if(o.find(`.${s}`).length===0){const t=$(`<div class="${s} EmploymentStatusForm__inactiveStatusNote">`).text($.__("%1 will not be able to access their BambooHR account past the effective date while in this employment status.",e));o.append(t)}},getTaxTypeField(){return $(".js-employeeTaxTypeFieldSelect")},checkIfPayrollCustomer(){const e=o.getTaxTypeField();return e.length>0&&e.is(":visible")},hideShowTaxTypeField(){const e=o.getTaxTypeField();if(e.length>0){const t=e.data("usBasedAddress");const a=e.data("usBasedLocation");const s=e.closest(".fieldBox");if(!t||!a){s.addClass("hidden")}else{s.removeClass("hidden")}}}};t["Z"]=o},16123:(e,t,a)=>{"use strict";var $=a(26570);function s(e){n(e)}function n(e){window.BambooHR.Modal.setState({isOpen:true,alternativeAction:null,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},icon:"fab-money-circle-54x54",iconColor:"danger",headline:$.__("Before including this employee in payroll you need to correct the following information."),dangerousContent:microTemplate($("#includeInPayrollErrorModalTemplate").html(),{errors:e}),primaryActionText:$.__("OK, Got It"),title:$.__("Oops, that won't work...")})}t["Z"]={open:s}},6795:(e,t,a)=>{"use strict";a.d(t,{UU:()=>k,iI:()=>x,os:()=>T,rl:()=>E});var $=a(26570);const s="data-initial-value";const n="data-initial-value-is-set";const i="data-temporary-value";const o="data-temporary-value-is-set";function r(e){const t=e.data("cursymbol")||window.GLOBAL_CURRENCY_SYMBOL||"$";const a=e.data("currencysymbolposition")||0;const s=e.data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";const n=e.data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";const i=$("<input />");i.attr("value","0");if(i.formatCurrency){i.formatCurrency({decimal:s,position:a,symbol:t,thousands:n});return i.attr("value")}return"$0.00"}function l(e){return e.attr(s)}function c(e){return e.attr(i)}function d(e){return e.attr("value")}function u(e){return e.find("ba-option[selected]").attr("value")}function h(e){return e.attr(n)==="true"}function p(e){return e.attr(o)==="true"}function m(e){e.removeAttr(i);e.removeAttr(o)}function f(e,t){e.attr(s,t);e.attr(n,"true")}function g(e,t){e.attr(i,t);e.attr(o,"true")}function v(e,t){e.attr("value",t)}function y(e,t){e.find("ba-option[selected]").removeAttr("selected");e.find(`ba-option[value="${t}"]`).attr("selected","true")}function b(e){if(!h(e)){f(e,d(e))}}function w(e){if(!h(e)){f(e,u(e))}}function S(e){if(p(e)){e.attr("value",c(e));m(e)}}function C(e){if(p(e)){y(e,c(e));m(e)}}function x(e,t,a){w(e);w(a);const s=u(e);a.find('ba-option[value="Hour"]').prop("hidden",true);if(!s){t.removeClass("hidden");a.attr("disabled","true");C(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(s==="Salary"){t.removeClass("hidden");a.removeAttr("disabled");C(a);const s=u(a);const n=l(e);const i=l(a);if(n==="Salary"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(s==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(s==="Hourly"){t.addClass("hidden");a.removeAttr("disabled");const e=u(a);if(!p(a)){g(a,e)}a.find('ba-option[value="Hour"]').prop("hidden",false);y(a,"Hour")}else if(s==="Commission"){t.addClass("hidden");a.removeAttr("disabled");a.find('ba-option[value="Hour"]').prop("hidden",false);const s=u(a);if(!p(a)){g(a,s)}const n=l(e);const i=l(a);if(n==="Commission"){y(a,i)}else{y(a,"Hour")}}else if(s==="Contract"){t.removeClass("hidden");a.removeAttr("disabled");C(a);const s=u(a);const n=l(e);const i=l(a);if(n==="Contract"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(s==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else{t.addClass("hidden");a.removeAttr("disabled");C(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}}function T(e,t,a,s){w(e);b(a);const n=u(e);if(!n){t.removeClass("hidden");a.prop("disabled",true);s.prop("disabled",true);S(a)}else if(n==="Commission"){t.addClass("hidden");a.prop("disabled",false);s.prop("disabled",false);const n=d(a);if(!p(a)){g(a,n)}const i=l(e);const o=l(a);if(i==="Commission"){v(a,o)}else{const e=r(a);v(a,e)}}else{t.removeClass("hidden");a.prop("disabled",false);s.prop("disabled",false);S(a)}}function E(e){w(e);const t=l(e);const a=u(e);if(t==="Contract"){e.find('ba-option[value="Contract"]').prop("hidden",false)}else{e.find('ba-option[value="Contract"]').prop("hidden",true);if(a==="Contract"){e.find("ba-option[selected]").removeAttr("selected")}}}function k(e,t){const a=u(e);if(!a||a==="Salary"||a==="Contract"){t.text($.__("per"));t.removeClass("hidden")}else if(a==="Hourly"){t.text($.__("per hour"));t.removeClass("hidden")}else{t.addClass("hidden")}}},51247:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>D});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(67648);var $=a(26570);var l={_additionalSignersUri:"/ajax/employees/files/update_additional_signers.php?id=",_selectors:{additionalSigners:".js-additional-signers",templates:".js-esignature-template-list"},init(){this.$=BambooHR.Utils.setupWrappers(this._selectors);this._attachHandlers()},primaryActionFunction(){window.BambooHR.Modal.setState({isProcessing:true},true);this.send(this.employeeId).then((e=>{let{success:t}=e;if(t){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}}))},openModal(e){const t=`/ajax/employees/files/send_signature_request.php?employeeId=${e}`;window.BambooHR.Modal.setState({isLoading:true,isOpen:true});this.employeeId=e;o().get(t).then((e=>{let{data:t}=e;if(t){const{html:e}=t;window.BambooHR.Modal.setState({content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:e}}),isLoading:false,title:$.__("Request Signature"),primaryAction:null,primaryActionText:$.__("Send Request")},true);this.init()}}))},send(e){return $.post("/ajax/employees/files/send_signature_request.php?employeeId="+e,$(".js-send-signature-request-form").serialize(),(function(e){setMessage(e.error,e.success===true?"success":"error");if(e.success===true){SimpleModal.closeModal()}SimpleModal.Footer.Buttons.stopProcessing()}),"json")},_attachHandlers(){document.querySelector(this._selectors.templates).addEventListener("ba:selectChange",(e=>{let{detail:t}=e;const{value:a}=t;if(a){r.Z.fetchDisclaimer(a);this.$.additionalSigners.load(`${this._additionalSignersUri}${a}`);window.BambooHR.Modal.setState({primaryAction:()=>this.primaryActionFunction()},true)}else{r.Z.hideDisclaimer();this.$.additionalSigners.html("");window.BambooHR.Modal.setState({primaryAction:null},true)}}))}};var c=l;var d={};d.SendSignatureRequest=c;var u=d;var h=a(51341);var p=a(38592);var m=a(28672);var f=a(76309);var g=a.n(f);var v=a(26570);function y(e){const t=v.getJSON(`/employees/ajax/rehire/${e}`);t.then((function(t){t.employeeId=e;t.terminationDate=(0,h.Z)(t.terminationDate);b(t)}))}function b(e){const{employeeName:t,employeeId:a}=e;const n=(0,m.Z)(g(),{model:e,generateOptions:C,getCanAddAttributes:w,getSpecialClasses:S});function i(){x(a)}window.BambooHR.Modal.setState({isOpen:true,content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:n}}),title:v.__("Rehire Employee"),onOpen(){const t=v(".js-rehire-modal-form");t.find(".js-effectiveDate").attr("data-mindate",e.terminationDate.toISOString());t.bhrValidate();window.BambooHR.VirtualPageView.modal("rehireEmployee");const a=document.querySelector(".js-employmentStatusSelect");if(a){a.addEventListener("change",i)}},onClose(){const e=document.querySelector(".js-employmentStatusSelect");if(e){e.removeEventListener("change",i)}},primaryActionText:v.__("Save"),primaryAction(){const t=v(".js-rehire-modal-form");if(!t.valid()){return}const s={...(0,p.getFormData)(".js-rehire-modal-form"),employeeId:a};const n=o().prepareData(s,o().prepareDataTypes.FORM_DATA);o().post("/employees/ajax/rehire",n).then((t=>{let{data:a}=t;if(a.status!=="OK"){let t=v.__("Whoops... There was a problem rehiring %1%2%3!","<strong>",e.employeeName,"</strong>");if(a.syncErrors!==""){t=a.syncErrors}window.setMessage(t,"error");return}window.BambooHR.Modal.setState({isOpen:false});window.location.reload();window.setMessage(v.__("Success!"),"success")}))},icon:"fab-badge-id-32x28",headerType:"text",headline:t})}function w(e){if(e.meta&&e.meta.insertable){return"can-add=true"}return null}function S(e,t){t=t||[];if(e.meta&&e.meta.insertable){t.push("insertable-list")}return t.join(" ")}function C(e,t){let a;if(!e.options){return}a=`\n\t\t!* field.options.forEach(function(option) { *!\n\t\t\t<ba-option value="!*= option.value *!" !*= (option.value === field.value) ? 'selected' : '' *!>\n\t\t\t\t!*= option.content *!\n\t\t\t</ba-option>\n\t\t!* }); *!\n\t`;return(0,m.Z)(a,{field:e,required:t})}function x(e){const t=document.querySelector('[name="employmentStatusId"]').value;if(!t){return}o().get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/0/${t}?employeeId=${e}`).then((e=>{const t=v('[name="taxEmployeeTypeId"]');const a=t.find("select").length?parseInt(t.find("select").val()):parseInt(v('select[name="taxEmployeeTypeId"]').val());t.empty();e.data.options.forEach((e=>{const{optionValue:s,optionText:n,selected:i}=e;let o=i;if(a===s){o=true}else{o=false}t.append(`<ba-option value="${s}" ${o?"selected":""}>${n}</ba-option>`)}))}))}var T={open:y};var E=a(2063);var k=a(37086);var Z={};Z.RehireModal=T;Z.EmploymentStatusModal=E.Z;Z.CompensationForm=k.ZP;var N=Z;var I=a(16123);var A={};A.IncludeInPayrollErrorModal=I.Z;var F=A;var M={};M.Files=u;M.Job=N;M.Payroll=F;var D=M},96064:(e,t,a)=>{"use strict";a.d(t,{N:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(17842);var r=a.n(o);var l=a(78144);var c=a(37194);var d=a.n(c);var $=a(26570);function u(e){let{firstName:t,email:a,userId:n}=e;window.BambooHR.Modal.setState({content:(0,s.Z)("div",{className:"PasswordResetModal__message"},void 0,(0,s.Z)(c.Message,{params:[a||$.__("the user")],text:$._("An email with a link to reset their password will be sent to **{1}**")})),headline:$.__("Reset password for %1$s?",t),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isHeadless:true,isOpen:true,primaryActionText:$.__("Reset Password"),primaryAction(){window.BambooHR.Modal.setState({isProcessing:true},true);h({firstName:t,userId:n}).then((()=>{window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}})}function h(e){let{firstName:t,userId:a}=e;const s=$.__("There was an error resetting the password. Please try again.");const n=r().prepareData({id:a,action:"password"},r().prepareDataTypes.FORM_DATA);return new Promise(((e,a)=>{r().post("/settings/permissions/edit.php",n).then((n=>{const i=n.data;if(i.success){setMessage($.__("Password reset email was sent to %1$s",(0,l.H$)(t)),"success");e(i)}else{const e=(0,l.H$)(i.message)||s;console.error(i);setMessage(e,"error");a(i)}})).catch((function(){console.error(...arguments);setMessage(s,"error");a(...arguments)}))}))}},88536:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});function s(e){return`/employees/employee.php?id=${e}`}const n=e=>{if(e.image){e.avatarUrl=e.image}if(e&&e.avatarUrl){return e.avatarUrl}if(e&&e.name){let t=e.name.match(/\b(\w)/g);if(t){t=t.join("");return`/employees/photos/initials.php?initials=${t}`}}}},67648:(e,t,a)=>{"use strict";var s=a(17842);var n=a.n(s);function i(e){if(e){const t=document.getElementById("js-saves-to-folder");const a=`/esignatures/template_save_location/${e}`;n().get(a).then((e=>{const{savesToEmployeeFileSectionName:a}=e.data;if(a){t.classList.remove("hidden");document.getElementById("js-saves-to-folder-name").innerText=a}else{t.classList.add("hidden")}}),(()=>window.errorFallBack()))}}function o(){document.getElementById("js-saves-to-folder").classList.remove("hidden")}function r(){document.getElementById("js-saves-to-folder").classList.add("hidden")}t["Z"]={fetchDisclaimer:i,showDisclaimer:o,hideDisclaimer:r}},41810:(e,t,a)=>{"use strict";a.d(t,{Iw:()=>S,TZ:()=>C,ZP:()=>w});var s=a(73641);var n=a.n(s);var i=a(38592);var o=a(71141);var r=a(48434);var l=a.n(r);var $=a(26570);const c=new WeakMap;const d=new WeakMap;const u={uploadDialogTmpl:l(),uploadDialogTmplData:{jadeEnabled:(0,o.isEnabled)("jade")},uploadDialogClasses:"",uploadDialogTitle:$.__("Upload Files"),uploaderId:"multiUpload",uploadLinkHTML:`\n\t\t\t<a class="attach-link">\n\t\t\t\t<span class="btn js-chooseFile">${$.__("Choose File(s)")}</span>\n\t\t\t\t<span style="display:none">+ ${$.__("Add a file")}</span>\n\t\t\t</a>\n\t\t`,uploadJadeLinkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t\t\t<button class="fab-Button fab-Button--secondary fab-TextButton--noSpace" type="button js-chooseFile">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t\t\t<button class="fab-TextButton fab-link" type="button"\n\t\t\t\t\t\t\t\t\t        style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t\t\t</span>`,fileHiddenInput:e=>{let{name:t,type:a,size:s,image:n,fid:i}=e;return`\n\t\t\t<input\n\t\t\t\ttype="hidden"\n\t\t\t\tname="attachId[]"\n\t\t\t\tdata-name="${t}"\n\t\t\t\tdata-type="${a}"\n\t\t\t\tdata-size="${s}"\n\t\t\t\tdata-image="${n}"\n\t\t\t\tvalue="${i}"\n\t\t\t/>\n\t\t`}};let h=false;let p;const m="#uploadFilesDialog";function f(){c.get(this).triggerHandler(...arguments);return this}function g(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(h){window.BambooHR.Modal.setState({sheetProps:e},true)}else{window.BambooHR.Modal.setState(e,t)}}function v(e){const t=this;const a=$(".attach-wrapper",e);const{uploadLinkHTML:s,uploadJadeLinkHTML:n,fileHiddenInput:i,uploaderId:r}=b.call(this);const l=()=>{let e=y.call(t);g({isOpen:false});f.call(t,"attach",[e])};let c={linkHTML:s,success(s,n){$(".noFile",e).hide();let o=a.closest("form");o.append(i(s));f.call(t,"upload",[s,n]);SimpleModal.Footer.Buttons.Primary.enable()},removeFile(a){let s=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${s}"], ba-select[name^="attachId"][value="${s}"]`).remove()}if(S(e)){SimpleModal.Footer.Buttons.Primary.disable()}f.call(t,"remove");return true},onRemove(){if(S(e)){SimpleModal.Footer.Buttons.Primary.disable()}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link span, .uploadDesc",e).toggle();C(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:r};if((0,o.isEnabled)("jade")){c={linkHTML:n,success(s,n){$(".noFile",e).hide();let o=a.closest("form");o.append(i(s));f.call(t,"upload",[s,n]);x.call(t,true,l)},removeFile(a){let s=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${s}"], ba-select[name^="attachId"][value="${s}"]`).remove()}if(S(e)){x.call(t,false,null)}f.call(t,"remove");return true},onRemove(){if(S(e)){x.call(t,false,null)}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link button, .uploadDesc",e).toggle();C(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:r}}a.closest(m).fileUploader(c);$(".uploadDesc",m).show();$('input[name^="attachId"]',m).remove()}function y(){if((0,o.isEnabled)("jade")){return $(':input[name^="attachId"], ba-select[name^="attachId"]',m).toArray().map(((e,t)=>{const a=e.getAttribute("data-name");return{data:{isComplete:null},fileId:e.getAttribute("value"),id:e.getAttribute("value"),image:e.getAttribute("data-image"),info:{icon:e.getAttribute("data-image"),text:(0,i.getExtFromFileName)(e.getAttribute("data-name")).toUpperCase()},key:a+"-"+t,name:a,type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size")}}))}return $(':input[name^="attachId"], ba-select[name^="attachId"]',p).toArray().map((e=>({name:e.getAttribute("data-name"),type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size"),image:e.getAttribute("data-image")})))}function b(e){let t=d.get(this);if(e){return t[e]}return t}class w{static get className(){return"FileManager"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};d.set(this,(0,s.defaults)(e,u));c.set(this,$("<div />"))}on(e){if((0,s.isString)(e)){e+=".FileManager"}for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}c.get(this).on(e,...a);return this}openUploadModal(){const e=this;const{uploadDialogTmpl:t,uploadDialogTmplData:a,uploadDialogClasses:s,uploadDialogTitle:n}=b.call(e);(0,i.when)(t,a).done(((t,a)=>{if((0,o.isEnabled)("jade")){h=window.BambooHR.Modal.isOpen();const s={dangerousContent:microTemplate(t,a),onClose:()=>{g({isOpen:false})},onOpen:()=>{let t=$(m).find(".multiUpload");v.call(e,t)},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:n};g(s);x(false)}else{p=SimpleModal.openModal({html:microTemplate(t,a),title:n,classes:"uploadFilesModal "+s,footer:{buttons:{primary:{disabled:true,text:$.__("Attach"),action(){let t=y.call(e);SimpleModal.closeModal();f.call(e,"attach",[t])}},cancel:{action(){f.call(e,"cancel");SimpleModal.closeModal()}}}},callbacks:{close:{before(){f.call(e,"close:before")},after(){f.call(e,"close")}},open:{before(){f.call(e,"open:before")},after(){let t=p.find(".multiUpload");v.call(e,t);f.call(e,"open")}}}})}}));return this}}function S(e){if($(".files > *",e).length===0){$(".noFile",e).show();if(!$(".attach-link .js-chooseFile",e).is(":visible")){$(".attach-link > *, .uploadDesc",e).toggle();C(e)}return true}return false}function C(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(t){$(".attach-wrapper",e).addClass("centerThis");$(".FileUploadActions",e).addClass("centerContent")}else{$(".attach-wrapper",e).removeClass("centerThis");$(".FileUploadActions",e).removeClass("centerContent")}}function x(e,t){if(e){g({primaryAction:t},true)}else{g({primaryAction:null},true)}}},1513:(e,t,a)=>{"use strict";a.d(t,{jN:()=>p});var s=a(51341);var n=a(19273);var i=a(81901);var o=a(71141);var r=a(17842);var l=a.n(r);var c=a(92776);var d=a(45662);var u=a(13369);var $=a(26570);let h=null;$((function(){if(typeof window.registerModalLink==="function"){window.registerModalLink("a.history-modal",$.__("Title"),$.__("Save"),v,{open_callback:b,privacy_link:true},g)}f();setTimeout(m)}));function p(e,t){(0,u.openRegisteredModal)({settings:{cancel_message:$.__("Cancel"),open_callback:function(){},initCompensationModal:function(){if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.initializeForm("updateCompensation")}}},url:e,chosenModalSize:"medium",saveHandler:t,options:{open_callback:b,privacy_link:true},presubmit:g})}function m(){const e=$("tbody tr:not(.template):not(.empty) td[data-secure-field-type]");if(!e){return}e.each(((e,t)=>{const{dataset:{rowId:a,secureFieldType:s,sensitiveDataVisible:n=false}}=t;$(t).addClass("fab-Table__cellWithButton");const i=$(t).find(".js-historyCellWrapper").text();if(!i||i.length===0){return}$(t).click((function(e){e.stopPropagation();if($(t).attr("data-sensitive-data-visible")==="true"){$(t).attr("data-sensitive-data-visible",false);$(t).find(".js-historyCellWrapper").text(i);$(t).find(".js-showHideButton").text($.__("Show"))}else{l().get(`/employees/get_secure_table_field/${s}`,{id:window.Employee.id,row:a}).then((e=>{if(e.data&&!e.error){$(t).attr("data-sensitive-data-visible",true);$(t).find(".js-historyCellWrapper").text(e.data);$(t).find(".js-showHideButton").text($.__("Hide"))}})).catch((()=>{window.setMessage($.__("There was a problem getting the sensitive data"),"error")}))}}));$(t).attr("data-sensitive-data-visible",n);$(t).append(`<button class="fab-TextButton fab-TextButton--small fab-link showHideButton js-showHideButton" tabIndex="0" type="button">\n\t\t${n?$.__("Hide"):$.__("Show")}\n\t\t</button>`)}))}function f(){let e=$(".js-overtimeRateTableField");if(e.length===0){return}let t=false;$("td.js-overtimeRateTableField .js-historyCellWrapper").each((function(e,a){if(a.innerHTML.trim()!==""){t=true;return false}}));e.toggleClass("hidden",!t)}function g(e){$(e).find(".error").removeClass("error");return true}function v(e){var t=e.type==="contacts"&&["OK","MIXED_OK","REQUEST_OK"].indexOf(e.result)>-1;t=t||e.result==="RELOAD_OK";if(t){window.location.reload();return}if(e.result==="OK"||e.result==="MIXED_OK"){var a=$(".history-table.type-"+e.type.toLowerCase());var s=a.closest("table");var n=a.find(".id-"+e.data.id);var i=e.data;if(e.type==="dependents"&&e.result==="OK"){document.location.reload()}if(!n.length){n=w(s,e.data,e.perms);n.find("a#ctx_new").attr("id","ctx"+e.data.id)}$.each(e.data,(function(e,t){n.find(".field-"+e+" .js-historyCellWrapper").html(t);n.attr("data-effective-date",i.ymd)}));if(typeof i.sortOrder!=="undefined"){$.each(e.data,(function(e,t){n.find(".field-"+e+" .js-historyCellWrapper").html(t);n.attr("data-order",i.sortOrder)}))}if(typeof e.data2!=="undefined"){n=a.find(".id-"+e.data2.id);$.each(e.data2,(function(e,t){n.find(".field-"+e+" p").html(t)}))}window.BambooHR.Modal.setState({isOpen:false});document.dispatchEvent(new CustomEvent("historyModalSaveSuccess",{bubbles:true,detail:{data:e.data}}));if(e.data.stateFilingChange){N()}T();E();if(e.type==="status"){if(typeof window.updateHireDates==="function"){window.updateHireDates()}}x(s);if(e.type!=="dependents"){if(e.result==="OK"){setMessage($.__("Your changes have been saved"),"success","#forMessages",(function(){}))}else{setMessage($.__("Your changes have been saved, some of them will need to be approved."),"success","#forMessages",(function(){}))}}}else if(e.result==="REQUEST_OK"){setMessage($.__("A change request has been submitted for the changes entered."),"success","#forMessages",(function(){}));window.BambooHR.Modal.setState({isOpen:false})}else if(e.result==="DUPLICATE_OK"){setMessage($.__("No new data was entered."),"info","#forMessages",(function(){}));window.BambooHR.Modal.setState({isOpen:false})}else{if(e.data.useErrorMessage!==true&&typeof e.data.fields!="undefined"&&e.data.fields.length>0){setMessage($.__("Whoops... There were some errors with your form. Please fix the highlighted fields."),"error")}else{setMessage(e.data.error,"error")}if(e.data.fields){(0,d.Eq)(e.data.fields,window.modalIdSelector)}}if((0,o.isEnabled)("nonExemptWarningModals")&&e.type.toLowerCase()==="compensation"){y(e.data.exempt)}}function y(e){if(!(e==="Non-exempt"&&h==="Exempt")){return}if(!(0,o.isEnabled)("custom-overtime")){l().get(`/time_tracking/employee/${window.Employee.id}/overtime_modal_data`).then((e=>{if(e.data.isTimeTrackingEnabled){if(e.data.showNoLocationModal){(0,c.qk)("no-location",window.Employee.preferredName,false)}else if(e.data.showNoStateModal){(0,c.qk)("no-state",window.Employee.preferredName,false)}else if(e.data.showNoStateRemoteModal){(0,c.qk)("no-state-remote",window.Employee.preferredName,false)}else if(e.data.showNonOvertimeCountryModal){(0,c.qk)("non-overtime-country",window.Employee.preferredName,false)}}}))}}function b(e){$(".history-modal").removeAttr("modalClicked");$(".check-dropdown").multiselect({noneSelectedText:$.__("-- Select --"),header:false,height:"auto"});window.registerRateChange();let t=window.SimpleModal.getTopModalSelector();t=$(".ReactModal__Content");const a=t.find("form");a.append('<input type="hidden" name="CSRFToken" value="'+CSRF_TOKEN+'">');if(a.has(".CompensationForm")){h=a.find(".js-overtimeStatus").val()}}function w(e,t,a){var n=e.find(".template");var i=n.clone();var o=i.find("a.history-modal").attr("url");var r=typeof t.sortOrder!=="undefined"?"data-order":"data-effective-date";var l=typeof t.sortOrder!=="undefined"?t.sortOrder:(0,s.Z)(t.ymd,"YYYY-MM-DD");i.addClass("id-"+t.id).attr(r,l).removeAttr("style").removeClass("template");e.find("tr.BhrTable__row.empty").hide();if(!a.edit){i.find(".inline-bicon-edit").parent().remove()}if(!a.delete){i.find(".inline-bicon-delete").parent().remove()}i.insertAfter(n);i.find("a.history-modal").attr("url",k(t.id,o));return i}function S(e){var t="data-effective-date";var a=e.find("tbody tr:not(.template):not(.empty)").toArray();var n=a.filter((function(e){var a=e.getAttribute(t);return a&&a.length})).map((function(e){return{element:e,date:(0,s.Z)(e.getAttribute(t),"YYYY-MM-DD")}})).sort((function(e,t){return(0,s.Z)(t.date).diff(e.date)}));var i=a.filter((function(e){var a=e.getAttribute(t);return!a||!a.length})).map((function(e){return{element:e,date:s.Z.invalid()}})).sort((function(e,t){var a=$(e.element).find("td:nth-child(2)").text();var s=$(t.element).find("td:nth-child(2)").text();return a-s}));let o=a.filter((e=>{let t=e.getAttribute("data-order");return t&&t.length})).map((e=>({element:e,order:(0,s.Z)(e.getAttribute("data-order"),"YYYY-MM-DD")}))).sort(((e,t)=>(0,s.Z)(e.order).diff(t.order)));return o?o:n.concat(i)}function C(e){var t="BhrTable__cell--most-recent baseBgColor-before";e.find(".field-ymd").removeClass(t);var a=S(e);var n=(0,s.Z)();var i=a.reduce((function(e,t){return!e||n.isSameOrAfter(t.date)&&n.isBefore(e.date)?t:e}),null);if(i&&n.isAfter(i.date)){$(i.element).find(".field-ymd").addClass(t)}}function x(e){var t=e.find(".template");var a=S(e);a.forEach((function(e){t.after(e.element);t=$(e.element);if(typeof e.date!=="undefined"){t.toggleClass("BhrTable__row--future",(0,s.Z)().isBefore(e.date))}}));C(e);f()}function T(){if(typeof window.updateInfoColumn==="function"){window.updateInfoColumn()}}function E(){$("#employeeGearMenu").load("/ajax/employees/update_gear_menu.php?employeeId="+window.currentlyEditingEmployeeId+" #employeeGearMenu > *",(function(){n.Z.init()}))}function k(e,t){const a=isNaN(window.currentlyEditingEmployeeId)||!window.currentlyEditingEmployeeId?-1:window.currentlyEditingEmployeeId;e=isNaN(e)||!e?-1:e;return`/ajax/dialog/history_popup/${t}/${a}/${e}`}function Z(e,t){var a=e.closest("tr");var s=a.attr("class").split("id-");var n=s[1].split(" ");var i=n[0];if(!i.length||i===null||i===undefined||i==="null"||i==="undefined"){window.setMessage($.__(`Oops! We can't process your request right now, please refresh the page and try again.`),"error");return false}a.addClass("selected");var o=this.href;var r={title:$.__("Delete Row"),msg:$.__("Are you sure you want to delete this row?"),accept:$.__("Yes"),error:$.__("Error"),errormsg:$.__("Sorry.  This row can not be deleted because there is a change request for it that is waiting for approval."),erroraccept:$.__("Ok")};window.BambooHR.Modal.setState({content:r.msg,isOpen:true,primaryAction:function(){if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{var e="/ajax/dialog/history_popup/"+t+"/"+window.currentlyEditingEmployeeId+"/"+i;$.post(e,{CSRFToken:CSRF_TOKEN,_method:"DELETE"}).then(l,c)}},onClose:function(){a.removeClass("selected")},primaryActionText:r.accept,title:r.title});I(t);function l(e){window.BambooHR.Modal.setState({isOpen:false});let t="";let s="";if(typeof e==="string"){t=e;s=e}else if(e?.result&&e?.data){const{result:a,reload:n,errorMsg:i,data:{stateFilingChange:o}}=e;s=i;if(a==="OK"&&n){t="RELOAD_OK"}else{t=a}if(o){N()}}if(t==="OK"){var n=a.closest("table");var i=a.closest("tbody");a.remove();T();E();C(n);f();if(!i.find("tr:not(.template):not(.empty)").length){i.find("tr.BhrTable__row.empty").show()}}else if(t==="PENDING_CHANGE"){window.setMessage(r.errormsg,"error")}else if(t==="RELOAD_OK"){window.location.reload()}else{window.setMessage(s,"error")}}function c(){window.setMessage($.__("Whoops... we couldn't remove this item for you"))}}function N(){document.dispatchEvent(new CustomEvent("launchStateTaxModal",{bubbles:true,detail:{employeeId:window.Employee.id,employeeName:window.Employee.preferredName,stateTaxPermLevel:window.stateTaxPermLevel}}))}function I(e){switch(e){case"status":i.Z.modal("deleteEmploymentStatus");break;case"compensation":i.Z.modal("deleteCompensation");break;case"job":i.Z.modal("deleteJobInformation");break;case"bonus":i.Z.modal("deleteBonus");break;case"commission":i.Z.modal("deleteCommission");break;case"benefit_class":i.Z.modal("deleteBenefitClass");break;case"earnings":i.Z.modal("deleteEarnings");break;case"visa":i.Z.modal("deleteVisa");break}}t["ZP"]={deleteRow:Z,updateEmployeeInformation:T,updateEmployeeGearMenu:E,openMissingLocationInformation:c.qk}},61093:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(34825);var r=a(17842);var l=a.n(r);var c=a(71141);var d=a(11246);var u=a.n(d);var $=a(26570);const h=(0,c.isEnabled)("jade");const p="/feeds/ical";const m={createFeed:e=>$.post(p,{definition:e}),updateFeed:e=>$.ajax({type:"PUT",url:`${p}/${e}`}),deleteFeed:e=>$.ajax({type:"DELETE",url:`${p}/${e}`})};let f=[];function g(e){return f.filter((t=>t.definition==e))[0]}function v(e){return document.querySelector(`.js-ical-feed[data-ical-definition="${e}"]`)}function y(e){let t=g(e);m.createFeed(e).done((e=>{Object.assign(t,e);C()}))}function b(e){let t=g(e);m.deleteFeed(t.id).done((()=>{t.publicId=null;C()}))}function w(e){let t=g(e);let a=v(e);a.querySelector(".js-ical-modal-input").value="";m.updateFeed(t.id).done((e=>{Object.assign(t,e);C()}))}function S(e,t){let a=new(u())(e,{target:()=>v(t).querySelector(".js-ical-modal-input")});a.on("success",(a=>{a.clearSelection();e.style.display="none";let s=v(t).querySelector(".js-ical-modal-copied");s.style.display="block";window.setTimeout((()=>{e.style.display="block";s.style.display="none"}),1500)}));a.on("error",(t=>{if(window.BambooHR.Components.Tooltip.selectTooltips(e).length){return false}let a=window.BambooHR.Components.Tooltip.create(e,{content:$.__("Press ctrl+c or command+c to copy the link")}).show();window.setTimeout((()=>a.destroy()),3e3)}))}function C(){let e=document.querySelector("#js-ical-modal-feed-template").innerHTML;document.querySelector("#js-ical-modal-feeds").innerHTML=window.microTemplate(e,{feeds:f});x()}function x(){let e=document.querySelectorAll(".js-ical-feed");[].slice.call(e).forEach((e=>{let t=e.getAttribute("data-ical-definition");let a=e.querySelector(".js-ical-modal-create-feed");if(a){a.addEventListener("click",y.bind(null,t))}else{e.querySelector(".js-ical-modal-update-feed").addEventListener("click",w.bind(null,t));e.querySelector(".js-ical-modal-delete-feed").addEventListener("click",b.bind(null,t));let a=e.querySelector(".js-ical-modal-copy");S(a,t);e.querySelector(".js-ical-modal-input").addEventListener("click",(function(){this.blur();this.focus();this.select()}))}}))}function T(){f=JSON.parse(document.querySelector("#js-ical-modal-data").innerHTML);C();o.ZP.setPosition()}function E(){const e=$.__("iCalendar Feeds");const t=$.__("Done");if(h){l().get(p).then((a=>{window.BambooHR.Modal.setState({isOpen:true,content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:a.data}}),onOpen(){setTimeout((()=>{T()}))},primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:t,alternativeAction:null,title:e})}))}else{o.ZP.openModal({method:"get",url:p,title:e,footer:{buttons:{primary:{text:t,action:()=>o.ZP.closeModal()},cancel:{show:false}}},callbacks:{open:{after:T}}})}}t["Z"]={open:E}},77342:(e,t,a)=>{"use strict";var s=a(68893);var n=a(51341);var i=a(8236);var o=a(73641);let r=window.Inputmask;let l=n.Z.localeData();let c=l.monthsShort();i.Z.on("languageChanged",(e=>{l=n.Z.localeData();c=l.monthsShort()}));r.extendDefaults({showMaskOnHover:false,colorMask:true});function d(e){return(0,o.deburr)(String(e).trim().toLowerCase())}function u(e){e=d(e);return c.filter((t=>d(t).substring(0,e.length)===e)).length>0}function h(e,t,a){if(Array.isArray(e)){e=e.join("")}return[e.slice(0,a),t,e.slice(a)].join("")}r.extendAliases({"mm/dd/yy":{mask:"m/d/99",placeholder:"mm/dd/yy"},"dd/mm/yy":{mask:"d/m/99",placeholder:"dd/mm/yy"},"yy-mm-dd":{mask:"99-m-d",placeholder:"yy-mm-dd"},"dd MMM YYYY":{mask:"d M{+} y",placeholder:"ddyyyyyyyyyyy",greedy:false,separator:" ",skipOptionalPartCharacter:" ",keepStatic:true,isComplete(e,t){return(0,n.Z)(e.join(""),"DD MMM YYYY",true).isValid()},definitions:{M:{cardinality:1,placeholder:"mon",validator(e,t,a){if(e===" "){return false}let s=h(t.buffer,e,a);let n=s.slice("dd ".length,-" yyyy".length);if(n.length==4){n=n.replace(/mon$/,"")}return u(n)}}}},"MMM YYYY":{mask:"M{+} y",placeholder:"yyyyyyyyyyy",greedy:false,separator:" ",skipOptionalPartCharacter:" ",keepStatic:true,isComplete(e,t){return(0,n.Z)(e.join(""),"MMM YYYY",true).isValid()},definitions:{M:{cardinality:1,placeholder:"mon",validator(e,t,a){if(e===" "){return false}let s=h(t.buffer,e,a);let n=s.slice(0,-" yyyy".length);if(n.length==4){n=n.replace(/mon$/,"")}return u(n)}}}}});var p=window.Inputmask;delete window.Inputmask},66147:(e,t,a)=>{"use strict";var s=a(17842);var n=a.n(s);var $=a(26570);const i=window.BambooHR.Modal;function o(e,t,a,s,o){let l=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const c=$.isNumeric(e)||$.isNumeric(t["location[listValueId]"])?"Update":"Add";a=typeof a==="undefined"||a==="undefined"?true:a;const d={locationId:e,action:c,listValueId:t["location[listValueId]"],showEditRadioButtons:a};if(l&&l.zenpayroll){d.zenpayroll=l.zenpayroll}let u="post";let h="/location";if(c==="Update"){u="put";h+=`/${e||`lv/${t["location[listValueId]"]}`}`}const p=l.hasOwnProperty("isSheet")&&l.isSheet;const m=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(e){i.setState({sheetProps:t},a)}else{i.setState(t,a)}};const f=function(){if(typeof o==="function"){o(d)}};const g=function(){const e=$("#location_form");const a=e.find("input[type=text]:eq(0)");a.attr("onfocus","this.value = this.value").focus();if(t&&typeof t!=="undefined"){$.each(t,(function(t,a){if(t.indexOf("location")>-1&&a&&a!==""){const s=e.find(`:input[name="${t}"], ba-select[name="${t}"]`);s.val(a);if(s.prop("tagName")==="SELECT"){s.trigger("liszt:updated")}else{s.siblings("label").hide()}}}))}$(".zen_phone").mask("(999)999-9999");e.initializeElements();e.bhrValidate();function s(){if($("#remoteLocation").is(":checked")){$(".js-remote-toggle").hide()}else{$(".js-remote-toggle").show();e.initializeElements()}}s();$("#remoteLocation").change((function(){s()}));r()};const v=function(){m(p,{isProcessing:true});const e=$("#location_form");if(!e.valid()){m(p,{isProcessing:false});return}const t={};$.each(e.serializeArray(),(function(_,e){if(t.hasOwnProperty(e.name)){t[e.name]=$.makeArray(t[e.name]);t[e.name].push(e.value)}else{t[e.name]=e.value}}));$.ajax({url:h,type:u,method:u,dataType:"json",data:t,success(e){if(typeof s==="function"){m(p,{isOpen:false});s(e)}window.closeMessage()},error(e){if(e.responseText){window.setMessage(e.responseText,"error");m(p,{isProcessing:false})}else{window.errorFallBack()}}})};n().get("/ajax/dialog/location.php",d).then((e=>{if(typeof e.data==="object"){i.setState({...p?{sheetProps:{isOpen:false}}:{isOpen:false}},p);window.setMessage(e.data.error||window.DEFAULT_ERROR_MESSAGE,"error");return}const t={biId:`employee-field-${c==="Update"?$.__("save"):$.__("add")}-location`,dangerousContent:e.data,isOpen:true,isProcessing:false,onClose:f,onOpen:g,primaryAction:v,primaryActionText:c==="Update"?$.__("Save"):$.__("Add"),title:c==="Update"?$.__("Edit Location"):$.__("Add a New Location")};if(p){i.setState({sheetProps:{...t,type:"mediumSheet"}},true)}else{i.setState({...t})}}))}function r(){const e=$(".js-remote-checkbox");const t=e.find("input#remoteLocation");if(t.is(":disabled")){window.BambooHR.Popover.create(e[0],{closeX:false,html:`<div style="max-width: 320px; padding: 8px 12px; background-color: #646464; font-size: 12px; color: #ffffff; text-align: left; line-height: 1.2">${$.__("This location is used by at least one job opening, and job openings require an address.")} ${$.__("You cannot change this location to remote until you adjust the location on the job opening(s).")}</div>`,push:12,tailBackground:"#646464",tailOnAnchor:8,tailOnBalloon:20,triggerEvent:"hover"})}}t["Z"]={showModal:o}},28672:(e,t,a)=>{"use strict";var s=a(68183);var n=a.n(s);var i=a(78144);n().encodeHtml=i.H$;n().decodeHtml=i.kB;t["Z"]=n()},93755:(e,t,a)=>{"use strict";a.d(t,{G:()=>o,z:()=>r});var s=a(44119);var n=a(73641);var $=a(26570);class i{static get className(){return"BaseAPI"}constructor(e){(0,s.Z)(this,"Ajax",void 0);this.Ajax=e}}class o extends i{static get className(){return"EditEmailAPI"}constructor(e){super(e);(0,s.Z)(this,"DEFAULT_CURRENT_END_POINT","current");(0,s.Z)(this,"DEFAULT_PREVIEW_END_POINT","demo");(0,s.Z)(this,"DEFAULT_GET_DEFAULT_MESSAGE_END_POINT","default");(0,s.Z)(this,"DEFAULT_RESET_END_POINT","reset");(0,s.Z)(this,"DEFAULT_SAVE_END_POINT","create");this.getCurrentEmailTemplate=this.getCurrentEmailTemplate.bind(this);this.getEmailDefaultTemplate=this.getEmailDefaultTemplate.bind(this);this.resetEmailTemplateToDefault=this.resetEmailTemplateToDefault.bind(this);this.saveEmailTemplate=this.saveEmailTemplate.bind(this)}getCurrentEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_CURRENT_END_POINT;return this.Ajax.get(e).then((e=>{if(e.status===200){const{body:t="",defaulted:a=true,subject:s=""}=e.data;return{body:t,defaulted:a,subject:s}}}))}getEmailDefaultTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_GET_DEFAULT_MESSAGE_END_POINT;return this.Ajax.get(e).then((e=>{const{error:t}=e?.data||{};if(t){window.setMessage($.__("An error has occurred getting the default message, please try again"),"error");throw new Error("Reset default failed")}return e.data}))}previewEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_PREVIEW_END_POINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t).then((e=>{const{body:t="",error:a={},subject:s=""}=e.data;return{body:t,error:a,errorCode:a.code,subject:s}})).catch((e=>{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error");throw e}))}resetEmailTemplateToDefault(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_RESET_END_POINT;return this.Ajax.put(e)}saveEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_SAVE_END_POINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t)}}class r extends i{static get className(){return"NewHirePacketAPI"}constructor(e){super(e);(0,s.Z)(this,"DEFAULT_CONTACT_MANAGER_ENDPOINT","new_hire_packet/people");(0,s.Z)(this,"DEFAULT_GTKY_FILTER_ENDPOINT","new_hire_packet/gtkyoptions");(0,s.Z)(this,"DEFAULT_TEMPLATE_ENDPOINT","/employees/new_hire_packet.php");(0,s.Z)(this,"DEFAULT_TEMPLATE_DATA_ENDPOINT","/onboarding/nhp/");(0,s.Z)(this,"DEFAULT_ONBOARDING_TASKS_DATA_ENDPOINT","/onboarding/tasks/");(0,s.Z)(this,"DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT","/onboarding/tasks/importable/");this.getContactAndManagerInfo=this.getContactAndManagerInfo.bind(this)}getNewEmployeeInfoForm(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet new employee info.","error");throw e}))}getOnboardingTasks(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_ONBOARDING_TASKS_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.get(`${e}${t}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet tasks.","error");throw e}))}getEmployeePacketDetails(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_TEMPLATE_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.get(`${e}${t}`).then((e=>{const{employee:t,newHirePacket:a,payrollFields:s,questionsAndAnswers:n,recipientTypes:i}=e.data;const o={...t};for(const e in o){if(o.hasOwnProperty(e)&&o[e]===null){switch(e){case"id":case"managerId":o[e]=undefined;break;case"payrollSynced":o[e]=false;break;default:o[e]=""}}}return{employee:o,newHirePacket:a,payrollFields:s,questionsAndAnswers:n,recipientTypes:i}})).catch((e=>{window.setMessage("An error occurred getting packet data, please try again","error");throw e}))}getContactAndManagerInfo(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_CONTACT_MANAGER_ENDPOINT;return this.Ajax.get(e).then((e=>{const{data:t}=e;const{employees:a,nhpUserId:s,orderedEmployees:n,orderedUsers:i,users:o}=t;const r=[];const l=[];for(let e=0;e<n.length;e++){r.push({text:a[n[e]],value:`${n[e]}`})}for(let e=0;e<i.length;e++){l.push({text:o[i[e]].name,value:`${i[e]}`})}return{employeeOptions:r,userOptions:l,nhpUserId:s}}))}getTeamContactInfo(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}/team`).then((e=>{const{error:t}=e?.data||{};if(t){window.setMessage($.__("An error has occurred getting the team information, please try again"),"error");throw new Error("Reset default failed")}return e.data})).catch((e=>{window.setMessage($.__("An error occurred getting packet data, please try again"),"error");throw e}))}getGTKYFilterData(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_GTKY_FILTER_ENDPOINT;const t={locations:"location",divisions:"division",departments:"department",employmentStates:"status"};return this.Ajax.get(e).then((e=>{const{data:a}=e;const s=Object.keys(a);return s.map((e=>{const s=t[e]||e;const i=[];const o=a[e];for(let e=0;e<o.length;e++){i.push({parentId:s,text:o[e].value,value:o[e].id})}i.sort(((e,t)=>{if(e.text<t.text){return-1}if(e.text<t.text){return 1}return 0}));return{items:i,name:s,text:(0,n.startCase)(s),value:s}}))}))}getImportableTasks(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;const a=l(t);if(a.length>0){return new Promise(((e,t)=>{t({missingData:a})}))}const{deletedOriginalIds:s=[],excludedIds:n=[],managerId:i,hireDate:o,initialImport:r=true}=t;return this.Ajax.post(e,{deletedOriginalIds:s.join(","),excludedIds:n.join(","),managerId:i,hireDate:o}).then((e=>{const{applicableToEmployee:t,files:a,hasImported:s,notApplicableToEmployee:n,semiApplicableToEmployee:i,users:o}=e.data;const l={...i,...r?{}:n};return{applicableTasks:t,files:a,hasImported:s,notApplicableTasks:l,users:o}})).catch((e=>{window.setMessage($.__("Uh oh, something went wrong. Please try again."),"error");throw e}))}getMissingData(e){return this.Ajax.get(`/onboarding/tasks/${e}/missing_fields`).then((e=>e.data)).catch((e=>{setMessage($.__("An error occurred while getting the template information, please try again later"),"error");throw e}))}getTemplates(e){return this.Ajax.get(e).then((e=>e.data)).catch((()=>{setMessage($.__("An error occurred while getting the template list, please try again later"),"error");return false}))}getTemplateData(e){return this.Ajax.get(e).then((e=>{const t={...e.data};t.contactEmployeeId=t.contactEmployeeId?t.contactEmployeeId:"";return t})).catch((()=>{setMessage($.__("An error occurred while getting the template information, please try again later"),"error");return false}))}saveTemplate(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"post";return this.Ajax[a](e,t).then((e=>({savedNHPTemplate:true,templateData:e.data}))).catch((()=>({savedNHPTemplate:false})))}deleteTemplate(e){return this.Ajax.delete(e).catch((e=>{setMessage($.__("An error occurred while deleting the template, please try again"),"error");throw e}))}savePacket(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_TEMPLATE_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t).then((e=>({packetSaved:true,response:e}))).catch((e=>{throw e}))}}function l(e){const{managerId:t="",hireDate:a=""}=e;const s=[];if(typeof t==="string"&&t.length<1||t&&Number.isNaN(t)){s.push("managerId")}if(a.length<1){s.push("hireDate")}return s}},75818:(e,t,a)=>{"use strict";a.d(t,{YP:()=>o,mq:()=>i,uw:()=>n});var s=a(37624);function n(e){let t="";const a=e.map((e=>{t=e.type;return`${e?.typeId||e?.id}`}));return{selectedParentId:t,selectedFilters:a}}function i(e){const t={};const a={...e};const{gtkyQuestions:i,gtkyRecipients:o}=a;const{selectedParentId:r="",selectedFilters:l}=n(o);a.nhpTemplateId=a.id;delete a.id;i.map(((e,a)=>{t[a]=e}));(0,s.$x)({gtkyRecipients:e.gtkyRecipients.map((e=>({allEmployees:false,type:e.type,typeId:e.typeId})))});return{newHirePacket:a,gtkyQuestions:t,emailFilter:{selectData:[],selectedName:r,selectedParentId:r,selectedValues:l}}}function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(Array.isArray(e)){return e.map((e=>({text:e.name,value:e.id})))}return[]}},58552:(e,t,a)=>{"use strict";a.d(t,{r:()=>c});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(41201);const r=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({fileCard:()=>({marginRight:"16px",marginBottom:"10px"}),pendingWorkflow:{color:t.gray[1e3],fontWeight:a.fontWeightRegular}})}));const l="esig";function c(e){const{files:t=[],handleRemove:a,handleToggle:n,view:c="display"}=e;const d=r();function u(e){const{currentSignerUserId:t,esignatureRequired:a,esignatureTemplateId:s,esignatureWorkflowId:n,esignatureWorkflowInstanceId:i,extension:r,fileDataId:c,fileName:d,fileId:u,isCompletedEsignature:h,isEsignature:p,scanInfo:m}=e;const f=m===null||m==="skipped";const g=p?l:r;const v=(0,o.m1)(r.toLowerCase())?"img":"";return{eSigMetaData:{currentSignerUserId:t,esignatureTemplateId:s,esignatureWorkflowId:n,workflowInstanceId:i,isCompletedEsignature:h},fdId:c||"",fileId:u||"",mode:v,name:d,required:a===true,safe:f,type:g}}return(0,s.Z)("div",{className:"FileCardContainer FileCards NewHirePacketFiles"},void 0,t.map(((e,r)=>{if(!e){return null}const h=u(e);const{eSigMetaData:p,fdId:m,fileId:f,mode:g,name:v,required:y,safe:b,type:w}=h;const{currentSignerUserId:S,esignatureTemplateId:C,esignatureWorkflowId:x,workflowInstanceId:T,isCompletedEsignature:E}=p;const k=w===l&&!C&&!x;function Z(){if(!E&&w===l&&C){if(window.SESSION_USER.id===`${S}`){window.lazySigs((e=>{e.Signing.openModal(C,x,T,"Esignatures.init(Esignatures.TYPE_SIGNING)",v)}));return}else{window.lazySigs((e=>{e.Signing.openPreviewModeModal(C,T,v)}));return}}(0,o.NC)(m||f,f,v,null,null,true,g)}let N=null;if(c==="display"){if(E){N="signed"}else if(window.SESSION_USER.id===`${S}`){N="required"}else{N="pending"}}const I=k?(0,s.Z)("span",{className:d.pendingWorkflow},void 0,v):v;return(0,s.Z)("div",{className:d.fileCard,"data-file-id":f},`${r}_${f}`,(0,s.Z)(i.FileCard,{fileId:Number.parseInt(f),fileName:I,fileType:w,isSafe:b,onClick:c==="display"&&!k?Z:null,onRemove:c==="attachment"?e=>{const s=t.findIndex((t=>Number.parseInt(t.fileId)==e));if(typeof n==="function"){a({fileId:e,fileIndex:s})}}:null,onToggle:e=>{const a=t.findIndex((t=>Number.parseInt(t.fileId)===e));const s=t[a].esignatureRequired===false?"yes":"no";if(typeof n==="function"){n({fileId:e,fileIndex:a,required:s})}},signatureState:N,toggleState:y,view:c}))})))}},44070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s,v:()=>n});let s=function(e){e["EMAIL"]="email";e["HIRE_DATE"]="hireDate";e["MANAGER"]="manager";return e}({});let n=function(e){e["NO"]="no";e["YES"]="yes";e["REQUIRED"]="required";return e}({})},2301:(e,t,a)=>{"use strict";a.d(t,{m:()=>v});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(89835);var r=a(51341);var l=a(62484);var c=a(60042);var d=a.n(c);var u=a(59155);var h=a(37194);var p=a(26136);var $=a(26570);class m extends n.PureComponent{static get className(){return"FirstDayInformation"}constructor(e){super(e);const{hireDate:t,location:a,otherInstructions:s,selectedArrivalTime:n,selectedContactOptions:i,selectedManagerOptions:o,storeUpdater:r=(()=>0)}=e;this.state={hireDate:t,location:a,otherInstructions:s,selectedArrivalTime:n,selectedContactOptions:i,selectedManagerOptions:o};r(this.state);this._handleChangeLocation=this._handleChangeLocation.bind(this);this._handleChangeInstructions=this._handleChangeInstructions.bind(this);this._handleContactChange=this._handleContactChange.bind(this);this._handleManagerChange=this._handleManagerChange.bind(this);this._handleTimeChange=this._handleTimeChange.bind(this)}_handleUpdateHireDate(e){const{storeUpdater:t=(()=>0),updateHireDate:a}=this.props;const{hireDate:s}=this.state;if(s!==e){if(typeof a==="function"){try{a(e)}catch(e){console.error(e)}}this.setState({hireDate:e},(()=>{t(this.state)}))}}_handleChangeInstructions(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({otherInstructions:a},(()=>{t(this.state)}))}_handleChangeLocation(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({location:a},(()=>{t(this.state)}))}_handleContactChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedContactOptions:e},(()=>{t(this.state)}))}_handleManagerChange(e){const{storeUpdater:t=(()=>0),updateSelectedManager:a}=this.props;if(typeof a==="function"){try{a(e[0])}catch(e){console.log(e)}}this.setState({selectedManagerOptions:e},(()=>{t(this.state)}))}_handleTimeChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedArrivalTime:e},(()=>{t(this.state)}))}componentDidMount(){const e=document.querySelector(".js-hireDatePickerInput");if(e){e.addEventListener("blur",(e=>{const t=e.target.value;if(!t||t===""){this._handleUpdateHireDate(t)}}))}}render(){const{arrivalTimes:e,contactOptions:t,errorField:a={},infoHighlightFields:s={},managerOptions:n,name:i,templateView:c}=this.props;const{hireDate:m,location:f="",otherInstructions:g="",selectedArrivalTime:v,selectedContactOptions:y,selectedManagerOptions:b}=this.state;const w=d()("fab-Label fab-Label--required",{"fab-Label--error":a.hireDate,"fab-Label--info":s.hireDate});const S=d()("js-hireDatePickerInput fab-TextInput--width5",{"fab-TextInput--error":a.hireDate,"fab-TextInput--info":s.hireDate});const C=d()("fab-Label",{"fab-Label--error":a.manager,"fab-Label--info":s.manager});let x;if(a.manager){x="error"}else if(s.manager){x="info"}return(0,o.Z)("div",{className:"fab-FormSection"},void 0,(0,o.Z)("legend",{className:"fab-FormSection__legend FirstDayInformation__legend"},void 0,(0,o.Z)(u.Icon,{brand:true,name:"fab-map-grid-20x20"}),(0,o.Z)("span",{className:"fab-FormSection__legendText"},void 0,$.__("When, Where, and Other Info"),(0,o.Z)("span",{className:"fab-FormSection__legendNote"},void 0,(0,o.Z)(h.Message,{params:[i],text:$._("Enter information about when {1} should arrive, where to go and who to contact on their first day.")})))),(0,o.Z)("div",{className:"FirstDayInformation--indent"},void 0,(0,o.Z)("div",{className:"fab-FormRow"},void 0,!c&&(0,o.Z)("div",{className:"fab-FormColumn",id:"hireDate"},void 0,(0,o.Z)("label",{className:w,htmlFor:"hireDate"},void 0,$.__("Hire Date (First Day)")),(0,o.Z)(p.Z,{id:"hireDate",cssClasses:{single:S},name:"employees[hireDate]",noFacade:true,onChange:e=>{this._handleUpdateHireDate(e)},required:true,settings:{start:m},type:"date",unsafeProps:{defaultValue:(0,r.Z)(m).format(r.Z.defaultFormat)}})),(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"arrivalTime"},void 0,$.__("Please Arrive by...")),(0,o.Z)(u.Select,{id:"arrivalTime",items:e,name:"newHirePackets[arrivalTime]",onChange:this._handleTimeChange,selectedValues:v,width:5})),(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"location"},void 0,$.__("Location")),(0,o.Z)("div",{className:"fab-InputWrapper"},void 0,(0,o.Z)("input",{className:"fab-TextInput fab-TextInput--width10",id:"location",name:"newHirePackets[location]",onChange:this._handleChangeLocation,placeholder:$.__("Enter Address (Leave blank for remote employee)"),type:"text",value:f||"",width:"10"})))),(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"whoToContact"},void 0,$.__("Who to Contact")),(0,o.Z)(u.Select,{id:"whoToContact",items:t,name:"newHirePackets[contactEmployeeId]",onChange:this._handleContactChange,selectedValues:y,width:6})),!c&&(0,o.Z)("div",{className:"fab-FormColumn",id:"managerSelect"},void 0,(0,o.Z)("label",{className:C,htmlFor:"managerContact"},void 0,$.__("Manager")),(0,o.Z)(u.Select,{condition:x,id:"managerContact",items:n,name:"employeeJobHistoryItems[reportsToEmployeeId]",onChange:this._handleManagerChange,selectedValues:b,width:6}))),(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-FormColumn"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"otherInstructions"},void 0,$.__("Other Instructions")),(0,o.Z)(l.Z,{className:"fab-Textarea fab-Textarea--width10",id:"otherInstructions",name:"newHirePackets[otherInstructions]",onChange:this._handleChangeInstructions,value:g||""})))))}}var f=a(37624);var g=a(74037);function v(e){const{hireDate:t,selectedManagerOptions:a}=e;const{state:o,dispatch:r=(e=>e)}=(0,g.QN)()||{};const{errorFields:l,infoHighlightFields:c}=o||{};(0,n.useEffect)((()=>{if(Array.isArray(a)&&a.length>0){r({payload:{hireDate:t,selectedManagerId:a[0]},type:g.aI.SET_INITIAL})}}),[t,a]);return i().createElement(m,(0,s.Z)({},e,{errorField:l,infoHighlightFields:c,storeUpdater:f.$x,updateHireDate:e=>{r({payload:e,type:g.aI.UPDATE_HIRE_DATE})},updateSelectedManager:e=>{r({payload:e,type:g.aI.UPDATE_MANAGER_ID})}}))}},15256:(e,t,a)=>{"use strict";a.d(t,{_:()=>S});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(89835);var r=a(44119);var l=a(73641);var c=a(59155);var d=a(37194);var $=a(26570);class u extends n.PureComponent{static get className(){return"EmailFilter"}constructor(e){super(e);const{selectData:t=[],selectedName:a="",selectedParentId:s="-1",selectedValues:n=[],storeUpdater:i=(e=>e)}=this.props;let o=(0,l.cloneDeep)(t);o=this.disableRootItems(s,o);this.state={selectData:o,selectedName:a,selectedParentId:s,selectedValues:[...n]};const r=n.map((e=>({allEmployees:false,typeId:e,type:a})));i({gtkyRecipients:r});this._handleSelectChange=this._handleSelectChange.bind(this)}disableRootItems(e,t){let a=false;if(Number.parseInt(e)===-1){return t}const s=(0,l.cloneDeep)(t);for(const t of s){if(t.value===e){a=true}else{t.isDisabled=true}}return a?s:t}getToggleTranslation(e,t){let a=null;switch(e.toLowerCase()){case"department":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Department","{1} Departments",t)});break;case"location":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Location","{1} Locations",t)});break;case"division":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Division","{1} Divisions",t)});break;case"status":a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Status","{1} Statuses",t)});break;default:a=(0,o.Z)(d.Message,{params:[t],text:$._n("{1} Item Selected","{1} Items Selected",t)});break}return a}_handleSelectChange(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const{selectData:a,storeUpdater:s=(e=>e)}=this.props;const{selectData:n,selectedName:i,selectedParentId:o}=this.state;const r=t.length>0?t[0].parentId:"-1";const l=o===r?n:this.disableRootItems(r,a);let c=i;if(t.length===0){c=""}else if(c===""){const e=a.find((e=>e.value===r));c=e.name||""}this.setState({selectData:l,selectedName:c,selectedParentId:r,selectedValues:e},(()=>{const{selectedName:e,selectedValues:t}=this.state;const a=t.map((t=>({allEmployees:false,typeId:t,type:e})));s({gtkyRecipients:a})}))}render(){const{selectedName:e,selectData:t=[],selectedValues:a=[]}=this.state;return i().createElement(i().Fragment,null,a.map((t=>(0,o.Z)("input",{name:`${e}[]`,type:"hidden",value:t},`${e}_${t}`))),(0,o.Z)(c.Select,{canSelectMultiple:true,items:t,onChange:this._handleSelectChange,placeholder:$.__("All Employees"),renderToggleContent:t=>{const a=t.length;return(0,o.Z)(n.Fragment,{},void 0,a>0?(0,o.Z)("div",{className:"FilterDropdown__toggle"},void 0,(0,o.Z)("span",{},void 0,this.getToggleTranslation(e,a))):null)},selectedValues:a,width:7}))}}var h=a(37624);function p(e){return i().createElement(u,(0,s.Z)({},e,{storeUpdater:h.$x}))}var m=a(26570);class f extends n.PureComponent{static get className(){return"GtkyQuestion"}constructor(e){super(e);(0,r.Z)(this,"inputRef",(0,n.createRef)());this.state={...e.questionData,is_required:e.questionData.required?"yes":"no"};this._handleQuestionInputChange=this._handleQuestionInputChange.bind(this);this.focus=this.focus.bind(this)}componentDidMount(){if(this.props.focusInput){this.focus()}}_handleQuestionInputChange(e){const{position:t,onUpdate:a}=this.props;const s=e.target;this.setState({question:s.value},(()=>{const{question:e,is_required:s}=this.state;return a?.(t,e,s)}))}_handleRequiredInputChange(e){const{position:t,onUpdate:a}=this.props;this.setState({is_required:e?"yes":"no",required:e},(()=>{const{is_required:e,question:s}=this.state;return a?.(t,s,e)}))}focus(){const e=this.inputRef.current;if(e){e.focus()}}render(){const{canDelete:e,onDelete:t,onDragEnd:a,onDragOver:s,onDragStart:n,position:r,questionData:l}=this.props;const{id:d}=l;const{is_required:u,sortOrder:h,question:p,required:f}=this.state;return(0,o.Z)("div",{className:"js-cQuestion",draggable:true,id:d?`cqWrapper-${d}`:null,onDragOver:e=>{s(e,d)},onDragStart:e=>{n(e,d)},onDrop:e=>{a(e,d)}},void 0,(0,o.Z)("div",{className:"fab-InputWrapper GTKYQuestion"},void 0,i().createElement("input",{ref:this.inputRef,className:"fab-TextInput fab-TextInput--width10 fab-TextInput--withNub","data-order":h,name:`employeePersonalQuestions[${d}]`,onChange:this._handleQuestionInputChange,placeholder:m.__("Enter Question"),type:"text",value:p}),(0,o.Z)("span",{className:"fab-TextInputNub GTKYQuestion__dragHandle"},void 0,(0,o.Z)("span",{className:"fab-TextInputNub__icon"},void 0,(0,o.Z)(c.Icon,{name:"fab-lines-12x10"}))),(0,o.Z)("div",{className:"GTKYQuestionToggle"},void 0,(0,o.Z)(c.Toggle,{id:d?`q${d}Req`:null,isChecked:u==="yes"||f,name:`employeePersonalQuestionsRequired[${d}]`,onChange:e=>{const{checked:t}=e.target;this._handleRequiredInputChange(t)},type:"required"})),e&&(0,o.Z)(c.FloatingIconButton,{clickAction:()=>t?.(r),hasBounding:false,icon:"fab-circle-x-16x16",size:"teenie",type:"button"})))}}var g=a(7949);var v=a(26570);function y(e){const{customQuestions:t}=e;const[a,s,n,r]=(0,g.Y)(Object.values(t));if(a[0].id===undefined){s(a.map(((e,t)=>{e.id=t;return e})))}function d(){const e=(0,l.cloneDeep)(a);const t=Math.max(...e.map((e=>+e.id)));const s={archived:"",id:t+1,is_required:"",question:"",sort_order:`${t+1}`};e.push(s);w(e)}function u(e){const t=(0,l.cloneDeep)(a);t.splice(e,1);w(t)}function h(){r.handleDragEnd();e.updateQuestionsHandler(a)}function p(e,t){r.handleDragOver(e,t)}function m(e,t){r.handleDragStart(e,t);e.dataTransfer.setDragImage(e.target,e.nativeEvent.offsetX||0,e.nativeEvent.offsetY||0)}function y(e,t,s){const n=(0,l.cloneDeep)(a);n[e].question=t;n[e].required=s==="yes";n[e].sortOrder=e;w(n)}function b(e,t,a){return(0,o.Z)(f,{canDelete:a>1,focusInput:a>1&&t+1===a&&e.question==="",onDelete:u,onDragEnd:h,onDragOver:p,onDragStart:m,onUpdate:y,position:t,questionData:e},`cqWrapper-${e.id}${e.sort_order}`)}function w(t){s(t);e.updateQuestionsHandler(t)}return i().createElement(i().Fragment,null,(0,o.Z)("div",{className:"fab-FormRow QuestionsList"},void 0,(0,o.Z)("div",{className:"QuestionsList__questions",id:"customQuestionsWrapper"},void 0,(0,o.Z)("p",{className:"QuestionsList__questionsNote"},void 0,v.__("Get to Know You Questions")),a.map(((e,t)=>b(e,t,a.length))))),a.length<9&&(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight QuestionsList__addQuestion"},void 0,(0,o.Z)(c.Button,{clickAction:d,outline:true,size:"small",text:v.__("Add Question"),type:"button"})))}var b=a(26570);class w extends n.PureComponent{static get className(){return"TeamIntroduction"}constructor(e){super(e);const{storeUpdater:t}=e;const a=(0,l.cloneDeep)(e.customQuestions);if(Object.keys(a).length<1){const e={archived:"",id:"0",is_required:"",question:"",sort_order:"0"};delete e.is_required;e.required=false;a[0]=e}this.state={currentQuestions:this.getQuestionArray(Object.values(a)),customQuestions:a,sendGetToKnowYouEmail:e.sendGetToKnowYouEmail};if(typeof t==="function"){t({gtkyQuestions:Object.values(a),sendGetToKnowYouEmail:e.sendGetToKnowYouEmail})}this._displayEmailPreview=this._displayEmailPreview.bind(this);this._handleToggleGTKYQuestions=this._handleToggleGTKYQuestions.bind(this);this.updateCurrentQuestions=this.updateCurrentQuestions.bind(this)}_displayEmailPreview(e,t){return this.props.previewNewHireEmail?.(e,t)}_handleToggleGTKYQuestions(){const{storeUpdater:e=(()=>0)}=this.props;const{sendGetToKnowYouEmail:t}=this.state;window.formChanged=true;this.setState({sendGetToKnowYouEmail:t==="yes"||t===true?false:true},(()=>{e({sendGetToKnowYouEmail:this.state.sendGetToKnowYouEmail})}))}getQuestionArray(e){return e.map((e=>e.question))}updateCurrentQuestions(e){const{storeUpdater:t=(()=>0)}=this.props;window.formChanged=true;this.setState({currentQuestions:this.getQuestionArray(e)},(()=>{t({gtkyQuestions:e})}))}render(){const{emailFilterData:e,employeeId:t,employeeName:a}=this.props;const{currentQuestions:s,customQuestions:n,sendGetToKnowYouEmail:i}=this.state;const{selectData:r,selectedName:l,selectedParentId:u,selectedValues:h}=e;return(0,o.Z)("div",{className:"TeamIntroduction fab-FormSection"},void 0,(0,o.Z)("legend",{className:"fab-FormSection__legend newHirePacketLegend"},void 0,(0,o.Z)(c.Icon,{brand:true,name:"fab-hi-20x20"}),(0,o.Z)("span",{className:"fab-FormSection__legendText"},void 0,(0,o.Z)(d.Message,{params:[a],text:b._("Introduce {1} to the Team")}),(0,o.Z)("span",{className:"fab-FormSection__legendNote"},void 0,(0,o.Z)(d.Message,{params:[a],text:b._("Add a few Get to Know You questions to help the team get to know {1} a little better.")})))),(0,o.Z)("div",{className:"TeamIntroduction__FormSection--indent"},void 0,(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,o.Z)("div",{className:"TeamIntroduction__gtky"},void 0,(0,o.Z)("div",{className:"fab-FormRow"},void 0,(0,o.Z)("div",{className:"fab-InputWrapper "},void 0,(0,o.Z)("input",{checked:i==="yes"||i===true,className:"fab-Checkbox__input",id:"customQuestions",name:"newHirePackets[sendGetToKnowYouEmail]",onChange:this._handleToggleGTKYQuestions,type:"checkbox"}),(0,o.Z)("label",{className:"fab-Checkbox__label",htmlFor:"customQuestions"},void 0,b.__('Send a "Get to Know You" email on the morning of their first day')))),(i==="yes"||i===true)&&(0,o.Z)("div",{className:"fab-FormRow fab-FormRow--tight"},void 0,(0,o.Z)("div",{className:"TeamIntroductionPreviewEmail"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"EmailFilter"},void 0,b.__("Send to")),(0,o.Z)(p,{selectData:r,selectedName:l,selectedParentId:u,selectedValues:h}),(0,o.Z)("span",{className:"TeamIntroductionPreviewEmail__button"},void 0,(0,o.Z)(c.TextButton,{clickAction:()=>{this._displayEmailPreview(t,s)},iconBefore:"fab-envelope-14x12",muted:true,size:"small",type:"button"},void 0,b.__("Preview Email"))))))),(i==="yes"||i===true)&&(0,o.Z)("div",{className:"TeamIntroduction__gtkyWrapper",id:"customQuestionsSection"},void 0,(0,o.Z)(y,{customQuestions:n,updateQuestionsHandler:this.updateCurrentQuestions}))))}}(0,r.Z)(w,"defaultProps",{customQuestions:{}});function S(e){return i().createElement(w,(0,s.Z)({},e,{storeUpdater:h.$x}))}},74037:(e,t,a)=>{"use strict";a.d(t,{aI:()=>i,Xc:()=>f,QN:()=>g});var s=a(89835);var n=a(23321);var i=function(e){e["SET_INITIAL"]="setInitial";e["UPDATE_ERROR_FIELDS"]="updateErrorFields";e["UPDATE_HIGHLIGHTED_FIELDS"]="updateHighlightedField";e["UPDATE_MANAGER_ID"]="updateManager";e["UPDATE_HIRE_DATE"]="updateHireDate";return e}(i||{});var o=a(44070);function r(e){const t={};const a=Object.keys(e);a.forEach((a=>{if(e[a]){t[a]=true}}));return t}function l(e,t){const a={...e};a.errorFields=r(t);return a}function c(e,t){const a={...e};a.infoHighlightFields=r(t);return a}function d(e,t){const a={...e};a.selectedManagerId=parseInt(t);if(t){delete a.infoHighlightFields.manager;delete a.errorFields.manager}return a}function u(e,t){const a={...e};a.hireDate=t;if(!t||t.length===0){a.errorFields[o.Z.HIRE_DATE]=true}return a}function h(e,t){const{payload:a,type:s}=t;const n={...e};switch(s){case i.SET_INITIAL:return{...n,...a};case i.UPDATE_ERROR_FIELDS:return l(n,a);case i.UPDATE_HIGHLIGHTED_FIELDS:return c(n,a);case i.UPDATE_MANAGER_ID:return d(n,a);case i.UPDATE_HIRE_DATE:return u(n,a);default:{throw new Error(`Unhandled action type: ${t.type}`)}}}const p=(0,n.createContext)(undefined);let m=false;function f(e){let{children:t}=e;const a={errorFields:{},hireDate:undefined,infoHighlightFields:{},selectedManagerId:undefined};const[i,o]=(0,n.useReducer)(h,a);return(0,s.Z)(p.Provider,{value:{state:i,dispatch:o}},void 0,t)}function g(){const e=(0,n.useContext)(p);if(m===false&&e===undefined){m=true;console.warn("useNewHirePacketForm must be used within a NewHirePacketFormContext")}return e}},37624:(e,t,a)=>{"use strict";a.d(t,{Vh:()=>T,Xo:()=>I,jZ:()=>F,$$:()=>A,xc:()=>M,vx:()=>x,vS:()=>k,xZ:()=>E,V0:()=>P,Ml:()=>D,qF:()=>O,$x:()=>N});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(60658);var l=a(51341);var c=a(393);var d=a(33367);var u=a(38328);var h=a(44119);var p=a(73641);var m=a(45662);class f{static get className(){return"BaseFormData"}constructor(e){(0,h.Z)(this,"selectedArrivalTime",void 0);(0,h.Z)(this,"selectedContactOptions",void 0);(0,h.Z)(this,"id",void 0);(0,h.Z)(this,"location",void 0);(0,h.Z)(this,"name",void 0);(0,h.Z)(this,"otherInstructions",void 0);(0,h.Z)(this,"gtkyQuestions",void 0);(0,h.Z)(this,"gtkyRecipients",void 0);(0,h.Z)(this,"sendGetToKnowYouEmail",void 0);(0,h.Z)(this,"hireDate",void 0);(0,h.Z)(this,"selectedManagerOptions",void 0);const{arriveByTime:t=["08:00:00"],selectedContactOptions:a=null,id:s,location:n="",name:i,otherInstructions:o="",gtkyQuestions:r=[],gtkyRecipients:l=[],sendGetToKnowYouEmail:c=false}=e;this.selectedArrivalTime=t;this.selectedContactOptions=[a];this.id=s;this.location=n;this.name=i;this.otherInstructions=o;this.gtkyQuestions=r;this.gtkyRecipients=l;this.sendGetToKnowYouEmail=c===true||c==="yes";this.selectedManagerOptions=[]}assignQuestionSortOrderByIndex(){return this.gtkyQuestions.map(((e,t)=>{e.sortOrder=t;return e}))}updateData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!t){(0,m.Zd)()}const a=e.hireDate&&e.hireDate!=this.hireDate;const s=(0,p.cloneDeep)(e);const n=Object.keys(s);for(let e=0;e<n.length;e++){this[n[e]]=s[n[e]]}if(a){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}class g extends f{static get className(){return"NewHirePacketFormData"}constructor(e){super(e);(0,h.Z)(this,"nhpTemplateId",void 0);(0,h.Z)(this,"employeeId",void 0);(0,h.Z)(this,"files",void 0);(0,h.Z)(this,"homeEmail",void 0);(0,h.Z)(this,"otherTasks",void 0);(0,h.Z)(this,"packetTasks",void 0);(0,h.Z)(this,"hireDate",void 0);(0,h.Z)(this,"selectedManagerOptions",void 0);(0,h.Z)(this,"showPayrollState",void 0);(0,h.Z)(this,"showPayrollFederal",void 0);(0,h.Z)(this,"showPayrollDirectDeposit",void 0);const{employeeId:t,files:a,homeEmail:s,managerId:n,nhpTemplateId:i,otherTasks:o,packetTasks:r,showPayrollState:l,showPayrollFederal:c,showPayrollDirectDeposit:d}=e;this.employeeId=t;this.files=a;this.homeEmail=s;this.selectedManagerOptions=[n];this.nhpTemplateId=i;this.otherTasks=o;this.packetTasks=r;this.showPayrollState=l||false;this.showPayrollFederal=c||false;this.showPayrollDirectDeposit=d||false}_getEmployeeData(){const e=this.hireDate?(0,l.Z)(this.hireDate).format(l.Z.defaultFormat):"";return{id:this.employeeId,hireDate:e,email:this.homeEmail,managerId:this.selectedManagerOptions[0]===""?null:this.selectedManagerOptions[0]}}_getNewHirePacketData(){return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],employeeId:this.employeeId,nhpTemplateId:this.nhpTemplateId,location:this.location,otherInstructions:this.otherInstructions,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail,showPayrollState:this.showPayrollState,showPayrollFederal:this.showPayrollFederal,showPayrollDirectDeposit:this.showPayrollDirectDeposit}}_getNewHirePacketSaveData(){const e=this.assignQuestionSortOrderByIndex();const t=this._getEmployeeData();const a=this._getNewHirePacketData();return{employee:t,newHirePacket:a,questionsAndAnswers:e,recipientTypes:this.gtkyRecipients}}getFormData(){return{newHirePacketData:this._getNewHirePacketSaveData(),newHirePacketTasks:this.packetTasks,notApplicableToEmployee:this.otherTasks}}updateData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super.updateData(e,t);const a=e.hireDate&&e.hireDate!=this.hireDate;const s=e.selectedManagerOptions&&e.selectedManagerOptions[0]!=this?.selectedManagerOptions[0];if(!t){(0,m.Zd)()}if(a||s){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}class v extends f{static get className(){return"NHPTemplateFormData"}getFormData(){const e=this.assignQuestionSortOrderByIndex();return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],id:this.id,location:this.location,name:this.name,otherInstructions:this.otherInstructions,gtkyQuestions:e,gtkyRecipients:this.gtkyRecipients,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail===true||this.sendGetToKnowYouEmail==="yes"}}getPacketFormData(){const e=this.getFormData();const t=this.hireDate?(0,l.Z)(this.hireDate).format("YYYY-MM-DD"):"";return{...e,hireDate:t,managerId:this.selectedManagerOptions[0]}}}let y=function(e){e["PACKET"]="NEW_HIRE_PACKET";e["TEMPLATE"]="NHP_Template";return e}({});function b(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:y.TEMPLATE;let t=arguments.length>1?arguments[1]:undefined;switch(e){case y.PACKET:return new g(t);case y.TEMPLATE:default:return new v(t)}}var $=a(26570);let w=b(y.TEMPLATE,{});let S=[];let C=null;function x(e,t,a){o().get(`/onboarding/nhp/gtky_email_preview/${e}`).then((n=>{if(n){const{data:i,status:o}=n;if(o===200){const{body:n=""}=i;const o=(0,s.Z)(c.Z,{imageAlt:"Image of employee",imageSrc:`/employees/photos/?id=${e}`,isModalHeader:false,theme:"newHire",title:t.fullName},void 0,(0,s.Z)(d.V,{jobTitle:t.jobTitle,location:t.jobLocation}));(0,r.K4)((0,s.Z)(u.c,{body:n,employeeBadgeComponent:o,employeeData:t,getToKnowYouQuestions:a,isOpen:true,primaryAction:r.Mr,showQuestionsPlaceholder:false}))}else{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error")}}}));return false}function T(){const e=[];const t="HH:mm:ss";const a=(0,l.Z)("00:00:00",t);const s=a.unix();const n=s+60*60*24;let i=s;while(i<n){const a=l.Z.unix(i,"HH:mm:ss");e.push({text:a.format("LT"),value:a.format(t)});i+=60*15}return e}function E(e){w=b(y.TEMPLATE,e)}function k(e){w=b(y.PACKET,e)}function Z(e){w.updateData(e,true)}function N(e){w.updateData(e)}function I(){return w.getFormData()}function A(){return S}function F(){return C}function M(){document.dispatchEvent(new CustomEvent("SiteFooter:close"))}function D(e){S=e}function P(e){C=e}function O(){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}},19307:(e,t,a)=>{"use strict";a.d(t,{k:()=>g});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(4408);var r=a(70729);var l=a(91002);var c=a(79099);var d=a(74189);var u=a(65197);var h=a(65431);var p=a(84417);const m=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({contactInfo:{marginTop:"20px",display:"flex",flexGrow:1,lineHeight:a.fabricLineHeight("small")},contactImgWrapper:{marginRight:"20px"},contactImg:{borderRadius:"100%",width:"86px",height:"86px"},contactHead:{fontSize:a.fabricFontSize("biggie"),lineHeight:a.fabricLineHeight("biggie"),fontWeight:a.fontWeightMedium},contactSub:{fontSize:a.fabricFontSize("small"),lineHeight:a.fabricLineHeight("small"),color:t.gray[700]},contactPronoun:{fontSize:a.fabricFontSize("small"),color:t.gray[700]},socials:{marginTop:"10px",display:"flex",alignItems:"center","& a":{fill:t.grey[500],marginRight:"10px","&:hover":{fill:t.primary.main}}}})}));const f={Aol:(0,s.Z)(o.Z,{}),Facebook:(0,s.Z)(r.Z,{}),Instagram:(0,s.Z)(l.Z,{}),LinkedIn:(0,s.Z)(c.Z,{}),Pinterest:(0,s.Z)(d.Z,{}),Skype:(0,s.Z)(u.Z,{}),Twitter:(0,s.Z)(h.Z,{})};function g(e){const{employee:t={}}=e;const{email:a,extension:n,firstName:i,lastName:o,phone:r,position:l,profileImageSrc:c,pronounsLabel:d,socials:u}=t;const h=m();return(0,s.Z)("div",{className:h.contactInfo},void 0,(0,s.Z)("div",{className:h.contactImgWrapper},void 0,(0,s.Z)("img",{alt:`${i} ${o}`,className:h.contactImg,src:c})),(0,s.Z)("div",{},void 0,(0,s.Z)("p",{className:h.contactHead},void 0,i," ",o,d&&(0,s.Z)("span",{className:h.contactPronoun},void 0," (",d,")")),(0,s.Z)("p",{className:h.contactSub},void 0,l),(0,s.Z)("p",{className:h.contactSub},void 0,r," ",n&&(0,s.Z)("span",{},void 0,"ext. ",n)),a&&(0,s.Z)("a",{href:`mailto:${a}`,rel:"noopener noreferrer",target:"_blank"},void 0,a),(a||u)&&(0,s.Z)("div",{className:h.socials},void 0,a&&(0,s.Z)("a",{href:`mailto:${a}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,s.Z)(p.Z,{})),u&&u.map((e=>(0,s.Z)("a",{href:e.href,rel:"noopener noreferrer",target:"_blank"},e.type,f[e.type]))))))}},32720:(e,t,a)=>{"use strict";a.d(t,{q:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(37194);var r=a(59155);const l=(0,r.makeStyles)((e=>{let{palette:t,typography:a}=e;const s=(0,r.getTheme)("lime1");return(0,r.createStyles)({finishedPage:{margin:"0",paddingTop:"29px","& h2":{fontWeight:a.fontWeightMedium}},headerTitle:{fontWeight:a.fontWeightMedium,textAlign:"center",fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),textAlign:"center",color:t.grey[700]},headerDivider:{marginTop:"45px",marginBottom:"35px"},divider:{margin:"35px 0",height:"1px",borderColor:t.grey[300]},membersWrapper:{margin:"60px 0"},members:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))"},footer:{background:t.grey[100],margin:"0 -170px",padding:"45px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:"5px 0"}},bamboohrLogo:{fill:s.palette.primary.lighter},footerText:{color:t.grey[800],fontSize:a.fabricFontSize("medium")},footerDisclaimer:{color:t.grey[600],fontSize:a.fabricFontSize("small")}})}));var c=a(19307);var $=a(26570);function d(e){const{employeeName:t,companyName:a,children:n,team:d,isNHPTemplate:u=false}=e;const{manager:h,members:p=[]}=d;const m=l();const f=`${window.location.protocol}//${window.location.hostname}`;return i().createElement(i().Fragment,null,(0,s.Z)(r.Card,{hasBottomGradient:false,size:r.CardSize.FULL},void 0,(0,s.Z)(r.CardContent,{},void 0,(0,s.Z)("div",{className:m.finishedPage},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h1",{className:m.headerTitle},void 0,(0,s.Z)(o.Message,{params:[t],text:$._(`{1}, You're All Ready To Go.`)})),(0,s.Z)("p",{className:m.headerDesc},void 0,(0,s.Z)(o.Message,{params:[a],text:$._(`We're looking forward to having you here at {1}.`)})),(0,s.Z)("hr",{className:m.headerDivider})),n,(p?.length>0||h)&&(0,s.Z)("div",{},void 0,(0,s.Z)("hr",{className:m.divider}),(0,s.Z)("h2",{},void 0,$._("Get to Know the Team")),h&&i().createElement(i().Fragment,null,(0,s.Z)("h4",{},void 0,"Your Manager"),(0,s.Z)(c.k,{employee:h})),p&&p.length>0&&(0,s.Z)("div",{className:m.membersWrapper},void 0,(0,s.Z)("h4",{},void 0,"Your Team"),(0,s.Z)("div",{className:m.members},void 0,p.map((e=>(0,s.Z)(c.k,{employee:e},`${e.firstName}_${e.lastName}`))))))))),!u&&(0,s.Z)("div",{className:m.footer},void 0,(0,s.Z)("div",{className:m.bamboohrLogo},void 0,(0,s.Z)(r.Icon,{name:"fab-bamboohr-logo-255x38"})),(0,s.Z)("h3",{},void 0,(0,s.Z)(o.Message,{params:[a],text:$.__(`{1} uses BambooHR`)})),(0,s.Z)("p",{className:m.footerText},void 0,(0,s.Z)(o.Message,{text:$.__(`You can access your company's HR site at:`)})),(0,s.Z)("a",{href:"#",rel:"noopener noreferrer",target:"_blank"},void 0,f),(0,s.Z)("p",{className:m.footerDisclaimer},void 0,(0,s.Z)(o.Message,{text:$.__(`(You may want to bookmark this baby.)`)}))))}},27460:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var s=a(89835);var n=a(23321);var i=a(37194);var o=a(59155);const r=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({headerTitle:{fontWeight:a.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},inputs:{padding:"0 15px",display:"flex",flexDirection:"column"},question:{display:"flex",flexDirection:"column",marginTop:"15px"},questionInput:{maxHeight:"60px",maxWidth:"430px"}})}));var $=a(26570);function l(e){const t=r();const{gtkyQuestions:a=[]}=e;const n=a.map(((e,a)=>(0,s.Z)("div",{className:t.question},e.sortOrder,(0,s.Z)("label",{className:`fab-Label ${e.required?"fab-Label--required":""}`,htmlFor:`question-${a}`},void 0,e.question),(0,s.Z)("textarea",{className:"fab-Textarea fab-Textarea--width10",defaultValue:e.employeeResponse??"",disabled:true,id:`question-${a}`}))));return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(i.Message,{text:$._("Get Introduced to The Team")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(i.Message,{text:$._(`You're almost done, but first we'd like to get to know a bit more about you so we can introduce you to the rest of the team. `)}),(0,s.Z)(i.Message,{text:$._(`Please answer the following questions and we'll send out a quick introduction email to the people you'll be working with.`)}))),(0,s.Z)("hr",{className:t.divider}),(0,s.Z)("h3",{},void 0,(0,s.Z)(i.Message,{text:$._("Tell us a little about yourself:")})),(0,s.Z)("div",{className:t.inputs},void 0,n))}},3203:(e,t,a)=>{"use strict";a.d(t,{L:()=>m});var s=a(89835);var n=a(92959);var i=a.n(n);var o=a(23321);var r=a.n(o);var l=a(59155);var c=a(37194);var d=a(26297);var u=a(60042);var h=a.n(u);var $=a(26570);const p=(0,l.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,l.createStyles)({headerTitle:{fontSize:"32px",fontWeight:a.fontWeightRegular},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},blankStateDivider:{margin:"35px 0 70px"},blankStateOverride:{marginBottom:"88px","& p":{maxWidth:"none"}},employeePhoto:{position:"absolute",right:"70px",marginTop:"33px",zIndex:1},employeePhotoText:{fontSize:a.fabricFontSize("teenie"),fabColor:t.grey[700],lineHeight:"20px"},hidden:{display:"none"}})}));function m(e){const t=p();const{data:a,isNHPT:n,photoRequired:u=false,photoURL:m="",previewMode:f=true,showPhoto:g=true,employeeId:v=-1,showPayrollFederal:y=false,showPayrollState:b=false}=e;let w="/images/photo_person_150x150.png";let S=false;if(!i()(m).call(m,"initials")){w=m;S=true}(0,o.useEffect)((()=>{$(".employeeForm .required").removeClass("required").addClass("visuallyRequired");$(".employeeForm span.inputIcons").addClass("disabled");$(".employeeForm .bhrToggle--btn").addClass("bhrToggle--btn--disabled");$(".employeeForm .fab-SelectToggle").addClass("fab-SelectToggle--disabled");setTimeout((function(){$(".employeeForm .fab-Label, .AdditionalWithholding .fab-FormField").addClass("fab-Label--disabled")}));$(".employeeForm .BhrTable__header--section").removeClass("BhrTable__header--section");$(".employeeForm").find("input, button, ba-select").addClass("disabled").attr("disabled",true)}));const C=h()(t.employeePhoto,"js-fieldBox",{"required requiredWhenVisible visuallyRequired":u});const x=h()("fab-Label",{"fab-Label--required requiredWhenVisible visuallyRequired":u});function T(){if(f){window.disabledForPermsTest()}}return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(c.Message,{text:$._("New Employee Information")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(c.Message,{text:$._(`Let's start with the basics. `)}),(0,s.Z)(c.Message,{text:$._(`Please complete the following new employee form and add your profile photo. `)}),(0,s.Z)(c.Message,{text:$._(`This will ensure we have the most up-to-date information. `)}),(0,s.Z)(c.Message,{text:$._(`It will also help us get you up and running quickly with the required paperwork. `)})),(0,s.Z)("hr",{className:t.divider}),n&&(0,s.Z)("div",{className:"NewEmployeeInfoBlankStateWrapper"},void 0,(0,s.Z)("div",{className:t.blankStateOverride},void 0,(0,s.Z)(l.BlankState,{icon:"fab-person-index-card-120x92",subtitle:$.__("Youll be able to preview this step, along with the actual fields, when sending the actual New Hire Packet."),title:$.__(`Because this is just the template, we cant show an accurate preview of this step.`)}))),!n&&r().createElement(r().Fragment,null,g&&(0,s.Z)("div",{className:C},void 0,(0,s.Z)("label",{className:x,htmlFor:"photo"},void 0,$.__("Profile Photo")),(0,s.Z)("input",{id:"photo",name:"photo",type:"hidden",value:S===true?1:undefined}),(0,s.Z)("div",{className:"Photo childHover",id:"employeePhoto",onClick:T},void 0,(0,s.Z)("img",{className:"Avatar Photo__image",src:w}),(0,s.Z)("div",{className:"Photo__image-plus phoneHide"},void 0,(0,s.Z)("ba-icon",{name:"fab-circle-plus-34x34"})),(0,s.Z)("div",{className:`Photo__image-overlay ${S?t.hidden:""}`},void 0,(0,s.Z)(c.Message,{text:$._("Add\nPhoto")})))),(0,s.Z)("div",{className:"employeeForm"},void 0,(0,s.Z)(d.F3,{additionalOptions:{employeeId:v,isNHPPacket:true,showPayrollFederal:y,showPayrollState:b},data:a,isAddEmployeeForm:false})))))}},34866:(e,t,a)=>{"use strict";a.d(t,{M:()=>C});var s=a(89835);var n=a(44119);var i=a(92959);var o=a.n(i);var r=a(23321);var l=a(59155);var c=a(97106);var $=a(26570);const d=(0,l.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,l.createStyles)({footer:{display:"flex",maxWidth:"1348px",alignItems:"center",justifyContent:"center",width:"100%",margin:"auto"},buttonsWrapper:{display:"flex"},brand:{marginLeft:"auto"}})}));function u(e){const{totalPages:t,currentPage:a,nextPageAction:n,previousPageAction:i}=e;const o=d();const u=a<t-1?(0,s.Z)(l.Button,{clickAction:()=>{n(a+1)},size:"biggie",type:"button"},void 0,$.__("Continue")," "):null;const h=a>0?(0,s.Z)(l.TextButton,{clickAction:()=>{i(a-1)},size:"biggie"},void 0,$.__("Previous Step")):null;const p=99;const m=8;const[f,g]=(0,r.useState)(p);const v=document.querySelector("#fabricModalContent .fab-Card")?.getBoundingClientRect()?.height;(0,r.useEffect)((()=>{const e=document.querySelector("#fabricModalContent .fab-Card")?.getBoundingClientRect();if(e){const t=window.innerHeight-p;const a=e.bottom<t?t-e.bottom+p+m:null;if(f!==a){g(a)}}}),[f,v,a]);const y=a<t-1;return(0,s.Z)("div",{className:"js-PreviewerActionFooter",style:{height:y?f:0}},void 0,y&&(0,s.Z)(l.FullScreenModal.Footer,{},void 0,(0,s.Z)("div",{className:o.footer},void 0,(0,s.Z)("div",{className:o.buttonsWrapper},void 0,u,h),(0,s.Z)("div",{className:o.brand},void 0,(0,s.Z)(c.O,{fabricColorName:"gray9",iconName:"fab-bamboohr-logo-113x18"})))))}var h=a(4289);var p=a(47380);let m=function(e){e["PHONE"]="@media screen and (max-width: 767px)";e["PHONE_PORTRAIT"]="@media screen and (orientation: portrait) and (max-width: 654px)";e["TABLET"]="@media screen and (max-width: 1124px)";e["COMPUTER"]="@media screen and (min-width: 1124px)";return e}({});const f=(0,l.makeStyles)((e=>{let{palette:t,typography:a}=e;const{COMPUTER:s,TABLET:n}=m;return(0,l.createStyles)({navWrapper:{[n]:{height:"0"}},nav:{padding:"15px 20px",width:"100%",maxWidth:"1348px",display:"flex",justifyContent:"space-around",[n]:{display:"flex",justifyContent:"end",maxWidth:"100%",padding:"0",paddingRight:"30px",width:"10%",minWidth:"300px"}},navContainer:{background:t.gray[900],display:"flex",justifyContent:"center",paddingLeft:"3%",[n]:{background:"transparent",justifyContent:"end",position:"relative",height:"auto",minWidth:0,top:"-20px",zIndex:"2","&:before":{top:"20px"}}},navItem:{position:"relative",display:"inline",fontSize:a.fabricFontSize("biggie"),fontWeight:a.fontWeightRegular,color:t.gray[600],marginRight:"85px",[n]:{float:"none",marginLeft:"40px",marginRight:"0",padding:"0",height:"40px",width:"auto"}},navItemActive:{color:t.gray[100],fontWeight:a.fontWeightHeavy,[s]:{"&::before":{position:"absolute",content:'""',width:0,height:0,top:"44px",left:"50%",borderLeft:"20px solid transparent",borderRight:"20px solid transparent",borderTop:`20px solid ${t.gray[900]}`}}},navNumber:{display:"inline-block",borderRadius:"50%",width:"25px",height:"25px",padding:"2px",background:t.gray[600],color:t.gray[900],textAlign:"center",fontSize:a.fabricFontSize("large"),fontWeight:a.fontWeightRegular,[n]:{color:t.gray[900],backgroundColor:t.gray[300],border:`3px solid white`,display:"flex",width:"27px",height:"27px",alignItems:"center",justifyContent:"center"}},navName:{paddingLeft:"10px",display:"inline-block",[n]:{display:"none"}},navNumberActive:{background:t.gray[100],fontWeight:a.fontWeightHeavy,lineHeight:a.fabricLineHeight("large"),[n]:{backgroundColor:t.primary.main,color:"white"}},navSpacer:{flex:2}})}));function g(e){const{pageNames:t,currentPage:a}=e;const n=f();const i=[];t.forEach(((e,o)=>{const r=(0,s.Z)("li",{className:`${n.navItem} ${a===o?n.navItemActive:null}`},e,(0,s.Z)("div",{className:`${n.navNumber} ${a===o?n.navNumberActive:null}`},void 0,o+1),(0,s.Z)("div",{className:n.navName},void 0,e));if(o<t.length-1){i.push(r)}}));return(0,s.Z)("div",{className:`NavigationWrapper ${n.navWrapper}`},void 0,(0,s.Z)("div",{className:`NHPStepsContainer ${n.navContainer}`},void 0,(0,s.Z)("ul",{className:n.nav},void 0,i,(0,s.Z)("li",{className:n.navSpacer}))))}const v=e=>{let{palette:t,typography:a}=e;return(0,l.createStyles)({containerWrapper:{display:"flex",justifyContent:"center","& .fab-Card":{}},logoContainer:{maxWidth:"1328px",width:"100%",display:"flex"},contentSpacer:{paddingLeft:"20px"},container:{maxWidth:"1348px",flex:1},header:{position:"relative",margin:"-32px  -16px 0 -16px",backgroundColor:t.grey[100],zIndex:100},subHeader:{display:"flex",alignItems:"center",borderBottom:`4px solid ${t.primary.main}`,justifyContent:"center",padding:"13px 0"},spacer:{flexGrow:2},baseFooter:{margin:"0 -16px",backgroundColor:"white","&--templatePreviewer":{marginTop:"-25px",position:"relative",zIndex:2}},baseFooterContent:{padding:"0 32px 25px 32px",marginBottom:"-25px",color:t.grey[600],display:"flex",fontSize:a.fabricFontSize("teenie"),"& span":{width:"auto"},"& a":{textDecoration:"none",color:t.grey[600],"&:hover":{color:t.primary.main}}},baseFooterLogo:{width:"auto",marginLeft:"auto",fill:t.grey[700],"&:hover":{cursor:"finger",fill:t.grey[800]}},footerDivider:{margin:"25px 0",height:"1px",borderColor:t.grey[300]},previewerContent:{display:"inline","& #fabricModalContent > div":{backgroundColor:t.grey[100]}}})};var y=a(26570);const b="https://www.bamboohr.com/privacy-policy";const w="https://www.bamboohr.com/terms-of-service";class S extends r.PureComponent{static get className(){return"PreviewerComponent"}constructor(e){super(e);(0,n.Z)(this,"pages",void 0);(0,n.Z)(this,"currentPage",void 0);const{loading:t=true,modalState:a,headerName:s,whenAndWhereComponent:i,newEmployeeInfoComponent:r,getIntroducedComponent:l,tasksComponent:c,finishedComponent:d,showGetIntroduced:u,showTasks:h}=e;this.pages=this._populatePages({whenAndWhereComponent:i,newEmployeeInfoComponent:r,getIntroducedComponent:l,showGetIntroduced:u,tasksComponent:c,showTasks:h,finishedComponent:d});let p=0;this.pages.forEach(((e,t)=>{var a;e.index=t;if(o()(a=location.hash).call(a,e.route)){p=t}}));this.state={loading:t,modalState:a,currentPage:p,headerName:s};this._onRequestClose=this._onRequestClose.bind(this);this._nextPage=this._nextPage.bind(this);this._prevPage=this._prevPage.bind(this);this._changePage=this._changePage.bind(this);this._getPageNames=this._getPageNames.bind(this);this._resetPreview=this._resetPreview.bind(this)}_populatePages(e){const t=[];const{whenAndWhereComponent:a,newEmployeeInfoComponent:s,getIntroducedComponent:n,showGetIntroduced:i,tasksComponent:o,showTasks:r,finishedComponent:l}=e;if(a){t.push({name:y.__("When & Where"),route:"when_and_where"})}if(s){t.push({name:y.__("New Employee Info"),route:"new_employee_info"})}if(n&&i){t.push({name:y.__("Get Introduced"),route:"get_introduced"})}if(o&&r){t.push({name:y.__("Tasks to Complete"),route:"tasks_to_complete"})}if(l){t.push({name:y.__("Finished"),route:"finished"})}return t}_onRequestClose(){this.setState({modalState:false,loading:true,currentPage:0});window.previewUser=null;const{history:e}=this.props;e.replace({hash:"",search:window.location.search})}_resetPreview(){window.ASSUMED_USER=undefined;this.setState({currentPage:0})}_nextPage(){let{currentPage:e}=this.state;this._changePage(++e)}_prevPage(){let{currentPage:e}=this.state;this._changePage(--e)}_changePage(e){if(e>-1&&e<this.pages.length){this.setState({currentPage:e});const{history:t}=this.props;t.push({hash:`preview/${this.pages[e].route}`,search:window.location.search})}}_getPageNames(){return this.pages.map((e=>e.name.replace(/([A-Z])/g," $1").trim()))}componentDidUpdate(e){const{whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:s,showGetIntroduced:n,tasksComponent:i,showTasks:r,finishedComponent:l}=this.props;this.pages=this._populatePages({whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:s,showGetIntroduced:n,tasksComponent:i,showTasks:r,finishedComponent:l});let c=0;this.pages.forEach(((e,t)=>{var a;e.index=t;if(o()(a=location.hash).call(a,e.route)){c=t}}));const{modalState:d,loading:u}=e;const{modalState:h,loading:p}=this.props;let m=d;let f=u;if(h!==d){m=h}if(p!==u){f=p}window.ASSUMED_USER=m?1:undefined;this.setState({loading:f,modalState:m,currentPage:c})}render(){var e;const{classes:t,isNHPT:a=false,logo:n,whenAndWhereComponent:i,newEmployeeInfoComponent:r,getIntroducedComponent:c,tasksComponent:d,finishedComponent:m,headerAction:f,renderHeader:v}=this.props;const{modalState:y,currentPage:S,loading:C=false}=this.state;const x={closeModal:this._onRequestClose,headerAction:f};const T=v(x);const E=(0,s.Z)(u,{currentPage:S,nextPageAction:this._nextPage,previousPageAction:this._prevPage,totalPages:this.pages.length});return(0,s.Z)(l.FullScreenModal,{isLoading:C,isOpen:y,onCloseComplete:this._resetPreview,onOpenComplete:()=>{window.previewUser=true;window.closeMessage();const e=document.getElementById("fabricModalContent");if(e){e.classList.add("Previewer")}},onRequestClose:this._onRequestClose},void 0,(0,s.Z)("div",{className:t.previewerContent},void 0,(0,s.Z)(l.FullScreenModal.Body,{renderFooter:E,renderHeader:T},void 0,(0,s.Z)(l.FullScreenModal.Constraint,{spacingOverrides:{bottom:l.FullScreenModal.Constraint.Spacing.NONE,left:l.FullScreenModal.Constraint.Spacing.NONE,right:l.FullScreenModal.Constraint.Spacing.NONE}},void 0,(0,s.Z)("div",{className:`LogoWrapper ${t.header}`},void 0,(0,s.Z)("div",{className:t.subHeader},void 0,(0,s.Z)("div",{className:`${t.logoContainer} ${t.contentSpacer}`},void 0,(0,s.Z)("img",{alt:n.alt,className:n.classes,src:n.logoSrc,style:{maxHeight:"60px",maxWidth:"300px",height:"auto",width:`${n.width}px`}}),(0,s.Z)("div",{className:t.spacer},void 0," "))),!o()(e=location.hash).call(e,"finished")&&(0,s.Z)(g,{currentPage:S,pageNames:this._getPageNames()})),(0,s.Z)("div",{className:`MainPreviewerBody ${t.containerWrapper}`},void 0,(0,s.Z)("div",{className:t.container},void 0,(0,s.Z)(h.HashRouter,{basename:"/preview",hashType:"noslash"},`${S}_${C}`,(0,s.Z)(p.rs,{},void 0,(0,s.Z)(p.AW,{path:"/when_and_where*"},void 0,(0,s.Z)(l.Card,{hasBottomGradient:false,size:l.CardSize.CUSTOM},void 0,(0,s.Z)(l.CardContent,{},void 0,(0,s.Z)("div",{className:t.contentSpacer},void 0,i)))),(0,s.Z)(p.AW,{path:"/new_employee_info*"},void 0,(0,s.Z)(l.Card,{hasBottomGradient:false,size:l.CardSize.CUSTOM},void 0,(0,s.Z)(l.CardContent,{},void 0,(0,s.Z)("div",{className:t.contentSpacer},void 0,r)))),(0,s.Z)(p.AW,{path:"/get_introduced*"},void 0,(0,s.Z)(l.Card,{hasBottomGradient:false,size:l.CardSize.CUSTOM},void 0,(0,s.Z)(l.CardContent,{},void 0,(0,s.Z)("div",{className:t.contentSpacer},void 0,c)))),(0,s.Z)(p.AW,{path:"/tasks_to_complete*"},void 0,(0,s.Z)(l.Card,{hasBottomGradient:false,size:l.CardSize.CUSTOM},void 0,(0,s.Z)(l.CardContent,{},void 0,(0,s.Z)("div",{className:t.contentSpacer},void 0,d)))),(0,s.Z)(p.AW,{path:"/finished*"},void 0,m),(0,s.Z)(p.AW,{},void 0,(0,s.Z)(l.Card,{hasBottomGradient:false,size:l.CardSize.CUSTOM},void 0,(0,s.Z)(l.CardContent,{},void 0,(0,s.Z)("div",{className:t.contentSpacer},void 0,i)))))))),S===this.pages.length-1&&(0,s.Z)("div",{className:`BasicPreviewerFooter ${t.baseFooter} ${t.baseFooter}${a?"--templatePreviewer":""}`},void 0,(0,s.Z)("hr",{className:t.footerDivider}),(0,s.Z)("div",{className:t.baseFooterContent},void 0,(0,s.Z)("span",{},void 0,(0,s.Z)("a",{href:b,rel:"noopener noreferrer",target:"_blank"},void 0,"Privacy Policy"),"  ",(0,s.Z)("a",{href:w,rel:"noopener noreferrer",target:"_blank"},void 0,"Terms of Service"),"  20082020 BambooHR All rights reserved."),(0,s.Z)("div",{className:t.baseFooterLogo},void 0,(0,s.Z)("a",{href:"https://www.bamboohr.com",rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,s.Z)(l.Icon,{name:"fab-bamboohr-logo-115x17"})))))))))}}const C=(0,p.EN)((0,l.withStyles)(v)(S))},56376:(e,t,a)=>{"use strict";a.d(t,{e:()=>l});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);const r=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,o.createStyles)({mainHeader:{backgroundColor:t.grey[1e3],padding:"26px 50px",display:"flex",alignItems:"center"},headerIcon:{width:"auto",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},headerTitles:{width:"auto",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch",paddingLeft:"15px"},title:{flexGrow:1,display:"flex",flexDirection:"column","& h1":{color:"white",fontWeight:a.fontWeightSemibold,fontSize:"40px",marginTop:"5px"}},subTitle:{flexGrow:1,fontSize:a.fabricFontSize("small"),display:"flex",flexDirection:"column",color:t.grey[600],"& p":{position:"relative",top:"5px"},"&__email":{}},buttons:{width:"auto",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"}})}));function l(e){const{closeModal:t,name:a="",imageJsx:n,email:o="",subtitle:l,headerAction:c,renderActionButtons:d=(e=>null)}=e;const u=r();const h=()=>{c();t()};return(0,s.Z)("div",{className:"PreviewerHeader"},void 0,(0,s.Z)("div",{className:u.mainHeader},void 0,i().createElement(i().Fragment,null,(0,s.Z)("div",{className:u.headerIcon},void 0,n),(0,s.Z)("div",{className:u.headerTitles},void 0,(0,s.Z)("div",{className:u.subTitle},void 0,(0,s.Z)("p",{},void 0,l)),(0,s.Z)("div",{className:u.title},void 0,(0,s.Z)("h1",{},void 0,a)),o&&(0,s.Z)("div",{className:`${u.subTitle} ${u.subTitle}__email`},void 0,(0,s.Z)("p",{},void 0,o)))),(0,s.Z)("div",{className:u.buttons},void 0,d([t,h]))))}},21845:(e,t,a)=>{"use strict";a.d(t,{h:()=>u});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(37194);var r=a(58552);const l=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({task:{padding:"20px 22px",paddingBottom:"36px",display:"flex"},taskIndex:{display:"flex",paddingTop:"24px"},taskNumber:{paddingLeft:"10px",margin:"0",color:t.grey[600]},taskInfo:{paddingLeft:"20px"},taskTitle:{paddingTop:"22px",margin:"0"},taskDescription:{color:t.grey[700],marginTop:"5px",marginBottom:"10px",fontSize:a.fabricFontSize("small")}})}));function c(e){const t=l();const{task:a,index:n}=e;const{files:o}=a;const c=Object.keys(o).map((e=>o[e]));return(0,s.Z)("div",{className:t.task},void 0,(0,s.Z)("div",{className:t.taskIndex},void 0,(0,s.Z)(i.Checkbox,{checked:a.completed,disabled:true,onChange:null,size:"biggie",value:""}),(0,s.Z)("h4",{className:t.taskNumber},void 0,n+1,".")),(0,s.Z)("div",{className:t.taskInfo},void 0,(0,s.Z)("h3",{className:t.taskTitle},void 0,a.name),(0,s.Z)("p",{className:t.taskDescription},void 0,a.description),c.length>0&&(0,s.Z)(r.r,{files:c,view:"display"})))}var $=a(26570);const d=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({headerTitle:{fontWeight:a.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},blankStateDivider:{margin:"35px 0 70px"},blankStateOverride:{marginBottom:"88px","& p":{maxWidth:"none"}},tasksWrapper:{backgroundColor:t.grey[100],borderRadius:"3px",border:`1px solid ${t.grey[300]}`,padding:"10px"},progress:{display:"flex",alignItems:"center"},progressBarBorder:{height:"15px",backgroundColor:t.grey[300],borderRadius:"10px",width:"100px"},progressBar:{backgroundColor:t.primary.main},progressText:{color:t.grey[600]},taskList:{marginTop:"10px",border:`1px solid ${t.grey[300]}`,borderTop:`3px solid ${t.primary.main}`,backgroundColor:t.background.default,"& > div":{"&:not(:last-child)":{borderBottom:`1px solid ${t.grey[300]}`}}}})}));function u(e){const t=d();const{isNHPT:a,tasks:r}=e;let l=0;const[u,h]=(0,n.useState)(l);(0,n.useEffect)((()=>h(l)));function p(){r.sort(((e,t)=>+e.nhpSortOrder-+t.nhpSortOrder));return r.map(((e,t)=>{if(e.completed)l++;return(0,s.Z)(c,{index:t,task:e},t)}))}return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(o.Message,{text:$._("Tasks to Complete")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(o.Message,{text:$._(`We want to make sure that you are ready to go on your first day. Please complete the tasks below so we can get you up and running quickly.`)})),(0,s.Z)("hr",{className:t.divider}),a&&(0,s.Z)("div",{className:"TasksBlankStateWrapper"},void 0,(0,s.Z)("div",{className:t.blankStateOverride},void 0,(0,s.Z)(i.BlankState,{icon:"fab-clipboard-outlined-100x120",subtitle:$.__("Youll be able to preview this step on the actual New Hire Packet after tasks are added."),title:$.__(`Because this is just the template, there arent any tasks to preview.`)}))),!a&&(0,s.Z)("div",{className:t.tasksWrapper},void 0,(0,s.Z)("div",{className:t.progress},void 0,(0,s.Z)("div",{className:"ProgressBar ProgressBar--tasklist fl-left"},void 0,(0,s.Z)("div",{className:"ProgressBar__bar ProgressBar__bar--tasklist branded-icon baseColorBg",style:{width:`${u/r.length*100}%`}})),(0,s.Z)("h5",{className:t.progressText},void 0,u," of ",r.length," Completed")),(0,s.Z)("div",{className:t.taskList},void 0,p()))))}},84313:(e,t,a)=>{"use strict";a.d(t,{E:()=>h});var s=a(89835);var n=a(23321);var i=a(59155);var o=a(37194);const r=(0,i.makeStyles)((e=>{let{palette:t,typography:a}=e;return(0,i.createStyles)({contactContainer:{marginBottom:"30px"},header:{},headerTitle:{fontWeight:a.fontWeightMedium,fontSize:"32px"},headerDesc:{fontSize:a.fabricFontSize("biggie"),color:t.grey[700]},divider:{margin:"35px 0"},boxContent:{display:"flex","& h2":{fontWeight:a.fontWeightMedium}},leftContent:{flex:"50%"},firstDayList:{listStyle:"none",margin:"0",padding:0,"& li":{display:"flex",fontSize:a.fabricFontSize("biggie"),alignItems:"center",marginTop:"20px",flexWrap:"wrap",flexDirection:"row","& div":{display:"flex","& .spacer":{flex:"row",marginLeft:"10px"}}}},firstDayIcon:{width:"24px",display:"flex",alignItems:"center",justifyContent:"center"},directionsLink:{display:"flex",flexBasis:"100%",marginLeft:"36px","& a":{fill:t.info.main,color:t.info.main,"&:hover":{fill:t.info.dark,color:t.info.dark},"& span":{marginLeft:"5px"}}},firstDayIconLink:{marginRight:"5px"},rightContent:{flex:"50%"},contactInfo:{marginTop:"20px",display:"flex",lineHeight:a.fabricLineHeight("small")},contactImg:{marginRight:"20px"},contactHead:{fontSize:a.fabricFontSize("biggie"),fontWeight:a.fontWeightMedium},contactSub:{fontSize:a.fabricFontSize("small"),color:t.gray[700]},otherInstructions:{fontSize:a.fabricFontSize("large"),lineHeight:a.fabricLineHeight("large"),color:t.gray[700],"& p":{marginTop:"10px"}}})}));var l=a(19307);var c=a(51341);var $=a(26570);function d(e){const t=(0,c.Z)(e,[c.Z.ISO_8601,"hh:mm:ss"]).format("h:mm A");return t==="Invalid date"?null:t}function u(e){let t;const a=c.Z.defaultFormat;if(e){t=(0,c.Z)(e).format(a)}else{return undefined}return t==="Invalid date"?undefined:t}function h(e){const t=r();const{withHeader:a,firstDayDate:n,employeeName:h,companyName:p,contact:m,arriveByTime:f,location:g,otherInstructions:v}=e;const y=u(n);return(0,s.Z)("div",{},void 0,a&&(0,s.Z)("div",{className:t.header},void 0,(0,s.Z)("h2",{className:t.headerTitle},void 0,(0,s.Z)(o.Message,{params:[h],text:$._("Welcome Aboard, {1}!")})),(0,s.Z)("p",{className:t.headerDesc},void 0,(0,s.Z)(o.Message,{params:[p],text:$._(`We are excited that you are joining us here at {1}. We can't wait for you to start. We've included some helpful information and ask that you complete this new employee packet so you can hit the ground running on your first day. If you have any questions, please don't hesitate to ask.`)})),(0,s.Z)("hr",{className:t.divider})),(0,s.Z)("div",{className:t.boxContent},void 0,(0,s.Z)("div",{className:t.leftContent},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("h2",{},void 0,$._("Your First Day")),(0,s.Z)("ul",{className:t.firstDayList},void 0,(0,s.Z)("li",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:t.firstDayIcon},void 0,(0,s.Z)(i.Icon,{brand:true,name:"fab-calendar-24x24"})),(0,s.Z)("span",{className:"spacer"},void 0,y||(0,c.Z)(Date.now()).add(14,"days").format(c.Z.defaultFormat)))),f&&(0,s.Z)("li",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:t.firstDayIcon},void 0,(0,s.Z)(i.Icon,{brand:true,name:"fab-clock-24x24"})),(0,s.Z)("span",{className:"spacer"},void 0,d(f)))),g&&(0,s.Z)("li",{},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:t.firstDayIcon},void 0,(0,s.Z)(i.Icon,{brand:true,name:"fab-location-18x24"})),(0,s.Z)("span",{className:"spacer"},void 0,g)),(0,s.Z)("div",{className:t.directionsLink},void 0,(0,s.Z)("a",{href:`https://maps.google.com/?q=${g}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,s.Z)(i.Icon,{name:"fab-compass-14x14"}),(0,s.Z)("span",{},void 0,"Map & Directions"))))))),(0,s.Z)("div",{className:t.rightContent},void 0,m&&(0,s.Z)("div",{className:t.contactContainer},void 0,(0,s.Z)("h2",{},void 0,$._("Who to Contact")),(0,s.Z)(l.k,{employee:m})),v&&(0,s.Z)("div",{className:t.otherInstructions},void 0,(0,s.Z)("h2",{},void 0,$._("Other Instructions")),v.split("\n").map(((e,t)=>(0,s.Z)("p",{},t,e)))))))}},83238:(e,t,a)=>{"use strict";a.d(t,{bX:()=>n,hK:()=>i,n$:()=>s});function s(e,t){return(e==="yes"||e===true)&&t.length>0&&(t[0].question.length>0||t.length>1)}function n(e,t){const a=Object.values(e);const s=a.map((e=>{delete e.count;return Object.values(e)}));const n=s.flat(1);n.forEach((e=>{if(e.fileIds.length>0){const a=Object.keys(e.files);a.forEach((a=>{e.files[a]=t[e.files[a].fileId]}))}}));return n}function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=[];e.map((e=>{if(e.question.trim().length>0){t.push(e)}return e}));return t}},38328:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});var s=a(89835);var n=a(23321);var i=a(98675);var o=a(37194);var r=a(97106);var $=a(26570);class l extends n.PureComponent{static get className(){return"WelcomeEmailPreviewer"}_renderGTKYQuestions(e){const{employeeData:t,getToKnowYouQuestions:a=[]}=this.props;if(e){return(0,s.Z)("div",{className:"WelcomeEmailPreviewer__placeholderQuestion"},void 0,(0,s.Z)(r.O,{classes:"PlaceholderQuestion__icon",fabricColorName:"gray4",iconName:"fab-person-circle-question-36x36"}),(0,s.Z)("div",{className:"PlaceholderQuestion__text"},void 0,$.__("The Get to Know You questions and the employee responses will show in this space.")))}return(0,s.Z)("div",{className:"WelcomeEmailPreviewerQuestions"},void 0,(0,s.Z)("h4",{className:"WelcomeEmailPreviewerQuestions__title"},void 0,"Get to Know ",t.firstName),a.map(((e,t)=>(0,s.Z)("div",{},t,(0,s.Z)("div",{className:"WelcomeEmailPreviewerQuestions__question"},void 0,e),(0,s.Z)("div",{className:"WelcomeEmailPreviewerQuestions__answer"},void 0,"Employee's answer will go here.")))))}render(){const{body:e="",employeeBadgeComponent:t,employeeData:a,isOpen:n,primaryAction:l,showQuestionsPlaceholder:c=false}=this.props;const{fullName:d,firstName:u,jobTitle:h}=a;return(0,s.Z)(i.u,{alternativeActionText:null,contentHasPadding:false,isOpen:n,onClose:l,primaryAction:l,primaryActionText:$.__("Close"),title:$.__("Preview of Get to Know You Email")},void 0,(0,s.Z)("div",{className:"WelcomeEmailPreviewer"},void 0,(0,s.Z)("div",{className:"WelcomeEmailPreviewer__emailHeader"},void 0,(0,s.Z)("div",{className:"EmailHeader__icon"},void 0,(0,s.Z)(r.O,{fabricColorName:"white",iconName:"fab-hi-64x64"})),(0,s.Z)("p",{className:"EmailHeader__title"},void 0,(0,s.Z)(o.Message,{params:[d],text:$._("Welcome {1}!")})),h!==""&&(0,s.Z)("p",{className:"EmailHeader__subTitle"},void 0,(0,s.Z)(o.Message,{params:[u,h],text:$._("{1} joins us today as {2}")})),(0,s.Z)("div",{className:"borderBar"})),t&&(0,s.Z)("div",{className:"WelcomeEmailPreviewer__badgeContainer"},void 0,t),(0,s.Z)("div",{className:"WelcomeEmailPreviewer__emailBody"},void 0,(0,s.Z)("div",{className:"WelcomeEmailPreviewer__emailBodyText"},void 0,e),(0,s.Z)("hr",{}),(0,s.Z)("div",{},void 0,this._renderGTKYQuestions(c)))))}}},31810:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>ie,rz:()=>X});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(44119);var l=a(59155);var c=a(17145);var d=a(51341);var u=a(21198);var h=a(26136);function p(e,t,a){if(t<=0){return e}let s=1;let n=e.clone();while(s<=t){n.add(1,"days");const e=n.day();if(!(e===0||e===6||a.indexOf(n.format("YYYY-MM-DD"))>-1)){++s}}return n}var $=a(26570);const m=(0,d.Z)().startOf("day");const f=3;const g={NO_WEEKENDS:$.__("Pay days cannot be on a weekend"),THREE_DAYS_MINIMUM:$.__("Must be at least three business days from today"),BEFORE_END_DATE:$.__("Pay days cannot be before the period end date"),BANK_HOLIDAY:$.__("Pay days cannot be on a bank holiday")};class v extends n.Component{static get className(){return"ChangeDate"}constructor(e){super(e);(0,r.Z)(this,"_calculateDisabledDays",(()=>{const{payDate:e}=this.props;const{payPeriodEndDate:t}=e;const a=(0,d.Z)(t);const s=a.diff(this.threeBusinessDaysFromTodayDate,"days")<0?this.threeBusinessDaysFromTodayDate:a;return Array.from({length:s.diff(m,"days")}).map(((_,e)=>m.clone().add(e,"days").format("YYYY-MM-DD")))}));(0,r.Z)(this,"_createPickerSettings",(()=>{const{disableDays:e}=this.props;const{selectedDate:t}=this.state;return{start:t,min:m,max:m.clone().startOf("month").add(14,"months").endOf("month"),disableWeekends:true,disableDays:[...this._calculateDisabledDays(),...e]}}));(0,r.Z)(this,"_handleDateChange",(e=>{if(e===undefined){this.setState({selectedDate:e});return}this.setState({selectedDate:e,errorReason:this._isValidateDate(e)})}));(0,r.Z)(this,"_isValidateDate",(e=>{if(e===undefined){return"NOT_SET"}const{payDate:t,disableDays:a=[]}=this.props;const{payPeriodEndDate:s}=t;const n=(0,d.Z)(e);const i=n.day();if(i===0||i===6){return"NO_WEEKENDS"}if(n.diff(this.threeBusinessDaysFromTodayDate,"days")<0){return"THREE_DAYS_MINIMUM"}if(n.isBefore((0,d.Z)(s),"day")){return"BEFORE_END_DATE"}if(a.indexOf((0,d.Z)(e).format("YYYY-MM-DD"))>-1){return"BANK_HOLIDAY"}return null}));(0,r.Z)(this,"_handleSubmitFutureDate",(()=>{const{payDate:e,onSave:t}=this.props;const{selectedDate:a}=this.state;const s=this._isValidateDate(a);if(s){y();this.setState({errorReason:s});return}window.closeMessage();window.BambooHR.Modal.setState({sheetProps:{isProcessing:true}},true);o().post("/settings/pay_schedules/pay_cycles/update_pay_date",{payCycles:[{id:e.id,payDate:(0,d.Z)(a).format("YYYY-MM-DD")}]}).then((()=>{t(e.id,a);window.setMessage($.__("Pay date successfully updated."),"success")})).catch((e=>{if(e.response.data?.error?.code==="PAY_CYCLE_APPROVED"){window.setMessage($.__("Whoops. This pay cycle has been started in TRAXPayroll, and it can't be updated in BambooHR. Please reach out to our Payroll Support team to make changes (866-872-9123 or payrollhelp@bamboohr.com)."),"error")}else{y()}window.BambooHR.Modal.setState({sheetProps:{isProcessing:false}},true)}))}));const{payDate:t,disableDays:a=[]}=this.props;this.state={selectedDate:t.payDate,errorReason:null};this.threeBusinessDaysFromTodayDate=p(m,f,a)}componentDidMount(){window.BambooHR.Modal.setState({sheetProps:{primaryAction:this._handleSubmitFutureDate}},true)}render(){const{payDate:e}=this.props;const{errorReason:t}=this.state;return(0,s.Z)("form",{className:"js-noValidate "},void 0,(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:(0,u.classNameFromObject)("fab-FormColumn",{error:!!t})},void 0,(0,s.Z)("label",{className:(0,u.classNameFromObject)("fab-Label fab-Label--required",{"fab-Label--error":!!t}),htmlFor:"future-date-change"},void 0,$.__("Pay date for %1$s - %2$s",(0,d.Z)(e.payPeriodStartDate).format(),(0,d.Z)(e.payPeriodEndDate).format())),(0,s.Z)("div",{className:"fab-FormField"},void 0,(0,s.Z)(h.Z,{cssClasses:{single:t?"fab-TextInput--error":""},id:"future-date-change",name:"futureDateChange",onChange:this._handleDateChange,required:true,settings:this._createPickerSettings(),type:"date"})),t!==null&&(0,s.Z)("div",{className:"fab-FormField"},void 0,(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,g[t])))))}}function y(){window.setMessage($.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")}var b=a(26570);const w=(0,d.Z)().startOf("day");const S=3;class C extends n.Component{static get className(){return"PayScheduleCalendar"}constructor(e){super(e);(0,r.Z)(this,"_createSheetSettings",(()=>({onClose:()=>{this.setState({editingId:null,shouldRenderPicker:false});window.closeMessage()},onOpen:()=>{setTimeout((()=>{this.setState({shouldRenderPicker:true})}))},visible:true,options:{footer:{buttons:{primary:{text:b.__("Save"),action:this._handleSubmitFutureDate}}}}})));(0,r.Z)(this,"_handleClickEditFutureDate",(e=>{const{byId:t}=this.state;this.setState({editingId:e,selectedDate:t[e].payDate,errorReason:null})}));(0,r.Z)(this,"_handleDateChange",(e=>{if(e===undefined){this.setState({selectedDate:e});return}this.setState({selectedDate:e,errorReason:this._isValidateDate(e)})}));(0,r.Z)(this,"_handleSubmitFutureDate",(()=>{const{byId:e,editingId:t,selectedDate:a}=this.state;const s=this._isValidateDate(a);if(s){x();this.setState({errorReason:s});return}window.closeMessage();window.SimpleModal.Footer.Buttons.startProcessing();o().post("/settings/pay_schedules/pay_cycles/update_pay_date",{payCycles:[{id:t,payDate:a}]}).then((s=>{let{data:n}=s;e[t].shiftedByUser=window.SESSION_USER.preferredName;e[t].payDate=a;this.setState({editingId:null,byId:{...e}});window.setMessage(b.__("Pay date successfully updated."),"success")})).catch((()=>{x();window.SimpleModal.Footer.Buttons.stopProcessing()}))}));(0,r.Z)(this,"_renderIsShiftedIcon",(e=>{if(typeof e.shiftedByUser==="string"&&e.shiftedByUser.length>0){return(0,s.Z)(c.Z,{settings:{template:{name:"tooltip-standard",data:{content:b.__("Manually updated"),textAlign:"center"}}},wrapperClassName:"PS_Calendar__adjustedIcon"},void 0,(0,s.Z)(l.Icon,{name:"fab-wrench-12x12"}))}if(e.shifted==="yes"){return(0,s.Z)(c.Z,{settings:{template:{name:"tooltip-standard",data:{content:b.__("Pay date adjusted for weekend or holiday"),textAlign:"center"}}},wrapperClassName:"PS_Calendar__adjustedIcon"},void 0,(0,s.Z)(l.Icon,{name:"fab-info-circle-13x13"}))}return null}));(0,r.Z)(this,"_calculateDisabledDays",(()=>{const{byId:e,editingId:t}=this.state;const{payPeriodEndDate:a}=e[t];const s=(0,d.Z)(a);const n=s.diff(this.threeBusinessDaysFromTodayDate,"days")<0?this.threeBusinessDaysFromTodayDate:s;return Array.from({length:n.diff(w,"days")}).map(((_,e)=>w.clone().add(e,"days").format("YYYY-MM-DD")))}));(0,r.Z)(this,"_isValidateDate",(e=>{if(e===undefined){return"NOT_SET"}const{disableDays:t=[]}=this.props;const{byId:a,editingId:s}=this.state;const{payPeriodEndDate:n}=a[s];const i=(0,d.Z)(e);const o=i.day();if(o===0||o===6){return"NO_WEEKENDS"}if(i.diff(this.threeBusinessDaysFromTodayDate,"days")<0){return"THREE_DAYS_MINIMUM"}if(i.isBefore((0,d.Z)(n),"day")){return"BEFORE_END_DATE"}if(t.indexOf(e)>-1){return"BANK_HOLIDAY"}return null}));(0,r.Z)(this,"_launchSheet",(e=>{const{disableDays:t}=this.props;const{byId:a}=this.state;window.BambooHR.Modal.setState({sheetProps:{isOpen:true,primaryActionText:b.__("Save"),onClose:()=>{window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)},title:b.__("Change Pay Date"),content:(0,s.Z)(v,{disableDays:t,onSave:(e,t)=>{a[e].shiftedByUser=`${window.SESSION_USER.firstName} ${window.SESSION_USER.lastName}`;a[e].payDate=t;window.BambooHR.Modal.setState({sheetProps:null},true);this.setState({byId:{...a}})},payDate:e})}},true)}));const{payPeriods:t,isPreview:a,disableDays:i=[]}=e;const{allIds:u,byId:h}=t.reduce(((e,t)=>{const s=a?t.payPeriodStartDate:t.id;e.allIds.push(s);e.byId[s]=t;return e}),{allIds:[],byId:{}});this.state={allIds:u,byId:h,editingId:null,shouldRenderPicker:false,selectedDate:null,errorReason:null};this.formRef=(0,n.createRef)();this.validator=null;this.threeBusinessDaysFromTodayDate=p(w,S,i)}_makeColumns(){const{isPreview:e}=this.props;const{byId:t}=this.state;const a=[{header:b.__("Period Start"),cell:e=>(0,d.Z)(t[e].payPeriodStartDate).format()},{header:b.__("Period End"),cell:e=>(0,d.Z)(t[e].payPeriodEndDate).format()},{header:b.__("Pay Date"),cell:e=>{const a=t[e];const n=a.shifted==="yes"||typeof a.shiftedByUser==="string"&&a.shiftedByUser.length>0;if(n){return(0,s.Z)("div",{style:{display:"flex",alignItems:"center"}},void 0,(0,d.Z)(a.payDate).format(),n&&this._renderIsShiftedIcon(a))}return(0,d.Z)(a.payDate).format()}}];if(!e){a.push({headerAriaLabel:b.__("Edit pay date"),showOnHover:true,cell:{type:"actions",actions:e=>{const a=t[e];const s=(0,d.Z)(a.payDate);const n=s.diff(w,"days")>3;return[{icon:"fab-pencil-16x16",action:n?()=>this._launchSheet(a):null,tooltipContent:n?b.__("Change Pay Date"):b.__("Pay dates within three days cannot be changed")}]}}})}return a}render(){const{allIds:e}=this.state;return(0,s.Z)("div",{className:"PS_Calendar"},void 0,(0,s.Z)(l.Table,{caption:b.__("Upcoming pay schedules for the next year"),columns:this._makeColumns(),rowKey:e=>e,rows:e}))}}function x(){window.setMessage(b.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")}var T=a(14234);var E=a.n(T);var k=a(26570);const Z={0:k.__("Which Sundays?"),1:k.__("Which Mondays?"),2:k.__("Which Tuesdays?"),3:k.__("Which Wednesdays?"),4:k.__("Which Thursdays?"),5:k.__("Which Fridays?"),6:k.__("Which Saturdays?")};const N=k("body");N.on("ba:selectChange",".js-biweekly-select-day",D);N.on("ba:selectChange",".js-biweekly-which-week",P);function I(e){const t=(0,d.Z)().day();return t>e?7+parseInt(e):e}function A(e,t){const a=(0,d.Z)().day(I(t.day()));const s={first:a.clone(),second:a.clone().add(1,"week")};const n=a.diff(t,"week");let i=1;if(n===0&&t.format()===s.second.format()||n%2===1){i=2}const o=microTemplate(E(),s);e.find(".js-biweekly-which-week").replaceWith(o);k(e.find(".js-biweekly-which-week").children()[i-1]).attr("selected",true)}function F(e,t){e.find(".js-biweekly-which-days").text(Z[t])}function M(e,t){k(".js-biweekly-start-input").val(t)}function D(e){const t=k(e.target);const a=t.closest(".fieldRow");const s=(0,d.Z)().day(I(e.originalEvent.detail.value));F(a,s.day());A(a,s);M(a,s.format())}function P(e){const t=k(e.target);const a=t.closest(".fieldRow");const s=t.find(":selected").attr("data-biweekly-date");M(a,s)}function O(){k(".js-biweekly-start-input").each(((e,t)=>{const a=k(t);const s=a.closest(".fieldRow");let n;if(a.val()===""){const e=s.find(".js-biweekly-select-day").val();n=(0,d.Z)().day(I(e))}else{n=(0,d.Z)(a.val(),d.Z.defaultFormat)}const i=n.day();const o=s.find(".js-biweekly-select-day select").val();k(s.find(".js-biweekly-select-day").children()[o]).attr("selected",false);k(s.find(".js-biweekly-select-day").children()[i]).attr("selected",true);F(s,i);A(s,n);M(s,n.format())}))}var L={setFields:O};var R=a(37194);var B=a(73641);function j(e,t){if(e==="daily"){return[]}if(e==="bi-weekly"){return(0,d.Z)(t,"YYYY-MM-DD").format()}if(e==="semi-monthly"){return t.split(" ")}return t.split(" ").map((e=>e.split("/").reverse())).reduce(((e,t)=>e.concat(t)),[])}function H(e,t){if(e==="daily"){return null}if(e==="bi-weekly"){return(0,d.Z)(t,d.Z.defaultFormat).format("YYYY-MM-DD")}if(e==="semi-monthly"){return t.join(" ")}if(t.length>1){return(0,B.chunk)(t,2).map((e=>e.reverse().join("/"))).join(" ")}return t[0]}var q=a(26570);function W(e){const{paySchedule:t}=e;if(!t.id){return}const a=q(".js-ps-add-edit-form select");const s=q(".js-no-edit-container select");const n=q("select.js-ps-frequency-dropdown");n.val(t.frequency);if(t.count>0||e.hasTimesheetsAssociatedToPaySchedule){s.attr("disabled","disabled")}U(t.frequency,t.modifier);a.trigger("liszt:updated")}function U(e,t){const a=j(e,t);if(e==="bi-weekly"){q('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val(a)}else{q(`[data-ps-section="${e}"] select`).each(((e,t)=>{t.value=a[e]}))}}function z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Function.prototype;const a=e.id?`${e.id}/editDialog`:"addDialog";window.SimpleModal.openModal({url:`/settings/pay_schedules/${a}`,title:e.id?q.__("Edit Pay Schedule"):q.__("Add Pay Schedule"),classes:"jquery-padding no-chosen-breakout",footer:{buttons:{primary:{text:e.id?q.__("Save"):q.__("Add"),action(){G(t)}},secondary:{show:true,text:q.__("Preview"),action:()=>X(J(),true)}}},callbacks:{open:{after(){ee()}}}})}function Y(e){const t=q.__("Delete Pay Schedule");o().get(`/settings/pay_schedules/${e.id}/delete`).then((a=>{let{data:i}=a;const{count:r}=i;window.BambooHR.Modal.setState({isOpen:true,title:t,headline:(0,s.Z)(R.Message,{params:[e.name],text:q._('Are you sure you want to delete the **"{1}"** pay schedule?')}),type:"aggressiveConfirmation",primaryActionText:q.__("Delete Pay Schedule"),primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);o()["delete"](`/settings/pay_schedules/${e.id}/delete`).then((e=>{let{data:t}=e;if(t.ret==="ERROR"){window.setMessage(t.message,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}else{window.location.reload(true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},secondaryActionText:q.__("Keep Pay Schedule"),secondaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,content:r>0&&(0,s.Z)(n.Fragment,{},void 0,r===1&&(0,s.Z)(R.Message,{params:[r],text:q._("You have **{1} active employee** with this pay schedule.")},"first-part"),r!==1&&(0,s.Z)(R.Message,{params:[r],text:q._("You have **{1} active employees** with this pay schedule.")},"first-part")," ",(0,s.Z)(R.Message,{text:q._("We suggest moving employees to a new pay schedule before deleting this one.")},"second-part"))})})).catch((()=>{window.setMessage(q.__("We were unable to delete your pay schedule. Please try again."),"error")}))}function G(e,t){const a=q("#payschedule_form");const s=!!window.SimpleModal.getTopModalSelector();if(!a.valid()){return}if(s){window.SimpleModal.Footer.Buttons.Primary.startProcessing()}const n=J();V(n,e,t)}function V(e,t,a){const s=!!window.SimpleModal.getTopModalSelector();q.post("/settings/pay_schedules/save",e,(e=>{if(s){window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}if(e.ret==="ERROR"){window.setMessage(e.message,"error");a()}else{t(e);if(s){window.SimpleModal.closeModal()}}}),"json").fail((()=>{window.errorFallBack();a()}))}let K=false;function X(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(K){return}K=true;o().get(`/settings/pay_schedules/calendar-preview${t?"":"ById"}`,e).then((a=>{let{data:{payCycles:n,bankHolidays:i=[]}}=a;window.BambooHR.Modal.setState({isOpen:true,title:t?q.__("Preview Pay Calendar"):`${q.__("Pay Calendar")} - ${e.name}`,headline:q.__("Pay Schedule"),headerType:"text",primaryAction:()=>window.BambooHR.Modal.setState({isOpen:false}),primaryActionText:q.__("Done"),alternativeActionText:null,contentHasPadding:false,content:(0,s.Z)(C,{disableDays:i.map((e=>e.date)),isPreview:t,payPeriods:n})})})).catch(window.errorFallBack).finally((()=>{K=false}))}function J(){const e=q("#payschedule_form");const t=q("select.js-ps-frequency-dropdown").val();return{frequency:t,id:e.find("[name=id]").val(),listValueId:e.find("[name=listValueId]").val(),name:e.find("[name=name]").val(),modifier:Q(t),payDateDays:e.find("[name=payDateDays]").val(),weekendAndHoliday:e.find("[name=weekendAndHoliday]").val()}}function Q(e){let t;if(e==="bi-weekly"){t=q('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val()}else{t=q(`[data-ps-section="${e}"] select`).map(((e,t)=>t.value)).toArray()}return H(e,t)}function ee(){const e=q("#js-ps-modal-data");const t=JSON.parse(e.html());const a=q("#payschedule_form");W(t);L.setFields();const s=q(".js-ps-frequency-dropdown");s.change((function(){const e=q(this);const t=e.find("option:selected").val();const a=`[data-ps-section="${t}"]`;q(".js-ps-sub-field").hide().filter(a).show().initializeElements()}));const n=s.find("option:selected").val();q(`.js-ps-sub-field[data-ps-section="${n}"]`).show().initializeElements();a.bhrValidate({rules:{"semimonthlyMod1[]":{sameSiblingValue:"select.js-semimonthly"},"semimonthlyMod2[]":{sameSiblingValue:"select.js-semimonthly"}}});if(window.SimpleModal.getTopModalSelector()){window.SimpleModal.setPosition();window.SimpleModal.Footer.Buttons.Primary.setAttr("data-bi-id","settings-add-pay-schedule-button")}}function te(e){z({},e)}function ae(e,t){z(e,t)}function se(e){Y(e)}function ne(e){X(e)}var ie={addModal:te,editModal:ae,removeModal:se,previewModal:ne}},4029:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>w});var s=a(49463);var n=a(92959);var i=a.n(n);var $=a(26570);let o;let r;let l;let c;let d;function u(e,t){let a="";Object.keys(e).forEach((function(s){a+=`\n\t\t\t<li class="PlaceholderWidget__listItem js-placeholder-widgetListItem" data-normalized-name="${e[s].name.toLowerCase()}">\n\t\t\t\t<div class="PlaceholderWidget__listItem-wrap">\n\t\t\t\t\t<div class="PlaceholderWidget__listItem-name">${e[s].name}</div>\n\t\t\t\t\t<div class="PlaceholderWidget__listItem-example">Ex: ${e[s].example}</div>\n\t\t\t\t</div>\n\t\t\t\t<img\n\t\t\t\t\tdata-is-placeholder="true"\n\t\t\t\t\tid="${s}"\n\t\t\t\t\tclass="js-placeholder-img"\n\t\t\t\t\tdraggable="true"\n\t\t\t\t\tsrc="${t[s].drag}"\n\t\t\t\t\tdata-placeholder-name="${s}"\n\t\t\t\t\talt="${e[s].name}"\n\t\t\t\t/>\n\t\t\t</li>\n\t\t`}));$(a).insertAfter(o.find(".js-placeholder-widgetFilterWrap"))}function h(e,t){o=$(".js-placeholder-widgetList");u(e,t);d=$(".js-placeholder-widgetListItem");r=$(".js-placeholder-widgetListEmpty");l=$(".js-placeholder-widgetFilter");l.on("input",g);l.removeClass("PlaceholderWidget__listFilter--muteFocusOnLoad");l.attr("readonly",false);c=$(".js-placeholder-widgetFilterClear");c.on("click",f);$(".js-placeholder-img").on("dragstart mouseup",(function(){let e=this;this.style.opacity=1;setTimeout((function(){e.removeAttribute("style")}))})).on("mousedown",(function(e){this.style.opacity=0;this.style.width=this.naturalWidth+"px";this.style.height=this.naturalHeight+"px";this.style.top=e.offsetY-this.naturalHeight/2+"px";this.style.left=e.offsetX-1+"px"})).on("mouseover",(function(){$(this).parent().removeClass("dragEnded")})).on("dragend",(function(){$(this).parent().addClass("dragEnded")})).on("click",(function(e){tinyMCE.execCommand("insert",$(this).attr("id"))}))}function p(){$(".js-placeholder-widgetList").find(".PlaceholderWidget__listItem").remove();$(".js-placeholder-img").off("dragstart mouseup").off("mousedown").off("dragend").off("click")}function m(e){c.toggle(!!e);d.each((function(){var t;const a=$(this);a.toggle(i()(t=a.data("normalized-name")).call(t,e))}));r.toggle(!d.find(":visible").length)}function f(){l.val("");m("");l.blur();l.focus()}function g(e){const t=e.target.value.toLowerCase();m(t)}const v={create:h,destroy:p};var y=v;var b={};b.Generator=s.Z;b.Widget=y;var w=b},49463:(e,t,a)=>{"use strict";a.d(t,{p:()=>E});var s=a(38592);const n={};const i=13;const o=4;const r=18;const l=0;const c=2;const d=1;let u;let h;let p;let m;let f;const g="#bd5800";const v="#fff";function y(e){u=i*e;h=o*e;p=r*e;m=l*e;f=c*e}function b(e,t,a,s,n,i){if(s<2*i){i=s/2}if(n<2*i){i=n/2}e.beginPath();e.moveTo(t+i,a);e.arcTo(t+s,a,t+s,a+n,i);e.arcTo(t+s,a+n,t,a+n,i);e.arcTo(t,a+n,t,a,i);e.arcTo(t,a,t+s,a,i);e.closePath();return e}function w(e){const t=e.getContext("2d");let a=e.width;let s=e.height;const n={x:[],y:[]};const i=t.getImageData(0,0,e.width,e.height);let o;let r;let l;for(r=0;r<s;r++){for(o=0;o<a;o++){l=(r*a+o)*4;if(i.data[l+3]>0){n.x.push(o);n.y.push(r)}}}n.x.sort((function(e,t){return e-t}));n.y.sort((function(e,t){return e-t}));const c=n.x.length-1;a=n.x[c]-n.x[0];s=n.y[c]-n.y[0];const d=document.createElement("canvas");d.width=a+(h+m)*2;d.height=p+m*2;return d}function S(e,t,a,s){if(typeof s==="undefined"){s=h+m}const n=e.getContext("2d");n.font=`${u}px lato`;n.fillStyle=a||"#444";n.fillText(t,s,u+d);return e}function C(e){const t=document.createElement("canvas");t.width=1e3;t.height=p+m*2;return w(S(t,e,"#000",0))}function x(e,t,a){let s=e.getContext("2d");if(m>0){s=b(s,m/2,m/2,e.width-m,e.height-m,f);let t=a||"#cccccc";t=`#${(parseInt(t.substring(1),16)-parseInt(303030,16)).toString(16)}`;s.strokeStyle=t;s.lineWidth=m;s.stroke()}else if(f>0){s=b(s,0,0,e.width,e.height,f)}else{s.rect(0,0,e.width,e.height)}s.fillStyle=t||"#e0e0e0";s.fill();return e}function T(){if(window.matchMedia){const e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return e&&e.matches||window.devicePixelRatio>1}return false}function E(e){e=e.replace("&amp;","&");y(T()?2:1);let t=C(e);const a=Z(t,e,"","","");const n=Z(t,e,"#686868","#555","#fff");const i=Z(t,e,(0,s.getFabricBrandColor)(),"","#fff");y(1);t=C(e);const o=Z(t,e,"#686868","#555","#fff");return{drag:o,selected:n,unselected:a,highlighted:i,name:e}}function k(e){for(const t in e){n[t]=E(e[t].name.replace("&amp;","&"))}s.Mediator.publish("placeholders:generator:post-build",n)}function Z(e,t,a,s,n){e=x(e,a,s);e=S(e,t,n);return e.toDataURL()}function N(e){e=I(e);y(T()?2:1);const t=C(e);const a=Z(t,e,g,g,v);return{drag:a,selected:a,unselected:a}}function I(e){e=e.replace("&amp;","&");e=e.replace("__"," ");e=e.replace("_"," ");e=e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}));return e}const A={get(){return n},generate(e){k(e)},generateInvalidPlaceholder(e){return N(e)}};t["Z"]=A},34387:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(73641);var n=a.n(s);var i=a(71251);class o extends i.Z{static get className(){return"Popover"}constructor(e,t){t=(0,s.extend)({themeClass:"Balloon--popover",closeX:true,push:18,tail:true,tailSize:11,minTailOnBalloon:12},t);super(e,t)}}},32344:(e,t,a)=>{"use strict";var $=a(26570);class s{static get className(){return"PrivateContent"}constructor(){$(document).on("click",".ba-privateContent",(function(e){$(this).removeClass("ba-privateContent")}))}}var n=new s},57607:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addAmountErrorMessage:()=>z,addLegend:()=>N,buildRequestPageCalculatorTable:()=>E,checkInputForLimits:()=>H,commentExistsInADenialModal:()=>ne,duplicateTimeOffRequest:()=>q,editTimeOff:()=>te,getDateInfo:()=>x,handleDuplicatedRequestForm:()=>se,initDatepicker:()=>Z,isTenYearsOrMore:()=>U,loadPTOmodal:()=>G,onBalanceCloseHandler:()=>T,onPageLoadSetup:()=>P,removeMobilePromotion:()=>k,requestTimeOffById:()=>ee,savePTOmodal:()=>Y,setActionDeny:()=>O,showNegativeBalanceWarningModal:()=>F,showTenYearWarningModal:()=>D,startDateLessThanEndDate:()=>W,storeEmployeeTimeOffRequest:()=>oe,sumAmounts:()=>j,updateDailyTotals:()=>B,validatePtoRequest:()=>I});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(77512);var l=a(98853);var c=a.n(l);var d=a(73641);var u=a.n(d);var h=a(82543);var p=a.n(h);var m=a(17842);var f=a.n(m);var g=a(393);var v=a(1891);var y=a(71141);var $=a(26570);let b=false;let w=false;function S(e){return p()(e.val(),p().defaultFormat).toDate()}function C(){if(window.Employee){return(0,n.Z)(g.Z,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:`${window.Employee.preferredName} ${window.Employee.lastName}`})}else if(window.common){return(0,n.Z)(g.Z,{imageAlt:"Image of employee",imageSrc:window.common.profilePictureUrl,subTitle:window.common.jobTitle,title:`${window.common.firstName} ${window.common.lastName}`})}return null}function x(e){const t=e.getMonth()+1;const a=e.getFullYear();const s=e.getDate();const n=`${a}-${t<10?"0":""}${t}-${s<10?"0":""}${s}`;for(let e=0;e<window.requests.length;++e){if(n>=window.requests[e].start&&n<=window.requests[e].end){return[true,window.requests[e].status]}}return[true,""]}function T(e,t,a){if(e===""||e===undefined){return false}if($(a).is(".pto-calendar-field2")){return false}if($(".js-pto-balances").length){$("#side-col").addClass("loading");const a=`/dashboard/ajax/dialog/pto/calculator.php?endDate=${encodeURIComponent(e)}`;$.ajax({url:a,dataType:"json",success(a){if(a){$("#side-col").removeClass("loading");if(t===true){window.ptoTotals=a.totals}if(a.data){const e=p()(a.endDate,p().defaultFormat);const t=p()();let s="";if(t.isSame(e,"d")){s=$.__("As of Today")}else{s=$.__("As of %1$s",e.format("ll"))}$(".js-calculate-as-of-date").text(s);return E(a)}else if(a.result=="ok"){$("#balanceCalc").val(e);$("#balance-selected-date").text(e);$("#pto-balances").html(a.content)}else{setMessage($.__("An error occurred while trying to calculate the future balances"),"error")}}},error(){setMessage($.__("An error occurred while trying to calculate the future balances"),"error");$("#side-col").removeClass("loading")}})}}function E(e){const t=$("#pto-balances");t.html(microTemplate($("#js-template-request-page-balances").html(),e));window.BambooHR.Components.Popover.purge();t.find(".js-balance-list-help-icon").each(((e,t)=>{const n=window.BambooHR.Components.Popover.create(t,{content:`${$.__(`This available time off is calculated based on hours worked.`)} ${$.__(`Since we dont know what hours you will be working in the future we cant calculate your future balance.`)} ${$.__(`Instead we are displaying your currently available time off.`)}`,title:$.__(`A time machine would be handy right now`),placement:"left",contentCssOverride:{"max-width":"410px","font-size":"14px"},titleCssOverride:{"font-size":"20px"}}).onShow((e=>a(e.triggerEl))).onHide((e=>s(e.triggerEl)));$(t).hover(a.bind(null,n.triggerEl),(()=>{if(!n.showing){s(n.triggerEl)}}))}));function a(e){$(e).attr("fill",window.BambooHR.Utils.getBrandColor())}function s(e){$(e).attr("fill","#b7b7b7")}}function k(){$.ajax({url:"/time_off/mobile_promotion/remove",type:"PUT"});$("#js-mobile-promotion").slideUp(200)}function Z(e){N(e);if(e==$(".pto-calendar-field2")[0]){const t=$(".pto-calendar-field1").datepicker("getDate");if(!t){$(".pto-calendar-field2").datepicker("option","minDate",0)}else{$(".pto-calendar-field2").datepicker("option","minDate",$(".pto-calendar-field1").datepicker("getDate"))}if(e.value==""){e.value=$(".pto-calendar-field1").val()}}}function N(e){if(e==$(".pto-calendar-field1")[0]||e==$(".pto-calendar-field2")[0]){setTimeout((function(){$("div#ui-datepicker-div div.ui-datepicker-buttonpane button:first").after('<ul id="pto-legend" style="display: none"><li class="approved"><span></span>Approved</li><li class="requested"><span></span>Requested</li></ul>')}),200)}}function I(e){if(U()){D();return false}if($(e).valid()){if(!j()){setMessage(window.defaultErrorMessage,"error");return false}const e=p()($("#startYmd").val(),p().defaultFormat);const t=p()($("#endYmd").val(),p().defaultFormat);const a=t.isBefore(e);if(a){W(true);setMessage($.__("The start date must be on or before the end date."),"error");window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);return false}const s=$('input[name="hours"]').val();let n=s;if(!$.isNumeric(s)){n=window.getFloatFromStringJS(s)}const i=$('select[name="type"]');const o=$(`.js-time-off-type ba-option[value="${i.val()}"]`);const r={type:o.text(),date:$("#startYmd").val(),typeBalance:window.ptoTotals[i.val()],requestAmount:s,remainingBalance:window.ptoTotals[i.val()]-n};if(!(0,d.isNil)(window.originalRequest)){window.originalRequest.hours=parseInt(window.originalRequest.hours);const e=$.datepicker.formatDate("yy-mm-dd",$("#startYmd").val());if(window.originalRequest.status=="approved"&&e>=window.originalRequest.startYmd&&window.originalRequest.timeOffTypeId==i.val()){r.remainingBalance+=parseInt(window.originalRequest.hours);r.typeBalance+=parseInt(window.originalRequest.hours)}}if(typeof window.confirmBalance==="undefined"){window.confirmBalance=false}if(window.employeeTimeOffPolicyTypes&&window.employeeTimeOffPolicyTypes[i.val()]!=="unlimited"&&r.remainingBalance.toFixed(2)<0&&window.confirmBalance){r.remainingBalance=r.remainingBalance.toFixed(2);r.typeBalance=r.typeBalance.toFixed(2);if(window.GLOBAL_DECIMAL_CHAR===","){r.remainingBalance=r.remainingBalance.replace(/\./,",");r.typeBalance=r.typeBalance.replace(/\./,",");r.requestAmount=r.requestAmount.replace(/\./,",")}if(typeof Inbox!=="undefined"){return true}F(r)}else{return true}}document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"));return false}function A(e){let{onClose:t,...a}=e;const[n,r]=(0,i.useState)(true);const[l,c]=(0,i.useState)(false);(0,i.useEffect)((()=>{if(!l){return}const e=$("#request");const t=ie(e);const a=$.param(t);const s=f().createCancelSource();f().post("/time_off/requests",a,{cancelToken:s.token}).then((()=>{window.location.href=e.data("doneUrl")})).catch((e=>{c(false);if(e.response.data){window.setMessage(e.response.data,"error")}else{errorFallBack()}}));return()=>{s.cancel()}}),[l]);return o().createElement(v.x5,(0,s.Z)({isOpen:n,isProcessing:l,onAfterClose:()=>t(),onConfirmOrCancel:e=>{if(e){c(true)}else{r(false)}},route:"/time-off/negative-balance-modal"},a))}function F(e){const t=document.createElement("div");document.body.appendChild(t);const a=()=>(0,l.unmountComponentAtNode)(t);const n={...e,isoDate:p()(e.date,p().defaultFormat).toISOString()};(0,r.s)(o().createElement(A,(0,s.Z)({onClose:a},n)),t)}function M(e){let{startDate:t,endDate:a,onAfterClose:s}=e;const[o,r]=(0,i.useState)(true);return(0,n.Z)(v.x5,{endDate:a,isOpen:o,onAfterClose:s,onRequestClose:()=>r(false),route:"/time-off/ten-year-warning-modal",startDate:t})}function D(){const e=p()($("#startYmd").val(),p().defaultFormat).toISOString();const t=p()($("#endYmd").val(),p().defaultFormat).toISOString();const a=document.createElement("div");document.body.appendChild(a);const s=()=>{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(e,e);B();(0,l.unmountComponentAtNode)(a)};(0,r.s)((0,n.Z)(M,{endDate:t,onAfterClose:s,startDate:e}),a)}function P(){const e={yearRange:"-70:+20",minDate:null,duration:0,showAnim:false,showOn:"button",beforeShowDay:x,buttonImage:"/images/color-branded-icons/holiday-cal.png",buttonImageOnly:false,buttonText:"",numberOfMonths:1,showButtonPanel:true,beforeShow:Z,onClose(e){T(e,true,this)}};const t={yearRange:"-70:+20",minDate:0,duration:0,showAnim:false,beforeShow(e){e.blur();window.trackAction("viewedFutureBalanceWeb",{type:"button"},"view")},buttonImageOnly:false,onClose:T,changeMonth:true,changeYear:true};if(GLOBAL_DATEPICKER_MASK!=undefined){e.dateFormat=GLOBAL_DATEPICKER_MASK;t.dateFormat=GLOBAL_DATEPICKER_MASK}$(".pto-calendar-field2").focus((function(){if(this.value==""){this.value=$(".pto-calendar-field1").val();$(this).trigger("change")}}));$(".pto-calendar-field1, .pto-calendar-field2").bhrdatepicker(e).attr("autocomplete","off").inputmask(window.GLOBAL_DATE_MASK);$("#request").submit((function(e){e.preventDefault();if(I(this)&&!$("#footer-buttons .btn.btnAction").hasClass("disabled")){$("#footer-buttons .btn.btnAction").addClass("disabled processing");$(this)[0].submit()}}));const a=$("#balanceCalc");const s=a.val();a.on("change",(()=>{const e=a.val();T(e,true,this)}));const n=$("#startYmd").val();T(n?n:s,true,this);$(document).on("change","#startYmd",(function(e){const t=$("#balanceCalc").val();const a=$("#startYmd").val();T(a?a:t,true,this)}));$(document).on("change","#endYmd, #startYmd",(function(){const e=$("#startYmd").val();const t=$("#endYmd");const a=t.val();const s=$("#employeeId").val()||"";const n=$("#requestId").val()||"";if(e!==""&&a!==""){const t={startYmd:e,endYmd:a,eid:s,originalRequestId:n};$.get("/ajax/employees/pto/duplicate_check.php",t,(function(e){if(e.result==="error"){q(true)}else if(e.result!=="ok"){if(e.errorType==="date"){q(false);W(true)}}else{q(false);W(false)}}),"json")}B()}));$(document).on("ba:selectChange",".js-time-off-type",(function(){setTimeout(B)}));$(document).on("change, keyup","#multipleDayList",(function(){j();const e=$(".js-timeoff-master-form");e.bhrValidate()}));$("#approve").submit((function(e){}));const i=document.querySelector('[data-form-id="requestPtoFooter"]');if(i){i.addEventListener("click",(e=>{const t=e.target.closest('button[data-action="SiteFooterAction:submit"]');if(t&&!w&&!t.disabled){w=true;document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));oe()}}))}}function O(){document.getElementById("action").value="deny";document.approve.submit()}let L=false;function R(e){let{startDate:t,endDate:a,onClose:s}=e;const[o,r]=(0,i.useState)(true);return(0,n.Z)(v.x5,{endDate:a,isOpen:o,onClose:e=>{r(false);setTimeout((()=>{s(e)}),300)},route:"/time-off/large-request-modal",startDate:t})}function B(){const e=150;const t=S($("#startYmd"));const a=S($("#endYmd"));const s=$("#startYmd").val();const i=$("#endYmd").val();const o=$("#timeOffType").val();const c=$("#requestId").val();const d=$("#employeeId").val();const u=m(t,a);if(t!==null&&u>e){if(U()){D()}else if(!L){L=true;const e=document.createElement("div");document.body.appendChild(e);(0,r.s)((0,n.Z)(R,{endDate:p()(i,p().defaultFormat).toISOString(),onClose:n=>{if(n){h(t,a,s,i,o,c,d,u)}else{$(".js-pto-request-datepicker[calendar-picker]").data("calendarPicker").setRange(s,s);B()}(0,l.unmountComponentAtNode)(e);L=false},startDate:p()(s,p().defaultFormat).toISOString()}),e)}}else{h(t,a,s,i,o,c,d,u)}function h(t,a,s,n,i,o,r,l){if(t&&l>e){$("#multipleDayList").addClass("multiple");$("#multipleDayList").html('<div style="height:192px;"><img src="/images/loading-large-for-gray-background.gif" style="margin:auto; display:block; position:relative; height:46px; padding-top:75px;" /></div>')}document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"));$.get("/time_off/requests/daily_fields_twig",{startDate:s,endDate:n,type:i,eid:r,id:o}).done((function(e){$("#multipleDayList").html(e);if(t&&l>1&&t<a&&i!=""){$("#multipleDayList").addClass("ScrollBox")}else{$("#multipleDayList").removeClass("ScrollBox")}if(SimpleModal.getModalCount()>0){SimpleModal.setPosition()}j();document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}))}function m(e,t){return Math.round(Math.abs((new Date(e).getTime()-new Date(t).getTime())/(24*60*60*1e3)))+1}}function j(){let e=true;$("#multipleDayList").each((function(){let t=0;let a=0;$(this).find("input").each((function(){if($(this).attr("type")=="hidden"){window.rawUnits=this.value}else{let s;let n;if(!$.isNumeric(this.value)){this.value=this.value.replace(/[^0-9\.\,-]/g,"")}if(this.value==""){s=0;n=""}else{s=window.getFloatFromStringJS(this.value);n=s;$(this).siblings(".fieldInfo.error.nonPlugin").remove()}if(!H(this,n)){e=false}t+=s;if(this.value.indexOf(",")>-1){a=1}}}));t=t.toFixed(2).toString();if(a>0){t=t.replace(/\./,",");a=0}$(this).find("#dailyTotalAmount").text(t);$("#singleTotalAmount").val(t)}));return e}function H(e,t){const a=$($(e).parent("li"));let s=true;if(window.rawUnits=="days"&&t>1||window.rawUnits=="days"&&t<-1){z(e,$.__("A maximum of 1 day is allowed."));s=false;a.addClass("error")}else if(window.rawUnits=="hours"&&t>24||window.rawUnits=="hours"&&t<-24){z(e,$.__("A maximum of 24 hours is allowed."));s=false;a.addClass("error")}else{a.removeClass("error disabled")}if(t===0){a.addClass("disabled")}return s}function q(e){$("#startYmd").closest(".fieldRow").children(".fieldInfo.error").remove();if(e){$("#startYmd").addClass("fab-TextInput--warning");$("#startYmdLabel").addClass("fab-Label--warning");$("#endYmd").addClass("fab-TextInput--warning");$("#endYmdLabel").addClass("fab-Label--warning");$("#js-duplicate-entry").show();$("#multipleDayList").removeClass("ScrollBox")}else{$("#startYmd").removeClass("fab-TextInput--warning");$("#startYmdLabel").removeClass("fab-Label--warning");$("#endYmd").removeClass("fab-TextInput--warning");$("#endYmdLabel").removeClass("fab-Label--warning");$("#js-duplicate-entry").hide()}}function W(e){$("#js-duplicate-entry").hide();if(e){$("#startYmd").addClass("fab-TextInput--error");$("#startYmdLabel").addClass("fab-Label--error");$("#endYmd").addClass("fab-TextInput--error");$("#endYmdLabel").addClass("fab-Label--error")}else{$("#startYmd").removeClass("fab-TextInput--error");$("#startYmdLabel").removeClass("fab-Label--error");$("#endYmd").removeClass("fab-TextInput--error");$("#endYmdLabel").removeClass("fab-Label--error")}}function U(){const e=p()($("#startYmd").val(),p().defaultFormat);const t=p()($("#endYmd").val(),p().defaultFormat);const a=p().duration(t-e).years();return a>=10}function z(e,t){e=$(e);e.parent("li").addClass("error");if(e.parent("li").find(".fieldInfo").length>0){e.parent("li").find(".fieldInfo").text(t);if(!e.parent("li").find(".fieldInfo").hasClass("nonPlugin")){e.parent("li").find(".fieldInfo").addClass("nonPlugin")}}else{e.parent("li").append(`<span class="RequestPTO__amountError fieldInfo fieldInfo-error error nonPlugin">${t}</span>`)}}function Y(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:`/employees/pto/?id=${e}`;if(a===undefined){a=SimpleModal.getTopModalSelector().find("form").serialize()}SimpleModal.Footer.Buttons.startProcessing();$.post(t,a,(function(e){if(e.success){if(e.nextURL){window.location.href=e.nextURL}else{window.location.href=s}closeModalDialog()}else{setMessage(e.error,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}}),"json").fail((function(){errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}function G(e,t,a,s,n){$.get(t,a,(function(i){if(i.success){const o=$.extend(true,{html:i.html,title:i.title,classes:"jquery-padding js-PTOmodal",footer:{show:true,buttons:{primary:{disabled:false,show:true,text:i.save,action(){if(window.ASSUMED_USER){window.disabledForPermsTest();return}const s=SimpleModal.getTopModalSelector().find(".BhrForms");if(U()){D()}else if(s.length===0||s.valid()){t+=`?${$.param(a)}`;Y(e,t,undefined,n)}}}}},callbacks:{open:{after(){if(SimpleModal.getTopModalSelector().length){const e=SimpleModal.getTopModalSelector().find(".BhrForms");const t=e.find("textarea");if(typeof t.attr("maxlength")!=="undefined"&&t.attr("maxlength")){t.limitCount(t.attr("maxlength"))}}}}}},s);SimpleModal.openModal(o)}else{setMessage(i.error,"error")}}),"json").fail(errorFallBack)}function V(e){if(e==="subtract"){X()}else{K()}J();Q(e);return false}function K(){$(".js-adjust-modal-action-add").show();$(".js-adjust-modal-action-subtract").hide();$(".js-adjust-modal-math-row").addClass("AdjustBalanceModalSummary__row--add").removeClass("AdjustBalanceModalSummary__row--subtract");$(".js-adjust-modal-input-adjust-type").val("add")}function X(){$(".js-adjust-modal-action-add").hide();$(".js-adjust-modal-action-subtract").show();$(".js-adjust-modal-math-row").addClass("AdjustBalanceModalSummary__row--subtract").removeClass("AdjustBalanceModalSummary__row--add");$(".js-adjust-modal-input-adjust-type").val("subtract")}function J(){const e=$(".js-adjust-pto-adjustment-hours");const t=$(".js-adjust-pto-balance").find(".js-adjust-modal-input-adjust-type").val();let a=window.getFloatFromStringJS(e.attr("data-realval"));let s=window.getFloatFromStringJS(e.val());const n=window.getFloatFromStringJS($(".js-adjust-max-hours").text());const i=window.getFloatFromStringJS($(".js-adjust-cur-hours").text());if(isNaN(a)){a=0}if(isNaN(s)){s=0}const o=$(".js-adjust-over-max-notice");if(t==="add"&&n>0&&i+s-a>n){o.show();e.css("color","red")}else{o.hide();e.css("color","#222222")}}function Q(e){const t=$(".js-adjust-pto-adjustment-hours");const a=window.getFloatFromStringJS($(".js-adjust-cur-hours").html());let s=window.getFloatFromStringJS(t.attr("data-realval"));let n=window.getFloatFromStringJS(t.val());if(e==="subtract"){n=0-n}if(s===undefined||isNaN(s)){s=0}let i=parseFloat(a+n-s);if(isNaN(i)){i=a-s}$(".js-adjust-total-hours").html(window.formatNumberJS(i,2))}function ee(e){window.location.href=(0,y.isEnabled)("time_off_request_page_refactor")?`/app/time_off/requests/create?categoryId=${e}`:`/time_off/requests/create?timeOffTypeId=${e}`}function te(e,t,a,s,i){let o="/time_off/requests/edit";let r=null;const l=()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}const a={isOpen:true,content:$.__("Are you sure you want to cancel this request?"),title:$._("Time Off Request"),primaryActionText:$.__("Cancel Request"),primaryAction(){const s=`/time_off/requests/cancel`;a.isProcessing=true;window.BambooHR.Modal.setState({isOpen:true,isProcessing:true,sheetProps:a},true);f().post(s,$.param({id:t})).then((t=>{if(t.data.success){window.location.href=`/employees/pto/?id=${e}`}else{window.errorFallBack()}})).catch((()=>{window.errorFallBack()}))},secondaryAction:null,onClose(){a.isOpen=false;window.BambooHR.Modal.setState({isOpen:true,isProcessing:false,sheetProps:a},true)}};window.BambooHR.Modal.setState({isOpen:true,isProcessing:true,sheetProps:a},true)};const c={id:t,employeeId:e};f().get(o,c).then((t=>{b=true;window.BambooHR.Modal.setState({content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:t.data.html},id:"js-time-off-master-form-modal"}),header:C(),isOpen:true,title:$.__("Edit Time Off Request"),primaryActionText:$.__("Save"),primaryAction(){if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(r.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);const t=ie(r);f().post(o+=`?${$.param(c)}`,$.param(t)).then((t=>{if(t.data.success){window.location.href=`/employees/pto/?id=${e}`}else{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))}},secondaryActionText:$.__("Cancel Request"),secondaryAction:s!=="false"?l:null,onOpen(){r=$("#js-time-off-master-form-modal .js-timeoff-master-form");r.bhrValidate();$(".js-time-off-type").on("ba:selectChange",(function(){setTimeout(B)}));r.find("textarea[maxlength]").limitCount()},onClose(){ae.removePostFixFromElementIds();b=false}})})).catch((()=>{window.errorFallBack()}));return false}const ae={ids:[],postFix:"TEMP-POSTFIX",addPostFixToElementIds(){const{postFix:e}=this;const t=$("form#request").first();this.ids=t.find("[id]");this.ids.each((function(){const t=this.id+e;const a=$(`label[for="${this.id}"]`);a.attr("for",t);this.id=t}))},removePostFixFromElementIds(){const{ids:e,postFix:t}=this;if(!this.isPostFixAdded()){return}e.each((function(){const e=this.id.replace(t,"");const a=$(`label[for="${this.id}"]`);a.attr("for",e);this.id=e}))},isPostFixAdded(){return $("form#request").find("[id]").first().attr("id").indexOf(this.postFix)>-1}};function se(e,t,a,s){if(ae.isPostFixAdded()){return}ae.addPostFixToElementIds();te(e,t,a,s)}function ne(){let e=[".denialModal #manager_note",".denialModal #comment"],t=false;for(let a=0;a<e.length;a++){if($(e[a]).length){if($.trim($(e[a]).val())){t=true}}}return t}function ie(e){const t=e.serializeArray();const a={};t.forEach((e=>{const t=e.name;let s=e.value;if(t==="startYmd"){s=$("#startYmd").val()}else if(t==="endYmd"){s=$("#endYmd").val()}a[t]=s}));return a}function oe(){if(I("#request")){re()}else{w=false}}function re(){const e=$("#request");const t=ie(e);const a=$.param(t);return f().post("/time_off/requests",a).then((()=>{w=false;window.location.href=e.data("doneUrl")})).catch((e=>{if(e.response.data){window.setMessage(e.response.data,"error")}else{errorFallBack()}w=false;window.BambooHR.Modal.setState({isOpen:true,isProcessing:false},true);document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"))}))}function le(e,t){const a={header:$.__("This will remove the current balance"),noBalance:$.__("Flexible time off types don't have a balance."),withCurrentName:$.__(`Setting this accrual policy to "Flexible" will clear this employee's %1$s balance.`,e)};const s=`\n\t\t<div class="ZeroOutBalanceModal">\n\t\t<ba-icon name="calculator-warning-44x48" class="ZeroOutBalanceModal__icon"></ba-icon>\n\t\t\t<h3 class="baseColor ZeroOutBalanceModal__header">!*= t10s.header *!</h3>\n\t\t\t<p class="ZeroOutBalanceModal__content">\n\t\t\t\t!*= t10s.noBalance *!\n\t\t\t\t!*= t10s.withCurrentName *!\n\t\t\t</p>\n\t\t</div>\n\t`;const n=microTemplate(s,{policyName:e,t10s:a});SimpleModal.openModal({html:n,title:$.__("Just Checking..."),footer:{show:true,buttons:{primary:{text:$.__("Clear Balance and Save"),action(){window.SimpleModal.closeModal();t()}},cancel:{text:$.__("Cancel"),action(){window.SimpleModal.closeModal()}}}}})}},34825:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>B});var s=a(21198);var n=a(38592);var i=a(27267);var o=a(98115);var r={body:".js-simplemodal-body"};var l={getHeight(e){e=window.SimpleModal._verifyModalObject(e);return e.find(r.body).height()}};var c=l;var $=a(26570);var d={button:".js-simplemodal-cancel"};var u={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);$(document).off("keyup"+d.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(d.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(d.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(d.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(d.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(d.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(d.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).show()},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(d.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);$(document).on("keyup"+d.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(d.button).addClass(e)}};var h=u;var p=a(26570);var m={button:".js-simplemodal-button-primary"};var f={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);p(document).off("keyup"+m.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(m.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(m.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(m.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(m.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(m.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(m.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(m.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);p(document).on("keyup"+m.button+t.selector,(a=>{if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(m.button).addClass(e)}};var g=f;var v=a(26570);var y={button:".js-simplemodal-button-secondary"};var b={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);v(document).off("keyup"+y.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(y.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(y.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(y.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(y.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(y.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(y.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(y.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);v(document).on("keyup"+y.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(y.button).addClass(e)}};var w=b;var S={primary:".js-simplemodal-button-primary",secondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel"};var C={clearAllEventHandlers(e){this.clearAllActions(e);this.clearAllPerformActionsOnKeyCodes(e)},clearAllActions(e){window.SimpleModal.Footer.Buttons.Primary.clearAction(e);window.SimpleModal.Footer.Buttons.Secondary.clearAction(e);window.SimpleModal.Footer.Buttons.Cancel.clearAction(e)},clearAllPerformActionsOnKeyCodes(e){window.SimpleModal.Footer.Buttons.Primary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Secondary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Cancel.clearPerformActionOnKeyCode(e)},hide(e){window.SimpleModal.Footer.Buttons.Primary.hide(e);window.SimpleModal.Footer.Buttons.Secondary.hide(e);window.SimpleModal.Footer.Buttons.Cancel.hide(e)},show(e){window.SimpleModal.Footer.Buttons.Primary.show(e);window.SimpleModal.Footer.Buttons.Secondary.show(e);window.SimpleModal.Footer.Buttons.Cancel.show(e)},startProcessing(e){window.SimpleModal.Footer.Buttons.Primary.startProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.startProcessing(e)},stopProcessing(e){window.SimpleModal.Footer.Buttons.Primary.stopProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.stopProcessing(e)}};C.Cancel=h;C.Primary=g;C.Secondary=w;var x=C;var T={text:".js-simplemodal-footer-text"};var E={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(T.text).hide()},setHtml(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(T.text).html(e)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(T.text).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(T.text).show()}};var k=E;var Z={footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper"};var N={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(Z.footer).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(Z.footer).show()}};N.Buttons=x;N.Text=k;var I=N;var A={title:".js-simplemodal-title"};var F={setTitle(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(A.title).text(e)},getTitle(e){e=window.SimpleModal._verifyModalObject(e);return e.find(A.title).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(A.title).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(A.title).show()}};var M=F;var D={header:".js-simplemodal-header",close:".js-simplemodal-close"};var P={show(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.header).show()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.header).hide()},hideCloseButton(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.close).hide()}};P.Title=M;var O=P;var L=a(26570);var R={closeModal(e){if(this.getModalCount()<1){return false}e=this._mergeCloseOptions(e);var t=this._getTopModalOptions();L(document).trigger("simplemodal:close:before");var a=(0,n.executeFunction)(t.callbacks.close.before);if(a===false){return false}var s=L(this.getTopModalSelector());if(t.footer.show===true&&t.footer.custom.html===""&&t.footer.custom.url===""){this.Footer.Buttons.clearAllEventHandlers(s)}if(e.type==="fast"){s.remove();if(this._openModals.length===1){i.Modal.disableNoScroll()}}else if(this._openModals.length>1&&!t.nostack){s.find(this._selectors.wrapper).velocity("slideUp",{complete(){s.remove()},duration:250})}else{if(t.animation){s.velocity("fadeOut",{complete(e){s.remove()},duration:100,easing:[.25,.5,.5,.9]})}else{s.remove()}if(this._openModals.length===1){i.Modal.disableNoScroll()}}this._openModals.pop();if(!e.skipCloseCallback){(0,n.executeFunction)(t.callbacks.close.after);L(document).trigger("simplemodal:close:after")}},init(){this.$=(0,n.setupWrappers)(this.$);this._enableButtons();this._setupListeners();window.SimpleModal=this},openModal(e){e=this._mergeOptions(e);if(this._openModals.length>0&&JSON.stringify(this._openModals[this._openModals.length-1].options)===JSON.stringify(e)){return false}if(e.url===""&&e.html===""){console.warn("Could not find a url to load from or html to show.");return false}L(document).trigger("simplemodal:open:before");var t=(0,n.executeFunction)(e.callbacks.open.before);if(t===false){return false}var a=this,s=this.$.html.clone(),o=this._selectors.prefix+this._openModals.length,r="."+o;if(typeof e.classes==="undefined"){e.classes=""}if(typeof e.data==="undefined"){e.data={}}s.addClass(e.classes+" "+o);if(e.body&&e.body.classes){s.find(this._selectors.body).addClass(e.body.classes)}this._appendModal(s);if(!this._openModals.length){i.Modal.enableNoScroll()}if(e.animation){L(this._selectors.wrapper).addClass("SimpleModal__wrapper--animate")}var l=L(r);this.Header.Title.setTitle(e.header.title.text||e.title,l);if(e.header.show===false){l.addClass("SimpleModal--noHeader");this.Header.hide(l)}if(e.header.title.show===false){this.Header.Title.hide(l)}if(e.header.hideCloseButton){this.Header.hideCloseButton(l)}this._setZIndex(l);this._setModalBgZIndex(l);this._setModalZIndex(l);this._setLoaderZIndex(l);this._openModals.push({$:l,options:e});if(e.url){L.ajax({url:e.url,data:e.data,type:e.method,success(t){if(e.responseToHTML){a._loadHtml(l,e.responseToHTML(t),e);return}if(t==="ERROR"||typeof t==="object"&&!t.success){if(t.error){setMessage(t.error,"error")}else{setMessage(L.__("There was an error processing your request"),"error")}a.closeModal();return}var s;if(typeof t==="object"){s=t.html}else{s=t}a._loadHtml(l,s,e)},error:function(e){if(e.responseText){setMessage(e.responseText,"error")}else{errorFallBack()}a.closeModal()}})}else{this._loadHtml(l,e.html,e)}return l},getTopModalSelector(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].$}return""},$:{button:".js-simplemodal",html:`<div class="SimpleModal js-simplemodal-container">\n\t\t\t\t\t<div class="SimpleModal__bg js-simplemodal-bg"></div>\n\t\t\t\t\t<div class="SimpleModal__loader js-simplemodal-loader">\n\t\t\t\t\t\t<div class="dotLoader">\n\t\t\t\t\t\t\t<div class="bounce1"></div>\n\t\t\t\t\t\t\t<div class="bounce2"></div>\n\t\t\t\t\t\t\t<div class="bounce3"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${L.__("Loading...")}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="SimpleModal__wrapper js-simplemodal-wrapper">\n\t\t\t\t\t\t<div class="SimpleModal__header js-simplemodal-header clearfix">\n\t\t\t\t\t\t\t<span class="SimpleModal__header-title truncate js-simplemodal-title"></span>\n\t\t\t\t\t\t\t<span class="SimpleModal__header-close js-simplemodal-close">\n\t\t\t\t\t\t\t\t<svg width="11px" height="11px" viewBox="0 0 11 11">\n\t\t\t\t\t\t\t\t\t<g stroke-width="1" sketch:type="MSPage">\n\t\t\t\t\t\t\t\t\t\t<path d="M6.71884008,5.19230161 L9.99010931,1.92103238 C10.4698785,1.44126315 10.5190324,0.705224691 10.0991478,0.28545546 C9.67937854,-0.134429155 8.94334008,-0.0852753088 8.46357085,0.394493922 L5.19230161,3.66576315 L1.92103238,0.394493922 C1.44126315,-0.0852753088 0.705224691,-0.134429155 0.28545546,0.28545546 C-0.134429155,0.705224691 -0.0852753088,1.44126315 0.394493922,1.92103238 L3.66576315,5.19230161 L0.394493922,8.46357085 C-0.0852753088,8.94334008 -0.134429155,9.67937854 0.28545546,10.0991478 C0.705224691,10.5190324 1.44126315,10.4698785 1.92103238,9.99010931 L5.19230161,6.71884008 L8.46357085,9.99010931 C8.94334008,10.4698785 9.67937854,10.5190324 10.0991478,10.0991478 C10.5190324,9.67937854 10.4698785,8.94334008 9.99010931,8.46357085 L6.71884008,5.19230161" class="modalXpath"></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="SimpleModal__body js-simplemodal-body" style="visibility: hidden;"></div>\n\t\t\t\t\t\t<div class="SimpleModal__footer-wrapper js-simplemodal-footer-wrapper" style="display: none;">\n\t\t\t\t\t\t\t<div class="SimpleModal__footer js-simplemodal-footer clearfix">\n\t\t\t\t\t\t\t\t<button class="btn btnAction SimpleModal__footer-button-primary js-simplemodal-button-primary"></button>\n\t\t\t\t\t\t\t\t<button class="btn SimpleModal__footer-button-secondary js-simplemodal-button-secondary" style="display: none;"></button>\n\t\t\t\t\t\t\t\t<a class="SimpleModal__footer-cancel js-simplemodal-cancel"></a>\n\t\t\t\t\t\t\t\t<span class="SimpleModal__footer-text js-simplemodal-footer-text" style="display: none;"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},_selectors:{prefix:"js-simplemodal-",openModalButton:".js-simplemodal",background:".js-simplemodal-bg",body:".js-simplemodal-body",buttonPrimary:".js-simplemodal-button-primary",buttonSecondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel",close:".js-simplemodal-close",container:".js-simplemodal-container",footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper",header:".js-simplemodal-header",docHtml:"html",loader:".js-simplemodal-loader",title:".js-simplemodal-title",wrapper:".js-simplemodal-wrapper"},_closeOptions:{type:"",skipCloseCallback:false},_options:{animation:false,body:{classes:""},callbacks:{close:{after(){return true},before(){return true}},open:{after(){return true},before(){return true}}},classes:"",closeOnEscape:true,data:{},footer:{show:true,buttons:{primary:{disabled:false,show:true,text:L.__("Save"),action(e){e=R._verifyModalObject(e);e.find("form").submit()},performActionOnKeyCode:-1},secondary:{disabled:false,show:false,text:"",action(){},performActionOnKeyCode:-1},cancel:{disabled:false,show:true,text:L.__("Cancel"),action(){R.closeModal()},performActionOnKeyCode:-1}},custom:{url:"",html:""},text:{show:false,html:"",text:""}},nostack:true,title:"",header:{hideCloseButton:false,show:true,title:{show:true,text:""}},html:"",url:"",method:"get",responseToHTML:null,deleteModal:{active:false,selector:""},preventSubmit:false},_openModals:[],_appendModal(e){var t=this,a=this._getTopModalOptions();L("body").append(e);var s=e.children(this._selectors.background),n=e.children(this._selectors.loader);if(a.animation){s.velocity("fadeIn",{duration:300});n.velocity("fadeIn",{delay:100,duration:300})}else{s.css("opacity","1");n.addClass("show")}if(this._openModals.length>0){e.addClass("SimpleModal--stacked");e.find(".SimpleModal__footer > .btn").addClass("btnSmall")}},_getDataAttributes(e){return{animation:e.data("animation"),body:{classes:e.data("body-classes")},callbacks:{close:{after:e.data("callbacks-close-after"),before:e.data("callbacks-close-before")},open:{after:e.data("callbacks-open-after"),before:e.data("callbacks-open-before")}},classes:e.data("classes"),closeOnEscape:e.data("close-on-escape"),data:e.data("data"),footer:{show:e.data("footer-show"),buttons:{primary:{disabled:e.data("footer-button-primary-disabled"),show:e.data("footer-button-primary-show"),text:e.data("footer-button-primary-text"),action:e.data("footer-button-primary-action"),performActionOnKeyCode:e.data("footer-button-primary-perform-action-on-key-code")},secondary:{disabled:e.data("footer-button-secondary-disabled"),show:e.data("footer-button-secondary-show"),text:e.data("footer-button-secondary-text"),action:e.data("footer-button-secondary-action"),performActionOnKeyCode:e.data("footer-button-secondary-perform-action-on-key-code")},cancel:{disabled:e.data("footer-button-cancel-disabled"),show:e.data("footer-button-cancel-show"),text:e.data("footer-button-cancel-text"),action:e.data("footer-button-cancel-action"),performActionOnKeyCode:e.data("footer-button-cancel-perform-action-on-key-code")}},custom:{url:e.data("footer-custom-url"),html:e.data("footer-custom-html")},text:{show:e.data("footer-text-show"),html:e.data("footer-text-html"),text:e.data("footer-text-text")}},nostack:e.data("nostack"),title:e.data("title"),header:{show:e.data("header-show"),title:{show:e.data("header-title-show"),text:e.data("header-title-text")}},html:e.data("html"),url:e.data("url"),method:e.data("method"),deleteModal:{active:e.data("delete-modal-active"),selector:e.data("delete-modal-selector")},preventSubmit:e.data("prevent-submit")}},getModalCount(){return this._openModals.length},_getTopModalOptions(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].options}return""},_deleteModalSetup(e,t){var a=t.find(e);if(a.length>0){a.focus();a.on("keyup",(function(){if(this.value.toUpperCase()==="DELETE"){R.Footer.Buttons.Primary.enable()}else{R.Footer.Buttons.Primary.disable()}}))}},_enableButtons(){var e=this;L("body").on("click",this._selectors.openModalButton,(function(t){var a=L(this);e.openModal(e._getDataAttributes(a))}))},_hideFooter(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var s=0;if(a.is(":visible")){s+=a.outerHeight()}this._setBodyAndLoaderHeight(s,e);this.Footer.hide(e)},_loadHtml(e,t,a){e.find(this._selectors.body).html(t);this._setFooter(a.footer,e);this._waitForResourcesToLoad(a,e)},_mergeOptions(e){e=L.extend(true,{},this._options,e);if(e.deleteModal.active){e.footer.buttons.primary.disabled=true}return e},_mergeCloseOptions(e){if(typeof e==="string"){this._closeOptions.type=e}return L.extend(true,{},this._closeOptions,e)},_setBodyAndLoaderHeight(e,t){t=this._verifyModalObject(t);t.find(this._selectors.body).css("height","calc(100% - "+e+"px)")},_setFooter(e,t){var a=this;t=this._verifyModalObject(t);if(e.show===true){var s=t.find(this._selectors.footerWrapper);var n=t.find(this._selectors.header);var i=s.outerHeight();if(n.is(":visible")){i+=n.outerHeight()}if(e.custom.html!==""){s.html(e.custom.html);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}else if(e.custom.url!==""){s.empty();L.get(e.custom.url,(function(e){s.html(e);a._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}))}else{this._setFooterButtons(e.buttons,t);this._setFooterText(e.text,t);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}s.show()}else{t.addClass("SimpleModal--noFooter");this._hideFooter(t)}},_getHeaderAndFooterHeight:function(e){var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var s=t.outerHeight();if(a.is(":visible")){s+=a.outerHeight()}return s},_setFooterButtons(e,t){var a=this;t=this._verifyModalObject(t);s(e.primary,this.Footer.Buttons.Primary,t);s(e.secondary,this.Footer.Buttons.Secondary,t);s(e.cancel,this.Footer.Buttons.Cancel,t);function s(e,t,s){s=a._verifyModalObject(s);if(e.show===true){t.show(s)}else{t.hide(s)}if(e.disabled===true){t.disable(s)}t.setText(e.text,s);t.addClass(e.classes,s);t.updateAction((function(){e.action(s)}),s);var n=parseInt(e.performActionOnKeyCode);if(n>-1){t.updatePerformActionOnKeyCode(n,s)}}},_setFooterText(e,t){if(e.html!==""){this.Footer.Text.setHtml(e.html,t)}if(e.text!==""){this.Footer.Text.setText(e.text,t)}if(e.show){this.Footer.Text.show(t)}},_setModalBgZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.background);this._setZIndex(t)},setPosition(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.title),a=e[0].clientWidth,s=e[0].clientHeight,n=window.innerWidth,i=window.innerHeight;if(typeof e==="undefined"||e.length===0){return}t.css("max-width",a-60);if(!e.hasClass("full-screen")){if(!e.hasClass("full-width")){if(this._openModals[this._openModals.length-1].originalWidth>n-100){e.css({width:n-100+"px"})}else{e.css({width:"auto"})}}e.css({left:"calc(50% - "+Math.floor(e[0].clientWidth/2)+"px)",height:""});if(!e.hasClass("full-height")){if(i*.4-50>s/2){e.css({top:"calc(40% - "+Math.floor(s/2)+"px)"})}else{e.css({top:"50px"});if(e.height()>i-100){e.css({height:i-100+"px"})}}}}if(e.hasClass("SimpleModal--stacked")){var o=0;var r=0;var l=this._openModals[0].$;if(!l.find(this._selectors.header).is(":visible")){o=-32}else{r=-32}var c=parseInt(l.css("top"))+36+o;e.css({top:c+"px"});if(!e.hasClass("full-screen")&&e.height()>i-100+r){e.css({height:i-100+r+"px"})}}},_setLoaderZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.loader);this._setZIndex(t)},_setModalZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.wrapper);this._setZIndex(t)},_setZIndex(e){var t=(0,s.getMaxZIndex)();L(e).css("zIndex",parseInt(t)+10)},_setupListeners(){L(window).resize((()=>{this._openModals.forEach((e=>{var t=e.$;this.setPosition(t);this._setBodyAndLoaderHeight(this._getHeaderAndFooterHeight(t),t)}))}));this._watchForClose()},_showContent(e,t){var a=this,s=L(this._selectors.container),i=t.find(this._selectors.body),o=L(this._selectors.loader),r=L(this._selectors.footerWrapper);if(t.hasClass("SimpleModal--stacked")){t.find(a._selectors.wrapper).velocity("slideDown",{duration:250,begin:function(){t.addClass("no-overflow")},complete:function(){t.removeClass("no-overflow")}})}l();function l(){if(e.animation){t.find(a._selectors.wrapper).addClass("show")}else{t.find(a._selectors.wrapper).css("opacity","1")}}setTimeout((function(){(0,n.executeFunction)(e.callbacks.open.after)}),0);if(e.deleteModal.active&&e.deleteModal.selector!==""){this._deleteModalSetup(e.deleteModal.selector,t)}if(e.preventSubmit){t.find("form").on("submit",(function(e){e.preventDefault()}))}t.initializeElements();s.removeClass("updating");i.css({visibility:"visible"});i.velocity({opacity:1},{complete(){s.removeClass("updating")},duration:350});r.velocity({opacity:1},{duration:350});o.removeClass("show");this._openModals[this._openModals.length-1].originalWidth=t.width();this.setPosition(t);L(document).trigger("simplemodal:open:after")},_verifyModalObject(e){if(typeof e==="undefined"){e=L(this.getTopModalSelector())}return e},_waitForFooterToLoad(e,t){var a=this;if(e.footer.custom.url!==""&&t.find(a._selectors.footerWrapper).html().length===0){var s=setInterval((function(){if(t.find(a._selectors.footerWrapper).html().length>0){clearInterval(s);a._showContent(e,t)}}),1e3)}else{a._showContent(e,t)}},_waitForResourcesToLoad(e,t){t=this._verifyModalObject(t);var a=t.find(this._selectors.body+" img[src], "+this._selectors.body+' link[type="text/css"]');var s=this,n=a.length,i=0;if(n>0){a.each((function(){var a=document.createElement("img");if(this.src){a.src=this.src}if(this.href){a.src=this.href}a.onload=a.onerror=function(){++i;if(i===n){s._waitForFooterToLoad(e,t)}}}))}else{s._waitForFooterToLoad(e,t)}},_watchForClose(){var e=this;L("body").on("click",this._selectors.close,(function(){e.closeModal()}));L(document).on("keydown",(function(t){let a=e._getTopModalOptions();if(a.closeOnEscape&&(t.which===27||t.keyCode===27)){e.closeModal()}}))},updateModal(e){e=this._mergeOptions(e);this._openModals[this._openModals.length-1].options=e;var t=this,a=L(this._selectors.container),s=L(this._selectors.body),i=L(this._selectors.footerWrapper),o=L(this._selectors.loader),r=L(this.getTopModalSelector());if(typeof window.event!=="undefined"&&window.event.altKey){r.addClass("panda")}L(document).trigger("simplemodal:open:before");var l=(0,n.executeFunction)(e.callbacks.open.before);if(l===false){return false}s.velocity({opacity:0},{begin(){a.addClass("updating");o.addClass("show")},complete(){if(e.url){L.get(e.url,(function(a){t._loadHtml(r,a,e)}))}else{t._loadHtml(r,e.html,e)}},duration:350});i.velocity({opacity:0},{duration:350})}};R.Body=c;R.Footer=I;R.Header=O;R.init();var B=R},8471:(e,t,a)=>{"use strict";a.r(t);a.d(t,{centerDialog:()=>l,shareFacebook:()=>n,shareLinkedIn:()=>i,shareTwitter:()=>o});var s=a(38592);function n(e){window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r(e))}`,"facebook-share-dialog",l(626,436))}function i(e,t){e+=`?uid=${(0,s.makeUid)()}`;window.open(`http://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(r(e))}`+`&title=${encodeURIComponent(t.shareText)}`+"&summary="+"&source=BambooHR","linkedin-share-dialog",l(570,476))}function o(e,t){window.open(`${"https://twitter.com/intent/tweet"+"?text="}${encodeURIComponent(t.shareText)}&original_referer=${encodeURIComponent(document.location.href)}&related=${t.related}&source=tweetbutton`+`&url=${encodeURIComponent(r(e))}`,"twitter-share-dialog",l(500,442))}function r(e){if(e.indexOf("http")<0||e.indexOf("https")<0){return`${location.protocol}//${e}`}return e}function l(e,t){const a=(document.body.getBoundingClientRect().width-e)/2;const s=(document.body.getBoundingClientRect().height-t)/2;return`height=${t}, width=${e}, top=${s}, left=${a}`}},80962:(e,t,a)=>{"use strict";a.d(t,{Ix:()=>s,U0:()=>i,lF:()=>n});var $=a(26570);const s=()=>{const e=window.BambooHR.Modal.isOpen();let t={};const a={content:$.__("Payroll will not be able to run for this user unless they have a valid Social Security Number."),primaryAction:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeActionText:"",primaryActionKey:"Enter",isOpen:true,title:$.__("Just So You Know...")};if(e){t={isOpen:true,sheetProps:a}}else{t=a}window.BambooHR.Modal.setState(t,e)};const n=e=>{const t=window.BambooHR.Modal.isOpen();let a={};const s={isOpen:true,icon:"fab-money-circle-54x54",iconColor:"danger",content:$.__("Before adding this employee to the '%1' pay schedule you need to update the employee's Social Security Number.",e),primaryAction:()=>{if(t){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeAction:null,title:$.__("Oops, That Won't Work...")};if(t){a={isOpen:true,sheetProps:s}}else{a=s}window.BambooHR.Modal.setState(a,t)};const i=(e,t,a)=>{const s=window.BambooHR.Modal.isOpen();let n={};const i={content:t,onClose:()=>{if(a&&typeof a==="function"){a(false)}},primaryAction:()=>{if(a&&typeof a==="function"){a(true)}if(s){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),iconColor:"danger",primaryActionKey:"Enter",isOpen:true,title:e};if(s){n={isOpen:true,sheetProps:i}}else{n=i}window.BambooHR.Modal.setState(n,s)}},40904:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const s=new WeakMap;class n{static get className(){return"Sticky"}static getInstance(e){return s.get(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._element=e;this._settings={anchor:window,...t};this._stuck=false;this._verifySettings();if(!this._settings.alwaysStick){this._wireEvents()}this._addSpacerElement();s.set(this._element,this);if(this._settings.alwaysStick||this._settings.immediate){this._updateStickiness()}}get _elementRect(){return this._getRect(this._element)}get _spacerElementRect(){return this._getRect(this._spacerElement)}get _anchorElementRect(){return this._getRect(this._settings.anchor)}stick(){this._adjustSpacerHeight();this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true;if(this._watchHeight&&!this._watchingHeight){this._watchHeight()}}unStick(){this._adjustSpacerHeight();this._element.style.position="";this._stuck=false;this._watchingHeight=false}destroy(){if(this._spacerElement&&this._spacerElement.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._unwireEvents()}_removeSpacerElement(){if(this._spacerElement?.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._spacerElement=null}_addSpacerElement(){const{spacerCSSClass:e}=this._settings;const t=this._element;const a=this._spacerElement=document.createElement("div");if(e){a.classList.add(e)}t.parentNode.insertBefore(a,t);a.appendChild(t)}_adjustSpacerHeight(){if(this._stuck){this._spacerElement.style.height=`${this._elementRect.height}px`}else{this._spacerElement.style.height=""}}_wireEvents(){this._boundScrollHandler=this._scrollHandler.bind(this);window.addEventListener("scroll",this._boundScrollHandler)}_unwireEvents(){window.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}_shouldStick(){const{anchor:e,shouldStick:t}=this._settings;if(typeof t==="function"){return t(this._element,this._elementRect)}if(!e){console.warn(`Could not determine when to stick element ${this._element}`);return false}return this._spacerElementRect.top<this._anchorElementRect.bottom&&this._isFixed(e)}_shouldUnstick(){const{shouldUnstick:e}=this._settings;if(typeof e==="function"){return e(this._element,this._elementRect)}return this._elementRect.top<=this._spacerElementRect.top}_getRect(e){if(e===window){return{bottom:0,height:0,left:0,right:0,top:0,width:0}}return e.getBoundingClientRect()}_isFixed(e){if(e===window){return true}const t=window.getComputedStyle(e).getPropertyValue("position");return t==="fixed"}_positionAtAnchor(){this._element.style.top=`${this._anchorElementRect.bottom}px`}_updateStickiness(){const{alwaysStick:e,onAfterStick:t,onAfterUnstick:a,onBeforeStick:s,onBeforeUnstick:n}=this._settings;if(e||this._shouldStick()){if(typeof s==="function"){s()}this.stick();if(typeof t==="function"){t()}}else if(this._shouldUnstick()){if(typeof n==="function"){n()}this.unStick();if(typeof a==="function"){a()}}this._triggerUpdateEvent()}_triggerUpdateEvent(){this._element.dispatchEvent(new CustomEvent("ba:stickyUpdate",{bubbles:true,detail:{stuck:this._stuck}}))}_verifySettings(){const{anchor:e,shouldStick:t}=this._settings;if(!this._element){throw new Error("An element to make sticky must be provided.")}if(!e&&typeof t!=="function"){throw new Error("An element anchor option or shouldStick callback option is required to use Sticky.")}}_watchHeight(){if(this._watchingHeight){return}if(this._spacerElement.height!==this._anchorElementRect){this._adjustSpacerHeight()}window.requestAnimationFrame((()=>this._watchHeight()))}_scrollHandler(){this._updateStickiness()}}},14063:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(40904);class n extends s.Z{static get className(){return"StickyTableHeader"}constructor(e,t){if(!e.tHead){throw new Error(`${e} must contain a <thead>. No <thead> was found.`)}super(e.tHead.firstElementChild,t);this._tableElement=e;this._positionAtSpacer();this._updateStickiness()}get _hasPassedBottomOfParent(){const e=this._tableElement.getBoundingClientRect();return this._elementRect.bottom>e.bottom}stick(){this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true}unStick(){this._positionAtSpacer();this._stuck=false}update(){this._addSpacerElement();this._updateStickiness()}_positionAtSpacer(){const e=window.getComputedStyle(this._tableElement);const t=e.getPropertyValue("position");if(t==="static"){this._tableElement.style.position="relative"}this._element.style.position="absolute";this._element.style.left=0;this._element.style.top=0;this._element.style.width="100%"}_positionAtAnchor(){super._positionAtAnchor();this._element.style.left=`${this._spacerElementRect.left}px`;this._element.style.width=`${this._spacerElementRect.width}px`;this._element.style["z-index"]=1}_wireEvents(){super._wireEvents();this._boundResizeHandler=this._resizeHandler.bind(this);window.addEventListener("resize",this._boundResizeHandler)}_unwireEvents(){super._unwireEvents();window.removeEventListener("resize",this._boundResizeHandler);this._boundResizeHandler=null}_resetCells(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);t.forEach(((t,a)=>{const s=e[a];t.style.width=s.dataset.sthOriginalWidthStyle;s.style.width=s.dataset.sthOriginalWidthStyle;delete t.dataset.sthOriginalWidthStyle;delete s.dataset.sthOriginalWidthStyle}))}_addSpacerElement(){const e=this._spacerElement;this._spacerElement=this._element.cloneNode(true);this._spacerElement.style.visibility="hidden";this._spacerElement.style.position="static";const{spacerCSSClass:t}=this._settings;if(t){this._spacerElement.classList.add(t)}this._resetCells();if(e&&e.parentNode){this._element.parentNode.replaceChild(this._spacerElement,e)}else{this._element.parentNode.appendChild(this._spacerElement)}}_updateColumnWidths(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);this._resetCells();e.forEach(((e,a)=>{const s=t[a];const n=`${s.offsetWidth}px`;e.dataset.sthOriginalWidthStyle=s.style.width;e.style.width=n}))}_updateStickiness(){super._updateStickiness();this._updateColumnWidths()}_resizeHandler(){this._positionAtSpacer();this._updateStickiness()}_scrollHandler(){super._scrollHandler();this._element.style.visibility=this._hasPassedBottomOfParent?"hidden":"visible"}setTableElement(e){if(e){this._removeSpacerElement();this._tableElement=e;this._element=e?.tHead?.firstElementChild;this._addSpacerElement()}}}},69835:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(73641);var n=a.n(s);var i=a(71141);var o=a(71251);const r=(0,i.isEnabled)("jade");class l extends o.Z{static get className(){return"Tooltip"}constructor(e,t){const a=r?8:5;t=(0,s.extend)({themeClass:"Balloon--tooltip",delay:300,tail:true,tailSize:a,minTailOnBalloon:6,triggerEvent:"hover",push:r?10:8},t);super(e,t)}static createStandard(e,t){if(t.template){throw new Error(`You misunderstand the purpose of creating a standard tooltip. You don't need a template option using this creation method.`)}const{title:a,content:s,...n}=t;n.template={name:"tooltip-standard",data:{title:a,content:s}};return super.create(e,n)}}},1415:(e,t,a)=>{"use strict";a.d(t,{si:()=>w,Tg:()=>S});var s=a(19273);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(17842);var l=a.n(r);var c=a(60042);var d=a.n(c);var u=a(59155);var $=a(26570);const h=(0,u.makeStyles)((e=>{let{palette:t,typography:a}=e;return{optionNote:{fontSize:a?.teenie?.fontSize},optionNoteNotActive:{color:t.gray[700]}}}));function p(e){let{employeeAccessLevels:t=[],employeeAccessLevel:a,onChange:s}=e;const o=h();const[r,l]=(0,i.useState)(a);const c=(e,t)=>{if(e.value==="full"){return(0,n.Z)("div",{},void 0,(0,n.Z)("div",{},void 0,e.text),(0,n.Z)("div",{className:d()(o.optionNote,{[o.optionNoteNotActive]:!t.isActive})},void 0,$.__("Allows them to see the same info about themselves as they can see about others.")))}return e.text};return(0,n.Z)(u.Select,{id:"AccessLevelsSettingsModal__employeeAccessLevel",isClearable:false,items:t,onChange:e=>{let[t]=e;l(t);if(typeof s==="function"){s(t)}},selectedValues:[r],width:7,renderOptionContent:c})}var m=a(26570);function f(e){let{onEmployeeAccessLevelChange:t,url:a}=e;const[s,r]=(0,i.useState)(null);const{user:c,employeeAccessLevels:d=[],employeeAccessLevel:u}=s||{};(0,i.useEffect)((()=>{if(s){return r(null)}if(a&&typeof a==="string"){l().get(a).then((e=>{r({...e.data,employeeAccessLevels:e.data.employeeAccessLevels.map((e=>{let{value:t,label:a}=e;return{text:a,value:t}}))})}))}}),[a]);(0,i.useEffect)((()=>{if(s){window.BambooHR.Modal.setState({isLoading:false},true)}}),[s]);return s&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("fieldset",{className:"fab-FormSection no-margin"},void 0,(0,n.Z)("legend",{className:"fab-FormSection__legend no-margin"},void 0,c?(0,n.Z)(i.Fragment,{},void 0,c==="true"?(0,n.Z)(i.Fragment,{},void 0,m.__(`Hold on!`),"",m.__(`Before you add a Payroll Admin, you need to set a default Employee Access Level that will apply to all Payroll admins.`)):(0,n.Z)(i.Fragment,{},void 0,m.__(`Before %1$s can become a Payroll Admin, you need to set a default Employee Access Level for Payroll admins.`,c.firstName)),"",m.__(`You'll only need to do this once, and it can be changed later in Payroll settings.`)):(0,n.Z)(i.Fragment,{},void 0,m.__(`Set what Payroll Admins can see about themselves.`)),(0,n.Z)("span",{className:"fab-FormSection__legendNote"},void 0,c?(0,n.Z)(i.Fragment,{},void 0,m.__(`This determines what information they will be able to see about themselves.`),"",m.__(`If they are also in a Custom Access Level, their permissions will be combined.`)):(0,n.Z)(i.Fragment,{},void 0,m.__(`This is done by choosing the Employee Access Level.`),"",m.__(`Note that if they are also in a Custom Access Level, their permissions will be combined.`))))),(0,n.Z)("fieldset",{className:"fab-FormSection no-padding"},void 0,(0,n.Z)("div",{className:"fab-FormRow no-margin"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"AccessLevelsSettingsModal__employeeAccessLevel"},void 0,m.__(`Which Employee Access Level should Payroll Admins have?`)),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,o().createElement(p,{onChange:t,employeeAccessLevels:d,employeeAccessLevel:u})))))))}var g=a(26570);const v="/access_levels/payroll-admin/edit";function y(e){let t=g.__("Payroll Admin Settings");let a=g.__("Save");const s=new URL(v,window.location.href);const i={};if(e){t=g.__("Payroll Admin Employee Access Level");if(typeof e==="object"){const{firstName:t,employeeId:n,userId:i}=e;a=g.__("Save & Add %1$s",t);s.searchParams.append("user[firstName]",t);s.searchParams.append("user[employeeId]",n);s.searchParams.append("user[userId]",i)}else{s.searchParams.append("user","true")}}return new Promise(((e,o)=>{window.BambooHR.Modal.setState({isOpen:true,title:t,headerType:"text",headline:g.__("Payroll Admin"),icon:"fab-lock-16x20",isLoading:true,primaryActionText:a,primaryAction:()=>{if(!i.employeeAccessLevel){window.BambooHR.Modal.setState({isOpen:false});return}b(i).then(e).catch(o)},content:(0,n.Z)(f,{onEmployeeAccessLevelChange:e=>{i.employeeAccessLevel=e},url:s.href})})}))}function b(e){let{employeeAccessLevel:t}=e;window.BambooHR.Modal.setState({isProcessing:true},true);return l().post(v,{employeeAccessLevel:t}).then((e=>{let{data:a}=e;if(!a.success){throw new Error(a)}if(a.message){window.setMessage(a.message,"success")}window.BambooHR.Modal.setState({isOpen:false});return{...a,employeeAccessLevel:t}})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);window.setMessage(e.errorMessage||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.error||e)}))}var w={showSettingsModal:y};function S(){return l().get("/settings/access_levels/group_list")}},19273:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Be});var s=a(92959);var n=a.n(s);var i=a(73641);var o=a(38592);var r=a(17842);var l=a.n(r);var c=a(1415);var d=a(96064);var u=a(88604);var h=a(23321);var p=a.n(h);var m=a(37803);var f=a(96247);var g=a.n(f);var v=a(21106);var y=a.n(v);var b=a(45638);var w=a.n(b);var S=a(89835);var $=a(26570);function C(e){let{_bem:t,icon:a,isButton:s,isDropdown:n,isOption:i,isInput:o,$elem:r}=e;if(i){return(0,S.Z)("ba-option",{},void 0,$.__("BambooHR Access Level"),(0,S.Z)("div",{className:t("label")}),(0,S.Z)("ba-option-group",{class:t("down-list")}),(0,S.Z)("div",{className:t("inputWrapper"),style:{display:"none !important"}}))}let l;let c;if(r&&r[0]){if(r[0].hasAttribute("width")){l=parseInt(r.attr("width"))}if(r[0].hasAttribute("name")){c=r.attr("name")}}if(s){return(0,S.Z)("ba-dropdown",{"button-icon":a,"button-outline":true,"button-secondary":true,"button-size":"teenie",class:t("^"),width:l})}if(o){return(0,S.Z)("ba-select",{"button-width":7,name:c,"not-clearable":true,width:l})}return(0,S.Z)("div",{className:t("^")},void 0,(0,S.Z)("div",{className:t("menu")},void 0,(0,S.Z)("div",{className:t("btn")},void 0,n&&(0,S.Z)("a",{},void 0,$.__("BambooHR Access Level"),(0,S.Z)("br",{}),(0,S.Z)("i",{className:t("label")}))),(0,S.Z)("ul",{className:t("down-list"),style:{display:"none"}})),(0,S.Z)("div",{className:t("inputWrapper"),style:{display:"none !important"}}))}var x=a(59155);var T=a(71141);var E=a(26570);function k(e){let{label:t,...a}=e;const{isButton:s,isInput:n,isExcluded:i,levelTypes:o}=a;return(0,S.Z)(h.Fragment,{},void 0,(0,S.Z)("ba-toggle-content",{},void 0,t),s&&p().createElement(M,a),o.filter((e=>e.name!=="all"&&!i(e.name))).map((e=>p().createElement(A,(0,u.Z)({},a,{key:e.name,levelType:e})))),!i("multiple")&&p().createElement(N,(0,u.Z)({anchor:"bottom","data-bi-id":"test-id"},a),p().createElement(Z,(0,u.Z)({},a,{multiple:true}),E.__("Multiple Access Levels..."))),n&&p().createElement(D,a))}function Z(e){const{_bem:t,children:a,classes:s,accessLevel:n,isSelected:i,multiple:o=false,preview:r=false,resetPassword:l=false,managePayrollCompanyAccess:c=false}=e;const d=n&&i(n);const u=t("item",{"^checked":d},s);let h;let p="";if(o){h="multiple";p="multiple-access-levels-action"}else if(r){h="preview";p="preview-user-action"}else if(l){h="resetPassword";p="reset-user-password-action"}else if(n){h=n.id||"no_access"}else if(c){h="managePayrollCompanyAccess"}return(0,S.Z)("ba-option",{"action-only":!n||undefined,"data-access-level-selector-id":h,value:h},void 0,(0,S.Z)("div",{className:u,"data-bi-id":p},void 0,d&&(0,S.Z)("span",{className:t("ico","checked")},void 0,(0,S.Z)(x.Icon,{name:"fab-check-14x14"})),a))}function N(e){let{children:t,label:a,anchor:s}=e;return(0,S.Z)("ba-option-group",{anchor:s,label:a},void 0,t)}function I(e){const{accessLevel:t,isOption:a}=e;const{label:s,count:n}=t;return p().createElement(Z,e,s,"",(0,S.Z)("span",{className:"ba-Dropdown__optionDescriptorText"},void 0,"(",n,")"))}function A(e){const{levelType:t}=e;let{levels:a,label:s}=t;if(!(Array.isArray(a)&&a.length>0)){a=[t];s=null}if(Array.isArray(a)){return p().createElement(N,(0,u.Z)({},e,{label:s}),a.map((t=>p().createElement(I,(0,u.Z)({},e,{key:t.id||t.name,accessLevel:t})))))}return p().createElement(I,(0,u.Z)({},e,{accessLevel:t}))}function F(e,t){if(!e){return false}const a=t.map((e=>{if(e?.levels){return e.levels}return e})).flat();const s=a.find((t=>t.id===e));if(!s){return false}return s.isPayrollPermission}function M(e){const{_bem:t,canPreview:a,isExcluded:s,hasEmail:n,firstName:i,levelTypes:o,accessLevelId:r}=e;const l=(0,T.isEnabled)("PAYROLL_POPULATION_CONTROLS");const c=a===true&&!s("preview");const d=n&&!s("resetPassword");if(!c&&!d){return null}return p().createElement(N,(0,u.Z)({anchor:"top"},e),c&&p().createElement(Z,(0,u.Z)({},e,{classes:"js-previewAs",preview:true}),(0,S.Z)("span",{className:t("ico","preview")},void 0,(0,S.Z)("ba-icon",{name:"fab-eye-16x12"})),E.__("Preview BambooHR as %1",i)),d&&window.SESSION_COMPANY.allowPasswordLogin===true&&p().createElement(Z,(0,u.Z)({},e,{classes:"js-resetPassword",resetPassword:true}),E.__(`Reset User's Password`)),l&&F(r,o)&&p().createElement(Z,(0,u.Z)({},e,{classes:"js-managePayrollCompanyAccess",managePayrollCompanyAccess:true}),E.__(`Manage Payroll Access`)))}function D(e){let{accessLevelIds:t,inputFieldName:a,noAccessFieldName:s,noAccessValue:n}=e;return(0,S.Z)(h.Fragment,{},void 0,t.map((e=>(0,S.Z)("input",{name:a,type:"hidden",value:e},e))),(0,S.Z)("input",{name:s,type:"hidden",value:n}))}const P=e=>microTemplate(y(),e);const O=e=>microTemplate(w(),e);const L=new(g())("AccessLevelSelector",null,{menu:()=>["dropdown-menu"],btn:e=>{let{isButton:t,icon:a}=e;return["btn",{btnSmall:t,btnIcon:t&&a!=="none"}]},label:e=>{let{isOption:t}=e;return["js-AccessLevelSelector__label",{"fab-MenuOption__note":t}]},"down-list":()=>["js-AccessLevelSelector__down-list","down-list"],inputWrapper:()=>["js-AccessLevelSelector__inputWrapper"],item:()=>["branded-border-before"]});function R(e,t){const{fieldType:a}=t;const s=(e,s,n)=>new(g())(L,a,n).className(e,s,t);return(0,m.renderToStaticMarkup)(p().createElement(e,(0,u.Z)({_bem:s},t)))}const B=e=>R(C,e);const j=e=>R(k,e);var H=a(21198);var q=a(98675);var W=a(60658);var U=a(26570);const z=new H.BEM("AccessLevelChangeModal");function Y(e){const{clickAction:t}=e;return(0,S.Z)(q.u,{content:(0,S.Z)("p",{className:z.elem("copy")},void 0,U.__("Changing your access level could cause you to lose access to BambooHR features and functionality. You may not be able to undo this action.")),headline:U.__("Are you sure you want to change your access level?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,onClose:()=>(0,W.Mr)(),primaryAction:()=>{if(t){t()}(0,W.Mr)()},primaryActionText:U.__("Yes, Change My Access Level"),title:U.__("Are You Sure? You May Lose Access...")})}const G=e=>(0,W.K4)(p().createElement(Y,e));var V=a(26570);const K="ba-access-level-selector";const X=["input","button","li","ba-select","ba-option"];const J=X.map((e=>`${e}[${K}]`)).join(", ");const Q="/settings/access_levels/group_list";const ee="/settings/access_levels/user_info";const te="/ajax/employees/multiple_group_selection.php";const ae="/settings/access_levels/save_employees_access_level";const se="/settings/access_levels/preview_as_user/%1";const ne=10;const ie=500;const oe=new WeakMap;const re=new WeakMap;const le=new WeakMap;const ce=new WeakMap;const de=new WeakMap;const ue=new WeakMap;const he=new WeakMap;const pe=new WeakMap;const me=new WeakMap;const fe=new WeakMap;const ge=new WeakMap;const ve=new WeakMap;const _e=new WeakMap;const ye=new WeakMap;let be=[];let we;const Se=[];let Ce;const xe=[];const Te=[];const Ee=[];const ke={users:{},employees:{}};let Ze;const Ne={};function Ie(e){if(ye.get(e)){return e}e.off(".AccessLevelSelector");ye.set(e,true);e.on("hover.AccessLevelSelector",null,e,(()=>De(e))).on("click.AccessLevelSelector","li[data-id]",e,(function(){const t=V(this).attr("data-id");Pe(t,e)}));e.$wrapper.closest(".BhrForms").on("reset.AccessLevelSelector",(()=>{e.reset()}));e.$wrapper.closest("ba-dropdown, ba-select").on("ba:dropdownSelect ba:selectChange",(t=>{let{originalEvent:{type:a,target:s,detail:n}}=t;let i;if(a==="ba:dropdownSelect"){i=n.item.item.dataAccessLevelSelectorId}else if(a==="ba:selectChange"){i=V(s).find(`ba-option[value="${n.value}"]`).data("accessLevelSelectorId")}if(i){Pe(i,e)}}));return e}function Ae(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}let i=[];switch(t){case"change":i=[e.user.accessLevelIds,e.user];break}i.push(e);setTimeout((()=>{e.$wrapper.trigger(`AccessLevelSelector:${t}`,i.concat(s))}),0);return e}function Fe(e){if(e.userId!==null){window.location.href=window.sprintf(se,[e.userId])}}function Me(e){if((0,i.isPlainObject)(e.user)&&e.user.userId){(0,d.N)(e.user)}}function De(e){if(e.hasEmployee&&e.hasUser&&!e.hasUserData){e.fetch((()=>{e.refresh()}))}}function Pe(e,t){const a=window.SESSION_USER&&window.SESSION_USER.isAdmin;const{employeeId:s,userId:n}=t.user;const{label:i}=t.tmplData;e=e||"no_access";if(e==="no_access"||typeof Ne[e]!=="undefined"){if(a&&s===window.SESSION_USER.employeeId){return G({clickAction:()=>t.save(e)})}return t.save(e)}switch(e){case"multiple":{Oe(t);break}case"preview":{Fe(t);break}case"resetPassword":{Me(t);break}case"managePayrollCompanyAccess":{const e={employeeId:s,userId:n,accessLevelName:i};Ae(t,"openManagePayrollCompanyAccessModal",e);break}default:{Rollbar.warn(`[AccessLevelSelector] invalid levelId: "${e}" (${typeof e}) `);break}}}function Oe(e){const{userId:t,employeeId:a}=e;const s=Ne["payroll-admin"];l().get(te,{userId:t,employeeId:a,header:"employee"}).then((t=>{if(t.status===200){const{data:a}=t;const{user:{employeeName:s}}=e;window.BambooHR.Modal.setState({biId:"multiple-access-levels",isOpen:true,title:V.__("Multiple Access Levels"),primaryAction(){const t=document.querySelectorAll('#multiple-permissions input[type="checkbox"][name="groups"]:checked');const a=[...t].map((e=>e.value));e.save(a).then((()=>{window.BambooHR.Modal.setState({isOpen:false})}))},icon:"fab-lock-person-18x18",headline:s,headerType:"text",primaryActionText:V.__("Save"),dangerousContent:a})}}))}function Le(e,t,a){const{employeeId:s,hasEmployee:i,userId:r,user:{firstName:c}}=e;let d=t.length>1?V.__("%1$s Access Levels",t.length):(Ne[t[0]]||{}).label;let u;let h;let p=`/employees/updateEmails/${s}`;if(!i){p=`/settings/users/edit/${r}`}const m=P(e);const f=V.__("Add %1$s to %2$s",c,d);const g=()=>{const s=V("#access-levels-require-email-form");l().post(p,s.serialize()).then((function(s){let{data:n}=s;if(!n.success){const{error:e,errorMessage:t}=n;setMessage(t,"error");console.error(e);return}e.user.hasEmail=true;window.BambooHR.Modal.setState({isOpen:false});e.save(t,a).done((()=>{Ae(e,"changeEmail")}))}))};const v=e=>{const t=V("#access-levels-require-email-form");h=t.find('input[type="text"]');h.on("keyup paste change blur focus",(function(){var e;var t=h.toArray().map((e=>e.value));if(n()(e=t.map(o.validateEmail)).call(e,true)){window.BambooHR.Modal.setState({primaryAction:g},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}))};window.BambooHR.Modal.setState({dangerousContent:m,isOpen:true,onOpen:v,primaryAction:null,primaryActionText:V.__("Save"),title:f})}function Re(e){return c.si.showSettingsModal(e)}class Be{static get className(){return"AccessLevelSelector"}static fetchLevels(e){if((0,i.isFunction)(e)){xe.push(e)}clearTimeout(Ce);Ce=setTimeout((()=>{V.getJSON(Q).done((e=>{Ze=e.levelTypes;Ze.forEach((e=>{if(Array.isArray(e.levels)){e.levels.forEach((t=>{t.type=e.name;Ne[t.id]=t;Ne[t.name]=t}))}else if(e.id){Ne[e.id]=e;Ne[e.name]=e}delete Ne.undefined}));(0,o.callFunctionQueue)(xe);xe.length=0}))}),ne);return Be}static fetchUser(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!s&&e===null){(t||i.noop)({accessLevelIds:[],noAccess:false});return Be}if(Ee.length+Te.length>=ie){(t||i.noop)({});return Be}let n=s?"employees":"users";ke[n]=ke[n]||{};ke[n][e]=t;(s?Ee:Te).push(e);clearTimeout(we);we=setTimeout((()=>{V.post(ee,{userIds:Te,employeeIds:Ee}).done((e=>{let{success:t,errorMessage:s,error:n,users:r}=e;if(!t){setMessage(s,"error");console.error(n);return}r.forEach((e=>{(ke.users[e.userId]||ke.employees[e.employeeId]||i.noop)(e)}));(0,o.callFunctionQueue)(Se,null,r);Se.length=0;(a||i.noop)(r)}));Te.length=0;Ee.length=0}),ne);return Be}static fetchEmployee(e,t,a){return Be.fetchUser(e,t,a,true)}static hideNotLoaded(){Be.$elements.css("visibility","hidden");return Be}static each(){Be.$elements.each(...arguments);return Be}static init(){Be.hideNotLoaded().refresh();return Be}static refresh(){V((()=>{if(!Be.$elements.length){return}Be.hideNotLoaded();Be.fetchLevels((()=>{be=be.filter((e=>{if(e&&e.$wrapper&&e.$wrapper.closest(document.documentElement).length>0){e.refresh();return true}}));Be.each((function(){new Be(this)}))}))}));return Be}static get $elements(){return V(J)}get $wrapper(){return oe.get(this)}get $downList(){return re.get(this)}get $inputWrapper(){return le.get(this)}get $label(){return ce.get(this)}get type(){return de.get(this)}get isButton(){return this.type==="button"}get isInput(){return this.type==="input"}get isDropdown(){return this.type==="li"}get isOption(){return this.type==="ba-option"}get userId(){return ue.get(this)}get accessLevelId(){return pe.get(this)}get employeeId(){return he.get(this)}get user(){let e=me.get(this);if(!e){e={};me.set(this,e)}return e}get hasUser(){return!!this.userId}get hasEmployee(){return!!this.employeeId}get hasUserData(){return!!(this.user.userId||this.user.employeeId)}get icon(){return fe.get(this)||"fab-lock-person-18x18"}get label(){if(this.user.noAccess){return V.__("No Access")}let e=this.user.accessLevelIds||[];let t=e.length;let a;let s;switch(t){case 0:a=ge.get(this);break;case 1:s=e[0];a=(Ne[s]||{}).label;break;default:a=V.__("%1 Access Levels",t);break}return a}get exclude(){return ve.get(this)}get tmplData(){var e=this;var t="accessLevelIds";var a="noAccess";if(this.userId){t+=`[${this.userId}]`;a+=`[${this.userId}]`}return{accessLevelId:this.accessLevelId,label:this.label,levelTypes:Ze,fieldType:this.type,isButton:this.isButton,isInput:this.isInput,isDropdown:this.isDropdown,isOption:this.isOption,icon:this.icon,firstName:this.user.firstName,hasEmail:this.user.hasEmail,canPreview:!!this.user.canPreview,accessLevelIds:this.user.accessLevelIds,inputFieldName:t+"[]",noAccessValue:JSON.stringify(this.user.noAccess),noAccessFieldName:a,isSelected(t){if(!t){return false}let a=e.user.accessLevelIds.some((e=>String(e)===String(t.id)));return a&&e.user.noAccess!==true||e.user.noAccess==true&&t.name==="no_access"},isExcluded(t){var a,s,o;if((0,i.isString)(t)){t={type:t}}let r=t.type||t.name;return!e.hasEmployee&&r=="employee"||n()(a=e.exclude).call(a,t.type)||n()(s=e.exclude).call(s,t.id)||n()(o=e.exclude).call(o,t.name)}}}constructor(e){var t=V(e);var a=e.nodeName.toLowerCase();de.set(this,a);var s=t.attr("data-icon");fe.set(this,s);var n=t.attr("data-placeholder")||`${V.__("None Selected")}`;ge.set(this,n);var o=(t.attr("data-exclude")||"").trim().split(/\s*,\s*/g);ve.set(this,o);var r=t.attr("data-user-id")||null;r=(0,i.isString)(r)&&r.trim()==="null"?null:r;ue.set(this,r);var l=t.attr("data-employee-id")||null;l=(0,i.isString)(l)&&l.trim()==="null"?null:l;he.set(this,l);var c=t.attr("data-access-level-id")||null;pe.set(this,c);this.fetch((a=>{if(a.isOwner){t.remove();return}ve.set(this,(0,i.union)(this.exclude||[],a.exclude||[]));var s=V(B({...this.tmplData,$elem:t}));oe.set(this,s);Object.entries(e.dataset).forEach((e=>{let[t,a]=e;s.attr((0,i.kebabCase)(`data ${t}`),a)}));let n;if(s.is("ba-dropdown, ba-select")){n=s}else{n=s.find(".js-AccessLevelSelector__down-list")}re.set(this,n);var o=s.find(".js-AccessLevelSelector__inputWrapper");le.set(this,o);var r=s.find(".js-AccessLevelSelector__label");ce.set(this,r);s.data("AccessLevelSelector",this);if(this.isDropdown){t.html(s).addClass("hasSublist").css("visibility","").data("AccessLevelSelector",this)}else{t.replaceWith(s)}Ie(this);this.refresh();Ae(this,"init")}));be.push(this)}on(){this.$wrapper.on(...arguments);return this}off(){this.$wrapper.off(...arguments);return this}reset(){this.save(null);Ae(this,"reset");return this}fetch(e,t){let a=this.hasEmployee&&!this.hasUser;let s=a?this.employeeId:this.userId;Be.fetchUser(s,(t=>{me.set(this,t);_e.set(this,(0,i.clone)(t));(e||i.noop)(t)}),t,a);return this}refresh(){const{tmplData:e}=this;this.$downList.html(j(e));this.$inputWrapper.html(O(e));this.$label.text(this.label);Ae(this,"refresh");return this}save(e,t){let a=[];let s=e==="no_access";let o=t||V.Deferred();const r=Ne["payroll-admin"];if(Array.isArray(e)){a=e.map((e=>String(e)))}else if(e==="no_access"){a=this.user.accessLevelIds||[];s=true}else if(e===null){let e=_e.get(this)||{};a=e.accessLevelIds||[];s=!!e.noAccess}else{a=[e]}if(r&&!s&&n()(a).call(a,r.id)&&!r.defaultESS&&r.selfAccessLevel=="none"&&this.user&&this.user.firstName){Re(this.user).then((e=>{let{employeeAccessLevel:t}=e;r.defaultESS=t;r.selfAccessLevel="NotNone";this.save(a,o)}));return o.promise()}if(this.isInput){this.user.accessLevelIds=a;this.user.noAccess=s;this.refresh();Ae(this,"change");o.resolve(this.user)}else if(this.userId||this.employeeId){if(!this.user.hasEmail){Le(this,a,o);return o.promise()}let e={userIds:[this.userId],employeeIds:[this.employeeId],editType:"change",accessLevelIds:a,noAccess:s};V.post(ae,e).done((e=>{if(!e.success){setMessage(e.errorMessage,"error");console.error(e.error);o.reject(e.error);return}let t=e.users[this.userId]||(0,i.find)(e.users,{employeeId:this.employeeId})||{};ue.set(this,t.userId||this.userId);this.user.userId=this.userId;this.user.accessLevelIds=t.accessLevelIds||a;this.user.noAccess=t.noAccess||s;this.user.canPreview=t.canPreview;this.refresh();Ae(this,"change");o.resolve(this.user)}))}return o.promise()}}V(Be.init);V(window).on("pushState replaceState popState refreshState",Be.init)},51720:(e,t,a)=>{"use strict";a.d(t,{T:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(98675);var r=a(73641);var l=a.n(r);var c=a(59592);var d=a(71591);var $=a(26570);function u(e){const{fieldId:t,isOpen:a,label:l=$.__("Item"),onCancel:u,onSave:h,name:p,url:m="/ajax/list_insert.php"}=e;const f=(0,n.useRef)();const g=(0,r.uniqueId)("add-item");const[v,y]=(0,n.useState)("");const b=async()=>{if(!f.current||!$(f.current).valid()){return}try{const e=await(0,d.j)(m,t,p,v);h(v,e);(0,c.f)($.__("The %s was added successfully.",l),"success")}catch(e){const t=e.data&&(e.data.message||e.data.error)?e.data.message||e.data.error:$.__("Uh oh. Something went wrong. Please try again.");(0,c.f)(t,"error")}};const w=()=>{if(f.current){$(f.current).bhrValidate()}};const S={isOpen:a,onClose:u,onOpen:w,primaryAction:b,primaryActionText:$.__("Save"),title:$.__("Add %s",l)};(0,n.useEffect)((()=>{if(!a){y("")}}),[a]);return i().createElement(o.u,S,i().createElement("form",{className:"BhrForms",ref:f},(0,s.Z)("div",{className:"fieldBox required"},void 0,(0,s.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:g},void 0,$.__("%s Name",l)),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width7",id:g,name:p,onChange:e=>y(e.currentTarget.value),required:true,type:"text",value:v}))))}},35134:(e,t,a)=>{"use strict";a.d(t,{T:()=>E});var s=a(89835);var n=a(88604);var i=a(23321);var o=a.n(i);var r=a(84479);var l=a(77512);var c=a(60658);var d=a(76725);var u=a(51720);var h=a(98675);var p=a(89998);var m=a(17842);var f=a.n(m);var g=a(85656);function v(e,t,a){const s=f().prepareData({action:"new-section",ajax:1,field:t,name:a.name,acaStatus:a.acaStatus===""?null:a.acaStatus},f().prepareDataTypes.FORM_DATA);const n=(0,g.extendURL)({fieldId:e},"/ajax/list_insert.php");return f().post(n,s)}function y(e){const{data:t}=e;if(!t){return false}return t.ret==="SUCCESS"||t.response==="SUCCESS"}var $=a(26570);function b(e){const{acaStatuses:t,fieldId:a,fieldName:n,onClose:o,onSave:r,showAcaStatus:l}=e;const[c,d]=(0,i.useState)(false);const u=e=>{v(a,n,e).then((t=>{d(false);if(y(t)){window.setMessage($.__("The Employment Status was added successfully."),"success");r(e.name,t.data.id||t.data.data.id)}else{const e=t.data&&(t.data.message||t.data.error)?t.data.message||t.data.error:"";window.setMessage(e||window.DEFAULT_ERROR_MESSAGE,"error")}})).catch((e=>{window.Rollbar.error("Failed to save employment status",e);d(false)}))};const m=()=>{d(true)};const f=()=>{o()};return(0,s.Z)(h.u,{isOpen:true,isProcessing:c,onClose:f,primaryAction:m,primaryActionText:$.__("Save"),title:$.__("Add Employment Status")},void 0,(0,s.Z)(p.Y,{acaStatuses:t||[],isProcessing:c,postFormData:u,setIsProcessing:d,showAcaStatus:l}))}var w=a(59155);var S=a(59592);var C=a(73641);var x=a(71591);var T=a(26570);function E(e){let{component:t,endpointUrl:a="/ajax/list_insert.php",field:i,onCancel:r,onSave:l,open:c,title:d}=e;const{controlled:u,formState:{errors:h},fields:p,handleSubmit:m,reset:f}=(0,w.useForm)([{name:"value"}]);const g=async e=>{try{const{value:t}=e;const s=`field_${i.id}`;const n=await(0,x.j)(a,i.id,s,t);l({text:t,value:`${n}`})}catch(e){const t=(0,C.unescape)(e?.data?.message)||T.__("Oops! Something went wrong. Please try again later.");(0,S.f)(t,"error")}};const v=()=>{(0,S.f)(T.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const y=t.Constraint.Spacing.LARGE;return(0,s.Z)(t,{isOpen:c,onCloseComplete:f,onRequestClose:r},void 0,(0,s.Z)(t.Body,{renderFooter:(0,s.Z)(t.Footer,{actions:[(0,s.Z)(w.Button,{onClick:m(g,v)},"save",T.__("Save")),(0,s.Z)(w.TextButton,{onClick:r},"cancel",T.__("Cancel"))]}),renderHeader:(0,s.Z)(t.Header,{title:d})},void 0,(0,s.Z)(t.Constraint,{spacingOverrides:{bottom:y,top:y}},void 0,u((e=>o().createElement(w.TextField,(0,n.Z)({},e,{label:i.label,status:h.value?"error":undefined,width:7}))),p.value))))}var k=a(26570);let Z=null;function N(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a=a=>function(){a(...arguments);N(e,{...t,isOpen:false})};const{isOpen:s=true,onCancel:i,onSave:r}=t;(0,l.s)(o().createElement(u.T,(0,n.Z)({},t,{isOpen:s,onCancel:a(i),onSave:a(r)})),e)}function I(e,t){const{fieldId:a,fieldName:n,onCancel:i,onSave:o,settings:r}=t;const l=e=>function(){e(...arguments);(0,c.Mr)()};if(e==="employmentStatus"){let e=false;let t=[];if(r){e=Boolean(r.showAcaStatus);t=r.acaStatuses}else{const a=(0,d.V)("#js-employmentStatusModalData",true);if(a){e=Boolean(a.showAcaStatus);t=a.acaStatuses}}(0,c.K4)((0,s.Z)(b,{acaStatuses:t,fieldId:a,fieldName:n,onClose:l(i),onSave:l(o),showAcaStatus:e}))}}k(document).on("ba:selectAddItem",(e=>{const{originalEvent:t,target:a}=e;const{detail:s}=t;const n=k(a);const i=n.attr("data-add-item-field-id");const o=n.attr("data-add-item-label");const l=n.attr("data-skip-default-modal");const c=n.attr("name")||n.attr("data-name");if(t.defaultPrevented||!i||l){const e=(0,r.createLogger)("AddItem.mod");if(!i){e.warn('`<ba-select>` is missing the required "data-add-item-field-id" attribute. Prevent default on "ba:selectAddItem" to remove this warning.')}if(!c){e.warn('`<ba-select>` is missing a required value in the "name" attribute.')}return}const d=n.attr("data-custom-modal-key");if(d){const e={fieldId:i,label:o,onCancel:()=>s.reject(),onSave:(e,t)=>{s.resolve([{selected:true,text:e,value:t}])},fieldName:c,settings:s.settings};I(d,e);return}if(!Z||!Z.length){Z=k("<div>").appendTo(document.body)}const u={fieldId:i,label:o,onCancel:()=>s.reject(),onSave:(e,t)=>{s.resolve([{selected:true,text:e,value:t}])},name:c,url:n.attr("data-add-item-url")};N(Z[0],u)}))},71591:(e,t,a)=>{"use strict";a.d(t,{j:()=>r});var s=a(17842);var n=a.n(s);var i=a(85656);var o=a.n(i);function r(e,t,a,s){const o=n().prepareData({action:"new-section",ajax:1,field:a,name:s},n().prepareDataTypes.FORM_DATA);e=(0,i.extendURL)({fieldId:t},e);return n().post(e,o).then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{data:t}=e;return t.ret==="SUCCESS"||t.response==="SUCCESS"?t.id||t.data.id:Promise.reject({data:t})}))}},98256:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var s=a(23321);var n=a.n(s);var i=a(98675);function o(e){const{id:t,message:a,title:s,onClose:o,visible:l,onDelete:c,primaryActionText:d,secondaryActionText:u}=e;return n().createElement(i.u,r(l,o,t,c,s,a,d,u))}function r(e,t,a,s,n,i,o,r){return{alternativeAction:null,headline:i,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:e,onClose:t,primaryAction:()=>s(a),secondaryAction:t,primaryActionText:o,secondaryActionText:r,title:n}}},81814:(e,t,a)=>{"use strict";a.d(t,{dX:()=>u,kh:()=>q,ys:()=>I,q3:()=>N,O_:()=>k,bI:()=>U,J_:()=>K,Uj:()=>D,cZ:()=>P,I6:()=>O,Js:()=>L,Qc:()=>X});var s=a(89835);var n=a(23321);var $=a(26570);function i(e){const{isAccepted:t,onChange:a}=e;return(0,s.Z)("div",{className:"DataProcessingAgreeementAgreement"},void 0,(0,s.Z)("label",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{checked:t,className:"fab-Checkbox__input",onChange:e=>a(e.target.checked),type:"checkbox"}),(0,s.Z)("span",{className:"fab-Checkbox__label"},void 0,$.__("I agree to the Data Processing Agreement"))),(0,s.Z)("div",{className:"DataProcessingAgreeementAgreement__summary"},void 0,(0,s.Z)("p",{},void 0,$.__(`By accepting the Data Processing Agreement (DPA), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland.`),"",(0,s.Z)("a",{className:"DataProcessingAgreeementAgreement__link",href:"https://www.bamboohr.com/data-processing-agreement/",rel:"noopener noreferrer",target:"_blank"},void 0,$.__("Read Full DPA")))))}var o=a(37194);var r=a(21198);var l=a(28112);var c=a(26570);const d=new r.BEM("DataProcessingAgreementConditionalAgreement");function u(e){const{hasEmployees:t,isAccepted:a,onHasEmployeesChange:n,onIsAcceptedChange:r}=e;const u=e=>{n(e.target.value!=="no")};return(0,s.Z)("div",{className:d.elem()},void 0,(0,s.Z)(o.Message,{text:c.__("Does your company have employees in the **European Union**, **EEA**, the **United Kingdom** or **Switzerland**?")}),(0,s.Z)("fieldset",{className:`${d.elem("answers")} fab-RadioGroup`},void 0,(0,s.Z)("label",{className:"fab-Radio"},void 0,(0,s.Z)("input",{checked:!t,className:"fab-Radio__input",name:"hasEmployees",onChange:u,type:"radio",value:"no"}),(0,s.Z)("span",{className:"fab-Radio__label"},void 0,c.__(`No, we don't`))),(0,s.Z)("label",{className:"fab-Radio"},void 0,(0,s.Z)("input",{checked:t,className:"fab-Radio__input",name:"hasEmployees",onChange:u,type:"radio",value:"yes"}),(0,s.Z)("span",{className:"fab-Radio__label"},void 0,c.__(`Yes, we do`)))),(0,s.Z)(l.K,{isOpen:t},void 0,(0,s.Z)("div",{className:d.elem("agreement")},void 0,(0,s.Z)("p",{className:d.elem("requiredMessage")},void 0,c.__(`In order to use BambooHR, youll need to agree to the following.`)),(0,s.Z)(i,{isAccepted:a,onChange:r}))))}var h=a(98675);var p=a(59592);var m=a(26570);const f=m.__(`Got it! Thank you for accepting our Data Processing Agreement.`);const g=m.__(`Got it! Thank you for responding to our Data Processing Agreement question.`);const v=m.__(`If you have employees in certain countries,\n you'll need to agree to something called a Data\n Processing Agreement.`);const y=m.__("GDPR Compliance");var b=a(60042);var w=a.n(b);var S=a(59155);function C(e){const{hasSeparator:t=true,icon:a,children:n}=e;return(0,s.Z)("div",{className:w()("DataProcessingAgreementModalHeadline",{"DataProcessingAgreementModalHeadline--hasSeparator":t})},void 0,(0,s.Z)(S.Icon,{brand:true,name:a}),n?(0,s.Z)("h3",{},void 0,n):null)}var x=a(26570);const T=x.__(`Sounds Good! We'll ask again in a week.`);const E="fab-eu-globe-58x58";const k=Object.seal({COMPLETE_LATER:"complete_later",DECLINED:"declined",NEEDS_PROMPT:"needs_prompt",NEEDS_TO_SIGN:"needs_to_sign",SIGNED:"signed",UPDATE_PENDING:"update_pending"});const Z=!!window.SESSION_USER?.isAdmin;const N="dpa_update_postponed_on";function I(){return(0,s.Z)(C,{icon:E},void 0,(0,s.Z)(o.Message,{text:v}))}var A=a(17842);var F=a.n(A);var M=a(50463);function D(e,t){return B(e,{status:k.SIGNED},t)}function P(e,t){return B(e,{status:k.COMPLETE_LATER},t)}function O(e,t){return B(e,{status:k.DECLINED},t)}function L(){return R().then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e[0]}))}function R(){return F().get("/data_processing_agreements",{latest:true}).then((function(){let{data:e=[]}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return e}))}function B(e,t){let{setSessionMessage:a=false}=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return F().put(`/data_processing_agreements/${e}?setSessionMessage=${a?"true":"false"}`,t)}function j(e,t){localStorage.setItem(N,M.ou.local().toISO());return B(e,{status:k.UPDATE_PENDING},t)}var H=a(26570);function q(e){const{agreement:t={},hasCloseButton:a=false,hasCompleteLaterButton:i=true,isOpen:o,onClose:r}=e;const[l,c]=(0,n.useState)(false);const[d,m]=(0,n.useState)(false);const[v,b]=(0,n.useState)(false);const w=!l||d;const S=async()=>{b(true);try{if(d){await D(t.id)}else{await O(t.id)}b(false);(0,p.f)(d?f:g,"success");r()}catch(e){b(false);(0,p.f)(H.__(`Oops. Something went wrong. Please try again.`),"error")}};const C=async()=>{b(true);try{await P(t.id);(0,p.f)(T,"success");b(false);r()}catch(e){b(false);(0,p.f)(H.__(`Oops. Something went wrong. Please try again.`),"error")}};return(0,s.Z)(h.u,{alternativeAction:null,contentHasMaxHeight:false,hasCloseButton:a,isOpen:o,isProcessing:v,onClose:r,primaryAction:w?S:null,primaryActionText:H.__("Done"),secondaryAction:i?C:undefined,secondaryActionText:i?H.__("Complete Later"):undefined,title:y},void 0,(0,s.Z)(I,{}),(0,s.Z)(u,{hasEmployees:l,isAccepted:d,onHasEmployeesChange:c,onIsAcceptedChange:m}))}var W=a(26570);function U(e){const{agreement:t,isOpen:a,onClose:r=(()=>{})}=e;const[l,c]=(0,n.useState)(false);const d=async()=>{try{await D(t.id);r();(0,p.f)(W.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,p.f)(W.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}};return(0,s.Z)(h.u,{alternativeAction:null,hasCloseButton:false,isOpen:a,primaryAction:l?d:null,primaryActionText:W.__("Save")},void 0,(0,s.Z)(C,{icon:E},void 0,(0,s.Z)(o.Message,{text:W.__("Someone At Your Company Requested Our\n Data Processing Agreement.")})),(0,s.Z)("div",{style:{marginTop:"24px"}},void 0,(0,s.Z)(i,{isAccepted:l,onChange:e=>c(e)})))}var z=a(38162);var Y=a(26570);const G=(0,S.makeStyles)((e=>({checkboxLine:{display:"flex",alignItems:"center",marginTop:e.spacing(3),marginBottom:e.spacing(1)},label:{color:e.palette.grey[800]},icon:{width:50,height:54},link:{marginLeft:e.spacing(1)},confirmationdetails:{fontSize:e.typography.fabricFontSize("small"),color:e.palette.grey[800],paddingBottom:e.spacing(1.5)}})));const V=Y.__("Based on a recent changes in the E.U. courts, we have updated our Data Processing Agreement. For companies with employees in certain countries, we recommend agreeing to our updated version.");function K(e){let{agreement:t,isOpen:a,onClose:i=(()=>{})}=e;const[o,r]=(0,n.useState)("");const[l,c]=(0,n.useState)(false);const[d,u]=(0,n.useState)(true);const h=G();(0,n.useEffect)((()=>{if(a){F().get("/data_processing_agreement_message").then((e=>{r(e.data.message||V)})).catch((e=>{console.error(e)})).finally((()=>{u(false)}))}}),[a]);const m=async()=>{if(l){try{await D(t.id);i();(0,p.f)(Y.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,p.f)(Y.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}}};const f=async()=>{try{await j(t.id)}catch(e){console.error(e)}i()};return(0,s.Z)(S.StandardModal,{isOpen:a,onRequestClose:f},void 0,d?(0,s.Z)(S.Loader,{}):(0,s.Z)(S.StandardModal.Body,{renderFooter:(0,s.Z)(S.StandardModal.Footer,{actions:[(0,s.Z)(S.Button,{disabled:!l,onClick:m,type:"button"},"close-preview",Y.__("Save")),(0,s.Z)(S.TextButton,{onClick:f,type:"button"},"cancel-preview",Y.__("Cancel"))]}),renderHeader:(0,s.Z)(S.StandardModal.Header,{title:Y.__("Updated Data Processing Agreement")})},void 0,(0,s.Z)(S.StandardModal.Constraint,{spacingOverrides:{top:S.CardContentSpacing.LARGE}},void 0,(0,s.Z)(S.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,s.Z)(z.Z,{className:h.icon}),subtext:o,text:Y.__("Hear Ye, Hear Ye!")}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:h.checkboxLine},void 0,(0,s.Z)(S.Checkbox,{checked:l,classes:{labelContent:h.label},label:Y.__("I agree to the Data Processing Agreement."),onChange:(e,t)=>{c(t.target.checked)}}),(0,s.Z)(S.TextButton,{className:h.link,href:"https://www.bamboohr.com/data-processing-agreement/",target:"_blank"},void 0,Y.__("Read full DPA"))),(0,s.Z)("p",{className:h.confirmationdetails},void 0,Y.__("By accepting the Data Processing Agreement (DPA), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland."))))))}function X(){const[e,t]=(0,n.useState)();const a=async()=>{try{const e=await L();if(!e){return}t(e);return e}catch(e){console.error("Failed to get the DPA agreement!")}};(0,n.useEffect)((()=>{if(Z){a()}}),[]);return{currentDpa:e,refresh:a}}},99493:(e,t,a)=>{"use strict";a.d(t,{P:()=>Z});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(98675);var l=a(44816);var c=a(60042);var d=a.n(c);var u=a(59155);var h=a(37194);var $=a(26570);function p(e){const{description:t,example:a}=e;const[s,o]=(0,i.useState)(false);return(0,n.Z)("div",{className:"EEO1Description"},void 0,(0,n.Z)("button",{className:"EEO1Description__toggle fab-TextButton fab-link",onClick:()=>m(s,o),type:"button"},void 0,(0,n.Z)("span",{className:d()("EEO1Description__caret",{"EEO1Description__caret--isRotatedDown":s})},void 0,(0,n.Z)(u.Icon,{name:"fab-caret-right-5x9"})),$.__("Description and examples")),(0,n.Z)("div",{className:d()("EEO1Description__body",{"EEO1Description__body--isVisible":s})},void 0,(0,n.Z)("p",{className:"EEO1Description__paragraph"},void 0,t),(0,n.Z)("p",{className:"EEO1Description__paragraph"},void 0,(0,n.Z)(h.Message,{strong:{tag:"strong"},text:$._("**Includes:**")}),"",a)))}function m(e,t){return t(!e)}var f=a(26570);function g(e){const{category:t,description:a,example:s,jobTitleIds:i,jobTitles:o,onChange:r}=e;return(0,n.Z)("div",{className:"EEO1Category"},void 0,(0,n.Z)("h3",{className:"EEO1Category__heading"},void 0,t),(0,n.Z)("div",{className:"EEO1Category__body"},void 0,(0,n.Z)(p,{description:a,example:s}),(0,n.Z)("label",{className:"EEO1Category__label fab-Label",htmlFor:"jobTitles"},void 0,f.__("Select Job Titles")),(0,n.Z)(l.ZP,{className:"EEO1Category__select",data:b(i,o),id:"jobTitles",onChange:r,settings:{multiselect:true},width:"7"})))}function v(e,t){const a=[];e.allIds.filter((s=>{t.forEach((t=>{const n=e.allIds.find((a=>a===s&&e.byId[a].id===t));if(n){a.push(n)}}))}));return a}function y(e){return e.allIds.filter((t=>!e.byId[t].selected))}function b(e,t){const a=v(t,e);const s=y(t);const n=a.map((e=>t.byId[e]));const i=s.map((e=>t.byId[e]));const o=n.concat(i).map((e=>({displayText:e.name,value:e.id,selected:e.selected||false})));return{items:o,placeholder:"--Select--"}}var w=a(26570);function S(e){const{isSettingsPage:t,settingsPageId:a}=e;return(0,n.Z)("header",{className:"EEO1Header"},void 0,(0,n.Z)("h4",{},void 0,w.__("Categorize Your Job Titles")),(0,n.Z)("p",{},void 0,C(t,a)))}function C(e,t){if(e){return w.__("To give you the data you need, we need to know the right EEO categories for your job titles.")}return(0,n.Z)(h.Message,{link:(0,h.ExternalLink)(`/settings/list.php?id=${t}`),text:w.__("To give you the data you need in this report, we need to know the right EEO categories for your job titles. If necessary, you can edit your job titles in [settings].")})}var x=a(17842);var T=a.n(x);function E(e){return T().post("/reports/eeo_category_mapping/save",e)}var k=a(26570);function Z(e){const{canAutoOpen:t=true,data:a,isOpen:l,isSettingsPage:c,onClose:d,onCloseAfterSave:u}=e;if(!a){return null}const[h,p]=(0,i.useState)(a);const{categories:m,jobTitles:f,settingsPageId:v}=h;const[y,b]=(0,i.useState)(F(m));const[w,C]=(0,i.useState)(false);const[x,T]=(0,i.useState)(false);(0,i.useEffect)((()=>{if(t){T(N(f,w,C))}}),[]);(0,i.useEffect)((()=>{if(l){T(l)}}),[l]);const E=(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)(S,{isSettingsPage:c,settingsPageId:v}),(0,n.Z)("div",{className:"EEO1CategoriesModal__body"},void 0,m.allIds.map((e=>o().createElement(g,(0,s.Z)({key:e,jobTitles:f,onChange:t=>R(t,e,h,p,b)},m.byId[e]))))));return o().createElement(r.u,M(w,C,x,T,d,y,f,(()=>p(a)),u),E)}function N(e,t,a){const s=I(e);if(!t&&s){a(true)}return s}function I(e){return e.allIds.every((t=>!e.byId[t]||!e.byId[t].selected))}function A(e){return e.allIds.some((t=>!e.byId[t]||!e.byId[t].selected))}function F(e){const t={};e.allIds.forEach((a=>{t[a]={categoryId:e.byId[a].id,jobTitleIds:e.byId[a].jobTitleIds}}));return t}function M(e,t,a,s,n,i,o,r,l){const c=B(t,s,n,r);const d=j(i,o,(()=>{s(false);n(false);if(e){t(false)}if(l){l()}}));const u=k.__("Set up EEO-1 Categories");return{contentHasMaxHeight:false,contentHasPadding:false,isOpen:a,onClose:c,primaryAction:d,title:u}}function D(e,t,a){const s=t;if(!a){const t=s.categories.byId[e];t.jobTitleIds.forEach((e=>{s.jobTitles.byId[e].selected=false}));t.jobTitleIds=[];return s}s.jobTitles.allIds.forEach((t=>{const n=s.categories.byId[e];const i=s.jobTitles.byId[t];if(a&&a.value===i.id){const e=!i.selected;i.selected=e;if(e){n.jobTitleIds.push(a.value)}else{n.jobTitleIds=n.jobTitleIds.filter((e=>e!==a.value))}}}));return s}function P(e){if(e===1){return k.__("1 job title still needs an EEO category.")}return k.__("%1 job titles still need EEO categories.",e,{note:'The "%1" placeholder is the number of job titles.'})}function O(e){return e.allIds.filter((t=>!e.byId[t]||!e.byId[t].selected)).length}function L(e){const t=O(e);if(A(e)){window.setMessage(`\n\t\t\t\t${k.__("EEO Categories assigned but jobs left behind:")}\n\t\t\t\t${P(t)}\n\t\t\t`,"error")}else{window.setMessage(k.__("EEO Categories Assigned"),"success")}}function R(e,t,a,s,n){const i=D(t,a,e);const o=F(i.categories);s(i);n(o)}function B(e,t,a,s){return()=>{e(false);t(false);a(false);s()}}function j(e,t,a){return()=>H(e,t,a)}function H(e,t,a){const s={categories:e};return E(s).then((()=>{a();L(t)}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))}},51124:(e,t,a)=>{"use strict";var $=a(26570);$((function(){const e=$("form#edit_form.js-email-alerts");if(e.length){window.filterSettings={postFunc:window.setHiddenVar,listOnly:true,updateLink:false};const e=$(".input-list").autoInputList({autocompleteUrl:"/ajax/quicksearch.php",description:$.__("Name, Department, Location, or Email..."),extraParams:{l:1,active:1},formatAutoItem(e){let[t,a,s]=e;return`\n\t\t\t\t\t<span class="qs_status icon ${s}"></span>\n\t\t\t\t\t<span class="qs_status ${s}">\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</span>\n\t\t\t\t`},startingItems:window.startingItems,formatTagItem(e,t){if(t){if(typeof t==="string"){t=t.split("|")}const[e,a,s]=t;$(`\n\t\t\t\t\t\t<span class="item">\n\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t<input type="hidden" name="ids[]" value="${a}" />\n\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8"></ba-icon>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(".input-list span.input");$(".free").val("");$("#input-list-check").prop("checked",true);$(document).on("click",".item .remove",(function(){$(this).closest("span.item").remove();return false}))}}});if($("#input-list-check").is(":checked")){e.activate()}$("#input-list-check").change((function(){const t=$(this);if(t.is(":checked")){e.activate()}else{e.deactivate()}}));const t=$(".timepicker");t.timepicker({step:60,useSelect:true});t.on("timeFormatError",(function(){setMessage($.__("Please enter a valid time of day, of the form 12:00am, or select a time from the dropdown."),"error");$(this).val("12:00am")}));$("#edit_form input:first").focus();window.updateFilter();$(document).on("click","a.bicon-remove",(function(){$(this).parents(".reminder-row:first").remove()}));window.addReminder=function(){$(".reminder-row:first").clone().show().find(".chzn-container").remove().end().append('<a class="bicon-remove" title="remove" href="javascript:void(0)"></a>').find("input").val("").end().find("select").each((function(e,t){t.selectedIndex=0})).end().insertAfter(".reminder-row:last").find("select").removeClass("chzn-done").removeAttr("id").show().chosen(bhrChosenOptions)}}}))},9955:(e,t,a)=>{"use strict";a.d(t,{N:()=>v});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);var r=a(59155);var l=a(64670);var c=a(45316);var d=a(66523);var u=a(15896);var h=a(54630);var p=a(7070);var m=a(50463);var $=a(26570);const f=e=>{const{employee:t}=e;const[a,i]=(0,n.useState)(m.ou.local());const o=(0,p.y)();(0,n.useEffect)((()=>{const e=setInterval((()=>t()),1e3);const t=()=>i(m.ou.local());return()=>clearInterval(e)}),[]);const f=()=>{if(t.jobTitle&&t.department){return $.__("%1 in %2",t.jobTitle,t.department)}else if(t.jobTitle&&!t.department){return t.jobTitle}else if(!t.jobTitle&&t.department){return t.department}};const g=()=>{if(!t.ext){return t.workPhone}return`${t.workPhone} Ext ${t.ext}`};const v={root:o.secondaryInfoContainer,adornment:o.icons};const y={className:o.secondaryInfo};return(0,s.Z)("div",{className:o.container},void 0,(0,s.Z)(r.Avatar,{alt:"profile",srcSet:t.imgUrl,sx:{height:244,width:244}}),(0,s.Z)("div",{className:o.contentContainer},void 0,(0,s.Z)("div",{className:o.primaryContentContainer},void 0,(0,s.Z)("div",{className:o.infoContainer},void 0,(0,s.Z)("div",{className:o.employeeName},void 0,t.prefName?`${t.prefName} ${t.lastName}`:`${t.firstName} ${t.lastName}`),t.pronouns&&(0,s.Z)("div",{className:o.pronouns},void 0,`(${t.pronouns})`)),(t.jobTitle||t.department)&&(0,s.Z)("div",{className:o.jobInfo},void 0,f()),t.location&&(0,s.Z)("div",{className:o.jobInfo},void 0,t.location,t.timezone&&(0,s.Z)("span",{},void 0," | ",a.setZone(t.timezone).toLocaleString(m.ou.TIME_SIMPLE)," local time")),t.division&&(0,s.Z)("div",{className:o.jobInfo},void 0,t.division)),(0,s.Z)(r.Divider,{classes:{root:o.divider}}),(0,s.Z)("div",{className:o.secondaryContentContainer},void 0,t.email&&(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(l.Z,{}),classes:v,typographyProps:y},void 0,t.email),t.workPhone&&(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(c.Z,{}),classes:v,typographyProps:y},void 0,g()),t.personalPhone&&(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(d.Z,{}),classes:v,typographyProps:y},void 0,t.personalPhone),t.reportsTo&&(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(u.Z,{}),classes:v,typographyProps:y},void 0,`Reports to ${t.reportsTo}`),t.directReports.length>0&&(0,s.Z)(r.AdornedText,{adornment:(0,s.Z)(h.Z,{}),classes:v,typographyProps:y},void 0,`${t.directReports.length} direct reports`))))};var g=a(26570);const v=e=>{const{isOpen:t,onClose:a,employeeId:i}=e;const[l,c]=(0,n.useState)();const d=()=>o().get(`/employee_directory/employee/${i}`).then((e=>{let{data:t}=e;c(t)})).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error");a()}));const u=()=>{c(null);a()};return(0,s.Z)(r.StandardModal,{isOpen:t,onOpenComplete:d,onRequestClose:u},void 0,(0,s.Z)(r.StandardModal.Body,{renderFooter:()=>(0,s.Z)(r.StandardModal.Footer,{actions:[(0,s.Z)(r.Button,{onClick:a,type:"button"},"close",g.__("Close"))]}),renderHeader:l?(0,s.Z)(r.StandardModal.Header,{hasCloseButton:true,title:g.__("All About %1",l.prefName||l.firstName)}):undefined,size:r.CardSize.MEDIUM},void 0,(0,s.Z)(r.StandardModal.Constraint,{spacingOverrides:{bottom:r.StandardModal.Constraint.Spacing.BIGGIE,top:r.StandardModal.Constraint.Spacing.BIGGIE,left:r.StandardModal.Constraint.Spacing.LARGE,right:r.StandardModal.Constraint.Spacing.LARGE}},void 0,l?(0,s.Z)(f,{employee:l}):(0,s.Z)(r.Loader,{}))))}},7852:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>d,Rp:()=>l,C$:()=>f});var s=a(73641);var n=a(41201);var i=a(25355);var o=a.n(i);function r(e,t){const{employee_file_data:a,company_file_data:i,esignatures:o,ext:r,img_sizes:l,is_current_signer:c,required:d,workflow_instance_id:u}=e;let h=r;let p;if((0,n._c)(e)){const{can_sign:e,completed:n,has_signed:r,cancelled:l,whose_turn:c,is_current_signer:m}=o;switch(true){case l:h="Request Canceled";break;case a&&a.id&&r:h="Signed";p="signed";break;case i&&i.id&&r:h="Signed";p="signed";break;case o.completed&&!r:h="Signed";p="signed";break;case e:h=d==="yes"?"Sign Now":"Signature Optional";p=d==="yes"?"sign":"optional";break;case r:h="Signed";p="signed";break;case c&&c.length>0:h="Signers Pending";break;case t&&!(0,s.isNil)(m)&&m:h="Chose not to sign";break;case t&&!(0,s.isNil)(m)&&!m:h="No signature needed";break;case!t&&!(0,s.isNil)(u)&&u&&!(0,s.isNil)(m)&&m:h="Signature Optional";p="optional";break;case!t&&!(0,s.isNil)(u)&&u&&!(0,s.isNil)(m)&&!m:h="Signers Pending";break;default:h="Esignature";break}}return p?{className:p,icon:l.small,text:h}:{icon:l.small,text:h}}function l(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const{ext:s,id:i,name:o,scan_info:l,required:c,can_see_file:d,esignatures:u,employee_file_data:h,company_file_data:p,original_file_name:m,esignature_instance_id:f}=e;const g=c&&c==="yes";const v=(0,n.pK)(e);return{action:v?"":(0,n.s7)(e,t),classNames:[],data:(0,n.hP)(e),disabled:v,ext:s,esignatureInstanceId:f?f:0,fileId:i,info:r(e,a),isSafe:!l,isEsig:(0,n._c)(e),name:o,mode:"display",originalName:m,status:"",required:g||false,theme:"dark"}}var $=a(26570);const c={fileCardFromElement(e){return b(e.dataset.canSee?"1":"0",e.dataset.ext,e.dataset.fileId,e.dataset.icon,e.id.replace("check",""),e.dataset.name,e.dataset.required,null,e.dataset.originalName,e.dataset.fileDataId)},fileCardFromArray(e){const t=[];e.forEach((e=>{if(e.hasOwnProperty("fileId")){const{canSeeFile:a,ext:s,fileId:n,icon:i,id:o,name:r,required:l,original_file_name:c,fileDataId:d}=e;t.push(b(a||e.can_see_file,e.is_esignature_template==="yes"?"Esignature":s,n,e.is_esignature_template?e.img_sizes.small:i,o,r,l,null,c,d))}else{t.push(this.fileCardFromFile(e))}}));return t},fileCardFromFile(e){let t=e.ext;let a="no";let s=null;if((0,n._c)(e)){t=$.__("Esignature");a="yes";s=p(e)}return b(e.can_see_file,t,e.file_id,e.img_sizes.small,`${e.file_id}-${a}-${e.required||"no"}`,e.name,e.required,s,e.original_file_name)},renderFileCards(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"display";let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"dark";let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=t&&t.length>0;const l=document.querySelector(e);if(r===false){console.warn("No files passed to renderFileCards: exiting function early.");return}if(a!=="display"){t.map((e=>{e.mode=a}))}if(l){t=(0,s.sortBy)(t,[e=>e.name.toLowerCase()]);l.innerHTML=window.microTemplate(o(),{files:t,theme:n,newUploadedFiles:i});u()}}};var d=c;function u(){const e=(0,s.toArray)(document.querySelectorAll(".FileCard:not(.FileCard--display)"));const t=(0,s.toArray)(document.querySelectorAll(".FileCard.FileCard--display"));e.forEach((e=>{e.addEventListener("change",g,false);e.addEventListener("click",m,false)}));t.forEach((e=>{e.addEventListener("click",h,false)}))}function h(){f(this.dataset)}function p(e){if(!(0,s.isNull)(document.getElementById("OfferLetter-form"))){if((0,n.uf)(e)){return false}if((0,n.uW)(e)){return true}}}function m(e){if(e.target.classList.contains("js-fc-modal")){v(this,e.target.dataset.isComplete)}else if(e.target.classList.contains("js-fc-close")){const e=new CustomEvent("fileCard:remove",{detail:{fileId:this.dataset.fileId,key:this.dataset.key}});document.dispatchEvent(e);$(this).remove()}}function f(e){let t=null;try{t=JSON.parse(e.actionData)}catch(e){console.error(e)}if(t){switch(e.action){case"companyPreviewFile":window.previewFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"companyShowFile":window.showFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"esigOpenModal":window.lazySigs((function(e){e.Signing.openModal(t.esignatureTemplateId,t.esignatureWorkflowId,t.workflowInstanceId,"Esignatures.init(Esignatures.TYPE_SIGNING)",t.name)}));break;case"esigOpenPreviewModeModal":window.lazySigs((function(e){e.Signing.openPreviewModeModal(t.esignatureTemplateId,t.workflowInstanceId,t.name)}));break;case"previewFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"previewEmployeeFile":window[e.action](t.employeeFileMostRecentId,t.employeeFileId,t.employeeFileName,"li");break;case"showFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"showFileNoAccess":window[e.action](t.name);break;default:break}}}function g(e){if(e.target.classList.contains("js-fc-toggle-required")){const{fileId:t}=e.target.dataset;const a=document.querySelector(`#filesinput-${t}`);const s=e.target.parentNode;const n=e.target.checked?"yes":"no";y(s,e.target.checked);a.value=a.value.replace(/[^-]+$/,n)}}function v(e,t){let a={navHeader:$.__("Are you sure you want to remove this signed document?"),navMessage:$.__("This document is already signed. Removing it will cancel the request and discard the signed document."),actionBtn:$.__("Yes, Remove Document"),cancelBtn:$.__("No, Don't remove it")};if(t==="false"){a={navHeader:$.__("Are you sure you want to cancel this signature request?"),navMessage:$.__("This signature request has been partially completed and is waiting on other signers. Removing it will cancel the request and discard the partially-signed document."),actionBtn:$.__("Yes, Cancel Signature Request"),cancelBtn:$.__("No, Don't Cancel it")}}window.BambooHR.Modal.setState({header:a.navHeader,dangerousContent:`<p style="text-align: center;">${a.navMessage} </p>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,sheetProps:null,primaryAction:()=>{const t=new CustomEvent("fileCard:remove",{detail:{fileId:e.dataset.fileId,key:e.dataset.key}});document.dispatchEvent(t);$(e).remove();window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:a.actionBtn,alternativeActionText:a.cancelBtn,title:$.__("Just Checking...")})}function y(e,t){let a=$.__("Click to make the signature required.");let s=$.__("Signature Optional");const n=BambooHR.Components.Tooltip.selectTooltips(e)[0];if(t){s=$.__("Signature Required");a=$.__("Click to make the signature optional.")}if(n.tooltipEl){n.hide();n.tooltipEl.innerHTML=`<p class="lead">${s}</p><br />${a}`}else{n.options.content=a;n.options.lead=s}}function b(e,t,a,s,n,i,o){let r=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let c=arguments.length>9?arguments[9]:undefined;return{action:null,classNames:[],data:{canSeeFile:e,isComplete:r},disabled:false,fileId:a,fileDataId:c,id:n,info:{icon:s,text:t},isSafe:true,name:i,originalName:l,status:"",required:o,theme:"dark"}}},44492:(e,t,a)=>{"use strict";a.d(t,{Z:()=>pe});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(33832);const r=(0,n.createContext)("apply");const l=()=>(0,n.useContext)(r);const c=(0,n.createContext)({});const d=()=>(0,n.useContext)(c);var u=a(76374);var h=a(59155);var p=a(17145);var m=a(62740);const f=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const g=f.map((e=>`.${e}`));const v={short:"TYPE_TEXT",long:"TYPE_TEXTAREA",yes_no:"TYPE_YES_NO",multi:"TYPE_MULTIPLE_CHOICE",checkbox:"TYPE_CHECKBOX",file:"TYPE_FILE_UPLOAD"};var y=a(60042);var b=a.n(y);const w=e=>{const{errorState:t,label:a,name:o,data:r,validationRegistration:l}=e;if(!r){return null}const[c,d]=(0,n.useState)(r.value==="yes");return(0,s.Z)("fieldset",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--cqCheckbox"},void 0,(0,s.Z)("div",{className:"fab-Checkbox CandidateField__checkboxWrapper"},void 0,i().createElement("input",{ref:l,checked:c,className:b()("fab-Checkbox__input",{"fab-Checkbox__input--error":t}),disabled:Boolean(r.isDisabled),id:o,name:o,onChange:()=>d(!c),required:r.isRequired,type:"checkbox",value:"yes"}),(0,s.Z)("label",{className:b()("fab-Checkbox__label",{"fab-Checkbox__label--error":t}),htmlFor:o},void 0,t&&(0,s.Z)("div",{className:"CandidateField__checkboxErrorIcon"},void 0,(0,s.Z)(h.Icon,{name:"fab-circle-exclamation-14x14"})),(0,s.Z)("div",{},void 0,a,r.isRequired&&(0,s.Z)("span",{className:"CandidateField__checkboxRequiredIndicator"},void 0,"*"))),!c&&(0,s.Z)("input",{name:o,type:"hidden",value:"no"}))))};var S=a(51341);var C=a(26136);const x=e=>{const{errorState:t,label:a,name:i,data:o,validationRegistration:r}=e;const l=(0,n.useRef)(o.value);const{setSpecialErrors:c,specialErrors:u}=d();if(!o){return null}const h=()=>{const e=document.querySelector(`[name="${i}__cpFacade"]`);const t=e?e.value:"";if(e&&t!==l.current){l.current=t;T(i,o.isRequired,t,c)}};const p=e=>{const t=e?"invalid":"";l.current=e;T(i,o.isRequired,t,c)};return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${i}`},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--error":u[i],"fab-Label--required":o.isRequired}),htmlFor:i},void 0,a),(0,s.Z)("div",{className:`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${i}`},void 0,(0,s.Z)(C.Z,{cssClasses:{single:b()("fab-TextInput--width100",{"fab-TextInput--error":u[i]})},disabled:Boolean(o.isDisabled),id:i,inputRef:r,name:i,onChange:h,onComplete:h,onIncomplete:p,required:o.isRequired,settings:{start:o.value},type:"date"})))};function T(e,t,a,s){if(a){if((0,S.Z)(a,S.Z.defaultFormat).isValid()){s(e,null);return true}s(e,{rule:"date"});return false}if(t){s(e,{rule:"required"});return false}return true}const E=1e3*60*60*10;function k(e){const{data:t,errorState:a,label:i,name:o,typeProps:r={},validationRegistration:l}=e;const{setSpecialErrors:c}=d();const[u,p]=(0,n.useState)(null);(0,n.useEffect)((()=>()=>{if(u){clearTimeout(u)}}),[u]);if(!t){return null}let m=[];const f=t.files||t;if(f.length||f.fileName&&f.value){m=m.concat(f).map((e=>({id:`${e.value}`,name:`${e.fileName}`})))}const v=()=>{const e=setTimeout((()=>{c(o,{rule:"fileUploadExpired"})}),E);p(e);c(o,null)};const y=()=>{c(o,{rule:"fileUploadPending"})};return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("label",{className:`fab-Label ${t.isRequired?"fab-Label--required":""} ${a?"fab-Label--error":""}`,htmlFor:o},void 0,i),(0,s.Z)(h.FileUpload,{acceptedTypes:g,canSelectMultiple:r.canSelectMultiple,disabled:Boolean(t.isDisabled),endpoint:r.uploadUrl,initialFiles:m,inputRef:l,isRequired:t.isRequired,name:o,onChange:y,onUpload:v}))}var Z=a(51720);const N=e=>{const{data:t,label:a,name:o,typeProps:r={},errorState:l,validationRegistration:c}=e;if(!t){return null}const[d,u]=(0,n.useState)(t.options);const[p,m]=(0,n.useState)([t.value]);const[f,g]=(0,n.useState)({isOpen:false});(0,n.useEffect)((()=>u(t.options)),[t.options]);(0,n.useEffect)((()=>m([t.value])),[t.value]);let v;let y;const b=()=>{g({isOpen:false});y()};const w=(e,t)=>{const a=d.concat({text:e,value:t});u(a);m([t]);g({isOpen:false});v()};const S=()=>{g({isOpen:true,label:r.label,onCancel:b,onSave:w,name:r.name,url:r.url});return new Promise(((e,t)=>{v=e;y=t}))};const C=(e,t)=>{m(t);if(typeof r.onSelect==="function"){r.onSelect(t)}};const x=()=>{m([])};return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("label",{className:`fab-Label ${t.isRequired?"fab-Label--required":""} ${l?"fab-Label--error":""}`,htmlFor:o},void 0,a),(0,s.Z)("div",{className:`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${o}`},void 0,(0,s.Z)(h.Select,{canSelectMultiple:r.canSelectMultiple,condition:l?"error":"",inputRef:c,isDisabled:Boolean(t.isDisabled),isRequired:t.isRequired,items:I(d),name:o,onAdd:r.perms?S:null,onClear:x,onSelect:C,selectedValues:p,width:100})),r.perms&&i().createElement(Z.T,f))};function I(e){return e.map((e=>({...e,text:e.text||e.displayText||e.value||e.option||"",value:e.value||e.id||e.text||""})))}var A=a(73641);var $=a(26570);const F=e=>{const{errorState:t,label:a,name:o,data:r,validationRegistration:l,rules:c,showErrorMessage:u,typeProps:p={}}=e;const{setErrors:m,validate:f}=d();if(!r){return null}const g=(0,n.useRef)(false);const[v,y]=(0,n.useState)(r.value);const[w,S]=(0,n.useState)(r.value);(0,n.useEffect)((()=>{y(r.value)}),[r.value]);(0,n.useEffect)((()=>{if(g.current){f([o],false)}else{g.current=true}}),[w]);function C(e){const t=M(e.target,w,m);y(t);S(t)}return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${o}`},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--error":t,"fab-Label--required":r.isRequired}),htmlFor:o},void 0,a),(0,s.Z)("div",{className:b()(`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${o}`,{[`CandidateField__inputWrapper--cq${(0,A.capitalize)((0,A.camelCase)(p.cqType))}`]:p.cqType})},void 0,i().createElement("input",{ref:l,className:b()("fab-TextInput",{"fab-TextInput--width100":true,"fab-TextInput--error":t,"fab-TextInput--withNub":p.nubIconName}),disabled:Boolean(r.isDisabled),id:o,maxLength:c&&c.maxLength?c.maxLength:255,name:o,onBlur:p.hasCustomUrlHandling?C:null,onChange:e=>y(e.target.value),required:r.isRequired,type:"text",value:v}),p.nubIconName&&(0,s.Z)("span",{className:"fab-TextInputNub"},void 0,(0,s.Z)("span",{className:"fab-TextInputNub__icon"},void 0,(0,s.Z)(h.Icon,{name:p.nubIconName})))),t&&u&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,t.message))};function M(e,t,a){const{name:s,value:n}=e;let i=n;if(i!==t){const e=!i;const t=n.startsWith("http://")||n.startsWith("https://");if(!e&&!t){i=`http://${n}`}if(s==="linkedinUrl"){D(i,s,a)}}return i}function D(e,t,a){const s=!e;if(s||/(linkedin\.com)/gi.test(e)){a({[t]:null});return true}a({[t]:{rule:t,message:$.__("Invalid LinkedIn profile URL.")}});return false}var P=a(62484);const O=e=>{const{errorState:t,label:a,name:n,data:i,placeholder:o,typeProps:r={},validationRegistration:l}=e;if(!i){return null}return(0,s.Z)("div",{className:`fab-FormColumn CandidateField CandidateField--${n}`},void 0,(0,s.Z)("label",{className:`fab-Label ${i.isRequired?"fab-Label--required":""} ${t?"fab-Label--error":""}`,htmlFor:n},void 0,a),(0,s.Z)("div",{className:b()(`fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--${n}`,{[`CandidateField__inputWrapper--cq${(0,A.capitalize)((0,A.camelCase)(r.cqType))}`]:r.cqType})},void 0,"    ",(0,s.Z)(P.Z,{className:`fab-Textarea fab-Textarea--width100 autosize ${t?"fab-Textarea--error":""}`,defaultValue:i.value,disabled:Boolean(i.isDisabled),id:n,innerRef:l,name:n,placeholder:o,required:i.isRequired})))};var L=a(26570);const R=e=>{const{errorState:t,label:a,name:o,data:r,validationRegistration:l}=e;if(!r){return null}const[c,d]=(0,n.useState)(r.value);return(0,s.Z)("fieldset",{className:`CandidateField CandidateField--${o}`},void 0,(0,s.Z)("legend",{className:b()(`fab-RadioGroup__legend`,{"fab-RadioGroup__legend--error":t,"fab-RadioGroup__legend--required":r.isRequired})},void 0,a),(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__inputWrapper CandidateField__inputWrapper--cqYesNo"},void 0,(0,s.Z)("div",{className:"fab-FormColumn fab-Radio"},void 0,i().createElement("input",{ref:l,checked:c==="yes",className:"fab-Radio__input",disabled:Boolean(r.isDisabled),id:`${o}--yes`,name:o,onChange:()=>d("yes"),required:r.isRequired,type:"radio",value:"yes"}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:`${o}--yes`},void 0,L.__(`Yes`))),(0,s.Z)("div",{className:"fab-FormColumn fab-Radio"},void 0,(0,s.Z)("input",{checked:c==="no",className:"fab-Radio__input",disabled:Boolean(r.isDisabled),id:`${o}--no`,name:o,onChange:()=>d("no"),required:r.isRequired,type:"radio",value:"no"}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:`${o}--no`},void 0,L.__(`No`)))))};var B=a(88604);var j=a(28112);var H=a(26570);const q="other";const W=e=>{const{validationRegistration:t,id:a,options:o,hasOther:r,isDisabled:l,isRequired:c,isValueOther:u,value:h,label:p,name:m}=e;const{setSpecialErrors:f,specialErrors:g}=d();const v=(0,n.useRef)(false);const y=(0,n.useRef)(true);const w=(0,n.useRef)();let S=null;if(u){S=q}else{const e=o.find((e=>{let{id:t}=e;return t===parseInt(h)}));S=e?e.id:null}const[C,x]=(0,n.useState)(S);const[T,E]=(0,n.useState)(u?h:"");(0,n.useEffect)((()=>{if(!y.current&&C===q){setTimeout((()=>{w.current.focus()}))}y.current=false}),[C]);const k=e=>{x(e);f(m,null);if(v.current&&!e.length){f(m,{rule:"required"});v.current=true}else{v.current=false;f(`${m}[${q}]`,null)}};const Z=e=>{const{target:t}=e;const a=t.value?null:{rule:"required"};f(`${m}[${q}]`,a);E(t.value)};return(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__multiGroup"},void 0,(0,s.Z)("div",{className:"fab-FormColumn CandidateField__multiGroupColumn"},void 0,(0,s.Z)("legend",{className:b()("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":c,"fab-RadioGroup__legend--error":g[m]}),htmlFor:m},void 0,p),(0,s.Z)("div",{className:"fab-RadioGroup",id:m},void 0,o.map((e=>(0,s.Z)("div",{className:"fab-Radio"},`option_${a}_${e.id}`,i().createElement("input",{ref:t,checked:C==e.id,className:"fab-Radio__input",disabled:Boolean(l),id:`${m}[${e.id}]`,name:m,onChange:e=>k(e.target.value),type:"radio",value:e.id}),(0,s.Z)("label",{className:"fab-Radio__label CandidateField__multiGroup--label",htmlFor:`${m}[${e.id}]`},void 0,e.option)))),r==="yes"?(0,s.Z)("div",{className:"fab-Radio"},`option_${a}_other`,(0,s.Z)("input",{checked:C===q,className:"fab-Radio__input",disabled:Boolean(l),id:`${m}[option_${q}]`,name:m,onChange:e=>k(e.target.value),type:"radio",value:q}),(0,s.Z)("label",{className:"fab-Radio__label",htmlFor:`${m}[option_${q}]`},void 0,H.__("Other"))):null),(0,s.Z)(j.K,{isOpen:Boolean(C===q)},void 0,(0,s.Z)("div",{className:"CandidateField__multi"},void 0,(0,s.Z)("div",{className:"CandidateField__multiOther"},void 0,(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__multiInputWrapper"},void 0,i().createElement("input",{ref:w,className:b()("fab-TextInput fab-TextInput--width100",{"fab-TextInput--error":g[`${m}[${q}]`]}),disabled:Boolean(C!==q),id:`${m}[${q}]`,name:`${m}[${q}]`,onChange:e=>Z(e),placeholder:H.__("Please Specify"),required:true,type:"text",value:T}))),g[`${m}[${q}]`]&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,H.__("Response is required"))))))};var U=a(26570);const z="other";const Y=e=>{const{validationRegistration:t,options:a,isRequired:o,isDisabled:r,isValueOther:l,hasOther:c,value:u,label:p,name:m}=e;const{setSpecialErrors:f,specialErrors:g}=d();const v=(0,n.useRef)();let y=u;if(l){y=z}else if(u){const e=a.filter((e=>e.id==u));y=e[0].id}const w=[...a];if(c==="yes"){w.push({id:z,option:"Other"})}const[S,C]=(0,n.useState)([y]);const[x,T]=(0,n.useState)(l?u:"");const[E,k]=(0,n.useState)(c==="yes"&&l);(0,n.useEffect)((()=>{if(E){setTimeout((()=>{v.current.focus()}))}}),[E]);const Z=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;f(`${m}`,e);f(`${m}[${z}]`,t)};const N=(e,t)=>{C(t);Z();k(t[0]===z)};const A=()=>{C([]);k(false);Z()};const F=e=>{const{target:t}=e;const a=t.value?null:{rule:"required"};Z(null,a);T(t.value)};return(0,s.Z)("div",{className:b()("fab-InputWrapper CandidateField__inputWrapper",{CandidateField__multi:E})},void 0,(0,s.Z)("div",{className:"fab-FormColumn CandidateField__multiGroupColumn"},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--required":o,"fab-Label--error":g[m]}),htmlFor:m},void 0,p),(0,s.Z)("div",{className:"CandidateField__multiSelect"},void 0,(0,s.Z)(h.Select,{inputRef:t,isDisabled:Boolean(r),items:I(w),name:m,onClear:A,onSelect:N,selectedValues:S,width:100})),(0,s.Z)(j.K,{isOpen:E},void 0,(0,s.Z)("div",{className:"CandidateField__multi"},void 0,(0,s.Z)("div",{className:"CandidateField__multiOther CandidateField__multiOtherSelect"},void 0,(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__multiInputWrapper"},void 0,i().createElement("input",{className:b()("fab-TextInput fab-TextInput--width100",{"fab-TextInput--error":g[`${m}[${z}]`]}),disabled:!E,id:`${m}[${z}]`,name:`${m}[${z}]`,onChange:e=>F(e),placeholder:U.__("Please Specify"),ref:v,required:true,type:"text",value:x}))),g[`${m}[${z}]`]&&(0,s.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,U.__("Response is required"))))))};const G=e=>{const{name:t,label:a,data:n,validationRegistration:o}=e;if(!n){return null}return(0,s.Z)("fieldset",{className:`CandidateField CandidateField--${t}`},void 0,n.options&&n.options.length<=5?i().createElement(W,(0,B.Z)({},n,{label:a,name:t,validationRegistration:o})):i().createElement(Y,(0,B.Z)({},n,{label:a,name:t,validationRegistration:o})))};const V={TYPE_CHECKBOX:w,TYPE_DATE:x,TYPE_FILE_UPLOAD:k,TYPE_SELECT:N,TYPE_TEXT:F,TYPE_TEXTAREA:O,TYPE_YES_NO:R,TYPE_MULTIPLE_CHOICE:G};var K=V;var X=a(26570);const J=e=>{const{data:t,label:a,name:i}=e;const o=l();const{setSpecialErrors:r,specialErrors:c}=d();const u=(0,n.useRef)(false);const[p,m]=(0,n.useState)(false);const[f,g]=(0,n.useState)([]);const[v,y,...w]=I(t.options);const S=!p&&!!c[i];const C=!!c[i];const x=o!=="add";const T=e=>{const{id:t}=e.target;if(t==="isVeteran"){m(true);if(u.current&&!f.length){r(i,{rule:"required"})}u.current=true}else{u.current=false;m(false);g([]);r(i,null)}};const E=(e,t)=>{g(t);if(t.length){r(i,null)}else{r(i,{rule:"required"})}};const k=()=>{g([]);r(i,{rule:"required"})};return(0,s.Z)("div",{className:"fab-FormColumn CandidateField CandidateField--veteranStatusId"},void 0,(0,s.Z)("fieldset",{className:"fab-FormRow--tight fab-RadioGroup",onChange:T},void 0,(0,s.Z)("legend",{className:b()("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":x,"fab-RadioGroup__legend--error":S})},void 0,a),(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{className:`fab-Radio__input ${S?"fab-Radio__input--error":""}`,disabled:Boolean(t.isDisabled),id:"declineToAnswer",name:`${i}[]`,required:x,type:"radio",value:v?v.value:""}),(0,s.Z)("label",{className:b()("fab-Radio__label",{"fab-Radio__label--required":x,"fab-Radio__label--error":S}),htmlFor:"declineToAnswer"},void 0,v?v.text:X.__("Decline to Answer"))),(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{className:`fab-Radio__input ${S?"fab-Radio__input--error":""}`,disabled:t.isDisabled?t.isDisabled:false,id:"notVeteran",name:`${i}[]`,required:x,type:"radio",value:y?y.value:""}),(0,s.Z)("label",{className:b()("fab-Radio__label",{"fab-Radio__label--required":x,"fab-Radio__label--error":S}),htmlFor:"notVeteran"},void 0,y?y.text:X.__("Not a Veteran"))),(0,s.Z)("div",{className:"fab-Radio"},void 0,(0,s.Z)("input",{className:"fab-Radio__input",disabled:t.isDisabled?t.isDisabled:false,id:"isVeteran",name:`${i}[]`,required:x,type:"radio",value:""}),(0,s.Z)("label",{className:b()("fab-Radio__label",{"fab-Radio__label--required":x,"fab-Radio__label--error":S}),htmlFor:"isVeteran"},void 0,X.__("Veteran")))),(0,s.Z)("div",{className:`fab-FormRow--tight CandidateField CandidateField--veteranStatuses ${p?"CandidateField--veteranStatusesShown":""}`},void 0,(0,s.Z)("label",{className:b()("fab-Label",{"fab-Label--required":x,"fab-Label--error":C}),htmlFor:"veteranStatuses"},void 0,a),(0,s.Z)("div",{className:"fab-InputWrapper CandidateField__inputWrapper"},void 0,(0,s.Z)(h.Select,{canSelectMultiple:true,isRequired:x,items:w,name:`${i}[]`,onClear:k,onDeselect:E,onSelect:E,selectedValues:f,width:100}))))};const Q=e=>{const{cqType:t,data:a,label:n,name:i,rules:o,showErrorMessage:r,type:c,typeProps:u={}}=e;const h=l();const{errors:p,register:m}=d();const f=t?v[t]:c;const g=K[f];if(g===undefined){return null}const y=ae(h,i,a?a.isRequired:false);const b={...o,required:y};if(t){u.cqType=t}return(0,s.Z)(g,{data:a?{...a,isRequired:y}:null,errorState:p[i],label:n,name:i,rules:o,showErrorMessage:r,typeProps:u,validationRegistration:o||y?m(b):null})};const ee=e=>{const{shouldShow:t,children:a}=e;if(!t){return null}return(0,s.Z)("div",{className:"fab-FormRow CandidateForm__row"},void 0,a)};const te=e=>{const{shouldShow:t,children:a}=e;if(!t){return null}return(0,s.Z)("fieldset",{className:"fab-FormSection CandidateForm__section"},void 0,a)};function ae(e,t,a){if(e==="add"||e==="edit"){return t==="firstName"||t==="lastName"}return a}var se=a(26570);const ne=e=>{const{countryId:t,postCodeLabel:a,subEntityLabel:i,subEntityOptions:o,switchCountry:r}=(0,u.m)({initialCountryId:e.countryId&&e.countryId.value!==""?e.countryId.value:"1",initialSubEntityOptions:e.state?e.state.options:[]});const[l,c]=(0,n.useState)({...e.state});(0,n.useEffect)((()=>{if(e.countryId&&t===e.countryId.value){c({...e.state,options:o})}else{c({...e.state,value:"",options:o})}}),[t]);const d={perms:e.sourceId?e.sourceId.hasSettingsPerms:false,url:"/hiring/jobs/sources",label:se.__("Source"),name:se.__("Add New Source")};return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)(te,{shouldShow:true},void 0,(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(Q,{data:e.firstName,label:se.__("First Name"),name:"firstName",type:"TYPE_TEXT"}),(0,s.Z)(Q,{data:e.lastName,label:se.__("Last Name"),name:"lastName",type:"TYPE_TEXT"})),(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(Q,{data:e.email,label:se.__("Email"),name:"email",rules:{email:{message:()=>se.__("Invalid email address.")}},showErrorMessage:true,type:"TYPE_TEXT"})),(0,s.Z)(ee,{shouldShow:Boolean(e.phone)},void 0,(0,s.Z)(Q,{data:e.phone,label:se.__("Phone"),name:"phone",rules:{maxLength:20},type:"TYPE_TEXT"})),(0,s.Z)(ee,{shouldShow:Boolean(e.streetAddress)},void 0,(0,s.Z)(Q,{data:e.streetAddress,label:se.__("Address"),name:"streetAddress",type:"TYPE_TEXT"})),(0,s.Z)(ee,{shouldShow:Boolean(e.city||e.stateId||e.zip)},void 0,(0,s.Z)(Q,{data:e.city,label:se.__("City"),name:"city",type:"TYPE_TEXT"}),o.length?(0,s.Z)(Q,{data:l,label:i,name:"state",type:"TYPE_SELECT"}):(0,s.Z)(Q,{data:l,label:i,name:"state",type:"TYPE_TEXT"}),(0,s.Z)(Q,{data:e.zip,label:a,name:"zip",type:"TYPE_TEXT"})),(0,s.Z)(ee,{shouldShow:Boolean(e.countryId)},void 0,(0,s.Z)(Q,{data:{...e.countryId,value:t},label:se.__("Country"),name:"countryId",type:"TYPE_SELECT",typeProps:{onSelect:e=>r(e[0])}}))),(0,s.Z)(te,{shouldShow:Boolean(e.sourceId||e.coverLetterFileId||e.resumeFileId||e.dateAvailable||e.desiredPay)},void 0,(0,s.Z)(ee,{shouldShow:Boolean(typeof e.sourceId==="object")},void 0,(0,s.Z)(Q,{data:e.sourceId,label:se.__("Source"),name:"sourceId",type:"TYPE_SELECT",typeProps:d})),typeof e.sourceId==="string"&&(0,s.Z)("input",{name:"source",type:"hidden",value:e.sourceId}),(0,s.Z)(ee,{shouldShow:Boolean(e.coverLetterFileId)},void 0,(0,s.Z)(Q,{data:e.coverLetterFileId,label:se.__("Cover Letter"),name:"coverLetterFileId",type:"TYPE_FILE_UPLOAD"})),(0,s.Z)(ee,{shouldShow:Boolean(e.resumeFileId)},void 0,(0,s.Z)(Q,{data:e.resumeFileId,label:se.__("Resume"),name:"resumeFileId",type:"TYPE_FILE_UPLOAD"})),(0,s.Z)(ee,{shouldShow:Boolean(e.dateAvailable)},void 0,(0,s.Z)(Q,{data:e.dateAvailable,label:se.__("Date Available"),name:"dateAvailable",type:"TYPE_DATE"})),(0,s.Z)(ee,{shouldShow:Boolean(e.desiredPay)},void 0,(0,s.Z)(Q,{data:e.desiredPay,label:se.__("Desired Pay"),name:"desiredPay",type:"TYPE_TEXT"}))),(0,s.Z)(te,{shouldShow:Boolean(e.websiteUrl||e.linkedinUrl||e.twitterUsername)},void 0,(0,s.Z)(ee,{shouldShow:Boolean(e.websiteUrl)},void 0,(0,s.Z)(Q,{data:e.websiteUrl,label:se.__("Website, Blog, or Portfolio"),name:"websiteUrl",rules:{url:{message:()=>se.__("Invalid website URL.")}},showErrorMessage:true,type:"TYPE_TEXT",typeProps:{hasCustomUrlHandling:true}})),(0,s.Z)(ee,{shouldShow:Boolean(e.linkedinUrl)},void 0,(0,s.Z)(Q,{data:e.linkedinUrl,label:se.__("LinkedIn Profile URL"),name:"linkedinUrl",rules:{url:{message:()=>se.__("Invalid LinkedIn profile URL.")}},showErrorMessage:true,type:"TYPE_TEXT",typeProps:{hasCustomUrlHandling:true,nubIconName:"fab-linkedin-12x11"}})),(0,s.Z)(ee,{shouldShow:Boolean(e.twitterUsername)},void 0,(0,s.Z)(Q,{data:e.twitterUsername,label:se.__("Twitter Username"),name:"twitterUsername",type:"TYPE_TEXT",typeProps:{nubIconName:"fab-twitter-14x11"}}))),(0,s.Z)(te,{shouldShow:Boolean(e.educationLevelId||e.educationInstitutionName)},void 0,(0,s.Z)(ee,{shouldShow:Boolean(e.educationLevelId||e.educationInstitutionName)},void 0,(0,s.Z)(Q,{data:e.educationLevelId,label:se.__("Highest Education Obtained"),name:"educationLevelId",type:"TYPE_SELECT"}),(0,s.Z)(Q,{data:e.educationInstitutionName,label:se.__("College/University"),name:"educationInstitutionName",type:"TYPE_TEXT"}))),(0,s.Z)(te,{shouldShow:Boolean(e.referredBy||e.references)},void 0,(0,s.Z)(ee,{shouldShow:Boolean(e.referredBy)},void 0,(0,s.Z)(Q,{data:e.referredBy,label:se.__("Who referred you for this position?"),name:"referredBy",type:"TYPE_TEXT"})),(0,s.Z)(ee,{shouldShow:Boolean(e.references)},void 0,(0,s.Z)(Q,{data:e.references,label:se.__("References (Name, Company, and Contact Info)"),name:"references",type:"TYPE_TEXTAREA"}))),(0,s.Z)(te,{shouldShow:Boolean(e?.customQuestions?.length)},void 0,e.customQuestions&&e.customQuestions.map((e=>{const t=e.type==="file"?{canSelectMultiple:true}:{};const a=e.type==="file"?`customQuestions[${e.id}][]`:`customQuestions[${e.id}]`;return(0,s.Z)(ee,{shouldShow:true},e.id,(0,s.Z)(Q,{cqType:e.type||m.I.long,data:e,label:e.question,name:a,typeProps:t}))}))),(0,s.Z)(te,{shouldShow:Boolean(e.jobCategoryId)},void 0,(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)("div",{className:"CandidateForm__EEO"},void 0,(0,s.Z)("div",{className:"CandidateForm__EEOHeading"},void 0,se.__(`Your answers to the following four questions are entirely optional.`),(0,s.Z)(p.Z,{settings:{content:se.__("To comply with government Equal Employment Opportunity and Affirmative Action reporting regulations, we are requesting (but NOT requiring) that you provide this personal data."),position:"right"},wrapperClassName:"CandidateForm__EEOIcon"},void 0,(0,s.Z)(h.Icon,{name:"fab-question-14x14"}))),(0,s.Z)("div",{className:"CandidateForm__EEOParagraph"},void 0,se.__(`This information will not be used as selection criteria. If you'd rather not share this information, feel free to select "Decline to Answer".`)))),(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(Q,{data:e.genderId,label:se.__("Gender"),name:"genderId",type:"TYPE_SELECT"})),(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(Q,{data:e.ethnicityId,label:se.__("Ethnicity"),name:"ethnicityId",type:"TYPE_SELECT"})),(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(Q,{data:e.disabilityId,label:se.__("Disability"),name:"disabilityId",type:"TYPE_SELECT"})),(0,s.Z)(ee,{shouldShow:true},void 0,(0,s.Z)(J,{data:e.veteranStatusId,label:se.__("Veteran Status"),name:"veteranStatusId"}))))};var ie=ne;var oe=a(26570);const re=e=>{const{actions:t={},fields:a,formId:s}=e;const{cancelAction:i,primaryAction:o}=t;const r=(0,n.useRef)(null);const l=d();const{reset:c,setSpecialErrors:u,specialErrors:h,validate:p}=l;const m=(0,n.useCallback)((e=>{if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest();return}const t=ce(h,"fileUploadPending");const n=ce(h,"fileUploadExpired");const i=ue(r.current,(0,A.pick)(a,["dateAvailable","resumeFileId","coverLetterFileId","veteranStatusId","customQuestions"]),u);if(t||!i||n){de(h)}const l=p([],i);if(t||n||!i||!l){return}if(typeof o==="function"){e.stopPropagation();o();return}if(s){document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"));r.current.submit();return}console.warn(`No formId or Action provided, What were you expecting to happen?`)}),[a,s,o,u,h,p]);const f=(0,n.useCallback)((e=>{if(typeof i==="function"){e.stopPropagation();i(c)}}),[i,c]);(0,n.useEffect)((()=>{const e=document.querySelector(".SiteFooter__action--primary, .js-SiteFooter__action--primary");const t=document.querySelector(".SiteFooter__action--link, .js-SiteFooter__action--link");e.addEventListener("click",m);t.addEventListener("click",f);return()=>{e.removeEventListener("click",m);t.removeEventListener("click",f)}}));(0,n.useEffect)((()=>{r.current=document.getElementById(s)}),[s]);return null};var le=re;function ce(e,t){return Object.keys(e).some((a=>e[a].rule===t))}function de(e){if(ce(e,"fileUploadPending")){window.setMessage(oe.__("Your file is still uploading. Please try again once the upload is complete."),"error")}else if(ce(e,"fileUploadExpired")){window.setMessage(oe.__("Your file upload has expired.  Please remove your file and upload it again."),"error")}else{window.setMessage(oe.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error");const[t]=Object.keys(e);const a=document.querySelector(`[name="${t}"]`);if(a){a.focus()}}}function ue(e,t,a){const s=new FormData(e);let n=true;if(t.dateAvailable){const s=e.elements.dateAvailable__cpFacade.value;n=T("dateAvailable",t.dateAvailable.isRequired,s,a)}["resumeFileId","coverLetterFileId"].forEach((n=>{if(!t[n]||!e.elements[n]){return}if(s.getAll(n).some((e=>Boolean(e)))){a(n,null)}}));if(t.customQuestions){t.customQuestions.forEach((t=>{if(t.type==="multi"&&t.isRequired&&!s.getAll(`customQuestions[${t.id}]`).some((e=>Boolean(e)))){a(`customQuestions[${t.id}]`,{rule:"required"});n=false}if(t.type==="multi"&&s.get(`customQuestions[${t.id}]`)&&!s.get(`customQuestions[${t.id}][other]`)&&!e.elements[`customQuestions[${t.id}][other]`].disabled){a(`customQuestions[${t.id}][other]`,{rule:"required"});n=false}}))}if(t.veteranStatusId&&t.veteranStatusId.isRequired){if(!s.getAll("veteranStatusId[]").some((e=>Boolean(e)))){a("veteranStatusId",{rule:"required"});n=false}}return n}const he=e=>{let{fields:t,usage:a,actions:l,formId:d}=e;const[u,h]=(0,n.useState)({});const p=(0,o.useValidation)();p.specialErrors=u;p.setSpecialErrors=(e,t)=>{h((a=>{const s={...a};if(t===null){delete s[e]}else{s[e]=t}return s}))};return(0,s.Z)(r.Provider,{value:a},void 0,(0,s.Z)(c.Provider,{value:p},void 0,i().createElement(ie,t),(0,s.Z)(le,{actions:l,fields:t,formId:d})))};var pe=he},77421:(e,t,a)=>{"use strict";a.d(t,{Be:()=>o,Ho:()=>c,g0:()=>f,oW:()=>m});var s=a(38592);var n=a(41810);var $=a(26570);let i=[];function o(e){f();$(".js-attached-files").empty().append(l(e,"template"));p()}function r(){const e=$(".js-attached-files");e.find(".js-file").not("[data-template-file]").remove();e.append(l(i,"new"));$(".dot-ellipsis").dotdotdot({wrap:"letter"});p()}function l(e,t){let a="";e.forEach((function(e){let n=e.id||"";let i=e.value||"";let o="";if(t=="template"){o=`data-template-file="true"`}a+=`<div class="FileCard js-file" data-id="${BambooHR.Utils.sanitizeHtml(n)}" data-name="${BambooHR.Utils.sanitizeHtml(e.name)}" data-type="${BambooHR.Utils.sanitizeHtml(e.type)}" data-size="${BambooHR.Utils.sanitizeHtml(e.size)}" data-value="${BambooHR.Utils.sanitizeHtml(i)}" ${BambooHR.Utils.sanitizeHtml(o)}>\n\t\t\t<span class="FileCard__detail">\n\t\t\t\t<span class="FileCard__title dot-ellipsis" title="${BambooHR.Utils.sanitizeHtml(e.name)}">${BambooHR.Utils.sanitizeHtml(e.name)}</span>\n\t\t\t</span>\n\t\t\t<span class="FileCard__info">\n\t\t\t\t<span class="FileCard__icon">\n\t\t\t\t\t<ba-icon name="${BambooHR.Utils.getIconNameFromFileName(e.name,"16x20")}"></ba-icon>\n\t\t\t\t</span>\n\t\t\t\t${(0,s.getExtFromFileName)(e.name).toUpperCase()} (${(0,s.humanFileSize)(e.size)})\n\t\t\t</span>\n\t\t\t<span class="FileCard__close js-remove-file"></span>\n\t\t\t<input type="hidden" name="addFiles[]" value="${BambooHR.Utils.sanitizeHtml(i)}" />\n\t\t</div>`}));return a}function c(){$(document).off("click",".js-add-files-btn");$(document).off("click",".js-attached-files .js-remove-file")}function d(e){const t=".js-emailFileUploadContext";const a=()=>{const a=e;$(t).find(":input[name^=attachId], ba-select[name^=attachId]").each((function(e,t){i.push({name:t.getAttribute("data-name"),type:t.getAttribute("data-type"),value:t.getAttribute("value"),size:t.getAttribute("data-size"),image:t.getAttribute("data-image")})}));r();if(a){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}};const s=$("#uploadFilesDialog").html();const o={dangerousContent:`<div class="js-emailFileUploadContext">`+s+`</div>`,onClose:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},onOpen:()=>{$(".FileUploadActions").addClass("centerContent");let s=$(".multiUpload");let i={linkHTML:`<span class="attach-link">\n\t\t\t\t\t\t\t<button class="fab-Button fab-Button--secondary fab-Button--noSpace js-chooseFile" type="button">`+$.__("Choose File(s)")+` </button>\n\t\t\t\t\t\t\t<button class="files-add-files fab-TextButton fab-link" type="button" style="display: none;"> + `+$.__("Add a file")+` </button>\n\t\t\t\t\t\t</span>`,success:function(t,n){$(".noFile",s).hide();let i=$(".attach-wrapper",s).closest("form");i.append(`<input\n\t\t\t\t\t\ttype="hidden"\n\t\t\t\t\t\tname="attachId[]"\n\t\t\t\t\t\tdata-name="${t.name}"\n\t\t\t\t\t\tdata-type="${t.type}"\n\t\t\t\t\t\tdata-size="${t.size}"\n\t\t\t\t\t\tdata-image="${t.image}"\n\t\t\t\t\t\tvalue="${t.fid}"\n\t\t\t\t\t/>`);u(true,a,e)},removeFile:function(t){let a=t.attr("id").replace("file-","");if(t.hasClass("uploadDone")){$(`input[name^=attachId][value="${a}"]`).remove()}if((0,n.Iw)(s)){u(false,null,e)}return true},onRemove:function(){if((0,n.Iw)(s)){u(false,null,e)}},createFileWrapper:function(e,t){$(".noFile",s).hide();if($(".files > *",s).length===0){$(".attach-link button, .uploadDesc",s).toggle();(0,n.TZ)(s,false)}return $.fileUploader.createFileWrapper(e,t)},setDragOverValues:function(e){e.addClass("dragOver").find(".upload-msg").text($.__("Upload Files"))},setDragOffValues:function(){$(".dragOver").find(".upload-msg").text($.__("Drop Files Here to Upload"));$(".dragOver").removeClass("dragOver")},uploaderId:"multiUpload"};$(".attach-wrapper",s).closest(t).fileUploader(i);$(".uploadDesc").show();$(t).find(":input[name^=attachId], ba-select[name^=attachId]").remove()},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:$.__("Upload Files")};if(e){window.BambooHR.Modal.setState({sheetProps:o},true)}else{window.BambooHR.Modal.setState(o)}}function u(e,t,a){if(a){if(e){window.BambooHR.Modal.setState({isOpen:true,sheetProps:{primaryAction:t}},true)}else{window.BambooHR.Modal.setState({isOpen:true,sheetProps:{primaryAction:null}},true)}}else if(e){window.BambooHR.Modal.setState({primaryAction:t},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}function h(){let e=$(".js-attached-files").find(".js-file");let t=0;for(let a=0;a<e.length;a++){t+=Number(e[a].dataset.size)}return t}function p(){const e=$(".js-new-files-status");let t=h();let a=$.__("Total attachment size right now is %s. For emails, it's best to keep it under 10MB.",`<strong>${BambooHR.Utils.humanFileSize(t)}</strong>`);if(t>10433333){e.html(a)}else{e.empty()}}function m(){$(document).on("click",".js-add-files-btn",(function(){d();return false}));$(document).on("click",".js-attached-files .js-remove-file",(function(e){const t=$(".js-attached-files");let a=$(this).closest(".js-file");if(a.data("template-file")!==undefined){t.append('<input type="hidden" name="deleteFiles[]" value="'+a.data("id")+'" />')}let s=a.data("value");if(typeof s!="undefined"){i=i.filter((function(e){return e.value!==s}))}a.remove();p()}))}function f(){i.length=0}},18085:(e,t,a)=>{"use strict";a.d(t,{y:()=>c});var s=a(73641);var n=a.n(s);let i;let o;let r;let l=false;function c(e,t){d();o=document.querySelector(e);r=document.querySelector(t);i=(0,s.throttle)(u,10);if(o&&r){window.addEventListener("scroll",i)}}function d(){window.removeEventListener("scroll",i,false)}function u(){const e=r.scrollTop;const t=80;if(o.getBoundingClientRect().top<t){o.style.height=`${o.offsetHeight}px`;r.classList.add("fixed");r.scrollTop=e;l=true}else{o.style.height=null;r.classList.remove("fixed");l=false}}},62740:(e,t,a)=>{"use strict";a.d(t,{I:()=>s,y:()=>n});let s=function(e){e["short"]="short";e["long"]="long";e["yes_no"]="yes_no";e["multi"]="multi";e["checkbox"]="checkbox";e["file"]="file";return e}({});let n=function(e){e["IN_OFFICE"]="0";e["REMOTE"]="1";e["HYBRID"]="2";return e}({})},68496:(e,t,a)=>{"use strict";a.d(t,{KI:()=>o,ZU:()=>d,lX:()=>l});var s=a(62740);var $=a(26570);const n=/^https?:\/\//i;function i(e){return n.test(e)}function o(e){return i(e)?e:`http://${e}`}function r(e){switch(String(e)){case s.y.IN_OFFICE:return"";case s.y.REMOTE:return $.__("Remote");case s.y.HYBRID:return $.__("Hybrid");default:return""}}function l(e,t,a,s){const{city:n,province:i,state:o,country:r}=t||{};let l;let c;if(typeof r==="object"){l=r?.name}else if(typeof r==="string"){l=r}if(typeof o==="object"){c=r?.iso_code==="US"&&n?o?.abbrev:o?.name}else if(typeof o==="string"){c=o}return d(e,n,i||c,l,a||"",s)}function c(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(e){return`${t}${s?" ":""}${a}`}return t}function d(e,t,a,n,i){let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:String.fromCharCode(183);let l=i??"";const d=!!t||!!a||!!n||e&&String(e)===s.y.REMOTE;l=c(l.length&&d,l,o);l=c(!!t,l,t);l=c(!!t&&!!a,l,",",false);l=c(!!a,l,a||"");l=c(!a&&!t&&!!n,l,n||"");if(String(e)!==s.y.IN_OFFICE){const s=r(e);const i=(t||a||n)&&s?`(${s})`:s;l=l?.trim().length?`${l} ${i}`:i}return l.trim()}},28709:(e,t,a)=>{"use strict";a.d(t,{gU:()=>I,zs:()=>Ce,AQ:()=>ie,lr:()=>Fe,K9:()=>s,Wm:()=>Pe});var s={};a.r(s);a.d(s,{ACCOUNT_ENDPOINT:()=>c,BASE_ENDPOINT:()=>l,getCancellationFeatureReasonOptions:()=>f,getCancellationFeatureReasonOptionsAll:()=>g,getCancellationFeatureStatus:()=>d,getCancellationStatusAll:()=>u,getExtraJobOpenings:()=>p,getNextBillingDates:()=>h,getRemainingJobOpenings:()=>m,stopCancellation:()=>y,submitCancellation:()=>v});var n=a(92959);var i=a.n(n);var o=a(17842);var r=a.n(o);const l="/settings/cancellation";const c="/settings/account/cancellation";function d(e){return r().get(`${l}/${e}/status`)}function u(){return r().get(`${l}/status_all`)}function h(){return r().get(`${c}/next_billing_dates`)}function p(){return r().get(`${l}/extra_job_openings`)}function m(){return r().get(`${l}/remaining_job_openings`)}function f(e){return g().then((t=>{const a=Array.isArray(e)?e:[e];const s=t.data.filter((e=>i()(a).call(a,e.feature)));return{data:s}}))}function g(){return r().get(`${l}/reason_options_all`)}function v(e){return r().post(`${l}/start`,e)}function y(e){return r().post(`${l}/stop`,e)}var b=a(89835);var w=a(23321);var S=a.n(w);var C=a(59155);var x=a(1831);var T=a(82543);var E=a.n(T);var $=a(26570);const k=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=E()(e);return t.isValid()?t.format("L"):""};const Z=(e,t)=>[{text:$.__("Cancel %1",t),value:"cancelProducts",isDisabled:e?.pending_cancellation,note:e?.pending_cancellation?$.__("Request sent %1 by %2",k(e.date_requested),e.user_who_requested_cancellation):null}];var N=a(26570);const I=e=>{let{cancellationData:t,handleOnSelect:a,title:s,biId:n}=e;return(0,b.Z)(C.Dropdown,{biId:n,buttonSettings:{ariaLabel:N.__("Cancellation"),color:"secondary",startIcon:(0,b.Z)(x.Z,{}),variant:"outlined",size:"teenie"},items:Z(t,s),onSelect:a})};var A=a(88604);var F=a(73641);var M=a(96738);var D=a(42579);var P=a(26570);const O=(0,C.makeStyles)((e=>{let{palette:t}=e;return{icon:{fill:t.warning.main}}}));const L=e=>{let{isOpen:t,isProcessing:a,onRequestClose:s,onSubmit:n,productName:i}=e;const[o,r]=(0,w.useState)("");const l=O();(0,w.useEffect)((()=>{(0,D.Z)().then((e=>{r(e?.name||"")}))}),[]);const c="in-app-cancellation-confirmation-sheet";const d=i?P.__("Are you sure you want to cancel %s for %s?",i,o):P.__("Are you sure you want to submit this cancellation request for %s?",o);return(0,b.Z)(C.SheetModal,{isOpen:t,isProcessing:a,onRequestClose:s},void 0,(0,b.Z)(C.SheetModal.Body,{renderFooter:(0,b.Z)(C.SheetModal.Footer,{actions:[(0,b.Z)(C.Button,{"data-bi-id":`${c}-submit-button`,onClick:n,type:"button"},`${c}-sheet-submit-button`,P.__("Submit Cancellation Request")),(0,b.Z)(C.TextButton,{"data-bi-id":`${c}-cancel-button`,onClick:s,type:"button"},`${c}-cancel-button`,P.__("Cancel"))]}),renderHeader:(0,b.Z)(C.SheetModal.Header,{title:P.__("Just Checking...")})},void 0,(0,b.Z)(C.SheetModal.Constraint,{spacingOverrides:{top:C.CardContentSpacing.LARGE,bottom:C.CardContentSpacing.LARGE}},void 0,(0,b.Z)(C.SheetModal.HeroHeadline,{icon:(0,b.Z)(M.Z,{className:l.icon}),text:d,subtext:P.__("After submitting you will receive an email with instructions for exporting your data.")}))))};var R=a(26570);const B=e=>{let{biId:t,children:a,disablePrimaryButton:s,isLastStep:n,onClose:i,onNext:o,onPrevious:r,renderHeader:l}=e;return(0,b.Z)(C.StandardModal.Body,{renderFooter:(0,b.Z)(C.StandardModal.Footer,{actions:[(0,b.Z)(C.Button,{"data-bi-id":`${t}-next-button`,disabled:s,onClick:o,type:"button"},`${t}-next-button`,n?R.__("Submit"):R.__("Next")),...r?[(0,b.Z)(C.Button,{"data-bi-id":`${t}-back-button`,color:"secondary",onClick:r,type:"button"},`${t}-back-button`,R.__("Back"))]:[],(0,b.Z)(C.TextButton,{"data-bi-id":`${t}-cancel-button`,onClick:i,type:"button"},`${t}-cancel-button`,R.__("Cancel"))]}),renderHeader:l,size:C.CardSize.SMALL},void 0,(0,b.Z)(C.StandardModal.Constraint,{spacingOverrides:{top:C.CardContentSpacing.LARGE}},void 0,a))};const j=(0,C.makeStyles)((e=>{let{spacing:t}=e;return(0,C.createStyles)({form:{display:"grid",paddingBottom:t(3)},selectField:{marginTop:t(2)},subText:{marginTop:t(-1),color:"#686868"},contentText:{marginTop:t(2)}})}));var H=a(26570);const q=e=>{let{nextBillingDates:t,onNext:a,setIsLoading:s,...n}=e;const i=j();const[o,r]=(0,w.useState)(t[1]?.value);const[l,c]=(0,w.useState)();const[d,u]=(0,w.useState)([]);const[h,f]=(0,w.useState)(0);const[g,v]=(0,w.useState)(0);const y=[{isDisabled:true,text:H.__("Job Openings must be cancelled in groups of 10."),value:"note"}];const x=e=>{r(e.target.value)};const T=e=>{c(e.target.value)};const E=()=>{a({cancellation_date:o,job_opening_data:{number_to_cancel:l}})};(0,w.useEffect)((()=>{s(true);p().then((e=>{f(e.data.extraJobPostings+25);const t=Math.round(e.data.extraJobPostings/10);const a=[];for(let e=1;e<=t;e++){a.push({text:e*10,value:e*10})}u(a)})).catch((()=>{window.setMessage(H.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")})).finally((()=>{s(false)}));m().then((e=>{v(e.data.remainingJobOpenings)})).catch((()=>{window.setMessage(H.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")}))}),[]);const k=!o||!l;return S().createElement(B,(0,A.Z)({},n,{disablePrimaryButton:k,onNext:E}),(0,b.Z)(C.StandardModal.UpperContent,{},void 0,(0,b.Z)(C.Badge,{iconName:"fab-ats-38x46",iconColor:"#555555",imageHeight:"auto",imageWidth:"auto",title:H.__("You currently have %s total job openings",h),TitleProps:{color:"textPrimary",variant:"h5"}},void 0,(0,b.Z)("p",{className:i.subText},void 0,H.__("%s extra are not being used",g)))),(0,b.Z)("div",{className:i.form},void 0,(0,b.Z)("p",{className:i.contentText},void 0,H.__("We hope you found the candidates you were looking for! Please fill out the information below to cancel your job openings.")),(0,b.Z)(C.SelectField,{className:i.selectField,items:t,label:H.__("Desired Cancellation Date"),onChange:x,width:6,placeholder:"mm/dd/yyyy",id:"job-openings-cancellation-date",required:true,value:o}),(0,b.Z)(C.SelectField,{className:i.selectField,items:[...y,...d],label:H.__("Number of Job Openings to Cancel"),onChange:T,width:6,id:"job-openings-number-to-cancel",required:true,value:l})))};var W=a(26570);const U=[{label:W.__("Yes"),value:"yes"},{label:W.__("No"),value:"no"}];const z=(0,F.times)(4,(e=>{const t=`${e+1}`;return{text:t,value:t}}));const Y=[E()().subtract(1,"years").format("YYYY"),E()().format("YYYY")];const G=Y.map((e=>({text:e,value:e})));var V=a(26570);const K=(0,C.makeStyles)((e=>{let{spacing:t}=e;return{marginBottom:{marginBottom:t(2)}}}));const X=e=>{let{onNext:t,...a}=e;const[s,n]=(0,w.useState)({final_pay_date:null,use_federal_id_after_final_date:null,pay_through_quarter:null,pay_through_year:null});const i=K();const o=e=>{n({...s,...e})};const r=()=>{t({payroll_data:s})};const l=!s.final_pay_date||!s.use_federal_id_after_final_date||!s.pay_through_quarter||!s.pay_through_year;return S().createElement(B,(0,A.Z)({},a,{disablePrimaryButton:l,onNext:r}),(0,b.Z)("p",{className:i.marginBottom},void 0,V.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation.")),(0,b.Z)("form",{},void 0,(0,b.Z)("div",{className:i.marginBottom},void 0,(0,b.Z)(C.DatePicker,{id:"final_pay_date",label:V.__("Final Pay Date"),minDate:E()().add(1,"days").format("YYYY-MM-DD"),onChange:e=>o({final_pay_date:e.value}),required:true,value:s.final_pay_date})),(0,b.Z)("div",{className:i.marginBottom},void 0,(0,b.Z)(C.RadioGroup,{items:U,label:V.__("Will you be processing payroll using this Federal ID after your final pay date?"),name:"use_federal_id_after_final_date",onChange:e=>o({use_federal_id_after_final_date:e.value}),value:s.use_federal_id_after_final_date||""})),(0,b.Z)("div",{className:i.marginBottom},void 0,(0,b.Z)(C.SelectField,{id:"pay_through_quarter",items:z,isClearable:false,label:V.__("Please file taxes through quarter:"),onChange:e=>{const t=e.target.value[0];o({pay_through_quarter:t,pay_through_year:t!=="4"?G[1].value:null})},value:[s.pay_through_quarter||""],width:6})),(0,b.Z)("div",{className:i.marginBottom},void 0,(0,b.Z)(C.SelectField,{id:"pay_through_year",items:s.pay_through_quarter==="4"?G:[G[1]],isClearable:false,isDisabled:!s.pay_through_quarter,label:V.__("Please file taxes through year:"),onChange:e=>o({pay_through_year:e.target.value[0]}),value:[s.pay_through_year||""],width:6}))))};var J=a(26570);const Q=(0,C.makeStyles)((e=>{let{spacing:t}=e;return{marginBottom:{marginBottom:t(2)},fullWidth:{width:"100%"},textarea:{"& textarea":{boxSizing:"border-box",minHeight:54,resize:"none"}}}}));const ee=e=>{let{onNext:t,reasons:a,...s}=e;const[n,i]=(0,w.useState)({new_processing_method:null,new_processing_method_details:null,reason:null,reason_details:null});const o=Q();const r=e=>{i({...n,...e})};const l=()=>{const{reason:e,reason_details:a,...s}=n;t({reason:e,reason_details:a,payroll_data:s})};const c=n.new_processing_method?.toLowerCase()==="other";const d=!n.new_processing_method||c&&!n.new_processing_method_details||!n.reason||!n.reason_details;return S().createElement(B,(0,A.Z)({},s,{disablePrimaryButton:d,onNext:l}),(0,b.Z)("div",{className:o.marginBottom},void 0,(0,b.Z)(C.SelectField,{id:"new_processing_method",isClearable:false,items:a.payroll_new_processing_methods||[],label:J.__("What is your new payroll processing method?"),onChange:e=>r({new_processing_method:e.target.value[0]}),required:true,showSearch:"never",value:[n.new_processing_method||""],width:6})),(0,b.Z)("div",{className:o.marginBottom},void 0,(0,b.Z)(C.TextArea,{className:o.textarea,id:"new_processing_method_details",label:J.__("Please provide any additonal details here"),onChange:e=>r({new_processing_method_details:e.target.value}),required:c,value:n.new_processing_method_details||"",width:100})),(0,b.Z)("div",{className:o.marginBottom},void 0,(0,b.Z)(C.SelectField,{className:o.fullWidth,id:"reason",isClearable:false,items:a.payroll||[],label:J.__("Reason for cancelling payroll account"),onChange:e=>r({reason:e.target.value[0]}),required:true,showSearch:"never",value:[n.reason||""],width:100})),(0,b.Z)("div",{className:o.marginBottom},void 0,(0,b.Z)(C.TextArea,{className:o.textarea,id:"reason_details",label:J.__("Please provide any additonal details here"),onChange:e=>r({reason_details:e.target.value}),required:true,value:n.reason_details||"",width:100})))};var te=a(26570);const ae=(0,C.makeStyles)((e=>{let{spacing:t}=e;return{marginBottom:{marginBottom:t(2)},fullWidth:{width:"100%"},textarea:{"& textarea":{boxSizing:"border-box",minHeight:54,resize:"none"}}}}));const se=e=>{let{onNext:t,reasons:a,...s}=e;const[n,i]=(0,w.useState)({reason_not_using_federal_id:null,reason_not_using_federal_id_details:null});const o=ae();const r=e=>{i({...n,...e})};const l=()=>{t({payroll_data:n})};const c=n.reason_not_using_federal_id?.toLowerCase()==="other";const d=!n.reason_not_using_federal_id||c&&!n.reason_not_using_federal_id_details;return S().createElement(B,(0,A.Z)({},s,{disablePrimaryButton:d,onNext:l}),(0,b.Z)("div",{className:o.marginBottom},void 0,(0,b.Z)(C.SelectField,{className:o.fullWidth,id:"reason_not_using_federal_id",isClearable:false,items:a.payroll_no_use_fed_id_reasons,label:te.__("Reason for no longer processing with this Federal ID"),onChange:e=>r({reason_not_using_federal_id:e.target.value[0]}),required:true,showSearch:"never",value:[n.reason_not_using_federal_id||""],width:100})),(0,b.Z)("div",{className:o.marginBottom},void 0,(0,b.Z)(C.TextArea,{className:o.textarea,id:"reason_not_using_federal_id_details",label:te.__("Please provide any additional details here"),onChange:e=>r({reason_not_using_federal_id_details:e.target.value}),required:c,value:n.reason_not_using_federal_id_details||"",width:100})))};const ne=e=>{let{formValues:t,...a}=e;if(t?.payroll_data?.use_federal_id_after_final_date===U[0].value){return S().createElement(ee,a)}return S().createElement(se,a)};let ie=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["JOB_OPENINGS"]="job_openings";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});let oe=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PAYROLL_NEW_PROCESSING_METHODS"]="payroll_new_processing_methods";e["PAYROLL_NO_FED_ID_REASONS"]="payroll_no_use_fed_id_reasons";e["PAYROLL_ACK_1"]="payroll_ack_1_option";e["PAYROLL_ACK_2"]="payroll_ack_2_option";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["JOB_OPENINGS"]="job_openings";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});var re=a(71141);var le=a(40635);async function ce(){const e=await le.Ajax.get("/settings/cancellation/package");return e.data.discount_package}var de=a(26570);const ue=(0,C.makeStyles)((e=>{let{spacing:t}=e;return{bottomPadding:{padding:`0 0 ${t(3)}`},checkboxLabel:{alignItems:"flex-start"}}}));const he=e=>{let{formValues:t,reasons:a,onNext:s,types:n,...o}=e;const[r,l]=(0,w.useState)(false);const[c,d]=(0,w.useState)(false);const[u,h]=(0,w.useState)(false);const[p,m]=(0,w.useState)(true);const f=(0,re.isEnabled)("CANCELLATION_DISCOUNT_MESSAGE");const g=ue();const[v,y]=(0,w.useState)({ack_1_response:false});const x=e=>{y({...v,...e})};const T=e=>{l(e)};const E=t?.payroll_data?.pay_through_quarter;const k=(new Date).getFullYear();const Z=t?.payroll_data?.pay_through_year;const N=t?.payroll_data?.use_federal_id_after_final_date;const I={quarterYes:de.__("I understand that taxes will be filed and paid through quarter %s %s. If any payrolls have been processed after quarter %s %s, unemployment funds will be returned to your bank account once the account reconciliation is complete. Year %s W2s and annual filings WILL NOT be done by BambooHR.",E,k,E,k,k),quarterNo:de.__("If you are no longer planning on processing payroll using this Federal ID, you should select quarter 4 on step 2 of this form unless you are planning to file W2s and annual fiIings yourself. Taxes will be filed and paid through quarter %s %s. If any payrolls have been processed after quarter %s %s, unemployment funds will be returned to your bank account once the account reconciliation is complete. Year %s W2s and annual filings WILL NOT be done by BambooHR.",E,k,E,k,k),year:de.__("I understand that taxes will be filed and paid through quarter 4 %s. Year %s W2s and annual filings WILL be done by BambooHR.",Z,Z)};const F=()=>{s({payroll_data:v})};(0,w.useEffect)((()=>{if(!f||!n||i()(n).call(n,ie.ACCOUNT)){d(false);return}const e=async()=>{const e=await ce();d(e)};e()}),[f]);(0,w.useEffect)((()=>{if(f&&c){m(!u||!v.ack_1_response||!r)}else{m(!v.ack_1_response||!r)}}),[f,c,u,v,r]);return S().createElement(B,(0,A.Z)({},o,{disablePrimaryButton:p,onNext:F}),(0,b.Z)("div",{className:g.bottomPadding},void 0,"Please read through and check the following statements:"),(0,b.Z)(C.Checkbox,{label:a.payroll_ack_1_option?.[0]?.text||"",onChange:e=>x({ack_1_response:e.checked}),value:a.payroll_ack_1_option?.[0]?.value||"",checked:v.ack_1_response,className:g.bottomPadding,classes:{labelRoot:g.checkboxLabel}}),E=="4"&&(0,b.Z)(C.Checkbox,{label:I.year,onChange:e=>T(e.checked),value:"",checked:r,className:g.bottomPadding,classes:{labelRoot:g.checkboxLabel}}),N=="yes"&&E!="4"&&(0,b.Z)(C.Checkbox,{label:I.quarterYes,onChange:e=>T(e.checked),value:"",checked:r,className:g.bottomPadding,classes:{labelRoot:g.checkboxLabel}}),N=="no"&&E!="4"&&(0,b.Z)(C.Checkbox,{label:I.quarterNo,onChange:e=>T(e.checked),value:"",checked:r,className:g.bottomPadding,classes:{labelRoot:g.checkboxLabel}}),f&&c&&(0,b.Z)(C.Checkbox,{value:"cancellation-discount-checkbox",onChange:()=>{h(!u)},className:g.bottomPadding,classes:{labelRoot:g.checkboxLabel},checked:u,biId:"cancellation-discount-checkbox",id:"cancellation-discount-checkbox",name:"cancellation-discount-checkbox",label:de.__("I acknowledge that cancelling this feature will remove my 15%% bundle discount.")}))};var pe=a(26570);const me=(0,C.makeStyles)((e=>{let{palette:t,spacing:a,typography:s}=e;return{boxes:{marginBottom:a(2),"& textarea":{minHeight:"57px",resize:"none"}},selectNote:{color:t.grey[700],fontSize:s.fabricFontSize("teenie"),lineHeight:s.fabricLineHeight("teenie")},label:{fontSize:s.fabricFontSize("teenie"),lineHeight:s.fabricLineHeight("teenie"),color:t.grey[700]},discountCheckbox:{marginTop:a(5)},checkboxLabel:{alignItems:"flex-start"}}}));const fe=["other","other reason...","other reason"];const ge={[ie.ACCOUNT]:{label:`${pe.__("What is your primary reason for cancelling?")}*`,detailsLabel:`${pe.__("Are there any additional reasons you are cancelling that aren't listed above?")}*`,valuesThatTriggerDetails:[...fe,"we dont use our bamboohr account","bamboohr doesnt have the functionality we need"]},[ie.PERFORMANCE]:{label:`${pe.__("What is your primary reason for cancelling Performance Management?")}*`,detailsLabel:`${pe.__("Could you describe why you are cancelling Performance Management?")}*`,valuesThatTriggerDetails:[...fe,"missing functionality"]},[ie.TIME_TRACKING]:{label:`${pe.__("What is your primary reason for cancelling Time Tracking?")}*`,detailsLabel:`${pe.__("Could you describe why you are cancelling Time Tracking?")}*`,valuesThatTriggerDetails:[...fe,"missing functionality"]},[ie.BENEFIT_ADMIN]:{label:`${pe.__("What is your primary reason for cancelling Benefits Administration?")}*`,detailsLabel:`${pe.__("Could you describe why you are cancelling Benefits Administration?")}*`,valuesThatTriggerDetails:[...fe,"missing functionality"]}};function ve(e){let{isLastStep:t,nextBillingDates:a,onClose:s,onNext:n,productKeys:o,reasons:r,renderHeader:l,biId:c,onPrevious:d}=e;const[u,h]=(0,w.useState)({cancellation_date:a[1]?.value});const[p,m]=(0,w.useState)(false);const[f,g]=(0,w.useState)(false);const v=me();const y=[ie.ACCOUNT,ie.PERFORMANCE,ie.TIME_TRACKING,ie.BENEFIT_ADMIN];const S=(0,w.useMemo)((()=>o.filter((e=>i()(y).call(y,e)))),[o,y]);const x=(0,re.isEnabled)("CANCELLATION_DISCOUNT_MESSAGE");const T=i()(o).call(o,ie.ACCOUNT)?pe.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation."):pe.__("We're bummed you won't be using those products anymore! Please fill out the following and we will be in touch to process your cancellation.");const E=()=>{if(x&&p&&!f&&!i()(S).call(S,ie.ACCOUNT)){return false}const e=!!u.cancellation_date;const t=S.every((e=>!!u[e]?.reason));const a=S.every((e=>{var t;const a=u[e]?.reason;if(!a)return false;if(i()(t=ge[e].valuesThatTriggerDetails).call(t,a?.toLowerCase())){return!!u[e].reason_details}return true}));return e&&t&&a};(0,w.useEffect)((()=>{if(!x)return;const e=async()=>{const e=await ce();m(e)};const t=[ie.BENEFIT_ADMIN,ie.PAYROLL];const a=S.filter((e=>i()(t).call(t,e)));if(a.length>0&&!i()(S).call(S,ie.ACCOUNT)){e()}else{m(false)}}),[S,x]);return(0,b.Z)(B,{biId:c,disablePrimaryButton:!E(),isLastStep:t,onClose:s,onNext:()=>n(u),onPrevious:d,renderHeader:l},void 0,(0,b.Z)("form",{},void 0,(0,b.Z)("p",{className:v.boxes},void 0,T),(0,b.Z)(C.Box,{className:v.boxes},void 0,(0,b.Z)(C.SelectField,{id:"cancel-date",items:a,isClearable:false,label:`${pe.__("Desired Cancellation Date")}*`,onChange:e=>{const t={...u};t.cancellation_date=e.target.value;h(t)},renderOptionContent:e=>e.value==="note"&&(0,b.Z)("span",{className:v.selectNote},void 0,e.text),value:u.cancellation_date,width:6})),S.map((e=>{var t;const a=r[e];const s=u[e]?.reason&&i()(t=ge[e].valuesThatTriggerDetails).call(t,u[e]?.reason?.toLowerCase());return(0,b.Z)(w.Fragment,{},e,(0,b.Z)(C.Box,{className:v.boxes},void 0,(0,b.Z)("label",{className:v.label,htmlFor:`${e}-reason`},void 0,ge[e].label),(0,b.Z)(C.Select,{items:a,isClearable:false,name:`${e}-reason`,onChange:t=>{const a=t[0];const s={...u};if(e in s){s[e].reason=a}else{s[e]={feature:e,reason:a}}h(s)},selectedValues:[u[e]?.reason],width:100})),s&&(0,b.Z)(C.TextArea,{className:v.boxes,id:`${e}-cancel-reason-details`,label:ge[e].detailsLabel,onChange:t=>{const a=t.target.value;const s={...u};if(e in s){s[e].reason_details=a}else{s[e]={reason_details:a}}h(s)},placeholder:pe.__("What additional details can you provide us with?"),value:u[e]?.reason_details}))})),x&&p&&(0,b.Z)("div",{className:v.discountCheckbox},void 0,(0,b.Z)(C.Checkbox,{value:"cancellation-discount-checkbox",onChange:()=>{g(!f)},classes:{labelRoot:v.checkboxLabel},checked:f,biId:"cancellation-discount-checkbox",id:"cancellation-discount-checkbox",name:"cancellation-discount-checkbox",label:pe.__("I acknowledge that cancelling this feature will remove my 15%% bundle discount.")}))))}var _e=a(26570);const ye={[ie.ACCOUNT]:{title:_e.__("Cancel BambooHR Account"),productName:_e.__("Full BambooHR Account")},[ie.PAYROLL]:{content:[X,ne,he],title:_e.__("Cancel Payroll"),productName:_e.__("Payroll")},[ie.JOB_OPENINGS]:{content:[q],title:_e.__("Manage Job Openings"),productName:_e.__("Job Openings")},[ie.PERFORMANCE]:{title:_e.__("Cancel Performance Management"),productName:_e.__("Performance Management")},[ie.TIME_TRACKING]:{title:_e.__("Cancel Time Tracking"),productName:_e.__("Time Tracking")},[ie.BENEFIT_ADMIN]:{title:_e.__("Cancel Benefits Administration"),productName:_e.__("Benefits Administration")}};var be=a(26570);const we="in-app-cancellation-modal";const Se=e=>(0,b.Z)(C.StandardModal.Header,{title:e});const Ce=e=>{let{isOpen:t,onClose:a,onSubmitSuccess:s=F.noop,types:n}=e;const[o,r]=(0,w.useState)(0);const[l,c]=(0,w.useState)(false);const[d,u]=(0,w.useState)({});const[p,m]=(0,w.useState)(false);const[f,y]=(0,w.useState)(false);const[x,T]=(0,w.useState)({});const[k,Z]=(0,w.useState)([]);const N=!!Object.keys(x).length;(0,w.useEffect)((()=>{if(t&&!N){y(true);const e=g();const t=h();Promise.all([e,t]).then((e=>{let[t,a]=e;const s=t.data.reduce(((e,t)=>{e[t.feature]=t.options.map((e=>({text:e.label,value:e.value})));return e}),{});const n=a.data.next_billing_dates.map((e=>({text:E()(e).format("DD MMM YYYY"),value:e})));n.unshift({isDisabled:true,text:be.__("Cancellations can only be processed on billing dates."),value:"note"});T(s);Z(n)})).catch((()=>{window.setMessage(be.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")})).finally((()=>{y(false)}))}}),[t]);const I=()=>{r(0);u({})};const M=()=>{a()};const D=()=>{if(!p){m(true);const e=Object.entries(d).reduce(((e,t)=>{var a;let[s,n]=t;if(i()(a=Object.values(ie)).call(a,s)&&typeof n==="object"){e.cancellations.push(n)}else{e[s]=n}return e}),{cancellations:[]});const t=`Your account cancellation request has been sent to our team! Further instructions will be emailed shortly.`;v(e).then((()=>{window.setMessage(t,"success");R();M();s()})).catch((()=>{window.setMessage(be.__("Oops! Looks like we had some trouble submitting your request. Refresh the page and try again!"),"error")})).finally((()=>{m(false)}))}};const P=(e,t)=>a=>{if(a){u((t=>{const s=e?{[e]:{feature:e,...a},...a.cancellation_date?{cancellation_date:a.cancellation_date}:{}}:a;return(0,F.merge)(t,s)}))}if(t){O()}else{r((e=>e+1))}};const O=()=>{c(true)};const R=()=>{c(false)};const B=()=>{r((e=>e-1))};const j=(0,w.useMemo)((()=>{const[e,t]=n.reduce(((e,t)=>{const a=ye[t];e[a?.content?1:0].push(t);return e}),[[],[]]);const a=[];const s={nextBillingDates:k,onClose:M,reasons:x,setIsLoading:y};if(e.length){const n=t.length===0;const o=`${we}-standard-form`;const r=i()(e).call(e,ie.ACCOUNT)?ye[ie.ACCOUNT].title:be.__("Cancel BambooHR Products");a.push(S().createElement(ve,(0,A.Z)({biId:o,isLastStep:n,key:o,onNext:P(null,n),productKeys:e,renderHeader:Se(r)},s)))}if(t.length){const e=t.reduce(((e,i,o)=>{const{content:r,title:l}=ye[i];const c=o===t.length-1;const u=r.map(((e,t)=>{const u=!a.length&&o===0&&t===0;const h=t===r.length-1;const p=c&&h;const m=`in-app-cancellation-modal-${i}-${t}`;return S().createElement(e,(0,A.Z)({biId:m,formValues:d[i]||{},isLastStep:p,key:m,onNext:P(i,p),onPrevious:!u?B:undefined,renderHeader:Se(l),types:n},s))}));e.push(...u);return e}),[]);a.push(...e)}return a}),[n,o,x,k]);const H=n.length===1?ye[n[0]]?.productName:undefined;const q=(0,b.Z)(L,{isOpen:l,isProcessing:p,onRequestClose:R,onSubmit:D,productName:H});if(j.length>1){return S().createElement(S().Fragment,null,(0,b.Z)(C.MultiStepModal,{biId:we,currentStep:o,isLoading:f,isOpen:t,onCloseComplete:I,onRequestClose:M,steps:j}),q)}return S().createElement(S().Fragment,null,(0,b.Z)(C.StandardModal,{isLoading:f,isOpen:t,isProcessing:p,onCloseComplete:I,onRequestClose:M},void 0,j[0]),q)};var xe=a(26570);let Te=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});const Ee={[Te.ACCOUNT]:xe.__("Full BambooHR Account"),[Te.PAYROLL]:xe.__("Payroll"),[Te.PERFORMANCE]:xe.__("Performance Management"),[Te.TIME_TRACKING]:xe.__("Time Tracking"),[Te.BENEFIT_ADMIN]:xe.__("Benefits Administration")};const ke=(0,C.makeStyles)((e=>{let{spacing:t}=e;return(0,C.createStyles)({liItem:{listStyle:"disc",marginLeft:t(2)},bottomPadding:{marginBottom:t(3)},dropDown:{height:"100%"},bold:{fontWeight:"bold"}})}));var Ze=a(27855);var Ne=a(2686);var Ie=a(50463);var Ae=a(26570);const Fe=e=>{let{cancellationData:t,updateCancellationData:a,isAddon:s,render:n}=e;const i=ke();const[o,r]=(0,w.useState)(false);const[l,c]=(0,w.useState)(false);const[d,u]=(0,w.useState)(false);const[h,p]=(0,w.useState)([]);const[m,f]=(0,w.useState)(null);const[g,v]=(0,w.useState)(null);const[y,x]=(0,w.useState)(false);const T=()=>{p([]);r(false)};const E=e=>Ie.ou.fromISO(e).toLocaleString(Ie.ou.DATE_MED);const k=e=>Ie.ou.fromISO(e).minus({days:1}).toLocaleString(Ie.ou.DATE_MED);const Z=e=>{if(e==="moreDetail"){window.location.href="/app/settings/cancellation"}else if(e==="stopCancellation"){u(true)}else if(e==="cancelAdditional"){if(y){r(true)}else{c(true)}}};const N=()=>{if(!m||!g)return;const e=[{text:"More Detail",value:"moreDetail"},{text:"Stop Cancellation Request",value:"stopCancellation"}];if(!m.find((e=>e.feature===ie.ACCOUNT))&&g.length>0&&!s){e.push({text:"Cancel Additional Products",value:"cancelAdditional"})}return(0,b.Z)("div",{className:i.dropDown},void 0,(0,b.Z)(C.Dropdown,{buttonSettings:{text:Ae.__("Options"),color:"secondary",variant:"outlined",size:"teenie"},items:e,onSelect:Z}))};const I=(e,t)=>{let a=Ae.__("");e.forEach(((s,n)=>{if(e.length>2&&n===e.length-1){a+="and "}if(t){a+=E(s)}else{a+=s}if(e.length===2&&n===0){a+=", and "}else if(e.length>2&&n!==e.length-1){a+=", "}}));return a};const A=()=>{if(!m)return;const e=[];const t=Array.from(new Set(m.map((e=>e.user_who_requested_cancellation))));t.forEach((t=>{const a=m.filter((e=>e.user_who_requested_cancellation===t));const s=Array.from(new Set(a.map((e=>e.date_requested))));const n=s.sort(((e,t)=>Number(new Date(e))-Number(new Date(t))));e.push({user:t,datesRequested:n})}));const a=m.filter((e=>e.feature===ie.PAYROLL));const s=[];if(m.length>0){const e=Array.from(new Set(m.map((e=>e.cancellation_date))));e.forEach((e=>{const t=m.filter((t=>t.cancellation_date===e));const a=Array.from(new Set(t.map((e=>Ee[e.feature]))));s.push({names:a,date:e})}))}return(0,b.Z)(w.Fragment,{},void 0,Ae.__("BambooHR Product cancellation was requested on "),e.map(((t,a)=>{const s=I(t.datesRequested,true);if(a===e.length-1){return(0,b.Z)("span",{},t,Ae.__("%1$s, by ",s),(0,b.Z)("span",{className:i.bold},void 0,Ae.__("%1$s",t.user)))}else{return(0,b.Z)("span",{},t,Ae.__("%1$s, by ",s),(0,b.Z)("span",{className:i.bold},void 0,Ae.__("%1$s ",t.user)),Ae.__("and on "))}})),(m.length>0||a.length>0)&&(0,b.Z)("ul",{},void 0,m.length>0&&s.map((e=>{const t=I(e.names,false);return(0,b.Z)("li",{className:i.liItem},t,Ae.__("Access to %1$s will end on ",t),(0,b.Z)("span",{className:i.bold},void 0,Ae.__("%1$s, ",k(e.date))),Ae.__("at "),(0,b.Z)("span",{className:i.bold},void 0,Ae.__("11:59PM Mountain Time")))})),a.length>0&&a[0].cancellation_details!=undefined&&(0,b.Z)("li",{className:i.liItem},void 0,Ae.__("Final Payroll will run on "),(0,b.Z)("span",{className:i.bold},void 0,Ae.__("%1$s ",E(a[0].cancellation_details.final_pay_date))))))};(0,w.useEffect)((()=>{if(!t||!t.filter)return;f(t.filter((e=>e.pending_cancellation!==false)));v(t.filter((e=>e.pending_cancellation!==true)));x(t.length>1)}),[t]);const F={body:A(),header:Ae.__("Were Sad to See You Go"),icon:(0,b.Z)(Ne.Z,{}),customAction:N(),info:true};const M=S().createElement(S().Fragment,null,(0,b.Z)(Ze.J,{cancellationStatuses:t,isOpen:o,onClose:T,onNext:e=>{p(e);c(true)}}),(0,b.Z)(Ce,{isOpen:l,onClose:()=>c(false),onSubmitSuccess:()=>{a();T()},types:y?h:[ie.ACCOUNT]}),(0,b.Z)(Pe,{isOpen:d,onClose:()=>u(false),onSubmitSuccess:a,cancellationData:t}));return S().createElement(S().Fragment,null,n?n(F):(0,b.Z)("div",{className:i.bottomPadding},void 0,S().createElement(C.InPageMessaging,F)),M)};const Me=(0,C.makeStyles)((e=>{let{spacing:t}=e;return(0,C.createStyles)({marginBottom:{marginBottom:t(4)},stopModalContent:{marginBottom:t(2)}})}));var De=a(26570);const Pe=e=>{let{isOpen:t,onClose:a,onSubmitSuccess:s,cancellationData:n}=e;const o=Me();const[r,l]=(0,w.useState)(false);const[c,d]=(0,w.useState)(false);const[u,h]=(0,w.useState)([]);const[p,m]=(0,w.useState)();const[f,g]=(0,w.useState)([]);(0,w.useEffect)((()=>{if(!n||!n.reduce)return;const e=n.reduce(((e,t)=>{const{feature:a,pending_cancellation:s}=t;if(a in Ee&&s){e.push({value:a,label:Ee[a]})}return e}),[]);h(e)}),[n]);(0,w.useEffect)((()=>{m({products:f})}),[f]);const v=()=>{a()};const x=(e,t)=>{const{target:a}=t;const s=e.value;const n=u.find((e=>e.value==Te.ACCOUNT));if(a.value!=Te.ACCOUNT){if(!i()(s).call(s,Te.ACCOUNT)&&n){const e=[...s,Te.ACCOUNT];g(e)}else{g(s)}}else if(a.value===Te.ACCOUNT&&!a.checked){g([])}else{g(s)}};const T=()=>{if(!r){l(true);const e=De.__("Cancellation Request was successfully withdrawn.");y(p).then((()=>{window.setMessage(e,"success");v()})).catch((()=>{window.setMessage(De.__("Oops! Looks like we had some trouble submitting your request. Refresh the page and try again!"),"error")})).finally((()=>{s();l(false)}))}};return S().createElement(S().Fragment,null,(0,b.Z)(C.StandardModal,{isLoading:c,isOpen:t,isProcessing:r,onCloseComplete:()=>g([]),onRequestClose:v},void 0,(0,b.Z)(C.StandardModal.Body,{renderFooter:(0,b.Z)(C.StandardModal.Footer,{actions:[(0,b.Z)(C.Button,{onClick:T,type:"button"},"primary",De.__("Stop Cancellation")),(0,b.Z)(C.TextButton,{onClick:v,type:"button"},"secondary",De.__("Cancel"))]}),renderHeader:(0,b.Z)(C.StandardModal.Header,{hasCloseButton:true,title:De.__("Ive Had a Change of Heart")})},void 0,(0,b.Z)(C.StandardModal.Constraint,{spacingOverrides:{bottom:C.StandardModal.Constraint.Spacing.LARGE,top:C.StandardModal.Constraint.Spacing.LARGE}},void 0,(0,b.Z)("p",{className:o.stopModalContent},void 0,De.__("Stopping this cancellation request will allow your BambooHR service and billing to continue without interruption.")),(0,b.Z)(C.CheckboxGroup,{items:u,label:De.__("Select the products for which you would like to stop cancellation."),onChange:x,value:f,className:o.marginBottom})))))}},27267:(e,t,a)=>{"use strict";a.r(t);a.d(t,{Modal:()=>o,ajaxModalDialog:()=>C,attachModalEvents:()=>S,closeModalDialog:()=>w,doModalDialog:()=>y,modalDialogAlert:()=>r,modalFormSubmit:()=>E,modalSubmit:()=>x,recenterDialog:()=>b,setBackgroundModalIdSelector:()=>f,showInlineModal:()=>l,showModalDialog:()=>m,showModalPopup:()=>v,showStackedModalDialog:()=>g});var s=a(21198);var n=a.n(s);var i=a(34825);var $=a(26570);const o={init:function(){this._ScrollBarWidth=this.getScrollBarWidth();this.addUIElements()},_ids:["navMain","content"],_elements:[],_ScrollBarWidth:0,addUIElements:function(){this._elements=[];if(document.getElementsByTagName("header")[0]){this._elements.push(document.getElementsByTagName("header")[0])}for(let e=0;e<this._ids.length;e++){if(document.getElementById(this._ids[e])){this._elements.push(document.getElementById(this._ids[e]))}}if(document.getElementsByTagName("footer")[0]){this._elements.push(document.getElementsByTagName("footer")[0])}},disableNoScroll:function(){var e;$("html").removeClass("noscroll");if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];if(e!==undefined){e.style.marginLeft="-"+e.offsetWidth/2+"px"}}else{var t=$(".SimpleModal");t.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}e.css("left","calc(50% - "+e[0].offsetWidth/2+"px)")}))}for(var a=0;a<this._elements.length;a++){this._elements[a].style.paddingRight=null}}},enableNoScroll:function(){var e;var t;var a=this;if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];t=e.offsetWidth/2+this._ScrollBarWidth/2;e.style.marginLeft="-"+t+"px"}else{var s=$(".SimpleModal");s.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}t=e[0].offsetWidth/2+a._ScrollBarWidth/2;e.css("left","calc(50% - "+t+"px)")}))}for(var n=0;n<this._elements.length;n++){this._elements[n].style.paddingRight=this._ScrollBarWidth+"px"}}$("html").addClass("noscroll")},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%";e.style.height="200px";var t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;if(a==s){s=t.clientWidth}document.body.removeChild(t);return a-s}};function r(e,t,a,s,n,i){var o={modal:true};if(typeof i!="undefined"){$.extend(o,i)}var r="";if(t.jquery){r=t.html()}else{r='<span class="ui-icon ui-icon-alert"></span><p class="alert">'+t+"</p>"}m(e,r,a,s,n,o);return false}function l(e,t,a,s,n,i){var o={inline_modal_id:t};if(typeof i!="undefined"){$.extend(o,i)}m(e,undefined,a,s,n,o)}var c;var d=false;var u=false;var h=0;var p;Object.defineProperties(window,{modalIdSelector:{get(){return c},set(e){c=e}}});function m(e,t,a,s,n,i){c="#modal-dialog";d=s;var r=n;if(typeof n=="undefined"){r=false}if(typeof i!="undefined"&&typeof i.inline_modal_id!="undefined"){c="#"+i.inline_modal_id}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){c="#"+i.stacked_modal_id}var l={};var u=h++;var p=c;if(!i||!i.omit_cancel_button){l[$.__("Cancel")]=function(){var e=c;c=p;closeMessage();if(typeof r=="function"){if(r()){w()}}else{w()}c=e;return false}}l[a]=function(){if($("form[bhrvalidate-initiated]",c).length>0){if(!$("form[bhrvalidate-initiated]",c).valid()){return false}}var e=c;c=p;if(typeof d=="function"){if(d()){w()}}else{document.location.href=d;w()}c=e};var m={};$.extend(m,i);m.open=function(e,t){$(this).parents(".ui-dialog-buttonpane button:eq(0)").blur();$(this).parents(".ui-dialog-buttonpane button:eq(1)").focus();$(c+" form").submit((function(){return false}));const a=$(".ui-dialog-buttonpane button",$(c).parent());a.addClass("btn btnAction");if(i&&i.biId){a.attr("data-bi-id",`${i.biId}-action-primary`)}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){$(".ui-dialog-buttonpane button",$(c).parent()).addClass("btnSmall")}if(typeof m.cancel_message!="undefined"&&!m.omit_cancel_button){$(".ui-dialog-buttonset button:first",$(c).parent()).remove();$(".ui-dialog-buttonset",$(c).parent()).append('<span class="cancel-option"><a href="#" class="'+m.cancel_class+'">'+m.cancel_message+"</a></span>");$(".ui-dialog-buttonset .cancel-option a",$(c).parent()).click(l[$.__("Cancel")])}if(typeof m.additional_footer_html!="undefined"){$(".ui-dialog-buttonset",$(c).parent()).prepend(m.additional_footer_html)}if(typeof m.open_callback=="function"){m.open_callback(e,t)}if(typeof m.inline_modal_id=="undefined"){S(c)}var s=$(c).find(":text:visible:enabled:first");if(s.length==0){s=$(c).find("textarea")}if(!s.hasClass("chzn_selected")){s.focus()}if(m.disable_buttons==true){$(".ui-dialog-buttonset button",$(c).parent()).not(".cancel").button("disable");$("body").on("keyup click",".ui-dialog input,.ui-dialog textarea",(function(){if($(this).val()!==""){$(".ui-button").button("enable")}}))}};m.close=function(e,t){if(typeof m.close_callback=="function"){m.close_callback()}$("div.ui-dialog",$(c)).addClass("displaynone");if(typeof m.inline_modal_id=="undefined"){$(c).remove()}o.disableNoScroll()};if(m.buttons!==undefined&&m.buttons==="hide"){m.buttons=null}else{m.buttons=l}if(typeof m.cancel_message=="undefined"){m.cancel_message=$.__("Cancel")}y(e,t,m);if(m.disableCloseOnEnter!=true){$(c+":not(.keyup-bound)").off("keyup");$(c+":not(.keyup-bound)").keyup((function(e){$(c).addClass("keyup-bound");if(e.keyCode==13){var t=$.focused();if(t!==null&&$(t).parents(c).length>0&&!$(t).is("textarea")&&!$(t).hasClass("ac_input")&&!$(t).hasClass("chzn_selected")){l[a]()}}}))}$(".ui-dialog-titlebar-close").on("mousedown",(function e(){if(typeof m.close_callback=="function"){m.close_callback()}$(c).dialog("destroy");o.disableNoScroll();$(document).trigger("modalDialog:closed")}));if(!m.omit_validation&&$.isFunction($.fn.bhrValidate)){$('.BhrForms:not(".js-noValidate")',c).bhrValidate({})}return false}function f(e){p=e}function g(e,t,a,s,n,i){var o={stacked_modal_id:"stacked-modal-dialog"};if(typeof i!="undefined"){$.extend(o,i)}if(!p){p="#modal-dialog"}var r=n||function(e,t){$(c).dialog("close")};o.dialogClass+=" stacked-dialog";return m(e,t,a,s,r,o)}function v(e,t,a){c="#modal-dialog";var s={modal:true};var n=$.__("Ok");if(typeof a!="undefined"&&typeof a.okString!="undefined"&&a.okString.length>0){n=a.okString}s.buttons=[{text:n,click:function(){w()},class:"btn btnAction"}];if(typeof a!="undefined"){$.extend(s,a)}y(e,t,s);return false}function y(e,t,a){w();$(window).scrollLeft(0);var n="auto";var i={resizable:false,draggable:false,modal:true,width:n,height:"auto"};i.close=function(e,t){$("div.ui-dialog").addClass("displaynone");if(typeof i.inline_modal_id=="undefined"){$(c).remove()}};i.overlay={backgroundColor:"#000"};i.position={using:function(e,t){var a=(t.target.height-t.element.height)/3+t.target.top;var s="-"+Math.floor(t.element.width/2)+"px";$(this).css({top:a>0?a:0,left:"50%","margin-left":s})}};$.extend(i,a);if(typeof i.stacked_modal_id!="undefined"){var r=i.stacked_modal_id;if(!$("#"+r).length){$("body").append('<div id="'+r+'" title=""></div>')}var l=$(p).position().top+$(p).parent().position().top+5;var d;i.position={using:function(e,t){d="-"+Math.floor(t.element.width/2);$(this).css({top:l,left:e.left,minWidth:$(this).css("width"),borderTop:"none"});$(this).parent().css({top:$(p).parent().position().top})}};i.show={effect:"slideDown",complete:function(){$("#stacked-modal-dialog").parent().css({left:"50%","margin-left":d+"px"})},duration:350};i.hide={effect:"slideUp",duration:350}}else if(typeof i.inline_modal_id=="undefined"){if(!$("#modal-dialog").length){$("body").append('<div id="modal-dialog" title=""></div>')}}else{$("div.ui-dialog").removeClass("displaynone")}if(typeof i.inline_modal_id=="undefined"){$(c).html(t)}i.title=e;if(!i.create&&i.maxWidth){i.create=function(){$(this).css("maxWidth",i.maxWidth)}}$(c).dialog(i);$(".ui-widget-overlay").zIndex((0,s.getMaxZIndex)()+10);$(c).closest(".ui-dialog").zIndex((0,s.getMaxZIndex)()+10);if(a.privacy_link==true){$(".ui-dialog-buttonpane").append('<a href="http://www.bamboohr.com/privacy.php" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+$.__("Privacy Policy")+"</a>")}if(typeof a.button_pane_link!="undefined"){$(".ui-dialog-buttonpane").append('<a href="'+a.button_pane_link.url+'" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+a.button_pane_link.text+"</a>")}o.enableNoScroll();$(document).trigger("modalDialog:opened")}function b(){var e=$(".ui-dialog").width();$(".ui-dialog").css("margin-left",-Math.floor(e/2))}function w(e){var t;$("html").removeClass("noscroll");if(e===undefined){t=c}else{t=e}if($(t+".ui-dialog-content").length==0){return}$(t+".ui-dialog-content").dialog("destroy");$(t+" form").removeAttr("submitting");$(t).hide();o.disableNoScroll();$(document).trigger("modalDialog:closed")}function S(e){$(e).initializeElements();$("textarea[maxlength]").each((function(){$(this).limitCount($(this).attr("maxlength"))}))}function C(e,t,a,s,n,i){if(typeof i=="undefined"){i={}}$.get(t,i.url_data,(function(t){m(e,t,a,s,n,i)}));return false}function x(e,t,a){var s=$(c+" form");if(typeof t!="undefined"&&!t(s[0])){return false}window.BambooHR.Modal.setState({isProcessing:true},true);var n=BambooHR.Utils.Form.ajaxSubmit(s,a);if(n){n.then((function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++){a[s]=arguments[s]}const n=a[0];e.apply(this,a);if(n.result.toLowerCase()==="success"){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}})).fail((function(){window.BambooHR.Modal.setState({isProcessing:false},true)}))}return true}function T(e,t,a){var s="#modal-popup .save-button";if(typeof t!="undefined"){s="form#"+t+" .save-button"}$(s).click((function(){return E($(this).closest("form")[0],e,a)}));$("form#"+t).submit((function(){return E($(this)[0],e,a)}))}function E(e,t,a){var s=e.action;var n=$(e).serializeArray();if(typeof a!="undefined"){if(a(e)){$.post(s,n,t,"json")}}else{$.post(s,n,t,"json")}return false}(function(){if($.ui&&$.ui.dialog){$.ui.dialog.overlay.events=$.map("focus,keydown,keypress".split(","),(function(e){return e+".dialog-overlay"})).join(" ")}})()},68043:(e,t,a)=>{var $=a(26570);window.EmployeeComments={remove:function(e){e.fadeOut("fast",(function(){$.when($(this).remove()).then((function(){if(typeof calculateHeight==="function"){window.calculateHeight()}}))}))},getCommentId:function(e){let t=e.split("-");return t[1]},deleteNewFiles:function(e){e.siblings(".files").find(".newFile").each((function(){let e=window.EmployeeComments.getCommentId($(this).attr("id"));if(window.deleteTempFile(e)){$(this).remove()}}))},buildCommentFileUploader:function(e,t,a,s,n){let i={};i.onFallbackSuccess=function(t,a){if(n=="true"){$("#thread-"+e+" .add-reply .files").append(a)}else{$("#comment-"+e).find(".files").append(a)}};i.removeFile=function(e){if(e.attr("id")!=""){let t=window.EmployeeComments.getCommentId(e.attr("id"));if(window.deleteTempFile(t)){return true}}else{return true}return false};i.setDragOverValues=function(e){e.addClass("dragOver").find(".links-msg").text($.__("Drop to upload")).show()};i.linkHTML=t;i.uploaderId=e;$(s).fileUploader(i)}}},92544:(e,t,a)=>{"use strict";a.d(t,{Tl:()=>u,e8:()=>h});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(88604);var r=a(393);var $=a(26570);function l(e){const{SESSION_COMPANY:{id:t,name:a}}=window;return i().createElement(r.Z,(0,o.Z)({imageIcon:"fab-company-circle-30x30",isModalHeader:false,subTitle:$.__(`Company ID: %1$s`,t),title:a},e))}var c=a(26570);const d=function(){let{isSheet:e=false,...t}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Promise((a=>{if(!window.IS_TICKET_LOGIN){return a()}t={isOpen:true,title:c.__(`Hold on. Not so fast...`),headline:c.__(`Are you sure?`),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",primaryActionText:c.__(`Yes`),content:(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("p",{className:"TicketLoginModal__message"},void 0,[c.__(`Please, double check that you are uploading the right file to the right company.`),c.__(`This action has serious data security implications.`)].join(" ")),(0,s.Z)("div",{className:"TicketLoginModal__badgeWrapper"},void 0,(0,s.Z)(l,{}))),primaryAction(){p(e);setTimeout(a,0)},onClose(){p(e)},...t};if(e){t={sheetProps:t}}window.BambooHR.Modal.setState(t,e)}))};const u=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return d({headline:c.__(`Are you sure you want to import this file for this company?`),primaryActionText:c.__(`Yes, Upload The File`),...e})};const h=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return u({headline:c.__(`Are you sure you want to upload this file for this company?`),...e})};const p=e=>window.BambooHR.Modal.setState({sheetProps:null},e)},31235:(e,t,a)=>{"use strict";a.d(t,{WD:()=>g,Ml:()=>f,N8:()=>S,mX:()=>T});var s=a(89835);var n=a(23321);var i=a(73641);var o=a(59155);var r=a(21198);var l=a(59592);var c=a(38592);var d=a(69679);var u=a(37194);var moment=a(82543);var $=a(26570);const h=new r.BEM("BackupCodes");function p(e){const{codes:t,date:a,shouldChunk:i=true}=e;const[o,r]=(0,n.useState)([]);const[l,c]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(i){const e=t.map(((e,t)=>{const{backupCode:a,...s}=e;let n=a;if(a.length>=2){const e=Math.floor(a.length/2);n=a.split("");n.splice(e,0," ");n=n.join("")}return{backupCode:n,...s}}));r(e)}}),[i,t]);(0,n.useEffect)((()=>{if(a){const e=moment(a).format("MMM D, YYYY");c(e||null)}}),[a]);return(0,s.Z)("div",{className:h.elem("wrapper")},void 0,(0,s.Z)("ul",{className:h.elem("list")},void 0,o.map((e=>{const{backupCode:t,dateUsed:a,id:n}=e;return(0,s.Z)("li",{className:h.elem("code",{used:!!a})},`backupCode-${n}`,t)}))),l&&(0,s.Z)("span",{className:h.elem("date")},void 0,(0,s.Z)(u.Message,{text:$._("Generated on {1}"),params:[l]})))}var m=a(26570);const f=m.__("2-Step Login Backup Codes");const g=m.__("Keep these codes safe, but accessible.");const v=m.__("Uh-oh. Something went wrong, please try this again later.");var y=a(26570);const b=new r.BEM("BackupCodesContent");const w=b.elem("printWrapper");function S(e){const{onEndGeneratingNewCodes:t=i.noop,onStartGeneratingNewCodes:a=i.noop,printRequestCount:r=0,userId:u=window.SESSION_USER.id}=e;const[h,m]=(0,n.useState)(null);const[f,S]=(0,n.useState)(null);const[C,x]=(0,n.useState)(false);const T=()=>{const e=d.HW;x(true);a();e(u).then((e=>{const{data:a}=e;if((0,i.isArray)(a)&&!(0,i.isEmpty)(a)){m(a);S(a[0].dateGenerated)}x(false);t()})).catch((()=>{x(false);t();(0,l.f)(v,"error")}))};(0,n.useEffect)((()=>{T()}),[]);(0,n.useEffect)((()=>{if(r>0){(0,c.printDiv)(`.${w}`)}}),[r]);return(0,s.Z)("div",{className:w},void 0,(0,s.Z)("h4",{className:b.elem("printHeader")},void 0,g),(0,s.Z)("div",{className:b.elem("copy")},void 0,(0,s.Z)("p",{},void 0,y.__("If you lose your phone or otherwise can't get codes via an Authenticator, you can use backup codes to sign in with 2-Step Login.")),(0,s.Z)("br",{}),(0,s.Z)("p",{},void 0,y.__("After you use a backup code to sign in, it becomes inactive.")),(0,s.Z)("p",{},void 0,y.__("You can generate a new set of 10 codes whenever you want. After creating a new set, the old set automatically becomes inactive."))),h&&(0,s.Z)("div",{},void 0,(0,s.Z)(p,{codes:h,date:f}),(0,s.Z)("div",{className:b.elem("buttonWrapper")},void 0,(0,s.Z)(o.Button,{clickAction:()=>T(),iconBefore:"fab-circle-arrow-16x16",isDisabled:C,outline:true,secondary:true,text:y.__("Generate New Codes")}))))}var C=a(41201);var x=a(26570);const T=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.SESSION_USER?.id;const t=d.HW;t(e).then((e=>{const t=e.data.reduce(((e,t)=>{const{backupCode:a,dateUsed:s}=t;let n=a;if(s){n=n.concat(x.__(" (used)"))}return e.concat(n,"\n")}),"");(0,C.Sv)({fileName:"backup-codes.txt",fileData:t})})).catch((()=>{(0,l.f)(v,"error")}))}},10224:(e,t,a)=>{"use strict";a.d(t,{p:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(98675);var r=a(60658);var l=a(31235);var $=a(26570);function c(e){const{userId:t}=e;const[a,i]=(0,n.useState)(false);const[c,d]=(0,n.useState)(0);return(0,s.Z)(o.u,{additionalAction:()=>d((e=>e+1)),additionalActionText:$.__("Print"),additionalActionButtonType:"button",alternativeAction:null,content:(0,s.Z)(l.N8,{onStartGeneratingNewCodes:()=>i(true),onEndGeneratingNewCodes:()=>i(false),printRequestCount:c,userId:t}),headerType:"text",headline:l.WD,icon:"fab-lock-person-18x18",iconColor:"theme",isOpen:true,isProcessing:a,onClose:()=>(0,r.Mr)(),primaryAction:()=>(0,r.Mr)(),primaryActionText:$.__("Done"),secondaryAction:()=>(0,l.mX)(t),secondaryActionText:$.__("Download"),title:l.Ml})}const d=e=>(0,r.K4)(i().createElement(c,e))},9080:(e,t,a)=>{"use strict";a.d(t,{U:()=>g});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a(21198);var l=a(98675);var c=a(59592);var d=a(37194);var u=a(60658);var h=a(69679);var p=a(59929);var $=a(26570);const m=new r.BEM("MfaResetModal");function f(e){const{userId:t,name:a,onReset:i=o.noop,isResettingOwnMfa:r}=e;const[f,g]=(0,n.useState)(false);return(0,s.Z)(l.u,{content:(0,s.Z)("p",{className:m.elem("copy")},void 0,a?(0,s.Z)(d.Message,{text:$.__("The next time {1} logs in, they will be directed to setup an authentication app and be able to scan the barcode.\n\n**Would you like to proceed?**"),params:[a]}):(0,s.Z)(d.Message,{text:$.__("The next time you log in, you will be directed to setup an authentication app and be able to scan the barcode.\n\n**Would you like to proceed?**")})),headline:a?(0,s.Z)(d.Message,{text:$.__("Reset {1}'s 2-Step Login"),params:[a]}):$.__("Reset My 2-Step Login"),icon:"fab-lock-45x54",iconColor:"theme",isOpen:true,isProcessing:f,onClose:()=>(0,u.Mr)(),primaryAction:()=>{g(true);(0,h.lQ)(t).then((()=>{i();g(false);const e=a?$.__("2-Step Login has been reset for %1$s",a):$.__("2-Step Login has been reset.");(0,c.f)(e,"success");if(t===window.SESSION_USER?.id||r){(0,p.P)()}(0,u.Mr)()})).catch((()=>{g(false);(0,c.f)($.__("Uh-oh. Something went wrong, please try again!"),"error")}))},primaryActionText:$.__("Yes, Reset"),title:$.__("Just making sure...")})}const g=e=>(0,u.K4)(i().createElement(f,e))},73565:(e,t,a)=>{"use strict";a.d(t,{WD:()=>n.WD,N8:()=>n.N8,CW:()=>r.f4,M_:()=>m,kR:()=>r.kR,VG:()=>r.VG,Gu:()=>r.Gu,mK:()=>r.mK,lQ:()=>r.lQ,Ub:()=>r.Ub,mX:()=>n.mX,VK:()=>r.VK,K7:()=>c,PK:()=>p.P,AS:()=>d,g9:()=>u,dM:()=>h,Ut:()=>s.U});var s=a(9080);var n=a(31235);var i=a(10224);var o=a(89100);var r=a(69679);const l="remember_token";function c(){if((0,o.canUseLocalStorage)()){return localStorage.getItem(l)}return null}async function d(e,t){if(!t){return false}try{const{status:a}=await(0,r.EZ)(e,t);return a===200}catch{return false}}function u(){if((0,o.canUseLocalStorage)()){localStorage.removeItem(l)}}function h(e){if((0,o.canUseLocalStorage)()){localStorage.setItem(l,e)}}var p=a(59929);let m=function(e){e["ACCESS_LEVEL"]="accessLevel";e["COMPANY"]="company";e["USER_OPT_IN"]="userOptIn";return e}({})},59929:(e,t,a)=>{"use strict";a.d(t,{P:()=>i});var s=a(9080);var n=a(10224);var $=a(26570);$("body").off("click.manage-nav-reset-mfa").on("click.manage-nav-reset-mfa",".js-manage-nav-reset-mfa",(e=>{const{userId:t}=e.target.dataset;(0,s.U)({userId:t,isResettingOwnMfa:true})}));$("body").off("click.manage-nav-backup-codes").on("click.manage-nav-backup-codes",".js-manage-nav-backup-codes",(e=>{const{userId:t}=e.target.dataset;(0,n.p)({userId:t})}));function i(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.add("hidden")))}}function o(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.remove("hidden")))}}},69679:(e,t,a)=>{"use strict";a.d(t,{EZ:()=>p,Gu:()=>o,HW:()=>h,Ub:()=>l,VG:()=>d,VK:()=>m,f4:()=>i,kR:()=>c,lQ:()=>u,mK:()=>r});var s=a(17842);var n=a.n(s);const i="/multi_factor_authentication";function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.SESSION_USER?.id;return n().get(`${i}/${e}`)}function r(e){return n().post(i,e)}function l(e){return n().put(i,e)}function c(){return n()["delete"](i)}function d(){return n().get(`${i}/users`)}function u(e){return n()["delete"](`${i}/${e}`)}function h(e){return n().post(`${i}/${e}/backup_codes`)}function p(e,t){return n().request({headers:{rememberToken:`Bearer ${t}`},method:"post",url:`${i}/${e}/validate_remember_token`})}function m(){return n().get("/multi_factor_authentication/account_configuration")}},90452:(e,t,a)=>{"use strict";a.d(t,{q:()=>x});var s=a(89835);var n=a(88604);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(60042);var c=a.n(l);var d=a(59155);var u=a(21561);var h=a(86862);var p=a(57356);var m=a(73641);var $=a(26570);function f(e){const{hasTrax:t,buttonAction:a,canEdit:n}=e;const i=`+ ${$.__("Add Direct Deposit")}`;const o=typeof a==="function"?a:m.noop;const r=t?$.__("You will receive a paper check until you add direct deposit info."):$.__(`You don't have any Direct Deposit accounts set up.`);return(0,s.Z)("div",{className:"DepositBlankState"},void 0,(0,s.Z)("span",{className:"DepositBlankState__icon"},void 0,t?(0,s.Z)(h.Z,{}):(0,s.Z)(p.Z,{})),(0,s.Z)("h3",{className:"DepositBlankState__title"},void 0,r),n&&(0,s.Z)("div",{className:"DepositBlankState__button"},void 0,(0,s.Z)(d.Button,{onClick:o,type:"button",variant:"outlined"},void 0,i)))}var g=a(37194);var v=a(26570);function y(e){const{amount:t,errorMessage:a="",imageUrl:n,isBankImageUrl:i,name:o,number:r,order:l,type:u,first:h,last:p,single:m}=e;const f="DepositAccount__text--bold";const y=h||m?(0,s.Z)(g.Message,{em:{tag:"span",className:f},params:[t,o,u,r],text:v._(`*{1} of each check* goes to {2} {3} {4}`)}):(0,s.Z)(g.Message,{em:{tag:"span",className:f},params:[t,o,u,r],text:v._(`*{1} of the remaining amount* goes to {2} {3} {4}`)});const b=c()("DepositAccount__data",{"DepositAccount__data--bordered":!m&&!p});return(0,s.Z)("div",{className:"DepositAccount"},void 0,!m&&(0,s.Z)("div",{className:"DepositAccount__order"},void 0,l),(0,s.Z)("div",{className:b},void 0,i?(0,s.Z)("img",{alt:"bank logo",className:"DepositAccount__logo",src:n}):(0,s.Z)("span",{className:"DepositAccount__icon"},void 0,(0,s.Z)(d.Icon,{name:"fab-bank-24x24"})),(0,s.Z)("div",{},void 0,(0,s.Z)("p",{className:"DepositAccount__text"},void 0,y),a&&(0,s.Z)("p",{className:"DepositAccount__errorMessage"},void 0,a))))}const b={NONE:0,VIEW:1,VIEW_REQUEST:2,VIEW_EDIT:3};const w=e=>e.replace("%","").replace(",","").replace("$","");const S=e=>e.calculationType==="Balance"&&Number(w(e.amount))===100;var C=a(26570);class x extends o.Component{static get className(){return"DirectDeposit"}constructor(e){super(e);(0,i.Z)(this,"_handleHideModal",(()=>this.setState({showModal:false})));(0,i.Z)(this,"_handleShowModal",(()=>{if(window.ASSUMED_USER){window.disabledForPermsTest()}else{this.setState({showModal:true})}}));(0,i.Z)(this,"_handleSaveSuccess",(e=>{const{onSaveSuccess:t}=this.props;const{data:{direct_deposits:{BANK:a}}}=e;this.setState({deposits:a||[],showModal:false},(()=>{if(typeof t==="function"){t(a)}}))}));(0,i.Z)(this,"_renderMainContent",((e,t,a)=>{const{useTextButton:i}=this.props;const o=e.length;return e.length?e.map(((e,t)=>r().createElement(y,(0,n.Z)({first:t===0,key:e.order,last:t===o-1,single:o===1},e)))):!i&&(0,s.Z)(f,{buttonAction:this._handleShowModal,canEdit:a,hasTrax:t})}));const{deposits:t}=e;this.state={deposits:t||[],showModal:false}}render(){const{deposits:e,showModal:t}=this.state;const{hasTrax:a,permissionLevel:n,employeeId:i,customSave:o,customRoutingValidationUrl:r,useTextButton:l}=this.props;const h=o?o:null;const p=n===b.VIEW_EDIT;const m=e.length;const f=m?!S(e[m-1]):false;const g=c()("DirectDeposit");const v=c()("DirectDeposit__accounts",{"DirectDeposit__accounts--blank":!l&&!m,"DirectDeposit__accounts--borderBottom":f&&m});return(0,s.Z)("div",{className:g},void 0,(0,s.Z)("div",{className:v},void 0,m>1&&(0,s.Z)("div",{className:"DirectDeposit__vertLine"}),this._renderMainContent(e,a,p)),f&&(0,s.Z)("div",{className:"DirectDeposit__paperCheck"},void 0,(0,s.Z)("span",{className:"DirectDeposit__paperCheckIcon"},void 0,(0,s.Z)(d.Icon,{name:"fab-checkbook-20x16"})),(0,s.Z)("p",{className:"DirectDeposit__paperCheckText"},void 0,C.__(`You'll receive a paper check with any remaining balance`))),m===0&&p&&l&&(0,s.Z)(d.TextButton,{onClick:this._handleShowModal,type:"button"},void 0,"+ ",C.__("Add Direct Deposit Account(s)")),m>0&&p&&!l&&(0,s.Z)("div",{className:"DirectDeposit__updateButton"},void 0,(0,s.Z)(d.Button,{clickAction:this._handleShowModal,type:"button"},void 0,(0,s.Z)("span",{className:"DirectDeposit__updateButtonIcon phoneHide"},void 0,(0,s.Z)(d.Icon,{name:"fab-pencil-12x12"})),(0,s.Z)("span",{className:"DirectDeposit__updateButtonIcon hidden phoneOnly phoneOnly--block"},void 0,(0,s.Z)(d.Icon,{name:"fab-pencil-20x20"})),C.__("Update Direct Deposit"))),m>0&&p&&l&&(0,s.Z)(d.TextButton,{clickAction:this._handleShowModal,type:"button"},void 0,C.__("Update Direct Deposit Account(s)")),(0,s.Z)(u.a,{accounts:e,customRoutingValidationUrl:r||null,customSave:h,employeeId:i,hasTrax:a,onCancelClick:this._handleHideModal,onSaveSuccess:this._handleSaveSuccess,visible:t}))}}},21561:(e,t,a)=>{"use strict";a.d(t,{a:()=>F});var s=a(88604);var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(73641);var c=a(98675);var d=a(59155);var u=a(17842);var h=a.n(u);var p=a(21198);function m(e,t){const a=".";const s=",";e=e.replaceAll("-","");let n=true;e=e.replaceAll(a,(e=>{if(!n){return""}n=false;return e}));const i=Number(e.replaceAll("$","").replaceAll("%","").replaceAll(s,"").replaceAll(a,"."));if(t==="PCT"){e=e.replaceAll(s,"");if(i>100){e="100%"}}if(i===0){e=""}return e}var f=a(44816);var $=a(26570);function g(e){const{accountId:t,accountNum:a,accountType:s,amount:i,bankName:o,flatOrPercent:l,imgUrl:c,isProcessing:u,onDeleteAccount:h,onRoutingNumBlur:m,onValueChange:g,order:b,routingNum:w,routingNumError:S,routingNumPending:C,showDelete:x}=e;const T=(0,p.classNameFromObject)({fieldBox:true,error:S});const E=(0,p.classNameFromObject)("fab-TextInput fab-TextInput--width4",{"fab-TextInput--error":S});return r().createElement(r().Fragment,null,(0,n.Z)("h4",{className:"AccountCard__orderNumberHeader"},void 0,$.__("Account %1:",b)),(0,n.Z)("div",{className:"AccountCard"},void 0,(0,n.Z)("div",{className:"AccountCard__order"},void 0,(0,n.Z)("div",{className:"AccountCard__orderNumber"},void 0,b)),(0,n.Z)("div",{className:"AccountCard__form"},void 0,(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("label",{className:"fab-Label hidden phoneOnly phoneOnly--flex depositLabel",htmlFor:`amountFlat${t}`},void 0,$.__("Deposit")),(0,n.Z)("span",{className:"fab-FormField phoneHide"},void 0,$.__("Deposit")),(0,n.Z)("div",{className:"fab-FormField"},void 0,(0,n.Z)("div",{className:"bhrToggleSmall bhrToggle--btn"},void 0,(0,n.Z)("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-depositAmount${t}`,"data-flag":"currency",defaultChecked:l==="FLAT"?"checked":null,disabled:u,id:`amountFlat${t}`,name:`amountType${t}`,onChange:e=>g(e,t,"flatOrPercent",true),type:"radio",value:"FLAT"}),(0,n.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountFlat${t}`},void 0,"$"),(0,n.Z)("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-depositAmount${t}`,"data-flag":"percent",defaultChecked:l==="PCT"?"checked":null,disabled:u,id:`amountPercent${t}`,name:`amountType${t}`,onChange:e=>g(e,t,"flatOrPercent",true),type:"radio",value:"PCT"}),(0,n.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`amountPercent${t}`},void 0,"%"),(0,n.Z)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"}))),(0,n.Z)("div",{className:"fab-FormField"},void 0,(0,n.Z)("input",{className:`fab-TextInput fab-TextInput--width3 js-depositAmount${t} ${l==="PCT"?"percent-field":"currency-field"}`,"data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",disabled:u,onBlur:e=>g(e,t,"amount",true),onChange:e=>g(e,t,"amount"),type:"text",value:i})),(0,n.Z)("span",{className:"fab-FormField DepositNote"},void 0,b>1?$.__("of the remaining amount into"):$.__("of each check into"),":")),(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"accountNum"},void 0,$.__("Account Number")),(0,n.Z)("input",{className:"fab-TextInput fab-TextInput--width4",disabled:u,id:"accountNum",onChange:e=>g(e,t,"accountNum"),type:"text",value:a})),(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"routingNum"},void 0,$.__("Routing Number")),(0,n.Z)("input",{className:E,disabled:u,id:"routingNum",onBlur:e=>m(e.target.value,t),onChange:e=>g(e,t,"routingNum"),type:"text",value:w})),(0,n.Z)("div",{className:"fab-FormColumn lastColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"accountType"},void 0,$.__("Account Type")),(0,n.Z)(f.ZP,{data:{items:v(s)},id:"accountType",isDisabled:u,onChange:e=>g(e,t,"accountType"),settings:{notClearable:true},width:"5"})),(0,n.Z)("div",{className:"AccountCard__validation"},void 0,y(C,o,c,S)))),x&&(0,n.Z)("div",{className:"AccountCard__delete"},void 0,(0,n.Z)(d.FloatingIconButton,{clickAction:()=>h(t),icon:"fab-trash-can-10x12",isDisabled:u,secondary:true,type:"button"}))))}function v(e){return[{displayText:$.__("Checking"),value:"Checking",selected:e==="Checking"},{displayText:$.__("Savings"),value:"Savings",selected:e==="Savings"}]}function y(e,t,a,s){if(e){return(0,n.Z)("div",{className:"AccountCard__bankPending"},void 0,(0,n.Z)("div",{className:"dotLoader small"},void 0,(0,n.Z)("div",{className:"bounce1"}),(0,n.Z)("div",{className:"bounce2"}),(0,n.Z)("div",{className:"bounce3"})),(0,n.Z)("span",{},void 0,$.__("Validating"),"..."))}if(s){const e="fab-FormNote fab-FormNote--error";return(0,n.Z)("span",{className:e},void 0,$.__(`Sorry, that's not a valid Routing Number`))}if(a){return(0,n.Z)("img",{alt:t?`${t} logo`:"bank logo",className:"AccountCard__bankLogo",src:a})}if(t){return(0,n.Z)("span",{className:"AccountCard__bankText"},void 0,t)}return null}var b=a(26570);const w=b.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");function S(e){let t=true;let a=w;const s=e.length-1;e.forEach(((e,n)=>{if(e.flatOrPercent==="PCT"&&Number(T(e.amount))===100&&n!==s){t=false;a=b.__("Oops... Only your last account can have 100%s of the remaining amount deposited into it.","%")}if(!e.order){t=false}if(!e.amount){t=false}if(!e.accountNum){t=false}if(!e.routingNum){t=false}if(!e.accountType){t=false}if(!e.bankName){t=false}if(!e.flatOrPercent){t=false}if(e.routingNumError){t=false}}));return{valid:t,error:a}}function C(e,t){const a=[];e.forEach((e=>{a.push({order:e.order,accountId:e.accountId,amount:e.amount,accountNum:t?e.unmaskedAccountNumber:e.number,routingNum:e.routingNumber,accountType:e.type==="savings"?"Savings":"Checking",flatOrPercent:e.calculationType==="Percent"||e.calculationType==="Balance"?"PCT":"FLAT",bankName:e.name,imgUrl:e.imageUrl==="/images/bank-logos/default-bank.png"?null:e.imageUrl,routingNumPending:false,routingNumError:false,showDelete:true})}));return a}function x(e){const t=[];e.forEach((e=>{t.push({order:e.order,account_id:e.accountId>0?e.accountId:null,amount:T(e.amount),number:e.accountNum,routing_number:e.routingNum,type:e.accountType,name:e.bankName,image_url:e.imgUrl,flat_or_percent:e.flatOrPercent})}));return t}const T=e=>e.replace("%","").replace(",","").replace("$","");function E(e,t){let a=[];e.forEach((e=>{const s=new Promise(((a,s)=>{if(e.accountId<0){a(e)}else{const n=t?`${t}${e.accountId}`:`/payroll/direct_deposit/unmasked_account_number/${e.accountId}`;h().get(n).then((t=>{e.accountNum=t.data.accountNumber;a(e)})).catch((e=>s(e)))}}));a.push(s)}));return a}const k=e=>e.flatOrPercent==="PCT"&&Number(T(e.amount))===100;function Z(e){return{showDelete:true,accountNum:"",routingNum:"",routingNumPending:false,routingNumError:false,accountType:null,flatOrPercent:"FLAT",amount:"",accountId:e?e:-1,bankName:null,imgUrl:null}}const N=/^[0-9-]*$/;function I(e){return N.test(e)&&e.length<=17}var A=a(26570);class F extends o.Component{static get className(){return"DirectDepositModal"}constructor(e){var t;super(e);t=this;(0,i.Z)(this,"_getFabricModalProps",((e,t,a)=>{const{isProcessing:s}=this.state;return{headerType:"text",headline:A.__("Direct Deposit Accounts"),icon:"fab-bank-20x19",isMobileFriendly:true,isOpen:e,isProcessing:s,onClose:a,primaryAction:t,primaryActionText:A.__("Save"),sheetProps:this._getFabricSheetProps(),title:A.__("Update Direct Deposit"),type:"medium"}}));(0,i.Z)(this,"_getFabricSheetProps",(()=>{const{showJustCheckingModal:e}=this.state;return{content:(0,n.Z)("p",{className:"DDModal__checkingText"},void 0,A.__("Are you sure you want to delete all direct deposit information and start receiving paper checks?")),headerType:"stacked",headline:A.__("You will start receiving paper checks"),icon:"fab-checkbook-70x56",isMobileFriendly:true,isOpen:e,onClose:()=>this.setState({showJustCheckingModal:false}),primaryAction:this._handleDeleteAllAccounts,primaryActionText:A.__("Yes, Delete Direct Deposit"),title:A.__("Just Checking...")}}));(0,i.Z)(this,"_getModalProps",((e,t,a)=>({visible:e,onClose:a,options:{footer:{show:true,buttons:{primary:{action:t,text:A.__("Save")}}},title:A.__("Update Direct Deposit")}})));(0,i.Z)(this,"_handleAddAccount",(()=>{let{accounts:e,newId:t}=this.state;const a=[...e];a.push(Z(t));const s=k(a[a.length-1]);t--;this.setState({accounts:a,newId:t,hidePaperCheckMsg:s})}));(0,i.Z)(this,"_handleAfterDeleteAllAccountsSaveSuccess",(e=>{const{onSaveSuccess:t}=this.props;this.setState({accounts:[Z()],showJustCheckingModal:false},(()=>{this._initialState=(0,l.cloneDeep)(this.state);if(typeof t==="function"){t(e)}}))}));(0,i.Z)(this,"_handleAfterSaveSuccess",(e=>{const{onSaveSuccess:t}=this.props;this.setState({isProcessing:false},(()=>{this._initialState=(0,l.cloneDeep)(this.state);if(typeof t==="function"){t(e)}}))}));(0,i.Z)(this,"_handleDeleteAllAccounts",(()=>{const{employeeId:e}=this.state;const{hasTrax:t,onSaveSuccess:a,customSave:s}=this.props;if(!t){return}if(s&&typeof s==="function"){s(null,this._handleAfterDeleteAllAccountsSaveSuccess);return}h().post(`/payroll/direct_deposit/accounts/save/${e}`,{accounts:[]}).then((e=>{if(e.status===200){this._handleAfterDeleteAllAccountsSaveSuccess(e);window.setMessage(A.__("Direct Deposit info updated."),"success")}})).catch((()=>{window.setMessage(A.__("Failed to save Direct Deposit changes."),"error")}))}));(0,i.Z)(this,"_handleDeleteAccount",(e=>{const{accounts:t}=this.state;const a=[];if(t.length===1){this._handleDeleteLastAccount();return}t.forEach((t=>{if(t.accountId!==e){a.push(t)}}));const s=k(a[a.length-1]);this.setState({accounts:a,hidePaperCheckMsg:s})}));(0,i.Z)(this,"_handleDeleteLastAccount",(()=>{const{hasTrax:e}=this.props;if(!e){return}this.setState({showJustCheckingModal:true})}));(0,i.Z)(this,"_handleModalClose",(()=>{const{onCancelClick:e}=this.props;e();this.setState((0,l.cloneDeep)(this._initialState))}));(0,i.Z)(this,"_handleRoutingNumBlur",((e,t)=>{if(!e||!t){return}const{customRoutingValidationUrl:a}=this.props;const s=a?`${a}${e}`:`/payroll/direct_deposit/routing/validate/${e}`;const{accounts:n}=this.state;const i=[...n];const o=i.findIndex((e=>e.accountId===t));i[o].routingNumPending=true;this.setState({accounts:i});const r=this._modalOpenCount;h().get(s).then((e=>{if(!this._isModalOpen||this._modalOpenCount!==r){return}const{data:{imageUrl:t,name:a}}=e;i[o].imgUrl=t;i[o].bankName=a;i[o].routingNumPending=false;i[o].routingNumError=false})).catch((()=>{if(!this._isModalOpen||this._modalOpenCount!==r){return}i[o].imgUrl=null;i[o].bankName=null;i[o].routingNumPending=false;i[o].routingNumError=true})).finally((()=>{if(!this._isModalOpen||this._modalOpenCount!==r){return}this.setState({accounts:i})}))}));(0,i.Z)(this,"_handleValueChange",(function(e,a,s){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let{accounts:i,hidePaperCheckMsg:o}=t.state;const r=[...i];const l=r.findIndex((e=>e.accountId===a));const c=s==="accountType"?e.value:e.target.value;if(s==="accountNum"&&!I(c)){return}r[l][s]=c;if(s==="amount"&&e.type==="blur"){r[l].amount=m(r[l].amount,r[l].flatOrPercent)}if(s==="flatOrPercent"){const t=A(`.js-depositAmount${a}`);t.focus();window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,`.js-depositAmount${a}`);r[l].amount=m(t.val(),r[l].flatOrPercent)}if(n){const e=r[r.length-1];o=k(e)}t.setState({accounts:r,hidePaperCheckMsg:o})}));(0,i.Z)(this,"_handleSaveClick",(()=>{this.setState({isProcessing:true});const{onSaveSuccess:e,employeeId:t,customSave:a}=this.props;const s=a&&typeof a!=="function"?`${a}${t}`:`/payroll/direct_deposit/accounts/save/${t}`;const{accounts:n}=this.state;const i=S(n);if(!i.valid){this.setState({isProcessing:false});window.setMessage(i.error,"error");return}const o=x(n);if(typeof a==="function"){a(o,this._handleAfterSaveSuccess);return}h().post(s,{accounts:o}).then((e=>{const t=C(e.data.direct_deposits.BANK,true);this.setState({accounts:t},(()=>{this._handleAfterSaveSuccess(e)}))})).catch((()=>{window.setMessage(w,"error");this.setState({isProcessing:false})}))}));(0,i.Z)(this,"_renderAccountCards",(e=>{let t=[];const{accounts:a,isProcessing:n}=this.state;const i=[...a];i[0].showDelete=e;i.forEach(((e,a)=>{e.order=a+1;t.push(r().createElement(g,(0,s.Z)({key:e.accountId,onAmountBlur:this._handleAmountBlur,onDeleteAccount:this._handleDeleteAccount,onRoutingNumBlur:this._handleRoutingNumBlur,onValueChange:this._handleValueChange,isProcessing:n},e)))}));return t}));(0,i.Z)(this,"_isModalOpen",false);(0,i.Z)(this,"_maxAccounts",4);(0,i.Z)(this,"_modalOpenCount",0);const{accounts:a,employeeId:o}=e;let c=[Z()];if(a&&a.length){c=C(a,false)}this.state={employeeId:o,accounts:c,newId:-2,hidePaperCheckMsg:k(c[c.length-1]),showJustCheckingModal:false};this._initialState=(0,l.cloneDeep)(this.state)}componentDidMount(){const{accounts:e}=this.props;if(Array.isArray(e)&&e.length){const{accounts:e}=this.state;const t=(0,l.cloneDeep)(e);const a=E(t);Promise.all(a).then((e=>{this.setState({accounts:e});this._initialState.accounts=(0,l.cloneDeep)(e)}))}}componentDidUpdate(e){const{visible:t}=this.props;if(t&&(!e||!e.visible)){this._modalOpenCount++}}render(){const{accounts:e,hidePaperCheckMsg:t,isProcessing:a}=this.state;const{visible:s,hasTrax:i,optionalPreHeader:o}=this.props;this._isModalOpen=s;const l=(0,p.classNameFromObject)({DDModal__paperCheck:true,"DDModal__paperCheck--hidden":t});return r().createElement(c.u,this._getFabricModalProps(s,this._handleSaveClick,this._handleModalClose),o&&o,(0,n.Z)("div",{className:"DDModal"},void 0,(0,n.Z)("div",{className:"DDModal__cardContainer BhrForms"},void 0,this._renderAccountCards(i)),(0,n.Z)("div",{className:"DDModal__buttonLinks"},void 0,e.length===this._maxAccounts&&!i?(0,n.Z)("span",{className:"DDModal__cardMaxText"},void 0,A.__("You can only have four direct deposit accounts"),"."):(0,n.Z)(d.TextButton,{clickAction:this._handleAddAccount,isDisabled:a,text:`+ ${A.__("Add Account")}`,type:"button"}),i&&(0,n.Z)(d.TextButton,{clickAction:this._handleDeleteLastAccount,isDisabled:a,muted:true,text:A.__(`I'd prefer a paper check`),type:"button"})),(0,n.Z)("div",{className:l},void 0,(0,n.Z)("span",{className:"DDModal__paperCheckIcon"},void 0,(0,n.Z)(d.Icon,{name:"fab-checkbook-20x16"})),(0,n.Z)("div",{className:"DDModal__paperCheckText"},void 0,A.__(`You'll receive a paper check with any remaining balance`),"."))))}}},65832:(e,t,a)=>{"use strict";a.d(t,{c:()=>M});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(98675);var l=a(59155);var c=a(44816);var d=a(17842);var u=a.n(d);var h=a(71141);var p=a(73641);var m=a(65764);var f=a(66523);var $=a(26570);const g={city:{error:false,value:""},email:{value:""},id:null,isProcessing:false,name:{error:false,value:""},phone:{error:false,value:""},state:{error:false,value:""},street1:{error:false,value:""},street2:{value:""},zip:{error:false,value:""}};const v={city:{placeholder:$.__("City"),size:"long fab-TextInput--width5"},email:{icon:(0,s.Z)(m.Z,{}),placeholder:$.__("Email"),size:"xlong fab-TextInput--width8"},phone:{icon:(0,s.Z)(f.Z,{}),placeholder:$.__("Phone"),size:"xlong fab-TextInput--width6"},street1:{placeholder:$.__("Street 1"),size:"xxlong fab-TextInput--width8"},street2:{placeholder:$.__("Street 2"),size:"xxlong fab-TextInput--width8"},zip:{placeholder:$.__("ZIP"),size:"xshort fab-TextInput--width3"}};const y=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");const b=$.__(`Uh oh...something went wrong, and the payee wasn't saved. Try it again?`);var w=a(21198);var S=a(59592);var C=a(26570);function x(e){const{name:t,street1:a,city:s,state:n,zip:i,phone:o}=e;let r=true;if(!t.value){t.error=true;r=false}if(!a.value){a.error=true;r=false}if(!s.value){s.error=true;r=false}if(!n.value){n.error=true;r=false}if(!i.value){i.error=true;r=false}if(!o.value){o.error=true;r=false}if(!r){return{success:r,errorData:{isProcessing:false,name:t,street1:a,city:s,state:n,zip:i,phone:o}}}return{success:r}}function T(e,t){return(0,w.classNameFromObject)({fieldBox:true,required:e,error:t})}function E(e,t){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.name&&e.street1&&e.hasOwnProperty("street2")&&e.city&&e.state&&e.zip&&e.phone&&e.hasOwnProperty("email")){return{success:true,data:{employeeId:t,id:e.id,payeeName:e.name.value,addressLine1:e.street1.value,addressLine2:e.street2.value,city:e.city.value,stateId:e.state.value,zipcode:e.zip.value,phone:e.phone.value,email:e.email.value}}}return{success:false}}function k(e){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.hasOwnProperty("payeeName")&&e.hasOwnProperty("addressLine1")&&e.hasOwnProperty("addressLine2")&&e.hasOwnProperty("city")&&e.hasOwnProperty("stateId")&&e.hasOwnProperty("zipcode")&&e.hasOwnProperty("phone")&&e.hasOwnProperty("email")){return{success:true,data:{id:e.id,name:{value:e.payeeName?e.payeeName:""},street1:{value:e.addressLine1?e.addressLine1:""},street2:{value:e.addressLine2?e.addressLine2:""},city:{value:e.city?e.city:""},state:{value:e.stateId?e.stateId:""},zip:{value:e.zipcode?e.zipcode:""},phone:{value:e.phone?e.phone:""},email:{value:e.email?e.email:""}}}}return{success:false}}const Z=(e,t)=>{let{errorOrigin:a,errorType:s,globalPayeeType:n}=e;let i;if(n){if(n==="CS"){i="Child Support"}else{i="Tax Levy"}}if(a===2&&s===1){(0,S.f)(C.__('Bummer! Looks like "%s" is already used. Please try a unique name',t.payeeName),"error")}if(a===2&&s===2){(0,S.f)(C.__("Looks like this address is already being used. Please update, or use existing payee with this address."),"error")}if(a===2&&s===3){(0,S.f)(C.__("Bummer! Looks like this Payee Name, and Address is already used. Please update below."),"error")}if(a===1&&s===1){(0,S.f)(C.__("Bummer! Looks like this payee name is associated with an existing %s payee. Please update.",i),"error")}if(a===1&&s===2){(0,S.f)(C.__("Bummer! Looks like this address is associated with an existing %s payee. Please update.",i),"error")}if(a===1&&s===3){(0,S.f)(C.__("Bummer! Looks like this payee name, and address is associated with an existing %s payee. Please update.",i),"error")}};const N=(e,t,a,n,i,r,c,d)=>{const u=()=>{const s=a.find((e=>e.id===t.toString())).stateId;c(true);r([s]);i([t.toString()]);e()};return o().createElement(o().Fragment,null,(0,s.Z)(l.Flex,{flexDirection:"row"},void 0,(0,s.Z)("span",{className:`subscript__text ${n}`},void 0,C.__("This %s already exists. ",n)),d!=="edit"&&(0,s.Z)(l.TextButton,{className:`subscript__button ${n}`,onClick:u,type:"button"},void 0,C.__("Use existing payee"))))};const I=(e,t,a,s,n,i,r,l,c,d,u,h)=>{let{errorOrigin:p,errorType:m,globalPayeeType:f,customPayeeId:g}=h;if(p===2){if(m===1||m===3){e(true);t(true);n(N(r,g,l,"name",i,c,d,u))}if(m===2){a(true);s(true);n(N(r,g,l,"address",i,c,d,u))}}if(p===1){let i;if(f==="CS"){i="Child Support"}else{i="Tax Levy"}n(o().createElement(o().Fragment,null,C.__("Please update, or set this deduction up as a %s deduction.",i)));if(m===1||m===3){e(true);t(true)}if(m===2){a(true);s(true)}}};var A=a(26570);const F=(0,h.isEnabled)("globalPayees");class M extends i.Component{static get className(){return"PayeeModal"}constructor(e){super(e);(0,n.Z)(this,"_resetState",(()=>this.setState(this._originalState)));(0,n.Z)(this,"_closeModal",(()=>{const{onClose:e}=this.props;this._resetState();e()}));(0,n.Z)(this,"_getStateSelectData",(()=>{let e;let t;if(F&&this.props.type!=="edit"&&!this.props.isFromSettingsPage){e=this.props.allStates;if(this.props.selectedState&&this.props.selectedState.length>0){t=this.props.selectedState[0]}}else{e=this.state.allStates;t=this.state.state.value}const a=e?.map((e=>({displayText:e.name,value:e.id,selected:e.id===t})));return{data:{items:a},settings:{placeholder:"State"},className:"xshort",onChange:this._handleStateSelectChange}}));(0,n.Z)(this,"setShowNameSubscript",(e=>{this.setState({showNameSubscript:e})}));(0,n.Z)(this,"setShowAddressSubscript",(e=>{this.setState({showAddressSubscript:e})}));(0,n.Z)(this,"setSubscriptContent",(e=>{this.setState({subscriptContent:e})}));(0,n.Z)(this,"setNameError",(e=>{const t=(0,p.cloneDeep)(this.state.name);t.error=e;this.setState({name:t})}));(0,n.Z)(this,"setAddressError",(e=>{const t=(0,p.cloneDeep)(this.state.street1);t.error=e;this.setState({street1:t})}));(0,n.Z)(this,"_getAllStateData",(()=>{u().get("/ajax/get_states?country=1").then((e=>{if(e.status===200&&e.data&&e.data.data){this.setState({allStates:e.data.data})}}))}));(0,n.Z)(this,"_savePayee",((e,t)=>{const{onSaveSuccess:a,onClose:s,type:n}=this.props;u().request({method:t,url:"/payroll/non_benefit_deductions/payee",data:e}).then((t=>{if(t.status===200||t.status===201){if(F&&t.data.errorOrigin){Z(t.data,e);I(this.setShowNameSubscript,this.setNameError,this.setShowAddressSubscript,this.setAddressError,this.setSubscriptContent,this.props.setSelectedPayee,this._closeModal,this.props.customPayees,this.props.setSelectedState,this.props.setIsPayeeFromValidator,n,t.data);this.setState({isProcessing:false})}else{if(typeof a==="function"){a(t.data)}if(n==="edit"){this._originalState=this.state}this._resetState();s()}}else{window.setMessage(b,"error");this.setState({isProcessing:false})}})).catch((()=>{window.setMessage(b,"error");this.setState({isProcessing:false})}))}));(0,n.Z)(this,"_handleStateSelectChange",(e=>{if(F&&this.props.type!=="edit"&&!this.props.isFromSettingsPage){const{setSelectedState:t}=this.props;const a=e?[e.value]:[];t(a)}this.setState({state:{value:e?e.value:"",error:false}})}));(0,n.Z)(this,"_handleInputChange",((e,t)=>{const a={};a[t]={value:e?e.target.value:"",error:false};this.setState(a)}));(0,n.Z)(this,"_handleSaveClick",(()=>{if(F){this.setShowAddressSubscript(false);this.setAddressError(false);this.setShowNameSubscript(false);this.setNameError(false);this.setSubscriptContent(null)}const e=x(this.state);const{type:t}=this.props;if(e.success){const{employeeId:e}=this.props;const a=E(this.state,e);if(a.success){const e=t==="edit"?"put":"post";this._savePayee(a.data,e)}else{window.setMessage(y,"error");this.setState({isProcessing:false})}}else{window.setMessage(y,"error");this.setState(e.errorData)}}));(0,n.Z)(this,"_renderInputFieldBox",((e,t)=>{const a=v[e];const n=this.state[e];return(0,s.Z)("div",{className:T(t,n.error)},void 0,(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{className:`fab-TextInput ${a.icon?"fab-TextInput--withNub":""} ${a.size} ${n.error?"fab-TextInput--error":""}`,onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,type:"text",value:n.value}),a.icon&&(0,s.Z)("span",{className:"fab-TextInputNub"},void 0,(0,s.Z)("span",{className:"fab-TextInputNub__icon"},void 0,a.icon))))}));(0,n.Z)(this,"_renderValidationInputFieldBox",((e,t)=>{const a=v[e];const n=this.state[e];return(0,s.Z)(l.TextField,{onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,value:n.value})}));const{type:t,payeeData:a}=this.props;let i=(0,p.cloneDeep)(g);if(t==="edit"&&a){const e=k(a);if(e.success){i=(0,p.merge)(i,e.data)}}if(F){const e={showNameSubscript:false,showAddressSubscript:false,subscriptContent:null};i=(0,p.merge)(i,e)}this._originalState=(0,p.cloneDeep)(i);this.state=i}componentDidMount(){if(!F||F&&this.props.type==="edit"&&this.props.isFromSettingsPage){this._getAllStateData()}}componentDidUpdate(e,t,a){if(F){if(e.selectedState!==this.props.selectedState&&this.props.selectedState.length>0){const e={value:this.props.selectedState[0],error:false};this._originalState.state=e;this.setState({state:e})}}}render(){const{name:e,state:t,isProcessing:a}=this.state;const{isFromSettingsPage:n,visible:i,onClose:l,type:d}=this.props;let u;let h;let p;let m;if(F){if(d!=="edit"&&!n){u=this.props.allStates}else{u=this.state.allStates}h=this.state.showNameSubscript;p=this.state.showAddressSubscript;m=this.state.subscriptContent}else{u=this.state.allStates}return(0,s.Z)(r.u,{isOpen:i,isProcessing:a,onClose:()=>{this._resetState();l()},primaryAction:()=>{this.setState({isProcessing:true},this._handleSaveClick)},primaryActionText:A.__("Save"),title:d==="edit"?A.__("Edit Payee"):A.__("Add Payee")},void 0,(0,s.Z)("form",{className:"BhrForms Payee__form BhrForms--modal-override fab-Form"},void 0,(0,s.Z)("fieldset",{},void 0,(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,(0,s.Z)("div",{className:T(true,e.error)},void 0,(0,s.Z)("label",{className:`fab-Label fab-Label--required ${e.error?"fab-Label--error":""}`,htmlFor:"name"},void 0,"Payee Name"),(0,s.Z)("input",{className:`xlong fab-TextInput fab-TextInput--width8 ${e.error?"fab-TextInput--error":""}`,id:"name",onChange:e=>this._handleInputChange(e,"name"),type:"text",value:e.value}))),h&&(0,s.Z)("div",{className:"subscript"},void 0,m),(0,s.Z)("div",{className:"fieldGroup required",id:"address"},void 0,F?(0,s.Z)("label",{className:`fab-Label fab-Label--required ${this.state.street1.error?"fab-Label--error":""}`,htmlFor:"address"},void 0,"Address"):(0,s.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:"address"},void 0,"Address"),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street1",false)),p&&(0,s.Z)("div",{className:"subscript"},void 0,m),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street2",false)),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("city",false),(0,s.Z)("div",{className:T(false,t.error)},void 0,u&&o().createElement(c.ZP,this._getStateSelectData())),this._renderInputFieldBox("zip",false))),(0,s.Z)("div",{className:"fieldGroup",id:"contactInfoPhone"},void 0,(0,s.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:"contactInfoPhone"},void 0,A.__("Phone")),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("phone",true))),(0,s.Z)("div",{className:"fieldGroup",id:"contactInfoEmail"},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"contactInfoEmail"},void 0,A.__("Email")),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("email",false))))))}}},5014:(e,t,a)=>{"use strict";a.d(t,{P:()=>c});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(17611);var r=a(60042);var l=a.n(r);var $=a(26570);function c(e){const{type:t,data:a,viewOnly:r,is2020:c}=e;let d=0;const u=(0,n.useRef)();const h=(0,n.useRef)();const p=(0,n.useRef)();const[m,f]=(0,n.useState)(a.type);(0,n.useLayoutEffect)((()=>{if(a.type&&!m){f(a.type)}}),[a.type,m]);(0,n.useLayoutEffect)((()=>{if(h.current.checked){u.current.classList.add("currency-field")}else if(p.current.checked){u.current.classList.add("percent-field")}}),[]);if(Number(a.amount)&&a.type){d=(0,o.Xh)(a.amount,a.type)}const g=l()("bhrToggleSmall bhrToggle--btn fab-FormField AdditionalWithholding__toggleButton",{"bhrToggle--btn--disabled":r});const v=l()("fab-Label AdditionalWithholding__label",{"fab-Label--disabled":r});const y=l()("fab-FormField AdditionalWithholding__perPeriod",{"fab-Label--disabled":r});const b=`.js-${t}AdditionalWithholding`;return(0,s.Z)("div",{className:"AdditionalWithholding fab-FormColumn"},void 0,(0,s.Z)("label",{className:v,htmlFor:`${t}Additional`},void 0,c?$.__("Extra Withholding"):$.__("Additional Withholding")),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("span",{className:g},void 0,i().createElement("input",{className:"bhrToggle--btn-1","data-currency-toggle":"$","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"currency",defaultChecked:m==="currency"?"checked":null,disabled:r,id:`${t}Currency`,name:`${t}[withholdExtraType]`,onChange:e=>window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,b),ref:h,type:"radio",value:"$"}),(0,s.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`${t}Currency`},void 0,"$"),i().createElement("input",{className:"bhrToggle--btn-2","data-currency-toggle":"%","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"percent",defaultChecked:m==="percent"?"checked":null,disabled:r,id:`${t}Percentage`,name:`${t}[withholdExtraType]`,onChange:e=>window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,b),ref:p,type:"radio",value:"%"}),(0,s.Z)("label",{className:"bhrToggle__label bhrToggle--btn__label",htmlFor:`${t}Percentage`},void 0,"%"),(0,s.Z)("span",{className:"bhrToggle__handle bhrToggle--btn__handle brandedToggle"})),(0,s.Z)("span",{className:"fab-FormField"},void 0,i().createElement("input",{className:`AdditionalWithholding__amount fab-TextInput fab-TextInput--width4 js-${t}AdditionalWithholding`,"data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:d||"",disabled:r,id:`${t}Additional`,name:`${t}[withholdExtraValue]`,onBlur:w,ref:u,type:"text"})),(0,s.Z)("span",{className:y},void 0,$.__("per pay period"))));function w(){if(!h.current||!p.current){return}if(h.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(h.current,b)}else if(p.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(p.current,b)}}}},93156:(e,t,a)=>{"use strict";a.d(t,{M:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(60042);var r=a.n(o);var l=a(59155);var c=a(5014);var d=a(69379);var $=a(26570);function u(e){const{filingStatus:t,twoJobs:a=false,dependentsAmount:o="",otherIncome:u="",deductions:m="",viewOnly:f=false,additionalWithholding:g={amount:0,type:"currency"},ignoreStatusExemptions:v=false,futaExempt:y=false,ficaExempt:b=false,showExemptions:w=true,showWithholding:S}=e;const{amount:C,type:x}=g;const[T,E]=(0,n.useState)(t);const[k,Z]=(0,n.useState)(v);const N=r()("fab-Label fab-Label--required",{"fab-Label--disabled":k||f});const I=r()("fab-Label",{"fab-Label--disabled":f});const A=r()("FedWithholding2020","fab-FormSection",{"fab-FormSection--hidden":S===false});return(0,s.Z)("fieldset",{className:A},void 0,(0,s.Z)("legend",{className:"fab-FormSection__legend"},void 0,$.__("Federal Tax Withholding"),i().createElement(d.J,p())),(0,s.Z)("label",{className:N,htmlFor:"filingStatus"},void 0,$.__("Filing Status")),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-FormColumn"},void 0,i().createElement(l.Select,h(T,E,k,f))),w&&(0,s.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:k?"checked":null,disabled:f?"disabled":null,id:"ignoreStatus",name:"fed[taxExempt]",onChange:e=>Z(e.target.checked),type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ignoreStatus"},void 0,$.__("Ignore filing status/other adjustments")))),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:a,disabled:f?"disabled":null,id:"twoJobs",name:"fed[twoJobs]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"twoJobs"},void 0,$.__("Works two jobs or spouse works?")))),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-FormColumn"},void 0,(0,s.Z)("label",{className:I,htmlFor:"dependentsAmt"},void 0,$.__("Dependents Amount")),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:o,disabled:f?"disabled":null,id:"dependentsAmt",name:"fed[dependentsAmt]",type:"text"})),(0,s.Z)("div",{className:"fab-FormColumn"},void 0,(0,s.Z)("label",{className:I,htmlFor:"otherIncome"},void 0,$.__("Other Income")),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:u,disabled:f?"disabled":null,id:"otherIncome",name:"fed[otherIncome]",type:"text"})),(0,s.Z)("div",{className:"fab-FormColumn"},void 0,(0,s.Z)("label",{className:I,htmlFor:"deductionsAmt"},void 0,$.__("Deductions Amount")),(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width4 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:m,disabled:f?"disabled":null,id:"deductionsAmt",name:"fed[deductionsAmt]",type:"text"}))),(0,s.Z)(c.P,{data:{amount:C,type:x},is2020:true,type:"fed",viewOnly:f}),w&&(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("legend",{className:"fab-CheckboxGroup__legend"},void 0,$.__("Exemption Options")),(0,s.Z)("div",{className:"fab-FormRow"},void 0,(0,s.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:y,disabled:f?"disabled":null,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,$.__("FUTA exempt"))),(0,s.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:b,disabled:f?"disabled":null,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,$.__("FICA exempt"))))))}function h(e,t,a,s){return{isDisabled:a||s,items:[{text:$.__("Single, or Married Filing Separately"),value:"Single"},{text:$.__("Married Filing Jointly"),value:"Married"},{text:$.__("Head of Household"),value:"marriedSingleRate"}],name:"fed[status2020]",onClear:()=>t(""),onSelect:e=>t(e||""),selectedValues:[e],width:"8"}}function p(){const e=$.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=$.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:$.__("Federal Tax Withholding"),content:a,addTop:false}}},69379:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(89835);var n=a(23321);var i=a(41878);function o(e){const{title:t,content:a,addTop:n}=e;const o={onShow:r,position:"bottom",template:{name:"popover-standard",data:{rawContent:true,content:a,title:t,popoverClass:"js-taxHelpPopover"}}};return(0,s.Z)(i.J,{wrapperClassName:n?"HelpPopover HelpPopover--addTop":"HelpPopover",settings:o},void 0,"?")}function r(){const e=document.querySelectorAll(".js-taxHelpPopover a");if(e){const t=Array.from(e);t.forEach((e=>{const t=e.getAttribute("rel");if(t.indexOf("noopener")!==-1&&t.indexOf("noreferrer")!==-1){e.setAttribute("target","_blank")}}))}}},35637:(e,t,a)=>{"use strict";a.d(t,{z:()=>m});var s=a(88604);var n=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(73641);var c=a(17842);var d=a.n(c);var u=a(44816);var h=a(71212);var $=a(26570);const p=$.__("Uh Oh, We werent able to retrieve the occupation codes. Try refreshing the page.");class m extends o.Component{static get className(){return"LinkedSelects"}constructor(e){super(e);(0,i.Z)(this,"_getUpdatedChildOptions",(e=>{const{data:{getChildOptionsUrl:t}}=this.props;if(!e){this.setState({childSelection:null,childOptions:[]});return}if(!t){this._triggerGenericError();return}this.setState({disableChildSelect:true,childSelection:null});d().get(`${t}/${e}`).then((e=>{const{status:t,data:a}=e;if(t===200&&a&&a.options){this.setState({disableChildSelect:false,childOptions:a.options})}else{this._triggerGenericError()}})).catch((()=>this._triggerGenericError()))}));(0,i.Z)(this,"_getSelectData",((e,t)=>{const{parentSelection:a,childSelection:s,childOptions:n,disableChildSelect:i}=this.state;const{viewOnly:o,isUnemploymentField:r}=this.props;const{id:l,options:c,placeholder:d}=e;const u=t?a:s;const h=t?c:n;const p=r?"uiState":"state";const m=h.map((e=>({displayText:e.displayText,id:e.id,value:e.val,selected:e.val===u})));return{data:{items:m},settings:{name:`${p}[optional][${l}]`,disabled:o||!t&&(!m.length||i),placeholder:d||`-- ${$.__("Select")} --`},width:9,disabled:o||!t&&(!m.length||i),onChange:e=>this._handleSelectChange(e,t),className:"LinkedSelects__select xlong"}}));(0,i.Z)(this,"_handleSelectChange",((e,t)=>{const a=t?"parentSelection":"childSelection";this.setState({[a]:e?e.value:""},t?()=>this._getUpdatedChildOptions(e?e.id:null):l.noop)}));(0,i.Z)(this,"_triggerGenericError",(()=>window.setMessage(p,"error")));const{data:{parentSelect:t,childSelect:a}}=e;const s=t.options.find((e=>e.selected===true));const n=a.options.length?a.options.find((e=>e.selected===true)):null;this.state={parentSelection:s?s.val:null,childSelection:n?n.val:null,childOptions:a.options,disableChildSelect:false}}render(){const{data:{parentSelect:e,childSelect:t,label:a,help:i},required:l}=this.props;return(0,n.Z)(o.Fragment,{},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("div",{className:"LinkedSelects__labelHelpContainer"},void 0,(0,n.Z)("label",{className:`fab-Label ${l===false?"":"fab-Label--required"}`,htmlFor:`select${e.id}`},void 0,(0,n.Z)("span",{},void 0,a)),(0,n.Z)(h.e,{helpData:i})),(0,n.Z)("div",{className:"fieldDiv"},void 0,r().createElement(u.ZP,(0,s.Z)({id:`select${e.id}`},this._getSelectData(e,true))))),(0,n.Z)("div",{className:"fieldRow fab-FormSection"},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("div",{className:"fieldDiv"},void 0,r().createElement(u.ZP,(0,s.Z)({id:`select${t.id}`},this._getSelectData(t,false)))))))}}},71212:(e,t,a)=>{"use strict";a.d(t,{e:()=>o});var s=a(89835);var n=a(23321);var i=a(69379);function o(e){const{helpData:t}=e;if(!(t&&t.text)){return null}return(0,s.Z)(i.J,{content:t.text})}},16363:(e,t,a)=>{"use strict";a.d(t,{h:()=>Y});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(60042);var l=a.n(r);var c=a(44119);var d=a(44816);var u=a(17611);var h=a(5014);var p=a(69379);var m=a(59155);var $=a(26570);function f(e){const{handleToggleClick:t}=e;return(0,n.Z)("div",{className:"FedMessage2020"},void 0,(0,n.Z)("span",{className:"FedMessage2020__icon"},void 0,(0,n.Z)(m.Icon,{name:"fab-info-circle-15x15"})),(0,n.Z)("p",{className:"FedMessage2020__text"},void 0,(0,n.Z)("span",{},void 0,$.__("The IRS W4 withholding form has changed"),". "),(0,n.Z)(m.TextButton,{clickAction:t,inline:true,text:$.__("Make changes using the new form fields."),type:"button"})))}var g=a(26570);class v extends i.Component{static get className(){return"FedWithholding"}constructor(e){super(e);(0,c.Z)(this,"_getHelpPopoverProps",(()=>{const e=g.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=g.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:g.__("Federal Tax Withholding"),content:a,addTop:this.props.newHirePacket}}));(0,c.Z)(this,"_getSelectData",(()=>{const e=this.props.fields.filingStatus.map((e=>{const t={};t.displayText=e.displayText;t.selected=this.state.ignoreStatus?false:e.val===this.state.filingStatus;t.value=e.val;return t}));return{data:{items:e},onChange:this._handleFilingStatusChange,settings:{name:"fed[status]",notClearable:true,placeholder:this.state.ignoreStatus?"NA":`-${g.__("Select")}-`},disabled:this.state.ignoreStatus||this.props.viewOnly,width:5,className:"xlong FedWithholding__status"}}));(0,c.Z)(this,"_handleExemptionsChange",((e,t)=>{if((0,u.rl)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}}));(0,c.Z)(this,"_handleFilingStatusChange",(e=>this.setState({filingStatus:e.value?e.value:null})));(0,c.Z)(this,"_handleIgnoreStatusChange",(e=>this.setState({ignoreStatus:e.target.checked})));(0,c.Z)(this,"_renderFilingStatus",(()=>{const{ignoreStatus:e}=this.state;const{viewOnly:t}=this.props;const a=t||e;const i=a?"fab-Label fab-Label--disabled":"fab-Label";return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:i,htmlFor:"fedStatus"},void 0,g.__("Filing Status")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(d.ZP,(0,s.Z)({id:"fedStatus"},this._getSelectData()))))}));(0,c.Z)(this,"_renderExemptionsInput",(e=>{const{ignoreStatus:t,exemptions:a}=this.state;const{viewOnly:s}=this.props;const i=s||t;const o=i?"fab-Label fab-Label--disabled":"fab-Label";const r="fab-TextInput fab-TextInput--width2";return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:o,htmlFor:"fedExemptions"},void 0,g.__("Exemptions")),(0,n.Z)("div",{className:"fieldDiv"},void 0,(0,n.Z)("input",{className:r,disabled:i,id:"fedExemptions",name:"fed[dependents]",onChange:t=>this._handleExemptionsChange(t,e.range),type:"text",value:t?"NA":a})))}));(0,c.Z)(this,"_renderExemptionCheckboxes",(e=>{const{ignoreStatus:t}=this.state;const{viewOnly:a}=this.props;const{ficaExempt:s,futaExempt:i}=e;const o=l()("fab-Label FedWithholding__checkboxGroupLabel",{"fab-Label--disabled":a});return(0,n.Z)("div",{className:"FedWithholding__checkboxGroup"},void 0,(0,n.Z)("label",{className:o,htmlFor:"checkboxGroup"},void 0,g.__("Exemption Options")),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,(0,n.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:t?"checked":null,disabled:a,id:"fedIgnore",name:"fed[taxExempt]",onChange:this._handleIgnoreStatusChange,type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"fedIgnore"},void 0,g.__("Ignore filing status/other adjustments"))),(0,n.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:s.checked?"checked":null,disabled:a,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,g.__("FICA exempt"))),(0,n.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:i.checked?"checked":null,disabled:a,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,g.__("FUTA exempt")))))}));const{fields:t}=e;const a=t.filingStatus?t.filingStatus.find((e=>e.selected)):null;const i=t.exemptions?t.exemptions.amount:null;const r=i?i:0;const h=t.ignoreStatusExemptions?t.ignoreStatusExemptions.checked:null;this.state={filingStatus:a?a.val:null,ignoreStatus:h,exemptions:r}}render(){const{fields:e,viewOnly:t,isAdminUser:a,isPayrollAdminUser:s,handle2020ToggleClick:i,show2020Message:r}=this.props;const l="fab-FormSection";const c="fab-FormSection__legend";return(0,n.Z)("fieldset",{className:l},void 0,(0,n.Z)("legend",{className:c},void 0,g.__("Federal Tax Withholding"),o().createElement(p.J,this._getHelpPopoverProps())),r&&(0,n.Z)(f,{handleToggleClick:i}),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,e.filingStatus!==null&&this._renderFilingStatus()),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,e.exemptions!==null&&this._renderExemptionsInput(e.exemptions)),e.additionalWithholding!==null&&(0,n.Z)(h.P,{data:e.additionalWithholding,type:"fed",viewOnly:t}),(a||s)&&this._renderExemptionCheckboxes(e))}}var y=a(93156);var b=a(63773);var w=a(71212);class S extends i.Component{constructor(){super(...arguments);(0,c.Z)(this,"state",{value:this.props.data.amount});(0,c.Z)(this,"_handleInputChange",(e=>{const{range:t}=this.props.data;if(t&&(0,u.rl)(e.target.value,t.min,t.max)){this.setState({value:e.target.value})}else if(!t){this.setState({value:e.target.value})}}))}static get className(){return"OptionalTextInput"}render(){const{id:e,data:t,viewOnly:a,help:s,isUnemploymentField:i}=this.props;const o="fab-Label";const r=`fab-TextInput fab-TextInput--teenie`;const l=i?"uiState":"state";return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:o,htmlFor:`textInput${e}`},void 0,t.label),(0,n.Z)("input",{type:"text",id:`textInput${e}`,name:`${l}[optional][${e}]`,className:r,value:this.state.value,onChange:this._handleInputChange,disabled:a}),(0,n.Z)("div",{className:"OptionalTextInput__help"},void 0,(0,n.Z)(w.e,{helpData:s}))))}}var C=a(26570);class x extends i.Component{static get className(){return"OptionalCheckbox"}constructor(e){super(e);(0,c.Z)(this,"_handleCheckBoxChange",(e=>this.setState({checked:e.target.checked})));(0,c.Z)(this,"_renderCheckbox",((e,t,a,s,i)=>{const o=i?"uiState":"state";return(0,n.Z)("div",{className:"fab-Checkbox OptionalCheckbox__tempCheckbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input ignore",defaultChecked:s?"checked":null,disabled:a,id:`checkbox${e}`,onChange:this._handleCheckBoxChange,type:"checkbox"}),(0,n.Z)("span",{className:"fab-Checkbox__box"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:`checkbox${e}`},void 0,t.label),(0,n.Z)("input",{name:`${o}[optional][${e}]`,type:"hidden",defaultValue:s?"on":"off"}))}));const{data:t}=e;this.state={checked:t.checked}}render(){const{id:e,data:t,viewOnly:a,help:s,isUnemploymentField:i}=this.props;const{checked:o}=this.state;return(0,n.Z)("div",{className:"fieldRow OptionalCheckbox"},void 0,(0,n.Z)("label",{className:"OptionalCheckbox__label",htmlFor:"checkboxes"},void 0,C.__("Select all that apply")),(0,n.Z)("fieldset",{className:"fab-CheckboxGroup"},void 0,this._renderCheckbox(e,t,a,o,i)))}}class T extends i.Component{static get className(){return"OptionalSelect"}constructor(e){super(e);(0,c.Z)(this,"_getSelectData",(()=>{const{data:e,id:t,viewOnly:a,isUnemploymentField:s}=this.props;const{selectedValue:n}=this.state;const i=s?"uiState":"state";const o=e.options.map((e=>{const t={};t.displayText=e.displayText;t.selected=e.val===n;t.value=e.val;return t}));if(!n){o[0].selected=true}return{data:{items:o},settings:{name:`${i}[optional][${t}]`,disabled:a,notClearable:true},disabled:a,width:5,onChange:this._handleSelectChange,className:"OptionalSelect xlong"}}));(0,c.Z)(this,"_handleSelectChange",(e=>this.setState({selectedValue:e?e.value:null})));const t=e.data.options.find((e=>e.selected===true));this.state={selectedValue:t?t.val:""}}render(){const{id:e,data:t,help:a}=this.props;return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:`select${e}`},void 0,t.label),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(d.ZP,(0,s.Z)({id:`select${e}`},this._getSelectData())),(0,n.Z)("div",{className:"OptionalSelect__help"},void 0,(0,n.Z)(w.e,{helpData:a})))))}}const E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function k(e,t,a){e=e.replace(/[^\d.-]/g,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));let s=true;e=e.replace(/\./g,(e=>{if(!s){return""}s=false;return e}));if(e===""){return e}let n=Number(e);if(Number.isNaN(n)){return""}if(t!==undefined&&n<t){n=t}if(a!==undefined&&n>a){n=a}return E.format(n)}var Z=a(57860);var N=a(24796);var I=a(11354);function A(e){const{content:t,title:a}=e;const s=(0,I.y)();const r=(0,i.useRef)(null);const[c,d]=(0,i.useState)(false);return o().createElement(o().Fragment,null,o().createElement("button",{className:l()("js-no-sticky-footer",s.questionButton),onClick:()=>d(true),ref:r,type:"button"},(0,n.Z)(N.Z,{className:s.questionIcon})),r.current&&(0,n.Z)(m.Popover,{anchorEl:r.current,classes:{popover:s.popover},onClose:()=>d(false),open:c,title:a},void 0,t))}function F(e){const{data:t,help:a,id:s,viewOnly:o}=e;const r=(0,Z.y)();const[l,c]=(0,i.useState)(k(t.amount||""));const d=!!a;const u=!!o;return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:r.labelContainer},void 0,(0,n.Z)("label",{htmlFor:s},void 0,t.label),d&&(0,n.Z)("div",{className:r.questionContainer},void 0,(0,n.Z)(A,{content:a.text,title:a.title}))),(0,n.Z)(m.TextField,{disabled:u,id:s,name:`state[optional][${s}]`,note:t.note,onBlur:h,onChange:e=>c(e.target.value),size:"medium",value:l,width:5}));function h(e){const a=e.target.value;if(!a.trim()){c("");return}const s=t.range?.min===undefined?undefined:Number(t.range.min);const n=t.range?.max===undefined?undefined:Number(t.range.max);c(k(a,s,n))}}var M=a(35637);var D=a(71141);var P=a(26570);const O=(0,D.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const L={text:S,checkbox:x,select:T,linkedSelects:M.z,usd:F};class R extends i.Component{static get className(){return"StateWithholding"}constructor(e){super(e);(0,c.Z)(this,"_getLocationSelectData",(()=>{const{locations:e,viewOnly:t,newHirePacket:a}=this.props;const s=e.allIds.map((t=>{const a=e.byId[t];a.value=a.val;a.selected=t===this.state.selectedLocation;a.id=t;return a}));return{data:{items:s},onChange:this._handleLocationChange,settings:{name:"state[location]",disabled:t||a},className:"xlong StateWithholding__select js-stateLocationSelect",width:5}}));(0,c.Z)(this,"_getStatusSelectData",(e=>{const{filingStatus:t,ignore:a}=this.state;const{viewOnly:s}=this.props;const n=e.map((e=>({displayText:a?"NA":e.displayText,value:e.val,selected:e.val===t})));return{data:{items:n},onChange:this._handleStatusChange,settings:{name:"state[status]",notClearable:false,placeholder:a?"NA":"-- Select --"},disabled:a||s,className:"xlong StateWithholding__select js-stateStatusSelect",width:5}}));(0,c.Z)(this,"_handleLocationChange",(e=>{const{onLocationChange:t}=this.props;P(".js-stateLocationFieldBox").removeClass("error");this.setState({selectedLocation:e?e.id:null,stateAbbreviation:e?e.state:null});if(t){t(e)}}));(0,c.Z)(this,"_handleStatusChange",(e=>{P(".js-stateStatusFieldBox").removeClass("error");this.setState({filingStatus:e?e.value:""})}));(0,c.Z)(this,"_handleExemptionsChange",((e,t)=>{if((0,u.rl)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}}));(0,c.Z)(this,"_handleIgnoreChange",(e=>this.setState({ignore:e.target.checked})));(0,c.Z)(this,"_getLabelClass",(()=>l()({"fab-Label":true})));(0,c.Z)(this,"_renderLocationsSelect",(()=>{const{showLocationRequiredAsterisk:e}=this.props;const{stateAbbreviation:t}=this.state;const a="fab-FormNote";return(0,n.Z)("div",{className:"fieldRow"},void 0,(0,n.Z)("div",{className:"fieldBox js-stateLocationFieldBox required"},void 0,(0,n.Z)("label",{className:l()(this._getLabelClass(),{"fab-Label--required":!!e}),htmlFor:"stateLocation"},void 0,P.__("Location")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(d.ZP,(0,s.Z)({id:"stateLocation"},this._getLocationSelectData()))),t&&(0,n.Z)("span",{className:a},void 0,P.__("State: %1$s",t))))}));(0,c.Z)(this,"_renderFilingStatusSelect",(e=>{const{ignore:t}=this.state;const a=l()("fieldBox js-stateStatusFieldBox",{required:!t});return(0,n.Z)("div",{className:a},void 0,(0,n.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:"stateStatus"},void 0,P.__("Filing Status")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(d.ZP,(0,s.Z)({id:"stateStatus"},this._getStatusSelectData(e)))))}));(0,c.Z)(this,"_renderExemptionsInput",(e=>{const t="fab-TextInput fab-TextInput--width1";return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("label",{className:this._getLabelClass(),htmlFor:"stateExemptions"},void 0,P.__("Exemptions")),(0,n.Z)("div",{className:"fieldDiv"},void 0,(0,n.Z)("input",{id:"stateExemptions",className:t,disabled:this.state.ignore||this.props.viewOnly,type:"text",name:"state[dependents]",value:this.state.ignore?"NA":this.state.exemptions,onChange:t=>this._handleExemptionsChange(t,e.range)})))}));(0,c.Z)(this,"_renderIgnoreCheckbox",(e=>{let t=P.__("Ignore filing status/other adjustments");return(0,n.Z)("div",{className:"fieldBox"},void 0,(0,n.Z)("div",{className:"fieldDiv"},void 0,(0,n.Z)("div",{className:"fab-Checkbox StateWithholding__exempt"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",type:"checkbox",id:"stateIgnore",name:"state[taxExempt]",defaultChecked:this.state.ignore?"checked":null,disabled:this.props.viewOnly,onChange:this._handleIgnoreChange}),(0,n.Z)("span",{className:"fab-Checkbox__box"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"stateIgnore"},void 0,t))))}));let t=null;let a=0;let i=false;let r=null;const h=e.locations.selected?e.locations.byId[e.locations.selected]:null;if(h){const e=h.fields.filingStatus?h.fields.filingStatus.find((e=>e.selected===true)):null;t=e?e.val:null;a=h.fields.exemptions?h.fields.exemptions.amount:0;i=h.fields.ignoreStatusExemptions?h.fields.ignoreStatusExemptions.checked:false;r=h.state}this.state={selectedLocation:e.locations.selected,filingStatus:t,exemptions:a,ignore:i,stateAbbreviation:r}}render(){const{selectedLocation:e}=this.state;const{accessLevel:t,locations:a,viewOnly:s,newHirePacket:r,isAdminUser:c,isPayrollAdminUser:d,editPermission:u,sectionNote:m,showWithholding:f}=this.props;const g=a.byId[e];let v=null;if(g&&g.fields.optionalFields){v=g.fields.optionalFields.allIds.map((e=>{const t=g.fields.optionalFields.byId[e];const a=L[t.type];return(0,n.Z)(a,{id:e,data:t.data,help:t.help,viewOnly:s},e)}))}const y=l()({"fab-FormSection StateTax":true},{"fab-FormSection--hidden":f===false});const w="fab-FormSection__legend";return(0,n.Z)("fieldset",{className:y},void 0,(0,n.Z)("legend",{className:w},void 0,P.__("State Tax Withholding"),(0,n.Z)(p.J,{title:P.__("State Tax Withholding"),content:P.__("This determines how much you will withhold from your paycheck for state taxes."),addTop:r})),m&&(0,n.Z)("div",{className:"StateWithholding__sectionNoteContainer"},void 0,(0,n.Z)("span",{className:"StateWithholding__sectionNoteIcon"},void 0,(0,n.Z)(b.Z,{})),(0,n.Z)("p",{className:"StateWithholding__sectionNoteText"},void 0,m)),a&&this._renderLocationsSelect(),g&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("div",{className:"fieldRow"},void 0,g.fields.filingStatus&&this._renderFilingStatusSelect(g.fields.filingStatus),g.fields.exemptions&&this._renderExemptionsInput(g.fields.exemptions),O&&t!==undefined?o().createElement(o().Fragment,null,(u||s)&&g.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(g.fields)):o().createElement(o().Fragment,null,(c||d||u)&&g.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(g.fields))),g.fields.additionalWithholding&&(0,n.Z)(h.P,{viewOnly:s,type:"state",data:g.fields.additionalWithholding}),v))}}var B=a(26570);const j=(0,D.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const H={text:S,checkbox:x,select:T,linkedSelects:M.z};class q extends i.Component{static get className(){return"StateUnemployment"}constructor(e){super(e);(0,c.Z)(this,"_getHelpPopoverData",(()=>{const e=B.__("Rule of thumb?");const t=B.__(`The state you select for this option should generally be paid to the employee's work state, but there are exceptions!`);const a=B.__(`If you're not sure what to choose, check out %1$sthis helpful guide%2$s from the Department of Labor.`,'<a href="https://workforcesecurity.doleta.gov/unemploy/uitaxtopic.asp" target="_blank" rel="noopener noreferrer">',"</a>");return{title:B.__("State Unemployment Insurance"),content:`${e} ${t} ${a}`}}));(0,c.Z)(this,"_getSelectData",(()=>{const{fields:e,viewOnly:t}=this.props;const{location:a}=this.state;const s=e.locations.map((e=>{const t={};t.selected=e.val===a;t.value=e.val;t.state=e.state;t.displayText=e.displayText;return t}));return{data:{items:s},onChange:this._handleLocationChange,settings:{name:"uiState[location]",placeholder:`-- ${B.__("Select")} --`,disabled:t,required:true},disabled:t,className:"xlong StateUnemployment__location js-uiStateLocationSelect",width:5}}));(0,c.Z)(this,"_handleLocationChange",(e=>{const{onLocationChange:t}=this.props;B(".js-uiStateLocationFieldBox").removeClass("error");this.setState({location:e?e.value:"",stateAbbreviation:e?e.state:null});if(t){t(e)}}));(0,c.Z)(this,"_handleExemptChange",(e=>this.setState({exempt:e.target.checked})));(0,c.Z)(this,"_renderLocationSelect",(()=>{const{stateAbbreviation:e}=this.state;const{showLocationRequiredAsterisk:t}=this.props;const a="fab-FormNote";const i=l()("fab-Label",{"fab-Label--required":!!t});return(0,n.Z)("div",{className:"fieldBox js-uiStateLocationFieldBox required"},void 0,(0,n.Z)("label",{className:i,htmlFor:"uiStateLocation"},void 0,B.__("Location")),(0,n.Z)("div",{className:"fieldDiv"},void 0,o().createElement(d.ZP,(0,s.Z)({id:"uiStateLocation"},this._getSelectData()))),e&&(0,n.Z)("span",{className:a},void 0,B.__("State: %1$s",e)))}));(0,c.Z)(this,"_renderExemptCheckbox",(()=>{const{exempt:e}=this.state;const{viewOnly:t}=this.props;return(0,n.Z)("div",{className:"fieldDiv StateUnemployment__check"},void 0,(0,n.Z)("div",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:e?"checked":null,disabled:t,id:"uiExempt",name:"uiState[taxExempt]",onChange:this._handleExemptChange,type:"checkbox"}),(0,n.Z)("span",{className:"fab-Checkbox__box"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"uiExempt"},void 0,B.__("State UI tax exempt"))))}));(0,c.Z)(this,"_renderOptionalFields",(()=>{const{fields:e}=this.props;const{location:t}=this.state;const a=e.locations?e.locations.find((e=>e.val===t)):null;if(!(a&&a.optionalFields)){return null}const{allIds:s,byId:i}=a.optionalFields;return s.map((e=>{const t=i[e];const a=H[t.type];return(0,n.Z)(a,{data:t.data,help:t.help||null,id:e,isUnemploymentField:true,required:t.required,viewOnly:false},e)}))}));const{fields:t}=e;const a=t.locations?t.locations.find((e=>e.selected)):null;const i=t.exempt?t.exempt.checked:null;this.state={location:a?a.val:null,exempt:i,stateAbbreviation:a?a.state:null}}render(){const{accessLevel:e,editPermission:t,fields:a,isAdminUser:s,isPayrollAdminUser:i,sectionNote:r,showUnemployment:c,viewOnly:d}=this.props;const u=l()({"fab-FormSection":true},{"fab-FormSection--hidden":c===false});const h="fab-FormSection__legend baseColor";return(0,n.Z)("fieldset",{className:u},void 0,(0,n.Z)("legend",{className:h},void 0,B.__("State Unemployment Insurance"),o().createElement(p.J,this._getHelpPopoverData())),r&&(0,n.Z)("div",{className:"StateUnemployment__sectionNoteContainer"},void 0,(0,n.Z)("span",{className:"StateUnemployment__sectionNoteIcon"},void 0,(0,n.Z)(b.Z,{})),(0,n.Z)("p",{className:"StateUnemployment__sectionNoteText"},void 0,r)),(0,n.Z)("div",{className:"fieldRow"},void 0,a.locations!==null&&this._renderLocationSelect(),j&&e!==undefined?o().createElement(o().Fragment,null,(t||d)&&a.exempt&&this._renderExemptCheckbox()):o().createElement(o().Fragment,null,(s||i)&&a.exempt&&this._renderExemptCheckbox())),this._renderOptionalFields())}}var W=a(9932);var U=a(26570);function z(){return(0,n.Z)("fieldset",{},void 0,(0,n.Z)("legend",{className:"baseColor"},void 0,U.__("Tax Withholding")),(0,n.Z)(W.Z,{className:"WithholdingBlankState",icon:"capitol-39x43",subtitle:U.__("Check to make sure your home and job location addresses are valid."),title:U.__("Federal and State Tax withholding information will appear here when all of your data is in order.")}))}function Y(e){const[t,a]=(0,i.useState)(false);const r=(0,D.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");(0,i.useEffect)((()=>{const e=document.querySelector('button[data-action="SiteFooterAction:cancel"]');if(e){e.addEventListener("click",(()=>a(false)))}}),[]);const{data:c,newHirePacket:d,show:h,fedPerms:p,statePerms:m,onStateLocationChange:f,onStateUnemploymentLocationChange:g,isAdminUser:b,isPayrollAdminUser:w=false,canAccessStateUiFields:S=false,renderFederal:C=true,renderState:x=true,renderStateUnemployment:T=true,showWithholdingInformation:E,stateSectionNote:k="",stateUnemploymentSectionNote:Z="",showStateLocationRequiredAsterisk:N=false,showStateUnemploymentLocationRequiredAsterisk:I=false}=e;if(m!==0&&!(0,u.P2)(c)||p!==0&&!(0,u.ge)(c)){return(0,n.Z)(z,{})}const{federal:A,federal2020:F,state:M,stateUnemployment:P,is2020Release:O,has2020W4:L}=c;let B=null;let j=null;let H=null;if(E){({showFederalWithholding:B,showStateWithholding:j,showStateUi:H}=E)}const W=O&&(L||t);const U=l()("Federal",{"Federal--2020":W},{"Federal--hidden":B===false});const Y=d&&window.previewUser;const G=window.isSelfService;const V=window.stateTaxDeductionsPermissions;const K=window.unemploymentInsurancePermissions;const X=V===3;const J=V===2||V===1;const Q=K===3;const ee=K===2||K===1;return h?(0,n.Z)(i.Fragment,{},void 0,C&&o().createElement(o().Fragment,null,p>0&&F&&W&&(0,n.Z)("div",{className:U},void 0,o().createElement(y.M,(0,s.Z)({showExemptions:w,showWithholding:B,viewOnly:p===1||Y},F))),p>0&&A&&!W&&(0,n.Z)("div",{className:U},void 0,o().createElement(v,(0,s.Z)({editPermission:p===3,handle2020ToggleClick:()=>a(true),isAdminUser:b,isPayrollAdminUser:w,newHirePacket:d,show2020Message:O,viewOnly:p===1||O},A)))),r&&o().createElement(o().Fragment,null,V!==undefined?o().createElement(o().Fragment,null,(X||J)&&o().createElement(o().Fragment,null,x&&M&&o().createElement(R,(0,s.Z)({accessLevel:V,editPermission:X,isAdminUser:b,isPayrollAdminUser:w,newHirePacket:d,onLocationChange:f,sectionNote:k,showLocationRequiredAsterisk:N,showWithholding:j,viewOnly:J||Y},M)))):o().createElement(o().Fragment,null,x&&m>0&&M&&o().createElement(R,(0,s.Z)({editPermission:m===3,isAdminUser:b,isPayrollAdminUser:w,newHirePacket:d,onLocationChange:f,sectionNote:k,showLocationRequiredAsterisk:N,showWithholding:j,viewOnly:m===1||Y},M))),K!==undefined?o().createElement(o().Fragment,null,(Q||ee)&&o().createElement(q,(0,s.Z)({accessLevel:K,editPermission:Q,isAdminUser:b,isPayrollAdminUser:w,onLocationChange:g,sectionNote:Z,showLocationRequiredAsterisk:I,showUnemployment:H,viewOnly:ee},P))):o().createElement(o().Fragment,null,T&&(b||w||S)&&P&&o().createElement(q,(0,s.Z)({isAdminUser:b,isPayrollAdminUser:w,onLocationChange:g,sectionNote:Z,showLocationRequiredAsterisk:I,showUnemployment:H,viewOnly:m===1},P)))),!r&&o().createElement(o().Fragment,null,x&&m>0&&M&&o().createElement(R,(0,s.Z)({editPermission:m===3,isAdminUser:b,isPayrollAdminUser:w,newHirePacket:d,onLocationChange:f,sectionNote:k,showLocationRequiredAsterisk:N,showWithholding:j,viewOnly:m===1||Y},M)),T&&(b||w||S)&&P&&o().createElement(q,(0,s.Z)({isAdminUser:b,isPayrollAdminUser:w,onLocationChange:g,sectionNote:Z,showLocationRequiredAsterisk:I,showUnemployment:H,viewOnly:m===1},P)))):(0,n.Z)("div",{})}},17611:(e,t,a)=>{"use strict";a.d(t,{P2:()=>l,Xh:()=>n,ge:()=>r,rl:()=>s});function s(e,t,a){return(typeof e==="number"||typeof e==="string")&&e>=Number(t)&&e<=Number(a)}function n(e,t){if(typeof e==="number"||typeof e==="string"){if(t==="percent"){return o(e)}else if(t==="currency"){return i(e)}}return e}function i(e){return`$${Number(e).toFixed(2)}`}function o(e){return`${parseFloat(e)}%`}function r(e){return!!e&&e.hasOwnProperty("federal")&&!!e.federal.fields}function l(e){return!!e&&e.hasOwnProperty("state")&&!!e.state.locations&&Array.isArray(e.state.locations.allIds)&&e.state.locations.allIds.length>0&&!!e.state.locations.byId}},4231:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});var $=a(26570);function s(e){var t=$.__("This action would normally be available to this user.  It has been disabled while you preview.");var a=$.__("Disabled for previewing");window.BambooHR.Modal.setState({content:t,isOpen:true,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},title:a});if(typeof e!=="undefined"){e.stopImmediatePropagation();e.preventDefault()}return false}},56255:(e,t,a)=>{"use strict";a.d(t,{K:()=>V,W:()=>J});var s=a(89835);var n=a(88604);var i=a(23321);var o=a.n(i);var r=a(59592);var l=a(59155);var c=a(60042);var d=a.n(c);var u=a(38592);var h=a(21198);var $=a(26570);const p=new h.BEM("SecureFileShareCreateModal");const m=".js-EmailInputList";const f="email-input-list";const g="email-input-label";const v={duplicateEmail:{description:`(${$.__("Duplicate Email")})`,className:p.elem("item--duplicateError"),slidedownMessage:$.__("Sorry, we cant send emails to duplicate addresses. Remove the duplicates and give it another try.")},invalidEmail:{description:`(${$.__("Invalid Email")})`,className:p.elem("item--invalidEmailError")},missingEmail:{description:`(${$.__("Missing Email")})`,className:p.elem("item--error")}};var y=a(26570);const b=e=>`fab-${e[0]}--error`;let w=null;const S=()=>document.body.querySelector(`#${f} .item`)!==null;const C=()=>document.querySelector(`.${v.duplicateEmail.className}`)!==null;const x=()=>document.querySelector(`.${v.invalidEmail.className}`)!==null;const T=()=>{const e=document.body.querySelector(`#${g}`).classList;const t=document.body.querySelector(m).classList;const a=document.body.querySelector(`#${f} .description`).classList;if(S()&&!C()&&!x()){e.remove(b`Label`);t.remove(b`TextInput`);a.remove(b`TextInput`)}else{e.add(b`Label`);t.add(b`TextInput`);a.add(b`TextInput`);w.activate()}};const E=()=>{(0,i.useEffect)((()=>{const e=`secureSendTo-${(0,u.makeUid)()}`;w=y(`#${f}`).autoInputList({autocompleteUrl:"/ajax/files/quicksearch-email.php",description:y.__("Enter email addresses..."),formatAutoItem:window.activeIndicator,formatTagItem:function(e,t,a){if(t){const e=xmlEntities(t[0]);const a=xmlEntities(t[1]);const s=isNaN(parseInt(a,10))&&!(0,u.validateEmail)(a);const n=document.querySelector(`#${f} .item[data-entry-value="${a}"]`)!==null;let i="";if(s){i=v.invalidEmail.description}else if(n){i=v.duplicateEmail.description}const o=d()(p.elem("item"),"item",{[`${v.invalidEmail.className}`]:s,[`${v.duplicateEmail.className}`]:n});y(`\n\t\t\t\t\t\t<span class="${o}" data-entry-value="${a}">\n\t\t\t\t\t\t\t${e} <span class="${p.elem("itemErrorDescription")}">${i}</span>\n\t\t\t\t\t\t\t<input type="hidden" name="recipients[]" value='${a}' />\n\t\t\t\t\t\t\t<button class="${p.elem("remove")} remove fab-FloatingIconButton fab-FloatingIconButton--teenie fab-FloatingIconButton--secondary" type="button">\n\t\t\t\t\t\t\t\t<span class="fab-FloatingIconButton__icon">\n\t\t\t\t\t\t\t\t\t<ba-icon name="fab-x-10x10"></ba-icon>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(`#${f} span.input`);y(this).val("");T()}},inputAttributes:{name:e,id:e,"data-lpignore":"true"},inputClass:m,done:function(){y(`#${g}`).addClass("fab-Label fab-Label--required");y(m).addClass(`${p.elem("acInput")} ac_input free fab-TextInput fab-TextInput--width100`);y(`#${f}`).find(".description").addClass(`${p.elem("description")} fab-TextInput fab-TextInput--width100`);y(`#${f}`).on("click",".item .remove",(function(){const e=y(this).closest("span.item");const t=e.data("entry-value");const a=e.hasClass(p.elem("item--duplicateError"));e.remove();const s=y(`#${f}`).find(`.item[data-entry-value="${t}"]`);if(!a&&s.length>0){const e=y(s).first();e.removeClass(p.elem("item--duplicateError"));const t=e.find(`.${p.elem("itemErrorDescription")}`);if(t.text()===v.duplicateEmail.description){t.empty()}}T();return false}))}});const t=y.__("Enter email addresses...");y(".free").click().focus().attr("placeholder",t)}),[]);return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("label",{id:g,htmlFor:f},void 0,"Send To"),(0,s.Z)("div",{id:f,className:"emailListInput input-list fab-TextInput fab-TextInput--width100 js-autoInputListContainer"}))};var k=a(26570);const Z=()=>(0,s.Z)("fieldset",{className:p.elem("emailSection",["^fab-FormSection"])},void 0,(0,s.Z)("legend",{className:p.elem("emailLegend",["^fab-FormSection__legend"])},void 0,(0,s.Z)("div",{className:p.elem("emailIcon")},void 0,(0,s.Z)(l.Icon,{name:"fab-envelope-18x14"})),(0,s.Z)("span",{className:"fab-FormSection__legendText"},void 0,"Email")),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)(E,{})),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"subject"},void 0,"Subject"),(0,s.Z)("input",{id:"subject",name:"subject",type:"text",className:"fab-TextInput fab-TextInput--width100"})),(0,s.Z)("div",{className:p.elem("emailMessageRow",["^fab-FormRow"])},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"message"},void 0,"Message"),(0,s.Z)("textarea",{className:"fab-Textarea fab-Textarea--width100",id:"message",name:"message"})),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:true,id:"signature",name:"signature",type:"checkbox"}),(0,s.Z)("label",{className:p.elem("signatureLabel",["^fab-Checkbox__label"]),htmlFor:"signature"},void 0,k._("Include your name and email in signature ")))));var N=a(37194);var I=a(60658);var A=a(17842);var F=a.n(A);const M=e=>F().post("/secure-file-share",e);const D=(e,t)=>F().get(`/file-info/${e}/${t}`);const P=(e,t)=>{const[a,s]=(0,i.useState)({addedAt:"",addedBy:"",fileExtension:"",fileName:"",fileSize:"",isEsignature:false,loading:true});(0,i.useEffect)((()=>{(async()=>{try{const a=await D(e,t);s({...a.data,loading:false})}catch(e){(0,I.Mr)();window.errorFallBack()}})()}),[]);return a};var O=a(26570);const L=e=>{const{id:t,type:a}=e;const{addedAt:n,addedBy:i,fileExtension:o,fileName:r,fileSize:c,isEsignature:d,loading:h}=P(a,t);return(0,s.Z)("div",{className:p.elem("header")},void 0,(0,s.Z)("fieldset",{className:p.elem("fileSection",["^fab-FormSection"])},void 0,(0,s.Z)("legend",{className:p.elem("fileLegend",["^fab-FormSection__legend"])},void 0,(0,s.Z)("div",{className:p.elem("fileIcon")},void 0,(0,s.Z)(l.Icon,{name:(0,u.getIconNameFromFileName)(o,"20x24",d)})),(0,s.Z)("div",{className:p.elem("fileInfo")},void 0,(0,s.Z)("div",{className:p.elem("fileName")},void 0,r),(0,s.Z)("div",{className:p.elem("fileMeta",{loading:h})},void 0,(0,s.Z)(N.Message,{params:[n,i,c],text:O.__("Added {1} by {2} ({3})",n,i,c)}))),(0,s.Z)("input",{type:"hidden",name:"files[0][fileId]",value:t}),(0,s.Z)("input",{type:"hidden",name:"files[0][fileType]",value:a}))))};var R=a(26136);var moment=a(82543);const B=e=>(0,s.Z)("fieldset",{className:"fab-FormSection"},void 0,(0,s.Z)("legend",{className:"fab-FormSection__legend"},void 0,(0,s.Z)(l.Icon,{name:"fab-link-16x16",brand:true}),(0,s.Z)("span",{className:"fab-FormSection__legendText"},void 0,"Link Security Settings")),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)(R.Z,{name:"expirationDate",type:"date",cssClasses:{single:p.elem("expirationInput")},settings:{min:moment().format(),max:moment().add(30,"days").format(),start:moment().add(30,"days").format(),label:"Link Expiration Date"}}),(0,s.Z)("span",{className:"fab-FormNote"},void 0,"We recommend making this as short as possible (30 day max).")),(0,s.Z)("div",{className:p.elem("formRow",["^fab-FormRow"])},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",id:"singleUse",name:"singleUse",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"singleUse"},void 0,"Only allow this file to be downloaded once."))));var j=a(73641);var H=a(26570);const q=(e,t)=>{const a=document.getElementById(f);e.forEach((e=>{const s=a.querySelectorAll(`.${p.elem("item")}[data-entry-value="${e}"]`);s.forEach((e=>{e.classList.add(t.className);if(t.description){const a=e.querySelector(`.${p.elem("itemErrorDescription")}`);a.innerHTML=t.description}}))}))};const W=(e,t)=>{const a=(0,i.useRef)(null);const[s,n]=(0,i.useState)(null);const[o,l]=(0,i.useState)(false);const[c,d]=(0,i.useState)(null);const[u,h]=(0,i.useState)(null);(0,i.useEffect)((()=>{n(H(a.current).bhrValidate({},((e,t)=>e[0].message||t)))}),[]);const p=(0,i.useCallback)((async()=>{l(true);d(null);h(null);try{d(await M(a.current));l(false)}catch(e){l(false);h(e)}}),[]);(0,i.useEffect)((()=>{e(o)}),[o]);(0,i.useEffect)((()=>{if(!o&&c){if(t){t()}(0,I.Mr)();(0,r.f)(H.__("Your file has been sent."),"success")}}),[o,c]);(0,i.useEffect)((()=>{if(!o&&u){if((0,j.get)(u,"response.data.type")==="invalid_email"){const e=(0,j.get)(u,"response.data");const{emails:t,employees:a}=e;q(t,v.invalidEmail);q(a,v.missingEmail);(0,r.f)(e.error,"error")}else{window.errorFallBack()}}}),[o,u]);return{formRef:a,create:p,$validator:s}};const U=(0,i.forwardRef)(((e,t)=>{const{id:a,setProcessing:n,type:l,onSfsCreation:c}=e;const{formRef:d,create:u,$validator:h}=W(n,c);const m=()=>{h.form();T();if(C()){(0,r.f)(v.duplicateEmail.slidedownMessage,"error")}else if(S()&&h.valid()){u()}};(0,i.useImperativeHandle)(t,(()=>({submit:()=>{m()}})));return o().createElement("form",{ref:d,className:p.elem("form")},(0,s.Z)(L,{id:a,type:l}),(0,s.Z)("div",{className:p.elem("content")},void 0,(0,s.Z)(Z,{}),(0,s.Z)(B,{})))}));var z=a(98675);var Y=a(26570);const G=e=>{const t=(0,i.useRef)(null);const[a,r]=(0,i.useState)(false);return(0,s.Z)(z.u,{contentHasMaxHeight:false,contentHasPadding:false,headerType:null,isOpen:true,onClose:()=>(0,I.Mr)(),primaryAction:()=>t.current.submit(),primaryActionText:Y.__("Send"),title:Y.__("Email Secure Download Link"),isProcessing:a},void 0,o().createElement(U,(0,n.Z)({},e,{ref:t,setProcessing:r})))};const V=e=>(0,I.K4)(o().createElement(G,e));var K=a(26570);const X=e=>{const{filename:t}=e;return(0,s.Z)(z.u,{alternativeActionText:"",content:K.__(`We can't create a secure link for it. Upload a different version of the file and try again.`),headline:K.__(`%1 doesn't contain any data`,t),icon:"fab-triangle-exclamation-54x54",isOpen:true,onClose:()=>(0,I.Mr)(),primaryAction:()=>(0,I.Mr)(),primaryActionText:K.__("Done"),title:K.__("Empty File")})};const J=e=>(0,I.K4)(o().createElement(X,e))},63196:(e,t,a)=>{"use strict";a.d(t,{ao:()=>T,hr:()=>I,Qc:()=>A,l6:()=>P});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(98675);var l=a(38592);var c=a(37194);var d=a(60658);var u=a(9932);var h=a(21198);var $=a(26570);const p=new h.BEM("SecureDownloadManager");const m=5;const f="/file-info";const g="/secure-file-share";const v={content:(0,s.Z)("div",{className:p.elem("sfsDisableConfirmation")},void 0,$.__("The file won't be accessible to anyone with the link.")),headline:$.__("Are you sure you want to disable this link?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,primaryActionText:$.__("Yes, Disable Link"),title:$.__("Just Checking...")};var y=a(26570);function b(e){const{isExpandable:t,isExpanded:a,rowKey:n="",onButtonClick:i,recipients:r}=e;const l=!a?r.splice(0,m-1):r;let c=null;if(t){c=a?y.__("View less"):y.__(`%1$s more`,r.length)}return(0,s.Z)("div",{},void 0,(0,s.Z)("ul",{},void 0,l.map(((e,t)=>{const a=`${n}-${e}-${t}`;return(0,s.Z)("li",{},a,e)}))),t&&(0,s.Z)(o.TextButton,{clickAction:i,inline:true,text:c}))}var moment=a(82543);var w=a(26570);const S=e=>{const t=moment(e);return(0,s.Z)("span",{},void 0,t.format("MM/DD/YYYY"),(0,s.Z)("span",{className:p.elem("time")},void 0,t.format("h:mm A")))};const C=e=>[{cell:e=>e.sentDate,header:w.__("Link Sent"),key:"sentDate"},{cell:e=>e.expireDate,header:w.__("Link Expires"),key:"expireDate"},{cell:e=>e.timesDownloaded,header:w.__("Downloads"),key:"timesDownloaded",width:120},{cell:e=>e.emails,header:w.__("Recipients"),key:"emails",width:186},{cell:{type:"actions",actions:t=>[{action:()=>e(t.sfsId),icon:"fab-circle-x-12x12",tooltipContent:w.__("Disable link.")}]}}];const x=(e,t,a)=>e.map(((e,n)=>{const{emails:r,expireDate:l,sentDate:c,sfsId:d,timesDownloaded:u}=e;const h=`recipient-row-${d}-${n}`;const f=r.length>m;const g=!f||t.indexOf(n)>=0;const v={isExpandable:f,isExpanded:g,rowKey:h,recipients:[...r],onButtonClick:()=>{let e=t;if(g){e=e.filter((e=>e!==n))}else{e=e.concat(n)}a(e)}};const y=c?S(c):(0,s.Z)("div",{className:p.elem("sendingStatus")},void 0,(0,s.Z)(o.Icon,{name:"fab-hourglass-12x14"}),(0,s.Z)("span",{},void 0,w.__("Sending...")));return{key:h,emails:i().createElement(b,v),expireDate:S(l),sentDate:y,sfsId:d,timesDownloaded:u}}));const T=e=>e>1?w.__("Secure Download Links"):w.__("Secure Download Link");var E=a(26570);function k(e){const{openDisableLinkConfirmation:t,sfsItems:a}=e;const[i,r]=(0,n.useState)([]);const l=C(t);const c=x(a,i,r);return(0,s.Z)("div",{className:p.elem("content")},void 0,c.length?(0,s.Z)(o.Table,{caption:E.__("Active secured download links"),columns:l,rowKey:e=>e.key,rows:c,stickyHeader:true}):(0,s.Z)(u.Z,{className:p.elem("blankState"),icon:"fab-link-72x72",title:E.__(`There aren't any active links for this document.`)}))}var Z=a(17842);var N=a.n(Z);function I(e,t){return N().get(`${f}/${t}/${e}`)}function A(e,t){return N().get(`${g}/${e}?fileType=${t}`)}function F(e,t){return N().put(`${g}/${e}`,{type:"disabled"}).then((()=>{if(t){t()}})).catch((e=>{console.error(e);window.errorFallBack()}))}var M=a(26570);function D(e){const{file:{addedAt:t,addedBy:a,fileExtension:i,fileName:u,fileSize:h,isEsignature:m},sfsItems:f,onDisableLink:g}=e;const[y,b]=(0,n.useState)(null);const[w,S]=(0,n.useState)(f);(0,n.useEffect)((()=>{if(g){g(w.length)}}),[w]);const C=y&&{...v,onClose:()=>b(null),primaryAction:()=>{const e=()=>{const e=w.filter((e=>e.sfsId!==y));S(e);b(null)};F(y,e)}};return(0,s.Z)(r.u,{alternativeActionText:false,contentHasMaxHeight:false,contentHasPadding:false,isOpen:true,onClose:()=>(0,d.Mr)(),primaryAction:()=>(0,d.Mr)(),primaryActionText:M.__("Done"),sheetProps:C,title:M.__("Manage Secure Download Links"),type:"medium"},void 0,(0,s.Z)("div",{className:p.elem("header")},void 0,(0,s.Z)("div",{className:p.elem("headerIcon")},void 0,(0,s.Z)(o.Icon,{name:(0,l.getIconNameFromFileName)(i,"20x24",m)})),(0,s.Z)("div",{},void 0,(0,s.Z)("h4",{},void 0,u),(0,s.Z)("span",{},void 0,(0,s.Z)(c.Message,{text:M._("Added {1} by {2} ({3})"),params:[t,a,h]})))),(0,s.Z)(k,{openDisableLinkConfirmation:e=>b(e),sfsItems:w}))}const P=e=>(0,d.K4)(i().createElement(D,e))},81186:(e,t,a)=>{"use strict";a.d(t,{SV:()=>s,cx:()=>n,ww:()=>o});const s="setupSummaryBanner";const n="updateBannerData";const i=null&&["/app/setup*","/reports*"];const o=["/reports/payroll-deductions*","/reports/pay-info-tab-direct-deposit*"]},21195:(e,t,a)=>{"use strict";a.d(t,{S:()=>n,_:()=>i});var s=a(81186);const n=()=>{window.localStorage.removeItem(s.SV)};const i=e=>{document.dispatchEvent(new CustomEvent(s.cx,{detail:{stepKey:e}}))}},51889:(e,t,a)=>{"use strict";a.d(t,{Z:()=>O,u:()=>R});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(7852);var l=a(73641);var c=a(60658);var d=a(77512);var u=a(59155);var h=a(38592);var p=a(51341);var m=a(60042);var f=a.n(m);var g=a(19654);var $=a(26570);function v(e){const t=(0,i.useRef)(null);const{file:a,handleFileSelection:n,handleToggleRequired:l,tooltipScrollOffset:c,editFileProperty:d}=e;const m=(0,g.Z)({offset:c});const[v,y]=(0,i.useState)(a.meta.checked||false);const[b,w]=(0,i.useState)(a.meta.required==="yes");const S=(0,i.useMemo)((()=>a.esignature_template_id!==null&&a.has_esignatures&&a.esignatures.has_fields),[a.esignature_template_id,a.has_esignatures,a.esignatures.has_fields]);const C=(0,i.useMemo)((()=>{const e=S?"yes":"no";const t=b?"yes":"no";return`${a.id}-${e}-${t}`}),[S,b]);const x=()=>{n({...r.ZP.fileCardFromFile(a),required:b?"yes":"no"},!v);y(!v)};const T=()=>{l(a.id,!b);w(!b)};(0,i.useEffect)((()=>{if(v){d(a.id,"id",C)}}),[C,v]);const E=a.img_sizes.medium==="esignature.png"?"fab-file-esig-20x24":(0,h.getIconNameFromFileName)(a.original_file_name,"20x24",false);const k=f()(m.fileListItem,{[m.active]:v,[m.disabled]:a.meta.disabled,"show-esignature-template":a.esignature_template_id&&a.esignatures&&a.esignatures.has_fields});const Z=(0,p.Z)(a.created).format(p.Z.convert.jQuery(window.GLOBAL_DATEPICKER_MASK));let N;if(a.created_str){N=a.created_str}else if(a.created_user_id>0){N=$.__("Created %1$s by %2$s",Z,a.created_user)}else{N=$.__("Created %1$s",Z)}const I=`check${a.id}-${S?"yes":"no"}-${b}`;const A=`${a.id}-toggle-${b}`;return o().createElement(o().Fragment,null,(0,s.Z)("li",{},void 0,(0,s.Z)("div",{className:k,onClick:e=>{const t=e.target;if(!t.classList.contains("bhrToggle__input")&&!t.classList.contains("bhrToggle__label")){x()}},onKeyDown:()=>null,role:"button",tabIndex:0},void 0,(0,s.Z)("div",{className:f()(m.check)},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{checked:v,className:"fab-Checkbox__input","data-can-see":a.can_see_file,"data-ext":S?$.__("Esignature"):a.ext,"data-file-id":a.id,"data-icon":a.img_sizes.small,"data-name":a.name,"data-original-name":a.original_file_name,"data-required":b,disabled:a.meta.disabled,id:I,name:"",onClick:e=>{e.preventDefault();e.stopPropagation()},readOnly:true,type:"checkbox"}),(0,s.Z)("span",{className:"fab-Checkbox__box"}),(0,s.Z)("label",{className:"fab-Checkbox__label","data-tip-content":a.meta.disabled?a.meta.disabledText:"",htmlFor:I}))),(0,s.Z)("div",{className:f()(m.icon)},void 0,(0,s.Z)(u.Icon,{name:E})),(0,s.Z)("div",{className:f()(m.info)},void 0,(0,s.Z)("span",{className:f()(m.infoLine,m.infoTitle,"truncate")},void 0,a.name),(0,s.Z)("span",{className:"hidden"},void 0,a.can_see_file),(0,s.Z)("span",{className:f()(m.infoLine,m.infoInfo)},void 0,`${N} (${window.BambooHR.Utils.humanFileSize(a.size)})`)),S&&(0,s.Z)("div",{className:f()(m.actions)},void 0,(0,s.Z)(u.Tooltip,{classes:{root:m.tooltip,tooltip:m.tooltipPosition},content:$.__("Click to make signature %1",b?"optional":"required"),title:$.__("Signature %1",b?"required":"optional")},void 0,o().createElement("span",{className:"bhrTooltip","data-required-action":a.id,ref:t},(0,s.Z)("label",{className:"bhrToggle bhrToggle--require",htmlFor:A},void 0,(0,s.Z)("input",{checked:b,className:"bhrToggle__input","data-file-id":a.id,id:A,onChange:T,type:"checkbox"}),(0,s.Z)("span",{className:"bhrToggle__label"}),(0,s.Z)("span",{className:"bhrToggle__handle"}))))))))}var y=a(37194);function b(e,t){if(!e.meta){e.meta={disabled:false}}if(t.length){const a=(0,l.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}function w(e,t){const a=(0,l.cloneDeep)(t);const s=(0,l.cloneDeep)(e);s.forEach((e=>{b(e,a)}));return s}function S(e,t,a,s){const n=(0,l.includes)(e,"?");const{excludeEsignatures:i}=window.sharedFilesManager;return`${e}${n?"&":"?"}sectionId=${t}&offset=${a}&limit=${s}${i?"&excludeEsignatures=true":""}`}var C=a(72239);var x=a(26570);function T(e){const t=(0,C.Z)();const a=25;const{sectionId:n,selectedFiles:r,handleFileSelection:l,handleToggleRequired:d,tooltipScrollOffset:h,filesEndpoint:p,editFileProperty:m}=e;const[g,b]=(0,i.useState)(0);const[T,E]=(0,i.useState)(true);const[k,Z]=(0,i.useState)([]);const[N,I]=(0,i.useState)(true);function A(){const e=w(k,r);const t=e=>{if(e.meta===undefined){return{disabled:false}}return e.meta};return e.map((e=>(0,s.Z)(v,{file:{...e,meta:t(e)},handleFileSelection:l,handleToggleRequired:d,tooltipScrollOffset:h,editFileProperty:m},`${e.file_section_id}_${e.id}`)))}function F(t){const{sectionName:a}=e;let i=(0,s.Z)(y.Message,{em:{tag:"div"},params:[a],text:x._('The "{1}" *Folder is Empty*')});let o=false;const r=x.__("Upload your Company Files here");const l="/files/";if(n==="all"){i=(0,s.Z)(y.Message,{text:x._("You Currently Have no Company Files in BambooHR")});o=true}return(0,s.Z)("div",{className:f()(t.blankStateWrapper)},void 0,(0,s.Z)(u.BlankState,{icon:"fab-file-question-mark-60x72",subtitle:o?(0,s.Z)("a",{className:"blankState__link",href:l,onClick:c.Mr,rel:"noopener noreferrer",target:"_blank"},void 0,r):null,title:i}))}return o().createElement(o().Fragment,null,(0,s.Z)("div",{className:f()(t.fileListContentWrapper)},void 0,(0,s.Z)("ul",{className:f()({[t.scrollableFileList]:!!k.length}),id:"js-FileList"},void 0,k.length>0&&A()),k.length===0&&!N&&F(t),(0,s.Z)(u.ProgressiveLoader,{endpoint:S(p,n,g,a),hasMore:T,onFetch:e=>{let{data:{files:{records:t,totalCount:s}}}=e;const n=g+a;const i=window.sharedFilesManager._mergeFileData(t);b(n);E(n<s);Z([...k].concat(i));I(false)},pageSize:a,preload:{startsAt:0,limit:a},preloadUntilScroll:true,wrapper:"#js-FileList"})))}var E=a(24379);var k=a(26570);function Z(e){const t=[{text:k.__("All Files"),value:"all"}];e.forEach((e=>{if(e.visibility!=="hidden"){t.push({text:e.name,value:e.id})}}));return t}function N(e,t){const a=t.find((t=>t.id===e));return a?a.name:""}function I(e){const t=(0,E.Z)();const{sections:a,updateFilesInForm:n,initialSelections:o=[],modalContainerId:r,modalCallback:l,tooltipScrollOffset:d,filesEndpoint:h}=e;const[p,m]=(0,i.useState)(o);const[g,v]=(0,i.useState)(["all"]);const[y,b]=(0,i.useState)(true);function w(){(0,c.YB)(r)}function S(e,t){b(false);if(t){m((t=>[...t,e]))}else{const t=[...p];t.splice(t.findIndex((t=>t.fileId===e.fileId)),1);m(t)}}function C(e,t){const a=p.findIndex((t=>t.fileId===e));m((e=>{e[a].required=t?"yes":"no";return e}))}function x(){n(p);if(l){l(p)}w()}function I(e,t,a){const s=[...p];const n=s.findIndex((t=>t.fileId===e));if(n!==-1){const e={...p[n]};e[t]=a;s.splice(n,1,e);m(s)}}return(0,s.Z)(u.StandardModal,{isOpen:true,onRequestClose:w},void 0,(0,s.Z)(u.StandardModal.Body,{renderFooter:(0,s.Z)(u.StandardModal.Footer,{actions:[(0,s.Z)(u.Button,{clickAction:x,isDisabled:p.length===0||y,type:"button"},"primary",k.__("Add Selected")),(0,s.Z)(u.TextButton,{clickAction:w,type:"button"},"secondary","Cancel")]}),renderHeader:(0,s.Z)(u.StandardModal.Header,{hasCloseButton:true,title:k.__("Add Files")})},void 0,(0,s.Z)(u.StandardModal.Constraint,{},void 0,(0,s.Z)("div",{className:f()(t.addFileModal)},void 0,(0,s.Z)("form",{className:f()(t.addFileForm)},void 0,(0,s.Z)("div",{className:f()(t.fileListModalSubheader)},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)(u.Select,{isClearable:g[0]!=="all",items:Z(a),onClear:()=>{v(["all"])},onSelect:e=>{v([e])},selectedValues:g,width:6})),(0,s.Z)("div",{className:f()(t.fileListCount)},void 0,k.__n("%s File Selected","%s Files Selected",p.length))),(0,s.Z)(T,{editFileProperty:I,filesEndpoint:h,handleFileSelection:S,handleToggleRequired:C,sectionId:g[0],sectionName:N(g[0],a),selectedFiles:p,tooltipScrollOffset:d},g[0]))))))}var A=a(17842);function F(e){return A.ajax.get(e)}var M=a(26570);const D=".js-FilesWrapper__files";let P=null;class O{static get className(){return"SharedFilesManager"}constructor(e){(0,n.Z)(this,"getFilesFromArray",(e=>this[e]));(0,n.Z)(this,"mergeFieldIntoArray",((e,t,a)=>{if(this[t].length){this[e]=(0,l.union)(this[e],Object.keys(this[t]).map((e=>this[t][e][a])))}}));this.sections=[];try{this.sections=JSON.parse(document.getElementById("FileSections").textContent)}catch(e){console.warn("File sections have not been loaded. If you want this to load by default, please include in view template.")}this.currentFiles=[];this.editFiles=[];this.modalFiles=[];this.changedFiles=[];this.filesEndPoint="/ajax/dialog/files/load_files.php";this.sectionEndpoint="/ajax/files/loadSections";this.excludeEsignatures=false;this.selectedSection="all";this.submitButton=null;this.theme="dark";this.modalCallBack=null;if(e&&e.length){this.populateFiles(e)}this._addListeners()}_addListeners(){const e=this;document.addEventListener("fileCard:remove",(function(t){e.currentFiles=e.currentFiles.filter((e=>e.fileId!==t.detail.fileId));e._pushToChangedFiles(t.detail.fileId)}),false);M(document).on("change",".js-fc-toggle-required",(function(){const{fileId:t}=this.dataset;const a=this.checked?"yes":"no";e._updateRequired(t,a,e.currentFiles)}))}_mergeFileData(e){let t=(0,l.cloneDeep)(this.modalFiles);e.forEach((e=>{this._addFileMeta(e,t)}));t=null;return e}_addFileMeta(e,t){e.meta={};if(t.length){const a=(0,l.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}_pushToChangedFiles(e){if(this.changedFiles.indexOf(e)===-1){this.changedFiles.push(e)}}_updateRequired(e,t,a){const s=(0,l.findIndex)(a,(function(t){return t.fileId==e}));const n=document.querySelector(`[data-file-id="${a[s].fileId}"]`);const i=a[s].id.replace(/[^-]+$/,t);a[s].id=i;a[s].required=t;n.id=i}_updateFilesInForm(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.modalFiles;M('input[name="file_ids[]"]').remove();this.currentFiles=(0,l.cloneDeep)(e);r.ZP.renderFileCards(D,this.currentFiles,"attachment",this.theme);M(".dot-ellipsis").dotdotdot({wrap:"letter"});window.BambooHR.Components.Tooltip.init()}addModalCallBack(e){if(typeof e==="function"){this.modalCallBack=e}}addCompanyFiles(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"dark";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=this.sectionEndpoint;this.excludeEsignatures=t;if(t){a+="?esignatures=false"}if(this.sections.length===0){const t=this;F(a).then((a=>{t.sections=a.data.data.sections.records;if(t.sections.length){t.openModal(e)}})).catch((()=>{window.setMessage("We weren't able to get some information for you. Perhaps a page refresh would help?","error")}));return}if(this.sections.length){this.openModal(e)}}openModal(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"dark";const t=this;this.theme=e;this.modalFiles=(0,l.cloneDeep)(this.currentFiles);const a="js-SharedFilesManagerMod";const n=(0,c.u0)(a);const i=window.scrollY;(0,d.s)((0,s.Z)(I,{filesEndpoint:this.filesEndPoint,initialSelections:this.modalFiles,modalCallback:this.modalCallBack,modalContainerId:a,sections:this.sections,tooltipScrollOffset:i,updateFilesInForm:e=>t._updateFilesInForm(e)}),n)}createTooltip(e){const t=e.querySelector("input");let a=M.__("Optional");let s=M.__("required");if(t===null||P){return null}if(t.checked){a=M.__("Required");s=M.__("optional")}P=BambooHR.Components.Tooltip.create(e,{className:"bhrTooltip--autoWidth",content:M.__("Click to make the signature %s.",s),delay:800,lead:M.__("Signature %s",a),placement:"top"}).show()}destroyTooltip(){if(P){P.destroy();P=null}}emptySelectedFiles(){this.currentFiles=[]}populateFiles(e){this.currentFiles=[];if(this._filesDataIsValid(e)){e=r.ZP.fileCardFromArray(e);this.currentFiles=(0,l.cloneDeep)(e);r.ZP.renderFileCards(D,e,"attachment")}this.resetCache()}_filesDataIsValid(e){if(!e||!e.length){return false}for(let t=0;t<e.length;t++){const a=e[t];if(!a){return false}}return true}resetCache(){this.editFiles=(0,l.cloneDeep)(this.currentFiles)}}let L=null;function R(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(L){return L}L=new O(e);return L}},4955:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var s=a(51889);var $=a(26570);class n extends s.Z{static get className(){return"OfferLetterFilesManager"}constructor(e){super(e);this.filesEndPoint="/applicant_tracking/offer_letter/load_files"}_addFileMeta(e,t){super._addFileMeta(e,t);e.meta.disabled=!e.attachableToOffer;if(e.meta.disabled){e.meta.disabledText=$.__("Signature templates need to have the employee as the first signer and can only have specific people as additional signers in order to be added to an offer.")}}}let i=null;function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(i){i.populateFiles(e);return i}i=new n(e);return i}},41633:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var s=a(51889);class n extends s.Z{static get className(){return"TrainingFilesManager"}constructor(e){super(e);this.filesEndPoint=`${this.filesEndPoint}?excludeEsignatures=true`;this.sectionEndpoint=`${this.sectionEndpoint}?esignatures=false`}}let i=null;function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(i){return i}i=new n(e);return i}},60658:(e,t,a)=>{"use strict";a.d(t,{K4:()=>c,Mr:()=>l,YB:()=>u,u0:()=>d});var s=a(98853);var n=a.n(s);var i=a(77512);var $=a(26570);let o;let r;function l(){if(o){if(!r&&window.ENV!=="prod"){console.warn("You closed the modal before setting the modal isOpen to false, this will cause issues with the intended functionality. You should handle the isOpen state of the modal before calling this function")}$(".ReactModal__Content",o).addClass("ReactModal__Content--before-close");$(".ReactModal__Overlay",o).addClass("ReactModal__Overlay--before-close");setTimeout((()=>{(0,s.unmountComponentAtNode)(o);document.body.removeChild(o);o=undefined}),250)}}function c(e){if(!o){o=d()}r=e.props.isOpen===false;(0,i.s)(e,o)}function d(e){const t=document.createElement("div");if(e)t.setAttribute("id",e);document.body.appendChild(t);return t}function u(e){const t=document.getElementById(e);if(t){(0,s.unmountComponentAtNode)(t);document.body.removeChild(t)}}},28046:(e,t,a)=>{"use strict";a.d(t,{N:()=>L,D:()=>P});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a(42579);function l(){const[e,t]=(0,n.useState)(true);const[a,s]=(0,n.useState)();(0,n.useEffect)((()=>{t(true);(0,r.Z)().then((e=>{s(e?.name||"");t(false)}))}),[]);return{companyName:a,loading:e}}var c=a(17842);var d=a.n(c);var u=a(51341);function h(e){return d().post(`/employees/inactiveTerminated/status/${e}`,{employeeStatus:"Active"})}function p(e){const t={...e,termDate:(0,u.Z)(e.termDate).format(),finalPayDate:(0,u.Z)(e.finalPayDate).format()};return d().post("/ajax/employees/termination.php",d().prepareData(t,d().prepareDataTypes.FORM_DATA))}async function m(e){const{data:t}=await d().get(`/employees/inactiveTerminated/${e}`);return{employee:t.employee,fields:t.fields,hasGusto:!!t.hasGusto,showFinalPayDate:!!t.showFinalPayDate}}function f(e,t){const[a,s]=(0,n.useState)(true);const[i,o]=(0,n.useState)();const[r,l]=(0,n.useState)();const[c,d]=(0,n.useState)(false);const[u,h]=(0,n.useState)(false);(0,n.useEffect)((()=>{if(t){s(true);m(e).then((e=>{let{hasGusto:t,employee:a,fields:n,showFinalPayDate:i}=e;o(a);l(n);d(t);h(i);s(false)}))}}),[e,t]);return{employee:i,fields:r,hasGusto:c,showFinalPayDate:u,loading:a}}var g=a(72806);var v=a(94228);var $=a(26570);const y=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{avatar:{display:"inline-flex",width:54,height:54}}}));function b(e){let{employee:t}=e;const a=y();return(0,s.Z)(o.Avatar,{alt:$.__("Image of %1 %2",t.preferredName,t.lastName),className:a.avatar,src:t.photoUrl})}var w=a(26570);const S=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{boxes:{alignItems:"flex-start",display:"flex",gap:t(2),justifyContent:"center",marginTop:t(2)},boxIcon:{marginTop:-1}}}));function C(e){let{companyName:t,employed:a,employee:n,onCancel:i,onChange:r,onNext:l,renderHeader:c}=e;const d=S();return(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:()=>l()},"next",w.__("Next")),(0,s.Z)(o.TextButton,{onClick:i},"cancel",w.__("Cancel"))]}),renderHeader:c,size:o.CardSize.MEDIUM},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{top:o.StandardModal.Constraint.Spacing.LARGE}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{icon:(0,s.Z)(b,{employee:n}),subtext:w.__("Either way, we should update some things to make sure your data is sparkling clean."),text:w.__("Is %1 %2 still employed by %3?",n.preferredName,n.lastName,t)}),(0,s.Z)(o.SelectableBoxGroup,{type:"radio"},void 0,(0,s.Z)("div",{className:d.boxes},void 0,(0,s.Z)(o.SelectableBox,{boxWidth:"300px",description:w.__("%1 is actively working here and being paid.",n.preferredName),icon:(0,s.Z)(g.Z,{}),inputId:"statusMismatchYes",isChecked:a===true,name:"isStillEmployed",onChange:()=>r(true),title:w.__("%1 Is Still Employed",n.preferredName),type:"radio",value:"yes"}),(0,s.Z)(o.SelectableBox,{boxWidth:"300px",description:w.__("%1 no longer works here, and is not currently on our payroll.",n.preferredName),icon:(0,s.Z)("span",{className:d.boxIcon},void 0,(0,s.Z)(v.Z,{})),inputId:"statusMismatchNo",isChecked:a===false,name:"isStillEmployed",onChange:()=>r(false),title:w.__("%1 Is Not Employed",n.preferredName),type:"radio",value:"no"})))))}var x=a(88604);var T=a(35134);var E=a(59592);var k=a(26570);const Z=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{benetracStatus:{gridColumn:"1 / -1"},comment:{gridColumn:"1 / -1"},effectiveDate:{gridColumn:"1 / -1"},fields:{display:"grid",gap:t(2),gridTemplateColumns:"min-content min-content 1fr"},finalPayDate:{gridColumn:"1 / -1"},runSpecialPayroll:{gridColumn:"1 / -2"},heading:{marginTop:t(3.5)},reason:{gridColumn:"2 / 3"},rehire:{gridColumn:"1 / -1"},type:{gridColumn:"1 / 2"}}}));function N(e){let{employee:t,fields:a,hasGusto:r,onCancel:l,onNext:c,onPrevious:d,renderHeader:u,showFinalPayDate:h}=e;const p=Z();const[m,f]=(0,n.useState)(false);const[g,v]=(0,n.useState)([]);const y=o.StandardModal.Constraint.Spacing.LARGE;const w=o.StandardModal.Constraint.Spacing.LARGE;const S=[{name:"employmentStatusComment",maxLength:255},{name:"rehire"},{name:"termDate",required:true},{name:"termReason"},{name:"termType",required:true}];if(a.benetracStatus){S.push({name:"benetracStatus",required:true})}if(h){S.push({name:"finalPayDate",required:true})}if(r){S.push({name:"runSpecialPayroll",defaultValue:"0"})}const{controlled:C,formState:{errors:N},fields:I,handleSubmit:A,setValue:F}=(0,o.useForm)(S);const M=()=>{(0,E.f)(k.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const D=e=>{c({id:t.id,...e})};return(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:A(D,M)},"next",k.__("Save")),(0,s.Z)(o.Button,{color:"secondary",onClick:()=>d(),variant:"outlined"},"previous",k.__("Previous")),(0,s.Z)(o.TextButton,{onClick:l},"cancel",k.__("Cancel"))]}),renderHeader:u,size:o.CardSize.MEDIUM},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{top:y,bottom:w}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,s.Z)(b,{employee:t}),subtext:k.__(`This applies even if %1 resigned voluntarily, and wasn't terminated for cause.`,t.preferredName),text:k.__("Okay! In that case %1 should have their employment ended in BambooHR.",t.preferredName)}),(0,s.Z)(o.Typography,{className:p.heading,color:"primary",variant:"h5"},void 0,k.__("Add End of Employment Info")),(0,s.Z)("div",{className:p.fields},void 0,C((e=>i().createElement(o.DatePicker,(0,x.Z)({},e,{className:p.effectiveDate,label:k.__("Effective Date"),status:N.termDate?"error":undefined}))),I.termDate),h?C((e=>i().createElement(o.DatePicker,(0,x.Z)({},e,{className:p.finalPayDate,label:k.__("Final Pay Date"),status:N.finalPayDate?"error":undefined}))),I.finalPayDate):null,C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.type,id:"endEmploymentType",items:a.termType.items,label:k.__("Type"),status:N.termType?"error":undefined,width:7}))),I.termType),C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.reason,id:"endEmploymentReason",items:[...a.termReason.items,...g],label:k.__("Reason"),onAdd:()=>{f(true);return Promise.resolve()},width:7}))),I.termReason),C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.rehire,id:"endEmploymentRehire",items:a.rehire.items,label:k.__("Eligible for Rehire"),width:5}))),I.rehire),a.benetracStatus?C((e=>i().createElement(o.SelectField,(0,x.Z)({},e,{className:p.benetracStatus,id:"benetracStatus",items:a.benetracStatus.items,label:k.__("BeneTrac Status"),status:N.benetracStatus?"error":undefined,width:7}))),I.benetracStatus):null,r?C((e=>i().createElement(o.RadioGroup,(0,x.Z)({},e,{className:p.runSpecialPayroll,items:[{label:k.__("Yes, I want to run a special termination payroll in order to pay the employee their last check on the spot."),value:"1"},{label:k.__(`No, the employee agrees to be paid the rest of their wages on the company's normal pay schedule.`),value:"0"}],label:k.__("Gusto")}))),I.runSpecialPayroll):null,C((e=>i().createElement(o.TextArea,(0,x.Z)({},e,{className:p.comment,label:k.__("Comment"),note:N.employmentStatusComment?k.__("Your comment needs to be less than 255 characters in length."):undefined,status:N.employmentStatusComment?"error":undefined,width:10}))),I.employmentStatusComment))),(0,s.Z)(T.T,{component:o.SheetModal,field:{label:k.__("Termination Reason Name"),id:a.termReason.fieldId},onCancel:()=>f(false),onSave:e=>{f(false);v((t=>[...t,e]));F("termReason",e.value)},open:m,title:k.__("Add Termination Reason")}))}var I=a(37194);var A=a(26570);const F=(0,o.makeStyles)((e=>{let{spacing:t}=e;return{heading:{marginTop:t(3.5)}}}));function M(e){let{employee:t,onCancel:a,onNext:n,onPrevious:i,renderHeader:r}=e;const l=F();const c=o.StandardModal.Constraint.Spacing.LARGE;const d=o.StandardModal.Constraint.Spacing.LARGE;return(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{onClick:n},"next",A.__("Save Status")),(0,s.Z)(o.Button,{color:"secondary",onClick:()=>i(),variant:"outlined"},"previous",A.__("Previous")),(0,s.Z)(o.TextButton,{onClick:a},"cancel",A.__("Cancel"))]}),renderHeader:r,size:o.CardSize.MEDIUM},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{top:c,bottom:d}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{hasSeparator:true,icon:(0,s.Z)(b,{employee:t}),subtext:(0,s.Z)(I.Message,{link:(0,I.ExternalLink)("mailto: support@bamboohr.com"),text:A._(`Soon, inactive employees who are employed will be limited in what they can do in BambooHR. We're hoping to help you get ahead of that. Please reach out to [support@bamboohr.com] with any questions.`)}),text:A.__("Great! In that case %1 should be set to Active.",t.preferredName)}),(0,s.Z)(o.Typography,{className:l.heading,color:"primary",variant:"h5"},void 0,A.__("Update Status")),(0,s.Z)(o.SelectField,{disabled:true,id:"statusMismatchStatus",items:[{text:A.__("Active"),value:"active"}],label:A.__("Status"),value:["active"],width:7})))}var D=a(26570);function P(e){let{employeeId:t,onCancel:a,onSave:i,open:r}=e;const[c,d]=(0,n.useState)(0);const[u,m]=(0,n.useState)(true);const[g,v]=(0,n.useState)(false);const{fields:y,employee:b,hasGusto:w,loading:S,showFinalPayDate:x}=f(t,r);const{companyName:T,loading:E}=l();(0,n.useEffect)((()=>{if(r){d(0);m(true);v(false)}}),[r]);const k=()=>[(0,s.Z)(C,{companyName:T,employed:u,employee:b,onCancel:a,onChange:e=>m(e),onNext:()=>d(1)},"step1"),u?(0,s.Z)(M,{employee:b,onCancel:a,onNext:async()=>{v(true);try{await h(b.id);setMessage(D.__("Got it. The status for %1 is updated.",b.preferredName),"success");i()}catch(e){setMessage(D.__("Oops. Something went wrong. Please try again."),"error");v(false)}},onPrevious:()=>d(0)},"updateStatusStep"):(0,s.Z)(N,{employee:b,fields:y,hasGusto:w,onCancel:a,onNext:async e=>{v(true);try{await p(e);setMessage(D.__(`Got it. %1's end of employment information has been updated.`,b.preferredName),"success");i()}catch(e){setMessage(D.__("Oops. Something went wrong. Please try again."),"error");v(false)}},onPrevious:()=>d(0),showFinalPayDate:x},"endEmploymentStep")];const Z=E||S;return(0,s.Z)(o.MultiStepModal,{currentStep:c,isLoading:Z,isOpen:r,isProcessing:g,onRequestClose:a,steps:!r||Z?[]:k(),title:b?D.__("Update %1 %2",b.preferredName,b.lastName):""})}var O=a(26570);function L(e){let{employee:t}=e;const[a,r]=(0,n.useState)(true);const[l,c]=(0,n.useState)(false);return i().createElement(i().Fragment,null,(0,s.Z)(o.SlidedownPortal,{action:(0,s.Z)(o.TextButton,{dark:true,onClick:()=>{r(false);c(true)},size:"small"},void 0,O.__("View and Fix ")),message:O.__(`%1 is an inactive employee, but isn't terminated. This could cause problems.`,t.preferredName),onDismiss:()=>r(false),show:a}),(0,s.Z)(P,{employeeId:t.id,onCancel:()=>c(false),onSave:()=>window.location.reload(),open:l}))}},87740:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u,a:()=>h});var s=a(89835);var n=a(23321);var i=a(17842);var o=a.n(i);function r(e){const t=new URLSearchParams(e).toString();return o().post("/inbox/details.php",t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function l(e){return o().post("/ajax/employee_comments.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function c(e){return o().get("/inbox/details.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}var d=a(57607);var $=a(26570);function u(e,t,a,n,i,c,u){let h=arguments.length>7&&arguments[7]!==undefined?arguments[7]:Function.prototype;window.BambooHR.Modal.setState({isLoading:true});o().get(`/time_off/requests/${e}/bypass`,{status:a}).then((e=>{if(e&&e.data){window.BambooHR.Modal.setState({alternativeAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:e.data.html}}),headerType:"text",headline:$.__("You'll be bypassing some approvers."),icon:a==="approve"?"fab-thumbs-up-18x18":"fab-thumbs-down-18x18",isLoading:false,isOpen:true,onOpen:()=>{$("textarea.autosize").autosize();$("#requestByPassForm span.truncate").each(((e,t)=>{if(t.offsetWidth<t.scrollWidth){const e=[];for(let a=0;a<t.childElementCount;a++){if(t.children[a].offsetLeft+12>t.offsetLeft+t.offsetWidth){e.push(t.children[a])}}if(e.length>0){$(this).next(".MsgApproverSmall__more").html(`+${e.length} more`)}}}))},primaryAction:()=>{const e={id:t,status:a,action:a,name:n,type:i,assigned:c,ajax:true,bypass:true};const s=(0,d.commentExistsInADenialModal)();const o=$("#requestByPassForm").serialize();window.BambooHR.Modal.setState({isProcessing:true},true);r(e).then((e=>{if(e.data.success||e.data.result){if(e.data.message&&u){window.setMessage(e.data.message,"success")}if(a==="deny"&&s){l(o)}h(e.data)}else if(e.data.error){window.setMessage(e.data.error,"error")}else{window.errorFallBack()}window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},primaryActionText:a==="approve"?$.__("Approve Anyway"):$.__("Deny Anyway"),title:$.__("Just Checking...")})}})).catch((e=>{setMessage(e.error,"error")}))}function h(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Function.prototype;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Function.prototype;const n={ajax:true,denial:true,id:e,name:t};const i=()=>{window.BambooHR.Modal.setState({isProcessing:true},true);const e=(0,d.commentExistsInADenialModal)();const t=$(".denialModal form").serialize();if(e){l(t).then((()=>{window.BambooHR.Modal.setState({isOpen:false});a()})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}};c(n).then((e=>{if(e.data.success){window.BambooHR.Modal.setState({alternativeActionText:$.__("No Thanks, I'm Done"),dangerousContent:e.data.html,icon:"fab-thumbs-down-54x54",onOpen:()=>{$(".ui-dialog-titlebar-close").hide();$("textarea.autosize").autosize();const e=$("textarea");e.on("keyup",(()=>{if($(e).val().length>0){window.BambooHR.Modal.setState({primaryAction:i},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}));$("#js-denialAction").attr("name","action")},isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false});s()},primaryActionText:e.data.save,primaryAction:null,title:e.data.title})}else{window.setMessage(e.error,"error")}})).catch(window.errorFallBack)}},25337:(e,t,a)=>{"use strict";a.d(t,{v:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(17145);var r=a(59155);var l=a.n(r);var c=a(31611);var $=a(26570);function d(e){const{endString:t,note:a,isViewOnly:n,projectName:i,renderProjectAndTask:l,startString:d,taskName:u,type:h}=e;const p=(0,c.y)({isViewOnly:n});let m="";if(i&&u){m=h==="hour"?`${i}  ${u}`:$.__("on %1",`${i}  ${u}`)}else if(i){m=h==="hour"?i:$.__("on %1",`${i}`)}const f=h==="hour"?null:`${d} - ${t}`;return(0,s.Z)("div",{className:p.wrapper},void 0,l&&(0,s.Z)("span",{className:p.projectTaskNote},void 0,m),a&&(0,s.Z)("span",{className:p.noteIcon,id:"entry-note-icon"},void 0,n&&(0,s.Z)(o.Z,{settings:{title:f,content:a,position:"right"}},void 0,(0,s.Z)(r.Icon,{name:"fab-page-9x11"})),!n&&(0,s.Z)(r.Icon,{name:"fab-page-9x11"})))}},73013:(e,t,a)=>{"use strict";a.d(t,{x:()=>p});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(17863);var c=a(25337);var d=a(24956);var u=a(71141);const h=(0,u.isEnabled)("ttLocationUpdates");function p(e){const{canEdit:t,hasLightBackground:a,hourEntries:n,isViewOnly:r,onEditClick:u,renderProjectAndTask:p,type:m}=e;const f=(0,d.y)({canEdit:t,isViewOnly:r,ttLocationUpdatesEnabled:h});return n.map((e=>{const{hours:a,id:n,note:d,projectName:g,taskName:v}=e;const y=g||v||d;const b=r&&!h?null:()=>u(n,"edit");return(0,s.Z)("div",{className:f.root,"data-bi-id":"time-tracking-hour-entry",onClick:b},n,(0,s.Z)("span",{className:f.hours},void 0,(0,l.mr)(a)),y&&i().createElement(i().Fragment,null,(g||v)&&(0,s.Z)("span",{className:f.arrow},void 0,(0,s.Z)(o.Icon,{name:"fab-arrow-right-6x5"})),(0,s.Z)(c.v,{isViewOnly:r,note:d,projectName:g,renderProjectAndTask:p,taskName:v,type:m})),t&&(0,s.Z)("span",{className:f.editIcon,id:"entry-edit-icon"},void 0,(0,s.Z)(o.Icon,{name:"fab-pencil-12x12"})))}))}},78922:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(89835);var n=a(23321);var i=a(21198);var o=a(59155);var r=a(17145);var $=a(26570);function l(e){return e?$.__("Update Project or Note"):$.__("Add Project or Note")}function c(e){return e?"fab-page-13x16":"fab-page-plus-13x16"}function d(e){const{customCSS:t,disabled:a,hasNote:n,onNoteIconClick:d}=e;const u={TTnoteIconWrapper:true};const h=(0,i.classNameFromObject)({...u,...t});const p=(0,i.classNameFromObject)({TTnoteIcon:true,"TTnoteIcon--add":!n,"TTnoteIcon--hasNote":n,"TTnoteIcon--disabled":a});const m=l(n);const f=c(n);const g=a?null:d;return(0,s.Z)("div",{className:h,onClick:g},void 0,(0,s.Z)(r.Z,{settings:{content:m,suppressed:a}},void 0,(0,s.Z)("div",{className:p},void 0,(0,s.Z)(o.Icon,{name:f}))))}},16495:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(21198);var r=a.n(o);var l=a(51341);var c=a(59155);var d=a.n(c);var u=a(71141);var h=a(68003);var p=a(17863);var m=a(25337);var $=a(26570);const f=(0,u.isEnabled)("timeTrackingGeolocation");function g(e){const{clockEntries:t,renderProjectAndTask:a,canEditEntries:n,currentEntryClick:i,elapsedTimeToday:r,isForgotClockDay:d,isViewOnly:u,onEditClick:g,hasLightBackground:v,type:y}=e;return t.map((e=>{const{start:t,end:b,timezone:w,hours:S,id:C,note:x,projectName:T,taskName:E}=e;const{clockInLatitude:k,clockInLongitude:Z,clockOutLatitude:N,clockOutLongitude:I}=e;const A=!!(k&&Z||N&&I);const F=typeof g==="function"?g:Function.prototype;let M=null;if(n&&!d){M=b&&C!==null?()=>F(C,"edit",w):i}const D=t?l.Z.tz(t,w).format(h.T_):"12:00 AM";const P=b?l.Z.tz(b,w).format(h.T_):$.__("Now");const O=b?(0,p.mr)(S):(0,p.mr)(r);const L=(0,o.classNameFromObject)({TimeEntry__arrowIcon:true,"TimeEntry__arrowIcon--forgotClockOut":d});return(0,s.Z)("div",{"data-bi-id":"time-tracking-time-entry",className:(0,o.classNameFromObject)({TimeEntry:true,"TimeEntry--active":!b,"TimeEntry--showEditIcon":n&&!d,"TimeEntry--viewable":n&&!d,"TimeEntry--light":v,"TimeEntry--forgotClockOut":d}),onClick:M},C,(0,s.Z)("span",{className:"TimeEntry__start"},void 0,D),"-",(0,s.Z)("span",{className:"TimeEntry__end"},void 0,P),(0,s.Z)("span",{className:L},void 0,(0,s.Z)(c.Icon,{name:"fab-arrow-right-6x5"})),(0,s.Z)("span",{className:"TimeEntry__total"},void 0,O),(0,s.Z)(m.v,{endString:P,isViewOnly:u,note:x,projectName:T,renderProjectAndTask:a,startString:D,taskName:E,type:y}),f&&A&&(0,s.Z)("span",{className:"TimeEntry__locationIcon"},void 0,(0,s.Z)(c.Icon,{name:"fab-location-9x12"})),n&&!d&&(0,s.Z)("span",{className:"TimeEntry__editIcon"},void 0,(0,s.Z)(c.Icon,{name:"fab-pencil-12x12"})))}))}},2224:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(21198);var r=a.n(o);function l(e){const{backgroundColor:t,fillColor:a}=e;const n=(0,o.classNameFromObject)({TimeSpinner:true,"TimeSpinner--orange":a==="orange"});const i=(0,o.classNameFromObject)({TimeSpinner__fill:true,"TimeSpinner__fill--orange":a==="orange"});return(0,s.Z)("div",{className:n},void 0,(0,s.Z)("div",{className:i,style:{color:t}}))}},42006:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Ct});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a(13296);var c=a(39454);var d=a(71141);var u=a(17309);var h=a(66327);var p=a(17863);var m=a(68003);var f=a(45548);var g=a(88604);const{Provider:v,Consumer:y}=(0,i.createContext)();const b=w(y);function w(e){return function t(a,n){return function t(i){return(0,s.Z)(e,{},void 0,(e=>o().createElement(n,(0,g.Z)({},(0,r.pick)(e,a),i),i.children)))}}}var S=a(9932);var C=a(59155);var x=a(97342);var T=a(37194);var E=a(21198);var k=a(77512);var Z=a(82543);var N=a.n(Z);var I=a(17842);var A=a.n(I);var F=a(98675);var M=a(17145);var D=a(393);var $=a(26570);function P(e){return e.map((e=>{const{detailType:t,from:a,to:n}=e;switch(t){case"clockedIn":{return $.__("Clocked in")}case"clockedInProject":{return(0,s.Z)(T.Message,{params:[n],text:$._("Clocked in to **{1}**")})}case"clockInUpdated":{return(0,s.Z)(T.Message,{params:[a,n],text:$._("Clock in updated from **{1}** to **{2}**")})}case"clockedOut":{return $.__("Clocked out")}case"projectSet":{return(0,s.Z)(T.Message,{params:[n],text:$._("Project set to **{1}**")})}case"projectUpdated":{return(0,s.Z)(T.Message,{params:[n],text:$._("Project updated to **{1}**")})}case"projectRemoved":{return(0,s.Z)(T.Message,{params:[a],text:$._("Removed project **{1}**")})}case"timeEntryAdded":{return(0,s.Z)(T.Message,{params:[n],text:$._("Time entry added for **{1}**")})}case"timeEntryUpdated":{return(0,s.Z)(T.Message,{params:[a,n],text:$._("Time entry updated from **{1}** to **{2}**")})}case"timeEntryDeleted":{return(0,s.Z)(T.Message,{params:[a],text:$._("Deleted time entry: **{1}**")})}case"dailyTotalAdded":{return(0,s.Z)(T.Message,{params:[n],text:$._("Daily total added for **{1}**")})}case"dailyTotalUpdated":{return(0,s.Z)(T.Message,{params:[a,n],text:$._("Daily total updated from **{1}** to **{2}**")})}case"dailyTotalDeleted":{return(0,s.Z)(T.Message,{params:[a],text:$._("Deleted daily total: **{1}**")})}case"noteAdded":{return $.__("Note added")}case"noteUpdated":{return $.__("Note updated")}case"noteRemoved":{return $.__("Note Removed")}case"timesheetSentForApproval":{return $.__("Timesheet sent for approval")}default:{return JSON.stringify(e)}}}))}var O=a(26570);const L={added:"fab-circle-plus-16x16",edited:"fab-pencil-16x16",clockedOut:"fab-clock-up-16x16",clockedIn:"fab-clock-down-16x16",deleted:"fab-trash-can-14x16",timesheetSentForApproval:"fab-paper-airplane-16x16"};function R(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e.map((e=>{let{date:t,historyEventCount:a}=e;const s=N()(t,"YYYY-MM-DD").format("dddd, MMM D");const n=`${s} (${O.__n("%1$s event","%1$s events",a)})`;return{text:n,value:t}}))}function B(e){const{days:t,selectedDate:a,setSelectedDate:n}=e;const{preferredName:o,lastName:r,photoURL:l,jobTitle:c}=window.Employee;return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)(D.Z,{imageAlt:"Image of employee",imageSrc:l,subTitle:c,title:`${o} ${r}`}),(0,s.Z)("div",{className:"ChangeHistoryModal__select"},void 0,(0,s.Z)(C.Select,{isClearable:false,items:R(t),onSelect:e=>n(e),selectedValues:[a],size:"large",width:8})),(0,s.Z)("div",{className:"ChangeHistoryModal__separator"}))}function j(e){const{historyData:t,timeEarned:a}=e;const n=t.changeHistoryEvents?.length??0;const i=N()(t.date,"YYYY-MM-DD");return(0,s.Z)("div",{className:"ChangeHistoryModal__content"},void 0,n>0&&(0,s.Z)("div",{className:"History"},void 0,(0,s.Z)("div",{className:"History__block"},void 0,(0,s.Z)("div",{className:"History__icon"},void 0,(0,s.Z)(C.Icon,{name:"fab-calendar-alt-16x16"})),(0,s.Z)("div",{},void 0,(0,s.Z)("span",{className:"History__header"},void 0,O.__("Timesheet history for %1$s",i.format("dddd, MMM D"))),(0,s.Z)("div",{className:"History__details"},void 0,O.__n("%2$s total time  %1$s event","%2$s total time  %1$s events",n,a)))),t.changeHistoryEvents.map((e=>{const{clientType:t}=e;const a=t==="android"||t==="ios";const n=N().tz(e.dateTime,e.timezone);const o=i.isSame(n,"day");let r=n.format(m.T_);if(!o){r=O.__("%1$s on %2$s",n.format(m.T_),n.format("dddd, MMM D"),{note:'e.g. "1:11 PM on Tuesday, Sep 15"'})}return(0,s.Z)("div",{className:"History__block"},e.eventType+e.dateTime,(0,s.Z)("div",{className:"History__icon History__icon--outlined"},void 0,(0,s.Z)(C.Icon,{name:L[e.eventType]??"fab-circle-plus-16x16"})),(0,s.Z)("div",{},void 0,P(e.details).map(((e,t)=>(0,s.Z)("div",{},t,e))),e.note&&(0,s.Z)("div",{className:"History__note"},void 0,e.note),(0,s.Z)("div",{className:"History__meta"},void 0,e.user),(0,s.Z)("div",{className:"History__meta"},void 0,r,a&&H(t))))}))),!n>0&&(0,s.Z)(S.Z,{className:"ChangeHistoryModal__blankState",icon:"fab-clock-reverse-72x66",title:O.__(`There wasn't any time tracking activity on this day`)}))}function H(e){return(0,s.Z)("span",{className:"ChangeHistoryModal__mobileIcon"},void 0,(0,s.Z)(M.Z,{settings:{content:{ios:O.__("Via iOS App"),android:O.__("Via Android App")}[e]}},void 0,(0,s.Z)(C.Icon,{name:"fab-mobile-phone-9x12"})))}function q(e){const{days:t,initialDate:a=t[0]?.date}=e;const[n,o]=(0,i.useState)(true);const[r,l]=(0,i.useState)(false);const[c,d]=(0,i.useState)(a);const[u,h]=(0,i.useState)({});const m=(0,p.mr)(t.find((e=>e.date===c))?.hours??0);const f=(0,s.Z)(B,{days:t,selectedDate:c,setSelectedDate:d});const g=(0,s.Z)(j,{historyData:u,timeEarned:m});(0,i.useEffect)((()=>{window.setTimeout((()=>{l(true)}))}),[]);(0,i.useEffect)((()=>{o(true);A().get(`/time_tracking/employee/${window.Employee.id}/change_history`,{date:c}).then((e=>{let{data:t}=e;h(t)})).catch((()=>{window.errorFallBack()})).finally((()=>{o(false)}))}),[c]);return(0,s.Z)(F.u,{alternativeActionText:null,content:g,contentHasPadding:false,header:f,isLoading:n,isOpen:r,onClose:()=>l(false),primaryAction:()=>l(false),primaryActionText:O.__("Close"),title:O.__("Timesheet Change History"),type:"medium"})}function W(e,t){(0,k.s)((0,s.Z)(q,{days:e,initialDate:t}),document.createElement("div"))}var U=a(26570);var moment=a(82543);function z(e){const{employeeTimesheets:t,focusedTimesheet:{id:a},latestTimesheetId:n,latestPreviousTimesheetId:i}=e;const o=t.map((e=>{let t;const a=Number(e.id);if(n===a){t=U.__("This Pay Period")}else if(i===a){t=U.__("Previous Pay Period")}else{t=`${moment(e.start).format()}  ${moment(e.end).format()}`}return{text:t,value:a}}));function r(e){window.location=G(n,e)}return(0,s.Z)("div",{className:"TimesheetHeader__dropdown"},void 0,(0,s.Z)("div",{className:"TimesheetHeader__dropdownLabel"},void 0,U.__("Show")),(0,s.Z)("div",{className:"TimesheetHeader__period"},void 0,(0,s.Z)(C.Select,{isClearable:false,items:o,onChange:r,selectedValues:[a],showSearch:"never",size:"small",width:"7"})))}var Y=b(["employeeTimesheets","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId"],z);function G(e,t){const a=e===t[0]?"":`&et_id=${t[0]}`;return`/employees/timesheet/?id=${window.Employee.id}${a}`}var V=a(26570);const K=[{key:"showWeekends",text:V.__("Weekends")},{key:"showDailyGraph",text:V.__("Daily Graph")},{key:"showPayPeriodTotal",text:V.__("Pay Period Total")}];function X(e){const{timesheetOptions:t,changeViewOption:a}=e;if(!t||!a){return null}const n=[{text:V.__("Show"),type:"group",items:[{isDisabled:true,text:"",value:"",render:()=>(0,s.Z)("div",{className:"fab-CheckboxGroup"},void 0,K.map((e=>{const n=`timesheetOptionDropdown-${e.key}`;return(0,s.Z)("div",{className:"fab-Checkbox"},e.key,(0,s.Z)("input",{checked:t[e.key],className:"fab-Checkbox__input",id:n,onChange:()=>a(e.key,!t[e.key]),readOnly:true,type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:n},void 0,e.text))})))}]}];return(0,s.Z)("div",{className:"TimesheetOptionDropdown"},void 0,(0,s.Z)(C.Dropdown,{buttonSettings:{icon:"fab-gear-14x13",secondary:true,outline:true,size:"small"},items:n,renderOptionContent:e=>e.render?e.render():e.text}))}var J=a(26570);const Q=(0,d.isEnabled)("timesheetChange");const ee=(0,d.isEnabled)("PRINT_TIMESHEETS");function te(e){const{focusedTimesheet:t,showHeader:a,isOwnTimesheet:n,isApprovalShowing:r,isLatestTimesheet:l,timesheetOptions:c,changeViewOption:d,employeeTimesheets:u,getFocusedDays:h,getToday:m,isViewOnly:f}=e;const g=n&&!r;const v={timesheetOptions:c,changeViewOption:d};const y=l?m().date:undefined;return(0,s.Z)(i.Fragment,{},void 0,a&&(0,s.Z)("div",{className:"TimesheetHeader"},void 0,(0,s.Z)("div",{className:"TimesheetHeader__content"},void 0,(0,s.Z)("div",{className:"TimesheetHeader__icon"},void 0,(0,s.Z)(C.Icon,{brand:"true",name:"fab-timesheet-29x22"})),(0,s.Z)("div",{className:"TimesheetHeader__header"},void 0,(0,s.Z)("h3",{},void 0,J.__("Timesheet"))),(0,s.Z)("div",{className:"TimesheetHeader__controls"},void 0,u.length>1&&(0,s.Z)(Y,{}),g&&o().createElement(X,v),ee&&(0,s.Z)(C.Tooltip,{content:J.__("Download PDF")},void 0,(0,s.Z)(C.IconButton,{"data-bi-id":"time-tracking-print-timesheet-button",color:"secondary",icon:(0,s.Z)(x.Z,{}),onClick:()=>window.open(`/timesheet/${t.id}/print`,"_blank"),target:"_blank",type:"button",variant:"outlined"}))))),Q&&!f&&(0,s.Z)("div",{className:"TimesheetSecondHeader"},void 0,(0,s.Z)("div",{className:"TimesheetSecondHeader__dates"},void 0,(0,s.Z)("span",{className:"TimesheetSecondHeader__datesIcon"},void 0,(0,s.Z)(C.Icon,{brand:"true",name:"fab-stopwatch-20x24"})),(0,s.Z)("h4",{},void 0,(0,p.Rs)(t.start,t.end))),(0,s.Z)("div",{className:"TimesheetSecondHeader__controls"},void 0,(0,s.Z)(C.TextButton,{clickAction:()=>W(h(),y),iconBefore:"fab-clock-reverse-16x15",muted:true,size:"small",text:J.__("Change History"),type:"button"}))),t.workWeekStartsOn?.changed&&(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetHeader__workWeekWarning:true,"TimesheetHeader__workWeekWarning--hiddenHeader":!a})},void 0,(0,s.Z)("span",{className:"TimesheetHeader__workWeekWarning__icon"},void 0,!Q&&(0,s.Z)(C.Icon,{name:"fab-triangle-exclamation-20x20"}),Q&&(0,s.Z)(C.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,s.Z)("p",{className:"TimesheetHeader__workWeekWarning__text"},void 0,(0,s.Z)(T.Message,{params:[t.workWeekStartsOn.count],text:J._n("The work week start day has changed. There is {1} day where overtime cannot be calculated.","The work week start day has changed. There are {1} days where overtime cannot be calculated.",t.workWeekStartsOn.count)}))))}var ae=b(["isOwnTimesheet","isApprovalShowing","isLatestTimesheet","employeeTimesheets","focusedTimesheet","timesheetOptions","changeViewOption","showHeader","isViewOnly","getFocusedDays","getToday"],te);function se(){return(0,s.Z)("button",{type:"submit",style:{width:0,height:0,overflow:"hidden",padding:0,border:"none",position:"absolute"}})}function ne(e,t){const a=t.length<=2&&t.every((e=>{const t=e.moment.day();return t===0||t===6}));if(!t||!e&&a){return false}return!!t.length}function ie(e,t,a){let s=null;let n=null;let i=null;if(e){s=t[0].isToday;n=t[t.length-1].isToday;i=a.length&&a[0].isToday}else{const e=t.filter((e=>{let{moment}=e;const t=moment.day();return t!==0&&t!==6}));s=e.length?e[0].isToday:false;n=e.length?e[e.length-1].isToday:false;const o=a.filter((e=>{let{moment}=e;const t=moment.day();return t!==0&&t!==6}));i=o.length?o[0].isToday:false}return{previousMoveUp:s,nextMoveDown:n,nextMoveUp:i}}var oe=a(26570);function re(e){const{side:t,showWeekends:a,previousPeriodEntries:n,nextPeriodEntries:i,nudges:o}=e;if(!ne(a,t==="top"?n:i)){return null}const r=t==="top"?oe.__("Pay Period Begins"):oe.__("Pay Period Ends");const l=(0,E.classNameFromObject)({[`TimesheetSeparator TimesheetSeparator--${t}`]:true,"TimesheetSeparator--up":t==="top"?o.previousMoveUp:o.nextMoveUp,"TimesheetSeparator--down":t==="top"?false:o.nextMoveDown});return(0,s.Z)("div",{className:l,"data-text":r})}var le=a(18669);var ce=a(51341);var de=a(1895);var ue=a(88306);var he=a(62705);var pe=a(16495);var me=a(73013);var fe=a(78922);var ge=a(52326);var ve=a(26570);let _e=null;let ye=null;let be=null;const we=(0,d.isEnabled)("timesheetChange");class Se extends i.Component{static get className(){return"Slat"}constructor(e){super(e);(0,n.Z)(this,"_getIsForgotClockDay",(()=>{const{forgotClockOut:e,clock:t,date:a}=this.props;return e&&t&&t.latest!==null?(0,ce.Z)(a).isSameOrAfter((0,ce.Z)(t.latest.start).startOf("day")):false}));(0,n.Z)(this,"_expandEntriesList",(()=>{this.setState({isExpanded:true});ve(this.collapseButtonRef).fadeIn(200);ve(this.clockEntriesRef).slideDown(200)}));(0,n.Z)(this,"_collapseEntriesList",(()=>{this.setState({isExpanded:false});ve(this.collapseButtonRef).fadeOut(200);ve(this.clockEntriesRef).slideUp(200)}));(0,n.Z)(this,"_handleShowChangeHistory",(()=>{const{date:e,getFocusedDays:t}=this.props;W(t(),e)}));(0,n.Z)(this,"_handleCollapseButtonClick",(e=>{e.preventDefault();this._collapseEntriesList()}));(0,n.Z)(this,"_launchAddEditModal",((e,t,a)=>{const{canEdit:s,isViewOnly:n,changeViewOption:i,clock:o,clockEntries:r,date:l,hourEntries:c,employee:d,hours:u,projectsWithTasks:h,timesheetOptions:p,type:m}=this.props;const f={canEdit:s&&!n,openAsSheet:n,clockedIn:o&&o.clockedIn,clockEntries:r,currentEntryId:e,date:l,dayTotal:u,employeeId:d.id,hourEntries:c,onHintDismiss:i,projectsWithTasks:h,showTimeEntryHint:p.showTimeEntryHint,timesheetType:m,timezone:a,type:t};(0,he.Z)(f).then(this.props.refreshTimesheet).then((()=>{if(!this.props.isToday&&this.props.clockEntries.length){this._expandEntriesList()}}))}));(0,n.Z)(this,"_onInputFocus",(()=>{document.dispatchEvent(new CustomEvent("SiteFooter:open"));if(this.props.hours!==null&&this.props.userEdit===null){let e=(0,r.round)(this.props.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){e=String(e).replace(".",",")}this.props.editSingleEntrySlat(this.props.date,e)}if(be!==null){clearTimeout(be);be=null}be=setTimeout((()=>{be=null;const e=ve(this.inputRef);e.select().one("mouseup",(t=>{t.preventDefault();e.select()}))}));if(ye){ye.setAnchor(this.inputRef);if(this.state.validInput){ye.show()}}if(!this.state.validInput){(0,de.n)(this._errorMessage,this.inputRef);_e.show()}}));(0,n.Z)(this,"_onInputBlur",(()=>{if(ye){ye.hide()}_e.hide()}));(0,n.Z)(this,"_onInputChange",(()=>{const{value:e}=this.inputRef;const t=(0,p.TD)(e);const a=t!==p.ch&&t!==p.w9;if(a){this.setState({validInput:true});if(ye){ye.show()}_e.hide()}else{this.setState({validInput:false});this._errorMessage=t===p.w9?m.m6:m.RG;if(ye){ye.hide()}(0,de.n)(this._errorMessage,this.inputRef);_e.show()}this.props.editSingleEntrySlat(this.props.date,e)}));(0,n.Z)(this,"_handleNoteIconClick",(()=>{const{canEdit:e,date:t,employee:a,hours:s,note:n,refreshTimesheet:i,isViewOnly:o,projectId:r,projectName:l,projectsWithTasks:c,taskId:d,taskName:u}=this.props;const h={projectId:r,projectName:l,taskId:d,taskName:u};const p={canEdit:e,employeeId:a.id,note:n,timezone:a.timezone,today:ce.Z.tz(t,a.timezone),totalTime:s,type:"single",isViewOnly:o,projectData:h,projectsWithTasks:c};(0,ge.Z)(p).then(i)}));(0,n.Z)(this,"_handleCurrentEntryClick",(()=>{const{canEdit:e,employee:t,clock:a,refreshTimesheet:s,isViewOnly:n,projectsWithTasks:i}=this.props;const o={projectId:a.latest.projectId,projectName:a.latest.projectName,taskId:a.latest.taskId,taskName:a.latest.taskName};const r={canEdit:e,clock:a,employeeId:t.id,isViewOnly:n,note:a.latest.note,projectData:o,projectsWithTasks:i,timezone:a.latest.timezone,today:ce.Z.tz(a.latest.start,a.latest.timezone),type:"clock"};(0,ge.Z)(r).then(s)}));this.isMultipleEntryUI=e.type==="multiple"||e.type==="hour";this.state={validInput:true,isExpanded:false,isForgotClockDay:this._getIsForgotClockDay()};if(e.type==="single"){if(!_e){_e=(0,de.Z)()}if(e.timesheetOptions.showTimeEntryHint&&!ye){ye=(0,ue.Z)();ye.onClose((()=>{ye.destroy();ye=null;e.changeViewOption("showTimeEntryHint",false)}))}}}componentDidUpdate(e,t){if(e.userEdit!==null&&this.props.userEdit===null){this.inputRef.blur();this.setState({validInput:true})}if(e.clockEntries.length&&!this.props.clockEntries.length){this._collapseEntriesList()}const a=this._getIsForgotClockDay();if(t.isForgotClockDay!==a){this.setState({isForgotClockDay:a})}}_renderOvertimeHours(){const e=this.props.overtimeSummary;const t=(0,E.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--overtimePush":this.isMultipleEntryUI});const a=this.props.overtimeSummary.length>1;return e.map((e=>(0,s.Z)("div",{className:t},e.multiplier,(0,s.Z)("span",{className:"TimesheetSlat__overtimeIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-stopwatch-alert-12x12"})),(0,s.Z)("div",{className:"TimesheetSlat__overtimeWarning"},void 0,ve.__("%1$s Overtime",(0,p.mr)(e.hours,true))," ",a&&`(${e.multiplier}x)`))))}_renderTimeOffInfoItems(){const{timeOff:e,type:t}=this.props;return e.map(((e,t)=>{const a=e.icon?m.Mj[e.icon]:"fab-briefcase-clock-16x12";const n=e.unit==="hours"?ve.__("hours"):ve.__("days");const i=(0,E.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});return(0,s.Z)("div",{className:i},t,(0,s.Z)("span",{className:"TimesheetSlat__infoIcon"},void 0,(0,s.Z)(C.Icon,{name:a})),e.amount," ",n," ",e.type)}))}_renderHolidayInfoItems(){return this.props.holidays.map(((e,t)=>{const a=(0,le.VR)((0,le.wG)(e.multiplier));const n=(0,E.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});let i=`${e.name} ${e.multiplier?`(${ve.__("pays")} ${a}x)`:""}`;if(e.paidHours>0){i=(0,p.Rr)(e)}return(0,s.Z)("div",{className:n},t,(0,s.Z)("span",{className:"TimesheetSlat__infoIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-fireworks-16x16"})),i)}))}_renderClockEntries(){const{clockEntries:e,canEdit:t,clock:a,isToday:n,forgotClockOut:i,isViewOnly:r,type:l}=this.props;const{isForgotClockDay:c}=this.state;return!!e.length&&o().createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:n?"":"none"}},(0,s.Z)("div",{className:"TimesheetSlat__contentDivider"}),(0,pe.Z)({canEditEntries:t,clockEntries:e,elapsedTimeToday:a?a.earned:0,hasLightBackground:n,onEditClick:this._launchAddEditModal,forgotClockOut:i,isForgotClockDay:c,currentEntryClick:this._handleCurrentEntryClick,isViewOnly:r,renderProjectAndTask:true,type:l}))}_renderHourEntries(){const{hourEntries:e,canEdit:t,isToday:a,isViewOnly:n,type:i}=this.props;return!!e?.length&&o().createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:a?"":"none"}},(0,s.Z)("div",{className:"TimesheetSlat__contentDivider"}),(0,s.Z)(me.x,{canEdit:t,hasLightBackground:a,hourEntries:e,isViewOnly:n,onEditClick:this._launchAddEditModal,renderProjectAndTask:true,type:i}))}_renderProjectTaskText(){const{canEdit:e,isToday:t,isViewOnly:a,note:n,projectName:i,taskName:o}=this.props;const r=(0,p.Vh)(i,o);return(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSlat__projectTaskTextWrapper:true,"TimesheetSlat__projectTaskTextWrapper--today":t})},void 0,(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSlat__projectTaskText:true,"TimesheetSlat__projectTaskText--editable":!a,"TimesheetSlat__projectTaskText--expanded":a}),onClick:!a?this._handleNoteIconClick:null},void 0,(0,s.Z)("div",{},void 0,r),(0,s.Z)("div",{className:(0,E.classNameFromObject)({"TimesheetSlat__projectTaskText--note":true,"TimesheetSlat__projectTaskText--note--expanded":a})},void 0,n),e&&(0,s.Z)("span",{className:"TimesheetSlat__projectTaskText__editIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-pencil-12x12"}))))}_renderSingleEntryUi(){const{canEdit:e,hours:t,isToday:a,note:n,slatDisabled:r,isViewOnly:l,projectName:c}=this.props;const d=(0,E.classNameFromObject)({"TimesheetSlat__input fab-TextInput fab-TextInput--biggie":true,"TimesheetSlat__input--disabled":!this.props.canEdit,"fab-TextInput--error":!this.state.validInput});const u={TimesheetSlat__noteIconWrapper:true,"TimesheetSlat__noteIconWrapper--today":a&&t!==null,"TimesheetSlat__noteIconWrapper--hasNote":n,"TimesheetSlat__noteIconWrapper--disabled":r,"TimesheetSlat__noteIconWrapper--hasHours":t!==null&&e};const h=this.props.userEdit===null?(0,p.mr)(this.props.hours):this.props.userEdit;return(0,s.Z)(i.Fragment,{},void 0,l&&(0,s.Z)("div",{className:"TimesheetSlat__viewOnlyHours"},void 0,h?h:(0,p.mr)(0)),!l&&(0,s.Z)(i.Fragment,{},void 0,o().createElement("input",{className:d,ref:e=>this.inputRef=e,value:h,onFocus:this._onInputFocus,onBlur:this._onInputBlur,onChange:this._onInputChange,disabled:!this.props.canEdit}),!!n===false&&!c&&(0,s.Z)(fe.Z,{customCSS:u,hasNote:!!n,onNoteIconClick:this._handleNoteIconClick})),(0,s.Z)("div",{className:"TimesheetSlat__extraInfo"},void 0,this._renderOvertimeHours(),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()))}_renderFirstAndLast(){const e=this.props.clockEntries.length;const t=!!e;const a=!!this.props.clock;const n=a&&this.props.clock.clockedIn;const i=ve.__("Now");let o=this.props.clockEntries[0];let r=this.props.clockEntries[e-1];let l="";if((!this.props.isToday||!a)&&!t){return null}if(!this.props.isToday&&t){o=ce.Z.tz(o.start,o.timezone).format(m.T_);r=ce.Z.tz(r.end,r.timezone).format(m.T_);l=`${o} - ${r}`}if(this.props.isToday&&!t&&a){l=this.props.serverTime.format(m.T_)}if(this.props.isToday&&!n&&t){o=ce.Z.tz(o.start,o.timezone).format(m.T_);r=ce.Z.tz(r.end,r.timezone).format(m.T_);l=`${o}  ${r}`}if(this.props.isToday&&n){o=ce.Z.tz(o.start,o.timezone).format(m.T_);r=i;l=`${o} - ${r}`}const c=(0,E.classNameFromObject)({TimesheetSlat__firstAndLast:true,"TimesheetSlat__firstAndLast--forgotClockOut":this.props.forgotClockOut&&this.state.isForgotClockDay});return(0,s.Z)("div",{className:c},void 0,l,t&&(0,s.Z)("span",{className:"TimesheetSlat__entriesCount"},void 0," (",ve.__n("%1$s Entry","%1$s Entries",e,{note:"number of entries"}),")"))}_renderMultipleEntryUi(){const{canEdit:e,clock:t,employee:a,forgotClockOut:n,hasMidnightEntry:r,holidays:l,hours:c,isToday:d,isFuture:u,slatDisabled:h,timeOff:m,type:f,historyEventCount:g,isViewOnly:v}=this.props;const{isForgotClockDay:y}=this.state;const b=t&&t.clockedIn;const w=(0,E.classNameFromObject)({TimesheetSlat__dayTotal:true,"TimesheetSlat__dayTotal--active":d&&b&&!n,"TimesheetSlat__dayTotal--forgotClockOut":n&&y});const S=!!m.length||!!l.length;const x=d||u;const T=f==="single"||b&&x||!e||v||h||r;const k=ve.__n("See change history (%1$s event)","See change history (%1$s events)",g);return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"TimesheetSlat__multipleContent"},void 0,(0,s.Z)("h4",{className:w},void 0,(0,p.mr)(c||0)),f==="multiple"&&this._renderFirstAndLast(),this._renderOvertimeHours(),S&&(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"TimesheetSlat__contentDivider"}),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()),f==="multiple"&&this._renderClockEntries(),f==="hour"&&this._renderHourEntries(),!T&&(0,s.Z)("a",{className:"TimesheetSlat__addEntryLink",onClick:()=>{this._launchAddEditModal(null,"add",a.timezone)}},void 0,"+ ",ve.__("Add Time Entry"))),we&&o().createElement("div",{ref:e=>this.collapseButtonRef=e,className:"TimesheetSlat__expandedActions",style:{display:"none"}},!v&&g>0&&(0,s.Z)(M.Z,{settings:{content:k}},void 0,(0,s.Z)(C.FloatingIconButton,{"data-buttonname":"timesheet-change-history",clickAction:this._handleShowChangeHistory,icon:"fab-clock-reverse-16x15",secondary:true,size:"teenie",type:"button"})),(0,s.Z)(C.FloatingIconButton,{clickAction:this._handleCollapseButtonClick,"data-buttonname":"timesheet-change-collapse",icon:"fab-double-chevron-up-14x16",secondary:true,size:"teenie",type:"button"})),!we&&o().createElement("button",{ref:e=>this.collapseButtonRef=e,className:"TimesheetSlat__collapseButton btn",onClick:this._handleCollapseButtonClick,style:{display:"none"}},(0,s.Z)("span",{className:"TimesheetSlat__collapseButtonIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-double-chevron-up-11x12"}))))}render(){const{isExpanded:e}=this.state;const{clock:t,clockEntries:a,hasWorkWeekStartsOnChanged:n,hourEntries:i,isFuture:o,isToday:r,isWeekend:l,moment,note:c,projectName:d,slatDisabled:u,timesheetOptions:h,type:p}=this.props;const m=a?.length||i?.length;const f=!r&&!e&&m&&this.isMultipleEntryUI;const g=r&&t&&t.clockedIn;const v=d||!!c;const y=(0,E.classNameFromObject)({TimesheetSlat:true,"TimesheetSlat--clock":this.isMultipleEntryUI,"TimesheetSlat--future":o&&!u,"TimesheetSlat--disabled":u,"TimesheetSlat--today":r,"TimesheetSlat--hide":l&&!h.showWeekends,"TimesheetSlat--expandable":f,"TimesheetSlat--expanded":e,"TimesheetSlat--futurePadClockedIn":g,"js-timesheet-showWeekends":l});return(0,s.Z)("div",{className:y,onClick:f?this._expandEntriesList:null},void 0,(0,s.Z)("div",{className:"TimesheetSlat__day"},void 0,this.isMultipleEntryUI&&(0,s.Z)("div",{className:"TimesheetSlat__arrowLine"}),(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSlat__dayOfWeek:true,"TimesheetSlat__dayOfWeek--active":g})},void 0,n&&(0,s.Z)("div",{className:"TimesheetSlat__dayOfWeek__warningIconWrapper"},void 0,(0,s.Z)(M.Z,{settings:{content:ve.__("Overtime cannot be calculated for this day."),tailOnBalloon:"40px"}},void 0,(0,s.Z)("span",{className:"TimesheetSlat__dayOfWeek__warningIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-triangle-exclamation-16x16"})))),moment.format("ddd")),(0,s.Z)("div",{className:"TimesheetSlat__dayDate"},void 0,moment.format("MMM D"))),(0,s.Z)("div",{className:"TimesheetSlat__dataWrapper"},void 0,(0,s.Z)("div",{className:(0,E.classNameFromObject)("TimesheetSlat__data",{"TimesheetSlat__data--hasProjectSection":p==="single"&&v})},void 0,p==="single"&&this._renderSingleEntryUi(),this.isMultipleEntryUI&&this._renderMultipleEntryUi()),v&&p==="single"&&this._renderProjectTaskText()))}}var Ce=b(["employee","serverTime","timesheetOptions","clock","focusedTimesheet.holidayPayType","isViewOnly","projectsWithTasks","changeViewOption","editSingleEntrySlat","refreshTimesheet","forgotClockOut","getFocusedDays"],Se);function xe(e){const{clock:t,workflow:{userCanEdit:a},focusedTimesheet:n,timesheetOptions:r,saveTimesheet:l,getPadStartDays:c,getFocusedDays:u,getPadEndDays:h,showSheetPadDays:m,isViewOnly:f}=e;const v=e=>{e.preventDefault();l()};const y=c();const b=u();const w=h();const S=t?(0,p.RG)(t.latest):false;const C={slatDisabled:true,type:n.type,forgotClockOut:S};const x={slatDisabled:false,type:n.type,canEdit:(0,d.isEnabled)("ttLocationUpdates")?a:a&&!f,forgotClockOut:S};const T={showWeekends:r.showWeekends,previousPeriodEntries:y,nextPeriodEntries:w,nudges:ie(r.showWeekends,b,w)};return(0,s.Z)("div",{className:"TimesheetEntries"},void 0,(0,s.Z)("form",{onSubmit:v},void 0,m&&(0,s.Z)(i.Fragment,{},void 0,y.map((e=>o().createElement(Ce,(0,g.Z)({key:e.date},e,C)))),o().createElement(re,(0,g.Z)({side:"top"},T))),b.map((e=>o().createElement(Ce,(0,g.Z)({key:e.date},e,x)))),m&&(0,s.Z)(i.Fragment,{},void 0,o().createElement(re,(0,g.Z)({side:"bottom"},T)),w.map((e=>o().createElement(Ce,(0,g.Z)({key:e.date},e,C))))),(0,s.Z)(se,{})))}var Te=b(["workflow","focusedTimesheet","timesheetOptions","clock","showSheetPadDays","isViewOnly","saveTimesheet","getPadStartDays","getFocusedDays","getPadEndDays"],xe);var Ee=a(26570);function ke(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>0;return e.reduce(((e,a)=>{if(t instanceof Function){return e+t(a)}return e+a[t]}),0)}function Ze(e){return e.reduce(((e,t)=>e+t.hours+t.timeOffHours+t.paidHolidayHours),0)}function Ne(e,t,a){if(e===t){return Ee.__("This Pay Period")}else if(e===a){return Ee.__("Previous Pay Period")}return Ee.__("Pay Period")}function Ie(e,t){const a=(0,ce.Z)(e).diff((0,ce.Z)(t),"days",true);return Math.ceil(a)}function Ae(e,t){const a=(0,ce.Z)(e);const s=(0,ce.Z)(t);const n="MMM D";const i=a.isSame(s,"month")?"D":n;return`${a.format(n)}  ${s.format(i)}`}function Fe(e,t,a){const s=Ie(t,a);const n=s>0?` (${Ee.__("%s days left",s)})`:"";return`${Ae(e,t)}${n}`}var Me=a(69835);var De=a(26570);function Pe(e){const{periodOvertime:t,periodTimeOff:a,periodHoliday:n}=e;const o=t.length>1;return(0,s.Z)(i.Fragment,{},void 0,!!t.length&&t.map((e=>(0,s.Z)("div",{className:"TimesheetSummary__breakdownItem TimesheetSummary__breakdownItem--warning"},e.multiplier,(0,p.mr)(e.hours,true)," ",De.__("Overtime")," ",o&&`(${e.multiplier}x)`))),!!a&&(0,s.Z)("div",{className:"TimesheetSummary__breakdownItem"},void 0,(0,p.mr)(a,true)," ",De.__("Time Off")),!!n&&(0,s.Z)("div",{className:"TimesheetSummary__breakdownItem"},void 0,(0,p.mr)(n,true)," ",De.__("Holiday")))}var Oe=a(26570);class Le extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"state",{approveTimesheetPending:false});(0,n.Z)(this,"_approvalDisabledTooltip",null);(0,n.Z)(this,"_buttonRef",(0,i.createRef)());(0,n.Z)(this,"_afterApproveTimesheet",(()=>this.setState({approveTimesheetPending:false})));(0,n.Z)(this,"_approveTimesheet",(()=>{const{focusedTimesheet:e,workflow:t,approveTimesheet:a}=this.props;this.setState({approveTimesheetPending:true});a(e.id,t.hoursLastChangedAt).then(this._afterApproveTimesheet).catch(this._afterApproveTimesheet)}))}static get className(){return"SummaryApproval"}_createDisabledApprovalTooltip(){return Me.Z.create(this._buttonRef.current,{html:`\n\t\t\t\t<div class="ApprovalSummary__tooltip">\n\t\t\t\t\t${Oe.__("Make sure your changes are saved before you approve.")}\n\t\t\t\t</div>\n\t\t\t`})}_renderStatus(){const{userCanApprove:e,status:t}=this.props.workflow;if(t==="approved"){return this._renderApproved()}else if(t==="pending"&&!e){return this._renderPendingWithoutPermission()}else if(t==="pending"&&e){return this._renderPendingWithPermission()}}_renderApproved(){const{approverName:e,approvalMoment:t}=this.props.workflow;return(0,s.Z)("div",{className:"ApprovalSummary__status ApprovalSummary__status--approved"},void 0,(0,s.Z)("div",{className:"ApprovalSummary__stamp"},void 0,(0,s.Z)(C.Icon,{name:"fab-approved-stamp-121x39"})),Oe.__("Approved by %1$s on %2$s.",e,t.format("MMM D, YYYY"),{note:'e.g. "Approved by Jane Smith on Sep 4, 2017"'}))}_renderPendingWithoutPermission(){const{approverName:e}=this.props.workflow;return(0,s.Z)("div",{className:"ApprovalSummary__status ApprovalSummary__status--waiting baseBgColor"},void 0,e?Oe.__("Waiting for approval from %1$s",e,{note:'e.g. "Waiting for approval from John Henry'}):Oe.__("Waiting for approval"))}_renderPendingWithPermission(){const{workflow:{dueMoment:e},getChangedEntries:t}=this.props;const a=Boolean(t().length);if(a&&!this._approvalDisabledTooltip){this._approvalDisabledTooltip=this._createDisabledApprovalTooltip()}else if(!a&&this._approvalDisabledTooltip){this._approvalDisabledTooltip.destroy();this._approvalDisabledTooltip=null}return(0,s.Z)("div",{className:"ApprovalSummary__status ApprovalSummary__status--showButton baseBgColor"},void 0,o().createElement("div",{className:"ApprovalSummary__buttonWrapper",ref:this._buttonRef},(0,s.Z)(C.Button,{clickAction:this._approveTimesheet,iconBefore:"fab-check-circle-16x16",outline:true,size:"large",text:Oe.__("Approve"),width:100})),Oe.__("Must approve by %1$s",e.format("MMM D"),{note:'e.g. "Must approve by May 17"'}))}render(){const{employeeId:e,employeeName:t,employeePhotoUrl:a,focusedTimesheet:n,payPeriodTitleText:o,payPeriodRangeText:r,workflow:l,getFocusedDays:c,summaryTotals:d,isViewOnly:u}=this.props;const{periodOvertime:h,periodTimeOff:m,periodHoliday:f}=d;const g=l.status==="approved";const v=c();return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("img",{className:"TimesheetSummary__photo",src:a,alt:Oe.__("employee avatar")}),(0,s.Z)("div",{className:"TimesheetSummary__title"},void 0,u?t:o),(0,s.Z)("div",{className:"TimesheetSummary__text"},void 0,r),(0,s.Z)("div",{className:(0,E.classNameFromObject)({ApprovalSummary:true,"ApprovalSummary--approved":g,"ApprovalSummary--viewOnly":u})},void 0,(0,s.Z)("div",{className:(0,E.classNameFromObject)({ApprovalSummary__payPeriodTotal:true,"ApprovalSummary__payPeriodTotal--approved":g})},void 0,(0,p.mr)(Ze(v))),Pe({periodOvertime:h,periodTimeOff:m,periodHoliday:f}),!u&&this._renderStatus()),u&&(0,s.Z)("a",{className:"fab-Link fab-Link--muted",href:`/employees/timesheet?id=${e}&et_id=${n.id}`},void 0,Oe.__("Go to timesheet")," "))}}var Re=b(["focusedTimesheet","workflow","summaryTotals","isViewOnly","approveTimesheet","getFocusedDays","getChangedEntries"],Le);var Be=a(13686);var $e=a(38592);var je=a(1765);var He=a(46471);var qe=a(26570);const We=He.l.find((e=>e.name===(0,$e.getBrandColor)()));const Ue=We.base;const ze=je.colors.gray4;const Ye=je.colors.gray5;const Ge=je.colors.attention;class Ve extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"drawChart",(e=>{const t=this.props.hideWeekends?115:170;if(!this.chartRef){this.chartRef=e}this.chart=new Be.vz(e,{className:"TimesheetDailyGraph",height:70,width:t,paddingTop:0,bars:{classNameModifier:"hide",mouseEvents:{mouseenter:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const s=this.getAttribute("fill");if(s.indexOf(Ge.replace("#",""))===-1){a.classList.add("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.add("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}},mouseleave:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const s=this.getAttribute("fill");if(s.indexOf(Ge.replace("#",""))===-1){a.classList.remove("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.remove("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}}}},barTitles:{classNameModifier:"today",padding:2},barValues:{show:false},responsive:false});this.chart.draw(Ke(this.props.lastWeek,this.props.thisWeek,this.props.serverTime,this.props.hideWeekends))}))}static get className(){return"DailyGraph"}componentDidUpdate(){this.drawChart(this.chartRef)}render(){return o().createElement("div",{ref:this.drawChart})}}function Ke(e,t,a,s){e=e.map((e=>{if(e.moment.day()<a.day()){return{...e,hours:0}}return e}));return Array.from({length:7}).map(((s,n)=>{const i=e[n];const o=t[n];const l=o.moment.isSame(a,"day");const c=o.overtimeHours;const d=(0,r.round)(i.hours,2)||0;const u=(0,r.round)(o.hours,2)||0;let h=Ye;if(l&&c){h=Ge}else if(l&&!c){h=Ue}return[{color:ze,modifyBar:i.moment.day()<=a.day(),title:i.moment.format("dddd")[0],tooltip:qe.__("Last %s",i.moment.format("dddd, MMMM D"),{note:"e.g. Last Thursday, October 5"}),tooltipLead:qe.__("%s Hours",d,{note:"Number of hours"}),value:d},{color:c?Ge:Ue,displayType:l?"partial":"solid",modifyTitle:l,titleColor:h,title:o.moment.format("dddd")[0],tooltip:`${l?qe.__("Today"):o.moment.format("dddd")}, ${o.moment.format("MMMM D")}`,tooltipLead:qe.__("%s Hours",u,{note:"Number of hours"}),value:u}]})).filter(((e,a)=>{const n=t[a].isWeekend;return!s||s&&!n}))}function Xe(e){const{fadeGraph:t,fadeWeekTotal:a,hideWeekends:n,lightTheme:i,lastWeekDays:o,thisWeekDays:r,serverTime:l,weekTitleText:c,weekRangeText:d,weekTotal:u}=e;const h=(0,E.classNameFromObject)({"js-timesheet-showDailyGraph TimesheetSummary__dailyGraph":true,"TimesheetSummary__dailyGraph--fade":t});const p=(0,E.classNameFromObject)({"TimesheetSummary__weekTotal baseColor":true,"TimesheetSummary__weekTotal--fade":a,"TimesheetSummary__weekTotal--light":i});return(0,s.Z)("div",{className:"TimesheetSummary__thisWeek"},void 0,(0,s.Z)("div",{className:"TimesheetSummary__title TimesheetSummary__title--week"},void 0,c),(0,s.Z)("div",{className:"TimesheetSummary__text"},void 0,d),(0,s.Z)("div",{className:h},void 0,(0,s.Z)(Ve,{lastWeek:o,thisWeek:r,serverTime:l,hideWeekends:n})),(0,s.Z)("div",{className:p},void 0,(0,s.Z)("span",{className:"TimesheetSummary__weekClockIcon"},void 0,(0,s.Z)(C.Icon,{brand:"true",name:"fab-clock-20x20"})),u))}var Je=a(26570);function Qe(e){const{approvalMonthAndDayStr:t,fadePayPeriod:a,payPeriodTitleText:n,payPeriodRangeText:i,payPeriodTotal:o,periodOvertime:r,periodTimeOff:l,periodHoliday:c}=e;return(0,s.Z)("div",{className:"TimesheetSummary__payPeriod js-timesheet-showPayPeriodTotal"},void 0,(0,s.Z)("div",{className:"TimesheetSummary__divider"}),(0,s.Z)("div",{className:"TimesheetSummary__title TimesheetSummary__title--payPeriod"},void 0,n),(0,s.Z)("div",{className:"TimesheetSummary__text"},void 0,i),(0,s.Z)("div",{className:(0,E.classNameFromObject)({TimesheetSummary__payPeriodBreakdown:true,"TimesheetSummary__payPeriodBreakdown--fade":a})},void 0,(0,s.Z)("div",{className:"TimesheetSummary__payPeriodTotal"},void 0,(0,s.Z)("span",{className:"TimesheetSummary__payPeriodClockIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-clock-20x20"})),o),Pe({periodOvertime:r,periodTimeOff:l,periodHoliday:c})),(0,s.Z)("div",{className:"TimesheetSummary__text TimesheetSummary__text--approval"},void 0,(0,s.Z)("span",{className:"TimesheetSummary__approvalIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-check-circle-12x12"})),Je.__("Will be sent for approval on %s",t,{note:"placeholder is a date/time"})))}var et=a(80544);var tt=a(2224);var at=a(99827);var st=a(11656);var nt=a(26570);const it=(0,d.isEnabled)("anybodyClock");const ot=(0,d.isEnabled)("timeTrackingGeolocation");class rt extends i.Component{static get className(){return"ClockInOut"}constructor(e){super(e);(0,n.Z)(this,"_toggleClocking",((e,t)=>{const{preventingDoubleClick:a}=this.state;const{clock:s,clockIn:n,clockOut:i,employee:o,refreshTimesheet:r}=this.props;const l=s?(0,p.RG)(s.latest):false;if(this.userCanEdit&&l&&s.latest){(0,at.Z)(o.id,s.latest).then(r);return}if(!this.userCanEdit&&l){(0,st.Z)(i,o.id,(()=>{this._toggleRequesting()})).then((()=>{this._toggleRequesting()}));return}if(a){return}if(window.ASSUMED_USER){window.disabledForPermsTest();return}this._preventDoubleClick();this._toggleRequesting();const c=s.clockedIn?i:n;c(o.id,e,t).finally(this._toggleRequesting)}));(0,n.Z)(this,"_toggleRequesting",(()=>{this.setState({requesting:!this.state.requesting})}));(0,n.Z)(this,"_preventDoubleClick",(()=>{this.setState({preventingDoubleClick:true});setTimeout((()=>{this.setState({preventingDoubleClick:false})}),400)}));(0,n.Z)(this,"_handleAddNoteClick",(()=>{const{clock:e,employee:t,refreshTimesheet:a,workflow:s,isViewOnly:n,projectsWithTasks:i}=this.props;if(e.clockedIn){const o={projectId:e.latest.projectId,projectName:e.latest.projectName,taskId:e.latest.taskId,taskName:e.latest.taskName};const r={canEdit:s.userCanEdit,clock:e,employeeId:t.id,note:e.latest.note,projectData:o,projectsWithTasks:i,today:ce.Z.tz(e.latest.start,e.latest.timezone),timezone:e.latest.timezone,type:"clock",isViewOnly:n};(0,ge.Z)(r).then(a)}}));(0,n.Z)(this,"_handleProjectDropdownClick",(e=>{const[t,a]=(0,p.a6)(e);this._toggleClocking(t,a)}));this.userCanEdit=e.workflow.userCanEdit;this.state={requesting:false,preventingDoubleClick:false}}_hasFutureEntry(){const{clock:{latest:e},serverTime:t}=this.props;return(0,p.ff)(e,t)}_renderClockButton(){const{clock:e,clock:{clockedIn:t,latest:a}}=this.props;const{requesting:n}=this.state;const i=t?"fab-stop-14x14":"fab-stopwatch-11x14";const o=this._hasFutureEntry();const r=e?(0,p.RG)(a):false;let l=t?"clock-out":"clock-in";if(r){l="verify-and-clock-out"}return(0,s.Z)(C.Button,{clickAction:()=>this._toggleClocking(),"data-bi-id":`my-info-timesheet-${l}-button`,iconBefore:i,isDisabled:n||o,isProcessing:n,size:"small",text:(0,p.qu)(e.clockedIn,n,r,this.userCanEdit),type:"button",width:100})}_renderProjectTrackingButton(){const{clock:e,isOwnTimesheet:t,projectsWithTasks:a}=this.props;const{requesting:n}=this.state;const i=(0,p.aC)(a);const o=this._hasFutureEntry();let r=this._renderClockButton();if(!e.clockedIn&&a.allIds.length>0){r=(0,s.Z)(C.ButtonGroup,{className:"TimesheetSummary__clockButtonGroup",color:"primary"},void 0,this._renderClockButton(),(0,s.Z)(C.Dropdown,{buttonSettings:{isProcessing:n,size:"small"},isDisabled:n||o,items:i,onSelect:this._handleProjectDropdownClick,showSearch:"auto"}))}return(0,s.Z)(et.Z,{condition:t&&o,wrap:e=>(0,s.Z)(M.Z,{settings:{content:m._3},wrapperClassName:"TimesheetSummary__clockButtonTooltip"},void 0,e)},void 0,r)}render(){const{clock:e,focusedTimesheet:t,getToday:a,serverTime:n,isOwnTimesheet:o}=this.props;const{clockInLatitude:r,clockInLongitude:l,clockOutLatitude:c,clockOutLongitude:d}=e.latest||{};const u=!!(r&&l||c&&d);const h=a();const{holidayPayType:m}=t;const{showEditActions:f}=t;const g=e?(0,p.RG)(e.latest):false;const v=g?"orange":null;const y=h.holidays.map((e=>{if(e.paidHours!==null){const t=(0,p.Rr)(e);return(0,s.Z)("div",{className:"baseColor"},e.name,t)}}));const b=y.length>0;const w=(0,E.classNameFromObject)({TimesheetSummary__todayClockTotal:true,"TimesheetSummary__todayClockTotal--withHoliday":m==="normal"&&b});const S=(0,E.classNameFromObject)({TimesheetSummary__todayClockActive:true,"TimesheetSummary__todayClockActive--withHoliday":m==="normal"&&b,"TimesheetSummary__todayClockActive--forgotClockOut":g});const x=(0,E.classNameFromObject)({TimesheetSummary__text:true,"TimesheetSummary__text--clock":true,"TimesheetSummary__text--forgotClockOut":g});const T=(0,E.classNameFromObject)({TimesheetSummary__note:true,"TimesheetSummary__note--clockedIn":e.clockedIn});return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("div",{className:"TimesheetSummary__title TimesheetSummary__title--clock"},void 0,e.clockedIn?nt.__("Clocked In"):nt.__("Not Clocked In")),(0,s.Z)("div",{className:T,onClick:this._handleAddNoteClick},void 0,e.clockedIn&&(0,s.Z)("div",{className:S},void 0,(0,p.mr)(e.earned+e.midnightTotals),(0,s.Z)(tt.Z,{backgroundColor:"#f6f6f6",fillColor:v})),!e.clockedIn&&(0,s.Z)("div",{className:w},void 0,nt.__("%1$s Today",(0,p.mr)(h.hours||0))),(0,s.Z)("div",{className:x},void 0,e.latest&&(0,p.Tz)(e.latest,n),e.clockedIn&&e.latest.note&&(0,s.Z)("span",{className:"TimesheetSummary__textIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-page-9x11"})),ot&&e.clockedIn&&u&&(0,s.Z)("span",{className:"TimesheetSummary__textIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-location-9x12"}))),(0,s.Z)("div",{className:"TimesheetSummary__noteIconWrapper"},void 0,(0,s.Z)("span",{className:"TimesheetSummary__noteIcon"},void 0,(0,s.Z)(C.Icon,{name:"fab-page-plus-13x16"})))),m==="normal"&&y.length>0&&(0,s.Z)("div",{className:"TimesheetSummary__holidayMessage"},void 0,y),(o||it&&f)&&(0,s.Z)("div",{className:"TimesheetSummary__clockButtonWrapper"},void 0,this._renderProjectTrackingButton()),(0,s.Z)("div",{className:"TimesheetSummary__divider"}))}}var lt=b(["employee","isOwnTimesheet","clock","serverTime","focusedTimesheet.holidayPayType","focusedTimesheet.showEditActions","workflow.userCanEdit","isViewOnly","projectsWithTasks","clockIn","clockOut","refreshTimesheet","getToday"],rt);var ct=a(26570);class dt extends i.Component{constructor(){super(...arguments);(0,n.Z)(this,"_defaultAnimationState",{focusedDaysUpdated:false,lastWeekDaysUpdated:false,thisWeekDaysUpdated:false});(0,n.Z)(this,"state",{...this._defaultAnimationState,focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()});(0,n.Z)(this,"_weekTitleText",ct.__("This Week"));(0,n.Z)(this,"_weekRangeText",Fe(this.props.thisWeek.start,this.props.thisWeek.end,this.props.serverTime));(0,n.Z)(this,"_payPeriodTitleText",Ne(this.props.focusedTimesheet.id,this.props.latestTimesheetId,this.props.latestPreviousTimesheetId));(0,n.Z)(this,"_payPeriodRangeText",Fe(this.props.focusedTimesheet.start,this.props.focusedTimesheet.end,this.props.serverTime))}static get className(){return"TimesheetSummary"}_renderApproval(){const e={employeeId:this.props.employee.id,employeeName:this.props.employee.name,employeePhotoUrl:this.props.employee.photoUrl,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText};return o().createElement(Re,e)}_renderSummary(){const{isOwnTimesheet:e,employee:t,workflow:a,serverTime:n,timesheetOptions:r,clock:l,summaryTotals:c}=this.props;const{focusedDaysUpdated:d,lastWeekDaysUpdated:u,thisWeekDaysUpdated:h,focusedDays:m,lastWeekDays:f,thisWeekDays:g}=this.state;const{weekTotal:v,periodTotal:y,periodOvertime:b,periodTimeOff:w,periodHoliday:S}=c;const C=l?l.earned:0;const x={fadeGraph:h||u,fadeWeekTotal:h,hideWeekends:e&&!r.showWeekends,lightTheme:!!l,lastWeekDays:f,thisWeekDays:g,serverTime:n,weekTitleText:this._weekTitleText,weekRangeText:this._weekRangeText,weekTotal:(0,p.mr)(v+C)};const T={approvalMonthAndDayStr:a.approvableMoment.format("MMM D"),fadePayPeriod:d,focusedDays:m,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText,payPeriodTotal:(0,p.mr)(y+C),periodOvertime:b,periodTimeOff:w,periodHoliday:S};return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)("img",{alt:ct.__("employee avatar"),className:"TimesheetSummary__photo",src:t.photoUrl}),!!l&&(0,s.Z)(lt,{}),o().createElement(Xe,x),o().createElement(Qe,T))}componentWillReceiveProps(e){const t={focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()};const a=this.props.clock&&e.clock.clockedIn!==this.props.clock.clockedIn;const s=this.props.clock&&e.clock.clockedIn&&e.clock.earned!==this.props.clock.earned;if(a||s){this.setState(t)}else{const e={focusedDaysUpdated:Ze(this.state.focusedDays)!==Ze(t.focusedDays),lastWeekDaysUpdated:Ze(this.state.lastWeekDays)!==Ze(t.lastWeekDays),thisWeekDaysUpdated:Ze(this.state.thisWeekDays)!==Ze(t.thisWeekDays)};if(e.focusedDaysUpdated||e.lastWeekDaysUpdated||e.thisWeekDaysUpdated){this.setState(e);setTimeout((()=>this.setState({...this._defaultAnimationState,...t})),300)}}}render(){const{isApprovalShowing:e,isViewOnly:t}=this.props;return(0,s.Z)("div",{className:"TimesheetSummaryContainer"},void 0,o().createElement("div",{className:(0,E.classNameFromObject)({TimesheetSummary:true,"TimesheetSummary--viewOnly":t}),ref:e=>{this._timesheetSummaryRef=e}},e||t?this._renderApproval():this._renderSummary()))}}var ut=b(["isApprovalShowing","isOwnTimesheet","serverTime","timesheetOptions","employee","workflow","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId","thisWeek","clock","summaryTotals","showHeader","isViewOnly","getFocusedDays","getLastWeekDays","getThisWeekDays"],dt);var ht=a(26570);function pt(e){const{getChangedEntries:t,isOpen:a,isProcessing:n,onClose:i,primaryAction:o}=e;const r=t().length;const l=r===1?ht.__("This time entry has a note associated with it. You will lose the note if you continue."):ht.__("Youre clearing out at least one time entry with a note. You will lose the note(s) associated with these entries if you continue.");return(0,s.Z)(F.u,{header:l,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:a,isProcessing:n,onClose:i,primaryAction:o,primaryActionText:r===1?ht.__("Clear Time Entry + Note"):ht.__("Clear Time Entries + Notes"),title:ht.__("Just Checking...")})}var mt=a(26570);function ft(e){mt(`.js-timesheet-${e}`).slideToggle(200)}function gt(e){const{isApprovalShowing:t,isOwnTimesheet:a,timesheetOptions:s,getChangedEntries:n}=e;if(a&&!t){(0,r.each)(s,((e,t)=>{if(!e){mt(`.js-timesheet-${t}`).hide()}}))}vt(n)}function vt(e){mt(document).on("click","a:not(.history-modal):not(.no-form-changed-popup)",(function t(a){const s=mt(a.target).closest("a").attr("href");if(s&&s!==""&&s!==`javascript:void(0)`&&s.indexOf("#")===-1&&e().length){a.preventDefault();_t(s)}}))}function _t(e){window.BambooHR.Modal.setState({headline:mt.__(`You haven't saved your changes`),content:(0,s.Z)("p",{},void 0,mt.__("Your changes will be lost if you navigate away from this page without saving.")),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isOpen:false},true)},primaryActionText:mt.__("Continue Working"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=e},secondaryActionText:mt.__(`Don't Save`),alternativeAction:null,title:mt.__("Just Checking...")})}var yt=a(82543);const bt=(0,d.isEnabled)("timeTrackingWebSockets");let wt=!bt;let St=true;class Ct extends i.Component{static get className(){return"EmployeeTimesheet"}constructor(e){var t;super(e);t=this;(0,n.Z)(this,"_saveTimesheetFail",(()=>{this.setState({saveTimesheetPending:false,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false})}));(0,n.Z)(this,"_saveTimesheetSuccess",(()=>{this.actions.refreshTimesheet().then((()=>{document.dispatchEvent(new CustomEvent("SiteFooter:close"));this.setState({showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false});window.setMessage(m.Te,"success")})).catch(this._saveTimesheetFail)}));(0,n.Z)(this,"_handleFooterAction",(()=>{this.actions.saveTimesheet()}));(0,n.Z)(this,"_handleFooterCancel",(()=>{this.actions.resetSingleEntryUserEdits()}));(0,n.Z)(this,"actions",{changeViewOption:(e,t)=>{const{timesheetOptions:a}=this.state;(0,h.updateViewOption)(e,t);ft(e);this.setState({timesheetOptions:{...a,[e]:t}})},editSingleEntrySlat:(e,t)=>{let{days:a}=this.state;a={...a};a[e]={...a[e],userEdit:t};this.setState({days:a})},resetSingleEntryUserEdits:()=>{const{days:e}=this.state;const t=(0,r.flow)((0,l.map)((e=>{e.userEdit=null;return e})),(0,l.keyBy)("date"))(this.queries.getFocusedDays());this.setState({days:{...e,...t}})},saveTimesheet:()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(this.queries.areChangedEntriesValid()){const e=this.queries.getEntriesWithClearedTimeAndNotesCount();if(e>0){this.setState({showClearNoteWarningModal:true})}else{this.actions.submitTimesheetChanges()}}},submitTimesheetChanges:()=>{const e=this.queries.getChangedEntries().map((e=>({date:e.date,hours:(0,p.TD)(e.userEdit),employeeId:window.Employee.id})));this.setState({saveTimesheetPending:true,clearNoteWarningModalProcessing:true});if(e.length){(0,h.saveSingleDailyHours)(e).then(this._saveTimesheetSuccess).catch(this._saveTimesheetFail)}else{this._saveTimesheetSuccess()}},refreshTimesheet:()=>{const{focusedTimesheet:e,clock:t}=this.state;return(0,h.refreshTimesheet)(e.id).then((e=>{const a=e.data;const s=(0,f.Z)(a);if(s.clock&&!t.clockedIn&&s.clock.clockedIn){this.earnedTimerOffset=0}this.setState(s)}))},approveTimesheet:(e,t)=>{if(this.queries.getChangedEntries().length){return Promise.reject(null)}return(0,h.approveTimesheet)(e,t,this.actions.refreshTimesheet).then(this.actions.refreshTimesheet)},clockIn:(e,t,a)=>{St=false;return(0,h.clockIn)(e,t,a).then((()=>{const{employee:e,serverTime:t,days:a,clock:s}=this.state;const n={timezone:e.timezone,start:yt.tz(t.clone(),e.timezone).format("YYYY-MM-DD HH:mm:ss"),end:null,hours:null,id:-1};const i=Object.assign({},s,{clockedIn:true,latest:n});const o={...this.queries.getToday()};o.clockEntries.push(n);a[o.date]=o;this.earnedTimerOffset=yt.tz(this.serverTimer.ms,e.timezone).diff(t.clone().startOf("minute"));this.setState({clock:i,days:a},this.actions.refreshTimesheet)})).catch(this.actions.refreshTimesheet)},clockOut:e=>{St=false;clearTimeout(this.earnedTimer);return(0,h.clockOut)(e).then(this.actions.refreshTimesheet).catch(this.actions.refreshTimesheet)},updateServerTime:e=>{const{employee:t,serverTime:a,clock:s}=this.state;const n=yt.tz(e,t.timezone);if(!n.isSame(a,"day")){window.location.reload(true)}this.setState({serverTime:n},(()=>{if(s&&s.clockedIn){this.earnedTimer=setTimeout(this.actions.updateEarnedTime,this.earnedTimerOffset)}}))},updateEarnedTime:()=>{const{clock:e,days:t,serverTime:a}=this.state;if(e&&!e.clockedIn){return}const s={...e};const n={...t};const i=this.queries.getToday();const o=(0,r.last)(i.clockEntries);const l=yt.tz(o.start,o.timezone);s.earned=(0,p.MS)(l,a);i.hours=i.clockEntries.reduce(((e,t)=>e+t.hours),s.earned);n[i.date]=i;this.setState({clock:s,days:n})},pollClockStatus:function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(document.hidden&&!e){return}const{employee:{id:a},clock:{clockedIn:s,latest:n}}=t.state;(0,h.getClockStatus)(a).then((e=>{let{isClockedIn:a,clockTime:i}=e;const o=(0,p.Am)(s,n,a,i);if(o){t.actions.refreshTimesheet()}}))}});(0,n.Z)(this,"queries",{getPadStartDays:()=>{const{padStartTimesheet:e,days:t}=this.state;return xt(e,t)},getFocusedDays:()=>{const{focusedTimesheet:e,days:t}=this.state;return xt(e,t)},getPadEndDays:()=>{const{padEndTimesheet:e,days:t}=this.state;return xt(e,t)},getLastWeekDays:()=>{const{lastWeek:{start:e,end:t},days:a}=this.state;return(0,p.eK)(e,t,a)},getThisWeekDays:()=>{const{thisWeek:{start:e,end:t},days:a}=this.state;return(0,p.eK)(e,t,a)},getChangedEntries:()=>this.queries.getFocusedDays().filter((e=>e.userEdit!==null)).filter((e=>(0,p.TD)(e.userEdit)!==e.hours)),areChangedEntriesValid:()=>!this.queries.getChangedEntries().map((e=>{let{userEdit:t}=e;return(0,p.TD)(t)})).filter((e=>e===p.ch||e===p.w9)).length,getEntriesWithClearedTimeAndNotesCount:()=>this.queries.getChangedEntries().filter((e=>{let{note:t,userEdit:a}=e;const s=(0,p.TD)(a);if(t&&s===null){return true}return false})).length,getToday:()=>{const{days:e,serverTime:t}=this.state;return e[t.format("YYYY-MM-DD")]||null}});const{days:a,serverTime:s,clock:i,focusedTimesheet:o}=e.initialState;const d=s?!!a[s.format("YYYY-MM-DD")]||false:false;if(i&&d){const e=(0,l.random)(5e3,55e3);s.add(Math.ceil(window.performance.now()),"ms");this.earnedTimer=null;this.earnedTimerOffset=0;this.serverTimer=(new u.Z).everyMinute((t=>{this.actions.updateServerTime(t);if(wt){setTimeout(this.actions.pollClockStatus,e)}})).start(s.valueOf());if(bt){const e=()=>{if(St){this.actions.pollClockStatus(true)}St=true};c.Z.subscribe({channel:"timeTracking",subjectId:o.id,events:{clockIn:e,clockOut:e}}).catch((()=>{wt=true}))}}this.state={...e.initialState,...this.actions,...this.queries,saveTimesheetPending:false,isViewOnly:e.isViewOnly,showHeader:e.showHeader,showSheetPadDays:e.showSheetPadDays,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false}}componentDidMount(){const e=document.querySelector('[data-form-id="timesheetFooter"]');if(e){e.addEventListener("click",(e=>{if(e.target.closest('button[data-action="SiteFooterAction:submit"]')){this._handleFooterAction()}else if(e.target.closest('button[data-action="SiteFooterAction:cancel"]')){this._handleFooterCancel()}}))}gt((0,r.pick)(this.state,["isApprovalShowing","isOwnTimesheet","timesheetOptions","getChangedEntries"]))}render(){const{clearNoteWarningModalProcessing:e,focusedTimesheet:t,showClearNoteWarningModal:a}=this.state;const n=t.type==="none";return(0,s.Z)(v,{value:this.state},void 0,(0,s.Z)("div",{className:"TimesheetTab"},void 0,(0,s.Z)(ae,{}),(0,s.Z)("div",{className:"TimesheetContent js-timesheet-content"},void 0,n?o().createElement(S.Z,m.qN):(0,s.Z)(Te,{}),!n&&(0,s.Z)(ut,{}))),(0,s.Z)(pt,{getChangedEntries:this.queries.getChangedEntries,isOpen:a,isProcessing:e,onClose:()=>this.setState({showClearNoteWarningModal:false}),primaryAction:this.actions.submitTimesheetChanges}))}}function xt(e,t){if(e===null){return[]}return(0,p.eK)(e.start,e.end,t)}},45548:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(51341);var n=a(73641);var i=a(13296);var o=a(71141);var r=a(17863);function l(){const e=!!window.ASSUMED_USER;if(e){return window.ASSUMED_USER.employeeId===window.Employee.id}return window.Employee&&window.SESSION_USER.employeeId===window.Employee.id}function c(e,t,a,n,i){if(a==="clock"&&n&&i&&e.status!=="approved"){return false}return e&&s.Z.unix(e.approvableDate).isBefore(t)}function d(e){return(0,n.flow)(n.values,(0,i.sortBy)("date"))(e)}function u(e){const t=d(e);return{start:t[0].date,end:t[t.length-1].date}}function h(e){if(!e){return{id:-1,type:"none"}}const{id:t,holidayPayType:a,showEditActions:s}=e;let{type:n,dailyDetails:i}=e;if(n!=="single"&&n!=="hour"){n="multiple"}i=d(i);return{id:t,type:n,start:i[0].date,end:i[i.length-1].date,holidayPayType:a,workWeekStartsOn:(0,r.lo)(i),showEditActions:s}}function p(e,t,a){return(0,n.flow)((0,i.map)((e=>{e.moment=s.Z.tz(e.date,a);e.isWeekend=e.moment.day()===0||e.moment.day()===6;e.isToday=e.moment.isSame(t,"day");e.isFuture=e.moment.isAfter(t,"day");e.userEdit=null;return e})),(0,i.keyBy)("date"))(e)}const m=(0,o.isEnabled)("multipleEntriesByHour");function f(e){e=(0,n.cloneDeep)(e);const{employeeId:t,employeeName:a,employeePhotoUrl:o,employeeTimesheets:d,currentTimesheetId:m,previousTimesheetId:f,previousTimesheet:g,timesheet:v,nextTimesheet:y,lastWeek:b,thisWeek:w,timesheetOptions:S,today:C,thisWeekHours:x,projectsWithTasks:T}=e;const E=s.Z.tz(C.date,C.timezone);const k=h(v);const Z=k.id===m;const N=l();const I=c(v,E,k.type,Z,N);if(k.type==="none"){return{isOwnTimesheet:N,isApprovalShowing:I,employeeTimesheets:d,timesheetOptions:S,focusedTimesheet:{id:-1,type:"none"}}}if(!d.find((e=>Number(e.id)===Number(k.id)))){d.push(k)}const A=p({...Z?b:{},...Z?w:{},...g?g.dailyDetails:{},...v.dailyDetails,...y?y.dailyDetails:{}},E,C.timezone);const F=A[E.format("YYYY-MM-DD")];let M=null;if(v.type==="clock"){M={clockedIn:!!e.lastClockEntry&&!e.lastClockEntry.end,latest:e.lastClockEntry,earned:0,midnightTotals:0};if(M.clockedIn){const e=(0,n.flow)(n.values,(0,i.sortBy)("date"),n.last)(A).moment;const t=s.Z.tz(M.latest.start,M.latest.timezone);const a=e.isSameOrAfter(t,"day");const o=E.isSame(t,"day");if(a&&!o){const e=t.format("YYYY-MM-DD");const a=E.format("YYYY-MM-DD");(0,r.eK)(e,a,A).forEach((e=>{e.hasMidnightEntry=true}));M.midnightTotals=(0,r.MS)(t,E.clone().startOf("day"))}if(F){const e=(0,n.last)(F.clockEntries);const t=s.Z.tz(e.start,e.timezone);M.earned=(0,r.MS)(t,E);F.hours=F.clockEntries.reduce(((e,t)=>e+t.hours),M.earned)}}}const D={weekTotal:x,periodTotal:v.totalHours,periodOvertime:v.overtimeSummary,periodTimeOff:v.totalTimeOffHours,periodHoliday:v.totalHolidayHours};return{isApprovalShowing:I,isOwnTimesheet:N,isLatestTimesheet:Z,serverTime:E,timesheetOptions:S,employeeTimesheets:d,employee:{id:t,name:a,photoUrl:o,timezone:C.timezone},clock:M,workflow:{approvableDate:v.approvableDate,approvableMoment:s.Z.unix(v.approvableDate),approvalDate:v.approvalDate,approvalMoment:s.Z.unix(v.approvalDate),approverName:v.approverName,dueDate:v.dueDate,dueMoment:s.Z.unix(v.dueDate),hoursLastChangedAt:v.hoursLastChangedAt,hoursLastChangedAtMoment:s.Z.unix(v.hoursLastChangedAt),status:v.status,userCanApprove:v.canApprove,userCanEdit:v.showEditActions},focusedTimesheet:k,summaryTotals:D,padStartTimesheet:g&&h(g),padEndTimesheet:y&&h(y),latestTimesheetId:m,latestPreviousTimesheetId:f,lastWeek:u(b),thisWeek:u(w),days:A,projectsWithTasks:T||{allIds:[],byId:{}}}}},68003:(e,t,a)=>{"use strict";a.d(t,{$J:()=>b,$T:()=>p,Bo:()=>o,C5:()=>C,Ep:()=>m,HU:()=>w,Mj:()=>x,QY:()=>d,RG:()=>i,T_:()=>s,Te:()=>r,Vl:()=>T,_3:()=>y,_v:()=>l,jw:()=>g,ki:()=>h,m6:()=>n,qN:()=>E,qe:()=>f,rX:()=>v,wR:()=>u,x9:()=>c,yq:()=>S});var $=a(26570);const s="h:mm A";const n=$.__("Whoa. Try entering time like %s or 1:30.",`1${window.GLOBAL_DECIMAL_CHAR||"."}5`);const i=$.__("Where are we, Venus? Please enter 24 hours or fewer.");const o=$.__("Where are we, Venus? Please enter 24 total hours or fewer.");const r=$.__("Done! Your time has been saved.");const l=$.__("Uh oh...something went wrong, and your time wasn't saved. Try it again?");const c=$.__("Sorry, something went awry and we weren't able to clock you in. Try again?");const d=$.__("Sorry, something went awry and we weren't able to clock you out. Try again?");const u=$.__("Oh no... Sorry, there was a problem approving hours. Please try again.");const h=$.__("Your hours worked have been successfully recorded.");const p=$.__("Success! The time entry has been deleted.");const m=$.__("There seems to be a problem deleting that entry. Please try again.");const f=$.__("Oops. Please fix any incorrect time entries and try again.");const g=$.__(`Your timesheet has already been approved.`);const v=$.__(`If your time needs to be adjusted, contact your manager or HR administrator.`);const y=$.__("Clocking is disabled because you have a time entry saved for sometime in the future.");const b=$.__("There are conflicting entries that already exist.");const w=$.__("You can't clock in in the future.");const S=$.__("Uh oh...something went wrong, and your note wasn't saved. Try it again?");const C=$.__("Uh oh...something went wrong. Please refresh the page and try again.");const x={"time-off-luggage":"fab-briefcase-clock-14x12","time-off-calendar":"fab-calendar-clock-14x14","happy-calendar":"fab-calendar-smiling-14x14","palm-trees":"fab-palm-tree-14x13","camping-trailer":"fab-trailer-14x14",airplane:"fab-airplane-13x14","band-aid":"fab-band-aid-14x14","first-aid-kit":"fab-medical-clipboard-11x14","joining-hands":"fab-hands-joined-14x13",selfie:"fab-person-circle-14x14",graduation:"fab-graduation-cap-14x12",family:"fab-family-14x13",home:"fab-home-14x14","teddy-bear":"fab-teddy-bear-14x14","baby-carriage":"fab-stroller-14x14","birthday-cake":"fab-cake-13x14",gavel:"fab-gavel-14x14",medal:"fab-medal-13x14"};const T="fab-briefcase-clock-14x12";const E={title:$.__("There is no timesheet for this pay period."),subtitle:$.__("A pay schedule is required to enable time tracking."),icon:"fab-tumbleweed-96x120",className:"TimesheetBlankState"}},66327:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addEdit:()=>O,approveTimesheet:()=>F,cancelTimeTrackingTrial:()=>j,clockIn:()=>M,clockOut:()=>D,deleteEntry:()=>P,getClockStatus:()=>L,postNewActivationTrialValues:()=>H,refreshTimesheet:()=>A,requestTimeTrackingSubscription:()=>B,saveClockInData:()=>R,saveSingleDailyHours:()=>I,setTrialStarted:()=>q,updateViewOption:()=>N});var s=a(73641);var n=a(17842);var i=a.n(n);function o(e){return i().post("/timesheet/options/save",e)}function r(e){return i().post("/timesheet/hours",JSON.stringify(e),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function l(e){return i().get(`/timesheet/${e}`)}function c(e){return i().post("/timesheet/approve",e)}function d(e,t){return i().post(`/timesheet/clock/in/${e}`,t)}function u(e){return i().post(`/timesheet/clock/out/${e}`)}function h(e,t){return i().post(`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function p(e,t){return i()["delete"](`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function m(e){return i().get(`/timesheet/employee/${e}/is_clocked_in`)}function f(e,t){return i().post(`/timesheet/employee/${e}/clock/in/data`,t)}function g(){return i().post("/settings/time_tracking/subscribe")}function v(e){return i().post("/settings/time_tracking/cancelTrial",e)}function y(e){return i().post(`/settings/time_tracking/startTrial`,e)}function b(){return i().post("/settings/time_tracking/trialStarted")}var w=a(68003);var S=a(89835);var C=a(23321);var x=a(51341);var T=a(95361);var $=a(26570);var E=(e,t)=>{let a="";let s="";let n=[];if(t?.today&&t?.datetime){const e=x.Z.tz(t.today.date,t.today.timezone);a=x.Z.tz(t.datetime.date,t.datetime.timezone).calendar(e)}if(e==="clockOut"){s=$.__("Clocked Out");n=[$.__("You were clocked out elsewhere%1$s.",a?` <b class="fontSemibold">${a}</b>`:""),w.rX]}else if(e==="clockIn"){s=$.__("Clocked In");n=[$.__("You were clocked in elsewhere%1$s.",a?` <b class="fontSemibold">${a}</b>`:"")]}else if(e==="clockInFutureEntry"){s=$.__(`You can't be clocked in right now`);n=[w._3]}else if(e==="alreadyApproved"){s=$.__("Timesheet already approved");n=[$.__(`You can't be clocked in because your timesheet has already been approved.`),w.rX]}const i=microTemplate(T.Z,{iconName:"fab-timesheet-exclamation-84x57",paragraphs:n});const o=$.__("Close");window.BambooHR.Modal.setState({isOpen:true,content:(0,S.Z)("div",{dangerouslySetInnerHTML:{__html:i}}),alternativeAction:null,primaryActionText:o,primaryAction(){if(e==="alreadyApproved"){window.location.reload(true)}else{window.BambooHR.Modal.setState({isOpen:false})}},title:s})};var k=a(42202);var Z=a(87197);function N(e,t){return o({[e]:t})}function I(e){return r({hours:e}).then((e=>{if(e.data&&(0,s.startsWith)(e.data,"Error")){window.setMessage(w._v,"error");throw e.data}})).catch((e=>{if(e.response.status===403){(0,k.Z)("save")}else{window.setMessage(w._v,"error")}throw e.response}))}function A(e){return l(e)}function F(e,t,a){return c({id:e,hoursLastChangedAt:t}).catch((t=>{const s=t.response.data;if(s.status==="staleData"){(0,k.Z)("approve")}else if(s.status==="clockOut"){(0,Z.Z)(s.timesheets,(t=>{F(e,t.hoursLastChangedAt,a).then(a)}))}else{window.setMessage(w.wR,"error")}throw t}))}function M(e,t,a){const s=t?{projectId:t,taskId:a}:null;return d(e,s).catch((e=>{const t=e.response.data?.error?.code;if(t==="CLOCKED_IN"){E("clockIn",e.response.data)}else if(t==="FUTURE_ENTRY"){E("clockInFutureEntry")}else if(t==="APPROVED"){E("alreadyApproved")}else{window.Rollbar.error("clock in",e);window.setMessage(w.x9,"error")}throw e}))}function D(e){return u(e).catch((e=>{const t=e.response;if(t.status===403||t.status===409){E("clockOut",t.data)}else{window.Rollbar.error("clock out",e);window.setMessage(w.QY,"error")}throw e}))}function P(e,t){return p(e,{entries:[t]}).then((()=>{window.setMessage(w.$T,"success")})).catch((e=>{window.setMessage(w.Ep,"error");throw e.response}))}function O(e,t){const a=e==="hour"?{hours:t}:{entries:t};return h(e,a).then((e=>{if(e.status===200){window.setMessage(w.ki,"success")}else{window.setMessage(w.C5,"error")}})).catch((e=>{if(e.response.status===403){(0,k.Z)("save")}else{window.setMessage(w._v,"error")}}))}function L(e){return m(e).then((e=>e.data)).catch((e=>{throw e.response}))}function R(e,t){return f(e,t).catch((e=>{if(e.response.status===409){window.setMessage(w.$J,"error")}else if(e.response.data.error.code==="FUTURE_CLOCK_IN_TIME"){window.setMessage(w.HU,"error")}else{window.setMessage(w.yq,"error")}throw e.response}))}function B(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return g().finally((()=>{if(e){window.location.href="/settings/time_tracking"}}))}function j(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return v(e).finally((()=>{if(t){window.location.href="/settings/time_tracking"}}))}function H(e){return y(e)}function q(){return b()}},62705:(e,t,a)=>{"use strict";a.d(t,{Z:()=>B});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(89835);var l=a(44119);var c=a(51341);var d=a(73641);var u=a(59155);var h=a(21198);var p=a(17863);var m=a(66327);var f=a(68003);var g=a(98675);class v extends n.Component{constructor(){super(...arguments);(0,l.Z)(this,"_handleOnInput",(e=>{this._inputVal.value=(0,p.Xw)(e.target.value,this._previousVal);this._previousVal=this._inputVal.value}));(0,l.Z)(this,"_previousVal","")}static get className(){return"ClockFieldBox"}componentDidUpdate(){this._previousVal=this.props.timeVal}render(){const{autoFocus:e,label:t,timeVal:a,handleInputChange:s,handleInputBlur:n,handleInputFocus:o,selectProps:l,error:c,disabled:p}=this.props;const m=e?"autofocus":null;const f=typeof s==="function"?s:d.noop;const g=typeof n==="function"?n:d.noop;const v=typeof o==="function"?o:d.noop;const y={ClockField:true,error:c};const b=(0,d.uniqueId)("clockField");return(0,r.Z)("div",{className:(0,h.classNameFromObject)(y)},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:b},void 0,t),(0,r.Z)("div",{className:"fieldDiv fab-FormField"},void 0,i().createElement("input",{autoFocus:m,className:"ClockField__formInput fab-TextInput fab-TextInput--width2",disabled:p,id:b,onBlur:g,onChange:f,onFocus:v,onInput:this._handleOnInput,ref:e=>this._inputVal=e,type:"text",value:a}),i().createElement(u.Select,l)))}}var y=a(71141);var b=a(33743);var w=a(78922);var S=a(41783);var $=a(26570);function C(e){const t=(0,S.y)();const{canEdit:a,id:n,onAddNote:o,onProjectChange:l,projectData:c,projectTaskSelectStyles:d,projectsWithTasks:h,showNoteInput:m}=e;let f=null;if(c&&c.projectId&&c.taskId){f=`${c.projectId}-${c.taskId}`}else if(c&&c.projectId){f=c.projectId}const g={items:(0,p.aC)(h),onSelect:e=>l(n,e),onClear:()=>l(n,null),placeholder:`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,p.m7)(e,c.projectName,c.taskName),selectedValues:[f],width:7};return(0,r.Z)("div",{className:t.wrapper},void 0,h.allIds.length>0&&(0,r.Z)("span",{className:[t.projectTaskSelect,d].join(" ")},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"projectSelect"},void 0,$.__("Save time to...")),i().createElement(u.Select,(0,s.Z)({isDisabled:!a,name:"projectSelect"},g))),(m||a)&&(0,r.Z)(w.Z,{customCSS:{AddEditEntry__noteIconWrapper:true},disabled:!a||m,hasNote:m,onNoteIconClick:()=>o(n)}))}var x=a(26570);const T=(0,y.isEnabled)("timeTrackingGeolocation");var E=e=>{const{canEdit:t,endTime:a,showRemoveButton:s,id:o,geolocationData:{clockInAddress:l,clockInLatitude:c,clockInLongitude:d,clockInLocationAccuracy:m,clockOutAddress:f,clockOutLatitude:g,clockOutLongitude:v,clockOutLocationAccuracy:y},handleRemoveButtonClick:w,note:S,onNoteChange:E,overlappingError:N,showNoteInput:I,total:A,type:F}=e;const[M,D]=(0,n.useState)(false);const P=(0,h.classNameFromObject)({AddEditEntry__clocks:true,"AddEditEntry__clocks--add":F==="add"});const O=!!(l||f);const L=m===-1;const R=y===-1;const B=a!=="1"&&A<0;let j=null;if(B){j=x.__("Oops, try again")}else if(N){j=x.__("Overlapping entry")}else if(A){j=(0,p.mr)(A)}let H=[];let q=null;if(T){H=[{accuracy:m,coordinates:{lat:c,lng:d},label:"Clock In"},{accuracy:y,coordinates:{lat:g||null,lng:v||null},label:"Clock Out"}];const e=(0,p.Pz)([c,d],[g,v]);if(c&&d&&g&&v&&e<=50){H=[{accuracy:m,coordinates:{lat:c,lng:d},label:"Clock In/Out"}]}if(e<100&&e>50){q=17}}return(0,r.Z)("div",{className:P},void 0,s&&(0,r.Z)("span",{className:"AddEditEntry__removeEntry",onClick:()=>{w(o)}},void 0,(0,r.Z)(u.Icon,{name:"fab-x-10x10"})),(0,r.Z)("div",{className:"fieldRow AddEditEntry__fieldRow"},void 0,k(true,e),(0,r.Z)("span",{className:"AddEditEntry__formDash"},void 0,""),k(false,e,true),i().createElement(C,e),(0,r.Z)("p",{className:"fab-FormNote AddEditEntry__formNote"},void 0,j)),T&&(O||L||R)&&(0,r.Z)("div",{className:"AddEditEntry__location"},void 0,(0,r.Z)("span",{className:"fab-Label"},void 0,x.__("Location")),T&&(l||L)&&(0,r.Z)("div",{className:(0,h.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withWarning":L})},void 0,(0,r.Z)("span",{className:"AddEditEntry__address__label"},void 0,x.__("Clocked In Near")),L?Z("clock-in"):l),T&&(f||R)&&(0,r.Z)("div",{className:(0,h.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withBorder":true,"AddEditEntry__address--withWarning":R})},void 0,(0,r.Z)("span",{className:"AddEditEntry__address__label"},void 0,x.__("Clocked Out Near")),R?Z("clock-out"):f),!M&&(!L||!R)&&(0,r.Z)(u.TextButton,{clickAction:()=>D(true),iconAfter:"fab-double-chevron-down-6x8",iconBefore:"fab-location-11x14",text:x.__("Show Map"),type:"button"}),M&&(!L||!R)&&(0,r.Z)(b.D,{markers:H,height:"291px",width:"396px",zoom:q})),I&&(0,r.Z)("textarea",{autoFocus:I,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:S,disabled:!t,maxLength:"200",onChange:e=>{E(e,o)},placeholder:x.__("Add note..."),rows:"2",type:"text"}))};function k(e,t,a){const{canEdit:s,startTime:n,startMeridiem:o,endTime:r,endMeridiem:l,id:c,total:d,handleInputBlur:u,handleInputChange:h,handleSelectChange:p,overlappingError:m}=t;const f=e?x.__("Start Time"):x.__("End Time");const g=e?n:r;const y=e?o:l;const b={isDisabled:!s,isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[y],onSelect:t=>{p(t,e,c)}};const w=r!=="1"&&d<0;const S={disabled:!s,label:f,timeVal:g,selectProps:b,error:w||m,hasNote:a,autoFocus:e,handleInputChange:t=>{h(t.target.value,e,c)},handleInputBlur:t=>{u(t.target.value,e,c);t.target.setAttribute("placeholder","")},handleInputFocus:e=>{e.target.setAttribute("placeholder","hh:mm");e.target.select()}};return i().createElement(v,S)}function Z(e){const t=e==="clock-in"?"in":"out";return(0,r.Z)("div",{className:"AddEditEntry__location__warningMessage"},void 0,(0,r.Z)("span",{className:"AddEditEntry__location__warningMessage__icon"},void 0,(0,r.Z)(u.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,r.Z)("p",{className:"AddEditEntry__location__warningMessage__text"},void 0,x.__(`There wasnt a strong signal where they clocked %1, so we cant show it on the map.`,t)))}var N=a(1895);var I=a(88306);var A=a(85323);var F=a(26570);let M=null;let D=null;function P(e){const t=(0,A.y)();const a=(0,n.createRef)();const{canEdit:o,showRemoveButton:l,hours:c,hoursError:d,id:m,note:g,onHintDismiss:v,onInputChange:y,onInputFocus:b,onNoteChange:w,onRemoveButtonClick:S,projectsWithTasks:x,showNoteInput:T,showTimeEntryHint:E}=e;(0,n.useEffect)((()=>{if(!M){M=(0,N.Z)()}if(E&&!D){D=(0,I.Z)();D.onClose((()=>{D.destroy();D=null;v()}))}}),[]);const k=()=>{setTimeout((()=>{if(D){D.hide()}}),200);M.hide()};const Z=e=>{const{value:t}=e.target;const s=(0,p.TD)(t);const n=s!==p.ch&&s!==p.w9;if(n){if(D){D.show()}M.hide()}else{const e=s===p.w9?f.m6:f.RG;if(D){D.hide()}(0,N.n)(e,a.current);M.show()}y(e,m)};const P=e=>{if(D){D.setAnchor(a.current);if(D){D.show()}}if(d){const{value:t}=e.target;const s=(0,p.TD)(t);const n=s===p.w9?f.m6:f.RG;(0,N.n)(n,a.current);M.show();return}b(m)};return(0,r.Z)("div",{className:t.root},void 0,(0,r.Z)("div",{className:t.entryRow},void 0,l&&(0,r.Z)("span",{className:t.removeButton,onClick:()=>{S(m)}},void 0,(0,r.Z)(u.Icon,{name:"fab-x-10x10"})),(0,r.Z)("div",{},void 0,(0,r.Z)("label",{className:(0,h.classNameFromObject)("fab-Label",{"fab-Label--error":d}),htmlFor:"hoursWorked"},void 0,F.__("Hours Worked")),(0,r.Z)("div",{className:"fab-InputWrapper"},void 0,i().createElement("input",{className:(0,h.classNameFromObject)("fab-TextInput fab-TextInput--width3",{"fab-TextInput--error":d}),disabled:!o,id:"hoursWorked",onBlur:k,onChange:e=>Z(e),onFocus:P,ref:a,type:"text",value:c}))),x.allIds.length>0&&(0,r.Z)("span",{className:t.dash},void 0,""),i().createElement(C,(0,s.Z)({},e,{projectTaskSelectStyles:t.projectTaskSelect}))),T&&(0,r.Z)("textarea",{autoFocus:T,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:g,disabled:!o,maxLength:"200",onChange:e=>{w(e,m)},placeholder:F.__("Add note..."),rows:"2",type:"text"}))}var O=a(26570);class L extends n.Component{static get className(){return"AddEditEntry"}constructor(e){super(e);(0,l.Z)(this,"_handleAddEntryClick",(()=>{const e=this.state.entries.slice();const t=++this.state.idIncrementer;const a={startTime:"",startMeridiem:"AM",endTime:"",endMeridiem:"AM",hours:"",hoursError:false,total:0,id:t,isEdit:false,key:t||(0,d.uniqueId)(),showRemoveButton:true,timezone:this.props.timezone,projectData:{projectId:null,projectName:null,taskId:null,taskName:null},geolocationData:{clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null}};e.push(a);this.setState({entries:e,idIncrementer:t})}));(0,l.Z)(this,"_handleEntryRemoveClick",(e=>{this.setState({entries:this.state.entries.filter((t=>t.id!==e))})}));(0,l.Z)(this,"_checkForHourEntriesError",(()=>{const{hourEntries:e,type:t}=this.props;const{entries:a}=this.state;const s=a.slice();const n=s.reduce(((e,t)=>e+(0,p.TD)(t.hours)),0);const i=e.reduce(((e,t)=>{const a=s.find((e=>e.id===t.id));if(a){return e}return e+t.hours}),0);return n+i>24}));(0,l.Z)(this,"_handleInputChange",((e,t,a)=>{const{date:s}=this.props;const n=this.state.entries.slice();const i=n.find((e=>e.id===a));i.overlappingError=false;if(t){i.startTime=e;i.startMoment=e?c.Z.tz(`${s} ${(0,p.Vd)(e,i.startMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}else{i.endTime=e;if(i.startTime){const t=(0,p.YZ)(e);const a=Number(t.split(":")[0]);if(i.startMeridiem==="AM"&&e!=="1"&&a&&a<i.startMoment.hour()){i.endMeridiem="PM"}else if(i.startMeridiem==="AM"&&(0,d.startsWith)(t,"12")){i.endMeridiem="PM"}else if(i.startMeridiem==="PM"&&t==="12:00"){i.endMeridiem="AM"}}const t=(0,p.v3)(i.endTime,i.endMeridiem,s);i.endMoment=e?c.Z.tz(`${t} ${(0,p.Vd)(e,i.endMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:n})}}));(0,l.Z)(this,"_handleInputBlur",((e,t,a)=>{if(e){const s=(0,p.YZ)(e);this._handleInputChange(s,t,a)}}));(0,l.Z)(this,"_handleSelectChange",((e,t,a)=>{const{date:s}=this.props;const n=this.state.entries.slice();const i=n.find((e=>e.id===a));i.overlappingError=false;if(t){if(e==="PM"&&i.endMeridiem!=="PM"){i.startMeridiem=e;i.startMoment=c.Z.tz(`${s} ${(0,p.Vd)(i.startTime,e)}`,i.timezone);i.endMeridiem=i.endTime==="12:00"?i.endMeridiem:"PM";const t=(0,p.v3)(i.endTime,i.endMeridiem,s);i.endMoment=c.Z.tz(`${t} ${(0,p.Vd)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}else{i.startMeridiem=e;i.startMoment=c.Z.tz(`${s} ${(0,p.Vd)(i.startTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:n})}}else{i.endMeridiem=e;const t=(0,p.v3)(i.endTime,i.endMeridiem,s);i.endMoment=c.Z.tz(`${t} ${(0,p.Vd)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:n})}}));(0,l.Z)(this,"_handleAddNote",(e=>{const{entries:t}=this.state;t.map((t=>{if(t.id===e){t.showNoteInput=!t.showNoteInput}}));this.setState({entries:t})}));(0,l.Z)(this,"_handleNoteChange",((e,t)=>{const a=e.target.value;const{entries:s}=this.state;s.map((e=>{if(e.id===t){e.note=a}}));this.setState({entries:s})}));(0,l.Z)(this,"_handleProjectChange",((e,t)=>{const{projectsWithTasks:a}=this.props;const{entries:s}=this.state;const n=s.map((s=>{if(s.id===e){s.projectData=(0,p.Tr)(t,a)}return s}));this.setState({entries:n})}));(0,l.Z)(this,"_handleHourInputFocus",(e=>{const{entries:t}=this.state;const a=t.slice();const s=a.find((t=>t.id===e));if(s.hours!==null&&s.hours!==""){s.hours=(0,d.round)(s.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){s.hours=String(s.hours).replace(".",",")}this.setState({entries:a})}}));(0,l.Z)(this,"_handleHourInputChange",((e,t)=>{const{value:a}=e.target;const{entries:s}=this.state;const n=s.slice();const i=n.find((e=>e.id===t));const o=(0,p.E)(a);i.hours=a;if(o){i.hoursError=false;i.total=(0,p.TD)(a)}else{i.hoursError=true}this.setState({entries:n})}));(0,l.Z)(this,"_saveEntry",(()=>{const{afterAction:e}=this.props;const t=this.hourTimesheetType?"hour":"clock";this.setState({isModalProcessing:true});const a=this._handleFormSave();if(a){(0,m.addEdit)(t,a).then((()=>{this.setState({isModalOpen:false});if(e&&typeof e==="function"){e()}})).catch((e=>{this.setState({isModalProcessing:false});if(e.status===409){this._handleSaveError(JSON.parse(e.responseText).trackingIds)}}))}}));(0,l.Z)(this,"_deleteEntry",(()=>{const{afterAction:e,currentEntryId:t}=this.props;const a=this.hourTimesheetType?"hour":"clock";this.setState({isSheetProcessing:true});(0,m.deleteEntry)(a,t).then((()=>{this.setState({isModalOpen:false,isSheetOpen:false});if(e&&typeof e==="function"){e()}})).catch((()=>{this.setState({isSheetProcessing:false})}))}));const{canEdit:t,type:a,clockEntries:s,currentEntryId:n,hourEntries:i,timesheetType:o}=e;this.hourTimesheetType=o==="hour";let r="";let u="AM";let h=null;let f="";let g="AM";let v=null;let y=1;let b="";const w=false;let S=0;let C=e.dayTotal;let x=false;let T="";let E={projectId:null,projectName:null,taskId:null,taskName:null};let k={clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null};if(!this.hourTimesheetType&&a==="edit"&&Array.isArray(s)){const t=s.find((e=>e.id===n));if(t&&t.start&&t.end){h=c.Z.tz(t.start,t.timezone);v=c.Z.tz(t.end,t.timezone);r=h.format("h:mm");u=(0,p.xX)(h);f=v.format("h:mm");g=(0,p.xX)(v);S=(0,p.I1)(h,v,"hours");C=e.dayTotal-S;T=t.note;x=t.note!==null;E={projectId:t.projectId,projectName:t.projectName,taskId:t.taskId,taskName:t.taskName};k={clockInAddress:t.clockInAddress,clockInLatitude:t.clockInLatitude,clockInLongitude:t.clockInLongitude,clockInLocationAccuracy:t.clockInLocationAccuracy,clockOutAddress:t.clockOutAddress,clockOutLatitude:t.clockOutLatitude,clockOutLongitude:t.clockOutLongitude,clockOutLocationAccuracy:t.clockOutLocationAccuracy}}y=n}if(this.hourTimesheetType&&a==="edit"&&Array.isArray(i)){const e=i.find((e=>e.id===n));if(e){y=n;E={projectId:e.projectId,projectName:e.projectName,taskId:e.taskId,taskName:e.taskName};T=e.note;b=e.hours;S=b;x=e.note!==null;C-=b}}this.state={entries:[{startTime:r,startMeridiem:u,startMoment:h,endTime:f,endMeridiem:g,endMoment:v,hours:b,hoursError:w,total:S,showNoteInput:x,note:T,projectData:E,geolocationData:k,timezone:this.props.timezone,id:y,key:y||(0,d.uniqueId)(),showRemoveButton:false,isEdit:a==="edit"}],idIncrementer:y,dayTotal:C,isModalOpen:false,isModalProcessing:false,isSheetOpen:false,isSheetProcessing:false,canEdit:t,canSave:a==="edit"&&t}}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){const{canEdit:e,canSave:t}=this.state;const a=this._handleValidation();if(e&&t!==a){this.setState({canSave:a})}}_checkForOverlappingError(){const e=this.state.entries.slice();const t=this._getExistingEntriesWithMoments();let a=false;e.forEach((s=>{t.forEach((e=>{if(this.props.type==="edit"&&s.id!==e.id){if((0,p.gi)(s,e)){s.overlappingError=true;a=true}}else if(this.props.type==="add"){if((0,p.gi)(s,e)){s.overlappingError=true;a=true}}}));e.forEach((e=>{if(s.id!==e.id){if((0,p.gi)(s,e)){s.overlappingError=true;a=true}}}))}));return a?e:a}_getExistingEntriesWithMoments(){return this.props.clockEntries.map((e=>{e.startMoment=c.Z.tz(e.start,e.timezone);e.endMoment=c.Z.tz(e.end,e.timezone);return e}))}_getRequestData(){const{entries:e}=this.state;return e.map((e=>{const{hours:t,id:a,note:s,projectData:n,startMoment:i,endMoment:o}=e;const{type:r,employeeId:l,date:c}=this.props;if(this.hourTimesheetType){return{id:r==="edit"?a:null,dailyEntryId:r==="edit"?null:a,employeeId:l,date:c,hours:(0,p.TD)(t),note:s,projectId:n.projectId,taskId:n.taskId}}return{id:r==="edit"?a:null,trackingId:r==="edit"?null:a,employeeId:l,date:c,start:i.format("HH:mm"),end:o.isSame(i,"day")?o.format("HH:mm"):"24:00",note:s,projectId:n.projectId,taskId:n.taskId}}))}_getIndividualEntryTotal(e,t){const{startTime:a,startMeridiem:s,endTime:n,endMeridiem:i}=e;const{date:o}=this.props;const r=(0,p.v3)(n,i,o);const l=t?(0,p.YZ)(a):(0,p.YZ)(n);const d=l?(0,c.Z)(l,"h:mm").format("h:mm"):null;let u;let h;if(t&&n&&d){u=(0,c.Z)(`${o} ${(0,p.Vd)(d,s)}`);h=(0,c.Z)(`${r} ${(0,p.Vd)(n,i)}`)}else if(!t&&a&&d){u=(0,c.Z)(`${o} ${(0,p.Vd)(a,s)}`);h=(0,c.Z)(`${r} ${(0,p.Vd)(d,i)}`)}else{return 0}return(0,p.I1)(u,h,"hours")}_getDayTotal(){return this.state.entries.reduce(((e,t)=>e+t.total),this.state.dayTotal)}_handleValidation(){const{entries:e}=this.state;let t;if(this.hourTimesheetType){t=(0,p.bY)(e)}else{t=(0,p.Ui)(e)}return t}_handleFormSave(){let e;if(this.hourTimesheetType){const e=this._checkForHourEntriesError();if(e){this.setState({isModalProcessing:false});window.setMessage(f.Bo,"error");return false}}else{e=this._checkForOverlappingError()}if(e){this.setState({entries:e,isModalProcessing:false});window.setMessage(f._v,"error");return false}return this._getRequestData()}_handleSaveError(e){const t=this.state.entries.slice();e.forEach((e=>{t.forEach((t=>{if(t.id===e){t.overlappingError=true}}))}));this.setState({entries:t})}_renderAddEntryLink(){return(0,r.Z)("div",{className:"AddEditEntry__addEntryLink"},void 0,(0,r.Z)("a",{onClick:this._handleAddEntryClick},void 0,"+ ",O.__("Add Entry")))}_renderDayTotal(){const e=this._getDayTotal();return(0,r.Z)("div",{className:(0,h.classNameFromObject)("AddEditEntry__dayTotal",{"AddEditEntry__dayTotal--error":e>24})},void 0,O.__("Day Total: %1",(0,p.mr)(e)))}_renderClockEntrySlats(){const{canEdit:e,projectsWithTasks:t,type:a}=this.props;return(0,r.Z)("form",{className:"BhrForms"},void 0,this.state.entries.map((n=>i().createElement(E,(0,s.Z)({},n,{canEdit:e,date:this.props.date,onAddNote:this._handleAddNote,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,handleRemoveButtonClick:this._handleEntryRemoveClick,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:n.key,projectsWithTasks:t,type:a})))))}_renderHourEntrySlats(){const{canEdit:e,onHintDismiss:t,projectsWithTasks:a,showTimeEntryHint:n,timesheetType:o,type:l}=this.props;const{entries:c}=this.state;return(0,r.Z)("form",{},void 0,c.map((o=>i().createElement(P,(0,s.Z)({key:o.id},o,{canEdit:e,onAddNote:this._handleAddNote,onHintDismiss:()=>t("showTimeEntryHint",false),onInputBlur:this._handleHourInputBlur,onInputChange:this._handleHourInputChange,onInputFocus:this._handleHourInputFocus,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,onRemoveButtonClick:this._handleEntryRemoveClick,projectsWithTasks:a,showTimeEntryHint:n,type:l})))))}render(){const{clockEntries:e,openAsSheet:t,currentEntryId:a,date:s,hourEntries:n,modalTitle:i,timezone:o,timesheetType:l,type:d,canEdit:h}=this.props;const{canSave:m,isModalOpen:v,isModalProcessing:y,isSheetOpen:b,isSheetProcessing:w}=this.state;const S=c.Z.tz(s,o);const C=(0,r.Z)("div",{className:"AddEditEntry"},void 0,(l==="multiple"||l==="clock")&&this._renderClockEntrySlats(),l==="hour"&&this._renderHourEntrySlats(),(0,r.Z)("div",{className:"AddEditEntry__totalRow"},void 0,d==="add"&&this._renderAddEntryLink(),this._renderDayTotal()));let x=null;if(d==="edit"){let t;if(this.hourTimesheetType){const e=n.find((e=>e.id===a));t=O.__("Are you sure you want to delete this %1 entry?",(0,p.mr)(e.hours))}else{const s=e.find((e=>e.id===a));const n=c.Z.tz(s.start,s.timezone).format(f.T_);const i=c.Z.tz(s.end,s.timezone).format(f.T_);t=O.__("Are you sure you want to delete the %1 to %2 entry?",n,i)}const s=(0,r.Z)("div",{className:"AddEditEntry__deleteSheet"},void 0,(0,r.Z)("span",{className:"AddEditEntry__deleteSheetIcon"},void 0,(0,r.Z)(u.Icon,{name:"fab-trash-can-43x48"})),(0,r.Z)("h5",{},void 0,t));x={content:s,isOpen:b,isProcessing:w,onClose:()=>this.setState({isSheetOpen:false}),primaryAction:this._deleteEntry,primaryActionText:O.__("Yes, Delete Entry"),title:O.__("Just Checking...")}}const T=()=>this.setState({isModalOpen:false});let E=null;let k=T;if(h){E=T;k=m?this._saveEntry:null}return(0,r.Z)(g.u,{additionalAction:d==="edit"&&h?()=>this.setState({isSheetOpen:true}):null,additionalActionText:O.__("Delete Time Entry"),alternativeAction:E,isOpen:v,isProcessing:y,onClose:T,primaryAction:k,primaryActionText:h?O.__("Save"):O.__("Done"),sheetProps:x,title:i,icon:this.hourTimesheetType?"fab-stopwatch-plus-18x20":"fab-calendar-15x16",header:S.format("dddd, MMM D"),headerType:"text",type:t?"largeSheet":"medium"},void 0,C)}}var R=a(26570);function B(e){return new Promise((t=>{let a=R.__("Time Worked");if(e.canEdit){a=e.type==="edit"?R.__("Edit Time Worked"):R.__("Enter Time Worked")}const n=document.createElement("div");(0,o.s)(i().createElement(L,(0,s.Z)({},e,{afterAction:t,modalTitle:a})),n)}))}},52326:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var s=a(88604);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(89835);var l=a(44119);var c=a(82543);var d=a.n(c);var u=a(21198);var h=a(71141);var p=a(98675);var m=a(59155);var f=a(17863);var g=a(66327);var v=a(33743);var y=a(2224);var $=a(26570);const b=(0,h.isEnabled)("timeTrackingGeolocation");class w extends n.Component{static get className(){return"AddNote"}constructor(e){super(e);(0,l.Z)(this,"_handleTimeInput",(e=>{const{startTimeMeridiem:t,startTime:a}=this.state;const s=e.target.value;this.timeInputRef.current.value=(0,f.Xw)(s,a);let n=this._getWorkedTime(this.timeInputRef.current.value,t);if(n<0){n=0}this.setState({startTime:this.timeInputRef.current.value,workedTime:n})}));(0,l.Z)(this,"_handleNoteInput",(e=>{const t=e.target.value;this.setState({noteText:t})}));(0,l.Z)(this,"_handleProjectChange",(e=>{const{projectsWithTasks:t}=this.props;const a=(0,f.Tr)(e,t);this.setState({projectData:a})}));(0,l.Z)(this,"_getModalData",(()=>{const{noteText:e,startTimeMeridiem:t,startTime:a}=this.state;const{clock:s,today:n,timezone:i}=this.props;const o=n.format("YYYY-MM-DD");const r="YYYY-MM-DD h:mm A";const l=d().tz(`${o} ${a} ${t}`,r,i);let c=false;if(s){const e=d()(s.latest.start).tz(i);c=!e.isSame(l)}const u={note:e,selectedTime:l,timeWasChanged:c,timezone:i};return u}));(0,l.Z)(this,"_getWorkedTime",((e,t)=>{const{today:a,timezone:s}=this.props;const n=a.format("YYYY-MM-DD");const i="YYYY-MM-DD h:mm A";const o=d().tz(`${n} ${e} ${t}`,i,s);return(0,f.I1)(o,d()().tz(s),"hours")}));(0,l.Z)(this,"_saveNote",(()=>{const{projectData:{projectId:e,taskId:t}}=this.state;const{afterSave:a,canEdit:s,employeeId:n,totalTime:i,type:o}=this.props;const r=this._getModalData();this.setState({isModalProcessing:true});if(o==="clock"){const i={note:r.note,projectId:e,taskId:t};if(r.timeWasChanged&&s){i.start=r.selectedTime.format("HH:mm");i.timezone=r.timezone}g.saveClockInData(n,i).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}else if(o==="single"){const s={employeeId:n,hours:i,date:r.selectedTime.format("YYYY-MM-DD"),note:r.note,projectId:e,taskId:t};g.saveSingleDailyHours([s]).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}}));const{clock:t,hours:a,note:s,today:i,timezone:o,projectData:r}=e;let c=null;let u=null;let h="";let p=null;if(t&&t.latest){c=i.format("A");u=i.format("h:mm");p=(0,f.I1)(i,d()().tz(o),"hours")}if(s){h=s}this.state={noteText:h,startTimeMeridiem:c,startTime:u,workedTime:p,isModalOpen:false,isModalProcessing:false,projectData:r,showMap:false};this.timeInputRef=(0,n.createRef)()}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,noteText:a,showMap:n,startTimeMeridiem:o,startTime:l,workedTime:c,projectData:d}=this.state;const{canEdit:h,clock:g,note:w,today:S,type:C,isViewOnly:x,projectsWithTasks:T}=this.props;const E=g&&g.clockedIn;const k=E?g?.latest.clockInAddress:false;const{clockInLatitude:Z,clockInLongitude:N,clockInLocationAccuracy:I}=g?.latest||{};const A=g?.latest.clockInLocationAccuracy===-1||false;let F=$.__("Update Time Entry");if(C==="single"){F=w?$.__("Update Note"):$.__("Add Note")}const M={isClearable:false,isDisabled:!h,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[o],onSelect:e=>{const{startTime:t}=this.state;let a=e;let s=this._getWorkedTime(t,a);if(s<0){s=0}this.setState({startTimeMeridiem:a,workedTime:s})}};const D=(0,u.classNameFromObject)({AddNote__noteArea:true,"AddNote__noteArea--hasStartTime":g,fieldRow:true,BhrForms:true});let P=null;if(d&&d.projectId&&d.taskId){P=`${d.projectId}-${d.taskId}`}else if(d&&d.projectId){P=d.projectId}const O={items:T?(0,f.aC)(T):[],onSelect:this._handleProjectChange,onClear:()=>this._handleProjectChange(null),placeholder:d.projectName?(0,f.m7)(null,d.projectName,d.taskName):`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,f.m7)(e,d.projectName,d.taskName),selectedValues:[P],width:7};const L=T&&T.allIds.length>0;const R=(0,r.Z)("div",{className:"AddNote__projectSelect"},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"projectSelect"},void 0,$.__("Save time to...")),i().createElement(m.Select,(0,s.Z)({isDisabled:!h&&!E,name:"projectSelect"},O)));const B=(0,r.Z)("div",{className:"AddNote__timeWrapper"},void 0,(0,r.Z)("div",{className:"AddNote__timeWrapper__startTime"},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"startTime"},void 0,$.__("Start Time")),(0,r.Z)("div",{className:"fab-InputWrapper"},void 0,i().createElement("input",{className:"AddNote__timeInput fab-TextInput fab-TextInput--width2",defaultValue:l,disabled:!h,name:"startTime",onInput:this._handleTimeInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),i().createElement(m.Select,M))),L?R:null,(0,r.Z)("div",{className:"AddNote__timeSpinnerWrapper"},void 0,(0,r.Z)("div",{className:"AddNote__timeSpinner"},void 0,(0,r.Z)(y.Z,{})),(0,r.Z)("p",{},void 0,(0,f.mr)(c))));const j=(0,u.classNameFromObject)({AddNote__textAreaWrapper:true,"AddNote__textAreaWrapper--viewOnly":x,fieldDiv:true});const H=(0,u.classNameFromObject)({AddNote__textArea:true,"fab-Textarea":true,"fab-Textarea--width100":true});const q=(0,r.Z)("div",{className:"AddNote__location__warningMessage"},void 0,(0,r.Z)("span",{className:"AddNote__location__warningMessage__icon"},void 0,(0,r.Z)(m.Icon,{name:"fab-triangle-exclamation-16x16"})),(0,r.Z)("p",{className:"AddNote__location__warningMessage__text"},void 0,$.__(`There wasnt a strong signal where they clocked in, so we cant show it on the map.`)));const W=(0,r.Z)("div",{className:"AddNote"},void 0,g&&B,C==="single"&&L?R:null,b&&k&&(0,r.Z)("div",{className:"AddNote__location"},void 0,(0,r.Z)("span",{className:"fab-Label"},void 0,$.__("Location")),(0,r.Z)("div",{className:(0,u.classNameFromObject)({AddNote__address:true,"AddNote__address--withWarning":A})},void 0,(0,r.Z)("span",{className:"AddNote__address__label"},void 0,$.__("Clocked In Near")),A?q:k),!n&&!A&&(0,r.Z)("div",{className:"AddNote__location__showMapButton"},void 0,(0,r.Z)(m.TextButton,{clickAction:()=>this.setState({showMap:true}),iconAfter:"fab-double-chevron-down-6x8",iconBefore:"fab-location-11x14",text:$.__("Show Map"),type:"button"})),n&&!A&&(0,r.Z)(v.D,{markers:[{accuracy:I,coordinates:{lat:Z,lng:N},label:"Clock In"}],height:"291px",width:"396px",zoom:17})),(0,r.Z)("div",{className:D},void 0,(0,r.Z)("div",{className:"fieldBox fullWidth"},void 0,(0,r.Z)("label",{className:"fab-Label",htmlFor:"note"},void 0,$.__("Note")),(0,r.Z)("div",{className:j},void 0,(0,r.Z)("textarea",{"aria-label":"Note",autoFocus:true,className:H,defaultValue:a,disabled:!h&&!E,maxLength:"200",name:"note",onInput:this._handleNoteInput})))));return(0,r.Z)(p.u,{headerType:"text",header:S.format("dddd, MMM D"),icon:"fab-calendar-15x16",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:h&&x===false||E?this._saveNote:null,primaryActionText:$.__("Save"),title:F,type:"small"},void 0,W)}}function S(e){return new Promise((t=>{const a=document.createElement("div");(0,o.s)(i().createElement(w,(0,s.Z)({afterSave:t},e)),a)}))}},87197:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Z});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(77512);var r=a(88604);var l=a(44119);var c=a(73641);var d=a(82543);var u=a.n(d);var h=a(59155);var p=a(98675);var m=a(17842);var f=a.n(m);var g=a(17863);var v=a(68003);var y=a(18613);var b=a(51341);var w=e=>{const{firstName:t,lastName:a,start:n,timezone:i,id:o,today:r,handleDateChange:l}=e;const c=b.Z.tz(n,i);const d=b.Z.tz(r,i);const u=b.Z.tz.zone(i).abbr(c);const p=c.isSame(d,"day")?d.format("MMM D"):`${c.format("MMM D")} - ${d.format("MMM D")}`;const m={start:n,timezone:i};const f=e=>{l(e,o)};return(0,s.Z)("div",{className:"ClockOutSlat"},void 0,(0,s.Z)("div",{className:"ClockOutSlat__header"},void 0,(0,s.Z)("div",{className:"ClockOutSlat__employee"},void 0,(0,s.Z)(h.Icon,{brand:true,name:"fab-person-circle-16x16"}),(0,s.Z)("span",{className:"ClockOutSlat__name baseColor"},void 0,t," ",a),(0,s.Z)("span",{className:"ClockOutSlat__timezone"},void 0,"(",u,")")),(0,s.Z)("div",{className:"ClockOutSlat__dateRange"},void 0,p)),(0,s.Z)(y.Z,{lastClockEntry:m,onDateChange:f,showTotal:"true"}))};var S=a(95824);var C=a.n(S);var $=a(26570);function x(e,t){window.SimpleModal.openModal({callbacks:{close:{after:function(){if(e){window.setMessage(v.qe,"error")}}}},html:window.microTemplate(C(),{}),title:$.__("Whoa, something changed"),footer:{buttons:{primary:{text:$.__("Got it"),action:()=>{window.SimpleModal.closeModal();t()}},cancel:{show:false}}}})}var T=a(26570);class E extends n.Component{static get className(){return"ApproverClockOut"}constructor(e){super(e);(0,l.Z)(this,"_clockOutEmployees",(()=>{const{afterAction:e}=this.props;let{url:t}=this.props;this.setState({isModalProcessing:true});let a={clockOuts:this._handleFormSave()};if(t==="/timesheet/clock/out/approval"){t="/timesheet/clock/out/datetime"}if(a){f().post(t,JSON.stringify(a),{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((t=>{this.setState({isModalOpen:false});e(t.data)})).catch((e=>{let t;if(e.response.data.data){t=e.response.data.data.timesheets}else{t=e.response.data.timesheets}this.setState({isModalProcessing:false});this._handleSaveError(t)}))}}));const t=e.employees.map((e=>{const t={};const a=u().tz(e.start.date,e.start.timezone);t.endTime="";t.endMeridiem=a.format("A");t.startTime=a.format("h:mm");t.start=e.start.date;t.today=e.today.date;t.timezone=e.today.timezone;t.firstName=e.firstName;t.lastName=e.lastName;t.id=e.id;t.employeeId=e.employeeId;t.clockOutDateTime=null;return t}));this.state={employees:t,isModalOpen:false,isModalProcessing:false,canSave:true};this._handleInputBlur=this._handleInputBlur.bind(this);this._handleInputChange=this._handleInputChange.bind(this);this._handleSelectChange=this._handleSelectChange.bind(this);this._handleDateChange=this._handleDateChange.bind(this)}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){this._handleValidation()}render(){const{canSave:e,isModalOpen:t,isModalProcessing:a}=this.state;const{title:n}=this.props;return(0,s.Z)(p.u,{isOpen:t,isProcessing:a,onClose:()=>this.setState({isModalOpen:false}),primaryAction:e?this._clockOutEmployees:null,primaryActionText:T.__("Clock Out & Approve"),title:n,type:"medium"},void 0,(0,s.Z)("div",{className:"ApproverClockOut"},void 0,this._renderWarning(),this._renderClockOutSlats()))}_getIndividualEntryTotal(e){const{start:t,endMeridiem:a,endTime:s,today:n}=e;const i=(0,g.v3)(s,a,u()(n).format("YYYY-MM-DD"));const o=(0,g.YZ)(s);const r=o?u()(o,"h:mm").format("h:mm"):null;let l;if(s&&r){l=`${i} ${(0,g.Vd)(r,a)}`}else{return 0}const c=u()(t);const d=u()(l);return(0,g.I1)(c,d,"hours")}_handleValidation(){const{employees:e}=this.state;return(0,g.Lq)(e)}_handleFormSave(){const{employees:e}=this.state;return e.map((e=>({employeeId:e.employeeId,datetime:e.clockOutDateTime.toISOString(true),timezone:e.timezone})))}_handleSaveError(e){let t=this.state.employees.slice();let a=false;let s=false;t=t.filter((t=>{const n=e.find((e=>e.employeeId===t.employeeId));if(n.status==="failure"&&n.error==="CLOCKED_OUT"){a=true}else if(n.status==="failure"){s=true;return true}else{return true}return false}));if(a){x(s,(()=>{if(t.length===0){window.SimpleModal.closeModal()}}))}else if(s){window.setMessage(v.qe,"error")}if(t.length>0){this.setState({employees:t})}}_handleInputBlur(e,t){if(e){const a=(0,g.YZ)(e);this._handleInputChange(a,t)}}_handleInputChange(e,t){const{canSave:a}=this.state;const s=this.state.employees.slice();const n=s.find((e=>e.id===t));n.endTime=e;const i=(0,g.YZ)(e);const o=Number(i.split(":")[0]);const r=u()(n.start);const l=r.format("A");if(l==="AM"&&e!=="1"&&o&&o<r.hour()){n.endMeridiem="PM"}else if(l==="AM"&&(0,c.startsWith)(i,"12")){n.endMeridiem="PM"}else if(l==="PM"&&i==="12:00"){n.endMeridiem="AM"}n.total=this._getIndividualEntryTotal(n);const d=this._handleValidation();this.setState({employees:s,canSave:d})}_handleDateChange(e,t){const{canSave:a,employees:s}=this.state;const n=s.slice();const i=n.find((e=>e.id===t));i.clockOutDateTime=e;const o=this._handleValidation();this.setState({employees:s,canSave:o})}_handleSelectChange(e,t){const{canSave:a}=this.state;const s=this.state.employees.slice();const n=s.find((e=>e.id===t));n.endMeridiem=e;n.total=this._getIndividualEntryTotal(n);const i=this._handleValidation();this.setState({employees:s,canSave:i})}_renderClockOutSlats(){const{employees:e}=this.state;return e.map((e=>i().createElement(w,(0,r.Z)({},e,{handleDateChange:this._handleDateChange,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:e.id.toString()}))))}_renderWarning(){const{employees:e}=this.props;const t=T.__("Some employees are still clocked in.");const a=T.__("Enter clock out times below before approving.");const n=T.__("%1$s might have forgotten to clock out.",e[0].firstName);const i=T.__("Enter a clock out time below before approving hours.");const o=e.length>1;const r=(0,s.Z)("div",{},void 0,(0,s.Z)("h4",{className:"ApproverClockOut__warningHeader"},void 0,o?t:n),(0,s.Z)("p",{className:"ApproverClockOut__warningText"},void 0,o?a:i));const l="fab-stopwatch-exclamation-51x54";return(0,s.Z)("div",{className:"ApproverClockOut__warning"},void 0,(0,s.Z)("div",{className:"ApproverClockOut__warningIcon"},void 0,(0,s.Z)(h.Icon,{name:l})),r)}}var k=a(26570);function Z(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"/timesheet/clock/out/approval";const n=e.length>1?k.__("People are still clocked in"):k.__("%1$s is still clocked in",e[0].firstName);const i=typeof t==="function"?t:c.noop;const r=document.createElement("div");(0,o.s)((0,s.Z)(E,{afterAction:i,employees:e,title:n,url:a}),r)}},99827:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var s=a(89835);var n=a(23321);var i=a(77512);var o=a(44119);var r=a(17842);var l=a.n(r);var c=a(98675);var d=a(59155);var u=a(17863);var h=a(18613);var $=a(26570);const p={INVALID_CLOCK_TIME:$.__("The clock out time is before the clock in time."),MISSING_EMPLOYEE_IDS:$.__("Missing employee ID(s)"),MISSING_TOOL:$.__("Time Tracking is not enabled."),PERMISSIONS:$.__("You don't have permission to do that"),FUTURE_TIMESHEET:$.__("You can't perform that action on a future timesheet."),TIMESHEET_NOT_FOUND:$.__("Timesheet not found"),INVALID_ID:$.__("Invalid employee or timesheet id."),PREVIEW:$.__("Cannot change a clock out date while previewing as another user."),CLOCKED_OUT:$.__("The employee is currently clocked out."),TIMESHEET_TYPE:$.__("Invalid timesheet type"),INVALID_TIMEZONE:$.__("Employee has an invalid timezone setup"),NO_CLOCK_ENTRIES:$.__("The employee hasn't clocked in yet."),SERVER_ERROR:$.__("Internal error."),OVERLAP:$.__("Overlapping timesheets found. Please contact support.")};class m extends n.Component{static get className(){return"ChooseClockOutDate"}constructor(e){super(e);(0,o.Z)(this,"_handleDateChange",((e,t)=>{this.setState({selectedDateTime:e,totalTime:t})}));(0,o.Z)(this,"_getClockOutDateTime",(()=>{const{selectedDateTime:e}=this.state;return e}));(0,o.Z)(this,"_clockOut",(()=>{const{selectedDateTime:e}=this.state;const{afterClockOut:t,employeeId:a}=this.props;const s={clockOuts:[{employeeId:a,datetime:e.toISOString(true),timezone:e.tz()}]};this.setState({isModalProcessing:true});l().post("/timesheet/clock/out/datetime",s).then((()=>{this.setState({isModalOpen:false});t()})).catch((e=>{if(e.response.data.error){const t=e.response.data.error.code;setMessage(p[t],"error")}else{window.errorFallBack()}this.setState({isModalProcessing:false})}))}));this.state={selectedDateTime:null,totalTime:null,isModalOpen:false,isModalProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,totalTime:a}=this.state;const{lastClockEntry:n}=this.props;const i="fab-stopwatch-exclamation-51x54";const o=(0,s.Z)("div",{className:"ChooseClockOutDate"},void 0,(0,s.Z)("div",{className:"ChooseClockOutDate__icon"},void 0,(0,s.Z)(d.Icon,{name:i})),(0,s.Z)("h4",{className:"ChooseClockOutDate__headingText"},void 0,$.__("Looks like you forgot to clock out.")),(0,s.Z)("p",{className:"ChooseClockOutDate__text"},void 0,$.__("When should you have clocked out?")),(0,s.Z)("hr",{className:"ChooseClockOutDate__divider"}),(0,s.Z)(h.Z,{lastClockEntry:n,onDateChange:this._handleDateChange}),(0,s.Z)("p",{className:"ChooseClockOutDate__totalTime"},void 0,$.__("Total Time: %1",a>0?(0,u.mr)(a):(0,u.mr)(0))));return(0,s.Z)(c.u,{biId:"my-info-timesheet-clock-out",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Verify Time & Clock Out"),type:"medium"},void 0,o)}}function f(e,t){return new Promise((a=>{const n=document.createElement("div");(0,i.s)((0,s.Z)(m,{afterClockOut:a,employeeId:e,lastClockEntry:t}),n)}))}},5223:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(71141);var r=a(78144);var $=a(26570);function l(e,t,a){if((0,o.isEnabled)("TIME_TRACKING_GROUPS")){$.post("/time_tracking/employees/disable",{employeeIds:[e]}).done((e=>{if(e.error){setMessage($.__("Whoops! Something went wrong with disabling time tracking. Please refresh and try again."),"error");return}window.BambooHR.Modal.setState({isOpen:false});a()})).fail(c)}else{$.post("/time_tracking/disable_employees",{ids:[e]}).done((e=>{if(e.status==="SUCCESS"){window.BambooHR.Modal.setState({isOpen:false});window.setMessage($.__("OK, %s will no longer be able to track time worked or access the timesheet.",t),"success");a();return}window.BambooHR.Modal.setState({isProcessing:false},true);if(e.status==="FAIL"&&e.message){setMessage(e.message,"error")}else{c()}})).fail(c)}}function c(){setMessage($.__("Sorry, something went wrong. Try giving it another shot?"),"error");window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}function d(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Function.prototype;const i=$.__("Just Checking...");const o=$.__("Are you sure you want to disable time tracking for %1$s?",`${t} ${a}`);const c=$.__("%1$s will not get any new timesheets, but will still be able to log time on their current timesheet and it will still be sent for approval.",(0,r.H$)(t));const d=$.__("Yes, Disable Time Tracking");window.BambooHR.Modal.setState({title:i,headline:o,content:(0,s.Z)("div",{className:"DisableTimeTrackingModal__content"},void 0,c),icon:"fab-stopwatch-exclamation-51x54",iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);l(e,t,n)},primaryActionText:d})}t["Z"]={openModal:d}},72521:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(82543);var r=a.n(o);var l=a(44816);var c=a(17842);var d=a.n(c);var u=a(71141);var $=a(26570);const h=(0,u.isEnabled)("timeTrackingFutureScheduling");function p(e,t,a){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=$.__("Time Tracking Start Date");const l=$.__("Save");let c;let u=[];d().get(`/time_tracking/employee/${e.id}/schedule_dates`).then((d=>{const p=d.data.canEnableNow;c=d.data.paySchedules.allIds[0];const g=d.data.paySchedules.byId[c].dates;const v=d.data.paySchedules.byId[c].hireDate;u=g.map((e=>{const t=r()(e);return{date:e,display:t.format("MMM D")}}));const y=window.BambooHR.Modal.isOpen();let b=h?"":"immediately";let w=[];if(h){if(p){w.push({displayText:$.__("Immediately"),value:"immediately"})}if(v){const e=r()(v);w.push({text:$.__("Hire Date"),type:"group",items:[{displayText:e.format("MMM D"),value:v}]})}const e=[{text:$.__("Next Pay Periods"),type:"group",items:[...u.map((e=>({displayText:e.display,value:e.date})))]}];w=[...w,...e]}else{w=[{displayText:$.__("Immediately"),value:"immediately"},...u.map((e=>({displayText:e.display,value:e.date})))]}const S={isOpen:true,title:o,icon:"fab-calendar-stopwatch-54x54",headline:$.__("When do you want time tracking to start?"),content:(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)("div",{className:"EnableTimeTracking__forWho"},"text",$.__("Select when %1$s will start tracking time.",e.preferredName)),(0,s.Z)("div",{className:"EnableTimeTracking__date-select"},"select",(0,s.Z)(f,{effect:e=>{b=e},items:w,value:b}))),primaryActionText:l,primaryAction(){if(y){window.BambooHR.Modal.setState({sheetProps:{isOpen:false},isProcessing:true},true)}else{window.BambooHR.Modal.setState({isProcessing:true},true)}m(b,e.id,t,a,i,c)},alternativeAction(){window.BambooHR.Modal.setState({isOpen:false})},onClose(){window.BambooHR.Modal.setState({isOpen:false})}};if(y){window.BambooHR.Modal.setState({sheetProps:S},true)}else{window.BambooHR.Modal.setState({...S})}})).catch((e=>{a(e.response.data.error)}))}function m(e,t,a,s,n,i){let o=`/time_tracking/employee/${t}/schedule`;let r={scheduleDate:e};if(e==="immediately"){o="/time_tracking/enable_employees";r={ids:[t]}}if((0,u.isEnabled)("TIME_TRACKING_GROUPS")){o="/time_tracking/employees/reschedule";r={employeeIds:[t],...e==="immediately"?{}:{paySchedules:{[i]:e}}}}r.setSessionMessage=n;return d().post(o,r).then((t=>{window.BambooHR.Modal.setState({isOpen:false});a(t.data,e)})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);s(e.response.data.error)}))}function f(e){let{items:t,value:a,effect:i=(()=>{})}=e;const[o,r]=(0,n.useState)(a);const c={notClearable:true,width:5};const d={items:t};d.items.forEach((e=>{if(e.items){e.items.forEach((e=>{e.selected=e.value===o}))}e.selected=e.value===o}));(0,n.useEffect)((()=>{i(o)}));return(0,s.Z)(l.ZP,{data:d,onChange:e=>{r(e.value)},placeholder:` ${$.__("Select Date")} `,settings:c})}},11656:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(89835);var n=a(23321);var i=a(77512);var o=a(44119);var r=a(98675);var l=a(59155);var $=a(26570);class c extends n.Component{static get className(){return"ForgotClockOutWarning"}constructor(e){super(e);(0,o.Z)(this,"_clockOut",(()=>{const{afterClockOut:e,beforeClockOutAction:t,clockOutAction:a,employeeId:s}=this.props;this.setState({isProcessing:true});t();a(s).then((()=>{this.setState({isOpen:false});e()}))}));this.state={isOpen:false,isProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isOpen:true})}))}render(){const{isOpen:e,isProcessing:t}=this.state;return(0,s.Z)(r.u,{isOpen:e,isProcessing:t,onClose:()=>this.setState({isOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Clock Out")},void 0,(0,s.Z)("div",{className:"ForgotClockOutWarningModal"},void 0,(0,s.Z)("div",{className:"ForgotClockOutWarningModal__icon"},void 0,(0,s.Z)(l.Icon,{name:"fab-stopwatch-exclamation-51x54"})),(0,s.Z)("h4",{className:"ForgotClockOutWarningModal__heading"},void 0,$.__("Did you forget to clock out?")),(0,s.Z)("p",{className:"ForgotClockOutWarningModal__text"},void 0,$.__("If so, let your manager know and they can correct your timesheet."))))}}function d(e,t,a){return new Promise((n=>{const o=document.createElement("div");(0,i.s)((0,s.Z)(c,{afterClockOut:n,beforeClockOutAction:a,clockOutAction:e,employeeId:t}),o)}))}},92776:(e,t,a)=>{"use strict";a.d(t,{pL:()=>r,qk:()=>c,kv:()=>l});var s=a(78144);var n=a(91663);var i=a.n(n);var o=a(47747);var $=a(26570);function r(e,t){if(e==="no-pay-schedule"){l()}else{c(e,t)}}function l(){window.BambooHR.Modal.setState({isOpen:true,dangerousContent:`\n\t\t\t<div>\n\t\t\t\t${$.__(`You can select a pay schedule by editing the compensation information on this employee's Job tab.`)}\n\t\t\t</div>\n\t\t`,icon:"fab-timesheet-exclamation-84x57",iconColor:"danger",headline:$.__("To enable time tracking you must first select a pay schedule for this employee."),primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,primaryActionText:$.__("Got it, Thanks"),title:$.__(`Oops, sorry that won't work...`)})}function c(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const n=microTemplate(i(),{header:d(e,(0,s.H$)(t)),description:u(e,(0,s.H$)(t))});window.BambooHR.Modal.setState({isOpen:true,dangerousContent:n,primaryAction:()=>{if(a){(0,o.GC)()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Got it, Thanks"),title:$.__(`Overtime Won't Be Calculated`)})}function d(e,t){switch(e){case"no-location":return $.__(`We can't calculate overtime for %1$s because a location isn't set.`,t);case"no-state":return $.__(`We can't calculate overtime for %1$s because a state isn't set.`,t);case"no-state-remote":return $.__(`We can't calculate overtime for %1$s because a home address state isn't set.`,t);case"non-overtime-country":return $.__(`Overtime cannot be calculated for %1$s because their address does not include a US state.`,t);default:throw new Error("no missing data")}}function u(e,t){let a=$.__(`%1$s will still be able to track time, but we won't calculate overtime.`,t);switch(e){case"no-location":return a+" "+$.__(`Add %1$s to a location with a US address to automatically calculate overtime based on the state overtime laws.`,t);case"no-state":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);case"no-state-remote":return a+" "+$.__(`Add a US state to %1$s's home address to automatically calculate overtime based on the state overtime laws.`,t);case"non-overtime-country":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);default:throw new Error("no missing data")}}},18613:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var s=a(89835);var n=a(44119);var i=a(23321);var o=a.n(i);var r=a(59155);var l=a.n(r);var c=a(26136);var d=a(17863);var moment=a(82543);var $=a(26570);class u extends i.Component{static get className(){return"ChooseDate"}constructor(e){super(e);(0,n.Z)(this,"_handleDateChange",(e=>{const{clockOutMeridiem:t,clockOutTime:a}=this.state;const{lastClockEntry:s}=this.props;const n=this.getLastCLockDate(s);const i=this.getSelectedDateTime(e,t,a);const o=i.isBefore(n);let r=t;if(o){r="PM"}this.setState({clockOutDate:e,clockOutMeridiem:r});this.setTotalTime()}));(0,n.Z)(this,"_handleOnInput",(e=>{const{clockOutDate:t,clockOutMeridiem:a,clockOutTime:s}=this.state;const{lastClockEntry:n}=this.props;const i=e.target.value;const o=this.getLastCLockDate(n);const r=this.getSelectedDateTime(t,a,(0,d.YZ)(i));const l=r.isBefore(o);this.timeInputRef.current.value=(0,d.Xw)(i,s);let c=a;if(l){c="PM"}this.setState({clockOutTime:this.timeInputRef.current.value,clockOutMeridiem:c});this.setTotalTime()}));(0,n.Z)(this,"calculateTotalTime",((e,t,a)=>{const{lastClockEntry:s}=this.props;const n=this.getSelectedDateTime(e,t,a);const i=this.getLastCLockDate(s);return(0,d.I1)(i,n,"hours")}));(0,n.Z)(this,"setTotalTime",(()=>{const{onDateChange:e}=this.props;this.setState((t=>{const{clockOutDate:a,clockOutMeridiem:s,clockOutTime:n}=t;const i=this.calculateTotalTime(a,s,n);let o=this.getSelectedDateTime(a,s,n);if(i<0||this.timeInputRef.current.value===""){o._isValid=false}e(o,i);return{totalTime:i}}))}));(0,n.Z)(this,"getLastCLockDate",(e=>moment.tz(e.start,e.timezone)));(0,n.Z)(this,"getSelectedDateTime",((e,t,a)=>{const{lastClockEntry:s}=this.props;const n="YYYY-MM-DD h:mm A";return moment.tz(`${e} ${(0,d.Vd)(a,t)}`,n,s.timezone)}));const t=moment().tz(e.lastClockEntry.timezone);const a=t.format("YYYY-MM-DD");const s=(0,d.xX)(t);const o=t.format("h:mm");const r=this.calculateTotalTime(a,s,o);this.state={clockOutDate:a,clockOutMeridiem:s,clockOutTime:o,totalTime:r};this.timeInputRef=(0,i.createRef)();e.onDateChange(t,r)}render(){const{clockOutDate:e,clockOutMeridiem:t,clockOutTime:a,totalTime:n}=this.state;const{lastClockEntry:i,showTotal:l}=this.props;const u=this.getLastCLockDate(i);const h=u.format("YYYY-MM-DD");const p=(0,d.xX)(u);const m=u.format("h:mm");const f={min:h,max:moment.tz(moment(),i.timezone).format("YYYY-MM-DD"),start:e};const g={isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[t],onSelect:e=>{const{clockOutDate:t,clockOutTime:a}=this.state;const{lastClockEntry:s}=this.props;const n=this.getLastCLockDate(s);const i=this.getSelectedDateTime(t,event.value,a);const o=i.isBefore(n);let r=e;if(o&&a!==""){r="PM"}this.setState({clockOutMeridiem:r});this.setTotalTime()}};return(0,s.Z)("div",{className:"ChooseDate fab-FormRow"},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"clockInDate"},void 0,$.__("Clocked in")),(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{className:"ChooseDate__clockInDate fab-TextInput fab-TextInput--width4",disabled:true,type:"text",value:u.format()}),(0,s.Z)("input",{className:"ChooseDate__clockInTime fab-TextInput fab-TextInput--width3",defaultValue:`${m} ${p}`,disabled:true,placeholder:"hh:mm",type:"text"}))),(0,s.Z)("span",{className:"ChooseDate__formDash"},void 0,""),(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:"fab-Label",htmlFor:"clockOutDate"},void 0,$.__("Clocked out at...")),(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)(c.Z,{cssClasses:{single:"fab-TextInput--width5"},name:"clockOutDate",onChange:this._handleDateChange,required:true,settings:f,type:"date"}),o().createElement("input",{className:"ChooseDate__timeInput fab-TextInput fab-TextInput--width2",defaultValue:a,onInput:this._handleOnInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),o().createElement(r.Select,g))),l&&(0,s.Z)("div",{className:"ChooseDate__totalTimeContainer"},void 0,(0,s.Z)("p",{className:"ChooseDate__totalTime"},void 0,(0,d.mr)(n))))}}},95361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n.a});var s=a(47496);var n=a.n(s)},42202:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(95361);var $=a(26570);t["Z"]=(e,t)=>{const a=(0,o.startsWith)(e,"approve")?$.__("Hours have changed"):$.__("Hours were not saved");const n=$.__("Refresh");let i=[];if(e==="save"){i=[$.__("Your timesheet was approved before you submitted your hours."),$.__("Bad timing, but reach out to your manager or HR administrator and they should make sure you're taken care of.")]}else{i=[$.__("Some hours have been recently edited.")+" "+$.__('Click "Refresh" to see any recent changes.'),$.__("You will then be able to continue approving.")]}const r=microTemplate(l.Z,{iconName:"fab-stopwatch-exclamation-51x54",paragraphs:i});window.BambooHR.Modal.setState({isOpen:true,hasCloseButton:false,alternativeAction:null,title:a,content:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:r}}),primaryActionText:n,primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);if(t){t()}else{window.location.reload(true)}}})}},32135:(e,t,a)=>{"use strict";a.d(t,{Z:()=>k});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(51341);var c=a(71141);var d=a(17842);var u=a.n(d);var h=a(18669);var p=a(69835);var m=a(21198);var f=a.n(m);var g=a(17863);var v=a(42006);var y=a(45548);var b=a(68003);var w=a(93151);var S=a.n(w);var $=a(26570);const C=(0,c.isEnabled)("newTimesheetDetailsModal");function x(e,t){let{canViewEmployeeTimesheet:a,employeePhotoUrl:s,employeeId:n,employeeName:i,timesheet:r}=t;let c=0;let d=0;let u=0;let h=0;let f=(0,o.sortBy)(r.dailyDetails,"date").map((e=>{let t=(0,l.Z)(e.date);e.dayOfWeek=t.format("ddd");e.dayDate=t.format("MMM D");e.extras=[...T(e.timeOff),...E(e.holidays)];c+=e.hours+e.timeOffHours+e.paidHolidayHours;d+=e.overtimeHours;u+=e.timeOffHours;h+=e.holidayHours+e.paidHolidayHours;return e}));let v=(0,g.pX)(f);let y=`${f[0].dayDate}${f[f.length-1].dayDate}`;const b=(0,g.lo)(f);const w=$.__n("The work week start day has changed. There is %1$s day where overtime cannot be calculated.","The work week start day has changed. There are %1$s days where overtime cannot be calculated.",b.count);const C=window.microTemplate(S(),{entries:f,employeeName:i,employeePhotoUrl:s,dateSpan:y,totalTime:c,totalOvertime:d,totalTimeOff:u,totalHoliday:h,overtimeSummary:v,formatTime:g.mr,timeSheetLink:a?`/employees/timesheet/?id=${n}&et_id=${e}`:"",workWeekStartsOn:b,workWeekWarningMessage:w});const x=(0,m.fragFromHtml)(C);const k=Array.from(x.querySelectorAll(".js-time-details-modal-note"));k.forEach((e=>{const t=e.getAttribute("data-tooltip-index");const a=f[t].note;const s=(0,g.mr)(f[t].hours||0);p.Z.createStandard(e,{title:s,content:a,position:"right",tailOnBalloon:"12px"})}));return x}function T(e){return e.map((e=>{let t=e.unit==="hours"?$.__("hours"):$.__("days");e.info=`${e.amount} ${t} ${e.type}`;e.iconName=e.icon?b.Mj[e.icon]:"fab-briefcase-clock-14x12";return e}))}function E(e){return e.map((e=>{let t=(0,h.VR)((0,h.wG)(e.multiplier));e.info=`${e.name} ${e.multiplier?`(${$.__("pays")} ${t}x)`:""}`;if(isNaN(t)){e.info=(0,g.Rr)(e)}e.iconName="fab-fireworks-16x16";return e}))}function k(e){const t=$.__("Timesheet Detail");const a=`/timesheet/${e}`;u().get(a).then((a=>{const n=(0,y.Z)(a.data);window.BambooHR.Modal.setState({isOpen:true,dangerousContent:C===false?x(e,a.data):null,content:C?(0,s.Z)(v.Z,{initialState:n,isViewOnly:true,showHeader:false,showSheetPadDays:false}):null,headline:t,icon:"fab-timesheet-29x22",primaryActionText:$.__("Close"),primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,contentHasPadding:false,type:"fullScreen",onOpen(){const e=Array.from(document.querySelectorAll(".js-time-details-work-week-warning-icon"));e.forEach((e=>{const t=$.__("Overtime cannot be calculated for this day.");p.Z.createStandard(e,{content:t,position:"right"})}))}})}))}},35236:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(74713);var r=a(59155);var l=a.n(r);var c=a(60042);var d=a.n(c);var u=a(92289);var h=a(41616);var p=a(66327);var $=a(26570);const m=e=>{let{isActivationOpen:t,setIsActivationOpen:a}=e;const[i,l]=(0,n.useState)(true);const[c,m]=(0,n.useState)();const[f,g]=(0,n.useState)();const[v,y]=(0,n.useState)(false);const b=(0,o.y)();const w=(0,n.useRef)();(0,n.useEffect)((()=>{if(c&&f){l(false)}}),[c,f]);const S=[{text:"1-24",value:"1-24"},{text:"25-50",value:"25-50"},{text:"51-100",value:"51-100"},{text:"101-250",value:"101-250"},{text:"251-500",value:"251-500"},{text:"500+",value:"500+"}];const C=[{text:$.__("We use another time tracking product currently."),value:"use_another_product"},{text:$.__("We track time manually."),value:"track_manually"},{text:$.__("We want time tracking and are just getting started."),value:"want_time_tracking"}];const x=()=>{a(false)};const T=()=>{(0,p.setTrialStarted)().finally((()=>{window.location.href="/settings/time_tracking"}))};h.Z.subscribe({subject:"timeTrackingTrial",events:{ttTrialAdded:T}}).then((e=>{w.current=e}));const E=()=>{(0,p.postNewActivationTrialValues)({employeeCount:c,currentTimeTrackingProcess:f}).then((()=>{y(true);setTimeout((function(){window.location.href="/settings/time_tracking"}),6e4)})).catch((()=>{window.errorFallBack();y(false)}))};return(0,s.Z)(r.StandardModal,{isOpen:t,onRequestClose:x},void 0,(0,s.Z)(r.StandardModal.Body,{renderFooter:(0,s.Z)(r.StandardModal.Footer,{actions:[(0,s.Z)(r.Button,{"data-bi-id":"time-tracking-trial-start-trial-button",disabled:i,onClick:E,processing:v},"button-1",$.__(`Start Free Trial`)),(0,s.Z)(r.TextButton,{onClick:x,processing:v},"button-2",$.__("Cancel"))]}),renderHeader:(0,s.Z)(r.StandardModal.Header,{title:$.__("Time Tracking Trial")})},void 0,(0,s.Z)(r.StandardModal.Constraint,{},void 0,(0,s.Z)("div",{className:b.icon},void 0,(0,s.Z)(u.Z,{})),(0,s.Z)("p",{className:b.tryItText},void 0,$.__(`Try it Out For 14 Days!`)),(0,s.Z)("p",{className:b.topText},void 0,$.__(`This trial will allow you to access the full Time Tracking feature for 14 days. Add as many employees as you need to understand the impact this tool will have on your business.`)),(0,s.Z)("p",{className:b.bottomText},void 0,$.__(`Once activated, a BambooHR representative will reach out shortly. This rep will be a dedicated resource for you to rely on should you have any questions.`)),(0,s.Z)("hr",{className:b.separator}),(0,s.Z)("p",{className:b.subHeader},void 0,$.__(`Enough about us. We'd like to know more about you`)),(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:d()(b.label,b.labelTop),htmlFor:"employeeNeeds"},void 0,$.__(`Roughly how many of your employees need to track hours?*`)),(0,s.Z)(r.Select,{isClearable:false,items:S,onSelect:e=>m(e),selectedValues:[c],width:6})),(0,s.Z)("div",{},void 0,(0,s.Z)("label",{className:d()(b.label,b.labelBottom),htmlFor:"trackingProcess"},void 0,$.__(`How would you describe your current time tracking process?*`)),(0,s.Z)(r.Select,{isClearable:false,items:C,onSelect:e=>g(e),selectedValues:[f],width:10})))))};t["Z"]=m},88306:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(34387);var $=a(26570);function n(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.head;return s.Z.create(e,{triggerEvent:"none",position:"right",push:15,toggleOnClick:false,template:{name:"popover-standard",data:{title:$.__(`Entering time shouldn't be hard.`),content:$.__("Enter your time like %1$s or %2$swhatever feels most natural.",`<b class="fontSemibold">1${window.GLOBAL_DECIMAL_CHAR||"."}5</b>`,'<b class="fontSemibold">1:30</b>'),rawContent:true}}})}},1895:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i,n:()=>o});var s=a(34387);let n;function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.head;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";n=s.Z.create(e,{closeX:false,html:`<span class="TimeTrackingErrorPopover js-tt-error-text">${t}</span>`,position:"right",themeClass:"Balloon--popover-error",persistent:true,toggleOnClick:false,triggerEvent:"none"});return n}function o(e,t){n.balloonContentElement.querySelector(".js-tt-error-text").innerText=e;if(t){n.setAnchor(t)}}},17863:(e,t,a)=>{"use strict";a.d(t,{Am:()=>Q,E:()=>q,I1:()=>b,Lq:()=>z,MS:()=>G,Pz:()=>ce,RG:()=>J,Rr:()=>X,Rs:()=>le,TD:()=>g,Tr:()=>ie,Tz:()=>Z,Ui:()=>W,Vd:()=>y,Vh:()=>re,Xw:()=>R,YZ:()=>B,a6:()=>ne,aC:()=>ae,bY:()=>U,ch:()=>m,eK:()=>V,ff:()=>se,gi:()=>Y,lo:()=>ee,m7:()=>oe,mr:()=>v,pX:()=>K,qu:()=>k,v3:()=>w,w9:()=>p,xX:()=>te});var s=a(92959);var n=a.n(s);var i=a(73641);var o=a.n(i);var r=a(13296);var l=a.n(r);var c=a(51341);var $=a(26570);const d=/^(\d*)(?:[.,](\d*))?$/;const u=/^(\d{0,2}):(\d{0,2})$/;const h=/(?=.*[hm])^(?:(\d{1,2})h)?\s*(?:(\d{1,2})m?)?$/i;const p="INVALID_FORMAT";const m="OVER_24";function f(e){if(!e){return 0}return Number(e)}function g(e){const t=String(e).trim();if(!t){return null}let a=null;let s=t.match(d);if(s){a=f(s[1])+(s[2]?f(`.${s[2]}`):0)}else if(t.match(u)){s=t.match(u);a=f(s[1])+f(s[2].length<2?`${s[2]}0`:s[2])/60}else if(t.match(h)){s=t.match(h);a=f(s[1])+f(s[2])/60}if(typeof a!=="number"){return p}return a<=24?(0,i.round)(a,4):m}function v(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=parseFloat(e);if(isNaN(a)){return""}let s=parseInt(a);let n=Math.round(a*60%60);if(n===60){s++;n=0}if(t){if(n&&!s){return`${n}m`}else if(s&&!n){return`${s}h`}}return`${s}h ${(0,i.padStart)(n,2,0)}m`}function y(e,t){return(0,c.Z)(`${e} ${t}`,"h:mm A","en").format("HH:mm:ss")}function b(e,t,a){if(e&&e.isValid()&&t&&t.isValid()&&a){return c.Z.duration(t.diff(e)).as(a)}return 0}function w(e,t,a){const s=e&&t==="AM"&&B(e)==="12:00";return s?(0,c.Z)(a).add(1,"day").format("YYYY-MM-DD"):a}const S=$.__("Clock In");const C=$.__("Clocking In");const x=$.__("Clock Out");const T=$.__("Clocking Out");const E=$.__("Verify Time & Clock Out");function k(e,t,a,s){if(e&&!a){return t?T:x}else if(a){return s?E:x}return t?C:S}function Z(e,t){const a=e.end?e.end:e.start;const s=c.Z.tz(a,e.timezone).calendar(t);const{projectName:n,taskName:i}=e;if(!e.end){if(e.projectName&&e.taskName){return`${n}  ${i}`}if(e.projectName){return n}return $.__("Clocked In: %1$s",s)}return $.__("Clocked Out: %1$s",s)}const N=/^(1[0-2]|0[1-9]|[2-9])$/;const I=/^1[3-5]$/;const A=/^(?:1[0-2]|0?[1-9]):?$/;const F=/^(?:1[0-2]|0?[1-9]):(?:[0-5][0-9]?)$/;const M=/:/;const D=/.?:.*/;const P=/:[6-9]$/;const O=/.$/;const L=/^0?:/;function R(e,t){const a=e.length;const s=t.length;const n=Math.abs(s-a);if(a>s){if(N.test(e)){return(e.startsWith("0")?e.slice(1):e)+":"}if(t==="1"&&I.test(e)){return e.split("").join(":")}if(e===""||e==="0"||A.test(e)||F.test(e)){return e}return t}if(n>1){return R(e,"")}if(n===1&&M.test(t)&&!M.test(e)&&a!==0){return t.replace(D,"")}if(P.test(e)){return e.replace(O,"")}if(L.test(e)){return""}return e}function B(e){if(typeof e==="string"){if(/:/.test(e)){return e.replace(/\d*$/,(e=>(0,i.padEnd)(e,2,"0")))}return e?e+":00":""}return""}const j=/^(?:1[0-2]|[1-9]):[0-5][0-9]$/;function H(e){return j.test(e)}function q(e){const t=g(e);return t!==m&&t!==p}function W(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{let a=B(e.startTime);let s=B(e.endTime);if(!H(a)||!H(s)||e.total<0){t=false}}));return t}function U(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{if(!q(e.hours)||e.total<0){t=false}}));return t}function z(e){const t=[];if(!Array.isArray(e)){return false}e.forEach((e=>{const a=e.clockOutDateTime!==null&&e.clockOutDateTime._isValid;t.push(a)}));return!n()(t).call(t,false)}function Y(e,t){return e.startMoment.isBetween(t.startMoment,t.endMoment)||e.endMoment.isBetween(t.startMoment,t.endMoment)||t.startMoment.isBetween(e.startMoment,e.endMoment)||t.endMoment.isBetween(e.startMoment,e.endMoment)||e.startMoment.isSame(t.startMoment)&&e.endMoment.isSame(t.endMoment)}function G(e,t){let a=(0,c.Z)(e);let s=(0,c.Z)(t);a.startOf("minute");s.startOf("minute");return(0,i.round)(s.diff(a,"hours",true),4)}function V(e,t,a){return(0,i.flow)(i.values,(0,r.filter)((a=>a.date>=e&&a.date<=t)),(0,r.sortBy)("date"))(a)}function K(e){const t=e.reduce(((e,t)=>{if(t.overtimeSummary!==undefined&&t.overtimeSummary.length>0){t.overtimeSummary.forEach((t=>{if(e[t.multiplier]===undefined){e[t.multiplier]=0}e[t.multiplier]+=t.hours}))}return e}),{});let a=[];for(let e in t){if(t[e]>0){a.push({multiplier:parseFloat(e),hours:t[e]})}}return a.sort(((e,t)=>e.multiplier-t.multiplier))}function X(e){let t;const a=e.paidHours%1!=0;if(e.paidHours===null){t=e.name}else if(a){t=$.__("%1$s for %2$s",v(e.paidHours),e.name,{note:"e.g. 7h 30m for New Years"})}else{t=$.__("%1$s Hours for %2$s",e.paidHours,e.name,{note:"8 Hours for New Years"})}return t}function J(e){if(e===null){return false}const t=(0,c.Z)();const a=(0,c.Z)(e.start);const s=(0,c.Z)(t).diff((0,c.Z)(a),"hours",true);const n=a.isBefore(t,"day");return e.end===null&&n&&s>14}function Q(e,t,a,s){const n=a!==Boolean(e);let i=false;if(n){return true}if(t===null){i=s!==null}else{i=s!==(a?t.start:t.end)}return i}function ee(e){const t=e.reduce(((e,t)=>{if(t.hasWorkWeekStartsOnChanged===true){return e+1}return e}),0);return{changed:t>0,count:t}}function te(e){return e.clone().locale("en").format("A")}function ae(e){const{allIds:t,byId:a}=e;const s=t.map((e=>{let t=null;if(a[e].tasks.allIds.length>0){const s=a[e].tasks.byId;t=a[e].tasks.allIds.map((t=>({text:s[t].name,value:`${a[e].id}-${s[t].id}`})))}if(t!==null){return{items:t,text:a[e].name,value:a[e].id}}return{text:a[e].name,value:a[e].id}}));return[{items:s,text:$.__("All Projects"),type:"group",key:"projects"}]}function se(e,t){return!!e&&c.Z.tz(e.end,e.timezone).isAfter(t)}function ne(e){if(typeof e==="string"&&e.indexOf("-")>-1){const t=e.split("-");return t}return[e,null]}function ie(e,t){if(e===null){return{projectId:null,projectName:null,taskId:null,taskName:null}}const{byId:a}=t;const[s,n]=ne(e);if(s&&n){return{projectId:a[s].id,projectName:a[s].name,taskId:a[s].tasks.byId[n].id,taskName:a[s].tasks.byId[n].name}}return{projectId:a[e].id,projectName:a[e].name,taskId:null,taskName:null}}function oe(e,t,a){if(t&&a){return`${t}  ${a}`}if(t){return t}return e[0].text}function re(e,t){let a=null;if(e&&t){a=`${e}  ${t}`}else if(e){a=e}return a}function le(e,t){const a=(0,c.Z)(e,"YYYY-MM-DD");const s=(0,c.Z)(t,"YYYY-MM-DD");const n=a.isSame(s,"day");const i=a.isSame(s,"month");const o=a.format("MMM D");const r=s.format(i?"D":"MMM D");return n?o:`${o}${r}`}function ce(e,t){let[a,s]=e;let[n,i]=t;const o=e=>Math.PI/180*e;const r=(e,t)=>Math.PI/180*(e-t);const l=6371;const c=r(n,a);const d=r(i,s);a=o(a);n=o(n);const u=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(a)*Math.cos(n);const h=2*Math.asin(Math.sqrt(u));let p=l*h;p*=1e3;return p}},81901:(e,t)=>{"use strict";const a={terminateEmployee:{url:"/modals/terminate-employee",title:"Terminate Employee"},rehireEmployee:{url:"/modals/rehire-employee",title:"Rehire Employee"},addEmploymentStatus:{url:"/modals/employment-status/add",title:"Employment Status - Add"},editEmploymentStatus:{url:"/modals/employment-status/edit",title:"Employment Status - Edit"},deleteEmploymentStatus:{url:"/modals/employment-status/delete",title:"Employment Status - Delete"},addCompensation:{url:"/modals/compensation/add",title:"Compensation - Add"},editCompensation:{url:"/modals/compensation/edit",title:"Compensation - Edit"},deleteCompensation:{url:"/modals/compensation/delete",title:"Compensation - Delete"},addJobInformation:{url:"/modals/job-information/add",title:"Job Information - Add"},editJobInformation:{url:"/modals/job-information/edit",title:"Job Information - Edit"},deleteJobInformation:{url:"/modals/job-information/delete",title:"Job Information - Delete"},addBonus:{url:"/modals/bonus/add",title:"Bonus - Add"},editBonus:{url:"/modals/bonus/edit",title:"Bonus - Edit"},deleteBonus:{url:"/modals/bonus/delete",title:"Bonus - Delete"},addCommission:{url:"/modals/commission/add",title:"Commission - Add"},editCommission:{url:"/modals/commission/edit",title:"Commission - Edit"},deleteCommission:{url:"/modals/commission/delete",title:"Commission - Delete"},addDependent:{url:"/modals/dependent/add",title:"Dependent - Add"},editDependent:{url:"/modals/dependent/edit",title:"Dependent - Edit"},deleteDependent:{url:"/modals/dependent/delete",title:"Dependent - Delete"},addBenefitClass:{url:"/modals/benefit-class/add",title:"Benefit Class - Add"},editBenefitClass:{url:"/modals/benefit-class/edit",title:"Benefit Class - Edit"},deleteBenefitClass:{url:"/modals/benefit-class/delete",title:"Benefit Class - Delete"},addEarnings:{url:"/modals/earnings/add",title:"Earnings - Add"},editEarnings:{url:"/modals/earnings/edit",title:"Earnings - Edit"},deleteEarnings:{url:"/modals/earnings/delete",title:"Earnings - Delete"},addVisa:{url:"/modals/visa/add",title:"Visa - Add"},editVisa:{url:"/modals/visa/edit",title:"Visa - Edit"},deleteVisa:{url:"/modals/visa/delete",title:"Visa - Delete"},addCard:{url:"/modals/credit-card/add",title:"Credit Card - Add"},editCard:{url:"/modals/credit-card/edit",title:"Credit Card - Edit"},deleteCard:{url:"/modals/credit-card/delete",title:"Credit Card - Delete"},addPassport:{url:"/modals/passport/add",title:"Passport - Add"},editPassport:{url:"/modals/passport/edit",title:"Passport - Edit"},deletePassport:{url:"/modals/passport/delete",title:"Passport - Delete"},addDriverLicense:{url:"/modals/driver-license/add",title:"Driver License - Add"},editDriverLicense:{url:"/modals/driver-license/edit",title:"Driver License - Edit"},deleteDriverLicense:{url:"/modals/driver-license/delete",title:"Driver License - Delete"},addAsset:{url:"/modals/asset/add",title:"Assets - Add"},editAsset:{url:"/modals/asset/edit",title:"Assets - Edit"},deleteAsset:{url:"/modals/asset/delete",title:"Assets - Delete"},addStockOption:{url:"/modals/stock-option/add",title:"Stock Options - Add"},editStockOption:{url:"/modals/stock-option/edit",title:"Stock Options - Edit"},deleteStockOption:{url:"/modals/stock-option/delete",title:"Stock Options - Delete"},addCertification:{url:"/modals/certification/add",title:"Certification - Add"},editCertification:{url:"/modals/certification/edit",title:"Certification - Edit"},deleteCertification:{url:"/modals/certification/delete",title:"Certification - Delete"}};function s(e){let t=window.dataLayer;if(!t){console.error("The virtual page viewer does not have access to the Google Tag Manager dataLayer variable.");return false}t.push({event:"Virtual Pageview",virtualPageURL:`/virtual${e.url}`.replace(/\/{2,}/,"/"),virtualPageTitle:e.title})}function n(e){let t=a[e];if(!t){console.error(`No virtual modal page view with a type of ${e} was found.`);return false}s(t)}let i={modal:n};t["Z"]=i},42579:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});function s(){return Promise.resolve({companyCountryId:a.g.GLOBAL_COMPANY_COUNTRY_ID,companyLogo:a.g.GLOBAL_COMPANY_LOGO,isTrial:a.g.GLOBAL_IS_TRIAL==="true",...a.g.SESSION_COMPANY})}},69294:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});function s(){return Promise.resolve({...a.g.SESSION_USER})}},10047:(e,t,a)=>{"use strict";var s=a(8575);var $=a(26570);const n="/calendar";function i(e,t){let a=$.get(`${n}/time_off/${e}/${t}`);return(0,s.m)($.when(a),a)}function o(e,t){let a=$.get(`${n}/holidays/${e}/${t}`);return(0,s.m)($.when(a),a)}function r(e,t){let a=$.get(`${n}/birthdays/${e}/${t}`);return(0,s.m)($.when(a),a)}function l(e,t){let a=$.get(`${n}/anniversaries/${e}/${t}`);return(0,s.m)($.when(a),a)}function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={option:e,...t};let i=$.post(`${n}/employee/filter`,a);return(0,s.m)($.when(i),i)}function d(e){let t=$.post(`${n}/period`,{period:e});return(0,s.m)($.when(t),t)}function u(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=e.reduce(((e,t)=>({...e,[t.filterKey]:t.selected})),{});let a=$.post(`${n}/menu/filters`,t);return(0,s.m)($.when(a),a)}function h(e,t){const a={id:e,action:t,name:"time_off_request",ajax:true};return $.post("/inbox/details.php",a)}t["ZP"]={getCompanyTimeOff:i,getCompanyHolidays:o,getCompanyBirthdays:r,getCompanyAnniversaries:l,postEmployeeFilters:c,postPeriod:d,postFilters:u,postApproveOrDenyRequest:h}},41616:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(64624);var n=a.n(s);let i=null;function o(e){return new Promise(((t,a)=>{if(i&&i.connection.state==="connected"){t(i);return}i=new(n())(e.pusherKey,{cluster:e.pusherCluster,forceTLS:true,authEndpoint:e.authEndpoint,auth:{headers:{"X-CSRF-Token":e.csrfToken}}});i.connection.bind("connected",(()=>{t(i)}));i.connection.bind("unavailable",a);i.connection.bind("failed",a);i.connection.bind("disconnected",a)})).catch((e=>{Promise.reject(`Connection to external service failed...${e}`)}))}function r(e){if(typeof e==="object"){const{channel:t}=e;let a=true;if(e.events){a=typeof e.events==="object"&&Object.keys(e.events).length>=0}return typeof t==="string"&&t.trim().length>0&&a}return false}function l(e,t,a){const{channel:s,matter:n}=a;return{channelName:s,userId:n,channel:t,unsubscribe:()=>e.unsubscribe(s),on(e,a){if(!e||!a){return}t.bind(e,a)},off(e,a){t.unbind(e,a)}}}function c(e){document.addEventListener("AppSession:expired",(()=>{e.disconnect()}),{once:true})}function d(e){document.addEventListener("AppSession:loggedIn",(()=>{e.forEach((e=>{u(e)}))}),{once:true})}async function u(e){if(!r(e)){return Promise.reject("No valid connection objects were used...")}const t=await o(e);if(!t){return Promise.reject("Socket connection unavailable, failed, or disconnected...")}const a=t.subscribe(e.channel);return new Promise((s=>{a.bind("pusher:subscription_succeeded",(()=>{if(e.events){Object.keys(e.events).forEach((t=>{a.bind(`client-${t}`,e.events[t])}))}c(t);d(e);s(l(t,a,e))}))}))}var h={subscribeToChannel:u};function p(e){const{companyId:t,id:a}=window.SESSION_USER;const{subject:s}=e;const n=["private",t,s,a];return n.join("-")}function m(e){e.pusherKey=window.PUSHER_AUTH_KEY;e.pusherCluster=window.PUSHER_CLUSTER;e.csrfToken=window.CSRF_TOKEN;e.authEndpoint="/pusher/auth"}function f(e){e.channel=p(e);m(e);return u(e)}var g={subscribe:f}},39454:(e,t,a)=>{"use strict";var s=a(64624);var n=a.n(s);var i=a(84479);var o=a.n(i);var r=a(17842);var l=a.n(r);const c=(0,i.createLogger)("Nudge");let d=null;function u(){return new Promise(((e,t)=>{if(d&&d.connection.state==="connected"){e(d);return}d=new(n())(window.PUSHER_AUTH_KEY,{cluster:window.PUSHER_CLUSTER,forceTLS:true,authEndpoint:"/pusher/auth",auth:{headers:{"X-CSRF-Token":window.CSRF_TOKEN}}});d.connection.bind("connected",(()=>{e(d)}));d.connection.bind("unavailable",t);d.connection.bind("failed",t);d.connection.bind("disconnected",t)})).catch((e=>Promise.reject("Connection to external service failed...")))}function h(e){return l().get("/broadcast/channels?"+m(e)).then((e=>e.data)).catch((e=>Promise.reject("Getting channels failed...")))}function p(e){if(typeof e==="object"){const{channel:t,events:a}=e;return typeof t==="string"&&t.trim().length>0&&typeof a==="object"&&Object.keys(a).length>0}return false}function m(e){const t=new FormData;e.forEach(((e,a)=>{let{channel:s,subjectId:n}=e;t.append(`channels[${a}]`,s);t.append(`subjectIds[${a}]`,n)}));return new URLSearchParams(t).toString()}function f(e,t){const a=[];const s=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:s).push(i)}return[a,s]}function g(e,t,a){const{channel:s,originalChannel:n,subjectId:i}=a;return{channel:n,subjectId:i,unsubscribe:()=>e.unsubscribe(s),on(e,a){if(!e||!a){return}t.bind(e,a)},off(e,a){t.unbind(e,a)}}}function v(e){document.addEventListener("AppSession:expired",(()=>{e.disconnect()}),{once:true})}function y(e){document.addEventListener("AppSession:csrfChanged",(()=>{d.config.auth.headers["X-CSRF-Token"]=window.CSRF_TOKEN;e.forEach((e=>{b(e)}))}),{once:true})}async function b(e){if(!Array.isArray(e)){e=[e]}const[t,a]=f(e,p);if(a.length){c.warn("Invalid connection objects were passed in. They have been ignored:",...a)}if(!t){return Promise.reject("No valid connection objects were used...")}const s=t.reduce(((e,t)=>{if(!e[t.channel]){e[t.channel]={}}e[t.channel][t.subjectId]=t;return e}),{});const n=await u();const i=await h(t);const o=i.map((e=>{const{originalChannel:t,subjectId:a}=e;const i=s[t][a].events;const o=n.subscribe(e.channel);Object.keys(i).forEach((e=>{o.bind(e,(()=>i[e]()))}));return g(n,o,e)}));v(n);y(t);return{connections:o,find(e,t){return o.find((a=>a.channel===e&&a.subjectId===t))}}}t["Z"]={subscribe:b}},20983:(e,t,a)=>{"use strict";a.d(t,{Z6:()=>i});function s(e,t){const a=[...e];const s=[...t];e.forEach(((e,t)=>{const n=a.indexOf(e);const i=s.indexOf(e);if(i>=0){a.splice(n,1);s.splice(i,1)}}));return[...a,...s]}function n(e,t){const a=e.name.toUpperCase();const s=t.name.toUpperCase();if(a<s){return-1}if(a>s){return 1}return 0}function i(e,t){const a=[];const s=[];for(let n=0;n<e.length;n++){const i=e[n];(t(i)?a:s).push(i)}return[a,s]}},38592:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{Dom:()=>_utils_dom__WEBPACK_IMPORTED_MODULE_6__,Form:()=>Form_util__WEBPACK_IMPORTED_MODULE_15__.ZP,History:()=>_utils_url_history__WEBPACK_IMPORTED_MODULE_10__,Image:()=>Image_util__WEBPACK_IMPORTED_MODULE_12__,Mediator:()=>Mediator_util__WEBPACK_IMPORTED_MODULE_13__.Z,Rect:()=>Rect_util__WEBPACK_IMPORTED_MODULE_14__.Z,XPath:()=>XPath,addClass:()=>addClass,allValuesEqual:()=>allValuesEqual,callFunctionQueue:()=>callFunctionQueue,canEmailFilesAndReports:()=>canEmailFilesAndReports,canUseLocalStorage:()=>_utils_localstorage__WEBPACK_IMPORTED_MODULE_5__.canUseLocalStorage,diffStrings:()=>diffStrings,elementHasClass:()=>elementHasClass,env:()=>env,eventTrack:()=>eventTrack,executeFunction:()=>executeFunction,extendURL:()=>_utils_url__WEBPACK_IMPORTED_MODULE_7__.extendURL,fnResult:()=>fnResult,formatCurrencyPercentToggle:()=>formatCurrencyPercentToggle,getArrayString:()=>getArrayString,getAttrs:()=>getAttrs,getBrandColor:()=>getBrandColor,getCurrentScript:()=>getCurrentScript,getExtFromFileName:()=>getExtFromFileName,getFabricBrandColor:()=>getFabricBrandColor,getFabricNonBrandColor:()=>getFabricNonBrandColor,getFileTypeFromExt:()=>getFileTypeFromExt,getFileTypeIconColor:()=>getFileTypeIconColor,getFileTypeIconFromExt:()=>getFileTypeIconFromExt,getFormData:()=>getFormData,getIconNameFromFileName:()=>getIconNameFromFileName,getJsonScriptVar:()=>getJsonScriptVar,getMaxZIndex:()=>_utils_dom__WEBPACK_IMPORTED_MODULE_6__.getMaxZIndex,getParameterByName:()=>_utils_url__WEBPACK_IMPORTED_MODULE_7__.getParameterByName,getRelativePosition:()=>getRelativePosition,getScriptConfig:()=>getScriptConfig,hasClass:()=>hasClass,hasFocusedElement:()=>hasFocusedElement,hasHtml:()=>hasHtml,hasTrax:()=>hasTrax,highlightTermInMarkup:()=>highlightTermInMarkup,htmldecode:()=>String_util__WEBPACK_IMPORTED_MODULE_4__.kB,htmlentities:()=>String_util__WEBPACK_IMPORTED_MODULE_4__.H$,humanFileSize:()=>humanFileSize,isJQueryPromise:()=>isJQueryPromise,isJquery:()=>isJquery,isJqueryElement:()=>isJqueryElement,isPromise:()=>isPromise,isSvg:()=>isSvg,isWidthBelowSupportedMinWidth:()=>isWidthBelowSupportedMinWidth,jQueryFabTableSorter:()=>jQueryFabTableSorter,makeUid:()=>makeUid,objContains:()=>objContains,ordinal:()=>ordinal,prefetch:()=>prefetch,printDiv:()=>printDiv,queryStringToObject:()=>_utils_url__WEBPACK_IMPORTED_MODULE_7__.queryStringToObject,redirect:()=>redirect,removeClass:()=>removeClass,sanitizeHtml:()=>sanitizeHtml,sanitizeSvg:()=>sanitizeSvg,setupWrappers:()=>setupWrappers,toArray:()=>toArray,toCamelCase:()=>toCamelCase,toPascalCase:()=>toPascalCase,toQueryString:()=>_utils_url__WEBPACK_IMPORTED_MODULE_7__.toQueryString,triggerEvent:()=>triggerEvent,ucfirst:()=>ucfirst,validateEmail:()=>_utils_validation_rules__WEBPACK_IMPORTED_MODULE_11__.validateEmail,waitUntilReady:()=>waitUntilReady,when:()=>when});var _babel_runtime_corejs3_core_js_instance_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92959);var _babel_runtime_corejs3_core_js_instance_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_instance_includes__WEBPACK_IMPORTED_MODULE_0__);var moment_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51341);var lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(73641);var lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);var leven__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33078);var leven__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(leven__WEBPACK_IMPORTED_MODULE_3__);var String_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(78144);var _utils_localstorage__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89100);var _utils_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(21198);var _utils_dom__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_utils_dom__WEBPACK_IMPORTED_MODULE_6__);var _utils_url__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85656);var _utils_url__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_utils_url__WEBPACK_IMPORTED_MODULE_7__);var _bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1765);var _bamboohr_fabric_dist_definitions_json_theme_colors_json__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46471);var _utils_url_history__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(36029);var _utils_url_history__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_utils_url_history__WEBPACK_IMPORTED_MODULE_10__);var _utils_validation_rules__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30424);var Image_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(47129);var Mediator_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(28513);var Rect_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(20907);var Form_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(45662);var $=__webpack_require__(26570);var jQuery=__webpack_require__(26570);function formatCurrencyPercentToggle(e,t){const a=$(e).data("currency-toggle");const s=$(t);const n=s.val();const i=window.getFloatFromStringJS(n.replace("$","").replace("%",""));if(a==="$"){s.addClass("currency-field");s.removeClass("percent-field")}else if(a==="%"){s.removeClass("currency-field");s.addClass("percent-field");if(i>100){s.val(100)}}else{throw new Error(`Invalid Radio Toggle data-currency-toggle value -- must be $ or %, currently set to: ${a}`)}s.blur()}function hasFocusedElement(document){if(!document.activeElement||document.activeElement===document.body){return false}return true}function eventTrack(e,t,a,s){const n=window._gaq||[];window._gaq=n;n.push(["_setAccount","UA-5806974-3"]);n.push(["_trackEvent",e,t,a,s]);if(window.BambooHR.env&&window.BambooHR.env.prod){(function(){const e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=`${document.location.protocol==="https:"?"https://ssl":"http://www"}.google-analytics.com/ga.js`;const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}}function setupWrappers(e){const t={};const a=Object.keys(e).reduce(((a,s)=>{a[s]={get(){t[s]=t[s]||$(e[s]);return t[s]}};return a}),{});return Object.defineProperties({},a)}function executeFunction(func){if(typeof func==="function"){return func()}const funcReg=/function *\(([^()]*)\)[ \n\t]*{(.*)}/gim;const match=funcReg.exec(func.replace(/\n/g," "));if(match){const e=new Function(match[1].split(","),match[2]);return e()}return eval(func)}function callFunctionQueue(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}e.forEach((e=>e.call(t||undefined,...s)))}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function elementHasClass(e,t){var a;return _babel_runtime_corejs3_core_js_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(a=` ${e.className} `).call(a,` ${t} `)}function getRelativePosition(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(e instanceof jQuery){e=e.get(0)}else if(typeof e==="string"){e=$(e).get(0)}const s=document.getElementsByTagName("HTML")[0].getBoundingClientRect();let n;try{n=e.getBoundingClientRect()}catch(e){console.log("Class Name, DOM or JQuery element required for getRelativePosition(reference)");return false}let i=Math.abs(s.top)+n.top;if(a){i-=parseInt(document.body.style.top||"0")}const o=Math.abs(s.left)+n.left;const r={top:i,bottom:i+n.height,left:o,right:o+n.width,width:n.width,height:n.height};if(r.hasOwnProperty(t)){return r[t]}return r}function allValuesEqual(e,t){const a=t===undefined?e[0]:t;for(let t=0;t<e.length;t++){if(e[t]!==a){return false}}return true}function toPascalCase(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.upperFirst)((0,lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(e))}const toCamelCase=lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase;const toArray=lodash__WEBPACK_IMPORTED_MODULE_2__.toArray;function XPath(e){let t;if(typeof document.evaluate!=="undefined"){const a=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null);let s=a.iterateNext();t=[];while(s){t.push(s);s=a.iterateNext()}}return t||[]}function printDiv(e){const t="print-only-one-div";const a=document.querySelector(e).innerHTML;const s=document.head||document.getElementsByTagName("head")[0];const n=document.createElement("style");n.type="text/css";const i=document.createElement("div");const o=[`.${t}{display: none;}`,"@media print {",`.${t}{display: block;}`,`body >:not(.${t}) {display: none !important;}}`].join("");if(n.styleSheet){n.styleSheet.cssText=o}else{n.appendChild(document.createTextNode(o))}s.appendChild(n);i.innerHTML=a;i.className=t;document.body.appendChild(i);window.print();s.removeChild(n);document.body.removeChild(i)}function hasHtml(e){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){return true}const t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/.exec(e);return!!(t&&t[1])}function sanitizeHtml(e,t){return _utils_dom__WEBPACK_IMPORTED_MODULE_6__.sanitize(e,{...(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isPlainObject)(t)?t:{},USE_PROFILES:{html:true}})}function sanitizeSvg(e,t){return _utils_dom__WEBPACK_IMPORTED_MODULE_6__.sanitize(e,{...(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isPlainObject)(t)?t:{},USE_PROFILES:{svg:true}})}function humanFileSize(e){const t=1024;if(Math.abs(e)<t){return`${e} B`}const a=["KB","MB","GB","TB","PB","EB","ZB","YB"];let s=-1;do{e/=t;++s}while(Math.abs(e)>=t&&s<a.length-1);return e.toFixed(1)+a[s]}function triggerEvent(e,t){let a;if(document.createEventObject){a=document.createEventObject();return e.fireEvent(`on${t}`,a)}a=document.createEvent("HTMLEvents");a.initEvent(t,true,true);return!e.dispatchEvent(a)}function getExtFromFileName(e){return e.toLowerCase().split(".").pop()}function getFileTypeFromExt(e){switch(getExtFromFileName(e)){case"pdf":return"pdf";case"docx":case"doc":case"docm":case"pages":case"odt":return"doc";case"xls":case"xlsx":case"csv":case"xlsm":case"ods":return"xls";case"ppt":case"key":case"kth":return"ppt";case"txt":case"rtf":return"txt";case"msg":case"eml":return"email";case"htm":case"html":case"url":case"mht":case"webarchive":return"webpage";case"zip":case"rar":return"archive";case"jpg":case"jpeg":case"tif":case"gif":case"png":case"ai":case"eps":case"tiff":case"psd":case"bmp":return"img";default:return"default"}}function getIconNameFromFileName(e,t,a){t=t||"16x20";const s=getFileTypeFromExt(e);let n=s;if(a){return`fab-file-esig-${t}`}switch(s){case"pdf":n="pdf";break;case"doc":n="doc";break;case"xls":n="excel";break;case"ppt":n="powerpoint";break;case"txt":n="text";break;case"email":n="mail";break;case"webpage":n="link";break;case"archive":n="zip";break;case"img":n="image";break;default:n="unknown";break}return`fab-file-${n}-${t}`}function getFileTypeIconFromExt(e,t){let a=getFileTypeFromExt(e);if(t==="sm"||t==="lrg"){a+=`-${t}.png`}else{a+=".png"}return a}function getFileTypeIconColor(e){switch(e){case"pdf":return"#C42428";case"doc":return"#0772B3";case"esig":return"#883290";case"xls":return"#3FA146";case"ppt":return"#C36A00";case"txt":case"email":case"webpage":case"archive":case"img":default:return _bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_8__.colors.gray7}}function highlightTermInMarkup(e,t){const a=$("<div>").html(e);const s=a.find(".js-qsPrimaryText");const n=t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1");const i=s.html()||"";const o=i.replace(new RegExp(`(?![^&;]+;)(?!<[^<>]*)(\\b${n})(?![^<>]*>)(?![^&;]+;)`,"igm"),"<strong>$1</strong>");s.html(o);return a.html()}function addClass(e,t){if(!window.BambooHR.Utils.hasClass(e,t)){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",`${e.getAttribute("class")} ${t}`.trim())}else{e.setAttribute("class",t)}}else{e.className=`${e.className} ${t}`.trim()}}}function removeClass(e,t){if(window.BambooHR.Utils.hasClass(e,t)){const a=new RegExp(`(\\s|^)${t}(\\s|$)`);if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",e.getAttribute("class").replace(a," ").trim())}}else{e.className=e.className.replace(a," ").trim()}}}function hasClass(e,t){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){return!!e.getAttribute("class").match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return false}return!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}function canEmailFilesAndReports(){if(window.CAN_EMAIL_FILES_AND_REPORTS!=="undefined"){return window.CAN_EMAIL_FILES_AND_REPORTS}console.warn("CAN_EMAIL_FILES_AND_REPORTS is not available.")}function isSvg(e){return!!(e instanceof SVGElement)}function ordinal(e){return moment_lib__WEBPACK_IMPORTED_MODULE_1__.Z.localeData().ordinal(e)}function getCurrentScript(e){let t=document.currentScript;if(!t&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e)&&e.length>0){t=$(`script.${e}:not(.${e}--loaded)`).first().addClass(`.${e}--loaded`)}if(!t){const e=document.getElementsByTagName("script");t=e[e.length-1]}return $(t)}function getScriptConfig(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=$(e).first();const s=(e.html()||"").trim()||"{}";let n={};try{n=new Function("defaultConfig","$script",...(0,lodash__WEBPACK_IMPORTED_MODULE_2__.keys)(a),`return (${s});`).call(e[0],t,e,...(0,lodash__WEBPACK_IMPORTED_MODULE_2__.values)(a))}catch(e){console.error(e)}return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.defaults)(n||{},t||{})}function getJsonScriptVar(e,t){const a=$(`script[type="application/json"]#${t}__${e}_json`);const s=a.text().trim();a.remove();return s?JSON.parse(s):null}function getAttrs(e,t){e=$(e)[0];const a={};const s=e?e.attributes:[];(0,lodash__WEBPACK_IMPORTED_MODULE_2__.each)(s,(e=>{if(!t||e.nodeName.match(new RegExp(t,"i"))){a[e.nodeName]=e.value}}));return a}function objContains(e,t){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)((0,lodash__WEBPACK_IMPORTED_MODULE_2__.pick)(e,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.keys)(t)),t)}function getFormData(e){return(0,_utils_url__WEBPACK_IMPORTED_MODULE_7__.queryStringToObject)($(e).serialize())}function redirect(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const i=new URL(e||"",window.location.href);const o=n&&(0,_utils_localstorage__WEBPACK_IMPORTED_MODULE_5__.canUseLocalStorage)();if(t!==null){i.searchParams.set("__message__",t);if(o){localStorage.setItem("__message__",t)}}if(a!==null){i.searchParams.set("__messageType__",a);if(o){localStorage.setItem("__messageType__",a)}}if(s!==null){i.searchParams.set("__messageTimeout__",s);if(o){localStorage.setItem("__messageTimeout__",s)}}window.location=i.href}const uids=[];function makeUid(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:8;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:36;let a="";while(a==""||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(uids,a)){a=(Math.random()+1).toString(t).substr(2,e);uids.push(a)}while(a.length<e){a+=makeUid(e-a.length,t)}return a}function diffStrings(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++){a[s-1]=arguments[s]}let n=2/3;if(typeof(0,lodash__WEBPACK_IMPORTED_MODULE_2__.last)(a)==="number"){n=a.pop()}n=Math.round(n*100)/100;e=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(e);a=a.map(lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase);const i=Math.min(...a.map((t=>leven__WEBPACK_IMPORTED_MODULE_3___default()(e,t))));const o=Math.round(i/e.length*100)/100;const r=o<=n;return{percentDiff:o,characterDiff:i,isMatch:r}}function getBrandColor(){let e=window.document.body.getAttribute("ba-theme");if(!e){e="lime1"}return e}function getFabricBrandColor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"base";const t=["base","light","lighter","lightest"];const a=getBrandColor();const s=_bamboohr_fabric_dist_definitions_json_theme_colors_json__WEBPACK_IMPORTED_MODULE_9__.l.find((e=>e.name===a||e.base===a));if(!_babel_runtime_corejs3_core_js_instance_includes__WEBPACK_IMPORTED_MODULE_0___default()(t).call(t,e)){console.warn("Invalid Fabric variant. Valid options are: base, light, lighter, lightest");e="base"}return s[e]}function getFabricNonBrandColor(e){if(!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e)){throw new Error("Invalid input type.")}const{colors:t}=_bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_8__;const a=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.camelCase)(e);const s=t[a];if(!s){console.warn("Invalid Fabric non-brand color name.");return}return s}function when(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return $.when(...t.map((e=>{const t=$.Deferred();if(isJQueryPromise(e)){return e.done(((e,a)=>{if((!e.success||a!=="success")&&e.error&&e.errorMessage){window.setMessage(e.errorMessage,"error");console.error(e.error);t.reject(e)}})).fail((function(){window.setMessage($.__("Uh Oh! There was an error. Please try again or contact BambooHR support."),"error");t.reject(...arguments)}))}t.resolve(e);return t.promise()})))}function isJquery(e){return e instanceof jQuery&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e.selector)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isString)(e.jquery)&&e.jquery===$.fn.jquery}function isJQueryPromise(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isPlainObject)(e)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.always)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.done)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.fail)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.pipe)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.progress)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.promise)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.state)&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e.then)}function isPromise(e){return isJQueryPromise(e)||e instanceof Promise}function isJqueryElement(e){return isJquery(e)&&e.length>0&&(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isElement)(e[0])}function fnResult(e,t){if((0,lodash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(e)){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++){s[n-2]=arguments[n]}return t?e.apply(t,s):e(...s)}return e}const{env}=window.BambooHR;const prefetchedUrls={};function prefetch(e,t){if(!prefetchedUrls.hasOwnProperty(e)){prefetchedUrls[e]={content:null,callbacks:typeof t==="undefined"?[]:[t]};$.get(e,(t=>{prefetchedUrls[e].content=t;prefetchedUrls[e].callbacks.forEach((e=>e(t)))}))}else if(typeof t!=="undefined"){if(prefetchedUrls[e].content===null){prefetchedUrls[e].callbacks.push(t)}else{t(prefetchedUrls[e].content)}}}function getArrayString(e){return`["${e.join('", "')}"]`}function waitUntilReady(e,t){const a=1e4;const s=1e3;const n=100;const i=(new Date).getTime();if(!e()){const o=setInterval((()=>{const n=(new Date).getTime()-i;const r=n>=a;if(r){window.Rollbar.error("The waitUntilReady util function timed out when testing this function",{testFunc:e})}if(r||e()){if(!r&&n>=s){window.Rollbar.warning(`The waitUntilReady util function took longer than ${s}ms to resolve.`,{timePassed:n})}clearInterval(o);t()}}),n);return}t()}function jQueryFabTableSorter(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[[0,0]];e.tablesorter({sortList:t,onRenderHeader(e,t){const a=$(this);if(!this[0].classList.contains("noSort")){a.addClass("fab-Table__header--sortable").wrapInner("<span></span>")}},headers:{0:{sorter:"text"}}});e.bind("sortEnd",(function(e,t){const a=Array.from(this.querySelectorAll(".fab-Table__header"));a.forEach((e=>{const t=e.querySelector("span");if(t){if(e.classList.contains("sort-descending")){t.className="fab-Table__sorted fab-Table__sorted--dsc"}else if(e.classList.contains("sort-ascending")){t.className="fab-Table__sorted fab-Table__sorted--asc"}else{t.className=""}}}))}))}function isWidthBelowSupportedMinWidth(){return window.innerWidth<1124}function hasTrax(){return!!window.companyHasTrax||!!window.hasTrax||false}},17309:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});class s{static get className(){return"StopWatch"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;this.accuracy=e;this.ms=0;this.running=false;this._startTime=null;this._timer=null;this._watchers=[]}_requestTick(e){this._timer=setTimeout((()=>{this._tick()}),e)}_tick(){const e=(new Date).getTime();this.ms=e-this._startTime;const t=Math.floor(this.ms/this.accuracy);const a=t*this.accuracy;const s=this.ms-a;const n=this.accuracy-s;this._watchers.forEach((e=>{const t=Math.floor(this.ms/e.amount);if(t!==e._count){e._count=t;e.cb(this.ms)}}));this._requestTick(n)}_addWatcher(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Function.prototype;let a=Math.floor(this.ms/e);this._watchers.push({amount:e,cb:t,_count:a})}start(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(this.running){return this}this._watchers.forEach((t=>{t._count=Math.floor(e/t.amount)}));this._startTime=(new Date).getTime()-e;this._requestTick(this.accuracy);this.running=true;return this}stop(){if(!this.running){return this}clearTimeout(this._timer);this._watchers.forEach((e=>{e._count=0}));this.running=false;return this}every(e,t){this._addWatcher(e,t);return this}everySecond(e){this._addWatcher(1e3,e);return this}everyMinute(e){this._addWatcher(6e4,e);return this}}},67572:(e,t,a)=>{"use strict";a.d(t,{l:()=>n,w:()=>s});function s(e){if(e){return e.toString().replace(/\D/g,"")/Math.pow(10,2)}return 0}function n(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"$";if(t!=="$"){return e}const a=/^(\d*,*\d*)(\.(\d*)){0,1}$/.exec(e.replace(t,""));if(a){if(a[3]&&a[3].length===2){return e}if(!a[2]){return`${e}.00`}if(a[2].length===1){return`${e}00`}if(a[3].length===1){return`${e}0`}}return e}},76725:(e,t,a)=>{"use strict";a.d(t,{L:()=>n,V:()=>s});function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=null;const s=document.querySelector(e);if(s!==null){try{a=JSON.parse(s.textContent)}catch(e){console.warn(`What?!!! -> You passed in some bad joojoo. ${e}`);return false}if(!t){s.parentNode.removeChild(s)}}return a}function n(e){try{return JSON.parse(e)}catch(t){return e}}},54417:(e,t,a)=>{"use strict";a.d(t,{T:()=>n,Z:()=>i});var s=a(51341);function n(e,t){const a=o(e);const s=o(t);return s.diff(a,"day")}function i(e,t){const a=o(e);const s=o(t);return s.diff(a,"year")}function o(e){if(e&&(0,s.Z)(e,"YYYY-MM-DD",true).format("YYYY-MM-DD")!==e){e=(0,s.Z)(e).format("YYYY-MM-DD")}return(0,s.Z)(e,"YYYY-MM-DD")}},71141:(e,t,a)=>{"use strict";a.r(t);a.d(t,{isEnabled:()=>i,isSetEnabled:()=>o});var s=a(92959);var n=a.n(s);function i(e){var t;const{featureToggles:a=""}=document.body.dataset;return!!(e&&typeof e==="string"&&n()(t=a.split(/\s+/g)).call(t,e))}function o(){var e;for(var t=arguments.length,a=new Array(t),s=0;s<t;s++){a[s]=arguments[s]}return!!a.length&&!n()(e=a.map((e=>i(e)))).call(e,false)}},45662:(e,t,a)=>{"use strict";a.d(t,{BB:()=>c,Eq:()=>o,Nh:()=>n,VT:()=>d,Zd:()=>u,ak:()=>l});var $=a(26570);function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"json"};e=$(e);if(e.attr("submitting")=="true"){return}const a=e[0];const s=e.attr("action");const i=n(a);i.CSRFToken=window.CSRF_TOKEN;e.attr("submitting","true");setTimeout((()=>{e.removeAttr("submitting")}),3e3);return $.post(s,i,null,t.type).promise()}function n(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{excludeHidden:false};const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));return a.reduce(((e,a)=>{let s;if(!a.name||a.type==="hidden"&&t.excludeHidden){return e}if(a.type==="checkbox"||a.type==="radio"){if(a.checked){s=a.value}}else if(a.type==="select-one"){s=a.selectedIndex>=0?a.options[a.selectedIndex].value:null}else if(a.type==="select-multiple"){s=[].slice.call(a.options).reduce(((e,t)=>{if(t.selected){e.push(t.value)}return e}),[])}else{s=a.value}if(s!==undefined){e[a.name]=s}return e}),{})}function i(e,t){const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));a.forEach((e=>{if(!e.name||!t[e.name]||e.type==="button"){return}if(e.type==="checkbox"||e.type==="radio"){e.checked=t[e.name]}else if(e.type==="select-one"){[].slice.call(e.options).forEach((a=>{if(a.value==t[e.name]){a.selected=true;$(e).trigger("liszt:updated")}}))}else if(e.type==="select-multiple"){[].slice.call(e.options).forEach((a=>{const s=t[e.name];if(s.indexOf(a.value)>-1){a.selected=true;$(e).trigger("liszt:updated")}}))}else{e.value=t[e.name]}}))}function o(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;$.each(e,(function(e,s){if(a){$(t).find("input[name*="+s+"]").addClass("fab-TextInput--error");$(t).find("ba-select.js-"+s).attr("error","true");$(t).find("ba-select#"+s).attr("error","true")}else{$(t).find("select[name="+s+"]").closest(".fieldBox").addClass("error");$(t).find("input[name*="+s+"]").closest(".fieldBox").addClass("error")}}))}function r(e){if(e.closest(".js-PowerEditIndividual").length>0){const t=e.closest(".fab-Table__row");const a=t.find(".js-pay-schedule ba-option:selected");const s=a.length>0?Number.parseInt(a[0].value):null;const n=t.find(".js-employeeName").data("employeeid");return{employeeId:n,payScheduleId:s}}return{employeeId:Number.parseInt($(".js-PowerEditGroup").data("employee-id-in-syncing-pay-schedule"))}}function l(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=e.closest(".js-PowerEditForm").length>0;const{employeeId:s="0",isOnboardingUser:n=false}=window.SESSION_USER;if(a&&!t){return r(e)}if(n){return{employeeId:Number.parseInt(s),payScheduleId:null}}const{Employee:i={id:undefined}}=window;const o=$(".js-paySchedule ba-option:selected");const l=o.length>0?Number.parseInt(o[0].value):null;return{employeeId:i.id,payScheduleId:l}}function c(){document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"))}function d(){document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}function u(){window.formChanged=true}t["ZP"]={ajaxSubmit:s,getFormPayRollDetails:l,getPowerEditPayRollDetails:r,highlightErrorFields:o,populateForm:i,serializeForm:n}},26871:(e,t,a)=>{"use strict";a.d(t,{P:()=>i,s:()=>o});var s=a(85656);var n=a.n(s);function i(e,t){const a=t?(0,s.extendURLDeep)(e):(0,s.extendURL)(e);window.history.replaceState(null,null,a)}function o(e){const t=(0,s.deleteParams)(e);window.history.replaceState(null,null,t)}},47129:(e,t,a)=>{"use strict";a.r(t);a.d(t,{clipPath:()=>n});var $=a(26570);let s=0;function n(e,t){for(let a=0;a<e.length;a++){s++;const n=t;const i=$(e[a]).attr("src");const o=$(e[a]).outerWidth();const r=$(e[a]).outerHeight();const l=$(e[a]).attr("alt");const c=$(`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svgMask" width="${o}" height="${r}" viewBox="0 0 ${o} ${r}"><defs><clipPath id="maskID${s}">${n}</clipPath>  </defs><desc>${l}</desc><image clip-path="url(#maskID${s})" width="${o}" height="${r}" xlink:href="${i}" /></svg>`);$(e[a]).replaceWith(c)}}},28513:(e,t,a)=>{"use strict";var s=a(44119);class n{constructor(){(0,s.Z)(this,"channels",{})}static get className(){return"Mediator"}subscribe(e,t,a){let s=false;if(!this.channels[e]){this.channels[e]=[]}this.channels[e].forEach((e=>{if(e.callback.toString()===t.toString()){s=true;return false}}));if(!s){this.channels[e].push({context:a||window,callback:t})}return this}publish(e){if(!this.channels[e]){return false}const t=Array.prototype.slice.call(arguments,1);for(let a=0,s=this.channels[e].length;a<s;a++){const s=this.channels[e][a];try{s.callback.apply(s.context,t)}catch(t){console.log(`subscription error when calling: BambooHR.Utils.Mediator.publish('${e}')`);console.log({subscription:s});throw t}}return this}installTo(e){e.channels={};e.subscribe=this.subscribe;e.publish=this.publish}}t["Z"]=new n},18669:(e,t,a)=>{"use strict";a.d(t,{Q0:()=>i,VR:()=>n,wG:()=>s});function s(e){return Number(String(e).replace(/0+$/,""))}function n(e){return String(e).replace(".",window.GLOBAL_DECIMAL_CHAR)}function i(e){const t=e+1;const a=t%26;let s=t/26|0;const n=a?String.fromCharCode(64+a):(s--,"Z");return s?i(s)+n:n}},33098:(e,t,a)=>{"use strict";a.d(t,{_:()=>s});function s(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}},20907:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});class s{static get className(){return"Rect"}static intersects(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height}static contains(e,t){return e.left<=t.left&&e.left+e.width>=t.left+t.width&&e.top<=t.top&&e.top+e.height>=t.top+t.height}static distance(e,t){const a=t.x<e.left?e.left-t.x:Math.max(t.x-(e.left+e.width),0);const s=t.y<e.top?e.top-t.y:Math.max(t.y-(e.top+e.height),0);return Math.sqrt(a*a+s*s)}static grow(e,t){const a={};const s=t/2;if("height"in e){a.height=e.height+t}if("width"in e){a.width=e.width+t}if("left"in e){a.left=e.left-s}if("right"in e){a.right=e.right+s}if("top"in e){a.top=e.top-s}if("bottom"in e){a.bottom=e.bottom+s}return a}}},48578:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});function s(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return Promise.all(t).then((e=>{let t={ready:true};e.forEach((e=>{t={...t,...e}}));n(t);return t}))}function n(e){const t=document.querySelector("body");t.dataset.screenshot=JSON.stringify(e)}},78144:(e,t,a)=>{"use strict";a.d(t,{H$:()=>d,Ho:()=>p,Jk:()=>m,b0:()=>h,bB:()=>g,dN:()=>r,j6:()=>c,kB:()=>u,wU:()=>v});var s=a(92959);var n=a.n(s);var i=a(73641);var o=a.n(i);function r(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if((0,i.isString)(e)){e=l(e)}e=Number(e);if((0,i.isNil)(e)||isNaN(e)){throw new Error("Invalid value supplied")}return e.toLocaleString(undefined,{minimumFractionDigits:2})}function l(e){if(!(0,i.isString)(e)){throw new Error("Invalid value supplied")}const t=e.startsWith("-");let a=e.replace(/[^\d\.]/g,"");a=`${t?"-":""}${a}`;return a}function c(e){return e.replace(/(^\s+|\s+$)/gm,"")}function d(e){return(0,i.escape)(e)}function u(e){return(0,i.unescape)(e)}function h(e){const t=/&(?!(?:apos|quot|[gl]t|amp);|#)/g;e=e.replace(t,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#x27;");return e}function p(e){return e.replace(/\\(u00|x)([0-9A-F]{2})/gi,((_,$,e)=>String.fromCharCode(parseInt(e,16))))}function m(e){const t=document.createElement("div");const a=/&.{1,7}\b;/g;const s=e.matchAll(a);let n=s.next();let i=e;while(!n.done){const e=n.value[0];t.innerHTML=e;i=i.replace(e,t.textContent);n=s.next()}return i}function f(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;if(e.length<2){return e[0]}if(e.length===2){return e.join(a)}const s=e.slice(0,-1).join(t);const n=e.slice(-1);return[s,n].join(a)}function g(e,t){if(typeof e!=="string"||!Array.isArray(t)){return false}for(const a of t){if(!n()(e).call(e,a)){return false}}return true}function v(e){const t=/^\d{5}(-\d{4})?$/;return t.exec(e)!==null}},68618:(e,t,a)=>{"use strict";a.d(t,{Gv:()=>l,LP:()=>c,c7:()=>o,o4:()=>d,pe:()=>u,yM:()=>r});var s=a(73641);var n=a.n(s);var i=a(89100);var $=a(26570);function o(){if(!(0,s.isUndefined)(window.CSRF_TOKEN)){r();$.ajaxSetup({beforeSend(e,t){if(t.crossdomain){return}if(t.type!="GET"){e.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN)}}})}}function r(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form";if(!(0,s.isUndefined)(window.CSRF_TOKEN)){$(e).each(((e,t)=>{const a=$(t);const s=a.attr("method")||"";const n=a.find(":input[name=CSRFToken]");if(n.length===0&&s.toLowerCase()==="post"){a.append(`<input type="hidden" name="CSRFToken" value="${window.CSRF_TOKEN}">`)}else if(n.length&&s.toLowerCase()!=="post"){n.remove()}}))}}function l(e){let t=0;let a;let s;if(e.length===0){return t}for(a=0,s=e.length;a<s;a++){t=(t<<5)-t+e.charCodeAt(a);t|=0}return t}function c(){return window.CSRF_TOKEN}function d(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;window.CSRF_TOKEN=e;if((0,i.canUseLocalStorage)()){u(e,t)}$('input[name="CSRFToken"]').val(window.CSRF_TOKEN);document.dispatchEvent(new CustomEvent("AppSession:csrfChanged"))}function u(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!(0,i.canUseLocalStorage)()){throw new Error("Cannot set hashed token. Local Storage is unavailable.")}const a=`hashed_token${t?"_onboarding":""}`;window.localStorage.setItem(a,l(e).toString())}},12382:(e,t,a)=>{"use strict";a.d(t,{K:()=>i,u:()=>n});const s={"dd MMM YYYY":"dd MMM yyyy","dd/mm/yyyy":"dd/MM/yyyy","mm/dd/yyyy":"MM/dd/yyyy","yyyy-mm-dd":"yyyy-MM-dd"};function n(){return s[window.GLOBAL_DATE_MASK]}function i(){return document.querySelector("html")?.getAttribute("lang")}},41201:(e,t,a)=>{"use strict";a.d(t,{yG:()=>T,n$:()=>p,Sv:()=>C,s7:()=>m,hP:()=>f,uW:()=>l,pK:()=>v,_c:()=>c,m1:()=>w,NC:()=>S,uf:()=>d});var s=a(73641);function n(e){const{esignatures:t}=e;return c(e)&&t.completed}function i(e){const{company_file_data:t,employee_file_data:a,esignatures:n}=e;if(c(e)&&(0,s.isNil)(a)&&(0,s.isNil)(t)){return true}return c(e)&&(typeof a==="object"&&!(0,s.isNil)(a.id)&&a.can_see_file||typeof t==="object"&&!(0,s.isNil)(t.id)&&t.can_see_file)}function o(e){const{workflow_instance_id:t}=e;return c(e)&&t!==undefined}function r(e){const{esignatures:t}=e;return c(e)&&t.cancelled}function l(e){const{esignatures:t}=e;return c(e)&&(t.completed||t.employee_has_signed)}function c(e){const{esignatures:t,is_esignature_template:a}=e;return!(0,s.isNil)(a)&&a==="yes"&&!(0,s.isNil)(t)&&t.setup_complete}function d(e){const{esignatures:t,required:a}=e;return c(e)&&a&&t.employee_has_signed&&!t.completed}var u=a(92959);var h=a(38592);function p(e){const t=c(e);const a=(0,h.getIconNameFromFileName)(e.original_file_name,"16x20",t);return{isEsig:t,isComplete:l(e),waitingOnSig:d(e),file_id:g(e),icon:a,name:e.name}}function m(e,t){let a;const{can_generate_preview:n,can_see_file:i,employee_file_data:o,esignatures:r,esignature_template_id:l,company_file_data:d,file_id:u,most_recent_file_data_id:h,name:p,workflow_instance_id:m}=e;if(c(e)){if(r.cancelled){return null}switch(true){case typeof o==="object"&&o.id&&o.can_see_file:a="previewEmployeeFile";break;case typeof d==="object"&&d.id&&d.can_see_file:a=d.can_generate_preview?"companyPreviewFile":"companyShowFile";break;case r.can_sign&&!t:a="esigOpenModal";break;case!(0,s.isNil)(m)&&m>0&&i:a="esigOpenPreviewModeModal";break;default:break}}if(!a){if(i){return n?"previewFile":"showFile"}return"showFileNoAccess"}return a}function f(e){const{company_file_data:t,employee_file_data:a,esignature_instance_id:s,esignature_template_id:n,esignatures:i,file_id:o,most_recent_file_data_id:r,name:l,workflow_instance_id:c}=e;let d={companyFileId:y(t,"file_id"),companyFileMostRecentId:y(t,"most_recent_file_data_id"),companyFileName:y(t,"name"),employeeFileMostRecentId:y(a,"most_recent_employee_file_data_id"),employeeFileId:y(a,"id"),employeeFileName:y(a,"name"),esignature_instance_id:s,esignature_template_id:n,esignatureWorkflowId:y(i,"workflow_id"),file_id:o,most_recent_file_data_id:r,name:l,workflow_instance_id:c};return{"action-data":JSON.stringify(b(d))}}function g(e){const{company_file_data:t,file_id:a}=e;return t?t.file_id:a}function v(e){const{can_see_file:t}=e;if(!t){return true}if(c(e)&&(r(e)||!i(e))){return true}return false}function y(e,t){if(e&&e[t]){return e[t]}return null}function b(e){let t={};(0,s.each)(e,((e,a)=>{if(!(0,s.isNil)(e)){t[(0,s.camelCase)(a)]=e}}));return t}const w=e=>{if((0,s.isNil)(e)){return false}const t=e.split(".");const a=t[t.length-1];const n=["png","jpg","jpeg","gif","bmp"];return n.indexOf(a.toLocaleLowerCase())!==-1};function S(e,t,a,s,n,i,o){let r=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;window.previewFile(...arguments)}function C(e){const{fileData:t,fileName:a,mimeType:s="text/plain;charset=utf-8"}=e;if(!t||!a){throw new Error("A file name and file data must be supplied")}const n=new Blob([t],{type:s});const i=window.URL.createObjectURL(n);const o=document.createElement("a");o.style.display="none";o.href=i;o.setAttribute("download",a);if(typeof o.download==="undefined"){o.setAttribute("target","_blank")}document.body.appendChild(o);o.click();document.body.removeChild(o);window.URL.revokeObjectURL(i)}function x(e){return new Promise(((t,a)=>{const s=new FileReader;s.readAsArrayBuffer(e);s.onload=function(){const e=new Blob([s.result],{type:"application/pdf"});e.text().then((e=>{var a;let s=_includesInstanceProperty(e).call(e,"Encrypt");s|=_includesInstanceProperty(a=e.substring(e.lastIndexOf("<<"),e.lastIndexOf(">>"))).call(a,"/Encrypt");t(s)})).catch((e=>{a(new DOMException("Problem parsing input file: ",e))}))};s.onerror=()=>{s.abort();a(new DOMException("Problem reading input file."))}}))}function T(e){const t=e.find((e=>c(e)&&e.esignatures.completed&&e.required&&(0,s.isNil)(e.company_file_data)));return(0,s.isNil)(t)}},85642:(e,t,a)=>{"use strict";a.d(t,{Y:()=>r});var s=a(92959);var n=a.n(s);var i=a(59155);var o=a.n(i);function r(){var e,t;const a=document.body.dataset.fabricMode;const s=document.body.dataset.fabricTheme;const o=n()(e=Object.values(i.ModeOptions)).call(e,a)?a:undefined;const r=n()(t=Object.values(i.ThemeNameOptions)).call(t,s)?s:undefined;return{mode:o,themeName:r}}},48635:(e,t,a)=>{"use strict";a.d(t,{c3:()=>p,uM:()=>d});var s=a(38592);var $=a(26570);const n="ok";const i=128;const o=$.__("Whoops, try to keep it under 128 characters.");const r="max-length-error-msg";const l="error--maxLength";function c(e){const t=5;let a=0;const i={length:"#pass-length",number:"#pass-number",upper:"#pass-upper",lower:"#pass-lower",match:".validCheck"};for(let t=0;t<e.length;t++){switch(e[t]){case"length":case"number":case"upper":case"lower":$(i[e[t]]).addClass(n);a++;break;case"match":$(".validCheck").each((function(){(0,s.addClass)(this,"valid")}));a++;break}}return a===t}function d(e){$(".validCheck").each((function(){(0,s.removeClass)(this,"valid")}));$(".js-passwordRequirements li").removeClass(n);u(c(e))}function u(e){const t=document.querySelector(".js-ChangePasswordForm__submitButton, .js-createAccountBtn");t.disabled=!e}function h(e,t){const a=$(e.target);const s=a.closest(".fab-FormRow");let n=s.find(`.${r}`);if(a.val().length===i){if(!t&&!n.length){n=$("<span />",{class:`fab-Label fab-Label--error ${r}`,text:o});s.prepend(n)}s.addClass(l)}else{n.remove();s.removeClass(l)}}function p(e,t){e.on("keyup",h);t.on("keyup",(e=>h(e,true)))}},55482:(e,t,a)=>{"use strict";a.d(t,{j:()=>s,J:()=>o});function s(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";a=a||window.GLOBAL_THOUSANDS_SEPARATOR||",";if(t===a){throw new Error("The decimal point and thousands separator characters must be different.")}if(e===undefined){return""}const s=e.toString();const[n,i]=s.split(".");const o=[];let r=n;while(r.length){const e=r.slice(-3);o.unshift(e);r=r.slice(0,-e.length)}const l=o.join(a);const c=i?`${t}${i}`:"";const d=`${l}${c}`;return d}var n=a(19969);var i=a.n(n);function o(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";const s=new RegExp(`[^\\d\\${t}-]`,"gi");e=e.replace(s,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));const n=new RegExp(`\\${t}`,"gi");e=e.replace(n,".");let o=true;e=e.replace(/\./g,(e=>{if(!o){return""}o=false;return e}));if(!e){return}try{const t=new(i())(e);const s=t.toFixed(a);const n=Number(s);if(Number.isNaN(n)){return}return n}catch{return undefined}}},73361:(e,t,a)=>{"use strict";var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(60042);var r=a.n(o);var l=a(49037);var c=a(64207);var d=a(68174);var u=a(12130);var $=a(26570);class h extends n.PureComponent{static get className(){return"DirectoryApp"}componentWillMount(){$.get("/employee_directory/ajax/get_directory_info").done((e=>{this.setState({currentUser:e.currentUser,selectedFilter:{displayText:e.currentUser.selectedFilter.displayText,value:e.currentUser.selectedFilter.value},filters:e.filters,allEmployees:e.employees,filteredEmployees:(0,u.Z)(e.employees,e.currentUser,e.currentUser.selectedFilter.value,e.currentUser.customFilter),groupByOptions:e.groupByOptions,customFilterIds:e.currentUser.customFilter})}))}componentDidMount(){document.getElementById("root").classList.remove("circleDotLoader")}constructor(e){super(e);this.state={currentUser:{},selectedFilter:{displayText:"",value:""},filters:[],allEmployees:[],filteredEmployees:[],groupBy:{displayText:"Name",value:"name"},groupByOptions:[],inputText:"",customFilterIds:[]};this.handleInputText=this.handleInputText.bind(this);this.handleFilterChange=this.handleFilterChange.bind(this);this.handleGroupByChange=this.handleGroupByChange.bind(this)}handleInputText(e){this.setState({inputText:e})}handleFilterChange(e,t,a,s){const{allEmployees:n,currentUser:i,groupBy:o}=this.state;if(t===o.value){this.setState({groupBy:{displayText:$.__("Name"),value:"name"}})}$.post(`/employee_directory/ajax/save_filter/${t}`,s).done((a=>{this.setState({currentUser:{...i,customFilter:a},filteredEmployees:(0,u.Z)(n,i,t,a),selectedFilter:{displayText:e,value:t}})}))}handleGroupByChange(e,t){this.setState({groupBy:{displayText:e,value:t}})}render(){const{isAnytime:e}=this.props;const{currentUser:t,filteredEmployees:a,filters:n,groupBy:i,groupByOptions:o,inputText:u,selectedFilter:h}=this.state;return(0,s.Z)("div",{className:r()("DirectoryAppContainer",{"DirectoryAppContainer--anytime":e})},void 0,(0,s.Z)(c.Z,{filters:n,groupBy:i,groupByOptions:o,inputValue:u,isAnytime:e,onFilterChange:this.handleFilterChange,onGroupByChange:this.handleGroupByChange,onInputText:this.handleInputText,selectedFilter:h}),(0,s.Z)(l.R7,{selectedFilter:h}),(0,s.Z)(d.Z,{currentUser:t,employees:a,groupBy:i,inputValue:u,isAnytime:e,onFilterChange:this.handleFilterChange,selectedFilter:h}))}}t["Z"]=h},63917:(e,t,a)=>{"use strict";a.d(t,{z:()=>s.z});var s=a(66773)},69321:(e,t,a)=>{"use strict";a.d(t,{b:()=>h});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(63917);var c=a(60042);var d=a.n(c);var u=a(98885);var $=a(26570);const h=e=>{const t=(0,u.Z)();const{isOpen:a,handleCloseModal:i,initialSelection:r,onConfirm:c,folderOptions:h=[],folders:p,maxFolderDepth:m,canEditPage:f,isEsig:g=false}=e;const[v,y]=(0,n.useState)(r);const b=()=>{c(v);i()};(0,n.useEffect)((()=>{if(a){y(r)}}),[a,r]);const w=g?o.SheetModal:o.StandardModal;return a?(0,s.Z)(w,{isOpen:a,onRequestClose:i},void 0,(0,s.Z)(w.Body,{renderFooter:(0,s.Z)(w.Footer,{actions:[(0,s.Z)(o.Button,{disabled:!v,onClick:b,type:"button"},"primary",g?$.__("Choose Folder"):$.__("Save")),(0,s.Z)(o.TextButton,{onClick:i,type:"button"},"secondary",$.__("Cancel"))]}),renderHeader:(0,s.Z)(w.Header,{hasCloseButton:true,title:$.__("Save to...")})},void 0,(0,s.Z)(w.UpperContent,{},void 0,a&&(0,s.Z)("div",{},void 0,(0,s.Z)("p",{className:t.boldText},void 0,$.__("Select the folder you'd like to save to.")),(0,s.Z)("div",{className:t.row},void 0,(0,s.Z)(o.Icon,{brand:!!v,name:v?"fab-check-circle-12x12":"fab-check-circle-outline-12x12"}),(0,s.Z)("p",{className:d()(t.grayText,{[t.brandText]:!!v})},void 0,v?p[v].name:$.__("No folder selected"))))),(0,s.Z)(w.Constraint,{},void 0,(0,s.Z)(l.z,{folderOptions:h,initialSelection:v,isFolder:false,onChange:y,maxFolderDepth:m,canEditPage:f})))):null}},13384:(e,t,a)=>{"use strict";a.d(t,{$1:()=>f,BM:()=>m,RH:()=>p,TL:()=>c,X5:()=>b,Y8:()=>w,Zh:()=>u});var s=a(92959);var n=a.n(s);var i=a(75982);var o=a(99579);var $=a(26570);const r="canEdit";const l="canUploadFiles";const c=(e,t,a)=>{const s=e=>{if(!a){return!e.parentId}return e.parentId==a};const n=Object.values(e).filter(s);n.sort(((e,t)=>{if(e.sortOrder&&t.sortOrder){return e.sortOrder-t.sortOrder}return e.name.localeCompare(t.name)}));return[...n,...t]};const d=e=>e==="true";const u=e=>{if(!e){return i.Sc.None}if(!e.sectionType){return i.Sc.Custom}if(e.sectionType==="employee_upload"){return i.Sc.EmployeeUploads}return i.Sc.Default};const h=(e,t,a,s)=>{let n=e[t];if(n.hasOwnProperty(a)){return n[a]}while(!n.hasOwnProperty(a)){if(e[n.parentId]){n=e[n.parentId]}else{break}}const o=u(n);switch(o){case i.Sc.Custom:return n[a];case i.Sc.Default:if(a===r){return n[l]}break;case i.Sc.EmployeeUploads:if(a===r){return s}break;default:}return n[a]};const p=(e,t)=>{const a=Object.values(e);return a.reduce(((s,i)=>{let o=0;let c=0;if(i.parentId){o++;let{parentId:t}=i;while(t){if(e[t].parentId){o++;t=e[t].parentId}else{t=null}}}let d=a.filter((e=>e.parentId===i.id));if(d.length){while(d.length){c++;const e=d.map((e=>e.id));d=a.filter((t=>n()(e).call(e,t.parentId)))}}const u=a.filter((e=>e.parentId===i.id));const p=()=>{if(i.hasOwnProperty("employeeCanSee")){return i.employeeCanSee}return true};s[i.id]={...i,employeeCanSee:p(),isDefault:!!i.sectionType,depth:o,childrenDepth:c,subfolderCount:u.length,canUploadFiles:i.canUploadFiles||!!h(e,i.id,l,t),canEdit:i.canEdit||!!h(e,i.id,r,t)};return s}),{})};const m=(e,t,a)=>{const s=Object.values(e).filter((e=>{if(a){const a=u(e);if(a===i.Sc.EmployeeUploads){return t}}return e.canUploadFiles}));const n=e=>{if(s.some((t=>t.parentId===e.id))){const t=s.filter((t=>t.parentId===e.id)).map((e=>({text:e.name,value:e.id,depth:e.depth,childrenDepth:e.childrenDepth,items:n(e),canEdit:e.canEdit})));t.sort(((e,t)=>e.text.localeCompare(t.text)));return t}return[]};const o=s.filter((e=>!e.parentId));o.sort(((e,t)=>e.sortOrder-t.sortOrder));const r=o.reduce(((e,t)=>{e.push({text:t.name,value:t.id,depth:t.depth,childrenDepth:t.childrenDepth,items:n(t),isDefault:t.isDefault,canEdit:t.canEdit});return e}),[]);return r};const f=(e,t)=>({id:e,name:t.name,type:t.type,size:t.size});const g="drag_move_file";const v=e=>e.hasOwnProperty("size");const y=(e,t,a)=>{const s=document.createElement("div");s.classList.add(t);s.id=g;s.appendChild(a);const n=document.createElement("span");n.innerText=e;s.appendChild(n);document.body.appendChild(s);return s};const b=(e,t,a,s)=>{if(!e){return{}}const{dragImageClass:n,dragTargetClass:i,selectedItemClass:o}=a;const r=new Image;if(v(t)){r.src=`/images/files/types/${t.img_sizes.small}`}else{r.src=`/images/files/small_folder.png`}return{draggable:e,"data-drag-id":t.id,onDragStart:e=>{let a=t.name;if(s){s(true)}const l=$(e.target);if(v(t)){if(l.hasClass(o)){const e=$(`.${o}`);e.each(((e,t)=>{t.classList.add(i);t.classList.add("dragTarget")}));a=`${e.length} files`}}if(!v(t)){const e=$("div[data-drop-id]");e.each(((e,a)=>{const s=a.getAttribute("data-folder-depth");if(+s+t.childrenDepth>=3){a.classList.add(i)}}))}l.addClass(i);l.addClass("dragTarget");const c=y(a,n,r);e.dataTransfer.setDragImage(c,0,0);e.dataTransfer.setData("isFile",v(t).toString());e.dataTransfer.setData("draggingId",t.id)},onDragEnd:e=>{if(s){s(false)}const t=$(`#${g}`);if(t){t.remove()}$("div[data-drop-id]").each(((e,t)=>{t.classList.remove(i)}));$(e.target).removeClass(i);$(e.target).removeClass("dragTarget");$(`.${o}`).each(((e,t)=>{t.classList.remove(i);t.classList.remove("dragTarget")}))}}};const w=(e,t,a,s)=>{if(!e){return{}}const{dropTargetClass:i,preventDropClass:r,selectedItemClass:l}=a;return{onDrop:async e=>{if(e.dataTransfer.files.length){return}const a=e.target;if(a.classList.contains(r)||$(a).parents().hasClass(r)){return}e.preventDefault();const n=e.dataTransfer.getData("draggingId");const c=d(e.dataTransfer.getData("isFile"));a.classList.remove(i);if(n!==t.id){if(c){const e=$(`[data-drag-id="${n}"]`);const a=[];if(e.hasClass(l)){$(`.${l}`).each(((e,t)=>{a.push(t.getAttribute("data-drag-id"))}))}else{a.push(n)}const s=await(0,o._C)(a,t.id);window.setMessage(s.success_message||$.__("Sucessfully moved file."),"success")}else{const e=await(0,o.J1)(n,t.id);window.setMessage(e.success_message||$.__("Successfully moved folder."),"success")}return s()}},onDragEnter:e=>{var a;if(n()(a=e.dataTransfer.types).call(a,"Files")){return}const s=e.target;if(s.classList.contains(r)){return}e.preventDefault();if(s.getAttribute("data-drop-id")===t.id&&!s.classList.contains("dragTarget")){const e=$(`[data-drop-id=${t.id}]`);e.addClass(i)}},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{var a;if(n()(a=e.dataTransfer.types).call(a,"Files")){return}const s=e.target;if(s.classList.contains(r)){return}e.preventDefault();if(s.getAttribute("data-drop-id")===t.id){const e=$(`[data-drop-id=${t.id}]`);e.removeClass(i)}},"data-drop-id":t.id,"data-children-depth":t.childrenDepth,"data-folder-depth":t.depth}}},47747:(e,t,a)=>{"use strict";a.d(t,{Cn:()=>C,GC:()=>b,UN:()=>S});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(71141);var r=a(77512);var l=a(1891);var c=a(73641);var d=a.n(c);var u=a(98853);var h=a.n(u);var p=a(5223);var m=a(72521);var f=a(92776);var $=a(26570);function g(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;window.setMessage(e||$.__("Sorry, something went wrong. Try giving it another shot?"),"error")}function v(e){if(e.status==="SUCCESS"||e.status==="success"){window.location="/employees/timesheet/?id="+window.Employee.id;return}if(e.status==="FAIL"&&e.reason&&e.reason==="no_pay_schedule"){window.BambooHR.Modal.setState({isOpen:false});(0,f.kv)()}}function y(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;g(e)}function b(){if((0,o.isEnabled)("TIME_TRACKING_GROUPS")){x("enable-time-tracking-modal",(()=>{const e=document.querySelector(".js-emp-menu-tt-toggle ba-icon");const t=document.querySelector(".js-emp-menu-tt-toggle-enable");const a=document.querySelector(".js-emp-menu-tt-toggle-disable");const s=document.querySelector(".js-emp-menu-tt-status-enable");const n=document.querySelector(".js-emp-menu-tt-status-disable");t.insertBefore(e,t.childNodes[0]);t.classList.add("disabled");a.classList.remove("disabled");n.classList.remove("TT_EmpMenu__status--selected");s.classList.add("TT_EmpMenu__status--selected");fetch("/time_tracking/settings").then((e=>e.json())).then((e=>{let{mode:t,configurations:a}=e;if(t==="group"&&a.length>1){document.querySelector(".js-emp-menu-tt-change-group").hidden=false}})).finally((()=>{localStorage.setItem("__message__",$.__("Time tracking has been enabled for this employee!"));localStorage.setItem("__messageType__","success");window.location.reload()}))}))}else{(0,m.Z)(window.Employee,v,y,true)}}function w(){const{id:e,preferredName:t,lastName:a}=window.Employee;p.Z.openModal(e,t,a,(()=>{const e=document.querySelector(".js-emp-menu-tt-toggle ba-icon");const t=document.querySelector(".js-emp-menu-tt-toggle-enable");const a=document.querySelector(".js-emp-menu-tt-toggle-disable");const s=document.querySelector(".js-emp-menu-tt-status-enable");const n=document.querySelector(".js-emp-menu-tt-status-disable");a.insertBefore(e,a.childNodes[0]);a.classList.add("disabled");t.classList.remove("disabled");s.classList.remove("TT_EmpMenu__status--selected");n.classList.add("TT_EmpMenu__status--selected");if((0,o.isEnabled)("TIME_TRACKING_GROUPS")){document.querySelector(".js-emp-menu-tt-change-group").hidden=true;localStorage.setItem("__message__",$.__("OK, this employee will no longer be able to track time worked or access the timesheet."));localStorage.setItem("__messageType__","success");window.location.reload()}}))}function S(e){const{ttAction:t,ttMissingData:a}=e;const s=document.querySelector(".js-emp-menu-tt-toggle.disabled");const n=s.dataset.ttAction;if(t===n){return}if((0,o.isEnabled)("custom-overtime")){if(t==="enable"){b()}else{w()}return}if(t==="enable"){if(a.length){try{(0,f.pL)(a,window.Employee.preferredName);return}catch(e){if(e!=="no missing data"){throw e}}}b()}else{w()}}function C(){x("change-group-modal")}function x(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:c.noop;const a=document.createElement("div");document.body.appendChild(a);(0,r.s)((0,s.Z)(l.x5,{employee:window.Employee,onCloseComplete:()=>(0,u.unmountComponentAtNode)(a),onSuccess:t,route:`/time-tracking/${e}`}),a)}},79056:(e,t,a)=>{"use strict";a.d(t,{u:()=>s.u});var s=a(9200)},86499:(e,t,a)=>{"use strict";a.d(t,{O:()=>d});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(71141);var $=a(26570);const c=(0,o.makeStyles)((e=>{let{palette:t,typography:a}=e;return{label:{fontSize:a.small?.fontSize,color:t.gray[800]},selectBox:{paddingBottom:"15px"}}}));const d=e=>{let{allStates:t=[],clearNewPayeeId:a,deductionType:i,federalStateObject:r,globalPayeeId:d,settingsPage:u,selectedPayee:h,selectedState:p,setSelectedState:m}=e;const f=c();const g=(0,l.isEnabled)("globalPayees");const[v,y]=(0,n.useState)(false);const[b,w]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=t.map((e=>({text:e.name,value:e.id,key:e.id})));const a=[{items:e,type:"group",value:"allStates"}];const s=(i==3||i==18)&&h&&d===null;if(s){y(true)}if(i==18){const e=[{text:"Federal",value:r.id,key:r.id}];a.push({anchor:"bottom",items:e,type:"group",value:"federal"})}w(a)}),[t,i,w]);const S=e=>{m(e);a()};return(0,s.Z)(o.Flex,{className:g?`${f.selectBox} ${u}`:f.selectBox,flexDirection:"column"},void 0,(0,s.Z)("label",{className:f.label,htmlFor:"stateFilter"},void 0,$.__("State")),(0,s.Z)("div",{},void 0,(0,s.Z)(o.Select,{canSelectMultiple:false,id:"stateFilter",isClearable:true,isDisabled:v,items:b,onClear:()=>m([]),onDeselect:(e,t)=>m(t),onSelect:(e,t)=>S(t),placement:{side:"top"},selectedValues:p,width:4})))}},87579:(e,t,a)=>{"use strict";a.d(t,{X:()=>s.X});var s=a(22597)},59690:(e,t,a)=>{"use strict";a.d(t,{v:()=>s.v});var s=a(35304)},82317:(e,t,a)=>{"use strict";a.d(t,{j:()=>s.j});var s=a(53913)},8432:(e,t,a)=>{"use strict";a.d(t,{Ed:()=>b,O:()=>T,fV:()=>g,gE:()=>f,l8:()=>S,s7:()=>v,sA:()=>C,sT:()=>y,tu:()=>m,zD:()=>x});var s=a(89835);var n=a(92959);var i=a.n(n);var o=a(23321);var r=a.n(o);var l=a(59833);var c=a(16793);var d=a(75302);var u=a(73641);var h=a.n(u);var p=a(50425);var $=a(26570);var moment=a(82543);let m=(0,p.a)();const f=e=>{m=e};const g=(e,t)=>{$(e).on("keyup paste",(e=>{const{target:a}=e;const s=Number($(a).attr("data-max-count"))||0;const n=a.value.length;const i=s-n;const o=i>0?i:0;let r="";$(".js-WordCount__left").remove();if(s<=n){a.value=a.value.substring(0,s);r="WordCount__left--urgent"}else if(s>100&&s-50<=n){r="WordCount__left--urgent"}else if(s<=100&&s-15<=n){r="WordCount__left--urgent"}else if(s-150<=n){r="WordCount__left"}else{r="hidden"}$(t?t:a).after(`<span class="${r} js-WordCount__left">${o}</span>`)}))};const v=e=>{const t=e?.map(((e,t)=>{const{employeeName:a,feedbackAssignments:s,userId:n}=e;return{assignmentCount:s,text:a,value:n,key:`${a}-${t}`}}));return t||[]};const y=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{response:{data:{error:t=$.__("Uh Oh! There was an error. Please try again or contact BambooHR support.")}={}}={}}=e;window.setMessage(t,"error")};const b=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=(0,u.get)(e,"response");const n=s?.status>=500&&s?.status<600;if(n){window.Rollbar.error(t,e)}if(a){y(e)}};const w=(e,t)=>{let a=false;if(e==="goals"){const{mode:e}=t;a=!!(e==="inProgress"||e==="completed"||e==="closed")}else if(e==="feedback"){const{start:e,end:s}=t;a=!!(moment(e).isValid()&&moment(s).isValid)}else if(e==="assessments"){const{reviewPeriodId:e}=t;a=!!Number(e)}return a};function S(e,t){if(!t){return}const a=t[e];if(a){const{filters:t=[]}=a;return t.reduce(((t,a)=>{if(w(e,a)){return{...t,...a}}return t}),{})}return{}}function C(e){const{appliedFilters:t,subPageId:a,employeeId:s,currentPageId:n}=e;const o=window.location.origin;const r=a===3;const l=`id=${s}&page=${n}&subpage=${a}`;const c=`${o}/employees/performance/index.php?${l}`;const d=`${o}/performance/${s}/assessments`;const u=t?t[x(a)].default:true;let h={};if(!u){h=S(x(a),t)}if(r){var p;const e=i()(p=window.location.href).call(p,"reviewPeriod/");if(e){return}window.history.replaceState({},"",d);return}let m="";for(const e in h){m+=`&${e}=${h[e]}`}window.history.replaceState({},"",`${c}${m}`)}function x(e){const t={1:"goals",2:"feedback",3:"assessments"};return t[e]}const T=e=>{switch(e){case"goals":return{title:$.__("Goals"),icon:(0,s.Z)(l.Z,{})};case"feedback":return{title:$.__("Feedback"),icon:(0,s.Z)(c.Z,{})};case"assessments":return{title:$.__("Assessments"),icon:(0,s.Z)(d.Z,{})};default:break}}},94445:(e,t,a)=>{"use strict";a.d(t,{k:()=>s});const s={HEALTH:"health",DENTAL:"dental",VISION:"vision",SUPPLEMENTAL:"supplemental",RETIREMENT:"retirement",REIMBURSEMENT:"reimbursement",HSA:"hsa",FLEX:"flex",LIFE:"life",DISABILITY:"disability",OTHER:"other"}},12267:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addTooltipsToDisabledRequestFields:()=>B,customApproval:()=>Y,getEmployeeModalHeader:()=>j,renderReactForm:()=>ne,updateHireDates:()=>U,updateInfoColumn:()=>W});var s=a(89835);var n=a(23321);var i=a(73641);var o=a(60658);var r=a(72716);var l=a(35987);var c=a.n(l);var d=a(7641);var u=a.n(d);var h=a(393);var $=a(26570);function p(e,t,a,s,n){let i=n?n:$.__("-- Add New --");let o=$(e);return o.each((function(){if($(this).hasClass("js-insertableListModal-complete")){return}$(this).addClass("js-insertableListModal-complete");if(this.options){this.appendChild(new Option(i,"new"));$(this).trigger("liszt:updated")}$(this).change(m.bind(this,t,a,s))}))}function m(e,t,a){if($(this).val()==="new"){e(...t,f.bind(this,a))}}function f(e,t){if(t.ret==="SAVED"){let a=t[e].name;let s=t[e].listValueId?t[e].listValueId:t[e].id;let n=new Option(this.options[this.options.length-1].text,this.options[this.options.length-1].value);this.add(n,null);this.options[this.options.length-2].text=a;this.options[this.options.length-2].value=s;this.selectedIndex=this.options.length-2;$(this).trigger("liszt:updated");$(this).change()}}var g={insertListModal:p};var v=a(66147);var y=a(34825);var b=a(82543);var w=a.n(b);var S=a(17842);var C=a.n(S);var x=a(37086);var T=a(45662);var E=a(77512);var k=a(26297);var Z=a(76725);var N=a(40589);var I=a(91395);var A=a(71141);var F=a(26570);function M(e,t){if(e===null||t===null||e>t){return false}var a=t.getFullYear()-e.getFullYear();if(t.getMonth()<e.getMonth()){--a}if(t.getMonth()==e.getMonth()&&t.getDate()<e.getDate()){--a}return a}function D(e){var t=new Date;var a=typeof GLOBAL_DATEPICKER_MASK==="undefined"?"mm/dd/yy":GLOBAL_DATEPICKER_MASK;try{var s=F.datepicker.parseDate(a,e.value,{shortYearCutOff:30})}catch(e){return false}var n=M(s,t);if(n&&!(0,i.isNaN)(n)){F(".age").show();F(".dob-age").text(n)}else{F(".dob-age").text("");F(".age").hide()}}function P(e,t){var a,s,n;var i;if(e===null||t===null){return""}if(e.getDate()>t.getDate()){var o=32-new Date(e.getFullYear(),e.getMonth(),32).getDate();s=t.getDate()+o-e.getDate();i=1}else{s=t.getDate()-e.getDate();i=0}if(e.getMonth()+i>t.getMonth()){a=t.getMonth()+12-e.getMonth()-i;i=1}else{a=t.getMonth()-e.getMonth()-i;i=0}n=t.getFullYear()-e.getFullYear()-i;var r=[];if(n){r.push(sprintf(F.__n("%1 year","%1 years",n),n))}if(a){r.push(sprintf(F.__n("%1 month","%1 months",a),a))}if(s){r.push(sprintf(F.__n("%1 day","%1 days",s),s))}if(n<0){return""}return r.join(", ")}function O(e){var t=new Date;var a=typeof GLOBAL_DATEPICKER_MASK==="undefined"?"mm/dd/yy":GLOBAL_DATEPICKER_MASK;try{var s=F.datepicker.parseDate(a,e.value,{shortYearCutOff:30})}catch(e){return false}try{if(F(".termination-field").length>0){var n=F(".termination-field").val();t=F.datepicker.parseDate(a,n,{shortYearCutOff:30});if(t===null){t=new Date}}else{var i=F(".hiredate-los").data("termdate");if(i!="0000-00-00"&&i!=""){t=F.datepicker.parseDate("yy-mm-dd",i)}}}catch(e){return false}var o=P(s,t);if(o){F(".los").show();F(".hiredate-los").text(o)}else{F(".hiredate-los").text("");F(".los").hide()}}function L(e,t){t.find("option").hide();t.find("option.state_"+e).css("display","block");if(t.find(":selected").css("display")=="none"){t.val("")}F(t).trigger("liszt:updated");F(t).trigger("change")}function R(){F(".state-filing-status-field").each((function(e){var t=F(this);var a="select[name="+F(this).data("withholding-state-field")+"]";window.setTimeout((function(){F(a).change((function(){var e=F(this).find(":selected").text();L(e,t)}));F(a).change();window.formChanged=false}),500)}))}function B(){F(".request.disabled").each((function(){B.count++;F(this).attr("disabled",true);var e=false;if(F(this).siblings("a").children().length||F(this).parent().siblings("label").children().length){e=true}if(!F(this).hasClass("hidden")&&!e&&F(this).is(":visible")){var t=F(this).attr("id");var a=F(this).attr("data-pending-id");var s=F.__("Pending Approval");var n=F.__("The latest change to this field is waiting for approval. Click to go to the original request.");var i="/inbox/details.php?id="+a+"&name=information_update&type=sent";if(F(this).hasClass("notice")){i="/inbox/details.php?id="+a+"&name=information_update&type=inbox"}var o=F(this).attr("type");var r='<ba-icon class="baseInvertOnHover request-icon request-'+(t||B.count)+'" name="fab-edit-approval-required-16x16"></ba-icon>';if(o==="checkbox"){F(this).parent().siblings("label").append('<a href="'+i+'" class="request-icon-container" >'+r+"</a>")}else{F(this).before('<a href="'+i+'" >'+r+"</a>")}if(t.indexOf(":idx:")===-1){BambooHR.Components.Tooltip.create(".request-icon.request-"+(t||B.count),{lead:s,content:n,placement:"right",textAlign:"left"})}}}))}B.count=0;function j(){if(window.Employee){return(0,s.Z)(h.Z,{imageAlt:"Image of employee",imageSrc:window.Employee.photoURL,subTitle:window.Employee.jobTitle,title:window.Employee.preferredName+" "+window.Employee.lastName})}return null}F((function(){const e=F("#employeePhoto .empPhoto").attr("src");F("#employeeNav .js-employeePhotoSmall").attr("src",e);B();window.enableFormChangeTracking(document.forms.employee);if(F(".termination-field").val()==""){F(".rehire-field").parent().parent().children("td,th").css("display","none")}F(".termination-field").change((function(){if(this.value!=""){F(".rehire-field").parent().parent().children("td,th").css("display","table-cell")}var e=F(".hiredate-field");if(e.length>0){O(e[0])}}));R();var t=F(".dob-field");if(t.length>0){t.change((function(){D(this)})).keypress((function(){D(this)})).find(":last").after(`<span>${F.__("Age: ")}<span class="dob-age"></span></span>`);D(t[0])}var a=F(".hiredate-field");if(a.length>0){var n=F.__("Length of service: ");a.change((function(){O(this)})).keypress((function(){O(this)})).find(":last").after(`<span>${n}<span class="hiredate-los"></span></span>`);O(a[0])}F(document).on("blur",".work-email-field, .home-email-field",l);function l(){if(typeof window.empStatus==="undefined"){window.empStatus="Active"}var e=F(".employee-status-field").val()||window.empStatus;window.empHasEmail=false;F(".checkEmailExists").each((function(e,t){if(window.validateEmail(F(t).val())){window.empHasEmail=true}}));if(typeof empHasEmail!="undefined"){if((F(".work-email-field").val()!=""&&window.validateEmail(F(".work-email-field").val())||F(".home-email-field").val()!=""&&window.validateEmail(F(".home-email-field").val()))&&e=="Active"){F("#ssa_msg_on").hide()}else if((!window.empHasEmail||e=="Inactive")&&F('[id^="ea_disabled_field"]').is(":checked")){F("#ssa_msg_on").css("display","inline-block")}else if(!window.empHasEmail||e=="Inactive"){F("#ssa_msg_on").css("display","inline-block")}d()}}function d(){if(F('[id^="ea_disabled_field"]:checked').length>0){F("#ssa_msg_off").css("display","inline-block");F("#ssa_msg_on").hide()}else{F("#ssa_msg_off").hide()}}F(".employee-status-field").change(l);F(".ess-field").change(l);F("#resetPassword").click((function(e){e.preventDefault();if(!window.empHasEmail){showModalPopup(F.__("Error"),F.__("Please enter a valid work or home email for this employee before resetting the password."));return false}var t=F(this).data("userid");if(window.formChanged){if(window.trackedFormId){var a='<div class="navigateAwayModal"><img src="/images/bicons/warning-icon-lrg.png"/><div class="navHeader">'+F.__("You haven't saved your changes")+"</div>";a+='<p class="navMessage">'+F.__("Your changes will be lost if you navigate away from this page without saving.")+"</p></div>";var s="<button type='button' id='saveChangesButton' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only btn btnAction' role='button' aria-disabled='false'><span class='ui-button-text'>"+F.__("Save Changes")+"</span></button>";return showModalDialog(F.__("Just Checking..."),a,F.__("Don't Save"),(function(){h(t)}),null,{additional_footer_html:s,open_callback:function(){F("#saveChangesButton").click((function(){F("#"+window.trackedFormId).submit()}));F("button:not(#saveChangesButton)").removeClass("btnAction")},width:"450px"})}modalDialogAlert(F.__("Discard Changes"),F.__("You have not saved your changes. Do you want to discard your changes?"),F.__("Yes"),(function(){closeModalDialog();h(t)}))}else{h(t)}return false}));function h(e){F.ajax({type:"post",dataType:"json",url:"/settings/permissions/edit.php",data:{id:e,action:"password"},success:function(e){if(e.success){location.reload()}else{let t=e.message==""||e.message==undefined?F.__("There was an error resetting the password. Please try again."):e.message;setMessage(window.msg,"error")}}})}F('[id^="ea_enabled_field"], [id^="ea_disabled_field"]').click((function(){if(F('[id^="ea_disabled_field"]').is(":checked")){F(".js-essAccessLevelSelect, #resetPassword").hide()}else{F("#resetPassword").show();F(".js-essAccessLevelSelect").show()}}));l();function p(){F.getJSON("/ajax/employee_current_job_info.php",{id:window.currentlyEditingEmployeeId},(function(e){e.currentlyEditingEmployeeId=window.currentlyEditingEmployeeId;var t=window.microTemplate(c(),{empInfo:e});y.ZP.openModal({html:t,classes:"jquery-padding no-chosen-breakout",header:{title:{text:F.__("Delete Employee?")}},deleteModal:{active:true,selector:"#deleteConfirm"},footer:{buttons:{primary:{text:F.__("Yes, Delete this Employee"),performActionOnKeyCode:13,action:function(){let e=F('[name="position[reportsToEmployeeId]"]');if(e.length>0&&e.val()===""){setMessage(F.__("Please select a new hiring lead before deleting this employee"),"error");return}if(F("#deleteConfirm").val().toUpperCase()!=="DELETE"){setMessage(F.__("Please type %1$s to confirm deleting this employee",'"DELETE"'),"error");F("#deleteConfirm").focus();return}y.ZP.Footer.Buttons.Primary.startProcessing();let t="/employees/delete_employee.php";let a={id:window.currentlyEditingEmployeeId};if(e.length>0&&!(0,i.isNaN)(parseInt(e.val(),10))){a.newHiringLeadId=e.val()}var s=F.post(t,a);s.done((function(e){var t=JSON.parse(e);if(t.canDeletePayrollEmployee){y.ZP.closeModal();window.location=t.redirect}else{y.ZP.openModal({html:microTemplate(u(),{}),classes:"jquery-padding",header:{title:{text:F.__("Just so you know...")}},footer:{buttons:{primary:{show:true,text:F.__("OK, Thanks"),action:function(){y.ZP.closeModal();y.ZP.closeModal();window.location=t.redirect}},cancel:{show:false}}}})}}))}},secondary:{show:true,text:F.__("No, Keep this Employee"),action:function(){y.ZP.closeModal()}},cancel:{show:false}}},callbacks:{open:{after:function(){F("#deleteConfirm").focus()}}}})}))}F(".deleteEmployee").on("click",p);function m(){if(F("#deleteConfirm").val()!==F.__("DELETE").toUpperCase()){var e=F.__('Please type the word "DELETE" to continue.');if(F("#deleteEmployeeModal p:last-child").html()!=e){F("#deleteEmployeeModal").append('<p style="margin-bottom:0">'+e+"</p>")}F("#deleteConfirm").focus();return}closeModalDialog();F.post("/employees/delete_employee.php",{id:window.currentlyEditingEmployeeId},(function(e){if(e.success){window.location=e.redirect}else{setMessage(e.message,"error")}}),"json")}F(".js-customizeViewLink").click((function(){function e(){(0,o.K4)((0,s.Z)(r.Z,{}))}if(window.formChanged){if(window.trackedFormId){window.BambooHR.Modal.setState({headline:F.__(`You haven't saved your changes`),dangerousContent:`<div class="Forms__confirmationMessage">${F.__("Your changes will be lost if you navigate away from this page without saving.")}</div>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,isProcessing:false,primaryAction:function(){const e=F("#"+window.trackedFormId);if(e.valid()){window.BambooHR.Modal.setState({isProcessing:true},true);F("#"+window.trackedFormId).submit()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:F.__("Save Changes"),secondaryAction:function(){window.BambooHR.Modal.setState({isOpen:false});e()},secondaryActionText:F.__(`Don't Save`),title:F.__("Just Checking...")})}}else{e()}}));if(F(".termination-field").val()==""){F(".rehire-field").parent().parent().children("td,th").css("display","none")}F(".js-directReport-toggle").click((function(){var e=F(".directReports__overflow");var t=e.children().first().outerHeight()+parseInt(e.children().first().css("margin-bottom"));var a=e.children().length;if(!e.outerHeight()>0){e.css("height",t*a+"px");e.addClass("show");F(this).hide()}}));const f=F("#employeeGearMenu");function g(){F.ajax({type:"GET",url:"/ajax/employees/terminate.php",data:{id:window.currentlyEditingEmployeeId},dataType:"JSON",success:function(e){var t="#terminateEmployeeForm";var a=F("#terminateEmployeeTemplate").tmpl({fields:e});y.ZP.openModal({callbacks:{open:{after:function(){var a=y.ZP.getTopModalSelector();var s=a.find(t);var n=s.find("#termDate").focus();if(e.minDate){var i=w()(e.minDate);n.attr("data-mindate",i.toISOString()).datepicker("option","minDate",i.toDate()).addClass("js-validate-mindate")}var o=s.find("textarea");o.on("autosize:resized",(function(){y.ZP.setPosition()}));s.bhrValidate({customMessages:{termDate:{validateMinDate:"This date must be after the current employment status date."}}});BambooHR.VirtualPageView.modal("terminateEmployee")}}},footer:{buttons:{primary:{action:function(e){var a=e.find(t);if(!a.valid()){return}y.ZP.Footer.Buttons.Primary.startProcessing();F.ajax({type:"POST",url:"/ajax/employees/termination.php",data:F("form#terminateEmployeeForm").serializeArray(),success:function(e){y.ZP.closeModal();setMessage(F.__("Success"),"success");location.reload()},error:function(e){e=e.responseText===""?F.__("Whoops... No worries. Please fix any missing or incorrect information and try again."):e.responseText;setMessage(e,"error");y.ZP.Footer.Buttons.Primary.stopProcessing()}})}}}},html:a,title:F.__("Terminate Employment")})}})}f.on("click",".terminateEmployee",g);var v=false;var b=false;var S;if(typeof employeeTab!=="undefined"&&window.employeeTab==1){C()}F(window).scroll((function(){if(typeof employeeTab!=="undefined"&&window.employeeTab==1){C()}}));f.on("mouseenter",".down-list .hasSublist",(function(){var e=F(this).children(".sub-list");var t=e.width()+2;if(e.is(":visible")){clearTimeout(S)}e.addClass("hover").css("left","-"+t+"px")}));f.on("mouseleave",".down-list .hasSublist",(function(){var e=F(this);S=window.setTimeout((function(){F(e).children(".sub-list").removeClass("hover")}),100)}));function C(){if(F(window).scrollTop()>200&&!v&&!b){const e=F(".js-SiteHeader").outerHeight(true);b=true;F("#employeeNav").wrap('<div id="employeeNavFixed">');F("#employeeNavFixed").addClass("branded-border");F("#employeeNavFixed").find(".employeeDetails").show();F("#employeeNavFixed").animate({top:e},250,(()=>{v=true}))}else if(F(window).scrollTop()<200&&v&&b){F("#employeeNavFixed").animate({top:"0px"},0,(function(){F("#employeeNavFixed").find(".employeeDetails").hide();let e=document.getElementById("employeeNavFixed");let t=e.parentNode;t.insertBefore(e.firstChild,e);t.removeChild(e);v=false;b=false}))}}F(".footer__empWrapper .stickyFooterSaveButton").attr("onclick","return false;").addClass("disabled");F("#employee").on("keydown change",":input",(function(){F(".footer__empWrapper .stickyFooterSaveButton").attr("onclick",'return $("#employee").submit()').removeClass("disabled")}));function x(){const e=F(".ess-field").length>=1&&F(".ess-field:checked").val()=="enabled"||!!window.companyHasTrax||!!window.hasTrax;const t=F(".js-validate-ss-required").length==2;const a=t?F(".js-validate-ss-required").closest(".fieldGroup").hasClass("oneEmailRequired"):false;if(e&&t&&!a){F(".js-validate-ss-required").closest(".fieldGroup").addClass("oneEmailRequired").find(".fab-Label").attr("onerequired",F.__("(One Email Required)")).append('<span class="fab-Label--required" />')}else if(!e&&t&&a){F(".js-validate-ss-required").closest(".fieldGroup").removeClass("oneEmailRequired").find(".fab-Label").removeAttr("onerequired").find("span").remove()}}F("form#employee").one("focusin",x);F('[id^="ea_enabled_field"], [id^="ea_disabled_field"]').on("click",x)}));F(document).on("submit",document.forms.employee,(e=>{if(e.target.id==="custom_approval"){return false}if(typeof validate_employee==="function"){F("[class*='email-field']").each((function(){const e=F.trim(F(this).val());F(this).val(e)}));if(!window.validate_employee(document.employee)){return false}}return true}));F.registerElementInitializer(".js-pay-schedule-insertable-list",(function(){const e=F.__(`You don't have any pay schedules set up. Add them in settings.`);const t=F(".js-pay-schedule-insertable-list");if(t.length&&t.find('ba-option[value!=""]').length===0){const a=document.createElement("ba-option");a.innerText=e;a.setAttribute("disabled","disabled");t.append(a)}}));const H=".js-location-insertable-list";F.registerElementInitializer(H,(function(){g.insertListModal(H,v.Z.showModal,[null,{},false],"savedLocation")}));document.addEventListener("ba:selectAddItem",(e=>{if(e.target.classList.contains("js-location-insertable-list")){const{resolve:t,reject:a}=e.detail;const s=window.BambooHR.Modal.isOpen();const n=()=>{a();window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)};const i=e=>{const{ret:s,extra:n}=e;if(s==="SAVED"){const{id:e,label:a}=n;t([{text:a,value:e,selected:true}]);return}a()};v.Z.showModal(null,{},false,i,n,{isSheet:s})}}));function q(e){return e.replace(/([^a-z0-9])/gi,"")}function W(){if(typeof currentlyEditingEmployeeId=="undefined"){return}F.post("/ajax/employees/info_column.php",{employeeId:window.currentlyEditingEmployeeId},(function(e){var t=F(".infoColumn").html(e);var a=t.find("img.grayscale");if(a.length>0&&F.isFunction(F.fn.gray)){a.gray()}}));F.get("/ajax/employees/job_title.php",{employeeId:window.currentlyEditingEmployeeId},(function(e){F(".js_jobTitle").html(e)}))}function U(){if(typeof currentlyEditingEmployeeId==="undefined"){return}F.getJSON("/employees/hireDate/"+window.currentlyEditingEmployeeId,(function(e){var t=F('[name="field_'+e.hire_date.field_id+'"]');var a=F('[name="field_'+e.original_hire_date.field_id+'"]');if(t.length){t.val(w()(e.hire_date.value).format())}if(a.length){a.val(w()(e.original_hire_date.value).format())}}))}function z(e,t,a){window.BambooHR.Modal.setState({isProcessing:true},true);function s(){window.BambooHR.Modal.setState({isProcessing:false},true)}F.post(F("#custom_approval").attr("action"),F("form").serializeIncludeDisabled(),(function(e){s();if(e.success){if(e.message){setMessage(e.message,"success")}var t=F("#comment").val();if(t.length>0&&e.threadId&&e.authorId){F.post("/ajax/employee_comments.php",{threadId:e.threadId,authorId:e.authorId,action:"add",comment:t})}if(a&&typeof a==="function"){a()}window.BambooHR.Modal.setState({isOpen:false,isProcessing:false})}else if(e.error){const{data:t={}}=e;const{fields:a=[]}=t;setMessage(e.error,"error");if(a.length>0){(0,T.Eq)(a,"#custom_approval")}s()}else{s();errorFallBack()}}),"json").fail((function(){errorFallBack();s()}))}function Y(e,t){C().get(`/ajax/dialog/approvals/custom.php?id=${e}&wid=${t}`).then((a=>{let{data:n}=a;let i;if(n){const{title:a,html:o,save:r,templateName:l}=n;const c=(0,N.Y)(l);const d=".js-customApproval input, .js-customApproval select, .js-customApproval textarea, .js-paidPer, .js-payType";const u=()=>{te(m)};const h=()=>{document.querySelectorAll(d).forEach((e=>{e.addEventListener("keyup",u);F(e).on("change",u)}));F("#custom_approval").on("change",ae);F(".js-paySchedule").on("change",G);F(".payRateGroup .js-paidPer").on("change",X);F(".js-payType").on("change",V);F(".payRateGroup .js-rate").on("change",K);F(".payRateGroup .js-currency-picker-type").on("change",J);F(".js-overtimeRate").on("change",x.ZP.handleOvertimeRateChange);if(F(".js-jobDate").length!==0&&F(".js-startDate").length!==0){F(".js-startDate").on("change",(()=>F(".js-jobDate").val(F(".js-startDate").val())))}window.Employees.Job.EmploymentStatusModal.init();F(".js-employmentStatusSelect").on("change",se);setTimeout((()=>{window.Employees.Job.EmploymentStatusModal.updateTaxTypeInitialOptions(F(".js-employmentStatusSelect").find("[selected]").attr("value"),"0")}),0);const e=`\n\t\t\t\t\t<div class="regrettableInfo">\n\t\t\t\t\t\t<p><b>${F.__("Regrettable")}:</b>&nbsp;${F.__("Employees that the organization would have liked to keep but who decided to leave.")}</p>\n\t\t\t\t\t\t<p><b>${F.__("Non-Regrettable")}:</b>&nbsp;${F.__("Employees who left the company whose departure did not hurt the company.")}</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a target='_blank' aria-label="${F.__("Learn more about Regrettable vs Non-Regrettable")}" href="https://www.bamboohr.com/blog/employee-turnover-vs-attrition-context-is-the-key">\n\t\t\t\t\t\t\t\t${F.__("Learn more")}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t`;if(document.querySelector(".js-term-regret-selector-tooltip")){window.BambooHR.Popover.create(".js-term-regret-selector-tooltip",{html:e,position:"right",afterCreation:e=>{e.balloonContentElement.querySelector("a").setAttribute("target","_blank")}})}};const p=()=>{document.querySelectorAll(d).forEach((e=>{e.removeEventListener("keyup",u);F(e).off("change",u)}));F("#custom_approval").off("change",ae);F(".js-paySchedule").off("change",G);F(".payRateGroup .js-paidPer").off("change",X);F(".js-payType").off("change",V);F(".payRateGroup .js-rate").off("change",K);F(".js-overtimeRate").off("change",x.ZP.handleOvertimeRateChange);if(F(".js-jobDate").length!==0&&F(".js-startDate").length!==0){F(".js-startDate").off("change")}F(".js-employmentStatusSelect").off("change",se)};const m=()=>{if(!ee()){window.setMessage(F.__("The selected start date must come before the end date. Please try again."),"error");return}if(!x.ZP.paidPerAndPayTypeValid()){window.setMessage(F.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error");return}te(m);if(!i.valid()){return}window.BambooHR.Modal.setState({isProcessing:true},true);z(e,t,p)};const f=document.createElement("div");f.innerHTML=o;let g=F(f);const v=g.find(".js-customApprovalModalHeader").remove().html();window.BambooHR.Modal.setState({content:(0,s.Z)("div",{className:"js-request-form-wrapper",dangerouslySetInnerHTML:{__html:g.html()}}),contentHasPadding:false,header:(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:v}}),headerType:v?"filled":"",title:a,isOpen:true,onOpen:()=>{x.ZP.setupForm("requestChangeApproval");x.ZP.initializeForm("requestChangeApproval");const e=g.find("#dynamic-form-data");if(e&&(0,A.isEnabled)("ReactApprovals")){ne("dynamic-form-approval","dynamic-form-data",I.EmployeeApprovals);return}F(".js-request-form-wrapper").initializeElements();i=F("#custom_approval");i.bhrValidate();h();if(F(".employee_contacts.repeat").find(".blankState:visible").length>0){F(".js-contactAddInitial").trigger("click");F(".employee_contacts.repeat")[0].repeat.add()}ae();x.ZP.handleOvertimeRateChange();x.ZP.addFormNote();x.ZP.handlePayScheduleChange()},onClose:()=>{p()},primaryActionText:r,primaryAction:null,type:c})}})).catch(window.errorFallBack)}function G(){x.ZP.handlePayScheduleChange()}function V(){x.ZP.handlePayTypeChange("requestChangeApproval")}function K(){x.ZP.handlePayRateChange()}function X(){x.ZP.handlePaidPerChange()}function J(){x.ZP.handleCurrencyChange()}const Q={"dd MMM YYYY":"DD MMM YYYY","mm/dd/yyyy":"MM/DD/YYYY","dd/mm/yyyy":"DD/MM/YYYY","yyyy-mm-dd":"YYYY-MM-DD"};function ee(){const e=F(".js-customApproval").find(".js-startDate");const t=F(".js-customApproval").find(".js-endDate");if(!e.length||!t.length||!t.val()){return true}const a=Q[window.GLOBAL_DATE_MASK];const s=w()(e.val(),a);const n=w()(t.val(),a);return s.isBefore(n,"day")}function te(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:()=>{};var t=true;F(".js-customApproval :input[name*='field'], .js-customApproval ba-select[name*='field']").each((function(){if(this.tagName==="SELECT"){var e;F(this).children("option").each((function(){if(this.defaultSelected){e=this.value;return false}}));this.defaultValue=e}if(this.defaultChecked!=F(this).is(":checked")){t=false;return false}if(this.value!==this.defaultValue){t=false;return false}}));if(t){window.BambooHR.Modal.setState({primaryAction:null},true)}else{window.BambooHR.Modal.setState({primaryAction:e},true)}}function ae(e){const t=F(".js-overtimeRate").closest(".fieldBox");const a=F(".js-exemptStatus");const s=a.attr("name");const n=F(`select[name="${s}"]`).val();const i=F(".js-payType ba-option:selected").text().toLowerCase();const o=i==="hourly";(0,x.$m)(t,n,o)}function se(e){const t=F(e.target);const a=t.closest("form");a.addClass("customApprovalEmploymentStatusForm");if(window.Employees.Job.EmploymentStatusModal.checkIfPayrollCustomer()){window.Employees.Job.EmploymentStatusModal.employmentStatusChangeHandler(e,"0",a.find(".js-employeeTaxTypeFieldSelect select"),(()=>{window.Employees.Job.EmploymentStatusModal.addInfoStylesToTaxTypeSelect({taxTypeSelector:a.find(".js-employeeTaxTypeFieldSelect"),fieldRowSelector:".fieldRow",infoIconClass:"customApprovalEmploymentStatusIconWrapper"})}))}}function ne(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"dynamic-form-data";let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:k.F3;const n=document.getElementById(e);const i=document.getElementById(t);if(n&&i){const e=(0,Z.V)(`#${t}`);const i=e&&e.root?e.root:null;const o=document.getElementById(i);if(i&&o){o.parentNode.removeChild(o)}(0,E.s)((0,s.Z)(a,{data:e}),n)}}},12142:(e,t,a)=>{"use strict";a.r(t);a.d(t,{openEsignatureSigningModal:()=>s.n});var s=a(37995)},90733:(e,t,a)=>{"use strict";a.d(t,{$G:()=>p,FF:()=>g,Go:()=>S,Op:()=>m,Wu:()=>v,gC:()=>f,wu:()=>C});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(20928);var r=a(73641);var l=a.n(r);var c=a(17842);var d=a.n(c);var u=a(60658);var h=a(49175);var $=a(26570);function p(e,t,a,s){m($(`[data-file_id=${e}]`),t,a,s)}function m(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let n=false;let i=null;let o=0;let r=false;if(e.selector.match(/(\d+)/)){i=parseInt(e.selector.match(/(\d+)/)[1])}if(e.length||i){const l=[];if(e.length){e.each((function(){if($(this).data("can_delete")==="yes"||$(this).data("can_delete")===undefined){l.push($(this).data("file_id"))}else{o++;if($(this).data("is-implementation")==="yes"){r=true}}}));if(l.length>3||e.hasClass("js-tasklist")||e.hasClass("js-esignature")){n=true}}else if(i){l.push(i)}if(l.length<1){return}C(l,t,a,n,s,o,r)}}function f(e,t){m($(`[data-file_id=${e}]`),t,true)}function g(e,t){m(e,t,true)}function v(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let a=arguments.length>2?arguments[2]:undefined;let n=arguments.length>3?arguments[3]:undefined;let i=arguments.length>4?arguments[4]:undefined;$.get(`/${appPrefix}employees/files/getDeleteFolderCounts`,{id:a},(function(e){let n=0;let o=0;const r=e.counts;if(r){for(const e in r){o++;n+=parseInt(r[e].count)||0}}else{for(const t in e){o++;n+=parseInt(e[t].count)}}const l=(e,t,a)=>{if(i&&typeof i==="function"){i(t)}return y(e,t,a)};const c=e.templates||false;(0,u.K4)((0,s.Z)(h.A,{affectedEmployees:r,deleteAction:l,employeeCount:o||0,employeeId:t,fileCount:n||0,hasTemplates:c,sectionId:a}))}),"json")}function y(e,t,a){return c.ajax.post(`/employees/${appPrefix}ajax/folder/delete/${e}`,{id:t,employeeId:e}).then((function(e){if(e.data.success){const s=$(`[data-section_id=${t}]`);if(s.hasClass("selected")){loadSectionFiles("all",$("select[name=sort-files]").val());$("#file-sections .sectionLink.all").addClass("selected")}s.remove();if(a>0&&$("#file-sections .sectionLink.selected").hasClass("all")){loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(e.data.success_message,"success")}else{setMessage(e.data.error,"error")}})).catch((function(e){setMessage(e,"error")}))}function b(e,t){return _jsx("div",{},void 0,_jsx("h4",{className:"FileDelete__header",dangerouslySetInnerHTML:{__html:e}}),t&&_jsx("h6",{className:"FileDelete__subHeader",dangerouslySetInnerHTML:{__html:t}}))}function w(e,t,a){return _jsx("div",{className:"FileDelete__wrapper"},void 0,_jsx("div",{className:"FileDelete__imgWrapper"},void 0,_jsx("img",{alt:"Delete Folder",className:"FileDelete__img",src:"/images/files/folderx.svg"})),_jsx("div",{className:"FileDelete__details"},void 0,_jsx("div",{className:"FileDelete__name"},void 0,t),_jsx("div",{className:"FileDelete__fileCount"},void 0,$.__("%1 total files",e))),_jsx("div",{className:"FileDelete__userList",dangerouslySetInnerHTML:{__html:a.html()}}))}function S(e){const t=e.find("span.count").text().replace(/[\(\)]/g,"");let a=$.__('Are you sure you want to delete the folder "%1"?',e.data("foldername"));if(t>0){a=$.__n('Are you sure you want to delete the folder "%2" and its %1 file?','Are you sure you want to delete the folder "%2" and all of its %1 files?',t,e.data("foldername"))}window.BambooHR.Modal.setState({aggressiveConfirmationText:"Type <strong>Delete</strong> to permanently remove the folder and its files.",headline:a,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);$.ajax({url:`/ajax/${appPrefix}files/edit_folder.php`,type:"post",data:{action:"delete",id:e.data("section_id")},success(a){if(a.success){if(e.parent().hasClass("selected")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val());$(".allFilesListItem").addClass("selected")}e.parent().remove();if(t>0&&$("#file-sections .sectionLink.selected").hasClass("all")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(a.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(a.error,"error")}},dataType:"json"})},primaryActionText:$.__("Delete Folder"),isOpen:true,title:$.__("Just Checking..."),type:"aggressiveConfirmation"})}function C(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let l=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;const d=a?`/employees/files/delete_files`:`/files/delete_files`;const u=window.$filesTableWrapper||false;const h=(0,r.uniq)(e);const p=`${d}?${$.param({fileIds:h,filesRemoved:i,hasImplementationFilesRemoved:l?1:0,sort:$('select[name="sort-files"]').val()})}`;(0,o.QK)(t,true,{isLoading:true});c.ajax.get(p).then((e=>{const i=document.createElement("div");i.innerHTML=e.data;const r=$(i);if(r.find("#js-confirmDelete").val()){s=true}const l=r.find(".js-headLine").text();const c=r.find(".js-content").html();const p={alternativeAction:null,dangerousContent:c,contentHasPadding:true,headline:l,footer:null,icon:s===true?"":"fab-trash-can-43x48",iconColor:"danger",isLoading:false,onClose:()=>{(0,o.QK)(t,false,{sheetProps:null})},primaryAction:()=>{$.ajax({url:d,type:"post",data:{action:"delete",fileIds:h},success(e){if(e.success){if(typeof n==="function"){n(h)}h.forEach((e=>{let t=$(`tr[data-file_id="${e}"]`);const a=$(".file-wrapper, .FileWrapper, .FileUploadsEmployee__File");let s=a.filter(`[id="file-${e}"], [id="${e}"], [data-fileid="${e}"]`);if(s.length===0){s=a.find(`[data-file-id="${e}"]`)}t=t.add(s);if(t.length){const e=t.closest(".EmployeeFiles");const a=t.closest(".FileUploadsEmployee");t.remove();if(e.length>0&&e.find(".file-wrapper").length===0){e.find(".EmployeeFiles__FilesList").toggleClass("hidden",true);$(".MsgListing__taskEeFiles").toggleClass("hidden",true)}if(a.length>0&&a.find(".FileUploadsEmployee__File").length===0){a.remove();$(".List__FilesEmployee").remove()}}}));if(!a&&u&&u.find("tr").length<=0){u.find(".blankState").show()}const t=window.updateFileSectionCounts||o.l3;t(e.employeeId||false);setMessage(e.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{setMessage(e.error,"error")}},dataType:"json"})},primaryActionKey:"Enter",primaryActionText:$.__n("Delete File","Delete Files",h.length),secondaryAction:()=>{(0,o.QK)(t,false,{sheetProps:null})},secondaryActionText:$.__n("Keep File","Keep Files",h.length),isOpen:true,title:$.__("Just Checking..."),type:s||h.length>3?"aggressiveConfirmation":"small"};if(t){p.type=p.type==="aggressiveConfirmation"?p.type:"smallSheet";window.BambooHR.Modal.setState({sheetProps:null},true)}(0,o.QK)(t,true,p)}))}},74372:(e,t,a)=>{"use strict";a.r(t);a.d(t,{EmployeeFolderClicked:()=>r.UB,addFile:()=>o.N2,addFolderSuccess:()=>r.TX,deleteCompanyFile:()=>s.$G,deleteCompanyFiles:()=>s.Op,deleteEmployeeFile:()=>s.gC,deleteEmployeeFiles:()=>s.FF,deleteEmployeeFolder:()=>s.Wu,deleteFolder:()=>s.Go,downloadCompanyFiles:()=>n.H0,downloadEmployeeFiles:()=>n.M9,downloadMultipleFiles:()=>n.tg,duplicateFile:()=>r.Ag,editFolder:()=>r.tb,editSignatureTemplate:()=>r.ZU,emailFile:()=>r.b,emailSecureLink:()=>l.K,firstFolderSuccess:()=>r.W9,getErrorState:()=>r.ZC,handleStackableModalState:()=>r.QK,kickOffDataCleaner:()=>d.$,openESignatureTemplatingPreviewer:()=>c.w,previewEmployeeFile:()=>r.td,previewFile:()=>r.NC,previewFileWithEsignatureTemplating:()=>r.NR,reloadFileList:()=>r.VL,renameFile:()=>r.gQ,renameFileSuccess:()=>r.RT,renameFolderSuccess:()=>r.Yf,resetProcessingButton:()=>r.i8,runScan:()=>r.Lk,scanFiles:()=>r.KG,setupDraggable:()=>r.$Y,setupDroppable:()=>r.aU,setupShareInputs:()=>r.pS,shareEmployeeFile:()=>i.ur,shareFile:()=>i.u5,shareFolder:()=>i.T,showDeleteModal:()=>s.wu,showEmployeeFile:()=>r.vd,showFile:()=>r.Eu,showFileNoAccess:()=>r.sK,showImage:()=>r.od,unshareFileOrFolder:()=>i.fX,updateButtonForProcessing:()=>r.pJ,updateFileSectionCounts:()=>r.l3,updateFooterModal:()=>o.CX,updateHeadingCount:()=>r.yB,updateUploadInputs:()=>o.DG,upload:()=>o.ws,uploadEmployeeFile:()=>o.v4});var s=a(90733);var n=a(8098);var i=a(64305);var o=a(78195);var r=a(20928);var l=a(82692);var c=a(26582);var d=a(2898)},92102:(e,t,a)=>{"use strict";a.d(t,{VY:()=>u,dL:()=>o,jO:()=>c,uu:()=>h,xx:()=>l,zJ:()=>r});var s=a(23211);var n=a(86347);var $=a(26570);let i=false;function o(e,t){e();window.setTimeout((()=>{o(e,t)}),t)}function r(e,t,a,s){const n=$(`.${a}`);if(e&&t.startLink!=="undefined"){n.removeClass(`${s}--hide`);n.on("click",(function(){t.startLink()}))}else{n.off("click");n.addClass(`${s}--hide`)}}function l(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"19325311-7882-4043-b503-b08e69b88da8";return new Promise(((t,a)=>{let s=false;let n=document.getElementById("snapengage");if(!n){n=document.createElement("script");n.id="snapengage";n.type="text/javascript";n.async=true;n.src=`//storage.googleapis.com/code.snapengage.com/js/${e}.js`;let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}const i=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;window.SnapEngage.hideButton();t(window.SnapEngage)}};n.addEventListener("load",i);n.addEventListener("readystatechange",i)}))}const c=(e,t)=>{const a=document.querySelector(".js-help-center-button");if(a){a.addEventListener("click",(async()=>{const a=await h("19325311-7882-4043-b503-b08e69b88da8");a.getAgentStatusAsync((s=>{r(s,a,e,t)}))}))}};const d=()=>{const e=(0,s.y)();const t=`${e}/manifest.json`;return fetch(t).then((e=>e.json())).then((t=>{const a=t["salesforce-chat.js"];return new Promise((t=>{const s=document.createElement("script");s.src=a.startsWith("http")?a:(0,n.j)(e,a);s.async=true;s.onload=()=>t();document.head.appendChild(s)}))})).catch((e=>{console.warn(e)}))};const u=(e,t)=>{const a=window.sessionStorage.getItem("salesforce-chat-active");if(a){d()}const s=document.querySelector(".js-help-center-button");if(!s||!window.IS_WITHIN_SALESFORCE_CHAT_BUSINESS_HOURS){return}if(!i){r(false,{},e,t)}s.addEventListener("click",(async()=>{if(!i){i=true;window.addEventListener("SALESFORCE_CHAT_READY",(function(a){const s=a.detail.isAgentAvailable;r(s,{startLink:()=>{window.embedded_svc.bootstrapEmbeddedService()}},e,t)}));await d()}}))};const h=e=>{if(window.SnapEngage){return new Promise((t=>{window.SnapEngage.switchWidget(e,(()=>{t(window.SnapEngage)}))}))}else{return l(e).then((e=>e))}}},13369:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addTasklist:()=>D,bhrFormCancel:()=>L,deleteTasklist:()=>O,enableFormChangeTracking:()=>E,handleFormChange:()=>C,importAddress:()=>M,markFormChanged:()=>T,openRegisteredModal:()=>Z,registerModalLink:()=>k,renameTasklist:()=>P,showMaskedValue:()=>y,showNewCurrencyPicker:()=>A,validateEmail:()=>h.validateEmail});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73641);var r=a.n(o);var l=a(17842);var c=a.n(l);var d=a(21198);var u=a.n(d);var h=a(38592);var p=a(45662);var m=a(78144);var f=a(71141);var g=a(80817);var v=a.n(g);var $=a(26570);var jQuery=a(26570);function y(e){$("."+e).css("display","none");$("."+e+"_value").css("display","inline-block")}const b=(0,f.isEnabled)("jade");function w(e){e+="";while(e.indexOf(window.GLOBAL_THOUSANDS_SEPARATOR)!=-1){e=e.replace(window.GLOBAL_THOUSANDS_SEPARATOR,"")}let t=e.split(window.GLOBAL_DECIMAL_CHAR);let a=t[0];let s=t.length>1?window.GLOBAL_DECIMAL_CHAR+t[1]:"";var n=/(\d+)(\d{3})/;while(n.test(a)){a=a.replace(n,"$1"+window.GLOBAL_THOUSANDS_SEPARATOR+"$2")}return a+s}(function($){jQuery.fn.toggleSwitch=function(){$(this).each((function(e,t){$(`\n\t\t\t\t<input\n\t\t\t\t\ttype="hidden"\n\t\t\t\t\tname="${xmlEntities(t.name)}"\n\t\t\t\t\tvalue="${xmlEntities(t.value)}"\n\t\t\t\t\t${t.checked?"":'disabled="disabled"'}\n\t\t\t\t/>\n\t\t\t\t<span class="toggleSwitch ${t.checked?"":"off"}"></span>\n\t\t\t`).insertAfter(t);$(t).remove();$(`input[name="${t.name}"]`).next("span").click((function(){if($(this).prev("input").is(":disabled")){$(this).removeClass("off").prev("input").removeAttr("disabled")}else{$(this).addClass("off").prev("input").attr("disabled","disabled")}}))}))};jQuery.fn.serializeIncludeDisabled=function(){let e=this.find(":input:disabled, ba-select:disabled").removeAttr("disabled");let t=this.serialize();e.attr("disabled","disabled");return t}})(jQuery);(function($){$.fn.formatCurrency=function(e){e=jQuery.extend({decimal:".",global:true,name:"formatCurrency",oldSymbol:"",position:0,symbol:"$",thousands:",",useHtml:false},e);function t(t){var a=new RegExp("[^-0-9.,]+","gi");var s="";if(e.thousands!==""){s=new RegExp("\\"+e.thousands,"gi")}t=t.replace(e.symbol,"").replace(a,"").replace(s,"");if(e.decimal===t[0]){t="0"+t}return Number(t.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"))}return this.each((function(){var a=$(this)[e.useHtml?"html":"val"]();if(a!==""){a=t(a);if(isNaN(a)){a="0"}var s=a==(a=Math.abs(a));a=Math.floor(a*100+.50000000001);var n=a%100;a=Math.floor(a/100).toString();if(n<10){n="0"+n}for(var i=0;i<Math.floor((a.length-(1+i))/3);i++){a=a.substring(0,a.length-(4*i+3))+e.thousands+a.substring(a.length-(4*i+3))}let o=e.position?(s?"":"-")+a+e.decimal+n+e.symbol:(s?"":"-")+e.symbol+a+e.decimal+n;$(this)[e.useHtml?"html":"val"](o)}}))}})(jQuery);function S(e,t,a){var s=$("#"+e).val();var n=s.length;if(n>t){$("#"+a).html($.__("You cannot write more then %1 characters!",t));$("#"+e).val(s.substr(0,t));return false}$("#"+a).html($.__("This field can accept %1 more characters.",t-n));return true}function C(e,t,a){if(e&&typeof e==="string"&&e!==""&&e!==`javascript:void(0)`&&!~e.indexOf("#")&&window.formChanged){if(t&&t.preventDefault){t.preventDefault()}const a=typeof window.customFormChangedAction==="function"?window.customFormChangedAction:null;x($(`#${window.trackedFormId}`),e,a);return false}if(a){a()}}$((function(){if(!(0,o.isUndefined)($('.calendar-field:not([name*=":idx:"])').bhrdatepicker)){try{$('.calendar-field:not([name*=":idx:"])').bhrdatepicker(window.HSHQ_DATEPICKER_OPTIONS).attr("autocomplete","off")}catch(e){Rollbar.error("Error setting bhrdatepicker with window.HSHQ_DATEPICKER_OPTIONS",{error:e,options:window.HSHQ_DATEPICKER_OPTIONS})}$('.calendar-field:not([name*=":idx:"])').each((function(){if($(this).attr("defaultDate")!==""){$(this).datepicker("option","defaultDate",$(this).attr("defaultDate"))}}))}$(document).click((function(e){var t=$(e.target);if(t.closest("#ui-datepicker-div").prop("tagName")!=="DIV"&&!t.closest(".ui-datepicker").hasClass("ui-datepicker")&&!t.closest(".ui-icon").hasClass("ui-icon")&&!t.closest(".ui-datepicker-next").hasClass("ui-datepicker-next")&&!t.closest(".ui-datepicker-prev").hasClass("ui-datepicker-prev")&&!t.closest(".hasDatepicker").hasClass("hasDatepicker")){$(".hasDatepicker").datepicker("hide")}}));$(document).on("blur",`.currency-field:not('.dynamic-field-react')`,(function(){var e=$(this).data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";var t=$(this).data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";var a=window.GLOBAL_CURRENCY_SYMBOL||"$";var s=a;a=$(this).data("cursymbol")||s;$(this).formatCurrency({decimal:t,oldSymbol:$(this).data("oldcursymbol"),position:$(this).data("currencysymbolposition"),symbol:a,thousands:e}).trigger("bhr:format")}));$(document).on("blur",".percent-field",(function(){var e=$(this).val();var t=new RegExp("[^-?0-9.,]+","gi");var a=e.replace(t,"");var s=window.GLOBAL_DECIMAL_CHAR||".";if(a.indexOf(s)>0){a=a.replace(new RegExp("\\"+s+"*?(0)*$"),"")}if(a!=""){a+="%"}$(this).val(a)}));$("body").on("blur",".number-field:not(.no-commas)",(function(){this.value=w(this.value);$(this).trigger("bhr:format")}));$("body").on("click",`a[target!='_blank']:not('.history-modal,.no-form-changed-popup')`,(function(e){C(this.href,e)}));$("#quicksearchform").submit((function(){var e=$(this);if(window.formChanged){return modalDialogAlert($.__("Discard Changes"),$.__("Do you want to discard your changes?"),$.__("Yes"),(function(){window.formChanged=false;e.submit()}),"",{cancel_message:$.__("No")})}}));$("body").on("focus",".BhrForms input[type='text'], .BhrForms input[type='email']",(function(){$(this).parent(".inputIcons").addClass("focused");$(this).parent(".inputGrabHandle").addClass("focused")}));$("body").on("blur",".BhrForms input[type='text'], .BhrForms input[type='email']",(function(){$(this).parent(".inputIcons").removeClass("focused");$(this).parent(".inputGrabHandle").removeClass("focused")}))}));function x(e,t,a){const s=e.validate();if(b){window.BambooHR.Modal.setState({headline:$.__(`You haven't saved your changes`),dangerousContent:`<div class="Forms__confirmationMessage">${$.__("Your changes will be lost if you navigate away from this page without saving.")}</div>`,icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,isProcessing:false,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);if(typeof a==="function"){a()}else{e.submit();if(s.numberOfInvalids()>0){window.BambooHR.Modal.setState({isOpen:false})}}},primaryActionText:$.__("Save Changes"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=t},secondaryActionText:$.__(`Don't Save`),title:$.__("Just Checking...")});return}let n={title:$.__("Just Checking..."),html:window.microTemplate(v(),{}),footer:{show:true,buttons:{primary:{show:true,text:$.__("Save Changes"),action:function(){if(typeof a==="function"){SimpleModal.Footer.Buttons.Primary.startProcessing();SimpleModal.Footer.Buttons.Secondary.disable();a()}else{e.submit();if(s.numberOfInvalids()===0){SimpleModal.Footer.Buttons.Primary.startProcessing();SimpleModal.Footer.Buttons.Secondary.disable()}}}},secondary:{show:true,text:$.__(`Don't Save`),action:function(){SimpleModal.Footer.Buttons.Primary.disable();SimpleModal.Footer.Buttons.Secondary.startProcessing();window.location=t}},cancel:{show:true}}}};window.SimpleModal.openModal(n)}function T(){window.formChanged=true}window.trackedFormId=(0,o.isUndefined)(window.trackedFormId)?false:window.trackedFormId;function E(e){let t=$(e);let a=t.attr("id");if(!t.length||!a){return}window.trackedFormId=t.attr("id");t.find("input,textarea,select").filter(":not(.control-field):not(.js-no-sticky-footer)").change(T);t.find("input[type=checkbox]").click(T);t.on("ba:selectChange",T)}function k(e,t,a,s,n,i){$(document).on("click",e,(function(){var e=$(this);var r={cancel_message:$.__("Cancel"),open_callback:function(){e.removeAttr("modalClicked")},initCompensationModal:function(){if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.initializeForm("updateCompensation")}}};if(!(0,o.isUndefined)(n)){$.extend(r,n)}if(e.attr("modalClicked")!=="true"){e.attr("modalClicked","true");Z({settings:r,chosenModalSize:e.data("modal-size"),url:e.attr("url"),options:n,saveHandler:s,presubmit:i,accept_message:a,dialog_title:t})}return false}))}function Z(e){let{settings:t,chosenModalSize:a="small",url:n,options:i,saveHandler:o,presubmit:r,accept_message:l,dialog_title:d}=e;const u=a;let h=null;let p=null;if(window.Employee){const{jobTitle:e,lastName:t,photoURL:a,preferredName:n}=window.Employee;const i=a||"/images/photo_person_150x150.png";const o=`${n} ${t}`;h=(0,s.Z)("div",{className:"historyModalHeader"},void 0,(0,s.Z)("img",{className:"historyModalHeader__avatar",src:(0,m.Jk)(i)}),(0,s.Z)("span",{className:"historyModalHeader__info"},void 0,(0,s.Z)("div",{className:"historyModalHeader__infoName",dangerouslySetInnerHTML:{__html:BambooHR.Utils.sanitizeHtml(o)}}),(0,s.Z)("div",{className:"historyModalHeader__infoTitle",dangerouslySetInnerHTML:{__html:BambooHR.Utils.sanitizeHtml(e)}})));p="filled"}window.BambooHR.Modal.setState({alternativeActionText:t.cancel_message,biId:"employee-benefits-add-dependent",content:(0,s.Z)("div",{id:"historyModalContent"}),isLoading:true,header:h,headerType:p,isOpen:true,primaryAction:function(){event.preventDefault();if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{const e=$("#fabricModalContent");const t=e.find("form[bhrvalidate-initiated]");window.modalIdSelector=e.selector;if(t.length>0&&!t.valid()){return}window.modalSubmit(o,r)}},primaryActionText:l,title:d,type:u});c().get(n).then((e=>{const a=$("#historyModalContent");a.html(e.data);const s=a.find("h3");const n=`${$.__("Update")} ${s.first().text()}`;s.remove();window.BambooHR.Modal.setState({isLoading:false,title:n},true);window.setTimeout((()=>{if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.setupForm("updateCompensation")}if($.isPlainObject(i)&&!i.omit_validation&&$.isFunction($.fn.bhrValidate)){a.find('.BhrForms:not(".js-noValidate")').bhrValidate({})}t.open_callback();t.initCompensationModal();a.initializeElements();if(typeof window.addTooltipsToDisabledRequestFields==="function"){window.addTooltipsToDisabledRequestFields()}if(a.find("div.js-EmploymentStatusForm").length===1){window.Employees.Job.EmploymentStatusModal.updateTaxTypeInitialOptions(a.find('[name="employmentStatusId"]').find("[selected]").attr("value"))}}))})).catch((()=>{window.BambooHR.Modal.setState({isLoading:false,isOpen:false});window.setMessage("An error has occurred while getting the data. Please reload the page and try again.","error")}))}var N;function I(e){const t=e.siblings(".js-overtime-rate, .js-overtimeRate, .js-rate").length>0;return!t?{}:(0,p.ak)(e)}function A(e,t,a,s,n){const{employeeId:i,payScheduleId:r=null}=I($(e));let l=$(e).data("employee-id")||i;if(r!==null){l=null}var c=$(t);if((0,o.isUndefined)(a)){a=$(t+"_code")}N=$("#newCurrencyPickerWidget");if(N.length===0){$.getJSON("/ajax/get_currency",{field:t,employeeId:l,payScheduleId:r},(function(t){N=$('<div id="newCurrencyPickerWidget"><ul></ul></div>').hide();let i=N.find("ul");$.each(t.data,(function(t,o){let r;if(t==4){r=$('<li class="divider"><hr></li>');r.appendTo(i)}r=$(`\n\t\t\t\t\t<li class="linkColor baseBgColor-hover">\n\t\t\t\t\t\t<span class="code">${window.js(this.code)}</span> - ${this.name}\n\t\t\t\t\t</li>`);r.data("cursymbol",this.symbol).data("curid",this.id);r.bind("click.bhr.selectCurrency",(function(t){t.stopPropagation();var i=$(this);c.data("oldcursymbol",c.data("cursymbol"));c.data("cursymbol",i.data("cursymbol"));c.data("currencysymbolposition",o.symbolPosition);$(a).val(o.code).trigger("change");c.blur();$(e).text(o.code);if(n){$(n).text(o.code)}$(".pickerOn").removeClass("pickerOn");N.hide().remove();if(typeof s==="function"){s()}$(document).unbind("click.bhr.currencyHideWidget")}));r.appendTo(i)}));if($(".ui-dialog").length>0){N.css("z-index",$(".ui-dialog").css("z-index"))}N.appendTo("body");A(e,t.field,a)}))}else{e=$(e);e.addClass("pickerOn");F();N.show();var u=(0,d.getMaxZIndex)()+1;N.css("z-index",u);$(document).bind("click.bhr.currencyHideWidget",(function(t){e.removeClass("pickerOn");$("#newCurrencyPickerWidget").hide().remove();if(typeof s==="function"){s()}$(document).unbind("click.bhr.currencyHideWidget")}))}}function F(){var e=$(".pickerOn");let t=0;if(b){const e=getComputedStyle(document.body);if(e.position==="fixed"){t=parseInt(e.top.replace("px",""))}}if(e.length){N.css({top:(0,h.getRelativePosition)(e,"bottom")-t,left:(0,h.getRelativePosition)(e,"left")})}}function M(e){var t=$(e).data("params");const{countryId:a,stateId:s}=t;const n=$("[name=countryId]");$(":input[name=stateId], ba-select[name=stateId]").attr("data-csz-value",s);if(a){n.val(a);n.trigger("ba:selectChange")}$.each(t,(function(e,t){if(e!="countryId"&&e!="stateId"){$("[name="+e+"]").val(t);if(t!==""){$("[name="+e+"]").trigger("paste")}}}))}$((function(){$(window).resize((function(){F()}))}));$(".js-pdf-export").bind("click",(function(e){e.preventDefault();const t=this.getAttribute("href");const a=this.getAttribute("hide-font-size");const s=this.dataset.orientations?this.dataset.orientations.split(/\s+/):[];const n={hideFontSize:a};if(s.length){n.orientations=s}window.Reports.exportPdf(t,n)}));function D(){return ajaxModalDialog($.__("Add a new tasklist"),"/ajax/dialog/manage/tasklist/add_tasklist.php",$.__("Save"),(function(){if($.trim($("#add_tasklist input").val())===""){var e=$.__("Please enter a tasklist name.");if($("#add_tasklist p.please").html()!=e){$("#add_tasklist").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#add_tasklist")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function P(e){return ajaxModalDialog($.__("Rename Selected Tasklist"),"/ajax/dialog/manage/tasklist/rename_tasklist.php?id="+e,$.__("Save"),(function(){if($.trim($("#rename_tasklist input").val())===""){var e=$.__("Please enter a tasklist name.");if($("#rename_tasklist p.please").html()!=e){$("#rename_tasklist").append("<p class='please'>"+e+"</p>")}}else{modalFormSubmit($("#rename_tasklist")[0],(function(e){if(e.ret=="SAVED"){document.location.reload()}}))}}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function O(e){return ajaxModalDialog($.__("Delete Selected Tasklist"),"/ajax/dialog/manage/tasklist/delete_tasklist.php?id="+e,$.__("Yes"),(function(){modalFormSubmit($("#delete_tasklist")[0],(function(e){if(e.ret=="DELETED"){document.location.reload()}}))}),undefined,{modal:true,cancel_message:$.__("Cancel")})}function L(e,t){var a=$(".BhrPage-wrap + footer:not(.SiteFooter)");$(e).addClass("BhrForms--view");if(!t){$(e).trigger("reset");const t=document.querySelector(e);if(t){t.querySelectorAll("ba-select").forEach((e=>e.__ba.resetSelect()));if($(e)&&$(e).data("validator")&&$(e).data("validator").resetForm){$(e).data("validator").resetForm()}}}$(e).addClass("BhrForms--view");$("select").trigger("liszt:updated");$(".fieldBox.masked_value").removeAttr("style");$(".fieldBox.masked").removeAttr("style");$(".fieldBox").children(".formNote.error").remove();$(".fieldGroup.validate-group-error").removeClass("validate-group-error");$(".fieldBox.error").removeClass("error");$(".js-country-value-initialized").removeClass("js-country-value-initialized");a.css("bottom","0px");a.addClass("fixedFooter");a.animate({bottom:"-60px"},400,(function(){$(this).removeClass("fixedFooter");$("#content").css("margin-bottom","0px");$("#footerHolder").remove()}));window.formChanged=false}$(document).on("reset",".BhrForms",(function(){var e=$(this).find(":input[data-initial-value], ba-select[data-initial-value]");setTimeout((function(){e.each((function(){var e=$(this);e.val(e.attr("data-initial-value"));if(e.is("select")){e.trigger("liszt:updated")}if(e.is("[class*=bhrToggle]")){e.trigger("change")}if(e.hasClass("currency-field")||e.hasClass("percent-field")){e.blur()}}))}),0)}));$((function(){if($(".BhrForms").find(document.activeElement).length>0){$(".BhrForms").removeClass("BhrForms--view")}$(".BhrForms--view").on("click chzn:chzn-choice-close","input[type=checkbox]:not(:disabled) + label, input[type=radio]:not(:disabled) + label, select:not(:disabled):not(.js-no-sticky-footer) + div.chzn-container, select:not(:disabled):not(.js-no-sticky-footer) + div.chzn-container + .chzn-single > .search-choice-close",(function(){$(this).closest(".BhrForms--view").trigger("focusin")}));$(".BhrForms--view").on("focusin",(function(e){if(this!==e.target&&!$(e.target).is(":focusable")){return false}if($(e.target).closest(".chzn-container").hasClass("js-no-sticky-footer")){e.stopPropagation();return false}if($(e.target).parent(".chzn-container").hasClass("chzn-disabled")||$(e.target).is("a")||$(e.target).parents("ba-select").hasClass("disabled")||$(e.target).parents("ba-select").attr("disabled")==="disabled"){return false}if($(e.target).closest(".js-no-sticky-footer").length===0){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}var t=$("footer:not(.SiteFooter)");$(this).removeClass("BhrForms--view");if(!t.hasClass("fixedFooter")&&!$(this).hasClass("js-no-sticky-footer")){t.after('<div id="footerHolder" style="height: 60px"></div>');t.css("bottom","-60px").addClass("fixedFooter");t.css("display","block");t.animate({bottom:"0px"},400)}$("select:not(.ui-datepicker-month):not(.ui-datepicker-year):visible").chosen(bhrChosenOptions);if(e&&e.target.id&&/_masked$/.test(e.target.id)){$("#"+e.target.id.replace("_masked","")).focus()}$(this).initialTraxValidation()}));$(document).on("modalDialog:closed",(function(){$("#currencyPickerWidget").hide().remove()}));$(document).on("modalDialog:closed",(function(){$("#newCurrencyPickerWidget").hide().remove()}))}));(function(){var e={selector:"[name]",name:null,value:null,action:"show",method:"if",container:"form",class:null},t={show:"hide",hide:"show",addClass:"removeClass",removeClass:"addClass"};$.fn.toggleIf=function(a){a=$.extend({},e,a);a.target=$(this);a.action=(0,h.toCamelCase)(a.action);a.container=this.closest(a.container)||$(document.body);var s=a.container.find(a.selector).filter((function(){if(this.name){return a.name.split("|").indexOf(this.name.toLowerCase())>=0}}));s.each((function(){var e=$(this),n=e.data("toggleIf");if((0,o.isUndefined)(n)){e.data("toggleIf",{});e.on("change",(function(){$.each(e.data("toggleIf"),(function(a,n){$.each(n,(function(n,i){var o=[];$.each(s,(function(){var t=$(this).val();switch(i.method){case"if":o.push(i.value.split("|").indexOf(t)>=0);break;case"in":if(e.is([':not([type="checkbox"]:checked)',':not([type="radio"]:checked)'].join(", "))){o.push(t.indexOf(i.value)>=0)}break;case"re":var a=new RegExp(i.value,"g");o.push(a.exec(t));break;case"gt":break;case"lt":break}}));i.target[o.indexOf(true)>=0?a:t[a]](i.class)}))}))}))}n=e.data("toggleIf")||{};n[a.action]=n[a.action]||[];n[a.action].push(a);e.data("toggleIf",n)})).change()}})();$((function(){var e;if(!(0,o.isUndefined)(document.evaluate)){e=$([].concat((0,h.XPath)("//form//*[@*[starts-with(name(), 'ba-show-')]]"),(0,h.XPath)("//form//*[@*[starts-with(name(), 'ba-hide-')]]"),(0,h.XPath)("//form//*[@*[starts-with(name(), 'ba-add-class-')]]"),(0,h.XPath)("//form//*[@*[starts-with(name(), 'ba-remove-class-')]]"))).hide()}else{e=$("form *")}e.each((function(){var e=$(this);$.each((0,h.toArray)(this.attributes),(function(){var t=this,a=t.name.match(/^ba\W(show|hide|add-class|remove-class)\W?(.+)*?\W(if|in|re|gt|lt)\W(.+)$/);if(a){e.toggleIf({action:a[1],class:a[2],method:a[3],name:a[4],value:t.value})}}))}))}))},94122:(e,t,a)=>{"use strict";a.d(t,{BY:()=>P,Bu:()=>b.Bu,CN:()=>I,ED:()=>q,Em:()=>O,Gc:()=>N,Gp:()=>b.Gp,IG:()=>L,JF:()=>b.JF,LH:()=>X,NC:()=>K,Q6:()=>W,Yb:()=>Z,Z$:()=>U,eJ:()=>D,iJ:()=>M,q1:()=>F,t4:()=>A,v5:()=>z,wg:()=>H});var s=a(17842);var n=a.n(s);var i=a(90046);var o=a.n(i);var r=a(2011);var l=a(68283);var c=a(16415);var d=a(73641);var u=a.n(d);var h=a(85656);var p=a.n(h);var m=a(41201);var f=a(38592);var g=a(17301);var v=a(21198);var y=a.n(v);var b=a(78853);var $=a(26570);var moment=a(82543);const w=$.__("Unable to preview the requested file. If the issue persists, please contact support.");const S=(0,c.Uo)({serialize:{immutable:o()}});const C=S((0,r.md)(l.Z));const x=(e,t)=>{const a=fromJS(e);if(a!==null&&a.size>0){if(typeof t==="function"){return t(a)}return a}return null};const T=(e,t)=>{if(e!==null){return createStore(t,e,C)}return createStore(t,C)};const E=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/javascript";let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const n=document.createElement("script");t=t||document.getElementsByTagName("body");if(e){n.src=e}n.type=a;n.async=false;each(s,((e,t)=>{n.dataset[t]=e}));t.appendChild(n)};const k=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:CANDIDATE_LIST_FILTERS;e=atob(decodeURIComponent(e));const a=queryStringToObject(e);return{...t,...a}};const Z=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:g.eo;e={...t,...e};const a=(0,h.toQueryString)(e);return encodeURIComponent(btoa(a))};const N=e=>n().post("/applicant_tracking/index.php/sendEmails",e).then((e=>{const{data:t}=e;if(t?.success){window.setMessage(t.message,"success")}else{window.setMessage(t.error,"error")}return t})).catch((e=>{if(e.response.status===413){window.setMessage($.__("Whoops! Looks like that image is too large to add to this email. Try a smaller one!"),"error")}else{window.setMessage(g.PC,"error")}}));const I=e=>{let t=null;if(e){const a=new window.DOMParser;const s=a.parseFromString(e,"text/html");const n=s.querySelector("#placeholders");if(n!==null){try{t=JSON.parse(n.textContent)}catch(e){console.warn(`Missing placeholder data from Template. ${e}`);return false}}return t}};const A=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let s=`/applicant_tracking/index.php/emailTemplate?templateId=${e}`;if(t.length===1){s=`${s}&positionApplicantId=${t[0]}`}if(a){s=`${s}&positionId=${a}`}return n().get(s).then((e=>{if(!(0,d.isEmpty)(e.data)){return e.data}window.setMessage(g.ws,"error")})).catch((e=>{window.setMessage(g.PC,"error")}))};const F=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let t=arguments.length>1?arguments[1]:undefined;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;const i="/applicant_tracking/index.php/sendEmail";const o="/applicant_tracking/index.php/sendBulkEmail";if(e.length===1){const o={id:e[0],pid:s,templateId:t,isReply:a};return n().get(i,o).then((e=>{if(!(0,d.isEmpty)(e.data)){return e.data}window.setMessage(g.ws,"error")})).catch((e=>{window.setMessage(g.PC,"error")}))}const r={ids:e,templateId:t};return n().post(o,r).then((e=>{if(!(0,d.isEmpty)(e.data)){return e.data}window.setMessage(g.ws,"error")})).catch((e=>{window.setMessage(g.PC,"error")}))};const M=e=>n().get(`/hiring/jobs/${e}/pendingOffers`).then((e=>e.data)).catch((e=>{console.warn("Unable to retrieve pending offers")}));const D=e=>n().get(`/hiring/api/job-openings/${e}/scheduled-emails`).then((e=>e.data.result)).catch((e=>{console.warn("Unable to retrieve scheduled emails")}));const P=e=>{const{locale:t,timezone:a}=e;const s=t?.replace("_","-");const n=Intl.DateTimeFormat(s,{timeZone:a,timeZoneName:"short"})?.formatToParts();if(!(0,d.isEmpty)(n)){return n.find((e=>e.type==="timeZoneName"))?.value||moment.tz(a).format("z")}return moment.tz(a).format("z")};const O=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!(0,d.isEmpty)(e?.user)&&!!e?.user?.timezone){return e.user}if(!(0,d.isEmpty)(e?.company)&&!!e?.company?.timezone){return e.company}try{const e=Intl.DateTimeFormat().resolvedOptions();if(!(0,d.isEmpty)(e)){return{locale:e.locale,timezone:e.timeZone}}return false}catch{return{locale:moment.locale(),timezone:moment.tz.guess()}}};const L=e=>n().post(`/hiring/candidates/bulk`,e).then((e=>{if(!e.data.allIds.length){window.setMessage(g.ws,"error")}return e.data})).catch((e=>{window.setMessage(g.PC,"error")}));const R=()=>Ajax.get(`/hiring/jobs/sources`).then((e=>{const{data:t}=e;if(t.response==="SUCCESS"){return t}window.setMessage(t.error||RESPONSE_ERROR,"error")})).catch((e=>{window.setMessage(GENERAL_ERROR,"error")}));const B=e=>{let{status:t}=e;if(t.code===HIRED_STATUS){return HIRED_STATUS}return""};const j=e=>{const t=["NEW","ACTIVE","INACTIVE"];if(e){t.push(e)}return t};const H=(e,t,a)=>{const s=[];t.map((t=>{const n=q(e,t)[a];s.push(n)}));return s};const q=(e,t)=>{if(e.hasOwnProperty("byId")){return(0,d.get)(e,`byId[${t}]`)}return(0,d.get)(e,`byIds[${t}]`)};const W=e=>(0,d.toArray)((0,d.get)(e,"byIds"));const U=(e,t)=>{const a=(0,d.toArray)((0,d.get)(e,"byIds"));const s=a.filter((e=>{if(t.indexOf(e.code||e.name)>=0){return(0,d.get)(e,"id")}}));return s};const z=e=>{const t=[{items:[{text:$.__("New Blank Email"),value:"",key:"blankEmail"}],type:"group",key:`group-blankEmail`},{items:[],type:"group",key:`group-email`,text:$.__("Email Templates")}];e.map((e=>{t[1].items.push({text:e.name,value:e.id,key:`template-${e.id}`})}));return t};const Y=function(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e||t){const n={anchor:"bottom",items:[],type:"group",key:`group-customOption`};if(e){n.items.push(G(a,s))}if(t){n.items.push(V(a,s))}return n}};const G=(e,t)=>{const{invalidStatusActionIds:a,status:{code:s,id:n}}=e;const i={text:$.__("Create Offer Letter"),value:"createOfferLetter",isDisabled:false,icon:t?"fab-pen-signing-19x16":"",key:`offerLetterAction`};if(s===OFFER_STATUSES.offerSent||s===OFFER_STATUSES.offerSigned||a.indexOf(n)>-1){return{...i,text:$.__("Offer Letter Sent"),isDisabled:true}}return i};const V=(e,t)=>{const{invalidStatusActionIds:a,isAlreadyInBamboo:s,status:{code:n,id:i}}=e;const o={text:$.__("Hire"),value:HIRED_STATUS,isDisabled:false,icon:t?"fab-check-starburst-18x18":"",key:`hireAction`};if(n===HIRED_STATUS||a.indexOf(i)>-1&&n===HIRED_STATUS){return{...o,isDisabled:true}}if(s){return{...o,text:IS_ALREADY_IN_BAMBOO,isDisabled:true}}return o};const K=e=>{const{id:t,name:a,fileDataId:s}=e;const n=(0,f.getExtFromFileName)(a);const i=(0,m.m1)(n.toLowerCase())?"img":"";try{window.previewFile(s,t,a,false,null,false,i)}catch(t){window.setMessage(w,"error");window.Rollbar.error("previewFile erred when called.",{...e})}};const X=(e,t)=>n().get(`/offer_letter/full_templates_for_position_applicant/${e}/${t}`).then((e=>{if(e?.data?.data){const a=e.data.data.templates?.records?.find((e=>e?.id===t));return a?.placeholderSections?.data?.sections?.records||[]}else{return[]}})).catch((e=>{console.warn(`Unable to retrieve full templates for position applicant, error: ${e}`)}))},8121:(e,t,a)=>{"use strict";a.d(t,{E:()=>d});var s=a(89835);var n=a(92959);var i=a.n(n);var o=a(23321);var r=a.n(o);var l=a(59155);var c=a.n(l);var $=a(26570);function d(e){var t;let{showForgotPassword:a=true,inputId:n="password"}=e;const[r,c]=(0,o.useState)("password");const[d,u]=(0,o.useState)($.__("Show Password"));const h=()=>{c(r==="password"?"text":"password");u(d===$.__("Show Password")?$.__("Hide Password"):$.__("Show Password"))};const p=(0,l.makeStyles)((()=>({marginContainer:{marginBottom:"26px"}})));const m=p();return(0,s.Z)("div",{className:a?m.marginContainer:""},void 0,(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{autoComplete:"off",className:"fab-TextInput fab-TextInput--withNub fab-TextInput--width9 fab-TextInput--biggie",id:n,name:"password",placeholder:$.__("Password"),tabIndex:i()(t=window.location.pathname).call(t,"self_onboarding")?0:4,type:r}),(0,s.Z)("span",{className:"fab-TextInputNub"},void 0,(0,s.Z)("span",{className:"fab-TextInputNub__icon"},void 0,(0,s.Z)("ba-icon",{name:"fab-key-18x18"})))),(0,s.Z)(l.Flex,{alignItems:"center",justifyContent:a?"space-between":"flex-end"},void 0,a&&(0,s.Z)("button",{className:"fab-TextButton fab-TextButton--muted ffront forgot",type:"button"},void 0,$.__("Forgot Password?")),(0,s.Z)(l.TextButton,{color:"secondary",onClick:h,type:"button"},void 0,d)))}var u=null&&d},81539:(e,t,a)=>{"use strict";var s=a(28284)},61468:(e,t,a)=>{"use strict";a.d(t,{g:()=>y});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(53527);var c=a.n(l);var d=a(21198);var u=a.n(d);var h=a(37194);var p=a.n(h);var m=a(60658);var f=a(98216);var g=a(38857);var $=a(26570);const v=new d.BEM("InterstitialSetup");function y(e){const{userEmail:t,secret:a}=e;const n=window.location.hostname;const i=(0,g.EZ)(t,a,n);return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:v.elem("Instructions")},void 0,(0,s.Z)(h.Message,{text:$._("**Follow these instructions to set up your Authenticator App.**")})),(0,s.Z)("div",{className:v.elem("Setup")},void 0,(0,s.Z)("div",{className:v.elem("Steps")},void 0,(0,s.Z)("div",{className:v.elem("Step")},void 0,(0,s.Z)("div",{className:v.elem("StepNumber")},void 0,"1"),(0,s.Z)("div",{className:v.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Visit the App Store on your mobile device.")}))),(0,s.Z)("div",{className:v.elem("Step")},void 0,(0,s.Z)("div",{className:v.elem("StepNumber")},void 0,"2"),(0,s.Z)("div",{className:v.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Search and download an Authenticator app.")}),(0,s.Z)("br",{}),(0,s.Z)(h.Message,{link1:(0,h.ExternalLink)(g.dO),link2:(0,h.ExternalLink)(g.hS),text:$._("Google Authenticator for example [iOS](1) | [Android](2).")}))),(0,s.Z)("div",{className:v.elem("Step")},void 0,(0,s.Z)("div",{className:v.elem("StepNumber")},void 0,"3"),(0,s.Z)("div",{className:v.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Scan the QR Code to the right with the Google Authenticator app.")})))),(0,s.Z)("div",{className:v.elem("QR")},void 0,(0,s.Z)("div",{className:v.elem("QRCode")},void 0,(0,s.Z)(c(),{value:i})),(0,s.Z)("div",{className:v.elem("QRManual")},void 0,(0,s.Z)(o.TextButton,{clickAction:()=>{(0,m.K4)((0,s.Z)(f.MO,{code:a,onClose:m.Mr}))},size:"small",text:$.__("Enter Code Manually"),type:"button"})))))}},63039:(e,t,a)=>{"use strict";a.d(t,{U:()=>r});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(73565);function r(e){const{userId:t,onEndProcessing:a,onStartProcessing:n,printRequestCount:r}=e;return i().createElement(i().Fragment,null,(0,s.Z)("div",{className:"InterstitialBackupCodes__content"},void 0,(0,s.Z)("div",{className:"InterstitialBackupCodes__codes"},void 0,(0,s.Z)(o.N8,{onEndGeneratingNewCodes:()=>a(false),onStartGeneratingNewCodes:()=>n(true),printRequestCount:r,userId:t}))))}},66184:(e,t,a)=>{"use strict";a.d(t,{A:()=>M});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(89100);var r=a(59155);var l=a(37194);var c=a(73641);var d=a(21198);const u=6;const h=30;const p=10;const m=50;const f=p+m;const g="oneTimeCode";const v=2;const y=h-p;const b="otc-mask";const w=e=>Math.max(0,Math.floor(e/2)-1);const S=(e,t,a)=>{const s=a&&t>e?y:0;const n=t*f+s;return n};const C=new d.BEM("OneTimeCodeIndicator");function x(e){const{count:t,currentIndex:a,isInvalid:i,shouldChunk:o}=e;const r=(0,n.useRef)(w(t));const[l,d]=(0,n.useState)(0);(0,n.useEffect)((()=>{const e=S(r.current,a,o);d(e)}),[a]);const u=(0,n.useMemo)((()=>{const e=(0,c.times)(t,(e=>S(r.current,e,o)));const a=o&&t>1?p:-p;return{masks:e,viewBoxWidth:f*t+a}}),[]);return(0,s.Z)("div",{className:C.elem("wrapper",{error:i})},void 0,(0,s.Z)("svg",{viewBox:`0 0 ${u.viewBoxWidth} ${v}`},void 0,(0,s.Z)("mask",{id:b},void 0,(0,c.times)(t,(e=>(0,s.Z)("rect",{fill:"white",height:v,width:m,x:u.masks[e],y:"0"},`otc-marker-${e}`)))),(0,s.Z)("g",{mask:`url(#${b})`},void 0,(0,s.Z)("rect",{className:C.elem("markerBg"),height:v,width:"100%",x:"0",y:"0"}),(0,s.Z)("rect",{className:C.elem("caret"),height:v,width:m,x:l,y:"0"}))))}const T=new d.BEM("OneTimeCode");function E(e){const{digitLength:t=u,isInvalid:a,shouldChunk:o=true,shouldAutoFocus:r=true,onChange:l}=e;const d=(0,n.useRef)();const[h,p]=(0,n.useState)("");(0,n.useEffect)((()=>{if(r){document.addEventListener("keydown",f)}return()=>{document.removeEventListener("keydown",f)}}),[r]);(0,n.useEffect)((()=>{if(l){l(h)}}),[h]);const m=()=>{d.current.focus()};const f=e=>{const{key:t,keyCode:a}=e;let s=false;if(t){s=t.length===1&&t!==" "||t==="Backspace"||t==="Delete"}else if(a){s=a>=48&&a<=90||a===8||a===46}if(s){m()}};const v=e=>{const t=e.target.value;const a=/\d+/g;const s=t.match(a)?.join("")||"";p(s)};return(0,s.Z)("div",{className:T.elem("wrapper")},void 0,i().createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoFocus:"autofocus",className:T.elem("input"),inputMode:"numeric","aria-label":"one-time-code",maxLength:t,name:g,onChange:v,onKeyDown:e=>{const{key:t,keyCode:a}=e;if(t&&t!=="Enter"||a&&a!==13){return}if(l){l(h)}},ref:d,spellCheck:"false",type:"text",value:h}),(0,s.Z)("div",{className:T.elem("codeWrapper"),onClick:m},void 0,(0,s.Z)("div",{className:T.elem("code",{error:a})},void 0,(0,c.times)(t,(e=>{const a=`otc-digit-${e}`;const n=o&&e+1===Math.floor(t/2);return(0,s.Z)("div",{className:T.elem("digit",{chunkMargin:n})},a,(0,s.Z)("span",{},void 0,h.charAt(e)))}))),(0,s.Z)(x,{count:t,currentIndex:h.length,isInvalid:a,shouldChunk:o})))}var k=a(38857);var Z=a(54582);var N=a(49020);var I=a(38764);var A=a(45511);var F=a(83173);var $=a(26570);function M(e){const{enabledMfaChannels:t,isInvalid:a,type:n,onCodeChange:c,onRememberMeChange:d,onResendSms:u,rememberMeIsChecked:h,setCode:p,setType:m,lastFour:f="",hitLimit:g}=e;const v=n===N.N.BACKUP?k.cd:k.mN;const y=(0,o.canUseLocalStorage)();const b=(0,I.y)();const w={[N.N.APP]:{text:$.__("Use authenticator app"),value:N.N.APP},[N.N.SMS]:{text:$.__("Send a text message"),value:N.N.SMS},[N.N.BACKUP]:{text:$.__("Use a backup code"),value:N.N.BACKUP}};const S=()=>{const e=t.filter((e=>e!==n));return e.map((e=>w[e]))};const C=()=>{if(!g){return(0,s.Z)(A.X,{onResendSms:u})}return(0,s.Z)(r.TextButton,{onClick:u,startIcon:(0,s.Z)(F.Z,{}),type:"button"},void 0,$.__(`Resend Code`))};return i().createElement(i().Fragment,null,(0,s.Z)("div",{className:`${b.Auth} ${b.authContent}`},void 0,(0,s.Z)("div",{className:`${b.Instructions} ${b.mfaLoginInstructionText}`},void 0,(0,Z.G)(n,f),a&&(0,s.Z)("div",{className:b.InstructionsError},void 0,(0,s.Z)(l.Message,{text:$._("Oops, something wasnt right. Try again.")}))),(0,s.Z)("div",{className:b.Code},void 0,(0,s.Z)(E,{digitLength:v,isInvalid:a,onChange:e=>{c(e);p(e);if(e.length===v){const e=document.querySelector("[data-button-next]");if(e){e.focus()}}}},n)),y&&(0,s.Z)("div",{className:b.RememberMe},void 0,n!==N.N.BACKUP?(0,s.Z)(r.Checkbox,{checked:h,id:"rememberMe",label:$.__("Remember this computer for 45 days"),name:"rememberMe",onChange:e=>{let{checked:t}=e;d(t)},value:"rememberMe"}):null),(0,s.Z)(r.Flex,{className:b.mfaChannelContainer,justifyContent:"center"},void 0,n===N.N.SMS&&C(),t?.length>1&&(0,s.Z)(r.Flex,{flexDirection:"column",justifyContent:"center"},void 0,(0,s.Z)("div",{className:n===N.N.SMS?b.smsResendCode:""},void 0,(0,s.Z)(r.SelectField,{id:"mfaSelector",items:S(),onSelect:e=>{m(e);if(e===N.N.SMS){u()}},placeholder:$.__("Use a Different Method"),type:"text",value:[]}))))))}},90977:(e,t,a)=>{"use strict";a.d(t,{v:()=>n});const s=e=>{if(e.length<=6){return true}if(e.length>=16){return true}return false};const n=(e,t,a)=>{if(!e||!t){return true}return s(a)}},5625:(e,t,a)=>{"use strict";a.d(t,{IK:()=>m,IP:()=>p,U0:()=>l,cO:()=>h,fJ:()=>f,tI:()=>d,uG:()=>c});var s=a(17842);var n=a.n(s);var i=a(73565);var o=a(49020);const r=s.ajax.create("multi-factor-auth",{baseURL:i.CW});async function l(e){try{const{data:t}=await r.request({method:"get",url:"/:userId",urlParams:{userId:e}});let a=o.N.APP;const s=t?.mfaChannels?.reduce(((e,s)=>{const{mfaChannelInfo:n={}}=t;const{isEnabled:i,isPreferred:r}=n[s];const l={sms:o.N.SMS,authenticator:o.N.APP,backup_codes:o.N.BACKUP};if(r){a=l[s]}if(i){e.push(l[s])}return e}),[]);return{...t,preferredChannel:a,enabledChannels:s}}catch(e){const{response:t}=e;return{error:t,startDate:"",status:undefined,mfaChannels:[],mfaChannelInfo:{}}}}async function c(e){try{await r.request({method:"post",url:"/:userId/sms",urlParams:{userId:e}});return{success:true}}catch(e){const{response:t}=e;if(t.status===429){return{error:t,success:false}}throw new Error(e)}}async function d(e){try{await r.request({method:"post",url:"/:userId/sms",urlParams:{userId:e}});return{success:true}}catch(e){const{response:t}=e;return{error:t,success:false}}}async function u(e){try{const{data:t}=await r.request({method:"post",url:"/:userId",urlParams:{userId:e}});return{id:t.id,secret:t.generatedMfaSecret,success:true}}catch(e){const{response:t}=e;return{error:t,id:-1,secret:"",success:false}}}async function h(e,t){try{const{status:a}=await r.request({data:{backupCode:t},method:"post",url:"/:userId/backup_codes/authenticate",urlParams:{userId:e}});return{status:a}}catch(e){const{response:t}=e;const{data:{error:a},status:s}=t;return{status:s,statusText:a}}}async function p(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let s=arguments.length>3?arguments[3]:undefined;const n={mfaAuthenticationCode:t,rememberDevice:a};if(s){n.mfaChannel=s}try{const{data:{rememberToken:t},status:a}=await r.request({data:n,method:"post",url:"/:userId/authenticate",urlParams:{userId:e}});return{rememberToken:t,status:a}}catch(e){const{response:t}=e;const{data:{error:a},status:s}=t;return{status:s,statusText:a}}}async function m(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";try{const{data:i}=await r.request({method:"put",url:"/:userId/:mfaChannel",urlParams:{userId:e,mfaChannel:t},data:{generateSecret:a,phone:s,countryCode:n}});return i}catch(e){throw new Error(e)}}async function f(e,t){try{const{status:a}=await r.request({method:"delete",url:"/:userId/:mfaChannel",urlParams:{userId:e,mfaChannel:t}});return{status:a}}catch(e){const{response:t}=e;const{status:a}=t;return{status:a}}}},30171:(e,t,a)=>{"use strict";a.d(t,{$I:()=>c,$u:()=>p,VG:()=>u,p6:()=>d});var s=a(19969);var n=a.n(s);var i=a(73641);var o=a.n(i);var r=a(82543);var l=a.n(r);function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}e=u(e,t);if((0,i.startsWith)(e,"-")){e=`(${e.replace("-","")})`}return e}const d=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"MM/DD/YYYY";if(l().isMoment(e)){return e.format(t)}return l()(e).format(t)};function u(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}const{currencyCode:a,decimalPlaces:s=2}=t;if(!h(e)){e=p(e,t)}return e.toDecimalPlaces(s).toNumber().toLocaleString("en-US",{currency:a,maximumFractionDigits:s,minimumFractionDigits:s,style:a?"currency":"decimal"})}function h(e){return e instanceof n()}function p(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!(0,i.isPlainObject)(t)){throw new Error("options argument must an object")}const{allowBoolean:a,nanDefault:s,nullDefault:o,undefinedDefault:r}=t;let l;if(!h(e)&&!(0,i.isString)(e)&&!(0,i.isFinite)(e)){if((0,i.isBoolean)(e)&&a){l=Number(e)}else if((0,i.isBoolean)(e)&&!a){throw new Error(`'allowBoolean' option must be explicitly truthy to make a Decimal from a boolean`)}else if(e===undefined&&!(0,i.isNil)(r)){l=r}else if(e===null&&!(0,i.isNil)(o)){l=o}else if((0,i.isNaN)(e)&&!(0,i.isNil)(s)){l=s}else{throw new Error("invalid amount")}}else{l=e}if((0,i.isString)(l)){l=l.replace(/[,$]/g,"");l=l.replace(/^\(([\d.]+)\)$/,"-$1")}if(h(l)){return l}try{return new(n())(l)}catch(e){throw new Error("amount cannot be made into a decimal")}}},41135:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(16400);var n=a(77457);var i=a(73641);var o=a.n(i);var r=a(14063);var l,c,d,u;const h=(0,i.last)(document.querySelectorAll(".js-stickyTableAnchor"));let p=[];let m;let f;if(h){m=document.querySelectorAll("table#reportTable");f=document.querySelector("#inside-content.page").offsetWidth}let g=(l=(0,n.ZP)(["/reports/*","/greenhouse/reports/calls.php","/greenhouse/perms.php"]),c=(0,n.Um)(),l(d=(u=class e{static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}static get className(){return"LegacyReportStickyTable"}_onReadyHandler(t,a){if(!h){return}e.makeTablesSticky();document.addEventListener("navChanged",(e=>{const{isSticky:t}=e.detail;const a=document.getElementById("inside-content");const s=document.querySelectorAll(".fixedToHeader");let n=0;if(!a||!s||!s.length){return}n=(0,i.reduce)(s,((e,t)=>e+t.clientHeight),n);a.style.marginTop=(t?n:0)+"px"}));document.addEventListener("scroll",a.adjustHeader);document.addEventListener("resize",a.adjustHeader)}adjustHeader(){if(document.body.classList.contains("fixedPageHeader")){document.body.style.cssText="position: initial; left: 0px";for(let e=0;e<m.length;e++){m[e].style.cssText="position: initial; left: 0px"}}else{for(let e=0;e<m.length;e++){if(m[e].scrollWidth>f){document.body.style.cssText=`position: relative; left: ${window.pageXOffset}px`;m[e].style.cssText=`position: relative; left: -${window.pageXOffset}px`}}}}static makeTablesSticky(){const e=[].slice.call(document.querySelectorAll(".ts-list"));if(!h){return}p.forEach((e=>{e.destroy()}));p=e.map((e=>new r.Z(e,{anchor:h})))}},(0,s.Z)(u.prototype,"_onReadyHandler",[c],Object.getOwnPropertyDescriptor(u.prototype,"_onReadyHandler"),u.prototype),u))||d)},35438:(e,t,a)=>{"use strict";a.d(t,{u:()=>m});var s=a(89835);var n=a(92959);var i=a.n(n);var o=a(23321);var r=a.n(o);var l=a(59155);var c=a.n(l);var d=a(26136);var u=a(50773);var h=a(24874);var p=a(273);var moment=a(82543);var $=a(26570);function m(e){const{getShareList:t,data:{formatData:a,rangeSelect:n,recurrenceDetails:c,shouldApplyFilters:m},employeeFiltersList:f,recurrenceSchedule:g,updateRecurrenceSchedule:v}=e;const y=moment().locale("en").format("dddd");const[b,w]=(0,o.useState)();const[S,C]=(0,o.useState)();const[x,T]=(0,o.useState)();const[E,k]=(0,o.useState)([y]);const[Z,N]=(0,o.useState)(c.selectData.items);const[I,A]=(0,o.useState)([c.selectData.items[0].value]);const F=t=>(0,p.g)(e.widgetId,t||b||g.calendar||a.start).then((e=>e.data.data.recurrenceDetails.selectData.items));const M=e=>{if(e>1){n.selectData.items.forEach((e=>{if(e.text[e.text.length-1]!=="s"){e.text+="s"}}))}else{n.selectData.items.forEach((e=>{if(e.text[e.text.length-1]==="s"){e.text=e.text.substr(0,e.text.length-1)}}))}};(0,o.useEffect)((()=>{if(!b&&!g.calendar){w(a.start);v("calendar",a.start)}if(!b&&g.calendar){var e;w(g.calendar);T(g.timePeriod);if(g.daysOfWeek?.length){k(g.daysOfWeek)}if(g.recurrenceSelection?.length){A(g.recurrenceSelection)}if(i()(e=g.timePeriod).call(e,"month")){F().then((e=>{N(e)}))}}if(!S&&!g.interval){C(1);v("interval",1)}if(!S&&g.interval){C(g.interval);M(g.interval)}if(!x&&!g.timePeriod){T(["week"]);v("timePeriod",["week"])}if(!x&&g.timePeriod){T(g.timePeriod);v("timePeriod",g.timePeriod)}}),[]);(0,o.useEffect)((()=>{v("daysOfWeek",E)}),[E,v]);(0,o.useEffect)((()=>{v("recurrenceSelection",I)}),[I,v]);const D=e=>{w(e);v("calendar",e);F(e).then((e=>{N(e);A([e[0].value])}))};const P=e=>{let{value:t}=e.target;if(t<=0){t=1}M(t);C(t);v("interval",t)};const O=e=>{T(e);v("timePeriod",e);if(i()(e).call(e,"week")){k([y])}if(i()(e).call(e,"month")){F().then((e=>{N(e);A([e[0].value])}))}};const L=e=>{A(e);v("recurrenceSelection",e)};const R=e=>{v("emailWithFilters",e.target.checked)};return(0,s.Z)("div",{className:"ReportScheduler"},void 0,(0,s.Z)(h.O,{getShareList:t}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:"ReportScheduler__label"},void 0,$.__("Starting on")),(0,s.Z)("div",{className:"ReportScheduler__inputGroup"},void 0,(0,s.Z)(d.Z,{onChange:D,required:true,settings:{start:b,min:a.minDate},type:"date"}),(0,s.Z)("p",{className:"ReportScheduler__repeatText"},void 0,$.__("repeating every")),(0,s.Z)("span",{className:"fab-FormField ReportScheduler__interval"},void 0,(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width1",defaultValue:S,min:"1",onChange:P,step:"1",type:"number"})),(0,s.Z)(l.Select,{isClearable:false,items:n.selectData.items,onChange:O,selectedValues:x}))),x&&i()(x).call(x,"week")&&(0,s.Z)(u._,{activeDays:E,setActiveDays:k}),x&&i()(x).call(x,"month")&&(0,s.Z)(l.Select,{isClearable:false,items:Z,onChange:L,selectedValues:I,width:8}),m&&f&&r().createElement(r().Fragment,null,(0,s.Z)("hr",{className:"ReportScheduler__border"}),(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:g.emailWithFilters,id:"emailWithCurrentFilters",onChange:R,type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"emailWithCurrentFilters"},void 0,$.__("Email report with current filters applied"))),(0,s.Z)("div",{className:"ReportScheduler__label ReportScheduler__appliedFilters"},void 0,f)))}},27134:(e,t,a)=>{"use strict";a.d(t,{V8:()=>s.V,a9:()=>i.a9,iw:()=>i.iw,sO:()=>n.sO,xM:()=>i.xM});var s=a(91211);var n=a(15497);var i=a(48221)},99589:(e,t,a)=>{"use strict";a.d(t,{$w:()=>d,OB:()=>u,_b:()=>o,dr:()=>l,fh:()=>i,h6:()=>n,ky:()=>c,zh:()=>r});var s=a(71141);const n=(0,s.isEnabled)("enpsSentimentTags");const i=(0,s.isEnabled)("enpsSentimentUI");const o=(0,s.isEnabled)("enpsSentimentScoreTrend");const r=(0,s.isEnabled)("enpsSentimentTop5");const l=(0,s.isEnabled)("enpsSentimentMostMentioned");const c=(0,s.isEnabled)("enpsSentimentAllTags");const d=(0,s.isEnabled)("enpsSentimentResponsesLessThanSix");const u=(0,s.isEnabled)("enpsOnMobileAnonymityModal");const h=(0,s.isEnabled)("enpsProReportToggle")},27855:(e,t,a)=>{"use strict";a.d(t,{J:()=>s.J});var s=a(62241)},56286:(e,t,a)=>{"use strict";a.d(t,{E9:()=>n.E,MT:()=>s.M,Yz:()=>i.E,cr:()=>o.c});var s=a(77135);var n=a(45727);var i=a(47091);var o=a(20745)},17520:(e,t,a)=>{"use strict";a.d(t,{j:()=>s.j});var s=a(42735)},8936:(e,t,a)=>{"use strict";a.d(t,{N:()=>o});var s=a(23321);var n=a.n(s);var i=a(56286);const o=()=>{const[e,t]=(0,s.useState)([]);const[a,n]=(0,s.useState)(true);(0,s.useEffect)((()=>{(0,i.E9)().then((e=>{if(e&&e.data){t(e.data.enabledFeatureKeys)}else{console.error(e)}})).finally((()=>n(false)))}),[]);const o=t=>(0,i.cr)(t,e);return{areFeatureTogglesLoading:a,enabledFeatures:e,isEnabled:o}}},98945:(e,t,a)=>{"use strict";a.d(t,{HD:()=>s.HD,Hj:()=>s.Hj,Iw:()=>i.I,K3:()=>n.K,_0:()=>s._0,eA:()=>s.eA,pR:()=>s.pR});var s=a(17576);var n=a(89839);var i=a(11751)},50860:(e,t,a)=>{"use strict";a.d(t,{CC:()=>r.C,DE:()=>c.D,Fy:()=>u.Fy,L0:()=>n.L0,L1:()=>u.L1,Pj:()=>d.P,Rw:()=>u.Rw,Uj:()=>u.Uj,_M:()=>n._M,_l:()=>n._l,aW:()=>s.a,e8:()=>i.e,ju:()=>l.j,pC:()=>u.pC,qS:()=>u.qS,sG:()=>o.s});var s=a(28703);var n=a(96295);var i=a(90821);var o=a(70706);var r=a(43034);var l=a(98924);var c=a(79874);var d=a(8902);var u=a(25104)},81696:(e,t,a)=>{"use strict";a.d(t,{o:()=>d});var s=a(88604);var n=a(89835);var i=a(23321);var o=a.n(i);var r=a(59155);var l=a.n(r);var c=a(86746);var $=a(26570);function d(e){let{closeModal:t,isOpen:a,...l}=e;const[d,u]=(0,i.useState)(0);const[h,p]=(0,i.useState)(false);const m=()=>{u((e=>++e))};const f=()=>{u((e=>--e))};const g=(0,n.Z)(r.StandardModal.Header,{hasCloseButton:true});const v=[(0,n.Z)(c.K,{closeModal:t,renderHeader:g,setStep:m},"InfoStep"),o().createElement(c.p,(0,s.Z)({closeModal:t,key:"FormStep",renderHeader:g,setStep:f},l))];return(0,n.Z)(r.MultiStepModal,{currentStep:d,hasCloseButton:true,isOpen:a,isProcessing:h,onRequestClose:t,steps:v,title:$.__("Cancel Time Tracking Trial")})}},52863:(e,t,a)=>{"use strict";a.d(t,{p:()=>u});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(92289);var c=a(66327);var $=a(26570);const d=(0,o.makeStyles)((e=>{let{palette:t}=e;return{icon:{fill:t.primary.main},bodyText:{textAlign:"center",paddingTop:"8px"}}}));function u(e){let{closeModal:t,hasRedirect:a,isOpen:i,onSuccess:r}=e;const u=d();const[h,p]=(0,n.useState)(false);const m=()=>{p(true);(0,c.requestTimeTrackingSubscription)(a).then((()=>{if(typeof r==="function"){r()}})).catch((()=>{p(false)}))};return(0,s.Z)(o.StandardModal,{isOpen:i,onRequestClose:t},void 0,(0,s.Z)(o.StandardModal.Body,{renderFooter:(0,s.Z)(o.StandardModal.Footer,{actions:[(0,s.Z)(o.Button,{"data-bi-id":"time-tracking-trial-request-billing-info-button",onClick:m,processing:h},"request-billing-info",$.__("Request Billing Info")),(0,s.Z)(o.TextButton,{onClick:t,processing:h},"cancel-button",$.__("Cancel"))]}),renderHeader:(0,s.Z)(o.StandardModal.Header,{title:$.__("Subscribe to Time Tracking")})},void 0,(0,s.Z)(o.StandardModal.Constraint,{spacingOverrides:{bottom:o.CardContentSpacing.MEDIUM,top:o.CardContentSpacing.MEDIUM}},void 0,(0,s.Z)(o.StandardModal.HeroHeadline,{icon:(0,s.Z)("span",{className:u.icon},void 0,(0,s.Z)(l.Z,{})),text:$.__(`We're happy to hear Time Tracking is working for you!`)}),(0,s.Z)("p",{className:u.bodyText},void 0,$.__("Someone will reach out shortly with additional billing information before adding Time Tracking to your subscription. In the meantime, Time Tracking will remain active for your team!")))))}},68226:(e,t,a)=>{"use strict";a.d(t,{b:()=>g});var s=a(89835);var n=a(23321);var i=a.n(n);var o=a(59155);var r=a.n(o);var l=a(63838);var c=a(55047);var d=a(77977);var u=a(54749);var h=a(26686);var p=a(9847);var m=a(6168);var f=a(80774);var $=a(26570);const g=e=>{let{historyHook:t,updateQuestionUrl:a,service:n,surveyId:i=0,isPreview:r=false}=e;const g=(0,c.y)();const{canContinue:v,closed:y,submitted:b,dispatchUpdate:w,totalQuestions:S,answer:C,questionNumber:x,nextButtonLabel:T,nextQuestionUrl:E,answers:k,question:Z,freeResponse:N,loaded:I,imageUrl:A,updatePending:F,serverError:M}=(0,f.Z)({service:n,surveyId:i,useHistoryHook:t,updateQuestionUrl:a});if(!I){return null}return(0,s.Z)("div",{className:g.surveyRoot},void 0,!y&&!b?(0,s.Z)(d.k,{isFullBleed:true,isPreview:r,surveyName:"employee-wellbeing"},void 0,(0,s.Z)(l._,{render:e=>{let{isSmallScreen:t}=e;return(0,s.Z)("form",{className:g.cardContentWrapper,onSubmit:e=>w({type:"SUBMIT_ANSWER",payload:e})},void 0,t?(0,s.Z)("div",{className:g.questionCount},void 0,$.__("Question %1$s of %2$s",x.toString(),S.toString())):(0,s.Z)("div",{className:g.backAndQuestionWrapper},void 0,x!==1&&(0,s.Z)(o.TextButton,{className:g.back,onClick:()=>w({type:"PREVIOUS_QUESTION"}),startIcon:(0,s.Z)(o.Icon,{name:"fab-arrow-left-8x7"}),type:"button"},void 0,$.__("Back")),(0,s.Z)("div",{className:g.questionCounter},void 0,$.__("Question %1$s of %2$s",x.toString(),S.toString()))),(0,s.Z)(p.b,{imageUrl:A,isSmallScreen:t}),(0,s.Z)("div",{className:g.question},void 0,(0,s.Z)("h3",{},void 0,Z)),(0,s.Z)("div",{className:g.answers},void 0,(0,s.Z)(h.K,{answers:k,disabled:F,handleAnswerChange:e=>w({type:"UPDATE_ANSWER",payload:e}),isSmallScreen:t,selectedAnswerValue:C})),(0,s.Z)(m.X,{disabled:F,freeResponse:N,isSmallScreen:t,onChange:e=>w({type:"UPDATE_RESPONSE",payload:e}),questionNumber:x}),(0,s.Z)("div",{className:`${g.submit} ${t&&g.smallSubmitButton}`},void 0,(0,s.Z)(o.Button,{disabled:!v,endIcon:E&&(0,s.Z)(o.Icon,{name:"fab-double-chevron-right-14x11"}),noSpacing:true,size:"biggie",type:"submit"},void 0,T)),t&&x!==1&&(0,s.Z)("div",{className:g.previousQuestion},void 0,(0,s.Z)(o.TextButton,{onClick:()=>w({type:"PREVIOUS_QUESTION"}),type:"button"},void 0,$.__("Previous Question"))))}})):(0,s.Z)(d.k,{surveyName:"employee-wellbeing"},void 0,!y&&b&&(0,s.Z)(u._,{headerMessage:$.__("Thanks so much for your feedback!"),iconName:"fab-check-circle-48x48",id:"submitted-status",messages:[$.__("Youre all set, feel free to close this window and move on with your life.")]}),y&&(0,s.Z)(u._,{headerMessage:$.__("Survey Period is Now Closed"),iconName:"fab-triangle-exclamation-54x54",id:"closed-status",messages:[$.__("Your feedback is very important."),$.__("Please be sure to look for the next opportunity to answer the survey.")]})),(0,s.Z)(o.SlidedownPortal,{action:{text:$.__("Refresh Page"),url:window.location.href},message:$.__("Something went wrong."),show:M,type:"error"}))}},49145:(e,t,a)=>{"use strict";a.d(t,{H:()=>s.H});var s=a(85522)},77512:(e,t,a)=>{"use strict";a.d(t,{s:()=>f});var s=a(88604);var n=a(89835);var i=a(59155);var o=a(23321);var r=a.n(o);var l=a(98853);var c=a.n(l);var d=a(69853);function u(e){if(e[e.length-1]==="z"){return`${e.substr(0,e.length-1)}aa`}const t=`${e.substr(0,e.length-1)}${String.fromCharCode(e.charCodeAt(e.length-1)+1)}`;return t}var h=a(12382);var p=a(85642);let m="a";const f=function(e,t,a,o){let l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(l&&!t){console.error("'attachedElement' provided to 'render' was 'null' or 'undefined'");return}const{mode:f,themeName:g}=(0,p.Y)();c().render((0,n.Z)(d.RecoilRoot,{},void 0,r().createElement(i.ThemeProvider,(0,s.Z)({classNamePrefix:`jss-${m}`},o,{mode:f,themeName:g}),(0,n.Z)(i.DatePickerProvider,{formatType:(0,h.u)(),locale:(0,h.K)()},void 0,e))),t,a);m=u(m)};var g={render:f}}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var a=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__);a.loaded=true;return a.exports}__webpack_require__.m=__webpack_modules__;(()=>{__webpack_require__.amdO={}})();(()=>{var e=[];__webpack_require__.O=(t,a,s,n)=>{if(a){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,s,n];return}var o=Infinity;for(var i=0;i<e.length;i++){var a=e[i][0];var s=e[i][1];var n=e[i][2];var r=true;for(var l=0;l<a.length;l++){if((n&1===0||o>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](a[l])))){a.splice(l--,1)}else{r=false;if(n<o)o=n}}if(r){e.splice(i--,1);var c=s();if(c!==undefined)t=c}}return t}})();(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{__webpack_require__.d=(e,t)=>{for(var a in t){if(__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)){Object.defineProperty(e,a,{enumerable:true,get:t[a]})}}}})();(()=>{__webpack_require__.f={};__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,a)=>{__webpack_require__.f[a](e,t);return t}),[]))})();(()=>{__webpack_require__.u=e=>""+{1339:"automation-center",2415:"trax-db-scheduled-exports",3699:"general-ledger",4491:"tax-variance-report",4736:"vendor",6046:"trax-db-report-configs",6146:"payroll.routes",6996:"cron-schedule",7470:"esignatures-lazy",8509:"pdfjs",9256:"trax-db-scrubber"}[e]+"."+{1339:"73fd7706",2415:"68a3a7a0",3699:"5cc7adff",4491:"5fd6270c",4736:"b59434d9",6046:"20b84c04",6146:"aed18cdc",6996:"6a8dfc98",7470:"b31e30e9",8509:"103bd012",9256:"9a6f7804"}[e]+".dist.js"})();(()=>{__webpack_require__.miniCssF=e=>"../css/"+{267:"enps",608:"report-wizard",830:"prelogin",882:"custom-report",909:"enps-benchmark",918:"print_timesheet_view",925:"employee-turnover-report",1008:"project-settings",1058:"time-off-schedule-report",1085:"federal-withholding",1315:"careers",1388:"dev",1396:"EmployeeFilters",1601:"enps-report",1809:"account",1915:"home",1987:"point-in-time-report",2004:"applicant-funnel",2018:"jobs",2042:"additions-terminations",2167:"global-legacy",2172:"global",2193:"time-off-balances-report",2273:"multi-factor-auth",2324:"standard-report",2589:"inbox",2646:"direct-deposit",2730:"performance",2876:"status-mismatch-report",2988:"audit-trail-report",3053:"election-changes",3065:"directory-new",3070:"self_onboarding",3131:"org-chart",3246:"benefit-summary",3311:"standard-list-report",3377:"plan-year-election-summary",3422:"access_levels",3653:"self_onboarding_login",3703:"time-off-used-report",3911:"global-gh",3971:"logged-out",3989:"employee-performance-report",3992:"reports",4014:"peer-feedback-status-report",4085:"rightsignature",4091:"company-performance-report",4103:"settings-benefits-bulk-enroll",4535:"login",4910:"offer-letter-finalize",4941:"aca-monthly-totals-report",5042:"file_export",5372:"files",5383:"manage",5409:"aca-benefit-history-report",5486:"po",5545:"timesheet",5548:"calendar",5554:"candidate-sources",5571:"settings",5638:"ProcessBar",5649:"assessment-progress-report",5726:"enrollment-window-election-summary",5782:"EditOptions",5784:"applicant-demographics-report",5857:"error-pages",5899:"global-encore-legacy",5902:"greenhouse",6030:"payroll-change-report",6043:"employee_wellbeing",6096:"age-profile",6102:"employee-wellbeing-report",6146:"payroll.routes",6287:"pay-info-missing-data",6333:"gender-profile",6386:"secure-file-download",6471:"pto",6488:"eeo-1-report",6546:"headcount-report",6594:"employee-project-hours-report",6650:"greenhouse-company-payroll",6773:"BhrTabs",6815:"pto-new",6876:"billing",6930:"reseller",6964:"style_guide",6993:"payroll-info-checkup",7053:"inbox-calendar",7134:"settings-benefits-bulk-editing",7470:"esignatures-lazy",7549:"power_edit",7597:"gtky-questions",7616:"global-encore",7623:"login-gh",7624:"employees",7785:"payroll-update-summary",7819:"data-table",7969:"hiring",8055:"apps",8062:"change-history",8103:"global-jade",8182:"time_tracking",8304:"anytime",8473:"calendar-ical-modal",8631:"approved-hours-report",8730:"payroll-summary-report",8842:"app-trax",8907:"payroll",8985:"org-chart-export",9020:"state-withholding-unemployment",9199:"eeo-1-details-report",9208:"feeds",9256:"trax-db-scrubber",9355:"goals",9438:"settings-benefits-plan-wizard",9452:"project-hours-report",9529:"payroll-hours-report",9602:"add-edit-pay-schedule",9880:"timesheet-entries-report",9957:"EmployeeSelector",9966:"dashboard"}[e]+"."+{267:"238efdf1",608:"f4ede5e2",830:"e2ed7875",882:"72fc4068",909:"ad498176",918:"c3cfb1a2",925:"2de72e3f",1008:"1142b45d",1058:"e6e7186c",1085:"802edd09",1315:"dc173006",1388:"601aa2cf",1396:"d182e251",1601:"7c9efc63",1809:"679631c9",1915:"38afdc98",1987:"6d37aa5c",2004:"a904454c",2018:"c90532d3",2042:"54f7b6d1",2167:"f404d2b8",2172:"7f8b9c95",2193:"8eacd66b",2273:"eadfe4d9",2324:"cac88e5d",2589:"5e6f0bfe",2646:"2561a79e",2730:"b60cf308",2876:"aaec7382",2988:"34ee93dd",3053:"8ce04abd",3065:"6052c706",3070:"0ee1884e",3131:"66b8b168",3246:"5d9a62e7",3311:"e7352b70",3377:"00ae8117",3422:"af4c736f",3653:"832dd70e",3703:"37f1255b",3911:"e0098f79",3971:"3ac5352e",3989:"cff9ad0b",3992:"87d32026",4014:"22306afb",4085:"f84d4fe8",4091:"41d42958",4103:"b9199289",4535:"325277ff",4910:"30f11803",4941:"a4041cb9",5042:"195c69d5",5372:"cdee0bc9",5383:"a7687ac3",5409:"dedde9d6",5486:"105dd73e",5545:"59740a30",5548:"c77d3108",5554:"99a325fa",5571:"872bf50d",5638:"5dd2eff9",5649:"de6c7acf",5726:"42697af5",5782:"05bb7914",5784:"7c752032",5857:"7252197b",5899:"aa19fc8a",5902:"637f1df8",6030:"7240d418",6043:"1f3f9d41",6096:"6e9dec51",6102:"08e8b050",6146:"aed18cdc",6287:"910d8c03",6333:"4cc36226",6386:"0d32df77",6471:"9c181169",6488:"f01a3769",6546:"3ebc2766",6594:"d367e1cd",6650:"3b8315ea",6773:"8d1b8ed2",6815:"f3a468cd",6876:"d3c04649",6930:"464299b3",6964:"743219e5",6993:"da886df8",7053:"bfe88747",7134:"0ee0c07e",7470:"b31e30e9",7549:"9881edff",7597:"70fe33da",7616:"26b9f117",7623:"5e9c1e7c",7624:"7d7bfd4b",7785:"815f3015",7819:"fa79200d",7969:"69444ac3",8055:"31777ccd",8062:"e7462228",8103:"ae5803eb",8182:"1a579fed",8304:"68a64ba4",8473:"022509f7",8631:"fd08dd64",8730:"9089e474",8842:"dc3ce549",8907:"dcac606d",8985:"ae2fbe1c",9020:"81cf90fe",9199:"a58a8858",9208:"c480eb75",9256:"9a6f7804",9355:"2f367b36",9438:"ec456f4c",9452:"c9b30e73",9529:"62971f52",9602:"68992e25",9880:"87e2d050",9957:"dd3dbe65",9966:"eebe2fe5"}[e]+".dist.css"})();(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__.hmd=e=>{e=Object.create(e);if(!e.children)e.children=[];Object.defineProperty(e,"exports",{enumerable:true,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e}})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{var e={};__webpack_require__.l=(t,a,s,n)=>{if(e[t]){e[t].push(a);return}var i,o;if(s!==undefined){var r=document.getElementsByTagName("script");for(var l=0;l<r.length;l++){var c=r[l];if(c.getAttribute("src")==t){i=c;break}}}if(!i){o=true;i=document.createElement("script");i.charset="utf-8";i.timeout=120;if(__webpack_require__.nc){i.setAttribute("nonce",__webpack_require__.nc)}i.src=t}e[t]=[a];var d=(a,s)=>{i.onerror=i.onload=null;clearTimeout(u);var n=e[t];delete e[t];i.parentNode&&i.parentNode.removeChild(i);n&&n.forEach((e=>e(s)));if(a)return a(s)};var u=setTimeout(d.bind(null,undefined,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror);i.onload=d.bind(null,i.onload);o&&document.head.appendChild(i)}})();(()=>{__webpack_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();(()=>{__webpack_require__.p="/js/"})();(()=>{var e=(e,t,a,s)=>{var n=document.createElement("link");n.rel="stylesheet";n.type="text/css";var i=i=>{n.onerror=n.onload=null;if(i.type==="load"){a()}else{var o=i&&(i.type==="load"?"missing":i.type);var r=i&&i.target&&i.target.href||t;var l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED";l.type=o;l.request=r;n.parentNode.removeChild(n);s(l)}};n.onerror=n.onload=i;n.href=t;document.head.appendChild(n);return n};var t=(e,t)=>{var a=document.getElementsByTagName("link");for(var s=0;s<a.length;s++){var n=a[s];var i=n.getAttribute("data-href")||n.getAttribute("href");if(n.rel==="stylesheet"&&(i===e||i===t))return n}var o=document.getElementsByTagName("style");for(var s=0;s<o.length;s++){var n=o[s];var i=n.getAttribute("data-href");if(i===e||i===t)return n}};var a=a=>new Promise(((s,n)=>{var i=__webpack_require__.miniCssF(a);var o=__webpack_require__.p+i;if(t(i,o))return s();e(a,o,s,n)}));var s={8592:0};__webpack_require__.f.miniCss=(e,t)=>{var n={6146:1,7470:1,9256:1};if(s[e])t.push(s[e]);else if(s[e]!==0&&n[e]){t.push(s[e]=a(e).then((()=>{s[e]=0}),(t=>{delete s[e];throw t})))}}})();(()=>{var e={8592:0};__webpack_require__.f.j=(t,a)=>{var s=__webpack_require__.o(e,t)?e[t]:undefined;if(s!==0){if(s){a.push(s[2])}else{if(true){var n=new Promise(((a,n)=>s=e[t]=[a,n]));a.push(s[2]=n);var i=__webpack_require__.p+__webpack_require__.u(t);var o=new Error;var r=a=>{if(__webpack_require__.o(e,t)){s=e[t];if(s!==0)e[t]=undefined;if(s){var n=a&&(a.type==="load"?"missing":a.type);var i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+i+")";o.name="ChunkLoadError";o.type=n;o.request=i;s[1](o)}}};__webpack_require__.l(i,r,"chunk-"+t,t)}else e[t]=0}}};__webpack_require__.O.j=t=>e[t]===0;var t=(t,a)=>{var s=a[0];var n=a[1];var i=a[2];var o,r,l=0;if(s.some((t=>e[t]!==0))){for(o in n){if(__webpack_require__.o(n,o)){__webpack_require__.m[o]=n[o]}}if(i)var c=i(__webpack_require__)}if(t)t(a);for(;l<s.length;l++){r=s[l];if(__webpack_require__.o(e,r)&&e[r]){e[r][0]()}e[r]=0}return __webpack_require__.O(c)};var a=self["webpackChunk"]=self["webpackChunk"]||[];a.forEach(t.bind(null,0));a.push=t.bind(null,a.push.bind(a))})();(()=>{__webpack_require__.nc=undefined})()})();
//# sourceMappingURL=common.285bfc88.dist.js.map