"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3773],{sKzp:function(e,t,i){i.r(t),i.d(t,{default:);var s=i("Tim7"),n=i("jbFD"),a=i.n(n),r=i("Oz0t"),o=i("beVP"),c=i("2GZr"),d=i("QslU"),l=i("V67U"),_=i.n(l),u=i("AgMK"),m=i("FhAj"),S=i("bBVy"),g=i("3Fx5"),p=i("UBjJ"),A=i("XErn");function T(e){var t,i=e.ad,s=e.isHorizontal,n=(0,r.useContext)(S.Z),a=n.domain,o=n.i18n,c=a.get("config").get("COMMON").YAMS_IMAGE_RULES,l=i.thumbnails[0]&&i.thumbnails[0]+"?rule="+c.hw160,_=i.modifiedAt&&Intl.DateTimeFormat(o.culture,{dateStyle:"long"}).format(new Date(i.modifiedAt));return(0,d.jsx)(p.ZP,{isStatusCard:!0,isHorizontal:s,children:(0,d.jsxs)(p.ZP.Veil,{opacity:.7,children:[(0,d.jsx)(p.ZP.ImgThumb,{alt:i.title,src:l,images:i.images,aspectRatioMode:p.ZP.ImgThumb.aspectRatioModes.myAds,ad:i}),(0,d.jsx)(p.ZP.Detail,{children:(0,d.jsxs)(p.ZP.UpperGroup,{children:[(0,d.jsx)(p.ZP.Row,{children:(0,d.jsx)(p.ZP.Title,{title:i.title})}),(null==(t=i.price)?void 0:t.value)?(0,d.jsx)(p.ZP.Row,{contentWraps:!0,children:(0,d.jsx)(p.ZP.Price,{price:i.price})}):null,(0,d.jsx)(p.ZP.Row,{contentWraps:!0,children:(0,d.jsx)(p.ZP.Location,{city:i.city,province:i.province})}),_&&(0,d.jsx)(p.ZP.Row,{contentWraps:!0,children:(0,d.jsx)(A.ZP,{className:"ma-AdCardSoldAd-soldDate",size:A.ZP.sizeTypes.xs,color:A.ZP.colorTypes.gray,children:o.t("AD_CARD_SOLD_AD_DATE",{date:_})})})]})})]})})}T.displayName="AdCardSoldAd",T.propTypes={ad:_().object,isHorizontal:_().bool};var x=i("b6IY"),h=i("Yk0W"),j=i("uLBL"),E=i("nEiG"),f=i("5+Eg"),Z=i("Ab2B"),D="ma-ContentMySoldAdsV2",L=function(e){var t=e.user,i=(0,r.useContext)(S.Z),s=i.domain,n=i.i18n,a=(0,g.tv)(),l=(0,u.SS)("ff_web_ba_ads_paused").isActive,_=(0,x.I)(x.I.SIZES.SM),p=(0,u.SS)("ff_web_ba_my_ads_one_column_msite").isActive,A=!_&&p,L=A?D+"-mainAdList--horizontal":D+"-mainAdList",I=(0,h.Z)((0,o.Z)((function(){var e,i,n,a,r,o,d,l,_;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return e=s.get("config"),i=e.get("AD_MANAGEMENT").DELETE_REASONS.SOLD_ON_SITE,n=t.userId,[4,Promise.all([s.get("get_ad_list_by_status_my_ad_use_case").execute({status:i,userId:n}),s.get("get_count_my_ad_use_case").execute({userId:n})])];case 1:return a=c.sent(),r=a[0],o=r[0],d=r[1],l=a[1],_=l[1],o?[2,[o,null]]:[2,[null,{list:d,count:_||{}}]]}}))}))),N=I.data,v=void 0===N?{}:N,M=v.list,y=v.count,b=I.isSuccess,C=I.isLoading,O=s.get("config").get("BASE_IMAGES_URL_STATICS");return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(E.Z,{children:[(0,d.jsx)(E.Z.Header,{isLoadingAdList:C,totalAds:null==y?void 0:y.active}),(0,d.jsx)(E.Z.CardsContainer,{}),(0,d.jsx)(E.Z.SearchBar,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.search.value;a.push({pathname:n.url("/LINK_MY_ADS"),query:{search:t}})},onRemoveFilter:),b&&(0,d.jsx)(E.Z.NavigationTabs,{count:y,isActivePauseAds:l}),(0,d.jsx)(E.Z.Content,{children:(0,d.jsxs)(Z.Z,{isLoading:C,hideContentWhileLoading:!0,children:[!b&&(0,d.jsx)("div",{className:D+"-emptyState",children:(0,d.jsx)(f.Z,{icon:(0,d.jsx)("img",{className:D+"-bannerImg",src:O+"/images/myClassifieds/error-loading-page.a47485d4da.svg",alt:n.t("CONTENT_MY_SOLD_ADS_ERROR_STATE_IMAGE_ALT")}),title:n.t("CONTENT_MY_SOLD_ADS_ERROR_STATE_TITLE"),cta:(0,d.jsx)(m.ZP,{link:!0,isSubmit:!0,href:n.url("/LINK_MY_ADS/LINK_MY_SOLD_ADS"),design:"flat",leftIcon:(0,d.jsx)(j.Z,{}),children:n.t("GENERIC_BUTTON_TEXT_RETRY")})})}),b&&!M.ads.length&&(0,d.jsx)("div",{className:D+"-emptyState",children:(0,d.jsx)(f.Z,{icon:(0,d.jsx)("img",{className:D+"-bannerImg",src:O+"/images/myClassifieds/empty-ads.368d1f5d65.svg",alt:n.t("CONTENT_MY_SOLD_ADS_EMPTY_STATE_IMAGE_ALT")}),title:n.t("CONTENT_MY_SOLD_ADS_EMPTY_STATE_TITLE"),descriptions:[n.t("CONTENT_MY_SOLD_ADS_EMPTY_STATE_SUBTITLE",{breakLine:"</br>"})]})}),b&&M.ads.length>0&&(0,d.jsx)("div",{className:L,children:M.ads.map(()})]})})]})})};L.displayName="ContentMySoldAdsV2",L.propTypes={user:_().object.isRequired};var I=L,N=i("CjDN"),v=i("Bd1x"),M=i("9Y+p"),y=i("IBpw"),b=i("h8GR"),C=(0,N.Z)(I),O=function(e){var t=e.page,i=e.seoDefinition,s={data:{hit_information:e.trackingDefinition.hit_information},options:{protocols:{event_version:2}}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{isLargeWidth:!0,children:(0,d.jsxs)(M.Z,{children:[(0,d.jsx)(y.Z,{seoDefinition:i}),(0,d.jsx)(b.Z,{page:t,data:s.data,options:s.options}),(0,d.jsx)(v.Z.Header,{page:t}),(0,d.jsx)(v.Z.Body,{children:(0,d.jsx)(v.Z.MainContent,{children:(0,d.jsx)(C,{})})})]})}),(0,d.jsx)(v.Z.FooterLite,{})]})};O.displayName="MySoldAdsV2",O.getInitialProps=function(){var e=(0,s.Z)(a().mark((function e(t){var i,s,n,r,o,c,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.context.domain,s=i.get("config"),n=s.get("PAGES"),r=s.get("TRACKING").VIEW_TRACKING_DEFINITION_BY_PAGE[n.MY_SOLD_ADS],e.next=6,i.get("get_definition_by_page_seo_use_case").execute({page:n.MY_SOLD_ADS});case 6:return o=e.sent,c=o[0],d=o[1],c&&console.error(c),e.abrupt("return",{page:n.MY_SOLD_ADS,seoDefinition:d||{title:"HOME_SEO_TITLE",meta:[],link:[]},trackingDefinition:r});case 11:case"end":return e.stop()}}),e)})));return ();var P=O},VKvm:]);