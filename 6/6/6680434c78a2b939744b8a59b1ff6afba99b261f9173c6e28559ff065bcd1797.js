(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5450],{61442:50351:function(e,t,r){"use strict";r.r(t);var i=r(1717),o=r(48978),a=r(27378),n=r(60042),s=r.n(n),l=(r(95552),r(61442)),d=r(4550),c=r(44387),u=r(28847),y=r(1319),v=r(47086),p=r(15140),S=r(27839),f=r(24246);t.default=function(e){var t=e.categoryId,r=e.siteSection,n=e.rounded,V=void 0===n||n,h=(0,a.useContext)(y.Z),g=h.theme,Z=h.country,T=(0,a.useRef)(null),m=(0,a.useState)(!0),w=m[0],A=m[1],k=(0,a.useState)(!1),I=k[0],x=k[1],b=(0,a.useRef)(null),C=[];t&&C.push.apply(C,(0,o.Z)(t)),(0,a.useEffect)((function(){l.Z.sharedInstance.initialize(d.Z.integrations.stories.apiKey,{}).then((function(){l.Z.User.setUserAttribute("location",Z.toLowerCase());var e=new l.Z.Theme;e.colors.black.primary="#2b2c2d",e.storyTiles.circularTile.unreadIndicatorColor="#03A9F4",e.player.showStoryIcon=!0,e.lists.row.scrollIndicatorFade=!1,e.lists.row.startInset=8,e.lists.row.endInset=8,e.storyTiles.title.textSize=10,e.storyTiles.title.lineHeight=12,e.storyTiles.title.fontWeight=300;var t=new l.Z.Theme(e);t.colors.white.primary="#ffffff",t.storyTiles.circularTile.unreadIndicatorColor="#ffffff",l.Z.sharedInstance.theme=new l.Z.UiTheme({light:e,dark:t}),b.current=new l.Z.RowView("top-stories",C),b.current.uiStyle=g===p.Wi.DARK?l.Z.UiStyle.dark:l.Z.UiStyle.light,b.current.delegate={onStoriesDataLoadComplete:function(e,t,r){r>0&&T.current&&(T.current.style.display="block",A(!1)),t&&x(!0),A(!1)},onUserActivityOccurred:function(e,t){(0,v.Yg)().trackPage((0,S.NQ)(h,function(e){return{attributes:{pageName:"shorts",siteSection:e,subSection:"shorts",contentType:"shorts"}}}(null!==r&&void 0!==r?r:"shorts")));var o={eVar141:null===t||void 0===t?void 0:t.storyTitle,eVar143:"Header",eVar144:"Stories",eVar145:null===t||void 0===t?void 0:t.storyIndex,eVar148:null===t||void 0===t?void 0:t.pageType,eVar149:null===t||void 0===t?void 0:t.pageId};switch(e){case l.Z.ActivityType.openedStory:o.eVar140="Story Start",o.eVar170="Story Start",o.eVar142=null===t||void 0===t?void 0:t.openedReason,o.eVar146=null===t||void 0===t?void 0:t.storyReadStatus,o.eVar147=null===t||void 0===t?void 0:t.pageIndex;break;case l.Z.ActivityType.openedPage:o.eVar140="Story Slide Start",o.eVar171="Story Slide Start",o.eVar147=null===t||void 0===t?void 0:t.pageIndex;break;case l.Z.ActivityType.dismissedStory:o.eVar140="Story Dismissed",o.eVar175="Story Dismissed",o.eVar146=null===t||void 0===t?void 0:t.storyReadStatus,o.eVar147=null===t||void 0===t?void 0:t.pageIndex,o.eVar152=null===t||void 0===t?void 0:t.dismissedReason,o.eVar177=null===t||void 0===t?void 0:t.durationViewed,o.eVar176=null===t||void 0===t?void 0:t.pagesViewedCount;break;case l.Z.ActivityType.completedStory:o.eVar140="Story Complete",o.eVar174="Story Complete";break;case l.Z.ActivityType.swipedUp:o.eVar140="Story Swipe Up",o.eVar173="Story Swipe Up",o.eVar147=null===t||void 0===t?void 0:t.pageIndex,o.eVar150=null===t||void 0===t?void 0:t.pageActionText,o.eVar151=null===t||void 0===t?void 0:t.pageActionUrl;break;case l.Z.ActivityType.votedPoll:o.eVar140="Voted Poll",o.eVar178="Voted Poll",o.eVar147=null===t||void 0===t?void 0:t.pageIndex;break;case l.Z.ActivityType.openedAd:o.eVar140="Opened Ad",o.eVar172="Opened Ad"}var a={rawAttributes:o};(0,v.Yg)().trackEvent("Story teller Interacted",void 0,(0,i.Z)({},u.S.ADOBE_ANALYTICS,a))},getAdConfig:function(){return{slot:"".concat(d.Z.integrations.gpt.networkId,"/espn.cricinfo.com/storyteller")}}}})).catch(()}),[]),(0,a.useEffect)((function(){b.current&&(b.current.uiStyle=g===p.Wi.DARK?l.Z.UiStyle.dark:l.Z.UiStyle.light)}),[g]);var U=!t&&w;return(0,f.jsxs)("div",{className:s()(I||U?"ds-flex ds-items-center ds-justify-center ds-min-h-[120px]":""),children:[U?(0,f.jsx)("div",{className:"ds-py-4",children:(0,f.jsx)(c.ZP,{})}):null,(0,f.jsx)("div",{ref:T,style:{display:"none"},children:(0,f.jsx)("div",{className:s()("storyteller",{"ds-h-30":V,"ds-h-52":!V}),id:"top-stories","data-cell-type":V?"round":""})})]})}},95552:]);