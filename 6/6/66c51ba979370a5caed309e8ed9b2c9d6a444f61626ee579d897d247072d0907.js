(self.webpackChunkweb=self.webpackChunkweb||[]).push([[1748],{82105:(e,o,n)=>{"use strict";n.d(o,{Z:()=>i});var t=n(94829);const i=new Promise((e=>{const o=()=>{var n,t;e(!0),n="scroll",t=o,document.removeEventListener?document.removeEventListener(n,t):document.removeEvent&&document.removeEvent(n,t)};(function(){if("undefined"!=typeof document)return null;try{return""!==document.referrer&&document.referrer.indexOf("facebook.com")>-1||window.location.href&&window.location.href.indexOf("utm_source=facebook")>-1}catch(e){console.log(e)}return null})()||setTimeout((async function(){window.adBlocked=!1;let n="";try{await fetch(`${(0,t.zu)()}/google_ads/adset/ve-1.cms`).then((()=>{})).catch(()}catch(e){window.adBlocked=!0}if(window.adBlocked&&-1===document.addEventListener.toString().indexOf("[native code]"))o();else{var i,a;"undefined"==typeof window||window.adBlockerEventSentOnce||(window.adBlockerEventSentOnce=!0,n=window.adBlocked?"Yes":"No",(window.dataLayer||[]).push({event:"adBlocker",is_ad_blocked:n})),window.adBlocked&&!window.canRun?(i="scroll",a=o,document.addEventListener?document.addEventListener(i,a,!1):document.attachEvent&&document.attachEvent(i,a)):e(!1)}}),2e3)}))},57874:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:);var t,i,a,l=n(67294),d=n(37974),r=n(29208),s=n.n(r),c=n(6048),u=n(84149),p=n(99408),g=n(82105),w=n(34600),v=n.n(w);onst b=e=>{const o="ad_blocker";let n;const[a,d]=(0,l.useState)(!1),r=!(!e.userData||!e.userData.isLoggedIn),s=()=>{g.Z.then((e=>{e&&(document.getElementsByTagName("body")[0].classList.add("noScroll"),(0,p.Z)("ga4",{event:"user_shown",type:"new_adblocker_popup",label:r?"logged_in":"logged_out"})),d(e),window&&n&&window.TimesApps.PopUpList.ad_blocker.callbacks.onShowCallback(e)}))};return(0,l.useEffect)((()=>{try{var e,t;const i=null===(e=window)||void 0===e||null===(t=e.toi_client_side_settings)||void 0===t?void 0:t.popupTimeout;setTimeout((()=>{window.TimesApps.PopUpV2Manager&&window.TimesApps.PopUpV2Manager.isPopuMangerRunning()&&(n=window.TimesApps.PopUpV2Manager.register(o,s))}),i||1e3)}catch(e){console.log("Error in registering adblocker popup")}}),[]),!a||e.openLogin?null:m("div",{className:v().popup},void 0,m("div",{className:v().background}),m("div",{className:v().main},void 0,m("i",{className:v().toi_logo}),t||(t=m("h3",{},void 0,"Uh-Oh! Looks like you're using an ad-blocker.")),i||(i=m("p",{},void 0,"Advertisements help support our journalism. To keep reading here's what you can do.")),m("div",{className:`${v().links_wrap} ${r?v().loggedin:""}`},void 0,m("div",{className:v().adbtnwrapper},void 0,m(c.Z,{to:"/blocked.cms",target:"_blank",onClick:()=>{(0,p.Z)("ga4",{event:"user_click",type:"new_adblocker_popup",label:"allow_ads"})}},void 0,"Allow Ads"),m(c.Z,{className:v().subscribe_btn,to:"/toi-plus/plans",target:"_blank",onClick:()=>{(0,p.Z)("ga4",{event:"user_click",type:"new_adblocker_popup",label:"subscribe_toi_plus"})}},void 0,"Subscribe to TOI+")),m("div",{className:v().sign_info},void 0,m(c.Z,{className:`${v().toiplusbtn}`,to:"/toi-plus/plans",target:"_blank",onClick:,void 0,"Know More about TOI+"),!r&&m("div",{className:`${v().signinprompt}`},void 0,"Already a Subscriber?"," ",m("button",{onClick:()=>{e.toggleLoginBox&&"function"==typeof e.toggleLoginBox&&e.toggleLoginBox(!0),(0,p.Z)("ga4",{event:"user_click",type:"new_adblocker_popup",label:"sign_in"})}},void 0,"Sign In"))))))};b.defaultProps={openLogin:!1,userData:void 0,toggleLoginBox:;const k=(0,d.$j)((e=>({openLogin:e.login.openLogin,userData:s()(e,"login.userData",{})})),(e=>({toggleLoginBox:)))(b)},34600:]);
//# sourceMappingURL=AdBlockerDetector_es6_module.f6820d96.chunk.js.map