"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3797],{48516:(e,t,a)=>{a.d(t,{Z:()=>p});var o=a(76955),r=a(62869),n=a.n(r),c=a(5154),s=a.n(c),i=a(51650),l=class p extends o.PureComponent{static get defaultProps(){return{children:null,className:"",targetUrl:void 0,onClick:s(),onMouseEnter:s()}}constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}isSpaTargetLink(e){var{pathname:t,hostname:a}=e,o=a===new URL(window.process.env.HTTP_PATH_AMEBLO).hostname,r="/"===t,n="/accessibility"===t,[c,s]=t.split("/"),i=/_/.test(s);return o&&!(r||n||i)}handleClick(e){n()(this.props.onClick)&&this.props.onClick(e)}render(){var e,t=this.props,{children:a,className:r,targetUrl:n,onMouseEnter:c}=t,s=l(t,["children","className","targetUrl","onMouseEnter"]);if(void 0===n)return o.createElement("a",Object.assign({className:r},s),a);try{e=new URL(n)}catch(u){e=null}if(e&&this.isSpaTargetLink(e)){var p=e.pathname,d=e.search?"".concat(e.search):"",m=e.hash?"".concat(e.hash):"";return o.createElement(i.rU,Object.assign({className:r,to:"".concat(p).concat(d).concat(m),onClick:this.handleClick,onMouseEnter:c},s),a)}return o.createElement("a",Object.assign({className:r,href:n,onClick:this.handleClick,onMouseEnter:c},s),a)}}p.displayName="AnchorBlock"},3797:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var o,r,n,c,s,i=a(3e4),l=a(41185),p=a(66062),d=(a(91938),a(76955)),m=a(55752),u=a.n(m),h=a(29466),b=a.n(h),f=a(66948),g=a(97175),y=a(81454),v=a(73614),I=a(79751),w=a(90926),P=a(16884),Z=a(48516),k=a(75457),T=a(13497),A=a(70317);unction E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function L(){return(L=(0,p.Z)((function*(e){var{dispatch:t,getState:a,match:o}=e,{params:r}=o,n=r.amebaId,c=yield t((0,v.Rs)(n));if(!c||!c.error){var s=a().bloggerState,i=s.bloggerMap,l=s.blogMap[(i[n]||{}).blog];if(l&&l.blog_id){var p=E(r.page);yield Promise.all([t((0,y.OQ)(l.blog_id,p,20)),t((0,w.wn)())]),(0,A.jl)(a())&&(yield t((0,w.h$)())),yield t((0,I.fU)(n))}}}))).apply(this,arguments)}var C=(0,f.$j)((function(e,t){var{match:a}=t,{params:o}=a,r=o.amebaId,n=e.bloggerState.bloggerMap[r]||{},c=u()(n,"official.image_protection_type")||"",s=!0,i=e.entryState,p=E(o.page),d=i.blogPageMap["".concat(n.blog,"/").concat(p)]||{};if(d){var m=d.data;if(m){var h=i.entryMap;s=m.map(().length>0}}var b=(0,A.jl)(e),f=u()(e.userState,["userAttribute","isLoaded"])||!1,g=e.userState.sessionUser.amebaId||"",{followMap:y,followActionMap:v}=e.followState,I={amebaId:r},y[r]||{});return{amebaId:r,followActionStatus:v.target||{},followButtonStatus:I,hasEntry:s,imageProtectionType:c,isFollowingUpperLimit:v.isUpperLimit||!1,isMember:b,isUserAttributeLoaded:f,sessionAmebaId:g}}),{executeFollowRequest:I.Tf,executeUnfollowRequest:I.e0})(o=(0,g.provideHooks)({done:)((n=r=class extends d.Component{houldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.executeFollowRequest!==e.executeFollowRequest||this.props.executeUnfollowRequest!==e.executeUnfollowRequest||this.props.hasEntry!==e.hasEntry||this.props.imageProtectionType!==e.imageProtectionType||this.props.isFollowingUpperLimit!==e.isFollowingUpperLimit||this.props.isMember!==e.isMember||this.props.isUserAttributeLoaded!==e.isUserAttributeLoaded||this.props.position!==e.position||this.props.sessionAmebaId!==e.sessionAmebaId||!b()(this.props.followActionStatus,e.followActionStatus)||!b()(this.props.followButtonStatus,e.followButtonStatus)}handleClick(e){var{followActionStatus:t,followButtonStatus:a,isMember:o,isUserAttributeLoaded:r,sessionAmebaId:n}=this.props,c=T.$A;if(r&&o&&(!o||n)&&a.amebaId!==n&&!(a.hasErrors||a.amebaId===t.amebaId&&t.hasErrors||a.loading))if(a.amebaId===t.amebaId&&t.loading)e.preventDefault();else{if(a.isFollowing)return e.preventDefault(),void this.props.executeUnfollowRequest(a.amebaId,c);e.preventDefault(),this.props.executeFollowRequest(a.amebaId,c)}}render(){return this.props.hasEntry?(0,i.Z)("div",{className:"readerMainLink"},void 0,(0,i.Z)("ul",{},void 0,"top"===this.props.position&&"all_deny"!==this.props.imageProtectionType&&(0,i.Z)("li",{className:"linkImageLi"},void 0,(0,i.Z)("a",{href:(0,P.Z)(k.Z.ImageList,{amebaId:this.props.amebaId})},void 0,c||(c=(0,i.Z)("span",{},void 0,"\u30d6\u30ed\u30b0\u753b\u50cf\u4e00\u89a7\u3092\u898b\u308b")))),"top"===this.props.position&&(0,i.Z)("li",{className:"linkAmenber"},void 0,(0,i.Z)(Z.Z,{targetUrl:(0,P.Z)(k.Z.AmemberEntryList,{amebaId:this.props.amebaId})},void 0,"\u3010\u9650\u5b9a\u516c\u958b\u3011\u30a2\u30e1\u30f3\u30d0\u30fc\u8a18\u4e8b\u4e00\u89a7")),(0,i.Z)("li",{className:"readBlog"},void 0,(0,i.Z)("a",{href:"".concat(window.process.env.HTTP_PATH_BLOG_AMEBA,"/reader.do?bnm=").concat(this.props.amebaId),onClick:this.handleClick},void 0,s||(s=(0,i.Z)("span",{},void 0,"\u3053\u306e\u30d6\u30ed\u30b0\u3092\u30d5\u30a9\u30ed\u30fc\u3059\u308b")))),"bottom"===this.props.position&&(0,i.Z)("li",{className:"linkPhoto"},void 0,(0,i.Z)("a",{href:"".concat(window.process.env.HTTP_PATH_OFFICIAL,"/photo/detail?amebaId=").concat(this.props.amebaId,"&page=1"),title:"\u30d5\u30a9\u30c8\u30a2\u30eb\u30d0\u30e0\u3092\u898b\u308b"},void 0,"\u30d5\u30a9\u30c8\u30a2\u30eb\u30d0\u30e0\u3092\u898b\u308b")))):null}},r.displayName="PcNavigationBarOfficial",o=n))||o)||o},16884:(e,t,a)=>{a.d(t,{Z:);var o=a(75457),r=e=>{var{amebaId:t,entryId:a,vnm:o}=e;return t&&a?"/".concat(t,"/video-").concat(a,".html").concat(o?"?vnm=".concat(o):""):""};function n(e,t){var{amebaId:a,entryId:n,themeId:c,entryYm:s,imageId:i,vnm:l,day:p,page:d=1}=t,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!a||!e)return"";var u="".concat(m,"/").concat(a),h="";switch(e){case o.Z.BlogTop:return h=d>1?"page-".concat(d,".html"):"","".concat(u,"/").concat(h);case o.Z.EntryList:return h=d>1?"-".concat(d):"","".concat(u,"/entrylist").concat(h,".html");case o.Z.AmemberEntryList:return h=d>1?"-".concat(d):"","".concat(u,"/amemberentrylist").concat(h,".html");case o.Z.ArchiveTop:return"".concat(u,"/archivetop.html");case o.Z.Archive:if(s)return h=d>1?"".concat(d):"","".concat(u,"/archive").concat(h,"-").concat(s,".html");console.error("PageType.Archive: entryYm is undefined.");break;case o.Z.Day:if(p)return h=d>1?"".concat(d):"","".concat(u,"/day").concat(h,"-").concat(p,".html");console.error("PageType.Day: day is undefined.");break;case o.Z.ThemeTop:return"".concat(u,"/themetop.html");case o.Z.Theme:if(c)return h=d>1?"".concat(d):"","".concat(u,"/theme").concat(h,"-").concat(c,".html");console.error("PageType.Theme: themeId is undefined.");break;case o.Z.PopularRecentList:return h=d>1?"-".concat(d):"","".concat(u,"/popularrecentlist").concat(h,".html");case o.Z.Entry:if(n)return h=d>1?"".concat(d):"","".concat(u,"/entry").concat(h,"-").concat(n,".html");console.error("PageType.Entry: entryId is undefined.");break;case o.Z.ImageList:return h=d>1?"-".concat(d):"",s?"".concat(u,"/imagelist-").concat(s).concat(h,".html"):"".concat(u,"/imagelist.html");case o.Z.Image:if(n&&i)return"".concat(u,"/image-").concat(n,"-").concat(i,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case o.Z.VideoList:return h=d>1?"-".concat(d):"","".concat(u,"/videolist").concat(h,".html");case o.Z.Video:if(n)return"".concat(m).concat(r({amebaId:a,entryId:n,vnm:l}));console.error("PageType.Video: entryId is undefined.");break;case o.Z.IineEntry:if(n)return"".concat(u,"/iine_entry-").concat(n,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case o.Z.Comment:if(h=d>1?"page-".concat(d,".html"):"",n)return"".concat(u,"/comment-").concat(n,"/").concat(h);console.error("PageType.Comment: entryId is undefined.");break;case o.Z.Reblog:if(h=d>1?"page-".concat(d,".html"):"",n)return"".concat(u,"/reblog-").concat(n,"/").concat(h);console.error("PageType.Reblog: entryId is undefined.");break;case o.Z.MessageBoard:return"".concat(u,"/message-board.html");case o.Z.Reader:return h=d>1?"-".concat(d):"","".concat(u,"/reader").concat(h,".html");case o.Z.Favorite:return h=d>1?"-".concat(d):"","".concat(u,"/favorite").concat(h,".html");case o.Z.Bookmark:return h=d>1?"-".concat(d):"","".concat(u,"/bookmark").concat(h,".html");case o.Z.AmemberEntry:if(n)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(a,"/amemberentry-").concat(n,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case o.Z.ImageEmbed:if(n&&i)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(a,"/image-").concat(n,"-").concat(i,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case o.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}}}]);