unction _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")} t,n,r,i;void 0===t&&(t={}),void 0===n&&(n={}),(r=void 0===r?{}:r).radio||(r.radio={}),r.plugin||(r.plugin={}),(i=void 0===i?{}:i).clock||(i.clock={}),function(){"use strict";function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,o){return d((t=d(d(t,e),d(r,o)))<<i|t>>>32-i,n)}function p(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function f(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function h(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function _(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function a(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,r,i,o,a=1732584193,s=-271733879,c=-1732584194,u=271733878,l=0;l<e.length;l+=16)a=p(n=a,r=s,i=c,o=u,e[l],7,-680876936),u=p(u,a,s,c,e[l+1],12,-389564586),c=p(c,u,a,s,e[l+2],17,606105819),s=p(s,c,u,a,e[l+3],22,-1044525330),a=p(a,s,c,u,e[l+4],7,-176418897),u=p(u,a,s,c,e[l+5],12,1200080426),c=p(c,u,a,s,e[l+6],17,-1473231341),s=p(s,c,u,a,e[l+7],22,-45705983),a=p(a,s,c,u,e[l+8],7,1770035416),u=p(u,a,s,c,e[l+9],12,-1958414417),c=p(c,u,a,s,e[l+10],17,-42063),s=p(s,c,u,a,e[l+11],22,-1990404162),a=p(a,s,c,u,e[l+12],7,1804603682),u=p(u,a,s,c,e[l+13],12,-40341101),c=p(c,u,a,s,e[l+14],17,-1502002290),a=f(a,s=p(s,c,u,a,e[l+15],22,1236535329),c,u,e[l+1],5,-165796510),u=f(u,a,s,c,e[l+6],9,-1069501632),c=f(c,u,a,s,e[l+11],14,643717713),s=f(s,c,u,a,e[l],20,-373897302),a=f(a,s,c,u,e[l+5],5,-701558691),u=f(u,a,s,c,e[l+10],9,38016083),c=f(c,u,a,s,e[l+15],14,-660478335),s=f(s,c,u,a,e[l+4],20,-405537848),a=f(a,s,c,u,e[l+9],5,568446438),u=f(u,a,s,c,e[l+14],9,-1019803690),c=f(c,u,a,s,e[l+3],14,-187363961),s=f(s,c,u,a,e[l+8],20,1163531501),a=f(a,s,c,u,e[l+13],5,-1444681467),u=f(u,a,s,c,e[l+2],9,-51403784),c=f(c,u,a,s,e[l+7],14,1735328473),a=h(a,s=f(s,c,u,a,e[l+12],20,-1926607734),c,u,e[l+5],4,-378558),u=h(u,a,s,c,e[l+8],11,-2022574463),c=h(c,u,a,s,e[l+11],16,1839030562),s=h(s,c,u,a,e[l+14],23,-35309556),a=h(a,s,c,u,e[l+1],4,-1530992060),u=h(u,a,s,c,e[l+4],11,1272893353),c=h(c,u,a,s,e[l+7],16,-155497632),s=h(s,c,u,a,e[l+10],23,-1094730640),a=h(a,s,c,u,e[l+13],4,681279174),u=h(u,a,s,c,e[l],11,-358537222),c=h(c,u,a,s,e[l+3],16,-722521979),s=h(s,c,u,a,e[l+6],23,76029189),a=h(a,s,c,u,e[l+9],4,-640364487),u=h(u,a,s,c,e[l+12],11,-421815835),c=h(c,u,a,s,e[l+15],16,530742520),a=_(a,s=h(s,c,u,a,e[l+2],23,-995338651),c,u,e[l],6,-198630844),u=_(u,a,s,c,e[l+7],10,1126891415),c=_(c,u,a,s,e[l+14],15,-1416354905),s=_(s,c,u,a,e[l+5],21,-57434055),a=_(a,s,c,u,e[l+12],6,1700485571),u=_(u,a,s,c,e[l+3],10,-1894986606),c=_(c,u,a,s,e[l+10],15,-1051523),s=_(s,c,u,a,e[l+1],21,-2054922799),a=_(a,s,c,u,e[l+8],6,1873313359),u=_(u,a,s,c,e[l+15],10,-30611744),c=_(c,u,a,s,e[l+6],15,-1560198380),s=_(s,c,u,a,e[l+13],21,1309151649),a=_(a,s,c,u,e[l+4],6,-145523070),u=_(u,a,s,c,e[l+11],10,-1120210379),c=_(c,u,a,s,e[l+2],15,718787259),s=_(s,c,u,a,e[l+9],21,-343485551),a=d(a,n),s=d(s,r),c=d(c,i),u=d(u,o);return[a,s,c,u]}nction r(e){for(var t,n="0123456789abcdef",r="",i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function l(e){return unescape(encodeURIComponent(e))}function i(e){return c(a(u(e=l(e)),8*e.length))}function o(e,t){var n,e=l(e),t=l(t),r=u(e),i=[],o=[];for(i[15]=o[15]=void 0,16<r.length&&(r=a(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],o[n]=1549556828^r[n];return e=a(i.concat(u(t)),512+8*t.length),c(a(o.concat(e),640))}t.md5=(),function(){"use strict";var e={startsWith:;t.StringUtils=e}(),function(){"use strict";var i={clone:merge:function(e,t){var n,r=i.clone(e);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}};t.ObjectUtils=i}(),r),function(e){"use strict";.prototype.addCommand=t.prototype.cancelAllCommands=t.prototype.isEmpty=t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=t.prototype._drain=function(){var n;this._isSuspended||this._drainInProgress||(this._drainInProgress=!0,n=this,))},t.prototype._runCommand=function(e,t){ar r,i,o=this;0!=this._lastTs&&(i=(r=(new Date).getTime())-this._lastTs,this._lastTs=r,i<this._delay)?setTimeout(n,this._delay-i):n()},e.radio.CommandQueue=t}(r),function(e){"use strict";.WILDCARD="*",a.SEPARATOR=":",a.prototype.toString=function(){return"<channel: "+this._name+">"},a.prototype.shutdown=a.prototype.on=a.prototype.off=function(e,t,n){if(!this._isShutDown)if(t="function"==typeof t?t:null,e||null!=t||n)if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n);else this._listeners={}},a.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&function(e,t){if(e===t)return 1;for(var n=(e||"").split(a.SEPARATOR),r=(t||"").split(a.SEPARATOR),i=!0,o=0;o<n.length;o++)i=i&&(n[o]===a.WILDCARD||n[o]===r[o]);return i}(t,e.name))for(var n=this._listeners[t].slice(0),r=0;r<n.length;r++){var i=n[r];i.fn.call(i.ctx,e)}},a.prototype.comply=function(e,t,n){this._isShutDown||(this._commands[e]={cmd:t,ctx:n})},a.prototype.command=function(e,t){var n;if(!this._isShutDown)return(n=this._commands[e])?void n.cmd.call(n.ctx,t):void this._logger.warn(r,"#command > No command handler for: "+e)},a.prototype.reply=a.prototype.request=function(e){var t;if(!this._isShutDown)return(t=this._requests[e])?t.fn.call(t.ctx):(this._logger.warn(r,"#request > No request handler for: "+e),null)},a.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var r=this._listeners[e];if(r)if(!r.length||null==t&&!n)delete this._listeners[e];else for(var i=0;i<r.length;i++){var o=r[i];null!==t&&t!==o.fn||n&&n!==o.ctx||this._listeners[e].splice(i,1)}};var r="radio::Channel";e.radio.Channel=a}(r),r),function(){"use strict";r.extend=function(e,t){or(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}}(),r),r),r),function(e){"use strict";ar n=e.LogWriter,r=(t.prototype.setLogWriter=t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,i,t)},t.prototype.info=function(e,t){this._log(e,r,t)},t.prototype.warn=function(e,t){this._log(e,o,t)},t.prototype.error=t.prototype._log=function(e,t,n){var r,i;t!=a&&!this._enabled||(r="",r+="["+(i=new Date).toTimeString()+"."+((i=i.getMilliseconds())<10?"00"+i:i<100?"0"+i:""+i)+"] ["+t+"] ",this._logWriter.write(r+="["+e+"] "+n))},"INFO"),i="DEBUG",o="WARN",a="ERROR";e.Logger=t}(r),r),r),function(e){"use strict";.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var r,i,o=!1;for(i in this._events)if(e===i){o=!0;break}if(o){for(r=this._events[i].length-1;0<=r;r--){var a=this._events[i][r];t===a.cb&&n===a.ctx&&this._events[i].splice(r,1)}this._events[i].length||delete this._events[i]}}},t.prototype.dispatchEvent=function(e){if(e.name)for(var t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){for(var n=this._events[t].slice(0),r=n.length,i=0;i<r;i++)n[i].cb.call(n[i].ctx,e);break}},t.prototype.removeAllListeners=function(e){var t,n;if(e){for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;0<=t;t--)this._events[n][t].ctx===e&&this._events[n].splice(t,1);this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(r),function(e){"use strict";function t(){}ar a=e.Event,n=e.EventDispatcher;t.GET="GET",o.RESPONSE="response",o.INSTANCE="instance",e.extend(o,n),o.prototype.close=o.prototype.load=o.prototype._createCORSRequest=function(e){var t,n,r,i=null;return void 0!==window.XMLHttpRequest&&"withCredentials"in(t=new window.XMLHttpRequest)&&(i=t).open(e.method,e.url,!0),null==i&&void 0!==window.XDomainRequest&&(i=new window.XDomainRequest).open(e.method,e.url),i&&(r=(n={})[o.INSTANCE]=this,i.onload=function(){return i.status&&400<=parseInt(i.status,10)?this.onerror():(n[o.RESPONSE]=i.responseText,void r.dispatchEvent(new a(a.SUCCESS,n)))},i.onerror=,i},o.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;e={};e[o.RESPONSE]="",(e[o.INSTANCE]=this).dispatchEvent(new a(a.SUCCESS,e))},e.URLRequestMethod=t,e.URLRequest=function(e,t){this.url=e||null,this.method=t,this._xmlhttp=null},e.URLLoader=o}(r),function(){"use strict";var t="2.0.2.123",e={getVersion:getMajor:function(){return e.getNumberAtPosition(0)},getMinor:function(){return e.getNumberAtPosition(1)},getMicro:function(){return e.getNumberAtPosition(2)},getPatch:function(){return e.getNumberAtPosition(3)},getBuild:function(){return"150f2b"},getApiLevel:function(){return 4},getNumberAtPosition:;n.Version=e}(),n),function(){"use strict";n.HeartbeatConfig=function(){this.debugLogging=!1}}(),n),r),function(e){"use strict";ar n=e.plugin.ParamMapping;t.prototype.mergeParams=t.prototype.getParams=function(){var e,t=[];for(e in this._paramMappings)this._paramMappings.hasOwnProperty(e)&&t.push(this._paramMappings[e]);return t},t.prototype.addParam=t.prototype.removeParam=function(e,t){e=new n(e,t);this._paramMappings.hasOwnProperty(e.getKeyName())&&delete this._paramMappings[e.getKeyName()]},e.plugin.Behaviour=t}(r),r),function(e){"use strict";ar n=e.Event,r=e.radio.Radio,i=e.radio.Channel,o=e.plugin.Behaviour,a=(t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(c,"#addPlugin > Replacing plugin: "+t),(this._plugins[t]=e).bootstrap(this)},t.prototype.setupPlugins=t.prototype.pluginExists=t.prototype.isPluginInitialized=t.prototype.on=t.prototype.off=function(e,t,n,r){e=e&&t?e+i.SEPARATOR+t:null;this._dataChannel.off(e,n,r)},t.prototype.trigger=function(e){var t=e.name,n=this._behaviours[t];if(n){for(var r,i,o,a,s={},c={},u=0;u<n.length;u++)if(i=(l=n[u]).getParams())for(r=0;r<i.length;r++)s[(o=i[r]).getPluginName()]=s[o.getPluginName()]||[],o.key in s[o.getPluginName()]||s[o.getPluginName()].push(o.getKey());for(a in s)s.hasOwnProperty(a)&&(c[a]=this.request(a,s[a]));for(u=0;u<n.length;u++){var l,d={_behaviour:l=n[u],_eventData:e.data||{}};if(i=l.getParams()){for(r=0;r<i.length;r++)d[(o=i[r]).getParamName()]=c[o.getPluginName()]?c[o.getPluginName()][o.getKey()]:null;this.command(l.plugin.getName(),l.action,d)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){e=this._plugins[e];return e&&t&&0!=t.length?e.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;e=new n(t.ERROR,e);this._ctrlChannel.trigger(e)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=t.prototype.comply=t.prototype.command=t.prototype.registerBehaviour="data_channel"),s="ctrl_channel",c="plugin::PluginManager";e.plugin.PluginManager=t}(r),function(e,t){"use strict";ar r=e.Logger,i=e.Trigger,o=e.Event,a=t.ErrorInfo;n.INITIALIZED="initialized",n.prototype.configure=function(e){},n.prototype.bootstrap=n.prototype.setup=n.prototype.destroy=n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.getLogger=function(){return this._logger},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.resolveData=n.prototype.toString=n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=n.prototype._trigger=function(e,t){e=o.createFromTrigger(new i(this.getName(),e));e.data=t,this._pluginManager.trigger(e)},e.plugin.BasePlugin=n}(r,n),function(e){"use strict";prototype.reset=r.prototype.shouldTick=r.prototype._updateNextTickTimestamp=t.prototype.createTimer=t.prototype.destroyTimer=t.prototype.resumeTimer=function(e,t){this._logger.debug(n,"#resumeTimer(name="+e+", reset="+(t=void 0!==t&&t)+")");e=this._timers[e];e&&(e.isActive=!0,t)&&e.reset()},t.prototype.pauseTimer=function(e,t){this._logger.debug(n,"#pauseTimer(name="+e+", reset="+(t=void 0!==t&&t)+")");e=this._timers[e];e&&(e.isActive=!1,t)&&e.reset()},t.prototype.isTimerPaused=function(e){e=this._timers[e];return!!e&&!e.isActive},t.prototype.destroy=t.prototype._onTick=function(){for(var e in this._timers)this._timers.hasOwnProperty(e)&&(e=this._timers[e]).isActive&&e.shouldTick()&&(1<e.interval&&this._logger.debug(n,"#_onTick() > "+e.name+"("+e.tick+" | "+e.repeatCount+")"),0!=e.repeatCount?(this._service.onTick(e.name,e.interval,e.tick),e.repeatCount!=i&&e.repeatCount--):this.destroyTimer(e.name))};var n="service.clock::TimerManager",i=-1,o=.25;e.clock.TimerDescriptor=r,e.clock.TimerManager=t}(i),function(e,t,n){"use strict";ar i=n.clock.TimerManager,a=t.StringUtils,t=e.plugin.BasePlugin,o=(e.extend(r,t),r.prototype.bootstrap=r.prototype._teardown=function(){this._timerManager.destroy()},r.prototype._cmdCreate=r.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[d],!!e[_])},r.prototype._cmdResume=r.prototype._cmdDestroy=r.prototype.onTick=function(e,t,n){var r={};r[d]=e+=".tick",r[p]=t,r[h]=n,this._trigger(e,r)},r.prototype._setupDataResolver=function(){var o={},t=this._timerManager;o[g]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(e){if(!e||0==e.length)return null;for(var t=null,n=0;n<e.length;n++){var r,i=e[n],t=t||{};a.startsWith(i,g)&&0<(r=i.split(g+".")).length&&(t[i]=o[g].call(this,r[1]))}return t}},"service.clock"),s="create",c="pause",u="resume",l="destroy",d="name",p="interval",f="repeat_count",h="tick",_="reset",g="is_paused",m=-1;n.clock.ClockService=r}(r,t,i),function(e,t,n){"use strict";ar i=e.Logger,o=e.plugin.PluginManager,a=t.clock.ClockService,s=(r.prototype.configure=r.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)},"Heartbeat");n.Heartbeat=r}(r,i,n),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=r),e.ADB.va||(e.ADB.va=n),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),function(e){var t;void 0===t&&(t={}),function(){"use strict";var e={ASSET_TYPE_VOD:"vod",ASSET_TYPE_LIVE:"live",ASSET_TYPE_LINEAR:"linear"};t.AssetType=e}(),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),t),t),function(){"use strict";t.VideoPlayerPluginConfig=function(){this.debugLogging=!1}}(),t),function(e,t){"use strict";ar r=e.plugin.ParamMapping,i=e.Trigger,o=e.plugin.BasePlugin,a=t.VideoPlayerPluginConfig,s=(e.extend(n,o),n.prototype.configure=n.prototype.bootstrap=n.prototype._cmdVideoIdleStart=n.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(h),this._trigger(_),e.isInChapter&&this._trigger(E),e.isInAd)&&(this._trigger(y),this._isTrackingAd=!0),this._videoIdle=!1},n.prototype.trackSessionStart=function(){var e;this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()&&(this._isTrackingSessionActive?this._isTrackingSessionStarted?this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started."):(this._trigger(h),this._isTrackingSessionStarted=!0,(e=this._dataResolver(["video.resumed"])).hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(_)):this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session."))},n.prototype.trackVideoLoad=n.prototype.trackVideoUnload=function(){this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()&&(this._isTrackingSessionActive?(this._stopPlayheadTimer(),this._trigger(f),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1):this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session."))},n.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(v),this._startPlayheadTimer())},n.prototype.trackPause=function(){var e;this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&(this._stopPlayheadTimer(),(e={})[B]=!1,this._trigger(C,e))},n.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(b))},n.prototype.trackBufferComplete=n.prototype.trackSeekStart=n.prototype.trackSeekComplete=function(){var e;this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&(this._trigger(w),this._startPlayheadTimer(),e=this._dataResolver(["ad.isInAd"]),this._isTrackingAd=e.hasOwnProperty("ad.isInAd")&&e["ad.isInAd"])},n.prototype.trackComplete=function(e){var t;this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")&&((t={})[O]=e,this._stopPlayheadTimer(),this._trigger(g,t))},n.prototype.trackTimedMetadata=n.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(E)},n.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(I)},n.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(y),this._isTrackingAd=!0)},n.prototype.trackAdComplete=n.prototype.trackBitrateChange=n.prototype.trackVideoPlayerError=function(e){var t;this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")&&((t={})[L]=d,t[M]=e,this._trigger(D,t))},n.prototype.trackApplicationError=function(e){var t;this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")&&((t={})[L]=l,t[M]=e,this._trigger(D,t))},n.prototype._registerCommands=n.prototype._registerBehaviours=n.prototype._setupDataResolver=function(){function t(){return s.video||(s.video=c._delegate.getVideoInfo(),c._logger.info(c._logTag,"Data from delegate > VideoInfo: "+s.video),s.video)}function n(){return s.ad||(s.ad=c._delegate.getAdInfo(),c._logger.info(c._logTag,"Data from delegate > AdInfo: "+s.ad),s.ad)}function r(){return s.pod||(s.pod=c._delegate.getAdBreakInfo(),c._logger.info(c._logTag,"Data from delegate > AdBreakInfo: "+s.pod),s.pod)}function i(){return s.chapter||(s.chapter=c._delegate.getChapterInfo(),c._logger.info(c._logTag,"Data from delegate > ChapterInfo: "+s.chapter),s.chapter)}function o(){return s.qos||(s.qos=c._delegate.getQoSInfo(),c._logger.info(c._logTag,"Data from delegate > QoSInfo: "+s.qos),s.qos)}var a={},s={},c=this;a["video.id"]=function(){var e=t(),e=e?e.id:null;return c._logger.debug(c._logTag,"Resolving video.id: "+e),e},a["video.name"]=function(){var e=t(),e=e?e.name:null;return c._logger.debug(c._logTag,"Resolving video.name: "+e),e},a["video.length"]=function(){var e=t(),e=e?e.length:NaN;return c._logger.debug(c._logTag,"Resolving video.length: "+e),e},a["video.playerName"]=function(){var e=t(),e=e?e.playerName:null;return c._logger.debug(c._logTag,"Resolving video.playerName: "+e),e},a["video.streamType"]=function(){var e=t(),e=e?e.streamType:null;return c._logger.debug(c._logTag,"Resolving video.streamType: "+e),e},a["video.playhead"]=function(){var e=t(),e=e?e.playhead:NaN;return c._logger.debug(c._logTag,"Resolving video.playhead: "+e),e},a["video.resumed"]=a["video.playheadStalled"]=function(){return this._playheadStalled},a["pod.name"]=function(){var e=r(),e=e?e.name:null;return c._logger.debug(c._logTag,"Resolving pod.name: "+e),e},a["pod.playerName"]=function(){var e=r(),e=e?e.playerName:null;return c._logger.debug(c._logTag,"Resolving pod.playerName: "+e),e},a["pod.position"]=function(){var e=r(),e=e?e.position:NaN;return c._logger.debug(c._logTag,"Resolving pod.position: "+e),e},a["pod.startTime"]=function(){var e=r(),e=e?e.startTime:NaN;return c._logger.debug(c._logTag,"Resolving pod.startTime: "+e),e},a["ad.isInAd"]=function(){var e=null!=n();return c._logger.debug(c._logTag,"Resolving ad.isInAd: "+e),e},a["ad.isInAdBreak"]=function(){var e=null!=r();return c._logger.debug(c._logTag,"Resolving ad.isInAdBreak: "+e),e},a["ad.id"]=function(){var e=n(),e=e?e.id:null;return c._logger.debug(c._logTag,"Resolving ad.id: "+e),e},a["ad.name"]=function(){var e=n(),e=e?e.name:null;return c._logger.debug(c._logTag,"Resolving ad.name: "+e),e},a["ad.length"]=function(){var e=n(),e=e?e.length:NaN;return c._logger.debug(c._logTag,"Resolving ad.length: "+e),e},a["ad.position"]=function(){var e=n(),e=e?e.position:NaN;return c._logger.debug(c._logTag,"Resolving ad.position: "+e),e},a["chapter.isInChapter"]=a["chapter.name"]=a["chapter.length"]=function(){var e=i(),e=e?e.length:NaN;return c._logger.debug(c._logTag,"Resolving chapter.length: "+e),e},a["chapter.position"]=function(){var e=i(),e=e?e.position:NaN;return c._logger.debug(c._logTag,"Resolving chapter.position: "+e),e},a["chapter.startTime"]=function(){var e=i(),e=e?e.startTime:NaN;return c._logger.debug(c._logTag,"Resolving chapter.startTime: "+e),e},a["qos.bitrate"]=function(){var e=o(),e=e?e.bitrate:NaN;return c._logger.debug(c._logTag,"Resolving qos.bitrate: "+e),e},a["qos.fps"]=function(){var e=o(),e=e?e.fps:NaN;return c._logger.debug(c._logTag,"Resolving qos.fps: "+e),e},a["qos.droppedFrames"]=a["qos.startupTime"]=this._dataResolver=,n.prototype._trackPlayheadStall=function(){!this._canProcess()||this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(C))},n.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled)&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(v))},n.prototype._startPlayheadTimer=function(){var t=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){var e;t._canProcess()&&(e=t._dataResolver(["ad.isInAd","video.playhead"]),t._isTrackingAd?(t._playheadStalled&&t._trackExitStall(),e.hasOwnProperty("ad.isInAd")&&!e["ad.isInAd"]&&(t._isTrackingAd=!1)):((e=e["video.playhead"])!=t._previousPlayhead?t._trackExitStall():0<=t._previousPlayhead&&e==t._previousPlayhead&&(t._stalledPlayheadCount++,t._stalledPlayheadCount==x)&&t._trackPlayheadStall(),t._previousPlayhead=e))},R))},n.prototype._stopPlayheadTimer=n.prototype._startSessionIfNeeded="player"),c=s,u="adobe-heartbeat",l="sourceErrorExternal",d="sourceErrorSDK",p="video_load",f="video_unload",h="video_start",_="video_resume",g="video_complete",m="timed_metadata",v="play",C="pause",y="ad_start",A="ad_complete",b="buffer_start",P="buffer_complete",S="seek_start",w="seek_complete",E="chapter_start",I="chapter_complete",T="bitrate_change",D="track_error",N="video_idle_start",k="video_idle_resume",O="callback",B="filter_report",L="source",M="error_id",R=1001,x=2;t.VideoPlayerPlugin=n}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),function(e){var t;(t=void 0===t?{}:t).clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";ar r=e.Event,i=(n.KEY_NAME="name",n.KEY_INTERVAL="interval",n.KEY_RESET="reset",n.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[n.KEY_NAME]=i+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(o,c,t)},n.prototype.pause=n.prototype.destroy=function(){var e;this._isDestroyed||(this._isDestroyed=!0,this._uninstallHandlers(),(e={})[n.KEY_NAME]=i+"."+this._name,this._pluginManager.command(o,u,e))},n.prototype.setInterval=n.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.resume(t)},n.prototype._cmdPause=n.prototype._onTick=n.prototype._installHandlers=n.prototype._uninstallHandlers=n.prototype._createTimer=function(e,t){this._name=e,this._interval=t;e={};e[n.KEY_NAME]=i+"."+this._name,e[n.KEY_INTERVAL]=this._interval,this._pluginManager.command(o,a,e)},"heartbeat"),o="service.clock",a="create",s="pause",c="resume",u="destroy",l="is_paused";t.clock.Timer=n}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,o,s,n)}var n=e.Event,i=t.clock.Timer,o=(e.extend(r,i),r.prototype._onCheckStatusComplete=function(e){e=e.data[d];this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+e+")"),e?e==this._interval?this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed."):a<e?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+e),this.setInterval(a)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+e),this.setInterval(e)):(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s))},r.prototype._getSettings=r.prototype._installHandlers="check_status"),a=600,s=60,c="clock:check_status.tick",u="clock:check_status.get_settings",l="net:check_status_complete",d="check_status_interval";t.clock.CheckStatusTimer=r}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,i,o,n)}var n=t.clock.Timer,i=(e.extend(r,n),r.prototype._onCheckStatusComplete=function(e){e=e.data[a];this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+e+")"),e?e==this._interval?this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed."):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+e),this.setInterval(e)):(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(o))},r.prototype._installHandlers="reporting"),o=10,a="reporting_interval",s="net:check_status_complete";t.clock.ReportingTimer=r}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,i,o,n)}var n=t.clock.Timer,i=(e.extend(r,n),"idle"),o=1800;t.clock.IdleTimer=r}(e.ADB.core,t),function(e,t){"use strict";ar n=t.clock.Timer,i=(e.extend(r,n),"flush_filter"),o=.25;t.clock.FlushFilterTimer=r}(e.ADB.core,t),function(e){"use strict";ar r=e.clock.CheckStatusTimer,i=e.clock.FlushFilterTimer,o=e.clock.ReportingTimer,a=e.clock.IdleTimer;t.prototype.destroy=e.clock.Clock=t}((e.ADB.core,t)),function(e){"use strict";HINT_SHORT="short",t.prototype.setField=t.prototype._createAccessor=e.model.Dao=t,e.model.DaoField=r}((e.ADB.core,t)),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof n?(this.adId((e=arguments[0]).adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())):(this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName(""))}var r=t.model.Dao;e.extend(n,r),t.model.AdDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",i.HINT_SHORT),arguments.length&&arguments[0]instanceof n?(this.reportSuiteId((e=arguments[0]).reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())):(this.reportSuiteId(""),this.trackingServer(""),this.ssl(0))}var r=t.model.Dao,i=t.model.DaoField;e.extend(n,r),t.model.AdobeAnalyticsDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof n?(this.id((e=arguments[0]).id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())):(this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0))}var r=t.model.Dao;e.extend(n,r),t.model.ChapterDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e,t;n.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof n?(this.type((e=arguments[0]).type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length()),t=e.adData()?new i(e.adData()):null,this.adData(t),t=e.chapterData()?new o(e.chapterData()):null,this.chapterData(t)):(this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null))}var r=t.model.Dao,i=t.model.AdDao,o=t.model.ChapterDao;e.extend(n,r),n.TYPE_AD="ad",n.TYPE_MAIN_CONTENT="main",t.model.AssetDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof n?(this.type((e=arguments[0]).type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())):(this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1))}var r=t.model.Dao;e.extend(n,r),n.EVENT_TYPE_AA_START="aa_start",n.EVENT_TYPE_AA_AD_START="aa_ad_start",n.EVENT_TYPE_START="start",n.EVENT_TYPE_RESUME="resume",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_STALL="stall",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_COMPLETE="complete",t.model.EventDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof n?(this.bitrate((e=arguments[0]).bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden):(this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1)}var r=t.model.Dao;e.extend(n,r),t.model.QoSDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof n?(this.ovp((e=arguments[0]).ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())):(this.ovp(i),this.sdk(i),this.channel(i),this.playerName(""),this.libVersion(""),this.apiLevel(0))}var r=t.model.Dao,i=(e.extend(n,r),"unknown");t.model.ServiceProviderDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof n?this.sessionId(arguments[0].sessionId()):this.sessionId(null)}var r=t.model.Dao;e.extend(n,r),t.model.SessionDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof n?this.type(arguments[0].type()):this.type(null)}var r=t.model.Dao;e.extend(n,r),t.model.StreamDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof n?(this.analyticsVisitorId((e=arguments[0]).analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())):(this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null))}var r=t.model.Dao;e.extend(n,r),t.model.UserDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){var e;n.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof n?(this.audienceManagerBlob((e=arguments[0]).audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())):(this.audienceManagerBlob(null),this.audienceManagerLocationHint(null))}var r=t.model.Dao;e.extend(n,r),t.model.AudienceManagerDao=n}(e.ADB.core,t),function(e,t){"use strict";var o=e.ObjectUtils,a=t.model.EventDao,s=t.model.AssetDao,c=t.model.StreamDao,u=t.model.QoSDao;t.model.TrackItem=function(e,t,n,r,i){this.eventData=new a,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(n),this.assetData=new s(e._assetData),this.streamData=new c(e._streamData),this.qosData=new u(e._qosData),this.cuserData=o.clone(e._cuserData),this.meta=r,this.callback=i,this.filterReport=!0}}(e.ADB.va.utils,t),function(e,t){"use strict";var a=e.ObjectUtils,s=t.model.EventDao,c=t.model.AssetDao,u=t.model.StreamDao,l=t.model.QoSDao;t.model.CUserDao,t.model.Report=function(e,t,n,r,i,o){this.adobeAnalyticsData=e,this.userData=t,this.aamData=n,this.serviceProviderData=r,this.sessionData=i,this.eventData=new s(o.eventData),this.assetData=new c(o.assetData),this.streamData=new u(o.streamData),this.qosData=new l(o.qosData),this.cuserData=a.clone(o.cuserData),this.meta=a.clone(o.meta),this.callback=o.callback,this.filterReport=o.filterReport}}(e.ADB.va.utils,t),t),function(e,t){"use strict";ar s=t.model.Dao,o=t.model.DaoField,r=t.model.ISerializer,c=(e.extend(n,r),n.prototype.serializeReport=n.prototype.serializeDao=n.prototype.serializeMap=function(e,t){var n,r=[],i=t||"meta";for(n in e)e.hasOwnProperty(n)&&e[n]&&r.push("s:"+i+":"+n+"="+window.encodeURIComponent(e[n]));return r.join("&")},n.prototype.serializeNumber=function(e,t,n,r){var i=a;return null==t||isNaN(t)?null:(i=r===o.HINT_SHORT?u:i)+":"+n+":"+e+"="+Math.floor(t)},n.prototype.serializeString=n.prototype._processDao=function(e){var t,n=[];for(t in e.data)if(e.data.hasOwnProperty(t)){var r=e.data[t],i=r.value,r=r.hint,o=null,a=e.realm;if(null==i)continue;"number"==typeof i?o=this.serializeNumber(t,i,a,r):"string"==typeof i?o=this.serializeString(t,i,a,r):i instanceof s?o=this.serializeDao(i):this._logger.warn(c,"#_processDao() > Unable to serialize DAO. Field: "+t+". Value: "+i+"."),o&&n.push(o)}return n},"ah::QuerystringSerializer"),a="l",u="h",i="s";t.model.QuerystringSerializer=n}(e.ADB.core,t),function(e){"use strict";function t(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}t.prototype.parse=function(){window.DOMParser?i=(new window.DOMParser).parseFromString(this._data,"text/xml"):((i=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(this._data)),(r=parseInt(i.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10))&&(e=r),(r=parseInt(i.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10))&&(t=r),(r=parseInt(i.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10))&&(n=1==r),r=!i.getElementsByTagName("nielsenEnabled")[0]||1==parseInt(i.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10);var e,t,n,r,i={};return i[a]=e,i[s]=t,i[c]=n,i[u]=r,this._logger.debug(o,"#parse() > Obtained configuration settings."),i};var o="ah::SettingsParser",a="reporting_interval",s="check_status_interval",c="track_external_errors",u="nielsen_enabled";e.network.SettingsParser=t}((e.ADB.core,t)),function(e,t){"use strict";ar o=e.Event,a=e.URLRequestMethod,s=e.URLRequest,c=e.URLLoader,u=t.network.SettingsParser,r=t.model.QuerystringSerializer,l=(n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(l,"#destroy()"),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){e=e.data;this._logger.debug(l,"#_onApiConfig(sb_server="+e[i]+", check_status_server="+e[d]+", publisher="+e[p]+", quiet_mode="+e[f]+", ssl="+e[h]+")"),this._trackingServer=this._updateRequestProtocol(e[i],e[h]),this._checkStatusServer=this._updateRequestProtocol(e[d],e[h]),this._publisher=e[p],this._quietMode=e[f],this._isConfigured=!0},n.prototype._onUpdateVisitorOptOut=function(e){e=e.data;this._logger.debug(l,"#_onUpdateVisitorOptOut(visitor_opt_out="+e[g]+")"),this._visitorOptedOut=e[g]},n.prototype._onFilterReportAvailable=function(e){var t,n,r,i,e=e.data;this._isConfigured?(e=e[_],t=this._serializer.serializeReport(e),n=this._trackingServer+"/?"+t.serializedOutput,this._prevReportSent&&this._prevReportSent.eventData&&e.eventData&&this._prevReportSent.eventData.playhead==e.eventData.playhead&&this._prevReportSent.eventData.ts==e.eventData.ts&&this._prevReportSent.eventData.prevTs==e.eventData.prevTs&&this._prevReportSent.eventData.type==e.eventData.type?this._logger.debug(l,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+n):(this._prevReportSent=e,e=new s(n,a.GET),this._logger.debug(l,"#_onFilterReportAvailable() > "+e.url),(r=this)._quietMode||this._visitorOptedOut||((i=new c).addEventListener(o.SUCCESS,this),i.addEventListener(o.ERROR,this),i.load(e)))):this._logger.warn(l,"#_onFilterReportAvailable() > Unable to send request: not configured.")},n.prototype._onClockCheckStatusTick=function(e){var t,n,r,i;this._isConfigured?this._publisher?(n=(t=this)._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),n=this._checkStatusServer+n+".xml?r="+(new Date).getTime(),r=new s(n,a.GET),(i=new c).addEventListener(o.SUCCESS,function(e){e.data&&((e=new u(e.data.response,t._logger).parse())?t._channel.trigger(new o(A,e)):t._logger.warn(l,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")),i.close()},this),i.addEventListener(o.ERROR,this),this._logger.debug(l,"#_onClockCheckStatusTick() > Get new settings from: "+n),i.load(r)):this._logger.warn(l,"#_onClockCheckStatusTick() > Publisher is NULL."):this._logger.warn(l,"#_onClockCheckStatusTick() > Unable to send request: not configured.")},n.prototype._updateRequestProtocol=function(e,t){return 0===e.indexOf("http://")?e=e.slice(7):0===e.indexOf("https://")&&(e=e.slice(8)),t?"https://"+e:"http://"+e},n.prototype._installEventListeners=n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},"ah::Network"),i="tracking_server",d="check_status_server",p="publisher",f="quiet_mode",h="ssl",_="report",g="visitor_opt_out",m="api:config",v="api:update_visitor_optout",C="filter:data_available",y="clock:check_status.tick",A="net:check_status_complete";t.network.Network=n}(e.ADB.core,t),function(e,t){"use strict";unction f(r){var i=[];return r.forEach(function(e){var t,n;(e.eventData.type()!=_.EVENT_TYPE_PLAY||e.eventData.duration()>l||0==e.eventData.duration()&&e.assetData.type()==g.TYPE_MAIN_CONTENT&&(n=[],r.forEach(,(t=n).indexOf(e)==t.length-1))&&i.push(e)}),i}var r=e.radio.Command,i=e.radio.CommandQueue,h=e.Event,_=t.model.EventDao,g=t.model.AssetDao,o=(n.prototype.destroy=n.prototype.clear=n.prototype.flush=n.prototype._bufferReport=function(e){var t;this._isDestroyed||((e=e[v])&&(t=e.sessionData.sessionId(),this._reportBuffer[t]=this._reportBuffer[t]||[],this._reportBuffer[t].push(e)),this._isBufferingInProgress)||(this._isBufferingInProgress=!0,(t={})[s]=!0,t[c]=1,this._channel.command(u,t))},n.prototype._flushBufferReport=function(){if(!this._isDestroyed){var e,t=this;for(e in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(e)){var n=f(function(e){var t=-1,n=-1,r=[];return e.forEach(,r}(function(e){var t=[];return e&&e.forEach(function(e){(e.eventData.type()!=_.EVENT_TYPE_PAUSE&&e.eventData.type()!=_.EVENT_TYPE_STALL||!e.filterReport||e.eventData.duration()>C)&&t.push(e)}),t}(this._reportBuffer[e]))),r=(s=a=o=i=r=void 0,n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.sessionData.sessionId(),s=(t._tsHistory[a]=t._tsHistory[a]||{},o.eventData.type()+"."+(o.assetData.type()==g.TYPE_AD?o.assetData.adData().adId():o.assetData.videoId()));t._tsHistory[a].hasOwnProperty(s)&&o.eventData.prevTs(t._tsHistory[a][s]),t._tsHistory[a][s]=o.eventData.ts()}for(var c=0;c<n.length;c++){var u=n[c],l={};l[v]=u,this._channel.trigger(new h(m,l))}}this._reportBuffer={};var d=this._channel.request(y),p=this._tsHistory[d]||{};this._tsHistory={},this._tsHistory[d]=p,this._isBufferingInProgress=!1}},n.prototype._onContextReportAvailable=function(e){e=e.data;this._workQueue.addCommand(new r(this._bufferReport,this,[e]))},n.prototype._onClockFlushFilterTick=n.prototype._installEventListeners=n.prototype._uninstallEventListeners="context:report_available"),m="filter:data_available",a="clock:flush_filter.tick",s="reset",v="report",c="repeat_count",u="clock:flush_filter.resume",l=250,C=250,y="session_id",d="ah::ReportFilter";t.filter.ReportFilter=n}(e.ADB.core,t),function(e,t){"use strict";ar r=e.ErrorInfo;n.prototype.validateFields=n.prototype._fail=function(e){e=new r("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,e),!1},t.context.InputDataValidator=n}(e.ADB.va,t),function(e){"use strict";ar n=e.model.Report,r=(t.prototype.createReportForItem="ah::ReportFactory");e.context.ReportFactory=t}((e.ADB.core,t)),function(e,t,n){"use strict";ar i=t.md5,o=t.ObjectUtils,a=e.Event,s=n.model.SessionDao,c=n.model.AdobeAnalyticsDao,u=n.model.ServiceProviderDao,l=n.model.UserDao,d=n.model.AudienceManagerDao,p=n.model.EventDao,f=n.model.AssetDao,h=n.model.StreamDao,_=n.model.QoSDao,g=n.model.AdDao,m=n.model.ChapterDao,v=n.model.TrackItem,C=n.context.ReportFactory,y=n.context.InputDataValidator,A=(r.prototype.destroy=r.prototype._onApiAnalyticsStart=function(e){this._logger.debug(A,"#_onApiAnalyticsStart()");var e=e.data;this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._userData.visitorId(e.vid),this._userData.analyticsVisitorId(e.aid),this._userData.marketingCloudVisitorId(e.mid),this._aamData.audienceManagerBlob(e.blob),this._aamData.audienceManagerLocationHint(e.loc_hint),e.customerIDs&&(this._cuserData=e.customerIDs),this._updateQoSInfo(e),(e=new v(this,p.EVENT_TYPE_AA_START,e.playhead,null,e._eventData[D])).assetData.adData(null),e.assetData.type(f.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(e))},r.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(A,"#_onApiAnalyticsAdStart()");var e=e.data;this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._updateQoSInfo(e),e=new v(this,p.EVENT_TYPE_AA_AD_START,e.playhead,null,e._eventData[D]),this._sendHit(e))},r.prototype._onApiVideoLoad=function(e){e=e.data;this._logger.debug(A,"#_onApiVideoLoad(rsid="+e.rsid+", aa_trackingServer="+e.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(e,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},r.prototype._onApiVideoUnload=function(e){return this._logger.debug(A,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(A,"#_onApiVideoUnload() > No active tracking session.")},r.prototype._onApiVideoStart=function(e){var t,e=e.data;this._logger.debug(A,"#_onApiVideoStart(id="+e.videoId+", name="+e.videoName+", length="+e.videoLength+", type="+e.streamType+", playerName="+e.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playhead","playerName"])&&(this._adobeAnalyticsData.reportSuiteId(e.rsid),this._adobeAnalyticsData.trackingServer(e.trackingServer),this._adobeAnalyticsData.ssl(Number(e.useSsl)),this._serviceProviderData.ovp(e.ovp),this._serviceProviderData.sdk(e.sdk),this._serviceProviderData.channel(e.channel),this._serviceProviderData.libVersion(e.version),this._serviceProviderData.apiLevel(e.apiLvl),this._activeAssetId=e.videoId,this._serviceProviderData.playerName(e.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(e.videoLength),this._assetData.type(f.TYPE_MAIN_CONTENT),this._assetData.publisher(e.publisher),this._assetData.name(e.videoName),this._streamData.type(e.streamType),this._updateQoSInfo(e),t=e.metaNielsen?o.merge(e.metaVideo,e.metaNielsen):e.metaVideo,t=new v(this,p.EVENT_TYPE_START,e.playhead,t,e._eventData[D]),this._sendHit(t))},r.prototype._onApiVideoResume=function(e){var e=e.data;this._logger.debug(A,"#_onApiVideoResume(id="+e.videoId+", name="+e.videoName+", length="+e.videoLength+", type="+e.streamType+", playerName="+e.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playhead","playerName"])&&(this._activeAssetId=e.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(e.videoLength),this._assetData.type(f.TYPE_MAIN_CONTENT),this._assetData.name(e.videoName),this._streamData.type(e.streamType),e=new v(this,p.EVENT_TYPE_RESUME,e.playhead,null,e._eventData[D]),this._sendHit(e))},r.prototype._onApiVideoComplete=function(e){this._logger.debug(A,"#_onApiVideoComplete()");var e=e.data;this._checkCall("_onApiVideoComplete")&&(e=new v(this,p.EVENT_TYPE_COMPLETE,this._assetData.length(),null,e._eventData[D]),this._sendHit(e),this._isVideoComplete=!0)},r.prototype._onApiPlay=function(e){this._logger.debug(A,"#_onApiPlay()");var e=e.data;this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._updateQoSInfo(e),e=new v(this,p.EVENT_TYPE_PLAY,e.playhead,null,e._eventData[D]),this._sendHit(e))},r.prototype._onApiPause=function(e){this._logger.debug(A,"#_onApiPause()");var t,e=e.data;this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._updateQoSInfo(e),t=e.playheadStalled?p.EVENT_TYPE_STALL:p.EVENT_TYPE_PAUSE,t=new v(this,t,e.playhead,null,e._eventData[D]),e._eventData.hasOwnProperty(N)&&(t.filterReport=e._eventData[N]),this._sendHit(t))},r.prototype._onApiBufferStart=function(e){this._logger.debug(A,"#_onApiBufferStart()");var e=e.data;this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._updateQoSInfo(e),e=new v(this,p.EVENT_TYPE_BUFFER,e.playhead,null,e._eventData[D]),this._sendHit(e))},r.prototype._onApiSeekStart=function(e){this._logger.debug(A,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},r.prototype._onApiSeekComplete=function(e){this._logger.debug(A,"#_onApiSeekComplete()");e=e.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(e,["playhead"])){if(e.isInAd){if(!this._inputDataValidator.validateFields(e,["adId","adPosition","podPosition","podPlayerName"]))return;var t,n=i(this._assetData.videoId())+"_"+e.podPosition;this._stashedAdData&&this._stashedAdData.podId()==n&&parseInt(this._stashedAdData.podPosition(),10)==e.adPosition?(this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId()):this._assetData.adData()||(this._activeAssetId=e.adId,(t=new g).adId(this._activeAssetId),t.adName(e.adName),t.adLength(e.adLength),t.podId(n),t.resolver(e.podPlayerName),t.podPosition(e.podPosition+""),t.podName(e.podName),t.podOffset(e.podSecond),t.sid(this._generateSessionId()),this._assetData.adData(t)),this._assetData.type(f.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(e.isInChapter){if(!this._inputDataValidator.validateFields(e,["chapterPosition","chapterLength","chapterOffset"]))return;this._stashedChapterData&&e.chapterPosition==this._stashedChapterData.position()?this._assetData.chapterData(this._stashedChapterData):this._assetData.chapterData()||((n=new m).id(i(this._assetData.videoId())+"_"+e.chapterPosition),n.name(e.chapterName),n.length(e.chapterLength),n.position(e.chapterPosition),n.offset(e.chapterOffset),n.sid(this._generateSessionId()),this._assetData.chapterData(n))}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},r.prototype._onApiAdStart=function(e){var t,e=e.data;this._logger.debug(A,"#_onApiAdStart(id="+e.adId+", player_name="+e.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+e.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(e,["playhead","podPosition","podPlayerName","adId","adPosition"])&&(this._activeAssetId=e.adId,(t=new g).adId(this._activeAssetId),t.adName(e.adName),t.adLength(e.adLength),t.resolver(e.podPlayerName),t.podId(i(this._assetData.videoId())+"_"+e.podPosition),t.podPosition(e.adPosition+""),t.podName(e.podName),t.podOffset(e.podSecond),t.sid(this._generateSessionId()),this._assetData.adData(t),this._assetData.type(f.TYPE_AD),this._updateQoSInfo(e),t=o.merge(e.metaVideo,e.metaAd),t=e.metaNielsen?o.merge(t,e.metaNielsen):t,t=new v(this,p.EVENT_TYPE_START,e.playhead,t,e._eventData[D]),this._sendHit(t))},r.prototype._onApiAdComplete=function(e){this._logger.debug(A,"#_onApiAdComplete()");var e=e.data;this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._assetData.type()!=f.TYPE_AD?this._logger.warn(A,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad."):(this._updateQoSInfo(e),e=new v(this,p.EVENT_TYPE_COMPLETE,e.playhead,null,e._eventData[D]),this._sendHit(e),this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()))},r.prototype._onApiChapterStart=function(e){var t,e=e.data;this._logger.debug(A,"#_onApiChapterStart(name="+e.chapterName+", length="+e.chapterLength+", position="+e.chapterPosition+", chapter_offset="+e.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(e,["playhead","chapterPosition","chapterOffset","chapterLength"])&&((t=new m).id(i(this._assetData.videoId())+"_"+e.chapterPosition),t.name(e.chapterName),t.length(e.chapterLength),t.position(e.chapterPosition),t.offset(e.chapterOffset),t.sid(this._generateSessionId()),this._assetData.chapterData(t),this._updateQoSInfo(e),t=o.merge(e.metaVideo,e.metaChapter),(t=new v(this,p.EVENT_TYPE_CHAPTER_START,e.playhead,t,e._eventData[D])).assetData.adData(null),t.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(t))},r.prototype._onApiChapterComplete=function(e){this._logger.debug(A,"#_onApiChapterComplete()");var e=e.data;this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._assetData.chapterData()?(this._updateQoSInfo(e),(e=new v(this,p.EVENT_TYPE_CHAPTER_COMPLETE,e.playhead,null,e._eventData[D])).assetData.adData(null),e.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(e),this._assetData.chapterData(null)):this._logger.warn(A,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter."))},r.prototype._onApiBitrateChange=function(e){this._logger.debug(A,"#_onApiBitrateChange()");var e=e.data;this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._updateQoSInfo(e),e=new v(this,p.EVENT_TYPE_BITRATE_CHANGE,e.playhead,null,e._eventData[D]),this._sendHit(e))},r.prototype._onApiTrackError=function(e){var t,e=e.data;this._logger.debug(A,"#_onApiTrackError(source="+e._eventData.source+", err_id="+e._eventData.error_id+")"),this._isTrackingSessionActive?!this._trackExternalErrors&&e._eventData.source!==b||(this._updateQoSInfo(e),(t=new v(this,p.EVENT_TYPE_ERROR,0,null,e._eventData[D])).eventData.id(e._eventData.error_id),t.eventData.source(e._eventData.source),this._sendHit(t)):this._logger.warn(A,"#_onApiTrackError() > No active tracking session.")},r.prototype._onApiTrackInternalError=function(e){var e=e.data,t=(this._logger.debug(A,"#_onApiTrackInternalError(source="+e.source+", err_id="+e.error_id+")"),this._updateQoSInfo(e),new v(this,p.EVENT_TYPE_ERROR,0));t.eventData.id(e.error_id),t.eventData.source(e.source),this._sendHit(t)},r.prototype._onApiQuantumEnd=function(e){this._logger.debug(A,"#_onApiQuantumEnd(interval="+this._channel.request(E)+")");e=e.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(e,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(e.playhead),this._updateQoSInfo(e),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},r.prototype._onNetworkCheckStatusComplete=function(e){e=e.data;this._trackExternalErrors=e[B],this._reportingInterval=e[R],this._reportingInterval||(this._reportingInterval=M),this._logger.debug(A,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},r.prototype._onResetSessionId=r.prototype._installEventListeners=r.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},r.prototype._resetInternalState=r.prototype._generateSessionId=r.prototype._updateQoSInfo=r.prototype._checkCall=function(e){return this._isTrackingSessionActive?!this._isVideoComplete||(this._logger.warn(A,"#"+e+"() > The video content already completed."),!1):(this._logger.warn(A,"#"+e+"() > No active tracking session."),!1)},r.prototype._updateLastInBandItem=function(e){var t=(new Date).getTime(),n=1e3*Math.abs(e.eventData.playhead()-this._lastInBandItem.eventData.playhead()),r=Math.abs(t-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()==p.EVENT_TYPE_PAUSE||this._lastInBandItem.eventData.type()==p.EVENT_TYPE_STALL||(n<=r*L||this._doNotOverrideEventDuration)&&r<=this._reportingInterval*L*1e3?this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()):(this._logger.warn(A,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+n+" tsDelta:"+r+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(t),this._lastInBandItem.eventData.playhead(e.eventData.playhead()),this._lastInBandItem.qosData.startupTime(e.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},r.prototype._sendHit=function(e){function t(e){var e=n._reportFactory.createReportForItem(e),t=(e.qosData.isStartupTimeOverridden||e.qosData.startupTime(n._autoComputedStartupTime),{});t[k]=e,n._channel.trigger(new a(re,t)),e.eventData.type()!=p.EVENT_TYPE_PLAY&&e.eventData.type()!=p.EVENT_TYPE_BUFFER&&e.eventData.type()!=p.EVENT_TYPE_START||((r={})[O]=!0,n._channel.command(S,r))}var n=this,r={};switch(e.eventData.type()){case p.EVENT_TYPE_START:case p.EVENT_TYPE_PLAY:case p.EVENT_TYPE_PAUSE:case p.EVENT_TYPE_STALL:case p.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==f.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),e!=this._lastInBandItem)&&t(this._lastInBandItem),t(e),this._lastInBandItem=e,(r={})[O]=!0,this._channel.command(S,r);break;case p.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(e.assetData.type()==f.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),e.assetData.type()==f.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,(r={})[O]=!0,this._channel.command(w,r)):e.assetData.type()==f.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(f.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case p.EVENT_TYPE_CHAPTER_START:case p.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==p.EVENT_TYPE_CHAPTER_START?new m(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),t(this._lastInBandItem));break;default:t(e)}},"ah::Context"),b="sourceErrorSDK",P="error",S="clock:reporting.resume",w="clock:reporting.pause",E="reporting_interval",I="session_id",T="reset_session_id",D="callback",N="filter_report",k="report",O="reset",B="track_external_errors",R="reporting_interval",x="api:aa_start",V="api:aa_ad_start",U="api:video_load",F="api:video_unload",j="api:video_start",G="api:video_complete",q="api:video_resume",Y="api:ad_start",K="api:ad_complete",H="api:play",W="api:pause",J="api:buffer_start",z="api:seek_start",X="api:seek_complete",Q="api:chapter_start",$="api:chapter_complete",Z="api:track_error",ee="api:track_internal_error",te="api:bitrate_change",ne="api:quantum_end",re="context:report_available",ie="net:check_status_complete",L=1.5,M=10;n.context.Context=r}(e.ADB.core,(e.ADB.va,e.ADB.va.utils),t),function(){"use strict";var n="unknown";t.AdobeHeartbeatPluginConfig=function(e,t){this.trackingServer=e,this.publisher=t,this.ssl=!1,this.ovp=n,this.sdk=n,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}}(),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,n){"use strict";ar i=e.Event,o=e.Trigger,a=e.plugin.BasePlugin,s=e.plugin.ParamMapping,c=e.radio.Radio,u=t.ErrorInfo,l=t.Version,d=n.context.Context,p=n.filter.ReportFilter,f=n.network.Network,h=n.clock.Clock,_=n.AdobeHeartbeatPluginConfig,g=(e.extend(r,a),r.prototype.configure=r.prototype.bootstrap=r.prototype._teardown=r.prototype._canProcess=r.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},r.prototype._cmdAnalyticsStart=function(e){var t;this._canProcess()&&((t={})[ae]=e.visitorOptedOut,this._channel.trigger(new i(le,t)),this._channel.trigger(new i(se,e)))},r.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new i(ce,e))},r.prototype._cmdVideoLoad=r.prototype._cmdVideoUnload=r.prototype._cmdVideoStart=function(e){this._canProcess()&&this._channel.trigger(new i(pe,e))},r.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new i(fe,e))},r.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new i(he,e))},r.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},r.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new i(M,e)),this._isPaused=!0,this._runIdleTimer(!0))},r.prototype._cmdAdStart=r.prototype._cmdAdComplete=r.prototype._cmdBufferStart=r.prototype._cmdBufferComplete=r.prototype._cmdSeekStart=r.prototype._cmdSeekComplete=r.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new i(Ae,e))},r.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new i(be,e))},r.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new i(we,e))},r.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new i(Pe,e))},r.prototype._cmdClockReportingTick=r.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(O),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(z))},r.prototype._onError=function(e){this._errorInfo=e.data;e={};e[Z]=Ie,e[ee]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new i(Se,e)),this._runReportingTimer(!1),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},r.prototype._runIdleTimer=function(e){var t={};t[B]=!0,e?this._channel.command(Be,t):this._channel.command(Le,t)},r.prototype._runFlushFilterTimer=function(e){var t={};t[B]=!0,e?this._channel.command(ke,t):this._channel.command(Oe,t)},r.prototype._runReportingTimer=r.prototype._registerCommands=r.prototype._registerBehaviours=r.prototype._setupDataResolver=r.prototype._resumePlaybackIfPossible=r.prototype._resumePlaybackFromIdle="adobe-heartbeat"),m=g,v="adobe-analytics",C="player",y="nielsen",A="service.clock",b="session_id",P="reset_session_id",S="heartbeat-channel",w="error",E="aa_start",I="sc_ad_start",T="video_load",D="video_unload",N="video_start",k="video_resume",R="video_complete",x="play",V="pause",U="ad_start",F="ad_complete",j="buffer_start",G="buffer_complete",q="seek_start",Y="seek_complete",K="chapter_start",H="chapter_complete",W="bitrate_change",J="track_error",z="video_idle_start",X="video_idle_resume",O="quantum_close",Q="heartbeat.reporting.tick",$="heartbeat.idle.tick",B="reset",Z="source",ee="error_id",te="tracking_server",ne="check_status_server",re="publisher",ie="quiet_mode",oe="ssl",ae="visitor_opt_out",se="api:aa_start",ce="api:aa_ad_start",ue="api:config",le="api:update_visitor_optout",de="api:video_load",L="api:video_unload",pe="api:video_start",fe="api:video_complete",he="api:video_resume",_e="api:ad_start",ge="api:ad_complete",me="api:play",M="api:pause",ve="api:buffer_start",Ce="api:seek_start",ye="api:seek_complete",Ae="api:chapter_start",be="api:chapter_complete",Pe="api:track_error",Se="api:track_internal_error",we="api:bitrate_change",Ee="api:quantum_end",Ie="sourceErrorHeartbeat",Te="clock:check_status.resume",De="clock:reporting.resume",Ne="clock:reporting.pause",ke="clock:flush_filter.resume",Oe="clock:flush_filter.pause",Be="clock:idle.resume",Le="clock:idle.pause",Me="clock:check_status.get_settings";n.AdobeHeartbeatPlugin=r}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),function(e){var t;void 0===t&&(t={}),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var r=e.ErrorInfo;n.prototype.validateFields=n.prototype._fail=function(e){e=new r("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,e),!1},t.InputDataValidator=n}(e.ADB.va,t),function(){"use strict";t.AdobeAnalyticsPluginConfig=(),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,n,r){"use strict";ar o=e.Trigger,a=e.plugin.BasePlugin,s=e.plugin.ParamMapping,c=e.radio.Channel,u=e.radio.Command,l=e.radio.CommandQueue,d=t.ErrorInfo,p=n.md5,f=n.StringUtils,h=n.ObjectUtils,_=r.AdobeAnalyticsPluginConfig,g=r.InputDataValidator,m=(e.extend(i,a),i.prototype.configure=i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},i.prototype.setup=i.prototype.setVideoMetadata=function(e){this._videoMetadata=h.clone(e)},i.prototype.setAdMetadata=function(e){this._adMetadata=h.clone(e)},i.prototype.setChapterMetadata=i.prototype._canProcess=i.prototype._cmdVideoLoad=i.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new u(this._executeOpen,this,[e]))},i.prototype._cmdAdStart=i.prototype._cmdHeartbeatPluginError=i.prototype._resetAppMeasurementContextData=i.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playerName"])){for(var t in this._resetAppMeasurementContextData(),e.metaVideo)e.metaVideo.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaVideo[t],this._customMetaKeys.push(t));if(e.metaNielsen)for(var t in e.metaNielsen)e.metaNielsen.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaNielsen[t],this._customMetaKeys.push(t));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.pev3=S,this._appMeasurement.pe=e.isPrimetime?I:E,this._appMeasurement.track();var n=this;setTimeout(function(){n._trigger(N,e)},0)}},i.prototype._executeOpenAd=function(e){var t=p(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){for(n in e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond,this._resetAppMeasurementContextData(),e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaVideo[n],this._customMetaKeys.push(n));for(n in e.metaAd)e.metaAd.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaAd[n],this._customMetaKeys.push(n));if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaNielsen[n],this._customMetaKeys.push(n));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.ad.name"]=e.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=e.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=e.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(e.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=e.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=t,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=w,this._appMeasurement.pe=e.isPrimetime?D:T,this._appMeasurement.track();var r=this;setTimeout(0)}},i.prototype._setupDataResolver=function(){var i={},o=this;i.rsid=function(){return o._appMeasurement.account},i.tracking_server=i.ssl=function(){return o._appMeasurement.ssl},i.vid=function(){return o._appMeasurement.visitorID},i.aid=function(){return o._appMeasurement.analyticsVisitorID},i.mid=function(){return o._appMeasurement.marketingCloudVisitorID},i.blob=function(){return o._appMeasurement.audienceManagerBlob},i.loc_hint=i.customerIDs=function(){var e,t=o._appMeasurement.visitor.getCustomerIDs(),n={};for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if("object"==typeof r){for(var i in r)r.hasOwnProperty(i)&&("authState"==i?n[e+".as"]=r[i]:n[e+"."+i]=r[i]);n[e+".as"]||(n[e+".as"]="0")}}return n},i.channel=i.meta=i.visitorOptedOut=function(){return null!=o._appMeasurement.visitorOptedOut&&o._appMeasurement.visitorOptedOut},this._dataResolver=function(e){if(!e||0==e.length)return null;for(var t=null,n=0;n<e.length;n++){var r=e[n],t=t||{};f.startsWith(r,"meta.")?t[r]=i.meta(r.split("meta.")[1]):t[r]=i.hasOwnProperty(r)?i[r].call(this):null}return t}},i.prototype._registerCommands=i.prototype._registerBehaviours=i.prototype._onAppMeasurementReady=function(){this._workQueue.resume()},"adobe-analytics"),v=m,C="nielsen",y="player",A="adobe-heartbeat",b=2e3,P="error",S="video",w="videoAd",E="ms_s",I="msp_s",T="msa_s",D="mspa_s",N="aa_start",k="sc_ad_start",O="video_load",B="video_start",L="ad_start";r.AdobeAnalyticsPlugin=i}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";e.VideoMetadataKeys={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},e.AdMetadataKeys={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"}}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this),function(x){!x.ADB.va),function(e){"use strict";function t(){this.data={}}var n=e.plugins.videoplayer.VideoInfo,r=e.plugins.videoplayer.AdBreakInfo,i=e.plugins.videoplayer.AdInfo,o=e.plugins.videoplayer.ChapterInfo,a=e.plugins.videoplayer.QoSInfo;t.MEDIAINFO_KEY_NAME="a.name",t.MEDIAINFO_KEY_VIDEOID="a.videoId",t.MEDIAINFO_KEY_ADID="a.adId",t.MEDIAINFO_KEY_LENGTH="a.length",t.MEDIAINFO_KEY_PLAYHEAD="a.playhead",t.MEDIAINFO_KEY_STREAMTYPE="a.streamType",t.MEDIAINFO_KEY_POSITION="a.position",t.MEDIAINFO_KEY_STARTTIME="a.startTime",t.MEDIAINFO_KEY_BITRATE="a.bitrate",t.MEDIAINFO_KEY_FPS="a.fps",t.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",t.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",t.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",t.prototype.setValue=t.prototype.getValue=t.prototype.createVideoInfo=t.prototype.createAdBreakInfo=t.prototype.createAdInfo=function(){var e=new i;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_ADID)?this.getValue(t.MEDIAINFO_KEY_ADID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createChapterInfo=function(){var e=new o;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createQoSInfo=e.MediaObject=t}(x.ADB.va),function(e,t){"use strict";function n(e){n.__super__.constructor.call(this),this._heartbeat=e}function r(e){r.__super__.constructor.call(this),this._heartbeat=e}function i(e){i.__super__.constructor.call(this),this._heartbeat=e}function o(e){o.__super__.constructor.call(this),this._heartbeat=e}e.extend(n,t.plugins.aa.AdobeAnalyticsPluginDelegate),n.prototype.onError=function(e){t.MediaHeartbeat._onDelegateError.call(this._heartbeat,e)},e.extend(r,t.plugins.ah.AdobeHeartbeatPluginDelegate),r.prototype.onError=function(e){t.MediaHeartbeat._onDelegateError.call(this._heartbeat,e)},e.extend(i,t.HeartbeatDelegate),i.prototype.onError=e.extend(o,t.plugins.videoplayer.VideoPlayerPluginDelegate),o.prototype.getVideoInfo=o.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},o.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},o.prototype.getChapterInfo=o.prototype.getQoSInfo=t._MediaAnalyticsPluginDelegate=n,t._MediaHeartbeatPluginDelegate=r,t._ADBMediaHeartbeatDelegate=i,t._MediaHeartbeatVideoPlayerPluginDelegate=o}(x.ADB.core,x.ADB.va),function(e,t){"use strict";function n(){}ar i=t.MediaHeartbeatConfig;t.plugins.nielsen&&(n.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA="media_nielsen_content_metadata",n.MEDIAHEARTBEAT_NIELSEN_AD_METADATA="media_nielsen_ad_metadata",n.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA="media_nielsen_channel_metadata",i.prototype.nielsenConfigKey=void 0,i.prototype.nielsenAppInfo=void 0,e.extend(r,t.plugins.nielsen.NielsenPluginDelegate),r.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var e=this._heartbeat._currentContentMediaObject.getValue(n.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA);if("object"==typeof e)return e}return null},r.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdMediaObject){var e=this._heartbeat._currentAdMediaObject.getValue(n.MEDIAHEARTBEAT_NIELSEN_AD_METADATA);if("object"==typeof e)return e}return null},r.prototype.getChannelInfo=r.prototype.onError=t._MediaHeartbeatNielsen=n,t._MediaHeartbeatNielsenPluginDelegate=r)}(x.ADB.core,x.ADB.va),function(e,r){"use strict";function t(){}function a(e,t,n){if(this._logger=new u,this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._currentContentMediaObject=void 0,this._currentAdMediaObject=void 0,this._videoInfo=void 0,this._adBreakInfo=void 0,this._adInfo=void 0,this._chapterInfo=void 0,this._state={},this._delegate=e,n)this.appMeasurement=n;else{if(!x.s)return void this._logger.error(M,"Valid AppMeasurement instance required for initialising MediaHeartbeat");this.appMeasurement=x.s}t&&"object"==typeof t&&null!=t.trackingServer?(this._config=t,r.MediaHeartbeat._debugLogging||this._config.debugLogging?this._logger.enable():this._logger.disable()):this._logger.error(M,"Valid config required for initialising MediaHeartbeat")}function n(){this._ahPlugin=new A(new P(this));var e=new b(this._config.trackingServer,this.appMeasurement.visitor.marketingCloudOrgID),t=(e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,e.ovp=this._config.ovp||"",e.ssl=this._config.ssl,e.sdk=this._config.appVersion||"",call(this));t&&0<t.length&&(e.__primetime=!0,e.__psdkVersion=t),this._ahPlugin.configure(e),this._plugins.push(this._ahPlugin)}function o(e,t){if(e!=w&&(!this._state[w]||this._state[T]))return!1;if(e===E&&function(){this._state[N]&&this.trackEvent(a.Event.SeekComplete),this._state[D]&&this.trackEvent(a.Event.BufferComplete)}.call(this),!(e===B&&!t)&&(t?!this._state[e]:this._state[e]))return!1;switch(e){case E:this._state[I]=t,this._state[L]=!0;break;case I:this._state[E]=t;break;case B:if(!t&&this._state[O])return!1;break;case O:if(!t&&!this._state[B])return!1}return this._state[e]=!t,!0}unction s(){this._state={}}function c(){this._plugins=[],this._aaPlugin=null,this._ahPlugin=null,this._playerPlugin=null,this._nielsenPlugin=null,this._heartbeat&&(this._heartbeat.destroy(),this._heartbeat=null)}var u=e.Logger,l=r.plugins.videoplayer.AssetType,d=r.MediaObject,p=r.Heartbeat,f=r.HeartbeatConfig,h=r._ADBMediaHeartbeatDelegate,_=r.plugins.videoplayer.VideoPlayerPlugin,g=r.plugins.videoplayer.VideoPlayerPluginConfig,m=r._MediaHeartbeatVideoPlayerPluginDelegate,v=r.plugins.aa.AdobeAnalyticsPlugin,C=r.plugins.aa.AdobeAnalyticsPluginConfig,y=r._MediaAnalyticsPluginDelegate,A=r.plugins.ah.AdobeHeartbeatPlugin,b=r.plugins.ah.AdobeHeartbeatPluginConfig,P=r._MediaHeartbeatPluginDelegate,S=(t.prototype.getCurrentPlaybackTime=function(){return null},t.prototype.getQoSObject=function(){return null},a.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},a.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear"},a.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed"},a.VideoMetadataKeys=r.plugins.aa.VideoMetadataKeys,a.AdMetadataKeys=r.plugins.aa.AdMetadataKeys,a.version=a.prototype.trackSessionStart=function(e,t){if(this._logger.info(M,"#::trackSessionStart()"),o.call(this,w))if(e&&"object"==typeof e&&e.setValue){this._currentContentMediaObject=e,this._videoInfo=e.createVideoInfo(),this._videoInfo.playerName=null!=this._config.playerName?this._config.playerName:"";var n=e.getValue(a.MediaObjectKey.StandardVideoMetadata);if(n&&"object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);var i=e.getValue(a.MediaObjectKey.VideoResumed);i&&"boolean"==typeof i&&(this._videoInfo.resumed=e.getValue(a.MediaObjectKey.VideoResumed)),S.call(this),this._playerPlugin&&(this._aaPlugin&&this._aaPlugin.setVideoMetadata(t),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart())}else(.call(this,w),this._logger.error(M,"Invalid Media Info object");else this._logger.error(M,"API call trackSessionStart is unsupported in the current state.")},a.prototype.trackPlay=function(){return this._logger.info(M,"#::trackPlay()"),o.call(this,E)?void this._playerPlugin.trackPlay():void this._logger.error(M,"API call trackPlay is unsupported in the current state.")},a.prototype.trackPause=function(){return this._logger.info(M,"#::trackPause()"),o.call(this,I)?void(this._playerPlugin&&this._playerPlugin.trackPause()):void this._logger.error(M,"API call trackPause is unsupported in the current state.")},a.prototype.trackComplete=function(){return this._logger.info(M,"#::trackComplete()"),o.call(this,T)?void(this._playerPlugin&&this._playerPlugin.trackComplete(function(){})):void this._logger.error(M,"API call trackComplete is unsupported in the current state.")},a.prototype.trackSessionEnd=function(){return this._logger.info(M,"#::trackSessionEnd()"),o.call(this,w,!0)?(this._playerPlugin&&this._playerPlugin.trackVideoUnload(),s.call(this),void c.call(this)):(s.call(this),c.call(this),void this._logger.error(M,"API call trackSessionEnd is unsupported in the current state."))},a.prototype.trackError=function(e){return this._logger.info(M,"#::trackError()"),i.call(this)?void(this._playerPlugin&&this._playerPlugin.trackVideoPlayerError(e||"unknown_error_id")):void this._logger.error(M,"API call trackError is unsupported in the current state.")},a.prototype.trackEvent=function(e,t,n){switch(e){case a.Event.AdBreakStart:case a.Event.AdBreakComplete:!function(e,t){e==a.Event.AdBreakStart?(this._logger.info(M,"#::trackEvent(AdBreakStart)"),o.call(this,B)?t&&"object"==typeof t&&t.setValue?(this._adBreakInfo=t.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName||""):this._logger.error(M,"Invalid AdBreak Info for MediaHeartbeatEvent.AdBreakStart event."):this._logger.error(M,"API call trackEvent:AdBreakStart is unsupported in the current state.")):(this._logger.info(M,"#::trackEvent(AdBreakComplete)"),o.call(this,B,!0)?this._adBreakInfo=void 0:this._logger.error(M,"API call trackEvent:AdBreakComplete is unsupported in the current state."))}.call(this,e,t);break;case a.Event.AdStart:case a.Event.AdComplete:case a.Event.AdSkip:!function(e,t,n){if(e==a.Event.AdStart)if(this._logger.info(M,"#::trackEvent(AdStart)"),o.call(this,O))if(t&&"object"==typeof t&&t.setValue){this._currentAdMediaObject=t,this._adInfo=t.createAdInfo();var r=t.getValue(a.MediaObjectKey.StandardAdMetadata);if(r&&"object"==typeof r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this._aaPlugin&&this._aaPlugin.setAdMetadata(n),this._playerPlugin.trackAdStart(),this._state[L]||this._state[I]||this.trackPlay()}else this._logger.error(M,"Invalid Ad Info for MediaHeartbeatEvent.AdStart event.");else this._logger.error(M,"API call trackEvent:AdStart is unsupported in the current state.");else e==a.Event.AdComplete?(this._logger.info(M,"#::trackEvent(AdComplete)"),o.call(this,O,!0)?(this._playerPlugin.trackAdComplete(),this._adInfo=null):this._logger.error(M,"API call trackEvent:AdComplete is unsupported in the current state.")):(this._logger.info(M,"#::trackEvent(AdSkip)"),o.call(this,O,!0)?this._adInfo=null:this._logger.error(M,"API call trackEvent:AdSkip is unsupported in the current state."))}.call(this,e,t,n);break;case a.Event.SeekStart:case a.Event.SeekComplete:!function(e){e==a.Event.SeekStart?(this._logger.info(M,"#::trackEvent(SeekStart)"),o.call(this,N)?this._playerPlugin.trackSeekStart():this._logger.error(M,"API call trackEvent:SeekStart is unsupported in the current state.")):(this._logger.info(M,"#::trackEvent(SeekComplete)"),o.call(this,N,!0)?this._playerPlugin.trackSeekComplete():this._logger.error(M,"API call trackEvent:SeekComplete is unsupported in the current state."))}.call(this,e);break;case a.Event.ChapterStart:case a.Event.ChapterComplete:case a.Event.ChapterSkip:!function(e,t,n){e==a.Event.ChapterStart?(this._logger.info(M,"#::trackEvent(ChapterStart)"),o.call(this,k)?t&&"object"==typeof t&&t.setValue?(this._chapterInfo=t.createChapterInfo(),this._aaPlugin&&this._aaPlugin.setChapterMetadata(n),this._playerPlugin.trackChapterStart(),this._state[L]||this._state[I]||this.trackPlay()):this._logger.error(M,"Invalid Chapter Info for MediaHeartbeatEvent.ChapterStart event."):this._logger.error(M,"API call trackEvent:ChapterStart is unsupported in the current state.")):e==a.Event.ChapterComplete?(this._logger.info(M,"#::trackEvent(ChapterComplete)"),o.call(this,k,!0)?(this._chapterInfo=null,this._playerPlugin.trackChapterComplete()):this._logger.error(M,"API call trackEvent:ChapterComplete is unsupported in the current state.")):(this._logger.info(M,"#::trackEvent(ChapterSkip)"),o.call(this,k,!0)?this._chapterInfo=null:this._logger.error(M,"API call trackEvent:ChapterSkip is unsupported in the current state."))}.call(this,e,t,n);break;case a.Event.BufferStart:case a.Event.BufferComplete:!function(e){e==a.Event.BufferStart?(this._logger.info(M,"#::trackEvent(BufferStart)"),o.call(this,D)?this._playerPlugin.trackBufferStart():this._logger.error(M,"API call trackEvent:BufferStart is unsupported in the current state.")):(this._logger.info(M,"#::trackEvent(BufferComplete)"),o.call(this,D,!0)?this._playerPlugin.trackBufferComplete():this._logger.error(M,"API call trackEvent:BufferComplete is unsupported in the current state."))}.call(this,e);break;case a.Event.BitrateChange:!function(){return this._logger.info(M,"#::trackEvent(BitrateChange)"),i.call(this)?void this._playerPlugin.trackBitrateChange():void this._logger.error(M,"API call trackEvent:BitrateChange is unsupported in the current state.")}.call(this);break;case a.Event.TimedMetadataUpdate:!function(e){this._logger.info(M,"#::trackEvent(TimedMetadataUpdate)"),e&&"object"==typeof e&&e.setValue&&(e=e.getValue(d.MEDIAINFO_KEY_TIMEDMETADATA),this._playerPlugin)&&e&&"string"==typeof e&&this._playerPlugin.trackTimedMetadata(e)}.call(this,t)}},r.plugins.nielsen&&(e=r._MediaHeartbeatNielsen,a.MediaObjectKey.NielsenContentMetadata=e.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA,a.MediaObjectKey.NielsenAdMetadata=e.MEDIAHEARTBEAT_NIELSEN_AD_METADATA,a.MediaObjectKey.NielsenChannelMetadata=e.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA,a.prototype.nielsenLoadMetadata=,function(){if(!this.appMeasurement||!this.appMeasurement.visitor)throw new Error("appMeasurement.visitor object cannot be NULL.");(function(){this._aaPlugin=new v(this.appMeasurement,new y(this));var e=new C;e.channel=this._config.channel||"",e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(e),this._plugins.push(this._aaPlugin)}).call(this),n.call(this),call(this),function(){var e;r.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo&&(this._nielsenPlugin=new r.plugins.nielsen.NielsenPlugin(new r._MediaHeartbeatNielsenPluginDelegate(this)),(e=new r.plugins.nielsen.NielsenPluginConfig).debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,e.appInfo=this._config.nielsenAppInfo,e.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(e),this._plugins.push(this._nielsenPlugin))}.call(this),call(this)}),w=1,E=2,I=3,T=4,D=5,N=6,k=7,O=8,B=9,L=10,M=(a.createMediaObject=function(e,t,n,r){var i=new d,o=(i.setValue(d.MEDIAINFO_KEY_VIDEOID,t),i.setValue(d.MEDIAINFO_KEY_NAME,e),i.setValue(d.MEDIAINFO_KEY_LENGTH,n),i.setValue(d.MEDIAINFO_KEY_PLAYHEAD,0),l.ASSET_TYPE_VOD);switch(r){case a.StreamType.VOD:o=l.ASSET_TYPE_VOD;break;case a.StreamType.LIVE:o=l.ASSET_TYPE_LIVE;break;case a.StreamType.LINEAR:o=l.ASSET_TYPE_LINEAR}return i.setValue(d.MEDIAINFO_KEY_STREAMTYPE,o),i},a.createAdBreakObject=a.createAdObject=function(e,t,n,r){var i=new d;return i.setValue(d.MEDIAINFO_KEY_NAME,e),i.setValue(d.MEDIAINFO_KEY_ADID,t),i.setValue(d.MEDIAINFO_KEY_POSITION,n),i.setValue(d.MEDIAINFO_KEY_LENGTH,r),i},a.createChapterObject=function(e,t,n,r){var i=new d;return i.setValue(d.MEDIAINFO_KEY_NAME,e),i.setValue(d.MEDIAINFO_KEY_POSITION,t),i.setValue(d.MEDIAINFO_KEY_LENGTH,n),i.setValue(d.MEDIAINFO_KEY_STARTTIME,r),i},a.createQoSObject=a.createTimedMetadataObject="MediaHeartbeat"),R="a.__pttvsdkVersion";r.MediaHeartbeat=a,r.MediaHeartbeatDelegate=t,r.MediaHeartbeat._onDelegateError=r.MediaHeartbeat._debugLogging=!1}(x.ADB.core,x.ADB.va),x.ADB||(x.ADB={}),x.ADB.core||(x.ADB.core=core),x.ADB.va||(x.ADB.va=va),x.ADB.va.plugins||(x.ADB.va.plugins={})}(this),"undefined"!=typeof self?self:this,function(){return n=[function(e,t){var s={filter:extend:h:function(e,t){if(t=t||0,"object"!=typeof e)return e;var n;if(e instanceof Array)for(var r=[],i=0,o=e.length;i<o;i++)r[i]=s.h(e[i],t-1);else for(var a in r={},e)e.hasOwnProperty(a)&&("object"==typeof(n=e[a])&&0<t&&(n=s.h(n,t-1)),r[a]=n);return r}};e.exports.filter=s.filter,e.exports.extend=s.extend,e.exports.h=s.h},function(e,t){var n,r=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],i=(n=["c","s","r"],{g:0,m:1,S:2,toString:function(e){return n[e]}});e.exports.I={PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(e){return r[e]}},e.exports.P={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},e.exports.A=i},function(e,t,n){var a=n(0),r=n(58),s=n(59),c=n(5),u=n(60),l=n(64),d=n(65),p=n(66),f=n(67),h=n(69),_=n(72),g=n(73),m=n(74),v=n(75),C=n(76),y=n(37),A=n(79),b={D:"PLATFORM",C:"defaultLiveEndpointUrl",L:"defaultSecureLiveEndpointUrl",T:"httpGet",N:"httpPost",Storage:"Storage",O:"offlineCache",R:"migratedStorage",k:"migratedIO",M:"defaultStorageWriteInterval",U:"onDataFetch",W:"getCrossPublisherUniqueDeviceId",F:"getApplicationName",B:"getApplicationVersion",V:"getPublisherSpecificUniqueDeviceId",G:"getPublisherSpecificUniqueDeviceIdSuffix",j:"getDeviceModel",H:"getPlatformVersion",K:"getPlatformName",J:"getRuntimeName",Y:"getRuntimeVersion",X:"getDisplayResolution",Z:"getApplicationResolution",nn:"getLanguage",tn:"getPackageName",setPlatformAPI:"setPlatformAPI",setTimeout:"setTimeout",setInterval:"setInterval",clearTimeout:"clearTimeout",clearInterval:"clearInterval",en:"getDeviceArchitecture",in:"getConnectionType",rn:"getDeviceJailBrokenFlag",un:"updateMeasurementLabels",sn:"standardOutputLog",an:"defaultSystemClockJumpDetectorNormalContextInterval",fn:"defaultSystemClockJumpDetectorAlternativeContextInterval",cn:"isNormalContext",ln:"addContextChangeListener",dn:"removeContextChangeListener",vn:"addEnvironmentExitListener",_n:"removeEnvironmentExitListener",pn:"overrideCollectedC12Value",hn:"defaultC12OverrideValue"};e.exports=new function(){var t,i;.extend(this,{gn:null,PlatformApis:s,mn:null,yn:setPlatformApi:function(e,t){var n,r;if("number"==typeof e)n=e,r=t||{};else{if("object"!=typeof e)return;n=s.Skeleton,r=e}o(n),a.extend(i,function(e){var t,n={};for(t in b){var r=b[t];r in e&&(n[t]=e[r])}return n}(r))}}),t=!1,this.mn=i=a.h(c),this.gn=new r(this)}},function(e,t){e.exports={Sn:"unknown",wn:"0x0",bn:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},function(e,t){var n,r={};r.In=(n=1,,r.En=r.Pn=r.An=r.Dn=r.Ln=r.Tn=r.Cn=r.Nn=e.exports.Nn=r.Nn,e.exports.Cn=r.Cn,e.exports.Tn=r.Tn,e.exports.Ln=r.Ln,e.exports.Dn=r.Dn,e.exports.An=r.An,e.exports.Pn=r.Pn,e.exports.In=r.In,e.exports.uuid=r.En},function(e,t,n){var r=n(18),i=n(13),o=n(8),a=n(3),s=n(9),c=a.Sn,u=a.wn;e.exports={D:"generic",C:"http://b.scorecardresearch.com/p2",L:"https://sb.scorecardresearch.com/p2",T:i,N:null,Storage:o,O:!1,R:null,k:null,M:0,U:W:function(){return null},F:function(){return c},B:function(){return c},V:function(){return+new Date+~~(1e3*Math.random())},G:function(){return"72"},j:function(){return c},H:function(){return c},K:function(){return"js"},J:function(){return c},Y:function(){return c},X:function(){return u},Z:function(){return u},nn:function(){return c},tn:function(){return c},setPlatformAPI:function(){},setTimeout:function(e,t){return setTimeout(e,t)},setInterval:clearTimeout:function(e){return clearTimeout(e)},clearInterval:function(e){return clearInterval(e)},en:function(){return c},in:function(){return s.UNKNOWN},rn:function(){return c},un:function(e){},sn:function(e){console.log(e)},an:3e3,fn:3e4,cn:ln:function(e){r.On()&&r.kn(e)},dn:vn:function(e){},_n:function(e){},pn:!1,hn:"_"}},function(e,t){t.Un=function(e,t){var n;"undefined"!=typeof XMLHttpRequest?((n=new XMLHttpRequest).open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},t.xn=function(e,t,n){var r;"undefined"!=typeof XMLHttpRequest?((r=new XMLHttpRequest).open("POST",e,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(t)):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},function(e,t,n){var r=n(0);e.exports=function(e){var t;try{t="undefined"!=typeof localStorage?localStorage:null}catch(e){t=null}r.extend(this,{storeProperties:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_settings",e):t&&(t.Bn=e)}catch(e){}},getProperties:function(){if(!t)return null;try{return"function"==typeof t.getItem?t.getItem("cs_settings"):t?t.Bn:void 0}catch(e){}},storeCache:getCache:function(){if(!t)return null;try{return"function"==typeof t.getItem?t.getItem("cs_cache"):t?t.Vn:void 0}catch(e){}}})}},function(e,t,n){var r=n(0);e.exports=function(){var n="undefined"!=typeof localStorage?localStorage:null;r.extend(this,{get:function(e){try{return n&&"function"==typeof n.getItem?n.getItem("cs_"+e):n&&n["cs_"+e]}catch(e){}},remove:clear:)}},function(e,t,n){var d=n(21),r=n(0);e.exports=function(){var o=this,s="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,a="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,c="undefined"!=typeof localStorage?localStorage:null,u={},l=c&&s&&a;r.extend(o,{dir:function(e){if(l){e="cs_dir_"+e;if(n=u[e])return n.slice();var t=c.getItem(e);if(t){for(var n=[],r=0,i=(t=t.split("|")).length;r<i;r++)0<t[r].length&&n.push(a(t[r]));return(u[e]=n).slice()}}return null},append:write:function(e,t,n){if(l){var r=o.dir(e);if(r||(i="cs_dir_"+e,"function"==typeof c.setItem?c.setItem(i,""):c[i]="",u[i]=[],r=[]),-1==d.indexOf(t,r)){i=t;r="cs_dir_"+e;try{"function"==typeof c.setItem?c.setItem(r,c.getItem(r)+"|"+s(i)):c[r]=c.getItem(r)+"|"+s(i)}catch(e){}u[r].push(i)}r=e,e=t,t=n;try{"function"==typeof c.setItem?c.setItem("cs_file_"+r+e,t):c["cs_file_"+r+e]=t}catch(e){}}var i},deleteFile:function(e,t){var n;return!!l&&!!(n=o.dir(e))&&-1!=d.indexOf(t,n)&&(e,t),!0)},read:function(e,t){if(l){var n=o.dir(e);if(!n||-1==d.indexOf(t,n));else{n=e;e=t;try{return"function"==typeof c.getItem?c.getItem("cs_file_"+n+e):c["cs_file_"+n+e]}catch(e){}return}}return null}})}},function(e,t){e.exports=function(e,t,n){var r;"undefined"!=typeof Image?((r=new Image).onload=r.onerror=r.src=e):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},function(e,t,n){var d=n(0),r=n(1).P;t._t=function(e){var t,n={};for(t in e){var r=e[t];n[t]=null==r?r:e[t]+""}return n},t.pt=t.ht=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.gt=function(e,t,n,r){var i=d.h(e,1),o={start:t,end:n};if(!(o.end<=o.start)){for(var a=0;a<i.length;++a){var s=i[a];if(s.start<=o.start&&o.end<=s.end)break;if(s.start<=o.start&&o.start<=s.end&&s.end<=o.end)break;if(o.start<=s.start&&s.start<=o.end&&o.end<=s.end)break;if(o.end<=s.start)break}i.splice(a,0,o);for(var c=1;c<i.length;){var u=i[c],l=i[c-1];l.start<=u.start&&u.end<=l.end?i.splice(c,1):u.start<=l.start&&l.end<=u.end?i.splice(c-1,1):l.start<=u.start&&u.start<=l.end+r&&l.end<=u.end?i.splice(c-1,2,{start:l.start,end:u.end}):u.start<=l.start&&l.start-r<=u.end&&u.end<=l.end?i.splice(c-1,2,{start:u.start,end:l.end}):c++}}return i},t.yt=t.St=t.wt=,function(e,t,n){n={VERSION:"7.6.1.210506",bt:!0,It:5e3,Et:!0,Pt:n(25).STANDARD,At:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ar","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","cs_partner","cs_xcid","cs_impid","cs_proid","cs_dc_di","cs_dc_ci","cs_dc_ei","ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_ap_ut","ns_ap_er","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_cn","ns_st_ev","ns_st_sp","ns_st_sc","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_dppc","ns_st_dapc","ns_st_dspc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_po","ns_st_lda","ns_st_ldw","ns_st_ldo","ns_st_hc","ns_st_hd","ns_st_mp","ns_st_mv","ns_st_cl","ns_st_sl","ns_st_pn","ns_st_tp","ns_st_ct","ns_st_ad","ns_st_li","ns_st_ty","ns_st_ci","ns_st_si","ns_ap_et","ns_ap_ar","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_cs","ns_ap_fg","ns_ap_dft","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_usage","ns_category","category","ns_radio","ns_st_pt","ns_st_ipt","ns_st_iap","ns_st_iet","ns_st_iupc","ns_st_iupa","ns_st_ilpc","ns_st_ilpa","ns_st_ibc","ns_st_ibt","ns_st_itpc","ns_st_icpc","ns_st_ae","ns_st_er","ns_st_cfg","ns_st_rcn","ns_st_cpo","ns_st_ui","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c6","ca6","cb6","cc6","cd6","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_ce","ns_st_ia","ns_st_pu","ns_st_st","ns_st_stc","ns_st_sta","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_ge","ns_st_tge","ns_st_cs","ns_st_ft","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amw","ns_st_amt","ns_st_ams","ns_st_cde","ns_st_cds","ns_st_cdc","ns_st_cda","ns_st_cdm","ns_st_cmt","ns_st_amd","ns_st_amo","ns_st_sr","ns_st_pl","ns_st_ca","ns_st_cp","ns_st_fee","ns_st_dskc","ns_st_dska","ns_st_skd","ns_st_dskt","ns_st_dpc","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","cs_ucfr","gdpr","gdpr_p1t","gdpr_li","gdpr_pcc","gdpr_purps","gdpr_consent","c5","c10","c11","c13","c14","c15","c16","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_ft","ns_ap_bt","ns_ap_it","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_lang","ns_ap_miss","ns_ap_jb","ns_ap_oc","ns_c","ns_st_cev","ns_st_lt","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_rp","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_pb","ns_st_dpt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_upa","ns_st_dupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_dtpc","ns_st_dcpc","ns_st_skc","ns_st_ska","ns_st_skt","ns_st_pc","ns_st_pp","ns_st_pa","c7","c8","c9","ns_st_cu","ns_st_amc"]};e.exports=n},function(e,t,n){var E=n(0),I=n(32),T=n(84),D=n(28),N=n(30),k=n(19),O=n(2).mn,B=n(26),L=n(27),M=n(87),R=n(88),x=n(41),V=n(33),U=n(89),F=n(43),j=n(90),G=n(11),q=n(91),Y=n(15),K=n(38),H=n(29),W=n(92),n=new function(){var u,o,l,n,d,i,a,r,s,c,p,f,h,_,g,m,v,C,y,A=this;ction w(e){var t;if(e instanceof N)t=e;else{t=new N,"object"==typeof e&&t.addLabels(e);var n=g.getIncludedPublishers();if(0<n.length)for(var r=0;r<n.length;++r)t.addIncludedPublisher(n[r])}return 0<t.getIncludedPublishers().length&&0<g.getPartnerConfigurations().length&&t.addIncludedPublisher(I.ee),t}n=new R(,_=h=f=p=c=!(s=!0),g=new I,v=new W,y=[],g.addListener(function(e){switch(e){case D.DISABLE:!function(){s&&(s=!1,p&&O.clearTimeout(C),_&&(r.stop(),H.Bt().Ft()),(c||p)&&(o.Vt(this),o.qt(this),o.Gt()),a)&&a.jt()}();break;case D.TIME_WINDOW_ELAPSED:l=new T(o,u,a,n,i,d,v),(r=new x(u)).Ht(A),S(),0<=g.getUsagePropertiesAutoUpdateInterval()&&o.Kt(g.getUsagePropertiesAutoUpdateInterval(),g.Jt()==L.FOREGROUND_ONLY),r.Yt(g.isKeepAliveMeasurementEnabled()),H.Bt().Xt(g),_=!0,u.zt();for(var t=0;t<y.length;++t)(0,y[t])();y=[];break;case D.PARTNER:case D.PUBLISHER:_&&(S(),u.zt());break;case D.OFFLINE_CACHE_MODE:break;case D.KEEP_ALIVE:_&&r.Yt(g.isKeepAliveMeasurementEnabled());break;case D.Qt:v.Yt(!1)}}),E.extend(A,{configuration:g,start:function(){var e,t,n,r;g.ie(),c||p||(p=!0,t=+new Date,m=new K(g),n=u=new M(m),(r=new j).re(n),r.oe(),a=new V(u,m),(n=new q(m,u,a)).ue(),n.se(),v.ae(u),d=new F(u,v),s&&(i=new U(u,g),o=new B(u,t),v.$t()&&v.Zt(),o.fe(A),o.ce(A),h||(e=t,s&&P(e,!1,!0),h=!0),c=!0,u.zt(),C=O.setTimeout(Y.It)))},ve:function(e){var t;s&&P(function(){l.ve(t,w(e),g)},t=+new Date)},notifyDistributedContentViewEvent:function(e,t){var n;g.getPartnerConfiguration(e)&&((n=new k)._e(!1),n.addIncludedPublisher(I.ee),n.setLabel("ns_ap_ev","distributed_view"),n.setLabel("cs_dc_di",e),n.setLabel("cs_dc_ci",t),A.pe(n))},pe:function(e){var t;s&&P(t=+new Date)},notifyUxActive:function(){var e;s&&P(function(){o.notifyUxActive(e)},e=+new Date)},notifyUxInactive:function(){var e;s&&P(function(){o.notifyUxInactive(e)},e=+new Date)},notifyEnterForeground:function(){var e;s&&P(function(){o.notifyEnterForeground(e)},e=+new Date,!0)},notifyExitForeground:function(){var e;s&&P(function(){o.notifyExitForeground(e)},e=+new Date,!0)},flushOfflineCache:clearOfflineCache:clearInternalData:ge:function(){return v},me:Se:Ee:function(e,t){var n;s&&(n=_?n():y.push(n))},Pe:function(e,t){},Ae:function(e,t){}})};e.exports=n},function(e,t){var n,r,i,o,a={De:function(){try{return"undefined"!=typeof document}catch(e){return!1}},Ce:On:function(){var e;return!!a.De()&&(e=!1,void 0!==document.hidden||void 0!==document.mozHidden||void 0!==document.msHidden||void 0!==document.webkitHidden||e)}};a.Le=a.De()?(void 0!==document.hidden?(n="hidden",r="visibilitychange",i="visibilityState"):void 0!==document.mozHidden?(n="mozHidden",r="mozvisibilitychange",i="mozVisibilityState"):void 0!==document.msHidden?(n="msHidden",r="msvisibilitychange",i="msVisibilityState"):void 0!==document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange",i="webkitVisibilityState"),o={hidden:n,Te:r,state:i},function(){return o}):null,a.Rn=function(){var e;return!!a.De()&&!!a.On()&&(e=a.Le(),document[e.hidden])},a.kn=function(e){var t;a.De()&&a.On()&&(t=a.Le(),document.addEventListener(t.Te,e,!1))},a.Mn=function(e){var t;a.De()&&a.On()&&(t=a.Le(),document.removeEventListener(t.Te,e,!1))},a.Ne=function(){var e,t,n,r;return a.Ce()?(n=navigator.userAgent||"",r=navigator.appName||"",-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(r=n.substring(e,t)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName):r="unknown",r):""},a.Oe=function(){var e,t,n,r;return a.Ce()?(t=navigator.userAgent||"",n=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"",-1!=(e=t.indexOf("Opera"))?(r=t.substring(e+6),-1!=(e=t.indexOf("Version"))&&(r=t.substring(e+8))):-1!=(e=t.indexOf("OPR/"))?r=t.substring(e+4):-1!=(e=t.indexOf("Android"))?r=t.substring(e+11):-1!=(e=t.indexOf("Chrome"))?r=t.substring(e+7):-1!=(e=t.indexOf("Safari"))?(r=t.substring(e+7),-1!=(e=t.indexOf("Version"))&&(r=t.substring(e+8))):-1!=(e=t.indexOf("Firefox"))?r=t.substring(e+8):"Microsoft Internet Explorer"==n?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(r=parseFloat(RegExp.$1)):"Netscape"==n?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(r=parseFloat(RegExp.$1)):r=t.lastIndexOf(" ")+1<(e=t.lastIndexOf("/"))?t.substring(e+1):"unknown",-1!=(n=(r=-1!=(n=(r=-1!=(n=(r=r.toString()).indexOf(";"))?r.substring(0,n):r).indexOf(" "))?r.substring(0,n):r).indexOf(")"))&&(r=r.substring(0,n)),t=parseInt(""+r,10),isNaN(t)?""+parseFloat(navigator.appVersion):r):""},a.Re=a.ht=a.ke=e.exports.On=a.On,e.exports.Le=a.Le,e.exports.Rn=a.Rn,e.exports.Ne=a.Ne,e.exports.Oe=a.Oe,e.exports.Re=a.Re,e.exports.ht=a.ht,e.exports.ke=a.ke,e.exports.kn=a.kn,e.exports.Mn=a.Mn},function(e,t,n){var s=n(0),r=n(56),i={We:Be:_t:function(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]=null==n?n:e[t]+"");return r},Fe:Ve:;e.exports=i},function(e,t){var i={indexOf:forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var r,i=void 0!==e.__proto__;for(r in e)!e.hasOwnProperty(r)||i&&void 0!==e.__proto__[r]||"function"==typeof e[r]||t.call(n,e[r],r)}else for(var o=0,a=e.length;o<a;o++)t.call(n,e[o],o)}catch(e){}}};t.indexOf=i.indexOf,t.forEach=i.forEach},function(e,t){e.exports=require("os")},function(e,t){var r,n={};nction a(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function c(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function u(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function l(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}n.Ge=(r="0123456789abcdef".split(""),function(e){for(var t=function(e){for(var t=e.length,n=[1732584193,-271733879,-1732584194,271733878],r=64;r<=e.length;r+=64)o(n,e.substring(r-64,r)));e=e.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),55<r)for(o(n,i),r=0;r<16;r++)i[r]=0;return i[14]=8*t,o(n,i),n}(e),n=0;n<t.length;n++)t[n]=t[n]);return t.join("")}),e.exports=n.Ge},function(e,t){e.exports={DISABLED:4,LAN:3,MANUAL_FLUSH:2,ENABLED:1}},function(e,t){e.exports={STANDARD:1,LAN:2,CACHE:3}},function(e,t,n){var L=n(0),M=n(2).mn,R=n(11),n=n(27),x={je:2,He:3,we:4},V={Ke:1,Je:2,we:3};function r(r,e){var c,u,l,d,p,f,i,o,a,s,h,_,g,m,v,C,y,A,n,b,t,P,S=this,w=[],E=[];function I(e){if((t=u?V.Ke:l?V.Je:V.we)!=d){var t;if(d!=t){var n=d,r=e;switch(n){case V.we:break;case V.Je:case V.Ke:N()}for(var i=0;i<E.length;++i)E[i].Se(n,r);var o=t,a=e;switch(o){case V.we:break;case V.Je:p||D();break;case V.Ke:D(),f++}for(var s=0;s<E.length;++s)E[s].Ee(o,a);T(e,!0),d=t}}}unction D(){N(),0<n&&(t=M.setTimeout(n))}function N(){t&&(M.clearTimeout(t),t=null)}function k(e){if((t=l?x.je:u?x.He:x.we)!=c){var t;if(c!=t){var n=c,r=e;switch(n){case x.je:case x.He:m=r;break;case x.we:B(r)||(v+=r-C)}for(var i=0;i<w.length;++i)w[i].Pe(n,r);var o=t,a=e;switch(o){case x.je:case x.He:B(a)}for(var s=0;s<w.length;++s)w[s].Ae(o,a);O(e,!0),c=t}}}unction B(e){var t=!1;return 18e5<e-m&&(A=y,r.put(R.ft,A),y=e,r.put(R.at,y),b++,t=!0),m=e,t}f=0,p=!1,d=V.we,c=x.we,l=u=!1,m=C=i=A=y=-1,b=n=v=_=o=s=g=h=a=0,i=r.get(R.zn,-1),C=r.get(R.Qn,-1),m=r.get(R.$n,-1),f=r.get(R.Zn,0),o=r.get(R.nt,0),s=r.get(R.tt,0),_=r.get(R.et,0),a=r.get(R.it,0),h=r.get(R.rt,0),g=r.get(R.ot,0),v=r.get(R.ut,0),b=r.get(R.st,0),P=e,A=r.get(R.ft,0),(y=r.get(R.at,-1))<0?(y=P,r.put(R.at,y),A=0,r.put(R.ft,A),m=y,b++):(B(P)||(v+=P-C,r.put(R.ut,v)),m=y),P=e,0<i&&(_+=e=P-i,r.put(R.et,_),g+=e,r.put(R.ot,g)),C=i=P,r.put(R.Qn,C),r.put(R.zn,i),r.put(R.$n,m),L.extend(S,{Xe:function(){return d},notifyUxActive:function(e){l||(l=!0,I(e),k(e),r.zt())},notifyUxInactive:function(e){l&&(l=!1,I(e),k(e),r.zt())},notifyEnterForeground:notifyExitForeground:Ye:Kt:function(e,t){n=1e3*e,p=t,(0<e&&(d==V.Ke||d==V.Je&&!t)?D:N)()},ze:function(e){var t=b;return(e=void 0===e?!0:e)&&(b=0,r.put(R.st,b)),t},Qe:function(e){var t=v;return(e=void 0===e?!0:e)&&(v=0,r.put(R.ut,v)),t},$e:function(e){var t=_;return(e=void 0===e?!0:e)&&(_=0,r.put(R.et,_)),t},Ze:function(e){var t=g;return(e=void 0===e?!0:e)&&(g=0),r.put(R.ot,g),t},ni:function(e){var t=s;return(e=void 0===e?!0:e)&&(s=0,r.put(R.tt,s)),t},ti:function(e){var t=o;return(e=void 0===e?!0:e)&&(o=0,r.put(R.nt,o)),t},ei:function(e){var t=a;return(e=void 0===e?!0:e)&&(a=0),r.put(R.it,a),t},ii:function(e){var t=f;return(e=void 0===e?!0:e)&&(f=0,r.put(R.Zn,f)),t},ri:function(e){var t=h;return(e=void 0===e?!0:e)&&(h=0),r.put(R.rt,h),t},oi:function(){return y},ui:function(){return A},fe:function(e){E.push(e)},Vt:function(e){e=E.indexOf(e);-1!=e&&E.splice(e,1)},ce:function(e){w.push(e)},qt:function(e){e=w.indexOf(e);-1!=e&&w.splice(e,1)},Gt:function(){N()}})}r.si=n.FOREGROUND_ONLY,r.ai=60,r.fi=x,r.be=V,e.exports=r},function(e,t,n){var r,_=n(0),g=n(2).mn,m={ci:1,li:2,di:3},v=+new Date;function i(){var n,t,r,i,o,a,s,c,u,l;unction p(){var t=s?c:u;i=+new Date,o=i+t,n=g.setInterval(function(){var e=(i=+new Date)-o;o=i+t,Math.abs(e)>l&&f(0<e?m.di:i<r?m.li:m.ci)},t)}extend(this,{Xt:Ft:gi:function(e){a.push(e)},mi:function(e){e=a.indexOf(e);-1!=e&&a.splice(e,1)},yi:function(e){var t;n?o<e&&l<e-o?t=m.di:e<r?t=m.li:e<i&&(t=m.ci):e<r&&(t=m.li),t&&(f(t),n)&&(h(),p()),r=e}}),n=null,r=v,s=!(t=!(a=[])),u=c=-1,l=1e3}i.Si=1e3,i.ENABLED=!0,i.wi=m,i.Bt=e.exports=i},function(e,t,n){var u=n(0),l=n(7),d=n(52);function r(){var e,n,r,t,i,o=this;unction s(e,t){l.Wn(n,e,t)}=!(n={}),r={},e=new d,s("ns_st_li","0"),s("ns_st_ty","video"),u.extend(o,e),u.extend(o,{setMediaType:classifyAsAudioStream:function(e){s("ns_st_ty",(i=e=null==e?!0:e)?"audio":"video"),a(t,i)},classifyAsCompleteEpisode:function(e){(e=null==e?!0:e)?s("ns_st_ce","1"):c("ns_st_ce")},carryTvAdvertisementLoad:function(e){(e=null==e?!0:e)?s("ns_st_ia","1"):c("ns_st_ia")},setLength:function(e){s("ns_st_cl",e)},setTotalSegments:function(e){s("ns_st_tp",e)},setClipUrl:function(e){s("ns_st_cu",e)},setFeedType:function(e){s("ns_st_ft",e)},setVideoDimensions:function(e,t){s("ns_st_cs",(e=e||0)+"x"+(t=t||0))},setStack:function(e,t){r[e]=t},getStandardLabels:function(){return u.extend({},e.getStandardLabels(),n)},getMetadataLabels:getStacks:function(){return r}})}u.extend(r,d);var p={LONG_FORM_ON_DEMAND:"12",SHORT_FORM_ON_DEMAND:"11",LIVE:"13",USER_GENERATED_LONG_FORM_ON_DEMAND:"22",USER_GENERATED_SHORT_FORM_ON_DEMAND:"21",USER_GENERATED_LIVE:"23",BUMPER:"99",OTHER:"00"};r.ContentType=p,r.ContentFeedType={EAST_HD:"EASTHD",WEST_HD:"WESTHD",EAST_SD:"EASTSD",WEST_SD:"WESTSD",OTHER:"OTHER"},e.exports=r},function(e,t,n){var Y=n(0),K=n(7),H=n(4),W=n(33),J=n(24),z=n(15),r=n(3),X=n(26),Q=n(38),$=n(28),Z=n(82),ee=n(42),te=n(39),ne=n(2),re=ne.mn,ie=n(29),oe=r.Sn;function ae(){var o,a,t,s,r,R,c,n,u,i,l,d,p,f,h,_,g,m,x,v,C,e,y,A,b,P,S,w,E,I,V,T,D,N,k,O,B,U,F,L=this;function j(){if(function(){if(0<y.length){for(var e=!1,t=0;t<f.length;++t){var n=f[t];if(-1!=y.indexOf(n.getPublisherId())){e=!0;break}}return e=!e&&0<h.length&&-1!=y.indexOf("21193409")?!0:e}return 1}()){var e;if(q(),l){var t=l.split("?");if(l=t[0],t[1])for(var n=t[1].split("&"),r=0;r<n.length;r++){var i=n[r].split("=");c[i[0]]=i[1]||""}}else t=re.L,e=re.C,l=o?H.Nn(t)?t():t:H.Nn(e)?e():e;p&&p!=W.bi||(p=o?W.Ii:W.bi),0<h.length&&0==f.length&&G(),s=!0,M($.TIME_WINDOW_ELAPSED)}}function G(){var e;R||(R=!0,e=new ee({publisherId:I.getPublisherId(),publisherSecret:I.getPublisherSecret()}),f.push(e),M($.PUBLISHER))}function q(){if(0!=f.length)for(var e=0;e<f.length;++e){var t=f[e];t.getPublisherId()!=I.getPublisherId()&&(o=t.isSecureTransmissionEnabled(),u=t.isKeepAliveMeasurementEnabled(),a=t.isHttpRedirectCachingEnabled())}if(0!=h.length)for(var n=1==f.length&&f[0].getPublisherId()==I.getPublisherId(),r=0;r<h.length;++r){var i=h[r];n&&i.isSecureTransmissionEnabled()&&(o=!0),u=i.isKeepAliveMeasurementEnabled(),a=i.isHttpRedirectCachingEnabled()}}.extend(L,{ie:addListener:de:function(){!r&&(r=!0,0<h.length||0<f.length)&&j()},addClient:function(e){if(e instanceof te&&function(e){if(e.getPartnerId()){for(var t=0;t<h.length;++t)if(h[t].getPartnerId()==e.getPartnerId())return;h.push(e),G(),r&&(s?q:j)(),M($.PARTNER)}}(e),e instanceof ee){var t=e;if(t.getPublisherId()&&t.getPublisherSecret()&&t.getPublisherId()!=ae.ee){for(var n=0;n<f.length;++n)if(f[n].getPublisherId()==t.getPublisherId())return;0<f.length&&f[f.length-1].getPublisherId()==I.getPublisherId()?f.splice(f.length-1,0,t):f.push(t),r&&(s?q:j)(),M($.PUBLISHER)}}},Ei:function(){var e="";return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e+(o?"1":"0")+(u?"1":"0"))+(a?"1":"0")+(t?"1":"0"))+(T?"1":"0")+(O?"1":"0"))+(_?"1":"0")+"-")+(i+"")+(d+""))+(w+"")+"-")+E.toString(16).toUpperCase()+"-")+A.toString(16).toUpperCase()+"-")+b.toString(16).toUpperCase()+"-")+S.toString(16).toUpperCase()+"-")+P.toString(16).toUpperCase()+"-")+(D/100).toString(16).toUpperCase()+"-")+(N/100).toString(16).toUpperCase()+"-")+(k/100).toString(16).toUpperCase()},Pi:function(e){for(var t=0;t<f.length;++t)if(f[t].getPublisherId()==e)return!0;return!1},Ai:getPartnerConfiguration:function(e){for(var t=0;t<h.length;++t){var n=h[t];if(n.getPartnerId()==e)return n}return null},getPublisherConfiguration:Di:getPublisherConfigurations:function(){return f},getPartnerConfigurations:function(){return h},getLabelOrder:function(){return x},setLabelOrder:Ci:function(){return l},setLiveEndpointUrl:Li:function(){return p},setOfflineFlushEndpointUrl:function(e){s||(p=e)},F:function(){return g},setApplicationName:function(e){s||(g=e)},setApplicationVersion:function(e){s||(m=e)},B:function(){return m},Ti:function(){return re.tn()},setPersistentLabel:function(e,t){K.Wn(c,e,t)&&M($.PERSISTENT_LABELS)},removeAllPersistentLabels:function(){c={},M($.PERSISTENT_LABELS)},removePersistentLabel:function(e){delete c[e],M($.PERSISTENT_LABELS)},getPersistentLabels:function(){return c},getPersistentLabel:function(e){return c[e]},containsPersistentLabel:function(e){return null!=c[e]},addPersistentLabels:function(e){K.Fn(c,e),M($.PERSISTENT_LABELS)},setStartLabel:removeAllStartLabels:removeStartLabel:addStartLabels:getStartLabels:function(){return n},Ni:function(e){return n[e]},containsStartLabel:function(e){return null!=n[e]},isKeepAliveMeasurementEnabled:function(){return u},isSecureTransmissionEnabled:function(){return o},isHttpRedirectCachingEnabled:function(){return a},setLiveTransmissionMode:function(e){e&&(i=e,M($.LIVE_TRANSMISSION_MODE))},Oi:function(){return i},enableImplementationValidationMode:function(){s||(t=!0)},Ri:function(){return t},setOfflineCacheMode:ki:function(){return d},setUsagePropertiesAutoUpdateMode:function(e){!e||s||(w=e)},Jt:function(){return w},setUsagePropertiesAutoUpdateInterval:function(e){s||(E=e)},getUsagePropertiesAutoUpdateInterval:function(){return E},setCacheMaxMeasurements:function(e){s||(A=e)},Mi:function(){return A},setCacheMaxFlushesInARow:function(e){s||(b=e)},Ui:function(){return b},setCacheMinutesToRetry:function(e){s||(P=e)},xi:function(){return P},setCacheMeasurementExpiry:function(e){s||(S=e)},Wi:function(){return S},isEnabled:function(){return e},Fi:function(){return s},disable:function(){e&&(e=!1,M($.DISABLE))},disableTcfIntegration:removeListener:function(e){H.Nn(e)&&-1!=(e=v.indexOf(e))&&v.splice(e,1)},Bi:function(){return L.getPublisherConfiguration("21193409")},setDebugEnabled:function(e){s||(V=e)},Vi:function(){return V},setSystemClockJumpDetectionEnabled:vi:function(){return T},setSystemClockJumpDetectionInterval:function(e){s||(e=100*Math.floor(e/100),D=e)},setSystemClockJumpDetectionAlternativeContextInterval:function(e){s||(e=100*Math.floor(e/100),N=e)},_i:function(){return D},pi:function(){return N},setSystemClockJumpDetectionPrecision:hi:function(){return k},setStorageWriteInterval:ji:addIncludedPublisher:function(e){-1==y.indexOf(e)&&y.push(e)},getIncludedPublishers:function(){return y},addCrossPublisherUniqueDeviceIdChangeListener:removeCrossPublisherUniqueDeviceIdChangeListener:Ut:enableChildDirectedApplicationMode:Nt:function(){return O},Hi:null}),r=s=R=!(e=!0),P=W.Ki,A=W.Ji,b=W.Yi,S=W.Xi,w=X.si,E=X.ai,c={},n={},x=z.At,y=[],I=new ee({publisherId:"21193409"}),i=z.Pt,d=J.ENABLED,u=I.isKeepAliveMeasurementEnabled(),v=[],C=[],h=[],V=!(_=!(t=!(a=!(o=!(f=[]))))),T=ie.ENABLED,N=D=-1,k=ie.Si,O=!1,B=Q.zi,U=!1,m=g=oe,F=new Z(L),L.Hi=F}ae.ee="21193409",e.exports=ae},function(e,t,n){var r=n(0),_=n(20),g=n(57),m=n(24),v=n(80),C=n(23),y=n(2).mn,A=n(9),b=n(11);function i(c,t){var u=this;var l=!1,d=[],p=null,f=c.get(b.qn,0),h=0,e=t.getCache();if(null!=e)try{var n=JSON.parse(e);n instanceof Array&&(d=n)}catch(e){}r.extend(u,{he:Zi:function(){var e;y.O&&(e=JSON.stringify(d),t.storeCache(e))},onSuccess:onFailure:nr:function(e,t){y.O&&t.ki()!=m.DISABLED&&(d.length<=t.Mi()?d.push(e.getLabels()):f++)},tr:flush:function(e,t){if(!(!y.O||(t=t,r=(n=e).ki(),s=y.in(),r==m.DISABLED)||r==m.MANUAL_FLUSH&&!t||r==m.LAN&&(s==A.WWAN||s==A.BLUETOOTH||s==A.DISCONNECTED)||(r=60*(t=n).xi()*1e3,t.Ui()<(h=+new Date-c.get(b.Gn,-1)>r?0:h))||0==d.length||l)){l=!0;for(var n=(s=e).Li(),t,r=((t={}).c2=s.getPublisherConfigurations()[0].getPublisherId(),"JetportGotAMaskOfThe"+s.getPublisherConfigurations()[0].getPublisherSecret()+"S.D_K-"),r=C(r),r=(t.s=r,_.We(n,t,s.getLabelOrder())),n=s,i=+new Date-24*n.Wi()*60*60*1e3,o=0;o<d.length;){var a=d[o];parseInt(a.ns_ts)<i?(d.splice(o,1),f++):o++}p=d,d=[],h++,t=g.Qi(s,p,f),new v(r,t,u,s).$i()}var n,r,s},er:function(){return d.length},jt:)}i.Xi=31,i.Ji=2e3,i.bi="http://udm.scorecardresearch.com/offline",i.Ii="https://udm.scorecardresearch.com/offline",i.Yi=10,i.Ki=30,e.exports=i},function(e,t){t.ir=function(e,t){var n;"undefined"!=typeof atv&&"undefined"!=typeof XMLHttpRequest?((n=new XMLHttpRequest).open("GET",e,!0),n.onreadystatechange=n.send()):"undefined"!=typeof atv&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},t.rr=function(e,t,n){var r;"undefined"!=typeof atv&&"undefined"!=typeof XMLHttpRequest?((r=new XMLHttpRequest).open("POST",e,!0),r.onreadystatechange=r.send(t)):"undefined"!=typeof atv&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(18),s=n(3),c=n(13),u=n(6).Un,l=n(6).xn,d=n(8),p=n(12),f=n(10),h=n(36),_="undefined"!=typeof document&&document||void 0,g=s.Sn,m=s.wn,n=r.extend({},i,{D:"html5",T:function(){return("undefined"!=typeof Image?c:u).apply(this,arguments)},N:l,Storage:d,R:f,k:p,O:!0,M:6e4,F:V:G:function(){return"72"},j:H:J:function(){return"html"},Y:function(){return"5"},X:function(){"undefined"!=typeof window&&window.screen&&window.screen.width&&(e=window.screen.width),"undefined"!=typeof window&&window.screen&&window.screen.width&&(t=window.screen.height);var e,t,n=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+t*n:m},Z:function(){"undefined"!=typeof window&&window.innerWidth&&(e=window.innerWidth),"undefined"!=typeof window&&window.innerHeight&&(t=window.innerHeight);var e,t,n=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+t*n:m},nn:vn:function(e){h.sr(e)},_n:function(e){h.ar(e)}});e.exports=n},function(e,t,n){var l=n(0),d=n(2).mn,p=n(81);function r(t){var n,r,i,o,a,s;unction u(){var e;-1==s&&(0==(e=t.ji())?c():s=d.setTimeout(e))}l.extend(this,{storeProperties:getProperties:function(){return i?r:n.getProperties()},storeCache:getCache:),n="function"==typeof d.Storage?new d.Storage(t):new p,o=r="",a=i=!1,s=-1}r.qi=6e4,r.Gi=3e5,r.zi=0,e.exports=r},function(e,t,n){var s=n(0),c=n(2).mn,u=n(11);function r(n){var t,r,i=this,o=!0,a=!1;s.extend(i,{start:function(e){i.stop(),o&&(a=!0,t=c.setTimeout(function(){var e,t;o&&(e=n.get(u.Gn,0),t=+new Date-e,0<e)&&86399e3<t&&r&&r.me(),a&&(0==(e=n.get(u.Gn,0))?i.start(3e3):(t=864e5-(+new Date-e),i.start(t)))},e))},stop:Yt:function(e){o=e},Ht:function(e){r=e}})}r.ENABLED=!0,r.Ie=3e3,e.exports=r},function(e,t,n){var c=n(0),u=n(40),l=n(43);e.exports=function t(n){var e,r,i,o,a;=c.h(n||{}),r=s("publisherId",void 0),a=s("publisherUniqueDeviceIdListener"),i=l.cr(r),o=null,e=new u(n),c.extend(this,e),c.extend(this,{getPublisherId:function(){return r},getPublisherSecret:function(){return i},getPublisherUniqueDeviceId:function(){return o},setPublisherUniqueDeviceId:copy:)}},function(e,t,n){var c=n(0),u=n(2).mn,l=n(11),d=n(23),p=n(83);function r(t,r){var n=null,i=null,o=!0,a=!1,s={};c.extend(this,{Ot:function(){var e="",e=(r.$t()?e=(u.W()||"null").split(" "):r.Zt(),e[0]&&"null"!=e[0]?e[0]:null);null==e?s={xt:i=n=null,Rt:!1,Mt:o}:(i||(n=t.get(l.Jn,null),i=t.get(l.Yn,null)),i?"none"==e&&"none"==i||!o&&"none"==i||"none"!=e&&d(e)==n||(a=!0,i=o&&"none"!=e?(n=d(e),p(e)):(n=null,"none"),t.put(l.Yn,i),null==n?t.remove(l.Jn):t.put(l.Jn,n)):(i="none"==e?(n=null,"none"):(n=d(e),p(e)),t.put(l.Yn,i),null==n?t.remove(l.Jn):t.put(l.Jn,n)),o=!(s={xt:i,Rt:a,Mt:o}))},kt:function(){return s},he:function(){},ne:function(e){var t,n=r.$t()?(t=u.V(),u.G()):(r.Zt(),t=+new Date+~~(1e3*Math.random()),72);return d(t+e)+"-cs"+n}})}r.cr=function(e){return d("zutphen2011comScore@"+e)},e.exports=r},function(e,t,n){var l=n(0);function r(t){var n,o,r,i,e,a,s=this;extend(this,{br:function(){return e},Ir:resume:function(){var e;n&&(u(),0<(e=s.Ir(t.Dr().Ar().Pr()+(+new Date-t.Dr().Ar().Cr())))&&(e=0<i?i:e,a=+new Date+e,r=t.pr().hr().setTimeout(c,e)),i=0)},pause:function(){var e;n&&(u(),e=s.Ir(t.Dr().Ar().Pr()+(+new Date-t.Dr().Ar().Cr())),i=e-(t.Dr().Ar().Pr()+(+new Date-t.Dr().Ar().Cr()))%e)},reset:function(){n&&(u(),e=i=0)},Lr:),e=i=0,n=t.getConfiguration().Tr,o=l.h(t.getConfiguration().Nr)}r.ENABLED=!0,r.Or=[{Er:6e4,interval:1e4},{Er:null,interval:6e4}],r.Rr=e.exports=r},function(e,t,n){var R=n(0),x=n(4),V=n(14),U=n(48),F=n(49).kr,j=n(1).P,G=n(1).I,q=n(3),Y=n(50),K=Y.AdvertisementType,H=n(31),W=n(53),J=n(113),z=n(16);function r(l){var d,p,f,n,r,i,o,t,h,a,s,_,c,u,g,m,v,C,y,A,b,P,S,w,E,I,T,D,N,k,O,B,e,L,M=this;R.extend(this,{Mr:addLabels:getLabels:function(){return t},setLabel:dr:function(e){return t[e]},Ar:function(){return p},Fn:function(e,t){e.ns_st_pa=r+(isNaN(i)?0:t-i)+"",e.ns_st_pp=v+"",e.ns_st_sp=C+"",e.ns_st_bp=y+"",c||(e.ns_st_pb="1"),p.Ur()&&(e.ns_st_ppc=u+"",e.ns_st_dppc=u-g+"",e.ns_st_psq=m+""),e.ns_st_sc=b+"",R.extend(e,o)},xr:function(){C++},Wr:function(){v++},Fr:function(e){var t;isNaN(i)||(t=M.Pr(),t+=e-i,M.Br(t),i=NaN)},Vr:function(e){var t;isNaN(n)||(t=M.qr(),t+=e-n,M.Gr(t),n=NaN)},qr:function(){return y},Gr:function(e){y=e},Pr:function(){return r},jr:function(e){n=e},Hr:function(){return n},Br:function(e){r=e},Kr:function(e){i=e},Cr:function(){return i},Jr:function(){return v},Yr:function(e){v=e},Xr:function(){return s},zr:function(e,t,n){var r;p.Qr(p.$r()),p.Zr(p.no()),!D||e!=j.IDLE&&e!=j.PLAYBACK_NOT_STARTED&&e!=j.BUFFERING_BEFORE_PLAYBACK&&e!=j.SEEKING_BEFORE_PLAYBACK&&t!=j.PLAYING?r=e==j.IDLE?(t=d.to(),!(U.eo(p.dr("ns_st_ad"))||N&&1==E)&&a[p.io()]&&t&&t.io()==p.io()?p.ro():0):e==j.PLAYING?p.oo(n):p.ro():(r=I,D=!1),p.uo(r),p.so(n)},ao:function(e,t,n){var r=p.fo();p.Qr(p.$r()),p.Zr(p.no()),t=p.co()?e==j.IDLE||e==j.BUFFERING_BEFORE_PLAYBACK||e==j.SEEKING_BEFORE_PLAYBACK||e==j.PLAYBACK_NOT_STARTED||t==j.PLAYING?(r=k?(k=!1,T):p.lo(n),p.do(n,r)):e==j.PLAYING?(r=p.vo(n),p._o(n)):(r=p.lo(n),p.do(n,r)):(k&&(k=!1,r=T),p.po()-r),p.uo(t),p.so(n),p.ho(r),p.mo(n)},yo:function(){var e=d.to(),e=U.eo(p.dr("ns_st_ad"))?1:N?E:a[p.io()]&&a[p.io()]&&e&&e.io()==p.io()?p.So()?p.wo():p.wo()+1:1;p.bo(e),N=!1},Io:function(){d.Eo(p),f&&d.Eo(f);var e,t=p.Po();_<t&&(_=t),U.eo(p.dr("ns_st_ad"))&&(t=V.wt(p.getLabels(),F),e=parseInt(p.dr("ns_st_an")),(null==S[t]||S[t]<e)&&(S[t]=e),w[p.io()]=B,p.lr("ns_st_rcn"))&&(t=parseInt(p.dr("ns_st_rcn")),_<t)&&(_=t),h&&(M.xr(),M.Ao(0),h=!1),s=!0},Do:Co:function(e){P.push(e)},Lo:function(){return u},To:function(){u++},No:function(e){c=e},Ao:function(e){m=e},Oo:function(){m++},Ro:function(){return o.ns_st_id},ko:function(e){e<0||(o.ns_st_ca=e+"")},Mo:setMediaPlayerName:function(e){e&&(o.ns_st_mp=e+"")},setMediaPlayerVersion:function(e){e&&(o.ns_st_mv=e+"")},setImplementationId:loopPlaybackSession:function(){for(var e in a){var t;a.hasOwnProperty(e)&&((t=d.Ar(e))&&(t.Qr(0),t.Uo(0),t.xo(!1),t.setDvrWindowLength(0),t.ho(0)),a[e]=!1)}M.startFromSegment(1),p.Wo(!0),h=!0},startFromSegment:function(e){E=e,N=!0},startFromPosition:function(e){I=e,D=!0},startFromDvrWindowOffset:function(e){T=e,k=!0},Fo:Bo:function(e){var t,n,r,i,o,a,s,c,u;l.qo().Vo("setMetadata",e),e&&(e instanceof H||e instanceof Y)?(t=e.getMetadataLabels(),l.qo().Go("Passed labels:",t),U.eo(t.ns_st_ad)&&(null==t.ns_st_bn&&((u=null!=(u=t.ns_st_ct)?u.slice(2):null)==K.ON_DEMAND_PRE_ROLL||u==K.BRANDED_ON_DEMAND_PRE_ROLL||u==K.ON_DEMAND_POST_ROLL||u==K.BRANDED_ON_DEMAND_POST_ROLL?t.ns_st_bn="1":u!=K.ON_DEMAND_MID_ROLL&&u!=K.BRANDED_ON_DEMAND_MID_ROLL||(u="",(u=e instanceof Y&&e.getRelatedContentMetadata()?W.wt(e.getRelatedContentMetadata().getMetadataLabels()):u)&&null!=O[u]?t.ns_st_bn=O[u]:t.ns_st_bn="1")),null==t.ns_st_an&&(u=V.wt(t,F),c=1,null!=S[u]&&(c=S[u]+1),t.ns_st_an=c+""),null==t.ns_st_rcn)&&(u="",u=(u=e instanceof Y&&e.getRelatedContentMetadata()?W.wt(e.getRelatedContentMetadata().getMetadataLabels()):u)?d.jo(u)?d.Ar(u).Po():null==t.ns_st_cn?_+2:parseInt(t.ns_st_cn)+1:0,t.ns_st_rcn=u+""),c=W.wt(t),n="",e instanceof Y&&e.getRelatedContentMetadata()&&(n=W.wt(e.getRelatedContentMetadata().getMetadataLabels())),c!=(r=p).io()||N||D||h||null!=t.ns_st_pn?((o=l.Xo().Yo())!=j.IDLE&&(l.qo().Go("Ending the current Clip. It was in state:",V.yt(o)),(s=new z(G.END)).Lt.ns_st_ae="1",l.pr().zo(s)),d.jo(c)?((i=d.Ar(c)).Qo(),i.Ho(),i.Ko(),i.addLabels(t)):(i=new W(l,t,c),null==t.ns_st_cn?i.$o(_+1):i.$o(parseInt(t.ns_st_cn))),e instanceof Y&&e.getRelatedContentMetadata()?(s=e.getRelatedContentMetadata().getMetadataLabels(),c=W.wt(s),d.jo(c)?f=d.Ar(c):(f=new W(l,s,c)).$o(i.Po()+1)):f=null,U.eo(i.dr("ns_st_ad"))&&(a=!n||!d.jo(n)||(a=null!=(a=i.dr("ns_st_ct"))?a.slice(2):null)==K.ON_DEMAND_PRE_ROLL||a==K.BRANDED_ON_DEMAND_PRE_ROLL?0:d.Ar(n).$r(),i.Zo("ns_st_cpo",a+"")),M.Jo(e,i),h&&i.Wo(!0),p=i,B=n,A||b++,A=!0,l.getConfiguration().nu&&(o==j.PLAYING?(l.qo().Go("Resuming the new Asset."),(a=new z(G.PLAY)).Lt.ns_st_ae="1",l.pr().zo(a)):o!=j.BUFFERING_DURING_PLAYBACK&&o!=j.PAUSED_DURING_BUFFERING||(l.qo().Go("Starting buffering the new Asset."),l.pr().zo(new z(G.BUFFER)),l.pr().tu()))):(l.qo().Go("Updating existing asset labels with the newly provided ones:",t),r.Ho(),r.Ko(),r.addLabels(t),M.Jo(e,r))):l.qo().Go("Ignoring API call. An AssetMetadata object was expected and received instead:",e)},Jo:function(e,t){if(e instanceof Y){var n,r,i,o,a=e.getStacks(),s=e.getRelatedContentMetadata()?e.getRelatedContentMetadata().getStacks():null,c=[];for(n in a)a.hasOwnProperty(n)&&(i=a[n],r=s&&s[n]||null,c.push(n),i=i.getMetadataLabels(r),t.eu(n,i));if(s)for(var u in s)s.hasOwnProperty(u)&&-1==c.indexOf(u)&&(o=s[u],t.eu(u,o.getMetadataLabels()))}else{var l,d,p=e.getStacks();for(l in p)p.hasOwnProperty(l)&&(d=p[l],t.eu(l,d.getMetadataLabels()))}}}),d=new J,e=(new H).getMetadataLabels(),L=W.wt(e),p=new W(l,e,L),f=null,(o={}).ns_st_id=x.uuid(),o.ns_st_mp=q.Sn,o.ns_st_mv=q.Sn,h=!(t={}),i=n=NaN,c=s=!(a={}),A=!(y=m=v=g=u=_=r=0),P=[],S={},w={},T=I=0,k=N=D=!(E=-(b=C=1)),O={},B=null}r.iu=r.ru=!0,e.exports=r},function(e,t){var n={eo:ou:uu:toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+":"+e[t]+";");return n||e.toString()}};e.exports.eo=n.eo,e.exports.ou=n.ou,e.exports.uu=n.uu,e.exports.toString=n.toString},function(e,t,n){var u=n(0),l=n(7),d=n(51),p=n(31);function r(){var r,n,t,i,o,a=this,e=new d,s=["ns_st_ct","ns_st_li","ns_st_ty","ns_st_cl","ns_st_fee","ns_st_cs","ns_st_cu"];function c(e,t){l.Wn(o,e,t)}r=null,i=!(n={}),o={},c("ns_st_li","0"),c("ns_st_ty","video"),c("ns_st_ad","1"),c("ns_st_tp","1"),u.extend(a,e),u.extend(a,{setRelatedContentMetadata:getRelatedContentMetadata:function(){return r},setMediaType:function(e){null!=e&&(c("ns_st_ct",(i?"aa":"va")+(t=e)),e="1",t==f.ON_DEMAND_PRE_ROLL||t==f.BRANDED_ON_DEMAND_PRE_ROLL?e="pre-roll":t==f.ON_DEMAND_MID_ROLL||t==f.BRANDED_ON_DEMAND_MID_ROLL?e="mid-roll":t!=f.ON_DEMAND_POST_ROLL&&t!=f.BRANDED_ON_DEMAND_POST_ROLL||(e="post-roll"),c("ns_st_ad",e),c("ns_st_li",t==f.LIVE||t==f.BRANDED_DURING_LIVE?"1":"0"))},classifyAsAudioStream:function(e){i=e=null==e?!0:e,null==t?delete o.ns_st_ct:c("ns_st_ct",(i?"aa":"va")+t),c("ns_st_ty",i?"audio":"video")},setVideoDimensions:setLength:function(e){c("ns_st_cl",e)},setBreakNumber:function(e){c("ns_st_bn",e)},setTotalBreaks:function(e){c("ns_st_tb",e)},setNumberInBreak:function(e){c("ns_st_an",e)},setTotalInBreak:function(e){c("ns_st_ta",e)},setClipUrl:function(e){c("ns_st_cu",e)},setServer:function(e){c("ns_st_ams",e)},setCallToActionUrl:function(e){c("ns_st_amc",e)},setDeliveryType:function(e){c("ns_st_amd",e)},setOwner:function(e){c("ns_st_amo",e)},setStack:function(e,t){n[e]=t},getStacks:function(){return n},getStandardLabels:getMetadataLabels:function(){var e={};if(r){var t,n=r.getStandardLabels();for(t in n)n.hasOwnProperty(t)&&-1==s.indexOf(t)&&(e[t]=n[t])}return u.extend(e,a.getStandardLabels(),r?r.getCustomLabels():null,a.getCustomLabels())}})}var f={ON_DEMAND_PRE_ROLL:"11",ON_DEMAND_MID_ROLL:"12",ON_DEMAND_POST_ROLL:"13",LIVE:"21",BRANDED_ON_DEMAND_PRE_ROLL:"31",BRANDED_ON_DEMAND_MID_ROLL:"32",BRANDED_ON_DEMAND_POST_ROLL:"33",BRANDED_AS_CONTENT:"34",BRANDED_DURING_LIVE:"35",OTHER:"00"};r.AdvertisementType=f,r.AdvertisementDeliveryType={NATIONAL:"national",LOCAL:"local",SYNDICATION:"syndication"},r.AdvertisementOwner={DISTRIBUTOR:"distributor",ORIGINATOR:"originator",MULTIPLE:"mp",NONE:"none"},e.exports=r},function(e,t,n){var i=n(0),o=n(7),a=n(14);e.exports=function(){var n,t;function r(e,t){o.Wn(n,e,t)}n={},t={},i.extend(this,{setFee:function(e){r("ns_st_fee",e)},setUniqueId:function(e){r("ns_st_ami",e)},setTitle:function(e){r("ns_st_amt",e)},setServerCampaignId:function(e){r("ns_st_amg",e)},setPlacementId:function(e){r("ns_st_amp",e)},setSiteId:function(e){r("ns_st_amw",e)},addCustomLabels:function(e){t=a._t(e="object"!=typeof e?{}:e)},getCustomLabels:function(){return t},getStandardLabels:function(){return n},getMetadataLabels:function(){return i.extend({},n,t)}})}},function(e,t,n){var i=n(0),o=n(7),a=n(14),r=n(112);function s(){var n,t;={},t={},i.extend(this,{setUniqueId:function(e){r("ns_st_ci",e)},setPublisherName:function(e){r("ns_st_pu",e)},setProgramTitle:function(e){r("ns_st_pr",e)},setEpisodeTitle:function(e){r("ns_st_ep",e)},setEpisodeSeasonNumber:function(e){r("ns_st_sn",e)},setEpisodeNumber:function(e){r("ns_st_en",e)},setGenreName:function(e){r("ns_st_ge",e)},setGenreId:function(e){r("ns_st_tge",e)},setDateOfProduction:function(e,t,n){r("ns_st_dt",c(e,t,n))},setTimeOfProduction:function(e,t){r("ns_st_tm",u(e,t))},setDateOfDigitalAiring:function(e,t,n){r("ns_st_ddt",c(e,t,n))},setTimeOfDigitalAiring:function(e,t){r("ns_st_dtm",u(e,t))},setDateOfTvAiring:setTimeOfTvAiring:setStationTitle:function(e){r("ns_st_st",e)},setStationCode:function(e){r("ns_st_stc",e)},setProgramId:function(e){r("ns_st_tpr",e)},setEpisodeId:function(e){r("ns_st_tep",e)},setFee:function(e){r("ns_st_fee",e)},setPlaylistTitle:function(e){r("ns_st_pl",e)},setNetworkAffiliate:function(e){r("ns_st_sta",e)},setDeliveryMode:function(e){r("ns_st_cde",e)},setDeliverySubscriptionType:function(e){r("ns_st_cds",e)},setDeliveryComposition:function(e){r("ns_st_cdc",e)},setDeliveryAdvertisementCapability:function(e){r("ns_st_cda",e)},setDistributionModel:function(e){r("ns_st_cdm",e)},setMediaFormat:function(e){r("ns_st_cmt",e)},setDictionaryClassificationC3:function(e){r("c3",e)},setDictionaryClassificationC4:function(e){r("c4",e)},setDictionaryClassificationC6:addCustomLabels:function(e){t=a._t(e="object"!=typeof e?{}:e)},getStandardLabels:function(){return n},getCustomLabels:function(){return t},getMetadataLabels:)}ContentDeliveryMode={LINEAR:"linear",ON_DEMAND:"ondemand"},s.ContentDeliverySubscriptionType={TRADITIONAL_MVPD:"mvpd_auth",VIRTUAL_MVPD:"virtualmvpd",SUBSCRIPTION:"svod",ADVERTISING:"avod",TRANSACTIONAL:"tvod",PREMIUM:"pvod"},s.ContentDeliveryComposition={CLEAN:"clean",EMBED:"embedded"},s.ContentDeliveryAdvertisementCapability={NONE:"none",DYNAMIC_LOAD:"dai",DYNAMIC_REPLACEMENT:"dar",LINEAR_1DAY:"lai-c1",LINEAR_2DAY:"lai-c2",LINEAR_3DAY:"lai-c3",LINEAR_4DAY:"lai-c4",LINEAR_5DAY:"lai-c5",LINEAR_6DAY:"lai-c6",LINEAR_7DAY:"lai-c7"},s.ContentDistributionModel={TV_AND_ONLINE:"to",EXCLUSIVELY_ONLINE:"eo"},s.ContentMediaFormat={FULL_CONTENT_GENERIC:"fc",FULL_CONTENT_EPISODE:"fc01",FULL_CONTENT_MOVIE:"fc02",FULL_CONTENT_PODCAST:"fc03",PARTIAL_CONTENT_GENERIC:"pc",PARTIAL_CONTENT_EPISODE:"pc01",PARTIAL_CONTENT_MOVIE:"pc02",PARTIAL_CONTENT_PODCAST:"pc03",PREVIEW_GENERIC:"pv",PREVIEW_EPISODE:"pv01",PREVIEW_MOVIE:"pv02",EXTRA_GENERIC:"ec",EXTRA_EPISODE:"ec01",EXTRA_MOVIE:"ec02"},e.exports=s},function(e,t,n){var Ne=n(0),ke=n(14),r=n(49).su;function i(t,e,c){e=e||{},c=c||"";var f,u,h,n,r,j,d,_,g,m,G,v,p,C,y,q,Y,K,A,i,b,H,W,J,z,X,P,S,w,E,Q,$,Z,ee,te,ne,re,ie,I,T,D,N,oe,ae,se,ce,o,k,ue,a,le,O,de,pe,B,fe,L,he,M,_e,R,x,s,ge,V,me,ve,Ce,ye,U,Ae,be,Pe,Se,we,F,Ee,Ie,Te,l=this;function De(e){var t,n,r,i={},o=[];for(t in e)e.hasOwnProperty(t)&&(n=e[t],2<=t.length)&&"c"==t[0]&&t[1].charCodeAt(0)>="a".charCodeAt(0)&&t[1].charCodeAt(0)<="z".charCodeAt(0)&&"p"!=t[1]&&"s"!=t[1]&&(r=t[1],3<t.length&&"_"==t[2]?((i[r]=i[r]||{})[t.substring(3,t.length)]=n,o.push(t)):3==t.length&&"0"<=t[2]&&t[2]<="9"&&((i[r]=i[r]||{})["c"+t[2]]=n,o.push(t)));for(var a,s=0;s<o.length;++s)delete e[o[s]];for(a in i){var c=i[a],u=c.c2;u&&(delete c.c2,l.eu(u,c))}}Ne.extend(l,{eu:Ko:function(){r={}},getStacks:function(){return r},io:function(){return u},fu:function(e){P=e},cu:function(){return P},Zo:function(e,t){h[e]=t},lu:function(e){return h[e]},du:function(e){return null!=h[e]},addLabels:getLabels:function(){return n},setLabel:Ho:function(){n={}},dr:function(e){return n[e]},lr:Po:function(){return parseInt(l.lu("ns_st_cn"))},$o:function(e){l.Zo("ns_st_cn",e+"")},bo:wo:function(){return Ee},So:function(){return Ie},Fn:function(e,t,n){var r=parseInt(e.ns_st_po),i=n&&F<0&&0<v-r?b+v-r:n&&0<F&&0<r-v?b+r-v:b,o=(e.ns_st_ap=i+"",e.ns_st_dap=i-H+"",e.ns_st_iap=i-W+"",e.ns_st_pt=_+(isNaN(g)?0:t-g)+"",e.ns_st_dpt=_+(isNaN(g)?0:t-g)-m+"",e.ns_st_ipt=_+(isNaN(g)?0:t-g)-G+"",e.ns_st_et=C+(isNaN(y)?0:t-y)+"",e.ns_st_det=C+(isNaN(y)?0:t-y)-q+"",e.ns_st_iet=C+(isNaN(y)?0:t-y)-J+"",e.ns_st_bt=I+"",e.ns_st_dbt=I+(isNaN(T)?0:t-T)-D+"",e.ns_st_ibt=I+(isNaN(T)?0:t-T)-se+"",S),a=w;n&&(o=ke.gt(S,F<0?r:E,F<0?E:r,P),a=ke.gt(w,F<0?r:E,F<0?E:r,P));for(var s,c=0,u=0,l=0;l<o.length;l++)c+=s=Math.abs(o[l].end-o[l].start),u<s&&(u=s);for(var d=0,p=0,l=0;l<a.length;l++)d+=s=Math.abs(a[l].end-a[l].start),p<s&&(p=s);e.ns_st_upc=c+"",e.ns_st_dupc=c-Q+"",e.ns_st_iupc=c-$+"",e.ns_st_lpc=u+"",e.ns_st_dlpc=u-Z+"",e.ns_st_ilpc=u-X+"",e.ns_st_upa=d+"",e.ns_st_dupa=d-ee+"",e.ns_st_iupa=d-te+"",e.ns_st_lpa=p+"",e.ns_st_dlpa=p-ne+"",e.ns_st_ilpa=p-z+"",e.ns_st_pc=B+"",e.ns_st_dpc=B-fe+"",e.ns_st_skc=L+"",e.ns_st_dskc=L-he+"",e.ns_st_bc=N+"",e.ns_st_dbc=N-oe+"",e.ns_st_ibc=N-ae+"",e.ns_st_skt=k+"",e.ns_st_dskt=k-ue+"",e.ns_st_ska=O+"",e.ns_st_dska=O-de+"",f&&(e.ns_st_spc=M+"",e.ns_st_dspc=M-re+"",e.ns_st_apc=_e+"",e.ns_st_dapc=_e-ie+"",e.ns_st_sq=R+"",e.ns_st_asq=x+""),e.ns_st_dtpc=U-Ae+"",e.ns_st_itpc=U-be+"",e.ns_st_dcpc=V-me+"",e.ns_st_icpc=V-ve+"",e.ns_st_rt=F+"",e.ns_st_ldw=K,e.ns_st_ldo=A,e.ns_st_pn=Ee+"",e.ns_st_lda=j?"1":"0",Ne.extend(e,h)},Fo:_u:pu:function(){return l.lu("ns_st_vt")},hu:function(e){l.Zo("ns_st_vt",e+"")},gu:function(){return l.lu("ns_st_at")},mu:function(e){l.Zo("ns_st_at",e+"")},yu:function(){return l.lu("ns_st_tt")},Su:function(e){l.Zo("ns_st_tt",e+"")},wu:function(){return l.lu("ns_st_cdn")},bu:function(e){l.Zo("ns_st_cdn",e+"")},Wr:function(){B++},Iu:function(){L++},xr:function(){R++},Eu:function(){return R},uo:function(e){s=e},so:function(e){ge=e},no:function(){return ge},$r:function(){return s},qr:function(){return I},Gr:function(e){I=e},Vr:function(e){var t;isNaN(T)||(t=l.qr(),t+=e-T,l.Gr(t),T=NaN)},Pu:Au:function(){return E},Du:Cu:function(e){var t=w;null!=e&&(t=ke.gt(w,F<0?s:E,F<0?E:s,P)),Pe||Se||(1<t.length||0==t.length||0<t[0].start-P?Pe=!0:3e3<=t[0].end-t[0].start&&(Se=!0,U++)),Ce||ye||(1<t.length||0==t.length||0<t[0].start-P?Ce=!0:t[0].end-t[0].start>=Te&&(ye=!0,V++))},Lu:function(){return C},Tu:function(e){C=e},Nu:function(e){var t;isNaN(y)||(t=l.Lu(),t+=e-y,l.Tu(t),y=NaN)},Ou:function(){return y},Ru:function(e){y=e},Fr:Pr:function(){return _},oo:function(e){return v+Math.floor((e-p)*F/100)},_o:do:vo:lo:Qr:function(e){v=e},Zr:function(e){p=e},ku:function(){return p},ro:function(){return v},Cr:function(){return g},Kr:function(e){g=e},Mu:function(e){m=e},Hr:function(){return T},jr:function(e){T=e},Jr:function(){return B},Yr:function(e){B=e},Uu:function(){return L},xu:function(e){L=e},Wu:function(e){ce=e},Fu:function(){return ce},Bu:function(e){le=e},Vu:function(){return le},co:function(){return d},xo:function(e){d=e},qu:function(e){f=e},Ur:function(){return f},Gu:function(e){o=e},ju:function(){return o},Hu:Ku:function(){return k},Ju:function(e){k=e},Yu:function(e){pe=e},Xu:function(){return pe},zu:function(e){a=e},Qu:function(){return a},$u:function(e){O=e},Zu:function(){return O},ns:ts:vu:es:function(){he=L=de=O=ue=k=q=C=J=R=fe=B=ae=oe=N=se=D=I=G=m=_=0,Ie=!1},rs:function(){M++},os:function(){_e++},us:function(){z=ne=te=ee=W=H=b=0,ye=Ce=Se=Pe=!(w=[])},ss:function(e){M=e},Uo:function(e){Y=e},as:function(){return M},fs:function(){return Y},cs:function(){return N},ls:function(){N++},ds:function(){return D},Ao:function(e){x=e},Oo:vs:function(){return x},_s:function(){return we},Wo:function(e){we=e},ps:function(){return F},hs:function(e){F=e},gs:setDvrWindowLength:function(e){K=e},po:function(){return K},ho:function(e){A=e},mo:function(e){i=e},ms:function(){return i},fo:function(){return A},ys:function(e){j=e},Ss:function(){return j},Qo:),h={ns_st_cl:"0",ns_st_tp:"0",ns_st_cn:"1",ns_st_skd:"0",ns_st_ci:"0",ns_st_cn:"1",c3:"*null",c4:"*null",c6:"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ct:"*null"},r={},De(e),n=e,d=j=f=!1,S=[],o=T=E=i=y=ge=g=NaN,be=Ae=U=ve=me=V=x=R=_e=M=he=L=fe=B=de=O=ue=k=pe=a=se=ae=oe=N=D=I=ie=re=ne=te=ee=Z=$=Q=X=z=J=W=H=b=A=K=G=q=Y=s=C=m=v=_=0,we=Se=Pe=ye=Ce=le=ce=!(w=[]),F=100,Ie=!(Ee=1),u=c,P=t.getConfiguration().ws,Te=t.getConfiguration().bs}i.wt=i.Mr=i.Is=500,i.Es=500,i.Ps=3e3,e.exports=i},function(e,t,n){var r=n(0),i=n(17),o=n(30),a=n(9),s=n(15),c=n(2),u=n(94),n=new e.exports=n},function(e,t,n){var l=n(2).mn,d=n(23);e.exports={Qi:function(e,t,n){(r={}).c12=(e=e).getPublisherConfigurations()[0].getPublisherUniqueDeviceId(),r.c1="19",r.ns_ap_pn=l.K(),r.ns_ap_an=e.F(),r.ns_ap_device=l.j();var r,i,o=r,a="",a=(a+='<?xml version="1.0" encoding="UTF-8" ?>\n<events ')+('t="'+ +new Date+'" ');for(i in o)a+=i+'="'+o[i]+'" ';a+='dropped="'+n+'" ';for(var s=[],c="",u=0;u<t.length;++u)c+="    "+function(e,t,n){var r,i=e.ns_ts,o="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,a="",s=!1;for(r in e)null==t[r]&&"ns_ts"!=r&&(s&&(a+="&"),s=!0,a+=o(r)+"="+o(e[r]));return n.push(a),'<event t="'+i+'">'+a+"</event>"}(t[u],o,s)+"\n";return(a=(a+='md5="'+d(s.join(""))+'" ')+">\n"+c)+"</events>"}}},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(3),s=n(6).Un,c=n(61),u=n(62),l=n(63),d=n(9),p=a.Sn,f=a.wn,h=null,_=null,g=null;function m(){var e;null==h&&(e=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var e=sf.core.sefplugin("NNAVI");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return null;e.Open("Network","1.001","Network");var t=e.Execute("GetMAC","0");return o.Pn(t)&&(t=e.Execute("GetMAC","1"),o.Pn(t))?(e=e.Execute("GetDeviceID"),o.Pn(e)?null:e):t}(),g=null!=e?(_="31",h=e):(h=+new Date+~~(1e3*Math.random()),_="72",null))}n=r.extend({},i,{D:"smarttv",T:s,N:null,Storage:c,O:!0,R:u,k:l,M:6e4,W:function(){return m(),g},B:V:function(){return m(),h},G:function(){return _},j:H:function(){return"2.0.0"},J:function(){var e;if("undefined"!=typeof sf&&o.Cn(sf.env)&&o.Cn(sf.env.getProductType)&&o.Cn(sf.env.PRODUCTTYPE_TV)&&o.Cn(sf.env.PRODUCTTYPE_MONITOR)&&o.Cn(sf.env.PRODUCTTYPE_BD))return(e=[])[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",e[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",e[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",e[sf.env.getProductType()]},Y:X:function(){var e;return"undefined"!=typeof sf&&o.Cn(sf.env)&&o.Cn(sf.env.getScreenSize)?(e=sf.env.getScreenSize()).width+"x"+e.height:f},nn:in:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return d.UNKNOWN;var e=sf.core.sefplugin("NETWORK");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return d.UNKNOWN;e.Open("Network","1.001","Network");e=e.Execute("GetActiveType");return 0===e?d.ETHERNET:1===e?d.WIFI:d.UNKNOWN}});e.exports=n},function(e,t,n){var r,i,o,a,s=n(0);e.exports=function(e){o="undefined"!=typeof FileSystem?new FileSystem:null,a="undefined"!=typeof curWidget?curWidget.id:null,"undefined"!=typeof sf?r=i=function(e,t){sf.core.localData(e,t)}:(r=function(e,t){$.sf.setData(e,void 0===t?null:t)},i=function(e){return $.sf.getData(e)}),null==o||void 0===o.isValidCommonPath||o.isValidCommonPath(a)||o.createCommonDir(a),s.extend(this,{storeProperties:getProperties:storeCache:function(e){try{t=e,n=a+"/cs_cache_dir",o.isValidCommonPath(n)||o.createCommonDir(n),(n=o.openCommonFile(n+"/cs_cache_dir_single","w")).writeLine(t),o.closeCommonFile(n)}catch(e){}var t,n},getCache:function(){try{return t=a+"/cs_cache_dir",o.isValidCommonPath(t)&&(t=o.openCommonFile(t+"/cs_cache_dir_single","r"))?(e=t.As(),o.closeCommonFile(t),e):null}catch(e){}var e,t}})}},function(e,t,n){var a,r,i=n(21),o=n(0),s=null,c=null,u={},l=!1;ction h(e,t){var n=u[e],t=i.indexOf(t,n);0<=t&&(n.splice(t,1),r("cs_dir_"+e,0===n.length?null:n.join("|")))}e.exports=function(){o.extend(this,{dir:append:function(e,t,n){l||d();var r=c+"/"+e,e=(s.isValidCommonPath(r)||s.createCommonDir(r),s.isValidCommonPath(r+"/"+t)||f(e,t),s.openCommonFile(r+"/"+t,"a"));e.writeLine(p(n)),s.closeCommonFile(e)},write:function(e,t,n){l||d();var r=c+"/"+e,e=(s.isValidCommonPath(r)||s.createCommonDir(r),s.isValidCommonPath(r+"/"+t)||f(e,t),s.openCommonFile(r+"/"+t,"w"));e.writeLine(p(n)),s.closeCommonFile(e)},deleteFile:read:)}},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(3),s=n(13),c=n(6).Un,u=n(8),l=n(10),d=n(9),p=a.Sn,f=a.wn,h=null,_=null,g=null;function m(){var e;null==h&&(e=),g=null!=e?(_="31",h=e):(h=+new Date+~~(1e3*Math.random()),_="72",null))}n=r.extend({},i,{D:"netcast",T:function(){return("undefined"!=typeof Image?s:c).apply(this,arguments)},N:null,Storage:u,R:l,O:!1,M:6e4,W:function(){return m(),g},V:function(){return m(),h},G:function(){return _},j:H:J:Y:X:nn:in:);e.exports=n},function(e,t,n){var s,c,u,r=n(0),i=n(5),o=n(3),a=n(13),l=n(6).xn,d=n(8),p=n(12),f=n(10),h=n(9),_=o.Sn,g=o.wn,n=r.extend({},i,{D:"webos",T:a,N:l,Storage:d,R:f,k:p,O:!0,M:6e4,U:function(e,t){ar r,i,o,a=3;o=n,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(e){e.returnValue&&(s=e),o()},onFailure:function(){o()}}),i=n,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(e){e.returnValue&&(c=e),i()},onFailure:function(){i()}}),r=n,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:onFailure:)},W:V:G:function(){return"72"},j:function(){return s&&s.modelName?s.modelName:_},H:J:Y:X:function(){var e=0,t=("undefined"!=typeof webOS&&webOS.device?e=webOS.device.screenWidth:"undefined"!=typeof window&&window.screen&&(e=window.screen.availWidth),0);return"undefined"!=typeof webOS&&void 0!==webOS.device?t=webOS.device.screenHeight:"undefined"!=typeof window&&window.screen&&(t=window.screen.availHeight),0<e&&0<t?e+"x"+t:g},nn:in:);e.exports=n},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(3),s=n(13),c=n(6).Un,u=n(6).xn,l=n(8),d=n(12),n=n(10),p=a.Sn,f=a.wn,h=null,_=null,g=null;function m(){var e;null==h&&(e="undefined"!=typeof device&&o.Cn(device.uuid)&&0<device.uuid.length?device.uuid:null,g=null!=e?(_="31",h=e):(h=+new Date+~~(1e3*Math.random()),_="72",null))}a=r.extend({},i,{D:"cordova",T:function(){return("undefined"!=typeof Image?s:c).apply(this,arguments)},N:u,Storage:l,O:!0,R:n,k:d,M:6e4,W:function(){return m(),g},V:G:function(){return _},j:function(){return"undefined"!=typeof device&&o.Cn(device.model)||p},H:J:Y:X:function(){var e="undefined"!=typeof window&&o.Cn(window.screen)&&o.Cn(window.screen.availWidth)&&window.screen.availWidth||0,t="undefined"!=typeof window&&o.Cn(window.screen)&&o.Cn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<e&&0<t?e+"x"+t:f},nn:function(){return"undefined"!=typeof window&&o.Cn(window.navigator)&&o.Cn(window.navigator.language)&&window.navigator.language||p}});e.exports=a},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(3),s=n(68),c=n(8),n=n(10),u=a.Sn,l=a.wn,d=null,p=null,f=null;=r.extend({},i,{D:"trilithium",T:s,N:null,Storage:c,R:n,O:!1,M:6e4,W:function(){return h(),f},F:function(){return o.An(engine.stats.application.name)?engine.stats.application.name:u},B:V:function(){return h(),d},G:function(){return p},j:function(){return o.Dn(engine.stats.device.platform,u)},J:function(){return"trilithium"},Y:X:);e.exports=a},function(e,t,n){var r=n(4),i=n(3),o=n(34).ir,a=n(34).rr,s=n(70),n=n(71),c=i.Sn,u=i.wn,l=null,d=null,p=null;function f(){null==l&&(d="undefined"!=typeof atv&&void 0!==atv.device&&atv.device.idForVendor?(l=r.Dn(atv.device.idForVendor,""),"62"):(l=+new Date+~~(1e3*Math.random()),"72"),p=null)}e.exports={D:"atv",T:o,N:a,Storage:s,R:n,O:!1,M:6e4,W:function(){return f(),p},F:function(){return c},B:function(){return c},V:function(){return f(),l},G:function(){return d},j:function(){return"Apple TV"},H:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&r.Dn(atv.device.softwareVersion,c)},K:function(){return"js"},J:function(){return"atv"},Y:X:nn:setTimeout:function(e,t){return"undefined"!=typeof atv&&void 0!==atv.setTimeout&&atv.setTimeout(e,t)},setInterval:clearTimeout:function(e){return"undefined"!=typeof atv&&void 0!==atv.clearTimeout&&atv.clearTimeout(e)},clearInterval:},function(e,t,n){var r=n(0);e.exports=function(e){var t="undefined"!=typeof atv&&void 0!==atv.localStorage&&atv.localStorage||null;r.extend(this,{storeProperties:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_settings",e):t&&(t.Bn=e)}catch(e){}},getProperties:function(){if(!t)return null;try{return"function"==typeof t.getItem?t.getItem("cs_settings"):t?t.Bn:void 0}catch(e){}},storeCache:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_cache",e):t&&(t.Vn=e)}catch(e){}},getCache:function(){if(!t)return null;try{return"function"==typeof t.getItem?t.getItem("cs_cache"):t?t.Vn:void 0}catch(e){}}})}},function(e,t,n){var r=n(0),i=n(5),o=n(3),a=n(35).or,s=n(35).ur,c=n(8),u=n(12),l=n(10),d=n(9),p=o.Sn,f=o.wn,h=null,_=null,g=null,m=!1,v=!1,C=!1;function y(){var e,t=null;"undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser&&null!=(e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser)&&!e.Ds&&e.Cs&&(t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId),g=t}n=r.extend({},i,{D:"xbox",T:a,N:s,Storage:c,R:l,k:u,O:!0,M:6e4,W:F:function(){var e=p;return e="undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name?Windows.ApplicationModel.Package.current.id.name:e},B:function(){var e,t=p;return t="undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version?(e=Windows.ApplicationModel.Package.current.id.version).major+"."+e.minor+"."+e.build+"."+e.revision:t},V:function(){return m||function(){_=(h="undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.j()+ +new Date+~~(1e3*Math.random()),"72"),m=!0}(),h},G:function(){return _},j:function(){return"xbox one"},H:K:function(){return"xbox"},J:function(){return"winjs"},Y:X:function(){var e,t=f;return t="undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight?(e=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode).rawWidth+"x"+e.rawHeight:t},Z:function(){var e=f;return e="undefined"!=typeof window&&window.innerWidth&&window.innerHeight?window.innerWidth+"x"+window.innerHeight:e},nn:function(){var e=p;return e="undefined"!=typeof Windows&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages?Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0):e},tn:function(){var e=p;return e="undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name?Windows.ApplicationModel.Package.current.id.name:e},setPlatformAPI:function(){},en:in:);e.exports=n},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(18),s=n(3),c=n(13),u=n(6).xn,l=n(8),d=n(12),p=n(10),f=n(36),h=s.Sn,_=s.wn,n=r.extend({},i,{D:"chromecast",T:c,N:u,Storage:l,R:p,k:d,O:!0,M:6e4,F:V:function(){return+new Date+~~(1e3*Math.random())},G:function(){return"72"},j:function(){return"chromecast"},H:J:function(){return"html"},Y:function(){return"5"},X:function(){var e="undefined"!=typeof window&&o.Cn(window.screen)&&o.Cn(window.screen.availWidth)?window.screen.availWidth:0,t="undefined"!=typeof window&&o.Cn(window.screen)&&o.Cn(window.screen.availHeight)?window.screen.availHeight:0;return 0<e&&0<t?e+"x"+t:_},nn:function(){return"undefined"!=typeof window&&o.Cn(window.navigator)&&o.Dn(window.navigator.language,"")||h},vn:function(e){f.sr(e)},_n:function(e){f.ar(e)}});e.exports=n},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(3),s=n(6).Un,c=n(6).xn,u=n(8),l=n(12),n=n(10),d=a.wn,p=null,f=null,h=null;=r.extend({},i,{D:"tvos",T:s,N:c,Storage:u,O:!0,R:n,k:l,M:6e4,W:function(){return _(),h},F:function(){return Device.appIdentifier},B:function(){return Device.appVersion},V:function(){return _(),p},G:function(){return f},j:function(){return Device.productType},H:function(){return Device.systemVersion},J:function(){return"tvos"},Y:function(){return Device.systemVersion},X:function(){return d},nn:function(){return Settings.language},tn:function(){return Device.appIdentifier}});e.exports=a},function(e,t,n){var r=n(0),i=n(5),o=n(4),a=n(3),s=n(6).Un,c=n(6).xn,u=n(8),l=n(10),d=n(12),p=n(9),f=a.Sn,h=a.wn,_=null,g=null,m=null;function v(){null==_&&(m="undefined"!=typeof jsmaf&&o.Cn(jsmaf.hardwareId)?(g="31",_=jsmaf.hardwareId):(_=+new Date+~~(1e3*Math.random()),g="72",null))}n=r.extend({},i,{D:"jsmaf",T:s,N:c,Storage:u,O:!0,R:l,k:d,M:6e4,W:function(){return v(),m},V:function(){return v(),_},G:function(){return v(),g},j:function(){return"undefined"!=typeof jsmaf&&o.Cn(jsmaf.platform)?jsmaf.platform:f},J:function(){return"jsmaf"},Y:function(){return"undefined"!=typeof jsmaf&&o.Cn(jsmaf.version)?jsmaf.version:f},X:nn:setTimeout:function(e,t){return jsmaf.setTimeout(e,t)},setInterval:clearTimeout:function(e){return jsmaf.clearTimeout(e)},clearInterval:function(e){return jsmaf.clearInterval(e)},en:function(){var e;return"undefined"!=typeof jsmaf&&o.Cn(jsmaf.platform)||(e=f),"ps3"==jsmaf.platform?e="cell":"ps4"==jsmaf.platform?e="ps4":"vita"==jsmaf.platform&&(e="vita"),e},in:);e.exports=n},function(e,t,c){var n=c(0),r=c(5),i=c(4),o=c(3).Sn,a=null,s=null,u=null;unction d(i,o){var a=this,s=0;a.send=function(e){var t,n=e.match(/^https/)?c(77):c(78),r=(r=o,t=c(22),{headers:{"User-Agent":(r.F()||"unknown")+"/"+(r.B()||"unknown")+" ("+(t.platform()||"unknown")+"; "+(t.arch()||"unknown")+"; "+(t.type()||"unknown")+"/"+(t.release||"unknown")+") node.js/"+process.version}});n.get(e,r,function(e){var t=e.statusCode;(302==t||301==t)&&s<20&&e.headers&&e.headers.location?(s++,a.send(e.headers.location)):i(t)}).on("error",function(){i()})}}n=n.extend({},r,{D:"nodejs",T:N:null,Storage:null,O:!1,W:function(){return l(),u},V:function(){return l(),a},G:function(){return s},H:en:J:function(){return"nodejs"},Y:);e.exports=n},function(e,t){e.exports=require("https")},function(e,t,n){var r=n(0),i=n(37),r=r.extend({},i,{D:"webbrowser",C:function(){return n(17).ge().$t()?"http://b.scorecardresearch.com/p":"http://b.scorecardresearch.com/p2"},L:Storage:null,R:null,k:null,O:!1,J:function(){return"webbrowser"},un:function(e){var t;"undefined"!=typeof document&&(e.c7=(t=document).URL,e.c8=t.title,e.c9=t.referrer,e.ns_c=t.characterSet||t.defaultCharset||"")},pn:!0});e.exports=r},function(e,t,n){var R=n(3),n={};n.encrypt=function(){function a(e,t){if(-1===(e=n.indexOf(e.charAt(t))))throw new Error;return e}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";prototype.Ns=m.prototype.Os=28,m.prototype.Rs=268435455,m.prototype.ks=1<<28,m.prototype.Ms=Math.pow(2,52),m.prototype.Us=24,m.prototype.xs=4;for(var r=[],e="0".charCodeAt(0),t=0;t<=9;++t)r[e++]=t;for(e="a".charCodeAt(0),t=10;t<36;++t)r[e++]=t;for(e="A".charCodeAt(0),t=10;t<36;++t)r[e++]=t;(){}function p(e){return e}.prototype.Xs=y.prototype.$s=function(e){return e},y.prototype.reduce=y.prototype.na=function(e,t,n){e.ta(t,n),this.reduce(n)},y.prototype.ea=function(e,t){e.ia(t),this.reduce(t)},A.prototype.Xs=A.prototype.$s=A.prototype.reduce=A.prototype.na=function(e,t,n){e.ta(t,n),this.reduce(n)},A.prototype.ea=function(e,t){e.ia(t),this.reduce(t)},m.prototype.oa=m.prototype.Ws=m.prototype.Ts=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.aa(e,t);n=2}this._=0,this.s=0;for(var r=e.length,i=!1,o=0;0<=--r;){var a=8==n?255&e[r]:u(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this._++]=a:o+n>this.Os?(this[this._-1]|=(a&(1<<this.Os-o)-1)<<o,this[this._++]=a>>this.Os-o):this[this._-1]|=a<<o,(o+=n)>=this.Os&&(o-=this.Os))}8==n&&0!=(128&e[0])&&(this.s=-1,0<o)&&(this[this._-1]|=(1<<this.Os-o)-1<<o),this.ua(),i&&m.ZERO.ra(this,this)},m.prototype.ua=m.prototype.Ks=m.prototype.sa=m.prototype.fa=m.prototype.ca=m.prototype.ra=m.prototype.ta=m.prototype.ia=m.prototype.Zs=m.prototype.Bs=m.prototype.la=m.prototype.exp=m.prototype.toString=m.prototype.da=m.prototype.abs=m.prototype.zs=m.prototype._a=m.prototype.Qs=m.prototype.pa=m.ZERO=g(0),m.ONE=g(1),d.prototype.Xs=p,d.prototype.$s=p,d.prototype.na=d.prototype.ea=b.prototype.Xs=b.prototype.$s=function(e){return e},b.prototype.reduce=b.prototype.na=b.prototype.ea=var f,h=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],_=(1<<26)/h[h.length-1];unction S(){var e=(new Date).getTime();E[I++]^=255&e,E[I++]^=e>>8&255,E[I++]^=e>>16&255,E[I++]^=e>>24&255,256<=I&&(I-=256)}if(m.prototype.wa=m.prototype.va=m.prototype.aa=m.prototype.Ls=m.prototype.Aa=m.prototype.La=m.prototype.Ta=m.prototype.Ea=m.prototype.ma=m.prototype.ga=m.prototype.ha=m.prototype.Na=m.prototype.Oa=m.prototype.clone=function(){var e=v();return this.oa(e),e},m.prototype.Ia=m.prototype.xa=function(){return 0==this._?this.s:this[0]<<24>>24},m.prototype.Wa=m.prototype.ba=m.prototype.Fa=m.prototype.Ba=m.prototype.min=m.prototype.max=m.prototype.Va=function(e){var t=v();return this.Aa(e,i,t),t},m.prototype.qa=function(e){var t=v();return this.Aa(e,o,t),t},m.prototype.Ga=function(e){var t=v();return this.Aa(e,s,t),t},m.prototype.ja=m.prototype.Ha=m.prototype.shiftLeft=function(e){var t=v();return e<0?this.ca(-e,t):this.fa(e,t),t},m.prototype.Ma=m.prototype.ka=function(){for(var e,t,n=0;n<this._;++n)if(0!=this[n])return n*this.Os+(e=this[n],t=void 0,0==e?-1:((t=0)==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t));return this.s<0?this._*this.Os:-1},m.prototype.Ka=m.prototype.Pa=m.prototype.Ja=function(e){return this.La(e,o)},m.prototype.Ya=function(e){return this.La(e,l)},m.prototype.Xa=m.prototype.add=function(e){var t=v();return this.Ta(e,t),t},m.prototype.Ra=function(e){var t=v();return this.ra(e,t),t},m.prototype.multiply=m.prototype.Ys=m.prototype.za=m.prototype.Qa=m.prototype.Ua=function(e,t){var n=e._a(),r=g(1);if(n<=0)return r;var i=n<18?1:n<48?3:n<144?4:n<768?5:6,o=new(n<8?y:t.la()?b:A)(t),a=[],s=3,c=i-1,u=(1<<i)-1;if(a[1]=o.Xs(this),1<i){var l=v();for(o.ea(a[1],l);s<=u;)a[s]=v(),o.na(l,a[s-2],a[s]),s+=2}for(var d,p,f=e._-1,h=!0,_=v(),n=C(e[f])-1;0<=f;){for(c<=n?d=e[f]>>n-c&u:(d=(e[f]&(1<<n+1)-1)<<c-n,0<f&&(d|=e[f-1]>>this.Os+n-c)),s=i;0==(1&d);)d>>=1,--s;if((n-=s)<0&&(n+=this.Os,--f),h)a[d].oa(r),h=!1;else{for(;1<s;)o.ea(r,_),o.ea(_,r),s-=2;0<s?o.ea(r,_):(p=r,r=_,_=p),o.na(_,a[d],r)}for(;0<=f&&0==(e[f]&1<<n);)o.ea(r,_),p=r,r=_,_=p,--n<0&&(n=this.Os-1,--f)}return o.$s(r)},m.prototype.$a=function(e){var t=e.la();if(this.la()&&t||0==e.ba())return m.ZERO;for(var n=e.clone(),r=this.clone(),i=g(1),o=g(0),a=g(0),s=g(1);0!=n.ba();){for(;n.la();)n.ca(1,n),t?(i.la()&&o.la()||(i.Ta(this,i),o.ra(e,o)),i.ca(1,i)):o.la()||o.ra(e,o),o.ca(1,o);for(;r.la();)r.ca(1,r),t?(a.la()&&s.la()||(a.Ta(this,a),s.ra(e,s)),a.ca(1,a)):s.la()||s.ra(e,s),s.ca(1,s);0<=n.zs(r)?(n.ra(r,n),t&&i.ra(a,i),o.ra(s,o)):(r.ra(n,r),t&&a.ra(i,a),s.ra(o,s))}return 0!=r.zs(m.ONE)?m.ZERO:0<=s.zs(e)?s.Ra(e):s.ba()<0&&(s.Ta(e,s),s.ba()<0)?s.add(e):s},m.prototype.pow=m.prototype.Za=m.prototype.Da=m.prototype.nf=P.prototype.init=P.prototype.next=null==E){for(var w,E=[],I=0;I<256;)w=Math.floor(65536*Math.random()),E[I++]=w>>>8,E[I++]=255&w;I=0,S()}function T(){}prototype.Ca=function(e){for(var t=0;t<e.length;++t)e[t]=)},N.prototype.tf=N.prototype.ef=N.prototype.encrypt=function(e){var e=e,this.n._a()+7>>3);return null==e||null==(e=this.tf(e))?null:0==(1&(e=e.toString(16)).length)?e:"0"+e},N.prototype.if=N.prototype.rf=N.prototype.uf=N.prototype.af=N.prototype.decrypt=function(e){e=D(e,16),e=this.if(e);if(null==e)return null;for(var t=this.n._a()+7>>3,n=e.Fa(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):191<o&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i};var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";.prototype.ff=function(e){e=this.cf(e);var t,n,r=this.lf(),i=0,o=null,a=null;for(n in r)r.hasOwnProperty(n)&&((o=r[n]).hasOwnProperty("offset")&&(i+=2*o.offset),t="string"==typeof o.length?this[o.length]:o.length,t*=2,a=e.substr(i,t),o.hasOwnProperty("type")&&("int"==o.type?a=parseInt(a,16):"bigint"==o.type&&(a=D(a,16))),i+=t,this[n]=a)},N.prototype.df=function(e){var t="";e=e);for(var n=0;n<e.length;++n){var r=e.charCodeAt(n).toString(16);t+=r=1===r.length?"0"+r:r}return t},N.prototype.cf=function(e){var t=(e=e.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return e=(t="-----BEGIN"==t[0].substring(0,10)?t.slice(1,t.length-1):t).join(""),this.df(e)},N.prototype.vf=function(){var e,t="",n=this.lf(),r=null,i=null,o=0;for(e in n)n.hasOwnProperty(e)&&(r=n[e])._f&&((i=this[e].toString(16)).length%2&&(i="0"+i),r.hasOwnProperty("padded")&&r.pf&&(i="00"+i),(o=(o=i.length/2).toString(16)).length%2&&(o="0"+o),r.hasOwnProperty("extraspace")&&(t+=o),t+=o,t+=i,t+="02");return t.slice(0,-2)},N.prototype.hf=function(e,t){return e&&(t="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})",e.match(new RegExp(t,"g")).join("\n"))},N.prototype.gf=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.vf(),(e+=this.hf(O(t))+"\n")+"-----END RSA PRIVATE KEY-----"},N.prototype.mf=function B(e){N.call(this),e&&this.ff(e)}function L(e){N.call(this),e&&("string"==typeof e?this.ff(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))}(B.prototype=new N).constructor=B).prototype.lf=((L.prototype=new N).constructor=L).prototype.lf=return M.prototype.bf=M.prototype.If=M.prototype.decrypt=function(e){return!!this.Sf&&this.Sf.decrypt(function(e){for(var t,n="",r=0,i=0;i<e.length&&"="!=e.charAt(i);++i){var o=k.indexOf(e.charAt(i));o<0||(r=0==r?(n+=c(o>>2),t=3&o,1):1==r?(n+=c(t<<2|o>>4),t=15&o,2):2==r?(n=(n+=c(t))+c(o>>2),t=3&o,3):(n=(n+=c(t<<2|o>>4))+c(15&o),0))}return 1==r&&(n+=c(t<<2)),n}(e))},M.prototype.encrypt=M.prototype.gf=M.prototype.mf=(),e.exports=n.encrypt},function(e,t,n){var r=n(0),T=n(20),s=n(44),D=n(2).mn,N=n(85),k=n(86),O=n(26),B=n(15),L=n(9),M=n(25),R=n(11),x=n(19);e.exports=function(g,m,l,v,o,d,p){var C,f,y,A,b,P,S,w,E,I;function a(e,t,n,r){if(h=n,function(e){var t=h.getIncludedPublishers();if(0==t.length)return 1;for(var n=0;n<t.length;++n)if(e.Pi(t[n]))return 1}(_=r)&&((_=+new Date)<b?(S=P=0,w=b=_,m.put(R.ct,S),m.put(R.lt,w)):(1e3<_-b&&(P=0,b=_),1e3<_-w&&(S=0,w=_,m.put(R.ct,S),m.put(R.lt,w))),P<20)&&S<6e3&&(P++,S++,m.put(R.ct,S),1)){m.put(R.Gn,+new Date),g.Ye(t,!0),_=e;var i=t,o=n,a=r;0==C&&_.vr()&&(y=+new Date,A++,m.put(R.dt,A),_.setLabel("ns_ap_csf","1"),_.setLabel("ns_ap_cfg",a.Ei())),C++,_.setLabel("ns_ts",i+""),_.setLabel("ns_ap_ec",C+""),_.setLabel("ns_ap_cs",A+""),_.setLabel("ns_ap_id",y+""),g.Xe()==O.be.Ke?_.setLabel("name","foreground"):g.Xe()==O.be.Je||g.Xe()==O.be.we?_.setLabel("name","background"):_.setLabel("name","Application"),o instanceof x&&!o.xe()||(s=a,i=i,(c=_).setLabel("ns_ap_fg",g.ii()+""),c.setLabel("ns_ap_ft",g.ei(c.vr())+""),c.setLabel("ns_ap_dft",g.ti()+""),c.setLabel("ns_ap_bt",g.ri(c.vr())+""),c.setLabel("ns_ap_dbt",g.ni()+""),c.setLabel("ns_ap_it",g.Ze(c.vr())+""),c.setLabel("ns_ap_dit",g.$e()+""),c.setLabel("ns_ap_as",g.ze()+""),c.setLabel("ns_ap_das",g.Qe()+""),c.setLabel("ns_ap_ut",1e3*s.getUsagePropertiesAutoUpdateInterval()+""),c.setLabel("ns_ap_usage",i-g.oi()+"")),(s=_).setLabel("c1","19"),s.setLabel("ns_ap_smv","6.4"),s.setLabel("ns_ap_bv",B.VERSION),s.setLabel("ns_ap_sv",B.VERSION);var s,c=_,i,u=(i=a).getPartnerConfigurations();if(0!=i.getPartnerConfigurations().length){for(var l="",d="",p=0;p<u.length;++p){var f=u[p];l+=f.getPartnerId()+",",d+=f.getExternalClientId()+","}l=l.substring(0,l.length-1),d=d.substring(0,d.length-1),c.setLabel("cs_partner",l),c.setLabel("cs_xcid",d)}_.addLabels(E),_.addLabels(o.getLabels()),k.Mf(_,o,_.getLabels(),a),E={},I.push({event:e,timestamp:t,Ef:n,configuration:r}),v.Uf()}var h,_}extend(this,{le:function(){return C},ye:Wt:function(e,t,n){var r,i;a(((r=new s).setLabel("ns_type","view"),r.setLabel("ns_ap_ev","start"),r.setLabel("ns_ap_gs",o.xf()+""),r.setLabel("ns_ap_install",o.Wf()+""),0<(i=g.ui())&&r.setLabel("ns_ap_lastrun",i+""),o.Ff()&&r.setLabel("ns_ap_updated",o.Bf()+""),r),e,t,n)},ve:function(e,t,n){var r;a(((r=new s).setLabel("ns_type","hidden"),r.setLabel("ns_ap_ev","hidden"),r),e,t,n)},pe:function(e,t,n){var r;a(((r=new s).setLabel("ns_type","view"),r.setLabel("ns_ap_ev","view"),r),e,t,n)},te:),C=0,f=[],A=m.get(R.dt,0),w=b=-1,S=P=0,E=m.get(R.vt,{}),I=[],v.addListener(function(){for(var e=0;e<I.length;e++){var t=I[e],n=(u=c=s=a=o=i=r=n=void 0,t.event),r=(t.timestamp,t.Ef,t.configuration);(o=n).setLabel("ns_ap_pn",D.K()),o.setLabel("ns_ap_pv",D.Y()),o.setLabel("ns_ap_pfm",D.J()),o.setLabel("ns_ap_pfv",D.H()),o.setLabel("ns_ap_device",D.j()),o.setLabel("ns_ap_lang",D.nn()),o.setLabel("ns_ap_ar",D.en()),o.setLabel("ns_radio",function(){switch(D["in"]()){case L.EMULATOR:return"emu";case L.WIFI:return"wlan";case L.WWAN:return"wwan";case L.ETHERNET:return"eth";case L.BLUETOOTH:return"bth";default:return"unknown"}}()),o.vr()&&o.setLabel("ns_ap_jb",T.Ve(D.rn()));var i=r,o=((o=n).setLabel("ns_ap_an",i.F()),o.setLabel("ns_ap_res",D.Z()),o.setLabel("ns_ap_po","0x0"),o.setLabel("ns_ap_sd",D.X()),o.setLabel("ns_ap_ver",i.B()),o.setLabel("ns_ap_bi",i.Ti()),function(e){if(p.isEnabled()){var t,n,r,i=p.Pf();if(i)i.Af?e.addLabels({cs_cmp_nc:"1"}):(n={gdpr:"0",gdpr_p1t:"",gdpr_li:"",gdpr_purps:"",gdpr_pcc:"",cs_cmp_id:i.cmpId,cs_cmp_sv:i.cmpVersion,cs_cmp_nc:i.Df?"1":"0"},i.Cf&&(n.gdpr="1",i.Lf)?(n.gdpr_li=i.Tf?"1":"0",n.gdpr_pcc=i.Nf,t=i.Of&&i.purposeOneTreatment?(n.gdpr_p1t="1",!0):(n.gdpr_p1t="0",i.consents[1]),i.Rf&&(r=[],t&&r.push(1),i.consents[7]&&r.push(7),i.consents[8]&&r.push(8),i.consents[9]&&r.push(9),i.consents[10]&&r.push(10),n.gdpr_purps=r.join(",")),e.addLabels(n)):e.addLabels(n))}}(n),n);(i=d.kt()).xt&&o.setLabel("ns_ak",i.xt),i.Rt&&o.setLabel("ns_ap_ni","1");(i=n).setLabel("ns_ap_env","0-0-2"),D.un(i.getLabels()),f.push(n);var a=r,o=D.in(),i=a.Oi(),s=!1;o!=L.DISCONNECTED&&i!=M.CACHE&&(i!=M.LAN||o!=L.WWAN&&o!=L.BLUETOOTH)||(s=!0);for(var c=0;c<f.length;++c){var u=f[c];s?l.nr(u,a):(u=new N(u,h,_,a),a.Ri()&&D.sn("Comscore: "+u.kf()),u.$i())}l.Zi(),f=[],m.zt()}I=[]})}},function(e,t,n){var c=n(0),u=n(2).mn,l=n(20);e.exports=function(t,n,r,i){var e,o,a;function s(e){(200==e||i.isHttpRedirectCachingEnabled()&&(302==e||301==e)?n:r)(t,i)}4096<(e=l.We(i.Ci(),t.getLabels(),i.getLabelOrder())).length&&0<e.indexOf("&")&&(o=e.substring(0,4088).lastIndexOf("&"),a=encodeURIComponent(e.substring(o+1)),e=e.substring(0,o)+"&ns_cut="+a),4096<e.length&&(e=e.substring(0,4096)),c.extend(this,{$i:kf:function(){return e}})}},function(e,t,n){var P=n(32),S=n(0),w=n(19),E=n(2).mn,r="a".charCodeAt(0);function I(e,t){var n;return 0==t?e:(t=String.fromCharCode(r+t-1),n=(n=e.match(/^[cC](\d|[12]\d)$/))&&n[1]?n[1]:"",String(n?"c"+t+n:"c"+t+"_"+e))}e.exports={Mf:function(e,t,n,r){for(var i,o={},a=e.vr(),s=[],c=[],u=t.getIncludedPublishers(),l=r.getPublisherConfigurations(),d=0;d<l.length;++d){var p=l[d],f=p.getPublisherId();f==P.ee||0!=u.length&&-1==u.indexOf(f)||(s.push(p),c.push(f))}(0==u.length||-1!=u.indexOf(P.ee))&&0<r.getPartnerConfigurations().length&&(i=r),s.push(i),c.push(i.getPublisherId()));for(var h=[],_=0;_<s.length;++_){var g=s[_];if(26<=_)break;var m={};if(m.c2=g.getPublisherId(),m.c12=g.getPublisherUniqueDeviceId(),E.pn&&(m.c12=E.hn),S.extend(m,n),S.extend(m,r.getPersistentLabels()),S.extend(m,g.getPersistentLabels()),S.extend(m,t.getLabels()),a&&S.extend(m,r.getStartLabels()),S.extend(m,t.getPublisherLabels(g.getPublisherId())),a&&S.extend(m,g.getStartLabels()),0==_)h=function(e,t,n){var r,i=[];for(r in e.getPersistentLabels())i.push(r);if(n)for(r in e.getStartLabels())i.push(r);var n=t.getPublisherLabels(e.getPublisherId()),o=t.getLabels();for(r in n)r in o||i.push(r);return i}(g,t,a),S.extend(o,m);else{for(d=0;d<h.length;++d){var v=h[d];v in m||(m[v]="*null")}for(var C in m)C in o&&o[C]==m[C]||(o[I(C,_)]=m[C])}}if(t instanceof w)for(var y=t.Ue(),d=0;d<y.length;++d){var A=y[d];if(26<=_)break;if(-1==c.indexOf(A)){var b=t.getPublisherLabels(A);for(C in o[I("c2",_)]=A,b)C in o&&o[C]==b[C]||(o[I(C,_)]=b[C]);_++}}e.addLabels(o)}}},function(e,t,n){var i=n(0);e.exports=function(t){var n,r,e=t.getProperties();try{(n=JSON.parse(e))&&"object"==typeof n||(n={})}catch(e){n={}}r=!1,i.extend(this,{put:get:remove:contains:clear:zt:)}},function(e,t,n){var o=n(0),a=n(2).mn;e.exports=function(t){var n,r;function e(){if(r){r=!1,t();for(var e=0;e<n.length;e++)n[e]()}}function i(){r=r&&!1}n=[],o.extend(this,{addListener:function(e){n.push(e)},Uf:)}},function(e,t,n){var c=n(0),u=n(11);e.exports=function(e,t){var n,r,i,o,a,s=-1;o=i=!1,s=e.get(u.Hn,-1),n=e.get(u.Kn,-1),r=e.get(u.jn,null),e.put(u.jn,t.B()),a=+new Date,-1==s?(n=s=a,e.put(u.Hn,s),e.put(u.Kn,n),i=!0):r&&r!=t.B()&&(n=a,e.put(u.Kn,n),e.put(u.dt,0),o=!0),c.extend(this,{Bf:function(){return r},xf:function(){return s},Wf:function(){return n},Ff:function(){return o},Vf:function(){return i}})}},function(e,t,n){var a=n(0),s=n(44),c=n(2).mn,u="cache_dir",l="undefined"!=typeof encodeURIComponent?decodeURIComponent:unescape;e.exports=function(e,t,n){function i(){return o&&o.dir(u)||[]}var r="function"==typeof c.R?new c.R:null,o="function"==typeof c.k?new c.k:null;a.extend(this,{ue:function(){var e=function(e){for(var t=[],n=0;n<e.length;++n){var r=function(e){for(var t=e.split("&"),n=new s,r=0;r<t.length;++r){var i=t[r].split("="),o=l(i[0]),i=l(i[1]);n.setLabel(o,i)}return n}(e[n]);t.push(r)}return t}(function(){for(var e=i(),t=[],n=0;n<e.length;++n){r=e[n];var r=o&&(r=o.read(u,r))?r.split("\n"):[],t=t.concat(r)}return t}());n.tr(e)},se:function(){for(var e,t=i(),n=0;n<t.length;++n)e=t[n],o&&(o.deleteFile(u,e),r)&&r.remove(e)}})}},function(e,t,n){var i=n(0),o=n(93),a=n(11);e.exports=function(){var t,n,r=this;i.extend(r,{Yt:function(e){n=e},isEnabled:ae:function(e){t=e},$t:function(){var e;return!(n&&(e=r.Pf())&&!e.Af&&e.Cf)||!!e.Lf&&!!e.Rf&&(e.Of&&e.purposeOneTreatment||e.consents[1])},Pf:function(){return o.qf()},Zt:),n=!0}},function(e,t,n){"use strict";Object.defineProperty(t,"v",{value:!0}),t.qf=void 0;var o=[1,7,8,9,10],r=!1;t.qf=function(){try{var e=);if(!e&&!r)return!1;if(e)return e.gdprApplies?{Af:!1,cmpId:e.cmpId,cmpVersion:e.cmpVersion,Df:r,Cf:!0,Lf:!0,Of:e.isServiceSpecific,purposeOneTreatment:e.purposeOneTreatment,Tf:e.vendor.legitimateInterests[77],Rf:e.vendor.consents[77],consents:function(e){var t={};if(e)for(var n=0,r=o;n<r.length;n++){var i=r[n];t[i]=e.purpose.consents[i]}return t}(e),Nf:e.publisherCC||""}:{Af:!1,cmpId:e.cmpId,cmpVersion:e.cmpVersion,Df:r,Cf:!1}}catch(e){}return{Af:!0,Df:!0}}},function(e,r,t){var s=t(96),c=t(97),u=t(98),l=t(99),F=t(100),j=t(101),G=t(102),q=t(103),Y=t(104),K=t(105),H=t(106),W=t(107),J=t(108),z=t(14),X=t(109),Q=t(0),$=t(21),Z=t(29),ee=t(4),te=t(110),ne=t(111),re=t(16),ie=t(47),oe=t(1).P,ae=t(1).I,se=t(1).A,ce=t(45),ue=t(46),le=t(115),de=t(116),_e=t(117),pe=t(3),fe=t(17),he=t(2).mn,ge=t(19),me=t(118);function n(e){var S,w,E,d,p,f,h,_,g,m,v,C,y,A,b,P,t,n,I,T,r,i,o,D,N,k,O,B,L,M,R=this;tend(R,{jf:null,Hf:wr:function(){var e=new re(ae.HEARTBEAT),t=(e.setLabel("ns_st_hc",S.Kf().br()),S.Dr()),n=t.Ar(),r=isNaN(T)?I:T,i=(T=e.Tt,Z.Bt().yi(e.Tt),!1),r=(M&&(i=!(M=null),e.Tt=r),n.ro()),o=n.ku(),a=n.$r(),s=n.no(),c=n.fo(),u=n.ms(),l=(n.Ss()?t.ao(oe.PLAYING,null,e.Tt):t.zr(oe.PLAYING,null,e.Tt),n.$r()),e=(n.Cu(e),R.Fn(ae.HEARTBEAT,e));S.Dr().Ar()._u(e.Jf),S.Yf().dispatchEvent(e),n.Qr(r),n.Zr(o),n.uo(a),n.so(s),n.ho(c),n.mo(u),i&&(n.Qr(l),n.Zr(T),t.Kr(T-parseInt(e.Jf.ns_st_dpt)),n.Kr(T-parseInt(e.Jf.ns_st_dpt)),n.Ru(T-parseInt(e.Jf.ns_st_det)))},Fn:function(e,t){var n=t.Tt,r=S.Dr(),i={};i.ns_ts=n+"",i.ns_st_ev=ae.toString(e),i.ns_st_mp="js_api",i.ns_st_mv="7.6.1.210506",i.ns_st_ub="0",i.ns_st_br="0",i.ns_st_pn="1",i.ns_st_tp="0",i.ns_st_it=se.toString(se.g),i.ns_st_sv="7.6.1.210506",i.ns_st_smv="6.4",i.ns_type="hidden",i.ns_st_ec=S.Yf().le()+"",i.ns_st_cfg=w.Xf(),i.ns_st_hd=S.Kf().Lr(n),i.ns_st_po=r.Ar().$r()+"",0<B.length&&(i.ns_ap_ie=B.join(";")),r.Fn(i,n),r.Ar().Fn(i,n,e==ae.HEARTBEAT),Q.extend(i,t.Lt),Q.extend(i,O);for(var o=Q.h(k),a=0;a<o.length;++a)o[a](i);var s={},c=(Q.extend(s,i),Q.extend(s,w.getLabels()),new ge),u=(c._e(!1),w.zf()),l=w.Qf,d=r.Ar(),p=d.getStacks();if(0<l.length)for(var f=0;f<l.length;++f){var h=l[f];-1!=E.indexOf(h)&&c.addIncludedPublisher(h)}else for(f=0;f<E.length;++f){var _=E[f];c.addIncludedPublisher(_)}var g,m=[];for(g in u){var v,C=u[g];0<l.length&&-1==l.indexOf(g)||(Q.extend(v={},s),Q.extend(v,C.getLabels()),Q.extend(v,d.getLabels()),p[g]&&Q.extend(v,p[g]),Q.extend(v,t.Ct),c.addPublisherLabels(g,v),m.push(g))}var y,A=[];for(y in p){var b,P=p[y];-1==m.indexOf(y)&&(Q.extend(b={},P),Q.extend(b,t.Ct),c.addPublisherLabels(y,b),A.push(y))}return c.Me(A),Q.extend(s,d.getLabels()),Q.extend(s,t.Ct),c.addLabels(s),new me(e,c,i)},zo:function(e){var t=S.Xo().Yo();if(w.nu){if(D&&t==oe.BUFFERING_BEFORE_PLAYBACK&&e.Dt==ae.BUFFER_STOP)return S.qo().Go("Resume to PLAY from state:",z.yt(t)),(o=new re(ae.PLAY)).Tt=e.Tt,o.Lt.ns_st_ae="1",R.zo(o),void(D=!1);D=D&&!1}var n,r,i=S.Xo().$f(e.Dt);if(null!=i&&i!=t){L&&z.St(t)&&!z.St(i)?he.vn(U):L&&!z.St(t)&&z.St(i)&&he._n(U);var o=S.Dr(),a=o.Ar(),s=isNaN(T)?I:T,c=(T=e.Tt,Z.Bt().yi(e.Tt),!1);M&&(c=!(M=null),e.Tt=s),t==oe.IDLE&&a.lr("ns_st_pn")&&o.startFromSegment(parseInt(a.dr("ns_st_pn"))),a.Ss()?o.ao(t,i,e.Tt):o.zr(t,i,e.Tt),t==oe.IDLE&&o.yo(),s=e,n=S.Xo().Yo(),s.Dt==ae.AD_SKIP&&!s.Lt.hasOwnProperty("ns_st_ui")&&x(s.Dt)?s.Lt.ns_st_ui="skip":s.Dt==ae.SEEK_START&&!s.Lt.hasOwnProperty("ns_st_ui")&&x(s.Dt)&&(s.Lt.ns_st_ui="seek"),r=s.Dt,n==oe.IDLE?r==ae.BUFFER?d.Zf(s):r==ae.SEEK_START?d.nc(s):r==ae.PLAY&&d.tc(s):n==oe.PLAYBACK_NOT_STARTED?r==ae.END||r==ae.AD_SKIP?f.ec(s):r==ae.SEEK_START?f.nc(s):r==ae.PLAY?f.tc(s):r==ae.BUFFER&&f.Zf(s):n==oe.PLAYING?r==ae.END||r==ae.AD_SKIP?h.ec(s):r==ae.BUFFER?h.Zf(s):r==ae.SEEK_START?h.nc(s):r==ae.PAUSE&&h.ic(s):n==oe.PAUSED?r==ae.END||r==ae.AD_SKIP?p.ec(s):r==ae.PLAY?p.tc(s):r==ae.BUFFER?P.rc(s):r==ae.SEEK_START&&P.oc(s):n==oe.BUFFERING_BEFORE_PLAYBACK?r==ae.END||r==ae.AD_SKIP?_.ec(s):r==ae.BUFFER_STOP?_.uc(s):r==ae.SEEK_START?_.nc(s):r==ae.PAUSE?_.ic(s):r==ae.PLAY&&_.tc(s):n==oe.BUFFERING_DURING_PLAYBACK?r==ae.PAUSE_ON_BUFFERING?g.sc(s):r==ae.BUFFER_STOP?P.ac(s):r==ae.END||r==ae.AD_SKIP?g.ec(s):r==ae.SEEK_START?g.nc(s):r==ae.PAUSE?g.ic(s):r==ae.PLAY&&P.ac(s):n==oe.BUFFERING_DURING_SEEKING?r==ae.END||r==ae.AD_SKIP?m.ec(s):r==ae.PAUSE?m.ic(s):r==ae.PLAY?m.tc(s):r==ae.BUFFER_STOP&&P.fc(s):n==oe.BUFFERING_DURING_PAUSE?r==ae.END||r==ae.AD_SKIP?v.cc(s):r==ae.PAUSE?v.ic(s):r==ae.PLAY?v.tc(s):r==ae.SEEK_START?P.oc(s):r==ae.BUFFER_STOP&&P.fc(s):n==oe.SEEKING_BEFORE_PLAYBACK?r==ae.END||r==ae.AD_SKIP?y.ec(s):r==ae.PAUSE?y.ic(s):r==ae.PLAY?y.tc(s):r==ae.BUFFER&&P.rc(s):n==oe.SEEKING_DURING_PLAYBACK?r==ae.END||r==ae.AD_SKIP?b.ec(s):r==ae.PLAY?b.tc(s):r==ae.BUFFER?P.rc(s):r==ae.PAUSE&&P.lc(s):n==oe.SEEKING_DURING_BUFFERING?r==ae.PAUSE?A.ic(s):r==ae.BUFFER?P.rc(s):r==ae.PLAY?P.dc(s):r==ae.END||r==ae.AD_SKIP?P.vc(s):r==ae.BUFFER_STOP&&P._c(s):n==oe.PAUSED_DURING_BUFFERING?r==ae.END||r==ae.AD_SKIP?C.ec(s):r==ae.BUFFER_STOP?C.pc(s):r==ae.SEEK_START?C.nc(s):r==ae.PAUSE?C.ic(s):r==ae.PLAY&&C.pc(s):n==oe.SEEKING_DURING_PAUSE&&(r==ae.BUFFER?P.rc(s):r==ae.PLAY?P.dc(s):r==ae.PAUSE?P.lc(s):r==ae.END||r==ae.AD_SKIP?P.vc(s):r==ae.BUFFER_STOP&&P._c(s)),x(r)&&S.Dr().No(!0),S.Xo().zo(e.Dt,e.Tt),i==oe.IDLE?Z.Bt().mi(V):t==oe.IDLE&&Z.Bt().gi(V),c&&(a.Qr(a.$r()),a.Zr(T),i!=oe.IDLE&&i!=oe.PLAYBACK_NOT_STARTED&&i!=oe.SEEKING_BEFORE_PLAYBACK&&i!=oe.BUFFERING_BEFORE_PLAYBACK&&a.Ru(T),i!=oe.BUFFERING_BEFORE_PLAYBACK&&i!=oe.BUFFERING_DURING_PAUSE&&i!=oe.BUFFERING_DURING_PLAYBACK&&i!=oe.BUFFERING_DURING_SEEKING&&i!=oe.PAUSED_DURING_BUFFERING||(o.jr(T),a.jr(T)),i==oe.PLAYING&&(o.Kr(T),a.Kr(T)),i!=oe.SEEKING_BEFORE_PLAYBACK&&i!=oe.SEEKING_DURING_BUFFERING&&i!=oe.SEEKING_DURING_PAUSE&&i!=oe.SEEKING_DURING_PLAYBACK&&i!=oe.BUFFERING_DURING_SEEKING||a.Gu(T)),S.qo().log("Transition from",z.yt(t),"to",z.yt(i),"due to event:",ae.toString(e.Dt));for(var u=0,l=N.length;u<l;u++)N[u](t,i,e.Lt)}else S.qo().Go("Ignored event:",ae.toString(e.Dt),"during state",z.yt(t),e.Lt)},_r:function(e){var t=e.Dt,n=e.Lt,r=S.Xo().Yo();if(t!=ae.LOAD&&t!=ae.ENGAGE||r==oe.IDLE){var i,o,a,s,c=!0,u=!1,l=!0;switch(t==ae.ERROR&&null==n.ns_st_er&&(n.ns_st_er=pe.Sn),t==ae.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=pe.Sn),t!=ae.PLAYBACK_RATE||0!=(p=parseInt(n.ns_st_rt))&&!isNaN(p)||(l=!1,R.Hf("6"),n.ns_st_rt=S.Dr().Ar().ps()+""),t==ae.VOLUME&&((p=parseInt(n.ns_st_vo))<0||isNaN(p))&&(l=!1,R.Hf("7"),n.ns_st_vo=O.ns_st_vo),t){case ae.BIT_RATE:i="ns_st_br",o="ns_st_pbr";break;case ae.PLAYBACK_RATE:i="ns_st_rt",o="ns_st_prt";break;case ae.VOLUME:i="ns_st_vo",o="ns_st_pvo";break;case ae.WINDOW_STATE:i="ns_st_ws",o="ns_st_pws";break;case ae.AUDIO:i="ns_st_at",o="ns_st_pat";break;case ae.VIDEO:i="ns_st_vt",o="ns_st_pvt";break;case ae.SUBS:i="ns_st_tt",o="ns_st_ptt";break;case ae.CDN:i="ns_st_cdn",o="ns_st_pcdn";break;default:c=!1}var d,p=S.Dr(),f=p.Ar();if(c&&i in n)switch(s=n[i],t){case ae.BIT_RATE:case ae.VOLUME:case ae.WINDOW_STATE:i in O&&(a=O[i],u=s==(n[o]=a)+""),O[i]=n[i];break;case ae.AUDIO:case ae.VIDEO:case ae.SUBS:case ae.CDN:f.du(i)&&(a=f.lu(i),u=s==(n[o]=a)+""),f.Zo(i,n[i]);break;case ae.PLAYBACK_RATE:a=f.ps(),n[o]=a+""}c&&r!=oe.PLAYING&&r!=oe.BUFFERING_DURING_PLAYBACK||c&&u&&l?(t==ae.PLAYBACK_RATE&&f.hs(parseInt(n.ns_st_rt)),S.qo().Go("No measurement send for the pseudo-event:",ae.toString(t),"during state",z.yt(r),n)):(l=isNaN(T)?I:T,d=(T=e.Tt,Z.Bt().yi(e.Tt),!1),l=(M&&(d=!(M=null),e.Tt=l),f.Ss()?p.ao(r,null,e.Tt):p.zr(r,null,e.Tt),r==oe.IDLE&&p.yo(),f.$r()),e=(p.Io(),r!=oe.IDLE&&r!=oe.PLAYBACK_NOT_STARTED&&r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_BEFORE_PLAYBACK&&(f.Nu(e.Tt),f.Ru(e.Tt)),r==oe.PLAYING&&(p.Fr(e.Tt),p.Kr(e.Tt),f.Fr(e.Tt),f.Kr(e.Tt),f.gs(l),f.Du(l),f.Cu(),f.Pu(l),S.Kf().pause(),S.Kf().resume()),r!=oe.BUFFERING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_DURING_PAUSE&&r!=oe.BUFFERING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING||(p.Vr(e.Tt),p.jr(e.Tt),f.Vr(e.Tt),f.jr(e.Tt)),R.Fn(t,e)),f.Fo(e.Jf),f._u(e.Jf),p.Fo(e.Jf),S.Yf().dispatchEvent(e),t==ae.PLAYBACK_RATE&&f.hs(parseInt(n.ns_st_rt)),d&&(f.Qr(l),f.Zr(T),r==oe.PLAYING&&(p.Kr(T),f.Kr(T)),r!=oe.IDLE&&r!=oe.PLAYBACK_NOT_STARTED&&r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_BEFORE_PLAYBACK&&f.Ru(T),r!=oe.BUFFERING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_DURING_PAUSE&&r!=oe.BUFFERING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING&&r!=oe.PAUSED_DURING_BUFFERING||(p.jr(T),f.jr(T)),r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.SEEKING_DURING_BUFFERING&&r!=oe.SEEKING_DURING_PAUSE&&r!=oe.SEEKING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING||f.Gu(T)))}else S.qo().Go("Ignored pseudo-event:",ae.toString(t),"during state",z.yt(r),n)},addListener:removeListener:addMeasurementListener:function(e){ee.Nn(e)&&k.push(e)},removeMeasurementListener:function(e){e=k.indexOf(e);-1!=e&&k.splice(e,1)},hr:function(){return he},hc:function(){return t},gc:function(e){t=e},mc:function(){return n},setLoadTimeOffset:function(e){n=e},yc:function(){return I},Sc:function(){return i},wc:function(){return L},bc:Ic:tu:function(){D=!0},Gf:function(){return S},iu:Pc:setProjectId:),S=new X(R),w=new ne(e||{}),R.jf=new te(w),S.Ac(w),S.Dc(fe),S.Cc(new ce(S)),S.Lc(new ue(S)),S.Tc(new le(w,fe)),S.Yf().Nc(,S.Oc(new _e),S.Rc(new de("STA",S.kc().configuration.Vi())),S.Ec(new ie(S)),S.Dr().Co(a),E=[],d=new s(S),p=new c(S),f=new u(S),h=new l(S),_=new F(S),g=new j(S),m=new G(S),v=new q(S),C=new Y(S),y=new K(S),A=new H(S),b=new W(S),P=new J(S),t=!1,n=0,I=+new Date,i=!0,B=[],N=[],k=[],O={ns_st_vo:"100"},M=null,i=(e=w).Mc,r=e.Uc,L=e.xc}n.Wc=500,n.Fc=!0,n.Bc=!0,e.exports=n},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{Zf:nc:tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(t.Io(),t.Do(),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),n.Fu()&&(n.Ju(n.Xu()),n.ns(r),n.Wu(!1)),t.Oo(),n.qu(!0),n.xo(!0),n.rs(),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),n.xr(),t.Kr(i),n.Kr(i),n.Ru(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,e=(o.pr().Pc(),o.Vc().stop(),n.Nu(r),o.pr().Fn(a.END,e));n.Fo(e.Jf),n._u(e.Jf),t.Fo(e.Jf),o.Yf().dispatchEvent(e),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Wu(!1)),n.es(),n.qu(!1)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,i=(t.Oo(),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.xr(),n.Oo(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr().Ar(),e=e.Tt;t.Fu()&&t.Vu()&&(t.Yu(e-t.ju()),t.Bu(!1)),t.Nu(e),t.es(),t.qu(!1)},nc:tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(n.Fu()&&(n.ns(r),n.Wu(!1)),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),t.Oo(),n.qu(!0),n.xo(!0),n.rs(),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)},Zf:)}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,i=(o.pr().Pc(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Nu(i),n.Du(r),n.Cu(),o.pr().Fn(a.END,e));n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.es(),n.qu(!1)},Zf:nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(o.Kf().pause(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Du(r),n.Cu(),n.Iu(),n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i),n.Nu(i),n.Ru(i),t.Wr(),n.Wr(),o.pr().Fn(a.PAUSE,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(o.Kf().pause(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Du(r),n.Cu(),n.Nu(i),n.Ru(i),t.Wr(),n.Wr(),o.pr().Fn(a.PAUSE,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:uc:function(e){var t=o.Dr(),n=t.Ar(),e=e.Tt;t.Vr(e),n.Vr(e),n.Fu()&&n.Vu()&&(n.Hu(e),n.Bu(!1))},nc:ic:tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(t.Vr(i),n.Vr(i),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.qu(!0),n.xo(!0),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),t.Oo(),n.qu(!0),n.rs(),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{sc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,e=(o.pr().Ic(),n.Nu(r),n.Ru(r),t.Vr(r),n.Vr(r),t.Wr(),n.Wr(),o.pr().Fn(a.PAUSE,e));n.Fo(e.Jf),n._u(e.Jf),t.Fo(e.Jf),o.Yf().dispatchEvent(e),t.jr(r),n.jr(r)},ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,r=(o.pr().Ic(),o.pr().Pc(),o.Vc().stop(),t.Vr(r),n.Vr(r),n.Nu(r),o.pr().Fn(a.END,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r),n.es(),n.qu(!1)},nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(o.pr().Ic(),o.Kf().pause(),o.Vc().stop(),n.Nu(i),n.Ru(i),t.Vr(i),n.Vr(i),n.Iu(),n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i),t.Wr(),n.Wr(),o.pr().Fn(a.PAUSE,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,r=(o.pr().Ic(),n.Nu(r),n.Ru(r),t.Vr(r),n.Vr(r),t.Wr(),n.Wr(),o.pr().Fn(a.PAUSE,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,e=(o.pr().Pc(),o.Vc().stop(),o.pr().Ic(),t.Vr(r),n.Vr(r),n.Nu(r),o.pr().Fn(a.END,e));n.Fo(e.Jf),n._u(e.Jf),t.Fo(e.Jf),o.Yf().dispatchEvent(e),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},ic:tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,i=(t.Oo(),n.Oo(),n.xr(),t.Vr(i),n.Vr(i),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.Nu(i),n.Ru(i),t.Kr(i),n.Kr(i),n.Pu(r),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{cc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,e=(o.pr().Pc(),o.Vc().stop(),t.Vr(r),n.Vr(r),n.Nu(r),o.pr().Fn(a.END,e));n.Fo(e.Jf),n._u(e.Jf),t.Fo(e.Jf),o.Yf().dispatchEvent(e),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},ic:function(e){var t=o.Dr(),n=t.Ar(),e=e.Tt;t.Vr(e),n.Vr(e),n.Nu(e),n.Ru(e)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,i=(t.Oo(),n.Oo(),n.xr(),t.Vr(i),n.Vr(i),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.Nu(i),n.Ru(i),t.Kr(i),n.Kr(i),n.Pu(r),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,r=(o.pr().Pc(),o.Vc().stop(),t.Vr(r),n.Vr(r),n.Nu(r),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),o.pr().Fn(a.END,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r),n.es(),n.qu(!1)},nc:ic:function(e){var t=o.Dr(),n=t.Ar(),e=e.Tt;t.Vr(e),n.Vr(e),n.Nu(e),n.Ru(e)},pc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,i=(t.Oo(),n.Oo(),t.Vr(i),n.Vr(i),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:ic:tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),t.Oo(),n.qu(!0),n.xo(!0),n.rs(),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,e=(o.pr().Pc(),o.Vc().stop(),n.Nu(r),o.pr().Fn(a.END,e));n.Fo(e.Jf),n._u(e.Jf),t.Fo(e.Jf),o.Yf().dispatchEvent(e),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,r=(t.Oo(),n.Oo(),n.xr(),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.Nu(i),n.Ru(i),t.Kr(i),n.Kr(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(r.Jf),n._u(r.Jf),t.Fo(r.Jf),o.Yf().dispatchEvent(r)}})}},function(e,t,n){var r=n(0),a=n(1).I;e.exports=function(o){r.extend(this,{oc:rc:function(e){var t=o.Dr(),n=t.Ar(),e=e.Tt;t.jr(e),n.jr(e),n.Nu(e),n.Ru(e)},dc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt,i=(t.Oo(),n.Oo(),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.Kf().resume(),o.Vc().start(),o.pr().Fn(a.PLAY,e));n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i)},fc:lc:function(e){var t=o.Dr().Ar(),e=e.Tt;t.Fu()&&t.Vu()&&(t.Hu(e),t.Bu(!1)),t.Nu(e),t.Ru(e)},vc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt,e=(o.pr().Pc(),o.Vc().stop(),n.Nu(r),o.pr().Fn(a.END,e));n.Fo(e.Jf),n._u(e.Jf),t.Fo(e.Jf),o.Yf().dispatchEvent(e),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},_c:ac:)}},function(e,t,n){var a=n(0),s=n(7),c=n(45),u=n(46),l=n(47),d=n(53),p=n(114),f={Mc:"pauseOnBuffering",Uc:"pauseOnBufferingInterval",xc:"exitEndEvent",gr:"keepAliveMeasurement",mr:"keepAliveInterval",Tr:"heartbeatMeasurement",Nr:"heartbeatIntervals",Qf:"includedPublishers",nu:"autoResumeStateOnAssetChange",ws:"playbackIntervalMergeTolerance",labels:"labels",bs:"customStartMinimumPlayback"};e.exports=function(e){var t,n=this,r="",i={};for(t in n.Mc=!0,n.Uc=500,n.xc=!0,n.gr=c.ENABLED,n.mr=c.yr,n.Tr=u.ENABLED,n.Nr=u.Or,n.Qf=[],n.nu=l.ru,n.ws=d.Is,n.labels={},n.bs=d.Ps,f){var o=e[f[t]];null!=o&&(n[t]=o)}n.mr=n.mr<c.Sr?c.Sr:n.mr,n.Uc=n.Uc<300?300:n.Uc,n.ws=n.ws<d.Es?d.Es:n.ws,n.mr=1e3*Math.floor(n.mr/1e3),n.Uc=100*Math.floor(n.Uc/100),n.ws=100*Math.floor(n.ws/100),n.bs=1e3*Math.floor(n.bs/1e3),r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r+=n.Mc?"1":"0")+(n.gr?"1":"0"))+(n.Tr?"1":"0"))+(n.nu?"1":"0"))+(n.xc?"1":"0"))+(u.Rr(n.Nr,u.Or)?"0":"1"))+(0<n.Qf.length?"1":"0"))+(n.ws!=d.Is?"1":"0"))+(n.bs!=d.qc?"1":"0"))+"-"+(n.Uc/100).toString(16))+"-"+(n.mr/1e3).toString(16))+"-"+(n.bs/1e3).toString(16))+"-"+(n.ws/100).toString(16),n.Xf=function(){return r},a.extend(n,{getLabels:function(){return n.labels},addLabels:setLabel:removeLabel:removeAllLabels:getStreamingPublisherConfiguration:zf:function(){return i}})}},function(e,t){var n={Gc:au:function(e,t){t+="";return Array(e).join("0").substring(0,Math.max(e-t.length,0))+t}};e.exports=n},function(e,t,n){var d=n(0),p=n(1).I,f=n(28);e.exports=function(o,a){var e,s,c,t,n=this;nction r(){for(var e=0;e<c.length;++e)c[e]();a.configuration.removeListener(l);for(var t=a.configuration.Di(),e=0;e<s.length;++e)for(var n=s[e],r=0;r<t.length;r++){var i=t[r];0<o.Qf.length&&-1==o.Qf.indexOf(i)||n.addIncludedPublisher(i)}u()}function i(){var e=a.configuration.Di();if(0==o.Qf.length)return 1;for(var t=0;t<e.length;++t)if(-1!=o.Qf.indexOf(e[t]))return 1}d.extend(this,{dispatchEvent:Nc:function(e){c.push(e)},le:function(){return e},Hc:function(){e++}}),e=1,s=[],c=[],(t=a.configuration.Fi())&&i()||a.configuration.addListener(l)}},function(e,t){e.exports=function(n,o){unction r(e){var t,n,r;if("boolean"==typeof o||!o)return o;if(r=e.join(" "),!(o instanceof Array&&0<o.length)){if("object"!=typeof o)return 1;var i=!1;if(o.hide instanceof Array)for(t=0;t<o.hide.length;++t)if((n=o.hide[t])instanceof RegExp&&n.test(r)){i=!0;break}if(o.show instanceof Array)for(t=0;t<o.show.length;++t)if((n=o.show[t])instanceof RegExp&&n.test(r))return 1;return!i&&!o.show}for(t=0;t<o.length;++t)if((n=o[t])instanceof RegExp&&n.test(r))return 1}this.log=function(){var e=t(arguments);"undefined"!=typeof console&&"function"==typeof console.log&&r(e)&&console.log.apply(console,e)},this.warn=function(){var e=t(arguments);"undefined"!=typeof console&&"function"==typeof console.warn&&r(e)&&console.warn.apply(console,e)},this.error=this.Vo=this.Go=this.Kc=function(e,t){e=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&e.push("Use",t,"instead."),this.warn.apply(this,e)}}},function(e,t,n){var a=n(1).P,s=n(0),c=n(1).I;e.exports=function(e){var n,r,i,o=this;s.extend(o,{$f:Yo:function(){return i},zo:function(e,t){e=o.$f(e);i!=e&&(r=i,i=e,n=t)},Jc:function(){return r},Yc:function(){return n}}),i=a.IDLE,r=null,n=NaN}},function(e,t,n){var a=n(0),s=n(7),c=n(1).I,u=n(16);e.exports=function(n){var r=n.pr();function i(e,t){e=new u(e);return s.Fn(e.Ct,t||{}),e}function o(e,t,n,r){e=i(e,r);return null!=n&&e.setLabel(t,n+""),e}a.extend(this,{setLoadTimeOffset:setPlaybackSessionExpectedLength:function(e){n.qo().Vo("setPlaybackSessionExpectedLength",e),r.Gf().Dr().ko(e)},setPlaybackSessionExpectedNumberOfItems:notifySkipAd:function(e){n.qo().Vo("notifySkipAd",e);e=i(c.AD_SKIP,e);r.zo(e)},notifyLoad:function(e){n.qo().Vo("notifyLoad",e);e=i(c.LOAD,e);r._r(e)},notifyEngage:function(e){n.qo().Vo("notifyEngage",e);e=i(c.ENGAGE,e);r._r(e)},notifyCallToAction:function(e){n.qo().Vo("notifyCallToAction",e);e=i(c.CTA,e);r._r(e)},notifyDrmFail:function(e){n.qo().Vo("notifyDrmFail",e);e=i(c.DRM_FAILED,e);r._r(e)},notifyDrmApprove:function(e){n.qo().Vo("notifyDrmApprove",e);e=i(c.DRM_APPROVED,e);r._r(e)},notifyDrmDeny:function(e){n.qo().Vo("notifyDrmDeny",e);e=i(c.DRM_DENIED,e);r._r(e)},notifyCustomEvent:function(e,t){n.qo().Vo("notifyCustomEvent",e,t);t=i(c.CUSTOM,t);t.setLabel("ns_st_cev",e+""),r._r(t)},notifyChangeBitrate:function(e,t){n.qo().Vo("notifyChangeBitrate",e,t);e=o(c.BIT_RATE,"ns_st_br",e,t);r._r(e)},notifyChangeVolume:function(e,t){n.qo().Vo("notifyChangeVolume",e,t);e=Math.floor(100*e),e=o(c.VOLUME,"ns_st_vo",e,t);r._r(e)},notifyChangeWindowState:function(e,t){n.qo().Vo("notifyChangeWindowState",e,t);e=o(c.WINDOW_STATE,"ns_st_ws",e,t);r._r(e)},notifyChangeAudioTrack:function(e,t){n.qo().Vo("notifyChangeAudioTrack",e,t);e=o(c.AUDIO,"ns_st_at",e,t);r._r(e)},notifyChangeVideoTrack:function(e,t){n.qo().Vo("notifyChangeVideoTrack",e,t);e=o(c.VIDEO,"ns_st_vt",e,t);r._r(e)},notifyChangeSubtitleTrack:function(e,t){n.qo().Vo("notifyChangeSubtitleTrack",e,t);e=o(c.SUBS,"ns_st_tt",e,t);r._r(e)},notifyChangeCdn:function(e,t){n.qo().Vo("notifyChangeCdn",e,t);e=o(c.CDN,"ns_st_cdn",e,t);r._r(e)},notifyError:function(e,t){r.Gf().qo().Vo("notifyError",e,t);e=o(c.ERROR,"ns_st_er",e,t);r._r(e)},notifyTransferPlayback:function(e,t){r.Gf().qo().Vo("notifyTransferPlayback",e,t);e=o(c.TRANSFER,"ns_st_rp",e,t);r._r(e)}})}},,r={},i.o=n,i.c=r,i.d=i.r=i._=i.n=i.u=i.p="",i(i.s=54);ar n,r}),window.CBC||(window.CBC={}),(CBC=CBC||window.CBC).APP||(CBC.APP={}),CBC.APP.AB||(CBC.APP.AB={}),CBC.APP.ANA||(CBC.APP.ANA={}),CBC.APP.ANA.ABTESTSCONFIG||(CBC.APP.ANA.ABTESTSCONFIG={}),CBC.APP.ANA.DISPATCHERS||(CBC.APP.ANA.DISPATCHERS={}),CBC.APP.ANA.DISPATCHERS.Adobe||(CBC.APP.ANA.DISPATCHERS.Adobe={}),CBC.APP.ANA.DISPATCHERS.Amplitude||(CBC.APP.ANA.DISPATCHERS.Amplitude={}),CBC.APP.ANA.DISPATCHERS.FBPIXEL||(CBC.APP.ANA.DISPATCHERS.FBPIXEL={}),CBC.APP.ANA.DISPATCHERS.MirRoar||(CBC.APP.ANA.DISPATCHERS.MirRoar={}),CBC.APP.ANA.ER||(CBC.APP.ANA.ER={}),CBC.APP.ANA.FORMATTERS||(CBC.APP.ANA.FORMATTERS={}),CBC.APP.ANA.FORMATTERS.Adobe||(CBC.APP.ANA.FORMATTERS.Adobe={}),CBC.APP.ANA.FORMATTERS.Amplitude||(CBC.APP.ANA.FORMATTERS.Amplitude={}),CBC.APP.ANA.FORMATTERS.Common||(CBC.APP.ANA.FORMATTERS.Common={}),CBC.APP.ANA.FORMATTERS.Comscore||(CBC.APP.ANA.FORMATTERS.Comscore={}),CBC.APP.ANA.FORMATTERS.MirRoar||(CBC.APP.ANA.FORMATTERS.MirRoar={}),CBC.APP.ANA.LIBRARY||(CBC.APP.ANA.LIBRARY={}),CBC.APP.ANA.LIBRARY.Amplitude||(CBC.APP.ANA.LIBRARY.Amplitude={}),CBC.APP.ANA.LIBRARY.FBPIXEL||(CBC.APP.ANA.LIBRARY.FBPIXEL={}),CBC.APP.ANA.LIBRARY.SENTRY||(CBC.APP.ANA.LIBRARY.SENTRY={}),CBC.APP.ANA.LinkTracker||(CBC.APP.ANA.LinkTracker={}),CBC.APP.ANA.SEARCHDEFAULT||(CBC.APP.ANA.SEARCHDEFAULT={}),CBC.APP.ANA.VALIDATORS||(CBC.APP.ANA.VALIDATORS={}),CBC.APP.ANA.VALIDATORS.Adobe||(CBC.APP.ANA.VALIDATORS.Adobe={}),CBC.APP.ANA.VALIDATORS.Amplitude||(CBC.APP.ANA.VALIDATORS.Amplitude={}),CBC.APP.ANA.VALIDATORS.Common||(CBC.APP.ANA.VALIDATORS.Common={}),CBC.APP.ANA.VALIDATORS.FBPIXEL||(CBC.APP.ANA.VALIDATORS.FBPIXEL={}),CBC.APP.ANA.VALIDATORS.MirRoar||(CBC.APP.ANA.VALIDATORS.MirRoar={}),CBC.APP.ANA.VARS||(CBC.APP.ANA.VARS={}),CBC.APP.COMSCORE||(CBC.APP.COMSCORE={}),CBC.APP.CXENSE||(CBC.APP.CXENSE={}),CBC.APP.DMP||(CBC.APP.DMP={}),CBC.APP.DMP.LOTAME||(CBC.APP.DMP.LOTAME={}),CBC.APP.PubSub||(CBC.APP.PubSub={}),CBC.APP.readJS||(CBC.APP.readJS={}),CBC.APP.SC||(CBC.APP.SC={}),CBC.APP.SC.DTM||(CBC.APP.SC.DTM={}),CBC.APP.SC.DTM.DATA||(CBC.APP.SC.DTM.DATA={}),CBC.APP.SC.DTM.formatted||(CBC.APP.SC.DTM.formatted={}),CBC.APP.SC.EventTracker||(CBC.APP.SC.EventTracker={}),CBC.APP.SC.LOCALGEO||(CBC.APP.SC.LOCALGEO={}),CBC.APP.SC.masterSwitch||(CBC.APP.SC.masterSwitch={}),CBC.APP.SC.metadataAllowlist||(CBC.APP.SC.metadataAllowlist={}),CBC.APP.SC.PageTracker||(CBC.APP.SC.PageTracker={}),CBC.APP.SC.Pillar||(CBC.APP.SC.Pillar={}),CBC.APP.SC.Subscribers||(CBC.APP.SC.Subscribers={}),CBC.APP.SC.UTIL||(CBC.APP.SC.UTIL={}),CBC.APP.SC.VideoHeartbeat||(CBC.APP.SC.VideoHeartbeat={}),CBC.APP.SC.VideoHeartbeatVars||(CBC.APP.SC.VideoHeartbeatVars={}),CBC.APP.versions||(CBC.APP.versions={}),window.CBCRC||(window.CBCRC={}),(CBCRC=CBCRC||window.CBCRC).ANA||(CBCRC.ANA={}),CBCRC.ANA.DATALAYER||(CBCRC.ANA.DATALAYER={}),CBCRC.ANA.MEDIA||(CBCRC.ANA.MEDIA={}),CBC.APP.versions["cbc-stats-top"]="2.143.0",CBC.APP.version||(CBC.APP.version=function(){return{"cbc-stats-top.js":CBC.APP.versions["cbc-stats-top"],"cbc-stats-bottom.js":CBC.APP.versions["cbc-stats-bottom"]}});var CryptoJS=CryptoJS||Math),s_account=(!function(){var e=CryptoJS,t=e.lib,i=t.Base,o=t.WordArray;(e=e.x64={}).Word=i.extend({init:),e.WordArray=i.extend({init:toX32:clone:)}(),!function(s){for(var e=CryptoJS,c=(t=e.lib).WordArray,r=t.Hasher,n=e.x64.Word,t=e.algo,l=[],d=[],p=[],i=1,o=0,a=0;a<24;a++){l[i+5*o]=(a+1)*(a+2)/2%64;var u=(2*i+3*o)%5,i=o%5,o=u}for(i=0;i<5;i++)for(o=0;o<5;o++)d[i+5*o]=o+(2*i+3*o)%5*5;for(i=1,o=0;o<24;o++){for(var f,h=u=a=0;h<7;h++)1&i&&((f=(1<<h)-1)<32?u^=1<<f:a^=1<<f-32),i=128&i?i<<1^113:i<<1;p[o]=n.create(a,u)}for(var _=[],i=0;i<25;i++)_[i]=n.create();t=t.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=16711935&((o=e[t+2*i])<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&((a=e[t+2*i+1])<<8|a>>>24)|4278255360&(a<<24|a>>>8),s=n[i];s.high^=a,s.low^=o}for(r=0;r<24;r++){for(i=0;i<5;i++){for(var c=o=0,u=0;u<5;u++)o^=(s=n[i+5*u]).high,c^=s.low;(s=_[i]).high=o,s.low=c}for(i=0;i<5;i++)for(a=(o=_[(i+1)%5]).high,u=o.low,o=(s=_[(i+4)%5]).high^(a<<1|u>>>31),c=s.low^(u<<1|a>>>31),u=0;u<5;u++)(s=n[i+5*u]).high^=o,s.low^=c;for(a=1;a<25;a++)i=(s=n[a]).high,s=s.low,c=(u=l[a])<32?(o=i<<u|s>>>32-u,s<<u|i>>>32-u):(o=s<<u-32|i>>>64-u,i<<u-32|s>>>64-u),(s=_[d[a]]).high=o,s.low=c;for(i=n[0],(s=_[0]).high=i.high,s.low=i.low,i=0;i<5;i++)for(u=0;u<5;u++)(s=n[a=i+5*u]).high=(o=_[a]).high^~(a=_[(i+1)%5+5*u]).high&(c=_[(i+2)%5+5*u]).high,s.low=o.low^~a.low&c.low;(s=n[0]).high^=(i=p[r]).high,s.low^=i.low}},_doFinalize:function(){var e=(r=this._data).words,t=8*r.sigBytes,n=32*this.blockSize;e[t>>>5]|=1<<24-t%32,e[(s.ceil((1+t)/n)*n>>>5)-1]|=128,r.sigBytes=4*e.length,this._process();for(var r=this._state,t=(e=this.cfg.outputLength/8)/8,n=[],i=0;i<t;i++){var o=(a=r[i]).high,a=a.low,o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);n.push(16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)),n.push(o)}return new c.init(n,e)},clone:),e.SHA3=r._createHelper(t),e.HmacSHA3=r._createHmacHelper(t)}(Math),CBC.APP.SC.DTM.formatted={adobe:{},amplitude:{},chartbeat:{},comscore:{},cxense:{},googlecloud:{},lotame:{},raw:{}},CBC.APP.SC.state={},CBC.APP.SC.state.referrer={},CBC.APP.SC.UTIL=function(){"use strict";var e,c=[],t={console:!1};return{init:getElementById:function(e){var t=document.getElementById(e);return{el:t,tags:function(e){return t.getElementsByTagName(e)}}},typecheck:function(e){return{element:!!e.nodeType,array:!(!e.length||!e.pop),function:e instanceof Function,object:e instanceof Object,string:"string"==typeof e,number:"number"==typeof e,boolean:"boolean"==typeof e,undefined:void 0===e}},getAnchor:addListener:function(e){var t,n,r,i,o,a,s=e.element;return!!this.typecheck(s).element&&(t=e.preventDefault,n=e.stopPropagation,r=e.obj,i=e.params,o=e.callback,e=e.type,c.push({type:e,element:s,callback:o,localCallback:a=function(e){e=CBC.APP.SC.UTIL.getEventObject(e),t&&e.preventDefault(),n&&e.stopPropagation(),r&&i?o.call(r,e,i):r?o.call(r,e):i?o.call(s,e,i):o.call(s,e)}}),s.addEventListener?(s.addEventListener(e,a,!1),!0):s.attachEvent?s.attachEvent("on"+e,a):void(s["on"+e]=a))},getEventObject:function(e){return{originalEvent:e=e||window.event,target:e.target||e.srcElement,charCode:e.charCode||e.keyCode,type:e.type,layerX:e.layerX||e.offsetX,layerY:e.layerY||e.offsetY,clientX:e.clientX,clientY:e.clientY,fromElement:"mouseover"===e.type?e.fromElement||e.relatedTarget:null,toElement:"mouseout"===e.type?e.toElement||e.relatedTarget:null,preventDefault:function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},stopPropagation:},stripHTML:function(e){var t;return e=50<(e=(e=/<img .*?(\/>|>)/i.test(e)?(t=/<img .*?(?:\/>|>)/i.exec(e)[0],/alt="[^"]+?"/.test(t)?/alt="(.*?)"/i.exec(t)[1]:/src="(.*\/|)(.*?)"/i.exec(t)[2]):(e=e.replace(/<.*?>/g,"")).replace("/&amp;/i","")).replace(/["]/g,"")).length?e.substr(0,50):e},findParentTag:function(e,t){if(e.nodeName===t.toUpperCase())return e;for(;"BODY"!==e.nodeName&&(e=e.parentNode)&&e.nodeName!==t.toUpperCase(););return e&&"BODY"!==e.nodeName?e:null},debug:function(e){Boolean(CBC.APP.SC.DEBUG)&&"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)},debugListeners:arrayFromArguments:checkPropertyExistence:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=t.split("."),i=e;if(void 0!==i){for(var o=0;o<r.length;++o)if(void 0===(i=i[r[o]]))return;return i&&(n.allowObjects||"object"!==_typeof2(i))?i:void 0}},dropInvalidObjectProperties:function(n){if(Array.isArray(n)){n=n.filter(function(e){return e||0===e||!1===e}).filter(;for(var e=0;e<n.length;++e)"object"===_typeof2(n[e])&&(n[e]=window.CBC.APP.SC.UTIL.dropInvalidObjectProperties(n[e]))}else Object.entries(n).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];"object"===_typeof2(e)&&null!==e&&(n[t]=window.CBC.APP.SC.UTIL.dropInvalidObjectProperties(n[t]))}),n=Object.entries(n).filter(function(e){e=_slicedToArray(e,2),e[0],e=e[1];return!(null==e||"function"==typeof e)}).filter(function(e){e=_slicedToArray(e,2),e[0],e=e[1];return e&&"object"!==_typeof2(e)||0===e||!1===e||Array.isArray(e)&&e.length||"object"===_typeof2(e)&&Object.keys(e).length}).reduce({});return n},mediaCustomContextDataObjectGenerate:function(e,t,n){if("object"===_typeof2(e=e||{})&&!Array.isArray(e)&&"object"===_typeof2(t)&&!Array.isArray(t))for(var r in t){var i;"keywords"!==r&&(i="",n.push(r),{}.hasOwnProperty.call(t,r)&&("object"===_typeof2(t[r])?Array.isArray(t[r])?(i=t[r].join(","),e[n.join(".")]=i):null===t[r]?e[n.join(".")]=null:e=this.mediaCustomContextDataObjectGenerate(e,t[r],n):(i=t[r],e[n.join(".")]=i)),n.pop())}return e},deepMergeObjs:function(e,t){if("object"===_typeof2(e=e||{})&&!Array.isArray(e)&&"object"===_typeof2(t)&&!Array.isArray(t))for(var n in t)!{}.hasOwnProperty.call(t,n)||("object"===_typeof2(t[n])?Array.isArray(t[n])?Array.isArray(e[n])?e[n]=e[n].concat(t[n]):e[n]=JSON.parse(JSON.stringify(t[n])):e[n]=this.deepMergeObjs(e[n],t[n]):e[n]=t[n]);return e},queryStringToObj:function(e){for(var t=e.split(/[;&]/),n={},r=0;r<t.length;r++){var i=t[r].split("="),o=unescape(i[0].toLowerCase()),i=unescape(i[1]).replace(/\+/g," ");0<o.length&&0<i.length&&(n[o]=i)}return n},getRadioPopupParams:function(){var e={},t={cbc_radio_one:"radio1",cbc_radio_2:"radio2"},n=window.location.href.match("(#/?|\\?)(.*$)"),r="contentarea=radio";return(e=n&&2<n.length?this.queryStringToObj(n[2]):e).networkkey&&(r+="&subsection1="+(t[e.networkkey]||e.networkkey)),r=r+"&subsection2=liveradio"+"&contenttype=page"},isExternallyHosted:function(){var e=document.location.pathname;return!!(e=window.spoofed_pathname?window.spoofed_pathname:e).toLowerCase().match(/^\/g\/stats\/ext.html/g)},makeRequest:function(e,t,n,r,i,o,a,s){var c=new XMLHttpRequest;c.open(e,encodeURI(t)),o&&(c.withCredentials=!0),a&&Object.keys(a).forEach(,s&&s.timeout&&(c.timeout=s.timeout,c.ontimeout=s.cb),c.onload=function(){200===c.status||201===c.status?r.success(c,i):(r.failure(c,i),console&&console.log("Request failed.  Returned status of "+c.status))},c.send(n)},makeGETRequest:function(e,t,n,r,i,o){this.makeRequest("GET",e,void 0,t,n,r,i,o)},makePOSTRequest:function(e,t,n,r,i,o,a){this.makeRequest("POST",e,t,n,r,i,o,a)},makePUTRequest:setCookie:function(e,t,n,r){var i=new Date,n=(i.setTime(i.getTime()+864e5*n),"expires="+i.toUTCString()),i=void 0!==r?";domain="+r:"";document.cookie=e+"="+encodeURIComponent(t)+";"+n+";path=/"+i},getCookie:expireCookie:getUuid:function(){function e(e){var t=65535&Math.floor(65536*(1+Math.random()));for("M"===e&&(t=4095&t|16384),t=(t="N"===e?16383&t|32768:t).toString(16);t.length<4;)t="0"+t;return t}return e()+e()+"-"+e()+"-"+e("M")+"-"+e("N")+"-"+e()+e()+e()},requiredExists:concatSubsections:function(){for(var e,t=CBC.APP.SC.DTM.DATA,n={},r=[],i=0;i<5;i++)"string"==typeof t["subsection"+(i+1)]&&r.push(t["subsection"+(i+1)]),"string"==typeof r[i]&&(e=r.slice(0,i+1),n["subsection"+(i+1)]=t.contentarea+":"+e.join(":"));return n},sendDataToUIE:function(e){try{var t=CBC.APP.SC.UTIL.createUIEPayload(e);if(!t["cbc:gem_id"]&&!t["cbc:adestra_id"])return!1;t&&this.makePUTRequest(window.CBC.APP.SC.masterSwitch.idexchange.endpoint+"ids",JSON.stringify(t),{success:function(e,t){CBC.APP.SC.UTIL.console("sendDataToUIE: Success!")},failure:function(e,t){CBC.APP.SC.UTIL.console("sendDataToUIEs: Failure!")}},"",!0)}catch(e){CBC.APP.SC.UTIL.console("sendDataToUIE: "+e)}},removeGemID:function(e){var t;return e.user&&e.user.id&&e.user.id.gem?(delete(t=e).user.id.gem,0===Object.keys(t.user).length?delete t.user:0===Object.keys(t.user.id).length&&delete t.user.id,t):e},removeCBCPlusID:function(){try{CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.switches.idexchange&&CBC.APP.SC.masterSwitch.idexchange&&CBC.APP.SC.masterSwitch.idexchange.endpoint&&this.makePOSTRequest(CBC.APP.SC.masterSwitch.idexchange.endpoint+"logout","",{success:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: logout success!"),CBC.APP.PubSub.publish("UIEAlert"),CBC.APP.SC.UTIL.console("After successfully removing the 'cbc_plus' cookie, the UIEAlert is published.")},failure:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: logout failure! Error: "+e.responseText)}},"",!0)}catch(e){CBC.APP.SC.UTIL.console("setCBCPlusID: "+e)}},setReferrerPillar:function(){var e=CBC.APP.SC.UTIL.getCookie("referrerPillar"),e=(CBC.APP.SC.DTM.formatted.raw.referrer.pillar=e||"noreferrer",CBC.APP.SC.DTM.DATA.pillar||"legacy");CBC.APP.SC.UTIL.setCookie("referrerPillar",e,365,".cbc.ca")},getReferringDepartment:setReferringDepartment:function(e){CBC.APP.SC.UTIL.setCookie("referringDepartment",e,365,".cbc.ca")},validateDepartment:function(){var e=CBC.APP.SC.DTM.formatted.raw.department;if(e){var t=CBC.APP.SC.UTIL.getMetadataAllowlist(),n=t.metadata.allowlist.department.level1,r=t.metadata.allowlist.department.level2,t=t.metadata.allowlist.department.level3,n=Object.keys(n),i=Object.keys(r),o=Object.keys(t),a=e.level1?CBC.APP.SC.UTIL.normalize(e.level1):"",s=e.level2?CBC.APP.SC.UTIL.normalize(e.level2):"",c=e.level3?CBC.APP.SC.UTIL.normalize(e.level3):"";if(e.level1&&-1===n.indexOf(a))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 1",a),CBC.APP.SC.DTM.formatted.raw),!1;if(e.level2){if(-1===i.indexOf(s))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 2",s),CBC.APP.SC.DTM.formatted.raw),!1;if(!(-1!==r[s].indexOf(a)))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 2 under Department Level 1",s),CBC.APP.SC.DTM.formatted.raw),!1}if(e.level3){if(-1===o.indexOf(c))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 3",c),CBC.APP.SC.DTM.formatted.raw),!1;if(!(-1!==t[c].indexOf(s)))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 3 under Department Level 2",c),CBC.APP.SC.DTM.formatted.raw),!1}return!0}return!1},initReferringDepartmentStatus:function(){CBC.APP.SC.state.referrer.department||(CBC.APP.SC.state.referrer.department={}),CBC.APP.SC.state.referrer.department.STREAMED="",CBC.APP.SC.state.referrer.department.WATCHED=""},getReferringDepartmentStatus:setReferringDepartmentStatus:function(e,t){/^(STREAMED|WATCHED)?/.test(e.toUpperCase())&&(CBC.APP.SC.state.referrer.department[e.toUpperCase()]=t)},setFormattedLayer:function(){var t,e=CBC.APP.SC.UTIL.getMetadataAllowlist(),n=(CBC.APP.SC.DTM.formatted.raw=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.DATA)),CBC.APP.SC.DTM.formatted.raw.referrer?"string"==typeof CBC.APP.SC.DTM.formatted.raw.referrer?(n=CBC.APP.SC.DTM.formatted.raw.referrer,CBC.APP.SC.DTM.formatted.raw.referrer={},CBC.APP.SC.DTM.formatted.raw.refererr.url=n):CBC.APP.SC.DTM.formatted.raw.referrer.url=CBC.APP.SC.DTM.formatted.raw.referrer.url||this.getReferrer(document):(CBC.APP.SC.DTM.formatted.raw.referrer={},CBC.APP.SC.DTM.formatted.raw.referrer.url=this.getReferrer(document)),new RegExp("^\\d{2}\\/\\d{2}\\/\\d{4} \\d{2}:\\d{2}:\\d{2}$"));if(CBC.APP.SC.DTM.formatted.raw.publishedTime&&n.test(CBC.APP.SC.DTM.formatted.raw.publishedTime)&&(i=new Date(CBC.APP.SC.DTM.formatted.raw.publishedTime.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$3-$2-$1").replace(/\s+/,"T").concat("Z")),CBC.APP.SC.DTM.formatted.raw.publishedTime=i.getTime()),CBC.APP.SC.DTM.formatted.raw.updatedTime&&n.test(CBC.APP.SC.DTM.formatted.raw.updatedTime)&&(i=new Date(CBC.APP.SC.DTM.formatted.raw.updatedTime.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$3-$2-$1").replace(/\s+/,"T").concat("Z")),CBC.APP.SC.DTM.formatted.raw.updatedTime=i.getTime()),/^https?:\/\/(gem|watch).*/.test(document.location.href)&&"object"===_typeof2(CBC.APP.SC.DTM.formatted.raw.title)&&void 0!==CBC.APP.SC.DTM.formatted.raw.subsection4&&(CBC.APP.SC.DTM.formatted.raw.titleObject=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.formatted.raw.title)),CBC.APP.SC.DTM.formatted.raw.title=CBC.APP.SC.DTM.formatted.raw.subsection4),void 0===CBC.APP.SC.DTM.formatted.raw.contentid&&("string"==typeof CBC.APP.SC.DTM.formatted.raw.url?CBC.APP.SC.DTM.formatted.raw.contentid=this.getContentID(CBC.APP.SC.DTM.formatted.raw.url):CBC.APP.SC.DTM.formatted.raw.contentid=this.getContentID(document.location.href),""===CBC.APP.SC.DTM.formatted.raw.contentid)&&delete CBC.APP.SC.DTM.formatted.raw.contentid,CBC.APP.SC.DTM.formatted.raw.embedtypes&&e.metadata.allowlist.content.embedded.media&&(t=e.metadata.allowlist.content.embedded.media,(n=this.sanitizeArray(CBC.APP.SC.DTM.formatted.raw.embedtypes).filter().sort(),CBC.APP.SC.DTM.formatted.raw.embedtypes=n.join("-")),CBC.APP.SC.DTM.formatted.raw.sponsor){var r,i=this.cleanString(CBC.APP.SC.DTM.formatted.raw.sponsor.name),o={};for(r in e.metadata.allowlist.sponsor.name)o[this.cleanString(r)]=e.metadata.allowlist.sponsor.name[r];o[i]?CBC.APP.SC.DTM.formatted.raw.sponsor.name=i:(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Sponsor Name",i),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.sponsor)}if(CBC.APP.SC.DTM.formatted.raw.partner){var a,n=this.cleanString(CBC.APP.SC.DTM.formatted.raw.partner.name),s={};for(a in e.metadata.allowlist.partner.name)s[this.cleanString(a)]=e.metadata.allowlist.partner.name[a];s[n]?CBC.APP.SC.DTM.formatted.raw.partner.name=n:(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Partner Name",n),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.partner)}this.setReferrerPillar();var c=this.getReferringDepartment().split(":");if(""!=c[0]){CBC.APP.SC.DTM.formatted.raw.referrer.department={};for(var u=0;u<c.length;++u)CBC.APP.SC.DTM.formatted.raw.referrer.department["level"+(u+1)]=c[u]}else CBC.APP.SC.DTM.formatted.raw.referrer.department={level1:"noreferrer"};this.validateDepartment()?(n=[(i=CBC.APP.SC.DTM.formatted.raw.department).level1,i.level2,i.level3],this.setReferringDepartment(n.filter(.join(":"))):this.setReferringDepartment("noreferrer"),CBC.APP.SC.LOCALGEO&&CBC.APP.SC.LOCALGEO.geo&&(CBC.APP.SC.DTM.formatted.raw.geo=CBC.APP.SC.DTM.formatted.raw.geo||{},CBC.APP.SC.DTM.formatted.raw.geo.timezone=CBC.APP.SC.LOCALGEO.geo.timezone||void 0,CBC.APP.SC.DTM.formatted.raw.geo.country=CBC.APP.SC.LOCALGEO.geo.country||void 0,CBC.APP.SC.DTM.formatted.raw.geo.city=CBC.APP.SC.LOCALGEO.geo.city||void 0,CBC.APP.SC.DTM.formatted.raw.geo.region=CBC.APP.SC.LOCALGEO.geo.region||void 0),CBC.APP.SC.DTM.formatted.raw.contentcms&&(CBC.APP.SC.DTM.formatted.raw.contentcms=this.normalize(CBC.APP.SC.DTM.formatted.raw.contentcms),e.metadata.allowlist.content.cms[CBC.APP.SC.DTM.formatted.raw.contentcms]||(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Content CMS",CBC.APP.SC.DTM.formatted.raw.contentcms),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.contentcms)),CBC.APP.SC.DTM.formatted.raw.appname?(CBC.APP.SC.DTM.formatted.raw.appname=this.normalize(CBC.APP.SC.DTM.formatted.raw.appname),CBC.APP.ANA.VALIDATORS.Common.validateAppName(CBC.APP.SC.DTM.formatted.raw.appname)||CBC.APP.SC.DTM.formatted.raw.pillar&&((i=CBC.APP.SC.UTIL.determineAppName(CBC.APP.SC.DTM.formatted.raw.pillar,window))?CBC.APP.SC.DTM.formatted.raw.appname=i:(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("App Name",i),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.appname))):(n=CBC.APP.SC.UTIL.determineAppName(CBC.APP.SC.DTM.formatted.raw.pillar,window))&&(CBC.APP.SC.DTM.formatted.raw.appname=n),CBC.APP.SC.DTM.formatted.raw.keywords=this.standardizeKeywordsData(CBC.APP.SC.DTM.formatted.raw.keywords);for(var i=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.formatted.raw)),n=(void 0!==i.sponsor&&void 0===i.sponsor.name&&delete i.sponsor,CBC.APP.SC.UTIL.sanitizeObject(JSON.parse(JSON.stringify(i)))),n=(CBC.APP.SC.DTM.formatted.adobe=JSON.parse(JSON.stringify(n)),CBC.APP.SC.DTM.formatted.amplitude=JSON.parse(JSON.stringify(n)),CBC.APP.SC.DTM.formatted.chartbeat=JSON.parse(JSON.stringify(i)),CBC.APP.SC.DTM.formatted.comscore=JSON.parse(JSON.stringify(i)),CBC.APP.SC.DTM.formatted.harmonizedAdobe=JSON.parse(JSON.stringify(i)),CBC.APP.SC.DTM.formatted.lotame=JSON.parse(JSON.stringify(i)),CBC.APP.SC.DTM.formatted.MirRoar=JSON.parse(JSON.stringify(n)),JSON.parse(JSON.stringify(i))),l=["blogarchivetitle","contentarea","contenttype","hierarchy","pillar","spa","syndicate","title"],d=0;d<l.length;d+=1)"string"==typeof CBC.APP.SC.DTM.formatted.adobe[l[d]]&&(CBC.APP.SC.DTM.formatted.adobe[l[d]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe[l[d]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));for(var p=["author","keywords"],f=0;f<p.length;f+=1)"string"==typeof CBC.APP.SC.DTM.formatted.adobe[p[f]]&&(CBC.APP.SC.DTM.formatted.adobe[p[f]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe[p[f]].replace(/, /g,",")));for(var h=["subsection1","subsection2","subsection3","subsection4"],_=0;_<h.length;_+=1)"string"==typeof CBC.APP.SC.DTM.formatted.adobe[h[_]]&&(CBC.APP.SC.DTM.formatted.adobe[h[_]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe[h[_]],"_"));var g=["name","position"];if(CBC.APP.SC.DTM.formatted.adobe.feature)for(var m=0;m<g.length;m+=1)CBC.APP.SC.DTM.formatted.adobe.feature[g[m]]&&"string"==typeof CBC.APP.SC.DTM.formatted.adobe.feature[g[m]]&&(CBC.APP.SC.DTM.formatted.adobe.feature[g[m]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe.feature[g[m]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));var v=["level1","level2","level3"];if(CBC.APP.SC.DTM.formatted.adobe.department)for(var C=0;C<v.length;C+=1)CBC.APP.SC.DTM.formatted.adobe.department[v[C]]&&"string"==typeof CBC.APP.SC.DTM.formatted.adobe.department[v[C]]&&(CBC.APP.SC.DTM.formatted.adobe.department[v[C]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe.department[v[C]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));if(CBC.APP.SC.DTM.formatted.adobe.referrer.department)for(var y=0;y<v.length;y+=1)CBC.APP.SC.DTM.formatted.adobe.referrer.department[v[y]]&&"string"==typeof CBC.APP.SC.DTM.formatted.adobe.referrer.department[v[y]]&&(CBC.APP.SC.DTM.formatted.adobe.referrer.department[v[y]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe.referrer.department[v[y]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));void 0!==CBC.APP.SC.DTM.formatted.raw&&(void 0!==CBC.APP.SC.DTM.formatted.raw.url&&(CBC.APP.SC.DTM.formatted.chartbeat.url=CBC.APP.SC.DTM.formatted.raw.url.replace("cbc.ca/beta/","cbc.ca/")),void 0!==CBC.APP.SC.DTM.formatted.raw.authors)&&(CBC.APP.SC.DTM.formatted.chartbeat.authors=CBC.APP.SC.DTM.formatted.raw.authors.toLowerCase().replace(/, /g,",").replace(/\s/g,"-")),void 0!==CBC.APP.SC.DTM.formatted.raw&&CBC.APP.SC.syndicate&&(i=(i=CBC.APP.SC.syndicate).replace(/\s/g,"-").toLowerCase(),CBC.APP.SC.DTM.formatted.comscore.syndicate=i);i="object"===_typeof2(n.keywords)?CBC.APP.SC.UTIL.formatKeywordsData(n.keywords):{};BC.APP.SC.DTM.formatted.cxense={authors:n.authors,contentarea:A(n.contentarea),contentcms:n.contentcms,contentid:n.contentid,contenttype:A(n.contenttype),embedtypes:n.embedtypes,experimentsContent:n.experiments?n.experiments.content:"",keywords:"string"==typeof n.keywords?n.keywords:"",keywordsCollections:i.collections,keywordsCompany:i.company,keywordsLocation:i.location,keywordsOrganization:i.organization,keywordsPerson:i.person,keywordsSubject:i.subject,mediaDuration:n.media?n.media.duration:"",mediaId:n.media?n.media.id:"",mediaLiveondemand:n.media?n.media.liveondemand:"",mediaSport:n.media?n.media.sport:"",mediaShow:n.media?n.media.show:"",mediaAudiovideo:n.media?n.media.audiovideo:"",partnerName:n.partner?n.partner.name:"",pillar:n.pillar,publishedTime:n.publishedTime,sponsorName:n.sponsor?n.sponsor.name:"",socialCommentsEnabled:n.social&&n.social.comments?n.social.comments.enabled:"",socialCommentsLoaded:n.social&&n.social.comments?n.social.comments.loaded:"",socialCommentsTotal:n.social&&n.social.comments?n.social.comments.total:"",subsection1:A(n.subsection1),subsection2:A(n.subsection2),subsection3:A(n.subsection3),subsection4:A(n.subsection4),title:n.title,updatedTime:n.updatedTime,url:n.url,wordcount:n.wordcount},Object.keys(CBC.APP.SC.DTM.formatted.cxense).forEach(function(e){void 0!==CBC.APP.SC.DTM.formatted.cxense[e]&&""!==CBC.APP.SC.DTM.formatted.cxense[e]&&"(not specified)"!==CBC.APP.SC.DTM.formatted.cxense[e]||delete CBC.APP.SC.DTM.formatted.cxense[e]}),CBC.APP.ANA.FORMATTERS.ESS.generateGoogleCloudPayload(),"object"===_typeof2(CBC.APP.SC.DTM.DATA.keywords)&&this.setGoogleCloudContentTags(JSON.stringify(CBC.APP.SC.DTM.DATA.keywords))},sanitizeObject:function(r,i){var o=this;return Object.entries(r).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1],n=i?i+"."+t:t;"string"==typeof e&&'[\n    "authors",\n    "experiments.content", \n    "keywords"\n]'.includes(n)?r[t]=o.normalize(e.replace(/, /g,",")).replace(/[^0-9A-Za-z/_$.+\-,\s]/g,"").replace(/\+/g,"-"):"string"!=typeof e||'[\n    "content.url",\n    "copy_videoid",\n    "copy_videoname",\n    "copy_videoplayername",\n    "referrer.url",\n    "url",\n    "videourl",\n    "videopage"\n]'.includes(n)?"object"===_typeof2(e)&&(r[t]=o.sanitizeObject(e,n)):r[t]=o.cleanString(e)}),r},sanitizeArray:getContentID:function(e){e=/-[\d]\.[\d]+$/.exec(e);return"object"===_typeof2(e)&&null!==e&&0<e.length?e[0].substr(1):""},getGemID:function(){return CBC.APP.SC.DTM.DATA.user&&CBC.APP.SC.DTM.DATA.user.id&&CBC.APP.SC.DTM.DATA.user.id.gem?CBC.APP.SC.DTM.DATA.user.id.gem:null},getReferrer:function(e){var t=e.referrer;return 0<CBC.APP.ANA.FORMATTERS.Adobe.getVal("pageviewcount")&&(t=CBC.APP.SC.state.referrer.url),CBC.APP.SC.state.referrer.url=e.location.href,t},clearDataLayer:function(){CBC.APP.SC.DTM.DATA={},this.clearFormattedDataLayer()},clearFormattedDataLayer:function(){CBC.APP.SC.DTM.formatted={adobe:{},amplitude:{},chartbeat:{},comscore:{},cxense:{},googlecloud:{},lotame:{},raw:{}}},normalize:function(e,t){return e.replace(/\s+/g,t=void 0===t?"-":t).toLowerCase()},sanitize:function(e){return e.replace(/[\W_]+/g,"")},cleanString:function(e){if(void 0!==e)return e=e.replace(/[^0-9A-Za-z/_$.+\-\s]/g,"").trim(),window.CBC.APP.SC.UTIL.normalize(e).replace(/\+/g,"-")},trimDashes:splitQuery:function(e,t,n){for(var r={},i=e.split("&"),o=0;o<i.length;o++){var a=i[o].split("="),s=a[0],c=a[1];if(t){if(!t[a[0]])continue;s=t[a[0]]}n&&n[a[1]]&&(c=n[a[1]]),r[s]=c}return r},getUserTier:function(){var e=CBC.APP.SC.UTIL.getCookie("cbc_plus")?"authenticated":"free";return e=void 0!==CBC.APP.SC.DTM.DATA&&"premium"===CBC.APP.SC.DTM.DATA.userTier?"premium":e},convertTier:function(e){var t="authenticated",n="premium";return new Map([["1","free"],[2,t],["2",t],["authenticated",t],[3,n],["3",n],["premium",n]]).get(e)||"free"},getCBCUserProperties:function(){var e=this.getCookie("cbclocal");if(e)return this.splitQuery(e,{radio:"location.radio",news:"location.news",tv:"location.tv",region:"location.region",weather:"location.weather"},void 0)},getPolopolyDimension:function(e,t){for(var n=JSON.parse(e),r={},i=0;i<n.length;i++){var o=n[i];r[o.name]=[];for(var a=0;a<o.entities.length;a++){var s=o.entities[a];r[o.name].push(t(s.name))}}return r},setGoogleCloudContentTags:function(e){e=(0,this.getPolopolyDimension)(e,this.sanitize);"object"===_typeof2(CBC.APP.SC.DTM.formatted.googlecloud.content)&&(e.Person&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.person=e.Person),e.Location&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.location=e.Location),e.Subject&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.subject=e.Subject),e.Company)&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.company=e.Company)},sendVisitorUserIDs:function(e){this.makePUTRequest(window.CBC.APP.SC.masterSwitch.idexchange.endpoint+"ids",JSON.stringify(e),{success:function(e,t){console.log("sendVisitorUserIDs: Success!")},failure:,"",!0)},createUIEPayload:function(e){var t;return!(void 0===window.CBC.APP.SC.masterSwitch||void 0===window.CBC.APP.SC.masterSwitch.switches||void 0===window.CBC.APP.SC.masterSwitch.switches.idexchange||!window.CBC.APP.SC.masterSwitch.switches.idexchange||!window.CBC.APP.SC.masterSwitch.idexchange.endpoint)&&(t={},e&&e.user&&e.user.id&&(e.user.id.gem&&(t["cbc:gem_id"]=[e.user.id.gem.toString()]),e.user.id.adestra)&&(t["cbc:adestra_id"]=[e.user.id.adestra.toString()]),t["@context"]={cbc:CBC.APP.SC.masterSwitch.idexchange.context},window.s_cbc_sitecatalyst.visitor.getMarketingCloudVisitorID()&&(t["cbc:adobe_id"]=[window.s_cbc_sitecatalyst.visitor.getMarketingCloudVisitorID().toString()]),this.getCookie("cX_P")&&(t["cbc:cxense_id"]=[this.getCookie("cX_P").toString()]),this.getCookie("lr-user-uid")&&(t["cbc:loginradius_id"]=[this.getCookie("lr-user-uid").toString()]),CBC.APP.DMP&&CBC.APP.DMP.LOTAME&&CBC.APP.DMP.LOTAME.profileId&&(t["cbc:lotame_id"]=[CBC.APP.DMP.LOTAME.profileId.toString()]),window.viafoura&&window.viafoura.users&&window.viafoura.users.current&&window.viafoura.users.current().id&&(t["cbc:viafoura_id"]=[window.viafoura.users.current().id.toString()]),t)},setDefaultValue:function(e,t){return t=null==t?"":t,null==e?t:e},getLocationHref:function(e){return e.location.href},getLocationHost:getDoNotTrackValue:function(){return!!(window.navigator.doNotTrack&&"unspecified"!==window.navigator.doNotTrack||window.doNotTrack)},getCookiesEnabledValue:getQueryStringFromURL:determineAppName:function(e,t){var n=this.getLocationHost(t),r=this.getLocationHref(t),t=CBC.APP.SC.UTIL.getQueryStringFromURL(t),i=CBC.APP.SC.DTM&&CBC.APP.SC.DTM.DATA&&CBC.APP.SC.DTM.DATA.url?CBC.APP.SC.DTM.DATA.url:"",o="feed"===e?"ocelot":!1;return"listen"===e&&(-1<r.indexOf("cbc.ca/listen")||-1<i.indexOf("cbc.ca/listen")?o="listen-web-app":(-1<n.indexOf("cbcmusic")||-1<i.indexOf("cbcmusic"))&&(o="music-web-app")),"watch"===e&&(-1<n.indexOf("gem.cbc.ca")||-1<n.indexOf("gem.qa.nm.cbc.ca")||-1<i.indexOf("gem.cbc.ca")||-1<i.indexOf("gem.qa.nm.cbc.ca")||-1<n.indexOf("watch.cbc.ca")||-1<n.indexOf("watch.qa.nm.cbc.ca")||-1<i.indexOf("watch.cbc.ca")||-1<i.indexOf("watch.qa.nm.cbc.ca"))&&(o="ott-web-app"),(-1<n.indexOf("responsive.cbc.ca")||-1<n.indexOf("cbchelp.cbc.ca")||-1<i.indexOf("responsive.cbc.ca")||-1<i.indexOf("cbchelp.cbc.ca"))&&(o="zendesk"),(-1<n.indexOf("cbc.ca")||-1<i.indexOf("cbc.ca")||this.isExternallyHosted())&&!/^(feed|watch|listen|)$/.test(e)&&(o=o||"cbcca-web"),o=-1<t.indexOf("webview=true")&&-1<t.indexOf("appname=")&&(r=this.queryStringToObj(t.substring(1)),CBC.APP.SC.UTIL.getMetadataAllowlist().metadata.allowlist.webviewapps[r.appname])?r.appname:o},determineWebViewFeatureName:function(e){var e=CBC.APP.SC.UTIL.getQueryStringFromURL(e),t=!1;return t=-1<e.indexOf("webview=true")&&-1<e.indexOf("featurename=")?CBC.APP.SC.UTIL.queryStringToObj(e.substring(1)).featurename||t:t},formatKeywordsData:function(e){var t,n={};for(t in e)Array.isArray(e[t])&&e[t].forEach(function(e){var t="generic"==e.type?"tag":e.type;n[t]||(n[t]=[]),e.name&&!n[t].includes(e.name)?n[t].push(e.name):e.path&&!n[t].includes(e.path)&&n[t].push(e.path)});return n},standardizeKeywordsData:function(e){if("object"===_typeof2(e)&&0<e.length&&"object"===_typeof2(e[0].entities)){var o,a={tags:[],concepts:[]},t=_createForOfIteratorHelper(e);try{for(t.s();!(o=t.n()).done;)!function(){var e=o.value,t=e.name.toLowerCase(),n="tags",r=t;switch(t){case"person":case"company":case"organization":case"location":case"collections":break;case"tag":r="generic";break;case"subject":n="concepts";break;case"default":return}var i="tags"===n?"name":"path";e.entities.forEach(function(e){a[n].push(_defineProperty2({type:r},i,e.name))})}()}catch(e){t.e(e)}finally{t.f()}return this.reportMetadataExceptionForStats("Converting legacy Keywords to new structure",CBC.APP.SC.DTM.DATA),a}return e},generateAdCampaignList:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:6,i=new Date(r),o=i.getFullYear(),a=i.getMonth(),i=i.getDate(),o=new Date(o,a,i),s=(o.setMonth(o.getMonth()-e),o.getTime()),n=n||{},a=Object.keys(n);return 0<a.length?a.forEach(function(e){n[t]=r,n[e]<s&&delete n[e]}):n[t]=r,n},uniqueArray:populateScannedMetadata:function(e,t){var n={},r=this.getAnchor(e);if(r){var i=r.href.match(/(?:)\.cbc(music)?\.ca\/([^/]+)/),o=r.href,r=r.getAttribute("data-contentid");if(i&&o&&r&&"number"==typeof t)return n.content={area:/^\.cbcmusic\.ca\//.test(i)?"music":i[0].trim().replace(/\.cbc(music)?\.ca\//,""),title:e.textContent,url:o,type:"headline",id:r,cms:"polopoly"},n.time={engaged:t},n.referrer={url:document.URL},n.app={name:"ocelot",pillar:"feed"},n}return!1},sendScanned:function(e,t){e=this.populateScannedMetadata(e,t);return CBC.APP.SC.EventTracker.trackEvent("SCANNED",e),e},populateOTTMediaMetadata:function(e){var t=e.content&&e.content.media?e.content.media:{},n=CBC.APP.SC.DTM.formatted.amplitude,r={app:{name:"ott-web-app",pillar:"watch"},content:{media:{audiovideo:t.audiovideo||"",liveondemand:t.liveondemand||"",type:t.type||"",genre:t.genre||"",show:t.show||"",sport:t.sport||"",region:t.region||"",publishedtime:t.airdate&&"nan"!==t.airdate?t.airdate:"",seasonnumber:t.seasonnumber&&"nan"!==t.seasonnumber?t.seasonnumber:"",episodenumber:t.episodenumber&&"nan"!==t.episodenumber?t.episodenumber:"",length:t.length||""},area:t.contentarea||"",cms:e.content.cms||"ibm-cloud-video",id:n.contentid||e.content.id,tier:this.convertTier(n.contenttier),title:t.streamtitle||"",url:n.url},referrer:{url:n.referrer.url,pillar:n.referrer.pillar},user:{tier:this.convertTier(n.userTier)}};if(e.content&&e.content.keywords&&(r.content.keywords=JSON.parse(JSON.stringify(e.content.keywords))),t.partnername){var i,o=CBC.APP.SC.UTIL.getMetadataAllowlist(),n=CBC.APP.SC.UTIL.cleanString(t.partnername),a={};for(i in o.metadata.allowlist.partner.name)a[CBC.APP.SC.UTIL.cleanString(i)]=o.metadata.allowlist.partner.name[i];a[n]&&(r.content.partner={},r.content.partner.name=n)}if(t.sponsorname){var s,c=CBC.APP.SC.UTIL.getMetadataAllowlist(),n=CBC.APP.SC.UTIL.cleanString(t.sponsorname),u={};for(s in c.metadata.allowlist.sponsor.name)u[CBC.APP.SC.UTIL.cleanString(s)]=c.metadata.allowlist.sponsor.name[s];u[n]&&(r.sponsor={},r.sponsor.name=t.sponsorname)}return e.feature&&(r.feature={},e.feature.name&&(r.feature.name=e.feature.name),e.feature.position)&&(r.feature.position=e.feature.position),""===CBC.APP.SC.UTIL.getReferringDepartmentStatus().STREAMED&&(CBC.APP.SC.UTIL.setReferringDepartmentStatus("STREAMED",r.content.id),r.referrer.department={},r.referrer.department.level1=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level1||"",r.referrer.department.level2=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level2||"",r.referrer.department.level3=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level3||"",Object.keys(r.referrer.department).forEach(function(e){""===r.referrer.department[e]&&delete r.referrer.department[e]})),Object.keys(r.content.media).forEach(function(e){""===r.content.media[e]&&delete r.content.media[e]}),Object.keys(r.content).forEach(,r},getQueryStringParameterValue:function(e,t){if("string"!=typeof e)return CBC.APP.SC.UTIL.console("getQueryStringParameter: invalid parameterName"),!1;void 0===t&&(t=window.document.URL);e=new RegExp(e+"=([^&\\s]*)"),t=t.match(e);return null===t?(CBC.APP.SC.UTIL.console("getQueryStringParameter: parameter does not exist"),null):t[1]},getMetadataAllowlist:setCBCPlusIDPromise:function(){return new Promise(function(n,r){try{CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.switches.idexchange&&CBC.APP.SC.masterSwitch.idexchange&&CBC.APP.SC.masterSwitch.idexchange.endpoint&&CBC.APP.SC.UTIL.makePOSTRequest(CBC.APP.SC.masterSwitch.idexchange.endpoint+"login",JSON.stringify(CBC.APP.SC.UTIL.createUIEPayload()),{success:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: login success!"),CBC.APP.PubSub.publish("UIEAlert"),CBC.APP.SC.UTIL.sendVisitorUserIDsPromise(CBC.APP.SC.UTIL.createUIEPayload()).then(function(e){n(!0)}).catch(function(){CBC.APP.SC.UTIL.console("error in create sendVisitorUserIDsPromise")})},failure:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: login failure! Error: "+e.responseText),r("UIE failure")}},"",!0)}catch(e){CBC.APP.SC.UTIL.console("setCBCPlusID: "+e),r(e)}})},setCBCVisitorIDPromise:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(n,r){try{CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.switches&&CBC.APP.SC.masterSwitch.switches.idexchange&&CBC.APP.SC.masterSwitch.idexchange&&CBC.APP.SC.masterSwitch.idexchange.endpoint?e.makeGETRequest(CBC.APP.SC.masterSwitch.idexchange.endpoint+"current_user",{success:function(e,t){CBC.APP.SC.UTIL.console("setCBCVisitorID: current_user success!"),CBC.APP.SC.UTIL.getCookie("cbc_visitor")?(CBC.APP.PubSub.publish("UIEAlert"),window.amplitude.getInstance("stats").init("f5b7aa101ec24385b731affd4a2f5ed0",i,{deviceId:CBC.APP.SC.UTIL.getCookie("cbc_visitor"),domain:".cbc.ca"},o)):window.amplitude.getInstance("stats").init("f5b7aa101ec24385b731affd4a2f5ed0",i,{domain:".cbc.ca"},o),CBC.APP.SC.UTIL.sendVisitorUserIDsPromise(CBC.APP.SC.UTIL.createUIEPayload()).then(.catch(},failure:function(e,t){CBC.APP.SC.UTIL.console("setCBCVisitorID: current_user failure! Error: "+e.responseText),r("CBCVisitorID Error")}},"",!0):r("Visitor Promise ID has not been set")}catch(e){CBC.APP.SC.UTIL.console("setCBCVisitorID: "+e),r(e)}})},sendVisitorUserIDsPromise:function(e){return new Promise(function(n,r){CBC.APP.SC.UTIL.makePUTRequest(window.CBC.APP.SC.masterSwitch.idexchange.endpoint+"ids",JSON.stringify(e),{success:function(e,t){n(!0)},failure:,"",!0)})},returnURL:console:(e=function(){this.inDebugMode()&&console.log(arguments)},n.toString=n),inDebugMode:function(){return window.location.href.match(/statsDebug=true/)?t.console=!0:t.console=!1,t.console},masterSwitchMetaPromise:function(){return new Promise(function(t,n){var e="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(e,{success:function(e){CBC.APP.SC.masterSwitch=JSON.parse(e.responseText),t(CBC.APP.SC.masterSwitch)},failure:,{success:{uri:e},failure:{message:"unable to communicate"}})})},getEpochTime:loadScript:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=document.createElement("script");i.type="text/javascript",n&&(i.async=!0),i.readyState?i.onreadystatechange=i.onload=i.src=e,r&&0<(n=document.querySelectorAll('script[src="'+e+'"]')).length&&n.forEach(,document.getElementsByTagName("head")[0].appendChild(i)},formatValidationException:isIOSWebviewPrivate:function(){var e=new URLSearchParams(CBC.APP.SC.UTIL.getQueryStringFromURL(document)),t="ios_a_p",n=window.CBC.APP.SC.UTIL.getCookie(t);if("true"===e.get("webview")){if("true"===e.get(t))return CBC.APP.SC.UTIL.setCookie(t,"true",1,".cbc.ca"),!0;n&&CBC.APP.SC.UTIL.expireCookie(t,".cbc.ca")}else if("true"===n)return!0;return!1},reportMetadataExceptionForStats:function(e){CBC.APP.SC.UTIL.console("Analytics Error: "+e)}};(),CBC.APP.ANA.ER=function(){function i(e){CBC.APP.SC.DEBUG&&"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)}return{TAG_TYPES:{error:{VAL:"VALIDATION",API:"API_CALL",EXC:"EXCEPTION",MISC:"MISC"},tracking:{PAGE:"PAGE_TRACKING",MEDIA:"MEDIA_TRACKING",EVENT:"EVENT_TRACKING"}},report:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={error:n.errorType,tracking:n.trackingType,eventName:n.eventName};new Promise(function(n){try{CBC.APP.SC.masterSwitch.switches.exceptionreporting&&n(!0),n(!1)}catch(e){var t="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e){JSON.parse(e.responseText).switches.exceptionreporting&&n(!0)},failure:function(e,t){i("ERROR: Unable to talk to config URL: "+t.failure.uri),n(!1)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:)}}).then(function(e){e?CBC.APP.ANA.LIBRARY.SENTRY.report(t,n.signalPayload,Object.assign(r,n.additionalTags)):i("Sentry is off ")})}}}(),CBCRC.ANA.DATALAYER=function(){function l(e,t){for(var n=t.split("."),r=e,i=0;i<n.length;i++){if(void 0===r[n[i]])return;r=r[n[i]]}return r}function d(e,t){var n='[\n    "browser.url",\n    "referrer.id",\n    "url",\n    "user.subscription.ids"\n]\n'.includes(e);if(n||"string"!=typeof t){if(!n&&Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=d(e,t[r])}else t=t.replace(/([\s]+|\+)/g,"-").replace(/[^0-9A-Za-z-_\-|:$.]/g,"").toLowerCase();return t}var t=["mediaAdBreakCompleted","mediaAdBreakStarted","mediaBufferCompleted","mediaBufferStarted","mediaChapterStarted","mediaChapterCompleted","mediaCompleted","mediaPaused","mediaPlayStarted","mediaSeekStarted","mediaSeekCompleted","mediaSessionCompleted","mediaSessionStarted"];return{getJSONValue:l,mapEventToVerb:function(e){var t=void 0;switch(e){case"pageLoaded":t=void 0!==l(CBC.APP.SC.DTM.DATA,"url")&&void 0!==l(CBC.APP.SC.DTM.DATA,"referrer.id")&&l(CBC.APP.SC.DTM.DATA,"url")===l(CBC.APP.SC.DTM.DATA,"referrer.id")?"LOADED MORE":"LOADED";break;case"castDeviceConnected":t="CAST-DEVICE CONNECTED";break;case"registered":t="REGISTERED";break;case"userSignedIn":t="SIGNED IN";break;case"userSignedOut":t="SIGNED OUT";break;case"userSubscribed":t="SUBSCRIBED";break;case"userUnsubscribed":t="UNSUBSCRIBED";break;default:return}return t},mapMetaData:function(e){for(var t={},n=JSON.parse('{\n    "appname": "app.name",\n    "appVersion": "app.version",\n    "browser.ad_blocking": "browser.ad_blocking",\n    "browser.screenwidth": "browser.screenwidth",\n    "browser.screenheight": "browser.screenheight",\n    "browser.type": "browser.type",\n    "browser.version": "browser.version",\n    "content.channel": "cms.content.channel",\n    "content.family_friendly": "cms.content.family_friendly",\n    "content.format": "cms.content.format",\n    "content.genre.level1": "cms.content.genre.level1",\n    "content.genre.level2": "cms.content.genre.level2",\n    "content.network": "cms.content.network",\n    "content.principal_audience": "cms.content.principal_audience",\n    "content.related_ids": "cms.content.related_ids",\n    "content.string": "cms.content.string",\n    "content.subject_theme.level1":\n        "cms.content.subject_theme.level1",\n    "content.subject_theme.level2":\n        "cms.content.subject_theme.level2",\n    "content.subject_theme.level3":\n        "cms.content.subject_theme.level3",\n    "contentcms": "cms.content.cms",\n    "contentid": "cms.content.id",\n    "contenttier": "cms.content.tier",\n    "contenttype": "cms.content.type",\n    "department.level1": "cms.department.level1",\n    "department.level2": "cms.department.level2",\n    "department.level3": "cms.department.level3",\n    "department.level4": "cms.department.level4",\n    "department.level5": "cms.department.level5",\n    "device.id": "device.id",\n    "device.manufacturer.name": "device.manufacturer.name",\n    "device.manufacturer.version": "device.manufacturer.version",\n    "device.offline": "device.offline",\n    "device.os.name": "device.os.name",\n    "device.os.nametype": "device.os.nametype",\n    "device.type": "device.type",\n    "feature.additionalinfo": "feature.additionalinfo",\n    "feature.instance": "feature.instance",\n    "feature.itemname": "feature.itemname",\n    "feature.name": "feature.name",\n    "feature.position": "feature.position",\n    "feature.projectname": "feature.projectname",\n    "feature.tagmanager.name": "feature.tagmanager.name",\n    "feature.value": "feature.value",\n    "geo.city": "device.geo.city",\n    "geo.country": "device.geo.country",\n    "geo.region": "device.geo.region",\n    "geo.timezone": "device.geo.timezone",\n    "media.brand": "cms.content.media.brand",\n    "media.episode": "cms.content.media.episode",\n    "media.media_title": "cms.content.media.media_title",\n    "media.season": "cms.content.media.season",\n    "osVersion": "device.os.version",\n    "other.ab_test.version": "other.ab_test.version",\n    "other.analytics.version": "other.analytics.version",\n    "page.name": "page.name",\n    "push.device.id": "push.device.id",\n    "referrer.id": "referrer.id",\n    "referrer.name": "referrer.name",\n    "referrer.type": "referrer.type",\n    "sponsor.name": "sponsor.name",\n    "structure.server.domain": "structure.server.domain",\n    "timestamp.clientside": "timestamp.clientside",\n    "timestamp.serverside": "timestamp.serverside",\n    "title": "cms.content.title",\n    "url": "browser.url",\n    "user.id": "user.id",\n    "user.plan.ids": "user.plan.ids",\n    "user.subscription.ids": "user.subscription.ids",\n    "user.tier.ids": "user.tier.ids",\n    "user.tracking.code": "user.tracking.code"\n}'),r=0;r<Object.keys(n).length;r++){u=c=s=a=o=i=void 0;var i=t,o=Object.keys(n)[r],a=l(e,Object.values(n)[r]);if(void 0!==a)for(var s=o.split("."),c=i,u=0;u<s.length;u++)void 0===c[s[u]]&&(c[s[u]]={}),u<s.length-1?c=c[s[u]]:c[s[u]]=d(o,a)}return t},push:function(e){try{CBC.APP.PubSub.turnOn()}catch(e){console.log("There has been an error: "+e)}if(t.includes(e.event))return CBC.APP.PubSub.publish(e.event,e),e},sanitizeDataElement:d,validateMediaProperties:function(n,o,r,a,s){var e,t,c="MEDIAOBJ_VALIDATION_FAILED",u={name:void 0,message:void 0,returnCode:void 0},l=["mediaAdBreakStarted","mediaChapterStarted","mediaSessionStarted"].includes(n)?n.toUpperCase():"MEDIAOTHER";return void 0===s&&(s="MEDIASESSIONSTARTED"===l?(t=!1,void 0!==(e=window.CBC.APP.SC.UTIL.checkPropertyExistence(o,"cms.content.media.liveondemand"))&&(t=["LINEAR","LIVE","ONDEMAND","ALL_STREAM_TYPES"].includes(e.toUpperCase().replace("-",""))),t?e.toUpperCase().replace("-",""):((t=new Error("1: Missing mandatory property at: cms.content.media.liveondemand")).name="NOT FOUND",window.CBC.APP.ANA.ER.report(t,o,[window.CBC.APP.ANA.ER.TAG_TYPES.error.VAL,window.CBC.APP.ANA.ER.TAG_TYPES.tracking.MEDIA,"mediaSessionStarted"]),"ONDEMAND")):"ALL_STREAM_TYPES"),Object.entries(r).forEach(function(e){var i,e=_slicedToArray(e,2),t=e[0],e=e[1];a.push(t),"object"===_typeof2(e)&&(e.mediaSessionStarted||e.mediaChapterStarted||e.mediaAdBreakStarted||e.mediaOther)?(i=!1,Object.entries(e).forEach(function(e){var t,n,e=_slicedToArray(e,2),r=e[0],e=e[1];i||(n=(t=e.streamTypes.ma})).includes("ALL_STREAM_TYPES"),i=r.toUpperCase()===l&&e.mandatory&&(t.includes(s.toUpperCase().replace("-",""))||n)),e.allowlistLocation&&(t=void 0!==(r=window.CBC.APP.SC.UTIL.checkPropertyExistence(window.CBC.APP.SC.metadataAllowlist.metadata.allowlist,e.allowlistLocation,{allowObjects:!0}))?Object.keys(r):[],n=window.CBC.APP.SC.UTIL.checkPropertyExistence(o,a[a.length-1]),0<t.length)&&!t.includes(n)&&(r=e.allowlistLocation.split(".").slice(-1),o[r])&&delete o[r]}),i&&(!{}.hasOwnProperty.call(o,t)&&u.name!==c?(u.name=c,u.message="1: Missing mandatory property at: "+a.join("."),u.returnCode=1):"object"!==_typeof2(o[t])||Array.isArray(o[t])||u.name===c||(u.name=c,u.message="2: Found object when mandatory value was expected at: "+a.join("."),u.returnCode=2))):"object"===_typeof2(e)&&Array.isArray(e)||"object"!==_typeof2(e)?(u.name=c,u.message="3: Invalid mapping artifact located at: "+a.join("."),u.returnCode=3):(e="object"!==_typeof2(o[t])||Array.isArray(o[t])?{}:o[t],(e=window.CBCRC.ANA.DATALAYER.validateMediaProperties(n,e,r[t],a,s)).returnCode&&u.name!==c&&(u.name=e.name,u.message=e.message,u.returnCode=e.returnCode)),a.pop()}),u.name!==c&&(u.name="MEDIAOBJ_VALIDATION_SUCCESS",u.message="0: Payload successfully validated",u.returnCode=0),u}}}(),CBC.APP.ANA.FORMATTERS.Common=function(){"use strict";function n(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return"function"!=typeof n?t||e||n:n(e,t)}return{setPayloadProperty:n,formatAuthenticated:function(e,t){return t||"boolean"==typeof t?Boolean(t):Boolean(e)},formatAuthors:function(e,t){e=n(e,t);return e&&Array.isArray(e)?e:e&&"string"==typeof e?e.split(","):void 0},formatEmbeddedType},formatKeywords:function(e,t){return t||(e&&"object"===_typeof2(e)?CBC.APP.SC.UTIL.formatKeywordsData(e):"string"==typeof e?e:void 0)},formatEpisodeSeasonNumber:function(e,t){var n,r="nan";return e&&t&&/^(E|S)$/i.test(t)&&(n=/^E$/i.test(t)?/^(E|e)?[0-9]+$/:/^(S|s)?[0-9]+$/,t=/^E$/i.test(t)?"e":"s",n.test(e))&&(1===(r=e.toString().toLowerCase()).length?r="".concat(t,"0").concat(r):2===r.length&&r.charAt(0)===t?r="".concat(t,"0").concat(r.charAt(1)):r.charAt(0)!==t&&(r="".concat(t).concat(r))),r},formatGeoTimezone:function(e,t){t=t||e;return t&&t.timezone?{geo:{timezone:t.timezone}}:void 0},formatTimeEngaged:function(e,t){return"number"==typeof t&&0<t?{engaged:t}:void 0},formatUserInterests:function(e,t){var n={},t=t?JSON.parse(JSON.stringify(t)):{};return t.explicit&&(n.explicit={},Array.isArray(t.explicit.yes)&&t.explicit.yes.length&&(n.explicit.yes=t.explicit.yes.map(function(e){return e.toLowerCase()})),Array.isArray(t.explicit.no))&&t.explicit.no.length&&(n.explicit.no=t.explicit.no.map(function(e){return e.toLowerCase()})),t.implicit&&(n.implicit={},Array.isArray(t.implicit.yes)&&t.implicit.yes.length&&(n.implicit.yes=t.implicit.yes.map(function(e){return e.toLowerCase()})),Array.isArray(t.implicit.no))&&t.implicit.no.length&&(n.implicit.no=t.implicit.no.map(function(e){return e.toLowerCase()})),Object.keys(n).length?n:void 0}}}(),CBC.APP.ANA.FORMATTERS.Adobe=function(){"use strict";function e(){o.channel="misc",o.subsection=[],o.pageurl="",o.searchprefix="",o.separator=":",o.index="index",o.contenttype="page",o.pagetype="",o.pagetitle="",o.scqs={},o.directory="",o.pageName=null,o.hier1=null}var r=CBC.APP.SC.UTIL,i=null,o={pageviewcount:0};e();return{checkFeatureAttributionInDTM:function(){return!!(CBC.APP.SC.DTM&&CBC.APP.SC.DTM.formatted&&CBC.APP.SC.DTM.formatted.adobe&&CBC.APP.SC.DTM.formatted.adobe.feature&&(CBC.APP.SC.DTM.formatted.adobe.feature.name||CBC.APP.SC.DTM.formatted.adobe.feature.position||CBC.APP.SC.DTM.formatted.adobe.feature.instance))&&(CBC.APP.SC.DTM.formatted.adobe.feature.name&&(i.prop22=CBC.APP.SC.DTM.formatted.adobe.feature.name,i.eVar83="D=c22"),CBC.APP.SC.DTM.formatted.adobe.feature.position&&(i.prop24=CBC.APP.SC.DTM.formatted.adobe.feature.position,i.eVar84="D=c24"),CBC.APP.SC.DTM.formatted.adobe.feature.instance&&(i.prop23=CBC.APP.SC.DTM.formatted.adobe.feature.instance,i.eVar85="D=c23"),!0)},checkEmbeddedMedia:function(){CBC.APP.SC.DTM&&CBC.APP.SC.DTM.formatted&&CBC.APP.SC.DTM.formatted.adobe&&["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)&&(i.prop16=CBC.APP.SC.DTM.formatted.adobe.embedtypes)},clearVariables:function(){try{o={pageviewcount:o.pageviewcount},e(),r.console("before clearing variables",s_cbc_sitecatalyst),delete window.s_cbc_sitecatalyst.pageName,window.s_cbc_sitecatalyst.clearVars(),r.console("after clearing variables",s_cbc_sitecatalyst)}catch(e){console.log(e)}},exitSPA:function(){o.pageviewcount=0},formatSignal:function(e){var t;if((i=s_cbc_sitecatalyst).prop36=(window.self!==window.top).toString(),o.scqs=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.formatted.adobe)),o.scqs.storytitle&&(o.scqs.title=o.scqs.storytitle,CBC.APP.SC.storyTitle=o.scqs.storytitle.toLowerCase().replace(/\s/g,"-")),o.pagetitle||(o.pagetitle=o.scqs.pagetitle||""),o.scqs.publishedTime&&(o.scqs.pubdate=o.scqs.publishedTime),this.setTimeVars(),this.setOsAppVars(),this.setSearchPrefix(),this.setAdHierarchy(),this.setFromMetaTags(),this.getUrl(),o.scqs.spa&&0<o.pageviewcount?this.setReferrer(o.scqs.referrer.url):this.setReferrer(document.referrer),o.scqs.referrer&&o.scqs.referrer.pillar?i.prop53=o.scqs.referrer.pillar:i.prop53="noreferrer",o.scqs.referrer&&o.scqs.referrer.department?(t=o.scqs.referrer.department,i.prop65=[t.level1,t.level2,t.level3].filter(function(e){return e}).join(":"),i.prop65="noreferrer"===i.prop65?"noreferrer":i.prop65):i.prop65="noreferrer",e.linkTrackObj){var n,r=e.linkTrackObj;for(n in r)i[n]=r[n]}return this.setWordCount(),this.setStrategicPillar(),this.setCMFAppId(),this.setUserJourney(),this.setUserTier(),this.setDateVars(),this.setSponsor(),this.setContentPartner(),this.detectAdBlocker(),this.checkCbcIdCookieExists(),this.checkHTTPSstatus(document.location.href),this.checkFeatureAttributionInDTM(),this.checkEmbeddedMedia(),this.setCBCPlusID(),this.parseStatsVars(),++o.pageviewcount,!0},getVal:function(e){return o[e]},setCampaign:function(){var e=CBC.APP.SC.UTIL.getQueryStringParameterValue("utm_source",window.location.href),t=CBC.APP.SC.UTIL.getQueryStringParameterValue("utm_medium",window.location.href),n=CBC.APP.SC.UTIL.getQueryStringParameterValue("utm_campaign",window.location.href),r=CBC.APP.SC.UTIL.getQueryStringParameterValue("utm_term",window.location.href),i=CBC.APP.SC.UTIL.getQueryStringParameterValue("utm_content",window.location.href),o=CBC.APP.SC.UTIL.getQueryStringParameterValue("cmp",window.location.href);return e||t||n||r||i?"UTM|".concat(e,"|").concat(t,"|").concat(n,"|").concat(r,"|").concat(i):o||void 0},setTimeVars:function(){var e=this.getTimeVars();void 0!==e.var9&&(i.prop9=e.var9),void 0!==e.var10&&(i.prop10=e.var10)},getTimeVars:function(){function e(e){return"number"==typeof e?("0"+e).slice(-2):null}var t={},n=new Date,r=(r=n)&&"function"==typeof r.getTimezoneOffset?-r.getTimezoneOffset()/60:null,i=n.getDay(),o=0===i||6===i?"weekend":"weekday",a="0".concat(n.getHours()).slice(-2),s=30<n.getMinutes()?"30":"00";return t.var9="".concat((n=n)&&"function"==typeof n.getHours?e(n.getHours())+e(n.getMinutes()):null,"|").concat(r),t.var10="".concat(o,"|").concat(["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][i],"|").concat(a).concat(s),t},setOsAppVars:function(){var e=this.getOsAppVars();void 0!==e.var60&&(i.prop60=e.var60),void 0!==e.var61&&(i.prop61=e.var61),void 0!==e.var62&&(i.prop62=e.var62),void 0!==e.var63&&(i.prop63=e.var63),void 0!==e.var64&&(i.prop64=e.var64)},getOsAppVars:function(){var e={};return CBC.APP.SC.DTM.formatted&&CBC.APP.SC.DTM.formatted.adobe&&CBC.APP.SC.DTM.formatted.adobe.appname?e.var60=CBC.APP.SC.DTM.formatted.adobe.appname:e.var60="cbcca-web",e.var61="osVersion",e.var62="os",e.var63="web",e.var64="2.143.0",e.var64=o.scqs.appVersion||e.var64,void 0!==window.Detectizr&&void 0!==window.Detectizr.os&&("undefined"!==window.Detectizr.os.name&&(e.var62="ott-web-app"===e.var60?window.Detectizr.os.name+"|"+e.var60:window.Detectizr.os.name),"undefined"!==window.Detectizr.os.version)&&(e.var61=window.Detectizr.os.version),e},setSearchPrefix:function(){o.searchprefix=0<window.location.port.length?"cbc.ca:".concat(window.location.port,"/"):"cbc.ca/"},setAdHierarchy:function(){o.scqs.hierarchy?i.prop65=o.scqs.hierarchy:CBC.Metadata&&CBC.Metadata.hierarchy&&(i.prop65=CBC.Metadata.hierarchy)},setFromMetaTags:function(){var e=document.getElementsByTagName("META");if("string"==typeof o.scqs.keywords)i.list1=o.scqs.keywords.replace(/, /g,",").replace(/\s/g,"-").toLowerCase();else if("object"===_typeof2(o.scqs.keywords))i.list1=this.parseKeywords(o.scqs.keywords);else for(var t=0;t<e.length;++t)"keywords"===e[t].name&&(i.list1=e[t].content.replace(/, /g,",").replace(/\s/g,"-").toLowerCase());i.list2=o.scqs.authors?o.scqs.authors.replace(/, /g,",").replace(/\s/g,"-").toLowerCase():void 0,o.scqs.experiments&&o.scqs.experiments.content&&(i.list3=CBC.APP.SC.UTIL.trimDashes(o.scqs.experiments.content.trim())),o.scqs.syndicate?i.prop66=r.normalize(o.scqs.syndicate):CBC.APP.SC.syndicate?i.prop66=r.normalize(CBC.APP.SC.syndicate):i.prop66="cbcca-web"},getUrl:function(){var e,t="",t=CBC.APP.SC.url||(o.scqs.url?decodeURIComponent(o.scqs.url):window.location.href);r.isExternallyHosted()||-1!==(e=(t=-1!==(e=t.indexOf("#"))?t.substring(0,e):t).indexOf("?"))&&(t=t.substring(0,e)),o.pageurl=t},setReferrer:function(e){return void 0!==e&&""!==e&&(i.prop57=e,i.eVar57="D=c57",!0)},setWordCount:function(){CBC.APP.SC.DTM.formatted.adobe.wordcount&&["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)&&(i.prop7=CBC.APP.SC.DTM.formatted.adobe.wordcount)},setStrategicPillar:function(){Object.getOwnPropertyNames(CBC.APP.SC.Pillar).length||(CBC.APP.SC.Pillar={pillar:{available:["feed","listen","watch","legacyee"],url:{default:"legacy","cbc.ca/listen":"listen","cbcmusic.ca":"listen","watch.cbc.ca":"watch","gem.cbc.ca":"watch","watch.qa.nm.cbc.ca":"watch","gem.qa.nm.cbc.ca":"watch"}}});var e=CBC.APP.SC.Pillar.pillar;if(i.prop67=e.url.default,o.scqs.pillar&&-1<e.available.indexOf(o.scqs.pillar))i.prop67=r.sanitize(o.scqs.pillar);else if(!CBC.APP.SC.QueryString&&!window.scstats&&CBC.APP.SC.DTM.DATA.pillar&&-1<e.available.indexOf(CBC.APP.SC.DTM.DATA.pillar))i.prop67=r.sanitize(CBC.APP.SC.DTM.DATA.pillar);else for(var t in e.url)if({}.hasOwnProperty.call(e.url,t)&&-1<o.pageurl.indexOf(t)){i.prop67=e.url[t],CBC.APP.SC.DTM.DATA.pillar=e.url[t],o.scqs.pillar=e.url[t];break}},setCMFAppI},setUserJourney:function(){var e=CBC.APP.SC.Pillar.pillar.url.default;void 0!==o.scqs.pillar&&o.scqs.pillar!==e?e=o.scqs.pillar:i.prop67!==e&&(e=i.prop67),void 0!==o.scqs.syndicate&&"cbcca-web"!==o.scqs.syndicate?e=o.scqs.syndicate:"cbcca-web"!==i.prop66&&(e=i.prop66),i.prop35="".concat(e,":").concat(o.scqs.contentarea,":").concat(o.scqs.contenttype)},setUserTie},setDateVars:function(){var e=this.getDateVars();void 0!==e.var13&&(i.prop13=e.var13)},getDateVars:function(){var e,t,n={};return/^(index|bio)$/i.test(o.scqs.contenttype)||((e=new RegExp("^\\d+$")).test(CBC.APP.SC.publishedTime)?t=CBC.APP.SC.publishedTime:o.scqs.pubdate&&e.test(o.scqs.pubdate)?t=o.scqs.pubdate:void 0!==o.scqs.pubdate&&(t="Incorrect date format received: ".concat(o.scqs.pubdate)),n.var13=t),n},setSponsor:function(){o.scqs.sponsor&&o.scqs.sponsor.name&&(i.prop51=o.scqs.sponsor.name)},setContentPartner:function(){o.scqs.partner&&o.scqs.partner.name&&(i.prop52=o.scqs.partner.name)},detectAdBlocker:function(){var e=Boolean(!CBC.APP.SC.ads).toString();i.prop68=e,i.eVar68=e},checkCbcIdCookieExists:function(){r.getCookie("CBC_ID")?(r.expireCookie("CBC_ID"),i.prop73="true"):i.prop73="false"},checkHTTPSstatus:function(e){return new RegExp(/^https:\/\//).test(e)?(i.prop74="yes",!0):!(i.prop74="no")},setCBCPlusI},parseStatsVars:function(){o.scqs.contentarea?o.channel=o.scqs.contentarea:o.scqs.contentArea&&(o.channel=o.scqs.contentArea),i.channel=o.channel,o.subsection=[],o.scqs.contenttype&&(o.contenttype=o.scqs.contenttype),i.prop4=o.contenttype;for(var e=1;e<=5;++e)o.scqs["subsection".concat(e)]&&o.subsection.push(o.scqs["subsection".concat(e)]);o.scqs.contentid&&(i.prop6=o.scqs.contentid),this.setContentVars(),i.pageName=this.setPageName(),i.hier1=o.hier1,this.setSubsectionVars(),i.prop14=this.removeDomain(o.pageurl),i.eVar14=o.pageurl,i.prop15=this.getUserSegmentation(),this.registerPageView()},setContentVars:function(){var e,t,n,r;o.scqs.author&&(i.prop25=o.scqs.author),o.scqs.title&&o.scqs.pubdate&&o.scqs.contentid&&(e="",(n=(t=new Date(parseInt(o.scqs.pubdate))).getUTCDate())<10&&(n="0".concat(n)),(r=t.getUTCMonth()+1)<10&&(r="0".concat(r)),e="".concat(t.getUTCFullYear(),"/").concat(r,"/").concat(n,"/").concat(o.scqs.contentid),i.prop27="".concat(e,":").concat(o.scqs.title)),o.scqs.section&&(i.prop26=o.scqs.section,o.subsection.push(o.scqs.section)),o.scqs.sitename&&(i.prop26=o.scqs.sitename),o.scqs.postdate&&(i.prop28=o.scqs.postdate)},removeDomain:function(e){return e.replace(/https?:\/\/.*?cbc(music)?\.ca(:.*?)*\//,"")},setSubsectionVars:function(){for(var e,t=0;t<3;t++)o.subsection[t]&&(e=o.subsection.slice(0,t+1),i["prop".concat(t+1)]="".concat(o.channel,":").concat(e.join(":")))},copyPropsToEvars:function(){i.prop1&&!i.eVar1&&(i.eVar1="D=c1"),i.prop2&&!i.eVar2&&(i.eVar2="D=c2"),i.prop3&&!i.eVar3&&(i.eVar3="D=c3"),i.prop4&&!i.eVar4&&(i.eVar4="D=c4"),i.prop5&&!i.eVar5&&(i.eVar5="D=c5"),i.prop6&&!i.eVar6&&(i.eVar6="D=c6"),i.prop7&&!i.eVar7&&(i.eVar7="D=c7"),i.prop9&&!i.eVar9&&(i.eVar9="D=c9"),i.prop10&&!i.eVar10&&(i.eVar10="D=c10"),i.pageName&&!i.eVar11&&(i.eVar11="D=pageName"),i.channel&&!i.eVar12&&(i.eVar12="D=ch"),i.prop13&&!i.eVar13&&(i.eVar13="D=c13"),i.prop15&&!i.eVar15&&(i.eVar15="D=c15"),i.prop16&&!i.eVar16&&(i.eVar16="D=c16"),i.prop17&&!i.eVar17&&(i.eVar17="D=c17"),i.prop18&&!i.eVar18&&(i.eVar18="D=c18"),i.prop25&&!i.eVar25&&(i.eVar25="D=c25"),i.prop26&&!i.eVar26&&(i.eVar26="D=c26"),i.prop27&&!i.eVar27&&(i.eVar27="D=c27"),i.prop28&&!i.eVar28&&(i.eVar28="D=c28"),i.prop35&&!i.eVar35&&(i.eVar35="D=c35"),i.prop36&&!i.eVar36&&(i.eVar36="D=c36"),i.prop37&&!i.eVar37&&(i.eVar37="D=c37"),i.prop40&&!i.eVar40&&(i.eVar40="D=c40"),i.prop41&&!i.eVar41&&(i.eVar41="D=c41"),i.prop42&&!i.eVar42&&(i.eVar42="D=c42"),i.prop44&&!i.eVar44&&(i.eVar44="D=c44"),i.prop45&&!i.eVar45&&(i.eVar45="D=c45"),i.prop46&&!i.eVar46&&(i.eVar46="D=c46"),i.prop47&&!i.eVar47&&(i.eVar47="D=c47"),i.prop48&&!i.eVar48&&(i.eVar48="D=c48"),i.prop51&&!i.eVar51&&(i.eVar51="D=c51"),i.prop52&&!i.eVar52&&(i.eVar52="D=c52"),i.prop53&&!i.eVar53&&(i.eVar53="D=c53"),i.prop58&&!i.eVar58&&(i.eVar58="D=c58"),i.prop60&&!i.eVar60&&(i.eVar60="D=c60"),i.prop61&&!i.eVar61&&(i.eVar61="D=c61"),i.prop62&&!i.eVar62&&(i.eVar62="D=c62"),i.prop63&&!i.eVar63&&(i.eVar63="D=c63"),i.prop64&&!i.eVar64&&(i.eVar64="D=c64"),i.prop65&&!i.eVar65&&(i.eVar65="D=c65"),i.prop66&&!i.eVar66&&(i.eVar66="D=c66"),i.prop67&&!i.eVar67&&(i.eVar67="D=c67"),i.prop69&&!i.eVar69&&(i.eVar69="D=c69"),i.prop70&&!i.eVar70&&(i.eVar70="D=c70"),i.prop73&&!i.eVar73&&(i.eVar73="D=c73")},buildPageName:function(){var e=o.subsection.join(o.separator),t=[];(t=0<arguments.length?r.arrayFromArguments(arguments):t)[0]&&r.typecheck(t[0]).array&&0<t[0].length&&(t=t[0]),0<o.subsection.length&&t.splice(0,0,e),t.splice(0,0,o.channel);for(var n=t.length;0<=n;--n)if(t[n]&&void 0!==o.scqs.contentid&&t[n]===i.prop5&&o.scqs.contenttype){t[n]="".concat(o.scqs.contentid,"-").concat(t[n]);break}return(this.objEmpty(o.scqs)&&!o.directory?"misc:".concat(o.pageurl.replace(/:/g,"-")):t.join(o.separator)).toLowerCase().replace(/\s/g,"-")},getPageName:function(){return o.pageName},setPageName:function(){return"page"!==o.contenttype?["authorbio","bio","blogentry","episode","feature","image","link","longform","media","photogallery","recipe","riding","segment","story","stub"].includes(o.contenttype)&&o.scqs.title?this.handleStory():"videoclip"!==o.contenttype&&"audioclip"!==o.contenttype||!o.scqs.title?"error"===o.contenttype?this.handleErrorPage():"index"===o.contenttype?this.handleIndexPage():this.handleOtherContent():this.handleVideoClip():"page"===o.contenttype&&this.handleGenericPage(),o.pageName},setTitle:function(){o.scqs.title&&!i.prop5&&(o.scqs.title=o.scqs.title.replace(/\//g,"-"),i.prop5=o.scqs.title)},handleStory:function(){CBC.APP.SC.storyTitle&&(i.prop5=CBC.APP.SC.storyTitle),o.scqs.title=o.scqs.title.replace(/\//g,"-").replace(/\s/g,"-").toLowerCase(),i.prop5||(i.prop5=o.scqs.title),o.pageName=this.buildPageName(o.contenttype,o.scqs.title),i.prop11="D=pageName",o.hier1=this.getHierarchy()},handleVideoClip:function(){this.setTitle(),o.pageName=this.buildPageName(o.contenttype,o.scqs.title),o.hier1=this.getHierarchy()},handleErrorPage:function(){i.pageType="errorPage",o.pageName=this.buildPageName(),o.hier1=this.getHierarchy()},handleIndexPage:function(){o.pageName=this.buildPageName("index"),o.hier1=this.getHierarchy()},handleOtherContent:function(){o.contenttype?(o.pageName=this.buildPageName(o.contenttype),"audioclip"===o.contenttype&&this.setTitle()):o.pageName=this.buildPageName(),o.hier1=this.getHierarchy()},handleGenericPage:function(){var e=[],t=(this.objEmpty(o.scqs)&&o.directory&&(e.push(o.directory),""!==(t=this.getSubFoldersPath(o.directory)))&&e.push(t),this.getCurrentFile());"cbc"===t||"web"===t||o.scqs.filename||e.push(t),o.pageName=0<e.length?this.buildPageName(e):this.buildPageName(),o.hier1=this.getHierarchy(o.directory)},getHierarchy:function(e){var t;return 0===o.subsection.length?o.channel:(t=o.subsection.join(","),t="".concat(o.channel,",").concat(t),e&&(t+=",".concat(e)),t)},registerPageView:function(){this.copyPropsToEvars(),i.campaign||(i.campaign=CBC.APP.ANA.FORMATTERS.Adobe.setCampaign()),i.campaign=i.getValOnce(i.campaign,"s_campaign",0),i.hbx_lt="auto",i.events=i.apl(i.events,"event2",",",2),i.prop71="undefined"!=typeof Visitor?"VisitorAPI Present":"VisitorAPI Missing",CBC.APP.ANA.DISPATCHERS.Adobe.dispatch(i)},getSubFoldersPath:function(e){var t=o.pageurl,e=new RegExp(e+"\\/(.*)\\/"),t=t.match(e);return t&&2===t.length?t[1].replace("/",o.separator):""},getCurrentFile:function(){var e=o.pageurl.match(/.*\/([^?#]*)/)[1];return""!==e?e:"index.html"},objEmpty:function(e){for(var t in e)if("function"!=typeof e[t])return!1;return!0},getUserSegmentation:function(){var e=this.isLoggedIn()?"loggedin":"anonymous",t=this.isCommentor()?" | commentor":"";return"".concat(e).concat(t)},isLoggedIn:function(){return CBC.APP.SC.PageTracker.isLoggedIn()},isCommento},parseKeywords:function(e){var t,n=[];if("object"!==_typeof2(e))return"";for(t in e)e[t].forEach(function(e){var t="generic"===e.type?"tag":e.type;e.name?n.push("".concat(t,":").concat(e.name)):e.path&&n.push("".concat(t,":").concat(e.path))});return n.join(",").toLowerCase().replace(/\s/g,"-")}}}(),CBC.APP.ANA.FORMATTERS.Amplitude=function(){"use strict";function r(e,t){return CBC.APP.ANA.FORMATTERS.Common.setPayloadProperty(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0)}function n(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEpisodeSeasonNumber(e,t)}function i(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthenticated(e,t)}function o(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthors(e,t)}function a(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEmbeddedTypes(e,t)}function s(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatKeywords(e,t)}function c(e,t){return n(t,"E")}function u(e,t){return n(t,"S")}function l(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatGeoTimezone(e,t)}function d(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatTimeEngaged(e,t)}function p(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatUserInterests(e,t)}var f=[];function h(e,t){b(),P(t),CBC.APP.ANA.DISPATCHERS.Amplitude.dispatch(e,t)}function _(){var e=CBC.APP.SC.UTIL.getCookie("cbc_plus");return!!e&&(window.amplitude.getInstance("stats").setUserId(e),!0}function m(e){window.amplitude.getInstance("stats").setUserProperties(e)}function v(e,t,n){var r;return void 0!==window.amplitude&&void 0!==(new window.amplitude.Identify)[e]?(r=(new window.amplitude.Identify)[e](t,n),window.amplitude.getInstance("stats").identify(r),r):(f.push([e,t,n]),!1)}function C(e){var t;return"true"===window.CBC.APP.SC.UTIL.getQueryStringParameterValue("webview",e)?(t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("appname",e),window.CBC.APP.SC.UTIL.getMetadataAllowlist().metadata.allowlist.webviewapps[t]?(t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("udid",e))?(CBC.APP.SC.UTIL.debug("checkWebView: setting deviceId"),CBC.APP.ANA.FORMATTERS.Amplitude.sDID(t),t):(CBC.APP.SC.UTIL.debug("checkWebView: no deviceId passed"),!1):(CBC.APP.SC.UTIL.debug("checkWebView: not a allowlisted app"),!1)):(CBC.APP.SC.UTIL.debug("checkWebView: not a webview"),!1)}function y(e){e.content&&delete e.content.wordcount}function A(e){e.content&&delete e.content.embedded}var b=function(){var e=CBC.APP.SC.UTIL.getCookie("cbc_plus"),t=CBC.APP.SC.UTIL.getCookie("cbc_visitor");return e?(CBC.APP.ANA.FORMATTERS.Amplitude.mUP("set","user.id",e),e):!!t&&(CBC.APP.ANA.FORMATTERS.Amplitude.mUP("setOnce","user.id",t),t)},P=function(e){var t="set",e=e&&e.user&&e.user.tier||CBC.APP.SC.UTIL.getUserTier();return"free"===(e=CBC.APP.SC.UTIL.convertTier(e))&&(t="setOnce"),CBC.APP.ANA.FORMATTERS.Amplitude.mUP(t,"user.tier",e),e};return{setPayloadProperty:r,formatAuthenticated:i,formatAuthors:o,formatEmbeddedTypes:a,formatKeywords:s,formatEpisodeNumber:c,formatSeasonNumber:u,formatGeoTimezone:l,formatTimeEngaged:d,formatUserInterests:p,formatSignal:function(t,e){if("string"!=typeof t)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: did not send an event name: "+t),!1;if("object"!==_typeof2(e))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: event properties must be sent as an object: "+e),!1;if(r=(r=t).toUpperCase(),!Boolean(CBC.APP.SC.EventTracker.getValidEvents()[r]))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: not a valid event: "+t),!1;var n,r=CBC.APP.SC.UTIL.sanitizeObject(JSON.parse(JSON.stringify(e))),e=t.toUpperCase(),i={};if(!["STREAMED","SCANNED","WATCHED","LISTENED"].includes(e)&&"object"===_typeof2(CBC.APP.SC.DTM.formatted)&&"object"===_typeof2(CBC.APP.SC.DTM.formatted.amplitude)&&0<Object.keys(CBC.APP.SC.DTM.formatted.amplitude).length?i=Object.keys(r).length<1?(CBC.APP.SC.UTIL.debug("set up event properties from DTM object if amplitudeEventProperties object is empty"),CBC.APP.ANA.FORMATTERS.Amplitude.formatAmplitude({dl:CBC.APP.SC.DTM.formatted.amplitude})):(CBC.APP.SC.UTIL.debug("merge the 2 objects ep and dl together"),CBC.APP.ANA.FORMATTERS.Amplitude.formatAmplitude({ep:r,dl:CBC.APP.SC.DTM.formatted.amplitude})):["STREAMED","WATCHED"].includes(e)&&CBC.APP.SC.DTM.formatted&&CBC.APP.SC.DTM.formatted.amplitude&&"watch"===CBC.APP.SC.DTM.formatted.amplitude.pillar?i=r&&Object.keys(r).length?CBC.APP.SC.UTIL.populateOTTMediaMetadata(r):CBC.APP.ANA.FORMATTERS.Amplitude.formatAmplitude({dl:CBC.APP.SC.DTM.formatted.amplitude}):"object"===_typeof2(r)&&(CBC.APP.SC.UTIL.debug("setting eventProps to default amplitudeEventProperties argument"),(i=r).content&&i.content.tier&&(i.content.tier=CBC.APP.SC.UTIL.convertTier(i.content.tier)),i.user)&&i.user.tier&&(i.user.tier=CBC.APP.SC.UTIL.convertTier(i.user.tier)),["FOLLOWED","UNFOLLOWED"].includes(e)){var r=CBC.APP.SC.metadataAllowlist.metadata.allowlist.content.cms,o=i.user&&i.user.interests&&i.user.interests.explicit,a="FOLLOWED"===e?"yes":"no";if(!(i.content&&i.content.cms&&r[i.content.cms]))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+e+" requires cms field to be set and present on metadata-allowlist"),!1;if(!o)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+e+" requires explicit interests to be provided"),!1;r=i.user.interests.explicit[a];if(!(r&&Array.isArray(r)&&0<r.length))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+e+" explicit interests "+a+" array is required and must not empty"),!1}if("START WEB SESSION"!==e&&"LOADED"!==e||((o=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("cmp"))&&(i.referrer||(i.referrer={}),i.referrer.campaign=o,m({referrer:{campaign:o}})),C(window.document.URL)),"LOADED"===e){var s=CBC.APP.SC.UTIL.determineWebViewFeatureName(window);if(s){var c,u=_createForOfIteratorHelper(CBC.APP.ANA.VALIDATORS.Common.getFeatureNameRegex());try{for(u.s();!(c=u.n()).done;){var l=c.value;if(RegExp(l).test(s)){i.feature||(i.feature={}),i.feature.name=s;break}}}catch(e){u.e(e)}finally{u.f()}}}if(CBC.APP.SC.UTIL.getCBCUserProperties()&&m(CBC.APP.SC.UTIL.getCBCUserProperties()),Object.keys(i).length<1)return CBC.APP.SC.UTIL.debug("EventTracker - Amplitude - Warning: no event properties were sent"),!1;if("READ"===e){if("index"===i.content.type)return CBC.APP.SC.UTIL.debug("READ validation failed, content = index"),!1;"comments"===i.content.type&&(i.content.cms||(i.content.cms="polopoly"),i.referrer.department&&delete i.referrer.department,i.referrer.pillar)&&delete i.referrer.pillar,["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||y(i)}else if("VIEWED AD"===e)"displayad"===i.content.type&&(r={},(a=CBC.APP.SC.UTIL.getCookie("stats_ad.campaigns.seen"))&&(r=JSON.parse(a)),o=CBC.APP.SC.UTIL.generateAdCampaignList(i.content.id,r,(new Date).getTime()),CBC.APP.SC.UTIL.setCookie("stats_ad.campaigns.seen",JSON.stringify(o)),v("set","ad.campaigns.seen",Object.keys(o)));else if("LOADED"===e)["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||(y(i),A(i));else if("PLAYED"===e&&!CBC.APP.ANA.VALIDATORS.Common.validatePlayedContentType(i))return CBC.APP.SC.UTIL.debug("Amplitude payload failed PLAYED validation: "+JSON.stringify(i)),!1;return"LOADED"!==e&&"READ"!==e&&y(i),"LOADED"!==e&&A(i),CBC.APP.AB&&CBC.APP.AB.Testing&&("STREAMED"===t.replace(" ","-").toUpperCase()&&i.content&&(!i.content.media||"video"!==i.content.media.audiovideo&&"audio"!==i.content.media.audiovideo?"video"!==i.content.area&&"audio"!==i.content.area||(n={audiovideo:i.content.area}):n={audiovideo:i.content.media.audiovideo}),CBC.APP.AB.Testing.viewStateChange(t.replace(" ","-").toUpperCase(),n)),["LOADED","READ","STREAMED","WATCHED"].includes(e)||(i.sponsor&&delete i.sponsor,i.content&&i.content.partner&&delete i.content.partner),i.sponsor&&i.sponsor.id&&delete i.sponsor.id,i.partner&&i.partner.id&&delete i.partner.id,i.user&&i.user.reason&&(a=CBC.APP.SC.UTIL.getMetadataAllowlist().metadata.allowlist,"SUBSCRIBED"!==e&&"UNSUBSCRIBED"!==e||"SUBSCRIBED"===e&&!0!==a.user.reason.SUBSCRIBED[i.user.reason])&&delete i.user.reason,i=CBC.APP.SC.UTIL.removeGemID(i),"SIGNED IN"===t?CBC.APP.SC.UTIL.setCBCPlusIDPromise().the}):("SIGNED OUT"===t&&g(),h(t,i)),i},formatAmplitude:function(e){var t={},n={};if("object"!==_typeof2(e.dl)&&"object"!==_typeof2(e.ep))return{};(t="object"===_typeof2(e.dl)?JSON.parse(JSON.stringify(e.dl)):t).department=t.department||{},t.partner=t.partner||{},t.referrer=t.referrer||{},t.referrer.department=t.referrer.department||{},t.sponsor=t.sponsor||{},(n="object"===_typeof2(e.ep)?JSON.parse(JSON.stringify(e.ep)):n).app=n.app||{},n.content=n.content||{},n.content.media=n.content.media||{},n.content.partner=n.content.partner||{},n.department=n.department||{},n.feature=n.feature||{},n.referrer=n.referrer||{},n.referrer.department=n.referrer.department||{},n.sponsor=n.sponsor||{},n.time=n.time||{},n.user=n.user||{};e={app:{name:r(t.appname,n.app.name),pillar:r(t.pillar,n.app.pillar,"legacy"),version:r(null,n.app.version)},content:{area:r(t.contentarea,n.content.area,"misc"),authenticated:r(t.authenticated,n.content.authenticated,i),authors:r(t.authors,n.content.authors,o),cms:r(t.contentcms,n.content.cms),embedded:r(t.embedtypes,null,a),id:r(t.contentid,n.content.id),keywords:r(t.keywords,null,s),media:{audiovideo:r(null,n.content.media.audiovideo),episodenumber:r(null,n.content.media.episodenumber,c),genre:r(null,n.content.media.genre),length:r(null,n.content.media.length),liveondemand:r(null,n.content.media.liveondemand),publishedtime:r(null,n.content.media.publishedtime),region:r(null,n.content.media.region),seasonnumber:r(null,n.content.media.seasonnumber,u),show:r(null,n.content.media.show),sport:r(null,n.content.media.sport),type:r(null,n.content.media.type)},partner:{name:r(t.partner.name,n.content.partner.name)},publishedtime:r(t.publishedTime,n.content.publishedtime),subsection1:r(t.subsection1,n.content.subsection1),subsection2:r(t.subsection2,n.content.subsection2),subsection3:r(t.subsection3,n.content.subsection3),subsection4:r(t.subsection4,n.content.subsection4),title:r(t.title,n.content.title,document.title),type:r(t.contenttype,n.content.type,"page"),updatedtime:r(t.updatedTime,n.content.updatedtime),url:r(t.url,n.content.url,document.location.href),wordcount:r(t.wordcount,n.content.wordcount)},custom:r(null,n.custom),department:{level1:r(t.department.level1,n.department.level1),level2:r(t.department.level2,n.department.level2),level3:r(t.department.level3,n.department.level3)},device:r(t.geo,n.geo,l),feature:{instance:r(null,n.feature.instance),name:r(null,n.feature.name),position:r(null,n.feature.position),value:r(null,n.feature.value)},referrer:{campaign:r(t.referrer.campaign,n.referrer.campaign),department:{level1:r(t.referrer.department.level1,n.referrer.department.level1),level2:r(t.referrer.department.level2,n.referrer.department.level2),level3:r(t.referrer.department.level3,n.referrer.department.level3)},pillar:r(t.referrer.pillar,n.referrer.pillar),source:r(null,n.referrer.source),url:r(t.referrer.url,n.referrer.url)},sponsor:{name:r(t.sponsor.name,n.sponsor.name)},time:r(null,n.time.engaged,d),user:{interests:r(null,n.user.interests,p),reason:r(null,n.user.reason,function(e,t){return t?t.toLowerCase():void 0}),selection:r(null,n.user.selection,function(e,t){return t?t.toLowerCase():void 0}),subscriptions:void 0}},t=JSON.parse(JSON.stringify(e,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}));return(t=JSON.parse(JSON.stringify(t,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}))).content&&t.content.media&&"nan"===t.content.media.episodenumber&&"nan"===t.content.media.seasonnumber&&2===Object.keys(t.content.media).length&&(delete t.content.media,Object.keys(t.content).length||delete t.content),t},sUID:_,sDID:function(e){return"string"==typeof e&&e?(CBC.APP.SC.UTIL.debug("setDeviceID: setting device id to: "+e),window.amplitude.getInstance("stats").setDeviceId(e),e):(CBC.APP.SC.UTIL.debug("setDeviceID: invalid device id specified"),!1)},sUP:m,mUP:v,uUT:P,uUID:b,cWV:C,executeUPQueue:function(){if(f.length){for(var e=0;e<f.length;e++)v(f[e][0],f[e][1],f[e][2]);f=[]}}}}(),CBC.APP.ANA.FORMATTERS.Comscore=function(){"use strict";return{c3mapper:function(e){switch(CBC.APP.SC.UTIL.cleanString(e)){case"arts":return"CBCArts";case"comedy":return"CBCComedy";case"kids":return"CBCKids";case"life":return"CBCLife";case"listen":return"CBCListen";case"music":return"CBCMusic";case"news":return"CBCNews";case"radio":return"CBCRADIO";case"sports":return"CBCSPORTS";default:return"CBC"}}}}(),CBC.APP.ANA.FORMATTERS.MirRoar=function(){"use strict";function r(e,t){return CBC.APP.ANA.FORMATTERS.Common.setPayloadProperty(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0)}function n(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEpisodeSeasonNumber(e,t)}function i(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthenticated(e,t)}function o(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthors(e,t)}function a(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEmbeddedTypes(e,t)}function s(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatKeywords(e,t)}function c(e,t){return n(t,"E"}function l(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatGeoTimezone(e,t)}function d(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatTimeEngaged(e,t)}function p(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatUserInterests(e,t)}function f(e){var t={},n={};return"object"!==_typeof2(e.dl)&&"object"!==_typeof2(e.ep)?{}:((t="object"===_typeof2(e.dl)?JSON.parse(JSON.stringify(e.dl)):t).department=t.department||{},t.geo=t.geo||{},t.partner=t.partner||{},t.referrer=t.referrer||{},t.referrer.department=t.referrer.department||{},t.sponsor=t.sponsor||{},(n="object"===_typeof2(e.ep)?JSON.parse(JSON.stringify(e.ep)):n).app=n.app||{},n.content=n.content||{},n.content.media=n.content.media||{},n.content.partner=n.content.partner||{},n.department=n.department||{},n.feature=n.feature||{},n.referrer=n.referrer||{},n.referrer.department=n.referrer.department||{},n.sponsor=n.sponsor||{},n.time=n.time||{},n.user=n.user||{},e={user_id:null!=g()||null!=m()?(g()?g:m)():null,event_properties:{app:{name:r(t.appname,n.app.name),pillar:r(t.pillar,n.app.pillar,"legacy"),version:r(null,n.app.version)},content:{area:r(t.contentarea,n.content.area,"misc"),cms:r(t.contentcms,n.content.cms),department:{level1:r(t.department.level1,n.department.level1),level2:r(t.department.level2,n.department.level2),level3:r(t.department.level3,n.department.level3)},id:r(t.contentid,n.content.id),embedded:r(t.embedtypes,null,a),keywords:r(t.keywords,n.content.keywords,s),partner:{name:r(t.partner.name,n.content.partner.name)},authenticated:r(t.authenticated,n.content.authenticated,i),authors:r(t.authors,n.content.authors,o),publishedtime:r(t.publishedTime,n.content.publishedtime),subsection1:r(t.subsection1,n.content.subsection1),subsection2:r(t.subsection2,n.content.subsection2),subsection3:r(t.subsection3,n.content.subsection3),subsection4:r(t.subsection4,n.content.subsection4),tier:CBC.APP.SC.UTIL.convertTier(r(t.contenttier,n.content.tier,"free")),title:r(t.title,n.content.title,document.title),type:r(t.contenttype,n.content.type,"page"),updatedtime:r(t.updatedTime,n.content.updatedtime),url:r(t.url,n.content.url,document.location.href),wordcount:r(t.wordcount,n.content.wordcount),media:{audiovideo:r(null,n.content.media.audiovideo),episodenumber:r(null,n.content.media.episodenumber,c),genre:r(null,n.content.media.genre),length:r(null,n.content.media.length),liveondemand:r(null,n.content.media.liveondemand),publishedtime:r(null,n.content.media.publishedtime),region:r(null,n.content.media.region),seasonnumber:r(null,n.content.media.seasonnumber,u),show:r(null,n.content.media.show),sport:r(null,n.content.media.sport),type:r(null,n.content.media.type)}},feature:{instance:r(null,n.feature.instance),name:r(null,n.feature.name),position:r(null,n.feature.position),value:r(null,n.feature.value)},referrer:{campaign:r(t.referrer.campaign,n.referrer.campaign),department:{level1:r(t.referrer.department.level1,n.referrer.department.level1),level2:r(t.referrer.department.level2,n.referrer.department.level2),level3:r(t.referrer.department.level3,n.referrer.department.level3)},pillar:r(t.referrer.pillar,n.referrer.pillar),source:r(null,n.referrer.source),url:r(t.referrer.url,n.referrer.url)},sponsor:{name:r(t.sponsor.name,n.sponsor.name)}},custom:r(null,n.custom),device:r(t.geo,n.geo,l),country:r(t.geo,n.geo,function(){return CBC.APP.ANA.FORMATTERS.MirRoar.formatLocations(t.geo,n.geo,"country")}),region:r(t.geo,n.geo,function(){return CBC.APP.ANA.FORMATTERS.MirRoar.formatLocations(t.geo,n.geo,"region")}),city:r(t.geo,n.geo,function(){return CBC.APP.ANA.FORMATTERS.MirRoar.formatLocations(t.geo,n.geo,"city")}),timeengaged:r(null,n.time.engaged,d),time:CBC.APP.ANA.FORMATTERS.MirRoar.getTimeStamp(),session_id:r(CBC.APP.ANA.VARS.sessionID,CBC.APP.SC.UTIL.getCookie("cbc-session")),user_properties:{user:{interests:r(null,n.user.interests,p),id:{cbcvisitor:m(),cbcplus:g()},reason:r(null,n.user.reason,function(e,t){return t?t.toLowerCase():void 0}),selection:r(null,n.user.selection,function(e,t){return t?t.toLowerCase():void 0}),subscriptions:void 0,tier:CBC.APP.SC.UTIL.convertTier(n.user&&n.user.tier||CBC.APP.SC.UTIL.getUserTier())}}},e=JSON.parse(JSON.stringify(e,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t})),(e=JSON.parse(JSON.stringify(e,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}))).event_properties.content&&e.event_properties.content.media&&"nan"===e.event_properties.content.media.episodenumber&&"nan"===e.event_properties.content.media.seasonnumber&&2===Object.keys(e.event_properties.content.media).length&&(delete e.event_properties.content.media,Object.keys(e.event_properties.content).length||delete e.event_properties.content),e)}function h(e){e.event_properties&&e.event_properties.content&&e.event_properties.content.wordcount&&delete e.event_properties.content.wordcount}function _(e){e.event_properties&&e.event_properties.content&&e.event_properties.content.embedded&&delete e.event_properties.content.embedded}var g=function(){var e=null;return e=CBC.APP.SC.UTIL.getCookie("cbc_plus")?CBC.APP.SC.UTIL.getCookie("cbc_plus"):e},m=function(){var e=null;return e=CBC.APP.SC.UTIL.getCookie("cbc_visitor")?CBC.APP.SC.UTIL.getCookie("cbc_visitor"):e};return{setPayloadProperty:r,formatAuthenticated:i,formatAuthors:o,formatEmbeddedTypes:a,formatKeywords:s,formatEpisodeNumber:c,formatSeasonNumber:u,formatGeoTimezone:l,formatLocations:function(e,t,n){t=t&&t[n]?t:e;return t&&t[n]?t[n]:void 0},formatTimeEngaged:d,formatUserInterests:p,formatMirRoar:f,formatSignal:function(e,t){t=CBC.APP.SC.UTIL.sanitizeObject(JSON.parse(JSON.stringify(t)));if("string"!=typeof e)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: did not send an event name: "+e),!1;if("object"!==_typeof2(t))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: event properties must be sent as an object: "+t),!1;var e=e.toUpperCase(),n={},n=Object.keys(t).length<1?(CBC.APP.SC.UTIL.debug("set up event properties from DTM object if mirEventProperties object is empty"),f({dl:CBC.APP.SC.DTM.formatted.MirRoar})):(CBC.APP.SC.UTIL.debug("merge the 2 objects ep and dl together"),f({ep:t,dl:CBC.APP.SC.DTM.formatted.MirRoar}));if(["FOLLOWED","UNFOLLOWED"].includes(e)){var t=CBC.APP.SC.metadataAllowlist.metadata.allowlist.content.cms,r=n.user_properties&&n.user_properties.user&&n.user_properties.user.interests&&n.user_properties.user.interests.explicit,i="FOLLOWED"===e?"yes":"no";if(!(n.event_properties&&n.event_properties.content&&n.event_properties.content.cms&&t[n.event_properties.content.cms]))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+e+" requires cms field to be set and present on metadata-allowlist"),!1;if(!r)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+e+" requires explicit interests to be provided"),!1;t=n.user_properties.user.interests.explicit[i];if(!(t&&Array.isArray(t)&&0<t.length))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+e+" explicit interests "+i+" array is required and must not empty"),!1}"START WEB SESSION"!==e&&"LOADED"!==e||(r=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("cmp"))&&(n.referrer||(n.referrer={}),n.referrer.campaign=r);t=window.document.URL;r="true"===window.CBC.APP.SC.UTIL.getQueryStringParameterValue("webview",t)?(i=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("appname",t),window.CBC.APP.SC.UTIL.getMetadataAllowlist().metadata.allowlist.webviewapps[i]?(i=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("udid",t))?(CBC.APP.SC.UTIL.debug("checkWebView: setting deviceId"),i):(CBC.APP.SC.UTIL.debug("checkWebView: no deviceId passed"),!1):(CBC.APP.SC.UTIL.debug("checkWebView: not a allowlisted app"),!1)):(CBC.APP.SC.UTIL.debug("checkWebView: not a webview"),!1);if(r&&(n.device_id=r),"LOADED"===(n.event_type=e)){var o=CBC.APP.SC.UTIL.determineWebViewFeatureName(window);if(o){var a,s=_createForOfIteratorHelper(CBC.APP.ANA.VALIDATORS.Common.getFeatureNameRegex());try{for(s.s();!(a=s.n()).done;){var c=a.value;if(RegExp(c).test(o)){n.event_properties.feature||(n.event_properties.feature={}),n.event_properties.feature.name=o;break}}}catch(e){s.e(e)}finally{s.f()}}}if(Object.keys(n).length<1)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: no event properties were sent"),!1;if("READ"===e){if("index"===n.event_properties.content.type)return CBC.APP.SC.UTIL.debug("READ validation failed, content = index"),!1;"comments"===n.event_properties.content.type&&(n.event_properties.content.cms||(n.event_properties.content.cms="polopoly"),n.event_properties.referrer.department&&delete n.event_properties.referrer.department,n.event_properties.referrer.pillar)&&delete n.event_properties.referrer.pillar,["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||h(n)}else if("LOADED"===e)["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||(h(n),_(n));else if("PLAYED"===e&&!CBC.APP.ANA.VALIDATORS.Common.validatePlayedContentType(n))return CBC.APP.SC.UTIL.debug("mir payload failed PLAYED validation: "+JSON.stringify(n)),!1;return"LOADED"!==e&&"READ"!==e&&h(n),"LOADED"!==e&&_(n),["LOADED","READ","STREAMED","WATCHED"].includes(e)||(n.event_properties.sponsor&&delete n.event_properties.sponsor,n.event_properties.content&&n.event_properties.content.partner&&delete n.event_properties.content.partner),n.event_properties.sponsor&&n.event_properties.sponsor.id&&delete n.event_properties.sponsor.id,n.event_properties.content.partner&&n.event_properties.content.partner.id&&delete n.event_properties.content.partner.id,n.user&&n.user.reason&&(t=CBC.APP.SC.UTIL.getMetadataAllowlist().metadata.allowlist,"SUBSCRIBED"!==e&&"UNSUBSCRIBED"!==e||"SUBSCRIBED"===e&&!0!==t.user.reason.SUBSCRIBED[n.user.reason])&&delete n.user.reason,["STREAMED","WATCHED"].includes(e)&&((n.event_properties.content&&n.event_properties.content.media&&"nan"==n.event_properties.content.media.episodenumber||"nan"==n.event_properties.content.media.seasonnumber)&&(n.event_properties.content.media.episodenumber&&delete n.event_properties.content.media.episodenumber,n.event_properties.content.media.seasonnumber)&&delete n.event_properties.content.media.seasonnumber,n.event_properties.content&&n.event_properties.content.media&&"nan"==n.event_properties.content.media.publishedTime&&delete n.event_properties.content.media.publishedTime,"watch"==n.event_properties.app.pillar)&&"ott-web-app"==n.event_properties.app.name&&(n.event_properties.content.cms=n.event_properties.content.cms||"ibm-cloud-video"),CBC.APP.ANA.DISPATCHERS.MirRoar.dispatch(n),n},getCBCPlusID:g,getCBCVisitorID:m,getTimeStamp:function(){return(new Date).getTime()}}}(),CBC.APP.ANA.FORMATTERS.HarmonizedAdobe=function(){"use strict";function n(){delete window.s_cbc_sitecatalyst.pageName,window.s_cbc_sitecatalyst.clearVars()}function r(e){switch(e){case"CAST-DEVICE CONNECTED":s_cbc_sitecatalyst.linkTrackEvents="event1";break;case"REGISTERED":s_cbc_sitecatalyst.linkTrackEvents="event2";break;case"SIGNED IN":s_cbc_sitecatalyst.linkTrackEvents="event3";break;case"SIGNED OUT":s_cbc_sitecatalyst.linkTrackEvents="event4";break;case"SUBSCRIBED":s_cbc_sitecatalyst.linkTrackEvents="event5";break;case"UNSUBSCRIBED":s_cbc_sitecatalyst.linkTrackEvents="event6";break;default:s_cbc_sitecatalyst.linkTrackEvents="None"}s_cbc_sitecatalyst.events=s_cbc_sitecatalyst.linkTrackEvents}function i(e){for(var n=["events"],t=JSON.parse('{\n    "appname": ["prop1", "eVar1"],\n    "appVersion": ["prop2","eVar2"],\n    "browser.ad_blocking": ["prop3", "eVar3"],\n    "browser.screenwidth": ["prop5", "eVar5"],\n    "browser.screenheight": ["prop6", "eVar6"],\n    "browser.type": ["prop7", "eVar7"],\n    "browser.version": ["prop9", "eVar9"],\n    "content.channel": ["prop10", "eVar10"],\n    "content.family_friendly": ["eVar12"],\n    "content.format": ["eVar13"],\n    "content.genre.level1": ["eVar14"],\n    "content.genre.level2": ["eVar15"],\n    "content.network": ["prop22", "eVar22"],\n    "content.principal_audience": ["prop28", "eVar28"],\n    "content.related_ids": ["eVar29"],\n    "content.string": ["prop30", "eVar30"],\n    "content.subject_theme.level1": ["prop31", "eVar31"],\n    "content.subject_theme.level2": ["prop32", "eVar32"],\n    "content.subject_theme.level3": ["prop33", "eVar33"],\n    "contentcms": ["prop11", "eVar11"],\n    "contentid": ["eVar16"],\n    "contenttier": ["eVar35"],\n    "contenttype": ["prop34", "eVar34"],\n    "department.level1": ["prop36", "eVar36"],\n    "department.level2": ["prop37", "eVar37"],\n    "department.level3": ["prop38", "eVar38"],\n    "department.level4": ["prop39", "eVar39"],\n    "department.level5": ["prop40", "eVar40"],\n    "device.id": [],\n    "device.manufacturer.name": ["prop46", "eVar46"],\n    "device.manufacturer.version": ["prop47", "eVar47"],\n    "device.offline": ["prop48", "eVar48"],\n    "device.os.name": ["prop49", "eVar49"],\n    "device.os.nametype": ["prop50", "eVar50"],\n    "device.type": ["prop52", "eVar52"],\n    "feature.additionalinfo": [],\n    "feature.instance": ["prop55", "eVar55"],\n    "feature.itemname": ["prop53", "eVar53"],\n    "feature.name": ["prop54", "eVar54"],\n    "feature.position": ["prop56", "eVar56"],\n    "feature.projectname": [],\n    "feature.tagmanager.name": ["prop57", "eVar57"],\n    "feature.value": ["prop58", "eVar58"],\n    "geo.city": ["prop42", "eVar42"],\n    "geo.country": ["prop43", "eVar43"],\n    "geo.region": ["prop44", "eVar44"],\n    "geo.timezone": ["prop45", "eVar45"],\n    "media.brand": ["prop17", "eVar17"],\n    "media.episode": ["eVar18"],\n    "media.media_title": ["eVar19"],\n    "media.season": ["eVar20"],\n    "osVersion": ["prop51", "eVar51"],\n    "other.ab_test.version": ["prop60", "eVar60"],\n    "other.analytics.version": ["prop74", "eVar74"],\n    "page.name": ["prop62", "eVar62"],\n    "push.device.id": ["eVar64"],\n    "referrer.id": ["prop65", "eVar65"],\n    "referrer.name": ["prop66", "eVar66"],\n    "referrer.type": ["prop67", "eVar67"],\n    "sponsor.name": ["prop68", "eVar68"],\n    "structure.server.domain": ["prop4", "eVar4"],\n    "timestamp.clientside": ["prop69", "eVar69"],\n    "timestamp.serverside": [],\n    "title": ["prop26", "eVar26"],\n    "url": ["prop8", "eVar8"],\n    "user.id": ["eVar70"],\n    "user.plan.ids": ["prop71", "eVar71"],\n    "user.subscription.ids": ["eVar72"],\n    "user.tier.ids": ["prop73", "eVar73"],\n    "user.tracking.code": []\n}\n'),r=Object.keys(t),i=Object.values(t),o=0;o<r.length;o++)!function(){var t=CBCRC.ANA.DATALAYER.getJSONValue(e,r[o]);void 0!==t&&(Array.isArray(t)&&(t=t.toString()),i[o].forEac}))}();return n}function o(e){return CBC.APP.SC.UTIL.deepMergeObjs(CBC.APP.SC.DTM.formatted.harmonizedAdobe,e}return{formatPageLoad:function(){n(),i(CBC.APP.SC.DTM.formatted.harmonizedAdobe),CBC.APP.ANA.DISPATCHERS.HarmonizedAdobe.trackPageLoad()},formatMediaSignal:function(e,t){function i(n,r){Object.entries(n).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];r.push(t),["boolean","number","string"].includes(_typeof2(e))||Array.isArray(e)?"string"!=typeof e&&!Array.isArray(e)||(n[t]=window.CBCRC.ANA.DATALAYER.sanitizeDataElement(r.join("."),e)):i(n[t],r),r.pop()})}var n=window.CBC.APP.SC.UTIL.checkPropertyExistence,t=JSON.parse(JSON.stringify(t)),r=Object.getOwnPropertyNames(t.media_object)[0],o=window.CBCRC.ANA.MEDIA.getActivePlayerList(),a=(!{}.hasOwnProperty.call(o,r)||i(t.media_object[r],[]),void 0),s=t.media_object[r];"mediaAdBreakStarted"===e?a=[{name:s.player.mediaAdBreak.name,position:Number(s.player.mediaAdBreak.podIndex),playhead:Number(s.player.playhead)}]:"mediaChapterStarted"===e?a=[{length:Number(s.cms.content.media.chapter_length),name:s.cms.content.media.chapter_name,position:Number(s.cms.content.media.chapter_number),playhead:Number(s.player.playhead),startTime:Number(s.cms.content.media.chapter_start)}]:"mediaSessionStarted"===e&&"on-demand"===(a=[{ovp:s.cms.content.cms,playerName:n(s,"player.name")||"cbc-default-media-player",vhbid:o[r]},{streamType:n(s,"cms.content.media.liveondemand")||"vod",length:Number(n(s,"cms.content.media.length"))||-1,playhead:Number(s.player.playhead),cbcContextVideo:{airdate:n(s,"cms.content.published.date"),appversion:n(s,"app.version")||"missing",audiovideo:n(s,"cms.content.media.stream_type")||"video",contentarea:n(s,"cms.content.area")||"missing",contenttier:CBC.APP.SC.UTIL.convertTier(n(s,"cms.content.tier")),department:{level1:n(s,"cms.department.level1"),level2:n(s,"cms.department.level2"),level3:n(s,"cms.department.level3")},episodenumber:n(s,"cms.content.media.episode"),feature:{name:n(s,"feature.name"),instance:n(s,"feature.instance"),position:n(s,"feature.position"),value:n(s,"feature.value")},genre:n(s,"cms.content.genre.level1"),is_full_episode:n(s,"cms.content.media.is_full_episode")||!1,keywords:n(s,"cms.content.keywords"),producer_name:n(s,"cms.content.producer.name"),region:n(s,"cms.content.media.region"),seasonnumber:n(s,"cms.content.media.season"),show:n(s,"cms.content.media.media_title"),source:n(s,"cms.content.cms"),sponsorname:n(s,"sponsor.name"),station_code:n(s,"cms.content.station_code")||"5192",streamtitle:n(s,"cms.content.title")||"missing",totalchapters:1,type:n(s,"cms.content.type"),uid:s.cms.content.id,usertier:window.CBC.APP.SC.UTIL.getUserTier()||"free"},pagevars:{prop60:s.app.name,prop63:"web",prop64:s.app.version},playerContextVideo:{liveondemand:n(s,"cms.content.media.liveondemand")||"on-demand",pdkplayername:n(s,"player.name")||"cbc-default-media-player"}}])[1].streamType&&(a[1].streamType="vod"),a=a&&window.CBC.APP.SC.UTIL.dropInvalidObjectProperties(a),window.CBC.APP.ANA.DISPATCHERS.HarmonizedAdobe.trackMediaSignal(e,t,a)},formatSignal:function(e,t){n(),r(e);}(e);a(i(o(t))),CBC.APP.ANA.DISPATCHERS.HarmonizedAdobe.trackEvent(e)},mergeData:o,setLinkTrackEvents:r,setLinkTrackVars:a,setPropsAndEvars:i}}(),CBC.APP.ANA.FORMATTERS.ESS=function(){"use strict";function i(e,t){var n=CBC.APP.SC.UTIL.getCookie("cbc_plus"),r=CBC.APP.SC.UTIL.getCookie("cbc_visitor"),i={};return i.subject={type:"User",id:n||r},!(!i.subject.id||(i.predicate={type:e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),id:"E0406C",end:(new Date).toISOString()},i.object={type:"PolopolyArticle",id:t.content.id},!JSON.stringify(i))||"{}"===JSON.stringify(i))&&i}function o(e,t){var n=CBC.APP.SC.UTIL.getCookie("cbc_plus"),r=CBC.APP.SC.UTIL.getCookie("cbc_visitor"),i={type:"EssEngages"};if(i.user={type:"UieUser",id:n||r},!i.user.id)return!1;if(t.content&&t.content.cms&&t.content.id||"watch"!==CBC.APP.SC.DTM.formatted.raw.pillar||"ott-web-app"!==CBC.APP.SC.DTM.formatted.raw.appname||!CBC.APP.SC.DTM.formatted.raw.contentid||(t.content={},t.content.cms="ibm-cloud-video",t.content.id=CBC.APP.SC.DTM.formatted.raw.contentid),!t.content||!t.content.cms||!t.content.id)return!1;switch(i.entity={},t.content.cms){case"audio-db":case"audioid":i.entity.type="AudioDbClip";break;case"mpx":case"mediaid":i.entity.type="MpxVideo";break;case"ibm-cloud-video":i.entity.type="IbmVideo";break;case"ott-cms":i.entity.type="OttVideo";break;default:return!1}return i.entity.id=t.content.id.toString(),i[["WATCHED","LISTENED"].includes(e)?"end":"start"]={type:"IetfIsoDate",id:(new Date).toISOString().replace(/z$/i,"+00:00")},i.percent="STREAMED"===e?0:.75,i.host={type:"GenericSoftware",name:CBC.APP.SC.DTM.formatted.raw.appname},1<=Object.keys(s).length&&["WATCHED","LISTENED"].includes(e)&&(i.id=s[t.content.id],delete s[t.content.id]),!(!JSON.stringify(i)||"{}"===JSON.stringify(i))&&[i]}function a(e){var t={},n=CBC.APP.ANA.VALIDATORS.Common.validateFromAllowlist;if(t.type="EssEngages",t.user=c("UieUser"),!t.user.id)return!1;t.entity=u("PolopolyArticle",CBC.APP.SC.DTM.formatted.googlecloud.content.id),t.start=u("IetfIsoDate",(new Date).toISOString().replace(/z$/i,"+00:00")),t.referrer={},CBC.APP.SC.DTM.formatted.googlecloud.referrer&&(t.referrer.url=CBC.APP.SC.DTM.formatted.googlecloud.referrer);var e=e.feature,r={};return e&&(e.name&&n("feature.name",e.name)&&(r.name=e.name),e.instance&&n("feature.instance",e.instance)&&(r.instance=e.instance),e.position&&n("feature.position",e.position)&&(r.position=parseInt(e.position)),e.value)&&n("feature.value",e.value)&&(r.value=e.value),0<Object.keys(r).length&&(t.referrer.feature=r,t.referrer.feature.type="WebComponent"),0<Object.keys(t.referrer).length?t.referrer.type="WebReferrer":delete t.referrer,t.percent=0,[t]}var s={},c=function(e){var t=CBC.APP.SC.UTIL.getCookie("cbc_plus"),n=CBC.APP.SC.UTIL.getCookie("cbc_visitor");return u(e,t||n)},};return{formatSignal:function(e,t){var n={};switch(e=e.toUpperCase()){case"READ":n=i(e,t);break;case"STREAMED":case"WATCHED":case"LISTENED":n=o(e,t);break;case"LOADED":n=a(t);break;default:return}var r="STREAMED"===e&&t.content&&t.content.id?function(e){Array.isArray(e)&&1===e.length&&(s[t.content.id]=e[0].id)}:void 0;n&&CBC.APP.ANA.DISPATCHERS.ESS.trackEvent(e,n,r)},formatEssV1Payload:o,formatEssV0Payload:i,formatEssLoaded:a,generateGoogleCloudPayload:function(){var e={session:{},user:{},device:{},content:{}},t=(e.content.tags={},CBC.APP.SC.UTIL.getCookie("cbc-session")),t=(e.session.id=t||CBC.APP.SC.UTIL.getUuid(),e.session.isLoggedIn=!!(window.viafoura&&window.viafoura.users&&window.viafoura.users.current)&&"guest"!==window.viafoura.users.current().user_privilege,e.session.startTime="",e.user.id="",(window.navigator.userAgent||window.navigator.vendor||window.opera).toLowerCase()),t=CBC.APP.SC.Detectizr(t);return e.device.type=t.device.type,e.device.os=t.os.name,e.content.id=CBC.APP.SC.DTM.formatted.raw.contentid,e.content.area=CBC.APP.SC.DTM.formatted.raw.contentarea,e.content.subsection1=CBC.APP.SC.DTM.formatted.raw.subsection1,e.content.subsection2=CBC.APP.SC.DTM.formatted.raw.subsection2,e.content.subsection3=CBC.APP.SC.DTM.formatted.raw.subsection3,e.content.subsection4=CBC.APP.SC.DTM.formatted.raw.subsection4,e.content.authors=CBC.APP.SC.DTM.formatted.raw.authors?CBC.APP.SC.DTM.formatted.raw.authors.split(","):"",e.content.title=CBC.APP.SC.DTM.formatted.raw.title,e.content.url=CBC.APP.SC.DTM.formatted.raw.url,e.content.source="polopoly",e.content.publicationDate=CBC.APP.SC.DTM.formatted.raw.publishedTime,e.content.lastUpdatedDate=CBC.APP.SC.DTM.formatted.raw.updatedTime,e.content.tags.person=[],e.content.tags.location=[],e.referrer=document.referrer,CBC.APP.SC.DTM.formatted.raw.referrer&&CBC.APP.SC.DTM.formatted.raw.referrer.url&&(e.referrer=CBC.APP.SC.DTM.formatted.raw.referrer.url),e.eventTimestamp=Date.now(),CBC.APP.SC.DTM.formatted.googlecloud=e,CBC.APP.SC.DTM.formatted.googlecloud=JSON.parse(JSON.stringify(e))},getEssIdMap:function(){return s}}}(),!function(){"use strict";try{CBC.APP.SC.masterSwitch=JSON.parse('{"switches":{"adobe":true,"amplitude":true,"comscore":true,"conductrics":true,"cxense":true,"ess":true,"essv0":true,"essv1":true,"exceptionreporting":true,"facebook":true,"googlecloud":true,"idexchange":true,"legacysclt":true,"MirRoar":true},"amplitude":{"eventshash":{"CAST-DEVICE CONNECTED":true,"COMMENTED":true,"READ":true,"SCANNED":true,"LISTENED":true,"SHARED":true,"ENTERED":true,"SUBMITTED":true,"SIGNED IN":true,"SIGNED OUT":true,"SUBSCRIBED":true,"UNSUBSCRIBED":true,"SELECTED":true,"SEARCHED":true,"FAVOURITED":true,"UNFAVOURITED":true,"OPENED":true,"PLAYED":true,"CLOSED":true,"RESIZED":true,"NEXT":true,"PREVIOUS":true,"OPTED IN":false,"OPTED OUT":false,"ONBOARDED":true,"LOADED":true,"LOADED MORE":true,"STREAMED":true,"VIEWED AD":true,"START WEB SESSION":true,"SET PREFERENCE":true,"REGISTERED":true,"WATCHED":true,"FOLLOWED":true,"UNFOLLOWED":true},"sponsorverbs":{"LOADED":true,"READ":true,"STREAMED":true,"WATCHED":true},"partnerverbs":{"LOADED":true,"READ":true,"STREAMED":true,"WATCHED":true}},"googlecloud":{"url":"//ess.data.cbc.ca/v0/set","essv0":{"url":"//ess.data.cbc.ca/v0/set"},"essv1":{"url":"//ess.data.cbc.ca/v1/set"}},"idexchange":{"endpoint":"https://uie.data.cbc.ca/v0/","context":"http://vocab.data.cbc.ca/"},"harmonizedAdobe":{"domains":{}},"omniture":{"saccount":"cbc-production","watch":"cbc-production","harmonized":"cbcrc-dev"}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Master switch ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.masterSwitch=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/master-switch.json timed out.")}})}}(),!function(){"use strict";try{CBC.APP.SC.metadataAllowlist=JSON.parse('{"metadata":{"allowlist":{"content":{"area":{"arts":true,"comedy":true,"homepage":true,"kids":true,"lifestyle":true,"listen":true,"misc":true,"music":true,"news":true,"Olympics":true,"ott":true,"paralympics":true,"podcasts":true,"radio":true,"sports":true,"subscriptions":true,"tv":true,"video":true},"cms":{"alan":true,"audio-db":true,"broadcast-schedule-api":true,"expression-engine":true,"ibm-cloud-video":true,"ibm-video-cloud":true,"mpx":true,"neuro":true,"ott-cms":true,"polopoly":true,"program-guide":true,"scoop":true},"embedded":{"media":{"audio":true,"photo":true,"photogallery":true,"video":true}},"media":{"audiovideo":{"audio":true,"video":true},"genre":{"action-and-adventure":true,"animation":true,"arts":true,"arts-entertainment":true,"award-shows":true,"biography":true,"books":true,"business":true,"comedy":true,"concerts-and-performances":true,"crime-and-police":true,"current-affairs":true,"documentary":true,"drama":true,"education":true,"environment-nature":true,"factual-reality":true,"game-and-quiz-show":true,"health":true,"horror":true,"interview-and-talk-show":true,"lifestyle":true,"magazine":true,"music":true,"musical":true,"music-blues":true,"music-celtic":true,"music-classical":true,"music-country":true,"music-electronic":true,"music-folk":true,"music-hip-hop":true,"music-indigenous":true,"music-jazz":true,"music-j-pop":true,"music-k-pop":true,"music-latin":true,"music-other":true,"music-pop":true,"music-r&b-soul":true,"music-reggae":true,"music-rock":true,"music-singer-songwriter":true,"music-soca":true,"music-world":true,"news":true,"olympics":true,"politics":true,"paralympics":true,"reality":true,"romance":true,"science":true,"sci-fi-and-fantasy":true,"society-culture":true,"specials":true,"sporting-event":true,"sports":true,"suspense":true,"technology":true,"teen":true,"variety-show":true,"western":true},"live":{"streams-24-7":{"video":{"cbc-news-calgary":true,"cbc-news-charlottetown":true,"cbc-news-edmonton":true,"cbc-news-fredericton":true,"cbc-news-halifax":true,"cbc-news-montreal":true,"cbc-news-network":true,"cbc-news-ottawa":true,"cbc-news-regina":true,"cbc-news-st-johns":true,"cbc-news-toronto":true,"cbc-news-vancouver":true,"cbc-news-windsor":true,"cbc-news-winnipeg":true,"cbc-news-yellowknife":true},"audio":{"music-atlantic":true,"music-central":true,"music-eastern":true,"music-mountain":true,"music-pacific":true,"radio-one-barrie":true,"radio-one-calgary":true,"radio-one-charlottetown":true,"radio-one-cornerbrook":true,"radio-one-edmonton":true,"radio-one-fredericton":true,"radio-one-goose-bay":true,"radio-one-grand-falls":true,"radio-one-halifax":true,"radio-one-inuvik":true,"radio-one-iqaluit":true,"radio-one-kamloops":true,"radio-one-kewlowna":true,"radio-one-kingston":true,"radio-one-kitchener-waterloo":true,"radio-one-london":true,"radio-one-moncton":true,"radio-one-montreal":true,"radio-one-north-quebec":true,"radio-one-ottawa":true,"radio-one-peterborough":true,"radio-one-prince-george":true,"radio-one-quebec-city":true,"radio-one-regina":true,"radio-one-saint-john":true,"radio-one-saskatoon":true,"radio-one-st-johns":true,"radio-one-sudbury":true,"radio-one-sydney":true,"radio-one-thunderbay":true,"radio-one-toronto":true,"radio-one-vancouver":true,"radio-one-victoria":true,"radio-one-whitehorse":true,"radio-one-windsor":true,"radio-one-winnipeg":true,"radio-one-yellowknife":true}}},"liveondemand":{"linear":true,"live":true,"on-demand":true},"show":{"watch":{"2040":true,"100-and-counting-secrets-to-a-long-life":true,"1001-nuits":true,"12-pups-of-christmas":true,"2019-indspire-awards":true,"2019-polaris-music-prize-gala":true,"2020-indspire-awards":true,"2021-cjf-awards":true,"2021-indspire-awards":true,"2021-polaris-music-prize":true,"2022-canadian-screen-awards-on-cbc":true,"2022-library-and-archives-canada-scholar-awards":true,"2022-polaris-music-prize-gala":true,"2022-scotiabank-giller-prize":true,"21-black-futures":true,"21-thunder":true,"5150-elms-way":true,"600-bottles-of-wine":true,"7-second-shake-ups":true,"8mmm":true,"911-kids":true,"a-brothers-love":true,"a-cape-cod-christmas":true,"a-christmas-carol-the-family-musical-with-a-scrooge-loose":true,"a-christmas-carol":true,"a-christmas-family-reunion":true,"a-christmas-fury":true,"a-christmas-letter":true,"a-christmas-movie-christmas":true,"a-christmas-winter-song":true,"a-christmas-wish-in-hudson":true,"a-colony":true,"a-dangerous-method":true,"a-girls-guide-to-hunting-fishing-and-wild-cooking":true,"a-house-made-of-splinters":true,"a-kandahar-away":true,"a-life-in-ten-pictures":true,"a-million-colours":true,"a-place-of-tide--time":true,"a-shine-of-rainbows":true,"a-show-stopping-christmas":true,"a-suitable-boy":true,"a-sweet-and-sour-christmas":true,"a-very-nutty-christmas":true,"a-very-royal-christmas-secrets-of-sandringham":true,"a-year-end-interview-with-prime-minister-justin-trudeau-2022":true,"a-yi-chinese-subtitles":true,"a-yi":true,"about-sex":true,"about-that-with-andrew-chang":true,"absolutely-canadian":true,"according-to-kids":true,"ackley-bridge":true,"across-the-line-cole-harbour":true,"addison":true,"adele-on-q-with-tom-power":true,"adventures-in-public-school":true,"afflicted":true,"africa--britain-a-forgotten-history":true,"africa-with-ade-adepitan":true,"after-circus":true,"after-munich":true,"against-the-tides":true,"against-the-wild":true,"aidas-secrets":true,"air-farce-new-years-eve-2019":true,"air-farce":true,"akillas-escape":true,"algo-polly--turcott":true,"algo-polly-turcott":true,"alias-grace":true,"alicia-keys-live-in-la":true,"all-creatures-great-and-small":true,"all-the-streets-are-silent-the-convergence-of-hip-hop--skateboarding":true,"all-the-streets-are-silent-the-convergence-of-hip-hop-skateboarding":true,"almas-not-normal":true,"almost-almost-famous":true,"almost-never":true,"altman":true,"amazing-hotels-life-beyond-the-lobby":true,"american-woman":true,"an-audience-of-chairs":true,"anaanas-tent-inuktitut":true,"anaanas-tent":true,"angela-black":true,"angeliques-isle":true,"anne-":true,"anne-at-13000-ft":true,"anne-murray-full-circle":true,"anne-with-an-e":true,"anotes-ark":true,"another-kind-of-wedding":true,"anthony":true,"anthropocene-the-human-epoch":true,"antiviral":true,"anyones-game":true,"archiving-winston-larose":true,"arctic-blue-with-peter-mansbridge":true,"arctic-vets":true,"are-you-scared-yet-human":true,"ari-cui-cui":true,"ariana-grande-live-in-london":true,"around-the-world-in-80-days":true,"art-death--taxes":true,"art-death-taxes":true,"art-hurts":true,"art-is-my-country":true,"arthur":true,"artzooka":true,"as-the-smoke-rises":true,"ascend":true,"ashbridge":true,"asian-heritage-month":true,"ask-dr-ruth":true,"assholes-a-theory":true,"at-the-table":true,"atanarjuat-the-fast-runner":true,"augmented":true,"auukiath-dugout-canoe":true,"avoidance":true,"away-from-her":true,"babe-i-hate-to-go":true,"bachman":true,"back-in-time-for-christmas":true,"back-in-time-for-dinner-uk":true,"back-in-time-for-dinner":true,"back-in-time-for-school":true,"back-in-time-for-tea-new":true,"back-in-time-for-tea":true,"back-in-time-for-the-weekend":true,"back-in-time-for-winter":true,"backcountry":true,"backstage-pass":true,"bad-banks":true,"bad-rap":true,"baghdad-central":true,"ballerina":true,"balletlujah":true,"bang-bang-club":true,"bangla-surf-girls":true,"banished":true,"barack-obama-talks-to-david-olusoga":true,"barneys-version":true,"baroness-von-sketch-show":true,"barracuda":true,"battle-of-the-blades":true,"because-news":true,"beccas-bunch":true,"becoming-canadian":true,"becoming-nakuset":true,"beeba-boys":true,"being-black-in-canada-2015":true,"being-black-in-canada-2016":true,"being-black-in-canada-2020":true,"being-black-in-canada-at-the-olympic-games":true,"being-black-in-canada-my-journey-here":true,"being-black-in-canada-with-asha-tomlinson":true,"being-canadian":true,"being-erica":true,"being-julia":true,"belgravia":true,"bella-and-don":true,"bellevue":true,"belsen-the-untold-story":true,"best-in-miniature":true,"best-laid-plans":true,"between-you--me":true,"between-you-me":true,"beyond-human":true,"beyond-the-limits":true,"beyond-the-spectrum":true,"big-block-singsong":true,"big-blue":true,"big-men-small-dogs":true,"big-news":true,"big-things-small-towns":true,"big":true,"bighetty--bighetty":true,"bighetty-bighetty":true,"biidaaban-the-dawn-comes":true,"biker-bobs-posthumous-adventure":true,"billsville":true,"bimibatoo-win-where-i-ran":true,"bit-playas":true,"bitten":true,"black-boys":true,"black-cop":true,"black-history-month":true,"black-panthers-vanguard-of-the-revolution":true,"black-sands":true,"blackbird":true,"blackstone":true,"blind-ambition":true,"blind-spot-what-happened-to-canadas-aboriginal-fathers":true,"blindness":true,"blood-quantum":true,"blue-note-records-beyond-the-notes":true,"bluebird":true,"bobby-harriet-get-married":true,"body-of-light":true,"bollywed":true,"bollywood-hollywood":true,"bollywood-the-worlds-biggest-film-industry":true,"bomb-girls":true,"bondi-vet":true,"bono-on-q-with-tom-power":true,"bookaboo":true,"born-to-kill":true,"both-sides-now-joni-mitchell-at-the-isle-of-wight":true,"boys-vs-girls":true,"brand-canada":true,"brassic":true,"breakaway":true,"breakfast-with-scot":true,"bridget-joness-diary":true,"brigade-animo":true,"bring-it-in-with-morgan-campbell":true,"britannia":true,"broad-appeal-living-with-es":true,"brooklyn":true,"brotherhood":true,"brothers-islands":true,"buffy-sainte-marie-starwalker":true,"bugs-on-the-menu":true,"bump":true,"burden-of-truth":true,"burnout-the-truth-about-work":true,"but-im-chris-jericho":true,"butterfly":true,"cafe-de-flore":true,"cairo-time":true,"calgary-stampede":true,"call-me-by-your-name":true,"call-me-olly":true,"call-the-midwife":true,"camelot":true,"camilla-before-charles":true,"can-seaweed-save-the-world":true,"canada-150":true,"canada-a-peoples-history":true,"canada-reads":true,"canada-the-story-of-us":true,"canada-tonight":true,"canada-votes-ask-cbc-news":true,"canada-votes-cbc-explains":true,"canadas-a-drag":true,"canadas-new-years-eve-countdown-to-2021":true,"canadas-new-years-eve-countdown-to-2022":true,"canadas-new-years-eve-countdown-to-2023":true,"canadas-smartest-person-junior":true,"canadas-smartest-person":true,"canadas-ultimate-challenge":true,"canadian-feature-films":true,"canadian-history":true,"canadian-improv-games":true,"canadian-reflections":true,"canadian-screen-awards":true,"canadian-strain":true,"canadoodaday":true,"captains-of-zaatari":true,"cardinals":true,"cargo":true,"casual":true,"cat-walk-2-the-comeback-cats":true,"catastrophe":true,"catch-the-dream-bios-with-adam-beach":true,"caught":true,"cavendish":true,"cbc-arts-exhibitionists":true,"cbc-arts-presents-queer-pride-inside-a-buddies-in-bad-times-cabaret":true,"cbc-arts-specials":true,"cbc-asks-north-how-do-we-keep-indigenous-women-safe":true,"cbc-docs-pov":true,"cbc-kids-5-hour-free-for-all":true,"cbc-kids-book-club":true,"cbc-kids-celebrates-indigenous-month":true,"cbc-kids-news-explains":true,"cbc-kids-news":true,"cbc-kids-trick-or-treat-spooktacular":true,"cbc-music---the-intro":true,"cbc-music-festival-2019":true,"cbc-music-first-play-live":true,"cbc-music-in-studio-at-the-junos-reclaimed-session":true,"cbc-music-in-studio-at-the-junos-the-block-session":true,"cbc-music-in-studio-at-the-junos-the-jazz-session":true,"cbc-music-juno-sessions-2020":true,"cbc-music-junofest-indigenous-artist-showcase":true,"cbc-music-junos-sessions-2018":true,"cbc-music-junos-sessions-2019":true,"cbc-music-junos-sessions":true,"cbc-music-live":true,"cbc-music-presents-frequencies-showcase":true,"cbc-music-presents-if-these-walls-could-talk":true,"cbc-music-presents-the-block-showcase-2022":true,"cbc-music-presents-the-classical-showcase":true,"cbc-music-presents-the-intro-2022":true,"cbc-music-presents-the-jazz-showcase-2022":true,"cbc-music-presents-the-jazz-showcase":true,"cbc-music-presents-the-songwriters-circle":true,"cbc-music-specials":true,"cbc-music-the-mix":true,"cbc-music-the-radar":true,"cbc-news-america-votes-with-carole-mac-neil":true,"cbc-news-coping-with-covid":true,"cbc-news-exclusive-dr-theresa-tam":true,"cbc-news-special-9-11-unfinished-business-with-peter-mansbridge":true,"cbc-news-special-a-year-end-interview-with-prime-minister-justin-trudeau-2021":true,"cbc-news-special-a-year-end-interview-with-prime-minister-justin-trudeau":true,"cbc-news-special-canada-day-2019":true,"cbc-news-special-funeral-for-queen-elizabeth-ii":true,"cbc-news-special-last-soldier":true,"cbc-news-special-lost-town":true,"cbc-news-specials":true,"cbc-nova-scotia-news-inspiration-and-hope-2021":true,"cbc-saskatchewan-faces-of-covid---front-line-workers":true,"cbc-saskatchewan-the-stories-the-people":true,"cbc-sports-presents":true,"cbx-canadian-ballroom-extravaganza":true,"cebl-championship-2019":true,"cebl-summer-series-2020":true,"celebrating-indigenous-storytellers":true,"celebrating-pride-month":true,"cest-comme--a-que-je-taime":true,"cest-comme-ca-que-je-taime":true,"chaakapesh":true,"chanson-pour-le-nouveau-monde-song-for-the-new-world":true,"charles-50-years-a-prince":true,"charles-the-new-king":true,"charley-pride-im-just-me":true,"chasing-winter":true,"check-it":true,"cheer-up":true,"chewing-gum":true,"chicken-girls-the-movie":true,"china-natures-ancient-kingdom":true,"chinese-new-year-the-biggest-celebration-on-earth":true,"chirp":true,"chivalry":true,"christmas-on-the-river":true,"christmas-reservations":true,"christmas-stars":true,"cielo":true,"cirkopolis":true,"citizen-jane-battle-for-the-city":true,"clara":true,"clearwater-farm-kids-challenge":true,"clearwater-farm":true,"climate-change-ade-on-the-frontline":true,"closet-monster":true,"clydesdale-saving-the-greatest-horse":true,"colossal":true,"colour-study":true,"come-to-daddy":true,"come-toward-the-fire":true,"comedy-night-with-rick-mercer":true,"coming-in":true,"confronting-covid-the-national-virtual-townhall":true,"conviction-the-case-of-stephen-lawrence":true,"conviction":true,"cooking-with-joy":true,"cooking-with-stella":true,"cool-daddy":true,"coping-with-covid":true,"coral-ghosts":true,"coriolanus":true,"coronation-street":true,"coronavirus-is-your-house-clean-enough":true,"coroner":true,"cosmopolis":true,"counting-on-a-new-crop":true,"country-christmas-album":true,"covid-who-i-am-now":true,"coyotes-crazy-smart-science-show":true,"cracked":true,"crash-gallery":true,"crawford":true,"crime":true,"crisis":true,"crufts-the-worlds-greatest-dog-show":true,"crystal-pite-angels-atlas":true,"cup-of-cheer":true,"d-day-75th-anniversary-with-adrienne-arsenault":true,"da-kink-in-my-hair":true,"da-vincis-city-hall":true,"da-vincis-inquest":true,"daisy-the-gumboot-kids":true,"daniel-tigers-neighbourhood":true,"danslatoile":true,"daryn-jones-live":true,"das-boot":true,"daughter":true,"david-attenboroughs-great-barrier-reef---part-1":true,"david-attenboroughs-great-barrier-reef---part-2":true,"david-attenboroughs-great-barrier-reef---part-3":true,"david-attenboroughs-great-barrier-reef":true,"dead-mans-switch-a-crypto-mystery":true,"dear-future-children":true,"dear-jackie":true,"death-and-sickness":true,"death-nightingales":true,"declutter":true,"decoys":true,"deep-in-vogue":true,"deeply-rooted":true,"defending-the-guilty":true,"designing-the-dream":true,"detention-adventure":true,"devil-in-the-dark":true,"devout-and-out-cormac":true,"devout-and-out-pip":true,"devout-and-out-susan":true,"diamond-tongues":true,"diamonds-in-the-sand":true,"diana-the-ultimate-truth":true,"diego-star":true,"diggstown":true,"dilveen":true,"dim-the-fluorescents":true,"dimas-game":true,"dino-ranch-with-asl-interpretation":true,"dino-ranch":true,"dirty-singles":true,"disappearance-at-clifton-hill":true,"dish-pigs":true,"disobedience":true,"disrupting-design":true,"dividing-lines-the-politics-of-immigration":true,"dna":true,"doc-zone":true,"docs-special-presentation":true,"documentary-now":true,"does-it-fart":true,"dogs-behaving-badly":true,"dont-forget-the-water":true,"dont-talk-to-irene":true,"dot":true,"double-happiness":true,"double-tap-tv":true,"doug-and-the-slugs-and-me":true,"dounia":true,"down-to-the-dirt":true,"downton-abbey":true,"downtown-eastside-townhall---vancouver--when-is-enough-enough":true,"dr-cabbie":true,"dr-roberta-bondar-canadas-first-lady-of-space":true,"dragons-den":true,"drakes-plan":true,"dramaworld":true,"dream-boxer":true,"dreaming-of-a-jewish-christmas":true,"dreamland-the-burning-of-black-wall-street":true,"dreams-in-vantablack":true,"drive":true,"due-south":true,"durham-county":true,"eadweard":true,"earth-day":true,"earth-one-amazing-day-mandarin-narration":true,"earth-one-amazing-day":true,"earthling-house-huntress":true,"eastern-promises":true,"easy-land":true,"eden-untamed-planet":true,"eden":true,"edgemont":true,"elephant-song":true,"elf-buddys-musical-christmas":true,"elizabeth":true,"ellie-simmonds-a-world-without-dwarfism":true,"elvis-goes-there":true,"embarrassing-pets":true,"emerald-code-decoded":true,"emerald-code-ste-mily":true,"emerald-code":true,"empire-of-dirt":true,"emptying-the-tank":true,"endlings":true,"enemy":true,"enslaved":true,"escape-to-the-chateau-designing-the-dream":true,"escape-to-the-chateau-diy":true,"escape-to-the-chateau-restoring-the-dream":true,"escape-to-the-chateau-the-great-outdoors":true,"escape-to-the-chateau":true,"escape-to-the-country":true,"esi-edugyan-out-of-the-sun":true,"eve--the-fire-horse":true,"eve-the-fire-horse":true,"every-child-matters-reconciliation-through-education":true,"everyday-is-like-sunday":true,"everything-indigenous":true,"eviction-notice":true,"evil-by-design-surviving-nygard":true,"exposed-nerves":true,"express":true,"extraordinary-canadians":true,"extraordinary-extensions":true,"extraordinary-portraits":true,"face-to-face-with-the-leader-2021":true,"faits-divers":true,"fakes":true,"falling":true,"falls-around-her":true,"family-feud-canada":true,"farm-crime":true,"fast-horse":true,"father-and-guns":true,"fatima-in-kabul":true,"fear-of-dancing":true,"federal-leaders-english-debate-2021":true,"federal-leaders-french-debate-2021":true,"felicias-journey":true,"felix-and-the-treasure-of-morgaa":true,"films":true,"find-me-in-paris":true,"finding-aicha":true,"finding-fukue":true,"finding-my-balance":true,"finding-sally":true,"finding-the-secret-path":true,"finn-on-the-fly":true,"fire-song":true,"firecrackers":true,"first-day":true,"firsthand":true,"fisk-the-new-york-opening":true,"fisk-untitled-portrait":true,"fit-to-be-tied-a-story-of-twisted-genius":true,"fix--release":true,"fix-release":true,"follow-the-rock":true,"food-for-thought":true,"for-dad-with-love":true,"for-heavens-sake":true,"for-the-record":true,"forage":true,"forces-of-nature":true,"forsaken":true,"fortitude":true,"fortunate-son":true,"four-faces-of-the-moon":true,"four-in-the-morning":true,"four-senses":true,"fourth-period-burnout":true,"fragile-english":true,"frame-394":true,"frankie-drake-mysteries":true,"freaks--geeks":true,"freaks-geeks":true,"fred-penners-place":true,"freedom-summer":true,"freeup-emancipation-day-2022":true,"frick-i-love-nature":true,"friday-night-dinner":true,"fridge-wars":true,"friends-and-allies":true,"from-the-vaults-music-archive-series":true,"from-the-vaults":true,"from-the-vine":true,"frostys-winter-wonderland":true,"fubar-2-balls-to-the-wall":true,"fubar":true,"funny-boy":true,"further-back-in-time-for-dinner":true,"future-futures":true,"future-history":true,"gabi-between-ages-8-and-13":true,"gabrielle":true,"game-changers":true,"game-savers":true,"gameface":true,"garfield-gets-real":true,"garfields-fun-fest":true,"garfields-pet-force":true,"gary-and-his-demons":true,"garys-magic-fort":true,"genderize":true,"genese":true,"genius-factory":true,"gerry":true,"gespegewagi-the-last-land":true,"get-santa":true,"ghosts":true,"giant-little-ones":true,"giants-of-africa":true,"gift-to-give":true,"giseles-mashup-adventures":true,"global-goal-unite-for-our-future":true,"glorious-holiday":true,"glory-enough-for-all":true,"glowbies":true,"goalie":true,"golfs-greatest-holes":true,"good-people-with-mark-sakamoto":true,"goon":true,"gord-downies-secret-path-in-concert":true,"gordon-lightfoot-if-you-could-read-my-mind":true,"governor-generals-performance-arts-awards-2021":true,"grace-beside-me":true,"grand-cru":true,"grand-designs-australia":true,"grand-designs-house-of-the-year":true,"grand-designs-new-zealand":true,"grand-designs-the-street":true,"grand-designs":true,"grandma-learns-to-drive":true,"great-electric-airplane-race":true,"gregoire":true,"greyzone":true,"ground-war":true,"growing-up-gracefully":true,"guest-of-honour":true,"guidance":true,"gumboot-kids-singalong-specials":true,"gunless":true,"hale-county-this-morning-this-evening":true,"halifax-comedy-festival":true,"hammer":true,"hang-ups":true,"hannah-gadsbys-nakedy-nudes":true,"hannah-gadsbys-oz":true,"happiest-season":true,"happy-valley":true,"hard-learning":true,"harpoon":true,"harry-and-william-what-went-wrong":true,"hatching-matching-and-dispatching":true,"hawking-can-you-hear-me":true,"head-high":true,"headdress":true,"heartland":true,"heaven-on-earth":true,"hector-and-the-search-for-happiness":true,"hell-or-clean-water":true,"hello-again":true,"hello-destroyer":true,"hello-goodbye":true,"henry-viii":true,"here-and-now-the-good-stuff-2022":true,"here-and-now-the-good-stuff":true,"hey-lady":true,"hiccups-and-hookups":true,"high-arctic-haulers":true,"highlife":true,"hijabistas-with-yassmin-abdel-magied":true,"hip-hop-the-songs-that-shook-america":true,"his-nose-her-eyes-whose-face":true,"hochelaga-terre-des-ames":true,"hodans-story":true,"holiday-programming":true,"holiday-rap-battles":true,"hollies-dress":true,"hollow-in-the-land":true,"holly-star":true,"holy-baloney":true,"home-again":true,"home-no-more":true,"homeschooled":true,"honey-bee":true,"honour-to-senator-murray-sinclair":true,"hoop-talks":true,"hope-works":true,"house-of-maxwell":true,"how-healthy-is-your-gut":true,"how-it-feels-to-be-free":true,"how-she-move":true,"how-to-buy-a-baby":true,"how-to-do-stuff-good":true,"how-to-lose-everything":true,"how-to-start-a-revolution":true,"hudson":true,"human-flow":true,"humantown":true,"humour-resources":true,"hyena-road":true,"i-am-not-your-negro":true,"i-am-skylar":true,"i-am-the-blues":true,"i-hate-you":true,"i-hold-the-dehcho-in-my-heart-sedze-tah-dehcho-e-toh":true,"i-hold-the-dehcho-in-my-heart-sedze-tah-dehcho-etoh":true,"i-killed-my-mother-jai-tue-ma-mere":true,"i-like-girls":true,"i-ship-it":true,"if-so-do-so":true,"ill-follow-you-down":true,"imaginarium-of-dr-parnassus":true,"in-conversation-with-peter-mansbridge":true,"in-dog-years":true,"in-full-voice":true,"in-her-place":true,"in-love-with-a-problem":true,"in-my-skin":true,"in-our-backyard-climate-change":true,"in-search-of-a-better-world":true,"in-search-of-a-perfect-world":true,"in-the-long-run":true,"in-the-making":true,"in-the-shadow-of-the-pines":true,"in-the-studio-with-steven-sabados":true,"incendies":true,"indian-horse":true,"indian-space-dreams":true,"indias-wild-karnataka":true,"indigenous-dads":true,"indspire-awards-2022":true,"inducted-the-road-to-the-canadian-music-hall-of-fame":true,"inendi":true,"influence":true,"inside-an-athletes-head":true,"inside-lehman-brothers":true,"intelligence":true,"interrupt-this-program":true,"into-invisible-light":true,"into-the-forest":true,"invisible-essence-the-little-prince":true,"iron-road":true,"islands":true,"it-changed-everything":true,"jaat-sdiihltllxa-woman-who-returns":true,"jackie-robinson":true,"jade-of-death":true,"jamie-and-jimmys-festive-feast":true,"jamie-and-jimmys-food-fight-club":true,"jamie-cooks-italy":true,"jamie-olivers-christmas-cookbook":true,"jamies-15-minute-meals":true,"jamies-30-minute-meals":true,"jamies-christmas-with-bells-on":true,"jamies-cracking-christmas":true,"jamies-easy-christmas-countdown":true,"jamies-festive-feast":true,"jamies-italian-christmas":true,"jamies-quick--easy-food":true,"jamies-quick-easy-christmas":true,"jamies-quick-easy-food":true,"jamies-sugar-rush":true,"jamies-super-food-family-classics":true,"jamies-super-food":true,"jamies-ultimate-veg":true,"janis-little-girl-blue":true,"japan-with-sue-perkins":true,"jaxon-and-songs-maple-mystery":true,"jean-of-the-joneses":true,"jekyll-and-hyde":true,"jensplaining":true,"jeremy-and-jazzy":true,"jessie-the-gumboot-kids":true,"jet-age":true,"jiggi-jump":true,"jingle-belle":true,"joanna-lumleys-japan":true,"john-lewis-good-trouble":true,"john-ware-reclaimed":true,"johnny-crow":true,"jonah":true,"jordan-river-anderson-the-messenger":true,"juliana--the-medicine-fish":true,"juliana-the-medicine-fish":true,"junior-baking-show":true,"juno-awards":true,"juno-opening-night-awards-presented-by-music-canada":true,"juno-songwriters-circle-presented-by-socan-in-association-with-music-publishers-canada":true,"juno-songwriters-circle-presented-by-socan-in-association-with-music-publishes-canada":true,"just-for-laughs-40":true,"just-for-laughs-gags":true,"just-for-laughs-galas":true,"karena--kaseys-foreign-flavours":true,"karena-kaseys-foreign-flavours":true,"karihawanoron-precious-things":true,"kayak-to-klemtu":true,"kayamenta-sharing-truths-about-menopause":true,"kedi":true,"keep-calm-and-decolonize":true,"keep-contains-asset":true,"keep-exact-asset":true,"keep-going-my-daughter":true,"keep-pushing":true,"keep-series-sit":true,"kenbe-la-until-we-win":true,"kenny-and-spenny-paldemic-special":true,"kenny-vs-spenny":true,"kettle":true,"kewku":true,"keyboard-fantasies-the-beverly-glenn-copeland-story":true,"khoya":true,"kid-sister":true,"kids-block-test":true,"kids-in-the-hall":true,"killing-time":true,"kims-convenience-korean-subtitles":true,"kims-convenience":true,"king-charles":true,"king-covid":true,"king-lajoie":true,"kingdom-force":true,"kiri-and-lou":true,"kiri":true,"knives-out":true,"koto-the-last-service":true,"kuessipan":true,"la-bolduc":true,"la-nuit-des-rois-night-of-the-kings":true,"la-passion-daugustine-the-passion-of-augustine":true,"ladhood":true,"land-and-sea-network":true,"land-and-sea-nfld":true,"landscape-artist-of-the-year-canada":true,"last-holiday":true,"last-night-at-the-strip-club":true,"last-night":true,"late-night-in-the-studio":true,"latecomers":true,"lawrence-holloman":true,"lazoo":true,"league-of-exotique-dancers":true,"learning-about-anti-racism-with-cbc-kids":true,"leftover-women":true,"lemonade":true,"les-affames-the-ravenous":true,"les-beaux-malaises":true,"les-miserables":true,"lessence-des-souvenirs-itineraire-dun-apprenti-parfumeur":true,"lessons-injustice":true,"let-there-be-light":true,"letre-chers-our-loved-ones":true,"level-16":true,"lido-tv":true,"life-in-the-city-of-dirty-water":true,"life-of-a-dog":true,"life-with-derek":true,"life":true,"lift-like-a-girl":true,"like-a-pebble-in-the-boot":true,"line-of-duty":true,"liona-boyd-a-winter-fantasy":true,"little-big-leaf":true,"little-dog":true,"little-dorrit":true,"little-hard-knox":true,"little-women":true,"living-on-the-veg":true,"living-wild-how-to-change-your-life":true,"local-specials":true,"lockdown-baby":true,"looking-for-alaska":true,"lost--found":true,"lost-found":true,"lost-home-movies-of-the-nazis":true,"lost-moccasin":true,"louis-cyr-the-strongest-man-in-the-world":true,"love-gilda":true,"love-letters-from-everest":true,"love-me-as-i-am":true,"love-monster":true,"loves-labour-lost":true,"lovesick":true,"lucky-moose":true,"lunchbox-dilemma":true,"luther":true,"maamuitaau":true,"macbeth":true,"made-in-canada":true,"made-you-look-a-true-story-of-fake-art":true,"madiba":true,"mafia-inc":true,"maiden":true,"maina":true,"maker-of-monsters-the-extraordinary-life-of-beau-dick":true,"making-muriel":true,"maliglutit-searchers":true,"malory-towers":true,"mama":true,"man-of-the-kitchen":true,"man-running":true,"manayek":true,"mansbridge-one-on-one":true,"manufactured-landscapes":true,"maps-to-the-stars":true,"march-to-the-top-1-hour-version":true,"marchlands":true,"margaret-atwood-a-word-after-a-word-after-a-word-is-power":true,"mark-moriarty-off-duty-chef":true,"marketplace":true,"mary-goes-round":true,"mary-two-axe-earley-i-am-indian-again":true,"mashkawi-manidoo-bimaadiziwin-spirit-to-soar-anishinaabemowin-version":true,"mashkawi-manidoo-bimaadiziwin-spirit-to-soar-english-version":true,"matangimayam.i.a.":true,"matangimayamia":true,"maudie":true,"maya-angelou-and-still-i-rise":true,"me-mahmoud-and-the-mint-plant":true,"me-mom--covid":true,"me-mom-covid":true,"mean-dreams":true,"meat-the-future":true,"meditation-park":true,"meet-the-avatars":true,"meet-your-maker":true,"meghan--harry-the-new-revelations":true,"meghan-harry-the-new-revelations":true,"mehdi-et-val-en":true,"men-with-brooms":true,"merbys":true,"merci-pour-tout-thanks-for-everything":true,"merry-christmas-mr-bean":true,"met-while-incarcerated":true,"metamorphoses":true,"michael-every-day":true,"michael-moone-boy":true,"michael-tuesdays-thursdays":true,"midnights-children":true,"mighty-express":true,"mighty-mustangs":true,"mikmaki":true,"million-dollar-wedding-planner":true,"miltons-secret":true,"mind-fudge":true,"minding-the-gap":true,"mings-dynasty":true,"miracles":true,"misfits":true,"miss-persona-psa":true,"miss-s":true,"miss-scarlet--the-duke":true,"miss-scarlet-the-duke":true,"mittens-and-pants":true,"moblees":true,"modra":true,"mohawk-girls":true,"molly-of-denali":true,"mommy":true,"monkey-beach":true,"monsieur-lazhar":true,"moon-and-me":true,"moone-boy":true,"moonlight":true,"moonshine":true,"moose-holiday-special":true,"more-than-gold-the-story-of-the-yukon-soaps-company":true,"mother-father-son":true,"mouthpiece":true,"mr-d":true,"mr-orlandos-musical-christmas-spectacular":true,"mr-student-body-president":true,"muhammad-ali":true,"munk-dialogues":true,"murdoch-mysteries":true,"murmur":true,"my-90-year-old-roommate":true,"my-best-friends-christmas":true,"my-big-family-farm-5-years-on-the-farm":true,"my-big-family-farm":true,"my-childhood-my-country-20-years-in-afghanistan":true,"my-family-and-the-galapagos":true,"my-grandparents-war":true,"my-junos-moment":true,"my-kitchen-can-be-anything":true,"my-life-as-a-rolling-stone":true,"my-life-without-me":true,"my-lucky-something":true,"my-mad-fat-diary":true,"my-name-is-tommy-lan-phat-truong":true,"my-prairie-home":true,"my-salinger-year":true,"my-tree":true,"mysteries-of-mental-illness":true,"nadiyas-asian-odyssey":true,"nadiyas-everyday-baking":true,"nadiyas-family-favourites":true,"nadiyas-food-adventure":true,"nadiyas-party-feasts":true,"nahanni-river-of-forgiveness":true,"nancys-pro-tips":true,"nancys-workshop":true,"narcoleap":true,"nash":true,"natasha":true,"national-canadian-film-day-celebrating-indigenous-voices":true,"national-day-for-truth-and-reconciliation":true,"national-idigenous-history-month":true,"national-treasure":true,"nelly":true,"never-steady-never-still":true,"new-waterford-girl":true,"newborn-moms":true,"newfoundland-at-armageddon":true,"next-stop":true,"nfb":true,"niisotewak-two-bodies-one-heart":true,"nikes-big-bet-alberto-salazar-and-the-fine-line-of-sport":true,"nikola-tesla-and-the-end-of-the-world":true,"nipawistamasowin-we-will-stand-up":true,"nirvanna-the-band-the-show":true,"no-limits":true,"no-ordinary-man":true,"no-return":true,"normal-people":true,"northern-rescue":true,"nose-to-tail":true,"noughts---crosses":true,"nowhere-to-be-found":true,"nude-to-me":true,"numbers-guy":true,"nursefighterboy":true,"octavio-is-dead":true,"odehimin-heart-berry":true,"off-kilter":true,"offside-the-harold-ballard-story":true,"oh-canada-retro-favourites":true,"old-stone":true,"ollie-the-boy-who-became-what-he-ate":true,"olympics":true,"on-the-ropes":true,"on-the-spectrum":true,"one-day-in-the-ln-the-life-of-noah-piugattuk":true,"one-leg-in-one-leg-out":true,"one-of-ours":true,"one-week":true,"one-world-together-at-home":true,"open-ice-visionaries":true,"ordeal-by-innocence":true,"oshkikishikaw-a-new-day":true,"othello":true,"our-game":true,"our-house":true,"our-montreal":true,"our-people-will-be-healed":true,"our-shot-a-national-town-hall":true,"our-shot-vaccinating-bc":true,"outback-rabbis":true,"outlander":true,"outremont-and-hasidism":true,"overcoming-depression-mind-over-marathon":true,"overlord-and-the-underwoods":true,"paige":true,"palisa-andersons-water-heart-food":true,"pan-american-games":true,"pandemic-at-the-end-of-the-world":true,"pandemic-elementary":true,"paper-year":true,"par-ici-la-magie":true,"paraiso":true,"paralympic-super-series-rewind-on-cbc":true,"paralympics":true,"paris-paris":true,"passchendaele":true,"path-of-souls":true,"patient-people":true,"patty-vs-patty":true,"paul-ogrady-for-the-love-of-dogs---back-in-business":true,"paul-ogrady-for-the-love-of-dogs---what-happened-next":true,"paul-ogrady-for-the-love-of-dogs-at-christmas":true,"paul-ogrady-for-the-love-of-dogs-india":true,"paul-ogrady-for-the-love-of-dogs":true,"paul-ogradys-animal-orphans":true,"paw-patrol":true,"peace-river-rising":true,"pen15":true,"people-hold-on":true,"people-just-do-nothing":true,"perfecting-the-art-of-longing":true,"petal-to-the-metal":true,"pete-seeger-the-power-of-song":true,"picture-day":true,"pipe-dreams":true,"pirates-passage":true,"pj-masks":true,"plan-b":true,"planet-child":true,"planet-wonder":true,"plantemic":true,"player-zero":true,"pogey-beach":true,"poly-styrene-i-am-a-cliche":true,"pontypool":true,"porcupine-lake":true,"portlandia":true,"portrait-of-pockets":true,"portrayal":true,"power--politics-with-vassy-kapelos":true,"power-politics-with-vassy-kapelos":true,"power-politics":true,"premium-pornography":true,"preppers":true,"pretend-were-kissing":true,"pretty-hard-cases":true,"pride-collection":true,"prime-minister-justin-trudeau-answer-kids-questions-about-covid-19":true,"prince-philip-for-queen-and-country":true,"prince-william-a-planet-for-us-all":true,"princes-tale":true,"princess-jack":true,"prosecuting-evil-the-extraordinary-world-of-ben-ferencz":true,"pt-1---the-man-the-story-jean-chretien-in-his-own-words":true,"pt-2---the-man-the-story-jean-chretien-in-his-own-words":true,"pulse":true,"puppy-school":true,"pure-uk":true,"pure":true,"push":true,"putins-road-to-war":true,"pyewacket":true,"q-live-from-the-junos":true,"q-with-tom-power":true,"quebec-my-country-mon-pays":true,"queens":true,"queer-self-portraits":true,"question-team":true,"quiet-time":true,"quiz":true,"race-against-the-tide":true,"race":true,"racetime":true,"rachel-khoo-my-swedish-kitchen":true,"rachel-khoos-kitchen-notebook-cosmopolitan-cook":true,"rachel-khoos-kitchen-notebook-melbourne":true,"rainbow-ice":true,"raised-by-wolves":true,"ralph-katie":true,"raufikats-better-bake-along":true,"rbc-training-ground":true,"rbg":true,"real-blackity-talk":true,"rebelle-war-witch":true,"rebels-on-pointe":true,"reboot-a-future-museum":true,"recap":true,"recovery":true,"red-bull-films":true,"red-button":true,"red-chef-revival":true,"red-ruby":true,"red-snow":true,"redfern-now":true,"reel-east-coast":true,"reel-injun":true,"remember":true,"remembrance-day-with-rosemary-barton-2019":true,"remembrance-day-with-rosemary-barton":true,"remy--boo":true,"remy-boo":true,"replay":true,"republic-of-doyle":true,"restoration-australia":true,"restoring-the-dream":true,"retake":true,"revenge-of-the-black-best-friend":true,"revisor":true,"revolution":true,"reyka":true,"rhod-gilbert-stand-up-to-shyness":true,"rhymes-for-young-ghouls":true,"rick-mercer-report":true,"ridley-road":true,"riftworld-chronicles":true,"right-to-offend-the-black-comedy-revolution":true,"ripper-street":true,"river":true,"rl-stines-the-haunting-hour":true,"road-to-roxham":true,"road-to-the-olympic-games":true,"road-to-the-olympics":true,"roadkill":true,"robotik":true,"rock-n-roll-christmas":true,"rock-n-roll-rhymes":true,"rockin-the-coffin":true,"romeo-and-juliet":true,"romeos--juliets":true,"romeos-juliets":true,"ron-james-the-high-road-2017":true,"ron-james-true-north-2016":true,"ronny-chieng-international-student":true,"room-for-rent":true,"room":true,"rosemary-barton-live":true,"royal-variety-performance-2022":true,"royal-variety-performance-gala-2018":true,"royal-variety-performance-gala-2019":true,"royal-variety-performance-gala-2021":true,"royals-in-wartime":true,"ru-tsu":true,"rumble-the-indians-who-rocked-the-world":true,"run-as-one-the-journey-of-the-front-runners":true,"run-the-burbs":true,"rush-beyond-the-lighted-stage":true,"rustic-oracle":true,"sadies-last-days-on-earth":true,"sadikas-garden":true,"safe-harbour":true,"saint-narcisse":true,"sakhi-pitiyahte-bright-light-comes-forth-from-it":true,"sam-smith-on-q-with-tom-power":true,"santa-claus-is-coming-to-town":true,"sarah-prefers-to-run":true,"save-me-uk":true,"save-me":true,"save-with-jamie":true,"schitts-creek":true,"school-of-life":true,"score-a-hockey-musical":true,"scotiabank-giller-prize-2020":true,"scotiabank-giller-prize-2021":true,"scotiabank-giller-prize-gala":true,"scout--the-gumboot-kids":true,"scrooge-1951":true,"seahorse":true,"searchlight":true,"seasons-greetings":true,"secret-life-of-farm-animals":true,"secrets-of-survival":true,"secrets-of-the-royal-babies":true,"secrets-of-the-royals-inside-the-crown":true,"seen--heard":true,"seen-heard":true,"serie-noire":true,"sgaawaay-kuuna-edge-of-the-knife":true,"sharkwater":true,"shaun-the-sheep-movie":true,"she-never-died":true,"shekinah-rising":true,"shelina-stand-up":true,"sherlock-the-abominable-bride":true,"sherlock":true,"shermans-showcase":true,"shiners":true,"shitty-boyfriends":true,"shook":true,"shoot-the-messenger":true,"short-docs":true,"short-film-face-off":true,"short-round-up":true,"showtrial":true,"shrek-2":true,"shrek-the-third":true,"sick-of-it":true,"siddharth":true,"silly-paws":true,"sing-me-a-lullaby":true,"sing-me-a-song":true,"sisi":true,"skindigenous":true,"skitv-mandarin":true,"skitv":true,"skymaster-down":true,"skymed":true,"sleep-matters":true,"sleeping-giant":true,"slings--arrows":true,"slings-arrows":true,"small-talk":true,"small-town-pride":true,"smart-drugs":true,"smother":true,"snapshots":true,"snow-bears":true,"snowbirds":true,"snowtime":true,"soccer-north":true,"solastalgia":true,"someone-like-me":true,"something-undone":true,"son-of-a-critch":true,"sorry-for-your-loss":true,"sort-of":true,"soul-on-ice-past-present-and-future":true,"sourtoe-the-story-of-the-sorry-cannibal":true,"space-dragon-and-kim":true,"spelling-bee-of-canada-2020-championship-finals":true,"spelling-bee-of-canadas-34th-annual-championship":true,"splatalot":true,"splice":true,"splinters":true,"sports-on-fire":true,"spreadsheet":true,"srikandi":true,"stage-the-culinary-internship":true,"stand-up-toronto":true,"standing-on-ceremony":true,"standing-on-the-line":true,"stars-on-ice-2022":true,"stateless":true,"stath-lets-flats":true,"stay-tooned":true,"staying-home-staying-healthy":true,"stealing-school":true,"stella-and-sam":true,"stephen-lewis-the-man-who-couldnt-sleep":true,"still-max":true,"still-mine":true,"still-standing":true,"stockholm":true,"stop-zemlia":true,"stories-from-the-land":true,"stories-we-tell":true,"story-and-the-song-surrender":true,"strange-empire":true,"stratford-presents":true,"strays":true,"streaming-april-17th":true,"street-cents-group-chat":true,"street-legal":true,"stronger-together":true,"succulent-six":true,"suck-it-up":true,"suits":true,"summit-72":true,"sundowners":true,"sunshine-kings":true,"super-agent-jon-le-bon":true,"superfan-the-nav-bhatia-story":true,"surf-canadas-hometown-showdown":true,"surfing-the-menu-the-next-generation":true,"surviving-911":true,"sweat-power":true,"sweet-daddy-siki":true,"tails-on-ice":true,"take-a-walk-on-the-wildside":true,"take-light":true,"take-me-to-prom":true,"take-my-wife":true,"take-this-waltz":true,"taken":true,"talent-drivers":true,"tallboyz":true,"taming-of-the-queue":true,"tan-france-beauty-and-the-bleach":true,"teepee-time-mikmaq":true,"teepee-time":true,"ten-year-old-tom":true,"ten-years-younger":true,"terrific-women":true,"terry-fox-the-power-of-one":true,"that-figure-skating-show":true,"the-10th-annual-arctic-inspiration-prize-awards-ceremony":true,"the-2022-juno-awards":true,"the-410":true,"the-a-word":true,"the-abc-murders":true,"the-accountant-of-auschwitz":true,"the-adventure-club":true,"the-adventures-of-napkin-man":true,"the-adventures-of-paddington":true,"the-aliens":true,"the-amazing-gayl-pile":true,"the-animal-project":true,"the-arctics":true,"the-arrival":true,"the-art-of-leading":true,"the-art-of-the-steal":true,"the-art-show":true,"the-art-works":true,"the-artistic-accountant":true,"the-artists":true,"the-australian-dream":true,"the-beautiful-lie":true,"the-best-of-george":true,"the-big-sex-talk":true,"the-biggest-little-railway-in-the-world":true,"the-black-church-this-is-our-story-this-is-our-song":true,"the-body-remembers-when-the-world-broke-open":true,"the-book-of-negroes":true,"the-booksellers":true,"the-bravest-knight":true,"the-breadwinner":true,"the-case-against-cosby":true,"the-changemakers":true,"the-chef":true,"the-christmas-checklist":true,"the-christmas-contract":true,"the-climate-baby-dilemma":true,"the-cocksure-lads":true,"the-communists-daughter":true,"the-condom-king-of-newfoundland":true,"the-crescent":true,"the-cuban":true,"the-curse-of-clara-a-holiday-tale":true,"the-dark-heart":true,"the-day-will--kate-got-married":true,"the-day-will-kate-got-married":true,"the-day":true,"the-departure":true,"the-detectives":true,"the-detectorists":true,"the-devils-trap":true,"the-dissident":true,"the-divided-brain":true,"the-dog-days-of-christmas":true,"the-dog-doc":true,"the-dog-house":true,"the-donut-king":true,"the-dream-team":true,"the-dry":true,"the-durrells":true,"the-edge-of-winter":true,"the-elders":true,"the-englishmans-boy":true,"the-existence-of-magic":true,"the-f-word":true,"the-falconer":true,"the-fall-of-the-american-empire":true,"the-fall":true,"the-family-law":true,"the-fence":true,"the-fifth-estate":true,"the-fight-for-the-philippines":true,"the-filmmakers":true,"the-fireflies-are-gone":true,"the-future-of-film-showcase":true,"the-future-of-war-with-peter-mansbridge":true,"the-gig-is-up-a-very-human-tech-story":true,"the-goods":true,"the-gospel-according-to-andre":true,"the-governor-generals--performing-arts-awards-2021":true,"the-governor-generals-performing-arts-awards-2022-laureate-films":true,"the-grand-seduction":true,"the-great-british-baking-show-masterclass":true,"the-great-british-baking-show":true,"the-great-canadian-baking-show":true,"the-great-human-odyssey":true,"the-great-northern-candy-drop":true,"the-great-outdoors":true,"the-grizzlies":true,"the-guardians":true,"the-haircut":true,"the-halifax-explosion":true,"the-head":true,"the-heat-a-kitchen-revolution":true,"the-history-of-comedy":true,"the-hole-in-reservoir-hill":true,"the-holiday-fix-up":true,"the-hollow-child":true,"the-honourable-woman":true,"the-housemate":true,"the-hummingbird-project":true,"the-hunting":true,"the-husband":true,"the-improbable-dream":true,"the-incredible-vanishing-sisters":true,"the-investigators":true,"the-island-diaries":true,"the-journey-home-midnight-sun":true,"the-jubilee-pudding-70-years-in-the-baking":true,"the-juno-awards":true,"the-junos-pre-show-with-tom-power-2022":true,"the-kings-christmas-message":true,"the-last-black-man-in-san-francisco":true,"the-last-guide":true,"the-last-post":true,"the-legacy-awards":true,"the-legend-of-sarila":true,"the-lesser-blessed":true,"the-life-sized-city":true,"the-little-drummer-girl":true,"the-little-paris-kitchen-cooking-with-rachel-khoo":true,"the-little-queen-la-petite-reine":true,"the-loch":true,"the-long-song":true,"the-love-songs-of-oedipus-rex":true,"the-magic-hockey-skates":true,"the-magnitude-of-all-things":true,"the-man-the-story-jean-chretien-in-his-own-words":true,"the-man-who-invented-christmas":true,"the-merry-wives-of-windsor":true,"the-mesdames-of-mayhem":true,"the-mile-enders":true,"the-miniaturist":true,"the-misadventures-of-romesh-ranganathan":true,"the-moblees":true,"the-move":true,"the-national-in-conversation-foreign-correspondents":true,"the-national-in-depth-ryans-story":true,"the-national":true,"the-nature-of-things":true,"the-neddeaus-of-duqesne-island":true,"the-new-wave-of-standup":true,"the-newsroom":true,"the-next-step-kids":true,"the-ninth":true,"the-noodle-group":true,"the-north-water":true,"the-office-uk":true,"the-oland-murder":true,"the-onyx-experience":true,"the-oslo-diaries":true,"the-other-half":true,"the-oxy-kingpins":true,"the-pale-horse":true,"the-pass-system":true,"the-passionate-eye-seeds-of-deceit":true,"the-passionate-eye":true,"the-photographer":true,"the-pilgrimage":true,"the-porter":true,"the-princes-and-the-press":true,"the-problem-with-apu":true,"the-psychedelic-drug-trial-a-cure-for-depression":true,"the-queen-and-canada":true,"the-queen-monarch-and-mother":true,"the-queen-unseen":true,"the-queens-green-planet":true,"the-red-violin":true,"the-reluctant-landlord":true,"the-rest-of-us":true,"the-return-life-after-isis":true,"the-river-of-my-dreams-a-portrait-of-gordon-pinsent":true,"the-romeo-section":true,"the-royal-variety-performance-gala-2020":true,"the-royals-revealed":true,"the-search-for-freedom":true,"the-search-manufacturing-belief":true,"the-secret-path-ahead-by-a-century":true,"the-secret-path-freedom-to-speak":true,"the-secret-path-in-the-classroom":true,"the-secret-path":true,"the-secret-to-making-better-decisions":true,"the-secret":true,"the-shadow-of-diana":true,"the-shamans-apprentice":true,"the-simpler-life":true,"the-six-titanics-last-secret":true,"the-skyjackers-tale":true,"the-slap":true,"the-slowest-show":true,"the-song-of-names":true,"the-sounds":true,"the-stand-how-one-gesture-shook-the-world":true,"the-stats-of-life":true,"the-story-of-china":true,"the-story-of-late-night":true,"the-story-of-rugby":true,"the-strange-chores":true,"the-studio-k-show":true,"the-sunday-scrum":true,"the-sweet-hereafter":true,"the-tempest":true,"the-thrillusionists":true,"the-town-at-the-top-of-the-world":true,"the-trotsky":true,"the-truth-about-christmas":true,"the-tudors":true,"the-tunnel":true,"the-unmoveable-harvey-sykes":true,"the-us-and-the-holocaust":true,"the-valley-below":true,"the-victim":true,"the-waiting-room":true,"the-walrus-and-the-whistleblower":true,"the-weekly":true,"the-whole-truths":true,"the-windermere-children-in-their-own-words":true,"the-windermere-children":true,"the-witch":true,"the-witches-of-the-orient":true,"the-wonder-gang":true,"the-woodstock-diaries":true,"the-world-sailing-show":true,"the-worlds-tiniest-masterpieces":true,"the-writers-block":true,"the-wrong-mans":true,"theodosia":true,"there-are-no-fakes":true,"there-will-be-people":true,"they-call-me-dr-miami":true,"thin-blue-line":true,"thirteen":true,"thirty-eight-minutes":true,"this-art-works":true,"this-blows":true,"this-close":true,"this-country":true,"this-hour-has-22-minutes":true,"this-ink-runs-deep":true,"this-is-our-cup":true,"this-life":true,"this-time-with-alan-partridge":true,"this-week-in-canada":true,"this-wild-life":true,"three-tall-women":true,"through-black-spruce":true,"through-our-eyes-indigenous-short-docs":true,"thunder-blanket":true,"thunderbirds-are-go":true,"til-it-blooms":true,"timewasters":true,"timon-of-athens":true,"tizita":true,"toad-people":true,"toddlers-behaving-very-badly":true,"tokyo-2020-paralympic-games":true,"tokyo-idols":true,"tom-greens-snow-jam":true,"tomomi-on-the-farm":true,"toni-morrison-the-pieces-i-am":true,"top-of-the-lake-china-girl":true,"top-of-the-lake":true,"top-ten-event":true,"topline":true,"topping-out-race-to-the-2021-ouray-ice-climbing-competition":true,"tower-of-song-a-memorial-tribute-to-leonard-cohen":true,"toxic-beauty":true,"trail-of-the-caribou":true,"trailer-2020":true,"trailer":true,"transformatruc":true,"transformer":true,"travel-man-48-hours-in...":true,"travel-mans-greatest-trips":true,"tribal":true,"trick-or-treaty":true,"trickster":true,"trigger-point":true,"trigonometry":true,"triplets-of-belleville":true,"trouble-in-the-garden":true,"trudeau-testifies":true,"true-and-the-rainbow-kingdom":true,"true-north-calling":true,"true-north":true,"trust-me":true,"tshiuetin":true,"turtle-island-reads":true,"twenties":true,"twilight-dancers":true,"two-lovers-and-a-bear":true,"u311-cherkasy":true,"ukulele-u-kids-stand-with-ukraine":true,"ukulele-u":true,"unclaimed":true,"uncovering-bcs-black-history-who-is-mifflin-gibbs":true,"under-new-management":true,"under-the-volcano":true,"undercover":true,"underfire-the-untold-story-of-pfc-tony-vaccaro":true,"undisrupted":true,"unfinished-business-with-peter-mansbridge":true,"unless":true,"unloved-huronias-forgotten-children":true,"unmasking-racism-what-are-we-going-to-do-about-it-asl-version":true,"unmasking-racism-what-are-we-going-to-do-about-it":true,"unspeakable":true,"until-further-notice":true,"untying-the-knot":true,"up-in-the-air":true,"upright":true,"urbanindigenousproud-shorts":true,"us":true,"utopia-falls":true,"uvanga":true,"uytae-lees-stories-about-here":true,"vacation-with-derek":true,"vagrant-queen":true,"vanity-fair":true,"versailles":true,"vet-on-the-hill":true,"victoria":true,"vika":true,"virgins":true,"visualized":true,"voice-of-freedom":true,"vuvanga":true,"w1a":true,"walk-good":true,"wallander":true,"wallys-world":true,"wandering-wenda":true,"war-club":true,"war-of-the-worlds":true,"war-on-plastic-with-hugh-and-anita":true,"warigami":true,"warrior-spirit":true,"warrior-women-with-lupita-nyongo":true,"warumuk---in-the-dark-night":true,"water":true,"watermark":true,"we-are-black-british":true,"we-are-canada":true,"we-need-to-talk-addressing-systemic-racism-in-alberta":true,"we-were-children":true,"weirdos":true,"were-funny-that-way":true,"werewolf":true,"wet-bum":true,"wexford-plaza":true,"what-in-the-olympic-winter-games":true,"what-keeps-you-alive":true,"what-would-sal-do":true,"whats-with-the-jews":true,"whats-your-ailment-with-maria-bamford":true,"wheelers-everest":true,"when-calls-the-heart":true,"when-jews-were-funny":true,"when-the-children-left":true,"white-cane-journeys":true,"white-christmas":true,"white-elephant":true,"white-house-farm-murders":true,"white-lie":true,"who-do-you-think-i-am":true,"who-farted":true,"who-the-fk-is-arthur-fogel":true,"why-plastic":true,"why-slavery":true,"why-we-fight":true,"whyfi":true,"wild-bill":true,"willie":true,"window-horses":true,"window-wonderland":true,"winnie":true,"winnipeg-comedy-festival":true,"winston-rowntrees-peoplewatching":true,"wisting":true,"with-wonder":true,"woman-on-fire":true,"wonder":true,"workin-moms":true,"world-athletics-championships-primetime":true,"world-chase-tag-2019-world-championships":true,"world-famous-gopher-hole-museum":true,"worlds-fastest-gamers":true,"write-around-the-world":true,"writing-around-the-christmas-tree":true,"writing-the-land":true,"writing-with-fire":true,"x-company":true,"you-are-what-you-act":true,"you-cant-ask-that-oz":true,"you-cant-ask-that":true,"young-and-promising":true,"young-drunk-punk":true,"youre-sleeping-nicole-tu-dors-nicole":true,"youre-soaking-in-it":true,"zarqa":true,"zelensky-the-man-who-took-on-putin":true,"zoomizoom":true},"listen":{"--inuit-unikkaangit":true,"-wiihteh---cree":true,"25-best-canadian-debut-albums":true,"35-under-35-canadian-jazz-artists":true,"4korners-raptors-dj-mix-explicit":true,"2050-degrees-of-change":true,"90s-pop":true,"90s-rock":true,"a-new-day":true,"adult-alternative":true,"adult-pop":true,"african-icons":true,"afrobeat":true,"after-the-deadline":true,"afterdark":true,"afternoon-drive":true,"airplay":true,"alberta-at-noon":true,"albertanoon-from-cbc-radio-highlights":true,"all-in-a-day":true,"all-in-a-weekend":true,"all-in-a-weekend-montreal":true,"all-points-west":true,"alone-a-love-story":true,"alt-country":true,"ambushed":true,"arabic-classics":true,"as-it-happens":true,"as-it-happens-from-cbc-radio":true,"as-maple-as":true,"as-me-with-sinad":true,"ashumiyi":true,"asking-for-it":true,"atlantic-voice":true,"bachmans-guitarchives":true,"back-story":true,"backstage":true,"ballet":true,"baroque":true,"bc-today":true,"because-news":true,"because-news-from-cbc-radio":true,"beethoven":true,"ben-heppners-opera-gems":true,"best-of-drive":true,"best-operas-ever":true,"bhangra-plus":true,"big-band":true,"big-city-small-world":true,"billion-dollar-goldmine":true,"bitter-pills":true,"blue-sky":true,"blues-canada":true,"blues-classics":true,"bodies-of-work":true,"bollywood-idols":true,"bossa-brazil":true,"boushie":true,"boys-like-me":true,"brainwashed":true,"breakaway":true,"buffy":true,"burden-of-truth":true,"calgary-eyeopener":true,"campus":true,"canada-reads":true,"canadian-chanson":true,"canadian-classical-performers":true,"canadian-composers":true,"canadian-country":true,"canadian-electronic":true,"canadian-hip-hop":true,"canadian-love-songs":true,"canadian-metal":true,"canadian-songwriter":true,"cape-bretons-information-morning-from-cbc-radio-nova-scotia-highlights":true,"carrie-low-versus":true,"caught---70s-rock":true,"cbc-books":true,"cbc-kids":true,"cbc-music-festival-2019":true,"cbc-music-festival-2020":true,"cbc-music-live-sessions-and-concerts":true,"cbc-music-top-20":true,"cbc-newfoundland-morning":true,"cbc-news-at-issue":true,"cbc-news-hourly-edition":true,"cbc-news-the-house":true,"cbc-news-the-pollcast":true,"cbc-news-the-world-at-six":true,"cbc-news-the-world-this-hour":true,"cbc-news-world-report":true,"cbc-radio-3":true,"cbc-radio-specials":true,"cbc-records":true,"cbc-tvs-crawford":true,"celtic":true,"central-morning":true,"centre-stage":true,"cest-formidable":true,"chamber":true,"chill-out":true,"choral":true,"choral-concert":true,"chosen-family":true,"christmas-sing-in":true,"cinq-a-six":true,"classic-country":true,"classic-prog":true,"classic-soul":true,"classical-britain":true,"classical-france":true,"classical-germany":true,"classical-hits-from-the-toybox":true,"classical-holidays":true,"classical-in-love":true,"classical-italy":true,"classical-music-for-celebration":true,"classical-music-for-reflection":true,"classical-russia":true,"classical-serenity":true,"colin-james-blues":true,"columnists-from-cbc-radio":true,"comedy-factory-from-cbc-radio":true,"cost-of-living":true,"country-christmas":true,"cross-country-checkup":true,"cross-country-checkup-from-cbc-radio":true,"cross-talk":true,"day-6":true,"day-6-from-cbc-radio":true,"daybreak-alberta":true,"daybreak-kamloops":true,"daybreak-montreal":true,"daybreak-north":true,"daybreak-south":true,"deep-trouble":true,"definitely-not-the-opera":true,"dehcho-dene-south-slavey":true,"denesuline-yatia":true,"diggstown":true,"disco":true,"drake--co.":true,"dub":true,"east-coast-music-hour":true,"escaping-nxivm":true,"essential-classics":true,"edmonton-am":true,"eli-glasner-on-film-from-cbc-radio":true,"evil-by-design":true,"eyou-dipjimoon-cree":true,"fault-lines":true,"film-scores":true,"first-day-back":true,"flights-of-fancy-":true,"folk-classics":true,"frankies-jazz":true,"fresh-air":true,"front-burner":true,"funk":true,"garden-talk":true,"glasner-on-film":true,"go-the-distance":true,"golden-era":true,"gospel":true,"hard-to-stomach":true,"haunted-halloween":true,"heartland":true,"here-and-now-toronto":true,"heroes-hustlers-and-horsemen":true,"hip-hop":true,"hit-musicals":true,"homerun":true,"hot-air":true,"hot-country":true,"hunting-warhead":true,"ideas":true,"in-concert-revival-hour":true,"in-town-and-out":true,"inappropriate-questions":true,"india-roots":true,"indie":true,"indigenous-canada":true,"indigenous-hip-hop-explicit":true,"indigenous-music-awards-nominees":true,"information-morning---cape-breton":true,"information-morning---fredericton":true,"information-morning-fredericton-from-cbc-radio-new-brunswick-highlights":true,"information-morning---moncton":true,"information-morning-moncton-from-cbc-radio-new-brunswick-highlights":true,"information-morning---ns":true,"information-morning-from-cbc-radio-nova-scotia-highlights":true,"information-morning---saint-john":true,"information-radio---mb":true,"inside-the-junos":true,"island-morning":true,"island-vibe":true,"jazz-in-love":true,"jazz-loves-christmas":true,"jazz-loves-hip-hop":true,"jazz-loves-pop":true,"jazz-masters":true,"jazz-songbook":true,"jazz-with-laila-biali":true,"jets-stream":true,"jukebox-favourites":true,"julie-nesrallahs-tempo":true,"juno-adult-alternative-album-of-the-year":true,"juno-album-of-the-year":true,"juno-alternative-album-of-the-year":true,"juno-artist-of-the-year":true,"juno-blues-album-of-the-year":true,"juno-breakthrough-artist-of-the-year":true,"juno-breakthrough-group-of-the-year":true,"juno-childrens-album-of-the-year":true,"juno-classical-album-of-the-year-large-ensemble":true,"juno-classical-album-of-the-year-solochamber":true,"juno-classical-album-of-the-year-vocal-or-choral-performance":true,"juno-contemporary-christiangospel":true,"juno-contemporary-roots-album-of-the-year":true,"juno-country-album-of-the-year":true,"juno-electronic-album-of-the-year":true,"juno-fan-choice":true,"juno-francophone-album-of-the-year":true,"juno-group-of-the-year":true,"juno-hall-of-fame":true,"juno-heavy-metalhard-music-album-of-the-year":true,"juno-indigenous-music-album-of-the-year":true,"juno-instrumental-album-of-the-year":true,"juno-international-album-of-the-year":true,"juno-jazz-album-of-the-year-group":true,"juno-jazz-album-of-the-year-solo":true,"juno-pop-album-of-the-year":true,"juno-rap-recording-of-the-year":true,"juno-rbsoul-recording-of-the-year":true,"juno-reggae-recording-of-the-year":true,"juno-rock-album-of-the-year":true,"juno-single-of-the-year":true,"juno-songwriter-of-the-year":true,"juno-traditional-roots-album-of-the-year":true,"juno-vocal-jazz-album-of-the-year":true,"juno-world-music-album-of-the-year":true,"k-pop-idols":true,"key-of-a":true,"killers-j-pod-on-the-brink":true,"kiwew":true,"kuper-island":true,"labrador-morning":true,"labrador-morning-from-cbc-radio-nfld.-and-labrador-highlights":true,"latin-jazz":true,"laugh-out-loud":true,"laugh-out-loud-from-cbc-radio":true,"legotsedeh-north-slavey":true,"lets-go":true,"lets-make-a-sci-fi":true,"life-jolt":true,"limited-capacity":true,"london-morning":true,"love-janessa":true,"love-me":true,"lullaby-rock":true,"mainstreet-cape-breton":true,"mainstreet-halifax-from-cbc-radio":true,"mainstreet-ns":true,"mainstreet-pei":true,"maritime-connection":true,"maritime-noon":true,"maritime-noon-from-cbc-radio-highlights":true,"marvins-room":true,"marvins-room-rb":true,"masters-of-reinvention-pandemic-rising":true,"meditation":true,"meet-the-riders":true,"metal":true,"metro-morning":true,"metro-morning-from-cbc-radio-toronto-highlights":true,"mic-drop":true,"mid-century-modern":true,"midday-cafe":true,"missing-murdered-finding-cleo":true,"modern-masters":true,"montreal-jazz-festival":true,"montreapolis":true,"more-with-anna-maria-tremonti":true,"morning-north":true,"morning-north-from-cbc-radio-sudbury-highlights":true,"motown-in-love":true,"movie-magic":true,"muddied-water":true,"music-comes-alive":true,"music-from-the-crypt":true,"my-playlist":true,"new-fire":true,"new-wave":true,"north-by-northwest":true,"north-by-northwest-from-cbc-radio-british-columbia-highlights":true,"northwind":true,"nothing-is-foreign":true,"now-or-never":true,"off-guard":true,"old-school":true,"on-drugs":true,"on-the-coast":true,"on-the-go":true,"on-the-island":true,"on-the-ledge":true,"ontario-morning-from-cbc-radio":true,"ontario-today":true,"ontario-today-phone-ins-from-cbc-radio":true,"orchestral":true,"other-peoples-problems":true,"ottawa-morning":true,"out-in-the-open":true,"party-lines":true,"pei-pulse":true,"personal-best":true,"phil-dwyers-jazz-canada":true,"piano":true,"picking-up-the-pieces":true,"players-own-voice":true,"playme":true,"podcast-playlist":true,"podcast-playlist-from-cbc-radio":true,"polaris-picks":true,"polaris-prize-shortlist-special":true,"pop-40":true,"pop-canada":true,"pop-chat":true,"pop-christmas":true,"power-and-politics":true,"powwow":true,"pressure-cooker":true,"pride":true,"punk":true,"pyc-podcast":true,"q":true,"q-the-podcast-from-cbc-radio":true,"q-with-tom-power":true,"quadriga":true,"quebec-am":true,"quirks-and-quarks":true,"quirks-and-quarks-from-cbc-radio":true,"radio-active":true,"radio-noon-manitoba":true,"radio-noon-montreal":true,"radio-noon-quebec":true,"radio-west":true,"randy-bachmans-vinyl-tap":true,"rb-canada":true,"recall":true,"recall-how-to-start-a-revolution":true,"reclaimed":true,"reggae":true,"renaissance-splendour":true,"rewind":true,"rich-terfrys-off-ramp":true,"roadtrip":true,"rock":true,"rock-canada":true,"rock-classics":true,"rockabilly":true,"round-dance":true,"run-hide-repeat":true,"saddest-songs":true,"salsa":true,"sanctioned-the-arrest-of-a-telecom-giant":true,"saskatchewan-weekend":true,"saskatoon-morning":true,"saturday-afternoon-at-the-opera-best-operas-ever":true,"searchlight":true,"seasonal-favourites":true,"seat-at-the-table":true,"secrets-of-the-fifth-estate":true,"shift---nb":true,"sickboy":true,"singer-songwriter":true,"ska-essentials":true,"sleepover":true,"slumtown":true,"smooth-hits":true,"smooth-jazz":true,"soca":true,"sold":true,"someone-knows-something":true,"sonica":true,"sorry-about-the-kid":true,"south-asian-mix":true,"spark":true,"spark-from-cbc-radio":true,"spin-reduxit-from-cbc-radio-new-brunswick":true,"spirit-to-soar":true,"sports-talk":true,"st-johns-morning-show":true,"strombo":true,"stuff-the-british-stole":true,"summer-songs":true,"sunday-edition":true,"superior-morning":true,"tai-asks-why":true,"tapestry":true,"tapestry-from-cbc-radio":true,"this-is-that":true,"trails-end":true,"the-70s":true,"the-80s":true,"the-africas-vs-america":true,"the-afternoon-edition---sask":true,"the-band-played-on":true,"the-base":true,"the-best-of-the-disruptors":true,"the-bridge":true,"the-broadcast":true,"the-candy-palmater-show":true,"the-cbc-election-pollcast":true,"the-comedy-factory":true,"the-current":true,"the-current-weekly":true,"the-debaters":true,"the-doc-project":true,"the-dose":true,"the-early-edition":true,"the-early-edition-from-cbc-radio-british-columbia-highlights":true,"the-eyeopener-from-cbc-radio-calgary-highlights":true,"the-flamethrowers":true,"the-fridge-light":true,"the-heart":true,"the-hit-list":true,"the-homestretch":true,"the-hook":true,"the-house":true,"the-house-from-cbc-radio":true,"the-in-concert-revival-hour":true,"the-irrelevant-show":true,"the-kill-list":true,"the-ledge":true,"the-life-game":true,"the-loop":true,"the-morning-edition---k-w":true,"the-morning-edition---sask":true,"the-morning-edition-from-cbc-radio-saskatchewan-highlights":true,"the-next-150":true,"the-next-call":true,"the-next-chapter":true,"the-next-chapter-from-cbc-radio":true,"the-numbered":true,"the-outlaw-ocean":true,"the-pit":true,"the-political-panel-from-cbc-news-new-brunswick":true,"the-secret-life-of-canada":true,"the-shadows":true,"the-st-johns-morning-show-from-cbc-radio-nfld-and-labrador-highlights":true,"the-story-from-here":true,"the-story-store":true,"the-strombo-show":true,"the-sunday-edition":true,"the-sunday-magazine":true,"the-trailbreaker":true,"the-unamericans":true,"the-village":true,"the-weekend-morning-show-manitoba":true,"the-weekender":true,"the-world-this-weekend":true,"they--us":true,"this-is-my-music":true,"this-is-not-a-drake-podcast":true,"tide-godi-tlicho":true,"tom-allen-presents":true,"tom-powers-deep-roots":true,"tony-ho":true,"trickster":true,"true-dating-stories":true,"tusaavik":true,"tuttavik-inuktitut":true,"uncover":true,"under-the-covers":true,"under-the-influence":true,"under-the-influence-from-cbc-radio":true,"unlocking-brysons-brain":true,"unlocking-the-fountain":true,"unreserved":true,"unspeakable":true,"up-north":true,"up-to-speed":true,"utopia-falls":true,"venturing-out":true,"vinyl-cafe":true,"walking-wascana":true,"weekend-am":true,"weekend-mornings":true,"weekend-morning-manitoba":true,"welcome-to-paradise":true,"west-of-centre":true,"what-on-earth":true,"white-coat-black-art":true,"white-coat-black-art-on-cbc-radio":true,"white-hot-hate":true,"windsor-morning":true,"winnipeg-famous":true,"winschgaoug-cree":true,"wiretap":true,"women-who-have-changed-music":true,"woodstock":true,"workout-mix":true,"world":true,"world-news":true,"world-on-fire":true,"writers-and-company":true,"writers-and-company-from-cbc-radio":true,"yukon-morning":true}},"sport":{"3x3-basketball":true,"alpine-skiing":true,"artistic-gymnastics":true,"artistic-swimming":true,"aquatics":true,"archery":true,"athletics":true,"badminton":true,"baseball":true,"basketball":true,"beach-volleyball":true,"biathlon":true,"bmx":true,"boccia":true,"bobsleigh":true,"boxing":true,"canoe-kayak":true,"cross-country-skiing":true,"curling":true,"cycling":true,"cycling-mountain-bike":true,"cycling-road":true,"cycling-track":true,"diving":true,"equestrian":true,"fencing":true,"field-hockey":true,"figure-skating":true,"football":true,"freestyle-skiing":true,"goalball":true,"golf":true,"gymnastics":true,"handball":true,"hockey":true,"judo":true,"karate":true,"lacrosse":true,"luge":true,"marathon":true,"modern-pentathlon":true,"nordic-combined":true,"para-alpine-skiing":true,"para-archery":true,"para-athletics":true,"para-badminton":true,"para-biathlon":true,"para-canoe":true,"para-cross-country-skiing":true,"para-cycling":true,"para-equestrian":true,"para-football-five-a-side":true,"para-ice-hockey":true,"para-judo":true,"para-powerlifting":true,"para-rowing":true,"para-snowboard":true,"para-swimming":true,"para-table-tennis":true,"para-taekwondo":true,"para-triathlon":true,"pentathlon":true,"powerlifting":true,"rodeo":true,"rowing":true,"rugby":true,"rhythmic-gymnastics":true,"sailing":true,"shooting":true,"shooting-para-sport":true,"short-track-speed-skating":true,"sitting-volleyball":true,"skateboarding":true,"skeleton":true,"ski-jumping":true,"skiing":true,"sliding":true,"soccer":true,"soccer-5-a-side":true,"softball":true,"snowboard":true,"snowboarding":true,"speed-skating":true,"sport-climbing":true,"surfing":true,"swimming":true,"table-tennis":true,"taekwondo":true,"tennis":true,"track-and-field":true,"trampoline":true,"trampoline-gymnastics":true,"triathlon":true,"volleyball":true,"water-polo":true,"waterpolo":true,"wheelchair-basketball":true,"weightlifting":true,"wheelchair-curling":true,"wheelchair-fencing":true,"wheelchair-rugby":true,"wheelchair-tennis":true,"wrestling":true,"youth-olympics":true},"streamtype":{"linear":true,"live":true,"on-demand":true},"type":{"broadcast":true,"excerpt":true,"event-coverage":true,"full-program":true,"interview":true,"raw-video":true,"raw-audio":true,"tutorial":true}},"tier":{"authenticated":true,"free":true,"premium":true},"type":{"album":true,"artist":true,"audioclip":true,"authorbio":true,"bio":true,"blogentry":true,"comments":true,"episode":true,"error":true,"feature":true,"game":true,"index":true,"longform":true,"newsletter":true,"page":true,"photogallery":true,"podcast":true,"programguide":true,"recipe":true,"schedule":true,"segment":true,"sponsoredcontent":true,"story":true,"videoclip":true}},"app":{"pillar":{"feed":true,"legacy":true,"legacyee":true,"listen":true,"lwf":true,"watch":true},"name":{"cbcca-web":true,"ci-amazon-alexa":true,"ci-google-assistant":true,"ci-microsoft-cortana":true,"fia":true,"gamp":true,"kids-fantasy-hockey-web-app":true,"kids-web-app":true,"listen-android-app":true,"listen-ios-app":true,"listen-web-app":true,"listen-tvos-app":true,"lite-web-app":true,"news-android-app":true,"news-android-tv-app":true,"news-ios-app":true,"news-tvos-app":true,"newslabs-web-app":true,"newsletter-web-app":true,"ocelot":true,"ott-android-app":true,"ott-androidtv-app":true,"ott-chromecast-app":true,"ott-firetv-app":true,"ott-ios-app":true,"ott-lgtv-app":true,"ott-playstation4-app":true,"ott-playstation5-app":true,"ott-roku-app":true,"ott-samsungtv-app":true,"ott-tvos-app":true,"ott-web-app":true,"ott-xbox-app":true,"ott-xfinity-app":true,"sports-android-app":true,"sports-ios-app":true,"zendesk":true}},"user":{"tier":{"authenticated":true,"free":true,"premium":true},"reason":{"SUBSCRIBED":{"promotion":true}}},"sponsor":{"name":{"air-canada-fly-the-flag":true,"Air Transat":true,"AITQ-Bas-Saint-Laurent-2022":true,"AITQ-Centre-du-Qubec-2022":true,"AITQ-Charlevoix Winter-2022":true,"AITQ-Eastern Townships Ski-2022":true,"AITQ-Indigenous Tourism-2022":true,"AITZ-Laurentians-2022":true,"AITQ-Laurentians Fall-2022":true,"AITQ-Laurentians Winter-2022":true,"AITQ-Laval-2022":true,"AITQ-Outaouais-2022":true,"AITQ-QC Charlevoix Ski-2022":true,"AITQ-Quebec by the Sea Outdoors-2022":true,"AITQ-Quebec by the Sea Road Trip-2022":true,"AITQ-Saguenay-2022":true,"AITQ-Saguenay Winter-2022":true,"ALC-Corporate Reputation-2023":true,"Allens":true,"asahi-sugoi-tokyo":true,"Athabasca University":true,"athabasca-university":true,"bell-faster-higher-stronger":true,"bell-faster-higher-stronger-beijing":true,"Beneva-The Right Partner-2023":true,"betrivers-that-feeling-beijing":true,"Bluetti-AC180Launch-2023":true,"bmw-forcesofnature-2022":true,"Bonjour Quebec":true,"Brita":true,"Calm Radio":true,"Canadian Tire":true,"Chamber Market":true,"Charlevoix-Malbaie-2023":true,"charlevoix-petiteriviere-2023":true,"charlevoix-winter-2023":true,"CIRA-Article2-2022":true,"CIRA-ca domains-2022":true,"Club Med":true,"CMC Markets":true,"CoastCapital-BuildYourTomorrow-2023":true,"Cogeco":true,"Cogeco-backtoschool-2023":true,"college-universel":true,"Cornucopia":true,"Dairy Farmers of Canada-Contest-2022":true,"Dairy Farmers of Canada-Contest-2023":true,"Dell Technologies":true,"Desjardins-Clean Slate-2022":true,"Desjardins-Clean Slate-2023":true,"DesjardinsInsurance-AGE-2022":true,"DesjardinsInsurance-AGE-2023":true,"Desjardins-Dream the Impossible-2023":true,"Desjardins-Meet Our People-2023":true,"Destination BC":true,"District Central":true,"Dropbox-lettertoafounder-2023":true,"DUC-Invasive Species-2023":true,"DUC-Restoration-2023":true,"Duracell":true,"EdmontonIntlAirport-KLM-2023":true,"Encorp":true,"ENCORP-MARR-2022":true,"EnjoySummerinQuebec-Attractions-2023":true,"EnjoySummerinQuebec-Celebrate-2023":true,"EnjoySummerinQuebec-Family-Fun-2023":true,"Explore Edmonton-Festival City-2023":true,"Explore Edmonton - Domestic Inbound - 2022":true,"Explore Edmonton-Domestic Inbound-2023":true,"Explore Edmonton-Winter-2022":true,"Familia Torres":true,"Forests Ontario-seeds-2022":true,"Fort McMurray Wood Buffalo":true,"frankfurt-book-fair":true,"Future Skills Centre":true,"FWCU-Envision Financial-2023":true,"FWCU-Island Savings-2023":true,"FWCU-Valley First-2023":true,"Gillette":true,"Greek National Tourism Organization-Article-2022":true,"Greek Tourism":true,"H&R Block- Tax Season- 2023":true,"Hearing Life Canada":true,"Hilo":true,"HRBlock-TaxSeason-2023":true,"IBM":true,"Indeed-Hiring-2022":true,"Intact-Driving Quiz-2022":true,"Intact-growasyougo-2023":true,"KIJU-Organic Life-2023":true,"Kinghome-Heat Pump-2023":true,"kraft-while-you-were-sleeping":true,"La Roche-Posay":true,"LCBO":true,"LCBO-Holiday-2022":true,"Le Massif-Winter Wonderland Contest-2023":true,"Liberty - Natural Gas - 2022":true,"London Drugs-Holiday-2023":true,"lululemon-the-olympians-beijing":true,"mackenzie-top-peak-2023":true,"mackenzie-top-peak-2024":true,"Mastercard":true,"Movember-KNT-2023":true,"NABAA-The Faces of Entrepreneurship-2022":true,"National Gallery of Canada":true,"Natrel-Feel the Energy-2023":true,"nespresso":true,"Netcoins":true,"Novartis":true,"Oasis":true,"Oasis-backtoschoolquiz-2023":true,"olg-the-quest":true,"Ontario - Trillium Gift of Life":true,"ozempic-that-figure-skating-show-beijing":true,"P&G":true,"Paramount Plus-Yellowstone-2022":true,"Pet Valu-Article-2022":true,"Petro-Canada-Live by the Leaf-2023":true,"petro-canada-the-bond":true,"petro-canada-the-bond-beijing":true,"petro-canada-mon-mentor-beijing":true,"Phildan - Belleruche - 2022":true,"PortugalWines-Map-2023":true,"Prime Video Canada":true,"Pro-Mix":true,"Product Care Recycling":true,"quaker-quakerborough-2023":true,"Queen Elizabeth II Foundation-Patient Essentials Fund-2022":true,"rbc-spotlight":true,"rbc-spotlight-beijing":true,"Reitmans-RWCO-Summer-2022":true,"RMHC Canada-Moments that Count-2023":true,"RodTheRepellent-Article-2023":true,"Royal Canadian Mint-Elsie MacGill-2023":true,"Royal Canadian Mint-Jean Paul Riopelle-2023":true,"Royal Canadian Mint-Oscar Peterson-2022":true,"RW&CO-Fall Fashion Trends-2022":true,"samsung-3-stars-beijing":true,"Saputo-Holiday Hub-2022":true,"Saputo-HolidayHub-2023":true,"SAQ":true,"SAQ-Inspire-2023":true,"SiriusXM-Junos1-2023":true,"sobeys-family-album":true,"sobeys-family-album-beijing":true,"St. John Ambulance-Opioid Response Training-2023":true,"sunwing-holiday-2023":true,"Tanguay-InteriorDesign-2023":true,"The Salvation Army":true,"ThePowerMBA":true,"Tim Hortons":true,"Tokyo Metropolitan Government":true,"Tokyo Tourism-Fall-2022":true,"Tourism Ireland-Fall-2022":true,"Tourism Kelowna-Fall Escapes-2022":true,"Tourism Mont Tremblant":true,"Tourism New Brunswick":true,"Tourism New Brunswick-Fundy Facts-2022":true,"Tourism New Brunswick-Road Trip-2022":true,"Tourism Tofino":true,"Tourism Whistler":true,"Tourism Whistler-ACH-2023":true,"Tourism Whistler-Cornucopia-2022":true,"Tourism Whistler-Cornucopia-2023":true,"Tourism-Whistler-Fall-2022":true,"TourismYukon-Summer-2023":true,"TourismYukon-Winter-2023":true,"toyota":true,"toyota-breakthrough":true,"toyota-breakthrough-beijing":true,"toyota-breakthrough-paris":true,"toyota-breakthrough-tokyo":true,"toyota-mon-destin-beijing":true,"toyota-mon-destin-tokyo":true,"toyota-searchlight-2021":true,"toyota-searchlight-2022":true,"Travel Alberta":true,"tvo":true,"uber-eats-who-delivered-beijing":true,"uber-go-getters":true,"United Way":true,"visa-olympic-moments":true,"visa-olympic-moments-beijing":true,"visa-olympic-moments-tokyo":true,"Whirlpool":true,"WorkSafeBC-Health and Safety-2022":true,"YorkshireTea-ProperBrew-2023":true}},"partner":{"name":{"amplitude-test":true}},"department":{"level3":{"arts":["unscripted"],"comedy":["scripted","unscripted"],"digital-originals":["scripted","unscripted"],"drama":["scripted"],"docs":["unscripted"],"factual":["unscripted"],"life":["unscripted"]},"level2":{"books":["radio"],"british-columbia":["local-services"],"business":["news"],"calgary":["local-services"],"edmonton":["local-services"],"entertainment":["news"],"hamilton":["local-services"],"health":["news"],"indigenous":["local-services"],"kamloops":["local-services"],"kids":["programming"],"kitchener-waterloo":["local-services"],"london":["local-services"],"manitoba":["local-services"],"montreal":["local-services"],"music":["radio"],"new-brunswick":["local-services"],"newfoundland":["local-services"],"north":["local-services"],"nova-scotia":["local-services"],"opinion":["news"],"ottawa":["local-services"],"pei":["local-services"],"podcast":["radio"],"politics":["news"],"saskatchewan":["local-services"],"saskatoon":["local-services"],"science":["news"],"scripted":["programming"],"sudbury":["local-services"],"talk":["radio"],"technology":["news"],"thunder-bay":["local-services"],"toronto":["local-services"],"unscripted":["programming"],"windsor":["local-services"]},"level1":{"digital-archives":true,"homepage":true,"local-services":true,"news":true,"programming":true,"radio":true,"sports":true,"watch":true}},"feature":{"name":{"banner":true,"card-grid":true,"carousel":true,"content-package":true,"link":true,"media-embed":true,"media-player":true,"media-playlist-player":true,"multiple-choice":true,"navigation":true,"push-notification":true,"quiz":true,"radio-bar":true,"radio-button":true,"search":true,"swimlane":true,"vertical-card-list":true},"instance":{"Aquatics":true,"Archives":true,"Arts":true,"Arts and Entertainment":true,"BC":true,"Baseball":true,"Basketball":true,"Breaking News":true,"Business":true,"breadcrumb":true,"Calgary":true,"Calgary Stampede":true,"Canada":true,"Canoe-Kayak":true,"closed-captions":true,"Commonwealth Games":true,"Consumer Life":true,"Cricket":true,"Curling":true,"Cycling":true,"Diving":true,"Docs":true,"Edmonton":true,"feature":true,"Field Hockey":true,"Figure Skating":true,"Football":true,"gem":true,"global-nav":true,"Golf":true,"Gymnastics":true,"Hamilton":true,"Health":true,"Hockey":true,"in-page-nav":true,"Indigenous":true,"Judo":true,"Kitchener-Waterloo":true,"lead-media":true,"LIVE NOW":true,"Life":true,"local":true,"Local News Shows":true,"London":true,"Manitoba":true,"Maritimes":true,"Montreal":true,"more":true,"Music":true,"Must Watch":true,"My Local":true,"my-olympics":true,"NB":true,"next":true,"NL":true,"NS":true,"News":true,"North":true,"Olympic Sports":true,"olympics":true,"Ottawa":true,"PEI":true,"Paralympics":true,"Politics":true,"primary-headline":true,"primary-related":true,"primary-visual":true,"question-1":true,"question-2":true,"question-3":true,"question-4":true,"question-5":true,"question-6":true,"question-7":true,"question-8":true,"random":true,"rec-sys":true,"related-link":true,"related-media":true,"Road to the Olympic Games":true,"Rowing":true,"Rugby":true,"Saskatchewan":true,"Saskatoon":true,"Science":true,"search":true,"secondary-navigation":true,"secondary-related":true,"Show Jumping":true,"Skiing":true,"Sliding":true,"Snowboarding":true,"Soccer":true,"Softball":true,"sort":true,"Speed Skating":true,"Sports":true,"Sudbury":true,"Surfing":true,"TV Shows":true,"Technology and Science":true,"Tennis":true,"Thunder Bay":true,"Toronto":true,"Track and Field":true,"trending":true,"Volleyball":true,"weather-widget":true,"Windsor":true,"World":true},"position":{"pattern":"^(?:[1-9]|[1-9][0-9]|[1-9][0-9]{2})$"},"value":{"off":true,"on":true,"manual-curation":true,"reverse-chronological":true,"trending":true,"topics":true}},"webviewapps":{"news-ios-app":true,"news-android-app":true,"sports-ios-app":true,"sports-android-app":true,"listen-ios-app":true,"listen-android-app":true}}}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Metadata allowlist ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/metadata-allowlist.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.metadataAllowlist=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to metadata allowlist URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/metadata-allowlist.json timed out.")}})}}(),!function(){"use strict";try{CBC.APP.SC.dmpAudienceslist=JSON.parse('{"featureToggle":{"blueconic":{"globalDisableUserTracking":false},"lotame":{}},"masks":{"Ads":1,"Amplitude":2,"Conductrics":4,"Dfp":8},"audiences":{"339250":2,"345031":8,"357908":4,"381626":8,"381627":8,"418946":8,"422188":8,"424151":8,"450457":4,"450470":4,"451377":4,"462099":8,"471846":8,"471847":8,"492233":8,"494342":8,"494344":8,"494346":8,"494347":8,"494349":8,"494351":8,"494352":8,"494748":8,"494785":8,"494789":8,"494790":8,"494792":8,"494793":8,"494794":8,"495733":8,"497524":1,"501028":8,"501031":8,"501032":8,"501033":8,"501035":8,"501036":8,"501037":8,"501038":8,"501039":8,"501043":8,"501051":8,"501052":8,"502778":8,"503763":8,"505409":8,"505798":8,"506190":8,"506593":8,"507029":8,"508498":6,"508617":8,"509471":8,"509830":8,"510213":8,"513413":8,"513578":8,"513582":8,"513585":8,"513587":8,"513931":8,"514158":8,"514680":8,"515988":8,"515992":8,"515995":8,"516002":8,"517295":8,"517556":8,"518261":8,"518326":8,"518735":8,"519440":8,"519466":8,"519476":8,"519691":8,"520071":8,"521862":8,"522960":8,"522961":8,"524218":8,"525280":8,"525284":8,"525287":8,"525290":8,"527178":8,"527226":8,"527240":8,"527243":8,"527245":8,"527257":8,"528184":1,"528185":1,"529402":8,"531119":8,"531286":8,"534035":8,"534057":8,"534380":8,"534429":8,"535218":8,"537155":8,"537181":8,"537334":8,"537461":8,"537751":8,"537833":8,"537834":8,"537836":10,"537841":8,"537842":8,"537873":8,"537875":8,"537876":8,"537882":8,"538146":8,"538381":8,"538387":8,"538388":8,"538389":8,"538480":8,"538504":8,"538675":8,"538832":8,"538912":8,"539221":8,"539749":8,"539755":8,"539945":8,"540066":8,"540112":8,"541831":8,"542872":8,"542877":8,"542882":8,"543800":8,"545682":8,"548179":1,"548739":8,"548740":8,"548741":8,"550345":8,"552738":8,"552863":1,"552865":1,"552928":8,"552932":8,"552942":8,"553272":8,"553610":8,"554435":8,"556284":8,"560299":8,"565388":8,"572781":8,"574221":3,"574755":1,"575784":8,"577820":8,"579366":8,"579367":8,"579368":8,"579369":8,"583479":8,"583486":8,"583586":8,"583587":8,"585062":8,"585063":8,"589987":1,"589988":1,"589989":1,"590004":1,"593056":8,"593691":8,"593693":8,"593711":1,"593781":1,"593802":1,"593803":1,"593844":8,"593846":8,"593889":8,"593898":8,"593899":8,"593900":8,"601476":1,"601480":8,"601486":8,"603145":8,"603173":8,"603873":8,"603874":8,"604032":8,"604918":3,"608813":3,"610236":8,"611038":8,"626331":8,"628180":8,"628181":8,"628182":8,"628183":8,"628536":8,"629480":8,"637172":8,"637173":8,"637174":8,"637175":8,"637765":8,"637766":8,"637768":8,"638416":8,"655700":8,"656017":8,"656018":8,"656027":8,"661142":8,"661144":8,"663131":8,"663146":8,"665553":1,"667463":8,"667828":8,"668255":8,"668256":8,"668301":8,"668302":8,"668307":8,"668309":8,"669162":8,"669221":8,"671618":8,"671666":8,"671711":2,"672649":3,"674161":1,"677994":1,"677995":1,"682345":8,"682388":8,"682390":8,"682666":8,"682888":8,"682892":8,"683095":8,"683110":8,"683122":8,"683124":8,"683125":8,"683129":8,"683131":8,"683136":8,"683138":8,"683141":8,"683142":8,"683151":8,"684122":8,"684127":8,"684637":8,"685869":8,"685870":8,"690145":8,"690748":2,"690760":5,"692992":8,"739808":8,"739809":8,"741865":8,"756657":1,"757933":1,"758689":1,"761381":8,"761383":8,"761384":8,"761385":8,"762706":8,"767518":8,"772980":2,"782242":8,"783555":8,"785938":8,"786188":8,"788402":8,"801371":8,"801373":8,"801376":8,"801377":8,"801379":8,"801382":8,"815908":8,"816652":8,"816654":8,"817653":8,"821709":8,"821733":8,"822789":8,"822793":8,"823830":8,"824871":8,"824877":8,"832932":8,"832945":8,"834263":3,"835822":1,"835823":1,"836854":8,"837179":8,"837181":8,"837201":8,"837202":8,"837564":8,"837565":8,"837566":8,"837568":8,"838649":1,"838652":1,"838653":1,"838655":1,"838656":1,"838657":1,"838659":1,"838661":1,"838672":1,"838673":1,"838675":1,"838676":1,"838946":8,"838947":8,"839393":1,"839395":1,"839407":1,"839763":8,"839764":8,"839765":8,"839766":8,"840279":8,"840290":8,"840944":8,"840947":8,"840953":8,"840974":8,"845643":8,"845644":8,"845645":8,"845646":8,"845647":8,"845648":8,"846715":8,"846716":8,"846717":8,"846718":8,"846719":8,"846720":8,"850179":1,"852065":8,"854343":8,"855836":3,"855839":3,"856575":1,"860609":8,"860610":8,"860611":8,"860612":8,"860618":8,"860619":8,"860621":8,"860623":8,"860624":8,"860625":8,"860626":8,"860627":8,"861239":8,"861241":8,"861244":8,"861869":8,"861874":8,"861875":8,"861876":8,"861877":8,"861878":8,"861879":8,"861881":8,"861882":8,"861883":8,"861885":8,"862070":8,"862088":8,"862880":2,"862881":2,"862885":2,"862889":2,"862892":2,"864329":8,"867452":8,"867593":8,"867604":8,"868249":8,"868670":8,"875178":10,"875192":8,"875194":10,"875195":10,"875199":10,"875200":10,"875201":10,"875202":10,"875621":2,"875626":2,"876560":10,"876565":10,"878147":8,"883349":10,"883482":8,"884301":10,"915942":8,"922488":8,"931130":8,"934757":8,"935546":8,"944388":8,"944392":8,"944440":8,"947044":8,"948524":8,"948709":8,"948755":8,"949026":8,"949236":8,"949242":8,"949243":8,"949245":8,"949246":8,"949907":8,"949908":8,"949910":8,"949912":8,"949913":8,"950550":8,"950564":8,"951370":8,"951371":8,"952484":8,"952485":8,"952489":8,"952496":8,"977334":8,"979938":8,"980360":8,"981044":8,"984423":8,"984674":8,"987761":8,"994741":8,"996469":8,"998639":8,"1004076":8,"1010592":8}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: DMP Audiences ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/dmp/dmp-audiences.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.dmpAudienceslist=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to DMP Audiences URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/dmp/dmp-audiences.json timed out.")}})}}(),!function(){"use strict";try{CBC.APP.SC.LOCALGEO=JSON.parse('{"disclaimer":"be a good citizen and store this output in the device session cache","network":{"bandwidth":"5000","throughput":"vhigh"},"geo":{"city":"BARCELONA","continent":"EU","country":"ES","region":"CT","timezone":"GMT+1","latitude":"41.40","longitude":"2.17"}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Geo ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/geo.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.LOCALGEO=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:500,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/geo.json timed out.")}})}}(),!function(){"use strict";try{CBC.APP.ANA.SEARCHDEFAULT=JSON.parse('{"cbc-keywords":7,"cbc-keywordscollections":7,"cbc-keywordslocation":4,"cbc-keywordsorganization":3,"cbc-keywordsperson":5}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Web AB Tests ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/search-default.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.ANA.SEARCHDEFAULT=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:500,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/search-default.json timed out.")}})}}(),!function(){"use strict";try{CBC.APP.ANA.ABTESTSCONFIG=JSON.parse('{"tests":{"main-search":{"id":"a-FYaT0CWKbQ","scope":{"url":"www.cbc.ca/search"},"variants":{"A":{"content":{"cbc-keywords":7,"cbc-keywordscollections":7,"cbc-keywordslocation":4,"cbc-keywordsorganization":3,"cbc-keywordsperson":5,"cbc-keywordssubject":7,"cbc-publishedtime":30},"description":"status-quo"},"B":{"content":{"cbc-keywords":7,"cbc-keywordscollections":7,"cbc-keywordslocation":4,"cbc-keywordsorganization":3,"cbc-keywordsperson":5},"description":"new boost"}}},"video-swim-lane":{"id":"undefined","scope":{"url":"www.cbc.ca/search"},"variants":{"A":{"content":{"title":3,"keyword":5,"_all":1},"description":"qa boost 1"},"B":{"content":{"title":1,"keyword":1,"_all":1,"cbc-publishedtime":30},"description":"qa boost 2"}}},"story-page-recsys":{"id":"a-VBrJyBK44Q","scope":{"url":"www.cbc.ca/"},"variants":{"A":{"recommendedType":"all-articles","description":"current-recsys-algorithm"},"B":{"recommendedType":"all-articles-variant","description":"new-recsys-algorithm"}}},"lineup-optimization-new-brunswick":{"id":"a-zwiicxUr2v","scope":{"url":"www.cbc.ca/news/canada/new-brunswick"},"goals":{"clicked":"api-clicked-lineup-card"},"variants":{"A":{"label":"no-change","content":"news-canada-new-brunswick","description":"manual-curation"},"B":{"label":"new-lineup","content":"news-canada-new-brunswick-variant","description":"reverse-chronology"}}},"lineup-optimization-edmonton":{"id":"a-Dn1dJnGJkL","scope":{"url":"www.cbc.ca/news/canada/edmonton"},"goals":{"clicked":"api-clicked-lineup-card-edmonton"},"variants":{"A":{"label":"new-lineup","content":"news-canada-edmonton-hybrid","description":"popularity-and-reverse-chronology"},"B":{"label":"new-lineup","content":"news-canada-edmonton-variant-hybrid","description":"region-specific-curation"}}},"lineup-optimization-british-columbia":{"id":"a-0HJeAGEsFv","scope":{"url":"www.cbc.ca/news/canada/british-columbia"},"goals":{"clicked":"api-clicked-lineup-card-bc"},"variants":{"A":{"label":"no-change","content":"news-canada-british-columbia","description":"manual-curation"},"B":{"label":"new-lineup","content":"news-canada-british-columbia-v2-hybrid","description":"popularity-and-reverse-chronology"}}},"lineup-optimization-manitoba":{"id":"a-3PJ8xEtzM5","scope":{"url":"www.cbc.ca/news/canada/manitoba"},"goals":{"clicked":"api-clicked-lineup-card-manitoba"},"variants":{"A":{"label":"new-lineup","content":"news-canada-manitoba-hybrid","description":"reverse-chronology"},"B":{"label":"new-lineup","content":"news-canada-manitoba-v2-hybrid","description":"popularity-and-reverse-chronology"}}},"lineup-optimization-thunder-bay":{"id":"a-qE1ZHoUI33","scope":{"url":"www.cbc.ca/news/canada/thunder-bay"},"goals":{"clicked":"api-clicked-lineup-card-thunder-bay"},"variants":{"A":{"label":"new-lineup","content":"news-canada-thunder-bay-hybrid","description":"popularity-and-reverse-chronology"},"B":{"label":"new-lineup","content":"news-canada-thunder-bay-variant-hybrid","description":"region-specific-curation"}}},"lineup-optimization-toronto":{"id":"a-WAbsihoKBt","scope":{"url":"www.cbc.ca/news/canada/toronto"},"goals":{"clicked":"api-clicked-lineup-card-toronto"},"variants":{"A":{"label":"no-change","content":"news-canada-toronto","description":"manual-curation"},"B":{"label":"new-lineup","content":"news-canada-toronto-hybrid","description":"popularity-and-reverse-chronology"}}},"lineup-optimization-montreal":{"id":"a-1gpg7gcPHt","scope":{"url":"www.cbc.ca/news/canada/montreal"},"goals":{"clicked":"api-clicked-lineup-card-montreal"},"variants":{"A":{"label":"new-lineup","content":"news-canada-montreal-hybrid","description":"popularity-and-reverse-chronology"},"B":{"label":"new-lineup","content":"news-canada-montreal-variant-hybrid","description":"region-specific-curation"}}}}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: AB Tests Config ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/ab-tests-config.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.ANA.ABTESTSCONFIG=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:500,)}})}}()}(),CBC.APP.SC.DEBUG=!1,s_account||""),ottTest=new RegExp(/^https?:\/\/(gem|watch).*/),s_cbc_sitecatalyst=(void 0!==window.CBC.APP.SC.masterSwitch.omniture?void 0!==window.CBC.APP.SC.masterSwitch.omniture.saccount&&(s_account=void 0!==window.CBC.APP.SC.masterSwitch.omniture.watch&&ottTest.test(document.location.href)?s_account||window.CBC.APP.SC.masterSwitch.omniture.watch:s_account||window.CBC.APP.SC.masterSwitch.omniture.saccount):s_account=(ottTest.test(document.location.href),s_account||"cbc-production"),window.s_gi(s_account)),__org_id__="951720B3535680CB0A490D45@AdobeOrg",__trackingServer__="metrics.cbc.ca",__trackingServerSecure__="smetrics.cbc.ca",e=function(){"use stricfunction n(e,t){if(e===t)return 0;e=e.toString().split("."),t=t.toString().split(".");1}(e.concat(t))){for(var n=e,r=t;n.length<r.length;)n.push("0");for(;r.length<n.length;)r.push("0");for(var i=e,o=t,a=0;a<i.length;a++){var s=parseInt(i[a],10),c=parseInt(o[a],10);if(c<s)return 1;if(s<c)return-1}return 0}return Nk}function t}function e(n){return function(e,t){if(D(e))return A(Pe),Object.assign(y,S(T(e),n)),t||r(),f;throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.")}}var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=i.doesOptInApply,a=i.previousPermissions,s=i.preOptInApprovals,c=i.isOptInStorageEnabled,u=i.optInCookieDomain,l=i.optInStorageExpiry,d=i.isIabContext,i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cookies,a=J(a),p=(z(a,"Invalid `previousPermissions`!"),z(s,"Invalid `preOptInApprovals`!}}({isEnabled:!!c,cookieName:"adobeujs-optin"},{cookies:i})),f=this,h=O(f),_=P(),c=W(a),g=W(s),i=p.get(),m={},v=(a=i,N(c)||a&&N(a)?w:be),C=(a=g,c=c,i=i,n=S(I,!o),o?Object.assign({},n,a,c,i):n),y=L(C),A=function(e){return v=e}e};f.deny=e(!1),f.approve=e(!0),f.denyAll=f.deny.bind(f,I),f.approveAll=f.approve.bind(f,I),f.isApprov)},f.isPreApprov)},f.fetchPermission},f.comple)},f.registerPlug)},f.execute=Q(m),Object.defineProperties(f,{permissions:{get:function(){return C}},status:{get:function(){return v}},Categories:{get:function(){return E}},doesOptInApply:{go}},isPending:{get:function(){return f.status===be}},isComplete:{gw}},__plugins:{g)}},isIabContext:{get:function(){return d}}})}function u(e,t){var n;return void 0===t?e:(n=setTimeo)},)})}function l(){if(window.__cmp)return window.__cmp;var i,o,e=window;if(e!==window.top){for(;!i;){e=e.parent;try{e.frames.__cmpLocator&&(i=e)}catch(e){}if(e===window.top)break}if(i)return o={},window.__c)},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}t.__cmpReturn&&(t=t.__cmpReturn,o[t.callId])&&(o[t.callId](t.returnValue,t.success),delete o[t.callId])},!1),window.__cmp}g.error("__cmp not found")}var R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assigfunction x(r,i){this.par}},this.isInvalid=function(e){var t,n=this.parse(e);return!n||Object.keys(n).length<2||(t=r!==n.orgID,e=!i||e.origin!==i,n=-1===Object.keys(de).indexOf(n.prefix),t)||e||n},this.se}}}function b(e,t,n, l=this,d=t.whitelistParentDomain,p=(l.state={ALLFIELDS:{}},l.version=n.version,l.marketingCloudOrgID=e,l.cookieDomain=n.cookieDomain||"",!(l._instanceType="child")),f=new x(e,d);l.callbackRegistry=le(),l.in)},l.findFie]},l.messageParent=a,l.setStateAndPubli)}}function q(o,i){function t(i){return function e(t){n=[],o._loading&&Object.keys(o._loading).forEa)});var n,r=n.length?n:null;r?(r=_e[r[0]],o[r](e,!0)):i()}}function r(e,t){n={},Object.keys(he).forEa)});var n,r=n;i.send(e,t,)}retufunction H(r,e){return{corsMetadata:(t="none",n=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?t="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(n=!1),0<Object.prototype.toString.call(R.HTMLElement).indexOf("Constructor"))&&(n=!1),{corsType:t,corsCookiesEnabled:n}),getCORSInstan]},fireCORS:function(o,e,t){var a=this;e&&(o.loadErrorHandler=e);try{var n=this.getCORSInstance();n.open("get",o.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=r.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e,t=this.responseText;try{if((e=JSON.parse(t))!==Object(e))return void a.handleCORSError(o,null,"Response is not JSON")}catch(t){return void a.handleCORSError(o,t,"Error parsing response as JSON")}try{for(var n=o.callback,r=R,i=0;i<n.length;i++)r=r[n[i]];r(e)}catch(t){a.handleCORSError(o,t,"Error forming callback function")}}}),n.onerror=function(e){a.handleCORSError(o,e,"onerror")},n.ontimeo)},n.send(),r._log.requests.push(o.corsUrl)}catch(e){this.handleCORSError(o,e,"try-catch")}},handleCORSErr)}};var t,n}function O(e){var i={};return e.}},e.o)},e.publi)},e.publish}function P(){var i={};return i.callbacks=Object.create(null),i.add=function(e,t){var n,r;if("function"==typeof(n=t)||n instanceof Array&&n.length)return i.callbacks[e]=i.callbacks[e]||[],r=i.callbacks[e].push(t))};throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.")},i.execu}},i.executeA)},i.hasCallbac)}e}function B(t){var e=Object.keys(t);return!!e.length&&e.eve]function J(e){return m(e,"function")?e())}function X(e){return Ne(e).filtt})}function Q(s){retu}}}function $(e,t){return e="SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t?e:Oe()}function ee(r,n,}function o(e){var e=e.reduce(function(e,t){var n,r=t[0],t=t[1];return e=null!=t&&t!==T?(n=(n=e)&&n+"|")+(r+"="+encodeURIComponent(t)):e},"");return(e=(e=e)&&e+"|")+"TS="+k.getTimestampInSecondsf(!e||e.split("").reverse().join("")!==r)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.]}var h,d,p,f,_,g=this,m=window.adobe,v="",C=!1,y=!1,A=(g.version="4.4.0",R),b=A.Visitor,P=(b.version=g.version,b.AuthState=re,b.OptOut=ie,A.s_c_in||(A.s_c_il=[],A.s_c_in=0),g._c="Visitor",g._il=A.s_c_il,g._in=A.s_c_in,g._il[g._in]=g,A.s_c_in++,g._instanceType="regular",g._log={requests:[]},g.marketingCloudOrgID=r,g.cookieName="AMCV_"+r,g.sessionCookieName="AMCVS_"+r,g.cookieDomain=V(),g.loadSSL=0<=A.location.protocol.toLowerCase().indexOf("https"),g.loadTimeout=3e4,g.CORSErrors=[],g.marketingCloudServer=g.audienceManagerServer="dpm.demdex.net",g.sdidParamExpiry=30,null),S="MCMID",w="MCAID",E="AAM",I="MCAAMB",T="NONE",D=H(g),N=(g.FIELDS=ne,g.cookieRead=function(e){return F.get(e)},g.cookieWri)},g.resetSta)},g._isAllowedDone=!1,g._isAllowedFlag=!1,g.isAllowed=function(){return!g._isAllowedDone&&(g._isAllowedDone=!0,g.cookieRead(g.cookieName)||g.cookieWrite(g.cookieName,"T",1))&&(g._isAllowedFlag=!0),"T"===g.cookieRead(g.cookieName)&&g._helpers.removeCookie(g.cookieName),g._isAllowedFlag},g.setMarketingCloudVisitorID=function(e){g._setMarketingCloudFields(e)},g._use1stPartyMarketingCloudServer=!1,g.getMarketingCloudVisitor)},g.getVisitorValu)},g._currentCustomerIDs={},g._customerIDsHashChanged=!1,g._newCustomerIDsHash="",g.setCustomerI}},g.getCustomerIDs=function(){g._readVisitor();var e,t,n={};for(e in g._currentCustomerIDs)l(e)&&(t=g._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),null!=t.authState?n[e].authState=t.authState:n[e].authState=b.AuthState.UNKNOWN,t.hashType)&&(n[e].hashType=t.hashType);return n},g.setAnalyticsVisitorID=function(e){g._setAnalyticsFields(e)},g.getAnalyticsVisitorID=function(t,e,n){var r,i,o,a,s;return k.isTrackingServerPopulated()||n?(o="",(o=n?o:g.getMarketingCloudVisitorID(function(e){g.getAnalyticsVisitorID(t,!0)}))||n?(i=n?g.marketingCloudServer:g.trackingServer,s="",g.loadSSL&&(n?g.marketingCloudServerSecure&&(i=g.marketingCloudServerSecure):g.trackingServerSecure&&(i=g.trackingServerSecure)),r={},i&&(i="http"+(g.loadSSL?"s":"")+"://"+i+"/id",o="d_visid_ver="+g.version+"&mcorgid="+encodeURIComponent(g.marketingCloudOrgID)+(o?"&mid="+encodeURIComponent(o):"")+(g.idSyncDisable3rdPartySyncing||g.disableThirdPartyCookies?"&d_coppa=true":""),a=["s_c_il",g._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"],s=i+"?"+o+"&callback=s_c_il%5B"+g._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",r.corsUrl=i+"?"+o,r.callback=a),r.url=s,g._getRemoteField(n?S:w,s,t,e,r)):""):(g._callCallback(t,[""]),"")},g.getAudienceManagerLocationHint=function(t,e){if(g.getMarketingCloudVisitorID(function(e){g.getAudienceManagerLocationHint(t,!0)})){var n,r=g._getField(w);if((r=!r&&k.isTrackingServerPopulated()?g.getAnalyticsVisitorID(function(e){g.getAudienceManagerLocationHint(t,!0)}):r)||!k.isTrackingServerPopulated())return n=(r=g._getAudienceManagerURLData()).url,g._getRemoteField("MCAAMLH",n,t,e,r)}return""},g.getLocationHint=g.getAudienceManagerLocationHint,g.getAudienceManagerBlob=function(t,e){if(g.getMarketingCloudVisitorID(function(e){g.getAudienceManagerBlob(t,!0)})){var n,r=g._getField(w);if((r=!r&&k.isTrackingServerPopulated()?g.getAnalyticsVisitorID(function(e){g.getAudienceManagerBlob(t,!0)}):r)||!k.isTrackingServerPopulated())return n=(r=g._getAudienceManagerURLData()).url,g._customerIDsHashChanged&&g._setFieldExpire(I,-1),g._getRemoteField(I,n,t,e,r)}return""},g._supplementalDataIDCurrent="",g._supplementalDataIDCurrentConsumed={},g._supplementalDataIDLast="",g._supplementalDataIDLastConsumed={},!(g.getSupplementalDataID=function(e,t){g._supplementalDataIDCurrent||t||(g._supplementalDataIDCurrent=g._generateID(1));var n=g._supplementalDataIDCurrent;return g._supplementalDataIDLast&&!g._supplementalDataIDLastConsumed[e]?(n=g._supplementalDataIDLast,g._supplementalDataIDLastConsumed[e]=!0):n&&(g._supplementalDataIDCurrentConsumed[e]&&(g._supplementalDataIDLast=g._supplementalDataIDCurrent,g._supplementalDataIDLastConsumed=g._supplementalDataIDCurrentConsumed,g._supplementalDataIDCurrent=n=t?"":g._generateID(1),g._supplementalDataIDCurrentConsumed={}),n)&&(g._supplementalDataIDCurrentConsumed[e]=!0),n})),k=(g._liberatedOptOut=null,g.getOptOut=function(e,t){var n=g._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return c()?g._getRemoteField("MCOPTOUT",r,e,t,n):(g._registerCallback("liberatedOptOut",e),null!==g._liberatedOptOut?(g._callAllCallbacks("liberatedOptOut",[g._liberatedOptOut]),N=!1,g._liberatedOptOut):(N||(N=!0,r="liberatedGetOptOut",n.corsUrl=n.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),n.callback=[r],R[1},D.fireCORS(n)),null))},g.isOptedOl},g._fields=null,g._fieldsExpired=null,g._han},g._generateID=K,g._generateLocalMe},g._callbackList=null,g._callCallba}},g._registerCallba)},g._callAllCallbac}},g._addQuerystringParam=function(e,t,n,r){var i,t=encodeURIComponent(t)+"="+encodeURIComponent(n),n=k.parseHash(e),e=k.hashlessUrl(e);return-1===e.indexOf("?")?e+"?"+t+n:(i=(e=e.split("?"))[0]+"?",e=e[1],i+k.addQueryParamAtLocation(e,t,r)+n)},g._extractParamFromU)},g._parseAdobeMcFromUrl=t(G.ADOBE_MC),g._parseAdobeMcSdidFromUrl=t(G.ADOBE_MC_SDID),g._attemptToPopulateSdidFromU)},g._attemptToPopulateIdsFromU)},g._mergeServerStar},g._timeout=null,g._loadDa)},g._clearTimeo)},g._settingsDigest=0,g._getSettingsDiget},g._readVisitorDone=!1,g._readVisitor=function(){if(!g._readVisitorDone){g._readVisitorDone=!0;var e,t,n,r,i,o=g._getSettingsDigest(),a=!1,s=g.cookieRead(g.cookieName),c=new Date;if(s||y||g.discardTrackingServerECID||(s=g.cookieRead(G.FIRST_PARTY_SERVER_COOKIE)),null==g._fields&&(g._fields={}),s&&"T"!==s)for((s=s.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(s[0],10)!==o&&(a=!0),s.shift()),s.length%2==1&&s.pop(),e=0;e<s.length;e+=2)t=(i=s[e].split("-"))[0],n=s[e+1],i=1<i.length?(r=parseInt(i[1],10),0<i[1].indexOf("s")):(r=0,!1),a&&("MCCIDH"===t&&(n=""),0<r)&&(r=c.getTime()/1e3-60),t&&n&&(g._setField(t,n,1),0<r)&&(g._fields["expire"+t]=r+(i?"s":""),c.getTime()>=1e3*r||i&&!g.cookieRead(g.sessionCookieName))&&(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[t]=!0);!g._getField(w)&&k.isTrackingServerPopulated()&&(s=g.cookieRead("s_vi"))&&1<(s=s.split("|")).length&&0<=s[0].indexOf("v1")&&(n=0<=(e=(n=s[1]).indexOf("["))?n.substring(0,e):n)&&n.match(G.VALID_VISITOR_ID_REGEX)&&g._setField(w,n)}},g._appendVersione},g._writeVisit)},g._getFie]},g._setFie)},g._getFieldLil},g._setFieldLi)},g._getFieldMl},g._setFieldM)},g._setFieldExpire=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),null==g._fields&&(g._fields={}),g._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),t<0?(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[e]=!0):g._fieldsExpired&&(g._fieldsExpired[e]=!1),n&&!g.cookieRead(g.sessionCookieName)&&g.cookieWrite(g.sessionCookieName,"1")},g._findVisitore},g._setFields=function(e,t){if(g._clearTimeout(e),null!=g._loading&&(g._loading[e]=!1),B.fieldGroupObj[e]&&B.setState(e,!1),"MC"===e){!0!==B.isClientSideMarketingCloudVisitorID&&(B.isClientSideMarketingCloudVisitorID=!1);var n=g._getField(S);if(!n||g.overwriteCrossDomainMCIDAndAID){if(!(n="object"===M(t)&&t.mid?t.mid:g._findVisitorID(t))){if(g._use1stPartyMarketingCloudServer&&!g.tried1stPartyMarketingCloudServer)return g.tried1stPartyMarketingCloudServer=!0,void g.getAnalyticsVisitorID(null,!1,!0);n=g._generateLocalMID()}g._setField(S,n)}n&&n!==T||(n=""),"object"===M(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&g._setFields(E,t),g._use1stPartyMarketingCloudServer)&&t.mid&&g._setFields("A",{id:t.id}),g._callAllCallbacks(S,[n])}var r,i;e===E&&"object"===M(t)&&(n=604800,null!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10)),r=O.getRegionAndCheckIfChanged(t,n),g._callAllCallbacks("MCAAMLH",[r]),r=g._getField(I),(t.d_blob||t.blob)&&(r=(r=t.d_blob)||t.blob,g._setFieldExpire(I,n),g._setField(I,r)),g._callAllCallbacks(I,[r=r||""]),!t.error_msg)&&g._newCustomerIDsHash&&g._setField("MCCIDH",g._newCustomerIDsHash),"A"===e&&((n=g._getField(w))&&!g.overwriteCrossDomainMCIDAndAID||((n=g._findVisitorID(t))?n!==T&&g._setFieldExpire(I,-1):n=T,g._setField(w,n)),g._callAllCallbacks(w,[n=n&&n!==T?n:""])),g.idSyncDisableSyncs||g.disableIdSyncs?O.idCallNotProcesssed=!0:(O.idCallNotProcesssed=!1,(r={}).ibs=t.ibs,r.subdomain=t.subdomain,O.processIDCallData(r)),t===Object(t)&&(c()&&g.isAllowed()&&(i=g._getField("MCOPTOUT")),i=(e=U.parseOptOut(t,i,T)).optOut,n=e.d_ottl,g._setFieldExpire("MCOPTOUT",n,!0),g._setField("MCOPTOUT",i),g._callAllCallbacks("MCOPTOUT",[i]))},g._loading=null,g._getRemoteFiea},g._setMarketingCloudFields=function(e){g._readVisitor(),g._setFields("MC",e)},g._mapCustomerI)},g._setAnalyticsFiel)},g._setAudienceManagerFiel)},g._getAudienceManagerURLDa}},g.appendVisitorIDs}},g.appendSupplementalDataID}},{parseHa"},hashlessUe},addQueryParamAtLocati)},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===w&&(t=t||g.trackingServer,n=n||g.trackingServerSecure,!("string"!=typeof(e=g.loadSSL?n:t)||!e.length))&&e.indexOf("2o7.net")<0&&e.indexOf("omtrdc.net")<0},isObje)},removeCook)},isTrackingServerPopulate},getTimestampInSecon)},parsePipeDelimetedKeyValu)},generateRandomStrit},normalizeBoolee},parseBoolel},replaceMethodsWithFunctie}}),O=(g._helpers=k,h=g,d=b,p=R.document,{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHo]},subdomain:null,url:null,getUe},checkDPIframeS)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:G.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePrelimina)},readyToAttachIfrae},attachIfrar},fireIframeLoadedCallbac]},requestToProce)},getRegionAndCheckIfChanged:function(e,t){var n=h._getField("MCAAMLH"),e=e.d_region||e.dcs_region;return n?e&&(h._setFieldExpire("MCAAMLH",t),h._setField("MCAAMLH",e),parseInt(n,10)!==e)&&(this.regionChanged=!0,this.timesRegionChanged++,h._setField("MCSYNCSOP",""),h._setField("MCSYNCS",""),n=e):(n=e)&&(h._setFieldExpire("MCAAMLH",t),h._setField("MCAAMLH",n)),n=n||""},processSyncOnPa)},proce)},checkFirstPartyCookie:function(e,t,n){var n="syncOnPage"===n,r=n?"MCSYNCSOP":"MCSYNCS";h._readVisitor();var i,o,a=h._getField(r),s=Math.ceil((new Date).getTime()/G.MILLIS_PER_DAY);a?(i=a.split("*"),o=(a=this.pruneSyncData(i,e.id,s)).dataPresent,a=a.dataValid,o&&a||this.fireSync(n,e,t,i,r,s)):this.fireSync(n,e,t,i=[],r,s)},pruneSyncDa}},manageSyncsSi)},fireSy)},addMessa)},setSyncTrackingDa)},sendMessag1},postMessa)},receiveMessa)},processIDCallDa)},canMakeSyncIDCaS},attachIframeAS)}}),B=(g._destinationPublishing=O,g.timeoutMetricsLog=[],{isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setSta}}});if(g.isClientSideMarketingCloudVisitorID=function(){return B.isClientSideMarketingCloudVisitorID},g.MCIDCallTimedOut=function(){return B.MCIDCallTimedOut},g.AnalyticsIDCallTimedOut=function(){return B.AnalyticsIDCallTimedOut},g.AAMIDCallTimedOut=function(){return B.AAMIDCallTimedOut},g.idSyncGetOnPageSyncIn)},g.idSyncByURL=function(e){var t,n,r,i,o;if(!g.isOptedOut())return i=(r=e||{}).minutesToLive,o="",(g.idSyncDisableSyncs||g.disableIdSyncs)&&(o=o||"Error: id syncs have been disabled"),"string"==typeof r.dpid&&r.dpid.length||(o=o||"Error: config.dpid is empty"),"string"==typeof r.url&&r.url.length||(o=o||"Error: config.url is empty"),void 0===i?i=20160:(i=parseInt(i,10),(isNaN(i)||i<=0)&&(o=o||"Error: config.minutesToLive needs to be a positive number")),(r={error:o,ttl:i}).error||(o=e.url,i=encodeURIComponent,t=O,o=o.replace(/^https:/,"").replace(/^http:/,""),n=U.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),e=["ibs",i(e.dpid),"img",i(o),r.ttl,"",n],t.addMessage(e.join("|")),t.requestToProcess(),"Successfully queued")},g.idSyncByDataSour"},_=O,(f=g).publishDestinations=function(e){var t=arguments[1],n=arguments[2];try{n="function"==typeof n?n:e.callback}catch(e){n=function(){}}var r=_;if(r.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void n({error:"subdomain is not a populated string."});if(!(t instanceof Array&&t.length))return void n({error:"messages is not a populated array."});var i=!1;if(t.forEa)}),!i)return void n({error:"None of the messages are populated strings."})}else{if(!U.isObject(e))return void n({error:"Invalid parameters passed."});t=e;if("string"!=typeof(e=t.subdomain)||!e.length)return void n({error:"config.subdomain is not a populated string."});t=t.urlDestinations;if(!(t instanceof Array&&t.length))return void n({error:"config.urlDestinations is not a populated array."});var o=[];t.forEa)})}()}r.iframe?(n({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!f.subdomain&&f._getField("MCMID")?(r.subdomain=e,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):n({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.pu)})}else n({error:"The destination publishing iframe is disabled in the Visitor library."})},g._getCookieVersil},g._resetAmcvCook)},g.setAsCoopSafe=function(){P=!0},g.setAsCoopUnsafe=function(){P=!1},g.configs=Object.create(null),k.isObject(n))for(var L in n)l(L)&&(g[L]=n[L],g.configs[L]=n[L]);[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEa}}),g.init=function(){if(g.configs.doesOptInApply&&(!m.optIn.isComplete||!c()))return m.optIn.fetchPermissions(s,!0);if(k.isObject(n)?(g.idSyncContainerID=g.idSyncContainerID||0,P="boolean"==typeof g.isCoopSafe?g.isCoopSafe:k.parseBoolean(g.isCoopSafe),g.resetBeforeVersion&&g._resetAmcvCookie(g.resetBeforeVersion),g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl(),g._readVisitor(),e=g._getField("MCIDTS"),t=Math.ceil((new Date).getTime()/G.MILLIS_PER_DAY),g.idSyncDisableSyncs||g.disableIdSyncs||!O.canMakeSyncIDCall(e,t)||(g._setFieldExpire(I,-1),g._setField("MCIDTS",t)),g.getMarketingCloudVisitorID(),g.getAudienceManagerLocationHint(),g.getAudienceManagerBlob(),g._mergeServerState(g.serverState)):(g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl()),!g.idSyncDisableSyncs&&!g.disableIdSyncs){O.checkDPIframeSrc();A.addEventListener("loa)});try{j.receiveMessa)},O.iframeHost)}catch(e){}}var e,t;g.whitelistIframeDomains&&G.POST_MESSAGE_ENABLED&&(g.whitelistIframeDomains=g.whitelistIframeDomains instanceof Array?g.whitelistIframeDomains:[g.whitelistIframeDomains],g.whitelistIframeDomains.forEa)}))}}var o,a,c,d={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},p={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},f={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},te={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},ne={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},re={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},ie={GLOBAL:"global"},oe={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ae=d,se=p,ce={CUSTOMERIDS:"getCustomerIDs"},ue=p,U=((c=(a={exports:{}}).exports).isObjectEmph},c.isValueEmp)},c.getIeVersil},c.encodeAndBuildReque)},c.isObje)},c.defineGlobalNamespae},c.plu)},c.parseOptO}},c.normalizeBoolet},a.exports),le=(U.isObjectEmpty,U.isValueEmpty,U.getIeVersion,U.encodeAndBuildRequest,U.isObject,U.defineGlobalNamespace,U.pluck,U.parseOptOut,U.normalizeBoole}}),de=d,pe={0:"prefix",1:"orgID",2:"state"},fe=d,h=d,he=f,_e=p,ge=te,F={g)},set:function(e,t,n){var r,i=s(n,"cookieLifetime"),o=s(n,"expires"),a=s(n,"domain"),n=s(n,"secure")?"Secure":"";return o&&"SESSION"!==i&&"NONE"!==i?(r=""!==t?parseInt(i||0,10):-60)?(o=new Date).setTime(o.getTime()+1e3*r):1===o&&(r=(o=new Date).getYear(),o.setYear(r+2+(r<1900?1900:0))):o=0,e&&"NONE"!==i?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(o?" expires="+o.toGMTString()+";":"")+(a?" domain="+a+";":"")+n,this.get(e)===t):0},remot}},0},)},Ce=!!R.postMessage,j={postMessa)},receiveMessa}}},G={POST_MESSAGE_ENABLED:!!R.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},ye={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},Ae={getConfigNames:function(){return Object.keys(ye)},getConfigs:function(){return ye},normalizeConf)}},be="pending",Pe="changed",w="complete",E={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},_=(e(a={},E.AAM,565),e(a,E.ECID,565),a),Se=(e(d={},E.AAM,[1,2,5]),e(d,E.ECID,[1,2,5]),d),I=(o=E,Object.keys(o).map(function(e){return o[e]})),we=function(){},]},g=n)}("[ADOBE OPT-IN]")t}]})},h})},}},)},k=function(){},)},ke=((r.prototype=Object.create(Error.prototype)).constructor=r,"fetchPermissions"),f=(t.Categories=E,t.TimeoutError=r,Object.freeze({OptIn:t,IabPlugin:function(){function i(e){a[e]=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}var e=this,o=(e.name="iabPlugin",e.version="0.0.1",P()),a={allConsentData:null},t=(e.fetchConsentDa)},e.isApprov)},e.onRegister=function(o){var a=Object.keys(_);e.fetchConsentData({callback:function(e){var t,n=(t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).purposeConsents,r=t.gdprApplies,i=t.vendorConsents;!e&&r&&i&&n&&(a.forEa)}),o.complete())}})}))})})}}})), s},p=f.OptIn,v=(U.defineGlobalNamespace(),window.adobe.OptInCategories=p.Categories,ee.config=Ae,R.Visitor=ee),Be=f.OptIn,Le=f.IabPlugin;return v.getInstance=function(r,e){if(!r)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");r.indexOf("@")<0&&(r+="@AdobeOrg");van}}();if(t)return ))}(e);e=t||{},R.adobe.optIn=R.adobe.optIn||(n=U.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),e=(e=e.optInCookieDomain||e.cookieDomain||V())===window.location.hostname?"":e,n.optInCookieDomain=e,e=new Be(n,{cookies:F}),n.isIabContext&&(n=new Le(window.__cmp),e.registerPlugin(n)),e);var n=r.split("").reverse().join(""),e=new v(r,null,n),i=(U.isObject(t)&&t.cookieDomain&&(e.cookieDomain=t.cookieDomain),R.s_c_il.splice(--R.s_c_in,1),U.getIeVersion());return"number"==typeof i&&i<10?e._helpers.replaceMethodsWithFunction(e,function(){})1}}()&&((i=e).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==i.cookieRead("TEST_AMCV_COOKIE")||(i._helpers.removeCookie("TEST_AMCV_COOKIE"),0))&&R.parent?new b(r,t,e,R.parent):new v(r,t,n),e=null,i.init(),i)},R.addEventListener?R.addEventListener("load",Me):R.attachEvent&&R.attachEvent("onload",Me),v.codeLoadEnd=(new Date).getTime(!0}}(),visitor=Visitor.getInstance(__org_id__,{trackingServer:__trackingServer__,trackingServerSecure:__trackingServerSecure__}),s_cbc_sitecatalyst_init=function(e){var t;e.charSet="UTF-8",e.currencyCode="CAD",e.trackDownloadLinks=!1,e.trackExternalLinks=!1,e.trackInlineStats=!0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx,asx",e.linkInternalFilters="javascript:,cbc.ca",e.linkLeaveQueryString=!1,e.linkTrackVars="events",e.linkTrackEvents="None",e.ssl=!0,e.usePlugins=!0,e.doPlugins=function(e){},e.c_r=e.Util.cookieRead,e.c_w=e.Util.cookieWrite,e.getValOnce=new Function("v","c","e","var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.apl=function(e,t,n,r){var i=0;if(e=e||"",r)for(var o,a=this.split(e,n),s=0;s<a.length;s++)o=a[s],i=i||(1==r?o==t:o.toLowerCase()==t.toLowerCase());return e=i?e:e?e+n+t:t},e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.visitor=Visitor.getInstance(__org_id__),e.visitorNamespace="cbcca",e.trackingServer=__trackingServer__,e.trackingServerSecure=__trackingServerSecure__,e.maxDelay="3000",window.CBC.APP.SC.UTIL.getQueryStringParameterValue("webview",window.document.url)&&(t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("appname",window.document.url),window.CBC.APP.SC.UTIL.getMetadataAllowlist().metadata.allowlist.webviewapps[t])&&(t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("udid",window.document.url))&&(e.visitorID=t)};function AppMeasurement(e){var f=this,d=(f.version="2.17.0",window);d.s_c_in||(d.s_c_il=[],d.s_c_in=0),f._il=d.s_c_il,f._in=d.s_c_in,f._il[f._in]=f,d.s_c_in++,f._c="s_c";var t,n,r,i,h=(h=d.AppMeasurement.ec)||null,l=d;try{for(t=l.parent,n=l.location;t&&t.location&&n&&""+t.location!=""+n&&l.location&&""+t.location!=""+l.location&&t.location.host==n.host;)t=(l=t).parent}catch(e){}{}},f+e},f.repln)},f.escape=function(e){var t,n;if(e)for(e=encodeURIComponent(e),t=0;t<7;t++)n="+~!*()'".substring(t,t+1),0<=e.indexOf(n)&&(e=f.replace(e,n,"%"+n.charCodeAt(0).toString(16).toUpperCase()));return e},f.unesce)},fIa},f.c_r=f.cookieR""},f.c_w=f.cookieWr:0},f))},ft)},f.K=[],f,r},f.delayRe0}},f.setAccount=f")},f.foreachVar=function(e,t){var n,r,i,o="",a=r="";for(f.lightProfileID?(n=f.O,o=(o=f.lightTrackVars)&&","+o+","+f.ka.join(",")+","):(n=f.g,(f.pe||f.linkType)&&(o=f.linkTrackVars,r=f.linkTrackEvents,f.pe)&&(a=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[a])&&(o=f[a].ac,r=f[a].$b),o=o&&","+o+","+f.F.join(",")+",",r&&o&&(o+=",events,")),t=t&&","+t+",",r=0;r<n.length;r++)a=n[r],(i=f[a])&&(!o||0<=o.indexOf(","+a+","))&&(!t||0<=t.indexOf(","+a+","))&&e(a,i)}, u},f.usePostbacks=0,f.Nb=function(){var e,t,n,r,i,o,a,s,c="",u="",l="",d=r="",p=f.T();if(f.lightProfileID?(e=f.O,u=(u=f.lightTrackVars)&&","+u+","+f.ka.join(",")+","):(e=f.g,(f.pe||f.linkType)&&(u=f.linkTrackVars,l=f.linkTrackEvents,f.pe)&&(r=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[r])&&(u=f[r].ac,l=f[r].$b),u=u&&","+u+","+f.F.join(",")+",",l&&(l=","+l+",",u)&&(u+=",events,"),f.events2&&(d+=(""!=d?",":"")+f.events2)),p&&p.getCustomerIDs){if(r=h,i=p.getCustomerIDs())for(t in i)Object.prototype[t]||(n=i[t],"object"==_typeof2(n)&&(r=r||{},n.id&&(r[t+".id"]=n.id),n.authState)&&(r[t+".as"]=n.authState));r&&(c+=f.o("cid",r))}for(f.AudienceManagement&&f.AudienceManagement.isReady()&&(c+=f.o("d",f.AudienceManagement.getEventCallConfigParams())),t=0;t<e.length;t++){if(r=e[t],i=f[r],n=r.substring(0,4),o=r.substring(4),i||("events"==r&&d?(i=d,d=""):"marketingCloudOrgID"==r&&p&&f.V("ECID")&&(i=p.marketingCloudOrgID)),i&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"customerPerspective":r="cp";break;case"marketingCloudOrgID":r="mcorgid";break;case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<i.length&&(f.pageURLRest=i.substring(255),i=i.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",f.ssl&&f.visitorMigrationServerSecure&&(i="");break;case"visitorMigrationServerSecure":r="vmf",!f.ssl&&f.visitorMigrationServer&&(i="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(d&&(i+=(""!=i?",":"")+d),l)for(o=i.split(","),i="",n=0;n<o.length;n++)0<=(s=(a=0<=(s=(a=o[n]).indexOf("="))?a.substring(0,s):a).indexOf(":"))&&(a=a.substring(0,s)),0<=l.indexOf(","+a+",")&&(i+=(i?",":"")+o[n]);break;case"events2":i="";break;case"contextData":c+=f.o("c",f[r],u,r),i="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",f.lightProfileID||(i="");break;case"lightIncrementBy":r="mti",f.lightProfileID||(i="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":f.retrieveLightProfiles&&(c+=f.o("mts",f[r],u,r)),i="";break;default:f.Pa(o)&&("prop"==n?r="c"+o:"eVar"==n?r="v"+o:"list"==n?r="l"+o:"hier"==n&&(r="h"+o,i=i.substring(0,255)))}i&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?f.escape(i):i))}"pev3"==r&&f.e&&(c+=f.e)}return f.ja&&(c+="&lrt="+f.ja,f.ja=null),c},t)},f,n},:0},f.fc=function(e){for(var t=f.B(e),n=f.L(e);e&&!n&&"BODY"!=t;)(e=e.parentElement||e.parentNode)&&(t=f.B(e),n=f.L(e));return e=(e=n&&"BODY"!=t?e:0)&&(0<=(t=e.onclick?""+e.onclick:"").indexOf(".tl(")||0<=t.indexOf(".trackLink("))?0:e},f.Vb=function(){var e,t,n,r,i,o=f.linkObject,a=f.linkType,s=f.linkURL;if(f.la=1,o||(f.la=0,o=f.clickObject),o){for(e=f.B(o),t=f.L(o);o&&!t&&"BODY"!=e;)(o=o.parentElement||o.parentNode)&&(e=f.B(o),t=f.L(o));(o=t&&"BODY"!=e?o:0)&&!f.linkObject&&(0<=(i=o.onclick?""+o.onclick:"").indexOf(".tl(")||0<=i.indexOf(".trackLink("))&&(o=0)}else f.la=1;if((s=!s&&o?f.La(o):s)&&!f.linkLeaveQueryString&&0<=(n=s.indexOf("?"))&&(s=s.substring(0,n)),!a&&s){var c,u=0,l=0;if(f.trackDownloadLinks&&f.linkDownloadFileTypes)for(n=(i=s.toLowerCase()).indexOf("?"),r=i.indexOf("#"),0<=(n=0<=n&&!(0<=r&&r<n)?n:r)&&(i=i.substring(0,n)),n=f.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<n.length;r++)(c=n[r])&&i.substring(i.length-(c.length+1))=="."+c&&(a="d");if(f.trackExternalLinks&&!a&&(i=s.toLowerCase(),f.Oa(i))&&(f.linkInternalFilters||(f.linkInternalFilters=d.location.hostname),n=0,f.linkExternalFilters?(n=f.linkExternalFilters.toLowerCase().split(","),u=1):f.linkInternalFilters&&(n=f.linkInternalFilters.toLowerCase().split(",")),n)){for(r=0;r<n.length;r++)c=n[r],0<=i.indexOf(c)&&(l=1);l?u&&(a="e"):u||(a="e")}}f.linkObject=o,f.linkURL=s,f.linkType=a,(f.trackClickMap||f.trackInlineStats)&&(f.e="",o)&&(a=f.pageName,s=1,o=o.sourceIndex,a||(a=f.pageURL,s=0),d.s_objectID&&(t.id=d.s_objectID,o=t.type=1),a)&&t&&t.id&&e&&(f.e="&pid="+f.escape(a.substring(0,255))+(s?"&pidt="+s:"")+"&oid="+f.escape(t.id.substring(0,100))+(t.type?"&oidt="+t.type:"")+"&ot="+e+(o?"&oi="+o:""))},f.Ob=function(){var e=f.la,t=f.linkType,n=f.linkURL,r=f.linkName;if(t&&(n||r)&&(t=t.toLowerCase(),f.pe="lnk_"+(t="d"!=t&&"e"!=t?"o":t),f.pev1=n?f.escape(n):"",f.pev2=r?f.escape(r):"",e=1),f.abort&&(e=0),f.trackClickMap||f.trackInlineStats||f.Rb()){var i,o,a,t={},n=0,s=(c=f.pb())?c.split("&"):0,c=0;if(s)for(i=0;i<s.length;i++)o=s[i].split("="),r=f.unescape(o[0]).split(","),t[o=f.unescape(o[1])]=r;for(a in r=f.account.split(","),i={},f.contextData)a&&!Object.prototype[a]&&"a.activitymap."==a.substring(0,14)&&(i[a]=f.contextData[a],f.contextData[a]="");if(f.e=f.o("c",i)+(f.e||""),e||f.e){for(o in e&&!f.e&&(c=1),t)if(!Object.prototype[o])for(a=0;a<r.length;a++)for(c&&(s=t[o].join(","),s==f.account)&&(f.e+=("&"!=o.charAt(0)?"&":"")+o,t[o]=[],n=1),i=0;i<t[o].length;i++)s=t[o][i],s==r[a]&&(c&&(f.e+="&u="+f.escape(s)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),t[o].splice(i,1),n=1);if(n=e?n:1){for(o in c="",i=2,!e&&f.e&&(c=f.escape(r.join(","))+"="+f.escape(f.e),i=1),t)!Object.prototype[o]&&0<i&&0<t[o].length&&(c+=(c?"&":"")+f.escape(t[o].join(","))+"="+f.escape(o),i--);f.wb(c)}}}return e},fP)},fge},fe)},f.Pb=function(){if(!f.Zb){var e,t,n,r,i=new Date,o=l.location,a=(t=e="","1.2"),s=f.cookieWrite("s_cc","true",0)?"Y":"N",c="",u="";if(i.setUTCDate&&(a="1.3",0..toPrecision)&&(a="1.5",(i=[]).forEach)){a="1.6",t=0,e={};try{(t=new Iterator(e)).next&&(a="1.7",i.reduce)&&(a="1.8").trim&&(a="1.8.1",Date.parse)&&(a="1.8.2",Object.create)&&(a="1.8.5")}catch(e){}}e=screen.width+"x"+screen.height,i=navigator.javaEnabled()?"Y":"N",t=screen.pixelDepth||screen.colorDepth,n=f.w.innerWidth||f.d.documentElement.offsetWidth,r=f.w.innerHeight||f.d.documentElement.offsetHeight;try{f.b.addBehavior("#default#homePage"),c=f.b.gc(o)?"Y":"N"}catch(e){}try{f.b.addBehavior("#default#clientCaps"),u=f.b.connectionType}catch(e){}f.resolution=e,f.colorDepth=t,f.javascriptVersion=a,f.javaEnabled=i,f.cookiesEnabled=s,f.browserWidth=n,f.browserHeight=r,f.connectionType=u,f.homepage=c,f.Zb=1}},f.Q={},f.loadMod))},f.u=function(e){var t,n;for(t in f.Q)if(!Object.prototype[t]&&(n=f.Q[t])&&(n._olc&&n.onLoad&&(n._olc=0,n.onLoad(f,n)),n[e])&&n[e]())return 1;return 0},fc)},f 1}, s},f1)},f.Jb=function(e){var t,n,r,i,o,a,s=0,c="",u="";if(e&&255<e.length&&0<(n=(t=""+e).indexOf("?"))&&(a=t.substring(n+1),"http://"==(i=(t=t.substring(0,n)).toLowerCase()).substring(r=0,7)?r+=7:"https://"==i.substring(0,8)&&(r+=8),0<(n=i.indexOf("/",r)))&&(i=i.substring(r,n),o=t.substring(n),t=t.substring(0,n),0<=i.indexOf("google")?s=",q,ie,start,search_key,word,kw,cd,":0<=i.indexOf("yahoo.co")?s=",p,ei,":0<=i.indexOf("baidu.")&&(s=",wd,word,"),s)&&a){if((e=a.split("&"))&&1<e.length){for(r=0;r<e.length;r++)0<(n=(i=e[r]).indexOf("="))&&0<=s.indexOf(","+i.substring(0,n)+",")?c+=(c?"&":"")+i:u+=(u?"&":"")+i;c&&u?a=c+"&"+u:u=""}e=t+(0<(n=253-(a.length-u.length)-t.length)?o.substring(0,n):"")+"?"+a}return e},f!0},f.ba=!1,f.H=!1,f.zb=function(){f.H=!0,f.p()},f.I=!1,f()},f1)},f.Z=!1,f.G=!1,f()},f.isReadyToTrack=function(){var e=!0;return!(!f.mb()||!f.kb()||(f.ob()||(e=!1),!f.rb()))&&e},f.mb=function(){return f.ba||f.H||(f.bb(f.zb)?f.H=!0:f.ba=!0),!(f.ba&&!f.H)},f!0},))},fll},f.Y=!0,fI)},:e},fG)},f.aa=!1,f!0},f.j=h,f.q=0,f.callbackWhenReadyToTr))},b)},f0)},f()},f.Lb=function(){var e=f.cookieRead("s_fid"),t="",n="",r=8,i=4;if(!e||e.indexOf("-")<0){for(e=0;e<16;e++)r=Math.floor(Math.random()*r),t+="0123456789ABCDEF".substring(r,r+1),r=Math.floor(Math.random()*i),n+="0123456789ABCDEF".substring(r,r+1),r=i=16;e=t+"-"+n}return e=f.cookieWrite("s_fid",e,1)?e:0},f.Da=function(e){var t,n=new Date,r="s"+Math.floor(n.getTime()/108e5)%10+Math.floor(1e13*Math.random()),i=n.getYear(),i="t="+f.escape(n.getDate()+"/"+n.getMonth()+"/"+(i<1900?i+1900:i)+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" "+n.getDay()+" "+n.getTimezoneOffset()),o=f.T();e&&(t=f.S(e,1)),f.Sb()&&!f.visitorOptedOut&&(f.wa()||(f.fid=f.Lb()),f.Vb(),f.usePlugins&&f.doPlugins&&f.doPlugins(f),f.account)&&(f.abort||(f.trackOffline&&!f.timestamp&&(f.timestamp=Math.floor(n.getTime()/1e3)),e=d.location,f.pageURL||(f.pageURL=e.href||e),f.referrer||f.Za||(e=f.Util.getQueryParam("adobe_mc_ref",null,null,!0),f.referrer=e||void 0===e?void 0===e?"":e:l.document.referrer),f.Za=1,f.referrer=f.Jb(f.referrer),f.u("_g")),f.Ob())&&!f.abort&&(o&&f.V("TARGET")&&!f.supplementalDataID&&o.getSupplementalDataID&&(f.supplementalDataID=o.getSupplementalDataID("AppMeasurement:"+f._in,!f.expectSupplementalData)),f.V("AAM")||(f.contextData["cm.ssf"]=1),f.Pb(),i+=f.Nb(),f.qb(r,i),f.u("_t"),f.referrer=""),f.Ba(),t&&f.S(t,1)},f.t=f.tre)},f=0},f.Aa=[],f.registerPreTrackCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);"function"==typeof e?f.Aa.push([e,t]):f.debugTracking&&f.C("DEBUG: Non function type passed to registerPreTrackCallback")},f.fb=function(e){f.ua(f.Aa,e)},f.za=[],f.registerPostTrackCallb")},f.eb=function(e){f.ua(f.za,e)},f.ua=function(e,t){if("object"==_typeof2(e))for(var n=0;n<e.length;n++){var r=e[n][0],i=e[n][1].slice();if(i.unshift(t),"function"==typeof r)try{r.apply(null,i)}catch(e){f.debugTracking&&f.C(e.message)}}},f.tl=f.trackLr)},f.trackLir)},f.clearV0)},f.tagContainerMarker="",f()},f")},fks},f,t},f.jb=function(){var e=f.visitorNamespace;return e=e?e:(e=f.account.split(",")[0]).replace(/[^0-9a-z]/gi,"")},f.Ya=/{(%?)(.*?)(%?)}/,f.bc=RegExp(f.Ya.source,"g"),f}}},f))},e)},f.pa={},f.doPostbacks=function(e){if("object"==_typeof2(e))if(f.Ib(e),"object"==_typeof2(f.AudienceManagement)&&"function"==typeof f.AudienceManagement.isReady&&f.AudienceManagement.isReady()&&"function"==typeof f.AudienceManagement.passData)f.AudienceManagement.passData(e);else if("object"==_typeof2(e)&&"object"==_typeof2(e.dests))for(var t=0;t<e.dests.length;++t){var n=e.dests[t];"object"==_typeof2(n)&&"string"==typeof n.c&&"string"==typeof n.id&&"aa."==n.id.substr(0,3)&&(f.pa[n.id]=new Image,f.pa[n.id].alt="",f.pa[n.id].src=n.c)}},f()},f])},fe}},f.oa=function(){var e=!0;return e=f.trackOffline&&f.offlineFilename&&d.localStorage&&d.JSON?e:!1},f,e},))},f))},f.Cb=function(){var e;return!f.trackOffline||f.offlineThrottleDelay<=0||(e=f.A()-f.Sa,f.offlineThrottleDelay<e)?0:f.offlineThrottleDelay-e},f()},f)}},fID},f.X=!1;try{r=JSON.parse('{"x":"y"}')}catch(e){r=null}for(r&&"y"==r.x?(f.X=!0,f.W=function(e){return JSON.parse(e)}):d.$$APPMEASUREMENT_CORE&d.$.parseJSON?(f.W=function(e){return d.$.parseJSON(e)},f.X=!0):f.W=function(){return null},f.Xb=function(e){var t,n,r;if(f.lb(e)&&(n=1,t={s()}}),!t&&f.wa()&&2047<e.length&&(f.$a()&&(n=2,t=new XMLHttpRequest),t)&&(f.AudienceManagement&&f.AudienceManagement.isReady()||0!=f.usePostbacks)&&(f.X?t.Fa=!0:t=0),!t&&f.Xa&&(e=e.substring(0,2047)),!t&&f.d.createElement&&(0!=f.usePostbacks||f.AudienceManagement&&f.AudienceManagement.isReady())&&(t=f.d.createElement("SCRIPT"))&&"async"in t&&((r=(r=f.d.getElementsByTagName("HEAD"))&&r[0]?r[0]:f.d.body)?(t.type="text/javascript",t.setAttribute("async","async"),n=3):t=0),t||((t=new Image).alt="",t.abort)||void 0===d.InstallTrigger||(t.ab=h}),t.Ta=Date.now(),t{}},t.onload=}}},t.onabort=t.onerror=t0)},t.onreadystatecha))},f.Sa=f.A(),1===n)t.send(e);else if(2===n)r=e.indexOf("?"),n=e.substring(0,r),r=(r=e.substring(r+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),t.open("POST",n,!0),t.withCredentials=!0,t.send(r);else if(t.src=e,3===n){if(f.Qa)try{r.removeChild(f.Qa)}catch(e){}r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),f.Qa=f.v}t.D=setTime))},5e3),f.Fb=e,f.v=d["s_i_"+f.replace(f.account,",","_")]=t,(f.useForcedLinkTracking&&f.J||f.bodyClickFunction)&&(f.forcedLinkTrackingTimeout||(f.forcedLinkTrackingTimeout=250),f.da=setTimeout(f.ca,f.forcedLinkTrackingTimeout))},f:t},f))},fth},fst},f{}},f}}},f()},f.forceOffline=function(){f.na=!0},f.forceOnline=function(){f.na=!1},fnt},f.A=function(){return(new Date).getTime()},f")},f.setTagContainer=function(e){var t,n,r;for(f.Yb=e,t=0;t<f._il.length;t++)if((n=f._il[t])&&"s_l"==n._c&&n.tagContainerName==e){if(f.S(n),n.lmq)for(t=0;t<n.lmq.length;t++)r=n.lmq[t],f.loadModule(r.n);if(n.ml)for(r in n.ml)if(f[r])for(t in e=f[r],r=n.ml[r],r)!Object.prototype[t]&&("function"!=typeof r[t]||(""+r[t]).indexOf("s_c_il")<0)&&(e[t]=r[t]);if(n.mmq)for(t=0;t<n.mmq.length;t++)r=n.mmq[t],f[r.m]&&(e=f[r.m])[r.f]&&"function"==typeof e[r.f]&&(r.a?e[r.f].apply(e,r.a):e[r.f].apply(e));if(n.tq)for(t=0;t<n.tq.length;t++)f.track(n.tq[t]);n.s=f;break}},f.Util={urlEncode:f.escape,urlDecode:f.unescape,cookieRead:f.cookieRead,cookieWrite:f.cookieWrite,getQueryParam:function(e,t,n,r){var i,o="";return t=t||f.pageURL||d.location,n=n||"&",!e||!t||(i=(t=""+t).indexOf("?"))<0?o:(t=n+t.substring(i+1)+n,r&&(0<=t.indexOf(n+e+n)||0<=t.indexOf(n+e+"="+n))?void 0:((i=(t=0<=(i=t.indexOf("#"))?t.substr(0,i)+n:t).indexOf(n+e+"="))<0||0<(t=0<=(i=(t=t.substring(i+n.length+e.length+1)).indexOf(n))?t.substring(0,i):t).length&&(o=f.unescape(t)),o))},getIeVersll}},f.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),f.g=f.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),f.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),f.O=f.ka.slice(0),f.Ea="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction AudienceManagement".split(" "),t=0;t<=250;t++)t<76&&(f.g.push("prop"+t),f.O.push("prop"+t)),f.g.push("eVar"+t),f.O.push("eVar"+t),t<6&&f.g.push("hier"+t),t<4&&f.g.push("list"+t);t="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" "),f.g=f.g.concat(t),f.F=f.F.concat(t),f.ssl=0<=d.location.protocol.toLowerCase().indexOf("https"),f.charSet="UTF-8",f.contextData={},f.offlineThrottleDelay=0,f.offlineFilename="AppMeasurement.offline",f.P="s_sq",f.Sa=0,f.ia=0,f.N=0,f.Ra=0,f.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",f.w=d,f.d=d.document;try{f.Xa=!1,navigator&&(i=navigator.userAgent,"Microsoft Internet Explorer"==navigator.appName||0<=i.indexOf("MSIE ")||0<=i.indexOf("Trident/")&&0<=i.indexOf("Windows NT 6"))&&(f.Xa=!0)}catch(e){}f=0},f.Va=function(){f.b=f.d.body,f.b?(f.r=function(e){var t,n,r,i,o;if(!(f.d&&f.d.getElementById("cppXYctnr")||e&&e["s_fe_"+f._in])){if(f.Ga){if(!f.useForcedLinkTracking)return f.b.removeEventListener("click",f.r,!0),void(f.Ga=f.useForcedLinkTracking=0);f.b.removeEventListener("click",f.r,!1)}else f.useForcedLinkTracking=0;f.clickObject=e.srcElement||e.target;try{if(!f.clickObject||f.M&&f.M==f.clickObject||!(f.clickObject.tagName||f.clickObject.parentElement||f.clickObject.parentNode))f.clickObject=0;else{var a=f.M=f.clickObject;if(f.ha&&(clearTimeout(f.ha),f.ha=0),f.ha=setTime0)},1e4),r=f.Ma(),f.track(),r<f.Ma()&&f.useForcedLinkTracking&&e.target){for(i=e.target;i&&i!=f.b&&"A"!=i.tagName.toUpperCase()&&"AREA"!=i.tagName.toUpperCase();)i=i.parentNode;if(i&&(o=i.href,f.Oa(o)||(o=0),n=i.target,e.target.dispatchEvent)&&o&&(!n||"_self"==n||"_top"==n||"_parent"==n||d.name&&n==d.name)){try{t=f.d.createEvent("MouseEvents")}catch(e){t=new d.MouseEvent}if(t){try{t.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(e){t=0}t&&(t["s_fe_"+f._in]=t.s_fe=1,e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault(),f.bodyClickTarget=e.target,f.J=t)}}}}}catch(e){f.clickObject=0}}},f.b&&f.b.attachEvent?f.b.attachEvent("onclick",f.r):f.b&&f.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&f.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&d.MouseEvent)&&(f.Ga=1,f.useForcedLinkTracking=1,f.b.addEventListener("click",f.r,!0)),f.b.addEventListener("click",f.r,!1))):setTimeout(f.Va,30)},f.Hb(),f.ic||(e?f.setAccount(e):f.C("Error, missing Report Suite ID in AppMeasurement initialization"),f.Va(),f.loadModule("ActivityMap0}s_cbc_sitecatalyst_init(s_cbc_sitecatalyst),AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),function(){var e,t;e=window,t=function(){"use strict";var w="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?selfts}e(function(a,s){s=s||{},function(){var e,t,n,r,V={function:!0,object:!0},i=V.object&&s&&!s.nodeType&&s,U=V["undefined"==typeof window?"undefined":_typeof2(window)]&&window||this,o=i&&V.object&&a&&!a.nodeType&&"object"==_typeof2(w)&&w;function F(e,s){e=e||U.Object(),s=s||U.Object();var b,P,S,l,w,E,I,c,T,n,D,u,r,N,d,k,p,f,h,_,g,m,i,o,a,v,C=e.Number||U.Number,y=e.String||U.String,t=e.Object||U.Object,A=e.Date||U.Date,O=e.SyntaxError||U.SyntaxError,R=e.TypeError||U.TypeError,x=e.Math||U.Math,e=e.JSON||U.JSON,e=("object"==_typeof2(e)&&e&&(s.stringify=e.stringify,s.parse=e.parse),t.prototype),B=e.toString,L=new A(-0xc782b5b800cec);try{L=-109252==L.getUTCFullYear()&&0===L.getUTCMonth()&&1===L.getUTCDate()&&10==L.getUTCHours()&&37==L.getUTCMinutes()&&6==L.getUTCSeconds()&&708==L.getUTCMilliseconds()}catch(!t}return M("json")||(l="[object Function]",w="[object Number]",E="[object String]",I="[object Array]",c=M("bug-string-char-index"),L||(T=x.floor,n=[0,31,59,90,120,151,181,212,243,273,304,3340)}),b=(b=e.hasOwnProperte)},P=function(e,t){var n,a,r,i=0;for(r i=0}).prototype.valueOf=0,a=new n)b.call(a,r)&&i++;return a=null,(P=i?2==i?function(e,t){var n,r={},i=B.call(e)==l;for(n in e)i&&"prototype"==n||b.call(r,n)||(r[n]=1,!b.call(e,n))||t(n)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructo);}))(e,t)},M("json-stringify")||(u={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},r="000000e)},d="\\u00",k=function(e){for(var t='"',n=0,r=e.length,i=!c||10<r,o=i&&(c?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=u[a];break;default:a<32?t+=d+N(2,a.toString(16)):t+=i?o[n]:e.charAt(n)}}return t+'"'},p=function n(e,t,r,i,o,a,s){var c,u,l,d,p,f,h,_,g,m,v,C,y,A;try{c=t[e]}catch(e){}if("object"==_typeof2(c)&&c)if("[object Date]"!=(u=B.call(c))||b.call(c,"toJSON"))"function"==typeof c.toJSON&&(u!=w&&u!=E&&u!=I||b.call(c,"toJSON"))&&(c=c.toJSON(e));else if(-1/0<c&&c<1/0){if(D){for(p=T(c/864e5),l=T(p/365.2425)+1970-1;D(l+1,0)<=p;l++);for(d=T((p-D(l,0))/30.42);D(l,d+1)<=p;d++);p=1+p-D(l,d),y=T((_=(c%864e5+864e5)%864e5)/36e5)%24,f=T(_/6e4)%60,h=T(_/1e3)%60,_=_%1e3}else l=c.getUTCFullYear(),d=c.getUTCMonth(),p=c.getUTCDate(),y=c.getUTCHours(),f=c.getUTCMinutes(),h=c.getUTCSeconds(),_=c.getUTCMilliseconds();c=(l<=0||1e4<=l?(l<0?"-":"+")+N(6,l<0?-l:l):N(4,l))+"-"+N(2,d+1)+"-"+N(2,p)+"T"+N(2,y)+":"+N(2,f)+":"+N(2,h)+"."+N(3,_)+"Z"}else c=null;if(null===(c=r?r.call(t,e,c):c))return"null";if("[object Boolean]"==(u=B.call(c)))return""+c;if(u==w)return-1/0<c&&c<1/0?""+c:"null";if(u==E)return k(""+c);if("object"==_typeof2(c)){for(C=s.length;C--;)if(s[C]===c)throw R();if(s.push(c),g=[],y=a,a+=o,u==I){for(v=0,C=c.length;v<C;v++)m=n(v,c,r,i,o,a,s),g.push(m===S?"null":m);A=g.length?o?"[\n"+a+g.join(",\n"+a)+"\n"+y+"]":"["+g.join(",")+"]":"[]"}else P(it)}),A=g.length?o?"{\n"+a+g.join(",\n"+a)+"\n"+y+"}":"{"+g.join(",")+"}":"{}";return s.pop(),A}},s.stringify=function(e,t,n){var r,i,o;if(V[_typeof2(t)]&&t)if((o=B.call(t))==l)i=t;else if(o==I)for(var a,s={},c=0,u=t.length;c<u;a=t[c++],(o=B.call(a))!=E&&o!=w||(s[a]=1));if(n)if((o=B.call(n))==w){if(0<(n-=n%1))for(r="",10<n&&(n=10);r.length<n;r+=" ");}else o==E&&(r=n.length<=10?n:n.slice(0,10));return p("",((a={})[""]=e,a),i,s,r,"",[])}),M("json-parse"))||(f=y.fromCharCode,h={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"()$"},o=function e(t){var n,r;if("$"==t&&m(),"string"==typeof t){if("@"==(c?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(n=[];"]"!=(t=i());r=r||!0)!r||","==t&&"]"!=(t=i())||m(),","==t&&m(),n.push(e(t));return n}if("{"==t){for(n={};"}"!=(t=i());r=r||!0)!r||","==t&&"}"!=(t=i())||m(),","!=t&&"string"==typeof t&&"@"==(c?t.charAt(0):t[0])&&":"==i()||m(),n[t.slice(1)]=e(i());return n}m()}return t=ni)},s.pa:e}),s.runInContext=F,s}!o||o.global!==o&&o.window!==o&&o.self!==o||(U=o),i?F(U,i):(e=U.JSON,t=U.JSON3,n=!1,r=F(U,U.JSON3={noConfl,r}}),U.JSON={parse:r.parse,stringify:r.stringify})}.call(w)});function R(e,t){t=t||{};var n=_typeof2(e);if(!("string"===n&&0<e.length)){if("number"===n&&!1===isNaN(e))if(t.long)return j(n=e,s,"day")||j(n,a,"hour")||j(n,o,"minute")||j(n,i,"second")||n+" ms";else{t=e;return s<=t?Math.round(t/s)+"d":a<=t?Math.round(t/a)+"h":o<=t?Math.round(t/o)+"m":i<=t?Math.round(t/i)+"s":t+"ms"}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}if(n=e,!(100<(n=String(n)).length)){n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(n){var r=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*F;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}var f={DEFAULT_INSTANCE:"$default_instance",API_VERSION:2,MAX_STRING_LENGTH:4096,MAX_PROPERTY_KEYS:1e3,IDENTIFY_EVENT:"$identify",GROUP_IDENTIFY_EVENT:"$groupidentify",LAST_EVENT_ID:"amplitude_lastEventId",LAST_EVENT_TIME:"amplitude_lastEventTime",LAST_IDENTIFY_ID:"amplitude_lastIdentifyId",LAST_SEQUENCE_NUMBER:"amplitude_lastSequenceNumber",SESSION_ID:"amplitude_sessionId",DEVICE_ID:"amplitude_deviceId",OPT_OUT:"amplitude_optOut",USER_ID:"amplitude_userId",COOKIE_TEST:"amplitude_cookie_test",REVENUE_EVENT:"revenue_amount",REVENUE_PRODUCT_ID:"$productId",REVENUE_QUANTITY:"$quantity",REVENUE_PRICE:"$price",REVENUE_REVENUE_TYPE:"$revenueType",AMP_DEVICE_ID_PARAM:"amp_device_id"},x=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):t=127<r&&r<2048?(t+=String.fromCharCode(r>>6|192))+String.fromCharCode(63&r|128):(t=(t+=String.fromCharCode(r>>12|224))+String.fromCharCode(r>>6&63|128))+String.fromCharCode(63&r|128)}return t r},u={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ence)},_encode:function(e){var t,n,r,i,o,a,s="",c=0;for(e=x(e);c<e.length;)r=(t=e.charCodeAt(c++))>>2,i=(3&t)<<4|(t=e.charCodeAt(c++))>>4,o=(15&t)<<2|(n=e.charCodeAt(c++))>>6,a=63&n,isNaN(t)?o=a=64:isNaN(n)&&(a=64),s=s+u._keyStr.charAt(r)+u._keyStr.charAt(i)+u._keyStr.charAt(o)+u._keyStr.charAt(a);return s},dece)},_decode:function(e){var t,n,r,i,o,a,s="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=u._keyStr.indexOf(e.charAt(c++)),t=(15&(i=u._keyStr.indexOf(e.charAt(c++))))<<4|(o=u._keyStr.indexOf(e.charAt(c++)))>>2,n=(3&o)<<6|(a=u._keyStr.indexOf(e.charAt(c++))),s+=String.fromCharCode(r<<2|i>>4),64!==o&&(s+=String.fromCharCode(t)),64!==a&&(s+=String.fromCharCode(n));return s=V(s)}},U=e(function(e,n){(n=n||{}).parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.pt}}(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:(t.protocol&&":"!=t.protocol?t:location).protocol,search:t.search,query:t.search.slice(1)}},n.isAbsol")},n.isRelate)},n.isCrossDomol}}),i=1e3,o=60*i,a=60*o,s=24*a,F=365.2s"}function G(e,t,n){switch(arguments.length){case 3:case 2:var r=e,i=t,o=n;return o=o||{},r=H(r)+"="+H(i),null==i&&(o.maxage=-1),o.maxage&&(o.expires=new Date(+new Date+o.maxage)),o.path&&(r+="; path="+o.path),o.domain&&(r+="; domain="+o.domain),o.expires&&(r+="; expires="+o.expires.toUTCString()),o.secure&&(r+="; secure"),void(document.cookie=r);case 1:return i=e,K()[i];default:return K()}}var q=e(function(e,c){function t(e){var a;function s(){if(s.enabled){for(var r=s,e=+new Date,t=e-(a||e),i=(r.diff=t,r.prev=a,r.curr=e,a=e,new Array(arguments.length)),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=c.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var o=0;i[0]=i[0].replace(/%([a-zA-Z%],e}),c.formatArgs.call(r,i),(s.log||c.log||console.log.bind(console)).apply(r,i)}}return s.namespace=e,s.enabled=c.enabled(e),s.useColors=c.useColors(),s.coh]}(e),s.destroy=n,"function"==typeof c.init&&c.init(s),c.instances.push(s0)}c=c||{},(c=e.exports=t.debug=t.default=t).coe:e},c.disable=function(){c.enable("")},c.ena)}},c.enab!1},c.humanize=R,c.instances=[],c.names=[],c.skips=[],c.formatters={}}),Y=e(function(e,i){function t(){var e;try{e=i.storage.debug}catch(e){}return e=!e&&"undefined"!=typeof process&&"env"in process?process.env.DEBUG:e}i=i||{},(i=e.exports=q).s)},i.formatArgs=function(e){var t,n,r=this.useColors;e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+i.humanize(this.diff),r&&(r="color: "+this.color,e.splice(1,0,r,"color: inherit"),e[n=t=0].replace(/%[a-zA-Z%t)}),e.splice(n,0,r))},i.s{}},i.load=t,i.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.lo{}}(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.formattere}},i.enable(t())})("cookie");function K(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}var t,n={},r=e.split(/ *; */);if(""!=r[0])for(var i=0;i<r.length;++i)t=r[i].split("="),n[W(t[0])]=W(t[1]);return n}function H(t){try{return encodeURIComponent(t)}catch(e){Y("error `encode(%o)` - %o",t,)}}function J(e){return"string"===h(e)&&e.length>f.MAX_STRING_LENGTH?e.substring(0,f.MAX_STRING_LENGTH):e}function z(e,t){var n=h(t);if(-1!==ae.indexOf(n))c.warn('WARNING: Property key "'+e+'" with invalid value type '+n+", ignoring"),t=null;else if("error"===n)t=String(t),c.warn('WARNING: Property key "'+e+'" with value type error, coercing to '+t);else if("array"===n){for(var r=[],i=0;i<t.length;i++){var o=t[i],a=h(o);"array"===a||"object"===a?c.warn("WARNING: Cannot have "+a+" nested in an array property value, skipping"):r.push(z(e,o))}t=r}else"object"===n&&(t=oe(t));return t}function X(e,t){var n=h(t);if("string"===n)return t;if("date"===n||"number"===n||"boolean"===n)return t=String(t),c.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+t+'"'),t;if("array"===n){for(var r=[],i=0;i<t.length;i++){var o=t[i],a=h(o);"array"===a||"object"===a?c.warn("WARNING: Skipping nested "+a+" in array groupName"):"string"===a?r.push(o):"date"!==a&&"number"!==a&&"boolean"!==a||(o=String(o),c.warn("WARNING: Non-string groupName, received type "+a+', coercing to string "'+o+'"'),r.push(o))}return r}c.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")}function Q(e){try{for(var t=de(e)+"=",n=document.cookie.split(";"),r=null,i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t)){r=o.substring(t.length,o.length);break}}return r?JSON.parse(u.decode(r)):null}catch(e){return null}}function $(e,t){try{return pe(de(e),u.encode(JSON.stringify(t)),r),!0}catch(e){return!1}}function Z(e){try{return pe(de(e),null,r),!0}catch(e){return!1}}var ee=e(function(e,s){s=s||{};var i=U.pa""}t.levels=function(e){var t=i(e).hostname.split("."),e=t[t.length-1],n=[];if(!(4===t.length&&e===parseInt(e,10)||t.length<=1))for(var r=t.length-2;0<=r;--r)n.push(t.slice(r).join("."));return n},t.cookie=G,s=e.exports=t}),te="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},ne=Object.prototype.toString,h=function(e){switch(ne.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?"buffer":void 0===(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))?"undefined":te(e)},t={DISABLE:0,ERROR:1,WARN:2,INFO:3},re=t.WARN,c={error:function(e){t.ERROR<=re&&ie(e)},warn:function(e){t.WARN<=re&&ie(e)},ie)}}{}},oe=function(e){var t=h(e);if("object"!==t)return c.error("Error: invalid properties format. Expecting Javascript object, received "+t+", ignoring"),{};if(Object.keys(e).length>f.MAX_PROPERTY_KEYS)return c.error("Error: too many properties (more than 1000), ignoring"),{};var n,r,i,o={};for(n in e)e.hasOwnProperty(n)&&("string"!==(i=h(r=n))&&(r=String(r),c.warn("WARNING: Non-string property key, received type "+i+', coercing to string "'+r+'"')),null!==(i=z(r,e[n])))&&(o[r]=i);return o},ae=["null","nan","undefined","function","arguments","regexp","element"]re},_=th},ce=function(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===e?void 0:decodeURIComponent(e[1].replace(/\+/g," "))} t},le=function(e){var t=h(e);if("object"!==t)return c.error("Error: invalid groups format. Expecting Javascript object, received "+t+", ignoring"),{};var n,r,i,o={};for(n in e)e.hasOwnProperty(n)&&("string"!==(i=h(r=n))&&(r=String(r),c.warn("WARNING: Non-string groupType, received type "+i+', coercing to string "'+r+'"')),null!==(i=X(0,e[n])))&&(o[r]=i);return o1)},g=oe,r={expirationDays:void 0,domain:void 0},de=function(e){var t="";return e+(t=r.domain?"."===r.domain.charAt(0)?r.domain.substring(1):r.domain:t)},pe=function(e,t,n){var r=null!==t?n.expirationDays:-1,i=(r&&((i=new Date).setTime(i.getTime()+24*r*60*60*1e3),r=i),e+"="+t);r&&(i+="; expires="+r.toUTCString()),i+="; path=/",n.domain&&(i+="; domain="+n.domain),document.cookie=i},fe={re0}},options:function(e){if(0===arguments.length)return r;r.expirationDays=(e=e||{}).expirationDays;var e=p(e.domain)?"."+ee(window.location.href):e.domain,t=Math.random(),n=(r.domain=e,$("amplitude_test",t),Q("amplitude_test"));n&&n===t||(e=null),Z("amplitude_test"),r.domain=e},get:Q,set:$,remove:Z};if(function(){var e,t=new Date;try{return window.localStorage.setItem(t,t),e=window.localStorage.getItem(t)===String(t),window.localStorage.removeItem(t),e}catch(e){}}())y=window.localStorage;else if(window.globalStorage)try{y=window.globalStorage[window.location.hostname]}catch(e){}else{var n=document.createElement("div"),d="localStorage";n.style.display="none",document.getElementsByTagName("head")[0].appendChild(n),n.addBehavior&&(n.addBehavior("#default#userdata"),y={length:0,setId)},getIe)},removeId)},cl=0},e]}},n.load(d),y.length=n.XMLDocument.documentElement.attributes.lengll}function _e(e)}var e=e?"?"+e.split(".").slice(-1)[0].replace(/\|/g,"&"):"",i=n("utm_source",t,"utmcsr",e),o=n("utm_medium",t,"utmcmd",e),a=n("utm_campaign",t,"utmccn",e),s=n("utm_term",t,"utmctr",e),t=n("utm_content",t,"utmcct",e),c={};return r("utm_source",i),r("utm_medium",o),r("utm_campaign",a),r("utm_term",s),r("utm_content",t[]}var v=y=y||{length:0,setI){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}},ge=(he.prototype._cookiesEnab!1},he.prototype.getStorage=function(){var n;return null===this.storage&&(this._cookiesEnabled()?this.storage=fe:(n="amp_cookiestore_",this.storage={_options:{expirationDays:void 0,domain:void 0},re0}},options:function(e){return 0!==arguments.length&&(this._options.expirationDays=(e=e||{}).expirationDays||this._options.expirationDays,this._options.domain=e.domain||this._options.domain||window.location.hostname),this._options},ll},!1},rem1}}})),this.storage},"$clearAll"),me=(m.prototype.is},m.prototype.append=function(e,t){return this._addOperation("$append",e,t),this},m.prototype.clearis},m.prototype.prepend=function(e,t){return this._addOperation("$prepend",e,t),this},m.prototype.set=function(e,t){return this._addOperation("$set",e,t),this},m.prototype.setOis},m.prototype.unis},m.prototype._addOperation=function(e,t,n){this.userPropertiesOperations.hasOwnProperty(ge)?_.error("This identify already contains a $clearAll operation, skipping operation "+e):-1!==this.properties.indexOf(t)?_.error('User property "'+t+'" already used in this identify, skipping operation '+e):(this.userPropertiesOperations.hasOwnProperty(e)||(this.userPropertiesOperations[e]={}),this.userPropertiesOperations[e][t]=n,this.properties.push(t))},e(functione.exports?e.exports=t:n.md5=t}));var=t};var-1},ye=Array.prototype.splice;function Ae(e){var t=this.__data__;return!((e=Ce(t,e))<0||(e==t.length-1?t.pop():ye.call(t,e,1),--this.size,0))}function be(e){var t=this.__data__;return(e=Ce(t,e))<0?void 0:t[e]s}function C(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.cl=0},C.prototype.delete=Ae,C.prototype.get=be,C.prototype.has=Pe,C.prototype.set=Se;var we}function Te(e){return this.__data__.gete)}var Ne="object"==_typeof2(w)&&w&&w.Object===Object&&w,y="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,A=Ne||y||Function("return this")(),y=A.Symbol,b=Object.prototype,ke=b.hasOwnProperty,Oe=b.toString,Be=y?y.toStringTag:void 0;var,i},Me=Object.prototype.toString;var Re=function(e){return Me.call(e)},xe=y?y.toStringTag:void 0;vare)};vat)};vare)},b=A["__core-js_shared__"],Fe=(y=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"";var e},Ge=Function.prototype.toString;var""},Ye=/^\[object .+?Constructor\]$/,b=Function.prototype,S=Object.prototype,b=b.toString,S=S.hasOwnProperty,Ke=RegExp("^"+b.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var))};vart]};var 0},ze=Je(A,"Map"),Xe=Je(Object,"create");function Qe(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e}var $e=Object.prototype.hasOwnProperty;function Ze(e){var t,n=this.__data__;return Xe?"__lodash_hash_undefined__"===(t=n[e])?void 0:t:$e.call(n,e)?n[e]:void 0}var et=Object.prototype.hasOwnPropes}function E(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E.prototype.cl=0},E.prototype.delete=Qe,E.prototype.get=Ze,E.prototype.has=tt,E.prototype.set=nt;var rt=E;var=e};varap};function at(e){return e=ot(this,e).delete(e),this.size-=e?1:0,e}function st(e){return ot(this,e).get}I.prototype.clt}},I.prototype.delete=at,I.prototype.get=st,I.prototype.has=ct,I.prototype.set=ut;var le}T.prototype.clear=Ee,T.prototype.delete=Ie,T.prototype.get=Te,T.prototype.has=De,T.prototype.set=dt;var pt=T{}}();var=n};varn)};vare}}(),mt=e(function(e,t){var t=(t=t||{})&&!t.nodeType&&t,n=t&&e&&!e.nodeType&&e,n=n&&n.exports===t?A.Buffer:void 0,r=n?n.allocUnsafe:void 0;e.expot)}}),vt=A.Uint8Array;var,t};varh)};var t},bt=Object.create;function Pt(){}var,e};va)}},wt=b(Object.getPrototypeOf,Object),Et=Object.prototype;vart)};var))};vare)};vae)},D=Object.prototype,Nt=D.hasOwnProperty,kt=D.propertyIsEnumerable,Ot=S(function(){return arguments}()")},Bt=Array.isArray;var91};vare)};var!1}var Vt=e(function(e,t){var t=(t=t||{})&&!t.nodeType&&t,n=t&&e&&!e.nodeType&&e,n=n&&n.exports===t?A.Buffer:void 0,t=n?n.isBuffer:void 0;e.exports=t||xt}),D=Function.prototype,S=Object.prototype,Ut=D.toString,Ft=S.hasOwnProperty,jt=Ut.call(Object);vart)},N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Arguments]"]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object Boolean]"]=N["[object DataView]"]=N["[object Date]"]=N["[object Error]"]=N["[object Function]"]=N["[object Map]"]=N["[object Number]"]=N["[object Object]"]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object WeakMap]"])]}va)}},S=e(function(e,t){var t=(t=t||{})&&!t.nodeType&&t,n=t&&e&&!e.nodeType&&e,r=n&&n.exports===t&&Ne.proces{}}();e.exports=n}),S=S&&S.isTypedArray,Yt=S?D(S):qt,Kt=Object.prototype.hasOwnProperty;varn)};var n};var r},zt=/^(?:0|[1-9]\d*)$/;var<t},Qt=Object.prototype.hasOwnProperty;var c};var t},en=Object.prototype.hasOwnProperty;var r};vare)};var))};var on=function(e,t,n,r,i,o,a){var s,c,u,l=e[n],d=t[n],p=a.get(d);p||((t=void 0===(p=o?o(l,d,n+"",e,t,a):void 0))&&(c=!(s=Bt(d))&&Vt(d),u=!s&&!c&&Yt(d),p=d,s||c||u?p=Bt(l)?l:Rt(l)?At(l):c?mt(d,!(t=!1)):u?yt(d,!(t=!1)):[]:Gt(d)||Ot(d)?Ot(p=l)?p=rn(l):(!P(l)||r&&Ue(l))&&(p=Tt(d)):t=!1),t&&(a.set(d,p),i(p,d,r,o,a),a.delete(d))),_t(e,n,p)};var an=function r(i,o,a,s,c){i!==o&&gt(o,function(e,t){var n;P(e)?(c=c||new pt,on(i,o,t,a,r,s,c)):(n=s?s(i[t],e,t+"",i,o,c):void 0,_t(i,t,n=void 0===n?e:n))},n e}varn)},un=Math.max;var)}};vare}},pn=Date.now;var)}}})}:sn);var")};var _n=function(e,t,n){var r;return!!P(n)&&!!("number"==(r=_typeof2(t))?Mt(n)&&Xt(t,n.length):"string"==r&&t in n)&&ve(n[t],e)};va})},gn)});var mn=Array.isArr"}}function Cn(n,r,i,e){return r=r||"&",i=i||"=","object"===_typeof2(n=null===n?void 0:n)?yn(An))}).join(r):e?encodeURIComponent(vn(e))+i+encodeURIComponent(vn(n)) n}var An=Object.ke n};function bn(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"==typeof e&&0!==e.length){var o=/\+/g,t=(e=e.split(t),1e3),a=(r&&"number"==typeof r.maxKeys&&(t=r.maxKeys),e.length);0<t&&t<a&&(a=t);for(var s=0;s<a;++s){var c,u=e[s].replace(o,"%20"),l=u.indexOf(n),l=0<=l?(c=u.substr(0,l),u.substr(l+1)):(c=u,""),u=decodeURIComponent(c),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(i,u)?mn(i[u])?i[u].push(l):i[u]=[i[u],l]:i[u]=l}}retur}var wn={encode:Cn,stringify:Cn,decode:bn,parse:bn},En=(Pn.prototype.send=function(e){var t,n;(!!window.XDomainRequest?((t=new window.XDomainRequest).open("POST",this.url,!0),t.onlt)},t.onert)},t.ontimeout=function(){},t.onprogress=function(){},t):((n=new XMLHttpRequest).open("POST",this.url,!0),n.onreadystatechat)},n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n)).send(wn.stringify(this.data))},k.prototype.setProducis},k.prototype.setQuantity=function(e){return"number"!==h(e)?_.error("Unsupported type for quantity: "+h(e)+", expecting number"):this._quantity=parseInt(e),this},k.prototype.setPrice=function(e){return"number"!==h(e)?_.error("Unsupported type for price: "+h(e)+", expecting number"):this._price=e,this},k.prototype.setRevenueTis},k.prototype.setEventPropertis},k.prototype._isValidReve1)},k.prototype._toJSONObj,e},e(function(e,t){function i(e,t){var n,r;return this instanceof i?(n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?y.extend(P,t):P,this.getBrow,e},this.getCPU=function(){return A.rgx.apply(this,r.cpu)},this.getDevice=function(){return A.rgx.apply(this,r.device)},this.getEngine=function(){return A.rgx.apply(this,r.engine)},this.ges)},this.getRes)}},this.getUA=function(){return n},this.seis},this):new i(e,t).getResult()}var o,d,r,p,f,h,n,a,s,c,u,l,_,g,m,v,C,y,A,b,P,S;t=t||{},o="object"===("undefined"==typeof window?"undefined":_typeof2(window))?window:w,p="function",f="undefined",h="object",n="model",s="type",c="vendor",l="architecture",_="console",g="mobile",m="tablet",v="smarttv",C="wearable",y={ext r},))},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===_typeof2(e)?e.split(".")[0]:d}},P={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a="name",u="version"],[/(OPiOS)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[a,u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+(chrome)\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[a,"Chrome Mobile"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[u,[a,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[u,[a,"Facebook"]],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,(A={rgx:function(){for(var e,t,n,r,i,o,a,s=0,c=arguments;s<c.length&&!o;){var u=c[s],l=c[s+1];if(_typeof2(e)===f)for(r in e={},l)l.hasOwnProperty(r)&&(_typeof2(i=l[r])===h?e[i[0]]=d:e[i]=d);for(t=n=0;t<u.length&&!o;)if(o=u[t++].exec(this.getUA()))for(r=0;r<l.length;r++)a=o[++n],_typeof2(i=l[r])===h&&0<i.length?2==i.length?_typeof2(i[1])==p?e[i[0]]=i[1].call(this,a):e[i[0]]=i[1]:3==i.length?_typeof2(i[1])!==p||i[1].exec&&i[1].test?e[i[0]]=a?a.replace(i[1],i[2]):d:e[i[0]]=a?i[1].call(this,a,i[2]):d:4==i.length&&(e[i[0]]=a?i[3].call(this,a.replace(i[1],i[2])):d):e[i]=a||d;s+=2}return e},str:function(e,t){for(var n in t)if(_typeof2(t[n])===h&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(y.has(t[n][r],e))return"?"===n?d:n}else if(y.has(t[n],e))return"?"===n?d:n;return e}}).str,(b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},name:{"Opera Mobile":"Opera Mobi","IE Mobile":"IEMobile"}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},name:{"Windows Phone":"Windows Phone OS"}}}}).browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(blackberry)\\s?\/([\w\.]+)/i],[[a,"BlackBerry"],u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[l,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[l,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[n,c,[s,m]],[/applecoremedia\/[\w\.]+ \((ipad)/],[n,[c,"Apple"],[s,m]],[/(apple\s{0,1}tv)/i],[[n,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,n,[s,m]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[n,[c,"Amazon"],[s,m]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[n,A.str,b.device.amazon.model],[c,"Amazon"],[s,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[n,c,[s,g]],[/\((ip[honed|\s\w*]+);/i],[n,[c,"Apple"],[s,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,n,[s,g]],[/\(bb10;\s(\w+)/i],[n,[c,"BlackBerry"],[s,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[n,[c,"Asus"],[s,m]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[n,"Xperia Tablet"],[s,m]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[n,"Xperia Phone"],[s,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,n,[s,_]],[/android.+;\s(shield)\sbuild/i],[n,[c,"Nvidia"],[s,_]],[/(playstation\s[34portablevi]+)/i],[n,[c,"Sony"],[s,_]],[/(sprint\s(\w+))/i],[[c,A.str,b.device.sprint.vendor],[n,A.str,b.device.sprint.model],[s,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,n,[s,m]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[n,/_/g," "],[s,g]],[/(nexus\s9)/i],[n,[c,"HTC"],[s,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[n,[c,"Microsoft"],[s,_]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[c,"Microsoft"],[s,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[n,[c,"Motorola"],[s,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[n,[c,"Motorola"],[s,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],n,[s,m]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],n,[s,g]],[/(samsung);smarttv/i],[c,n,[s,v]],[/\(dtv[\);].+(aquos)/i],[n,[c,"Sharp"],[s,v]],[/sie-(\w+)*/i],[n,[c,"Siemens"],[s,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],n,[s,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[n,[c,"Acer"],[s,m]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],n,[s,m]],[/(lg) netcast\.tv/i],[c,n,[s,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[n,[c,"LG"],[s,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[n,[c,"Lenovo"],[s,m]],[/linux;.+((jolla));/i],[c,n,[s,g]],[/((pebble))app\/[\d\.]+\s/i],[c,n,[s,C]],[/android.+;\s(glass)\s\d/i],[n,[c,"Google"],[s,C]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[n,/_/g," "],[c,"Xiaomi"],[s,g]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[s,y.lowerize],c,n]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]+).*(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[a,A.str,b.os.windows.name],[u,A.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,A.str,b.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?o?s?|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[[a,"Linux"],u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[[a,"Linux"],u],[/(iphone)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iPhone"],[u,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iPad"],[u,/_/g,"."]],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[u,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,u]]},i.VERSION="0.7.10",i.BROWSER={NAME:a,MAJOR:"major",VERSION:u},i.CPU={ARCHITECTURE:l},i.DEVICE={MODEL:n,VENDOR:c,TYPE:s,CONSOLE:_,MOBILE:g,SMARTTV:v,TABLET:m,WEARABLE:C,EMBEDDED:"embedded"},i.ENGINE={NAME:a,VERSION:u},i.OS={NAME:a,VERSION:u},(t=e.exports?e.exports=i:t).UAParser=i,_typeof2(S=o.jQuery||o.Zepto)!==f&&(r=new i,S.ua=r.getResult(),S.ua.get=function(){return r.getUA()},S.ua.t]})})),In={apiEndpoint:"api.amplitude.com",batchEvents:!1,cookieExpiration:3650,cookieName:"amplitude_id",deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeGclid:!1,includeReferrer:!1,includeUtm:!1,language:{language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||void 0}.language,logLevel:"WARN",optOut:!1,platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,sessionTimeout:18e5,trackingOptions:{city:!0,country:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100};function O(e){this._instanceName=p(e)?f.DEFAULT_INSTANCE:e.toLowerCase(),this._legacyStorageSuffix=this._instanceName===f.DEFAULT_INSTANCE?"":"_"+this._instanceName,this._unsentEvents=[],this._unsentIdentifys=[],this._ua=new En(navigator.userAgent).getResult(),this.options=gn({},In),this.cookieStorage=(new he).getStorage(),this._q=[],this._sending=!1,this._updateScheduled=!1,this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._userAgent=navigator&&navigator.userAgent||n)}O.prototype.Identify=m,O.prototype.Revenue=k,O.prototype.init=function(e,t,n,r){if("string"!==h(e)||p(e))_.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{this.options.apiKey=e,this._storageSuffix="_"+e+this._legacyStorageSuffix,Nn(this.options,n),"string"===h(this.options.logLevel)&&se(this.options.logLevel);var i=Mn(this);if(this._apiPropertiesTrackingOptions=0<Object.keys(i).length?{tracking_options:i}:{},this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain}),this.options.domain=this.cookieStorage.options().domain,this._instanceName===f.DEFAULT_INSTANCE&&kn(this),On(this),this.options.deviceId="object"===h(n)&&"string"===h(n.deviceId)&&!p(n.deviceId)&&n.deviceId||this.options.deviceIdFromUrlParam&&this._getDeviceIdFromUrlParam(this._getUrlParams())||this.options.deviceId||Sn()+"R",this.options.userId="string"===h(t)&&!p(t)&&t||"number"===h(t)&&t.toString()||this.options.userId||null,this.options.saveEvents){this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey);for(var o=0;o<this._unsentEvents.length;o++){var a=this._unsentEvents[o].event_properties,s=this._unsentEvents[o].groups;this._unsentEvents[o].event_properties=g(a),this._unsentEvents[o].groups=le(s)}for(var c=0;c<this._unsentIdentifys.length;c++){var u=this._unsentIdentifys[c].user_properties,l=this._unsentIdentifys[c].groups;this._unsentIdentifys[c].user_properties=g(u),this._unsentIdentifys[c].groups=le(l)}}var d=(new Date).getTime();(!this._sessionId||!this._lastEventTime||d-this._lastEventTime>this.options.sessionTimeout)&&(this._newSession=!0,this._sessionId=d,this.options.saveParamsReferrerOncePerSession)&&this._trackParamsAndReferrer(),this.options.saveParamsReferrerOncePerSession||this._trackParamsAndReferrer(),this._lastEventTime=d,B(this),this._sendEventsIfReady()}catch(e){_.error(e)}finally{"function"===h(r)&&r(this)}},O.prototype._trackParamsAndRefer))};var Nn=function e(t,n){if("object"===h(n)){var r,i,o,a;for(r in n)n.hasOwnProperty(r)&&(i=r,a=o=void 0,t.hasOwnProperty(i))&&(o=n[i],a=h(t[i]),l(o,i+" option",a))&&("boolean"===a?t[i]=!!o:"string"===a&&!p(o)||"number"===a&&0<o?t[i]=o:"object"===a&&e(t[i],o))}},kn=(O.prototype.runQueuedFuncti[]},O.prototype._apiKey1)},O.prototype._loadSavedUnsentEve,n},O.prototype._removeFromLegacyStorx)},O.prototype._parseSavedUnsentEventsString=function(e,t){if(!p(e)){if("string"===h(e))try{var n=JSON.parse(e);if("array"===h(n))return n}catch(e){}_.error("Unable to load "+t+" events. Restart with a new empty queue.")}return[]},O.prototype.isNewSession=function(){return this._newSession},O.prototype.getSessioId},O.prototype.nextEventId=function(){return this._eventId++,this._eventId},O.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},O.prototype.nextSequenceNumer},O.prototype._unsentCoth},O.prototype._sendEventsIfReady=function(e){if(0!==this._unsentCount()){if(!this.options.batchEvents)return this.sendEvents(e),!0;if(this._unsentCount()>=this.options.eventUploadThreshold)return this.sendEvents(e),!0;this._updateScheduled||(this._updateScheduled=!0,setTime()}.bind(this),this.options.eventUploadPeriodMillis))}return!1},O.prototype._getFromStorage=function(e,t){return e.getItem(t+this._storageSuffix)},O.prototype._getFromStorageLegx)},O.prototype._setInStorn)},function(e){var t,n,r,i,o,a,s,c,u,l=e.cookieStorage.get(e.options.cookieName+e._storageSuffix);"object"===h(l)||(l=e.cookieStorage.get(e.options.cookieName+e._legacyStorageSuffix),"object"===h(l)&&l.deviceId&&l.sessionId&&l.lastEventTime)|,t},r="string"===h(e.options.apiKey)&&"_"+e.options.apiKey.slice(0,6)||"",t=c(f.DEVICE_ID+r),n=c(f.USER_ID+r),null!=(r=c(f.OPT_OUT+r))&&(r="true"===String(r)),i=parseInt(c(f.SESSION_ID)),o=parseInt(c(f.LAST_EVENT_TIME)),a=parseInt(c(f.LAST_EVENT_ID)),s=parseInt(c(f.LAST_IDENTIFY_ID)),c=parseInt(c(f.LAST_SEQUENCE_NUMBER)),e.options.deviceIde]})("deviceId")||t,e.options.userId=u("userId")||n,e._sessionId=u("sessionId")||i||e._sessionId,e._lastEventTime=u("lastEventTime")||o||e._lastEventTime,e._eventId=u("eventId")||a||e._eventId,e._identifyId=u("identifyId")||s||e._identifyId,e._sequenceNumber=u("sequenceNumber")||c||e._sequenceNumber,e.options.optOut=r||!1,l&&void 0!==l.optOut&&null!==l.optOut&&(e.options.optOut="true"===String(l.optOut)),B(e))}),On=function(e){var t=e.cookieStorage.get(e.options.cookieName+e._storageSuffix);"object"===h(t)?Bn(e,t):(t=e.cookieStorage.get(e.options.cookieName+e._legacyStorageSuffix),"object"===h(t)&&(e.cookieStorage.remove(e.options.cookieName+e._legacyStorageSuffix),Bn(e,t)))}))})},Ln=(O.prototype._initUtmData=function(e,t){e=e||this._getUrlParams(),t=t||this.cookieStorage.get("__utmz");t=_e(t,e);Ln(this,t)},function(e,t){if("object"===h(t)&&0!==Object.keys(t).length){var n,r=new m;for(n in t)t.hasOwnProperty(n)&&(r.setOnce("initial_"+n,t[n]),r.set(n,t[n]));e.identify(r)}}),L=(O.prototype._getReferrer=function(){return document.referrer},O.prototype._getUrlParams=function(){return location.search},O.prototype._saveGclid=function(e){e=ce("gclid",e);p(e)||Ln(this,{gclid:e})},O.prototype._getDeviceIdFromUrlPae)},O.prototype._getReferringDomain=function(e){return!p(e)&&3<=(e=e.split("/")).length?e[2]:null},O.prototype._saveReferrer=function(e){p(e)||(e={referrer:e,referring_domain:this._getReferringDomain(e)},Ln(this,e))},O.prototype.saveEve{}},O.prototype.setDom)}},O.prototype.setUse)}},O.prototype.setGroup=function(e,t){var n;this._apiKeySet("setGroup()")&&l(e,"groupType","string")&&!p(e)&&((n={})[e]=t,e=(new m).set(e,t),this._logEvent(f.IDENTIFY_EVENT,null,null,e.userPropertiesOperations,n,null,null,null))},O.prototype.setOpt)}},O.prototype.setSessio)}},O.prototype.resetSessio))},O.prototype.regenerateDevic")},O.prototype.setDevic)}},O.prototype.setUserProperties=function(e){if(this._apiKeySet("setUserProperties()")&&l(e,"userProperties","object")){var t=ue(g(e));if(0!==Object.keys(t).length){var n,r=new m;for(n in t)t.hasOwnProperty(n)&&r.set(n,t[n]);this.identify(r)}}},O.prototype.clearUserProperties=function(){var e;this._apiKeySet("clearUserProperties()")&&((e=new m).clearAll(),this.identify(e))},O.prototype.identify=function(e,t){if(this._apiKeySet("identify()"))if((e="object"===h(e)&&e.hasOwnProperty("_q")?Tn(new m,e):e)instanceof m){if(0<Object.keys(e.userPropertiesOperations).length)return this._logEvent(f.IDENTIFY_EVENT,null,null,e.userPropertiesOperations,null,null,null,t);"function"===h(t)&&t(0,"No request sent",{reason:"No user property operations"})}else _.error("Invalid identify input type. Expected Identify object but saw "+h(e)),"function"===h(t)&&t(0,"No request sent",{reason:"Invalid identify input type"});else"function"===h(t)&&t(0,"No request sent",{reason:"API key is not set"})},O.prototype.groupIdentify=function(e,t,n,r){var i;if(this._apiKeySet("groupIdentify()"))if(!l(e,"group_type","string")||p(e))"function"===h(r)&&r(0,"No request sent",{reason:"Invalid group type"});else if(null==t)"function"===h(r)&&r(0,"No request sent",{reason:"Invalid group name"});else if((n="object"===h(n)&&n.hasOwnProperty("_q")?Tn(new m,n):n)instanceof m){if(0<Object.keys(n.userPropertiesOperations).length)return this._logEvent(f.GROUP_IDENTIFY_EVENT,null,null,null,(t=t,(e=e)in(i={})?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i),n.userPropertiesOperations,null,r);"function"===h(r)&&r(0,"No request sent",{reason:"No group property operations"})}else _.error("Invalid identify input type. Expected Identify object but saw "+h(n)),"function"===h(r)&&r(0,"No request sent",{reason:"Invalid identify input type"});else"function"===h(r)&&r(0,"No request sent",{reason:"API key is not set"})},O.prototype.setVersionNe)},O.prototype._logEvent=function(e,t,n,r,i,o,a,s){if(On(this),e)if(this.options.optOut)"function"===h(s)&&s(0,"No request sent",{reason:"optOut is set to true"});else try{var c=e===f.IDENTIFY_EVENT||e===f.GROUP_IDENTIFY_EVENT?this.nextIdentifyId():this.nextEventId(),u=this.nextSequenceNumber(),l="number"===h(a)?a:(new Date).getTime(),d=(this._sessionId&&this._lastEventTime&&!(l-this._lastEventTime>this.options.sessionTimeout)||(this._sessionId=l),this._lastEventTime=l,B(this),r=r||{},gn({},this._apiPropertiesTrackingOptions)),p=(n=gn(d,n||{}),t=t||{},i=i||{},o=o||{},{device_id:this.options.deviceId,user_id:this.options.userId,timestamp:l,event_id:c,session_id:this._sessionId||-1,event_type:e,version_name:L(this,"version_name")&&this.options.versionName||null,platform:L(this,"platform")?this.options.platform:null,os_name:L(this,"os_name")&&this._ua.browser.name||null,os_version:L(this,"os_version")&&this._ua.browser.major||null,device_model:L(this,"device_model")&&this._ua.os.name||null,language:L(this,"language")?this.options.language:null,api_properties:n,event_properties:ue(g(t)),user_properties:ue(g(r)),uuid:Sn(),library:{name:"amplitude-js",version:"4.5.2"},sequence_number:u,groups:ue(le(i)),group_properties:ue(g(o)),user_agent:this._userAgent});return e===f.IDENTIFY_EVENT||e===f.GROUP_IDENTIFY_EVENT?(this._unsentIdentifys.push(p),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push(p),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(s)||"function"!==h(s)||s(0,"No request sent",{reason:"No events to send or upload queued"}),c}catch(e){_.error(e)}else"function"===h(s)&&s(0,"No request sent",{reason:"Missing eventType"t]}) n},Rn=(O.prototype._limitEventsQuet)},O.prototype.logEvn)},O.prototype.logEventWithTimest1)},O.prototype.logEventWithGro1)},O.prototype.logRevenueV2=function(e){if(this._apiKeySet("logRevenueV2()"))if((e="object"===h(e)&&e.hasOwnProperty("_q")?Tn(new k,e):e)instanceof k){if(e&&e._isValidRevenue())return this.logEvent(f.REVENUE_EVENT,e._toJSONObject())}else _.error("Invalid revenue input type. Expected Revenue object but saw "+h(e))},O.prototype.logReve-1},O.prototype.removeEver}});O.prototype.sendEvents=function(n){var e,r,i,o,t,a,s;this._apiKeySet("sendEvents()")?this.options.optOut?"function"===h(n)&&n(0,"No request sent",{reason:"optOut is set to true"}):0===this._unsentCount()?"function"===h(n)&&n(0,"No request sent",{reason:"No events to send"}):this._sending?"function"===h(n)&&n(0,"No request sent",{reason:"Request already in progress"}):(this._sending=!0,e=(this.options.forceHttps||"https:"===window.location.protocol?"https":"http")+"://"+this.options.apiEndpoint+"/",r=Math.min(this._unsentCount(),this.options.uploadBatchSize),a=this._mergeEventsAndIdentifys(r),i=a.maxEventId,o=a.maxIdentifyId,a=JSON.stringify(a.eventsToSend),t=(new Date).getTime(),a={client:this.options.apiKey,e:a,v:f.API_VERSION,upload_time:t,checksum:me(f.API_VERSION+this.options.apiKey+a+t)},s=this,new Pn(e,a).s{}})):"function"===h(n)&&n(0,"No request sent",{reason:"API key not set"})},O.prototype._mergeEventsAndIdentifys=function(e){for(var t=[],n=0,r=-1,i=0,o=-1;t.length<e;){var a,s=i>=this._unsentIdentifys.length,c=n>=this._unsentEvents.length;if(c&&s){_.error("Merging Events and Identifys, less events and identifys than expected");break}s||!c&&(!("sequence_number"in this._unsentEvents[n])||this._unsentEvents[n].sequence_number<this._unsentIdentifys[i].sequence_number)?r=(a=this._unsentEvents[n++]).event_id:o=(a=this._unsentIdentifys[i++]).event_id,t.push(a)}return{eventsToSend:t,maxEventId:r,maxIdentifyId:o}},O.prototype.setGlobalUserProperte)},O.prototype.__VERSION__="4.5.2";var xn=b(Object.keys,Object),Vn=Object.prototype.hasOwnProperty;var{}}var Fne)},Gn=Object.prototype.hasOwnProperty,q])}),Yn=(M.prototype.Identify=m,M.prototype.Revenue=k,M.prototype.getInsta,t},M.prototype.i))},M.prototype.runQueuedFunctions=function(){for(var e,t=0;t<this._q.length;t++){var n=this[this._q[t][0]];"function"===h(n)&&n.apply(this,this._q[t].slice(1))}for(e in this._q=[],this._instances)this._instances.hasOwnProperty(e)&&this._instances[e].runQueuedFunctions()},M.prototype.isNewSession=function(){return this.getInstance().isNewSession()},M.prototype.getSessionId=function(){return this.getInstance().getSessionId()},M.prototype.nextEventId=function(){return this.getInstance().nextEventId()},M.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},M.prototype.nextSequenceNum()},M.prototype.saveEvents=function(){this.getInstance().saveEvents()},M.prototype.setDomain=function(e){this.getInstance().setDomain(e)},M.prototype.setUserId=function(e){this.getInstance().setUserId(e)},M.prototype.setGroup=function(e,t){this.getInstance().setGroup(e,t)},M.prototype.setOptOut=function(e){this.getInstance().setOptOut(e)},M.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},M.prototype.setDeviceId=function(e){this.getInstance().setDeviceId(e)},M.prototype.setUserProperties=function(e){this.getInstance().setUserProperties(e)},M.prototype.clearUserPropert()},M.prototype.identify=function(e,t){this.getInstance().identify(e,t)},M.prototype.setVersionName=function(e){this.getInstance().setVersionName(e)},M.prototype.logEvent=function(e,t,n){return this.getInstance().logEvent(e,t,n)},M.prototype.logEventWithGror)},M.prototype.logRevenue)},M.prototype.logReven)},M.prototype.removeEvet)},M.prototype.sendEvents=function(e){this.getInstance().sendEvents(e)},M.prototype.setGlobalUserProperte)},M.prototype.__VERSION__="4.5.2",window.amplitude||{}),Kn=new M;for(Fn in Kn._q=Yn._q||[],Yn._iq)Yn._iq.hasOwnProperty(Fn)&&(Kn.getInstance(Fn)._q=Yn._iq[Fn]._q||[]);return Kn},"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.amplitude=t()}(),CBC.APP.ANA.VALIDATORS.FBPIXEL=function(){var e=[],r=void 0;return{shouldRestrictTracking:function(){return/(cbc)?kids(cbc2|news|fantasyhockey)?/.test(CBC.APP.SC.UTIL.returnURL())||CBC.APP.SC.UTIL.isIOSWebviewPrivate()},validateFacebookLibrary:function(){return new Promise(function(t,n){CBC.APP.ANA.VALIDATORS.FBPIXEL.setUserOptinFlag().then(function(e){e?(CBC.APP.ANA.LIBRARY.FBPIXEL.facebookLibrary(),t(!0)):t(!1)}).catch(function(e){n(e)})})},initializeFacebookLibrary:function(){return new Promise(function(t,e){CBC.APP.SC.masterSwitch.switches&&CBC.APP.SC.masterSwitch.switches.facebook&&!CBC.APP.ANA.VALIDATORS.FBPIXEL.shouldRestrictTracking()?CBC.APP.ANA.VALIDATORS.FBPIXEL.validateFacebookLibrary().finally(function(){t(CBC.APP.ANA.VALIDATORS.FBPIXEL.checkOptIn())}):CBC.APP.SC.masterSwitch.switches&&{}.hasOwnProperty.call(CBC.APP.SC.masterSwitch.switches,"facebook")?e("Facebook Library has not been initialized"):CBC.APP.SC.UTIL.masterSwitchMetaPromise().then(function(e){e.switches.facebook&&!CBC.APP.ANA.VALIDATORS.FBPIXEL.shouldRestrictTracking()&&CBC.APP.ANA.VALIDATORS.FBPIXEL.validateFacebookLibrary().finally(function(){t(CBC.APP.ANA.VALIDATORS.FBPIXEL.checkOptIn())})})})},checkOptinStatusAndPrivacy:function(){return window.fbq&&CBC.APP.ANA.VALIDATORS.FBPIXEL.checkOptIn()&&!CBC.APP.ANA.VALIDATORS.FBPIXEL.shouldRestrictTracking()},getUserFlagPromise:function(){var e=CBC.APP.SC.UTIL.getCookie("cbc_plus"),t=CBC.APP.SC.UTIL.getCookie("cbc_visitor"),e=e.length?e:t,r="https://ups.data.cbc.ca/v0/UIEUser/"+e+"/UPSPreferences/fdfc9e";return 0===e.length?Promise.resolve({response:JSON.stringify({fbpixel_tracking:!1})}):new Promise(function(t,n){CBC.APP.SC.UTIL.makeGETRequest(r,{success:function(e){t(e)},faile)}},{failure:{message:"unable to communicate"}})})},setUserOptinFlag:function(){return new Promise(function(t,n){CBC.APP.ANA.VALIDATORS.FBPIXEL.getUserFlagPromise().then(function(e){e=JSON.parse(e.response);window.CBC.APP.PubSub.publish("AD_PREFERENCES_LOADED",e),t(r=void 0===e.fbpixel_tracking||e.fbpixel_tracking)}).catch(function(e){n(e)})})},checkOptIn:function(){return r},trackEvent:function(){void 0===window.fbq&&void 0===CBC.APP.ANA.VALIDATORS.FBPIXEL.checkOptIn()?e.push("track"):CBC.APP.ANA.DISPATCHERS.FBPIXEL&&CBC.APP.ANA.VALIDATORS.FBPIXEL.checkOptinStatusAndPrivacy()&&CBC.APP.ANA.DISPATCHERS.FBPIXEL.pageView()},executeQueue:function(){e.length&&e.forEach(function(e){"track"===e&&CBC.APP.ANA.VALIDATORS.FBPIXEL.trackEvent()})}}}(),CBC.APP.ANA.LIBRARY.Amplitude=function(){var t=!1,n=!1,r=!1;function i(){if(CBC.APP.SC.Subscribers.amplitude){var e=CBC.APP.SC.Subscribers.amplitude,t=e.length;if(t)for(var n=0;n<t;n++)"function"==typeof e[t-1].cb&&e.pop().cb()}}function o(e){CBC.APP.SC.DEBUG&&"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)}function a(){var e;t=!0,window,document,r?(o("Amplitude:Warning: SDK already loaded"),i()):(r=!0,n?(o("Amplitude:Warning: SDK already initialized"),i()):(e=null,CBC.APP.SC.UTIL.getCookie("cbc_plus")&&(e=CBC.APP.SC.UTIL.getCookie("cbc_plus")),CBC.APP.SC.UTIL.getCookie("cbc_visitor")?(CBC.APP.SC.UTIL.console("CBC Visitor ID exist"),window.amplitude.getInstance("stats").init("f5b7aa101ec24385b731affd4a2f5ed0",e,{deviceId:CBC.APP.SC.UTIL.getCookie("cbc_visitor"),domain:".cbc.ca"},s)):CBC.APP.SC.UTIL.setCBCVisitorIDPromise(e,s).cae)})))}function s(){n=!0,CBC.APP.ANA.VALIDATORS.FBPIXEL.initializeFacebookLibrary().finally(function(){CBC.APP.ANA.VALIDATORS.FBPIXEL.executeQueue(),CBC.APP.ANA.VALIDATORS.Amplitude.executeQueue(),i()})}return{turnOn:function(){try{CBC.APP.SC.masterSwitch.switches.amplitude&&a()}catch(e){var t="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){JSON.parse(e.responseText).switches.amplitude&&a()},failure:function(e,t){o("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/master-switch.json timed out.")}})}},isInitialized:function(){return n},isOn:function(){return t}}}(),CBC.APP.ANA.LIBRARY.FBPIXEL={facebookLibrary:function(){var e,t,n;t=window,n=document,t.fbq||(e=t.s)},t._fbq||(t._fbq=e),(e.push=e).loaded=!0,e.version="2.0",e.queue=[],(t=n.createElement("script")).async=!0,t.src="https://connect.facebook.net/en_US/fbevents.js",(n=n.getElementsByTagName("script")[0]).parentNode.insertBefore(t,n)),fbq.disablePushState=!0,fbq("set","autoConfig",!1,"1023886784662676"),fbq("init","1023886784662676")}};var SENTRY_URL="https://browser.sentry-cdn.com/7.44.1/bundle.tracing.min.js",SENTRY_ENV="production",SENTRY_DSN="https://9b9aaf21ee3c4fc1ae36f17c41c54043@o148878.ingest.sentry.io/4504084475281408",sentryErrorHandler=function(){function i(e){CBC.APP.SC.DEBUG&&"undefined"!=typeof console&&"function"==typeof console.log&&console.log<n}var n=0,a=null,t=null;return{debug:i,initSentry:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};window.Sentry&&(null!=t&&null!=a||(t=new window.Sentry.BrowserClient({dsn:SENTRY_DSN,transport:window.Sentry.makeFetchTransport,stackParser:window.Sentry.defaultStackParser,integrations:window.Sentry.defaultIntegrations,environment:SENTRY_ENV,debug:"production"!==SENTRY_ENV,attachStacktrace:!0,normalizeDepth:!0,tracesSampleRate:0}),a=new window.Sentry.Hub(t)),e["stats-top@"]=CBC.APP.versions["cbc-stats-top"],e["stats-bottom@"]=CBC.APP.versions["cbc-stats-bottom"],a.setTags(e))},loadSentryScript:function(){return new Promise(function(e){var t;window.Sentry||o()||(n++,(t=document.createElement("script")).type="text/javascript",t.crossOrigin="anonymous",t.src=SENTRY_URL,t.integrity="sha384-+WswOKwnNyC+4lLRe7E8bNO/tukhjzv4d3gfVjLXtzleULq77vTiHDCOvCQOTECm",document.head.appendChild(t)),e()})},setUp:function(){CBC.APP.ANA.LIBRARY.SENTRY.loadSentryScript().t()})},report:function(e,t,n){var r=this;window.CBC.APP.SC.masterSwitch&&window.CBC.APP.SC.masterSwitch.switches&&window.CBC.APP.SC.masterSwitch.switches.exceptionreporting?window.Sentry?(CBC.APP.ANA.LIBRARY.SENTRY.initSentry(n),a.setExtras(t),a.captureException(e)):o()?i("Reach maximum of loading Sentry SDK!"):CBC.APP.ANA.LIBRARY.SENTRY.loadSentryScript().tn)}):i("Exception Reporting is disabled on the environment. Update master-switch configuration to enable it.")}}};function turnOnAmplitude(){var e=window.testurl||window.document.domain;window.require&&/cbcmusic\.ca$/.test(e)||CBC.APP.ANA.LIBRARY.Amplitude.isOn()||CBC.APP.ANA.LIBRARY.Amplitude.turnOn()}CBC.APP.ANA.LIBRARY.SENTRY=sentryErrorHandler(),CBC.APP.ANA.LIBRARY.SENTRY.setUp(),CBC.APP.ANA.LinkTracker=function(){"use strict";function o(e){return e.textContent.replace(/\s/g,"")?e.textContent.replace(/\n/g,"").trim():!("IMG"!==e.tagName||!e.alt.replace(/\s/g,""))&&e.alt.replace(/\n/g,"").trim()}return{checkClickEvent:function(e){try{var t=e.target,n=CBC.APP.ANA.LinkTracker.bubbleUpProps(t);CBC.APP.ANA.LinkTracker.registerLinkClick(n)}catch(e){console.log(e)}},bubbleUpProps:function(e){for(var t={};e&&"BODY"!==e.nodeName;){var n,r,i=window.CBC.APP.SC.UTIL.cleanString;for(n in e.dataset)switch(n){case"featureName":t.dataFeatureName||(t.dataFeatureName=i(e.dataset.featureName));break;case"featureInstance":t.dataFeatureInstance||(t.dataFeatureInstance=i(e.dataset.featureInstance));break;case"featurePosition":t.dataFeaturePosition||(t.dataFeaturePosition=i(e.dataset.featurePosition));break;case"featureValue":t.dataFeatureValue||(t.dataFeatureValue=i(e.dataset.featureValue));break;default:CBC.APP.SC.UTIL.console("invalid data feature type: "+n)}t.linkName||(t.linkName=i(function(e){if(o(e))return o(e);if(!e.childNodes)return console.log("LinkTracker: LinkName undefined."),"";for(var t=0;t<e.childNodes.length;t++)if(o(e.childNodes[t]))return o(e.childNodes[t])}(e))),t.linkPosition||e.getAttribute("class")&&(r=new RegExp(/\bsclt-([a-zA-Z0-9_]+)\b/),r=e.getAttribute("class").match(r))&&r[1]&&(t.linkPosition=i(r[1])),e=e.parentElement}return t},registerLinkClick:function(e){var t="DATA_FEATURE_LINKS",n=window.CBC.APP.SC.UTIL,r=(n.setCookie(t,"",1),n.setCookie("SC_LINKS","",1),void 0===window.s_cbc_sitecatalyst.pageName?"":window.s_cbc_sitecatalyst.pageName),i=void 0===e.linkName?"":e.linkName;try{var o,a,s=r.replace(/"/g,'\\"'),c=i.replace(/"/g,'\\"');e.linkPosition&&(o={pageName:s,linkName:c,concatValue:"".concat(s," | ").concat(c),linkPosition:e.linkPosition},n.setCookie("SC_LINKS",JSON.stringify(o))),(e.dataFeatureName||e.dataFeatureInstance||e.dataFeaturePosition||e.dataFeatureValue)&&(a={pageName:s,dataFeatureName:e.dataFeatureName,dataFeatureInstance:e.dataFeatureInstance,dataFeaturePosition:e.dataFeaturePosition,dataFeatureValue:e.dataFeatureValue},n.setCookie(t,JSON.stringify(a)))}catch(e){console.log(e)}}}}(),function(){"use strict";window._sf_startpt=(new Date).getTime();var n={uid:46236,domain:"cbc.ca",flickerControl:!1,useCanonical:!0,autoDetect:!1,articleBlockSelector:"a.card"},a=!1;document.location.pathname.match(/^\/g\/stats\/ext.html/g)&&(n.path=document.location.href),n.cbc={authors:"",sections:"",title:"",path:"",stringSanit()},objectToSections:function(e){var t=[];return e.contentarea&&t.push(n.cbc.stringSanitize(e.contentarea)),e.subsection1&&t.push(n.cbc.stringSanitize(e.subsection1)),e.subsection2&&t.push(n.cbc.stringSanitize(e.subsection2)),e.subsection3&&t.push(n.cbc.stringSanitize(e.subsection3)),e.contenttype&&(t.push(n.cbc.stringSanitize(e.contenttype)),"index"===e.contenttype)&&(window._sf_async_config.useCanonical=!1),"string"==typeof CBC.APP.SC.DTM.DATA.syndicate&&t.push(n.cbc.stringSanitize(CBC.APP.SC.DTM.DATA.syndicate)),e.title&&(e.spa||e.syndicate)?this.title=/\s/g.test(e.title)?e.title:e.title.replace(/\-/g," "):this.title=document.title,e.url&&(this.path=e.url),t.join(",")},chartbeatSections:function(){0<Object.keys(CBC.APP.SC.DTM.formatted.chartbeat).length&&(this.sections=n.cbc.objectToSections(CBC.APP.SC.DTM.formatted.chartbeat)),"string"==typeof this.sections&&this.sections.match(/regions/)&&(this.sections=this.sections.replace("radio","news"))},chartbeatAuthors:function(){this.authors="",CBC.APP.SC.DTM.formatted.chartbeat&&(this.authors=void 0!==CBC.APP.SC.DTM.formatted.chartbeat.authors?CBC.APP.SC.DTM.formatted.chartbeat.authors.toLowerCase().replace(/\s/g,"-"):"")},chartbeatTitle:function(e){void 0!==this.title&&""!==this.title||(this.title=e)},chartbeatPath:function(e){void 0!==this.path&&""!==this.path||(this.path=e)},clearMetadata:function(){try{this.sections="",this.authors="",this.title="",this.path=""}catch(e){CBC.APP.SC.DEBUG&&console.log("Error - Chartbeat clearMetadata: "+e)}},setIframeM{0},addLibrary:function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0],e=(e.async=!0,e.src="//static.chartbeat.com/js/chartbeat_mab_image.js",t.parentNode.insertBefore(e,t),document.createElement("script")),t=document.getElementsByTagName("script")[0];e.src="//static.chartbeat.com/js/chartbeat_video.js",t.parentNode.insertBefore(e,t),"fia"===window.CBC.APP.SC.DTM.DATA.syndicate&&(e=document.createElement("script"),t=document.getElementsByTagName("script")[0],e.src="//static.chartbeat.com/js/chartbeat_fia.js",e.defer=!0,t.parentNode.insertBefore(e,t))},pageChange:function(){var e,t,n,r,i="",o="";try{if(i=document.title,o=CBC.APP.SC.UTIL.returnURL().replace(/\?.*|#.*/,""),CBC.APP.SC.DTM.formatted.chartbeat&&(i=(void 0!==window.CBC.APP.SC.DTM.formatted.chartbeat.title?window.CBC.APP.SC.DTM.formatted.chartbeat:document).title,o=void 0!==window.CBC.APP.SC.DTM.formatted.chartbeat.url?window.CBC.APP.SC.DTM.formatted.chartbeat.url:CBC.APP.SC.UTIL.returnURL().replace(/\?.*|#.*/,"")),a&&window._sf_async_config.cbc.clearMetadata(),window._sf_async_config.cbc.chartbeatAuthors(),window._sf_async_config.cbc.chartbeatSections(),window._sf_async_config.cbc.chartbeatPath(o),window._sf_async_config.cbc.chartbeatTitle(i),e=this.authors,t=this.sections,n=this.path,r=this.title,a){if(void 0===window.pSUPERFLY||"function"!=typeof window.pSUPERFLY.virtualPage)return!1;window.pSUPERFLY.virtualPage({authors:e,sections:t,path:n,title:r})}else window._sf_async_config.authors=e,window._sf_async_config.sections=t,window._sf_async_config.title=r,window._sf_async_config.path=n,window._sf_async_config.cbc.addLibrary(),a=!0;return CBC.APP.SC.DEBUG&&console.log("Chartbeat - location: "+o+" title: "+i),!0}catch(e){return CBC.APP.SC.DEBUG&&console.log("Error - ChartbeatSPA: "+e),!1}}},window._sf_async_config||(window._sf_async_config=n)}(),function(){"use strict";var e;Object.keys(CBC.APP.PubSub).length||(e=function(){function r(e,t,n){_classCallCheck(this,r),this.subscribers=e||{},this.queuedEvents=t||[],this.isOn=n||!1}return _createClass(r,[{key:"turnOn",value:function(){if(this.isOn=!0,this.queuedEvents.length)for(var e=0;e<this.queuedEvents.length;e++)this.publish(this.queuedEvents[e].event,this.queuedEvents[e].payload),this.queuedEvents.splice(e,1)}},{key:"turnOff",va!1}},{key:"isOn",value:function(){return this.isOn}},{key:"publish",value:function(t,n){t in this.subscribers?this.subscribers[t].slice().forEach(function(e){try{e(t,n)}catch(e){console.error(e.message)}}):this.isOn||this.queuedEvents.push({event:t,payload:n})}},{key:"subscribe",value:function(e,t){return e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].s!0})?(console.log("callback already exists for event:",e,t),!1):(this.subscribers[e].push(t),!0)}},{key:"unsubscribe",value:function(e,r){e in this.subscribers&&this.subscribers[e].some(function(e,t,n){if(r===e)return n.splice(t,1),!0})}}]),r}(),CBC.APP.PubSub=new e)}(),CBC.APP.ANA.VARS=CBC.APP.ANA.VARS||{},CBC.APP.ANA.VARS.sessionID="",CBC.APP.ANA.VARS.sessionTimeOut=0,CBC.APP.SC.EventTracker=function(){"use strict";var i=!1,o=[],a=[];function n(){if(CBC.APP.SC.Subscribers.eventtracker){var e=CBC.APP.SC.Subscribers.eventtracker,t=e.length;if(t)for(var n=0;n<t;n++)"function"==typeof e[t-1].cb&&e.pop().cb()}}function s(){var e,t="",t=/cbc\.ca$/.test(window.document.domain)?".cbc.ca":void 0;CBC.APP.SC.UTIL.getCookie("cbc-session")?(e=CBC.APP.SC.UTIL.getCookie("cbc-session"),CBC.APP.SC.UTIL.setCookie("cbc-session",e,1/48,t)):CBC.APP.SC.UTIL.setCookie("cbc-session",CBC.APP.SC.UTIL.getEpochTime(),1/48,t)}function c(e){CBC.APP.SC.DEBUG&&"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)}function t(e,t){var n,r;return"string"!=typeof e?(c("EventTracker - Warning: did not send an event name: "+e),!1):"object"!==_typeof2(t)?(c("EventTracker - Warning: event properties must be sent as an object: "+t),!1):i?(n=(n=e).toUpperCase(),Boolean(o[n])?("START WEB SESSION"!==e.toUpperCase()&&(window.navigator.cookieEnabled?(n=CBC.APP.SC.UTIL.getCookie("cbc-session"),CBC.APP.SC.EventTracker.checkStartWebSession(n,!0)):CBC.APP.SC.EventTracker.checkStartWebSession("",!1)),n=e,r=t,s(),CBC.APP.PubSub.publish(n.toUpperCase(),r),t):(c("EventTracker - Warning: not a valid event: "+e),!1)):(a.push([e,t]),c("EventTracker - Warning: not turned on but the tracked events have been queued: "+e+" "+t),!1)}function r(){if(CBC.APP.ANA.LIBRARY.Amplitude.turnOn(),i=!0,a.length){for(var e=0;e<a.length;e++)t(a[e][0],a[e][1]);a=[]}}return{trackEvent:t,setCBCSession:s,checkStartWebSession:function(e,t){return t?e?(c("checkStartWebSession: current session in progress."),!1):(c('checkStartWebSession: new session - firing "START WEB SESSION"'),window.CBC.APP.SC.EventTracker.trackEvent("START WEB SESSION",{}),!0):(c("checkStartWebSession: (cookies disabled) - tracking in memory."),t=CBC.APP.SC.UTIL.getEpochTime(),CBC.APP.ANA.VARS.sessionTimeOut+18e5<t?(c('checkStartWebSession: (cookies disabled) new session - firing "START WEB SESSION"'),CBC.APP.ANA.VARS.sessionID=t.toString(),CBC.APP.ANA.VARS.sessionTimeOut=t,window.CBC.APP.SC.EventTracker.trackEvent("START WEB SESSION",{}),!0):(c("checkStartWebSession: (cookies disabled) - current session in progress."),CBC.APP.ANA.VARS.sessionTimeOut=t,!1))},getValidEvents:function(){return o},isOn:function(){return i},turnOn:function(){try{o=CBC.APP.SC.masterSwitch.amplitude.eventshash,r(),n()}catch(e){var t="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){e=JSON.parse(e.responseText);o=e.amplitude.eventshash,r(),n()},faili)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/master-switch.json timed out.")}})}}}}(),CBC.APP.SC.Subscribers.eventtracker=CBC.APP.SC.Subscribers.eventtracker||[],CBC.APP.SC.EventTracker.turnOn(),window.conductricsDataLayer=window.conductricsDataLayer||[],Object.keys(CBC.APP.AB).length||(CBC.APP.AB={Experiments:{ids:[],variants:[]},setUserPropertyExperiments:function(){var e,t,n,r,i,o,a,s,c;CBC.APP.SC.UTIL.getDoNotTrackValue()||(e="stats_experiment_ids",t="stats_experiment_variants",n="experiment.id",r="experiment.variant",i=window.CBC.APP.SC.UTIL.getCookie("stats_experiment_ids"),o=window.CBC.APP.SC.UTIL.getCookie("stats_experiment_variants"),i&&"undefined"!==i&&o&&"undefined"!==o?(i!==JSON.stringify(this.Experiments.ids)&&(a=[],this.Experiments.ids.forEach(function(e){-1==i.indexOf(e)&&a.push(e)}),a.length)&&(c=window.CBC.APP.SC.UTIL.uniqueArray(JSON.parse(i).concat(this.Experiments.ids)),window.CBC.APP.SC.UTIL.setCookie(e,JSON.stringify(c)),window.CBC.APP.ANA.FORMATTERS.Amplitude.mUP("append",n,a)),o!==JSON.stringify(this.Experiments.variants)&&(s=[],this.Experiments.variants.forEach(function(e){-1==o.indexOf(e)&&s.push(e)}),s.length)&&(c=window.CBC.APP.SC.UTIL.uniqueArray(JSON.parse(o).concat(this.Experiments.variants)),window.CBC.APP.SC.UTIL.setCookie(t,JSON.stringify(c)),window.CBC.APP.ANA.FORMATTERS.Amplitude.mUP("append",r,s))):(window.CBC.APP.SC.UTIL.setCookie(e,JSON.stringify(this.Experiments.ids)),window.CBC.APP.ANA.FORMATTERS.Amplitude.mUP("append",n,this.Experiments.ids),window.CBC.APP.SC.UTIL.setCookie(t,JSON.stringify(this.Experiments.variants)),window.CBC.APP.ANA.FORMATTERS.Amplitude.mUP("append",r,this.Experiments.variants)))},sendEventGoalToConductrics:function(e,t){void 0!==CBC.APP.SC.DTM.formatted.googlecloud&&"READ"==e&&(t=CBC.APP.SC.DTM.formatted.googlecloud),"STREAMED"===e&&t.content?"video"===t.content.area||t.content.media&&"video"===t.content.media.audiovideo?window.CBC.APP.AB.Testing.sendGoal("api-streamed-video",1):("audio"===t.content.area||t.content.media&&"audio"===t.content.media.audiovideo)&&window.CBC.APP.AB.Testing.sendGoal("api-streamed-audio",1):"READ"===e&&t.content&&"comments"===t.content.type&&window.CBC.APP.AB.Testing.sendGoal("api-read-comment",1)},init:function(){turnOnAmplitude(),window.conductricsDataLayer.push({conductrics_traits:[]});function n(){CBC.APP.AB.conductrics_api=new window.Conductrics.ClientApi,CBC.APP.PubSub.subscribe("loadedAudiences",function(e,t){t=CBC.APP.DMP.LOTAME.filterAudienceSegmentIDs(t,["Conductrics"]).e)});t&&t.length&&(window.conductricsDataLayer.push(["conductrics_traits.push"].concat(_toConsumableArray(t))),CBC.APP.AB.Testing.viewStateChange("lotame-loaded"))})}try{CBC.APP.SC.masterSwitch.switches.conductrics&&n()}catch(e){var t="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){JSON.parse(e.responseText).switches.conductrics&&n()},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: ".concat(t.failure.uri))}},{success:{uri:t},failure:{uri:t}})}},Testing:{getDecision:function(n,e,t,r){if(CBC.APP.SC.UTIL.getCookie("ab_test_override")){var i=CBC.APP.SC.UTIL.getCookie("ab_test_override").split(":"),o=i[0],i=i[1];if(o===n)return console.log("Overriding Conductrics A/B test "+n+" to decision "+i),r({status:200,data:{sels:_defineProperty2({},n,i)}}),!0}return!!CBC.APP.AB.conductrics_api&&(o={a:n},e&&(o.c=e),t&&(o.n=t),r&&CBC.APP.AB.conductrics_api.exec([o],function(e,t){t.sels[n]&&(-1===CBC.APP.AB.Experiments.ids.indexOf(n)&&CBC.APP.AB.Experiments.ids.push(n),-1===CBC.APP.AB.Experiments.variants.indexOf(n+"|"+t.sels[n])&&CBC.APP.AB.Experiments.variants.push(n+"|"+t.sels[n]),CBC.APP.AB.setUserPropertyExperiments()),r({status:e?500:200,data:t})}),!0)},sendGoal:function(e,t,n){var r;return!!CBC.APP.AB.conductrics_api&&(e={g:e},t&&(e.v=t),r=n||function(){},CBC.APP.AB.conductrics_api.exec([e],function(e,t){r({status:e?500:200,data:t})}),!0)},viewStateChange:function(e,t){return!!CBC.APP.AB.conductrics_api&&(window.conductricsDataLayer.push({conductrics_vstate:e}),t?window.conductricsDataLayer.push({event:e,DATA:t}):window.conductricsDataLayer.push({event:e}),!0)}}}),function(e,t,n,r){(n=e.createElement(t)).type="text/java"+t,n.src="//cdn-cbc-v3.conductrics.com/ac-zNSqTXgWDt/v3/agent-api/js/f-vBLHMPIjsJ/dt-j8cr9H0FLuClP05ufJyktE9whuke2M?apikey=api-tmcIKLoOJOCyesvewQIB",n.onload=CBC.APP.AB.init,(r=e.getElementsByTagName(t)[0])&&r.parentNode.insertBefore(n,r),setTimeout(turnOnAmplitude,5e3)}(document,"script"),CBC.APP.readJS=function(){"use strict";return{init:function(){var e,t=!1,n=!1,r=[],s={resetConfigStatus:function(){return s.status={strict:!1,spa:!1,debug:{console:!1,overlay:!1,overlays:{}},timeInterval:1.5,activity:{scrollDepth:0,maxVertical:0,timeOnPage:0,timeInUnknownState:0,timeInView:0,scrolled:!1,dnp:0,vpp:0,pollingPoints:0,readingPoints:0,increment:100,read:!1,averageReadSpeed:5,totalTime:0,initialTime:0},thresholds:{viewport:25,domNode:30,minVertical:50,readingPoint:400,domPolling:100,minTimeInView:3,maxTimeInView:20,scrollDepth:0,percentagePoint:30}},!0},getConfig:function(){return s.status},setConfig:function(){return!(t||("undefined"==typeof readJSConfig?(s.console("Error: Cannot find Read JS config object readJSConfig"),1):("boolean"==typeof readJSConfig.spa&&(s.status.spa=readJSConfig.spa),"boolean"==typeof readJSConfig.strict&&(s.status.strict=readJSConfig.strict),readJSConfig.debug&&("boolean"==typeof readJSConfig.debug.console&&(s.status.debug.console=readJSConfig.debug.console),"boolean"==typeof readJSConfig.debug.overlay)&&(s.status.debug.overlay=readJSConfig.debug.overlay),"number"==typeof readJSConfig.timeInterval&&(s.status.timeInterval=readJSConfig.timeInterval),readJSConfig.activity&&("number"==typeof readJSConfig.activity.increment&&(s.status.activity.increment=readJSConfig.activity.increment),"number"==typeof readJSConfig.activity.averageReadSpeed)&&(s.status.activity.averageReadSpeed=readJSConfig.activity.averageReadSpeed),readJSConfig.thresholds&&("number"==typeof readJSConfig.thresholds.viewport&&(s.status.thresholds.viewport=readJSConfig.thresholds.viewport),"number"==typeof readJSConfig.thresholds.domNode&&(s.status.thresholds.domNode=readJSConfig.thresholds.domNode),"number"==typeof readJSConfig.thresholds.readingPoint&&(s.status.thresholds.readingPoint=readJSConfig.thresholds.readingPoint),"number"==typeof readJSConfig.thresholds.domPolling&&(s.status.thresholds.domPolling=readJSConfig.thresholds.domPolling),"number"==typeof readJSConfig.thresholds.timeInView&&(s.status.thresholds.timeInView=readJSConfig.thresholds.timeInView),"number"==typeof readJSConfig.thresholds.minTimeInView&&(s.status.thresholds.minTimeInView=readJSConfig.thresholds.minTimeInView),"number"==typeof readJSConfig.thresholds.maxTimeInView&&(s.status.thresholds.maxTimeInView=readJSConfig.thresholds.maxTimeInView),"number"==typeof readJSConfig.thresholds.minVertical&&(s.status.thresholds.minVertical=readJSConfig.thresholds.minVertical),"number"==typeof readJSConfig.thresholds.percentagePoint)&&(s.status.thresholds.percentagePoint=readJSConfig.thresholds.percentagePoint),"string"!=typeof readJSConfig.el?(s.console("ERROR: readJS.setConfig() expected a string representation of css selector"),1):"function"!=typeof readJSConfig.cb&&(s.console("ERROR: readJS.setConfig() expected a callback function"),1))))},setInitialTime:function(){return s.status.activity.initialTime=(new Date).getTime(),s.status.activity.initialTime},calculateTotalTime:function(){var e,t;return s.status.activity.initialTime&&(e=(new Date).getTime(),t=s.status.activity.totalTime,s.status.activity.totalTime=parseInt(t)+parseInt(e)-parseInt(s.status.activity.initialTime),s.status.activity.initialTime=0),0<s.status.activity.totalTime?s.status.activity.totalTime:(s.console("ERROR: readJS.calculateTotalTime() - initial time not set"),!1)},initialize:function(e){return"function"!=typeof e?(s.console("ERROR: readJS.initialize() expected a callback function"),!1):(s.callback=e,readJSConfig.el?(s.setInitialTime(),t=!0,s.stopPolling(),s.readingWorker=window.setInterval(s.checkActivity,1e3*s.status.timeInterval),r.push(s.readingWorker),s.console("readJS: starting interval ID",s.readingWorker),s.inDebugMode(),!0):(s.console("ERROR: readJS.initialize() expected a dom node to inspect"),!1))},getIntervals:function(){return r},checkActivity:function(){var e=s.status.timeInterval;s.status.activity.timeOnPage+=e,s.status.activity.timeInUnknownState+=e,s.status.activity.readingPoints+=e,s.detectForScroll(),s.endConditionsChecked()},endConditionsChecked:function(){return!!s.isUpdateRequired()&&(s.calculateCoordinates(),s.addPoints(),s.hasRead(),!0)},detectForScroll:function(){return!!s.status.activity.scrolled&&(s.status.activity.scrolled=!1,s.reactivate(),s.console("detected scroll:",s.status.activity.timeOnPage," seconds"),!0)},console:(e=function(){return!!s.status.debug.console&&(console.log(s.readingWorker,arguments),!0)},i.toString=function(){return e.toString()},i),getText:function(e){try{for(var t="",n=e.childNodes.length,r=0;r<n;r++){var i=e.childNodes[r];8!==i.nodeType&&(t+=1!==i.nodeType?i.nodeValue:s.getText(i))}return t.replace(/[\t\n\r]+/g,"").replace(/\s+/g," ").trim()}catch(e){return s.console(e),!1}},calculateCoordinates:function(){var e;return s.domNode?(e=s.inView(s.domNode),s.console("dom_node_inview_percent",e.dom_node_inview_percent,"dom_node_viewport_percent",e.dom_node_viewport_percent),!0):(s.console("ERROR: could not find the story body"),!1)},hasRead:function(){if(!s.status.activity.read){if(s.status.activity.scrollDepth<s.status.thresholds.scrollDepth)return s.console("Has not read yet because user didn't pass scrollDepth threshold"),s.report(),!1;if(s.status.strict&&s.status.activity.dnp<s.status.thresholds.domNode)return s.console("STRICT MODE: not enough of dom node is in view"),s.report(),!1;if(s.status.activity.readingPoints<=s.status.thresholds.readingPoint)return s.report(),!1;if(s.status.activity.timeInView<s.status.thresholds.timeInView)return s.report(),!1;s.status.activity.read=!0,s.callback(s.calculateTotalTime()),s.removeListeners(),s.console("readJS: the user has read the article",s.status.activity.readingPoints),s.stopPolling()}return!0},stopPolling:function(){s.readingWorker&&(window.clearInterval(s.readingWorker),s.console("readJS: ending interval ID",s.readingWorker),delete s.readingWorker)},report:function(){s.console("readingPoints: "+s.status.activity.readingPoints,"timeInView: "+s.status.activity.timeInView,s.status.thresholds.readingPoint,s.status.thresholds.timeInView)},addPoints:function(){return!!s.inViewport(s.domNode)&&(s.status.activity.dnp>s.status.thresholds.domNode&&(s.status.activity.readingPoints+=s.status.activity.increment),s.status.activity.vpp>s.status.thresholds.viewport&&(s.status.activity.readingPoints+=s.status.activity.increment),s.status.activity.readingPoints)},isUpdateRequired:function(){return s.status.activity.pollingPoints+=100*Math.pow(.9,s.status.activity.timeInUnknownState),s.status.activity.pollingPoints>=s.status.thresholds.domPolling&&(s.console("readJS: analyzing the DOM at",s.status.activity.timeOnPage," seconds",s.status.activity.pollingPoints),!(s.status.activity.pollingPoints=0))},reactivate:function(){s.console("readJS: reactivating refresh rate"),s.status.activity.timeInUnknownState=0,s.status.activity.pollingPoints+=s.status.activity.increment},inDebugMode:function(){s.status.debug.overlay&&(s.scrollDataOverlay=document.createElement("DIV"),s.scrollDataOverlay.style.position="fixed",s.scrollDataOverlay.style.bottom="2em",s.scrollDataOverlay.style.right="2em",s.scrollDataOverlay.style.zIndex=1e4,s.scrollDataOverlay.id="scrollinfo",document.body.appendChild(s.scrollDataOverlay),s.showScrollInfo())},inViewport:function(e){e=e.getBoundingClientRect();return 0<e.bottom&&0<e.right&&e.left<window.innerWidth&&e.top<window.innerHeight},showScrollInfo:function(){return!!s.status.debug.overlay&&(document.getElementById("scrollinfo").innerHTML=s.status.activity.scrollDepth,!0)},getScrollInfo:function(){var e=document.body.scrollTop||document.documentElement.scrollTop,e=Math.abs(e)+window.innerHeight;return e>s.status.activity.scrollDepth&&(s.status.activity.scrollDepth=e),!0},removeDomNode:function(e){e=document.getElementById(e);return!!e&&(e.parentNode.removeChild(e),!null)},removeOverl")},getVisibilityProperties:function(){var e,t;return void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hiddenProp:e,eventName:t}},handleVisibilityChange:function(){var e=s.getVisibilityProperties().hiddenProp;document[e]?(s.console("readJS: pausing after detecting focus to another tab"),s.stopPolling(),s.calculateTotalTime()):(s.console("readJS: reinitializing after detecting tab is in focus"),s.initialize(s.callback))},inView:function(e){s.domNode=e;var t,n,r={tl:[],br:[]},i=(r.tl[0]=Math.abs(document.body.scrollLeft||document.documentElement.scrollLeft),r.tl[1]=Math.abs(document.body.scrollTop||document.documentElement.scrollTop),r.br[0]=r.tl[0]+window.innerWidth,r.br[1]=r.tl[1]+window.innerHeight,r.width=window.innerWidth,r.height=window.innerHeight,r.area=r.width*r.height,s.status.debug.overlay&&(s.status.debug.overlays.vui||((i=document.createElement("DIV")).id="viewport_inview",i.style.position="absolute",i.style.background="green",i.style.opacity="0.5",i.style.zIndex=9999,document.body.appendChild(i),s.status.debug.overlays.vui=i),(i=s.status.debug.overlays.vui).style.left=r.tl[0]+"px",i.style.top=r.tl[1]+"px",i.style.width=r.width+"px",i.style.height=r.height+"px"),{tl:[],br:[]}),e=e.getBoundingClientRect(),o=void 0===window.scrollX?parseInt(window.pageXOffset,10):parseInt(window.scrollX,10),a=void 0===window.scrollY?parseInt(window.pageYOffset,10):parseInt(window.scrollY,10);return i.tl[0]=e.left+o,i.tl[1]=e.top+a,i.br[0]=i.tl[0]+e.width,i.br[1]=i.tl[1]+e.height,s.getScrollInfo(),s.status.thresholds.scrollDepth=Math.abs(i.tl[1])+e.height*s.status.thresholds.minVertical/100,s.status.debug.overlay&&(s.status.debug.overlays.dui||((n=document.createElement("DIV")).id="domnode_inview",n.style.position="absolute",n.style.background="blue",n.style.opacity="0.5",n.style.zIndex=9999,document.body.appendChild(n),s.status.debug.overlays.dui=n),(n=s.status.debug.overlays.dui).style.left=i.tl[0]+"px",n.style.top=i.tl[1]+"px",n.style.width=e.width+"px",n.style.height=e.height+"px"),s.inViewport(s.domNode)?((o={tl:[],br:[]}).tl[0]=(i.tl[0]>=r.tl[0]?i:r).tl[0],o.tl[1]=(i.tl[1]>=r.tl[1]?i:r).tl[1],o.br[0]=(i.br[0]<=r.br[0]?i:r).br[0],o.br[1]=(i.br[1]<=r.br[1]?i:r).br[1],a=Math.abs(o.tl[0]-o.br[0]),n=Math.abs(o.tl[1]-o.br[1]),e=Math.abs((i.tl[0]-i.br[0])*(i.tl[1]-i.br[1])),e=(i=Math.abs(a*n))/e*100,i=i/r.area*100,s.status.debug.overlay&&(s.status.debug.overlays.oui||((t=document.createElement("DIV")).id="overlap_inview",document.body.appendChild(t),t.style.position="absolute",t.style.background="red",t.style.opacity="0.5",t.style.zIndex=9999,s.status.debug.overlays.oui=t),(t=s.status.debug.overlays.oui).style.left=o.tl[0]+"px",t.style.top=o.tl[1]+"px",t.style.width=a+"px",t.style.height=n+"px"),r={dom_node_inview_percent:s.status.activity.dnp=e,dom_node_viewport_percent:s.status.activity.vpp=i},s.status.strict&&(e<s.status.thresholds.domNode||i<s.status.thresholds.viewport)||(s.status.activity.timeInView+=s.status.timeInterval),r):{dom_node_inview_percent:0,dom_node_viewport_percent:0}},handleScr()},handleClick:function(){s.status.activity.readingPoints+=s.status.activity.increment,s.reactivate()},handleLoad:function(){s.domNode=document.querySelector(readJSConfig.el),s.setTimeInViewThreshold(),s.domNode.addEventListener("click",s.handleClick),s.calculateCoordinates()},setTimeInViewThreshold:function(){var e,t;return"number"!=typeof s.status.thresholds.timeInView&&(e=s.getText(s.domNode).split(" ").length,t=s.status.activity.averageReadSpeed,s.status.thresholds.timeInView=Math.floor(e*(s.status.thresholds.percentagePoint/100)/t),s.status.thresholds.minTimeInView>s.status.thresholds.timeInView?s.status.thresholds.timeInView=s.status.thresholds.minTimeInView:s.status.thresholds.timeInView>s.status.thresholds.maxTimeInView&&(s.status.thresholds.timeInView=s.status.thresholds.maxTimeInView),!0)},removeListeners:function(){window.removeEventListener("scroll",s.handleScroll),window.removeEventListener("load",s.handleLoad),void 0!==s.domNode&&s.domNode.removeEventListener("click",s.handleClick),document.removeEventListener(s.getVisibilityProperties().eventName,s.handleVisibilityChange,!1)},isOn:function(){return t},turnOff:function(){return!(!t||(s.removeListeners(),s.console("readJS: stopping midway"),s.stopPolling(),s.removeOverlays(),s.status.activity.read=!1,t=!1))},turnOn:function(){return!(t||(s.resetConfigStatus(),s.setConfig(),n&&!readJSConfig.spa?(s.console("ERROR: Not a SPA. Cannot turnOn() again on the same web page"),1):"undefined"==typeof readJSConfig?(s.console("ERROR: Could not find callback and/or domNode css selector in window.readJSConfig"),1):"string"!=typeof readJSConfig.el?(s.console("ERROR: Could not find domNode css selector in window.readJSConfig"),1):"function"!=typeof readJSConfig.cb?(s.console("ERROR: Could not find callback function in window.readJSConfig"),1):(window.addEventListener("scroll",s.handleScroll),document.addEventListener(s.getVisibilityProperties().eventName,s.handleVisibilityChange,!1),s.status.spa?s.handleLoad():window.addEventListener("load",s.handleLoad),s.initialize(readJSConfig.cb),t=!0,n||(s.handleVisibilityChange(),n=!0),0)))}};function i(){return e.apply(this,arguments)}window.readJS=s},checkLoad:function(){void 0===window.readJS&&CBC.APP.readJS.init(),void 0!==window.readJSConfig&&!0!==window.readJSConfig.spa?(window.readJS.isOn&&window.readJS.resetConfigStatus(),window.readJS.turnOn()):void 0!==window.readJS&&window.readJS.resetConfigStatus()}}}(),function(){"use strict";function i(n){var a,s;s=function(){return r=this,i=function(e){switch(e.label){case 0:return n.priorityCommandQueue.length?[4,n.priorityCommandQueue.shift()()]:[3,2];case 1:return e.sent(),[3,0];case 2:for(;n.commandQueue.length&&!n.locked;)n.commandQueue.shift()();return[2]}},c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!((s=0<(s=c.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))c.label=t[1];else if(6===t[0]&&c.label<s[1])c.label=s[1],s=t;else{if(!(s&&c.label<s[2])){s[2]&&c.ops.pop(),c.trys.pop();continue}c.label=s[2],c.ops.push(t)}}t=i.call(r,c)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}var r,i,o,a,s,c,t},new(a=(a=void 0,Promise))(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function i(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}o((s=s.apply(void 0,[])).next())})}function r(e,t){var n,r,i,o,a,s,c,u,l,d,p,f;try{switch(e){case"CBC_Loaded":r=window.CBC.APP.SC.DTM.formatted.raw,n={ContentArea:null==r?void 0:r.contentarea,ContentSubsection1:null==r?void 0:r.subsection1,KeywordsSubject:_(r),KeywordsGeneric:g("generic",r),KeywordsLocation:g("location",r),KeywordsOrganization:g("organization",r),KeywordsPerson:g("person",r),ContentSubsection2:null==r?void 0:r.subsection2,ContentSubsection3:null==r?void 0:r.subsection3,ContentSubsection4:null==r?void 0:r.subsection4,AppName:r.appname,AppPillar:r.pillar};break;case"CBC_Start_Web_Session":f=window.CBC.APP.SC.DTM.formatted.raw,n={ContentArea:null==f?void 0:f.contentarea,ContentSubsection1:null==f?void 0:f.subsection1,KeywordsSubject:_(f),KeywordsGeneric:g("generic",f),KeywordsLocation:g("location",f),KeywordsOrganization:g("organization",f),KeywordsPerson:g("person",f),ContentSubsection2:null==f?void 0:f.subsection2,ContentSubsection3:null==f?void 0:f.subsection3,ContentSubsection4:null==f?void 0:f.subsection4,AppName:f.appname,AppPillar:f.pillar};break;case"CBC_Read":p=window.CBC.APP.SC.DTM.formatted.raw,n={ContentArea:null==p?void 0:p.contentarea,ContentSubsection1:null==p?void 0:p.subsection1,KeywordsSubject:_(p),KeywordsGeneric:g("generic",p),KeywordsLocation:g("location",p),KeywordsOrganization:g("organization",p),KeywordsPerson:g("person",p),ContentSubsection2:null==p?void 0:p.subsection2,ContentSubsection3:null==p?void 0:p.subsection3,ContentSubsection4:null==p?void 0:p.subsection4,AppName:p.appname,AppPillar:p.pillar};break;case"CBC_Streamed_Video":l=window.CBC.APP.SC.DTM.formatted.raw,d=t.content.media,n={ContentArea:null==l?void 0:l.contentarea,ContentSubsection1:null==l?void 0:l.subsection1,KeywordsSubject:_(l),KeywordsGeneric:g("generic",l),KeywordsLocation:g("location",l),KeywordsOrganization:g("organization",l),KeywordsPerson:g("person",l),AppName:l.appname,AppPillar:l.pillar,MediaSeason:d.seasonnumber,MediaEpisode:d.episodenumber,MediaGenre:d.genre,MediaShow:d.show,MediaSport:d.sport};break;case"CBC_Watched":c=window.CBC.APP.SC.DTM.formatted.raw,u=t.content.media,n={ContentArea:null==c?void 0:c.contentarea,ContentSubsection1:null==c?void 0:c.subsection1,KeywordsSubject:_(c),KeywordsGeneric:g("generic",c),KeywordsLocation:g("location",c),KeywordsOrganization:g("organization",c),KeywordsPerson:g("person",c),AppName:c.appname,AppPillar:c.pillar,MediaSeason:u.seasonnumber,MediaEpisode:u.episodenumber,MediaGenre:u.genre,MediaShow:u.show,MediaSport:u.sport};break;case"CBC_Streamed_Audio":a=window.CBC.APP.SC.DTM.formatted.raw,s=t.content.media,n={ContentArea:a.contentarea,ContentSubsection1:null==a?void 0:a.subsection1,KeywordsSubject:_(a),KeywordsGeneric:g("generic",a),KeywordsLocation:g("location",a),KeywordsOrganization:g("organization",a),KeywordsPerson:g("person",a),AppName:a.appname,AppPillar:a.pillar,MediaSeason:null==s?void 0:s.seasonnumber,MediaEpisode:null==s?void 0:s.episodenumber,MediaGenre:null==s?void 0:s.genre,MediaShow:null==s?void 0:s.show,MediaSport:null==s?void 0:s.sport};break;case"CBC_Listened":i=window.CBC.APP.SC.DTM.formatted.raw,o=t.content.media,n={ContentArea:null==i?void 0:i.contentarea,ContentSubsection1:null==i?void 0:i.subsection1,KeywordsSubject:_(i),KeywordsGeneric:g("generic",i),KeywordsLocation:g("location",i),KeywordsOrganization:g("organization",i),KeywordsPerson:g("person",i),AppName:i.appname,AppPillar:i.pillar,MediaSeason:o.seasonnumber,MediaEpisode:o.episodenumber,MediaGenre:o.genre,MediaShow:o.show,MediaSport:o.sport}}}catch(e){console.error("sendTimelineEvent",e)}h(function(){window.blueConicClient.profile.getProfile().timeline.createEvent(e,new Date,n,void 0,function(){})})}function o(e){var t,n=window.blueConicClient.profile.getProfile(),r=null==(r=s(e,"Addresses"))?void 0:r.PostalCode;n.setValue("gender","O"===e.Gender&&(null==(t=e.CustomFields)?void 0:t.GenderDescription)||e.Gender),n.setValue("geo_zipcode",r),n.setValue("birthYear",e.BirthDate?Number(e.BirthDate.split("/").pop()):null),p()}var e,t,n,a={eventReady:!1,locked:!0,commandQueue:[],priorityCommandQueue:[]},h=function(e){a.eventReady&&!a.locked?e():a.commandQueue.push(e)},_=function(e){var t;return null==(t=e.keywords)||!t.concepts||null==(t=e.keywords)?void 0:t.concepts.map(function(e){return e.path})},g=function(t,e){var n;return null==(n=e.keywords)||!n.tags||null==(n=e.keywords)?void 0:n.tags.fil=t}).map(function(e){return e.name})},s=function(e,t,n){return void 0===n&&(n={PostalCode:"",Value:""}),null!=(t=null==(e=null==e?void 0:e[t])?void 0:e.fpe}))?t:n})},l=function(r,i){var o,a,s,c={label:0,s1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iteratis}}}}},d=function(){return new Promise(function(e){window.blueConicClient.profile.createProfile(win0)})})},p=function(){return window.blueConicClient.profile.updateProfile(window,function(){console.log("profile updated")})};(n=e=e||{}).BLUECONIC="blueconic",n.LOTAME="lotame",(t=t||{}).GLOBAL_DISABLE_USER_TRACKING="globalDisableUserTracking",n=e.BLUECONIC,e=t.GLOBAL_DISABLE_USER_TRACKING,((t=null==(t=null==(t=null==(t=null==(t=null==(t=window.CBC)?void 0:t.APP)?void 0:t.SC)?void 0:t.dmpAudienceslist)?void 0:t.featureToggle)?void 0:t[n])?void 0===(t=t[e])?(console.error("Property ".concat(e," is not defined for ").concat(n," feature toggle.")),0):t:(console.error("".concat(n," feature toggle is not defined.")),0))?console.debug("Blueconic initialization is disabled by the feature toggle."):((e=window.CBC.APP.PubSub).subscribe("LOADED",function(e,t){r("CBC_Loaded",t)}),e.subscribe("READ",function(e,t){r("CBC_Read",t)}),e.subscribe("START WEB SESSION",function(e,t){r("CBC_Start_Web_Session",t)}),e.subscribe("STREAMED",function(e,t){var n;"video"===(null==(n=null==(n=t.content)?void 0:n.media)?void 0:n.audiovideo)&&r("CBC_Streamed_Video",t)}),e.subscribe("STREAMED",function(e,t){var n;"audio"===(null==(n=null==(n=t.content)?void 0:n.media)?void 0:n.audiovideo)&&r("CBC_Streamed_Audio",t)}),e.subscribe("WATCHED",function(e,t){r("CBC_Watched",t)}),e.subscribe("LISTENt)}),e.subscribe("UIEAlert",function(e){var t,n=window.CBC.APP.SC.UTIL.getCookie("cbc_plus"),r=window.CBC.APP.SC.UTIL.getCookie("cbc_visitor");(n||r)&&(t=function(){return new Promise(function(t){window.blueConicClient.profile.getProfile().loadValues(["cbc_plus_id","cbc_visitor_id","rc_id","rc_visitor_id","cbc_facebook_integration_allowed","cbc_ad_personalization_allowed"],void 0,function(){return u(void 0,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,(s=n,c=r,u(void 0,void 0,void 0,function(){var t,n,r,i,o,a;return l(this,function(e){switch(e.label){case 0:return t=window.blueConicClient.profile.getProfile(),n=t.getValue("cbc_plus_id"),r=t.getValue("cbc_visitor_id"),i=t.getValue("rc_id"),o=t.getValue("rc_visitor_id"),s?s===n||s===i?[3,3]:(a=r?"cbc_visitor_id":o?"rc_visitor_id":"")?[4,d()]:[3,2]:[3,4];case 1:e.sent(),t.setValue(a,""),e.label=2;case 2:t.setValue("cbc_plus_id",s),p(),e.label=3;case 3:return[3,9];case 4:return c?r?[3,6]:[4,d()]:[3,9];case 5:return e.sent(),t.setValue("cbc_visitor_id",c),p(),[3,9];case 6:return c===r||c===o?[3,9]:(a=n?"cbc_plus_id":i?"rc_id":"")?[4,d()]:[3,8];case 7:e.sent(),t.setValue(a,""),e.label=8;case 8:t.setValue("cbc_visitor_id",c),p(),e.label=9;case 9:return[2]}})}))];case 1:return e.sent(),a.locked=!1,i(a),t(),[2]}var s,c})})})})},a.eventReady?t():a.priorityCommandQueue.push(t))}),e.subscribe("AD_PREFERENCES_LOADED",function(e,t){var r=t;h(function(){var e={cbc_ad_targeting:!1!==r.cbc_ad_targeting?"true":"false",fbpixel_tracking:!1!==r.fbpixel_tracking?"true":"false"},t=window.blueConicClient.profile.getProfile(),n=!1;t.getValue("cbc_ad_personalization_allowed")!==e.cbc_ad_targeting&&(n=!0,t.setValue("cbc_ad_personalization_allowed",e.cbc_ad_targeting)),t.getValue("cbc_facebook_integration_allowed")!==e.fbpixel_tracking&&(n=!0,t.setValue("cbc_facebook_integration_allowed",e.fbpixel_tracking)),n&&(console.log("blueconic profile ad preferences updated"),window.blueConicClient.profile.updateProfile())})}),e.subscribe("SIGNED IN",function(){a.locked=!0,h(function(){return u(void 0,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,new Promise(function(n,r){window.LR_IS_READY?window.LoginRadiusSDK.authenticationApi.getProfileByAccessToken(window.localStorage.getItem("LRTokenKey")?window.localStorage.getItem("LRTokenKey").replace(/"/g,""):window.localStorage.getItem("lrtoken")?window.localStorage.getItem("lrtoken").replace(/"/g,""):window.CBC.APP.SC.UTIL.getCookie("lr-user--token")?window.CBC.APP.SC.UTIL.getCookie("lr-user--token").replace(/"/g,""):null,nt)}):n(null)})];case 1:return t=e.sent(),n=s(t,"Email").Value,window.blueConicClient.profile.getProfile().setValue("email",n),o(t),[3,3];case 2:return e.sent(),console.log("LOGIN RADIUS ERROR"),[3,3];case 3:return[2]}})})})}),e.subscribe("SIGNED O!0}),e.subscribe("LOGIN RADIUS CHANGE EMAIL VERIFIED",function(e,t){window.blueConicClient.profile.getProfile().setValue("email",t.newEmail),p()}),e.subscribe("LOGIN RADIUS UPDATE PROFILE",function(e,o){h(function(){return u(void 0,void 0,void 0,function(){var t,n,r,i;return l(this,function(e){return t=o.nextProfile,n=window.blueConicClient.profile.getProfile(),r=null==(r=s(t,"Addresses"))?void 0:r.PostalCode,n.setValue("gender","O"===t.Gender&&(null==(i=t.CustomFields)?void 0:i.GenderDescription)||t.Gender),n.setValue("geo_zipcode",r),n.setValue("birthYear",t.BirthDate?Number(t.BirthDate.split("/").pop()):null),p(),[2]})})})}),window.addEventListener("onBlueConicLoaded",function(){window.blueConicClient.event.subscribe(window.blueConicClient.event.onEventReady,{},function(e,t){t.isFirstLoad&&(window.BLUECONIC_LOADED=!0,a.eventReady=!0,i(a))})},!1))}(),function(){"use strict";var e,t={FATAL:"fatal",ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug",TRACE:"trace"},o={OFF:"OFF",FATAL:t.FATAL,ERROR:t.ERROR,WARN:t.WARN,INFO:t.INFO,DEBUG:t.DEBUG,TRACE:t.TRACE,ALL:"ALL"},a=[t.FATAL,t.ERROR,t.WARN,t.INFO,t.DEBUG,t.TRACE],n=function(){function i(e){_classCallCheck(this,i);for(var t=0,t=(e=e||o.OFF)===o.OFF?0:e===o.ALL?a.length:a.indexOf(e)+1,n=0;n<a.length;n++){var r=a[n];this[r]=n<t?this._log.bind(this,r):function(){}}}return _createClass(i,[{key:"_log",value:function(e,t){var n,r=this,i=(e=e||"",t);i=2<arguments.length?(n=Array.prototype.slice.call(arguments,2),t.replace(/{(\d+)}/g,function(e,t){return t in n?r._stringify(n[t]):e})):this._stringify(t),console.log("DMP: ".concat(e.toUpperCase(),": ").concat(i))}},{key:"_stringify",value:function(e){var t=this;return e&&e.toString===Object.prototype.toString?JSON.stringify(e):Array.isArray(e)?"[".concat(e.map(function(e){return t._stringify(e)}).join(","),"]"):""+e}}]),i}(),t=(n.LEVEL=o,n.CHANNEL=t,function(){function r(e,t){var n=e.logger,e=e.pubSub;_classCallCheck(this,r),this._logger=n,this._pubSub=e,this._hostname=t||"",this._pageViewCount=0,this._hasInited=!1,this._hasReceivedAudiences=!1,this._audienceCallbacks=[],this._audienceMasks=null}return _createClass(r,[{key:"getClientId",value:function(){var e=10205;return e="cbcmusic.ca"===this._hostname.replace(/.+?(?=cbc)/,"")?10907:e}},{key:"isInitialized",vat)}},{key:"audienceLabels",get:function(){var e=window.CBC.APP.SC&&window.CBC.APP.SC.dmpAudienceslist;return void 0===e?(this._logger.error("expected window.CBC.APP.SC.dmpAudienceslist"),{}):e.audiences}},{key:"audienceMasks",get:function(){if(null===this._audienceMasks){var n=window.CBC.APP.SC&&window.CBC.APP.SC.dmpAudienceslist;if(void 0===n)return this._logger.error("expected window.CBC.APP.SC.dmpAudienceslist"),{};this._audienceMasks=Object.keys(n.masks).reduce(function(e,t){return Object.assign(e,_defineProperty2({},t.toLowerCase(),n.masks[t]))},{})}return this._audienceMasks}},{key:"pageViewCount",get:function(){return this._pageViewCount}},{key:"LOTCC",get:function(){return window["lotame_".concat(this.getClientId())]}},{key:"profileId",get:function(){return this._profileId}},{key:"audiences",get:function(){var t=this;return new Promise(function(e){if(t._hasReceivedAudiences)return e(t._parseAudiences(t.LOTCC.getAudiences()));t._audienceCallbacks.push(e)})}},{key:"init",value:function(){this.isInitialized()||this._hasInited||(this.loadScript(),this._hasInited=!0)}},{key:"loadScript",value:function(){var t,e,n,r=this;this._hasInited||(t=this.getClientId(),(e=this.createScriptElement()).src="https://tags.crwdcntrl.net/lt/c/".concat(t,"/lt.min.js"),e.async=!0,n=window["lotame_".concat(t)]||{},n=Object.assign({cmd:[]},n,{data:{},config:{clientId:t,audienceLocalStorage:!0,onTagRe",t)},onProfileReady:function(e){var t=r._parseAudiences(e.getAudiences());r._profileId=e.getProfileId(),r._audienceCallbacks.fo(e)}}),r._audienceCallbacks=[],r._hasReceivedAudiences=!0,r._logger.debug(" profile ready for {0}",r.profileId),r._pubSub.publish("loadedAudiences",t)}}}),window["lotame_".concat(t)]=n,this.injectScriptElement(e))}},{key:"_parseAudiences",value:function(e){return Array.isArray(e{id:e}}):(this._logger.error("expected audiences to be an array, received {0}",_typeof2(e)),[])}},{key:"injectScriptElement",value:function(e){var t;e&&(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)}},{key:"createScriptElementript")}},{key:"sendBehaviours",value:function(e,t){var n=this,r=t&&this.pageViewCount;t&&this._pageViewCount++;var i={behaviors:eh(t),e},{})};r?this.LOTCC.cmd.push(function(){n.LOTCC.page(i)}):this.LOTCC.cect(i)})}},{key:"getLabelMask",value:function(e){if("string"==typeof e)return this.audienceMasks[e.toLowerCase()]}},{key:"filterAudiences",value:function(e){var t,n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return 0!==e.length&&Array.isArray(r)&&0!==r.length?(t=r.map(function(e){return n.getLabelMask(e)}).filter(function(e){return e})rn e|t},0),e.filter(function(e){return e&&n.audienceLabels[e.id]&t})):[]}},{key:"filterAudienceSegmentIDs",value:function(e){return this.filterAudiences(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){return e.id})}}]),r}());window.CBC=window.CBC||{},(e=window.CBC).APP=e.APP||{},e.APP.DMP=e.APP.DMP||{},n=new n(window.CBC.APP.SC.DEBUG?n.LEVEL.DEBUG:n.LEVEL.ERROR),e.APP.DMP.LOGGER=n,e.APP.DMP.LOTAME=new t({logger:n,pubSub:e.APP.PubSub},window.location.hostname),/cbckids\.(ca|com)|cbc\.(ca|com)(:\d{4})?\/kids($|\/|cbc2|news|fantasyhockey)|subscriptions\.cbc\.ca\/widget\/KID/i.test(window.location.href)||e.APP.SC.UTIL.isIOSWebviewPrivate()?n.debug("Not initializing Lotame on CBC Kids or Kids News"):e.APP.DMP.LOTAME.init()}(),function(){"use strict";var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.id="adblockers-test-js",t.src="//www.cbc.ca/g/stats/js/ads.js",e&&e.parentNode.insertBefore(t,e)}(),Object.getOwnPropertyNames(CBC.APP.SC.VideoHeartbeatVars).length||(CBC.APP.SC.VideoHeartbeatVars={Conf:{marketingCloudId:"951720B3535680CB0A490D45@AdobeOrg",trackingServer:"metrics.cbc.ca",trackingServerSecure:"smetrics.cbc.ca",visitorNamespace:"cbcca",dpid:"cbc-dpid",dpuuid:"cbc-dpuuid",charSet:"UTF-8",heartbeatServer:"cbcca.hb.omtrdc.net",publisher:"951720B3535680CB0A490D45@AdobeOrg",playerSuffix:{s:":singleplayer",m:":multipleplayers"},varDefault:"nan",audioVideoDefault:"video",totalchaptersDefault:1},Player:{channel:"cbc-videoheartbeat-channel",ovp:"cbc-videoheartbeat-ovp",sdk:null,quietMode:!1,ssl:!0,debugLogging:!1,consoleLogging:!1,pagevars:{pageName:"cbc-videoheartbeat-pagename",prop60:"cbc-videoheartbeat-web",prop63:"web",prop64:"",s_account:"adobeheartbeatdevcbc"},videoid:"cbc-videoheartbeat-videoid",videoname:"cbc-videoheartbeat-videoname",videoplayername:"cbc-videoheartbeat-playername",videolength:86400,videostreamtype:"on-demand",videoplayhead:0,chaptername:"cbc-videoheartbeat-chaptername",chapterlength:18e3,chapterstarttime:0,chapterposition:1,adbreakposition:1,adbreakname:"unknown",adbreakstarttime:0,adlength:30,adid:"cbc-videoheartbeat-adid",adposition:1,cbcContextVideo:{},playerContextVideo:{},cbcContextChapter:{},playerContextChapter:{},customContextGenerate:{}}}),Object.getOwnPropertyNames(CBCRC.ANA.MEDIA).length||(CBCRC.ANA.MEDIA=function(){"use strict";function n(e){void 0!==e&&void 0!==r[e]&&(CBC.APP.SC.VideoHeartbeat.destroy(r[e]),delete r[e])}var r={};return{init:function(e){var e=void 0===e?window.CBC.APP.SC.UTIL.getUuid().replace(/-/g,""):e,t=(void 0!==r[e]&&n(e),"vhb"+Math.floor(99999*Math.random()));return r[e]=t,e},destroy:n,getActivePlayerList:function(){return r},updatePlayHead:function(e,t){void 0!==e&&void 0!==r[e]&&CBC.APP.SC.VideoHeartbeat.updatePlayHead(r[e],{playhead:t})}}}()),Object.getOwnPropertyNames(CBC.APP.SC.VideoHeartbeat).length||(CBC.APP.SC.VideoHeartbeat=function(){"use strict";var A={},b=ADB.va.MediaHeartbeat,R=ADB.va.MediaHeartbeatConfig,x=ADB.va.MediaHeartbeatDelegate,P={VIDEO_LOAD:"_onLoad",VIDEO_UNLOAD:"_onUnload",PLAY:"_onPlay",PAUSE:"_onPause",COMPLETE:"_onComplete",DESTROY:"_destroy",SEEK_START:"_onSeekStart",SEEK_COMPLETE:"_onSeekComplete",CHAPTER_START:"_onChapterStart",CHAPTER_SKIP:"_onChapterSkip",CHAPTER_COMPLETE:"_onChapterComplete",ADBREAK_START:"_onAdBreakStart",ADBREAK_COMPLETE:"_onAdBreakComplete",AD_START:"_onAdStart",AD_COMPLETE:"_onAdComplete",BUFFER_START:"_onBufferStart",BUFFER_COMPLETE:"_onBufferComplete"},r={AdPosition:{PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"},ContentType:{AD:"ad",CONTENT:"ct"},VideoState:{UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"}},V=6e4,S=CBC.APP.SC.VideoHeartbeatVars.Conf,a=CBC.APP.SC.VideoHeartbeatVars.Player,n={},i="",o={};function s(e){n=window.CBC.APP.SC.VideoHeartbeat.getPlayers(),i=Object.keys(n)[0],(o=n[i]).vars.cbStrategy=o.vars.cbStrategy||{};var t=o.vars.cbStrategy;t.isReady=!1,t.title="",t.videoPath="",t.adPosition="",t.contentType=r.ContentType.CONTENT,t.totalDuration=0,t.videoState=r.VideoState.UNPLAYED,t.startTime=-1,t.playerType="",t.startPlayTime=-1,t.adPlayTime=-1,t.thumbnailPath=""}s.prototype.getStrategyName=function(){return"CBV"},s.prototype.isReady=function(){return o.vars.cbStrategy.isReady},s.prototype.getTitle=function(){return o.vars.cbStrategy.title},s.prototype.getVideoPath=function(){return o.vars.cbStrategy.videoPath},s.prototype.getThumbnailPath=function(){return""},s.prototype.getContentType=function(){return o.vars.cbStrategy.contentType},s.prototype.getAdPosition=function(){return o.vars.cbStrategy.adPosition},s.prototype.getTotalDuration=function(){return o.vars.cbStrategy.totalDuration},s.prototype.getState=function(){return o.vars.cbStrategy.videoState},s.prototype.getCurrentPayhead},s.prototype.getturn-1},s.prototype.getThumbnailPath=function(){return""},s.prototype.getPlayerType=function(){return o.vars.cbStrategy.playerType},s.prototype.getViewStartTime=function(){var e;return-1!==o.vars.cbStrategy.startTime&&0<(e=(new Date).getTime()-o.vars.cbStrategy.startTime)?e:-1},s.prototype.getViewPlayTime=function(){var e;return-1!==o.vars.cbStrategy.startPlayTime&&0<(e=(new Date).getTime()-o.vars.cbStrategy.startPlayTime)?e:-1},s.prototype.getViewAdPlayTime=function(){var e;return-1!==o.vars.cbStrategy.adPlayTime&&0<(e=(new Date).getTime()-o.vars.cbStrategy.adPlayTime)?e:-1},sturn!0nts={}};function u(e){var t="";return t=window.Detectizr&&("osVersion"===e&&window.Detectizr.os&&window.Detectizr.os.version&&(t=window.Detectizr.os.version),"os"===e)&&window.Detectizr.os&&window.Detectizr.os.name?window.Detectizr.os.name:t}function l(e){var t,n=0;for(t in e)!{}.hasOwnProperty.call(e,t)||++n;return n}function d(e){return e="string"==typeof e?CBC.APP.SC.UTIL.normalize(e.replace(/[^0-9A-Za-z/_$.+\-|\s]/g,"").replace(/\+/g,"-")):e}function w(e){return e="object"===_typeof2(e)?CBC.APP.SC.UTIL.sanitizeObject(e,""):Object.values(CBC.APP.SC.UTIL.sanitizeObject({val:e},log(e)}function I(e,t){var n=!1;return t?void 0!==e&&"object"===_typeof2(e)&&0<l(A)&&(n=!0):void 0!==e&&""!==e&&null!==e&&(n=!0),n}function p(e,t){return""!==e&&(e+="|"),I(t)?e+=t:e+=S.varDefault,e}function f(){var e=window.location.href,t=e.indexOf("#"),t=(e=-1!==t?e.substring(0,t):e).indexOf("?");return e=-1!==t?e.substring(0,t):e}function T(t){void 0!==t&&Object.keys(t).e t[e]})}function h(e){var t=e;return!!(t=void 0===e?f():t).match(/\.radio-canada\efault}function g(e,t){var n=t;switch(A[e].videoPlayer._videoInfo.streamType){case"vod":n="on-demand";break;case"live":n="live";break;case"linear":n="linear"}return n}function U(e){var n=[];if("object"!==_typeof2(e))return"";for(var t in e)!function(t){e[t].":"+e)})}(t);return n.join([","]).toLowerCase().replace(/\s/g,"-")}function D(e){var t,n=["name","value","instance"];for(t in n)e[n[t]]&&!function(e,t){try{return Boolean(CBC.APP.SC.metadataAllowlist.metadata.allowlist.feature[e][t])}catch(e){}}(n[t],e[n[t]])&&delete e[n[t]];return e.position&&!new RegExp("^[0-9]*$").test(e.position)&&delete e.position,e}c.prototype.addEventLx:n}))},c.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var r,i,o=!1;for(i in this._events)if(e===i){o=!0;break}if(o){for(r=this._events[i].length-1;0<=r;r--){var a=this._events[i][r];t===a.cb&&n===a.ctx&&this._events[i].splice(r,1)}this._events[i].length||delete this._events[i]}}},c.prototype.dispatchEvent=function(e){if(e)for(var t in this._events)if({}.hasOwnProperty.call(this._events,t)&&e===t){for(var n=this._events[t].slice(0),r=n.length,i=0;i<r;++i)n[i].cb.call(n[i].ctx);break}};var N=function e(t){return e.prototype._instance=e.prototype._instance||{},e.prototype._instance[t]||(e.prototype._instance[t]=new c),e.prototype._instance[t]};function m(e,t){try{E("updatePlayHead:::"+e),E(t);var n,r,i,o,a,s=0;if(t&&t.playhead&&(s=t.playhead),A[e]&&A[e].videoPlayer&&A[e].videoPlayer._videoInfo&&A[e].vars)return n=A[e].vars.cbcContextVideo,A[e].videoPlayer._videoInfo.playhead=s,A[e].vars.playhead=s,"video"===n.audiovideo?(n._doNotFireWatchedEvent=n._doNotFireWatchedEvent||!1,"on-demand"===n.liveondemand?!n._doNotFireWatchedEvent&&s>Math.floor(.75*A[e].videoPlayer._videoInfo.length)?(n._doNotFireWatchedEvent=!0,E("User has seeked past 75% of the video length. Therefore, WATCHED event will not ever fire for this video.")):!n._doNotFireWatchedEvent&&window.CBC.APP.SC.EventTracker&&A[e].videoPlayer._videoInfo.length&&s==Math.floor(.75*A[e].videoPlayer._videoInfo.length)&&(n._doNotFireWatchedEvent=!0,window.CBC.APP.SC.EventTracker.isOn()||window.CBC.APP.SC.EventTracker.turnOn(),r=k(A[e],"WATCHED"),E("CBC_EventTracker: FIRING WATCHED EVENT"),E(r),CBC.APP.SC.EventTracker.trackEvent("WATCHED",r)):(i=CBC.APP.SC.VideoHeartbeat.getCurrentTime(),!n._doNotFireWatchedEvent&&i-n._timeMainContentStreamStarted-n._accumulatedPauseTime-n._accumulatedBufferTime>=V&&(n._doNotFireWatchedEvent=!0,window.CBC.APP.SC.EventTracker.isOn()||window.CBC.APP.SC.EventTracker.turnOn(),o=k(A[e],"WATCHED"),E("CBC_EventTracker: FIRING WATCHED EVENT"),E(o),CBC.APP.SC.EventTracker.trackEvent("WATCHED",o)))):"audio"===n.audiovideo&&(n._doNotFireListenedEvent=n._doNotFireListenedEvent||!1,"on-demand"===n.liveondemand)&&(!n._doNotFireListenedEvent&&s>Math.floor(.75*A[e].videoPlayer._videoInfo.length)?(n._doNotFireListenedEvent=!0,E("User has seeked past 75% of the video length. Therefore, LISTENED event will not ever fire for this video.")):!n._doNotFireListenedEvent&&window.CBC.APP.SC.EventTracker&&A[e].videoPlayer._videoInfo.length&&s==Math.floor(.75*A[e].videoPlayer._videoInfo.length)&&(n._doNotFireListenedEvent=!0,window.CBC.APP.SC.EventTracker.isOn()||window.CBC.APP.SC.EventTracker.turnOn(),a=k(A[e],"LISTENED"),E("CBC_EventTracker: FIRING LISTENED EVENT"),E(a),CBC.APP.SC.EventTracker.trackEvent("LISTENED",a))),!0;throw new Error(L(6,"updatePlayHead",e,t))}catch(e){return M(e),!1}}function v(e,t){try{if(E("videoPause:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onPause)return m(e,t),A[e].videoPlayer._onPause(e,t),!0;throw new Error(L(8,"videoPause",e,t))}catch(e){return M(e),!1}}function C(e,t){try{if(E("videoUnload:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._videoUnload)return A[e].videoPlayer._videoUnload(e,t),!0;throw new Error(L(4,"videoUnload",e,t))}catch(e){return M(e),!1}}function y(e){try{if(E("destroy:::"+e),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._destroy)return C(e),A[e].videoPlayer._destroy(e),!0;throw new Error(L(5,"destroy",e))}catch(e){return M(e),!1}}function F(e,t){var n="",r=A[e].vars.cbcContextVideo,i=A[e].vars.customContextGenerate.showval,n=p(n,r.contentarea);return n=p(n,i),n=p(n,r.streamtitle),n=p(n,r.seasonnumber),n=p(n,r.episodenumber),"music"!==r.contentarea&&"radio"!==r.contentarea&&t&&I(A[e].videoPlayer._chapterInfo.position)&&r.totalchapters&&(n=p(n,A[e].videoPlayer._chapterInfo.position+"of"+r.totalchapters)),n=p(n,Math.floor(A[e].videoPlayer._videoInfo.length)),n=p(n,r.type),r.audiovideo=_(r.audiovideo),n=p(n,r.audiovideo),r.liveondemand=g(e,r.liveondemand),n=p(n,r.liveondemand)}function k(e,t){var e=e.vars,n=e.cbcContextVideo||{},e=e.customContextGenerate||{},r=window.CBC&&CBC.APP&&CBC.APP.SC&&CBC.APP.SC.DTM&&CBC.APP.SC.DTM.DATA&&CBC.APP.SC.DTM.DATA.pillar?CBC.APP.SC.DTM.DATA.pillar:"",i={content:{media:{audiovideo:n.audiovideo||n.mediaType||"",liveondemand:n.liveondemand||e.copy_videostreamtype||"",type:n.type||n.contentType||"",genre:n.genre||"",show:n.show||n.broadcastType||"",sport:n.sport||"",region:n.region||"",publishedtime:n.airdate||n.publishedTime||"",seasonnumber:n.seasonnumber&&"nan"!==n.seasonnumber?n.seasonnumber:"",episodenumber:n.episodenumber&&"nan"!==n.episodenumber?n.episodenumber:"",length:e.copy_videolength||""},area:n.contentarea||"",cms:n.source||"",id:n.uid,tier:CBC.APP.SC.UTIL.convertTier(n.contenttier),title:n.streamtitle||n.title||"",url:CBC.APP.SC.DTM.formatted.amplitude.url||document.location.href},department:n.department||{},referrer:{},app:{name:e.appname,pillar:n.pillar||r||"legacy",version:n.appversion||""},user:{tier:CBC.APP.SC.UTIL.convertTier(n.usertier)}},e=(CBC.APP.SC.DTM.formatted.raw.referrer&&CBC.APP.SC.DTM.formatted.raw.referrer.url&&(i.referrer.url=CBC.APP.SC.DTM.formatted.raw.referrer.url),n.sponsorname&&(i.sponsor={},i.sponsor.name=n.sponsorname),n.partnername&&(i.content.partner={},i.content.partner.name=n.partnername),CBC.APP.SC.LOCALGEO&&CBC.APP.SC.LOCALGEO.geo&&CBC.APP.SC.LOCALGEO.geo.timezone&&(i.device={},i.device.geo={},i.device.geo.timezone=CBC.APP.SC.LOCALGEO.geo.timezone),n.keywords&&(i.content.keywords=n.keywords),n.feature&&(i.feature=D(n.feature)),CBC.APP.SC.UTIL.getReferringDepartmentStatus());return""!==e[t]||"STREAMED"!==t&&("WATCHED"!==t&&"LISTENED"!==t||e.STREAMED!==i.content.id)||(CBC.APP.SC.UTIL.setReferringDepartmentStatus(t,i.content.id),i.referrer.department={},i.referrer.department.level1=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level1||"",i.referrer.department.level2=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level2||"",i.referrer.department.level3=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level3||"",Object.keys(i.referrer.department).forEach(function(e){""===i.referrer.department[e]&&delete i.referrer.department[e]})),Object.keys(i.referrer).length||delete i.referrer,Object.keys(i.content.media).forEach(function(e){""===i.content.media[e]&&delete i.content.media[e]}),Object.keys(i.content).forEach(function(e){""===i.content[e]&&delete i.content[e]}),Object.keys(i.app).forEach(function(e){""===i.app[e]&&delete i.app[e]}),Object.keys(i.department).forEach(function(e){""===i.department[e]&&delete i.department[e]}),Object.keys(i.department).length||delete i.department,i}function j(e){e=A[e].vars.cbcContextVideo;I(e.seasonnumber)&&/^(S|s)?[0-9]+$/.test(e.seasonnumber)?(e.seasonnumber.toString(),1===e.seasonnumber.length?e.seasonnumber="s0"+e.seasonnumber:"s"!==e.seasonnumber.charAt(0)&&(e.seasonnumber="s"+e.seasonnumber)):e.seasonnumber=S.varDefault,I(e.episodenumber)&&/^(E|e)?[0-9]+$/.test(e.episodenumber)?(e.episodenumber.toString(),1===e.episodenumber.length?e.episodenumber="e0"+e.episodenumber:"e"!==e.episodenumber.charAt(0)&&(e.episodenumber="e"+e.episodenumber)):e.episodenumber=S.varDefault}function G(e,t){A[e].vars.customContextGenerate||(A[e].vars.customContextGenerate={});var n,r=A[e].vars,e=A[e].vars.customContextGenerate;function i(){var e,t,n,r="cbcvideoheartbeatpln null}(r);return null===i&&(i=0),i=parseInt(i),r=r,e=++i,void 0===t&&(t=30),(n=new Date).setTime(n.getTime()+60*t*1e3),t="; expires="+n.toGMTString(),document.cookie=escape(r)+"="+escape(e)+t+"; path=/",i}function o(){var e=r.cbcContextVideo.show;return I(e)&&"(not specified)"!==e&&e!==S.varDefault||(I(r.cbcContextVideo.genre)&&(e=r.cbcContextVideo.genre),I(r.cbcContextVideo.sport)&&(e=r.cbcContextVideo.sport),I(r.cbcContextVideo.region)&&(e=r.cbcContextVideo.region)),e}"startvideo"===t&&(I(r.cbcContextVideo,!0)?(I(r.cbcContextVideo.airDate)&&!I(r.cbcContextVideo.airdate)&&(r.cbcContextVideo.airdate=r.cbcContextVideo.airDate,delete r.cbcContextVideo.airDate),I(r.cbcContextVideo.airdate)&&(e.daysince=!(!I(t=r.cbcContextVideo.airdate)||t===S.varDefault||!(I((t=t.split("-"))[0])&&I(t[1])&&I(t[2])))&&(n=new Date,n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0),t=new Date(Number(t[0]),Number(t[1])-1,Number(t[2]),0,0,0,0),n=Math.ceil((n.getTime()-t.getTime())/864e5),0===++n?"0":n)),e.showval=o()):r.cbcContextVideo=a.cbcContextVideo,e.playercounter=i(),e.osversion=u("osVersion"),e.os=u("os"),e.videourl=f(),e.videolang="en",h()&&(e.videolang="fr"),e.videopage=r.pagevars.pageName,e.appname=r.pagevars.prop60,e.webornative=r.pagevars.prop63,e.appversion=r.pagevars.prop64,t=CBC.APP.SC.UTIL.getCookie("cbc_plus"))&&(e.cbcplus=t),e.servertime=("0"+(n=new Date).getHours()).slice(-2)+("0"+n.getMinutes()).slice(-2),e.offset=-(new Date).getTimezoneOffset()/60,e.daytype=0===(t=(new Date).getDay())||6===t?"weekend":"weekday",e.dayofweek=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(new Date).getDay()],e.hour=("0"+(t=new Date).getHours()).slice(-2)+(30<t.getMinutes()?"30":"00"),e.pillar=function(e){CBC.APP.SC.Pillar=CBC.APP.SC.Pillar||{},0===Object.getOwnPropertyNames(CBC.APP.SC.Pillar).length&&(CBC.APP.SC.Pillar={pillar:{available:["feed","listen","watch"],url:{default:"nan","cbc.ca/listen":"listen","cbcmusic.ca":"listen","watch.cbc.ca":"watch","gem.cbc.ca":"watch"}}});var t=CBC.APP.SC.Pillar.pillar,n=e||f();if(CBC.APP.SC.DTM.DATA.pillar&&-1<t.available.indexOf(CBC.APP.SC.DTM.DATA.pillar))return CBC.APP.SC.DTM.DATA.pillar;for(var r=t.url.default,i=Object.keys(t.url),o=0;o<i.length;++o){var a=i[o];if({}.hasOwnProperty.call(t.url,a)&&-1<n.indexOf(a)){r=t.url[a];break}}return r}(),w(e)}function q(e,t){var n,r={pageName:a.pagevars.pageName,prop60:a.pagevars.prop60,prop63:a.pagevars.prop63,prop64:a.pagevars.prop64,s_account:a.pagevars.s_account},t=t&&t.pagevars&&I(t.pagevars,!0)?t.pagevars:{},i=I(window.s_cbc_sitecatalyst,!0)?window.s_cbc_sitecatalyst:{};r.pageName=n="string"==typeof(n=t.pageName||i.pageName||r.pageName)?CBC.APP.SC.UTIL.normalize(n.replace(/[^0-9A-Za-z/_$.+\-:\s]/g,"").replace(/\+/g,"-")):n,r.prop60=w(t.prop60||i.prop60||r.prop60),r.prop63=w(t.prop63||i.prop63||r.prop63),r.prop64=w(t.prop64||i.prop64||r.prop64),window.s_account&&I(window.s_cbc_sitecatalyst,!0)&&(window.s_cbc_sitecatalyst.s_account=window.s_account),r.s_account=w(t.s_account||i.s_account||r.s_account),A[e].vars.pagevars=JSON.parse(JSON.stringify(r))}function Y(e,t){var n={playhead:0};console.log("timerStop: hbid="+e+", playhead="+A[e].vars.playhead),I(A[e].vars.playhead)&&(n.playhead=A[e].vars.playhead),I(A[e].vars.customContextGenerate.timerset)&&(window.clearInterval(t),A[e].vars.customContextGenerate.timerset="",v(e,n),C(e,n),y(e))}function O(e){var t=A[e].videoPlayer;if(!t)throw new Error("Illegal argument. Player reference cannot be null.");this._player=t,this._playerID=e,this._heartbeat=A[e].heartbeat,this._initialPlay=!1}O.prototype._onLoad=function(){E("CBC_VideoAnalyticsProvider: VIDEO_LOAD");var e,t,n,r=A[this._playerID].vars,i={};r.customContextGenerate.copy_videoid=A[this._playerID].videoPlayer._videoInfo.id,r.customContextGenerate.copy_videoname=A[this._playerID].videoPlayer._videoInfo.name,r.customContextGenerate.copy_videoplayername=A[this._playerID].videoPlayer._videoInfo.playerName,r.customContextGenerate.copy_videolength=Math.floor(A[this._playerID].videoPlayer._videoInfo.length),r.customContextGenerate.copy_videostreamtype=A[this._playerID].videoPlayer._videoInfo.streamType,window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(i,r.customContextGenerate,[]),r.cbcContextVideo.keywords&&(r.cbcContextVideo.keywords=function(e){var t,n={};if("object"===_typeof2(e))for(var r in e)Array.isArray(e[r])&&e[r].forEach(function(e){var t="generic"==e.type?"tag":e.type;n[t]||(n[t]=[]),e.name&&!n[t].includes(e.name)?n[t].push(e.name):e.path&&!n[t].includes(e.path)&&n[t].push(e.path)});else"string"==typeof e&&(t=e.split(",").map(function(e){if(e.trim())return e.trim().replace(/[\s+]+/g,"-").toLowerCase().replace(/[^0-9A-za-z_\-$.]/g,"")}) 0!==e}),n.tag=t);return n}(r.cbcContextVideo.keywords)),I(r.cbcContextVideo,!0)&&(w(r.cbcContextVideo),window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(i,r.cbcContextVideo,[])),I(r.playerContextVideo,!0)&&(w(r.playerContextVideo),window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(i,r.playerContextVideo,[])),"object"===_typeof2(r.mediaObj)&&Object.keys(r.mediaObj).length&&window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(i,r.mediaObj,[]),i["a.media.season"]=r.cbcContextVideo.seasonnumber,i["a.media.episode"]=r.cbcContextVideo.episodenumber,i.keywords=U(r.cbcContextVideo.keywords),this._heartbeat.trackSessionStart(this._player.getVideoInfo(),i),r.customContextGenerate.timerset=(e=this._playerID,i=A[this._playerID].videoPlayer._videoInfo.id,r=A[this._playerID].videoPlayer._videoInfo.streamType,t=0,n="",console.log("timerStart: hbid="+e+", videoid="+i),n="live"===r&&"news|the-national|the-national-live|nan|nan|-1|full-program|video|live"===i?window.setInterval(function(){10800<=(t+=60)&&Y(e,n)},6e4):n)},O.prototype._onPlay=function(){E("CBC_VideoAnalyticsProvider: PLAY");var e,t=A[this._playerID].vars.cbcContextVideo;!this._initialPlay&&window.CBC.APP.SC.EventTracker?(window.CBC.APP.SC.EventTracker.isOn()||window.CBC.APP.SC.EventTracker.turnOn(),this._initialPlay=!0,t._timeMainContentStreamStarted=CBC.APP.SC.VideoHeartbeat.getCurrentTime(),t._accumulatedBufferTime=0,t._timeBufferStarted=0,t._accumulatedPauseTime=0,t._timePauseStarted=0,e=k(A[this._playerID],"STREAMED"),E("CBC_EventTracker: FIRING STREAMED EVENT"),CBC.APP.SC.EventTracker.trackEvent("STREAMED",e)):t._timePauseStarted&&(t._accumulatedPauseTime+=CBC.APP.SC.VideoHeartbeat.getCurrentTime()-t._timePauseStarted,t._timePauseStarted=0),this._heartbeat.trackPlay()},O.prototype._onChapterStart=function(){E("CBC_VideoAnalyticsProvider: CHAPTER_START");var e=A[this._playerID].vars,t={};e.customContextGenerate.copy_chaptername=A[this._playerID].videoPlayer._chapterInfo.name,e.customContextGenerate.copy_chapterlength=A[this._playerID].videoPlayer._chapterInfo.length,e.customContextGenerate.copy_chapterstarttime=A[this._playerID].videoPlayer._chapterInfo.startTime,e.customContextGenerate.copy_chapterposition=A[this._playerID].videoPlayer._chapterInfo.position,window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(t,e.customContextGenerate,[]),I(e.cbcContextChapter,!0)&&(w(e.cbcContextChapter),window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(t,e.cbcContextChapter,[])),I(e.playerContextChapter,!0)&&(w(e.playerContextChapter),window.CBC.APP.SC.UTIL.mediaCustomContextDataObjectGenerate(t,e.playerContextChapter,[])),this._heartbeat.trackEvent(b.Event.ChapterStart,this._player.getChapterInfo(),t)},O.prototype._onUnload=function(){E("CBC_VideoAnalyticsProvider: VIDEO_UNLOAD"),this._heartbeat.trackSessionEnd(),I(A[this._playerID].vars.customContextGenerate.timerset)&&Y(this._playerID,A[this._playerID].vars.customContextGenerate.timerset)},O.prototype._destroy=function(){E("CBC_VideoAnalyticsProvider: DESTROY");var e=A[this._playerID];if(this._player){/^(rcbcconsole|player-audio)/.test(e.vars.videoplayername)&&this._onUnload(),this._heartbeat=null,this._player=null;var t=this._playerID;E("uninstall event listeners");var n,r,i=A[t].analyticsProvider;for(n in P)!{}.hasOwnProperty.call(P,n)||"function"!=typeof i[r=P[n]]||new N(t).removeEventListener(r,i[r],i)}e.vars.videoid="",e.vars.videoname="",e.vars.videolength="",e.vars.videostreamtype="",e.vars.videoplayhead=0,e.vars.chaptername="",e.vars.chapterlength=0,e.vars.chapterstarttime=0,e.vars.chapterposition=1,e.vars.customContextGenerate={},e.vars.cbcContextVideo={},e.vars.playerContextVideo={},e.vars.cbcContextChapter={},e.vars.playerContextChapter={},delete e.vars.mediaObj},O.prototype._onPause=function(){E("CBC_VideoAnalyticsProvider: PAUSE"),A[this._playerID].vars.cbcContextVideo._timePauseStarted=CBC.APP.SC.VideoHeartbeat.getCurrentTime(),this._heartbeat.trackPause()},O.prototype._onChapterSkip=function(){E("CBC_VideoAnalyticsProvider: CHAPTER_SKIP"),this._heartbeat.trackEvent(b.Event.ChapterSkip)},O.prototype._onChapterComplete=function(){E("CBC_VideoAnalyticsProvider: CHAPTER_COMPLETE"),this._heartbeat.trackEvent(b.Event.ChapterComplete)},O.prototype._onClete()},O.prototype._onSeekStart=function(){E("CBC_VideoAnalyticsProvider: SEEK_START"),this._heartbeat.trackEvent(b.Event.SeekStart)},O.prototype._onSeekComplete=function(){E("CBC_VideoAnalyticsProvider: SEEK_COMPLETE"),this._heartbeat.trackEvent(b.Event.SeekComplete)},O.prototype._onAdBreakStart=function(){E("CBC_VideoAnalyticsProvider: ADBREAK_START"),this._heartbeat.trackEvent(b.Event.AdBreakStart,this._player.getAdBreakInfo())},O.prototype._onAdBreakComplete=function(){E("CBC_VideoAnalyticsProvider: ADBREAK_COMPLETE"),this._heartbeat.trackEvent(b.Event.AdBreakComplete)},O.prototype._onAdStart=function(){E("CBC_VideoAnalyticsProvider: AD_START"),this._heartbeat.trackEvent(b.Event.AdStart,this._player.getAdInfo())},O.prototype._onAdComplete=function(){E("CBC_VideoAnalyticsProvider: AD_COMPLETE"),this._heartbeat.trackEvent(b.Event.AdComplete)},O.prototype._onBufferStart=function(){E("CBC_VideoAnalyticsProvider: BUFFER_START"),A[this._playerID].vars.cbcContextVideo._timeBufferStarted=CBC.APP.SC.VideoHeartbeat.getCurrentTime(),this._heartbeat.trackEvent(b.Event.BufferStart)},O.prototype._onBufferComplete=function(){E("CBC_VideoAnalyticsProvider: BUFFER_COMPLETE");var e=A[this._playerID].vars.cbcContextVideo;e._timeBufferStarted&&(e._accumulatedBufferTime+=CBC.APP.SC.VideoHeartbeat.getCurrentTime()-e._timeBufferStarted,e._timeBufferStarted=0),this._heartbeat.trackEvent(b.Event.BufferComplete)};var B=function(){this._videoInfo=null,this._chapterInfo=null,this._adBreakInfo=null,this._adInfo=null,this._isLoaded=!1,this.activateComscoreSw new B}function L(e,t,n,r){return"error_id:".concat(e,", method: ").concat(t,"(player_id:").concat(n,", param:").concat(r,"), player_list:").concat(A)}function M(e){CBC.APP.SC.VideoHeartbeatVars.Player.consoleLogging&&console.error(e)}B.prototype.getVideoInfo=function(){return b.createMediaObject(this._videoInfo.name,this._videoInfo.id,this._videoInfo.length,this._videoInfo.streamType)},B.prototype.getChapterInfo=function(){return b.createChapterObject(this._chapterInfo.name,this._chapterInfo.position,this._chapterInfo.length,this._chapterInfo.startTime)},B.prototype.getAdBreakInfo=function(){return b.createAdBreakObject(this._adBreakInfo.name,this._adBreakInfo.position,this._adBreakInfo.startTime)},B.prototype.geength)},B.prototype._videoLoad=function(e,t){E("CBC_VideoPlayer: _videoLoad"),this._videoInfo={},"your-stream-will-begin-playing-after-this-message"!==w(t.cbcContextVideo.streamtitle)&&(this._isLoaded=!0),G(e,"startvideo"),I(t,!0)?(I(t.cbcContextVideo,!0)&&j(e),this._videoInfo.streamType=I(t.streamType)?t.streamType:a.videostreamtype,"vod"!==this._videoInfo.streamType&&"live"!==this._videoInfo.streamType&&"linear"!==this._videoInfo.streamType&&(this._videoInfo.streamType="vod",E("CBC_VideoPlayer: invalid stream type "+this._videoInfo.streamType)),I(t.length)||"live"!==this._videoInfo.streamType?I(t.length)&&!isNaN(t.length)?this._videoInfo.length=Number(t.length):this._videoInfo.length=a.videolength:this._videoInfo.length=-1,I(t.id)?this._videoInfo.id=d(t.id):I(A[e].vars.cbcContextVideo,!0)?this._videoInfo.id=d(F(e,!1)):this._videoInfo.id=a.videoid,this._videoInfo.name=I(t.name)?d(t.name):this._videoInfo.id,this._videoInfo.isAudio=!(!I(t.cbcContextVideo.audiovideo)||"audio"!==t.cbcContextVideo.audiovideo)):(this._videoInfo.id=a.videoid,this._videoInfo.isAudio=!1,this._videoInfo.name=this._videoInfo.id,this._videoInfo.length=a.videolength,this._videoInfo.streamType=a.videostreamtype),B.prototype.isAudio=this._videoInfo.isAudio,this._videoInfo.playerName=A[e].vars.videoplayername,A[e].vars.playhead||(A[e].vars.playhead=I(t.playhead)&&!isNaN(t.playhead)?Number(t.playhead):a.videoplayhead),this._videoInfo.playhead=A[e].vars.playhead,this.comscore._comscoreDataInit(e,t,this),A[e].vars.cbStrategy=A[e].vars.cbStrategy||{};var n=A[e].vars.cbStrategy,t=t.cbcContextVideo;A[e].vars.customContextGenerate;n.isReady=!0,n.title=t.streamtitle||"",n.videoPath=t.uid||"",n.contentType=r.ContentType.CONTENT,n.totalDuration=Number(1e3*this._videoInfo.length),n.videoState=r.VideoState.UNPLAYED,n.startTime=(new Date).getTime(),new N(e).dispatchEvent(P.VIDEO_LOAD)},B.prototype._onPlay=function(e,t){E("CBC_VideoPlayer: _onPlay"),this.comscore._comscoreNotifyPlayStart();var n=A[e].vars.cbStrategy;n.videoState=r.VideoState.PLAYED,-1===n.startPlayTime&&(n.startPlayTime=(new Date).getTime()),new N(e).dispatchEvent(P.PLAY)},B.prototype._startChapter=function(e,t){var n,r,i,o;E("CBC_VideoPlayer: _startChapter"),null!==this._chapterInfo&&new N(e).dispatchEvent(P.CHAPTER_SKIP),this._chapterInfo={},G(e,"startChapter"),this.comscore._comscoreNotifyPlayStart(),I(t,!0)?(I(t.length)||"live"!==this._videoInfo.streamType?I(t.length)&&!isNaN(t.length)?this._chapterInfo.length=Number(t.length):this._chapterInfo.length=a.videolength:this._chapterInfo.length=-1,this._chapterInfo.startTime=I(t.startTime)&&!isNaN(t.startTime)?Number(t.startTime):Number(a.chapterstarttime),this._chapterInfo.position=I(t.position)?Number(t.position):Number(a.chapterposition),I(t.name)?this._chapterInfo.name=d(t.name):I(A[e].vars.cbcContextVideo,!0)?this._chapterInfo.name=d((t=t,r="",i=A[n=e].vars.cbcContextVideo,o=t.cbcContextChapter,r="music"===A[n].vars.cbcContextVideo.contentarea?(r=p(r,i.contentarea),r=p(r,o.author),r=p(r,o.chaptertitle),r=p(r,_(i.audiovideo)),p(r,t.length)):"radio"===A[n].vars.cbcContextVideo.contentarea?(r=p(r,i.contentarea),r=p(r,o.show),r=p(r,i.streamtitle),r=p(r,i.seasonnumber),r=p(r,i.episodenumber),r=p(r,t.position),r=p(r,Math.floor(A[n].videoPlayer._videoInfo.length)),r=p(r,i.type),i.audiovideo=_(i.audiovideo),r=p(r,i.audiovideo),i.liveondemand=g(n,i.liveondemand),p(r,i.liveondemand)):(console.log("calling generate concatid"),F(n,!0)))):this._chapterInfo.name=a.chaptername):(this._chapterInfo.name=a.chaptername,this._chapterInfo.length=Number(a.chapterlength),this._chapterInfo.startTime=Number(a.chapterstarttime),this._chapterInfo.position=Number(a.chapterposition)),new N(e).dispatchEvent(P.CHAPTER_START)},B.prototype._completeChapter=function(e,t){E("CBC_VideoPlayer: _completeChapter"),this.comscore._comscoreNotifyPlayEnd(),new N(e).dispatchEvent(P.CHAPTER_COMPLETE),this._chapterInfo=null},B.prototype._onPause=function(e,t){E("CBC_VideoPlayer: _onPause"),this.comscore._comscoreNotifyPauseStart(),A[e].vars.cbStrategy=A[e].vars.cbStrategy||{},A[e].vars.cbStrategy.videoState=r.VideoState.STOPPED,new N(e).dispatchEvent(P.PAUSE)},B.prototype._onSeekStart=function(e,t){E("CBC_VideoPlayer: _onSeekStart"),this.comscore._comscoreNotifySeekStart(),new N(e).dispatchEvent(P.SEEK_START)},B.prototype._onSeekComplete=function(e,t){E("CBC_VideoPlayer: _onSeekComplete"),this.comscore._comscoreNotifySeekEnd(t.playhead),new N(e).dispatchEvent(P.SEEK_COMPLETE)},B.prototype._onComplete=function(e,t){E("CBC_VideoPlayer: _onComplete"),A[e].vars.cbStrategy=A[e].vars.cbStrategy||{},A[e].vars.cbStrategy.videoState=r.VideoState.COMPLETED,new N(e).dispatchEvent(P.COMPLETE),this._videoUnload(e,t)},B.prototype._videoUnload=function(e,t){E("CBC_VideoPlayer: _videoUnload"),this._isLoaded=!1,new N(e).dispatchEvent(P.VIDEO_UNLOAD)},B.prototype._destroy=function(e){E("CBC_VideoPlayer: _destroy"),this.comscore._comscoreNotifySeekEnd(),this.comscore._comscoreNotifyAdEnd(),this.comscore._comscoreNotifyPlayEnd(),new N(e).dispatchEvent(P.DESTROY),this._videoUnload(e)},B.prototype._adBreakStart=function(e,t){E("CBC_VideoPlayer: _adBreakStart"),this._adBreakInfo={},I(t,!0)?(this._adBreakInfo.position=Number(t.position),this._adBreakInfo.name=t.name?t.name.toLowerCase():"unknown",/^(pre|post|mid)-roll/.test(this._adBreakInfo.name)||(this._adBreakInfo.name="unknown"),this._adBreakInfo.startTime=Number(t.playhead)):(this._adBreakInfo.position=Number(a.adbreakposition),this._adBreakInfo.name=a.adbreakname,this._adBreakInfo.startTime=Number(a.adbreakstarttime)),this._adBreakInfo.playerName=A[e].vars.videoplayername;var n=A[e].vars.cbStrategy;-1===n.adPlayTime&&(n.adPlayTime="pre-roll"===t.name?(new Date).getTime():-1),n.adPosition=/^(pre|post|mid)-roll/i.test(t.name)?"":r.AdPosition[t.name.toUpperCase().replace(/[-|\d]/g,"")],n.contentType=r.ContentType.AD,new N(e).dispatchEvent(P.ADBREAK_START)},B.prototype._adBreakComplete=function(e,t){E("CBC_VideoPlayer: _adBreakComplete");var n=A[e].vars.cbStrategy;n.adPosition="",n.contentType=r.ContentType.CONTENT,null!==this._adInfo&&this._adComplete(e,t),new N(e).dispatchEvent(P.ADBREAK_COMPLETE),this._adBreakInfo=null},B.prototype._adStart=function(e,t){E("CBC_VideoPlayer: _adStart"),this._adInfo={},I(t,!0)?(this._adInfo.length=Number(t.length),this._adInfo.id=t.id,this._adInfo.position=Number(t.position),t.name?this._adInfo.name=w(t.name):this._adInfo.name=a.adbreakname):(this._adInfo.length=Number(a.adlength),this._adInfo.id=a.adid,this._adInfo.position=Number(a.adposition),this._adInfo.name=a.adbreakname),this.comscore._comscoreNotifyAdStart(t.playhead),new N(e).dispatchEvent(P.AD_START)},B.prototype._adPause=function(e,t){E("CBC_VideoPlayer: _adPause"),this.comscore._comscoreNotifyPauseStart()},B.prototype._adPlay=function(e,t){E("CBC_VideoPlayer: _adPlay"),this.comscore._comscoreNotifyPauseEnd()},B.prototype._adComplete=function(e,t){E("CBC_VideoPlayer: _adComplete"),this.comscore._comscoreNotifyAdEnd(),new N(e).dispatchEvent(P.AD_COMPLETE),this._adInfo=null},B.prototype._onBufferStart=function(e,t){new N(e).dispatchEvent(P.BUFFER_START),this.comscore._comscoreNotifyBufferStart()},B.prototype._onBufferComplete=function(e,t){new N(e).dispatchEvent(P.BUFFER_COMPLETE),this.comscore._comscoreNotifyBufferStop()},B.prototype.comscore={},B.prototype.comscore._comscoreDataInit=function(e,t,n){I(t,!0)&&I(t.cbcContextVideo,!0)&&(this._that=n,this._comscoreStreamingApi=ns_.analytics,this._comscoreStreamingInstance=null,this._comscoreStreamingContentMetadata=null,this._comscoreAdFlag=!1,this._comscorePauseFlag=!1,this._comscorePlayFlag=!1,this._comscoreSeekFlag=!1,this._comscoreStreamingApi.PlatformApi.setPlatformAPI(this._comscoreStreamingApi.PlatformApi.PlatformApis.WebBrowser),n=new this._comscoreStreamingApi.configuration.PublisherConfiguration({publisherId:"3005684"}),this._comscoreStreamingApi.configuration.addClient(n),this._comscoreStreamingApi.configuration.setUsagePropertiesAutoUpdateMode(this._comscoreStreamingApi.configuration.UsagePropertiesAutoUpdateMode.FOREGROUND_AND_BACKGROUND),this._comscoreStreamingApi.start(),this._comscoreStreamingInstance=new this._comscoreStreamingApi.StreamingAnalytics,(n=this._comscoreGetInitData(t.cbcContextVideo,A[e].vars)).player.name&&this._comscoreStreamingInstance.setMediaPlayerName(n.player.name),n.player.version&&this._comscoreStreamingInstance.setMediaPlayerVersion(n.player.version),this._comscoreStreamingInstance.createPlaybackSession(),this._comscoreStreamingContentMetadata=new this._comscoreStreamingApi.StreamingAnalytics.ContentMetadata,this._comscoreStreamingContentMetadata.classifyAsAudioStream(n.isAudio),this._comscoreStreamingContentMetadata.classifyAsCompleteEpisode(n.is_full_episode),this._comscoreStreamingContentMetadata.setClipUrl(n.url),1900<n.airDate.year&&0<n.airDate.month&&0<n.airDate.day&&(this._comscoreStreamingContentMetadata.setDateOfTvAiring(n.airDate.year,n.airDate.month,n.airDate.day),this._comscoreStreamingContentMetadata.setDateOfDigitalAiring(n.airDate.year,n.airDate.month,n.airDate.day)),this._comscoreStreamingContentMetadata.setDictionaryClassificationC3(n.c3),this._comscoreStreamingContentMetadata.setDictionaryClassificationC4(n.c4),this._comscoreStreamingContentMetadata.setDictionaryClassificationC6(n.c6),this._comscoreStreamingContentMetadata.setEpisodeId(n.episode.id),this._comscoreStreamingContentMetadata.setEpisodeNumber(n.episode.number),this._comscoreStreamingContentMetadata.setEpisodeSeasonNumber(n.season.number),this._comscoreStreamingContentMetadata.setEpisodeTitle(n.episode.title),this._comscoreStreamingContentMetadata.setGenreName(n.genre),this._comscoreStreamingContentMetadata.setLength(Math.trunc(n.length)),this._comscoreStreamingContentMetadata.setMediaType(n.mediaType),this._comscoreStreamingContentMetadata.setProgramId(n.program.id),this._comscoreStreamingContentMetadata.setProgramTitle(n.program.title),this._comscoreStreamingContentMetadata.setPublisherName(n.publisher.name),this._comscoreStreamingContentMetadata.setStationCode(n.station.code),this._comscoreStreamingContentMetadata.setStationTitle(n.station.title),this._comscoreStreamingContentMetadata.setTotalSegments(n.totalSegments),this._comscoreStreamingContentMetadata.setUniqueId(n.uniqueId))},B.prototype.comscore._comscoreGetInitData=function(e,t){var n=e.airdate?e.airdate.split("-"):new Array(3),r="*null",r="live"==this._that._videoInfo.streamType||"linear"==this._that._videoInfo.streamType?this._comscoreStreamingApi.StreamingAnalytics.ContentMetadata.ContentType.LIVE:600<this._that._videoInfo.length?this._comscoreStreamingApi.StreamingAnalytics.ContentMetadata.ContentType.LONG_FORM_ON_DEMAND:this._comscoreStreamingApi.StreamingAnalytics.ContentMetadata.ContentType.SHORT_FORM_ON_DEMAND,i=e.episodenumber&&isNaN(parseInt(e.episodenumber.charAt(0)))?e.episodenumber.substring(1):e.episodenumber,o=e.seasonnumber&&isNaN(parseInt(e.seasonnumber.charAt(0)))?e.seasonnumber.substring(1):e.seasonnumber;return{airDate:{day:n[2]&&parseInt(n[2])?parseInt(n[2]):-1,month:n[1]&&parseInt(n[1])?parseInt(n[1]):-1,year:n[0]&&parseInt(n[0])?parseInt(n[0]):-1},c3:t.customContextGenerate&&["ott-web-app","ott-android-app","ott-ios-app","ott-tvos-app","ott-androidtv-app","ott-chromecast-app","ott-firetv-app"].includes(t.customContextGenerate.appname)?"CBCGem":CBC.APP.ANA.FORMATTERS.Comscore.c3mapper(e.contentarea),c4:t.customContextGenerate&&t.customContextGenerate.appname?t.customContextGenerate.appname:"unknown",c6:"*null",episode:{id:i&&parseInt(i)?String(i):"",number:i&&parseInt(i)?String(i).padStart(3,"0"):"*null",title:e.streamtitle||"*null"},genre:e.genre||"*null",isAudio:this._that._videoInfo.isAudio,is_full_episode:!{}.hasOwnProperty.call(e,"is_full_episode")||e.is_full_episode,length:0<this._that._videoInfo.length?1e3*this._that._videoInfo.length:0,mediaType:r,player:{name:this._that._videoInfo.playerName,version:this._that._videoInfo.sdk},program:{id:"",title:e.show||"*null"},publisher:{name:{}.hasOwnProperty.call(e,"producer_name")?e.producer_name:"CBC"},season:{number:o&&parseInt(o)?String(o).padStart(2,"0"):"*null"},station:{code:e.station_code||(e.show&&e.show.toLowerCase().includes("news network")?"5326":"5192"),title:"CBC"},totalSegments:e.totalchapters&&parseInt(e.totalchapters)?parseInt(e.totalchapters):0,uniqueId:e.uid||"*null",url:"*null"}},B.prototype.comscore._comscoreNotifyAdStart=function(e){var t=new this._comscoreStreamingApi.StreamingAnalytics.AdvertisementMetadata,n=this._comscoreStreamingApi.StreamingAnalytics.AdvertisementMetadata.AdvertisementType,r=n.ON_DEMAND_MID_ROLL;if("live"===this._that._videoInfo.streamType||"linear"===this._that._videoInfo.streamType)r=n.LIVE;else switch(this._that._adBreakInfo.name){case"pre-roll":r=n.ON_DEMAND_PRE_ROLL;break;case"post-roll":r=n.ON_DEMAND_POST_ROLL;break;case"unknown":r=n.OTHER}t.classifyAsAudioStream(this._that._videoInfo.isAudio),t.setLength(1e3*this._that._adInfo.length),t.setMediaType(r),t.setOwner(this._comscoreStreamingApi.StreamingAnalytics.AdvertisementMetadata.AdvertisementOwner.DISTRIBUTOR),t.setUniqueId(this._that._adInfo.id),t.setRelatedContentMetadata(this._comscoreStreamingContentMetadata),this._comscoreNotifySeekEnd(e),this._comscoreNotifyPlayEnd(),this._comscoreAdFlag||(this._comscoreStreamingInstance.setMetadata(t),this._comscoreStreamingInstance.notifyPlay(),this._comscoreAdFlag=!0)},B.prototype.comscore._comscoreNotifyAdEnd=function(){this._comscoreAdFlag&&(this._comscoreStreamingInstance.notifyEnd(),this._comscoreAdFlag=!1)},B.prototype.comscore._comscoreNotifyPauseStart=function(){this._comscorePauseFlag||(this._comscoreStreamingInstance.notifyPause(),this._comscorePauseFlag=!0)},B.prototype.comscore._comscoreNotifyPauseEnd=function(){this._comscorePauseFlag&&(this._comscoreStreamingInstance.notifyPlay(),this._comscorePauseFlag=!1)},B.prototype.comscore._comscoreNotifyPlayStart=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._comscoreStreamingContentMetadata;this._comscorePlayFlag?this._comscorePlayFlag&&this._comscorePauseFlag&&this._comscoreNotifyPauseEnd():(this._comscoreStreamingInstance.setMetadata(e),this._comscoreStreamingInstance.notifyPlay(),this._comscorePlayFlag=!0)},B.prototype.comscore._comscoreNotifyag=!1)},B.prototype.comscore._comscoreNotifySeag=!0)},B.prototype.comscore._comscoreNotifySeekEnd=function(){this._comscoreSeekFlag&&(this._comscoreStreamingInstance.startFromPosition(1e3*Number(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"0")),this._comscoreStreamingInstance.notifyPlay(),this._comscorePauseFlag&&this._comscoreStreamingInstance.notifyPause(),this._comscoreSeekFlag=!1)},B.prototype.comscore._comscoreNotifyBufferStart=function(){this._comscoreStreamingInstance.notifyBufferStart()},B.prototype.comscore._comscoreNotifyBufStop()},B.prototype.activateComscoreSwitch=function(){var t;B.prototype.comscoreSwitch||(t=this.comscore,Object.keys(t).forEach(function(e){var r=t[e];"function"==typeof t[e]&&(t[e]=function(){if(CBC.APP.SC.UTIL.isIOSWebviewPrivate()||B.prototype.isAudio)return function(){};for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.call.apply(r,[this].concat(t))})}),B.prototype.comscoreSwitch=!0)};var e,t={init:function(e){try{E("init"),E(e),void 0===window.CBC.APP.SC.VideoHeartbeat.cbStratInit&&(window.CBC.APP.SC.VideoHeartbeat.cbStratInit=!1);var t=I(e.vhbid)?w(e.vhbid):"vhb"+Math.floor(99999*Math.random());if(A[t]={vars:{}},I(e,!0)){for(var n in I(e.config,!0)&&(I(e.config.marketingCloudId)&&(S.marketingCloudId=e.config.marketingCloudId),I(e.config.trackingServer)&&(S.trackingServer=e.config.trackingServer),I(e.config.trackingServerSecure)&&(S.trackingServerSecure=e.config.trackingServerSecure),I(e.config.heartbeatServer)&&(S.heartbeatServer=e.config.heartbeatServer),I(e.config.visitorNamespace)&&(S.visitorNamespace=e.config.visitorNamespace),I(e.config.publisher))&&(S.publisher=e.config.publisher),A[t].vars.videoplayername=I(e.playerName)?w(e.playerName):a.videoplayername,I(e.channel)?A[t].vars.channel=w(e.channel):I(e.playerName)?A[t].vars.channel=w(e.playerName)+"-channel":A[t].vars.channel=a.channel,A[t].vars.ovp=I(e.ovp)?w(e.ovp):a.ovp,A[t].vars.sdk=I(e.sdk)?w(e.sdk):a.sdk,A[t].vars.quietMode=(I(e.quietMode)?e:a).quietMode,A[t].vars.ssl=(I(e.ssl)?e:a).ssl,A[t].vars.debugLogging=(I(e.debugLogging)?e:a).debugLogging,a.debugLogging=A[t].vars.debugLogging,A)I(A[n].vars.videoplayername)&&(A[n].vars.videoplayername.indexOf(S.playerSuffix.s)<0&&A[n].vars.videoplayername.indexOf(S.playerSuffix.m)<0&&(A[n].vars.videoplayername+=S.playerSuffix.s),1<l(A))&&(A[n].vars.videoplayername=A[n].vars.videoplayername.replace(S.playerSuffix.s,S.playerSuffix.m));A[t].vars.cbStrategy=A[t].vars.cbStrategy||{};var r=A[t].vars.cbStrategy;window.CBC.APP.SC.VideoHeartbeat.cbStratInit||(window._cbv_strategies=window._cbv_strategies||[],window._cbv_strategies.push(s),window.CBC.APP.SC.VideoHeartbeat.cbStratInit=!0),window._cbv=window._cbv||[],window._cbv.push(A[t]),I(e.playerName,!0)&&(r.playerType=A[t].vars.videoplayername)}return t}catch(e){return M(e),!1}},destroy:y,videoLoad:function(e,t,n){if(!A[e]||A[e].videoPlayer&&/^(rcbcconsole|player-audio)/.test(A[e].vars.videoplayername)&&A[e].videoPlayer._isLoaded)M("Video has already been loaded.");else try{if(T(t.cbcContextVideo),E("videoLoad:::"+e),E(t),I(A[e],!0)){if(I(A[e].videoPlayer,!0)&&"function"==typeof A[e].videoPlayer._destroy&&A[e].videoPlayer._destroy(e),I(A[e].vars.pagevars,!0)||q(e,t),A[e].videoPlayer=K(),A[e].appMeasurement=(v=e,(C=Visitor.getInstance(S.marketingCloudId,{trackingServer:S.trackingServer,trackingServerSecure:S.trackingServerSecure})).setCustomerIDs({userId:{id:S.dpid},puuid:{id:S.dpuuid}}),v=A[v].vars.pagevars.s_account,(y=new AppMeasurement(v=window.s_cbc_sitecatalyst&&window.s_cbc_sitecatalyst instanceof AppMeasurement?window.s_cbc_sitecatalyst.account:v)).visitor=C,y.trackingServer=S.trackingServer,y.trackingServerSecure=S.trackingServerSecure,y.account=v,y.visitorNamespace=S.visitorNamespace,y.charSet=S.charSet,y),A[e].heartbeat=(_=e,(g=new R).trackingServer=S.heartbeatServer,g.playerName=A[_].vars.videoplayername,g.channel=A[_].vars.channel,g.debugLogging=!1,g.appVersion=A[_].vars.sdk,g.ssl=A[_].vars.ssl,g.ovp=A[_].vars.ovp,(m=new x).getCurrentPlaybackTime=function(){return A[_].vars.playhead},new b(m,g,A[_].appMeasurement)),A[e].analyticsProvider=new O(e),t.cbcContextVideo.sponsorname){var r,i=CBC.APP.SC.UTIL.cleanString(t.cbcContextVideo.sponsorname),o={},a=window.CBC.APP.SC.UTIL.getMetadataAllowlist();for(r in a.metadata.allowlist.sponsor.name)o[CBC.APP.SC.UTIL.cleanString(r)]=a.metadata.allowlist.sponsor.name[r];o[i]?t.cbcContextVideo.sponsorname=i:delete t.cbcContextVideo.sponsorname}if(t.cbcContextVideo.partnername){var s,c=CBC.APP.SC.UTIL.cleanString(t.cbcContextVideo.partnername),u={},l=window.CBC.APP.SC.UTIL.getMetadataAllowlist();for(s in l.metadata.allowlist.partner.name)u[CBC.APP.SC.UTIL.cleanString(s)]=l.metadata.allowlist.partner.name[s];u[c]?t.cbcContextVideo.partnername=c:delete t.cbcContextVideo.partnername}if(t.cbcContextVideo.feature&&(t.cbcContextVideo.feature=D(t.cbcContextVideo.feature)),t.cbcContextVideo.usertier||(t.cbcContextVideo.usertier="free"),"your-stream-will-begin-playing-after-this-message"!==w(t.cbcContextVideo.streamtitle)){var d=e;E("install event listeners");var p,f,h=A[d].analyticsProvider;for(p in P)!{}.hasOwnProperty.call(P,p)||"function"!=typeof h[f=P[p]]||new N(d).addEventListener(f,h[f],h)}return I(t.cbcContextVideo,!0)&&(A[e].vars.cbcContextVideo=JSON.parse(JSON.stringify(t.cbcContextVideo))),I(t.playerContextVideo,!0)&&(A[e].vars.playerContextVideo=JSON.parse(JSON.stringify(t.playerContextVideo))),"object"===_typeof2(n)&&Object.keys(n).length&&(A[e].vars.mediaObj=JSON.parse(JSON.stringify(n))),A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._videoLoad?(A[e].videoPlayer._videoLoad(e,t),!0):(M("error_id:2, method: videoLoad(player_id:"+e+", param:"+t+"), player_list:"+A),!1)}return M("error_id:3, method: videoLoad(player_id:"+e+", param:"+t+"), player_list:"+A),!1}catch(e){return M(e),!1}var _,g,m,v,C,y},videoComplete:function(e,t){try{if(E("videoComplete:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onComplete)return A[e].videoPlayer._onComplete(e,t),!0;throw new Error("error_id:1, method: videoComplete(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},videoUnload:C,videoPlay:function(e,t){try{if(E("videoPlay:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onPlay)return m(e,t),A[e].videoPlayer._onPlay(e,t),!0;throw new Error("error_id:7, method: videoPlay(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},videoPause:v,adBreakStart:function(e,t){try{if(E("adBreakStart:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._adBreakStart)return A[e].videoPlayer._adBreakStart(e,t),!0;throw new Error("error_id:13, method: adBreakStart(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},adBreakComplete:function(e,t){try{if(E("adBreakComplete:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._adBreakComplete)return m(e,t),A[e].videoPlayer._adBreakComplete(e,t),!0;throw new Error("error_id:14, method: adBreakComplete(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},adStart:function(e,t){try{if(E("adStart:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._adStart)return A[e].videoPlayer._adStart(e,t),!0;throw new Error("error_id:15, method: adStart(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},adPause:function(e,t){try{if(E("adPause:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._adPause)return A[e].videoPlayer._adPause(e,t),!0;throw new Error("error_id:19, method: adPause(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},adPlay:function(e,t){try{if(E("adPlay:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._adPlay)return A[e].videoPlayer._adPlay(e,t),!0;throw new Error("error_id:20, method: adPlay(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},adComplete:function(e,t){try{if(E("adComplete:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._adComplete)return A[e].videoPlayer._adComplete(e,t),!0;throw new Error("error_id:16, method: adComplete(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},chapterStart:function(e,t){try{if(T(t.cbcContextChapter),E("chapterStart:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._startChapter)return I(t.cbcContextChapter,!0)&&(A[e].vars.cbcContextChapter=JSON.parse(JSON.stringify(t.cbcContextChapter))),I(t.playerContextChapter,!0)&&(A[e].vars.playerContextChapter=JSON.parse(JSON.stringify(t.playerContextChapter))),A[e].videoPlayer._startChapter(e,t),!0;throw new Error("error_id:9, method: chapterStart(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},chapterComplete:function(e,t){try{if(E("chapterComplete:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._completeChapter)return m(e,t),A[e].videoPlayer._completeChapter(e,t),!0;throw new Error("error_id:10, method: chapterComplete(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},seekStart:function(e,t){try{if(E("seekStart:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onSeekStart)return m(e,t),A[e].videoPlayer._onSeekStart(e,t),!0;throw new Error("error_id:11, method: seekStart(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},seekComplete:function(e,t){try{if(E("seekComplete:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onSeekComplete)return m(e,t),A[e].videoPlayer._onSeekComplete(e,t),!0;throw new Error("error_id:12, method: seekComplete(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},bufferStart:function(e,t){try{if(E("bufferStart:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onBufferStart)return A[e].videoPlayer._onBufferStart(e,t),!0;throw new Error("error_id:17, method: bufferStart(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}},bufferComplete:function(e,t){try{if(E("bufferComplete:::"+e),E(t),A[e]&&A[e].videoPlayer&&"function"==typeof A[e].videoPlayer._onBufferComplete)return A[e].videoPlayer._onBufferComplete(e,t),!0;throw new Error("error_id:18, method: bufferComplete(player_id:"+e+", param:"+t+"), player_list:"+A)}catch(e){return M(e),!1}}};for(e in t)!function(){var r;t.hasOwnProperty(e)&&(r=t[e],t[e]=function(){CBC.APP.SC.EventTracker.setCBCSession();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)})}();return Object.assign(t,{updatePlayHead:m,getPlayers:function(){return A},isFrench:h,adobeLogging:function(e,t){t?(A[e].heartbeat._playerPlugin._logger.enable(),A[e].heartbeat._ahPlugin._logger.enable(),A[e].heartbeat._aaPlugin._logger.enable(),A[e].heartbeat._logger.enable()):(A[e].heartbeat._playerPlugin._logger.disable(),A[e].heartbeat._ahPlugin._logger.disable(),A[e].heartbeat._aaPlugin._logger.disable(),A[e].heartbeat._logger.disable())},getCurrTime()},createCBCPlayer:K})}());