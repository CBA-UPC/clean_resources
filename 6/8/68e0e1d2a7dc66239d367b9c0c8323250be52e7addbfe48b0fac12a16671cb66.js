import{b as h,V as p,X as g}from"./index-aa05d19d.js";var l=((l||{});class c{his.fetchTask)return this.fetchTask;if(!this.hasMoreResults){const t={continuationToken:null,hasMorePages:!1,nextPageNumber:this.page,totalCount:this.totalCount||0,previousTitle:this.prevTitle||""};return this.notifyUpdatedListeners(t),Promise.resolve(t)}let e=null;return this.isLoading=!0,this.fetchTask=this.fetcher(this.page,this.take,this.cursor).then(t=>{const o=this.itemGetter(t);return this.items=this.items.concat(o||[]),this.page=t.nextPageNumber,this.totalCount=t.totalCount,this.cursor=this.cursorGetter?this.cursorGetter(t):null,this.hasMoreResults=t.hasMorePages&&!!o&&o.length>0&&(!this.cursorGetter||!!this.cursor),this.curatedCollectionDetails=t.curatedCollectionDetails||null,this.prevTitle=t.title||"",e=t,t}).finally(,this.fetchTask}ifyUpdatedListeners(e){this.eventTarget.dispatchEvent(new CustomEvent("updated",{detail:e}))}notifyIsLoadingListenersxport{c as P};
