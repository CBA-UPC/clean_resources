/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
this.Sfdc||(Sfdc={});
if("undefined"===typeof SfdcFramework){var SfdcFramework=new SfdcFramework(this,Sfdc)};
Sfdc.provide("Sfdc.JSON",Sfdc));
(function(e,h){function l(a){if(a.origin.split("://")[1].split(":")[0]===SFDCSessionVars.host&&(a=Sfdc.JSON.parse(a.data))&&a.cmd&&"SfdcSession"==a.msgtype)if("sfdcsession::ready"===a.cmd)f=b.contentWindow,setTimeout(r,0);else{var c=g[a.id];c&&(c.callback&&c.callback(a),delete g[a.id])}}function r(){for(var a=0;a<k.length;a++){var c=g[k.shift()];f.postMessage(Sfdc.JSON.stringify(m(c)),h)}}function m(a){var c={},b;for(b in a)a.hasOwnProperty(b)&&"function"!=typeof a[b]&&(c[b]=a[b]);return c}function d(a){if(!n)if(a.id=
p,g[p++]=a,!b||!f){if(k.push(a.id),!b&&!f){a=e.document;b=a.createElement("iframe");b.setAttribute("title","sessionserver");b.setAttribute("aria-hidden","true");var c=b.style;c.position="absolute";c.left=c.top="-999px";e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent&&e.attachEvent("onmessage",l);a.body.appendChild(b);b.src=h}}else f.postMessage(Sfdc.JSON.stringify(m(a)),h)}var q=!1;try{q=!!e.localStorage}catch(s){console.log("Can't access local storage: "+s)}var n=!(e.postMessage&&
q),b=null,f=null,g={},p=0,k=[];Sfdc.provide("SfdcApp.SfdcSession",{setIdentity:function(a){a||(a={});d({cmd:"sfdcsession::setIdentity",uid:a.uid||null,oid:a.oid||null,identity:a.identity||"",expire:a.expire||0,session:a.session||!1,active:a.active||!1,activeonly:a.activeonly||!1,community:a.community||!1,mydomain:a.mydomain||!1,callback:a.callback||null,retainhint:a.retainhint||!1})},getIdentities:function(a){a||(a={});d({cmd:"sfdcsession::getIdentities",get:a.get||[],callback:a.callback||null})},
active:function(a){a||(a={});d({cmd:"sfdcsession::active",uid:a.uid||null,oid:a.oid||null,callback:a.callback||null})},inactive:function(a){a||(a={});d({cmd:"sfdcsession::inactive",uid:a.uid||null,oid:a.oid||null,callback:a.callback||null,upexp:a.upexp||null,ll:a.ll})},updateAndActivate:function(a){a||(a={});d({cmd:"sfdcsession::updateandactivate",uid:a.uid||null,oid:a.oid||null,expire:a.expire||0,session:a.session||!1,instance:a.instance||null,callback:a.callback||null})},updateLastused:function(a){a||
(a={});d({cmd:"sfdcsession::updatelastused",uid:a.uid||null,oid:a.oid||null,callback:a.callback||null})},updateExpires:function(a){a||(a={});d({cmd:"sfdcsession::updateexpires",uid:a.uid||null,oid:a.oid||null,expire:a.expire||0,callback:a.callback||null})},deleteIdentity:function(a){a||(a={});d({cmd:"sfdcsession::deleteIdentity",uid:a.uid||null,oid:a.oid||null,callback:a.callback||null})},changeDisplay:function(a){a||(a={});d({cmd:"sfdcsession::changeDisplay",uid:a.uid||null,oid:a.oid||null,display:a.display||
null,callback:a.callback||null})},disabled:n})})(this,SFDCSessionVars.server);
(function(){function d(){SFDCSessionVars.success=!0;SFDCSessionVars.callback&&SFDCSessionVars.callback()}function e(){if("a"===a.act){var b={};b.uid=a.uid;b.username=a.un;b.thumbnail=a.photo;b.oid=a.oid;b.instance=a.inst;b.ll=a.ll;var c=a.disp;c&&(b.display=100<c.length?c.substring(0,100):c);SfdcApp.SfdcSession.setIdentity({uid:a.uid,oid:a.oid,identity:b,expire:a.exp,session:!0,active:!0,activeonly:a.ao,community:a.isComm,mydomain:a.isMyDom,callback:d,retainhint:a.rlh})}else"u"===a.act?SfdcApp.SfdcSession.updateExpires({oid:a.oid,
uid:a.uid,expire:a.exp,callback:d}):"t"===a.act&&SfdcApp.SfdcSession.updateAndActivate({oid:a.oid,uid:a.uid,expire:a.exp,session:!0,instance:a.inst,callback:d})}var a=SFDCSessionVars;!window.Sfdc||!Sfdc.require?e():Sfdc.require("SfdcApp.SfdcSession",e)})();

//# sourceMappingURL=/javascript/1704878899736/sfdc/source/SfdcSessionBase208.js.map
