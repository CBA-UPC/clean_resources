"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4600],{20993:10854:44819:1404:,null}},67181:(e,t,n)=>{n.d(t,{T:()=>b,Z:()=>f});var o=n(67294),a=n(480),s=n(86628),i=n(24405),r=n(97880),c=n(9291),u=n(35253),l=n(91754),d=n(80444),p=n(80148),m=n(73329),y=n(37982),v=n(85893);function b(){window.__c={n:"SubscriptionUncollectibleBannerContent"};const e=(0,a.O7)(),t=(0User.id),[e]),n=(0,i.yK)((e=>({bannerContent:{alignItems:"center",display:"flex",flexWrap:"wrap",gap:6,justifyContent:"space-between",padding:"12px 6px",whiteSpace:"normal",width:"100%",lineHeight:1.35}})),[]),o=(0,s.VK)((()=>d.default.state.currentSpaceStore),[]),u=(0,s.VK)((()=>p.Z.state.visible_banners),[]),l=(0,s.VK)((()=>{if(!o||!t)return null;const e=o.getModel();if(e&&u&&u.length>0){const n=u[0],a=y.$I.createChildStore(o,{id:n,table:"subscription_banner",spaceId:o.id});if(!a.isDefined())return null;const s=a.getBannerText();if(s)return(0,v.jsx)("span",{children:s});const i=e.userIdIsAdmin(t);return function(e,t){switch(e){case"uncollectible_past_due":return t?(0,v.jsx)(c.FormattedMessage,{id:"subscription.payment_uncollectible.past_due.workspace_owner",defaultMessage:"Your workspace may lose editing capabilities soon due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."}):(0,v.jsx)(c.FormattedMessage,{id:"subscription.payment_uncollectible.past_due.member",defaultMessage:"Your workspace may lose editing capabilities soon due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."});case"uncollectible_unpaid":return t?(0,v.jsx)(c.FormattedMessage,{id:"subscription.payment_uncollectible.unpaid.workspace_owner",defaultMessage:"Your workspace is unable to edit due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."}):(0,v.jsx)(c.FormattedMessage,{id:"subscription.payment_uncollectible.unpaid.member",defaultMessage:"Your workspace is unable to edit due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."});default:(0,r.t1)(e)}}(a.getBannerKey(),i)}return null}),[o,t,u]);return l?(0,v.jsx)("div",{style:n.bannerContent,children:(0,v.jsx)("div",{children:l})}):null}function f(){window.__c={n:"SubscriptionUncollectibleBanner"};const e=(0,s.VK)((()=>d.default.state.currentSpaceStore),[]),t=(0banners),[]),[n,a]=(0,s.VK)((()=>{if(!e)return[];if(t&&t.length>0){const n=t[0],o=y.$I.createChildStore(e,{id:n,table:"subscription_banner",spaceId:e.id});if(!o.isDefined())return[];const a=o.getBannerKey();switch(a){case"uncollectible_past_due":return[n,l.v.Yellow];case"uncollectible_unpaid":return[n,l.v.LightRed];default:(0,r.t1)(a)}}return[]}),[e,t]);return o.useEffect((()=>(n&&a?u.Bw({bannerStore:m.Z,id:"SubscriptionUncollectibleBanner",contentKey:"subscription_uncollectible",styleKey:a,prepend:!0}):u.qL({bannerStore:m.Z,id:"SubscriptionUncollectibleBanner"}),()=>{u.qL({bannerStore:m.Z,id:"SubscriptionUncollectibleBanner"})})),[n,a]),null}},59260:(e,t,n)=>{n.d(t,{U:Z:()=>h});var o=n(30120),a=n(67294),s=n(480),i=n(86628),r=n(24405),c=n(29477),u=n(97880),l=n(54642),d=n(35253),p=(n(47307),n(91754)),m=n(68785),y=(n(95477),n(80444)),v=n(73329),b=n(81023),f=n(88893),w=n(88280),_=n(85893);function g(){window.__c={n:"TestClockBannerContent"};const{testClock:e,billingInterval:t}=(0oid 0}}),[]),n=(00:e.id}),[]),[d,p]=(0,a.useState)(1),[v,g]=(0,a.useState)("second"),[h,T]=(0,a.useState)(!1),x=(0,s.O7)(),C=(0rap"}})),[]);if(!e||!t||!n)return null;const k=o.ou.fromSeconds(e.frozen_time);return(0,_.jsxs)("div",{style:C.bannerContent,children:[(0,_.jsxs)("div",{style:C.message,children:["The clock time is currently frozen at ",k.toLocaleString(o.ou.DATETIME_FULL),h?(0,_.jsx)(m.Z,{}):null]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("input",{disabled:h,type:"number",value:d,style:{width:75,textAlign:"right"},ovalue))}),(0,_.jsxs)("select",{disabled:h,value:v,ovalue)},children:[(0,_.jsx)("option",{value:"seconds",children:"seconds"}),(0,_.jsx)("option",{value:"minutes",children:"minutes"}),(0,_.jsx)("option",{value:"hours",children:"hours"}),(0,_.jsx)("option",{value:"days",children:"days"}),(0,_.jsx)("option",{value:"months",children:"months"}),(0,_.jsx)("option",{value:"years",disabled:"year"!==t,children:"years"})]}),(0,_.jsx)("button",{disabled:h,onClick:async()=>{const e=o.nL.fromObject({[v1)(e)}}(t);if(e>a)return void S(`Cannot advance test clock by more than two billing intervals. The current billing interval is ${t}.`);T(!0);"success"===(await l.stripeAdvanceTestClock(x,{spaceId:n,epochSeconds:k.plus(e).toSeconds()})).typatus)}}(x,n):S("Failed to advance test clock. Check server logs for details."),T(!1)},children:"Advance clock"}S(e){}}}]);