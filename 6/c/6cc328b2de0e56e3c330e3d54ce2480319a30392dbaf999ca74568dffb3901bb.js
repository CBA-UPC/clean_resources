"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5320],{4211:(e,n,t)=>{t.d(n,{DebugWindowContents:()=>Kt});t(46758),t(53321),t(86277);var a=t(50959),s=t(82187),i=t.n(s),l=t(61235),r=t(10629),o=t(14335),c=t(70615),d=t(18517),u=(t(58465),t(20550),t(2836),t(28593),t(65372)),m=t(30982),p=t(52250);const h=(0,m.v)();window.abba={get:async function(e,n){const t=new u.hH((0,p.G)()),a=(await t.getValues(u.hr.fromPartial({}))).pairs;let s={},i="";if(a.abbaOverrides?i=a.abbaOverrides:a.abbaoverrides&&(i=a.abbaoverrides),i)try{s=JSON.parse(i)}catch(l){}Object.prototype.hasOwnProperty.call(s,e)?setTimeout((()=>n(null,s[e])),0):h.post("sp://abba/v1/flags",{flags:[e]}).then((t=>{const{flags:a=[]}=t,s=a[0]&&a[0].featureName===e&&a[0].cell;n(null,s||null)})).catch((e=>{n(e)}))},getAll:function(e){h.get("sp://abba/v1/all_flags").then((n=>{const{flags:t=[]}=n,a=t.reduce(((e,n)=>(e[n.featureName]=n.cell,e)),{});e(null,JSON.stringify(a,null,2))})).catch((n=>{e(n)}))},getRequestedFlagNames:function(e){h.get("sp://abba/v1/requested_flag_names").then((n=>{e(null,JSON.stringify(n.sort(),null,2))})).catch((n=>{e(n)}))}};t(36981);var v=t(11527);var x=t(29132),f=t(43286),g=t(15994),j=t(73057);const y="scaF2wOGtuiU5UBKJrGa",N="PjVBb0nlrIUasTrrFgCx",b="MjtdwpkzFFhhmzeyzOy2",k="uVClWczmJLRR5jfAENGP",S=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],w=()=>{const e=(0,x.I0)(),n=(0,x.v9)((e=>e.inAppMessaging.env)),t=(0,x.v9)((e=>e.inAppMessaging.message)),[s,i]=(0,a.useState)(""),[l,r]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t&&o&&c(!1)}),[t,o]);const d=!t&&o;return(0,v.jsx)("div",{className:y,children:(0,v.jsxs)("div",{className:N,children:[(0,v.jsx)("div",{children:(0,v.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,v.jsx)(g.v,{dir:"auto",value:n,id:"desktop.settings.inAppMessagingEnv",onSelect:function(n){"prod"!==n&&"dev"!==n||e((0,j.q1)(n))},children:S.map((e=>{let{label:n,value:t}=e;return(0,v.jsx)("option",{value:t,children:n},t)}))}),(0,v.jsx)("div",{children:(0,v.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,v.jsx)("div",{children:(0,v.jsx)("input",{className:b,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:s,onChange:function(e){i(e.target.value),c(!1)}})}),(0,v.jsx)("div",{children:(0,v.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,v.jsx)("div",{children:(0,v.jsx)("input",{className:b,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:l,onChange:function(e){r(e.target.value),c(!1)}})}),(0,v.jsx)("div",{}),(0,v.jsx)("div",{}),(0,v.jsx)("div",{children:(0,v.jsx)(f.D,{colorSet:"invertedLight",onClick:function(n){n.preventDefault(),e((0,j.XJ)(s,l)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,v.jsx)("div",{className:k,children:"No Messsage found"})]})})};var C=t(67625),O=t(19617),A=t(82315),I=t(27067),T=t(91054),R=t(70055),P=t(37021),E=t(40125),_=t(39390),F=t(12748),D=t(94260),L=t(85866),V=t(52488),U=t(64507);const z={tableContainer:"Oq75N3dIIFwLLxqhrTGw",collapsed:"Y1mIc_urBEFpW0IaPvTg",tableTitle:"A3f7b8Ykb8QaTHv9e6DV",tableToggle:"cN2yet80TrzvhUOVyNyJ",table:"w3RCrOKYvq_0htC6zhzd",tableHead:"viEusJyR3z4ijG1P7ji6",rowHeader:"qM20Y4j0mkUnh1qSFmb3",rowName:"PMJ_WnnsgiBd1d9yFIGf",rowValue:"zyDs7IcK71IYTnn2YfNJ",rowActions:"ofGd7aEjrX3mgVu0DbO8",propertyDescription:"WoXbezM6uoI1BhVP_Huq",rowAction:"zmgvPs6K0W0mLJ3xX1Uv",rowControl:"dPVfdc5bb3lNG2ybyp2a"},B=e=>{let{title:n,titleExtra:t,rows:s,cols:l,canCollapse:r=!1,isCollapsedInitially:o=!1,renderHead:c=!1,renderRow:d}=e;const[u,m]=(0,a.useState)(!!r&&o);return(0,v.jsxs)(F.x,{className:i()(z.tableContainer,{[z.collapsed]:u}),children:[n?(0,v.jsxs)("div",{className:z.tableTitle,onClick:()=>{r&&m(!u)},children:[r?(0,v.jsx)("button",{className:z.tableToggle,children:u?(0,v.jsx)(D.V,{size:"small"}):(0,v.jsx)(L.C,{size:"small"})}):null,(0,v.jsx)("h3",{children:n}),t]}):null,(0,v.jsxs)(V.i,{className:z.table,children:[(0,v.jsx)("colgroup",{children:l.map(((e,n)=>(0,v.jsx)("col",{width:e.width,className:e.className},n)))}),c?(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:l.map(((e,n)=>(0,v.jsx)(U.x,{className:z.tableHead,children:e.name},n)))})}):null,(0,v.jsx)("tbody",{children:Array.isArray(s)?s.map((e=>d?d(e,l):null)):s})]})]})};function J(){const e=(0,O.zY)();return(0,a.useMemo)((()=>e?new e.Function("value","if (value) { navigator.clipboard.writeText(value) }"):()=>{}),[e])}const M="ipHwQurO5v9UGSq71YmY",H=()=>{var e,n,t,a;const s=J(),i=(0,_.p)(),l=(null===(e=i.token)||void 0===e?void 0:e.accessToken)??"Not authorized",r=new Date((null===(n=i.token)||void 0===n?void 0:n.accessTokenExpirationTimestampMs)??0);return(0,v.jsx)("div",{className:M,children:(0,v.jsx)(B,{title:"Authorization",rows:[{name:"Token",value:l},{name:"Expires At",value:r.toLocaleString()},{name:"Retry Attempt",value:(null===(t=i.retryAttempt)||void 0===t?void 0:t.toString())??"N/A"},{name:"Retry At",value:(null===(a=i.retryAt)||void 0===a?void 0:a.toLocaleString())??"N/A"}],cols:[{width:"30%"},{},{width:"16px"}],renderRow:e=>{let{name:n,value:t}=e;return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,highlight:!0,children:n}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,align:"right",children:t}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>s(t),children:(0,v.jsx)(E.c,{size:"small"})})})]})}})})};var W=t(17385);const G="WT_NZ6JEU_dK03UPUjQm",Y=e=>{let{name:n,value:t}=e;const a=J();return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,highlight:!0,children:n}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,align:"right",children:t}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>a(t),children:(0,v.jsx)(E.c,{size:"small"})})})]})},K=e=>{let{device:n}=e;return(0,v.jsx)(B,{title:n.name,rows:[{name:"Device",value:null==n?void 0:n.name},{name:"Identifier",value:n.id},{name:"Type",value:n.type},{name:"Group",value:n.isGroup.toString()},{name:"Local",value:n.isLocal.toString()},{name:"Active",value:n.isActive.toString()},{name:"Connecting",value:n.isConnecting.toString()},{name:"Disabled",value:n.isDisabled.toString()},{name:"Volume",value:n.volume.toString()},{name:"HiFi",value:n.hifiSupport.deviceSupported.toString()}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,v.jsx)(Y,{...e}),canCollapse:!0,isCollapsedInitially:!0})},$=()=>{const e=(0,W.O)(),n=e.devices;return(0,v.jsxs)("div",{className:G,children:[(0,v.jsx)(B,{title:"Connect",rows:(0,v.jsx)(Y,{name:"Status",value:e.connectionStatus}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),n.map((e=>(0,v.jsx)(K,{device:e},e.id)))]})};var q=t(74058),X=t(39505),Z=t(85536),Q=t(50648),ee=t(78171),ne=t(88509),te=t(74883),ae=t(374),se=t(8172),ie=t(69736),le=t(36879),re=t(13379);var oe=t(76280),ce=t(66369);var de=t(8570),ue=t(65019),me=t(5380);const pe="bFE0oGWgZ40KJHjcBj12",he="nzbIAA5MqUSD0hIKUuHg",ve="hksYFxAm48XqAEbpcukQ",xe="UnO1u4VJB0B6pTtqWh1n",fe="xlSWVFMQmYmRK34yiPOA",ge="oKgZ0g8at59jN8nf8Bee",je="Nodut0kqaRIc93iGqbbP",ye="dUIum8rPR6Msq9wot5ky",Ne="QHO5pYBkfWBn6qyAh9dp";const be=e=>{let{size:n,ranges:t}=e;if(0===t.length)return(0,v.jsx)("div",{className:ve,children:(0,v.jsx)("div",{className:xe})});const a=`linear-gradient(90deg, ${t.map((e=>{const t=100*e.fromByte/n,a=100*e.toByte/n;return`transparent ${t}%, ${X.pCU} ${t}%, ${X.pCU} ${a}%, transparent ${a}%`})).join(", ")})`;return(0,v.jsx)("div",{className:ve,children:(0,v.jsx)("div",{className:xe,style:{background:a}})})},ke=e=>{let{item:n,file:t}=e;const a=(0,de.g)(),s=J(),i=(function(e){let n,t,a=0;if(0===e.length)return a;for(n=0;n<e.length;n++)t=e.charCodeAt(n),a=(a<<5)-a+t,a|=0;return a}(`${t.format}${t.bitrate}${t.formatEnum}`)+180)%360;return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,highlight:!0,children:(0,v.jsxs)("div",{className:fe,style:{background:`linear-gradient(180deg, hsl(${i}, 60%, 30%), hsl(${i}, 40%, 70%))`},children:[(0,v.jsx)("span",{className:ge,children:t.format}),(0,v.jsx)("span",{className:je,children:Se(t)})]})}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,children:(0,v.jsxs)("div",{className:he,children:[t.fileId,(0,v.jsx)(be,{size:t.byteSize,ranges:t.byteRanges})]})}),(0,v.jsxs)(P.p,{className:z.rowActions,children:[(0,v.jsx)("button",{className:z.rowAction,onClick:()=>{a.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...n,provider:"context",metadata:{"media.manifest":JSON.stringify({id:t.fileId,bitrate:t.bitrate,format:t.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,v.jsx)(Z.J,{size:"small"})}),(0,v.jsx)("button",{className:z.rowAction,onClick:()=>{s(t.fileId)},children:(0,v.jsx)(E.c,{size:"small"})})]})]})};function Se(e){switch(e.formatEnum){case 16:return"16-bit";case 22:return"24-bit";default:return we(e.bitrate,1e3,"k")}}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(Number(e)/n).toLocaleString("en",{maximumFractionDigits:10})}${t}`}function Ce(){return!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?"Yes":"No"}function Oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0!==e)return(0,me.m)(Number(e))}const Ae=e=>{let{name:n,value:t}=e;const a=J();return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,highlight:!0,children:n}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,align:"right",children:t}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>a(t),children:(0,v.jsx)(E.c,{size:"small"})})})]})},Ie=e=>{let{terminalType:n,transportType:t,isDefaultDevice:a}=e;const s=a?"essentialPositive":"essentialBase",i=[];switch(n){case q.OE.TERMINAL_TYPE_SPEAKERS:i.push((0,v.jsx)(Q.X,{semanticColor:s,size:"small"}));break;case q.OE.TERMINAL_TYPE_HEADPHONES:i.push((0,v.jsx)(ee.F,{semanticColor:s,size:"small"}));break;case q.OE.TERMINAL_TYPE_DISPLAY_DEVICE:i.push((0,v.jsx)(ne.x,{semanticColor:s,size:"small"}))}switch(t){case q.Fl.TRANSPORT_TYPE_BUILT_IN:case q.Fl.TRANSPORT_TYPE_VIRTUAL:break;case q.Fl.TRANSPORT_TYPE_USB:i.push((0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{position:"relative",top:"3px",width:16,height:16,fill:(0,te.NE)(s)},children:(0,v.jsx)("path",{d:"m7.792.312-1.533 2.3A.25.25 0 0 0 6.467 3H7.5v7.319a2.5 2.5 0 0 0-.515-.298L5.909 9.56A1.5 1.5 0 0 1 5 8.18v-.266a1.5 1.5 0 1 0-1 0v.266a2.5 2.5 0 0 0 1.515 2.298l1.076.461a1.5 1.5 0 0 1 .888 1.129 2.001 2.001 0 1 0 1.021-.006v-.902a1.5 1.5 0 0 1 .756-1.303l1.484-.848A2.5 2.5 0 0 0 11.995 7h.755a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h.741a1.5 1.5 0 0 1-.747 1.142L8.76 8.99a2.584 2.584 0 0 0-.26.17V3h1.033a.25.25 0 0 0 .208-.389L8.208.312a.25.25 0 0 0-.416 0Z"})}));break;case q.Fl.TRANSPORT_TYPE_BLUETOOTH:i.push((0,v.jsx)(ae.X,{semanticColor:s,size:"small"}));break;case q.Fl.TRANSPORT_TYPE_DISPLAY_DEVICE:i.push((0,v.jsx)(ne.x,{semanticColor:s,size:"small"}))}return 0===i.length&&i.push((0,v.jsx)(se.S,{semanticColor:s,size:"small"})),(0,v.jsx)(v.Fragment,{children:i})},Te=e=>{let{name:n,id:t,isDefaultDevice:a,terminalType:s,terminalTypeRaw:i,transportType:l,transportTypeRaw:r}=e;const o=J();return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsxs)(P.p,{className:z.rowName,highlight:!0,children:[(0,v.jsx)(Ie,{terminalType:s,transportType:l,isDefaultDevice:a})," ",n]}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,children:t}),(0,v.jsx)(P.p,{className:z.rowValue,children:i}),(0,v.jsx)(P.p,{className:z.rowValue,children:r}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>o(t),children:(0,v.jsx)(E.c,{size:"small"})})})]})},Re=()=>{const e=(0,ue.Y)((e=>(null==e?void 0:e.item)??null)),n=function(){const[e,n]=(0,a.useState)(null),t=(0,re.f)();return(0,a.useEffect)((()=>{let e=!0;return t.getPlaybackInfo().then((t=>{e&&n(t)})),()=>{e=!1}}),[t]),(0,ce._)(oe.r.INFO,(e=>{let{data:t}=e;n(t)})),e}(),t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[t,s]=(0,a.useState)(null),i=(0,re.f)();return(0,a.useEffect)((()=>{let t=!0,a=null;if(null===e)s(null);else{const l=async()=>{const n=await i.getFiles(e);t&&s(n)};l(),null!==n&&(a=window.setInterval(l,n))}return()=>{t=!1,null!==a&&window.clearInterval(a)}}),[i,e,n]),t}(null==e?void 0:e.uri,500),s=(0,de.g)(),[i,l]=(0,a.useState)([]);return(0,a.useEffect)((()=>{const e=(0,p.G)(),n=new q.Hv(e).getAudioOutputDevices({},(e=>{l(e.devices.sort(((e,n)=>e.isDefaultDevice?-1:n.isDefaultDevice?1:e.name.localeCompare(n.name))))}));return()=>{n.cancel()}}),[]),null===e?(0,v.jsx)("div",{className:pe,children:"Nothing is currently playing."}):(0,v.jsxs)("div",{className:pe,children:[(0,v.jsxs)("div",{className:ye,children:[(0,v.jsx)(ie.x,{variant:"bodySmallBold",children:"Forced shuffle"}),(0,v.jsx)(le.Z,{id:"forced-shuffe",value:s.getForcedShuffle(),onSelected:e=>{s.setForcedShuffle(e)}})]}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{className:Ne,onClick:()=>{s.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,v.jsx)("span",{children:"Clear context"})})}),(0,v.jsx)(B,{title:"Devices",rows:i,cols:[{name:"Name",width:"30%"},{name:"ID"},{name:"Terminal"},{name:"Transport"},{name:"Actions",width:"16px"}],renderRow:e=>(0,v.jsx)(Te,{...e}),canCollapse:!0}),(0,v.jsx)(B,{title:"Details",rows:[{name:"url"===(null==n?void 0:n.fileType)?"URL":"File ID",value:null==n?void 0:n.fileId},{name:"Type",value:null==n?void 0:n.fileType},{name:"Codec",value:null==n?void 0:n.codecName},{name:"Bitrate",value:we(null==n?void 0:n.fileBitrate,1e3,"k")},{name:"Strategy",value:null==n?void 0:n.strategy},{name:"Target Bitrate",value:we(null==n?void 0:n.targetBitrate,1e3,"k")},{name:"Advisted Bitrate",value:we(null==n?void 0:n.advisedBitrate,1e3,"k")},{name:"Target File Available",value:Ce(null==n?void 0:n.targetFileAvailable)},{name:"Duration (hh:mm)",value:Oe(null==n?void 0:n.lengthMs)},{name:"Duration (ms)",value:we(null==n?void 0:n.lengthMs,1," ms")},{name:"Speed",value:we(null==n?void 0:n.playbackSpeed)},{name:"Gain Adjustment",value:we(null==n?void 0:n.gainAdjustment)},{name:"Loudness",value:null!=n&&n.hasLoudness?we(null==n?void 0:n.loudness):void 0}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,v.jsx)(Ae,{...e}),canCollapse:!0}),(0,v.jsx)(B,{title:"Files",rows:t??[],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:n=>(0,v.jsx)(ke,{item:e,file:n},n.fileId),canCollapse:!0,isCollapsedInitially:!0})]})};var Pe=t(9004),Ee=t(75614),_e=t(21682),Fe=t(63046);function De(e,n){const t=(0,Fe.o)();(0,a.useEffect)((()=>{const a=t.getEvents();return a.addListener(e,n),()=>{a.removeListener(e,n)}}),[e,n,t])}var Le=t(50809),Ve=t(95077),Ue=t(51227),ze=t(95683),Be=t(51833),Je=t(7605),Me=t(9756),He=t(87280),We=t(75533),Ge=t(61233),Ye=t(4965),Ke=t(44478),$e=t(28105),qe=t(99306),Xe=t(45540),Ze=t(7863),Qe=t(62609);const en=e=>{let{view:n,className:t}=e;const s=(0,a.useCallback)((e=>{(0,Ye.$1)(n,e.nativeEvent,"search-panel")&&e.preventDefault()}),[n]),i=(0,a.useCallback)((e=>{n.dispatch({effects:He.ql.of(new He.Jb({search:e}))})}),[n]),l=(0,a.useCallback)((()=>{(0,He.N$)(n)}),[n]),r=(0,a.useRef)(null);return(0,a.useEffect)((()=>{var e;n.dispatch({effects:He.ql.of(new He.Jb({search:""}))}),null===(e=r.current)||void 0===e||e.select()}),[n]),(0,v.jsx)("div",{className:t,children:(0,v.jsx)(qe.N,{iconLeading:(0,v.jsx)(Xe.j,{}),iconTrailing:(0,v.jsx)(Ze.k,{onClick:()=>l()}),children:(0,v.jsx)(Qe.y,{ref:r,onKeyDown:e=>s(e),onChange:e=>i(e.currentTarget.value)})})})};t(68829),t(75930);var nn=t(75875);t(39301);function tn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const an=["spotify:artist:5INjqkS1o8h1imAzPqGZBb","spotify:album:79dL7FLiJFOO0EoehUHQBv","spotify:track:6K4t31amVTZDgR3sKmwUJJ","spotify:show:1OLcQdw2PFDPG1jo3s0wbp","spotify:episode:0VpyIy8Srg5IKQdRAbDDH1"],sn=Object.values(nn.TP).filter((e=>"string"==typeof e)).map((e=>({name:e,value:(0,nn.EE)(e)})));function ln(e,n){let t=0;const a=[];if(n.type.is("["))n.parent();else if(n.type.is("Property")){if(!n.firstChild())return[];a.unshift(e.sliceDoc(n.from+1,n.to-1)),n.parent()}for(;n.parent()&&!n.type.is("JsonText");){if(n.type.is("Array"))a.unshift("[]");else if(n.type.is("Property")){if(!n.firstChild())break;a.unshift(e.sliceDoc(n.from+1,n.to-1)),n.parent()}if(++t>1e4)break}return a}function rn(e,n){for(const t of n)if("[]"===t){if(!Array.isArray(e)||0===e.length)return null;e=e[0]}else Object.hasOwn(e,t)&&(e=e[t]);return e}function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Ue.ys)({activateOnTyping:!1,override:[n=>{const t=(0,Je.qz)(n.state).cursorAt(n.pos,-1);if(t.type.is("{")||t.type.is("Object")){const a=ln(n.state,t),s=function(e,n){return Object.getOwnPropertyNames(rn(e,n))}(e,a);return{from:n.pos,options:s.map((e=>({type:"text",label:e,apply:`"${e}"`})))}}if(t.type.is("[")||t.type.is("Array")){const a=ln(n.state,t),s=rn(e,a);return Array.isArray(s)&&tn(s[0])?{from:n.pos,options:[{type:"text",label:"{ ... }",apply:JSON.stringify(s[0]),boost:1},{type:"text",label:"{}",boost:0}]}:/extension/i.test(a[a.length-1])?{from:n.pos,options:sn.map((e=>{let{name:n,value:t}=e;return{type:"constant",label:n,apply:`${t}`}}))}:{from:n.pos,options:an.map((e=>({type:"text",label:`"${e}"`})))}}if(t.type.is("Property")){const a=ln(n.state,t),s=function(e,n){const t=rn(e,n);return void 0===t?"null":Array.isArray(t)?"array":typeof t}(e,a),i=[];if("boolean"===s)i.push({type:"keyword",label:"true",boost:1}),i.push({type:"keyword",label:"false",boost:0});else if("null"===s)i.push({type:"keyword",label:"null",boost:1}),i.push({label:"{}",apply:"{}",boost:0});else if("string"===s){i.push({label:'""'});for(const e of an)i.push({label:`"${e}"`})}else if("number"===s)if(/extension/i.test(a[a.length-1]))for(const{name:e,value:n}of sn)i.push({type:"constant",label:e,apply:`${n}`});else i.push({label:"0",apply:"0"}),i.push({label:"10",apply:"10"}),i.push({label:"100",apply:"100"});else"object"===s?i.push({label:"{}",apply:"{}"}):"array"===s&&i.push({label:"[]",apply:"[]"});return{from:n.pos,options:i}}return null}]})}const cn=[Ge.vk,(0,Je.nF)(Ge.VE),(0,Ye.Eu)(),(0,Ye.ZO)(),(0,Ye.HQ)(),(0,Ye.Uw)(),We.yy.allowMultipleSelections.of(!0),Ye.$f.of([...ze.wQ,...ze.f$,...Ue.B1,...He.Lp,ze.oc]),(0,He.yC)({top:!0,createPanel:e=>{const n=e.dom.ownerDocument.createElement("div");return(0,Ke.s)(n).render((0,v.jsx)($e.LC,{target:e.dom.ownerDocument.head,children:(0,v.jsx)(en,{view:e})})),{dom:n,top:!0}}}),(0,Je.mi)(),(0,Be.AV)()],dn=[...cn,(0,ze.m8)(),(0,Me.ir)((0,Be.ap)()),(0,Je.nY)(),(0,Je.n$)(),(0,Ue.vQ)()],un=[...cn,We.yy.readOnly.of(!0)],mn=new We.F6,pn=e=>{let{readOnly:n=!1,onChange:t,onDiagnostics:s,editorRef:i,className:l}=e;const r=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=new Ye.tk({parent:r.current,extensions:[...n?un:dn,mn.of(on({})),Ye.tk.updateListener.of((e=>{e.docChanged&&(null==t||t(e.state.doc.toString()));for(const n of e.transactions)for(const e of n.effects)e.is(Me.lC)&&(null==s||s(e.value))}))]});return void 0!==i&&(i.current=e),()=>{e.destroy()}}),[n,t,s,i]),(0,v.jsx)("div",{className:l,ref:r})};function hn(e){let{readOnly:n,className:t,onChange:s,onDiagnostics:i}=e;const l=(0,a.useRef)(),r=(0,a.useRef)(s),o=(0,a.useRef)(i);r.current=s,o.current=i;const c=(0,a.useCallback)((()=>{const e=l.current;return void 0!==e?e.state.doc.toString():null}),[]),d=(0,a.useCallback)((e=>{const n=l.current;void 0!==n&&n.dispatch({changes:{from:0,to:n.state.doc.length,insert:e}})}),[]),u=(0,a.useCallback)((e=>{const n=l.current;void 0!==n&&n.dispatch({effects:mn.reconfigure(on(e))})}),[]),m=(0,a.useCallback)((e=>{var n;null==r||null===(n=r.current)||void 0===n||n.call(r,e)}),[]),p=(0,a.useCallback)((e=>{var n;null==o||null===(n=o.current)||void 0===n||n.call(o,e)}),[]);return{Editor:(0,v.jsx)(pn,{editorRef:l,readOnly:n,className:t,onChange:m,onDiagnostics:p}),getContent:c,setContent:d,setReference:u}}var vn=t(96207);const xn="X2I_RYWYpxMLnNlZS4pC",fn="SeONzyUTUcSX69dLCXjf",gn="a6zsfAU_4iY1od9MSoF4",jn=e=>{let{name:n,value:t}=e;const a=J();return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,highlight:!0,children:n}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,align:"right",children:t}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>a(t),children:(0,v.jsx)(E.c,{size:"small"})})})]})},yn=()=>{const e=(()=>{const e=(0,Fe.o)(),[n,t]=(0,a.useState)(e.getSubscriptions()),s=(0,a.useCallback)((()=>{t(e.getSubscriptions())}),[e,t]);return De(_e.f.SUBSCRIBE,s),De(_e.f.CANCEL,s),De(_e.f.REFRESH,s),n})(),n=J(),t=Object.entries((0,Ve.v)(e,(e=>`${e.ident}${e.isPrefix?"*":""}`)));return(0,v.jsx)(B,{title:"Subscriptions",rows:t,cols:[{name:"Ident"},{name:"Actions",width:"16px"}],renderRow:e=>{let[t,a]=e;return(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsxs)(P.p,{className:z.rowValue,truncate:!0,children:[t," (",a.length,")"]}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>n(t),children:(0,v.jsx)(E.c,{size:"small"})})})]},t)},canCollapse:!0})};function Nn(e){if(e.ident.endsWith("/json"))return!0;if(0===e.payloads.length)return!1;const n=(0,Le.BB)(e.payloads[0]);return n.length>0&&"{"===n[0]}const bn=e=>{let{message:n}=e;const[t,s]=(0,a.useState)(!1),{Editor:i,setContent:l}=hn({readOnly:!0});return(0,a.useEffect)((()=>{if(0!==n.payloads.length)if(Nn(n)){const e=JSON.parse((0,Le.BB)(n.payloads[0]));l(JSON.stringify(e,void 0,2))}else{const e=(0,Le.zv)(n.payloads[0]);l(JSON.stringify(e,void 0,2))}}),[n,l]),(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,children:new Date(n.timestamp).toLocaleString()}),(0,v.jsx)(P.p,{className:z.rowName,children:n.ident}),(0,v.jsxs)(P.p,{className:z.rowName,children:[(0,v.jsx)("button",{className:z.rowAction,onClick:()=>s(!t),children:(0,v.jsx)(Pe.V,{size:"small"})}),(0,v.jsx)(vn.q,{isOpen:t,className:gn,onRequestClose:()=>s(!1),shouldCloseOnEsc:!0,shouldCloseOnBackdropClick:!0,animated:!0,children:i})]})]})},kn=()=>{const e=(0,Fe.o)(),[n,t]=(0,a.useState)(0),[s,i]=(0,a.useState)(!0);De(_e.f.MESSAGE,(()=>{t(n+1)}));const l=s?e.getMessages().filter(Nn):e.getMessages();return(0,v.jsx)(B,{title:"Messages",titleExtra:(0,v.jsxs)("div",{className:fn,children:[(0,v.jsx)(Ee.z,{id:"json-only",size:"small",checked:s,onChange:()=>i(!s)}),(0,v.jsx)(ie.x,{as:"label",htmlFor:"json-only",variant:"marginal",children:"JSON only"})]}),rows:l,cols:[{name:"Time",width:"200px"},{name:"Ident"},{name:"Payload",width:"16px"}],renderRow:(e,n)=>(0,v.jsx)(bn,{message:e},`${n}-${e.ident}-${e.timestamp}`),canCollapse:!0})},Sn=()=>{const e=(()=>{const e=(0,Fe.o)(),[n,t]=(0,a.useState)(null);(0,a.useEffect)((()=>{e.getConnectionId().then((e=>t(e)))}),[e,t]);const s=(0,a.useCallback)((e=>t(e.data.connectionId)),[t]);return De(_e.f.CONNECTION,s),n})();return(0,v.jsxs)("div",{className:xn,children:[(0,v.jsx)(B,{title:"PubSub",rows:(0,v.jsx)(jn,{name:"Connection ID",value:e??"-"}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),(0,v.jsx)(yn,{}),(0,v.jsx)(kn,{})]})};t(70054);var wn=t(49857),Cn=t(52427),On=t(15671),An=t(52438),In=t(26823),Tn=t(75857),Rn=t(72445),Pn=t(2334),En=t(36813),_n=t(8824),Fn=t(4901),Dn=t(65432),Ln=t(41194),Vn=t(14005),Un=t(39721),zn=t(85803),Bn=t(67974);const Jn=36e5;function Mn(){var e;const n=(0,a.useContext)(Bn.N),t=(0,Un.C)(),s=null===(e=(0,zn.r)())||void 0===e?void 0:e.username,i=(0,a.useMemo)((()=>In.Z9.getPropertySetId({clientId:n.remote_config_client_id},(0,In.y6)(),[])),[n.remote_config_client_id]),l=(0,a.useMemo)((()=>{var e,a,l;if(!n||!t.data||!s)return null;const r="web-player"===n.remote_config_client_id||"1"===t.data.employee;return{data:{platform:"WEB",clientId:n.remote_config_client_id,country:t.data.country,propertySetKey:i,clientVersion:(null===(e=n.event_sender_context_information)||void 0===e?void 0:e.client_version_string)??"",installationId:(null===(a=n.event_sender_context_information)||void 0===a?void 0:a.installation_id)??"",oauthClientId:(null===(l=n.event_sender_context_information)||void 0===l?void 0:l.client_id)??"",employee:r,catalogue:t.data.catalogue,originPlatform:n.app_platform,originVersion:n.os_version??"",userName:s}}}),[s,n,t.data,i]),{data:r}=(0,Ln.a)({queryKey:["traceback-config"],queryFn:()=>(0,Vn.k)().request("https://remote-configuration-resolver.spotify.net/debug/traceback-config",{method:"POST",responseType:"json",headers:{"content-type":"application/json"},payload:JSON.stringify(l)}).then((e=>{const n=e.body;return Object.fromEntries(n.data.map((e=>[e.name,e])))})),staleTime:5e3,gcTime:Jn,refetchInterval:Jn,refetchOnWindowFocus:!1,enabled:!!l});return r??{}}const Hn="HnpguQ3rtX44hdThdwy9",Wn="y1gsL5scUuLOArVrFYRl",Gn="Ni7focuLC626smvmOnLP",Yn="W5wjtyjHTJPGX5j7_WOp",Kn="gbwwwTt68IMGNnwRJ7x7",$n=e=>{let{property:n,value:t,onOverride:a,isOverridden:s}=e;if("int"===n.type||"internal"===n.type)throw Error("Invalid property type for dropdown!");const l="bool"===n.type?["true","false"]:n.values;return(0,v.jsx)(Cn.i,{id:`${n.name}-dropdown`,value:(t??n.default).toString(),onChange:e=>{var t;a(n.name,(t=e.currentTarget.value,"bool"===n.type?"true"===t:t))},className:i()({[Yn]:s}),children:l.map((e=>(0,v.jsx)("option",{value:e,children:e},e)))})},qn=e=>{let{property:n,value:t,onOverride:s,isOverridden:l}=e;if("int"!==n.type)throw Error("Invalid property type for dropdown!");const[r,o]=(0,a.useState)(t??n.default),c=(0,wn.y1)((e=>{s(n.name,e)}),500);return(0,v.jsx)(Qe.y,{type:"number",min:n.lower,max:n.upper,value:r,onChange:e=>{o(e.currentTarget.value),c(Number.parseInt(e.currentTarget.value,10))},className:i()({[Yn]:l})})},Xn=e=>{let{property:n,localValue:t,remoteValue:a,experimentUrl:s,isRemoteUserSpecificOverride:i,onOverride:l,filter:r}=e;const o=t!==a,c=n.default.toString(),d=null==a?void 0:a.toString();let u=(s||c!==d?d:null)??null;return u&&s&&(u=(0,v.jsxs)("a",{href:s,target:"_blank",className:Kn,children:[d,i&&(0,v.jsx)(On.l,{size:"small"})]}),i&&(u=(0,v.jsx)(Rn.ws,{label:"This value comes from a user-specific override in the linked experiment.",children:u}))),(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsxs)(P.p,{className:z.rowName,title:n.name,highlight:!0,children:[(0,v.jsx)("a",{href:`https://sites.spotify.net/s/hyperlink?path=property-experiments&property=${n.name}`,rel:"noopener noreferrer",target:"_blank",children:r?(0,v.jsx)(Fn.o,{searchWords:[r??""],textToHighlight:n.name}):n.name}),(0,v.jsx)("div",{className:z.propertyDescription,children:n.description})]}),(0,v.jsx)(P.p,{className:z.rowValue,children:c}),(0,v.jsx)(P.p,{className:z.rowValue,children:u}),(0,v.jsx)(P.p,{className:z.rowValue,children:"bool"===n.type||"enum"===n.type?(0,v.jsx)($n,{property:n,value:t,onOverride:l,isOverridden:o}):"int"===n.type?(0,v.jsx)(qn,{property:n,value:t,onOverride:l,isOverridden:o}):null})]})},Zn="debugPanelRemoteConfigLastChangedAtByPropertyName",Qn=e=>{let{properties:n,localConfiguration:t,remoteConfiguration:s,setOverrides:i,clearOverrides:l}=e;const{filter:r}=(0,a.useContext)(Dn.fo),o=(0,A.um)(),c=()=>{const e=o.getItem(Zn);return e instanceof Pn.d||e instanceof En.y?{}:e},d=(e,n)=>{i(In.VK.fromJSON({[e]:n})),o.setItem(Zn,{...c(),[e]:Date.now()})},u=(0,a.useRef)(c()),m=n.sort(((e,n)=>(u.current[n.name]??0)-(u.current[e.name]??0)||e.name.localeCompare(n.name))),p=Mn();return(0,v.jsxs)("div",{className:Wn,children:[(0,v.jsxs)("div",{className:Gn,children:[(0,v.jsx)(An.P,{size:"small",onClick:()=>{l(),o.clearItem(Zn)},children:"Clear local overrides"}),(0,v.jsx)(_n.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,v.jsx)(F.x,{children:(0,v.jsxs)(V.i,{children:[(0,v.jsxs)("colgroup",{children:[(0,v.jsx)("col",{width:"30%"}),(0,v.jsx)("col",{}),(0,v.jsx)("col",{})]}),(0,v.jsxs)("tbody",{children:[(0,v.jsxs)(R.S,{children:[(0,v.jsx)(U.x,{className:z.rowHeader,children:"Name"}),(0,v.jsx)(U.x,{className:z.rowHeader,children:"Default"}),(0,v.jsx)(U.x,{className:z.rowHeader,children:"Remote"}),(0,v.jsx)(U.x,{className:z.rowHeader,children:"Local"})]}),m.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))).map((e=>{var n,a;return(0,v.jsx)(Xn,{property:e,localValue:t.getValue(e.name),remoteValue:s.getValue(e.name),experimentUrl:null==p||null===(n=p[e.name])||void 0===n||null===(n=n.experimentRef)||void 0===n?void 0:n.experimentUrl,isRemoteUserSpecificOverride:(null==p||null===(a=p[e.name])||void 0===a?void 0:a.isOverride)??!1,onOverride:d,filter:r},e.name)}))]})]})})]})},et=()=>{const e=[...(0,In.y6)()],{localConfiguration:n,remoteConfiguration:t,setOverrides:a,clearOverrides:s}=(0,Tn.j)();return(0,v.jsx)("div",{className:Hn,children:(0,v.jsx)(Dn.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,v.jsx)(Qn,{properties:e,localConfiguration:n,remoteConfiguration:t,setOverrides:a,clearOverrides:s})})})};t(65484),t(35174),t(96241);var nt=t(75802),tt=t(11317);const at="mHtMWLOMN_lZh6Eq1lBe",st="MNRz4Pg1lZNyfjDZ3N6M",it=()=>{const e=(0,nt.TH)(),n=(0,nt.s0)(),t=e=>{const t=(0,tt.EC)(e);t&&n(t.toURLPath(!0),{state:{preventMoveFocus:!0}})},a=(0,tt.EC)(e.pathname);return(0,v.jsxs)("div",{className:at,children:[(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=new FormData(e.target).get("navigateTo").toString(),a=new URL(n,"https://open.spotify.com");a.hostname&&a.pathname?t(a.pathname):t(n)},className:st,children:[(0,v.jsx)("label",{htmlFor:"navigate-input",children:"Navigate to"}),(0,v.jsx)(ie.x,{variant:"bodySmall",as:"input",style:{color:X.Snx},name:"navigateTo",id:"navigate-input",type:"text",placeholder:"ex. /search/nirvana",onKeyDown:e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}})]}),(0,v.jsx)("h2",{children:"Current location:"}),(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:["Location: ",e.pathname]}),e.search&&(0,v.jsxs)("li",{children:["Search params: ?",e.search]}),e.hash&&(0,v.jsxs)("li",{children:["Hash params: #",e.hash]}),a?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{children:["URL: ",a.toURL()]}),(0,v.jsxs)("li",{children:["URI: ",a.toURI()]})]}):(0,v.jsx)("li",{children:"Not parseable as a Spotify URI!"}),(0,v.jsxs)("li",{children:["Location state: ",(0,v.jsx)("pre",{children:JSON.stringify(e.state,null,2)})]})]})]})};var lt=t(926),rt=t(80757),ot=t(94196),ct=t(66719),dt=t(36353),ut=t(85161),mt=t(94948),pt=t(39861),ht=t(97110),vt=function(e){return e.IPL="IN_PERSON",e.RGS="REMOTE",e}(vt||{});var xt=t(79718),ft=t(90779),gt=t(51550);function jt(e){let{obj:n}=e;return(0,v.jsx)(V.i,{children:(0,v.jsx)("tbody",{children:Object.entries(n).map((e=>(0,v.jsx)(yt,{name:e[0],value:e[1]},e[0])))})})}function yt(e){let{name:n,value:t}=e;const a=J();let s;return"string"==typeof t||"number"==typeof t?s=t:"boolean"==typeof t?s=(0,v.jsx)(xt.N,{defaultChecked:t,isActive:!1,onClick:e=>{e.preventDefault()}}):"object"==typeof t&&(s=(0,v.jsx)(jt,{obj:t})),(0,v.jsxs)(R.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:z.rowName,highlight:!0,children:n}),(0,v.jsx)(P.p,{className:z.rowValue,truncate:!0,align:"right",children:s}),(0,v.jsx)(P.p,{className:z.rowActions,children:(0,v.jsx)("button",{className:z.rowAction,onClick:()=>{void 0!==t&&a("object"==typeof t?JSON.stringify(t):t.toString())},children:(0,v.jsx)(E.c,{size:"small"})})})]})}const Nt=[{title:"Current Session",Component:()=>{const{currentSession:e,refreshCurrentSession:n}=(0,pt.A)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ft.o,{iconOnly:gt.t,onClick:()=>{n()}}),(0,v.jsx)(F.x,{children:e&&(0,v.jsxs)(V.i,{children:[(0,v.jsxs)("colgroup",{children:[(0,v.jsx)("col",{width:"30%"}),(0,v.jsx)("col",{}),(0,v.jsx)("col",{width:"16px"})]}),(0,v.jsx)("tbody",{children:Object.entries(e).map((e=>(0,v.jsx)(yt,{name:e[0],value:e[1]},e[0])))})]})})]})}},{title:"Create New Session",Component:()=>{const{createSession:e}=(0,pt.A)(),[n,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(vt.IPL),l=(0,x.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:"Create a new session as your current user (does nothing if you already have a session)"}),(0,v.jsxs)("div",{className:z.rowControl,children:[(0,v.jsxs)(g.v,{id:"sessionTypeDropdown",value:s,onSelect:e=>{switch(e){case vt.IPL:i(vt.IPL);break;case vt.RGS:i(vt.RGS);break;default:i(vt.IPL)}},children:[(0,v.jsx)("option",{value:vt.IPL,children:vt.IPL},vt.IPL),(0,v.jsx)("option",{value:vt.RGS,children:vt.RGS},vt.RGS)]}),(0,v.jsx)(f.D,{onClick:async n=>{n.preventDefault();const a=await e();t(a)},children:"Create"})]}),(0,v.jsx)(An.P,{onClick:()=>{l((0,mt.xX)(ht.JamModalType.INVITE))},style:{marginTop:dt.mG},children:"Open invitation modal"}),null!==n&&(0,v.jsx)(ut.B,{value:JSON.stringify(n,null,2),readOnly:!0})]})}},{title:"Leave Current Session",Component:()=>{const{leaveSession:e,currentSession:n}=(0,pt.A)(),[t,s]=(0,a.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:z.rowName,children:"Leave your current session"}),(0,v.jsxs)("div",{className:z.rowControl,children:[(0,v.jsx)(Qe.y,{value:(null==n?void 0:n.sessionId)??"",readOnly:!0}),(0,v.jsx)(f.D,{onClick:async t=>{if(t.preventDefault(),!n)return;const a=await e();s(a)},children:"Leave"})]}),null!==t&&(0,v.jsx)(ut.B,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Delete Current Session",Component:()=>{const{currentSession:e,deleteSession:n}=(0,pt.A)(),[t,s]=(0,a.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:z.rowName,children:"Delete your current session"}),(0,v.jsxs)("div",{className:z.rowControl,children:[(0,v.jsx)(Qe.y,{value:(null==e?void 0:e.sessionId)??"",readOnly:!0}),(0,v.jsx)(f.D,{onClick:async t=>{if(t.preventDefault(),!e)return;const a=await n();s(a)},children:"Delete"})]}),null!==t&&(0,v.jsx)(ut.B,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Join Session as Guest",Component:()=>{const[e,n]=(0,a.useState)(""),t=(0,x.I0)(),s=(0,nt.s0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:z.rowName,children:"Join somebody else's session (paste join token or join URI)"}),(0,v.jsxs)("div",{className:z.rowControl,children:[(0,v.jsx)(Qe.y,{value:e,onChange:e=>n(e.currentTarget.value)}),(0,v.jsx)(f.D,{onClick:async n=>{n.preventDefault();const a=(0,tt.EC)(e);a&&(0,tt._s)(a)?s(a.toURLPath(!0)):t((0,mt.xX)(ht.JamModalType.JOIN,e))},children:"Join"})]})]})}}],bt=()=>{const[e,n]=(0,a.useState)(-1);return(0,v.jsxs)("div",{className:at,children:[(0,v.jsx)("h1",{children:"Social Connect!"}),(0,v.jsx)(lt.U,{children:Nt.map(((t,a)=>(0,v.jsxs)(rt.Q,{children:[(0,v.jsx)(ot.i,{className:z.rowHeader,onClick:t=>{t.preventDefault(),n(a===e?-1:a)},isExpanded:a===e,children:t.title}),(0,v.jsx)(ct.v,{isExpanded:a===e,children:t.Component&&(0,v.jsx)(t.Component,{})})]},`${a}-item`)))})]})};var kt=t(24194);const St="EpKDeW2JglvI1Jul9PDh",wt="g2miUZeGB9MKVvwZBLXH",Ct=()=>{const{value:e,setValue:n,clearStoredKeyValue:t,clearSessionStorage:a}=(0,kt.useSessionStorage)("eligibility"),{value:s,setValue:i,clearStoredKeyValue:l}=(0,kt.useSessionStorage)("datetime");return(0,v.jsxs)("div",{className:St,children:[(0,v.jsx)("h1",{children:"Premium Page Debug"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{children:"Override Eligiiblity"}),(0,v.jsxs)("select",{className:wt,value:e,onChange:e=>n(e.target.value),children:[(0,v.jsx)("option",{}),(0,v.jsx)("option",{value:"INTRO_ELIGIBLE",children:"INTRO_ELIGIBLE"}),(0,v.jsx)("option",{value:"NON_INTRO_ELIGIBLE",children:"NON_INTRO_ELIGIBLE"}),(0,v.jsx)("option",{value:"WINBACK",children:"WINBACK"})]}),(0,v.jsx)(f.D,{className:St,size:"small",onClick:()=>t("eligibility"),children:"Remove Eligiblity Override"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{children:"Override Date"}),(0,v.jsx)("input",{className:wt,type:"datetime-local",value:s,onChange:e=>i(e.target.value)}),(0,v.jsx)(f.D,{size:"small",onClick:()=>l("datetime"),children:"Remove Date/Time Override"})]}),(0,v.jsx)(f.D,{size:"small",onClick:a,children:"Remove All Overrides"})]})};var Ot=t(17676),At=t(29074),It=t(60558),Tt=t(65441),Rt=t(7627),Pt=t(65786),Et=(t(20069),t(53724));const _t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"lookupDebug"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lookup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lookupResult"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"lookupResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LookupResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeAlbum"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeArtist"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeChapter"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homePlaylist"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homePodcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeAudiobook"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeTrack"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"homeUser"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnknownTypeWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}}]}}]}},...Et.c.definitions,...Et.Iv.definitions,...Et.pM.definitions,...Et.oZ.definitions,...Et.ZZ.definitions,...Et.Uh.definitions,...Et.b4.definitions,...Et.iw.definitions,...Et.dX.definitions,...Et.fd.definitions]};var Ft=t(60886),Dt=t(62648);const Lt="u52EO0zzXPDFTTlWPw5O",Vt="xj_2z64kLq0lRP2TaIXN";function Ut(e){return Boolean(e)}function zt(e){return(0,Ft.sf)(e)}const Bt=()=>{const{request:e}=(0,a.useContext)(Tt.Ax),[n,t]=(0,Pt.z)(Dt._,[]),[s,i]=(0,a.useState)(""),l=async()=>{var a;if(!function(e){const n=(0,tt.EC)(e);return!(!n||(0,tt.zO)(n)||(null==n?void 0:n.id)===tt.JM.COLLECTION||!(!n||(0,tt.YF)(n)||(0,tt.OB)(n)||(0,tt.hn)(n)||(0,tt.Kv)(n)||(0,tt.wj)(n)||(0,tt.RS)(n)||(0,tt.CA)(n)))}(s))return;const i=await(0,Rt.J)(e,_t,{uris:[s]}),l=(null==i||null===(a=i.data)||void 0===a?void 0:a.lookup.map(zt).filter(Ut))||[];t(l.concat(n))};return(0,v.jsxs)("div",{className:Lt,children:[(0,v.jsx)("h1",{children:"Home"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:"Shortcuts override"}),(0,v.jsxs)(At.c,{label:"Entity URI to add",labelFor:"shortcut_to_add",children:[(0,v.jsx)(Qe.y,{id:"shortcut_to_add",type:"text",placeholder:"spotify:episode:123123",value:s,onChange:e=>i(e.currentTarget.value)}),(0,v.jsxs)(It.C,{children:["Right now we only allow: Artist, Album, Audiobook, Podcast, Track, User, Playlist, Episode and Chapter.",(0,v.jsx)("br",{})," For more info check the HomeV2ShortcutsShelf logic."]})]}),(0,v.jsx)(f.D,{size:"small",className:Vt,disabled:0===s.length,onClick:()=>{l()},children:"Add to Shortcuts"}),(0,v.jsx)(f.D,{size:"small",className:Vt,onClick:()=>{t([])},children:"Clear all overrides"})]})]})},Jt="wjncHEmBUc7V8RZYdENw",Mt="uyHngn_fJez61BsFl3tA",Ht="J2KhtXbDovVMDOMzv1Jy",Wt="h5nLocSUS3w2NB53IdWQ",Gt="debugWindowActiveTabGroup",Yt="debugWindowActiveTabIndex",Kt=()=>{const e=(0,re.f)().getCapabilities().canGetFiles,n=(0,I.Y)(),t=(0,O.ky)(),s=(0,d.W6)(Ot.yaB);(0,a.useEffect)((()=>{t&&(t.title="Spotify Debug Window")}),[t]);const u=(0,a.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(T.K),Authorization:[{label:"Access Token",Panel:H}],Playback:[e?{label:"Playback",Panel:Re}:null,{label:"Connect",Panel:$},n?{label:"Social Connect",Panel:bt}:null].filter(T.K),"Data Fetching":[null,{label:"PubSub",Panel:Sn},null].filter(T.K),UI:[{label:"Routing",Panel:it}].filter(T.K),Other:[{label:"Remote Config",Panel:et},null,{label:"In-App Messaging",Panel:w},{label:"Your DJ",Panel:C.Fh},{label:"Home",Panel:Bt},{label:"Premium Page",Panel:Ct}].filter(T.K)}).filter((e=>{let[n,t]=e;return t.length>0})))),[e,n]),m=Object.keys(u),p=(0,A.um)(),h=p.getItem(Gt),x="string"==typeof h&&h in u?h:m[0],[f,g]=(0,a.useState)(x),j=p.getItem(Yt),y="number"==typeof j&&j in u[f]?j:0,[N,b]=(0,a.useState)(y),k=u[f][N].Panel;return(0,v.jsx)("div",{className:i()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":s}),children:(0,v.jsxs)("div",{className:Jt,children:[(0,v.jsx)(l.W,{className:Mt,children:(0,v.jsx)(r.b,{flexMobile:!0,children:m.map((e=>(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(o.W,{children:e}),u[e].map(((n,t)=>(0,v.jsx)(c._,{active:f===e&&N===t,label:n.label,onClick:()=>{g(e),p.setItem(Gt,e),b(t),p.setItem(Yt,t)},className:Ht,children:n.label},n.label)))]},e)))})}),(0,v.jsx)("div",{className:Wt,children:(0,v.jsx)(k,{})})]})})}},85803:(e,n,t)=>{t.d(n,{r:()=>i});t(86277);var a=t(29132),s=t(82857);const i=()=>{const e=(0,a.v9)((e=>{var n;return null===(n=e.session)||void 0===n?void 0:n.user}));return e?{type:s.p.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((e=>{let{url:n,width:t,height:a}=e;return{url:n,width:t||void 0,height:a||void 0}}))}:null}}}]);
//# sourceMappingURL=xpui-debug-window-contents.e9196f3a.js.map