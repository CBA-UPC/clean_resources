"use strict";(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[950],{},s=>{s.O(0,[99],(()=>{return _=736,s(s.s=_);var _}));s.O()}]);
"use strict";(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[442],{},s=>{s.O(0,[99],(()=>{return _=6808,s(s.s=_);var _}));s.O()}]);
/*! For license information please see page-view-data.js.LICENSE.txt */
"use strict";(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[246],{8420:(e,t,n)=>{n.r(t),n.d(t,{DAY:()=>A,HOUR:()=>x,MINUTE:()=>O,Rules:()=>ae,SECOND:()=>T,Sticky:()=>te,WEEK:()=>I,createIntersection:()=>K,createLog:()=>v,eachArray:()=>g,getCookie:()=>b,getCookieString:()=>S,getFirstPartyId:()=>F,getPropertyValue:()=>m,isA:()=>i,isArray:()=>s,isBoolean:()=>f,isFiniteNumber:()=>u,isFn:()=>o,isNumber:()=>c,isPlainObject:()=>l,isSize:()=>H,isStr:()=>a,isUndefined:()=>d,now:()=>C,parseSize:()=>G,removeCookie:()=>E,setCookie:()=>_,setPropertyValue:()=>w});const r=Object.prototype.toString;unction o(e){return i(e,"Function")}function a(e){return i(e,"String")}function s(e){return i(e,"Array")}function c(e){return i(e,"Number")}function u(e){return c(e)&&e>Number.NEGATIVE_INFINITY&&e<Number.POSITIVE_INFINITY}function l(e){return i(e,"Object")}function f(e){return i(e,"Boolean")}function d(e){return i(e,"Undefined")}const p="adm_debug",h=!![()=>location.href.toLowerCase().indexOf(p)>-1,()=>process.argv.join(" ").toLowerCase().indexOf(p)>-1,.find((e=>{try{return e()}catch(e){return!1}}));function v({name:e=""}={}){const t=e?[`%c${e}`,"display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;"]:[];function n(e,n){h&&o(console[e])&&console[e].apply(console,t.concat(n))}return{logError:function(...e){n("error",e)},logInfo:function(...e){n("info",e)},logWarn:}function g(e,t){for(let n=0,r=e.length;n<r;n++)if(!1===t(e[n],n))return}function w(e,t,n){const r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),[i]=r.splice(-1);let o;for(let t=0,n=r.length;t<n;t++){if(o=r[t],!(o in e))return;e=e[o]}e&&(e[i]=n)}function m(e,t){const n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let r;for(let t=0,i=n.length;t<i;t++){if(r=n[t],!(r in e))return;e=e[r]}return e}var y=n(6489);function b(e){return(0,y.Q)(S())[e]}function _(e,t,n){try{document.cookie=(0,y.q)(e,t,n)}catch(e){}}function E(e){_(e,"",{expires:new Date(0)})}onst T=1e3,O=60*T,x=60*O,A=24*x,I=7*A;onst L={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let R;const P=new Uint8Array(16);onst U=[];for(let e=0;e<256;++e)U.push((e+256).toString(16).slice(1));onst j=var D;const N="am-uid-f",$=new Date(C()+365*A),V=`.${null===(D=location.hostname.match(/(\w{2,}\.\w{2,3}\.\w{2,3}|\w{2,}\.\w{2,3})$/))||void 0===D?void 0:D[0]}`;function F(){let e=b(N);return e||(e=j()),_(N,e,{expires:$,domain:V,path:"/"}),b(N)!==e&&(e=""),e}const{logError:B}=v({name:"utils.size"}),W=/^(-?\d+(?:\.\d+)?)(.+)?$/;function G(e){let[t,n,r]=W.exec((e+"").trim())||[],i=parseFloat(n),o=r;return!u(i)||d(o)?B(`parse error, invalid string "${e}"`):{value:i,unit:o}}onst Q=["Top","Right","Bottom","Left"],q=["px"];function z(e){const{marginMultiply:t=1}=e;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}}(e,["marginMultiply"]),Q.map((n=>{let r=e[`margin${n}`];return a(r)?r=G(r)||{value:0,unit:"px"}:c(r)&&(r={value:r,unit:"px"}),!d(r)&&q.includes(r.unit)||(r={value:0,unit:"px"}),`${r.value*t||0}${r.unit}`})).join(" ")}function K(e,t,n={}){var r=new IntersectionObserver(t,{root:n.root,rootMargin:z(n),threshold:n.threshold});return(e=s(e)?e:[e]).forEach((e=>r.observe(e))),r}const Y="width: 0; height: 0;",J=["transform","width","height","margin","padding","display","position"];var X,Z,ee;!X||(X={}));class te{constructor(e,{intersection:t}){this._attached=!1,this._enabled=!1,this._storedCssText=null,this._intersectionConfig=function(e){const t={};return e.split(",").forEach((e=>{const n=e.split("="),r=n[0].trim().toLowerCase(),i=n[1]&&parseInt(n[1].trim());let o;switch(r){case"top":o=X.TOP;break;case"bottom":o=X.BOTTOM;break;case"left":o=X.LEFT;break;case"right":o=X.RIGHT;break;default:console.log(`invalid intersection "${r}".`)}if(Number.isNaN(i))return console.log(`invalid intersection value "${n[1]}".`);d(o)||(t[o]=i)})),t}(t),this._containerId=e,this.enable()}isAttached(){return this._attached}nable(){if(!this.isEnabled()){const e=this._container=document.getElementById(this._containerId),t=this._anchor=document.createElement("sticky-anchor");t.style.cssText=Y,e.parentElement.insertBefore(t,e),this._intersectionObserver=K([e,t],((n,r)=>{const i=n.filter((n=>this.isAttached()?n.target===t:n.target===e)),o=i[i.length-1];o&&(this.isAttached()||o.isIntersecting?this.isAttached()&&o.isIntersecting&&this.detach():this.attach(o))}),{threshold:1,marginTop:this._intersectionConfig[X.TOP],marginRight:this._intersectionConfig[X.RIGHT],marginBottom:this._intersectionConfig[X.BOTTOM],marginLeft:this._intersectionConfig[X.LEFT],marginMultiply:-1}),this._enabled=!0}}disable(){this.isEnabled()&&(this.isAttached()&&this.detach(),this._anchor.parentElement.removeChild(this._anchor),this._intersectionObserver.disconnect(),this._enabled=!1)}attach(e){const{_container:t,_anchor:n}=this;if(!this.isAttached()){const i=(r=e).boundingClientRect.top<r.intersectionRect.top?X.TOP:r.boundingClientRect.bottom>r.intersectionRect.bottom?X.BOTTOM:null,o=this._intersectionConfig[i];if(!d(o)){const r=e.boundingClientRect;let a="";switch(i){case X.TOP:a+=`top: ${o}px;`,a+=`left: ${r.left}px;`;break;case X.RIGHT:a+=`right: ${o}px;`,a+=`top: ${r.top}px;`;break;case X.BOTTOM:a+=`bottom: ${o}px;`,a+=`left: ${r.left}px;`;break;case X.LEFT:a+=`left: ${o}px;`,a+=`top: ${r.top}px;`}const s=window.getComputedStyle(t),{width:c,height:u}=s,l=this._storedCssText=t.style.cssText;n.style.cssText=Array.from(s).reduce(((e,t)=>J.includes(t)?`${e}${t}: ${s[t]};`:e),""),t.style.cssText=`${l} width: ${c}; height: ${u}; position: fixed;${a}`,this._attached=!0}}var r}detach(){const{_container:e,_anchor:t,_storedCssText:n}=this;this.isAttached()&&(a(n)&&(e.style.cssText=n,this._storedCssText=null),t.style.cssText=Y,this._attached=!1)}}!Z||(Z={})),ee||(ee={}));const ne=new RegExp([ee.LESS_OR_EQUAL,ee.MORE_OR_EQUAL,ee.NOT_EQUAL,ee.LESS,ee.MORE,ee.EQUAL].join("|"));function re(e){const t=ne.exec(e);if(!t)return;const n=t[0];return{operator:n,properties:[ie(e.substr(0,t.index).trim()),ie(e.substr(t.index+n.length).trim())]}}function ie(e){return"."===e[0]?{type:Z.LINK,value:e.substr(1)}:{type:Z.PRIMITIVE,value:e}}function oe(e,t){switch(e.type){case Z.LINK:return m(t,e.value)+"";case Z.PRIMITIVE:return e.value}}class ae{constructor(e){this._rules=e.map(()}matchWith(e){return!!this._rules.find((t=>!t.find((t=>!function(e,t){const n=oe(e.properties[0],t),r=oe(e.properties[1],t);switch(e.operator){case ee.EQUAL:return n==r;case ee.LESS:return n<r;case ee.LESS_OR_EQUAL:return n<=r;case ee.MORE:return n>r;case ee.MORE_OR_EQUAL:return n>=r;case ee.NOT_EQUAL:return n!=r;default:return!1}}(t,e)))))}}},7041:(e,t,n)=>{n.r(t),n.d(t,{BotdError:()=>p,default:()=>b,load:()=>y,sources:()=>w});var r=ject.create;bject.create;function s(e,t){return-1!==e.indexOf(t)}nction l(e){return Object.getOwnPropertyNames(e)}r p=Error);r g={detectAppVersion:function(e){var t=e.appVersion;return 0===t.state&&(/headless/i.test(t.value)?"headless_chrome":/electron/i.test(t.value)?"electron":/slimerjs/i.test(t.value)?"slimerjs":void 0)},detectDocumentAttributes:function(e){var t=e.documentElementKeys;return 0===t.state&&(f(t.value,"selenium","webdriver","driver")?"selenium":void 0)},detectErrorTrace:function(e){var t=e.errorTrace;return 0===t.state&&(/PhantomJS/i.test(t.value)?"phantomjs":void 0)},detectEvalLengthInconsistency:function(e){var t=e.evalLength;if(0===t.state){var n=t.value,r=v(),i=h();return 37===n&&!s(["webkit","gecko"],i)||39===n&&!s(["internet_explorer"],r)||33===n&&!s(["chromium"],i)}},detectFunctionBind:function(e){if(-2===e.functionBind.state)return"phantomjs"},detectLanguagesLengthInconsistency:function(e){var t=e.languages;if(0===t.state&&0===t.value.length)return"headless_chrome"},detectNotificationPermissions:function(e){var t=e.notificationPermissions;return"chrome"===v()&&(0===t.state&&t.value?"headless_chrome":void 0)},detectPluginsArray:function(e){var t=e.pluginsArray;if(0===t.state&&!t.value)return"headless_chrome"},detectPluginsLengthInconsistency:function(e){var t=e.pluginsLength;if(0===t.state){var n=h();if(!("chromium"===n&&)||"webkit"===n&&!)))return 0===t.value?"headless_chrome":void 0}},detectProcess:function(e){var t,n=e.process;return 0===n.state&&("renderer"===n.value.type||null!=(null===(t=n.value.versions)||void 0===t?void 0:t.electron)?"electron":void 0)},detectUserAgent:function(e){var t=e.userAgent;return 0===t.state&&(/PhantomJS/i.test(t.value)?"phantomjs":/Headless/i.test(t.value)?"headless_chrome":/Electron/i.test(t.value)?"electron":/slimerjs/i.test(t.value)?"slimerjs":void 0)},detectWebDriver:function(e){var t=e.webDriver;if(0===t.state&&t.value)return"headless_chrome"},detectWebGL:function(e){var t=e.webGL;if(0===t.state){var n=t.value,r=n.vendor,i=n.renderer;if("Brian Paul"==r&&"Mesa OffScreen"==i)return"headless_chrome"}},detectWindowExternal:detectWindowSize:function(e){var t=e.windowSize;if(0!==t.state)return!1;var n=t.value,r=n.outerWidth,i=n.outerHeight;return void 0!==document.hasFocus&&document.hasFocus()&&0===r&&0===i?"headless_chrome":void 0},detectMimeTypesConsistent:function(e){var t=e.mimeTypesConsistent;if(0===t.state&&!t.value)return"unknown"},detectProductSub:function(e){var t=e.productSub;if(0!==t.state)return!1;var n=v();return"chrome"!==n&&"safari"!==n&&"opera"!==n&&"wechat"!==n||"20030107"===t.value?void 0:"unknown"},detectDistinctiveProperties:;var w={userAgent:function(){return navigator.userAgent},appVersion:rtt:function(){if(void 0===navigator.connection)throw new p(-1,"navigator.connection is undefined");if(void 0===navigator.connection.rtt)throw new p(-1,"navigator.connection.rtt is undefined");return navigator.connection.rtt},windowSize:pluginsLength:pluginsArray:errorTrace:productSub:windowExternal:function(){if(void 0===window.external)throw new p(-1,"window.external is undefined");var e=window.external;if("function"!=typeof e.toString)throw new p(-2,"window.external.toString is not a function");return e.toString()},mimeTypesConsistent:evalLength:webGL:webDriver:languages:notificationPermissions:documentElementKeys:functionBind:process:distinctiveProps:,m=function(){eturn e.prototype.getComponents=function(){return this.components},e.prototype.getDetections=e.prototype.getSources=function(){return w},e.prototype.getDetectors=e.prototype.detect=function(){if(void 0===this.components)throw new Error("BotDetector.detect can't be called before BotDetector.collect");var e=this.components,t=this.getDetectors(),n={},r={bot:!1};for(var i in t){var o=(0,t[i])(e),a={bot:!1};"string"==typeof o?a={bot:!0,botKind:o}:o&&(a={bot:!0,botKind:"unknown"}),n[i]=a,a.bot&&(r=a)}return this.detections=n,r},e.prototype.collect=e}();ar b={load:y}},6489:(e,t)=>{t.Q=t.q=var n=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;342:(e,t,n)=>{const r=n(6592),i=n(7058),o=n(8420),a=n(7041),s=n(1614);unction u(){return(0,r.getGlobalTagManager)().PVOID=(0,r.getGlobalTagManager)().PVOID||(0,s.v4)()}(0,r.getGlobalLoad)().push((function(){(0,r.getGlobalTagManager)().setData({referrer:c,pageUrl:i.getPageUrl,fpamuid:(0,o.getFirstPartyId)(),pvoid:u}),(0,a.load)({monitoring:!1}).then(().catch((e=>({bot:{result:"error",type:e.message}}))).then((e=>(0,r.getGlobalTagManager)().setData({bot:e})))}))},1614:(e,t,n)=>{var r;n.r(t),n.d(t,{NIL:()=>P,parse:()=>g,stringify:()=>l,v1:()=>v,v3:()=>x,v4:()=>A,v5:()=>R,validate:()=>s,version:);var i=new Uint8Array(16);onst a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const s=for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=var f,d,p=0,h=0;const v=const g=const x=w("v3",48,O);const A=nst L=const R=w("v5",80,L),P="00000000-0000-0000-0000-000000000000";const k=},e=>{e.O(0,[99],(()=>{return t=2342,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=page-view-data.js.map
"use strict";(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[497],{},s=>{s.O(0,[99],(()=>{return _=6479,s(s.s=_);var _}));s.O()}]);
"use strict";(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[276],{},s=>{s.O(0,[99],(()=>{return _=3826,s(s.s=_);var _}));s.O()}]);
/*! For license information please see tag-manager.core.js.LICENSE.txt */
(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[99],{8249:8214:2783:2153:6905:6729:1226:e=>{o.SYNC=1,o.ASYNC=2,o.QUEUE=4;var t="fun-hooks",n=Object.freeze({ready:0}),r=new WeakMap;function o(e){var i,a={},s=[];tion d(n,a,c){var u=a.after&&r.get(a.after);if(u){if(u.type!==n)throw t+": recreated hookable with different type";return a}var d,h=c?l(c):f(),p={get:;i||s.push(g);var y=new Proxy(a,p);return r.get(y.after).install(n,y,(function(e,t){if(e.length||t.length){var r;if("sync"===n){var o,i="r=t.apply(h,"+(e.length?"arguments":"g")+")";t.length&&(o=a(t,"a","n(function extract(s){r=s},e)")),e.length&&(i=a(e,"b","n(function extract(){"+i+";"+o+"},e)"),o=""),r=["var r,e={bail:function(a){r=a}}",i,o,"return r"].join(";")}else"async"===n&&(r="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+a(t,"a","z?n(z,e):[]")+"))",e.length&&(r="n(function partial(){"+r+"},e)"),r=["var z",'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))',"var e={bail:z}",a(e,"b",r)].join(";"));d=new Function("i,b,a,n,t,h,g",r).bind(null,Function.prototype.bind,e,t,Object.assign)}else d=void 0;()})),y;return(e=Object.assign({},n,e)).ready?c.ready=i=!0,c.get=l,c}e.exports=o},8615:e=>{e.exports=["93","355","213","1684","376","244","1264","672","1268","54","374","297","61","43","994","1242","973","880","1246","375","32","501","229","1441","975","591","387","267","55","246","1284","673","359","226","257","855","237","1","238","1345","236","235","56","86","61","61","57","269","682","506","385","53","599","357","420","243","45","253","1767","1809","1829","1849","670","593","20","503","240","291","372","251","500","298","679","358","33","689","241","220","995","49","233","350","30","299","1473","1671","502","441481","224","245","592","509","504","852","36","354","91","62","98","964","353","441624","972","39","225","1876","81","441534","962","7","254","686","383","965","996","856","371","961","266","231","218","423","370","352","853","389","261","265","60","960","223","356","692","222","230","262","52","691","373","377","976","382","1664","212","258","95","264","674","977","31","599","687","64","505","227","234","683","850","1670","47","968","92","680","970","507","675","595","51","63","64","48","351","1787","1939","974","242","262","40","7","250","590","290","1869","1758","590","508","1784","685","378","239","966","221","381","248","232","65","1721","421","386","677","252","27","82","211","34","94","249","597","47","268","46","41","963","886","992","255","66","228","690","676","1868","216","90","993","1649","688","1340","256","380","971","44","1","598","998","678","379","58","84","681","212","967","260","263"]},9165:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getHook=t.hookReady=t.hook=void 0;const o=r(n(1226));t.hook=(0,o.default)({ready:o.default.SYNC|o.default.ASYNC|o.default.QUEUE}),t.hookReady=t.getHook=t.hook.get},917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleManager=void 0;const r=n(9362),o=n(6592),i=n(3005),a=n(5290),s=n(3826);t.moduleManager=function(){const e=(0,o.getGlobalTagManager)(),t=(0,r.newDataManager)(),n=(0,r.newDataManager)();function c(e){const r=t.getData([e])[e];if(!r)return(0,i.logError)(`Module installation failed. Module "${e}" is not defined`);let o=n.getData([e])[e];if(o)return(0,i.logError)(`Module installation error. Module with name "${e}" is already installed, uninstall first.`);const{install:a}=r;o=a(),n.setData({[e]:o})}function u(e){if(!t.getData([e])[e])return;let r=n.getData([e])[e];r&&(r.uninstall(),n.setData({[e]:null}))}return{defineModule:function(n){const{install:r,name:o}=n;if(t.getAllRequestedDataOrNull([o]))return(0,i.logWarn)(`Module registration error. Module with name "${o}" is already exist.`);(0,i.logInfo)(`Module "${o}" is registered.`),t.setData({[o]:{install:r,name:o}}),e.processed?c(o):s.processQueueHook.after(()},installModule:c,uninstallModule:u,uninstallAllModules:function(){(0,a.each)(n.getAllData(),()},getModuleInstance:function(e){const t=n.getAllRequestedDataOrNull([e]);return null===t?null:t[e]},retrieveModuleInstance:function(e,t){n.retrieveData([e],()}}}()},6479:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.configManager=void 0;const o=n(9435),i=n(6592),a=n(8955),s=n(8088),c=n(5290),u=r(n(6729)),l=n(8378);t.configManager=function(){const e={},t=new u.default;function n(n){(0,o.deepMerge)(e,n),(0,c.each)(n,()}return{getConfig:function(t=""){return(0,a.deepClone)((0,s.deepAccess)(e,t))},setConfig:n,clear:function(){n((0,l.map)(e,(()=>null)))},on:t.on.bind(t),off:t.off.bind(t)}}(),(0,i.setGlobalMethodIfNotExist)("setConfig",t.configManager.setConfig),(0,i.setGlobalMethodIfNotExist)("getConfig",t.configManager.getConfig)},736:function(e,t,n){"use strict";var r=this&&this.__awaiter||o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.siteDataManager=t.setDataHook=void 0;const i=n(6592),a=n(9165),s=n(9362),c=n(3005),u=n(5290),l=n(8470),f=o(n(8214)),d=o(n(2783)),h=o(n(2153)),p=o(n(8615)),y=n(8378);t.setDataHook=(0,a.hook)("async",(,"setData");const g="site-data-manager",v=new RegExp(`^(?:${p.default.join("|")})\\d{4,12}$`),_=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,m={userid:{validate:,email:{validate:e=>_.test(e),map:[{key:"emailmd5",value:f.default},{key:"emailsha1",value:d.default},{key:"emailsha256",value:h.default}]},phone:{value:e=>e.replace(/^\+|-/g,""),validate:map:[{key:"phonemd5",value:f.default},{key:"phonesha1",value:d.default},{key:"phonesha256",value:h.default}]}};t.siteDataManager=function(){const e=(0,s.newDataManager)();let n;const o=new Promise((),i={setData:p,retrieveData:h,retrieveVisitorId:function(e,t){(0,l.isFn)(e)&&(t=e,e={});h(["visitorid"],e,()},setDataHandler:function(e){n?n(e):(0,c.logError)("resolve data handler is not defined")},getData:getAllData:d,getAllRequestedDataOrNull:function(t){const n=e.getAllRequestedDataOrNull(t);return null!=n?(0,y.map)(n,((e,t)=>(0,l.isFn)(e)?e():e)):n},clear:function(){p((0,y.map)(d(),())}};nction d(){const t={};return(0,u.each)(e.getAllData(),((e,n)=>{t[n]=(0,l.isFn)(e)?e():e})),t}function h(t,n,i){if(!(0,l.isArray)(t))return(0,c.logWarn)("to retrieve data keys must be a string[], and have",t);let a;if((0,l.isFn)(n)?(i=n,a={}):a=n||{},null==i)return(0,c.logError)("callback is required");t=f(t),e.retrieveData(t,(function(e){const t=(0,y.map)(e,((e,t)=>(0,l.isFn)(e)?e():e));i(t)}),{once:!1!==a.once});if(!(!0===a.skipRequest)){const n=e.getData(t),i=t.filter(();i.length>0&&o.then((t=>{const n=d(),o=Array.from(Object.keys(n)).map(();window.fetch(`${t}${i.join(",")}&${o.join("&")}`,{credentials:"include"}).then(().then((t=>{if(t){let n;try{n=JSON.parse(t)}catch(e){}n&&e.setData(n)}}))}))}}function p(e){(0,c.logInfo)("try set data",e),(0,t.setDataHook)(e,(()=>{}))}return t.setDataHook.after((function(t,n){const r={};(0,u.each)(n,((e,t)=>{const n=a(t);let o=e;(0,l.isFn)(o)?r[n]=o:null===o?r[n]=null:(0,l.isPlainObject)(o)||(0,l.isArray)(o)?r[n]=JSON.stringify(o):(0,l.isStr)(o)||(0,l.isNumber)(o)?(o+="",m[n]?(null!=m[n].value&&(o=m[n].value(o)),null!=m[n].validate?m[n].validate(o)?(r[n]=o,(0,u.each)(m[n].map,(function(e){r[e.key]=e.value(o)+""}))):(0,c.logWarn)(`[${g}]: invalid data "${t}": ${JSON.stringify(e)}.`):r[n]=o):r[n]=o):(0,c.logWarn)(`[${g}]: invalid data "${n}": ${JSON.stringify(o)}.`)})),e.setData(r),t(r)}),0),i}(),(0,i.setGlobalMethodIfNotExist)("retrieveData",((...e)=>t.siteDataManager.retrieveData(...e))),(0,i.setGlobalMethodIfNotExist)("retrieveVisitorId",((...e)=>t.siteDataManager.retrieveVisitorId(...e))),(0,i.setGlobalMethodIfNotExist)("setData",((...e)=>t.siteDataManager.setData(...e))),(0,i.setGlobalMethodIfNotExist)("setDataHandler",((...e)=>t.siteDataManager.setDataHandler(...e)))},6808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlManager=void 0;const r=n(5290),o=n(3005),i=n(8470),a=n(1070),s=n(736),c=n(9435),u=n(9362),l=n(917),f=n(6592),d=n(2755),h=/%%(.+?)%%/gim;function p(e){const t=[];let n;for(;null!=(n=h.exec(e));)t.push({key:n[1].toLowerCase(),replaceValue:`%%${n[1]}%%`});return t}t.urlManager=function(){const e=[],t=(0,u.newDataManager)();let n,f;function h(i={}){n&&clearTimeout(n),f=Object.assign(Object.assign({},f),i),n=setTimeout((()=>{(0,r.each)(e,(e=>{const n=e.macros.map((e=>e.key)),i=n.map((),c=Object.keys((0,d.pick)(f,i)).length>0;if(e.sended&&!c)return;const u=s.siteDataManager.getAllRequestedDataOrNull(n);if(null==u)return;const l=e.conditions||[],h=l.map(();let p=!1;const y=setTimeout((()=>{p=!0,(0,o.logError)(`pixel "${e.url}" conditions loading timeout error.`)}),5e3);t.retrieveData(h,(t=>{let n=e.url;if(clearTimeout(y),p)return;l.every((e=>t[e.type].test(n,u,e)))&&((0,r.each)(e.macros,(function(e){const t=e.key.replace(/^\?/,""),r=u[t];n=n.replace(e.replaceValue,encodeURIComponent(r||""))})),(0,a.sendPixel)({url:n,type:e.type}),e.sended=!0)}))})),f={}}),16)}return{setPixel:function(t){(0,i.isArray)(t)||(t=[t]),(0,r.each)(t,(function(t){(0,o.logInfo)("parse pixel",t),(0,i.isStr)(t)&&(t={type:"beacon",url:t});const n=(0,c.deepMerge)({macros:p(t.url),skip:!1,sended:!1},t);e.push(n)})),h()},installCondition:function(e){t.setData({[e.type]:e})},uninstall:function(){let t=!1;const n=[];l.moduleManager.retrieveModuleInstance("url-change",(o=>{if(t)return;const i=(t,n)=>{t(n),(0,r.each)(e,(),h()};o.urlChangeHook.after(i),n.push((()=>o.urlChangeHook.getHooks({hook:i}).remove()))}));const o=(e,n)=>{t||(e(n),h(n))};return s.setDataHook.after(o),n.push((()=>s.setDataHook.getHooks({hook:o}).remove())),()=>{t=!0,(0,r.each)(n,()}}()}}(),(0,f.setGlobalMethodIfNotExist)("setPixel",()},6592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDebugMethodIfNotExist=t.setGlobalMethodIfNotExist=t.getGlobalLoad=t.getGlobalTagManager=void 0;const r=n(3005);unction i(e,t){const n=o();n[e]||(n[e]=t)}window.admixTM=window.admixTM||{},window.admixTMLoad=window.admixTMLoad||[],t.getGlobalTagManager=o,t.getGlobalLoad=function(){return window.admixTMLoad},t.setGlobalMethodIfNotExist=i,t.setDebugMethodIfNotExist=,3826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processQueueHook=void 0;const r=n(9165),o=n(6592),i=n(5290),a=n(8470),s=n(3005);t.processQueueHook=(0,r.hook)("sync",(function(){const e=(0,o.getGlobalLoad)(),t=(0,o.getGlobalTagManager)();function n(...e){return(0,i.each)(e,(function(e){(0,a.isFn)(e)?((0,s.logInfo)("call function",e),e()):((0,s.logInfo)("parse json",e),(0,i.each)(e,(function(e,n){const r=t[n];(0,a.isFn)(r)?r(e):(0,s.logError)(`invalid init param ${n}`)})))})),0}(0,i.each)(e,(),e.push=n})),(0,o.setGlobalMethodIfNotExist)("processQueue",(function(){const e=(0,o.getGlobalTagManager)();e.processed||(e.processed=!0,(0,r.hookReady)(),(0,t.processQueueHook)())}))},9362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newDataManager=void 0;const r=n(5290),o=n(8470),i=n(9435),a=n(8955);t.newDataManager=function(){const e={},t=[];function n(e){const t=e.startsWith("?");return{optional:t,name:t?e.substring(1):e}}function s(t){const r={};for(let i=0,a=t.length;i<a;i++){const a=n(t[i]),s=e[a.name];if((0,o.isNullable)(s)&&!a.optional)return null;r[a.name]=s}return r}return{setData:function(n){(0,r.each)(n,(function(t,n){(0,o.isPlainObject)(t)&&(0,i.deepMerge)({},e[n]||{},t),(0,o.isArray)(t),e[n]=t})),function(){for(let e=t.length-1;e>-1;e--){const n=t[e],r=s(n.keys);null!=r&&(n.once&&t.splice(e,1),n.callback(r))}}()},retrieveData:function(e,n,r){(0,o.isPlainObject)(r)||(r={});const{once:i=!0}=r,a=s(e);null!=a?n(a):t.push({keys:e,callback:n,once:i})},getAllData:getData:function(t){return t.reduce(((t,r)=>{const o=n(r);return t[o.name]=e[o.name]||null,t}),{})},getAllRequestedDataOrNull:s}}},8088:8955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepClone=void 0;const r=n(8470),o=n(5290);t.deepClone=function e(t){if((0,r.isPlainObject)(t)||(0,r.isArray)(t)){const n=new t.constructor;return(0,o.each)(t,((t,r)=>n[r]=e(t))),n}return t}},9435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepMerge=void 0;const r=n(5290),o=n(8470);t.deepMerge=function e(t,...n){return(0,r.each)(n,(function(n){(0,r.each)(n,(function(n,r){(0,o.isPlainObject)(n)?((0,o.isPlainObject)(t[r])||(t[r]={}),e(t[r],n)):t[r]=n}))})),t}},5290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.each=void 0;const r=n(8470),o=n(4135);t.each=function(e,t){if((0,r.isEmpty)(e))return;if((0,r.isFn)(e.forEach))return e.forEach(t,this);let n=0;const i=e.length;if(i>0)for(;n<i;n++)t(e[n],n,e);else for(n in e)o.hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}},5502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeValue=void 0;const r=n(8088);t.getNodeValue=function(e){return null==e?"":((0,r.deepAccess)(e,"value")||(0,r.deepAccess)(e,"textContent")||(0,r.deepAccess)(e,"innerText")||"").trim()}},4135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty},8470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNullable=t.isNonNullable=t.isEmpty=t.isBoolean=t.isPlainObject=t.isNumber=t.isArray=t.isStr=t.isFn=t.isA=void 0;const r=n(4135),o=n(5455);unction a(e){return i(e,"String")}isA=i,t.isFn=function(e){return i(e,"Function")},t.isStr=a,t.isArray=s,t.isNumber=function(e){return i(e,"Number")},t.isPlainObject=function(e){return i(e,"Object")},t.isBoolean=t.isEmpty=function(e){if(!e)return!0;if(s(e)||a(e))return!(e.length>0);for(const t in e)if(r.hasOwnProperty.call(e,t))return!1;return!0},t.isNonNullable=c,t.isNullable=,3005:(e,t)=>{"use strict";function n(e,...n){t.DEBUG_ENABLED&&e.apply(console,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.logColorModule=t.logWarn=t.logInfo=t.logError=t.DEBUG_ENABLED=void 0,t.DEBUG_ENABLED=window.location.href.includes("tagman_debug"),t.logError=n.bind(null,console.error),t.logInfo=n.bind(null,console.info),t.logWarn=n.bind(null,console.warn);t.logColorModule=,8378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;const r=n(5290);t.map=function(e,t){const n=e.constructor();return(0,r.each)(e,(),n}},9463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=void 0;const n=Element.prototype,r=n.matches||null!=n.matchesSelector||n.webkitMatchesSelector||null!=n.mozMatchesSelector||null!=n.msMatchesSelector||n.oMatchesSelector;t.matchesSelector=,2755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=void 0;const r=n(8470);t.pick=function(e,t){return"object"!=typeof e?{}:t.reduce(((n,o,i)=>{if("function"==typeof o)return n;let a=o,s=o.match(/^(.+?)\sas\s(.+?)$/i);s&&(o=s[1],a=s[2]);let c=e[o],u=t[i+1];return(0,r.isFn)(u)&&(c=u(c,n)),void 0!==c&&(n[a]=c),n}),{})}},7058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageUrl=void 0,t.getPageUrl=,7002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.querySelectorAll=t.querySelector=void 0,t.querySelector=function(e,t=document){return t.querySelector(e)},t.querySelectorAll=,1070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPixel=void 0;const r=n(3005);function o(e){const t=document.createElement("img");function n(){null!=t.parentElement&&t.parentElement.removeChild(t)}t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.left="-50px",t.style.top="-50px",t.onload=n,t.onerror=n,t.src=e,(document.body||document.head).appendChild(t)}t.sendPixel=function(e){const t=e.url;switch(e.type){case"beacon":return t)||o(t);case"image":return o(t);default:return(0,r.logError)(`sending pixel error: invalid type "${e.type}"`)}}},5455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.type=void 0;const n=Object.prototype.toString;t.type=,2480:]);
//# sourceMappingURL=tag-manager.core.js.map
"use strict";(self.__tagmanjsonp__=self.__tagmanjsonp__||[]).push([[287],{804:(s,a,e)=>{(0,e(6592).getGlobalTagManager)().processQueue()}},);
//# sourceMappingURL=process-queue-init.js.map