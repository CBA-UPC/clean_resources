/*
 * Snowplow - The world's most powerful web analytics platform
 *
 * @description JavaScript tracker for Snowplow
 * @version     2.13.0
 * @author      Alex Dean, Simon Andersson, Anthon Pang, Fred Blundun, Joshua Beemster, Michael Hadam
 * @copyright   Anthon Pang, Snowplow Analytics Ltd
 * @license     Simplified BSD
 *
 * For technical documentation:
 * https://github.com/snowplow/snowplow/wiki/javascript-tracker
 *
 * For the setup guide:
 * https://github.com/snowplow/snowplow/wiki/javascript-tracker-setup
 *
 * Minimum supported browsers:
 * - Firefox 27 
 * - Chrome 32 
 * - IE 9 
 * - Safari 8 
 */

"use strict";[{}],2:[{}],3:[{}],4:[{}],5:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"DataView");t.exports=r},{"./_getNative":68,"./_root":105}],6:[function(e,t,n){var r=e("./_hashClear"),a=e("./_hashDelete"),o=e("./_hashGet"),i=e("./_hashHas"),c=e("./_hashSet");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=c,t.exports=s},{"./_hashClear":75,"./_hashDelete":76,"./_hashGet":77,"./_hashHas":78,"./_hashSet":79}],7:[function(e,t,n){var r=e("./_listCacheClear"),a=e("./_listCacheDelete"),o=e("./_listCacheGet"),i=e("./_listCacheHas"),c=e("./_listCacheSet");function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=c,t.exports=s},{"./_listCacheClear":87,"./_listCacheDelete":88,"./_listCacheGet":89,"./_listCacheHas":90,"./_listCacheSet":91}],8:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Map");t.exports=r},{"./_getNative":68,"./_root":105}],9:[{"./_mapCacheClear":92,"./_mapCacheDelete":93,"./_mapCacheGet":94,"./_mapCacheHas":95,"./_mapCacheSet":96}],10:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Promise");t.exports=r},{"./_getNative":68,"./_root":105}],11:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Set");t.exports=r},{"./_getNative":68,"./_root":105}],12:[{"./_MapCache":9,"./_setCacheAdd":106,"./_setCacheHas":107}],13:[{"./_ListCache":7,"./_stackClear":109,"./_stackDelete":110,"./_stackGet":111,"./_stackHas":112,"./_stackSet":113}],14:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":105}],15:[{"./_root":105}],16:[{"./_getNative":68,"./_root":105}],17:[{}],18:[{}],19:[{}],20:[{"./_baseTimes":50,"./_isIndex":80,"./isArguments":128,"./isArray":129,"./isBuffer":131,"./isTypedArray":140}],21:[{}],22:[{}],23:[{}],24:[{"./eq":118}],25:[{"./_defineProperty":60}],26:[{"./_baseForOwn":31,"./_createBaseEach":57}],27:[{"./_baseEach":26}],28:[{"./_baseEach":26}],29:[{}],30:[{"./_createBaseFor":58}],31:[{"./_baseFor":30,"./keys":142}],32:[{"./_castPath":55,"./_toKey":115}],33:[{"./_arrayPush":22,"./isArray":129}],34:[{"./_Symbol":14,"./_getRawTag":70,"./_objectToString":103}],35:[{}],36:[{}],37:[{"./_baseGetTag":34,"./isObjectLike":136}],38:[{"./_baseIsEqualDeep":39,"./isObjectLike":136}],39:[{"./_Stack":13,"./_equalArrays":61,"./_equalByTag":62,"./_equalObjects":63,"./_getTag":72,"./isArray":129,"./isBuffer":131,"./isTypedArray":140}],40:[{"./_Stack":13,"./_baseIsEqual":38}],41:[{"./_isMasked":84,"./_toSource":116,"./isFunction":133,"./isObject":135}],42:[{"./_baseGetTag":34,"./isLength":134,"./isObjectLike":136}],43:[{"./_baseMatches":46,"./_baseMatchesProperty":47,"./identity":127,"./isArray":129,"./property":146}],44:[{"./_isPrototype":85,"./_nativeKeys":101}],45:[{"./_baseEach":26,"./isArrayLike":130}],46:[{"./_baseIsMatch":40,"./_getMatchData":67,"./_matchesStrictComparable":98}],47:[{"./_baseIsEqual":38,"./_isKey":82,"./_isStrictComparable":86,"./_matchesStrictComparable":98,"./_toKey":115,"./get":124,"./hasIn":126}],48:[{}],49:[{"./_baseGet":32}],50:[{}],51:[{"./_Symbol":14,"./_arrayMap":21,"./isArray":129,"./isSymbol":139}],52:[{}],53:[{}],54:[{"./identity":127}],55:[{"./_isKey":82,"./_stringToPath":114,"./isArray":129,"./toString":152}],56:[{"./_root":105}],57:[{"./isArrayLike":130}],58:[{}],59:[{"./_baseIteratee":43,"./isArrayLike":130,"./keys":142}],60:[{"./_getNative":68}],61:[{"./_SetCache":12,"./_arraySome":23,"./_cacheHas":53}],62:[{"./_Symbol":14,"./_Uint8Array":15,"./_equalArrays":61,"./_mapToArray":97,"./_setToArray":108,"./eq":118}],63:[{"./_getAllKeys":65}],64:[{}],65:[{"./_baseGetAllKeys":33,"./_getSymbols":71,"./keys":142}],66:[{"./_isKeyable":83}],67:[{"./_isStrictComparable":86,"./keys":142}],68:[{"./_baseIsNative":41,"./_getValue":73}],69:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":104}],70:[{"./_Symbol":14}],71:[{"./_arrayFilter":19,"./stubArray":147}],72:[{"./_DataView":5,"./_Map":8,"./_Promise":10,"./_Set":11,"./_WeakMap":16,"./_baseGetTag":34,"./_toSource":116}],73:[{}],74:[{"./_castPath":55,"./_isIndex":80,"./_toKey":115,"./isArguments":128,"./isArray":129,"./isLength":134}],75:[{"./_nativeCreate":100}],76:[{}],77:[{"./_nativeCreate":100}],78:[{"./_nativeCreate":100}],79:[{"./_nativeCreate":100}],80:[{}],81:[{"./_isIndex":80,"./eq":118,"./isArrayLike":130,"./isObject":135}],82:[{"./isArray":129,"./isSymbol":139}],83:[{}],84:[{"./_coreJsData":56}],85:[{}],86:[{"./isObject":135}],87:[{}],88:[{"./_assocIndexOf":24}],89:[{"./_assocIndexOf":24}],90:[{"./_assocIndexOf":24}],91:[{"./_assocIndexOf":24}],92:[{"./_Hash":6,"./_ListCache":7,"./_Map":8}],93:[{"./_getMapData":66}],94:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":66}],95:[{"./_getMapData":66}],96:[{"./_getMapData":66}],97:[{}],98:[{}],99:[{"./memoize":145}],100:[{"./_getNative":68}],101:[{"./_overArg":104}],102:[{"./_freeGlobal":64}],103:[{}],104:[{}],105:[{"./_freeGlobal":64}],106:[{}],107:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],108:[{}],109:[{"./_ListCache":7}],110:[{}],111:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],112:[{}],113:[{"./_ListCache":7,"./_Map":8,"./_MapCache":9}],114:[{"./_memoizeCapped":99}],115:[{"./isSymbol":139}],116:[{}],117:[{}],118:[{}],119:[{"./_arrayEvery":18,"./_baseEvery":27,"./_baseIteratee":43,"./_isIterateeCall":81,"./isArray":129}],120:[function(e,t,n){var r=e("./_arrayFilter"),a=e("./_baseFilter"),o=e("./_baseIteratee"),i=e("./isArray");t.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},{"./_arrayFilter":19,"./_baseFilter":28,"./_baseIteratee":43,"./isArray":129}],121:[{"./_createFind":59,"./findIndex":122}],122:[{"./_baseFindIndex":29,"./_baseIteratee":43,"./toInteger":150}],123:[{"./_arrayEach":17,"./_baseEach":26,"./_castFunction":54,"./isArray":129}],124:[{"./_baseGet":32}],125:[function(e,t,n){var r=e("./_baseHas"),a=e("./_hasPath");t.exports=function(e,t){return null!=e&&a(e,t,r)}},{"./_baseHas":35,"./_hasPath":74}],126:[{"./_baseHasIn":36,"./_hasPath":74}],127:[{}],128:[{"./_baseIsArguments":37,"./isObjectLike":136}],129:[{}],130:[{"./isFunction":133,"./isLength":134}],131:[{"./_root":105,"./stubFalse":148}],132:[{"./_baseIsEqual":38}],133:[{"./_baseGetTag":34,"./isObject":135}],134:[{}],135:[{}],136:[{}],137:[{"./_baseGetTag":34,"./_getPrototype":69,"./isObjectLike":136}],138:[{"./_baseGetTag":34,"./isArray":129,"./isObjectLike":136}],139:[{"./_baseGetTag":34,"./isObjectLike":136}],140:[{"./_baseIsTypedArray":42,"./_baseUnary":52,"./_nodeUtil":102}],141:[{}],142:[{"./_arrayLikeKeys":20,"./_baseKeys":44,"./isArrayLike":130}],143:[{"./_arrayMap":21,"./_baseIteratee":43,"./_baseMap":45,"./isArray":129}],144:[{"./_baseAssignValue":25,"./_baseForOwn":31,"./_baseIteratee":43}],145:[{"./_MapCache":9}],146:[{"./_baseProperty":48,"./_basePropertyDeep":49,"./_isKey":82,"./_toKey":115}],147:[{}],148:[{}],149:[{"./toNumber":151}],150:[{"./toFinite":149}],151:[{"./isObject":135,"./isSymbol":139}],152:[{"./_baseToString":51}],153:[{charenc:2,crypt:3}],154:[{"./lib/core":157}],155:[{}],156:[{"./base64":155,"./payload":158,"lodash/compact":117,"lodash/every":119,"lodash/get":124,"lodash/has":125,"lodash/isEqual":132,"lodash/isPlainObject":137,"lodash/map":143}],157:[{"./contexts":156,"./payload":158,uuid:160}],158:[{"./base64":155}],159:[{}],160:[{"./rng":159}],161:[{"./v1":164,"./v4":165}],162:[{}],163:[{}],164:[{"./lib/bytesToUuid":162,"./lib/rng":163}],165:[{"./lib/bytesToUuid":162,"./lib/rng":163}],166:[{"./lib/helpers":172,"lodash/isFunction":133}],167:[{"./lib/helpers":172,"lodash/filter":120,"lodash/find":121,"lodash/forEach":123}],168:[{}],169:[{"./lib/helpers":172,"lodash/isFunction":133,"lodash/isUndefined":141,"lodash/map":143}],170:[{"./snowplow":176}],171:[{"browser-cookie-lite":1,jstimezonedetect:4,"lodash/isFunction":133,"lodash/isUndefined":141}],172:[function(e,t,c){!function(){var n=e("lodash/filter"),r=e("lodash/isString"),a=e("lodash/isUndefined"),i=e("lodash/isObject"),o=e("lodash/map"),s=e("browser-cookie-lite"),u=void 0!==c?c:this;u.fixupTitle=u.getHostName=u.fixupDomain=u.getReferrer=u.addEventListener=u.fromQuerystring=u.resolveDynamicContexts=u.warn=u.getCssClasses=u.getFilter=u.getTransform=u.decorateQuerystring=u.attemptGetLocalStorage=u.attemptWriteLocalStorage=u.attemptGetSessionStorage=u.attemptWriteSessionStorage=u.findRootDomain=u.isValueInArray=u.deleteCookie=u.getCookiesWithPrefix=u.parseInt=function(e){var t=parseInt(e);return isNaN(t)?void 0:t},u.parseFloat=()},{"browser-cookie-lite":1,"lodash/filter":120,"lodash/isObject":135,"lodash/isString":138,"lodash/isUndefined":141,"lodash/map":143}],173:[{"./helpers":172}],174:[{"./lib/helpers":172,"lodash/isUndefined":141}],175:[{"./lib/detectors":171,"./lib/helpers":172,"lodash/isString":138,"lodash/map":143,"lodash/mapValues":144}],176:[{"./in_queue":169,"./lib/helpers":172,"./tracker":177,"lodash/filter":120,"lodash/forEach":123,uuid:161}],177:[function(e,t,n){!function(){var nt=e("lodash/forEach"),rt=e("lodash/map"),at=e("./lib/helpers"),ot=e("./lib/proxies"),it=e("browser-cookie-lite"),ct=e("./lib/detectors"),st=e("sha1"),ut=e("./links"),lt=e("./forms"),ft=e("./errors"),dt=e("./out_queue"),pt=e("snowplow-tracker-core").trackerCore,mt=e("./guard").productionize,vt=e("uuid");(void 0!==n?n:this).Tracker=function(e,t,n,f,r){(r=r||{}).hasOwnProperty("post")?r.eventMethod=!0===r.post?"post":"get":r.eventMethod=r.eventMethod||"post",r.hasOwnProperty("useStm")||(r.useStm=!0);var m,a,v,d,o,i,h,c,p,s,u,l,g,y,_,b,w,k,A,x,S=Object.freeze({consent:"consent",contract:"contract",legalObligation:"legal_obligation",vitalInterests:"vital_interests",publicTask:"public_task",legitimateInterests:"legitimate_interests"}),C=pt(!0,function(e){!function(e){var t,n=Math.round((new Date).getTime()/1e3),r=Oe("id"),a=Oe("ses"),o=Te("ses"),i=Ue(),c=i[0],s=i[1],u=i[2],l=i[3],f=i[4],d=i[5],p=i[6];t=!!h&&!!it.cookie(h);if((J||t)&&"none"!=ne)return"localStorage"==ne?(at.attemptWriteLocalStorage(r,""),at.attemptWriteLocalStorage(a,"")):"cookie"!=ne&&"cookieAndLocalStorage"!=ne||(it.cookie(r,"",-1,K,H),it.cookie(a,"",-1,K,H));"0"===c?(b=p,o||"none"==ne||(l++,d=f,b=vt.v4()),se=l):(new Date).getTime()-ie>1e3*Q&&(b=vt.v4(),se++);e.add("vp",ct.detectViewport()),e.add("ds",ct.detectDocumentSize()),e.add("vid",se),e.add("sid",b),e.add("duid",s),e.add("uid",w),Ae(),e.add("refr",Ce(m||F)),e.add("url",Ce(v||N)),"none"!=ne&&(Fe(s,u,se,n,d,b),Ne());ie=(new Date).getTime()}(e),e,R)}),j=!1,O={},T={},P={},I=document,E=window,D=navigator,L=ot.fixupUrl(I.domain,E.location.href,at.getReferrer()),M=at.fixupDomain(L[0]),N=L[1],F=L[2],z=r.hasOwnProperty("platform")?r.platform:"web",U=r.hasOwnProperty("postPath")?r.postPath:"/com.snowplowanalytics.snowplow/tp2",B=r.hasOwnProperty("appId")?r.appId:"",G=I.title,R=r.hasOwnProperty("pageUnloadTimer")?r.pageUnloadTimer:500,q=!r.hasOwnProperty("resetActivityTrackingOnPageView")||r.resetActivityTrackingOnPageView,V=r.hasOwnProperty("cookieName")?r.cookieName:"_sp_",H=r.hasOwnProperty("cookieDomain")?r.cookieDomain:null,K="/",W=D.doNotTrack||D.msDoNotTrack||E.doNotTrack,J=!!r.hasOwnProperty("respectDoNotTrack")&&(r.respectDoNotTrack&&("yes"===W||"1"===W)),Y=r.hasOwnProperty("cookieLifetime")?r.cookieLifetime:63072e3,Q=r.hasOwnProperty("sessionCookieTimeout")?r.sessionCookieTimeout:1800,$=I.characterSet||I.charset,X=!!r.hasOwnProperty("forceSecureTracker")&&!0===r.forceSecureTracker,Z=!(X||!r.hasOwnProperty("forceUnsecureTracker"))&&!0===r.forceUnsecureTracker,ee=!r.hasOwnProperty("useLocalStorage")||(at.warn("argmap.useLocalStorage is deprecated. Use argmap.stateStorageStrategy instead."),r.useLocalStorage),te=!r.hasOwnProperty("useCookies")||(at.warn("argmap.useCookies is deprecated. Use argmap.stateStorageStrategy instead."),r.useCookies),ne=r.hasOwnProperty("stateStorageStrategy")?r.stateStorageStrategy:te||ee?te&&ee?"cookieAndLocalStorage":te?"cookie":"localStorage":"none",re=D.userLanguage||D.language,ae=ct.detectBrowserFeatures("cookie"==ne||"cookieAndLocalStorage"==ne,Oe("testcookie")),oe=e+"_"+t,ie=(new Date).getTime(),ce=st,se=1,ue={transaction:{},items:[]},le=ut.getLinkTrackingManager(C,oe,Ge),fe=lt.getFormTrackingManager(C,oe,Ge),de=ft.errorManager(C),pe=new dt.OutQueueManager(e,t,f,"localStorage"==ne||"cookieAndLocalStorage"==ne,r.eventMethod,U,r.bufferSize,r.maxPostBytes||4e4,r.useStm,r.maxLocalStorageQueueSize||1e3),me=!1,ve=r.contexts||{},he=[],ge=[],ye=!1,_e=!1,be={enabled:!1,installed:!1,configurations:{}},we={};for(var ke in r.hasOwnProperty("discoverRootDomain")&&r.discoverRootDomain&&(H=at.findRootDomain()),ve.gaCookies&&he.push((k={},nt(["__utma","__utmb","__utmc","__utmv","__utmz","_ga"],,{schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:k})),ve.geolocation&&He(),C.setBase64Encoding(!r.hasOwnProperty("encodeBase64")||r.encodeBase64),C.setTrackerVersion(n),C.setTrackerNamespace(t),C.setAppId(B),C.setPlatform(z),C.setTimezone(ct.detectTimezone()),C.addPayloadPair("lang",re),C.addPayloadPair("cs",$),ae)Object.prototype.hasOwnProperty.call(ae,ke)&&("res"===ke||"cd"===ke||"cookie"===ke?C.addPayloadPair(ke,ae[ke]):C.addPayloadPair("f_"+ke,ae[ke]));(x=Ue())[1]?_=x[1]:(_=vt.v4(),x[1]=_),b=x[6],A||(x[3]++,b=vt.v4(),x[6]=b,x[5]=x[4]),"none"!=ne&&(Ne(),x[4]=Math.round((new Date).getTime()/1e3),x.shift(),Fe.apply(null,x)),r.crossDomainLinker&&Se(r.crossDomainLinker);var et="User Fingerprinting is no longer supported. This function will be removed in a future release.",tt=" is deprecated. Instead use the argmap argument on tracker initialisation: ";return O.getDomainSessionIndex=function(){return se},O.getPageViewId=function(){return Re()},O.newSession=O.getCookieName=O.getUserId=O.getDomainUserId=O.getDomainUserInfo=O.getUserFingerprint=O.setAppId=function(e){at.warn("setAppId"+tt+"appId"),C.setAppId(e)},O.setReferrerUrl=function(e){m=e},O.setCustomUrl=O.setDocumentTitle=O.discardHashTag=function(e){o=e},O.discardBrace=function(e){i=e},O.setCookieNamePrefix=function(e){at.warn("setCookieNamePrefix"+tt+"cookieName"),V=e},O.setCookieDomain=O.setCookiePath=O.setVisitorCookieTimeout=function(e){Y=e},O.setSessionCookieTimeout=O.setUserFingerprintSeed=function(){at.warn(et)},O.enableUserFingerprint=O.respectDoNotTrack=O.crossDomainLinker=function(e){Se(e)},O.enableLinkClickTracking=O.refreshLinkClickTracking=O.enableActivityTracking=O.enableActivityTrackingCallback=O.updatePageActivity=O.enableFormTracking=O.killFrame=O.redirectFile=O.setOptOutCookie=function(e){h=e},O.setCountPreRendered=function(e){c=e},O.setUserId=O.identifyUser=O.setUserIdFromLocation=function(e){Ae(),w=at.fromQuerystring(e,N)},O.setUserIdFromReferrer=O.setUserIdFromCookie=O.setCollectorCf=O.setCollectorUrl=O.setPlatform=function(e){at.warn("setPlatform"+tt+"platform"),C.setPlatform(e)},O.encodeBase64=O.flushBuffer=function(){pe.executeQueue()},O.enableGeolocationContext=He,O.trackPageView=O.trackStructEvent=function(e,t,n,r,a,o,i){Xe(function(){C.trackStructEvent(e,t,n,r,a,Ge(o),i)})},O.trackSelfDescribingEvent=function(e,t,n){Xe(function(){C.trackSelfDescribingEvent(e,Ge(t),n)})},O.trackUnstructEvent=O.addTrans=O.addItem=O.trackTrans=O.trackLinkClick=function(e,t,n,r,a,o,i){Xe(function(){C.trackLinkClick(e,t,n,r,a,Ge(o),i)})},O.trackAdImpression=O.trackAdClick=function(e,t,n,r,a,o,i,c,s,u,l){Xe(function(){C.trackAdClick(e,t,n,r,a,o,i,c,s,Ge(u),l)})},O.trackAdConversion=O.trackSocialInteraction=O.trackAddToCart=function(e,t,n,r,a,o,i,c){Xe(function(){C.trackAddToCart(e,t,n,r,a,o,Ge(i),c)})},O.trackRemoveFromCart=O.trackSiteSearch=O.trackTiming=O.trackConsentWithdrawn=function(e,t,n,r,a,o,i){Xe(function(){C.trackConsentWithdrawn(e,t,n,r,a,Ge(o),i)})},O.trackConsentGranted=O.trackEnhancedEcommerceAction=O.addEnhancedEcommerceActionContext=O.addEnhancedEcommerceImpressionContext=O.addEnhancedEcommerceProductContext=O.addEnhancedEcommercePromoContext=O.enableGdprContext=O.addGlobalContexts=function(e){C.addGlobalContexts(e)},O.removeGlobalContexts=O.clearGlobalContexts=O.enableErrorTracking=O.trackError=O.preservePageViewId=O.setDebug=T=mt(O),Ze(),P}}()},{"./errors":166,"./forms":167,"./guard":168,"./lib/detectors":171,"./lib/helpers":172,"./lib/proxies":173,"./links":174,"./out_queue":175,"browser-cookie-lite":1,"lodash/forEach":123,"lodash/map":143,sha1:153,"snowplow-tracker-core":154,uuid:161}]},{},[170]);