(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7864],{87864:function(e,t,r){"use strict";r.r(t),r.d(t,{default:);var n=r(809),s=r.n(n),a=r(92447),o=r(94184),c=r.n(o),i=r(45697),u=r.n(i),l=r(67294),p=r(62275),d=r.n(p),f=r(55773),_=r(53122),m=r(5773),b=function(e,t){var r=(0,l.useEffect)(()},h=r(86725),x=r.n(h),w=l.createElement,v=function(e){return w("svg",e,w("path",{d:"M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4m-4-6l-5 5-5-5m5 3.8V2.5"}))};v.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#fa0a0a",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"};var k=function(e){var t=e.className,n=e.closeNotificationModal,o=e.isNotificationModal,i=(0,l.useRef)(),u=(0,m.bN)().state,p=u.push,h=u.pwaPrompt,k=(0,m.MS)(),N=k.state.isSubscribed,g=k.dispatch,y=function(){localStorage.setItem("subscribeToPushNotification",JSON.stringify({lastDateInSec:Math.round((new Date).getTime()/1e3),wasSubscribed:!1,token:null})),n()},W=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N||"onesignal"!==p.web||window.OneSignal.push(["registerForPushNotifications"]),e.next=3,Promise.resolve().then(r.bind(r,13231));case 3:return t=e.sent,n=t.getServicePush,e.next=7,n(p.web);case 7:if(a=e.sent,o=a.servicePush,!N){e.next=14;break}return e.next=12,o.unsubscribe();case 12:e.next=16;break;case 14:return e.next=16,o.subscribe();case 16:y(),g({type:m.Ue.SWITCH_SUBSCRIBE});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.current&&(h.current.prompt(),h.current.userChoice.then(());case 1:case"end":return e.stop()}}),e)})));return ();return b(i,(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&y();case 1:case"end":return e.stop()}}),e)})))),w("div",{ref:i,className:c()(x().root,t)},w("header",{style:{zIndex:1100},className:x().header},w("img",{src:d(),className:x().alarmWrapper,alt:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),w(_.Z,{tag:"div",color:"black",size:"medium",fontWeight:"bold",textAlign:"center",textTransform:"uppercase",className:c()(x().text)},N?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f?":"\u0423\u0437\u043d\u0430\u0432\u0430\u0439 \u0432\u0430\u0436\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u043c")),w("div",{style:{zIndex:1100},className:x().content},!N&&w(_.Z,{color:"black",size:"small",textAlign:"center",className:c()(x().text,x().textWrapper)},"\u0412\u043a\u043b\u044e\u0447\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0432\u044b\u043c \u0431\u044b\u0442\u044c \u0432 \u043a\u0443\u0440\u0441\u0435 \u0432\u0441\u0435\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),w("div",{className:x().wrapper},N?w("div",{className:x().buttonWrapper},w(f.Z,{className:x().button,onClick:W},"\u0414\u0430"),w(f.Z,{className:x().button,onClick:y},"\u041d\u0435\u0442")):w(f.Z,{className:x().button,onClick:W},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),h.current&&w(f.Z,{icon:w(v,null),className:x().button,type:"bordered",onClick:S},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"))))};k.defaultProps={className:"",closeNotificationModal:u().func,isNotificationModal:u().bool};var N=k},86725:62275:]);