_unifiedTracking.initExtension("gtm",function(f,b){var c="dataLayer";var h=0;var j;var a=true;var i=false;var e={forcedLinkTrackingTimeout:250};var g={set:function(){if(arguments[0]&&arguments[0]["event"]&&arguments[0]["event"]=="data_ready"){i=true}window[c].push(arguments[0])},send:function(m,n){var l="pageview";if(m==="page"){if(!i){i=true;l="data_ready"}}else{if(m==="click"){l="click"}else{return}}if(n){j=setTimeout(function(){k(n)},e.forcedLinkTrackingTimeout);a=false;window[c].push({event:l,hitCallback:)}else{window[c].push({event:l})}}};var k=function(l){window.clearTimeout(j);l();a=true};var d=function(){f.push(arguments);h=b.helper.workQueue.call(this,"gtm",g,h);var l=a;a=true;return l};d.updatePageName=function(l){return["set",{common_pageName:b.pageName("get","{country}/{market}/{category}/{group}/{pageid}|{layer}#{attribute}",l),common_market:b.pageName("get","{market}",l),common_category:b.pageName("get","{category}",l),common_group:b.pageName("get","{group}",l),common_pageid:b.pageName("get","{pageid}",l),common_layer:b.pageName("get","{layer}",l),common_attribute:b.pageName("get","{attribute}",l),common_linkid:b.pageName("get","{linkid}",l),common_linkgroup:b.pageName("get","{linkgroup}",l)}]};d.start=function(){h=b.helper.workQueue.call(this,"gtm",g,h)};return d});_unifiedTracking.gtm.start();((_unifiedTracking.gtm);(function(ut){var isSelfOrDescendant=function(parent,el){if(parent===el){return el}while(el){if(el===parent){return el}el=el.parentNode}return false};var addEventListener=var attachEvents=function(selector,eventType,action){addEventListener(document,eventType,function(event){var possibleTargets=document.querySelectorAll(selector);var target=event.target;for(var i=possibleTargets.length;i--;){var el;if(el=isSelfOrDescendant(possibleTargets[i],target)){return action.call(el,event)}}})};var handleEvent=function(event){var definition=eval("("+this.attributes["data-ut-click"].value+")");var sendType="page";var callback=true;var that=this;if(definition.callback==false||!this.href||(this.target&&this.target=="_blank")||this.href.indexOf("javascript:")==0){callback=false}if(definition.click!==undefined){ut.pageName("set",definition.click);sendType="click"}if(definition.page!==undefined){ut.pageName("set",definition.page)}if(definition.set!==undefined){ut.gtm("set",definition.set)}if(callback){if(!ut.gtm("send",sendType,){event.preventDefault()}}else{ut.gtm("send",sendType)}};attachEvents("[data-ut-click]","click",handleEvent)})(_unifiedTracking);