import{a as dt}from"/build/_shared/chunk-4CA6IEC2.js";import{b as Zr,d as te}from"/build/_shared/chunk-ZK443BNE.js";import{A as Lt,C as Jr,K as Ho,L as le,M as q}from"/build/_shared/chunk-JSHBHP7U.js";import{a as Y,e as Kr,j as Xr}from"/build/_shared/chunk-Q35BZLRB.js";import{d as C,v as c}from"/build/_shared/chunk-KQKZX6A4.js";import{b as f,c as w,d as lt,e as Ia,f as x,g as Ot}from"/build/_shared/chunk-ZSCMMWXX.js";var _={};lt(_,{DEFAULT_CONSENT_CLASSNAMES:()=>Dt,DEFAULT_ENTITLEMENT_LAYOUT_CLASSNAMES:()=>ol,DEFAULT_ERROR_CLASSNAMES:()=>Bt,DEFAULT_FORM_CLASSNAMES:()=>I,DEFAULT_FORM_SUBMISSION_STATES:()=>Ba,DEFAULT_NEWSLETTER_LAYOUT_CLASSNAMES:()=>Ol,DEFAULT_NEWSLETTER_LIST_CLASSNAMES:()=>Z,DEFAULT_NEWSLETTER_SUCCESS_CLASSNAMES:()=>yt,DEFAULT_SPINNER_CLASSNAMES:()=>Ll,STATE_PROVINCE_SELECT_INPUT_HTML_NAME:()=>jo});var yt,Bt,Ol,Dt,Z,I,Ll,Ba,jo,ol,Bl=f(()=>{yt={CONTAINER_DIV:"eln-newsletter-success-container",PLAIN_TEXT:"eln-newsletter-success-paragraph-text",EMPHASIS_TEXT:"eln-newsletter-success-emphasis-text",THANKYOU_TITLE:"eln-newsletter-success-title",BUTTON:"eln-newsletter-success-button"},Bt={CONTAINER_DIV:"eln-error-container",PLAIN_TEXT:"eln-error-paragraph-text",ERROR_TITLE:"eln-error-title",BUTTON:"eln-error-button"},Ol={CONTAINER:"eln-newsletter-formlayout-container",SUBMIT_CONTAINER:"eln-newsletter-formlayout-submit-container",SUBMIT_BUTTON:"eln-newsletter-formlayout-submit-button"},Dt={CONTAINER:"eln-newsletter-consent-container",THIRD_PARTY_CONTAINER:"eln-third-party-consent-container",INPUT:"eln-third-party-consent-input",A:"eln-third-party-consent-a",P:"eln-third-party-consent-p",LAYOUT:"eln-third-party-consent-layout"},Z={CONTAINER:"eln-newsletter-newsletterlist-container",ITEM:"eln-newsletter-newsletterlist-item",TITLE:"eln-newsletter-newsletterlist-title",INPUT_CONTAINER:"eln-newsletter-newsletterlist-input-container",CONTENT_CONTAINER:"eln-newsletter-newsletterlist-content-container",CONTENT_A:"eln-newsletter-newsletterlist-content-a",CONTENT_P:"eln-newsletter-newsletterlist-content-p",FREQUENCY:"eln-newsletter-newsletterlist-frequency",FREQUENCY_A:"eln-newsletter-newsletterlist-frequency-a",FREQUENCY_P:"eln-newsletter-newsletterlist-frequency-p"},I={FORM:"eln-newsletter-form",ENTITLEMENTFORM:"eln-entitlement-form",CONTAINER:"eln-newsletter-form-container",SUBMIT_FRAGMENT:"eln-newsletter-form-submit-fragment",TEXT_INPUT_FRAGMENT:"eln-newsletter-form-text-input-fragment",LABEL_FRAGMENT:"eln-newsletter-form-label-fragment",TEXT_FRAGMENT:"eln-newsletter-form-text-fragment",SELECT_INPUT_FRAGMENT:"eln-newsletter-form-select-input-fragment",CHECKBOX_INPUT_FRAGMENT:"eln-newsletter-form-checkbox-input-fragment",SELECT_STATE_PROVINCE_HIDDEN:"eln-newsletter-form-select-state-province-hidden",SELECT_MULTIPLE:"eln-newsletter-form-select-multiple",VALIDATION_HEADER:"eln-form-validation-header",VALIDATION_ERRORED_FIELD:"eln-form-errored-field",VALIDATION_ERROR_NEWSLETTER:"eln-newsletter-error",ROW:"eln-newsletter-form-row",SELECT_ELEMENT:"eln-newsletter-form-select-element",SELECT_OPTION_ELEMENT:"eln-newsletter-form-select-option-element",INPUT_ELEMENT:"eln-newsletter-form-input-element",A:"eln-newsletter-form-a",P:"eln-newsletter-form-p",CHECKBOX_CONTAINER:"eln-newsletter-form-checkbox-container"},Ll={CONTAINER:"eln-ui-spinner-container",LOADING:"eln-ui-spinner-loading"},Ba=(e=>(e.ERROR="ERROR",e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.NEW="NEW",e))(Ba||{}),jo="state",ol={CONTAINER:"eln-entitlement-formlayout-container",TITLE:"eln-entitlement-formlayout-title",DESCRIPTION:"eln-entitlement-formlayout-description",SUBMIT:"eln-entitlement-formlayout-submit-container"}});var D={};lt(D,{ElementNames:()=>Ua,FilterFieldAction:()=>dl,FilterOperator:()=>Da,FormType:()=>nl});var nl,Da,dl,Ua,ct=f(()=>{nl=(a=>(a.ELOQUA="ELOQUA",a.HUBSPOT="HUBSPOT",a))(nl||{}),Da=(v=>(v.EQ="EQ",v.NEQ="NEQ",v.CONTAINS="CONTAINS",v.DOESNT_CONTAIN="DOESNT_CONTAIN",v.STR_STARTS_WITH="STR_STARTS_WITH",v.STR_ENDS_WITH="STR_ENDS_WITH",v.LT="LT",v.LTE="LTE",v.GT="GT",v.GTE="GTE",v.BETWEEN="BETWEEN",v.NOT_BETWEEN="NOT_BETWEEN",v.WITHIN_TIME_REVERSE="WITHIN_TIME_REVERSE",v.WITHIN_TIME="WITHIN_TIME",v.SET_ALL="SET_ALL",v.SET_ANY="SET_ANY",v.SET_NOT_ANY="SET_NOT_ANY",v.SET_EQ="SET_EQ",v.SET_NEQ="SET_NEQ",v.IS_NOT_EMPTY="IS_NOT_EMPTY",v))(Da||{}),dl=(t=>(t.DISPLAY="DISPLAY",t))(dl||{}),Ua=(o=>(o.STATE="state",o.COUNTRY="country",o.CONSENT="consent",o.THIRD_PARTY_CONSENT="thirdPartyConsent",o.NEWSLETTER_LIST="newsletterList",o.EMAIL_ADDRESS="emailAddress",o.BUSINESS_EMAIL="business_email",o))(Ua||{})});var pe=f(()=>{});var qo,Ma,ge=f(()=>{qo=l=>{let t=document.cookie.split("; ").map(a=>a.split(/=(.*)/s).map(decodeURIComponent));return Object.fromEntries(t)[l]||null},Ma=()=>{let l=qo("utm_parameters");return l?l.split(",").map(t=>t.split(":")).map(([t,a])=>({key:t,value:a})):[]}});var Ha=w((Ox,ye)=>{"use strict";ye.exports=function(t,a){return function(){for(var e=new Array(arguments.length),m=0;m<e.length;m++)e[m]=arguments[m];return t.apply(a,e)}}});var O=w((Lx,he)=>{"use strict";var zo=Ha(),ja=Object.prototype.toString,qa=function(l){return function(t){var a=ja.call(t);return l[a]||(l[a]=a.slice(8,-1).toLowerCase())}}(Object.create(null));function bt(l){return l=l.toLowerCase(),function(a){return qa(a)===l}}function za(l){return Array.isArray(l)}function Ul(l){return typeof l>"u"}function Go(l){return l!==null&&!Ul(l)&&l.constructor!==null&&!Ul(l.constructor)&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}var ce=bt("ArrayBuffer");function Wo(l){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(l):t=l&&l.buffer&&ce(l.buffer),t}function Yo(l){return typeof l=="string"}function Qo(l){return typeof l=="number"}function be(l){return l!==null&&typeof l=="object"}function Dl(l){if(qa(l)!=="object")return!1;var t=Object.getPrototypeOf(l);return t===null||t===Object.prototype}var $o=bt("Date"),Ko=bt("File"),Xo=bt("Blob"),Jo=bt("FileList");function Ga(l){return ja.call(l)==="[object Function]"}function Zo(l){return be(l)&&Ga(l.pipe)}function tn(l){var t="[object FormData]";return l&&(typeof FormData=="function"&&l instanceof FormData||ja.call(l)===t||Ga(l.toString)&&l.toString()===t)}var ln=bt("URLSearchParams");function an(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function rn(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Wa(l,t){if(!(l===null||typeof l>"u"))if(typeof l!="object"&&(l=[l]),za(l))for(var a=0,r=l.length;a<r;a++)t.call(null,l[a],a,l);else for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&t.call(null,l[e],e,l)}function Va(){var l={};function t(e,m){Dl(l[m])&&Dl(e)?l[m]=Va(l[m],e):Dl(e)?l[m]=Va({},e):za(e)?l[m]=e.slice():l[m]=e}for(var a=0,r=arguments.length;a<r;a++)Wa(arguments[a],t);return l}function en(l,t,a){return Wa(t,function(e,m){a&&typeof e=="function"?l[m]=zo(e,a):l[m]=e}),l}function mn(l){return l.charCodeAt(0)===65279&&(l=l.slice(1)),l}function sn(l,t,a,r){l.prototype=Object.create(t.prototype,r),l.prototype.constructor=l,a&&Object.assign(l.prototype,a)}function on(l,t,a){var r,e,m,s={};t=t||{};do{for(r=Object.getOwnPropertyNames(l),e=r.length;e-- >0;)m=r[e],s[m]||(t[m]=l[m],s[m]=!0);l=Object.getPrototypeOf(l)}while(l&&(!a||a(l,t))&&l!==Object.prototype);return t}function nn(l,t,a){l=String(l),(a===void 0||a>l.length)&&(a=l.length),a-=t.length;var r=l.indexOf(t,a);return r!==-1&&r===a}function dn(l){if(!l)return null;var t=l.length;if(Ul(t))return null;for(var a=new Array(t);t-- >0;)a[t]=l[t];return a}var xn=function(l){return function(t){return l&&t instanceof l}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));he.exports={isArray:za,isArrayBuffer:ce,isBuffer:Go,isFormData:tn,isArrayBufferView:Wo,isString:Yo,isNumber:Qo,isObject:be,isPlainObject:Dl,isUndefined:Ul,isDate:$o,isFile:Ko,isBlob:Xo,isFunction:Ga,isStream:Zo,isURLSearchParams:ln,isStandardBrowserEnv:rn,forEach:Wa,merge:Va,extend:en,trim:an,stripBOM:mn,inherits:sn,toFlatObject:on,kindOf:qa,kindOfTest:bt,endsWith:nn,toArray:dn,isTypedArray:xn,isFileList:Jo}});var Ya=w((Bx,ue)=>{"use strict";var Ut=O();function fe(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}ue.exports=function(t,a,r){if(!a)return t;var e;if(r)e=r(a);else if(Ut.isURLSearchParams(a))e=a.toString();else{var m=[];Ut.forEach(a,function(d,p){d===null||typeof d>"u"||(Ut.isArray(d)?p=p+"[]":d=[d],Ut.forEach(d,function(i){Ut.isDate(i)?i=i.toISOString():Ut.isObject(i)&&(i=JSON.stringify(i)),m.push(fe(p)+"="+fe(i))}))}),e=m.join("&")}if(e){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+e}return t}});var ke=w((Dx,ve)=>{"use strict";var pn=O();function Ml(){this.handlers=[]}Ml.prototype.use=function(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Ml.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ml.prototype.forEach=function(t){pn.forEach(this.handlers,function(r){r!==null&&t(r)})};ve.exports=Ml});var Te=w((Ux,we)=>{"use strict";var gn=O();we.exports=function(t,a){gn.forEach(t,function(e,m){m!==a&&m.toUpperCase()===a.toUpperCase()&&(t[a]=e,delete t[m])})}});var ht=w((Mx,Ne)=>{"use strict";var Ee=O();function Mt(l,t,a,r,e){Error.call(this),this.message=l,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),e&&(this.response=e)}Ee.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ce=Mt.prototype,Se={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(l){Se[l]={value:l}});Object.defineProperties(Mt,Se);Object.defineProperty(Ce,"isAxiosError",{value:!0});Mt.from=function(l,t,a,r,e,m){var s=Object.create(Ce);return Ee.toFlatObject(l,s,function(d){return d!==Error.prototype}),Mt.call(s,l.message,t,a,r,e),s.name=l.name,m&&Object.assign(s,m),s};Ne.exports=Mt});var Qa=w((Hx,Ae)=>{"use strict";Ae.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var $a=w((Vx,Fe)=>{"use strict";var K=O();function yn(l,t){t=t||new FormData;var a=[];function r(m){return m===null?"":K.isDate(m)?m.toISOString():K.isArrayBuffer(m)||K.isTypedArray(m)?typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function e(m,s){if(K.isPlainObject(m)||K.isArray(m)){if(a.indexOf(m)!==-1)throw Error("Circular reference detected in "+s);a.push(m),K.forEach(m,function(d,p){if(!K.isUndefined(d)){var n=s?s+"."+p:p,i;if(d&&!s&&typeof d=="object"){if(K.endsWith(p,"{}"))d=JSON.stringify(d);else if(K.endsWith(p,"[]")&&(i=K.toArray(d))){i.forEach(function(g){!K.isUndefined(g)&&t.append(n,r(g))});return}}e(d,n)}}),a.pop()}else t.append(s,r(m))}return e(l),t}Fe.exports=yn});var Pe=w((jx,_e)=>{"use strict";var Ka=ht();_e.exports=function(t,a,r){var e=r.config.validateStatus;!r.status||!e||e(r.status)?t(r):a(new Ka("Request failed with status code "+r.status,[Ka.ERR_BAD_REQUEST,Ka.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var Re=w((qx,Ie)=>{"use strict";var Hl=O();Ie.exports=Hl.isStandardBrowserEnv()?function(){return{write:function(a,r,e,m,s,o){var d=[];d.push(a+"="+encodeURIComponent(r)),Hl.isNumber(e)&&d.push("expires="+new Date(e).toGMTString()),Hl.isString(m)&&d.push("path="+m),Hl.isString(s)&&d.push("domain="+s),o===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(a){var r=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Le=w((zx,Oe)=>{"use strict";Oe.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}});var De=w((Gx,Be)=>{"use strict";Be.exports=function(t,a){return a?t.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):t}});var Xa=w((Wx,Ue)=>{"use strict";var cn=Le(),bn=De();Ue.exports=function(t,a){return t&&!cn(a)?bn(t,a):a}});var He=w((Yx,Me)=>{"use strict";var Ja=O(),hn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Me.exports=function(t){var a={},r,e,m;return t&&Ja.forEach(t.split(`
`),function(o){if(m=o.indexOf(":"),r=Ja.trim(o.substr(0,m)).toLowerCase(),e=Ja.trim(o.substr(m+1)),r){if(a[r]&&hn.indexOf(r)>=0)return;r==="set-cookie"?a[r]=(a[r]?a[r]:[]).concat([e]):a[r]=a[r]?a[r]+", "+e:e}}),a}});var qe=w((Qx,je)=>{"use strict";var Ve=O();je.exports=Ve.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),r;function e(m){var s=m;return t&&(a.setAttribute("href",s),s=a.href),a.setAttribute("href",s),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return r=e(window.location.href),function(s){var o=Ve.isString(s)?e(s):s;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}()});var il=w(($x,Ge)=>{"use strict";var Za=ht(),fn=O();function ze(l){Za.call(this,l??"canceled",Za.ERR_CANCELED),this.name="CanceledError"}fn.inherits(ze,Za,{__CANCEL__:!0});Ge.exports=ze});var Ye=w((Kx,We)=>{"use strict";We.exports=function(t){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}});var tr=w((Xx,Qe)=>{"use strict";var xl=O(),un=Pe(),vn=Re(),kn=Ya(),wn=Xa(),Tn=He(),En=qe(),Cn=Qa(),at=ht(),Sn=il(),Nn=Ye();Qe.exports=function(t){return new Promise(function(r,e){var m=t.data,s=t.headers,o=t.responseType,d;function p(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}xl.isFormData(m)&&xl.isStandardBrowserEnv()&&delete s["Content-Type"];var n=new XMLHttpRequest;if(t.auth){var i=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(i+":"+g)}var b=wn(t.baseURL,t.url);n.open(t.method.toUpperCase(),kn(b,t.params,t.paramsSerializer),!0),n.timeout=t.timeout;function h(){if(!!n){var k="getAllResponseHeaders"in n?Tn(n.getAllResponseHeaders()):null,u=!o||o==="text"||o==="json"?n.responseText:n.response,A={data:u,status:n.status,statusText:n.statusText,headers:k,config:t,request:n};un(function(W){r(W),p()},function(W){e(W),p()},A),n=null}}if("onloadend"in n?n.onloadend=h:n.onreadystatechange=function(){!n||n.readyState!==4||n.status===0&&!(n.responseURL&&n.responseURL.indexOf("file:")===0)||setTimeout(h)},n.onabort=function(){!n||(e(new at("Request aborted",at.ECONNABORTED,t,n)),n=null)},n.onerror=function(){e(new at("Network Error",at.ERR_NETWORK,t,n,n)),n=null},n.ontimeout=function(){var u=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",A=t.transitional||Cn;t.timeoutErrorMessage&&(u=t.timeoutErrorMessage),e(new at(u,A.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,t,n)),n=null},xl.isStandardBrowserEnv()){var N=(t.withCredentials||En(b))&&t.xsrfCookieName?vn.read(t.xsrfCookieName):void 0;N&&(s[t.xsrfHeaderName]=N)}"setRequestHeader"in n&&xl.forEach(s,function(u,A){typeof m>"u"&&A.toLowerCase()==="content-type"?delete s[A]:n.setRequestHeader(A,u)}),xl.isUndefined(t.withCredentials)||(n.withCredentials=!!t.withCredentials),o&&o!=="json"&&(n.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&n.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&n.upload&&n.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(k){!n||(e(!k||k&&k.type?new Sn:k),n.abort(),n=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),m||(m=null);var E=Nn(b);if(E&&["http","https","file"].indexOf(E)===-1){e(new at("Unsupported protocol "+E+":",at.ERR_BAD_REQUEST,t));return}n.send(m)})}});var Ke=w((Jx,$e)=>{$e.exports=null});var jl=w((Zx,tm)=>{"use strict";var L=O(),Xe=Te(),Je=ht(),An=Qa(),Fn=$a(),_n={"Content-Type":"application/x-www-form-urlencoded"};function Ze(l,t){!L.isUndefined(l)&&L.isUndefined(l["Content-Type"])&&(l["Content-Type"]=t)}function Pn(){var l;return typeof XMLHttpRequest<"u"?l=tr():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(l=tr()),l}function In(l,t,a){if(L.isString(l))try{return(t||JSON.parse)(l),L.trim(l)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(l)}var Vl={transitional:An,adapter:Pn(),transformRequest:[function(t,a){if(Xe(a,"Accept"),Xe(a,"Content-Type"),L.isFormData(t)||L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return Ze(a,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=L.isObject(t),e=a&&a["Content-Type"],m;if((m=L.isFileList(t))||r&&e==="multipart/form-data"){var s=this.env&&this.env.FormData;return Fn(m?{"files[]":t}:t,s&&new s)}else if(r||e==="application/json")return Ze(a,"application/json"),In(t);return t}],transformResponse:[function(t){var a=this.transitional||Vl.transitional,r=a&&a.silentJSONParsing,e=a&&a.forcedJSONParsing,m=!r&&this.responseType==="json";if(m||e&&L.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(m)throw s.name==="SyntaxError"?Je.from(s,Je.ERR_BAD_RESPONSE,this,null,this.response):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(t){Vl.headers[t]={}});L.forEach(["post","put","patch"],function(t){Vl.headers[t]=L.merge(_n)});tm.exports=Vl});var am=w((tp,lm)=>{"use strict";var Rn=O(),On=jl();lm.exports=function(t,a,r){var e=this||On;return Rn.forEach(r,function(s){t=s.call(e,t,a)}),t}});var lr=w((lp,rm)=>{"use strict";rm.exports=function(t){return!!(t&&t.__CANCEL__)}});var sm=w((ap,mm)=>{"use strict";var em=O(),ar=am(),Ln=lr(),Bn=jl(),Dn=il();function rr(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new Dn}mm.exports=function(t){rr(t),t.headers=t.headers||{},t.data=ar.call(t,t.data,t.headers,t.transformRequest),t.headers=em.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),em.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var a=t.adapter||Bn.adapter;return a(t).then(function(e){return rr(t),e.data=ar.call(t,e.data,e.headers,t.transformResponse),e},function(e){return Ln(e)||(rr(t),e&&e.response&&(e.response.data=ar.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}});var er=w((rp,om)=>{"use strict";var z=O();om.exports=function(t,a){a=a||{};var r={};function e(n,i){return z.isPlainObject(n)&&z.isPlainObject(i)?z.merge(n,i):z.isPlainObject(i)?z.merge({},i):z.isArray(i)?i.slice():i}function m(n){if(z.isUndefined(a[n])){if(!z.isUndefined(t[n]))return e(void 0,t[n])}else return e(t[n],a[n])}function s(n){if(!z.isUndefined(a[n]))return e(void 0,a[n])}function o(n){if(z.isUndefined(a[n])){if(!z.isUndefined(t[n]))return e(void 0,t[n])}else return e(void 0,a[n])}function d(n){if(n in a)return e(t[n],a[n]);if(n in t)return e(void 0,t[n])}var p={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d};return z.forEach(Object.keys(t).concat(Object.keys(a)),function(i){var g=p[i]||m,b=g(i);z.isUndefined(b)&&g!==d||(r[i]=b)}),r}});var mr=w((ep,nm)=>{nm.exports={version:"0.27.2"}});var xm=w((mp,im)=>{"use strict";var Un=mr().version,it=ht(),sr={};["object","boolean","number","function","string","symbol"].forEach(function(l,t){sr[l]=function(r){return typeof r===l||"a"+(t<1?"n ":" ")+l}});var dm={};sr.transitional=function(t,a,r){function e(m,s){return"[Axios v"+Un+"] Transitional option '"+m+"'"+s+(r?". "+r:"")}return function(m,s,o){if(t===!1)throw new it(e(s," has been removed"+(a?" in "+a:"")),it.ERR_DEPRECATED);return a&&!dm[s]&&(dm[s]=!0,console.warn(e(s," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(m,s,o):!0}};function Mn(l,t,a){if(typeof l!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(l),e=r.length;e-- >0;){var m=r[e],s=t[m];if(s){var o=l[m],d=o===void 0||s(o,m,l);if(d!==!0)throw new it("option "+m+" must be "+d,it.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new it("Unknown option "+m,it.ERR_BAD_OPTION)}}im.exports={assertOptions:Mn,validators:sr}});var hm=w((sp,bm)=>{"use strict";var ym=O(),Hn=Ya(),pm=ke(),gm=sm(),ql=er(),Vn=Xa(),cm=xm(),Ht=cm.validators;function Vt(l){this.defaults=l,this.interceptors={request:new pm,response:new pm}}Vt.prototype.request=function(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=ql(this.defaults,a),a.method?a.method=a.method.toLowerCase():this.defaults.method?a.method=this.defaults.method.toLowerCase():a.method="get";var r=a.transitional;r!==void 0&&cm.assertOptions(r,{silentJSONParsing:Ht.transitional(Ht.boolean),forcedJSONParsing:Ht.transitional(Ht.boolean),clarifyTimeoutError:Ht.transitional(Ht.boolean)},!1);var e=[],m=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(a)===!1||(m=m&&b.synchronous,e.unshift(b.fulfilled,b.rejected))});var s=[];this.interceptors.response.forEach(function(b){s.push(b.fulfilled,b.rejected)});var o;if(!m){var d=[gm,void 0];for(Array.prototype.unshift.apply(d,e),d=d.concat(s),o=Promise.resolve(a);d.length;)o=o.then(d.shift(),d.shift());return o}for(var p=a;e.length;){var n=e.shift(),i=e.shift();try{p=n(p)}catch(g){i(g);break}}try{o=gm(p)}catch(g){return Promise.reject(g)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Vt.prototype.getUri=function(t){t=ql(this.defaults,t);var a=Vn(t.baseURL,t.url);return Hn(a,t.params,t.paramsSerializer)};ym.forEach(["delete","get","head","options"],function(t){Vt.prototype[t]=function(a,r){return this.request(ql(r||{},{method:t,url:a,data:(r||{}).data}))}});ym.forEach(["post","put","patch"],function(t){function a(r){return function(m,s,o){return this.request(ql(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:m,data:s}))}}Vt.prototype[t]=a(),Vt.prototype[t+"Form"]=a(!0)});bm.exports=Vt});var um=w((op,fm)=>{"use strict";var jn=il();function jt(l){if(typeof l!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var a=this;this.promise.then(function(r){if(!!a._listeners){var e,m=a._listeners.length;for(e=0;e<m;e++)a._listeners[e](r);a._listeners=null}}),this.promise.then=function(r){var e,m=new Promise(function(s){a.subscribe(s),e=s}).then(r);return m.cancel=function(){a.unsubscribe(e)},m},l(function(e){a.reason||(a.reason=new jn(e),t(a.reason))})}jt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};jt.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};jt.prototype.unsubscribe=function(t){if(!!this._listeners){var a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}};jt.source=function(){var t,a=new jt(function(e){t=e});return{token:a,cancel:t}};fm.exports=jt});var km=w((np,vm)=>{"use strict";vm.exports=function(t){return function(r){return t.apply(null,r)}}});var Tm=w((dp,wm)=>{"use strict";var qn=O();wm.exports=function(t){return qn.isObject(t)&&t.isAxiosError===!0}});var Sm=w((ip,or)=>{"use strict";var Em=O(),zn=Ha(),zl=hm(),Gn=er(),Wn=jl();function Cm(l){var t=new zl(l),a=zn(zl.prototype.request,t);return Em.extend(a,zl.prototype,t),Em.extend(a,t),a.create=function(e){return Cm(Gn(l,e))},a}var H=Cm(Wn);H.Axios=zl;H.CanceledError=il();H.CancelToken=um();H.isCancel=lr();H.VERSION=mr().version;H.toFormData=$a();H.AxiosError=ht();H.Cancel=H.CanceledError;H.all=function(t){return Promise.all(t)};H.spread=km();H.isAxiosError=Tm();or.exports=H;or.exports.default=H});var Am=w((xp,Nm)=>{Nm.exports=Sm()});var Fm,Gl,nr=f(()=>{Fm="@informaplc/gs-ps-eln-fe",Gl="0.4.23"});var _m,qt,Pm=f(()=>{_m=x(Am());nr();qt=()=>_m.default.create({headers:{"x-eln-fe-version":Gl}})});var ft=f(()=>{Bl();ct();pe();ge();Pm()});var dr,Wl,ir=f(()=>{dr=class{constructor(){this.validateFormField=(t,a)=>{let r=a.validations,e=[];return r?.forEach(m=>{switch(m.type){case"IsRequiredCondition":return this.isEmpty(t)?e.push(this.errorMessage(m,a)):null;case"PreventUrlCondition":return this.isUrl(t)?e.push(this.errorMessage(m,a)):null;case"PreventXSSCondition":return this.isXss(t)?e.push(this.errorMessage(m,a)):null;case"TextLengthCondition":return this.isInvalidLength(t,m.minimum,m.maximum)?e.push(this.errorMessage(m,a,[{name:"minimum",value:m.minimum},{name:"maximum",value:m.maximum}])):null;case"IsEmailAddressCondition":return!this.isEmpty(t)&&this.isInvalidEmail(t)?e.push(this.errorMessage(m,a)):null;default:return null}}),e};this.errorMessage=(t,a,r)=>({code:t.type,message:t.message,params:r||[],formElement:a});this.isEmpty=t=>t==="";this.isInvalidEmail=t=>{let a=/(^[A-Z0-9!#$%&'*+\-/=?^_`{|}~][A-Z0-9!#$%&'*+\-/=?^_`{|}~.]{0,62}@(([A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?)(\.[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?)+)$)/i;return!t.match(a)};this.isUrl=t=>{let a=/(telnet|ftp|https|http?):\/\/(?:[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\.|[a-z0-9]\.)+[a-z]{2,63}/i;return!!t.match(a)};this.isXss=t=>{let a=/(<([^>]+)>)/i;return!!t.match(a)};this.isInvalidLength=(t,a,r)=>{let e=a?+a:0,m=r?+r:0;return e>m||e===0&&m===0?!0:t.length<e||t.length>m}}},Wl=dr});var ss=w((pl,zt)=>{var Yn=200,Vm="__lodash_hash_undefined__",Qn=800,$n=16,jm=9007199254740991,qm="[object Arguments]",Kn="[object Array]",Xn="[object AsyncFunction]",Jn="[object Boolean]",Zn="[object Date]",td="[object Error]",zm="[object Function]",ld="[object GeneratorFunction]",ad="[object Map]",rd="[object Number]",ed="[object Null]",Gm="[object Object]",md="[object Proxy]",sd="[object RegExp]",od="[object Set]",nd="[object String]",dd="[object Undefined]",id="[object WeakMap]",xd="[object ArrayBuffer]",pd="[object DataView]",gd="[object Float32Array]",yd="[object Float64Array]",cd="[object Int8Array]",bd="[object Int16Array]",hd="[object Int32Array]",fd="[object Uint8Array]",ud="[object Uint8ClampedArray]",vd="[object Uint16Array]",kd="[object Uint32Array]",wd=/[\\^$.*+?()[\]{}|]/g,Td=/^\[object .+?Constructor\]$/,Ed=/^(?:0|[1-9]\d*)$/,F={};F[gd]=F[yd]=F[cd]=F[bd]=F[hd]=F[fd]=F[ud]=F[vd]=F[kd]=!0;F[qm]=F[Kn]=F[xd]=F[Jn]=F[pd]=F[Zn]=F[td]=F[zm]=F[ad]=F[rd]=F[Gm]=F[sd]=F[od]=F[nd]=F[id]=!1;var Wm=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Cd=typeof self=="object"&&self&&self.Object===Object&&self,cl=Wm||Cd||Function("return this")(),Ym=typeof pl=="object"&&pl&&!pl.nodeType&&pl,gl=Ym&&typeof zt=="object"&&zt&&!zt.nodeType&&zt,Qm=gl&&gl.exports===Ym,xr=Qm&&Wm.process,Im=function(){try{var l=gl&&gl.require&&gl.require("util").types;return l||xr&&xr.binding&&xr.binding("util")}catch{}}(),Rm=Im&&Im.isTypedArray;function Sd(l,t,a){switch(a.length){case 0:return l.call(t);case 1:return l.call(t,a[0]);case 2:return l.call(t,a[0],a[1]);case 3:return l.call(t,a[0],a[1],a[2])}return l.apply(t,a)}function Nd(l,t){for(var a=-1,r=Array(l);++a<l;)r[a]=t(a);return r}function Ad(l){return function(t){return l(t)}}function Fd(l,t){return l?.[t]}function _d(l,t){return function(a){return l(t(a))}}var Pd=Array.prototype,Id=Function.prototype,$l=Object.prototype,pr=cl["__core-js_shared__"],Kl=Id.toString,rt=$l.hasOwnProperty,Om=function(){var l=/[^.]+$/.exec(pr&&pr.keys&&pr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),$m=$l.toString,Rd=Kl.call(Object),Od=RegExp("^"+Kl.call(rt).replace(wd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yl=Qm?cl.Buffer:void 0,Lm=cl.Symbol,Bm=cl.Uint8Array,Dm=Yl?Yl.allocUnsafe:void 0,Km=_d(Object.getPrototypeOf,Object),Um=Object.create,Ld=$l.propertyIsEnumerable,Bd=Pd.splice,ut=Lm?Lm.toStringTag:void 0,Ql=function(){try{var l=fr(Object,"defineProperty");return l({},"",{}),l}catch{}}(),Dd=Yl?Yl.isBuffer:void 0,Mm=Math.max,Ud=Date.now,Xm=fr(cl,"Map"),yl=fr(Object,"create"),Md=function(){function l(){}return function(t){if(!kt(t))return{};if(Um)return Um(t);l.prototype=t;var a=new l;return l.prototype=void 0,a}}();function vt(l){var t=-1,a=l==null?0:l.length;for(this.clear();++t<a;){var r=l[t];this.set(r[0],r[1])}}function Hd(){this.__data__=yl?yl(null):{},this.size=0}function Vd(l){var t=this.has(l)&&delete this.__data__[l];return this.size-=t?1:0,t}function jd(l){var t=this.__data__;if(yl){var a=t[l];return a===Vm?void 0:a}return rt.call(t,l)?t[l]:void 0}function qd(l){var t=this.__data__;return yl?t[l]!==void 0:rt.call(t,l)}function zd(l,t){var a=this.__data__;return this.size+=this.has(l)?0:1,a[l]=yl&&t===void 0?Vm:t,this}vt.prototype.clear=Hd;vt.prototype.delete=Vd;vt.prototype.get=jd;vt.prototype.has=qd;vt.prototype.set=zd;function et(l){var t=-1,a=l==null?0:l.length;for(this.clear();++t<a;){var r=l[t];this.set(r[0],r[1])}}function Gd(){this.__data__=[],this.size=0}function Wd(l){var t=this.__data__,a=Xl(t,l);if(a<0)return!1;var r=t.length-1;return a==r?t.pop():Bd.call(t,a,1),--this.size,!0}function Yd(l){var t=this.__data__,a=Xl(t,l);return a<0?void 0:t[a][1]}function Qd(l){return Xl(this.__data__,l)>-1}function $d(l,t){var a=this.__data__,r=Xl(a,l);return r<0?(++this.size,a.push([l,t])):a[r][1]=t,this}et.prototype.clear=Gd;et.prototype.delete=Wd;et.prototype.get=Yd;et.prototype.has=Qd;et.prototype.set=$d;function Gt(l){var t=-1,a=l==null?0:l.length;for(this.clear();++t<a;){var r=l[t];this.set(r[0],r[1])}}function Kd(){this.size=0,this.__data__={hash:new vt,map:new(Xm||et),string:new vt}}function Xd(l){var t=Zl(this,l).delete(l);return this.size-=t?1:0,t}function Jd(l){return Zl(this,l).get(l)}function Zd(l){return Zl(this,l).has(l)}function ti(l,t){var a=Zl(this,l),r=a.size;return a.set(l,t),this.size+=a.size==r?0:1,this}Gt.prototype.clear=Kd;Gt.prototype.delete=Xd;Gt.prototype.get=Jd;Gt.prototype.has=Zd;Gt.prototype.set=ti;function Wt(l){var t=this.__data__=new et(l);this.size=t.size}function li(){this.__data__=new et,this.size=0}function ai(l){var t=this.__data__,a=t.delete(l);return this.size=t.size,a}function ri(l){return this.__data__.get(l)}function ei(l){return this.__data__.has(l)}function mi(l,t){var a=this.__data__;if(a instanceof et){var r=a.__data__;if(!Xm||r.length<Yn-1)return r.push([l,t]),this.size=++a.size,this;a=this.__data__=new Gt(r)}return a.set(l,t),this.size=a.size,this}Wt.prototype.clear=li;Wt.prototype.delete=ai;Wt.prototype.get=ri;Wt.prototype.has=ei;Wt.prototype.set=mi;function si(l,t){var a=br(l),r=!a&&cr(l),e=!a&&!r&&ls(l),m=!a&&!r&&!e&&rs(l),s=a||r||e||m,o=s?Nd(l.length,String):[],d=o.length;for(var p in l)(t||rt.call(l,p))&&!(s&&(p=="length"||e&&(p=="offset"||p=="parent")||m&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||Zm(p,d)))&&o.push(p);return o}function gr(l,t,a){(a!==void 0&&!ta(l[t],a)||a===void 0&&!(t in l))&&hr(l,t,a)}function oi(l,t,a){var r=l[t];(!(rt.call(l,t)&&ta(r,a))||a===void 0&&!(t in l))&&hr(l,t,a)}function Xl(l,t){for(var a=l.length;a--;)if(ta(l[a][0],t))return a;return-1}function hr(l,t,a){t=="__proto__"&&Ql?Ql(l,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):l[t]=a}var ni=ki();function Jl(l){return l==null?l===void 0?dd:ed:ut&&ut in Object(l)?wi(l):Ai(l)}function Hm(l){return bl(l)&&Jl(l)==qm}function di(l){if(!kt(l)||Si(l))return!1;var t=vr(l)?Od:Td;return t.test(Ii(l))}function ii(l){return bl(l)&&as(l.length)&&!!F[Jl(l)]}function xi(l){if(!kt(l))return Ni(l);var t=ts(l),a=[];for(var r in l)r=="constructor"&&(t||!rt.call(l,r))||a.push(r);return a}function Jm(l,t,a,r,e){l!==t&&ni(t,function(m,s){if(e||(e=new Wt),kt(m))pi(l,t,s,a,Jm,r,e);else{var o=r?r(yr(l,s),m,s+"",l,t,e):void 0;o===void 0&&(o=m),gr(l,s,o)}},es)}function pi(l,t,a,r,e,m,s){var o=yr(l,a),d=yr(t,a),p=s.get(d);if(p){gr(l,a,p);return}var n=m?m(o,d,a+"",l,t,s):void 0,i=n===void 0;if(i){var g=br(d),b=!g&&ls(d),h=!g&&!b&&rs(d);n=d,g||b||h?br(o)?n=o:Ri(o)?n=fi(o):b?(i=!1,n=ci(d,!0)):h?(i=!1,n=hi(d,!0)):n=[]:Oi(d)||cr(d)?(n=o,cr(o)?n=Li(o):(!kt(o)||vr(o))&&(n=Ti(d))):i=!1}i&&(s.set(d,n),e(n,d,r,m,s),s.delete(d)),gr(l,a,n)}function gi(l,t){return _i(Fi(l,t,ms),l+"")}var yi=Ql?function(l,t){return Ql(l,"toString",{configurable:!0,enumerable:!1,value:Di(t),writable:!0})}:ms;function ci(l,t){if(t)return l.slice();var a=l.length,r=Dm?Dm(a):new l.constructor(a);return l.copy(r),r}function bi(l){var t=new l.constructor(l.byteLength);return new Bm(t).set(new Bm(l)),t}function hi(l,t){var a=t?bi(l.buffer):l.buffer;return new l.constructor(a,l.byteOffset,l.length)}function fi(l,t){var a=-1,r=l.length;for(t||(t=Array(r));++a<r;)t[a]=l[a];return t}function ui(l,t,a,r){var e=!a;a||(a={});for(var m=-1,s=t.length;++m<s;){var o=t[m],d=r?r(a[o],l[o],o,a,l):void 0;d===void 0&&(d=l[o]),e?hr(a,o,d):oi(a,o,d)}return a}function vi(l){return gi(function(t,a){var r=-1,e=a.length,m=e>1?a[e-1]:void 0,s=e>2?a[2]:void 0;for(m=l.length>3&&typeof m=="function"?(e--,m):void 0,s&&Ei(a[0],a[1],s)&&(m=e<3?void 0:m,e=1),t=Object(t);++r<e;){var o=a[r];o&&l(t,o,r,m)}return t})}function ki(l){return function(t,a,r){for(var e=-1,m=Object(t),s=r(t),o=s.length;o--;){var d=s[l?o:++e];if(a(m[d],d,m)===!1)break}return t}}function Zl(l,t){var a=l.__data__;return Ci(t)?a[typeof t=="string"?"string":"hash"]:a.map}function fr(l,t){var a=Fd(l,t);return di(a)?a:void 0}function wi(l){var t=rt.call(l,ut),a=l[ut];try{l[ut]=void 0;var r=!0}catch{}var e=$m.call(l);return r&&(t?l[ut]=a:delete l[ut]),e}function Ti(l){return typeof l.constructor=="function"&&!ts(l)?Md(Km(l)):{}}function Zm(l,t){var a=typeof l;return t=t??jm,!!t&&(a=="number"||a!="symbol"&&Ed.test(l))&&l>-1&&l%1==0&&l<t}function Ei(l,t,a){if(!kt(a))return!1;var r=typeof t;return(r=="number"?ur(a)&&Zm(t,a.length):r=="string"&&t in a)?ta(a[t],l):!1}function Ci(l){var t=typeof l;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?l!=="__proto__":l===null}function Si(l){return!!Om&&Om in l}function ts(l){var t=l&&l.constructor,a=typeof t=="function"&&t.prototype||$l;return l===a}function Ni(l){var t=[];if(l!=null)for(var a in Object(l))t.push(a);return t}function Ai(l){return $m.call(l)}function Fi(l,t,a){return t=Mm(t===void 0?l.length-1:t,0),function(){for(var r=arguments,e=-1,m=Mm(r.length-t,0),s=Array(m);++e<m;)s[e]=r[t+e];e=-1;for(var o=Array(t+1);++e<t;)o[e]=r[e];return o[t]=a(s),Sd(l,this,o)}}function yr(l,t){if(!(t==="constructor"&&typeof l[t]=="function")&&t!="__proto__")return l[t]}var _i=Pi(yi);function Pi(l){var t=0,a=0;return function(){var r=Ud(),e=$n-(r-a);if(a=r,e>0){if(++t>=Qn)return arguments[0]}else t=0;return l.apply(void 0,arguments)}}function Ii(l){if(l!=null){try{return Kl.call(l)}catch{}try{return l+""}catch{}}return""}function ta(l,t){return l===t||l!==l&&t!==t}var cr=Hm(function(){return arguments}())?Hm:function(l){return bl(l)&&rt.call(l,"callee")&&!Ld.call(l,"callee")},br=Array.isArray;function ur(l){return l!=null&&as(l.length)&&!vr(l)}function Ri(l){return bl(l)&&ur(l)}var ls=Dd||Ui;function vr(l){if(!kt(l))return!1;var t=Jl(l);return t==zm||t==ld||t==Xn||t==md}function as(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=jm}function kt(l){var t=typeof l;return l!=null&&(t=="object"||t=="function")}function bl(l){return l!=null&&typeof l=="object"}function Oi(l){if(!bl(l)||Jl(l)!=Gm)return!1;var t=Km(l);if(t===null)return!0;var a=rt.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Kl.call(a)==Rd}var rs=Rm?Ad(Rm):ii;function Li(l){return ui(l,es(l))}function es(l){return ur(l)?si(l,!0):xi(l)}var Bi=vi(function(l,t,a){Jm(l,t,a)});function Di(l){return function(){return l}}function ms(l){return l}function Ui(){return!1}zt.exports=Bi});var os,ns,hl,T,B=f(()=>{os=x(C()),ns=x(ss());Bl();hl=(l,t)=>(0,ns.default)({base:{h1:"",p:"",span:"",a:"",button:"",form:"",label:"",input:"",checkbox:"",radio:"",select:"",option:""},formLayout:{container:t==="newsletter"?Ol.CONTAINER:ol.CONTAINER,formContainer:I.CONTAINER,formContainerRow:"row",form:I.FORM,submitContainer:Ol.SUBMIT_CONTAINER,submit:"",title:t==="entitlement"?ol.TITLE:"",description:t==="entitlement"?ol.DESCRIPTION:"",checkbox:I.CHECKBOX_INPUT_FRAGMENT,select:I.SELECT_INPUT_FRAGMENT,selectLabelSpan:"",selectState:I.SELECT_STATE_PROVINCE_HIDDEN,selectMultiple:I.SELECT_MULTIPLE,label:I.LABEL_FRAGMENT,input:I.SELECT_INPUT_FRAGMENT,textInput:I.TEXT_INPUT_FRAGMENT,textInputLabelSpan:"",validationErroredField:I.VALIDATION_ERRORED_FIELD,validationHeader:I.VALIDATION_HEADER,a:I.A,p:I.P,selectElement:I.SELECT_ELEMENT,selectOptionElement:I.SELECT_OPTION_ELEMENT,inputElement:I.INPUT_ELEMENT,checkboxContainer:I.CHECKBOX_CONTAINER},consentLayout:{container:Dt.CONTAINER,thirdPartyContainer:Dt.THIRD_PARTY_CONTAINER,a:Dt.A,p:Dt.P,input:"",label:""},errorLayout:{container:Bt.CONTAINER_DIV,title:Bt.ERROR_TITLE,plainText:Bt.PLAIN_TEXT,button:Bt.BUTTON},newsletterLayout:{container:Z.CONTAINER,item:Z.ITEM,inputContainer:Z.INPUT_CONTAINER,input:"",consentContainer:Z.CONTENT_CONTAINER,itemTitle:Z.TITLE,itemFrequency:Z.FREQUENCY,itemFrequencyA:Z.FREQUENCY_A,itemFrequencyP:Z.FREQUENCY_P,validationError:I.VALIDATION_ERROR_NEWSLETTER,success:{container:yt.CONTAINER_DIV,thankYouTitle:yt.THANKYOU_TITLE,plainText:yt.PLAIN_TEXT,emphasisText:yt.EMPHASIS_TEXT,button:yt.BUTTON}},spinnerLayout:{container:Ll.CONTAINER,loading:Ll.LOADING}},l),T=(0,os.createContext)(hl(void 0,"newsletter"))});var ds,kr,la,Mi,xt,fl=f(()=>{ds=x(C()),kr=x(q());B();la=x(c()),Mi=({element:l})=>{let{base:t,formLayout:a}=(0,ds.useContext)(T),r=l.elementType==="select"?a.selectLabelSpan:a.textInputLabelSpan;return(0,la.jsxs)("label",{className:(0,kr.default)(t.label,a.label),htmlFor:l.fieldName,children:[l.label,l.isRequired&&(0,la.jsx)("span",{className:(0,kr.default)(t.span,r),children:"*"})]})},xt=Mi});var is,xs,wt,Hi,ps,gs=f(()=>{is=x(C()),xs=x(q());B();fl();wt=x(c()),Hi=({element:l,handleChange:t})=>{let{base:a,formLayout:r}=(0,is.useContext)(T);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(xt,{element:l}),(0,wt.jsx)("input",{className:(0,xs.default)(a.input,r.input),name:l.fieldName,type:l.inputType,required:l.isRequired,onInput:t,value:l.value},l.fieldName)]})},ps=Hi});var aa,Yt,$,Vi,ys,cs=f(()=>{aa=x(C());B();fl();Yt=x(q()),$=x(c()),Vi=({element:l,handleChange:t})=>{let{base:a,formLayout:r}=(0,aa.useContext)(T),e=l.inputType==="multiple",m=(s,o)=>{if(o===0){if(!s.value)return(0,$.jsx)("option",{className:(0,Yt.default)(a.option,r.selectOptionElement),value:"",children:s.displayName},o);if(s.value!=="")return(0,$.jsxs)(aa.default.Fragment,{children:[!e&&(0,$.jsx)("option",{className:(0,Yt.default)(a.option,r.selectOptionElement),value:"",children:"Please select"}),(0,$.jsx)("option",{className:(0,Yt.default)(a.option,r.selectOptionElement),value:s.value,children:s.displayName})]},o)}return(0,$.jsx)("option",{className:(0,Yt.default)(a.option,r.selectOptionElement),value:s.value,children:s.displayName},o)};return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(xt,{element:l}),(0,$.jsx)("select",{className:(0,Yt.default)(a.select,r.selectElement,e&&r.selectMultiple),name:l.fieldName,required:l.isRequired,onInput:t,multiple:e,children:l.optionList?.map(m)})]})},ys=Vi});var bs,hs,mt,ji,fs,us=f(()=>{bs=x(C());B();fl();hs=x(q()),mt=x(c()),ji=({element:l,handleChange:t})=>{let{base:a,formLayout:r}=(0,bs.useContext)(T),e=()=>l.optionList?.map(o=>{let d=l.fieldName+"-"+o.displayName;return m({name:d,label:o.displayName,value:o.value},t)}),m=(s,o)=>(0,mt.jsxs)("div",{className:r.checkboxContainer,children:[(0,mt.jsx)("input",{className:(0,hs.default)(a.input,a.checkbox),type:"checkbox",onInput:o,...s}),(0,mt.jsx)("label",{className:a.label,htmlFor:s.name,children:s.label},s.name)]});return l.inputType==="checkbox"&&l?.optionList?.length>0?(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(xt,{element:l}),e()]}):m({name:l.fieldName,label:l.label,value:l.value,required:l.isRequired},t)},fs=ji});var ws={};lt(ws,{Input:()=>ks,default:()=>wr});var vs,ra,tt,ks,qi,wr,Tr=f(()=>{vs=x(C()),ra=x(q());gs();cs();B();us();fl();tt=x(c()),ks=({element:l,handleChange:t})=>l.elementType==="button"||l.isHidden?null:l.elementType==="checkbox"?(0,tt.jsx)(fs,{element:l,handleChange:t}):l.elementType!=="text"&&l.elementType!=="select"?(0,tt.jsx)(ps,{element:l,handleChange:t}):l.elementType==="select"?(0,tt.jsx)(ys,{element:l,handleChange:t}):(0,tt.jsx)(xt,{element:l}),qi=({element:l,handleChange:t,showErrorMessages:a,showAllViolations:r})=>{let{base:e,formLayout:m}=(0,vs.useContext)(T);if(l.elementType==="button")return null;let s=p=>(0,tt.jsx)("p",{className:(0,ra.default)(e.p,m.p),children:p.message},p.message),o=a&&(r||l.touched)&&Boolean(l?.errors?.length),d=(0,ra.default)(m.formContainerRow||"row",{[m.validationErroredField]:o});return(0,tt.jsx)("div",{className:d,children:(0,tt.jsxs)("div",{className:(0,ra.default)(l.classNames),children:[(0,tt.jsx)(ks,{element:l,handleChange:t}),o&&l?.errors?.map(s)]})})},wr=qi});var ul,Cs,zi,Ss,Gi,Ts,Ns,Wi,As,Yi,Er,Qi,Es,ea,$i,Ki,Fs,Cr=f(()=>{ul=l=>typeof l!="object"?[l]:l,Cs=(l,t)=>Er(l,t),zi=(l,t)=>!Cs(l,t),Ss=(l,t)=>l.indexOf(t)>-1,Gi=(l,t)=>!Ss(l,t),Ts=(l,t)=>l<t,Ns=(l,t,a)=>t<l&&l<a,Wi=(l,t,a)=>!Ns(l,t,a),As=(l,t)=>ul(l)?.some(a=>ul(t).indexOf(a)>=0),Yi=(l,t)=>!As(l,t),Er=(l,t)=>JSON.stringify([...ul(l)].sort())===JSON.stringify([...ul(t)].sort()),Qi=(l,t)=>!Er(l,t),Es={EQ:Cs,NEQ:zi,CONTAINS:Ss,DOESNT_CONTAIN:Gi,STR_STARTS_WITH:(l,t)=>l.substring(0,t.length)===t,STR_ENDS_WITH:(l,t)=>l.slice(-t.length)===t,LT:Ts,LTE:(l,t)=>l<=t,GT:(l,t)=>l>t,GTE:(l,t)=>l>=t,BETWEEN:Ns,NOT_BETWEEN:Wi,WITHIN_TIME_REVERSE:Ts,WITHIN_TIME:(l,t)=>t<l&&l<=new Date,SET_ALL:(l,t)=>ul(l)?.every(a=>t.indexOf(a)>=0),SET_ANY:As,SET_NOT_ANY:Yi,SET_EQ:Er,SET_NEQ:Qi,IS_NOT_EMPTY:l=>l.length!==void 0?!!l.length:!!l},ea=(l,t)=>{let a=!0;return t?.forEach(r=>{let e=typeof Es[r.operator]=="function"?Es[r.operator]:()=>!1;a=a&&(e(l,r.strValue)||e(l,r.strValues)||e(l,r.numberValue)||e(l,r.numberValue))}),a},$i=["SQ_PPC-A01","SQ_PPC-A02","SQ_PPC-A03","SQ_PPC-A04","SQ_PPC-A05","SQ_PPC-A06","SQ_PPC-A07","SQ_PPC-A08","SQ_PPC-A09","SQ_PPC-A10","SQ_PPC-A11","SQ_PPC-A12","SQ_PPC-A13","SQ_PPC-A14","SQ_PPC-A15","SQ_PPC-A16"],Ki=["PC_LIC-02","PC_LIC-08","PC_LIC-10","PC_LIC-11","PC_LIC-12","PC_LIC-13","PC_LIC-15","PC_LIC-16","PC_LIC-17","PC_LIC-18","PC_LIC-19","PC_LIC-21","PC_LIC-22","PC_LIC-25","PC_LIC-27","PC_LIC-28","PC_LIC-30","PC_LIC-31","PC_LIC-32","PC_LIC-33","PC_LIC-34"],Fs=(l,t)=>{if(!l||!t)return;let a=t.optionList;l.fieldName==="industry"&&(t.fieldName==="PPC_PropertyCategory"||t.fieldName==="PC_ProductCategory")&&(l.value==="NOB_LCNSOR"||l.value==="NOB_CSLCSNG"?(a=a.filter(r=>$i.includes(r.value)),t.optionList=a):(a=a.filter(r=>Ki.includes(r.value)),t.optionList=a))}});var _s,Sr,ma,sa,Nr=f(()=>{_s=x(C());ft();ir();Tr();ct();B();Cr();Sr=x(c()),ma=class extends _s.Component{constructor(a,r){super(a);this.handleChange=a=>{a.preventDefault();let{currentTarget:r}=a,e="",m=this.state.elements,s=m.get(r.name);if(!s)throw new Error(`FormBuilder: Element with name ${r.name} not found`);s.elementType==="select"&&s.inputType==="multiple"?e=Array.from(r?.selectedOptions,p=>p.value).join(";"):e=r.value,s.elementType==="checkbox"&&(e=""+r?.checked),s.errors=this.validationService.validateFormField(e,s),s.value=e,s.touched=!0,m.set(r.name,s);let o=s?.dependentElements||[];debugger;for(let{element:p}of o){let n=this.createDefaultElementFromDependField(p);m.set(p.fieldName,n)}let d=o.filter(({filters:p})=>p.some(({strValues:n})=>n.includes(e)));for(let{formFieldAction:p,element:n,filters:i}of d){let g=this.createDefaultElementFromDependField(n);p==="DISPLAY"&&(g.classNames=this.findClassNames(n,this.context),g.isHidden=!ea(e,i),g.isRequired=this.isElementRequired(n),g.validations=n.validations,Fs(s,g)),m.set(n.fieldName,g)}this.setState(p=>({...p,elements:m}),()=>{this.triggerFullFormValidation()})};this.validationService=new Wl,this.state={elements:this.prepareElementsForState(this.props.elements,r)}}componentDidMount(){this.triggerFullFormValidation()}prepareElementsForState(a,r){return a.reduce((e,m)=>{let s=e.set(m.fieldName,{...m,isRequired:this.isElementRequired(m),classNames:this.findClassNames(m,r),isHidden:this.isElementHidden(m)});if(m.dependentElements?.length)for(let{element:o}of m.dependentElements)e.set(o.fieldName,{...o,isRequired:!1,classNames:this.findClassNames(m,r),isHidden:!0,validations:[]});return s},new Map)}isElementRequired(a){return a.validations?.some(({type:r})=>r==="IsRequiredCondition")}isElementHidden(a){return a.fieldName===_.STATE_PROVINCE_SELECT_INPUT_HTML_NAME}findClassNames(a,{formLayout:r}){switch(a.elementType){case"checkbox":return[r.checkbox];case"select":return[r.select];default:return[r.textInput]}}createDefaultElementFromDependField(a){return{...a,classNames:this.findClassNames(a,this.context),isHidden:!0,isRequired:!1,value:"",validations:[]}}triggerFullFormValidation(){let{elements:a}=this.state;for(let[e,m]of a.entries()){let s=this.validationService.validateFormField(m.value||"",m);s.length>0&&a.set(e,{...m,errors:s})}let r=Array.from(a.values()).map(e=>({htmlName:e.fieldName,value:e.value||"",touched:!!e.touched,violations:e.errors?.map(m=>`${e.label}: ${m.message}`)||[]}));this.setState(e=>({...e,elements:a}),()=>{this.props.onChange(r,Array.from(a.values()))})}render(){let{elements:a}=this.state,{formLayout:r}=this.context;return(0,Sr.jsx)("div",{className:r.formContainer,children:Array.from(a).map(([e,m],s)=>m.inputType!=="hidden"&&(0,Sr.jsx)(wr,{showAllViolations:this.props.showAllViolations,element:m,handleChange:this.handleChange,showErrorMessages:Boolean(this.props.showErrorMessages)},e||String(s)))})}};ma.contextType=T;sa=ma});var Ps,vl,Tt,oa,Is,Rs=f(()=>{Ps=x(C()),vl=x(q());B();Tt=x(c()),oa=class extends Ps.Component{render(){let{base:a,newsletterLayout:{success:r}}=this.context;return(0,Tt.jsxs)("div",{className:r.container,children:[(0,Tt.jsx)("h1",{className:(0,vl.default)(a.h1,r.thankYouTitle),children:"Thank you for subscribing."}),(0,Tt.jsxs)("p",{className:(0,vl.default)(a.p,r.plainText),children:["Confirmation will be sent to your email",this.props.email&&(0,Tt.jsxs)("span",{className:(0,vl.default)(a.span,r.emphasisText),children:["\xA0",this.props.email]}),"."]}),(0,Tt.jsx)("button",{onClick:()=>this.props.returnFunction(),className:(0,vl.default)(a.button,r.button),children:"return to site"})]})}};oa.contextType=T;Is=oa});var Os,kl,V,na,Ls,Bs=f(()=>{Os=x(C());B();kl=x(q()),V=x(c()),na=class extends Os.Component{render(){let{newsletters:a=[],showInvalidErrorMessage:r=!1}=this.props,{base:e,newsletterLayout:m}=this.context;return(0,V.jsxs)("div",{className:m.container,children:[a.sort((s,o)=>s.order-o.order).map((s,o)=>(0,V.jsxs)("div",{className:m.item,children:[(0,V.jsx)("div",{className:m.inputContainer,children:(0,V.jsx)("input",{className:(0,kl.default)(e.input,e.checkbox,m.input),type:"checkbox",value:s.newsletter_code,name:"newsletterList",onInput:this.props.changeHandler})}),(0,V.jsxs)("div",{className:m.consentContainer,children:[(0,V.jsxs)("p",{className:e.p,children:[(0,V.jsx)("span",{className:(0,kl.default)(e.span,m.itemTitle),children:s.title}),s.newsletter_description]}),(0,V.jsxs)("div",{className:m.itemFrequency,children:[(0,V.jsx)("p",{className:(0,kl.default)(e.p,m.itemFrequencyP),children:s.frequency_description}),(0,V.jsx)("a",{className:(0,kl.default)(e.a,m.itemFrequencyA),href:s.sample_url.href,target:"_blank",rel:"noreferrer",children:s.sample_url.title})]})]})]},o)),r&&(0,V.jsx)("div",{className:m.validationError,children:(0,V.jsx)("p",{className:e.p,children:"Please ensure at least one newsletter is selected and no errors are displayed"})})]})}};na.contextType=T;Ls=na});var Us={};lt(Us,{CountryCategory:()=>Et,default:()=>X});var Ds,Qt,Et,Ar,X,Ct=f(()=>{Ds=x(q()),Qt=x(c()),Et=(e=>(e.categoryA="A",e.categoryB="B",e.categoryC="C",e.categoryD="D",e))(Et||{}),Ar=class{constructor(){this.countryCodesCategoryA=["AT","BE","CY","CZ","DK","DE","GR","IT","LT","MT","NL","NO","PL","PT","RO","SK","CH","ES","CA","KR","BG"];this.countryCodesCategoryB=["HR","FR","IE","SI","JP"];this.countryCodesCategoryC=["EE","FI","HU","IL","LV","LU","UA","SE","GB","BR","MX","ZA"];this.getCategoryByCountryCode=t=>{if(t){if(this.countryCodesCategoryA.includes(t))return"A";if(this.countryCodesCategoryB.includes(t))return"B";if(this.countryCodesCategoryC.includes(t))return"C"}return"D"};this.getOptOutMessage=({base:t,consentLayout:a},r)=>(0,Qt.jsxs)(Qt.Fragment,{children:["You can opt out of receiving these messages ",r==="D"?"":"from Informa"," at any time by clicking unsubscribe or contacting us. You can find more information in our\xA0",(0,Qt.jsx)("a",{className:(0,Ds.default)(t.a,a.a),href:"https://www.informa.com/privacy-policy/",target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),"."]});this.getFirstConsentValue=(t,a)=>{if(!t)return!1;switch(this.getCategoryByCountryCode(t)){case"B":case"C":return a!=="CR_OPTOUT";default:return a==="CR_OPTIN"}};this.getThirdConsentValue=(t,a)=>{if(!t)return!1;switch(this.getCategoryByCountryCode(t)){case"C":return a!=="CR_OPTOUT";default:return a==="CR_OPTIN"}}}getValueByElement(t){switch(t.type){case"checkbox":return t.checked?t.value:"";case"radio":return t.value}return""}},X=Ar});var Ms,M,R,da,ia,Fr=f(()=>{Ms=x(C());Ct();B();M=x(q()),R=x(c()),da=class extends Ms.Component{constructor(a){super(a);this.consentHelper=new X}render(){if(this.props&&this.props.countryCode){let{base:a,consentLayout:r}=this.context,e=this.consentHelper.getCategoryByCountryCode(this.props.countryCode),m=this.consentHelper.getOptOutMessage(this.context,e);return e==="A"?(0,R.jsxs)("div",{className:r.container,children:[(0,R.jsx)("p",{className:(0,M.default)(a.p,r.p),children:"We\u2019d like to keep in touch to send your news and promotions from Informa about products and services relevant to you. These may include information from our selected partners however, we will not share your details unless you agree to us doing so directly."}),(0,R.jsxs)("label",{className:(0,M.default)(a.label,r.label),children:[(0,R.jsx)("input",{className:(0,M.default)(a.input,a.radio),type:"radio",value:"CR_OPTIN",name:"consent",required:!0,onInput:this.props.changeHandler}),"Yes"]}),(0,R.jsxs)("label",{className:(0,M.default)(a.label,r.label),children:[(0,R.jsx)("input",{className:(0,M.default)(a.input,a.radio),type:"radio",value:"CR_OPTOUT",name:"consent",onInput:this.props.changeHandler}),"No"]}),(0,R.jsx)("p",{className:(0,M.default)(a.p,r.p),children:m})]}):e==="B"||e==="C"?(0,R.jsxs)("div",{className:r.container,children:[(0,R.jsxs)("label",{className:(0,M.default)(a.label,r.label),children:[(0,R.jsx)("input",{className:(0,M.default)(a.input,a.checkbox,r.input),type:"checkbox",value:"CR_OPTOUT",name:"consent",onInput:this.props.changeHandler}),(0,R.jsxs)("p",{className:(0,M.default)(a.p,r.p),children:["Tick here if you ",(0,R.jsx)("b",{children:"do not want"})," news and promotions from Informa about products and services relevant to you. These may include information from our selected partners however, we will not share your details unless you agree to us doing so directly."]})]}),m]}):(0,R.jsxs)("div",{className:r.container,children:[(0,R.jsx)("p",{className:(0,M.default)(a.p,r.p),children:"By continuing you agree that Informa may contact you with updates about products and services relevant to you. These may include information from our selected partners."}),(0,R.jsx)("p",{className:(0,M.default)(a.p,r.p),children:m}),(0,R.jsxs)("label",{className:(0,M.default)(a.label,r.label),children:[(0,R.jsx)("input",{className:(0,M.default)(a.input,a.checkbox,r.input),type:"checkbox",value:"CR_OPTIN",name:"consent","data-testid":"checkbox-consent",required:!0,onInput:this.props.changeHandler}),"I agree to the"," ",(0,R.jsx)("a",{className:(0,M.default)(a.a,r.a),href:"https://www.informa.com/privacy-policy/",target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]})]})}else return null}};da.contextType=T;ia=da});var Hs,_r,xa,$t,Vs=f(()=>{Hs=x(C());B();_r=x(c()),xa=class extends Hs.Component{render(){let{spinnerLayout:a}=this.context;return(0,_r.jsx)("div",{className:a.container,children:(0,_r.jsx)("div",{className:a.loading})})}};xa.contextType=T;$t=xa});var js={};lt(js,{Spinner:()=>$t});var pa=f(()=>{Vs()});var qs,ga,Kt,ya,ca,Pr=f(()=>{qs=x(C()),ga=x(q());B();Kt=x(c()),ya=class extends qs.Component{render(){let{base:a,errorLayout:r}=this.context;return(0,Kt.jsxs)("div",{className:r.container,children:[(0,Kt.jsx)("h1",{className:(0,ga.default)(a.h1,r.title),children:this.props.title}),(0,Kt.jsx)("p",{className:(0,ga.default)(a.p,r.plainText),children:this.props.message}),(0,Kt.jsx)("button",{className:(0,ga.default)(a.button,r.button),onClick:()=>this.props.returnFunction(),children:"return to site"})]})}};ya.contextType=T;ca=ya});var Xi,pt,wl=f(()=>{Xi=(l,...t)=>{console.log("component message: ",l,t)},pt=Xi});var zs,Xt,Ji,ba,Ir=f(()=>{zs=x(C());B();Xt=x(c()),Ji=({validationErrors:l=[],otherErrors:t=[]})=>{let{base:a,formLayout:r}=(0,zs.useContext)(T),e=[...l,...t];return e.length?(0,Xt.jsx)("div",{className:r.validationHeader,"data-testid":"validation-error-box",children:e.map((m,s)=>(0,Xt.jsx)("p",{className:a.p,children:m},s))}):(0,Xt.jsx)(Xt.Fragment,{})},ba=Ji});var Gs,Rr,G,ha,Ws,Ys=f(()=>{Gs=x(C());ft();Nr();Rs();Bs();Fr();pa();Pr();Ct();wl();Ir();B();Rr=x(q()),G=x(c()),ha=class extends Gs.Component{constructor(a){super(a);this.checkConsent=()=>{if(!this.state.values.countryCode||this.props.hideFirstPartyConsent||this.props.hideThirdPartyConsent)return!0;switch(this.consentHelper.getCategoryByCountryCode(this.state.values.countryCode)){case"A":return this.state.firstPartyConsentTouched;case"D":return this.state.firstPartyConsentTouched&&this.state.firstPartyConsentOption==="CR_OPTIN";default:return!0}};this.handleSubmit=async a=>{if(a.preventDefault(),this.setState(i=>({...i,showAllViolations:!0})),!this.checkConsent())return;let e=this.consentHelper.getFirstConsentValue(this.state.values.countryCode,this.state.firstPartyConsentOption),{newsletterList:m,formFields:s}=this.state.values,o=m.length>0,d=s.some(({violations:i})=>i.length);if(!o||d)return;let p={isSuccessful:!1,message:"Submitting data...",status:_.DEFAULT_FORM_SUBMISSION_STATES.PENDING};this.props.subscriptionStateHandler(p);let n=this.props.iirisUserProfile?.business_email||this.state.values.emailAddress;try{(await this.props.platformApiService.putNewslettersSubscription({emailAddress:n,formFields:s,newsletterList:m,firstPartyConsent:e,formId:this.props.formId},this.props.iirisUserProfile,this.state.elements)).status===200&&(p.isSuccessful=!0,p.message="SUCCESS",p.status=_.DEFAULT_FORM_SUBMISSION_STATES.SUCCESS,this.props.subscriptionStateHandler(p))}catch(i){pt(i),p.isSuccessful=!1,p.message="A problem has occurred with processing your request, please wait a few minutes and try again.",p.status=_.DEFAULT_FORM_SUBMISSION_STATES.ERROR,this.props.subscriptionStateHandler(p)}};this.validateNewsLetterList=a=>{let r=a?.length>0;return this.setState(e=>({...e,inValidNewsletter:!r})),r};this.handleChange=a=>{let r=a.currentTarget;r.name===D.ElementNames.CONSENT?this.handleConsentChange(r):r.name===D.ElementNames.NEWSLETTER_LIST&&this.handleNewsletterListChange(r)};this.handleNewsletterListChange=a=>{let{newsletterList:r}=this.state.values,e=a.checked?[...r,a.value]:r.filter(m=>m!==a.value);this.setState(m=>({...m,values:{...m.values,newsletterList:e}})),this.validateNewsLetterList(e)};this.handleConsentChange=a=>{let r=this.consentHelper.getValueByElement(a);this.setState(e=>({...e,firstPartyConsentOption:r,firstPartyConsentTouched:!0,values:{...e.values}}))};this.getSubmitLabelFromElements=a=>{let r=a.find(e=>e.elementType==="button");return r?r.label:"Submit"};this.getErrors=()=>{let{values:a,showAllViolations:r}=this.state,e=a.newsletterList.length===0&&r,m=a.formFields.filter(d=>d.touched||r).flatMap(({violations:d})=>d),s=[];return e&&s.push("Please ensure at least one newsletter is selected and no errors are displayed"),!this.checkConsent()&&r&&s.push("Please choose consent agreement"),{errors:m,otherErrors:s}};this.state={elements:this.props.elements,firstPartyConsentOption:"",firstPartyConsentTouched:!1,values:{formId:null,countryCode:"",emailAddress:this.props.iirisUserProfile?.business_email||"",firstPartyConsent:!1,newsletterList:[],formFields:[]},showAllViolations:!1},this.consentHelper=new X,this.handleSubmit=this.handleSubmit.bind(this),this.onFormChange=this.onFormChange.bind(this)}onFormChange(a,r){let e=a.find(d=>d.htmlName===D.ElementNames.COUNTRY)?.value||"",m=this.state.values.formFields?.find(d=>d.htmlName===D.ElementNames.STATE)?.value||"",s=a.find(d=>d.htmlName===D.ElementNames.STATE)?.value||"";m!==s&&this.props.onCountryStateChanged(s);let o=a.find(d=>d.htmlName===D.ElementNames.EMAIL_ADDRESS||d.htmlName===D.ElementNames.BUSINESS_EMAIL)?.value||"";this.setState(d=>({...d,elements:r,values:{...d.values,emailAddress:o,countryCode:e,formFields:a}}))}render(){let{newsletters:a,elements:r,subscriptionState:e,returnFunction:m,inContextValidationMessage:s}=this.props,{values:o,showAllViolations:d}=this.state,p=o.newsletterList.length===0&&d,{errors:n,otherErrors:i}=this.getErrors(),g=r?this.getSubmitLabelFromElements(r):"Subscribe",b=e&&e.status,h="A problem has occurred";if(b===_.DEFAULT_FORM_SUBMISSION_STATES.ERROR)return(0,G.jsx)(ca,{title:h,message:e.message,returnFunction:this.props.returnFunction});if(b===_.DEFAULT_FORM_SUBMISSION_STATES.PENDING)return(0,G.jsx)($t,{});if(b===_.DEFAULT_FORM_SUBMISSION_STATES.SUCCESS)return(0,G.jsx)(Is,{email:this.props.iirisUserProfile?.business_email||this.state.values.emailAddress,returnFunction:m});if(a){let{base:N,formLayout:E}=this.context;return(0,G.jsx)("div",{className:E.container,children:(0,G.jsxs)("form",{noValidate:!0,className:(0,Rr.default)(N.form,E.form),onSubmit:this.handleSubmit,children:[!s&&(0,G.jsx)(ba,{validationErrors:n,otherErrors:i}),(0,G.jsx)(Ls,{showInvalidErrorMessage:s&&p,newsletters:a,changeHandler:this.handleChange}),r&&(0,G.jsx)(sa,{elements:r,onChange:this.onFormChange,showAllViolations:this.state.showAllViolations,showErrorMessages:s}),!this.props.hideFirstPartyConsent&&(0,G.jsx)(ia,{sponsorName:this.props.sponsorName,countryCode:this.state.values.countryCode,changeHandler:this.handleChange}),(0,G.jsx)("div",{className:E.submitContainer,children:(0,G.jsx)("button",{className:(0,Rr.default)(N.button,E.submit),type:"submit",children:g})})]})})}else return null}};ha.contextType=T;Ws=ha});var Qs,Tl,fa,ua,Jt,va,Zt=f(()=>{ct();Qs=(l,t)=>{let a="";for(let r in t){let e=t[r];a=e?`${a}&${r}=${e}`:a}return l=a?`${l}?${a}`:l,l},Tl=l=>fa(l)&&!l.attributes.elements.some(t=>t.fieldName==="is_new_form"),fa=l=>l.formType==="HUBSPOT",ua=(l,t)=>{let a=["sponsor_name","sponsorname"];return l.map(r=>(a.includes(r?.fieldName?.toLowerCase())&&(r.value=t),r))},Jt=l=>l?Object.keys(l).length===0:!0,va=(l,t)=>l?.find(a=>a?.fieldName===t)?.value||""});var Or,tl,ka=f(()=>{ft();Zt();Or=class{constructor(t,a,r,e,m,s){this.getPlatformApiServiceHeaders=()=>{let t={Authorization:this.authorization||"Bearer anonymous","Content-Type":"application/json","x-site-id":this.siteId.toLowerCase()};return this.subBrandId&&(t["x-sub-brand-id"]=this.subBrandId),t};this.getFormFieldValueByName=(t,a)=>{let r=a?.find(e=>e.htmlName===t);return r?r.value:""};this.mapDataAttributes=t=>t.formFields?{emailAddress:this.getFormFieldValueByName("emailAddress",t.formFields),firstName:this.getFormFieldValueByName("firstName",t.formFields),lastName:this.getFormFieldValueByName("lastName",t.formFields),country:this.getFormFieldValueByName("country",t.formFields),job:this.getFormFieldValueByName("job",t.formFields),company:this.getFormFieldValueByName("company",t.formFields),industry:this.getFormFieldValueByName("industry",t.formFields),state:this.getFormFieldValueByName("state",t.formFields),consent:t.firstPartyConsent}:{};this.buildNewsletterSubscriptionPayload=(t,a,r)=>{let e=this.getEmailAddress(t,a),{formFields:m}=t,s=t.newsletterList.map(n=>({data:{type:"newsletters",id:n}})),o=[];r&&m&&(o=r.filter(n=>n.elementType!=="text"&&n.elementType!=="button"&&m.some(({htmlName:i})=>i===n.fieldName)).map(n=>{let i=m.find(g=>g.htmlName===n.fieldName);return{questionCode:n.fieldName,questionText:n.label,answer:i.value}}));let d=[...Ma()],p=a?{}:this.mapDataAttributes(t);return{data:{id:e,type:"newsletter-subscriptions",attributes:{dynamicFields:o,...p},relationships:{user:a?this.getUserRelationship(a):null,newsletters:s,form:this.getFormRelationship(t.formId)}},meta:{tracking:d},context:this.context}};this.putNewslettersSubscription=async(t,a,r)=>{let e=t.emailAddress||this.getEmailAddress(t,a);return qt().put(`${this.platformServiceBaseUrl}/newsletter-subscriptions/${e}`,{...this.buildNewsletterSubscriptionPayload(t,a,r)},{headers:{...this.getPlatformApiServiceHeaders()}})};this.buildGatedContentPayload=(t,a,r,e)=>{let m={data:{type:t.contentType,id:t.contentId}},s=[];r&&e&&(s=r.filter(n=>n.elementType!=="text"&&n.elementType!=="button").map(n=>{let g=e.find(h=>h.htmlName===n.fieldName).value;return{questionCode:(n.fieldNamePrefix||"")+n.fieldName,questionText:n.label,answer:g}}));let o=this.getEmailAddress(t,a),d=[...Ma()],p=a?{}:this.mapDataAttributes(t);return{data:{id:o,type:"gated-content-form-data",attributes:{dynamicFields:s,thirdPartyConsent:t.thirdPartyConsent,...p,emailAddress:o},relationships:{gatedContent:m,user:a?this.getUserRelationship(a):null,form:this.getFormRelationship(t.formId)}},meta:{tracking:d}}};this.submitGatedContentFormData=async(t,a,r,e)=>qt().post(`${this.platformServiceBaseUrl}/gated-content-form-data`,{...this.buildGatedContentPayload(t,a,r,e)},{headers:{...this.getPlatformApiServiceHeaders()}});this.getFormById=async t=>qt().get(`${this.platformServiceBaseUrl}/forms/${t}`,{headers:{...this.getPlatformApiServiceHeaders()}}).then(r=>r.data.data);this.getNewsletterData=async t=>{let a=Qs(this.platformServiceBaseUrl+"/newsletters",t),m=(await qt().get(a,{headers:{...this.getPlatformApiServiceHeaders()}})).data.data;return Array.isArray(m)&&m.length>0?{form_id:m[0].relationships.form.data.id,newsletters:m.map(s=>({title:s.title,newsletter_code:s.id,newsletter_description:s.description,frequency_description:s.frequency,sample_url:{title:s.sample?.title,href:s.sample?.link}}))}:{form_id:"",newsletters:[]}};this.getEntitlementData=async(t,a)=>{let e=await qt().get(this.platformServiceBaseUrl+`/${t}/${a}`,{headers:{...this.getPlatformApiServiceHeaders()}}),m=e?.data?.data?.attributes||{},s=e?.data?.config;return s.attributes=m,s};this.getUserRelationship=t=>({data:{type:"users",id:t.id}});this.getFormRelationship=t=>({data:{type:"forms",id:t}});this.platformServiceBaseUrl=`${t}/${s||"v1"}`,this.siteId=a,this.authorization=r,this.context=e,this.subBrandId=m}getEmailAddress(t,a){return a?a.business_email:this.getFormFieldValueByName("emailAddress",t.formFields)||this.getFormFieldValueByName("business_email",t.formFields)||this.getFormFieldValueByName("USER_PROFILE_emailAddress",t.formFields)||this.getFormFieldValueByName("USER_PROFILE_business_email",t.formFields)}},tl=Or});var Lr,$s=f(()=>{Lr=l=>new Promise((t,a)=>{try{let r=document.createElement("script");Object.keys(l).forEach(e=>{r[e]=l[e]}),r.addEventListener("load",()=>{t({status:!0})}),r.addEventListener("error",()=>{a({status:!1,message:`Failed to load the script ${l.src}`})}),document.body.appendChild(r)}catch(r){a(r)}})});var Ks,Dr,Br,Xs,Js=f(()=>{Ks=x(C());$s();Dr=x(c()),Br=class extends Ks.Component{componentDidMount(){let{formId:t,configs:a={},region:r="eu1"}=this.props,{portalId:e}=a;Lr({src:`//js-${r}.hs-scripts.com/${e}.js`,type:"text/javascript",id:"hs-script-loader",async:!0,defer:!0}).then(()=>{Lr({src:`//js-${r}.hsforms.net/forms/v2.js`,type:"text/javascript",charset:"utf-8"}).then(()=>{window.hbspt&&window.hbspt.forms.create({region:r,portalId:e,formId:t,target:"#hubspotForm"})})})}render(){return(0,Dr.jsx)("div",{style:{display:"none"},children:(0,Dr.jsx)("div",{id:"hubspotForm"})})}},Xs=Br});var Zs,to,Ur,wa,Mr=f(()=>{Zs=x(C());ct();Js();to=x(c()),Ur=class extends Zs.Component{render(){let{formResponse:t}=this.props,{formId:a,formType:r,configs:e={}}=t;switch(r){case"HUBSPOT":return(0,to.jsx)(Xs,{configs:e,formId:a});default:return null}}},wa=Ur});function Ta(l){let t=l.displayName||l.name||"Component",a=r=>((0,lo.useEffect)(()=>{window.elnLibVersion={packageName:Fm,version:Gl}},[]),(0,ao.jsx)(l,{...r}));return a.displayName=`withVersioningInfo(${t})`,a}var lo,ao,Hr=f(()=>{lo=x(C());nr();ao=x(c())});var ro,ll,Vr,eo,mo=f(()=>{ro=x(C());ft();Ys();ka();wl();B();Mr();Hr();Zt();ll=x(c()),Vr=class extends ro.Component{constructor(a){super(a);this.platformApiService=new tl(this.props.platformServiceBaseUrl,this.props.clientId,this.props.authorization,this.props.context,this.props.subBrandId,this.props.version);this.handleSubscriptionState=a=>{this.setState(r=>({...r,subscriptionState:{isSuccessful:a.isSuccessful,message:a.message,status:a.status}})),a.isSuccessful&&this.props.onSuccessSubscribe&&this.props.onSuccessSubscribe()};this.componentDidMount=async()=>{try{let a=await this.getNewsletterData({tag:this.props.newsletterTag||"",state:this.state.countryState});a.form_id&&!this.props.iirisUserProfile&&await this.getFormData(a.form_id)}catch(a){pt(a),this.setState(r=>({...r,subscriptionState:{...r.subscriptionState,status:_.DEFAULT_FORM_SUBMISSION_STATES.ERROR,message:"We are having issues responding to your request! Please try again later."}}))}};this.getFormData=async a=>{let r=await this.platformApiService.getFormById(a);this.setState(e=>({...e,formData:r,subscriptionState:{...e.subscriptionState,status:_.DEFAULT_FORM_SUBMISSION_STATES.NEW},hideFirstPartyConsent:Tl(r)}))};this.getNewsletterData=async a=>{let r=await this.platformApiService.getNewsletterData(a);return this.setState(e=>({...e,contentStackData:{formId:r.form_id,newsletters:r.newsletters},subscriptionState:{...e.subscriptionState,status:this.props.iirisUserProfile?_.DEFAULT_FORM_SUBMISSION_STATES.NEW:e.subscriptionState.status}})),r};this.state={countryState:this.props.iirisUserProfile?.state||"",subscriptionState:{isSuccessful:!1,message:"PRE-SUB",status:_.DEFAULT_FORM_SUBMISSION_STATES.PENDING}},this.onCountryStateChanged=this.onCountryStateChanged.bind(this),this.handleSubscriptionState=this.handleSubscriptionState.bind(this)}onCountryStateChanged(a){this.setState(r=>({...r,countryState:a}),async()=>{await this.getNewsletterData({tag:this.props.newsletterTag||"",state:this.state.countryState})})}render(){let a=this.state?.formData||{},{sponsorName:r=""}=this.props,{elements:e=[]}=a?.attributes||{};return(0,ll.jsxs)("div",{children:[(0,ll.jsx)(wa,{formResponse:a}),(0,ll.jsx)(T.Provider,{value:hl(this.props.classNames,"newsletter"),children:(0,ll.jsx)(Ws,{newsletters:this.state&&this.state.contentStackData&&this.state.contentStackData.newsletters,elements:ua(e,r),platformApiService:this.platformApiService,subscriptionStateHandler:this.handleSubscriptionState,subscriptionState:this.state&&this.state.subscriptionState,returnFunction:this.props.returnButtonFunction,iirisUserProfile:this.props.iirisUserProfile,inContextValidationMessage:this.props.inContextValidationMessage,formId:this.state?.contentStackData?.formId,onCountryStateChanged:this.onCountryStateChanged,hideFirstPartyConsent:this.state.hideFirstPartyConsent,hideThirdPartyConsent:this.state.hideThirdPartyConsent})})]})}},eo=Ta(Vr)});var so,st,P,Ea,oo,no=f(()=>{so=x(C()),st=x(q());Ct();B();P=x(c()),Ea=class extends so.Component{constructor(a){super(a);this.consentHelper=new X}getContentTypeMessage(){switch(this.props.contentType.toLowerCase()){case"webinar":return"attend the webinar";case"white_paper":return"download the document";case"video":return"watch the video";case"slideshow":return"play the slideshow";case"article":return"read the article";default:return"access this content"}}render(){let a=this.getContentTypeMessage(),r=this.consentHelper.getCategoryByCountryCode(this.props.countryCode),{base:e,consentLayout:m,formLayout:s}=this.context,{sponsorName:o}=this.props;o=o||"Sponsors mentioned above";let d=this.consentHelper.getOptOutMessage(this.context,r),p=(0,st.default)(m.thirdPartyContainer,{[s.validationErroredField]:this.props.error});return r==="A"?(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("p",{className:e.p,children:["I\u2019d like to hear from the ",o," about their products and services which are relevant to me."," ",d]}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("label",{className:e.label,children:[(0,P.jsx)("input",{className:(0,st.default)(e.input,e.radio),type:"radio",value:"CR_OPTIN",name:"thirdPartyConsent",required:!0,onInput:this.props.changeHandler}),"Yes"]}),(0,P.jsxs)("label",{className:e.label,children:[(0,P.jsx)("input",{className:(0,st.default)(e.input,e.radio),type:"radio",value:"CR_OPTOUT",name:"thirdPartyConsent",onInput:this.props.changeHandler}),"No"]})]})]}):r==="B"?(0,P.jsx)("div",{className:p,children:(0,P.jsxs)("label",{className:(0,st.default)(e.label,"eln-third-party-consent-B"),children:[(0,P.jsx)("input",{className:(0,st.default)(e.input,e.checkbox),type:"checkbox",value:"CR_OPTIN",name:"thirdPartyConsent",onInput:this.props.changeHandler}),(0,P.jsxs)("p",{className:e.p,children:["Yes, I'd like to hear from the ",o," about their products and services which are relevant to me."," ",d]})]})}):r==="C"?(0,P.jsx)("div",{className:p,children:(0,P.jsxs)("label",{className:(0,st.default)(e.label,"eln-third-party-consent-B"),children:[(0,P.jsx)("input",{className:(0,st.default)(e.input,e.checkbox),type:"checkbox",value:"CR_OPTOUT",name:"thirdPartyConsent",onInput:this.props.changeHandler}),(0,P.jsxs)("p",{className:e.p,children:["Tick here if you do not want to hear from the ",o," about their products and services relevant to you. ",d]})]})}):(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("p",{className:e.p,children:["By signing up to ",a," you agree to our terms and conditions and privacy policy. By continuing, you agree that Informa may contact you with updates about our related products and services including those of our carefully selected partners. Also, the ",o," may follow-up and contact you about their products and services. ",d]}),(0,P.jsxs)("label",{className:e.label,children:[(0,P.jsx)("input",{className:(0,st.default)(e.input,e.checkbox),type:"checkbox",value:"CR_OPTIN",name:"thirdPartyConsent","data-testid":"checkbox-third-party-consent",required:!0,onInput:this.props.changeHandler}),"I agree to the"," ",(0,P.jsx)("a",{className:e.a,href:"https://www.informa.com/privacy-policy/",target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]})]})}};Ea.contextType=T;oo=Ea});var io,El,j,Ca,xo,po=f(()=>{io=x(C()),El=x(q());ft();no();Ct();Pr();pa();wl();Bl();Nr();Ir();B();Fr();j=x(c()),Ca=class extends io.default.Component{constructor(a){super(a);this.handleThirdPartyCConsentChange=a=>{let r=a.value;a.type==="checkbox"&&(a.checked?r=a.value:r=""),a.type==="radio"&&(r=a.value),this.setState(e=>({...e,thirdPartyConsentOption:r,thirdPartyConsentTouched:!0,values:{...e.values}}))};this.handleFirstPartyConsentChange=a=>{let r=this.consentHelper.getValueByElement(a);this.setState(e=>({...e,firstPartyConsentOption:r,firstPartyConsentTouched:!0,values:{...e.values}}))};this.handleChange=a=>{a.preventDefault();let r=a.currentTarget;r.name===D.ElementNames.THIRD_PARTY_CONSENT?this.handleThirdPartyCConsentChange(r):r.name===D.ElementNames.CONSENT&&this.handleFirstPartyConsentChange(r)};this.checkThirdPartyConsent=()=>{if(!this.state.values.countryCode||this.props.hideThirdPartyConsent)return!0;switch(this.consentHelper.getCategoryByCountryCode(this.state.values.countryCode)){case"A":return this.state.thirdPartyConsentTouched;case"D":return this.state.thirdPartyConsentTouched&&this.state.thirdPartyConsentOption==="CR_OPTIN";default:return!0}};this.checkConsentFirstPartyConsent=()=>{if(this.props.iirisUserProfile||this.props.hideFirstPartyConsent||!this.state.values.countryCode)return!0;switch(this.consentHelper.getCategoryByCountryCode(this.state.values.countryCode)){case"A":return this.state.firstPartyConsentTouched;case"D":return this.state.firstPartyConsentTouched&&this.state.firstPartyConsentOption==="CR_OPTIN";default:return!0}};this.handleSubmit=async a=>{if(a.preventDefault(),this.setState(i=>({...i,showAllViolations:!0})),!(this.checkConsentFirstPartyConsent()&&this.checkThirdPartyConsent()))return;let e=this.consentHelper.getThirdConsentValue(this.state.values.countryCode,this.state.thirdPartyConsentOption),m=this.props.iirisUserProfile?!0:this.consentHelper.getFirstConsentValue(this.state.values.countryCode,this.state.firstPartyConsentOption),{formFields:s}=this.state.values;if(s.some(({violations:i})=>i.length))return;let d=this.props.iirisUserProfile?.business_email||this.state.values.emailAddress,p={formFields:s,emailAddress:d,thirdPartyConsent:e,firstPartyConsent:m,contentType:this.props.contentType,contentId:this.props.contentId,formId:this.props.formId||""},n={isSuccessful:!1,message:"Submitting data...",status:_.DEFAULT_FORM_SUBMISSION_STATES.PENDING};this.props.subscriptionStateHandler(n);try{let i=await this.props.platformApiService.submitGatedContentFormData(p,this.props.iirisUserProfile,this.state.elements,s);i.status===200&&(n.isSuccessful=!0,n.message="SUCCESS",n.status=_.DEFAULT_FORM_SUBMISSION_STATES.SUCCESS,this.props.completionCallback(i))}catch(i){pt(i),n.isSuccessful=!1,n.message="A problem has occurred with processing your request, please wait a few minutes and try again.",n.status=_.DEFAULT_FORM_SUBMISSION_STATES.ERROR,this.props.subscriptionStateHandler(n)}};this.getErrors=()=>{let{iirisUserProfile:a}=this.props,{values:r,showAllViolations:e}=this.state,m=r.formFields.filter(o=>o.touched||e).flatMap(({violations:o})=>o),s=[];return!a&&e&&!this.checkConsentFirstPartyConsent()&&s.push("Please choose first party consent agreement"),e&&!this.checkThirdPartyConsent()&&s.push("Please choose third party consent agreement"),{errors:m,otherErrors:s}};this.state={elements:this.props.elements,showAllViolations:!1,thirdPartyConsentOption:"",thirdPartyConsentTouched:!1,firstPartyConsentOption:"",firstPartyConsentTouched:!1,values:{contentType:this.props.contentType,contentId:this.props.contentId,thirdPartyConsent:!1,formFields:[],formId:null,countryCode:this.props.countryCode,emailAddress:this.props.iirisUserProfile?.business_email||"",firstPartyConsent:!1}},this.consentHelper=new X,this.handleSubmit=this.handleSubmit.bind(this),this.onFormChange=this.onFormChange.bind(this)}onFormChange(a,r){let e=a.find(s=>s.htmlName===D.ElementNames.COUNTRY)?.value||this.props.countryCode,m=a.find(s=>s.htmlName===D.ElementNames.EMAIL_ADDRESS||s.htmlName===D.ElementNames.BUSINESS_EMAIL)?.value||"";this.setState(s=>({...s,elements:r,values:{...s.values,emailAddress:m,countryCode:e,formFields:a}}))}render(){let a=this.props.subscriptionState&&this.props.subscriptionState.status,{elements:r=[],inContextValidationMessage:e,iirisUserProfile:m,hideFirstPartyConsent:s,hideThirdPartyConsent:o}=this.props,{errors:d,otherErrors:p}=this.getErrors();if(a==="PENDING")return(0,j.jsx)($t,{});if(a==="ERROR")return(0,j.jsx)(ca,{title:"A problem has occurred",message:"A problem has occurred with processing your request, please wait a few minutes and try again.",returnFunction:this.props.completionCallback});{let{base:n,formLayout:i}=this.context;return(0,j.jsx)("div",{className:i.container,children:(0,j.jsxs)("form",{noValidate:!0,className:(0,El.default)(n.form,i.form),onSubmit:this.handleSubmit,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:(0,El.default)(n.p,i.title),children:"Gain Access"}),(0,j.jsx)("p",{className:(0,El.default)(n.p,i.description),children:"Please provide us with a few more details to continue."})]}),!e&&(0,j.jsx)(ba,{validationErrors:d,otherErrors:p}),r&&(0,j.jsx)(sa,{onChange:this.onFormChange,elements:r,showAllViolations:this.state.showAllViolations,showErrorMessages:e}),!s&&!m&&(0,j.jsx)(ia,{sponsorName:this.props.sponsorName,countryCode:this.state.values.countryCode,changeHandler:this.handleChange}),!o&&(0,j.jsx)(oo,{contentType:this.props.contentType,countryCode:this.props.countryCode,changeHandler:this.handleChange,error:e&&this.state.showAllViolations&&!this.checkThirdPartyConsent(),sponsorName:this.props.sponsorName}),(0,j.jsx)("button",{className:(0,El.default)(n.button,i.submit),children:"Continue"})]})})}}};Ca.contextType=T;xo=Ca});var go,al,Zi,jr,yo,co=f(()=>{go=x(C());ft();po();ka();wl();B();Mr();Hr();Zt();al=x(c()),Zi={webinar:"webinars",white_paper:"whitepapers",video:"videos",slideshow:"slideshows",article:"articles",journal:"journals"},jr=class extends go.default.Component{constructor(a){super(a);this.platformApiService=new tl(this.props.platformServiceBaseUrl,this.props.clientId,this.props.authorization,void 0,this.props.subBrandId,this.props.version);this.handleSubscriptionState=a=>{this.setState(r=>({...r,subscriptionState:{isSuccessful:a.isSuccessful,message:a.message,status:a.status}}))};this.componentDidMount=async()=>{try{await this.getContentStackData()}catch(a){pt(a),this.setState(r=>({...r,subscriptionState:{...r.subscriptionState,status:_.DEFAULT_FORM_SUBMISSION_STATES.ERROR,message:"We are having issues responding to your request! Please try again later."},error:!0}))}};this.getContentStackData=async()=>{let{sponsored_form_id:a,user_profile_form_id:r,user_profile_question_prefix:e,attributes:m={}}=await this.platformApiService.getEntitlementData(Zi[this.props.contentType],this.props.contentId)||{},s={},o=!1,d=!1,p=!1;if(!this.props.iirisUserProfile&&r){let n=await this.platformApiService.getFormById(r),i=n?.attributes?.elements;n.attributes.elements=i.map(g=>(g.fieldNamePrefix=e||"",g.dependentElements=g?.dependentElements?.map(b=>(b.element.fieldNamePrefix=e||"",b))||[],g)),s[r]=n,o=Tl(n),d=o,p=p||fa(n)}if(a){let n=await this.platformApiService.getFormById(a);d=Tl(n),s[a]=n,p=p||fa(n)}this.setState(n=>({...n,formId:a,forms:{...n.forms,...s},error:null,subscriptionState:{...n.subscriptionState,status:_.DEFAULT_FORM_SUBMISSION_STATES.NEW},hideFirstPartyConsent:o,hideThirdPartyConsent:d,sponsorName:p?m?.sponsor_name:""}))};this.state={forms:{},subscriptionState:{isSuccessful:!1,message:"PRE-SUB",status:_.DEFAULT_FORM_SUBMISSION_STATES.PENDING}}}render(){let{forms:a={}}=this.state,{sponsorName:r=""}=this.state,e=[],m=Object.keys(a).map(s=>{let o=a[s];return e=[...e,...o?.attributes?.elements||[]],(0,al.jsx)(wa,{formResponse:o},s)});return(0,al.jsxs)("div",{children:[m,(0,al.jsx)(T.Provider,{value:hl(this.props.classNames,"entitlement"),children:(0,al.jsx)(xo,{platformApiService:this.platformApiService,contentType:this.props.contentType,contentId:this.props.contentId,completionCallback:this.props.completionCallback,countryCode:this.props.iirisUserProfile?.country,iirisUserProfile:this.props.iirisUserProfile,elements:ua(e,r),subscriptionStateHandler:this.handleSubscriptionState,subscriptionState:this.state&&this.state.subscriptionState,inContextValidationMessage:this.props.inContextValidationMessage,formId:this.state.formId||"",hideFirstPartyConsent:this.state.hideFirstPartyConsent,hideThirdPartyConsent:this.state.hideThirdPartyConsent,sponsorName:r})})]})}},yo=Ta(jr)});var bo={};lt(bo,{Entitlement:()=>yo,Newsletter:()=>eo});var ho=f(()=>{mo();co()});var St,fo,uo=f(()=>{St=x(C()),fo=(l,t)=>{let[a,r]=(0,St.useState)(!1),[e,m]=(0,St.useState)([]),[s,o]=(0,St.useState)(null),[d,p]=(0,St.useState)([]);(0,St.useEffect)(()=>{(async()=>{r(!0);let N=await l.getNewsletterData(t);m(N.newsletters.map(E=>({...E,selected:!1}))),o(N.form_id),r(!1)})().then()},[t]);let n=h=>{let N=h.currentTarget,E=N.value,k=e.map(u=>u.newsletter_code===E?{...u,selected:N.checked}:u);p(i(k)),m(k)},i=h=>h.some(E=>E.selected)?[]:["Please ensure at least one newsletter is selected and no errors are displayed"],g=()=>{let h=i(e);return h.length&&p(h),h.length===0},b=e.filter(h=>h.selected).map(h=>h.newsletter_code);return{loading:a,newsletters:e,selectedNewsletters:b,formId:s,handleChange:n,validate:g,errors:d}}});var Sa,qr=f(()=>{ka();Sa=l=>new tl(l.elnUrl,l.brandId,l.authorization,l.context,l.subBrandId,l.elnVersion)});var Cl,ko,tx,vo,Sl,zr=f(()=>{Cl=x(C());ct();Cr();ir();ko=l=>!!l.validations?.some(({type:t})=>t==="IsRequiredCondition"),tx=l=>l.filter(t=>t.inputType!=="hidden"||t.elementType==="button").reduce((t,a)=>{let r=t.set(a.fieldName,{...a,isRequired:ko(a),isHidden:!1,value:""});if(a.dependentElements?.length)for(let{element:e}of a.dependentElements)t.set(e.fieldName,{...e,isRequired:!1,isHidden:!0,validations:[]});return r},new Map),vo=l=>({...l,isHidden:!0,isRequired:!1,value:"",validations:[]}),Sl=(l,t)=>{let[a,r]=(0,Cl.useState)(!1),[e,m]=(0,Cl.useState)(new Map);(0,Cl.useEffect)(()=>{(async()=>{if(t){r(!0);let g=await l.getFormById(t);m(tx(g.attributes.elements)),r(!1)}})().then()},[t]);let s=new Wl,o=i=>{if(!t)return;i.preventDefault();let{currentTarget:g}=i,b=g.value,h=e.get(g.name);if(!h)throw new Error(`use-form: Element with name ${g.name} not found`);h.elementType==="checkbox"&&(b=""+g?.checked),h.errors=s.validateFormField(b,h),h.value=b,h.touched=!0,e.set(g.name,h);let N=h?.dependentElements||[];for(let{element:k}of N){let u=vo(k);e.set(k.fieldName,u)}let E=N.filter(({filters:k})=>k.some(({strValues:u})=>u.includes(b)));for(let{formFieldAction:k,element:u,filters:A}of E){let v=vo(u);k==="DISPLAY"&&(v.isHidden=!ea(b,A),v.isRequired=ko(u),v.validations=u.validations),e.set(u.fieldName,v)}m(new Map(e))},d=()=>{if(!t)return!0;let i=!1;for(let[g,b]of Array.from(e)){let h=s.validateFormField(b.value,b);h?.length&&(b.errors=h,e.set(g,b),i=!0)}return m(new Map(e)),!i},p=Array.from(e.values()).map(i=>i),n=p.filter(i=>i.errors?.length).flatMap(i=>i?.errors?.map(g=>`${i.label}: ${g.message}`));return{loading:a,fields:p,handleChange:o,validate:d,errors:n}}});var gt,Nl,Gr=f(()=>{gt=x(C());Ct();Nl=(l,t)=>{let a=new X,[r,e]=(0,gt.useState)(!1),[m,s]=(0,gt.useState)(""),[o,d]=(0,gt.useState)(!1),[p,n]=(0,gt.useState)(""),[i,g]=(0,gt.useState)([]);(0,gt.useEffect)(()=>{t&&s(a.getCategoryByCountryCode(t))},[t]);let b=E=>{let k=E.currentTarget,u=a.getValueByElement(k),A=l==="firstParty"?a.getFirstConsentValue(t,u):a.getThirdConsentValue(t,u);e(A),n(u),d(!0)},h=()=>{if(!t)return!0;switch(m){case"A":return o;case"D":return o&&p==="CR_OPTIN";default:return!0}};return{category:m,value:r,handleChange:b,validate:()=>{let E=h();return g(E?[]:["Please choose consent agreement"]),E},errors:i}}});var wo={};lt(wo,{useNewsletter:()=>lx});var Na,lx,To=f(()=>{Na=x(C());uo();qr();zr();Gr();Zt();lx=(l,t)=>{let a=Sa(l),[r,e]=(0,Na.useState)("loading"),{loading:m,newsletters:s,selectedNewsletters:o,formId:d,handleChange:p,validate:n,errors:i=[]}=fo(a,t),{loading:g,fields:b,handleChange:h,validate:N,errors:E=[]}=Sl(a,Jt(l.iirisUserProfile)?d:null),k=va(b,"country"),{category:u,value:A,handleChange:v,validate:W,errors:J=[]}=Nl("firstParty",k);(0,Na.useEffect)(()=>{e(m||g?"loading":"filling")},[m,g]);let ml=()=>Jt(l.iirisUserProfile)?n()&&N()&&W():n();return{state:r,newsletter:{list:s,handleChange:p,errors:i},form:{fields:b,handleChange:h,errors:E},consent:{firstParty:{category:u,handleChange:v,errors:J}},handleSubmit:async Fa=>{if(Fa.preventDefault(),ml()){e("loading");let _a=b.map(It=>({htmlName:It.fieldName,value:It.value||"",touched:It.touched||!1,violations:[]})),Il={formId:d,countryCode:k,emailAddress:"",firstPartyConsent:A,newsletterList:o,formFields:_a};try{await a.putNewslettersSubscription(Il,l.iirisUserProfile,b),e("success")}catch{e("error")}}},allErrors:[...E,...i,...J]}}});var Nt,Eo,Co=f(()=>{Nt=x(C()),Eo=(l,t,a)=>{let[r,e]=(0,Nt.useState)(!1),[m,s]=(0,Nt.useState)(null),[o,d]=(0,Nt.useState)(null),[p,n]=(0,Nt.useState)("");return(0,Nt.useEffect)(()=>{(async()=>{e(!0);let g=await l.getEntitlementData(t,a);s(g.user_profile_form_id),d(g.user_profile_form_id),g?.attributes?.sponsor_name&&n(g.attributes.sponsor_name),e(!1)})().then()},[t,a]),{loading:r,userFormId:m,sponsorFormId:o,sponsorName:p}}});var So={};lt(So,{useEntitlement:()=>ex});var Aa,ax,rx,ex,No=f(()=>{Aa=x(C());qr();zr();Zt();Co();Gr();ax={webinar:"webinars",white_paper:"whitepapers"},rx=(l,t,a,r)=>l===a?r:[...t,...r],ex=(l,t,a,r)=>{let e=Sa(l),[m,s]=(0,Aa.useState)("loading"),{loading:o,userFormId:d,sponsorFormId:p,sponsorName:n}=Eo(e,ax[t],a),{loading:i,fields:g,handleChange:b,validate:h,errors:N=[]}=Sl(e,Jt(l.iirisUserProfile)?null:d),{loading:E,fields:k,handleChange:u,validate:A,errors:v=[]}=Sl(e,p),W=rx(d,g,p,k),J=va(W,"country"),{category:ml,value:Yr,handleChange:Fa,validate:_a,errors:Il=[]}=Nl("firstParty",J),{category:It,value:Lo,handleChange:Bo,validate:Pa,errors:Qr=[]}=Nl("thirdParty",J);(0,Aa.useEffect)(()=>{s(o||i||E?"loading":"filling")},[o,E,i]);let Do=()=>Jt(l.iirisUserProfile)?_a()&&Pa()&&A():d===p?Pa()&&A():Pa()&&A()&&h(),Uo=async Rl=>{if(Rl.preventDefault(),Do()){s("loading");let $r=W.map(Rt=>({htmlName:Rt.fieldName,value:Rt.value||"",touched:Rt.touched||!1,violations:[]})),Mo={formId:"",countryCode:J,emailAddress:"",firstPartyConsent:Yr,thirdPartyConsent:Lo,formFields:$r,contentType:t,contentId:a};try{let Rt=await e.submitGatedContentFormData(Mo,l.iirisUserProfile,W,$r);s("success"),r(Rt.data)}catch{s("error")}}};return{state:m,form:{fields:W,handleChange:Rl=>{b(Rl),u(Rl)},errors:[...N,...v]},consent:{firstParty:{category:ml,handleChange:Fa,errors:Il},thirdParty:{category:It,handleChange:Bo,errors:Qr,sponsorName:n,contentType:t}},handleSubmit:Uo,allErrors:[...N,...v,...Il,...Qr]}}});var Fo=w(U=>{"use strict";U.__esModule=!0;U.CountryCategory=U.useEntitlement=U.useNewsletter=U.Spinner=U.Input=U.Entitlement=U.Newsletter=void 0;var Ao=(ho(),Ot(bo));U.Entitlement=Ao.Entitlement;U.Newsletter=Ao.Newsletter;var mx=(Tr(),Ot(ws));U.Input=mx.Input;var sx=(pa(),Ot(js));U.Spinner=sx.Spinner;var ox=(To(),Ot(wo));U.useNewsletter=ox.useNewsletter;var nx=(No(),Ot(So));U.useEntitlement=nx.useEntitlement;var dx=(Ct(),Ot(Us));U.CountryCategory=dx.CountryCategory});var Ra={screens:{md:"744px",lg:"1024px",xl:"1200px"}};var Q=x(C()),me=x(c()),re=Q.createContext({}),Oa=l=>parseInt(l.replace("px",""),10),ux=l=>{let t=Q.useMemo(()=>({md:Oa(l.screens.md),lg:Oa(l.screens.lg),xl:Oa(l.screens.xl)}),[l.screens]);if(!t.md||!t.lg||!t.xl)throw new Error("Cant parse screen tokens");return(0,me.jsx)(re.Provider,{value:t,children:l.children})},ae=l=>{if(typeof window=="undefined")return null;switch(!0){case window.innerWidth>=l.xl:return"xl";case window.innerWidth>=l.lg:return"lg";case window.innerWidth>=l.md:return"md";default:return null}},vx=()=>{let l=Q.useContext(re),[t,a]=Q.useState(null);return Q.useEffect(()=>{let r=()=>a(ae(l));return typeof window!="undefined"&&(window.addEventListener("resize",r),a(ae(l))),()=>{typeof window!="undefined"&&window.removeEventListener("resize",r)}},[l]),t},ee=()=>{let[l,t]=Q.useState(0);return Q.useEffect(()=>{let a=()=>t(window.innerWidth);return typeof window!="undefined"&&(window.addEventListener("resize",a),t(window.innerWidth)),()=>{typeof window!="undefined"&&window.removeEventListener("resize",a)}},[]),l};function se(l){var t,a,r="";if(typeof l=="string"||typeof l=="number")r+=l;else if(typeof l=="object")if(Array.isArray(l))for(t=0;t<l.length;t++)l[t]&&(a=se(l[t]))&&(r&&(r+=" "),r+=a);else for(t in l)l[t]&&(r&&(r+=" "),r+=t);return r}function oe(){for(var l=0,t,a,r="";l<arguments.length;)(t=arguments[l++])&&(a=se(t))&&(r&&(r+=" "),r+=a);return r}var ne=oe,de=ne;var ie=de;var La=x(C()),xe=x(c()),sl=La.default.createContext({}),_x=({children:l,clientId:t,environment:a,unbounceURL:r,elnNewsletterEnable:e,eln:m})=>{let s=La.default.useMemo(()=>({clientId:t,environment:a,unbounceURL:r,elnNewsletterEnable:e,eln:m}),[t,a,r,e,m]);return(0,xe.jsx)(sl.Provider,{value:s,children:l})};var Al=x(C());var At={};lt(At,{ElementNames:()=>Ua,FilterFieldAction:()=>dl,FilterOperator:()=>Da,FormType:()=>nl});Ia(At,x(Fo()));ct();var _o=x(Ho());var Po=x(c()),ix=(0,Y.cn)("Typography"),xx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","body-small":"p","body-normal":"p",deck:"span"},Wr=({variant:l,className:t,primary:a,children:r,automationId:e})=>{let m=xx[l];return(0,Po.jsx)(m,{"data-component":"typography","data-testid":e===void 0?"typography_element":e,className:ix({variant:(0,_o.default)(l),font:a?"primary":"secondary"},[t]),children:r})};var ot=x(c()),y=(0,Y.cn)("SignupNewsletter"),Io=({onClose:l,newsletterId:t,newsletterTag:a,subBrandId:r})=>{let{user:e,sessionType:m,accessToken:s,authFlow:o}=te(),d=Lt.hooks.useSendEvent(),{clientId:p,environment:n,eln:i}=Al.useContext(sl),[g,b]=Al.useState((i==null?void 0:i.newsletter.subscribeForm.title)||"Subscribe to Our Newsletters"),[h,N]=Al.useState(i==null?void 0:i.newsletter.subscribeForm.subtitle),E=()=>{var k,u;d({event:"newsletter",data:{status:"Submit Success",capture_tool:"ELN",...e!=null&&e.id?{user_id:e.id}:{}},_clear:!0}),(u=(k=i==null?void 0:i.newsletter)==null?void 0:k.subscribeConfirm)!=null&&u.title&&b(i==null?void 0:i.newsletter.subscribeConfirm.title),i!=null&&i.newsletter.subscribeConfirm.subtitle&&N(i==null?void 0:i.newsletter.subscribeConfirm.subtitle)};return(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsxs)("div",{className:y("Header"),children:[(0,ot.jsx)(Wr,{variant:"h2",primary:!0,className:y("HeaderTitle"),automationId:"newsletter_headerTitle",children:g}),(0,ot.jsx)(Wr,{variant:"body-small",className:y("HeaderSubtitle"),primary:!1,automationId:"newsletter_headerSubTitle",children:h})]}),m!=="unauthenticated"&&(0,ot.jsx)(At.Newsletter,{platformServiceBaseUrl:Zr(n),newsletterId:t,newsletterTag:a,authorization:s,clientId:Kr(p),context:{isUserRegistrationFlow:Boolean(o==="register")},iirisUserProfile:e,returnButtonFunction:l,subBrandId:r,onSuccessSubscribe:E,classNames:{base:{h1:y("BaseHeader"),p:y("BaseText"),span:y("BaseSpan"),a:y("BaseLink"),button:y("BaseButton"),form:y("BaseForm"),label:y("BaseLabel"),input:y("BaseInput"),checkbox:y("BaseCheckbox"),radio:y("BaseRadio"),select:y("BaseSelect"),option:y("BaseOption")},formLayout:{container:y("Content"),formContainer:y("FormContainer"),formContainerRow:y("FormContainerRow"),form:y("Form"),submitContainer:y("SubmitContainer"),submit:y("Submit"),title:y("Title"),description:y("Description"),checkbox:y("Checkbox"),select:y("Select"),selectLabelSpan:y("SelectLabelSpan"),selectState:y("SelectState"),input:y("Input"),label:y("Label"),textInput:y("TextInput"),textInputLabelSpan:y("TextInputLabelSpan"),validationErroredField:y("ValidationErroredField"),validationHeader:y("ValidationHeader"),selectElement:y("SelectElement"),selectOptionElement:y("SelectOptionElement"),inputElement:y("InputElement")},consentLayout:{container:y("Consent"),thirdPartyContainer:y("ConsentWrapper"),a:y("ConsentLink"),p:y("ConsentText"),input:y("ConsentInput"),label:y("ConsentLabel")},newsletterLayout:{container:y("Newsletter"),item:y("NewsletterItem"),inputContainer:y("NewsletterInputContainer"),input:y("NewsletterInput"),consentContainer:y("NewsletterConsentContainer"),itemTitle:y("NewsletterItemTitle"),itemFrequency:y("NewsletterFrequency"),itemFrequencyA:y("NewsletterFrequencyLink"),itemFrequencyP:y("NewsletterFrequencyText"),validationError:y("NewsletterError"),success:{container:y("NewsletterSuccess"),thankYouTitle:y("NewsletterSuccessTitle"),plainText:y("NewsletterSuccessText"),button:y("NewsletterSuccessButton")}},errorLayout:{container:y("Error"),title:y("ErrorTitle"),plainText:y("ErrorText"),button:y("ErrorButton")}}},s)]})};var Pt=x(C());var nt=x(c()),rl=(0,Y.cn)("SignupNewsletterModal"),el=({onClose:l,skipOption:t,newsletterId:a,subBrandId:r})=>{let e=o=>parseInt(o.replace("px",""),10),m=o=>{if(o>=e(Ra.screens.xl))return{width:"fit-content",maxHeight:"90%",maxWidth:"80%",transform:"translate(-50%,-50%)"}},s=ee();return(0,nt.jsx)("div",{className:rl(),children:(0,nt.jsxs)("div",{style:m(s),className:rl("Wrapper"),children:[(0,nt.jsx)("div",{className:rl("Header"),role:"presentation",onClick:l,children:(0,nt.jsx)(le,{icon:"Close",className:rl("Close")})}),(0,nt.jsx)(Io,{onClose:l,newsletterId:a,subBrandId:r}),t&&(0,nt.jsx)("div",{className:rl("Footer"),children:(0,nt.jsx)("button",{className:rl("Button"),onClick:l,children:"No, thank you"})})]})})};var Ft=x(c()),Fl=(0,Y.cn)("SubscribeBanner"),Ro=({title:l,message:t,children:a,className:r,variant:e,mode:m,automationId:s})=>{let d=Jr.hooks.useIsAdRender("wallpaper_v")==="show";return(0,Ft.jsx)("div",{className:ie(Fl({mode:m,variant:e,isWallPaperActive:d}),r),children:(0,Ft.jsxs)("div",{className:Fl("Wrapper"),children:[(0,Ft.jsx)("div",{className:Fl("Title"),"data-testid":s===void 0?"subscribeBanner_title":s,children:l}),(0,Ft.jsx)("div",{className:Fl("Message"),"data-testid":s===void 0?"subscribeBanner_message":s,children:t}),(0,Ft.jsx)("div",{className:Fl("Button"),children:a})]})})};var _t=x(c()),_l=(0,Y.cn)("SubscribeBannerTopicPage"),Oo=({title:l,message:t,children:a,className:r,variant:e,mode:m,automationId:s})=>(0,_t.jsx)("div",{className:_l({mode:m,variant:e},[r]),children:(0,_t.jsxs)("div",{className:_l("Content"),children:[(0,_t.jsx)("div",{className:_l("Title"),"data-testid":s===void 0?"subscribeBannerTopicPage_title":s,children:l}),(0,_t.jsx)("div",{className:_l("Message"),"data-testid":s===void 0?"subscribeBannerTopicPage_message":s,children:t}),(0,_t.jsx)("div",{className:_l("Button"),children:a})]})});var S=x(c()),Pl=(0,Y.cn)("NewsletterSignupPromo"),yx="module_newsletter_promo_cta",ty=({buttonText:l="",newsletterId:t,layoutVariant:a="banner",social:r,isOpenNewsletter:e,isOnHomepage:m=!1,moduleLocation:s,title:o,...d})=>{let p=Lt.hooks.useSendEvent(),[n,i]=Pt.useState(!1),[g,b]=Pt.useState(!1),h=bx(),N=Lt.utils.getCurrentUrl(),{unbounceURL:E,elnNewsletterEnable:k}=Pt.useContext(sl),u=!k,A=u&&E?E:"";Pt.useEffect(()=>{e&&k&&b(!0)},[e,k]);let v=({eventName:J,isButtonAnchor:ml=!1})=>{W(),p({data:{status:"Submit Attempt",name:J},event:"newsletter",_clear:!0}),ml||i(!0)},W=()=>{if(!N||!s)return;let J={name:o,location:s,section:yx,referring_page:N.pathname,destination_page:Lt.utils.prepareDestinationPath(A,N)};p({data:J,event:"navigation",_clear:!0})};return(0,S.jsxs)("div",{"data-module":"newsletter-signup-promo",children:[g&&(0,S.jsx)(el,{onClose:()=>b(!1),newsletterId:t}),(0,S.jsx)(cx,{...d,isOpen:n,newsletterId:t,buttonText:l||h,setIsOpen:i,title:o,layoutVariant:a,isButtonAnchor:u,subscribeUrl:A,isOnHomepage:m,onHandleSubscribeButtonClick:v}),a==="header"&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:Pl("Button",{small:!0}),children:(0,S.jsx)(dt,{automationId:"headerSmallNewsletterButton",leftIcon:"Email",size:"small",variant:"primary-filled",onClick:()=>v({eventName:"main_menu",isButtonAnchor:u}),url:A,buttonLikeAnchor:u,target:"_blank",dataName:"subscribe-nav",dataActionType:"sign-up",children:h})}),(0,S.jsxs)("div",{className:Pl("Button",{medium:!0}),children:[r,(0,S.jsx)(dt,{automationId:"headerMediumNewsletterButton",leftIcon:"Email",size:"medium",variant:"primary-filled",onClick:()=>v({eventName:"main_menu",isButtonAnchor:u}),url:A,buttonLikeAnchor:u,target:"_blank",dataName:"subscribe-nav",dataActionType:"sign-up",children:h})]}),n&&(0,S.jsx)(el,{onClose:()=>i(!1),newsletterId:t})]}),a==="megaMenu"&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:Pl("Button",{small:!0}),children:(0,S.jsx)(dt,{automationId:"megaMenuSmallNewsletterButton",className:Pl("WrappedButton"),leftIcon:"Email",size:"large",variant:"secondary-filled",onClick:()=>v({eventName:"mega_menu",isButtonAnchor:u}),url:A,buttonLikeAnchor:u,target:"_blank",dataName:"subscribe-hamburger",dataActionType:"sign-up",children:h})}),(0,S.jsxs)("div",{className:Pl("Button",{medium:!0}),children:[r,(0,S.jsx)(dt,{automationId:"megaMenuMediumNewsletterButton",leftIcon:"Email",size:"medium",variant:"secondary-filled",onClick:()=>v({eventName:"mega_menu",isButtonAnchor:u}),url:A,buttonLikeAnchor:u,target:"_blank",dataName:"subscribe-hamburger",dataActionType:"sign-up",children:h})]})]}),a==="footer"&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(dt,{automationId:"footerNewsletterButton",size:"medium",variant:"primary-filled",onClick:()=>v({eventName:"footer_menu",isButtonAnchor:u}),url:A,buttonLikeAnchor:u,target:"_blank",dataName:"subscribe-footer",dataActionType:"sign-up",children:l||h}),n&&(0,S.jsx)(el,{onClose:()=>i(!1),newsletterId:t})]})]})},cx=({title:l,message:t,subBrandId:a,className:r,variant:e="vertical",mode:m,layoutVariant:s,buttonText:o,isOpen:d,newsletterId:p,setIsOpen:n,isButtonAnchor:i,subscribeUrl:g,isOnHomepage:b,onHandleSubscribeButtonClick:h})=>{let N=b?"home_page_module":"newsletter_module";return(0,S.jsxs)(S.Fragment,{children:[s==="banner"&&(0,S.jsxs)(Ro,{title:l,message:t,variant:e,className:r,mode:m,children:[(0,S.jsx)(dt,{automationId:"bannerNewsletterbutton",size:"medium",variant:m==="dark"?"secondary-filled":"primary-filled",onClick:()=>h({eventName:N,isButtonAnchor:i}),url:g,buttonLikeAnchor:i,target:"_blank",dataName:"subscribe-banner",dataActionType:"sign-up",children:o}),d&&(0,S.jsx)(el,{onClose:()=>n(!1),newsletterId:p,subBrandId:a})]}),s==="bannerTopicPage"&&(0,S.jsxs)(Oo,{title:l,message:t,variant:e,className:r,mode:m,children:[(0,S.jsx)(dt,{automationId:"bannerTopicPageNewsletterButton",size:"medium",variant:m=="dark"?"secondary-filled":"primary-filled",onClick:()=>h({eventName:"newsletter_module",isButtonAnchor:i}),url:g,buttonLikeAnchor:i,target:"_blank",dataName:"subscribe-banner",dataActionType:"sign-up",children:o}),d&&(0,S.jsx)(el,{onClose:()=>n(!1),newsletterId:p,subBrandId:a})]})]})},bx=()=>{switch(Xr()){case"aibusiness":case"iot":return"STAY UPDATED";case"informationweek":case"darkreading":return"Newsletter Sign-Up";case"beefmagazine":case"feedstuffs":case"nationalhogfarmer":case"naturalproductsinsider":case"foodbeverageinsider":case"newhope":case"batterytech":case"designnews":case"powderbulksolids":case"packagingdigest":case"plasticstoday":case"mddi":return"Subscribe Today";case"constructionext":case"insideselfstorage":return"Sign Up Today";case"gamedeveloper":return"Stay Updated";case"bioprocessinternational":return"Subscribe";default:return"Subscribe"}};export{Ra as a,ux as b,vx as c,ee as d,At as e,_x as f,Io as g,ty as h};
&(r=ie(r,"video"))),o.native&&(i=re(r||(t||e)));var a=Object.assign({},t,r,i);n.push(a)}})),n}),"checkAdUnitSetup");function se(e){var n=l.K[e]().filter(a.bind.call(a.adUnitsFilter,this,l.K.getAdUnitCodes())),t=l.K.getLastAuctionId();return n.map((function(e){return e.adUnitCode})).filter(a.uniques).map((function(e){return n.filter((function(n){return n.auctionId===t&&n.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return(0,i.Z)({},e[0].adUnitCode,{bids:e})})).reduce((function(e,n){return Object.assign(e,n)}),{})}function de(e,n,t){var r=n.querySelector(t);e.parentNode&&e.parentNode===r||(0,a.insertElement)(e,n,t)}Z.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,a.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var n=Z.getAdserverTargetingForAdUnitCode(e);return(0,a.transformAdServerTargetingObj)(n)}(0,a.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Z.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var n=l.K.getAllBidsForAdUnitCode(e).filter(B.TL);return n.length?n.reduce(a.getHighestCpm):{}}(0,a.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Z.getAdserverTargetingForAdUnitCode=function(e){return Z.getAdserverTargeting(e)[e]},Z.getAdserverTargeting=function(e){return(0,a.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),B.q0.getAllTargeting(e)},Z.getConsentMetadata=function(){return(0,a.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:D.rp.getConsentMeta(),usp:D.nX.getConsentMeta(),gpp:D.TJ.getConsentMeta(),coppa:!!v.vc.getConfig("coppa")}},Z.getNoBids=function(){return(0,a.logInfo)("Invoking pbjs.getNoBids",arguments),se("getNoBids")},Z.getNoBidsForAdUnitCode=function(e){return{bids:l.K.getNoBids().filter((function(n){return n.adUnitCode===e}))}},Z.getBidResponses=function(){return(0,a.logInfo)("Invoking pbjs.getBidResponses",arguments),se("getBidsReceived")},Z.getBidResponsesForAdUnitCode=function(e){return{bids:l.K.getBidsReceived().filter((function(n){return n.adUnitCode===e}))}},Z.setTargetingForGPTAsync=function(e,n){if((0,a.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,a.isGptPubadsDefined)()){var t=B.q0.getAllTargeting(e);B.q0.resetPresetTargeting(e,n),B.q0.setTargetingForGPT(t,n),Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(n){"hb_adid"===n&&l.K.setStatusForBids(t[e][n],f.UE.CK)}))})),s.emit(L,t)}else(0,a.logError)("window.googletag is not defined on the page")},Z.setTargetingForAst=function(e){(0,a.logInfo)("Invoking pbjs.setTargetingForAn",arguments),B.q0.isApntagDefined()?(B.q0.setTargetingForAst(e),s.emit(L,B.q0.getAllTargeting())):(0,a.logError)("window.apntag is not defined on the page")},Z.renderAd=(0,k.z3)("async",(function(e,n,t){if((0,a.logInfo)("Invoking pbjs.renderAd",arguments),(0,a.logMessage)("Calling renderAd with adId :"+n),n)try{var r=l.K.findBidByAdId(n);if(!r){var i="Error trying to write ad. Cannot find ad by given id : ".concat(n);return void y({reason:J,message:i,id:n})}if(r.status===f.UE.fe&&((0,a.logWarn)("Ad id ".concat(r.adId," has been rendered before")),s.emit(K,r),(0,u.Z)(v.vc.getConfig("auctionOptions"),"suppressStaleRender")))return;if(r.ad=(0,a.replaceAuctionPrice)(r.ad,r.originalCpm||r.cpm),r.adUrl=(0,a.replaceAuctionPrice)(r.adUrl,r.originalCpm||r.cpm),t&&t.clickThrough){var o=t.clickThrough;r.ad=(0,a.replaceClickThrough)(r.ad,o),r.adUrl=(0,a.replaceClickThrough)(r.adUrl,o)}l.K.addWinningBid(r),s.emit(F,r);var c=r.height,d=r.width,g=r.ad,h=r.mediaType,m=r.adUrl,b=r.renderer,E=r.adUnitCode,C=Z.adUnits.filter((function(e){return e.code===E})),A=Z.videoModule;if(C.video&&A)return void A.renderBid(C.video.divId,r);if(!e){var I="Error trying to write ad Id :".concat(n," to the page. Missing document");return void y({reason:Y,message:I,id:n})}var T=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if((0,a.insertElement)(T,e,"html"),(0,p.Pd)(b))(0,p._U)(b,r,e),de(T,e,"html"),w({doc:e,bid:r,id:n});else if(e===document&&!(0,a.inIframe)()||"video"===h){var O="Error trying to write ad. Ad render call ad id ".concat(n," was prevented from writing to the main document.");y({reason:G,message:O,bid:r,id:n})}else if(g)e.write(g),e.close(),X(e,d,c),de(T,e,"html"),(0,a.callBurl)(r),w({doc:e,bid:r,id:n});else if(m){var S=(0,a.createInvisibleIframe)();S.height=c,S.width=d,S.style.display="inline",S.style.overflow="hidden",S.src=m,(0,a.insertElement)(S,e,"body"),X(e,d,c),de(T,e,"html"),(0,a.callBurl)(r),w({doc:e,bid:r,id:n})}else{var B="Error trying to write ad. No ad for bid response id: ".concat(n);y({reason:V,message:B,bid:r,id:n})}}catch(e){var k="Error trying to write ad Id :".concat(n," to the page:").concat(e.message);y({reason:Q,message:k,id:n})}else{var U="Error trying to write ad Id :".concat(n," to the page. Missing adId");y({reason:Y,message:U,id:n})}})),Z.removeAdUnit=function(e){((0,a.logInfo)("Invoking pbjs.removeAdUnit",arguments),e)?((0,a.isArray)(e)?e:[e]).forEach((function(e){for(var n=Z.adUnits.length-1;n>=0;n--)Z.adUnits[n].code===e&&Z.adUnits.splice(n,1)})):Z.adUnits=[]},Z.requestBids=(ue=(0,k.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,t=e.timeout,i=e.adUnits,o=e.adUnitCodes,u=e.labels,c=e.auctionId,d=e.ttlBuffer,f=e.ortb2,l=e.metrics,p=e.defer;s.emit(z);var h=t||v.vc.getConfig("bidderTimeout");(0,a.logInfo)("Invoking pbjs.requestBids",arguments),o&&o.length?i=i.filter((function(e){return(0,g.q9)(o,e.code)})):o=i&&i.map((function(e){return e.code}));var m={global:(0,a.mergeDeep)({},v.vc.getAnyConfig("ortb2")||{},f||{}),bidder:Object.fromEntries(Object.entries(v.vc.getBidderConfig()).map((function(e){var n=(0,r.Z)(e,2);return[n[0],n[1].ortb2]})).filter((function(e){var n=(0,r.Z)(e,2);return n[0],null!=n[1]})))};return(0,x.S)(_.Z.resolve(m.global)).then((function(e){return m.global=e,fe({bidsBackHandler:n,timeout:h,adUnits:i,adUnitCodes:o,labels:u,auctionId:c,ttlBuffer:d,ortb2Fragments:m,metrics:l,defer:p})}))}),"requestBids"),(0,k.IF)(ue,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.adUnits||Z.adUnits;return e.adUnits=(0,a.isArray)(n)?n.slice():[n],e.metrics=(0,q.V6)(),e.metrics.checkpoint("requestBids"),e.defer=(0,_.P)({promiseFactory:function(e){return new Promise(e)}}),ue.call(this,e),e.defer.promise})));var fe=(0,k.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,t=e.timeout,r=e.adUnits,i=e.ttlBuffer,o=e.adUnitCodes,u=e.labels,s=e.auctionId,d=e.ortb2Fragments,f=e.metrics,p=e.defer,h=(0,D.uV)(v.vc.getConfig("s2sConfig")||[]);function m(e,t,r){if("function"==typeof n)try{n(e,t,r)}catch(e){(0,a.logError)("Error executing bidsBackHandler",null,e)}p.resolve({bids:e,timedOut:t,auctionId:r})}if((r=(0,q.Bf)(f).measureTime("requestBids.validate",(function(){return ce(r)}))).forEach((function(e){var n,t,r=Object.keys(e.mediaTypes||{banner:"banner"}),o=e.bids.map((function(e){return e.bidder})),u=D.ZP.bidderRegistry,s=o.filter((function(e){return!h.has(e)})),d=(null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t?void 0:t.tid)||(0,a.generateUUID)();e.transactionId=d,null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),(0,c.N)(e,"ortb2Imp.ext.tid",d),s.forEach((function(n){var t=u[n],i=t&&t.getSpec&&t.getSpec(),o=i&&i.supportedMediaTypes||["banner"];r.some((function(e){return(0,g.q9)(o,e)}))?j.f.incrementBidderRequestsCounter(e.code,n):((0,a.logWarn)((0,a.unsupportedBidderMessage)(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),j.f.incrementRequestsCounter(e.code)})),r&&0!==r.length){var b=l.K.createAuction({adUnits:r,adUnitCodes:o,callback:m,cbTimeout:t,labels:u,auctionId:s,ortb2Fragments:d,metrics:f}),y=r.length;y>15&&(0,a.logInfo)("Current auction ".concat(b.getAuctionId()," contains ").concat(y," adUnits."),r),o.forEach((function(e){return B.q0.setLatestAuctionForAdUnit(e,b.getAuctionId())})),b.callBids()}else(0,a.logMessage)("No adUnits configured. No bids requested."),m()}),"startAuction");Z.requestBids.before((function(e,n){function t(e){for(var n;n=e.shift();)n()}t(P.Ld),t(le),e.call(this,n)}),49),Z.addAdUnits=function(e){(0,a.logInfo)("Invoking pbjs.addAdUnits",arguments),Z.adUnits.push.apply(Z.adUnits,(0,a.isArray)(e)?e:[e]),s.emit(W)},Z.onEvent=function(e,n,t){(0,a.logInfo)("Invoking pbjs.onEvent",arguments),(0,a.isFn)(n)?!t||$[e].call(null,t)?s.on(e,n,t):(0,a.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,a.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},Z.offEvent=function(e,n,t){(0,a.logInfo)("Invoking pbjs.offEvent",arguments),t&&!$[e].call(null,t)||s.off(e,n,t)},Z.getEvents=function(){return(0,a.logInfo)("Invoking pbjs.getEvents"),s.getEvents()},Z.registerBidAdapter=function(e,n){(0,a.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{D.ZP.registerBidAdapter(e(),n)}catch(e){(0,a.logError)("Error registering bidder adapter : "+e.message)}},Z.registerAnalyticsAdapter=function(e){(0,a.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{D.ZP.registerAnalyticsAdapter(e)}catch(e){(0,a.logError)("Error registering analytics adapter : "+e.message)}},Z.createBid=function(e){return(0,a.logInfo)("Invoking pbjs.createBid",arguments),(0,R.m)(e)};var le=[],ge=(0,k.z3)("async",(function(e){e&&!(0,a.isEmpty)(e)?((0,a.logInfo)("Invoking pbjs.enableAnalytics for: ",e),D.ZP.enableAnalytics(e)):(0,a.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");Z.enableAnalytics=function(e){le.push(ge.bind(this,e))},Z.aliasBidder=function(e,n,t){(0,a.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&n?D.ZP.aliasBidAdapter(e,n,t):(0,a.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Z.aliasRegistry=D.ZP.aliasRegistry,v.vc.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete Z.aliasRegistry})),Z.getAllWinningBids=function(){return l.K.getAllWinningBids()},Z.getAllPrebidWinningBids=function(){return l.K.getBidsReceived().filter((function(e){return e.status===f.UE.CK}))},Z.getHighestCpmBids=function(e){return B.q0.getWinningBids(e)},Z.markWinningBidAsUsed=function(e){var n=pe(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");n.length>0&&l.K.addWinningBid(n[0])};var pe=function(e,n){var t=[];return e.adUnitCode&&e.adId?t=l.K.getBidsReceived().filter((function(n){return n.adId===e.adId&&n.adUnitCode===e.adUnitCode})):e.adUnitCode?t=B.q0.getWinningBids(e.adUnitCode):e.adId?t=l.K.getBidsReceived().filter((function(n){return n.adId===e.adId})):(0,a.logWarn)(n),t};function ve(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,a.logError)("Error processing command :","prebid.js",e)}}))}Z.getConfig=v.vc.getAnyConfig,Z.readConfig=v.vc.readAnyConfig,Z.mergeConfig=v.vc.mergeConfig,Z.mergeBidderConfig=v.vc.mergeBidderConfig,Z.setConfig=v.vc.setConfig,Z.setBidderConfig=v.vc.setBidderConfig,Z.que.push((function(){window.addEventListener("message",T,!1)})),Z.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,a.logError)("Error processing command :",e.message,e.stack)}else(0,a.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},Z.que.push=Z.cmd.push,Z.processQueue=function(){k.z3.ready(),ve(Z.que),ve(Z.cmd)},Z.triggerBilling=function(e){var n=pe(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),t=n.find((function(n){return n.requestId===e.requestId}))||n[0];if(n.length>0&&t)try{D.ZP.callBidBillableBidder(t)}catch(e){(0,a.logError)("Error when triggering billing :",e)}else(0,a.logWarn)("The bid provided to triggerBilling did not match any bids received.")}},78640:function(e,n,t){t.d(n,{R:function(){return o},z:function(){return a}});var r=window,i=r.pbjs=r.pbjs||{};function o(){return i}function a(e){i.installedModules.push(e)}i.cmd=i.cmd||[],i.que=i.que||[],r===window&&(r._pbjsGlobals=r._pbjsGlobals||[],r._pbjsGlobals.push("pbjs"))},25102:function(e,n,t){t.d(n,{hh:function(){return a},nH:function(){return s}});var r=t(3193),i=t(64358);function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var t=n.location.protocol;try{t=n.top.location.protocol}catch(e){}return/^\/\//.exec(e)?t+e:"".concat(t,"//").concat(e)}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.noLeadingWww,r=void 0!==t&&t,i=n.noPort,a=void 0!==i&&i;try{e=new URL(o(e))}catch(e){return}return e=a?e.hostname:e.host,r&&e.startsWith("www.")&&(e=e.substring(4)),e}function u(e){try{var n=e.querySelector("link[rel='canonical']");if(null!==n)return n.href}catch(e){}return null}var c,s=function(e){var n,t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){var o=u(i.document),a=i.location.href;return n===o&&a===t||(n=o,t=a,r=e()),r}}((c=window,function(){var e,n,t,s,d=[],f=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(c),l=r.vc.getConfig("maxNestedIframes"),g=!1,p=0,v=!1,h=!1,m=!1;do{var b=e,y=h,w=void 0,E=!1,C=null;h=!1,e=e?e.parent:c;try{w=e.location.href||null}catch(e){E=!0}if(E)if(y){var A=b.context;try{n=C=A.sourceUrl,m=!0,v=!0,e===c.top&&(g=!0),A.canonicalUrl&&(t=A.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var I=b.document.referrer;I&&(C=I,e===c.top&&(g=!0))}catch(e){}!C&&f&&f[p-1]&&(C=f[p-1],e===c.top&&(m=!0)),C&&!v&&(n=C)}else{if(w&&(n=C=w,v=!1,e===c.top)){g=!0;var T=u(e.document);T&&(t=T)}e.context&&e.context.sourceUrl&&(h=!0)}d.push(C),p++}while(e!==c.top&&p<l);d.reverse();try{s=c.top.document.referrer}catch(e){}var O=g||m?n:null,S=r.vc.getConfig("pageUrl")||t||null,B=r.vc.getConfig("pageUrl")||O||o(S,c);return O&&O.indexOf("?")>-1&&-1===B.indexOf("?")&&(B="".concat(B).concat(O.substring(O.indexOf("?")))),{reachedTop:g,isAmp:v,numIframes:p-1,stack:d,topmostLocation:n||null,location:O,canonicalUrl:S,page:B,domain:a(B)||null,ref:s||null,legacy:{reachedTop:g,isAmp:v,numIframes:p-1,stack:d,referer:n||null,canonicalUrl:S}}}))},15164:function(e,n,t){t.d(n,{Dp:function(){return g},Ld:function(){return v},c$:function(){return p},df:function(){return m},eA:function(){return b}});var r=t(4942),i=t(64358),o=t(55975),a=t(9633),u=t(50571),c=t(16310),s=t(74947),d=t(3193),f=t(51039),l=t(10286),g="html5",p="cookie",v=[];function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.moduleName,t=e.moduleType,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=o.isAllowed,m=void 0===h?u.xD:h;function b(e,i){var o=n,u=d.vc.getCurrentBidder();return u&&t===a.UL&&f.ZP.aliasRegistry[u]===n&&(o=u),e({valid:m(s.S1,(0,l.T)(t,o,(0,r.Z)({},c.bL,i)))})}function y(e,n,t){if(!t||"function"!=typeof t)return b(e,n);v.push((function(){var r=b(e,n);t(r)}))}var w=function(e,n,t,r,i,o){return y((function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",u=t&&""!==t?" ;expires=".concat(t):"",c=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(n)).concat(u,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(c)}}),p,o)},E=function(e,n){return y((function(n){if(n&&n.valid){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),p,n)},C=function(e){return y((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),g,e)},A=function(e){return y((function(e){return!(!e||!e.valid)&&(0,i.checkCookieSupport)()}),p,e)},I=function(e,n,t){return y((function(t){t&&t.valid&&S()&&window.localStorage.setItem(e,n)}),g,t)},T=function(e,n){return y((function(n){return n&&n.valid&&S()?window.localStorage.getItem(e):null}),g,n)},O=function(e,n){return y((function(n){n&&n.valid&&S()&&window.localStorage.removeItem(e)}),g,n)},S=function(e){return y((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,i.logError)("Local storage api disabled")}return!1}),g,e)},B=function(e,n){return y((function(n){if(n&&n.valid){var t=[];if((0,i.hasDeviceAccess)())for(var r=document.cookie.split(";");r.length;){var o=r.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(o.slice(a+1)))}return t}}),p,n)};return{setCookie:w,getCookie:E,localStorageIsEnabled:C,cookiesAreEnabled:A,setDataInLocalStorage:I,getDataFromLocalStorage:T,removeDataFromLocalStorage:O,hasLocalStorage:S,findSimilarCookies:B}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.moduleType,t=e.moduleName,r=e.bidderCode;function i(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return r?((n&&n!==a.UL||t)&&i(),n=a.UL,t=r):t&&n||i(),h({moduleType:n,moduleName:t})}function b(e){return h({moduleName:e,moduleType:a.wu})}(0,u.oB)(s.S1,"deviceAccess config",(function(){if(!(0,i.hasDeviceAccess)())return{allow:!1}})),(0,u.oB)(s.S1,"bidderSettings.*.storageAllowed",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.S;if(e[c.$k]===a.UL){var t=n.get(e[c.Ki],"storageAllowed");if(t&&!0!==t){var r=e[c.bL];t=Array.isArray(t)?t.some((function(e){return e===r})):t===r}else t=!!t;return t?void 0:{allow:t}}}))},18621:function(e,n,t){t.d(n,{TL:function(){return C},bP:function(){return I},ol:function(){return A},q0:function(){return T}});var r=t(4942),i=t(89062),o=t(64358),a=t(20265),u=t(3193),c=t(70059),s=t(78653),d=t(24679),f=t(92797),l=t(55975),g=t(34614),p=t(5644),v=[],h=1;u.vc.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?h=e.ttlBuffer:(0,o.logError)("Invalid value for ttlBuffer",e.ttlBuffer)}));var m="targetingControls.allowTargetingKeys",b="targetingControls.addTargetingKeys",y='Only one of "'.concat(m,'" or "').concat(b,'" can be set'),w=Object.keys(p.TD).map((function(e){return p.TD[e]})),E={isActualBid:function(e){return e.getStatusCode()===p.Q_.GOOD},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:h))>(0,o.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!(0,g.q9)([p.UE.fe],e.status)||!e.status)}};function C(e){return!Object.values(E).some((function(n){return!n(e)}))}var A=(0,f.z3)("sync",(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var a=[],c=u.vc.getConfig("sendBidsControl.dealPrioritization"),s=(0,o.groupBy)(e,"adUnitCode");return Object.keys(s).forEach((function(e){var r=[],u=(0,o.groupBy)(s[e],"bidderCode");Object.keys(u).forEach((function(e){return r.push(u[e].reduce(n))})),t>0?(r=c?r.sort(I(!0)):r.sort((function(e,n){return n.cpm-e.cpm})),a.push.apply(a,(0,i.Z)(r.slice(0,t)))):a.push.apply(a,(0,i.Z)(r))})),a}return e}));function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t){return void 0!==n.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===n.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:e?t.cpm-n.cpm:t.adserverTargeting.hb_pb-n.adserverTargeting.hb_pb}}var T=function(e){var n={},t={};function s(e,n){return e.adserverTargeting&&n&&((0,o.isArray)(n)&&(0,g.q9)(n,e.adUnitCode)||"string"==typeof n&&e.adUnitCode===n)}function f(e,n){if(!0===u.vc.getConfig("targetingControls.alwaysIncludeDeals")){var t=w.concat(c.xc);return A(n,o.getHighestCpm).map((function(n){if(n.dealId&&s(n,e))return(0,r.Z)({},n.adUnitCode,q(n,t.filter((function(e){return void 0!==n.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function h(e,n){var t=Object.assign({},p.TD,p.FY),r=Object.keys(t),i={};(0,o.logInfo)("allowTargetingKeys - allowed keys [ ".concat(n.map((function(e){return t[e]})).join(", ")," ]")),e.map((function(e){var o=Object.keys(e)[0],a=e[o].filter((function(e){var o=Object.keys(e)[0],a=0===r.filter((function(e){return 0===o.indexOf(t[e])})).length||(0,g.sE)(n,(function(e){var n=t[e];return 0===o.indexOf(n)}));return i[o]=!a,a}));e[o]=a}));var a=Object.keys(i).filter((function(e){return i[e]}));return(0,o.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function E(e,n){var t=(0,o.deepClone)(e);return Object.keys(t).map((function(e){return{adUnitCode:e,adserverTargeting:t[e]}})).sort(I()).reduce((function(e,r,i,a){var u,c=(u=r.adserverTargeting,Object.keys(u).reduce((function(e,n){return e+"".concat(n,"%3d").concat(encodeURIComponent(u[n]),"%26")}),""));i+1===a.length&&(c=c.slice(0,-3));var s=r.adUnitCode,d=c.length;return d<=n?(n-=d,(0,o.logInfo)("AdUnit '".concat(s,"' auction keys comprised of ").concat(d," characters.  Deducted from running threshold; new limit is ").concat(n),t[s]),e[s]=t[s]):(0,o.logWarn)("The following keys for adUnitCode '".concat(s,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(d,", the current allotted amount was ").concat(n,".\n"),t[s]),i+1===a.length&&0===Object.keys(e).length&&(0,o.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function T(e){var n=e.map((function(e){return(0,r.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return(0,r.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,n){return Object.assign(n,e)}),{}))})).reduce((function(e,n){var t=Object.keys(n)[0];return e[t]=Object.assign({},e[t],n[t]),e}),{});return n}function O(n){return"string"==typeof n?[n]:(0,o.isArray)(n)?n:e.getAdUnitCodes()||[]}function S(){var n=e.getBidsReceived();if(u.vc.getConfig("useBidCache")){var r=u.vc.getConfig("bidCacheFilterFunction");"function"==typeof r&&(n=n.filter((function(e){return t[e.adUnitCode]===e.auctionId||!!r(e)})))}else n=n.filter((function(e){return t[e.adUnitCode]===e.auctionId}));return n=n.filter((function(e){return(0,a.Z)(e,"video.context")!==d.Oh})).filter(C),A(n,o.getOldestHighestCpmBid)}function B(e,t){var o=n.getWinningBids(e,t),a=k();return o=o.map((function(e){return(0,r.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(n){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===a.indexOf(n)})).reduce((function(n,t){var o=[e.adserverTargeting[t]],a=(0,r.Z)({},t.substring(0,20),o);if(t===p.TD.DEAL){var u="".concat(t,"_").concat(e.bidderCode).substring(0,20),c=(0,r.Z)({},u,o);return[].concat((0,i.Z)(n),[a,c])}return[].concat((0,i.Z)(n),[a])}),[]))})),o}function k(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(w).filter(o.uniques)}function U(e,n,t,r){return Object.keys(n.adserverTargeting).filter(j()).forEach((function(t){e.length&&e.filter(function(e){return function(t){return t.adUnitCode===n.adUnitCode&&t.adserverTargeting[e]}}(t)).forEach(function(e){return function(t){(0,o.isArray)(t.adserverTargeting[e])||(t.adserverTargeting[e]=[t.adserverTargeting[e]]),t.adserverTargeting[e]=t.adserverTargeting[e].concat(n.adserverTargeting[e]).filter(o.uniques),delete n.adserverTargeting[e]}}(t))})),e.push(n),e}function j(){var e=k();return e=e.concat(c.xc),function(n){return-1===e.indexOf(n)}}function R(e){return(0,r.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(j()).map((function(n){return(0,r.Z)({},n.substring(0,20),[e.adserverTargeting[n]])})))}function P(e,n){return n.filter((function(n){return(0,g.q9)(e,n.adUnitCode)})).map((function(e){return Object.assign({},e)})).reduce(U,[]).map(R).filter((function(e){return e}))}function D(e,n){var t=w.concat(c.xc),i=u.vc.getConfig("sendBidsControl.bidLimit"),a=A(n,o.getHighestCpm,i),d=u.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),f=d?d.map((function(e){return p.TD[e]})):t;return a.map((function(n){if(s(n,e))return(0,r.Z)({},n.adUnitCode,q(n,t.filter((function(e){return void 0!==n.adserverTargeting[e]&&-1!==f.indexOf(e)}))))})).filter((function(e){return e}))}function q(e,n){return n.map((function(n){return(0,r.Z)({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[n]])}))}function _(n){function t(e){return(0,a.Z)(e,p.k2.xn)}return e.getAdUnits().filter((function(e){return(0,g.q9)(n,e.code)&&t(e)})).map((function(e){return(0,r.Z)({},e.code,function(e){var n=t(e);return Object.keys(n).map((function(e){return(0,o.isStr)(n[e])&&(n[e]=n[e].split(",").map((function(e){return e.trim()}))),(0,o.isArray)(n[e])||(n[e]=[n[e]]),(0,r.Z)({},e,n[e])}))}(e))}))}return n.setLatestAuctionForAdUnit=function(e,n){t[e]=n},n.resetPresetTargeting=function(n,t){if((0,o.isGptPubadsDefined)()){var r=O(n),i=e.getAdUnits().filter((function(e){return(0,g.q9)(r,e.code)})),a=v.reduce((function(e,n){return e[n]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var n=(0,o.isFn)(t)&&t(e);i.forEach((function(t){(t.code===e.getAdUnitPath()||t.code===e.getSlotElementId()||(0,o.isFn)(n)&&n(t.code))&&e.updateTargetingFromMap(a)}))}))}},n.resetPresetTargetingAST=function(e){O(e).forEach((function(e){var n=window.apntag.getTag(e);if(n&&n.keywords){var t=Object.keys(n.keywords),r={};t.forEach((function(e){(0,g.q9)(v,e.toLowerCase())||(r[e]=n.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},n.getAllTargeting=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S(),t=O(e),r=B(t,n).concat(P(t,n)).concat(u.vc.getConfig("enableSendAllBids")?D(t,n):f(t,n)).concat(_(t));r.map((function(e){Object.keys(e).map((function(n){e[n].map((function(e){-1===v.indexOf(Object.keys(e)[0])&&(v=Object.keys(e).concat(v))}))}))}));var i=Object.keys(Object.assign({},p.kF,p.FY)),a=u.vc.getConfig(m),c=u.vc.getConfig(b);if(null!=c&&null!=a)throw new Error(y);a=null!=c?i.concat(c):a||i,Array.isArray(a)&&a.length>0&&(r=h(r,a)),r=T(r);var s=u.vc.getConfig("targetingControls.auctionKeyMaxChars");return s&&((0,o.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(s," characters.  Running checks on auction keys...")),r=E(r,s)),t.forEach((function(e){r[e]||(r[e]={})})),r},u.vc.getConfig("targetingControls",(function(e){null!=(0,a.Z)(e,m)&&null!=(0,a.Z)(e,b)&&(0,o.logError)(y)})),n.setTargetingForGPT=function(e,n){window.googletag.pubads().getSlots().forEach((function(t){Object.keys(e).filter(n?n(t):(0,o.isAdUnitCodeMatchingSlot)(t)).forEach((function(n){Object.keys(e[n]).forEach((function(t){var r=e[n][t];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[n][t]=r})),(0,o.logMessage)("Attempting to set targeting-map for slot: ".concat(t.getSlotElementId()," with targeting-map:"),e[n]),t.updateTargetingFromMap(e[n])}))}))},n.getWinningBids=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S(),t=O(e);return n.filter((function(e){return(0,g.q9)(t,e.adUnitCode)})).filter((function(e){return!0===l.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(o.uniques).map((function(e){return n.filter((function(n){return n.adUnitCode===e?n:null})).reduce(o.getHighestCpm)}))},n.setTargetingForAst=function(e){var t=n.getAllTargeting(e);try{n.resetPresetTargetingAST(e)}catch(e){(0,o.logError)("unable to reset targeting for AST"+e)}Object.keys(t).forEach((function(e){return Object.keys(t[e]).forEach((function(n){if((0,o.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(n," value: ").concat(t[e][n])),(0,o.isStr)(t[e][n])||(0,o.isArray)(t[e][n])){var r={};n.search(/pt[0-9]/)<0?r[n.toUpperCase()]=t[e][n]:r[n]=t[e][n],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},n.isApntagDefined=function(){if(window.apntag&&(0,o.isFn)(window.apntag.setKeywords))return!0},n}(s.K)},11974:function(e,n,t){t.d(n,{k_:function(){return h},oS:function(){return p}});var r=t(4942),i=t(93324),o=t(64358),a=t(3193),u=t(34614),c=t(15164),s=t(50571),d=t(74947),f=t(16310),l=t(9633),g=t(10286),p={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0};a.vc.setDefaults({userSync:(0,o.deepClone)(p)});var v=(0,c.eA)("usersync");var h=function(e){var n={},t={image:[],iframe:[]},c=new Set,s={},p={image:!0,iframe:!1},v=e.config;function h(){if(v.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!p.iframe)return;m(t.iframe,(function(e){var n=(0,i.Z)(e,2),r=n[0],a=n[1];(0,o.logMessage)("Invoking iframe user sync for bidder: ".concat(r)),(0,o.insertUserSyncIframe)(a),function(e,n){e.image=e.image.filter((function(e){return e[0]!==n}))}(t,r)}))}(),function(){if(!p.image)return;m(t.image,(function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];(0,o.logMessage)("Invoking image pixel user sync for bidder: ".concat(t)),(0,o.triggerPixel)(r)}))}()}catch(e){return(0,o.logError)("Error firing user syncs",e)}t={image:[],iframe:[]}}}function m(e,n){(0,o.shuffle)(e).forEach(n)}function b(e,n){var t=v.filterSettings;if(function(e,n){if(e.all&&e[n])return(0,o.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(n,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var t=e.all?e.all:e[n],r=e.all?"all":n;if(!t)return!1;var i=t.filter,a=t.bidders;if(i&&"include"!==i&&"exclude"!==i)return(0,o.logWarn)('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1;if("*"!==a&&!(Array.isArray(a)&&a.length>0&&a.every((function(e){return(0,o.isStr)(e)&&"*"!==e}))))return(0,o.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1;return!0}(t,e)){p[e]=!0;var r=t.all?t.all:t[e],i="*"===r.bidders?[n]:r.bidders,a={include:function(e,n){return!(0,u.q9)(e,n)},exclude:function(e,n){return(0,u.q9)(e,n)}};return a[r.filter||"include"](i,n)}return!p[e]}return a.vc.getConfig("userSync",(function(e){if(e.userSync){var n=e.userSync.filterSettings;(0,o.isPlainObject)(n)&&(n.image||n.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}v=Object.assign(v,e.userSync)})),e.regRule(d.K$,"userSync config",(function(e){if(!v.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[f.$k]===l.UL){var t=e[f.cx],r=e[f.bp];if(!n.canBidderRegisterSync(t,r))return{allow:!1,reason:"".concat(t," syncs are not enabled for ").concat(r)}}})),n.registerSync=function(n,i,a){var u;return c.has(i)?(0,o.logMessage)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):v.syncEnabled&&(0,o.isArray)(t[n])?i?0!==v.syncsPerBidder&&Number(s[i])>=v.syncsPerBidder?(0,o.logWarn)('Number of user syncs exceeded for "'.concat(i,'"')):void(e.isAllowed(d.K$,(0,g.T)(l.UL,i,(u={},(0,r.Z)(u,f.cx,n),(0,r.Z)(u,f.IV,a),u)))&&(t[n].push([i,a]),s=function(e,n){return e[n]?e[n]+=1:e[n]=1,e}(s,i))):(0,o.logWarn)("Bidder is required for registering sync"):(0,o.logWarn)('User sync type "'.concat(n,'" not supported'))},n.bidderDone=c.add.bind(c),n.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(h,Number(e));h()},n.triggerUserSyncs=function(){v.enableOverride&&n.syncUsers()},n.canBidderRegisterSync=function(e,n){return!v.filterSettings||!b(e,n)},n}(Object.defineProperties({config:a.vc.getConfig("userSync"),isAllowed:s.xD,regRule:s.oB},{browserSupportsCookies:{get:function(){return!(0,o.isSafariBrowser)()&&v.cookiesAreEnabled()}}}))},64358:function(e,n,t){t.r(n),t.d(n,{_each:function(){return le},_map:function(){return pe},_setEventEmitter:function(){return I},adUnitsFilter:function(){return Ne},bind:function(){return j},buildUrl:function(){return An},callBurl:function(){return ye},checkCookieSupport:function(){return Ve},chunk:function(){return hn},cleanObj:function(){return dn},compareOn:function(){return yn},contains:function(){return ge},convertCamelToUnderscore:function(){return sn},convertTypes:function(){return gn},createInvisibleIframe:function(){return ne},createTrackPixelHtml:function(){return Ce},createTrackPixelIframeHtml:function(){return Ae},cyrb53Hash:function(){return On},debugTurnedOn:function(){return ee},deepAccess:function(){return v.Z},deepClone:function(){return Me},deepEqual:function(){return In},deepSetValue:function(){return h.N},delayExecution:function(){return Qe},escapeUnsafeChars:function(){return Rn},fill:function(){return vn},flatten:function(){return Oe},formatQS:function(){return En},generateUUID:function(){return D},getAdUnitSizes:function(){return N},getBidIdParameter:function(){return q},getBidRequest:function(){return Se},getBidderCodes:function(){return je},getDNT:function(){return en},getDefinedParams:function(){return Ye},getGptSlotForAdUnitCode:function(){return on},getGptSlotInfoForAdUnitCode:function(){return an},getHighestCpm:function(){return De},getKeyByValue:function(){return Ue},getKeys:function(){return Be},getLatestHighestCpmBid:function(){return _e},getMaxValueFromArray:function(){return bn},getMinValueFromArray:function(){return mn},getOldestHighestCpmBid:function(){return qe},getParameterByName:function(){return te},getPerformanceNow:function(){return He},getPrebidInternal:function(){return B},getUniqueIdentifierStr:function(){return P},getUserConfiguredParams:function(){return Xe},getValue:function(){return ke},getValueString:function(){return Ie},getWindowFromDocument:function(){return Sn},getWindowLocation:function(){return H},getWindowSelf:function(){return K},getWindowTop:function(){return L},groupBy:function(){return Je},hasConsoleLogger:function(){return X},hasDeviceAccess:function(){return Ge},hasOwn:function(){return ve},inIframe:function(){return We},insertElement:function(){return he},insertHtmlIntoIframe:function(){return we},insertUserSyncIframe:function(){return Ee},internal:function(){return O},isA:function(){return re},isAdUnitCodeMatchingSlot:function(){return tn},isApnGetTagDefined:function(){return Pe},isArray:function(){return ae},isArrayOfNums:function(){return pn},isBoolean:function(){return se},isEmpty:function(){return de},isEmptyStr:function(){return fe},isFn:function(){return ie},isGptPubadsDefined:function(){return Re},isInteger:function(){return cn},isNumber:function(){return ue},isPlainObject:function(){return ce},isSafariBrowser:function(){return Fe},isSlotMatchingAdUnitCode:function(){return rn},isStr:function(){return oe},isValidMediaTypes:function(){return $e},logError:function(){return J},logInfo:function(){return V},logMessage:function(){return G},logWarn:function(){return Q},memoize:function(){return kn},mergeDeep:function(){return Tn},parseGPTSingleSizeArray:function(){return W},parseGPTSingleSizeArrayToRtbSize:function(){return F},parseQS:function(){return wn},parseQueryStringParameters:function(){return x},parseSizesInput:function(){return M},parseUrl:function(){return Cn},pick:function(){return fn},prefixLog:function(){return Y},replaceAuctionPrice:function(){return ze},replaceClickThrough:function(){return Le},safeJSONParse:function(){return Bn},setScriptAttributes:function(){return Un},shuffle:function(){return Ze},timestamp:function(){return Ke},transformAdServerTargetingObj:function(){return Z},transformBidderParamKeywords:function(){return ln},triggerPixel:function(){return be},tryAppendQueryString:function(){return _},uniques:function(){return Te},unsupportedBidderMessage:function(){return un},waitForElementToLoad:function(){return me}});var r,i=t(93324),o=t(89062),a=t(4942),u=t(71002),c=t(3193),s=t(77079),d=t.n(s),f=t(34614),l=t(5644),g=t(68792),p=t(78640),v=t(20265),h=t(96475),m=Object.prototype.toString,b=Boolean(window.console),y=Boolean(b&&window.console.log),w=Boolean(b&&window.console.info),E=Boolean(b&&window.console.warn),C=Boolean(b&&window.console.error),A=(0,p.R)();function I(e){r=e}function T(){null!=r&&r.apply(void 0,arguments)}var O={checkCookieSupport:Ve,createTrackPixelIframeHtml:Ae,getWindowSelf:K,getWindowTop:L,getWindowLocation:H,insertUserSyncIframe:Ee,insertElement:he,isFn:ie,triggerPixel:be,logError:J,logWarn:Q,logMessage:G,logInfo:V,parseQS:wn,formatQS:En,deepEqual:In},S={};function B(){return S}var k,U={},j=function(e,n){return n}.bind(null,1,U)()===U?Function.prototype.bind:function(e){var n=this,t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(e,t.concat(Array.prototype.slice.call(arguments)))}},R=(k=0,function(){return++k});function P(){return R()+Math.random().toString(16).substr(2)}function D(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,D)}function q(e,n){return n&&n[e]?n[e]:""}function _(e,n,t){return t?e+n+"="+encodeURIComponent(t)+"&":e}function x(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n=n.replace(/&$/,"")}function Z(e){return e&&Object.getOwnPropertyNames(e).length>0?Be(e).map((function(n){return"".concat(n,"=").concat(encodeURIComponent(ke(e,n)))})).join("&"):""}function N(e){if(e){var n=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var t=e.mediaTypes.banner.sizes;Array.isArray(t[0])?n=t:n.push(t)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?n=e.sizes:n.push(e.sizes));return n}}function M(e){var n=[];if("string"==typeof e){var t=e.split(","),r=/^(\d)+x(\d)+$/i;if(t)for(var i in t)ve(t,i)&&t[i].match(r)&&n.push(t[i])}else if("object"===(0,u.Z)(e)){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])n.push(W(e));else for(var a=0;a<o;a++)n.push(W(e[a]))}return n}function W(e){if(z(e))return e[0]+"x"+e[1]}function F(e){if(z(e))return{w:e[0],h:e[1]}}function z(e){return ae(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function L(){return window.top}function K(){return window.self}function H(){return window.location}function G(){ee()&&y&&console.log.apply(console,$(arguments,"MESSAGE:"))}function V(){ee()&&w&&console.info.apply(console,$(arguments,"INFO:"))}function Q(){ee()&&E&&console.warn.apply(console,$(arguments,"WARNING:")),T(l.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function J(){ee()&&C&&console.error.apply(console,$(arguments,"ERROR:")),T(l.FP.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function Y(e){function n(n){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.apply(void 0,[e].concat(r))}}return{logError:n(J),logWarn:n(Q),logMessage:n(G),logInfo:n(V)}}function $(e,n){e=[].slice.call(e);var t=c.vc.getCurrentBidder();return n&&e.unshift(n),t&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(t?"%c".concat(t):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function X(){return y}function ee(){return!!c.vc.getConfig("debug")}function ne(){var e=document.createElement("iframe");return e.id=P(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function te(e){return wn(H().search)[e]||""}function re(e,n){return m.call(e)==="[object "+n+"]"}function ie(e){return re(e,"Function")}function oe(e){return re(e,"String")}function ae(e){return re(e,"Array")}function ue(e){return re(e,"Number")}function ce(e){return re(e,"Object")}function se(e){return re(e,"Boolean")}function de(e){if(!e)return!0;if(ae(e)||oe(e))return!(e.length>0);for(var n in e)if(hasOwnProperty.call(e,n))return!1;return!0}function fe(e){return oe(e)&&(!e||0===e.length)}function le(e,n){if(!de(e)){if(ie(e.forEach))return e.forEach(n,this);var t=0,r=e.length;if(r>0)for(;t<r;t++)n(e[t],t,e);else for(t in e)hasOwnProperty.call(e,t)&&n.call(this,e[t],t)}}function ge(e,n){if(de(e))return!1;if(ie(e.indexOf))return-1!==e.indexOf(n);for(var t=e.length;t--;)if(e[t]===n)return!0;return!1}function pe(e,n){if(de(e))return[];if(ie(e.map))return e.map(n);var t=[];return le(e,(function(r,i){t.push(n(r,i,e))})),t}function ve(e,n){return e.hasOwnProperty?e.hasOwnProperty(n):void 0!==e[n]&&e.constructor.prototype[n]!==e[n]}function he(e,n,t,r){var i;n=n||document,i=t?n.getElementsByTagName(t):n.getElementsByTagName("head");try{if((i=i.length?i:n.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function me(e,n){var t=null;return new g.Z((function(r){var i=function n(){e.removeEventListener("load",n),e.removeEventListener("error",n),null!=t&&window.clearTimeout(t),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=n&&(t=window.setTimeout(i,n))}))}function be(e,n,t){var r=new Image;n&&O.isFn(n)&&me(r,t).then(n),r.src=e}function ye(e){var n=e.source,t=e.burl;n===l.os.YZ&&t&&O.triggerPixel(t)}function we(e){if(e){var n=document.createElement("iframe");n.id=P(),n.width=0,n.height=0,n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.display="none",n.style.height="0px",n.style.width="0px",n.scrolling="no",n.frameBorder="0",n.allowtransparency="true",O.insertElement(n,document,"body"),n.contentWindow.document.open(),n.contentWindow.document.write(e),n.contentWindow.document.close()}}function Ee(e,n,t){var r=O.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;n&&O.isFn(n)&&me(o,t).then(n),O.insertElement(o,document,"html",!0)}function Ce(e){if(!e)return"";var n='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return n+='<img src="'+encodeURI(e)+'"></div>'}function Ae(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(n&&(e=encodeURI(e)),t&&(t='sandbox="'.concat(t,'"')),"<iframe ".concat(t,' id="').concat(P(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function Ie(e,n,t){return null==n?t:oe(n)?n:ue(n)?n.toString():void O.logWarn("Unsuported type for param: "+e+" required type: String")}function Te(e,n,t){return t.indexOf(e)===n}function Oe(e,n){return e.concat(n)}function Se(e,n){var t;if(e)return n.some((function(n){var r=(0,f.sE)(n.bids,(function(n){return["bidId","adId","bid_id"].some((function(t){return n[t]===e}))}));return r&&(t=r),r})),t}function Be(e){return Object.keys(e)}function ke(e,n){return e[n]}function Ue(e,n){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n)return t}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Oe,[])})).reduce(Oe,[]).filter((function(e){return void 0!==e})).filter(Te)}function Re(){if(window.googletag&&ie(window.googletag.pubads)&&ie(window.googletag.pubads().getSlots))return!0}function Pe(){if(window.apntag&&ie(window.apntag.getTag))return!0}var De=xe("timeToRespond",(function(e,n){return e>n})),qe=xe("responseTimestamp",(function(e,n){return e>n})),_e=xe("responseTimestamp",(function(e,n){return e<n}));function xe(e,n){return function(t,r){return t.cpm===r.cpm?n(t[e],r[e])?r:t:t.cpm<r.cpm?r:t}}function Ze(e){for(var n=e.length;n>0;){var t=Math.floor(Math.random()*n),r=e[--n];e[n]=e[t],e[t]=r}return e}function Ne(e,n){return(0,f.q9)(e,n&&n.adUnitCode)}function Me(e){return d()(e)}function We(){try{return O.getWindowSelf()!==O.getWindowTop()}catch(e){return!0}}function Fe(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function ze(e,n){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,n)}function Le(e,n){if(e&&n&&"string"==typeof n)return e.replace(/\${CLICKTHROUGH}/g,n)}function Ke(){return(new Date).getTime()}function He(){return window.performance&&window.performance.now&&window.performance.now()||0}function Ge(){return!1!==c.vc.getConfig("deviceAccess")}function Ve(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Qe(e,n){if(n<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(n));var t=0;return function(){++t===n&&e.apply(this,arguments)}}function Je(e,n){return e.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{})}function Ye(e,n){return n.filter((function(n){return e[n]})).reduce((function(n,t){return Object.assign(n,(0,a.Z)({},t,e[t]))}),{})}function $e(e){var n=["banner","native","video"];return!!Object.keys(e).every((function(e){return(0,f.q9)(n,e)}))&&(!e.video||!e.video.context||(0,f.q9)(["instream","outstream","adpod"],e.video.context))}function Xe(e,n,t){return e.filter((function(e){return e.code===n})).map((function(e){return e.bids})).reduce(Oe,[]).filter((function(e){return e.bidder===t})).map((function(e){return e.params||{}}))}function en(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var nn=function(e,n){return e.getAdUnitPath()===n||e.getSlotElementId()===n};function tn(e){return function(n){return nn(e,n)}}function rn(e){return function(n){return nn(n,e)}}function on(e){var n;return Re()&&(n=(0,f.sE)(window.googletag.pubads().getSlots(),rn(e))),n}function an(e){var n=on(e);return n?{gptSlot:n.getAdUnitPath(),divId:n.getSlotElementId()}:{}}function un(e,n){var t=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(t," ad unit\n    containing bidders that don't support ").concat(t,": ").concat(n,".\n    This bidder won't fetch demand.\n  ")}function cn(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function sn(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,n){return"_"+n.toLowerCase()})).replace(/^_/,"")}function dn(e){return Object.keys(e).reduce((function(n,t){return void 0!==e[t]&&(n[t]=e[t]),n}),{})}function fn(e,n){return"object"!==(0,u.Z)(e)?{}:n.reduce((function(t,r,i){if("function"==typeof r)return t;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var u=e[r];return"function"==typeof n[i+1]&&(u=n[i+1](u,t)),void 0!==u&&(t[o]=u),t}),{})}function ln(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",t=[];return le(e,(function(e,r){if(ae(e)){var i=[];le(e,(function(e){((e=Ie(n+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!oe(e=Ie(n+"."+r,e)))return;e=[e]}t.push({key:r,value:e})})),t}function gn(e,n){return Object.keys(e).forEach((function(t){var r,i;n[t]&&(ie(e[t])?n[t]=e[t](n[t]):n[t]=(r=e[t],i=n[t],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(n[t])&&delete n.key)})),n}function pn(e,n){return ae(e)&&(!n||e.length===n)&&e.every((function(e){return cn(e)}))}function vn(e,n){for(var t=[],r=0;r<n;r++){var i=ce(e)?Me(e):e;t.push(i)}return t}function hn(e,n){for(var t=[],r=0;r<Math.ceil(e.length/n);r++){var i=r*n,o=i+n;t.push(e.slice(i,o))}return t}function mn(e){return Math.min.apply(Math,(0,o.Z)(e))}function bn(e){return Math.max.apply(Math,(0,o.Z)(e))}function yn(e){return function(n,t){return n[e]<t[e]?1:n[e]>t[e]?-1:0}}function wn(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,n){var t=n.split("="),r=(0,i.Z)(t,2),o=r[0],a=r[1];return/\[\]$/.test(o)?(e[o=o.replace("[]","")]=e[o]||[],e[o].push(a)):e[o]=a||"",e}),{}):{}}function En(e){return Object.keys(e).map((function(n){return Array.isArray(e[n])?e[n].map((function(e){return"".concat(n,"[]=").concat(e)})).join("&"):"".concat(n,"=").concat(e[n])})).join("&")}function Cn(e,n){var t=document.createElement("a");n&&"noDecodeWholeURL"in n&&n.noDecodeWholeURL?t.href=e:t.href=decodeURIComponent(e);var r=n&&"decodeSearchAsString"in n&&n.decodeSearchAsString;return{href:t.href,protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname.replace(/^(?!\/)/,"/"),search:r?t.search:O.parseQS(t.search||""),hash:(t.hash||"").replace(/^#/,""),host:t.host||window.location.host}}function An(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(O.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function In(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.checkTypes,i=void 0!==r&&r;if(e===n)return!0;if("object"!==(0,u.Z)(e)||null===e||"object"!==(0,u.Z)(n)||null===n||i&&e.constructor!==n.constructor)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var o in e){if(!n.hasOwnProperty(o))return!1;if(!In(e[o],n[o],{checkTypes:i}))return!1}return!0}function Tn(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(!t.length)return e;var i=t.shift();if(ce(e)&&ce(i)){var u=function(n){ce(i[n])?(e[n]||Object.assign(e,(0,a.Z)({},n,{})),Tn(e[n],i[n])):ae(i[n])?e[n]?ae(e[n])&&i[n].forEach((function(t){for(var r=1,i=0;i<e[n].length;i++)if(In(e[n][i],t)){r=0;break}r&&e[n].push(t)})):Object.assign(e,(0,a.Z)({},n,(0,o.Z)(i[n]))):Object.assign(e,(0,a.Z)({},n,i[n]))};for(var c in i)u(c)}return Tn.apply(void 0,[e].concat(t))}function On(e){for(var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,n){if(ie(Math.imul))return Math.imul(e,n);var t=(4194303&e)*(n|=0);return 4290772992&e&&(t+=(4290772992&e)*n|0),0|t},i=3735928559^t,o=1103547991^t,a=0;a<e.length;a++)i=r(i^(n=e.charCodeAt(a)),2654435761),o=r(o^n,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}function Sn(e){return e?e.defaultView:null}function Bn(e){try{return JSON.parse(e)}catch(e){}}function kn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},t=new Map,r=function(){var r=n.apply(this,arguments);return t.has(r)||t.set(r,e.apply(this,arguments)),t.get(r)};return r.clear=t.clear.bind(t),r}function Un(e,n){for(var t in n)n.hasOwnProperty(t)&&e.setAttribute(t,n[t])}var jn,Rn=(jn={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},function(e){return e.replace(/[<>\b\f\n\r\t\0\u2028\u2029\\]/g,(function(e){return jn[e]}))})},36066:function(e,n,t){t.d(n,{O:function(){return a}});var r=t(78653),i=t(55975),o=t(64358);function a(e,n,t){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.index,s=void 0===c?r.K.index:c,d=u.bs,f=void 0===d?i.S:d;t=t||s.getBidRequest(n);var l=null==n?void 0:n.adapterCode,g=(null==n?void 0:n.bidderCode)||(null===(a=t)||void 0===a?void 0:a.bidder),p=f.get(null==n?void 0:n.adapterCode,"adjustAlternateBids"),v=f.getOwn(g,"bidCpmAdjustment")||f.get(p?l:g,"bidCpmAdjustment");if(v&&"function"==typeof v)try{return v(e,Object.assign({},n),t)}catch(e){(0,o.logError)("Error during bid adjustment",e)}return e}},99128:function(e,n,t){t.d(n,{A:function(){return E},Bf:function(){return h},V6:function(){return b},g3:function(){return w}});var r=t(93324),i=t(3193);function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){c=!0,o=e},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw o}}}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u="performanceMetrics",c=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},s=new WeakMap;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.now,t=void 0===n?c:n,r=e.mkNode,i=void 0===r?g:r,o=e.mkTimer,a=void 0===o?l:o,u=e.mkRenamer,d=void 0===u?function(e){return e}:u,f=e.nodes,p=void 0===f?s:f;return function(){return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(n){n(e)}}};function o(e){return function(t){return n.dfWalk({visit:function(n,r){var i=r[e];if(i.hasOwnProperty(t))return i[t]}})}}r=d(r);var u=o("timestamps");function c(e,t){var i=r(e);n.dfWalk({follow:function(e,n){return n.propagate&&(!e||!e.stopPropagation)},visit:function(e,n){i.forEach((function(r){null==e?n.metrics[r]=t:(n.groups.hasOwnProperty(r)||(n.groups[r]=[]),n.groups[r].push(t))}))}})}function s(e){n.timestamps[e]=t()}function f(e,n){var r=u(e),i=null!=r?t()-r:null;return null!=n&&c(n,i),i}function l(e,n,t){var r=u(e),i=u(n),o=null!=r&&null!=i?i-r:null;return null!=t&&c(t,o),o}function g(e){return a(t,(function(n){return c(e,n)}))}function v(e,n){return g(e).stopAfter(n)()}function h(e,n,t){var r=g(e);return t(function(e){var n=r.stopBefore(e);return n.bail=e.bail&&r.stopBefore(e.bail),n.stopTiming=r,n.untimed=e,n}(n))}function m(){var e={};return n.dfWalk({visit:function(n,t){e=Object.assign({},!n||n.includeGroups?t.groups:null,t.metrics,e)}}),e}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.propagate,a=void 0===o||o,u=t.stopPropagation,c=void 0!==u&&u,s=t.includeGroups,d=void 0!==s&&s;return e(i([[n,{propagate:a,stopPropagation:c,includeGroups:d}]]),r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.propagate,i=void 0===r||r,o=t.stopPropagation,a=void 0!==o&&o,u=t.includeGroups,c=void 0!==u&&u,s=p.get(e);null!=s&&s.addParent(n,{propagate:i,stopPropagation:a,includeGroups:c})}function w(t){return e(n,t)}function E(){return e(n.newSibling(),r)}var C={startTiming:g,measureTime:v,measureHookTime:h,checkpoint:s,timeSince:f,timeBetween:l,setMetric:c,getMetrics:m,fork:b,join:y,newMetrics:E,renameWith:w,toJSON:function(){return m()}};return p.set(C,n),C}(i([]))}}function f(e,n,t){return function(){n&&n();try{return e.apply(this,arguments)}finally{t&&t()}}}function l(e,n){var t=e(),r=!1;function i(){r||(n(e()-t),r=!0)}return i.stopBefore=function(e){return f(e,i)},i.stopAfter=function(e){return f(e,null,i)},i}function g(e){return{metrics:{},timestamps:{},groups:{},addParent:function(n,t){e.push([n,t])},newSibling:function(){return g(e.slice())},dfWalk:function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.visit,a=t.follow,u=void 0===a?function(){return!0}:a,c=t.visited,s=void 0===c?new Set:c,d=t.inEdge;if(!s.has(this)){if(s.add(this),null!=(n=i(d,this)))return n;var f,l=o(e);try{for(l.s();!(f=l.n()).done;){var g=(0,r.Z)(f.value,2),p=g[0],v=g[1];if(u(d,v)&&null!=(n=p.dfWalk({visit:i,follow:u,visited:s,inEdge:v})))return n}}catch(e){l.e(e)}finally{l.f()}}}}}var p=function(){var e=function(){},n=function(){return{}},t={forEach:e},r=function(){return null};r.stopBefore=function(e){return e},r.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:n}]}))));return d({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return t}},mkTimer:function(){return r},nodes:{get:e,set:e}})()}(),v=!0;function h(e){return v&&e||p}i.vc.getConfig(u,(function(e){v=!!e[u]}));var m,b=(m=d(),function(){return v?m():p});function y(e,n){return function(t,r){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];var c=this;return h(n.apply(c,a)).measureHookTime(e+t,i,(function(e){return r.call.apply(r,[c,e].concat(a))}))}}}var w=y("requestBids.",(function(e){return e.metrics})),E=y("addBidResponse.",(function(e,n){return n.metrics}))},68792:function(e,n,t){t.d(n,{P:function(){return h},Z:function(){return p}});var r=t(93324),i=t(15671),o=t(43144),a=t(18916),u=t(42793);function c(e,n,t){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.set(e,t)}function s(e,n,t){return function(e,n){if(e!==n)throw new TypeError("Private static access of wrong provenance")}(e,n),t}var d=0,f=1,l=new WeakMap,g=new WeakMap,p=function(){function e(n){if((0,i.Z)(this,e),c(this,l,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:void 0}),"function"!=typeof n)throw new Error("resolver not a function");var t=[],o=[],a=[d,f].map((function(e){return function(n){if(e===d&&"function"==typeof(null==n?void 0:n.then))n.then(p,v);else if(!t.length)for(t.push(e,n);o.length;)o.shift()()}})),s=(0,r.Z)(a,2),p=s[0],v=s[1];try{n(p,v)}catch(e){v(e)}(0,u.Z)(this,l,t),(0,u.Z)(this,g,o)}return(0,o.Z)(e,[{key:"then",value:function(e,n){var t=this,i=(0,a.Z)(this,l);return new this.constructor((function(o,u){var c=function(){var t=i[1],a=i[0]===d?[e,o]:[n,u],c=(0,r.Z)(a,2),s=c[0],f=c[1];if("function"==typeof s){try{t=s(t)}catch(e){return void u(e)}f=o}f(t)};i.length?c():(0,a.Z)(t,g).push(c)}))}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var n,t=this;return this.then((function(t){return n=t,e()}),(function(r){return n=t.constructor.reject(r),e()})).then((function(){return n}))}}],[{key:"timeout",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){0===n?e():setTimeout(e,n)}))}},{key:"race",value:function(n){var t=this;return new this((function(r,i){s(t,e,v).call(t,n,(function(e,n){return e?r(n):i(n)}))}))}},{key:"all",value:function(n){var t=this;return new this((function(r,i){var o=[];s(t,e,v).call(t,n,(function(e,n,t){return e?o[t]=n:i(n)}),(function(){return r(o)}))}))}},{key:"allSettled",value:function(n){var t=this;return new this((function(r){var i=[];s(t,e,v).call(t,n,(function(e,n,t){return i[t]=e?{status:"fulfilled",value:n}:{status:"rejected",reason:n}}),(function(){return r(i)}))}))}},{key:"resolve",value:function(e){return new this((function(n){return n(e)}))}},{key:"reject",value:function(e){return new this((function(n,t){return t(e)}))}}]),e}();function v(e,n,t){var r=this,i=e.length;function o(){n.apply(this,arguments),--i<=0&&t&&t()}0===e.length&&t?t():e.forEach((function(e,n){return r.resolve(e).then((function(e){return o(!0,e,n)}),(function(e){return o(!1,e,n)}))}))}function h(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.promiseFactory,i=void 0===r?function(e){return new p(e)}:r;function o(e){return function(n){return e(n)}}return{promise:i((function(t,r){e=t,n=r})),resolve:o(e),reject:o(n)}}},90154:function(e,n,t){t.d(n,{Dn:function(){return d},LD:function(){return s},gZ:function(){return c},hD:function(){return f}});var r=t(20265),i=t(64358),o=t(3193),a=t(92797),u=t(78653),c="outstream",s="instream";function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.index,i=void 0===t?u.K.index:t,o=(0,r.Z)(i.getMediaTypes(e),"video"),a=o&&(0,r.Z)(o,"context"),c=o&&(0,r.Z)(o,"useCacheKey"),s=i.getAdUnit(e);return f(e,s,o,a,c)}var f=(0,a.z3)("sync",(function(e,n,t,r,a){return t&&(a||r!==c)?o.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===c&&!a)||!!(e.renderer||n&&n.renderer||t.renderer)}),"checkVideoBidSetup")},79885:function(e,n,t){t.d(n,{h:function(){return s},z:function(){return d}});var r=t(48928),i=t(3193),o=t(78653);function a(e,n){var t=n?"<![CDATA[".concat(n,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(t,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.index,r=void 0===t?o.K.index:t,u=e.vastXml?e.vastXml:a(e.vastUrl,e.vastImpUrl),c=r.getAuction(e),s=Number(e.ttl)+15,d={type:"xml",value:u,ttlseconds:s};return i.vc.getConfig("cache.vasttrack")&&(d.bidder=e.bidder,d.bidid=e.requestId,d.aid=e.auctionId),null!=c&&(d.timestamp=c.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(d.key=e.customCacheKey),d}function c(e){return{success:function(n){var t;try{t=JSON.parse(n).responses}catch(n){return void e(n,[])}t?e(null,t):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(n,t){e(new Error("Error storing video ad in the cache: ".concat(n,": ").concat(JSON.stringify(t))),[])}}}function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.O,o={puts:e.map(u)},a=t(i.vc.getConfig("cache.timeout"));a(i.vc.getConfig("cache.url"),c(n),JSON.stringify(o),{contentType:"text/plain",withCredentials:!0})}function d(e){return"".concat(i.vc.getConfig("cache.url"),"?uuid=").concat(e)}},20265:function(e,n,t){function r(e,n,t,r,i){for(n=n.split?n.split("."):n,r=0;r<n.length;r++)e=e?e[n[r]]:i;return e===i?t:e}t.d(n,{Z:function(){return r}})},81432:function(e){
/*
* @license MIT
* Fun Hooks v0.9.10
* (c) @snapwich
*/
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),t=new WeakMap,r="2,1,0"===[1].reduce((function(e,n,t){return[e,n,t]}),2).toString()?Array.prototype.reduce:function(e,n){var t,r=Object(this),i=r.length>>>0,o=0;if(n)t=n;else{for(;o<i&&!(o in r);)o++;t=r[o++]}for(;o<i;)o in r&&(t=e(t,r[o],o,r)),o++;return t};function i(e,n){return Array.prototype.slice.call(e,n)}var o=Object.assign||function(e){return r.call(i(arguments,1),(function(e,n){return n&&Object.keys(n).forEach((function(t){e[t]=n[t]})),e}),e)};function a(e){var u,c={},s=[];function d(e,n){return"function"==typeof e?p.call(null,"sync",e,n):"string"==typeof e&&"function"==typeof n?p.apply(null,arguments):"object"==typeof e?f.apply(null,arguments):void 0}function f(e,n,t){var r=!0;void 0===n&&(n=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(n=n.filter((function(n){return!("function"!=typeof e[n]||-1!==o.indexOf(n)||n.match(/^_/))}))).forEach((function(n){var r=n.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var u=e[o];i[o]=e[o]=p(a,u,t?[t,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function l(e){var n=Array.isArray(e)?e:e.split(".");return r.call(n,(function(t,r,i){var o=t[r],a=!1;return o||(i===n.length-1?(u||s.push((function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),t[r]=g((function(e){t[r]=e,a=!0}))):t[r]={})}),c)}function g(e){var n=[],r=[],i=function(){},a={before:function(e,t){return c.call(this,n,"before",e,t)},after:function(e,n){return c.call(this,r,"after",e,n)},getHooks:function(e){var t=n.concat(r);"object"==typeof e&&(t=t.filter((function(n){return Object.keys(e).every((function(t){return n[t]===e[t]}))})));try{o(t,{remove:function(){return t.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return t},removeAll:function(){return this.getHooks().remove()}},u={install:function(t,o,a){this.type=t,i=a,a(n,r),e&&e(o)}};return t.set(a.after,u),a;function c(e,t,o,a){var u={hook:o,type:t,priority:a||10,remove:function(){var t=e.indexOf(u);-1!==t&&(e.splice(t,1),i(n,r))}};return e.push(u),e.sort((function(e,n){return n.priority-e.priority})),i(n,r),this}}function p(n,r,c){var d=r.after&&t.get(r.after);if(d){if(d.type!==n)throw"fun-hooks: recreated hookable with different type";return r}var f,p,v=c?l(c):g(),h={get:function(e,n){return v[n]||Reflect.get.apply(Reflect,arguments)}};return u||s.push(m),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?p=new Proxy(r,h):(p=function(){return h.apply?h.apply(r,this,i(arguments)):r.apply(this,arguments)},o(p,v)),t.get(p.after).install(n,p,(function(e,t){var r,o=[];e.length||t.length?(e.forEach(a),r=o.push(void 0)-1,t.forEach(a),f=function(e,t,a){var u,c=0,s="async"===n&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===n?u=e:s&&s.apply(null,arguments)}function f(e){if(o[c]){var r=i(arguments);return f.bail=d,r.unshift(f),o[c++].apply(t,r)}"sync"===n?u=e:s&&s.apply(null,arguments)}return o[r]=function(){var r=i(arguments,1);"async"===n&&s&&(delete f.bail,r.push(f));var o=e.apply(t,r);"sync"===n&&f(o)},f.apply(null,a),u}):f=void 0;function a(e){o.push(e.hook)}m()})),p;function m(){!u&&("sync"!==n||e.ready&a.SYNC)&&("async"!==n||e.ready&a.ASYNC)?"sync"!==n&&e.ready&a.QUEUE?h.apply=function(){var e=arguments;s.push((function(){p.apply(e[1],e[2])}))}:h.apply=function(){throw"fun-hooks: hooked function not ready"}:h.apply=f}}return(e=o({},n,e)).ready?d.ready=function(){u=!0,function(e){for(var n;n=e.shift();)n()}(s)}:u=!0,d.get=l,d}e.exports=a},77079:function(e){e.exports=function e(n){var t=Array.isArray(n)?[]:{};for(var r in n){var i=n[r];t[r]=i&&"object"==typeof i?e(i):i}return t}},30907:function(e,n,t){function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{Z:function(){return r}})},83878:function(e,n,t){function r(e){if(Array.isArray(e))return e}t.d(n,{Z:function(){return r}})},45057:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(30907);function i(e){if(Array.isArray(e))return(0,r.Z)(e)}},26983:function(e,n,t){function r(e,n){return n.get?n.get.call(e):n.value}t.d(n,{Z:function(){return r}})},86011:function(e,n,t){function r(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}t.d(n,{Z:function(){return r}})},15671:function(e,n,t){function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return r}})},1519:function(e,n,t){function r(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}t.d(n,{Z:function(){return r}})},18916:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(26983),i=t(1519);function o(e,n){var t=(0,i.Z)(e,n,"get");return(0,r.Z)(e,t)}},42793:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(86011),i=t(1519);function o(e,n,t){var o=(0,i.Z)(e,n,"set");return(0,r.Z)(e,o,t),t}},43144:function(e,n,t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}t.d(n,{Z:function(){return i}})},4942:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return r}})},61120:function(e,n,t){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},60136:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(89611);function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&(0,r.Z)(e,n)}},59199:function(e,n,t){function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(n,{Z:function(){return r}})},31902:function(e,n,t){function r(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}t.d(n,{Z:function(){return r}})},25267:function(e,n,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return r}})},42786:function(e,n,t){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return r}})},73930:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(71002);function i(e,n){if(n&&("object"===(0,r.Z)(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},89611:function(e,n,t){function r(e,n){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})},93324:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(83878),i=t(31902),o=t(40181),a=t(25267);function u(e,n){return(0,r.Z)(e)||(0,i.Z)(e,n)||(0,o.Z)(e,n)||(0,a.Z)()}},89062:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(45057),i=t(59199),o=t(40181),a=t(42786);function u(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,o.Z)(e)||(0,a.Z)()}},71002:function(e,n,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.d(n,{Z:function(){return r}})},40181:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(30907);function i(e,n){if(e){if("string"==typeof e)return(0,r.Z)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,r.Z)(e,n):void 0}}},96475:function(e,n,t){function r(e,n,t){n.split&&(n=n.split("."));for(var r,i,o=0,a=n.length,u=e;o<a&&"__proto__"!==(i=n[o++])&&"constructor"!==i&&"prototype"!==i;)u=u[i]=o===a?t:typeof(r=u[i])==typeof n?r:0*n[o]!=0||~(""+n[o]).indexOf(".")?{}:[]}t.d(n,{N:function(){return r}})},5644:function(e){e.exports=JSON.parse('{"k2":{"xn":"adserverTargeting","zF":"standard"},"f":"pbjs_debug","Q_":{"GOOD":1,"NO_BID":2},"FP":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"q_":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"aI":{"bidWon":"adUnitCode"},"Ql":{"yE":"low","M2":"medium","lj":"high","B7":"auto","uN":"dense","qN":"custom"},"TD":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"kF":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"FY":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"os":{"YZ":"s2s"},"UE":{"CK":"targetingSet","fe":"rendered","G9":"bidRejected"},"Gw":{"UI":"Bid has missing or invalid properties","Gp":"Invalid request ID","Dg":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","pe":"Bid does not meet price floor","Xx":"Unable to convert currency"},"V1":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"s$":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"oF":{"ICON":1,"MAIN":3},"zA":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var o=t[e]={exports:{}};return n[e].call(o.exports,o,o.exports,r),o.exports}r.m=n,e=[],r.O=function(n,t,i,o){if(!t){var a=1/0;for(d=0;d<e.length;d++){t=e[d][0],i=e[d][1],o=e[d][2];for(var u=!0,c=0;c<t.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](t[c])}))?t.splice(c--,1):(u=!1,o<a&&(a=o));if(u){e.splice(d--,1);var s=i();void 0!==s&&(n=s)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,i,o]},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={25602:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var i,o,a=t[0],u=t[1],c=t[2],s=0;if(a.some((function(n){return 0!==e[n]}))){for(i in u)r.o(u,i)&&(r.m[i]=u[i]);if(c)var d=c(r)}for(n&&n(t);s<a.length;s++)o=a[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},t=self.pbjsChunk=self.pbjsChunk||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var i=r(23866);i=r.O(i)}();
/* aditude.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[46947],{81959:function(e,n,t){var u=t(78640),r=t(78653),i=t(18621),s=t(52021),c=(0,u.R)();s.clearEvents=s.clearEvents||function(){},c.getAuctionManager=function(){return r.K},c.getEventsManager=function(){return s},c.getTargetingManager=function(){return i.q0},c.getAllBidResponses=function(){return r.K.getBidsReceived()},c.getAllBidderRequests=function(){return r.K.getBidsRequested()},c.getAllBidRequests=function(){return r.K.getBidsRequested().map((function(e){return e.bids||[]})).reduce((function(e,n){return e.concat(n)}),[])},(0,u.z)("aditude")}},function(e){var n;n=81959,e(e.s=n)}]);
/* amxBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[55301],{24041:function(e,n,t){var r=t(4942),i=t(71002),a=t(78640),o=t(14699),u=t(24679),c=t(64358),s=t(20265),l=t(3193);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=(0,t(15164).df)({bidderCode:"amx"}),m=/\.com?\.\w{2,4}$/,g=/^\s*<\??(?:vast|xml)/i,b="__amuidpb";function h(e,n){return null==e?[]:e.map(n).reduce((function(e,n){return null!=n&&e.concat(n)}),[])}function v(e){return null!=(n=e.adm)&&g.test(n)?u.pX:u.Mk;var n}var y=function(e,n){return null==e||(0,i.Z)(e)===n};function I(e){var n=e.hostname.split("."),t=n.slice(n.length-(m.test(e.hostname)?3:2)).join(".");return btoa(t).replace(/=+$/,"")}var O=encodeURIComponent;function w(){try{return f.getDataFromLocalStorage(b)}catch(e){return null}}function C(e){var n={};return(0,c._each)(e,(function(e){n[e.bidId]=function(e){var n=(d=e.sizes,p=e.mediaTypes,d.concat((0,s.Z)(p,"".concat(u.Mk,".sizes"),[])||[]).concat((0,s.Z)(p,"".concat(u.pX,".sizes"),[])||[]).sort((function(e,n){return n[0]*n[1]-e[0]*e[1]}))[0]||[0,0]),t=e.mediaType===u.pX||u.pX in e.mediaTypes,r=t||n[1]>100,i=(0,s.Z)(e,"params.tagId"),a=null!=e.params&&"string"==typeof e.params.adUnitId&&""!==e.params.adUnitId?e.params.adUnitId:e.adUnitCode,o=[e.sizes,(0,s.Z)(e,"mediaTypes.".concat(u.Mk,".sizes"),[])||[],(0,s.Z)(e,"mediaTypes.".concat(u.pX,".sizes"),[])||[]],c=(0,s.Z)(e,"mediaTypes.".concat(u.pX),{})||{},l={au:a,av:r,vd:c,vr:t,ms:o,aw:n[0],ah:n[1],tf:0,sc:e.schain||{},f:j(Z(e)),rtb:e.ortb2Imp};var d,p;"string"==typeof i&&i.length>0&&(l.i=i);return l}(e)})),n}var S=function(e,n){return(0,c.triggerPixel)("".concat("https://1x1.a-mo.net/hbx/","g_").concat(e,"?").concat((0,c.formatQS)(p(p({},n),{},{ts:Date.now(),eid:(0,c.getUniqueIdentifierStr)()}))))};function j(e){return"number"==typeof e&&isFinite(e)&&e>0?e:0}function Z(e){if(!(0,c.isFn)(e.getFloor))return(0,s.Z)(e,"params.floor",0);try{return e.getFloor({currency:"USD",mediaType:"*",size:"*",bidRequest:e}).floor}catch(e){return(0,c.logError)("call to getFloor failed: ",e),0}}function T(e,n,t){return(0,s.Z)(e,"refererInfo."+n,t)}function x(e,n){if(null==e)return!1;var t=e[n];return null!=t&&(!!("*"===t.bidders||(0,c.isArray)(t.bidders)&&-1!==t.bidders.indexOf("amx"))&&(null==t.filter||"include"===t.filter))}function U(){var e=l.vc.getConfig("userSync");if(null==e)return{d:0,l:0,t:0,e:!0};var n={d:e.syncDelay,l:e.syncsPerBidder,t:0,e:e.syncEnabled};return x(e.filterSettings,"all")?(n.t=0,n):(x(e.filterSettings,"iframe")&&(n.t|=2),x(e.filterSettings,"image")&&(n.t|=1),n)}function k(e){var n,t,r;return null!=(null==e?void 0:e.gppConsent)?e.gppConsent:null!==(n=null==e||null===(t=e.ortb2)||void 0===t||null===(r=t.regs)||void 0===r?void 0:r.gpp)&&void 0!==n?n:{gppString:"",applicableSections:""}}function q(e){if(null==e.refererInfo)return{r:"",t:!1,c:"",l:0,s:[]};var n=e.refererInfo;return{r:n.topmostLocation,t:n.reachedTop,l:n.numIframes,s:n.stack,c:n.canonicalUrl}}var _={code:"amx",gvlid:737,supportedMediaTypes:[u.Mk,u.pX],isBidRequestValid:function(e){return y((0,s.Z)(e,"params.endpoint",null),"string")&&y((0,s.Z)(e,"params.tagId",null),"string")},buildRequests:function(e,n){var t,r,i,a,o=(t=n,(0,c.parseUrl)((null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation)||window.location.href)),u=(0,s.Z)(e[0],"params.tagId",null),d=(0,s.Z)(e[0],"params.testMode",0),p=null!=e[0]?e[0]:{bidderRequestsCount:0,bidderWinsCount:0,bidRequestsCount:0};return{data:{a:n.auctionId,B:0,b:o.host,brc:p.bidderRequestsCount||0,bwc:p.bidderWinsCount||0,trc:p.bidRequestsCount||0,tm:(a=d,!0===a||1===a||"true"===a),V:"7.54.3",vg:"pbjs",i:d&&null!=u?u:I(o),l:{},f:.01,cv:"pba1.3.2",st:"prebid",h:screen.height,w:screen.width,gs:(0,s.Z)(n,"gdprConsent.gdprApplies",""),gc:(0,s.Z)(n,"gdprConsent.consentString",""),gpp:k(n),u:T(n,"page",o.href),do:T(n,"site",o.hostname),re:T(n,"ref"),am:w(),usp:n.uspConsent||"1---",smt:1,d:"",m:C(e),cpp:l.vc.getConfig("coppa")?1:0,fpd2:n.ortb2,tmax:n.timeout,amp:T(n,"isAmp",null),ri:q(n),sync:U(),eids:(i=e.reduce((function(e,n){return null==n||null==n.userIdAsEids||(0,c._each)(n.userIdAsEids,(function(n){null!=n&&(e[n.source]=n)})),e}),{}),null!=Object.values?Object.values(i):Object.keys(i).map((function(e){return i[e]})))},method:"POST",url:(0,s.Z)(e[0],"params.endpoint","https://prebid.a-mo.net/a/c"),withCredentials:!0}},getUserSyncs:function(e,n,t,r,i){var a={gdpr_consent:O((null==t?void 0:t.consentString)||""),gdpr:O(null!=t&&t.gdprApplies?1:0),us_privacy:O(r||""),gpp:O((null==i?void 0:i.gppString)||""),gpp_sid:O((null==i?void 0:i.applicableSections)||"")},o={url:"https://prebid.a-mo.net/isyn?".concat((0,c.formatQS)(a)),type:"iframe"};if(null==n||0===n.length)return e.iframeEnabled?[o]:[];var u=[],s=!1;return(0,c._each)(n,(function(n){var t=n.body;null!=t&&null!=t.p&&t.p.hreq&&(0,c._each)(t.p.hreq,(function(n){var t=-1!==n.indexOf("__st=iframe")?"iframe":"image";(e.iframeEnabled||"image"===t)&&(s=s||"iframe"===t||-1!==n.indexOf("cchain"),u.push({url:n,type:t}))}))})),!s&&u.length<2&&u.push(o),u},interpretResponse:function(e,n){var t=e.body;return null==t||"string"==typeof t?[]:(t.am&&"string"==typeof t.am&&function(e){try{f.setDataInLocalStorage(b,e)}catch(e){}}(t.am),h(Object.keys(t.r),(function(e){return h(t.r[e],(function(t){return t.b.map((function(t){var i,a=v(t),o=t.adm;if(null==o)return null;var c=function(e,n,t){if(null!=e.w&&e.w>1&&null!=e.h&&e.h>1)return[e.w,e.h];var r=n.m[t];return null==r?[0,0]:[r.aw,r.ah]}(t,n.data,e),s=a===u.Mk?240:300;return i={requestId:e,cpm:t.price,width:c[0],height:c[1],creativeId:t.crid,currency:"USD",netRevenue:!0},(0,r.Z)(i,a===u.pX?"vastXml":"ad",o),(0,r.Z)(i,"meta",{advertiserDomains:t.adomain,mediaType:a}),(0,r.Z)(i,"mediaType",a),(0,r.Z)(i,"ttl","number"==typeof t.exp?t.exp:s),i}))})).filter((function(e){return null!=e}))})))},onSetTargeting:function(e){var n,t;null!=e&&S("pbst",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,c1:e.mediaType,np:e.cpm,aud:e.requestId,a:e.adUnitCode,c2:(n=e.adserverTargeting,t=[],Object.keys(n||{}).forEach((function(e){t.push(O(e)+"="+O(String(n[e])))})),O(t.join("&")))})},onTimeout:function(e){null!=e&&S("pbto",{A:e.bidder,bid:e.bidId,a:e.adUnitCode,cn:e.timeout,aud:e.auctionId})},onBidWon:function(e){null!=e&&S("pbwin",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,C:e.mediaType===u.Mk?0:1,np:e.cpm,a:e.adUnitCode})}};(0,o.dX)(_),(0,a.z)("amxBidAdapter")}},function(e){var n;n=24041,e(e.s=n)}]);
/* appnexusBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[83864],{46319:function(e,r,a){a.d(r,{p:function(){return P}});var n=a(71002),t=a(89062),i=a(78640),s=a(64358),o=a(20265),d=a(35706),p=a(3193),c=a(14699),u=a(24679),l=a(78653),m=a(34614),f=a(90154),v=a(15164),g=a(55975),b=a(17673),y=a(70059),_="appnexus",h="https://ib.adnxs.com/ut/v3/prebid",k="https://ib.adnxs-simple.com/ut/v3/prebid",w=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],x=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],C=["age","externalUid","external_uid","segments","gender","dnt","language"],E=["geo","device_id"],I=["enabled","dongle","member_id","debug_timeout"],O={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},A={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},S={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},T="<script",j=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,U="trk.js",q=(0,v.df)({bidderCode:_}),P={code:_,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"defymedia",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32}],supportedMediaTypes:[u.Mk,u.pX,u.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,r){var a,n,i=(e=(0,y.lY)(e)).map(B),d=(0,m.sE)(e,z),c={};!0===p.vc.getConfig("coppa")&&(c={coppa:!0}),d&&Object.keys(d.params.user).filter((function(e){return(0,m.q9)(C,e)})).forEach((function(e){var r=(0,s.convertCamelToUnderscore)(e);if("segments"===e&&(0,s.isArray)(d.params.user[e])){var a=[];d.params.user[e].forEach((function(e){(0,s.isNumber)(e)?a.push({id:e}):(0,s.isPlainObject)(e)&&a.push(e)})),c[r]=a}else"segments"!==e&&(c[r]=d.params.user[e])}));var u,l=(0,m.sE)(e,M);l&&l.params&&l.params.app&&(u={},Object.keys(l.params.app).filter((function(e){return(0,m.q9)(E,e)})).forEach((function(e){return u[e]=l.params.app[e]})));var f,v=(0,m.sE)(e,X);v&&v.params&&l.params.app&&l.params.app.id&&(f={appid:v.params.app.id});var g={},_={},w=q.getCookie("apn_prebid_debug")||null;if(w)try{g=JSON.parse(w)}catch(e){(0,s.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(O).forEach((function(e){var r=(0,s.getParameterByName)(e);(0,s.isStr)(r)&&""!==r&&(g[O[e]]=r,g.enabled=!0)})),g=(0,s.convertTypes)({member_id:"number",debug_timeout:"number"},g);var x=(0,m.sE)(e,F);x&&x.debug&&(g=x.debug)}g&&g.enabled&&Object.keys(g).filter((function(e){return(0,m.q9)(I,e)})).forEach((function(e){_[e]=g[e]}));var A=(0,m.sE)(e,D),S=A?parseInt(A.params.member,10):0,T=e[0].schain,j=(0,m.sE)(e,L),U={tags:(0,t.Z)(i),user:c,sdk:{source:"pbjs",version:"7.54.3"},schain:T};j&&(U.iab_support={omidpn:"Appnexus",omidpv:"7.54.3"}),S>0&&(U.member_id=S),l&&(U.device=u),v&&(U.app=f);var P,N,Z=(0,s.deepClone)(r&&r.ortb2),J=(P=Z,N=[],["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach((function(e){var r=(0,o.Z)(P,e);(0,s.isStr)(r)&&N.push(r)})),N).map((function(e){return $(e)})),H=(0,s.deepClone)(p.vc.getConfig("appnexusAuctionKeywords"))||{};Object.keys(H).forEach((function(e){((0,s.isStr)(H[e])||(0,s.isNumber)(H[e]))&&(H[e]=[H[e]])}));var W=s.mergeDeep.apply(void 0,[{},H].concat((0,t.Z)(J))),Q=(0,s.transformBidderParamKeywords)(W);if(Q.length>0&&(Q.forEach(R),U.keywords=Q),p.vc.getConfig("adpod.brandCategoryExclusion")&&(U.brand_category_uniqueness=!0),_.enabled&&(U.debug=_,(0,s.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(_,null,4))),r&&r.gdprConsent&&(U.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies},r.gdprConsent.addtlConsent&&-1!==r.gdprConsent.addtlConsent.indexOf("~"))){var Y=r.gdprConsent.addtlConsent,G=Y.substring(Y.indexOf("~")+1);U.gdpr_consent.addtl_consent=G.split(".").map((function(e){return parseInt(e,10)}))}if(r&&r.uspConsent&&(U.us_privacy=r.uspConsent),null!=r&&r.gppConsent?U.privacy={gpp:r.gppConsent.gppString,gpp_sid:r.gppConsent.applicableSections}:null!=r&&null!==(a=r.ortb2)&&void 0!==a&&null!==(n=a.regs)&&void 0!==n&&n.gpp&&(U.privacy={gpp:r.ortb2.regs.gpp,gpp_sid:r.ortb2.regs.gpp_sid}),r&&r.refererInfo){var ee={rd_ref:encodeURIComponent(r.refererInfo.topmostLocation),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},re=r.refererInfo.canonicalUrl;(0,s.isStr)(re)&&""!==re&&(ee.rd_can=re),U.referrer_detection=ee}if((0,m.sE)(e,K)&&e.filter(K).forEach((function(e){var r=function(e,r){var a=r.mediaTypes.video,n=a.durationRangeSec,i=a.requireExactDuration,o=function(e){var r=e.adPodDurationSec,a=e.durationRangeSec,n=e.requireExactDuration,t=(0,s.getMinValueFromArray)(a),i=Math.floor(r/t);return n?Math.max(i,a.length):i}(r.mediaTypes.video),d=(0,s.getMaxValueFromArray)(n),p=e.filter((function(e){return e.uuid===r.bidId})),c=s.fill.apply(void 0,(0,t.Z)(p).concat([o]));if(i){var u=Math.ceil(o/n.length),l=(0,s.chunk)(c,u);n.forEach((function(e,r){l[r].map((function(r){V(r,"minduration",e),V(r,"maxduration",e)}))}))}else c.map((function(e){return V(e,"maxduration",d)}));return c}(i,e),a=U.tags.filter((function(r){return r.uuid!==e.bidId}));U.tags=[].concat((0,t.Z)(a),(0,t.Z)(r))})),e[0].userId){var ae=[];e[0].userIdAsEids.forEach((function(e){!e||!e.uids||e.uids.length<1||e.uids.forEach((function(r){var a={source:e.source,id:r.id};"adserver.org"==e.source?a.rti_partner="TDID":"uidapi.com"==e.source&&(a.rti_partner="UID2"),ae.push(a)}))})),ae.length&&(U.eids=ae)}i[0].publisher_id&&(U.publisher_id=i[0].publisher_id);var ne=function(e,r){var a=[],n={withCredentials:!0},t=h;(0,b.h)(null==r?void 0:r.gdprConsent)||(t=k);"TRUE"!==(0,s.getParameterByName)("apn_test").toUpperCase()&&!0!==p.vc.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1});if(e.tags.length>15){var i=(0,s.deepClone)(e);(0,s.chunk)(e.tags,15).forEach((function(e){i.tags=e;var s=JSON.stringify(i);a.push({method:"POST",url:t,data:s,bidderRequest:r,options:n})}))}else{var o=JSON.stringify(e);a={method:"POST",url:t,data:o,bidderRequest:r,options:n}}return a}(U,r);return ne},interpretResponse:function(e,r){var a=this,n=r.bidderRequest;e=e.body;var t=[];if(!e||e.error){var i="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(i+=": ".concat(e.error)),(0,s.logError)(i),t}if(e.tags&&e.tags.forEach((function(e){var r,i=(r=e)&&r.ads&&r.ads.length&&(0,m.sE)(r.ads,(function(e){return e.rtb}));if(i&&((!0===g.S.get(n.bidderCode,"allowZeroCpmBids")?i.cpm>=0:i.cpm>0)&&(0,m.q9)(a.supportedMediaTypes,i.ad_type))){var p=function(e,r,a){var n=(0,s.getBidRequest)(e.uuid,[a]),t=(0,s.getUniqueIdentifierStr)(),i={adId:t,requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};r.adomain&&(i.meta=Object.assign({},i.meta,{advertiserDomains:[r.adomain]}));r.advertiser_id&&(i.meta=Object.assign({},i.meta,{advertiserId:r.advertiser_id}));function p(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}r.buyer_member_id&&(i.meta=Object.assign({},i.meta,{dchain:p(r)}));r.brand_id&&(i.meta=Object.assign({},i.meta,{brandId:r.brand_id}));if(r.rtb.video){switch(Object.assign(i,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastImpUrl:r.notify_url,ttl:3600}),(0,o.Z)(n,"mediaTypes.video.context")){case u.Oh:var l=(0,c.Q1)(n.bidder,r.brand_category_id);i.meta=Object.assign({},i.meta,{primaryCatId:l});var v=r.deal_priority;i.video={context:u.Oh,durationSeconds:Math.floor(r.rtb.video.duration_ms/1e3),dealTier:v},i.vastUrl=r.rtb.video.asset_url;break;case f.gZ:if(i.adResponse=e,i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video,i.vastXml=r.rtb.video.content,r.renderer_url){var g=(0,m.sE)(a.bids,(function(r){return r.bidId===e.uuid})),b=(0,o.Z)(g,"mediaTypes.video.renderer.options");b||(b=(0,o.Z)(g,"renderer.options")),i.renderer=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=d.Th.install({id:r.renderer_id,url:r.renderer_url,config:a,loaded:!1,adUnitCode:e});try{n.setRender(J)}catch(e){(0,s.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return(0,s.logMessage)("AppNexus outstream video impression event")},loaded:function(){return(0,s.logMessage)("AppNexus outstream video loaded event")},ended:function(){(0,s.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(i.adUnitCode,r,b)}break;case f.LD:i.vastUrl=r.notify_url+"&redir="+encodeURIComponent(r.rtb.video.asset_url)}}else if(r.rtb[u.B5]){var y,_=r.rtb[u.B5];if(function(e){if(!e||""===e)return!1;var r=e.match(j),a=null!=r&&r.length>=1,n=e.match(U),t=null!=n&&n.length>=1;return e.startsWith(T)&&t&&a}(r.viewability.config)){var h="pbjs_adid="+t+";pbjs_auc="+n.adUnitCode;y=r.viewability.config.replace("dom_id=%native_dom_id%",h)}var k=_.javascript_trackers;null==k?k=y:(0,s.isStr)(k)?k=[k,y]:k.push(y),i[u.B5]={title:_.title,body:_.desc,body2:_.desc2,cta:_.ctatext,rating:_.rating,sponsoredBy:_.sponsored,privacyLink:_.privacy_link,address:_.address,downloads:_.downloads,likes:_.likes,phone:_.phone,price:_.price,salePrice:_.saleprice,clickUrl:_.link.url,displayUrl:_.displayurl,clickTrackers:_.link.click_trackers,impressionTrackers:_.impression_trackers,video:_.video,javascriptTrackers:k},_.main_img&&(i.native.image={url:_.main_img.url,height:_.main_img.height,width:_.main_img.width}),_.icon&&(i.native.icon={url:_.icon.url,height:_.icon.height,width:_.icon.width})}else{Object.assign(i,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{if(r.rtb.trackers)for(var w=0;w<r.rtb.trackers[0].impression_urls.length;w++){var x=r.rtb.trackers[0].impression_urls[w],C=(0,s.createTrackPixelHtml)(x);i.ad+=C}}catch(e){(0,s.logError)("Error appending tracking pixel",e)}}return i}(e,i,n);p.mediaType=function(e){var r=e.ad_type;return r===u.pX?u.pX:r===u.B5?u.B5:u.Mk}(i),t.push(p)}})),e.debug&&e.debug.debug_info){var p="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;p=p.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,s.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,s.logMessage)(p)}return t},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,r,a,n,t){if(e.iframeEnabled&&(0,b.h)(a)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((function(e){return"number"==typeof e&&e<=5}))}(t))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,r,a,n){var t=s.transformBidderParamKeywords;if(!0===r){var i=null,d=p.vc.getConfig("s2sConfig");(0,s.isPlainObject)(d)?i=(0,o.Z)(d,"endpoint.p1Consent"):(0,s.isArray)(d)&&d.forEach((function(e){(0,m.q9)(e.bidders,a.bids[0].bidder)&&(i=(0,o.Z)(e,"endpoint.p1Consent"))})),i&&i.match("/openrtb2/prebid")&&(t=W)}return e=(0,s.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:t,publisherId:"number"},e),r&&(N(e.keywords)&&e.keywords.forEach(R),Object.keys(e).forEach((function(r){var a=(0,s.convertCamelToUnderscore)(r);a!==r&&(e[a]=e[r],delete e[r])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function N(e){return!!((0,s.isArray)(e)&&e.length>0)}function R(e){N(e.value)&&""===e.value[0]&&delete e.value}function B(e){var r={};Object.keys(e.params).forEach((function(r){var a=(0,s.convertCamelToUnderscore)(r);a!==r&&(e.params[a]=e.params[r],delete e.params[r])})),r.sizes=Z(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placement_id?r.id=parseInt(e.params.placement_id,10):r.code=e.params.inv_code,r.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,r.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,r.prebid=!0,r.disable_psa=!0;var a=function(e){if(!(0,s.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var r=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if((0,s.isPlainObject)(r)&&!isNaN(r.floor)&&"USD"===r.currency)return r.floor;return null}(e);if(a&&(r.reserve=a),e.params.position)r.position={above:1,below:2}[e.params.position]||0;else{var n=(0,o.Z)(e,"mediaTypes.banner.pos")||(0,o.Z)(e,"mediaTypes.video.pos");0!==n&&1!==n&&3!==n||(r.position=3===n?2:n)}e.params.traffic_source_code&&(r.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(r.private_sizes=Z(e.params.private_sizes)),e.params.supply_type&&(r.supply_type=e.params.supply_type),e.params.pub_click&&(r.pubclick=e.params.pub_click),e.params.ext_inv_code&&(r.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(r.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(r.external_imp_id=e.params.external_imp_id);var t=(0,o.Z)(e,"ortb2Imp.ext.data.keywords");if((0,s.isStr)(t)&&""!==t||!(0,s.isEmpty)(e.params.keywords)){var i=$(t),d=(0,s.isPlainObject)(e.params.keywords)?(0,s.deepClone)(e.params.keywords):{};Object.keys(d).forEach((function(e){((0,s.isStr)(d[e])||(0,s.isNumber)(d[e]))&&(d[e]=[d[e]])}));var p=(0,s.mergeDeep)({},d,i),c=(0,s.transformBidderParamKeywords)(p);c.length>0&&(c.forEach(R),r.keywords=c)}var f,v,g=(0,o.Z)(e,"ortb2Imp.ext.data.pbadslot");if(g&&(r.gpid=g),(e.mediaType===u.B5||(0,o.Z)(e,"mediaTypes.".concat(u.B5)))&&(r.ad_types.push(u.B5),0===r.sizes.length&&(r.sizes=Z([1,1])),e.nativeParams)){var b=(f=e.nativeParams,v={},Object.keys(f).forEach((function(e){var r=S[e]&&S[e].serverName||S[e]||e,a=S[e]&&S[e].requiredParams;if(v[r]=Object.assign({},a,f[e]),(r===S.image.serverName||r===S.icon.serverName)&&v[r].sizes){var n=v[r].sizes;((0,s.isArrayOfNums)(n)||(0,s.isArray)(n)&&n.length>0&&n.every((function(e){return(0,s.isArrayOfNums)(e)})))&&(v[r].sizes=Z(v[r].sizes))}r===S.privacyLink&&(v.privacy_supported=!0)})),v);r[u.B5]={layouts:[b]}}var y=(0,o.Z)(e,"mediaTypes.".concat(u.pX)),_=(0,o.Z)(e,"mediaTypes.video.context");r.hb_source=y&&"adpod"===_?7:1,(e.mediaType===u.pX||y)&&r.ad_types.push(u.pX),(e.mediaType===u.pX||y&&"outstream"!==_)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter((function(e){return(0,m.q9)(w,e)})).forEach((function(a){switch(a){case"context":case"playback_method":var n=e.params.video[a];n=(0,s.isArray)(n)?n[0]:n,r.video[a]=A[a][n];break;case"frameworks":break;default:r.video[a]=e.params.video[a]}})),e.params.video.frameworks&&(0,s.isArray)(e.params.video.frameworks)&&(r.video_frameworks=e.params.video.frameworks)),y&&(r.video=r.video||{},Object.keys(y).filter((function(e){return(0,m.q9)(x,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof r.video[e]&&(r.video[e]=y[e]);break;case"skip":"boolean"!=typeof r.video.skippable&&(r.video.skippable=1===y[e]);break;case"skipafter":"number"!=typeof r.video.skipoffset&&(r.video.skippoffset=y[e]);break;case"playbackmethod":if("number"!=typeof r.video.playback_method){var a=y[e];(a=(0,s.isArray)(a)?a[0]:a)>=1&&a<=4&&(r.video.playback_method=a)}break;case"api":if(!r.video_frameworks&&(0,s.isArray)(y[e])){var n=y[e].map((function(e){var r=4===e?5:5===e?4:e;if(r>=1&&r<=5)return r})).filter((function(e){return e}));r.video_frameworks=n}break;case"startdelay":case"placement":if("number"!=typeof r.video.context){var t=y.placement,i=y.startdelay,o=function(e){if(!e)return;if(2===e)return"in-banner";if(e>2)return"outstream"}(t)||function(e){if(!e)return;if(0===e)return"pre_roll";if(-1===e)return"mid_roll";if(-2===e)return"post_roll"}(i);r.video.context=A.context[o]}}}))),e.renderer&&(r.video=Object.assign({},r.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,s.isArray)(e.params.frameworks)&&(r.banner_frameworks=e.params.frameworks);var h=(0,m.sE)(l.K.getAdUnits(),(function(r){return e.transactionId===r.transactionId}));return h&&h.mediaTypes&&h.mediaTypes.banner&&r.ad_types.push(u.Mk),0===r.ad_types.length&&delete r.ad_types,r}function Z(e){var r=[],a={};if((0,s.isArray)(e)&&2===e.length&&!(0,s.isArray)(e[0]))a.width=parseInt(e[0],10),a.height=parseInt(e[1],10),r.push(a);else if("object"===(0,n.Z)(e))for(var t=0;t<e.length;t++){var i=e[t];(a={}).width=parseInt(i[0],10),a.height=parseInt(i[1],10),r.push(a)}return r}function z(e){return!!e.params.user}function D(e){return!!parseInt(e.params.member,10)}function M(e){if(e.params)return!!e.params.app}function X(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function F(e){return!!e.debug}function K(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===u.Oh}function L(e){var r=!1,a=e.params,n=e.params.video;return a.frameworks&&(0,s.isArray)(a.frameworks)&&(r=(0,m.q9)(e.params.frameworks,6)),!r&&n&&n.frameworks&&(0,s.isArray)(n.frameworks)&&(r=(0,m.q9)(e.params.video.frameworks,6)),r}function V(e,r,a){(0,s.isEmpty)(e.video)&&(e.video={}),e.video[r]=a}function J(e,r){!function(e){try{var r=document.getElementById(e).querySelectorAll("div[id^='google_ads']");r[0]&&r[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var r=document.getElementById(e).querySelectorAll("script[id^='sas_script']");r[0].nextSibling&&"iframe"===r[0].nextSibling.localName&&r[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){((0,s.getWindowFromDocument)(r)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},H.bind(null,e))}))}function H(e,r,a){e.renderer.handleVideoEvent({id:r,eventName:a})}function W(e){var r="";return Object.keys(e).forEach((function(a){(0,s.isStr)(e[a])?""!==e[a]?r+="".concat(a,"=").concat(e[a],","):r+="".concat(a,","):(0,s.isArray)(e[a])&&(""===e[a][0]?r+="".concat(a,","):e[a].forEach((function(e){r+="".concat(a,"=").concat(e,",")})))})),r=r.substring(0,r.length-1)}function $(e){var r={};(0,s.isStr)(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach((function(e){if(-1!==e.indexOf("=")){var a=e.split("="),n=a[0],t=a[1];r.hasOwnProperty(n)?r[n].push(t):r[n]=[t]}else r.hasOwnProperty(e)||(r[e]=[""])}));return r}(0,c.dX)(P),(0,i.z)("appnexusBidAdapter")},17673:function(e,r,a){a.d(r,{h:function(){return t}});var n=a(20265);function t(e){return null==e||!e.gdprApplies||!0===(0,n.Z)(e,"vendorData.purpose.consents.1")}}},function(e){var r;r=46319,e(e.s=r)}]);
/* consentManagement.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[21266],{55630:function(n,e,t){var o,r,i,a,c,s,u=t(71002),l=t(4942),f=t(78640),d=t(64358),p=t(96475),g=t(3193),m=t(51039),v=t(34614),b=t(99128),y=t(26372),C=t(54078),w=!1,P={iab:function(n){var e=n.onSuccess,t=n.onError,o=n.onEvent;function r(n,r){(0,d.logInfo)("Received a response from CMP",n),r?(o(n),!1!==n.gdprApplies&&"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||S(n,{onSuccess:e,onError:t})):t("CMP unable to register callback function.  Please check CMP setup.")}var i={},a=function(){for(var n,e,t=window;;){try{if("function"==typeof t.__tcfapi){e=t.__tcfapi,n=t;break}}catch(n){}try{if(t.frames.__tcfapiLocator){n=t;break}}catch(n){}if(t===window.top)break;t=t.parent}return{cmpFrame:n,cmpFunction:e}}(),c=a.cmpFrame,s=a.cmpFunction;if(!c)return t("TCF2 CMP not found.");"function"==typeof s?((0,d.logInfo)("Detected CMP API is directly accessible, calling it now..."),s("addEventListener",2,r)):((0,d.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(n,e,t){var o="__tcfapi",r="".concat(o,"Call");function a(n){var e="".concat(o,"Return"),t="string"==typeof n.data&&(0,v.q9)(n.data,e)?JSON.parse(n.data):n.data;if(t[e]&&t[e].callId){var r=t[e];i.hasOwnProperty(r.callId)&&i[r.callId](r.returnValue,r.success)}}window[o]=function(n,t,o,a){var c=Math.random()+"",s=(0,l.Z)({},r,{command:n,version:t,parameter:a,callId:c});i[c]=o,e.postMessage(s,"*")},window.addEventListener("message",a,!1),window[o](n,2,t)}("addEventListener",c,r))},static:function(n){var e=n.onSuccess,t=n.onError;S(a,{onSuccess:e,onError:t})}};function h(n){var e,t,i=!1,a=null,s=!1;function u(n){null!=a&&clearTimeout(a),i||null==n||(0===n?e():a=setTimeout(e,n))}function l(e,t,o){if(u(null),i=!0,m.rp.setConsentData(e),"function"==typeof n){for(var r=arguments.length,a=new Array(r>3?r-3:0),c=3;c<r;c++)a[c-3]=arguments[c];n.apply(void 0,[t,o].concat(a))}}if((0,v.q9)(Object.keys(P),o)){var f={onSuccess:function(n){return l(n,!1)},onError:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];l.apply(void 0,[null,!0,n].concat(t))},onEvent:function(n){t=n,s||(s=!0,null!=c&&u(c))}};e=function(){var n=function(n){l(n,!1,"".concat(s?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};S(t,{onSuccess:n,onError:function(){return n(E(void 0))}})},P[o](f),null!=c&&s||u(r)}else l(null,!1,"CMP framework (".concat(o,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var M=(0,b.g3)("gdpr",(function(n,e){var t;t=function(t,o){if(o){var r=d.logWarn;t&&(r=d.logError,o="".concat(o," Canceling auction as per consentManagement config."));for(var i=arguments.length,a=new Array(i>2?i-2:0),c=2;c<i;c++)a[c-2]=arguments[c];r.apply(void 0,[o].concat(a))}t?(n.stopTiming(),"function"==typeof e.bidsBackHandler?e.bidsBackHandler():(0,d.logError)("Error executing bidsBackHandler")):n.call(this,e)},s?((0,d.logInfo)("User consent information already known.  Pulling internally stored information..."),t(!1)):h(t)}));function S(n,e){var t,o,r=e.onSuccess,a=e.onError;t=n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:i,o=n&&n.tcString,"boolean"==typeof t&&(!0!==t||o&&(0,d.isStr)(o))?r(E(n)):a("CMP returned unexpected value during lookup process.",n)}function E(n){return s={consentString:n?n.tcString:void 0,vendorData:n||void 0,gdprApplies:n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:i},n&&n.addtlConsent&&(0,d.isStr)(n.addtlConsent)&&(s.addtlConsent=n.addtlConsent),s.apiVersion=2,s}g.vc.getConfig("consentManagement",(function(n){return function(n){if((n=n&&(n.gdpr||n.usp||n.gpp?n.gdpr:n))&&"object"===(0,u.Z)(n)){var e;(0,d.isStr)(n.cmpApi)?o=n.cmpApi:(o="iab",(0,d.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,d.isNumber)(n.timeout)?r=n.timeout:(r=1e4,(0,d.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),c=(0,d.isNumber)(n.actionTimeout)?n.actionTimeout:null,i=!0===n.defaultGdprScope,(0,d.logInfo)("consentManagement module has been activated..."),"static"===o&&((0,d.isPlainObject)(n.consentData)?(null!=(null===(e=a=n.consentData)||void 0===e?void 0:e.getTCData)&&(a=a.getTCData),r=0):(0,d.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),w||(0,f.R)().requestBids.before(M,50),w=!0,m.rp.enable(),h()}else(0,d.logWarn)("consentManagement (gdpr) config not defined, exiting consent manager")}(n.consentManagement)})),C.S.before((function(n,e){return n(e.then((function(n){var e=m.rp.getConsentData();return e&&("boolean"==typeof e.gdprApplies&&(0,p.N)(n,"regs.ext.gdpr",e.gdprApplies?1:0),(0,p.N)(n,"user.ext.consent",e.consentString)),n})))})),(0,y.f8)({type:y.Z,name:"gdprAddtlConsent",fn:function(n,e){var t,o=null===(t=e.gdprConsent)||void 0===t?void 0:t.addtlConsent;o&&"string"==typeof o&&(0,p.N)(n,"user.ext.ConsentedProvidersSettings.consented_providers",o)}}),(0,f.z)("consentManagement")},26372:function(n,e,t){t.d(e,{DZ:function(){return a},Px:function(){return c},TP:function(){return u},YC:function(){return s},Z:function(){return i},f8:function(){return g},fP:function(){return m},gm:function(){return o},md:function(){return l}});var o=["request","imp","bidResponse","response"],r=["default","pbs"],i=o[0],a=o[1],c=o[2],s=o[3],u=r[0],l=r[1],f=new Set(o);var d,p=(d={},{registerOrtbProcessor:function(n){var e=n.type,t=n.name,r=n.fn,i=n.priority,a=void 0===i?0:i,c=n.dialects,s=void 0===c?[u]:c;if(!f.has(e))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));s.forEach((function(n){d.hasOwnProperty(n)||(d[n]={}),d[n].hasOwnProperty(e)||(d[n][e]={}),d[n][e][t]={priority:a,fn:r}}))},getProcessors:function(n){return d[n]||{}}}),g=p.registerOrtbProcessor,m=p.getProcessors}},function(n){var e;e=55630,n(n.s=e)}]);
/* consentManagementUsp.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[5160],{9099:function(n,t,e){var a,o,c=e(71002),i=e(78640),r=e(64358),s=e(96475),u=e(3193),l=e(51039),f=e(99128),p=e(92797),g=e(54078),d="iab",v=d,m=50,P=!1,b={iab:function(n){var t=n.onSuccess,e=n.onError;var a=(u={},{consentDataCallback:function(n,a){a&&n.uspString&&(u.usPrivacy=n.uspString),u.usPrivacy?h(u,{onSuccess:t,onError:e}):e("Unable to get USP consent string.")}}),o={},c=function(){for(var n,t,e=window;;){try{if("function"==typeof e.__uspapi){t=e.__uspapi,n=e;break}}catch(n){}try{if(e.frames.__uspapiLocator){n=e;break}}catch(n){}if(e===window.top)break;e=e.parent}return{uspapiFrame:n,uspapiFunction:t}}(),i=c.uspapiFrame,s=c.uspapiFunction;var u;if(!i)return e("USP CMP not found.");function f(n,t){try{n("registerDeletion",t,l.ZP.callDataDeletionRequest)}catch(n){(0,r.logError)("Error invoking CMP `registerDeletion`:",n)}}(0,r.isFn)(s)?((0,r.logInfo)("Detected USP CMP is directly accessible, calling it now..."),s("getUSPData",1,a.consentDataCallback),f(s,1)):((0,r.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),g("getUSPData",i,a.consentDataCallback),f(g,i));var p=!1;function g(n,t,e){var a,c,i,r,s;p||(window.addEventListener("message",(function(n){var t=n&&n.data&&n.data.__uspapiReturn;t&&t.callId&&o.hasOwnProperty(t.callId)&&(o[t.callId](t.returnValue,t.success),delete o[t.callId])}),!1),p=!0),a=n,c=1,i=e,r=Math.random()+"",s={__uspapiCall:{command:a,version:c,callId:r}},o[r]=i,t.postMessage(s,"*")}},static:function(n){var t=n.onSuccess,e=n.onError;h(a,{onSuccess:t,onError:e})}};function S(n){var t=null,e=!1;function a(a,o){if(null!=t&&clearTimeout(t),e=!0,l.nX.setConsentData(a),null!=n){for(var c=arguments.length,i=new Array(c>2?c-2:0),r=2;r<c;r++)i[r-2]=arguments[r];n.apply(void 0,[o].concat(i))}}if(b[v]){var o={onSuccess:a,onError:function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];a.apply(void 0,[null,"".concat(n," Resuming auction without consent data as per consentManagement config.")].concat(e))}};b[v](o),e||(0===m?h(void 0,o):t=setTimeout(o.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),m))}else a(null,"USP framework (".concat(v,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var y=(0,f.g3)("usp",(function(n,t){var e=this;P||D(),S((function(a){if(null!=a){for(var o=arguments.length,c=new Array(o>1?o-1:0),i=1;i<o;i++)c[i-1]=arguments[i];r.logWarn.apply(void 0,[a].concat(c))}n.call(e,t)}))}));function h(n,t){var e=t.onSuccess,a=t.onError;!n||!n.usPrivacy?a("USPAPI returned unexpected value during lookup process.",n):(!function(n){n&&n.usPrivacy&&(o=n.usPrivacy)}(n),e(o))}function D(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P||((0,r.logInfo)("USPAPI consentManagement module has been activated".concat(n?"":" using default values (api: '".concat(v,"', timeout: ").concat(m,"ms)"))),P=!0,l.nX.enable()),S()}u.vc.getConfig("consentManagement",(function(n){return function(n){(n=n&&n.usp)&&"object"===(0,c.Z)(n)||(0,r.logWarn)("consentManagement.usp config not defined, using defaults"),n&&(0,r.isStr)(n.cmpApi)?v=n.cmpApi:(v=d,(0,r.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(d,")."))),n&&(0,r.isNumber)(n.timeout)?m=n.timeout:(m=50,(0,r.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===v&&((0,r.isPlainObject)(n.consentData)&&(0,r.isPlainObject)(n.consentData.getUSPData)?(n.consentData.getUSPData.uspString&&(a={usPrivacy:n.consentData.getUSPData.uspString}),m=0):(0,r.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),D(!0)}(n.consentManagement)})),(0,p.v5)("requestBids").before(y,50),g.S.before((function(n,t){return n(t.then((function(n){var t=l.nX.getConsentData();return t&&(0,s.N)(n,"regs.ext.us_privacy",t),n})))})),(0,i.z)("consentManagementUsp")}},function(n){var t;t=9099,n(n.s=t)}]);
/* conversantBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[23434],{6564:function(e,r,a){var i=a(89062),t=a(78640),n=a(64358),s=a(20265),o=a(96475),d=a(14699),p=a(24679),c=a(15164),u="conversant",m=(0,c.df)({gvlid:24,bidderCode:u}),l={code:u,gvlid:24,aliases:["cnvr","epsilon"],supportedMediaTypes:[p.Mk,p.pX],isBidRequestValid:function(e){if(!e||!e.params)return(0,n.logWarn)("conversant: Missing bid parameters"),!1;if(!(0,n.isStr)(e.params.site_id))return(0,n.logWarn)("conversant: site_id must be specified as a string"),!1;if(v(e)){var r=e.params.mimes||(0,s.Z)(e,"mediaTypes.video.mimes");if(r){if(!(0,n.isArray)(r)||!r.every((function(e){return(0,n.isStr)(e)})))return(0,n.logWarn)("conversant: mimes must be an array of strings"),!1}else(0,n.logWarn)("conversant: mimes should be specified for videos")}return!0},buildRequests:function(e,r){var a,i=r&&r.refererInfo?r.refererInfo.page:"",t="",d="",p=null,c="_pubcid",u="https://web.hb.ad.cpe.dotomi.com/cvx/client/hb/ortb/25",l=e.map((function(e){var r=function(e){var r=(0,n.getBidIdParameter)("bidfloor",e.params);if(!r&&(0,n.isFn)(e.getFloor)){var a=e.getFloor({currency:"USD",mediaType:"*",size:"*"});(0,n.isPlainObject)(a)&&!isNaN(a.floor)&&"USD"===a.currency&&(r=a.floor)}return r}(e);t=(0,n.getBidIdParameter)("site_id",e.params)||t,c=(0,n.getBidIdParameter)("pubcid_name",e.params)||c,d=e.auctionId;var a={id:e.bidId,secure:1,bidfloor:r||0,displaymanager:"Prebid.js",displaymanagerver:"7.54.3"};if(e.ortb2Imp&&(0,n.mergeDeep)(a,e.ortb2Imp),f(e.params.tag_id,a,"tagid"),v(e)){var i=(0,s.Z)(e,"mediaTypes.video")||{},o=g(i.playerSize||e.sizes),m={};o&&o[0]&&(f(o[0].w,m,"w"),f(o[0].h,m,"h")),f(e.params.position||i.pos,m,"pos"),f(e.params.mimes||i.mimes,m,"mimes"),f(e.params.maxduration||i.maxduration,m,"maxduration"),f(e.params.protocols||i.protocols,m,"protocols"),f(e.params.api||i.api,m,"api"),a.video=m}else{var l=(0,s.Z)(e,"mediaTypes.banner")||{},b={format:g(l.sizes||e.sizes)};f(e.params.position||l.pos,b,"pos"),a.banner=b}return e.userId&&e.userId.pubcid?p=e.userId.pubcid:e.crumbs&&e.crumbs.pubcid&&(p=e.crumbs.pubcid),e.params.white_label_url&&(u=e.params.white_label_url),a})),b={id:d,imp:l,source:{tid:d},site:{id:t,mobile:null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0,page:i},device:(a=navigator.language?"language":"userLanguage",{h:screen.height,w:screen.width,dnt:"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack?1:0,language:navigator[a].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent}),at:1},h={},y=(0,s.Z)(e,"0.schain");y&&(0,o.N)(b,"source.ext.schain",y),r&&(r.timeout&&(0,o.N)(b,"tmax",r.timeout),r.gdprConsent&&(h.consent=r.gdprConsent.consentString,"boolean"==typeof r.gdprConsent.gdprApplies&&(0,o.N)(b,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r.uspConsent&&(0,o.N)(b,"regs.ext.us_privacy",r.uspConsent)),p||(p=function(e){var r;try{if(!(r=m.getCookie(e))){var a=m.getDataFromLocalStorage("".concat(e,"_exp"));(""===a||a&&new Date(a).getTime()-Date.now()>0)&&(r=(r=m.getDataFromLocalStorage(e))?decodeURIComponent(r):r)}(0,n.isStr)(r)&&"{"===r.charAt(0)&&(r=JSON.parse(r))}catch(e){(0,n.logError)(e)}return r}(c)),p&&(h.fpc=p);var w=function(e){var r=e[0],a=[];if((0,n.isArray)(r.userIdAsEids)&&r.userIdAsEids.length>0){var i={"epsilon.com":1,"adserver.org":1,"liveramp.com":1,"criteo.com":1,"id5-sync.com":1,"parrable.com":1,"liveintent.com":1};r.userIdAsEids.forEach((function(e){i.hasOwnProperty(e.source)&&a.push(e)}))}return a}(e);w.length>0&&(h.eids=w),(0,n.isEmpty)(h)||(b.user={ext:h});var I=r.ortb2||{};return(0,n.mergeDeep)(b,I),{method:"POST",url:u,data:b}},interpretResponse:function(e,r){var a=[],i={};return e=e.body,r&&r.data&&r.data.imp&&(0,n._each)(r.data.imp,(function(e){return i[e.id]=e})),e&&(0,n.isArray)(e.seatbid)&&(0,n._each)(e.seatbid,(function(r){(0,n._each)(r.bid,(function(r){var t=parseFloat(r.price);if(t>0&&r.impid){var n=r.adm||"",s=r.nurl||"",o=i[r.impid],d={requestId:r.impid,currency:e.cur||"USD",cpm:t,creativeId:r.crid||"",ttl:300,netRevenue:!0,meta:{}};r.adomain&&r.adomain.length>0&&(d.meta.advertiserDomains=r.adomain),o.video?("<"===n.charAt(0)?d.vastXml=n:d.vastUrl=n,d.mediaType="video",d.width=o.video.w,d.height=o.video.h):(d.ad=n+'<img src="'+s+'" />',d.width=r.w,d.height=r.h),a.push(d)}}))})),a},transformBidParams:function(e,r){return(0,n.convertTypes)({site_id:"string",secure:"number",mobile:"number"},e)},getUserSyncs:function(e,r,a,t){var s={},o=[];if(a&&(s.gdpr=a.gdprApplies?1:0,s.gdpr_consent=encodeURIComponent(a.consentString||"")),t&&(s.us_privacy=encodeURIComponent(t)),r&&r.ext){var d=[{urls:r.ext.fsyncs,type:"iframe"},{urls:r.ext.psyncs,type:"image"}].filter((function(r){return r.urls&&("iframe"===r.type&&e.iframeEnabled||"image"===r.type&&e.pixelEnabled)})).map((function(e){return e.urls.map((function(r){var a=(0,n.parseUrl)(r);return(0,n.mergeDeep)(a.search,s),0===Object.keys(a.search).length&&delete a.search,{type:e.type,url:(0,n.buildUrl)(a)}})).reduce((function(e,r){return e.concat(r)}),[])})).reduce((function(e,r){return e.concat(r)}),[]);o.push.apply(o,(0,i.Z)(d))}return o}};function g(e){var r;return Array.isArray(e)&&(r=2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[{w:e[0],h:e[1]}]:(0,n._map)(e,(function(e){return{w:e[0],h:e[1]}}))),r}function v(e){return"video"===e.mediaType||!!(0,s.Z)(e,"mediaTypes.video")}function f(e,r,a){e&&(r[a]=e)}(0,d.dX)(l),(0,t.z)("conversantBidAdapter")}},function(e){var r;r=6564,e(e.s=r)}]);
/* enrichmentFpdModule.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[88806],{19749:function(n,s,u){(0,u(78640).z)("enrichmentFpdModule")}},function(n){var s;s=19749,n(n.s=s)}]);
/* userId.js (dependency for fabrickIdSystem.js) */
(self.pbjsChunk=self.pbjsChunk||[]).push([[9215],{82547:function(e,n,t){var r=t(71002),o=t(78640),i=t(34614),a=t(3193),c=t(52021),u=t(51039),s=t(5644),d=t(92797),l=t(64358),f=t(20265),g={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){var n=(0,l.pick)(e,["h1","h2","h3"]);if(Object.keys(n).length)return n}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pairId:{source:"google.com",atype:571187},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){var n="";return e&&e.ext&&e.ext.DeviceID&&(n=e.ext.DeviceID),n},getUidExt:function(e){return e&&e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var n=(0,l.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(n).length)return n}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},bidswitch:{source:"bidswitch.net",atype:3,getValue:function(e){return e.id}},medianet:{source:"media.net",atype:3,getValue:function(e){return e.id}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var n;return null!=e&&null!==(n=e.ext)&&void 0!==n&&n.ssp?"".concat(e.ext.ssp,".merkleinc.com"):"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return void 0===e.snowflake.id?e.snowflake:e.snowflake.id},source:"novatiq.com"},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},euid:{source:"euid.eu",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxdt.net",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},czechAdId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){var n=e.identifiers[0];return{version:n.version,type:n.type,source:n.source}}}}};function p(e,n){var t=g[n];if(t&&e){var r={};r.source=(0,l.isFn)(t.getSource)?t.getSource(e):t.source;var o=(0,l.isFn)(t.getValue)?t.getValue(e):e;if((0,l.isStr)(o)){var i={id:o,atype:t.atype};if((0,l.isFn)(t.getUidExt)){var a=t.getUidExt(e);a&&(i.ext=a)}if(r.uids=[i],(0,l.isFn)(t.getEidExt)){var c=t.getEidExt(e);c&&(r.ext=c)}return r}}return null}function m(e){var n=[],t=function(t){if(e.hasOwnProperty(t))if("pubProvidedId"===t)n=n.concat(e.pubProvidedId);else if(Array.isArray(e[t]))e[t].forEach((function(e,r,o){var i=p(e,t);i&&n.push(i)}));else{var r=p(e[t],t);r&&n.push(r)}};for(var r in e)t(r);return n}var y,v,b,h,I,E,w=t(15164),O=t(96475),D=t(7563),k=t(68792),j=t(17673),S=t(26372),x=t(99128),P=t(38196),A=t(34516),U=t(9633),C=t(50571),T=t(74947),V=t(10286),_="User ID",q=w.c$,N=w.Dp,R="_pbjs_userid_consent_data",Z=30,F="_pbjs_id_optout",L=(0,w.eA)("userId"),z={isAllowed:C.xD},G=!1,M=[],W=[],B=[],J=function(){return null==E&&(E=(0,x.V6)()),E};function H(e){return J().fork().renameWith((function(n){return["userId.mod.".concat(n),"userId.mods.".concat(e,".").concat(n)]}))}function K(e,n){n=n||e.storageMgr;var t="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,r=e.config.storage.name;return function(e,o,i){n.setCookie(r+(e||""),o,i,"Lax",t)}}function Y(e,n){var t=e.config.storage,r=e.storageMgr;try{var o=new Date(Date.now()+864e5*t.expires).toUTCString(),i=(0,l.isPlainObject)(n)?JSON.stringify(n):n;if(t.type===q){var a=K(e);a(null,i,o),"number"==typeof t.refreshInSeconds&&a("_last",(new Date).toUTCString(),o)}else t.type===N&&(r.setDataInLocalStorage("".concat(t.name,"_exp"),o),r.setDataInLocalStorage(t.name,encodeURIComponent(i)),"number"==typeof t.refreshInSeconds&&r.setDataInLocalStorage("".concat(t.name,"_last"),(new Date).toUTCString()))}catch(e){(0,l.logError)(e)}}function $(e){var n,t,r,o;switch(null===(n=e.config)||void 0===n||null===(t=n.storage)||void 0===t?void 0:t.type){case q:var i=K(e,L),a=new Date(Date.now()-864e5).toUTCString();r=function(e){return i(e,"",a)},o=["","_last"];break;case N:r=function(n){return L.removeDataFromLocalStorage(e.config.storage.name+n)},o=["","_last","_exp"]}r&&o.forEach((function(e){try{r(e)}catch(e){(0,l.logError)(e)}}))}function Q(e){var n=(0,l.getPrebidInternal)().setEidPermissions;"function"==typeof n&&(0,l.isArray)(e)&&n(function(e){var n=[];return e.filter((function(e){return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(t){(0,f.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&(0,f.Z)(g,t+".source")&&n.push({source:g[t].source,bidders:e.config.bidders})}))})),n}(e))}function X(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.storageMgr,o=e.config.storage,i=t?"".concat(o.name,"_").concat(t):o.name;try{if(o.type===q)n=r.getCookie(i);else if(o.type===N){var a=r.getDataFromLocalStorage("".concat(o.name,"_exp"));""===a?n=r.getDataFromLocalStorage(i):a&&new Date(a).getTime()-Date.now()>0&&(n=decodeURIComponent(r.getDataFromLocalStorage(i)))}"string"==typeof n&&"{"===n.trim().charAt(0)&&(n=JSON.parse(n))}catch(e){(0,l.logError)(e)}return n}function ee(e){var n={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(n.consentString=e.consentString,n.gdprApplies=e.gdprApplies,n.apiVersion=e.apiVersion),(0,l.cyrb53Hash)(JSON.stringify(n))}function ne(e){try{var n=new Date(Date.now()+864e5*Z).toUTCString();L.setCookie(R,ee(e),n,"Lax")}catch(e){(0,l.logError)(e)}}function te(){try{return L.getCookie(R)}catch(e){(0,l.logError)(e)}}function re(e,n){n=J().fork().startTiming("userId.callbacks.total").stopBefore(n);var t=(0,l.delayExecution)((function(){clearTimeout(undefined),n()}),e.length);e.forEach((function(e){var n=H(e.submodule.name).startTiming("callback").stopBefore(t);try{e.callback((function(t){t?(e.config.storage&&Y(e,t),e.idObj=e.submodule.decode(t,e.config),Ie(e.idObj)):(0,l.logInfo)("".concat(_,": ").concat(e.submodule.name," - request id responded with an empty value")),n()}),X.bind(null,e))}catch(t){(0,l.logError)("Error in userID module '".concat(e.submodule.name,"':"),t),n()}e.callback=void 0}))}function oe(e,n){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&(0,l.isArray)(e.bids)&&e.bids.forEach((function(e){var t=function(e,n){return Array.isArray(e)&&e.length&&n?e.filter((function(e){return!e.config.bidders||!(0,l.isArray)(e.config.bidders)||(0,i.q9)(e.config.bidders,n)})).filter((function(e){return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,n){return Object.keys(n.idObj).forEach((function(t){e[t]=n.idObj[t]})),e}),{}):{}}(n,e.bidder);Object.keys(t).length&&(e.userId=t,e.userIdAsEids=m(t))}))}))}var ie,ae={};function ce(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.delay,o=void 0===r?k.Z.timeout:r,i=(0,k.P)(),a=(0,k.P)(),f=!1;function g(t){return n=J().fork(),null!=e&&e.reject(ae),e=(0,k.P)(),k.Z.race([t,e.promise]).finally(n.startTiming("userId.total"))}var p=y,m=M;function h(e){return function(){if(p===y&&m===M)return e.apply(void 0,arguments)}}function I(){return u.rp.promise.finally(n.startTiming("userId.init.gdpr"))}var E=g(k.Z.all([d.Cd,i.promise]).then(I).then(h((function(e){Ee(p,m,e)}))).then((function(){return a.promise.finally(n.startTiming("userId.callbacks.pending"))})).then(h((function(){var e=p.filter((function(e){return(0,l.isFn)(e.callback)}));if(e.length)return new k.Z((function(n){return re(e,n)}))}))));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refresh,t=void 0!==n&&n,r=e.submoduleNames,u=void 0===r?null:r,d=e.ready,l=void 0!==d&&d;return l&&!f&&(f=!0,i.resolve(),b>0?a.resolve():c.on(s.FP.AUCTION_END,(function e(){c.off(s.FP.AUCTION_END,e),o(v).then(a.resolve)}))),t&&f&&(E=g(E.catch((function(){return null})).then(I).then(h((function(e){var n=Ee(p,m.filter((function(e){return null==u||u.includes(e.submodule.name)})),e,!0).filter((function(e){return null!=e.callback}));if(n.length)return new k.Z((function(e){return re(n,e)}))}))))),E}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le()||[],n=h&&e.find((function(e){return e.source===h}));if(n&&"string"==typeof(0,f.Z)(n,"uids.0.id")){var t=n.uids[0].id.replace(/[\W_]/g,"");if(t.length>=32&&t.length<=150)return t;(0,l.logWarn)("User ID - Googletag Publisher Provided ID for ".concat(h," is not between 32 and 150 characters - ").concat(t))}}var se=(0,x.g3)("userId",(function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?k.Z.timeout:i,c=r.getIds,u=void 0===c?ve:c;k.Z.race([u().catch((function(){return null})),a(b)]).then((function(){oe(n.adUnits||(0,o.R)().adUnits,y),J().join((0,x.Bf)(n.metrics),{propagate:!1,includeGroups:!0}),e.call(t,n)}))}));function de(){return function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,n){return Object.keys(n.idObj).forEach((function(t){e[t]=n.idObj[t]})),e}),{}):{}}(y)}function le(){return m(de())}function fe(e){return m(function(e,n){if(!Array.isArray(e)||!e.length)return{};var t=e.filter((function(e){var t;return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length&&(null===(t=g[Object.keys(e.idObj)[0]])||void 0===t?void 0:t.source)===n}));return(0,l.isEmpty)(t)?[]:t[0].idObj}(y,e))[0]}function ge(e,n,t){return ie().then((function(){var r={};if((0,l.isFn)(t)){(0,l.logInfo)("".concat(_," - Getting encrypted signal from custom function : ").concat(t.name," & source : ").concat(e," "));var o=t(e);r[e]=o?pe(o):null}else{var i=fe(e);(0,l.logInfo)("".concat(_," - Getting encrypted signal for eids :").concat(JSON.stringify(i))),(0,l.isEmpty)(i)||(r[i.source]=!0===n?pe(i):i.uids[0].id)}return(0,l.logInfo)("".concat(_," - Fetching encrypted eids: ").concat(r[e])),r[e]}))}function pe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="";if(1===n)t="object"===(0,r.Z)(e)?window.btoa(JSON.stringify(e)):window.btoa(e);return"".concat(n,"||").concat(t)}function me(){if((0,l.isGptPubadsDefined)()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var e=a.vc.getConfig("userSync.encryptedSignalSources");if(e){var n=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var n=e.source,t=e.encrypt,r=e.customFunc;n.forEach((function(e){window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:function(){return ge(e,t,r)}})}))}))}),n)}else(0,l.logWarn)("".concat(_," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.submoduleNames,t=arguments.length>1?arguments[1]:void 0;return ie({refresh:!0,submoduleNames:n}).then((function(){return t&&(0,l.isFn)(t)&&t(),de()}))}function ve(){return ie().then((function(){return de()}),(function(e){return e===ae?Promise.resolve().then(ve):((0,l.logError)("Error initializing userId",e),k.Z.reject(e))}))}var be=(0,d.z3)("sync",(function(e,n){return{userIdModules:e,hasValidated:n&&n.hasValidated}}),"validateGdprEnforcement");function he(e,n,t,r){if(e.config.storage){var o,i=X(e),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var c=new Date(X(e,"last"));a=c&&Date.now()-c.getTime()>1e3*e.config.storage.refreshInSeconds}!i||a||r||!function(e,n){return null!=e&&e===ee(n)}(t,n)?o=e.submodule.getId(e.config,n,i):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,n,i)),(0,l.isPlainObject)(o)&&(o.id&&(Y(e,o.id),i=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),i&&(e.idObj=e.submodule.decode(i,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var u=e.submodule.getId(e.config,n,void 0);(0,l.isPlainObject)(u)&&("function"==typeof u.callback&&(e.callback=u.callback),u.id&&(e.idObj=e.submodule.decode(u.id,e.config)))}Ie(e.idObj)}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();if(e&&h){var n=ue(m(e));n&&((0,l.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(n):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(n)}))))}}function Ee(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return J().fork().measureTime("userId.init.modules",(function(){if(!n.length)return[];if(!(n=n.filter((function(e){return(!e.config.storage||De(e))&&z.isAllowed(T.EL,(0,V.T)(U.y2,e.config.name))}))).length)return(0,l.logWarn)("".concat(_," - no ID module configured")),[];var o=be(n,t),i=o.userIdModules;if(!o.hasValidated&&!(0,j.h)(t))return(0,l.logWarn)("".concat(_," - gdpr permission not valid for local storage or cookies, exit module")),[];var a=te();ne(t);var c=i.reduce((function(e,n){return H(n.submodule.name).measureTime("init",(function(){try{he(n,t,a,r),e.push(n)}catch(e){(0,l.logError)("Error in userID module '".concat(n.submodule.name,"':"),e)}return e}))}),[]);return c.length&&Q(c),c.forEach(we.bind(null,e)),c}))}function we(e,n){for(var t=!1,r=0;r<e.length;r++)if(n.config.name.toLowerCase()===e[r].config.name.toLowerCase()){t=!0,e[r]=n;break}t||e.push(n)}var Oe=new Set([N,q]);function De(e){var n,t;switch(null===(n=e.config)||void 0===n||null===(t=n.storage)||void 0===t?void 0:t.type){case N:if(e.storageMgr.localStorageIsEnabled())return!L.getDataFromLocalStorage(F)||((0,l.logInfo)("".concat(_," - opt-out localStorage found, storage disabled")),!1);break;case q:if(e.storageMgr.cookiesAreEnabled())return!L.getCookie(F)||((0,l.logInfo)("".concat(_," - opt-out cookie found, storage disabled")),!1)}return!1}function ke(){var e=function(e,n){return Array.isArray(e)?e.reduce((function(e,n){return!n||(0,l.isEmptyStr)(n.name)||(n.storage&&!(0,l.isEmptyStr)(n.storage.type)&&!(0,l.isEmptyStr)(n.storage.name)&&Oe.has(n.storage.type)||(0,l.isPlainObject)(n.value)?e.push(n):n.storage||n.value||e.push(n)),e}),[]):[]}(W);if(e.length){var n=B.filter((function(e){return!(0,i.sE)(M,(function(n){return n.name===e.name}))}));M.splice(0,M.length),n.map((function(n){var t=(0,i.sE)(e,(function(e){return e.name&&(e.name.toLowerCase()===n.name.toLowerCase()||n.aliasName&&e.name.toLowerCase()===n.aliasName.toLowerCase())}));return t&&n.name!==t.name&&(t.name=n.name),n.findRootDomain=P.W,t?{submodule:n,config:t,callback:void 0,idObj:void 0,storageMgr:(0,w.df)({moduleType:U.y2,moduleName:t.name})}:null})).filter((function(e){return null!==e})).forEach((function(e){return M.push(e)})),!G&&M.length&&((0,o.R)().requestBids.before(se,40),u.ZP.callDataDeletionRequest.before(je),D.G.after((function(e){return e(ue())})),(0,l.logInfo)("".concat(_," - usersync config updated for ").concat(M.length," submodules: "),M.map((function(e){return e.submodule.name}))),G=!0)}}function je(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];(0,l.logInfo)("UserID: received data deletion request; deleting all stored IDs..."),M.forEach((function(e){if("function"==typeof e.submodule.onDataDeletionRequest)try{var n;(n=e.submodule).onDataDeletionRequest.apply(n,[e.config,e.idObj].concat(t))}catch(n){(0,l.logError)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),n)}$(e)})),e.apply(this,t)}function Se(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.delay,r=void 0===t?k.Z.timeout:t;h=void 0,M=[],W=[],G=!1,y=[],ie=ce({delay:r}),null!=I&&I(),B=[],I=e.getConfig("userSync",(function(e){var n=e.userSync;h=n.ppid,n&&n.userIds&&(W=n.userIds,v=(0,l.isNumber)(n.syncDelay)?n.syncDelay:500,b=(0,l.isNumber)(n.auctionDelay)?n.auctionDelay:0,ke(),ie({ready:!0}))})),(0,o.R)().getUserIds=de,(0,o.R)().getUserIdsAsEids=le,(0,o.R)().getEncryptedEidsForSource=Se(ge),(0,o.R)().registerSignalSources=me,(0,o.R)().refreshUserIds=Se(ye),(0,o.R)().getUserIdsAsync=Se(ve),(0,o.R)().getUserIdsAsEidBySource=fe}(a.vc),(0,d.bA)("userId",(function(e){(0,i.sE)(B,(function(n){return n.name===e.name}))||(B.push(e),A.qh.register(U.y2,e.name,e.gvlid),ke(),ie({refresh:!0,submoduleNames:[e.name]}))})),(0,S.f8)({type:S.Z,name:"userExtEids",fn:function(e,n,t){var r=(0,f.Z)(t,"bidRequests.0.userIdAsEids");r&&Object.keys(r).length>0&&(0,O.N)(e,"user.ext.eids",r)}}),(0,o.z)("userId")},7563:function(e,n,t){t.d(n,{G:function(){return r}});var r=(0,t(92797).z3)("sync",(function(){}))},26372:function(e,n,t){t.d(n,{DZ:function(){return a},Px:function(){return c},TP:function(){return s},YC:function(){return u},Z:function(){return i},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return d}});var r=["request","imp","bidResponse","response"],o=["default","pbs"],i=r[0],a=r[1],c=r[2],u=r[3],s=o[0],d=o[1],l=new Set(r);var f,g=(f={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,o=e.fn,i=e.priority,a=void 0===i?0:i,c=e.dialects,u=void 0===c?[s]:c;if(!l.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){f.hasOwnProperty(e)||(f[e]={}),f[e].hasOwnProperty(n)||(f[e][n]={}),f[e][n][t]={priority:a,fn:o}}))},getProcessors:function(e){return f[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors},17673:function(e,n,t){t.d(n,{h:function(){return o}});var r=t(20265);function o(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){var n;n=82547,e(e.s=n)}]);
/* fabrickIdSystem.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[36294],{22980:function(r,n,e){var t=e(78640),a=e(64358),o=e(48928),c=e(92797),i=e(25102),f={name:"fabrickId",decode:function(r){return r&&r.fabrickId?{fabrickId:r.fabrickId}:void 0},getId:function(r,n,e){try{var t=r&&r.params||{};if(window.fabrickMod1&&window.fabrickMod1(t,n,e),!t||!t.apiKey||"string"!=typeof t.apiKey)return void(0,a.logError)("fabrick submodule requires an apiKey.");try{var c=function(r){return r.url?r.url:"https://fid.agkn.com/f?"}(t),f=Object.keys(t);for(var u in f){var l=f[u];if(!("url"===l||"refererInfo"===l||l.length>3&&"max"===l.substring(0,3))){var d=t[l];if(Array.isArray(d))for(var b in d)"string"!=typeof d[b]&&"number"!=typeof d[b]||(c+="".concat(l,"=").concat(d[b],"&"));else"string"!=typeof d&&"number"!=typeof d||(c+="".concat(l,"=").concat(d,"&"))}}c=c.slice(0,-1);var h=function(r){return r.refererInfo?r.refererInfo:(0,i.nH)()}(t),g=new Map;s(g,h.topmostLocation),h.stack&&h.stack[0]&&s(g,h.stack[0]),s(g,h.canonicalUrl),s(g,window.location.href),g.forEach((function(r){c=function(r,n,e,t){var a=t&&t.maxUrlLen||2e3,o=t&&t.maxRefLen||1e3,c=t&&t.maxSpaceAvailable||50;if(e&&r.length<a-c){var i=a-r.length;return i>o&&(i=o),(e="&".concat(n,"=").concat(encodeURIComponent(e))).length>=i&&("%"===(e=e.substring(0,i)).charAt(e.length-1)?e=e.substring(0,i-1):"%"===e.charAt(e.length-2)&&(e=e.substring(0,i-2))),"".concat(r).concat(e)}return r}(c,"r",r,t)}));return{callback:function(r){var i={success:function(o){if(window.fabrickMod2)return window.fabrickMod2(r,o,t,n,e);var c;if(o)try{c=JSON.parse(o)}catch(r){(0,a.logError)(r),c={}}r(c)},error:function(n){(0,a.logError)("fabrickId fetch encountered an error",n),r()}};(0,o.h)(c,i,null,{method:"GET",withCredentials:!0})}}}catch(r){(0,a.logError)("fabrickIdSystem encountered an error",r)}}catch(r){(0,a.logError)("fabrickIdSystem encountered an error",r)}}};function s(r,n){if(n){var e=n.split("?")[0];if(r.has(e)){var t=r.get(e);n.length>t.length&&r.set(e,n)}else r.set(e,n)}}(0,c.Bx)("userId",f),(0,t.z)("fabrickIdSystem")}},function(r){var n;n=22980,r(r.s=n)}]);
/* fpdModule.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[7910],{63410:function(r,n,t){var o=t(78640),e=t(3193),a=t(92797),i=t(64358),u=t(68792),l=t(99128),c=[];var d=(0,l.g3)("fpd",(function(r,n){var t=this;(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.global,t=void 0===n?{}:n,o=r.bidder,a=void 0===o?{}:o,l=e.vc.getConfig("firstPartyData")||{},d=u.Z.resolve({global:t,bidder:a});return c.sort((function(r,n){return(r.queue||1)-(n.queue||1)})).forEach((function(r){d=d.then((function(n){var t=n.global,o=n.bidder;return u.Z.resolve(r.processFpd(l,{global:t,bidder:o})).catch((function(n){return(0,i.logError)("Error in FPD module ".concat(r.name),n),{}})).then((function(r){return{global:r.global||t,bidder:r.bidder||o}}))}))})),d})(n.ortb2Fragments).then((function(o){Object.assign(n.ortb2Fragments,o),r.call(t,n)}))}));(0,a.bA)("firstPartyData",(function(r){c.push(r)})),(0,a.v5)("startAuction").before(d,10),(0,o.z)("fpdModule")}},function(r){var n;n=63410,r(r.s=n)}]);
/* gdprEnforcement.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[87083],{31498:function(n,e,r){var t=r(4942),o=r(78640),u=r(64358),a=r(20265),c=r(3193),i=r(51039),s=r(34614),f=r(92797),l=r(52021),p=r(5644),d=r(34516),v=r(9633),g=r(16310),y=r(50571),b=r(74947);function m(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function h(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function O(n,e){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,e){if(!n)return;if("string"==typeof n)return E(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(n,e)}(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var t=0,o=function(){};return{s:o,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return a=n.done,n},e:function(n){c=!0,u=n},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw u}}}}function E(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var w,P,j,A,k={purpose1:{id:1,name:"storage"},purpose2:{id:2,name:"basicAds"},purpose7:{id:7,name:"measurement"}},D=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}],S=new Set,C=new Set,I=new Set,B=!1,$=!1,U=[v.UL,v.y2,v._U,v.XG],Z="TCF2",x=[];function F(n,e,r){if(e){var t=c.vc.getConfig("gvlMapping");if(t&&t[e])return t[e];if(n===v.wu)return d.$P;var o=d.qh.get(e),a=o.gvlid,i=o.modules;if(null==a&&Object.keys(i).length>0){var s,f=O(U);try{for(f.s();!(s=f.n()).done;){var l=s.value;if(i.hasOwnProperty(l)){a=i[l],l!==n&&(0,u.logWarn)("Multiple GVL IDs found for module '".concat(e,"'; using the ").concat(l," module's ID (").concat(a,") instead of the ").concat(n,"'s ID (").concat(i[n],")"));break}}}catch(n){f.e(n)}finally{f.f()}}return null==a&&r&&(a=r()),a||null}return null}function M(n,e,r){return null==n&&i.rp.enabled?((0,u.logWarn)("Attempting operation that requires purpose ".concat(e," consent while consent data is not available").concat(r?" (module: ".concat(r,")"):"",". Assuming no consent was given.")),!0):n&&n.gdprApplies}function T(n,e,r,t){var o=k[Object.keys(k).filter((function(e){return k[e].name===n.purpose}))[0]].id;if((n.vendorExceptions||[]).includes(r))return!0;var u=!(t===d.$P||(n.softVendorExceptions||[]).includes(r)),c=(0,a.Z)(e,"vendorData.purpose.consents.".concat(o)),i=!u||(0,a.Z)(e,"vendorData.vendor.consents.".concat(t)),s=(0,a.Z)(e,"vendorData.purpose.legitimateInterests.".concat(o)),f=!1===n.enforcePurpose||!0===c,l=!1===n.enforceVendor||!0===i;return 2===o?f&&l||!0===s:f&&l}function V(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null};return function(o){var u=i.rp.getConsentData(),a=o[g.bp];if(M(u,n,a)){var c=F(o[g.$k],a,t(o)),s=!!T(e(),u,a,c);if(!s)return r&&r.add(a),{allow:s}}}}var L,N=(L=V(1,(function(){return w}),S),function(n){if(n[g.$k]!==v.wu||$)return L(n)}),G=V(1,(function(){return w}),S),W=V(1,(function(){return w}),S);function _(n,e,r){M(r,1,"User ID")?n.call(this,e,h(h({},r),{},{hasValidated:!0})):n.call(this,e,r)}var q=function(n){return function(e){if(e[g.$k]===v.UL)return n(e)}}(V(2,(function(){return P}),C)),z=V(7,(function(){return j}),I,(function(n){return e=n[g.bp],r=n[g.Hw],function(n){if("function"!=typeof n)return n;try{return n.call(o.adapter,r)}catch(n){(0,u.logError)("Error invoking ".concat(e," adapter.gvlid()"),n)}}(null==(o=i.ZP.getAnalyticsAdapter(e))||null===(t=o.adapter)||void 0===t?void 0:t.gvlid);var e,r,t,o}));l.on(p.FP.AUCTION_END,(function(){var n=function(n){return Array.from(n.keys()).filter((function(n){return null!=n}))},e={storageBlocked:n(S),biddersBlocked:n(C),analyticsBlocked:n(I)};l.emit(p.FP.TCF2_ENFORCEMENT,e),[S,C,I].forEach((function(n){return n.clear()}))}));var H=function(n){return n.purpose===k.purpose1.name},K=function(n){return n.purpose===k.purpose2.name},R=function(n){return n.purpose===k.purpose7.name};c.vc.getConfig("consentManagement",(function(n){return function(n){var e=(0,a.Z)(n,"gdpr.rules");e?A=e:((0,u.logWarn)("TCF2: enforcing P1 and P2 by default"),A=D),$=!!(0,a.Z)(n,"strictStorageEnforcement"),w=(0,s.sE)(A,H),P=(0,s.sE)(A,K),j=(0,s.sE)(A,R),w||(w=D[0]),P||(P=D[1]),B||(w&&(B=!0,x.push((0,y.oB)(b.S1,Z,N)),x.push((0,y.oB)(b.K$,Z,G)),x.push((0,y.oB)(b.EL,Z,W)),(0,f.v5)("validateGdprEnforcement").before(_,47)),P&&x.push((0,y.oB)(b.UE,Z,q)),j&&x.push((0,y.oB)(b.x$,Z,z)))}(n.consentManagement)})),(0,o.z)("gdprEnforcement")}},function(n){var e;e=31498,n(n.s=e)}]);
/* gptPreAuction.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[65296],{96787:function(t,e,o){var r=o(78640),n=o(64358),a=o(20265),d=o(3193),i=o(92797),u=o(34614),c=void 0,s={},f=!1,p=function(t){var e=s.customGptSlotMatching;if((0,n.isGptPubadsDefined)()){var o=t.reduce((function(t,e){return t[e.code]=e,t}),{});window.googletag.pubads().getSlots().forEach((function(t){var r=(0,u.sE)(Object.keys(o),e?e(t):(0,n.isAdUnitCodeMatchingSlot)(t));if(r){var a=o[r];a.ortb2Imp=a.ortb2Imp||{},a.ortb2Imp.ext=a.ortb2Imp.ext||{},a.ortb2Imp.ext.data=a.ortb2Imp.ext.data||{};var d=a.ortb2Imp.ext.data;d.adserver=d.adserver||{},d.adserver.name="gam",d.adserver.adslot=l(t.getAdUnitPath())}}))}},l=function(t){return(d.vc.getConfig("gptPreAuction")||{}).mcmEnabled?t.replace(/(^\/\d*),\d*\//,"$1/"):t},b=function(t,e){var o=t.ortb2Imp.ext.data;if(o.pbadslot)return o.pbadslot;if((0,n.isGptPubadsDefined)()){var r=window.googletag.pubads().getSlots().filter((function(t){return t.getAdUnitPath()===e}));if(0!==r.length)return 1===r.length?e:"".concat(e,"#").concat(t.code)}},g=function(t){var e=t.ortb2Imp.ext.data,o=s.customPbAdSlot;if(!e.pbadslot)if(o)e.pbadslot=o(t.code,(0,a.Z)(e,"adserver.adslot"));else{try{var r=document.getElementById(t.code);if(r.dataset.adslotid)return void(e.pbadslot=r.dataset.adslotid)}catch(t){}if(!(0,a.Z)(e,"adserver.adslot"))return e.pbadslot=t.code,!0;e.pbadslot=e.adserver.adslot}},m=function(t,e){p(e);var o=s,r=o.useDefaultPreAuction,n=o.customPreAuction;e.forEach((function(t){t.ortb2Imp=t.ortb2Imp||{},t.ortb2Imp.ext=t.ortb2Imp.ext||{},t.ortb2Imp.ext.data=t.ortb2Imp.ext.data||{};var e=t.ortb2Imp.ext;if(n||r){var o,d=(0,a.Z)(e,"data.adserver.adslot");n?o=n(t,d):r&&(o=b(t,d)),o&&(e.gpid=e.data.pbadslot=o)}else{var i=g(t);e.gpid||i||(e.gpid=e.data.pbadslot)}}));for(var d=arguments.length,i=new Array(d>2?d-2:0),u=2;u<d;u++)i[u-2]=arguments[u];return t.call.apply(t,[c,e].concat(i))},v=function(t){(s=(0,n.pick)(t,["enabled",function(t){return!1!==t},"customGptSlotMatching",function(t){return"function"==typeof t&&t},"customPbAdSlot",function(t){return"function"==typeof t&&t},"customPreAuction",function(t){return"function"==typeof t&&t},"useDefaultPreAuction",function(t){return!0===t}])).enabled?f||((0,i.v5)("makeBidRequests").before(m),f=!0):((0,n.logInfo)("".concat("GPT Pre-Auction",": Turning off module")),s={},(0,i.v5)("makeBidRequests").getHooks({hook:m}).remove(),f=!1)};d.vc.getConfig("gptPreAuction",(function(t){return v(t.gptPreAuction)})),v({}),(0,r.z)("gptPreAuction")}},function(t){var e;e=96787,t(t.s=e)}]);
/* id5IdSystem.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[61618],{10272:function(e,t,r){var n=r(4942),o=r(15671),i=r(43144),a=r(78640),s=r(20265),c=r(64358),u=r(96475),p=r(48928),d=r(92797),l=r(25102),g=r(15164),f=r(51039),h=r(9633);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function y(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var D="id5id",S="".concat(D,"_privacy"),I="html5",O="User ID - ID5 submodule: ",w=["pbjs-id5id","id5id.1st","id5id"],C=(0,g.df)({moduleType:h.y2,moduleName:"id5Id"}),E={name:"id5Id",gvlid:131,decode:function(e,t){var r={};if(e&&"string"==typeof e.universal_uid){var n={id5id:{uid:e.universal_uid,ext:r=e.ext||r}};switch((0,s.Z)(e,"ab_testing.result")){case"control":(0,c.logInfo)(O+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),(0,u.N)(n,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,c.logError)(O+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,c.logInfo)(O+"A/B Testing - user is NOT in the Control Group"),(0,u.N)(n,"id5id.ext.abTestingControlGroup",!1)}return(0,c.logInfo)(O+"Decoded ID",n),n}},getId:function(e,t,r){if(W(e)){if(R(t)){return{callback:function(n){new N(e,t,r,f.nX.getConsentData()).execute().then((function(e){n(e)})).catch((function(e){(0,c.logError)(O+"getId fetch encountered an error",e),n()}))}}}(0,c.logInfo)(O+"Skipping ID5 local storage write because no consent given.")}},extendId:function(e,t,r){return W(e),R(t)?(F(e&&e.params&&e.params.partner||0),(0,c.logInfo)(O+"using cached ID",r),r):((0,c.logInfo)(O+"No consent given for ID5 local storage writing, skipping nb increment."),r)}},P=new WeakSet,j=new WeakSet,T=new WeakSet,k=new WeakSet,x=new WeakSet,N=function(){function e(t,r,n,i){(0,o.Z)(this,e),b(this,x),b(this,k),b(this,T),b(this,j),b(this,P),this.submoduleConfig=t,this.gdprConsentData=r,this.cacheIdObj=n,this.usPrivacyData=i}return(0,i.Z)(e,[{key:"execute",value:function(){var e=this;return y(this,j,G).call(this,this.submoduleConfig).then((function(t){return y(e,T,J).call(e,t.extensionsCall).then((function(r){return y(e,k,A).call(e,t.fetchCall,r)}))})).then((function(t){try{q(e.submoduleConfig.params.partner,0),t.privacy&&U(S,JSON.stringify(t.privacy),30)}catch(e){(0,c.logError)(O+e)}return t}))}}]),e}();function _(e,t,r){return new Promise((function(n,o){(0,p.h)(e,{success:function(e){n(e)},error:function(e){o(e)}},t,r)}))}function G(e){var t=e.params.configUrl||"https://id5-sync.com/api/config/prebid";return y(this,P,_).call(this,t,JSON.stringify(e),{method:"POST"}).then((function(e){var t=JSON.parse(e);return(0,c.logInfo)(O+"config response received from the server",t),t}))}function J(e){if(void 0===e)return Promise.resolve(void 0);var t=e.url,r=e.method||"GET",n="GET"===r?void 0:JSON.stringify(e.body||{});return y(this,P,_).call(this,t,n,{method:r}).then((function(e){var t=JSON.parse(e);return(0,c.logInfo)(O+"extensions response received from the server",t),t}))}function A(e,t){var r=e.url,n=e.overrides||{},o=v(v(v({},y(this,x,L).call(this)),n),{},{extensions:t});return y(this,P,_).call(this,r,JSON.stringify(o),{method:"POST",withCredentials:!0}).then((function(e){var t=JSON.parse(e);return(0,c.logInfo)(O+"fetch response received from the server",t),t}))}function L(){var e,t=this.submoduleConfig.params,r=this.gdprConsentData&&"boolean"==typeof this.gdprConsentData.gdprApplies&&this.gdprConsentData.gdprApplies?1:0,n=(0,l.nH)(),o=this.cacheIdObj&&this.cacheIdObj.signature?this.cacheIdObj.signature:(w.forEach((function(t){C.getCookie(t)&&(e=(0,c.safeJSONParse)(C.getCookie(t))||e)})),e&&e.signature||""),i=F(t.partner),a={partner:t.partner,gdpr:r,nbPage:i,o:"pbjs",tml:n.topmostLocation,ref:n.ref,cu:n.canonicalUrl,top:n.reachedTop?1:0,u:n.stack[0]||window.location.href,v:"7.54.3",storage:this.submoduleConfig.storage,localStorage:C.localStorageIsEnabled()?1:0};!r||void 0===this.gdprConsentData.consentString||(0,c.isEmpty)(this.gdprConsentData.consentString)||(0,c.isEmptyStr)(this.gdprConsentData.consentString)||(a.gdpr_consent=this.gdprConsentData.consentString),void 0===this.usPrivacyData||(0,c.isEmpty)(this.usPrivacyData)||(0,c.isEmptyStr)(this.usPrivacyData)||(a.us_privacy=this.usPrivacyData),void 0===o||(0,c.isEmptyStr)(o)||(a.s=o),void 0===t.pd||(0,c.isEmptyStr)(t.pd)||(a.pd=t.pd),void 0===t.provider||(0,c.isEmptyStr)(t.provider)||(a.provider=t.provider);var s=t.abTesting||{enabled:!1};return s.enabled&&(a.ab_testing={enabled:!0,control_group_pct:s.controlGroupPct}),a}function W(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==I&&(0,c.logWarn)(O+"storage type recommended to be '".concat(I,"'. In a future release this may become a strict requirement")),e.storage.name!==D&&(0,c.logWarn)(O+"storage name recommended to be '".concat(D,"'. In a future release this may become a strict requirement")),!0):((0,c.logError)(O+"storage required to be set"),!1):((0,c.logError)(O+"partner required to be defined as a number"),!1)}function Z(e){return"".concat(D,"_").concat(e,"_nb")}function q(e,t){U(Z(e),t,30)}function B(e){var t=function(e){var t=C.getDataFromLocalStorage("".concat(e,"_exp"));if(""===t)return C.getDataFromLocalStorage(e);if(t&&new Date(t).getTime()-Date.now()>0)return C.getDataFromLocalStorage(e);return C.removeDataFromLocalStorage(e),null}(Z(e));return t?parseInt(t):0}function F(e){var t=B(e)+1;return q(e,t),t}function U(e,t,r){C.setDataInLocalStorage("".concat(e,"_exp"),function(e){return new Date(Date.now()+864e5*e).toUTCString()}(r)),C.setDataInLocalStorage("".concat(e),t)}function R(e){var t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies,r=(0,s.Z)(e,"vendorData.purpose.consents.1"),n=(0,s.Z)(e,"vendorData.vendor.consents.".concat(131..toString()));return!!(!t||r&&n)}(0,d.Bx)("userId",E),(0,a.z)("id5IdSystem")}},function(e){var t;t=10272,e(e.s=t)}]);
/* ixBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[40155],{33390:function(e,t,r){var i=r(93324),n=r(89062),a=r(71002),o=r(4942),d=r(78640),s=r(20265),p=r(64358),c=r(96475),u=r(24679),l=r(3193),f=r(5644),m=r(15164),g=r(52021),v=r(34614),b=r(14699),y=r(90154),x=r(35706);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){d=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}var Z="ix",S="roundel",E=[u.Mk,u.pX,u.B5],P=[144,144],T={JPY:1},k="p",D="x",C=1,j=2,A=3,B=4,F=5,N=9,_={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},U={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":""},R=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],X=["mimes","minduration","maxduration"],z=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],L="ixdiag",M="".concat(Z,"_features"),q=!1,W=(0,m.df)({bidderCode:Z}),G={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return(0,s.Z)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(W.localStorageIsEnabled()){var e=(0,p.safeJSONParse)(W.getDataFromLocalStorage(M));(0,s.Z)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,i=(0,s.Z)(t,"ext.features");i&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:i},W.localStorageIsEnabled()&&W.setDataInLocalStorage(M,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},W.localStorageIsEnabled()&&W.removeDataFromLocalStorage(M)}},J=0,V="",H="",Q=!1,$=2;function Y(e){var t=K(e,u.pX),r=(0,s.Z)(e,"mediaTypes.video"),i=(0,s.Z)(e,"params.video");if(ne(r,i).length)return{};for(var n in t.video=i?(0,p.deepClone)(e.params.video):{},t.ext.tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),ue(t,e),r)-1===z.indexOf(n)||t.video.hasOwnProperty(n)||(t.video[n]=r[n]);if(t.video.minduration>t.video.maxduration)return(0,p.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:Z,code:N}),{};var a=i&&i.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,p.isInteger)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,p.logWarn)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),a&&!t.video.hasOwnProperty("placement")&&(a===y.LD?t.video.placement=1:a===y.gZ?(0,s.Z)(i,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,Q=!0):(0,p.logWarn)("IX Bid Adapter: Video context '".concat(a,"' is not supported"))),!t.video.w||!t.video.h){var o=ae((0,s.Z)(t,"video.playerSize"))||ae((0,s.Z)(e,"params.size"));if(!o)return(0,p.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=o[0],t.video.h=o[1]}return ee(e,t,u.pX),t}function K(e,t){var r={};if(r.id=e.bidId,r.ext={},(0,s.Z)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case u.Mk:r.ext.siteID=e.params.banner.siteId.toString();break;case u.pX:r.ext.siteID=e.params.video.siteId.toString();break;case u.B5:r.ext.siteID=e.params.native.siteId.toString()}else r.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(r.ext.sid=String(e.params.id)),r}function ee(e,t,r){var i=null,n=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,p.isFn)(e.getFloor)){var a="*",o="*";if(r&&(0,p.contains)(E,r)){var d=t[r];a=r,o=[d.w,d.h]}try{n=e.getFloor({mediaType:a,size:o})}catch(e){(0,p.logWarn)("priceFloors module call getFloor failed, error : ",e)}}var s=!1;n?(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl=k,s=!0):i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=D,s=!0),s&&(r==u.Mk?((0,c.N)(t,"banner.ext.bidfloor",t.bidfloor),(0,c.N)(t,"banner.ext.fl",t.ext.fl)):r==u.pX?((0,c.N)(t,"video.ext.bidfloor",t.bidfloor),(0,c.N)(t,"video.ext.fl",t.ext.fl)):((0,c.N)(t,"native.ext.bidfloor",t.bidfloor),(0,c.N)(t,"native.ext.fl",t.ext.fl)))}function te(e,t,r){var i={},n=!(!(0,s.Z)(e,"exp")||!(0,p.isInteger)(e.exp)),a=(0,s.Z)(e,"dealid")||(0,s.Z)(e,"ext.dealid");T.hasOwnProperty(t)?i.cpm=e.price/T[t]:i.cpm=e.price/100,i.requestId=e.impid,a&&(i.dealId=a),i.netRevenue=true,i.currency=t,i.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=$||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(i.vastUrl=e.ext.vasturl):i.vastXml=e.adm;var o=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{o=JSON.parse(e.adm)}catch(e){(0,p.logWarn)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==$?(i.width=r.video.w,i.height=r.video.h,i.mediaType=u.pX,i.mediaTypes=r.mediaTypes,i.ttl=n?e.exp:3600):o&&o.native?(i.native={ortb:o.native},i.width=e.w?e.w:1,i.height=e.h?e.h:1,i.mediaType=u.B5,i.ttl=n?e.exp:3600):(i.ad=e.adm,i.width=e.w,i.height=e.h,i.mediaType=u.Mk,i.ttl=n?e.exp:300),i.meta={},i.meta.networkId=(0,s.Z)(e,"ext.dspid"),i.meta.brandId=(0,s.Z)(e,"ext.advbrandid"),i.meta.brandName=(0,s.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(i.meta.advertiserDomains=e.adomain),i}function re(e){return Array.isArray(e)&&2===e.length&&(0,p.isInteger)(e[0])&&(0,p.isInteger)(e[1])}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(re(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function ne(e,t){var r=[];e||(0,p.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var i,n=O(X);try{for(n.s();!(i=n.n()).done;){var a=i.value,o=e&&e.hasOwnProperty(a),d=t&&t.hasOwnProperty(a);o||d||r.push("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level"))}}catch(e){n.e(e)}finally{n.f()}var s=e&&e.hasOwnProperty("protocol"),c=e&&e.hasOwnProperty("protocols"),u=t&&t.hasOwnProperty("protocol"),l=t&&t.hasOwnProperty("protocols");return s||c||u||l||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return re(e)?e:!!re(e[0])&&e[0]}function oe(e,t,r){if(e)return h(h({},(0,v.sE)(r,(function(t){return t.bidId===e}))),(0,v.sE)(t,(function(t){return t.id===e})))}function de(e,t,r,i){var n="https://htlb.casalemedia.com/openrtb/pbjs",o=function(e){var t=[],r={};if((0,p.isArray)(e)){var i,n=O(e);try{for(n.s();!(i=n.n()).done;){var a=i.value;U.hasOwnProperty(a.source)&&(0,s.Z)(a,"uids.0")&&(r[a.source]=!0,""!=U[a.source]&&(a.uids[0].ext={rtiPartner:U[a.source]}),delete a.uids[0].atype,t.push(a))}}catch(e){n.e(e)}finally{n.f()}}return{toSend:t,seenSources:r}}((0,s.Z)(e,"0.userIdAsEids")),d=o.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"===(0,a.Z)(r))for(var i in r)if(r.hasOwnProperty(i)){var n=r[i];!n.responsePending&&n.data&&"object"===(0,a.Z)(n.data)&&Object.keys(n.data).length&&!t.seenSources[n.data.source]&&e.push(n.data)}}(d,o),t&&t.bidderCode===S&&!o.seenSources["liveramp.com"])return[];var u=[],f=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=W.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);f=function(e,t){t.length>0&&(e.ext.features={},t.forEach((function(t){e.ext.features[t]={activated:G.isFeatureEnabled(t)}})));return e}(f,G.REQUESTED_FEATURE_TOGGLES);var m=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,r){return r.indexOf(e)===t})),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.54.3",userIds:fe(e[0]),url:window.location.href.split("?")[0],vpd:Q},i=function(i){a=e.filter((function(e){return e.transactionId===t[i]}))[0],(0,s.Z)(a,"mediaTypes")&&(Object.keys(a.mediaTypes).length>1&&r.mfu++,(0,s.Z)(a,"mediaTypes.native")&&r.nu++,(0,s.Z)(a,"mediaTypes.banner")&&r.bu++,"outstream"===(0,s.Z)(a,"mediaTypes.video.context")&&(r.ou++,Oe(a)&&(r.ren=!0)),"instream"===(0,s.Z)(a,"mediaTypes.video.context")&&r.iu++,r.allu++)},n=0;n<t.length;n++){var a;i(n)}return r}(e);for(var g in m)f.ext.ixdiag[g]=m[g];f=function(e,t,r,i,n){var a=(0,s.Z)(t,"timeout");a&&(e.ext.ixdiag.tmax=a);l.vc.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=l.vc.getConfig("userSync").syncsPerBidder);var o=function(){if(!W.localStorageIsEnabled())return;var e,t={};try{e=JSON.parse(W.getDataFromLocalStorage(L)||"{}")}catch(e){return(0,p.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(i){"number"==typeof e[r][i]&&(t[i]=t[i]?t[i]+e[r][i]:e[r][i])}))})),t}();(0,p.isEmpty)(o)||(e.ext.ixdiag.err=o);e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:i[0].auctionId},i[0].schain&&(e.source.ext={},e.source.ext.schain=i[0].schain);n.length>0&&(e.user={},e.user.eids=n);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(f,t,r,e,d),f=function(e,t){if(t){t.gdprConsent&&((V=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:V.gdprApplies?1:0}}),V.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:V.consentString||""},V.hasOwnProperty("addtlConsent")&&V.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:V.addtlConsent}))),t.uspConsent&&((0,c.N)(e,"regs.ext.us_privacy",t.uspConsent),H=t.uspConsent);var r=(0,s.Z)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&((0,c.N)(e,"regs.gpp",t.gppConsent.gppString),(0,c.N)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}l.vc.getConfig("coppa")&&(0,c.N)(e,"regs.coppa",1);return e}(f,t);var v={};J=e[0].params.siteId,v.s=J;for(var b=Object.keys(r),y=!1,x=0;x<b.length&&!(u.length>=4);x++){f=se(r,b,f,x);var I=(0,s.Z)(t,"ortb2")||{},w=h({},I.site||I.context);w.page=pe(t);var Z=h({},I.user);(0,p.isEmpty)(I)||y||((f=ce(t,f,I,w,Z)).site=(0,p.mergeDeep)({},f.site,w),f.user=(0,p.mergeDeep)({},f.user,Z),y=!0),f=le(r,f,b,x,v,n);var E=x===b.length-1;f=Ee(f=Se(f)),E&&(u.push({method:"POST",url:n+"?s="+J,data:(0,p.deepClone)(f),option:{contentType:"text/plain"},validBidRequests:e}),f.imp=[],y=!1)}return u}function se(e,t,r,i){var a=e[t[i]],o=a.missingImps,d=void 0===o?[]:o,l=a.ixImps,f={ixImps:void 0===l?[]:l,missingBannerImpressions:d},m=Object.keys(f).map((function(e){return f[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,(0,n.Z)(t))}),[]),g=e[t[i]].gpid,v=e[t[i]].dfp_ad_unit_code,b=e[t[i]].tid,y=e[t[i]].sid,x=m.filter((function(e){return u.Mk in e})),I=m.filter((function(e){return!(u.Mk in e)}));if(x.length>0){var h=x.reduce((function(e,t){return e[t.id]||(e[t.id]=[]),e[t.id].push(t),e}),{});for(var O in h){for(var w=h[O],Z=w[0],S={id:Z.id,banner:{topframe:Z.banner.topframe,format:w.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}},E=0;E<S.banner.format.length;E++)null!=S.banner.format[E].ext&&null!=S.banner.format[E].ext.sid&&delete S.banner.format[E].ext.sid,"bidfloor"in w[E]&&(S.banner.format[E].ext.bidfloor=w[E].bidfloor);var P=e[t[i]].pos;(0,p.isInteger)(P)&&(S.banner.pos=P),(v||g||b||y)&&(S.ext={},S.ext.dfp_ad_unit_code=v,S.ext.gpid=g,S.ext.tid=b,S.ext.sid=y),"bidfloor"in w[0]&&(S.bidfloor=w[0].bidfloor),"bidfloorcur"in w[0]&&(S.bidfloorcur=w[0].bidfloorcur);var T=e[t[i]].adUnitFPD;T&&(0,c.N)(S,"ext.data",T),r.imp.push(S)}}return I.length>0&&I.forEach((function(e){if((0,c.N)(e,"ext.gpid",g),r.imp.length>0){var t=!1;r.imp.forEach((function(i,n){e.id===i.id&&u.pX in e?(i.video=e.video,i.video.ext=Object.assign({},e.video.ext,e.ext),(0,s.Z)(i,"video.ext.bidfloor",!1)&&(0,s.Z)(i,"bidfloor",!1)&&i.video.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.video.ext.bidfloor),!(0,s.Z)(i,"ext.siteID",!1)&&(0,s.Z)(e,"video.ext.siteID")&&((0,c.N)(i,"ext.siteID",e.video.ext.siteID),(0,c.N)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===i.id&&u.B5 in e&&(i.native=e.native,i.native.ext=Object.assign({},e.native.ext,e.ext),(0,s.Z)(i,"native.ext.bidfloor",!1)&&(0,s.Z)(i,"bidfloor",!1)&&i.native.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.native.ext.bidfloor),!(0,s.Z)(i,"ext.siteID",!1)&&(0,s.Z)(e,"native.ext.siteID",!1)&&((0,c.N)(i,"ext.siteID",e.native.ext.siteID),(0,c.N)(r,"ext.ixdiag.usid",!0)),t=!0)})),t||r.imp.push(e)}else r.imp.push(e)})),r}function pe(e){var t=e&&e.bidderCode||"ix",r=l.vc.getConfig(t),n="";if((n=(0,s.Z)(e,"ortb2.site.page")?e.ortb2.site.page:(0,s.Z)(e,"refererInfo.page"),r)&&"object"===(0,a.Z)(r.firstPartyData))return function(e,t,r){var n;try{n=new URL(t)}catch(r){(0,p.logWarn)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),n=new URL((0,s.Z)(e,"refererInfo.page"))}for(var a=new URLSearchParams(n.search),o=0,d=Object.entries(r);o<d.length;o++){var c=(0,i.Z)(d[o],2),u=c[0],l=c[1];a.has(u)||a.append(u,l)}return n.search=a.toString(),n.toString()}(e,n,r.firstPartyData);return n}function ce(e,t,r,i,n){if(t.ext.ixdiag.fpd=!0,Object.keys(i).forEach((function(e){-1===_.SITE.indexOf(e)&&delete i[e]})),Object.keys(n).forEach((function(e){-1===_.USER.indexOf(e)&&delete n[e]})),r.device){var a=h({},r.device.sua);(0,p.isEmpty)(a)||(0,c.N)(t,"device.sua",a)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,c.N)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,c.N)(t,"regs.gpp_sid",r.regs.gpp_sid)),t}function ue(e,t){var r=(0,s.Z)(t,"ortb2Imp.ext.data");r&&(0,c.N)(e,"ext.data",r)}function le(e,t,r,i,n,a){var o=e[r[i]].pbadslot,d=e[r[i]].tagId,s=e[r[i]].adUnitCode,p=e[r[i]].divId;return(o||d||s||p)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=d,t.ext.ixdiag.adunitcode=s,t.ext.ixdiag.divId=p),t}function fe(e){var t=e.userId||{};return R.filter((function(e){return t[e]}))}function me(e,t){if(t)for(var r=0;r<e.length;r++){var i=e[r];if(t[0]===i[0]&&t[1]===i[1]){e.splice(r,1);break}}}function ge(e,t){var r=function(e){var t=K(e,u.B5),r=e.nativeOrtbRequest;return r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"},t.ext.tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),ue(t,e),ee(e,t,u.B5),t}(e);if(0!=Object.keys(r).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,s.Z)(e,"params.tagId");var i=e.adUnitCode,n=document.getElementById(i)?i:(0,p.getGptSlotInfoForAdUnitCode)(i).divId;t[e.transactionId].adUnitCode=i,t[e.transactionId].divId=n}}function ve(e,t){var r=Y(e);if(0!=Object.keys(r).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,s.Z)(e,"params.tagId");var i=e.adUnitCode,n=document.getElementById(i)?i:(0,p.getGptSlotInfoForAdUnitCode)(i).divId;t[e.transactionId].adUnitCode=i,t[e.transactionId].divId=n}}function be(e,t,r){var i=function(e){var t=K(e,u.Mk);t.banner={};var r=(0,s.Z)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=(0,p.inIframe)()?0:1,ee(e,t,u.Mk),t}(e),n=ie((0,s.Z)(e,"mediaTypes.banner.sizes"),(0,s.Z)(e,"params.size"));r.hasOwnProperty(e.transactionId)||(r[e.transactionId]={}),r[e.transactionId].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),r[e.transactionId].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.transactionId].tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),r[e.transactionId].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),r[e.transactionId].tagId=(0,s.Z)(e,"params.tagId"),r[e.transactionId].pos=(0,s.Z)(e,"mediaTypes.banner.pos");var a=(0,s.Z)(e,"ortb2Imp.ext.data");a&&(r[e.transactionId].adUnitFPD=a);var o=(0,s.Z)(e,"params.id");!o||"string"!=typeof o&&"number"!=typeof o||(r[e.transactionId].sid=String(o));var d=e.adUnitCode,c=document.getElementById(d)?d:(0,p.getGptSlotInfoForAdUnitCode)(d).divId;r[e.transactionId].adUnitCode=d,r[e.transactionId].divId=c,n&&(r[e.transactionId].hasOwnProperty("ixImps")||(r[e.transactionId].ixImps=[]),r[e.transactionId].ixImps.push(i)),function(e,t,r){var i=e.transactionId;if(t.hasOwnProperty(i)){var n=[];t[i].hasOwnProperty("missingSizes")&&(n=t[i].missingSizes),me(n,e.params.size),t[i].missingSizes=n}else if((0,s.Z)(e,"mediaTypes.banner.sizes")){var a=(0,p.deepClone)(e.mediaTypes.banner.sizes);me(a,e.params.size);var o={missingSizes:a,impression:r};t[i]=o}}(e,t,i)}function ye(e,t,r){var i=(0,p.deepClone)(t);return i.banner.w=r[0],i.banner.h=r[1],ee(e,i,u.Mk),i}function xe(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Z&&function(e){if(W.localStorageIsEnabled()){var t;try{t=JSON.parse(W.getDataFromLocalStorage(L)||"{}")}catch(e){(0,p.logWarn)("ix can not read ixdiag from localStorage.")}var r=new Date;if(Object.keys(t).map((function(e){var i=new Date(e);i.setDate(i.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Z){var i=r.toISOString().slice(0,10),n=e.arguments[1].code;n&&(t[i]=t[i]||{},Number(t[i][n])||(t[i][n]=0),t[i][n]++)}W.setDataInLocalStorage(L,JSON.stringify(t))}}(e)}function Ie(e){e.renderer.push((function(){var t=e.adUnitCode,r=document.getElementById(t)?t:(0,p.getGptSlotInfoForAdUnitCode)(t).divId;r?window.createIXPlayer(r,e):(0,p.logWarn)("IX Bid Adapter: adUnitCode: ".concat(r," not found on page."))}))}function he(e,t){var r=x.Th.install({id:e,url:t,loaded:!1});try{r.setRender(Ie)}catch(e){return(0,p.logWarn)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,p.logWarn)("Outstream renderer URL not found"),null)}function Oe(e){if("outstream"!==(0,s.Z)(e,"mediaTypes.video.context"))return!1;var t=(0,s.Z)(e,"mediaTypes.video.renderer");return t||(t=(0,s.Z)(e,"renderer")),!!("object"!==(0,a.Z)(t)||!t.url||!t.render)||t.backupOnly}var we={code:Z,gvlid:10,aliases:[{code:S,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:E,isBidRequestValid:function(e){q||(g.on(f.FP.AUCTION_DEBUG,xe),g.on(f.FP.AD_RENDER_FAILED,xe),q=!0);var t,r,i=(0,s.Z)(e,"params.video"),n=(0,s.Z)(e,"params.size"),a=(0,s.Z)(e,"mediaTypes.banner.sizes"),o=(0,s.Z)(e,"mediaTypes.video"),d=(0,s.Z)(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),u=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,p.contains)(E,e.mediaType))return(0,p.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,s.Z)(e,"mediaTypes.banner")&&!a)return!1;if(n){var l=ae(n);if(!l)return(0,p.logError)("IX Bid Adapter: size has invalid format.",{bidder:Z,code:C}),!1;if(!ie(e.sizes,l)&&!ie(d,l)&&!ie(a,l))return(0,p.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Z,code:j}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,p.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:Z,code:B}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,p.logError)("IX Bid Adapter: siteId must valid value",{bidder:Z,code:B}),!1;if((c||u)&&!(c&&u&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return(0,p.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Z,code:F}),!1;if(o&&i){var m=Y(e).video,v=ne(o,i);if((0,s.Z)(e,"mediaTypes.video.context")===y.gZ&&Oe(e)&&m){var b=[(0,s.Z)(m,"w"),(0,s.Z)(m,"h")];if(!(b[0]>=P[0]&&b[1]>=P[1]))return(0,p.logError)("IX Bid Adapter: ".concat(b," is an invalid size for IX outstream renderer")),!1}if(v.length)return v.forEach((function(e){(0,p.logError)(e,{bidder:Z,code:A})})),!1}return function(e){return void 0===(0,s.Z)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var r=[],i={},a={},o={},d={};for(var c in G.getFeatureToggles(),e.forEach((function(e){var t=Object.keys((0,s.Z)(e,"mediaTypes",{}));for(var r in t)switch(t[r]){case u.Mk:be(e,d,i);break;case u.pX:ve(e,a);break;case u.B5:ge(e,o);break;default:(0,p.logWarn)("IX Bid Adapter: ad unit mediaTypes ".concat(r," is not supported"))}})),d)if(d.hasOwnProperty(c)){var l=d[c].missingSizes;i.hasOwnProperty(c)||(i[c]={}),i[c].hasOwnProperty("missingImps")||(i[c].missingImps=[],i[c].missingCount=0);for(var f=d[c].impression,m=0;m<l.length;m++){var g=ye(e[0],f,l[m]);i[c].missingImps.push(g),i[c].missingCount++}}var v,b=[];return Object.keys(i).length>0&&b.push(i),Object.keys(a).length>0&&b.push(a),Object.keys(o).length>0&&b.push(o),G.isFeatureEnabled("pbjs_enable_multiformat")?r.push.apply(r,(0,n.Z)(de(e,t,(v={},b.forEach((function(e){Object.keys(e).forEach((function(t){Object.keys(v).includes(t)?v[t].hasOwnProperty("ixImps")&&e[t].hasOwnProperty("ixImps")?v[t].ixImps=[].concat((0,n.Z)(v[t].ixImps),(0,n.Z)(e[t].ixImps)):v[t].hasOwnProperty("missingImps")&&e[t].hasOwnProperty("missingImps")?v[t].missingImps=[].concat((0,n.Z)(v[t].missingImps),(0,n.Z)(e[t].missingImps)):e[t].hasOwnProperty("ixImps")?v[t].ixImps=e[t].ixImps:e[t].hasOwnProperty("missingImps")&&(v[t].missingImps=e[t].missingImps):v[t]=e[t]}))})),v)))):(Object.keys(i).length>0&&r.push.apply(r,(0,n.Z)(de(e,t,i))),Object.keys(a).length>0&&r.push.apply(r,(0,n.Z)(de(e,t,a))),Object.keys(o).length>0&&r.push.apply(r,(0,n.Z)(de(e,t,o)))),r},interpretResponse:function(e,t){var r=[],i=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return G.setFeatureToggles(e),r;for(var n=e.body,a=n.seatbid,o=0;o<a.length;o++)if(a[o].hasOwnProperty("bid")){for(var d=a[o].bid,c=t.data,l=0;l<d.length;l++){var f=oe(d[l].impid,c.imp,t.validBidRequests);if((i=te(d[l],n.cur,f)).mediaType===u.pX&&Oe(f)){var m=(0,s.Z)(n,"ext.videoplayerurl");if(i.renderer=he(d[l].bidId,m),!i.renderer)continue}r.push(i)}if((0,s.Z)(c,"ext.ixdiag.err")&&W.localStorageIsEnabled())try{W.removeDataFromLocalStorage(L)}catch(e){(0,p.logError)("ix can not clear ixdiag from localStorage.")}}return G.setFeatureToggles(e),r},transformBidParams:function(e,t){return(0,p.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){var r=[],i=null;if(t.length>0&&(i=(0,s.Z)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==i&&0==i)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var n=null;l.vc.getConfig("userSync")&&(n=l.vc.getConfig("userSync").syncsPerBidder),0===n&&(n=i),n=i&&(0===n||n)?i>n?n:i:1;for(var a=0;a<n;a++)r.push({type:"image",url:Ze(n,a)})}return r}};function Ze(e,t){var r="",i="0";return V&&V.hasOwnProperty("gdprApplies")&&(i=V.gdprApplies?"1":"0"),V&&V.hasOwnProperty("consentString")&&(r=V.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+J.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+i+"&gdpr_consent="+r+"&us_privacy="+(H||"")}function Se(e){return e.imp.forEach((function(t,r){var i=t.ext;if(null==i)return e;Pe(t)<2||Object.keys(i).forEach((function(n){if(u.Mk in t){var a=t.banner.ext;if(void 0!==a&&void 0!==a[n]&&a[n]==i[n]&&delete e.imp[r].banner.ext[n],void 0!==t.banner.format)for(var o=0;o<t.banner.format.length;o++)null!=t.banner.format[o].ext&&null!=t.banner.format[o].ext[n]&&t.banner.format[o].ext[n]==i[n]&&delete e.imp[r].banner.format[o].ext[n]}if(u.pX in t){var d=t.video.ext;void 0!==d&&void 0!==d[n]&&d[n]==i[n]&&delete e.imp[r].video.ext[n]}if(u.B5 in t){var s=t.native.ext;void 0!==s&&void 0!==s[n]&&s[n]==i[n]&&delete e.imp[r].native.ext[n]}}))})),e}function Ee(e){return e.imp.forEach((function(t,r){if(null==t.ext)return e;if(!(Pe(t)<2)){if(u.Mk in t){var i=t.banner.ext;if(void 0!==i&&void 0!==i.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(var n=0;n<t.banner.format.length;n++)void 0!==t.banner.format[n].ext&&void 0!==t.banner.format[n].ext.siteID&&((0,c.N)(e.imp[r],"ext.siteID",t.banner.format[n].ext.siteID),(0,c.N)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[n].ext.siteID)}if(u.pX in t){var a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[r].video.ext.siteID}if(u.B5 in t){var o=t.native.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[r].native.ext.siteID}}})),e}function Pe(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}(0,b.dX)(we),(0,d.z)("ixBidAdapter")}},function(e){var t;t=33390,e(e.s=t)}]);
/* kargoBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[42703],{35526:function(e,t,r){var a,n,i,o=r(93324),d=r(71002),c=r(78640),l=r(64358),u=r(20265),p=r(3193),s=r(14699),E=r(15164),I=r(24679),S=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[I.Mk,I.pX]}),m=(0,E.df)({bidderCode:S.CODE}),g=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),b=Object.freeze({SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),f=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),v=[f.BROWSERS,f.MOBILE,f.MODEL,f.SOURCE,f.PLATFORM],D=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});function T(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}function C(){return a||(a=T()),a}function _(e){try{return m.getDataFromLocalStorage(e)}catch(e){return null}}function R(e,t,r,a,n){var i=O._getCrb(),o={crbIDs:i.syncIds||{}};e&&(o.tdID=e),!e&&i.tdID&&(o.tdID=i.tdID),t&&(o.usp=t);try{r&&(o.gdpr={consent:r.consentString||"",applies:!!r.gdprApplies})}catch(e){}if(null!=i.lexId&&(o.kargoID=i.lexId),null!=i.clientId&&(o.clientID=i.clientId),null!=i.optOut&&(o.optOut=i.optOut),null!=a&&(o.sharedIDEids=a),n){var d={};n&&n.consentString&&(d.gppString=n.consentString),n&&n.applicableSections&&(d.applicableSections=n.applicableSections),(0,l.isEmpty)(d)||(o.gpp=d)}return o}var O={gvlid:S.GVLID,code:S.CODE,isBidRequestValid:function(e){return!(!e||!e.params)&&!!e.params.placementId},buildRequests:function(e,t){var r=p.vc.getConfig(g.KEY),a=r&&r.adServerCurrency?r.adServerCurrency:null,o=[];(0,l._each)(e,(function(e){o.push(function(e){var t={id:e.bidId,tid:e.transactionId,pid:e.params.placementId,code:e.adUnitCode};null!=e.floorData&&e.floorData.floorMin>0&&(t.floor=e.floorData.floorMin);e.bidRequestsCount>0&&(t.bidRequestCount=e.bidRequestsCount);e.bidderRequestsCount>0&&(t.bidderRequestCount=e.bidderRequestsCount);e.bidderWinsCount>0&&(t.bidderWinCount=e.bidderWinsCount);var r=function(e){if(null!=e.ortb2Imp){if(null!=e.ortb2Imp.gpid&&""!=e.ortb2Imp.gpid)return e.ortb2Imp.gpid;if(null!=e.ortb2Imp.ext&&null!=e.ortb2Imp.ext.data){if(null!=e.ortb2Imp.ext.data.pbAdSlot&&""!=e.ortb2Imp.ext.data.pbAdSlot)return e.ortb2Imp.ext.data.pbAdSlot;if(null!=e.ortb2Imp.ext.data.adServer&&null!=e.ortb2Imp.ext.data.adServer.adSlot&&""!=e.ortb2Imp.ext.data.adServer.adSlot)return e.ortb2Imp.ext.data.adServer.adSlot}}if(null!=e.adUnitCode&&""!=e.adUnitCode)return e.adUnitCode;return""}(e);null!=r&&""!=r&&(t.fpd={gpid:r});null!=e.mediaTypes&&(null!=e.mediaTypes.banner&&(t.banner=e.mediaTypes.banner),null!=e.mediaTypes.video&&(t.video=e.mediaTypes.video),null!=e.mediaTypes.native&&(t.native=e.mediaTypes.native));return t}(e))}));var d=e[0],c=(0,u.Z)(d,b.TDID_ADAPTER),s=function(e){var t;return{pageURL:null==e||null===(t=e.refererInfo)||void 0===t?void 0:t.page,rawCRB:m.getCookie(D.KEY),rawCRBLocalStorage:_(D.KEY)}}(t),E=Object.assign({},{pbv:"7.54.3",aid:d.auctionId,sid:C(),url:s.pageURL,timeout:t.timeout,ts:(new Date).getTime(),device:{size:[window.screen.width,window.screen.height]},imp:o,user:R(c,t.uspConsent,t.gdprConsent,d.userIdAsEids,t.gppConsent)});d.schain&&d.schain.nodes&&(E.schain=d.schain);var I=function(){if(n===window.location.pathname)return++i;return n=window.location.pathname,i=0}();null!=I&&(E.requestCount=I),null!=a&&a!=g.US_DOLLAR&&(E.cur=a),null!=s.rawCRB&&(E.rawCRB=s.rawCRB),null!=s.rawCRBLocalStorage&&(E.rawCRBLocalStorage=s.rawCRBLocalStorage);var T=(0,u.Z)(d,b.SOCIAL_CANVAS);null!=T&&(E.socan=T);var O=(0,u.Z)(d,b.SUA);if(O){var P=[];v.forEach((function(e){var t=O[e];if(t&&("string"!=typeof t||""!==t.trim()))switch(e){case f.MOBILE&&t<1:case f.SOURCE&&t<1:break;default:P.push(e)}})),E.device.sua=(0,l.pick)(O,P)}var y=null!=_(D.PAGE_VIEW_ID),A=null!=_(D.PAGE_VIEW_TIMESTAMP),U=null!=_(D.PAGE_VIEW_URL),h={};return y&&(h.id=_(D.PAGE_VIEW_ID)),A&&(h.timestamp=Number(_(D.PAGE_VIEW_TIMESTAMP))),U&&(h.url=_(D.PAGE_VIEW_URL)),(0,l.isEmpty)(h)||(E.page=h),Object.assign({},t,{method:S.REQUEST_METHOD,url:"https://".concat(S.HOST).concat(S.REQUEST_ENDPOINT),data:E,currency:a})},interpretResponse:function(e,t){var r=e.body,a=[];return(0,l.isEmpty)(r)||"object"!==(0,d.Z)(r)||Object.entries(r).forEach((function(e){var r=(0,o.Z)(e,2),n=r[0],i=r[1],d={mediaType:i.mediaType&&S.SUPPORTED_MEDIA_TYPES.includes(i.mediaType)?i.mediaType:I.Mk};i.metadata&&i.metadata.landingPageDomain&&(d.clickUrl=i.metadata.landingPageDomain[0],d.advertiserDomains=i.metadata.landingPageDomain);var c={requestId:n,cpm:Number(i.cpm),width:i.width,height:i.height,ttl:300,creativeId:i.id,dealId:i.targetingCustom,netRevenue:!0,currency:i.currency||t.currency,mediaType:d.mediaType,meta:d};d.mediaType==I.pX?i.admUrl?c.vastUrl=i.admUrl:c.vastXml=i.adm:c.ad=i.adm,a.push(c)})),a},getUserSyncs:function(e,t,r,a,n){var i=[],o=T(),d=O._getCrb().clientId,c=r&&r.gdprApplies?1:0,l=r&&r.consentString?r.consentString:"",u=n&&n.consentString?n.consentString:"",p=n&&n.applicableSections&&Array.isArray(n.applicableSections)?n.applicableSections.join(","):"";if("string"==typeof a&&4==a.length&&1==a[0]&&"Y"==a[2])return i;if(e.iframeEnabled&&o&&d)for(var s=0;s<D.SYNC_COUNT;s++)i.push({type:"iframe",url:D.SYNC_URL.replace("{UUID}",d).replace("{SEED}",o).replace("{INDEX}",s).replace("{GDPR}",c).replace("{GDPR_CONSENT}",l).replace("{US_PRIVACY}",a||"").replace("{GPP_STRING}",u).replace("{GPP_SID}",p)});return i},supportedMediaTypes:S.SUPPORTED_MEDIA_TYPES,onTimeout:function(e){null!=e&&e.forEach((function(e){!function(e,t){var r={aid:e,ato:t};try{var a=(0,l.buildUrl)({protocol:"https",hostname:S.HOST,pathname:S.TIMEOUT_ENDPOINT,search:r});(0,l.triggerPixel)(a)}catch(e){}}(e.auctionId,e.timeout)}))},_getCrb:function(){var e=function(){try{return JSON.parse(atob(_(D.KEY)))}catch(e){return{}}}();return Object.keys(e).length?e:function(){try{var e=JSON.parse(m.getCookie(D.KEY));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}}()},_getSessionId:C};(0,s.dX)(O),(0,c.z)("kargoBidAdapter")}},function(e){var t;t=35526,e(e.s=t)}]);
/* medianetBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[93769],{896:function(t,e,n){var r=n(78640),i=n(64358),a=n(20265),o=n(14699),d=n(3193),s=n(24679),c=n(25102),u=n(35706),p=n(70059),l="medianet",m="https://prebid.media.net/video/bundle.js",f=0,g=1,b=2,h="client_timeout",y="client_bid_won",v=(0,c.nH)(),w={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],w.urlData={domain:v.domain,page:v.page,isTop:v.reachedTop};function x(){try{return window.top.document.referrer}catch(t){return document.referrer}}function _(t,e){var n=e.refererInfo,r={domain:(t=t||{}).domain||n.domain,page:t.page||n.page,ref:t.ref||x(),topMostLocation:n.topmostLocation,isTop:t.isTop||n.reachedTop};return Object.assign(r,function(){if(w.pageMeta)return w.pageMeta;var t=I('link[rel="canonical"]',"href"),e=I('meta[property="og:url"]',"content"),n=I('meta[name="twitter:url"]',"content");return w.pageMeta=Object.assign({},t&&{canonical_url:t},e&&{og_url:e},n&&{twitter_url:n}),w.pageMeta}())}function I(t,e){var n,r,a=function(t,e){try{var n=(0,i.getWindowTop)().document.querySelector(t);if(null!==n&&n[e])return n[e]}catch(t){}}(t,e);return a&&(n=a,(r=(0,i.getWindowTop)().document.createElement("a")).href=n,r.href)}function T(t,e){return t.filter((function(t){return t.type===e}))}function R(t){return{w:parseInt(t[0],10),h:parseInt(t[1],10)}}function S(t,e){var n=(0,a.Z)(t,"params"),o=(0,a.Z)(e,"gdprConsent"),s=(0,a.Z)(e,"uspConsent"),c=(0,a.Z)(t,"userId"),u=(0,a.Z)(t,"schain")||{},p=q.getWindowSize(),l=!(!o||!o.gdprApplies),m=!!s,f=!!d.vc.getConfig("coppa");return Object.assign({},{customer_id:n.cid},{prebid_version:(0,r.R)().version},{gdpr_applies:l},l&&{gdpr_consent_string:o.consentString||""},{usp_applies:m},m&&{usp_consent_string:s||""},{coppa_applies:f},-1!==p.w&&-1!==p.h&&{screen:p},c&&{user_id:c},(0,r.R)().medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,i.isEmpty)(u)&&{schain:u})}function E(t){var e={id:t.bidId,transactionId:t.transactionId,ext:{dfp_id:t.adUnitCode,display_count:t.bidRequestsCount},all:t.params};t.ortb2Imp&&(e.ortb2Imp=t.ortb2Imp);var n,r=(0,a.Z)(t,"mediaTypes.banner.sizes")||[],o=(0,a.Z)(t,"mediaTypes.video")||{},d=(0,a.Z)(t,"params.video")||{},c=Object.assign({},d,o);if((0,i.isEmpty)(c)||(e.video=c),r.length>0&&(e.banner=(n=r,(0,i.isArray)(n)&&2===n.length&&!(0,i.isArray)(n[0])?[R(n)]:n.map((function(t){return R(t)})))),t.nativeParams)try{e.native=JSON.stringify(t.nativeParams)}catch(t){(0,i.logError)("".concat(l," : Incorrect JSON : bidRequest.nativeParams"))}t.params.crid&&(e.tagid=t.params.crid.toString());var u=parseFloat(t.params.bidfloor||t.params.bidFloor);u&&(e.bidfloor=u);var p=function(t){var e=document.getElementById(t);if(!e&&-1!==t.indexOf("/")){var n=(0,i.getGptSlotInfoForAdUnitCode)(t).divId;(0,i.isStr)(n)&&(e=document.getElementById(n))}if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect(),a={};return a.top_left={y:r.top,x:r.left},a.bottom_right={y:r.bottom,x:r.right},a}return null}(t.adUnitCode);if(p&&e.banner&&0!==e.banner.length){var m=function(t){return{top_left:{x:t.top_left.x+window.pageXOffset,y:t.top_left.y+window.pageYOffset},bottom_right:{x:t.bottom_right.x+window.pageXOffset,y:t.bottom_right.y+window.pageYOffset}}}(p);e.ext.coordinates=m,e.ext.viewability=O(p.top_left,M(e.banner)),O(m.top_left,M(e.banner))>.5?e.ext.visibility=g:e.ext.visibility=b}else e.ext.visibility=f;var h=function(t){var e=[];"function"==typeof t.getFloor&&[s.Mk,s.pX,s.B5].forEach((function(n){t.mediaTypes.hasOwnProperty(n)&&(n==s.Mk?t.mediaTypes.banner.sizes.forEach((function(r){C(t,n,r,e)})):C(t,n,"*",e))}));return e}(t);return h&&h.length>0&&(e.bidfloors=h),e}function C(t,e,n,r){var i=t.getFloor({currency:"USD",mediaType:e,size:n});n.length>1&&(i.size=n),i.mediaType=e,r.push(i)}function M(t){return t.reduce((function(t,e){return e.h*e.w<t.h*t.w?e:t}))}function O(t,e){var n=e.w*e.h,r=q.getWindowSize(),i={x:t.x+e.w,y:t.y+e.h};return 0===n||-1===r.w||-1===r.h?0:function(t,e,n,r){if(t.x>r.x||e.x<n.x||t.y>r.y||e.y<n.y)return 0;return(Math.min(e.x,r.x)-Math.max(t.x,n.x))*(Math.min(e.y,r.y)-Math.max(t.y,n.y))}(t,i,{x:0,y:0},{x:r.w,y:r.h})/n}function Z(t,e){e=(0,i.isArray)(e)&&e||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=(0,a.Z)(e,"0.auctionId")||"",n.cid=(0,r.R)().medianetGlobals.cid||"",n.crid=e.map((function(t){return(0,a.Z)(t,"params.0.crid")||t.adUnitCode})).join("|"),n.adunit_count=e.length||0,n.dn=w.urlData.domain||"",n.requrl=w.urlData.page||"",n.istop=w.urlData.isTop||"",n.event=t.name||"",n.value=t.value||"",n.rd=t.related_data||"",n}function j(t,e){var n={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:Z(t,e)};(0,i.triggerPixel)((0,i.buildUrl)(n))}function U(t){var e,n=(0,a.Z)(t,"context")||"",r=(0,a.Z)(t,"vto");"outstream"==n&&r&&(t.renderer=((e=u.Th.install({url:m})).setRender((function(t){window.mnet.queue.push((function(){var e={width:t.width,height:t.height,vastTimeout:t.vto,maxAllowedVastTagRedirects:t.mavtr,allowVpaid:t.avp,autoPlay:t.ap,preload:t.pl,mute:t.mt},n=t.dfp_id,r=(0,i.getGptSlotInfoForAdUnitCode)(n).divId||n;window.mnet.mediaNetoutstreamPlayer(t,r,e)}))})),e))}(0,r.R)().medianetGlobals=(0,r.R)().medianetGlobals||{};var q={code:l,gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[s.Mk,s.B5,s.pX],isBidRequestValid:function(t){return t.params?t.params.cid&&(0,i.isStr)(t.params.cid)&&!(0,i.isEmptyStr)(t.params.cid)?(Object.assign((0,r.R)().medianetGlobals,!(0,r.R)().medianetGlobals.cid&&{cid:t.params.cid}),!0):((0,i.logError)("".concat(l," : cid should be a string")),!1):((0,i.logError)("".concat(l," : Missing bid parameters")),!1)},buildRequests:function(t,e){var n,r=function(t,e){return{site:_(t[0].params.site,e),ext:S(t[0],e),id:t[0].auctionId,imp:t.map((function(t){return E(t)})),ortb2:e.ortb2,tmax:e.timeout}}(t=(0,p.lY)(t),e);return{method:"POST",url:(n=r.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(r)}},interpretResponse:function(t,e){var n=[];if(!t||!t.body)return(0,i.logInfo)("".concat(l," : response is empty")),n;var r=t.body.bidList;return(0,i.isArray)(r)&&0!==r.length?((n=r.filter((function(t){return function(t){return!1===t.no_bid&&parseFloat(t.cpm)>0}(t)}))).forEach(U),n):((0,i.logInfo)("".concat(l," : no bids")),n)},getUserSyncs:function(t,e){var n,r=(n=e,!(0,i.isEmpty)(n)&&n[0].body&&n[0].body.ext&&(0,i.isArray)(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);return t.iframeEnabled?T(r,"iframe"):t.pixelEnabled?T(r,"image"):void 0},onTimeout:function(t){try{j({name:h,value:t.length,related_data:t[0].timeout||d.vc.getConfig("bidderTimeout")},t)}catch(t){}},onBidWon:function(t){try{j({name:y,value:t.cpm},[t])}catch(t){}},clearMnData:function(){w={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,o.dX)(q),(0,r.z)("medianetBidAdapter")}},function(t){var e;e=896,t(t.s=e)}]);
/* ortbConverter.js (dependency for openxBidAdapter.js) */
(self.pbjsChunk=self.pbjsChunk||[]).push([[85279],{24980:function(e,r,t){t.d(r,{T:function(){return R},x:function(){return O}});var n=t(93324),i=new WeakMap;function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i.has(e)){var t=Object.entries(e);t.sort((function(e,r){return(e=e[1].priority||0)===(r=r[1].priority||0)?0:e>r?-1:1})),i.set(e,t.map((function(e){var r=(0,n.Z)(e,2);return[r[0],r[1].fn]})))}var o=i.get(e).filter((function(e){var t=(0,n.Z)(e,1)[0];return!r.hasOwnProperty(t)||r[t]})).map((function(e){var t=(0,n.Z)(e,2),i=t[0],o=t[1];return r.hasOwnProperty(i)?r[i].bind(this,o):o}));return function(){var e=this,r=Array.from(arguments);o.forEach((function(t){t.apply(e,r)}))}}var a=t(64358),s=t(4942),d=t(96475),u=t(20265),p=t(24679);function c(e){return(e=(0,a.parseSizesInput)(e)).map((function(e){var r=e.split("x"),t=(0,n.Z)(r,2),i=t[0],o=t[1];return{w:parseInt(i,10),h:parseInt(o,10)}}))}var f=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),l={instream:1};var m=t(15840);var v,b=t(26372),y=t(83790),h=(v={},(0,s.Z)(v,b.Z,{fpd:{priority:99,fn:function(e,r){(0,a.mergeDeep)(e,r.ortb2)}},onlyOneClient:{priority:-99,fn:(0,y.A_)("ORTB request")},props:{fn:function(e,r){var t;Object.assign(e,{id:e.id||r.auctionId,test:e.test||0});var n=parseInt(r.timeout,10);isNaN(n)||(e.tmax=n),(0,d.N)(e,"source.tid",(null===(t=e.source)||void 0===t?void 0:t.tid)||r.auctionId)}}}),(0,s.Z)(v,b.DZ,{fpd:{priority:99,fn:function(e,r){(0,a.mergeDeep)(e,r.ortb2Imp)}},id:{fn:function(e,r){e.id=r.bidId}},banner:{fn:function(e,r,t){if(!t.mediaType||t.mediaType===p.Mk){var n=(0,u.Z)(r,"mediaTypes.banner");if(n){var i={topframe:!0===(0,a.inIframe)()?0:1};n.sizes&&(i.format=c(n.sizes)),n.hasOwnProperty("pos")&&(i.pos=n.pos),e.banner=(0,a.mergeDeep)(i,e.banner)}}}},pbadslot:{fn:function(e){var r,t,n,i,o=null===(r=e.ext)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.pbadslot;o&&"string"==typeof o||(null===(n=e.ext)||void 0===n||(null===(i=n.data)||void 0===i||delete i.pbadslot))}}}),(0,s.Z)(v,b.Px,{mediaType:{priority:99,fn:m.R},banner:{fn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.createPixel,t=void 0===r?function(e){return(0,a.createTrackPixelHtml)(decodeURIComponent(e))}:r;return function(e,r){e.mediaType===p.Mk&&(r.adm&&r.nurl?(e.ad=r.adm,e.ad+=t(r.nurl)):r.adm?e.ad=r.adm:r.nurl&&(e.adUrl=r.nurl))}}()},props:{fn:function(e,r,t){var i;Object.entries({requestId:null===(i=t.bidRequest)||void 0===i?void 0:i.bidId,seatBidId:r.id,cpm:r.price,currency:t.ortbResponse.cur||t.currency,width:r.w,height:r.h,dealId:r.dealid,creative_id:r.crid,creativeId:r.crid,burl:r.burl,ttl:r.exp||t.ttl,netRevenue:t.netRevenue}).filter((function(e){var r=(0,n.Z)(e,2);r[0];return void 0!==r[1]})).forEach((function(r){var t=(0,n.Z)(r,2),i=t[0],o=t[1];return e[i]=o})),e.meta||(e.meta={}),r.adomain&&(e.meta.advertiserDomains=r.adomain)}}}),v);h[b.DZ].native={fn:function(e,r,t){if(!t.mediaType||t.mediaType===p.B5){var n,i=r.nativeOrtbRequest;i&&(null!==(n=(i=Object.assign({},t.nativeRequest,i)).assets)&&void 0!==n&&n.length?e.native=(0,a.mergeDeep)({},{request:JSON.stringify(i),ver:i.ver},e.native):(0,a.logWarn)("mediaTypes.native is set, but no assets were specified. Native request skipped.",r))}}},h[b.Px].native={fn:function(e,r){if(e.mediaType===p.B5){var t;if(t="string"==typeof r.adm?JSON.parse(r.adm):r.adm,!(0,a.isPlainObject)(t)||!Array.isArray(t.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:t}}}},h[b.DZ].video={fn:function(e,r,t){if(!t.mediaType||t.mediaType===p.pX){var i=(0,u.Z)(r,"mediaTypes.video");if(!(0,a.isEmpty)(i)){var o=Object.fromEntries(Object.entries(i).filter((function(e){var r=(0,n.Z)(e,1)[0];return f.has(r)})));if(i.playerSize){var s=c(i.playerSize);s.length>1&&(0,a.logWarn)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(o,s[0])}var d=l[i.context];null!=d&&(o.placement=d),e.video=(0,a.mergeDeep)(o,e.video)}}}},h[b.Px].video={fn:function(e,r,t){if(e.mediaType===p.pX){if((0,u.Z)(t.imp,"video.w")&&(0,u.Z)(t.imp,"video.h")){var n=[t.imp.video.w,t.imp.video.h];e.playerWidth=n[0],e.playerHeight=n[1]}r.adm&&(e.vastXml=r.adm),r.nurl&&(e.vastUrl=r.nurl)}}};var g=t(61283);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.context,t=void 0===r?{}:r,n=e.processors,i=void 0===n?R:n,s=e.overrides,d=void 0===s?{}:s,u=e.imp,p=e.request,c=e.bidResponse,f=e.response,l=new WeakMap;function m(e,r,t,n){var a;return function(){return null==a&&(a=function(){var a=t.bind(this,o(i()[e]||{},d[e]||{}));return r&&(a=r.bind(this,a)),function(){try{return a.apply(this,arguments)}catch(e){n.call.apply(n,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),a.apply(this,arguments)}}var v=m(b.DZ,u,(function(e,r,t){var n={};return e(n,r,t),n}),(function(e,r,t){(0,a.logError)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:r,context:t})})),y=m(b.Z,p,(function(e,r,t,n){var i={imp:r};return e(i,t,n),i}),(function(e,r,t,n){throw(0,a.logError)("Error while converting to ORTB request",{error:e,imps:r,bidderRequest:t,context:n}),e})),h=m(b.Px,c,(function(e,r,t){var n={};return e(n,r,t),n}),(function(e,r,t){(0,a.logError)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:r,context:t})})),g=m(b.YC,f,(function(e,r,t,n){var i={bids:r};return e(i,t,n),i}),(function(e,r,t,n){throw(0,a.logError)("Error while converting from ORTB response",{error:e,bidResponses:r,ortbResponse:t,context:n}),e}));return{toORTB:function(e){var r=e.bidderRequest,n=e.bidRequests,i=e.context,o=void 0===i?{}:i;n=n||r.bids;var s={req:Object.assign({bidRequests:n},t,o),imp:{}};s.req.impContext=s.imp;var d=n.map((function(e){var n=Object.assign({bidderRequest:r,reqContext:s.req},t,o),i=v(e,n);if(null!=i){if(i.hasOwnProperty("id"))return Object.assign(n,{bidRequest:e,imp:i}),s.imp[i.id]=n,i;(0,a.logError)("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),u=y(d,r,s.req);return s.req.bidderRequest=r,null!=u&&l.set(u,s),u},fromORTB:function(e){var r=e.request,t=e.response,n=l.get(r);if(null==n)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:r},t,e)}var o=Object.fromEntries((r.imp||[]).map((function(e){return[e.id,e]}))),s=(t.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(r){if(o.hasOwnProperty(r.impid)&&n.imp.hasOwnProperty(r.impid))return h(r,i(n.imp[r.impid],{imp:o[r.impid],seatbid:e,ortbResponse:t}));(0,a.logError)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",r)}))})).filter(Boolean);return g(s,t,i(n.req))}}}var R=(0,a.memoize)((function(){return(0,g.F)(h,(0,b.fP)(b.TP))}))},61283:function(e,r,t){t.d(r,{F:function(){return i}});var n=t(26372);function i(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=r.shift(),a=r.length>1?i.apply(void 0,r):r[0];return Object.fromEntries(n.gm.map((function(e){return[e,Object.assign({},o[e],a[e])]})))}},15840:function(e,r,t){t.d(r,{R:function(){return o},e:function(){return i}});var n=t(24679),i={1:n.Mk,2:n.pX,4:n.B5};function o(e,r,t){if(!e.mediaType){var n=t.mediaType;if(!n&&!i.hasOwnProperty(r.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=n||i[r.mtype]}}}}]);
/* openxBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[8534],{47851:function(e,t,r){var n=r(4942),o=r(93324),a=r(78640),i=r(3193),s=r(14699),p=r(96475),u=r(20265),c=r(64358),d=r(24679),f=r(24980);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={code:"openx",supportedMediaTypes:[d.Mk,d.pX],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;if(u.Z(e,"mediaTypes.banner")&&t)return!!e.params.unit||u.Z(e,"mediaTypes.banner.sizes.length")>0;return!(!e.params.unit||!t)},buildRequests:function(e,t){var r=e.filter((function(e){return y(e)})),n=e.filter((function(e){return function(e){return u.Z(e,"mediaTypes.banner")||!y(e)}(e)})),o=n.length?[g(n,t,d.Mk)]:[];return r.forEach((function(e){o.push(g([e],t,d.pX))})),o},interpretResponse:function(e,t){e.body||(e.body={nbr:0});return v.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled){var o=e.iframeEnabled?"iframe":"image",a=[],i="https://u.openx.net/w/1.0/pd";if(r&&(a.push("gdpr="+(r.gdprApplies?1:0)),a.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),n&&a.push("us_privacy="+encodeURIComponent(n)),t.length>0&&t[0].body&&t[0].body.ext){var s=t[0].body.ext;s.delDomain?i="https://".concat(s.delDomain,"/w/1.0/pd"):s.platform&&a.push("ph="+s.platform)}else a.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:o,url:"".concat(i).concat(a.length>0?"?"+a.join("&"):"")}]}},transformBidParams:function(e,t){return c.convertTypes({unit:"string",customFloor:"number"},e)}};(0,s.dX)(l);var v=(0,f.x)({context:{netRevenue:!0,ttl:300},imp:function(e,t,r){var n=e(t,r);return(0,c.mergeDeep)(n,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&p.N(n,"ext.customParams",t.params.customParams),t.params.customFloor&&!n.bidfloor&&(n.bidfloor=t.params.customFloor),n},request:function(e,t,r,n){var o=e(t,r,n);(0,c.mergeDeep)(o,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0")}});var a=n.bidRequests[0];return a.params.coppa&&p.N(o,"regs.coppa",1),a.params.doNotTrack&&p.N(o,"device.dnt",1),a.params.platform&&p.N(o,"ext.platform",a.params.platform),a.params.delDomain&&p.N(o,"ext.delDomain",a.params.delDomain),a.params.response_template_name&&p.N(o,"ext.response_template_name",a.params.response_template_name),a.params.test&&(o.test=1),o},bidResponse:function(e,t,r){var n=e(t,r);t.ext&&(n.meta.networkId=t.ext.dsp_id,n.meta.advertiserId=t.ext.buyer_id,n.meta.brandId=t.ext.brand_id);var o=r.ortbResponse;return o.ext&&o.ext.paf&&(n.meta.paf=Object.assign({},o.ext.paf),n.meta.paf.content_id=u.Z(t,"ext.paf.content_id")),n},response:function(e,t,r,n){var a=n.ortbRequest;a.ext&&(a.ext.delDomain&&p.N(r,"ext.delDomain",a.ext.delDomain),a.ext.platform&&p.N(r,"ext.platform",a.ext.platform));var i=e(t,r,n),s=u.Z(r,"ext.fledge_auction_configs");return s?(s=Object.entries(s).map((function(e){var t=(0,o.Z)(e,2),r=t[0],n=t[1];return{bidId:r,config:Object.assign({auctionSignals:{}},n)}})),{bids:i.bids,fledgeAuctionConfigs:s}):i.bids},overrides:{imp:{bidfloor:function(e,t,r,n){var o={};e(o,r,b(b({},n),{},{currency:"USD"})),"USD"===o.bidfloorcur&&Object.assign(t,o)},video:function(e,t,r,o){var a,i=r.mediaTypes[d.pX];i&&(i=Object.assign({},i,r.params.video),r=b(b({},r),{},{mediaTypes:(0,n.Z)({},d.pX,i)})),e(t,r,o),t.video&&"outstream"===(null===(a=i)||void 0===a?void 0:a.context)&&(t.video.placement=t.video.placement||4)}}}});function g(e,t,r){return{method:"POST",url:i.vc.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:v.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:r}})}}function y(e){return u.Z(e,"mediaTypes.video")}(0,a.z)("openxBidAdapter")},26372:function(e,t,r){r.d(t,{DZ:function(){return i},Px:function(){return s},TP:function(){return u},YC:function(){return p},Z:function(){return a},f8:function(){return b},fP:function(){return l},gm:function(){return n},md:function(){return c}});var n=["request","imp","bidResponse","response"],o=["default","pbs"],a=n[0],i=n[1],s=n[2],p=n[3],u=o[0],c=o[1],d=new Set(n);var f,m=(f={},{registerOrtbProcessor:function(e){var t=e.type,r=e.name,o=e.fn,a=e.priority,i=void 0===a?0:a,s=e.dialects,p=void 0===s?[u]:s;if(!d.has(t))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));p.forEach((function(e){f.hasOwnProperty(e)||(f[e]={}),f[e].hasOwnProperty(t)||(f[e][t]={}),f[e][t][r]={priority:i,fn:o}}))},getProcessors:function(e){return f[e]||{}}}),b=m.registerOrtbProcessor,l=m.getProcessors}},function(e){e.O(0,[85279],(function(){return t=47851,e(e.s=t);var t}));e.O()}]);
/* priceFloors.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[29060],{9171:function(e,r,o){var n=o(71002),t=o(44925),i=o(4942),a=o(78640),c=o(64358),u=o(20265),l=o(96475),f=o(3193),d=o(48928),s=o(52021),p=o(5644),m=o(92797),h=o(34614),v=o(25102),g=o(55975),y=o(78653),b=o(26372),O=o(99128),j=o(16414),C=o(36066),F=["modelGroups"];function k(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,n)}return o}function S(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?k(Object(o),!0).forEach((function(r){(0,i.Z)(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):k(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}var x,R="Price Floors",P=(0,d.O)(1e4),T=["gptSlot","adUnitCode","size","domain","mediaType"],M=!1,Z=!1,D={},w=[],U={};function E(e,r){return Math.ceil((parseFloat(e)*Math.pow(10,r)).toFixed(1))/Math.pow(10,r)}function I(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.index,t=void 0===n?y.K.index:n;return(null==e?void 0:e.adUnitCode)||t.getAdUnit(r).code}var A={size:function(e,r){return(0,c.parseGPTSingleSizeArray)(r.size)||"*"},mediaType:function(e,r){return r.mediaType||"banner"},gptSlot:function(e,r){return function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,o=(void 0===r?y.K.index:r).getAdUnit({transactionId:e});return"gam"===(0,u.Z)(o,"ortb2Imp.ext.data.adserver.name")&&o.ortb2Imp.ext.data.adserver.adslot}((e||r).transactionId)||(0,c.getGptSlotInfoForAdUnitCode)(I(e,r)).gptSlot},domain:function(){return null==x&&(x=(0,c.parseUrl)((0,v.nH)().topmostLocation,{noDecodeWholeURL:!0}).hostname),x},adUnitCode:function(e,r){return I(e,r)}};function B(e,r,o){return e.reduce((function(e,n){var t=A[n](r,o)||"*";return e.push("*"===t?["*"]:[t.toLowerCase(),"*"]),e}),[])}function z(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=B((0,u.Z)(e,"schema.fields")||[],r,o);if(!n.length)return{matchingFloor:e.default};var t=n.map((function(e){return e[0]})).join("-"),i=(0,u.Z)(e,"matchingInputs.".concat(t));if(i)return S({},i);var a=W(n,(0,u.Z)(e,"schema.delimiter")||"|"),c=(0,h.sE)(a,(function(r){return e.values.hasOwnProperty(r)})),f={floorMin:e.floorMin||0,floorRuleValue:isNaN(e.values[c])?e.default:e.values[c],matchingData:a[0],matchingRule:c};return"number"==typeof(0,u.Z)(r,"ortb2Imp.ext.prebid.floorMin")&&(f.floorMin=r.ortb2Imp.ext.prebid.floorMin),f.matchingFloor=Math.max(f.floorMin,f.floorRuleValue),(0,l.N)(e,"matchingInputs.".concat(t),S({},f)),f}function W(e,r){return e.reduce((function(e,o){var n=[];return e.map((function(e){o.map((function(o){n.push(e+r+o)}))})),n})).sort((function(e,r){return e.split("*").length-r.split("*").length}))}function q(e,r,o){return parseFloat((0,C.O)(e,S(S({},r),{},{cpm:e}),o))}function N(e,r){var o=Math.pow(10,10);return e*o/(r*o)*(e*o)/o}var V={banner:function(e){return(0,u.Z)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return(0,u.Z)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return(0,u.Z)(e,"mediaTypes.native.image.sizes")?[(0,u.Z)(e,"mediaTypes.native.image.sizes")]:[]}};function G(e,r){var o=Object.keys(e.mediaTypes||{});return"*"===r.mediaType&&1===o.length&&(r.mediaType=o[0]),"*"===r.size&&-1!==o.indexOf(r.mediaType)&&V[r.mediaType]&&1===V[r.mediaType](e).length&&(r.size=V[r.mediaType](e)[0]),r}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},r=this,o=U[r.auctionId];if(!o||o.skipped)return{};e=G(r,e);var n=z(o.data,S({},r),{mediaType:e.mediaType,size:e.size}),t=e.currency||o.data.currency;if(n.matchingFloor&&t!==o.data.currency)try{n.matchingFloor=(0,a.R)().convertCurrency(n.matchingFloor,o.data.currency,t)}catch(e){(0,c.logWarn)("".concat(R,": Unable to get currency conversion for getFloor for bidder ").concat(r.bidder,". You must have currency module enabled with defaultRates in your currency config")),t=o.data.currency}if(o.enforcement.bidAdjustment&&n.matchingFloor){var i=g.S.get(r.bidder,"inverseBidAdjustment");if(i)n.matchingFloor=i(n.matchingFloor,r);else{var u=q(n.matchingFloor,null,r);n.matchingFloor=u?N(n.matchingFloor,u):n.matchingFloor}}return n.matchingFloor?{floor:E(n.matchingFloor,4),currency:t}:{}}function H(e,r){var o=(0,c.deepClone)(e);return o.schema.delimiter=e.schema.delimiter||"|",o.values=function(e,r){var o=e.schema.fields,n=e.schema.delimiter,t=r&&-1===o.indexOf("adUnitCode")&&o.unshift("adUnitCode");return Object.keys(e.values).reduce((function(o,i){return o[(t?"".concat(r).concat(n).concat(i):i).toLowerCase()]=e.values[i],o}),{})}(o,r),o.currency=o.currency||"USD",o}function J(e,r){var o=(0,c.deepClone)(D);if(2===(0,u.Z)(o,"data.floorsSchemaVersion")){var n=o.data,i=n.modelGroups,a=(0,t.Z)(n,F);o.data=Object.assign(a,function(e,r){for(var o=Math.floor(Math.random()*r+1),n=0;n<e.length;n++)if((o-=e[n].modelWeight)<=0)return e[n]}(i,a.modelWeightSum))}var l=0===Object.keys((0,u.Z)(o,"data.values")||{}).length;if(o.data=l?function(e){return e.reduce((function(e,r){if(Q(r.floors))if(e.values){var o=H(r.floors,r.code).values;Object.assign(e.values,o)}else(e=H(r.floors,r.code)).location="adUnit";else null!=r.floors&&(0,c.logWarn)("adUnit '".concat(r.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),r);return e}),{})}(e):H(o.data),0===Object.keys((0,u.Z)(o,"data.values")||{}).length)o.skipped=!0;else{var f=(0,c.getParameterByName)("pbjs_skipRate")||o.skipRate,d=100*Math.random()<parseFloat(f);o.skipped=d}return o.hasOwnProperty("floorMin")&&(o.data.floorMin=o.floorMin),function(e,r,o){e.forEach((function(e){e.bids.forEach((function(e){r.skipped?delete e.getFloor:e.getFloor=L,e.auctionId=o,e.floorData={skipped:r.skipped,skipRate:r.skipRate,floorMin:r.floorMin,modelVersion:(0,u.Z)(r,"data.modelVersion"),modelWeight:(0,u.Z)(r,"data.modelWeight"),modelTimestamp:(0,u.Z)(r,"data.modelTimestamp"),location:(0,u.Z)(r,"data.location","noData"),floorProvider:r.floorProvider,fetchStatus:D.fetchStatus}}))}))}(e,o,r),o}function K(e){e.hasExited||(w=w.filter((function(r){return r.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,c.generateUUID)(),U[e.reqBidsConfigObj.auctionId]=J(e.reqBidsConfigObj.adUnits||(0,a.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function Y(e){return r=(0,u.Z)(e,"schema.fields"),!!(Array.isArray(r)&&r.length>0&&r.every((function(e){return-1!==T.indexOf(e)}))||((0,c.logError)("".concat(R,": Fields recieved do not match allowed fields")),0))&&(o=e,t=e.schema.fields.length,i=e.schema.delimiter||"|","object"===(0,n.Z)(o.values)&&(o.values=Object.keys(o.values).reduce((function(e,r){return function(e,r,o,n){return"string"==typeof e&&e.split(n).length===o&&"number"==typeof r}(r,o.values[r],t,i)&&(e[r]=o.values[r]),e}),{}),Object.keys(o.values).length>0));var r,o,t,i}var _={1:function(e){return Y(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(r){return!("number"!=typeof r.modelWeight||!Y(r))&&(e.modelWeightSum+=r.modelWeight,!0)})))}};function Q(e){return"object"===(0,n.Z)(e)&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof _[e.floorsSchemaVersion]?((0,c.logError)("".concat(R,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):_[e.floorsSchemaVersion](e))}function X(e,r){if(e&&"object"===(0,n.Z)(e)&&Q(e))return(0,c.logInfo)("".concat(R,": A ").concat(r," set the auction floor data set to "),e),S(S({},e),{},{location:r});(0,c.logError)("".concat(R,": The floors data did not contain correct values"),e)}var $=(0,O.g3)("priceFloors",(function(e,r){var o={reqBidsConfigObj:r,context:this,nextFn:e,haveExited:!1,timer:null};D.auctionDelay>0&&M?(o.timer=setTimeout((function(){(0,c.logWarn)("".concat(R,": Fetch attempt did not return in time for auction")),D.fetchStatus="timeout",K(o)}),D.auctionDelay),w.push(o)):K(o)}));function ee(){w.forEach((function(e){clearTimeout(e.timer),K(e)})),w=[]}function re(e){var r;M=!1,D.fetchStatus="success";try{r=JSON.parse(e)}catch(o){r=e}var o=X(r,"fetch");o&&(D.data=o,D.skipRate=(0,c.isNumber)(o.skipRate)?o.skipRate:D.skipRate,D.floorProvider=o.floorProvider||D.floorProvider),ee()}function oe(e){M=!1,D.fetchStatus="error",(0,c.logError)("".concat(R,": Fetch errored with: "),e),ee()}function ne(e){var r;(D=(0,c.pick)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(r){return(0,u.Z)(e,"data.floorProvider",r)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN((0,u.Z)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return(0,c.pick)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"===(0,n.Z)(e)&&Object.keys(e).length>0?(r=e,void Object.keys(r).forEach((function(e){-1===T.indexOf(e)&&"function"==typeof r[e]&&(T.push(e),A[e]=r[e])}))):void 0;var r},"data",function(e){return e&&X(e,"setConfig")||D.data}])).enabled?((r=D.endpoint).url&&!M?"GET"!==(r.method||"GET")?(0,c.logError)("".concat(R,": 'GET' is the only request method supported at this time!")):(P(r.url,{success:re,error:oe},null,{method:"GET"}),M=!0):M&&(0,c.logWarn)("".concat(R,": A fetch is already occuring. Skipping.")),Z||(s.on(p.FP.AUCTION_END,(function(e){setTimeout((function(){return delete U[e.auctionId]}),3e3)})),(0,a.R)().requestBids.before($,50),(0,m.v5)("addBidResponse").before(te,(0,c.debugTurnedOn)()?4:50),Z=!0)):((0,c.logInfo)("".concat(R,": Turning off module")),D={},U={},(0,m.v5)("addBidResponse").getHooks({hook:te}).remove(),(0,a.R)().requestBids.getHooks({hook:$}).remove(),Z=!1)}var te=(0,O.A)("priceFloors",(function(e,r,o,n){var t=U[o.auctionId];if(!t||!o||t.skipped)return e.call(this,r,o,n);var i,l=y.K.index.getBidRequest(o),f=z(t.data,l,S(S({},o),{},{size:[o.width,o.height]}));if(!f.matchingFloor)return(0,c.logWarn)("".concat(R,": unable to determine a matching price floor for bidResponse"),o),e.call(this,r,o,n);var d=t.data.currency.toUpperCase(),s=o.currency||"USD";if(d===s.toUpperCase())i=o.cpm;else if(o.originalCurrency&&d===o.originalCurrency.toUpperCase())i=o.originalCpm;else try{i=(0,a.R)().convertCurrency(o.cpm,s.toUpperCase(),d)}catch(t){return(0,c.logError)("".concat(R,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(o)),e.call(this,r,o,n)}if(function(e,r,o,n){o.floorData={floorValue:r.matchingFloor,floorRule:r.matchingRule,floorRuleValue:r.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:n,enforcements:S({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(n,t){var i=r.matchingData.split(e.data.schema.delimiter)[t];o.floorData.matchedFields[n]=i}))}(t,f,o,i=q(i,o,l)),function(e,r,o){var n=!1!==(0,u.Z)(e,"enforcement.enforceJS"),t=!0===(0,u.Z)(e,"enforcement.floorDeals")||!o.dealId,i=o.floorData.cpmAfterAdjustments<r.matchingFloor;return n&&i&&t}(t,f,o)){var m,h=n(p.Gw.pe);return(0,c.logWarn)("".concat(R,": ").concat(h.bidderCode,"'s Bid Response for ").concat(r," was rejected due to floor not met (adjusted cpm: ").concat(null==o||null===(m=o.floorData)||void 0===m?void 0:m.cpmAfterAdjustments,", floor: ").concat(null==f?void 0:f.matchingFloor,")"),o),e.call(this,r,h,n)}return e.call(this,r,o,n)}));f.vc.getConfig("floors",(function(e){return ne(e.floors)})),(0,b.f8)({type:b.DZ,name:"bidfloor",fn:function(e,r,o){if("function"==typeof r.getFloor){var n,t;try{var i=r.getFloor({currency:o.currency||f.vc.getConfig("currency.adServerCurrency")||"USD",mediaType:o.mediaType||"*",size:"*"});n=i.currency,t=i.floor}catch(e){return void(0,c.logWarn)("Cannot compute floor for bid",r)}t=parseFloat(t),null==n||null==t||isNaN(t)||Object.assign(e,{bidfloor:t,bidfloorcur:n})}}}),(0,b.f8)({type:b.DZ,name:"extPrebidFloors",fn:function(e,r,o){if(null!=e.bidfloor){var n,t,i,a,c,u,f,d,s,p,m=o.reqContext.floorMin||{},h=m.floorMinCur,v=m.floorMin;null==h&&(h=e.bidfloorcur);var g=(null===(n=e.ext)||void 0===n||null===(t=n.prebid)||void 0===t||null===(i=t.floors)||void 0===i?void 0:i.floorMinCur)||(null===(a=e.ext)||void 0===a||null===(c=a.prebid)||void 0===c?void 0:c.floorMinCur)||h,y=(null===(u=e.ext)||void 0===u||null===(f=u.prebid)||void 0===f||null===(d=f.floors)||void 0===d?void 0:d.floorMin)||(null===(s=e.ext)||void 0===s||null===(p=s.prebid)||void 0===p?void 0:p.floorMin),b=(0,j.m)(e.bidfloor,e.bidfloorcur,h),O=!(!y||!g)&&(0,j.m)(y,g,h),C=O&&O<b?O:b;(0,l.N)(e,"ext.prebid.floors.floorMin",C),(null==v||v>C)&&(v=C),o.reqContext.floorMin={floorMin:v,floorMinCur:h}}},dialects:[b.md],priority:-1}),(0,b.f8)({type:b.Z,name:"extPrebidFloors",fn:function(e,r,o){var n,t,i;Z&&(0,l.N)(e,"ext.prebid.floors.enabled",(null===(n=e.ext)||void 0===n||null===(t=n.prebid)||void 0===t||null===(i=t.floors)||void 0===i?void 0:i.enabled)||!1),null!=o&&o.floorMin&&(0,c.mergeDeep)(e,{ext:{prebid:{floors:o.floorMin}}})},dialects:[b.md]}),(0,a.z)("priceFloors")},26372:function(e,r,o){o.d(r,{DZ:function(){return a},Px:function(){return c},TP:function(){return l},YC:function(){return u},Z:function(){return i},f8:function(){return m},fP:function(){return h},gm:function(){return n},md:function(){return f}});var n=["request","imp","bidResponse","response"],t=["default","pbs"],i=n[0],a=n[1],c=n[2],u=n[3],l=t[0],f=t[1],d=new Set(n);var s,p=(s={},{registerOrtbProcessor:function(e){var r=e.type,o=e.name,t=e.fn,i=e.priority,a=void 0===i?0:i,c=e.dialects,u=void 0===c?[l]:c;if(!d.has(r))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));u.forEach((function(e){s.hasOwnProperty(e)||(s[e]={}),s[e].hasOwnProperty(r)||(s[e][r]={}),s[e][r][o]={priority:a,fn:t}}))},getProcessors:function(e){return s[e]||{}}}),m=p.registerOrtbProcessor,h=p.getProcessors},16414:function(e,r,o){o.d(r,{m:function(){return t}});var n=o(78640);function t(e,r,o){if(r===o)return e;var t=e;if("function"==typeof(0,n.R)().convertCurrency)try{t=(0,n.R)().convertCurrency(e,r,o)}catch(e){}return t}},44925:function(e,r,o){function n(e,r){if(null==e)return{};var o,n,t=function(e,r){if(null==e)return{};var o,n,t={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],r.indexOf(o)>=0||(t[o]=e[o]);return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}o.d(r,{Z:function(){return n}})}},function(e){var r;r=9171,e(e.s=r)}]);
/* pbsExtensions.js (dependency for rubiconBidAdapter.js) */
(self.pbjsChunk=self.pbjsChunk||[]).push([[70951],{99933:function(e,i,r){r.d(i,{X:function(){return x}});var t=r(61283),d=r(4942),n=r(93324),a=r(26372),o=r(20265),s=r(64358),c=r(11021),b=r(51039),u=r(96475);var p=r(39702);var v=r(3193),f=r(78640);var l,g=r(24679);var m=(l={},(0,d.Z)(l,a.Z,{extPrebid:{fn:function(e,i){var r;(0,u.N)(e,"ext.prebid",(0,s.mergeDeep)({auctiontimestamp:i.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(r=e.ext)||void 0===r?void 0:r.prebid)),v.vc.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var i,r;(0,u.N)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,f.R)().version},null===(i=e.ext)||void 0===i||null===(r=i.prebid)||void 0===r?void 0:r.channel))}},extPrebidAliases:{fn:function(e,i,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=t.am,n=void 0===d?b.ZP:d;if(n.aliasRegistry[i.bidderCode]){var a=n.bidderRegistry[i.bidderCode];a&&a.getSpec().skipPbsAliasing||(0,u.N)(e,"ext.prebid.aliases.".concat(i.bidderCode),n.aliasRegistry[i.bidderCode])}}}}),(0,d.Z)(l,a.DZ,{params:{fn:p.j},adUnitCode:{fn:function(e,i){var r=i.adUnitCode;r&&(0,u.N)(e,"ext.prebid.adunitcode",r)}}}),(0,d.Z)(l,a.Px,{mediaType:{fn:c.P,priority:99},videoCache:{fn:function(e,i){if(e.mediaType===g.pX){var r=(0,o.Z)(i,"ext.prebid.cache.vastXml")||{},t=r.cacheId,d=r.url;if(!t||!d){var n=(0,o.Z)(i,"ext.prebid.targeting")||{},a=n.hb_uuid,s=n.hb_cache_host,c=n.hb_cache_path;a&&s&&c&&(t=a,d="https://".concat(s).concat(c,"?uuid=").concat(a))}t&&d&&Object.assign(e,{videoCacheKey:t,vastUrl:d})}},priority:-10},bidderCode:{fn:function(e,i,r){var t;e.bidderCode=r.seatbid.seat,e.adapterCode=(0,o.Z)(i,"ext.prebid.meta.adaptercode")||(null===(t=r.bidRequest)||void 0===t?void 0:t.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,i){var r=(0,o.Z)(i,"ext.prebid.bidid");(0,s.isStr)(r)&&(e.pbsBidId=r)}},adserverTargeting:{fn:function(e,i){var r=(0,o.Z)(i,"ext.prebid.targeting");(0,s.isPlainObject)(r)&&(e.adserverTargeting=r)}},extPrebidMeta:{fn:function(e,i){e.meta=(0,s.mergeDeep)({},(0,o.Z)(i,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,i){var r=(0,o.Z)(i,"ext.prebid.events.win");(0,s.isStr)(r)&&(e.pbsWurl=r)}}}),(0,d.Z)(l,a.YC,{serverSideStats:{fn:function(e,i,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var t=(0,n.Z)(e,2),d=t[0],a=t[1],s=(0,o.Z)(i,"ext.".concat(d,".").concat(r.bidderRequest.bidderCode));s&&(r.bidderRequest[a]=s,r.bidRequests.forEach((function(e){return e[a]=s})))}))}}}),l),h=r(24980),x=(0,s.memoize)((function(){return(0,t.F)((0,h.T)(),m,(0,a.fP)(a.md))}))},11021:function(e,i,r){r.d(i,{E:function(){return o},P:function(){return s}});var t,d=r(4942),n=r(24679),a=r(15840),o=(t={},(0,d.Z)(t,n.Mk,"banner"),(0,d.Z)(t,n.B5,"native"),(0,d.Z)(t,n.pX,"video"),t);function s(e,i,r){var t,d,s=r.mediaType;s||(s=a.e.hasOwnProperty(i.mtype)?a.e[i.mtype]:null===(t=i.ext)||void 0===t||null===(d=t.prebid)||void 0===d?void 0:d.type,o.hasOwnProperty(s)||(s=n.Mk));e.mediaType=s}},39702:function(e,i,r){r.d(i,{j:function(){return a}});var t=r(78653),d=r(51039),n=r(96475);function a(e,i,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.adUnit,s=a.bidderRequests,c=a.index,b=void 0===c?t.K.index:c,u=a.bidderRegistry,p=void 0===u?d.ZP.bidderRegistry:u,v=i.params,f=p[i.bidder];f&&f.getSpec().transformBidParams&&(o=o||b.getAdUnit(i),s=s||[r.bidderRequest],v=f.getSpec().transformBidParams(v,!0,o,s)),v&&(0,n.N)(e,"ext.prebid.bidder.".concat(i.bidder),v)}}}]);
/* rubiconBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[56187],{40060:function(e,r,t){var n=t(4942),i=t(93324),o=t(71002),a=t(78640),s=t(24980),d=t(99933),c=t(14699),u=t(3193),p=t(24679),l=t(34614),f=t(35706),m=t(64358),g=t(96475),v=t(20265);function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y="https://video-outstream.rubiconproject.com/apex-2.2.1.js",h={};u.vc.getConfig("rubicon",(function(e){(0,m.mergeDeep)(h,e.rubicon)}));var _={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};(0,m._each)(_,(function(e,r){return _[e]=r}));var j=(0,s.x)({request:function(e,r,t,n){var i,s,d,c=n.bidRequests,p=e(r,t,n);p.cur=["USD"],p.test=u.vc.getConfig("debug")?1:0,(0,g.N)(p,"ext.prebid.cache",{vastxml:{returnCreative:!0===h.returnVast}}),(0,g.N)(p,"ext.prebid.bidders",{rubicon:{integration:h.int_type||"pbjs"}}),(0,g.N)(p,"ext.prebid.targeting.pricegranularity",{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(d=u.vc).getConfig("customPriceBucket")&&d.getConfig("customPriceBucket").buckets}[d.getConfig("priceGranularity")]});var l=(0,a.R)().installedModules;return!l||l.length&&-1===l.indexOf("rubiconAnalyticsAdapter")||(0,g.N)(p,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,r){var t,n,i={},o=new Set;r.forEach((function(r){var t,n,a,s,d,c={user:{ext:{data:b({},r.params.visitor)}},site:{ext:{data:b({},r.params.inventory)}}},p=e.imp.find((function(e){var r,t,n,i,o;return null===(r=e.ext)||void 0===r||null===(t=r.prebid)||void 0===t||null===(n=t.bidder)||void 0===n||null===(i=n.rubicon)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.language}));p&&(c.site.content={language:null===(t=p.ext)||void 0===t||null===(n=t.prebid)||void 0===n||null===(a=n.bidder)||void 0===a||null===(s=a.rubicon)||void 0===s||null===(d=s.video)||void 0===d?void 0:d.language});r.params.keywords&&(Array.isArray(r.params.keywords)?r.params.keywords:r.params.keywords.split(",")).forEach((function(e){return o.add(e)}));i=(0,m.mergeDeep)(i,r.ortb2||{},c);var l=u.vc.getConfig("user.id");i.user.id=i.user.id||l})),(0,m.mergeDeep)(e,i),o&&o.size&&(0,g.N)(e,"site.keywords",Array.from(o.values()).join(","));null==e||(null===(t=e.ext)||void 0===t||(null===(n=t.prebid)||void 0===n||delete n.storedrequest))}(p,c),null==p||(null===(i=p.ext)||void 0===i||(null===(s=i.prebid)||void 0===s||delete s.storedrequest)),!0===h.disableFloors&&delete p.ext.prebid.floors,c.filter((function(e){return"object"===(0,o.Z)(e.floorData)})).length>0&&(p.ext.prebid.floors={enabled:!1}),p},imp:function(e,r,t){var n,i,o=I(r);if(!o.includes(p.Mk)||1!=o.length){var a=e(r,t);return a.id=r.adUnitCode,delete a.banner,u.vc.getConfig("s2sConfig.defaultTtl")&&(a.exp=u.vc.getConfig("s2sConfig.defaultTtl")),"atf"===r.params.position&&(a.video.pos=1),"btf"===r.params.position&&(a.video.pos=3),null===(n=a.ext)||void 0===n||(null===(i=n.prebid)||void 0===i||delete i.storedrequest),function(e,r){"USD"!=r.bidfloorcur&&(delete r.bidfloor,delete r.bidfloorcur);if(!r.bidfloor){var t=parseFloat((0,v.Z)(e,"params.floor"));isNaN(t)||(r.bidfloor=t,r.bidfloorcur="USD")}}(r,a),a}},bidResponse:function(e,r,t){var n,o=e(r,t);o.meta.mediaType=(0,v.Z)(r,"ext.prebid.type");var a=t.bidRequest,s="outstream"===(null===(n=a.mediaTypes.video)||void 0===n?void 0:n.context)?S(a,p.pX):[void 0,void 0],d=(0,i.Z)(s,2),c=d[0],u=d[1];return o.width=r.w||c||o.playerWidth,o.height=r.h||u||o.playerHeight,o.mediaType===p.pX&&"outstream"===a.mediaTypes.video.context&&(o.renderer=function(e){var r=f.Th.install({id:e.adId,url:h.rendererUrl||y,config:h.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender(w)}catch(e){(0,m.logWarn)("Prebid Error calling setRender on renderer",e)}return r}(o)),(0,v.Z)(r,"ext.bidder.rp.advid")&&(0,g.N)(o,"meta.advertiserId",r.ext.bidder.rp.advid),o},context:{netRevenue:!1!==h.netRevenue,ttl:300},processors:d.X}),k={code:"rubicon",gvlid:52,supportedMediaTypes:[p.Mk,p.pX,p.B5],isBidRequestValid:function(e){var r=!0;if("object"!==(0,o.Z)(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return(0,m.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=I(e,!0);if(!i.length)return!1;i.includes(p.pX)&&(r=function(e){var r=!0,t=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0),i={mimes:t,protocols:t,linearity:n,api:t};return Object.keys(i).forEach((function(t){Object.prototype.toString.call((0,v.Z)(e,"mediaTypes.video."+t))!==i[t]&&(r=!1,(0,m.logError)("Rubicon: mediaTypes.video."+t+" is required and must be of type: "+i[t]))})),r}(e));var a=[p.Mk,p.B5].filter((function(e){return i.includes(e)})).length>0;return a?r&&a:r},buildRequests:function(e,r){var t,n=[],i=[];if((t=e.filter((function(e){var r=I(e)||[],t=r.length,n=e.params||{},i=n.bidonmultiformat,o=n.video;return 1===t&&(r.includes(p.pX)||r.includes(p.B5))||2===t&&!r.includes(p.Mk)||o&&r.includes(p.pX)||i&&(r.includes(p.pX)||r.includes(p.B5))})))&&t.length){var o=j.toORTB({bidRequests:t,bidderRequest:r});i.push({method:"POST",url:"https://".concat(h.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:t})}var a=e.filter((function(e){var r=I(e)||[],t=e.params||{},n=t.bidonmultiformat,i=t.video;return r.includes(p.Mk)&&(1===r.length||n||!n&&!i||!n&&i&&!r.includes(p.pX))}));if(!0!==u.vc.getConfig("rubicon.singleRequest"))n=i.concat(a.map((function(e){var t=k.createSlotParams(e,r);return{method:"GET",url:"https://".concat(h.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:k.getOrderedParams(t).reduce((function(e,r){var n=t[r];return(0,m.isStr)(n)&&""!==n||(0,m.isNumber)(n)?"".concat(e).concat(T(r,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var s=a.reduce((function(e,r){return(e[r.params.siteId]=e[r.params.siteId]||[]).push(r),e}),{});n=i.concat(Object.keys(s).reduce((function(e,t){var n,i;return(n=s[t],i=10,n.map((function(e,r){return r%i==0?n.slice(r,r+i):null})).filter((function(e){return e}))).forEach((function(t){var n=k.combineSlotUrlParams(t.map((function(e){return k.createSlotParams(e,r)})));e.push({method:"GET",url:"https://".concat(h.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:k.getOrderedParams(n).reduce((function(e,r){var t=n[r];return(0,m.isStr)(t)&&""!==t||(0,m.isNumber)(t)?"".concat(e).concat(T(r,t),"&"):e}),"")+"slots=".concat(t.length,"&rand=").concat(Math.random()),bidRequest:t})})),e}),[]))}return n},getOrderedParams:function(e){var r=/^tg_v/,t=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var r=e.reduce((function(r,t,n){return Object.keys(t).forEach((function(i){r.hasOwnProperty(i)||(r[i]=new Array(e.length)),r[i].splice(n,1,t[i])})),r}),{}),t=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach((function(e){var n=r[e].join(";"),i=n.match(t);r[e]=i?i[1]:n})),r},createSlotParams:function(e,r){var t;e.startTime=(new Date).getTime();var n=e.params,a=S(e,"banner"),s=n.latLong||[],d=(0,i.Z)(s,2),c=d[0],f=d[1],g={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:a[0],alt_size_ids:a.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(h.int_type||"pbjs_lite","_v7.54.3"),"x_source.tid":e.transactionId,"x_imp.ext.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(c))?void 0:parseFloat(c).toFixed(4),"p_geo.longitude":isNaN(parseFloat(f))?void 0:parseFloat(f).toFixed(4),"tg_fl.eid":e.code,rf:O(e,r)};if("function"==typeof e.getFloor&&!h.disableFloors){var x;try{x=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,m.logError)("Rubicon: getFloor threw an error: ",e)}g.rp_hard_floor="object"!==(0,o.Z)(x)||"USD"!==x.currency||isNaN(parseInt(x.floor))?void 0:x.floor}var y={1:"atf",3:"btf"}[(0,v.Z)(e,"mediaTypes.banner.pos")]||"";g.p_pos="atf"===n.position||"btf"===n.position?n.position:y;var _,j,w=u.vc.getConfig("user.id");(w&&(g.ppuid=w),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(g.tpid_tdid=e.uids[0].id,g["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(g["tpid_liveintent.com"]=e.uids[0].id,g["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(g["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?g.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?g["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):g["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!g.ppuid){var r=(0,l.sE)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));r&&r.id&&(g.ppuid=r.id)}}catch(r){(0,m.logWarn)("Rubicon: error reading eid:",e,r)}})),r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(g.gdpr=Number(r.gdprConsent.gdprApplies)),g.gdpr_consent=r.gdprConsent.consentString),r.uspConsent&&(g.us_privacy=encodeURIComponent(r.uspConsent)),null!==(t=r.gppConsent)&&void 0!==t&&t.gppString)&&(g.gpp=r.gppConsent.gppString,g.gpp_sid=null===(_=r.gppConsent)||void 0===_||null===(j=_.applicableSections)||void 0===j?void 0:j.toString());return g.rp_maxbids=r.bidLimit||1,function(e,r,t){var n={user:{ext:{data:b({},e.params.visitor)}},site:{ext:{data:b({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=(0,m.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=(0,m.mergeDeep)({},e.ortb2||{},n),a=(0,v.Z)(e.ortb2Imp,"ext")||{},s=(0,v.Z)(e.ortb2Imp,"ext.data")||{},d=(0,v.Z)(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},l=function(e,r,t){return"data"===r&&Array.isArray(e)?e.filter((function(e){return e.segment&&(0,v.Z)(e,"ext.segtax")&&c[t]&&-1!==c[t].indexOf((0,v.Z)(e,"ext.segtax"))})).map((function(e){var r=e.segment.filter((function(e){return e.id})).reduce((function(e,r){return e.push(r.id),e}),[]);if(r.length>0)return r.toString()})).toString():("object"!==(0,o.Z)(e)||Array.isArray(e))&&void 0!==e?Array.isArray(e)?e.filter((function(e){if("object"!==(0,o.Z)(e)&&void 0!==e)return e.toString();(0,m.logWarn)("Rubicon: Filtered value: ",e,"for key",r,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString():void 0},f=function(e,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=l(e,n,r),a=u[n]&&i?"".concat(u[n]):"data"===n?"".concat(u[r],"iab"):"".concat(u[r]).concat(n);t[a]=t[a]?t[a].concat(",",o):o};r===p.Mk?(["site","user"].forEach((function(e){Object.keys(i[e]).forEach((function(r){"site"===e&&"content"===r&&i[e][r].data?f(i[e][r].data,e,"data"):"ext"!==r?f(i[e][r],e,r):i[e][r].data&&Object.keys(i[e].ext.data).forEach((function(r){f(i[e].ext.data[r],e,r,!1)}))}))})),Object.keys(s).forEach((function(e){"adserver"!==e?f(s[e],"site",e):"gam"===s[e].name&&f(s[e].adslot,name,e)})),d&&(t.p_gpid=d),t["tg_i.pbadslot"]&&delete t["tg_i.dfp_ad_unit_code"]):(Object.keys(a).length&&(0,m.mergeDeep)(t.imp[0].ext,a),d&&(t.imp[0].ext.gpid=d),(0,m.mergeDeep)(t,i))}(e,p.Mk,g),!0===u.vc.getConfig("coppa")&&(g.coppa=1),e.schain&&R(e.schain)&&(g.rp_schain=k.serializeSupplyChain(e.schain)),g},serializeSupplyChain:function(e){if(!R(e))return"";var r=e.ver,t=e.complete,n=e.nodes;return"".concat(r,",").concat(t,"!").concat(k.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){var r=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return r.map((function(r){return encodeURIComponent(e[r]||"")})).join(",")})).join("!")},interpretResponse:function(e,r){e=e.body;var t=r.data;if(!e||"object"!==(0,o.Z)(e))return[];if(e.seatbid){var n=(0,v.Z)(e,"ext.errors.rubicon");return Array.isArray(n)&&n.length>0&&(0,m.logWarn)("Rubicon: Error in video response"),j.fromORTB({request:t,response:e}).bids}var a,s=e.ads,d=0,c=r.bidRequest;return"object"===(0,o.Z)(c)&&!Array.isArray(c)&&I(c).includes(p.pX)&&"object"===(0,o.Z)(s)&&(s=s[c.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(r,t,n){if(t.impression_id&&a===t.impression_id?d++:a=t.impression_id,"ok"!==t.status)return r;var s,u,l=Array.isArray(c)?c[n-d]:c;if(l&&"object"===(0,o.Z)(l)){var f={requestId:l.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==h.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:p.Mk}};if(t.creative_type&&(f.mediaType=t.creative_type),t.adomain&&(f.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===p.pX)f.width=l.params.video.playerWidth,f.height=l.params.video.playerHeight,f.vastUrl=t.creative_depot_url,f.impression_id=t.impression_id,f.videoCacheKey=t.impression_id;else{f.ad=(s=t.script,u=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(u,"'>\n<script type='text/javascript'>").concat(s,"<\/script>\n</div>\n</body>\n</html>"));var g=_[t.size_id].split("x").map((function(e){return Number(e)})),v=(0,i.Z)(g,2);f.width=v[0],f.height=v[1]}f.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce((function(e,r){return e[r.key]=r.values[0],e}),{rpfl_elemid:l.adUnitCode}),r.push(f)}else(0,m.logError)("Rubicon: bidRequest undefined at index position:".concat(n),c,e);return r}),[]).sort((function(e,r){return(r.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,r,t,n,i){if(!z&&e.iframeEnabled){var o,a={};if(t&&("boolean"==typeof t.gdprApplies&&(a.gdpr=Number(t.gdprApplies)),"string"==typeof t.consentString&&(a.gdpr_consent=t.consentString)),n&&(a.us_privacy=encodeURIComponent(n)),null!=i&&i.gppString)a.gpp=i.gppString,a.gpp_sid=null===(o=i.applicableSections)||void 0===o?void 0:o.toString();return a=Object.keys(a).length?"?".concat((0,m.formatQS)(a)):"",z=!0,{type:"iframe",url:"https://".concat(h.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,r){return(0,m.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function O(e,r){var t;return t=e.params.referrer?e.params.referrer:r.refererInfo.page,e.params.secure?t.replace(/^http:/i,"https:"):t}function w(e){var r,t=document.getElementById(e.adUnitCode);(r=t.querySelector("div[id^='google_ads']"))&&r.style.setProperty("display","none"),function(e){var r=e.querySelector("script[id^='sas_script']"),t=r&&r.nextSibling;t&&"iframe"===t.localName&&t.style.setProperty("display","none")}(t);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function S(e,r){var t=e.params;if(r===p.pX){var n=[];return t.video&&t.video.playerWidth&&t.video.playerHeight?n=[t.video.playerWidth,t.video.playerHeight]:Array.isArray((0,v.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var i=[];return Array.isArray(t.sizes)?i=t.sizes:void 0!==(0,v.Z)(e,"mediaTypes.banner.sizes")?i=A(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=A(e.sizes):(0,m.logWarn)("Rubicon: no sizes are setup or found"),function(e){var r=[15,2,9];return e.sort((function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-t}))}(i)}function A(e){return(0,m.parseSizesInput)(e).reduce((function(e,r){var t=parseInt(_[r],10);return t&&e.push(t),e}),[])}function C(e){var r=void 0!==(0,v.Z)(e,"mediaTypes.".concat(p.pX)),t=void 0!==(0,v.Z)(e,"mediaTypes.".concat(p.Mk)),n=void 0!==(0,v.Z)(e,"params.bidonmultiformat"),i="object"!==(0,o.Z)((0,v.Z)(e,"params.video"));return!(!r||!n)||(t&&i&&(r=!1),r&&i&&(0,g.N)(e,"params.video",{}),r)}function I(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[];if(C(e)){if(-1===["outstream","instream"].indexOf((0,v.Z)(e,"mediaTypes.".concat(p.pX,".context"))))return r&&(0,m.logError)("Rubicon: mediaTypes.video.context must be outstream or instream"),t;if(S(e,p.pX).length<2)return r&&(0,m.logError)("Rubicon: could not determine the playerSize of the video"),t;r&&(0,m.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),t.push(p.pX)}if(void 0!==(0,v.Z)(e,"mediaTypes.".concat(p.B5))&&t.push(p.B5),void 0!==(0,v.Z)(e,"mediaTypes.".concat(p.Mk))){if(0===S(e,p.Mk).length)return r&&(0,m.logError)("Rubicon: could not determine the sizes for banner request"),t;r&&(0,m.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),t.push(p.Mk)}return t}function R(e){var r=!1,t=["asi","sid","hp"];return e.nodes?((r=e.nodes.reduce((function(e,r){return e?t.every((function(e){return r.hasOwnProperty(e)})):e}),!0))||(0,m.logError)("Rubicon: required schain params missing"),r):r}function T(e,r){return"rp_schain"===e?"rp_schain=".concat(r):"".concat(e,"=").concat(encodeURIComponent(r))}var z=!1;(0,c.dX)(k),(0,a.z)("rubiconBidAdapter")},26372:function(e,r,t){t.d(r,{DZ:function(){return a},Px:function(){return s},TP:function(){return c},YC:function(){return d},Z:function(){return o},f8:function(){return m},fP:function(){return g},gm:function(){return n},md:function(){return u}});var n=["request","imp","bidResponse","response"],i=["default","pbs"],o=n[0],a=n[1],s=n[2],d=n[3],c=i[0],u=i[1],p=new Set(n);var l,f=(l={},{registerOrtbProcessor:function(e){var r=e.type,t=e.name,i=e.fn,o=e.priority,a=void 0===o?0:o,s=e.dialects,d=void 0===s?[c]:s;if(!p.has(r))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));d.forEach((function(e){l.hasOwnProperty(e)||(l[e]={}),l[e].hasOwnProperty(r)||(l[e][r]={}),l[e][r][t]={priority:a,fn:i}}))},getProcessors:function(e){return l[e]||{}}}),m=f.registerOrtbProcessor,g=f.getProcessors}},function(e){e.O(0,[85279,70951],(function(){return r=40060,e(e.s=r);var r}));e.O()}]);
/* sonobiBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[2302],{51415:function(e,r,t){var i=t(89062),n=t(93324),a=t(4942),s=t(78640),o=t(14699),d=t(64358),c=t(20265),u=t(24679),p=t(3193),l=t(35706),f=t(11974),m=t(55975),v="sonobi",g=(0,d.generateUUID)(),b="https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",y={code:v,gvlid:104,supportedMediaTypes:[u.Mk,u.pX],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!(0,c.Z)(e,"mediaTypes.banner")&&!(0,c.Z)(e,"mediaTypes.video"))return!1;if((0,c.Z)(e,"mediaTypes.banner")){if(!(0,c.Z)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if((0,c.Z)(e,"mediaTypes.video")){if("outstream"===(0,c.Z)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===(0,c.Z)(e,"mediaTypes.video.context")&&!(0,c.Z)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,r){var t=e.map((function(e){var r;(0,c.Z)(e,"mediaTypes.video")?r="video":(0,c.Z)(e,"mediaTypes.banner")&&(r="display");var t=function(e){if(e.params.ad_unit)return e.params.ad_unit;return e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,(0,a.Z)({},"".concat(t,"|").concat(e.bidId),"".concat(h(e),"|").concat(x(e)).concat(_(e)).concat(S(r)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?(0,a.Z)({},e.bidId,"".concat(t,"|").concat(h(e),"|").concat(x(e)).concat(_(e)).concat(S(r))):void(0,d.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))})),i={};t.forEach((function(e){Object.assign(i,e)}));var n={key_maker:JSON.stringify(i),ref:r.refererInfo.page,s:(0,d.generateUUID)(),pv:g,vp:w(),lib_name:"prebid",lib_v:"7.54.3",us:0,iqid:m.S.get(v,"storageAllowed")?JSON.stringify(z()):null},s=r.ortb2;s&&(n.fpd=JSON.stringify(s)),p.vc.getConfig("userSync")&&p.vc.getConfig("userSync").syncsPerBidder&&(n.us=p.vc.getConfig("userSync").syncsPerBidder),f.k_.canBidderRegisterSync("iframe",v)?n.ius=1:n.ius=0,(0,c.Z)(e[0],"params.hfa")&&(n.hfa=(0,c.Z)(e[0],"params.hfa")),e[0].params.referrer&&(n.ref=e[0].params.referrer),r&&r.gdprConsent&&(n.gdpr=r.gdprConsent.gdprApplies?"true":"false",r.gdprConsent.consentString&&(n.consent_string=r.gdprConsent.consentString)),e[0].schain&&(n.schain=JSON.stringify(e[0].schain));var o=(0,c.Z)(e[0],"userIdAsEids");Array.isArray(o)&&o.length>0&&(n.eids=JSON.stringify(o));var u=e[0].params.keywords;if(u&&(n.kw=u),r&&r.uspConsent&&(n.us_privacy=r.uspConsent),!0===p.vc.getConfig("coppa")?n.coppa=1:n.coppa=0,(0,d.isEmpty)(i))return null;var l="https://apex.go.sonobi.com/trinity.json";return(0,c.Z)(e[0],"params.bid_request_url")&&(l=(0,c.Z)(e[0],"params.bid_request_url")),{method:"GET",url:l,withCredentials:!0,data:n,bidderRequests:e}},interpretResponse:function(e,r){var t=e.body,i=[],a=r.data.ref;return 0===Object.keys(t.slots).length||Object.keys(t.slots).forEach((function(e){var s=t.slots[e],o=e.split("|").slice(-1)[0],u=function(e,r){for(var t=0;t<e.length;t++)if(e[t].bidId===r)return e[t]}(r.bidderRequests,o),p=null;"video"===s.sbi_ct&&(p="video","outstream"===(0,c.Z)(u,"mediaTypes.video.context")&&(p="outstream"));var f=Z(p,a);if(s.sbi_aid&&s.sbi_mouse&&s.sbi_size){var m=s.sbi_size.split("x"),v=(0,n.Z)(m,2),g=v[0],y=void 0===g?1:g,h=v[1],x=void 0===h?1:h,_=[];s.sbi_adomain&&(_=[s.sbi_adomain]);var S={requestId:o,cpm:Number(s.sbi_mouse),width:Number(y),height:Number(x),ad:f(t.sbi_dc,s.sbi_aid),ttl:500,creativeId:s.sbi_crid||s.sbi_aid,aid:s.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:_}};if(s.sbi_dozer&&(S.dealId=s.sbi_dozer),"video"===p)S.mediaType="video",S.vastUrl=f(t.sbi_dc,s.sbi_aid),delete S.ad,delete S.width,delete S.height;else if("outstream"===p&&u){delete S.ad,S.mediaType="video",S.vastUrl=f(t.sbi_dc,s.sbi_aid),S.renderer=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=l.Th.install({id:r.aid,url:b,config:t,loaded:!1,adUnitCode:e});try{i.setRender(C)}catch(e){(0,d.logWarn)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function(){return(0,d.logMessage)("Sonobi outstream video impression event")},loaded:function(){return(0,d.logMessage)("Sonobi outstream video loaded event")},ended:function(){(0,d.logMessage)("Sonobi outstream renderer video event")}}),i}(u.adUnitCode,S,(0,c.Z)(u,"renderer.options"));var T=(0,c.Z)(u,"params.sizes");Array.isArray(T)&&Array.isArray(T[0])&&(T=T[0]),T&&(S.width=T[0],S.height=T[1])}i.push(S)}})),i},getUserSyncs:function(e,r,t,i){var n=[];try{e.pixelEnabled&&r[0].body.sbi_px.forEach((function(e){n.push({type:e.type,url:e.url})}))}catch(e){}return n}};function h(e){var r=[];return(0,c.Z)(e,"mediaTypes.video.playerSize")&&r.push((0,c.Z)(e,"mediaTypes.video.playerSize")),(0,c.Z)(e,"mediaTypes.video.sizes")&&r.push((0,c.Z)(e,"mediaTypes.video.sizes")),(0,c.Z)(e,"params.sizes")&&r.push((0,c.Z)(e,"params.sizes")),(0,c.Z)(e,"mediaTypes.banner.sizes")&&r.push((0,c.Z)(e,"mediaTypes.banner.sizes")),(0,c.Z)(e,"sizes")&&r.push((0,c.Z)(e,"sizes")),(0,i.Z)(new Set(d.parseSizesInput.apply(void 0,r))).join(",")}function x(e){var r=function(e){if(!(0,d.isFn)(e.getFloor))return e.params.floor?e.params.floor:null;var r=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if((0,d.isPlainObject)(r)&&!isNaN(r.floor)&&"USD"===r.currency)return r.floor;return""}(e);return r?"f=".concat(r,","):""}function _(e){var r=(0,c.Z)(e,"ortb2Imp.ext.data.pbadslot")||(0,c.Z)((0,d.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return r?"gpid=".concat(r,","):""}function S(e){var r="";return"video"===e?r="c=v,":"display"===e&&(r="c=d,"),r}var Z=function(e,r){return function(t,i){return"video"===e||"outstream"===e?function(e,r,t){return"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(r,"&ref=").concat(encodeURIComponent(t))}(t,i,r):'<script type="text/javascript" src="'+"https://".concat(t,"apex.go.sonobi.com/sbi.js?aid=").concat(i,"&as=null&ref=").concat(encodeURIComponent(r))+'"><\/script>'}};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return e.innerWidth>=r&&e.innerWidth<t}};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=T(e),t={lt:768},i={lt:992,ge:768};return r(0,t.lt)?"mobile":r(i.ge,i.lt)?"tablet":"desktop"}function z(){var e,r,t,i="_iiq_fdata",n=function(){if(void 0!==e)return e;try{return e=!!window.localStorage}catch(r){e=!1}return!1},a=function(e){try{return JSON.parse(e)}catch(e){return null}}((r=i,n()?window.localStorage.getItem(r):null));a&&a.pcid?a&&!a.pcidDate&&(a.pcidDate=Date.now()):a={pcid:(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}))),pcidDate:Date.now()};return function(e,r){try{n()&&window.localStorage.setItem(e,r)}catch(e){return null}}(i,JSON.stringify(a)),a}function C(e){e.renderer.push((function(){var r=e.getSize().split("x"),t=(0,n.Z)(r,2),i=t[0],a=t[1],s=new window.SbiOutstreamRenderer;s.init({vastUrl:e.vastUrl,height:a,width:i}),s.setRootElement(e.adUnitCode)}))}(0,o.dX)(y),(0,s.z)("sonobiBidAdapter")}},function(e){var r;r=51415,e(e.s=r)}]);
/* sovrnBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[37771],{30272:function(e,r,n){var t=n(4942),i=n(78640),o=n(64358),a=n(20265),s=n(96475),u=n(14699),c=n(24679);function d(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function p(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var f={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return(0,o.isInteger)(e)},maxduration:function(e){return(0,o.isInteger)(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=10}))},w:function(e){return(0,o.isInteger)(e)},h:function(e){return(0,o.isInteger)(e)},startdelay:function(e){return(0,o.isInteger)(e)},placement:function(e){return(0,o.isInteger)(e)&&e>=1&&e<=5},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return(0,o.isInteger)(e)},skipafter:function(e){return(0,o.isInteger)(e)},sequence:function(e){return(0,o.isInteger)(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=17}))},maxextended:function(e){return(0,o.isInteger)(e)},minbitrate:function(e){return(0,o.isInteger)(e)},maxbitrate:function(e){return(0,o.isInteger)(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=3}))},pos:function(e){return(0,o.isInteger)(e)&&e>=1&&e<=7},api:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))}},l={context:function(e){return e!==c.Oh},mimes:f.mimes,minduration:f.minduration,maxduration:f.maxduration,protocols:f.protocols},y={code:"sovrn",supportedMediaTypes:[c.Mk,c.pX],gvlid:13,isBidRequestValid:function(e){var r,n=null==e||null===(r=e.mediaTypes)||void 0===r?void 0:r.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||n&&!Object.keys(l).every((function(e){return l[e](n[e])})))},buildRequests:function(e,r){try{var n,t,i,u,c=[];(0,o._each)(e,(function(e){!i&&e.userIdAsEids&&(i=e.userIdAsEids).forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(u=e.uids[0].id)})),e.schain&&(t=t||e.schain),n=n||(0,o.getBidIdParameter)("iv",e.params);var r=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{};r.floor=r.floor||(0,o.getBidIdParameter)("bidfloor",e.params);var s={adunitcode:e.adUnitCode,id:e.bidId,tagid:String((0,o.getBidIdParameter)("tagid",e.params)),bidfloor:r.floor};if((0,a.Z)(e,"mediaTypes.banner")){var d=(0,a.Z)(e,"mediaTypes.banner.sizes")||e.sizes,l=(d=(d=(0,o.isArray)(d)&&(0,o.isArray)(d[0])?d:[d]).filter((function(e){return(0,o.isArray)(e)}))).map((function(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}));s.banner={format:l,w:1,h:1}}(0,a.Z)(e,"mediaTypes.video")&&(s.video=function(e){var r={},n=(0,a.Z)(e,"sizes"),t=(0,a.Z)(e,"mediaTypes.video",{}),i=(0,a.Z)(e,"params.video",{}),s={};if(n){var u=Array.isArray(n[0])?n[0]:n;s.w=u[0],s.h=u[1]}else if(Array.isArray(t.playerSize)){var c=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;s.w=c[0],s.h=c[1]}var d=p(p(p({},s),t),i);return Object.keys(f).forEach((function(e){d.hasOwnProperty(e)&&(f[e](d[e])?r[e]=d[e]:(0,o.logWarn)("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),r}(e)),s.ext=(0,o.getBidIdParameter)("ext",e.ortb2Imp)||void 0;var y=(0,o.getBidIdParameter)("segments",e.params);y&&(s.ext=s.ext||{},s.ext.deals=y.split(",").map((function(e){return e.trim()}))),c.push(s)}));var d=r.ortb2||{},l=d.site||{};l.page=r.refererInfo.page,l.domain=r.refererInfo.domain;var y=(0,a.Z)(r,"timeout"),m={id:(0,o.getUniqueIdentifierStr)(),imp:c,site:l,user:d.user||{},tmax:y};t&&(m.source={ext:{schain:t}}),r.gdprConsent&&((0,s.N)(m,"regs.ext.gdpr",+r.gdprConsent.gdprApplies),(0,s.N)(m,"user.ext.consent",r.gdprConsent.consentString)),r.uspConsent&&(0,s.N)(m,"regs.ext.us_privacy",r.uspConsent),r.gppConsent&&((0,s.N)(m,"regs.gpp",r.gppConsent.gppString),(0,s.N)(m,"regs.gpp_sid",r.gppConsent.applicableSections)),i&&((0,s.N)(m,"user.ext.eids",i),u&&(0,s.N)(m,"user.ext.prebid_criteoid",u));var g="https://ap.lijit.com/rtb/bid?src=prebid_prebid_7.54.3";return n&&(g+="&iv=".concat(n)),{method:"POST",url:g,data:JSON.stringify(m),options:{contentType:"text/plain"}}}catch(e){(0,o.logError)("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){var r=e.body,n=r.id,t=r.seatbid;if(!n||!t||!Array.isArray(t))return[];try{return t.filter((function(e){return e})).map((function(e){return e.bid.map((function(e){var r,n={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?c.Mk:c.pX,ttl:(null===(r=e.ext)||void 0===r?void 0:r.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?n.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):n.vastXml=decodeURIComponent(e.adm),n}))})).flat()}catch(e){return(0,o.logError)("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,r,n,t){try{var i=[];if(r&&0!==r.length){if(e.iframeEnabled){var o=r.filter((function(e){return(0,a.Z)(e,"body.ext.iid")})).map((function(e){return e.body.ext.iid})),s=[];n&&n.gdprApplies&&"string"==typeof n.consentString&&s.push(["gdpr_consent",n.consentString]),t&&s.push(["us_privacy",t]),o[0]&&(s.push(["informer",o[0]]),i.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+s.map((function(e){return e.join("=")})).join("&")}))}e.pixelEnabled&&r.filter((function(e){return(0,a.Z)(e,"body.ext.sync.pixels")})).reduce((function(e,r){return e.concat(r.body.ext.sync.pixels)}),[]).map((function(e){return e.url})).forEach((function(e){return i.push({type:"image",url:e})}))}return i}catch(e){return[]}}};(0,u.dX)(y),(0,i.z)("sovrnBidAdapter")}},function(e){var r;r=30272,e(e.s=r)}]);
/* undertoneBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[58694],{88903:function(e,n,t){var a=t(78640),r=t(64358),i=t(20265),o=t(14699),p=t(24679);function s(e){if(!e)return null;var n=e.gdprApplies?"1":"0",t=e.consentString?e.consentString:"";return"gdpr=".concat(n,"&gdprstr=").concat(t)}function d(e){var n=document.getElementById(e),t=-1,a=-1;if(n){t=n.offsetLeft,a=n.offsetTop;var r=n.offsetParent;return r&&(t+=r.offsetLeft,a+=r.offsetTop),[t,a]}return null}var c={code:"undertone",gvlid:677,supportedMediaTypes:[p.Mk,p.pX],isBidRequestValid:function(e){if(e&&e.params&&e.params.publisherId)return e.params.publisherId=parseInt(e.params.publisherId),!0},buildRequests:function(e,n){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=0==t||0==a?null:[t,a],c={adapterVersion:"7.54.3",uids:e[0].userId,pageSize:o};e[0].schain&&(c.schain=e[0].schain);var u={"x-ut-hb-params":[],commons:c},l=n.refererInfo.topmostLocation,m=n.refererInfo.canonicalUrl;l&&(c.referrer=l),m&&(c.canonicalUrl=m);var h=function(e){var n=null;try{var t=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=t&&t.length>0){n=t[0];for(var a=1;a<t.length;a++)t[a].length>n.length&&(n=t[a])}}catch(e){n=null}return n}((0,r.parseUrl)(l).hostname),f=m||l,v=e[0].params.publisherId,y="".concat("https://hb.undertone.com/hb","?pid=").concat(v,"&domain=").concat(h),g=s(n.gdprConsent);if(g&&(y+="&".concat(g)),n.uspConsent&&(y+="&ccpa=".concat(n.uspConsent)),n.gppConsent){var b,I,T=null!==(b=n.gppConsent.gppString)&&void 0!==b?b:"",w=null!==(I=n.gppConsent.applicableSections)&&void 0!==I?I:"";y+="&gpp=".concat(T,"&gpp_sid=").concat(w)}return e.map((function(e){var n={bidRequestId:e.bidId,coordinates:d(e.adUnitCode),hbadaptor:"prebid",url:f,domain:h,placementId:null!=e.params.placementId?e.params.placementId:null,publisherId:e.params.publisherId,sizes:e.sizes,params:e.params},t=(0,i.Z)(e,"mediaTypes.video"),a=t?p.pX:p.Mk;n.mediaType=a,n.bidfloor=function(e,n){if("function"!=typeof e.getFloor)return 0;var t=e.getFloor({currency:"USD",mediaType:n,size:"*"});return t&&"USD"===t.currency&&t.floor||0}(e,a),t&&(n.video={playerSize:(0,i.Z)(e,"mediaTypes.video.playerSize")||null,streamType:(0,i.Z)(e,"mediaTypes.video.context")||null,playbackMethod:(0,i.Z)(e,"params.video.playbackMethod")||null,maxDuration:(0,i.Z)(e,"params.video.maxDuration")||null,skippable:(0,i.Z)(e,"params.video.skippable")||null,placement:(0,i.Z)(e,"mediaTypes.video.placement")||null,plcmt:(0,i.Z)(e,"mediaTypes.video.plcmt")||null}),u["x-ut-hb-params"].push(n)})),{method:"POST",url:y,withCredentials:!0,data:JSON.stringify(u)}},interpretResponse:function(e,n){var t=[],a=e.body;return a&&Array.isArray(a)&&a.length>0&&a.forEach((function(e){if(e.ad&&e.cpm>0){var n={requestId:e.bidRequestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:e.netRevenue,ttl:e.ttl||360,meta:{advertiserDomains:e.adomain?e.adomain:[]}};e.mediaType&&"video"===e.mediaType?(n.vastXml=e.ad,n.mediaType=e.mediaType):n.ad=e.ad,t.push(n)}})),t},getUserSyncs:function(e,n,t,a){var r=[],i=s(t),o="",p="";return i&&(o+="?".concat(i),p+="&".concat(i)),a&&(o+=""!=o?"&":"?",o+="ccpa=".concat(a),p+="&ccpa=".concat(a)),e.iframeEnabled?r.push({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+o}):e.pixelEnabled&&r.push({type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=1&of=2"+p},{type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=2&of=2"+p}),r}};(0,o.dX)(c),(0,a.z)("undertoneBidAdapter")}},function(e){var n;n=88903,e(e.s=n)}]);
/* unifiedIdSystem.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[34579],{98709:function(r,e,t){var n=t(78640),o=t(64358),i=t(48928),d=t(92797),u="unifiedId",a={name:u,gvlid:21,decode:function(r){return r&&"string"==typeof r.TDID?{tdid:r.TDID}:void 0},getId:function(r){var e=r&&r.params||{};if(e&&("string"==typeof e.partner||"string"==typeof e.url)){var t=e.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(e.partner,"&fmt=json");return{callback:function(r){var e={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(r){(0,o.logError)(r)}r(t)},error:function(e){(0,o.logError)("".concat(u,": ID fetch encountered an error"),e),r()}};(0,i.h)(t,e,void 0,{method:"GET",withCredentials:!0})}}}(0,o.logError)("User ID - unifiedId submodule requires either partner or url to be defined")}};(0,d.Bx)("userId",a),(0,n.z)("unifiedIdSystem")}},function(r){var e;e=98709,r(r.s=e)}]);
/* validationFpdModule.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[19162],{20741:function(e,r,t){var i,a=t(93324),n=t(71002),c=t(78640),y=t(64358),p=t(20265),o="string",d="object",s="number",l={imp:{invalid:!0},cur:{type:d,isArray:!0,childType:o},device:{type:d,children:{w:{type:s},h:{type:s}}},site:{type:d,children:{name:{type:o},domain:{type:o},page:{type:o},ref:{type:o},keywords:{type:o},search:{type:o},cat:{type:d,isArray:!0,childType:o},sectioncat:{type:d,isArray:!0,childType:o},pagecat:{type:d,isArray:!0,childType:o},content:{type:d,isArray:!1,children:{data:{type:d,isArray:!0,childType:d,required:["name","segment"],children:{segment:{type:d,isArray:!0,childType:d,required:["id"],children:{id:{type:o}}},name:{type:o},ext:{type:d}}}}},publisher:{type:d,isArray:!1,children:{id:{type:o},name:{type:o},cat:{type:d,isArray:!0,childType:o},domain:{type:o},ext:{type:d,isArray:!1}}}}},user:{type:d,children:{yob:{type:s,optoutApplies:!0},gender:{type:o,optoutApplies:!0},keywords:{type:o},data:{type:d,isArray:!0,childType:d,required:["name","segment"],children:{segment:{type:d,isArray:!0,childType:d,required:["id"],children:{id:{type:o}}},name:{type:o},ext:{type:d}}}}},bcat:{type:d,isArray:!0,childType:o},badv:{type:d,isArray:!0,childType:o}},u=t(92797),h=(0,t(15164).eA)("FPDValidation");function f(e){var r=!0;return"object"!==(0,n.Z)(e)||(0,y.isEmpty)(e)?"object"!==(0,n.Z)(e)&&((0,y.isNumber)(e)||e)&&(r=!1):r=!1,r}function b(e,r,t,i){var a=!0;return r.forEach((function(r){e[r]&&!f(e[r])||(a=!1,(0,y.logWarn)("Filtered ".concat(t,"[] value at index ").concat(i," in ortb2 data: missing required property ").concat(r)))})),a}function A(e,r){var t=!1;switch(r.type){case"string":"string"==typeof e&&(t=!0);break;case"number":"number"==typeof e&&isFinite(e)&&(t=!0);break;case"object":"object"===(0,n.Z)(e)&&(Array.isArray(e)&&r.isArray||!Array.isArray(e)&&!r.isArray)&&(t=!0)}return t}function g(e,r,t,i){return e=e.filter((function(e,t){if(A(e,{type:r.type,isArray:r.isArray})&&Array.isArray(e)===Boolean(r.isArray))return!0;(0,y.logWarn)("Filtered ".concat(i,"[] value at index ").concat(t," in ortb2 data: expected type ").concat(r.type))})).filter((function(e,r){var a=!0,n=(0,p.Z)(l,t);if(n&&n.required&&(a=b(e,n.required,i,r)),a)return!0})).reduce((function(e,a,n){var c=!1,o=(0,p.Z)(l,t);switch(r.type){case"string":e.push(a),c=!0;break;case"object":if(o&&o.children){var d=v(a,t+".children.",i+".");if(Object.keys(d).length)b(d,o.required,i,n)&&(e.push(d),c=!0)}else e.push(a),c=!0}return c||(0,y.logWarn)("Filtered ".concat(i,"[] value at index ").concat(n,"  in ortb2 data: expected type ").concat(r.type)),e}),[])}function v(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return{};var a=Object.assign({},Object.keys(e).filter((function(e){var i=(0,p.Z)(l,r+e);if(!i||!i.invalid)return e;(0,y.logWarn)("Filtered ".concat(t).concat(e," property in ortb2 data: invalid property"))})).filter((function(i){var a=(0,p.Z)(l,r+i);if(!a||A(e[i],{type:a.type,isArray:a.isArray})||!a)return i;(0,y.logWarn)("Filtered ".concat(t).concat(i," property in ortb2 data: expected type ").concat(a.isArray?"array":a.type))})).reduce((function(a,n){var c=(0,p.Z)(l,r+n),o={};if(c){if(c.optoutApplies&&i)return(0,y.logWarn)("Filtered ".concat(t).concat(n," data: pubcid optout found")),a;f(o="object"!==c.type||c.isArray?c.isArray&&c.childType?g(e[n],{type:c.childType,isArray:c.childisArray},r+n,t+n):e[n]:v(e[n],r+n+".children.",t+n+"."))?(0,y.logWarn)("Filtered ".concat(t).concat(n," property in ortb2 data: empty data found")):a[n]=o}else a[n]=e[n];return a}),{}));return a}var m={name:"validation",queue:1,processFpd:function(e,r){return i=h.cookiesAreEnabled()&&h.getCookie("_pubcid_optout")||h.hasLocalStorage()&&h.getDataFromLocalStorage("_pubcid_optout"),e.skipValidations?r:function(e){return{global:v(e.global),bidder:Object.fromEntries(Object.entries(e.bidder).map((function(e){var r=(0,a.Z)(e,2);return[r[0],v(r[1])]})))}}(r)}};(0,u.Bx)("firstPartyData",m),(0,c.z)("validationFpdModule")}},function(e){var r;r=20741,e(e.s=r)}]);
/* yieldmoBidAdapter.js  */
(self.pbjsChunk=self.pbjsChunk||[]).push([[15337],{55511:function(e,r,t){var n=t(71002),i=t(78640),a=t(64358),o=t(20265),d=t(96475),c=t(24679),u=t(14699),s=t(35706),p=t(34614),f="USD",m=300,l=!0,v="https://ads.yieldmo.com/pbcas",g="https://prebid-outstream.yieldmo.com/bundle.js",y=["mimes","startdelay","placement","startdelay","skipafter","protocols","api","playbackmethod","maxduration","minduration","pos","skip","skippable"],h=["name","domain","cat","keywords"],b=(0,a.getWindowTop)(),I=["description","title","pr","page_url"],x={code:"yieldmo",supportedMediaTypes:[c.Mk,c.pX],gvlid:173,isBidRequestValid:function(e){return!!(e&&e.adUnitCode&&e.bidId&&(w(e)||Z(e))&&function(e){if(!Z(e))return!0;var r=function(e,r,t){var n='"'.concat(e,'" is required');throw t&&(n+=" when "+t),new Error(n)},t=function(e,r,t){throw t=t?", expected: "+t:"",r=JSON.stringify(r),new Error('"'.concat(e,'"=').concat(r," is invalid").concat(t))},n=function(e){return void 0!==e},i=function(r,t,n,i){if(0===r.indexOf("video")){var a="params."+r,d="mediaTypes."+r,c=(0,o.Z)(e,a),u=(0,o.Z)(e,d),s=t(c),p=t(u);return s?c:p||(s?p||n(d,u,i):n(a,c,i),c||u)}var f=(0,o.Z)(e,r);return t(f)||n(r,f,i),f};try{i("video.context",(function(e){return!(0,a.isEmpty)(e)}),r),i("params.placementId",(function(e){return!(0,a.isEmpty)(e)}),r),i("video.playerSize",(function(e){return(0,a.isArrayOfNums)(e,2)||(0,a.isArray)(e)&&e.every((function(e){return(0,a.isArrayOfNums)(e,2)}))}),t,"array of 2 integers, ex: [640,480] or [[640,480]]"),i("video.mimes",(function(e){return n(e)}),r),i("video.mimes",(function(e){return(0,a.isArray)(e)&&e.every((function(e){return(0,a.isStr)(e)}))}),t,'array of strings, ex: ["video/mp4"]');var d=i("video.placement",(function(e){return n(e)}),r);return i("video.placement",(function(e){return e>=1&&e<=5}),t),1===d&&(i("video.startdelay",(function(e){return n(e)}),(function(e,t){return r(e,t,"placement == 1")})),i("video.startdelay",(function(e){return(0,a.isNumber)(e)}),t,"number, ex: 5")),i("video.protocols",(function(e){return n(e)}),r),i("video.protocols",(function(e){return(0,a.isArrayOfNums)(e)&&e.every((function(e){return e>=1&&e<=6}))}),t,"array of numbers, ex: [2,3]"),i("video.api",(function(e){return n(e)}),r),i("video.api",(function(e){return(0,a.isArrayOfNums)(e)&&e.every((function(e){return e>=1&&e<=6}))}),t,"array of numbers, ex: [2,3]"),i("video.playbackmethod",(function(e){return!n(e)||(0,a.isArrayOfNums)(e)}),t,"array of integers, ex: [2,6]"),i("video.maxduration",(function(e){return n(e)}),r),i("video.maxduration",(function(e){return(0,a.isInteger)(e)}),t),i("video.minduration",(function(e){return!n(e)||(0,a.isNumber)(e)}),t),i("video.skippable",(function(e){return!n(e)||(0,a.isBoolean)(e)}),t),i("video.skipafter",(function(e){return!n(e)||(0,a.isNumber)(e)}),t),i("video.pos",(function(e){return!n(e)||(0,a.isNumber)(e)}),t),i("params.badv",(function(e){return!n(e)||(0,a.isArray)(e)}),t,'array of strings, ex: ["ford.com","pepsi.com"]'),i("params.bcat",(function(e){return!n(e)||(0,a.isArray)(e)}),t,'array of strings, ex: ["IAB1-5","IAB1-6"]'),!0}catch(e){return(0,a.logError)(e.message),!1}}(e))},buildRequests:function(e,r){var t=function(e){var r,t;return!(null===(r=e.refererInfo)||void 0===r||null===(t=r.referer)||void 0===t||!t.includes("pb_force_a"))}(r),n=_("/exchange/prebid",t),i=_("/exchange/prebidvideo",t),u=e.filter((function(e){return w(e)})),s=e.filter((function(e){return Z(e)})),f=[],m=function(e){if((0,o.Z)(e,"userIdAsEids"))return e.userIdAsEids||[]}(e[0])||[];if(u.length>0){var l={pbav:"7.54.3",p:[],page_url:r.refererInfo.page,bust:(new Date).getTime().toString(),dnt:"1"===window.doNotTrack||"1"===window.navigator.doNotTrack||!1,description:k(),userConsent:JSON.stringify({gdprApplies:(0,o.Z)(r,"gdprConsent.gdprApplies")||"",cmp:(0,o.Z)(r,"gdprConsent.consentString")||"",gpp:(0,o.Z)(r,"gppConsent.gppString")||"",gpp_sid:(0,o.Z)(r,"gppConsent.applicableSections")||[]}),us_privacy:(0,o.Z)(r,"uspConsent")||""};(function(){try{if((0,a.getWindowTop)().location.href)return!0}catch(e){return!1}})()&&(l.pr=b.document&&b.document.referrer||"",l.scrd=b.devicePixelRatio||0,l.title=b.document.title||"",l.w=b.innerWidth,l.h=b.innerHeight);var v=window.navigator.maxTouchPoints;v&&(l.mtp=v),u.forEach((function(e){l.p.push(function(e){var r=(0,o.Z)(e,"ortb2Imp.ext.data.pbadslot"),t={placement_id:e.adUnitCode,callback_id:e.bidId,sizes:e.mediaTypes.banner.sizes};if(e.params){e.params.placementId&&(t.ym_placement_id=e.params.placementId);var n=S(e,c.Mk);n&&(t.bidFloor=n)}r&&(t.gpid=r);var i=(0,o.Z)(e,"ortb2Imp.ext.tid");i&&(t.tid=i);e.auctionId&&(t.auctionId=e.auctionId);return JSON.stringify(t)}(e));var r=N(e,"pubcid");r?l.pubcid=r:e.crumbs&&e.crumbs.pubcid&&(l.pubcid=e.crumbs.pubcid);var t=N(e,"tdid");t&&(l.tdid=t);var n=N(e,"criteoId");n&&(l.cri_prebid=n),e.schain&&(l.schain=JSON.stringify(e.schain)),(0,o.Z)(e,"params.lr_env")&&(l.ats_envelope=e.params.lr_env)})),l.p="["+l.p.toString()+"]",m.length&&(l.eids=JSON.stringify(m));var g="".concat(n,"?").concat((0,a.parseQueryStringParameters)(l)).length-8e3;if(g>0)for(var h=0;h<I.length&&!((g=T(g,l,I[h]))<=0);h++);f.push({method:"GET",url:n,data:l})}if(s.length>0){var x=function(e,r){var t=e[0].schain,n={id:e[0].bidderRequestId,tmax:r.timeout||400,at:1,imp:e.map((function(e){return function(e){var r=(0,o.Z)(e,"ortb2Imp.ext.data.pbadslot"),t=function(e){var r=(0,o.Z)(e,"mediaTypes.video.playerSize");if((0,a.isArrayOfNums)(r,2))return r;if((0,a.isArray)(r)&&(0,a.isArrayOfNums)(r[0],2))return r[0];return null}(e),n={id:e.bidId,tagid:e.adUnitCode,bidfloor:S(e,c.pX),ext:{placement_id:e.params.placementId,tid:(0,o.Z)(e,"ortb2Imp.ext.tid")},video:{w:t[0],h:t[1],linearity:1}},i=(0,o.Z)(e,"mediaTypes.video");Object.keys(i).filter((function(e){return(0,p.q9)(y,e)})).forEach((function(e){return n.video[e]=i[e]}));var d=(0,o.Z)(e,"params.video");Object.keys(d).filter((function(e){return(0,p.q9)(y,e)})).forEach((function(e){return n.video[e]=d[e]})),n.video.skippable&&(n.video.skip=1,delete n.video.skippable);1!==n.video.placement&&(n.video.startdelay=0,n.video.playbackmethod=[2]);r&&(n.ext.gpid=r);return n}(e)})),site:A(e[0],r),device:(0,o.Z)(r,"ortb2.device"),badv:e[0].params.badv||[],bcat:(0,o.Z)(r,"bcat")||e[0].params.bcat||[],ext:{prebid:"7.54.3"},ats_envelope:e[0].params.lr_env};t&&(n.schain=t);e[0].auctionId&&(n.auctionId=e[0].auctionId);return function(e,r){var t=r.gdprConsent,n=(0,o.Z)(r,"gppConsent.gppString"),i=(0,o.Z)(r,"gppConsent.applicableSections");n?(0,d.N)(e,"regs.ext.gpp",n):((0,d.N)(e,"regs.ext.gdpr",t&&t.gdprApplies?1:0),(0,d.N)(e,"user.ext.consent",t&&t.consentString?t.consentString:""));i&&i.length>0&&(0,d.N)(e,"regs.ext.gpp_sid",i);var a=(0,o.Z)(r,"uspConsent");!n&&a&&(0,d.N)(e,"regs.ext.us_privacy",a)}(n,r),n}(s,r);m.length&&(x.user={eids:m}),f.push({method:"POST",url:i,data:x})}return f},interpretResponse:function(e,r){var t=[],n=e.body;(n.length>0&&n.forEach((function(e){e.cpm>0&&t.push(function(e){return{dealId:e.publisherDealId,requestId:e.callback_id,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.creative_id,currency:f,netRevenue:l,ttl:300,ad:e.ad,meta:{advertiserDomains:e.adomain||[],mediaType:c.Mk}}}(e))})),n.seatbid)&&n.seatbid.reduce((function(e,r){return e.concat(r.bid)}),[]).forEach((function(e){return t.push(function(e,r){var t=(0,p.sE)((0,o.Z)(r,"data.imp")||[],(function(r){return r.id===e.impid})),n={dealId:e.dealid,requestId:t.id,cpm:e.price,width:t.video.w,height:t.video.h,creativeId:e.crid||e.adid,currency:f,netRevenue:l,mediaType:c.pX,ttl:m,vastXml:e.adm,meta:{advertiserDomains:e.adomain||[],mediaType:c.pX}};if(t.video.placement&&1!==t.video.placement){var i=s.Th.install({url:g,config:{width:n.width,height:n.height,vastTimeout:15e3,maxAllowedVastTagRedirects:5,allowVpaid:!0,autoPlay:!0,preload:!0,mute:!0},id:t.tagid,loaded:!1});i.setRender((function(e){e.renderer.push((function(){var r=e.renderer,t=r.id,n=r.config;window.YMoutstreamPlayer(e,t,n)}))})),n.renderer=i}return n}(e,r))}));return t},getUserSyncs:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[],a="&gdpr=".concat(t.gdprApplies?1:0),o="&gdpr_consent=".concat(encodeURIComponent(t.consentString||"")),d="us_privacy=".concat(encodeURIComponent(n)),c="".concat(v,"?").concat(d).concat(a).concat(o);return e.iframeEnabled?i.push({type:"iframe",url:c+"&type=iframe"}):e.pixelEnabled&&i.push({type:"image",url:c+"&type=image"}),i}};function w(e){return!!(0,o.Z)(e,"mediaTypes.banner")}function Z(e){return!!(0,o.Z)(e,"mediaTypes.video")}function k(){return document.querySelector('meta[name="description"]')&&document.querySelector('meta[name="description"]').getAttribute("content")||""}function N(e,r){return"object"===(0,n.Z)((0,o.Z)(e,"userId"))?e.userId[r]:void 0}function S(e,r){var t={};return"function"==typeof e.getFloor&&(t=e.getFloor({currency:f,mediaType:r,size:"*"})),t.floor||e.params.bidfloor||e.params.bidFloor||0}function A(e,r){var t,n={},i=(0,a.parseUrl)((0,o.Z)(r,"refererInfo.page"));(0,a.isEmpty)(i)||(n.page="".concat(i.protocol,"://").concat(i.hostname).concat(i.pathname)),null!==(t=r.refererInfo)&&void 0!==t&&t.ref&&(n.ref=r.refererInfo.ref);var d=document.getElementsByTagName("meta").keywords;d&&d.content&&(n.keywords=d.content);var c=(0,o.Z)(e,"params.site");return c&&Object.keys(c).filter((function(e){return(0,p.q9)(h,e)})).forEach((function(e){return n[e]=c[e]})),n}function T(e,r,t){if(r[t].length>e)return r[t]=r[t].substring(0,r[t].length-e),0;var n=e-r[t].length;return r[t]="",n}function _(e,r){return"".concat(r?"https://ads-stg.yieldmo.com":"https://ads.yieldmo.com").concat(e)}(0,u.dX)(x),(0,i.z)("yieldmoBidAdapter")}},function(e){var r;r=55511,e(e.s=r)}]);

  })(); 
  (function(){
    try{
      if(!window.console) {return;}
      let style = "display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;";
      console.log("%cPrebid", style, "aditude.io build", {"includedModules":["prebid-core.js","aditude.js","amxBidAdapter.js","appnexusBidAdapter.js","consentManagement.js","consentManagementUsp.js","conversantBidAdapter.js","enrichmentFpdModule.js","userId.js (dependency for fabrickIdSystem.js)","fabrickIdSystem.js","fpdModule.js","gdprEnforcement.js","gptPreAuction.js","id5IdSystem.js","ixBidAdapter.js","kargoBidAdapter.js","medianetBidAdapter.js","ortbConverter.js (dependency for openxBidAdapter.js)","openxBidAdapter.js","priceFloors.js","pbsExtensions.js (dependency for rubiconBidAdapter.js)","rubiconBidAdapter.js","sonobiBidAdapter.js","sovrnBidAdapter.js","undertoneBidAdapter.js","unifiedIdSystem.js","validationFpdModule.js","yieldmoBidAdapter.js"]});
    }catch(e){/* ignore */}
  })();
  pbjs.processQueue();
}
