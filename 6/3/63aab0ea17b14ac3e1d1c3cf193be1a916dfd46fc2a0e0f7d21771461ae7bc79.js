(function(r,q,w,t,l){r[q]=r[q]||{};for(r[q].q=r[q].q||[];l<t.length;)w(t[l++],r[q])})(window,"extole",function(r,q){q[r]=q[r]||function(){q.q.push([r,arguments])}},["log"],0);
extole.define||function(){unction q(c,k){extole.log("error","[REQUIRE] "+c,k)}function w(c,k){if(c.length)for(var m=0;m<c.length;m++)k(c[m],m);else for(m in c)Object.prototype.hasOwnProperty.call(c,m)&&k(c[m],m)}function t(c,k){var m=[];w(c,function(v,x){m[x]=k(v,x)});return m}function l(c){return"string"!==typeof c?c:/origin-\d/.test(c)?c.substring(c.indexOf("type=")).replace(/version=\d+:/,""):c}function u(c){var k=c.split("/").slice(-1)[0],m=k.length;w(k.toLowerCase(),
;return c.replace("origin","origin-"+m%8)}function h(c){var k=/^extole-creatives:/.test(c),m=/^extole-media:/.test(c),v=/^core-root:\/\//.test(c),x=/^extole-assets:/.test(c),B=/origin\./.test(c),A=/^http:/.test(c),G=/^https:/.test(c);return k?(c=c.slice(17),h("extole-assets:/core-modules/"+c)):x?(c=c.slice(14),h("extole-media:/assets/"+c)):m?(c=c.slice(13),c=extole.CORE_ROOT+c,h(c)):v?(c=c.slice(12),c=extole.CORE_ROOT+c,h(c)):B?
(c=u(c),c+="?site="+window.location.hostname,h(c)):A?(c=c.slice(5),h(c)):G?(c=c.slice(6),h(c)):c}unction d(){var c="undefined"!==typeof window.opera&&"[object Opera]"===window.opera.toString(),k=document.createElement("script");this.useInteractive=k.attachEvent&&!(k.attachEvent.toString&&0>k.attachEvent.toString().indexOf("[native code"))&&!c}function b(){w(e,function(c){c._fetched?c._defined||c.define():c.fetch()})}function f(c,k,m,v,x){if("$config"!=c){var B=r(c),A=B||new g;B||(B=
l(c),e[B]=A);c&&k&&(A._fetched=!0);A.start=A.start||(new Date).getTime();A.url=A.url||c;A.dependencies=A.dependencies||k;A.config=A.config||v;A.definedCallback=A.definedCallback||m;A.isRequire=A.isRequire||x}}function a(c,k,m,v){c instanceof Array&&(v=m,m=k,k=c,c=void 0);n.addDefine({url:c,dependencies:k,definedCallback:m,config:v})}var e={};g.prototype={getUnresolvedDependencies:function(){var c=[];w(this.dependencies,function(k){"$config"!=k&&(k=r(k),(!k||k&&!k._defined)&&c.push(k))});return c},
getDependencies:function(){var c=this,k=[];w(c.dependencies,function(m){m="$config"==m?c.config||null:r(m).definition||null;k.push(m)});return k},define:function(){function c(x){k.definedCallback=void 0;k.definition=x;k.end=(new Date).getTime();k.timeToDefine=k.end-k.start;k._defining=!1;k._defined=!0;setTimeout(b,1)}var k=this;k.defineStartTime=k.defineStartTime||(new Date).getTime();if(!k._defining&&!k._defined&&k.dependencies)if(k._defining=!0,0<k.getUnresolvedDependencies().length)k._defining=
!1;else{var m=k.getDependencies(),v={isAsync:!1,async:function(){k.isAsync=!0;v.isAsync=k.isAsync;return function(x){c(x)}}};(function(){if(k.definedCallback){var x=k.definedCallback;x=x&&x.apply(v,m);v.isAsync||c(x)}else c(!0)})()}},fetch:function(){var c=this;c._fetching||c._fetched||(c.url?(c._fetching=!0,c.startFetchTime=(new Date).getTime(),n.loadModule(c.url,function(){c._fetching=!1;c.endFetchTime=(new Date).getTime();c.timeToFetch=c.endFetchTime-c.startFetchTime;c._fetched=!0;c.define()})):
q("Tried to fetch a module without a url - dependencies: "+c.dependencies+" definedCallback: "+(c.definedCallback?"exists":"null")+" config: "+c.config))}};d.prototype={defineQueue:[],interactiveScript:null,currentlyAddingScript:null,getInteractiveScript:function(){if(n.interactiveScript&&"interactive"==n.interactiveScript.readyState)return n.interactiveScript;for(var c=document.getElementsByTagName("head")[0].getElementsByTagName("script"),k,m=c.length-1;0<=m;m--){var v=this.getScriptDataUrl(c[m]);
c[m]&&"interactive"==c[m].readyState&&v&&(k=c[m])}return k},scriptUrlAttributeName:"data-extole-require-url",getScriptDataUrl:setScriptDataUrl:attachOnLoad:function(c,k){function m(B){var A=c.readyState;if(v&&"interactive"==A)this.interactiveScript=c;else if("load"===B.type||x.test(A))v?c.detachEvent("onreadystatechange",m):c.removeEventListener("load",m,!1),k(B)}k=k||function(){};
var v=this.useInteractive,x="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;v?c.attachEvent("onreadystatechange",m):c.addEventListener("load",m,!1)},defineTimeout:null,addDefine:function(c){if(c.url)c.url=h(c.url);else{var k=this.currentlyAddingScript||this.getInteractiveScript();this.useInteractive&&k&&(k=this.getScriptDataUrl(k),c.url=k,this.interactiveScript=null)}c.dependencies=t(c.dependencies,h);this.useInteractive&&!c.url&&q("defines should not be missing a url in ie.");
this.defineQueue.push(c);this.defineTimeout&&clearTimeout(this.defineTimeout);var m=this;this.defineTimeout=setTimeout(1)},intakeTimeout:null,intakeDefines:function(){for(var c=[],k;k=this.defineQueue.shift();){var m=[];w(k.dependencies,;k.url&&r(k.url);k.url||c.push("deps "+k.dependencies);w(m,;f(k.url,m,k.definedCallback,k.config,k.isRequire)}this.intakeTimeout&&clearTimeout(this.intakeTimeout);this.intakeTimeout=setTimeout(b,
1)},loadModule:function(c,k){var m=document.createElement("script");m.async=!0;m.crossOrigin="anonymous";this.setScriptDataUrl(m,c);var v=this;this.attachOnLoad(m,function(){clearTimeout(x);if(!v.useInteractive){for(var A,G=v.defineQueue.length-1;0<=G;G--)v.defineQueue[G].url||(A&&q("Multiple anonymous modules loaded in one script - "+c),A=v.defineQueue[G]);A&&(A.url=c)}v.intakeDefines();k&&k(null)});m.src=c;var x=setTimeout(2E3);this.currentlyAddingScript=m;var B=document.getElementsByTagName("head")[0]||document.head;B?B.appendChild(m):extole.log("warn","[REQUIRE] <head> element not found on trying to load "+c,void 0);this.currentlyAddingScript=void 0}};var n=new d;a.getModule=function(c){return r(c)};var p=0;extole.define=a;extole.require=function(c,k){var m=n,v=m.addDefine;p++;v.call(m,{url:"anonymous_"+p,dependencies:c,definedCallback:k,isRequire:!0})};extole.define("extole-require",[],;
setTimeout(function(){var c=!1,k=[];w(e,function(m){m._defined||(c=!0);k.push({defineStartTime:m.defineStartTime,dependencies:m.dependencies,end:m.end,start:m.start,isRequire:m.isRequire,timeToDefine:m.timeToDefine,url:m.url,_defined:m._defined,_defining:m._defining,_fetched:m._fetched})});c&&extole.DUMP_REQUIRE_MODULES_ON_ERROR&&extole.log("error","After 7000ms there are unresolved extole-require modules.  ###"+JSON.stringify(k)+"###")},7E3)}();(function(){})();
extole.define("extole-uri-parser",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js"],function(r,q){var w=/^extole_(?!zone)/,t=/^extole_zone_/;return new function(){function l(g){var d={};g=g||h;r.each(g,function(b,f){w.test(f)&&(f=f.replace(w,""),d[f]=b)});return d}function u(){var g,d,b={};this.withName=function(f){g=f;return this};this.withElementId=this.withData=this.build=function(){var f={};g&&(f.name=g);d&&(f.elementId=d);b&&(f.data=b);return f}}var h=q.deserialize(location.search);this.parseUriZoneDefinition=function(g){var d=new u,b;g=g||h;var f=l(g);r.each(f,function(a,e){d.withData(e,a)});r.each(g,function(a,e){t.test(e)&&(e=e.replace(t,""),"name"===e?(b=!0,d.withName(a)):"element_id"===e?d.withElementId(a):d.withData(e,a))});return b?d.build():null};this.parseGlobalZoneParameters=l}});
(function(r,q,w,t,l){r[q]=r[q]||{};for(r[q].q=r[q].q||[];l<t.length;)w(t[l++],r[q])})(window,"extole",function(r,q){q[r]=q[r]||,["createZone","log"],0);
(function(){var r=[{name:"Branded Program Domain",programDomain:"refer.ballarddesigns.com",sitePatterns:"refer.ballarddesigns.com ballarddesigns.com *.ballarddesigns.com devwcs3.ballarddesigns.com *.devwcs3.ballarddesigns.com stagewcs.ballarddesigns.com *.stagewcs.ballarddesigns.com".split(" "),siteRegexPatterns:"refer\\.ballarddesigns\\.com\\.?$ ballarddesigns\\.com\\.?$ .*\\.ballarddesigns\\.com\\.?$ devwcs3\\.ballarddesigns\\.com\\.?$ .*\\.devwcs3\\.ballarddesigns\\.com\\.?$ stagewcs\\.ballarddesigns\\.com\\.?$ .*\\.stagewcs\\.ballarddesigns\\.com\\.?$".split(" ")}];extole.CORE_ROOT=
"https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90";extole.CORE_CONFIG={backendTargetingEnabled:!0,isCookieConsentEnabled:!1,isJsCreativeRespondsWithHtmlEnabled:!1,isGlobalZoneParametersEnabled:!0,isAccessTokenIncludedInResponseEnabled:!0,cookieConsentPolicy:"COOKIE_CONSENT_OR_SESSION_COOKIE",cookieConsentEnabled:!1};extole.CLIENT_ID="135073247";extole.BUILD_DATE="1706017529723";extole.VERSION="6.0";extole.IS_DEBUG_ENABLED=extole.debug||/[?&]extole_debug=true(&|$)/.test(location.search);
extole.PROGRAM=function(){function q(d,b){d=Error.call(this,d);this.name="ExtoleError";this.message=d.message;this.stack=d.stack;this.code=b}function w(d,b){if(d.length)for(var f=0;f<d.length;f++)b(d[f],f);else for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&b(d[f],f)}function t(d,b){var f=[];w(d,function(a){(a=b(a))&&(f[f.length]=a)});return f}function l(d,b){b=b||[];var f=!1;w(b,;return f}function u(){extole.require(["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js",
"https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ajax.js"],function(d,b){var f=extole.CORE_ROOT;d=f.replace(/(https?:\/\/[a-z-\.]+)(\/.*)/,"$1")+"/_extole_core.gif"+d.serialize({core_root:f,referer:window.location.hostname});b({url:d})})}q.prototype=Error();q.prototype.constructor=q;var h=function(d){var b=window.location.hostname;return t(d,function(f){if(l(b,f.siteRegexPatterns))return f})}(r),g=h[0];if(!g)throw u(),new q("No program domain is configured for hostname: "+
window.location.hostname+" unable to use Extole API","site_configuration_error");1<h.length&&extole.log("warn","Multiple programs matched hostname: "+window.location.hostname+" programs: "+JSON.stringify(h));return g}();extole.require(["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js","create-zone-executor"],function(q,w,t){function l(){function d(f){var a=f[0];"function"===
typeof b[a]?(b[a].apply(null,f[1]),extole.q.history.push({name:f[0],args:f[1],timestamp:Date.now(),stack:Error().stack})):w.warn("Unable to execute method: "+a+", it is not implemented.")}var b={log:function(){var f=Array.prototype.slice.call(arguments),a=f[0];"function"===typeof w[a]&&w[a].apply(null,f.slice(1))},createZone:t.initiateExecution};for(extole.q.history=[];extole.q.length;)d(extole.q.shift());extole.q.push=d}function u(){extole.require(["extole-uri-parser"],function(d){var b=q.deserialize(location.search);
(d=d.parseUriZoneDefinition(b))&&extole.createZone(d)})}function h(){if("function"===typeof window.onerror)var d=window.onerror;window.onerror=function(b,f,a,e,n){if(d)try{d(b,f,a,e,n)}catch(k){}f=f||window.location.href||"no_source_or_location.href";n=n&&n.stack?n.stack:"no_error.stack";var p=[],c=JSON.stringify({MESSAGE:b,SOURCE:f,LINE_NUMBER:a,COLUMN_NUMBER:e,STACK_TRACE:n},function(k,m){if(null!==m&&"object"===typeof m){if(0<=p.indexOf(m))return;p.push(m)}return m});a=extole.PROGRAM.programDomain.split(".").join("\\.");
a=new RegExp("^(http|https):\\/\\/("+a+"|(([A-Za-z0-9-]{1,}\\.){1,}|)(xtlo\\.net|extole(\\.com|\\.io)))(?=(\\/|\\?|$))");((n+b).match(/extole/i)||a.test(f))&&extole.require(["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js"],}}function g(){extole._bootstrapped=!0;h();l();u()}extole.bootstrap=g;extole._bootstrapped||g();if("undefined"!==typeof window.extoleAsyncInit)try{window.extoleAsyncInit()}catch(d){extole.require(["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js"],
}})})();
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ExtoleError.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/type.js"],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/cookie.js",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js"],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/device-type.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/dom.js",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js"],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/event-bus.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/Timer.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/type.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js"],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ajax.js",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/type.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js"],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/program.js",[],;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/token-store.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ExtoleError.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/event-bus.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/cookie.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ajax.js".split(" "),
;
extole.define("https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/metric-registry.js",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/program.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ajax.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/token-store.js"],function(r,q,w){function t(h,g,d){d={metric_type:h,key:g,value:d};h={"Content-Type":"application/x-www-form-urlencoded",
"X-Extole-App":"javascript_sdk"};w.get()&&(h.Authorization="Bearer+"+w.get(),g=[r.getProtocol(),r.getProgramDomain(),"/api/v4/debug/metrics"].join(""),d=q.convertToFormUrlEncoded(h,d),q({url:g,type:"POST",headers:h,data:d,xhrFields:{withCredentials:!0}}))}function l(h){this.increment=function(g){t("COUNTER",h,g?g:1)}}function u(h){this.update=return{histogram:function(h){return new u(h)},counter:});
extole.define("ZoneBrowserContext",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js"],function(r,q){function w(u,h,g){this.getElement=function(){return g};this.getName=function(){return u};this.getData=function(){return h};this.getParameters=function(){return h}}function t(){this.getName=function(){return extole.PROGRAM.name};this.getProgramDomain=function(){return extole.PROGRAM.programDomain};
this.getSitePatterns=function(){return extole.PROGRAM.sitePatterns};this.getSiteRegexPatterns=function(){return extole.PROGRAM.siteRegexPatterns}}function l(){this.backendTargetingEnabled=this.cookieConsentEnabled=return function(u,h,g,d,b){var f=new w(u,h,g),a=new t,e=new l;this.getZone=function(){return f};this.getProgram=function(){return a};this.getCreativeData=function(){var n=r.dotNotationToObject(r.deserialize(location.search)),
p=r.dotNotationToObject(f.getParameters());return q.merge(n.extole_creative,p.creative)};this.getCoreConfig=function(){return e};this.getLocale=this.getContainer=});
extole.define("find-element-by-id",["https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js"],function(r){function q(w,t,l){function u(){if(t())l();else{w();var g=setTimeout;h||(h=10);var d=500<h?500:h*=1.1;g(u,d)}}var h;u()}return function(w,t){var l=(new Date).getTime(),u=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_NOT_FOUND||3E3,h=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_FOUND||2E3,g=!1,d;q(function(){var b=(new Date).getTime()-
l,f=!!d;f&&b>=h?r.debug("EXTOLE_ELEMENT_FOUND_SLOW: Scan duration: "+b+"ms, element id: "+w):!extole.isFindElementBeforeZoneRequest&&!g&&b>=u&&(g=!0,r.debug("EXTOLE_ELEMENT_NOT_YET_FOUND: Scan duration: "+b+"ms, element id: "+w));return f},}});extole.define("ensure-element",["find-element-by-id"],function(r){return function(q,w){q.element?w(q.element):q.element_id?r(q.element_id,w):w(document.body.appendChild(document.createElement("div")))}});
extole.define("pending-zone-service","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/dom.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/type.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/token-store.js ZoneBrowserContext ensure-element".split(" "),
function(r,q,w,t,l,u,h){function g(a,e){e=e||function(){};var n=a.name,p=d(a.data);f(n);this.resolve=function(c,k,m,v,x){l.set(k,m);h(a,function(B){a.element=B;r.clearEventListeners(a.element);B=new u(n,p,a.element,v,x);c(B);e(null,B.getZone())})}}function d(a){a=t.merge({},a);delete a.campaign_id;delete a.extole_campaign_id;return a}var b={},f=function(){var a={};return function(e){q.isUndefined(a[e])&&(a[e]=0);a[e]++;if(5===a[e]){e="duplicate_zone_requests : "+e;var n=t.filter(extole.q.history,
;n=t.map(n,function(p){delete (p.args[0]||{}).element;return p});w.warn(e,n)}}}();return{get:create:function(){var a=Math.floor(1E9*Math.random()),e=0;return function(n,p){e++;var c=a+"."+e;b[c]=new g(n,p);return c}}()}});
extole.define("create-zone","extole-uri-parser https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/uri.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/collection.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/dom.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/program.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ajax.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/ExtoleError.js https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js pending-zone-service".split(" "),function(r,
q,w,t,l,u,h,g,d,b){var f=[];return function(a,e,n){function p(){var C={"Content-Type":"application/x-www-form-urlencoded",Accept:"text/javascript","X-Extole-App":"javascript_sdk"};m=G+"/zones/"+a.name;B&&(C["X-Extole-Jwt"]=B,delete x.jwt);A&&(C.Authorization="Bearer+"+A);H&&(C["X-Extole-Debug"]="true");var I=h.convertToFormUrlEncoded(C,x);h({url:m,type:"POST",headers:C,data:I,complete:function(E,y){var z=/^text\/html(;|$)/;y=y.getResponseHeader("Content-Type");if(/^text\/javascript(;|$)/.test(y))var D=
E;else z.test(y)?(z=document.createElement("div"),z.innerHTML=E,D=t.queryFirst("script",z).innerHTML):c(new g("Received invalid content type: '"+y+"'","invalid_content_type",null,"warn"));if(D)try{(new Function(D))()}catch(F){c(new g("Error in zone script - MESSAGE: "+F.message+" STACK: "+F.stack,"zone_script_error"))}k()},error:function(E,y){try{var z=JSON.parse(this.responseText)}catch(D){z={status:y||null,statusText:E||null}}c(new g(z.message||"Ajax zone request failed",z.code||null,z))},xhrFields:{withCredentials:!0}})}
function c(C){var I=w.merge({originalMessage:C.message,zoneRequestUrl:m||null,zoneDefinition:a},C.data);e(new g("Problem creating zone",C.code||"zone_request_failed",I,C.logLevel||"error"));k()}function k(){"function"===typeof n&&setTimeout(n,500)}e=e||function(){};var m,v=q.deserialize(location.search),x=w.merge({},a.data||a.parameters),B=a.jwt||x.jwt||v.extole_jwt,A=u.get(),G=[l.getProtocol(),l.getProgramDomain()].join(""),H=x.debug&&"false"!==x.debug||extole.IS_DEBUG_ENABLED;extole.isPassRefererInZoneData&&
(x.referer=location.href);extole.CORE_CONFIG.isGlobalZoneParametersEnabled&&(v=r.parseGlobalZoneParameters(v),x=w.merge(x,v));if(extole.createZonePrehandler&&(v=extole.createZonePrehandler(a,x),!1===v)){c(new g("Zone request cancelled","zone_request_cancelled",null,"info"));return}a.element_id&&(x.element_id=a.element_id);(function(){var C=Date.now(),I=C-6E4;f=f.filter(;60<f.length?d.warn("Zone request "+a.name+" exceeded maximum number of zone requests per minute: 60"):f.push(C);
a.data=x;x.zone_id=b.create(a,e);x=w.flatten(x);p()})()}});
extole.define("create-zone-executor",["create-zone","ensure-element","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/logger.js","https://origin.xtlo.net/type=core:clientId=135073247:coreAssetsVersion=90/common/client/token-store.js"],function(r,q,w,t){function l(a,e,n){function p(m){if(m)c(m);else{b=!0;var v=Array.prototype.slice.call(arguments);(e||.apply(null,v);k()}}function c(m){+=1;if(5>n)if(h(m))b=
!1,t.remove(),v();else w[m.logLevel||"error"](m.toString());else w[m.logLevel||"error"](m.toString()),w.warn("ERROR_WOULD_BE_PASSED_TO_CREATE_ZONE_CALLBACK")}var k;d.push(function(m){k=g(m);r(a,p,k);b&&k()})}function u(a,e,n){function p(){var c=!!t.get(),k=!!a.element;!extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled&&!c||extole.isFindElementBeforeZoneRequest&&!k||l(a,e,n)}n=Number(n)||0;t.get()||extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled||f(p);extole.isFindElementBeforeZoneRequest&&
q(a,;p()}function h(a){a=a||{};return a.data&&403===a.data.http_status_code&&("invalid_access_token"===a.code||"expired_access_token"===a.code)}function g(a){var e=!1;return function(){var n=Array.prototype.slice.call(arguments);e||(e=!0,a.apply(null,n))}}var d=new function(){var a=0,e=[],n=this,p=!1;this.push=this.next=function(){function c(){a--;n.next()}if(!p)for(;1>a&&e.length;)e.shift()(c),a++};this.start=
this.stop=,b=!1,f=function(a){function e(){for(;n.length;)n.shift().apply(null,arguments)}var n=[],p=!1;return function(c){n.push(c);p||(p=!0,a()}}(t.fetch);return{initiateExecution:u}});