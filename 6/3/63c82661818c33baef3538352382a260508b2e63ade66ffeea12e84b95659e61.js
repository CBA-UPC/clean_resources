!)({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.activate=n.create=void 0;var a,r=e(2),i=(a=r)&&a.__esModule?a:{default:a};function o(e){i.default.fire(e,"component.activate")}function c(e,t){try{e.outerHTML=t(JSON.parse(e.getAttribute("data-component-data")))}catch(e){window.console.log("Error rendering component: "+e)}}function s(e){var t;return(e=e||{}).contexts?t=function(t,n){c(t,e.contexts[n].template)}:e.template&&(t=function(t){c(t,e.template)}),{init:function(t){e.init&&e.init(t),t.setAttribute("data-init",!0)},render:t,css:e.css,offsets:e.offsets}}n.create=s,n.activate=o,n.default={create:s,activate:o}},{2:2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e){return[].slice.call(e)}var t="DOMContentLoaded";function n(e,t,n,a){if(a=a||{},e.addEventListener(t,n),e.dataEvents){var r=e.dataEvents[t];if(r)if(a.purgeEventData)for(;r.length>0;)n.call(e,{data:r.shift(),target:e});else r.forEach(function(t){n.call(e,{data:t,target:e})})}}function a(e,t,n){e.dataEvents=e.dataEvents||{},e.dataEvents[t]=e.dataEvents[t]||[],e.dataEvents[t].push(n)}return{delegate:function(){return function(t,n,a,r,i){i=i||{},n=n.split(","),void 0===t.length&&(t=[t]),t.forEach||(t=e(t)),t.forEach(function(t){t.addEventListener(a,function(a){var o=[];n.forEach(function(n){o=">"===n.substr(0,1)?function(t,n,a){var r=e(n.querySelectorAll(a.substr(1)));return r=r.filter(function(e){return e.parentNode===n}),t.concat(r)}(o,t,n):function(t,n,a){return t.concat(e(n.querySelectorAll(a)))}(o,t,n)}),function e(t,n,a,r,i,o){if(n!==a){var c=r.indexOf(n);-1!==c&&(i.call(r[c],t),o.preventDefault&&t.preventDefault()),e(t,n.parentNode,a,r,i,o)}else o.stopPropagation&&t.stopPropagation()}(a,a.target,t,o,r,i)})})}}(),domReady:function(e){"complete"===document.readyState||"loaded"===document.readyState?(a(document,t),a(window,"load")):"interactive"===document.readyState&&a(document,t),document.addEventListener?n(document,t,e):n(window,"load",e)},fire:function(e,t,n){var r;n=n||{},document.createEvent?((r=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),r.data=n,e.dispatchEvent(r)):document.createEventObject&&((r=document.createEventObject()).data=n,e.fireEvent("on"+t,r)),a(e,t,n)},listen:n}}();n.default=a},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nodeListToArray=n.getBreakpoint=function(e){e=e||window.innerWidth;var t,n=a.config.getOption("breakpoints"),r=n.length;for(t=0;t<r;t++)if(e<n[t].width)return n[t-1].name;return n[r-1].name},n.debounce=n.ajax=r,n.ajaxPromise=i,n.getCookie=n.setCookie=n.delCookie=n.stub=function(e){var t={ajax:r,ajaxPromise:i};return n.ajax=r=e.stub(),n.ajaxPromise=i=e.stub(),{ajax:r,ajaxPromise:i,restore:};var a=e(4);function r(e,t,n){if(e&&t){n=n||{};try{var a=new XMLHttpRequest;a.open(n.method||"get",e,!n.sync),n.headers&&Object.keys(n.headers).forEach(function(e){a.setRequestHeader(e,n.headers[e])}),a.send(n.data||null),a.onload=catch(e){}}}function i(e,t){return new Promise(function(n,a){if(e){t=t||{};try{var r=new XMLHttpRequest;r.open(t.method||"get",e,!t.sync),t.headers&&Object.keys(t.headers).forEach(,r.send(t.data||null),r.onload=function(){4===r.readyState&&200===r.status?n(r):a(r)}}catch(e){a(e)}}else a("missing required parameters")})}},{4:4}],4:[{5:5,6:6,7:7}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.activate=n.create=void 0;var a,r=e(7),i=(a=r)&&a.__esModule?a:{default:a};unction c(e,t){try{e.outerHTML=t(JSON.parse(e.getAttribute("data-component-data")))}catch(e){window.console.log("Error rendering component: "+e)}}function s(e){var t;return(e=e||{}).contexts?t=e.template&&(t=,{init:render:t,css:e.css,offsets:e.offsets}}n.create=s,n.activate=o,n.default={create:s,activate:o}},{7:7}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=document.documentElement,r={breakpointType:null,overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:a.clientHeight,windowTopOffset:null,windowWidth:a.clientWidth};function i(e){for(var t=e.split("."),n=0,a=r;n<t.length;n++)a=a[t[n]];return a}r.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],n.default={getOption:i,inspect:getBreakpoint:function(e){e=e||window.innerWidth;var t,n=i("breakpoints"),a=n.length;for(t=0;t<a;t++)if(e<n[t].width)return n[t-1].name;return n[a-1].name}}},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){ar t="DOMContentLoaded";function n(e,t,n,a){if(a=a||{},e.addEventListener(t,n),e.dataEvents){var r=e.dataEvents[t];if(r)if(a.purgeEventData)for(;r.length>0;)n.call(e,{data:r.shift(),target:e});else r.forEach(}}eturn{delegate:function(){return function(t,n,a,r,i){i=i||{},n=n.split(","),void 0===t.length&&(t=[t]),t.forEach||(t=e(t)),t.forEach(function(t){t.addEventListener(a,function(a){var o=[];n.forEach(function(n){o=">"===n.substr(0,1)?function(t,n,a){var r=e(n.querySelectorAll(a.substr(1)));return r=r.filter(,t.concat(r)}(o,t,n):function(t,n,a){return t.concat(e(n.querySelectorAll(a)))}(o,t,n)}),a,a.target,t,o,r,i)})})}}(),domReady:fire:listen:n}}();n.default=a},{}],8:[{}],9:[{8:8}],10:[function(e,t,n){var a=e(9);t.exports=function(e){var t,n="",r={},i=e||{};return function(e,i,o){var c="RelatedArticles"===o?"publication-theme-icon publication-theme-border":"";r["image-overlays"]=t=function(e){this&&this.block,this&&this.attributes,"advertorial"===e||"advertising"===e?(n+='<em class="recommendations-sponsored">',n+="Ad Feature</em>"):"sponsored"===e&&(n+='<em class="recommendations-sponsored">',n+="Sponsored</em>")},e&&e.length&&(n=(n=n+"<div"+a.attr("class",a.classes(["header","brand-text","brand-bg","publication-font",c],[!1,!1,!1,!1,!0]),!1,!0)+">")+a.escape(null==(t=i)?"":t)+"</div>",n+='<div class="rec-list">',function(){var i=e;if("number"==typeof i.length)for(var c=0,s=i.length;c<s;c++){var u=(d=i[c]).image;n=n+"<a"+a.attrs(a.merge([{class:"rec-teaser",href:a.escape(d.url),"data-link-tracking":a.escape("ReadNext|"+o+"|Index"+(c+1))},d.tracking]),!0)+">",n=(n+='<span class="numbering publication-font brand-hi">')+a.escape(null==(t=c+1)?"":t)+"</span>",n+='<div class="box">',u.href&&(n=(n+='<figure class="embed-image" data-mod="image">')+"<img"+(a.attr("data-src",u.href,!0,!0)+a.attr("alt",u.altText||"",!0,!0))+"></figure>"),n+='<div class="text-link brand-hi-pseudo rec-title">',r["image-overlays"](d.subType),n=(n+='<span class="title">')+a.escape(null==(t=d.text)?"":t)+"</span>","most-commented"===o&&(n+='<div class="comment-counts">',n=(n+='<div class="category">')+a.escape(null==(t=d.tag)?"":t)+"</div>",n+='<div class="count">',n+='<svg class="msg-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">',n+='<path d="M4.06818 4.91176H15.5227M4.06818 9.02941H15.5227M1 1V12.3235H3.65909V15L7.13636 12.3235H19V1H1Z" stroke="#979797" stroke-linecap="round"></path></svg>',n=(n+="<span>")+a.escape(null==(t=d.commentCount)?"":t)+"</span></div></div>"),n+="</div></div></a>"}else for(var c in s=0,i){var d;s++,u=(d=i[c]).image,n=n+"<a"+a.attrs(a.merge([{class:"rec-teaser",href:a.escape(d.url),"data-link-tracking":a.escape("ReadNext|"+o+"|Index"+(c+1))},d.tracking]),!0)+">",n=(n+='<span class="numbering publication-font brand-hi">')+a.escape(null==(t=c+1)?"":t)+"</span>",n+='<div class="box">',u.href&&(n=(n+='<figure class="embed-image" data-mod="image">')+"<img"+(a.attr("data-src",u.href,!0,!0)+a.attr("alt",u.altText||"",!0,!0))+"></figure>"),n+='<div class="text-link brand-hi-pseudo rec-title">',r["image-overlays"](d.subType),n=(n+='<span class="title">')+a.escape(null==(t=d.text)?"":t)+"</span>","most-commented"===o&&(n+='<div class="comment-counts">',n=(n+='<div class="category">')+a.escape(null==(t=d.tag)?"":t)+"</div>",n+='<div class="count">',n+='<svg class="msg-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">',n+='<path d="M4.06818 4.91176H15.5227M4.06818 9.02941H15.5227M1 1V12.3235H3.65909V15L7.13636 12.3235H19V1H1Z" stroke="#979797" stroke-linecap="round"></path></svg>',n=(n+="<span>")+a.escape(null==(t=d.commentCount)?"":t)+"</span></div></div>"),n+="</div></div></a>"}}.call(this),n+="</div>")}.call(this,"list"in i?i.list:"undefined"!=typeof list?list:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"type"in i?i.type:"undefined"!=typeof type?type:void 0),n}},{9:9}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=c(e(1)),r=c(e(2)),i=c(e(10)),o=e(3));ar s=document.querySelector("article"),u=s&&s.getAttribute("data-url")||location.href,d=function l(){if("mostCommented"!=window.feliz.getPageConfig("rhs-top-widget").type){var e=document.querySelector(".most-commented.whats-hot");e&&(e.style.display="none",e.remove())}else{var t=document.querySelector(".whats-hot.whats-hot-widget");t&&(t.style.display="none",t.remove())}}var f=function(e){var t=e.dataset,n=t.channel,a=t.readNextType,o=t.recTitle,c=t.minrange,s=t.maxrange,l=t.refnode,f=t.refnode2,m=t.conditionNode,v=t.refloc,p=function(e,t){var n=Object.assign({},e);return n.image=d(n.image)||{caption:"",altText:"",href:"#"},n.text=e.title,n.subType=a,n.tag=e.tags[0],n.commentCount=e.additionalInfo?e.additionalInfo.commentCount:null,n.tracking={"data-tmdatatrack-platform":e.platform,"data-tmdatatrack-articleid":e.articleId,"data-tmdatatrack-source":e.source,"data-tmdatatrack":a,"data-tmdatatrack-index":t+1},n},g=function(e){var t=window.feliz.getPageConfig("rhsRecommendations").filter(;if("mostCommented"===window.feliz.getPageConfig("rhs-top-widget").type){if("mostCommentedChannel"===e){var n=window.feliz.getPageConfig("rhsRecommendations").filter(.slice(0,5);h(n,p)}}else if("mostReadChannel"===e){var a=t.slice(0,5);h(a,p)}if("dontMissChannel"===e){var r=t.slice(3,6);h(r,p)}if("mostReadChannelMob"===e){var i=t.slice(0,3);h(i,p)}},h=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t.length){t=t.length>=s?t.slice(c,s):t,t=n?t.map(n):t;var u=(0,i.default)({list:t,type:a,title:o});e.insertAdjacentHTML("afterbegin",u),r.default.fire(e,"component.activate")}},y=function(e,t,n){if(!e||document.querySelector(e))return document.querySelector(t)||n&&document.querySelector(n)}(m,l,f);if(y)if(y.insertAdjacentElement(v||"afterend",e),"feliz"===n)window.feliz?h(window.feliz.getPageConfig("recommendations"),p):document.addEventListener("FELIZ",function(){var e=window.feliz.getPageConfig("recommendations");h(e,p)});else if("mostReadChannel"===n||"dontMissChannel"===n||"mostReadChannelMob"===n||"mostCommentedChannel"===n)window.feliz?g(n):document.addEventListener("FELIZ",;else{var w=window.TMCONFIG.features.readNextRecommendation+"/"+n;(function(e,t,n){return new Promise(function(a){fetch(e+"?url="+u+"&count="+n).then(function(e){e.json().then(function(e){a(e.filter(.map(function(e,n){return{url:e.url,text:e.title,subType:e.subType,image:"RelatedArticles"!==t&&d(e.image)||{},tracking:{"data-tmdatatrack-platform":e.platform,"data-tmdatatrack-articleid":e.articleId,"data-tmdatatrack-source":e.source,"data-tmdatatrack":t,"data-tmdatatrack-index":n+1}}}))})})})})(window.TMCONFIG.features.readNextRecommendationFiltered||w,a,6).then(}};function m(e){var t=function(e){var t=window.TMDATA&&window.TMDATA.access,n=!1;return t&&(n=e.some(function(e){var n=e.name,a=e.value;return t(n)===a})),n}([{name:"article.attributes.sensitiveArticle",value:!0},{name:"article.attributes.isTranslatedArticle",value:!0},{name:"article.attributes.subType",value:"advertising"}]);if(window.TMCONFIG.features.readNextRecommendation&&!t){var n,a=e.getAttribute("data-layout");a&&a.includes(o.getBreakpoint())&&(f(e),n=document.querySelectorAll('[data-embed-group="read-more"] a'),Array.from(n).forEach(function(e){var t=e.getAttribute("data-link-tracking");e.setAttribute("data-link-tracking",t.replace("ReadMore","RelatedArticles"))}),window.feliz?l():document.addEventListener("FELIZ",)}}var v=a.default.create({init:m});r.default.listen(document.body,"injection.complete.gpt",function e(){r.default.fire(window,"component.register",{components:{renderRecommendation:v}}),document.body.removeEventListener("injection.complete.gpt",e)}),n.default={init:m}},{1:1,10:10,2:2,3:3}]},{},[11]);
//# sourceMappingURL=render-recommendations.min.js.map