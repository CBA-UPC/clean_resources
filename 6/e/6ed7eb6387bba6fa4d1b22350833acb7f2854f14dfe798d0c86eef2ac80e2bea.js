(()=>{"use strict";const e=function(e,t,n){var r;r=function(){return function(e,t,n,r,s){var i="https://".concat(e,"/cgi-bin/pixeltrack.pl?action=")+s;t&&(i+="&smartad_id=".concat(t)),n&&(i+="&context_id=".concat(n)),r&&(i+="&cf=".concat(encodeURIComponent(r))),navigator.sendBeacon(i)}(e,t,null,null,n)},Math.random()<.01&&r()};var t,n,r,s,i,o;!function(e){e.NoTcData="tcf_blank",e.NoPermissions="tcf_no_permissions"}(t||(t={}));class a extends Error{constructor(e){super(e),this.name="EncodingError"}}class c extends Error{constructor(e){super(e),this.name="DecodingError"}}class u{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new a("Invalid bitField");const t=e.length%this.LCM;t&&"0".repeat(this.LCM-t);for(let t=0;t<e.length;t+=this.BASIS)this.DICT[parseInt(e.substr(t,this.BASIS),2)];return""}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new c("Invalidly encoded Base64URL string");for(let t=0;t<e.length;t++){const n=this.REVERSE_DICT.get(e[t]).toString(2);"0".repeat(this.BASIS-n.length)}return""}}class l{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);has(e){return l.langSet.has(e)}forEach(e){l.langSet.forEach(e)}get size(){return l.langSet.size}}class p{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardStacks="useNonStandardStacks";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}class d{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}class h extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(n||(n={})),function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(r||(r={})),(o=s||(s={})).CORE="core",o.VENDORS_DISCLOSED="vendorsDisclosed",o.VENDORS_ALLOWED="vendorsAllowed",o.PUBLISHER_TC="publisherTC";class f{static ID_TO_KEY=[s.CORE,s.VENDORS_DISCLOSED,s.VENDORS_ALLOWED,s.PUBLISHER_TC];static KEY_TO_ID={[s.CORE]:0,[s.VENDORS_DISCLOSED]:1,[s.VENDORS_ALLOWED]:2,[s.PUBLISHER_TC]:3}}class v extends d{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t&&Object.keys(e).every((t=>{let n=Number.isInteger(parseInt(t,10));return n&&this.isValidNumber(e[t].id),n&&e[t].name,n})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){return e instanceof Set&&Array.from(e).every(this.isValidNumber),!1}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new h("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(i||(i={}));class m{1={[s.CORE]:[p.version,p.created,p.lastUpdated,p.cmpId,p.cmpVersion,p.consentScreen,p.consentLanguage,p.vendorListVersion,p.purposeConsents,p.vendorConsents]};2={[s.CORE]:[p.version,p.created,p.lastUpdated,p.cmpId,p.cmpVersion,p.consentScreen,p.consentLanguage,p.vendorListVersion,p.policyVersion,p.isServiceSpecific,p.useNonStandardStacks,p.specialFeatureOptins,p.purposeConsents,p.purposeLegitimateInterests,p.purposeOneTreatment,p.publisherCountryCode,p.vendorConsents,p.vendorLegitimateInterests,p.publisherRestrictions],[s.PUBLISHER_TC]:[p.publisherConsents,p.publisherLegitimateInterests,p.numCustomPurposes,p.publisherCustomConsents,p.publisherCustomLegitimateInterests],[s.VENDORS_ALLOWED]:[p.vendorsAllowed],[s.VENDORS_DISCLOSED]:[p.vendorsDisclosed]}}class g{static fieldSequence=new m;static encode(e,t){try{this.fieldSequence[String(e.version)][t]}catch(n){throw new a(`Unable to encode version: ${e.version}, segment: ${t}`)}t!==s.CORE&&IntEncoder_IntEncoder.encode(f.KEY_TO_ID[t],BitLength_BitLength.segmentType);const n=FieldEncoderMap();return undefined.forEach((r=>{const s=e[r],i=n[r];let o=BitLength_BitLength[r];void 0===o&&this.isPublisherCustom(r)&&Number(e[p.numCustomPurposes]);try{i.encode(s,o)}catch(e){throw new a(`Error encoding ${t}->${r}: ${e.message}`)}})),u.encode("")}static decode(e,t,n){const r=u.decode(e);n===s.CORE&&(t.version=IntEncoder_IntEncoder.decode(r.substr(0,BitLength_BitLength[p.version]),BitLength_BitLength[p.version])),n!==s.CORE&&BitLength_BitLength.segmentType;const i=this.fieldSequence[String(t.version)][n],o=FieldEncoderMap();return i.forEach((e=>{const n=o[e];let s=BitLength_BitLength[e];if(void 0===s&&this.isPublisherCustom(e)&&Number(t[p.numCustomPurposes]),0!==s){const i=r.substr(0,s);if(t[e]=n===VendorVectorEncoder?n.decode(i,t.version):n.decode(i,s),Number.isInteger(s));else{if(!Number.isInteger(t[e].bitLength))throw new c(e);t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class y extends Error{constructor(e){super(e),this.name="GVLError"}}class b{static absCall(e,t,n,r){return new Promise(((s,i)=>{const o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(()=>{if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){let e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else i(new Error(`HTTP Status: ${o.status} response type: ${o.responseType}`))})),o.addEventListener("error",(()=>{i(new Error("error"))})),o.addEventListener("abort",(()=>{i(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=r,o.ontimeout=()=>{i(new Error("Timeout "+r+"ms "+e))},o.send(t)}))}static post(e,t,n=!1,r=0){return this.absCall(e,JSON.stringify(t),n,r)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class S extends d{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new l;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new y("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;lang_;isLatest=!1;constructor(e){super();let t=S.baseUrl;if(this.lang_=S.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new y("must specify GVL.baseUrl before loading GVL json");if(e>0){const n=e;S.CACHE.has(n)?(this.populate(S.CACHE.get(n)),this.readyPromise=Promise.resolve()):(t+=S.versionedFilename.replace("[VERSION]",String(n)),this.readyPromise=this.fetchJson(t))}else S.CACHE.has(S.LATEST_CACHE_KEY)?(this.populate(S.CACHE.get(S.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+S.latestFilename))}}static emptyLanguageCache(e){let t=!1;return void 0===e&&S.LANGUAGE_CACHE.size>0?(S.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(S.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(S.CACHE.delete(e),t=!0):void 0===e&&(S.CACHE=new Map,t=!0),t}cacheLanguage(){S.LANGUAGE_CACHE.has(this.lang_)||S.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await b.fetch(e))}catch(e){throw new y(e.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){const t=e.toUpperCase();if(!S.consentLanguages.has(t))throw new y(`unsupported language ${e}`);if(t!==this.lang_)if(this.lang_=t,S.LANGUAGE_CACHE.has(t)){const e=S.LANGUAGE_CACHE.get(t);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const t=S.baseUrl+S.languageFilename.replace("[LANG]",e);try{await this.fetchJson(t),this.cacheLanguage()}catch(e){throw new y("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&S.CACHE.set(S.LATEST_CACHE_KEY,this.getJson()),S.CACHE.has(this.vendorListVersion)||S.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const n=this.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,r){const s=e.charAt(0).toUpperCase()+e.slice(1);let i;const o={};return i="purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+s+"VendorMap"][String(t)],i.forEach((e=>{o[String(e)]=this.vendors[String(e)]})),o}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new S(this.getJson());return this.lang_!==S.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class w extends d{static consentLanguages=S.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardStacks_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=2;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new v;purposeConsents=new v;purposeLegitimateInterests=new v;publisherConsents=new v;publisherLegitimateInterests=new v;publisherCustomConsents=new v;publisherCustomLegitimateInterests=new v;customPurposes;vendorConsents=new v;vendorLegitimateInterests=new v;vendorsDisclosed=new v;vendorsAllowed=new v;publisherRestrictions=new PurposeRestrictionVector;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){S.isInstanceOf(e)||new S(e),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(Number(e),!(Number.isInteger(e)&&e>1))throw new h("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(Number(e),!(Number.isInteger(e)&&e>-1))throw new h("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(Number(e),!(Number.isInteger(e)&&e>-1))throw new h("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new h("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if(Number(e)>>0<0)throw new h("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new h("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const e=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));parseInt(e.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new h("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A={DIANOMI:885},L=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"_can_serve_ads",void 0),_(this,"tcData",void 0),_(this,"_can_cookie",void 0),this.tcData=t,this._can_serve_ads=n,this._can_cookie=r}var t,n;return t=e,(n=[{key:"toString",value:function(){return"permissions<can_serve_ads=".concat(this.can_serve_ads,", can_cookie=").concat(this.can_cookie,">")}},{key:"get_tcData",value:function(){return this.tcData||null}},{key:"gdpr",value:function(){var e;return(null===(e=this.tcData)||void 0===e?void 0:e.gdprApplies)||null}},{key:"gdpr_consent",value:function(){var e;return ve(this.tcData)?null:(null===(e=this.tcData)||void 0===e?void 0:e.tcString)||null}},{key:"can_serve_ads",value:function(){return this._can_serve_ads}},{key:"can_cookie",value:function(){return this._can_cookie}}])&&I(t.prototype,n),e}();function V(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){V(i,r,s,o,a,"next",e)}function a(e){V(i,r,s,o,a,"throw",e)}o(void 0)}))}}function P(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var N,T,D,k,x,R,U,F,M=50;function G(e){return j.apply(this,arguments)}function j(){return(j=O((function(e){var t;return P(this,(function(n){switch(n.label){case 0:return"function"==typeof window.__tcfapi?[2,!0]:[4,B(e)];case 1:return null===(t=n.sent())?[2,!1]:(function(e,t){var n={};e.__tcfapi=function(e,r,s,i){var o="".concat(e,"-").concat(Math.random()),a={__tcfapiCall:{command:e,parameter:i,version:r,callId:o}};n[o]=s,t.postMessage(a,"*")},window.addEventListener("message",(function(e){return function(e,t){var n;try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(t){n=e.data}var r=null==n?void 0:n.__tcfapiReturn;if(r){var s=t[r.callId];"function"==typeof s&&(s(r.returnValue,r.success),r.callId.startsWith("addEventListener")||(t[r.callId]=null))}}(e,n)}),!1)}(window,t),[2,!0])}}))}))).apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return(H=O((function(e){var t,n;return P(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<e?null!==(n=Q(window))?[2,n]:[4,J()]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2,null]}}))}))).apply(this,arguments)}function J(){return W.apply(this,arguments)}function W(){return(W=O((function(){return P(this,(function(e){return[2,new Promise((function(e){setTimeout((function(){e()}),M)}))]}))}))).apply(this,arguments)}function Q(e){try{if(e.frames.__tcfapiLocator)return e}catch(e){}return e===window.top?null:Q(e.parent)}(F=N||(N={})).PING="ping",F.GET_TC_DATA="getTCData",F.GET_IN_APP_TC_DATA="getInAppTCData",F.GET_VENDOR_LIST="getVendorList",F.ADD_EVENT_LISTENER="addEventListener",F.REMOVE_EVENT_LISTENER="removeEventListener",(U=T||(T={})).STUB="stub",U.LOADING="loading",U.LOADED="loaded",U.ERROR="error",(R=D||(D={})).VISIBLE="visible",R.HIDDEN="hidden",R.DISABLED="disabled",(x=k||(k={})).TC_LOADED="tcloaded",x.CMP_UI_SHOWN="cmpuishown",x.USER_ACTION_COMPLETE="useractioncomplete";class ${listenerId;callback;next;param;success=!0;constructor(e,t,n,r){Object.assign(this,{callback:e,listenerId:n,param:t,next:r});try{this.respond()}catch(e){this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class q extends ${respond(){this.throwIfParamInvalid(),this.invokeCallback(new X(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}class K{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach(((e,t)=>{new q(e.callback,e.param,t,e.next)}))}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class z{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new K;static cmpStatus=T.LOADING;static disabled=!1;static displayStatus=D.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=T.LOADING,this.disabled=!1,this.displayStatus=D.HIDDEN,this.eventQueue.clear()}}class Y{cmpId=z.cmpId;cmpVersion=z.cmpVersion;gdprApplies=z.gdprApplies;tcfPolicyVersion=z.tcfPolicyVersion}class X extends Y{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardStacks;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=z.eventStatus,this.cmpStatus=z.cmpStatus,this.listenerId=t,z.gdprApplies){const t=z.tcModel;this.tcString=z.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardStacks=t.useNonStandardStacks,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();for(let r=1;r<=n;r++){const n=r.toString();e.getRestrictions(r).forEach((e=>{const r=e.purposeId.toString();t[r]||(t[r]={}),t[r][n]=e.restrictionType}))}}return t}createVectorField(e,t){return t?t.reduce(((t,n)=>(t[String(n)]=e.has(Number(n)),t)),{}):[...e].reduce(((e,t)=>(e[t[0].toString(10)]=t[1],e)),{})}}class Z extends X{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce(((e,t)=>e+(t[1]?"1":"0")),"")}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();e.getRestrictions().forEach((e=>{t[e.purposeId.toString()]="_".repeat(n)}));for(let r=0;r<n;r++){const n=r+1;e.getRestrictions(n).forEach((e=>{const n=e.restrictionType.toString(),s=e.purposeId.toString(),i=t[s].substr(0,r),o=t[s].substr(r+1);t[s]=i+n+o}))}}return t}}class ee extends Y{cmpLoaded=!0;cmpStatus=z.cmpStatus;displayStatus=z.displayStatus;apiVersion=String(z.apiVersion);gvlVersion;constructor(){super(),z.tcModel&&z.tcModel.vendorListVersion&&(this.gvlVersion=+z.tcModel.vendorListVersion)}}class te extends ${respond(){this.invokeCallback(new ee)}}class ne extends q{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Z(this.param))}}class re extends ${respond(){const e=z.tcModel,t=e.vendorListVersion;let n;void 0===this.param&&(this.param=t),n=this.param===t&&e.gvl?e.gvl:new S(this.param),n.readyPromise.then((()=>{this.invokeCallback(n.getJson())}))}}class se extends q{respond(){this.listenerId=z.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class ie extends ${respond(){this.invokeCallback(z.eventQueue.remove(this.param))}}class oe{static[N.PING]=te;static[N.GET_TC_DATA]=q;static[N.GET_IN_APP_TC_DATA]=ne;static[N.GET_VENDOR_LIST]=re;static[N.ADD_EVENT_LISTENER]=se;static[N.REMOVE_EVENT_LISTENER]=ie}class ae{static set_=new Set([0,2,void 0,null]);static has(e){return"string"==typeof e&&Number(e),this.set_.has(e)}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){ue(i,r,s,o,a,"next",e)}function a(e){ue(i,r,s,o,a,"throw",e)}o(void 0)}))}}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var he=20,fe=10;function ve(e){return void 0!==(null==e?void 0:e.apiVersion)&&void 0!==(null==e?void 0:e.displayStatus)}function me(e,t){return ge.apply(this,arguments)}function ge(){return(ge=le((function(e,t){var r,s,i,o;return de(this,(function(a){switch(a.label){case 0:return[4,G(he)];case 1:return a.sent()?[4,ye()]:[2,new L(null,e,t)];case 2:return a.sent()?[4,Se()]:[2,new L(null,e,t)];case 3:return null===(r=a.sent())?[2,new L(null,e,t)]:!r.gdprApplies||ve(r)?[2,new L(r,e,t)]:(s=pe(function(e){if(!e.gdprApplies)throw new Error("decideTCF shouldn't be called if gdprApplies=false");var t={};"string"!=typeof e.purpose.consents&&(t=e.purpose.consents);var r,s={};"string"!=typeof e.purpose.legitimateInterests&&(s=e.purpose.legitimateInterests);var i,o=null===(r=e.vendor.legitimateInterests[A.DIANOMI])||void 0===r||r,a=null===(i=e.vendor.consents[A.DIANOMI])||void 0===i||i;Object.entries(e.publisher.restrictions).forEach((function(e){var r=C(e,2),i=r[0],o=r[1];Object.entries(o).forEach((function(e){var r=C(e,2),o=r[0],a=r[1];if(parseInt(o)===A.DIANOMI){var c=a;c===n.NOT_ALLOWED?(s[i]=!1,t[i]=!1):c===n.REQUIRE_LI?t[i]=!1:c===n.REQUIRE_CONSENT&&(s[i]=!1)}}))}));var c=Boolean(s[2]&&s[7]&&s[10]&&o||t[2]&&t[7]&&t[10]&&a);return[c,Boolean(c&&t[1]&&t[2]&&t[7]&&t[10]&&a)]}(r),2),i=s[0],o=s[1],[2,new L(r,i,o)])}}))}))).apply(this,arguments)}function ye(){return be.apply(this,arguments)}function be(){return be=le((function(){return de(this,(function(e){return[2,new Promise((function(e){var t=0,n=setInterval(le((function(){var r,s;return de(this,(function(i){switch(i.label){case 0:return t++>10&&(clearInterval(n),e(!1)),[4,_e("ping")];case 1:return r=pe.apply(void 0,[i.sent(),1]),(s=r[0].cmpLoaded)&&(clearInterval(n),e(s)),[2]}}))})),500)}))]}))})),be.apply(this,arguments)}function Se(){return we.apply(this,arguments)}function we(){return(we=le((function(){var e,t,n;return de(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<he?[4,_e("addEventListener")]:[3,9];case 2:if(t=pe.apply(void 0,[r.sent(),2]),n=t[0],!t[1])return[3,8];switch(n.eventStatus){case k.TC_LOADED:return[3,3];case k.USER_ACTION_COMPLETE:return[3,4];case k.CMP_UI_SHOWN:return[3,5]}return[3,7];case 3:case 4:return[2,n];case 5:return[4,Ee()];case 6:return[2,pe.apply(void 0,[r.sent(),1])[0]];case 7:if("loaded"===n.cmpStatus)return[2,n];throw new Error("Unknown Event Status: "+n.eventStatus);case 8:return e++,[3,1];case 9:return[2,null]}}))}))).apply(this,arguments)}function Ee(){return Ie.apply(this,arguments)}function Ie(){return Ie=le((function(){return de(this,(function(e){return[2,new Promise((function(e){var t=function(t,n){t.eventStatus===k.USER_ACTION_COMPLETE&&e([t,n])};function n(){return n=le((function(){return de(this,(function(e){switch(e.label){case 0:return[4,_e("addEventListener",t)];case 1:return e.sent(),[2]}}))})),n.apply(this,arguments)}!function(){n.apply(this,arguments)}(),setTimeout(le((function(){var t;return de(this,(function(n){switch(n.label){case 0:return[4,_e("ping")];case 1:return t=n.sent(),_e("removeEventListener"),e(t),[2]}}))})),1e3*fe)}))]}))})),Ie.apply(this,arguments)}function _e(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=le((function(e,t){return de(this,(function(n){return[2,new Promise((function(n,r){var s=null!=t?t:function(e,t){n([e,t])};void 0!==window.__tcfapi?window.__tcfapi(e,2,s):r("__tcfapi is undefined")}))]}))}))).apply(this,arguments)}function Ae(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function Le(e,t){return Ve.apply(this,arguments)}function Ve(){var e;return e=function(e,t){var n,r,s,i,o,a;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(c){switch(c.label){case 0:return n="https://data.dianomi.com/frontend/usync?redirect=https%3A%2F%2Fdata.dianomi.com%2Ffrontend%2Fping%3Fuid%3D%24UID",null!==e&&!0===e&&(n+="&gdpr=1&gdpr_consent="+t),[4,fetch(n)];case 1:return(r=c.sent()).redirected?(s=r.url,i=new URL(s),o=new URLSearchParams(i.search),null===(a=o.get("uid"))?[2,void 0]:[2,a]):[2,void 0]}}))},Ve=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Ae(i,r,s,o,a,"next",e)}function a(e){Ae(i,r,s,o,a,"throw",e)}o(void 0)}))},Ve.apply(this,arguments)}function Oe(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}var Pe=15552e3,Ne="DIANOMI-CLICK-COOKIE",Te="session",De="dnt";function ke(){var e;return e=function(e,t){var n,r;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:return Be()?(Fe(),document.cookie=Ne+"=;Expires=Mon, 1 Jan 1970 00:00:00 GMT",[2]):(function(){var e=localStorage.getItem(Ne);if(null!==e){var t=JSON.parse(e).timestamp;if(null!==t){var n=new Date(Date.parse(t));((new Date).getTime()-n.getTime())/1e3>Pe&&Fe()}}}(),n=Me(),void 0!==(r=Ge(n))?[3,2]:[4,Le(e,t)]);case 1:r=s.sent(),s.label=2;case 2:return void 0===r||(function(e){var t="".concat(Ne,"=").concat(e,"; max-age=").concat(Pe);document.cookie=t}(r),void 0===n.localStorageId&&Re(r)),[2]}}))},ke=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Oe(i,r,s,o,a,"next",e)}function a(e){Oe(i,r,s,o,a,"throw",e)}o(void 0)}))},ke.apply(this,arguments)}function xe(){if(!Be()){var e=Ge(Me());if(void 0!==e)return{source:"dianomi.com",atype:1,stype:"ppuid",uids:[{id:e,atype:1,ext:{stype:"ppuid"}}]}}}function Re(e){var t={id:e,timestamp:(new Date).toISOString()};localStorage.setItem(Ne,JSON.stringify(t))}function Ue(){var e=localStorage.getItem(Ne);if(null!==e){var t=null;try{t=JSON.parse(e)}catch(e){return void console.error("Error parsing localStorage data:",e)}if(null!==t)return Re(t.id),t.id}}function Fe(){localStorage.removeItem(Ne)}function Me(){return{localStorageId:Ue(),firstPartyId:je(Ne),thirdPartyId:je(Te)}}function Ge(e){var t=!0,n=!1,r=void 0;try{for(var s,i=Object.values(e)[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;if(void 0!==o)return o}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function je(e){var t;return null===(t=document.cookie.split("; ").find((function(t){return t.startsWith(e+"=")})))||void 0===t?void 0:t.split("=")[1]}function Be(){var e=je(De);return void 0!==e&&""!==e}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qe,$e=1293,qe=1;function Ke(e){return ze.apply(this,arguments)}function ze(){var e;return e=function(e){var t,r;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:return e.dnt?[2]:[4,(i=e.dianomiContextHost,new Promise((function(e,t){try{if(window.pbjs)return void e(!0);var n=document.createElement("script");n.src="https://".concat(i,"/js/contextfeed/prebid.js"),document.body.appendChild(n),n.onload=function(){e(!0)},n.onerror=function(){t()}}catch(e){t()}})))];case 1:return s.sent()&&pbjs?(t=[],e.identity.id5&&t.push({name:"id5Id",params:{partner:$e},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.identity.sharedId&&t.push({name:"sharedId",storage:{type:"cookie",name:"sharedId",expires:90,refreshInSeconds:28800}}),e.identity.dmp&&function(e,t){if(null===e)return!t;if(r=e,null!=(s=ee)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](r):r instanceof s)return!1;var r,s;if(!e.gdprApplies)return!0;if(!e.vendor.consents[A.DIANOMI]||!e.purpose.consents[qe])return!1;var i=!1;return Object.entries(e.publisher.restrictions).forEach((function(e){var t=We(e,2),r=t[0],s=t[1];Object.entries(s).forEach((function(e){var t=We(e,2),s=t[0],o=t[1];if(parseInt(s)===A.DIANOMI){var a=o;a===n.NOT_ALLOWED?r===qe.toString()&&(i=!0):a===n.REQUIRE_LI&&r===qe.toString()&&(i=!0)}}))})),!i}(e.tcfPermissions.get_tcData(),e.inGDPR)&&(function(e,t){ke.apply(this,arguments)}(e.tcfPermissions.gdpr(),e.tcfPermissions.gdpr_consent()),t.push({name:"pubProvidedId",params:{eidsFunction:xe}})),r={consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:e.inGDPR}},debug:!0,userSync:{userIds:t,auctionDelay:50}},pbjs.setConfig(r),[4,pbjs.getUserIdsAsync()]):[2];case 2:return s.sent(),[2,pbjs.getUserIdsAsEids()]}var i}))},ze=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Je(i,r,s,o,a,"next",e)}function a(e){Je(i,r,s,o,a,"throw",e)}o(void 0)}))},ze.apply(this,arguments)}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Xe(i,r,s,o,a,"next",e)}function a(e){Xe(i,r,s,o,a,"throw",e)}o(void 0)}))}}function et(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Qe={id:"data-dianomi-context-id",done:"data-dianomi-context-done",host:{attribute:"data-dianomi-context-hostname",default:"www.dianomi.com",allowedValues:["dev.dianomi.com"]},endpoint:{attribute:"data-dianomi-context-endpoint",default:"context.pl",allowedValues:["bidcore-context.pl"]},affiliate:"data-dianomi-context-affiliate",cfTest:"data-dianomi-cf-test",clickMacro:"data-dianomi-click-macro",consent:"data-dianomi-consent",darkmodeOverride:"data-dianomi-darkmode-override",pageDomain:"data-dianomi-page-domain",referrer:"data-referrer-url"},Object.keys(Qe).map((function(e){var t=Qe[e];return"string"==typeof t?t:t.attribute}));var tt,nt=(tt=Ze((function(n){var r,s,i,o,a,c,u,l,p,d,h,f,v,m,g,y,b,S,w,E,I;return et(this,(function(_){switch(_.label){case 0:if(r=document.querySelectorAll(".dianomi-smartad"),!n.can_serve_ads())return[3,14];s=!0,i=!1,o=void 0,_.label=1;case 1:_.trys.push([1,12,13,14]),a=r[Symbol.iterator](),_.label=2;case 2:if(s=(c=a.next()).done)return[3,11];if(u=c.value,l=u.getAttribute("data-dianomi-hostname")||"",p=u.getAttribute("data-dianomi-path")||"",d=u.getAttribute("data-identity"),null===n&&(h=u.getAttribute("data-dianomi-smartad-id"),e(l,h,t.NoTcData)),f="https://".concat(l).concat(p,"&canServeAds=").concat(n.can_serve_ads(),"&canCookie=").concat(n.can_cookie()),n.gdpr()&&(f+="&gdpr=".concat(n.gdpr())),f+="&gdpr_consent=".concat(n.gdpr_consent()||""),f+="&referrerUrl=".concat(encodeURIComponent((A=null===(C=document.querySelectorAll(".dianomi_context")[0])||void 0===C?void 0:C.getAttribute("data-referrer-url"),L=window.location!=window.parent.location?document.referrer||window.parent.location.href:document.location.href,A||L))),"1"!==d)return[3,9];_.label=3;case 3:return _.trys.push([3,7,,8]),v=u.getAttribute("data-dianomi-in-gdpr"),m=u.getAttribute("data-identity-id5"),g=u.getAttribute("data-identity-sharedid"),y=u.getAttribute("data-identity-dmp"),b=u.getAttribute("data-dianomi-dnt"),[4,Ke({identity:{id5:"1"===m?1:0,sharedId:"1"===g?1:0,dmp:"1"===y?1:0},dianomiContextHost:l,tcfPermissions:n,inGDPR:"1"===v,dnt:"1"===b})];case 4:return S=_.sent(),(w=new FormData).append("postCall","true"),w.append("eids",JSON.stringify(S)),[4,fetch(f,{credentials:"include",method:"POST",body:w})];case 5:return[4,_.sent().text()];case 6:return E=_.sent(),document.open().write(E),document.close(),[3,8];case 7:return _.sent(),window.location.replace(f),[3,8];case 8:return[3,10];case 9:window.location.replace(f),_.label=10;case 10:return s=!0,[3,2];case 11:return[3,14];case 12:return I=_.sent(),i=!0,o=I,[3,14];case 13:try{s||null==a.return||a.return()}finally{if(i)throw o}return[7];case 14:return[2]}var C,A,L}))})),function(e){return tt.apply(this,arguments)});Ze((function(){var e,t,n;return et(this,(function(r){switch(r.label){case 0:return s=function(e){var t=document.querySelectorAll(".dianomi-smartad"),n=!1,r=!1,s=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(s=(a=c.next()).done);s=!0){var u=a.value;n="1"===u.getAttribute("data-dianomi-can-serve-ads"),r="1"===u.getAttribute("data-dianomi-can-cookie")}}catch(e){i=!0,o=e}finally{try{s||null==c.return||c.return()}finally{if(i)throw o}}return[n,r]}(),i=2,e=function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(s,i)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(s,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],n=e[1],[4,me(t,n)];case 1:return nt.apply(void 0,[r.sent()]),[2]}var s,i}))}))()})();