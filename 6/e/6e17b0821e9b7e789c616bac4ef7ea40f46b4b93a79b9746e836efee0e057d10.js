(function(){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window._b64dec=function(string){string=String(string).replace(/[\t\n\f\r ]+/g,"");string+="==".slice(2-(string.length&3));var bitmap,result="",r1,r2,i=0;for(;i<string.length;){bitmap=b64.indexOf(string.charAt(i++))<<18|b64.indexOf(string.charAt(i++))<<12|(r1=b64.indexOf(string.charAt(i++)))<<6|(r2=b64.indexOf(string.charAt(i++)));result+=r1===64?String.fromCharCode(bitmap>>16&255):r2===64?String.fromCharCode(bitmap>>16&255,bitmap>>8&255):String.fromCharCode(bitmap>>16&255,bitmap>>8&255,bitmap&255)}return result}})();(function(){ction addCacheBuster(url,param){param=param||"t";if(url.indexOf("?")===-1){url+="?"}else{url+="&"}url+=param+"="+ +new Date;return url}function doRedirect(url){if(url===""||window.location.href===url){return}window.location.href=url}function createCORSRequest(url){var xhr=new XMLHttpRequest;if("withCredentials"in xhr){xhr.open("GET",url,true)}else if(typeof XDomainRequest!=="undefined"){xhr=new XDomainRequest;xhr.open("GET",url)}else{xhr=null}return xhr}function attemptCorsRequest(url){let xhr=createCORSRequest(url);if(!xhr){return false}xhr.withCredentials=true;xhr.send(null)}function insertScript(src,data){var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.setAttribute("type","text/javascript");if(typeof src!=="undefined"&&src.length){script.src=src}if(typeof data!=="undefined"&&data.length){try{script.appendChild(document.createTextNode(data))}catch(e){script.text=data}}head.appendChild(script)}function evalScripts(text){var match,rx=/<script(?:.*?\ssrc=(?:"|\')([^"\']*)(?:"|\')|)[^>]*>([\s\S]*?)<\/script>/gim;while(match=rx.exec(text)){insertScript(match[1],match[2])}document.body.innerHTML+=text.replace(rx,"")}unction setSettings(obj,el){switch(el[0]){case"bid":obj.isValid=true;obj.isBidRequest=true;break;case"init":if(el.length===2){obj.id=parseInt(el[1])||0;obj.isValid=!!obj.id}break;case"cid":if(el.length===2){obj.cid=parseInt(el[1])||0}break;case"aid":if(el.length===2){obj.aid=parseInt(el[1])||0}break;case"track":if(el.length===2&&isString(el[1])){if(el[1]==="Conversion"){obj.conversion=true}else{obj.customConversion=el[1]}}break;case"event":if(el.length===3&&isString(el[1])&&isString(el[2])){obj.customEvent.key=el[1];obj.customEvent.value=el[2]}break;case"redirect":if(isString(el[1])){obj.redirectUrl=el[1]}break;case"msisdn":obj.dmp.msisdn=parseInt(el[1])||0;break;case"consent":obj.consent=el[1];break;case"consentPixels":obj.consentedPixels=el[1];break;case"uid":obj.dmp.uid=el[1];break;default:break}}function sendDmpData(dmpId,endpointPrefix){let msisdn=eskimi.dmp.msisdn;eskimi.dmp.msisdn=0;if(msisdn<=0){return false}attemptCorsRequest(addCacheBuster(endpointPrefix+"dmp/patch?msisdn="+msisdn+"&dmpId="+dmpId))}function callEvent(eskimi){if(eskimi.isValid){var url=addCacheBuster(_b64dec("aHR0cHM6Ly9kc3AtYXAuZXNraW1pLmNvbS92Mi9ndHI=")+eskimi.par());var xhr=createCORSRequest(url);if(!xhr){doRedirect(eskimi.redirectUrl);return false}xhr.withCredentials=true;xhr.onreadystatechange=function(ev){if(xhr.readyState===4&&xhr.status===200){var response=JSON.parse(xhr.responseText);if(isNotEmptyObject(response)){if(isString(response.pixelsPref)&&response.pixelsPref!==""){sendDmpData(response.dmpId,response.pixelsPref)}if(typeof response.pixels!=="undefined"&&isArray(response.pixels)&&response.pixels.length){for(var i=0;i<response.pixels.length;i++){(new Image).src=response.pixels[i]}}if(typeof response.scripts!=="undefined"&&isArray(response.scripts)&&response.scripts.length){for(var j=0;j<response.scripts.length;j++){evalScripts(response.scripts[j])}}}}};xhr.send(null);setTimeout(3e3)}else{doRedirect(eskimi.redirectUrl)}}function callSessionEndpoint(){if(typeof eskimi!=="undefined"&&eskimi.id!==0){attemptCorsRequest(addCacheBuster(_b64dec("aHR0cHM6Ly9kc3AtdHJrLmVza2ltaS5jb20vdHJhY2tpbmcvY3NzZXNzaW9uP3RzdCZpZD0=")+eskimi.id+eskimi.url()))}}if(typeof ___esk!=="undefined"&&typeof ___esk.queue!=="undefined"){var eskimi={id:0,aid:0,cid:0,np:false,isBidRequest:false,isValid:false,conversion:false,consent:"",consentedPixels:"",customConversion:"",customEvent:{key:"",value:""},customData:{key:"",data:{}},redirectUrl:"",dmp:{uid:"",msisdn:0},par:function(){var params=[];if(this.isValid&&!this.isBidRequest){params.push("id="+this.id);if(this.conversion){params.push("conv=1");this.conversion=false}if(this.aid){params.push("aid="+this.aid)}if(this.cid){params.push("cid="+this.cid)}if(this.consentedPixels){params.push("cp="+this.consentedPixels)}if(this.customConversion){params.push("track="+encodeURIComponent(this.customConversion));this.customConversion=""}if(this.customEvent.key&&this.customEvent.value!==""){params.push("event="+encodeURIComponent(this.customEvent.key+":"+this.customEvent.value));this.customEvent={key:"",value:""}}if(this.customData.key&&isNotEmptyObject(this.customData.data)){params.push("data="+encodeURIComponent(this.customData.key+":"+JSON.stringify(this.customEvent.data)));this.customData={key:"",data:{}}}if(this.np){params.push("np=1");this.np=false}else{var ex=parseInt(getParameterByName("ex"));if(ex){params.push("ex="+ex)}}params.push("url="+encodeURIComponent(window.location.href))}if(this.dmp.uid.length){params.push("uid="+encodeURIComponent(this.dmp.uid))}if(this.consent){if(typeof window.__tcfapi==="function"){window.__tcfapi("getTCData",2,function(tcData,success){if(success){params.push("consent="+encodeURIComponent(tcData.tcString))}})}else{params.push("consent="+encodeURIComponent(this.consent))}}return"?"+params.join("&")},url:;___esk.queue.push=function(){setSettings(eskimi,arguments[0]);eskimi.np=true;callEvent(eskimi)};while(___esk.queue.length){setSettings(eskimi,___esk.queue.shift())}callSessionEndpoint();callEvent(eskimi)}})();