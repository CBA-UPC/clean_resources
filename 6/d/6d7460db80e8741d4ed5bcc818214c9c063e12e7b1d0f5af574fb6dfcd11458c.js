"use strict";(()=>{var Lt=Object.create;var $e=Object.defineProperty;var kt=Object.getOwnPropertyDescriptor;var Wt=Object.getOwnPropertyNames;var Ut=Object.getPrototypeOf,Ht=Object.prototype.hasOwnProperty;var Yt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jt=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Wt(t))!Ht.call(e,r)&&r!==n&&$e(e,r,{get:()=>t[r],enumerable:!(i=kt(t,r))||i.enumerable});return e};var zt=(e,t,n)=>(n=e!=null?Lt(Ut(e)):{},jt(t||!e||!e.__esModule?$e(n,"default",{value:e,enumerable:!0}):n,e));var Ve=Yt((fi,Ge)=>{"use strict";var on=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function r(o,a){if(!i[o]){i[o]={};for(var c=0;c<o.length;c++)i[o][o.charAt(c)]=c}return i[o][a]}var s={compressToBase64:function(o){if(o==null)return"";var a=s._compress(o,6,function(c){return t.charAt(c)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(o){return o==null?"":o==""?null:s._decompress(o.length,32,function(a){return r(t,o.charAt(a))})},compressToUTF16:function(o){return o==null?"":s._compress(o,15,function(a){return e(a+32)})+" "},decompressFromUTF16:function(o){return o==null?"":o==""?null:s._decompress(o.length,16384,function(a){return o.charCodeAt(a)-32})},compressToUint8Array:function(o){for(var a=s.compress(o),c=new Uint8Array(a.length*2),d=0,l=a.length;d<l;d++){var f=a.charCodeAt(d);c[d*2]=f>>>8,c[d*2+1]=f%256}return c},decompressFromUint8Array:function(o){if(o==null)return s.decompress(o);for(var a=new Array(o.length/2),c=0,d=a.length;c<d;c++)a[c]=o[c*2]*256+o[c*2+1];var l=[];return a.forEach(function(f){l.push(e(f))}),s.decompress(l.join(""))},compressToEncodedURIComponent:function(o){return o==null?"":s._compress(o,6,function(a){return n.charAt(a)})},decompressFromEncodedURIComponent:function(o){return o==null?"":o==""?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(a){return r(n,o.charAt(a))}))},compress:function(o){return s._compress(o,16,function(a){return e(a)})},_compress:function(o,a,c){if(o==null)return"";var d,l,f={},_={},w="",b="",p="",E=2,C=3,h=2,v=[],m=0,g=0,S;for(S=0;S<o.length;S+=1)if(w=o.charAt(S),Object.prototype.hasOwnProperty.call(f,w)||(f[w]=C++,_[w]=!0),b=p+w,Object.prototype.hasOwnProperty.call(f,b))p=b;else{if(Object.prototype.hasOwnProperty.call(_,p)){if(p.charCodeAt(0)<256){for(d=0;d<h;d++)m=m<<1,g==a-1?(g=0,v.push(c(m)),m=0):g++;for(l=p.charCodeAt(0),d=0;d<8;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1}else{for(l=1,d=0;d<h;d++)m=m<<1|l,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=0;for(l=p.charCodeAt(0),d=0;d<16;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1}E--,E==0&&(E=Math.pow(2,h),h++),delete _[p]}else for(l=f[p],d=0;d<h;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1;E--,E==0&&(E=Math.pow(2,h),h++),f[b]=C++,p=String(w)}if(p!==""){if(Object.prototype.hasOwnProperty.call(_,p)){if(p.charCodeAt(0)<256){for(d=0;d<h;d++)m=m<<1,g==a-1?(g=0,v.push(c(m)),m=0):g++;for(l=p.charCodeAt(0),d=0;d<8;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1}else{for(l=1,d=0;d<h;d++)m=m<<1|l,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=0;for(l=p.charCodeAt(0),d=0;d<16;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1}E--,E==0&&(E=Math.pow(2,h),h++),delete _[p]}else for(l=f[p],d=0;d<h;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1;E--,E==0&&(E=Math.pow(2,h),h++)}for(l=2,d=0;d<h;d++)m=m<<1|l&1,g==a-1?(g=0,v.push(c(m)),m=0):g++,l=l>>1;for(;;)if(m=m<<1,g==a-1){v.push(c(m));break}else g++;return v.join("")},decompress:function(o){return o==null?"":o==""?null:s._decompress(o.length,32768,function(a){return o.charCodeAt(a)})},_decompress:function(o,a,c){var d=[],l,f=4,_=4,w=3,b="",p=[],E,C,h,v,m,g,S,y={val:c(0),position:a,index:1};for(E=0;E<3;E+=1)d[E]=E;for(h=0,m=Math.pow(2,2),g=1;g!=m;)v=y.val&y.position,y.position>>=1,y.position==0&&(y.position=a,y.val=c(y.index++)),h|=(v>0?1:0)*g,g<<=1;switch(l=h){case 0:for(h=0,m=Math.pow(2,8),g=1;g!=m;)v=y.val&y.position,y.position>>=1,y.position==0&&(y.position=a,y.val=c(y.index++)),h|=(v>0?1:0)*g,g<<=1;S=e(h);break;case 1:for(h=0,m=Math.pow(2,16),g=1;g!=m;)v=y.val&y.position,y.position>>=1,y.position==0&&(y.position=a,y.val=c(y.index++)),h|=(v>0?1:0)*g,g<<=1;S=e(h);break;case 2:return""}for(d[3]=S,C=S,p.push(S);;){if(y.index>o)return"";for(h=0,m=Math.pow(2,w),g=1;g!=m;)v=y.val&y.position,y.position>>=1,y.position==0&&(y.position=a,y.val=c(y.index++)),h|=(v>0?1:0)*g,g<<=1;switch(S=h){case 0:for(h=0,m=Math.pow(2,8),g=1;g!=m;)v=y.val&y.position,y.position>>=1,y.position==0&&(y.position=a,y.val=c(y.index++)),h|=(v>0?1:0)*g,g<<=1;d[_++]=e(h),S=_-1,f--;break;case 1:for(h=0,m=Math.pow(2,16),g=1;g!=m;)v=y.val&y.position,y.position>>=1,y.position==0&&(y.position=a,y.val=c(y.index++)),h|=(v>0?1:0)*g,g<<=1;d[_++]=e(h),S=_-1,f--;break;case 2:return p.join("")}if(f==0&&(f=Math.pow(2,w),w++),d[S])b=d[S];else if(S===_)b=C+C.charAt(0);else return null;p.push(b),d[_++]=C+b.charAt(0),f--,C=b,f==0&&(f=Math.pow(2,w),w++)}}};return s}();Ge.exports=on});var F,W=!1,Gt=10;(function(){let e=0,t=null;F=window;try{for(;e<Gt&&!(!F.parent||F.parent===F||!F.parent.document||!F.parent.window);){t=F.parent;let n=null,i=t.document.getElementsByTagName("iframe");for(let r=0;r<i.length;r++)i[r].contentWindow===F&&(n=i[r]);if(W=!!n,i.length===0||!W)break;F=F.parent.window,e++}}catch{}})();var Ie=window,Re=window.location&&window.location.protocol==="https:"?"https:":"http:",A={rootWindow(){return F},getScrollBaseEl(){return Ie},setScrollBaseEl(e){Ie=e},getParentFrame(e){try{let t=e.ownerDocument,n=t.defaultView||t.parentWindow,i=n.parent&&n.parent.document&&n.parent.document.getElementsByTagName("iframe");for(let r=0;r<i.length;r++)if(i[r].contentWindow===n)return i[r]}catch{}return null},api_server_domain(){return window.TEST_API_SERVER_DOMAIN||"api.dable.io"},sp_api_server_domain(){return window.TEST_SP_API_SERVER_DOMAIN||"sp-api.dable.io"},banner_server_domain(){return window.TEST_BANNER_SERVER_DOMAIN||"ax-bn.dable.io"},reco_logging_server_domain(){return window.TEST_RECO_LOGGING_SERVER_DOMAIN||"r-log.dable.io"},setProtocol(e){Re=e},protocol(){return Re},debug(e){try{window.console.log(`Dable DEBUG: ${e}`)}catch{}},attr(e,t){return e.getAttribute(t)},isSafari(){let e=navigator.userAgent.toLowerCase();return/safari/.test(e)&&!/chrome|crios|fxios/.test(e)},isMobileDevice(){return/(android).+mobile|\(.*ip(hone|od)|opera m(ob|in)i/i.test(navigator.userAgent||"")},isMobileView(){let e=window.matchMedia("(max-width: 500px)").matches;return A.isMobileDevice()||e},isIOSDevice(){let e=navigator.userAgent.toLowerCase();return/ip(hone|od|ad)/i.test(e)},isScrollBottom(e,t=10){let n=document,i=window,r,s,o;if(W)try{i=parent.window,n=parent.document}catch{}try{e&&(s=A.getElemHeight(e)+A.getOffsetY(e)),!s&&n.body&&(s=n.body.offsetHeight),o=0,A.getScrollBaseEl()!==i&&A.getScrollBaseEl().scrollTop?o=A.getScrollBaseEl().scrollTop:typeof i.pageYOffset=="number"?o=i.pageYOffset:n.documentElement&&n.documentElement.scrollTop?o=n.documentElement.scrollTop:n.body&&n.body.scrollTop&&(o=n.body.scrollTop),r=i.innerHeight||n.documentElement&&n.documentElement.clientHeight||n.body&&n.body.clientHeight}catch{return!1}return r+o>=s-t},getScrollY(){let e=document,t=window;if(W)try{t=parent,e=parent.document}catch{}let n=0;return A.getScrollBaseEl()!==t&&A.getScrollBaseEl().scrollTop?n=A.getScrollBaseEl().scrollTop:typeof t.pageYOffset=="number"&&t.pageYOffset!==0?n=t.pageYOffset:(e.documentElement||e.body)&&(n=(e.documentElement||e.body).scrollTop),n},getHeight(){let e=W?A.rootWindow():window,t=e.document.body,n=e.document.documentElement||document.body;return{viewport:e.innerHeight||n.clientHeight,window:Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}},getElemHeight(e){return e&&e.offsetHeight},isHidden(e){return e.offsetWidth===0&&e.offsetHeight===0},getOffset(e,t=!1){let n=e;if(!e||!t&&A.isHidden(e))return!1;let i=0,r=0;for(;e;)i+=e.offsetLeft||0,r+=e.offsetTop||0,e=e.offsetParent;try{let s=n.ownerDocument,o=s.defaultView||s.parentWindow;if(W&&o.parent&&o.parent.window&&o.parent!==o){let a=A.getOffset(A.getParentFrame(n),!0);return{x:i+a.x,y:r+a.y}}}catch{}return{x:i,y:r}},getOffsetY(e){let t=A.getOffset(e);return t?t.y:!1},readParam(e){let t=e.replace(/[[\]]/g,"\\$&"),n=(window.location.search||"").match(new RegExp(`[?&]${t}=([^&]*)`));return n&&n[1]||null},clone(e){if(!e||typeof e!="object"||"isActiveClone"in e)return e;let t=e.constructor();return Object.keys(e).forEach(n=>{t[n]=A.clone(e[n])}),t},isWifi(){let e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e?e.type==="wifi":null},getFullUserLanguage(){return navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"ko"},getDableLanguage(){let e=A.getFullUserLanguage();return{"zh-TW":"zh-TW","zh-Hant":"zh-TW","zh-HK":"zh-TW","zh-CN":"zh-CN","zh-Hans":"zh-CN","zh-SG":"zh-CN"}[e]||e.split("-")[0].toLowerCase()},validateHasScript(e){return Array.prototype.slice.call(document.getElementsByTagName("script")).some(n=>n.src===e)},includeScript(e){let t=document.createElement("script");return t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},includeScriptOnce(e){if(!A.validateHasScript(e))return A.includeScript(e)},stripAndExecuteScript(e){let t=[],n=[],i=e.replace(/<script[^>]* src=['"]([^>'" ]+)[^>]*><\/script>/gi,(r,s)=>(t.push(s),""));i=i.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,(r,s)=>(n.push(s),"")),t.forEach(r=>A.includeScript(r));try{n.length&&new Function(n.join(`
`))(n.join(`
`))}catch(r){window.console&&window.console.log(r)}return i},getReferrer(){let e=document.referrer||"";if(e.indexOf("api.dable.io/widgets")>-1){let t=e.indexOf("?");if(t>0)return e.substring(0,t)}return e},insertCss(e){let t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.head.appendChild(t)},isBrokenTextEncoding(e){if(typeof e!="string")return!1;let t=e.length;return e.replace(/[\x80-\xff]/g,"").length*2<t},getRandomValue(){let e=window.crypto||window.msCrypto;if(!(e&&e.getRandomValues))return Math.random();let t=4294967295,n=new Uint32Array(1);return e.getRandomValues(n),n[0]/t},generateRandomString(){let e=window.crypto||window.msCrypto,t="";if(e&&e.randomUUID)return e.randomUUID();if(e&&e.getRandomValues){let n=new Uint32Array(10);e.getRandomValues(n),t=Array.prototype.slice.call(n).map(r=>r.toString(16)).join("")}if(!t){let n=parseInt(window.location.href.toLowerCase().replace(/[^a-z\d]/g,"").substring(4,14),36).toString(16);t=Date.now().toString(16)+(Math.random()*Math.pow(10,12)).toString(16).replace(".","")+n}return t.replace(/^(\w{8})(\w{4})(\w{4})(\w{4})(\w{12}).*$/,"$1-$2-$3-$4-$5")},extractProtocolAndHost(e){return e?e.replace(/([^:]+:\/\/[^/]+).*/,"$1"):null}},u=A;function T(e,t,n){e.addEventListener(t,n,!1)}function R(e,t,n){e.removeEventListener(t,n,!1)}function Pe(e,t,n=100){let i,r;typeof CustomEvent=="function"?r=new CustomEvent(t,{bubbles:!0}):(i=e.createEvent?e:document,r=i.createEvent("Events"),r.initEvent(t,!0,!1)),setTimeout(function(){(e.dispatchEvent?e:i).dispatchEvent(r)},n)}var V=class{constructor(t){this.executor=t,this.handlers={},this.commands=[]}execute(t){let n=Array.prototype.slice.call(t),i=n.shift();i&&this.executor[i]?this.executor[i].apply(this.executor,n):u.debug(`Unknown command: ${i}`)}push(t){if(Array.isArray(t[0])){t.forEach(n=>this.push(n));return}u.isIOSDevice()&&this.saveCommand(t),this.execute(t)}saveCommand(t){this.commands.push(t),this.hasListener("pageshow")||this.listen("pageshow")}hasListener(t){return!!this.handlers[t]}listen(t){this.handlers[t]=this[`${t}Handler`].bind(this),T(window,t,this.handlers[t])}unlisten(t){R(window,t,this.handlers[t]),this.handlers[t]=void 0}pageshowHandler(t){let n=t.persisted===!0,i=performance&&performance.navigation.type===2,r=performance.getEntriesByType("navigation")[0]&&performance.getEntriesByType("navigation")[0].type==="back_forward";!n||!(i||r)||(this.unlisten("pageshow"),this.listen("rebuild"),Pe(document,"rebuild"))}rebuildHandler(){this.unlisten("rebuild");let t=[].concat(this.commands);this.commands=[],t.forEach(n=>this.push(n))}};var q={},Vt=-1;function ne(e,t){q[e]||(q[e]=[]);let n=(++Vt).toString();return q[e].push({subscriberId:n,func:t}),n}function U(e,t){return q[e]?(setTimeout(function(){let n=q[e],i=n.length||0;for(;i--;)n[i].func(t)},0),!0):!1}function qt(e,t){if(typeof XMLHttpRequest=="function"){let n=new XMLHttpRequest;if("withCredentials"in n)return n.open(e,t,!0),n}return null}function Me(e,t,n){let i=qt("POST",e);return i?(i.onload=()=>{let r=i.responseText;if(n)return n(r)},i.onerror=()=>{},i.setRequestHeader&&i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(t)),i):(u.debug("Your browser doesn't support CORS"),null)}var Jt=function(){let e=0;return()=>++e}();function Qt(e){let t=document.createElement("script"),n=!1;t.src=e,t.async=!0,t.onload=()=>{n||(n=!0,t.onload=null,t?.parentNode?.removeChild(t))},document.head.appendChild(t)}function pe(e,t){let n=[];return Array.isArray(t)?t.forEach((i,r)=>{let s=pe(`${e}[${r}]`,i);s&&n.push(s)}):t&&typeof t=="object"?Object.keys(t).forEach(i=>{let r=pe(`${e}[${i}]`,t[i]);r&&n.push(r)}):e&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(String(t))),n.join("&")}function N(e,t={},n){let i=[];Object.keys(t||{}).forEach(s=>{let o=pe(s,t[s]);o&&i.push(o)});let r=`_dbljson${Jt()}`;return typeof window=="object"&&(window[r]=s=>{n?.(s)}),i.push(`callback=${r}&_=${Date.now()}`),Qt(`${e}?${i.join("&")}`),r}function Oe(e){return Object.keys(e||{}).map(n=>{let i=e[n],r=typeof i;return r==="function"?i=i.toString():i&&r==="object"&&!Array.isArray(i)&&(i instanceof Date?i=i.toJSON():i.constructor===Object?i=Oe(i):i=i.toString()),[n,i]}).sort((n,i)=>n[0]>i[0]?1:-1)}function he(e){let t=JSON.stringify(Oe(e)),n="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=4294967295,r=0;for(let s=0,o=t.length;s<o;s++)r=(i^t.charCodeAt(s))&255,i=i>>>8^"0x"+n.substr((r<<3)+r,8);return i=i^4294967295,(i<0&&4294967295+i+1||i).toString(16)}var Kt=e=>{let{platform:t,platformVersion:n,wow64:i}=e;if(t==="macOS")return`Macintosh; Intel Mac OS X ${n}`;if(t==="Windows"){let r=n.split("."),s=parseInt(r[0]),o="Win64; x64";return i&&(o="WOW64"),s>0?`Windows NT 10.0; ${o}`:`Windows NT 6.${r[1]}; ${o}`}else{if(t==="Chrome OS")return`X11; CrOS x86_64 ${n}`;if(t==="Linux")return"X11; Linux x86_64"}},Zt=e=>{let{platform:t,platformVersion:n,model:i}=e;if(t==="Android")return`Linux; Android ${n}; ${i}`},Le=e=>{let t=null;for(let n in e){let i=e[n];if(i.brand==="Chromium"){t=i;break}}return t?t.version:null},M=e=>{let t=navigator.userAgentData,n=t&&t.brands.length>0&&Le(t.brands);return e||(e=()=>{}),!n||n<101?(e(),Promise.resolve()):t.getHighEntropyValues(["mobile","platformVersion","platform","fullVersionList","model","wow64"]).then(i=>{let r=navigator.userAgent,{mobile:s,fullVersionList:o}=i;n>=101&&(r=r.replace(/Chrome\/([\d.]+)/,`Chrome/${Le(o)}`));let a=null;return n>=107&&!s?a=Kt(i):n>=110&&s&&(a=Zt(i)),a&&(r=r.replace(/Mozilla\/5.0 \([\w\s.;\\/]+\)/,`Mozilla/5.0 (${a})`)),navigator.userAgent===r&&(r=null),e(r),r})};function oe(){try{return!!document.querySelectorAll}catch{return!1}}function en(e){if(!e)return"";let t=/^(https?:)?\/\/[^"'>]+$/.exec(e);if(t)return t[0];let n=e.match(/\ssrc=(["'])(\.{0,2}\/[^"]+)\1/),i=(n?n[1]:e).split("/"),r=location.pathname.split("/");return i[0]===""&&i[1]&&r.splice(1),i.forEach(s=>{if(!(!s||s===".")){if(s===".."){r.length>1&&r.pop();return}r.push(s)}}),`${location.protocol}//${location.host}${r.join("/")}`}function ke(e){return e?e.replace(/\s+/g,"").replace(/<script.+?<\/script>/g,"").replace(/<[^>]*>/g,"").replace(/[^\d.]+/g,""):""}function tn(e){return e&&e.replace(/&amp;/g,"&").replace(/\butm_\w+=[^&]*/g,"").replace(/&+/g,"&").replace(/\?&/g,"?")}function D(e,t={}){if(!e||e.match(/\uFFFD/))return"";let n={amp:"&",lt:"<",gt:">",nbsp:" ",quot:'"',"#39":"'"};return e=e.replace(/&([a-z]+|#\d{2,3});/g,(i,r)=>n[r]||i).replace(/\s+/g," "),t.nocut?e:e.substr(0,Number(t.cut)||200)}function B(e){e=Array.isArray(e)?e:[e];for(let t=0;t<e.length;t++){let n=document.querySelector(`meta[property="${e[t]}"],meta[name="${e[t]}"]`);if(n)return n.getAttribute("content")||n.getAttribute("value")||""}return null}function nn(){let e=document.querySelector('link[rel="canonical"]');return e&&e.getAttribute("href")||""}function We(e){let t=document.getElementById(e);return t?t.innerText||t.textContent:null}function _e(e){let t=document.querySelector(e);return t?t.innerText||t.textContent:null}function X(){return document.querySelector('[itemprop="articleBody"],.__dable_article_body')}function re(){let e=oe()?X():null;return e?e.innerText||e.textContent:null}function we(e){if(!oe())return null;e||(e=["item_id","no_meta_update","url","title","image_url","price","author","currency","sale_price","sale_currency","availability","description","category1","category2","category3","custom1","custom2","custom3","custom4","custom5","published_time"]);let t={no_meta_update(){return D(B("dable:no_meta_update"))},item_id(){return D(B("dable:item_id"))},url(){let i=tn(B(["dable:url","og:url"])||nn());return i.substr(0,2)==="//"&&(i=window.location.protocol+i),i},title(){return D(_e(".__dable_title")||B(["dable:title","og:title","title"])||document.title)},image_url(){let i=en(B(["dable:image","og:image","og:image:url"]));return i.substring(0,2)==="//"?window.location.protocol+i:i},price(){return ke(_e(".__dable_price")||B("product:price:amount"))},author(){return D(B(["product:brand","dable:author","article:author","author"]))||null},currency(){return D(B("product:price:currency"))},sale_price(){return ke(B("product:sale_price:amount"))},sale_currency(){return D(B("product:sale_price:currency"))},availability(){let i=null,r=document.querySelector("[data-dable-availability]");return r&&r.getAttribute("data-dable-availability")!=="displaynone"&&(i="oos"),i||(i=_e(".__dable_availability")&&"oos"||B("product:availability")||null),i},description(){return D(B(["dable:description","og:description"]))},article_source(){return D(We("article:source")||B(["article:source"]),{cut:64})},category1(){return D(B("dable:section")||We("article:section")||B(["article:section","product:category"]),{cut:64})},category2(){return D(B(["dable:section2","article:section2","product:category2"]),{cut:64})},category3(){return D(B(["dable:section3","article:section3","product:category3"]),{cut:64})},custom1(){return D(B("dable:custom1"))},custom2(){return D(B("dable:custom2"))},custom3(){return D(B("dable:custom3"))},custom4(){return D(B("dable:custom4"))},custom5(){return D(B("dable:custom5"))},comment_count(){return D(B("dable:comment_count"))},published_time(){return D(B(["dable:published_time","article:published_time"]))||null}},n={};for(let i=0;i<e.length;i++){let r=e[i];n[r]=t[r]()}return n}function H(e){return e||(e=["item_id","url","category1","category2","category3","comment_count"]),we(e)}function Ue(e){if(e!=="view"||!/[&?]dable=/.test(window.location.href)||!oe())return!1;let t=we(["availability"]).availability;return t==="oos"||t==="out of stock"}function He(e,t,n){if(!oe()||!t||!t.length||!t[0]||!t[0].id)return;let i=window.location.href,r=encodeURIComponent(e),s=String(t&&t[0]&&t[0].id),o=s?encodeURIComponent(s):"",a=u.protocol(),c=(window.navigator&&window.navigator.userAgent||"").indexOf("IE")!==-1;return setTimeout(function(){let{is_update_article_body:d}=n,l=we();if(!l||!l.title||l.no_meta_update==="true"||l.item_id&&s!==l.item_id||i!==window.location.href||u.isBrokenTextEncoding(l.title)||e==="superich.co.kr"&&!c)return;let f=`${a}//${u.api_server_domain()}/items/services`;return f+=`/${r}/id`,f+=`/${o}/checksum`,N(f,{},function(_){let w=_&&_.result&&_.result.checksum,b=_&&_.result&&_.result.body_length;if(w==="BLOCKED")return;let p=l.url,E=l.description;delete l.url,delete l.description,delete l.no_meta_update,delete l.item_id;let C=he(l);if(p&&(l.url=p),E&&(l.description=E),C!==w){let h=re();l.body_length=h&&h.length||0}if(f=`${a}//${u.api_server_domain()}/items/services`,f+=`/${r}/id`,f+=`/${o}/update`,d){let h=re(),v=Number(h&&h.length)||0,m=Math.abs(v-b)/(b||1);if(v>100&&m>.1){if(Me(f,{...l,articleBody:h}))return;delete l.articleBody}}C!==w&&M(h=>{h&&(l.ua=h),N(f,l)})})},5e3)}var je=["\uB9E8\uB2E4\uB9AC","\uD3EC\uB974\uB178","\uC131\uAD50","\uC139\uC2A4","\uC57C\uB3D9","\uCC98\uC81C","19\uAE08","\uC816\uAF2D\uC9C0","\uBAB0\uCE74","\uCC9C\uC77C\uC57C\uD654","\uD638\uBAA8\uD1A0\uD53C\uC544","\uCC3D\uB140","\uC815\uC0AC\uC2E0","\uB204\uB4DC","\uCF58\uB3D4"],ze=function(){let e=B("og:title")||"",t=B("og:description")||"";for(let n=0;n<je.length;n++){let i=je[n];if(e.indexOf(i)>-1||t.indexOf(i)>-1)return!0}return!1};var ft=zt(Ve(),1);var ye=null,$=[];function sn(e,t){if(e.elapsedMilisec=e.elapsedMilisec+100,e.elapsedMilisec>=1e3)for(let n=0;n<$.length;n++){let i=$[n];if(!i)break;i.intervalId===e.intervalId&&($.splice(n,1),e.callback(t),clearInterval(e.intervalId),e.isIntervalRegistered=!1)}}function an(e,t,n,i){e.splice(i,1),t.callback(n)}function cn(e,t){e.exposeScrollY.top<=t&&t<=e.exposeScrollY.bottom?e.isStarted||(e.isStarted=!0,e.callback(t,"start")):e.isStarted&&(e.isStarted=!1,e.callback(t,"end"))}function ln(e,t){e.isIntervalRegistered=!0,e.intervalId=setInterval(sn.bind(null,e,t),100)}function dn(e){e.isIntervalRegistered=!1,clearInterval(e.intervalId),e.elapsedMilisec=0}function qe(){let e=u.getScrollY();for(let t=0;t<$.length;t++){let n=$[t];if(!n)break;if(n.callbackTriggerType==="offsetY"&&n.offsetY<=e){an($,n,e,t);continue}if(n.callbackTriggerType==="watching_area"&&n.callbackTiming==="start_and_end_once"){cn(n,e);continue}if(n.offsetY<=e&&e<=n.posEndY&&!n.isIntervalRegistered){ln(n,e);continue}n.isIntervalRegistered&&dn(n)}}function un(){ye&&clearTimeout(ye),ye=setTimeout(qe,100)}T(u.getScrollBaseEl(),"scroll",un,u.generateRandomString());var fn=function(e,t){let n=e.callbackTriggerType||"offsetY",i=e.callbackTiming,r=e.offsetY,s=e.isWatchWithTimer||!1,o=e.exposeScrollY||null;$.push({callbackTriggerType:n,callbackTiming:i,offsetY:r,isWatchWithTimer:s,exposeScrollY:o,elapsedMilisec:0,callback:t}),qe()};function mn(e){for(let t=0;t<$.length;t++){let n=$[t];if(n.callback===e){clearTimeout(n.intervalId),$.splice(t,1);break}}}function Xe(){try{return!!top.window.location.href}catch{return!1}}function L(e){let t=e.targetElement,n=e.method,i=e.cb_trigger_type,r=e.cb_timing,s=e.offsetY||0,o=e.watching_top,a=e.watching_bottom,c=e.reregisterIntervalMs||null,d=e.isWatchWithTimer||!1,l=!1;function f(){l=!0,n.apply(null,arguments)}function _(w){if(l)return;w||mn(f);let b=u.getOffsetY(t);if(b!==!1){let p=b-u.getHeight().viewport+s,E=i==="watching_area"?{top:o-u.getHeight().viewport,bottom:a}:null;fn({callbackTriggerType:i,callbackTiming:r,offsetY:p,isWatchWithTimer:d,exposeScrollY:E},f)}c&&setTimeout(_,c)}Xe()?_(!0):n(null)}function Je(e){if(!Xe())return!0;let t=e.targetElement,n=e.offsetY||0,i=u.getScrollY(),r=u.getOffsetY(t);return r!==!1?r-u.getHeight().viewport+n<=i:!1}var Ke=["img","iframe","figure"],gn=150;function se({element:e,t,minArticleLength:n}){t===void 0&&(t=""),t+=e?.innerHTML?.toLowerCase()||e.textContent;let i=Ke.some(r=>t.indexOf(`<${r}`)>-1);return t=t.replace(/<(script|style)[\s\S]+?<\/\1>/gi,""),Ke.forEach(r=>{t=t.replace(new RegExp(`<${r}(.|[\r
])*`),"")}),t=t.replace(/<[^<>]+>/g,"").trim(),t.length>(n||gn)?!0:t.length&&!i&&e&&e.nextSibling?se({element:e.nextSibling,t,minArticleLength:n}):!1}function Ze(e){return Array.prototype.slice.call(e.childNodes||[]).filter(n=>n.nodeType===8?!1:!(n.nodeType===3&&!n.textContent.trim()))}function pn({element:e,length:t,posRate:n,minArticleLength:i}){let r=Math.floor(t*n/100)-1;r<1&&(r=t-1);let s=Ze(e);if(se({element:s[r],minArticleLength:i}))return s[r];let o=0;for(;o++<t;){let a;if(r+o<t&&(a=s[r+o],a&&se({element:a,minArticleLength:i}))||r-o>=0&&(a=s[r-o],a&&se({element:a,minArticleLength:i})))return a}return!1}function et(e,{posRate:t,minArticleLength:n}){if(!e?.childNodes?.length)return null;let i=Ze(e).length,r=e.children.length;if(i<=3&&r===1)return et(e.children[0],{posRate:t,minArticleLength:n});let s=pn({element:e,length:i,posRate:t,minArticleLength:n});if(!s)return!1;let o=document.createElement("div");o.className="dable_placeholder";let a=document.createElement("style"),c=`
    @media all and (min-width: 1px) and (max-width: 450px) {     .dable_placeholder{ width: 100% !important; padding: 10px 0 !important; }}
  `;return a.innerText=c,o.appendChild(a),e.insertBefore(o,s),o}function tt(e,{enabled:t,float:n,width:i,pos_rate:r=50,min_article_length:s}){if(!t)return;let o=X();if(!o)return;let a=document.getElementById(e),c=o.querySelector(".dable_placeholder");if(c||(c=et(o,{posRate:r,minArticleLength:s})),!c)return;n==="left"?(c.style.float=n,c.style.padding="10px 15px 10px 0"):n==="right"?(c.style.float=n,c.style.padding="10px 0 10px 15px"):(c.style.margin="0 auto",c.style.padding="10px 0"),c.style.width=i+"%";let d=a.getElementsByTagName("iframe")[0],l=!d.src,f=null;if(l){let _=document.querySelector("form[data-dable_widget_el_id]");if(_.getAttribute("data-dable_widget_el_id")){f=_;let b=document.createElement("input");b.setAttribute("type","hidden"),b.setAttribute("name","inarticle_init"),b.setAttribute("value","1"),f.appendChild(b)}}else{if(d.src.indexOf("&inarticle_init=1")>-1)return;d.src=d.src+"&inarticle_init=1"}a.parentNode.removeChild(a),c.appendChild(a),f?.submit()}var nt=!1,Y={},ae={};function _n(e){if(e.getAttribute("dable-slided"))return;e.setAttribute("dable-slided","1"),e.className=e.className.replace(" dable-secret-hidden",""),e.style.maxHeight="1200px";let t=e.getElementsByTagName("iframe")[0];t?.contentWindow&&t.contentWindow.postMessage("show_secret_widget",u.extractProtocolAndHost(t.getAttribute("src")||t.getAttribute("data-org_src")))}function wn(e){for(e=e.parentNode;e;){if(e.getAttribute("itemprop")==="articleBody")return u.getOffsetY(e);e=e.parentNode}return 0}function it(e,{enabled:t=!1,for_article:n=!1,top_offset:i=0}){let r=document.getElementById(e),s=`sliding${e}`;if(!t)return r.style.overflow="visible",!1;if(nt||(u.insertCss("      .dable-secret-hidden{height:0!important}       .dable-secret-hidden iframe{position:absolute;top:-9999px;left:-9999px}    "),nt=!0),r.getAttribute("data-dable-sliding")==="1")return!0;r.setAttribute("data-dable-sliding","1"),r.className+=" dable-secret-hidden",r.style.overflow="hidden",r.style.maxHeight="0px",r.style.transition="max-height 1s";let o=n?wn(r):0;Y[s]&&R(u.getScrollBaseEl(),"scroll",Y[s]);let a=!1;function c(){let d=u.getScrollY();!a&&d>o+300&&(a=!0),a&&d<=Number(o+i)&&(_n(r),R(u.getScrollBaseEl(),"scroll",Y[s])),ae[s]=null}return Y[s]=function(){ae[s]&&clearTimeout(ae[s]),ae[s]=setTimeout(c,100)},T(u.getScrollBaseEl(),"scroll",Y[s]),setInterval(Y[s],5e3),c(),!0}var ce={},le={},be={};function rt(e,t){if(!t?.enabled)return;let n=document.getElementById(e);if(n.getAttribute("data-dable-floating")==="1")return;n.setAttribute("data-dable-floating","1"),n.style.width=`${t.width}px`,n.style.position="fixed",n.style.zIndex="99999999";let i=["top","bottom"].indexOf(t.appear)>-1,r=`${t.vmargin||0}px`,s=`${t.hmargin||0}px`,o=`-${Number(t.width)+50}px`;switch(t.position){case"bottomright":n.style.bottom=r,n.style.right=i?o:s,n.style.transition="0.3s ease-in";break;case"bottomleft":n.style.bottom=r,n.style.left=i?o:s,n.style.transition="0.3s ease-in";break;case"bottomcenter":o="9999px",n.style.left="50%",n.style.bottom=r,n.style.marginLeft=i?o:`-${t.width/2}px`;break;case"topright":n.style.top=r,n.style.right=i?o:s,n.style.transition="0.3s ease-in";break;case"topleft":n.style.top=r,n.style.left=i?o:s,n.style.transition="0.3s ease-in";break;case"topcenter":o="9999px",n.style.left="50%",n.style.top=r,n.style.marginLeft=i?o:`-${t.width/2}px`;break}if(i){let d=function(f){if(f)switch(t.position){case"bottomright":case"topright":n.style.right=s;break;case"bottomleft":case"topleft":n.style.left=s;break;case"bottomcenter":case"topcenter":n.style.marginLeft=s;break}else switch(t.position){case"bottomright":case"topright":n.style.right=o;break;case"bottomleft":case"topleft":n.style.left=o;break;case"bottomcenter":case"topcenter":n.style.marginLeft=o;break}},l=function(){let f,_=be[e],w=u.getScrollY(),b=u.getHeight();t.appear==="top"&&["topright","topleft"].indexOf(t.position)>-1?f=t.appear_px<=w:t.appear==="top"?f=t.appear_px<=w+b.viewport:(t.appear==="bottom"&&["bottomright","bottomleft"].indexOf(t.position)>-1||t.appear==="bottom")&&(f=t.appear_px>=b.window-b.viewport-w),f!==_&&(d(f),be[e]=f),le[e]=null};var a=d,c=l;if(n.getElementsByTagName("i").length===0){let f=document.createElement("i");f.style.position="absolute",f.style.top="-7px",f.style.right="-7px",f.style.width="16px",f.style.height="16px",f.style.margin=0,f.style.padding=0,f.style.border=0,f.style.background=`url(${u.protocol()}//api.dable.io/static/i/x.png) no-repeat 0 0`,f.style.cursor="pointer",f.onclick=()=>{d(!1),setTimeout(()=>{n.style.display="none"},200)},n.appendChild(f)}ce[e]&&R(u.getScrollBaseEl(),"scroll",ce[e]),ce[e]=()=>{le[e]&&clearTimeout(le[e]),le[e]=setTimeout(l,100)},T(u.getScrollBaseEl(),"scroll",ce[e]),be[e]=null,l()}}var ot={},En=e=>{let t=e.getElementsByTagName("iframe")&&e.getElementsByTagName("iframe")[0];t?.contentWindow&&t.contentWindow.postMessage("load_infinite_feed",u.extractProtocolAndHost(t.getAttribute("src")||t.getAttribute("data-org_src")))},st=(e,t)=>{ot[`ifeed${e}`]&&R(u.getScrollBaseEl(),"scroll",ot[`ifeed${e}`]);let n=document.getElementById(e),i=!1,r=0,s=()=>{i||t>-1&&t<=r+1||(i=!0,setTimeout(()=>{i=!1,s()},100),u.isScrollBottom(n,200)&&(r++,En(n)))};return T(u.getScrollBaseEl(),"scroll",s,"if"),s()};function at(e,t){let n=document.getElementById(e);function i(r){let s=document.getElementsByTagName("iframe");for(let o=0;o<s.length;o++){let a=s[o].getAttribute("src")||s[o].getAttribute("data-org_src");a?.indexOf("dable")>-1&&a?.indexOf(e)>-1&&(s[o].contentWindow||parent).postMessage(r,u.extractProtocolAndHost(a))}}window.addEventListener("scroll",()=>{if(!n)return;let r=window.innerHeight,{top:s,bottom:o}=n.getBoundingClientRect(),a={type:t,top:s,wh:r};s<r&&o>0&&i(JSON.stringify(a))})}function xn(e){if(typeof e?.data!="string")return"";try{return decodeURIComponent(e.data)}catch{return e.data}}function x(e,t){if(e.indexOf(`&${t}=[{`)>-1){let i=e.indexOf(`&${t}=[{`)+t.length+2,r=e.indexOf("}]",i)+2;return e.substring(i,r)}return e.match(new RegExp(`(?:^|&)${t}=([^&]+).*`))?.[1]||null}function P(e){window.addEventListener("message",t=>{e(xn(t))})}function de(e,t){let n=e?.contentWindow||window.parent,i=u.extractProtocolAndHost(e.src||e.getAttribute("data-org_src"));n.postMessage(t,i)}function ct(e,t){return e=e%1?Math.round(e):e,Math.min(e,Math.floor(t))}function Ee(e={}){let{min:t,max:n}=e;e.digits&&(t=Math.pow(10,e.digits-1),n=Math.pow(10,e.digits)-1),(t===void 0||n===void 0)&&(t=0,n=1);let i=t+Math.random()*(n-t);return e.digits?ct(i,n):i}function k(e){let t=Ee(e);return ct(t,e?.max||Math.ceil(t))}function lt(){return Math.random()>=.5}function fe(e){if(!e||typeof e.length!="number")throw new Error("arrayFrom: invalid argument");return Array.from&&!fe.ie?Array.from(e):Array.prototype.slice.call(e)}fe.ie=!1;function j(e){return Array.isArray(e)?e:[e]}var mt=["width","height","widget_id","passback_url","passback_height"];function An(e,t,n){let i=document.createElement("form");i.setAttribute("method","POST"),i.setAttribute("action",e),i.setAttribute("target",n),i.setAttribute("data-dable_widget_el_id",t.id),Object.keys(t).forEach(r=>{let s=t[r]===null?null:j(t[r]),o=mt.some(a=>a===r);s===null||o||s.forEach(a=>{let c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",r),c.setAttribute("value",a&&typeof a=="object"?JSON.stringify(a):a),i.appendChild(c)})}),document.body.appendChild(i),i.submit()}function dt(e){let{el:t,minwidth:n,maxwidth:i,width:r,height:s,slotid:o,auto:a}=e;if(ze())return;let c="",d="",l="",f="",_="";r&&(c=`;width:${r}px`),n&&(d=`;min-width:${n}px`),i&&(l=`;max-width:${i}px`),s&&(f=`;height:${s}px`),a&&(_='data-ad-format="auto"');let w=`${c}${f}${d}${l}`,b=document.createElement("div");b.style.textAlign="center",b.style.paddingTop="5px",b.innerHTML=`<!-- Dable \uAD11\uACE0 -->
<ins class="adsbygoogle"
   style="display:inline-block;${w}"
   data-ad-client="ca-pub-1053900240830158"
   data-ad-slot="${o}"
   ${_}></ins>
<script><\/script>`,t.appendChild(b)}function ut(){u.includeScript(`${u.protocol()}//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js`);let e=document.createElement("script");e.type="text/javascript";let t="(adsbygoogle = window.adsbygoogle || []).push({});";try{e.appendChild(document.createTextNode(t))}catch{e.text=t}document.body.appendChild(e)}function J(e,t){let n=document.createElement("div");n.id=`d-${e}-${k({digits:4})}`,n.style.padding="5px 0",n.style.backgroundColor="#fff",n.setAttribute("data-widget_id",e),t.parentNode.insertBefore(n,t.nextSibling),dable("renderWidget",n.id)}function Dn(e,t,n,i){let{passback_url:r,passback_height:s}=i;setTimeout(()=>{if(e.getAttribute("data-ready")==="1")return;let o=document.createElement("iframe");o.allowTransparency="true",o.width=t,o.height=s||n,o.title="\uCD94\uCC9C \uC544\uC774\uD15C",o.style.border=0,o.frameBorder="0",o.scrolling="no",o.src=r,e.parentNode.appendChild(o),e.parentNode.removeChild(e),o.parentNode.style.height="auto"},3e3)}function Cn(e,t,n,i,r){let s=window.location.href.match(/[?&]dable=([^#&]+)/)?.[1];s&&(r.method=s),r.client_width=e.clientWidth,r.network=u.isWifi()?"wifi":"non-wifi",r.lang=u.getDableLanguage();let o=u.getScrollY(),a=u.getOffsetY(e);o+1500>a&&(r.pre_expose=1),window===window.top&&(r.is_top_win=1);try{top.location.href===window.location.href&&(r.top_win_accessible=1)}catch{}let c=document.createElement("iframe");c.allowTransparency="true",c.width=n,c.height=i,c.title="\uCD94\uCC9C \uC544\uC774\uD15C",c.style.border=0,c.frameBorder="0",c.scrolling="no",c.name=`dableframe-${Ee()}`,e.style.height=i+"px",e.style.overflow="hidden",e.innerHTML="",e.appendChild(c);let d=!1,l=r.lazyload_widget_ids;typeof l=="string"&&(l=JSON.parse(l)),l?.length>0&&(d=l.indexOf(r.widget_id)>-1),r.is_lazyload=0,d&&r.pre_expose!==1&&(u.includeScriptOnce(`${u.protocol()}//static.dable.io/dist/lazysizes.min.js`),c.className="lazyload",r.is_lazyload=1),r.widget_id==="3xXAO07G"?lt()?J("OoRxD0ly",e):J("ml6EJ074",e):r.widget_id==="A1XDRG7e"?(dt({el:e,minwidth:320,maxwidth:732,height:90,slotid:"1516665626",auto:!0}),ut()):r.widget_id==="qAlmxE71"?(dt({el:e,width:640,height:90,slotid:"7467502826",auto:!0}),ut()):r.widget_id==="y74QqdlV"?J("57w1eQX8",e):r.widget_id==="VPl10K7E"?J("6oMgVGlb",e):r.widget_id==="QXekMV7e"&&J("M7N4EmXb",e);function f(){let _="?"+Object.keys(r).map(p=>{let E=r[p]===null?null:j(r[p]),C=mt.some(h=>h===p);if(!(E===null||C))return E.map(h=>(typeof h=="object"&&(h=JSON.stringify(h)),`${encodeURIComponent(p)}=${encodeURIComponent(h)}`)).join("&")}).filter(Boolean).join("&"),w={site:r.site,url:r.url,ref:r.ref,lang:r.lang,uid:r.uid,cid:r.cid,service:{service_name:r.site,service_type:r.service_type,service_id:r.service_id},action:"widget_request",widget_id:r.widget_id,source:r.item_id||"",randomStr:r.randomStr,gdpr:r.gdpr};r.mid&&(w.mid=r.mid),r.consent&&(w.consent=r.consent),r.ua&&(w.ua=r.ua);let b=()=>{_.length<=2e3?(t+=_,c.src=t,r.passback_url&&Dn(c,n,i,r)):(An(t,r,c.name),c.setAttribute("data-org_src",t))};r.is_lazyload===1?L({targetElement:c.parentNode,method(){b()},cb_trigger_type:"offsetY",offsetY:-800,reregisterIntervalMs:k({min:5e3,max:5500})}):b()}f()}function me(e){return document.querySelector(`#${e} iframe`)||document.querySelector('iframe[src*="/widgets/id/"]')}function Sn(e,t){let n=me(e);n&&(n.height=t);let i=document.getElementById(e);i&&(i.style.height="auto")}function Fn(e,t){let n=me(e);n&&(n.title=t)}function Tn(e){let t=me(e);t.setAttribute("data-ready","1");let n=i=>{if(!t.contentWindow)return;let r=u.getOffset(t),s=r?.x||0,o=r?.y||0;de(t,`${i}=${s},${o}`)};L({targetElement:t.parentNode,method(i){i!==null&&n("expose")},cb_trigger_type:"offsetY",offsetY:Math.min(200,t.clientHeight||200),reregisterIntervalMs:k({min:5e3,max:5500})}),L({targetElement:t.parentNode,method(i,r){i!==null&&(r==="start"&&n("exposure_start"),r==="end"&&n("exposure_end"))},cb_trigger_type:"watching_area",cb_timing:"start_and_end_once",watching_top:u.getOffsetY(t.parentNode),watching_bottom:u.getOffsetY(t.parentNode)+u.getElemHeight(t.parentNode),reregisterIntervalMs:k({min:5e3,max:5500})}),L({targetElement:t.parentNode,method(){n("pre_expose")},cb_trigger_type:"offsetY",offsetY:-1e3,reregisterIntervalMs:k({min:5e3,max:5500}),isWatchWithTimer:!1})}var Q={};ne("service_name",e=>{Q.service_name=e});ne("item_ids",e=>{Q.item_ids=e});ne("qterm",e=>{Q.qterm=e});var gt={},K=class{constructor(t){let{dom_id:n,cid:i,uid:r,item_ids:s,item_pub_date:o,callback:a}=t,c=t.options||{};if(!n){u.debug("dom id is required but empty");return}this.cid=i,this.uid=r,this.widget_render_tried=0,this.fetchWidgetPrefs(n,c,(d,l)=>{gt[n]={item_ids:s,loaded_callback:a},this.renderWidget(n,d,l,s,o)})}fetchWidgetPrefs(t,n,i){let r={},s=document.getElementById(t);n=n||{};let o=(d,l={})=>{let{cut:f,compress:_}=l,w=l.defaultValue;d in n?w=n[d]:u.attr(s,`data-${d}`)&&(w=u.attr(s,`data-${d}`)),w&&(_?r[`${d}_lz`]=ft.compressToEncodedURIComponent(w):r[d]=f?w.substr(0,f):w)};s&&o("widget_id");let a=n.service_name||Q.service_name;if(!s||!a&&!r.widget_id){setTimeout(()=>{if(++this.widget_render_tried>10){u.debug(`renderWidget found no DOM for this ID selector : ${t}`);return}this.fetchWidgetPrefs(t,n,i)},50);return}r.from=window.location.href,r.url=n.url||window.location.href,r.ref=n.ref||u.getReferrer(),r.cid=this.cid,r.uid=this.uid,n.mid&&(r.mid=n.mid),r.passback_url=n.passback_url,r.passback_height=n.passback_height,a&&(r.site=a),r.gdpr=n.gdpr,n.consent&&(r.consent=n.consent),r.service_id=n.service_id,r.service_type=n.service_type,r.country=n.country,r.client_id=n.client_id,r.lazyload_widget_ids=n.lazyload_widget_ids||[],r.randomStr=n.randomStr,n.test&&(r.test=1),n.shows_preview_slot_index&&(r.shows_preview_slot_index=1),n.option_json&&(r.option_json=n.option_json),n.ad_info&&(r.ad_info=JSON.stringify(n.ad_info)),r.id=t,o("width",{defaultValue:"100%"}),o("height",{defaultValue:"0"}),o("ad_position"),o("widget_type1"),o("widget_type2"),o("widget_type3"),o("has_outline"),o("text_align"),o("title_type"),o("title_type1"),o("title_type2"),o("title_type3"),o("title_img"),o("title_img1"),o("title_img2"),o("title_img3"),o("title_text",{compress:!0}),o("title_text1",{compress:!0}),o("title_text2",{compress:!0}),o("title_text3",{compress:!0}),o("title_size"),o("title_size1"),o("title_size2"),o("title_size3"),o("has_thumbnail"),o("page_count"),o("type"),o("item_count"),o("item_size"),o("row_count"),o("line_color"),o("item_color"),o("price_color"),o("price_size"),o("has_price"),o("published_time_color"),o("published_time_size"),o("published_time_format"),o("has_published_time"),o("random"),o("channel_prefix"),o("channel"),o("infinite_scroll"),o("autoswipe_seconds"),o("promotions"),o("floating"),o("sliding"),o("inarticle"),o("custom_css"),o("has_dable_logo"),o("abtest_index"),o("nolink"),o("item_props_order"),o("ad_campaign_id"),o("ad_request_id"),o("dedicated_id"),o("imp_id"),o("ad_content_id"),o("ad_response_method"),o("dsp_method_version"),o("additional_ad_clicklog"),o("ad_clicklog"),o("opt_out"),o("inventory_id"),o("adx_request_id"),o("version"),o("use_banner_server",{defaultValue:!1}),o("dable_creative_id"),o("banner_channel_name"),o("encrypted_bid_price"),o("encrypted_bid_ext"),o("bid_currency");let c=H(["category1","category2","category3","author","article_source"]);c.category1&&(r.category1=c.category1),c.category2&&(r.category2=c.category2),c.category3&&(r.category3=c.category3),c.author&&(r.author=c.author),c.article_source&&(r.article_source=c.article_source),n.ad_alias_service_id&&(r.ad_alias_service_id=n.ad_alias_service_id),o("best_type"),o("category_level"),o("category1",{cut:64}),o("category2",{cut:64}),o("category3",{cut:64}),o("iframe-src"),o("iframe-width"),o("iframe-height"),o("ad_mark_test"),o("top_win_href"),o("is_gdpr"),o("gdpr_purposes"),i(s,r)}fetchWidgetItems(t,n,i,r){if(n=n||u.attr(t,"data-item_id")||Q.item_ids||null,typeof i!="boolean"&&(i=!0),!n&&i){setTimeout(()=>{typeof i=="number"&&i--,this.fetchWidgetItems(t,n,i,r)},200);return}Array.isArray(n)||(n=[n]),r(n)}renderWidget(t,n,i,r,s){this.fetchWidgetItems(n,r,!1,o=>{let a;if(o.length>1&&(o=[o[k({min:0,max:o.length-1})]]),i.item_id=o[0],s&&(i.item_pub_date=s),u.readParam("dable_campaign_id")&&(i.test_campaign_id=u.readParam("dable_campaign_id"),i.nolog=1),u.readParam("dable_noad")&&(i.nodablead=u.readParam("dable_noad")),i.use_banner_server)a=`${u.protocol()}//${u.banner_server_domain()}/widgets/id/${i.widget_id}`+(i.uid&&`/users/${i.uid}`||"");else if(i.widget_id)a=`${u.protocol()}//${u.api_server_domain()}/widgets/id/${i.widget_id}`+(i.uid&&`/users/${i.uid}`||"");else if(i.site)a=`${u.protocol()}//${u.api_server_domain()}/widgets/services/${encodeURIComponent(i.site)}`+(i.uid&&`/users/${i.uid}`||"");else{u.debug("one of widget_id or service_name is required but empty");return}i.pixel_ratio=window.devicePixelRatio||1,M(c=>{c&&(i.ua=c),Cn(n,a,i.width,i.height,i)})})}};P(e=>{let t;if(!e)return;let n=x(e,"id");if(!n)return;let i=me(n),r=i?.contentWindow,s=o=>e.indexOf(o)>-1;if(s("init=")&&Tn(n),s("check_and_page_expose=1")&&r&&Je({targetElement:i.parentNode,offsetY:200})){let a=x(e,"page");de(i,`page_expose=${a}`)}if(s("block_content=")&&r){let o=x(e,"block_content");de(i,`block_content=${o}`)}if(s("floating=")){t=x(e,"floating");try{t=JSON.parse(t),rt(n,t)}catch{}}if(s("sliding=")){t=x(e,"sliding");try{t=JSON.parse(t),it(n,t)}catch{}}if(s("is_infinite_feed=")&&!s("floating=")&&st(n,Number(x(e,"infinite_feed_scroll_amount"))),s("if_height=")){let o=Number(x(e,"if_height"));!isNaN(o)&&o>0&&Sn(n,o)}if(s("init_inarticle=")&&tt(n,JSON.parse(x(e,"init_inarticle"))),s("error=")){let o=x(e,"error");u.debug(o);return}if(s("title=")){let o=x(e,"title");Fn(n,o)}if(s("has_recom")){let o=Number(x(e,"has_recom"))===1;gt[n]?.loaded_callback?.(o)}if(s("close_dable_widget")&&n){let o=document.getElementById(n);o&&fe(o.childNodes).forEach(a=>{a.style.display="none"})}if(s("scrollDetect")){let o=x(e,"type");at(n,o)}});function O(e){let n=new RegExp(`\\b${e}=(.*?)(?:[,;]|$)`).exec(document.cookie);return n&&n[1]&&n[1]!=="null"?n[1]:""}function z(e,t,n=60){let i=new Date(Date.now()+n*1e3),r=location.hostname.split("."),s=Math.max(0,r.length-2)+1;for(;--s>=0;){let o=r.slice(s).join("."),a=`${e}=${t}; path=/; domain=${o}; expires=${i.toUTCString()};`;if(document.cookie=a,O(e))return}}var ht=[{path:/(www\.)?bing\.com\/search/,param:"q"},{path:"search.zum.com/search.zum",param:"query"},{path:/[.a-z]*search\.naver\.com\/search\.naver/,param:"query"},{path:/[.a-z]*search\.daum\.net\/search/,param:"q"}];function $n(e,t){let n=e.indexOf("?")<0?"":e.substring(e.indexOf("?")+1),r=new RegExp(`\\b${t}=([^&]*)`).exec(n)?.[1];if(typeof r!="string")return null;try{return decodeURIComponent(r)}catch{return null}}function In(e){for(let t=0;t<ht.length;t++){let n=ht[t];if(n.path instanceof RegExp&&n.path.test(e)||typeof n.path=="string"&&e.indexOf(n.path)>-1)return n}return null}function _t(e){let t=In(e);return t&&$n(e,t.param)}function Rn(e){if(window.gtag)return;let t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`;let n=document.createElement("script");n.innerHTML='window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments)}gtag("js", new Date())',document.head.appendChild(t),document.head.appendChild(n)}function wt(e,t){if(!e)return;Rn(e);let n={send_to:e,...t};try{gtag("config",e),gtag("event","page_view",n)}catch{}}function yt(e,t,n=20){let r=e-t,s=e>0?Math.floor(r/400):0;return Math.min(s,n-1)}var ve,Be,Pn="G",Nn=["YV7V39S2VL","492QGS1L4X","9M8FV642MQ","ZN4P13N67F","7LLKB0W5CG","SYEFNYNHRL","RWSYWK7WW5","9JM7CN2JQD","WPMRDZKQYP","XXLBVPJ4JY","WKGEYDZ23K","F0RL5CMF1C","CHVBRKRVZ5","FBS0VZNK7P","B7B0G16TBF","98P4JR415X","CRLVSG6V3F","5DMPEZ684M","RQFVCZKVXF","ZV8LW3B3G2"],Mn=["BJ2Y7EBKSP","J8F3GW6ZRW","WY6R719DZ3","EGV9MH0BVS","3EYH4NZ712","DHLFBWV7ML","400SVTKXBC","4PN15E68GT","N7GWPQ8MQH","448CMGFYF4","DLRYWYDKC2","YSH6T8Q5QC","G6PHRB7XNC","VTGFSRF3VN","ZF4MZ84VN0","8BH756GLJQ","LNN03R5HRF","XYZS7RFLHS","0X9H6C6QPQ","C1RE69J48B"];function On(e){let t=null,n;if(e<=8e3)ve=0,Be=Nn;else if(e<=16e3)ve=8e3,Be=Mn;else return null;return n=yt(e,ve),n===null?null:(t=Pn+"-"+Be[n],t)}function bt(e,t,n,i,r){if(i===void 0||e===void 0)return;let s={};if(i&&(s.dimension1=i),t&&(s.dimension2=t),n&&(s.dimension3=n),i===563&&(s.dimension3=r),[8634,8635].indexOf(i)>-1)return;let a=On(i);return wt(a,s)}var Et="_dbl_";function kn(e,t){let n=Et+t,i;try{i=e.getItem(n)}catch{}if(!i)return null;let r=JSON.parse(i),s=+(r.until||r.expire_timestamp);return!s||!r.val?null:Date.now()>s?(e.removeItem(n),null):r.val}function Wn(e,t,n,i=3600){let r=Date.now()+i*1e3;try{e.setItem(Et+t,JSON.stringify({val:n,until:r}))}catch{}}var ge={};function Z(e="local",t=!1){if(e!=="local"&&e!=="session"&&(e="local"),!ge[e]||t){let n;try{n=e==="local"?window.localStorage:window.sessionStorage,ge[e]={get:kn.bind(null,n),set:Wn.bind(null,n)}}catch{ge[e]={get:r=>null,set:r=>{}}}}return ge[e]}var vt=Z("session");function Un(e,t){if(!e)return;let n='width="1" height="1" style="position:absolute;top:-9999px;left:-9999px;"';if(t==="pubmatic"){document.body.insertAdjacentHTML("beforeend",`<iframe src="${e}" title="iframe_cookie_sync" ${n}></iframe>`);return}document.body.insertAdjacentHTML("beforeend",`<img src="${e}" alt="" ${n}>`)}var Hn=(e,t)=>{let n="view",i=`${e}:${t}`;vt.set(n,i,60)},Yn=(e,t)=>{let n="view",i=`${e}:${t}`;return vt.get(n)===i},Bt=function(e,t){let n=e.site||e.service.service_name;e.z=String(Math.round(u.getRandomValue()*1e6));let i=`https://${u.reco_logging_server_domain()}`;i+=`/s/${encodeURIComponent(n)}/u/${encodeURIComponent(e.uid)}/${e.action}`;let r=u.clone(e);if(delete r.service,delete r.sp_client,delete r.uid,delete r.action,delete r.site,delete r.csync,!(r.items&&r.items[0]&&r.items[0].c1&&u.isBrokenTextEncoding(r.items[0].c1))){if(e.action==="view"&&r.items&&r.items[0]&&r.items[0].id){if(Yn(n,r.items[0].id))return;Hn(n,r.items[0].id)}if(e.service.collect_visit_log_once_a_day&&e.action==="visit"){if(O("__dbl_v"))return;let s=new Date,o=(23-s.getHours())*60*60+(59-s.getMinutes())*60+(59-s.getSeconds());z("__dbl_v","1",o*1e3)}M(s=>{s&&(r.ua=s),N(i,r,o=>{o!=="OK"&&u.debug(`[RECO-LOGGING API ERROR] FROM ${i}, ${o.result}`),t&&t(),bt(n,r.items&&r.items[0]&&r.items[0].c1,r.items&&r.items[0]&&r.items[0].c2,e.service.service_id,r.items&&r.items[0]&&r.items[0].id)})}),Object.keys(e.csync||{}).forEach(s=>{s!=="nasmedia"&&e.csync[s]&&Un(e.csync[s],s)})}};function xt(e){let n={isTcfapiSet:!1,isGdpr:!1};if(typeof __tcfapi!="function"){e(n);return}let i=__tcfapi;i("addEventListener",2,(r,s)=>{if(n.isTcfapiSet=!0,!s){e(n);return}(r.eventStatus==="useractioncomplete"||r.eventStatus==="tcloaded"||r.eventStatus===null)&&(i("removeEventListener",2,()=>{},r.listenerId),r.cmpStatus==="loaded"&&(n.isGdpr=!!r.gdprApplies,n.isGdpr&&(n.consent=r.tcString),e(n)))})}function xe(e){if(!e||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Ae(e){return e?typeof e=="string"?document.querySelector(`#${e}`):typeof e=="object"?e:null:null}function De(e,t=1){if(Array.prototype.flat)return e.flat(t);let n=typeof t=="number"?t-1:0;return e.reduce((i,r)=>Array.isArray(r)&&t>0?i.concat(De(r,n)):i.push(r)&&i,[])}function I(e,...t){return t.filter(n=>n&&typeof n=="object"&&!Array.isArray(n)).forEach(n=>{Object.keys(n).forEach(i=>{n[i]!==void 0&&(e[i]=n[i])})}),e}var At=Z("local"),Ft="dable_uid",Gn=2*365*24*60*60*1e3,Dt="00000000.0000000000000",Ct=u.getReferrer(),Ce=window.top!==window.self;function St(){let e=O(Ft);return/[?&]dable_uid=([^#&]+)/.exec(window.location.search)?.[1]||e!=="undefined"&&e||""}function Vn(e,t){return e=De(j(e),10),e.filter(n=>{let i=typeof n=="object"?n.id:n;return i&&(typeof i=="number"||typeof i=="string")}).map(n=>{let i=typeof n=="object"?n:{id:n};return i.category1&&(i.c1=i.category1,delete i.category1),i.category2&&(i.c2=i.category2,delete i.category2),i.category3&&(i.c3=i.category3,delete i.category3),I({},{...i,is_hidden:Ue(t)?1:void 0})})}function qn(e,t){let n=Date.now(),i=encodeURIComponent(t.service.service_name),r=encodeURIComponent(t.uid),s=()=>{let o=I({},t,{sess_dur_sec:(Date.now()-n)/1e3|0,body_height:u.getElemHeight(e)|0,body_length:re()?.length|0}),a=`https://${u.reco_logging_server_domain()}/s/${i}/u/${r}/read`;M(c=>{c&&(o.ua=c),N(a,o,d=>{d!=="OK"&&u.debug(`[RECO-LOGGING API ERROR] FROM ${a}, ${d}`)})})};new Promise(o=>{if(document.readyState==="complete"){o();return}window.addEventListener("DOMContentLoaded",o,!1)}).then(()=>{let o=!1;L({targetElement:e,method:()=>{o||s(),o=!0},offsetY:Math.max(u.getElemHeight(e)-300,300),registerIntervalMs:5e3+(Math.random()*500|0)})})}var Se={},ee=class{serviceName=void 0;uid="";referrer="";cachedPrefs=null;fetchPrefsQueue=[];logSent={};constructor(){this.service=this.setService,this.widget=this.renderWidget,P(t=>{let n=x(t,"canonical_url");n&&(this.url=n)}),Ce&&P(t=>{let n=x(t,"dable_item_id");n&&(this.itemIds=[n])}),window.top.postMessage({channel:"dable",type:"request-canonical-url"},"*"),Ce&&window.top.postMessage({channel:"dable",type:"request-item-id"},"*")}isValidLocalCache(t){return!(!t||t.gdpr===void 0||!t.service||!t.service.country||!t.service.client_id||!t.service.lazyload_widget_ids)}fetchPrefs(t=()=>{}){if(this.cachedPrefs)return t(this.cachedPrefs),Promise.resolve(this.cachedPrefs);if(!this.serviceName){setTimeout(()=>this.fetchPrefs(t),100);return}let n=At.get(`prefs__${this.serviceName}`);if(n&&this.isValidLocalCache(n)){t(n);return}if(t&&(this.fetchPrefsQueue.push(t),this.fetchPrefsQueue.length>1))return;let i={uid:St()};this.cid&&(i.cid=this.cid),xt(({isTcfapiSet:r,isGdpr:s,consent:o})=>{i.tcfapiSet=Number(r),i.gdpr=Number(s),o&&(i.consent=o);let a=encodeURIComponent(this.serviceName);N(`https://${u.api_server_domain()}/plugin/services/${a}/prefs2`,i,c=>{let d=this.cachedPrefs=c?.result||null,l=u.clone(d);Object.keys(l).forEach(f=>{/\w+_log_url$/.test(f)&&delete l[f]}),At.set(`prefs__${this.serviceName}`,l),this.fetchPrefsQueue.forEach(f=>f(d)),this.fetchPrefsQueue=[],z(Ft,d.cid,Gn),d?.service?.custom_script_url&&u.includeScript(d.service.custom_script_url)})})}c(t){this.payloadCrypted=t}setHttpsOnly(){u.setProtocol("https:")}setScrollBaseElement(t){u.setScrollBaseEl(t)}setCookieDoc(t){window.COOKIE_DOCUMENT=t}setCID(t){this.cid=t,this.fetchPrefs(()=>{})}setUID(t){this.uid=t}setMID(t){this.mid=t}setRef(t){this.ref=t}setURL(t){this.url=t}setService(t){let n=(t||"").replace(/\/*$/,"").toLowerCase();if(!n){u.debug(`Unknown SERVICE: ${t}`);return}this.serviceName=n,U("service_name",n)}setServiceByWidth(t,n){if(t&&n===void 0){u.debug("setServiceByWidth requires two service names");return}u.isMobileView()?this.setService(n):this.setService(t)}setGender(t){this.setUserInfo({gender:t})}setBirthYear(t){this.setUserInfo({birthyear:t})}setUserInfo(t,n){let i={};if(t&&(xe(t)&&I(i,t),typeof t=="string"&&n!==void 0&&(i[t]=n),i.mid&&(this.mid=i.mid),i.uid&&(this.uid=i.uid),i.gender&&/^[mfo]$/i.test(i.gender)&&(this.gender=i.gender),i.birthyear)){let r=Number(i.birthyear);r&&r>=1900&&r<=new Date().getFullYear()&&(this.birthyear=r)}}fetchService(t){return t&&t(this.serviceName),Promise.resolve(this.serviceName)}fetchUID(t){return t||(t=()=>{}),this.uid?(t(this.uid),Promise.resolve(this.uid)):new Promise(n=>{this.fetchPrefs(({cid:i})=>{i||(i=String(Math.round(u.getRandomValue()*9e7)+1e7)+`.${Date.now()}`),t(i),n(i)})})}fetchUserGroup(t){this.fetchUID(n=>{t(Math.floor(n%10)||null)})}sendLog(t,...n){if(!this.serviceName){let a=Array.prototype.slice.call(arguments,0);return new Promise(c=>setTimeout(c,100)).then(()=>this.sendLog.apply(this,a))}t||(t="");let i=[];(t==="like"||t==="view")&&(i=Vn(n,t),i.length>0&&U("item_ids",i.map(a=>a.id)));let r={action:t,site:this.serviceName,url:this.url||window.location.href,ref:this.ref||Ct,lang:u.getFullUserLanguage()};I(r,{mid:this.mid||void 0,gender:this.gender||void 0,birthyear:this.birthyear||void 0,c:this.payloadCrypted||void 0});let s=()=>new Promise(a=>{this.fetchPrefs(a)}),o=()=>new Promise(a=>{let c=Date.now(),d=()=>{let l=H()||{};if(l.item_id){a(I({},{id:l.item_id,c1:l.category1||void 0,c2:l.category2||void 0,c3:l.category3||void 0,comment_count:l.comment_count||void 0,link:l.url||void 0}));return}if(Date.now()-c>300){a(null);return}setTimeout(d,100)};d()});return this.actionType=t||"auto",this.items=i,new Promise(a=>{let c={};switch(t){case"visit":r.action="visit",a();return;case"like":r.items=i,r.action=i.length>0?"like":"visit",a();return;case"search":r.q=(n[0]||"")&&encodeURIComponent(n[0]),r.q&&U("qterm",r.q),r.action=r.q?"search":"visit",a();return;case"view":c=H(),r.items=i.map(d=>I(d,{c1:d.c1||c.category1||void 0,c2:d.c2||c.category2||void 0,c3:d.c3||c.category3||void 0,comment_count:d.comment_count||c.comment_count||void 0,link:c.url||this.url||void 0})),r.action=i.length>0?"view":"visit",a();return;default:o().then(d=>{if(!d){r.action="visit";return}U("item_ids",[d]),r.action="view",r.items=[d]}).then(a)}}).then(()=>s()).then(a=>{let c=_t(Ct);return a.consent&&!a.is_reco_logging_consented?Promise.resolve([c,a,Dt]):this.fetchUID().then(l=>[c,a,l])}).then(([a,c,d])=>{let l=!1;if(a&&(r.q=encodeURIComponent(a),U("qterm",r.q)),!c.service)throw new Error(`Unknown service: ${this.serviceName}`);l=c.service.collect_article_body_on_client===!0;let f=Object.keys(c).reduce((_,w)=>{let b=w.match(/^(\w+)_log_url$/);if(b){let p=b[1];_[p]=c[w]}return _},{});I(r,{uid:d,cid:c.cid,service:c.service,sp_client:c.sp_client,csync:f,gdpr:c.gdpr,consent:c.consent||void 0}),Bt(r,()=>{if(r.action!=="view")return;let _=X();_&&qn(_,r),He(this.serviceName,r.items,{is_update_article_body:l})})}).then(null,a=>{u.debug(a)})}sendLogOnce(t,...n){if(t=t||"auto",!this.logSent[t])return this.logSent[t]=!0,n.unshift(t),this.sendLog.apply(this,n)}renderWidget(t,n,i,r){let s=Ae(t),o=typeof t=="string"?t:s?.id,a=[n,i,r];if(r===void 0&&typeof i=="function"&&(r=a[1]),xe(n)&&(n=null,i=a[0]),n=n&&j(n),Se[o]===void 0&&(Se[o]=5),!s){--Se[o]>=0?setTimeout(()=>this.renderWidget(t,n,i,r),100):u.debug(`[ERROR] Cannot find element: #${o}`);return}if(!s.getAttribute("data-widget_id")){let p=/^dablewidget_([a-z\d]+)$/i.exec(o)?.[1];if(!p){u.debug(`[ERROR] No Widget ID found: #${o}`);return}s.setAttribute("data-widget_id",p)}let c=i?.ignore_items||i?.ignoreItems,d=St(),l={dom_id:o,uid:this.uid||d,cid:this.cid||d,item_pub_date:null,callback:r},f=i?.orgServiceId||s.getAttribute("data-org-service-id");i=I({},i,{service_name:this.serviceName||void 0,url:this.url||void 0,ref:this.ref||void 0,mid:this.mid||void 0,randomStr:u.generateRandomString(),ad_alias_service_id:Number(f)||null});let _=100,w=0,b=()=>{if(w++,!n&&this.items?.length&&(n=this.items.map(p=>p.id)),!n){let p=H(["item_id","published_time"]);p?.item_id&&(n=[p.item_id],l.item_pub_date=p.published_time),Ce&&this.itemIds?.length>0&&(n=this.itemIds)}if(!n&&!this.actionType&&!c&&w<30){setTimeout(b,_);return}l.item_ids=n||null,l.options=i,new K(l)};this.fetchPrefs(p=>{p.consent&&(i.consent=p.consent),p.service&&I(i,{service_id:p.service.service_id,service_type:p.service.service_type,country:p.service.country,client_id:p.service.client_id,lazyload_widget_ids:p.service.lazyload_widget_ids}),this.fetchUID(E=>{l.uid=l.uid||E,l.cid=l.cid||p.cid;let C=p.tcfapiSet==="0"&&E===Dt?"1":p.gdpr;C&&(i.gdpr=C),b()})})}renderWidgetByWidth(t,n,i,r){let s=Ae(t);if(!s){u.debug(`renderWidgetByWidth cannot find any dom element with given id: ${t}`);return}let o=u.isMobileView()?"mo":"pc",a=s.getAttribute(`data-widget_id-${o}`);if(!a){let c=/^dablewidget_([a-z\d]+)_([a-z\d]+)$/i.exec(s.id);c&&(a=o==="pc"?c[1]:c[2])}if(a)s.setAttribute("data-widget_id",a);else if(!s.getAttribute("data-widget_id")){u.debug(`No Widget ID found for ${o}: #${s.id}`);return}this.renderWidget(s,n,i,r)}};var Fe=`d-popup-${Date.now()}`;function Xn(e){let t=e.split("-")[0].toLowerCase(),n=e.toLowerCase();switch(t){case"ko":return{title:"Dable \uC18C\uAC1C",page:"introduction.html"};case"ja":return{title:"Dable\u306E\u7D39\u4ECB",page:"introduction_ja.html"};case"zh":switch(n){case"zh-tw":case"zh-hant":case"zh-hk":return{title:"Dable \u7B80\u4ECB",page:"introduction_zh-hant.html"};default:return{title:"Dable \u7C21\u4ECB",page:"introduction_zh-hans.html"}}case"vi":return{title:"gi\u1EDBi thi\u1EC7u Dable",page:"introduction_vi.html"};case"th":return{title:"Dable \u0E1A\u0E17\u0E19\u0E33",page:"introduction_th.html"};case"id":return{title:"Pengenalan Dable",page:"introduction_id.html"};case"en":default:return{title:"About Dable",page:"introduction_en.html"}}}function Tt(){return document.getElementById(Fe)}function $t(){let e=Tt();if(!e)return;let t=e.getAttribute("data-opener");if(e.parentNode.removeChild(e),t)try{document.querySelector(`#${t} iframe[src*="/widgets/id/"]`)?.contentWindow.focus()}catch{}}function Jn({id:e,uid:t,service_id:n,widget_id:i,ads:r}){let s=window.top!==window.self,o=Xn(u.getFullUserLanguage()),a=new URLSearchParams({uid:t,service_id:n,widget_id:i,ads:r,from:window.location.href,wrapped:s.toString()}),c=`https://static.dable.io/static/html/${o.page}?${a.toString()}`;if(s){window.open(c,"Dable");return}if(Tt())return;let d=680,l=606;window.matchMedia("screen and (max-width: 680px)").matches&&(d=320,l=470),document.body.insertAdjacentHTML("beforeend",`<div id="${Fe}" style="position:fixed;z-index:99999999;top:0;left:0;right:0;bottom:0;text-align:center;-webkit-overflow-scrolling:touch" data-opener="${e}"><div style="position:fixed;top:0;left:0;right:0;bottom:0;background-color:#000;opacity:.8;"></div><div style="position:absolute;top:50%;left:50%;width:${d}px;height:${l}px;transform:translate(-50%,-50%);border-radius:8px;-webkit-overflow-scrolling:touch;overflow-y:scroll;overflow-x:hidden"><iframe src=${c} title="${o.title}" width="${d}" height="${l}" frameborder="0" scrolling="yes"></iframe></div></div>`),document.querySelector(`#${Fe} > div`)?.addEventListener("click",$t)}var It=()=>{P(e=>{if(e.indexOf("show_dable_popup=1")>-1){Jn({id:x(e,"id")||"",uid:x(e,"uid")||"",service_id:x(e,"service_id")||"",widget_id:x(e,"widget_id")||"",ads:x(e,"ads")||""});return}if(e.indexOf("close_dable_popup=1")>-1){$t();return}})};var Rt=u.isIOSDevice(),te=`ds-popup-${Math.random()*999999|0}`,Pt=`ds-frame-${Math.random()*999999|0}`,Nt=`dable-minicontent-body ${Rt?"dable-minicontent-body-ios":""}`;function Kn({isMobile:e,customW:t=null,customH:n=null}){if(document.getElementById(te))return;let i=e?"100%":"calc(100% - 100px)",s=t||(e?"95%":550),o="";e?o="position: fixed; top: 0; left: 0; right: 0; bottom: 0;":o="position: absolute; top: 50px; left: 50%; border-radius: 2px; transform: translate(-50%, 0);",/^\d+$/.test(s)&&(s+="px"),document.body.insertAdjacentHTML("beforeend",`<style>.dable-minicontent-body{overflow:hidden}.dable-minicontent-body-ios{position:fixed}</style><div id="${te}" style="position: fixed; z-index: 99999999; top: 0; bottom: 0; right: 0; left: 0; text-align: center; display: none; overflow: auto; background: rgba(0,0,0,.8); backdrop-filter: blur(2px)"><div class="dable-minicontent-wrap" style="margin:0 auto;width:${s};height:${i};min-height:400px;overflow:hidden;-webkit-overflow-scrolling:touch;${o}"><iframe src="about:blank" id="${Pt}" frameborder="0" scrolling="yes" width="${t||"100%"}" height="${n||"100%"}"></iframe></div></div>`);let a=document.getElementById(te);a&&(a.onclick=Te)}function Mt({clickLink:e,url:t,isMobile:n,customH:i,customW:r}){Kn({isMobile:n,customH:i,customW:r});let s=document.getElementById(te),o=document.getElementById(Pt);t=t||`${u.protocol()}//news.dable.io/minicontent_v2`;let a=t.indexOf("?")>-1?"&":"?";n===void 0&&(n=u.isMobileDevice());let c=new URLSearchParams({is_mobile:Number(n)||"",is_IOS:Number(Rt)||"",from:window.location.href});e&&c.set("clicklog_link",e),o.src=t+a+c.toString(),s.style.display="block",document.body.className+=` ${Nt}`}function Te(){let e=document.getElementById(te);document.body.className=document.body.className.replace(` ${Nt}`,""),e&&e.parentNode?.removeChild(e)}function Zn({campaignId:e,contentId:t,serviceName:n="",isContentRequest:i=!1,isMobile:r,nocache:s=!1,customW:o=null,customH:a=null}){let c=new URLSearchParams({service_name:n});i&&c.set("is_content_request","1"),s&&c.set("nocache","1");let d=`${u.protocol()}//news.dable.io/${encodeURIComponent(e+"-"+t)}/minicontent?`+c.toString();Mt({url:d,isMobile:r,customW:o,customH:a})}var Ot=()=>{window.dable&&(window.dable.__minicontent={show:Zn,close:Te}),P(e=>{if(e.indexOf("show_minicontent=")>-1){let t=x(e,"show_minicontent").split("--");Mt({clickLink:t[0]})}e.indexOf("close_minicontent=1")>-1&&Te()})};(e=>{if(e?.pluginLoaded)return;e||(window.dable=e=(...n)=>{e.q||(e.q=[]),e.q.push(n)});let t=e.q||[];if(Array.isArray(t)){e.q=new V(new ee);for(let n=0;n<t.length;n++)e.q.push(t[n]);e.pluginLoaded=!0,It(),Ot()}})(window.dable);})();
