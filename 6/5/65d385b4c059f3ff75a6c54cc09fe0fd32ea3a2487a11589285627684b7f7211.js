"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[466],{7233:(t,e,s)=>{s.d(e,{e:()=>n});var r=s(8438),i={};function n(t){if(t in i)return i[t];if(0===(t||"").indexOf("data:"))return{protocol:"data"};let e;var s=r.ZP?.location,n={};if(r.il)e=document.createElement("a"),e.href=t;else try{e=new URL(t,s.href)}catch{return n}n.port=e.port;var o=e.href.split("://");!n.port&&o[1]&&(n.port=o[1].split("/")[0].split("@").pop().split(":")[1]),n.port&&"0"!==n.port||(n.port="https"===o[0]?"443":"80"),n.hostname=e.hostname||s.hostname,n.pathname=e.pathname,n.protocol=o[0],"/"!==n.pathname.charAt(0)&&(n.pathname="/"+n.pathname);var a=!e.protocol||":"===e.protocol||e.protocol===s.protocol,h=e.hostname===s.hostname&&e.port===s.port;return n.sameOrigin=a&&(!e.hostname||h),"/"===n.pathname&&(i[t]=n),n}},6432:(t,e,s)=>{function r(t,e,s){var r=0;for(void 0===s&&(s=t[0],r=1);r<t.length;r++)s=e(s,t[r]);return s}s.d(e,{u:()=>r})},6023:(t,e,s)=>{s.d(e,{W:()=>i});var r=s(8438);function i(){return"function"==typeof r.ZP?.PerformanceObserver}},466:(t,e,s)=>{s.r(e),s.d(e,{Aggregate:()=>f});var r=s(4539),i=s(4284),n=s(5569),o=s(9599),a=s(6432),h=s(5277),u=s(7233),c=s(6023),d=s(8539),g=s.n(d),m=s(5970),p=s(745),v=s(9206),l=s(8025);class f extends l.W{constructor(t,e){var s;super(t,e),s=this;const a=(0,m.OP)(t);i.y0&&a.features.stn&&a.xhrWrappable&&(this.ptid="",this.ignoredEvents={global:{mouseup:!0,mousedown:!0},window:{load:!0,pagehide:!0},xhrOriginMissing:{ignoreAll:!0}},this.toAggregate={typing:[1e3,2e3],scrolling:[100,1e3],mousing:[1e3,2e3],touching:[1e3,2e3]},this.rename={typing:{keydown:!0,keyup:!0,keypress:!0},mousing:{mousemove:!0,mouseenter:!0,mouseleave:!0,mouseover:!0,mouseout:!0},scrolling:{scroll:!0},touching:{touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchenter:!0,touchleave:!0}},this.trace={},this.nodeCount=0,this.sentTrace=null,this.harvestTimeSeconds=(0,m.Mt)(t,"session_trace.harvestTimeSeconds")||10,this.maxNodesPerHarvest=(0,m.Mt)(t,"session_trace.maxNodesPerHarvest")||1e3,this.laststart=0,(0,p.v)(t),this.ee.on("feat-stn",(()=>{this.storeTiming(window.performance.timing);var t=new n.o("resources",{onFinished:function(e){e.sent&&e.responseText&&!this.ptid&&(this.ptid=e.responseText,(0,m.OP)(this.agentIdentifier).ptid=this.ptid,t.startTimer(this.harvestTimeSeconds));e.sent&&e.retry&&this.sentTrace&&((0,o.D)(this.sentTrace,((t,e)=>{this.mergeSTNs(t,e)})),this.sentTrace=null)}.bind(this),retryDelay:this.harvestTimeSeconds},this);t.harvest.on("resources",function(e){if((0,v.zO)()>9e5)return t.stopTimer(),void(this.trace={});if(this.ptid&&this.nodeCount<=30)return;return this.takeSTNs(e.retry)}.bind(this)),t.runHarvest({needResponse:!0}),(0,r.X)("bst",(function(){return s.storeEvent(...arguments)}),void 0,this.ee),(0,r.X)("bstTimer",(function(){return s.storeTimer(...arguments)}),void 0,this.ee),(0,r.X)("bstResource",(function(){return s.storeResources(...arguments)}),void 0,this.ee),(0,r.X)("bstHist",(function(){return s.storeHist(...arguments)}),void 0,this.ee),(0,r.X)("bstXhrAgg",(function(){return s.storeXhrAgg(...arguments)}),void 0,this.ee),(0,r.X)("bstApi",(function(){return s.storeSTN(...arguments)}),void 0,this.ee),(0,r.X)("errorAgg",(function(){return s.storeErrorAgg(...arguments)}),void 0,this.ee),(0,r.X)("pvtAdded",(function(){return s.processPVT(...arguments)}),void 0,this.ee)})))}processPVT(t,e,s){var r={};r[t]=e,this.storeTiming(r,!0),this.hasFID(t,s)&&this.storeEvent({type:"fid",target:"document"},"document",e,e+s.fid)}storeTiming(t,e){var s,r,i,n=Date.now();for(s in t)"number"==typeof(r=t[s])&&r>0&&r<n&&(i=e?t[s]:t[s]-(0,m.OP)(this.agentIdentifier).offset,this.storeSTN({n:s,s:i,e:i,o:"document",t:"timing"}))}storeTimer(t,e,s,r){var i="timer";"requestAnimationFrame"===r&&(i=r);var n={n:r,s:e,e:s,o:"window",t:i};this.storeSTN(n)}storeEvent(t,e,s,r){if(this.shouldIgnoreEvent(t,e))return!1;var i={n:this.evtName(t.type),s,e:r,t:"event"};try{i.o=this.evtOrigin(t.target,e)}catch(t){i.o=this.evtOrigin(null,e)}this.storeSTN(i)}evtName(t){var e=t;return(0,o.D)(this.rename,(function(s,r){t in r&&(e=s)})),e}evtOrigin(t,e){var s="unknown";if(t&&t instanceof XMLHttpRequest){var r=this.ee.context(t).params;if(!(r&&r.status&&r.method&&r.host&&r.pathname))return"xhrOriginMissing";s=r.status+" "+r.method+": "+r.host+r.pathname}else t&&"string"==typeof t.tagName&&(s=t.tagName.toLowerCase(),t.id&&(s+="#"+t.id),t.className&&(s+="."+g()(t.classList).join(".")));return"unknown"===s&&("string"==typeof e?s=e:e===document?s="document":e===window?s="window":e instanceof FileReader&&(s="FileReader")),s}storeHist(t,e,s){var r={n:"history.pushState",s,e:s,o:t,t:e};this.storeSTN(r)}storeResources(t){t&&0!==t.length&&(t.forEach((t=>{var e=(0,u.e)(t.name),s={n:t.initiatorType,s:0|t.fetchStart,e:0|t.responseEnd,o:e.protocol+"://"+e.hostname+":"+e.port+e.pathname,t:t.entryType};s.s<=this.laststart||this.storeSTN(s)})),this.laststart=0|t[t.length-1].fetchStart)}storeErrorAgg(t,e,s,r){if("err"===t){var i={n:"error",s:r.time,e:r.time,o:s.message,t:s.stackHash};this.storeSTN(i)}}storeXhrAgg(t,e,s,r){if("xhr"===t){var i={n:"Ajax",s:r.time,e:r.time+r.duration,o:s.status+" "+s.method+": "+s.host+s.pathname,t:"ajax"};this.storeSTN(i)}}storeSTN(t){if(!(this.blocked||this.nodeCount>=this.maxNodesPerHarvest)){var e=this.trace[t.n];e||(e=this.trace[t.n]=[]),e.push(t),this.nodeCount++}}mergeSTNs(t,e){if(!(this.nodeCount>=this.maxNodesPerHarvest)){var s=this.trace[t];s||(s=this.trace[t]=[]),this.trace[t]=e.concat(s),this.nodeCount+=e.length}}takeSTNs(t){(0,c.W)()||this.storeResources(window.performance.getEntriesByType("resource"));var e=(0,a.u)((0,o.D)(this.trace,((t,e)=>t in this.toAggregate?(0,a.u)((0,o.D)((0,a.u)(e.sort(this.byStart),this.smearEvtsByOrigin(t),{}),this.val),this.flatten,[]):e)),this.flatten,[]);if(0===e.length)return{};t&&(this.sentTrace=this.trace),this.trace={},this.nodeCount=0;var s={qs:{st:""+(0,m.OP)(this.agentIdentifier).offset},body:{res:e}};if(!this.ptid){const{userAttributes:t,atts:e,jsAttributes:i}=(0,m.C5)(this.agentIdentifier);s.qs.ua=t,s.qs.at=e;var r=(0,h.P)(i);s.qs.ja="{}"===r?null:r}return s}byStart(t,e){return t.s-e.s}smearEvtsByOrigin(t){var e=this.toAggregate[t][0],s=this.toAggregate[t][1],r={};return(i,n)=>{var o=i[n.o];o||(o=i[n.o]=[]);var a=r[n.o];return"scrolling"!==t||this.trivial(n)?a&&n.s-a.s<s&&a.e>n.s-e?a.e=n.e:(r[n.o]=n,o.push(n)):(r[n.o]=null,n.n="scroll",o.push(n)),i}}val(t,e){return e}flatten(t,e){return t.concat(e)}hasFID(t,e){return"fi"===t&&!!e&&"number"==typeof e.fid}trivial(t){return!!(t&&"number"==typeof t.e&&"number"==typeof t.s&&t.e-t.s<4)}shouldIgnoreEvent(t,e){var s=this.evtOrigin(t.target,e);return t.type in this.ignoredEvents.global||(!(!this.ignoredEvents[s]||!this.ignoredEvents[s].ignoreAll)||!(!this.ignoredEvents[s]||!(t.type in this.ignoredEvents[s])))}}}}]);