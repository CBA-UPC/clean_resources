(()=>{var e={487:1012:8738:2568:,t={};.n=n.d=n.g=),n.o=(()=>{"use strict";const{IDLE_TIME:e,JAM_URL:t,RUFUS_URL:o="",SENTRY_DSN:r,SENTRY_ENV:i,TODAYS_REWARDS_URL:a=""}={IDLE_TIME:"120",JAM_URL:"https://jam.hearstapps.com",RUFUS_URL:"https://preferencecenter.hearstmags.com",SENTRY_DSN:"https://cce3aed2efd74e668893f184a39c8290@o31459.ingest.sentry.io/5395964",SENTRY_ENV:"kubeprod",TODAYS_REWARDS_URL:"https://www.todays-rewards.com"},s={blockerTemplates:["journey-blocker","journey-inline-blocker","journey-modal-blocker"],cdsOptIn:"H",cdsOptOut:"N",collapseScrollThreshold:100,daysToExpireHiddenCookie:365,daysToExpirePaywallView:30,daysToExpireViewsCookie:365,daysToExpireOptimizelyUserIdCookie:2,hoursToHideModalNewsletterAfterView:168,hoursToHideNewsletter:8760,hoursToHideTodaysRewards:720,hiddenCookieName:"journeyHidden",hiddenCookieTemplates:["journey-inline-newsletter","journey-modal-newsletter","journey-inline-todays-rewards","journey-collapsible-newsletter","journey-slim-banner"],idleTime:window.Number.parseInt(e,10),inViewThreshold:.2,jamUrl:t,journeyCompletedStatus:"completed",lastActionPromotionCookie:"journey-last-action",membershipAttributionCookie:"membership_attribution",newsletterIsIneligibleToMove:"ineligible_moveup",newsletterIsMoved:"moved",promotionCookiesTemplates:["journey-collapsible-meter","journey-blocker","journey-inline-meter","journey-inline-blocker","journey-modal-meter","journey-modal-blocker","journey-slim-banner"],optimizelyUserIdCookie:"optimizely-user-id",journeyOptimizelyUserIdCookie:"journey-optimizely-user-id",rufusUrl:`${o.replace(/\/$/,"")}/api/preference/signup`,sentryDsn:r,sentryEnv:i,subxExcludedTemplates:["journey-blocker","journey-inline-blocker","journey-modal-blocker","journey-collapsible-meter","journey-inline-meter","journey-modal-meter","journey-collapsible-newsletter","journey-content-gate"],todaysRewardsUrl:`${a.replace(/\/$/,"")}/`,viewsCookieName:"journeyViews"},l=e=>{if(!document.cookie.length)return null;const t=document.cookie.split(";").find(();return t?t.split("=")[1]:null},d=e=>{try{const t=l(e);return t?JSON.parse(t):void 0}catch(e){}},u=function(e,t){let n,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;if(o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),n=e.toUTCString()}document.cookie=`${e}=${t};${n?`expires=${n};`:""}path=/;${r?`domain=${r};`:""}`},c=function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;u(e,JSON.stringify(t),n,o)},p=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/ ;${t?`domain=${t};`:""}`},h=function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;e=e&&e.split?e.split("."):[].concat(e);for(let n=0;n<e.length;n+=1)t=t?t[e[n]]:void 0;return void 0===t||""===t||null===t?n:t},m=/^[a-z]{2,3}\.[a-z]{2,3}$/i,y=(e,t,n)=>{if(!e||!t)return e;const o=encodeURIComponent(t),r=n?`=${encodeURIComponent(n)}`:"";return`${e}${e.includes("?")?"&":"?"}${o}${r}`},b=()=>{const e=h("location.hostname",window,null).split("."),t=e.slice(-2).join(".");return m.test(t)?e.slice(-3).join("."):t},g=`.${b()}`;class w extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.renderContent=this.renderContent.bind(this),this.dispatchJourneyClickedEvent=this.dispatchJourneyClickedEvent.bind(this)}get abVariationName(){return this.getAttribute("data-ab-variation-name")}get collapsed(){return"true"===this.getAttribute("data-collapsed")}get data(){if(!this._data){const e=this.shadow.querySelector("#journey-datalayer");this._data=e?JSON.parse(e.innerHTML):{}}return this._data}get displayMode(){return"inline"}get moveInlineNewsletterUp(){return this.getAttribute("move-inline-newsletter-up")}et logInLink(){return this._logInLink||(this._logInLink=this.shadow.querySelector(".login-link")),this._logInLink}et journeyEventData(){const{logInLink:e,templateId:t,templateType:n,displayMode:o,data:r,view:i,abVariationName:a,moveInlineNewsletterUp:s,targetSelector:l}=this,d={templateType:n,displayMode:o,...r};return t&&(d.templateId=t),i&&(d.view=i),a&&(d.abVariationName=a),s&&(d.moveInlineNewsletterUp=s),e&&(d.ctaText=e.textContent,d.destinationLink=e.href),l&&"journey-slim-banner"===n&&(d.tags={position:"#journey-topnav"===l?"top":"bottom"}),d}get journeyPromotionData(){const{templateId:e,templateType:t,data:{templateName:n,promoName:o,cdsTrackingCode:r,promoId:i}}=this;return{templateId:e,templateType:t,cdsTrackingCode:r,creativeName:n,promotionId:i,promotionName:o}}get links(){return this._links||(this._links=this.shadow.querySelectorAll("[data-link-type]")),this._links}get view(){const e=window.Number.parseInt(this.getAttribute("data-view"),10);return window.Number.isNaN(e)?null:e}get viewsRemaining(){return this.getAttribute("data-views-remaining")}get targetSelector(){return this.getAttribute("data-target-selector")}et templateType(){return"journey-template"}attachInViewObserver(){new IntersectionObserver(((e,t)=>{e[0].isIntersecting&&(t.disconnect(),window.dispatchEvent(new CustomEvent("journey-inview",{detail:this.journeyEventData})))}),{threshold:s.inViewThreshold}).observe(this)}addQueryParamToOfferLinks(){this.shadow.querySelectorAll('a[data-link-type="offer"], a[data-link-type="promo"]').forEach((e=>{if("journey-inline-todays-rewards"===this.templateType)return void(e.href=y(e.href,"r",window.location.origin));const t=y(e.href,"mrefurl",window.location.pathname);e.href=this.optimizelyUserId?y(t,"optimizely_user_id",this.optimizelyUserId):t}))}etchTemplateData(){const e=this.getTemplateUrl();return e?fetch(e).then(():Promise.resolve(null)}dispatchJourneyDisplayedEvent(){const{journeyEventData:e}=this;window.dispatchEvent(new CustomEvent("journey-displayed",{detail:e}))}dispatchJourneyAbTestEvent(){this.abVariationName&&window.dispatchEvent(new CustomEvent("journey-ab-test",{detail:this.journeyEventData}))}dispatchDataLayerEvent(){const{templateType:e}=this;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:`${e} displayed`})}dispatchJourneyClickedEvent(e){const t=e.currentTarget.getAttribute("data-link-type"),n={...this.journeyEventData,linkType:t};window.dispatchEvent(new CustomEvent("journey-clicked",{detail:n}))}dispatchJourneyClosedEvent(){window.dispatchEvent(new CustomEvent("journey-closed",{detail:this.journeyEventData}))}getAuthUrl(e){const{minorSource:t}=this.data,{optimizelyUserId:n}=this;let o=y("/auth/csrf","action",e);return o=y(o,"return_url",window.location.href),o=t?y(o,"minor_source",t):o,n?y(o,"optimizely_user_id",n):o}getTemplateUrl(){const{templateId:e,viewsRemaining:t}=this;if(!e)return null;let n=`https://jam.hearstapps.com/templates/${e}`;const o=new URLSearchParams(window.location.search).get("journey_draft");return o&&(n=y(n,"draftSlug",o)),t&&(n=y(n,"viewsRemaining",t)),n}preventStickyVideo(){const{targetSelector:e,displayMode:t,templateType:n}=this;"#journey-container"===e&&("inline"===t||"modal"===t&&("journey-modal-meter"===n||"journey-modal-blocker"===n))&&(window.pianoOfferDisplayed=!0,window.journeyOfferDisplayed=!0)}renderContent(e){if(e){const t=(new DOMParser).parseFromString(e,"text/html").documentElement;this.shadow.appendChild(t),this.addQueryParamToOfferLinks(),this.updateAuthUrls(),this.attachInViewObserver(),this.dispatchJourneyDisplayedEvent(),this.dispatchJourneyAbTestEvent(),this.dispatchDataLayerEvent(),this.preventStickyVideo(),this.setLastActionPromotionCookie(),this.links.forEach((e=>{e.addEventListener("click",(t=>{this.dispatchJourneyClickedEvent(t),"offer"===e.getAttribute("data-link-type")&&this.setLastActionPromotionCookie(!0)}))}))}}setLastActionPromotionCookie(){let e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];s.promotionCookiesTemplates.includes(this.templateType)&&(e=>{const{title:t,display:n,wordCount:o,author:{name:r}={},section:{prefix:i}={},subSection:{prefix:a}={},collection:l=[]}=h("HRST.article",window,{}),d=h("location.pathname",window),u={articleLength:o,articleTitle:t,author:r,displayType:n,section:i,subsection:a,mrefurl:d,collections:l.map((),contentSource:h("HRST.datalayer.contentSource",window,""),...e};c(s.lastActionPromotionCookie,u,.25,g);const{isClick:p,cdsTrackingCode:m}=e;p&&c(s.membershipAttributionCookie,{mrefurl:d,cdsTrackingCode:m},.25,g)})({isClick:e,...this.journeyPromotionData})}updateAuthUrls(){const{isSignedIn:e}=this;this.shadow.querySelectorAll("a[data-link-type='login']").forEach((t=>e?void t.parentNode.removeChild(t):void(t.href=this.getAuthUrl("login")))),this.shadow.querySelectorAll("a[data-link-type='signup']").forEach((e=>{e.href=this.getAuthUrl("signup")}))}}const v=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,n=null;return o=>{clearTimeout(n),n=setTimeout((,t)}},j=["ArrowUp","ArrowDown","Space","Home","End","PageUp","PageDown"],f=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;const n=v((o=>{let{key:r}=o;r&&!j.includes(r)||(window.removeEventListener("wheel",n),window.removeEventListener("touchmove",n),window.removeEventListener("keydown",n),((e,t)=>{const n=document.documentElement.scrollTop,o=v((()=>{Math.abs(document.documentElement.scrollTop-n)<t||(e(),window.removeEventListener("scroll",o))}));window.addEventListener("scroll",o)})(e,t))}));window.addEventListener("wheel",n,{once:!0}),window.addEventListener("touchmove",n,{once:!0}),window.addEventListener("keydown",n)};const E=e=>e&&Object.keys(e).length?void c(s.hiddenCookieName,e,s.daysToExpireHiddenCookie):void c(s.hiddenCookieName,null,0),S=()=>{const e=d(s.hiddenCookieName);if(!e)return null;let t=!1;const n=(new Date).getTime(),o=Object.entries(e).reduce(((e,o)=>{let[r,i]=o;return i>n?e[r]=i:t=!0,e}),{});return t&&E(o),o},C=e=>{const t=S();return t&&!!t[e]},_=(e,t)=>{const n=S()||{};n[e]=(new Date).getTime()+60*t*60*1e3,E(n)},T=(e,t,n)=>{const o=e.ok?t:n;return e.headers.get("content-type").includes("application/json")?void e.json().then((t=>o({...t,status:e.status}))).catch(n):void e.text().then(().catch(n)},k=(e,t)=>{let n;switch(typeof e){case"string":n=e;break;case"object":n=e.message||e.error}return n||t},x=function(e,t,n){let o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"INLINE",r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"N"!==n;return new Promise(((i,a)=>{fetch(s.rufusUrl,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,preferences:[{preferenceId:t,optinValue:n}],analyticString1:"",analyticString2:"",majorSource:"WNL",minorSource:o,sendToEsp:r})}).then(().catch(a)}))},A=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,I=N=function(e,t){let o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const i=(()=>{const e=A.exec(s.sentryDsn);if(!e)return null;const[t,n,o="",r,i="",a]=e.slice(1);let l="",d=a;const u=d.split("/");if(1<u.length&&(l=u.slice(0,-1).join("/"),d=u.pop()),d){const e=d.match(/^\d+/);e&&([d]=e)}return`${t}://${r}${i?`:${i}`:""}${l?`/${l}`:""}/api/${d}/store/?sentry_key=${encodeURIComponent(n)}&sentry_version=7`})();if(!i)return;const{referrer:a}=n.g.document||{},{userAgent:l}=n.g.navigator||{},d={...a&&{Referer:a},...l&&{"User-Agent":l}},u={breadcrumbs:void 0,contexts:{"JAM Data":r},environment:s.sentryEnv,event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=0|16*Math.random();return("x"===e?t:8|3&t).toString(16)})),exception:{values:[{type:"RendererError",value:t?I(t):"No error message",mechanism:{handled:!0,type:"generic"}}]},extra:{...o,url:window.location.href},level:"error",platform:"javascript",timestamp:Date.now()/1e3,transaction:e,request:{url:window.location.href,headers:d}};fetch(i,{body:JSON.stringify(u),method:"POST",referrerPolicy:"origin"})};var L=n(2568),B=n.n(L);class D extends w{et emailElement(){return this._emailElement||(this._emailElement=this.shadow.querySelector(".input-email")),this._emailElement}t submitButton(){return this._submitButton||(this._submitButton=this.shadow.querySelector("#submit-button")),this._submitButton}get templateType(){return"journey-newsletter"}dispatchJourneySubmittedEvent(){const{journeyEventData:e,email:t}=this,n=B()(t);window.dispatchEvent(new CustomEvent("journey-submitted",{detail:{...e,"email-md5":n}}))}handleFocusIn(){}handleSubmit(e){e.preventDefault();const t=this.email&&this.email.trim();return/^[-!#$%&'*+/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/.test(t)?this.subscribeEmail(t,s.cdsOptIn,this.visitorEmailCaptured):this.visitorSubmittedInvalidEmail()}renderContent(e){e&&(super.renderContent(e),this.submitButton.addEventListener("click",this.handleSubmit),this.emailElement.addEventListener("focusin",this.handleFocusIn))}subscribeEmail(e,t,n){var o=this;const{authId:r}=this.data;x(e,r,t,this.minorSource).then(n).catch((function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};N("Rufus Error",k(e,"Error submitting to Rufus"),e,o.journeyEventData)}))}visitorEmailCaptured(){this.dispatchJourneySubmittedEvent(),_(this.templateId,s.hoursToHideNewsletter)}class O extends w{constructor(){super(),this.connectedCallBackCalled=!1,this.setBottom=this.setBottom.bind(this)}get adhesionCloseButton(){return this._adhesionCloseButton||(this._adhesionCloseButton=document.querySelector(".mobile-adhesion-unit-close-button")),this._adhesionCloseButton}get adhesionUnit(){return this._adhesionUnit||(this._adhesionUnit=document.querySelector(".mobile-adhesion-unit")),this._adhesionUnit}get containerWrapper(){return this._containerWrapper||(this._containerWrapper=document.querySelector(".journey-container-wrapper")),this._containerWrapper}chAdCloseEvent(){this._adCloseEventAttached||!this.adhesionCloseButton||(["click","touchstart"].forEach((e=>this.adhesionCloseButton.addEventListener(e,())),this._adCloseEventAttached=!0)}attachAdUnitEvents(){window.addEventListener("adRendered",(e=>{let{detail:t}=e;"gpt_adhesion"===t.id&&(this.setBottom(),this.attachAdCloseEvent())})),this.attachAdCloseEvent()}attachInViewObserver(){}connectedCallback(){this.connectedCallBackCalled||(super.connectedCallback(),this.connectedCallBackCalled=!0)}resetPadding(){new MutationObserver((()=>{const e=window.getComputedStyle(this.containerWrapper).getPropertyValue("padding-bottom");e.startsWith("0")||(this.containerWrapper.nextElementSibling.style.paddingBottom=e,this.containerWrapper.style.paddingBottom="0")})).observe(this.containerWrapper,{attributes:!0})}renderContent(e){e&&(super.renderContent(e),this.containerWrapper.style.pointerEvents="none",!h("__NEXT_DATA__",window)&&(this.containerWrapper.parentElement.after(this.containerWrapper),this.containerWrapper.style.height="unset",this.containerWrapper.style.position="sticky",this.journeyContainer.style.position="initial",this.journeyContainer.style.transform="none",this.resetPadding()),this.initialBottom=window.getComputedStyle(this.outerWrapper).getPropertyValue("bottom")||"0px",this.setBottom(),this.isMobileScreen.addEventListener("change",(),this.attachAdUnitEvents(),window.dispatchEvent(new CustomEvent("journey-inview",{detail:this.journeyEventData})))}setBottom(){let e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];const{containerWrapper:t,initialBottom:n}=this;if(!this.isMobileScreen.matches||e)return void t.style.setProperty("bottom",n);const{adhesionUnit:o}=this;o&&t.style.setProperty("bottom",`calc(${n} + ${o.offsetHeight||0}px)`)}}const U=["scroll","keydown","visibilitychange"],q=U.concat(["mousedown","mousemove","touchstart","touchmove"]),H=U.concat(["pointerdown","pointermove"]);const P=e=>{e.on("playing",e.pause),e.on("ads-ad-started",(()=>{e.ima.pauseAd(),e.ima.addEventListener("resume",e.ima.pauseAd)}))},M=e=>{if(e){document.querySelector(".watch-next-in-body, .embed-video")&&(window.addEventListener("newHearstPlayerInit",(t=>{const{detail:{player:n={}}={}}=t;n.el&&e.contains(n.el())&&P(n)})),window.videojs&&e.querySelectorAll("video[id*='hearstPlayer']").forEach((e=>{const t=window.videojs.getPlayer(e.id);P(t)})))}},R=W=e=>{for(;e;)R(e),e=e.previousElementSibling},$={"standard-article":".standard-body>.standard-body-content","long-form-article":".longform-body",listicle:".listicle-intro",recipe:".recipe-introduction"},V=(e,t)=>{const n=document.querySelectorAll(e);if(0===n.length)return{};if(1===n.length)return{element:n[0],num:1};const o=n.length<=t?n.length-1:t;return{element:n[o-1],num:o}},Y=e=>{if(!!h("__NEXT_DATA__",window))return V("[data-journey-body=listicle] [data-journey-listicle-introduction] [data-journey-content],[data-journey-body=longform-article]>[data-journey-content],[data-journey-body=recipe] [data-journey-recipe-introduction] [data-journey-content],[data-journey-body=standard-article]>[data-journey-content]",e);const t=$[h("journeyData.displayType",window,null)];return t?V(`${t}>p`,e):{}},z={"standard-article":"[data-journey-blur]:not([data-journey-unblur]),[data-journey-body=standard-article]:not([data-journey-unblur])>:not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}","longform-article":"[data-journey-blur]:not([data-journey-unblur]),[data-journey-body=longform-article]:not([data-journey-unblur])>:not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}",recipe:"[data-journey-blur]:not([data-journey-unblur]),[data-journey-body=recipe]:not([data-journey-unblur]) [data-journey-recipe-article-body]:not([data-journey-unblur])>:not([data-journey-unblur]),[data-journey-body=recipe]:not([data-journey-unblur]) [data-journey-recipe-introduction]:not([data-journey-unblur])>:not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}",gallery:"[data-journey-blur]:not([data-journey-unblur]),[data-journey-body=gallery]:not([data-journey-unblur]) [data-journey-content]:not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}",listicle:"[data-journey-blur]:not([data-journey-unblur]),[data-journey-body=listicle]:not([data-journey-unblur]) [data-journey-listicle-introduction]:not([data-journey-unblur])>:not([data-journey-unblur]),[data-journey-body=listicle]:not([data-journey-unblur]) [data-journey-listicle-slide]:not([data-journey-unblur]) [data-journey-content]:not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}"},J={"standard-article":"[data-journey-blur=partial]:not([data-journey-unblur]),[data-journey-body=standard-article]:not([data-journey-unblur])>[data-journey-content]:nth-of-type({preview-num})~:not(journey-inline-blocker):not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}","longform-article":"[data-journey-blur=partial]:not([data-journey-unblur]),[data-journey-body=longform-article]:not([data-journey-unblur])>[data-journey-content]:nth-of-type({preview-num})~:not(journey-inline-blocker):not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}",recipe:"[data-journey-body=recipe]:not([data-journey-unblur]) [data-journey-recipe-introduction]:not([data-journey-unblur]),[data-journey-body=recipe]:not([data-journey-unblur]) [data-journey-recipe-introduction]:not([data-journey-unblur])+div{-webkit-line-clamp:initial;background:0 0;margin-top:0}[data-journey-blur=partial]:not([data-journey-unblur]),[data-journey-body=recipe]:not([data-journey-unblur]) [data-journey-recipe-article-body]:not([data-journey-unblur])>:not([data-journey-unblur]),[data-journey-body=recipe]:not([data-journey-unblur]) [data-journey-recipe-introduction]:not([data-journey-unblur])>[data-journey-content]:nth-of-type({preview-num})~:not(journey-inline-blocker):not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}",listicle:"[data-journey-blur=partial]:not([data-journey-unblur]),[data-journey-body=listicle]:not([data-journey-unblur]) [data-journey-listicle-introduction]:not([data-journey-unblur])>[data-journey-content]:nth-of-type({preview-num})~:not(journey-inline-blocker):not([data-journey-unblur]),[data-journey-body=listicle]:not([data-journey-unblur]) [data-journey-listicle-slide]:not([data-journey-unblur]) [data-journey-content]:not([data-journey-unblur]){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}"},F=Z=e=>{const t=Number.parseInt(e,10);if(Number.isNaN(t)||0>=t)return void(()=>{const e=h("journeyData.displayType",window),t=z[e];t&&F(t)})();const{num:n}=Y(t);!n||0>=n||(e=>{const t=h("journeyData.displayType",window);let n=J[t];n&&(n=n.replace("{preview-num}",e),F(n))})(n)},X=(e,t)=>{!!h("__NEXT_DATA__",window)||(e=>{const t=document.createElement("style");t.innerHTML='\n#main-content .content-header-actions:not(.journey-unblur-content),\n.article-container>.article-body>*:not(.breaker-ad):not(.vertical-ad):not(.journey-unblur-content),\n.content-container .video-player,\n.authors:not(.journey-unblur-content),\n.slideshow-container nav:not(.journey-unblur-content),\n.gallery-body-content>:not(.slideshow-container):not(.journey-unblur-content),\n.slide-container:not(.journey-unblur-content)>:not(.journey-unblur-content)>:not([class*="-ad"],[class*="ad-"]),\n.listicle-body>.content-lede-image:not(.journey-unblur-content),\n.listicle-body-content>.listicle-slide:not(.journey-unblur-content),\n.listicle-body-content .listicle-slides:not(.journey-unblur-content),\n.listicle-body-content .syndicate-source-link:not(.journey-unblur-content),\n.listicle-body-content #journey-inline:not(.journey-unblur-content),\n.listicle-intro:not(.journey-unblur-content),\n.recipe-introduction:not(.journey-unblur-content),\n.recipe-container>.recipe-body>*:not(.breaker-ad):not(.vertical-ad):not(.recipe-lede-video):not(.journey-unblur-content),\n.slideshow-slide:not(.journey-unblur-content),\n.slideshow-inner>.slideshow-lede>*:not(.breaker-ad):not(.vertical-ad):not(.journey-unblur-content),\n.standard-body>.content-lede-image:not(.journey-unblur-content),\n.standard-body>.standard-body-content>*:not(.breaker-ad):not(.vertical-ad):not(.end-of-content-playlist):not(.journey-unblur-content),\n.watch-next-in-body:not(.journey-unblur-content),\n.journey-blur-content:not(.journey-unblur-content) > *:not([class*="-ad"],[class*="ad-"]),\n#livestream:not(.journey-unblur-content){filter:blur(.625rem);pointer-events:none!important;user-select:none!important}',document.body.appendChild(t),M(document.querySelector(".standard-body-content, .listicle-body-content, .longform-body, .recipe-body"));const n=document.querySelector(".recipe-body .vertical-ad");n&&R(n.parentElement);const o=document.querySelector(".slideshow-container .standard-article-vertical-ad");if(o&&R(o.parentElement),"journey-inline-blocker"===e){const e=document.querySelector("journey-inline-blocker"),t=document.querySelector(".content-lead-image"),n=document.querySelector(".content-header-actions"),o=document.querySelector(".content-container .video-player");W(e),W(e.parentElement),W(e.parentElement.parentElement),t&&R(t),n&&R(n),o&&R(o),(e=>{for(let t=e.nextElementSibling;t;)/-ad|ad-/.test(t.className)||t.classList.add("journey-blur-content"),t=t.nextElementSibling})(e)}})(t),Z(e),M(document.querySelector("[data-journey-body]"))},K=(e,t)=>{const{element:n,num:o}=Y(t);n&&n.after(e)},Q=e=>{window.JOURNEY_INFO=window.JOURNEY_INFO||{},window.JOURNEY_INFO.status=s.journeyCompletedStatus,window.JOURNEY_INFO.blocked=e||!1,window.JOURNEY_BLOCKED=!!e,window.dispatchEvent(new CustomEvent("journey-info",{detail:window.JOURNEY_INFO}))},G=e=>{h("journeyData.subxEnabled",window,!1)||Q(e)},ee=()=>{const e=d(s.viewsCookieName);if(!e)return null;const t={},n=(new Date).getTime();return Object.entries(e).forEach((e=>{let[o,r]=e;r.expiryDate<n||(t[o]=r)})),t},te=(e,t)=>{const n=window.HRST.article.id,o=ee();let r;if(!o||!o[e]){const t={...o,[e]:{articles:[n],expiryDate:(new Date).getTime()+24*s.daysToExpirePaywallView*60*60*1e3}};return c(s.viewsCookieName,t,s.daysToExpireViewsCookie),1}const i=o[e].articles;let a=i.length;return i.includes(n)?r=t:((!t||a<t)&&i.push(n),a+=1,r=t+1),c(s.viewsCookieName,o,s.daysToExpireViewsCookie),Math.min(a,r)},ne=()=>{const e=h("__NEXT_DATA__.props.appProps.providerData.abTesting.flags",window,null);if(e){const t=e.some(();t&&u(s.journeyOptimizelyUserIdCookie,l(s.optimizelyUserIdCookie),s.daysToExpireOptimizelyUserIdCookie,`.${b()}`)}},oe=e=>{const t=document.querySelector(e);if(t){(e=>{const t=document.createElement("style");t.innerHTML=`\n    .journey-gate-hide {\n      position: relative;\n      clear:both;\n      margin-left: -0.938rem;\n      margin-right: -0.938rem;\n    }\n  \n    .journey-gate-hide:before {\n      background:linear-gradient(rgba(255,255,255,0), #fff);\n      content:'';\n      height:10rem;\n      left:0;\n      pointer-events: none;\n      position:absolute;\n      top:-10rem;\n      width:100%;\n    }\n  \n    .journey-gate-hide ~ * {\n      display: none !important;\n    }\n  \n    @media (min-width: 48rem) {\n      .journey-gate-hide{\n         margin-left: 0;\n         margin-right:0;\n      }\n    }\n  \n    ${e} {\n      clear: both;\n      text-align: center;\n    }`,document.body.appendChild(t)})(e);const n=document.createElement("div");n.classList.add("journey-gate-hide"),t.before(n);const o=document.querySelector(".content-container");o&&o.appendChild(t)}},re=e=>{const t=[];return e.forEach((e=>{const{targetSelector:n,paywallId:o,maxPageViews:r,templates:i,abVariationName:a,previewParagraphsNum:l,pNumAboveInlineTemplate:d}=e;if(o&&r&&i){const t=te(o,r),s=i.find(();e={abVariationName:a,pNumAboveInlineTemplate:d,previewParagraphsNum:l,view:t,targetSelector:s&&s.targetSelector?s.targetSelector:n,viewsRemaining:r>t?r-t:0,...s}}return e.targetElement=document.querySelector(e.targetSelector),!e.targetElement||!e.templateType||!e.templateId&&"journey-hidden-meter"!==e.templateType||h("JOURNEY_INFO.ads",window,!1)&&s.blockerTemplates.includes(e.templateType)||"journey-modal-newsletter"===e.templateType&&!h("HRST.site.jam-journey-modals-enabled",window,!1)||"journey-slim-banner"===e.templateType&&"#journey-topnav"===e.targetSelector&&h("__NEXT_DATA__.props.pageProps.data.content.0.metadata.photo_snap_gallery",window,null)||s.hiddenCookieTemplates.includes(e.templateType)&&C(e.templateId)||h("journeyData.subxEnabled",window,!1)&&s.subxExcludedTemplates.includes(e.templateType)?void(e=>{e&&window.dispatchEvent(new CustomEvent("journey-ab-test",{detail:{abVariationName:e}}))})(e.abVariationName):void t.push(e)})),t},ie=(e,t)=>{const n=h("journeyData.displayType",window,null),{templateType:o,targetElement:r,pNumAboveInlineTemplate:i,moveNewsletterUp:a}=e,l=(e=>{const{templateId:t,templateType:n,targetSelector:o,view:r,viewsRemaining:i,collapsed:a,abVariationName:s,pNumAboveInlineTemplate:l,previewParagraphsNum:d}=e,u=document.createElement(n);return u.setAttribute("data-is-signed-in",h("journeyData.signedIn",window,!1)),u.setAttribute("data-target-selector",o),u.setAttribute("data-template-id",t),s&&u.setAttribute("data-ab-variation-name",s),window.Number.isInteger(r)&&u.setAttribute("data-view",r),a&&u.setAttribute("data-collapsed",a),window.Number.isInteger(i)&&u.setAttribute("data-views-remaining",i),"journey-modal-newsletter"===n&&u.setAttribute("aria-hidden",!0),window.Number.isInteger(l)&&u.setAttribute("data-preview-paragraphs-number",l),window.Number.isInteger(d)&&u.setAttribute("data-preview-paragraphs-number",d),u})(e);return"journey-modal-newsletter"===o?void document.body.appendChild(l):"journey-inline-newsletter"===o&&!t&&["standard-article","longform-article"].includes(n)&&a?void((e,t)=>{const n=h("journeyData.displayType",window,null),o=document.querySelectorAll("standard-article"===n?".article-body-content>p":".longform-body>p"),r=o[Math.floor(o.length/2)-1];10>=o.length||r.offsetHeight<(768>window.innerWidth?155:95)||"P"!==r.nextSibling.tagName?(t.appendChild(e),e.setAttribute("move-inline-newsletter-up",s.newsletterIsIneligibleToMove)):(r.after(e),e.setAttribute("move-inline-newsletter-up",s.newsletterIsMoved))})(l,r):"journey-inline-blocker"===e.templateType||"journey-inline-meter"===e.templateType?void K(l,i):void r.appendChild(l)},ae=(()=>{let e=!1;return t=>{if(!e){const{siteId:n,...o}=t||{};n&&(e=!0,p(s.lastActionPromotionCookie,g),p(s.membershipAttributionCookie,g),((e,t)=>{const n=new URLSearchParams(window.location.search).get("journey_version");return n&&(t.journey_version=n),fetch(`${s.jamUrl}/rules/match/${e}?${new URLSearchParams(t).toString()}`)})(n,o).then((e=>e.ok?void e.json().then((e=>{let{data:t}=e;return t?void(e=>{const t=re(e),n=t.find(();let o;if(n){const{templateType:e,previewParagraphsNum:t}=n;o="journey-inline-blocker"===e||t?"partial":"full"}G(o),ne();const r=t.findIndex(();if(n&&-1!==r){const e=t[r];t.splice(r,1),t.unshift(e)}const i=t.find(();t.forEach(()})(t):void G()})):void G())))}}})();customElements.define("journey-template",w),customElements.define("journey-content-gate",class extends w{et templateType(){return"journey-content-gate"}connectedCallback(){if(!this.connectedCallBackCalled){super.connectedCallback(),this.connectedCallBackCalled=!0;const{targetSelector:e}=this;window.dispatchEvent(new CustomEvent("journey-hide-content",{detail:{targetSelector:e}}))}}}),customElements.define("journey-blocker",class extends w{get templateType(){return"journey-blocker"}get previewParagraphsNum(){return Number.parseInt(this.getAttribute("data-preview-paragraphs-number"),10)||0}connectedCallback(){super.connectedCallback();const{templateType:e,previewParagraphsNum:t}=this;window.dispatchEvent(new CustomEvent("journey-blur-content",{detail:{templateType:e,previewParagraphsNum:t}}))}}),customElements.define("journey-inline-blocker",class extends w{get previewParagraphsNum(){return Number.parseInt(this.getAttribute("data-preview-paragraphs-number"),10)||0}get templateType(){return"journey-inline-blocker"}connectedCallback(){super.connectedCallback();const{templateType:e,previewParagraphsNum:t}=this;window.dispatchEvent(new CustomEvent("journey-blur-content",{detail:{templateType:e,previewParagraphsNum:t}}))}getTemplateUrl(){let e=super.getTemplateUrl();const t=!!h("__NEXT_DATA__",window),n=h("journeyData.displayType",window,null);return n&&!t&&(e=y(e,"displayType",n)),e}}),customElements.define("journey-inline-meter",class extends w{get templateType(){return"journey-inline-meter"}getTemplateUrl(){let e=super.getTemplateUrl();const t=!!h("__NEXT_DATA__",window),n=h("journeyData.displayType",window,null);return n&&!t&&(e=y(e,"displayType",n)),e}}),customElements.define("journey-collapsible-meter",class extends w{et collapseButton(){return this._collapseButton||(this._collapseButton=this.shadow.querySelector("#collapse-btn")),this._collapseButton}get collapsedSection(){return this._collapsedSection||(this._collapsedSection=this.shadow.querySelector(".collapsed-section")),this._collapsedSection}get expandButton(){return this._expandButton||(this._expandButton=this.shadow.querySelector("#expand-btn")),this._expandButton}get expandedSection(){return this._expandedSection||(this._expandedSection=this.shadow.querySelector(".expanded-section")),this._expandedSection}get isExpanded(){return this.templateOuterWrapper.classList.contains("expanded")}get templateOuterWrapper(){return this._templateOuterWrapper||(this._templateOuterWrapper=this.shadow.querySelector(".template-outer-wrapper")),this._templateOuterWrapper}get templateType(){return"journey-collapsible-meter"}toggleCollapse(e){const{templateOuterWrapper:t}=this;t.classList.toggle("collapsed",e),t.classList.toggle("expanded",!e)}setHeight(){const{templateOuterWrapper:e,isExpanded:t}=this;e.style.maxHeight=`${t?this.expandedSection.offsetHeight:this.collapsedSection.offsetHeight}px`}collapseContent(){this.toggleCollapse(!0),this.setHeight()}enderContent(e){if(!e)return null;super.renderContent(e);const{collapseButton:t,expandButton:n,collapsed:o,isExpanded:r}=this;return t.addEventListener("click",this.collapseContent),n.addEventListener("click",this.expandContent),f(this.collapseContent,s.collapseScrollThreshold),r&&!o?this.expandContent():this.collapseContent()}}),customElements.define("journey-modal-meter",class extends O{et collapsedSection(){return this._collapsedSection||(this._collapsedSection=this.shadow.querySelector(".collapsed-section")),this._collapsedSection}get expandButton(){return this._expandButton||(this._expandButton=this.shadow.querySelector("#control-btn")),this._expandButton}get expandedSection(){return this._expandedSection||(this._expandedSection=this.shadow.querySelector(".expanded-section")),this._expandedSection}et templateType(){return"journey-modal-meter"}setHeight(){const{outerWrapper:e,isExpanded:t}=this;e.style.maxHeight=`${t?this.expandedSection.offsetHeight:this.collapsedSection.offsetHeight}px`,h("__NEXT_DATA__",window)||(this.containerWrapper.style.height="unset")}toggleCollapse(e){const{outerWrapper:t}=this;t.classList.toggle("collapsed",e),t.classList.toggle("expanded",!e)}toggleContent(){const{isExpanded:e}=this;this.toggleCollapse(e),this.setHeight()}renderContent(e){e&&(super.renderContent(e),this.expandButton.addEventListener("click",this.toggleContent),this.setHeight(),f((,s.collapseScrollThreshold))}}),customElements.define("journey-modal-blocker",class extends O{get templateType(){return"journey-modal-blocker"}connectedCallback(){super.connectedCallback();const{templateType:e}=this;window.dispatchEvent(new CustomEvent("journey-blur-content",{detail:{templateType:e}}))}}),customElements.define("journey-slim-banner",class extends w{constructor(){super(),this.close=this.close.bind(this)}get templateType(){return"journey-slim-banner"}get closeButton(){return this._closeButton||(this._closeButton=this.shadow.querySelector(".close-button")),this._closeButton}close(){const{hoursToHideAfterView:e}=this.data;0<e&&_(this.templateId,e),this.dispatchJourneyClosedEvent(),this.remove()}enderContent(e){e&&(super.renderContent(e),this.addCloseListener())}}),customElements.define("journey-hidden-meter",class extends w{get templateType(){return"journey-hidden-meter"}connectedCallback(){}}),customElements.define("journey-inline-newsletter",class extends D{get mainSection(){return this._mainSection||(this._mainSection=this.shadow.querySelector(".main-section")),this._mainSection}get thankYouContainer(){return this._thankYouContainer||(this._thankYouContainer=this.shadow.querySelector(".thank-you-container")),this._thankYouContainer}get templateType(){return"journey-inline-newsletter"}handleFocusIn(){this.mainSection.classList.remove("error")}visitorEmailCaptured(){const{mainSection:e,thankYouContainer:t,submitButton:n}=this;e.style.display="none",t.style.display="block",n.blur(),super.visitorEmailCaptured()}visitorSubmittedInvalidEmail(){super.visitorSubmittedInvalidEmail(),this.mainSection.classList.add("error")}}),customElements.define("journey-modal-newsletter",class extends D{constructor(){super(),this.open=this.open.bind(this),this.close=this.close.bind(this),this.keydownEventHandler=this.keydownEventHandler.bind(this),this.resetIdleTimer=v(this.open,1e3*s.idleTime)}get activityEventset ariaHidden(e){return e?void this.setAttribute("aria-hidden",!0):void this.removeAttribute("aria-hidden")}get cancelButton(){return this._cancelButton||(this._cancelButton=this.shadow.querySelector("#cancel-button")),this._cancelButton}get closeButton(){return this._closeButton||(this._closeButton=this.shadow.querySelector(".modal-close")),this._closeButton}get displayMode(){return"modal"}get errorMessage(){return this._errorMessage||(this._errorMessage=this.shadow.querySelector(".error-message")),this._errorMessage}get focusable(){return this._focusable||(this._focusable=Array.from(this.shadow.querySelectorAll('a[href], input:not([disabled]), button:not([disabled]), [tabindex="0"]'))),this._focusable}get minorSource(){return this.data.minorSource||"MODAL"}get overlay(){return this._overlay||(this._overlay=this.shadow.querySelector(".modal-overlay")),this._overlay}get templateType(){return"journey-modal-newsletter"}attachInViewObserver(){}close(){this.ariaHidden=!0,this.lastActiveElement&&this.lastActiveElement.focus(),document.removeEventListener("keydown",this.keydownEventHandler),window.dispatchEvent(new CustomEvent("journey-modal-close",{detail:this.journeyEventData}))}handleFocusIn(){super.handleFocusIn(),this.errorMessage.style.display="none"}keydownEventHandler(e){if("Escape"===e.key)return void this.close(e);if("Tab"!==e.key)return;const{focusable:t}=this,{0:n,[t.length-1]:o}=t;e.shiftKey&&this.shadow.activeElement===n?(o.focus(),e.preventDefault()):this.shadow.activeElement===o&&(n.focus(),e.preventDefault())}open(){this.lastActiveElement=document.activeElement,this.unbindActivityEvents(),window.journeyModalOpened||(window.journeyModalOpened=!0,document.addEventListener("keydown",this.keydownEventHandler),this.ariaHidden=!1,this.emailElement.focus(),window.dispatchEvent(new CustomEvent("journey-inview",{detail:this.journeyEventData})),window.dispatchEvent(new CustomEvent("journey-modal-open",{detail:this.journeyEventData})),_(this.templateId,s.hoursToHideModalNewsletterAfterView))}enderContent(e){e&&(super.renderContent(e),this.addCloseListeners(),this.startIdleTimer())}startIdleTimer(){this.activityEvents.forEach((e=>document.addEventListener(e,this.resetIdleTimer,{capture:!0,passive:!0}))),this.resetIdleTimer()}unbindActivityEvents(){this.activityEvents.forEach((e=>document.removeEventListener(e,this.resetIdleTimer,{capture:!0,passive:!0})))}visitorEmailCaptured(){this.close(),super.visitorEmailCaptured()}visitorSubmittedInvalidEmail(){super.visitorSubmittedInvalidEmail(),this.errorMessage.style.display="block"}}),customElements.define("journey-inline-todays-rewards",class extends w{constructor(){super(),this.handleCancel=this.handleCancel.bind(this),this.handleVisitSite=this.handleVisitSite.bind(this)}get cancelButton(){return this._cancelButton||(this._cancelButton=this.shadow.querySelector(".cancel-btn")),this._cancelButton}get mainSection(){return this._mainSection||(this._mainSection=this.shadow.querySelector(".main-section")),this._mainSection}get templateType(){return"journey-inline-todays-rewards"}get thankYouContainer(){return this._thankYouContainer||(this._thankYouContainer=this.shadow.querySelector(".thank-you-container")),this._thankYouContainer}get visitSiteButton(){return this._visitSiteButton||(this._visitSiteButton=this.shadow.querySelector(".redirect-btn")),this._visitSiteButton}handleCancel(){_(this.templateId,s.hoursToHideTodaysRewards),this.parentNode.removeChild(this)}handleVisitSite(){const{mainSection:e,thankYouContainer:t}=this;e.style.display="none",t.style.display="block"}renderContent(e){e&&(super.renderContent(e),this.visitSiteButton.addEventListener("click",this.handleVisitSite),this.cancelButton.addEventListener("click",this.handleCancel))}}),customElements.define("journey-collapsible-newsletter",class extends D{et closeButton(){return this._closeButton||(this._closeButton=this.shadow.querySelector("#close-btn")),this._closeButton}get collapseButton(){return this._collapseButton||(this._collapseButton=this.shadow.querySelector("#collapse-btn")),this._collapseButton}get collapsedSection(){return this._collapsedSection||(this._collapsedSection=this.shadow.querySelector(".collapsed-section")),this._collapsedSection}get expandButton(){return this._expandButton||(this._expandButton=this.shadow.querySelector("#expand-btn")),this._expandButton}get expandedSection(){return this._expandedSection||(this._expandedSection=this.shadow.querySelector(".expanded-section")),this._expandedSection}get isConfirmed(){return this.templateOuterWrapper.classList.contains("confirmed")}get isExpanded(){return this.templateOuterWrapper.classList.contains("expanded")}get mainSection(){return this._mainSection||(this._mainSection=this.shadow.querySelector(".main-section")),this._mainSection}get templateOuterWrapper(){return this._templateOuterWrapper||(this._templateOuterWrapper=this.shadow.querySelector(".template-outer-wrapper")),this._templateOuterWrapper}get templateType(){return"journey-collapsible-newsletter"}get thankYouContainer(){return this._thankYouContainer||(this._thankYouContainer=this.shadow.querySelector(".thank-you-container")),this._thankYouContainer}ollapseContent(){this.toggleStatus("collapsed")}displayThankYouMessage(){this.toggleStatus("confirmed"),setTimeout(this.close,1e4)}nderContent(e){e&&(super.renderContent(e),f(this.collapseContent,s.collapseScrollThreshold),this.closeButton.addEventListener("click",this.close),this.collapseButton.addEventListener("click",this.collapseContent),this.expandButton.addEventListener("click",this.expandContent),(this.isExpanded&&!this.collapsed?this.expandContent:this.collapseContent)())}setHeight(e){const{templateOuterWrapper:t}=this;t.style.maxHeight=`${"expanded"===e?this.expandedSection.offsetHeight:this.collapsedSection.offsetHeight}px`}toggleStatus(e){const{templateOuterWrapper:t,isConfirmed:n}=this;n||(t.classList.toggle("collapsed","collapsed"===e),t.classList.toggle("expanded","expanded"===e),t.classList.toggle("confirmed","confirmed"===e),this.setHeight(e))}isitorSubmittedInvalidEmail(){this.mainSection.classList.add("error"),super.visitorSubmittedInvalidEmail()}}),ae(window.journeyData),window.addEventListener("journey-init",(),window.addEventListener("journey-hide-content",(),window.addEventListener("journey-blur-content",(e=>{let{detail:t}=e;if(!h("journeyData.subxEnabled",window,!1)){const{templateType:e,previewParagraphsNum:n}=t||{};X(n,e)}})),window.addEventListener("journey-modal-open",(),window.addEventListener("journey-modal-close",(()=>{const e=document.querySelector("#sidepanel");e&&"true"!==e.getAttribute("aria-hidden")||(document.documentElement.classList.remove("no-scroll"),document.body.classList.remove("no-scroll"))}))})()})();