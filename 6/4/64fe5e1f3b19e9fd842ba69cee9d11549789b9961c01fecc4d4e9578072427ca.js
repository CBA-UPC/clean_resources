(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[481],{96462:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:);var r=a(45418),n=a.n(r),l=a(30423),o=a(71232),i=a(98988),c=a(39977);const s=e=>()=>{const{isOpenById:t,openModalById:a,closeModalById:n,getData:l}=(0,c.vR)();return(0,r.useMemo)((()=>({isOpen:t(e),openModal:t=>a(e,t),closeModal:()=>n(e),cancelModal:()=>n(e,c.tn.Cancel),getData:()=>l(e)})),[t,a,n,l])};var d=a(61629),u=a(77135),m=a(92270),p=a(13405),b=a(28901),g=a(73625),v=a(94203),E=Object.defineProperty,y=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,O=(e,t,a)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,C=(e,t)=>{for(var a in t||(t={}))f.call(t,a)&&O(e,a,t[a]);if(y)for(var a of y(t))h.call(t,a)&&O(e,a,t[a]);return e},I=(e,t)=>{var a={};for(var r in e)f.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&h.call(e,r)&&(a[r]=e[r]);return a};const w=[p.Uo.xs,p.Uo.sm,p.Uo.md,p.Uo.lg,p.Uo.xl,p.Uo.xxl],S=e=>w.reduce(((t,a)=>((0,g.Z)(1,e+1).forEach((r=>{t[`&.egs-span-${a}-${r}`]="xs"===a?{width:r/e*100+"%"}:{[p.Uc[a]]:{width:r/e*100+"%"}}}),{}),t)),{}),x={12:S(12),16:S(16)},P=(0,m.i)(((e,{columns:t,spacing:a})=>({root:(0,b.iv)({display:"flex",flexWrap:"wrap",flexBasis:0,flexGrow:1,marginTop:-1*a,marginRight:a/-2,marginLeft:a/-2,"> .egs-grid-item":C({paddingRight:a/2,paddingLeft:a/2,marginTop:a},x[t])}),fillParent:(0,b.iv)({width:"100%",height:"100%"})}))),k=(0,m.i)((()=>({root:(0,b.iv)({boxSizing:"border-box",flex:"0 0 auto",maxWidth:"100%"}),autoLayout:(0,b.iv)({flexBasis:0,flexGrow:1,maxWidth:"100%"})}))),N=e=>{var t=e,{children:a,spacing:n=0,columns:l=12}=t,o=I(t,["children","spacing","columns"]);const i=P({columns:l,spacing:n}),c=(0,v.Z)(["className"],o);return r.createElement(d.x,C({className:i.root},c),a)},L=e=>{var t=e,{children:a,xs:n,sm:l,md:o,lg:i,xl:c,xxl:s}=t,u=I(t,["children","xs","sm","md","lg","xl","xxl"]);const m=k(),p=(0,b.cx)(m.root,"egs-grid-item",{[m.autoLayout]:!0===n,[`egs-span-xs-${n}`]:!!n,[`egs-span-sm-${l}`]:!!l,[`egs-span-md-${o}`]:!!o,[`egs-span-lg-${i}`]:!!i,[`egs-span-xl-${c}`]:!!c,[`egs-span-xxl-${s}`]:!!s}),g=(0,v.Z)(["className"],u);return r.createElement(d.E,C({className:p},g),a)};var j=a(52933),M=a(18310),A=a(80199),T=a(60180),_=a(21624),D=a(24428),R=a(7464),B=a(2139),Z=a(31265),F=a(85858),U=a(21650),W=a(42925),K=a(89484),z=Object.defineProperty,V=Object.defineProperties,H=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,Y=(e,t,a)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,J=(e,t)=>{for(var a in t||(t={}))G.call(t,a)&&Y(e,a,t[a]);if($)for(var a of $(t))q.call(t,a)&&Y(e,a,t[a]);return e};const X=J({},R.Ey),Q=(0,m.i)(((e,{background:t,noBackground:a,noBorder:r,error:n})=>({root:(0,b.iv)({display:"inline-flex",flexDirection:"column",position:"relative",width:"100%",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"}),input:(0,b.iv)((0,W.Bt)(e),J({color:e.textPrimary,backgroundColor:a?"transparent":e[t],width:"100%",padding:"0 20px",borderRadius:U.E0,boxSizing:"border-box !important","&::placeholder":{color:`${e.textSecondary} !important`}},r?{}:{border:`1px solid ${n?K.g[e.mode].error:e.textSecondary}`,"&:not(:focus)":{borderColor:n?K.g[e.mode].error:e.textSecondary}})),helperText:(0,b.iv)({position:"absolute",bottom:-20,left:0}),helperColor:(0,b.iv)({color:e.textSecondary}),errorColor:(0,b.iv)({color:K.g[e.mode].error}),label:(0,b.iv)({marginBottom:5})}))),ee=e=>{var t=e,{background:a="level1",error:n=!1,helperText:l="",id:o,inputHeight:i=X.STANDARD,label:c,noBackground:s=!1,noBorder:d=!1,shouldAutoFocus:u}=t,m=((e,t)=>{var a={};for(var r in e)G.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&$)for(var r of $(e))t.indexOf(r)<0&&q.call(e,r)&&(a[r]=e[r]);return a})(t,["background","error","helperText","id","inputHeight","label","noBackground","noBorder","shouldAutoFocus"]);const p=Q({background:a,noBackground:s,noBorder:d,error:n}),g=(0,b.cx)(p.input,D.Z.buttonHeights[i]),v=r.useRef(null);return r.useEffect((,[]),r.createElement("div",J({className:p.root,"data-testid":"TextInput"},n?{"data-haserror":!0}:{}),c&&r.createElement("label",{htmlFor:o},r.createElement("div",{className:p.label},r.createElement(Z.Z,null,c))),r.createElement("input",J((E=J({},m),V(E,H({ref:v,className:g,type:"text"}))),n&&l?{"aria-errormessage":l}:{})),r.createElement("div",{className:(0,b.cx)(p.helperText,n?p.errorColor:p.helperColor)},r.createElement(B.Z,{textLevel:F.N.INHERIT},null!=l?l:"")));var E};var te=a(9177),ae=a(17654),re=a(75364),ne=a(34272),le=a(65817),oe=a(10035),ie=Object.defineProperty,ce=Object.defineProperties,se=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,pe=(e,t,a)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,be=(e,t)=>{for(var a in t||(t={}))ue.call(t,a)&&pe(e,a,t[a]);if(de)for(var a of de(t))me.call(t,a)&&pe(e,a,t[a]);return e};const ge=(0,m.i)(((e,t)=>{return{heading:(0,b.iv)({marginBottom:t?0:17,marginTop:17}),inputDiv:(0,b.iv)({position:"relative",marginTop:30,marginBottom:67}),count:(0,b.iv)((a=be({position:"absolute"},(0,ne.F2)(20)),r={top:30,zIndex:le.W.overlay,[p.Uc.lg]:{top:35}},ce(a,se(r))))};var a,r})),ve=({isEditing:e,hasError:t,onCancelClick:a,onCreateClick:r,onValueChange:l,setHasError:o,value:i})=>{const c=(0,oe.useLocalization)(),[s,m]=n().useState(25),p=ge(e);return n().useEffect((()=>{i.length&&m(25-i.length)}),[i]),n().createElement(A.P,{header:n().createElement(_.x,{onCloseClick:a},n().createElement(ae.ZP,{weight:ae.G0.BOLD},n().createElement(te.Z,{code:e?"egstore.library.collections_modal.create_edit.edit_collection":"egstore.library.collections_modal.create_edit.new_collection"}))),content:n().createElement(N,{role:"form","aria-label":"Create Edit Collection",justify:u.jf.Center,alignItems:u.Ks.Center,direction:u.jO.Column,fillParent:!0},n().createElement(L,null,n().createElement(re.Z.Heading,{headingLevel:1},n().createElement("div",{className:p.heading},n().createElement(te.Z,{code:e?"egstore.library.collections_modal.create_edit.edit_title":"egstore.library.collections_modal.create_edit.title"})))),!e&&n().createElement(L,null,n().createElement(ae.ZP,null,n().createElement(te.Z,{code:"egstore.library.collections_modal.create_edit.text"}))),n().createElement(L,{xs:8},n().createElement("div",{className:p.inputDiv},n().createElement(ee,{id:"create-edit-modal",error:t,defaultValue:i,shouldAutoFocus:!0,onChange:e=>{const t=e.currentTarget.value;m(25-t.length),l(t),o(t.length>25)},maxLength:25,helperText:t?c("egstore.library.collections_modal.create_edit.error_text"):void 0,label:n().createElement(te.Z,{code:"egstore.library.collections_modal.create_edit.label"})}),n().createElement("div",{className:p.count},n().createElement(B.Z,null,n().createElement(te.Z,{code:"diesel.common.time.time_left",args:[s]}))))),n().createElement(L,{xs:12},n().createElement(d.x,{justify:u.jf.Center},n().createElement(ae.ZP,null,n().createElement(te.Z,{code:"egstore.library.collections_modal.create_edit.drag_text"}))))),footer:n().createElement(T.m,null,n().createElement(M.d,{onClick:a},n().createElement(te.Z,{code:"diesel.common.smart_button.cancel"})),n().createElement(j.N,{onClick:r,disabled:Boolean(t||!(null==i?void 0:i.trim()))},n().createElement(te.Z,{code:e?"egstore.library.collections_modal.edit.button_primary":"egstore.library.collections_modal.create.button_primary"})))})};var Ee=a(53288);const ye=({animation:e,content:t,hasFooter:a,hasHeader:n,hasPrimaryButton:l,hasSecondaryButton:o,titleWidth:i=80})=>r.createElement(A.P,{"data-testid":"ModalSkeleton",header:n?r.createElement(_.x,{onCloseClick:()=>{}},r.createElement(Ee.Od,{variant:Ee.Jy.Text,width:i,height:40,animation:e})):void 0,content:t||r.createElement("div",null),footer:a?r.createElement(T.m,null,l&&r.createElement(Ee.Od,{width:160,height:40,animation:e}),o&&r.createElement(Ee.Od,{width:160,height:40,animation:e})):void 0});var fe=a(29498),he=Object.defineProperty,Oe=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,xe=(e,t,a)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Pe=(e,t)=>{for(var a in t||(t={}))we.call(t,a)&&xe(e,a,t[a]);if(Ie)for(var a of Ie(t))Se.call(t,a)&&xe(e,a,t[a]);return e};const ke=(0,m.i)((e=>({spacing:(0,b.iv)({marginBottom:14}),fakeInput:(0,b.iv)({marginTop:34,border:`1px solid ${e.textSecondary}`,width:425,height:50,padding:"0 20px",borderRadius:fe.E0}),icon:(0,b.iv)((0,ne.wz)(20))}))),Ne=e=>{const t=ke();return n().createElement(ye,(a=Pe({},e),r={hasHeader:!0,hasFooter:!0,hasPrimaryButton:!0,hasSecondaryButton:!0,content:n().createElement(d.x,{direction:u.jO.Column,centerContent:!0,fillParent:!0},n().createElement(Ee.Od,Pe({className:t.spacing,variant:Ee.Jy.Text,width:330,height:60},e)),n().createElement(Ee.Od,Pe({variant:Ee.Jy.Text,width:380,height:30},e)),n().createElement(d.x,{className:t.fakeInput,alignItems:u.Ks.Center},n().createElement(Ee.Od,Pe({className:t.icon,width:24,height:26},e)),n().createElement(Ee.Od,Pe({variant:Ee.Jy.Text,width:100,height:20},e))))},Oe(a,Ce(r))));var a,r};var Le=a(58882),je=a(60193),Me=a(7953),Ae=Object.defineProperty,Te=Object.defineProperties,_e=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Ze=(e,t,a)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Fe=e=>{const t=(0,je.P)(Me.Z2,Me.XK,(r=((e,t)=>{for(var a in t||(t={}))Re.call(t,a)&&Ze(e,a,t[a]);if(De)for(var a of De(t))Be.call(t,a)&&Ze(e,a,t[a]);return e})({},e),n={enabled:!1!==(null==e?void 0:e.enabled)},Te(r,_e(n)))),{data:a}=t;var r,n;return{collections:a,query:((e,t)=>{var a={};for(var r in e)Re.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&De)for(var r of De(e))t.indexOf(r)<0&&Be.call(e,r)&&(a[r]=e[r]);return a})(t,["data"])}};var Ue=Object.defineProperty,We=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,$e=(e,t,a)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Ge=(e,t)=>{const{collections:a}=Fe((n=((e,t)=>{for(var a in t||(t={}))Ve.call(t,a)&&$e(e,a,t[a]);if(ze)for(var a of ze(t))He.call(t,a)&&$e(e,a,t[a]);return e})({},t),l={enabled:Boolean(e)&&!1!==(null==t?void 0:t.enabled)},We(n,Ke(l))));var n,l;return(0,r.useMemo)((,[a,e])};var qe=a(37922);var Ye=a(85449);const Je=s("create-edit-collection-modal"),Xe=e=>{var t;return null!=(t=null==e?void 0:e.replace(/ /g,"").toLowerCase().trim())?t:""},Qe=()=>{const[e,t]=n().useState(""),[a,l]=n().useState(!1),o=(()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)((t=>{e((0,Me.BL)(t))}),[e])})(),i=(()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)(((t,a)=>{e((0,Me.LU)({collectionId:t,name:a}))}),[e])})(),{closeModal:c,cancelModal:s,getData:d}=Je(),u=Ge(d()),m=Boolean(null==u?void 0:u.collectionId),{collections:p}=Fe(),b=(0,oe.useLocalization)();n().useEffect((()=>{u&&(t(u.name),l(!1))}),[u]);const g=n().useCallback((()=>{const t=Xe(e);if(!t)return!1;if(t===Xe(b("egstore.library.filter.all")))return!1;if(t===Xe(b("egstore.library.collections.tabs.favorites")))return!1;return!(null==p?void 0:p.some(())}),[e,p]),v=(0,r.useCallback)((()=>{g()?(m&&u?i(u.collectionId,e.trim()):o(e.trim()),c()):l(!0)}),[g,m,u,c]);return n().createElement(ve,{onCreateClick:v,onCancelClick:s,value:e,onValueChange:t,hasError:a,setHasError:l,isEditing:m})},et=()=>{const{isOpen:e,cancelModal:t}=Je();return n().createElement(Le.u,{isOpen:e,onClose:t},n().createElement(Ye.n4,{fallback:n().createElement(Ne,null)},n().createElement(Qe,null)))};var tt=a(55637),at=a(46603),rt=a(71065),nt=a(72374),lt=Object.defineProperty,ot=Object.defineProperties,it=Object.getOwnPropertyDescriptors,ct=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,ut=(e,t,a)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,mt=(e,t)=>{for(var a in t||(t={}))st.call(t,a)&&ut(e,a,t[a]);if(ct)for(var a of ct(t))dt.call(t,a)&&ut(e,a,t[a]);return e};const pt=(0,m.i)(((e,t)=>{return{buttonDiv:(0,b.iv)((0,ne.oI)(10),{button:(a=mt(mt({},(0,nt.ip)("border-color")),(0,nt.ip)("transform","350ms")),r={height:"100%",width:"100%",padding:10,boxShadow:`0 0 1px 2px ${t?e.textSecondary:e.textPrimary}`,borderRadius:"50%",svg:{fontSize:10,path:{stroke:t?e.textSecondary:e.textPrimary,strokeWidth:2}},"&:hover, &:focus-visible":{transform:t?void 0:"rotate(-180deg)"}},ot(a,it(r)))})};var a,r})),bt=({onClick:e,isOnline:t,canCreateCollection:a})=>{const r=n().useMemo((()=>!a||!t),[a,t]),l=pt(r),o=n().useRef(null),i=a?"egstore.library.collections.add_collection_tooltip":"egstore.library.collections.add_collection_tooltip_max";return n().createElement(n().Fragment,null,n().createElement("div",{className:l.buttonDiv,ref:o,"data-testid":"add-button-div"},n().createElement(tt.h,{onClick:e,buttonHeight:R.Ey.DENSED,buttonWidth:R.WL.BLOCK,disabled:r,pill:!0},n().createElement(at.p,null))),t&&n().createElement(rt.u,{anchorRef:o},n().createElement(te.Z,{code:i})))},gt=()=>{const{collections:e}=Fe({suspense:!1});return(0,r.useMemo)((()=>!e||(null==e?void 0:e.length)<=11),[e])},vt=()=>{const e=(0,i.c)(),t=gt(),{openModal:a}=Je();return n().createElement(bt,{onClick:()=>a(),canCreateCollection:t,isOnline:e})};var Et=a(23265),yt=a(12899),ft=a(22480),ht=a(80898),Ot=a(24779),Ct=a(43222),It=a(50560),wt=Object.defineProperty,St=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,Pt=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Lt=(e,t,a)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,jt=(e,t)=>{for(var a in t||(t={}))kt.call(t,a)&&Lt(e,a,t[a]);if(Pt)for(var a of Pt(t))Nt.call(t,a)&&Lt(e,a,t[a]);return e},Mt=(e,t)=>St(e,xt(t));const At=15,Tt=_t=(e,t)=>(0,b.iv)((0,ne.NS)((0,ne.rv)(t===Et.U.ALL?0:At),(0,ne.WL)(At)),Mt(jt({},(0,nt.ip)("color")),{minWidth:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&:hover":{color:e.textPrimary}})),Dt=(0,m.i)(((e,{id:t,isEnabledEDSPhase1:a})=>({tabsButtonRoot:(0,b.iv)({position:"relative"}),active:(0,b.iv)({color:e.textPrimary,"&::after":jt({opacity:1,backgroundColor:a?Ct.K8.primary.hover:e.textPrimary},(0,ne.NS)((0,ne.wz)(At),(0,ne.oI)(t===Et.U.ALL?0:At)))}),button:(0,b.iv)(Mt(jt({width:"100%"},(0,nt.ip)("color")),{position:"relative",paddingTop:5,paddingBottom:5,"&::after":Mt(jt({},Ot.d),{position:"absolute",height:2,left:0,right:0,bottom:0,opacity:0}),"&:focus-visible":Mt(jt({},(0,W.Bt)(e)),{[`#${Tt(t)}`]:{color:e.textPrimary}})})),title:_t(e,t),nonDraggableTabs:(0,b.iv)({flex:"0 0 auto"})}))),Rt=({count:e=0,draggable:t=!0,enableTooltip:a=!0,id:r,isSelected:l,isTruncated:o,onTabClick:i,title:c,onContextMenu:s,onKeyDown:d})=>{const u=(0,qe.useSelector)(It.e),[m,p]=n().useState(!1),g=n().useRef(null),v=Dt({id:r,isEnabledEDSPhase1:u}),E=(0,yt.o)();n().useEffect((()=>{var e;if(r!==c){const t=null==(e=g.current)?void 0:e.querySelector(`[id=${Tt(r)}]`);t&&p(t.scrollWidth>t.clientWidth)}}),[r]);const y=n().useMemo((()=>!o&&!m||l?n().createElement(te.Z,{code:"egstore.library.collections.tooltip",args:[null!=e?e:0]}):`${c} (${e})`),[o,m,l,c,e]),f=(0,b.cx)(v.tabsButtonRoot,{[v.active]:l,[v.nonDraggableTabs]:!t});return n().createElement("div",{className:f,"data-testid":"CollectionTabsButton"},n().createElement(ft.Z,{ref:g,id:r,onClick:()=>i(r),className:(0,b.cx)(v.button,{[v.active]:l}),role:"tab","aria-selected":l,onContextMenu:s,onKeyDown:d},n().createElement(ht.Z.Text,{textLevel:l?F.N.PRIMARY:F.N.SECONDARY},n().createElement("div",{className:v.title,"data-dropzoneitem":r!==E&&r!==Et.U.ALL||void 0,id:Tt(r)},c))),a&&n().createElement(rt.u,{anchorRef:g},y))};var Bt=a(36306),Zt=a(79253),Ft=a(45216),Ut=a(54729),Wt=a(94799),Kt=a(44846),zt=a(6977),Vt=a(32042),Ht=a(58777);const $t=e=>Boolean(!(null==e?void 0:e.appName)||!e.appName.startsWith("UE_5")),Gt=e=>Boolean(!(null==e?void 0:e.namespace)||"poodle"!==e.namespace),qt=(0,Wt.Z)([Zt.uX,e=>!(0,Zt.uq)(e)||(0,Zt.lr)(e),(0,Kt.Z)([(0,Zt.D9)(Ft.CR),(0,Zt.D9)(Ft.Bv),(0,Zt.D9)(Ft.kV),(0,Zt.D9)(Ft.Km),(0,Zt.D9)(Ft.ze)])]),Yt=(0,Wt.Z)([Zt.uX,(0,Kt.Z)([(0,Zt.D9)(Ft.CR),(0,Zt.D9)(Ft.Bv),(0,Zt.D9)(Ft.kV),(0,Zt.D9)(Ft.Km),(0,Zt.D9)(Ft.ze)])]),Jt=(e,t)=>(0,zt.Z)((0,Vt.Z)((t=>e?qt(t.catalogItem):Yt(t.catalogItem))),(0,Vt.Z)(t?Gt),(0,Vt.Z)($t),(0,Ht.Z)((()=>{let e=!1;return(t,a)=>a?a.namespace===Ut.M?e||a.catalogItemId!==Ut.g?t:(e=!0,[...t,a]):[...t,a]:t})(),[]));var Xt=a(78623),Qt=Object.defineProperty,ea=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,aa=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,la=(e,t,a)=>t in e?Qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const oa=(e,t)=>{const a=(0,je.P)((e=>(0,Xt.P1)(Me.$4,())(e),(,(n=((e,t)=>{for(var a in t||(t={}))ra.call(t,a)&&la(e,a,t[a]);if(aa)for(var a of aa(t))na.call(t,a)&&la(e,a,t[a]);return e})({},t),l={enabled:Boolean(e)&&e!==Et.U.ALL&&!1!==(null==t?void 0:t.enabled)},ea(n,ta(l)))),{data:r}=a;var n,l;return{items:r,query:((e,t)=>{var a={};for(var r in e)ra.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&aa)for(var r of aa(e))t.indexOf(r)<0&&na.call(e,r)&&(a[r]=e[r]);return a})(a,["data"])}};var ia=a(84342),ca=a(6580),sa=a(5983),da=a(57247),ua=Object.defineProperty,ma=Object.defineProperties,pa=Object.getOwnPropertyDescriptors,ba=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,Ea=(e,t,a)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const ya=(e=Et.U.ALL,t)=>{const{records:a,query:n}=(0,ia.Ud)(),{items:l,query:o}=oa(e,(i=((e,t)=>{for(var a in t||(t={}))ga.call(t,a)&&Ea(e,a,t[a]);if(ba)for(var a of ba(t))va.call(t,a)&&Ea(e,a,t[a]);return e})({},t),c={suspense:Boolean(null==t?void 0:t.suspense)},ma(i,pa(c))));var i,c;const s=(0,qe.useSelector)(ca.H);return(0,r.useMemo)((()=>{const t=Jt((0,Bt.ZP)().supportsLaunchableAddonsFlow(),s)(a),r=((e=[])=>t=>{const a=e.map((e=>{return t.find((a=e,e=>a.sandbox===(null==e?void 0:e.namespace)&&a.catalogId===(null==e?void 0:e.catalogItemId)&&a.artifactId===(null==e?void 0:e.appName)));var a}));return(0,sa.Z)(da.Z,a)})(l);return{records:e!==Et.U.ALL?r(t):t,query:{isFetching:n.isFetching||o.isFetching,isSuccess:n.isSuccess&&o.isSuccess}}}),[a,l,n.isFetching,n.isSuccess,o.isFetching,o.isSuccess])};var fa=((fa||{});const ha={installed:[],genre:[],feature:[],category:[],platform:[],keyword:"",collection:Et.U.ALL,catalogItemId:[]};var Oa=(e=>(e.WINDOWS="Windows",e.WIN32="Win32",e.MAC="Mac",e))(Oa||{}),Ca=(e=>(e.GAMES="games",e.SOFTWARE="software",e.ENGINES="engines",e.DIGITAL_EXTRAS="digitalextras",e))(Ca||{}),Ia=a(50746);const wa=({items:e,selectedFilters:t,type:a})=>{const r=[];if(t&&a){const n=t[a];e.filter((e=>{const t=((e,t)=>{var a,r,n,l,o,i;if(e===fa.PLATFORM)return null!=(l=null==(n=(null!=(r=null==(a=t.catalogItem)?void 0:a.releaseInfo)?r:[])[0])?void 0:n.platform)?l:[];if(e===fa.CATEGORY)return(null!=(i=null==(o=t.catalogItem)?void 0:o.categories)?i:[]).map((e=>{var t;return null!=(t=null==e?void 0:e.path)?t:""}));{const e=t.tags||[];return e.length?e.map(():[]}})(a,e);n.every(()&&r.push(e)}))}return r},Sa=({items:e,installedRecords:t})=>t?e.filter(():[],xa={[fa.INSTALLED]:Sa,[fa.GENRE]:({items:e,selectedFilters:t})=>wa({items:e,selectedFilters:t,type:fa.GENRE}),[fa.FEATURE]:({items:e,selectedFilters:t})=>wa({items:e,selectedFilters:t,type:fa.FEATURE}),[fa.CATEGORY]:({items:e,selectedFilters:t})=>wa({items:e,selectedFilters:t,type:fa.CATEGORY}),[fa.PLATFORM]:({items:e,selectedFilters:t})=>wa({items:e,selectedFilters:t,type:fa.PLATFORM}),[fa.KEYWORD]:({items:e,selectedFilters:t})=>{const a=t&&t[fa.KEYWORD];return a?e.filter((e=>{var t,r;return RegExp((r=a,r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),"gi").test((null==(t=e.catalogItem)?void 0:t.title)||e.appName||"")})):[]},[fa.COLLECTION]:void 0,[fa.CATALOG_ITEM_ID]:({items:e,selectedFilters:t})=>{const a=t&&t[fa.CATALOG_ITEM_ID];return(null==a?void 0:a.length)?e.filter(():[]}},Pa=e=>{const t=[];return Object.keys(e).reduce(((t,a)=>{var r;if(null==(r=e[a])?void 0:r.length){const e=xa[a];e&&t.push(e)}return t}),t),t};var ka=Object.defineProperty,Na=Object.getOwnPropertySymbols,La=Object.prototype.hasOwnProperty,ja=Object.prototype.propertyIsEnumerable,Ma=(e,t,a)=>t in e?ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Aa=({type:e,name:t,id:a,selectedFilters:r})=>{const n=((e,t)=>{for(var a in t||(t={}))La.call(t,a)&&Ma(e,a,t[a]);if(Na)for(var a of Na(t))ja.call(t,a)&&Ma(e,a,t[a]);return e})({},r);if(e===fa.CATALOG_ITEM_ID)return n[e]=[],n;const l=e===fa.GENRE||e===fa.FEATURE?a:t;return r[e]&&l&&(r[e].includes(l)?n[e]=r[e].filter(():n[e]=[...r[e],l]),n};var Ta=a(71535),_a=a(65845),Da=a(79546),Ra=a(83868),Ba=a(73172),Za=(e,t,a)=>new Promise(((r,n)=>{var l=e=>{try{i(a.next(e))}catch(e){n(e)}},o=e=>{try{i(a.throw(e))}catch(e){n(e)}},i=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,o);i((a=a.apply(e,t)).next())}));const Fa=(0,Da.uB)("userLibraryConfigApi"),Ua=()=>!_a.r2.isSsr()&&(0,Ba.Y)().indexedDB;var Wa=Object.defineProperty,Ka=Object.defineProperties,za=Object.getOwnPropertyDescriptors,Va=Object.getOwnPropertySymbols,Ha=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,Ga=(e,t,a)=>t in e?Wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const qa=e=>{const{queryKey:t,indexedDBKeyFn:a,initialValue:r,config:n={enabled:!0}}=e,l=(0,Ta.aM)(t,(()=>((e,t)=>Za(void 0,null,(function*(){if(!Ua())return Promise.resolve(t);try{const t=yield Ra.gd.get(e);return Promise.resolve(null==t?void 0:t.data)}catch(a){return Fa.warn("getCachedUserLibraryConfig",`failed IDB get for - ${e}`,{error:a.message}),Promise.resolve(t)}})))(a(),r)),(i=((e,t)=>{for(var a in t||(t={}))Ha.call(t,a)&&Ga(e,a,t[a]);if(Va)for(var a of Va(t))$a.call(t,a)&&Ga(e,a,t[a]);return e})({refetchOnReconnect:!1,refetchOnWindowFocus:!1},n),c={enabled:!_a.r2.isSsr()&&n.enabled},Ka(i,za(c)))),{data:o}=l;var i,c;return{data:o,query:((e,t)=>{var a={};for(var r in e)Ha.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Va)for(var r of Va(e))t.indexOf(r)<0&&$a.call(e,r)&&(a[r]=e[r]);return a})(l,["data"])}};var Ya=Object.defineProperty,Ja=Object.defineProperties,Xa=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,er=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable,ar=(e,t,a)=>t in e?Ya(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,rr=(e,t)=>{for(var a in t||(t={}))er.call(t,a)&&ar(e,a,t[a]);if(Qa)for(var a of Qa(t))tr.call(t,a)&&ar(e,a,t[a]);return e};const nr="local-storage-item",lr=({keyFn:e=(,initialValue:t,localStorageEnabled:a=!1,allowedValues:n,config:l})=>{const o=(0,Ta.NL)(),{data:i,query:c}=qa({queryKey:[nr,e()],indexedDBKeyFn:e,initialValue:t,config:(s=rr({},l),d={enabled:a,initialData:t,initialDataUpdatedAt:0,refetchOnReconnect:!1,refetchOnWindowFocus:!1},Ja(s,Xa(d)))});var s,d;const u=(0,r.useCallback)((e=>e&&(!n||n.includes(e))),[n]),m=(0,r.useCallback)((t=>{var r,n;u(t)&&(o.setQueryData([nr,e()],t),a&&(r=e(),n=t,Za(void 0,null,(function*(){if(!r||!Ua())return;const e={id:r,data:n};Ra.gd.put(e).catch((e=>{Fa.warn("setCachedUserLibraryConfig",`failed IDB put for - ${r}`,{error:e.message})}))}))))}),[u,a]);return{value:u(i)?i:t,setValue:m,query:c}};var or=a(19057),ir=a(94655),cr=a(5761);const sr=e=>Object.values(e).some((e=>!!Array.isArray(e)&&e.length>0)),dr=e=>{var t;return Boolean(null==(t=e[fa.KEYWORD])?void 0:t.length)},ur=e=>e[fa.COLLECTION]!==Et.U.ALL;var mr=Object.defineProperty,pr=Object.defineProperties,br=Object.getOwnPropertyDescriptors,gr=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,yr=(e,t,a)=>t in e?mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,fr=(e,t)=>{for(var a in t||(t={}))vr.call(t,a)&&yr(e,a,t[a]);if(gr)for(var a of gr(t))Er.call(t,a)&&yr(e,a,t[a]);return e},hr=(e,t)=>pr(e,br(t));const Or=()=>{const e=(0,qe.useSelector)(cr.vR),t=(0,qe.useSelector)(ir.xp),{value:a,setValue:n}=lr({keyFn:()=>`${or.UY}_${e||Ia.v.ANONYMOUS}`,localStorageEnabled:!0,initialValue:fr({},ha)}),l=(0,r.useMemo)((,[a]),o=(0,r.useMemo)((()=>l[fa.KEYWORD]||""),[l]),i=(0,r.useCallback)((e=>{n(hr(fr({},l),{[fa.KEYWORD]:e}))}),[n,l]),c=(0,r.useCallback)((({type:e,name:t,id:a})=>{if(!e||!t&&!a||!l)return;const r=Aa({type:e,name:t,id:a,selectedFilters:l});n(fr({},r))}),[l]),s=(0,r.useCallback)((e=>{const a=Pa(l).reduce(((e,a)=>a({items:e,selectedFilters:l,installedRecords:t.latestValue})),e);return((l)?a:e}),[t.latestValue,l]),d=(0,r.useCallback)((()=>{const e=l[fa.COLLECTION];n(hr(fr({},ha),{[fa.COLLECTION]:e}))}),[l]),u=(0,r.useMemo)((()=>{let e=(e=>{let t=0;return Object.keys(e).forEach((a=>{a!==fa.KEYWORD&&a!==fa.COLLECTION&&a!==fa.CATALOG_ITEM_ID&&(t+=e[a].length)})),t})(l);return(dr(l)||Boolean(l[fa.CATALOG_ITEM_ID].length))&&e++,e}),[l]);return{applySelectedFilters:s,onFilterClick:c,selectedFilters:l,setSelectedFilters:n,resetFilters:d,keywordValue:o,setKeywordValue:i,numberActiveFilters:u}};var Cr=Object.defineProperty,Ir=Object.defineProperties,wr=Object.getOwnPropertyDescriptors,Sr=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,kr=(e,t,a)=>t in e?Cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Nr=()=>{const{selectedFilters:e,setSelectedFilters:t}=Or();return{selectedCollectionId:(0,r.useMemo)((()=>e[fa.COLLECTION]||Et.U.ALL),[e]),setSelectedCollectionId:(0,r.useCallback)(((a=Et.U.ALL)=>{var r,n;t((r=((e,t)=>{for(var a in t||(t={}))xr.call(t,a)&&kr(e,a,t[a]);if(Sr)for(var a of Sr(t))Pr.call(t,a)&&kr(e,a,t[a]);return e})({},e),n={[fa.COLLECTION]:a},Ir(r,wr(n))))}),[t,e])}},Lr=()=>{var e;const{selectedCollectionId:t,setSelectedCollectionId:a}=Nr(),{records:r}=ya();return n().createElement(Rt,{count:null!=(e=null==r?void 0:r.length)?e:0,draggable:!1,id:Et.U.ALL,isSelected:t===Et.U.ALL,onTabClick:()=>a(Et.U.ALL),title:n().createElement(te.Z,{code:"egstore.library.filter.all"})})};var jr=a(20455),Mr=Object.defineProperty,Ar=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,Dr=(e,t,a)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Rr=(e,t)=>{for(var a in t||(t={}))Tr.call(t,a)&&Dr(e,a,t[a]);if(Ar)for(var a of Ar(t))_r.call(t,a)&&Dr(e,a,t[a]);return e};const Br=(0,m.i)((()=>({root:(0,b.iv)(Rr({display:"flex",alignItems:"center",marginBottom:34},(0,ne.wz)(33))),box:(0,b.iv)({overflow:"hidden"})}))),Zr=({allTab:e,favoritesTab:t,tabs:a,addCollectionButton:r})=>{const l=Br(),{setNodeRef:o}=(0,jr.Zj)({id:Et.S});return n().createElement("div",{className:l.root,ref:o},e,t,n().createElement(d.x,{alignItems:u.Ks.Center,justify:u.jf.Start,wrap:u.Jm.NoWrap,className:l.box},a),r)};var Fr=a(67445),Ur=Object.defineProperty,Wr=Object.defineProperties,Kr=Object.getOwnPropertyDescriptors,zr=Object.getOwnPropertySymbols,Vr=Object.prototype.hasOwnProperty,Hr=Object.prototype.propertyIsEnumerable,$r=(e,t,a)=>t in e?Ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Gr=(e,t)=>{for(var a in t||(t={}))Vr.call(t,a)&&$r(e,a,t[a]);if(zr)for(var a of zr(t))Hr.call(t,a)&&$r(e,a,t[a]);return e},qr=(e,t)=>Wr(e,Kr(t));const Yr=(0,m.i)((()=>({root:(0,b.iv)({minWidth:0,maxWidth:"max-content",flex:"1 1 0",overflow:"hidden"}),dragging:(0,b.iv)({opacity:.25}),selected:(0,b.iv)({flexGrow:10})}))),Jr=e=>{var t=e,{forwardRef:a,id:r,isSelected:l}=t,o=((e,t)=>{var a={};for(var r in e)Vr.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&zr)for(var r of zr(e))t.indexOf(r)<0&&Hr.call(e,r)&&(a[r]=e[r]);return a})(t,["forwardRef","id","isSelected"]);const{active:i,attributes:c,isDragging:s,listeners:d}=(0,Fr.nB)({id:r}),u=Yr();return n().createElement("div",qr(Gr(Gr({ref:a,className:(0,b.cx)(u.root,{[u.selected]:l,[u.dragging]:s})},c),d),{tabIndex:-1}),n().createElement(Rt,qr(Gr({},o),{draggable:!0,enableTooltip:!i,id:r,isSelected:l})))},Xr=(0,m.i)((()=>({content:(0,b.iv)({textAlign:"center",padding:"0 40px"}),heading:(0,b.iv)({marginBottom:20})}))),Qr=({modalTitle:e,onCloseClick:t,primaryButton:a,secondaryButton:r,subTitle:l,title:o})=>{const i=Xr();return n().createElement(A.P,{header:n().createElement(_.x,{onCloseClick:t},n().createElement(ae.ZP,{weight:ae.G0.BOLD},e)),content:n().createElement(d.x,{alignItems:u.Ks.Center,justify:u.jf.Center,fillParent:!0},n().createElement("div",{className:i.content},n().createElement("div",{className:i.heading},n().createElement(re.Z.Heading,{headingLevel:1},o)),n().createElement(ae.ZP,null,l))),footer:n().createElement(T.m,null,r,a)})},en=({collectionName:e,onRemoveClick:t,onCancelClick:a})=>n().createElement(Qr,{modalTitle:n().createElement(te.Z,{code:"egstore.library.collection_delete_confirm_modal.title"}),onCloseClick:a,title:n().createElement(te.Z,{code:"egstore.library.collection_delete_confirm_modal.text_question",args:[e]}),subTitle:n().createElement(te.Z,{code:"egstore.library.collection_delete_confirm_modal.text_info"}),secondaryButton:n().createElement(M.d,{onClick:a},n().createElement(te.Z,{code:"egstore.library.collection_delete_confirm_modal.cancel"})),primaryButton:n().createElement(j.N,{onClick:t},n().createElement(te.Z,{code:"egstore.library.collection_delete_confirm_modal.confirm"}))});var tn=Object.defineProperty,an=Object.defineProperties,rn=Object.getOwnPropertyDescriptors,nn=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,on=Object.prototype.propertyIsEnumerable,cn=(e,t,a)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,sn=(e,t)=>{for(var a in t||(t={}))ln.call(t,a)&&cn(e,a,t[a]);if(nn)for(var a of nn(t))on.call(t,a)&&cn(e,a,t[a]);return e},dn=(e,t)=>an(e,rn(t));const un=e=>r.createElement(ye,dn(sn({},e),{hasHeader:!0,hasFooter:!0,hasPrimaryButton:!0,hasSecondaryButton:!0,content:r.createElement(d.x,{alignItems:u.Ks.Center,justify:u.jf.Center,fillParent:!0},r.createElement(d.x,{direction:u.jO.Column,alignItems:u.Ks.Center},r.createElement(Ee.Od,sn({variant:Ee.Jy.Text,width:500,height:50},e)),r.createElement(Ee.Od,dn(sn({variant:Ee.Jy.Text,width:300,height:50},e),{style:{margin:"-10px 0 10px"}})),r.createElement(Ee.Od,sn({variant:Ee.Jy.Text,width:260,height:30},e))))})),mn=s("collection-remove-confirm-modal"),pn=()=>{const{closeModal:e,cancelModal:t,getData:a}=mn(),l=(()=>{const e=(0,qe.useDispatch)(),{selectedCollectionId:t,setSelectedCollectionId:a}=Nr();return(0,r.useCallback)((r=>{e((0,Me.C5)(r)),t===r.collectionId&&a(Et.U.ALL)}),[e,t,a])})(),o=Ge(a()),i=n().useCallback((,[o]);return n().createElement(n().Fragment,null,n().createElement(en,{collectionName:(null==o?void 0:o.name)||"",onRemoveClick:i,onCancelClick:t}))},bn=()=>{const{isOpen:e,cancelModal:t}=mn();return n().createElement(Le.u,{isOpen:e,onClose:t},n().createElement(Ye.n4,{fallback:n().createElement(un,null)},n().createElement(pn,null)))};var gn=a(8909),vn=a(59637);const En=({disabled:e,onClick:t})=>n().createElement(vn.c,{horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.remove_collection"}),onClick:t,disabled:e}),yn=({collectionId:e})=>{const{setActiveMenu:t}=(0,gn.U)(),a=(0,i.c)({suspense:!1}),r=(0,yt.o)(),{openModal:l}=mn(),o=n().useCallback((()=>{e&&e!==Et.U.ALL&&e!==r&&l(e),t(void 0)}),[e,t,l]);return n().createElement(En,{onClick:o,disabled:!a})},fn=({disabled:e,onClick:t})=>n().createElement(vn.c,{horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.rename_collection"}),onClick:t,disabled:e}),hn=({collectionId:e})=>{const{setActiveMenu:t}=(0,gn.U)(),a=(0,i.c)({suspense:!1}),r=(0,yt.o)(),{openModal:l}=Je(),o=n().useCallback((()=>{e&&e!==Et.U.ALL&&e!==r&&l(e),t(void 0)}),[e,t,l]);return n().createElement(fn,{onClick:o,disabled:!a})};var On=a(28267),Cn=a(20997),In=a(27491);const wn=()=>{};var Sn=a(13275);const xn=(0,m.i)((()=>({root:(0,b.iv)({position:"fixed",zIndex:le.W.navDropdown})}))),Pn=({anchorElement:e,anchorPosition:t,children:a,isOpen:n=!1,onClose:l})=>{const o=xn(),[i,c]=r.useState(null),s=(0,r.useRef)((0,Da.N6)("egs-context-menu")),d=(({isOpen:e=!1,onClose:t=wn,anchorPosition:a,popperElement:n,anchorElement:l})=>{const o=(0,r.useCallback)((()=>{t()}),[t]),i=(0,r.useCallback)((e=>{n&&!n.contains(null==e?void 0:e.target)&&t()}),[n,t]),c=(0,r.useCallback)((e=>{n&&n.contains(null==e?void 0:e.target)&&e.preventDefault(),l&&e.target!==l&&!l.contains(e.target)&&t()}),[l,n,t]),s=(0,r.useCallback)((e=>{n&&!n.contains(e.relatedTarget)&&t()}),[n,t]),d=(0,r.useCallback)((a=>{if(!e||!n)return;a.key!==Cn.et.ArrowUp&&a.key!==Cn.et.ArrowDown||a.preventDefault();const r=n.querySelector("ul"),l=(0,On.B9)(r),o=(0,On.u$)(r);a.key===Cn.et.ArrowUp&&(o>0?(0,On.jc)(o-1,r):l.length&&(0,On.jc)(l.length-1,r)),a.key===Cn.et.ArrowDown&&(l.length&&o<l.length-1?(0,On.jc)(o+1,r):(0,On.jc)(0,r)),a.key===Cn.et.Escape&&t()}),[e,t,n]),u=(0,r.useMemo)((()=>{const{innerWidth:e,innerHeight:t}=(0,Ba.Y)(),r=(0,Da.Iv)(n),l=Math.max(0,e-r.width),o=Math.max(0,t-r.height);return{left:(0,In.Z)(0,l,(null==a?void 0:a.left)||0),top:(0,In.Z)(0,o,(null==a?void 0:a.top)||0)}}),[a,n]);return(0,r.useEffect)((()=>{const t=(0,Ba.Y)();return e&&(t.addEventListener("resize",o),t.addEventListener("scroll",o),t.addEventListener("contextmenu",c),t.addEventListener("click",i),t.addEventListener("blur",s),t.addEventListener("keydown",d)),),[e,o,c,i,s,d]),u})({isOpen:n,popperElement:i,anchorElement:e,anchorPosition:t,onClose:l});return s.current&&n?(0,Sn.createPortal)(r.createElement("div",{ref:c,className:o.root,style:d,"data-testid":"ContextMenu"},a),s.current):null};var kn=a(83792),Nn=Object.defineProperty,Ln=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,An=(e,t,a)=>t in e?Nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Tn=(0,m.i)((()=>({root:(0,b.iv)({width:"max-content"})}))),_n=e=>{var t=e,{selectedCollectionId:a}=t,r=((e,t)=>{var a={};for(var r in e)jn.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Ln)for(var r of Ln(e))t.indexOf(r)<0&&Mn.call(e,r)&&(a[r]=e[r]);return a})(t,["selectedCollectionId"]);const l=Tn();return n().createElement(Pn,((e,t)=>{for(var a in t||(t={}))jn.call(t,a)&&An(e,a,t[a]);if(Ln)for(var a of Ln(t))Mn.call(t,a)&&An(e,a,t[a]);return e})({},r),n().createElement("div",{className:l.root},n().createElement(kn.v,{dense:!0,noBorder:!0},n().createElement(hn,{collectionId:a}),n().createElement(yn,{collectionId:a}))))},Dn=e=>{const{activeMenu:t,setActiveMenu:a}=(0,gn.U)(),[l,o]=n().useState(void 0),i=n().useCallback((t=>{t.preventDefault(),o(l?void 0:{left:t.clientX,top:t.clientY}),a(e)}),[o,a,l]),c=n().useCallback((()=>{o(void 0),t===e&&a(void 0)}),[o,a]),s=n().useCallback((t=>{t.key===Cn.et.F10&&t.shiftKey&&(t.preventDefault(),l?c():(o({left:0,top:0}),a(e)))}),[o,a,l]);return n().useEffect((()=>{!t&&Boolean(l)&&c()}),[t]),(0,r.useMemo)((()=>({openContextMenu:i,closeContextMenu:c,openContextMenuWithKeyboard:s,contextMenuProps:{isOpen:Boolean(l),anchorPosition:l,onClose:c}})),[l,i,c,s])};var Rn=Object.defineProperty,Bn=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,Fn=Object.prototype.propertyIsEnumerable,Un=(e,t,a)=>t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Wn=({collectionId:e,isTruncated:t})=>{const a=n().useRef(null),{active:r,setNodeRef:l}=(0,Fr.nB)({id:e}),{selectedCollectionId:o,setSelectedCollectionId:i}=Nr(),{openContextMenu:c,openContextMenuWithKeyboard:s,contextMenuProps:d}=Dn(`collection_tab_context:${e}`),u=Ge(e),{records:m}=ya(e),p=o===e;n().useEffect((,[r]);const b=n().useCallback((,[l]);return n().createElement(n().Fragment,null,n().createElement(Jr,{count:(null==m?void 0:m.length)||0,forwardRef:b,id:e,isSelected:p,isTruncated:t,onContextMenu:c,onKeyDown:s,onTabClick:()=>i(e),title:(null==u?void 0:u.name)||""}),n().createElement(_n,((e,t)=>{for(var a in t||(t={}))Zn.call(t,a)&&Un(e,a,t[a]);if(Bn)for(var a of Bn(t))Fn.call(t,a)&&Un(e,a,t[a]);return e})({selectedCollectionId:e,anchorElement:a.current},d)))},Kn=(0,m.i)((e=>({dragImage:(0,b.iv)({position:"relative",top:-30,height:"auto",width:"max-content",padding:"10px 20px",borderRadius:fe.E0,boxShadow:`0px 5px 10px ${fe.S}`,background:e.level1,textAlign:"center"})}))),zn=({name:e,id:t})=>{var a;const r=Kn(),{items:l}=oa(t);return n().createElement("div",{className:r.dragImage},n().createElement(ae.ZP,{textLevel:F.N.PRIMARY},e," (",null!=(a=null==l?void 0:l.length)?a:0,")"))},Vn=()=>{var e;const{selectedCollectionId:t,setSelectedCollectionId:a}=Nr(),r=(0,yt.o)(),{records:l}=ya(r);return n().createElement(Rt,{count:null!=(e=null==l?void 0:l.length)?e:0,draggable:!1,id:r,isSelected:t===r,onTabClick:()=>a(r),title:n().createElement(te.Z,{code:"egstore.library.collections.tabs.favorites"})})},Hn=e=>{const t=(0,yt.o)();return Ge(t,e)},$n=e=>{const{selectedCollectionId:t}=Nr(),{collections:a}=Fe(e),n=(0,yt.o)();return(0,r.useMemo)((()=>(null==a?void 0:a.length)?a.filter(():[]),[a,n,t])},Gn=e=>{const t=n().useRef();return n().useEffect((,[e]),t.current};var qn=a(95339),Yn=a(55156);const Jn=(0,m.i)((e=>({draggingRight:(0,b.iv)((0,ne.vQ)({style:"solid",size:2,color:e.accent}),(0,ne.WL)(13)),draggingLeft:(0,b.iv)((0,ne.sc)({style:"solid",size:2,color:e.accent}),(0,ne.rv)(13)),title:_t(e)}))),Xn=()=>{const e=Jn(),t=$n(),a=Hn(),{selectedCollectionId:l}=Nr(),o=(()=>{const e=$n(),t=(0,oe.useLocalization)(),a=(0,r.useCallback)((t=>{var a;return(null==(a=e.find((e=>e.collectionId===t)))?void 0:a.name)||""}),[e]);return{onDragStart:({active:e})=>t("egstore.library.collections.announcements.drag_start",[a(e.id)]),onDragOver:({active:e,over:r})=>r?t("egstore.library.collections.announcements.drag_over_enter",[a(e.id),a(r.id)]):t("egstore.library.collections.announcements.drag_over_leave",[a(e.id)]),onDragEnd:({active:e,over:r})=>r?t("egstore.library.collections.announcements.drag_end_over",[a(e.id),a(r.id)]):t("egstore.library.collections.announcements.drag_end",[a(e.id)]),onDragCancel:({active:e})=>t("egstore.library.collections.announcements.drag_cancel",[a(e.id)])}})(),i=(()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)((,[e])})(),c=(0,yt.o)(),s=n().useRef(null),[d,u]=n().useState(null),[m,p]=n().useState({}),[g,v]=n().useState([]),[E,y]=n().useState(null),[f,h]=n().useState(0),[O,C]=n().useState(""),[I,w]=n().useState(0),[S,x]=n().useState(null),[P,k]=n().useState(!1),N=(0,jr.Dy)((0,jr.VT)(jr.we,{activationConstraint:{distance:20}}),(0,jr.VT)(jr.Lg,{coordinateGetter:Fr.is,keyboardCodes:{start:[Cn.et.Space],cancel:[Cn.et.Escape],end:[Cn.et.Space,Cn.et.Enter]}})),L=Gn(f),j=Gn(O),M=Gn(I);n().useEffect((()=>{null===d&&I&&u(I)}),[I]);const A=n().useCallback((t=>{t&&(t.classList.remove(...t.classList),t.classList.add(e.title))}),[]),T=n().useCallback((()=>{y(null),x(null),w(0),h(0),k(!1),u(null)}),[]),_=e=>{if(e.code!==Cn.et.ArrowLeft&&e.code!==Cn.et.ArrowRight||x(e.code),e.code===Cn.et.Escape&&s.current){x(null);const e=s.current.querySelectorAll("[data-dropzoneitem=true]");e&&e.forEach((e=>{A(e)}))}};n().useEffect((()=>(s.current&&s.current.addEventListener("keydown",_),()=>{var e;return null==(e=s.current)?void 0:e.removeEventListener("keydown",_)})),[s.current]);const D=n().useCallback((e=>{var a;const r=null==(a=s.current)?void 0:a.querySelectorAll("[data-dropzoneitem=true]");r&&r.forEach((),function({ev:e,customCollections:t,dragDirection:a,isOverSame:r,initialDragDirection:n,reorderCollections:l,favCollectionId:o}){const{active:i,over:c}=e;if(!c)return;if(i.id!==c.id){const e=t.findIndex((e=>e.collectionId===i.id));let s=t.findIndex((e=>e.collectionId===c.id));if(-1===e||-1===s)return;if(e-s===a)return;r&&a!==n&&(-1===a?s--:s++);const d=(0,Fr.Rp)(t,e,s);if(!(0,Yn.Z)(d,t)){const e=d.map((e=>e.collectionId));e.unshift(o),l(e)}}}({ev:e,customCollections:t,dragDirection:I,isOverSame:P,initialDragDirection:d,reorderCollections:i,favCollectionId:c}),T()}),[j,I,P,d]),R=n().useCallback((e=>{const a=t.find(();a&&y(a)}),[t]),B=n().useCallback((t=>{var a,r,n,l,o;h(t.delta.x);const i=S||(null==(a=t.over)?void 0:a.id)===j?null==(n=s.current)?void 0:n.querySelector(`[id=${Tt(null==(r=t.over)?void 0:r.id)}]`):null==(l=s.current)?void 0:l.querySelector(`[id=${Tt(j)}]`);if((null==(o=t.over)?void 0:o.id)!==j||S)A(i);else{let t;I!==M&&(k(!0),t=1===I?e.draggingRight:e.draggingLeft,A(i),i&&i.classList.add((0,b.cx)(e.title,t)))}}),[j,S,I,M]),Z=n().useCallback((t=>{var a,r,n,l,o;if(t.active.id===(null==(a=t.over)?void 0:a.id))return;let i;k(!1),C(null!=(n=null==(r=t.over)?void 0:r.id)?n:""),i=1===I?e.draggingRight:e.draggingLeft;const c=null==(o=s.current)?void 0:o.querySelector(`[id=${Tt(null==(l=t.over)?void 0:l.id)}]`);c&&c.classList.add((0,b.cx)(e.title,i))}),[I]);return n().useEffect((()=>{S?S===Cn.et.ArrowRight?w(1):S===Cn.et.ArrowLeft&&w(-1):L&&f&&(L<f?w(1):L>f&&w(-1))}),[L,f,S]),n().useEffect((()=>{if(s.current){const e=Array.from(s.current.querySelectorAll("[data-dropzoneitem=true]"));v(e)}}),[t]),n().useEffect((()=>{const e={};g.forEach((t=>{const a=t.id.substring(t.id.indexOf("-")+1);e[a]=t.scrollWidth>t.clientWidth})),p(e)}),[g,l,t]),n().createElement(n().Fragment,null,n().createElement(jr.LB,{sensors:N,collisionDetection:jr.ey,onDragEnd:D,onDragStart:R,onDragOver:Z,onDragMove:B,accessibility:{announcements:o}},n().createElement(Fr.Fo,{items:t.map((e=>e.collectionId)),strategy:Fr.PG},n().createElement("div",{ref:s,role:"tablist"},a&&n().createElement(Zr,{allTab:n().createElement(Lr,null),favoritesTab:n().createElement(Vn,null),tabs:t.map((e=>n().createElement(Wn,{key:e.collectionId,collectionId:e.collectionId,isTruncated:m[e.collectionId]}))),addCollectionButton:n().createElement(vt,null)}))),s.current?(0,Sn.createPortal)(n().createElement(jr.y9,{style:{cursor:"copy"},modifiers:[qn.K7]},E?n().createElement(zn,{name:E.name,id:E.collectionId}):null),s.current):null))};const Qn=({animation:e})=>n().createElement(Zr,{allTab:n().createElement(Ee.Od,{height:30,width:40,animation:e}),favoritesTab:n().createElement(Ee.Od,{height:30,width:70,style:{marginRight:"30px",marginLeft:"30px"},animation:e}),tabs:[],addCollectionButton:n().createElement(Ee.Od,{variant:Ee.Jy.Circle,height:50,width:50,animation:e})});var el=a(30052),tl=a.n(el);const al=(0,m.i)((e=>({root:(0,b.iv)({display:"flex",alignItems:"center",background:e.backgroundOverlay,borderRadius:fe.VY,marginBottom:40}),content:(0,b.iv)({display:"flex",flexDirection:"column",padding:20,width:"100%",[p.Uc.xl]:{alignItems:"center",flexDirection:"row"}}),textContent:(0,b.iv)({[p.Uc.md]:{maxWidth:700}}),title:(0,b.iv)({marginBottom:5,[p.Uc.xxl]:{marginBottom:8},h1:{fontSize:22,lineHeight:"32px",[p.Uc.xxl]:{fontSize:26,lineHeight:"38px"}}}),body:(0,b.iv)({span:{fontSize:14,lineHeight:"20px",[p.Uc.xxl]:{fontSize:16,lineHeight:"22px"}}}),image:(0,b.iv)({height:160,width:160,flexShrink:0}),buttonDiv:(0,b.iv)({display:"flex",marginTop:15,"button:first-child":(0,ne.wz)(10),[p.Uc.xl]:{marginTop:0,height:"100%",width:"100%",alignSelf:"flex-end",justifyContent:"flex-end"}})}))),rl=({image:e,title:t,body:a,hideButton:r,newCollectionButton:l})=>{const o=al();return n().createElement("div",{className:o.root,"data-testid":"library-collections-intro-banner"},n().createElement("div",{className:o.image},e),n().createElement("div",{className:o.content},n().createElement("div",{className:o.textContent},n().createElement("div",{className:o.title},n().createElement(re.Z.Heading,{headingLevel:1},t)),n().createElement("div",{className:o.body},n().createElement(ae.ZP,{textLevel:F.N.SECONDARY},a))),n().createElement("div",{className:o.buttonDiv},r,l)))};var nl=a(67764),ll=a(6958),ol=a(43146);const il=()=>{const e=(0,qe.useSelector)(cr.vR),t=(0,i.c)(),a=$n(),{openModal:r}=Je(),{value:l,setValue:o}=lr({keyFn:localStorageEnabled:Boolean(e),initialValue:!1}),c=n().useMemo((()=>!l&&!(null==a?void 0:a.length)&&t),[l,a,t]);return n().useEffect((()=>{(null==a?void 0:a.length)&&!l&&o(!0)}),[null==a?void 0:a.length]),c?n().createElement(n().Fragment,null,n().createElement(rl,{image:n().createElement(ol.w,{src:tl(),showBrokenOnError:!0}),title:n().createElement(te.Z,{code:"egstore.library.favorites_folders.intro.title"}),body:n().createElement(te.Z,{code:"egstore.library.favorites_folders.intro.text"}),hideButton:n().createElement(nl.f5,{buttonWidth:R.WL.AUTO,buttonHeight:R.Ey.DENSED,onClick:,n().createElement(te.Z,{code:"egstore.library.favorites_folders.intro.button.hide"})),newCollectionButton:n().createElement(ll.gg,{buttonWidth:R.WL.AUTO,buttonHeight:R.Ey.DENSED,onClick:()=>r()},n().createElement(te.Z,{code:"egstore.library.favorites_folders.intro.button.new"}))})):null};var cl=a(43651);const sl=(0,m.i)((()=>({root:(0,b.iv)({marginTop:40,textAlign:"center"}),image:(0,b.iv)({marginBottom:20,display:"flex",justifyContent:"center"}),titleDiv:(0,b.iv)({marginBottom:30})}))),dl=({image:e,title:t,subtitle:a,buttonText:r,onButtonClick:l})=>{const o=sl();return n().createElement("div",{className:o.root,"data-testid":"EmptyCollectionMessage"},n().createElement(N,null,n().createElement(L,{xs:2}),n().createElement(L,{xs:8},n().createElement(d.x,{centerContent:!0,direction:u.jO.Column},e&&n().createElement("div",{className:o.image},e),n().createElement("div",{className:o.titleDiv},n().createElement(re.Z.Heading,{headingLevel:2},t),a&&n().createElement(re.Z.Heading,{headingLevel:3},a)),n().createElement(ll.gg,{onClick:l},r))),n().createElement(L,{xs:2})))};var ul=a(29992),ml=a(29702),pl=a(24958),bl=a(47411),gl=Object.defineProperty,vl=Object.defineProperties,El=Object.getOwnPropertyDescriptors,yl=Object.getOwnPropertySymbols,fl=Object.prototype.hasOwnProperty,hl=Object.prototype.propertyIsEnumerable,Ol=(e,t,a)=>t in e?gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Cl=(e,t)=>{for(var a in t||(t={}))fl.call(t,a)&&Ol(e,a,t[a]);if(yl)for(var a of yl(t))hl.call(t,a)&&Ol(e,a,t[a]);return e},Il=(e,t)=>vl(e,El(t));const wl=(0,m.i)((e=>({root:(0,b.iv)({overflow:"hidden",position:"relative",backgroundColor:e.backgroundOverlay,borderRadius:fe.E0}),image:(0,b.iv)((0,fe.fF)(fe.oM.x3x4)),imageInner:(0,b.iv)({position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",img:{objectFit:"cover",maxWidth:"none",maxHeight:"100%",width:"auto",height:"100%"}}),progressImageFrame:(0,b.iv)(Il(Cl(Cl({},nt.ZP.quick("right")),bl.a),{overflow:"hidden"})),logoImage:(0,b.iv)(Il(Cl({},bl.a),{display:"flex",justifyContent:"center",alignItems:"center"})),logoInner:(0,b.iv)({width:"70%",backgroundSize:"contain"}),grayscale:(0,b.iv)(nt.ZP.quick("filter"),{filter:"grayscale(100%)",opacity:"0.3"}),indeterminate:(0,b.iv)(pl.Z.fadeInAndOut())}))),Sl=({image:e,indeterminate:t=!1,logo:a,percent:n=0,children:l})=>{const o=wl(),i=r.createRef(),[c,s]=r.useState({width:"100%",height:"100%"}),d=(0,In.Z)(0,1,n),u=d>0&&d<1&&!t,m=100*(1-d),p=u;r.useEffect((()=>{if(!i.current)return;const{offsetWidth:e,offsetHeight:t}=i.current;c.width===e&&c.height===t||s({width:e,height:t})}),[e,n]);const g=(0,b.cx)(o.image,{[o.grayscale]:p,[o.indeterminate]:t}),v=(0,b.cx)(o.logoImage,{[o.grayscale]:p});return r.createElement("div",{className:o.root},r.createElement("div",{className:g,"data-testid":"base-image",ref:i},r.createElement("div",{className:o.imageInner},e)),u&&e&&r.createElement("div",{className:o.progressImageFrame,style:{right:`${m}%`},"data-testid":"progress-image","aria-hidden":!0},r.createElement("div",{className:o.imageInner,style:c},e)),a&&r.createElement("div",{className:v,"data-testid":"logo-image","aria-hidden":!0},r.createElement("div",{className:o.logoInner},a)),l)};var xl=a(18356),Pl=a(19166),kl=Object.defineProperty,Nl=Object.defineProperties,Ll=Object.getOwnPropertyDescriptors,jl=Object.getOwnPropertySymbols,Ml=Object.prototype.hasOwnProperty,Al=Object.prototype.propertyIsEnumerable,Tl=(e,t,a)=>t in e?kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_l=(e,t)=>{for(var a in t||(t={}))Ml.call(t,a)&&Tl(e,a,t[a]);if(jl)for(var a of jl(t))Al.call(t,a)&&Tl(e,a,t[a]);return e},Dl=(e,t)=>Nl(e,Ll(t));const Rl=le.W.overlay,Bl=(0,m.i)(((e,{landscape:t})=>({overlay:(0,b.iv)(Dl(_l({position:"absolute",top:t?10:0},(0,ne.t$)(t?10:0)),{zIndex:Rl,paddingBottom:t?void 0:"calc(4 / 3 * 100%)",width:t?Pl.nx:"100%",height:t?Pl.bg:void 0,pointerEvents:"none"})),badges:(0,b.iv)(Dl(_l({position:"absolute",bottom:0},(0,ne.F2)(0)),{padding:10}))}))),Zl=({landscape:e,favorite:t,badges:a})=>{const r=Bl({landscape:e});return n().createElement("div",{className:r.overlay},t,a&&!e?n().createElement("div",{className:r.badges},a):null)};var Fl=Object.defineProperty,Ul=Object.defineProperties,Wl=Object.getOwnPropertyDescriptors,Kl=Object.getOwnPropertySymbols,zl=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable,Hl=(e,t,a)=>t in e?Fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,$l=(e,t)=>{for(var a in t||(t={}))zl.call(t,a)&&Hl(e,a,t[a]);if(Kl)for(var a of Kl(t))Vl.call(t,a)&&Hl(e,a,t[a]);return e},Gl=(e,t)=>Ul(e,Wl(t));const ql=(0,m.i)(((e,t)=>{const a=t?(0,b.iv)({position:"relative","&:focus":{outline:"none"}}):(0,b.iv)({position:"relative","&:focus":{outline:"none"},"&::before":Gl($l($l({},(0,nt.ip)("background-color")),Ot.d),{position:"absolute",right:-16,top:-16,left:-16,bottom:-16,width:"calc(100% + 32px)",borderRadius:U.VY,pointerEvents:"none"}),"&:hover::before, &:focus::before":{backgroundColor:e.backgroundOverlay}}),r=(0,b.iv)({width:"100%",height:"100%"});return{component:r,root:(0,b.iv)({position:"relative",width:"100%",height:"100%"}),button:a,inner:(0,b.iv)({display:"flex",flexDirection:"column",alignItems:"stretch",minWidth:0,wordWrap:"break-word",height:"100%",width:"100%",flexGrow:1,borderRadius:U.E0}),image:(0,b.iv)({position:"relative",borderRadius:U.E0,backgroundColor:e.backgroundOverlay,"&::after":Gl($l($l($l({},(0,nt.ip)("opacity")),bl.a),Ot.d),{backgroundColor:fe.ix,opacity:0,borderRadius:U.E0,".hasHover:hover &, .active &":{opacity:t?.16:.15}})}),body:(0,b.iv)({height:76,paddingTop:10,[p.Uc[p.Uo.lg]]:{height:91}}),title:(0,b.iv)({width:"calc(100% - 32px)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),settings:(0,b.iv)(Gl($l({position:"absolute"},(0,ne.F2)(0)),{bottom:45,[p.Uc[p.Uo.lg]]:{bottom:60}})),settingsButton:(0,b.iv)($l({width:32,height:22},t&&{borderRadius:U.E0,"&:hover":{background:Ct.K8.tertiary.hover}})),settingsMenu:(0,b.iv)({width:"max-content",minWidth:280,[p.Uc.lg]:{minWidth:315},[p.Uc.xl]:{minWidth:340}}),favoriteDiv:(0,b.iv)(Gl($l({top:10},(0,ne.F2)(10)),{[`.${r}:hover &`]:{opacity:1}}))}})),Yl=({active:e,badges:t,contextMenu:a,hasHover:r,renderSettingsMenu:l,subtitle:o,title:i,achievements:c,renderFavorite:s,image:d,forwardedRef:u,onClick:m,disabled:p,onContextMenu:g,onKeyDown:v})=>{const E=(0,qe.useSelector)(It.e),y=ql(E),f=(0,b.cx)(y.inner,y.button),h=(0,b.cx)(y.root,{active:e,hasHover:r}),O=n().createElement(n().Fragment,null,n().createElement("div",{className:y.image},d),n().createElement("div",{className:y.body},n().createElement("div",{className:y.title},n().createElement(ae.ZP,{textLevel:F.N.PRIMARY},i)),c,o));return n().createElement("div",{className:y.component,ref:u,onContextMenu:g,onKeyDown:v,"data-testid":"card"},n().createElement("div",{className:h},m?n().createElement(ft.Z,{className:f,onClick:m,disabled:p,"data-testid":"card-btn"},O):n().createElement("div",{className:y.inner},O),n().createElement(n().Fragment,null,n().createElement(Zl,{landscape:!1,favorite:s&&s(y.favoriteDiv),badges:t}),l&&n().createElement("div",{className:y.settings},l({button:y.settingsButton,menu:y.settingsMenu})),a)))},Jl=(0,b.iv)({userSelect:"none",width:32,height:35,display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:"inherit"}),Xl=()=>n().createElement("svg",{className:Jl,viewBox:"0 0 32 35",xmlns:"http://www.w3.org/2000/svg"},n().createElement("g",null,n().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.4411 18.599L26.4055 15.7685L5 4L11.2404 27.6167L15.9136 20.5737L21.5086 27.735L24.0361 25.7603L18.4411 18.599V18.599Z",fill:"currentColor"}),n().createElement("path",{d:"M26.5729 16.2396L27.6221 15.8667L26.6464 15.3303L5.24089 3.56185L4.21854 2.99978L4.51659 4.12773L10.757 27.7445L11.0415 28.8209L11.6571 27.8932L15.9467 21.4282L21.1146 28.0428L21.4225 28.4368L21.8165 28.129L24.344 26.1543L24.738 25.8464L24.4302 25.4524L19.2622 18.8378L26.5729 16.2396Z",stroke:"black",strokeOpacity:"0.8"})));var Ql=a(29550),eo=Object.defineProperty,to=Object.defineProperties,ao=Object.getOwnPropertyDescriptors,ro=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,lo=Object.prototype.propertyIsEnumerable,oo=(e,t,a)=>t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const io=(0,m.i)((()=>({root:(0,b.iv)({"> button":{width:"100%",height:"100%",padding:0}})}))),co=r.forwardRef(((e,t)=>{var a=e,{onClick:n}=a,l=((e,t)=>{var a={};for(var r in e)no.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&ro)for(var r of ro(e))t.indexOf(r)<0&&lo.call(e,r)&&(a[r]=e[r]);return a})(a,["onClick"]);const o=io(),i=(0,oe.useLocalization)();return r.createElement("span",{className:o.root,"data-testid":"toggle"},r.createElement(tt.h,(c=((e,t)=>{for(var a in t||(t={}))no.call(t,a)&&oo(e,a,t[a]);if(ro)for(var a of ro(t))lo.call(t,a)&&oo(e,a,t[a]);return e})({onClick:n},l),to(c,ao({forwardRef:t}))),r.createElement(Ql.n,{titleAccess:i("diesel.common.smart_button.ariaLabel.toggleSettings")})));var c}));var so=a(96685);const uo=(0,so.L)(r.createElement(r.Fragment,null,r.createElement("path",{d:"M2.54611 3.01118H4.91013L4.91013 4.51118H2.54611L2.54418 4.51122V6.9462C2.54418 7.9908 2.97877 9.00017 3.76472 9.75007C4.1056 10.0753 4.50043 10.3399 4.93013 10.5354C4.9768 11.1312 5.10413 11.7056 5.30173 12.2485C4.33972 12.0056 3.4499 11.5229 2.72924 10.8353C1.65476 9.81014 1.04418 8.41196 1.04418 6.9462V4.47862C1.04418 3.63538 1.75019 3.01118 2.54611 3.01118Z"}),r.createElement("path",{d:"M16.9676 12.4289C17.217 11.9629 17.3962 11.457 17.4919 10.924C17.5445 10.631 17.5717 10.3299 17.5717 10.0227V2.95508C17.5717 2.87301 17.5116 2.79334 17.3984 2.71734C17.3752 2.70178 17.3498 2.68637 17.3223 2.67113C16.6192 2.28231 14.5108 2 12.019 2C8.95219 2 6.46606 2.42766 6.46606 2.95518L6.46607 10.0228C6.46607 11.9582 7.55378 13.6513 9.17779 14.5759C10.009 15.0491 10.9806 15.3209 12.0188 15.3209C14.1776 15.3209 16.0489 14.1455 16.9676 12.4289Z"}),r.createElement("path",{d:"M19.2274 12.1013C19.0662 12.1573 18.9023 12.2064 18.7363 12.2484C18.9339 11.7054 19.0612 11.131 19.1079 10.5352C19.5377 10.3396 19.9321 10.075 20.2726 9.75007C21.0586 9.00017 21.4932 7.9908 21.4932 6.9462V4.51122L21.4913 4.51118H19.1892V3.01118H21.4913C22.2872 3.01118 22.9932 3.63538 22.9932 4.47862V6.9462C22.9932 8.41196 22.3826 9.81014 21.3081 10.8353C20.7117 11.4044 19.9995 11.8329 19.2274 12.1013Z"}),r.createElement("path",{d:"M16.8006 20.2556C16.8006 21.219 14.6597 22 12.0188 22C9.37795 22 7.2371 21.219 7.2371 20.2556C7.2371 19.9407 7.46578 19.6453 7.86585 19.3903L7.86997 19.3876L8.77579 18.8998C9.65602 18.4256 10.3873 17.7355 10.8937 16.9008C11.0344 16.6691 11.3974 16.4983 12.0188 16.4983C12.6402 16.4983 13.0033 16.6691 13.1439 16.9008C13.6504 17.7355 14.3816 18.4256 15.2619 18.8998L16.1677 19.3876L16.1793 19.3951C16.5747 19.649 16.8006 19.9426 16.8006 20.2556Z"})),"Trophy");var mo=a(83206);const po=(0,m.i)((e=>({separator:(0,b.iv)({width:"100%",height:10,backgroundColor:e.backgroundOverlay,".egs-menu-no-border &":{marginTop:5,height:5,borderTop:`1px solid ${e.backgroundOverlay}`,backgroundColor:"transparent"}})}))),bo=()=>{const e=po();return r.createElement("div",{className:e.separator,role:"none"})};var go=a(238),vo=a(69459),Eo=a(56917),yo=Object.defineProperty,fo=Object.defineProperties,ho=Object.getOwnPropertyDescriptors,Oo=Object.getOwnPropertySymbols,Co=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,wo=(e,t,a)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,So=(e,t)=>{for(var a in t||(t={}))Co.call(t,a)&&wo(e,a,t[a]);if(Oo)for(var a of Oo(t))Io.call(t,a)&&wo(e,a,t[a]);return e},xo=(e,t)=>fo(e,ho(t));const Po=(0,m.i)((()=>({root:(0,b.iv)({position:"relative"}),submenu:(0,b.iv)({position:"absolute"}),icon:(0,b.iv)((0,ne.N2)(),So({display:"flex"},(0,ne.oI)(10)))}))),ko=e=>{var t=e,{subMenu:a,selected:l,disabled:o}=t,i=((e,t)=>{var a={};for(var r in e)Co.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Oo)for(var r of Oo(e))t.indexOf(r)<0&&Io.call(e,r)&&(a[r]=e[r]);return a})(t,["subMenu","selected","disabled"]);const c=Po(),s=(0,cl.Su)(),d=(0,r.useRef)(),[u,m]=n().useState(!1),[p,b]=n().useState(null),[g,v]=n().useState(null),{styles:E,attributes:y,update:f}=(0,Eo.D)(p,g,{placement:s?"left-start":"right-start",modifiers:[{name:"offset",options:{offset:[-10,-5]}},{name:"computeStyles",options:{gpuAcceleration:!0}},{name:"eventListeners",enabled:u}]});(0,vo.P)((,[u]);const h=O=()=>{clearTimeout(d.current),d.current=setTimeout((,200)};return n().createElement("div",{ref:b,className:c.root,onMouseLeave:o?void 0:O,onKeyDown:o?void 0:e=>{e.key===Cn.et.Tab&&p&&requestAnimationFrame((()=>{p.querySelector("button:focus")||O()}))},role:"none","data-testid":"MenuItemWithSubMenu"},n().createElement(vn.c,xo(So({selected:l||u},i),{"aria-expanded":u,onMouseOver:o?void 0:h,onKeyDown:o?void 0:e=>{e.key===Cn.et.Enter&&m(!u),e.key===Cn.et.Escape&&m(!1)},horizontal:!0,disabled:o}),n().createElement("span",{className:c.icon},n().createElement(go.o,null))),u&&n().createElement("div",xo(So({ref:v,className:c.submenu,onMouseOver:h,onFocus:h,style:E.popper},y.popper),{"data-testid":"MenuItemWithSubMenu-submenu"}),a))};var No=Object.defineProperty,Lo=Object.defineProperties,jo=Object.getOwnPropertyDescriptors,Mo=Object.getOwnPropertySymbols,Ao=Object.prototype.hasOwnProperty,To=Object.prototype.propertyIsEnumerable,_o=(e,t,a)=>t in e?No(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Do=(e,t)=>{for(var a in t||(t={}))Ao.call(t,a)&&_o(e,a,t[a]);if(Mo)for(var a of Mo(t))To.call(t,a)&&_o(e,a,t[a]);return e},Ro=(e,t)=>Lo(e,jo(t));const Bo=(0,m.i)(((e,t)=>({root:(0,b.iv)({position:"relative",height:310,overflow:"hidden",pointerEvents:"none",width:380,[p.Uc.xl]:{width:420}}),libraryCard:(0,b.iv)(Ro(Do({position:"absolute",opacity:.6},(0,ne.NS)((0,ne.t$)(16),(0,ne.yd)("left"))),{top:-110,width:160,[p.Uc.xl]:{top:-160,width:190},"&::before":Do(Ro(Do({},Ot.d),{position:"absolute",right:-16,top:-16,left:-16,bottom:-16,borderRadius:fe.VY}),!t&&{backgroundColor:e.backgroundOverlay})})),achievements:(0,b.iv)({display:"flex",alignItems:"center"}),trophyIcon:(0,b.iv)((0,ne.wz)(4),{width:15,height:15,fontSize:14,color:e.textSecondary}),toggleBtn:(0,b.iv)({bottom:20}),menu:(0,b.iv)(Ro(Do({position:"absolute",top:140},(0,ne.t$)(134)),{boxShadow:`0 0 20px 0 ${fe.lu}`,width:240,[p.Uc.xl]:{width:280}})),gradiant:(0,b.iv)({position:"absolute",width:"100%",height:100,background:(0,ml.TR)({direction:{vertical:"top"},colors:[(0,ul.re)(e.background,0).rgb(),e.background]})}),cursor:(0,b.iv)(Do({position:"absolute",bottom:0},(0,ne.t$)(220)))}))),Zo=({title:e,imageSrc:t})=>{const a=(0,qe.useSelector)(It.e),r=n().useRef(null),l=Bo(a);return n().useEffect((()=>{var e;if(r.current){(null==(e=r.current)?void 0:e.querySelectorAll("button")).forEach(()}}),[]),n().createElement("div",{ref:r,className:l.root,"data-testid":"TutorialImage"},n().createElement("div",{className:l.libraryCard},n().createElement(Yl,{image:n().createElement(Sl,{image:n().createElement(ol.w,{alt:e,src:t})}),title:n().createElement("span",null,e),achievements:n().createElement("div",{className:l.achievements},n().createElement("div",{className:l.trophyIcon},n().createElement(uo,null)),n().createElement(B.Z,{textLevel:F.N.SECONDARY},"33/100")),subtitle:n().createElement(xl.L6,null),renderSettingsMenu:({button:e})=>n().createElement("div",{className:(0,b.cx)(l.toggleBtn,e)},n().createElement(co,null))})),n().createElement("div",{className:l.menu},n().createElement(kn.v,{dense:!0,noBorder:!0},n().createElement(mo.s,{title:n().createElement(te.Z,{code:"diesel.library.settings.go_to_store_page"})}),n().createElement(bo,null),n().createElement(mo.s,{title:n().createElement(te.Z,{code:"diesel.library.settings.add_to_favorites"})}),n().createElement(ko,{title:n().createElement(te.Z,{code:"diesel.library.settings.add_to_collection"}),selected:!0}))),n().createElement("div",{className:l.gradiant}),n().createElement("div",{className:l.cursor},n().createElement(Xl,null)))};var Fo=a(95705),Uo=a(84244);const Wo=({libraryItemTitle:e,libraryItemImageSrc:t="",onButtonClick:a})=>{const r=(0,Uo.ql)(),l=e||r("diesel.main.navigation.epic_games")||"";return n().createElement(dl,{image:n().createElement(Zo,{title:l,imageSrc:t}),title:n().createElement(te.Z,{code:"egstore.library.collections.empty_collection_custom.title"}),buttonText:n().createElement(te.Z,{code:"egstore.library.collections.empty_collection_custom.button"}),onButtonClick:a})},Ko=({onActionClick:e})=>{const{records:t}=ya(),a=n().useMemo((()=>{var e;const a=Math.floor(Math.random()*t.length-1);return null==(e=t[a])?void 0:e.catalogItem}),[t]),r=n().useMemo((()=>(0,Fo.X3)(a)),[a]);return n().createElement(Wo,{libraryItemTitle:null==a?void 0:a.title,libraryItemImageSrc:r,onButtonClick:e})},zo=(0,so.L)(r.createElement("path",{d:"M20.49 5.397C19.482 4.466 18.162 4 16.842 4c-1.32 0-2.64.466-3.647 1.397L12 6.503l-1.196-1.106C9.797 4.466 8.477 4 7.158 4c-1.32 0-2.64.466-3.647 1.397-2.013 1.861-2.015 4.878-.005 6.741L11.984 20l.016-.015.017.015 8.477-7.862c2.01-1.864 2.008-4.88-.005-6.74z"}),"Heart"),Vo=({onActionClick:e})=>n().createElement(dl,{image:n().createElement("div",{style:{fontSize:36}},n().createElement(zo,null)),title:n().createElement(te.Z,{code:"egstore.library.collections.empty_collection_favorites.title"}),subtitle:n().createElement(te.Z,{code:"egstore.library.collections.empty_collection_favorites.text"}),buttonText:n().createElement(te.Z,{code:"egstore.library.collections.empty_collection_favorites.button"}),onButtonClick:e});var Ho=a(95771),$o=a(35658),Go=a(37559);const qo=({title:e,activeFilters:t,type:a,filters:r,storeTags:l})=>{const[o,i]=n().useState(!1);return n().useEffect((()=>{const e=l.filter(();t.length||e.length||i(!0)}),[l,t]),n().useEffect((,[o]),n().createElement($o.Z,{"data-testid":`library-filter-section-${a}`,renderTitle:({isCollapsed:t,toggleCollapsed:a})=>(o&&!t&&a(),n().createElement(Go.Z,{isCollapsed:t,text:e||"",toggleCollapsed:a})),initialCollapseState:!t.length,collapsible:!0},r)};var Yo=a(77960);const Jo=({title:e,storeTags:t,onFilterClick:a,activeFilters:r,type:l})=>n().createElement(qo,{title:e,type:l,activeFilters:r,storeTags:t,filters:t.map((e=>{const t=!!r&&(r.includes(e.name)||r.includes(e.id)),o=0===e.count;let i;return i=o&&t?"(0)":o?"":`(${e.count})`,n().createElement(Yo.Z,{onClick:text:l===fa.GENRE||l===fa.FEATURE?`${e.name} ${i}`:n().createElement(Uo.v0,{code:`egstore.library.filter_side_panel.${e.name}`,args:[i]}),key:e.id,checked:t,disabled:o})}))}),Xo=({onFilterClick:e,storeTags:t,activeFilters:a})=>n().createElement(Jo,{title:n().createElement(Uo.v0,{code:"diesel.store.browse.categories"}),storeTags:t||[],onFilterClick:e,activeFilters:a,type:fa.CATEGORY});var Qo=a(41402),ei=a(22538),ti=a(8280),ai=a(32396),ri=a(29985);const ni=()=>{const e=(0,ei.useLocation)(),t=(0,qe.useDispatch)(),a=(0,r.useMemo)((()=>new URLSearchParams(e.search||"")),[e.search]),n=(0,r.useCallback)((()=>{t((0,ti.VF)((0,ai.generateRoutePath)(ri.s.LibraryPath),{search:""}))}),[t]);return(0,r.useMemo)((()=>{var e,t,r,l,o,i,c;const s=null!=(e=a.get("action"))?e:void 0,d=null!=(t=a.get("sort"))?t:void 0,u=null!=(r=a.get("appName"))?r:"",m=null!=(l=a.get("sandboxId"))?l:"",p=null!=(o=a.get("offerId"))?o:"",b=null!=(i=a.get("catalogItemId"))?i:"",g=m&&b&&u?{namespace:m,catalogItemId:b,appName:u}:void 0,v=p&&m?{offerId:p,sandboxId:m}:void 0,E=b&&m?{catalogItemId:b,sandboxId:m}:void 0,y=null!=(c=a.get("collectionId"))?c:void 0;return{action:s,item:g,sort:d,resetQueryParams:n,offerItem:v,catalogItem:E,collectionId:y}}),[a,n])};var li=a(58532);const oi=(0,m.i)((e=>({icon:(0,b.iv)((0,ne.rv)(10),{svg:{fontSize:10,path:{stroke:e.textPrimary,strokeWidth:2}}})}))),ii=({onFilterClick:e})=>{const t=oi(),{resetQueryParams:a}=ni(),{value:r}=lr({keyFn:()=>or.Cd,localStorageEnabled:!0,initialValue:""});return n().createElement($o.Z,{"data-testid":"library-filter-section-custom-results",renderTitle:()=>n().createElement(Yo.Z,{onClick:text:n().createElement(li.Z,{lines:2,text:null!=r?r:""}),checked:!0,icon:n().createElement("div",{className:t.icon},n().createElement(Qo.T,null))})})},ci=({onFilterClick:e,activeFilters:t,storeTags:a})=>n().createElement(Jo,{title:n().createElement(Uo.v0,{code:"diesel.store.browse.features"}),storeTags:a||[],onFilterClick:e,activeFilters:t,type:fa.FEATURE}),si=({onFilterClick:e,activeFilters:t,storeTags:a})=>n().createElement(Jo,{title:n().createElement(Uo.v0,{code:"diesel.store.browse.genre"}),storeTags:a||[],onFilterClick:e,activeFilters:t,type:fa.GENRE});var di=Object.defineProperty,ui=Object.defineProperties,mi=Object.getOwnPropertyDescriptors,pi=Object.getOwnPropertySymbols,bi=Object.prototype.hasOwnProperty,gi=Object.prototype.propertyIsEnumerable,vi=(e,t,a)=>t in e?di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Ei=({tagsForDisplay:e,currentTags:t,name:a,message:r})=>{const n=t.find((e=>e.name===a)),l=e.find((e=>e.name===a));if(l)l.count=l.count+1;else{const t=(o=((e,t)=>{for(var a in t||(t={}))bi.call(t,a)&&vi(e,a,t[a]);if(pi)for(var a of pi(t))gi.call(t,a)&&vi(e,a,t[a]);return e})({},n),ui(o,mi({message:r,count:1})));e.push(t)}var o,i;return i="message",e.sort(((e,t)=>{var a,r;const n=(null==(a=e[i])?void 0:a.toUpperCase())||"",l=(null==(r=t[i])?void 0:r.toUpperCase())||"";return n.localeCompare(l)}))},yi=(e,t)=>e.map((e=>{const a=t.find(();return a||(e.count=0,e)})),fi=[{id:`${Ca.GAMES}-filter`,name:Ca.GAMES,groupName:"category",count:0},{id:`${Ca.ENGINES}-filter`,name:Ca.ENGINES,groupName:"category",count:0},{id:`${Ca.SOFTWARE}-filter`,name:Ca.SOFTWARE,groupName:"category",count:0},{id:`${Ca.DIGITAL_EXTRAS}-filter`,name:Ca.DIGITAL_EXTRAS,groupName:"category",count:0}],hi=(e,t)=>{const a=[];return e.forEach((e=>{var r,n;const l=(null!=(n=null==(r=e.catalogItem)?void 0:r.categories)?n:[]).map((e=>{var t;return null!=(t=null==e?void 0:e.path)?t:""}));Object.values(Ca).forEach((e=>{if(l.includes(e)){const r=t(`egstore.library.filter_side_panel.${e}`)||"";Ei({tagsForDisplay:a,currentTags:fi,name:e,message:r})}}))})),a},Oi=()=>{const{selectedCollectionId:e}=Nr(),{records:t}=ya(),{records:a}=ya(e),n=(0,Uo.ql)();return(0,r.useMemo)((()=>{const r=hi(t,n);return e!==Et.U.ALL?((e,t,a)=>{const r=hi(e,t);return yi(a,r)})(a,n,r):r}),[t,e,a])};var Ci=Object.defineProperty,Ii=Object.defineProperties,wi=Object.getOwnPropertyDescriptors,Si=Object.getOwnPropertySymbols,xi=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,ki=(e,t,a)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Ni=(e,t)=>{const a=e.reduce(((e,t)=>((t.tags||[]).forEach((),e)),{}),r=Object.keys(a);return t.reduce(((e,t)=>{var n,l;return r.includes(t.id)&&e.push((n=((e,t)=>{for(var a in t||(t={}))xi.call(t,a)&&ki(e,a,t[a]);if(Si)for(var a of Si(t))Pi.call(t,a)&&ki(e,a,t[a]);return e})({},t),l={count:a[t.id]},Ii(n,wi(l)))),e}),[])},Li=({records:e,collectionRecords:t,storeTags:a=[],selectedCollectionId:r})=>{const n=Ni(e,a);return r!==Et.U.ALL?((e,t,a)=>{const r=Ni(t,a);return yi(e,r)})(n,t,a):n};var ji=a(74272),Mi=a(24438);const Ai=a.n(Mi)()`
    query getStoreTags($groupName: String, $locale: String, $sortBy: String, $sortDir: String) {
  Catalog {
    tags(
      count: 999
      groupName: $groupName
      locale: $locale
      sortBy: $sortBy
      sortDir: $sortDir
    ) {
      elements {
        id
        name
        groupName
      }
      paging {
        count
        total
      }
    }
  }
}
    `;var Ti=a(4663),_i=a(73525),Di=const Ri=(0,Da.uB)("storeTagApi"),Bi=Zi=(e,t)=>Di(void 0,[e,t],(function*(e,{groupName:t,isOnline:a,locale:r,sortBy:n,sortDir:l}){const{cached:o,isExpired:i}=yield(e=>Di(void 0,[e],(function*({groupName:e,locale:t}){try{const a=yield Ra.CV.get(Bi(e,t)),r=(0,Da.bs)((null==a?void 0:a._expiresAt)||0);return{cached:null==a?void 0:a.data,isExpired:r}}catch(e){return Ri.warn("getCachedStoreTags","failed IDB get",{error:e.message}),{cached:void 0,isExpired:!0}}})))({groupName:t,locale:r});if(o&&o.length&&!i)return Ri.log("getCachedOrRemote","using indexedDB",{records:o}),o;if(!a)return Ri.log("getCachedOrRemoteStoreTags","user is not online, using indexedDB",{records:o}),o||[];const c=yield((e,t)=>Di(void 0,[e,t],(function*(e,{groupName:t,locale:a,sortBy:r,sortDir:n}){var l,o;try{const i=yield(0,_i.J)({httpLink:e,query:Ai,variables:{groupName:t,locale:a,sortBy:r,sortDir:n}});return Ri.log("getRemoteStoreTags","success",i),null==(o=null==(l=i.Catalog)?void 0:l.tags)?void 0:o.elements}catch(e){return void Ri.warn("getRemoteStoreTags","failed",{error:e.message})}})))(e,{groupName:t,locale:r,sortBy:n,sortDir:l});return Ri.log("getCachedOrRemoteStoreTags","using GQL item",{groupName:t,locale:r}),c&&c.length?(c&&(Ri.log("getCachedOrRemoteStoreTags","updating local cache",{groupName:t}),(({groupName:e,tags:t,locale:a})=>{if(!t.length||!a)return;const r={_expiresAt:(0,Da.g6)(ji.ed),groupName:e,id:Bi(e,a),data:t};Ra.CV.put(r).catch((e=>{Ri.warn("setCachedStoreTags","failed IDB put",{error:e.message})}))})({groupName:t,tags:c,locale:r})),c):(Ri.log("getCachedOrRemoteStoreTags","remote tags failed to load, using indexedDB",{records:o}),o||[])}));var Fi=a(73323);const Ui=({groupName:e,sortBy:t,sortDir:a})=>{const r=(0,oe.useLocalizationLocale)(),n=(0,i.c)(),l=(0,Fi.xj)(),o=(0,Ti.O)({query:Ai,variables:{groupName:e,locale:r,sortBy:t,sortDir:a}}),{data:c}=(0,Ta.aM)(o,(()=>Zi(l,{groupName:e,isOnline:n,locale:r,sortBy:t,sortDir:a})));return c},Wi=[{id:`${Oa.WINDOWS}-filter`,name:Oa.WINDOWS,groupName:"platform",count:0},{id:`${Oa.WIN32}-filter`,name:Oa.WIN32,groupName:"platform",count:0},{id:`${Oa.MAC}-filter`,name:Oa.MAC,groupName:"platform",count:0}],Ki=(e,t)=>{const a=[];return e.forEach((e=>{var r,n,l,o;const i=null!=(o=null==(l=(null!=(n=null==(r=e.catalogItem)?void 0:r.releaseInfo)?n:[])[0])?void 0:l.platform)?o:[];Object.values(Oa).forEach((e=>{if(i.includes(e)){const r=t(`egstore.library.filter_side_panel.${e}`)||"";Ei({tagsForDisplay:a,currentTags:Wi,name:e,message:r})}}))})),a},zi=()=>{const{selectedCollectionId:e}=Nr(),{records:t}=ya(),{records:a}=ya(e),n=(0,oe.useLocalization)();return(0,r.useMemo)((()=>{const r=Ki(t,n);return e!==Et.U.ALL?((a,n,r):r}),[t,e,a])},Vi=({onFilterClick:e,activeFilters:t,numberOfItems:a=0})=>{const r=!!t&&t.includes(fa.INSTALLED),l=0===a;let o;return o=l&&r?"(0)":l?"":`(${a})`,n().createElement($o.Z,{"data-testid":"library-filter-section-installed",renderTitle:()=>n().createElement(Yo.Z,{onClick:text:n().createElement(Uo.v0,{code:"egstore.library.filter_side_panel.installed",args:[o]}),checked:r,disabled:l})})};var Hi=a(10658);const $i=n().forwardRef((({onChange:e,onClear:t,value:a},r)=>{const l=(0,oe.useLocalization)();return n().createElement(Hi.Z,{"data-testid":"library-filter-section-keyword",ref:r,onChange:e,onClear:t,placeholder:l("egstore.library.hub.product.list.search_placeholder"),value:a})})),Gi=({onFilterClick:e,activeFilters:t,storeTags:a})=>n().createElement(Jo,{title:n().createElement(Uo.v0,{code:"diesel.products.about.meta.platform"}),storeTags:a||[],onFilterClick:e,activeFilters:t,type:fa.PLATFORM});var qi=a(73497);const Yi=(0,m.i)((e=>({titleDiv:(0,b.iv)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:7,"& > button":{paddingTop:0,paddingBottom:0}}),keywordFilter:(0,b.iv)({padding:"12px 0",margin:"18px 12px 6px 12px",borderBottom:`1px solid ${e.backgroundOverlay}`})}))),Ji=({sectionTitle:e,filterByKeyword:t,customResults:a,installed:r,genres:l,features:o,categories:i,platforms:c})=>{const s=Yi();return n().createElement(qi.Z,null,n().createElement("div",{className:s.titleDiv},e),n().createElement("div",{className:s.keywordFilter},t),a,r,l,o,i,c)},Xi={padding:"10px 0",marginLeft:12},Qi={paddingBottom:10,marginLeft:12},ec=({animation:e})=>n().createElement("div",{style:Xi},n().createElement(Ee.Od,{animation:e,height:14,width:100})),tc=({animation:e})=>n().createElement(Ji,{sectionTitle:n().createElement("div",{style:Qi},n().createElement(Ee.Od,{animation:e,height:14,width:50})),filterByKeyword:n().createElement(Ee.Od,{animation:e,height:40,width:160}),genres:n().createElement($o.Z,{renderTitle:()=>n().createElement("div",{style:Xi},n().createElement(Ee.Od,{animation:e,height:14,width:50}))},n().createElement(ec,{animation:e}),n().createElement(ec,{animation:e}),n().createElement(ec,{animation:e}))});var ac=a(36751),rc=a(257);const nc=()=>{const{selectedFilters:e,resetFilters:t,keywordValue:a,setKeywordValue:l,numberActiveFilters:o,onFilterClick:i}=Or(),{selectedCollectionId:c}=Nr(),{records:s}=ya(c),d=(0,qe.useSelector)(ir.xp),{resetQueryParams:u}=ni(),m=Oi(),p=zi(),b=(()=>{const{selectedCollectionId:e}=Nr(),t=Ui({groupName:fa.GENRE,sortBy:ji.sH,sortDir:ji.NV}),{records:a}=ya(),{records:n}=ya(e);return(0,r.useMemo)((()=>Li({records:a,collectionRecords:n,storeTags:t,selectedCollectionId:e})),[a,n,t,e])})(),g=(()=>{const{selectedCollectionId:e}=Nr(),t=Ui({groupName:fa.FEATURE,sortBy:ji.sH,sortDir:ji.NV}),a=Ui({groupName:"epicfeature",sortBy:ji.sH,sortDir:ji.NV}),n=(0,r.useMemo)((()=>{if(t&&a)return[...a,...t]}),[t,a]),{records:l}=ya(),{records:o}=ya(e);return(0,r.useMemo)((,[l,o,n,e])})(),v=n().useMemo((()=>Sa({items:s,installedRecords:d.latestValue}).length),[s,d.latestValue]),[E,y]=(0,r.useState)(a),[f]=(0,Ho.Z)(E,100,{trailing:!0});n().useEffect((,[f]),n().useEffect((()=>{a!==f&&y(a)}),[a]);return n().createElement(Ji,{sectionTitle:n().createElement(n().Fragment,null,n().createElement(rc.Z,{text:n().createElement(te.Z,{code:"diesel.store.browse.filters",args:o>0?[`(${o})`]:[""]})}),o>0&&n().createElement(ac.Z,{onClick:text:n().createElement(te.Z,{code:"diesel.store.browse.reset"})})),filterByKeyword:n().createElement($i,{onChange:e=>y(e.target.value),onClear:value:E}),installed:n().createElement(Vi,{onFilterClick:i,activeFilters:e[fa.INSTALLED],numberOfItems:v}),customResults:e[fa.CATALOG_ITEM_ID].length?n().createElement(ii,{onFilterClick:i}):null,genres:b.length?n().createElement(si,{onFilterClick:i,storeTags:b,activeFilters:e[fa.GENRE]}):null,features:g.length?n().createElement(ci,{onFilterClick:i,storeTags:g,activeFilters:e[fa.FEATURE]}):null,categories:m.length?n().createElement(Xo,{onFilterClick:i,storeTags:m,activeFilters:e[fa.CATEGORY]}):null,platforms:p.length?n().createElement(Gi,{onFilterClick:i,storeTags:p,activeFilters:e[fa.PLATFORM]}):null})},lc=()=>n().createElement(Ye.n4,{fallback:n().createElement(tc,null)},n().createElement(nc,null)),oc=(0,so.L)(r.createElement("path",{d:"M5 4a1 1 0 00-1 1v5.2a1 1 0 001 1h5.2a1 1 0 001-1V5a1 1 0 00-1-1H5zm8.8 0a1 1 0 00-1 1v5.2a1 1 0 001 1H19a1 1 0 001-1V5a1 1 0 00-1-1h-5.2zM4 13.8a1 1 0 011-1h5.2a1 1 0 011 1V19a1 1 0 01-1 1H5a1 1 0 01-1-1v-5.2zm9.8-1a1 1 0 00-1 1V19a1 1 0 001 1H19a1 1 0 001-1v-5.2a1 1 0 00-1-1h-5.2z"}),"Library"),ic=(0,so.L)(r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM22 2H8v2h14V2zm0 18H8v2h14v-2zM8 11h14v2H8v-2zm-2.5 1a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM4 22.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),"List");var cc=a(91575),sc=Object.defineProperty,dc=Object.defineProperties,uc=Object.getOwnPropertyDescriptors,mc=Object.getOwnPropertySymbols,pc=Object.prototype.hasOwnProperty,bc=Object.prototype.propertyIsEnumerable,gc=(e,t,a)=>t in e?sc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,vc=(e,t)=>{for(var a in t||(t={}))pc.call(t,a)&&gc(e,a,t[a]);if(mc)for(var a of mc(t))bc.call(t,a)&&gc(e,a,t[a]);return e};const Ec=(0,m.i)(((e,{isGridSelected:t,isEnabledEDSPhase1:a})=>{return{gridSelected:(0,b.iv)((r=vc({cursor:t?"default":"pointer",backgroundColor:t?a?Ct.K8.tertiary.select:e.backgroundOverlay:void 0,padding:3,height:30},(0,ne.wz)(3)),n={"&::after, &::hover":t?{backgroundColor:"transparent",opacity:0}:{}},dc(r,uc(n)))),listSelected:(0,b.iv)({cursor:t?"pointer":"default",backgroundColor:t?void 0:a?Ct.K8.tertiary.select:e.backgroundOverlay,padding:6,height:30,"&::after, &::hover":t?{}:{backgroundColor:"transparent",opacity:0}}),listIcon:(0,b.iv)(vc({},a&&{svg:{fill:t?e.textPrimary:Ct.TR.selectDefault}})),gridIcon:(0,b.iv)(vc({fontSize:24},a&&{svg:{fill:t?Ct.TR.selectDefault:e.textPrimary}}))};var r,n})),yc=({value:e,onChange:t})=>{const a=(0,qe.useSelector)(It.e),n=e===or.ms.Grid,l=Ec({isGridSelected:n,isEnabledEDSPhase1:a}),o=r.useCallback((()=>t(or.ms.Grid)),[t]),i=r.useCallback((,[t]);return r.createElement(d.x,null,r.createElement(cc.mJ,{event:{eventAction:"library-hubs-click-grid-layout",eventLabel:"library-hubs-grid-layout",eventValue:e}},r.createElement(tt.h,{"aria-label":"grid",disabled:e===or.ms.Grid,buttonWidth:R.WL.AUTO,buttonHeight:R.Ey.DENSED,onClick:o,variantClassName:l.gridSelected},r.createElement("span",{className:l.gridIcon},r.createElement(oc,null)))),r.createElement(cc.mJ,{event:{eventAction:"library-hubs-click-list-layout",eventLabel:"library-hubs-list-layout",eventValue:e}},r.createElement(tt.h,{"aria-label":"list",disabled:e===or.ms.List,buttonWidth:R.WL.AUTO,buttonHeight:R.Ey.DENSED,onClick:i,variantClassName:l.listSelected},r.createElement("span",{className:l.listIcon},r.createElement(ic,null)))))},fc=(0,m.i)((()=>({sortMenu:(0,b.iv)((0,ne.wz)(10),{minWidth:210}),rightPadding:(0,b.iv)((0,ne.wz)(3))}))),hc=({layoutToggle:e,sortMenu:t})=>{const a=fc();return r.createElement(d.x,{alignItems:u.Ks.Center,justify:u.jf.SpaceBetween},r.createElement("div",{className:a.sortMenu,"data-testid":"sort-menu"},t),r.createElement(d.x,{justify:u.jf.End,"data-testid":"layout-toggle"},e))};var Oc=a(71737),Cc=a(56480),Ic=Object.defineProperty,wc=Object.defineProperties,Sc=Object.getOwnPropertyDescriptors,xc=Object.getOwnPropertySymbols,Pc=Object.prototype.hasOwnProperty,kc=Object.prototype.propertyIsEnumerable,Nc=(e,t,a)=>t in e?Ic(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Lc=e=>{const t=(0,je.P)(Cc.$n,Cc.A2,(r=((e,t)=>{for(var a in t||(t={}))Pc.call(t,a)&&Nc(e,a,t[a]);if(xc)for(var a of xc(t))kc.call(t,a)&&Nc(e,a,t[a]);return e})({},e),n={enabled:!1!==(null==e?void 0:e.enabled)},wc(r,Sc(n)))),{data:a}=t;var r,n;return{totalPlaytime:a,query:((e,t)=>{var a={};for(var r in e)Pc.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&xc)for(var r of xc(e))t.indexOf(r)<0&&kc.call(e,r)&&(a[r]=e[r]);return a})(t,["data"])}};var jc=a(10968),Mc=Object.defineProperty,Ac=Object.defineProperties,Tc=Object.getOwnPropertyDescriptors,_c=Object.getOwnPropertySymbols,Dc=Object.prototype.hasOwnProperty,Rc=Object.prototype.propertyIsEnumerable,Bc=(e,t,a)=>t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Zc=[or.ER.Recent_Played,or.ER.Recent_Purchased,or.ER.Alphabetical_ASC,or.ER.Alphabetical_DESC,or.ER.Time_Played],Fc=e=>{const{value:t,setValue:a}=lr((n=((e,t)=>{for(var a in t||(t={}))Dc.call(t,a)&&Bc(e,a,t[a]);if(_c)for(var a of _c(t))Rc.call(t,a)&&Bc(e,a,t[a]);return e})({},e),l={initialValue:or.ER.Alphabetical_ASC,allowedValues:Zc},Ac(n,Tc(l))));var n,l;const{recordsMap:o}=(0,Oc.B$)(),{totalPlaytime:i}=Lc({suspense:!1}),c=(0,r.useCallback)((e=>{switch(t){case or.ER.Alphabetical_ASC:return(0,jc.He)(e,or.Sr.ASC);case or.ER.Alphabetical_DESC:return(0,jc.He)(e,or.Sr.DESC);case or.ER.Recent_Played:return(0,jc.vG)(o,e);case or.ER.Recent_Purchased:return(0,jc.K_)(e);case or.ER.Time_Played:return(0,jc.IR)(e,i);default:return e}}),[o,t,i]);return{sortType:t,setSortType:a,applySortType:c}};var Uc=a(78512);const Wc=({sortType:e=or.ER.Alphabetical_ASC,onChange:t})=>{const a=(0,Uo.ql)(),n=r.useMemo((()=>(e=>[{label:e("egstore.library.sort.recently_played")||or.ER.Recent_Played,value:or.ER.Recent_Played},{label:e("egstore.library.sort.recently_purchased")||or.ER.Recent_Purchased,value:or.ER.Recent_Purchased},{label:e("egstore.library.sort.alphabetical.asc")||or.ER.Alphabetical_ASC,value:or.ER.Alphabetical_ASC},{label:e("egstore.library.sort.alphabetical.desc")||or.ER.Alphabetical_DESC,value:or.ER.Alphabetical_DESC},{label:e("egstore.library.sort.time_played")||or.ER.Time_Played,value:or.ER.Time_Played}])(a)),[a]);return r.createElement(Uc.Z,{id:"sort-dropdown",label:r.createElement(Uo.v0,{code:"egstore.library.sort.title"}),options:n,selectedValue:e,onChange:t})},Kc=({layoutType:e=or.ms.Grid,onLayoutChange:t,onSortChange:a,sortType:n=or.ER.Alphabetical_ASC})=>r.createElement(hc,{sortMenu:r.createElement(Wc,{sortType:n,onChange:a}),layoutToggle:r.createElement(yc,{value:e,onChange:t})});var zc=Object.defineProperty,Vc=Object.defineProperties,Hc=Object.getOwnPropertyDescriptors,$c=Object.getOwnPropertySymbols,Gc=Object.prototype.hasOwnProperty,qc=Object.prototype.propertyIsEnumerable,Yc=(e,t,a)=>t in e?zc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Jc=()=>{const e=(0,qe.useSelector)(cr.vR),t={keyFn:()=>`${or.i3}_${e||Ia.v.ANONYMOUS}`,localStorageEnabled:!0},{value:a,setValue:r,query:n}=lr((l=((e,t)=>{for(var a in t||(t={}))Gc.call(t,a)&&Yc(e,a,t[a]);if($c)for(var a of $c(t))qc.call(t,a)&&Yc(e,a,t[a]);return e})({},t),o={initialValue:or.ms.Grid,allowedValues:[or.ms.Grid,or.ms.List]},Vc(l,Hc(o))));var l,o;return{layoutType:a,setLayoutType:r,isLoaded:n.isSuccess}};var Xc=Object.defineProperty,Qc=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ts=Object.getOwnPropertySymbols,as=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,ns=(e,t,a)=>t in e?Xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ls=(e,t)=>{for(var a in t||(t={}))as.call(t,a)&&ns(e,a,t[a]);if(ts)for(var a of ts(t))rs.call(t,a)&&ns(e,a,t[a]);return e},os=(e,t)=>Qc(e,es(t));const is=(Pl.bg-24)/2,cs=(Pl.nx-24)/2,ss=(0,m.i)(((e,t)=>{const a=(0,b.iv)({width:"100%"});return{component:a,root:(0,b.iv)(os(ls({},(0,nt.ip)("background-color")),{position:"relative",backgroundColor:t?Ct.RU.elevated.high.default:e.level1,height:Pl.Zg,border:0,borderRadius:t?fe.VY:U.E0,display:"flex",alignItems:"center","&.hasHover:hover, &.active":{backgroundColor:t?Ct.RU.elevated.high.hover:e.level2,color:t?void 0:e.accentText}})),image:(0,b.iv)({position:"relative",borderRadius:U.E0,margin:10,height:Pl.bg,width:Pl.nx,backgroundColor:e.backgroundOverlay,"&::after":os(ls(ls(ls({},(0,nt.ip)("opacity")),bl.a),Ot.d),{borderRadius:U.E0,backgroundColor:fe.ix,opacity:0,".hasHover:hover &, .active &":{opacity:.15}})}),title:(0,b.iv)((0,ne.WL)(5),{"button:hover &, button:focus &":{textDecoration:"underline"}}),settings:(0,b.iv)((0,ne.NS)((0,ne.WL)(10),(0,ne.rv)(35)),{position:"relative",height:34,display:"flex",alignItems:"center"}),settingsButton:(0,b.iv)({width:32,height:24}),settingsMenu:(0,b.iv)({width:"max-content",minWidth:280,[p.Uc.lg]:{minWidth:315},[p.Uc.xl]:{minWidth:340}}),settingsSpacer:(0,b.iv)({width:77,height:"100%"}),favoriteDiv:(0,b.iv)(os(ls({top:is},(0,ne.F2)(cs)),{[`.${a}:hover &`]:{opacity:1}})),infoText:(0,b.iv)({fontSize:12,color:t?e.textSecondary:e.textPrimary})}})),ds=({achievements:e,active:t,badges:a,contextMenu:n,hasHover:l,image:o,installSize:i,playtime:c,renderSettingsMenu:s,subtitle:m,title:p,renderFavorite:g,onClick:v,disabled:E,forwardedRef:y,onContextMenu:f,onKeyDown:h})=>{const O=(0,qe.useSelector)(It.e),C=ss(O),I=(0,b.cx)(C.root,{active:t,hasHover:l}),w=r.useMemo((()=>v&&l?r.createElement(ft.Z,{onClick:v,"data-testid":"card-btn",disabled:E},r.createElement(ae.ZP,{textLevel:F.N.PRIMARY},r.createElement("div",{className:C.title},p)),m):r.createElement(r.Fragment,null,r.createElement(ae.ZP,{textLevel:F.N.PRIMARY},r.createElement("div",{className:C.title},p)),m)),[p,l,v]),S=r.createElement("span",{style:O?{color:Ct.cM.secondary}:void 0},"-");return r.createElement("div",{className:C.component,ref:y,onContextMenu:f,onKeyDown:h,"data-testid":"card"},r.createElement("div",{className:I},r.createElement("div",{className:C.image},o),r.createElement(N,{justify:u.jf.SpaceBetween},r.createElement(L,{xs:4,alignSelf:u.Nn.Center},w),r.createElement(L,{xs:2,alignSelf:u.Nn.Center},r.createElement(d.x,{centerContent:!0},e)),r.createElement(L,{xs:2,alignSelf:u.Nn.Center},r.createElement(d.x,{centerContent:!0},null!=a?a:S)),r.createElement(L,{xs:2,alignSelf:u.Nn.Center},r.createElement(d.x,{centerContent:!0},r.createElement("div",{className:C.infoText},c))),r.createElement(L,{xs:2,alignSelf:u.Nn.Center},r.createElement(d.x,{centerContent:!0},r.createElement("div",{className:C.infoText},i)))),r.createElement(Zl,{landscape:!0,favorite:g&&g(C.favoriteDiv)}),s?r.createElement("div",{className:C.settings},s({button:C.settingsButton,menu:C.settingsMenu})):r.createElement("div",{className:C.settingsSpacer}),n))};var us=Object.defineProperty,ms=Object.defineProperties,ps=Object.getOwnPropertyDescriptors,bs=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,Es=(e,t,a)=>t in e?us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ys=(e,t)=>{for(var a in t||(t={}))gs.call(t,a)&&Es(e,a,t[a]);if(bs)for(var a of bs(t))vs.call(t,a)&&Es(e,a,t[a]);return e},fs=(e,t)=>ms(e,ps(t));const hs={imageWrapper:(0,b.iv)(fs(ys({},(0,fe.fF)(fe.oM.x3x4)),{borderRadius:fe.E0})),fakeImage:(0,b.iv)(fs(ys({},bl.a),{height:"auto"}))},Os=({Image:e,Layout:t})=>({animation:a})=>{const n={title:r.createElement(Ee.Od,{variant:Ee.Jy.Text,height:20,width:"100%",animation:a}),subtitle:r.createElement(Ee.Od,{variant:Ee.Jy.Text,height:15,width:"50%",animation:a}),image:r.createElement(e,{animation:a})};return r.createElement(t,ys({},n))},Cs=Os({Image:({animation:e})=>r.createElement("div",{className:hs.imageWrapper},r.createElement(Ee.Od,{width:"100%",className:hs.fakeImage,animation:e})),Layout:Yl}),Is=Os({Image:({animation:e})=>r.createElement(Ee.Od,{width:Pl.nx,height:Pl.bg,animation:e}),Layout:ds}),ws=({animation:e})=>r.createElement(hc,{sortMenu:r.createElement(Ee.Od,{width:200,height:30,animation:e}),layoutToggle:r.createElement(d.x,null,r.createElement(Ee.Od,{width:30,height:30,style:{margin:"0 3px"},animation:e}),r.createElement(Ee.Od,{width:30,height:30,animation:e}))});var Ss=a(43442),xs=a(8132);const Ps=(0,m.i)(((e,t)=>({root:(0,b.iv)({position:"relative",width:"100%",height:"100%",border:0,paddingBottom:t>0?95:0,[p.Uc.lg]:{paddingBottom:t>0?105:0},"& :hover":{backgroundColor:e.backgroundOverlay}}),body:(0,b.iv)({height:"100%",paddingBottom:t>0?0:"calc(4 / 3 * 41%)",borderRadius:fe.E0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.level1}),title:(0,b.iv)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:t>0?0:"50%",textAlign:"center",padding:"0 10px",pointerEvents:"none"}),icon:(0,b.iv)({fontSize:22.5,paddingBottom:13.75,[p.Uc.lg]:{paddingBottom:18.75,fontSize:22.5},[p.Uc.xl]:{fontSize:24}})}))),ks=({onClick:e,numItems:t,code:a})=>{const r=Ps(t);return n().createElement(ft.Z,{onClick:e,className:r.root,"data-testid":"empty-library-card"},n().createElement("div",{className:r.body},n().createElement("div",{className:r.title},n().createElement("div",{className:r.icon},n().createElement(xs.l,null)),n().createElement(ae.ZP,{textLevel:F.N.PRIMARY},n().createElement(te.Z,{code:a})))))};var Ns=Object.defineProperty,Ls=Object.defineProperties,js=Object.getOwnPropertyDescriptors,Ms=Object.getOwnPropertySymbols,As=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable,_s=(e,t,a)=>t in e?Ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ds=(e,t)=>{for(var a in t||(t={}))As.call(t,a)&&_s(e,a,t[a]);if(Ms)for(var a of Ms(t))Ts.call(t,a)&&_s(e,a,t[a]);return e};const Rs=(0,m.i)((e=>{return{root:(0,b.iv)({position:"relative",width:"100%",height:"100%",border:0,"& :hover":{backgroundColor:e.backgroundOverlay}}),body:(0,b.iv)({height:75,borderRadius:fe.E0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.level1,[p.Uc.lg]:{height:80}}),title:(0,b.iv)({display:"flex",alignItems:"center",padding:"0 10px",pointerEvents:"none"}),icon:(0,b.iv)((t=Ds({fontSize:11.25},(0,ne.wz)(12)),a={marginTop:2,[p.Uc.lg]:Ds({fontSize:15,marginTop:3},(0,ne.wz)(12.5))},Ls(t,js(a))))};var t,a})),Bs=({onClick:e,code:t})=>{const a=Rs();return n().createElement(ft.Z,{onClick:e,className:a.root,"data-testid":"empty-library-card"},n().createElement("div",{className:a.body},n().createElement("div",{className:a.title},n().createElement("div",{className:a.icon},n().createElement(xs.l,null)),n().createElement(ae.ZP,{textLevel:F.N.PRIMARY},n().createElement(te.Z,{code:t})))))},Zs=({layout:e,numItems:t})=>{const a=(0,qe.useDispatch)(),r=(0,qe.useSelector)(cr.LF),l=(0,ei.useLocation)(),o=n().useCallback((()=>r===Ia.v.OFFLINE?a(Ss.ZP.requestSignIn(l.pathname)):a((0,ti.VF)((0,ai.generateRoutePath)("/")))),[r]),i=n().useMemo((()=>r===Ia.v.OFFLINE?"diesel.library.cards.shopOffline":"diesel.library.cards.shop"),[r]);return e===or.ms.Grid?n().createElement(ks,{onClick:o,numItems:t,code:i}):n().createElement(Bs,{onClick:o,code:i})};var Fs=a(88325);const Us=(0,m.i)((e=>({root:(0,b.iv)({width:"100%",borderTop:`1px solid ${e.backgroundOverlay}`,padding:"10px 0",display:"flex"}),title:(0,b.iv)((0,ne.oI)(-65)),imageSpacer:(0,b.iv)({width:65}),settingsSpacer:(0,b.iv)({width:77,height:"100%"})}))),Ws=()=>{const e=Us();return r.createElement("div",{className:e.root},r.createElement("div",{className:e.imageSpacer}),r.createElement(N,null,r.createElement(L,{xs:4},r.createElement(d.x,{className:e.title,fillParent:!0,justify:u.jf.Start},r.createElement(Fs.x,{code:"egstore.library.hub.product.list.search_placeholder"}))),r.createElement(L,{xs:2},r.createElement(d.x,{fillParent:!0,centerContent:!0},r.createElement(Fs.x,{code:"egstore.achievements"}))),r.createElement(L,{xs:2},r.createElement(d.x,{fillParent:!0,centerContent:!0},r.createElement(Fs.x,{code:"diesel.products.addons"}))),r.createElement(L,{xs:2},r.createElement(d.x,{fillParent:!0,centerContent:!0},r.createElement(Fs.x,{code:"egstore.library.column.timePlayed"}))),r.createElement(L,{xs:2},r.createElement(d.x,{fillParent:!0,centerContent:!0},r.createElement(Fs.x,{code:"egstore.library.column.size"})))),r.createElement("div",{className:e.settingsSpacer}))},Ks=(0,m.i)((e=>({root:(0,b.iv)({display:"flex",flexDirection:"column",paddingBottom:50}),header:(0,b.iv)({position:"sticky",top:100,minHeight:40,margin:"0 -16px 16px -16px",padding:"0 16px",zIndex:Rl+1,background:e.background}),footer:(0,b.iv)({marginTop:20,[p.Uc.xl]:{marginTop:30}}),cssGrid:(0,b.iv)({display:"grid",gap:32,gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",[p.Uc.xl]:{gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))"},[p.Uc.xxl]:{gridTemplateColumns:"repeat(auto-fill, minmax(190px, 1fr))"}}),cssList:(0,b.iv)({display:"grid",gap:6,gridTemplateColumns:"repeat(auto-fill, 100%)"})}))),zs=({footer:e,header:t,items:a,totalItems:n,layout:l,renderItem:o,shouldShowEmptyLibraryCard:i,renderEmptySearch:c,renderEmptyCollection:s,renderFilterSidePanel:d})=>{const u=Ks();return r.createElement("div",{className:u.root,"data-testid":"ProductListSectionLayout","data-layout":l},r.createElement(N,{spacing:20},r.createElement(L,{xs:d?9:12,xxl:d?10:12},t&&!s&&r.createElement("div",{className:u.header,"data-testid":"product-list-section-header"},t),r.createElement("div",{"data-layout":l,"data-testid":"product-list-section-main"},l===or.ms.List&&!s&&!c&&r.createElement("div",{"data-testid":"product-list-section-column-header"},r.createElement(Ws,null)),c,s,a&&o&&r.createElement("div",{className:l===or.ms.Grid?u.cssGrid:u.cssList},a.map(((e,t)=>r.createElement("div",{key:e.relationshipId},o(e,t)))),i?r.createElement("div",null,r.createElement(Zs,{layout:l,numItems:n||0})):null),r.createElement("div",{className:u.footer},e))),d&&r.createElement(L,{xs:3,xxl:2},r.createElement("aside",null,d))))};var Vs=Object.defineProperty,Hs=Object.getOwnPropertySymbols,$s=Object.prototype.hasOwnProperty,Gs=Object.prototype.propertyIsEnumerable,qs=(e,t,a)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ys=(e,t)=>{for(var a in t||(t={}))$s.call(t,a)&&qs(e,a,t[a]);if(Hs)for(var a of Hs(t))Gs.call(t,a)&&qs(e,a,t[a]);return e};const Js={footer:(0,b.iv)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0"}),pagination:(0,b.iv)({[fe.Uc.lg]:Ys({},(0,ne.wz)(31)),[fe.Uc.xl]:Ys({},(0,ne.wz)(42)),[fe.Uc.maxWidth]:Ys({},(0,ne.wz)(57))})},Xs=({animation:e})=>n().createElement("div",{className:Js.footer},n().createElement(Ee.Od,{variant:Ee.Jy.Rect,animation:e,width:150,height:30}),n().createElement("div",{className:Js.pagination},n().createElement(Ee.Od,{variant:Ee.Jy.Rect,animation:e,width:150,height:30})),n().createElement(Ee.Od,{variant:Ee.Jy.Rect,animation:e,width:100,height:30}));var Qs=a(81198);const ed=new Array(12).fill(0).map(((e,t)=>(0,Qs.fS)({namespace:"skeleton",catalogItemId:`${t}`,appName:`app${t}`}))),td=({layout:e,animation:t})=>{const a=(0,cl.dD)(),r=e===or.ms.Grid?Cs:Is;return n().createElement(zs,{header:n().createElement(ws,{animation:t}),footer:n().createElement(Xs,{animation:t}),items:ed,layout:e,renderItem:shouldShowEmptyLibraryCard:!1,renderFilterSidePanel:a?null:n().createElement(tc,{animation:t})})};var ad=a(8825);const rd=()=>{};var nd=a(83161),ld=a(78317),od=a(83231),id=a(6009),cd=a(20147),sd=a(22850);const dd=(0,b.iv)({verticalAlign:"top","& span":{textTransform:"none",[fe.Uc.lgOnly]:{fontSize:12},[fe.Uc.maxWidth]:{fontSize:12,lineHeight:"15px"}}}),ud=({children:e})=>n().createElement("span",{className:dd,"data-testid":"AchievementStatusText"},n().createElement(B.Z,{textLevel:F.N.SECONDARY},e));var md=a(72668),pd=a(5094),bd=Object.defineProperty,gd=Object.getOwnPropertySymbols,vd=Object.prototype.hasOwnProperty,Ed=Object.prototype.propertyIsEnumerable,yd=(e,t,a)=>t in e?bd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,fd=(e,t)=>{for(var a in t||(t={}))vd.call(t,a)&&yd(e,a,t[a]);if(gd)for(var a of gd(t))Ed.call(t,a)&&yd(e,a,t[a]);return e};const hd=(0,m.i)((()=>({status:(0,b.iv)({display:"flex",alignItems:"center"}),icon:(0,b.iv)(fd({},(0,ne.wz)(4)))}))),Od=({totalValue:e,progressionValue:t,platinumEarned:a})=>{const n=hd();return r.createElement("div",{className:n.status,"data-testid":"AchievementsStatus"},a&&r.createElement("div",{className:n.icon},r.createElement(md.Z,{icon:pd.kf.PLATINUM_TROPHY,size:pd.J7.XXXSMALL})),r.createElement(ud,null,r.createElement(Uo.v0,{code:"egstore.achievements.achievements",args:[t,e]})))};var Cd=a(62245),Id=a(55132),wd=a(84498);const Sd=e=>wd.Z.trackEvent({eventCategory:cc.ro.EGS_USER_INTERACTION,interactionType:cc.B8.CLICK,eventAction:cc.DI.EGS_ACHIEVEMENTS_LIBRARY_CLICK,eventValue:e});var xd=a(45145);var Pd=a(4798);const kd=(e,t)=>{const{achievementsLinkTo:a}=(({sandboxId:e},t)=>({achievementsLinkTo:(0,xd.Z)({sandboxId:e},t)}))({sandboxId:e},t);return{achievementsLinkTo:a,gotoAchievements:(0,Pd.X)(a)}};var Nd=a(68356),Ld=Object.defineProperty,jd=Object.defineProperties,Md=Object.getOwnPropertyDescriptors,Ad=Object.getOwnPropertySymbols,Td=Object.prototype.hasOwnProperty,_d=Object.prototype.propertyIsEnumerable,Dd=(e,t,a)=>t in e?Ld(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Rd=(e,t)=>{for(var a in t||(t={}))Td.call(t,a)&&Dd(e,a,t[a]);if(Ad)for(var a of Ad(t))_d.call(t,a)&&Dd(e,a,t[a]);return e};const Bd=(0,m.i)(((e,t)=>{return{button:(0,b.iv)({display:"flex",alignItems:"center",justifyContent:"space-around",padding:"15px 10px"}),progress:(0,b.iv)((a=Rd({width:60,borderRadius:25},!t&&{border:"5px solid transparent"}),r={"button:hover &, button:focus &":Rd(Rd({},!t&&{borderColor:fe.yS,"& > [role='progressbar']":{background:fe.e1}}),t&&{"& > [role='progressbar'] > div":{background:Ct.K8.primary.hover}}),[p.Uc.lg]:{width:75},[p.Uc.xxl]:{width:100}},jd(a,Md(r))))};var a,r})),Zd=({percent:e,tooltipText:t})=>{const a=(0,qe.useSelector)(It.e),r=Bd(a),l=n().useRef(null),{namespace:o}=(0,Cd.wK)(),i=(0,qe.useDispatch)(),{gotoAchievements:c,achievementsLinkTo:s}=kd(o,{suspense:!1}),d=n().useCallback((,[c,s,i]);return n().createElement(n().Fragment,null,n().createElement(ft.Z,{className:r.button,onClick:d,ref:l},n().createElement("div",{className:r.progress},n().createElement(Nd.E,{percent:e,variant:a?void 0:Nd.M.GREYSCALE}))),n().createElement(rt.u,{anchorRef:l,delay:500},t))};var Fd=Object.defineProperty,Ud=Object.defineProperties,Wd=Object.getOwnPropertyDescriptors,Kd=Object.getOwnPropertySymbols,zd=Object.prototype.hasOwnProperty,Vd=Object.prototype.propertyIsEnumerable,Hd=(e,t,a)=>t in e?Fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,$d=(e,t)=>{for(var a in t||(t={}))zd.call(t,a)&&Hd(e,a,t[a]);if(Kd)for(var a of Kd(t))Vd.call(t,a)&&Hd(e,a,t[a]);return e};const Gd=({isGridView:e})=>{const t=(0,qe.useSelector)(od.gB),{namespace:a,catalogItemId:n,appName:l}=(0,Cd.wK)(),o=(0,Id.K)(a,n,l),c=(0,qe.useSelector)(ld.vR)||"",s=(0,i.c)(),d=(null==o?void 0:o.catalogItem)&&!(0,Ft.kV)(o.catalogItem.categories)&&!(0,Ft.Bv)(o.catalogItem.categories)&&!(0,Ft.ZT)(o.catalogItem.categories),{data:u}=(0,cd.y)({epicAccountId:c,sandboxId:a},{enabled:s}),{productAchievements:m}=(0,id.R)({sandboxId:a},{enabled:Boolean(s&&a)}),p=u?(b=$d({},u),Ud(b,Wd({totalXP:0}))):{achievementSets:[],totalXP:0,totalUnlocked:0,playerAwards:[]};var b;const g=null!=m?m:{achievementSets:[],totalProductXP:0,totalAchievements:0},{platinum:v,totalAchievements:E,totalUnlocked:y}=(0,sd.XA)(g,p,t),f=r.useMemo((()=>E>0?y/E:0),[y,E]);return d&&E>0?e?r.createElement(Od,{totalValue:E,progressionValue:y,platinumEarned:v}):r.createElement(Zd,{percent:f,tooltipText:`${y}/${E}`}):null},qd=e=>r.createElement(Ye.n4,{fallback:null},r.createElement(Gd,$d({},e)));var Yd=a(73142),Jd=a(43077),Xd=a(92964);const Qd=()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)(((t,a)=>{e((0,Me.w0)({collection:t,item:a}))}),[e])},eu=({disabled:e,onClick:t})=>n().createElement(vn.c,{horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.add_to_favorites"}),onClick:t,disabled:e}),tu=()=>{const e=(0,Cd.wK)(),{namespace:t,catalogItemId:a,appName:r}=e,{setActiveMenu:l}=(0,gn.U)(),o=(0,i.c)({suspense:!1}),c=Hn({suspense:!1}),s=(0,Id.K)(t,a,r),d=Qd(),u=n().useCallback((()=>{c&&s&&d(c,s),l(void 0)}),[d,c,s,l]);return n().createElement(eu,{onClick:u,disabled:!o})},au=e=>{const t=Object.values(e);return!!t.length&&t.every(Boolean)},ru=(e,t)=>{const{collections:a=[]}=Fe(t),n=(0,qe.useSelector)(Me.$4),l=(0,yt.o)(),o=(0,r.useMemo)((()=>a.reduce(((t,a)=>{var r;const l=null==(r=n[a.collectionId])?void 0:r.latestValue;return t[a.collectionId]=!(!l||!e)&&l.some((e=>(e)),t}),{})),[e,a,n]),i=(0,r.useMemo)((()=>au(o)),[o]),c=(0,r.useMemo)((()=>au((0,v.Z)([l],o))),[l,o]);return{foundInCollectionMap:o,isInAllCollections:i,isInAllCollectionsIgnoreFavorites:c}},nu=(e,t,a)=>{const{foundInCollectionMap:n}=ru(t,a);return(0,r.useMemo)((()=>Boolean(e&&n[e])),[n,e])},lu=(0,so.L)(r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.707 7.707 9 18.414l-4.707-4.707 1.414-1.414L9 15.586l9.293-9.293 1.414 1.414Z"}),"Check");var ou=Object.defineProperty,iu=Object.defineProperties,cu=Object.getOwnPropertyDescriptors,su=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,uu=Object.prototype.propertyIsEnumerable,mu=(e,t,a)=>t in e?ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const pu=(0,m.i)((e=>({icon:(0,b.iv)({color:e.textSecondary,fontSize:24})}))),bu=e=>{var t,a=e,{collectionName:r}=a,l=((e,t)=>{var a={};for(var r in e)du.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&su)for(var r of su(e))t.indexOf(r)<0&&uu.call(e,r)&&(a[r]=e[r]);return a})(a,["collectionName"]);return n().createElement(vn.c,(t=((e,t)=>{for(var a in t||(t={}))du.call(t,a)&&mu(e,a,t[a]);if(su)for(var a of su(t))uu.call(t,a)&&mu(e,a,t[a]);return e})({},l),iu(t,cu({horizontal:!0,title:n().createElement("span",null,r)}))))},gu=({collectionId:e})=>{const t=pu(),a=(0,Cd.wK)(),{namespace:r,catalogItemId:l,appName:o}=a,{setActiveMenu:c}=(0,gn.U)(),s=(0,i.c)({suspense:!1}),d=Ge(e,{suspense:!1}),u=(0,Id.K)(r,l,o),m=Qd(),p=nu(e,a,{suspense:!1}),b=n().useCallback((()=>{d&&u&&m(d,u),c(void 0)}),[m,d,u,c]);return n().createElement(bu,{collectionName:(null==d?void 0:d.name)||"",onClick:()=>b(),disabled:!s||p,icon:p?n().createElement("span",{className:t.icon},n().createElement(lu,null)):void 0})};var vu=Object.defineProperty,Eu=Object.getOwnPropertySymbols,yu=Object.prototype.hasOwnProperty,fu=Object.prototype.propertyIsEnumerable,hu=(e,t,a)=>t in e?vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Ou=e=>n().createElement(vn.c,((e,t)=>{for(var a in t||(t={}))yu.call(t,a)&&hu(e,a,t[a]);if(Eu)for(var a of Eu(t))fu.call(t,a)&&hu(e,a,t[a]);return e})({horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.create_collection"})},e)),Cu=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),r=(0,i.c)({suspense:!1}),{setActiveMenu:l}=(0,gn.U)(),{openModal:o}=Je(),c=(0,qe.useDispatch)(),s=(0,Id.K)(e,t,a),d=gt(),u=n().useCallback((()=>{s&&c((0,Me.bo)(s)),o(),l(void 0)}),[o,l,s]);return n().createElement(Ou,{onClick:u,disabled:!r||!d})},Iu=(0,m.i)((()=>({root:(0,b.iv)({width:"max-content",minWidth:280})}))),wu=()=>{const e=(0,Cd.wK)(),t=Iu(),a=$n({suspense:!1}),l=(0,r.useMemo)((()=>(null==a?void 0:a.length)>0),[a]),{isInAllCollectionsIgnoreFavorites:o}=ru(e,{suspense:!1}),i=l&&!o;return n().createElement("div",{className:t.root},n().createElement(kn.v,{dense:!0,noBorder:!0},l&&a.map((({collectionId:e})=>n().createElement(gu,{key:e,collectionId:e}))),i&&n().createElement(bo,null),n().createElement(Cu,null)))},Su=({subMenu:e,disabled:t})=>n().createElement(ko,{horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.add_to_collection"}),subMenu:e,disabled:t}),xu=()=>{const e=(0,Cd.wK)(),t=(0,i.c)({suspense:!1}),a=gt(),{isInAllCollectionsIgnoreFavorites:r}=ru(e,{suspense:!1}),l=!t||r&&!a;return n().createElement(Su,{subMenu:n().createElement(wu,null),disabled:l})};var Pu=a(74905),ku=a(12117);const Nu=({disabled:e,isUninstalling:t,onClick:a})=>r.createElement(vn.c,{disabled:e,onClick:a,title:t?r.createElement(te.Z,{code:"diesel.library.settings.cancel_uninstall"}):r.createElement(te.Z,{code:"diesel.library.settings.cancel_install"})}),Lu=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),{installState:l}=(0,Jd.e)(e,t,a),o=(0,Pu.m)(),i=(0,ku.u)(e,t,a),c=r.useMemo((()=>(0,Xd.Pb)(l)),[l]),s=(0,Xd.QE)(l),d=r.useCallback((()=>{o({namespace:e,catalogId:t,appName:a}),n(void 0)}),[o,e,t,a,n]);return c?r.createElement(Nu,{disabled:!i,onClick:d,isUninstalling:s}):null};var ju=a(62098);const Mu=(0,ju.u)("cancelWaitingRoom"),Au=({onClick:e})=>r.createElement(vn.c,{onClick:e,title:r.createElement(te.Z,{code:"diesel.library.settings.cancel_waiting_room"})}),Tu=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),{installState:l}=(0,Jd.e)(e,t,a),o=Mu(),i=r.useMemo((()=>(0,Xd.aV)(l)&&(0,Xd.yK)(l)),[l]),c=r.useCallback((()=>{o({namespace:e,catalogId:t,appName:a}),n(void 0)}),[o,e,t,a,n]);return i?r.createElement(Au,{onClick:c}):null};var _u=a(96038);const Du=({onClick:e,disabled:t})=>r.createElement(vn.c,{onClick:e,disabled:t,title:r.createElement(te.Z,{code:"diesel.library.settings.explore_addons"})}),Ru=()=>{const{namespace:e}=(0,Cd.wK)(),{setActiveMenu:t}=(0,gn.U)(),{gotoAllAddons:a,allAddonsLinkTo:n}=(0,_u.R)(e,{suspense:!1}),l=r.useCallback((()=>{t(void 0),a()}),[t,a]);return r.createElement(Du,{onClick:l,disabled:!n})};var Bu=a(70055),Zu=a(47179);var Fu=a(50919);const Uu=({onClick:e,disabled:t})=>r.createElement(vn.c,{onClick:e,disabled:t,title:r.createElement(te.Z,{code:"diesel.library.settings.explore_mods"})}),Wu=()=>{const{namespace:e}=(0,Cd.wK)(),{setActiveMenu:t}=(0,gn.U)(),{gotoAllMods:a,allModsLinkTo:n}=(0,Fu.M)(e,{suspense:!1}),l=r.useCallback((()=>{t(void 0),a()}),[t,a]);return r.createElement(Uu,{onClick:l,disabled:!n})};var Ku=a(9765),zu=a(8474);const Vu=(e,t,a,n,l)=>{const{isModsEnabled:o=!1}=(0,zu.Z)({productId:n,store:"EGS"},l),i=(0,Ku.c)(e,t,a);return(0,r.useMemo)((()=>((e,t)=>!(!e||!(0,Ft.CR)(null==t?void 0:t.categories)))(o,i)),[i,o])};var Hu=a(45382),$u=a(10247),Gu=a(67126),qu=a(51025),Yu=a(43221),Ju=a(18497),Xu=a(58727),Qu=a(51794),em=a(15839),tm=a(99282);const am=/^extraLaunchOption_.*_Name$/,rm=(e,t)=>{const a=e&&e.key||"",r=t&&t.key||"";return a.localeCompare(r)},nm=(e,t)=>e.reduce(((e,a)=>{const{customAttributes:r}=a.catalogItem||{};return r&&r.forEach((n=>{const{key:l,value:o}=n;if(am.test(l)&&o){const[n]=l.split(Qu.eL.EXTRA_LAUNCH_OPTION_NAME_SUFFIX);(e=>{const{customAttributes:t,key:a,platform:r}=e,n=`${a}${Qu.eL.EXTRA_LAUNCH_OPTION_PLATFORM_RESTRICTION_SUFFIX}`,l=`${a}${Qu.eL.EXTRA_LAUNCH_OPTION_ARGS_SUFFIX}`,o=(0,em.P)(n,t),i=o?(0,$u.Z)((0,zt.Z)(Gu.Z,qu.Z),(0,Yu.Z)(",",o)):[],c=!!(0,em.P)(l,t),s=!o||(0,Ju.Z)((0,qu.Z)(r),i);return c&&s})({customAttributes:r,key:n,platform:t})&&e.push({id:`${a.relationshipId}:${n}`,key:n,name:o,params:(0,Xu.Z)(["namespace","catalogItemId","appName"],a)})}})),e}),[]).sort(rm);var lm=a(8543),om=a(50801);const im=(e,t,a)=>{const n=(0,Ku.c)(e,t,a);return(0,r.useMemo)((()=>(0,om.K)(null==n?void 0:n.customAttributes)),[null==n?void 0:n.customAttributes])};var cm=a(30332),sm=a(61318),dm=a(46514),um=a(97748),mm=Object.defineProperty,pm=Object.defineProperties,bm=Object.getOwnPropertyDescriptors,gm=Object.getOwnPropertySymbols,vm=Object.prototype.hasOwnProperty,Em=Object.prototype.propertyIsEnumerable,ym=(e,t,a)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const fm=(e=[],t)=>{const a=(0,um.D)(e.map(()),n=(0,dm.qb)(a,(l=((e,t)=>{for(var a in t||(t={}))vm.call(t,a)&&ym(e,a,t[a]);if(gm)for(var a of gm(t))Em.call(t,a)&&ym(e,a,t[a]);return e})({},t),o={enabled:Boolean(null==a?void 0:a.length)&&!1!==(null==t?void 0:t.enabled)},pm(l,bm(o))));var l,o;return(0,r.useMemo)((()=>!!(null==a?void 0:a.length)&&(!(!(null==a?void 0:a.length)||(null==n?void 0:n.length))||!n.every(())),[a,n])};var hm=a(92277),Om=a(71573);const Cm=(e="",t="",a="")=>{const r=(0,Id.K)(e,t,a);return Boolean(null==r?void 0:r.owned)};var Im=a(98197),wm=a(82904);const Sm=(e="",t="",a="")=>{const{installState:n}=(0,Jd.e)(e,t,a),l=Cm(e,t,a);return(0,r.useMemo)((()=>((e,t=!1)=>!!e&&(0,Xd.Gd)(e)&&!t)(n,l)),[n,l])};var xm=a(79334),Pm=a(38765);const km=()=>{const e=(0,qe.useSelector)(ld.Bc);return(0,r.useMemo)((()=>(0,Pm.J)(e)),[e])},Nm=(e="",t="",a="")=>{const n=(0,hm.M)(e,t,a),l=(0,qe.useSelector)(cr.LF),o=(0,Om.wO)(e,t,a),i=((e="",t="",a="")=>{const{installState:n}=(0,Jd.e)(e,t,a),l=Cm(e,t,a);return(0,r.useMemo)((()=>!(!n||n.serverstatus!==Bt.J0.Offline||l)),[n,l])})(e,t,a),c=Sm(e,t,a),s=(0,Im.B)(e,t,a),d=Cm(e,t,a),u=im(e,t,a),m=km(),p=((e,t,a)=>{const n=(0,tm.c)(e,t,a,{includeMainGameItem:!0,includeHiddenAddons:!0}),l=(0,r.useMemo)((()=>(0,um.D)(n.map(())),[n]);return fm(l,{enabled:Boolean(null==l?void 0:l.length),suspense:!1})})(e,t,a),{installState:b}=(0,Jd.e)(e,t,a),g=(0,wm.a)(e,t,a);return(0,r.useMemo)((()=>(0,xm.y)({allowMultipleInstances:n,authMode:l,availableDate:o,forceGet:i,forceUninstall:c,isUnsupported:s,isUplayGame:u,isUplayLinked:m,isUserEntitledToBuild:d,needsUplayRedemption:p,installState:b,isThirdPartyManagedApp:g})),[n,l,o,i,c,s,u,m,d,p,b,g])};var Lm=a(93038);const jm=({options:e,onClick:t})=>r.createElement(r.Fragment,null,e.map((({id:e,key:a,name:n,params:l})=>r.createElement(vn.c,{key:e,onClick:title:r.createElement(te.Z,{code:n})})))),Mm=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),l=((e="",t="",a="")=>{const[n,...l]=(0,tm.c)(e,t,a,{includeMainGameItem:!0}),o=(0,qe.useSelector)(ir.xp),i=(0,qe.useSelector)(cr.ek);return(0,r.useMemo)((()=>{var e;const t=(null==(e=o.latestValue)?void 0:e[n.relationshipId])&&n.catalogItem?nm([n],i):[];let a=[];return(0,Bt.ZP)().supportsLaunchableAddonsFlow()&&(a=(l||[]).reduce(((e,t)=>{var a;const r=null==(a=o.latestValue)?void 0:a[t.relationshipId];return t.catalogItem&&r&&e.push(t),e}),[])),[...t,...a.length?nm(a,i):[]]}),[o.latestValue,i,n,l])})(e,t,a),o=Nm(e,t,a),i=(0,Hu.n)(),{isThirdPartyManaged:c,triggerLaunchToast:s}=(0,lm.K)(e,t,a),d=r.useCallback(((e,t)=>{i({namespace:e.namespace,catalogId:e.catalogItemId,appName:e.appName,optionKey:t}).then((),n(void 0)}),[i,e,t,a,n,c,s]);return(o===Lm.W.CanLaunch||o===Lm.W.CanLaunchRestricted||o===Lm.W.CanLaunchMultiple)&&l.length>0?r.createElement(jm,{options:l,onClick:d}):null},Am=({onClick:e,disabled:t})=>r.createElement(vn.c,{onClick:e,disabled:t,title:r.createElement(te.Z,{code:"diesel.library.settings.game_achievements"})}),Tm=()=>{const{namespace:e}=(0,Cd.wK)(),{setActiveMenu:t}=(0,gn.U)(),a=(0,qe.useDispatch)(),{gotoAchievements:n,achievementsLinkTo:l}=kd(e,{suspense:!1}),o=r.useCallback((()=>{t(void 0),a(Sd(l)),n()}),[n,l,a,t]);return r.createElement(Am,{onClick:o,disabled:!l})};var _m=a(62374);var Dm=a(12967);const Rm=(e,t)=>{const{productHomeLinkTo:a}=(0,Dm.f)({sandboxId:e},t);return{productHomeLinkTo:a,gotoProductHome:(0,Pd.X)(a)}},Bm=({onClick:e,disabled:t})=>r.createElement(vn.c,{onClick:e,disabled:t,title:r.createElement(te.Z,{code:"diesel.library.settings.go_to_store_page"})}),Zm=()=>{const{namespace:e}=(0,Cd.wK)(),{setActiveMenu:t}=(0,gn.U)(),{gotoProductHome:a,productHomeLinkTo:n}=Rm(e,{suspense:!1}),l=r.useCallback((()=>{t(void 0),a()}),[a,t]);return r.createElement(Bm,{onClick:l,disabled:!n})},Fm=(0,ju.u)("showInstallerOptions"),Um=({onClick:e})=>r.createElement(vn.c,{onClick:e,title:r.createElement(te.Z,{code:"diesel.library.settings.options"})}),Wm=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),{installState:l}=(0,Jd.e)(e,t,a),o=Fm(),i=r.useCallback((()=>{o({namespace:e,catalogId:t,appName:a}),n(void 0)}),[o,e,t,a,n]);return r.useMemo((()=>(0,Xd.t9)(l)),[l])?r.createElement(Um,{onClick:i}):null},Km=e=>()=>{const{isOpenById:t,openModalById:a,closeModalById:n,getData:l}=(0,c.vR)();return(0,r.useMemo)((()=>({isOpen:t(e),openModal:closeModal:()=>n(e),cancelModal:getData:()=>l(e)})),[t,a,n,l])},zm=({title:e,content:t,onCloseClick:a})=>r.createElement(A.P,{header:r.createElement(_.x,{onCloseClick:a},r.createElement(ae.ZP,{weight:ae.G0.BOLD},e)),content:t});var Vm=Object.defineProperty,Hm=Object.getOwnPropertySymbols,$m=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,qm=(e,t,a)=>t in e?Vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ym=(e,t)=>{for(var a in t||(t={}))$m.call(t,a)&&qm(e,a,t[a]);if(Hm)for(var a of Hm(t))Gm.call(t,a)&&qm(e,a,t[a]);return e};const Jm={icon:(0,b.iv)(Ym({display:"inherit"},(0,ne.wz)(14)))},Xm=e=>{var t=e,{title:a,subtitle:n,children:l,icon:o}=t,i=((e,t)=>{var a={};for(var r in e)$m.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Hm)for(var r of Hm(e))t.indexOf(r)<0&&Gm.call(e,r)&&(a[r]=e[r]);return a})(t,["title","subtitle","children","icon"]);return r.createElement(mo.s,Ym({title:r.createElement(d.x,{alignItems:u.Ks.Center},r.createElement("div",{className:Jm.icon},o),a),subtitle:n},i),l&&r.createElement(d.x,{justify:u.jf.End},l))};var Qm=a(88810),ep=Object.defineProperty,tp=Object.defineProperties,ap=Object.getOwnPropertyDescriptors,rp=Object.getOwnPropertySymbols,np=Object.prototype.hasOwnProperty,lp=Object.prototype.propertyIsEnumerable,op=(e,t,a)=>t in e?ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ip=(e,t)=>{for(var a in t||(t={}))np.call(t,a)&&op(e,a,t[a]);if(rp)for(var a of rp(t))lp.call(t,a)&&op(e,a,t[a]);return e},cp=(e,t)=>tp(e,ap(t));const sp={secondaryButton:(0,b.iv)(cp(ip({width:30,height:30},(0,ne.wz)(14)),{"> button":{width:"100%",height:"100%",padding:0}}))},dp=({title:e,subtitle:t,icon:a,secondaryButton:n,primaryButton:l,footer:o,variant:i=Qm.O.TwoColumn})=>{const c={title:e,subtitle:t,borderRadius:fe.E0,hasBackground:!0,footer:o},s=r.createElement(r.Fragment,null,r.createElement(d.x,{alignItems:u.Ks.Center},n&&r.createElement("div",{className:sp.secondaryButton},n),l));return a?r.createElement(Xm,cp(ip({icon:a},c),{variant:i}),s):r.createElement(mo.s,cp(ip({},c),{variant:i}),s)};var up=Object.defineProperty,mp=Object.getOwnPropertySymbols,pp=Object.prototype.hasOwnProperty,bp=Object.prototype.propertyIsEnumerable,gp=(e,t,a)=>t in e?up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,vp=(e,t)=>{for(var a in t||(t={}))pp.call(t,a)&&gp(e,a,t[a]);if(mp)for(var a of mp(t))bp.call(t,a)&&gp(e,a,t[a]);return e};const Ep=e=>r.createElement(ye,{hasHeader:!0,titleWidth:200,content:r.createElement(kn.v,{noBorder:!0,noShadow:!0,noBackground:!0,spacing:10},r.createElement(dp,{title:r.createElement(Ee.Od,vp({variant:Ee.Jy.Text,width:80,height:20},e)),icon:r.createElement(Ee.Od,vp({width:20,height:20},e)),primaryButton:r.createElement(Ee.Od,vp({width:100,height:40},e))}),r.createElement(dp,{title:r.createElement(Ee.Od,vp({variant:Ee.Jy.Text,width:180,height:20},e)),icon:r.createElement(Ee.Od,vp({width:20,height:20},e)),primaryButton:r.createElement(Ee.Od,vp({width:40,height:25},e))}),r.createElement(dp,{title:r.createElement(Ee.Od,vp({variant:Ee.Jy.Text,width:90,height:30},e)),subtitle:r.createElement(Ee.Od,vp({variant:Ee.Jy.Text,width:200,height:20},e)),icon:r.createElement(Ee.Od,vp({width:20,height:20},e)),secondaryButton:r.createElement(Ee.Od,vp({variant:Ee.Jy.Circle,width:"100%",height:"100%"},e)),primaryButton:r.createElement(Ee.Od,vp({width:40,height:25},e))}))});var yp=a(67541);const fp=(0,m.i)((e=>({button:(0,b.iv)((0,W.Bt)(e),{position:"relative",padding:"2px"}),toggle:(0,b.iv)({pointerEvents:"none"})}))),hp=({checked:e,onClick:t,disabled:a,id:n})=>{const l=fp();return r.createElement(ft.Z,{className:l.button,onClick:t,disabled:a},r.createElement(yp.Z,{className:l.toggle,checked:e,disabled:a,id:n}))};var Op=a(8604),Cp=a(25198),Ip=a(30941);const wp=(e="",t="",a="",r={enabled:!0})=>{const n=(0,qe.useSelector)(Op.Ip),{data:l,query:o}=(0,Ip.Y)({bridge:(0,Bt.ZP)(),method:"getAutoUpdate",args:[e,t,a],queryKey:Cp.L6.settingDetail(e,t,a,Cp.nM.AutoUpdate),config:{enabled:n&&Boolean(e&&t&&a)&&r.enabled}});return{autoUpdate:l,query:o}};var Sp=a(36182);const xp=(0,Da.uB)("useProductBridgeMutation"),Pp="setAutoUpdate",kp=(e="",t="",a="",r=cc.Nd.LIBRARY,n={enabled:!0})=>{const{autoUpdate:l,query:o}=wp(e,t,a,n),{mutateAsync:i}=(0,Ta.Db)((n=>{return i=void 0,c=null,s=function*(){if(l!==n){xp.log(Pp,{namespace:e,catalogId:t,appName:a,nextAutoUpdate:n});try{return yield(0,Bt.ZP)().setAutoUpdate(e,t,a,n,r),o.refetch()}catch(e){xp.warn(Pp,"error",{error:e.message}),(0,Sp.pN)(e)}}},new Promise(((e,t)=>{var a=e=>{try{n(s.next(e))}catch(e){t(e)}},r=e=>{try{n(s.throw(e))}catch(e){t(e)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,r);n((s=s.apply(i,c)).next())}));var i,c,s}));return i},Np=(0,so.L)(r.createElement("g",null,r.createElement("path",{d:"M4.92901 4.9289C6.81762 3.04029 9.3291 1.99965 12.0004 2C14.6718 2.00035 17.1829 3.04064 19.0711 4.9289C20.9594 6.81716 21.9997 9.32829 22 11.9996H20.0003C19.9999 9.86277 19.1678 7.854 17.6569 6.34311C16.146 4.83223 14.1373 4.00013 12.0004 3.99979C9.86357 3.99944 7.85411 4.83223 6.34323 6.34311L8.46455 8.46443L2.10059 9.17154L2.80769 2.80758L4.92901 4.9289Z"}),r.createElement("path",{d:"M11.9996 20.0001C14.1365 20.0005 16.1459 19.1677 17.6568 17.6568L15.5355 15.5355L21.8995 14.8284L21.1924 21.1923L19.071 19.071C17.1824 20.9596 14.671 22.0003 11.9996 21.9999C9.32829 21.9996 6.81716 20.9593 4.9289 19.071C3.04063 17.1828 2.00035 14.6716 2 12.0003H3.99979C4.00013 14.1372 4.83223 16.1459 6.34311 17.6568C7.854 19.1677 9.86277 19.9998 11.9996 20.0001Z"})),"Retry"),Lp=()=>r.createElement(mo.s,{title:r.createElement(Ee.Od,{variant:Ee.Jy.Text,width:"80%",height:"100%"})}),jp=({disabled:e,checked:t,onClick:a})=>r.createElement(dp,{title:r.createElement(te.Z,{code:"diesel.library.settings.autoUpdate"}),icon:r.createElement(Np,null),primaryButton:r.createElement(hp,{checked:t,disabled:e,onClick:a,id:"autoUpdate-toggle"})}),Mp=()=>{const{query:e,autoUpdateState:t,onClick:a}=(()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{autoUpdate:n,query:l}=wp(e,t,a),[o,i]=r.useState(Boolean(n)),c=kp(e,t,a),s=r.useCallback((()=>{i(!n),c(!n)}),[c,i,n]);return r.useEffect((,[n]),{query:l,autoUpdateState:o,onClick:s}})();return r.createElement(Ye.n4,{fallback:r.createElement(Lp,null)},r.createElement(jp,{disabled:!e.isSuccess,checked:t,onClick:a}))},Ap=(e="",t="",a="",r={enabled:!0})=>{const n=(0,qe.useSelector)(Op.Ip),{data:l=!1,query:o}=(0,Ip.Y)({bridge:(0,Bt.ZP)(),method:"getCloudSave",args:[e,t,a],queryKey:Cp.L6.settingDetail(e,t,a,Cp.nM.CloudSave),config:{enabled:n&&Boolean(e&&t&&a)&&r.enabled}});return{cloudSave:l,query:o}};const Tp=(0,Da.uB)("useSetProductCloudSave"),_p="setCloudSave",Dp=(e="",t="",a="",r=cc.Nd.LIBRARY,n={enabled:!0})=>{const{cloudSave:l,query:o}=Ap(e,t,a,n),{mutateAsync:i}=(0,Ta.Db)((n=>{return i=void 0,c=null,s=function*(){if(l===n)return!1;Tp.log(_p,{namespace:e,catalogId:t,appName:a,nextCloudSave:n});try{const l=yield(0,Bt.ZP)().setCloudSave(e,t,a,n,r);return o.refetch(),l}catch(e){Tp.warn(_p,"error",{error:e.message}),(0,Sp.pN)(e)}},new Promise(((e,t)=>{var a=e=>{try{n(s.next(e))}catch(e){t(e)}},r=e=>{try{n(s.throw(e))}catch(e){t(e)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,r);n((s=s.apply(i,c)).next())}));var i,c,s}));return i},Rp=(0,ju.u)("syncCloudSave");var Bp=Object.defineProperty,Zp=Object.getOwnPropertySymbols,Fp=Object.prototype.hasOwnProperty,Up=Object.prototype.propertyIsEnumerable,Wp=(e,t,a)=>t in e?Bp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Kp=e=>{var t=e,{icon:a,toolTipCode:n}=t,l=((e,t)=>{var a={};for(var r in e)Fp.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Zp)for(var r of Zp(e))t.indexOf(r)<0&&Up.call(e,r)&&(a[r]=e[r]);return a})(t,["icon","toolTipCode"]);const o=r.useRef(null);return r.createElement(r.Fragment,null,r.createElement(tt.h,((e,t)=>{for(var a in t||(t={}))Fp.call(t,a)&&Wp(e,a,t[a]);if(Zp)for(var a of Zp(t))Up.call(t,a)&&Wp(e,a,t[a]);return e})({forwardRef:o,buttonHeight:R.Ey.DENSED,buttonWidth:R.WL.BLOCK,outline:!0,pill:!0,"data-testid":"MenuItemSecondaryButton"},l),a),n&&r.createElement(rt.u,{anchorRef:o,zIndex:le.W.toolTip},r.createElement(Uo.v0,{code:n||""})))},zp=(0,so.L)(r.createElement("path",{d:"M18.784 10.649c-.052 0-.101.005-.152.008C18.084 7.447 15.265 5 11.868 5a6.87 6.87 0 00-6.061 3.608C3.115 8.834 1 11.068 1 13.794c0 2.788 2.214 5.065 4.997 5.2V19h12.787C21.113 19 23 17.13 23 14.825c0-2.306-1.887-4.176-4.216-4.176zM12 17.294l-4.107-4.075h2.665V8.65c0-.38.312-.69.696-.69h1.491c.385 0 .696.31.696.69v4.57h2.666L12 17.294z"}),"CloudSaved"),Vp=(0,so.L)(r.createElement("path",{d:"M18.0005 3.9978L14.0005 7.9978H17.0005V14.9978C17.0005 16.0978 16.1005 16.9978 15.0005 16.9978C13.9005 16.9978 13.0005 16.0978 13.0005 14.9978V7.9978C13.0005 5.7878 11.2105 3.9978 9.00049 3.9978C6.79049 3.9978 5.00049 5.7878 5.00049 7.9978V14.9978H2.00049L6.00049 18.9978L10.0005 14.9978H7.00049V7.9978C7.00049 6.8978 7.90049 5.9978 9.00049 5.9978C10.1005 5.9978 11.0005 6.8978 11.0005 7.9978V14.9978C11.0005 17.2078 12.7905 18.9978 15.0005 18.9978C17.2105 18.9978 19.0005 17.2078 19.0005 14.9978V7.9978H22.0005L18.0005 3.9978Z"}),"Sync");var Hp=a(93882);const $p=(0,b.iv)({pointerEvents:"none"}),Gp=({onSyncClick:e,onToggleClick:t,formattedDate:a,disabled:r=!1,cloudSaveState:l})=>n().createElement(dp,{title:n().createElement(Uo.v0,{code:"egstore.library.manage_products_modal.cloud_save"}),subtitle:n().createElement(Uo.v0,{code:"diesel.library.settings.cloud_sync.desc",args:[a]}),icon:n().createElement(zp,null),secondaryButton:n().createElement(Kp,{icon:n().createElement(Vp,null),onClick:e,toolTipCode:l?"diesel.library.settings.cloud_sync":""}),primaryButton:n().createElement(hp,{className:$p,checked:l,onClick:t,disabled:r,id:"cloudSave-toggle"})}),qp=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{installState:r}=(0,Jd.e)(e,t,a),l=Rp(),o=(0,Hp.C)(),{cloudSave:i,query:c}=Ap(e,t,a),s=Dp(e,t,a),[d,u]=n().useState(Boolean(i)),{closeModal:m}=cg(),p=n().useMemo((,[o,r]),b=n().useCallback((,[s,u,i]);n().useEffect((,[i]);const g=n().useCallback((()=>{d&&m(),l({namespace:e,catalogId:t,appName:a})}),[d,m,l,e,t,a]);return n().createElement(Gp,{onSyncClick:g,formattedDate:p,onToggleClick:b,disabled:!c.isSuccess,cloudSaveState:d})},Yp=(0,ju.u)("createShortcut");var Jp=Object.defineProperty,Xp=Object.getOwnPropertySymbols,Qp=Object.prototype.hasOwnProperty,eb=Object.prototype.propertyIsEnumerable,tb=(e,t,a)=>t in e?Jp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const ab=e=>{var t=e,{children:a}=t,n=((e,t)=>{var a={};for(var r in e)Qp.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Xp)for(var r of Xp(e))t.indexOf(r)<0&&eb.call(e,r)&&(a[r]=e[r]);return a})(t,["children"]);return r.createElement(nl.f5,((e,t)=>{for(var a in t||(t={}))Qp.call(t,a)&&tb(e,a,t[a]);if(Xp)for(var a of Xp(t))eb.call(t,a)&&tb(e,a,t[a]);return e})({buttonHeight:R.Ey.DENSED,buttonWidth:R.WL.AUTO,"data-testid":"MenuItemPrimaryButton"},n),a)},rb=(0,so.L)(r.createElement("path",{d:"M18.864 4H4.136c-.9 0-1.636.72-1.636 1.6v9.6c0 .88.736 1.6 1.636 1.6h5.728v1.6H8.227V20h6.546v-1.6h-1.637v-1.6h5.728c.9 0 1.636-.72 1.636-1.6V5.6c0-.88-.736-1.6-1.636-1.6zm0 11.2H4.136V5.6h14.728v9.6z"}),"ResolutionExtraLarge"),nb=({onClick:e})=>n().createElement(dp,{title:n().createElement(Uo.v0,{code:"egstore.library.manage_products_modal.create_desktop_shortcut"}),icon:n().createElement(rb,null),primaryButton:n().createElement(ab,{onClick:e},n().createElement(Uo.v0,{code:"egstore.library.manage_products_modal.create"}))}),lb=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{closeModal:r}=cg(),l=Yp(),o=n().useCallback((()=>{r(),l({namespace:e,catalogId:t,appName:a,funnelId:cc.Nd.MANAGE_PRODUCT_MODAL})}),[r,l,e,t,a]);return n().createElement(nb,{onClick:o})},ob=(0,ju.u)("showInstallLocation"),ib=(0,ju.g)("uninstall",(({namespace:e,catalogId:t,appName:a,funnelId:r=cc.Nd.LIBRARY,options:n})=>(0,Bt.ZP)().uninstall(e,t,a,r,n)));var cb=Object.defineProperty,sb=Object.getOwnPropertySymbols,db=Object.prototype.hasOwnProperty,ub=Object.prototype.propertyIsEnumerable,mb=(e,t,a)=>t in e?cb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const pb=(0,m.i)((()=>({tooltip:(0,b.iv)({textAlign:"left"}),warning:(0,b.iv)({marginTop:20,maxWidth:275})}))),bb=e=>{const t=pb();return r.createElement(rt.u,((e,t)=>{for(var a in t||(t={}))db.call(t,a)&&mb(e,a,t[a]);if(sb)for(var a of sb(t))ub.call(t,a)&&mb(e,a,t[a]);return e})({},e),r.createElement("div",{className:t.tooltip},r.createElement(Uo.v0,{code:"egstore.library.manage_products_modal.install_location"}),r.createElement("div",{className:t.warning},r.createElement(Uo.v0,{code:"egstore.library.manage_products_modal.install_location_warning"}))))},gb=({title:e,onUninstallClick:t,onCancelClick:a})=>n().createElement(Qr,{modalTitle:n().createElement(te.Z,{code:"diesel.common.smart_button.uninstall"}),title:n().createElement(te.Z,{code:"egstore.library.uninstall_modal_confirm.text_question",args:[e]}),subTitle:n().createElement(te.Z,{code:"egstore.library.uninstall_modal_confirm.text_info"}),secondaryButton:n().createElement(M.d,{onClick:a},n().createElement(te.Z,{code:"diesel.common.smart_button.cancel"})),primaryButton:n().createElement(j.N,{onClick:t},n().createElement(te.Z,{code:"diesel.common.smart_button.uninstall"})),onCloseClick:a});var vb=Object.defineProperty,Eb=Object.defineProperties,yb=Object.getOwnPropertyDescriptors,fb=Object.getOwnPropertySymbols,hb=Object.prototype.hasOwnProperty,Ob=Object.prototype.propertyIsEnumerable,Cb=(e,t,a)=>t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ib=(e,t)=>{for(var a in t||(t={}))hb.call(t,a)&&Cb(e,a,t[a]);if(fb)for(var a of fb(t))Ob.call(t,a)&&Cb(e,a,t[a]);return e},wb=const Sb=e=>r.createElement(ye,wb(Ib({},e),{hasHeader:!0,hasFooter:!0,hasPrimaryButton:!0,hasSecondaryButton:!0,content:r.createElement(d.x,{alignItems:u.Ks.Center,justify:u.jf.Center,fillParent:!0},r.createElement(d.x,{direction:u.jO.Column,alignItems:u.Ks.Center},r.createElement(Ee.Od,Ib({variant:Ee.Jy.Text,width:500,height:50},e)),r.createElement(Ee.Od,wb(Ib({variant:Ee.Jy.Text,width:300,height:50},e),{style:{margin:"-10px 0 10px"}})),r.createElement(Ee.Od,Ib({variant:Ee.Jy.Text,width:260,height:30},e))))}));var xb=a(11199);const Pb=Km("uninstall-confirm-modal"),kb=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),r=(0,xb.V)(e,t,a),l=ib(),{closeModal:o,cancelModal:i}=Pb(),c=n().useCallback((()=>{o(),l({namespace:e,catalogId:t,appName:a,funnelId:cc.Nd.MANAGE_PRODUCT_MODAL,options:{disableConfirmation:!0}})}),[o,l,e,t,a]);return n().createElement(gb,{title:r,onUninstallClick:c,onCancelClick:i})},Nb=()=>{const{isOpen:e,cancelModal:t,getData:a}=Pb(),r=a();return r?n().createElement(Le.u,{isOpen:e,onClose:t},n().createElement(Ye.n4,{fallback:n().createElement(Sb,null)},n().createElement(Cd.wi.Provider,{value:r},n().createElement(kb,null)))):null},Lb=(e,t,a)=>{const{installState:n}=(0,Jd.e)(e,t,a);return(0,r.useMemo)((()=>(0,Xd.b8)(n)),[n])};var jb=a(31e3),Mb=a(17998),Ab=a(41786);const Tb=(e,t)=>(0,Qs.fS)({namespace:e.namespace,catalogid:e.catalogItemId,appname:e.appName,bshouldbeinstalled:t}),_b=Db=(e="",t="",a="")=>{const n=(0,Ab.R)(e,t,a),l=(0,Mb.I)(e,t,a),o=(0,jb.$)(l?null==n?void 0:n.namespace:"",l?null==n?void 0:n.catalogItemId:"",l?null==n?void 0:n.appName:"");return(0,r.useMemo)((()=>{const r={namespace:e,catalogItemId:t,appName:a},n=(0,Bt.ZP)().supportsLaunchableAddonsFlow()&&l;return{isLaunchableAddon:l,install:n?()=>o([Tb(r,!0)]):_b,uninstall:n?()=>o([Tb(r,!1)]):_b}}),[e,t,a,l])};var Rb=a(16087);const Bb=(0,so.L)(r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6a2 2 0 012-2h7l2 2h9v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm18 2H4v10h16V8z"}),"FolderEmpty"),Zb=({size:e,onFolderLocationClick:t,onUninstallClick:a})=>{const n=r.useRef(null);return r.createElement(dp,{title:r.createElement(Uo.v0,{code:"egstore.library.manage_products_modal.installation"}),subtitle:r.createElement(Uo.v0,{code:"egstore.library.manage_products_modal.install_size",args:[e]}),icon:r.createElement(Rb.X,null),secondaryButton:r.createElement(r.Fragment,null,r.createElement(Kp,{forwardRef:n,icon:r.createElement(Bb,null),onClick:t}),r.createElement(bb,{anchorRef:n})),primaryButton:r.createElement(ab,{onClick:a},r.createElement(Uo.v0,{code:"diesel.common.smart_button.uninstall"}))})},Fb=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),n=Lb(e,t,a),{closeModal:l}=cg(),{openModal:o}=Pb(),i=ob(),c=ib(),{isLaunchableAddon:s,uninstall:d}=Db(e,t,a),u=r.useCallback((()=>{i({namespace:e,catalogId:t,appName:a})}),[i,e,t,a]),m=r.useCallback((()=>{l(),s&&!(0,Bt.ZP)().supportsLaunchableAddonsV2Flow()?d():(0,Bt.ZP)().supportsWebClientUninstallFlow()?o({namespace:e,catalogItemId:t,appName:a}):c({namespace:e,catalogId:t,appName:a})}),[l,o,s,c,d,e,t,a]);return r.createElement(Zb,{size:n,onFolderLocationClick:u,onUninstallClick:m})};var Ub=a(22467);const Wb=(0,so.L)(r.createElement("path",{d:"M6 2.8C4.894 2.8 4 3.694 4 4.8V20.8C4 21.906 4.894 22.8 6 22.8H10.051L7.57 20.331L12.55\n        15.381L15.693 18.506L20 14.222V7.8L15 2.8H6ZM15.693 24.8L24 16.541L22.651 15.2L15.693 22.117L12.549\n        18.994L11.2 20.334L15.693 24.8Z",fill:"white"}),"File"),Kb=({onClick:e})=>r.createElement(dp,{title:r.createElement(te.Z,{code:"egstore.library.manage_products_modal.verify_files"}),icon:r.createElement(Wb,null),primaryButton:r.createElement(ab,{onClick:e},r.createElement(te.Z,{code:"egstore.library.manage_products_modal.verify"}))}),zb=()=>{const{closeModal:e}=cg(),{namespace:t,catalogItemId:a,appName:n}=(0,Cd.wK)(),l=(0,Ub.h)(),o=r.useCallback((()=>{l({namespace:t,catalogId:a,appName:n,funnelId:cc.Nd.MANAGE_PRODUCT_MODAL}),e()}),[l,t,a,n,e]);return r.createElement(Kb,{onClick:o})};var Vb=a(4136);var Hb=a(43730);const $b=(e,t,a)=>{const{installState:n}=(0,Jd.e)(e,t,a),l=(0,Ku.c)(e,t,a),o=(0,r.useMemo)((()=>(0,Zt.uD)(l)),[l]),i=(0,r.useMemo)((()=>(0,Fo.mW)(l)),[l]),{globalAutoUpdate:c}=(0,Hb.t)(),s=(0,Mb.I)(e,t,a);return(0,r.useMemo)((()=>(e=>{const{installState:t,isModKit:a=!1,isNeverUpdate:r=!1,globalAutoUpdate:n=!1,isLaunchableAddon:l=!1}=e,o=(0,Xd.Pb)(t),i=(0,Xd.aV)(t),c=(0,Xd.yK)(t);return!l&&!a&&!o&&!c&&!r&&i&&n})({installState:n,isModKit:o,isNeverUpdate:i,globalAutoUpdate:c,isLaunchableAddon:s})),[n,o,i,c,s])},Gb=(e="",t="",a="")=>{const n=(0,qe.useSelector)(cr.LA),{installState:l}=(0,Jd.e)(e,t,a),o=Cm(e,t,a);return(0,r.useMemo)((()=>(({isOnline:e,isEntitledToLibraryItem:t,installState:a})=>e&&t&&!(0,Xd.Gd)(a)&&!(0,Xd.Pb)(a)&&!(0,Xd.Ic)(a)&&!(0,Xd.Ct)(a))({installState:l,isOnline:n,isEntitledToLibraryItem:o})),[l,n,o])};var qb=Object.defineProperty,Yb=Object.defineProperties,Jb=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,Qb=Object.prototype.hasOwnProperty,eg=Object.prototype.propertyIsEnumerable,tg=(e,t,a)=>t in e?qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ag=(e,t)=>{for(var a in t||(t={}))Qb.call(t,a)&&tg(e,a,t[a]);if(Xb)for(var a of Xb(t))eg.call(t,a)&&tg(e,a,t[a]);return e};const rg=(e="",t="",a="",n={enabled:!0})=>{const l=(0,qe.useSelector)(Op.Ip),o=(0,Ta.NL)(),i=(0,r.useMemo)((,[e,t,a]),c=(0,r.useMemo)((()=>(0,Bt.ZP)().supportsAdditionalCommands()&&l&&n.enabled&&Boolean(e&&a&&t)),[l,n.enabled]),{data:s,query:d}=(0,Ip.Y)({bridge:(0,Bt.ZP)(),method:"getAdditionalCommands",args:[e,t,a],queryKey:i,config:(u=ag({},n),m={enabled:c,refetchOnMount:"always"},Yb(u,Jb(m)))});var u,m;const{mutate:p}=(0,Ta.Db)((r=>{return n=void 0,l=null,s=function*(){if(c)try{yield(0,Bt.ZP)().setAdditionalCommands(e,t,a,r),yield o.invalidateQueries(i)}catch(e){(0,Sp.pN)(e)}},new Promise(((e,t)=>{var a=e=>{try{o(s.next(e))}catch(e){t(e)}},r=e=>{try{o(s.throw(e))}catch(e){t(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,r);o((s=s.apply(n,l)).next())}));var n,l,s}));return{commands:s,setCommands:p,query:d}},ng=({isEnabled:e,setIsEnabled:t,args:a,setArgs:r})=>n().createElement(dp,{icon:n().createElement(go.o,null),title:n().createElement(te.Z,{code:"diesel.library.settings.custom_launch_args_title"}),subtitle:n().createElement(te.Z,{code:"diesel.library.settings.custom_launch_args_desc"}),primaryButton:n().createElement(hp,{checked:e,onClick:id:"enable-custom-launch-args"}),footer:e?n().createElement(ee,{id:"custom-launch-args",value:a,onChange:):void 0,variant:Qm.O.TwoColumnWithFooter}),lg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{commands:r,setCommands:l,query:o}=rg(e,t,a),[i,c]=n().useState(!1),[s,d]=n().useState(""),[u]=(0,Ho.Z)(s,200,{trailing:!0});return n().useEffect((,[o.isSuccess]),n().useEffect((()=>{!r||r.value===u&&r.enabled===i||l({value:u,enabled:i})}),[u,i]),n().createElement(ng,{isEnabled:i,setIsEnabled:c,args:s,setArgs:d})},og=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),n=((e="",t="",a="")=>{const n=(0,qe.useSelector)(cr.ek),{installState:l}=(0,Jd.e)(e,t,a);return(0,r.useMemo)((()=>(n===Vb.om.WINDOWS||n===Vb.om.WIN32)&&(0,Xd.aV)(l)),[n,l])})(e,t,a),l=$b(e,t,a),o=((e="",t="",a="")=>{const{installState:r}=(0,Jd.e)(e,t,a);return(0,Xd.jW)(r)})(e,t,a),i=Gb(e,t,a);return r.createElement(kn.v,{noBorder:!0,noShadow:!0,noBackground:!0,spacing:10},i&&r.createElement(zb,null),l&&r.createElement(Mp,null),o&&r.createElement(qp,null),n&&r.createElement(lb,null),r.createElement(Fb,null),r.createElement(lg,null))};var ig=a(49464);const cg=Km("manage-product-modal"),sg=()=>{const{cancelModal:e}=cg();return r.createElement(zm,{title:r.createElement(ig.F,null),onCloseClick:e,content:r.createElement(og,null)})},dg=()=>{const{isOpen:e,cancelModal:t,getData:a}=cg(),n=a();return n?r.createElement(Le.u,{isOpen:e,onClose:t},r.createElement(Ye.n4,{fallback:r.createElement(Ep,null)},r.createElement(Cd.wi.Provider,{value:n},r.createElement(sg,null)))):null},ug=({onClick:e})=>r.createElement(vn.c,{onClick:e,title:r.createElement(te.Z,{code:"diesel.library.settings.manage"})}),mg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),{openModal:l}=cg(),{installState:o}=(0,Jd.e)(e,t,a),i=r.useCallback((()=>{n(void 0),l({namespace:e,catalogItemId:t,appName:a})}),[l,n]);return r.useMemo((()=>(0,Xd.aV)(o)),[o])?r.createElement(ug,{onClick:i}):null},pg=(e,t,a)=>{const n=((e="",t="",a="")=>(0,r.useMemo)((()=>{if(e&&t&&a)return ri.s.ManageAddonsPath.replace(":namespace",encodeURIComponent(e)).replace(":catalogId",encodeURIComponent(t)).replace(":appName",encodeURIComponent(a))}),[e,t,a]))(e,t,a);return{manageAddonsLinkTo:n,gotoManageAddons:(0,Pd.X)(n)}},bg=({onClick:e})=>r.createElement(vn.c,{onClick:e,title:r.createElement(te.Z,{code:"diesel.library.settings.manageDLC"})}),gg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),l=(0,tm.c)(e,t,a),{installState:o}=(0,Jd.e)(e,t,a),{manageAddonsLinkTo:i,gotoManageAddons:c}=pg(e,t,a),s=r.useMemo((()=>(0,Xd.aV)(o)),[o]),d=r.useMemo((()=>(0,Xd.Ct)(o)),[o]),u=r.useCallback((()=>{n(void 0),c()}),[c,n]);return s&&!d&&l.length>0&&!!i?r.createElement(bg,{onClick:u}):null};var vg=a(25281);const Eg=(e,t,a)=>{const n=((e="",t="",a="")=>(0,r.useMemo)((()=>{if(e&&t&&a)return ri.s.ManageModsPath.replace(":namespace",encodeURIComponent(e)).replace(":catalogId",encodeURIComponent(t)).replace(":appName",encodeURIComponent(a))}),[e,t]))(e,t,a);return{manageModsLinkTo:n,gotoManageMods:(0,Pd.X)(n)}},yg=({onClick:e})=>r.createElement(vn.c,{onClick:e,title:r.createElement(te.Z,{code:"diesel.library.settings.manage_mods"})}),fg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),{installState:l}=(0,Jd.e)(e,t,a),o=(0,vg.L)(e,t,a),{manageModsLinkTo:i,gotoManageMods:c}=Eg(e,t,a),s=r.useMemo((()=>(0,Xd.aV)(l)),[l]),d=r.useMemo((()=>(0,Xd.Ct)(l)),[l]),u=r.useCallback((,[c,n]);return s&&!d&&o.length>0&&!!i?r.createElement(yg,{onClick:u}):null};var hg=a(33663);const Og=()=>{const{appName:e}=(0,Cd.wK)(),t=(0,Uo.AT)(),{playtime:a}=(0,hg.U)({artifactId:e});return(0,r.useMemo)((()=>{const{hours:e,minutes:r}=(e=>{const t=Math.min(e,Number.MAX_SAFE_INTEGER)/60,a=Math.floor(t%60);return{hours:Math.floor(t/60),minutes:a}})(null!=a?a:0);if(0===e){if(0===r)return;return r<5?(0,oe.getMessage)(t,"diesel.common.time.minutes.lessThan5"):(0,oe.getMessage)(t,"diesel.common.time.minutes",[r])}if(e>0&&e<1e4){const a=(0,oe.getMessage)(t,"diesel.common.time.hours",[e]),n=(0,oe.getMessage)(t,"diesel.common.time.minutes",[r]);return 0===r?a:`${a} ${n}`}return(0,oe.getMessage)(t,"diesel.common.time.hours.moreThan10000")}),[a])};var Cg=Object.defineProperty,Ig=Object.getOwnPropertySymbols,wg=Object.prototype.hasOwnProperty,Sg=Object.prototype.propertyIsEnumerable,xg=(e,t,a)=>t in e?Cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Pg=({defaultValue:e="0s"})=>{const t=Og();return n().createElement("span",{"data-testid":"playtime"},t||e)},kg=e=>n().createElement(Ye.n4,{fallback:n().createElement(Ee.Od,{variant:Ee.Jy.Text,height:15,width:60})},n().createElement(Pg,((e,t)=>{for(var a in t||(t={}))wg.call(t,a)&&xg(e,a,t[a]);if(Ig)for(var a of Ig(t))Sg.call(t,a)&&xg(e,a,t[a]);return e})({},e))),Ng=({playtime:e})=>r.createElement(mo.s,{horizontal:!0,title:r.createElement(te.Z,{code:"diesel.common.playerData.playtime.played_time"}),subtitle:e}),Lg=()=>r.createElement(Ng,{playtime:r.createElement(kg,null)}),jg=()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)(((t,a)=>{e((0,Me.$M)({collection:t,item:a}))}),[e])};var Mg=Object.defineProperty,Ag=Object.getOwnPropertySymbols,Tg=Object.prototype.hasOwnProperty,_g=Object.prototype.propertyIsEnumerable,Dg=(e,t,a)=>t in e?Mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Rg=e=>{var t=e,{collectionName:a}=t,r=((e,t)=>{var a={};for(var r in e)Tg.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Ag)for(var r of Ag(e))t.indexOf(r)<0&&_g.call(e,r)&&(a[r]=e[r]);return a})(t,["collectionName"]);return n().createElement(vn.c,((e,t)=>{for(var a in t||(t={}))Tg.call(t,a)&&Dg(e,a,t[a]);if(Ag)for(var a of Ag(t))_g.call(t,a)&&Dg(e,a,t[a]);return e})({horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.remove_from_collection",args:[a]})},r))},Bg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:r}=(0,gn.U)(),{selectedCollectionId:l}=Nr(),o=(0,i.c)({suspense:!1}),c=Ge(l,{suspense:!1}),s=(0,Id.K)(e,t,a),d=jg(),u=n().useCallback((()=>{c&&s&&d(c,s),r(void 0)}),[d,c,s,r]);return n().createElement(Rg,{onClick:u,collectionName:(null==c?void 0:c.name)||"",disabled:!o||!c})};var Zg=Object.defineProperty,Fg=Object.getOwnPropertySymbols,Ug=Object.prototype.hasOwnProperty,Wg=Object.prototype.propertyIsEnumerable,Kg=(e,t,a)=>t in e?Zg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const zg=e=>n().createElement(vn.c,((e,t)=>{for(var a in t||(t={}))Ug.call(t,a)&&Kg(e,a,t[a]);if(Fg)for(var a of Fg(t))Wg.call(t,a)&&Kg(e,a,t[a]);return e})({horizontal:!0,title:n().createElement(te.Z,{code:"diesel.library.settings.remove_from_favorites"})},e)),Vg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:r}=(0,gn.U)(),l=(0,i.c)({suspense:!1}),o=Hn({suspense:!1}),c=(0,Id.K)(e,t,a),s=jg(),d=n().useCallback((()=>{o&&c&&s(o,c),r(void 0)}),[s,o,c,r]);return n().createElement(zg,{onClick:d,disabled:!l||!o})},Hg=({onClick:e,formattedSize:t})=>r.createElement(vn.c,{dense:!0,horizontal:!0,title:r.createElement(te.Z,{code:"diesel.library.settings.uninstall"}),subtitle:r.createElement("span",null,t),onClick:e}),$g=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{setActiveMenu:n}=(0,gn.U)(),l=ib(),o=Lb(e,t,a),{openModal:i}=Pb(),{isLaunchableAddon:c,uninstall:s}=Db(e,t,a),d=r.useCallback((()=>{c&&!(0,Bt.ZP)().supportsLaunchableAddonsV2Flow()?s():(0,Bt.ZP)().supportsWebClientUninstallFlow()?i({namespace:e,catalogItemId:t,appName:a}):l({namespace:e,catalogId:t,appName:a}),n(void 0)}),[l,e,t,a,n,c,s]);return r.createElement(Hg,{onClick:d,formattedSize:o})},Gg=({version:e})=>r.createElement(mo.s,{horizontal:!0,title:r.createElement(te.Z,{code:"diesel.library.settings.version"}),subtitle:r.createElement("span",{style:{lineBreak:"anywhere"}},e)}),qg=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{installState:n}=(0,Jd.e)(e,t,a),l=r.useMemo((()=>(0,Xd.pe)(n)),[n]);return r.createElement(Gg,{version:l})};var Yg=Object.defineProperty,Jg=Object.getOwnPropertySymbols,Xg=Object.prototype.hasOwnProperty,Qg=Object.prototype.propertyIsEnumerable,ev=(e,t,a)=>t in e?Yg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const tv=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),n=(0,qe.useSelector)(Yd.LF),l=Sm(e,t,a),o=(0,wm.a)(e,t,a),{installState:c}=(0,Jd.e)(e,t,a),s=r.useMemo((()=>(0,Xd.aV)(c)&&!(0,Xd.Pb)(c)),[c]),d=r.useMemo((()=>(0,Xd.Pb)(c)||(0,Xd.t9)(c)),[c]),u=(()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{installState:n}=(0,Jd.e)(e,t,a),l=(0,r.useMemo)((()=>(0,Xd.aV)(n)),[n]),o=(0,r.useMemo)((()=>(0,Xd.Gd)(n)),[n]),i=(0,r.useMemo)((()=>(0,Xd.Pb)(n)),[n]),c=(0,r.useMemo)((()=>(0,Xd.yK)(n)),[n]);return(l||o)&&!(i||c)})(),m=(e=>{const{namespace:t}=(0,Cd.wK)(),a=(0,_m.l)({sandboxId:t}),r=(0,i.c)(e);return Boolean(r&&a)})({suspense:!1}),p=(e=>{const{namespace:t}=(0,Cd.wK)();return(0,Zu.C)({categories:[Bu.WD.ADDONS,Bu.WD.DIGITAL_EXTRAS],sandboxId:t},e).count>0})({suspense:!1}),b=(()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),r=(0,Id.K)(e,t,a);return Vu(e,t,a,(null==r?void 0:r.productId)||"",{suspense:!1})})(),g=(()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{installState:n}=(0,Jd.e)(e,t,a);return r.useMemo((()=>(0,Xd.aV)(n)),[n])})(),v=(()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{installState:n}=(0,Jd.e)(e,t,a),l=(0,Ku.c)(e,t,a),o=(0,r.useMemo)((()=>(0,Fo.mW)(l)),[l]),i=(0,r.useMemo)((()=>(0,Xd.pe)(n)),[n]);return(0,r.useMemo)((,[o,i])})(),E=(()=>{const e=(0,Cd.wK)(),t=(0,yt.o)();return!nu(t,e,{suspense:!1})})(),y=(()=>{const{selectedCollectionId:e}=Nr(),t=(0,yt.o)();return e!==Et.U.ALL&&e!==t})(),f=m||p||b,h=g||v,O=s||d||u;if(n===Ia.v.ANONYMOUS||l)return r.createElement(r.Fragment,null,r.createElement(Zm,null),u&&r.createElement(bo,null),u&&r.createElement($g,null));const C=r.createElement(r.Fragment,null,r.createElement(bo,null),E?r.createElement(tu,null):r.createElement(Vg,null),r.createElement(xu,null),y&&r.createElement(Bg,null));if(o)return r.createElement(r.Fragment,null,r.createElement(Zm,null),C,g&&r.createElement(bo,null),g&&r.createElement(Lg,null));const I=f&&r.createElement(r.Fragment,null,r.createElement(bo,null),m&&r.createElement(Tm,null),p&&r.createElement(Ru,null),b&&r.createElement(Wu,null)),w=h&&r.createElement(r.Fragment,null,r.createElement(bo,null),g&&r.createElement(Lg,null),v&&r.createElement(qg,null));return r.createElement(r.Fragment,null,r.createElement(Zm,null),C,I,O&&r.createElement(r.Fragment,null,r.createElement(bo,null),d&&r.createElement(r.Fragment,null,r.createElement(Lu,null),r.createElement(Wm,null)),s&&r.createElement(r.Fragment,null,r.createElement(Tu,null),r.createElement(Mm,null),r.createElement(fg,null),r.createElement(gg,null),r.createElement(mg,null)),u&&r.createElement($g,null)),w)},av=r.forwardRef(((e,t)=>{var a=e,{id:n}=a,l=((e,t)=>{var a={};for(var r in e)Xg.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&Jg)for(var r of Jg(e))t.indexOf(r)<0&&Qg.call(e,r)&&(a[r]=e[r]);return a})(a,["id"]);return r.createElement(kn.v,((e,t)=>{for(var a in t||(t={}))Xg.call(t,a)&&ev(e,a,t[a]);if(Jg)for(var a of Jg(t))Qg.call(t,a)&&ev(e,a,t[a]);return e})({ref:t,id:n,dense:!0,noBorder:!0},l),r.createElement(tv,null))}));var rv=Object.defineProperty,nv=Object.getOwnPropertySymbols,lv=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable,iv=(e,t,a)=>t in e?rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const cv=(0,m.i)((),sv=e=>{var t=e,{id:a}=t,r=((e,t)=>{var a={};for(var r in e)lv.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&nv)for(var r of nv(e))t.indexOf(r)<0&&ov.call(e,r)&&(a[r]=e[r]);return a})(t,["id"]);const l=cv();return n().createElement(Pn,((e,t)=>{for(var a in t||(t={}))lv.call(t,a)&&iv(e,a,t[a]);if(nv)for(var a of nv(t))ov.call(t,a)&&iv(e,a,t[a]);return e})({},r),n().createElement("div",{className:l.root},n().createElement(av,{id:a})))};var dv=a(10499);const uv=({animation:e})=>r.createElement(kn.v,{dense:!0,noBorder:!0},r.createElement(mo.s,{title:r.createElement(Ee.Od,{variant:Ee.Jy.Text,width:"80%",height:"100%",animation:e})}),r.createElement(mo.s,{title:r.createElement(Ee.Od,{variant:Ee.Jy.Text,width:"50%",animation:e})}),r.createElement(mo.s,{title:r.createElement(Ee.Od,{variant:Ee.Jy.Text,width:"40%",animation:e})}),r.createElement(bo,null),r.createElement(mo.s,{title:r.createElement(Ee.Od,{variant:Ee.Jy.Text,width:"50%",animation:e})})),mv=e=>{const{activeMenu:t,setActiveMenu:a}=(0,gn.U)(),n=t===e,l=(0,r.useCallback)((()=>a(n?void 0:e)),[n,e,a]),o=(0,r.useCallback)((,[a]);return{isOpen:n,toggleMenu:l,closeMenu:o}};var pv=Object.defineProperty,bv=Object.defineProperties,gv=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertySymbols,Ev=Object.prototype.hasOwnProperty,yv=Object.prototype.propertyIsEnumerable,fv=(e,t,a)=>t in e?pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const hv=({id:e,toggleClassName:t,menuClassName:a,renderMenu:n})=>{const{isOpen:l,toggleMenu:o,closeMenu:i}=mv(e);return r.createElement(dv.L,{id:e,isOpen:l,onClose:i,popperConfig:{reversePlacement:!0},renderToggle:e=>{return r.createElement("div",{className:t},r.createElement(co,(a=((e,t)=>{for(var a in t||(t={}))Ev.call(t,a)&&fv(e,a,t[a]);if(vv)for(var a of vv(t))yv.call(t,a)&&fv(e,a,t[a]);return e})({},e),bv(a,gv({onClick:o})))));var a},renderMenu:e=>r.createElement("div",{className:a},r.createElement(Ye.n4,{fallback:r.createElement(uv,null)},n(e)))})};var Ov=Object.defineProperty,Cv=Object.getOwnPropertySymbols,Iv=Object.prototype.hasOwnProperty,wv=Object.prototype.propertyIsEnumerable,Sv=(e,t,a)=>t in e?Ov(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const xv=({id:e,toggleClassName:t,menuClassName:a})=>r.createElement(hv,{id:e,toggleClassName:t,menuClassName:a,renderMenu:e=>r.createElement(av,((e,t)=>{for(var a in t||(t={}))Iv.call(t,a)&&Sv(e,a,t[a]);if(Cv)for(var a of Cv(t))wv.call(t,a)&&Sv(e,a,t[a]);return e})({},e))});var Pv=a(27429);const kv=({children:e})=>{const{namespace:t,catalogItemId:a,appName:n}=(0,Cd.wK)(),l=(0,Ku.c)(t,a,n),{installState:o}=(0,Jd.e)(t,a,n),i=(0,xb.V)(t,a,n),c=r.useMemo((()=>(0,Fo.X3)(l)),[l]),s=r.useMemo((()=>(0,Fo.X5)(l)),[l]),d=(0,Xd.HO)(o),u=(0,Xd.aV)(o)&&!(0,Xd.Pb)(o)?1:null==o?void 0:o.progress;return r.createElement(Sl,{image:c?r.createElement(Pv.E,{alt:i,src:c,showBrokenOnError:!0}):void 0,logo:s?r.createElement(Pv.E,{alt:i,src:s}):void 0,percent:u,indeterminate:d},e)};var Nv=(e=>(e.BackgroundOverlay="backgroundOverlay",e.AccentOverlay="accentOverlay",e.Accent="accent",e.Level1="level1",e.Level2="level2",e))(Nv||{});const Lv=(0,m.i)(((e,{variant:t})=>({root:(0,b.iv)({display:"inline-block",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",padding:"5px 10px",borderRadius:U.E0,backgroundColor:e[t]}),pill:(0,b.iv)({borderRadius:"50rem"})}))),jv=({children:e,variant:t="backgroundOverlay",pill:a=!1})=>{const n=Lv({variant:t}),l=(0,b.cx)(n.root,{[n.pill]:a});return r.createElement("span",{className:l,"data-testid":"Badge"},r.createElement(Z.Z,null,e))},Mv=({count:e})=>{const t="diesel.library.dlc"+(e>1?".plural":"");return r.createElement(jv,{variant:Nv.Level2},r.createElement(te.Z,{code:t,args:[e]}))};var Av=Object.defineProperty,Tv=Object.getOwnPropertySymbols,_v=Object.prototype.hasOwnProperty,Dv=Object.prototype.propertyIsEnumerable,Rv=(e,t,a)=>t in e?Av(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Bv=(e,t)=>{for(var a in t||(t={}))_v.call(t,a)&&Rv(e,a,t[a]);if(Tv)for(var a of Tv(t))Dv.call(t,a)&&Rv(e,a,t[a]);return e};const Zv=(0,m.i)(((e,t)=>({button:(0,b.iv)(Bv({display:"flex",alignItems:"center",justifyContent:"space-around",borderRadius:fe.E0,height:34,width:43},t&&{color:e.textSecondary})),count:(0,b.iv)(Bv(Bv({display:"flex",alignItems:"center",justifyContent:"space-around",borderRadius:fe.E0,height:24,width:35,fontSize:12},!t&&{"button:hover &, button:focus &":{background:fe.yS}}),t&&{"button:hover &, button:focus &":{color:Ct.cM.contrast}}))}))),Fv=({count:e})=>{const t=(0,qe.useSelector)(It.e),a=r.useRef(null),n=Zv(t),{namespace:l,catalogItemId:o,appName:i}=(0,Cd.wK)(),{gotoManageAddons:c}=pg(l,o,i),{installState:s}=(0,Jd.e)(l,o,i),d=r.useMemo((()=>(0,Xd.aV)(s)&&!(0,Xd.Pb)(s)),[s]),u=r.useCallback((()=>c()),[l,c]);return r.useMemo((()=>d?r.createElement(r.Fragment,null,r.createElement(ft.Z,{className:n.button,onClick:u,ref:a},r.createElement("div",{className:n.count},e>=99?"99+":e)),r.createElement(rt.u,{anchorRef:a,delay:500},r.createElement(te.Z,{code:"diesel.library.settings.manageDLC"}))):r.createElement("span",{style:t?{color:Ct.cM.secondary}:void 0},"-")),[d])},Uv=(0,so.L)(r.createElement("g",null,r.createElement("defs",null,r.createElement("path",{id:"heart",d:"M20.49 5.397C19.482 4.466 18.162 4 16.842 4c-1.32 0-2.64.466-3.647 1.397L12 6.503l-1.196-1.106C9.797 4.466 8.477 4 7.158 4c-1.32 0-2.64.466-3.647 1.397-2.013 1.861-2.015 4.878-.005 6.741L11.984 20l.016-.015.017.015 8.477-7.862c2.01-1.864 2.008-4.88-.005-6.74z"}),r.createElement("mask",{id:"outerHeartOnly"},r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%"}),r.createElement("use",{xlinkHref:"#heart",fill:"black"}))),r.createElement("use",{xlinkHref:"#heart",strokeWidth:"6",stroke:"rgb(245,245,245)",fill:"none",mask:"url(#outerHeartOnly)"})),"HeartOutline");var Wv=Object.defineProperty,Kv=Object.defineProperties,zv=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertySymbols,Hv=Object.prototype.hasOwnProperty,$v=Object.prototype.propertyIsEnumerable,Gv=(e,t,a)=>t in e?Wv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,qv=(e,t)=>{for(var a in t||(t={}))Hv.call(t,a)&&Gv(e,a,t[a]);if(Vv)for(var a of Vv(t))$v.call(t,a)&&Gv(e,a,t[a]);return e};const Yv=(0,m.i)(((e,{isInCollection:t,showFullIcon:a})=>{return{root:(0,b.iv)((r=qv({position:"absolute",height:24,width:24,opacity:t?1:0},(0,nt.ip)("opacity")),n={pointerEvents:"all","&:focus-within":{opacity:1},button:{height:"100%",width:"100%",padding:10,borderWidth:"2px",borderStyle:"solid inset solid solid",borderColor:t?"transparent":e.textPrimary,background:e.background,"&:before":{border:"none"},"&:focus":{visibility:t?"visible":"hidden","&:before":{border:"none"}},"&:focus-visible":{visibility:"visible",borderColor:e.textPrimary},"&:hover":{borderColor:e.textPrimary,"&:after":{background:e.background}},svg:{fontSize:a||t?14:12}}},Kv(r,zv(n))))};var r,n})),Jv=({className:e,onClick:t,onKeyDown:a,isInCollection:r=!1,isOnline:l})=>{const[o,i]=n().useState(!1),c=Yv({isInCollection:r,showFullIcon:o}),s=n().useCallback((()=>{r||i(!0)}),[r]),d=n().useCallback((,[r]),u=n().useCallback((()=>{i(r)}),[r]);return n().createElement("div",{className:(0,b.cx)(c.root,e),"data-wrapperid":"favoriteWrapper"},n().createElement(tt.h,{pill:!0,solid:!0,onMouseDown:t,onKeyDown:a,onMouseLeave:d,onMouseEnter:s,onFocus:u,onBlur:d,"data-testid":"favorite-btn",disabled:!l},o||r?n().createElement(zo,null):n().createElement(Uv,null)))},Xv=({className:e})=>{const t=(0,Cd.wK)(),{namespace:a,catalogItemId:n,appName:l}=t,o=(0,Id.K)(a,n,l),c=Hn(),s=nu(null==c?void 0:c.collectionId,t),d=Qd(),u=jg(),m=(0,i.c)(),p=e=>{c&&o&&(e?u(c,o):d(c,o))},b=r.useCallback((,[t,s]),g=r.useCallback((e=>{e.key===Cn.et.Enter&&(e.preventDefault(),p(s))}),[t,s]);return r.createElement(Jv,{className:e,isOnline:m,isInCollection:s,onClick:b,onKeyDown:g})};var Qv=a(92954),eE=((eE||{});const tE={root:(0,b.iv)({letterSpacing:1,padding:"2px 5px",display:"flex",alignItems:"center",position:"absolute",left:0,right:0,bottom:0,"> span":{width:"100%"}}),lineClamp:(0,b.iv)({display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),blue:(0,b.iv)({backgroundColor:Qv.St}),black:(0,b.iv)({backgroundColor:Qv.Fi}),green:(0,b.iv)({backgroundColor:Qv.$w}),purple:(0,b.iv)({backgroundColor:Qv.Yh})},aE=({color:e="black",children:t})=>{const a=(0,b.cx)(tE.root,tE[e]);return r.createElement("div",{className:a,"data-testid":"StatusBar"},r.createElement(Z.Z,null,r.createElement("span",{className:tE.lineClamp},t)))},rE=e=>{switch(e.toUpperCase()){case or.PP.Stage:return eE.BLUE;case or.PP.Live:return eE.PURPLE;default:return eE.GREEN}},nE=()=>{const{namespace:e,appName:t,catalogItemId:a}=(0,Cd.wK)(),r=(0,Id.K)(e,a,t);if((null==r?void 0:r.sandboxType)===or.Dj.Private&&(null==r?void 0:r.sandboxName)){const e=r.sandboxName;return n().createElement(aE,{color:rE(e)},e)}return null};var lE=Object.defineProperty,oE=Object.defineProperties,iE=Object.getOwnPropertyDescriptors,cE=Object.getOwnPropertySymbols,sE=Object.prototype.hasOwnProperty,dE=Object.prototype.propertyIsEnumerable,uE=(e,t,a)=>t in e?lE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,mE=(e,t)=>{for(var a in t||(t={}))sE.call(t,a)&&uE(e,a,t[a]);if(cE)for(var a of cE(t))dE.call(t,a)&&uE(e,a,t[a]);return e};const pE=({namespace:e,catalogItemId:t,appName:a,defaultValue:n="0B"})=>{const l=Lb(e,t,a);return r.createElement("span",{"data-testid":"InstallSizeOnDisk"},l||n)},bE=()=>r.createElement(Ee.Od,{variant:Ee.Jy.Text,height:"100%",width:50}),gE=e=>r.createElement(Ye.n4,{fallback:r.createElement(bE,null)},r.createElement(pE,mE({},e))),vE=({defaultValue:e})=>{const t=(0,Cd.wK)();return r.createElement(gE,(a=mE({},t),oE(a,iE({defaultValue:e}))));var a};var EE=Object.defineProperty,yE=Object.getOwnPropertySymbols,fE=Object.prototype.hasOwnProperty,hE=Object.prototype.propertyIsEnumerable,OE=(e,t,a)=>t in e?EE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,CE=(e,t)=>{for(var a in t||(t={}))fE.call(t,a)&&OE(e,a,t[a]);if(yE)for(var a of yE(t))hE.call(t,a)&&OE(e,a,t[a]);return e};const IE=({hasSettingsMenu:e=!0,Layout:t,SubtitleComponent:a,useButtonAction:n,isGridView:l})=>()=>{const o=(0,Cd.wK)(),{namespace:i,catalogItemId:c,appName:s}=o,d=`settings_${(0,Qs.ue)(i,c,s)}`,u=`${d}_context`,m=(0,nd.E)(),p=n(o),b=(0,qe.useSelector)(cr.vR)||Ia.v.ANONYMOUS,g=r.useRef(null),{isOpen:v,closeMenu:E}=mv(d),{openContextMenu:y,openContextMenuWithKeyboard:f,contextMenuProps:h}=Dn(u),O=e,C=r.useMemo((()=>O?r.createElement(sv,CE({id:u,anchorElement:g.current},h)):void 0),[u,h.anchorPosition,h.isOpen,h.onClose,O]),I=r.useMemo((()=>e?void 0),[d,e]);return r.createElement(t,{forwardedRef:g,title:r.createElement(ig.F,{hasTooltip:!0,lineClamp:!l}),subtitle:r.createElement(a,{isGridView:l}),image:r.createElement(kv,null,r.createElement(nE,null)),renderFavorite:onContextMenu:O?void 0,onKeyDown:O?f:void 0,contextMenu:C,renderSettingsMenu:I,badges:m.length?l?r.createElement(Mv,{count:m.length}):r.createElement(Fv,{count:m.length}):void 0,active:v||h.isOpen,hasHover:!!p,onClick:p,playtime:r.createElement(kg,{defaultValue:"-"}),installSize:r.createElement(vE,{defaultValue:"-"}),achievements:b?r.createElement(qd,{isGridView:l}):void 0})},wE=e=>({GridCard:IE(CE({Layout:Yl,isGridView:!0},e)),ListCard:IE(CE({Layout:ds,isGridView:!1},e))}),SE=wE({useButtonAction:rd,SubtitleComponent:ad.c,hasSettingsMenu:!0});var xE=a(20766);const PE=(0,ju.g)("installWithOptions",(({namespace:e,catalogId:t,appName:a,options:r})=>(0,Bt.ZP)().installWithOptions(e,t,a,r)));const kE=(0,ju.g)("chooseInstallLocation",(e=>{return t=void 0,a=[e],r=function*({namespace:e,catalogId:t,appName:a}){return(0,Bt.ZP)().chooseInstallLocation(e,t,a)},new Promise(();var t,a,r})),NE=(0,ju.u)("install");var LE=a(51460);const jE=(0,m.i)((()=>({pathInfo:(0,b.iv)({margin:"10px 0 20px 0",width:"100%",wordBreak:"break-all"}),textLabel:(0,b.iv)((0,ne.wz)(4)),spacingTop:(0,b.iv)({marginTop:10}),hasError:(0,b.iv)({opacity:1,height:"auto"}),autoUpdateLabel:(0,b.iv)((0,ne.oI)(10)),buttonDiv:(0,b.iv)({marginTop:20})}))),ME=({path:e})=>{const t=jE();return r.createElement("div",{className:t.pathInfo},r.createElement("span",{className:t.textLabel},r.createElement(ae.ZP,{weight:ae.G0.BOLD,textLevel:F.N.SECONDARY},r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.path"}))),r.createElement("span",{"data-testid":"path"},r.createElement(ae.ZP,{textLevel:F.N.SECONDARY},e)))},AE=({directoryPath:e="",downloadSize:t="",error:a="",hasInstallOptions:n=!1,isInstallDisabled:l=!1,onBrowseClick:o,onCancelClick:i,onInstallClick:c,onInstallOptionsClick:s,options:m,path:p="",requiredSpace:b=""})=>{const g=jE();return r.createElement(A.P,{header:r.createElement(_.x,{onCloseClick:i},r.createElement(ae.ZP,{weight:ae.G0.BOLD},r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.title"}))),content:r.createElement(N,{spacing:10,role:"form","aria-label":"Choose Install Location"},r.createElement(L,{xs:9},r.createElement(ee,{id:"directoryPath",name:"directoryPath",inputHeight:R.Ey.DENSED,placeholder:"/",value:e,noBackground:!0,readOnly:!0,error:!!a,helperText:a,"data-testid":"directoryPath",label:r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.folder"})}),n&&r.createElement(ME,{path:p})),r.createElement(L,{xs:3},r.createElement("div",{className:g.buttonDiv},r.createElement(ll.gg,{buttonHeight:R.Ey.DENSED,buttonWidth:R.WL.BLOCK,onClick:o,"data-testid":"BrowseButton"},r.createElement(LE.Z,null,r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.browse"}))),n&&r.createElement("div",{className:g.spacingTop},r.createElement(nl.f5,{buttonHeight:R.Ey.DENSED,buttonWidth:R.WL.BLOCK,onClick:s,"data-testid":"OptionsButton"},r.createElement(LE.Z,null,r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.options"})))))),!n&&r.createElement(L,{xs:12},r.createElement(ME,{path:p})),m),footer:r.createElement(T.m,{content:r.createElement("div",null,t&&r.createElement(d.x,{alignItems:u.Ks.Center},r.createElement("span",{className:g.textLabel},r.createElement(Z.Z,{textLevel:F.N.SECONDARY},r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.download_size"}))),r.createElement("span",{"data-testid":"downloadSize"},r.createElement(Z.Z,null,t))),b&&r.createElement(d.x,{alignItems:u.Ks.Center},r.createElement("span",{className:g.textLabel},r.createElement(Z.Z,{textLevel:F.N.SECONDARY},r.createElement(Uo.v0,{code:"egstore.library.install_location_modal.required_space"}))),r.createElement("span",{"data-testid":"requiredSpace"},r.createElement(Z.Z,null,b))))},r.createElement(M.d,{onClick:i,"data-testid":"CancelButton"},r.createElement(Uo.v0,{code:"diesel.common.smart_button.cancel"})),r.createElement(j.N,{disabled:l,onClick:c,"data-testid":"InstallButton"},r.createElement(Uo.v0,{code:"diesel.common.smart_button.install"})))})};var TE=Object.defineProperty,_E=Object.getOwnPropertySymbols,DE=Object.prototype.hasOwnProperty,RE=Object.prototype.propertyIsEnumerable,BE=(e,t,a)=>t in e?TE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ZE=(e,t)=>{for(var a in t||(t={}))DE.call(t,a)&&BE(e,a,t[a]);if(_E)for(var a of _E(t))RE.call(t,a)&&BE(e,a,t[a]);return e};const FE=e=>r.createElement(ye,{hasHeader:!0,hasFooter:!0,hasPrimaryButton:!0,hasSecondaryButton:!0,titleWidth:200,content:r.createElement(N,{spacing:10,role:"form","aria-label":"Choose Install Location"},r.createElement(L,{xs:12},r.createElement(Ee.Od,ZE({variant:Ee.Jy.Text,width:50,height:20},e))),r.createElement(L,{xs:9},r.createElement(Ee.Od,ZE({width:"100%",height:40},e))),r.createElement(L,{xs:3},r.createElement(Ee.Od,ZE({width:"100%",height:40},e))),r.createElement(L,{xs:12},r.createElement("div",{style:{margin:"20px 0"}},r.createElement(Ee.Od,ZE({variant:Ee.Jy.Text,width:"80%",height:25},e)))))});var UE=a(4329);const WE=(0,m.i)((()=>({textLabel:(0,b.iv)((0,ne.oI)(10))}))),KE=({ariaLabel:e,checked:t,id:a,label:n,onClick:l})=>{const o=WE();return r.createElement(L,{xs:12},r.createElement(d.x,{alignItems:u.Ks.Center},r.createElement(UE.X,{id:a,ariaLabel:e,checked:t,onClick:l}),r.createElement("span",{className:o.textLabel},r.createElement("label",{htmlFor:a,"data-testid":"label"},r.createElement(ae.ZP,null,n)))))},zE=e=>({value:t,onClick:a})=>{const n=(0,Uo.ql)();return r.createElement(KE,{id:e.id,ariaLabel:n(e.titleCode),label:r.createElement(Uo.v0,{code:e.titleCode}),checked:t,onClick:a})},VE=zE({id:"installAutoUpdate",titleCode:"egstore.library.install_location_modal.auto_update"}),HE=zE({id:"createShortcut",titleCode:"egstore.library.install_location_modal.create_shortcut"});var $E=a(63236);const GE=Km("install-location-modal"),qE=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),{closeModal:n,cancelModal:l,getData:o}=GE(),{additionalInstalls:i}=o()||{},c=kE(),s=Fm(),d=PE(),{installState:u}=(0,Jd.e)(e,t,a),[m,p]=r.useState(!0),[b,g]=r.useState(!0),{path:v,directoryPath:E}=((e,t,a)=>{const{installState:n}=(0,Jd.e)(e,t,a),l=r.useMemo((()=>(0,Xd.Kk)(n)),[n]),o=r.useMemo((()=>(e=>{var t;return(null==(t=e.match(/(.*)[\\/]/))?void 0:t[1])||""})(l)),[l]);return{path:l,directoryPath:o}})(e,t,a),y=((e,t,a)=>{const n=(0,Ku.c)(e,t,a),{globalAutoUpdate:l}=(0,Hb.t)(),o=(0,r.useMemo)((()=>(0,Fo.mW)(n)),[n]),i=(0,r.useMemo)((,[n]);return!o&&l&&!i})(e,t,a),f=(()=>{const e=(0,qe.useSelector)(cr.ek);return e===Vb.om.WINDOWS||e===Vb.om.WIN32})(),h=((e,t,a)=>{const{installState:n}=(0,Jd.e)(e,t,a);return(0,r.useMemo)((()=>(0,Xd.t9)(n)),[n])})(e,t,a),{metadata:O}=((e="",t="")=>{const a=(0,qe.useDispatch)(),n=(0,r.useMemo)((()=>(0,ir.KG)(t)),[t]),l=(0,qe.useSelector)(n),o=Boolean(e&&t),i=!(null==l?void 0:l.state)||(null==l?void 0:l.state)===$E.s.notAsked;return(0,r.useEffect)((()=>{o&&i&&a((0,Cc.X4)({sandboxId:e,artifactId:t}))}),[o,i]),(0,r.useMemo)((()=>({metadata:null==l?void 0:l.latestValue,query:{isFetching:(null==l?void 0:l.state)===$E.s.fetching,isSuccess:(null==l?void 0:l.state)===$E.s.success}})),[null==l?void 0:l.latestValue,null==l?void 0:l.state])})(e,a),C=(0,Xd.td)((null==O?void 0:O.downloadSizeBytes)||0),I=(0,Xd.td)((null==O?void 0:O.installedSizeBytes)||0),w=r.useMemo((,[u]),S=r.useMemo((()=>Boolean(!v||w)),[v,null==u?void 0:u.stateerror]),x=r.useCallback((()=>{c({namespace:e,catalogId:t,appName:a})}),[c,e,t,a]),P=r.useCallback((,[s,e,t,a]),k=r.useCallback((()=>{d({namespace:e,catalogId:t,appName:a,options:{autoUpdate:m,createShortcut:b}}),i&&i.forEach((e=>{d({namespace:e.namespace,catalogId:e.catalogItemId,appName:e.appName,options:{autoUpdate:m,createShortcut:b}})})),n()}),[n,d,e,t,a,m,b,i]);return r.createElement(AE,{isInstallDisabled:S,hasInstallOptions:h,onBrowseClick:x,onCancelClick:l,onInstallClick:k,onInstallOptionsClick:P,path:v,directoryPath:E,error:w,downloadSize:C,requiredSpace:I,options:r.createElement(r.Fragment,null,y&&r.createElement(VE,{value:m,onClick:()=>p((e=>!e))}),f&&r.createElement(HE,{value:b,onClick:))})},YE=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),n=NE(),{closeModal:l}=GE(),o=(0,Bt.ZP)().supportsWebClientInstallFlow(),{isThirdPartyManaged:i,triggerInstallToast:c}=(0,lm.K)(e,t,a);return r.useEffect((()=>{!i&&o||(n({namespace:e,catalogId:t,appName:a,funnelId:cc.Nd.MANAGE_PRODUCT_MODAL}),i&&c(),l())}),[i]),!i&&o?r.createElement(qE,null):r.createElement(FE,null)},JE=()=>{const{isOpen:e,cancelModal:t,getData:a}=GE(),n=a();return n?r.createElement(Le.u,{isOpen:e,onClose:t},r.createElement(Ye.n4,{fallback:r.createElement(FE,null)},r.createElement(Cd.wi.Provider,{value:n},r.createElement(YE,null)))):null},XE=e=>{const{namespace:t,catalogItemId:a,appName:n}=e,{openModal:l}=GE(),o=PE(),i=(0,Ab.R)(t,a,n),{isLaunchableAddon:c,install:s}=Db(t,a,n),{installState:d}=(0,Jd.e)(c?null==i?void 0:i.namespace:"",c?null==i?void 0:i.catalogItemId:"",c?null==i?void 0:i.appName:"");return(0,r.useCallback)((()=>{const t=(0,Xd.aV)(d),a=(0,Xd.Pb)(d),r=(0,Xd.Gd)(d);if(c&&d)if((0,Bt.ZP)().supportsLaunchableAddonsV2Flow()){if(t||a||r)return o({namespace:e.namespace,catalogId:e.catalogItemId,appName:e.appName,options:void 0});l({namespace:d.namespace,catalogItemId:d.catalogid,appName:d.appname,additionalInstalls:[e]})}else t?s():i&&l({namespace:i.namespace,catalogItemId:i.catalogItemId,appName:i.appName});else l(e)}),[c,s,o,l,e,i,d])},QE=wE({useButtonAction:XE,SubtitleComponent:xE.y,hasSettingsMenu:!0}),ey=wE({useButtonAction:XE,SubtitleComponent:xE.v,hasSettingsMenu:!0});var ty=a(47789);const ay=wE({useButtonAction:ty.v,SubtitleComponent:xl.L6,hasSettingsMenu:!0}),ry=wE({useButtonAction:ty.v,SubtitleComponent:xl.WL,hasSettingsMenu:!0}),ny=wE({useButtonAction:ty.v,SubtitleComponent:xl.YA,hasSettingsMenu:!0});var ly=a(33506);const oy=wE({useButtonAction:rd,SubtitleComponent:ly.D,hasSettingsMenu:!1});var iy=a(52687),cy=a(86680);const sy=wE({useButtonAction:cy.v,SubtitleComponent:iy.c,hasSettingsMenu:!0});var dy=a(63366);const uy=wE({useButtonAction:({namespace:e})=>{const{gotoProductHome:t}=Rm(e,{suspense:!1});return t},SubtitleComponent:dy.g,hasSettingsMenu:!0});var my=a(42113),py=a(89331);const by=(0,py.f)(ib),gy=wE({useButtonAction:by,SubtitleComponent:my.g,hasSettingsMenu:!1});var vy=a(19602);const Ey=wE({useButtonAction:SubtitleComponent:vy.u,hasSettingsMenu:!1});var yy=a(5190),fy=a(86416),hy=a(66685);const Oy=(0,py.f)(yy.$),Cy=(0,py.f)(fy.z),Iy=wE({useButtonAction:rd,SubtitleComponent:hy.ob,hasSettingsMenu:!1}),wy=wE({useButtonAction:Oy,SubtitleComponent:hy.zQ,hasSettingsMenu:!0}),Sy=wE({useButtonAction:Cy,SubtitleComponent:hy.Jy,hasSettingsMenu:!0}),xy=wE({useButtonAction:rd,SubtitleComponent:o.z,hasSettingsMenu:!1});var Py=a(9800);const ky=wE({useButtonAction:rd,SubtitleComponent:Py.V,hasSettingsMenu:!0});var Ny=a(93088),Ly=a(48912);const jy=wE({useButtonAction:Ly.m,SubtitleComponent:Ny.l,hasSettingsMenu:!0});var My=a(60331);const Ay=wE({useButtonAction:rd,SubtitleComponent:My.i,hasSettingsMenu:!0});var Ty=a(92679);const _y=wE({useButtonAction:rd,SubtitleComponent:Ty.t,hasSettingsMenu:!0});var Dy=a(40762);const Ry=wE({useButtonAction:rd,SubtitleComponent:Dy.K,hasSettingsMenu:!0});wE({useButtonAction:rd,SubtitleComponent:Dy.d,hasSettingsMenu:!0});var By=a(52976);const Zy=wE({useButtonAction:rd,SubtitleComponent:By.i,hasSettingsMenu:!1});var Fy=a(41015),Uy=a(99907);const Wy=wE({useButtonAction:Fy.e,SubtitleComponent:Uy.d,hasSettingsMenu:!0});var Ky=a(98405);const zy=wE({useButtonAction:rd,SubtitleComponent:Ky.l,hasSettingsMenu:!0});var Vy=a(31820);const Hy=wE({useButtonAction:rd,SubtitleComponent:Vy.O,hasSettingsMenu:!0});var $y=a(48874),Gy=a(10911);const qy=wE({useButtonAction:Gy.s,SubtitleComponent:$y.I,hasSettingsMenu:!0});var Yy=a(89701),Jy=a(29878);const Xy=e=>(0,cm.b)(sm.M.Ubisoft,null==e?void 0:e.customAttributes),Qy=wE({useButtonAction:({namespace:e,catalogItemId:t,appName:a})=>{const n=(0,qe.useDispatch)(),{uplayCodes:l}=(0,dm.Rb)(),o=(0,tm.c)(e,t,a,{includeMainGameItem:!0,includeHiddenAddons:!0}),i=(0,r.useMemo)((()=>{const e=o.map((e=>e.catalogItem));return(0,um.D)(e.map(Xy)).filter((e=>t=>{const a=null==e?void 0:e.find(((t));return!(null==a?void 0:a.redeemedOnUplay)})(l))}),[o,l]);return(0,r.useCallback)((()=>{(null==i?void 0:i.length)&&n((0,Jy.E)({partnerGameIds:i}))}),[i,n])},SubtitleComponent:Yy.o,hasSettingsMenu:!1}),ef=()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)((,[e])};var tf=a(24859);const af=wE({useButtonAction:ef,SubtitleComponent:tf.H,hasSettingsMenu:!1});var rf=a(73389),nf=a(18144),lf=a(91139);const of=(0,rf.o)({icon:r.createElement(lf.Z,null),Component:nf.YU}),cf=wE({useButtonAction:rd,SubtitleComponent:of,hasSettingsMenu:!0}),sf={[Lm.W.Banned]:SE,[Lm.W.CanInstall]:QE,[Lm.W.CanLaunch]:ay,[Lm.W.CanLaunchMultiple]:ry,[Lm.W.CanLaunchRestricted]:ny,[Lm.W.CanPreInstall]:ey,[Lm.W.CloudSyncing]:oy,[Lm.W.Corrupted]:sy,[Lm.W.ForceGet]:uy,[Lm.W.ForceUninstall]:gy,[Lm.W.GotoHub]:Ey,[Lm.W.Installing]:wy,[Lm.W.InstallingPaused]:Sy,[Lm.W.InstallingPreparing]:Iy,[Lm.W.Loading]:xy,[Lm.W.Offline]:ky,[Lm.W.PartiallyInstalled]:jy,[Lm.W.PreInstalled]:Ay,[Lm.W.PrePurchased]:_y,[Lm.W.Queued]:Ry,[Lm.W.QueuedForUpdate]:Ry,[Lm.W.Running]:Zy,[Lm.W.SelfUpdate]:xy,[Lm.W.SignIn]:Wy,[Lm.W.Unavailable]:zy,[Lm.W.Unsupported]:Hy,[Lm.W.Update]:qy,[Lm.W.UplaySignIn]:af,[Lm.W.UplayRedeem]:Qy,[Lm.W.WaitingInLine]:cf};var df=a(74737),uf=Object.defineProperty,mf=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,bf=Object.prototype.propertyIsEnumerable,gf=(e,t,a)=>t in e?uf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const vf=({layout:e,namespace:t,catalogItemId:a,appName:n})=>{const{GridCard:l,ListCard:o}=(({namespace:e,catalogItemId:t,appName:a})=>{const r=Nm(e,t,a);return sf[r]})({namespace:t,catalogItemId:a,appName:n}),i=r.useMemo((()=>e===or.ms.Grid?l:o),[e,l,o]),c=r.useMemo((,[t,a,n]);return r.createElement(Cd.wi.Provider,{value:c},r.createElement(i,null))},Ef=e=>{var t=e,{index:a=-1,layout:n}=t,l=((e,t)=>{var a={};for(var r in e)pf.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&mf)for(var r of mf(e))t.indexOf(r)<0&&bf.call(e,r)&&(a[r]=e[r]);return a})(t,["index","layout"]);const[o,i]=r.useState(a>=0&&a<24),c=(0,r.useCallback)((,[i]),s=r.useMemo((()=>n===or.ms.Grid?Cs:Is),[n]);return r.createElement(df.ZP,{disabled:o,rootMargin:"50%",onChange:c},r.createElement("div",null,o?r.createElement(Ye.n4,{fallback:r.createElement(s,{animation:Ee.ru.None})},r.createElement(vf,((e,t)=>{for(var a in t||(t={}))pf.call(t,a)&&gf(e,a,t[a]);if(mf)for(var a of mf(t))bf.call(t,a)&&gf(e,a,t[a]);return e})({layout:n},l))):r.createElement(s,{animation:Ee.ru.None})))};var yf=a(50694);const ff=(0,m.i)((()=>({wrapper:(0,b.iv)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",margin:"192px 0 20px 0",button:{marginTop:30}}),title:(0,b.iv)({width:608})}))),hf=()=>{const e=ff(),{resetFilters:t}=Or(),{selectedCollectionId:a}=Nr(),n=r.useMemo((()=>a===Et.U.ALL?"egstore.library.empty_filter_results.title.all":"egstore.library.empty_filter_results.title.collection"),[a]),l=r.useMemo((,[a]);return r.createElement("div",{className:e.wrapper,"data-testid":"empty-filter-result-alert"},r.createElement("div",{"aria-live":"polite",role:"alert",className:e.title},r.createElement(yf.Z.Heading,{headingLevel:1},r.createElement(te.Z,{code:n}))),r.createElement(nl.f5,{onClick:,r.createElement(te.Z,{code:l})))},Of=({pageSize:e,options:t,onChange:a,layout:r})=>n().createElement(Uc.Z,{id:"page-size-dropdown",label:n().createElement(te.Z,{code:`egstore.library.page_size.title.${r.toLowerCase()}`}),options:t,selectedValue:e,onChange:a});var Cf=((Cf||{});const If=var wf=a(19451),Sf=a(79494),xf=Object.defineProperty,Pf=Object.getOwnPropertySymbols,kf=Object.prototype.hasOwnProperty,Nf=Object.prototype.propertyIsEnumerable,Lf=(e,t,a)=>t in e?xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,jf=(e,t)=>{for(var a in t||(t={}))kf.call(t,a)&&Lf(e,a,t[a]);if(Pf)for(var a of Pf(t))Nf.call(t,a)&&Lf(e,a,t[a]);return e};const Mf=(0,m.i)((e=>({delimiter:(0,b.iv)({color:e.textSecondary}),number:(0,b.iv)({'button:hover:not([disabled]) &, button[aria-current="true"] &':{color:e.textPrimary,fontWeight:fe.Ue.bold},"button:disabled &":{display:"none"}}),icon:(0,b.iv)((0,ne.N2)("rtl"))}))),Af=e=>{var t=e,{page:a,selected:n=!1,disabled:l=!1,type:o=Cf.Page,onClick:i}=t,c=((t,["page","selected","disabled","type","onClick"]);const s=Mf(),d=((e,t,a)=>{const n=(0,oe.useLocalization)();return r.useMemo((()=>e===Cf.Page?n(a?"epic.store.pagination.page":"epic.store.pagination.go_to_page",[t]):n("epic.store.pagination.go_to_page",[t])),[e,a,t])})(o,a,n);return o===Cf.StartEllipsis||o===Cf.EndEllipsis?r.createElement("div",{className:s.delimiter},"…"):o===Cf.Previous?r.createElement("div",{className:s.icon,"data-testid":"previous"},r.createElement(tt.h,jf({disabled:l,onClic),"aria-label":d},c),r.createElement(wf.v,null))):o===Cf.Next?r.createElement("div",{className:s.icon,"data-testid":"next"},r.createElement(tt.h,jf({disabled:l,onClic),"aria-label":d},c),r.createElement(Sf.E,null))):r.createElement(ll.F6,jf(jf({buttonWidth:R.WL.AUTO,disabled:l,onClick:()=>i(a),"aria-label":d},c),n?{"aria-current":!0}:{}),r.createElement(B.Z,{textLevel:F.N.SECONDARY},r.createElement("span",{className:s.number},a)))};var Tf=a(6232),_f=Object.defineProperty,Df=Object.defineProperties,Rf=Object.getOwnPropertyDescriptors,Bf=Object.getOwnPropertySymbols,Zf=Object.prototype.hasOwnProperty,Ff=Object.prototype.propertyIsEnumerable,Uf=(e,t,a)=>t in e?_f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Wf={list:(0,b.iv)({margin:0,padding:0,display:"flex",justifyContent:"center",alignItems:"center"}),listItem:(0,b.iv)({width:50,textAlign:"center","&:first-of-type":(0,ne.wz)(8)})},Kf=({page:e,totalPages:t,onClick:a})=>{const n=r.useRef(null),l=(0,oe.useLocalization)(),{items:o}=(({totalPages:e,page:t})=>{const a=(0,r.useMemo)((()=>If(1,Math.min(1,e))),[e]),n=(0,r.useMemo)((()=>If(Math.max(e-1+1,2),e)),[e]),l=Math.max(Math.min(t-1,e-1-2-1),3),o=Math.min(Math.max(t+1,5),n.length>0?n[0]-2:e-1);return{items:(0,r.useMemo)((()=>["previous",...a,...l>3?["start-ellipsis"]:2<e-1?[2]:[],...If(l,o),...o<e-1-1?["end-ellipsis"]:e-1>1?[e-1]:[],...n,"next"]),[a,l,o,n,e]).map((a=>"number"==typeof a?{type:"page",page:a,selected:a===t,disabled:!1,"aria-current":a===t?"true":void 0}:{type:a,page:t,selected:!1,disabled:-1===a.indexOf("ellipsis")&&("next"===a?t>=e:t<=1)}))}})({page:e,totalPages:t});return r.createElement("nav",{ref:n,"data-testid":"library-pagination",role:"navigation","aria-label":l("epic.store.pagination.pagination_navigation")},r.createElement(Tf.a,{data:o,className:Wf.list,itemClassName:Wf.listItem},((e,t)=>{return r.createElement(Af,(n=((e,t)=>{for(var a in t||(t={}))Zf.call(t,a)&&Uf(e,a,t[a]);if(Bf)for(var a of Bf(t))Ff.call(t,a)&&Uf(e,a,t[a]);return e})({},e),l={onClick:a,key:`${e.page}-${t}`},Df(n,Rf(l))));var n,l})))};var zf=Object.defineProperty,Vf=Object.getOwnPropertySymbols,Hf=Object.prototype.hasOwnProperty,$f=Object.prototype.propertyIsEnumerable,Gf=(e,t,a)=>t in e?zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,qf=(e,t)=>{for(var a in t||(t={}))Hf.call(t,a)&&Gf(e,a,t[a]);if(Vf)for(var a of Vf(t))$f.call(t,a)&&Gf(e,a,t[a]);return e};const Yf={footer:(0,b.iv)({display:"flex",alignItems:"center",justifyContent:"space-between"}),pagination:(0,b.iv)({[fe.Uc.lg]:qf({},(0,ne.wz)(31)),[fe.Uc.xl]:qf({},(0,ne.wz)(42)),[fe.Uc.maxWidth]:qf({},(0,ne.wz)(57))})},Jf=({totalItems:e,totalPages:t,page:a,setPage:r,pageSize:l,setPageSize:o,options:i,keyword:c,layout:s})=>{const d=a*l-l,u=d+1,m=e<l?e:l,p=d+m>e?e:d+m,b=t>1,g=Gn(c),v=n().useMemo((()=>u===e?n().createElement("div",{"data-testid":"shortened-text"},n().createElement(te.Z,{code:"egstore.library.hub.product.plugins.showing_last",args:[u,e]})):n().createElement("div",{"data-testid":"full-text"},n().createElement(te.Z,{code:"egstore.library.hub.product.plugins.showing",args:[u,p,e]}))),[u,p,e]);n().useEffect((()=>l>=e||c!==g?r(1):a>=t?r(t):void 0),[l,e,c]);const E=n().useCallback((e=>{a!==e&&r(e),(0,Ba.Y)().window.scrollTo({top:0,behavior:"smooth"})}),[a,l,e]);return n().createElement("div",{className:Yf.footer},n().createElement(ae.ZP,{textLevel:F.N.SECONDARY},v),b&&n().createElement("div",{className:Yf.pagination},n().createElement(Kf,{page:a,totalPages:t,onClick:E})),e>i[0].value?n().createElement(Of,{pageSize:l,onChange:o,options:i,layout:s}):null)};var Xf=Object.defineProperty,Qf=Object.defineProperties,eh=Object.getOwnPropertyDescriptors,th=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,rh=Object.prototype.propertyIsEnumerable,nh=(e,t,a)=>t in e?Xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const lh=({totalItems:e,options:t,key:a})=>{const l=(0,qe.useSelector)(cr.vR),o=t[0].value,[i,c]=(0,r.useState)(1),s={keyFn:()=>`${a}_${l||Ia.v.ANONYMOUS}`,localStorageEnabled:!0},{value:d,setValue:u}=lr((m=((e,t)=>{for(var a in t||(t={}))ah.call(t,a)&&nh(e,a,t[a]);if(th)for(var a of th(t))rh.call(t,a)&&nh(e,a,t[a]);return e})({},s),Qf(m,eh({initialValue:o}))));var m;const p=(0,r.useMemo)((()=>{const t=Math.ceil(e/(null!=d?d:o));return t>0?t:1}),[e,d]),b=(0,r.useCallback)((e=>{c((0,In.Z)(1,p,e))}),[p,c]),g=(0,r.useCallback)}),[u,c]),v=n().useCallback((e=>((e,t,a)=>{const r=t*a-a;return e.slice(r,r+a)})(e,i,d)),[d,i]);return{page:i,setPage:b,totalPages:p,pageSize:null!=d?d:o,setPageSize:g,applyPagination:v}};var oh))(oh||{});var ih=a(8086),ch=a(61621),sh=a(21810),dh=a(95337);const uh=(0,zt.Z)((0,$u.Z)})),(0,sa.Z)(da.Z)),mh=({offerItem:e,catalogItem:t})=>{const{offer:a,offerSubItems:n,isBundle:l}=(e=>{const{data:t}=(0,ih.wH)({fields:[ih.Hd.items,ih.Hd.title,ih.Hd.categories],offerId:null==e?void 0:e.offerId,sandboxId:null==e?void 0:e.sandboxId},{enabled:Boolean(e)}),{offerSubItems:a}=(0,ch.h)({offerId:null==e?void 0:e.offerId,sandboxId:null==e?void 0:e.sandboxId},{enabled:Boolean(e)});return{offer:t,offerSubItems:a,isBundle:(0,Ft.Mf)(null==t?void 0:t.categories)}})(e),{records:o}=ya(),{data:i}=(0,dh.ab)({fields:[dh.eZ.title],itemId:null==t?void 0:t.catalogItemId,sandboxId:null==t?void 0:t.sandboxId},{enabled:Boolean(t)});return(0,r.useMemo)((()=>{var r;const c=o.filter)));return{catalogItemIds:l||Boolean(t)?((e,t,a)=>{var r;if(e)return[e.catalogItemId];const n=uh(null!=(r=null==t?void 0:t.items)?r:[]),l=uh(null!=a?a:[]);return(0,sh.Z)([...n,...l])})(t,a,null!=n?n:[]):c.mapd)),title:i?i.title:null!=(r=null==a?void 0:a.title)?r:""}}),[e,a,n,t,i,l,o])};var ph=a(75299),bh=Object.defineProperty,gh=Object.defineProperties,vh=Object.getOwnPropertyDescriptors,Eh=Object.getOwnPropertySymbols,yh=Object.prototype.hasOwnProperty,fh=Object.prototype.propertyIsEnumerable,hh=(e,t,a)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Oh=({setSortType:e})=>{const{sort:t,offerItem:a,catalogItem:n,collectionId:l,resetQueryParams:o}=ni(),{catalogItemIds:i,title:c}=mh({offerItem:a,catalogItem:n}),{setSelectedFilters:s}=Or(),{setValue:d}=lr({keyFn:()=>or.Cd,localStorageEnabled:!0,initialValue:""});(0,r.useEffect)((()=>{var a,r;t===ph.D.PurchaseDate&&i.length&&c?(e(or.ER.Recent_Purchased),s((a=((e,t)=>{for(var a in t||(t={}))yh.call(t,a)&&hh(e,a,t[a]);if(Eh)for(var a of Eh(t))fh.call(t,a)&&hh(e,a,t[a]);return e})({},ha),r={[fa.CATALOG_ITEM_ID]:i},gh(a,vh(r)))),d(c)):t===ph.D.PurchaseDate&&l===Et.U.ALL?(s(ha),e(or.ER.Recent_Purchased),o()):t===ph.D.PurchaseDate&&(e(or.ER.Recent_Purchased),o())}),[t,i,c,l])};var Ch=Object.defineProperty,Ih=Object.defineProperties,wh=Object.getOwnPropertyDescriptors,Sh=Object.getOwnPropertySymbols,xh=Object.prototype.hasOwnProperty,Ph=Object.prototype.propertyIsEnumerable,kh=(e,t,a)=>t in e?Ch(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;const Nh=({layout:e,setLayout:t})=>{const{selectedCollectionId:a,setSelectedCollectionId:n}=Nr(),{selectedFilters:l,setSelectedFilters:o,applySelectedFilters:i}=Or(),{records:c,query:s}=ya(a),d=(0,yt.o)(),u=(0,qe.useSelector)(cr.vR),{sortType:m,setSortType:p,applySortType:b}=(e=>Fc({keyFn:()=>`${or.rv}_${e||Ia.v.ANONYMOUS}`,localStorageEnabled:!0}))(u),g=(0,cl.dD)(),v=(e=>{const t=(0,oe.useLocalization)()("egstore.library.filter.all")||"All",a={TEN:[{label:"10",value:10},{label:"20",value:20},{label:"30",value:30},{label:t,value:99999}],TWELVE:[{label:"12",value:12},{label:"24",value:24},{label:"36",value:36},{label:t,value:99999}],TWENTY_FOUR:[{label:"24",value:24},{label:"36",value:36},{label:"48",value:48},{label:t,value:99999}]};return(0,r.useMemo)]),[e])})(oh.TWENTY_FOUR),E=(0,ei.useHistory)();Oh({setSortType:p});const y=r.useMemo((()=>(0,zt.Z)(i,b)(c)),[c,b,i]),f=y.length,{page:h,setPage:O,totalPages:C,pageSize:I,setPageSize:w,applyPagination:S}=lh({totalItems:f,options:v,key:or.Bi.EGS_LIBRARY_PAGE_SIZE}),x=r.useMemo((()=>S(y)),[S,y]);r.useEffect}),[m,l,a]),r.useEffect((()=>{const e=E.listen((e=>{var t,a;e.pathname.includes(ri.s.LibraryPath)||o((t})({},l),a={[fa.CATALOG_ITEM_ID]:[]},Ih(t,wh(a))))}));retu}}),[l]);const P=()=>{n(Et.U.ALL),p(or.ER.Recent_Played)},},N=r.useMemo((()=>g||!c.length),[g,c]),L=ur(l),j=dr(l),M=r.useMemo)),[l]),A=!L&&c.length<2&&!M&&!j,T=L&&N,_=(j||M)&&!y.length&&!N,D=r.useMemo((()=>a===d?r.createElement(Vo,{onActionClick:k}):r.createElement(Ko,{onActionClick:P})),[a,d]);return s.isFetching&&!c.length?r.createElement(td,{layout:e}):r.createElement(zs,{header:r.createElement(Kc,{layoutType:e,onLayoutChange:t,sortType:m,onSortChange:p}),footer:x.length?r.createElement(Jf,{totalItems:f,totalPages:C,page:h,setPage:O,pageSize:I,setPageSize:w,options:v,layout:e,keyword:l[fa.KEYWORD]}):null,items:x,totalItems:f,shouldShowEmptyLibraryCard:A,renderFilterSidePanel:N?null:r.createElement(lc,null),renderEmptySearch:_?r.createElement(hf,null):null,renderEmptyCollection:T?D:null,layout:e,renderItem:({namespace:t,catalogItemId:a,appName:n},l)=>r.createElement(Ef,{index:l,namespace:t,catalogItemId:a,appName:n,layout:e})})},Lh=()=>{const{layoutType:e,setLayoutType:t,isLoaded:a}=Jc();return r.createElement(r.Fragment,null,a&&e&&r.createElement(Ye.n4,{fallback:r.createElement(td,{layout:e})},r.createElement(Nh,{layout:e,setLayout:t})))},jh=({animation:e})=>{const t=(0,cl.dD)();return n().createElement(zs,{header:n().createElement(ws,{animation:e}),footer:n().createElement(Xs,{animation:e}),shouldShowEmptyLibraryCard:!1,renderFilterSidePanel:t?null:n().createElement(tc,{animation:e})})};var Mh=a(77800),Ah=Object.defineProperty,Th=Object.defineProperties,_h=Object.getOwnPropertyDescriptors,Dh=Object.getOwnPropertySymbols,Rh=Object.prototype.hasOwnProperty,Bh=Object.prototype.propertyIsEnumerable,Za,Fh=(e,t)=>{for(var a in t||(t={}))Rh.call(t,a)&&Zh(e,a,t[a]);if(Dh)for(var a of Dh(t))Bh.call(t,a)&&Zh(e,a,t[a]);return e};const Uh=(0,b.F4)({from:{transform:"rotate(0deg)"},to:{transform:"rotate(-360deg)"}}),Wh=(0,m.i)((e=>{return{buttonDiv:(0,b.iv)({button:(t=Fh({},(0,nt.ip)("opacity")),a={color:e.textPrimary,opacity:.4,"&:hover, &:active, &:focus":{opacity:1}},Th(t,_h(a)))}),icon:(0,b.iv)({fontSize:17}),spin:(0,b.iv)({svg:{animation:`${Uh} 2s linear infinite`}})};var t,a})),Kh=({onClick:e,disabled:t,animateIcon:a})=>{const n=(0,oe.useLocalization)(),l=r.useRef(null),o=n("egstore.library.reload.a11y.reload_library"),i=Wh();return r.createElement("div",{className:i.buttonDiv},r.createElement(Mh.Z,{"aria-label":o,onClick:e,disabled:t,"data-testid":"reload-button",buttonWidth:R.WL.AUTO,forwardRef:l},r.createElement("span",{className:(0,b.cx)({[i.icon]:!0,[i.spin]:a})},r.createElement(Np,null))),r.createElement(rt.u,{anchorRef:l},r.createElement(te.Z,{code:"egstore.library.reload.reload_library"})))},zh=(0,m.i)((()=>({root:(0,b.iv)({marginTop:10,marginBottom:34}),title:(0,b.iv)((0,ne.wz)(3))}))),Vh=({reloadButton:e})=>{const t=zh();return r.createElement(d.x,{alignItems:u.Ks.Center,className:t.root},r.createElement("div",{className:t.title},r.createElement(yf.Z.Heading,{headingLevel:1},r.createElement(te.Z,{code:"diesel.common.page.library.title"}))),e)},Hh=e=>{const t=(()=>{const e=(0,qe.useDispatch)();return(0,r.useCallback)}),[e])})(),[a,n]=(0,r.useState)(e),l=(0,r.useCallback)}),[n,t]);return(0,r.useEffect)((()=>{n(e)}),[e]),{isReloading:a,reloadLibrary:l}},$h=()=>{const{query:e}=ya(),{isReloading:t,reloadLibrary:a}=Hh(e.isFetching),n=(0,i.c)();return r.createElement(Vh,{reloadButton:n?r.createElement(Kh,{onClick:a,disabled:t,animateIcon:t}):void 0})},Gh=({animation:e})=>r.createElement(Vh,{reloadButton:r.createElement(Ee.Od,{width:57,height:40,animation:e,style:{marginLeft:10}})}),qh=()=>n().createElement(n().Fragment,null,n().createElement(et,null),n().createElement(bn,null)),Yh=({title:e,onRetryClick:t,onCancelClick:a})=>n().createElement(Qr,{modalTitle:n().createElement(te.Z,{code:"diesel.common.smart_button.uninstall"}),title:n().createElement(te.Z,{code:"egstore.library.uninstall_close_instances.text_question",args:[e]}),secondaryButton:n().createElement(M.d,{onClick:a},n().createElement(te.Z,{code:"diesel.common.smart_button.cancel"})),primaryButton:n().createElement(j.N,{onClick:t},n().createElement(te.Z,{code:"diesel.common.smart_button.retry"})),onCloseClick:a});var Jh=Object.defineProperty,Xh=Object.defineProperties,Qh=Object.getOwnPropertyDescriptors,eO=Object.getOwnPropertySymbols,tO=Object.prototype.hasOwnProperty,aO=Object.prototype.propertyIsEnumerable,rO=(e,t,a)=>t in e?Jh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,nO=(e,t)=>{for(var a in t||(t={}))tO.call(t,a)&&rO(e,a,t[a]);if(eO)for(var a of eO(t))aO.call(t,a)&&rO(e,a,t[a]);return e},lO=(e,t)=>Xh(e,Qh(t));const oO=e=>r.createElement(ye,lO(nO({},e),{hasHeader:!0,hasFooter:!0,hasPrimaryButton:!0,hasSecondaryButton:!0,content:r.createElement(d.x,{alignItems:u.Ks.Center,justify:u.jf.Center,fillParent:!0},r.createElement(d.x,{direction:u.jO.Column,alignItems:u.Ks.Center},r.createElement(Ee.Od,nO({variant:Ee.Jy.Text,width:500,height:50},e)),r.createElement(Ee.Od,lO(nO({variant:Ee.Jy.Text,width:300,height:50},e),{style:{margin:"-10px 0 0"}}))))})),iO=Km("uninstall-close-instances-modal"),cO=()=>{const{namespace:e,catalogItemId:t,appName:a}=(0,Cd.wK)(),r=(0,xb.V)(e,t,a),{closeModal:l,cancelModal:o}=iO(),i=ib(),c=n().useCallback((()=>{l(),i({namespace:e,catalogId:t,appName:a,funnelId:cc.Nd.MANAGE_PRODUCT_MODAL,options:{disableConfirmation:!0}})}),[l,i,e,t,a]);return n().createElement(Yh,{title:r,onRetryClick:c,onCancelClick:o})},sO=()=>{const{isOpen:e,cancelModal:t,getData:a}=iO(),r=a();return r?n().createElement(Le.u,{isOpen:e,onClose:t},n().createElement(Ye.n4,{fallback:n().createElement(oO,null)},n().createElement(Cd.wi.Provider,{value:r},n().createElement(cO,null)))):null},dO=()=>{const{action:e,item:t}=ni(),{openModal:a}=GE();n().useEffect((()=>{e===ph.M.Install&&t&&a(t)}),[e,t]);const{isOpen:r,openModal:l}=iO();return n().useEffect((()=>(0,Bt.ZP)().getEmitter().subscribe((()=>"LibraryItemModalsSection"),Bt.Rl.UninstallRetry,(e=>{e&&!r&&l({namespace:e.namespace,catalogItemId:e.catalogid,appName:e.appname})}))),[]),n().createElement(n().Fragment,null,n().createElement(JE,null),n().createElement(dg,null),n().createElement(Nb,null),n().createElement(sO,null))},uO=()=>n().createElement(n().Fragment,null,n().createElement(Ye.n4,{fallback:n().createElement(Gh,null)},n().createElement($h,null)),n().createElement(Ye.n4,{fallback:null},n().createElement(il,null)),n().createElement(Ye.n4,{fallback:n().createElement(Qn,null)},n().createElement(Xn,null)),n().createElement(Ye.n4,{fallback:n().createElement(jh,null)},n().createElement(Lh,null)),n().createElement(dO,null),n().createElement(qh,null));var mO=a(15141),pO=a(17653);const bO=(0,mO.xo)("hook-mounted");let gO=!1;const vO=(0,Da.uB)("useMeasureLibraryRenderTime"),EO=(0,mO.xo)("render-sync"),[yO,fO]=(0,mO.sM)("render-duration-sync"),hO=(0,mO.xo)("render-async"),[OO,CO]=(0,mO.sM)("render-duration-async");function IO({dom:e,componentName:t,labels:a,stateChangeCallback:r,predicate:n}){return new Promise((l=>{if(e.current){const o=performance.now(),i=n(e.current);vO.log("querying for predicate time: "+(performance.now()-o)),i&&(vO.log("non observer paint start"),performance.mark(a.start,{detail:{componentName:t}}),r("measuring"),setTimeout((()=>{vO.log("non observer paint end"),r("complete"),performance.mark(a.timeFromPageLoad,{detail:{componentName:t}}),performance.mark(a.end,{detail:{componentName:t}}),l()})))}else l()}))}var wO=a(14951);const SO=()=>{const e=n().useRef(null),t=(0,Uo.ql)();return function(){const e=(0,qe.useSelector)(pO.S);n().useEffect((()=>{if(!e)return;if(_a.r2.isSsr())return;if(gO)return void console.warn("useLibraryPerformance is already mounted. Please ensure only one instance of this hook exists at any point");const t=new mO.SH;return t.connect(),gO=!0,performance.mark(bO}}),[])}(),function(e,t,a){const r=(0,qe.useSelector)(pO.S),l=n().useRef("idle");n().useEffect((()=>{if(!r)return;if(_a.r2.isSsr())return void vO.log("skipping measuring of render time on SSR."}vO.log("starting useMeasureLibraryRenderTime"),IO({dom:e,componentName:t,labels:{start:yO,end:fO,timeFromPageLoad:EO},stateChangeCallback:n,predicate:a});const o=performance,i=new MutationObserver(((r,i)=>{performance=o,"complete"!==l.current?"measuring"!==l.current&&IO({dom:e,componentName:t,labels:{start:OO,end:CO,timeFromPageLoad:hO},stateChangeCallback:n,predicate:a}).then))):i.disconnect()}));return e.current&&i.observe(e.current,{subtree:!0,characterData:!0,childList:!0,attributes:!1}),()=>{i&&i.disconnect()}}),[t,a])}(e,"LibraryBasePage",(e=>t=>{const a=e(o.C),r=new RegExp(`\\b${a}\\b`,"i"),n=t.querySelector(`[data-component=${l.c}]`),i=null==n?void 0:n.textContent;return!!i&&null===i.match(r)})(t)),n().createElement(wO.z,null,n().createElement("div",{ref:e},n().createElement(uO,null)))}},3005}}]);
//# sourceMappingURL=ManageProductsPage.egstore-site.8b3a064e107baa75e809.js.map