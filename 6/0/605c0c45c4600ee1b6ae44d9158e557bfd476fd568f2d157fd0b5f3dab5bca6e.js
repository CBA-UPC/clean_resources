(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1264:function(t,e,i){"use strict";i.r(e);var s=i(5),a=i(1101),n=i(94),r=i(510),l=i(819),o=i(870),c=i(809),u=i(508),d=i(17),h=i(156),m=i(87),p=i(590),k=i(565),f=i(888),b=i(843),L=i(962),g=i(844),v=i(1115),_={components:{BaseButton:u.a,ControlLoader:o.a,FormRow:r.o,ThreadDuplicates:l.a,ControlLinkErrors:c.a,CheckLinkDuplicates:f.a,CheckBlockedLinks:b.a,GetLinkSuggestion:L.a,GetLinkMerchantSuggestion:g.a,EventTrigger:v.a,FormInputLabeled:r.i,FormInputIcon:r.h,FormInputButton:r.g},mixins:[p.b],props:{},data:()=>Object.assign({},Object(m.d)({thread:{namespace:"threadForm",path:"thread",deep:!0}}),{submitLink:"",hasDuplicates:!1,hasErrors:!1}),computed:{canSubmit(){return!this.hasDuplicates&&!this.hasErrors},dealType:()=>d.a,duplicatesFilter:()=>({type:{ne:d.g}})},validations:()=>({link:[Object(k.n)(!0)]}),watch:{"thread.link"(){this.resetLinkData()}},methods:Object.assign({},Object(n.b)("threadForm",["removeAllGalleryImages"]),{resetLink(){this.thread.link="",this.hasDuplicates=!1,this.hasErrors=!1,this.resetLinkData()},resetLinkData(){this.submitLink="",this.$v.clear("link"),this.removeAllGalleryImages()},async validateLink(){await this.$v.validate("link",this.thread.link)},async submit(){await this.validateLink(),!this.$v.error.link&&this.thread.link&&(this.submitLink=this.thread.link)},showFullForm(){Object(h.b)({type:"submit",target:this.$el}),this.$emit("show-full-form")},continueWithLink(){this.showFullForm()},submitWithoutLink(){this.resetLink(),this.$emit("show-full-form")},setDuplicates(t){let{hasDuplicates:e}=t;this.hasDuplicates=e},setLinkErrors(t){let{hasErrors:e}=t;this.hasErrors=e}})},w=i(45),y=Object(w.a)(_,(function(){var t=this,e=t._self._c;return e("section",{directives:[{name:"track",rawName:"v-track:linkForm.view",value:{type:t.dealType},expression:"{ type: dealType }",arg:"linkForm",modifiers:{view:!0}}],staticClass:"flex flex--dir-col flex--grow-1 space--fromW2-h-4 space--h-3 space--t-3 space--b-2"},[e("div",{staticClass:"flex--grow-1 space--mb-3"},[e("h1",{staticClass:"size--all-xxxl size--fromW2-xxl text--b text--color-charcoalTint space--t-3"},[t._v(" "+t._s("Podziel się okazją z milionami ludzi")+" ")]),e("p",{staticClass:"size--all-l text--color-greyShade space--mt-3 space--fromW2-mt-1 space--mb-3"},[t._v(" "+t._s("Wklej link ze znalezioną okazją lub informacjami o niej")+" ")]),e("form",{staticClass:"width--all-12",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"flex boxAlign-ai--all-c"},[e("div",{staticClass:"flex--grow-1"},[e("ol",[e("FormRow",[e("FormInputLabeled",{attrs:{id:"link",inputmode:"url",name:"link",placeholder:"https://www.example.com/greatdeal..."},on:{change:t.validateLink},scopedSlots:t._u([{key:"prependIcon",fn:function(){return[e("FormInputIcon",{attrs:{name:"link"}})]},proxy:!0},{key:"appendButton",fn:function(){return[t.thread.link?e("FormInputButton",{on:{click:t.resetLink}}):t._e()]},proxy:!0}]),model:{value:t.thread.link,callback:function(e){t.$set(t.thread,"link","string"==typeof e?e.trim():e)},expression:"thread.link"}})],1)],1)]),t.canSubmit?e("div",{staticClass:"hide--toW2 space--ml-2"},[e("BaseButton",{directives:[{name:"track",rawName:"v-track:submitWithLink.click",arg:"submitWithLink",modifiers:{click:!0}}],staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",type:"submit",disabled:!t.thread.link}},[t._v(" "+t._s("Zacznijmy")+" ")])],1):t._e()]),t.submitLink?e("CheckBlockedLinks",{attrs:{link:t.submitLink},on:{request:t.setLinkErrors},scopedSlots:t._u([{key:"default",fn:function({isLoading:i,hasErrors:s,errors:a}){return[s?e("ControlLinkErrors",{attrs:{"error-messages":a},on:{cancel:t.resetLink}}):e("CheckLinkDuplicates",{attrs:{link:t.submitLink,filter:t.duplicatesFilter},on:{request:t.setDuplicates},scopedSlots:t._u([{key:"default",fn:function({isLoading:a,hasDuplicates:n,duplicates:r,isSoftDuplicates:l}){return[e("div",[e("GetLinkSuggestion",{attrs:{link:t.submitLink,"keep-alive":!i}}),e("GetLinkMerchantSuggestion",{attrs:{link:t.submitLink,"keep-alive":!i}}),i||a?e("ControlLoader",[t._v(t._s("Sprawdzanie zdublowanych okazji"))]):n?e("ThreadDuplicates",{attrs:{type:t.dealType,threads:r,"is-soft-duplicates":l},on:{cancel:t.resetLink,continue:t.continueWithLink}}):t._e(),e("EventTrigger",{attrs:{"is-loading":i||a,"has-errors":s||n},on:{trigger:t.showFullForm}})],1)]}}],null,!0)})]}}],null,!1,453970853)}):t._e(),e("ControlLinkErrors",{attrs:{"error-messages":t.$v.messages.link},on:{cancel:t.resetLink}}),t.canSubmit?e("div",{staticClass:"hide--fromW2 space--mt-3"},[e("BaseButton",{directives:[{name:"track",rawName:"v-track:submitWithLink.click",arg:"submitWithLink",modifiers:{click:!0}}],staticClass:"width--all-12 space--mb-3",attrs:{variant:"primary",mode:"brand",type:"submit",disabled:!t.thread.link}},[t._v(" "+t._s("Zacznijmy")+" ")])],1):t._e()],1)]),t.canSubmit?e("div",{staticClass:"hAlign--all-c"},[e("BaseButton",{directives:[{name:"track",rawName:"v-track:submitWithoutLink.click",arg:"submitWithoutLink",modifiers:{click:!0}}],attrs:{variant:"tertiary",mode:"default"},on:{click:t.submitWithoutLink}},[t._v(" "+t._s("Nie mam linku")+" ")])],1):t._e()])}),[],!1,null,null,null),D=y.exports,S=Object(s.defineComponent)({__name:"deal-submission-wizard",setup:t=>({__sfc:!0,ThreadSubmissionWizardContent:a.a,DealSubmissionLinkForm:D,DEAL_TYPE:d.a})}),j=Object(w.a)(S,(function(){var t=this,e=t._self._c,i=t._self._setupProxy;return e(i.ThreadSubmissionWizardContent,{attrs:{"thread-type":i.DEAL_TYPE}},[e(i.DealSubmissionLinkForm,{staticClass:"flex--grow-1",on:{"show-full-form":function(e){return t.$emit("show-full-form")}}})],1)}),[],!1,null,null,null);e.default=j.exports},888:function(t,e,i){"use strict";var s=i(5),a=i(545),n=i(617),r=i(716);const l=()=>{let t=null;const e=Object(s.ref)([]),i=Object(s.ref)(!1),{isLoading:l,setLoader:o}=Object(a.a)(),c=()=>{e.value=[],i.value=!1,l.value&&Object(r.a)(t)};return{duplicates:e,checkDuplicates:(s,a)=>{s&&(c(),((s,a)=>{t=Object(n.a)(s,a),t.request.then((t=>{t&&(e.value=t.threads,i.value=t.isSoftDuplicates)})).finally(o())})(s,a))},resetDuplicates:c,isLoading:l,isSoftDuplicates:i}};var o=Object(s.defineComponent)({__name:"check-link-duplicates",props:{link:null,filter:null},setup(t){const e=t,{duplicates:i,isLoading:a,isSoftDuplicates:n,checkDuplicates:r,resetDuplicates:o}=l(),c=Object(s.computed)((()=>!!i.value.length));return Object(s.watch)((()=>e.link),(()=>{r(e.link,e.filter)}),{immediate:!0}),Object(s.onBeforeUnmount)((()=>{o()})),{__sfc:!0,props:e,duplicates:i,isLoading:a,isSoftDuplicates:n,checkDuplicates:r,resetDuplicates:o,hasDuplicates:c}}}),c=i(45),u=Object(c.a)(o,(function(){var t=this,e=t._self._c,i=t._self._setupProxy;return e("div",[t._t("default",null,{isLoading:i.isLoading,duplicates:i.duplicates,isSoftDuplicates:i.isSoftDuplicates,hasDuplicates:i.hasDuplicates,reset:i.resetDuplicates})],2)}),[],!1,null,null,null);e.a=u.exports},962:function(t,e,i){"use strict";var s=i(94),a=i(655),n=i(716),r=i(612);let l=null,o=null;var c={props:{link:{type:String,default:""},keepAlive:{type:Boolean,default:!1}},watch:{link:{handler:"linkChange",immediate:!0}},beforeDestroy(){this.keepAlive||this.cancelRequest()},methods:Object.assign({},Object(s.b)("threadForm",["getFormSuggestionsFromLink","getProductSpecificationFromLink","clearFormSuggestionsFromLink"]),{linkChange(t,e){t!==e&&(this.reset(),this.link&&(this.request(),this.requestProductSpecification()))},async request(){l=await this.getFormSuggestionsFromLink({url:this.link}),l&&l.request.then(r.a).catch((()=>{})).finally(Object(a.a)(this,"isLoading"))},async requestProductSpecification(){o=await this.getProductSpecificationFromLink({url:this.link}),o&&o.request.catch((()=>{}))},cancelRequest(){this.isLoading&&(Object(n.a)(l),Object(n.a)(o))},reset(){this.cancelRequest(),this.clearFormSuggestionsFromLink()}}),render(){return this.$scopedSlots.default?this.$scopedSlots.default({isLoading:this.isLoading}):null}},u=i(45),d=Object(u.a)(c,undefined,undefined,!1,null,null,null);e.a=d.exports}}]); thread id: ".concat(Object(r.f)(e.context)));return}if(e.simulate)return c(e);const a=Object(r.f)(e.context)+location.href;return u.has(a)?u.get(a).target.data.ids+=".".concat(n):u.set(a,c(e)),d(),null}const c=e=>({type:"view",target:{name:"threads",data:{ids:e.target.data.id}},context:e.context,services:e.services,interaction:!1});function l(){for(const[e,t]of u)Object(b.b)(t),u.delete(e)}const u=new Map,d=s()(l,1e3),f=!0;window.addEventListener("pagehide",l);var p=n(78),v=n(63),b=n(97),m=n(5),h=n(29);const g=new WeakMap,x=new WeakMap,y={bind:function(e,t){let{arg:n,value:a,modifiers:r}=t;x.set(e,(x.get(e)||0)+1),Object(h.d)(e)&&(Object(v.g)(e),g.delete(e));const i=Object.keys(r);i.length?(Object(v.b)(e,i,n,a),g.set(e,i.join(","))):Object(h.f)(e,n,a)},update:function(e,t){const n=Object.keys(t.modifiers).join(",");if((g.get(e)||"")!==n)return;const{arg:a,value:r}=t;Object(h.f)(e,a,r)},unbind:function(e){const t=x.get(e)-1;x.set(e,t),t>0||"#comment"===e.nodeName||Object(v.g)(e)}};m.default.directive("track",y);var O=n(55),j=n(49),_=n(25);function k(){!function(){const e="G-7S6HXDXW14";if(_.b||!e||!O.a)return;Object(O.d)(e),Object(O.c)(e,{user_id:Object(j.d)()})}(),function(){const e="",t=0;if(_.b||!e)return;Object(O.d)(e),Object(O.c)(e,{sample_rate:t,groups:"errors",user_id:Object(j.d)()})}()}function w(){a.l.onReady((()=>{Object(b.a)(o),Object(v.f)(b.b),Object(p.a)(),k()})),window.__pepperTrack=async()=>{(await n.e(199).then(n.bind(null,1324))).init()}}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));n(49);const a=()=>Promise.all([n.e(169),n.e(135)]).then(n.bind(null,315)),r=()=>!1;function i(e){r()&&a().then((t=>{let{trackRecombee:n}=t;return n(e)}))}function s(e,t){r()&&a().then((n=>{let{trackRecombeeVisit:a}=n;return a(e,t)}))}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(55),r=n(13);const i=e=>Object.entries(e).map((e=>{let[t,n]=e;return"".concat(t,":").concat(n)})).join(",");function s(e){const t=Object(r.b)({},e);return{event_category:Object(r.f)(e.context),event_label:i(t),non_interaction:!e.interaction}}function o(e){Object(a.b)("event",Object(r.e)(e),s(e))}},160:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(13),r=n(122);function i(e){Object(r.a)("event",Object(a.e)(e))}function s(e){Object(r.a)("stateChange",e)}},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return b}));var a=n(121),r=n(16),i=n(0),s=n.n(i);const o=!0;function c(e){return{name:e.dataset.t,data:g.get(e)||(e.dataset.tD?JSON.parse(e.dataset.tD):null)}}function l(e,t,n){m(t),e.dataset.t!==t&&(e.dataset.t=t),n?(h(n),g.set(e,n)):g.has(e)&&g.delete(e)}function u(e){delete e.dataset.t,g.delete(e)}function d(e){var t;return!(null==e||null===(t=e.dataset)||void 0===t||!t.t)}const f=e=>e.closest("[data-t]"),p=e=>v(e).map((e=>c(e)));function v(e){const t=[];for(;e;){d(e)&&t.unshift(e);const a=Object(r.a)(e,(e=>{var t;return!(null!==(t=e.$el)&&void 0!==t&&t.hasAttribute("track-pass-by"))}));if(a){t.unshift(...v(a.$el));break}if(e.classList.contains(".js-layer")){var n;const a=null===(n=s()(e).data("layer"))||void 0===n?void 0:n.$trigger[0];t.unshift(...v(a));break}e=e.parentElement}return t}function b(e){m(e.name),"data"in e&&h(e.data)}function m(e){if(!e)throw Error("Missing track context name");if(!o&&!Object(a.a)(e))throw Error("Invalid track context name: ".concat(e,", please use camel case"))}function h(e){if(null!==e){if("object"!=typeof e)throw Error("Track data must be object, but got: ".concat(e));if(!o){const t=Object.keys(e);if(!t.length)throw Error("Empty track data, please pass null instead");const n=t.filter((e=>!e||!Object(a.a)(e)));if(n.length)throw Error("Invalid track data keys: ".concat(n.join(","),", please use camel case"));const r=Object.values(e).filter((e=>"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e));if(r.length)throw Error("Invalid track data values: ".concat(r.join(","),", please use type string or number"))}}}const g=new WeakMap},590:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return y}));var a=n(32),r=n.n(a),i=n(10),s=n.n(i),o=n(11),c=n.n(o),l=n(5);n(668);const u=(e,t)=>{const n=Object.assign({},t.validationData,{attribute:t.attribute});return e.replace(/:(\w+)/gi,(e=>n[e.substring(1)]||""))},d=(e,t)=>{const{translation:n}=t.validationData;return u(n||p[e]||v[e],t)},f="Controlla di avere inserito data e ora o che il formato sia corretto.",p={},v={accepted:":attribute deve essere accettato.",alpha:":attribute può contenere solo lettere.",alphaDash:":attribute può contenere solo lettere e numeri e trattini.",alphaNum:":attribute può contenere solo lettere e numeri.",array:":attribute deve essere un array.",betweenArray:":attribute deve contenere tra :min e :max elementi.",betweenNumeric:":attribute deve essere tra :min e :max.",betweenString:":attribute deve avere tra :min e :max caratteri.",different:":attribute e :other devono essere diversi.",digits:":attribute deve avere :digits cifre.",digitsBetween:":attribute deve avere tra :min e :max numeri.",email:"Inserisci un indirizzo email valido.",inArray:"L':attribute selezionato non è valido.",integer:":attribute deve essere un intero.",maxArray:":attribute non può avere più di :max elementi.",maxNumeric:":attribute non può superare :max.",maxString:":attribute non può superare i :max caratteri.",maxFile:":attribute non può superare :max kilobyte.",minArray:":attribute deve avere almeno :min elementi.",minNumeric:":attribute deve essere almeno :min.",minString:":attribute deve avere almeno :min caratteri.",notInArray:"L':attribute selezionato non è valido.",numeric:":attribute deve essere un numero.",localNumeric:"Questo campo deve contenere solo numeri, virgole e punti.",regex:"Il formato di :attribute non è valido.",required:"Questo campo è obbligatorio.",same:":attribute e :other devono corrispondere.",sizeArray:":attribute deve contenere :size elementi.",sizeNumeric:":attributo deve essere :size",sizeString:":attribute deve avere :size caratteri.",url:"Il formato di :attribute non è valido.",sameOriginUrl:"Il link fornito deve provenire da Pepper Italy.",minDatetime:f,maxDatetime:f},b=["valid","remote","multiple","messages"],m=e=>e.reduce(((e,t)=>[...e,...t.translations.map((e=>{let{body:t}=e;return{text:t}}))]),[]),h=(e,t)=>t.reduce(((e,t)=>{const n=e[t.path]||[];return e[t.path]=[...n,...t.translations.map((e=>{let{body:t}=e;return{text:t}}))],e}),e);let g=function(){function e(t){s()(this,e),this._validators={},this.error={},this.anyError=!1,this.messages={},this.check=this.check.bind(this),this.clear=this.clear.bind(this),this.invalid=this.invalid.bind(this),this.validate=this.validate.bind(this),this.resolve={},this.setup(t)}return c()(e,[{key:"setup",value:function(e){Object.keys(this._validators).forEach((t=>{t in e||(delete this._validators[t],delete this.error[t],delete this.messages[t])}));for(const[t,n]of Object.entries(e))this.set(t,n),t in this.messages||this.clear(t);this.check()}},{key:"destroy",value:function(){this.resolve={}}},{key:"errors",value:function(e){return this.messages[e]||[]}},{key:"invalid",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.error[e]:Object.keys(this.messages).some(this.invalid)}},{key:"clear",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return l.default.set(this.error,e,!1),void l.default.set(this.messages,e,[]);Object.keys(this.messages).map(this.clear)}},{key:"add",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[e]=t.reduce(((t,n)=>(t.indexOf(n)<0&&(t.push(n),this.clear(e)),t)),this._validators[e]||[])}},{key:"set",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[e]=t}},{key:"check",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.error[e]=!!this.errors(e).length:this.anyError=!!Object.keys(this.messages).filter(this.check).length}},{key:"resolvePending",value:function(e){var t,n;null===(t=(n=this.resolve)[e])||void 0===t||t.call(n),delete this.resolve[e]}},{key:"hasValidator",value:function(e){return e in this._validators}},{key:"setMessages",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.hasValidator(e)&&(this.messages[e].splice(0,this.messages[e].length,...t),this.check())}},{key:"validate",value:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var a=arguments.length,i=new Array(a>3?a-3:0),s=3;s<a;s++)i[s-3]=arguments[s];this.clear(e),this.hasValidator(e)&&(this.resolvePending(e),await new Promise((async a=>{this.resolve[e]=a;for(const a of this._validators[e]){let s=await a(t,...i),{valid:o,remote:c,multiple:l,messages:f}=s,p=r()(s,b);if(!o){if(Array.isArray(f))c&&l?this.messages=h(this.messages,f):(f=c?m(f):f.map((e=>({text:e}))),this.messages[e].push(...f));else{const t=Object.assign({attribute:e},p);this.messages[e].push({text:n?u(n,t):d(p.type,t)})}break}}this.resolvePending(e)})),this.check(e))}}]),e}();const x={data(){return this.$options.validations&&l.default.util.defineReactive(this,"_validate",null),{}},beforeCreate(){const e=this.$options,t=e.validations;t&&(e.computed||(e.computed={}),e.computed.$validators||(e.computed.$validators="function"==typeof t?t:function(){return t},e.computed.$v||(e.computed.$v=function(){return null===this._validate&&(this._validate=new g("function"==typeof t?t.call(this):t),this.$once("hook:beforeDestroy",this.$watch("$validators",(e=>{this._validate.setup(e)})))),this._validate?this._validate:null})))},beforeDestroy(){this._validate&&(this._validate.destroy(),this._validate=null)},provide(){return{$v:this.$v}}},y=e=>{if(!e)return;const t=Object(l.ref)(new g(e));return Object(l.provide)("$v",t.value),Object(l.onBeforeUnmount)((()=>{t.value.destroy(),t.value=null})),t}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return v}));var a=n(29),r=n(78),i=n(13);const s=!0,o=["view","click","focus","change","submit"],c=o.map(v);function l(e){function t(t){const n=function(e){return e.target instanceof Element?e.target.closest("[".concat(v(e.type),"]:not(:disabled)")):null}(t);n&&e(f(t.type,n))}o.forEach((e=>{document.addEventListener(e,t,!0)})),document.addEventListener("auxclick",(e=>{1===e.button&&t({type:"click",target:e.target})}),!0)}function u(e,t,n,c){t.forEach((t=>function(e,t){const[n,a=""]=t.split("-");!function(e,t){if(s)return;if(!o.includes(e))throw Error("Invalid track event: ".concat(e,", please use: ").concat(o.join("|")));if(t===i.a.Ocular)throw Error("Invalid track modifier: ".concat(e,"-ocular, please omit default service '-ocular'"));if(t&&!Object.values(i.a).includes(t))throw Error("Invalid track service: ".concat(t,"}"));if("view"===e&&t===i.a.GA)throw Error("The 'view' track event is not allowed for google analytics due to quota limits, please use ocular")}(n,a);const c=v(n),l=e.getAttribute(c),u=null===l?a:"".concat(l||i.a.Ocular,",").concat(a||i.a.Ocular);e.setAttribute(c,u),"view"===n&&Object(r.b)(e)}(e,t))),Object(a.f)(e,n,c)}function d(e){Object(a.e)(e),c.forEach((t=>e.removeAttribute(t))),Object(r.c)(e)}function f(e,t){return{type:e,target:Object(a.b)(t),context:Object(a.c)(t.parentElement),interaction:"view"!==e,services:p(e,t)}}function p(e,t){return(t.getAttribute(v(e))||i.a.Ocular).split(",")}function v(e){return"data-t-".concat(e)}},636:function(e,t,n){var a=n(739),r=n(740),i=n(743),s=RegExp("['’]","g");e.exports=function(e){return function(t){return a(i(r(t).replace(s,"")),e,"")}}},668:function(e,t,n){var a=n(636)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=a},739:function(e,t){e.exports=function(e,t,n,a){var r=-1,i=null==e?0:e.length;for(a&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}},740:function(e,t,n){var a=n(741),r=n(312),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(i,a).replace(s,"")}},741:function(e,t,n){var a=n(742)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=a},742:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},743:function(e,t,n){var a=n(744),r=n(745),i=n(312),s=n(746);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?r(e)?s(e):a(e):e.match(t)||[]}},744:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},745:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},746:function(e,t){var n="\\ud800-\\udfff",a="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+s+"]",c="\\d+",l="["+a+"]",u="["+r+"]",d="[^"+n+s+c+a+r+i+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="["+i+"]",b="(?:"+u+"|"+d+")",m="(?:"+v+"|"+d+")",h="(?:['’](?:d|ll|m|re|s|t|ve))?",g="(?:['’](?:D|LL|M|RE|S|T|VE))?",x="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",O=y+x+("(?:\\u200d(?:"+["[^"+n+"]",f,p].join("|")+")"+y+x+")*"),j="(?:"+[l,f,p].join("|")+")"+O,_=RegExp([v+"?"+u+"+"+h+"(?="+[o,v,"$"].join("|")+")",m+"+"+g+"(?="+[o,v+b,"$"].join("|")+")",v+"?"+b+"+"+h,v+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c,j].join("|"),"g");e.exports=function(e){return e.match(_)||[]}},751:function(e,t,n){"use strict";var a={components:{BaseSpinner:n(516).a},props:{title:{type:String,default:""},progress:{type:Number,default:0},error:{type:[Boolean,String],default:!1},size:{type:String,default:"xxl"},i18n:{type:Object,default:()=>({})},hasBar:{type:Boolean,default:!0}},computed:{progressClassList(){return{"vote-temp--burn":!!this.error,"vote-temp--cold":!this.error}},progressStyleList(){return{width:"".concat(this.progress,"%")}},textClassList(){return{"size--all-m":"sm"===this.size,"size--all-xxl":"sm"!==this.size}},contentClassList(){return{"vote-temp--burn":!!this.error,"progress--title":!this.error}}},methods:{retry(){this.$emit("retry")},cancel(){this.$emit("cancel")}}},r=n(44),i=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"js-progress--cover progress--cover progress--cover-fullscreen"},[t("span",{staticClass:"progress--content-align"},[t("span",{staticClass:"progress--content"},[t("div",{staticClass:"text--b vAlign--all-m space--b-1",class:e.contentClassList},[e.error?e._e():t("BaseSpinner",{staticClass:"vAlign--all-m"}),t("span",{staticClass:"space--l-1 vAlign--all-m",class:e.textClassList},[e._v(" "+e._s(e.title)+" ")])],1),e.hasBar?t("div",{staticClass:"progress--bar"},[t("div",{staticClass:"js-progress--indicator progress--indicator",class:e.progressClassList,style:e.progressStyleList})]):e._e(),t("div",[e.error?t("button",{staticClass:"js-progress--retry progress--retry text--b link link--type-default space--t-1",attrs:{type:"button"}},[t("span",{staticClass:"flex boxAlign-ai--all-c space--b-1"},[t("BaseIcon",{attrs:{name:"refresh"}}),t("span",{staticClass:"space--l-2 vAlign--all-m",class:e.textClassList,on:{click:e.retry}},[e._v(" "+e._s(e.i18n.retry)+" ")])],1)]):e._e(),t("button",{staticClass:"js-progress--cancel progress--cancel text--b mute--text space--t-1",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.i18n.cancel)+" ")])])])])])}),[],!1,null,null,null).exports,s=n(105),o=n(568),c={__name:"thread-submission-loader",props:{hasBar:{type:Boolean}},setup:e=>({__sfc:!0,loader:Object(o.h)(),ProgressOverlay:i,BaseLoader:s.a})},l=Object(r.a)(c,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.BaseLoader,e._g(e._b({staticClass:"width--all-12",attrs:{mode:"hidden","linked-to":n.loader},scopedSlots:e._u([{key:"default",fn:function({loading:a,error:r}){return[e._t("default"),a||r?t(n.ProgressOverlay,{attrs:{error:r,"has-bar":e.hasBar}}):e._e()]}}],null,!0)},"BaseLoader",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null);t.a=l.exports},78:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),i=n(86),s=n.n(i);const o=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),e.target.dispatchEvent(new CustomEvent("view",{bubbles:!0})))}))})),c=e=>o.observe(e),l=e=>o.unobserve(e);function u(){const e=new WeakSet,t=s()((()=>{document.querySelectorAll("[data-t-view-twig]").forEach((t=>{e.has(t)||(e.add(t),c(t))}))}),10);r()(t),r()(window).on("debouncedDomChanged",t),r()(document).on("init","[data-handler]",t)}},907:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n(4);function i(e,t){let n=e,a=t;return Array.isArray(a)||(n=a.fieldName,a=a.rules),{fieldName:n,rules:a}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object(a.unref)(e),s=Object(a.computed)((()=>{var e;return null===(e=r.a.state.threadForm)||void 0===e?void 0:e.thread}));Object.entries(t).forEach((e=>{let[t,a]=e;const{rules:r}=i(t,a);n.add(t,r)}));const o=Object(a.computed)((()=>{const e=Object.keys(t);return e.map((e=>!n.error[e])).filter(Boolean).length===e.length}));return{isStepValid:o,validateStep:async function(){const e=Object.keys(t);if(await Promise.all(e.map((e=>n.validate(e,s.value[i(e,t[e]).fieldName])))),n.check(),!o.value){const e=n.error;!function(e){const t=document.getElementsByName(e)[0];var n,a;t&&(null!==(n=null===(a=t.closest)||void 0===a?void 0:a.call(t,".formList-row"))&&void 0!==n?n:t).scrollIntoView({block:"start",behavior:"smooth"})}(Object.keys(e).find((e=>Object.keys(t).includes(e))))}return o.value}}}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n(90),r=n(159),i=n(158),s=n(160),o=n(13),c=n(29),l=n(10),u=n.n(l),d=n(11),f=n.n(d),p=n(9),v=n.n(p);let b=function(){function e(){u()(this,e),v()(this,"interceptors",[])}return f()(e,[{key:"add",value:function(e){return this.interceptors.push(e),this}},{key:"intercept",value:async function(e){for(const t of this.interceptors){const n=await t(e);if(void 0!==n&&null===(e=n))break}return e}}]),e}();const m=new b;function h(e){m.add(e)}async function g(e){let{type:t,target:n,context:l=[],interaction:u=!0,services:d=[o.a.Ocular],simulate:f=!1}=e;if(n instanceof Element){const e=Object(c.a)(n);n=Object(c.b)(e),l=Object(c.c)(e.parentElement)}else l instanceof Element&&(l=Object(c.c)(l));Object(c.g)(n),l.forEach(c.g);const p=await m.intercept({type:t,target:n,context:l,interaction:u,services:d,simulate:f});if(f)return p;p&&(p.services.includes(o.a.Ocular)&&Object(a.b)(p),p.services.includes(o.a.GA)&&Object(r.b)(p),p.services.includes(o.a.Recombee)&&Object(i.a)(p),p.services.includes(o.a.Hotjar)&&Object(s.a)(p))}}}]);