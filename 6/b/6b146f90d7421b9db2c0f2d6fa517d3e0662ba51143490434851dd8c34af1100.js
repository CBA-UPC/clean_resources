(function(e,h){var u=h.BridIframeBurst?e.top:e,v=u.document,b=Brid.Util,A=b.$f,d=b.canUseVector,B=b.css,c=b.createElement,a=Brid.Sprite,g=Brid.Button,L=Brid.event,m=Brid.event,H=Brid.Player.positionType;Brid.ControlBar=a.extend({default:{children:{controlBarLeft:{},controlBarBg:{},controlBarRight:{},playToggle:{},previous:{},rewind:{},next:{},muteToggle:{},volumeControl:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},adTimeDisplay:{},liveInfo:{},chapterInfo:{},storyBoard:{},fullscreenToggle:{},
theaterModeToggle:{},cogwheel:{},brand:{},playlist:{},share:{},airplay:{},pip:{}}},init:function M(a,c){this.default.children||(this.config.children={});b.merge(this.default.children,a.config.controlsPlugins);a.config.cogwheel||delete this.default.children.cogwheel;a.config.volume||(delete this.default.children.muteToggle,delete this.default.children.volumeControl);a.config.fullscreen||delete this.default.children.fullscreenToggle;a.config.theaterMode||delete this.default.children.theaterModeToggle;
a.config.playlistScreen||delete this.default.children.playlist;a.config.shareScreen||delete this.default.children.share;a.config.airplay||delete this.default.children.airplay;M.base.call(this,a,c);!1===a.config.controls&&this.hide();a.config.Skin&&a.config.Skin.customControlsOrder&&this.setCustomControlsOrder();a.add("videoLoadingStart",this.$f(function(){this.hide()}));a.add("videoLoadingEnd",this.$f(function(){this.show()}));a.addOnce("ready",this.$f(this.onPlayerReady));a.add("fullscreenchange",
this.$f(this.onFullScreenChange));a.config.vpaid_controls?a.config.vpaid_controls&&!a.config.autohide_ad_controls&&this.player.add("vpaidStart",this.$f(this.show)):(this.player.add("vpaidStart",this.$f(this.hide)),this.player.add("adEnd",this.$f(this.show)))},enabled:!0,listenersState:!1,createElement:function N(){return N.base.call(this,"div",{className:"brid-controls"})},setCustomControlsOrder:function(){Brid.log("ControlBar setCustomControlsOrder");this.player.config.Skin.customControlsOrder.split(",").forEach(function(b){this[b]&&
this[b].el&&this.el.appendChild(this[b].el);"volumeHolder"==b&&(this.volumeHolder=Brid.Util.createElement("div",{className:"brid-volume-holder"}),this.volumeHolder.appendChild(this.muteToggle.el),this.volumeHolder.appendChild(this.volumeControl.el),this.el.appendChild(this.volumeHolder))}.bind(this))},onPlayerReady:function(){if(this.enabled){var b=this.player;b.add("enableInteraction",this.$f(this.onEnableControls));b.add(["beforeStart","start"],this.$f(this.onNewContent));b.add("disableInteraction",
this.$f(this.onDisableInteraction))}},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:function(a){var c=a?"add":"remove";if(this.listenersState!==a&&(this.listenersState=a,"remove"!=c||this.player.positionType!==H.IN_GLIDE||this.player.getAdInProgress())){if("remove"==c&&this.player.positionType===H.NORMAL&&this.player.getAdInProgress())this.onDisableInteraction();b.hasTouch()&&(this[c](["touchstart","touchmove"],this.$f(this.onMouseOver)),this[c]("touchend",
this.$f(this.onMouseOut)));Brid.isMobilePlatform||(this[c](["mousemove","mouseover"],this.$f(this.onMouseOver)),this[c]("mouseout",this.$f(this.onMouseOut)));this.player[c]("show",this.$f(this.fadeIn));this.player[c]("hide",this.$f(this.fadeOut))}},fadeIn:function(){Brid.isMobilePlatform?setTimeout(this.$f(function(){this.player.addClass("brid-visible-controls");Brid.isMobilePlatform&&this.visible(!0)}),200):this.player.addClass("brid-visible-controls")},fadeOut:function(){this.player.removeClass("brid-visible-controls");
Brid.isMobilePlatform&&("undefined"!=typeof this.player.audioFile&&null!=this.player.audioFile||this.visible(!1))},onMouseOver:function(){this.player.lockShow()},onMouseOut:function(){this.player.unlockShow()},onEnableControls:function(){this.enabled=!0;this.el.style.background="";this.el.style.backgroundColor="";this.el.style.border="";this.el.style.pointerEvents="";this.controlBarLeft.show();this.controlBarBg.show();this.controlBarRight.show();this.toggleListeners(!0)},onFullScreenChange:function(){this.fsDispatched=
!0},onDisableInteraction:function(b){b&&b.type&&"play"==b.type&&!this.player.getAdInProgress()||(this.el.style.background="none",this.el.style.backgroundColor="none",this.el.style.border="none",this.el.style.pointerEvents="none",this.controlBarLeft.hide(),this.controlBarBg.hide(),this.controlBarRight.hide())},resetSkin:function O(){O.base.call(this)}});Brid.ControlBarLeft=a.extend({createElement:function P(){return P.base.call(this,"div",{className:"brid-controls-left"})}});Brid.ControlBarBg=a.extend({createElement:function Q(){return Q.base.call(this,
"div",{className:"brid-controls-middle"})}});Brid.ControlBarRight=a.extend({createElement:function R(){return R.base.call(this,"div",{className:"brid-controls-right"})}});Brid.TouchOverlay=a.extend({currentListener:"remove",init:function S(b,a){S.base.call(this,b,a);b.add(["disableInteraction","adStart"],this.$f(this.onDisableInteraction));b.add(["enableInteraction","adEnd"],this.$f(this.onEnableInteraction));b.add(["start"],this.$f(this.checkClickthrough));b.add(["ended","newContent"],this.$f(this.reset));
b.addOnce("ready",this.$f(this.onPlayerReady));this.add("mouseover",this.$f(function(){this.player.mouseOver()}))},checkClickthrough:function(){this.player.currentSource&&this.player.currentSource.clickthroughUrl&&""!=this.player.currentSource.clickthroughUrl&&this.css({cursor:"pointer"});"native"==this.player.config.player_type&&this.player.currentSource.pixels&&this.player.currentSource.pixels.clickthrough_url&&this.css({cursor:"pointer"})},createElement:function T(){return T.base.call(this,"div",
{className:"brid-touch-overlay",tabIndex:0})},onPlayerReady:function(){Brid.isMobilePlatform&&this.add("touchend",this.$f(this.onTouchEnd));Brid.isMobilePlatform&&!this.player.config.slide_inview||this.add("click",this.$f(this.onClick));this.reset()},reset:function(){var b=this.player;this.css({cursor:"default"});if(b.officialTech()||"youtube"!=b.techName){var a="remove";this.show()}else a="add",this.hide();this.currentListener!=a&&(this.currentListener=a,b[a]("show",this.$f(this.hide)),b[a]("hide",
this.$f(this.show)))},show:function U(){Brid.isMobilePlatform&&this.player.tech.support.hasPoster||U.base.call(this)},onClick:function(b){this.player.trigger("userInteraction");this.player.trigger("closeScreen");if(!this.player.Video360||!this.player.Video360.viewer){var a=!1;this.player.currentSource&&this.player.currentSource.clickthroughUrl&&""!=this.player.currentSource.clickthroughUrl&&!this.player.getAdInProgress()&&!this.player.paused()&&(e.open(this.player.currentSource.clickthroughUrl,this.player.config.same_page_clickthroughs?
"_self":"_blank"),this.player.trigger("clickedThrough"),a=!0);"native"==this.player.config.player_type&&this.player.currentSource.pixels&&this.player.currentSource.pixels.clickthrough_url&&(e.open(this.player.currentSource.pixels.clickthrough_url,this.player.config.same_page_clickthroughs?"_self":"_blank"),this.player.trigger("clickedThrough"),a=!0,this.player.currentSource.pixels&&this.player.currentSource.pixels.clickthrough&&this.player.pingPixel(this.player.currentSource.pixels.clickthrough));
Brid.isMobilePlatform&&!a||this.player.togglePlay(b)}},onTouchEnd:function(){var b=this.player;if(!b.Video360||!b.Video360.viewer)if(b.inFocus?b.inFocus=!1:(b.inFocus=!0,b.trigger("show")),Brid.isMobilePlatform&&!this.player.config.slide_inview)this.onClick()},onDisableInteraction:function(b){this.hide();"adStart"==b.type&&this.player.Advertising&&!this.player.Advertising.isLinear()&&this.player.addOnce(["enableInteraction"],this.$f(this.hide))},onEnableInteraction:);Brid.PlayToggle=g.extend({data:[{name:"play",skin:"PlayToggle",cls:"brid-paused",svg:"24.3 27.2'><path fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3' d='M2.2,27.2V0.2l24.1,13.7L2.2,27.2z'/><path fill='#fff' d='M2.2,27.2V0.2l24.1,13.7L2.2,27.2z'/>"},{name:"pause",skin:"Pause",cls:"brid-playing",svg:"20.4 20'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><rect x='4.0' y='3.3' width='3.9' height='13.2'/><rect x='12.2' y='3.3' width='3.9' height='13.2'/></g><g><rect x='4.0' y='3.3' fill='#FFFFFF' width='3.9' height='13.2'/><rect x='12.2' y='3.3' fill='#FFFFFF' width='3.9' height='13.2'/></g>"},
{name:"repeat",skin:"Repeat",cls:"brid-replay",svg:"20.4 20'><path transform='scale(1.05)' fill='#000' opacity='0.3' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/><path fill='#FFFFFF' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/>"}],
default:{title:"Toggle Playback (k)"},init:function V(a,c){a.config.translate&&a.config.translate.toggle_play&&(this.default.title=a.config.translate.toggle_play);V.base.call(this,a,c);this.el.innerHTML=b.generateSVG(this.player.config.Skin[this.data[0].skin]||this.data[0].svg,this.player.id);this.animParams={scale:1,op:1};this.state=0;a.add(["play","start","playing"],this.$f(this.onPlay));a.add("pause",this.$f(this.onPause));a.add("ended",this.$f(this.onEnd));a.add("adsCompleted",this.$f(this.onAdsCompleted));
Brid.isMobilePlatform&&a.add("newContent",this.$f(this.onPause));this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor)},appendClassName:function W(){return"brid-play-control brid-control "+W.base.call(this)},onClick:onPlay:function(){Brid.log("PlayToggle onPlay this.state",this.state);this.toggleSkin("pause")},onPause:function(){Brid.log("PlayToggle onPause this.state",this.state);this.toggleSkin("play")},
onEnd:function(){Brid.log("PlayToggle onEnd this.state",this.state);this.player.isNextQueued()||this.player.currentSource.intro_video||this.toggleSkin("repeat")},onAdsCompleted:setPrimaryColor:function(b){this.primaryColor=b;if(this.player.config.Skin.id&&1==this.player.config.Skin.id)if(0==this.state||2==this.state){var a=this.el.getElementsByTagName("path")[1];a&&a.setAttribute("fill",b)}else if(1==this.state){var a=this.el.getElementsByTagName("rect")[2],
c=this.el.getElementsByTagName("rect")[3];a&&a.setAttribute("fill",b);c&&c.setAttribute("fill",b)}},toggleSkin:function(a){var c=-1;this.data.forEach(;0>c||this.state==c||(this.state=c,Brid.isMobilePlatform?this.changeSkin():b.transitionHelper(this.el,"brid-control-fadedout",this.$f(this.onPlayButtonScaledDown),100))},changeSkin:function(){d()?(this.el.innerHTML=b.generateSVG(this.player.config.Skin[this.data[this.state].skin]||this.data[this.state].svg,this.player.id),
this.primaryColor&&this.setPrimaryColor(this.primaryColor)):(b.removeClass(this.el,"brid-paused"),b.removeClass(this.el,"brid-replay"),b.removeClass(this.el,"brid-playing"),b.addClass(this.el,this.data[this.state].cls))},destroy:function X(){X.base.call(this)},onPlayButtonScaledDown:resetSkin:function(){this.changeSkin()}});Brid.Rewind=g.extend({svg:"50 41.2'><g transform='translate(1 2)' opacity='0.3' fill='000'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g><g fill='#fff'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g>",
default:{title:"Rewind 10 Seconds"},init:function Y(a,c){a.config.previous||(a.config.translate&&a.config.translate.prev_video&&(this.default.title=a.config.translate.rewind),Y.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.Rewind||this.svg),this.fadeOut(),a.add(["start","enableInteraction"],this.$f(this.checkToShow)),a.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function Z(){return"brid-rewind-control brid-control "+Z.base.call(this)},onClick:function(){this.player.progressControl.seekBar.stepBack(10);
this.player.trigger("rewind");this.player.trigger("userInteraction")},checkToShow:function(){this.player.getAdInProgress()?this.fadeOut():this.fadeIn()},fadeIn:function(){this.removeClass("brid-hidden");this.toggleListeners(!0)},fadeOut:function(){this.addClass("brid-hidden");this.toggleListeners(!1)}});Brid.Previous=g.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g>",
default:{title:"Previous Video"},init:function aa(a,c){a.config.translate&&a.config.translate.prev_video&&(this.default.title=a.config.translate.prev_video);aa.base.call(this,a,c);this.el.innerHTML=b.generateSVG(a.config.Skin.Previous||this.svg);this.fadeOut();a.add(["start","enableInteraction"],this.$f(this.checkToShow));a.add("disableInteraction",this.$f(this.fadeOut))},appendClassName:function ba(){return"brid-previous-control brid-control "+ba.base.call(this)},onClick:function(){0==this.player.currentIndex?
this.player.currentTime(0):this.player.previous()},checkToShow:function(){var b=this.player;1!=b.playlistLength||b.getAdInProgress()?"loop"!=b.config.afterPlaylistEnd&&0==b.currentIndex||b.getAdInProgress()?this.fadeOut():this.fadeIn():this.hide()},fadeIn:function(){if(this.player.config.previous||this.player.audioFile&&Brid.isMobilePlatform)this.removeClass("brid-hidden"),this.toggleListeners(!0)},fadeOut:function(){this.addClass("brid-hidden");this.toggleListeners(!1)}});Brid.Next=g.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g>",
default:{title:"Next Video"},init:function ca(a,c){0!=a.config.next&&(a.config.translate&&a.config.translate.next_video&&(this.default.title=a.config.translate.next_video),ca.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.Next||this.svg),this.fadeOut(),a.add(["start","enableInteraction","playlistchange"],this.$f(this.checkToShow)),a.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function da(){return"brid-next-control brid-control "+da.base.call(this)},onClick:function(){this.player.next()},
checkToShow:function(){var b=this.player;1!=b.playlistLength||b.getAdInProgress()?"loop"!=b.config.afterPlaylistEnd&&b.currentIndex==b.videos.length-1||b.getAdInProgress()?this.fadeOut():this.fadeIn():this.hide()},fadeIn:function(){this.removeClass("brid-hidden");this.toggleListeners(!0)},fadeOut:);Brid.Cogwheel=g.extend({cogwheel:"22 22'><path fill='#FFFFFF' d='M20,13.3l-2.1-1.6c0-0.3,0-0.5,0-0.8s0-0.5,0-0.8L20,8.7c0.2-0.2,0.3-0.5,0.1-0.7l-1.9-3.3c-0.1-0.3-0.4-0.4-0.7-0.3l-2.4,1c-0.4-0.3-0.9-0.6-1.3-0.8L13.5,2c0-0.3-0.3-0.5-0.6-0.5H9.1C8.8,1.6,8.6,1.8,8.5,2L8.2,4.6C7.7,4.8,7.3,5.1,6.9,5.4l-2.4-1c-0.2-0.1-0.5,0-0.7,0.3L1.9,7.9C1.7,8.2,1.8,8.5,2,8.7l2.1,1.6c0,0.3,0,0.5,0,0.8s0,0.5,0,0.8L2,13.3c-0.2,0.2-0.3,0.5-0.1,0.7l1.9,3.3c0.1,0.3,0.4,0.4,0.7,0.3l2.4-1c0.4,0.3,0.9,0.6,1.3,0.8L8.5,20c0,0.3,0.3,0.5,0.6,0.5h3.8c0.3,0,0.5-0.2,0.6-0.5l0.3-2.6c0.5-0.2,0.9-0.5,1.3-0.8l2.4,1c0.2,0.1,0.5,0,0.7-0.3l1.9-3.3C20.3,13.8,20.2,13.5,20,13.3zM11,13.7c-1.5,0-2.7-1.2-2.7-2.7S9.5,8.3,11,8.3c1.5,0,2.7,1.2,2.7,2.7S12.5,13.7,11,13.7z'/>",
cogwheel_hd:"22 22'><g><rect x='7.1' y='1.6' fill='#EE3748' width='13.1' height='8.6'/><path fill='#FFFFFF' d='M19.9,13.3l-2.1-1.6c0-0.2,0-0.5,0-0.8c0-0.3,0-0.5,0-0.7h-4.3c0.1,0.2,0.1,0.5,0.1,0.7c0,1.5-1.2,2.7-2.7,2.7c-1.5,0-2.7-1.2-2.7-2.7c0-0.3,0-0.5,0.1-0.7H7.1v-5C7,5.3,6.9,5.4,6.8,5.4l-2.4-1c-0.2-0.1-0.5,0-0.7,0.3L1.9,8C1.7,8.2,1.8,8.5,2,8.7l2.1,1.6c0,0.2,0,0.5,0,0.8c0,0.3,0,0.5,0,0.8L2,13.3c-0.2,0.2-0.3,0.5-0.1,0.7l1.9,3.3c0.1,0.3,0.4,0.4,0.7,0.3l2.4-1c0.4,0.3,0.8,0.6,1.3,0.8l0.3,2.6c0,0.3,0.3,0.5,0.6,0.5h3.8c0.3,0,0.5-0.2,0.6-0.5l0.3-2.6c0.5-0.2,0.9-0.5,1.3-0.8l2.4,1c0.2,0.1,0.5,0,0.7-0.3L20,14C20.1,13.8,20.1,13.5,19.9,13.3z'/><g><path fill='#FFFFFF' d='M13,3.4v5.2h-1.4v-2H10v2H8.6V3.4H10v1.9h1.6V3.4H13z'/><path fill='#FFFFFF' d='M18.8,5.9c0,1.5-1.1,2.6-2.7,2.6H14V3.4h2.1C17.6,3.4,18.8,4.4,18.8,5.9z M17.3,5.9c0-0.8-0.5-1.3-1.3-1.3h-0.6v2.6H16C16.8,7.2,17.3,6.7,17.3,5.9z'/></g></g>",
default:{title:"Toggle Video Quality"},init:function ea(a,c){c.name="Cogwheel";a.config.cogwheel&&(a.config.translate&&a.config.translate.toggle_hd&&(this.default.title=a.config.translate.toggle_hd),ea.base.call(this,a,c),d()&&(this.skin={on:b.generateSVG(a.config.Skin.CogwheelHD||this.cogwheel_hd,a.id),off:b.generateSVG(a.config.Skin.Cogwheel||this.cogwheel,a.id)}),this.animParams={scale:1,op:1},this.state=0,this.adsCompleted=!0,this.hide(),a.add(["start","canplay","enableInteraction"],this.$f(this.onStart)),
a.add(["canplay","qualityChange"],this.$f(this.onQualityChange)),a.add("fullscreenchange",this.$f(this.onFullScreenChange)),a.add("stickyChange",this.$f(this.onStickyChange)),a.add("adStart",this.$f(this.onAdStart)),a.add("adsCompleted",this.$f(this.onAdsCompleted)))},createElement:function fa(){var a=d()?b.generateSVG(this.player.config.Skin.Cogwheel||this.cogwheel,this.player.id):"";return fa.base.call(this,"div",{className:"brid-hd-control brid-control brid-button",innerHTML:a})},onClick:function(){var b=
this.player.QualityScreen.state,a=this.player.PlaybackRateScreen.state;if(this.player.closedCaptionsScreen)var c=this.player.closedCaptionsScreen.isOpened;if(this.player.AudioTrackScreen)var d=this.player.AudioTrackScreen.state;b&&this.player.trigger("openQualityScreen");a&&this.player.trigger("openPlaybackRateScreen");d&&this.player.trigger("openAudioTrackScreen");c?this.player.trigger("openClosedCaptionsScreen"):(this.player.trigger("openCogWheelScreen"),this.player.trigger("userInteractionLow"))},
onQualityChange:function(){var a=this.player.isHD(),c=a?this.skin.on:this.skin.off,d=a?"addClass":"removeClass",a=a?1:0;this.state!=a&&(this.state=a,this[d]("brid-active"),this.el.innerHTML=c,b.transitionHelper(this.el,"brid-control-fadedout",this.$f(function(){b.removeClass(this.el,"brid-control-fadedout");this[d]("brid-active");this.el.innerHTML=c}),100))},onAdStart:function(){this.adsCompleted=!1;this.hide()},onAdsCompleted:onFullScreenChange:function(){!this.player.getAdInProgress()&&
this.player.isFullScreen&&this.show()},onStickyChange:function(){this.player.getAdInProgress()||Brid.Util.hasClass(this.player.el,"brid-smallest")||this.show()},onStart:function(){var b=this.player;b.getAdInProgress()||b.waitingForAd||!this.adsCompleted?this.hide():this.show()},setPrimaryColor:function(b){this.primaryColor=b;if(this.player.config.Skin.id&&1==this.player.config.Skin.id&&1==this.state){var a=this.el.getElementsByTagName("path")[0];a&&a.setAttribute("fill",b)}},resetSkin:function(){this.skin=
{on:b.generateSVG(this.player.config.Skin.CogwheelHD||this.cogwheel_hd,this.player.id),off:b.generateSVG(this.player.config.Skin.Cogwheel||this.cogwheel,this.player.id)};this.onQualityChange()}});Brid.CogwheelScreen=a.extend({init:function ga(b,a){ga.base.call(this,b,a);b.add("newContent",this.$f(this.onNewContent));b.add("openCogWheelScreen",this.$f(this.onOpenCogWheelScreen));b.add("openShareScreen",this.$f(this.onOpenShareScreen));b.add(["hide","disableInteraction"],this.$f(this.onHide));b.add("fullscreenchange",
this.$f(this.onFullscreenChange));b.add("captionsScreenInit",this.$f(this.appendCaptions));b.add("audioTracksUpdated",this.$f(this.appendAudioTrack));b.add("stickyChange",this.$f(this.onStickyChange));b.add("closeScreen",this.$f(this.onCloseScreen));b.add("hideAll",this.$f(this.onHideAll));b.add("showAll",this.$f(this.onShowAll));this.state=0;this.isAudioRendered=!1},createElement:function ha(){var b=ha.base.call(this,"div",{className:"brid-cogwheel-screen"});this.playbackRate=new Brid.PlaybackRate(this.player,
{name:"PlaybackRate"});this.quality=new Brid.Quality(this.player,{name:"Quality"});b.appendChild(this.playbackRate.el);b.appendChild(this.quality.el);return b},appendCaptions:function(){this.captions=new Brid.Captions(this.player,{name:"Captions"});b.insertAfter(this.playbackRate.el,this.captions.el)},appendAudioTrack:function(){this.isAudioRendered||(this.audioTrack=new Brid.AudioTrack(this.player,{name:"AudioTrack"}),b.insertAfter(this.playbackRate.el,this.audioTrack.el),this.isAudioRendered=!0)},
onHide:function(){if(this.state)this.onOpenCogWheelScreen()},onHideAll:function(){this.player.isFullScreen||!Brid.Util.hasClass(this.player.el,"brid-small")&&!Brid.Util.hasClass(this.player.el,"brid-smaller")?this.player.trigger("openCogWheelScreen"):(this.player.trigger("disableInteraction"),this.player.controls.hide())},onShowAll:function(){this.player.isFullScreen||!Brid.Util.hasClass(this.player.el,"brid-small")&&!Brid.Util.hasClass(this.player.el,"brid-smaller")||(this.player.trigger("enableInteraction"),
this.player.controls.show())},onOpenShareScreen:function(){this.player.trigger("closeScreen")},onOpenCogWheelScreen:function(){this.state?(this.player.remove("toggleMoreVideos",this.$f(this.closeMe)),this.removeClass("opened")):(this.player.add("toggleMoreVideos",this.$f(this.closeMe)),this.addClass("opened"),200>=this.player.height()&&290<this.player.width()&&"inglide"!==this.player.positionType&&this.addClass("brid-menu-top"));this.state=!this.state},onStickyChange:function(b){var a=this,c=a.player.assets.config.inview.height;
b.data.sticky?200<c?this.removeClass("brid-menu-top"):this.addClass("brid-menu-top"):200>=this.player.height()&&290<this.player.width()&&"normal"!==this.player.positionType?setTimeout(function(){a.addClass("brid-menu-top")},100):this.removeClass("brid-menu-top");this.player.trigger("closeScreen")},closeMe:function(){this.onOpenCogWheelScreen()},onCloseScreen:function(){var b=this.player.QualityScreen.state,a=this.player.PlaybackRateScreen.state;if(this.player.closedCaptionsScreen)var c=this.player.closedCaptionsScreen.isOpened;
if(this.player.AudioTrackScreen)var d=this.player.AudioTrackScreen.state;b&&this.player.trigger("openQualityScreen");a&&this.player.trigger("openPlaybackRateScreen");d&&this.player.trigger("openAudioTrackScreen");c&&this.player.trigger("openClosedCaptionsScreen");this.state&&this.player.trigger("openCogWheelScreen")},onFullscreenChange:onNewContent:function(){this.isAudioRendered&&this.el.querySelector('[class="brid-audio-track"]').remove();
this.isAudioRendered=!1;this.player.trigger("closeScreen")}});Brid.AudioTrack=a.extend({audioTrack:"22 22'><path d='M11.72,11.93C13.58,11.59,15,9.96,15,8c0-2.21-1.79-4-4-4C8.79,4,7,5.79,7,8c0,1.96,1.42,3.59,3.28,3.93 C4.77,12.21,2,15.76,2,20h18C20,15.76,17.23,12.21,11.72,11.93z            M8,8c0-1.65,1.35-3,3-3s3,1.35,3,3s-1.35,3-3,3S8,9.65,8,8z            M11,12.9c5.33,0,7.56,2.99,7.94,6.1H3.06C3.44,15.89,5.67,12.9,11,12.9z            M16.68,11.44l-0.48-0.88C17.31,9.95,18,8.77,18,7.5 c0-1.27-0.69-2.45-1.81-3.06l0.49-0.88C18.11,4.36,19,5.87,19,7.5C19,9.14,18.11,10.64,16.68,11.44z            M18.75,13.13l-0.5-0.87 C19.95,11.28,21,9.46,21,7.5s-1.05-3.78-2.75-4.76l0.5-0.87C20.75,3.03,22,5.19,22,7.5S20.76,11.97,18.75,13.13z' fill='#FFFFFF'/>",
caretRight:"20 20'><path d='M9.39862 4.32752C9.69152 4.03463 10.1664 4.03463 10.4593 4.32752L16.8232 10.6915C17.5067 11.3749 17.5067 12.4829 16.8232 13.1664L10.4593 19.5303C10.1664 19.8232 9.69152 19.8232 9.39863 19.5303C9.10573 19.2374 9.10573 18.7625 9.39863 18.4697L15.7626 12.1057C15.8602 12.0081 15.8602 11.8498 15.7626 11.7521L9.39863 5.38818C9.10573 5.09529 9.10573 4.62041 9.39862 4.32752Z' fill='#FFFFFF'/>",default:{title:"Audio track"},init:function ia(b,a){b.config.translate&&b.config.translate.audio_track&&
(this.default.title=b.config.translate.audio_track);this.audioTracksLength=b.techGet("getAudioTracks").length;ia.base.call(this,b,a);this.add("click",this.$f(this.onClick));b.add("newContent",this.$f(this.onNewContent))},createElement:function ja(){var a=d()?b.generateSVG(this.audioTrack,this.player.id):"",g=d()?b.generateSVG(this.caretRight,this.player.id):"",e=ja.base.call(this,"div",{className:"brid-audio-track"}),I=this.default.title+" ("+this.audioTracksLength+")";this.audioTrackSvg=c("span",
{className:"brid-audio-track-svg",innerHTML:a});this.caretRightSvg=c("span",{className:"brid-caret-right-svg",innerHTML:g});this.text=c("span",{className:"brid-audio-track-text",innerHTML:I});this.currentTrack=c("span",{className:"brid-audio-track-current",innerHTML:"-"});e.appendChild(this.audioTrackSvg);e.appendChild(this.text);e.appendChild(this.currentTrack);e.appendChild(this.caretRightSvg);return e},onClick:function(){this.player.trigger("openAudioTrackScreen")},onNewContent:function(){var b=
this.el.querySelector('[class="brid-audio-track-text"]');b.innerHTML="";b.textContent=this.default.title+" ("+this.audioTracksLength+")"}});Brid.AudioTrackItem=a.extend({init:function ka(b,a,c){ka.base.call(this,b,a);Brid.log("CogwheelAudioTrack Item INIT",c);this.track=c;this.el.innerHTML=c.name||c.lang;this.onAudioTrackChange();b.add("audioTrackChange",this.$f(this.onAudioTrackChange));this.add("click",this.$f(this.onClick))},createElement:function la(){return la.base.call(this,"div",{className:"brid-cogwheel-item"})},
onClick:function(){var b=this.player;b.trigger("beforeRenditionChange",{type:"audio"});this.addClass("fontBold");b.isHLS&&"hls"==b.techName&&b.tech.hls_&&(b.tech.hls_.audioTrack=this.track.id);setTimeout(this.$f(function(){b.trigger("openAudioTrackScreen")}),500);b.touch.el.focus({preventScroll:!0})},onAudioTrackChange:function(){this.player.isHLS&&"hls"==this.player.techName&&this.player.tech.hls_&&(this.player.tech.hls_.audioTrack===this.track.id?(this.player.currentTrack=this.track.name,this.player.cogwheelScreen.el.querySelector('[class="brid-audio-track-current"]').innerHTML=
this.track.name,this.addClass("fontBold")):this.removeClass("fontBold"))}});Brid.AudioTrackScreen=a.extend({init:function ma(b,a){b.config.cogwheel&&(ma.base.call(this,b,a),b.add("newContent",this.$f(this.onNewContent)),b.add("start",this.$f(this.fillTracks)),b.add("beforeRenditionChange",this.$f(this.onBeforeRenditionChange)),b.add("audioTracksUpdated",this.$f(this.fillTracks)),b.add("openAudioTrackScreen",this.$f(this.onOpenAudioTrackScreen)),b.add(["hide","disableInteraction"],this.$f(this.onHide)),
this.state=0)},onHide:function(){if(this.state)this.onOpenAudioTrackScreen()},createElement:function I(){return I.base.call(this,"div",{className:"brid-cogwheel-item-screen"})},onOpenAudioTrackScreen:function(){this.state?(this.player.trigger("showAll"),this.removeClass("opened")):(this.player.trigger("hideAll"),this.addClass("opened"));this.state=!this.state},fillTracks:function(){var a=this;this.el.innerHTML="";if(this.player.tech.support.qualityManager&&this.player.cogwheelScreen.audioTrack){var c=
new Brid.CogwheelBackItem(this.player,{name:"BackItem"},{text:this.player.cogwheelScreen.audioTrack.config.title});this.addChild(c);c=this.player.techGet("getAudioTracks")||[];b.each(c,function(b){b=new Brid.AudioTrackItem(a.player,{name:"AudioTrackItem"},{name:b.name,lang:b.lang,id:b.id});a.addChild(b)})}},onBeforeRenditionChange:function(b){b=b&&b.data&&"audio"==b.data.type;for(var a=0;a<this.children.length;a++){var c=this.children[a].config.name;b&&"AudioTrackItem"==c&&this.children[a].removeClass("fontBold")}},
onNewContent:function(){this.state&&this.player.trigger("openAudioTrackScreen")}});Brid.Quality=a.extend({quality:"22 22'><path d='M19 8.25H12C11.8011 8.25 11.6103 8.17098 11.4697 8.03033C11.329 7.88968 11.25 7.69891 11.25 7.5C11.25 7.30109 11.329 7.11032 11.4697 6.96967C11.6103 6.82902 11.8011 6.75 12 6.75H19C19.1989 6.75 19.3897 6.82902 19.5303 6.96967C19.671 7.11032 19.75 7.30109 19.75 7.5C19.75 7.69891 19.671 7.88968 19.5303 8.03033C19.3897 8.17098 19.1989 8.25 19 8.25Z' fill='#FFFFFF'/><path d='M10 8.25H5C4.80109 8.25 4.61032 8.17098 4.46967 8.03033C4.32902 7.88968 4.25 7.69891 4.25 7.5C4.25 7.30109 4.32902 7.11032 4.46967 6.96967C4.61032 6.82902 4.80109 6.75 5 6.75H10C10.1989 6.75 10.3897 6.82902 10.5303 6.96967C10.671 7.11032 10.75 7.30109 10.75 7.5C10.75 7.69891 10.671 7.88968 10.5303 8.03033C10.3897 8.17098 10.1989 8.25 10 8.25Z' fill='#FFFFFF'/><path d='M10 9.75C9.80189 9.74741 9.61263 9.66756 9.47253 9.52747C9.33244 9.38737 9.25259 9.19811 9.25 9V6C9.25 5.80109 9.32902 5.61032 9.46967 5.46967C9.61032 5.32902 9.80109 5.25 10 5.25C10.1989 5.25 10.3897 5.32902 10.5303 5.46967C10.671 5.61032 10.75 5.80109 10.75 6V9C10.7474 9.19811 10.6676 9.38737 10.5275 9.52747C10.3874 9.66756 10.1981 9.74741 10 9.75Z' fill='#FFFFFF'/><path d='M19 17.25H12C11.8011 17.25 11.6103 17.171 11.4697 17.0303C11.329 16.8897 11.25 16.6989 11.25 16.5C11.25 16.3011 11.329 16.1103 11.4697 15.9697C11.6103 15.829 11.8011 15.75 12 15.75H19C19.1989 15.75 19.3897 15.829 19.5303 15.9697C19.671 16.1103 19.75 16.3011 19.75 16.5C19.75 16.6989 19.671 16.8897 19.5303 17.0303C19.3897 17.171 19.1989 17.25 19 17.25Z' fill='#FFFFFF'/><path d='M10 17.25H5C4.80109 17.25 4.61032 17.171 4.46967 17.0303C4.32902 16.8897 4.25 16.6989 4.25 16.5C4.25 16.3011 4.32902 16.1103 4.46967 15.9697C4.61032 15.829 4.80109 15.75 5 15.75H10C10.1989 15.75 10.3897 15.829 10.5303 15.9697C10.671 16.1103 10.75 16.3011 10.75 16.5C10.75 16.6989 10.671 16.8897 10.5303 17.0303C10.3897 17.171 10.1989 17.25 10 17.25Z' fill='#FFFFFF'/><path d='M10 18.75C9.80189 18.7474 9.61263 18.6676 9.47253 18.5275C9.33244 18.3874 9.25259 18.1981 9.25 18V15C9.25 14.8011 9.32902 14.6103 9.46967 14.4697C9.61032 14.329 9.80109 14.25 10 14.25C10.1989 14.25 10.3897 14.329 10.5303 14.4697C10.671 14.6103 10.75 14.8011 10.75 15V18C10.7474 18.1981 10.6676 18.3874 10.5275 18.5275C10.3874 18.6676 10.1981 18.7474 10 18.75Z' fill='#FFFFFF'/><path d='M19 12.75H16C15.8011 12.75 15.6103 12.671 15.4697 12.5303C15.329 12.3897 15.25 12.1989 15.25 12C15.25 11.8011 15.329 11.6103 15.4697 11.4697C15.6103 11.329 15.8011 11.25 16 11.25H19C19.1989 11.25 19.3897 11.329 19.5303 11.4697C19.671 11.6103 19.75 11.8011 19.75 12C19.75 12.1989 19.671 12.3897 19.5303 12.5303C19.3897 12.671 19.1989 12.75 19 12.75Z' fill='#FFFFFF'/><path d='M14 12.75H5C4.80109 12.75 4.61032 12.671 4.46967 12.5303C4.32902 12.3897 4.25 12.1989 4.25 12C4.25 11.8011 4.32902 11.6103 4.46967 11.4697C4.61032 11.329 4.80109 11.25 5 11.25H14C14.1989 11.25 14.3897 11.329 14.5303 11.4697C14.671 11.6103 14.75 11.8011 14.75 12C14.75 12.1989 14.671 12.3897 14.5303 12.5303C14.3897 12.671 14.1989 12.75 14 12.75Z' fill='#FFFFFF'/><path d='M14 14.25C13.8019 14.2474 13.6126 14.1676 13.4725 14.0275C13.3324 13.8874 13.2526 13.6981 13.25 13.5V10.5C13.25 10.3011 13.329 10.1103 13.4697 9.96967C13.6103 9.82902 13.8011 9.75 14 9.75C14.1989 9.75 14.3897 9.82902 14.5303 9.96967C14.671 10.1103 14.75 10.3011 14.75 10.5V13.5C14.7474 13.6981 14.6676 13.8874 14.5275 14.0275C14.3874 14.1676 14.1981 14.2474 14 14.25Z' fill='#FFFFFF'/>",
caretRight:"20 20'><path d='M9.39862 4.32752C9.69152 4.03463 10.1664 4.03463 10.4593 4.32752L16.8232 10.6915C17.5067 11.3749 17.5067 12.4829 16.8232 13.1664L10.4593 19.5303C10.1664 19.8232 9.69152 19.8232 9.39863 19.5303C9.10573 19.2374 9.10573 18.7625 9.39863 18.4697L15.7626 12.1057C15.8602 12.0081 15.8602 11.8498 15.7626 11.7521L9.39863 5.38818C9.10573 5.09529 9.10573 4.62041 9.39862 4.32752Z' fill='#FFFFFF'/>",default:{title:"Quality"},init:function na(b,a){b.config.translate&&b.config.translate.quality&&
(this.default.title=b.config.translate.quality);na.base.call(this,b,a);this.add("click",this.$f(this.onClick));b.add("loadedmetadata",this.$f(this.onLoadedMetaData));b.add("qualityChange",this.$f(this.onQualityChange));b.add(["start","canplay","enableInteraction"],this.$f(this.onStart));this.hide()},createElement:function oa(){var a=d()?b.generateSVG(this.quality,this.player.id):"",E=d()?b.generateSVG(this.caretRight,this.player.id):"",y=oa.base.call(this,"div",{className:"brid-quality"});this.qualitySvg=
c("span",{className:"brid-quality-svg",innerHTML:a});this.caretRightSvg=c("span",{className:"brid-caret-right-svg",innerHTML:E});this.text=c("span",{className:"brid-quality-text",innerHTML:this.default.title});this.resolution=c("span",{className:"brid-quality-resolution",innerHTML:"-"});y.appendChild(this.qualitySvg);y.appendChild(this.text);y.appendChild(this.resolution);y.appendChild(this.caretRightSvg);return y},onClick:function(){this.player.trigger("openQualityScreen")},onLoadedMetaData:function(){var a=
b.Renditions.getResolutionFromRendition(this.player.values.srcQuality,!0);this.player.values.isAutoHlsOn?this.resolution.innerHTML="Auto ("+a+")":this.resolution.innerHTML=a},onQualityChange:function(){if(this.player.isHLS){var a=b.Renditions.getResolutionFromRendition(this.player.values.srcQuality,!0);this.player.values.isAutoHlsOn?this.resolution.innerHTML="Auto ("+a+")":this.resolution.innerHTML=a}},onStart:function(){var a=this.player,c=0;if(a.currentSource&&!a.currentSource.error&&a.currentSource.source&&
a.currentSource.source.streaming&&(Brid.isIPhone||b.isSafari()))return!1;if(a.currentSource&&!a.currentSource.error&&a.currentSource.source){for(var E in a.currentSource.source)"streaming"!=E&&c++;"dash"==a.techName&&a.tech.availableLevels&&1<a.tech.availableLevels.length&&(c=a.tech.availableLevels.length);a.currentSource.source.streaming||a.HDAvailable()||1<c?this.show():this.hide()}}});Brid.QualityScreen=a.extend({init:function pa(b,a){b.config.cogwheel&&(pa.base.call(this,b,a),b.add("newContent",
this.$f(this.onNewContent)),b.add("start",this.$f(this.fillRenditions)),b.add("beforeRenditionChange",this.$f(this.onBeforeRenditionChange)),b.add("audioTracksUpdated",this.$f(this.fillRenditions)),b.add("openQualityScreen",this.$f(this.onOpenQualityScreen)),b.add(["hide","disableInteraction"],this.$f(this.onHide)),this.state=0,this.previousRenditions=[])},onHide:function(){if(this.state)this.onOpenQualityScreen()},createElement:function E(){return E.base.call(this,"div",{className:"brid-cogwheel-item-screen"})},
onOpenQualityScreen:function(){this.state?(this.player.trigger("showAll"),this.removeClass("opened")):(this.player.trigger("hideAll"),this.addClass("opened"));this.state=!this.state},fillRenditions:function(){var a=this;this.el.innerHTML="";var c=new Brid.CogwheelBackItem(this.player,{name:"BackItem"},{text:this.player.cogwheelScreen.quality.config.title});this.addChild(c);if(0<this.previousRenditions.length){for(c=0;c<this.previousRenditions.length;c++)this.previousRenditions[c].removeListeners();
this.previousRenditions=[]}if(this.player.tech.support.qualityManager){var q=this.player.techGet("getVideoLevels");if(void 0==q||0==q.length)this.player.addOnce("loadedmetadata",this.$f(this.fillRenditions));else{c=new Brid.QualityItem(a.player,{name:"Rendition"},{rendition:"auto"});a.addChild(c);var d=[];b.each(q,function(b){b=new Brid.QualityItem(a.player,{name:"Rendition"},{rendition:("hls"==a.player.techName?b.height:b)+"p"});d.push(b)});for(c=d.length-1;0<=c;c--)a.addChild(d[c])}}else{d=[];var e=
{};b.each(b.Renditions.getRenditions(),function(b){a.player.currentSource.source&&a.player.currentSource.source[b]&&(e[b]=a.player.currentSource.source[b])});for(q in e)"mp3"!=q&&"ogg"!=q&&(c=new Brid.QualityItem(this.player,{name:"Rendition"},{rendition:q}),d.push(c));for(c=d.length-1;0<=c;c--)this.addChild(d[c]);e=null}this.previousRenditions=d||[]},onBeforeRenditionChange:function(b){b=b&&b.data&&"audio"==b.data.type;for(var a=0;a<this.children.length;a++){var c=this.children[a].config.name;b&&
"AudioTrack"==c&&this.children[a].removeClass("fontBold")}},onNewContent:function(){this.state&&this.player.trigger("openQualityScreen")}});Brid.QualityItem=a.extend({init:function y(a,c,d){y.base.call(this,a,c);Brid.log("CogwheelQuality Item INIT",d);this.rendition=!a.isDash&&!a.isHLS||"auto"==this.rendtion||"auto"==d.rendition?b.Renditions.getResolutionFromRendition(d.rendition,!0):d.rendition;this.el.innerHTML=this.rendition;!this.player.tech.support.qualityManager||b.Renditions.getPreferredRendition(this.player)?
a.values.isAutoHlsOn=!1:(a.values.isAutoHlsOn=!0,a.values.autoHlsChange=!0);this.onQualityChange();a.add("qualityChange",this.$f(this.onQualityChange));this.add("click",this.$f(this.onClick))},createElement:function q(){return q.base.call(this,"div",{className:"brid-cogwheel-item"})},onClick:function(){var a=this.player;a.trigger("beforeRenditionChange",{type:"video"});this.addClass("fontBold");a.currentSource.manuallySelected=!0;"Auto"==this.rendition?(a.values.autoHlsChange=!a.values.isAutoHlsOn,
a.values.isAutoHlsOn=!0,b.Renditions.setPreferredRendition(null,a)):(a.values.autoHlsChange=a.values.isAutoHlsOn,a.values.isAutoHlsOn=!1,b.Renditions.setPreferredRendition(b.Renditions.getRenditionFromResolution(this.rendition,!0),a));a.setVideoSource(a.isDash||a.isHLS?this.rendition:b.Renditions.getRenditionFromResolution(this.rendition)||this.rendition);setTimeout(this.$f(function(){a.trigger("openQualityScreen")}),500);a.touch.el.focus({preventScroll:!0})},onQualityChange:function(){this.player.values.isAutoHlsOn&&
"Auto"==this.rendition?(this.addClass("fontBold"),this.el.innerHTML='Auto <span class="brid-cogwheel-item-auto">'+this.player.values.srcQuality+"</span>"):this.player.values.isAutoHlsOn||"Auto"!=this.rendition?this.player.isDash||this.player.isHLS||this.player.values.srcQuality!=this.rendition&&b.Renditions.getResolutionFromRendition(this.player.values.srcQuality,!0)!=this.rendition||this.player.values.isAutoHlsOn?this.player.isDash&&!this.player.values.isAutoHlsOn&&parseInt(this.rendition.slice(0,
-1))==this.player.tech.availableLevels[this.player.tech.bitrate].height?this.addClass("fontBold"):this.player.isHLS&&!this.player.values.isAutoHlsOn&&parseInt(this.rendition.slice(0,-1))==this.player.tech.values.levels[this.player.tech.currentLevel.levels].height?this.addClass("fontBold"):this.removeClass("fontBold"):this.addClass("fontBold"):(this.removeClass("fontBold"),this.el.innerHTML="Auto")},evaluateRendition:function(){tech=this.player.tech;if("hls"==this.player.techName)return void 0==this.player.tech.currentLevel?
this.player.tech.values.levels[this.player.tech.values.currentLevel].height:this.player.tech.currentLevel.height+"p";if("dash"==this.player.techName)return tech.availableLevels[tech.bitrate].height+"p"},removeListeners:function(){this.player.remove("qualityChange",this.$f(this.onQualityChange));this.remove("click",this.$f(this.onClick))}});Brid.PlaybackRate=a.extend({playbackRate:"24 24'><path d='M9.60751 1.51737C10.3776 1.34229 11.1785 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C11.1785 22.75 10.3776 22.6577 9.60751 22.4826C9.2036 22.3908 8.95061 21.9889 9.04244 21.585C9.13427 21.1811 9.53614 20.9281 9.94005 21.02C10.6018 21.1704 11.2911 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75C11.2911 2.75 10.6018 2.8296 9.94005 2.98004C9.53614 3.07187 9.13427 2.81888 9.04244 2.41497C8.95061 2.01106 9.2036 1.60919 9.60751 1.51737Z' fill='#ffffff'/> <path d='M7.31372 3.13198C7.53443 3.4825 7.42919 3.94557 7.07868 4.16627C5.90349 4.90623 4.90623 5.90349 4.16627 7.07868C3.94556 7.42919 3.4825 7.53443 3.13198 7.31372C2.78146 7.09302 2.67623 6.62995 2.89693 6.27944C3.75646 4.91436 4.91436 3.75646 6.27943 2.89693C6.62995 2.67623 7.09302 2.78146 7.31372 3.13198Z' fill='#ffffff'/> <path d='M2.98004 9.94005C3.07187 9.53614 2.81888 9.13427 2.41497 9.04244C2.01106 8.95061 1.60919 9.2036 1.51737 9.60751C1.34229 10.3776 1.25 11.1785 1.25 12C1.25 12.8215 1.34229 13.6224 1.51737 14.3925C1.60919 14.7964 2.01106 15.0494 2.41497 14.9576C2.81888 14.8657 3.07187 14.4639 2.98004 14.06C2.8296 13.3982 2.75 12.7089 2.75 12C2.75 11.2911 2.8296 10.6018 2.98004 9.94005Z' fill='#ffffff'/> <path d='M3.13198 16.6863C3.4825 16.4656 3.94557 16.5708 4.16627 16.9213C4.90623 18.0965 5.90349 19.0938 7.07868 19.8337C7.42919 20.0544 7.53443 20.5175 7.31372 20.868C7.09302 21.2185 6.62995 21.3238 6.27944 21.1031C4.91436 20.2435 3.75646 19.0856 2.89693 17.7206C2.67623 17.37 2.78146 16.907 3.13198 16.6863Z' fill='#ffffff'/> <path d='M15.4137 10.941C16.1954 11.4026 16.1954 12.5974 15.4137 13.059L10.6935 15.8458C9.93371 16.2944 9 15.7105 9 14.7868V9.21316C9 8.28947 9.93371 7.70561 10.6935 8.15419L15.4137 10.941Z' fill='#ffffff'/>",
caretRight:"20 20'><path d='M9.39862 4.32752C9.69152 4.03463 10.1664 4.03463 10.4593 4.32752L16.8232 10.6915C17.5067 11.3749 17.5067 12.4829 16.8232 13.1664L10.4593 19.5303C10.1664 19.8232 9.69152 19.8232 9.39863 19.5303C9.10573 19.2374 9.10573 18.7625 9.39863 18.4697L15.7626 12.1057C15.8602 12.0081 15.8602 11.8498 15.7626 11.7521L9.39863 5.38818C9.10573 5.09529 9.10573 4.62041 9.39862 4.32752Z' fill='#FFFFFF'/>",default:{title:"Playback speed"},init:function qa(b,a){b.config.translate&&b.config.translate.playback_rate&&
(this.default.title=b.config.translate.playback_rate);qa.base.call(this,b,a);b.add("ratechange",this.$f(this.onRateChange));b.add("loadedmetadata",this.$f(this.onLoadedMetaData));this.add("click",this.$f(this.onClick))},createElement:function sa(){var a=d()?b.generateSVG(this.playbackRate,this.player.id):"",e=d()?b.generateSVG(this.caretRight,this.player.id):"",g=sa.base.call(this,"div",{className:"brid-playback-rate"});this.svg=c("span",{className:"brid-playback-svg",innerHTML:a});this.caretRightSvg=
c("span",{className:"brid-caret-right-svg",innerHTML:e});this.text=c("span",{className:"brid-playback-text",innerHTML:this.default.title});this.rate=c("span",{className:"brid-playback-rate-el",innerHTML:"Normal"});g.appendChild(this.svg);g.appendChild(this.text);g.appendChild(this.rate);g.appendChild(this.caretRightSvg);return g},onClick:function(){this.player.trigger("openPlaybackRateScreen")},onRateChange:function(){var b=this.player.values.rate;this.rate.innerHTML=1!==b?b:"Normal"},onLoadedMetaData:);
Brid.PlaybackRateScreen=a.extend({init:function ra(b,a){if(b.config.cogwheel){ra.base.call(this,b,a);b.add("newContent",this.$f(this.onNewContent));b.add("openPlaybackRateScreen",this.$f(this.onOpenPlaybackRateScreen));b.add(["hide","disableInteraction"],this.$f(this.onHide));b.add("beforeRateChange",this.$f(this.onBeforeRateChange));this.state=0;this.rates={0:"0.25",1:"0.5",2:"0.75",3:"Normal",4:"1.25",5:"1.5",6:"1.75",7:"2"};b=[];a=new Brid.CogwheelBackItem(this.player,{name:"BackItem"},{text:this.player.cogwheelScreen.playbackRate.config.title});
this.addChild(a);for(var c in this.rates)a=new Brid.PlaybackRateItem(this.player,{name:"Rate"},{rate:this.rates[c]}),b.push(a),"Normal"===this.rates[c]&&a.addClass("fontBold");for(c=0;c<=b.length-1;c++)this.addChild(b[c])}},onHide:createElement:function ta(){return ta.base.call(this,"div",{className:"brid-cogwheel-item-screen"})},onOpenPlaybackRateScreen:function(){this.state?(this.player.trigger("showAll"),this.removeClass("opened")):(this.player.trigger("hideAll"),
this.addClass("opened"));this.state=!this.state},onBeforeRateChange:onNewContent:);Brid.PlaybackRateItem=a.extend({init:function ua(b,a,c){ua.base.call(this,b,a);Brid.log("CogwheelPlaybackRate Item INIT",c);this.el.previousRate=1;this.add("click",this.$f(this.onClick));this.el.innerHTML=c.rate},createElement:function va(){return va.base.call(this,
"div",{className:"brid-cogwheel-item"})},onClick:function(){this.player.trigger("beforeRateChange");this.el.previousRate=this.player.values.rate;this.addClass("fontBold");var b="Normal"!==this.el.innerHTML?this.el.innerHTML:1;this.player.playbackRate(b);Brid.log("Playback Rate",b);setTimeout(this.$f(function(){this.player.trigger("openCogWheelScreen");this.player.trigger("openPlaybackRateScreen")}),500);this.player.touch.el.focus({preventScroll:!0})}});Brid.CogwheelBackItem=a.extend({caretLeft:"20 20'><path d='M14.6014 4.46967C14.8943 4.76256 14.8943 5.23744 14.6014 5.53033L8.23741 11.8943C8.13978 11.9919 8.13978 12.1502 8.23741 12.2478L14.6014 18.6118C14.8943 18.9047 14.8943 19.3796 14.6014 19.6725C14.3085 19.9654 13.8336 19.9654 13.5407 19.6725L7.17675 13.3085C6.49333 12.6251 6.49333 11.517 7.17675 10.8336L13.5407 4.46967C13.8336 4.17678 14.3085 4.17678 14.6014 4.46967Z' fill='#FFFFFF'/>",
init:function wa(b,a,c){this.text=c;wa.base.call(this,b,a);this.add("click",this.$f(this.onClick))},createElement:function xa(){var a=d()?b.generateSVG(this.caretLeft,this.player.id):"",e=xa.base.call(this,"div",{className:"brid-cogwheel-back-item"});this.caretLeftSvg=c("span",{className:"brid-caret-left-svg",innerHTML:a});this.textEl=c("span",{className:"brid-back-item-text",innerHTML:this.text.text});e.appendChild(this.caretLeftSvg);e.appendChild(this.textEl);return e},onClick:function(){var b=
this.player.QualityScreen.state,a=this.player.PlaybackRateScreen.state,c=this.player.AudioTrackScreen.state;if(this.player.closedCaptionsScreen)var d=this.player.closedCaptionsScreen.isOpened;b&&(this.player.trigger("openQualityScreen"),this.player.trigger("openCogWheelScreen"));a&&(this.player.trigger("openPlaybackRateScreen"),this.player.trigger("openCogWheelScreen"));c&&(this.player.trigger("openAudioTrackScreen"),this.player.trigger("openCogWheelScreen"));d&&(this.player.trigger("openClosedCaptionsScreen"),
this.player.trigger("openCogWheelScreen"))},removeListeners:);Brid.Brand=g.extend({svg:"16.9 16.5'><path fill='#ff0000' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><path class='brand-bg' fill='#999' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><g><path fill='#FFF' d='M2.2,6.3c0.2,0,0.4-0.1,1-0.2C3.8,5.9,4,5.9,4.6,5.8c-0.1,0.4-0.1,1-0.1,1.6C4.4,8.2,4.4,9,4.4,9.1 c0,0.2,0,1,0,1.2c0,0.7,0,1,0.1,1.3c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.2,0.3,0.2,0.5,0.2c0.2-0.1,0.4-0.3,0.4-0.5v-0.1 c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2c0-0.3,0-0.6,0-0.8c0,0,0-0.3,0-0.6c0-0.2,0-0.5,0-1c0-0.2,0-0.4,0-1.1c0-0.5,0-1.3,0.1-1.9 c0,0,0,0,0.1,0c0.1,0,0.4-0.1,0.8-0.1c0.5-0.1,1.3-0.1,1.6-0.2c0.1,0,0.3-0.1,0.3-0.1V5.3c0,0,0-0.1,0-0.3c0-0.1,0-0.1,0-0.1V4.8 c0.1,0,0-0.1,0-0.1c-0.1,0-0.1-0.1-0.1-0.1L8.3,4.5c-0.1,0,0,0-0.1,0c-0.1,0-0.2,0-0.2,0s0,0-0.1,0C7.6,4.6,6.3,4.8,5.5,4.9 C4.5,5.1,3,5.4,2.1,5.6c-0.2,0-0.2,0.2-0.2,0c0,0.1,0,0.2,0,0.2c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0.1,0.2C2,6.2,2.1,6.3,2.2,6.3z'/><path fill='#FFF' d='M9.9,10.8c0.2,0.5,0.7,1.3,1.2,1.3c0.6,0,0.8-0.9,1.1-1.6C12.6,9.6,12.8,9,13,8.4c0.2-0.6,1-2.6,1.1-2.8 c0.1,0,0.2-0.3,0.3-0.3c0.1-0.1,0.2-0.3,0-0.4c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.3-0.2-0.4-0.2c-0.1,0-0.3,0.1-0.5,0.2 C13.1,4.6,13,4.7,13,4.8c0,0.1-0.1,0.3-0.1,0.4c0,0-0.1,0.6-0.3,1.2C12.4,7,12.2,7.5,12,8c-0.2,0.4-0.5,1.3-0.8,1.9 c-0.2,0.4-0.3,0.6-0.4,0.6c-0.1,0-0.3-0.7-0.4-1.3c-0.1-0.7-0.3-1.5-0.3-2c0-0.4-0.1-1.4-0.1-1.7S9.8,5,9.7,4.9 c-0.1,0-0.3-0.1-0.4-0.1c-0.2,0-0.4,0.4-0.4,0.7c0,0.2,0,0.3,0,0.4c0,0,0,0.1,0,0.2C9,6.7,9.2,7.8,9.3,8.6 C9.5,9.4,9.7,10.3,9.9,10.8z'/></g>",
default:{title:"brid.tv",link:"https://www.brid.tv"},init:function ya(a,c){if(a.config.Partner.brand||a.config.Partner.brand_player_logo)a.config.Partner.brand_player_logo&&(this.default.title=a.config.Partner.domain_short,this.default.link=a.config.Partner.brand_player_url),ya.base.call(this,a,c),this.el.innerHTML=a.config.Partner.brand_player_logo?'<img src="'+a.config.Partner.brand_player_logo+'"/>':b.generateSVG(this.player.config.Skin.Brand||this.svg,this.player.id),this.onMouseOut(),a.config.primaryColor&&
this.setPrimaryColor(a.config.primaryColor),this.default.link||this.el.style.setProperty("cursor","initial","important")},appendClassName:function za(){return"brid-brand brid-control "+za.base.call(this)},onClick:function(){this.default.link&&e.open(this.default.link,"_blank");this.player.trigger("userInteractionLow")},setPrimaryColor:function(b){if(this.player.config.Skin.id&&1==this.player.config.Skin.id&&!this.player.config.Partner.brand_player_logo){var a=this.el.getElementsByTagName("path")[0];
a&&a.setAttribute("fill",b)}}});Brid.FullscreenToggle=g.extend({svg:"18.5 12.2'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M0,0h18.5v12.2H0V0z M17.1,1.4H1.4v9.3h15.6V1.4z'/><rect x='9.2' y='3.7' width='5.4' height='3.5'/></g><g><path fill='#FFFFFF' d='M0,0h18.5v12.2H0V0z M17.1,1.4H1.4v9.3h15.6V1.4z'/><rect x='9.2' y='3.7' fill='#FFFFFF' width='5.4' height='3.5'/></g>",svg_off:"18.483 12.199'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M18.4,12.1H0V0h18.4V12.1z M1.4,10.7h15.6V1.4H1.4V10.7z'/><rect x='3.8' y='4.9' width='5.4' height='3.5'/></g><g><path fill='#FFFFFF' d='M18.4,12.1H0V0h18.4V12.1z M1.4,10.7h15.6V1.4H1.4V10.7z'/><rect x='3.8' y='4.9' fill='#FFFFFF' width='5.4' height='3.5'/></g>",
default:{title:"Toggle Fullscreen"},init:function Aa(a,c){0!=a.config.fullscreen&&(a.config.translate&&a.config.translate.toggle_fullscreen&&(this.default.title=a.config.translate.toggle_fullscreen),Aa.base.call(this,a,c),this.el.innerHTML=b.generateSVG(this.player.config.Skin.FullscreenToggle||this.svg,this.player.id),b.isFacebookApp()&&!h.fullscreenEnabled&&this.hide(),this.state=0,a.add("fullscreenchange",this.$f(this.onFullScreenChange)),a.add(["adStart","adEnd"],this.$f(this.toggleFullscreenIcon)))},
toggleFullscreenIcon:function(){this.player.getAdInProgress()&&Brid.isIPhone&&"GoogleIMA"==this.player.adsManager.currentAdsManager.name?this.hide():this.show()},appendClassName:function Ba(){return"brid-fullscreen-control brid-control "+Ba.base.call(this)},onClick:function(){this.player.toggleFullScreen(!this.player.isFullScreen);this.player.trigger("userInteraction")},onFullScreenChange:function(){var a=this.player,c=a.isFullScreen?this.player.config.Skin.FullscreenOff||this.svg_off:this.player.config.Skin.FullscreenToggle||
this.svg,e=a.isFullScreen?1:0;d()&&this.state!=e&&(this.state=e,this.el.innerHTML=b.generateSVG(c,a.id))}});Brid.Airplay=g.extend({svg:"18 18'><g fill='#ffffff' transform='translate(-288.0, -94.2)'><path d='M288,98 L304,98 L304,108 L300.5,108 L299,106 L302,106 L302,100 L290,100 L290,106 L293,106 L291.5,108 L288,108 Z M296,104 L300,110 L292,110 Z M296,104'/></g>",default:{title:"Airplay"},init:function Ca(a,c){0!=a.config.airplay&&e.WebKitPlaybackTargetAvailabilityEvent&&(a.config.translate&&a.config.translate.airplay&&
(this.default.title=a.config.translate.airplay),Ca.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.Airplay||this.svg),a.addOnce("ready",this.$f(this.onReady)),this.hide())},appendClassName:function Da(){return"brid-airplay-control brid-control "+Da.base.call(this)},onReady:function(){var b=this.player.tech.el;b.setAttribute("x-webkit-airplay","allow");b.addEventListener("webkitplaybacktargetavailabilitychanged",function(b){"available"==b.availability?this.show():this.hide()}.bind(this));
this.show()},onClick:);Brid.TheaterModeToggle=g.extend({svg:"648.72 750' xmlns='http://www.w3.org/2000/svg'><path fill='#FFFFFF' d='M46.813,245.911h555.096v323.195H46.813V245.911z M93.126,292.224v227.259h459.16V292.224'/>",svg_off:"648.72 750' xmlns='http://www.w3.org/2000/svg'><path fill='#FFFFFF' d='M171.402,286.225h324.72v247.273h-324.72V286.225z M217.716,332.539v151.337H446.5V332.539'/>",default:{title:"Toggle Theater Mode"},init:function Ea(a,
c){a.config.theaterMode&&!b.isFacebookApp()&&(a.config.translate&&a.config.translate.toggle_theater&&(this.default.title=a.config.translate.toggle_theater),Ea.base.call(this,a,c),this.el.innerHTML=b.generateSVG(this.player.config.Skin.TheaterModeToggle||this.svg,this.player.id),b.hasClass(v.body,this.player.config.theaterModeClass||"brid-theater-mode")&&(this.player.isTheaterMode=!0,this.onTheaterModeChange()),a.add("theaterModeChange",this.$f(this.onTheaterModeChange)))},appendClassName:function Fa(){return"brid-theater-mode-control brid-control "+
Fa.base.call(this)},onClick:function(){this.player.toggleTheaterMode(!this.player.isTheaterMode);this.player.trigger("userInteractionLow")},onTheaterModeChange:function(){if(d()){var a=this.player;this.el.innerHTML=b.generateSVG(a.isTheaterMode?a.config.Skin.TheaterModeOff||this.svg_off:a.config.Skin.TheaterModeToggle||this.svg,a.id)}}});Brid.LikeButton=g.extend({svg:"48 48'><g><path d='M15 4.5C21 4.5 24 8.5 24 8.5C24 8.5 27 4.5 33 4.5C40 4.5 45 9.99998 45 17C45 25 38.4622 32.1314 32.5 37.5C28.8191 40.8144 26 43 24 43C22 43 19.101 40.7978 15.5 37.5C9.63898 32.1325 3 25 3 17C3 9.99998 8 4.5 15 4.5Z' fill='none' stroke='white' stroke-width='4'></path></g>",
default:{title:"Like"},init:function Ga(a,c){a.config.like_button&&(a.config.translate&&a.config.translate.like&&(this.default.title=a.config.translate.like),Ga.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.Like||this.svg),this.counter=Brid.Util.createElement("div",{className:"brid-like-counter"}),this.el.appendChild(this.counter),this.everLiked=b.getLocalStorage("Brid_everliked")||[],this.savedLikes=b.getLocalStorage("Brid_likedvideos")||[],a.add("newContent",this.$f(this.onNewContent)),
a.add("show",this.$f(this.fadeIn)),a.add("hide",this.$f(this.fadeOut)),a.config.branding&&1==a.config.branding.pos&&this.addClass("brid-like-left"),this.hide())},appendClassName:function Ha(){return"brid-like-control "+Ha.base.call(this)},onNewContent:function(){this.player.currentSource.id?this.show():this.hide();this.userLiked=this.savedLikes&&this.savedLikes.includes(this.player.currentSource.id);this.likes=this.player.currentSource.likes||(this.userLiked?1:0);this.updateNumberOfLikes();this.updateColor(!1)},
onClick:function(){var a=this.player.currentSource.id;this.userLiked=!this.userLiked;this.updateColor(!0);this.userLiked?(this.savedLikes.push(a),this.everLiked.includes(a)||(this.everLiked.push(a),this.player.trigger("liked"),b.setLocalStorage("Brid_everliked",this.everLiked,31536E6,this.player.config)),this.likes++):(this.savedLikes=this.savedLikes.filter(,0<this.likes&&this.likes--);this.updateNumberOfLikes();b.setLocalStorage("Brid_likedvideos",this.savedLikes,31536E6,
this.player.config)},updateColor:function(b){this.userLiked?this.addClass(b?"brid-liked":"brid-liked-noanim"):(this.removeClass("brid-liked"),this.removeClass("brid-liked-noanim"))},updateNumberOfLikes:function(){var b=this.player.currentSource.likes=this.likes;1E5<=b?b=Math.round(this.likes/1E3)+"K":1E3<=b&&(b=Math.round(this.likes/100)/10+"K");this.counter.innerHTML=b;this.counter.style.visibility=b?"":"hidden"}});Brid.UnmuteButton=g.extend({default:{title:"Unmute"},init:function Ia(a,c){a.config.unmute_button&&
(a.config.translate&&a.config.translate.unmute&&(this.default.title=a.config.translate.unmute),Ia.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.Muted||Brid.MuteToggle.prototype.svg_muted)+"<span>"+this.default.title+"</span>",a.add(["volumechange","adStart","enableInteraction"],this.$f(this.onVolumeChange)),a.addOnce("start",this.$f(this.playbackStarted)),this.hide())},appendClassName:function Ja(){return"brid-unmute-control "+Ja.base.call(this)},playbackStarted:function(){if(0==
this.player.volume()||this.player.muted())this.show(),setTimeout(this.$f(,3E3)},onClick:function(){this.player.muted(!1);this.player.trigger("muteInteraction",{muted:!1});this.player.trigger("userInteractionLow")},onVolumeChange:function(){0<this.player.volume()&&!this.player.muted()&&this.destroy()},destroy:function Ka(){this.player.remove(["volumechange","adStart","enableInteraction"],this.$f(this.onVolumeChange));this.player.remove("start",
this.$f(this.playbackStarted));Ka.base.call(this)}});Brid.LoadAdIndicator=a.extend({init:function La(b,a){La.base.call(this,b,a);b.add("requestAd",this.$f(this.show));b.add(["adError","adEnd"],this.$f(this.hide));b.add("adImpression",this.$f(this.hide))},createElement:function Ma(){return Ma.base.call(this,"div",{className:"brid-loadad-indicator",innerHTML:'<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>'})}});Brid.Slider=a.extend({init:function Na(b,a){Na.base.call(this,
b,a);b.add(this.updateEvent,this.$f(this.update));b.add("enableInteraction",this.$f(this.onEnableInteraction));this.toggleInteraction(!0);this.update()},enabled:!1,down:!1,startUpdating:function(){this.player.add(this.updateEvent,this.$f(this.update))},stopUpdating:createElement:function Oa(a,c){c=b.merge({role:"slider","aria-label":this.config.title,"aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return Oa.base.call(this,
a,c)},toggleInteraction:function(b){this.enabled!=b&&(b=(this.enabled=b)?"add":"remove",this[b]("touchstart",this.$f(this.onTouchStart)),this[b]("mousedown",this.$f(this.onMouseDown)))},onDisableInteraction:function(){this.toggleInteraction(!1)},onEnableInteraction:function(){this.toggleInteraction(!0)},toggleUpDown:function(a,c){a?b.blockTextSelection():b.unblockTextSelection();var d=a?"add":"remove";this.down=a;h.addEventListener?(m[d](v,"mousemove",A(this,this.onMouseMove)),m[d](v,"mouseup",A(this,
this.onMouseUp))):(m[d](this.bar.el,"mousemove",A(this,this.onMouseMove)),m[d](this.bar.el,["mouseup","losecapture"],A(this,this.onMouseUp)),this.bar.el.setCapture());b.stopEvent(c)},onMouseDown:function(b){this.down||(this.toggleUpDown(!0,b),this.onMouseMove(b))},onMouseUp:function(b){this.toggleUpDown(!1,b)},toggleTouch:function(a,c){a?b.blockTextSelection():b.unblockTextSelection();var d=a?"add":"remove";this.down=a;m[d](v,"touchend",A(this,this.onTouchEnd));m[d](v,"touchmove",A(this,this.onTouchMove));
b.stopEvent(c)},onTouchStart:function(a){b.blockTextSelection();this.down||(this.toggleTouch(!0,a),this.onTouchMove(a))},onTouchEnd:update:function(){var a=this.getPercent(),c=this.scrubber,d=this.bar,e=this.player.getAdInProgress()?0:this.player.bufferedStart();isNaN(a)&&(a=0);c&&B(c,{left:b.round(100*a,2)+"%"});this.el.setAttribute("aria-valuenow",parseInt(this.player.currentTime()));this.el.setAttribute("aria-valuemax",parseInt(this.player.duration()));this.el.setAttribute("aria-valuetext",
this.formatTimeToText(this.player.currentTime())+" Seconds of "+this.formatTimeToText(this.player.duration())+" Seconds");B(d,{width:b.round(100*(a-e),2)+"%",left:b.round(100*e,2)+"%"})},scrollTo:function(b){var a=this.el,c=Brid.findPosX(a);return Math.max(0,Math.min(1,((b.pageX?b.pageX:b.clientX)-c)/a.offsetWidth))},formatTimeToText:function(b){return 60>=b?parseInt(b):parseInt(b/60)+" Minutes "+parseInt(b%60)}});Brid.ProgressControl=a.extend({default:{children:{seekBar:{}}},init:function Pa(a,c){Pa.base.call(this,
a,c);(!Brid.isIPhone||b.autoplayVideoSupported||a.config.webView)&&a.config.controls||this.hide();this.addClass("brid-disabled");b.hasTouch()&&(this.add(["touchstart","touchmove"],this.$f(this.onMouseOver)),this.add("touchend",this.$f(this.onMouseOut)));Brid.isMobilePlatform||(this.add(["mousemove","mouseover"],this.$f(this.onMouseOver)),this.add("mouseout",this.$f(this.onMouseOut)));this.player.add("videoLoadingStart",this.$f(function(){this.hide()}));this.player.add("videoLoadingEnd",this.$f(function(){this.show()}));
a.addOnce("ready",this.$f(this.onPlayerReady))},createElement:function Qa(){return Qa.base.call(this,"div",{className:"brid-progress-control"})},enabled:!0,listeners:!1,onPlayerReady:function(){var b=this.player;b.add("enableInteraction",this.$f(this.onEnableControls));b.add("disableInteraction",this.$f(this.onDisableControls));this.enabled&&b.add(["beforeStart","start"],this.$f(this.onNewContent))},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:onMouseOver:function(a){var c=this.player;c.lockShow();a=b.getCurrentTimePosition(c,this.scrollTo(a));var d=c.duration();c.trigger("progressOver",{time:a,duration:d},!1)},onMouseOut:onDisableControls:function(b){if("play"!=b.type||this.player.getAdInProgress())this.enabled=!1,this.toggleListeners(!1),this.fadeOut()},onEnableControls:function(){this.player.getAdInProgress()||(this.enabled=!0,this.fadeIn(),
this.toggleListeners(!0))},scrollTo:function(b){var a=this.el,c=Brid.findPosX(a);return Math.max(0,Math.min(1,((void 0!=b.pageX?b.pageX:b.touches[0].clientX)-c)/a.offsetWidth))},resetSkin:function Ra(){this.fsDispatched=!0;if(this.player.isPlaying)this.onEnableControls();Ra.base.call(this)}});Brid.SeekBar=Brid.Slider.extend({default:{children:{chapters:{childClass:"ChaptersBar"},buffer:{childClass:"BufferBar"},bar:{childClass:"ProgressBar"},scrubber:{childClass:"Scrubber"}}},updateEvent:"timeupdate",
init:function Sa(b,a){a.title="Seek slider";Sa.base.call(this,b,a);b.addOnce("ready",this.$f(this.onReady));b.add("startTrackingTime",this.$f(this.startUpdating));b.add("stopTrackingTime",this.$f(this.stopUpdating));b.add(["newContent","ended","adStart","adEnd"],this.$f(this.update))},onReady:function(){this.el.removeAttribute("style")},createElement:function Ta(){return Ta.base.call(this,"div",{className:"brid-progress-holder"})},getPercent:onMouseDown:function Ua(a){Ua.base.call(this,a);this.player.scrubbing=!0;b.addClass(this.player.el,"brid-scrubbing")},onTouchStart:function Va(a){Va.base.call(this,a);this.player.scrubbing=!0;b.addClass(this.player.el,"brid-scrubbing")},onMouseUp:function Wa(a){Wa.base.call(this,a);this.player.scrubbing=!1;b.removeClass(this.player.el,"brid-scrubbing")},onTouchEnd:function Xa(a){Xa.base.call(this,a);this.player.scrubbing=!1;b.removeClass(this.player.el,"brid-scrubbing")},onMouseMove:function(a){var c=
this.player,d=b.getCurrentTimePosition(c,this.scrollTo(a)),e=this.player.ended();d==c.duration()&&(d-=.5);c.currentTime(d);b.stopEvent(a);c.trigger("userInteraction");e&&this.player.trigger("pause")},onTouchMove:function(a){var c=this.player,d=b.getCurrentTimePosition(c,this.scrollTo(a.touches[0])),e=this.player.ended();d==c.duration()&&(d-=.5);c.currentTime(d);b.stopEvent(a);c.trigger("userInteractionLow");e&&this.player.trigger("pause")},stepForward:stepBack:function(b){var a=this.player.ended();this.player.currentTime(this.player.currentTime()-(b||10));a&&this.player.trigger("pause")},stepTo:function(b){this.player.values.isLive?Brid.log("You can not seek while live"):this.player.currentTime(this.player.duration()*b)},resetSkin:function Ya(){this.onReady();Ya.base.call(this)}});Brid.BufferBar=a.extend({init:function Za(b,a){Za.base.call(this,b,a);b.add("progress start beforeStart newContent canplaythrough enableInteraction play".split(" "),
this.$f(this.update));b.add("adStart",this.$f(this.onAdStarted));this.update()},createElement:function $a(){return $a.base.call(this,"div",{className:"brid-load-progress"})},onAdStarted:function(){this.player.getAdInProgress()&&this.css({width:0,left:0})},update:function(){var a=this.player;if(this.el){var c=b.round(100*(a.bufferedPercent()-a.bufferedStart()),2);100<c&&(c=100);this.css({width:c+"%",left:b.round(100*a.bufferedStart(),2)+"%"})}}});Brid.ProgressBar=a.extend({init:function ab(b,a){ab.base.call(this,
b,a);this.resetSkin()},createElement:function bb(){var a="",c=this.player;d()&&"undefined"!=typeof c.config.Skin.ProgressBar&&(a=b.generateSVG(c.config.Skin.ProgressBar,c.id));return bb.base.call(this,"div",{className:"brid-play-progress",innerHTML:a})},setPrimaryColor:function(b){this.player.config.Skin.id&&1==this.player.config.Skin.id?(Brid.log("ProgressBar setPrimaryColor",b),this.el.style.background=b):this.el.style.background=""},resetSkin:function(){this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor)}});
Brid.Scrubber=a.extend({init:function cb(b,a){cb.base.call(this,b,a);this.resetSkin()},createElement:function db(){return db.base.call(this,"div",{className:"brid-seek-scrubber"})},setPrimaryColor:function(b){this.player.config.Skin.id&&1==this.player.config.Skin.id?(Brid.log("Scrubber setPrimaryColor",b),this.el.style.background=b):this.el.style.background=""},resetSkin:);Brid.ChaptersBar=a.extend({chapters:[],
currentChapter:null,init:function eb(b,a){eb.base.call(this,b,a);b.add("progress start beforeStart newContent canplaythrough enableInteraction play timeupdate".split(" "),this.$f(this.update));b.add("newContent",this.$f(this.onNewContent))},createElement:function fb(){return fb.base.call(this,"div",{className:"brid-chapters-progress"})},update:function(){var b=this.player,a=b.currentSource.chapters,d=b.duration();if(!b.getAdInProgress())if(a&&1<a.length&&0<d){this.initializedForWidth!=d&&(Brid.log("Initializing chapters, duration",
d),this.initializedForWidth=d,this.el.innerHTML="",this.chapters=[],a.forEach(function(b,e){e=parseFloat(a[e+1]?a[e+1].t:d+1);var J=(e-b.t)/d*100,w=c("div",{className:"brid-chapter-play-progress"}),C=c("div",{className:"brid-chapter-load-progress"}),k=c("div",{className:"brid-chapter"});k.appendChild(C);k.appendChild(w);k.style.width="calc("+J+"% - 2px)";k.lp=C;k.pp=w;k.name=b.n;k.start=parseInt(b.t);k.end=e;this.el.appendChild(k);this.chapters.push(k)}.bind(this)),b.config.primaryColor&&this.setPrimaryColor(b.config.primaryColor),
this.show());var e=b.bufferedPercent()*d;b.bufferedStart();var g=b.currentTime();this.chapters.forEach(function(a,c){var d="0px",w="0px";g>a.end?d="100%":g>a.start&&(d=(g-a.start)/(a.end-a.start)*100+"%",this.currentChapter!==c&&(this.currentChapter=c,b.trigger("chapterChange",{index:c,name:a.name,start:a.start,end:a.end}),b.addClass("brid-chapters")));e>a.end?w="100%":e>a.start&&(w=(e-a.start)/(a.end-a.start)*100+"%");a.pp.style.width=d;a.lp.style.width=w}.bind(this))}else Brid.Util.hasClass(b.el,
"brid-chapters")&&(b.removeClass("brid-chapters"),b.trigger("chapterChange",null)),this.hide()},onNewContent:function(){this.player.removeClass("brid-chapters");this.el.innerHTML="";this.currentChapter=this.initializedForWidth=null;this.chapters=[]},setPrimaryColor:);Brid.ChapterInfo=a.extend({init:function gb(b,a){b.config.Skin&&b.config.Skin.id&&1!=b.config.Skin.id||(gb.base.call(this,b,a),this.hide(),b.add("chapterChange",
this.$f(this.onChapterChange)),b.add("newContent",this.$f(this.onNewContent)))},createElement:function hb(){return hb.base.call(this,"div",{className:"brid-chapter-info"})},onNewContent:function(){this.hide()},onChapterChange:function(b){this.el.innerHTML=b.data?"&bull; "+b.data.name:"";this.el.title=b.data?b.data.name:"";b.data?this.show():this.hide()}});Brid.StoryBoard=a.extend({hasCuepoints:!1,init:function kb(b,a){kb.base.call(this,b,a);b.add("newContent",this.$f(this.onNewContent));b.add("progressOver",
this.$f(this.onProgressOver));b.add("progressOut",this.$f(this.hide))},createElement:function lb(){var b=lb.base.call(this,"div",{className:"brid-storyBoard",tabIndex:-1});this.sbDiv=Brid.Util.createElement("div",{className:"brid-sb"});this.arDiv=Brid.Util.createElement("div",{className:"brid-sb-arrow"});this.ctDiv=Brid.Util.createElement("div",{className:"brid-sb-title"});this.tmDiv=Brid.Util.createElement("div",{className:"brid-sb-time"});b.appendChild(this.sbDiv);b.appendChild(this.arDiv);b.appendChild(this.ctDiv);
b.appendChild(this.tmDiv);return b},onNewContent:function(){var b=this.player,a=b.currentSource.tracks;this.url=this.src="";this.ctDiv.innerHTML="";this.hasCuepoints=!1;this.hide();if(a){for(var c=0,d=a.length;c<d;c++)if("storyboard"==a[c].kind){this.src=a[c].src;break}Brid.log("StoryBoard onNewContent ",this.src);this.src&&(this.cuePoints=new Brid.CuePoints(b,{trackID:b.currentSource.id,sourceFile:this.src}),Brid.Loader.loadTextPromise(this.src).then(this.storyboardLoaded.bind(this),this.onError.bind(this)))}},
storyboardLoaded:onError:getChapterName:function(b){if(this.player.progressControl.seekBar&&this.player.progressControl.seekBar.chapters)for(var a=this.player.progressControl.seekBar.chapters.chapters,c=0;c<a.length;c++)if(b>=a[c].start&&b<a[c].end)return a[c].name;return""},onProgressOver:function(b){if(this.player.isPlaying)if(this.hasCuepoints){this.imgRoot=
this.src.substring(0,this.src.lastIndexOf("/"));for(var a=this.cuePoints,c=a.cues.length,d=b.data.time,e=0;e<c;e++){var C=a.cues[e].endTime;if(d>=a.cues[e].startTime&&d<C){this.show(a.cues[e],d);break}}this.player.daiAdManagerCall("getActiveSessionProperty","isActive")&&this.show(null,b.data.time)}else this.show(null,b.data.time)},show:function J(a,c){var d=this.player;d.duration();var e=parseInt(d.progressControl.el.offsetWidth),k=parseInt(Brid.Util.css(d.progressControl,"left",!0))||0,F=parseInt(Brid.Util.css(d.controls,
"left",!0))||0,g=k-F,F=this.getChapterName(c);Brid.Util.hasClass(d.el,"brid-small")&&(a=null);7343==d.config.Partner.id&&(a=null);if(a){var l=a.text;var h=l.indexOf("#");var D=l.indexOf("=")+1;var G=l.length;var n=l.substring(0,h);var p=l.substring(D,G).split(",");h=p[0];G=p[1];D=p[2];l=p[3];p=parseInt(p[3])+32;var x=D/2+2;this.url||(this.url=this.imgRoot+"/"+n);this.loadedURL!=this.url&&(this.loadedURL=this.url,this.sbDiv.style.backgroundImage="url('"+this.url+"')")}this.titleWidth=this.titleWidth||
this.ctDiv.clientWidth;n=x?x:this.titleWidth/2;x=g+b.getCurrentTimePercent(d,c)*e;var g=x-n,z=x-=3;2>g?g=2:g+2*n>d.el.clientWidth-2&&(g=d.el.clientWidth-2*n-2);d=.5*this.tmDiv.clientWidth;z-d<k?z=k+d:z+d>k+e&&(z=k+e-d);d=g;a?this.ctDiv.style.justifyContent="":(d<k?d=k:d+2*n>k+e&&(d=k+e-2*n),this.ctDiv.style.justifyContent=d<k+3?"flex-start":d+2*n>k+e-3?"flex-end":"");this.sbDiv.style.backgroundPosition="-"+h+"px -"+G+"px";this.sbDiv.style.top=-p+"px";this.sbDiv.style.left=g+"px";this.sbDiv.style.width=
D+"px";this.sbDiv.style.height=l+"px";this.sbDiv.style.display=a?"":"none";this.arDiv.style.left=x+"px";this.arDiv.style.display=a?"":"none";this.tmDiv.innerHTML=b.formatTime(c);this.tmDiv.style.left=z+"px";this.ctDiv.innerHTML=F;this.ctDiv.style.left=d+"px";this.ctDiv.style.top=(a?-p+11:-13)+"px";this.ctDiv.style.display=1<this.ctDiv.innerHTML.length?"":"none";J.base.call(this)}});Brid.VolumeControl=a.extend({default:{children:{volumeBarBg:{},volumeBar:{}}},knobFree:!0,mouseOver:!1,init:function ib(b,
a){ib.base.call(this,b,a);(0==b.config.volume||Brid.isMobilePlatform)&&this.hide();b.add("knobToggle",this.$f(this.onKnobToggle));b.add("volumeOver",this.$f(this.onVolumeOver));b.add("volumeOut",this.$f(this.onVolumeOut));this.add("mouseover",this.$f(this.onOver));this.add("mouseout",this.$f(this.onOut))},createElement:function jb(){return jb.base.call(this,"div",{className:"brid-volume-control brid-volume-hidden"})},onVolumeOver:function(){this.player.config.Skin.volumeFloat?this.removeClass("brid-volume-hidden"):
this.addClass("over")},onVolumeOut:function(){this.player.config.Skin.volumeFloat?this.knobFree&&!this.mouseOver&&this.addClass("brid-volume-hidden"):this.removeClass("over")},onOver:function(){this.player.config.Skin.volumeFloat&&(this.mouseOver=!0);this.player.trigger("volumeOver")},onOut:function(){this.player.config.Skin.volumeFloat&&(this.mouseOver=!1);this.player.trigger("volumeOut")},onKnobToggle:function(){this.player.config.Skin.volumeFloat&&(this.knobFree=!this.knobFree,this.onVolumeOut())}});
Brid.VolumeBar=Brid.Slider.extend({default:{children:{bar:{childClass:"VolumeLevel"},knob:{}}},updateEvent:"volumechange",init:function w(b,a){a.title="Volume slider";w.base.call(this,b,a);b.add("vast.adVolumeChange",this.$f(this.update));this.add("mousedown",this.$f(this.onMouseDown));b.addOnce("ready",this.$f(this.onPlayerReady))},createElement:function C(){this.el&&(this.el.innerHTML="");var a=this.player.config.Skin;var e=d()&&"undefined"!==typeof a[this.config.name]?b.generateSVG(a[this.config.name],
this.player.id):"";var g=C.base.call(this,"div",{className:"brid-volume-bar",innerHTML:e});if(!a.volumeFloat)for(var l=0;7>l;l++)e="",d()&&"undefined"!==typeof a.VolumeLevelOff&&(e=b.generateSVG(a.VolumeLevelOff,this.player.id)),e=c("div",{className:"bar-bracket",innerHTML:e}),m.add(e,"mouseover",this.$f(this.onBracketOver)),m.add(e,"mouseout",this.$f(this.onBracketOut)),g.appendChild(e);this.el&&(this.el.innerHTML=g.innerHTML);return g},onPlayerReady:function(){var a=c("div",{className:"level-bracket"});
this.el.appendChild(a);if(a){var d=b.rgbValues("rgb(255, 255, 255)"),e=B(a,"background-color");e&&(e="rgb(0, 0, 0)"!=e&&"rgba(0, 0, 0, 0)"!=e?b.rgbValues(e):!1,d&&e&&(this.endColor=b.rgbToHsl(e.r,e.g,e.b),this.startColor=b.rgbToHsl(d.r,d.g,d.b)))}this.el.removeChild(a);this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor);this.update()},setPrimaryColor:function(a){if(this.player.config.Skin.id&&1==this.player.config.Skin.id){var c="rgb(0, 0, 0)"!=a&&"rgba(0, 0, 0, 0)"!=
a?b.rgbValues(a):!1;Brid.log("VolumeBar setPrimaryColor",a,c);c&&(this.endColor=b.rgbToHsl(c.r,c.g,c.b));this.update()}},resetSkin:function(){this.startColor=this.endColor=null;this.createElement();this.el.style.background="";this.bar=new Brid.VolumeLevel(this.player);this.knob=new Brid.Knob(this.player);this.addChild(this.bar);this.addChild(this.knob);setTimeout(this.$f(this.onPlayerReady),100)},onBracketOver:function(a){b.removeClass(a.currentTarget,"out");b.addClass(a.currentTarget,"over")},onBracketOut:onMouseMove:function(a){var c=this.player.muted();this.player.muted(!1);var d=this.scrollTo(a);this.player.config.Skin.volumeFloat||(d=.08>d?0:d,d=.92<d?1:d);this.player.config.hover_volume=0;this.player.volume(d);this.player.trigger("userInteractionLow");this.player.config.Skin.volumeFloat&&this.player.trigger("repositionKnob");b.stopEvent(a);c!=this.player.muted()&&this.player.trigger("muteInteraction",{muted:!c})},getPercent:
stepForward:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()+.1);this.player.config.Skin.volumeFloat&&this.player.trigger("repositionKnob")},stepBack:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()-.1);this.player.config.Skin.volumeFloat&&this.player.trigger("repositionKnob")},update:function(){var a=this.getPercent(),e=this.bar,g=this.player;if(isNaN(a)||g.muted())a=0;if(!this.player.config.Skin.volumeFloat){e.el.innerHTML=
"";var h=Math.ceil(7*a)}if(this.startColor&&this.endColor){var l=b.interpolate(this.startColor,this.endColor,.9<a?1:a);l=b.hslToRgb(l[0],l[1],l[2])}this.el.setAttribute("aria-valuenow",parseInt(100*this.player.volume()));this.el.setAttribute("aria-text",parseInt(100*this.player.volume())+"% volume "+(this.player.muted()?"muted":""));if(this.player.config.Skin.volumeFloat)this.player.trigger("repositionKnob"),0==this.state?.4<=a&&(g.trigger("svgchange"),this.state=1):.4>a&&(g.trigger("svgchange"),
this.state=0);else for(a=0;a<h;a++){var r="";d()&&"undefined"!=typeof g.config.Skin.VolumeLevelOn&&(r=b.generateSVG(g.config.Skin.VolumeLevelOn,g.id));r=c("div",{className:"level-bracket",innerHTML:r});m.add(r,"mouseover",this.$f(this.onBracketOver));m.add(r,"mouseout",this.$f(this.onBracketOut));l&&B(r,{"background-color":l});e.el.appendChild(r)}},scrollTo:function(b){var a=this.player.config.Skin&&this.player.config.Skin.volumeFloat&&!this.player.audioFile,c=this.el,d=this.el.getBoundingClientRect(),
d=a?d.y:d.x,c=a&&!this.player.config.Skin.volumeFloat?c.offsetHeight:c.offsetWidth;b=a?b.clientY||b.pageY:b.clientX||b.pageX;return a?1-Math.max(0,Math.min(1,(b-d)/c)):Math.max(0,Math.min(1,(b-d)/c))}});Brid.Knob=a.extend({updateEvent:"volumechange",capturedButton:null,init:function k(b,a){0!=b.config.volume&&(b.config.translate&&b.config.translate.toggle_mute&&(this.title=b.config.translate.toggle_mute),k.base.call(this,b,a),this.player.add("repositionKnob",this.$f(this.onRepositionKnob)),this.add("mousedown",
this.$f(this.onButtonDown)))},createElement:function F(){return F.base.call(this,"div",{className:"brid-knob",innerHTML:" "})},onButtonDown:function(b){this.el==b.target&&(this.capturedButton=b.target,this.f=this.onButtonUp.bind(this),e.addEventListener?e.addEventListener("mouseup",this.f,!0):this.capturedButton.setCapture&&(this.f=this.onButtonLoseCapture.bind(this),this.capturedButton.attachEvent("onlosecapture",this.f),this.capturedButton.setCapture()));this.addClass("brid-selected");this.player.touch.el.focus({preventScroll:!0});
this.player.trigger("knobToggle")},onButtonUp:function(){e.removeEventListener?e.removeEventListener("mouseup",this.f,!0):this.capturedButton.releaseCapture&&(this.capturedButton.detachEvent("onlosecapture",this.f),this.capturedButton.releaseCapture());this.capturedButton=null;this.removeClass("brid-selected");this.player.trigger("knobToggle")},onButtonLoseCapture:function(){this.onButtonUp()},onRepositionKnob:function(){var b=this.player.muted()?0:this.player.volume();this.el.style.left=88*b-8.5+
"px";this.el.parentElement.style.background="linear-gradient(90deg, var(--color, rgba(255,255,255,0.9)) "+91*b+"%, rgba(0,0,0,0) "+(100*b+1)+"%, rgba(255,255,255,0.5) "+(100*b+2)+"%, rgba(255,255,255,0.5) 100%)"}});Brid.VolumeBarBg=a.extend({createElement:function mb(){return mb.base.call(this,"div",{className:"brid-volume-bar-bg"})}});Brid.VolumeLevel=a.extend({createElement:function l(){return l.base.call(this,"div",{className:"brid-volume-level"})}});Brid.MuteToggle=g.extend({svg_toggle:"16 16'><g fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><path class=toggle-svg d='M11,13.91c2.837-0.477,5-2.938,5-5.91s-2.163-5.433-5-5.91v1.011C13.279,3.566,15,5.585,15,8s-1.721,4.434-4,4.899V13.91z'/><path d='M11,9.722v1.094c1.163-0.413,2-1.512,2-2.816s-0.837-2.403-2-2.816v1.094C11.595,6.625,12,7.263,12,8  C12,8.737,11.595,9.375,11,9.722z'/></g><g fill='#fff'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><path class=toggle-svg d='M11,13.91c2.837-0.477,5-2.938,5-5.91s-2.163-5.433-5-5.91v1.011C13.279,3.566,15,5.585,15,8s-1.721,4.434-4,4.899V13.91z'/><path d='M11,9.722v1.094c1.163-0.413,2-1.512,2-2.816s-0.837-2.403-2-2.816v1.094C11.595,6.625,12,7.263,12,8  C12,8.737,11.595,9.375,11,9.722z'/></g>",
svg_muted:"16 16'><g fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><polygon points='14.646,5.646 13,7.293 11.354,5.646 10.646,6.354 12.293,8 10.646,9.646 11.354,10.354 13,8.707 14.646,10.354 15.354,9.646 13.707,8 15.354,6.354 '/></g><g fill='#fff'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><polygon points='14.646,5.646 13,7.293 11.354,5.646 10.646,6.354 12.293,8 10.646,9.646 11.354,10.354 13,8.707 14.646,10.354 15.354,9.646 13.707,8 15.354,6.354 '/></g>",
default:{title:"Toggle Mute Video (m)"},init:function r(a,c){0!=a.config.volume&&(a.config.translate&&a.config.translate.toggle_mute&&(this.default.title=a.config.translate.toggle_mute),r.base.call(this,a,c),this.el.innerHTML=b.generateSVG(this.player.config.Skin.MuteToggle||this.svg_toggle,this.player.id),a.add(["volumechange","adStart","enableInteraction"],this.$f(this.onVolumeChange)),this.add("mouseover",this.$f(this.onOver)),this.add("mouseout",this.$f(this.onOut)),this.player.add("svgchange",
this.$f(this.onSvgChange)),this.onVolumeChange())},appendClassName:function D(){return"brid-mute-control brid-control "+D.base.call(this)},onClick:function(){var b=this.player;Brid.isMobilePlatform?(b.muted(b.muted()?!1:!0),b.volume(b.muted()?0:1)):(b.config.hover_volume=0,b.muted(!(b.muted()||0==b.volume())));b.trigger("muteInteraction",{muted:b.muted()});b.trigger("userInteractionLow");!b.muted()&&void 0!=b.adsManager&&void 0!=b.adsManager.currentAdObject&&"1"==b.adsManager.currentAdObject.adType&&
b.config.MidrollOnlyWhenMuted&&b.tag.currentTime>=b.Advertising.ads.midroll.cuepoints[0]-5&&(b.midrollNotMutedCase=!0)},onVolumeChange:function(){var a=this.player,c=a.config.Skin,e=0==a.volume()||a.muted()?"off":"on";this.level!=e&&(this.level=e,d()&&c?this.el.innerHTML=b.generateSVG("on"===e?c.MuteToggle||this.svg_toggle:c.Muted||this.svg_muted,a.id):(b.each.call(this,["on","off"],,b.addClass(this.el,"brid-vol-"+e)))},onSvgChange:function(){b.hasClass(this.el,
"go-toggle-svg")?this.removeClass("go-toggle-svg"):this.addClass("go-toggle-svg")},onOver:function(){this.player.trigger("volumeOver")},onOut:resetSkin:);Brid.CurrentTimeDisplay=a.extend({init:function n(b,a){n.base.call(this,b,a);b.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));b.add("newContent",this.$f(this.onNewContent));b.add("streamFragChanged",
this.$f(this.onStreamFragChanged))},createElement:function p(){var b=p.base.call(this,"div",{className:"brid-current-time brid-time-controls"});this.content=c("div",{className:"brid-current-time-display",innerHTML:"00:00"});b.appendChild(c("div").appendChild(this.content));return b},updateContent:function(){var a=this.player,c=a.currentTime()||0;this.content.innerHTML=b.formatTime(c,a.duration())},onNewContent:function(){this.content.innerHTML=b.formatTime(0);this.show()},onStreamFragChanged:function(b){b.data.live?
this.hide():this.show()}});Brid.DurationDisplay=a.extend({init:function x(b,a){x.base.call(this,b,a);b.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));b.add("newContent",this.$f(this.onNewContent));b.add("streamFragChanged",this.$f(this.onStreamFragChanged))},createElement:function z(){var b=z.base.call(this,"div",{className:"brid-duration brid-time-controls"});this.content=c("div",{className:"brid-duration-display",innerHTML:"00:00"});b.appendChild(c("div").appendChild(this.content));
return b},updateContent:function(){this.player.duration()&&(this.content.innerHTML=b.formatTime(this.player.duration()));if("hls"!=this.player.techName&&Infinity==this.player.tech.el.duration){this.player.values.initialDuration||(this.player.values.initialDuration=this.player.tech.el.currentTime,this.player.values.initialDurationTaken=Date.now()/1E3,this.player.values.isLive=!0);this.player.values.totalDuration=this.player.values.initialDuration+Date.now()/1E3-this.player.values.initialDurationTaken;
var a=this.player.values.totalDuration-this.player.tech.el.currentTime,c=80>a;if(!this.player.values.behind||10<Math.abs(a-this.player.values.behind))this.player.trigger("streamFragChanged",{live:this.player.values.isLive,liveInSync:c,behind:c?0:a}),this.player.values.behind=a}a=30<this.player.duration()&&!this.player.values.isLive;Brid.Util[a?"addClass":"removeClass"](this.player.el,"brid-long")},onNewContent:function(){this.content.innerHTML=b.formatTime(this.player.currentSource.duration||0);this.player.addOnce("waiting",
this.$f(this.updateContent));this.player.values.isLive=!1;this.show()},onStreamFragChanged:function(b){b.data.live?this.hide():this.show()}});Brid.TimeDivider=a.extend({init:function nb(b,a){nb.base.call(this,b,a);b.add("streamFragChanged",this.$f(this.onStreamFragChanged));b.add("newContent",this.$f(this.onNewContent))},createElement:function ob(){return ob.base.call(this,"div",{className:"brid-time-controls brid-time-divider",innerHTML:"<div><span>/</span></div>"})},onNewContent:function(){this.show()},
onStreamFragChanged:);Brid.AdTimeDisplay=a.extend({init:function pb(b,a){pb.base.call(this,b,a);b.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent))},createElement:function qb(){return qb.base.call(this,"div",{className:"brid-adtime brid-time-controls"})},updateContent:function(){if(this.player.getAdInProgress()){var b=this.player.calculateAdTimeLeft();if(3600<=b)b=Math.floor(b/3600)+"h";else if(60<=b)b=
Math.floor(b/60)+"m";else if(0<b)b=Math.max(1,b)+"s";else{this.el.innerHTML="";return}this.el.innerHTML=(this.player.config.translate&&this.player.config.translate.ad_ends_in||"Ad ends in ")+b}else""!=this.el.innerHTML&&(this.el.innerHTML="")}});Brid.LiveInfo=a.extend({init:function rb(b,a){rb.base.call(this,b,a);this.hide();this.player.add("streamFragChanged",this.$f(this.onStreamFragChanged));this.player.add(["error","newContent"],this.$f(this.onNewContent));this.add("click",this.$f(this.onClick))},
createElement:function sb(){return sb.base.call(this,"div",{className:"brid-time-controls brid-live-info",innerHTML:"<div><span></span> "+(this.player.config.translate&&this.player.config.translate.live||"LIVE")+"</div>"})},onClick:function(b){this.player.currentTime(this.player.values.totalDuration);this.player.trigger("userInteractionLow")},onStreamFragChanged:function(a){Brid.log("LiveInfo",a.data);a.data.live?(this.show(),this.player.addClass("brid-live"),a.data.liveInSync?(this.removeClass("brid-not-synced"),
this.behindEl&&this.el.removeChild(this.behindEl),this.behindEl=null):(this.addClass("brid-not-synced"),0<a.data.behind&&(this.behindEl&&this.el.removeChild(this.behindEl),this.behindEl=null,this.behindEl=this.el.appendChild(c("div",{className:"brid-behind",innerHTML:"-"+b.formatTime(a.data.behind,a.data.behind)}))))):(this.hide(),this.player.removeClass("brid-live"))},onNewContent:);Brid.PosterImage=g.extend({default:{title:"Play Video"},
liveImageOn:!1,init:function tb(b,a){b.config.translate&&b.config.translate.play&&(this.default.title=b.config.translate.play);tb.base.call(this,b,a);b.add("beforeStart start playbackerror firstPlay skipped adStart".split(" "),this.$f(this.hide));b.add("ready",this.$f(this.onPlayerReady));b.add("playerresize",this.$f(this.onPlayerResize));b.config.autoplay_on_ad&&b.addOnce("userInteraction",this.$f(this.onUserInteraction));b.add(["showPoster","stopped"],this.$f(this.show));b.add("requestAd",this.$f(this.onRequestAd))},
createElement:function ub(){return ub.base.call(this,"div",{className:"brid-poster",tabIndex:-1})},onPlayerReady:onUserInteraction:function(){this.hide()},onClick:function(b){var a=this.player;a.isReady&&(a.trigger("userInteraction"),a.togglePlay(b))},onMouseOver:function(){this.liveImageEl&&!this.player.currentSource.liveImageAutoplay&&this.showLiveImage()},onMouseOut:showLiveImage:function(){his.liveImageOn||!this.currentLiveImage||Brid.Util.hasClass(this.player.el,"brid-end-screen")||(this.player.playButtonOverlay.el.style.opacity=.3,this.player.playButtonOverlay.el.style.pointerEvents="none",this.liveImageOn=!0,this.liveImageEl.style.display="block",b(this.liveImageEl.src)!=b(this.currentLiveImage)&&(this.liveImageEl.src=this.currentLiveImage))},hideLiveImage:function(){this.player.isPlaying||
(this.player.playButtonOverlay.el.style.opacity="",this.player.playButtonOverlay.el.style.pointerEvents="");this.liveImageEl.style.display="none";this.liveImageOn=!1},getRendition:function(b){var a=this.player.el.clientHeight,c=Brid.Util.Renditions.data,d=null,e=null,g;for(g in c)c.hasOwnProperty(g)&&(b[g]&&(e=g),!d&&c[g]>=a&&b[g]&&(d=g));return d||e},onPlayerResize:function(){0<this.player.el.clientHeight&&!this.heightObtained&&(this.player.remove("playerresize",this.$f(this.onPlayerResize)),this.heightObtained=
!0,!this.el.style.backgroundImage&&this.showWhenHeightObtained&&this.show())},show:function vb(){var a=this.player,d=a.config.poster||a.currentSource.poster,e=a.config.webp||a.currentSource.webp;if(!a.config.poster){var g={};a.currentSource.snapshots&&!b.isEmpty(a.currentSource.snapshots)&&(g={default_snapshots:a.currentSource.snapshots});a.currentSource.additional_snapshots&&!b.isEmpty(a.currentSource.additional_snapshots)&&(g=a.currentSource.additional_snapshots);if(!Brid.Util.isEmpty(g)){if(!this.heightObtained){this.showWhenHeightObtained=
!0;return}var d=Object.keys(g),d=d[Brid.Util.randomInt(0,d.length-1)],h=g[d],m=this.getRendition(h),d=h[m];Brid.log("PosterImage snapshot",d,"availableSnapshots",g,"rendition",m,"randomSnapshot",h)}}!a.config.autoplay&&a.config.use_og_image_as_snapshot&&(Brid.log("PosterImage .use_og_image_as_snapshot flag found!"),g=b.elBySelector('meta[property="og:image"]'))&&(d=g.content,e="",Brid.log("PosterImage ogImage",d));"undefined"===typeof d||a.tech.support.hasPoster?this.hide():(d&&this.currentPoster!==
d&&(this.currentPoster=d,this.el.style.backgroundImage="url('"+d+"')",e&&this.currentLiveImage!==e&&b.isChrome()&&!Brid.isMobilePlatform&&(this.currentLiveImage=e,this.liveImageEl&&this.el.removeChild(this.liveImageEl),this.liveImageEl=this.el.appendChild(c("img",{src:d,alt:a.currentSource.title||""})),this.liveImageEl.style.pointerEvents="none",this.liveImageEl.onload=this.$f(,B(this.liveImageEl,{display:"none",pointerEvents:"none"}))),
a.config.keepPosterAspect?this.addClass("keep-aspect"):this.removeClass("keep-aspect"),vb.base.call(this))},hide:function wb(b){Brid.log("PosterImage hide",b);if(!b||!this.player.config.autoplay_on_ad||"firstPlay"!==b.type&&"beforeStart"!==b.type)this.player.playButtonOverlay.el.style.opacity="",this.player.playButtonOverlay.el.style.pointerEvents="",wb.base.call(this)},onRequestAd:function(a){Brid.log("PosterImage onRequestAd showSnapshotOnLoadingAd",this.player.config.showSnapshotOnLoadingAd);var c=
b.execFn(;if(this.player.config.showSnapshotOnLoadingAd&&"0"===c)return Brid.log("PosterImage onRequestAd poster overlay has been shown!"),this.show()}});Brid.TitleBar=a.extend({listeners:!1,init:function xb(b,a){xb.base.call(this,b,a);"undefined"!=typeof b.config.titleBar&&0==b.config.titleBar&&this.toggleListeners(!1);this.hide();b.addOnce("ready",this.$f(this.onPlayerReady));b.addOnce(["beforeStart","start"],this.$f(this.onStart));b.add(["newContent","showPoster"],
this.$f(this.fadeIn));b.add("enableInteraction",this.$f(this.onEnableControls));b.add("disableInteraction",this.$f(this.onDisableControls));this.player.add("videoLoadingStart",this.$f(function(){this.hide()}));this.player.add("videoLoadingEnd",this.$f(function(){this.show()}))},createElement:function yb(){var a=yb.base.call(this,"div",{className:"brid-poster-title"});this.div=b.createElement("div");a.appendChild(this.div);return a},onPlayerReady:function(){var b=this.player;("undefined"==typeof b.config.titleBar||
b.config.titleBar)&&this.show()},toggleListeners:onStart:function(){this.onEnableControls();this.player.config.autoplay&&"autohide"===this.player.config.controlsBehavior&&this.fadeOut()},onDisableControls:onEnableControls:function(){var b=this.player;b.getAdInProgress()||Brid.isMobilePlatform&&
b.positionType==H.IN_GLIDE||(this.fadeIn(),this.toggleListeners(!0))},fadeIn:function zb(){if(!this.player.config.sticky_title_above_text||this.player.positionType!==H.IN_GLIDE){var b=this.player.currentSource.title||this.player.currentSource.name;"undefined"!=typeof b&&this.div.innerHTML!=b&&(this.div.innerHTML=b);zb.base.call(this)}},fadeOut:);Brid.AdInfo=a.extend({init:function Bb(a,c){if(b.adBlockerEnabled)return!1;Bb.base.call(this,a,c);this.hide();this.title_loading_ad=
(a.config.translate&&a.config.translate.loading_ad||"Loading Ad")+" <em></em>";this.title_advertisement=a.config.translate&&a.config.translate.ad||"Ad";this.title_ad_will_start=a.config.translate&&a.config.translate.ad_starts_soon||"Ad starts soon";this.title_video_loading=(a.config.translate&&a.config.translate.video_loading||"Video Loading")+" <em></em>";a.add(["newContent","ended","adEnd","adError"],this.$f(this.hide));a.add("adStart",this.$f(function(){this.player.bannerMode?this.hide():this.player.getAdInProgress()&&
(this.el.innerHTML=this.title_advertisement,this.show())}));a.add("vpaidStart",this.$f();a.add("requestAd",this.$f(function(){this.el.innerHTML=a.config.optimize_price&&a.config.loop_pods||a.config.loop_ads?"":this.title_loading_ad;this.show()}));a.add("videoLoadingStart",this.$f();a.add("videoLoadingEnd",this.$f(function(){this.hide()}))},createElement:function Cb(){return Cb.base.call(this,
"div",{className:"brid-ad-info"})}});Brid.NextAutoSkip=a.extend({shown:!1,disabled:!1,secondsToShow:7,skipAtSeconds:0,init:function Db(b,a){if(!b.config.auto_skip_at||0==parseInt(b.config.auto_skip_at))return!1;Db.base.call(this,b,a);this.hide();b.add(["timeupdate","beforeStart","adStart","adEnd"],this.$f(this.updateContent));b.add(["newContent","playlistchange"],this.$f(this.onNewContent));b.add(["userInteraction","userInteractionLow"],this.$f(this.onUserInteraction))},createElement:function Eb(){var b=
Eb.base.call(this,"div",{className:"brid-next-autoskip"}),a=this.progressBar=c("div",{className:"brid-next-progress"}),d=c("div",{className:"brid-next-skip",innerHTML:this.player.config.translate&&this.player.config.translate.skip||"Skip"}),e=c("div",{className:"brid-next-stay",innerHTML:this.player.config.translate&&this.player.config.translate.stay||"Stay"});d.onclick=this.$f(function(){this.player.next()});e.onclick=this.$f(function(){this.disabled=!0;this.hide()});d.appendChild(a);b.appendChild(d);
b.appendChild(e);return b},updateContent:function(){if(!this.player.getAdInProgress()&&!this.disabled&&(0==this.skipAtSeconds&&(this.skipAtSeconds=parseInt("string"==typeof this.player.config.auto_skip_at&&0<this.player.config.auto_skip_at.indexOf("%")?parseInt(this.player.config.auto_skip_at)*this.player.duration()*.01:this.player.config.auto_skip_at),0<this.skipAtSeconds&&(this.secondsToShow>this.skipAtSeconds&&(this.skipAtSeconds=this.secondsToShow),Brid.log("Player set video skip at",b.formatTime(this.skipAtSeconds)))),
!this.player.getAdInProgress()&&1<=this.player.playlistLength&&this.player.isNextQueued()&&this.player.duration()>this.skipAtSeconds&&0<this.skipAtSeconds)){var a=this.player.currentTime()||0,c=this.skipAtSeconds-this.secondsToShow;!this.shown&&a>=c?(this.shown=!0,this.shownAt=Date.now(),this.show()):this.shown&&(a=(a-c)/this.secondsToShow,c=(Date.now()-this.shownAt)/1E3,this.progressBar.style.width=100*a+"%",1<=a&&.9<c/this.secondsToShow&&(this.disabled=!0,this.player.next(!0)))}},onNewContent:function(){this.disabled=
this.shown=!1;this.shownAt=null;this.skipAtSeconds=0;this.progressBar.style.width="0%";this.hide()},onUserInteraction:);Brid.NextVideoNotification=a.extend({active:!1,closed:!1,haveNext:!1,init:function Fb(b,a){!b.config.next_video_preview||b.config.player_mod&&"native"==b.config.player_mod||(Fb.base.call(this,b,a),b.add(["timeupdate","beforeStart","adStart","adEnd"],this.$f(this.updateContent)),b.add(["newContent","playlistchange"],this.$f(this.onNewContent)))},
createElement:function Gb(){return Gb.base.call(this,"div",{className:"brid-next-popup"})},initInnerElements:function(){var b=c("div",{className:"brid-desc",innerHTML:'<div class="brid-next">'+(this.player.config.translate&&this.player.config.translate.next_video||"Next Video")+"</div>"});this.nextHolder=c("div",{className:"brid-next-holder"});this.thumb=c("div",{className:"brid-thumb"});this.nextHolder.onclick=this.$f(function(){this.player.trigger("nextpopup");this.url?e.open(this.url,this.player.config.same_page_clickthroughs?
"_self":"_blank"):this.player.next(!0)});this.title=c("div",{className:"brid-next-title"});this.duration=c("div",{className:"brid-next-duration"});this.close=c("div",{className:"brid-next-close",innerHTML:"&times;"});this.close.onclick=this.$f(;b.appendChild(this.title);b.appendChild(this.duration);this.nextHolder.appendChild(this.thumb);this.nextHolder.appendChild(b);this.el.appendChild(this.nextHolder);this.el.appendChild(this.close)},updateContent:function(){if(this.player.getAdInProgress()&&
this.active)this.active=!1,this.removeClass("open");else if(!this.player.getAdInProgress()&&!this.closed&&260<this.player.el.offsetHeight&&1<this.player.playlistLength&&this.player.isNextQueued()&&3<this.player.duration()){var b=this.player.duration()-(this.player.currentTime()||0),a=Math.min(15,this.player.duration()/3);!this.active&&b<a?(this.nextHolder||(this.initInnerElements(),this.onNewContent()),this.haveNext&&(this.active=!0,this.addClass("open"))):this.active&&b>=a&&(this.active=!1,this.removeClass("open"))}},
onNewContent:function(){this.haveNext=this.active=!1;this.removeClass("open");if(this.nextHolder){var a=this.player.currentIndex==this.player.playlistLength-1&&"loop"==this.player.config.afterPlaylistEnd?0:this.player.currentIndex+1;if(a in this.player.videos){var c=this.player.videos[a];c.thumbnail&&(this.thumb.style.backgroundImage="url('"+c.thumbnail+"')");this.title.innerHTML=c.title;a=b.formatTime(c.duration);this.duration.innerHTML=a.match(/NaN/)?"":a;this.url=c.urlNextUp;this.haveNext=!0}}}});
Brid.NextVideoTimer=a.extend({active:!1,closed:!1,haveNext:!1,minHeight:180,duration:10,svg:"18 18' width='60px' height='60px'><circle transform='scale(0.25) translate(0 0.1)'cx='36' cy='36' fill='#fff' fill-opacity='0.3' r='31.5'></circle><circle id='--PLAYER_ID--_krug' class='brid-next-video-timer-animation' transform ='scale(0.25) translate(0 0.1) rotate(-90,36,36)' cx='36' cy='36' fill-opacity='0' r='33.5' stroke='#fff' stroke-dasharray='211' stroke-dashoffset='-211' stroke-width='4' transform='rotate(-90)'></circle><path transform='scale(0.25) translate(0 0.1)' d='M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z' fill='#fff'></path><animate xlink:href='#--PLAYER_ID--_krug'attributeName='stroke-dashoffset'from='-211'to='-422' dur='--DURATION--s'begin='click' restart='always' fill='freeze' id='--PLAYER_ID--_animation'/><animate>",
timer:null,previousViewState:null,player:this.player,init:function Hb(a,c){!a.config.continueWithPreview||a.config.player_mod&&"native"==a.config.player_mod||(this.svg=this.svg.replace(/--PLAYER_ID--/g,a.id),this.svg=this.svg.replace(/--DURATION--/g,this.duration),Hb.base.call(this,a,c),this.previousViewState=this.player.isPlayerInView(),a.add("showNextVideoTimer",this.$f(this.onNextVideoTimer)),a.add(["newContent","playlistchange"],this.$f(this.onNewContent)),a.add("beforeStart",this.$f(),u.addEventListener("scroll",b.throttle(this.$f(this.isInView),50,this)))},createElement:function Ib(){return Ib.base.call(this,"div",{className:"brid-next-video-timer"})},initInnerElements:function(){var a=c("div",{className:"brid-next-video-timer-desc",innerHTML:'<div class="brid-next-video-timer-next">'+(this.player.config.translate&&this.player.config.translate.next_video||"Next Video")+"</div>"});this.nextHolder=c("div",{className:"brid-next-video-timer-holder"});
this.title=c("div",{className:"brid-next-video-timer-title"});this.close=c("div",{className:"brid-next-video-timer-close",innerHTML:this.player.config.translate&&this.player.config.translate.close||"Cancel"});this.close.onclick=this.$f(function(){this.closed=!0;this.active=!1;this.clearTimeout();this.removeClass("open");"startScreen"===this.player.config.videoPlayback?(this.player.trigger("showPoster"),this.player.mouseOver()):"shareScreen"===this.player.config.videoPlayback?this.player.trigger("openShareScreen"):
"relatedScreen"===this.player.config.videoPlayback&&this.player.trigger("openRelatedScreen")});this.indicator=c("div",{className:"brid-next-video-timer-indicator",innerHTML:this.player.config.translate&&this.player.config.translate.autoplay_paused||"Autoplay is paused"});this.next=c("div",{className:"brid-next-video-timer-sprite",innerHTML:b.generateSVG(this.svg)});this.next.onclick=this.$f(function(){this.active=!1;this.clearTimeout();this.removeClass("open");this.player.next(!0)});a.appendChild(this.title);
this.nextHolder.appendChild(a);this.nextHolder.appendChild(this.next);this.nextHolder.appendChild(this.close);this.nextHolder.appendChild(this.indicator);this.el.appendChild(this.nextHolder)},clearTimeout:onNextVideoTimer:function(){var b=this.player;this.nextHolder||(this.initInnerElements(),this.onNewContent());if(this.player.getAdInProgress()&&this.active)this.active=!1,this.removeClass("open");else if(!this.player.getAdInProgress()&&!this.closed)if(this.player.el.offsetHeight<
this.minHeight)this.player.next(!0);else{this.active=!0;this.addClass("open");var a=new Event("click");v.getElementById(this.player.id+"_krug").dispatchEvent(a);this.timer=u.setTimeout(function(){b.next(!0)},1E3*this.duration,!1);this.isInView();this.player.nextVideoNotification&&this.player.nextVideoNotification.el.classList.remove("open")}},isInView:function(){var b=this.player,a=this.player.isPlayerInView();this.active&&a!=this.previousViewState&&(a?(this.previousViewState=!0,a=new Event("click"),
v.getElementById(this.player.id+"_krug").dispatchEvent(a),this.timer=u.setTimeout(1E3*this.duration,!1),this.player.nextVideoTimer.el.classList.remove("brid-timed-out")):(this.previousViewState=!1,this.clearTimeout(),this.player.nextVideoTimer.el.classList.add("brid-timed-out"),v.getElementById(this.player.id+"_animation").endElement()))},onFullScreenChange:function(){this.isInView()},onNewContent:function(){this.haveNext=this.closed=this.active=!1;this.removeClass("open");
if(this.nextHolder){var b=this.player.currentIndex==this.player.playlistLength-1&&"loop"==this.player.config.afterPlaylistEnd?0:this.player.currentIndex+1;b in this.player.videos&&(b=this.player.videos[b],b.thumbnail&&(this.nextHolder.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('"+b.thumbnail+"')"),this.title.innerHTML=b.title,this.haveNext=!0)}}});Brid.MenuScreen=a.extend({default:{children:{menuScreenList:{childClass:"MenuScreenList"}}},init:function Jb(b,
a){b.config.contextMenu&&(Jb.base.call(this,b,a),b.add("disableInteraction",this.$f(this.disableInteraction)),b.add("enableInteraction",this.$f(this.enableInteraction)),b.add("stickyChange",this.$f(this.onCloseMenuScreen)),this.enableInteraction())},createElement:function Kb(){return Kb.base.call(this,"div",{className:"brid-menu-screen brid-hidden"})},disableInteraction:function(){this.player.remove("contextmenu",this.$f(this.openContextMenu));if(this.open)this.onCloseMenuScreen()},enableInteraction:function(){this.player.config.contextMenu&&
!b.isDebug()&&(this.player.remove("contextmenu",this.$f(this.openContextMenu)),this.player.add("contextmenu",this.$f(this.openContextMenu)))},openContextMenu:function(b){b.preventDefault();var a=b.clientX-this.player.el.getBoundingClientRect().left,c=b.clientY-this.player.el.getBoundingClientRect().top,d=this.player.el.clientWidth-a-205,e=this.player.el.clientHeight-c-(Brid.isMobilePlatform?77:112)-5;0>d&&(a+=d);0>e&&(c+=e);this.add("mouseover",this.$f(this.setCloseMenuScreenTimer));this.add("mouseleave",
this.$f(this.setCloseMenuScreenTimer));this.onOpenMenuScreen(a,c,b)},onOpenMenuScreen:function(b,a,c){this.player.shortcutsScreen.open||(this.player.add("closeMenu",this.$f(this.onCloseMenuScreen)),this.setCloseMenuScreenTimer(c),this.player.menuScreen.el.style.left=b+"px",this.player.menuScreen.el.style.top=a+"px",this.player.menuScreen.el.classList.remove("brid-hidden"),this.open=!0)},setCloseMenuScreenTimer:function(b){var a=this.player;switch(b.type){case "contextmenu":b=3;break;case "mouseover":b=
5;break;case "mouseleave":b=1;break;default:b=2}u.clearTimeout(this.timer);this.timer=null;this.timer=u.setTimeout(function(){a.trigger("closeMenu")},1E3*b,!1)},onCloseMenuScreen:function(){u.clearTimeout(this.timer);this.timer=null;this.player.menuScreen.el.classList.add("brid-hidden");this.open=!1;this.player.remove("closeMenu",this.$f(this.onCloseMenuScreen));this.remove("mouseover",this.$f(this.setCloseMenuScreenTimer));this.remove("mouseleave",this.$f(this.setCloseMenuScreenTimer))}});Brid.MenuScreenList=
a.extend({default:{children:{share:{childClass:"ShareListButton"},shortcuts:{childClass:"ShortcutsListButton"},poweredBy:{childClass:"PoweredByListButton"}}},init:function Lb(b,a){!Brid.isMobilePlatform&&b.config.shortcutsEnabled||delete this.default.children.shortcuts;Lb.base.call(this,b,a)},createElement:);Brid.ShareListButton=g.extend({default:{title:""},init:function Nb(b,a){0!=b.config.shareScreen&&(Nb.base.call(this,b,a),b.add(["start",
"enableInteraction"],this.$f(this.fadeIn)),b.add("disableInteraction",this.$f(this.fadeOut)))},createElement:function Ob(){var b=Ob.base.call(this,"li",{className:"",style:"border:0"});b.appendChild(c("button",{className:"",innerHTML:this.player.config.translate&&this.player.config.translate.share?this.player.config.translate.share:"Share"}));return b},onClick:function(){this.player.trigger("closeMenu");this.player.trigger("openShareScreen");this.player.trigger("userInteractionLow")}});Brid.ShortcutsListButton=
g.extend({default:{title:""},init:function Pb(b,a){a.name="OpenShortcuts";Pb.base.call(this,b,a);b.add(["start","enableInteraction"],this.$f(this.fadeIn));b.add("disableInteraction",this.$f(this.fadeOut))},createElement:function Qb(){var b=Qb.base.call(this,"li",{className:""});b.appendChild(c("button",{className:"",innerHTML:this.player.config.translate&&this.player.config.translate.shortcuts?this.player.config.translate.shortcuts:"Keyboard Shortcuts"}));return b},onClick:);Brid.PoweredByListButton=g.extend({svg:"16.9 16.5'><path fill='#ff0000' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><path class='brand-bg' fill='red' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><g><path fill='#FFF' d='M2.2,6.3c0.2,0,0.4-0.1,1-0.2C3.8,5.9,4,5.9,4.6,5.8c-0.1,0.4-0.1,1-0.1,1.6C4.4,8.2,4.4,9,4.4,9.1 c0,0.2,0,1,0,1.2c0,0.7,0,1,0.1,1.3c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.2,0.3,0.2,0.5,0.2c0.2-0.1,0.4-0.3,0.4-0.5v-0.1 c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2c0-0.3,0-0.6,0-0.8c0,0,0-0.3,0-0.6c0-0.2,0-0.5,0-1c0-0.2,0-0.4,0-1.1c0-0.5,0-1.3,0.1-1.9 c0,0,0,0,0.1,0c0.1,0,0.4-0.1,0.8-0.1c0.5-0.1,1.3-0.1,1.6-0.2c0.1,0,0.3-0.1,0.3-0.1V5.3c0,0,0-0.1,0-0.3c0-0.1,0-0.1,0-0.1V4.8 c0.1,0,0-0.1,0-0.1c-0.1,0-0.1-0.1-0.1-0.1L8.3,4.5c-0.1,0,0,0-0.1,0c-0.1,0-0.2,0-0.2,0s0,0-0.1,0C7.6,4.6,6.3,4.8,5.5,4.9 C4.5,5.1,3,5.4,2.1,5.6c-0.2,0-0.2,0.2-0.2,0c0,0.1,0,0.2,0,0.2c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0.1,0.2C2,6.2,2.1,6.3,2.2,6.3z'/><path fill='#FFF' d='M9.9,10.8c0.2,0.5,0.7,1.3,1.2,1.3c0.6,0,0.8-0.9,1.1-1.6C12.6,9.6,12.8,9,13,8.4c0.2-0.6,1-2.6,1.1-2.8 c0.1,0,0.2-0.3,0.3-0.3c0.1-0.1,0.2-0.3,0-0.4c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.3-0.2-0.4-0.2c-0.1,0-0.3,0.1-0.5,0.2 C13.1,4.6,13,4.7,13,4.8c0,0.1-0.1,0.3-0.1,0.4c0,0-0.1,0.6-0.3,1.2C12.4,7,12.2,7.5,12,8c-0.2,0.4-0.5,1.3-0.8,1.9 c-0.2,0.4-0.3,0.6-0.4,0.6c-0.1,0-0.3-0.7-0.4-1.3c-0.1-0.7-0.3-1.5-0.3-2c0-0.4-0.1-1.4-0.1-1.7S9.8,5,9.7,4.9 c-0.1,0-0.3-0.1-0.4-0.1c-0.2,0-0.4,0.4-0.4,0.7c0,0.2,0,0.3,0,0.4c0,0,0,0.1,0,0.2C9,6.7,9.2,7.8,9.3,8.6 C9.5,9.4,9.7,10.3,9.9,10.8z'/></g>",
default:{title:""},init:function Rb(b,a){a.name="PoweredBy";Rb.base.call(this,b,a);b.add(["start","enableInteraction"],this.$f(this.fadeIn));b.add("disableInteraction",this.$f(this.fadeOut))},createElement:function K(){var a=this.player.config.Partner.brand,c=this.player.config.VERSION.substr(0,7),d=a?"#":"https://www.brid.tv/pricing";var e=a?(this.player.config.translate&&this.player.config.translate.poweredBy?this.player.config.translate.playerVersion:"Player Version")+" "+c:b.generateSVG(this.svg)+
(this.player.config.translate&&this.player.config.translate.poweredBy?this.player.config.translate.poweredBy:"Powered By")+" Brid Player "+c;c=K.base.call(this,"li",{className:""});a=K.base.call(this,a?"div":"a",{className:"",href:d,target:"_blank",innerHTML:e});c.appendChild(a);return c},appendClassName:function Sb(){return"brid-share-control brid-control "+Sb.base.call(this)},onClick:function(){this.player.trigger("closeMenu");this.player.trigger("userInteractionLow")}});Brid.ShortcutsScreen=a.extend({default:{children:{shortuctsList:{}}},
init:function Tb(b,a){Tb.base.call(this,b,a);b.add("openShortcutsScreen",this.$f(this.onOpenShortcutsScreen));b.add(["disableInteraction","closeShortcutsScreen"],this.$f(this.onCloseShortcutsScreen));b.add("ready",this.$f(function(){var a=this.close=new Brid.Close(b,{name:"Close"});B(a,{top:"1em",right:"1em"});a.addClass("bp-pos-abs");a.addClass("shortcut-screen-close");a.add("close",this.$f(function(){b.trigger("closeShortcutsScreen")}));this.addChild(a)}))},createElement:onOpenShortcutsScreen:function(){this.open=!0;this.removeClass("brid-hidden");this.player.add("closeShareScreen",this.$f(this.onCloseShortcutsScreen))},onCloseShortcutsScreen:function(){this.open=!1;this.addClass("brid-hidden");this.player.remove("closeShareScreen",this.$f(this.onCloseShortcutsScreen));this.player.add("openShortcutsScreen",this.$f(this.onOpenShortcutsScreen));this.player.touch.el.focus({preventScroll:!0})}});Brid.ShortuctsList=
a.extend({list:[["Play / Pause","SPACE"],["Increase Volume","&#8593"],["Decrease Volume","&#8595"],["Seek Forward","&#8594"],["Seek Backward","&#8592"],["Seek to %","0-9"],["Toggle Captions","c"],["Toggle Fullscreen","f"],["Mute / Unmute","m"]],init:function Vb(a,c){if(a.config.contextMenu){var d=b.getLocalStorage("Brid_shortcuts");a.config.shortcutsEnabled&&(a.config.shortcutsEnabled=!d||"1"===d);Vb.base.call(this,a,c)}},createElement:function t(){var b=this.player,a=t.base.call(this,"div",{className:"brid-shortcuts-list"});
var c=b.config.translate&&b.config.translate.shortcuts?b.config.translate.shortcuts:"Keyboard Shortcuts";var d=t.base.call(this,"div",{className:"brid-shortcut-holder",innerHTML:""});var e=t.base.call(this,"span",{className:"",innerHTML:c});var g=t.base.call(this,"span",{className:"brid-shortcut-toggle",innerHTML:""});c=t.base.call(this,"input",{className:"sht hidden",type:"checkbox",id:"bridkeystoggle",checked:this.player.config.shortcutsEnabled});f=t.base.call(this,"label",{className:"sht_tgl",
htmlFor:c.id});c.addEventListener("change",function(a){Brid.Util.setLocalStorage("Brid_shortcuts",a.target.checked?"1":"0",!1,b.config);b.config.shortcutsEnabled=a.target.checked});g.appendChild(c);g.appendChild(f);d.appendChild(e);d.appendChild(g);a.appendChild(d);for(g=0;g<this.list.length;g++){d=t.base.call(this,"div",{className:"brid-shortcut-holder",innerHTML:""});e=t.base.call(this,"span",{className:"brid-shortcut-desc",innerHTML:""});c=t.base.call(this,"span",{className:"brid-shortcut",innerHTML:""});
var h="shortcode_"+this.list[g][0].replace(/[^a-zA-Z0-9]/g,"").toLowerCase();e.innerHTML=b.config.translate&&b.config.translate[h]?b.config.translate[h]:this.list[g][0];c.innerHTML=this.list[g][1];d.appendChild(e);d.appendChild(c);a.appendChild(d)}return a}});Brid.Share=g.extend({svg:"24 24'><path fill='#fff' d='M12.74,13.06 v4.9 l9.8,-7.3 l-9.8,-7.4 v4.6 c-11.8,0 -12.2,12.5 -12.2,12.5 C3.94,14.96 6.34,13.06 12.74,13.06 z' />",default:{title:"Share Video"},init:function Wb(a,c){c.name="OpenShare";
0!=a.config.shareScreen&&(a.config.translate&&a.config.translate.share&&(this.default.title=a.config.translate.share),Wb.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.OpenShare||this.svg),a.add(["start","enableInteraction"],this.$f(this.fadeIn)),a.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function Xb(){return"brid-share-control brid-control "+Xb.base.call(this)},onClick:function(){this.player.trigger("openShareScreen");this.player.trigger("userInteractionLow")}});
Brid.Pip=g.extend({svg:{pipOff:"24 24'> <path fill='none' d='M0 0h24v24H0z'/><path fill='currentColor' style='color:white;' fill-rule='nonzero' d='M21 3a1 1 0 0 1 1 1v7h-2V5H4v14h6v2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18zm0 10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h8zm-1 2h-6v4h6v-4z'/>",pipOn:"24 24'> <path fill='none' d='M0 0h24v24H0z'/><path fill='currentColor' style='color:white;' fill-rule='nonzero' d='M21 3a1 1 0 0 1 1 1v7h-2V5H4v14h6v2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18zm0 10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h8z'/>"},
default:{title:"Picture in picture"},init:function Yb(a,c){c.name="pip";if(a.config.pip){if(!("pictureInPictureEnabled"in h))return Brid.log("PIP init : The Picture-in-Picture Web API is not available.");if(!h.pictureInPictureEnabled)return Brid.log("PIP init : The Picture-in-Picture Web API is disabled.");a.config.translate&&a.config.translate.pip&&(this.default.title=a.config.translate.pip);Yb.base.call(this,a,c);this.el.innerHTML=b.generateSVG(this.svg.pipOff,this.player.id);this.currentTechName=
"";this.player.isPipActive=!1;this.onLoadedMetaData=this.onLoadedMetaData.bind(this);a.add("enterpictureinpicture",this.$f(this.onEnterPictureInPicture));a.add("leavepictureinpicture",this.$f(this.onLeavePictureInPicture));a.add("fullscreenchange",this.$f(this.onFullScreenChange));a.add("adStart",this.$f(this.onAdStart));a.add("adsCompleted",this.$f(this.onAdsCompleted));a.add(["start","enableInteraction"],this.$f(this.fadeIn));a.add("disableInteraction",this.$f(this.fadeOut));a.add("newContent",
this.$f(this.onNewContent));a.add("ended",this.$f(this.onEnded));a.add("playlistComplete",this.$f(this.onPlaylistComplete));a.add("destroyBefore",this.$f(this.onDestroyBefore));this.tryToShowPIPButton()}},appendClassName:function Zb(){return"brid-share-control brid-control brid-pip "+Zb.base.call(this)},findAdvertisingVideoTag:function(){for(var b,a=Array.from(this.player.adsManager.el.getElementsByTagName("video")),c=0;c<a.length;c++)if(b=a[c],b.src)return b;a=Array.from(this.player.adsManager.el.getElementsByTagName("lima-video"));
for(c=0;c<a.length;c++)if(b=a[c],b.src)return b;if(b=this.player.adsManager.el.querySelector('[title="Advertisement"]'))return b},tryToShowPIPButton:function(){var a=!0;if(b.isFF()||b.isOpera())a=!1;a?this.show():this.hide()},enterPictureInPicture:function(b){Brid.log("PIP enterPictureInPicture : called()");this.waitForVideoTagReadyStateCompleted(b,function(){b.requestPictureInPicture().then(function(){Brid.log("PIP enterPictureInPicture : success!")}).catch(function(b){Brid.log("PIP enterPictureInPicture : ERROR",
b)})})},leavePictureInPicture:function(){return this.player.isPipActive?h.exitPictureInPicture().then(.catch(:Brid.log("PIP leavePictureInPicture : PIP mode was not active. Do nothing.")},onEnterPictureInPicture:function(){Brid.log("PIP onEnterPictureInPicture : called()!");if((this.player.getAdInProgress()?this.findAdvertisingVideoTag():this.player.tag)!==h.pictureInPictureElement)return Brid.log("PIP onEnterPictureInPicture : PIP mode was entered, but on a different player. Exit.");
this.player.isPipActive=!0;this.el.innerHTML=b.generateSVG(this.svg.pipOn,this.player.id)},onLeavePictureInPicture:function(){Brid.log("PIP onLeavePictureInPicture : called()!");this.player.isPipActive=!1;this.el.innerHTML=b.generateSVG(this.svg.pipOff,this.player.id)},onFullScreenChange:function(){Brid.log("PIP onFullScreenChange : called()!");this.leavePictureInPicture()},waitForVideoTagReadyStateCompleted:function(b,a){var c=this;setTimeout(function(){Brid.log("PIP waitForVideoTagReadyStateCompleted : setTimeout() called!");
3<b.readyState?a():c.waitForVideoTagReadyStateCompleted(b,a)},50)},onAdStart:function(){if(!this.player.isPipActive)return Brid.log("PIP onAdStart : PIP mode was not active. Do nothing.");if(this.adBreakStarted)return Brid.log("PIP onAdStart : onAdStart() handler was already called. Do nothing.");if(this.player.daiAdManagerCall("getActiveSessionProperty","currentAd"))return Brid.log("PIP DAI ad is in progress, no need to switch PIP element.");if(b.isiOSSafari()&&this.player.Advertising.currentAdsManager&&
"Brid.VAST"===this.player.Advertising.currentAdsManager.name)return Brid.log("PIP onAdStart : IOS Safari, with the brid parser, uses the same video element. Cancel switch");this.adBreakStarted=!0;var a=this.findAdvertisingVideoTag();Brid.log("PIP onAdStart : ad video node",a);a?this.enterPictureInPicture(a):Brid.log("PIP onAdStart [ERROR] : ad video node was undefined.")},onAdsCompleted:function(){Brid.log("PIP onAdsCompleted : called()");if(!this.adBreakStarted)return this.adBreakStarted=!1,Brid.log("PIP onAdsCompleted : onAdStart() handler did NOT switch to the ad video node tag. Do nothing");
this.adBreakStarted=!1;if(!this.player.isPipActive)return Brid.log("PIP onAdsCompleted : PIP mode was not active. Do nothing.");if("2"===this.player.adsManager.currentAdObject.adType&&!this.player.isNextQueued())return Brid.log("PIP onAdsCompleted : Postroll ended, and no new video is queued. Do nothing.");if(this.player.loadedmetadataDispatched)this.onLoadedMetaData();else this.player.tag.addEventListener("loadedmetadata",this.onLoadedMetaData)},onLoadedMetaData:function(){Brid.log("PIP onLoadedMetaData : called()!");
this.player.tag.removeEventListener("loadedmetadata",this.onLoadedMetaData);this.enterPictureInPicture(this.player.tag)},onNewContent:function(){Brid.log("PIP onNewContent : onNewContent called()!");this.tryToShowPIPButton();if(!this.player.isPipActive)return Brid.log("PIP onNewContent : PIP mode was not active. Do nothing.");if(this.player.hasPreroll)return Brid.log("PIP onNewContent : Preroll is scheduled to appear. onAdStart() method will do the rest.");Brid.log("PIP this.currentTechName",this.currentTechName);
this.currentTechName!==this.player.techName&&(Brid.log("PIP onNewContent : Tech has changed, try to enter PIP!"),this.enterPictureInPicture(this.player.tag));this.currentTechName=this.player.techName},onEnded:onPlaylistComplete:function(){Brid.log("PIP onPlaylistComplete : called()!");this.leavePictureInPicture()},onDestroyBefore:function(){Brid.log("PIP onDestroyBefore : called()!");this.leavePictureInPicture()},onClick:function(){Brid.log("PIP onClick : called()!");this.player.trigger("userInteraction");
this.player.isPipActive?this.leavePictureInPicture():this.enterPictureInPicture(this.player.tag)}});Brid.Playlist=g.extend({svg:"240 240'><g><rect x='38.2' y='29.1' fill='#FFFFFF' width='163.6' height='9.1'/><rect x='29.1' y='47.3' fill='#FFFFFF' width='181.8' height='9.1'/><path fill='#FFFFFF' d='M218.7,65.5H21.3c-0.7,0-1.3,0.5-1.3,1.2v143.1c0,0.6,0.6,1.2,1.3,1.2h197.4c0.7,0,1.3-0.5,1.3-1.2V66.6C220,66,219.4,65.5,218.7,65.5z M92.7,165.5v-54.5l63.6,27.3L92.7,165.5z'/></g>",default:{title:"View Playlist"},
init:function $b(a,c){c.name="OpenPlaylist";0!=a.config.playlistScreen&&(a.config.translate&&a.config.translate.playlist&&(this.default.title=a.config.translate.playlist),$b.base.call(this,a,c),this.el.innerHTML=b.generateSVG(a.config.Skin.OpenPlaylist||this.svg),a.add(["start","enableInteraction"],this.$f(this.fadeIn)),a.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function ac(){return"brid-playlist-control brid-control "+ac.base.call(this)},onClick:);Brid.PreviousButtonOverlay=Brid.OverlayButton.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g>",default:{title:"Previous Video"},init:function cc(a,c){c.name="Previous";if(0!=a.config.next){a.config.translate&&
a.config.translate.prev_video&&(this.default.title=a.config.translate.prev_video);cc.base.call(this,a,c);this.el.innerHTML=b.generateSVG(this.player.config.Skin.Previous||this.svg,this.player.id);this.fadeOut();if(a.config.player_mod&&"native"==a.config.player_mod)return this.hide(),!1;a.add(["start","enableInteraction"],this.$f(this.checkToShow))}},appendClassName:function bc(){return"brid-overlay-previous-button "+bc.base.call(this)},onClick:function(){this.player.previous()},checkToShow:function(){var b=
this.player;"loop"!=b.config.afterPlaylistEnd&&0==b.currentIndex||b.getAdInProgress()||1==b.playlistLength?(this.hide(),this.fadeOut()):(this.show(),this.fadeIn())}});Brid.RewindButtonOverlay=Brid.OverlayButton.extend({svg:"50 41.2'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g><g fill='#ffffff'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g>",
default:{title:"Rewind 10 Seconds"},init:function dc(a,c){c.name="Rewind";a.config.translate&&a.config.translate.rewind&&(this.default.title=a.config.translate.rewind);dc.base.call(this,a,c);this.el.innerHTML=b.generateSVG(this.player.config.Skin.Rewind||this.svg,this.player.id);this.fadeOut();if(a.config.player_mod&&"native"==a.config.player_mod)return this.hide(),!1;a.add(["start","enableInteraction"],this.$f(this.checkToShow))},appendClassName:function ec(){return"brid-overlay-rewind-button "+
ec.base.call(this)},onClick:function(){this.player.progressControl.seekBar.stepBack(10);this.player.trigger("userInteraction")},checkToShow:);Brid.NextButtonOverlay=Brid.OverlayButton.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g>",
default:{title:"Next Video"},init:function fc(a,c){c.name="Next";if(0!=a.config.next){a.config.translate&&a.config.translate.next_video&&(this.default.title=a.config.translate.next_video);fc.base.call(this,a,c);this.el.innerHTML=b.generateSVG(this.player.config.Skin.Next||this.svg,this.player.id);this.fadeOut();if(a.config.player_mod&&"native"==a.config.player_mod)return this.hide(),!1;a.add(["start","enableInteraction","playlistchange"],this.$f(this.checkToShow))}},appendClassName:function gc(){return"brid-overlay-next-button "+
gc.base.call(this)},onClick:checkToShow:function(){var b=this.player;"loop"!=b.config.afterPlaylistEnd&&b.currentIndex==b.videos.length-1||b.getAdInProgress()||1==b.playlistLength?(this.hide(),this.fadeOut()):(this.show(),this.fadeIn())}});Brid.PlayButtonOverlay=Brid.OverlayButton.extend({svg_play:"60 59.8'><path fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3' d='M5.5,58.8V1l51.7,29L5.5,58.8z'></path><path fill='#FFFFFF' d='M5.5,58.8V1l51.7,29L5.5,58.8z'></path>",
svg_pause:"60 59.8'><g fill='#000' transform='scale(1.03) translate(0 0.1)' opacity='0.3'><rect x='16.0' y='14.1' width='10.1' height='33.7'/><rect x='34.1' y='14.1' width='10.1' height='33.7'/></g><g><rect x='16.0' y='14.1' fill='#FFFFFF' width='10.1' height='33.7'/><rect x='34.1' y='14.1' fill='#FFFFFF' width='10.1' height='33.7'/></g>",svg_repeat:"20.4 20'><path transform='scale(1.05)' fill='#000' opacity='0.3' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/><path fill='#FFFFFF' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/>",
default:{title:"Play Video",title_pause:"Pause Video",title_repeat:"Repeat"},init:function hc(a,c){a.config.translate&&a.config.translate.play&&(this.default.title=a.config.translate.play);a.config.translate&&a.config.translate.pause&&(this.default.title_pause=a.config.translate.pause);a.config.translate&&a.config.translate.repeat&&(this.default.title_repeat=a.config.translate.repeat);hc.base.call(this,a,c);this.name="Brid.PlayButtonOverlay";Brid.log("PlayButtonOverlay init");d()&&(this.skin={play:a.config.customPlayButton?
'<img src="'+a.config.customPlayButton+'" />':b.generateSVG(a.config.Skin.PlayButtonOverlay||this.svg_play,a.id),pause:b.generateSVG(a.config.Skin.PauseButtonOverlay||this.svg_pause,a.id),repeat:b.generateSVG(a.config.Skin.Repeat||this.svg_repeat,a.id)},this.title={play:this.default.title,pause:this.default.title_pause,repeat:this.default.title_repeat});a.config.primaryColor&&this.setPrimaryColor(a.config.primaryColor);a.add(["start","enableInteraction"],this.$f(this.checkToShow));a.add(["play","pause"],
this.$f(this.onPlayPause));a.add("requestAd",this.$f(this.onRequestAd));a.addOnce("ready",this.$f(this.onPlayButtonReady))},appendClassName:onPlayButtonReady:onClick:function(a){this.player.isReady&&(this.player.trigger("userInteraction"),this.player.togglePlay(a))},onPlayPause:function(){this.player.config.autoplay_on_ad&&this.player.waitingForAd||this.skin&&(this.player.paused()?
this.toggleSkin(this.player.ended()?"repeat":"play"):this.toggleSkin("pause"))},toggleSkin:function(a){!this.player.tech.support.hasPoster&&d()&&this.skin[a]&&(this.skinActive=a,this.el.innerHTML=this.skin[a],this.el.title=this.title[a],this.primaryColor&&this.setPrimaryColor(this.primaryColor))},setPrimaryColor:function(a){this.primaryColor=a;if(this.player.config.Skin.id&&1==this.player.config.Skin.id)if(this.skinActive&&"play"!=this.skinActive&&"repeat"!=this.skinActive){var b=this.el.getElementsByTagName("rect")[2],
c=this.el.getElementsByTagName("rect")[3];b&&b.setAttribute("fill",a);c&&c.setAttribute("fill",a)}else(b=this.el.getElementsByTagName("path")[1])&&b.setAttribute("fill",a)},toDefault:function(){var a=this.player;Brid.log("PlayButtonOverlay toDefault");a.getAdInProgress()?this.hide():(this.toggleSkin("play"),this.show(),this.fadeIn())},checkToShow:function(){this.player.getAdInProgress()?(this.hide(),this.fadeOut()):(this.show(),this.fadeIn())},onRequestAd:function(){b.hasClass(this.player.el,"brid-started")||
this.player.config.autoplay_on_ad||(this.hide(),this.fadeOut())},resetSkin:function jc(){this.skin={play:this.player.config.customPlayButton?'<img src="'+this.player.config.customPlayButton+'" />':b.generateSVG(this.player.config.Skin.PlayButtonOverlay||this.svg_play,this.player.id),pause:b.generateSVG(this.player.config.Skin.PauseButtonOverlay||this.svg_pause,this.player.id),repeat:b.generateSVG(this.player.config.Skin.Repeat||this.svg_repeat,this.player.id)};jc.base.call(this);this.onPlayPause()}});
Brid.VideoBackground=Brid.Class.extend({active:!1,shouldUpdate:!0,updateRunning:!1,init:function(a,c){this.player=a;a.add("start",b.$f(this,this.onNewContent));a.add(["play","pause","abort","ended"],b.$f(this,this.shouldWeUpdate));a.add(["loadedmetadata","playerresize"],b.$f(this,this.resize));a.add("stickyChange",b.$f(this,this.stickyChanged));a.addOnce("ready",b.$f(this,this.onNewContent))},createElement:function(){this.canvas||(Brid.log("Brid VideoBackground create element"),this.div=h.createElement("div"),
this.div.className="brid-video-bg",this.canvas=h.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.player.playerHolder.el.insertBefore(this.div,this.player.playerHolder.el.childNodes[0]),this.div.appendChild(this.canvas),this.resize())},onNewContent:function(){Brid.log("Brid VideoBackground onNewContent",this.player.currentSource.video_background);if(this.active=this.player.currentSource.video_background)this.createElement(),this.shouldWeUpdate()},shouldWeUpdate:function(){this.shouldUpdate=
this.active&&(!this.player.paused()||this.updateIfPaused)&&!this.player.getAdInProgress();this.active&&this.canvas&&this.shouldUpdate&&!this.updateRunning&&(Brid.log("Brid VideoBackground startUpdating"),this.updateRunning=!0,e.requestAnimationFrame(this.updateCanvas.bind(this)))},stickyChanged:function(){this.updateIfPaused=!0;this.shouldWeUpdate();clearTimeout(this.th);this.th=setTimeout(bind(this),200)},updateCanvas:function(a){this.context.drawImage(this.player.tag,
0,0,this.vw,this.vh);this.shouldUpdate?e.requestAnimationFrame(this.updateCanvas.bind(this)):(Brid.log("Brid VideoBackground stopUpdating"),this.updateRunning=!1)},resize:function(){this.canvas&&(this.vw=this.canvas.width=this.player.tag.videoWidth,this.vh=this.canvas.height=this.player.tag.videoHeight)}});Brid.Credits=a.extend({init:function kc(a,b){this.showInside=!!a.config.credits_inside||a.config.playlist&&a.config.playlist.widget_type;kc.base.call(this,a,b);a.add(["newContent","start"],this.$f(this.checkToShow));
a.add("enableInteraction",this.$f(function(){this.setVisible(!0)}));a.add("disableInteraction",this.$f();a.add("playerresize",this.$f(this.resize));a.addOnce("ready",this.$f(this.checkToCreate));a.credits=this;this.hide()},checkToCreate:function(){!this.inited&&this.player.videos.find(&&(Brid.log("Credits initializing"),this.inited=!0,this.show(),this.showInside?(b.insertAfter(this.player.tag,this.el),this.checkToShow()):
(b.insertAfter(this.player.el,this.el),this.setDarkOrLightColor(),this.checkToShow(),this.player.config.center_in_parent&&this.addClass("brid-center")))},createElement:function lc(){return lc.base.call(this,"div",{className:this.showInside?"brid-credits-in":"brid-credits"})},checkToShow:function(){var a=this.player.currentSource.credits&&this.player.currentSource.credits.length?this.player.currentSource.credits:null;a?(this.el.innerHTML=(this.player.config.translate&&this.player.config.translate.source||
"Source")+": "+a,this.resize(),this.setVisible(!0),this.checkToCreate()):(this.el.innerHTML="&nbsp;",this.setVisible(!1))},setVisible:function(a){!this.showInside&&this.inited&&(a?this.addClass("brid-credits-visible"):this.removeClass("brid-credits-visible"))},resize:function(){!this.showInside&&this.inited&&(this.el.style.width=this.player.el.clientWidth+"px")},setDarkOrLightColor:function(){function a(b){var c=h.createElement("div");h.head.appendChild(c);var d=e.getComputedStyle(c).backgroundColor;
h.head.removeChild(c);c=e.getComputedStyle(b).backgroundColor;return c!=d?c:b.parentElement?a(b.parentElement):d}var c=a(this.el),d=b.rgbValues(c),g=.2126*d.r+.7152*d.g+.0722*d.b,d=120<g||!d.g&&!d.g&&!d.b&&!d.a;Brid.log("Credits bgColor",c,"luminosity",g,"isLight",d);d?this.removeClass("brid-credits-dark"):this.addClass("brid-credits-dark")}});e.$bp.plugin("bridcontrols",function(a){a=a||this;a.isReady?a.addChild(new e.$bp.ControlBar(a,config)):e.$bp.Util.merge(a.config.children,{controls:{childClass:"ControlBar"}})});
L.trigger(h,"bridpluginloaded")})(window,document);
