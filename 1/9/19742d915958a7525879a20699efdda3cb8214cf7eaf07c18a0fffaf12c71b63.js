// For license information, see `https://assets.adobedtm.com/extensions/EP5e9ec493dfa0465eaa797b523b09d3f7/AppMeasurement_Module_AudienceManagement.js`.
function AppMeasurement_Module_AudienceManagement(e){var t=this;t.s=e;var n=window;n.s_c_in||(n.s_c_il=[],n.s_c_in=0),t._il=n.s_c_il,t._in=n.s_c_in,t._il[t._in]=t,n.s_c_in++,t._c="s_m",t.setup=t.isReady=t.getEventCallConfigParams=t.passData=!function(){"use strict";var r,o,a;"function"!=typeof window.DIL&&(window.DIL=function(n,e){ar c,s,I,r,u,h,i,o,a,d,l,f,y,p,g,m,b,v,D,C,O,S=[],_={};n!==Object(n)&&(n={}),I=n.partner,r=n.containerNSID,u=n.mappings,h=n.uuidCookie,i=!0===n.enableErrorReporting,o=n.visitorService,a=n.declaredId,d=!0===n.delayAllUntilWindowLoad,l=t(n.secureDataCollection),f="boolean"==typeof n.isCoopSafe?n.isCoopSafe:null,y=t(n.enableHrefererParam),p=t(n.enableLogging),g=t(n.enableUrlDestinations),m=t(n.enableCookieDestinations),b=!0===n.disableDefaultRequest,v=n.afterResultForDefaultRequest,D=n.visitorConstructor,C=!0===n.disableCORS,O=!0===n.ignoreHardDependencyOnVisitorAPI,i&&DIL.errorModule.activate(),O&&S.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var w=!0===window._dil_unit_tests;if((c=e)&&S.push(c+""),!I||"string"!=typeof I){var R={name:"error",message:c="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(R),new Error(c)}if(c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",(r||"number"==typeof r)&&(r=parseInt(r,10),!isNaN(r)&&0<=r&&(c="")),c&&(r=0,S.push(c),c=""),(s=DIL.getDil(I,r))instanceof DIL&&s.api.getPartner()===I&&s.api.getContainerNSID()===r)return s;if(!(this instanceof DIL))return new DIL(n,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+I+" and containerNSID = "+r);DIL.registerDil(this,I,r);var E={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:logOnce:,P={IS_HTTPS:l||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:)};P.IS_IE_LESS_THAN_10="number"==typeof P.IE_VERSION&&P.IE_VERSION<10;var L={stuffed:{}},A={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:r+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:waitForMidToReleaseRequests:releaseRequests:getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:getCustomerIDs:getCustomerIDsQueryString:getIsOptedOut:isOptedOutCallback:getLoadTimeout:,declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:getDeclaredIdQueryString:,registerRequest:processVisitorAPI:getCoopQueryString:;_.requestController=q;var j,T,M={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:process:addMessage:function(e){this.messages.push(e)},addDestination:sendMessages:publishDestinations:getPublishDestinationsVersion:,V={traits:function(e){return x.isValidPdata(e)&&(A.sids instanceof Array||(A.sids=[]),N.extendArray(A.sids,e)),this},pixels:logs:customQueryParams:signals:declaredId:result:function(e){return"function"==typeof e&&(A.callback=e),this},afterResult:useImageRequest:clearData:submit:getPartner:function(){return I},getContainerNSID:function(){return r},getEventLog:getState:idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:passData:getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:setAsCoopSafe:function(){return f=!0,this},setAsCoopUnsafe:getEventCallIabSignals:,k={corsMetadata:(j="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(j="XMLHttpRequest"),{corsType:j}),getCORSInstance:submitRequest:createQueuedRequest:defaultCallback:makeRequestSrcData:fireRequest:fireImage:fireCORS:handleCORSError:,x={isValidPdata:isValidLogdata:isEmptyObject:removeEmptyArrayValues:isPopulatedString:,N={convertObjectToKeyValuePairs:encodeAndBuildRequest:getCookie:setCookie:extendArray:extendObject:getMaxCookieExpiresInMinutes:replaceMethodsWithFunction:,F=(T=_.requestController,{exists:null,instance:null,aamIsApproved:null,init:checkIfExists:callback:isApproved:isIabContext:);_.optIn=F;var Q,H,U,B,G=(H=(Q=_).requestController,U=Q.optIn,B={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:hasGoSignal:fetchConsentData:getQueryString:getQueryStringObject:checkQueryStringObject:);_.iab=G,"error"===I&&0===r&&window.addEventListener("load",;var W=!1,X=K=J=document;"error"!==I&&(DIL.windowLoaded?X():"complete"!==J.readyState&&"loaded"!==J.readyState?window.addEventListener("load",:(DIL.windowLoaded=!0,X())),q.declaredId.setDeclaredId(a,"init"),F.init(),G.init(),q.processVisitorAPI(),P.IS_IE_LESS_THAN_10&&N.replaceMethodsWithFunction(V,,this.api=V,this.getStuffedVariable=this.validators=x,this.helpers=N,this.constants=P,this.log=S,this.pendingRequest=A,this.requestController=q,this.destinationPublishing=M,this.requestProcs=k,this.units=_,this.initConfig=n,this.logger=E,w&&(this.variables=L,this.callWindowLoadFunctions=X)},DIL.extendStaticPropertiesAndMethods=DIL.extendStaticPropertiesAndMethods({version:"9.3",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(e){var t=e;this.windowLoaded="function"==typeof t?!!t():"boolean"!=typeof t||t},create:registerDil:getDil:dexGetQSVars:),DIL.errorModule=(r=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),a=!(o={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:handleError:pixelMap:o}),DIL.tools={},DIL.modules={helpers:{}})}();