callback({"country_code":"ES","country_name":"Spain","city":null,"postal":null,"latitude":40.4172,"longitude":-3.684,"IPv4":"147.83.130.27","state":null})手机号/邮箱密码找回</title>
	<meta name="filetype" content="0">
	<meta name="publishedtype" content="1">
	<meta name="pagetype" content="2">
	<meta name="format-detection" content="telephone=no">
	<meta name="msapplication-tap-highlight" content="no" />

	<meta name="spm-id" content="C86790">
	<meta name="catalogs" content="PAGEkId0kTKxlI12JOYsNph1220729">
	<meta name=keywords content="央视网 中央广播电视总台 央视 CCTV CCTV.com 央视影音 新闻 体育 熊猫  CCTV1新闻联播 领导人视频 央视快评 小央视频">
	<meta name=description content="手机号/邮箱密码找回">
	<meta property="og:title" content="手机号/邮箱密码找回" />
	<meta property="og:image" content="" />
	<meta property="og:description" content="手机号/邮箱密码找回" />
	<link rel="apple-touch-icon-precomposed" href="" />
	
	<link rel="stylesheet" href="//r.img.cctvpic.com/nettv/cbpat/ARITI/style/common.css">
	<link rel="stylesheet" href="//r.img.cctvpic.com/photoAlbum/templet/common/DEPA1658908558759922/css.css">
 
    <script type="text/javascript" src="//r.img.cctvpic.com/library/script/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="//p2.img.cctvpic.com/photoAlbum/templet/common/DEPA1566972414095866/echo.js"></script>
	<script type="text/javascript" src="//res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
	<script type="text/javascript" src="//g.alicdn.com/dingding/open-develop/1.9.0/dingtalk.js"></script>
	<script src="//r.img.cctvpic.com/photoAlbum/templet/common/DEPA1486437585241505/configtoolV1.1.js"></script>

                              <script>!function(a){var e="https://s.go-mpulse.net/boomerang/",t="addEventListener";if("False"=="True")a.BOOMR_config=a.BOOMR_config||{},a.BOOMR_config.PageParams=a.BOOMR_config.PageParams||{},a.BOOMR_config.PageParams.pci=!0,e="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="7XL4G-6N3JX-QZ6JL-GESDR-2KLZL",function(){function n(e){a.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!a.BOOMR||!a.BOOMR.version&&!a.BOOMR.snippetExecuted){a.BOOMR=a.BOOMR||{},a.BOOMR.snippetExecuted=!0;var i,_,o,r=document.createElement("iframe");if(a[t])a[t]("load",n,!1);else if(a.attachEvent)a.attachEvent("onload",n);r.src="javascript:void(0)",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="width:0;height:0;border:0;display:none;",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(r,o);try{_=r.contentWindow.document}catch(O){i=document.domain,r.src="javascript:var d=document.open();d.domain='"+i+"';void(0);",_=r.contentWindow.document}_.open()._l=function(){var a=this.createElement("script");if(i)this.domain=i;a.id="boomr-if-as",a.src=e+"7XL4G-6N3JX-QZ6JL-GESDR-2KLZL",BOOMR_lstart=(new Date).getTime(),this.body.appendChild(a)},_.write("ment._l();">'),_.close()}}(),"".length>0)if(a&&"performance"in a&&a.performance&&"function"==typeof a.performance.setResourceTimingBufferSize)a.performance.setResourceTimingBufferSize();!function(){if(BOOMR=a.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var e=""=="true"?1:0,t="",n="snjyeg3illguezn3bdwq-f-ad85b5c45-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,_={"ak.v":"36","ak.cp":"78072","ak.ai":parseInt("531170",10),"ak.ol":"0","ak.cr":54,"ak.ipv":4,"ak.proto":"http/1.1","ak.rid":"5141c90","ak.r":30832,"ak.a2":e,"ak.m":"","ak.n":"essl","ak.bpcip":"147.83.130.0","ak.cport":51944,"ak.gh":"104.90.205.62","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.csrc":"-","ak.acc":"reno","ak.t":"1706756333","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==ukQ0tGWZW4Z1vHa0ysj7+By/ixJqABUiiRm2u5Mct38NALTr/hYSbdzqUY2lLk8UigcXYFCr1Dr4XcWdBv+aFO+sEyzhNUvNidAeIxUZIdrKV6BKQILb/nrdBf0dLmIV/gKaM7ShUrn8kXA+o66ye+BzyJzCppyRu8syBdU0j/gHzAQBwHmaCsNBajSuE/9BrGSucHkCNMlBwsqNKgp6eskf+77sgdu9bQYtIOgijVf7QpELAbi6ilewfdC5JgEKqyi7lGjgOtUGElFN3mQ9cdyEfVJzRYlHVvow8LkBw8nDvG3i967qUGs2wBbsCCpqXI5db6/vpudF7FN1+acj2nW6ib+huQJojCwd0Z+x0fcqGd/M1EbqrKE/Ab7N50abAMylKQu750Xsivd9wFkXDxZaF94sDuaRrzXugtG4DxE=","ak.pv":"188","ak.dpoabenc":"","ak.tf":i};if(""!==t)_["ak.ruds"]=t;var o={i:!1,av:function(e){var t="http.initiator";if(e&&(!e[t]||"spa_hard"===e[t]))_["ak.feo"]=void 0!==a.aFeoApplied?1:0,BOOMR.addVar(_)},rv:function(){var a=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.m","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.r","ak.acc","ak.t","ak.tf"];BOOMR.removeVar(a)}};BOOMR.plugins.AK={akVars:_,akDNSPreFetchDomain:n,init:function(){if(!o.i){var a=BOOMR.subscribe;a("before_beacon",o.av,null,null),a("onbeacon",o.rv,null,null),o.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>
<body data-spm="PkId0kTKxlI1">


<div id="page_body" class="page_wrap">
			
<style type="text/css">
    .header ul .li4 a:hover {color: #ffffff!important;}
    .header ul .li4 .selectMenu a:hover{color: #bf0614 !important;}
    .vip19981_topnav .slide_down .slide { width: 100%; position: absolute; top: 0; overflow: hidden; display: inline-block; z-index: 500; }
    .vip19981_topnav .slide_down .slide .slide_con { display: block; background-color: #f5f5f5; }
    .vip19981_topnav .slide_down .slide ul { display: block; }
    .vip19981_topnav .slide_down .slide ul li { font-size: 14px; color: #666666; line-height: 48px; }
    .vip19981_topnav .slide_down .classify { width: 100%; height: 0; position: fixed; top: 0; left: 0; z-index: 100; background-color: #ffffff; }
    .vip19981_topnav .slide_down .classify .titlist { height: 90px; overflow: hidden; margin: 0 auto; position: relative; }
    .vip19981_topnav .slide_down .classify .titlist.curTop { box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.3); }
    .vip19981_topnav .slide_down .classify .titlist .mapLogo { width: 175px; height: 50px; margin: 0 auto; padding-top: 20px; }
    .vip19981_topnav .slide_down .classify .titlist .close { cursor: pointer; position: absolute; right: 50%; top: 42px; margin-right: -600px; width: 28px; height: 28px; background: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/nav_icon_spirit_2022.png) no-repeat center center; background-position: -40px -21px; }
    .vip19981_topnav .slide_down .classify .titlist .close:hover { background-position: -40px -50px; }
    .vip19981_topnav .slide_down .slide_bottom { width: 1200px; font-size: 14px; color: #525252; line-height: 24px; margin: 0 auto; padding: 20px 0; }
    .vip19981_topnav .slide_down .slide_bottom .line { width: 99%; height: 1px; background-color: #f0f0f0; margin: 30px 0; overflow: hidden; clear: both; }
    .vip19981_topnav .slide_down .slide_bottom .channel { width: auto; font-weight: 700; margin-bottom: 12px; }
    .vip19981_topnav .slide_down .slide_bottom .column { width: auto; font-weight: 400; margin-bottom: 24px; }
    .vip19981_topnav .slide_down .slide_bottom a { color: #525252; }
    .vip19981_topnav .slide_down .slide_bottom .channelList { overflow-y: scroll; position: relative; }
    .vip19981_topnav .slide_down .slide_bottom .le { padding-left: 40px; overflow: hidden; background-repeat: no-repeat; background-position: left top; }
    .vip19981_topnav .slide_down .slide_bottom .le a { text-decoration: none; margin-right: 29px; }
    .vip19981_topnav .slide_down .slide_bottom .sleft0 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft0_2022.png); margin-top: 20px; }
    .vip19981_topnav .slide_down .slide_bottom .sleft0 .channel { margin-bottom: 0; }
    .vip19981_topnav .slide_down .slide_bottom .sleft1 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft1_2022.png); }
    .vip19981_topnav .slide_down .slide_bottom .sleft2 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft2_2022.png); }
    .vip19981_topnav .slide_down .slide_bottom .sleft3 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft3_2022.png); }
    .vip19981_topnav .slide_down .slide_bottom .sleft4 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft4_2022.png); }
    .vip19981_topnav .slide_down .slide_bottom .sleft5 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft5_2022.png); }
    .vip19981_topnav .slide_down .slide_bottom .sleft5 .channel { margin-bottom: 0; }
    .vip19981_topnav .slide_down .slide_bottom .sleft6 { background-image: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/sleft6_2022.png); }
    .vip19981_topnav .slide_down .slide_bottom .sleft6 .channel { margin-bottom: 20px; font-weight: normal; }
    .vip19981_topnav .slide_down .slide_bottom .sleft6 .channel .tvcctv { font-weight: 700; }
    .vip19981_topnav .slide_down .slide_bottom .logoList { overflow: hidden; }
    .vip19981_topnav .slide_down .slide_bottom .logoList ul { width: 940px; zoom: 1; _position: relative; overflow: hidden; }
    .vip19981_topnav .slide_down .slide_bottom .logoList ul li { float: left; margin-bottom: 22px; width: 53px; height: 21px; margin-right: 50px; }
    .vip19981_topnav .slide_down .slide_bottom .logoList ul li img { display: block; width: 100%; }
    .vip19981_topnav .slide_down .slide_bottom .logoList ul li a { display: block; width: 100%; height: 100%; margin-right: 0; }
    .vip19981_topnav .slide_down .slide_bottom .logoList ul.otherLogo li { width: auto; }
    .vip19981_topnav .slide_down .slide a:hover { color: #bf0614 !important; }
    .vip19981_topnav .nav_wrapper .nav_list .navli.all a:hover { background: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/nav_all_cur.png) no-repeat right center; color: #bf0614; }
    .vip19981_topnav .nav_wrapper .nav_list .navli.jilu:hover a { background: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/kanguo_cur.png) no-repeat center top; color: #bf0614; }
    .vip19981_topnav .nav_wrapper .nav_list .navli.shoucang:hover a { background: url(//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1652239955572322/shoucang_cur.png) no-repeat center top; color: #bf0614; }
    #channelListScroll .le.sleft6 .logoList ul { height: auto; margin: 0; }
    #channelListScroll .le.sleft6 .logoList ul li { margin-bottom: 22px; }
</style>
<style>
    .header .li4 .sousuokuang .sContent { position: absolute; top: 25px; left: 0; width: 276px; height: auto; background: #fff; }
    .header .li4 .sousuokuang .sContent ul { height: auto; }
    .header .li4 .sousuokuang .sContent ul li { float: none; width: 276px; height: auto; color: #666; cursor: pointer; font-size: 14px; line-height: 28px; }
    .header .li4 .sousuokuang .sContent ul li:hover { background-color: #e8e8e8; }
    .header .li4 .sousuokuang .sContent ul li:hover a { color: #bf0614 !important; }
    .header .li4 .sousuokuang .sContent li a { width: 239px; color: #666 !important; text-decoration: none; padding: 6px; padding-left: 16px; display: block; }
    .header .top_Touxing a img{display: block;}
</style>
<div class="header vip19981_topnav" data-spm="E6H6Y1hirgsU">
    <ul>
        <li class="li1" style="cursor: pointer;"></li>
        <li class="li2"><a href="https://www.cctv.com/">首页</a></li>
        <li class="li3"><a href="JavaScript:;">全部<i></i></a></li>
        <li class="li4">
            <div class="xiala">
                <span class="webBtn" style=" font-size: 14px; "><i></i><a href="JavaScript:;">网页</a></span>
                <div id="select_menu"  class="selectMenu" style="width: 66px;height: 80px; overflow: hidden; position: absolute;left: 12px; top: 24px; background-color: #1b1b1b; display: none;">
                    <a style="display: block; width: 66px; height: 40px; font-size: 14px; color: #fff; line-height: 34px; text-align: center;" href="javascript:void(0)" type="web" id="qtype_web" value="web" class="cur">网页</a>
                    <a style="display: block; width: 66px; height: 40px; font-size: 14px; color: #fff; line-height: 34px; text-align: center;" href="javascript:void(0)" type="video" id="qtype_video" value="video" class="">视频</a>
                </div>
            </div>
            <div class="sousuokuang">
                <input type="text" placeholder="" id="textshousuo" autocomplete="off"> 
                        <a href="https://tv.cctv.com/top/" target="_blank"><i></i></a>
                        <div class="sContent" id="sContentBox" style="display: none;">
                            <ul id="sContentUl">
                            </ul>
                        </div>
                        <script>
                            $('#textshousuo').keyup(function (e) {
                                // console.log(2)
                                searchStabilization(e.target.value)
                            });
                            var searchTimeout
                            var sug_str = ''
                            function searchCreateElement(searchVal) {
                                var sug_url = "https://search.cctv.com/webtvsuggest.php?q=" + encodeURIComponent(searchVal) + '&_=' + timestamp;
                                $.ajax({ type: "get", url: sug_url, dataType: "jsonp", success: function (res) { } });
                                if (searchTimeout) clearInterval(searchTimeout)
                                searchTimeout = setInterval(function () {
                                    sug_str = ''
                                    $.each(suggestJSON, function (i, v) {
                                        sug_str += '<li id="suggest_' + i + '"><a>' + v.name + '</a></li>';
                                    });
                                    $('#sContentUl').html(sug_str);
                                    $("#sContentBox").show();
                                    clearInterval(searchTimeout)
                                }, 600)
                            }
                            function searchStabilization(searchVal) {
                                if (searchVal === '') {
                                    clearInterval(searchTimeout)
                                    $("#sContentBox").hide();
                                    sug_str = ''
                                } else {
                                    searchCreateElement(searchVal)
                                }
                            }
                            $('#sContentBox #sContentUl').on('click', 'li', function (e) {
                                e.preventDefault()
                                var morenss = $("#textshousuo").attr("placeholder")
                                var str = $(this).find('a').text().trim();
                                var type = $("#select_menu a.cur").attr("value")
                                if (str.length > 0) {
                                    window.open("https://search.cctv.com/search.php?qtext=" + str + "&type=" + type);
                                } else {
                                    window.open("https://search.cctv.com/search.php?qtext=" + morenss + "&type=" + type);
                                }
                            });
                        </script>
            </div>
            <div class="sousuobtn">
                <a href="JavaScript:searchForm_submit();"><i></i></a>
            </div>
        </li>
        <li class="li5">
            <!--<a href="JavaScript:;"><i></i>
                <div>立即开通</div>
            </a>-->
        </li>
        <li class="li6">
            <a href="https://user.cctv.com/history/index.shtml" target="_blank"><i></i>
                <div>看过</div>
            </a>
        </li>
        <li class="li7">
            <a href="https://user.cctv.com/collection/index.shtml" target="_blank"><i></i>
                <div>收藏</div>
            </a>
        </li>
        <!-- 导航登录头像 -->
        <!-- 默认点击显示请登录卡片,加class样式islogin,点击显示登录后卡片 -->
        <!-- 加class样式vip显示会员样式 -->
        <li class="li8 top_Touxing">
            <a href="JavaScript:;" class=""><img src="//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1658908558759922/icon_touxiang.png" onerror="defaultImg()" alt=""><i></i></a>
        </li>
        <!-- 未登录悬浮样式 -->
        <li class="li9" style="z-index: 99;">
            <div class="box" style="position: absolute; width: 39px; height: 39px; top: -26px; right: 5px;"></div>
            <p class="weidenglu01">登录后可享受</p>
            <!-- <p class="weidenglu02"><i></i>多端记录同步</p>
            <p class="weidenglu03"><i></i>尊享高清观看体验</p> -->
            <p class="weidenglu04"><i></i>精彩视频看不停</p>
            <p class="weidenglu05"><i></i>弹幕· 评论分享观点</p>
            <a href="JavaScript:;">立即登录</a>
        </li>
        <!-- 加class样式vip显示会员样式 -->
        <li class="li10" style="height: 158px;">
            <div class="box" style="position: absolute; top: -26px; right: 5px; width: 39px; height: 39px;"></div>
            <div class="dengluhou01">
                <a href="JavaScript:;" class="dengluhou" target="_blank"><img src="" alt=""><i></i></a>
                <span class="name">
                    <p><a href="JavaScript:;">用户86DKS7F</a></p>
                    <a href="JavaScript:;" class="iconvip"></a>
                </span>
                <span class="tuichu"><a href="JavaScript:;">退出<i></i></a></span>
            </div>
            <!--<div class="dengluhou02">
                <div class="leftBox">
                    <p class="p1">首3月仅6元/月</p>
                    <p class="p2">新人限时专享</p>
                </div>
                <div class="rightBox">
                    <a href="JavaScript:;">立即续费</a>
                </div>
            </div>-->
            <div class="dengluhou03" style=" display: flex; justify-content: space-between; ">
                <div>
                    <a href="https://user.cctv.com/history/index.shtml" target="_blank">
                        <div class="img icon01"></div>
                        <div class="text">历史记录</div>
                    </a>
                </div>
                <div>
                    <a href="https://user.cctv.com/collection/index.shtml" target="_blank">
                        <div class="img icon02"></div>
                        <div class="text">我的收藏</div>
                    </a>
                </div>
                <!-- <div>
                    <a href="https://user.cctv.com/subscribe/index.shtml" target="_blank">
                        <div class="img icon03"></div>
                        <div class="text">我的关注</div>
                    </a>
                </div> -->
                <div>
                    <a href="https://help.cctv.com/" target="_blank">
                        <div class="img icon04"></div>
                        <div class="text">帮助中心</div>
                    </a>
                </div>
            </div>
        </li>
    </ul>

    
        <div class="slide_down" data-spm="" id="
        SUBD1701075379512437">
        
        </div>
    

</div>
<script>with (document) with (body) with (insertBefore(createElement("script"), firstChild)) setAttribute("exparams", "v_id=&aplus&", id = "tb-beacon-aplus", src = (location > "https" ? "//js" : "//js") + ".data.cctv.com/__aplus_plugin_cctv.js,aplus_plugin_aplus_u.js")</script>
<script type="text/javascript" src="//p1.img.cctvpic.com/photoAlbum/templet/common/DEPA1533715906572415/jquery.tinyscrollbar_180813.js"></script>
<script type="text/javascript">
    var windowH = window.innerHeight;
    var windowW = window.innerWidth;
    $(window).resize(function () {
        windowH = window.innerHeight;
        windowW = window.innerWidth;
        channelListScrollbarFun();
        if ($("#classify").height() > 0) {
            $("#classify").css("height", windowH);
        }
    })

    var _classifyS = $(".header  .slide_down .classify");
    $(".header ul .li3").click(function () {
        $("body").attr("style", "overflow-y: hidden;");
        $("#channelListScroll").scrollTop(0);
        channelListScrollbarFun();

        if (_classifyS.height() == 0) {
            _classifyS.animate({ "height": windowH }, 500)
            _classifyS.find('.slide_con').stop().animate({ 'margin-top': '0px' }, 500);
        } else {
            _classifyS.animate({ "height": "0" }, 500)
            _classifyS.find('.slide_con').stop().animate({ 'margin-top': -windowH }, 500);
        }
    })

    function channelListScrollbarFun() {
        var channelListH = $("#channelListScroll").height();
        $("#channelListScroll").css("height", windowH - 130);

        if (channelListH > (windowH - 130)) {
            $(".header  .slide_down .slide_bottom .channelList").css("overflow-y", "scroll")
            $("#channelListScroll").scroll(function () {
                var top = $("#channelListScroll").scrollTop();
                if (top > 0) {
                    $(".header  .slide_down .classify .titlist").addClass("curTop")
                } else {
                    $(".header  .slide_down .classify .titlist").removeClass("curTop")
                }
            })
        } else {
            $(".header  .slide_down .slide_bottom .channelList").css("overflow-y", "auto")

            $(".header  .slide_down .classify .titlist").removeClass("curTop")
            $("#channelListScrollbar .scrollbar").hide();
        }
    }

    $(".classify .titlist .close").click(function (event) {
        $("body").attr("style", "overflow-y: inherit;");
        _classifyS.animate({ "height": "0" }, 500)
        _classifyS.find('.slide_con').stop().animate({ 'margin-top': -windowH }, 500);
    })
	
	$('html').click(function(e) {
        var target = $(e.target);
        // console.log(target)
        if(!target.parents().is('.webBtn')){
            $("#select_menu").hide()
        }
    });

    var scrollTop = $(window).scrollTop();
    var windowHight = $(window).height();
    function inspect() {

        if (scrollTop > windowHight - 25) {
            $(".float_box").show();
        } else {
            $(".float_box").hide();
        }
    }
    window.onscroll = function () {
        scrollTop = $(window).scrollTop();
        inspect();
    };

    var morenss = $("#textshousuo").attr("placeholder")
    function trim(str) {
        return str.replace(/(^\s*)|(\s*$)/g, "");
    }
    function searchForm_submit() {

        var str = trim(document.getElementById("textshousuo").value);
        var type =$("#select_menu a.cur").attr("value")
        if (str.length > 0) {
            window.open("https://search.cctv.com/search.php?qtext=" + str+"&type="+type);
        } else {

            window.open("https://search.cctv.com/search.php?qtext=" + morenss + "&type="+type);
        }
    }
    document.getElementById("textshousuo").onkeydown = function () {
        var event = window.event || arguments[0];
        if (event.keyCode == 13) {
            try {
                event.cancelBubble = true;
                event.returnValue = false;
                event.stopPropagation();
                event.preventDefault();
            } catch (e) { }
            searchForm_submit()
        }

    }
    $("body").click(function(event){
			$(".header .li4 .sousuokuang .sContent").hide();
    })
    placeholder("#textshousuo")
    function placeholder(target) {
        $(target).attr("placeholder", "")
        $(target).attr("datavalue", morenss)
        $(target).val($(target).attr("datavalue"));
        $(target).css("color", "#797979")
        $(target).focus(function () {
            if ($(this).val() == $(this).attr("datavalue")) {
                $(this).val("");
                $(target).css("color", "#ffffff")
            }
        })
        $(target).blur(function () {
            if ($(this).val() == "" || $(this).val() == $(this).attr("datavalue")) {
                $(this).val($(target).attr("datavalue"));
                $(target).css("color", "#797979");
            }
        })
    }


    // 搜索框 网页 / 视频 切换 ------------------------- 开始
    var secondnav = $('.header ul .li4 .xiala #select_menu')
    $('.header ul .li4 .xiala .webBtn').on('click',function(){
        // console.log(secondnav.is(':hidden'))
        if(secondnav.is(':hidden')) {
            $('.header ul .li4 .xiala #select_menu').show()
        } else {
            $('.header ul .li4 .xiala #select_menu').hide()
        }
    })
    $('.header ul .li4 .xiala #qtype_web').click(function (e) { 
        e.preventDefault();
        $(this).addClass("cur").siblings().removeClass("cur")
        $('.header ul .li4 .xiala .webBtn').find('a').text($(this).text())
        $('.header ul .li4 .xiala #select_menu').hide()
    })
    $('.header ul .li4 .xiala #qtype_video').click(function (e) { 
        e.preventDefault();
        $(this).addClass("cur").siblings().removeClass("cur")
        $('.header ul .li4 .xiala .webBtn').find('a').text($(this).text())
        $('.header ul .li4 .xiala #select_menu').hide()
    })
    // 搜索框 网页 / 视频 切换 ------------------------- 结束

    // 顶通导航 部分功能------------------------- 开始
    $(".header ul .li1").on('click', function (e) {
        e.preventDefault()
        window.location.href = 'https://www.cctv.com/'
    });
    $('.header ul .li8').on('click', function () {
        if(!$(this).hasClass('cur')){
            $('#loginFloat').show()
        } else {
            return
        }
    });
    $(".header ul .li8").on('mouseover', function () {
        if (!$(this).hasClass("cur")) {
            $('.header ul .li9').show()
        } else {
            $('.header ul .li10').show()
        }
    });
    $(".header ul .li8").on('mouseout', function () {
        if (!$(this).hasClass("cur")) {
            $('.header ul .li9').hide()
            
        } else {
            $('.header ul .li10').hide()
        }
    });

    $('.header ul .li9').on('mouseover', function () {
        $('.header ul .li9').show()
    });
    $('.header ul .li9').on('mouseout', function () {
        $('.header ul .li9').hide()
    });

    $('.header ul .li10').on('mouseover', function () {
        $('.header ul .li10').show()
    });
    $('.header ul .li10').on('mouseout', function () {
        $('.header ul .li10').hide()
    });
    $(".header ul .li9 a").click(function () {
        $('.header ul .li9').toggle()
        $('#loginFloat').show()
    })

    function msisdsned() {
        window.location.reload()
    }
    $(".header ul .li10 .tuichu").click(function () {
        $.ajax({
            url: "//reg.cctv.com/openapi/v2/user/logout",
            type: 'GET',
            dataType: 'json',
            data: {
                "timestamp": timestamp, //当前时间戳
                "appid": "dgtGyfXwN9Gcr7ow"

            },
            xhrFields: {
                withCredentials: true
            },
            crossDomain: true,
            cache: true,
            success: function (data) {
                // console.log('user/logout','顶通')
                //写入头像和用户名
                if (data.code == 0) {
                    var ssoArray = data.data;
                    for (var i = 0; i < ssoArray.length; i++) {
                        if (i == ssoArray.length - 1) {
                            var bc = "msisdsned";
                        } else {
                            var bc = "msisdn" + i;
                        }
                        $.ajax({
                            url: ssoArray[i],
                            type: 'post',
                            dataType: 'jsonp',
                            jsonp: 'callback',
                            jsonpCallback: bc,
                            cache: true,
                            success: function (data) { }
                        })
                    }
                }
            }
        })
    })

    function defaultImg(event){ //地址错误时，设置默认图片
        let img = event.srcElement;
        img.src = '//p5.img.cctvpic.com/photoAlbum/templet/common/DEPA1658908558759922/icon_touxiang.png';
        img.onerror = null; //防止闪图
    }
    // 顶通导航 部分功能------------------------- 结束

</script>
	<div class="col_w1200">
    
        <div id="SUBD1659081468479995">
            <script src="//r.img.cctvpic.com/photoAlbum/templet/common/DEPA1658908558759922/loginStructure.js"></script>
<div class="yonghuzhongxin19940_ind05" data-spm="EPLf3369wreI">
    <div class="anquantishi"><i></i><span>您的账号当前处于安全环境，找回密码前需要安全验证</span></div>
    <!-- 账号验证 -->
    <div class="commonIDbox">
        <div class="xiugaiqu01">
            <form action="" onsubmit="return false">
                <div class="shurukuang zhanghao">
                    <label>请输入手机号或邮箱：</label>
                    <input type="text">
                    <ul class="emailerr_tishi">
                        <li style="display: none;">手机号或邮箱输入错误</li>
                    </ul>
                </div>
                <div class="shurukuang tuxingyanzhengma">
                    <label>图形验证码：</label>
                    <input type="text">
                    <div class="anjianBox" id="verificationUserID" style="cursor: pointer;">
                        <a href="JavaScript:;" class="yanzhengtupian"><img src="" alt=""></a>
                        <a href="JavaScript:;" class="shuaxin"><i></i></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">图形验证码错误</li>
                    </ul>
                </div>
                <div class="button">
                    <input type="button" value="提交">
                </div>
            </form>
        </div>
        <div class="xiugaiqu03">
            <div class="mask" style="display:none;">
                <div class="verifybox" style="max-width: 482px;">
                    <div class="verifybox-top">
                        请完成安全验证
                        <span class="verifybox-close"><i class="iconfont icon-close"
                                onclick="yanzhengguanbi()"></i></span>
                    </div>
                    <div class="verifybox-bottom" style="padding: 0px 24px 40px 24px;">
                        <div style="position: relative;width: 434px;">
                            <div class="verify-img-out" style="height: 244px;">
                                <div class="verify-img-panel" style="width: 434px; height: 244px;">
                                    <img src="" alt="" style="width: 100%; height: 100%; display: block;">
                                    <div data-v-5bea2353="" class="verify-refresh"><i data-v-5bea2353=""
                                            class="iconfont icon-refresh"></i></div>
                                    <div class="tishii"></div>
                                </div>
                            </div>
                            <div class="verify-bar-area"
                                style="width: 433px; height: 54px; line-height: 54px;margin-top: 18px;">
                                <span class="verify-msg">向右滑动完成验证</span>
                                <div class="verify-left-bar"
                                    style="width: 54px; height: 54px;border-radius: 26px;background-color: rgb(255,206,173);">
                                    <span class="verify-msg"></span>
                                    <div class="verify-move-block"
                                        style="width: 54px; height: 54px; left: 0px;border-radius: 26px;background-color: rgb(255, 154,0);"
                                        id="box1">
                                        <i class="verify-icon iconfont icon-right" style="color: rgb(0, 0, 0);"></i>
                                        <div class="verify-sub-block"
                                            style="width: 54px; height: 244px; top: -261px; background-size: 434px 244px;">
                                            <img src="" alt="" style="width: 100%; height: 100%; display: block;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 邮箱修改 -->
    <div class="emailzhaohui">
        <div class="xiugaiqu02 email_03" style="display: none;">
            <form action="" onsubmit="return false" id="chemailFrom">
                <div class="email_tishi" style="width: 520px;"><i></i>验证邮件发送成功，立即<a id="gotocgemail" target="_blank" href="JavaScript:;">进入邮箱查看“邮箱验证码”</a>
                </div>
                <div class="shurukuang cgeal">
                    <label>邮箱：</label>
                    <input type="text" disabled class="disabled">
                </div>
                <div class="shurukuang tuxingyanzhengma cgealImgCode">
                    <label>图形验证码：</label>
                    <input type="text" tabindex="1" autocomplete="off">
                    <div class="anjianBox" id="cgemailimgcodeID" style="cursor: pointer;">
                        <a href="JavaScript:;" class="yanzhengtupian"><img src="" alt=""></a>
                        <a href="JavaScript:;" class="shuaxin"><i></i></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">图形验证码错误</li>
                    </ul>
                </div>
                <div class="shurukuang emailyanzheng cgealMsgCode">
                    <label>邮箱验证码：</label>
                    <input type="text" tabindex="2" maxlength="6" placeholder="请输入邮箱验证码" id="emailvipt" autocomplete="new-passward">
                    <div class="anjianBox">
                        <a href="JavaScript:;" style="visibility: hidden;" class="shanchu"
                            onclick="passwordClear('emailvipt')"></a>
                    </div>
                    <a href="JavaScript:;" style="display: none;" class="chongxinfasong">重新发送验证邮件</a>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">邮箱验证码错误</li>
                    </ul>
                </div>
                <div class="shurukuang cgealNewPwd">
                    <label>新密码：</label>
                    <input type="password" tabindex="3" minlength="8" maxlength="16"
                        placeholder="仅限8-16位，必须包含大小写字母、数字、符号" id="ipt01" autocomplete="new-password">
                    <div class="anjianBox">
                        <a href="JavaScript:;" style="visibility: hidden;" class="shanchu"
                            onclick="passwordClear('ipt01')"></a>
                        <a href="JavaScript:;" class="yincang eye" onclick="passwordShow('ipt01')"></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">新密码输入有误</li>
                    </ul>
                </div>
                <div class="shurukuang cgealConfirmPwd">
                    <label>确认新密码：</label>
                    <input type="password" tabindex="4" minlength="8" maxlength="16" placeholder="请再次输入密码" id="ipt02" autocomplete="new-password">
                    <div class="anjianBox">
                        <a href="JavaScript:;" style="visibility: hidden;" class="shanchu"
                            onclick="passwordClear('ipt02')"></a>
                        <a href="JavaScript:;" class="yincang eye" onclick="passwordShow('ipt02')"></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">确认新密码输入有误</li>
                    </ul>
                </div>

                <div class="button">
                    <input type="button" value="提交">
                </div>
            </form>
        </div>
    </div>

    <!-- 手机修改 -->
    <div class="phonezhaohui ">
        <div class="xiugaiqu02 phone_02" style="display: none;">
            <form action="" onsubmit="return false" id="chiphFrom">
                <div class="shurukuang cgiph">
                    <label>手机号：</label>
                    <span class="phoneBiaoshi">+86 |</span><input type="text" disabled="" class="disabled phoneText">
                </div>
                <div class="shurukuang tuxingyanzhengma cgiphImgCode">
                    <label>图形验证码：</label>
                    <input type="text" tabindex="1" autocomplete="off">
                    <div class="anjianBox" id="cgiphimgcodeID" style="cursor: pointer;">
                        <a href="JavaScript:;" class="yanzhengtupian"><img src="" alt=""></a>
                        <a href="JavaScript:;" class="shuaxin"><i></i></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">图形验证码输入错误</li>
                    </ul>
                </div>
                <div class="shurukuang duanxin cgiphMsgCode">
                    <label>短信验证码：</label>
                    <input type="text" maxlength="6" tabindex="2" autocomplete="off">
                    <div class="anjianBox">
                        <span class="duanxin" id="phoneDuanxin">获取验证码</span>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">短信验证码输入错误</li>
                    </ul>
                </div>
                <div class="shurukuang cgiphNewPwd">
                    <label>新密码：</label>
                    <input tabindex="3" type="password" minlength="8" maxlength="16"
                        placeholder="仅限8-16位，必须包含大小写字母、数字、符号" id="phonePsd01" autocomplete="new-password">
                    <div class="anjianBox">
                        <a href="JavaScript:;" style="visibility: hidden;" class="shanchu"
                            onclick="passwordClear('phonePsd01')"></a>
                        <a href="JavaScript:;" class="yincang eye" onclick="passwordShow('phonePsd01')"></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">新密码输入错误</li>
                    </ul>
                </div>
                <div class="shurukuang cgiphConfirmPwd">
                    <label>确认新密码：</label>
                    <input tabindex="4" type="password" minlength="8" maxlength="16" placeholder="请再次输入密码"
                        id="phonePsd02" autocomplete="new-password">
                    <div class="anjianBox">
                        <a href="JavaScript:;" style="visibility: hidden;" class="shanchu"
                            onclick="passwordClear('phonePsd02')"></a>
                        <a href="JavaScript:;" class="yincang eye" onclick="passwordShow('phonePsd02')"></a>
                    </div>
                    <ul class="emailerr_tishi">
                        <li style="display: none;">确认新密码输入错误</li>
                    </ul>
                </div>
                <div class="shurukuang chenggongtishi">
                    <span style="visibility: hidden;"><i></i>验证码已发送，可能会有延后请耐心等待</span>
                </div>
                <div class="button">
                    <input type="button" value="提交">
                </div>
            </form>
        </div>
    </div>
    <!-- 修改成功 -->
    <div class="xiugaichenggong ">
        <p class="tishi">重置密码成功！</p>
        <p class="tiaozhuan"><span>3</span>s后自动跳转到首页</p>
        <div class="button">
            <input type="button" value="前往登录">
        </div>
    </div>
</div>

<script>
    // ======================================== 密码找回 开始 ===============================================
    // 公共数据
    var timestamp = Date.parse(new Date()) / 1000; // 获取时间
    var UserIDType = 'error' // iphone email
    var iphoneIDProcedureInfo = { //手机号密码找回信息
        appid: 'dgtGyfXwN9Gcr7ow',
        iphoneVerification: {
            iphone: '',
            pic_code: ''
        },
        passwordChange: {
            iphone: '',
            sms_code: '',
            newpassword: '',
            confirmpassword: ''
        },
    }
    var emailIDProcedureInfo = { //邮箱密码找回信息
        appid: 'dgtGyfXwN9Gcr7ow',
        emailVerification: {
            email: '',
            pic_code: ''
        },
        passwordChange: {
            email: '',
            pic_code: '',
            mail_code: '',
            newpassword: '',
            confirmpassword: ''
        },
    }
    // 公共方法
    var getUserInfoObj = {
        host : "//vipapi.app.cctv.com/cmos-facade-server",//接口服务器地址
        AppID : '0f8717e779e364c02c11a77fa01566f753d74fd4',
        SecretKey : "906fb2d1-0536-4b91-a34a-1490d2b05cea",
        productId : "20210320",//业务线ID
        tokenurl : "//vipapi.app.cctv.com/cmos-facade-server/openapi/token/generate", //获取token接口
        checkurl : "//reg.cctv.com/openapi/v2/user/checkLogin", //验证登录接口
        getTicketurl : "//reg.cctv.com/openapi/v2/user/getTicket",
        userInfoByTicketurl : "//reg.cctv.com/openapi/v2/user/userInfoByTicket",
        infourl : '//reg.cctv.com/openapi/v2/user/info',
        //获取鉴权token
        getToken : function () {
            $.ajax({
                type: "post",
                url: getUserInfoObj.tokenurl,
                dataType: "json",
                contentType: "application/json",
                timeout: 6000,
                data: JSON.stringify({
                    "appId": getUserInfoObj.AppID
                }),
                success: function (data) {
                    console.log(data)
                    if (data.code === 10000) {
                        token = data.data.token
                        if (verifycode !== "" && verifycode !== null && verifycode !== undefined) { //当code存在时检查登录状态
                            getUserInfoObj.checklogn()
                        } else {
                        }
                    }
                },
                error: function () {
                }
            });
        },
        // 校验用户登录状态
        checklogn:function() {
            $.ajax({
                type: "get",
                url: getUserInfoObj.checkurl,
                dataType: "json",
                data: {
                    "timestamp": timestamp, //当前时间戳
                    "appid": "dgtGyfXwN9Gcr7ow" //管理员分配给业务线应用的唯一标识
                },
                xhrFields: {
                    withCredentials: true
                },
                crossDomain: true, //添加跨域参数是为了将登录标识（token）带过去验证
                success: function (data) {
                    console.log(data)
                    if (data.code === '0') {
                        getUserInfoObj.getuseid()
                    } else {

                    }
                }
            });
        },
        // 获取访问凭证
        getuseid:function() { //用户id不存在获取ticket，在获取用户id
            $.ajax({
                type: "get",
                url: getUserInfoObj.getTicketurl,
                dataType: "json",
                data: {
                    "timestamp": timestamp, //当前时间戳
                    "appid": "dgtGyfXwN9Gcr7ow" //管理员分配给业务线应用的唯一标识
                },
                xhrFields: {
                    withCredentials: true
                },
                crossDomain: true, //添加跨域参数是为了将登录标识（token）带过去验证
                success: function (data) {
                    if (data.code === "0") {
                        var ticket = data.data;
                        $.ajax({
                            type: "get",
                            url: getUserInfoObj.userInfoByTicketurl,
                            dataType: "json",
                            data: {
                                "timestamp": timestamp, //当前时间戳
                                "appid": "dgtGyfXwN9Gcr7ow", //管理员分配给业务线应用的唯一标识
                                "ticket": ticket
                            },
                            xhrFields: {
                                withCredentials: true
                            },
                            crossDomain: true, //添加跨域参数是为了将登录标识（token）带过去验证
                            success: function (data) {
                                if (data.code === "0") {
                                    getUserInfoObj.getUserInfo()
                                }
                            }
                        })
                    }
                }
            })
        },
        getUserInfo : function() {
            $.ajax({
                type: 'get',
                url: getUserInfoObj.infourl,
                data: {
                    "timestamp": timestamp, //当前时间戳
                    "appid": "dgtGyfXwN9Gcr7ow" //管理员分配给业务线应用的唯一标识
                },
                headers: {
                    "verifycode": verifycode, //登录标识（token）   
                },
                dataType: 'json',
                success: function (data) {
                    console.log(data)
                    //写入头像和用户名
                    if (data.code === '0') {
                        islogin = true;
                        pciuserbasicinfo = data.data
                        nickname = data.data.nick_name
                        userface = data.data.face_uri
                        $(".header ul .li8").addClass("cur")
                        $(".header ul .li8").html('<a href="JavaScript:;"  title="' + nickname + '"><img src="' + userface + '" alt=""><i></i></a>')
                        $(".header ul .li10 .dengluhou").html('<img src="' + userface + '" alt="">')
                        $(".header ul .li10 .dengluhou").attr("href", "http://qrcode.cntv.cn/LZnXlD1Z")
                        $(".header ul .li10 .name p").html('<a href="http://qrcode.cntv.cn/LZnXlD1Z">' + nickname + '</a>')
                    }
                }
            })
        }
    }

    getUserInfoObj.getToken()
    // 得到用户信息在本页面登录/已登录的状态下
    function jianchaStatus() {
        uid = getCookieColle("userSeqId");
        if (verifycodec !== "" && verifycodec !== null && verifycodec !== undefined) { //当code存在时检查登录状态
            // getUserInfoFn()
            getUserInfoObj.getUserInfo()
            //getvipinfo()
        } else {
            window.location.href = window.location.href;
            sessionStorage.removeItem('CurrentPage')
            window.location.reload()
            islogin = false
            $(".vipcon .dialog_notBuy").show();
            $(".vipcon .notBuy_Sign").show();
            $("#canvasimg").html(" ")
            $(".vipcon .notBuy_Sign .head .viplogin").show()
            $(".vipcon .notBuy_Sign .head .left").hide();
        }
    }

    // 图形验证码
    var imgcodeid
    var imgcodeTimer
    var imgcodeswitch = true
    setInterval(function () {
        var ishide = $('.yonghuzhongxin19940_ind05 .commonIDbox .xiugaiqu01').is(':hidden')
        if (!ishide && imgcodeswitch) {
            imgcodeswitch = false
            clearInterval(imgcodeTimer)
            imgcodeid = 'verificationUserID'
            getcupImgCodeFn(imgcodeid)
            imgcodeTimer = setInterval(function () {
                cupImgCodeFn(imgcodeid)
            }, 180000)
        }
    }, 100)

    // 当前输入框错误提示是否显示 返回 true / false
    function inputErrStatus(Element) {
        return Element.nextAll('.emailerr_tishi').find('li').is(':hidden')
    }

    function cupImgCodeFn(id) {
        var _this = $('#' + id + '')
        if (id === 'verificationUserID' || id === 'cgemailimgcodeID') {
            codeUrl = "//reg.cctv.com/openapi/v2/user/verification/pic/code?timestamp=";
            if (codeUrl === null) {
                codeUrl = "//reg.cctv.com/openapi/v2/user/verification/pic/code?timestamp=" + timestamp + "&appid=dgtGyfXwN9Gcr7ow";
            }
            var url = codeUrl + Date.parse(new Date()) / 1000 + "&appid=dgtGyfXwN9Gcr7ow";
            var xhr = new XMLHttpRequest();
            xhr.open("get", url, true);
            xhr.responseType = "blob";
            xhr.onload = function () {
                RegCode = xhr.getResponseHeader('reg-code');
                if (this.status === 200) {
                    var blob = this.response;
                    var img = document.createElement("img");
                    img.onload = function (e) {
                        window.URL.revokeObjectURL(img.src);
                    };
                    img.src = window.URL.createObjectURL(blob);
                    _this.find('.yanzhengtupian').html(img);
                }
            };
            xhr.send();
        } else {
            timestamp = Date.parse(new Date()) / 1000;
            codeUrl = "//reg.cctv.com/openapi/v2/user/verification/pic/code?timestamp=" + timestamp + "&appid=dgtGyfXwN9Gcr7ow";
            if (codeUrl == null) {
                codeUrl = _this.find('a img').attr('src');
            }
            var url = codeUrl;
            _this.find('a img').attr('src', url);
        }
    }

    // 图形验证码
    function getcupImgCodeFn(id) {
        cupImgCodeFn(id)
        $('#' + id + '').unbind("click").click(function (e) {
            e.preventDefault();
            cupImgCodeFn(id)
        });
    }

    //验证手机号
    function checkMobile(mobile) {
        var mreg = /^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/;
        if (mobile.length > 0 && mobile.replace(/\s+/g, '').length === 11) {
            if (!mreg.test(mobile)) {
                return false;
            }
            return true;
        }
    }
    // 验证邮箱
    function checkLinkEmail(LinkEmail) {
        var reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;
        if (LinkEmail.length > 0) {
            if (!reg.test(LinkEmail)) {
                return false;
            }
            return true;
        }
    }

    // 验证密码
    function checkPasswordCup(password) {
        var reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[~`!@#$%^&*.?:;,"'<>_(-)/[{}|]).{8,}$/
        if (password.length > 0) {
            if (!reg.test(password)) {
                return -1;
            }
            return true;
        }
    }

    // 密码清空 
    function passwordClear(id) {
        var con_clear = '';
        var htmlId = "#" + id
        $(htmlId).val(con_clear);
    }

    // 显示与隐藏
    function passwordShow(id) {
        var htmlId = "#" + id + "";
        var showPassword = $(htmlId).attr('type');
        if (showPassword === 'password') {
            $(htmlId).prop('type', 'text');
            $(htmlId).nextAll('.anjianBox').find('a.eye').removeClass('yincang');
            $(htmlId).nextAll('.anjianBox').find('a.eye').addClass('kejian');
        } else {
            $(htmlId).prop('type', 'password');
            $(htmlId).nextAll('.anjianBox').find('a.eye').removeClass('kejian');
            $(htmlId).nextAll('.anjianBox').find('a.eye').addClass('yincang');
        }
    }

    // 方法功能
    // 失焦隐藏错误提示
    function HideInputErrInfo(Element, textInfo) {
        var inputTimer
        if (textInfo.indexOf('密码') > -1 || textInfo.indexOf('邮箱') > -1) {
            Element.focus(function (e) {
                e.preventDefault();
                inputTimer = setInterval(function(){
                    if(Element.val() === '') return
                    Element.attr("placeholder", "");
                    Element.nextAll('.anjianBox').find('a.shanchu').css('visibility', 'visible')
                },150)
            });
            Element.nextAll('.anjianBox').find('a.shanchu').click(function (e) {
                e.preventDefault();
                Element.val('')
            });
        }
        Element.blur(function (e) {
            e.preventDefault();
            clearInterval(inputTimer)
            var iptval = $(this).val()
            var errtext = '不能为空'
            Element.nextAll('.emailerr_tishi').find('li').hide()
            if (textInfo.indexOf('密码') > -1 && iptval.replace(/\s+/g, '') !== '') {
                if (!checkCNPassword(iptval)) {
                    Element.nextAll('.emailerr_tishi').find('li').text('密码包含无效字符').show()
                } else if (checkPasswordCup(iptval) === -1) {
                    Element.nextAll('.emailerr_tishi').find('li').text('仅限8-16位，必须包含大小写字母、数字、符号').show()
                } else {
                    Element.nextAll('.emailerr_tishi').find('li').hide()
                }
            }
            // Element.attr("placeholder", "");
            setTimeout(function () {
                Element.nextAll('.anjianBox').find('a.shanchu').css('visibility', 'hidden')
                if (Element.attr('id') === 'emailvipt') Element.attr("placeholder", "请输入邮箱验证码");
                if (Element.attr('id') === 'phonePsd01' || Element.attr('id') === 'ipt01') Element.attr("placeholder", "仅限8-16位，必须包含大小写字母、数字、符号");
                if (Element.attr('id') === 'phonePsd02' || Element.attr('id') === 'ipt02') Element.attr("placeholder", "请再次输入密码");
            }, 200)

        });
    }

    // 账号验证
    var IDValidationProcess = {
        verificationUserIDIpt: $('.yonghuzhongxin19940_ind05 .commonIDbox .xiugaiqu01 .zhanghao input'),
        verificationPicCodeIpt: $('.yonghuzhongxin19940_ind05 .commonIDbox .xiugaiqu01 .tuxingyanzhengma input'),
        verificationUserIDBtn: $('.yonghuzhongxin19940_ind05 .commonIDbox .xiugaiqu01 .button input'),
        Initialize: function () { //初始化
            HideInputErrInfo(IDValidationProcess.verificationPicCodeIpt, '图形验证码')
            IDValidationProcess.verificationUserIDIpt.on('blur', function () {
                var inputCon = IDValidationProcess.verificationUserIDIpt.val().replace(/\s+/g, '')
                if (checkMobile(inputCon) || checkLinkEmail(inputCon)) {
                    if (checkMobile(inputCon)) {
                        UserIDType = 'iphone'
                    } else {
                        UserIDType = 'email'
                    }
                    $(this).nextAll('.emailerr_tishi').find('li').hide()
                } else if (inputCon !== '') {
                    UserIDType = 'error'
                    $(this).nextAll('.emailerr_tishi').find('li').html('手机号或邮箱输入错误').show()
                }
            });

            IDValidationProcess.verificationUserIDBtn.on('click', function () {
                if (IDValidationProcess.verificationUserIDIpt.val().replace(/\s+/g, '') === '') {
                    IDValidationProcess.verificationUserIDIpt.nextAll('.emailerr_tishi').find('li').html('手机号或邮箱不能为空').show()
                } else if (IDValidationProcess.verificationPicCodeIpt.val().replace(/\s+/g, '') === '') {
                    IDValidationProcess.verificationPicCodeIpt.nextAll('.emailerr_tishi').find('li').html('图形验证码不能为空').show()
                } else {

                }

                var verificationUserIDType = inputErrStatus(IDValidationProcess.verificationUserIDIpt)
                var verificationPicCodeType = inputErrStatus(IDValidationProcess.verificationPicCodeIpt)

                if (verificationUserIDType && verificationPicCodeType) {
                    // 判断用户输入的是手机号还是邮箱
                    if (UserIDType === 'iphone') {
                        iphoneIDProcedureInfo.iphoneVerification.iphone = IDValidationProcess.verificationUserIDIpt.val().replace(/\s+/g, '')
                        iphoneIDProcedureInfo.iphoneVerification.pic_code = IDValidationProcess.verificationPicCodeIpt.val().replace(/\s+/g, '')
                        IDValidationProcess.verificationUserID(iphoneIDProcedureInfo.iphoneVerification.iphone, iphoneIDProcedureInfo.iphoneVerification.pic_code)
                    } else if (UserIDType === 'email') {
                        emailIDProcedureInfo.emailVerification.email = IDValidationProcess.verificationUserIDIpt.val().replace(/\s+/g, '')
                        emailIDProcedureInfo.emailVerification.pic_code = IDValidationProcess.verificationPicCodeIpt.val().replace(/\s+/g, '')
                        IDValidationProcess.verificationUserID(emailIDProcedureInfo.emailVerification.email, emailIDProcedureInfo.emailVerification.pic_code)
                    } else {
                        return
                    }
                }
            });
        },
        verificationUserID: function (account, pic_code) { // 账号验证
            var url = '//reg.cctv.com/openapi/v2/user/verification/account'
            $.ajax({
                type: "post",
                url: url,
                data: {
                    "timestamp": timestamp,
                    "appid": iphoneIDProcedureInfo.appid,
                    "account": account,
                    "pic_code": pic_code
                },
                headers: {
                    "reg-code": RegCode
                },
                dataType: "json",
                success: function (res) {
                    console.log(res)
                    if (res.code !== '0') {
                        clearInterval(imgcodeTimer)
                        imgcodeid = 'verificationUserID'
                        getcupImgCodeFn(imgcodeid)
                        imgcodeTimer = setInterval(function () {
                            cupImgCodeFn(imgcodeid)
                        }, 180000)
                        if (res.code === '-21002') {
                            IDValidationProcess.verificationUserIDIpt.nextAll('.emailerr_tishi').find('li').html('用户不存在').show()
                        } else if (res.code === '-21014') {
                            IDValidationProcess.verificationPicCodeIpt.nextAll('.emailerr_tishi').find('li').html('图形验证码错误').show()
                        } else {
                            IDValidationProcess.verificationUserIDIpt.nextAll('.emailerr_tishi').find('li').html(res.message).show()
                        }
                    } else {
                        if (UserIDType === 'iphone') {
                            IDValidationProcess.ClearIDForm()
                            $('.commonIDbox .xiugaiqu01').hide()
                            $('.phonezhaohui .xiugaiqu02.phone_02').show()
                            iphoneResetPassword.RenderUserIphone()
                        } else if (UserIDType === 'email') {
                            imgSlideRefreshTimer = setInterval(function(){
                                _resetVerify()
                            },180000)
                            $('.commonIDbox .xiugaiqu03 .mask').show()
                        }

                    }
                }
            });
        },
        ClearIDForm: function () { // 清空表单
            IDValidationProcess.verificationUserIDIpt.val('')
            IDValidationProcess.verificationUserIDIpt.nextAll('.emailerr_tishi').find('li').hide()
            IDValidationProcess.verificationPicCodeIpt.val('')
            IDValidationProcess.verificationPicCodeIpt.nextAll('.emailerr_tishi').find('li').hide()
        }
    }
    IDValidationProcess.Initialize()

    // 邮箱密码修改流程
    var emailResetPassword = {
        emailIpt: $('.emailzhaohui .cgeal input'),
        imgcodeIpt: $('.emailzhaohui .cgealImgCode input'),
        msgcodIpt: $('.emailzhaohui .cgealMsgCode input'),
        newpwdIpt: $('.emailzhaohui .cgealNewPwd input'),
        confirmIpt: $('.emailzhaohui .cgealConfirmPwd input'),
        captchaCheckedCode: '',
        RenderUserEmail: function () {
            var gotoemailUrl = gotoEmail(emailIDProcedureInfo.emailVerification.email)
            $('#gotocgemail').attr('href', gotoemailUrl)
            clearInterval(imgcodeTimer)
            imgcodeid = 'cgemailimgcodeID'
            getcupImgCodeFn(imgcodeid)
            imgcodeTimer = setInterval(function () {
                cupImgCodeFn(imgcodeid)
            }, 180000)
            HideInputErrInfo(emailResetPassword.imgcodeIpt, '图形验证码')
            HideInputErrInfo(emailResetPassword.msgcodIpt, '邮箱验证码')
            HideInputErrInfo(emailResetPassword.newpwdIpt, '新密码')
            HideInputErrInfo(emailResetPassword.confirmIpt, '确认新密码')
            this.emailIpt.val(emailIDProcedureInfo.emailVerification.email)
            $('.emailzhaohui #chemailFrom .button').click(function (e) {
                e.preventDefault();
                emailResetPassword.SubmitCgEmailForm()
            });
        },
        VerificationUserEmail: function () {
            var timestamp = Date.parse(new Date()) / 1000;
            var url = '//reg.cctv.com/openapi/v2/user/send/mail/verification/code?timestamp=' + timestamp
            $.ajax({
                type: "post",
                url: url,
                data: {
                    "email": emailIDProcedureInfo.emailVerification.email,
                    "send_type": '3',
                    "captcha_type": '1',
                    "dynamic_captcha_type": 'PUZZLE',
                    "captcha_pass_code": emailResetPassword.captchaCheckedCode,
                    "appid": emailIDProcedureInfo.appid,
                },
                dataType: "json",
                success: function (res) {
                    console.log(res)
                    if (res.code === '-21047') {
                        $('.verifybox .verifybox-bottom .verify-img-panel .tishii').text("24h同一用户请求邮件验证码超10次").show();
                        errorCheckVerifyCss()
                    } else {
                        successCheckVerifyCss()
                        var btnType = $('.emailzhaohui #chemailFrom .cgealMsgCode .chongxinfasong').is(':hidden')
                        var emailbox = $('.emailzhaohui .email_03').is(':hidden')
                        if (!emailbox && !btnType) $('.emailzhaohui #chemailFrom .cgealMsgCode .chongxinfasong').hide()
                        setTimeout(function () {
                            clearInterval(imgSlideRefreshTimer)
                            emailResetPassword.RenderUserEmail()
                            $('.commonIDbox .xiugaiqu01').hide()
                            $('.commonIDbox .xiugaiqu03 .mask').hide()
                            $('.emailzhaohui .email_03').show()
                            IDValidationProcess.ClearIDForm()
                            _resetVerify()
                        }, 1000)
                    }
                }
            });
        },
        SubmitCgEmailForm: function () { // 提交邮箱修改密码表单
            if (emailResetPassword.imgcodeIpt.val().replace(/\s+/g, '') === '') {
                emailResetPassword.imgcodeIpt.nextAll('.emailerr_tishi').find('li').text('图形验证码不能为空').show()
            } else if (emailResetPassword.msgcodIpt.val().replace(/\s+/g, '') === '') {
                emailResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('邮箱验证码不能为空').show()
            } else if (emailResetPassword.newpwdIpt.val().replace(/\s+/g, '') === '') {
                emailResetPassword.newpwdIpt.nextAll('.emailerr_tishi').find('li').text('新密码不能为空').show()
            } else if (emailResetPassword.confirmIpt.val().replace(/\s+/g, '') === '') {
                emailResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('确认新密码不能为空').show()
            }

            var imgiptType = inputErrStatus(emailResetPassword.imgcodeIpt)
            var msgiptType = inputErrStatus(emailResetPassword.msgcodIpt)
            var newpwdiptType = inputErrStatus(emailResetPassword.newpwdIpt)
            var confirmiptType = inputErrStatus(emailResetPassword.confirmIpt)

            if (imgiptType && msgiptType && newpwdiptType && confirmiptType) {
                var timestamp = Date.parse(new Date()) / 1000;
                console.log(nonce)
                var encryptdata = 'appid=dgtgyfxwn9gcr7ow&captcha_type=2&confirm_password=' + emailResetPassword.confirmIpt.val().toLowerCase() + '&email=' + emailIDProcedureInfo.emailVerification.email.toLowerCase() + '&mail_code=' + emailResetPassword.msgcodIpt.val().toLowerCase() + '&nonce=' + nonce.toLowerCase() + '&password=' + emailResetPassword.newpwdIpt.val().toLowerCase() + '&pic_code=' + emailResetPassword.imgcodeIpt.val().toLowerCase() + '&ts=' + timestamp;
                var url = '//reg.cctv.com/openapi/v2/user/mail/reset/password?timestamp=' + timestamp
                $.ajax({
                    type: "post",
                    url: url,
                    data: {
                        "appid": encryptras("dgtgyfxwn9gcr7ow", nonce),
                        "captcha_type": encryptras('2', nonce),
                        "confirm_password": encryptras(emailResetPassword.confirmIpt.val(), nonce),
                        "email": encryptras(emailIDProcedureInfo.emailVerification.email, nonce),
                        "mail_code": encryptras(emailResetPassword.msgcodIpt.val(), nonce),
                        "nonce": encryptd.encrypt(nonce),
                        "password": encryptras(emailResetPassword.newpwdIpt.val(), nonce),
                        "pic_code": encryptras(emailResetPassword.imgcodeIpt.val(), nonce),
                        "ts": encryptras(timestamp, nonce),
                        "encryptdata": sha512(encryptdata)
                    },
                    headers: {
                        "reg-code": RegCode
                    },
                    dataType: "json",
                    success: function (res) {
                        console.log(res)
                        if (res.code !== '0') {
                            if (res.code === '-21013') {
                                emailResetPassword.imgcodeIpt.nextAll('.emailerr_tishi').find('li').text('图形验证码已超过有效时间').show()
                            } else if (res.code === '-21014') {
                                emailResetPassword.imgcodeIpt.nextAll('.emailerr_tishi').find('li').text('图形验证码错误').show()
                            } else if (res.code === '-21052') {
                                emailResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('您已输入错误5次,请1小时后再试').show()
                            } else if (res.code === '-21053') {
                                emailResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('邮件验证码已超时').show()
                                $('.emailzhaohui #chemailFrom .cgealMsgCode .chongxinfasong').show()
                                $('.emailzhaohui #chemailFrom .cgealMsgCode .chongxinfasong').on('click', function () {
                                    imgSlideRefreshTimer = setInterval(function(){
                                        _resetVerify()
                                    },180000)
                                    $('.commonIDbox .xiugaiqu03 .mask').show()
                                });
                            } else if (res.code === '-21054') {
                                emailResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('邮件验证码错误').show()
                            } else if (res.code === '-21047') {
                                emailResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('24h同一用户请求邮件验证码超10次').show()
                            } else if (res.code === '-21007') {
                                emailResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('密码仅限8-16位,必须包含大小写字母、数字、符号').show()
                            } else if (res.code === '-21008') {
                                emailResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('两次密码不相同').show()
                            } else if (res.code === '-99999' || data.code === '-88888') {
                                emailResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('系统维护中，请稍后再试')
                            } else {
                                emailResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text(msg).show()
                            }
                        } else {
                            $('.yonghuzhongxin19940_ind05 .emailzhaohui .xiugaiqu02').hide()
                            $('.yonghuzhongxin19940_ind05 .xiugaichenggong .button input').click(function (e) { 
                                e.preventDefault();
                                window.location.replace('https://www.cctv.com/')
                            });
                            emailResetPassword.ClearCgEmailForm()
                            $('.yonghuzhongxin19940_ind05 .xiugaichenggong').show()
                            var daojishi = 3
                            var gotoIndexTimer = setInterval(function () {
                                daojishi--
                                $('.yonghuzhongxin19940_ind05 .xiugaichenggong').find('.tiaozhuan span').text(daojishi)
                                if (daojishi === 0) {
                                    clearInterval(gotoIndexTimer)
                                    window.location.replace('https://www.cctv.com/')
                                }
                            }, 1000);
                        }
                    }
                });
            }
        },
        ClearCgEmailForm: function () {
            this.emailIpt.val('')
            this.imgcodeIpt.val('')
            this.imgcodeIpt.nextAll('.emailerr_tishi').find('li').hide()
            this.msgcodIpt.val('') //获取验证码
            this.msgcodIpt.nextAll('.emailerr_tishi').find('li').hide()
            this.newpwdIpt.val('')
            this.newpwdIpt.nextAll('.emailerr_tishi').find('li').hide()
            this.confirmIpt.val('')
            this.confirmIpt.nextAll('.emailerr_tishi').find('li').hide()
            clearInterval(imgcodeTimer)
        }
    }

    // 手机密码修改流程
    var iphoneResetPassword = {
        iphoneIpt: $('.phonezhaohui .cgiph input'),
        imgcodeIpt: $('.phonezhaohui .cgiphImgCode input'),
        msgcodIpt: $('.phonezhaohui .cgiphMsgCode input'),
        newpwdIpt: $('.phonezhaohui .cgiphNewPwd input'),
        confirmIpt: $('.phonezhaohui .cgiphConfirmPwd input'),
        successinfoEl: $('.phonezhaohui #chiphFrom .chenggongtishi span'),
        msgcodetimer: null,
        RenderUserIphone: function () { // 渲染手机号修改密码表单并进行一些初始化操作
            var iphval = iphoneIDProcedureInfo.iphoneVerification.iphone.substring(0, 3) + ' ' + iphoneIDProcedureInfo.iphoneVerification.iphone.substring(3, 7) + ' ' + iphoneIDProcedureInfo.iphoneVerification.iphone.substring(7)
            this.iphoneIpt.val(iphval)
            clearInterval(imgcodeTimer)
            imgcodeid = 'cgiphimgcodeID'
            getcupImgCodeFn(imgcodeid)
            imgcodeTimer = setInterval(function () {
                cupImgCodeFn(imgcodeid)
            }, 180000)
            HideInputErrInfo(iphoneResetPassword.imgcodeIpt, '图形验证码')
            HideInputErrInfo(iphoneResetPassword.msgcodIpt, '短信验证码')
            HideInputErrInfo(iphoneResetPassword.newpwdIpt, '新密码')
            HideInputErrInfo(iphoneResetPassword.confirmIpt, '确认新密码')

            // 发送短信验证码
            var getmsgcodeBtn = this.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin')
            getmsgcodeBtn.click(function (e) {
                e.preventDefault();
                if (iphoneResetPassword.imgcodeIpt.val().replace(/\s+/g, '') === '') {
                    iphoneResetPassword.imgcodeIpt.nextAll('.emailerr_tishi').find('li').text('图形验证码不能为空').show()
                }

                var sss = inputErrStatus(iphoneResetPassword.imgcodeIpt)
                if (sss && getmsgcodeBtn.text() === '获取验证码' || sss && getmsgcodeBtn.text() === '重新获取') {
                    iphoneResetPassword.GetMsgCode()
                } else {
                    return
                }
            })

            // 提交表单
            var SubmitFormBtn = $('.phonezhaohui #chiphFrom .button input')
            SubmitFormBtn.click(function (e) {
                e.preventDefault();
                iphoneResetPassword.SubmitCgIphForm()
            })
        },
        GetMsgCode: function () { // 获取用户短信验证码
            $.ajax({
                type: "post",
                url: "//reg.cctv.com/openapi/v2/user/verification/sms/code",
                xhrFields: {
                    withCredentials: true
                },
                crossDomain: true,
                data: {
                    "timestamp": timestamp,
                    "appid": "dgtGyfXwN9Gcr7ow",
                    "mobile": this.iphoneIpt.val().replace(/\s+/g, ''),
                    "captcha_type": "2",
                    "pic_code": this.imgcodeIpt.val().replace(/\s+/g, ''),
                    "send_type": '2'
                },
                dataType: "json",
                success: function (data) {
                    var msgdaojishiNum = 180
                    if (data.code !== '0') {
                        clearInterval(imgcodeTimer)
                        imgcodeid = 'cgiphimgcodeID'
                        getcupImgCodeFn(imgcodeid)
                        imgcodeTimer = setInterval(function () {
                            cupImgCodeFn(imgcodeid)
                        }, 180000)
                        iphoneResetPassword.successinfoEl.css('visibility', 'hidden')
                        if (data.code == "-21014") {
                            iphoneResetPassword.imgcodeIpt.nextAll('.emailerr_tishi').find('li').text('图片验证码错误').show()
                        } else if (data.code === "-21010") {
                            iphoneResetPassword.iphoneIpt.nextAll('.emailerr_tishi').find('li').text('手机号码格式不正确').show()
                        } else if (data.code === "-21017") {
                            iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('三分钟内只能获取一次验证码').show()
                        } else if (data.code == "-21015" || data.code == "-21016") {
                            iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('短信验证码发送次数已达上限，请24小时后再试').show()
                        } else if (data.code === '-21043') {
                            iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('手机验证发送频繁，请在24小时后尝试重试!').show()
                        } else {
                            iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text("" + data.errmsg + "").show()
                        }
                    } else {
                        iphoneResetPassword.successinfoEl.css('visibility', 'visible')
                        iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').hide()
                        iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').addClass('texthover')
                        iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').html(msgdaojishiNum + "s后重发");
                        iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').css('cursor', 'auto')
                        console.log(1)
                        iphoneResetPassword.msgcodetimer = setInterval(function () {
                            msgdaojishiNum--;
                            iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').html(msgdaojishiNum + "s后重发");
                            if (msgdaojishiNum === 0) {
                                clearInterval(iphoneResetPassword.msgcodetimer);
                                iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').removeClass('texthover')
                                iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').html("重新获取");
                                iphoneResetPassword.msgcodIpt.nextAll('.anjianBox').find('#phoneDuanxin').css('cursor', 'pointer')
                                iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').hide();
                            }
                        }, 1000)
                    }
                }
            });
        },
        SubmitCgIphForm: function () { // 手机号修改密码表单提交
            if (iphoneResetPassword.msgcodIpt.val().replace(/\s+/g, '') === '') {
                iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('短信验证码不能为空').show()
            } else if (iphoneResetPassword.newpwdIpt.val().replace(/\s+/g, '') === '') {
                iphoneResetPassword.newpwdIpt.nextAll('.emailerr_tishi').find('li').text('新密码不能为空').show()
            } else if (iphoneResetPassword.confirmIpt.val().replace(/\s+/g, '') === '') {
                iphoneResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('确认新密码不能为空').show()
            }

            var msgiptType = inputErrStatus(iphoneResetPassword.msgcodIpt)
            var newpwdiptType = inputErrStatus(iphoneResetPassword.newpwdIpt)
            var confirmiptType = inputErrStatus(iphoneResetPassword.confirmIpt)

            if (msgiptType && newpwdiptType && confirmiptType) {
                var timestamp = Date.parse(new Date()) / 1000;
                encryptdata = 'appid=dgtgyfxwn9gcr7ow&confirm_password='+iphoneResetPassword.confirmIpt.val().toLowerCase()+'&mobile=' + iphoneIDProcedureInfo.iphoneVerification.iphone.toLowerCase() + '&new_password=' + iphoneResetPassword.newpwdIpt.val().toLowerCase() + '&nonce=' + nonce.toLowerCase() + '&sms_code=' + iphoneResetPassword.msgcodIpt.val().toLowerCase() + '&ts=' + timestamp;
                var url = '//reg.cctv.com/openapi/v2/user/mobile/reset/password?timestamp=' + timestamp
                $.ajax({
                    type: "post",
                    url: url,
                    data: {
                        "appid": encryptras("DGTGYFXWN9GCR7OW", nonce),
                        "confirm_password":  encryptras(iphoneResetPassword.confirmIpt.val(), nonce),
                        "mobile":  encryptras(iphoneIDProcedureInfo.iphoneVerification.iphone, nonce),
                        "new_password":  encryptras(iphoneResetPassword.newpwdIpt.val(), nonce),
                        "nonce": encryptd.encrypt(nonce),
                        "sms_code":  encryptras(iphoneResetPassword.msgcodIpt.val(), nonce),
                        "ts": encryptras(timestamp, nonce),
                        "encryptdata": sha512(encryptdata)
                    },
                    dataType: "json",
                    success: function (data) {
                        console.log(data)
                        if (data.code !== '0') {
                            if (data.code === '-21011') {
                                iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('短信验证码已超时').show()
                            } else if (data.code === '-21012') {
                                iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('短信验证码错误').show()
                            } else if (data.code === '-21008') {
                                iphoneResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('新密码与确认新密码不一致').show()
                            } else if(data.code === '-21046') {
                                iphoneResetPassword.msgcodIpt.nextAll('.emailerr_tishi').find('li').text('短信验证错误尝试较多请1个小时后重试').show()
                            }  else {
                                iphoneResetPassword.confirmIpt.nextAll('.emailerr_tishi').find('li').text('' + data.message + '').show()
                            }
                        } else {
                            $('.yonghuzhongxin19940_ind05 .phonezhaohui .xiugaiqu02').hide()
                            $('.yonghuzhongxin19940_ind05 .xiugaichenggong .button input').click(function (e) { 
                                e.preventDefault();
                                window.location.replace('https://www.cctv.com/')
                            });
                            iphoneResetPassword.ClearCgIphForm()
                            $('.yonghuzhongxin19940_ind05 .xiugaichenggong').show()
                            var daojishi = 3
                            var gotoIndexTimer = setInterval(function () {
                                daojishi--
                                $('.yonghuzhongxin19940_ind05 .xiugaichenggong').find('.tiaozhuan span').text(daojishi)
                                if (daojishi === 0) {
                                    clearInterval(gotoIndexTimer)
                                    window.location.replace('https://www.cctv.com/')
                                }
                            }, 1000);
                        }
                    }
                });
            }
        },
        ClearCgIphForm: function () { // 清空手机号修改密码表单
            this.iphoneIpt.val('')
            this.imgcodeIpt.val('')
            this.imgcodeIpt.nextAll('.emailerr_tishi').find('li').hide()
            this.msgcodIpt.val('') //获取验证码
            this.msgcodIpt.nextAll('.anjianBox').find('.duanxin').text('获取验证码')
            this.msgcodIpt.nextAll('.emailerr_tishi').find('li').hide()
            this.newpwdIpt.val('')
            this.newpwdIpt.nextAll('.emailerr_tishi').find('li').hide()
            this.confirmIpt.val('')
            this.confirmIpt.nextAll('.emailerr_tishi').find('li').hide()
            clearInterval(iphoneResetPassword.msgcodetimer);
            clearInterval(imgcodeTimer)
        }
    }
    // 发送邮件验证码 

    // ======================================== 密码找回 结束 ===============================================

    // 
    var imgSlideRefreshTimer
    var startTime = 0, isMouseDown, endTime = 0, totalTime = 0;
    var verifybox, imgPannel, p_img, subBlock, b_img, token, secret_key;
    verifybox = document.getElementsByClassName("verifybox")[0];
    imgPannel = verifybox.getElementsByClassName("verify-img-panel")[0];
    p_img = imgPannel.getElementsByTagName("img")[0];
    subBlock = verifybox.getElementsByClassName("verify-sub-block")[0];
    b_img = subBlock.getElementsByTagName("img")[0];

    var barArea, changedRect, moveBlock, originX, originY, startLeft, moveBlockLeft, startTime = 0, endTime = 0, costTime, isMouseDown = false, refreshBtn, moveBlockIcon;
    barArea = verifybox.getElementsByClassName("verify-bar-area")[0];
    changedRect = document.getElementsByClassName("verify-left-bar")[0];
    moveBlock = document.getElementById("box1");
    refreshBtn = document.getElementsByClassName("verify-refresh")[0];
    moveBlockIcon = moveBlock.getElementsByClassName("iconfont")[0];
    duanedRect = document.getElementsByClassName("verify-move-block")[0];

    function yanzhengguanbi() {
        clearInterval(imgSlideRefreshTimer)
        $('.commonIDbox .xiugaiqu03 .mask').hide()
        _resetVerify()
    }

    // 初始化时获取图片等信息
    function getPicture() {
        var timestamp = Date.parse(new Date()) / 1000;
        $.ajax({
            url: "https://reg.cctv.com/openapi/v2/user/captcha/dynamic/puzzle?timestamp=" + timestamp,
            type: "get",
            data: {
                appid: 'dgtGyfXwN9Gcr7ow'
            },
            crossDomain: true,
            success: function (re) {
                console.log(re)
                if (re.code === '0') {
                    p_img.setAttribute("src", "data:image/png;base64," + re.data.origin_image_data);
                    b_img.setAttribute("src", "data:image/png;base64," + re.data.block_image_data)
                    token = re.data.token
                    secret_key = re.data.secret_key;
                    subBlock.style.width = parseInt((imgPannel.style.width || "").replace("px", "")) * 47 / 310 + 'px';
                } else {
                    console.log('手机注册图片初始化Error')
                    console.log(re)
                }
            }
        })
    }
    getPicture();

    // 加密 encryptras
    function encryptraso(messages, nonce) {
        var keyhex = CryptoJS.enc.Utf8.parse(nonce);
        var messagehex = CryptoJS.enc.Utf8.parse(messages);
        var encrypted = CryptoJS.AES.encrypt(messagehex, keyhex, {
            iv: keyhex,
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7
        })
        return encrypted.toString();
    }

    function pauseEvent(e) {
        if (e.stopPropagation) e.stopPropagation();
        if (e.preventDefault) e.preventDefault();
        e.cancelBubble = true;
        e.returnValue = false;
        return false;
    }

    moveBlock.addEventListener('mousedown', function (e) {
        e = e || window.event;
        pauseEvent(e);
        isMouseDown = true;
        moveBlock.style.backgroundColor = "rgb(255,154,0)"
        changedRect.style.borderColor = "#ffcead"
        changedRect.style.backgroundColor = "rgb(255,206,173)"
        //设置moveBlock捕获所有鼠标按下的事件
        // moveBlock.setCapture && moveBlock.setCapture();
        // event = event || window.event;
        //记录鼠标按下时的初始位置
        originX = e.clientX;
        originY = e.clientY;
        // startLeft = event.clientX - barArea.getBoundingClientRect().left
        startTime = new Date().getTime();
        $('.verify-msg').css({ 'display': 'none' })
    })

    document.addEventListener('mousemove', function (e) {
        if (!isMouseDown) return false;
        e = e || window.event;
        //移动后的鼠标坐标
        moveBlock.style.left = e.clientX - originX + "px";

        moveBlockLeft = e.clientX - originX;
        changedRect.style.width = moveBlockLeft + parseFloat(moveBlock.style.width) + 'px';
        if (moveBlockLeft <= 0) {
            moveBlock.style.left = 0;
            changedRect.style.width = moveBlock.style.width;
        }
        if (moveBlockLeft >= 380) {
            moveBlock.style.left = '380px';
            changedRect.style.width = '434px';
        }

    })

    document.addEventListener('mouseup', function (e) {
        if (!isMouseDown) return false
        isMouseDown = false;
        if (e.x == originX) return false
        _checkVerify();
        // document.onmousemove = null;
        // document.onmouseup = null;
        //取消掉的话，有时松掉鼠标，方块还是会跟着跑动?要把onmouseup时间嵌套在onmousedown时间里面，构成一个完整的事件链，即鼠标点击-移动-松开
        //当鼠标松开时，取消对事件的捕获
        // moveBlock.releaseCapture && moveBlock.releaseCapture();
    })

    refreshBtn.addEventListener('click', function (e) {
        _resetVerify();
    })
    
    // 重新获取图片并重置验证码样式
    function _resetVerify() {
        moveBlock.style.left = 0;
        changedRect.style.width = moveBlock.style.width;
        moveBlock.style.backgroundColor = "rgb(255,154,0)"
        changedRect.style.borderColor = "#ddd"
        moveBlockIcon.classList.remove("icon-close")
        moveBlockIcon.classList.remove("icon-check")
        moveBlockIcon.classList.add("icon-right")
        getPicture();
        $('.verifybox .verifybox-bottom .verify-img-panel .tishii').hide()
        $('.verify-msg').hide()
    }

    // 验证滑动是否通过
    function _checkVerify() {
        var a = moveBlockLeft;
        var timestamp = Date.parse(new Date()) / 1000;
        // var a = parseInt((moveBlockLeft || "").replace("px", ""));
        a = 310 * a / parseInt((imgPannel.style.width || "").replace("px", ""));
        $.ajax({
            url: "https://reg.cctv.com/openapi/v2/user/captcha/dynamic/puzzle/check?timestamp=" + timestamp,
            type: "post",
            data: {
                aes_point: encryptraso(JSON.stringify({
                    x: a,
                    y: 5
                }), secret_key),
                token: token,
                appid: 'dgtGyfXwN9Gcr7ow'
            },
            dataType: "json",
            crossDomain: true,
            success: function (re) {
                console.log(re)
                if (re.code === '0') {
                    emailResetPassword.captchaCheckedCode = re.data.captcha_checked_code
                    // 验证通过 处理
                    emailResetPassword.VerificationUserEmail()
                } else {
                    console.log('滑动验证Error')
                    console.log(re)
                    // 验证失败 处理
                    $('.verifybox .verifybox-bottom .verify-img-panel .tishii').text("验证错误，请重试").show();
                    errorCheckVerifyCss()

                }
            }
        })
    }
    // 成功样式
    function successCheckVerifyCss() {
        endTime = Date.now();
        totalTime = endTime - startTime
        totalTime = String(totalTime)
        totalTime = totalTime.substring(0, totalTime.length - 1)
        if (totalTime.length > 2) {
            totalTime = totalTime.substring(0, totalTime.length - 2) + '.' + totalTime.substring(totalTime.length - 2, totalTime.length)
        } else {
            totalTime = '0.' + totalTime
        }
        $('.verifybox .verifybox-bottom .verify-img-panel .tishii').text(totalTime + "s验证成功").show();
        $('.verifybox .verifybox-bottom .verify-img-panel .tishii').css({ 'background-color': 'rgb(5, 146, 68, 0.5)' })
        $('.verifybox .verifybox-bottom .verify-img-panel .tishii').css({ 'display': 'block' })
        moveBlockIcon.classList.remove("icon-right")
        moveBlockIcon.classList.add("icon-check")
        moveBlock.style.backgroundColor = "#33cc66"
        changedRect.style.borderColor = "#33cc66"
        changedRect.style.backgroundColor = "rgb(175,225,179)"
        duanedRect.style.backgroundColor = "#099a4a"
    }
    // 失败样式
    function errorCheckVerifyCss() {
        $('.verifybox .verifybox-bottom .verify-img-panel .tishii').css({ 'background-color': 'rgb(153, 2, 2, 0.5)' })
        moveBlockIcon.classList.remove("icon-right")
        moveBlockIcon.classList.add("icon-close-a")
        moveBlock.style.backgroundColor = "rgb(217,83,79)"
        changedRect.style.borderColor = "#fec1c1"
        changedRect.style.backgroundColor = "rgb(254,193,193)"
        duanedRect.style.backgroundColor = "#bf0614"
        setTimeout(_resetVerify, 1e3)
    }
</script>
        </div>
    
</div>
</div>
		<script src="//www.cctv.com/newcctv/containingPages/bottomjs/index.js" type="text/javascript" charset="utf-8"></script>
				
			
</body>
</html>