"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3658],{23731:(e,s,o)=>{o.r(s),o.d(s,{EPISODE_SPONSORS_SHELF_TESTID:()=>E,EpisodeSponsorsWrapper:()=>D,SEE_ALL_EPISODE_SPONSORS_TESTID:()=>v,default:()=>b});var n=o(50959);o(86277);var t=o(13100),r=o(11527);const i=(0,n.lazy)((()=>o.e(1148).then(o.bind(o,61148))));function a(e){let{fetchedEpisodeSponsorsData:s,fireTrackingEvent:o,numberOfSponsorsToDisplay:a,firedViewedEvents:d,version:p,reason:l,uri:u}=e;const{displayedEpisodeSponsorsData:c}=function(e){let{fetchedEpisodeSponsorsData:s,numberOfSponsorsToDisplay:o}=e;return(0,n.useMemo)((()=>({displayedEpisodeSponsorsData:s.slice(0,o)})),[s,o])}({fetchedEpisodeSponsorsData:s,numberOfSponsorsToDisplay:a}),f=(0,t.X)({displayedEpisodeSponsorsData:c,uri:u,reason:l}),S=(0,n.useMemo)((()=>c.map(((e,s)=>(0,r.jsx)(i,{fireTrackingEvent:o,firedViewedEvents:d,version:p,onClick:()=>f({ui_navigate:c.map(((e,o)=>{let{clickthrough:n}=e;return s===o?n:""})),navigate_to_external_uri:c.map((function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];let[,t]=o;return s===t}))}),...e},`${e.metadata.lineitem_id}-${s}`)))),[c,o,d,p,f]);return{displayedEpisodeSponsorsData:c,displayedSponsors:S}}var d=o(93500),p=o(11317);var l=o(20273);o(92372),o(70069),o(44227),o(91499),o(68856),o(18004),o(16527);function u(e){let{firedViewedEvents:s}=e;const o=(0,n.useRef)();return{firedViewedEvents:o.current=s??o.current??new Set}}function c(e){let{uri:s,getEpisodeSponsors:o,fireTrackingEvent:t,numberOfSponsorsToDisplay:r,version:i,reason:c}=e;const{state:f}=(0,d.b)(),S=function(e){let{uri:s,episodeBase62Id:o}=e;return(0,n.useMemo)((()=>{const e=(0,p.EC)(s),n=o||(null==e?void 0:e.id);return{uri:(0,p.YD)(n).toURI(),episodeBase62Id:n}}),[s,o])}({...null==f?void 0:f[d.H],uri:s}),{fetchedEpisodeSponsorsData:E}=(0,l.m)({...f,...S,getEpisodeSponsors:o,version:i}),{firedViewedEvents:v}=u({...null==f?void 0:f[d.H]}),D=a({fetchedEpisodeSponsorsData:E,fireTrackingEvent:t,numberOfSponsorsToDisplay:r,firedViewedEvents:v,version:i,reason:c,...S});return{...S,fetchedEpisodeSponsorsData:E,...D,firedViewedEvents:v,reason:c}}const f=3;const S=(0,n.lazy)((()=>o.e(2372).then(o.bind(o,72372)))),E="episode-sponsors-shelf",v="see-all-episode-sponsors";function D(e){const{numberOfSponsorsToDisplay:s}=function(e){let{numberOfSponsorsToDisplay:s=f}=e;return{numberOfSponsorsToDisplay:s}}(e),o=c({...e,numberOfSponsorsToDisplay:s});return o.episodeBase62Id&&o.displayedSponsors.length?(0,r.jsx)(n.Suspense,{fallback:!0,children:(0,r.jsx)(S,{...e,numberOfSponsorsToDisplay:s,state:o})}):null}const b=D},20273:(e,s,o)=>{o.d(s,{F:()=>i,m:()=>a});o(70054);var n=o(50959),t=o(49857),r=o(99537);const i=420;function a(e){let{episodeBase62Id:s,getEpisodeSponsors:a,fetchedEpisodeSponsorsData:d=[],version:p}=e;const[l,u]=(0,n.useState)(d),c=(0,n.useCallback)((async()=>{try{if(!s)throw new Error("episodeBase62Id is required to fetch episode sponsors");const e=a??(await Promise.resolve().then(o.bind(o,93150))).getEpisodeSponsors;u(await e(s,{version:p}))}catch(e){u([])}}),[s,a,p]),f=(0,t.y1)(c,i);(0,n.useEffect)((function(){d.length||f()}),[f,d.length]);const S=(0,n.useCallback)((()=>({effectCallback:f})),[f]);return(0,r.H)(S),{fetchedEpisodeSponsorsData:l}}},13100:(e,s,o)=>{o.d(s,{X:()=>r});o(86277);var n=o(50959),t=o(24071);function r(e){let{uri:s,reason:r,displayedEpisodeSponsorsData:i}=e;const a=(0,t.s4)(),d=(0,n.useCallback)((async e=>{const{createPodcastAdCtaCardEvent:n}=await o.e(8816).then(o.bind(o,96247));return a.send(n({uri:s,reason:r,lineitem_id:i.map((e=>e.metadata.lineitemId)),...e}))}),[s,i,r,a]);return(0,n.useEffect)((function(){d()}),[d]),d}},99537:(e,s,o)=>{o.d(s,{H:()=>p});var n=o(50959),t=o(10226),r=o(17676),i=o(90979),a=o(65019),d=o(95812);function p(e){const s=(0,t.W6)(r.oFA),o=(0,a.Y)((e=>{const s=(null==e?void 0:e.item)??void 0;return(0,d.k6)(s)&&s.isPodcastAd?s.id??void 0:void 0})),p=(0,i.D)(o);(0,n.useEffect)((function(){const{effectCallback:n,destructor:t}=e();return o!==p&&Boolean(o)&&setTimeout(n,s),t}),[e,o,p,s])}}}]);
//# sourceMappingURL=3658.d7f16ecc.js.mape||o.name,")"),o.transferStaticProps&&o.transferStaticProps(r),r}}]),n}(l);Object.assign(_,{options:{},context:!1,content:[],children:!1,states:null,decorators:{},description:"",markAsImmutableForCache:[],propTypes:{options:h.object,decorators:h.array,content:function(){return null},context:h.object,theme:h.object,name:h.string},defaultProps:{options:{},decorators:[],content:null,context:{}},defaultOptions:{},defaultContent:{},defaultContext:{},definition:{},setDefinition:function(t){Object.assign(this,t);var e={id:this.id,name:this.displayName||this.name,states:this.states||null,markAsImmutableForCache:this.markAsImmutableForCache,options:this.options,decorators:Object.keys(this.decorators||{})};if(e.states&&e.markAsImmutableForCache.length>0)throw p.COMPONENT_STATEFUL_IMMUTABLE_PROPS({name:e.name});e.states?e.children=Object.keys(e.states).length:e.children=this.children||!1;null!==this.content?(Array.isArray(this.content)?e.content=this.content||[]:e.content=[this.content],e.content=e.content.map((function(t){return"string"==typeof t?{contentType:t}:t})),0===e.content.length&&(e.content=null)):e.content=null;this.definition=e},transferStaticProps:function(t){var e=this;m.forEach((function(n){t[n]=t[n]||e[n]}))}}),t.exports=_},mnZK:function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,c=void 0,c=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(c)?c:String(c)),r)}var i,c}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n("q1tI"),f=n("fFtP"),l=n("XhxB"),p=n("P3gG"),y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(a,t);var e,n,o,s=c(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=s.call(this,t),t.context.state=t.options.state||!1,e}return e=a,(n=[{key:"render",value:function(){return u.createElement(p,{visible:this.props.context.state,__self:this,__source:{fileName:"/home/jenkins/workspace/NPM-web-ui/lib/components/shared/BooleanConditional/index.js",lineNumber:15,columnNumber:7}},this.props.options.nowrap?u.createElement(u.Fragment,null,this.props.children):this.props.children)}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(f);y.options={type:"object",properties:{state:{type:"boolean"}}},y.state=!0,y.decorators={},y.children=!0,t.exports=l(y,n("WYUZ"))}}]);