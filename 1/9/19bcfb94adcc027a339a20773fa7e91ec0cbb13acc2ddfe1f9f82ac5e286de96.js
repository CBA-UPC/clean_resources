(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[4730],{39042:(e,t,a)=>{"use strict";a.d(t,{bR:()=>i,h1:()=>n,uF:()=>r});var r=375,n={IMAGE:"image",VIDEO:"video",VOICE:"voice",CLIP:"clip",NONE:"none"},i={WIDTH_164:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/error_164.png"),WIDTH_604:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/error_604.png")}},33811:(e,t,a)=>{"use strict";a.d(t,{uw:()=>O,x0:()=>_});var r=a(41185),n=a(66062),i=a(18274),o=a(55752),s=a.n(o),c=a(5663),l=a.n(c),g=a(74890),d=a.n(g),u=a(62720),p=a(64123),m=a(11622),f=a(18966),I=a(41779);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=[u.Z.REBLOG,u.Z.HASH_TAG,u.Z.IMAGE,u.Z.VIDEO,u.Z.CLIPBLOG,u.Z.VOICE_BLOG,u.Z.PR,u.Z.AUTO_AD],h=x=(e,t,a)=>({type:f.V7,payload:{blogId:e,entryId:t,error:a},error:!0}),_=(0,i.H)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return function(){var i=(0,n.Z)((function*(n,i,o){var{fetchr:c}=o,g=d()(b.concat(a)),u=s()(i(),["bloggerState","blogMap",e,"blog_name"],"");if(!u||!t)return null;var I=s()(i(),["entryState","entryMetaMap",t],null),v=s()(I,"pagingType",void 0),_=r===v,O=s()(i(),["entryState","entryMap",t],null);if(I&&_&&O&&(!l()(O.entry_text)||404===O.status_code))return null;try{n({type:f.Gh,payload:{blogId:e,entryId:t,fieldFilter:g,frm:r}});var w={amebaId:u,blogId:e,entryId:t,fieldFilter:g,frm:r},L=yield c.read(p.Z.BlogEntry).params(w).end(),k=L.data;if(!(!1!==i().deviceState.isEmojiSupported)&&k.entities&&k.entities.entryMap)try{k=y(y({},k),{},{entities:y(y({},k.entities),{},{entryMap:yield(0,m.R9)(k.entities.entryMap)})})}catch(P){console.warn(P),k=L.data}return n(h(e,t,k,r))}catch(T){return n(x(e,t,T))}}));return ()})),O=(0,i.H)(((e,t)=>function(){var a=(0,n.Z)((function*(a,r){var n=s()(r(),["bloggerState","blogMap",e,"blog_name"],"");if(!n||!t)return null;var i=s()(r(),["entryState","entryMap",t],null);if("amember"!==i.publish_flg||i&&(i.entry_text||404===i.statusCode))return null;try{a({type:f.tB,payload:{entryId:t}});var o={token:s()(r(),["amebloTokenState","amebloToken"],null),amebaId:n,entryId:parseInt(t,10)},c=yield(0,I.s)(o);return a(((t,c))}catch(l){return a(((e,t)=>({type:f.Ny,payload:{entryId:e,error:t},error:!0}))(t,l))}}));return ()))},34730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Re});var r=a(3e4),n=a(41185),i=a(66062),o=(a(91938),a(76955)),s=a(55752),c=a.n(s),l=a(29466),g=a.n(l),d=a(45525),u=a(66948),p=a(97175),m=a(51650),f=a(78168),I=a(73614),v=a(33811),y=a(28135),b=a(12942),h=a(64530),x=a(73324),_=o.memo((function(e){var{amebaId:t,displayingImageKey:a,imageList:n,pageType:i,navigate:s,title:c}=e,l=(0,o.useMemo)((()=>(0,x.ZP)(i,{amebaId:t,hasContents:!0})),[t]),g=(0,o.useMemo)((()=>c||n.find((e=>e.imageId===a.imageId&&e.entryId===a.entryId))),[a,n]),d=g?"".concat(g.title,"\u306e\u753b\u50cf"):"";return(0,o.useEffect)((()=>{if(!c){var e="/".concat(t,"/image-").concat(a.entryId,"-").concat(a.imageId,".html");s(e,{replace:!0,state:{isInternal:!0}})}})),(0,r.Z)(h.c,{meta:l.meta,title:c||d})}),((e,t)=>e.amebaId===t.amebaId&&e.title===t.title&&g()(e.displayingImageKey,t.displayingImageKey)&&g()(e.imageList,t.imageList)&&e.pageType===t.pageType));_.defaultProps={displayingImageKey:null,title:null};const O=_;var w=a(53433),L=a.n(w),k=a(10793);const P=o.memo((function(e){var{title:t,date:a,targetUrl:n,entryId:i,amebaId:s,pageType:c,serviceId:l,trackTapLog:g}=e;return(0,r.Z)(o.Fragment,{},void 0,(0,r.Z)(k.f,{bloggerAmebaId:s,entryId:i,pageId:c,sectionId:"entry-detail",serviceId:l,tapLogger:g},void 0,(0,r.Z)("a",{className:L().Link,href:n},void 0,(0,r.Z)("h1",{className:L().Title},void 0,t))),(0,r.Z)("p",{className:L().Date},void 0,a))}),((e,t)=>e.title===t.title&&e.date===t.date));var T=o.memo((function(e){var{imageList:t,displayingImageKey:a,amebaId:n,pageType:i,isOfficial:o,trackTapLog:s}=e,c=t.find((),l=c?c.title:"",g=c?c.date:"",d=c?c.entryId:"",u=c?c.entryUrl:"",p=o?"official":"general";return(0,r.Z)(P,{amebaId:n,date:g,entryId:d,pageType:i,serviceId:p,targetUrl:u,title:l,trackTapLog:s})}),((e,t)=>g()(e.displayingImageKey,t.displayingImageKey)&&g()(e.imageList,t.imageList))),S=(0,d.w1)(L())(T),N=a(67834),Z=a.n(N),j=a(59226),M=a.n(j),E=a(80050),C=a.n(E),D=a(66877),K=a(5154),R=a.n(K),B=a(98477),A=a(55382),U=a.n(A);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G="NORMAL",X="PREVING",z="NEXTING",H="RETURNING",Y=37,F=39,q=o.memo((function(e){var{children:t,className:a,afterChange:n,renderPrevButton:i,renderNextButton:s,initialIndex:c,keyControl:l}=e,[g,d]=(0,o.useState)(G),[u,p]=(0,o.useState)(c),m=(0,o.useRef)(null);m.current=(0,o.useMemo)((()=>t.length-1<=u),[t,u]);var I=(0,o.useRef)(null);I.current=(0,o.useMemo)((()=>u<1),[t,u]);var v=(0,o.useRef)(!1);v.current=(0,o.useMemo)((()=>g===X||g===z||g===H),[g]);var y=(0,o.useCallback)((()=>{v.current||I.current||d(X)}),[]),b=(0,o.useCallback)((()=>{v.current||m.current||d(z)}),[]),[h,x]=(0,o.useState)(0),_=(0,o.useRef)(null),O=(0,o.useCallback)((e=>{var t=0;return g===X?t=100:g===z&&(t=-100),{transform:"translateX(".concat((100*-u+t+-h/10)/e,"%)"),width:"".concat(100*e,"%")}}),[g,h,u]),w=(0,B.QS)({onSwiping:onSwiped:e=>{var{velocity:t,dir:a}=e,r=t>.3,n=a===B.RL,i=a===B.pX,o=_.current.clientWidth/2,s=h<-o||h>o,c=!m.current&&n&&(s||r),l=!I.current&&i&&(s||r);d(c?z:l?X:H),x(0)},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),L=(0,o.useMemo)((()=>W(W({},w),{},{ref:)),[w]),k=(0,o.useCallback)((()=>{g===X?p(u-1):g===z&&p(u+1),d(G),n(g)}),[g]),P=t.map((e=>(0,r.Z)("article",{className:C().Slide,style:{width:"".concat(100/t.length,"%")}},"slide_".concat(e.key),e))),T=(0,o.useMemo)((()=>i(v.current,y)),[i]),S=(0,o.useMemo)((,[s]),N=(0,o.useCallback)((e=>{switch(e.keyCode){case Y:y();break;case F:b()}}),[]);return(0,o.useEffect)((()=>l?(_.current.addEventListener("keydown",N,!1),:,[]),(0,f.LI)((,[t]),(0,r.Z)("div",{className:U()(C().Block,a)},void 0,T,o.createElement("div",(0,D.Z)({className:C().Carousel},L,{tabIndex:0}),(0,r.Z)("div",{className:U()(C().Slider,{[C().Slider__Swiping]:v.current}),style:O(t.length),onTransitionEnd:k},void 0,P)),S)}),((e,t)=>e.children===t.children&&e.className===t.className&&e.initialIndex===t.initialIndex));q.defaultProps={afterChange:R(),className:null,children:[],renderNextButton:R(),renderPrevButton:R(),initialIndex:0,keyControl:!1};const J=q;var Q=(0,d.w1)(C())(J),$=a(39042),ee=a(68052),te=a.n(ee);const ae=o.memo((function(e){var{imageChunk:t,afterChange:a,initialIndex:n,serviceId:i,amebaId:s,trackTapLog:c,trackViewLog:l,pageType:g,isFirstSlide:d,isLastSlide:u,prevImageData:p,nextImageData:m}=e,f=(0,o.useCallback)(((e,t)=>!d&&(0,r.Z)(k.f,{bloggerAmebaId:s,categoryId:"next",contentId:p.imageId,entryId:p.entryId,pageId:g,sectionId:"image-detail-paging",serviceId:i,tapLogger:c},void 0,(0,r.Z)("button",{"aria-label":"\u524d\u306e\u753b\u50cf",className:te().ButtonPrev,disabled:e,type:"button",onClick:t},void 0,(0,r.Z)(Z(),{className:te().Icon})))),[d,p]),I=(0,o.useCallback)(((e,t)=>!u&&(0,r.Z)(k.f,{bloggerAmebaId:s,categoryId:"prev",contentId:m.imageId,entryId:m.entryId,pageId:g,sectionId:"image-detail-paging",serviceId:i,tapLogger:c},void 0,(0,r.Z)("button",{"aria-label":"\u6b21\u306e\u753b\u50cf",className:te().ButtonNext,disabled:e||u,type:"button",onClick:t},void 0,(0,r.Z)(M(),{className:te().Icon})))),[u,m]);return(0,r.Z)(Q,{afterChange:a,className:te().Block,initialIndex:n,keyControl:!0,renderNextButton:I,renderPrevButton:f},void 0,t.map((e=>(0,r.Z)(k.f,{activate:["view"],bloggerAmebaId:s,contentId:e.imageId,entryId:e.entryId,pageId:g,sectionId:"image-detail",serviceId:i,viewLogger:l},"".concat(e.entryId,"_").concat(e.imageId),(0,r.Z)("img",{alt:e.alt,"aria-hidden":e.ariaHidden,className:te().Image,src:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(e.imgUrl,"?caw=").concat(3*$.uF)})))))}),((e,t)=>e.initialIndex===t.initialIndex&&g()(e.imageChunk,t.imageChunk)));function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=o.memo((function(e){var{amebaId:t,imageList:a,isOfficial:n,fetchNextImages:i,fetchPrevImages:s,displayingImageKey:c,updateDisplayingImageKey:l,hasPrevImages:g,hasNextImages:d,trackTapLog:u,trackViewLog:p,pageType:m}=e,f=(0,o.useMemo)((()=>a.findIndex((e=>{var{imageId:t,entryId:a}=e;return t===c.imageId&&a===c.entryId}))),[c,a]),I=0===f,v=f===a.length-1,y=I?0:f-1,b=v?a.length:f+2,h=a.slice(y,b),x=h.map((e=>{var t=!(e.imageId===c.imageId&&e.entryId===c.entryId);return ne(ne({},e),{},{ariaHidden:t})})),_=h.findIndex((e=>{var{imageId:t,entryId:a}=e;return t===c.imageId&&a===c.entryId})),O=h[_]&&h[_].alt||"",w=n?"official":"general",L=I?{}:h[0],k=v?{}:h[h.length-1];return(0,o.useEffect)((()=>{var e=f<2,t=a.length-1-2<f;d&&t&&i(),g&&e&&s()}),[f]),-1===_?null:(0,r.Z)(ae,{afterChange:e=>{if(e===z){var t=h[h.length-1];l(t.imageId,t.entryId)}else if(e===X){var a=h[0];l(a.imageId,a.entryId)}},amebaId:t,ariaLabel:O,imageChunk:x,initialIndex:_,isFirstSlide:I,isLastSlide:v,nextImageData:k,pageType:m,prevImageData:L,serviceId:w,trackTapLog:u,trackViewLog:p})}),((e,t)=>g()(e.imageList,t.imageList)&&g()(e.displayingImageKey,t.displayingImageKey))),oe=(0,d.w1)(te())(ie),se=a(57224),ce=a(54285),le=o.memo((function(e){var{callback:t,root:a,rootMargin:n,barClass:i}=e,s=(0,o.useRef)(null),c=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!c.current){var e=(0,ce.T)({root:a,rootMargin:n});c.current=e.listen(s.current,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&t()}))}return)),o.createElement("span",{ref:s},(0,r.Z)(se.m,{barClass:i}))}));le.defaultProps={root:null,rootMargin:"",barClass:""};var ge=a(77128),de=a.n(ge);const ue=o.memo((function(e){var{amebaId:t,displayingItemIndex:a,fetchNextImages:n,fetchPrevImages:i,loadingNextImages:s,loadingPrevImages:c,hasPrevImages:l,hasNextImages:g,imageList:d,pageType:u,updateDisplayingImageKey:p,serviceId:m,trackTapLog:I,displayingImageKey:v}=e,y=(0,o.useRef)(null),b=(0,o.useRef)(null),[h,x]=(0,o.useState)(!0),_=(0,o.useRef)(!1),O=(0,o.useRef)(!1),w=d),L=d.map(((e,n)=>{var i=n===a;return(0,r.Z)(k.f,{bloggerAmebaId:t,contentId:e.imageId,entryId:e.entryId,pageId:u,sectionId:"footer-navigation-image-detail",serviceId:m,tapLogger:I},"image_".concat(e.entryId,"_").concat(e.imageId),o.createElement("li",{className:U()(de().ListItem,{[de().ListItem_state_displaying]:i}),ref:i?y:null},(0,r.Z)("button",{className:de().Button,type:"button",onClick:()=>{_.current=!0,p(e.imageId,e.entryId)}},void 0,(0,r.Z)("img",{alt:e.alt,className:de().Image,"data-entry-id":e.entryId,"data-image-id":e.imageId,src:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(e.imgUrl,"?cat=136")}))))}),[d,a]),P=(0,o.useCallback)((,[]),T=(0,o.useCallback)((()=>{c||(O.current=!0,i())}),[]),S=(0,o.useCallback)(((e,t,a)=>h||a?(0,r.Z)("li",{className:de().ListItem},e,(0,r.Z)(se.m,{barClass:de().Bar})):(0,r.Z)("li",{className:de().ListItem},e,(0,r.Z)(le,{barClass:de().Bar,callback:t,root:b.current,rootMargin:"".concat(292,"px")}))),[h]);return(0,f.LI)((()=>{if(h&&y.current){var e=y.current.offsetLeft-b.current.offsetLeft,t=b.current.offsetWidth/2;b.current.scrollLeft=e-t+y.current.offsetWidth/2,x(!1)}})),(0,o.useEffect)((()=>{if(d&&w&&O.current&&d.length!==w.length){var e=146*(d.length-w.length),t=l?0:146,a=b.current.scrollLeft+e-t;b.current.scrollLeft=a,O.current=!1}}),[d]),(0,o.useEffect)((()=>{if(_.current)_.current=!1;else if(y.current&&"scrollTo"in b.current&&"scrollBehavior"in b.current.style){var e=y.current.offsetLeft-b.current.offsetLeft-b.current.offsetWidth/2+y.current.offsetWidth/2;b.current.scrollTo({left:e,behavior:"smooth"})}}),[v]),o.createElement("ul",{className:U()(de().Block,{[de().Block_loading_true]:h}),ref:b},l&&S("loader_prev",T,c),L,g&&S("loader_next",P,s))}),((e,t)=>e.amebaId===t.amebaId&&e.hasNextImages===t.hasNextImages&&e.hasPrevImages===t.hasPrevImages&&e.displayingItemIndex===t.displayingItemIndex&&e.loadingNextImages===t.loadingNextImages&&e.loadingPrevImages===t.loadingPrevImages&&g()(e.prevFirstItem,t.prevFirstItem)&&g()(e.imageList,t.imageList)));var pe=o.memo((function(e){var{amebaId:t,displayingImageKey:a,fetchNextImages:n,fetchPrevImages:i,loadingNextImages:o,loadingPrevImages:s,hasPrevImages:c,hasNextImages:l,pageType:g,imageList:d,updateDisplayingImageKey:u,isOfficial:p,trackTapLog:m}=e,f=d.findIndex((),I=p?"official":"general";return(0,r.Z)(ue,{amebaId:t,displayingImageKey:a,displayingItemIndex:f,fetchNextImages:n,fetchPrevImages:i,hasNextImages:l,hasPrevImages:c,imageList:d,loadingNextImages:o,loadingPrevImages:s,pageType:g,serviceId:I,trackTapLog:m,updateDisplayingImageKey:u})}),((e,t)=>e.amebaId===t.amebaId&&e.hasNextImages===t.hasNextImages&&e.hasPrevImages===t.hasPrevImages&&e.displayingImageKey===t.displayingImageKey&&e.loadingNextImages===t.loadingNextImages&&e.loadingPrevImages===t.loadingPrevImages&&g()(e.imageList,t.imageList))),me=(0,d.w1)(de())(pe),fe=a(80733),Ie=a.n(fe),ve=a(48516);const ye=o.memo((function(e){var{amebaId:t,pageType:a,serviceId:n,targetUrl:i,trackTapLog:o}=e;return(0,r.Z)("div",{className:Ie().WrapLink},void 0,(0,r.Z)(k.f,{bloggerAmebaId:t,pageId:a,sectionId:"image-list",serviceId:n,tapLogger:o},void 0,(0,r.Z)(ve.Z,{className:Ie().Link,targetUrl:i},void 0,"\u753b\u50cf\u4e00\u89a7\u3078")))}),();var be=a(16884),he=a(75457),xe=/^[0-9]{6}$/,_e=o.memo((function(e){var{amebaId:t,isOfficial:a,pageType:n,trackTapLog:i,latestYearMonth:o}=e,s=null;xe.test(o)&&(s=o);var c=(0,be.Z)(he.Z.ImageList,{amebaId:t,entryYm:s}),l=a?"official":"general";return(0,r.Z)(ye,{amebaId:t,pageType:n,serviceId:l,targetUrl:c,trackTapLog:i})}),(),Oe=(0,d.w1)(Ie())(_e),we=a(12738),Le=a(74510),ke=a.n(Le),Pe="NORMAL",Te="NOT_EXIST",Se="HIDDEN_USER";const Ne=o.memo((function(e){var t,a,n,i,s,c,l,g,d,{amebaId:u,pageType:p,imageList:m,fetchNextImages:f,fetchPrevImages:I,displayingImageKey:v,navigate:y,hasNextImages:b,hasPrevImages:h,loadingNextImages:x,loadingPrevImages:_,updateDisplayingImageKey:w,isOfficial:L,displayType:k,trackTapLog:P,trackViewLog:T,latestYearMonth:N}=e;switch(k){case Se:return(0,r.Z)("main",{},void 0,(0,r.Z)("div",{className:ke().WrapNotification},void 0,t||(t=(0,r.Z)(O,{amebaId:u,imageList:m,navigate:y,pageType:p,title:"\u3053\u306e\u30d6\u30ed\u30b0\u3067\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093"})),a||(a=(0,r.Z)(we.L,{amebaId:u,isOfficial:L,message:"\u3053\u306e\u30d6\u30ed\u30b0\u3067\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093",pageType:p,trackTapLog:P}))));case Te:return(0,r.Z)("main",{},void 0,(0,r.Z)("div",{className:ke().WrapNotification},void 0,n||(n=(0,r.Z)(O,{amebaId:u,imageList:m,navigate:y,pageType:p,title:"\u8a72\u5f53\u3059\u308b\u753b\u50cf\u304c\u3042\u308a\u307e\u305b\u3093"})),i||(i=(0,r.Z)(we.L,{amebaId:u,isOfficial:L,message:"\u8a72\u5f53\u3059\u308b\u753b\u50cf\u304c\u3042\u308a\u307e\u305b\u3093",pageType:p,trackTapLog:P}))));case Pe:return(0,r.Z)(o.Fragment,{},void 0,s||(s=(0,r.Z)(O,{amebaId:u,displayingImageKey:v,imageList:m,navigate:y,pageType:p})),(0,r.Z)("main",{},void 0,c||(c=(0,r.Z)(S,{amebaId:u,displayingImageKey:v,imageList:m,isOfficial:L,pageType:p,trackTapLog:P})),(0,r.Z)("div",{className:ke().WrapPanel},void 0,l||(l=(0,r.Z)(oe,{amebaId:u,displayingImageKey:v,fetchNextImages:f,fetchPrevImages:I,hasNextImages:b,hasPrevImages:h,imageList:m,isOfficial:L,pageType:p,trackTapLog:P,trackViewLog:T,updateDisplayingImageKey:w}))),(0,r.Z)("div",{className:ke().WrapSlider},void 0,g||(g=(0,r.Z)(me,{amebaId:u,displayingImageKey:v,fetchNextImages:f,fetchPrevImages:I,hasNextImages:b,hasPrevImages:h,imageList:m,isOfficial:L,loadingNextImages:x,loadingPrevImages:_,pageType:p,trackTapLog:P,updateDisplayingImageKey:w})))),(0,r.Z)("div",{className:ke().WrapLink},void 0,d||(d=(0,r.Z)(Oe,{amebaId:u,isOfficial:L,latestYearMonth:N,pageType:p,trackTapLog:P}))))}return null}),((e,t)=>e.hasNextImages===t.hasNextImages&&e.hasPrevImages===t.hasPrevImages&&e.loadingNextImages===t.amloadingNextImagesebaId&&e.loadingPrevImages===t.entloadingPrevImagesryId&&e.amebaId===t.amebaId&&g()(e.displayingImageKey,t.displayingImageKey)&&g()(e.imageList,t.imageList)));var Ze=a(5563);r Ee=/^[0-9]{11}$/,Ce=/^[0-9]{11}$/,De=function(){var e=(0,i.Z)((function*(e){var{dispatch:t,getState:a,match:r}=e,{params:n}=r,{amebaId:i,entryId:o,imageId:s}=n,l=yield t((0,I.Rs)(i));if(l&&l.error)"Not Found"===c()(l,"payload.error.message")?t((0,b.Qn)(i)):t((0,b.$F)(i));else{var g=c()(a(),["bloggerState","bloggerMap",i,"blog"]),d=a().bloggerState.blogMap[g];if(d&&d.blog_id){yield t((0,v.x0)(d.blog_id,o));var u=c()(a(),["entryState","entryMap",o],{});if(u.statusCode){if(404===u.statusCode)return void t((0,b.fw)(i,o));if(200!==u.statusCode)return void t((0,b.$F)(i))}if("amember"!==u.publish_flg){yield t((0,y.bn)(i,o)),c()(a(),["imageState","imageSession","imageList"],[]).find(()||t((0,b.Qn)(i))}else{var p=(0,be.Z)(he.Z.AmemberEntry,{amebaId:i,entryId:o});yield t((0,b.qj)(p))}}else t((0,b.Qn)(i))}}));return (),Ke=o.memo((function(e){var{amebaId:t,entryId:a,canShowImage:n,pageType:i,fetchNextImages:s,fetchPrevImages:c,imageId:l,imageList:g,hasPrevImages:d,hasNextImages:u,loadingPrevImages:p,loadingNextImages:m,navigate:f,isOfficial:I,trackTapLog:v,trackViewLog:y,latestYearMonth:b}=e,[h,x]=(0,o.useState)({imageId:l,entryId:a}),_=(0,o.useCallback)((,[]),O=(0,o.useMemo)((()=>n?Ee.test(a)&&Ce.test(l)?Pe:Te:Se),[l,a,n]);return(0,r.Z)(Ne,{amebaId:t,displayType:O,displayingImageKey:h,fetchNextImages:s,fetchPrevImages:c,hasNextImages:u,hasPrevImages:d,imageList:g,isOfficial:I,latestYearMonth:b,loadingNextImages:m,loadingPrevImages:p,navigate:f,pageType:i,trackTapLog:v,trackViewLog:y,updateDisplayingImageKey:_})}),((e,t)=>e.amebaId===t.amebaId&&e.entryId===t.entryId&&e.loadingNextImages===t.amloadingNextImagesebaId&&e.loadingPrevImages===t.entloadingPrevImagesryId&&e.hasNextImages===t.hasNextImages&&e.hasPrevImages===t.hasPrevImages&&e.imageId===t.imageId&&g()(e.imageList,t.imageList)&&g()(e.seoSetting,t.seoSetting))),Re=(0,f.ee)((0,d.w1)(ke()),(0,p.provideHooks)({defer:De}),(0,u.$j)(((e,t)=>{var{match:a}=t,{params:r,route:n}=a,{amebaId:i,imageId:o,entryId:s}=r,l=n.pageType||"",g=c()(e,["imageState","imageSession"],{}),d=c()(g,"imageList",[]),u=!!c()(g,["prev","url"]),p=!!c()(g,["next","url"]),m=c()(g,["prev","loading"],!1),f=c()(g,["next","loading"],!1),I=c()(e,["bloggerState","bloggerMap",i],{}),v=c()(I,["attribute","isOfficial"],!1),y=d.map((e=>{var t="".concat(e.title,"\u306e\u8a18\u4e8b\u3088\u308a"),a=(0,be.Z)(he.Z.Image,{amebaId:i,entryId:e.entryId,imageId:e.imageId}),r=(0,be.Z)(he.Z.Entry,{amebaId:i,entryId:e.entryId});return Me(Me({},e),{},{alt:t,imageDetailUrl:a,entryUrl:r})})),b=c()(e,["imageState","imageMetaMap","assignedYearMonth"],""),h=c()(I,"official.image_protection_type")||"";return{amebaId:i,pageType:l,entryId:s,imageId:o,imageList:y,hasPrevImages:u,hasNextImages:p,loadingPrevImages:m,loadingNextImages:f,isOfficial:v,latestYearMonth:b,canShowImage:"all_deny"!==h}}),{trackTapLog:Ze.XI,trackViewLog:Ze.iG,fetchNextImages:y.SN,fetchPrevImages:y.L0}),(0,m.lB)(["match","location","navigate"]))(Ke)},74890:98477:(e,t,a)=>{"use strict";a.d(t,{QS:()=>I,RL:()=>l,mp:()=>v,pX:);var r=a(76955),n=a(91938),i=a.n(n);ar s={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},c={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},l="Left",g="Right",d="mousemove",u="mouseup";unction m(e,t){var a=r=function(t){e((function(e,a){if(!e.xy[0]||!e.xy[1]||t.touches&&t.touches.length>1)return e;var r=t.touches?t.touches[0]:t,n=p([r.clientX,r.clientY],a.rotationAngle),i=n[0],s=n[1],c=e.xy[0]-i,d=e.xy[1]-s,u=Math.abs(c),m=Math.abs(d),f=(t.timeStamp||0)-e.start,I=Math.sqrt(u*u+m*m)/(f||1);if(u<a.delta&&m<a.delta&&!e.swiping)return e;var v=function(e,t,a,r){return e>t?a>0?l:g:r>0?"Up":"Down"}(u,m,c,d),y=o({},e.eventData,{event:t,absX:u,absY:m,deltaX:c,deltaY:d,velocity:I,dir:v});a.onSwiping&&a.onSwiping(y);var b=!1;return(a.onSwiping||a.onSwiped||a["onSwiped"+v])&&(b=!0),b&&a.preventDefaultTouchmoveEvent&&a.trackTouch&&t.cancelable&&t.preventDefault(),o({},e,{eventData:o({},y,{first:!1}),swiping:!0})}))},n=i=s=m=f={ref:;return t.trackMouse&&(f.onMouseDown=a),[f,m]}r v=function(e){eturn t,e),t.prototype.render=t}(r.PureComponent);v.propTypes={onSwiped:i().func,onSwiping:i().func,onSwipedUp:i().func,onSwipedRight:i().func,onSwipedDown:i().func,onSwipedLeft:i().func,delta:i().number,preventDefaultTouchmoveEvent:i().bool,nodeName:i().string,trackMouse:i().bool,trackTouch:i().bool,innerRef:i().func,rotationAngle:i().number},v.defaultProps=s},54838:(e,t,a)=>{var r=a(18300)((function(e){return e[1]}));r.push([e.id,'._2CK5v8_1,._1AI61ifa{position:relative}._1AI61ifa{overflow:hidden;width:100%}._1AI61ifa:before{content:"";display:block;padding-top:100%}._22KGvlm2{bottom:0;position:absolute;top:0;will-change:transform}._1c8xdiTj{transform:translateZ(0);transition:all .5s ease}._3A7fwVE5{float:left;height:100%;position:relative;width:100%}',""]),r.locals={Block:"_2CK5v8_1",Carousel:"_1AI61ifa",Slider:"_22KGvlm2",Slider__Swiping:"_1c8xdiTj",Slide:"_3A7fwVE5"},e.exports=r},28604:(e,t,a)=>{var r=a(18300)((function(e){return e[1]}));r.push([e.id,"._1qBqerqz{display:block}._BSXFRMKa{color:#333;font-size:16px;font-weight:700;margin-bottom:10px;margin-top:32px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._2CggxXbl{color:#999;font-size:12px;margin-bottom:16px}",""]),r.locals={Link:"_1qBqerqz",Title:"_BSXFRMKa",Date:"_2CggxXbl"},e.exports=r},90272:(e,t,a)=>{var r=a(18300)((function(e){return e[1]}));r.push([e.id,"._1pXfIiWr{border:1px solid #e2e2e2;color:#999;display:inline-block;font-size:14px;font-weight:700;margin:0 auto;padding:13px 115px}",""]),r.locals={Link:"_1pXfIiWr"},e.exports=r},66993:(e,t,a)=>{var r=a(18300)((function(e){return e[1]}));r.push([e.id,'._S3x6EKyj{border:1px solid #e2e2e2;margin:auto;max-width:720px}._S3x6EKyj,._3Xh8VRkd{position:relative}._3Xh8VRkd:before{content:"";display:block;padding-top:100%}._hEKYVXhO{bottom:0;left:0;margin:auto;max-height:100%;max-width:100%;object-fit:contain;pointer-events:none;position:absolute;right:0;top:0;user-select:none}._9co_5vqW{border:1px solid #e2e2e2;border-radius:4px 0 0 4px;right:-1px}._9co_5vqW,._3z3fCbeJ{background-color:#fff;display:block;opacity:0;padding:0;position:absolute;top:50%;transform:translateY(-50%);z-index:1}._3z3fCbeJ{border:1px solid #e2e2e2;border-radius:0 4px 4px 0;left:-1px}._9co_5vqW:focus,._3z3fCbeJ:focus{border:2px solid #49c755;opacity:1}._S3x6EKyj:hover>._9co_5vqW,._S3x6EKyj:hover>._3z3fCbeJ{opacity:1}@media (hover:none){._9co_5vqW,._3z3fCbeJ{display:none}}._19ek8nf0{color:#aaa;font-size:24px;padding:24px 8px}',""]),r.locals={Block:"_S3x6EKyj",Item:"_3Xh8VRkd",Image:"_hEKYVXhO",ButtonNext:"_9co_5vqW",ButtonPrev:"_3z3fCbeJ",Icon:"_19ek8nf0"},e.exports=r},1566:(e,t,a)=>{var r=a(18300)((function(e){return e[1]}));r.push([e.id,'._28jLlsNG{border:1px solid #e2e2e2;box-sizing:border-box;margin:auto;max-width:720px;overflow-x:scroll;padding:16px;white-space:nowrap}._3Gu6l4N-{visibility:hidden}._218ZT5jz{animation:_mlipCuIZ 2s ease 0s 1 normal;box-sizing:border-box;display:inline-block;vertical-align:middle;white-space:normal;width:136px}@keyframes _mlipCuIZ{0%{opacity:0}to{opacity:1}}._2hYSJyZR{position:relative}._2hYSJyZR:after{bottom:0;box-shadow:#fff 0 0 0 4px,#2d8c3c 0 0 0 7px;box-sizing:border-box;content:"";display:inline-block;height:100%;left:0;position:absolute;right:0;top:0;width:100%}._218ZT5jz+._218ZT5jz{margin-left:10px}._3uOUt9h9{width:100%}._1ut4fH1V{padding:0}._8NVwnUQv{background-color:#4dac26!important;opacity:.5}',""]),r.locals={Block:"_28jLlsNG",Block_loading_true:"_3Gu6l4N-",ListItem:"_218ZT5jz",fadeIn:"_mlipCuIZ",ListItem_state_displaying:"_2hYSJyZR",Image:"_3uOUt9h9",Button:"_1ut4fH1V",Bar:"_8NVwnUQv"},e.exports=r},49573:(e,t,a)=>{var r=a(18300)(();r.push([e.id,"._3bK1sl0F{margin-bottom:24px}._3GZoa9KJ{margin-bottom:300px;text-align:center}._2_NdMSCh{margin-bottom:32px}#no-js ._2_NdMSCh{display:none}._2Zmr-KAb{margin-top:56px}@media (min-width:1168px){._2Zmr-KAb{margin-top:96px}}",""]),r.locals={WrapPanel:"_3bK1sl0F",WrapLink:"_3GZoa9KJ",WrapSlider:"_2_NdMSCh",WrapNotification:"_2Zmr-KAb"},e.exports=r},80050:(e,t,a)=>{var r=a(54838),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=n({},e.locals||{});return i(t,"_",{value:function(){return e}}),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},53433:(e,t,a)=>{var r=a(28604),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=n({},e.locals||{});return i(t,"_",{value:function(){return e}}),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},80733:(e,t,a)=>{var r=a(90272),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=n({},e.locals||{});return i(t,"_",{value:function(){return e}}),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},68052:(e,t,a)=>{var r=a(66993),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=n({},e.locals||{});return i(t,"_",{value:function(){return e}}),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},77128:(e,t,a)=>{var r=a(1566),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=n({},e.locals||{});return i(t,"_",{value:function(){return e}}),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},74510:(e,t,a)=>{var r=a(49573),n=Object.assign||i=Object.defineProperty||"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=n({},e.locals||{});return i(t,"_",{value:),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)}}]);