/*! updated; 01-31-2024 11:09 AM **/


Modulr.define("core.components:astro/elections.banner",["require","jquery","lodash","core.plugins:EventMessageHandler","core.plugins:OnScroll","core.plugins:OnWindowResize"],function(require,$,_){const OnScroll=require("core.plugins:OnScroll"),OnWindowResize=require("core.plugins:OnWindowResize"),videoSite=$(".video-site-header"),article=function(){let el=$("article .article-body");return el=0===el.length&&videoSite?$(".main-content"):el}(),vid_container=article.find(".featured-video:first"),hasVideo=0<vid_container.length;{let bool=!1,stack=[],contain=videoSite.length?vid_container.find(".sticky-wrapper"):vid_container.find("> .contain"),win=$(window);const app=new function(){const Proto=this;Proto.loaded=bool,Proto.onload=function(callback){if(bool)return callback();stack.push(callback)},Proto.moveVideo=function(){bool=bool||!0},Proto.getHeight=function(){var target=$("#elections-iframe-banner");return 0===target.length||(target=target.outerHeight())<0?0:target},Proto.setContainer=function(){var heightVal;bool&&(heightVal=Proto.getHeight(),hasVideo&&(vid_container.hasClass("sticky-video")||vid_container.find(".sticky-player"))&&1023<win.width()&&contain.css("bottom",heightVal))}};return OnScroll(function(){app.setContainer()}),OnWindowResize(,app}});
Modulr.define("core.components:astro/embeds",["cdn","astro/elections.banner"],function(CDN,banner){var obj={hasInit:!1};return obj.banner=function(){if(!window.location.pathname.includes("/published/html/component")){const cacheBuster=this.getCacheBuster(),queryStrings=(url=>{if("prod"===CDN.env)return"";let qs=url.searchParams||null,arr=["env-eaa=devnoeaa"];return qs&&["cdt"].forEach(id=>{var val=qs.get(id);val&&arr.push(id+"="+val)}),arr.push(cacheBuster),0<arr.length?"?"+arr.join("&"):""})(new URL(window.location.href));window.fetch("https://pub-admin-elections.foxnews.com/published/feed/2024/elections/all.json?"+cacheBuster).then(res=>res.json()).then(data=>{data.editorial.banner.enabled&&this.embed({src:"https://www.foxnews.com/component/banner"+queryStrings,id:"elections-2024-banner"})}).then(}}.bind(obj),obj.embed=function(opts){const iframe=document.createElement("iframe"),adhesionAd=document.querySelector(".sticky-ads.adhesion-ad");iframe.id="elections-iframe-banner",iframe.setAttribute("aria-label",opts.id),iframe.setAttribute("border","0"),iframe.setAttribute("frameborder","0"),iframe.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-top-navigation"),iframe.scrolling="no",iframe.style.setProperty("width","100%"),iframe.style.setProperty("height",0),iframe.style.setProperty("position","fixed"),iframe.style.setProperty("bottom",0),iframe.style.setProperty("left",0),iframe.style.setProperty("z-index",9999);var resizeObserver=new ResizeObserver(entries=>{var isMobile=!!(window.innerWidth<768);adhesionAd&&isMobile?iframe.style.setProperty("bottom",adhesionAd.offsetHeight+"px"):iframe.style.setProperty("bottom",0)});adhesionAd&&resizeObserver.observe(adhesionAd);const handler=e=>{e&&e.data&&"updateHeight"===e.data.type&&(e="number"==typeof e.data.detail?e.data.detail:e.data.detail.height,iframe.style.setProperty("height",e+"px"),document.body.style.setProperty("margin-bottom",e+"px"))};window.addEventListener("message",handler,!1),window.addEventListener("beforeunload",!1),iframe.src=opts.src,document.body.appendChild(iframe)}.bind(obj),obj.getCacheBuster=function(){return"cb="+3e4*Math.floor((new Date).getTime()/3e4)}.bind(obj),obj.init=bind(obj),obj});
Modulr.define("core.components:auth",["require","cdn","core.auth:api","auth/nopwd-overlay","auth/experience-gate","auth/gateConfig"],function(require,CDN){const Passwordless=require("auth/nopwd-overlay"),ExperienceGate=require("auth/experience-gate"),GATE_CONFIG=new(require("core.components:auth/gateConfig"));return new class{nit(callback){let timeout=null;function attempt(){require(["core.auth:api"],function(Auth){try{Auth.init()}catch(err){clearTimeout(timeout),timeout=setTimeout(150)}})}attempt()}iddleware(callback){"function"==typeof callback&&require(["core.auth:api"],}GatedVideo(videoId){return!!(GATE_CONFIG.getGatedVideos()||[]).includes(videoId)}}});
Modulr.define("core.components:auth/experience-gate",["require","ISA","core.components:auth/gateConfig","core.components:auth/nopwd-overlay","core.base:utils/akamai"],function(require,ISA){const Geo=require("core.base:utils/akamai").geo;let gatedVideos=(new(require("core.components:auth/gateConfig"))).getGatedVideos()||[];const NoPwd=require("core.components:auth/nopwd-overlay"),queryOverride=!!new URLSearchParams(window.location.search).get("_pwdless_overlay");return class{constructor(identifier,value){identifier&&value&&(this.identifier=identifier,this.gated=queryOverride,this.nopwd=null,queryOverride||(this.gated=this.gateCheck(identifier,value)))}gateCheck(identifier,value){return{metaTag:!!document.querySelector(`meta[property="${value}"]`)&&!!document.querySelector(`meta[property="${value}"][content="true"]`),videoId:0<=gatedVideos.indexOf(value)&&!!document.querySelector(`[data-video-id="${value}"]`)}[identifier]||!1}control(opts,callback){return new Promise((resolve,reject)=>{this.isGated().then(gated=>{if(gated){let noPwd=this.setNoPwd(opts);noPwd.on("authenticated",data=>{console.log("user is already authenticated!",data),noPwd.removeOverlay(),callback&&"function"==typeof callback&&callback()}),noPwd.on("unauthenticated",,noPwd.set(),resolve(!0)}else callback&&"function"==typeof callback&&callback(),resolve(!1)})})}setNoPwd(opts){return this.nopwd||!opts.container?null:(this.nopwd=NoPwd(opts.container,opts),this.nopwd)}getNoPwd(){return this.nopwd}isGated(){return new Promise((resolve,reject)=>{const checkGate=()=>{!this.gated||this.isGeoBlocked()||this.isGoogleBot()?resolve(!1):resolve(!0)};ISA.provider("taplytics",TaplyticsProvider=>{TaplyticsProvider&&TaplyticsProvider.isEnabled()?TaplyticsProvider.onLoad(Taplytics=>{Taplytics.featureFlagEnabled("loginGateDisabled")?resolve(!1):checkGate()}):checkGate()})})}isGoogleBotsGeoBlocked});
Modulr.define("core.components:auth/gateConfig",["require"],function(require){return class{constructor(){this.gatedVideos=["6333817368112","6335464873112","6337028985112","6337443912112"],this.GATE_KEY="foxid.gated"}getGatedVideos(){return this.gatedVideos}hasGateFlag(){return!!document.querySelector(`meta[property="${this.GATE_KEY}"]`)&&!!document.querySelector(`meta[property="${this.GATE_KEY}"][content="true"]`)}}});
Modulr.define("core.components:auth/nopwd-overlay",["require","core.auth:models/middleware","core.components:gated-overlay/overlay"],function(require,AuthMiddleware){const GatedOverlay=require("core.components:gated-overlay/overlay");class Passwordless{constructor(target,opts){this._target=target,this._opts=opts||{},this._auth_properties={},this.gatedOverlay=null,this.EVENTS={}}set(){const self=this;require(["core.auth:models/middleware"],Middleware=>{Middleware.set(props=>{(self._auth_properties=props).authenticated?self.trigger("authenticated",props):self.trigger("unauthenticated",props),self.trigger("ready",props)})})}on(name,callback,fireOnce){"function"==typeof callback&&(this.EVENTS[name]||(this.EVENTS[name]=[]),callback={callback:callback},!0===fireOnce&&(callback.fireOnce=!0),this.EVENTS[name].push(callback))}trigger(name,data){if(this.EVENTS[name]){let events=this.EVENTS[name],remove=[];events.forEach((event,index)=>{event.callback(data),event.fireOnce&&remove.push(index)}),0<remove.length&&remove.forEach(,this.EVENTS[name]=events}}setOverlay(){!this._target||this._target.length<=0||(this.gatedOverlay=GatedOverlay(this._target,this._opts),this.gatedOverlay.init())}return);
Modulr.define("core.components:embed-video",["require","embed-video/index"],function(require,EmbedVideo){function App(){}return App.prototype.set=App.prototype.init=new App});
Modulr.define("core.components:embed-video/index",["require","core.video:api","jquery"],function(require,Video,$){return function(){var embed=$(".video-container .video-player");0!==embed.length&&(embed.attr("data-video-id"),embed.attr("data-video-domain"),Video.embed(embed,{app:{rules:["autoplay","autoAdvance","inpage"]}}).on("player.ready",function(data){var iframe=embed.find("> iframe:first");0<iframe.length&&iframe.css({width:"100%",height:"100%"})}))}});
Modulr.define("core.components:gallery",["require","jquery","gallery/index"],function(require,$,Gallery){function App(){}return App.prototype.set=App.prototype.defaults=function(){var self=this,mainGalleries=$('.main-content .collection-gallery[data-gallery-ignore!="1"]'),sidebarGalleries=$('.sidebar .collection-gallery[data-gallery-ignore!="1"]'),Galleries={main:[],sidebar:[]};return mainGalleries.each(function(){var el=$(this),el=self.set({target:el,type:"auto",nextLength:5,itemsPerPage:9,modal:"image",xscroll:!0});Galleries.main.push(el)}),sidebarGalleries.each(function(){var el=$(this),el=self.set({target:el,type:"page",itemsPerPage:9,modal:"image"});Galleries.sidebar.push(el)}),Galleries},new App});
Modulr.define("core.components:gallery/hscroll",["require","jquery","lodash","core.base:utils/detector","core.plugins:OnWindowResize","core.plugins:ImageResizer","modal/modules/photo"],function(require,$,_){var Detector=require("core.base:utils/detector"),Resize=require("core.plugins:OnWindowResize"),ImageResizer=require("core.plugins:ImageResizer"),PhotoModal=require("modal/modules/photo"),INSTANCE_ITER=0;return function(props){var arr,modal,timeout,snap,startPt,SCROLL_READY=!0,SCROLL_POINTS=[0],CURRENT_INDEX=(props=props||{}).startIndex||0,NEXT_LENGTH="number"==typeof props.nextLength?props.nextLength:5,IS_MODAL=props.modal||!1,X_SCROLL_ENABLED=props.xscroll||!1,Proto=(INSTANCE_ITER++,this),props=props.target,arrows=props.find(".page-arrows"),prev=arrows.find(".prev"),next=arrows.find(".next"),wrap=props.find(".scroll-wrap"),inner=props.find(".scroll-inner"),outer=props.find(".scroll-outer"),items=inner.children(),lastIndex=items.length-1,uid="hscroll-gallery-"+INSTANCE_ITER;function scroll(val){outer.animate({scrollLeft:val},200,"linear",}function getScrollLeft(){var sel=items.slice(0,CURRENT_INDEX),val=0;return sel.each(function(){val+=$(this).outerWidth(!0)}),val}function allItemsDim(points){var width=0,height=null,scrollval=0;return items.each(function(i){var el=$(this),w=el.outerWidth(!0),h=el.outerHeight(!0),i=0===i?parseInt((el.css("margin-left")||"0").replace(/([^0-9])/g,""),10):0;width+=w+i,(null===height||height<h)&&(height=h),points&&(scrollval+=w,SCROLL_POINTS.push(scrollval))}),{width:width,height:height}}function hideShowArrows(){var val=outer.scrollLeft(),max=allItemsDim().width-outer.outerWidth();(1===CURRENT_INDEX?hide:show)(prev),(val<=0?hide:show)(prev),(CURRENT_INDEX===lastIndex?hide:show)(next),(max<=val?hide:show)(next)}function show(el){el.removeClass("hide").addClass("show")}function hide(el){el.removeClass("show").addClass("hide")}props.attr("data-uid",uid),Proto.uid=function(){return uid},Proto.goto=function(index){0<=index&&index<=lastIndex&&(CURRENT_INDEX=index,scroll(getScrollLeft()))},(IS_MODAL==="image"?true:false)&&(arr=[],items.each(function(i){var el=$(this),a=el.find("a"),el=el.find("img"),src=function(src){var w="mobile"===Detector.current()?650:868;return ImageResizer(src||"",w,"16:9")}(el.attr("src")),id=INSTANCE_ITER+"_"+(i+1);a.attr("href","#slide="+id),a.on("click",function(evt){var data;evt.preventDefault(),evt=i,(data=_.cloneDeep(arr))[evt].active="show",modal.set(data)}),arr.push({active:"",imgAlt:el.attr("alt")||"",src:src})}),modal=new PhotoModal),allItemsDim().width>outer.width()&&(prev.find("a").on("click",function(evt){if(evt.preventDefault(),SCROLL_READY)return SCROLL_READY=!1,NEXT_LENGTH?CURRENT_INDEX-=NEXT_LENGTH:--CURRENT_INDEX,scroll(getScrollLeft()),!1}),next.find("a").on("click",function(evt){if(evt.preventDefault(),SCROLL_READY)return SCROLL_READY=!1,NEXT_LENGTH?CURRENT_INDEX+=NEXT_LENGTH:++CURRENT_INDEX,scroll(getScrollLeft()),!1}),hideShowArrows(),show(items),X_SCROLL_ENABLED&&"scroll"!==outer.css("overflow-x")&&outer.css("overflow-x","scroll"),snap=timeout=null,startPt=outer.scrollLeft(),outer.on("mousewheel touchend",function(){clearTimeout(snap),clearTimeout(timeout),timeout=setTimeout(function(){hideShowArrows();var index=function(startPt){var curr=outer.scrollLeft(),amount=items.length,index=0,dir=curr<startPt?"left":"right";if(curr+outer.width()>=outer.get(0).scrollWidth)index=SCROLL_POINTS.length-1;else for(var i=0;i<SCROLL_POINTS.length;i++){var val=SCROLL_POINTS[i];if(curr<val){index=i-1;break}}!function(){(id=index+(dir==="right"?1:-1))<0?id=0:amount-1<id&&(id=amount-1);var id={id:id,val:SCROLL_POINTS[id]};SCROLL_POINTS[index];return"right"==dir?.76<=curr/id.val:curr/SCROLL_POINTS[index]<=1.75}()||"right"!=dir||index++;return index}(startPt);CURRENT_INDEX=index,snap=setTimeout(1500)},50)}),function(){function set(){if("mobile"===Detector.current())return inner.removeAttr("style");var width=0,padding=function(){var width=0;return width=(width+=parseInt((inner.css("padding-left")||"0").replace(/([^0-9])/g,""),10))+parseInt((inner.css("padding-right")||"0").replace(/([^0-9])/g,""),10)}(),itemsDim=allItemsDim(!0),width=width+padding+itemsDim.width;inner.css("width",width),wrap.css("height",itemsDim.height)}Resize(set),set()}())}});
Modulr.define("core.components:gallery/index",["require","gallery/hscroll","gallery/page","core.base:utils/detector"],function(require){var HScroll=require("gallery/hscroll"),Page=require("gallery/page"),Detector=require("core.base:utils/detector");return function(props){var res,type;switch((props=props||{}).type="auto"===(type=props.type||"auto")?"mobile"===Detector.current()?"page":"hscroll":type,props.modal=props.modal||null,props.type){case"hscroll":res=new HScroll(props);break;case"page":res=new Page(props);break;default:res=new HScroll(props)}return res}});
Modulr.define("core.components:gallery/page",["require","jquery","lodash","core.base:utils/detector","core.plugins:OnWindowResize","core.plugins:ImageResizer","modal/modules/photo"],function(require,$,_){var Detector=require("core.base:utils/detector"),Resize=require("core.plugins:OnWindowResize"),ImageResizer=require("core.plugins:ImageResizer"),PhotoModal=require("modal/modules/photo"),INSTANCE_ITER=0;return function(props){var arr,modal,SCROLL_READY=!0,CURRENT_PAGE=(props=props||{}).startPage||0,IS_MODAL=props.modal||!1,ITEMS_PER_PAGE="number"==typeof props.itemsPerPage?props.itemsPerPage:9,props=(INSTANCE_ITER++,props.target),arrows=props.find(".page-arrows"),prev=arrows.find(".prev"),next=arrows.find(".next"),inner=props.find(".scroll-inner"),outer=props.find(".scroll-outer"),items=inner.children(),pageLength=(items.length,Math.floor(items.length/ITEMS_PER_PAGE)+(items.length%ITEMS_PER_PAGE==0?0:1)),uid="page-gallery-"+INSTANCE_ITER;function setPage(val){if(val){if(val===CURRENT_PAGE)return;CURRENT_PAGE=val}CURRENT_PAGE=CURRENT_PAGE<1?1:pageLength<CURRENT_PAGE?pageLength:CURRENT_PAGE;var startIndex=getStartIndex();hide(items);for(var i=0;i<ITEMS_PER_PAGE;i++){var item=items.eq(startIndex+i);if(0===item.length)break;show(item)}SCROLL_READY=!0,hideShowArrows();var val=arrows.find(".count"),max=items.length,startItem=getStartIndex()+1,endItem=startItem+(ITEMS_PER_PAGE-1);startItem=["Showing",startItem+"-"+(endItem=max<endItem?max:endItem),"of"+max].join(" "),val.text(startItem)}function hideShowArrows(){(1===CURRENT_PAGE?hide:show)(prev),(CURRENT_PAGE===pageLength?hide:show)(next)}function getStartIndex(){return(CURRENT_PAGE-1)*ITEMS_PER_PAGE}function setAbsHeight(){outer.removeAttr("style"),outer.css("height",outer.height())}function show(el){el.removeClass("hide").addClass("show")}rops.attr("data-uid",uid),this.uid=function(){return uid},this.goto=function(page){var val;pageLength<=1||0<page&&1<pageLength&&page<=pageLength&&(CURRENT_PAGE=page,scroll((page=items.slice(0,CURRENT_PAGE),val=0,page.each(,val)))},(IS_MODAL==="image"?true:false)&&(arr=[],items.each(function(i){var el=$(this),a=el.find("a"),el=el.find("img"),id=INSTANCE_ITER+"_"+(i+1);a.attr("href","#slide="+id),a.on("click",function(evt){var data;evt.preventDefault(),evt=i,(data=_.cloneDeep(arr))[evt].active="show",modal.set(data)}),arr.push({active:"",imgAlt:el.attr("alt")||"",src:(id=el.attr("src"),a="mobile"===Detector.current()?650:868,ImageResizer(id||"",a,"16:9"))})}),modal=new PhotoModal),pageLength<=1||(prev.find("a").on("click",function(evt){if(evt.preventDefault(),SCROLL_READY)return SCROLL_READY=!1,CURRENT_PAGE--,setPage(),!1}),next.find("a").on("click",function(evt){if(evt.preventDefault(),SCROLL_READY)return SCROLL_READY=!1,CURRENT_PAGE++,setPage(),!1}),setPage(1),setAbsHeight(),Resize(,hideShowArrows())}});
Modulr.define("core.components:gated-overlay/modules/passwordless-article-body",["require","ISA"],function(require,ISA){class PasswordlessArticleBody{constructor(overlayController){overlayController&&(overlayController=(this.overlayController=overlayController).getOverlay(),this.overlay=overlayController,this.form=overlayController.querySelector(".article-gating-form"),this.emailInput=overlayController.querySelector('.article-gating-form input[type="email"]'),this.error=overlayController.querySelector(".article-gating .error"),this.formData=null)}init(){this.form.addEventListener("submit",e=>{e.preventDefault(),this.formData=new FormData(this.form);var e=this.formData.get("gate-email"),isValid=this.overlayController.validateEmail(e);this.toggleError(isValid),isValid&&(this.overlayController.getLoginFlag()?this.overlayController.goToLogin():this.requestMagicLink(e))})}toggleError(valid){valid?(this.error.classList.add("hide"),this.error.classList.remove("show")):(this.error.classList.add("show"),this.error.classList.remove("hide"))}requestMagicLink(email){this.overlayController&&(email={email:email,fi:!0},this.overlayController.toggleLoader(!0),this.overlayController.startPasswordless(email).then(response=>{ISA.track({"gated-overlay-email-success":{submit_email:"Article_Submit_Email_Button"}}),this.overlayController.goToPollingPage()}))}}return overlayController=>new PasswordlessArticleBody(overlayController)});
Modulr.define("core.components:gated-overlay/modules/passwordless-email",["require","ISA"],function(require,ISA){class PasswordlessEmail{constructor(overlayController){overlayController&&(overlayController=(this.overlayController=overlayController).getOverlay(),this.overlay=overlayController,this.form=overlayController.querySelector(".gate-email-form"),this.emailInput=overlayController.querySelector('.gate-email-form input[type="email"]'),this.error=overlayController.querySelector(".email-container .error"),this.formData=null)}init(){this.form.addEventListener("submit",e=>{e.preventDefault(),this.formData=new FormData(this.form);var e=this.formData.get("gate-email"),isValid=this.overlayController.validateEmail(e);this.toggleError(isValid),isValid&&(this.overlayController.getLoginFlag()?this.overlayController.goToLogin():this.requestMagicLink(e))})}toggleErrorequestMagicLink(email){this.overlayController&&(email={email:email,fi:!0},this.overlayController.toggleLoader(!0),this.overlayController.startPasswordless(email).then(response=>{var data=this.overlayController.getData();this.overlayController.setData(data),ISA.track({"gated-overlay-email-success":{submit_email:"EnterEmail_VideoEnterEmailButton"}}),this.overlayController.setView("passwordless-polling")}))}}return overlayController=>new PasswordlessEmail(overlayController)});
Modulr.define("core.components:gated-overlay/modules/passwordless-polling",["require"],function(require){class PasswordlessPolling{constructor(controller){controller&&(controller=(this.overlayController=controller).getOverlay(),this.overlay=controller,this.resubmit=controller.querySelector(".resubmit-email"))}init(){this.overlayController&&(this.resubmit&&this.registerBackToEmail(),this.overlayController.goToPollingPage())}registerBackToEmail(){this.resubmit.addEventListener("click",e=>{e.preventDefault(),this.resetData().then(})}return );
Modulr.define("core.components:gated-overlay/overlay",["require","lodash","ISA","core.auth:api","core.templates:controls/api","core.plugins:ValidateForm"],function(require,_,ISA){const Template=require("core.templates:controls/api"),ValidateForm=new(require("core.plugins:ValidateForm"));let Broker=null,initialView=!0;class Overlay{constructor(target,opts){this._opts=opts=opts||{},this.views=["passwordless-email","passwordless-polling","passwordless-article-body"],this.view=opts.view||"passwordless-email",this._target=0<target.length?target[0]:target,this.template=null,this.overlay=null,this.observer=null,this.overlaySet=!1,this.directToLogin=!1,this.data={},this.loginInterval=null,this.loginPollTimer=15e3,this.site=Boolean(window.location.hostname.match(/(foxbusiness)/g)),this.existingTemplate=opts.existingTemplate||null}init(){if(this._target){let startingView=this.view;require(["core.auth:api"],auth=>{auth.middleware(Middleware=>{Broker=Middleware.broker,ISA.provider("taplytics",TaplyticsProvider=>{TaplyticsProvider&&TaplyticsProvider.isEnabled()?TaplyticsProvider.onLoad(Taplytics=>{Taplytics.featureFlagEnabled("PasswordLoginGate")?(startingView="passwordless-email",this.directToLogin=!0,this.setOverlay(),this.setView(startingView)):this.startPasswordless().then(hasPending=>{hasPending&&(startingView="passwordless-polling"),this.setOverlay(),this.setView(startingView)})}):this.startPasswordless().then(hasPending=>{hasPending&&(startingView="passwordless-polling"),this.setOverlay(),this.setView(startingView)})})})})}}startPasswordless(data){if(Broker){let info=data||this.data||{};return info.referrer=window.location.href,new Promise((resolve,reject)=>{Broker.sendMessage("startPasswordless",info,response=>{response.id&&"error:email-required"===response.id?this.clearPasswordlessUser().then(:(response.data&&this.setData(response.data),resolve(response))})})}}clearPasswordlessUser(){if(Broker)return new Promise((resolve,reject)=>{Broker.sendMessage("clearPasswordlessUser",null,()=>{this.setData({}),resolve(!0)})})}render(view){var markup;(markup=this.template?this.template(this.data):this.existingTemplate||null)&&this.overlay&&(this.existingTemplate||(this.overlay.innerHTML=markup),this.overlaySet=!0,this.loadModule(view).then(overlayView=>{overlayView(this).init(),initialView&&(initialView=!1,"passwordless-email"===this.view?ISA.track({"saw-video-gated-overlay":{}}):"passwordless-article-body"===this.view&&ISA.track({"saw-article-gated-overlay":this.getMetaData()}))}))}setView(view){this.views.includes(view)&&(this.view=view,this.existingTemplate?(this.render(view),this.toggleLoader(!1)):(this.toggleLoader(!0),this.loadTemplate(view).then(html=>{this.template=_.template(html),this.render(view),this.toggleLoader(!1)})))}loadModule(view){return new Promise((resolve,reject)=>{require(["core.components:gated-overlay/modules/"+view],overlayView=>{resolve(overlayView)})})}loadTemplate(view){return new Promise((resolve,reject)=>{Template.get(`/static/orion/scripts/core/components/app/gated-overlay/templates/${view}.html`,})}etOverlay(){var overlay=this.existingTemplate||document.createElement("div");overlay.classList.add("gated-overlay"),this.overlay=overlay,this._target.classList.add("has-gated-overlay"),this.existingTemplate||this._target.appendChild(overlay),this.registerObserver()}registerObserver(){this.observer||(this.observer=new MutationObserver(mutations=>{let tempTemplate=this.existingTemplate?this.existingTemplate.cloneNode(!0):null;mutations.forEach(mutation=>{0<mutation.removedNodes.length&&0<=[...mutation.removedNodes].indexOf(this.overlay)&&(this.removeOverlay(),this._target.classList.add("has-gated-overlay"),this.overlay=tempTemplate||null,tempTemplate&&(this.existingTemplate=tempTemplate,this._target.prepend(tempTemplate)),this.init())})}),this.observer.observe(this._target,{childList:!0}))}removeOverlay(){this.observer&&(this.observer.disconnect(),this.observer=null),this.overlay.remove(),this.overlay=null,this._target.classList.remove("has-gated-overlay"),this.isSet=!1}oToPollingPage(referrer){var client=this.site?"my.foxbusiness.com":"my.foxnews.com",referrer=(referrer=referrer||window.location.href)?"&referrerUrl="+referrer:"";window.location.href=`https://${client}?p=check-inbox`+referrer}Set(){return this.overlaySet}getView(){return this.view}getLoginFlag(){return this.directToLogin}getData(){return this.data}etMetaData(){var articleGatingTitle,metaData={},prismSectionMeta=document.querySelector('meta[name="prism.section"]'),prismSectionMeta=(prismSectionMeta&&(metaData.section=prismSectionMeta.content),document.querySelector('meta[name="dc.title"]')),prismSectionMeta=(prismSectionMeta&&(metaData.title=prismSectionMeta.content),document.querySelector('meta[property="og:type"]')),prismSectionMeta=(prismSectionMeta&&(metaData.type=prismSectionMeta.content),document.querySelector(".has-gated-overlay"));return prismSectionMeta&&(articleGatingTitle=prismSectionMeta.querySelector(".article-gating-title").textContent,prismSectionMeta=prismSectionMeta.querySelector(".article-gating-subtitle").textContent,metaData.articleGatingTitle=articleGatingTitle,metaData.articleGatingSubtitle=prismSectionMeta),metaData}}return);
Modulr.define("core.components:modal",["require","modal/modules/video","modal/modules/newsletter","modal/modules/photo.gallery"],function(require){function App(){}return App.prototype.video=function(props){return new(require("modal/modules/video"))(props)},App.prototype.newsletter=App.prototype.photoGallery=new App});
Modulr.define("core.components:modal/modules/newsletter",["require","jquery","lodash","modernizr","core.templates:controls/api","core.plugins:Base64","newsletter"],function(require,$,_,Modernizr){var Template=require("core.templates:controls/api"),Base64=require("core.plugins:Base64"),Newsletter=require("newsletter"),TEMPLATE_MARKUP=!1,TEMPLATE_INIT=!1,HOVER_OVER=!1;return function(props){var arr,SLID=(props=props||{})&&props.SLID?props.SLID:null,MODAL_ID=(props="number"!=typeof props.variantId?0:props.variantId,(arr=[0,0,1,3,5,6])[props]?"email-"+arr[props]:""),target=null;function render(){var names,parent,listener,html;target||(names={uid:encode("modal"),email:encode("email"),submit:encode("submit"),rnd1:encode("rnd1"),rnd2:encode("rnd2")},html=TEMPLATE_MARKUP({uid:names.uid,slid:SLID,name_email:names.email,name_signup:names.submit,name_rnd1:names.rnd1,name_rnd2:names.rnd2m,val_1:encode("val1"),modal_id:MODAL_ID}),$("#wrapper").prepend(html),0!==(target=$('#wrapper > .popup-modal > .modal-email[data-uid="'+names.uid+'"]:first')).length&&(html=target.find(".content"),parent=target.parent(),"1"!==target.attr("data-init")&&(target.attr("data-init","1"),target.find("a.close").on("click",function(evt){return evt.preventDefault(),parent.remove(),!1}),Modernizr.touchevents?(html.on("touchstart",function(){HOVER_OVER=!0}),html.on("touchend",,listener=null,$("html, body").on("touchend",function(){clearTimeout(listener),listener=setTimeout(function(){0<parent.length&&parent.hasClass("show")&&!HOVER_OVER&&parent.remove()},50)})):(html.hover(function(){HOVER_OVER=!0},function(){HOVER_OVER=!1}),$("html, body").on("click",function(){0<parent.length&&parent.hasClass("show")&&!HOVER_OVER&&parent.remove()}))),html=target.find("form"),Newsletter.set({elm:html,SLID:SLID,INPUT:html.find('input[name="'+names.email+'"]'),INPUT_STR:" ",onError:onSuccess:)))}function encode(str){return Base64.encode(str+(new Date).getTime())}this.set=function(){TEMPLATE_MARKUP?render():TEMPLATE_INIT||(TEMPLATE_INIT=!0,Template.get("/static/orion/scripts/core/components/app/modal/templates/newsletter.html",function(html){TEMPLATE_MARKUP=_.template(html),render()}))}}});
Modulr.define("core.components:modal/modules/photo.gallery",["require","jquery","lodash","core.templates:api","core.base:utils/environment","core.base:utils/detector","core.plugins:ImageResizer","core.plugins:OnWindowResize"],function(require,$,_){require("core.base:utils/environment");var Detector=require("core.base:utils/detector"),ImageResizer=require("core.plugins:ImageResizer");require("core.plugins:OnWindowResize");return function(props){$(".main-content .collection-gallery");var railGallery=$(".sidebar .collection-gallery"),Template=require("core.templates:api"),view=Detector.current(),Proto=this,target=null,TEMPLATE_MARKUP=!1,HOVER_OVER=!1,EVENT_CALLBACK={};function setPopup(type,items,elem,index){Template.get("/static/orion/scripts/core/components/app/modal/templates/photo.html",function(html){TEMPLATE_MARKUP=_.template(html),function(type,itemList,active,index){var items=function(){var arr=[];return itemList.each(function(i){var img=$(this).find("img"),src=ImageResizer(img.attr("src")||"",868,0);arr.push({active:i===index?"show":"",imgAlt:img.attr("alt")||"",src:src})}),arr}();target&&target.attr("data-type")===type?(index=index||0,target.addClass("show"),target.find("li#slide-"+index).addClass("show")):(items=TEMPLATE_MARKUP({items:items}),$("#wrapper").prepend(items),(target=$("#wrapper > .popup-modal:first")).attr("data-type",type));$("body").addClass("scroll-lock");var content=target.find(".content"),items=target.find(".page-arrows .next"),type=target.find(".page-arrows .prev");"1"!==target.attr("data-init")&&(target.attr("data-init","1"),items.on("click",function(evt){evt.preventDefault();evt=content.find("li.show");(0<evt.next().length?evt.next():content.find("li:first")).addClass("show"),evt.removeClass("show")}),type.on("click",function(evt){evt.preventDefault();evt=content.find("li.show");(0<evt.prev().length?evt.prev():content.find("li:last")).addClass("show"),evt.removeClass("show")}),target.find("a.close").on("click",,content.hover(function(){HOVER_OVER=!0},function(){HOVER_OVER=!1}),$("html, body, .popup-modal.show").on("click",function(){target&&target.hasClass("show")&&!HOVER_OVER&&Proto.close(active)}),$(document).keyup()}(type,items,elem,index)})}Proto.set=function(type){function setCount(init,dir){init?(first=1,last=images.length<9?images.length:9):"next"===dir?last+9<images.length?(first+=9,last+=9-add):(add=images.length-last,first=last,last+=add):"prev"===dir&&(0!==add?((first-=9)<=0&&(first=1),last-=add,add=0):(first===last?first-=9:first<0?(first=1,last=9):(first-=9,last-=9),0===first&&(first=1))),count.html("Showing <span>"+first+"-"+last+"<span> of <span>"+images.length+"</span>")}var scroll,total_viewable_ht,total_rows,total_items_ht,prev_btn,next_btn,holder,count,images,current,first,last,add;"rail"===type&&0<railGallery.length&&(holder=railGallery.find(".scroll-outer"),count=railGallery.find(".count"),images=[],add=last=first=current=0,(images=holder.find("article")).each(,setCount(!0),images.length<=9||(type=Math.floor(images.first().outerHeight(!0)),total_viewable_ht=3*type,total_rows=Math.ceil(images.length/3),scroll=total_viewable_ht<=(total_items_ht=type*total_rows)-total_viewable_ht?total_viewable_ht:total_items_ht-total_viewable_ht,holder.height(total_viewable_ht),type=holder.siblings(".page-arrows"),prev_btn=type.find(".prev"),next_btn=type.find(".next"),9<images.length&&next_btn.addClass("show"),next_btn.on("click",function(evt){evt.preventDefault(),current=holder.scrollTop(),holder.scrollTop(current+scroll),(total_items_ht<=(current+=scroll)+scroll||last<first||images.length<=last+9||last===images.length||first>images.length)&&next_btn.removeClass("show"),prev_btn.addClass("show"),setCount(!1,"next")}),prev_btn.on("click",function(evt){evt.preventDefault(),holder.scrollTop(current-scroll),0===(current-=scroll)&&prev_btn.removeClass("show"),next_btn.addClass("show"),setCount(!1,"prev")}),images.on("click",function(evt){var index;"mobile"!==view&&(evt.preventDefault(),evt=$(this).addClass("active"),index=images.index($(this)),setPopup("rail",images,evt,index))})))},Proto.close=function(active){if(target){target.removeClass("show"),target.find("li.show").removeClass("show"),active&&active.removeClass("active"),$("body").removeClass("scroll-lock");var active="close",data=void 0;if(EVENT_CALLBACK[active])for(var i=0,evt=EVENT_CALLBACK[active];i<evt.length;i++)evt[i](data)}}}});
Modulr.define("core.components:modal/modules/photo",["require","jquery","lodash","ISA","core.templates:api","cdn"],function(require,$,_,ISA){var Template=require("core.templates:api"),require=require("cdn").domain.replace(/^\/{2}/,"").replace(/\/$/,""),TEMPLATE_MARKUP=!1,TEMPLATE_INIT=!1,HOVER_OVER=!1,PLACEHOLDER_IMG="//a57.foxnews.com/"+require+"/static/orion/img/868/488/clear.gif";(new Image).src=PLACEHOLDER_IMG;return function(props){var Proto=this,target=null,EVENT_CALLBACK={},LOADED_IMAGE=[];function render(data){var modalClose,data=TEMPLATE_MARKUP({placeholderImg:PLACEHOLDER_IMG,items:data}),items=(0===(target=$('#wrapper > .popup-modal[data-type="photo"]')).length?($("#wrapper").prepend(data),target=$('#wrapper > .popup-modal[data-type="photo"]')):target.find(".slide-container").html($(data).find(".slide-container").html()),$("body").addClass("scroll-lock"),target.find(".slide-container").children()),maxIndex=items.length-1;function getIndexEl(){return items.index(items.filter(function(){return!!$(this).hasClass("show")}))}function setFocus(type,currIndex){currIndex=(currIndex=currIndex+("next"===type?1:-1))<0?maxIndex:maxIndex<currIndex?0:currIndex;items.removeClass("show"),items.eq(currIndex).addClass("show")}function preloadImages(currIndex){var prevIndex=currIndex-1,nextIndex=currIndex+1,nextIndex=(prevIndex<0&&(prevIndex=maxIndex),items.eq(nextIndex=maxIndex<nextIndex?0:nextIndex)),prevIndex=items.eq(prevIndex);function preload(item){var el=item.find(".m img"),src=el.attr("data-src")||null;src&&(-1===LOADED_IMAGE.indexOf(src)?(LOADED_IMAGE.push(src),(item=new Image).onload=function(){el.attr("src")!==src&&el.attr("src",src)},item.src=src,setTimeout(function(){el.attr("src")!==src&&el.attr("src",src)},3e3)):el.attr("src",src),el.removeAttr("data-src"))}preload(items.eq(currIndex)),preload(nextIndex),preload(prevIndex)}preloadImages(getIndexEl()),setTimeout(100),1!==target.attr("data-init")&&(target.attr("data-init","1"),target.find(".page-arrows .prev").on("click",function(evt){evt.preventDefault();evt=getIndexEl();preloadImages(evt),setFocus("prev",evt)}),target.find(".page-arrows .next").on("click",function(evt){evt.preventDefault();evt=getIndexEl();preloadImages(evt),setFocus("next",evt)}),target.find("a.close").on("click",function(evt){return evt.preventDefault(),Proto.close(),!1}),target.find(".content").hover(function(){HOVER_OVER=!0},function(){HOVER_OVER=!1}),modalClose=null,$("html, body").on("click",function(){var modal=$('#wrapper > .popup-modal[data-type="photo"]');clearTimeout(modalClose),modalClose=setTimeout(function(){modal&&modal.hasClass("show")&&!HOVER_OVER&&Proto.close()},50)}),$(document).keyup(function(evt){27===evt.keyCode&&Proto.close()})),triggerCallback("ready")}function triggerCallback(event,data){if(EVENT_CALLBACK[event])for(var i=0,evt=EVENT_CALLBACK[event];i<evt.length;i++)evt[i](data)}Proto.set=function(data){TEMPLATE_MARKUP?render(data):TEMPLATE_INIT||(TEMPLATE_INIT=!0,Template.get("/static/orion/scripts/core/components/app/modal/templates/photo.html",)},Proto.on=function(event,callback){void 0===EVENT_CALLBACK[event]&&(EVENT_CALLBACK[event]=[]),EVENT_CALLBACK[event].push(callback)},Proto.close=function(){target&&($("body").removeClass("scroll-lock"),target.removeClass("show"),triggerCallback("close"))}}});
Modulr.define("core.components:modal/modules/video",["require","jquery","lodash","ISA","core.templates:api","core.base:utils/localStorage","core.video:api","core.base:utils/page.reload"],function(require,$,_,ISA){var Template=require("core.templates:api"),Video=require("core.video:api"),PageReload=(require("core.base:utils/localStorage"),require("core.base:utils/page.reload")),TEMPLATE_MARKUP=!1,TEMPLATE_INIT=!1,HOVER_OVER=!1;return function(props){var current,Proto=this,target=null,instance=null,EVENT_CALLBACK={};function render(){var videoId=current.videoId,intcmp=(current.config&&current.config.details&&current.config.details,current.config&&current.config.intcmp?current.config.intcmp:null),callback=current.callback||null,html=(target?(target.addClass("show"),target.find(".content").css("visibility","hidden")):(html=TEMPLATE_MARKUP(),$("#wrapper").prepend(html),target=$("#wrapper > .popup-modal:first")),$("body").addClass("scroll-lock"),target.find(".content")),holder=target.find(".m.video-player .main-player");intcmp&&ISA.track("video-modal",{videoId:videoId,intcmp:intcmp}),holder.attr("data-video-id")!==videoId?(intcmp={app:{rules:["autoplay","noTitleBar","autoAdvance"]}},current.config&&current.config.domain&&(intcmp.app.domain=/foxbusiness/i.test(current.config.domain)?"foxbusiness":"foxnews"),current.config&&current.config.playername&&intcmp.app.rules.push("playername:"+current.config.playername),target.attr("data-video-init")?instance.change(videoId,intcmp):(target.attr("data-video-init","1"),holder.attr("data-video-id",videoId),instance=Video.embed(holder,intcmp)),PageReload.clear()):(showContent(),PageReload.clear(),instance.trigger("play")),"1"!==target.attr("data-init")&&(target.attr("data-init","1"),target.find("a.close").on("click",,html.hover(function(){HOVER_OVER=!0},function(){HOVER_OVER=!1}),$("html, body").on("click",function(){target&&target.hasClass("show")&&!HOVER_OVER&&Proto.close()}),$(document).keyup(),instance.on("amp.mediachange",function(data){var title,desc;showContent(),data&&(title=data.amp&&data.amp.title?data.amp.title:"&nbsp;",desc=data.amp&&data.amp.description?data.amp.description:"&nbsp;",data=data.amp&&data.amp.link?data.amp.link:"#",target.find(".info .title a").text(title).attr("href",data),target.find(".info .dek").text(desc))}),"function"==typeof callback&&callback(instance)}roto.set=function(videoId,config,callback){current={videoId:videoId,config:config,callback:callback},TEMPLATE_MARKUP?render():TEMPLATE_INIT||(TEMPLATE_INIT=!0,Template.get("/static/orion/scripts/core/components/app/modal/templates/video.html",)},Proto.on=Proto.close=function(){if(target){$("#wrapper > .popup-modal:first").remove(),target||target.remove(),target=null,$("body").removeClass("scroll-lock"),PageReload.reset();var event="close",data=void 0;if(EVENT_CALLBACK[event])for(var i=0,evt=EVENT_CALLBACK[event];i<evt.length;i++)evt[i](data)}}}});
Modulr.define("core.components:newsletter",["require","newsletter/index","newsletter/recaptcha"],function(require,Newsletter,Recaptcha){eturn App.prototype.set=App.prototype.recaptcha=new App});
Modulr.define("core.components:newsletter/comm",["require","jquery","cdn","core.plugins:EventMessageHandler"],function(require,$,CDN,EventMessageHandler){var LoadHandler=new EventMessageHandler,IFRAME_LOADED=!1,READY_STACK=[];LoadHandler.addHandler("parent.newsletter.iframe.loaded",function(){if(IFRAME_LOADED=!0,0<READY_STACK.length)for(;0<READY_STACK.length;){var props=READY_STACK.shift();LoadHandler.sendMessage($("#newsletter-ifr-comm").get(0),"newsletter.messenger.submit",props)}});return function(uid){var iframeSrc=`https://${"qa"===CDN.env?"dev":/stage|staging/.test(CDN.env)?"stage":"www"}.foxnews.com/portal/newsalertsubscribe-xdcomm`,iframe=($("body").append('<iframe id="newsletter-ifr-comm" src="'+iframeSrc+'" style="width:0;height:0;display:none;"></iframe>'),$("#newsletter-ifr-comm")),Handler=new EventMessageHandler,CALLBACK_STACK=[];Handler.addHandler("parent.newsletter.receiver",function(data){data.uid===uid&&!data)}),this.receiver=this.submit=function(props){IFRAME_LOADED?(props.uid=uid,Handler.sendMessage(iframe.get(0),"newsletter.messenger.submit",props)):READY_STACK.push(props)}}});
Modulr.define("core.components:newsletter/config",["require"],function(require,Newsletter){var config={slid:{FB_Breaking_Alerts:"5C84B893BD6D939E84FAE1A8E6E9525A",FB_CEO_Newsbrief:"3DC725E303A24F8D870B96401050B31F",FB_Morning_Headlines:"3DC725E303A24F8D518A0FB222399489",FB_Most_Popular_Content:"3DC725E303A24F8D39740C7B45D15F45",FB_Small_Business_Weekly_Report:"3DC725E303A24F8D3540B4B6FB335FC8",FB_The_Willis_Report_Promotional:"3DC725E303A24F8D5E4CD875B68955A6",FB_Weekly_Personal_Finance:"3DC725E303A24F8D7E5F3A553E2E6154",FB_Claman_On_Call:"3DC725E303A24F8D12785ABB73469705",FN_Autos:"3DC725E303A24F8D197DA3C8590F80E2",FN_Breaking_Alerts:"C2F278094FACCEA62391025B7A52D8EB",FN_Food_And_Drink:"3DC725E303A24F8D1C12D1E24CDEA25E",FN_FOX_411_Newsletter:"3DC725E303A24F8D9C92271F5026F381",FN_FOX_411_Partner_Pitch_Email:"3DC725E303A24F8DD2821C1AF73D49D4",FN_Health_Newsletter:"3DC725E303A24F8DA5DBC7FFD49BC2B8",FN_Leisure_Headlines:"3DC725E303A24F8D02B1F9D9AAF16982",FN_Monthly_Politics_Update:"3DC725E303A24F8D836CEAE9B885C87D",FN_Morning_Headlines:"3DC725E303A24F8DCF015F07C61BABFD",FN_Most_Popular:"3DC725E303A24F8DB05092D232355E43",FN_Opinion_Headlines:"3DC725E303A24F8D95ACD1C9C0564C20",FN_Politics:"3DC725E303A24F8DA102192D9D5143D9",FN_Promotional_Emails:"3DC725E303A24F8D41CEA8699C0FE71E",FN_Science_And_Technology:"3DC725E303A24F8DAB69E1C048904762",FN_Weekly_Travel:"3DC725E303A24F8DE5173CCC4F027046",Fox_Nation_Fired_Up:"3DC725E303A24F8D64B4C05965F09E1A",uReport_Launch_Email:"3DC725E303A24F8D41CEA8699C0FE71E",uReport_Monthly:"3DC725E303A24F8D41CEA8699C0FE71E",FN_Latino_Morning_Headlines:"3DC725E303A24F8D555BC7C7F3FD748B"}};return config});
Modulr.define("core.components:newsletter/index",["require","jquery","ISA","newsletter/config","newsletter/comm","newsletter/recaptcha"],function(require,$){ar ISA=require("ISA"),Comm=(require("newsletter/config"),require("newsletter/comm")),Recaptcha=require("newsletter/recaptcha"),UID_ITER=0;return function(props){var Proto=this,target=props.elm,SUBMITTING=!1,UID="uid_"+ ++UID_ITER,SLID=props.SLID||target.find("input[type='hidden'][name='slid']").val(),INPUT=props.INPUT||target.find("input[type='text'][name='signup']"),INPUT_STR=props.INPUT_STR||"Enter Email Address",onSuccess="function"==typeof props.onSuccess?props.onSuccess:function(){},onError="function"==typeof props.onError?props.onError:function(){},onFocus="function"==typeof props.onFocus?props.onFocus:function(){},onBlur="function"==typeof props.onBlur?props.onBlur:function(){},Handler=("3DC725E303A24F8D9C92271F5026F381"===SLID&&(INPUT_STR="Enter your email address"),new Comm(UID));function track(type,info){"complete"===type&&ISA.track({"email-sign-up-success":{listName:info.list}});var id=null;"complete"===type?id="newsletter:sign-up-complete":"start"===type&&(id="newsletter:sign-up-start"),id&&ISA.provider("leapmetrics",function(Provider){Provider.get(})}INPUT.val(INPUT_STR),INPUT.on("focus",function(){var val=$(this).val();$.trim(val.toLowerCase())===INPUT_STR.toLowerCase()&&$(this).val(""),onFocus()}),INPUT.on("blur",function(){var val=$(this).val();""===$.trim(val.toLowerCase())&&$(this).val(INPUT_STR),onBlur()}),target.on("submit",function(){return track("start",{list:target.attr("data-list")||"email-sign-up-success"}),Proto.submit(),!1}),Handler.receiver(function(data){var status;track("complete",{list:target.attr("data-list")||"email-sign-up-success"}),data.response&&("success"===(status=(data=data.response).writeStatus||data.ok)||!0===status||!(!data.failureReason||"User already signed up"!==data.failureReason)?onSuccess:onError)()}),Proto.setSLID=Proto.submit=function(){var email,valid,anonId;document.head.querySelector('meta[name="prism.section"]');return SUBMITTING||(SUBMITTING=!0,email=INPUT.val().trim(),valid=isValidEmail(email),anonId=window.FNC.anon?window.FNC.anon.anon_fpid():null,valid&&SLID?sendSubscription(Handler,{UID:UID,email:email,SLID:SLID,anon_fpid:anonId,target:target}):onError(valid?"slid":"email"),setTimeout(500)),!1},Proto.validateEmail=isValidEmail;var sendSubscription=function(Handler,attrs){attrs.target.attr("data-list");attrs.token||Recaptcha.getToken(function(token){attrs.token=token;var token=document.head.querySelector('meta[name="prism.section"]'),siteId=(channel=document.head.querySelector('meta[name="prism.channel"]'))&&channel.content?channel.content:"",channel=$("form.form-nation-email").find("input[type='submit']"),obj={uid:attrs.uid,slid:attrs.SLID,email:attrs.email,token:attrs.token||null,anon_fpid:attrs.anon_fpid||null,url:window.location.href};if(channel&&"3DC725E303A24F8D6528C7B54D5C00C5"===obj.slid&&(obj.url=0<channel.length?channel.attr("data-email-ct"):window.location.href),token&&token.content)switch(token.content){case"root":obj.source="HPRightrail";break;case"live-news":obj.source="fbn"===siteId?"FBLiveBlog":"FNLiveBlog";break;default:obj.source="VideoOverlay"}props.campaign&&(obj.campaign=props.campaign),props.widget_title&&(obj.widget_title=props.widget_title),props.url&&(obj.url=props.url),"breaking-news"===props.campaign&&(obj.source="BreakingNewsBar",obj.description="breakingnewsbar_web_en-US"),Handler.submit(obj,})}}});
Modulr.define("core.components:newsletter/recaptcha",["require","core.base:utils/script.loader"],function(require,ScriptLoader){var INITIALIZED=!1,LOADED=!1,CALLBACK_STACK=[];return new function(){var Proto=this;function generateToken(callback){window.grecaptcha.enterprise.ready(function(){window.grecaptcha.enterprise.execute("6LeSPrIaAAAAAMjNltjpnmoRnDaUAKr9BUovwEQW",{action:"submit"}).then(function(token){callback(token)})})}Proto.loadScript=function(){INITIALIZED||(INITIALIZED=!0,ScriptLoader("https://www.google.com/recaptcha/enterprise.js?render=6LeSPrIaAAAAAMjNltjpnmoRnDaUAKr9BUovwEQW",function(){if(LOADED=!0,0!==CALLBACK_STACK.length)for(;0<CALLBACK_STACK.length;){var fn=CALLBACK_STACK.shift();generateToken(function(token){fn(token)})}}))},Proto.getToken=function(callback){if("function"==typeof callback){if(INITIALIZED||Proto.loadScript(),!LOADED)return CALLBACK_STACK.push(callback);generateToken(}}}});
!function(Modulr,FNC){var config;Modulr.getInstance("core.components")||(config={instance:"core.components",baseDomain:FNC.CDN.domain,baseUrl:"/static/orion/scripts/core/components/app",masterFile:"/static/orion/scripts/core/utils/modulr/master.js",paths:{},packages:["core.plugins","core.templates","core.auth"],shim:{jquery:{src:"/static/orion/scripts/core/utils/jquery/core.js",exports:"jQuery"},lodash:{src:"/static/orion/scripts/core/utils/lodash.js",exports:"_"},modernizr:{src:"/static/orion/scripts/core/utils/modernizr.js",exports:"Modernizr"}}},(Modulr=Modulr.config(config)).define("cdn",function(){return FNC.CDN}),Modulr.define("ISA",)}(window.Modulr,window.FNC);