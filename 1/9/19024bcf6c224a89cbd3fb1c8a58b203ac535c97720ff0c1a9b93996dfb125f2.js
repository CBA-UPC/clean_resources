/**
 * apng-canvas v2.0.1
 * @copyright 2011, 2015 David Mzareulyan
 * @link https://github.com/davidmz/apng-canvas
 * @license MIT
 */
!{1:[function(t,e,n){(function(n,r){(function(){"use strict";ction s(t){H=t} v(){}function m(){return new TypeError("You cannot resolve a promise with itself")}w TypeError("You must pass a resolver function as the first argument to the promise constructor")} Y;Y=Array.isArray?Array.isArray:var V,H,J,Q=Y,Z=0,K=({}.toString,,W="undefined"!=typeof window?window:void 0,$=W||{},z=$.MutationObserver||$.WebKitMutationObserver,X="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),tt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,et=new Array(1e3);J=X?c():z?l():tt?h():void 0===W&&"function"==typeof t?A():d();var nt=void 0,rt=1,it=2,ot=new B,at=new B;L.prototype._validateInput=function(t){return Q(t)},L.prototype._validationError=L.prototype._init=var st=L;L.prototype._enumerate=L.prototype._eachEntry=L.prototype._settledAt=L.prototype._willSettleAt=var ut=D,ct=j,ft=k,lt=F,ht=0,dt=M;M.all=ut,M.race=ct,M.resolve=ft,M.reject=lt,M._setScheduler=s,M._setAsap=u,M._asap=K,M.prototype={constructor:M,then:"catch":;var pt=q,At={Promise:dt,polyfill:pt};"function"==typeof define&&define.amd?define(function(){return At}):"undefined"!=typeof e&&e.exports?e.exports=At:"undefined"!=typeof this&&(this.ES6Promise=At),pt()}).call(this)}).call(this,t("VCmEsw"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{VCmEsw:2}],2:[{}],3:[function(t,e,n){"use strict";var r=function(){this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[],this.play=function(){i||o||(this.rewind(),i=!0,requestAnimationFrame(s))},this.rewind=function(){e=0,n=0,r=null,i=!1,o=!1},this.addContext=function(t){if(a.length>0){var e=a[0].getImageData(0,0,this.width,this.height);t.putImageData(e,0,0)}a.push(t),t._apng_animation=this},this.removeContext=function(t){var e=a.indexOf(t);-1!==e&&(a.splice(e,1),0===a.length&&this.rewind(),"_apng_animation"in t&&delete t._apng_animation)},this.isPlayed=function(){return i},this.isFinished=var t=this,e=0,n=0,r=null,i=!1,o=!1,a=[],s=function(t){for(;i&&t>=e;)u(t);i&&requestAnimationFrame(s)},u=function(s){var u=n++%t.frames.length,c=t.frames[u];if(0==u&&(a.forEach(,r=null,2==c.disposeOp&&(c.disposeOp=1)),r&&1==r.disposeOp?a.forEach(function(t){t.clearRect(r.left,r.top,r.width,r.height)}):r&&2==r.disposeOp&&a.forEach(function(t){t.putImageData(r.iData,r.left,r.top)}),r=c,r.iData=null,2==r.disposeOp&&(r.iData=a[0].getImageData(c.left,c.top,c.width,c.height)),0==c.blendOp&&a.forEach(,a.forEach(,0==t.numPlays||n/t.frames.length<t.numPlays){for(0==e&&(e=s);s>e+t.playTime;)e+=t.playTime;e+=c.delay}else i=!1,o=!1}};e.exports=r},{}],4:[function(t,e,n){"use strict";for(var r=new Uint32Array(256),i=0;256>i;i++){for(var o=i,a=0;8>a;a++)o=1&o?3988292384^o>>>1:o>>>1;r[i]=o}e.exports=function(t,e,n){e=e||0,n=n||t.length-e;for(var i=-1,o=e,a=e+n;a>o;o++)i=i>>>8^r[255&(i^t[o])];return-1^i}},{}],5:[function(t,e,n){(function(e){"use strict";var n=t("./support-test"),r=t("./parser"),i=t("./loader"),o=e.APNG={};o.checkNativeFeatures=n.checkNativeFeatures,o.ifNeeded=n.ifNeeded,o.parseBuffer=var a={};o.parseURL=function(t){return t in a||(a[t]=i(t).then(r)),a[t]},o.animateContext=function(t,e){return o.parseURL(t).then(},o.animateImage=function(t){return t.setAttribute("data-is-apng","progress"),o.parseURL(t.src).then(function(e){t.setAttribute("data-is-apng","yes");var n=document.createElement("canvas");n.width=e.width,n.height=e.height,Array.prototype.slice.call(t.attributes).forEach(function(t){-1==["alt","src","usemap","ismap","data-is-apng","width","height"].indexOf(t.nodeName)&&n.setAttributeNode(t.cloneNode(!1))}),n.setAttribute("data-apng-src",t.src),""!=t.alt&&n.appendChild(document.createTextNode(t.alt));var r="",i="",o=0,a="";""!=t.style.width&&"auto"!=t.style.width?r=t.style.width:t.hasAttribute("width")&&(r=t.getAttribute("width")+"px"),""!=t.style.height&&"auto"!=t.style.height?i=t.style.height:t.hasAttribute("height")&&(i=t.getAttribute("height")+"px"),""!=r&&""==i&&(o=parseFloat(r),a=r.match(/\D+$/)[0],i=Math.round(n.height*o/n.width)+a),""!=i&&""==r&&(o=parseFloat(i),a=i.match(/\D+$/)[0],r=Math.round(n.width*o/n.height)+a),n.style.width=r,n.style.height=i;var s=t.parentNode;s.insertBefore(n,t),s.removeChild(t),e.addContext(n.getContext("2d")),e.play()},},o.releaseCanvas=function(t){var e=t.getContext("2d");"_apng_animation"in e&&e._apng_animation.removeContext(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./loader":6,"./parser":7,"./support-test":8}],6:[function(t,e,n){"use strict";var r=r||t("es6-promise").Promise;e.exports=function(t){return new r(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="arraybuffer",r.onload=function(){200==this.status?e(this.response):n(this)},r.send()})}},{"es6-promise":1}],7:[function(t,e,n){"use strict";var r=r||t("es6-promise").Promise,i=t("./animation"),o=t("./crc32"),a=new Uint8Array([137,80,78,71,13,10,26,10]);e.exports=function(t){var e=new Uint8Array(t);return new r(function(t,n){for(var r=0;r<a.length;r++)if(a[r]!=e[r])return void n("Not a PNG file (invalid file signature)");var o=!1;if(s(e,function(t){return"acTL"==t?(o=!0,!1):!0}),!o)return void n("Not an animated PNG");var h=[],p=[],v=null,m=null,g=new i;if(s(e,function(t,e,n,r){switch(t){case"IHDR":v=e.subarray(n+8,n+8+r),g.width=u(e,n+8),g.height=u(e,n+12);break;case"acTL":g.numPlays=u(e,n+8+4);break;case"fcTL":m&&g.frames.push(m),m={},m.width=u(e,n+8+4),m.height=u(e,n+8+8),m.left=u(e,n+8+12),m.top=u(e,n+8+16);var i=c(e,n+8+20),o=c(e,n+8+22);0==o&&(o=100),m.delay=1e3*i/o,m.delay<=10&&(m.delay=100),g.playTime+=m.delay,m.disposeOp=f(e,n+8+24),m.blendOp=f(e,n+8+25),m.dataParts=[];break;case"fdAT":m&&m.dataParts.push(e.subarray(n+8+4,n+8+r));break;case"IDAT":m&&m.dataParts.push(e.subarray(n+8,n+8+r));break;case"IEND":p.push(l(e,n,12+r));break;default:h.push(l(e,n,12+r))}}),m&&g.frames.push(m),0==g.frames.length)return void n("Not an animated PNG");for(var w=0,y=new Blob(h),_=new Blob(p),b=0;b<g.frames.length;b++){m=g.frames[b];var E=[];E.push(a),v.set(d(m.width),0),v.set(d(m.height),4),E.push(A("IHDR",v)),E.push(y);for(var P=0;P<m.dataParts.length;P++)E.push(A("IDAT",m.dataParts[P]));E.push(_);var x=URL.createObjectURL(new Blob(E,{type:"image/png"}));delete m.dataParts,E=null,m.img=document.createElement("img"),m.img.onload=function(){URL.revokeObjectURL(this.src),w++,w==g.frames.length&&t(g)},m.img.onerror=m.img.src=x}})};var s=function(t,e){var n=8;do{var r=u(t,n),i=h(t,n+4,4),o=e(i,t,n,r);n+=12+r}while(o!==!1&&"IEND"!=i&&n<t.length)},u=function(t,e){var n=0;n+=t[0+e]<<24>>>0;for(var r=1;4>r;r++)n+=t[r+e]<<8*(3-r);return n},c=function(t,e){for(var n=0,r=0;2>r;r++)n+=t[r+e]<<8*(1-r);return n},f=l=function(t,e,n){var r=new Uint8Array(n);return r.set(t.subarray(e,e+n)),r},h=function(t,e,n){var r=Array.prototype.slice.call(t.subarray(e,e+n));return String.fromCharCode.apply(String,r)},d=p=A=function(t,e){var n=t.length+e.length,r=new Uint8Array(new ArrayBuffer(n+8));r.set(d(e.length),0),r.set(p(t),4),r.set(e,8);var i=o(r,4,n);return r.set(d(i),n+4),r}},{"./animation":3,"./crc32":4,"es6-promise":1}],8:[function(t,e,n){(function(n){"use strict";var r=r||t("es6-promise").Promise,i=function(t){var e=null;return function(n){return e||(e=new r(t)),n&&e.then(n),e}},o=i(function(t){var e=document.createElement("canvas"),r={TypedArrays:"ArrayBuffer"in n,BlobURLs:"URL"in n,requestAnimationFrame:"requestAnimationFrame"in n,pageProtocol:"http:"==location.protocol&&"https:"==location.protocol,canvas:"getContext"in document.createElement("canvas"),APNG:!1};if(r.canvas){var i=new Image;i.onload=function(){var n=e.getContext("2d");n.drawImage(i,0,0),r.APNG=0===n.getImageData(0,0,1,1).data[3],t(r)},i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="}else t(r)}),a=function(t){return"undefined"==typeof t&&(t=!1),o().then(function(e){if(e.APNG&&!t)reject();else{var n=!0;for(var r in e)e.hasOwnProperty(r)&&"APNG"!=r&&(n=n&&e[r])}})};e.exports={checkNativeFeatures:o,ifNeeded:a}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es6-promise":1}]},{},[5]);