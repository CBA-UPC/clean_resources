"use strict";void 0,(function(){return{ADFUEL:{AUTO_DISPATCH:!0,DEFAULT_TIMEOUT:800,DEFAULT_DESKTOP_TIMEOUT:800,DEFAULT_MOBILE_TIMEOUT:800,IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477",REFRESH_ON_FOCUS_ONLY:!1,LAZY_LOAD_FETCH_PERCENT:500,LAZY_LOAD_RENDER_PERCENT:200,LAZY_LOAD_MOBILE_SCALING:2,COLLAPSE_EMPTY_DIVS:!0,DEBUG:!1,SITE_OBJECT:"CNNA"},A9:{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},DEBUG:!1,TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}},AUI:{VENDORS:{Telaria:{COOKIE_NAME:"goiz",URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}"},Rubicon:{COOKIE_NAME:"ifyr",URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}"},Freewheel:{COOKIE_NAME:"bea4",URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}"},AppNexus:{COOKIE_NAME:"zwmc",URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}"},PubMatic:{COOKIE_NAME:"kfyn",URL:"https://ads.pubmatic.com/AdServer/js/userSync.js"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"}},SITE_VENDORS:{DOM:["AppNexus","Freewheel","LiveRamp","PubMatic","Rubicon","SpotX","Telaria"],INTL:["AppNexus","Freewheel","ID5","LiveRamp","PubMatic","Rubicon","SpotX","Telaria"]},DEBUG:!1},BEEMRAY:{API_KEY:"123-456",CUSTOMER_ID:"cnn",DEBUG:!1},BLOCKTHROUGH:{DEBUG:!1},CEP:{DEBUG:!1},CONSOLE_TOOL:{DEBUG:!1,HOTKEY:["Control","Shift","Z"]},CREATIVE_REVIEW:{DEBUG:!1,HOTKEY:"^ d o h $"},CRITEO:{DEBUG:!1,DESKTOP_TIMEOUT:750,DESKTOP_ZONES:{},MOBILE_TIMEOUT:750,MOBILE_ZONES:{},MULTISIZE_FIRST:"F",MULTISIZE_LARGEST:"L",MULTISIZE_ALL:"A",MULTISIZE_METHOD:"L",TIMEOUT:750},FASTLANE:{DEBUG:!1,DESKTOP_TIMEOUT:750,DOM_ACCOUNT_ID:11078,INTL_ACCOUNT_ID:11016,MOBILE_TIMEOUT:750,TIMEOUT:750},GUID:{DEBUG:!1},IAS:{ACCOUNT_IDS:{DOM:925660,INTL:925660},DEBUG:!1},IX:{DEBUG:!1,SCRIPT_KEY:{DOM:null,INTL:null},IDENTITY:""},IVR:{DEBUG:!1,DEFAULT_DISPLAY_MILLISECONDS:35e3,DEFAULT_DISPLAY_PERCENT:50},KRUX:{DEBUG:!1,DOM_CONTROLTAG:"teff49ykn",INTL_CONTROLTAG:"teff49ykn"},MALVERTISING:{DEBUG:!1,SITE_VENDOR:"CleanIO",SCRIPT_SRC:"//d9esmwyn3ffr1.cloudfront.net/script.js"},PREBID:{BIDDERS:{CLIENT:{DOM:["appnexus","criteo","ix","pubmatic","rubicon"],INTL:["appnexus","criteo","ix","pubmatic","rubicon"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus"]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]},OUTSTREAM:{DOM:["appnexus","pubmatic","teads"],INTL:["appnexus","pubmatic","teads"]}},APPROVED_BIDDERS:{CLIENT:{DOM:["appnexus","rubicon","criteo","ix","trustx"],INTL:["appnexus","pangaea","ix","rubicon","sharethrough","criteo"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus","pangaea"]},S2S:{DOM:["ix"],INTL:["pangaea","sharethrough","ix"]},VIDEO:{DOM:["appnexus","ix","rubicon","spotx","telaria"],INTL:["appnexus","ix","rubicon","spotx","telaria"]},OUTSTREAM:{DOM:[],INTL:[]}},DEBUG:!1,TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:1e3,MIDROLL:750,REFRESH:"1200"}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"8353",INTL:"8353"},VIDEO_INVCODE:{DOM:"arabic_homepage_video1",INTL:"arabic_homepage_video1"},PLAYBACK_METHOD:{DOM:{DESKTOP:"auto_play_sound_off",MOBILE:"auto_play_sound_off"},INTL:{DESKTOP:"auto_play_sound_off",MOBILE:"auto_play_sound_off"}},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}}},RESERVE:{DOM:.9,INTL:.9},SUPPLY_TYPE:{DOM:{WEB:!0,MOBILE_WEB:!0},INTL:{WEB:!0,MOBILE_WEB:!0}},CONTEXT:{DOM:"instream",INTL:"instream"}},CRITEO:{ACCOUNT_ID:{DOM:"9264",INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:"11016",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:"78590",MOBILE:"78592",VIDEO:{DESKTOP:"412352",MOBILE:"425984"}},INTL:{DESKTOP:78590,MOBILE:78592,VIDEO:{DESKTOP:"412352",MOBILE:"425984"}}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:"650166",btf:"650166"},ROS:{atf:"369874",btf:"369874"}},MOBILE:{HP:{atf:"650168",btf:"650168"},ROS:{atf:"650168",btf:"650168"}},VIDEO:{DESKTOP:{HP:{atf:"2319232",btf:"2319232"},ROS:{atf:"2319232",btf:"2319232"}},MOBILE:{HP:{atf:"2419502",btf:"2419502"},ROS:{atf:"2419502",btf:"2419502"}}}},INTL:{DESKTOP:{HP:{atf:650166,btf:650166},ROS:{atf:369874,btf:369874}},MOBILE:{HP:{atf:650168,btf:650168},ROS:{atf:650168,btf:650168}},VIDEO:{DESKTOP:{HP:{atf:"2319232",btf:"2319232"},ROS:{atf:"2319232",btf:"2319232"}},MOBILE:{HP:{atf:"2419502",btf:"2419502"},ROS:{atf:"2419502",btf:"2419502"}}}}},LANGUAGE:{DOM:"en",INTL:"en"},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}},LANGUAGE:"en"}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{"728x90":"341947","970x250":"341950","970x90":"341951","300x600":"341949","300x250":"341948"},btf:{"300x600":"341956","300x250":"341955","728x90":"341952","970x250":"341953","970x90":"341954"}},MOBILE:{atf:{"320x50":"341957","300x250":"341958"},btf:{"300x250":"341958","320x50":"341957"}},VIDEO:0},INTL:{DESKTOP:{atf:{"728x90":"341923","970x250":"341924","970x90":"341925","300x600":"341927","300x250":"341926"},btf:{"300x600":"341935","300x250":"341933","728x90":"341930","970x250":"341931","970x90":"341932"}},MOBILE:{atf:{"320x50":"341928","300x250":"341929"},btf:{"320x50":"341957","300x250":"341936"}},VIDEO:0}},VIDEO:{WIDTH:640,HEIGHT:480,MIMES:["video/mp4"],PROTOCOLS:[2,3,5,6],SITE_ID:{DOM:{DESKTOP:" 829396",MOBILE:"827481"},INTL:{DESKTOP:"829396",MOBILE:"827481"}},DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{"300x250":"SsCg33ro8BxmkVdoZRaLCMXi","300x600":"ZcBw6raAfrwo5hbU9g71KadN","728x90":"vAi8YZxsQQjJrBzRQBQ5DChf","970x250":"hKKnotBsBDRGdYZJwVguQGnG"},MOBILE:{"300x250":"SsCg33ro8BxmkVdoZRaLCMXi"}}}},DISTRICTM:{PID:{DOM:0,INTL:0}},TRIPLELIFT:{MAPPINGS:{DOM:{DESKTOP:{HP:{},ROS:{}},MOBILE:{HP:{},ROS:{}}},INTL:{DESKTOP:{HP:{},ROS:{}},MOBILE:{HP:{},ROS:{}}}}},KARGO:{PLACEMENT_ID:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TRUSTX:{UID:{DOM:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},TEADS:{PAGE_ID:{DOM:"124545",INTL:"124545"},PLACEMENT_ID:{DOM:"135466",INTL:"135466"}},PUBMATIC:{PUBLISHER_ID:{DOM:"160262",INTL:"160262"},MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},THIRTYTHREEACROSS:{SITE_ID:{DOM:"",INTL:""}},SPOTX:{CHANNEL_ID:{DOM:{DESKTOP:"325241",MOBILE:"327351"},INTL:{DESKTOP:"325241",MOBILE:"327351"}},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}}}}},TELARIA:{AD_CODE:{DOM:"",INTL:""},SUPPLY_CODE:{DOM:"",INTL:""}}},SEND_ALL_BIDS:{DOM:!1,INTL:!1},LIBRARY:{VENDORS:["appnexus","criteo","ix","pubmatic","rubicon","teads"],MODULES:["consentManagement","gpdrEnforcement","id5IdSystem","freewheelAdserverVideo"]},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:.01}],VIDEO:[{precision:2,min:1.5,max:30,increment:.5},{precision:2,min:30,max:50,increment:1}],NATIVE:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:1}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:1.5,max:30,increment:.5},{precision:2,min:30,max:50,increment:1}],NATIVE:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}},FLOORS:{DISPLAY:{DOM:{DESKTOP:.01,MOBILE:.01},INTL:{DESKTOP:.01,MOBILE:.01}},VIDEO:{DOM:{DESKTOP:.01,MOBILE:.01},INTL:{DESKTOP:.01,MOBILE:.01}}}},PROXIMIC:{DEBUG:!1},SOURCEPOINT:{DEBUG:!1},SSAI:{DEBUG:!1,SITE_VENDORS:["AppNexus","Freewheel","LiveRamp","Rubicon","Telaria"],VENDORS:{AppNexus:{URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}",COOKIE_NAME:"zwmc"},Freewheel:{URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}",COOKIE_NAME:"bea4"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"},PubMatic:{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},Rubicon:{URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}",COOKIE_NAME:"ifyr"},Telaria:{URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}",COOKIE_NAME:"goiz"}}},TRANSACTION_ID:{DEBUG:!1},USER_CONSENT:{ENABLED:!1,DEBUG:!1,COOKIE_DOMAIN:"",ONETRUST_GUID:"",ONETRUST_SRC:""},VERSION:"1.3",NAME:"CNNa",TIMESTAMP:"10/9/2023, 12:34:21 PM"}})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Prebid=e()}}((function(){var define,module,exports;return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f,g,p=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.userConsentLib=(null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||(null===(g=window.WBD)||void 0===g?void 0:g.UserConsent),this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(p.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){p.logger.log("Waiting for UserConsent..."),p.waitForUserConsent().then((function(){var e,n,t,r;p.logger.log("Checking Module Flags...",p.moduleFlags),(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(e=p.userConsentLib)||void 0===e?void 0:e.inUserConsentState(p.consentTags))?(p.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(n=window.AdFuel)||void 0===n?void 0:n.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):(p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)})))):(p.logger.log("Waiting for AdFuel..."),p.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags)})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for AdFuel."),e)}))):(p.logger.info("User consent is not granted.",null===(t=p.userConsentLib)||void 0===t?void 0:t.inUserConsentState(p.consentTags)),null===(r=window.AdFuel)||void 0===r||r.setModuleLoaded(p.MODULE_LOG_TAG))})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(p.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){return p.userConsentLib?(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r;p._logger.log("Consent Promise with Timeout..."),(null===(n=p.userConsentLib)||void 0===n?void 0:n.isReady())?(p._logger.log("Consent Is Ready..."),(null===(t=p.userConsentLib)||void 0===t?void 0:t.isInRegion("gdpr"))?(p._logger.log("Region is GDPR..."),null!==(r=null===(o=p.userConsentLib)||void 0===o?void 0:o.isOptanonLoaded())&&void 0!==r&&r?(p._logger.log("Optanon is Loaded..."),e()):(p._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){p._logger.log("Optanon is Loaded..."),e()})))):(p._logger.log("Region is not GDPR..."),e())):p.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCacheBuster=void 0,t.generateCacheBuster=function(){for(var e="",n=0;n<10;n++)e+=Math.floor(9*Math.random()).toString();return e}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1,c=new Set(["US","CA"]),l=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;t.isIntl=function(){var e,n,t,i,f,g,p,m,v,h,b,y,O=!1,_=(0,o.setHostAndPathNames)(),E=(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.getGeoCountry)&&"function"==typeof(null===(i=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===i?void 0:i.getGeoCountry)?null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.getGeoCountry():a.countryCode,I=(null===(m=null===(p=window.WM)||void 0===p?void 0:p.UserConsent)||void 0===m?void 0:m.getGeoState)&&"function"==typeof(null===(h=null===(v=window.WM)||void 0===v?void 0:v.UserConsent)||void 0===h?void 0:h.getGeoState)?null===(y=null===(b=window.WM)||void 0===b?void 0:b.UserConsent)||void 0===y?void 0:y.getGeoState():"",w=_.search(/^(.*\.)?cnn\.com$/)>=0;return w&&c.delete("CA"),s.log("Is CNN:",w),s.log("Domestic Country Codes: ",Array.from(c)),s.log("UserConsent Location: ",{state:I,country:E}),"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),O=!0):_.search(l)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),O=!0):""===E||null===E?(d||(d=!0,s.log("No country code. Using Domestic PubIds.")),O=!1):c.has(E)?d||(d=!0,s.log("Domestic site or country code. Using Domestic PubIds."),O=!1):_.search(/^.*(money|\.cnn)\./)>=0?(_.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate International PubIds if available."),u=!0),d||(d=!0,s.log("International country code. Using International PubIds.")),O=!0):_.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate International PubIds if available.")),O=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site. Using International PubIds if available.")),O=!0),O};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":6,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,102,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var o=e("./isMobile");t.default=o.default},{"./isMobile":12}],12:[function(e,n,t){t.__esModule=!0;var o=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),_={apple:{phone:O(o)&&!O(l),ipod:O(r),tablet:!O(o)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(o)||O(r)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}},{}],13:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||a=this&&this.__generator||s=this&&this.__spreadArray||function(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))};Object.defineProperty(t,"__esModule",{value:!0}),t.Prebid=void 0;var d=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),u=e("@turnercode/digital-ads-utilities/dist/Version"),c=e("@turnercode/digital-ads-utilities/dist/localization"),l=e("@turnercode/digital-ads-utilities/dist/generateCacheBuster"),f=e("@turnercode/digital-ads-utilities/dist/getUrlParam"),g=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),p=e("ismobilejs");e("./prebidLibrary");var m=e("./version.json"),v=h=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],b=function(e){function n(n){var t,o=this;return(o=e.call(this,n,"Prebid",new u.Version(m.major,m.minor,m.revision,m.family),"prebid","color: #58f53f; padding: 2px",d.ModuleFlags.EnableForDomestic|d.ModuleFlags.EnableForForeign|d.ModuleFlags.RunWithoutAdFuel,h)||this).config=n,o.enabled=!0,o.libraryConfigured=!1,o.PREBID_MIDROLL_VIDEO_TARGETING={hb_pb_cat_dur:new Array,hb_cache_id:""},o.RUBICON_SIZE_MAPPING={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"970x90":55,"970x250":57},o.REQUESTED_AD_UNITS={banner:new Array,outstream:new Array},o.SUPPORTED_MIMES=["video/mp4","video/webm"," video/ogg"],o.videoMediaType={context:"instream",playerSize:[640,480],mimes:o.SUPPORTED_MIMES,protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1},o.BUILT_AD_UNITS=new Set,o.validateConfiguration=function(e){var n;try{o.logger.log("Configured Vendors: ",e.VENDOR);var t=Object.keys(o.config.BIDDERS);return o.logger.log("Configured Bidder Types: ",t),{status:!0,errors:[],config:o.config}}catch(e){null===(n=o.logger)||void 0===n||n.log("err on validateConfiguration: ",e)}},o.buildVideoBids=function(e,n){var t={code:e,mediaTypes:{video:{context:"instream",playerSize:[640,480],mimes:["video/mp4"],protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1}},bids:[]},r=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.VIDEO.INTL:o.config.BIDDERS.VIDEO.DOM,i={},a=[];return r.forEach((function(e){var r,s,d=new v;switch(e){case"appnexus":d.setBidder("appnexus"),d.params.invCode=n,d.params.member=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&d.addParam("keywords",window.CNN.cep_topics),d.params.reserve=.01,(0,c.isIntl)()&&!(0,c.isUSCNN)()?(o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.WEB&&a.push("web"),o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.MOBILE_WEB&&a.push("mobile_web")):(o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.WEB&&a.push("web"),o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.MOBILE_WEB&&a.push("mobile_web")),d.params.supplyType=a.join(","),d.params.video={minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.DOM,context:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.CONTEXT.INTL:o.config.VENDOR.APPNEXUS.CONTEXT.DOM,skippable:!1,playback_method:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.MOBILE:o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.MOBILE:o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.DESKTOP,frameworks:[]},null===(r=o.logger)||void 0===r||r.log("Pushing AppNexus Bid: ",d),t.bids.push(JSON.parse(JSON.stringify(d))),i.appnexus=JSON.parse(JSON.stringify(d.params));break;case"ix":d.setBidder("ix"),d.params={siteId:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.IX.VIDEO.SITE_ID.INTL.MOBILE:o.config.VENDOR.IX.VIDEO.SITE_ID.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.IX.VIDEO.SITE_ID.DOM.MOBILE:o.config.VENDOR.IX.VIDEO.SITE_ID.DOM.DESKTOP,video:{w:640,h:480,mimes:o.SUPPORTED_MIMES,minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.DOM,protocols:[2,3,5,6]}},t.bids.push(JSON.parse(JSON.stringify(d))),i.ix=JSON.parse(JSON.stringify(d.params));break;case"rubicon":d.setBidder("rubicon"),d.params={accountId:parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,10),siteId:parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.DESKTOP:(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.DESKTOP,10),zoneId:parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.MOBILE.HP.atf||0:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.DESKTOP.HP.atf||0:(0,p.default)().any?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.MOBILE.HP.atf||0:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.DESKTOP.HP.atf||0,10),video:{language:o.config.VENDOR.RUBICON.VIDEO.LANGUAGE,minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.DOM}},t.bids.push(JSON.parse(JSON.stringify(d))),i.rubicon=JSON.parse(JSON.stringify(d.params));break;case"spotx":d.setBidder("spotx"),d.params={channel_id:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.SPOTX.CHANNEL_ID.INTL.MOBILE:o.config.VENDOR.SPOTX.CHANNEL_ID.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.SPOTX.CHANNEL_ID.DOM.MOBILE:o.config.VENDOR.SPOTX.CHANNEL_ID.DOM.DESKTOP,ad_unit:"instream",secure:!0,mimes:o.SUPPORTED_MIMES,hide_skin:!0,min_duration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.DOM,max_duration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.DOM,placement_type:1},t.bids.push(JSON.parse(JSON.stringify(d))),i.spotx=JSON.parse(JSON.stringify(d.params));break;case"telaria":d.setBidder("telaria"),d.params={adCode:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.TELARIA.AD_CODE.INTL:o.config.VENDOR.TELARIA.AD_CODE.DOM,supplyCode:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.TELARIA.SUPPLY_CODE.INTL:o.config.VENDOR.TELARIA.SUPPLY_CODE.DOM},t.bids.push(JSON.parse(JSON.stringify(d))),i.telaria=JSON.parse(JSON.stringify(d.params));break;default:null===(s=o.logger)||void 0===s||s.log("bidder: ",e)}})),t},o.getVideoBids=function(e,n,t){return void 0===e&&(e="cnn_homepage_video1"),void 0===n&&(n=750),void 0===t&&(t={}),new Promise((function(t,r){var i,a,s;try{null===(i=o.logger)||void 0===i||i.log("Building Video AdUnit");var d=o.buildVideoBids("video1",e);o.BUILT_AD_UNITS.has(d.code)&&(null===(a=o.logger)||void 0===a||a.log("Removing Video Ad Unit...",d.code),window.pbjs.removeAdUnit(d.code),o.BUILT_AD_UNITS.delete(d.code)),window.pbjs.addAdUnits(d),o.BUILT_AD_UNITS.add(d.code),null===(s=o.logger)||void 0===s||s.log("Requesting Video Bids...",d);window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[d.code],bidsBackHandler:function(e,n){var i,a;try{if(n)null===(a=o.logger)||void 0===a||a.log("Timed out...",e),r({err:"Bid request timed out."});else{var s=window.pbjs.getHighestCpmBids([d.code]),u=s[0],c="";s.forEach((function(e){e.videoCacheKey&&""!==c&&(c=u.videoCacheKey)})),null===(i=o.logger)||void 0===i||i.log("Received bids...",e);var l=window.pbjs.getAdserverTargeting()[d.code];""!==c&&(l.hb_uuid=c),t(l)}}catch(e){r(e)}},timeout:n})}catch(e){r(e)}}))},o.getRefreshedVideoBids=function(e,n,t){return void 0===e&&(e="cnn_homepage_video1"),void 0===n&&(n=750),void 0===t&&(t={}),new Promise((function(t,r){var i,a,s;try{null===(i=o.logger)||void 0===i||i.log("Building Video AdUnit");var d=o.buildVideoBids("video2",e);o.BUILT_AD_UNITS.has(d.code)&&(null===(a=o.logger)||void 0===a||a.log("Removing Video Ad Unit...",d.code),window.pbjs.removeAdUnit(d.code),o.BUILT_AD_UNITS.delete(d.code)),window.pbjs.addAdUnits(d),o.BUILT_AD_UNITS.add(d.code),null===(s=o.logger)||void 0===s||s.log("Requesting Video Bids...",d);window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[d.code],bidsBackHandler:function(e,n){var i,a;try{if(n)null===(a=o.logger)||void 0===a||a.log("Timed out...",e),r({err:"Bid request timed out."});else{var s=window.pbjs.getHighestCpmBids([d.code]),u=s[0],c="";s.forEach((function(e){e.videoCacheKey&&""!==c&&(c=u.videoCacheKey)})),null===(i=o.logger)||void 0===i||i.log("Received bids...",e);var l=window.pbjs.getAdserverTargeting()[d.code];""!==c&&(l.hb_uuid=c),t(l)}}catch(e){r(e)}},timeout:n})}catch(e){r(e)}}))},o.getMidRollVideoBids=function(e,n,t,r,i,a){return void 0===e&&(e="cnn_homepage_midroll"),void 0===n&&(n=750),void 0===t&&(t=30),void 0===r&&(r=[30]),void 0===i&&(i=[640,480]),void 0===a&&(a=30),new Promise((function(n,a){var s,d;try{null===(s=o.logger)||void 0===s||s.log("Building Video AdUnit...");var u={code:"midroll".concat((0,l.generateCacheBuster)()),mediaTypes:{video:{context:"adpod",playerSize:i,adPodDurationSec:t,durationRangeSec:r}},bids:[{bidder:"appnexus",params:{invCode:e,member:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!1,playback_methods:["auto_play_sound_on"]}}}]};null===(d=o.logger)||void 0===d||d.log("Adding Video AdUnits: ",u);n({})}catch(e){a(e)}}))},o.buildPrebidOutstreamAdUnits=function(e){var n,t,r,i;try{var a={code:"video1",mediaTypes:{video:{context:"outstream",playerSize:[300,250]}},bids:new Array,sizes:[[1,1]]},s=(0,c.isIntl)()?o.config.BIDDERS.OUTSTREAM.INTL:o.config.BIDDERS.OUTSTREAM.DOM;null===(n=o.logger)||void 0===n||n.log("Outstream Bidders: ",s);var d=e.unWrappedSlot.rktr_ad_id.split("/")[0].toLowerCase(),u=e.unWrappedSlot.rktr_slot_id.replace("ad_",""),l=e.targeting||[];null===(t=o.logger)||void 0===t||t.log("Slot Targets: ",l);for(var f=0;f<e.unWrappedSlot.targeting.length;f++){var g=e.targeting[f];"pos"===g[0]&&(u=g[1][0],g[1][0].split("_")[1])}return s.forEach((function(n){var t,r,i,s,l=new v;switch(null===(t=o.logger)||void 0===t||t.log("Outstream Bidder: ",l),a.code=e.posMap||e.unWrappedSlot.rktr_slot_id,n){case"appnexus":l.addParam("invCode","".concat(d,"_").concat(u)),l.addParam("member",(0,c.isIntl)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM),window.CNN&&window.CNN.cep_topics&&l.addParam("keywords",window.CNN.cep_topics),null===(r=o.logger)||void 0===r||r.log("AppNexus Bid Mock: ",l);break;case"ix":l.addParam("siteId",(0,c.isIntl)()?(null===(i=o.config.VENDOR.IX.SITE_ID.OUTSTREAM)||void 0===i?void 0:i.INTL)||0:(null===(s=o.config.VENDOR.IX.SITE_ID.OUTSTREAM)||void 0===s?void 0:s.DOM)||0),l.addParam("video",{w:640,h:360,playerSize:[640,360],plcmt:[2]});break;case"pubmatic":l.addParam("publisherId",(0,c.isIntl)()?o.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:o.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),l.addParam("outstreamAU","".concat(d,"_").concat(u)),l.addParam("video",{mimes:["video/mp4","video/x-flv"]}),l.addParam("adSlot",(0,c.isIntl)()?(0,p.default)().any?o.config.VENDOR.PUBMATIC.MAPPINGS.INTL.MOBILE[l.params.outstreamAU]:o.config.VENDOR.PUBMATIC.MAPPINGS.INTL.DESKTOP[l.params.outstreamAU]:(0,p.default)().any?o.config.VENDOR.PUBMATIC.MAPPINGS.DOM.MOBILE[l.params.outstreamAU]:o.config.VENDOR.PUBMATIC.MAPPINGS.DOM.DESKTOP[l.params.outstreamAU]);break;case"teads":l.addParam("placementId",(0,c.isIntl)()?o.config.VENDOR.TEADS.PLACEMENT_ID.INTL:o.config.VENDOR.TEADS.PLACEMENT_ID.DOM),l.addParam("pageId",(0,c.isIntl)()?o.config.VENDOR.TEADS.PAGE_ID.INTL:o.config.VENDOR.TEADS.PAGE_ID.DOM)}a.bids.push(l)})),null===(r=o.logger)||void 0===r||r.log("Outstream Ad Unit Mock: ",a),a}catch(e){return null===(i=o.logger)||void 0===i||i.error("Error when building Prebid Outstream Ad Units: ",e),{}}},o.buildPrebidAdUnits=function(e){var n,t=new Array,r=new Array;e.forEach((function(e){var n,i,a,s,d,u,l,f,g,m,h,b,y,O,_,E,I,w,A,C,S;null===(n=o.logger)||void 0===n||n.log("Wrapped Slot: ",e);var T=e.unWrappedSlot;if(null===(i=o.logger)||void 0===i||i.log("Unwrapped Slot: ",T),T.rktr_ad_id){null===(a=o.logger)||void 0===a||a.log("Slot has an ad unit:",T.rktr_ad_id);var D={code:"",ortb2Imp:{ext:{gpid:""}},mediaTypes:{banner:{sizes:new Array}},bids:new Array};if(e.monetization.isMonetized)if(null===(s=o.logger)||void 0===s||s.log("Slot is monetized."),T.rktr_slot_id.indexOf("_out_vid_")>=0)null===(d=o.logger)||void 0===d||d.log("Building Outstream Ad Unit: ",T),r.push(o.buildPrebidOutstreamAdUnits(e));else{null===(u=o.logger)||void 0===u||u.log("Building Banner Ad Unit: ",T);var P=new Array;null===(l=o.logger)||void 0===l||l.log("Size Mappings: ",o.RUBICON_SIZE_MAPPING),e.monetization.filteredSizes.forEach((function(e,n){var t,r="".concat(e.width,"x").concat(e.height);null===(t=o.logger)||void 0===t||t.log("Filtered Size: ",{sizeWrapper:e,index:n,targetSize:r}),P.push(o.RUBICON_SIZE_MAPPING[r])})),null===(f=o.logger)||void 0===f||f.log("Size Map Array: ",P);var N=T.rktr_ad_id.toLowerCase().split("/");null===(g=o.logger)||void 0===g||g.log("Ad Unit Array: ",N);var M=N[0]+(N[1]?"_"+N[1]:"");null===(m=o.logger)||void 0===m||m.log("criteoPubSubId: ",M);var U=T.rktr_ad_id.split("/"),R=U[0].toLowerCase()+(U[1]?"_"+U[1].toLowerCase():"");null===(h=o.logger)||void 0===h||h.log("invCode: ",{invCode:R,invCodeArray:U});var L="",k="atf";null===(b=o.logger)||void 0===b||b.log("A pos: ",{posValue:L,position:k});for(var F=0;F<e.unWrappedSlot.targeting.length;F++){var x=e.unWrappedSlot.targeting[F];"pos"===x[0]&&(L=x[1][0],k=x[1][0].split("_")[1])}null===(y=o.logger)||void 0===y||y.log("B pos: ",{posValue:L,position:k});var j=T.rktr_ad_id.indexOf("/homepage")>=0||T.rktr_ad_id.indexOf("/business/landing")>=0;null===(O=o.logger)||void 0===O||O.log("Is Homepage: ",j),D.code=T.rktr_slot_id,D.ortb2Imp.ext.gpid="".concat(T.rktr_ad_id,"#").concat(L),D.mediaTypes.banner.sizes=e.monetization.filteredSizes.map((function(e){return[e.width,e.height]})),null===(_=o.logger)||void 0===_||_.log("Banner Ad Unit Mock: ",D),L=JSON.parse(JSON.stringify(L)).replace(/"/g,""),null===(E=o.logger)||void 0===E||E.log("POS: ",L),null===(I=o.logger)||void 0===I||I.log("Location Check: ",{isIntl:(0,c.isIntl)(),isUSCNN:(0,c.isUSCNN)(),isMobile:(0,p.default)()});var B=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.CLIENT.INTL:o.config.BIDDERS.CLIENT.DOM;null===(w=o.logger)||void 0===w||w.log("Bidders: ",B);var G={};B.forEach((function(n){var t,r,i,a,s,d,u,l,f;null===(t=o.logger)||void 0===t||t.log("Bidder: ",n);var g=new v;switch(n){case"appnexus":g.setBidder("appnexus"),g.params.invCode=R+"_"+L,g.params.member=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&g.addParam("keywords",window.CNN.cep_topics),null===(r=o.logger)||void 0===r||r.log("Pushing AppNexus Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.appnexus=JSON.parse(JSON.stringify(g.params));break;case"criteo":g.setBidder("criteo"),g.params.networkId=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.CRITEO.ACCOUNT_ID.INTL:o.config.VENDOR.CRITEO.ACCOUNT_ID.DOM,g.addParam("publisherSubId","".concat(M,"_").concat(T.rktr_slot_id)),null===(i=o.logger)||void 0===i||i.log("Pushing Criteo Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.criteo=JSON.parse(JSON.stringify(g.params));break;case"pangaea":g.setBidder("pangaea"),g.addParam("invCode",R+"_"+L),g.addParam("member",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.PANGAEA.ACCOUNT_ID.INTL:o.config.VENDOR.PANGAEA.ACCOUNT_ID.DOM),null===(a=o.logger)||void 0===a||a.log("Pushing Pangaea Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.pangaea=JSON.parse(JSON.stringify(g.params));break;case"rubicon":g.setBidder("rubicon"),g.addParam("accountId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,10)),g.addParam("siteId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.INTL.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.DOM.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.DOM.DESKTOP,10)),(0,p.default)().any?j?g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP,10)):g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS,10)):j?g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS,10)):g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS,10)),g.addParam("position",k),g.addParam("sizes",P),null===(s=o.logger)||void 0===s||s.log("Pushing Rubicon Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.rubicon=JSON.parse(JSON.stringify(g.params));break;case"ix":e.monetization.filteredSizes.forEach((function(e){var n,t=new v;t.setBidder("ix");var r="".concat(e.width,"x").concat(e.height);t.addParam("siteId",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.SITE_ID.INTL.MOBILE[k][r]||"":o.config.VENDOR.IX.SITE_ID.DOM.MOBILE[k][r]||"":(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.SITE_ID.INTL.DESKTOP[k][r]||"":o.config.VENDOR.IX.SITE_ID.DOM.DESKTOP[k][r]||""),t.addParam("size",JSON.parse(JSON.stringify(e.unwrapped))),""!==t.params.siteId&&(null===(n=o.logger)||void 0===n||n.log("Pushing IX Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t)))),G.ix=G.ix||{},G.ix[r]=JSON.parse(JSON.stringify(t.params))}));break;case"trustx":e.monetization.filteredSizes.forEach((function(e){var n,t=e.unwrapped.join("x"),r=new v;r.setBidder("trustx"),window.CNN&&window.CNN.cep_topics&&r.addParam("keywords",window.CNN.cep_topics),r.addParam("uid",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.TRUSTX.UID.INTL.MOBILE[k][t]||"":o.config.VENDOR.TRUSTX.UID.DOM.MOBILE[k][t]||"":(0,c.isIntl)()?o.config.VENDOR.TRUSTX.UID.INTL.DESKTOP[k][t]:o.config.VENDOR.TRUSTX.UID.DOM.DESKTOP[k][t]),""!==r.params.uid&&(null===(n=o.logger)||void 0===n||n.log("Pushing TRUSTX Bid: ",r),D.bids.push(JSON.parse(JSON.stringify(r)))),G.trustx=G.trustx||{},G.trustx[t]=JSON.parse(JSON.stringify(r.params))}));break;case"triplelift":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("triplelift");var r=e.join("x");t.addParam("inventoryCode",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.ROS[r]:j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.ROS[r]:(0,c.isIntl)()&&!(0,c.isUSCNN)()?j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.ROS[r]:j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.ROS[r]);var i=!1;D.bids.forEach((function(e){"triplelift"===e.bidder&&(e.params.inventoryCode===t.params.inventoryCode&&(i=!0),i=!0)})),i||(null===(n=o.logger)||void 0===n||n.log("Pushing TripleLift Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t))))})),G.triplelift=JSON.parse(JSON.stringify(g.params));break;case"kargo":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("kargo");var r=e.join("x");t.addParam("placementId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.KARGO.MAPPINGS.INTL.MOBILE[r]:o.config.VENDOR.KARGO.MAPPINGS.DOM.MOBILE[r]);var i=!1;D.bids.forEach((),!i&&(0,p.default)().any&&(null===(n=o.logger)||void 0===n||n.log("Pushing Kargo Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t))))})),G.kargo=JSON.parse(JSON.stringify(g.params));break;case"districtm":g.setBidder("districtm"),g.addParam("placementId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.DISTRICTM.PID.INTL:o.config.VENDOR.DISTRICTM.PID.DOM),null===(d=o.logger)||void 0===d||d.log("Pushing DistrictM Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.districtm=JSON.parse(JSON.stringify(g.params));break;case"sharethrough":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("sharethrough");var r=e.join("x");t.addParam("pkey",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.MOBILE[r]:o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.MOBILE[r]:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.DESKTOP[r]:o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.DESKTOP[r]);var i=!1;D.bids.forEach((function(e){"sharethrough"===e.bidder&&e.params.pkey===t.params.pkey&&(i=!0)})),!i&&t.params.pkey&&""!==t.params.pkey&&(null===(n=o.logger)||void 0===n||n.log("Pushing Sharethrough Bid for ".concat(D.code),t,T),D.bids.push(JSON.parse(JSON.stringify(t))))})),G.sharethrough=JSON.parse(JSON.stringify(g.params));break;case"pubmatic":g.setBidder("pubmatic"),g.addParam("publisherId",(0,c.isIntl)()?o.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:o.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),g.addParam("adSlot","".concat(U[0].toLowerCase(),"_").concat(L)),null===(u=o.logger)||void 0===u||u.log("Pushing Pubmatic Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.pubmatic=JSON.parse(JSON.stringify(g.params));break;case"33across":g.setBidder("33across"),g.addParam("productId","siab"),g.addParam("siteId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.INTL:o.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.DOM),null===(l=o.logger)||void 0===l||l.log("Pushing 33Across Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.thirtyThreeAcross=JSON.parse(JSON.stringify(g.params));break;case"yahoo":g.setBidder("yahoossp"),g.addParam("dcn",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.DCN||"":o.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.DCN||"":(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.DCN||"":o.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.DCN||""),g.addParam("pos",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.POS[k]||"":o.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.POS[k]||"":(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.POS[k]||"":o.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.POS[k]||""),null===(f=o.logger)||void 0===f||f.log("Pushing Yahoo Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G||(G={}),G.yahoo=JSON.parse(JSON.stringify(g.params))}})),e.programmatic.prebid=G,null===(A=o.logger)||void 0===A||A.log("Banner Ad Unit: ",D),o.BUILT_AD_UNITS.has(JSON.parse(JSON.stringify(D.code)))||(o.BUILT_AD_UNITS.add(JSON.parse(JSON.stringify(D.code))),t.push(JSON.parse(JSON.stringify(D))))}else null===(C=o.logger)||void 0===C||C.log("Slot is not monetized.")}else null===(S=o.logger)||void 0===S||S.log("Slot has no ad unit:",T.rktr_ad_id)}));var i={banner:t,outstream:r};return null===(n=o.logger)||void 0===n||n.log("Built Ad Units: ",i),i},o.preQueue=function(e){return new Promise((function(n,t){var r,i,a,s,d=!1;if(null===(r=o.logger)||void 0===r||r.log("========== Prebid Slots: ",e),e.length>0){var u=o.buildPrebidAdUnits(e);null===(i=o.logger)||void 0===i||i.log("========== Prebid Ad Units: ",u);var c=null==u?void 0:u.banner.filter((function(e){var n;return e.bids.length>0&&-1===(null===(n=o.REQUESTED_AD_UNITS)||void 0===n?void 0:n.banner.indexOf(e))})),l=null==u?void 0:u.outstream.filter((function(e){var n;return e.bids.length>0&&-1===(null===(n=o.REQUESTED_AD_UNITS)||void 0===n?void 0:n.outstream.indexOf(e))}));null===(a=o.logger)||void 0===a||a.log("========== Filtered Ad Units: ",{banner:c,outstream:l});var f=function(){var t,r,i,a,s,u,f,g,m,v;null===(t=o.logger)||void 0===t||t.log("========== Hey Kids!  It's the pbQueueFunction! =========="),c.length>0&&(null===(r=o.logger)||void 0===r||r.log("========== Adding Banner Ad Units...",JSON.parse(JSON.stringify(c))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(c))),c.forEach((function(e){o.REQUESTED_AD_UNITS.banner.push(e)}))),l.length>0&&(null===(i=o.logger)||void 0===i||i.log("========== Adding Outstream Ad Units...",JSON.parse(JSON.stringify(l))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(l))),l.forEach(()),null===(a=o.logger)||void 0===a||a.log("========== Pre-Processing for Requesting Bids...",{banner:c,outstream:l});var h=e.map((function(e){var n;return null===(n=o.logger)||void 0===n||n.log("========== Adding slot to requested slots: ",e),e.unWrappedSlot.rktr_slot_id}));null===(s=o.logger)||void 0===s||s.log("========== Requested slots...",h),l.forEach((function(n){var t;null===(t=o.logger)||void 0===t||t.log("Checking AdUnit: ",n),h.indexOf(n.code)>=0&&e.push(n.code)}));if(null===(u=o.logger)||void 0===u||u.log("========== Banner Ad Units: ",c.length),null===(f=o.logger)||void 0===f||f.log("========== Outstream Ad Units: ",l.length),null===(g=o.logger)||void 0===g||g.log("========== Slots: ",e.length),e.length>0&&(c.length>0||l.length>0)){window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}});var b=new Array;c.forEach((function(e){b.push(e.code)})),l.forEach((function(e){b.push(e.code)})),null===(m=o.logger)||void 0===m||m.log("========== REQUESTING BIDS:",{adUnitCodes:b,bannerAdUnits:c,outstreamAdUnits:l}),window.pbjs.requestBids({adUnitCodes:b,timeout:(0,p.default)().any?o.config.TIMEOUTS.DISPLAY.MOBILE:o.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(t,r){var i,a,s,u;if(t){null===(i=o.logger)||void 0===i||i.log("Bids/Slots: ",{bids:t,slots:e}),Object.keys(t).map((function(e){var n,t,r;null===(n=o.logger)||void 0===n||n.log("Getting manual targeting for ".concat(e));var i=window.pbjs.getAdserverTargetingForAdUnitCode(e),a=[];Object.keys(i).forEach((),null===(t=o.logger)||void 0===t||t.log("Setting Bulk Targeting for slot ".concat(e),a),null===(r=window.AdFuel)||void 0===r||r.setBulkTargeting({slotTargets:a})}));try{null===(a=null===window||void 0===window?void 0:window.googletag)||void 0===a||a.cmd.push(()}catch(t){null===(s=o.logger)||void 0===s||s.warn("failed to get display ad for preQueueCallback",t),n({name:"Prebid",slots:e,bids:null,errMsg:"Failed to get Display Ad for preQueueCallback",err:t})}}else null===(u=o.logger)||void 0===u||u.warn("No bids: ",{slots:e,bids:t}),n({name:"Prebid",slots:e,bids:null,errMsg:"No Bids.",err:!0})}})}else null===(v=o.logger)||void 0===v||v.log("========== No Slots"),n({name:"Prebid",slots:e})};null===(s=o.logger)||void 0===s||s.log("========== Pushing function onto pbjs.que:",f),window.pbjs.que.push(f)}}))},o.setGeoTargeting=function(e){var n,t;void 0===e&&(e=!1);try{var r=function(){var n,t,r,i,a,s,d;null===(n=o.logger)||void 0===n||n.log("Setting GeoTargeting... ",(0,c.isIntl)()||e),(0,c.isIntl)()?(null===(t=o.logger)||void 0===t||t.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):null===(r=window.googletag)||void 0===r||r.pubads().setTargeting("hbg","EU")):e?(null===(i=o.logger)||void 0===i||i.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):null===(a=window.googletag)||void 0===a||a.pubads().setTargeting("hbg","EU")):(null===(s=o.logger)||void 0===s||s.log("Setting Geo Target: US"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","US"):null===(d=window.googletag)||void 0===d||d.pubads().setTargeting("hbg","US"))};window.googletag&&window.googletag.apiReady?r():null===(n=window.googletag)||void 0===n||n.cmd.push(r)}catch(e){null===(t=o.logger)||void 0===t||t.log("err on setGeoTargeting: ",e)}},o.configurePrebidLibrary=function(e){var n,t;try{if(!o.libraryConfigured){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],o.libraryConfigured=!0;var r={buckets:[{precision:2,max:5,increment:.01},{precision:2,max:30,increment:.05},{precision:2,max:(0,c.isIntl)()?50:115,increment:1}]},i=o.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.PRICE_BUCKETS.INTL.DISPLAY:o.config.PRICE_BUCKETS.DOM.DISPLAY:r,a=o.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.PRICE_BUCKETS.INTL.VIDEO:o.config.PRICE_BUCKETS.DOM.VIDEO:{buckets:[{precision:2,max:50,increment:1},{precision:2,max:100,increment:5}]},d={banner:{buckets:i},video:{buckets:a},"video-instream":{buckets:a},"video-outstream":{buckets:o.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.PRICE_BUCKETS.INTL.OUTSTREAM:o.config.PRICE_BUCKETS.DOM.OUTSTREAM:{buckets:[{precision:2,max:50,increment:1}]}}},u={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:(0,c.isIntl)()?50:115,increment:1}]},l=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.SEND_ALL_BIDS.INTL:o.config.SEND_ALL_BIDS.DOM;window.pbjs.que.push((function(){var e,n,t,r,i,a,f,m,v,h,b,y,O,_,E,I,w,A,C,S,T,D,P;null===(e=o.logger)||void 0===e||e.log("Is Mobile: ",(0,p.default)());var N=!1===(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isInRegion("global"));null===(r=o.logger)||void 0===r||r.log("Check Consent: ",N);var M={allowZeroCpmBids:!1,priceGranularity:u,mediaTypePriceGranularity:d,enableSendAllBids:l,bidderTimeout:(0,p.default)().any?o.config.TIMEOUTS.DISPLAY.MOBILE:o.config.TIMEOUTS.DISPLAY.DESKTOP,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},adpod:{brandCategoryExclusion:!0,prioritizeDeals:!0,dealTier:{appnexus:{prefix:"tier",minDealTier:6}}},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"],alwaysIncludeDeals:!0},userSync:{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}}},U=o.config.BIDDERS.S2S[(0,c.isIntl)()&&!(0,c.isUSCNN)()?"INTL":"DOM"];null===(i=o.logger)||void 0===i||i.log("Fire S2S: ",U.length>0),U.length>0&&(M.s2sConfig={accountId:"f7c6e556-48f6-4b8c-9fb6-921c12c9362f",enabled:!0,bidders:o.config.BIDDERS.S2S[(0,c.isIntl)()&&!(0,c.isUSCNN)()?"INTL":"DOM"],timeout:(0,p.default)().any?o.config.TIMEOUTS.DISPLAY.MOBILE:o.config.TIMEOUTS.DISPLAY.DESKTOP,adapter:"prebidServer",endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync"});var R={appnexus:{suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_appnexus_tier",val:function(e){if(null!=e.appnexus.dealPriority)return e.appnexus.dealPriority}}]},rubicon:{}};!(0,c.isIntl)()&&l&&(R.rubicon={alwaysUseBid:!0,suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_db_rubicon",val:]}),o.config.BIDDERS.OUTSTREAM=o.config.BIDDERS.OUTSTREAM||{DOM:[],INTL:[]},o.config.BIDDERS.VIDEO=o.config.BIDDERS.VIDEO||{DOM:[],INTL:[]};var L=[];(0,c.isIntl)()?(o.config.BIDDERS.CLIENT&&(L=s(s([],L,!0),o.config.BIDDERS.CLIENT.INTL,!0)),o.config.BIDDERS.S2S&&(L=s(s([],L,!0),o.config.BIDDERS.S2S.INTL,!0)),o.config.BIDDERS.OUTSTREAM&&(L=s(s([],L,!0),o.config.BIDDERS.OUTSTREAM.INTL,!0)),o.config.BIDDERS.VIDEO&&(L=s(s([],L,!0),o.config.BIDDERS.VIDEO.INTL,!0))):(o.config.BIDDERS.CLIENT&&(L=s(s([],L,!0),o.config.BIDDERS.CLIENT.DOM,!0)),o.config.BIDDERS.S2S&&(L=s(s([],L,!0),o.config.BIDDERS.S2S.DOM,!0)),o.config.BIDDERS.OUTSTREAM&&(L=s(s([],L,!0),o.config.BIDDERS.OUTSTREAM.DOM,!0)),o.config.BIDDERS.VIDEO&&(L=s(s([],L,!0),o.config.BIDDERS.VIDEO.DOM,!0))),L=L.map((function(e){return-1!==L.indexOf(e)?e:null})).filter((function(e){return null!==e})),o.logger.log("Bidders: ",L),L.forEach((function(e){var n,t;R[e]=R[e]||{},null===(n=o.logger)||void 0===n||n.log("Setting sendStandardTargeting for ".concat(e," to ").concat(!l)),R[e].sendStandardTargeting=!l,null===(t=o.logger)||void 0===t||t.log("Setting storageAllowed for ".concat(e)),R[e].storageAllowed=!0}));var k={name:"identityLink",params:{pid:"13452"},storage:{type:"cookie",name:"tok_lr2",expires:30}},F={name:"id5Id",params:{partner:963},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},x=g.CookieHelper.readCookie("sendAuthToken2");null===(a=o.logger)||void 0===a||a.log("sendAuthToken2:",x);var j=!1;j="string"==typeof x?"true"===(null===(f=g.CookieHelper.readCookie("sendAuthToken2"))||void 0===f?void 0:f.toLowerCase()):null!==x&&x,null===(m=o.logger)||void 0===m||m.log("sendAuthToken Boolean: ",j),!(0,c.isIntl)()&&k.params.pid&&j?(null===(v=o.logger)||void 0===v||v.log("Adding IdentityLink/LiveRamp UserID Config...",k),M.userSync=M.userSync||{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}},M.userSync.userIds.push(k),null===(h=window.googletag)||void 0===h||h.cmd.push((function(){var e,n;null===(e=o.logger)||void 0===e||e.log("Setting tok_lr2 targeting...",g.CookieHelper.readCookie("tok_lr2")),null===(n=window.googletag)||void 0===n||n.pubads().setTargeting("tok_lr2",g.CookieHelper.readCookie("tok_lr2")||"")}))):(0,c.isIntl)()&&(null===(b=o.logger)||void 0===b||b.log("Adding Id5Id UserID Config...",F),M.userSync.userIds.push(F));var B=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.CLIENT.INTL.indexOf("districtm")>=0:o.config.BIDDERS.CLIENT.DOM.indexOf("districtm")>=0,G=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.CLIENT.INTL.indexOf("trustx")>=0||o.config.BIDDERS.VIDEO.INTL.indexOf("trustx")>=0:o.config.BIDDERS.CLIENT.DOM.indexOf("trustx")>=0||o.config.BIDDERS.VIDEO.DOM.indexOf("trustx")>=0;if(N){var V=null===(O=null===(y=window.WM)||void 0===y?void 0:y.UserConsent)||void 0===O?void 0:O.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);null===(_=o.logger)||void 0===_||_.log("Checking for Consent..."),V&&(M.consentManagement=M.consentManagement||{},window.WM.UserConsent.isInRegion("gdpr")&&(M.consentManagement.gdpr={cmpApi:"iab",timeout:100}),window.WM.UserConsent.isInRegion("gpp")&&(M.consentManagement.gpp={cmpApi:"iab",timeout:100}),M.consentManagement.usp={cmpApi:"iab",timeout:100},null===(E=o.logger)||void 0===E||E.log("Setting config...",M),window.pbjs.setConfig(M),null===(I=o.logger)||void 0===I||I.log("Setting Bidder Settings...",R),window.pbjs.bidderSettings=R,B&&(null===(w=o.logger)||void 0===w||w.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),G&&(null===(A=o.logger)||void 0===A||A.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx")))}else null===(C=o.logger)||void 0===C||C.log("Skipping User Consent Check..."),null===(S=o.logger)||void 0===S||S.log("Setting config...",M),window.pbjs.setConfig(M),null===(T=o.logger)||void 0===T||T.log("Setting Bidder Settings...",R),window.pbjs.bidderSettings=R,B&&(null===(D=o.logger)||void 0===D||D.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),G&&(null===(P=o.logger)||void 0===P||P.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx"))})),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.Prebid=window.PrebidVideoAPI={getTargetingData:o.getVideoBids,getRefreshedTargetingData:o.getRefreshedVideoBids,getPreRollTargetingData:o.getVideoBids,getMidRollTargetingData:o.getMidRollVideoBids,getRefreshedPreRollTargetingData:o.getRefreshedVideoBids,getRefreshedMidRollTargetingData:o.getMidRollVideoBids,__VERSION__:o.MODULE_VERSION};var m=(0,f.getUrlParam)("mdt");m&&(Object.keys(o.config.TIMEOUTS).forEach((),null===(n=o.logger)||void 0===n||n.log("Overriding Max Duration Time: ",o.config.TIMEOUTS))}}catch(e){null===(t=o.logger)||void 0===t||t.log("err on configurePrebidLibrary: ",e)}},o.init=function(){return new Promise((function(e,n){return i(o,void 0,void 0,(function(){var n,t,o,r,i,s=this;return a(this,(function(a){return null===(t=this.logger)||void 0===t||t.info("Initializing Prebid Module..."),this.enabled&&(null===(o=this.logger)||void 0===o||o.info("Initializing Module: ",this.config),n=this.validateConfiguration(this.config),null===(r=this.logger)||void 0===r||r.log("Validation: ",n),this.configurePrebidLibrary(this.config),(0,c.isIntl)()&&(this.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),window.AdFuel?(null===(i=this.logger)||void 0===i||i.log("Setting Module Ready"),window.AdFuel.setModuleReady(this.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;null===(e=s.logger)||void 0===e||e.log("Setting Module Ready"),window.AdFuel.setModuleReady(s.MODULE_LOG_TAG)})),e()),[2]}))}))}))},null===(t=o.logger)||void 0===t||t.info("Prebid Module constructed"),o}return r(n,e),n.prototype.preDispatch=n.prototype.preRefresh=function(e){var n=this;return new Promise((function(t){var o,r,i,a,s,d,u,c,l;null===(o=n.logger)||void 0===o||o.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Pre-Refresh Assets: ",e);var f=!1;if(e.length>0){null===(r=n.logger)||void 0===r||r.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  BUILT_AD_UNITS:",n.BUILT_AD_UNITS),e.forEach(();var g=n.buildPrebidAdUnits(e);null===(i=n.logger)||void 0===i||i.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  AdUnits: ",g);var m=e.map((function(e){var t;return null===(t=n.logger)||void 0===t||t.log("Page Slot: ",e,e.slotId),e.slotId}));if(null===(a=n.logger)||void 0===a||a.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Refreshed Page Slots: ",m),g.banner.length>0){null===(s=n.logger)||void 0===s||s.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Banner Ad Units: ",g.banner);var v=new Array;g.banner.forEach((function(e){v.push(e.code)})),g.outstream.forEach((),null===(d=n.logger)||void 0===d||d.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Ad Unit Codes: ",v),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),null===(u=n.logger)||void 0===u||u.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Requesting Bids...",v),window.pbjs.requestBids({adUnitCodes:v,timeout:(0,p.default)().any?n.config.TIMEOUTS.DISPLAY.MOBILE:n.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(o,r){var i,a,s;try{null===(i=n.logger)||void 0===i||i.log("GOT BIDS: ",o,v),null===(a=window.googletag)||void 0===a||a.cmd.push(()}catch(o){null===(s=n.logger)||void 0===s||s.warn("failed to get display ad for preRefreshCallback",o),t({name:"Prebid",err:o,slots:e})}}})}else null===(c=n.logger)||void 0===c||c.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Ad Units to Refresh.",g),f||(f=!0,t({name:"Prebid",slots:e,adUnits:g}))}else null===(l=n.logger)||void 0===l||l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Slots To Refresh.",e),f||(f=!0,t({name:"Prebid",slots:e}))}))},n.prototype.destroySlots=function(e){var n=this;return new Promise((function(t,o){var r=Object.assign({},n.REQUESTED_AD_UNITS),i=s([],Array.from(n.BUILT_AD_UNITS),!0);e.forEach((function(e){var t;r.banner.forEach((function(t,o){var r,i;null===(r=n.logger)||void 0===r||r.log("rAU AdUnit: ",t),t.code===e.slotId&&(null===(i=n.logger)||void 0===i||i.log("Destroying Slot Requested Record: ",e.slotId),n.REQUESTED_AD_UNITS.banner.splice(o,1))})),i.forEach((function(t,o){var r,i;null===(r=n.logger)||void 0===r||r.log("bAU AdUnit: ",t),t===e.slotId&&(null===(i=n.logger)||void 0===i||i.log("Destroying Slot Built Record: ",e.slotId),n.BUILT_AD_UNITS.delete(e.slotId))})),null===(t=n.logger)||void 0===t||t.log("Removing Ad Unit from PBJS: ",e.slotId),window.pbjs.removeAdUnit(e.slotId)})),t({name:"Prebid",slots:e})}))},n}(d.AAdFuelModule);t.Prebid=b,new b(window.AdFuelOptions.PREBID||{BIDDERS:{CLIENT:{DOM:[],INTL:[]},OUTSTREAM:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]}},DEBUG:!1,SEND_ALL_BIDS:{DOM:!0,INTL:!0},TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"7745",INTL:"8353"}},CRITEO:{ACCOUNT_ID:{DOM:4157,INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:"11078",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:0,MOBILE:0},INTL:{DESKTOP:0,MOBILE:0}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}},INTL:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}}}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}}},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:.01}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}}})},{"./prebidLibrary":14,"./version.json":15,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/generateCacheBuster":5,"@turnercode/digital-ads-utilities/dist/getUrlParam":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(require,module,exports){if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(e){}else(function(){!function(){var e,n={5706:4947:286:9633:6310:1087:function(e,n,t){t.d(n,{hb:function(){return b}});var o=t(1002),r=t(3324),i=t(265),a=t(3193),s=t(571),d=t(4947);function u(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var l=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((),f=["user.eids","user.ext.eids"],g=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];b=);(0,s.oB)(d.Jt,"enableTIDs config",()},571:875:8525:6104:function(e,n,t){t.d(n,{O6:function(){return x},uV:function(){return V}});var o=t(9062),r=t(3324),i=t(4942),a=t(4358),s=t(265),d=t(59),u=t(4699),c=t(8928),l=t(3193),f=t(2797),g=t(4614),p=t(875),m=t(5102),v=t(4516),h=t(2021),b=t(5644),y=t(9128),O=t(8653),_=t(9633),E=t(571),I=t(4947),w=t(6310),A=t(1087);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T="pbsBidAdapter",D="client",P="server",N={isAllowed:E.xD,redact:A.hb},M={},U=M.bidderRegistry={},R=M.aliasRegistry={},L=[];l.vc.getConfig("s2sConfig",();var k={},F=(0,w.Oj)((function(e){return M.resolveAlias(e)}));ar j=(0,f.z3)("sync",(,"getBids"),B=(0,f.z3)("sync",(,"filterBidsForAdUnit");var G=(0,f.z3)("sync",(,"setupAdUnitMediaTypes");ar Z=(0,f.z3)("sync",(,"partitionBidders");akeBidRequests=(0,f.z3)("sync",(function(e,n,t,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;s=(0,y.Bf)(s),h.j8(b.FP.BEFORE_REQUEST_BIDS,e),(0,d.Fb)(e),e.forEach((),e=G(e,r);var u=Z(e,L),c=u[D],f=u[P];l.vc.getConfig("bidderSequence")===l.FD&&(c=(0,a.TV)(c));var p=(0,m.nH)(),O=[],E=i.global||{},w=i.bidder||{};.forEach(();var C=e);return c.forEach((),O.forEach((),O}),"makeBidRequests"),M.callBids=M.videoAdapters=[],M.registerBidAdapter=M.aliasBidAdapter=M.resolveAlias=M.registerAnalyticsAdapter=M.enableAnalytics=M.getBidAdapter=function(e){return U[e]},M.getAnalyticsAdapter=function(e){return k[e]},M.callTimedOutBidders=M.callBidWonBidder=M.callBidBillableBidder=M.callSetTargetingBidder=function(e,n){q(e,"onSetTargeting",n)},M.callBidViewableBidder=M.callBidderError=M.callDataDeletionRequest=(0,f.z3)("sync",(),n.ZP=M},4699:function(e,n,t){t.d(n,{BF:function(){return P},JY:function(){return M},PZ:function(){return S},dX:function(){return C}});var o=t(1002),r=t(3324),i=t(8525),a=t(6104),s=t(3193),d=t(9626),u=t(1974),c=t(59),l=t(154),f=t(5644),g=t(2021),p=t(4614),m=t(4358),v=t(2797),h=t(8653),b=t(5975),y=t(9128),O=t(571),_=t(286),E=t(9633),I=t(4947),w=["cpm","ttl","creativeId","netRevenue","currency"],A=["auctionId","transactionId"];r T=(0,v.z3)("sync",(,"processBidderRequests"),D=(0,v.z3)("async",(,"registerSyncs"),P=(0,v.z3)("sync",(,"addComponentAuction");730:function(e,n,t){t.d(n,{B:function(){return s}});var o=t(4614),r=t(4358),i=new WeakMap,a=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","qortex"];,8928:function(e,n,t){t.d(n,{OI:function(){return p},hj:function(){return m}});var o=t(3324),r=t(1002),i=t(3193),a=t(4358),s={fetch:window.fetch.bind(window),makeRequest:timeout:,d="GET",u="POST",c="Content-Type";m=p();l()},5686:function(e,n,t){t.d(n,{LX:function(){return X},RH:function(){return z},Yt:function(){return U},Yw:function(){return C},dg:function(){return K},lU:function(){return F},mv:function(){return S},vO:function(){return M}});var o=t(1002),r=t(4358),i=t(265),a=t(6463),s=t(59),d=t(9885),u=t(5706),c=t(3193),l=t(1974),f=t(2797),g=t(4614),p=t(154),m=t(4679),v=t(8653),h=t(5975),b=t(2021),y=t(6104),O=t(5644),_=t(8792),E=t(9128),I=t(6066),w=t(8640),A=l.k_.syncUsers,C="inProgress",S="completed";b.on(O.FP.BID_ADJUSTMENT,();var T={},D={},P=[],N=(0,w.R)();function M(e){var n=e.adUnits,t=e.adUnitCodes,i=e.callback,a=e.cbTimeout,s=e.labels,d=e.auctionId,u=e.ortb2Fragments,l=e.metrics;l=(0,E.Bf)(l);var f,p,h,I,w=n,M=s,j=t,B=d||(0,r.DO)(),V=a,Z=new Set,W=(0,_.P)(),q=[],z=i,K=[],J=[],X=[],Y=[],$=[];ction oe(e){Z.add(e)}function re(e){var n=this;e.forEach(();var t={},i={bidRequests:e,run:function(){h=setTimeout((,V),I=C,b.j8(O.FP.AUCTION_INIT,ee());var i=function(e,n){var t=(void 0===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index&&v.K.index,0),i=!1,a=new Set,s={};n{addBidResponse:),adapterDone:}(te,n);y.ZP.callBids(w,e,i.addBidResponse,i.adapterDone,{request:done:,V,oe,u)}};i)||((0,r.yN)("queueing auction due to limited endpoint capacity"),P.push(i))}return b.on(O.FP.SEAT_NON_BID,(),{addBidReceived:function(e){J=J.concat(e)},addBidRejected:function(e){q=q.concat(e)},addNoBid:function(e){X=X.concat(e)},callBids:addWinningBid:setBidTargeting:getWinningBids:function(){return Y},getAuctionStart:function(){return f},getAuctionEnd:function(){return p},getTimeout:function(){return V},getAuctionId:function(){return B},getAuctionStatus:function(){return I},getAdUnits:function(){return w},getAdUnitCodes:function(){return j},getBidRequests:function(){return K},getBidsReceived:function(){return J},getNoBids:function(){return X},getNonBids:function(){return $},getFPD:function(){return u},getMetrics:function(){return l},end:W.promise}}var U=(0,f.z3)("sync",(,"addBidResponse"),R=(0,f.z3)("sync",(function(e){return e}),"responsesReady"),L=(0,f.z3)("sync",(,"addBidderRequests"),k=(0,f.z3)("async",(,"bidsBackCallback");r j,B,G=V=c.vc.getConfig("cache",();var Z=),W=(0,f.z3)("async",(,"callPrebidCache");r z=K=53:8833:5975:9626:3193:function(e,n,t){t.d(n,{FD:function(){return g},vc:function(){return h}});var o=t(4942),r=t(1002),i=t(3324),a=t(6463),s=t(4614),d=t(4358),u=t(265),c=t(5644);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}var f="TRUE"===(0,d.ak)(c.f).toUpperCase(),g="random",p={};p[g]=!0,p.fixed=!0;var m=g,v={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},h=function(){var e,n,t,c=[],g=null;r y=[b,.map((),O=(0,i.Z)(y,2),_=O[0],E=O[1],I=[E,_].map((),w=(0,i.Z)(I,2),A=w[0],C=w[1]; h(),{getCurrentBidder:function(){return g},resetBidder:M,getConfig:E,getAnyConfig:_,readConfig:A,readAnyConfig:C,setConfig:S,mergeConfig:setDefaults:resetConfig:h,runWithBidder:N,callbackWithBidder:setBidderConfig:P,getBidderConfig:function(){return t},mergeBidderConfig:}()},4516:function(e,n,t){t.d(n,{$P:function(){return O},NO:function(){return V},TJ:function(){return x},nX:function(){return F},qh:function(){return B},rp:function(){return k}});var o=t(3324),r=t(7326),i=t(9340),a=t(2963),s=t(1120),d=t(5671),u=t(3144),c=t(4942),l=t(8916),f=t(2793),g=t(4358),p=t(8792),m=t(3193);O=Object.freeze({}),_=new WeakMap,E=new WeakMap,I=new WeakMap,w=new WeakMap,A=new WeakMap,C=new WeakMap,S=new WeakSet,T=);ar P,N,M,U=T),R=T),L=T),k=new R,F=new U,x=new L,j=),B=(P={},N={},M={},{register:get:),G={gdpr:k,usp:F,gpp:x,coppa:j},V=)},6463:3777:2021:function(e,n,t){t.d(n,{S1:function(){return v},j8:function(){return b},on:function(){return m},vw:function(){return h}});var o=t(4358),r=t(5644),i=t(613),a=t(3193),s="eventHistoryTTL",d=null,u=(0,i.Z)({monotonic:!0,ttl:function(){return d}});a.vc.getConfig(s,();var c=Array.prototype.slice,l=Array.prototype.push,f=Object.values(r.FP),g=r.aI,p=function(){var e={},n={};eturn n.on=n.emit=n.off=n.get=function(){return e},n.addEvents=n.getEvents=n}();o.u2(p.emit.bind(p));var m=p.on,v=p.off,h=(p.get,p.getEvents),b=p.emit;p.addEvents},4078:3790:8196:2797:4679:59:function(e,n,t){t.d(n,{Fb:function(){return D},JL:function(){return x},Sg:function(){return v},Ur:function(){return R},e6:function(){return U},eK:function(){return F},lY:function(){return V},r4:function(){return N},xc:function(){return h},zq:function(){return H}});var o=t(9062),r=t(3324),i=t(4942),a=t(265),s=t(4358),d=t(4614),u=t(8653),c=t(5644),l=t(4679);nction p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=[],h=Object.keys(c.FY).map((),b={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},y=c.s$,O=c.oF,_=c.V1,E=c.zA,I=c.FY,w=q(_),A=q(y),C={img:1,js:2,1:"img",2:"js"},S=1;ject.fromEntries(Object.entries(c.FY).map(());5:function(e,n,t){t.d(n,{O5:function(){return we}});var o=t(3324),r=t(4942),i=t(8640),a=t(4358),s=t(265),d=t(6475),u=t(2021),c=t(59),l=t(5644),f=t(8653),g=t(4614),p=t(5706),m=t(3193),v=l.FP,h=v.AD_RENDER_FAILED,b=v.AD_RENDER_SUCCEEDED;r _=l.FP.BID_WON,E=l.FP.STALE_RENDER,I=new WeakSet,w={"Prebid Request":"Prebid Event":;ject.assign(w,{"Prebid Native":);var S=t(1974),T=t(9062),D=t(4679),P=t(2797),N=t(5975),M=t(1136),U=t(8833),R=[],L="targetingControls.allowTargetingKeys",k="targetingControls.addTargetingKeys",F='Only one of "'.concat(L,'" or "').concat(k,'" can be set'),x=Object.keys(l.TD).map((function(e){return l.TD[e]})),j={isActualBid:isBidNotExpired:isUnusedBid:;ar G=(0,P.z3)("sync",();ar Z=function(e){var n={},t={};estAuctionForAdUnit=function(e,n){t[e]=n},n.resetPresetTargeting=n.resetPresetTargetingAST=n.getAllTargeting=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),t=f(e),o=v(t,n).concat(_(t,n)).concat(m.vc.getConfig("enableSendAllBids")?E(t,n):i(t,n)).concat(w(t));o.map(();var r=Object.keys(Object.assign({},l.kF,l.FY)),s=m.vc.getConfig(L),c=m.vc.getConfig(k);if(null!=c&&null!=s)throw new Error(F);s=null!=c?r.concat(c):s||r,Array.isArray(s)&&s.length>0&&(o=d(o,s)),o=u(o);var g=m.vc.getConfig("targetingControls.auctionKeyMaxChars");return g&&((0,a.PN)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(g," characters.  Running checks on auction keys...")),o=o,g)),t.forEach((),o},m.vc.getConfig("targetingControls",(),n.setTargetingForGPT=n.getWinningBids=n.setTargetingForAst=n.isApntagDefined=n}(f.K),W=t(3777),H=t(875),q=t(9626),z=t(5164),K=t(6104),J=t(9128),X=t(8792),Y=t(4078),Q=t(4516),$=t(154),ee=(0,i.R)(),ne=S.k_.triggerUserSyncs,te=l.FP,oe=te.ADD_AD_UNITS,re=te.BID_WON,ie=te.REQUEST_BIDS,ae=te.SET_TARGETING,se=te.STALE_RENDER,de=l.q_,ue=de.PREVENT_WRITING_ON_MAIN_DOCUMENT,ce=de.NO_AD,le=de.EXCEPTION,fe=de.CANNOT_FIND_AD,ge=de.MISSING_DOC_OR_ADID,pe={bidWon:;)(),ee.bidderSettings=ee.bidderSettings||{},ee.libLoaded=!0,ee.version="v8.18.0",(0,a.PN)("Prebid.js v8.18.0 loaded"),ee.installedModules=ee.installedModules||[],ee.adUnits=ee.adUnits||[],ee.triggerUserSyncs=ne;var Ee={validateAdUnit:_e,validateBannerMediaType:he,validateSizes:ve};Object.assign(Ee,{validateNativeMediaType:ye}),Object.assign(Ee,{validateVideoMediaType:be});var Ie,we=(0,P.z3)("sync",(,"checkAdUnitSetup");.getAdserverTargetingForAdUnitCodeStr=ee.getHighestUnusedBidResponseForAdUnitCode=ee.getAdserverTargetingForAdUnitCode=ee.getAdserverTargeting=ee.getConsentMetadata=ee.getNoBids=function(){return(0,a.PN)("Invoking pbjs.getNoBids",arguments),Ae("getNoBids")},ee.getNoBidsForAdUnitCode=function(e){return{bids:f.K.getNoBids().filter((function(n){return n.adUnitCode===e}))}},ee.getBidResponses=ee.getBidResponsesForAdUnitCode=ee.setTargetingForGPTAsync=ee.setTargetingForAst=ee.renderAd=(0,P.z3)("async",(),ee.removeAdUnit=ee.requestBids=(Ie=(0,P.z3)("async",(,"requestBids"),(0,P.IF)(Ie,());var Se=(0,P.z3)("async",(,"startAuction");ee.requestBids.before((,49),ee.addAdUnits=ee.onEvent=ee.offEvent=ee.getEvents=ee.registerBidAdapter=ee.registerAnalyticsAdapter=ee.createBid=var Te=[],De=(0,P.z3)("async",(,"enableAnalyticsCb");ee.enableAnalytics=ee.aliasBidder=ee.aliasRegistry=K.ZP.aliasRegistry,m.vc.getConfig("aliasRegistry",(),ee.getAllWinningBids=function(){return f.K.getAllWinningBids()},ee.getAllPrebidWinningBids=ee.getHighestCpmBids=function(e){return Z.getWinningBids(e)},ee.markWinningBidAsUsed=var Pe=e.getConfig=m.vc.getAnyConfig,ee.readConfig=m.vc.readAnyConfig,ee.mergeConfig=m.vc.mergeConfig,ee.mergeBidderConfig=m.vc.mergeBidderConfig,ee.setConfig=m.vc.setConfig,ee.setBidderConfig=m.vc.setBidderConfig,ee.que.push((),ee.cmd.push=ee.que.push=ee.cmd.push,ee.processQueue=ee.triggerBilling=,8640:5102:5164:1974:4358:function(e,n,t){t.d(n,{$8:function(){return ce},$u:function(){return z},AB:function(){return Ce},D9:function(){return Ye},DO:function(){return P},EE:function(){return C},Ee:function(){return ze},FS:function(){return Ue},H:function(){return Z},HC:function(){return Ge},HP:function(){return Xe},I8:function(){return _e},IG:function(){return De},LQ:function(){return X},NA:function(){return ve},NI:function(){return L},Ob:function(){return M},PN:function(){return G},PO:function(){return ee},Q2:function(){return He},R_:function(){return ue},Re:function(){return N},S0:function(){return Re},SG:function(){return fe},T9:function(){return be},TV:function(){return Oe},U:function(){return je},Uv:function(){return ke},Vs:function(){return le},X4:function(){return ye},Yp:function(){return Ze},Zy:function(){return F},_R:function(){return Ke},_d:function(){return D},ak:function(){return K},bd:function(){return Se},d8:function(){return Y},dj:function(){return Je},e7:function(){return x},eB:function(){return q},ei:function(){return Be},en:function(){return We},ew:function(){return we},fr:function(){return Ie},hj:function(){return $},hq:function(){return de},iG:function(){return Me},jC:function(){return ae},jH:function(){return oe},ji:function(){return B},jn:function(){return ne},kJ:function(){return Q},oV:function(){return Le},or:function(){return xe},pP:function(){return he},qp:function(){return W},r3:function(){return ie},ry:function(){return Qe},s:function(){return R},sF:function(){return U},tT:function(){return ge},u2:function(){return E},vM:function(){return Ne},vZ:function(){return qe},wn:function(){return Te},xH:function(){return pe},x_:function(){return Ae},xb:function(){return te},yL:function(){return Ee},yN:function(){return V},yi:function(){return re},yx:function(){return Pe},zE:function(){return me},zV:function(){return Fe}});var o,r=t(9062),i=t(4942),a=t(3324),s=t(1002),d=t(3193),u=t(7079),c=t.n(u),l=t(4614),f=t(5644),g=t(8792),p=t(8640),m=Object.prototype.toString,v=Boolean(window.console),h=Boolean(v&&window.console.log),b=Boolean(v&&window.console.info),y=Boolean(v&&window.console.warn),O=Boolean(v&&window.console.error),_=(0,p.R)();r w={checkCookieSupport:De,createTrackPixelIframeHtml:getWindowSelf:x,getWindowTop:F,getWindowLocation:j,insertUserSyncIframe:le,insertElement:ae,isFn:X,triggerPixel:de,logError:Z,logWarn:V,logMessage:B,logInfo:G,parseQS:Ve,formatQS:Ze,deepEqual:qe},A={};ar S,T=(S=0,; F(){return window.top}function x(){return window.self}unction B(){q()&&h&&console.log.apply(console,H(arguments,"MESSAGE:"))}unction V(){q()&&y&&console.warn.apply(console,H(arguments,"WARNING:")),I(f.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}ction q(){return!!d.vc.getConfig("debug")}ction X(e){return J(e,"Function")}function Y(e){return J(e,"String")}var Q=Array.isArray.bind(Array);function $(e){return J(e,"Number")}function ee(e){return J(e,"Object")}umber);792:1136:function(e,n,t){function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){d=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw a}}}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}{K$:function(){return p},LT:function(){return u},ZH:function(){return g},xI:function(){return a}});var l=a((function(e){return e.cpm})),f=a((function(e){return e.responseTimestamp})),g=c(d(l,s(a((function(e){return e.timeToRespond}))))),p=c(d(l,s(f)));c(d(l,f))},613:function(e,n,t){t.d(n,{Z:function(){return u}});var o=t(4942),r=t(3324),i=t(8792),a=t(4358);function s(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o},154:function(e,n,t){t.d(n,{Dn:function(){return l},LD:function(){return u},cx:function(){return c},gZ:function(){return d},hD:function(){return f}});var o=t(265),r=t(4358),i=t(3193),a=t(2797),s=t(8653),d="outstream",u="instream";r f=(0,a.z3)("sync",(,"checkVideoBidSetup")},9885:265:1432:function(e){
/*
                * @license MIT
                * Fun Hooks v0.9.10
                * (c) @snapwich
                */
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),t=new WeakMap,o="2,1,0"===[1].reduce((,2).toString()?Array.prototype.reduce:ar i=Object.assign||function a(e){var s,d={},u=[];n(e=i({},n,e)).ready?c.ready=s=!0,c.get=f,c}e.exports=a},7079:907:3878:5057:7326:6983:6011:5671:1519:8916:2793:3144:4942:1120:9340:9199:1902:5267:function(e,n,t){function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return o}})},2786:2963:3324:9062:1002:function(e,n,t){.d(n,{Z:function(){return o}})},181:6475:5644:,t={};.m=n,e=[],o.O=o.n=o.d=o.o=);var r=o(7055);r=o.O(r)}(),(self.pbjsChunk=self.pbjsChunk||[]).push([[402],{5370:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[157],{676:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[277],{9050:7374:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[284],{6296:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[190],{4292:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[968],{2712:function(e,n,t){t.d(n,{b6:function(){return f},kX:function(){return c},m1:function(){return l},sM:function(){return u}});var o=t(4942),r=t(3324),i=t(9062),a=t(8792);r u=0,c=1,l=2;function f(e){var n=e.apiName,t=e.apiVersion,s=e.apiArgs,f=void 0===s?["command","callback","parameter","version"]:s,g=e.callbackArgs,p=void 0===g?["returnValue","success"]:g,m=e.mode,v=void 0===m?u:m,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,b={},y="".concat(n,"Call"),O="".concat(n,"Return");ar E,I=),w=(0,r.Z)(I,2),A=w[0],C=w[1];if(A)return C?E=(h.addEventListener("message",_,!1),E=,Object.assign(E,{isDirect:C,close:);}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[703],{75:function(e,n,t){t.d(n,{ky:function(){return i}});var o=t(4614),r=t(4358);}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[279],{4980:1283:5840:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[951],{9933:1021:9702:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[635],{9957:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[213],{9865:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[871],{8979:function(e,n,t){var o=t(4942),r=t(3324),i=t(9062),a=t(8640),s=t(4358),d=t(265),u=t(5686),c=t(7055),l=t(154),f=t(2797),g=t(9885),p=t(3193),m=t(4679),v=t(4614),h=t(8653),b=t(5644),y="hb_pb_cat_dur",O="hb_cache_id",_=50,E=5,I=);etConfig("adpod",(),(0,f.o0)((0,f.v5)("callPrebidCache"),(),(0,f.o0)(c.O5,(),(0,f.o0)(l.hD,();var P={TARGETING_KEY_PB_CAT_DUR:y,TARGETING_KEY_CACHE_ID:O,getTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.codes,t=e.callback;if(t){var i=T(n=n||[]),a=h.K.getBidsReceived(),u=p.vc.getConfig("adpod.brandCategoryExclusion"),c=p.vc.getConfig("adpod.deferCaching"),l="boolean"!=typeof c||c,f=D(a,i);if(f=u||l?function(e){var n=e.map(();n=(0,s.vM)(n,y);var t=[];return Object.keys(n).forEach((),t}(f):f,p.vc.getConfig("adpod.prioritizeDeals")){var g=f.reduce((,[[],[]]),m=(0,r.Z)(g,2),v=m[0],b=m[1];b.sort(S),v.sort(S),f=b.concat(v)}else f.sort(S);var _={};if(!1===l)i.forEach((),t(null,_);else{var E=[];i.forEach((),C(E,()}return _}(0,s.H)("No callback function was defined in the getTargeting call.  Aborting getTargeting().")}};Object.freeze(P),(0,f.bA)("adpod",(),(0,a.z)("adpod")}},function(e){e(e.s=8979)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[864],{6319:function(e,n,t){var o=t(1002),r=t(9062),i=t(8640),a=t(4358),s=t(265),d=t(5706),u=t(3193),c=t(4699),l=t(4679),f=t(4614),g=t(154),p=t(5164),m=t(5975),v=t(7673),h=t(59),b=t(4292),y=t(9050),O=t(7374),_=t(5370),E=t(6296),I="appnexus",w=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],A=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],C=["age","externalUid","external_uid","segments","gender","dnt","language"],S=["geo","device_id"],T=["enabled","dongle","member_id","debug_timeout"],D={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},P={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},N={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},M=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,U=(0,p.df)({bidderCode:I}),R={code:I,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32}],supportedMediaTypes:[l.Mk,l.pX,l.B5],isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:transformBidParams:;0,i.z)("appnexusBidAdapter")},7673:function(e,n,t){t.d(n,{h:function(){return r}});var o=t(265);function r(e){return null==e||!e.gdprApplies||!0===(0,o.Z)(e,"vendorData.purpose.consents.1")}}},),(self.pbjsChunk=self.pbjsChunk||[]).push([[156],{9496:function(e,n,t){var o=t(8640),r=t(3193),i=t(2797),a=t(8928),s=t(4358),d=t(5686),u=t(5164),c=t(9128),l=(0,u.eA)("categoryTranslation"),f="iabToFwMappingkey",g="iabToFwMappingkeyPub",p=(0,i.z3)("async",(function(e){"freewheel"===e&&v("https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json",f)}),"registerAdserver");i.Cd.then((function(){return p()}));var m=(0,c.A)("categoryTranslation",();.vc.getConfig("brandCategoryTranslation",(),(0,o.z)("categoryTranslation")}},function(e){e(e.s=9496)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[266],{5630:6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e.O(0,[968],(function(){return 5630,e(e.s=5630)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[168],{277:function(e,n,t){var o=t(1002),r=t(7326),i=t(9340),a=t(2963),s=t(1120);ar u=t(3324),c=t(4942),l=t(8916),f=t(3144),g=t(5671),p=t(9062),m=t(8640),v=t(4358),h=t(6475),b=t(3193),y=t(4516),O=t(9128),_=t(4078),E=t(2712),I=t(8792),w=t(6310);function A(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,s.Z)(e);if(n){var r=(0,s.Z)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,a.Z)(this,t)}}function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n,t){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.set(e,t)}ar P,N,M,U,R=!1;ar k=(0,f.Z)((),F=new WeakMap,x=new WeakMap,j=new WeakMap,B=);(0,c.Z)(B,"CLIENTS",{}),(0,c.Z)(B,"INST",void 0);var G=B);d((0,s.Z)(G),"register",G).call(G,"1.0");var V=B);d((0,s.Z)(V),"register",V).call(V,"1.1",!0);var Z={iab:static:;ar H=(0,O.g3)("gpp",();vc.getConfig("consentManagement",(),_.S.before((),(0,m.z)("consentManagementGpp")}},function(e){e.O(0,[968],(function(){return 277,e(e.s=277)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[160],{9099:,function(e){e.O(0,[968],(function(){return 9099,e(e.s=9099)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[406],{241:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9062),_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8640),_src_utils_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4358),_src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(265),_src_adloader_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5730),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4699),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3193),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4679),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5164),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5102),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7673),_src_Renderer_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5706),_src_video_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(154),_src_ajax_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8928);nction _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var GVLID=91,ADAPTER_VERSION=36,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.df)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=139,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",PUBLISHER_TAG_OUTSTREAM_SRC="https://static.criteo.net/js/ld/publishertag.renderer.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:isBidRequestValid:buildRequests:interpretResponse:onTimeout:onBidWon:onSetTargeting:onDataDeletionRequest:;asVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.banner")}pters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_13__.dX)(spec),(0,_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_14__.z)("criteoBidAdapter")},7673:function(e,n,t){t.d(n,{h:function(){return r}});var o=t(265);function r(e){return null==e||!e.gdprApplies||!0===(0,o.Z)(e,"vendorData.purpose.consents.1")}},4611:4950:1582:,function(e){e(e.s=241)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[345],{4713:function(e,n,t){var o=t(8640),r=t(3193),i=t(2797),a=t(4942),s=t(3324),d=t(4358),u=t(9062),c=t(1002),l=t(265);bject.assign(f.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig:updateConfig:rule:matcher:replacer:responseDefaults:defaultAd:match:matchAll:intercept:);var g,p,m=t(5644);n I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A,C=[],S=!1;=t(9626);!function(e){var n=e.DEBUG_KEY,t=e.config,o=e.hook,r=e.createBid,i=e.logger;A=new f({logger:i});var a={createBid:r});N((function(){return o.get("processBidderRequests")}),M),N((,a),{DEBUG_KEY:n,config:t,hook:o,logger:i}),t.getConfig("debugging",(function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.getStorage,o=void 0===t?function(){return window.sessionStorage}:t,r=n.DEBUG_KEY,i=n.config,a=n.hook,s=n.logger;if(null!=e){var d;try{d=o()}catch(e){s.logError("sessionStorage is not available: debugging configuration will not persist on page reload",e)}null!=d&&D(e,{sessionStorage:d,DEBUG_KEY:r}),e.enabled?T(e,{config:i,hook:a,logger:s}):{hook:a,logger:s})}}(e.debugging,{DEBUG_KEY:n,config:t,hook:o,logger:i})}),{init:!0})}({DEBUG_KEY:t(3777).Jc,config:r.vc,hook:i.z3,createBid:U.m,logger:(0,d.qp)("DEBUG:")}),(0,o.z)("debugging")}},function(e){e(e.s=4713)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[910],{3410:function(e,n,t){var o=t(8640),r=t(3193),i=t(2797),a=t(4358),s=t(8792),d=t(9128),u=[],c=(0,d.g3)("fpd",();(0,i.bA)("firstPartyData",(function(e){u.push(e)})),(0,i.v5)("startAuction").before(c,10),(0,o.z)("fpdModule")}},function(e){e(e.s=3410)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[72],{1144:,function(e){e(e.s=1144)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[83],{1498:function(e,n,t){var o=t(3324),r=t(8640),i=t(4358),a=t(265),s=t(3193),d=t(6104),u=t(4516),c=t(2021),l=t(5644),f=t(9633),g=t(6310),p=t(571),m=t(4947);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var h={purpose:{},feature:{}},b={purpose:"purpose.consents",feature:"specialFeatureOptins"},y={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},O=new Set,_=new Set,E=new Set,I=new Set,w=new Set,A=new Set,C=!1,S=!1,T=[f.UL,f.y2,f._U,f.XG],D="TCF2",P=[],N=[2];,G,V=(j=F(1,O),,Z=F(1,O),W=F(1,O),H=x(F(2,_)),q=F(7,E,(),z=F(4,I),K=x((B=k("2-10",(,w),G=F(4,w),),J=k("Special Feature 1",(,A);c.on(l.FP.AUCTION_END,(),s.vc.getConfig("consentManagement",(),(0,r.z)("gdprEnforcement")}},function(e){e(e.s=1498)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[296],{6787:function(e,n,t){var o=t(8640),r=t(4358),i=t(6475),a=t(265),s=t(3193),d=t(2797),u=t(4614),c=void 0,l={},f=!1,g=p=m=v=h=s.vc.getConfig("gptPreAuction",(),h({}),(0,o.z)("gptPreAuction")}},function(e){e(e.s=6787)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[750],{7206:function(e,n,t){var o=t(4925),r=t(1002),i=t(3324),a=t(9062),s=t(4942),d=t(8640),u=t(4358),c=t(265),l=t(8928),f=t(4699),g=t(5706),p=t(4679),m=t(3193),v=t(5164),h=["mind","maxd","size","playerSize","protocols","durationRangeSec"];function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O="grid",_="https://grid.bidswitch.net/hbjson",E="tmguid",I=(0,v.df)({bidderCode:O}),w="Bid from response has no adid parameter - ",A="Bid from response has no adm parameter - ",C="Array of bid objects is empty",S="Seatbid array from response has empty item",T="Seatbid from response has no array of bid objects - ",D={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},P=!1,N={code:O,gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[p.Mk,p.pX],isBidRequestValid:buildRequests:interpretResponse:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Th;e=e&&e.body;var o,r=[];e?e.seatbid&&!e.seatbid.length&&(o="Response has empty seatbid array"):o="Response is empty";var i=this.forceBidderName||this.code;return!o&&e.seatbid&&e.seatbid.forEach((),o&&(0,u.H)(o),r},getUserSyncs:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=n[0],r=n[2],i=n[3];if(!P&&o.pixelEnabled){var a="";r&&("boolean"==typeof r.gdprApplies&&(a+="&gdpr=".concat(Number(r.gdprApplies))),"string"==typeof r.consentString&&(a+="&gdpr_consent=".concat(r.consentString))),i&&(a+="&us_privacy=".concat(i));var s=this.forceBidderName||this.code,d=D[s]&&D[s].syncurl||"https://x.bidswitch.net/sync?ssp=themediagrid";return P=!0,{type:"image",url:d+a}}},ajaxCall:onDataDeletionRequest:;0,f.dX)(N),(0,d.z)("gridBidAdapter")},4925:,function(e){e(e.s=7206)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[618],{272:,function(e){e(e.s=272)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[114],{5407:,function(e){e(e.s=5407)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[155],{3390:function(e,n,t){var o=t(3324),r=t(9062),i=t(4942),a=t(1002),s=t(8640),d=t(265),u=t(4358),c=t(6475),l=t(4679),f=t(3193),g=t(5644),p=t(5164),m=t(2021),v=t(4614),h=t(4699),b=t(154),y=t(5706),O=t(75),_=t(5370);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var C="ix",S="roundel",T=[l.Mk,l.pX,l.B5],D=[144,144],P={JPY:1},N="p",M="x",U=9,R={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},L={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},k=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],F=["mimes","minduration","maxduration"],x=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],j="ixdiag",B="".concat(C,"_features"),G=!1,V=(0,p.df)({bidderCode:C}),Z={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:getFeatureToggles:setFeatureToggles:clearFeatureToggles:,W=0,H="",q="",z=!1;oe(e,n,t,o){var r="https://htlb.casalemedia.com/openrtb/pbjs",i=(0,d.Z)(e,"0.userIdAsEids")),s=i.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&s,i),n&&n.bidderCode===S&&!i.seenSources["liveramp.com"])return[];var l=[],g=e);g=g,Z.REQUESTED_FEATURE_TOGGLES);var p=e,(0,d.Z)(n,"fledgeEnabled"));for(var m in p)g.ext.ixdiag[m]=p[m];g=g,n,t,e,s),g=g,n);var v={};W=e[0].params.siteId,v.s=W;for(var h=Object.keys(t),b=!1,y=0;y<h.length&&!(l.length>=4);y++){g=re(t,h,g,y);var O=(0,d.Z)(n,"ortb2")||{},_=I({},O.site||O.context);_.page=ie(n);var E=I({},O.user);(0,u.xb)(O)||b||((g=ae(n,g,O,_,E)).site=(0,u.Ee)({},g.site,_),g.user=(0,u.Ee)({},g.user,E),b=!0),g=de(t,g,h,y,v,r);var A=y===h.length-1;g=Ee(g=_e(g=we(g))),A&&(l.push({method:"POST",url:r+"?s="+W,data:(0,u.I8)(g),option:{contentType:"text/plain"},validBidRequests:e}),g.imp=[],b=!1)}return l}gvlid:10,aliases:[{code:S,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:T,isBidRequestValid:buildRequests:interpretResponse:transformBidParams:getUserSyncs:;dX)(ye),(0,s.z)("ixBidAdapter")}},),(self.pbjsChunk=self.pbjsChunk||[]).push([[826],{5526:function(e,n,t){var o,r,i,a=t(3324),s=t(1002),d=t(8640),u=t(4358),c=t(265),l=t(3193),f=t(4699),g=t(5164),p=t(4679),m=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[p.Mk,p.pX]}),v=(0,g.df)({bidderCode:m.CODE}),h=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),b=Object.freeze({SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),y=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),O=[y.BROWSERS,y.MOBILE,y.MODEL,y.SOURCE,y.PLATFORM],_=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});C={gvlid:m.GVLID,code:m.CODE,isBidRequestValid:buildRequests:function(e,n){var t=l.vc.getConfig(h.KEY),o=t&&t.adServerCurrency?t.adServerCurrency:null,a=[];(0,u.yi)(e,(function(e){a.push(function(e){var n,t,o={id:e.bidId,tid:null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t?void 0:t.tid,pid:e.params.placementId,code:e.adUnitCode};null!=e.floorData&&e.floorData.floorMin>0&&(o.floor=e.floorData.floorMin),e.bidRequestsCount>0&&(o.bidRequestCount=e.bidRequestsCount),e.bidderRequestsCount>0&&(o.bidderRequestCount=e.bidderRequestsCount),e.bidderWinsCount>0&&(o.bidderWinCount=e.bidderWinsCount);var r=function(e){if(null!=e.ortb2Imp){if(null!=e.ortb2Imp.gpid&&""!=e.ortb2Imp.gpid)return e.ortb2Imp.gpid;if(null!=e.ortb2Imp.ext&&null!=e.ortb2Imp.ext.data){if(null!=e.ortb2Imp.ext.data.pbAdSlot&&""!=e.ortb2Imp.ext.data.pbAdSlot)return e.ortb2Imp.ext.data.pbAdSlot;if(null!=e.ortb2Imp.ext.data.adServer&&null!=e.ortb2Imp.ext.data.adServer.adSlot&&""!=e.ortb2Imp.ext.data.adServer.adSlot)return e.ortb2Imp.ext.data.adServer.adSlot}}return null!=e.adUnitCode&&""!=e.adUnitCode?e.adUnitCode:""}(e);return null!=r&&""!=r&&(o.fpd={gpid:r}),null!=e.mediaTypes&&(null!=e.mediaTypes.banner&&(o.banner=e.mediaTypes.banner),null!=e.mediaTypes.video&&(o.video=e.mediaTypes.video),null!=e.mediaTypes.native&&(o.native=e.mediaTypes.native)),o}(e))}));var s=e[0],d=(0,c.Z)(s,b.TDID_ADAPTER),f=n),g=Object.assign({},{pbv:"8.18.0",aid:s.auctionId,sid:I(),url:f.pageURL,timeout:n.timeout,ts:(new Date).getTime(),device:{size:[window.screen.width,window.screen.height]},imp:a,user:A(d,n.uspConsent,n.gdprConsent,s.userIdAsEids,n.gppConsent)});s.schain&&s.schain.nodes&&(g.schain=s.schain);var p=r===window.location.pathname?++i:(r=window.location.pathname,i=0);null!=p&&(g.requestCount=p),null!=o&&o!=h.US_DOLLAR&&(g.cur=o),null!=f.rawCRB&&(g.rawCRB=f.rawCRB),null!=f.rawCRBLocalStorage&&(g.rawCRBLocalStorage=f.rawCRBLocalStorage);var E=(0,c.Z)(s,b.SOCIAL_CANVAS);null!=E&&(g.socan=E);var C=(0,c.Z)(s,b.SUA);if(C){var S=[];O.forEach((),g.device.sua=(0,u.ei)(C,S)}var T=null!=w(_.PAGE_VIEW_ID),D=null!=w(_.PAGE_VIEW_TIMESTAMP),P=null!=w(_.PAGE_VIEW_URL),N={};return T&&(N.id=w(_.PAGE_VIEW_ID)),D&&(N.timestamp=Number(w(_.PAGE_VIEW_TIMESTAMP))),P&&(N.url=w(_.PAGE_VIEW_URL)),(0,u.xb)(N)||(g.page=N),Object.assign({},n,{method:m.REQUEST_METHOD,url:"https://".concat(m.HOST).concat(m.REQUEST_ENDPOINT),data:g,currency:o})},interpretResponse:getUserSyncs:supportedMediaTypes:m.SUPPORTED_MEDIA_TYPES,onTimeout:_getCrb:_getSessionId:I};(0,f.dX)(C),(0,d.z)("kargoBidAdapter")}},),(self.pbjsChunk=self.pbjsChunk||[]).push([[30],{7497:function(e,n,t){var o,r=t(8640),i=t(8525),a=t(4358),s=t(265),d=t(5644),u=t(6104),c=t(3193),l=t(4699),f=t(2021),g=t(4614),p={appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}},m=t(8928),v=t(2797),h=t(7673),b=t(3324),y=t(1002),O=t(4942),_=t(4980),E=t(6475),I=t(9626),w=t(9933),A=t(9702),C=t(1021),S=t(6372),T=t(1087),D=t(286),P=t(9633),N=t(571),M=t(4947),U=t(9957),R=t(1136);function L(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,O.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j,B,G=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),V=(0,_.x)({processors:w.X,context:{netRevenue:!0},imp:request:bidResponse:overrides:(o={},(0,O.Z)(o,S.DZ,{id:params:bidfloor:),(0,O.Z)(o,S.Z,{fpd:extPrebidAliases:sourceExtSchain:),(0,O.Z)(o,S.YC,{serverSideStats:fledgeAuctionConfigs:),o)}),Z=t(9128),W=c.vc.getConfig,H=d.os.YZ,q=0,z={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]}};vc.setDefaults({s2sConfig:z}),W("s2sConfig",();var X={}; ee=(0,v.z3)("sync",(,"processPBSRequest");(0,a.EE)().setEidPermissions=u.ZP.registerBidAdapter(new function(){var e=new i.Z("prebidServer");return e.callBids=function(e,n,t,o,r){var i=e.metrics=(0,Z.Bf)((0,s.Z)(n,"0.metrics")).newMetrics().renameWith(();o=i.startTiming("total").stopBefore(o),n.forEach(();var g=$(n),p=g.gdprConsent,m=g.uspConsent,v=g.gppConsent;Array.isArray(j)&&(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Q(e.s2sConfig.syncEndpoint,p)&&K(e.s2sConfig.bidders.map(().filter((),p,m,v,e.s2sConfig),ee(e,n,r,{onResponse:onError:onBid:onFledge:))},f.on(d.FP.BID_WON,Y),Object.assign(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:H})},"prebidServer"),(0,r.z)("prebidServerBidAdapter")},6372:7673:,),(self.pbjsChunk=self.pbjsChunk||[]).push([[60],{9171:function(e,n,t){var o,r=t(1002),i=t(4925),a=t(4942),s=t(8640),d=t(4358),u=t(265),c=t(6475),l=t(3193),f=t(8928),g=t(2021),p=t(5644),m=t(2797),v=t(4614),h=t(5102),b=t(5975),y=t(8653),O=t(6372),_=t(9128),E=t(6066),I=t(75),w=t(9957),A=["modelGroups"];function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T="Price Floors",D=(0,f.OI)(1e4),P=Symbol(),N=[P,"gptSlot","adUnitCode","size","domain","mediaType"],M=!1,U=!1,R={},L=[],k={};ar x;ar B=(o={},(0,a.Z)(o,P,(),(0,a.Z)(o,"size",(),(0,a.Z)(o,"mediaType",(),(0,a.Z)(o,"gptSlot",(),(0,a.Z)(o,"domain",(),(0,a.Z)(o,"adUnitCode",(),o);r Z={banner:function(e){return(0,u.Z)(e,"mediaTypes.banner.sizes")||[]},video:native:;nction q(e){e.hasExited||(L=L.filter((),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,d.DO)(),k[e.reqBidsConfigObj.auctionId]=function(e,n){var t=(0,d.I8)(R);if(2===(0,u.Z)(t,"data.floorsSchemaVersion")){var o=t.data,r=o.modelGroups,a=(0,i.Z)(o,A);t.data=Object.assign(a,r,a.modelWeightSum))}var s=0===Object.keys((0,u.Z)(t,"data.values")||{}).length;if(t.data=s?e):H(t.data),0===Object.keys((0,u.Z)(t,"data.values")||{}).length)t.skipped=!0;else{var c=(0,d.ak)("pbjs_skipRate")||t.skipRate,l=100*Math.random()<parseFloat(c);t.skipped=l}return t.hasOwnProperty("floorMin")&&(t.data.floorMin=t.floorMin),e,t,n),t}(e.reqBidsConfigObj.adUnits||(0,s.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}ar K={1:2:;r Y=(0,_.g3)("priceFloors",(); ne=(0,_.A)("priceFloors",();l.vc.getConfig("floors",(),(0,O.f8)({type:O.DZ,name:"bidfloor",fn:),(0,O.f8)({type:O.DZ,name:"extPrebidFloors",fn:dialects:[O.md],priority:-1}),(0,O.f8)({type:O.Z,name:"extPrebidFloors",fn:dialects:[O.md]}),(0,s.z)("priceFloors")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors},4925:function(e,n,t){function o(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}t.d(n,{Z:function(){return o}})}},function(e){e.O(0,[635,703],(function(){return 9171,e(e.s=9171)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[126],{5817:function(e,n,t){var o=t(3324),r=t(9062),i=t(4942),a=t(1002),s=t(8640),d=t(4358),u=t(265),c=t(6475),l=t(4699),f=t(4679),g=t(3193),p=t(5706),m=t(5975),v=t(5644),h=t(5370);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O="PubMatic: ",_="USD",E=void 0,I="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),w={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},A="number",C="string",S="boolean",T="array",D={mimes:T,minduration:A,maxduration:A,startdelay:A,playbackmethod:T,api:T,protocols:T,w:A,h:A,battr:T,linearity:A,placement:A,plcmt:A,minbitrate:A,maxbitrate:A,skip:A},P=1,N=3,M={1:"PMP",5:"PREF",6:"PMPG"},U={bootstrapPlayer:newRenderer:outstreamRender:getRendererId:,R=[f.Mk,f.pX,f.B5],L=0,k=!1,F=["pubmatic"],x=["all"];r G={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},V=v.oF,Z=v.zA,W=v.FY,H=v.s$,q=Object.values(G);{code:"pubmatic",gvlid:76,supportedMediaTypes:[f.Mk,f.pX,f.B5],isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:transformBidParams:;(0,l.dX)($),(0,s.z)("pubmaticBidAdapter")}},function(e){e.O(0,[402],(function(){return 5817,e(e.s=5817)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[187],{60:function(e,n,t){var o=t(9062),r=t(4942),i=t(3324),a=t(1002),s=t(8640),d=t(4980),u=t(9933),c=t(4699),l=t(3193),f=t(4679),g=t(4614),p=t(5706),m=t(4358),v=t(6475),h=t(265),b=t(676),y=t(5370);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=l.vc.getConfig("rubicon")||{};l.vc.getConfig("rubicon",();var I={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,m.yi)(I,();var w=(0,d.x)({request:imp:bidResponse:context:{netRevenue:!1!==E.netRevenue,ttl:300},processors:u.X}),A={code:"rubicon",gvlid:52,supportedMediaTypes:[f.Mk,f.pX,f.B5],isBidRequestValid:buildRequests:getOrderedParams:combineSlotUrlParams:createSlotParams:serializeSupplyChain:serializeSupplyChainNodes:interpretResponse:getUserSyncs:transformBidParams:;1;(0,c.dX)(A),(0,s.z)("rubiconBidAdapter")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},),(self.pbjsChunk=self.pbjsChunk||[]).push([[312],{6349:function(e,n,t){var o=t(1002),r=t(3324),i=t(4942),a=t(8640),s=t(4699),d=t(3193),u=t(4679),c=t(4358),l=t(265);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p="sharethrough",m="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),v=h={code:p,supportedMediaTypes:[u.pX,u.Mk],gvlid:80,isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};.dX)(h),(0,a.z)("sharethroughBidAdapter")}},function(e){e(e.s=6349)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[599],{789:function(e,n,t){var o=t(1002),r=t(9062),i=t(4942),a=t(8640),s=t(4358),d=t(4679),u=t(4699),c=t(3193),l=t(5164),f=t(9865);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m="triplelift",v=null,h=null,b=(0,l.df)({bidderCode:m}),y={gvlid:28,code:m,supportedMediaTypes:[d.Mk,d.pX],isBidRequestValid:buildRequests:function(e,n){var t="https://tlx.3lift.com/header/auction?",o=function(e,n){var t,o,i={},a=e[0].schain,d=n);i.imp=e.map(();var u,c=[].concat((0,r.Z)((u=[e[0]],A(u,"tdid","adserver.org","TDID"))),(0,r.Z)(function(e){return A(e,"idl_env","liveramp.com","idl")}([e[0]])),(0,r.Z)(function(e){return A(e,"criteoId","criteo.com","criteoId")}([e[0]])),(0,r.Z)([e[0]])),(0,r.Z)(e[0])));c.length>0&&(i.user={ext:{eids:c}});var l=a,d);return(0,s.xb)(l)||(i.ext=l),null!=n&&null!==(t=n.ortb2)&&void 0!==t&&null!==(o=t.regs)&&void 0!==o&&o.gpp&&(i.regs=Object.assign({},n.ortb2.regs)),null!=n&&n.ortb2&&(i.ext.ortb2=Object.assign({},n.ortb2)),i}(e,n);if(t=(0,f.t)(t,"lib","prebid"),t=(0,f.t)(t,"v","8.18.0"),n&&n.refererInfo){var i=n.refererInfo.page;t=(0,f.t)(t,"referrer",i)}return n&&n.timeout&&(t=(0,f.t)(t,"tmax",n.timeout)),n&&n.gdprConsent&&(v=void 0===n.gdprConsent.gdprApplies||n.gdprConsent.gdprApplies,t=(0,f.t)(t,"gdpr",v.toString()),void 0!==n.gdprConsent.consentString&&(h=n.gdprConsent.consentString,t=(0,f.t)(t,"cmp_cs",h))),n&&n.uspConsent&&(t=(0,f.t)(t,"us_privacy",n.uspConsent)),n&&n.fledgeEnabled&&(t=(0,f.t)(t,"fledge",n.fledgeEnabled)),!0===c.vc.getConfig("coppa")&&(t=(0,f.t)(t,"coppa",!0)),t.lastIndexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),(0,s.ji)("tlCall request built: "+t),{method:"POST",url:t,data:o,bidderRequest:n}},interpretResponse:getUserSyncs:;,u.dX)(y),(0,a.z)("tripleliftBidAdapter")}},),(self.pbjsChunk=self.pbjsChunk||[]).push([[215],{2722:function(e,n,t){var o=t(9062),r=t(1002),i=t(3324),a=t(4942),s=t(8640),d=t(4614),u=t(3193),c=t(2021),l=t(4516),f=t(6104),g=t(5644),p=t(2797),m=t(4358),v=t(265),h=new Map;ar y,O,_,E,I,w,A=t(5164),C=t(6475),S=(0,p.z3)("sync",(function(){})),T=t(8792),D=t(6372),P=t(9128),N=t(8196),M=t(9633),U=t(571),R=t(4947),L=t(286),k="User ID",F=A.c$,x=A.Dp,j="_pbjs_id_optout",B=(0,A.eA)("userId"),G={isAllowed:U.xD},V=!1,Z=[],W=[],H={},q=[],z=={};ar ae=(0,P.g3)("userId",();et([x,F]);ction(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delay,t=void 0===n?T.Z.timeout:n;E=void 0,Z=[],W=[],V=!1,y=[],oe={delay:t}),null!=I&&I(),q=[],I=e.getConfig("userSync",(),(0,s.R)().getUserIds=se,(0,s.R)().getUserIdsAsEids=de,(0,s.R)().getEncryptedEidsForSource=Ie(ce),(0,s.R)().registerSignalSources=fe,(0,s.R)().refreshUserIds=Ie(ge),(0,s.R)().getUserIdsAsync=Ie(pe),(0,s.R)().getUserIdsAsEidBySource=ue}(u.vc),(0,p.bA)("userId",(),(0,D.f8)({type:D.Z,name:"userExtEids",fn:),(0,s.z)("userId")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e(e.s=2722)}])})(),pbjs.processQueue()},{}],15:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:35}},{}]},{},[13])(13)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).A9=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f,g,p=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.userConsentLib=(null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||(null===(g=window.WBD)||void 0===g?void 0:g.UserConsent),this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(p.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){p.logger.log("Waiting for UserConsent..."),p.waitForUserConsent().then((function(){var e,n,t,r;p.logger.log("Checking Module Flags...",p.moduleFlags),(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(e=p.userConsentLib)||void 0===e?void 0:e.inUserConsentState(p.consentTags))?(p.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(n=window.AdFuel)||void 0===n?void 0:n.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):(p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)})))):(p.logger.log("Waiting for AdFuel..."),p.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags)})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for AdFuel."),e)}))):(p.logger.info("User consent is not granted.",null===(t=p.userConsentLib)||void 0===t?void 0:t.inUserConsentState(p.consentTags)),null===(r=window.AdFuel)||void 0===r||r.setModuleLoaded(p.MODULE_LOG_TAG))})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(p.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){return p.userConsentLib?(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r;p._logger.log("Consent Promise with Timeout..."),(null===(n=p.userConsentLib)||void 0===n?void 0:n.isReady())?(p._logger.log("Consent Is Ready..."),(null===(t=p.userConsentLib)||void 0===t?void 0:t.isInRegion("gdpr"))?(p._logger.log("Region is GDPR..."),null!==(r=null===(o=p.userConsentLib)||void 0===o?void 0:o.isOptanonLoaded())&&void 0!==r&&r?(p._logger.log("Optanon is Loaded..."),e()):(p._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){p._logger.log("Optanon is Loaded..."),e()})))):(p._logger.log("Region is not GDPR..."),e())):p.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":12,"./promiseWithTimeout":14}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Performance=void 0;var o=function(){eturn e.prototype.addMark=function(e){"undefined"!=typeof window&&window.performance.mark("[".concat(this._tag,"] ").concat(e))},e.prototype.addMeasure=function(e){"undefined"!=typeof window&&window.performance.measure("[".concat(this._tag,"] ").concat(e),"[".concat(this._tag,"] ").concat(e," START"),"[".concat(this._tag,"] ").concat(e," END"))},e.prototype.getMarks=function(){var e,n=this;return null!==(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("mark").filter((function(e){return e.name.indexOf("[".concat(n._tag,"] "))})))&&void 0!==e?e:[]},e.prototype.getMeasures=function(){var e,n=this;return null!==(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("measure").filter(())&&void 0!==e?e:[]},e}();t.Performance=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PiiFilter=void 0;var o=function(){eturn e.prototype.presentInQueryString=function(){if(document.location.search){var e=document.location.search.search(this.re)+1,n=void 0;try{n=decodeURIComponent(document.location.search).search(this.re)+1}catch(t){n=e}return 1===e||1===n}return!1},e.prototype.presentInHash=e.prototype.presentInReferrer=e.prototype.filterDFPRequest=function(){if(this.presentInQueryString()||this.presentInHash()||this.presentInReferrer()){if("undefined"!=typeof window&&window.AdFuel){this.logger.log("Filtering DFP Request due to PII in query string.");for(var e=Object.getOwnPropertyNames(window.AdFuel),n=0;n<e.length;n++);window.googletag=null}return!0}return!1},Object.defineProperty(e.prototype,"qs",{get:function(){return this.presentInQueryString},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.presentInHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return this.presentInReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPIIPresent",{get:function(){return this.present},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this.filterDFPRequest},enumerable:!1,configurable:!0}),e}();t.PiiFilter=o},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCacheBuster=void 0,t.generateCacheBuster=,{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasVideo=void 0,t.hasVideo=,{}],10:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.waitForVideo=t.Version=t.PiiFilter=t.Performance=t.toString=t.setHostAndPathNames=t.selectedEdition=t.promiseWithTimeout=t.normalizeUrl=t.noop=t.ModuleFlags=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=t.Logger=t.locationServiceURL=t.loadScriptFromUrl=t.isUSCNN=t.isIntl=t.hasVideo=t.hasUserConsent=t.getUrlParam=t.generateCacheBuster=t.countryCode=t.CookieHelper=t.AAdFuelModule=void 0;var o=e("./AAdFuelModule");Object.defineProperty(t,"AAdFuelModule",{enumerable:!0,get:function(){return o.AAdFuelModule}}),Object.defineProperty(t,"ModuleFlags",{enumerable:!0,get:function(){return o.ModuleFlags}});var r=e("./CookieHelper");Object.defineProperty(t,"CookieHelper",{enumerable:!0,get:function(){return r.CookieHelper}});var i=e("./getUrlParam");Object.defineProperty(t,"getUrlParam",{enumerable:!0,get:function(){return i.getUrlParam}});var a=e("./hasVideo");Object.defineProperty(t,"hasVideo",{enumerable:!0,get:function(){return a.hasVideo}});var s=e("./localization");Object.defineProperty(t,"isIntl",{enumerable:!0,get:function(){return s.isIntl}}),Object.defineProperty(t,"isUSCNN",{enumerable:!0,get:function(){return s.isUSCNN}});var d=e("./loadScriptFromUrl");Object.defineProperty(t,"loadScriptFromUrl",{enumerable:!0,get:function(){return d.loadScriptFromUrl}});var u=e("./Logger");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return u.Logger}});var c=e("./normalizeUrl");Object.defineProperty(t,"normalizeUrl",{enumerable:!0,get:function(){return c.normalizeUrl}});var l=e("./promiseWithTimeout");Object.defineProperty(t,"promiseWithTimeout",{enumerable:!0,get:function(){return l.promiseWithTimeout}});var f=e("./Performance");Object.defineProperty(t,"Performance",{enumerable:!0,get:function(){return f.Performance}});var g=e("./PiiFilter");Object.defineProperty(t,"PiiFilter",{enumerable:!0,get:function(){return g.PiiFilter}});var p=e("./setHostAndPathNames");Object.defineProperty(t,"setHostAndPathNames",{enumerable:!0,get:function(){return p.setHostAndPathNames}});var m=e("./generateCacheBuster");Object.defineProperty(t,"generateCacheBuster",{enumerable:!0,get:function(){return m.generateCacheBuster}});var v=e("./variables");Object.defineProperty(t,"MODULE_VERSION",{enumerable:!0,get:function(){return v.MODULE_VERSION}}),Object.defineProperty(t,"MODULE_NAME",{enumerable:!0,get:function(){return v.MODULE_NAME}}),Object.defineProperty(t,"MODULE_LOG_TAG",{enumerable:!0,get:function(){return v.MODULE_LOG_TAG}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return v.toString}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return v.noop}}),Object.defineProperty(t,"countryCode",{enumerable:!0,get:function(){return v.countryCode}}),Object.defineProperty(t,"locationServiceURL",{enumerable:!0,get:function(){return v.locationServiceURL}}),Object.defineProperty(t,"selectedEdition",{enumerable:!0,get:function(){return v.selectedEdition}}),Object.defineProperty(t,"hasUserConsent",{enumerable:!0,get:function(){return v.hasUserConsent}});var h=e("./Version");Object.defineProperty(t,"Version",{enumerable:!0,get:function(){return h.Version}});var b=e("./waitForVideo");Object.defineProperty(t,"waitForVideo",{enumerable:!0,get:function(){return b.waitForVideo}})},{"./AAdFuelModule":1,"./CookieHelper":2,"./Logger":3,"./Performance":4,"./PiiFilter":5,"./Version":6,"./generateCacheBuster":7,"./getUrlParam":8,"./hasVideo":9,"./loadScriptFromUrl":11,"./localization":12,"./normalizeUrl":13,"./promiseWithTimeout":14,"./setHostAndPathNames":15,"./variables":16,"./waitForVideo":17}],11:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":14}],12:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1,c=new Set(["US","CA"]),l=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;t.isIntl=function(){var e,n,t,i,f=!1,g=(0,o.setHostAndPathNames)(),p=(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.getGeoCountry())||a.countryCode,m=(null===(i=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===i?void 0:i.getGeoState())||"",v=g.search(/^(.*\.)?cnn\.com$/)>=0;return v&&c.delete("CA"),s.log("Is CNN:",v),s.log("Domestic Country Codes: ",Array.from(c)),s.log("UserConsent Location: ",{state:m,country:p}),"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),f=!0):g.search(l)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),f=!0):""===p||null===p?(d||(d=!0,s.log("No country code. Using Domestic PubIds.")),f=!1):c.has(p)?d||(d=!0,s.log("Domestic site or country code. Using Domestic PubIds."),f=!1):g.search(/^.*(money|\.cnn)\./)>=0?(g.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate International PubIds if available."),u=!0),d||(d=!0,s.log("International country code. Using International PubIds.")),f=!0):g.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate International PubIds if available.")),f=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site. Using International PubIds if available.")),f=!0),f};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":8,"./setHostAndPathNames":15,"./variables":16}],13:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUrl=void 0,t.normalizeUrl=function(e){var n=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,normalizeHttp:!0,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!1,removeDirectoryIndex:!1},{}),t=e.trim(),o="/"===e[0]&&"/"===e[1];!o&&/^\.*\//.test(e)||(t=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://"));var r=document.createElement("a");if(r.href=t,n.normalizeHttps&&n.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return n.normalizeHttp&&("http:"===r.protocol||o)&&(r.protocol="https:"),n.normalizeHttps&&("https:"===r.protocol||o)&&(r.protocol="http:"),n.stripFragment&&(r.hash=""),r.pathname&&(r.pathname=r.pathname.replace(/((?![https?:]).)\/{2,}/g,()),r.pathname&&(r.pathname=decodeURI(r.pathname)),r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),n.stripWWW&&(r.hostname=r.hostname.replace(/^www\./,""))),n.removeQueryParameters&&(r.search=""),t=r.href,(n.removeTrailingSlash||"/"===r.pathname)&&(t=e.replace(/\/$/,"")),o&&!n.normalizeProtocol&&(t=e.replace(/^http:\/\//,"//")),t}},{}],14:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],15:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],16:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,102,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":6}],17:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.waitForVideo=void 0;t.waitForVideo=function(e){var n=!1,t=new MutationObserver(();t.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0});var o=document.getElementsByTagName("video"),r=document.getElementsByClassName("fave-wrapper"),i=document.getElementsByClassName("top-container");(o.length||r.length||i.length)&&(e(),n=!0,t.disconnect())}},{}],18:[function(e,n,t){t.__esModule=!0,e("./isMobile"));var o=e("./isMobile");t.default=o.default},{"./isMobile":19}],19:[function(e,n,t){t.__esModule=!0;var o=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=t.default=,{}],20:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=this&&this.__spreadArray||Object.defineProperty(t,"__esModule",{value:!0}),t.A9=void 0;var s=e("@turnercode/digital-ads-utilities"),d=e("ismobilejs"),u=e("./version.json"),c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],l=function(e){function n(n){var t=e.call(this,n,"A9",new s.Version(u.major,u.minor,u.revision,u.family),"a9","color: #58f53f; padding: 2px",s.ModuleFlags.EnableForDomestic|s.ModuleFlags.EnableForForeign|s.ModuleFlags.RunWithoutAdFuel,c,"A9VideoAPI")||this;return t._isInitialized=!1,t.initialPreRollSent=!1,t.blocked=!1,t.builtSlots=[],t.refreshSlots=[],t.defaultTimeout=0,t.defaultRefreshTimeout=0,t.siSection="",t.getTargetingData=function(e){return new Promise((function(n,o){var r=!0;if(t.blocked)t.logger.log("Blocked...");else{t.initialPreRollSent||(r=!1),e=e||t.defaultTimeout;var i=(0,s.getUrlParam)("mdt");i&&(e=+i,t.logger.log("Overriding Max Duration Time: ",e));var a=new Promise((function(e){t.logger.log("Getting Video targeting...");if(!window.A9VideoAPI._targetingPromise||!t.initialPreRollSent){t.logger.log("Targeting Promise not yet created. Sending pre-roll request manually."),t.initialPreRollSent=!0;var n=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,o=(0,d.default)().phone?"aps-preroll-mobile":"aps-preroll",r=(0,s.getUrlParam)("slotname");r&&(o=r,t.logger.log("Overriding Slot Name: ",o)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise((function(e){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:o,slotName:o,mediaType:"video"}],timeout:n},e)}))}window.A9VideoAPI._targetingPromise.then((function(n){e(function(e){t.logger.log("Clearing Timeout: ",window.targetingTimeoutId),clearTimeout(window.targetingTimeoutId);var n={targeting:{amznbid:"",amzniid:""},slotID:""};t.logger.log("Pre-Roll Bids: ",e),e&&e.forEach((function(e){e.slotID.indexOf("aps-preroll")>=0&&(n=e)}));var o=n.targeting||{amznbid:"",amzniid:""};return t.logger.log("Returning Targeting: ",o),o}(n))}))}));r?(t.logger.log("Racing against a timeout..."),(0,s.promiseWithTimeout)(e,a).then((function(e){return n(e)})).catch((function(e){return o(e)}))):(t.logger.log("Running solo..."),n(a))}}))},t.getRefreshedTargetingData=function(e,n){return new Promise((function(o,r){if(t.blocked)t.logger.log("Blocked");else{n=n||t.defaultRefreshTimeout,e=e?e+((0,d.default)().phone?"-mobile":""):(0,d.default)().phone?"aps-midroll-mobile":"aps-midroll";var i=(0,s.getUrlParam)("mdt"),a=(0,s.getUrlParam)("slotname");i&&(n=+i,t.logger.log("Overriding Max Duration Time: ",n)),a&&(t.logger.log("Overriding Slot Name: ",e),e=a);var u=new Promise((function(o){window.A9VideoAPI._refreshedTargetingPromise=new Promise((function(t){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:e,slotName:e,mediaType:"video"}],timeout:n},t)}));t.logger.log("Refreshing Video targeting..."),window.A9VideoAPI._refreshedTargetingPromise.then((function(n){clearTimeout(window.targetingTimeoutId);var r={targeting:{amznbid:"",amzniid:""}};n.forEach(();var i=r.targeting||{amznbid:"",amzniid:""};t.logger.log("Returning Refreshed Targeting: ",i),o(i)}))}));(0,s.promiseWithTimeout)(n,u).then((function(e){return o(e)})).catch((function(e){return r(e)}))}}))},t.buildDisplaySlot=function(e){if(t.logger.log("Building Display Slot: ",e),""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");n.length>1&&"homepage"!==n[1]&&(t.siSection=n[0]+(n[1]?"/"+n[1]:""))}var o=e.slotId,r=o;t.config.SLOTNAMES.PREPEND_ADUNIT&&(t.logger.log("Prepending Ad Unit To SlotName..."),r="".concat(e.unWrappedSlot.rktr_ad_id,"_").concat(o));var i={slotID:o,slotName:r,sizes:e.monetization.filteredSizes.map((function(e){return[e.width,e.height]}))};return t.logger.log("A9 Slot Object: ",i),e.programmatic.A9=JSON.parse(JSON.stringify(i)),i},t.buildOutstreamSlot=function(e){if(t.logger.log("Building Outstream Slot: ",e),""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");n.length>1&&"homepage"!==n[1]&&(t.siSection=n[0]+(n[1]?"/"+n[1]:""))}var o=e.slotId,r=o;t.config.SLOTNAMES.PREPEND_ADUNIT&&(t.logger.log("Prepending Ad Unit To SlotName..."),r="".concat(e.unWrappedSlot.rktr_ad_id,"_").concat(o));var i={slotID:o,slotName:r,mediaType:"video",video:{sizes:[[400,300]]}};return t.logger.log("A9 Slot Object: ",i),e.programmatic.A9=JSON.parse(JSON.stringify(i)),i},t.preQueue=function(e){return new Promise((function(n,o){t.logger.log("Starting A9 Prequeue Processes...");var r=[];if(e&&e.length>0)for(var i=function(n){if(!e[n].unWrappedSlot)return t.logger.warn("There appears to be an empty unwrapped slot object:",!e[n]),"continue";var o,i=e[n];i.unWrappedSlot.rktr_ad_id&&i.monetization&&i.slotId.indexOf("_out_vid_")<=0&&(i.monetization.isMonetized&&(o=i.slotId.includes("_out_")?t.buildOutstreamSlot(i):t.buildDisplaySlot(i),t.builtSlots.some((function(e){return e.slotID===o.slotID}))?t.logger.log("Already pushed builtSlot: ",o):(t.logger.log("Pushing builtSlot: ",o),t.builtSlots.push(o),r.push(o))))},s=0;s<e.length;s++)i(s);else t.logger.log("No Slots");if(t.logger.log("bidslots: ",r),r.length>0){var u={slots:r,timeout:(0,d.default)().any?t.config.TIMEOUTS.MOBILE.DISPLAY.INITIAL:t.config.TIMEOUTS.DESKTOP.DISPLAY.INITIAL,params:{si_section:t.siSection}};t.logger.log("REQUESTING TARGETING:",u),window.apstag.fetchBids(u,(function(o){t.logger.log("SETTING MANUAL TARGETING: ",o),o.forEach((function(e){var n=e.slotID;if(e.targeting){var o=Object.keys(e.targeting);t.logger.log("Setting targeting for slot: ",n),t.logger.log("targetKeys",o),o.forEach((function(o){var r=e.targeting[o];r&&(t.logger.log("Setting key [".concat(o,"] target [").concat(o,"] with value: ").concat(r)),window.AdFuel.addSlotLevelTarget(n,o,e.targeting[o]))}))}else t.logger.log("No targeting returned for bid: ",e)})),t.refreshSlots=a(a([],t.refreshSlots,!0),r,!0),t.logger.log("Setting refreshable slots to: ",t.refreshSlots),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preQueue",slots:e,bids:o,err:null})}))}else t.logger.log("No valid slots."),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preQueue",slots:e,bids:null,err:"No valid slots"})}))},t.preRefresh=function(e){return new Promise((function(n){e.forEach((function(e){if(""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");t.siSection=n[0]+(n[1]?"/"+n[1]:"")}})),t.logger.log("Refresh Slots: ",t.refreshSlots);var o,r=(o=t.refreshSlots).filter((),i={slots:r,timeout:(0,d.default)().any?t.config.TIMEOUTS.MOBILE.DISPLAY.REFRESH:t.config.TIMEOUTS.DESKTOP.DISPLAY.REFRESH,params:{si_section:t.siSection}};r.length>0?(t.logger.log("Fetching Bids... ",i),window.apstag.fetchBids(i,(function(o){t.logger.log("SETTING MANUAL TARGETING: ",o),o.forEach((function(e){var n=e.slotID;if(e.targeting){var o=Object.keys(e.targeting);t.logger.log("Setting targeting for slot: ",n),t.logger.log("targetKeys",o),o.forEach(()}else t.logger.log("No targeting returned for bid: ",e)})),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preRefresh",slots:e,bids:o,err:null})}))):(t.logger.log("No slots to refresh: ",e,r),t.logger.log("No slots to refresh"),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString,callback:"preRefresh",err:"No valid slots",slots:e,bids:null}))}))},t.sendInitialPreRollRequest=function(){if((0,s.hasVideo)()&&!t.initialPreRollSent){t.logger.log("Sending Initial Pre-Roll Request...");var e=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,n=(0,s.getUrlParam)("mdt");n&&(e=+n,t.logger.log("Overriding Max Duration Time: ",e));var o=(0,d.default)().phone?"aps-preroll-mobile":"aps-preroll",r=(0,s.getUrlParam)("slotname");r&&(o=r,t.logger.log("Overriding Slot Name: ",o)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise(()}else(0,s.hasVideo)()?t.logger.log("Initial pre-roll request already sent."):t.logger.log("No video tag found. Not sending automatic pre-roll request.")},t.configureA9Library=function(e){var n,o,r,i,a,u,c,l;t.defaultTimeout=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,t.defaultRefreshTimeout=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.REFRESH:t.config.TIMEOUTS.DESKTOP.VIDEO.REFRESH;var f=!1===(null===(o=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===o?void 0:o.isInRegion("global"));if(t.logger.log("In Consent Region: ",f),f){t.logger.log("Checking User Consent...");var g=null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);t.logger.log("User Consent Granted: ",g),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI");var p=t.config.ACCOUNT_IDS.DOM;(0,s.isIntl)()&&(p=(0,s.isUSCNN)()?t.config.ACCOUNT_IDS.DOM:t.config.ACCOUNT_IDS.INTL),t.logger.log("Final Pub ID: ",p);var m=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;(y=(0,s.getUrlParam)("mdt"))&&(m=+y,t.logger.log("Overriding Max Duration Time: ",m));var v=(0,d.default)().phone?t.config.SLOTNAMES.PREROLL+"-mobile":t.config.SLOTNAMES.PREROLL;(O=(0,s.getUrlParam)("slotname"))&&(v=O,t.logger.log("Overriding Slot Name: ",v));var h={pubID:p,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""}};if(!t.blocked&&g&&(null===(u=null===(a=window.WM)||void 0===a?void 0:a.UserConsent)||void 0===u?void 0:u.isInRegion("gdpr"))){t.logger.log("Enabling GDPR...");var b=null===(l=null===(c=window.WM)||void 0===c?void 0:c.UserConsent)||void 0===l?void 0:l.getTcfAPIstring();h.gdpr={enabled:!0,consent:b||""}}return(0,s.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then(()}t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI");p=t.config.ACCOUNT_IDS.DOM;(0,s.isIntl)()&&(p=(0,s.isUSCNN)()?t.config.ACCOUNT_IDS.DOM:t.config.ACCOUNT_IDS.INTL),t.logger.log("Final Pub ID: ",p);var y;m=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;(y=(0,s.getUrlParam)("mdt"))&&(m=+y,t.logger.log("Overriding Max Duration Time: ",m));var O;v=(0,d.default)().phone?t.config.SLOTNAMES.PREROLL+"-mobile":t.config.SLOTNAMES.PREROLL;(O=(0,s.getUrlParam)("slotname"))&&(v=O,t.logger.log("Overriding Slot Name: ",v));var _={pubID:p,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""}};return(0,s.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then(()},t.deprecationWarning=t.logger.info("Constructed A9 Module"),t}return i(n,e),Object.defineProperty(n.prototype,"__VERSION__",{get:enumerable:!1,configurable:!0}),n.prototype.init=function(){var e=this;return new Promise((function(n){if(e._isInitialized)e.logger.log("Init already called.  Resolving..."),n();else{e.logger.log("Setting _isInitialized to true"),e._isInitialized=!0;var t=e.logger.log("Predefining A9VideoAPI"),window.A9VideoAPI=window.A9VideoAPI||{getTargetingData:getRefreshedTargetingData:__VERSION__:e.MODULE_VERSION.toString()},e.logger.log("Configuring Library: ",e.config),e.configureA9Library(e.config).then(().catch((),n()}}))},n}(s.AAdFuelModule);t.A9=l;new l((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.A9)||{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}})},{"./version.json":21,"@turnercode/digital-ads-utilities":10,ismobilejs:18}],21:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:20}},{}]},{},[20])(20)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Audience=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Audience=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/localization"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("@turnercode/digital-ads-utilities/dist/getUrlParam"),c=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),l=function(e){function n(n){var t=e.call(this,n,"Audience and User Identity Module",new d.Version(2,0,6,"TS"),"aui","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.config=n,t.enabled=!0,t.ssaiActive=!1,t.turnerDomainArray=["cnn.com","cnn.com"],t.domainRegex=/.*?\.(.*?\..*?)$/,t.cdpflIsSet=!1,t.datidIsSet=!1,t.ukidIsSet=!1,t.init=function(){return new Promise((function(e,n){t.logger.info("Initializing Global Identity Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),t.turnerDomainArray=t.domainRegex.exec(window.location.hostname)||[],t.turnerDomain=t.turnerDomainArray&&t.turnerDomainArray.length>0&&t.turnerDomainArray[1]||"cnn.com",window.WM=window.WM||{},window.WM.getDatIdTargeting=t.getDatIdTargeting.bind(t),window.WM.getAllCDPFlags=t.getAllCDPFlags.bind(t),window.WM.buildCDPFlags=t.buildCDPFlags.bind(t),((0,s.isIntl)()&&t.config.SITE_VENDORS.INTL.includes("ID5")||!(0,s.isIntl)()&&t.config.SITE_VENDORS.DOM.includes("ID5"))&&(t.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),t.getDatIdTargeting(),window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)})),t.addScripts(),e())}))},t.start=t.buildCDPFlags=function(e,n,t){var o=("true"===c.CookieHelper.readCookie(e)?"t":"f")||"x",r=("true"===c.CookieHelper.readCookie(n)?"t":"f")||"x",i=c.CookieHelper.readCookie(t)?"t":"f";return"".concat(o).concat(r).concat(i)},t.getAllCDPFlags=t.getDatIdTargeting=function(){return c.CookieHelper.hasCookie("datid")&&null!==c.CookieHelper.readCookie("datid")?(t.logger.info("Setting datid",{datid:c.CookieHelper.readCookie("datid")}),t.datid=c.CookieHelper.readCookie("datid")||"",window.WM.getDatId=function(){return c.CookieHelper.readCookie("datid")},{datid:t.datid}):c.CookieHelper.hasCookie("WMUKID_STABLE")&&null!==c.CookieHelper.readCookie("WMUKID_STABLE")?(t.logger.info("Setting datid to WMUKID_STABLE",{ukid:c.CookieHelper.readCookie("WMUKID_STABLE")}),t.datid=c.CookieHelper.readCookie("WMUKID_STABLE")||"",window.WM.getDatId={datid:t.datid}):(t.logger.info("Could not find datid or WMUKID_STABLE"),{datid:""})},t.getUMTOCookies=function(){t.logger.log("getting UMTO cookies"),t.logger.log("sendHHID: ",c.CookieHelper.readCookie("sendHHID")),t.logger.log("HHID: ",c.CookieHelper.readCookie("wmhhid"));var e="";window.WM&&window.WM.getAllCDPFlags&&(e=window.WM.getAllCDPFlags());var n="true"===c.CookieHelper.readCookie("sendHHID")&&c.CookieHelper.hasCookie("wmhhid")&&null!==c.CookieHelper.readCookie("wmhhid")?c.CookieHelper.readCookie("wmhhid"):"";null===n&&(n="");var o=[];return c.CookieHelper.readCookie("bea4")?o.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4")):c.CookieHelper.readCookie("bea4r")&&o.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4r")),c.CookieHelper.readCookie("kxuser")&&o.push("krux_user="+c.CookieHelper.readCookie("kxuser")),c.CookieHelper.readCookie("zwmc")&&o.push("zwmc="+c.CookieHelper.readCookie("zwmc")),c.CookieHelper.readCookie("ifyr")&&o.push("ifyr="+c.CookieHelper.readCookie("ifyr")),c.CookieHelper.readCookie("hkgc")&&o.push("hkgc="+c.CookieHelper.readCookie("hkgc")),c.CookieHelper.readCookie("goiz")&&o.push("goiz="+c.CookieHelper.readCookie("goiz")),c.CookieHelper.readCookie("kfyn")&&o.push("kfyn="+c.CookieHelper.readCookie("kfyn")),(c.CookieHelper.readCookie("datid")||c.CookieHelper.readCookie("WMUKID_STABLE"))&&(c.CookieHelper.readCookie("datid")?(t.logger.log("Pushing vcid as datid: ",c.CookieHelper.readCookie("datid")),o.push("vcid="+c.CookieHelper.readCookie("datid")),o.push("wmuk="+c.CookieHelper.readCookie("datid"))):c.CookieHelper.readCookie("WMUKID_STABLE")&&(t.logger.log("Pushing vcid as WMUKID_STABLE: ",c.CookieHelper.readCookie("WMUKID_STABLE")),o.push("vcid="+c.CookieHelper.readCookie("WMUKID_STABLE")),o.push("wmuk="+c.CookieHelper.readCookie("WMUKID_STABLE")))),""!==e&&o.push("cdpfl="+e),window.spIsBlocking&&"function"==typeof window.spIsBlocking?o.push("abip="+window.spIsBlocking()):o.push("abip=na"),o.join("&")},t.isString=t.isURIEncoded=t.addScripts=function(){if(!t.ssaiActive)if("complete"===document.readyState)t.addSSAIJavascript(),t.addUMTOCookie(),t.addFWCookie();else{var e=t;document.onreadystatechange=function(){"complete"===document.readyState&&(e.addSSAIJavascript(),e.addUMTOCookie(),e.addFWCookie())}}},t.setLiveRampCookie=function(e){var n={cookieName:"orev",cookieValue:e,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(n)},t.addLiveRampFreewheelPixel=function(e,n){if(null!==e){var o="https://idsync.rlcdn.com/712348.gif?partner_uid=".concat(e),r=document.createElement("script");r.src=o,document.head.appendChild(r),"G"===n?t.setLiveRampCookie("B"):t.setLiveRampCookie("F")}},t.addLiveRampGAMPixel=function(e,n,o){if(null!==e||null!==n){var r="https://idsync.rlcdn.com/712551.gif?partner_uid=".concat(e||n),i=document.createElement("script");i.src=r,document.head.appendChild(i),"F"===o?t.setLiveRampCookie("B"):t.setLiveRampCookie("G")}},t.processVendor=function(e){var n,o,r=t.config.VENDORS[e];if("LiveRamp"===e){var i=c.CookieHelper.hasCookie("orev")?c.CookieHelper.readCookie("orev"):"X";c.CookieHelper.hasCookie("bea4")&&"F"!==i&&"B"!==i&&(t.logger.log("Adding LiveRamp Freewheel Pixel..."),t.addLiveRampFreewheelPixel(c.CookieHelper.readCookie("bea4"),i)),"G"!==i&&"B"!==i&&(t.logger.log("Adding LiveRamp GAM Pixel..."),t.addLiveRampGAMPixel(c.CookieHelper.readCookie("datid"),c.CookieHelper.readCookie("WMUKID_STABLE"),i))}else if(r&&r.COOKIE_NAME&&(!c.CookieHelper.hasCookie("umto")||c.CookieHelper.hasCookie("umto")&&!c.CookieHelper.hasCookie(r.COOKIE_NAME))&&null!==t.turnerDomain){var a=t.turnerDomain.match(/\./g);if(t.turnerDomain=a&&a.length>1?t.turnerDomain.replace(/^\w+\.?/,"")||"":t.turnerDomain||"",t.logger.log("Adding SSAI tag for "+e+" ..."),"SpotX"===e)t.addSpotXCookie(r);else if("PubMatic"===e)t.addPubMaticUserSync(r);else if("Freewheel"===e){var s=r.URL.replace(/{{domain}}/g,t.turnerDomain);if(!t.isURIEncoded(s)){var d=s.split("?");d[d.length-1]=encodeURIComponent(d[d.length-1]),s=d.join("?").replace("user-sync?","user-sync%3F")}(n=document.createElement("img")).src=s,n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n)}else"Rubicon"===e?(null!=(o=t.turnerDomain.match(/(.*?)\..*?$/))&&(o=o[1]),(n=document.createElement("img")).src=r.URL.replace(/{{brand}}/g,o),n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n)):"Telaria"===e?((n=document.createElement("img")).src=r.URL.replace(/{{domain}}/g,t.turnerDomain).replace("&domain","%26domain"),n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n)):((n=document.createElement("img")).src=r.URL.replace(/{{domain}}/g,t.turnerDomain),n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n));t.logger.log("Added SSAI pixel for "+e)}},t.addSSAIJavascript=t.addPubMaticUserSync=function(e,n){var o,r,i,a,d,u,c,l;void 0===n&&(n={PUBLISHER_ID:{DOM:"161163",INTL:"161163"}});var f=t.turnerDomain,g="https://image8.pubmatic.com/AdServer/ImgSync?p={{publisherId}}&gdpr={{gdpr}}&gdpr_consent={{gdprConsent}}&us_privacy={{usPrivacy}}&pu=";g=(g=(g=(g=g.replace(/{{publisherId}}/g,(0,s.isIntl)()?n.PUBLISHER_ID.INTL:n.PUBLISHER_ID.DOM)).replace(/{{gdprConsent}}/g,(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInGdprRegion())?null===(i=window.WM)||void 0===i?void 0:i.UserConsent.getTcfAPIstring():"")).replace(/{{gdpr}}/g,(null===(d=null===(a=window.WM)||void 0===a?void 0:a.UserConsent)||void 0===d?void 0:d.isInGdprRegion())?"1":"0")).replace(/{{usPrivacy}}/g,(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())?window.WM&&window.WM.UserConsent?window.WM.UserConsent.getUspAPIstring():"1YNN":"");var p="http://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr=";p=p.replace(/{{publisherId}}/g,(0,s.isIntl)()?n.PUBLISHER_ID.INTL:n.PUBLISHER_ID.DOM);var m="https://umto.{{brand}}/user-sync?domain={{brand}}&{{cookieName}}=#PMUID";m=(m=m.replace(/{{brand}}/g,f)).replace(/{{cookieName}}/g,e.COOKIE_NAME),p+=encodeURIComponent(m),g+=encodeURIComponent(p),null===(l=t.logger)||void 0===l||l.log("Adding PubMatic Pixel: ",g);var v=document.createElement("img");v.src=g,v.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(v)},t.addSpotXCookie=function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var o=void 0;if(200===n.status){o=JSON.parse(n.response).audience_id;var r=new Date(Date.now()+31536e6),i={cookieName:e.COOKIE_NAME,cookieValue:o,attributes:[{key:"expires",value:r.toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(i)}else 204===n.status?t.logger.log("Not able to check cookie, no audience_id returned"):t.logger.log("No audience_id available")}},n.open("GET",e.URL),n.withCredentials=!0,n.send()},t.addFWCookie=function(){var e=t.config.VENDORS.Freewheel,n=document.cookie.match(/bea4r?=.*?;/),o=document.cookie.match(/ug=.*?;/);if(!n&&o){var r=o[0].replace(/(ug=|;)*/,""),i=Math.pow(16,6),a=Math.pow(16,8),s=r.slice(14),d=Date.now(),u=(Math.ceil(d/1e3)%a).toString(16).slice(0,8),l=(d%i).toString(16).slice(0,6),f=new Date(d+31536e6),g={cookieName:e.COOKIE_NAME+"r",cookieValue:u+l+s,attributes:[{key:"expires",value:f.toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(g)}},t.addUMTOCookie=t.preQueue=function(){return new Promise((function(e,n){var o,r=function(){var n,o,r,i=t.getDatIdTargeting();t.logger.log("Checking for targeting...");var a=t.getAllCDPFlags();!t.datidIsSet&&i.datid&&(t.logger.info("Setting PPID: ",i.datid),null===(n=window.googletag)||void 0===n||n.pubads().setPublisherProvidedId(i.datid),t.datidIsSet=!0),!t.ukidIsSet&&i.datid&&(t.logger.info("Setting wmuk: ",i.datid),null===(o=window.googletag)||void 0===o||o.pubads().setTargeting("wmuk",i.datid),t.ukidIsSet=!0),!t.cdpflIsSet&&a.length>0&&(t.logger.info("Setting cdpfl: ",a),null===(r=window.googletag)||void 0===r||r.pubads().setTargeting("cdpfl",a),t.cdpflIsSet=!0),e({name:"Audience and User Identity"})};window.googletag&&"function"==typeof window.googletag.pubads?r():null===(o=window.googletag)||void 0===o||o.cmd.push(r)}))},t.logger.info("Audience and User Identity Module constructed"),t}return i(n,e),n}(a.AAdFuelModule);t.Audience=l;var f=new l((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.AUI)||window.AUIConfig);window.AdFuelUtils||(window.AdFuelUtils={}),window.AdFuelUtils.getUMTOCookies=,{"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/getUrlParam":5,"@turnercode/digital-ads-utilities/dist/localization":6}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Blockthrough=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Blockthrough=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("./version.json"),u=function(e){function n(){var n=e.call(this,null,"Blockthrough Module",new s.Version(d.major,d.minor,d.revision,d.family),"bt","color: #d2b000; padding: 2px",i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.EnableForDomestic)||this;return n.preDispatch=function(e){return new Promise((function(e,t){var o,r,i,a;n.logger.info("BLOCKTHROUGH: preDispatch was fired."),window.AdFuelUtils||(window.AdFuelUtils={isBlockerEnabled:!1,isReinsertionAllowed:!1,getPermissionToReinsert:),window.AdFuelUtils.isBlockerEnabled=null!==(r=null===(o=window.BT)||void 0===o?void 0:o.BLOCKER_ENABLED)&&void 0!==r&&r,window.AdFuelUtils.isReinsertionAllowed=null!==(a=null===(i=window.BT)||void 0===i?void 0:i.REINSERTION_ALLOWED)&&void 0!==a&&a,window.AdFuelUtils.getPermissionToReinsert=e()}))},n.logger.info("Created Blockthrough Module"),n}return r(n,e),n.prototype.init=n}(i.AAdFuelModule);t.Blockthrough=u,new u},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).FWProgrammatic=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){eturn Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise(();return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r,i=this&&this.__extends||(o=;Object.defineProperty(t,"__esModule",{value:!0}),t.FWProgrammatic=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),u=e("./version.json"),c=function(e){function n(n){var t=e.call(this,n,"FW Programmatic Module",new s.Version(u.major,u.minor,u.revision,u.family),"fwp","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.config=n,t.isInitialized=!1,t.enabled=!0,t.targetingSet=!1,t.addSATOCookie=function(e){t.logger.log("Adding SATO cookie... ",{turnerDomain:e});var n={cookieName:"sato",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:e}],secure:!1};d.CookieHelper.setCookie(n),t.logger.log("Added SATO cookie.")},t.addPixels=function(e){if(!d.CookieHelper.hasCookie("sato")&&e.consentGranted){var n=["https://ads.stickyadstv.com/user-matching?id=185&_fw_gdpr=".concat(e.gdprApplies,"&_fw_gdpr_consent=").concat(e.consentString||""),"https://ads.stickyadstv.com/auto-user-sync"];if(window.WM&&window.WM.getHHIDTargeting){var o=window.WM.getHHIDTargeting();if("true"===o.sendHHID&&null!==o.wmhhid&&o.wmhhid.length>=32){t.logger.log("Adding Freewheel pixel for vcid2 to pixel collection.");var r=o.wmhhid;n.push("https://bea4.v.fwmrm.net/ad/u?token=b8ce708402a6286faf64c964294f2046&nw=48804&dpid=127719&puid=".concat(r))}}t.logger.log("Adding Pixels..."),n.forEach((),t.addSATOCookie(e.turnerDomain)}else t.logger.log("Not adding pixels. Has SATO cookie or consent not granted.",{hasCookie:d.CookieHelper.hasCookie("sato"),consentGranted:e.consentGranted})},t.init=function(){return new Promise((function(e,n){var o,r,i,a;if(t.logger.info("Initializing FW Programmatic Module..."),t.enabled){t.logger.info("Initializing Module: ",t.config);var s="gdpr"===window.WM.UserConsent.getRegion()?1:0,d="function"==typeof window.__tcfapi?null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.getTcfAPIstring():"",u=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),c=/.*?\.(.*?\..*?)$/.exec(window.location.hostname),l="cnn.com";c&&c.length>0&&(l=c[1]),t.logger.log("Calling addPixels: ",{turnerDomain:l,gdprApplies:s,consentGranted:u,consentString:d}),t.addPixels({turnerDomain:l,gdprApplies:s,consentGranted:u,consentString:d}),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)})),e()}}))},t.logger.info("FW Programmatic Module constructed"),t}return i(n,e),n}(a.AAdFuelModule);t.FWProgrammatic=c,new c((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.FWP)||window.FWPConfig||{DEBUG:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[{}]},{},[10])(10)})),(function(){return {1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",())):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch(()},this.waitForAdFuel=this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",())):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",()):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){eturn e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map(().filter(().map(()[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=e.prototype.groupStart=e.prototype.groupEnd=e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),u=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),c=e("./version.json"),l=["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop"],f=function(e){function n(n){var t=e.call(this,n,"GUID Module",new s.Version(c.major,c.minor,c.revision,c.family),"guid","color: #d2b000; padding: 2px",a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign|a.ModuleFlags.RunWithoutAdFuel,l)||this;return t.config=n,t.enabled=!0,t.targetingSet=!1,t.init=t.preDispatch=function(e){return new Promise((function(e,n){var o;t.logger.info("GUID preDispatch fired.");var r=t.getGuid();t.logger.info("Got GUID:",r),t.targetingSet||(t.targetingSet=!0,t.logger.info("Adding GUID Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("guid",r):null===(o=window.googletag)||void 0===o||o.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setTargeting("guid",r)}))),e({name:"GUID",guid:r})}))},t.includeGuidScript(),t.logger.info("Guid Module constructed"),t}return i(n,e),n.prototype.includeGuidScript=n.prototype.getGuid=n}(a.AAdFuelModule);t.Guid=f,new f((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.GUID)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).IAS=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var o=e("./isMobile");t.default=o.default},{"./isMobile":12}],12:[function(e,n,t){t.__esModule=!0;var o=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),_={apple:{phone:O(o)&&!O(l),ipod:O(r),tablet:!O(o)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(o)||O(r)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}},{}],13:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=this&&this.__assign||Object.defineProperty(t,"__esModule",{value:!0}),t.IAS=void 0;var s=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),c=e("@turnercode/digital-ads-utilities/dist/localization"),l=e("ismobilejs"),f=e("./version.json"),g=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],p=function(e){function n(n){var t=e.call(this,n,"Integral Ad Science Module",new d.Version(f.major,f.minor,f.revision,f.family),"ias","color: #d2b000; padding: 2px",s.ModuleFlags.EnableForDomestic|s.ModuleFlags.EnableForForeign|s.ModuleFlags.RunWithoutAdFuel,g)||this;return t.config=n,t.enabled=!0,t.iasActive=!1,t.slotsAdded=!1,t.registeredSlots={},t.adSlots=[],t.init=t.getTargetingForVideo=function(e){return void 0===e&&(e="cnn.com_politics_carousel_t1"),new Promise(()},t.preQueue=function(e){return new Promise((function(n,o){var r;if(null!==(r=!(null==t?void 0:t.iasActive))&&void 0!==r&&r)n({name:t.MODULE_LOG_TAG,data:"not active"});else{t.logger.info("IAS preQueue fired.");var i=Math.floor(1e3*Math.random()).toString(),s=!1;if(!t.slotsAdded&&e.length>0){for(var d=0,u=e;d<u.length;d++){var c=u[d];t.logger.info("---------- Queue WrappedSlot: ",c);var f=c.unWrappedSlot,g={};!t.registeredSlots[f.rktr_slot_id]&&"page"!==f.rktr_slot_id&&f.sizes.length>0&&(t.registeredSlots[f.rktr_slot_id]=!0,g={adSlotId:f.rktr_slot_id,size:f.sizes.map((function(e){return"fluid"===(Array.isArray(e)?e[0]:"")?[1,1]:e})),adUnitPath:"/8663477/"+f.rktr_ad_id},t.logger.info("---------- Queue iasSlot: ",g),t.adSlots.push(g)),"page"!==f.rktr_slot_id&&Object.assign(c.programmatic,{ias:a({},g)})}window.IASFallbackTimeout=window.IASFallbackTimeout||{},window.IASFallbackTimeout[i]=setTimeout((function(){s||(void 0!==i&&delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:i}),s=!0)}),(0,l.default)().any?t.config.DEFAULT_MOBILE_TIMEOUT||1e3:t.config.DEFAULT_DESKTOP_TIMEOUT||750),window.__iasPET.queue.push({adSlots:t.adSlots,dataHandler:function(e){var r;e||(t.logger.warn("No IAS Targeting",i),s||(clearTimeout(window.IASFallbackTimeout[i]),delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:"No IAS targeting for ".concat(i)}),s=!0));try{r=JSON.parse(e);var d=a(a({},r),{queueId:i});t.logger.info("Setting IAS Targeting...",{targetData:d}),window.__iasPET.setTargetingForGPT(),Object.entries(r.slots).forEach((function(e){var n=e[0],t=e[1];for(var o in t)window.AdFuel.addSlotLevelTarget(n,o,t[o])})),s||(clearTimeout(window.IASFallbackTimeout[i]),delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:r}),s=!0)}catch(n){t.logger.error("Error Parsing IAS targeting for queueId ".concat(i),n,e),o({err:n})}}}),window.__iasPET.queue.length>0&&"function"==typeof window.__iasPET.start&&(t.logger.info("Manually starting IAS queue processes for queue: ",i),window.__iasPET.start())}else s||(n({name:t.MODULE_LOG_TAG,data:"No wrapped slots"}),s=!0)}}))},t.logger.info("IAS Module constructed"),t}return i(n,e),n}(s.AAdFuelModule);t.IAS=p,new p((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.IAS)||{DEBUG:!0,ACCOUNT_IDS:{DOM:0,INTL:0},DEFAULT_DESKTOP_TIMEOUT:1e3,DEFAULT_MOBILE_TIMEOUT:750})},{"./version.json":14,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:11}},{}]},{},[13])(13)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MalvertisingDetection=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.MalvertisingDetection=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("./version.json"),c=function(e){function n(n){var t=e.call(this,n,"Malvertising Detection",new d.Version(u.major,u.minor,u.revision,u.family),"maldetect","color: #58f53f; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.logger.log("Malvertising Detection constructed..."),t}return i(n,e),n.prototype.init=function(){var e=this;return new Promise((function(n,t){""==e.config.SCRIPT_SRC?t("SCRIPT_SRC is not set."):((0,s.loadScriptFromUrl)("".concat(e.config.SCRIPT_SRC),"maldetect").then((function(){e.logger.info("Setting ready."),window.AdFuel?window.AdFuel.setModuleReady(e.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(e.MODULE_LOG_TAG)}))})).catch((function(n){e.logger.error("There was an error loading MalvertisingDetection:",n),t()})),n())}))},n}(a.AAdFuelModule);t.MalvertisingDetection=c,new c((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.MALVERTISING)||{SCRIPT_SRC:""})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:8}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Proximic=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Proximic=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),u=e("./version.json"),c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],l=function(e){function n(n){var t=e.call(this,n,"Proximic Module",new s.Version(u.major,u.minor,u.revision,u.family),"proximic","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign,c)||this;return t.config=n,t.isInitialized=!1,t.enabled=!0,t.targetingSet=!1,t.scannableUrl="",t.init=function(){return new Promise((function(e,n){if(t.logger.info("Initializing Proximic Module..."),t.enabled){t.logger.info("Initializing Module: ",t.config);var o="undefined"!=typeof document?document.location.href:"",r=document.createElement("a");r.href=o,t.scannableUrl=r.origin+(0!==r.pathname.indexOf("/")?"/"+r.pathname:r.pathname),(0,d.loadScriptFromUrl)("segment-data-us-east.zqtk.net/turner-47fcf6?url=".concat(encodeURIComponent(t.scannableUrl)),"proximic").then(().catch(()}}))},t.logger.info("Proximic Module constructed"),t}return i(n,e),n.prototype.preDispatch=function(e){var n=this;return new Promise((function(e,t){var o,r;if(null!==(o=!(null==n?void 0:n.isInitialized))&&void 0!==o&&o)e({name:"Proximic"});else{if(n.logger.info("PROXIMIC preDispatch fired."),!n.targetingSet){n.targetingSet=!0;var i=window.proximicData;n.logger.log("Adding Proximic Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("pconid",i):null===(r=window.googletag)||void 0===r||r.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setTargeting("pconid",i)}))}e({name:"Proximic",pconid:window.proximicData})}}))},n}(a.AAdFuelModule);t.Proximic=l,new l((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.PROXIMIC)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:15}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SourcePoint=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePoint=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("./version.json"),d=function(e){function n(){var n=e.call(this,null,"Sourcepoint Module",new a.Version(s.major,s.minor,s.revision,s.family),"sourcepoint","color: #00e1e1; padding: 2px",i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign)||this;return n.init=function(){return new Promise((function(e,t){n.addScript().then((function(){window.AdFuel?(window.AdFuel.setModuleReady(n.MODULE_LOG_TAG),n.logger.log("Sourcepoint module initialized and reported ready.")):document.addEventListener("AdFuelCreated",(),e()})).catch((function(e){n.logger.error("The sourcepoint module encountered an error: ",e),t()})),e()}))},n.addScript=function(){return new Promise((function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var t=document.createElement("html");t.innerHTML=n.responseText;var o=t.getElementsByTagName("script")[0],r=document.createElement("script");r.src=o.src,r.async=o.async,r.type=o.type,Object.keys(o.dataset).forEach(();var i=document.getElementsByTagName("head");i.length>0&&"function"==typeof i[0].appendChild&&i[0].appendChild(r),e()}},n.open("GET","https://d20kffh39acpue.cloudfront.net/imm.js",!0),n.send(null)}))},n.logger.log("Sourcepoint module created..."),n}return r(n,e),n}(i.AAdFuelModule);t.SourcePoint=d,new d},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).spblocking=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePointBlocking=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("../../version.json"),d=function(e){eturn r(n,e),n}(i.AAdFuelModule);t.SourcePointBlocking=d,new d},{"../../version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).TransId=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionId=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("./version.json"),d=function(e){eturn r(n,e),n.prototype.getTransactionID=n.prototype.init=function(){var e=this;return new Promise((function(n,t){var o;window.turner_getTransactionId=e.getTransactionID,window.cnnad_getTransactionId=e.getTransactionID,"function"!=typeof window.turner_getTransactionId?e.logger.warn("turner_getTransactionId failed."):(o=window.turner_getTransactionId(),e.logger.info("Received: ".concat(o)),window.AdFuel?(window.AdFuel.setModuleReady(e.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(e.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",o)):document.addEventListener("AdFuelCreated",())}))},n}(i.AAdFuelModule);t.TransactionId=d,new d},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:11}},{}]},{},[10])(10)}));