function confirmation(a,b){var c=$.Deferred();return $(".js_confirm_"+a+"_wrapper .confirm_form_item").html(b),$("body").trigger("modal:show",[".js_confirm_"+a+"_wrapper"]),$(".js_confirm_"+a+"_wrapper .confirm_form_submit").click(function(){$("body").trigger("modal:close"),c.resolve()}),$(".js_confirm_"+a+"_wrapper .confirm_form_cancel").click(,c.promise()}function toggleElement(a){if("string"==typeof a&&(a=$(a).get(0)),a){var b=$(a),c=$(b.data("target"))[0],d=b.data("callback");$(b).hasClass("open")?(c.classList.toggle("open"),a.classList.toggle("open")):($(".open").removeClass("open"),c.classList.toggle("open"),a.classList.toggle("open")),d&&execute_callback_string(d)}}function capitalize(a){strVal="",a=a.split(" ");for(var b=0;b<a.length;b++)strVal+=a[b].substring(0,1).toUpperCase()+a[b].substring(1,a[b].length)+" ";return strVal}function execute_callback_string(a){var b=!1,c=!1,d=!1;if(d=a.indexOf(".")){var e=a.split(".");b=e[0],c=e[1]}b=b?"undefined"!=typeof window[b]&&window[b]:window,b&&"undefined"!=typeof b[c]&&b[c]()}unction thumb_to_video_listener(a){a.preventDefault();var b=$(this);b.replaceWith(b.attr("data-video_iframe"))}function read_cookie(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null}function write_cookie(a,b,c){var d=60*c*60*1e3,e=new Date;e.setTime(e.getTime()+d),c?expires="; expires="+e.toGMTString():expires="; expires=''",document.cookie=a+"="+b+expires+"; path=/"}unction container_overflow(a,b){return"undefined"!=typeof a&&(b=b?b:0,a.scrollHeight>a.clientHeight+b||a.scrollWidth>a.clientWidth+b)}function updateQueryStringParameter(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=a.indexOf("?")!==-1?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c}function adblock_is_disabled(){if("undefined"==typeof window.adwonderblock_is_disabled){var a=document.createElement("ins");a.className="AdSense",a.style.display="block",a.style.position="absolute",a.style.top="-1px",a.style.height="1px",document.body.appendChild(a),window.adwonderblock_is_disabled=!!a.clientHeight,document.body.removeChild(a)}return window.adwonderblock_is_disabled}unction update_suggestion_container(){if(element=$(".filter_suggestions").get(0),element){is_overflow=element.scrollHeight>element.clientHeight+5||element.scrollWidth>element.clientWidth+5;var a=$(".js_suggestion_label_wrapper").hasClass("suggestion_lines_initial"),b=$(".js_suggestion_label_wrapper").hasClass("suggestion_lines_more");$(".js_suggestion_label_wrapper").hasClass("suggestion_lines_all");is_overflow?(a&&($(".js_suggestion_label_wrapper").removeClass("suggestion_lines_initial"),$(".js_suggestion_label_wrapper").addClass("suggestion_lines_more")),b&&($(".js_suggestion_label_wrapper").removeClass("suggestion_lines_more"),$(".js_suggestion_label_wrapper").addClass("suggestion_lines_all")),final_overflow=element.scrollHeight>element.clientHeight+5||element.scrollWidth>element.clientWidth+5,final_overflow||($(".js_suggestion_label_wrapper").removeClass("suggestion_lines_initial"),$(".js_suggestion_label_wrapper").removeClass("suggestion_lines_more"),$(".js_suggestion_label_wrapper").addClass("suggestion_lines_all"))):($(".js_suggestion_label_wrapper").addClass("suggestion_lines_initial"),$(".js_suggestion_label_wrapper").removeClass("suggestion_lines_more"),$(".js_suggestion_label_wrapper").removeClass("suggestion_lines_all"))}}function update_suggestion_more_btn(a){element=$(".filter_suggestions").get(0),element&&(is_overflow=element.scrollHeight>element.clientHeight+5||element.scrollWidth>element.clientWidth+5,a?is_overflow&&$(".js_suggestion_label .suggestion_icon_more").removeClass("hidden"):is_overflow?($(".js_suggestion_label .suggestion_icon_more").removeClass("hidden"),$(".js_suggestion_label .suggestion_icon_less").addClass("hidden")):($(".js_suggestion_label .suggestion_icon_more").addClass("hidden"),$(".js_suggestion_label .suggestion_icon_less").removeClass("hidden")))}function resizeTextarea(b){b.style.height="auto",b.style.height=a.scrollHeight+"px"}function init(){for(var a=document.getElementsByTagName("textarea"),b=0,c=a.length;b<c;b++)"true"==a[b].getAttribute("data-resizable")&&resizeTextarea(a[b].id)}(function(){n h(a,b,c){for(var d=-1,e=a.length;++d<e;)c=b(c,a[d],d,a);return c}nction k(a,b){for(var c=a.length,d=-1;++d<c;)if(b(a[d],d,a))return d;return-1}tion p(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}on w(){}nction z(){}function A(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function B(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function C(a,b){var c=E(a,b);return!(0>c)&&(c==a.length-1?a.pop():hc.call(a,c,1),!0)}function D(a,b){var c=E(a,b);return 0>c?nb:a[c][1]}function E(a,b){for(var c=a.length;c--;)if(La(a[c][0],b))return c;return-1}function F(a,b,c){var d=E(a,b);0>d?a.push([b,c]):a[d][1]=c}nction I(a,b){var c;return(c=a)&&(c=db(b),c=ha(b,c,a)),c}unction K(a,b,c,e,f,g){var h;if(c&&(h=f?c(a,e,f,g):c(a)),h!==nb)return h;if(!Ra(a))return a;if(e=Jc(a)){if(h=ta(a),!b)return ga(a,h)}else{var i=sa(a),j="[object Function]"==i||"[object GeneratorFunction]"==i;if(Kc(a))return ea(a,b);if("[object Object]"==i||"[object Arguments]"==i||j&&!f){if(p(a))return f?a:{};if(h=ua(j?{}:a),!b)return ia(a,I(h,a))}else{if(!Hb[i])return f?a:{};h=va(a,i,b)}}return g||(g=new B),(f=g.get(a))?f:(g.set(a,h),(e?d:O)(a,function(d,e){H(h,e,K(d,b,c,e,a,g))}),e?h:ia(a,h))}ction O(a,b){return a&&Ac(a,b,db)}nction R(a,b){b=ya(b,a)?[b+""]:J(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[b[c++]];return c&&c==d?a:nb}unction T(a,b,c,d,e){if(a===b)a=!0;else if(null==a||null==b||!Ra(a)&&!Sa(b))a=a!==a&&b!==b;else a:{var f=Jc(a),g=Jc(b),h="[object Array]",i="[object Array]";f||(h=sa(a),"[object Arguments]"==h?h="[object Object]":"[object Object]"!=h&&(f=Xa(a))),g||(i=sa(b),"[object Arguments]"==i?i="[object Object]":"[object Object]"!=i&&Xa(b));var j="[object Object]"==h&&!p(a),g="[object Object]"==i&&!p(b),i=h==i;if(!i||f||j){if(!(2&d)&&(h=j&&Vb.call(a,"__wrapped__"),g=g&&Vb.call(b,"__wrapped__"),h||g)){a=T(h?a.value():a,g?b.value():b,c,d,e);break a}i?(e||(e=new B),a=(f?ma:oa)(a,b,T,c,d,e)):a=!1}else a=na(a,b,h,T,c,d)}return a}function U(a,b){var c=b.length,d=c;if(null==a)return!d;for(a=Object(a);c--;){var e=b[c];if(e[2]?e[1]!==a[e[0]]:!(e[0]in a))return!1}for(;++c<d;){var e=b[c],f=e[0],g=a[f],h=e[1];if(e[2]){if(g===nb&&!(f in a))return!1}else if(e=new B,f=nb,f===nb?!T(h,g,void 0,3,e):!f)return!1}return!0}function V(a){var b=typeof a;return"function"==b?a:null==a?ib:"object"==b?Jc(a)?Z(a[0],a[1]):Y(a):mb(a)}nction Y(a){var b=qa(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return return function Z(a,b){return function $(a,b,c,e,f){if(a!==b){var g=Jc(b)||Xa(b)?nb:eb(b);d(g||b,function(d,h){if(g&&(h=d,d=b[h]),Ra(d)){f||(f=new B);var i=h,j=f,k=a[i],l=b[i],m=j.get(l);if(m)G(a,i,m);else{var m=e?e(k,l,i+"",a,b,j):nb,n=m===nb;n&&(m=l,Jc(l)||Xa(l)?Jc(k)?m=k:Oa(k)?m=ga(k):(n=!1,m=K(l,!0)):Ua(l)||Ma(l)?Ma(k)?m=_a(k):!Ra(k)||c&&Pa(k)?(n=!1,m=K(l,!0)):m=k:n=!1),j.set(l,m),n&&$(m,l,c,e,j),G(a,i,m)}}else i=e?e(a[h],d,h+"",a,b,f):nb,i===nb&&(i=d),G(a,h,i)})}}function _(a,b){var c=[],d=-1,e=pa();b=f(b.length?b:Array(1),function(a){return e(a)});var g=X(a,;return l(g,function(a,b){var d;a:{d=-1;for(var e=a.a,f=b.a,g=e.length,h=c.length;++d<g;){var i;b:{i=e[d];var j=f[d];if(i!==j){var k=null===i,l=i===nb,m=i===i,n=null===j,o=j===nb,p=j===j;if(i>j&&!n||!m||k&&!o&&p||l&&p){i=1;break b}if(j>i&&!k||!p||n&&!l&&m||o&&m){i=-1;break b}}i=0}if(i){d=h>d?i*("desc"==c[d]?-1:1):i;break a}}d=a.b-b.b}return d})}n ha(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];H(c,f,a[f])}return c}function ia(a,b){var c=Fc(a);return ha(a,c,b)}nction la(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,t=s,u=Array(s);t--;)u[t]=arguments[t];if(o){var w;w=(Vb.call(v,"placeholder")?v:k).placeholder;var x;for(x=u.length,t=0;x--;)u[x]===w&&t++;x=t}if(d){for(var z=o,t=-1,A=u.length,B=e.length,C=-1,D=d.length,E=kc(A-B,0),F=Array(D+E),z=!z;++C<D;)F[C]=d[C];for(;++t<B;)(z||A>t)&&(F[e[t]]=u[t]);for(;E--;)F[C++]=u[t++];u=F}if(f){for(var G=o,t=-1,A=u.length,B=-1,C=g.length,D=-1,E=f.length,z=kc(A-C,0),F=Array(z+E),G=!G;++t<z;)F[t]=u[t];for(z=t;++D<E;)F[z+D]=f[D];for(;++B<C;)(G||A>t)&&(F[z+g[B]]=u[t++]);u=F}if(s-=x,o&&j>s){for(t=u,A=-1,B=t.length,C=-1,x=[];++A<B;)D=t[A],(D===w||"__lodash_placeholder__"===D)&&(t[A]="__lodash_placeholder__",x[++C]=A);t=b,w=k.placeholder,s=j-s,A=8&t,B=h?ga(h):nb,C=A?x:nb,x=A?nb:x,D=A?u:nb,u=A?nb:u,t=(t|(A?32:64))&~(A?64:32),4&t||(t&=-4),s=[a,t,c,D,C,u,x,B,i,s],x=la.apply(nb,s);a:for(u=a.name+"",t=yc[u],A=Vb.call(yc,u)?t.length:0;A--;)if(B=t[A],C=B.func,null==C||C==a){u=B.name;break a}return t=v[u],"function"==typeof t&&u in y.prototype?a===t?u=!0:(u=Dc(t),u=!!u&&a===u[0]):u=!1,u&&Gc(x,s),x.placeholder=w,x}if(w=m?c:this,x=n?w[a]:a,s=u.length,h)for(t=u.length,A=lc(h.length,t),B=ga(u);A--;)C=h[A],u[A]=q(C,t)?B[C]:nb;else p&&s>1&&u.reverse();return l&&s>i&&(u.length=i),this&&this!==Rb&&this instanceof k&&(x=r||ka(x)),x.apply(w,u)}var l=128&b,m=1&b,n=2&b,o=24&b,p=512&b,r=n?nb:ka(a);return k}function ma(a,b,c,d,e,f){var g=-1,h=2&e,j=1&e,k=a.length,l=b.length;if(!(k==l||h&&l>k))return!1;if(l=f.get(a))return l==b;for(l=!0,f.set(a,b);++g<k;){var m=a[g],n=b[g];if(d)var o=h?d(n,m,g,b,a,f):d(m,n,g,a,b,f);if(o!==nb){if(o)continue;l=!1;break}if(j){if(!i(b,){l=!1;break}}else if(m!==n&&!c(m,n,d,e,f)){l=!1;break}}return f["delete"](a),l}function na(a,b,c,d,e,f){switch(c){case"[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!d(new ac(a),new ac(b)))break;return!0;case"[object Boolean]":case"[object Date]":return+a==+b;case"[object Error]":return a.name==b.name&&a.message==b.message;case"[object Number]":return a!=+a?b!=+b:a==+b;case"[object RegExp]":case"[object String]":return a==b+"";case"[object Map]":var g=s;case"[object Set]":return g||(g=t),(2&f||a.size==b.size)&&d(g(a),g(b),e,1|f);case"[object Symbol]":return!!_b&&wc.call(a)==wc.call(b)}return!1}function oa(a,b,c,d,e,f){var g=2&e,h=db(a),i=h.length,j=db(b).length;if(i!=j&&!g)return!1;for(var k=i;k--;){var l=h[k];if(!(g?l in b:S(b,l)))return!1}if(j=f.get(a))return j==b;j=!0,f.set(a,b);for(var m=g;++k<i;){var l=h[k],n=a[l],o=b[l];if(d)var p=g?d(o,n,l,b,a,f):d(n,o,l,a,b,f);if(p===nb?n!==o&&!c(n,o,d,e,f):!p){j=!1;break}m||(m="constructor"==l)}return j&&!m&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(j=!1)),f["delete"](a),j}ion ua(a){return Pa(a.constructor)&&!Aa(a)?L(cc(a)):{}}function va(c,d,e){var f=c.constructor;switch(d){case"[object ArrayBuffer]":return fa(c);case"[object Boolean]":case"[object Date]":return new f((+c));case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d=c.buffer,e=e?fa(d):d,new c.constructor(e,c.byteOffset,c.length);case"[object Map]":return e=c.constructor,h(s(c),a,new e);case"[object Number]":case"[object String]":return new f(c);case"[object RegExp]":return e=new c.constructor(c.source,xb.exec(c)),e.lastIndex=c.lastIndex,e;case"[object Set]":return e=c.constructor,h(t(c),b,new e);case"[object Symbol]":return _b?Object(wc.call(c)):{}}}nction ya(a,b){return"number"==typeof a||!Jc(a)&&(tb.test(a)||!sb.test(a)||null!=b&&a in Object(b))}ction Ca(a){var b=[];return ab(a).replace(ub,,b}n Ka(a,b){if("function"!=typeof a)throw new TypeError("Expected a function");return b=kc(b===nb?a.length-1:Za(b),0),function(){for(var d=arguments,e=-1,f=kc(d.length-b,0),g=Array(f);++e<f;)g[e]=d[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,d[0],g);case 2:return a.call(this,d[0],d[1],g)}for(f=Array(b+1),e=-1;++e<b;)f[e]=d[e];return f[b]=g,c(a,this,f)}}function La(a,b){return a===b||a!==a&&b!==b}ion Ra(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Sa(a){return!!a&&"object"==typeof a}unction Ua(a){return!(!Sa(a)||"[object Object]"!=Xb.call(a)||p(a))&&(a=cc(a),null===a||(a=a.constructor,"function"==typeof a&&a instanceof a&&Ub.call(a)==Wb))}tion Za(a){if(!a)return 0===a?a:0;if(a=$a(a),a===ob||a===-ob)return 1.7976931348623157e308*(0>a?-1:1);var b=a%1;return a===a?b?a-b:a:0}function $a(a){if(Ra(a)&&(a=Pa(a.valueOf)?a.valueOf():a,a=Ra(a)?a+"":a),"string"!=typeof a)return 0===a?a:+a;a=a.replace(vb,"");var b=zb.test(a);return b||Bb.test(a)?Kb(a.slice(2),b?2:8):yb.test(a)?pb:+a}function _a(a){var b=eb(a);return ha(a,b,void 0)}nction cb(a,b){var c;c=a;var d=b;if(null==c)c=!1;else{var e=d in Object(c);e||ya(d)||(d=J(d),c=Ba(c,d),null!=c&&(d=Fa(d),e=d in Object(c)));var f=c?c.length:nb;c=e||!!f&&Qa(f)&&q(d,f)&&(Jc(c)||Va(c)||Ma(c))}return c}function db(a){var b=Aa(a);if(!b&&!Na(a))return jc(Object(a));var c,d=wa(a),e=!!d,d=d||[],f=d.length;for(c in a)!S(a,c)||e&&("length"==c||q(c,f))||b&&"constructor"==c||d.push(c);return d}n lb(){}ar nb,ob=1/0,pb=NaN,qb=/&(?:amp|lt|gt|quot|#39|#96);/g,rb=RegExp(qb.source),sb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tb=/^\w*$/,ub=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,vb=/^\s+|\s+$/g,wb=/\\(\\)?/g,xb=/\w*$/,yb=/^[-+]0x[0-9a-f]+$/i,zb=/^0b[01]+$/i,Ab=/^\[object .+?Constructor\]$/,Bb=/^0o[0-7]+$/i,Cb=/^(?:0|[1-9]\d*)$/,Db="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",Eb="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Fb=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Eb+Db,"g"),Gb={};Gb["[object Float32Array]"]=Gb["[object Float64Array]"]=Gb["[object Int8Array]"]=Gb["[object Int16Array]"]=Gb["[object Int32Array]"]=Gb["[object Uint8Array]"]=Gb["[object Uint8ClampedArray]"]=Gb["[object Uint16Array]"]=Gb["[object Uint32Array]"]=!0,Gb["[object Arguments]"]=Gb["[object Array]"]=Gb["[object ArrayBuffer]"]=Gb["[object Boolean]"]=Gb["[object Date]"]=Gb["[object Error]"]=Gb["[object Function]"]=Gb["[object Map]"]=Gb["[object Number]"]=Gb["[object Object]"]=Gb["[object RegExp]"]=Gb["[object Set]"]=Gb["[object String]"]=Gb["[object WeakMap]"]=!1;var Hb={};Hb["[object Arguments]"]=Hb["[object Array]"]=Hb["[object ArrayBuffer]"]=Hb["[object Boolean]"]=Hb["[object Date]"]=Hb["[object Float32Array]"]=Hb["[object Float64Array]"]=Hb["[object Int8Array]"]=Hb["[object Int16Array]"]=Hb["[object Int32Array]"]=Hb["[object Map]"]=Hb["[object Number]"]=Hb["[object Object]"]=Hb["[object RegExp]"]=Hb["[object Set]"]=Hb["[object String]"]=Hb["[object Symbol]"]=Hb["[object Uint8Array]"]=Hb["[object Uint8ClampedArray]"]=Hb["[object Uint16Array]"]=Hb["[object Uint32Array]"]=!0,Hb["[object Error]"]=Hb["[object Function]"]=Hb["[object WeakMap]"]=!1;var Ib={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Jb={"function":!0,object:!0},Kb=parseInt,Lb=Jb[typeof exports]&&exports&&!exports.nodeType?exports:nb,Mb=Jb[typeof module]&&module&&!module.nodeType?module:nb,Nb=Mb&&Mb.exports===Lb?Lb:nb,Ob=o(Jb[typeof self]&&self),Pb=o(Jb[typeof window]&&window),Qb=o(Jb[typeof this]&&this),Rb=o(Lb&&Mb&&"object"==typeof global&&global)||Pb!==(Qb&&Qb.window)&&Pb||Ob||Qb||Function("return this")(),Sb=Array.prototype,Tb=Object.prototype,Ub=Function.prototype.toString,Vb=Tb.hasOwnProperty,Wb=Ub.call(Object),Xb=Tb.toString,Yb=RegExp("^"+Ub.call(Vb).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zb=Nb?Rb.Buffer:nb,$b=Rb.Reflect,_b=Rb.Symbol,ac=Rb.Uint8Array,bc=$b?$b.f:nb,cc=Object.getPrototypeOf,dc=Object.getOwnPropertySymbols,ec="symbol"==typeof(ec=_b&&_b.iterator)?ec:nb,fc=Object.create,gc=Tb.propertyIsEnumerable,hc=Sb.splice,ic=Sb.join,jc=Object.keys,kc=Math.max,lc=Math.min,mc=Sb.reverse,nc=ra(Rb,"Map"),oc=ra(Rb,"Set"),pc=ra(Rb,"WeakMap"),qc=ra(Object,"create"),rc=pc&&new pc,sc=nc?Ub.call(nc):"",tc=oc?Ub.call(oc):"",uc=pc?Ub.call(pc):"",vc=_b?_b.prototype:nb,wc=_b?vc.valueOf:nb,xc=_b?vc.toString:nb,yc={},zc=O),Ac=ja(),Bc=ja(!0);bc&&!gc.call({valueOf:1},"valueOf")&&(W=function(a){return r(bc(a))});var Cc=rc?ib,Dc=rc?function(a){return rc.get(a)}:lb,Ec=aa("length"),Fc=dc||(nc&&"[object Map]"!=sa(new nc)||oc&&"[object Set]"!=sa(new oc)||pc&&"[object WeakMap]"!=sa(new pc))&&(sa=function(a){var b=Xb.call(a);if(a="[object Object]"==b?a.constructor:null,a="function"==typeof a?Ub.call(a):"")switch(a){case sc:return"[object Map]";case tc:return"[object Set]";case uc:return"[object WeakMap]"}return b});var Gc=function(){var a=0,b=0;return function(c,d){var e=Ic(),f=16-(e-b);if(b=e,f>0){if(150<=++a)return c}else a=0;return Cc(c,d)}}();Ka(function(a){function b(b){for(var c=a,d=-1,e=null==b,f=c.length,g=Array(f);++d<f;)g[d]=e?nb:bb(b,c[d]);return g}a=N(a,1);var c=a.length,d=c?a[0]:0,e=this.__wrapped__;return 1>=c&&!this.__actions__.length&&e instanceof y&&q(d)?(e=e.slice(d,+d+(c?1:0)),e.__actions__.push({func:Ia,args:[b],thisArg:nb}),new x(e,this.__chain__).thru():this.thru(b)});var Hc=Ka(function(a,b){if(null==a)return[];var c=b.length;return c>1&&xa(a,b[0],b[1])?b=[]:c>2&&xa(b[0],b[1],b[2])&&(b.length=1),_(a,N(b,1))}),Ic=Date.now,Jc=Array.isArray,Kc=Zb?hb(!1),Lc=function(a){return Ka(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:nb,g=e>2?c[2]:nb,f="function"==typeof f?(e--,f):nb;for(g&&xa(c[0],c[1],g)&&(f=3>e?nb:f,e=1),b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}(;v.prototype=w.prototype,x.prototype=L(w.prototype),x.prototype.constructor=x,y.prototype=L(w.prototype),y.prototype.constructor=y,z.prototype=qc?qc(null):Tb,A.prototype.clear=A.prototype["delete"]=function(a){var b=this.__data__;return za(a)?(b="string"==typeof a?b.string:b.hash,a=(qc?b[a]!==nb:Vb.call(b,a))&&delete b[a]):a=nc?b.map["delete"](a):C(b.map,a),a},A.prototype.get=function(a){var b=this.__data__;return za(a)?(b="string"==typeof a?b.string:b.hash,qc?(a=b[a],a="__lodash_hash_undefined__"===a?nb:a):a=Vb.call(b,a)?b[a]:nb):a=nc?b.map.get(a):D(b.map,a),a},A.prototype.has=function(a){var b=this.__data__;return za(a)?(b="string"==typeof a?b.string:b.hash,a=qc?b[a]!==nb:Vb.call(b,a)):a=nc?b.map.has(a):-1<E(b.map,a),a},A.prototype.set=function(a,b){var c=this.__data__;return za(a)?("string"==typeof a?c.string:c.hash)[a]=qc&&b===nb?"__lodash_hash_undefined__":b:nc?c.map.set(a,b):F(c.map,a,b),this},B.prototype.clear=B.prototype["delete"]=B.prototype.get=B.prototype.has=function(a){var b=this.__data__,c=b.array;return c?-1<E(c,a):b.map.has(a)},B.prototype.set=function(a,b){var c=this.__data__,d=c.array;return d&&(199>d.length?F(d,a,b):(c.array=null,c.map=new A(d))),(c=c.map)&&c.set(a,b),this},v.chain=Ha,v.constant=hb,v.debounce=function(a,b,c){function d(){n&&clearTimeout(n),j&&clearTimeout(j),p=0,i=j=m=n=o=nb}ction h(){if(i=arguments,l=Ic(),m=this,o=s&&(n||!q),!1===r)var c=q&&!n;else{p||j||q||(p=l);var d=r-(l-p),e=(0>=d||d>r)&&(q||j);e?(j&&(j=clearTimeout(j)),p=l,k=a.apply(m,i)):j||(j=setTimeout(g,d))}return e&&n?n=clearTimeout(n):n||b===r||(n=setTimeout(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=nb),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!1,s=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return b=$a(b)||0,Ra(c)&&(q=!!c.leading,r="maxWait"in c&&kc($a(c.maxWait)||0,b),s="trailing"in c?!!c.trailing:s),h.cancel=d,h.flush=function(){return(n&&o||j&&s)&&(k=a.apply(m,i)),d(),k},h},v.drop=Ea,v.filter=function(a,b){return(Jc(a)?e:M)(a,pa(b,3))},v.flatten=v.iteratee=jb,v.keys=db,v.keysIn=eb,v.map=v.mapValues=v.merge=Lc,v.mixin=kb,v.property=mb,v.reject=function(a,b){var c=Jc(a)?e:M;return b=pa(b,3),c(a,},v.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=pa(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}for(d=a?e.length:0,f=d-1;d--;)if(g=e[d],f==d||g!=h){var h=g;if(q(g))hc.call(a,g,1);else if(ya(g,a))delete a[g];else{var g=J(g),i=Ba(a,g);null!=i&&delete i[Fa(g)]}}return c},v.rest=Ka,v.reverse=Ga,v.slice=v.sortBy=Hc,v.tail=v.tap=v.thru=Ia,v.toArray=Ya,v.toPairs=fb,v.toPlainObject=_a,v.values=gb,kb(v,v),v.eq=La,v.find=function(a,b){if(b=pa(b,3),Jc(a)){var c=k(a,b);return c>-1?a[c]:nb}return j(a,b,zc)},v.findIndex=function(a,b){return a&&a.length?k(a,pa(b,3)):-1},v.findLastKey=function(a,b){return j(a,pa(b,3),P,!0)},v.get=bb,v.hasIn=cb,v.identity=ib,v.isArguments=Ma,v.isArray=Jc,v.isArrayLike=Na,v.isArrayLikeObject=Oa,v.isBuffer=Kc,v.isFunction=Pa,v.isLength=Qa,v.isNative=Ta,v.isObject=Ra,v.isObjectLike=Sa,v.isPlainObject=Ua,v.isString=Va,v.isSymbol=Wa,v.isTypedArray=Xa,v.join=v.last=Fa,v.noop=lb,v.now=Ic,v.toInteger=Za,v.toNumber=$a,v.toString=ab,v.unescape=kb(v,),{chain:!1}),v.VERSION="4.5.1",d(["drop","take"],,d(["filter","map","takeWhile"],,d(["head","last"],,d(["initial","tail"],,y.prototype.compact=y.prototype.find=y.prototype.findLast=y.prototype.invokeMap=Ka(function(a,b){return"function"==typeof a?new y(this):this.map(function(d){var e=a;return ya(e,d)||(e=J(e),d=Ba(d,e),e=Fa(e)),e=null==d?d:d[e],null==e?nb:c(e,d,b)})}),y.prototype.reject=y.prototype.slice=y.prototype.takeRightWhile=y.prototype.toArray=O(y.prototype,,d("pop push shift sort splice unshift".split(" "),,O(y.prototype,,yc[la(nb,2).name]=[{name:"wrapper",func:nb}],y.prototype.clone=y.prototype.reverse=y.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=Jc(b),e=0>c,f=d?b.length:0;a=f;for(var g=this.__views__,h=0,i=-1,j=g.length;++i<j;){var k=g[i],l=k.size;switch(k.type){case"drop":h+=l;break;case"dropRight":a-=l;break;case"take":a=lc(a,h+l);break;case"takeRight":h=kc(h,a-l)}}if(a={start:h,end:a},g=a.start,h=a.end,a=h-g,e=e?h:g-1,g=this.__iteratees__,h=g.length,i=0,j=lc(a,this.__takeCount__),!d||200>f||f==a&&j==a)return da(b,this.__actions__);d=[];a:for(;a--&&j>i;){for(e+=c,f=-1,k=b[e];++f<h;){var m=g[f],l=m.type,m=(0,m.iteratee)(k);if(2==l)k=m;else if(!m){if(1==l)continue a;break a}}d[i++]=k}return d},v.prototype.chain=v.prototype.commit=v.prototype.next=v.prototype.plant=v.prototype.reverse=v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=ec&&(v.prototype[ec]=Ja),(Pb||Ob||{})._=v,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return v}):Lb&&Mb?(Nb&&((Mb.exports=v)._=v),Lb._=v):Rb._=v}).call(this);var tkn_modal=function(a,b){function c(a){h||(h=b(a),h.show(),d())}function d(){var a=j;j="",i=b(".js_modal_box_overlay"),0!==i.length&&i.remove();var c='<div class="modal_box_overlay '+a+' js_modal_box_overlay"></div>';i=b(c),b("body").append(i),i.show()}function e(){!!i!=!1&&i.hide()}function f(){!!h!=!1&&(h.hide(),e(),h=null)}function g(){b("body").on("modal:show",,b("body").on("modal:close",function(a){f()}),b("body").on("click",".js_modal_box_close",function(){b("body").trigger("modal:close")}),b("body").on("click",".js_modal_box_overlay",}var h,i,j="";return a.load_custom_modal=function(c,d,e){if(e="undefined"==typeof e?"GET":e.toUpperCase(),tkn_common.url.modals.hasOwnProperty(c)){var f=tkn_common.url.modals[c];return"GET"===e&&(f+=d),b.ajax(f,{method:e,data:"POST"==e&&d,tknScope:"modal",beforeSend:complete:function(c){a.show_loader&&b("body").trigger("loader:close");var d=b("#custom_modal");0===d.length&&(d=b('<div id="custom_modal" style="display:none;"></div>'),b("body").append(d)),d.html(c.responseJSON.data),d.off("click").on("click",function(){b("body").trigger("modal:close")}),b("body").trigger("modal:show","#custom_modal")}})}console.error("modal_name not found.")},a.load_basic_modal=function(a,c){options={method:"GET",show_loader:!0,args:"",modal_name:"basic_modal",interactive:!0,on_beforeSend:!1,on_load:!1,overlay_class:""};for(var d in c)d in options&&(options[d]=c[d]);return"GET"===options.method&&(a+=options.args),options.overlay_class&&(j=options.overlay_class),b.ajax(a,{method:options.method,data:"POST"==options.method&&options.args,tknScope:"modal",beforeSend:function(){options.show_loader&&b("body").trigger("loader:show"),"function"==typeof options.on_beforeSend&&options.on_beforeSend()},complete:function(a){var c=b("#"+options.modal_name),d=b(window).scrollTop();0===c.length?(c=b('<div id="'+options.modal_name+'" style="display:none;top:'+d+'px;"'+options.container_data+"></div>"),b("body").append(c)):document.getElementById(options.modal_name).style.top=d+"px",c.html(a.responseJSON.data),options.interactive?c.off("click"):c.off("click").on("click",function(){b("body").trigger("modal:close")}),"function"==typeof options.on_load&&options.on_load(c),options.show_loader&&b("body").trigger("loader:close")}})},b(document).one("tkn:js_ready",function(){g()}),a}(tkn_modal||{},jQuery),tkn_loader=function(a,b){"use strict";unction d(a){return"undefined"!=typeof E[a]&&E[a]}function e(a,b){"undefined"!=typeof tkn_common.load_more_collect_stats&&tkn_common.load_more_collect_stats&&(b.collect_stats=a.data("collect_stats"),b.stats_by_category=a.data("stats_by_category"),b.has_top_thumbs=a.data("has_top_thumbs")),a.data("use_unique_videos")&&(b.use_unique_videos=a.data("use_unique_videos")),b.current_page_offset=a.data("current_page_offset"),a.data("onloadmore")&&(b.onloadmore=a.data("onloadmore"))}function f(a,c){"undefined"==typeof c&&(c=!1);var d=window.location.href,e=d.replace(/page\/\d+\/?/,""),f=b(a).find(".load_more_wrapper"),g=b(f).find(".load_more_btn");if(b(f).hasClass("use_pagination")&&d!=e&&window.history.pushState(null,null,e),f.length>0&&(b(f).hasClass("use_pagination")||c&&b(""==g.html()))){var h=b(f).data("load_more_text"),i=b(f).data("fk_load_more");i||b.ajax({url:"/home/load_more_text/"+(i?"1":""),tknScope:"AA-load_more",method:"get"}).done(function(c){b(a).data("current_page_offset",0),h&&(c=c.replace("[{load_more_text}]",h)),b(g).html(c),b(f).removeClass("use_pagination"),b(f).addClass("use_load_more"),b(g).data("last_page",!1),b(g).data("current_page",!1)})}}function g(a){var c=b(a).data("current_page"),d=b(a).data("total_pages"),e=b(a).data("base_page_url"),f=b(a).data("include_load_more"),g=0;if(f){var h=b(a).parent(".load_more_wrapper");h.length?g=encodeURIComponent(h.data("load_more_text")):f=0}if(c&&d&&e){var i=b(a).data("page_type");c++,b(a).data("current_page",c),b.ajax({url:"/home/pagination_load_more/"+c+"/"+d+"/"+i+"/"+e+"/"+g,tknScope:"AA-load_more",method:"get"}).done(,c==d&&b(a).data("last_page",!0)}}function h(a,b){return"undefined"==typeof window[a+"_vars"]?{}:"undefined"==typeof b?window[a+"_vars"]:window[a+"_vars"][b]}function i(a,b,c){"undefined"==typeof window[a+"_vars"]&&(window[a+"_vars"]={}),window[a+"_vars"][b]=c}function j(a){var c=b(a),d=[];return b.each(c,function(a,b){""!==b.value&&d.push(b.value)}),d}function k(a){var c=b(".js_loader_filter_period_wrapper",a).find(".js_loader_filter_period"),d=c.filter(":checked"),e=c.index(d);return e!=c.length-1&&(b(a).data("skip_save_filters",!0),c.eq(e+1).click(),!0)}function l(a,c){b.each(a,function(a,d){a++;var d=b(d),e=d[0].options[d[0].selectedIndex].value;d.children(":gt(0)").remove(),"undefined"!=typeof c[a]&&b.each(c[a],function(a,b){var c='<option data-category_slug="'+b.slug+'" data-category_name="'+b.name+'" value="'+b.category_id+'"';e==b.category_id&&(c+=' selected="selected" '),c+=">"+b.name+"</option>",d.append(c)})})}function m(a,c){var d=b(a).find(".js_loader_filter_period_wrapper");"date"===c?d.hide():(d.show(),b.each(d.find("[data-skip_filter_type]"),function(a,d){var e=b(d).data("skip_filter_type").split(",");e.indexOf(c)!==-1?b(d).attr("style","display:none !important;"):b(d).attr("style","display:inline-block !important;")}))}function n(a,c){var d=b(a).find(".load_more_wrapper"),e=b(a).find(".load_more_btn");e.length<=0||(c?(e.addClass("visible"),e.removeClass("invisible")):(d.hasClass("use_pagination")&&0==e.find(".pagination").length?e.html(""):b(a).data("auto_load",!1),e.addClass("invisible"),e.removeClass("visible")))}function o(a){var c,d=b(a).find(".js_loader_filter_type:checked");return d.length>0&&(c=d.val()),c}function p(a){var c,d=b(a).find(".js_loader_filter_period:checked");return d.length>0&&(c=d.val()),c}function q(a){var c=[],d=b(a).find("input.js_loader_filter_quality:checked");return d.length>0&&d.each(function(a){c.push(b(d[a]).val())}),c}function r(a){var c=[],d=b(a).find("input.js_loader_filter_duration:checked");return d.length>0&&d.each(,c}function s(a){if("undefined"==typeof A.initial||"undefined"==typeof A["final"])return!1;var c=j(b(".js_loader_category_select")),d="",e="";0!==c.length&&(d=c.length>1?B.plural_category:B.single_category,e=t(u(c)));for(var f=B["current_"+a.initial],g=""===a["final"]?B.current_all:B["current_"+a["final"]],h=[d,e,f,g],i=B.invalid_combination_string,k=0;k<h.length;k++)i=i.replace("%s",h[k]);A={},tkn_message_manager.add_message(i,"alert_error")}function t(a){var b="";return _.mapValues(a,function(c,d){_.findLastKey(a)==d?b+=" "+B.lexical_conjunction+" ":""!==b&&(b+=", "),b+=c}),b}function u(a){for(var c={},d=0;d<a.length;d++){var e=b(".js_loader_category_select").first().children().filter('[value="'+a[d]+'"]').text();c[a[d]]=e}return c}unction w(){D||(B=tkn_common.load_more,y=tkn_common.url.load_more),D=!0}var x={auto_load_times:4,blocks_num:5},y=[],z=b('select[name="filter_1"]'),A={},B=[],C=0,D=!1,E={};return a.show_loader=!0,a.apply_multi_filter=function(c,d){var e=b(c),g=e.parents(".js_loader_main_wrapper"),h=b(g).data("loader_target"),j=(b(g).data("filter_quantity"),a.configure_container_params(g));j.multifilters=d,i(j.type,"multifilters",d),m(g,j.filters.filter_type),j.offset=0,b(g).data("current_page_offset",0),this.fetch_content(y[j.type],j,function(c){if("undefined"==typeof c.success||!c.success)return!1;if(0===c.data.content.length){if(void 0===A.initial&&(A.initial=e.val()),k(g))return;b(h).html(tkn_common.no_content_message)}else b(h).html(c.data.content);"post"===j.type&&"period"===type&&(a.load_associated_categories(z),A["final"]=e.val(),s(A)),n(g,c.data.has_more),b("body").trigger("tkn_already_seen:check_elements",[g]),f(g,c.data.has_more)})},a.change_filter=function(c,d){if("undefined"==typeof c)return!1;var e=b(c),g=e.parents(".js_loader_main_wrapper"),j=b(g).data("loader_target"),l=b(g).data("filter_quantity"),o=a.configure_container_params(g);if(o.offset=0,b(g).data("current_page_offset",0),o.multifilters=h(o.type,"multifilters"),l&&(o.quantity=b(j).children().length),"country_code"===d||"starting_letter"===d)o[d]=e.is("a")?e.data("value"):e.val(),e.parents("form").find("button span:first-child").text(e.text()),i(o.type,d,o[d]);else if("content_tag_id"==d)o[d]=e.is("a")?e.data("value"):e.val();else if("quality"!==d&&"duration"!==d)o.filters["filter_"+d]=e.is("a")?e.data("value"):e.val();else if(0===o.filters["filter_"+d].length)return void e.prop("checked",!0);m(g,o.filters.filter_type),this.fetch_content(y[o.type],o,function(h){var i=b(c).parents("form"),l=i.find("button");if(l.length&&i.hasClass("open")&&i.removeClass("open"),"undefined"==typeof h.success||!h.success)return!1;if(0===h.data.content.length){if(void 0===A.initial&&(A.initial=e.val()),k(g))return;b(j).html(tkn_common.no_content_message)}else"gallery"===o.type&&"undefined"!=typeof tkn_gallery_photo?(b(j).html(h.data.content),"undefined"!=typeof tkn_gallery_photo&&tkn_gallery_photo.rebind_events()):b(j).html(h.data.content);"post"===o.type&&"period"===d&&(a.load_associated_categories(z),A["final"]=e.val(),s(A)),n(g,h.data.has_more),setTimeout(function(){lazy_loading(j)},200),b("body").trigger("tkn_already_seen:check_elements",[g]),f(g,h.data.has_more)})},a.load_more=function(f,h,i){if("undefined"==typeof i&&(i=!1),b(f).data("last_page"))return!1;w();var j=h||{};if("undefined"==typeof f)return!1;var k=b(f).parents(".js_loader_main_wrapper"),l=b(k).data("loader_target"),m=a.configure_container_params(k),o=b(k).get(0).classList.value;if(d(o))return!1;c(o,!0);var p=b(k).data("force_offset");void 0!==p&&p?m.offset=p:m.offset=b(l).children().length,e(k,m),"undefined"!=typeof m.current_page_offset&&(m.offset+=parseInt(m.current_page_offset)),void 0!==j.blocks_num&&(m.blocks_num=j.blocks_num),void 0!==j.quantity&&(m.quantity=j.quantity),void 0!==j.offset&&(m.offset=j.offset),void 0!==j.collect_stats&&j.collect_stats&&(m.collect_stats=1),void 0!==j.collect_ctr_rt_stats&&j.collect_ctr_rt_stats&&(m.collect_ctr_rt_stats=1),void 0!==j.adapt_containers&&(m.adapt_containers=j.adapt_containers);var q=(document.documentElement.scrollTop,"undefined"!=typeof m.type?m.type:""),r=q+"_placeholder";b("body").trigger("tkn:load_more_event",{type:m.name,auto:i});var s=b(k).data("placeholder_quantity");if(s){var t="",u=b(k).data("total_items");switch(q){case"post":t="video_item_wrapper";break;case"pornstar":case"studio":t="showcase_item_wrapper";break;case"celebrity_media":t="media_image"}u&&m.offset&&u-m.offset<s&&(s=u-m.offset);var x=a.elements_placeholder_container(k,s,r,t)}this.fetch_content(y[m.type],m,function(d){return!("undefined"==typeof d.success||!d.success)&&(x&&a.remove_elements_placeholder(x,r),b(l).append(d.data.content),d.data.quantity&&void 0!==typeof p&&b(k).data("force_offset",d.data.quantity+p),"gallery"!==m.type&&"photo"!==m.type||"undefined"==typeof tkn_gallery_photo||tkn_gallery_photo.rebind_events(),x&&a.remove_elements_placeholder_height(x),lazy_loading(l),g(f),n(k,d.data.has_more),v(k,"filter_quantity",!0),c(o,!1),b("body").trigger("tkn_already_seen:check_elements",[k]),"function"==typeof j.callback&&j.callback(d),"undefined"!=typeof m.onloadmore&&m.onloadmore&&("function"==typeof m.onloadmore?m.onloadmore(d):"function"==typeof window[m.onloadmore]&&window[m.onloadmore](d)),tkn_thumb_selector.update_video_preview_mode(),C++,void tkn_sticky.updateSticky())})},a.replace_content=function(c,d){if("undefined"==typeof c)return!1;w();var e=b(c).parents(".js_loader_main_wrapper"),g=b(e).data("loader_target"),h=a.configure_container_params(e),d="function"==typeof d?d:null,i=b(e).data("loader_first_url"),j=b(e).data("loader_first_method"),l=b(e).data("hide_on_empty");i||(i=y[h.type]),j||(j="POST"),this.fetch_content(i,h,function(a){if(null!==d)return d(a);if("undefined"==typeof a||"undefined"==typeof a.success||!a.success)return!1;if(0===a.data.content.length){if(k(e))return;b(g).html(tkn_common.no_content_message),1===l&&e.remove()}else b(g).html(a.data.content),"gallery"!==h.type&&"photo"!==h.type||"undefined"==typeof tkn_gallery_photo||"undefined"!=typeof tkn_gallery_photo&&tkn_gallery_photo.rebind_events(g);b(e).data("loader_first_url",!1),b(e).data("loader_first_method",!1),lazy_loading(g),n(e,a.data.has_more),b("body").trigger("tkn_already_seen:check_elements",[e]),tkn_thumb_selector.update_video_preview_mode(),tkn_sticky.updateSticky(),f(e,a.data.has_more)},j)},a.load_associated_categories=function(c){var d=b(c).parents(".js_loader_main_wrapper"),e=a.configure_container_params(d);this.fetch_content(y.assoc_categories,e,function(a){"undefined"!=typeof a&&0!==a.data.length&&a.data.categories&&l(b(".js_loader_category_select"),a.data.categories),tkn_sticky.updateSticky()})},a.fetch_content=function(c,d,e,f){if("undefined"==typeof f&&(f="POST"),"post"==d.type&&("HIDE_ALL"==tkn_common.user_already_seen||"HIDE_BUT_KEEP_RELATED"==tkn_common.user_already_seen)&&(d.already_seen_ids=_.map(tkn_already_seen.get_collection(),"id"),"recent_videos_homepage"==d.name)){var g=b.map(b('[data-loader_name="recent_videos_homepage"]').find(".js_entity_container > div"),;d.already_seen_ids=b.unique(d.already_seen_ids.concat(g))}return b.ajax(c,{method:f,tknScope:"AA-load_more",data:"POST"==f&&d,beforeSend:function(){a.show_loader&&b("body").trigger("loader:show",!1)},complete:function(c){a.show_loader&&b("body").trigger("loader:close"),e(c.responseJSON)}})},a.configure_container_params=function(a){var c="undefined"==typeof search_vars?null:search_vars.query,d=j(".js_loader_category_select"),e=j(".js_tag_select"),f=a.data("content_id");0===e.length&&tkn_common.tag_info&&e.push(tkn_common.tag_info.tag_id),"undefined"!=typeof a.data("single_category_page_id")&&(d=[a.data("single_category_page_id")]);var g={main_category_id:"undefined"!=typeof search_vars?search_vars.main_category_id:tkn_common.categories.main_category_active,type:b(a).data("loader_type"),name:b(a).data("loader_name"),filters:{filter_type:o(a),filter_period:p(a),filter_quality:q(a),filter_duration:r(a)},category_id:d.length>0?d:[],tag_id:e.length>0?e:[],content_tag_id:b(a).data("content_tag_id"),gallery_id:b(a).data("gallery_id"),user_id:a.data("user_id"),adblock_enabled:adblock_is_enabled()?1:""},i=b(a).data("quantity");i&&(g.quantity=i);var k=b(a).find(".multifilter");if(k.length){var l=b(k).data("params");l&&(g.multifilter=l)}var m=b(a).find(".exclude_videos");if(m.length){var m=b(m).data("exclude_videos");m&&(g.exclude_videos=m)}return b(a).data("skip_save_filters")&&(g.skip_save_filters=!0),null!==c&&(g.search=c),null!==f&&(g.content_id=f),null!==g.type&&_.merge(g,h(g.type)),"undefined"!=typeof tag_info&&null!==tag_info&&(g.tag_id=tag_info),"gallery"===g.type&&(g.pornstar_id=b(a).data("pornstar_id"),g.studio_id=b(a).data("studio_id")),g},a.handle_auto_load=function(c,d){if(c.hasClass("invisible")||C>x.auto_load_times-1)return!1;var e=b(c).parents(".js_loader_main_wrapper");if(e&&e.hasClass("hidden"))return!1;var f=b(window).scrollTop()+b(window).height();(f>b(document).height()-200||f>b(c).offset().top)&&a.load_more(c,d,!0)},a.change_gallery_type_mode=function(a){var c={mode:a};b.ajax({url:"/user/set_gallery_type_mode",dataType:"json",type:"post",tknScope:"AA-load_more",data:c,beforeSend:function(){b("body").trigger("loader:show")}}).done(function(a){a&&"undefined"!=typeof a.success&&1==a.success&&location.reload()}).always(function(){b("body").trigger("loader:close")})},b(document).one("tkn:js_ready",function(){w();var c=b(".js_dropdown_country").on("change",function(){"url"==b(this).data("type")?window.location.href=b(this).data("base_url")+b(this).val():(a.change_filter(this,"country_code"),c())}),b(".js_dropdown_by_letter").on("change",function(){"url"==b(this).data("type")?window.location.href=b(this).data("base_url")+b(this).val():(a.change_filter(this,"starting_letter"),c())}),b(".js_loader_filter_quality").on("click",function(){a.change_filter(this,"quality"),c()}),b(".js_loader_filter_duration").on("click",function(){a.change_filter(this,"duration"),c()}),b(".js_loader_filter_category").on("change",function(){"url"==b(this).data("type")?window.location.href=b(this).data("base_url")+b(this).val():(a.change_filter(this,"category"),c())}),b(".js_loader_filter_category").each(,b(".js_loader_filter_gallery_tag").on("change",function(){return b(".js_loader_filter_gallery_type").each(function(a,c){b(c).prop("checked",""==b(c).val())}),a.change_filter(this,"content_tag_id"),!1}),b(".js_loader_filter_type").on("click",function(){a.change_filter(this,"type"),c()}),b(".js_loader_filter_period").on("click",function(){b(this).parents().find(".filter_category_message").text(""),a.change_filter(this,"period"),c()}),b(".js_loader_filter_gallery_type").on("click",function(){var c=this.value;""!==c&&"static"!==c&&"animated"!==c||(b(this).data("use_load_more")?a.change_filter(this,"gallery_type"):tkn_loader.change_gallery_type_mode(c))}),b(".js_loader_more_btn").on("click",function(){var d=b(this).data("force_url");if(d)return b("body").trigger("loader:show"),void(window.location.href=d);if(0==b(this).find(".pagination").length){var e={};1!=b(this).data("include_load_more")&&(e=C>x.auto_load_times-1?{blocks_num:x.blocks_num}:{}),console.log(b(this).data()),e.callback=c,e.origin_button=this,a.load_more(this,e)}}),b(".js_loader_more_btn").on("click",".js_included_load_more",function(){var d=b(this).parent(".js_loader_more_btn"),e=b(d).data("force_url");if(e)return b("body").trigger("loader:show"),void(window.location.href=e);var f={};1!=b(d).data("include_load_more")&&(f=C>x.auto_load_times-1?{blocks_num:x.blocks_num}:{}),console.log(b(this)),console.log(b(this).data()),f.callback=c,f.origin_button=d,a.load_more(d,f)}),b(".js_loader_more_btn  a.pagination_anchor").on("click",,b(window).scroll(_.debounce(function(){b("div [data-auto_load=1] .js_loader_more_btn").each(function(d,e){a.handle_auto_load(b(e),{callback:c,origin_button:e})})},400)),b(".js_select_filter").on("click",function(){var a=b(this).parents(".dropdown_menu_item")[0].innerText;b(this).parents("form").find(".js_selected_filter")[0].innerText=a})}),a.elements_placeholder_container=function(a,c,d,e,f){var g=b(a).get(0);if("undefined"==typeof f&&(f=!1),g){var h=b(g).find("."+e).get(0);if(h){h=b(h).clone(),b(h).html(""),b(h).attr("id",""),b(h).removeClass("hidden"),b(h).removeClass("odd_item"),b(h).removeClass("even_item"),b(h).removeData(),b(h).addClass(d);var i=b(a).data("loader_target"),j=i?b(i).get(0):b(a);h=b(h).clone(),f&&b(j).html("");for(var k=0;k<c;k++){var l=k%2?"even_item":"odd_item";b(j).append(b(h).clone().addClass(l))}return b(j).css("height",b(j).outerHeight()),j}}return!1},a.remove_elements_placeholder=function(a,c){b(a).find("."+c).remove()},a.remove_elements_placeholder_height=a}(tkn_loader||{},jQuery),tkn_rating=function(a,b){function c(a){if("undefined"!=typeof a.id&&"undefined"!=typeof a.vote&&"undefined"!=typeof a.type&&(g(),!e(a))){if(A.length+1>z){var b=_.find(A,{type:a.type});A=_.reject(A,b)}return A.push(a),i()}}function d(a){return _.find(A,}function e(a){return"undefined"!=typeof d(a)}function f(a){return A=_.reject(A,a),i()}function g(){var a=amplify.store(x)||{};return"undefined"==typeof a["v_"+y]?j():A=a["v_"+y],h(),A}function h(){for(var a in A)A[a].id=parseInt(A[a].id)}function i(){try{var a={};return a["v_"+y]=A,amplify.store(x,a),!0}catch(b){}}function j(){try{return amplify.store(x,null),!0}catch(a){}}function k(){return _.filter(A,{vote:"UP"}).length}function l(){B||("undefined"!=typeof tkn_common.save_user_preferences.enabled&&tkn_common.save_user_preferences.enabled!==!1||(C=!1),z=tkn_common.localstorage_limits.rating||500,C||j(),g(),B=!0)}function m(a,c){var d=parseInt(a.data.votes_up),e=parseInt(a.data.votes_down),f=d+e,g=a.data.rating,h=Math.round(100*g)/100,i=Math.round(100*(100-g))/100;"undefined"!=typeof c?(b(c).find(".js_rating_percentage").html(g),b(c).find(".js_rating_percentage_up").html(h),b(c).find(".js_rating_percentage_down").html(i),b(c).find(".js_rating_total_votes").html(f),b(c).find(".js_votes_rating_wrapper").removeClass("hidden")):(b(".js_rating_percentage").html(g),b(".js_rating_percentage_up").html(h),b(".js_rating_percentage_down").html(i),b(".js_rating_total_votes").html(f),b(".js_votes_rating_wrapper").removeClass("hidden"))}function n(a){"undefined"!=typeof a?(b(a).find(".js_rating_up").addClass("btn_disable"),b(a).find(".js_rating_down").addClass("btn_disable"),b(a).find(".icon-ic_22_like_green").addClass("icon-ic_22_like"),b(a).find(".icon-ic_22_dislike_red").addClass("icon-ic_22_dislike"),b(a).find(".icon-ic_22_like").removeClass("icon-ic_22_like_green"),b(a).find(".icon-ic_22_dislike").removeClass("icon-ic_22_dislike_red")):(b(".js_rating_up").addClass("btn_disable"),b(".js_rating_down").addClass("btn_disable"),b(".icon-ic_22_like_green").addClass("icon-ic_22_like"),b(".icon-ic_22_dislike_red").addClass("icon-ic_22_dislike"),b(".icon-ic_22_like").removeClass("icon-ic_22_like_green"),b(".icon-ic_22_dislike").removeClass("icon-ic_22_dislike_red")),C=!1}function o(a){"undefined"!=typeof a?(b(a).find(".js_rating_up").removeClass("btn_disable"),b(a).find(".js_rating_down").removeClass("btn_disable"),b(a).find(".icon-ic_22_like").addClass("icon-ic_22_like_green"),b(a).find(".icon-ic_22_dislike").addClass("icon-ic_22_dislike_red"),b(a).find(".icon-ic_22_like_green").removeClass("icon-ic_22_like"),b(a).find(".icon-ic_22_dislike_red").removeClass("icon-ic_22_dislike")):(b(".js_rating_up").removeClass("btn_disable"),b(".js_rating_down").removeClass("btn_disable"),b(".icon-ic_22_like").addClass("icon-ic_22_like_green"),b(".icon-ic_22_dislike").addClass("icon-ic_22_dislike_red"),b(".icon-ic_22_like_green").removeClass("icon-ic_22_like"),b(".icon-ic_22_dislike_red").removeClass("icon-ic_22_dislike")),C=!0}function p(a){remote_url=tkn_common.url.add_rating;var c={entity_id:a.id,entity_type:a.type,vote_type:a.vote};return b.ajax({url:remote_url,dataType:"json",type:"post",tknScope:"AA-rating",data:c,beforeSend:function(){b("body").trigger("loader:show")}}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}).done(function(a){if(a.success)b("body").trigger("message:success",a.message);else{var c="undefined"!=typeof a.data&&a.data.errors?a.data.errors:[a.message];b.each(c,}}).always(function(){b("body").trigger("loader:close")})}function q(a){var c=tkn_common.url.remove_rating,d={entity_id:a.id,entity_type:a.type,vote_type:a.vote};return b.ajax({url:c,dataType:"json",type:"post",data:d,tknScope:"AA-rating",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function r(a,d,f){if(C){var g={id:parseInt(a),type:d,vote:"UP"};if(!e(g)){var h=p(g);"undefined"!=typeof h&&h.done(function(e){e.success&&c(g)&&(b("body").trigger("favorites:increment"),m(e,f),n(),tkn_common.recommender.recommender_feature_enabled&&"post"==d&&tkn_post.recommender_event(a,"liked",!1))})}}}function s(a,b,d){if(C){var f={id:a,type:b,vote:"DOWN"};if(!e(f)){var g=p(f);"undefined"!=typeof g&&g.done(function(a){a.success&&c(f)&&(m(a,d),n())})}}}function t(a,c){if("undefined"!=typeof c&&"undefined"!=typeof a){var d=tkn_common.url.render_favorites[a],e=_.filter(A,{type:a,vote:"UP"});if(0!=e.length){var f={};f.entity_ids=[],b.each(_.chain(e).reverse().filter({type:a,vote:"UP"}).value(),function(a,b){f.entity_ids[a]=b.id}),f.entity_type=a,f.add_remove_btn=!0,f.container_type=c.slice(4),f.ignore_main_category=1;var g=!1,h=!1;switch(c){case".js_rating_post":g="post_placeholder",h="video_item_wrapper";break;case".js_rating_pornstar":g="pornstar_placeholder",h="showcase_item_wrapper";break;case".js_rating_studio":g="studio_placeholder",h="showcase_item_wrapper"}return g&&tkn_loader.elements_placeholder_container(c,f.entity_ids.length,g,h,!0),b.ajax({url:d,dataType:"json",type:"post",data:f,tknScope:"AA-rating",beforeSend:function(){b("body").trigger("loader:show")}}).done(function(d){if(d.success){var e=b(c).data("after_load_class");b(c).html(d.data),e&&b(c).addClass(e),tkn_loader.remove_elements_placeholder_height(c),"photo"!==a&&"gallery"!==a||tkn_gallery_photo.rebind_events(),tkn_loader.remove_elements_placeholder_height(c),lazy_loading(c)}}).always(function(){b("body").trigger("loader:close")})}}}function u(a,b,c){var d={id:a,type:b,vote:"UP"},f={id:a,type:b,vote:"DOWN"};return e(d)||e(f)?n(c):o(),C}function v(a,c,d){var e={id:a,type:c,vote:"UP"},g=q(e);"undefined"!=typeof g&&g.done(function(c){c.success&&f(e)&&(b("body").trigger("favorites:decrement"),b(d+" [id$="+a+"]").remove())})}function w(a){j(),b.each(a,function(a,d){b.each(d,function(b,d){var e={id:d.id,type:a,vote:d.vote};c(e)})})}var x="rating_collection",y=1,z=500,A=[],B=!1,C=!0;return{init:l,add_like:r,remove_like:v,add_dislike:s,reset:j,get_collection:g,get_favorites_number:k,render_rating_up:t,check_rating_disable:u,synchronize:w}}(tkn_rating||{},jQuery);$(document).one("tkn:js_ready",function(){tkn_rating.init()});var tkn_adapt_container=function(a,b){return a.adapt_containers_on_page=function(){},a.adapt_container_rows=a.get_thumbs_per_row=function(a){return max_thumbs_on_row},a}(tkn_adapt_container||{},jQuery),tkn_already_seen=function(a,b){function c(a){if(A){var b={id:a};e(b)}}function d(a){if(A){var b={id:a};e(b,"story")}}function e(a,b){if("undefined"!=typeof a.id){a.id=parseInt(a.id,10),k(b);var c=f(a.id,b);return"undefined"!=typeof c||("story"==b?(y.length+1>(tkn_common.localstorage_limits.already_seen||500)&&(y=_.tail(y)),y.push(a)):(x.length+1>(tkn_common.localstorage_limits.already_seen||500)&&(x=_.tail(x)),x.push(a)),h(b))}}function f(a,b){return"story"==b?_.find(y,function(b){return b.id==a}):_.find(x,function(b){return b.id==a})}function g(a,b){return"story"==b?(y=_.reject(y,{id:a}),h(b)):(x=_.reject(x,{id:a}),h())}function h(a){if("story"==a)try{var b={};return b["s_"+w]=y,amplify.store(v,b),!0}catch(c){}else try{var b={};return b["v_"+u]=x,amplify.store(t,b),!0}catch(c){}}function i(a){try{return"story"==a?amplify.store(v,null):amplify.store(t,null),!0}catch(b){}}function j(a){i(a),"story"==a?y=[]:x=[]}function k(a){if("story"==a){var b=amplify.store(v)||{};return"undefined"==typeof b["s_"+w]?j(a):y=b["s_"+w],y}var b=amplify.store(t)||{};return"undefined"==typeof b["v_"+u]?j(a):x=b["v_"+u],x}function l(a){var c=b.map(y,function(a){return a.id});b(a).find(".story_item_wrapper").each(function(a,d){var e=b(d).data("story_id");c.indexOf(e)!==-1&&b(d).addClass("story_already_seen")})}function m(a){var c=JSON.parse(tkn_common.already_seen_related_containers),d=[],e="undefined"==typeof a?b(".content_section_wrapper"):a,f=b.map(x,function(a){return a.id});b.each(e,function(a,e){var g=b(e);if("post"==g.data("loader_type")){var h=g.find(".js_entity_container"),i=g.data("loader_name");if(void 0===g.data("already_seen_overlay")||"0"!=g.data("already_seen_overlay"))if(("HIDE_ALL"==tkn_common.user_already_seen||"HIDE_BUT_KEEP_RELATED"==tkn_common.user_already_seen&&c.indexOf(i)===-1)&&"1"==g.data("already_seen_removal")){var j=n(h,f);j>0&&(d[i]=j)}else o(h,f)}}),b.isEmptyObject(d)||p(d)}function n(a,c){var d=a.children().filter(function(){return c.indexOf(b(this).data("post_id"))!==-1&&!b(this).data("already_seen")&&(b(this).data("already_seen",1),!0)}),e=d.length;return d.remove(),e}function o(a,c){var d=q();a.children().filter(function(){var a=b(this);return!a.find(".video_item_already_seen").length&&c.indexOf(a.data("post_id"))!==-1&&!a.data("already_seen")&&(a.data("already_seen",1),!0)}).find("a.video_thumbnail, a.video_item_thumbnail").append(d)}function p(a){var c=tkn_loader.show_loader;tkn_loader.show_loader=!1;for(var d in a){var e=b('[data-loader_name="'+d+'"]'),f=e.find(".js_loader_more_btn");tkn_loader.load_more(f,{quantity:a[d],collect_stats:e.data("collect_stats"),collect_ctr_rt_stats:e.data("collect_ctr_rt_stats"),adapt_containers:!1,callback:function(){if(0===b(".js_upload_btn").length)return!1;var a=e.find(".js_entity_container").children().last();b(".js_upload_btn").prependTo(a)}})}tkn_loader.show_loader=c}function q(){var a=tkn_common.already_seen.template_text,b='<div class="video_already_seen_bg"></div>',c='<div class="video_item_already_seen">'+a+"</div>";
return b+c}function r(a,e){j(e),b.each(a,function(a,b){"story"==e?d(b.id):c(b.id)}),"story"==e?l(".story_grid_wrapper"):m()}function s(){z||("undefined"!=typeof tkn_common.save_user_preferences.enabled&&tkn_common.save_user_preferences.enabled!==!1&&tkn_common.save_history.enabled()!==!1||(A=!1),A||j(),k(),k("story"),m(),l(".story_grid_wrapper"),z=!0,b("body").trigger("tkn:already_seen_parsed"))}var t="already_collection",u=1,v="already_collection_story",w=1,x=[],y=[],z=!1,A=!0;return b(document).one("tkn:js_ready",function(){s()}),b("body").on("tkn_already_seen:check_elements",function(a,b,c){m(b),"function"==typeof c&&c()}),b("body").on("tkn_already_seen:check_story_elements",function(a,b,c){l(b),"function"==typeof c&&c()}),b("body").on("tkn_already_seen:reset",function(){j()}),{init:s,add_seen_video:c,add_seen_story:d,get_collection:k,reset:j,synchronize:r,remove_item:g}}(tkn_already_seen||{},jQuery);if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+jQuery),+jQuery),+jQuery);var tkn_casting=function(a,b){function c(){var a="casting_popup",b=amplify.store(a);if("undefined"!=typeof b&&b)return!0;var c=432e5;amplify.store(a,!0,{expires:c}),d()}function d(){}function e(a){var c=a.clone();c.find('input[type="file"]').attr("name","photo["+b('input[type="file"]').length+"]"),c.find('input[type="text"]').val(""),c.find('input[type="text"]').attr("name","photo_name_"+b(".casting_photo_upload input.photo").length),a.after(c),i()}function f(a){a.validate({rules:{"female[name]":{required:!0},"female[dob]":{required:!0},email:{required:!0,email:!0},telephone:{required:!0},photo_name_0:{required:!0},message:{required:!0},user_overage:{required:!0}},messages:{"female[name]":{required:tkn_common.casting.msg_name_required},email:{required:tkn_common.casting.msg_email_required,email:tkn_common.casting.msg_email_invalid},telephone:{required:tkn_common.casting.msg_telephone_required},photo_name_0:{required:tkn_common.casting.msg_photo_required},message:{required:tkn_common.casting.msg_message_required},user_overage:{required:tkn_common.casting.msg_overage_required}},submitHandler:function(a){var c="#js_recaptcha_casting";return b(c).off("g-callback").bind("g-callback",function(){g(a)}),tkn_recaptcha_helper.execute_recaptcha(c),!1}})}function g(a){var a=b(a);a.find('input[name="gender"]').remove(),a.append(b("<input/>").attr("type","hidden").attr("name","gender").val(b('input[name="gender"]:checked').val()));var c=a.serialize();b.ajax({url:a.attr("action"),dataType:"json",type:"post",tknScope:"casting",data:c,beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(.fail(function(a){b("body").trigger("message:error",a.message)}).always(function(){b("body").trigger("loader:close")})}function h(a,c){if(c.files&&c.files[0]){var d=new FileReader;d.onload=function(d){var e=b(c).attr("name"),f="uri_"+e;b(f).remove();var g=b("<input/>");g.attr("name",f).attr("type","hidden").val(d.target.result),a.append(g)},d.readAsDataURL(c.files[0])}}function i(){b('input[name="gender"]').off("change").on("change",function(){var c=b(this).attr("value");b("form.casting_submission").each(,a["_show_"+c+"_form"]()}),b(".upload_file").off("click").on("click",,b('input[type="file"]').off("change").on("change",function(a){var c=b(this).parent().find('input[class*="photo"]');if(c.val(b(this)[0].files[0].name),h(b(this).parents("form"),this),b('input[type="file"]').length>=(tkn_common.casting_max_photo_inputs||3))return!1;var d=b(".casting_generic_form").validate();d.element(c),e(c.parents(".casting_photo_upload"))}),b(".datepicker").datepicker({format:"yyyy-mm-dd",startView:"decade",endDate:"-18y",startDate:"01-10-1949"}),b("form").each(function(a,c){f(b(c))})}return a.trigger_modal=function(){var a=document.referrer;a.indexOf("casting")!==-1&&a.indexOf(location.hostname)===-1&&d(),!tkn_is_mobile.is_mobile()&&"undefined"!==tkn_common.show_casting_daily&&tkn_common.show_casting_daily&&c(),b(".js_trigger_casting_modal").on("click",function(a){d(),b(document).scrollTop(0),a.preventDefault()})},a.toggle_casting_modal=function(){var a=b(".casting_modal_wrapper");a.is(":visible")?a.hide():(d(),b("body").scrollTop(0))},a.init=function(){i()},a._show_male_form=a._show_female_form=function(){b('form.casting_submission [data-form_type="female"]').removeClass("hidden"),b('form.casting_submission [data-form_type="couple"]').addClass("hidden"),b(".casting_male_form").addClass("hidden"),b(".casting_generic_form").removeClass("hidden")},a._show_couple_form=a}(tkn_casting||{},jQuery);$("body").one("tkn:js_ready",function(){tkn_casting.trigger_modal()});var tkn_categories=function(a,b){function c(a){if("undefined"!=typeof a.id&&"undefined"!=typeof a.main_category_id&&"undefined"!=typeof a.categories){h(),u.length+1>w&&(u=_.chain(u).sortBy(["views"]).reverse().initial().value());var b=d(a.id,a.main_category_id);return"undefined"==typeof b&&(a.views=a.views||0,u.push(a)),f()}}function d(a,b){return _.find(u,}function e(a,b){return u=_.reject(u,{id:a,main_category_id:b}),f()}function f(){try{var a={};return a["v_"+t]=u,amplify.store(s,a),!0}catch(b){}}function g(){try{return amplify.store(s,null),!0}catch(a){}}function h(){var a=amplify.store(s)||{};return"undefined"==typeof a["v_"+t]?q():u=a["v_"+t],u}function i(a,b,c){A&&(c=c||1,k(a,b,c))}function j(a,b,c){A&&(c=c||1,c=-Math.abs(c),k(a,b,c))}function k(a,b,g){var h=l(a);b=parseInt(b),g=parseInt(g);var i={id:h,main_category_id:b,categories:a},j=d(h,b);if("undefined"==typeof j){var k=c(i);if("undefined"==typeof k)return;j=d(h,b)}j.views+=g,j.views<=0&&e(h,b),f(),m()}function l(a){var c=[];return b.each(a,,c.sort().join("_")}function m(){if(u.length<=0)return void b(x).hide();var a=tkn_common.categories.main_category_active||1,c=_.chain(u).filter({main_category_id:a}).sortBy(["views","id"]).reverse().slice(0,v).value();if(c.length<=0)return void b(x).hide();b(y).html("");var d="";B=0;for(var e in c){var f=c[e],g=n(f);d+=g}b(y).append(d),b(x).show(),tkn_sticky.updateSticky()}function n(a){if("undefined"!=typeof a){var c="",d="/"+tkn_common.urls_by_site.channels;if(b.each(a.categories,,a.categories.length>1){B++;var e=tkn_common.categories.bundle_category_text+" "+B,f=b.map(a.categories,,g=f.join(" + ");c='<span rel="nofollow" class="sidebar_section_item js_category_tip_trigger obfs_delayed" onclick="tkn_categories.sidebar_category_click(event, this)" data-obfs="'+utf8_to_b64(d)+'" data-text="'+g+'"><i class="icon icon-sidebar_multicategories"></i>'+e+'<div class="sidebar_bundle_category js_category_tip_bundle">'+g+"</div></span>"}else if(a.categories.length){var h=a.categories[0].name;c='<span class="sidebar_section_item obfs_delayed" onclick="tkn_categories.sidebar_category_click(event, this)" data-obfs="'+utf8_to_b64(d)+'" data-text="'+h+'">'+h+"&nbsp;</span>"}return c}}function o(a,b){obfscallback.bind(b)()}function p(){z||(tkn_common.localstorage_limits.categories&&(w=tkn_common.localstorage_limits.categories),A||q(),h(),m(),z=!0)}function q(){g(),m()}function r(a){q(),b.each(a,function(a,b){if(typeof b.categories.constructor!==Array){var c=[{category_id:b.categories.category_id,name:b.categories.name,slug:b.categories.slug}];b.categories=c}i(b.categories,b.main_category_id,b.views)})}var s="categories_collection",t=1,u=[],v=10,w=100,x=".js_favorites_categories_wrapper",y=".js_favorites_categories_container",z=!1,A=!0;"undefined"!=typeof tkn_common.save_user_preferences.enabled&&tkn_common.save_user_preferences.enabled!==!1&&tkn_common.save_history.enabled()!==!1||(A=!1);var B=0;return{init:p,increase_view_category:i,decrease_view_category:j,get_collection:h,reset:q,synchronize:r,sidebar_category_click:o}}(tkn_categories||{},jQuery);$(document).one("tkn:js_ready",function(){tkn_categories.init();var a=!0;$("body").on("touchstart touchmove touchenter touchleave",".js_category_tip_trigger",function(b){b.stopImmediatePropagation();var c=$(this).attr("href");"undefined"!=typeof c&&(a=!1,window.location.href=c)}),$("body").on("mouseover mousemove",".js_category_tip_trigger",function(b){if(a){var c=$(this).find(".js_category_tip_bundle");if(!(c.length<=0)){var d=b.clientX+30,e=b.clientY-2;c.css("position","fixed"),c.css("left",d),c.css("top",e),c.show()}}}),$("body").on("mouseleave",".js_category_tip_trigger",function(){a&&$(this).find(".js_category_tip_bundle").hide()})});var celeb_favorites=function(a,b){function c(a,b){if(g(),!e(a,b))return"undefined"!=typeof z[a]?z[a].length+1>y&&(z[a]=_.tail(z[a])):z[a]=[],z[a].push(b),h()}function d(a,b){return"undefined"!=typeof z[a]&&_.find(z[a],}unction f(a,b){return!("undefined"==typeof z[a]||(z[a]=_.remove(z[a],,!h()))&&(l(a,b,!0),!0)}function g(){var a=amplify.store(w)||{};return"undefined"==typeof a["v_"+x]?i():z=a["v_"+x],z}function h(){try{var a="v_"+x,b={};return b[a]=z,amplify.store(w,b),!0}catch(c){}}function i(){try{amplify.store(w,null),z={}}catch(a){}}function j(a){return"undefined"!=typeof z[a]?z.length:0}function k(){A||("undefined"!=typeof tkn_common.save_user_preferences.enabled&&tkn_common.save_user_preferences.enabled!==!1||(B=!1),y=tkn_common.localstorage_limits.celebrity_favorites||200,B||i(),g(),A=!0)}function l(a,c,d){var e=".js_favorite_"+a,f=".favorite_"+a+"_"+c,g=b(e+f);d?g.removeClass("is_favorite"):g.addClass("is_favorite")}unction n(a,c,d,e){"undefined"==typeof e&&(e="likes");var f=tkn_common.url.add_remove_celebrity_stats,g={type:e,entity_id:c,entity_type:a,dir:d};return b.ajax({url:f,dataType:"json",type:"post",data:g,tknScope:"favorites",beforeSend:function(){"views"!==e&&b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){if("views"!==e){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:success",c)}}).fail(function(a){if("views"!==e){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}}).always(function(){"views"!==e&&b("body").trigger("loader:close")})}function o(a,c){var d=tkn_common.url.add_celebrity_favorite,e={entity_id:c,entity_type:a,token:tkn_common.get_token()};return b.ajax({url:d,dataType:"json",type:"post",data:e,tknScope:"favorites",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:success",c)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function p(a,c){var d=tkn_common.url.remove_celebrity_favorite,e={entity_id:c,entity_type:a};return b.ajax({url:d,dataType:"json",type:"post",data:e,tknScope:"favorites",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function q(a,c){var d=tkn_common.url.render_celebrity_favorites[a],e=_.filter(z,{type:a});if(0!=e.length){var f={};return f.entity_ids=[],b.each(_.chain(e).reverse().filter({type:a}).value(),function(a,b){f.entity_ids[a]=b.id}),f.entity_type=a,f.add_remove_btn=!0,f.container_type=c,b.ajax({url:d,dataType:"json",type:"post",data:f,tknScope:"favorites",beforeSend:function(){b("body").trigger("loader:show")}}).always(function(){b("body").trigger("loader:close")})}}function r(a,d){return b.Deferred(function(b){if(B&&!e(a,d))if(tkn_common.user_id){var f=o(a,d);f.done(function(e){e.success&&c(a,d)&&(l(a,d,!1),n(a,d,1),b.resolve())}).fail(function(){b.reject()})}else{if(!c(a,d))return;n(a,d,1),l(a,d,!1),b.resolve()}}).promise()}function s(a,b,c){if(B)if(tkn_common.user_id){var d=p(a,b);d.done(function(c){c.success&&f(a,b)&&n(a,b,-1)})}else{if(!f(a,b))return;n(a,b,-1)}}function t(a,c){var d=c.slice(4),e=q(a,d);"undefined"!=typeof e&&e.done(function(d){if(d.success){var e=b(c).data("after_load_class");b(c).html(d.data),e&&b(c).addClass(e),"photo"!==a&&"gallery"!==a||tkn_gallery_photo.rebind_events(),tkn_loader.remove_elements_placeholder_height(c),lazy_loading(c)}})}function u(a,b){return!B||e(a,b)?(l(a,b,!1),!0):(l(a,b,!0),!1)}function v(a){i(),b.each(a,}var w="celeb_favs_collection",x=1,y=200,z={},A=!1,B=!0;return{init:k,add_favorite:r,remove_favorite:s,get_collection:g,reset:i,get_favorites_number:j,render_favorites:t,check_favorites_disable:u,synchronize:v,save_view:m}}(tkn_favorites||{},jQuery);$(document).one("tkn:js_ready",function(){tkn_favorites.init()}),function(a){a(document).on("tkn:js_ready",function(){a(".js_change_main_category_trigger").on("click",function(){a(".js_change_main_category_trigger").prop("disabled",!0);var b=a(this).val()|a(this).data("main_category_id"),c=a(this).data("main_category_url");"undefined"==typeof c&&(c="");var d=a(this).data("force_current_page");"undefined"==typeof d&&(d=!1);var e=a(this).data("goto_section_after_reload");b=parseInt(b);var f=tkn_common.categories.main_category_active;if(f!==b){var g=JSON.parse(tkn_common.main_category_selection_redirect_patterns),h={};h.main_category_id=b,a.ajax({url:tkn_common.url.set_main_category,dataType:"json",type:"post",tknScope:"change_main_category",data:h,beforeSend:function(){a("body").trigger("loader:show")}}).done(function(f){var h=decodeURIComponent(window.location.pathname);if("home"==tkn_common.current_page)return void(window.location.pathname="/"+c);var i=!1;d||a.each(g[b],function(a,b){if(!i){var c=new RegExp(a);return c.test(h)?(i=!0,void(window.location.pathname=b)):void 0}}),e="undefined"!=typeof e&&"#"+e,e&&(window.location.hash=e),i||window.location.reload(!0)}).always(function(){d||a("body").trigger("loader:close"),a("html, body").scroll})}}),a(".js_change_search_main_category").on("click",function(){var b=a(this).val(),c="icon-ic_16_head_ot_"+b,d=a(".search_wrapper .btn_dropdown i").attr("class").split(" ")[1],e=c;a(".search_wrapper .btn_dropdown i").removeClass(d).addClass(e),a('form[class="search js_search_form_container"] input[name="main_category_id"]').val(b);var f=a(this).data("placeholder");if(a(".js_search_placeholder")[0].placeholder=f,0==b)var g=a('form[class="search js_search_form_container"]').data("action_alt");else var g=a('form[class="search js_search_form_container"]').data("action_default");a('form[class="search js_search_form_container"]').attr("action",g)}),a(".js_change_sidebar_search_main_category").on("click",function(){a("body").trigger("loader:show"),a(this).attr("disabled","disabled");var b=a(this).val(),c=a(this).data("query"),d={};d.main_category_id=b,d.query=c,a('form[class="search js_search_form_container"] input[name="main_category_id"]').val(b),a('form[class="search"] input[name="query"]').val(c),a('form[class="search"]').submit()})})}(jQuery);var tkn_comments=function(a,b){function c(a,c,e,g,h){if(J=h?h+" ":"",e="undefined"==typeof e||e,g="undefined"!=typeof g&&g,!e||B){if("undefined"==typeof a)return!1;if("undefined"==typeof c)return!1;z=a,A=c,C=tkn_common.comments.comments_n_initial||5,D=0,(e||g)&&f({},null,!0).done(function(a){d()}),b(".js_new_comment").off("click").on("click",function(){var a=".js_new_comment_recaptcha";b(a).off("g-callback").bind("g-callback",function(){p()}),tkn_recaptcha_helper.execute_recaptcha(a)}),b(".js_submit_comment_report_modal").off("click").on("click",function(a){var c=b(this).closest("form"),d={},e=c.serializeArray();return b.each(e,,"other"==d.report_option&&""==d.report_comment?void b("body").trigger("message:error",tkn_common.general_error_message):void i(d)})}}function d(){b(J+".js_comment_report").off("click").on("click",j),b(J+".js_comment_vote_up").off("click").on("click",k),b(J+".js_comment_vote_down").off("click").on("click",l),b(J+".js_comment_delete").off("click").on("click",n),b(J+".js_comments_load_more").off("click").on("click",q),b(J+".js_comment_timestamp").off("click").on("click",function(){var a=parseInt(b(this).data("tagpos"));return a&&tkn_post.sendPostMessage.seek_video(a,null,!0),!1}),b(J+".js_comment_new_reply").off("click").on("click",function(){b("body").trigger("loader:show");var a=b(this).parents("[data-comment_id]"),c=(a.find(".js_new_reply_input"),a.data("comment_id")),d=this,e=".js_reply_comment_recaptcha_"+c;b(e).off("g-callback").bind("g-callback",,tkn_recaptcha_helper.execute_recaptcha(e)}),b(J+".js_comment_show_replies").off("click").on("click",function(){e(!0,b(this)),loadEmojis()}),b(J+".js_comment_load_more_replies").off("click").on("click",function(){e(!1,b(this))}),r(),t(),x()}function e(a,c){var e=b(c).parents("[data-comment_id]"),g=e.find(".comment_replies"),h=g.is(":visible")||g.text().length>0;if(""==tkn_common.user_id&&b("body").trigger("recaptcha:show:reply_comment",e.data("comment_id")),a&&(h||e.find(".comment_show_replies").length<1))return u(e,g);var i={entity_id:e.data("comment_id"),entity_type:"comment",offset:g.children().length||0,order_by_popularity:0};f(i,function(b){g.append(b.data.content),d(),b.data.has_more===!1&&e.find(".js_comment_load_more_replies").hide(),a&&u(e,g)})}function f(a,c,d){"undefined"==typeof d&&(d=!1);var e={name:tkn_common.comments.container_name,entity_id:z,entity_type:A,offset:D,quantity:C,parse_timestamp:"post"==A,enc_url:btoa(document.location.href),max_timestamp:G};return"undefined"!=typeof a&&b.extend(e,a),L?b.Deferred(function(a){a.resolve()}):b.ajax({url:tkn_common.url.get_comments,type:"POST",data:e,tknScope:"comments",dataType:"json",beforeSend:function(){L=!0,K||b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){return"function"==typeof c?c(a):(d&&b(J+".js_comments_wrapper").html(""),void b(J+".js_comments_wrapper").append(a.data.content))}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.comments.msg_get_comments_failed;b("body").trigger("message:error",c)}).always(}function g(a){return b(a).parentsUntil(".js_comments_wrapper","[id^=comment_]").data("comment_id")}unction i(a){var a={comment_id:a.comment_id,report_option:a.report_option,report_comment:a.report_comment};return b.ajax({url:tkn_common.url.report_comment_modal,type:"POST",data:a,dataType:"json",tknScope:"comments",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){b("body").trigger("message:success",a.message),b("body").trigger("modal:close",[".js_comment_report_modal_wrapper"])}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.comments.msg_report_comment_failed;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function j(){var a="undefined"!=typeof tkn_common.translation?tkn_common.translation.reason:"Reason",c=prompt(a);if(c){var d=g(this),e={comment_id:d,reason:c};return b.ajax({url:tkn_common.url.report_comment,type:"POST",data:e,dataType:"json",tknScope:"comments",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){b("body").trigger("message:success",a.message)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.comments.msg_report_comment_failed;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}}function k(){var a=g(this),c=b(this);m(a,"votes_up").done(function(a){var b=c.find(".js_comment_vote_up_txt"),d=parseInt(b.html()),e=d+1;b.html(e)})}function l(){var a=g(this),c=b(this);m(a,"votes_down").done(function(a){var b=c.find(".js_comment_vote_down_txt"),d=parseInt(b.html()),e=d+1;b.html(e)})}function m(a,c){var d={comment_id:a,comment_vote_type:c,entity_id:z,entity_type:A};return b.ajax({url:tkn_common.url.vote_comment,type:"POST",data:d,dataType:"json",tknScope:"comments",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){b("body").trigger("message:success",a.message)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.comments.msg_vote_comment_failed;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function n(){var a=h(this),c=a.comment_id,d={comment_id:c,entity_id:z,entity_type:A,parent_entity_id:a.parent_entity_id,parent_entity_type_id:a.parent_entity_type_id,token:tkn_common.get_token()};return b.ajax({url:tkn_common.url.delete_comment,type:"POST",data:d,dataType:"json",tknScope:"comments",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(d){b("body").trigger("message:success",d.message),b("#comment_"+c).remove(),a.is_child||s(E-1),x()}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.comments.msg_delete_comment_failed;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function o(a){"undefined"==typeof a&&(a=this);var c=b(a).parents("[data-comment_id]"),e=c.find(".js_new_reply_input"),f=c.data("comment_id"),g={entity_id:f,entity_type:"comment",comment:e.val(),type:"reply_comment",parent_entity_id:c.data("parent_entity_id"),parent_entity_type:A,parse_timestamp:"post"==A,enc_url:btoa(document.location.href),max_timestamp:G,token:tkn_common.get_token()};p(g,function(a){c.find(".comment_replies").append(a.data.comment),e.val(""),d()}),b("body").trigger("recaptcha:reset:reply_comment",f)}function p(a,c){if(!I){I=!0;var e={entity_id:z,entity_type:A,comment:b(J+".js_new_comment_input").val(),"g-recaptcha-response":"",parse_timestamp:"post"==A,enc_url:btoa(document.location.href),max_timestamp:G,token:tkn_common.get_token()};"object"==typeof a&&b.extend(e,a);var f=e.type||"new_comment",g=tkn_recaptcha_helper.get_response(f,e.entity_id);return"undefined"==typeof g?""==tkn_common.user_id&&b("body").trigger("message:error",tkn_common.recaptcha.msg_invalid_captcha):e["g-recaptcha-response"]=g,b.ajax({url:tkn_common.url.add_comment,type:"POST",data:e,dataType:"json",tknScope:"comments",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){var e="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;if(b("body").trigger("message:success",e),"function"==typeof c)return c(a);var f=a.data.comment,g=b(J+".js_comments_wrapper"),h=g.find(".comment_highlighted");h.length<=0?g.prepend(f):h.last().after(f),b(J+".js_new_comment_input").val(""),s(E+1),x(),d(),tkn_common.recommender.recommender_feature_enabled&&"post"==A&&tkn_post.recommender_event(z,"commented",!1)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.comments.msg_add_comments_failed;b("body").trigger("message:error",c)}).always(function(a){b("body").trigger("loader:close"),I=!1})}}function q(a){C=tkn_common.comments.comments_n_load_more||5,D=b(J+".js_comments_wrapper").children().length,f().done(function(){d(),t()})}function r(){E=b(J+".js_comments_total").data("comments_total")||0,E>0&&b(J+".js_comments_total").removeClass("hidden")}function s(a){E=a,E>0&&b(J+".js_comments_total").removeClass("hidden");var c=E>0?E:"";b(J+".js_comments_total").html(c),b(J+".js_comments_total").data("comments_total",E)}function t(){var a=b(J+".js_comments_wrapper").children().length;F=E-a,F<=0?w(!1):(w(!0),b(J+".js_comments_load_more .js_comments_load_more_txt").html("&nbsp;("+F+")"))}function u(a,c){var d=a.find(J+".comment_reply_wrapper"),e=d.is(":visible");d.slideToggle(200);var f,g,h=b(a.find(J+".comment_show_replies")[0]);e?(f=c.children().length>1?tkn_common.comments.show_replies_plural:tkn_common.comments.show_replies_singular,g="expand"):(f=c.children().length>1?tkn_common.comments.hide_replies_plural:tkn_common.comments.hide_replies_singular,g="collapse"),h.find("span").text(f),h.find("i").attr("class","icon icon-ic_16_upro_"+g)}function v(){H?(H=!1,w(!1)):(H=!0,w(!0))}function w(a){F<=0&&(a=!1),a?(b(J+".js_comments_load_more").removeClass("invisible"),b(J+".js_comments_load_more").parent(".load_more_wrapper").removeClass("nomore")):(b(J+".js_comments_load_more").addClass("invisible"),b(J+".js_comments_load_more").parent(".load_more_wrapper").addClass("nomore"))}function x(){E>0?b(J+".js_comments_section_wrapper").show():b(J+".js_comments_section_wrapper").hide()}function y(a){a?b(a+" .js_comments_wrapper").html(""):b(".js_comments_wrapper").html("")}var z,A,B=!0,C=0,D=0,E=0,F=0,G=0,H=!1,I=!1,J="",K=!1,L=!1;return b(document).one("tkn:js_ready",function(){if(b(".js_activate_comments").on("click",function(){var a="undefined"!=typeof b(this).data("entity_id")?b(this).data("entity_id"):tkn_common.comments.entity_id,d="undefined"!=typeof b(this).data("entity_type")?b(this).data("entity_type"):tkn_common.comments.entity_type;
G=tkn_common.comments.max_timestamp,B?(c(a,d),""==tkn_common.user_id&&b("body").trigger("recaptcha:show:new_comment"),loadEmojis(),B=!1):c(a,d,!1,!0,!1),v()}),"undefined"!=typeof tkn_common.comments&&tkn_common.comments.preload_comments){var a=tkn_common.comments.entity_id,d=tkn_common.comments.entity_type;G=tkn_common.comments.max_timestamp,K=!0,c(a,d),K=!1,B=!0}}),{init:c,bind_events:d,clear_comments:y}}(tkn_comments||{},jQuery);$(document).one("tkn:js_ready",function(){window.adblock_disabled=adblock_is_disabled(),$(".js_user_feed").on("click",".js_thumb_to_video",thumb_to_video_listener),$(".js_toggle_container_btn").on("click",function(){toggleElement(this)})});var tkn_content_partner=function(a,b){function c(a){a.validate({rules:{partner_type:{required:!0},partner_site_name:{required:!0},partner_site_address:{required:!0},main_category_id:{required:!0}},messages:{partner_type:{required:"*Required"},partner_site_name:{required:"*Required"},partner_site_address:{required:"*Required"},main_category_id:{required:"*Required"}},submitHandler:)}function d(a){var a=b(a),c=a.serialize();b.ajax({url:a.attr("action"),dataType:"json",type:"post",data:c,tknScope:"content_partner",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){b(".content_partner_form_wrapper").hide(),b(".content_partner_feedback_wrapper").removeClass("hidden"),b("body").trigger("message:success",a.message)}).fail(.always(function(){b("body").trigger("loader:close")})}function e(){b("form#submit_partner_proposal").each(}return a.init=function(){e()},a}(tkn_content_partner||{},jQuery),tkn_ctr=function(a,b){nction e(){"undefined"!=typeof tkn_common.async_ctr_to_collect&&jQuery.ajax(tkn_common.ctr_stats.save_ctr_displays_url,{method:"POST",data:{ctr_stats:tkn_common.async_ctr_to_collect}})}function f(){if(!h(tkn_common.ctr_stats.check_cookie_name)){var a=!!window.chrome&&!!window.chrome.webstore;if(g(tkn_common.ctr_stats.check_cookie_name,1,1),!a){if(random_num=Math.floor(100*Math.random()),random_num<tkn_common.ctr_stats.percentage&&(g(tkn_common.ctr_stats.enable_cookie_name,1,1),"undefined"!=typeof tkn_common.recommender.recommender_feature_enabled&&tkn_common.recommender.recommender_feature_enabled))if(tkn_common.user_id)g(tkn_common.recommender.cookie_name,"user_"+tkn_common.user_id,1);else{var b=d();g(tkn_common.recommender.cookie_name,"annon_"+b,1)}random_num<tkn_common.ctr_stats.percentage_cat&&g(tkn_common.ctr_stats.enable_cat_cookie_name,1,1),random_num<tkn_common.ctr_stats.percentage_gallery&&g(tkn_common.ctr_stats.enable_gallery_cookie_name,1,1)}}}turn{init:c}}(tkn_ctr||{},jQuery);$(document).one("tkn:js_ready",function(){tkn_ctr.init()});var tkn_dropdown_filter=function(a,b){function c(a){e={};var c=b(b(a).data("parent"));c.find(".dropdown_menu_item").each(,c.find("input:checkbox").prop("checked",!1),b(b(a).data("parent")).find(".panel-collapse.in").collapse("hide")}function d(){b(".filter_by_multiple_filters").on("click",,b(".multi_filter_btn").on("click",function(a){a.preventDefault(),a.stopPropagation(),b(b(this).data("target")).hasClass("in")?b(b(this).data("target")).collapse("hide"):(b(".panel-collapse").collapse("hide"),b(b(this).data("parent")).find(".in").collapse("hide"),b(b(this).data("target")).collapse("show"))}),b(".dropdown_menu").on("click",,b(".filter_by_multiple_filters").each(function(a,c){0==b(c).find(".filter_item").length&&b(c).hide()}),b(".filter_by_multiple_filters input").on("click",function(a){var c,d=b(a.currentTarget),g=d.attr("value"),h=d,i=d.attr("name");return e.hasOwnProperty(i)?(c=e[i].indexOf(g))>-1?(e[i].splice(c,1),setTimeout(function(){h.prop("checked",!1)},0),d.parents("label").removeClass("active")):(e[i].push(g),setTimeout(function(){h.prop("checked",!0)},0),d.parents("label").addClass("active"),d.parents("div.panel-title").addClass("has_selections")):(f.push(g),setTimeout(0),d.parents("label").addClass("active"),e.filter_name,e[i]=f,f=[]),!1}),b(".panel").on("show.bs.collapse",.on("hide.bs.collapse",,b(".filter_btn.clear_filters").on("click",,b(".filter_btn.apply_filters").on("click",function(a){a.stopPropagation(),a.stopImmediatePropagation();for(var c in e)0==e[c].length&&delete e[c];tkn_loader.apply_multi_filter(this,e),b(this).parents(".filter_by_multiple_filters").removeClass("open")}),b(".js_gallery_tag_wrapper").on("click",function(){b("body").trigger("modal:show",[".js_gallery_tag_wrapper.dropdown_menu"])})}var e={},f=[];return a.init=function(){d()},a}(tkn_dropdown_filter||{},jQuery);$("body").one("tkn:js_ready",function(){tkn_dropdown_filter.init()});var tkn_favorites=function(a,b){function c(a){if("undefined"!=typeof a.id&&"undefined"!=typeof a.type&&(g(),!e(a)))return x.length+1>w&&(x=_.tail(x)),x.push(a),h()}function d(a){return _.find(x,}function e(a){return"undefined"!=typeof d(a)}function f(a){return x=_.remove(x,,h()}function g(){var a=amplify.store(u)||{};return"undefined"==typeof a["v_"+v]?i():x=a["v_"+v],x}function h(){try{var a={};return a["v_"+v]=x,amplify.store(u,a),!0}catch(b){}}function i(){try{amplify.store(u,null),x=[]}catch(a){}}unction k(){y||("undefined"!=typeof tkn_common.save_user_preferences.enabled&&tkn_common.save_user_preferences.enabled!==!1||(z=!1),w=tkn_common.localstorage_limits.favorites||200,z||i(),g(),y=!0)}function l(a){var c=b(".js_favorite_post");a?c.removeClass("video_favorite"):c.addClass("video_favorite")}function m(a){var c=tkn_common.url.add_favorite,d={entity_id:a.id,entity_type:a.type,token:tkn_common.get_token()};return b.ajax({url:c,dataType:"json",type:"post",data:d,tknScope:"favorites",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function n(a){var c=tkn_common.url.remove_favorite,d={entity_id:a.id,entity_type:a.type};return b.ajax({url:c,dataType:"json",type:"post",data:d,tknScope:"favorites",beforeSend:function(){b("body").trigger("loader:show")}}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).fail(function(a){var c="undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error",c)}).always(function(){b("body").trigger("loader:close")})}function o(a,c){var d=tkn_common.url.render_favorites[a],e=_.filter(x,{type:a});if(0!=e.length){var f={};return f.entity_ids=[],b.each(_.chain(e).reverse().filter({type:a}).value(),,f.entity_type=a,f.add_remove_btn=!0,f.container_type=c,b.ajax({url:d,dataType:"json",type:"post",data:f,tknScope:"favorites",beforeSend:function(){b("body").trigger("loader:show")}}).always(function(){b("body").trigger("loader:close")})}}function p(a,d){return b.Deferred(function(f){if(z){var g={id:a,type:d};if(!e(g)){if(tkn_common.user_id){var h=m(g);h.done(function(a){a.success&&c(g)&&(b("body").trigger("favorites:increment"),l(!1),f.resolve())}).fail(function(){f.reject()})}else{if(!c(g))return;b("body").trigger("favorites:increment"),l(!1),f.resolve()}tkn_common.recommender.recommender_feature_enabled&&"post"==d&&tkn_post.recommender_event(a,"favorited",!1)}}}).promise()}function q(a,c,d){if(z){var e={id:a,type:c};if(tkn_common.user_id){var g=n(e);g.done(function(c){c.success&&f(e)&&(b("body").trigger("favorites:decrement"),"undefined"!=typeof d&&b(d+" [id$="+a+"]").remove())})}else{if(!f(e))return;b("body").trigger("favorites:decrement"),b(d+" [id$="+a+"]").remove()}}}function r(a,c){var d=c.slice(4),e=o(a,d);"undefined"!=typeof e&&e.done(function(d){if(d.success){var e=b(c).data("after_load_class");b(c).html(d.data),e&&b(c).addClass(e),"photo"!==a&&"gallery"!==a||tkn_gallery_photo.rebind_events(),tkn_loader.remove_elements_placeholder_height(c),lazy_loading(c)}})}function s(a,b){var c={id:a,type:b};return!z||e(c)?(l(!1),!0):(l(!0),!1)}function t(a){i(),b.each(a,function(a,d){b.each(d,function(b,d){var e={id:d,type:a};c(e)})})}var u="favorites_collection",v=1,w=200,x=[],y=!1,z=!0;return{init:k,add_favorite:p,remove_favorite:q,get_collection:g,reset:i,get_favorites_number:j,render_favorites:r,check_favorites_disable:s,synchronize:t}}(tkn_favorites||{},jQuery);$(document).one("tkn:js_ready",,$(document).one("tkn:js_ready",function(){update_suggestion_more_btn(!0),$(".js_suggestion_label").on("click",}),addEventListener("DOMContentLoaded",init);var tkn_history=function(a,b){function c(a,b,c,e){if(F){var f={id:a,url:b,title:c,thumbnail:e},g=d(f);"undefined"!=typeof g&&i()}}function d(a){if("undefined"!=typeof a.id&&"undefined"!=typeof a.url&&"undefined"!=typeof a.title&&"undefined"!=typeof a.thumbnail){h();var b=f(a.id);return"undefined"!=typeof b&&e(a.id),A.unshift(a),A=A.slice(0,B),g()}}function e(a){return A=_.reject(A,{id:a}),g()}function f(a){return _.find(A,}function g(){try{var a={};return x=A,a["v_"+z]=x,amplify.store(y,a),!0}catch(b){}}unction i(){if(A.length<=0)return void b(C).remove();b(D).html("");for(var a in A){var c=A[a],d=j(c.thumbnail),e='<span class="sidebar_section_item js_tip_trigger obfs" data-obfs="'+utf8_to_b64(c.url)+'" title="'+c.title+'" data-thumbnail="'+d+'">'+c.title+"</span>";b(D).append(e)}b(C).show(),tkn_sticky.updateSticky()}function j(a){var b=tkn_common.history.thumb_size||"120x68",c=a.split("/");return c[7]=b,c.join("/")}function k(){E||("undefined"!=typeof tkn_common.save_user_preferences.enabled&&tkn_common.save_user_preferences.enabled!==!1&&tkn_common.save_history.enabled()!==!1||(F=!1),B=tkn_common.localstorage_limits.history||B,F||l(),h(),i(),E=!0,t())}function l(){I(),A=[],i()}function m(a){l(),b.each(a,function(a,b){c(b.id,b.url,b.title,b.thumbnail)})}function n(a,c){return"undefined"!=typeof c.post_ids&&0===c.post_ids.length||"undefined"!=typeof c.content&&0===c.content.length?(a.find(".js_entity_container > div").html(tkn_common.load_more.no_history).addClass("align_center"),!1):(b(".js_clear_history_btn").show(),c.has_more?a.find(".js_loader_more_btn").removeClass("invisible"):a.find(".js_loader_more_btn").addClass("invisible"),!0)}function o(){var a="/user/set_save_history",c=F?0:1;return b.ajax({url:a,type:"POST",tknScope:"history",data:{save_history:c}}).then(function(a){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).done(function(a){b("body").trigger("message:success",a.message),F=c,p(),F||l()}).fail(function(a){var c=a.message||tkn_common.general_error_message;b("body").trigger("message:error",c)})}function p(){b(".js_save_history_btn").data("history_enabled",F);var a=F?"disable_text":"enable_text";b(".js_save_history_btn_text").html(b(".js_save_history_btn_text").data(a))}function q(a){var c={container:"",append:!1,local:!0,user_id:null};b.extend(c,a);var d=a.local?s():r(a.container,a.user_id);if(a.local&&!n(a.container,d))return!1;var e={entity_type:"post",entity_ids:d.post_ids,add_remove_btn:d.add_remove_btn,offset:d.offset};"undefined"!=typeof a.user_id&&(e.user_id=a.user_id);var f=e.entity_ids.length?e.entity_ids.length:tkn_common.history_container.limit;return tkn_loader.elements_placeholder_container(".js_entity_container > div",f,"post_placeholder","video_item_wrapper",!a.append),H=a,b.ajax({url:tkn_common.url.load_more.history,method:"POST",tknScope:"history",data:e}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).fail(function(a){var c=a.message||tkn_common.general_error_message;b("body").trigger("message:error",c)}).done(function(b){var c=a.container.find(".js_entity_container > div");tkn_loader.remove_elements_placeholder(c,"post_placeholder"),a.append?c.append(b.data.content):c.html(b.data.content),t(),"undefined"!=typeof b.data.has_more&&n(a.container,b.data),lazy_loading(c),tkn_loader.remove_elements_placeholder_height(c)})}function r(a,c){return{post_ids:[],add_remove_btn:!1,offset:b(a).find("[data-post_id]").length,user_id:c}}function s(){var a=tkn_already_seen.get_collection();if("undefined"==typeof a)return[];var b=_.map(tkn_already_seen.get_collection(),"id").reverse(),c=b.slice(G,tkn_common.history_container.limit+G);return G+=c.length,{post_ids:c,has_more:b.length>G,add_remove_btn:!0,offset:0}}function t(){b(".content_section_history_videos .js_loader_more_btn").off("click"),b(".content_section_history_videos .js_loader_more_btn").on("click",function(a){a.preventDefault(),H.append=!0,q(H)}),b(".js_remove_item").off("click"),b(".js_remove_item").on("click",,b(".js_save_history_btn").off("click").on("click",function(){if(F){var a=confirmation("hclean",tkn_common.history_container.video_history_disable_alert);b.when(a).then(function(){o(),tkn_already_seen.reset(),I(),tkn_already_seen.reset("story"),I("story"),u(),b(".js_content_history_videos .video_item_wrapper").remove(),b("body").trigger("message:success",tkn_common.history_container.video_history_clear_all_confirm),b(".js_clear_history_btn").remove(),b(".js_entity_container > div").html(tkn_common.load_more.no_history).addClass("align_center")})}else o()}),p(),b("body").on("click",".js_clear_history_btn",function(){var a=confirmation("hclean",tkn_common.history_container.video_history_clear_all_alert);b.when(a).then(function(){tkn_already_seen.reset(),I(),tkn_already_seen.reset("story"),I("story"),b(".js_content_history_videos .video_item_wrapper").remove(),b("body").trigger("message:success",tkn_common.history_container.video_history_clear_all_confirm),b(".js_clear_history_btn").remove(),b(".js_entity_container > div").html(tkn_common.load_more.no_history).addClass("align_center")})}),b("body").on("click",".js_clear_favorites_btn",function(){var a=confirmation("favclean",tkn_common.favorites_container.video_favorites_clear_all_alert);b.when(a).then(function(){b(".js_rating_post .video_item_wrapper").addClass("hidden"),tkn_already_seen.reset(),I(),b(".video_item_wrapper").each(function(){var a=b(this).data("post_id");console.log(a),tkn_rating.remove_like(a,"post",".js_rating_post"),v(a)}),b(".js_rating_post .video_item_wrapper").remove(),b("body").trigger("message:success",tkn_common.favorites_container.video_favorites_clear_all_confirm),b(".js_clear_favorites_btn").remove(),b(".js_entity_container").html(tkn_common.load_more.no_history).addClass("align_center")})})}function u(){var a="/user/clear_already_seen";return b.ajax({url:a,tknScope:"history",method:"POST"})}function v(a){var a=parseInt(a,10);tkn_already_seen.remove_item(a),e(a),""!==tkn_common.user_id&&w(a),b('.js_content_history_videos [data-post_id="'+a+'"]').remove(),b("body").trigger("message:success",tkn_common.history_container.history_video_removed)}function w(a){return b.ajax({url:tkn_common.url.remove_already_seen+"/"+a,tknScope:"history",method:"POST"}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().reject(a)}).fail(function(a){var c=a.message||tkn_common.general_error_message;b("body").trigger("message:error",c)})}var x={},y="history_collection",z=2,A=[],B=5,C=".js_history_wrapper",D=".js_history_container",E=!1,F=!0,G=0,H={},I=return{init:k,add_view_item:c,get_collection:h,reset:l,synchronize:m,load_history_container:q,remove_item:e}}(tkn_history||{},jQuery);$(document).one("tkn:js_common_ready",function(){var a=!0;tkn_history.init(),$("body").on("touchstart touchmove touchenter touchleave",".js_tip_trigger",function(b){b.stopImmediatePropagation();var c=$(this).attr("href");"undefined"!=typeof c&&(a=!1,window.location.href=c)}),$("body").on("mouseover mousemove",".js_tip_trigger",function(b){if(a){var c=$(this).find("img");if(c.length<=0){var d=$(this).data("thumbnail");c=$("<img />"),c.attr("src",d),c.css("position","absolute"),c.css("z-index",1010),$(this).append(c)}var e=b.clientX+20;c.css("transform","translate("+e+"px, 0)"),c.show()}}),$("body").on("mouseleave",".js_tip_trigger",function(){a&&$(this).find("img").hide()})}),function(a){var b=0,c=!1,d=!1;try{var e=Object.defineProperty({},"passive",{get:);window.addEventListener("test",null,e)}catch(f){}var g=function(a){var c=a.target,d=window.innerWidth/window.document.documentElement.clientWidth;if(!(a.touches.length>1||1!==d)){for(;c!==document.body&&c!==document;){var e=window.getComputedStyle(c);if(!e)break;if("INPUT"===c.nodeName&&"range"===c.getAttribute("type"))return;var f=e.getPropertyValue("-webkit-overflow-scrolling"),g=e.getPropertyValue("overflow-y"),h=parseInt(e.getPropertyValue("height"),10),i="touch"===f&&("auto"===g||"scroll"===g),j=c.scrollHeight>c.offsetHeight;if(i&&j){var k=a.touches?a.touches[0].screenY:a.screenY,l=b<=k&&0===c.scrollTop,m=b>=k&&c.scrollHeight-c.scrollTop===h;return void((l||m)&&a.preventDefault())}c=c.parentNode}a.preventDefault()}},h=i=function(){window.addEventListener("touchstart",h,!!d&&{passive:!1}),window.addEventListener("touchmove",g,!!d&&{passive:!1}),c=!0},j=function(){window.removeEventListener("touchstart",h,!1),window.removeEventListener("touchmove",g,!1),c=!1},k=function(){return c},l=document.createElement("div");document.documentElement.appendChild(l),l.style.WebkitOverflowScrolling="touch";var m="getComputedStyle"in window&&"touch"===window.getComputedStyle(l)["-webkit-overflow-scrolling"];document.documentElement.removeChild(l),m&&j();var n={enable:i,disable:j,isEnabled:k};"undefined"!=typeof module&&module.exports&&(module.exports=n),"function"==typeof a.define?!a.define):a.iNoBounce=n}(this),this,document,function(a,b,c,d){!function(a,b,c,d){unction f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),o.search(/^touch/)!==-1&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d,k))for(m=0,n=C.length;m<n;m++)i=C[m],b[i]=k[i];return b}nction i(){M=!1}on p(b){var c,d=a.data(b.target,A);!L&&(!Q||Q!==d)&&(c=o("v"+b.type,b),c&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation()))},z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=w(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;f<i;f++)if(g=K[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,b,c),a),a),function(a,b,d){ar f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),,a.event.special.scrollstart={enabled:!0,setup:teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:teardown:,a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:start:stop:handleSwipe:eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};b=a.data(this,"mobile-events"),b||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=e.stop=f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:,a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},}(a,this)}),!function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",,this.submit(),c)},valid:removeAttrs:rules:),a.extend(a.expr[":"],{blank:filled:unchecked:),a.validator=a.validator.format=a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:onfocusout:onkeyup:onclick:highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:,setDefaults:messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:form:checkForm:element:showErrors:resetForm:numberOfInvalids:objectLength:hideErrors:hideThese:valid:size:focusInvalid:findLastActive:elements:clean:errors:reset:prepareForm:prepareElement:elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?a("input[name='"+b.name+"']:checked").val():"number"===e&&"undefined"!=typeof b.validity?!b.validity.badInput&&d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:customDataMessage:customMessage:findDefined:defaultMessage:formatAndAdd:addWrapper:defaultShowErrors:validElements:invalidElements:showLabel:errorsFor:idOrName:validationTargetFor:checkable:findByName:getLength:depend:dependTypes:{"boolean":string:"function":,optional:startRequest:stopRequest:previousValue:,classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:classRules:attributeRules:dataRules:staticRules:normalizeRules:function(b,c){return a.each(b,,a.each(b,,a.each(["minlength","maxlength"],,a.each(["rangelength","range"],,a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:addMethod:methods:{required:email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:creditcard:minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:rangelength:min:function(a,b,c){return this.optional(b)||a>=c},max:range:equalTo:remote:}),a.format=var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(:(b=a.ajax,a.ajax=,a.extend(a.fn,{validateDelegate:)});var tkn_loading=function(a,b){b(document).one("tkn:js_ready",function(){var a=".js_loading_img";b("body").on("loader:show",function(c,d){"undefined"==typeof d&&(d=!0),b(a).show()}),b("body").on("loader:close",})}(tkn_loading||{},jQuery),tkn_container_loader=function(b,c){function d(a){var d=tkn_loader.show_loader;tkn_loader.show_loader=!1,c.each(a,function(a,d){var f=c("[data-loader_name='"+d+"']");f.length<=0||e(f)||("function"==typeof b[d+"_callback"]?b[d+"_callback"](f):tkn_loader.replace_content(f.find(".js_loader_more_btn")))}),tkn_loader.show_loader=d}function e(a){var a=c(a),b=a.data("hide_on_mobile")&&tkn_is_mobile.is_mobile()||a.data("hide_on_tablet")&&tkn_is_tablet.is_tablet();return b&&a.hide(),b}var f=tkn_common.async_containers||[];return b.init=function(a){a||f.length&&d(JSON.parse(f))},b.load_async_container=function(d){var f=tkn_loader.show_loader;tkn_loader.show_loader=!1;var g=c(d);if(e(g))return!1;var h=g.data("loader_name");if(h)if(window.show_dating_template&&!adblock_is_disabled()&&(window.show_dating_template=!1,window.hide_webcams=!1),"top_webcams"==h&&window.show_dating_template){var i=g.find(".dating_test_config");if(i.length&&"undefined"!=typeof JSON){var j=JSON.parse(i.text());load_js("/assets/default/js/excluded/tkn_mustache.js",function(){j.events={onAfterDataParse:function(a){if("undefined"!=typeof a.thumbs&&"undefined"!=typeof a.thumbs.thumb)for(thumb_index in a.thumbs.thumb)"undefined"!=typeof a.thumbs.thumb[thumb_index].link&&(a.thumbs.thumb[thumb_index].link["#b64enc"]=utf8_to_b64(a.thumbs.thumb[thumb_index].link["#text"]));return a}},window.a=new tkn_mustache(j),a.render().fail(function(){"function"==typeof b[h+"_callback"]?b[h+"_callback"](g):tkn_loader.replace_content(g.find(".js_loader_more_btn"))})})}}else"function"==typeof b[h+"_callback"]?b[h+"_callback"](g):tkn_loader.replace_content(g.find(".js_loader_more_btn"));tkn_loader.show_loader=f},b.gallery_popular_simple_callback=function(a){var b=a.find(".js_loader_more_btn");0===b.length&&(b=a.find(".fake_load_more_btn")),b.length>0&&tkn_loader.replace_content(b)},b.top_webcams_homepage_callback=function(a){var a=c(".top_webcams_homepage");return!!a.is(":visible")&&(!e(a)&&void tkn_loader.replace_content(a.find(".js_loader_more_btn"),function(b){!b||b.data.amount<tkn_common.webcam_minimums.min_homepage||0===b.data.content.length?a.hide():c(a.data("loader_target")).html(b.data.content),lazy_loading(a.data("loader_target"))}))},b.top_webcams_callback=function(a){var a=c(".top_webcams");return!!a.is(":visible")&&(window.hide_webcams&&a.hide(),void tkn_loader.replace_content(a.find(".js_loader_more_btn"),function(b){!b||b.data.amount<tkn_common.webcam_minimums.min||0===b.data.content.length?a.hide():b.data.replace_container?(c(a.find(".title_text")).html(b.data.title),c(a.find(".content_section_title")).removeClass("hide_mobile_top_webcams"),c(a.data("loader_target")).html(b.data.content),b.data.container_class&&c(a).addClass(b.data.container_class)):c(a.data("loader_target")).html(b.data.content),lazy_loading(a.data("loader_target"))}))},b}(tkn_container_loader||{},jQuery);$("body").on("tkn:js_ready",,function(){$(document).one("tkn:js_ready",function(){function a(){$(".js_lost_form_toogle").on("click",function(){var a=$(".js_lost_form_toogle");a.toggleClass("toggle_on"),a.hasClass("toggle_on")?(c(),a.prop("checked",!0),$(".js_lost_form").addClass("hidden"),$(".js_lost_form_sms").removeClass("hidden")):(a.prop("checked",!1),$(".js_lost_form").removeClass("hidden"),$(".js_lost_form_sms").addClass("hidden"))})}function b(){a();for(var b=".js_login_form",c=tkn_common.login_form,i=$(b),j=0;j<i.length;j++)$(i[j]).validate({rules:{login_username:{required:!0,minlength:c.username_minlength,maxlength:c.username_maxlength},login_password:{required:!0,minlength:c.password_minlength}},messages:{login_username:{required:c.msg_username_required,minlength:c.msg_username_minlength,maxlength:c.msg_username_maxlength},login_password:{required:c.msg_password_required,minlength:c.msg_password_minlength}},submitHandler:function(a){var b=!!$(a).data("redirect_link")&&$(a).data("redirect_link"),d=$(a).serialize(),f=tkn_common.url.login;$.ajax({url:f,dataType:"json",type:"post",data:d,tknScope:"login_validate",beforeSend:function(){$("body").trigger("loader:show")}}).done(function(a){var c=a.message,d=a.success;e(c,d),d&&(tkn_history.reset(),tkn_categories.reset(),tkn_favorites.reset(),tkn_rating.reset(),tkn_already_seen.reset(),tkn_already_seen.reset("story"),b?window.location.href=b:window.location.reload())}).error(.always(}});f=".js_lost_form",g=tkn_common.lost_form,h=$(f);for(var j=0;j<h.length;j++)$(h[j]).validate({rules:{lost_email:{required:!0,email:!0}},messages:{lost_email:{required:g.msg_email_required,email:g.msg_email_invalid}},submitHandler:function(a){var b=$(a).data("recaptcha_selector");return $(b).off("g-callback").bind("g-callback",function(){d(a,"lost_password")}),tkn_recaptcha_helper.execute_recaptcha(b),!1}})}function c(){i||($("<link/>",{rel:"stylesheet",type:"text/css",href:tkn_common.url.css.intlTelInput}).appendTo("head"),$.when($.ajax({url:tkn_common.url.js.intlTelInput,dataType:"script",tknScope:"login_validate",cache:!0}),$.ajax({url:tkn_common.url.js.intlTelInput_utils,dataType:"script",tknScope:"login_validate",cache:!0})).then(function(){$("#mobile_lost_mobile").intlTelInput({initialCountry:tkn_common.user_info.country,autoHideDialCode:!1,nationalMode:!1,separateDialCode:!0,utilsScript:"utils.js"}),$("body").on("recaptcha:show:mobile_lost_mobile",function(){tkn_recaptcha_helper.show_recaptcha("#js_recaptcha_mobile_lost_sms")}),$("body").on("recaptcha:reset:mobile_lost_mobile",;var a=".js_lost_form_sms";g=tkn_common.lost_form,h=$(a);for(var b=0;b<h.length;b++)$(h[b]).validate({rules:{lost_mobile:{required:!0}},messages:{lost_mobile:{required:g.msg_mobile_required}},submitHandler:function(a){var b=$(a).data("recaptcha_selector");return $(b).off("g-callback").bind("g-callback",,tkn_recaptcha_helper.execute_recaptcha(b),!1}});i=!0}))}function d(a,b){var c=$(a).serializeArray();if("lost_password_sms"===b){var d=$("#mobile_lost_mobile").intlTelInput("getSelectedCountryData");c.push({name:"extension[dialCode]",value:d.dialCode})}var f=tkn_common.url[b];$.ajax({url:f,dataType:"json",type:"post",data:$.param(c),tknScope:"login_validate",beforeSend:function(){$("body").trigger("loader:show")}}).done(function(a){var b=a.message,c=a.success;c||($("body").trigger("recaptcha:reset:lost_email"),$("body").trigger("recaptcha:reset:mobile_lost_mobile")),e(b,c)}).error(function(){e(tkn_common.general_error_message,!1)}).always(function(){$("body").trigger("loader:close")})}function e(a,b){var c=$(".js_login_message");b?(c.addClass("success"),c.removeClass("error")):(c.addClass("error"),c.removeClass("success")),c.html(a)}var f,g,h,i=!1;$("body").on("focus","#lost_email",function(){$("body").trigger("recaptcha:show:lost_email")}),$("body").on("focus","#mobile_lost_email",function(){$("body").trigger("recaptcha:show:mobile_lost_email")}),$("body").on("focus","#mobile_lost_mobile",function(){$("body").trigger("recaptcha:show:mobile_lost_mobile")}),"undefined"!=typeof tkn_common.uservoice&&tkn_common.uservoice.enabled&&$("body").trigger("modal:show",[".js_login_wrapper"]),tkn_common.user_id.length||b()})}();var tkn_matchMedia=function(){function a(){f=!0,$(window).on("resize",function(){var a=parseInt($(window).width()),c=!1;for(var e in d)c=a===e?"=":a>e?">":"<",d[e].status!==c&&(d[e].status=c,b(d[e].methods,c))})}function b(a,b){var c="="===b,d=c||">"===b,e=c||"<"===b;for(var f in a.gte)a.gte[f](e);for(var f in a.lte)a.lte[f](d)}function c(b,c,e){"undefined"==typeof d[b]&&(d[b]={status:!1,methods:{lte:[],gte:[]}}),d[b].methods[c].push(function(a){e(a)}),f||a()}var d={},e="function"!=typeof window.matchMedia,f=!1,g={},h={max:/\(max-width:\s?(\d+).*\)/g,min:/\(min-width:\s?(\d+).*\)/g};return g.watchMedia=function(a,b){if(e){var d=parseInt($(window).width()),f=h.max.exec(a),g=h.min.exec(a);f&&(f=parseInt(f[1]),c(f,"gte",b),b(d<=f)),g&&(g=parseInt(g[1]),c(g,"lte",b),b(d>=g))}else{var i=window.matchMedia(a);b(i.matches),i.addListener(}},g}();$(document).one("tkn:js_ready",function(){tkn_matchMedia.watchMedia("(max-width: 767px)",function(a){$("body").trigger("tkn:mquery_max_767",a)}),tkn_matchMedia.watchMedia("(min-width: 768px)",}),function(a){function b(){var b=a(".chat_counter");if("undefined"!=typeof b){var c=j("chtcnt"),d=j("chtcnted");if(isNaN(c)&&(c=1),!d&&c<9&&(c++,i("chtcnted",1,0,30),i("chtcnt",c,31)),c>0)for(var e=0;e<b.length;e++)a(b[e]).html(c).show({specialEasing:{display:"inline-block"}})}}function c(){if(q<=0)r.html(""),q=0;else{var a="(",b=")";r.html(a+q+b)}}ction g(){var a=new Image;a.src=tkn_common.url.remove_site_notice}function h(){if(l(),q=0,""!==tkn_common.user_id)q=tkn_common.user_total_kifs;else{var a=tkn_favorites.get_favorites_number(),d=tkn_rating.get_favorites_number();q=a+d}c(),b(),tkn_sticky.updateSticky()}function i(a,b,c,d){var e=new Date;"undefined"==typeof d&&(d=0),e.setTime(e.getTime()+24*c*60*60*1e3+60*d*60*1e3);var f="expires="+e.toGMTString();document.cookie=a+"="+b+";"+f+";path=/"}function j(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""}function k(){var a,b,c=window.location;"pushState"in history?history.pushState("",document.title,c.pathname+c.search):(a=document.body.scrollTop,b=document.body.scrollLeft,c.hash="",document.body.scrollTop=a,document.body.scrollLeft=b)}function l(){var b=location.hash;b&&a("body").on("tkn:dom_ready",function(){switch(b){case"#signup":a("body").trigger("modal:show",[".js_login_register_wrapper"]),a("html,body").animate({scrollTop:0},500);break;case"#search":a(".js_mobile_search").toggle();break;case"#filter_type":a(".filter_type_wrapper form").addClass("open");break;case"#filter_period":a(".filter_period_wrapper form").addClass("open");break;case"#filter_quality":a(".filter_quality_wrapper form").addClass("open");break;case"#filter_duration":a(".filter_duration_wrapper form").addClass("open");break;case"#load_more":a(".js_loader_more_btn").trigger("click");break;case"#choose_upload_gif":a(".js_reopen_upload_option_gif").trigger("click");break;case"#choose_upload_static":a(".js_reopen_upload_option_static").trigger("click");break;case"#choose_upload_story":a(".js_reopen_upload_option_story").trigger("click");break;case"#choose_gallery_mc":a(".js_dropdown_gallery_tag").trigger("click");break;case"#push_notification_modal":a("body").trigger("modal:show",[".js_push_notification_wrapper"])}k()})}function m(){a.ajax({url:"/profile/notifications_modal",dataType:"json",type:"post",tknScope:"menu",beforeSend:function(){a("body").trigger("loader:show")}}).done(function(b){b&&b.success&&(a(".js_notification_wrapper .top_bar_menu_main").html(b.data.content),a("body").trigger("modal:show",[".js_notification_wrapper"]),a(".notification_alerts").hide())}).always(function(){a("body").trigger("loader:close")})}function n(b){var c={},d=b.serializeArray();a.each(d,function(a,b){c[b.name]=b.value});var e="/password_change/"+c.token;return a.ajax({url:e,type:"POST",data:c,dataType:"json",tknScope:"menu",beforeSend:function(){a("body").trigger("loader:show")}}).then(function(b){return b.success?a.Deferred().resolve(b):a.Deferred().reject(b)}).done(function(b){a("body").trigger("modal:close",[".js_recover_login_wrapper"]),a("body").trigger("message:success",b.message),window.location.href="/"}).fail(function(b){var c=b.message||tkn_common.general_error_message;a("body").trigger("message:error",c)}).always(function(){a("body").trigger("loader:close")})}function o(){if(a("#menu_switch_theme_input").length>0){var b=a("#menu_switch_theme_input")[0].checked?"dark":"light";page_theme=tkn_global_helper.get_page_theme(),b!=page_theme&&(a("#menu_switch_theme_input").length>0&&(a("#menu_switch_theme_input")[0].checked=!0),a("#page_switch_theme_input").length>0&&(a("#page_switch_theme_input")[0].checked=!0))}}function p(){if(a("#menu_switch_col_layout_input").length>0){var b=a("#menu_switch_col_layout_input")[0].checked?"two_col":"one_col";column_layout=tkn_global_helper.get_column_layout(),b!=column_layout&&a("#menu_switch_col_layout_input").length>0&&(a("#menu_switch_col_layout_input")[0].checked=!0)}}var q=0,r=a(".js_favorites_number");window.reset_chat_counter=function(){var b=0;i("chtcnted",1,0,30),i("chtcnt",b,31);for(var c=a(".chat_counter"),d=0;d<c.length;d++)b>0?a(c[d]).html(b).show({specialEasing:{display:"inline-block"}}):a(c[d]).hide()},a(document).one("tkn:js_ready",function(){h(),a("body").on("favorites_menu:init",function(){h()}),a("body").on("favorites:increment",function(){d()}),a("body").on("favorites:decrement",function(){e()}),a("body").on("favorites:reset",function(){f()}),a("body").on("click",".js_login_trigger",function(b){a("body").trigger("modal:close",[".js_menu_wrapper"]),a("#login-tab").click(),a("body").trigger("modal:show",[".js_login_register_wrapper"]),a("html,body").animate({scrollTop:0},500)}),a("body").on("click",".auth_recover_form_submit",function(b){if(a(".js_recover_login_form .auth_recover_form_item input[name=login_password]").val()===a(".js_recover_login_form .auth_recover_form_item input[name=login_password2]").val()){var c=a(this).closest("form");n(c)}else a(".js_recover_login_wrapper .js_login_message").addClass("error").html(LANG_PASSWORD_MISMATCH);return!1}),a("body").on("click",".auth_recover_form_submit2",function(b){if(a(".js_recover_login_form2 .auth_recover_form_item input[name=login_password]").val()===a(".js_recover_login_form2 .auth_recover_form_item input[name=login_password2]").val()){var c=a(this).closest("form");n(c)}else a(".js_login_wrapper .js_login_message").addClass("error").html(LANG_PASSWORD_MISMATCH);return!1}),a(".js_disclaimer_checkbox_input").on("click",function(){var b=a(".js_disclaimer_checkbox_input");b.toggleClass("toggle_on"),b.hasClass("toggle_on")?(b.prop("checked",!0),a(".disclaimer_cookie_option .filter_item.left_label").addClass("light_grey_text"),a(".disclaimer_cookie_option .filter_item.right_label").removeClass("light_grey_text")):(b.prop("checked",!1),a(".disclaimer_cookie_option .filter_item.left_label").removeClass("light_grey_text"),a(".disclaimer_cookie_option .filter_item.right_label").addClass("light_grey_text"))}),a("body").on("click",".js_signup_trigger",function(){a("body").trigger("modal:close",[".js_menu_wrapper"]),a("#register-tab").click(),a("body").trigger("modal:show",[".js_login_register_wrapper"])}),a("body").on("click",".js_options_menu_trigger",function(){a(".js_user_close_toggle").addClass("modal_upper"),a("body").trigger("modal:show",[".js_menu_wrapper"])}),a("body").on("click",".js_hamburguer_button_toggle",function(){a(".js_hamburguer_button_toggle").addClass("hidden"),a(".js_header_button_toggle").removeClass("hidden")}),a("body").on("click",".js_header_button_toggle",function(){a(".js_header_button_toggle").addClass("hidden"),a(".js_hamburguer_button_toggle").removeClass("hidden")}),a("body").on("click",".js_mobile_notification_trigger",function(){m()}),a("body").on("click",".js_sidebar_menu",function(){a(".js_sidebar_menu").hasClass("opened")?(a(".js_sidebar_menu").removeClass("opened"),a("body").trigger("modal:close",[".sidebar_wrapper"])):(a("body").trigger("modal:show",[".sidebar_wrapper"]),a(".js_sidebar_menu").addClass("opened"),a(".js_sidebar_menu").hasClass("js_celebrity_sidebar")&&tkn_sidebar_webcams.celebrity_init())}),a("body").on("click",".js_video_report",function(){
a("body").trigger("modal:show",[".js_video_report_modal"]),a(".js_modal_box_overlay").addClass("modal_upper")}),a("body").on("click",".js_comment_report_modal",function(){var b=a(this).data("comment_id");document.getElementById("modal_comment_id").value=b,a("body").trigger("modal:show",[".js_comment_report_modal_wrapper"]),a(".js_modal_box_overlay").addClass("modal_upper")}),a("body").on("click",".js_show_report_comment_comment",function(){a(".js_report_comment_comment").removeClass("hidden"),a(".js_submit_comment_report_modal").removeAttr("disabled")}),a("body").on("click",".js_hide_report_comment_comment",function(){a(".js_report_comment_comment").addClass("hidden"),a(".js_submit_comment_report_modal").removeAttr("disabled")}),a("body").on("click",".js_user_menu_trigger",function(){a("body").trigger("modal:show",[".js_user_menu_wrapper"])}),a("body").on("click",".js_modal_wrapper_trigger",function(){a("body").trigger("modal:show",[".js_modal_wrapper_trigger"])}),a("body").on("click",".js_login_register_wrapper_trigger",function(b){a("body").trigger("modal:show",[".js_login_register_wrapper"])}),a("body").on("click",".js_recover_login_wrapper_trigger",function(b){a("body").trigger("modal:show",[".js_recover_login_wrapper"])}),a("body").on("click",".js_static_search_trigger",function(){var b=a(".static_search");b.hasClass("expand")?a(".js_static_search").hide():a(".js_static_search").show(),b.toggleClass("expand")}),a("body").on("click",".js_mobile_search_trigger",function(){var b=a(".mobile_search");b.hasClass("expand")?a(".js_mobile_search").slideUp():a(".js_mobile_search").slideDown(750),b.toggleClass("expand")}),a("body").on("click",".js_close_site_notice",,a("body").on("hoverIn",".js_language_dropdown",function(){a(".navbar_language_dropdown_options").show()}),a(".js_language_dropdown").hover(function(){a(".navbar_language_dropdown_options").addClass("navbar_language_dropdown_show")},function(){a(".navbar_language_dropdown_options").removeClass("navbar_language_dropdown_show")}),a("#login-tab").click(function(b){a("#login-form").delay(100).fadeIn(100),a("#register-form").fadeOut(100),a("#register-tab").removeClass("active"),a(this).addClass("active"),b.preventDefault()}),a("#register-tab").click(function(b){a("#register-form").delay(100).fadeIn(100),a("#login-form").fadeOut(100),a("#login-tab").removeClass("active"),a(this).addClass("active"),b.preventDefault()}),o(),a(".js_switch_theme").on("click",function(){if(a("#menu_switch_theme_input").length>0&&a(".menu_switch_theme_input").prop("disabled",!0),a("#page_switch_theme_input").length>0&&a(".page_switch_theme_input").prop("disabled",!0),page_theme=tkn_global_helper.get_page_theme(),"light"==page_theme){a("#menu_switch_theme_input").length>0&&(a("#menu_switch_theme_input")[0].checked=!0),a("#page_switch_theme_input").length>0&&(a("#page_switch_theme_input")[0].checked=!0);var b="dark"}else{a("#menu_switch_theme_input").length>0&&(a("#menu_switch_theme_input")[0].checked=!1),a("#page_switch_theme_input").length>0&&(a("#page_switch_theme_input")[0].checked=!1);var b="light"}tkn_global_helper.change_page_theme(b),location.reload()}),p(),a(".js_switch_col_layout").on("click",function(){if(a("#menu_switch_col_layout_input").length>0&&a(".menu_switch_col_layout_input").prop("disabled",!0),a("#page_switch_col_layout_input").length>0&&a(".page_switch_col_layout_input").prop("disabled",!0),column_layout=tkn_global_helper.get_column_layout(),"one_col"==column_layout){a("#menu_switch_col_layout_input").length>0&&(a("#menu_switch_col_layout_input")[0].checked=!0),a("#page_switch_col_layout_input").length>0&&(a("#page_switch_col_layout_input")[0].checked=!0);var b="two_col"}else{a("#menu_switch_col_layout_input").length>0&&(a("#menu_switch_col_layout_input")[0].checked=!1),a("#page_switch_col_layout_input").length>0&&(a("#page_switch_col_layout_input")[0].checked=!1);var b="one_col"}tkn_global_helper.change_column_layout(b),location.reload()}),a("body").on("click",".js_mobile_submenu_trigger",function(){a("body").trigger("modal:show",[".js_user_menu_wrapper"])}),a(".footer_partner_container_wrapper").length&&(a("body").on("click",".js_remove_footer_partner_container",function(){a(".js_footer_partner_container").removeClass("fading"),a(".js_footer_partner_container").addClass("hidden"),a(".js_scroll_top").removeClass("footer_partner_enabled"),write_cookie("ftptnrbox",1),a(".js_footer_partner_container_wrapper").addClass("hidden")}),read_cookie("ftptnrbox")||a(window).on("scroll",function(){var b=!a(".js_footer_partner_container").hasClass("hidden")&&!tkn_global_helper.footer_partner_paused();b&&document.documentElement.scrollTop>200?(a(".js_footer_partner_container_wrapper").removeClass("hidden"),a(".js_footer_partner_container").addClass("fading"),a(".js_scroll_top").addClass("footer_partner_enabled")):(a(".js_footer_partner_container").removeClass("fading"),a(".js_scroll_top").removeClass("footer_partner_enabled"),a(".js_footer_partner_container_wrapper").addClass("hidden"))})),a(window).on("beforeinstallprompt",function(a){a.preventDefault(),deferredPrompt=a.originalEvent,"undefined"!=typeof gtag&&gtag("event","Prompt to Install",{event_category:"WebApp"}),null!==localStorage.getItem("APP_INSTALLED")&&("undefined"!=typeof gtag&&gtag("event","App Removed",{event_category:"WebApp"}),localStorage.removeItem("APP_INSTALLED"))}),a("body").on("click",".js_update_manifest_link",function(){var b=a(this).data("app");write_cookie("wapptype",b),b&&(a("body").trigger("loader:show"),window.location.href="/app/"+b)}),a(window).on("appinstalled",function(a){"undefined"!=typeof gtag&&gtag("event","App Installed",{event_category:"WebApp"}),localStorage.setItem("APP_INSTALLED",1)}),a(".js_pornstar_video_tab_container").on("click",function(){a("#related_galleries").addClass("hidden"),a("#related_videos").removeClass("hidden"),a(".js_pornstar_video_tab_container").addClass("tab_active"),a(".js_pornstar_gallery_tab_container").removeClass("tab_active")}),a(".js_pornstar_gallery_tab_container").on("click",function(){a("#related_videos").addClass("hidden"),a("#related_galleries").removeClass("hidden"),lazy_loading(),a(".js_pornstar_video_tab_container").removeClass("tab_active"),a(".js_pornstar_gallery_tab_container").addClass("tab_active")}),a(".js_studio_video_tab_container").on("click",function(){a("#related_galleries").addClass("hidden"),a("#related_videos").removeClass("hidden"),a(".js_studio_video_tab_container").addClass("tab_active"),a(".js_studio_gallery_tab_container").removeClass("tab_active")}),a(".js_studio_gallery_tab_container").on("click",function(){a("#related_videos").addClass("hidden"),a("#related_galleries").removeClass("hidden"),lazy_loading(),a(".js_studio_video_tab_container").removeClass("tab_active"),a(".js_studio_gallery_tab_container").addClass("tab_active")}),a(".js_webapp_android_tab_container").on("click",function(){a(".js_webapp_android_tab_container").addClass("tab_active"),a(".js_webapp_ios_tab_container").removeClass("tab_active"),a(".js_webapp_android_explanation").removeClass("hidden"),a(".js_webapp_ios_explanation").addClass("hidden")}),a(".js_webapp_ios_tab_container").on("click",function(){a(".js_webapp_android_tab_container").removeClass("tab_active"),a(".js_webapp_ios_tab_container").addClass("tab_active"),a(".js_webapp_android_explanation").addClass("hidden"),a(".js_webapp_ios_explanation").removeClass("hidden")}),a(".js_read_more_btn").on("click",function(){a(".category_info_footer_text").addClass("read_more_opened"),a(".read_more_btn_wrapper").addClass("read_more_opened")}),container_overflow(a(".category_info_footer_text").get(0),0)||(a(".category_info_footer_text").addClass("read_more_opened"),a(".read_more_btn_wrapper").addClass("read_more_opened")),a(".js_user_history_options_wrapper").on("click",function(){var b=a(".js_user_history_options");b.toggleClass("hidden")}),a(".js_user_favorites_options_wrapper").on("click",,a(".js_pornstar_mobile_hidden_btn").on("click",function(){var b=a(".js_pornstar_mobile_hidden_container"),c=a(".js_extra_description"),d=a(".icon-icon_20_arrow_up"),e=a(".icon-icon_20_arrow_down");b.toggleClass("pornstar_mobile_hidden_container"),d.toggleClass("hidden"),e.toggleClass("hidden"),c.toggleClass("hidden")})})}(jQuery);var tkn_message_manager=function(a,b){function c(a,c,e){var f={auto_close:!0,close_delay:h};if("object"==typeof e&&b.extend(f,e),"undefined"!=typeof a&&0!==a.length){if("object"==typeof a){for(var i in a)a.hasOwnProperty(i)&&(f[i]=a[i]);a=a.message}var j='<div class="alert alert-dismissible '+c+'"><i class="icon icon-'+c+'"></i>'+a+'<button type="button" class="close" data-dismiss="alert"><i class="icon icon-alert_close"></i></button></div>',k=b(j);b(g).append(k),f.auto_close===!0&&d(k,f.close_delay)}}function d(a,c){"undefined"==typeof c&&(c=h),window.setTimeout(function(){b(a).remove()},c)}function e(){f()}function f(a){"undefined"==typeof a&&(a=h);var c=b(g).children();c.each(function(b,c){d(c,a)})}var g=".js_message_container",h=4e3,i="alert_success",j="alert_info",k="alert_warning",l="alert_error";return b(document).one("tkn:js_ready",function(){e(),b("body").on("message:success",function(a,b,d){c(b,i,d)}),b("body").on("message:info",function(a,b,d){c(b,j,d)}),b("body").on("message:warning",function(a,b,d){c(b,k,d)}),b("body").on("message:error",function(a,b,d){c(b,l,d)})}),{init:e,add_message:c,clear_notifications:f}}(tkn_message_manager||{},jQuery);$("body").one("tkn:js_common_ready",function(){var a=$(".alternative_snap_menu");a.length&&a.each(function(a,b){var c=$(b).data("params");b.instance=new plxNative,b.instance.init(c.cfg,[c.data])})});var plxNative=function(){function a(a){return $.ajax(a,{tknScope:"plxnative",method:"get"})}function b(b){if(b&&b.length&&b[0].response&&0==b[0].response.error){var c=b[0].response.data[0];if($(e.anchor_selector).attr("href",c.link.url),$(e.text_selector).html(c.assets[0].title.text),"undefined"!=typeof c.eventtrackers&&c.eventtrackers.length)for(var d=0;d<c.eventtrackers.length;d++)a(c.eventtrackers[d].url)}}function c(a){var c=e.plxnative_url;return"undefined"==typeof a&&(a={}),$.ajax(c,{method:"post",dataType:"json",data:JSON.stringify(a),processData:!1,tknScope:"plxnative",contentType:"application/json"}).then(function(a,c){b(a)})}var d={},e={plxnative_url:"https://adn.polluxnetwork.com/native",anchor_selector:"",text_selector:""};return d.init=function(a,b){for(var d in a)d in e&&(e[d]=a[d]);return c(b)},d},tkn_previewclips=function(a,b){function c(a){var c=b(a).find(".thumb_preview");c&&(c.attr("data-title",c.attr("title")),c.removeAttr("title"),c.attr("data-alt",c.attr("alt")),c.removeAttr("alt")),l&&k(),l=b(a).find(".js_video_preview"),"undefined"!=typeof l&&0!=l.length&&g(l,a)}function d(a){k();var c=b(a).find(".thumb_preview");c&&(c.attr("title",c.attr("data-title")),c.removeAttr("data-title"),c.attr("alt",c.attr("data-alt")),c.removeAttr("data-alt"))}function e(){tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet()||(b("body").on("mouseenter",".video_item_wrapper, .video_block_wrapper",function(a){c(this)}),b("body").on("mouseleave",".video_item_wrapper, .video_block_wrapper",,b("body").on("click tag","#video",function(a){k()}),b(window).scroll("scroll",k))}function f(){(tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet())&&(b("body").on("swipeleft",".video_item_wrapper, .video_block_wrapper",function(a){s=!0,j(),c(this)}),b("body").on("swiperight",".video_item_wrapper, .video_block_wrapper",function(a){s=!0,j(),c(this)}),b("body").on("touchend touchcancel mouseup",function(){return s?s=!1:void(b(window).width()<480&&(r=setTimeout(function(){var a=!1;l&&b(l).length&&(b(l).offset().top-(window.scrollY||window.pageYOffset||document.body.scrollTop)>0?a=b(l).offset().top-(window.scrollY||window.pageYOffset||document.body.scrollTop):k()),b(".video_item_wrapper,.video_block_wrapper").each(function(d,e){if(!b(e).hasClass("miss_tubesite_item_wrapper")){var f=parseInt(b(e).offset().top-(window.scrollY||window.pageYOffset||document.body.scrollTop));if(f>=0&&(a===!1||f<a)){var g=b(e).find(".js_video_preview");return b(g).get(0)!=b(l).get(0)&&c(e),!1}}})},800)))}))}function g(a,c){function d(a){l.animate({width:"100%"},2500)}m=a;var e=a.data("vid"),f=(a.data("post_url"),"mp4"),g=e.replace(e.substr(e.lastIndexOf(".")+1),f),j=i(),k=b('<div id="video_preview_container"></div>');q=b("<video muted />"),q.attr({id:"video",src:g,type:"video/"+f,controls:n,autoplay:o,loop:p,preload:"auto",poster:j,playsinline:"true"}),k.prepend(q),a.before(k);var l=b("<div/>").addClass("progress-bar video_progress_bar");return a.after(l),q.on("loadstart",function(){l.show(),d(a),h(q,c,a)}),q.on("canplaythrough",function(){l.stop(!0,!0),l.fadeTo(200,0),tkn_thumbnails.video_preview_playable=!0}),q}function h(a,c,d){var e=document.querySelector(".video_item_thumbnail video").play();tkn_thumbnails.clear(),void 0!==e&&e.then(function(){})["catch"](function(e){"undefined"!=typeof e&&20!==e.code&&(b(a).remove(),tkn_thumbnails.manual_rotate_thumbs(c,d))})}nction k(){if(l&&null!==l){j();var a=l.parent();a.find("#video_preview_container").remove(),a.find(".video_progress_bar").remove(),a.find(".thumb_preview").addClass("hidden"),l=null}}var l,m,n=!1,o=!0,p=!0,q={},r=!1,s=!1;return a.init=function(){e(),f()},a}(tkn_previewclips||{},jQuery);$("body").one("tkn:js_ready",function(){tkn_previewclips.init()});var tkn_previewclip_support=function(a,b){return a.init=function(){a.previewclip_support()},a.previewclip_support=function(){return Modernizr.video?Modernizr.video.webm?"webm_compatible":Modernizr.video.h264?"mp4_compatible":void 0:"no_video_support"},a}(tkn_previewclip_support||{},jQuery),tkn_plxdsp=function(a){function b(a,b,c,d){e=a+"/feed/"+b,e+="/apikey/"+c,e+="/format/"+d}function c(a){var b=Object.assign(f,a);return $.ajax({url:e,data:b,method:"get",dataType:"json",tknScope:"promotool",cache:!1})}function d(a){return new $.Deferred(function(d){if(a){var e=a.url,f=a.feedid,g=a.apikey;f&&g&&e?(b(e,f,g,"json"),c(a.params).then(function(a){var b=!1;a&&"undefined"!=typeof a.redirecturl&&(b=a.redirecturl),d.resolve(b)}).fail(function(a){d.reject()})):d.reject()}else d.reject()}).promise()}var e=!1,f={useragent:navigator.userAgent,domain:"",min_bid:0,currency:"EUR",category:"IAB25-3"};return{init:d}}(tkn_plxdsp||{}),tkn_popunder=function(a){function b(){var a="type=fullWindow, fullscreen, scrollbars=yes",b=function(){f=e.window.open(h,Math.random().toString(36).substring(7),a),c()};b()}function c(){try{f.blur(),f.opener.window.focus(),window.self.window.focus(),window.focus()}catch(a){}}function d(a){h=a||h,b()}var e,f,g,h=window.location.href;try{e=top!=self&&"string"==typeof top.document.location.toString()?top:self}catch(i){e=self}f=null,g=function(){var a=navigator.userAgent.toLowerCase(),b={webkit:/webkit/.test(a),mozilla:/mozilla/.test(a)&&!/(compatible|webkit)/.test(a),chrome:/chrome/.test(a),msie:/msie/.test(a)&&!/opera/.test(a),firefox:/firefox/.test(a),safari:/safari/.test(a)&&!/chrome/.test(a)};return b.version=b.safari?(a.match(/.+(?:ri)[\/: ]([\d.]+)/)||[])[1]:(a.match(/.+(?:ox|me|ra|ie)[\/:]([\d.]+)/)||[])[1],b}();return{init:d}}(tkn_popunder||{}),tkn_mobile_window_history=function(a,b){return check_url_add_history=function(){var a=amplify.store.localStorage("promotool_last_page");if("undefined"!=typeof a){var c="/";c+=window.location.href.split("/").slice(3).join("/"),window.history.pushState(null,null,a),window.history.pushState(null,null,c),amplify.store.localStorage("promotool_last_page",null),b(window).on("popstate",}},b(document).one("tkn:js_ready",function(){check_url_add_history()}),{}}(tkn_mobile_window_history||{},jQuery);!function(a){unction c(a,b,c){var d=new Date;d.setTime(d.getTime()+c),expires="; expires="+d.toGMTString(),document.cookie=a+"="+b+expires+"; path=/"}function d(b,d,e){a("body").on("click",d,function(d){var f=a(this).data("disable_pop");if("undefined"==typeof f&&(f=!1),!f&&l==e){d.preventDefault();var g="/";g+=window.location.href.split("/").slice(3).join("/"),amplify.store("promotool_last_page",g),++l,c(k,l,m);var h=a(this).attr("href");tkn_popunder.init(h),window.location.href=b}})}function e(b,d,e){a("body").on("click",d,function(){var d=a(this).data("disable_pop");if("undefined"==typeof d&&(d=!1),!d){var f=a(this).attr("href");if(l>=e+capping)return;l==e&&(++l,c(k,l,m),a(this).attr("target","_blank"),a(this).attr("href",b),window.location.href=f)}})}function f(b){a("body").on("click",function(d){var e=a(".disclaimer_container").is(":visible"),f=a(d.target).hasClass("js_remove_disclaimer"),g=e||f;l<b&&0==g&&(++l,c(k,l,m))})}function g(b,d,e){a("body").on("click",d,function(d){var f=a(this).data("disable_pop");if("undefined"==typeof f&&(f=!1),!f&&l==e){d.preventDefault();var g="/";g+=window.location.href.split("/").slice(3).join("/"),amplify.store("promotool_last_page",g),++l,c(k,l,m);var h=a(this).attr("href");tkn_popunder.init(h);var i=document.createElement("script");i.src=b,document.head.appendChild(i)}})}function h(a){var c=!1;if(i&&tkn_common.promo_tool.mobile?c=tkn_common.promo_tool.mobile:j&&tkn_common.promo_tool.tablet&&(c=tkn_common.promo_tool.tablet),!c)return!1;if(null!==a.isChrome&&(r=a.isChrome),c.skip_chrome&&r){if(!c.chrome_alternative_promo_tool)return!1;c.url=c.chrome_alternative_promo_tool}var h=c.skip_displays,n=c.capping;if(k=c.cookie_name,l=null!==b(k)?b(k):"0",m=c.cookie_time,!(l>=h+n)){f(h);var o=c.url,p=c.type,q=c.trigger_element,s=c.skip_chrome&&r?g:"popup"===p?e:d;"plxdsp"===o?tkn_common.user_info.punderminbid!==!1&&"undefined"!=typeof c.plxdsp_options&&c.plxdsp_options!==!1&&(c.plxdsp_options.params.min_bid=tkn_common.user_info.punderminbid,tkn_plxdsp.init(c.plxdsp_options).then(.fail():s(o,q,h)}}var i=navigator.userAgent||navigator.vendor||window.opera),j=function(){var a=(navigator&&navigator.appVersion||"").toLowerCase(),b=(navigator&&navigator.userAgent||"").toLowerCase(),c=null!==b.match(/ipad.+?os (\d+)/);if(c)return!0;var d=/android/.test(b)&&!/mobile/.test(b);if(d)return!0;var e=/win/.test(a),f=e&&/phone/.test(b),g=e&&!f&&/touch/.test(b);return!!g}(),k=null,l=null,m=null,n=navigator.userAgent.toUpperCase().indexOf("CHROME")!==-1,o=navigator.userAgent.toUpperCase().indexOf("CRIOS")!==-1,p=navigator.userAgent.toUpperCase().indexOf("SAMSUNGBROWSER")!==-1,q=navigator.userAgent.toUpperCase().indexOf("SAFARI")!==-1,r=!(p||q&&!n&&!o);"undefined"!=typeof tkn_common.user_info?h(tkn_common.user_info):a("body").on("tkn:uinfo_loaded",function(a,b){h(b)})}(jQuery);var tkn_recaptcha_helper=function(a,b){function c(a,e){if(p||h(),!o){var f=q(c,this,[a]);return void m.push(f)}var g=_.find(n,{element_selector:a});if("undefined"==typeof g&&(g={element_selector:a},n.push(g)),"undefined"!=typeof e&&e||"undefined"==typeof g.recaptcha_id){var i=grecaptcha.render(b(g.element_selector)[0],{sitekey:k,size:"invisible",callback:);g.recaptcha_id=i}}function d(a,c){b(c).data("g-callback");b(c).trigger("g-callback")}function e(a){if(p||h(),!o){var b=q(e,this,[a]);return void m.push(b)}var c=_.find(n,{element_selector:a});"undefined"!=typeof c&&"undefined"!=typeof c.recaptcha_id&&grecaptcha.reset(c.recaptcha_id)}function f(a){if(p||h(),!o){var b=q(f,this,[a]);return void m.push(b)}var c=_.find(n,{element_selector:a});if("undefined"==typeof c||"undefined"==typeof c.recaptcha_id)return"";var d=grecaptcha.getResponse(c.recaptcha_id);return d}function g(a){if("undefined"!=typeof grecaptcha){var b=_.find(n,{element_selector:a});console.log(grecaptcha,b),grecaptcha.reset(b.recaptcha_id),grecaptcha.execute(b.recaptcha_id)}else d(null,a)}function h(){k=tkn_common.recaptcha.public_key,l="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit&hl="+tkn_common.lang_code,b.getScript(l),p=!0}function i(){for(o=!0;m.length>0;)m.shift()()}function j(a,b){var c="";switch(a){case"signup":c="#js_recaptcha_signup";break;case"lost_email":c="#js_recaptcha_lost";break;case"mobile_signup":c="#js_recaptcha_mobile_signup";break;case"mobile_lost_email":c="#js_recaptcha_mobile_lost";break;case"contact":c="#js_recaptcha_contact";break;case"sticker":c="#js_recaptcha_sticker";break;case"new_comment":c=".js_new_comment_recaptcha";break;case"reply_comment":c=".js_reply_comment_recaptcha_"+b;break;case"report_video":c=".js_report_video_recaptcha";break;case"report_story":c=".js_report_story_recaptcha";break;case"celebrity_discussion":c=".js_celebrity_discussion_recaptcha";break;case"celebrity_feed":c=".js_celebrity_feed_recaptcha";break;case"celebrity_media":c=".js_celebrity_media_recaptcha";break;default:return!1}return f(c)}var k,l,m=[],n=[],o=!1,p=!1,q=return b("body").on("recaptcha:show:signup",function(){c("#js_recaptcha_signup")}),b("body").on("recaptcha:reset:signup",function(){e("#js_recaptcha_signup")}),b("body").on("recaptcha:show:mobile_signup",function(){c("#js_recaptcha_mobile_signup")}),b("body").on("recaptcha:reset:signup",function(){e("#js_recaptcha_mobile_signup")}),b("body").on("recaptcha:show:lost_email",function(){c("#js_recaptcha_lost")}),b("body").on("recaptcha:reset:lost_email",function(){e("#js_recaptcha_lost")}),b("body").on("recaptcha:show:mobile_lost_email",function(){c("#js_recaptcha_mobile_lost")}),b("body").on("recaptcha:reset:mobile_lost_email",function(){e("#js_recaptcha_mobile_lost")}),b("body").on("recaptcha:show:contact",function(){c("#js_recaptcha_contact")}),b("body").on("recaptcha:reset:contact",function(){e("#js_recaptcha_contact")}),b("body").on("recaptcha:show:sticker",function(){c("#js_recaptcha_sticker")}),b("body").on("recaptcha:reset:sticker",function(){e("#js_recaptcha_sticker")}),b("body").on("recaptcha:show:penis_comment",,b("body").on("recaptcha:show:new_comment",function(){c(".js_new_comment_recaptcha")}),b("body").on("recaptcha:reset:new_comment",function(){e(".js_new_comment_recaptcha")}),b("body").on("recaptcha:show:reply_comment",function(a,b){c(".js_reply_comment_recaptcha_"+b)}),b("body").on("recaptcha:reset:reply_comment",,b("body").on("recaptcha:show:casting_page",function(){c("#js_recaptcha_casting")}),b("body").on("recaptcha:reset:casting_page",function(){e("#js_recaptcha_casting")}),b("body").on("recaptcha:show:report_video",function(){c(".js_report_video_recaptcha")}),b("body").on("recaptcha:reset:report_video",function(){e(".js_report_video_recaptcha")}),b("body").on("recaptcha:show:report_story",function(){c(".js_report_story_recaptcha")}),b("body").on("recaptcha:reset:report_story",function(){e(".js_report_story_recaptcha")}),b("body").on("recaptcha:show:celebrity_discussion",function(){c(".js_celebrity_discussion_recaptcha")}),b("body").on("recaptcha:reset:celebrity_discussion",function(){e(".js_celebrity_discussion_recaptcha")}),b("body").on("recaptcha:show:celebrity_feed",function(){c(".js_celebrity_feed_recaptcha")}),b("body").on("recaptcha:reset:celebrity_feed",function(){e(".js_celebrity_feed_recaptcha")}),b("body").on("recaptcha:show:celebrity_media",function(){c(".js_celebrity_media_recaptcha")}),b("body").on("recaptcha:reset:celebrity_media",,{init:h,get_response:j,execute_commands:i,execute_recaptcha:g,show_recaptcha:c,reset_recaptcha:e}}(tkn_recaptcha_helper||{},jQuery),onloadCallback=function(){tkn_recaptcha_helper.execute_commands()},tkn_scroll_top=function(a,b){unction d(){b("body,html").animate({scrollTop:0},f.animation_speed,f.easing_type)}var e={min_distance:100,animation_speed:700,easing_type:"swing",scroll_top_btn:".js_scroll_top",disabled:!1},f={};return b(document).one("tkn:js_ready",function(){c(),b("body").on("click",f.scroll_top_btn,function(){d()}),b(window).on("scroll",function(){if(!f.disabled){var a=b(window).scrollTop();a>f.min_distance?b(f.scroll_top_btn).fadeIn():b(f.scroll_top_btn).fadeOut()}})}),{init:c,toTop:d,disable:}(tkn_scroll_top||{},jQuery),tkn_sticky=function(a,b){function c(){var a=b(".js_sidebar_sticky");e=a.height(),f=b(window).height(),g=a.position().top,h=e+g-f,i=b(window).scrollTop()}function d(){j&&"undefined"!=typeof j.updateSticky&&j.updateSticky()}var e,f,g,h,i,j;b(".js_sidebar_sticky"),b(".content_wrapper");return b(document).one("tkn:js_ready",function(){var a=b(".js_sidebar_sticky");a.length>0&&(j=new StickySidebar(".js_sidebar_sticky",{containerSelector:".content_wrapper",innerWrapperSelector:".inner-wrapper-sticky",topSpacing:0,bottomSpacing:10}))}),{init:c,updateSticky:d}}(tkn_sticky||{},jQuery),tkn_sidebar_webcams=function(a,b){unction d(){if("undefined"!=tkn_common.load_sidebar_webcams&&tkn_common.load_sidebar_webcams&&"undefined"!=tkn_common.categories.main_category_active){var a={main_category_id:tkn_common.categories.main_category_active,webcam_type:tkn_common.webcam_type?tkn_common.webcam_type:"models"};b.ajax({url:tkn_common.url.sidebar_webcams,dataType:"json",type:"post",data:a,tknScope:"sidebar_webcams"}).then(function(a,c,d){return a.success?b.Deferred().resolve(a):b.Deferred().resolve(a)}).done(function(a){b(".js_sidebar_webcams").html(a.data.content),tkn_sticky.updateSticky()}).fail(function(a){"undefined"!=typeof a.message?a.message:tkn_common.general_error_message;b("body").trigger("message:error")})}}return{init:d,celebrity_init:c}}(tkn_sidebar_webcams||{},jQuery);!function(){$(document).one("tkn:js_ready",function(){function a(){for(var a=$(e),c=0;c<a.length;c++)$(a[c]).validate({rules:{signup_username:{required:!0,minlength:f.username_min_length,maxlength:f.username_max_length},signup_password:{required:!0,minlength:f.password_min_length},signup_conf_password:{required:!0,minlength:f.password_min_length,equalTo:$(a[c]).find("input[name=signup_password]")},signup_email:{email:!0}},messages:{signup_username:{required:f.msg_username_required,minlength:f.msg_username_minlength,maxlength:f.msg_username_maxlength},signup_password:{required:f.msg_password_required,minlength:f.msg_password_minlength},signup_conf_password:{required:f.msg_password_required,minlength:f.msg_password_minlength,equalTo:f.msg_password_equal_passwords},signup_email:{email:f.msg_email_invalid}},submitHandler:function(a){var c=$(a).data("recaptcha_selector");return $(c).off("g-callback").bind("g-callback",function(){b(a)}),tkn_recaptcha_helper.execute_recaptcha(c),!1}})}function b(a){var b=!!$(a).data("redirect_link")&&$(a).data("redirect_link"),e={},g=$(a).serializeArray();$.each(g,function(a,b){e[b.name]=b.value}),e.local_storage_data={},e.local_storage_data.view={};var h={};$.each(tkn_history.get_collection(),function(a,b){h[a]=b.id}),e.local_storage_data.view.history=h;var i={};$.each(tkn_already_seen.get_collection(),,e.local_storage_data.view.post=i;var j={};$.each(tkn_categories.get_collection(),function(a,b){j[b.id]=b.views}),e.local_storage_data.view.category=j;var k=[],l=[],m=[];e.local_storage_data.favorite={},$.each(tkn_favorites.get_collection(),function(a,b){switch(b.type){case"post":k.push(b.id);break;case"pornstar":l.push(b.id);break;case"studio":m.push(b.id)}}),e.local_storage_data.favorite.post=k,e.local_storage_data.favorite.pornstar=l,e.local_storage_data.favorite.studio=m,"undefined"!=typeof celeb_favorites&&(e.local_storage_data.celebrity_favorites={},$.each(celeb_favorites.get_collection(),);var n={},o={},p={};e.local_storage_data.rating={},$.each(tkn_rating.get_collection(),function(a,b){switch(b.type){case"post":n[b.id]=b.vote;break;case"pornstar":o[b.id]=b.vote;break;case"studio":p[b.id]=b.vote}}),e.local_storage_data.rating.post=n,e.local_storage_data.rating.pornstar=o,e.local_storage_data.rating.studio=p;var q=tkn_common.url.signup;$.ajax({url:q,dataType:"json",type:"post",data:e,tknScope:"signup_validate",beforeSend:function(){$("body").trigger("loader:show")}}).done(function(c){var e=c.message,f=c.success;return d(e,f),f?"undefined"!=typeof tkn_common.tukifcam&&tkn_common.tukifcam.enabled?void window.location.reload():"undefined"!=typeof tkn_common.uservoice&&tkn_common.uservoice.enabled?void window.location.reload():void(b?window.location.href=b:window.location.href=tkn_common.new_user_profile_enabled?"/"+$(a).find('input[name="signup_username"]').val()+"/feed":tkn_common.url.profile):void $("body").trigger("recaptcha:reset:signup")}).error(function(a,b,e){c({status:b,error:e}),d(f.msg_error_ajax,!1)}).always(function(){$("body").trigger("loader:close")})}function c(a){return $.ajax({url:"/home/log_message",type:"POST",tknScope:"signup_validate",data:a})}function d(a,b){var c=$(".js_signup_message");b?(c.addClass("success"),c.removeClass("error")):(c.addClass("error"),c.removeClass("success")),c.html(a)}var e=".js_signup_form",f=tkn_common.signup_form;$("body").on("click",".js_signup_trigger",function(){$("body").trigger("recaptcha:show:mobile_signup")}),tkn_common.user_id.length||a()})}(),this,function(){"use strict";nction c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,
d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}ction g(a,b,c){function d(b){var c=o,d=p;return o=p=void 0,u=b,r=a.apply(d,c)}function e(a){return u=a,s=setTimeout(h,b),v?d(a):r}function f(a){var c=a-t,d=a-u,e=b-c;return w?Xc(e,q-d):e}function g(a){var c=a-t,d=a-u;return void 0===t||c>=b||c<0||w&&d>=q}function h(){var a=Yc();return g(a)?j(a):void(s=setTimeout(h,f(a)))}function j(a){return s=void 0,x&&o?d(a):(o=p=void 0,r)}function k(){void 0!==s&&clearTimeout(s),u=0,o=t=p=s=void 0}function m(){return void 0===s?r:j(Yc())}function n(){var a=Yc(),c=g(a);if(o=arguments,p=this,t=a,c){if(void 0===s)return e(t);if(w)return s=setTimeout(h,b),d(t)}return void 0===s&&(s=setTimeout(h,b)),r}var o,p,q,r,s,t,u=0,v=!1,w=!1,x=!0;if("function"!=typeof a)throw new TypeError(Jc);return b=l(b)||0,i(c)&&(v=!!c.leading,w="maxWait"in c,q=w?Wc(l(c.maxWait)||0,b):q,x="trailing"in c?!!c.trailing:x),n.cancel=k,n.flush=m,n}unction i(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function j(a){return!!a&&"object"==typeof a}function k(a){return"symbol"==typeof a||j(a)&&Vc.call(a)==Lc}function l(a){if("number"==typeof a)return a;if(k(a))return Kc;if(i(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=i(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Mc,"");var c=Oc.test(a);return c||Pc.test(a)?Qc(a.slice(2),c?2:8):Nc.test(a)?Kc:+a}unction n(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}ion t(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}ion z(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function A(){this.__data__=[]}n I(a){return N(this,a).get(a)}n(a){return Object(ga(a))},ia=Math.ceil,ja=Math.floor,ka=la=Math.min,ma=na=oa=na(!0),pa=qa={}.toString,ra=sa="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ta=a(,ua=(ta.version,a(),va=!1,wa=a(function(a){var b="__core-js_shared__",c=ua[b]||(ua[b]={});(a.exports=("versions",[]).push({version:ta.version,mode:va?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),xa=0,ya=Math.random(),za,Aa=a(function(a){var b=wa("wks"),c=ua.Symbol,d="function"==typeof c,e=a.exports;e.store=b}),Ba=Aa("toStringTag"),Ca="Arguments"==ra(function(){return arguments}()),Da,Ea,Fa=RegExp.prototype.exec,Ga,Ha,Ia=RegExp.prototype.exec,Ja=String.prototype.replace,Ka=Ia,La="lastIndex",Ma(),Na=void 0!==/()??/.exec("")[1],Oa=Ma||Na;Oa&&(Ka);var Pa=Ka,Qa,Ra=!Qa),Sa=ua.document,Ta=ea(Sa)&&ea(Sa.createElement),Ua,Va=!Ra&&!Qa),Wa,Xa=Object.defineProperty,Ya=Ra?Object.defineProperty,Za={f:Ya},$a,_a=Ra,ab={}.hasOwnProperty,bb,cb=a),db,eb,fb="prototype",gb;ua.core=ta,gb.F=1,gb.G=2,gb.S=4,gb.P=8,gb.B=16,gb.W=32,gb.U=64,gb.R=128;var hb=gb;hb({target:"RegExp",proto:!0,forced:Pa!==/./.exec},{exec:Pa});var ib=Aa("species"),jb=!Qa),kb(),lb,mb=Math.max,nb=Math.min,ob=Math.floor,pb=/\$([$&`']|\d\d?|<[^>]*>)/g,qb=/\$([$&`']|\d\d?)/g,rb;lb("replace",2);var sb=Za.f,tb=Function.prototype,ub=/^\s*function ([^ (]*)/,vb="name";vb in tb||Ra&&sb(tb,vb,{configurable:!0,get}),lb("match",1);var wb=Aa("unscopables"),xb=Array.prototype;void 0==xb[wb]&&_a(xb,wb,{});var yb,zb,Ab={},Bb=Object("z").propertyIsEnumerable(0)?Object,Cb,Db=Math.max,Eb=Math.min,Fb,Gb,Hb=wa("keys"),Ib,Jb=Gb(!1),Kb=Ib("IE_PROTO"),Lb,Mb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Nb=Object.keys|,Ob=Ra?Object.defineProperties,Pb=ua.document,Qb=Pb&&Pb.documentElement,Rb=Ib("IE_PROTO"),Sb=function(){},Tb="prototype",Ub=function(){var a,b=Ua("iframe"),c=Mb.length,d="<",e=">";for(b.style.display="none",Qb.appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(d+"script"+e+"document.F=Object"+d+"/script"+e),a.close(),Ub=a.F;c--;)delete Ub[Tb][Mb[c]];return Ub()},Vb=Object.create|,Wb=Za.f,Xb=Aa("toStringTag"),Yb,Zb={};_a(Zb,Aa("iterator"),function(){return this});var $b,_b=Ib("IE_PROTO"),ac=Object.prototype,bc=Object.getPrototypeOf|,cc=Aa("iterator"),dc=!([].keys&&"next"in[].keys()),ec="@@iterator",fc="keys",gc="values",hc,ic,jc=ic(Array,"Array","values");Ab.Arguments=Ab.Array,yb("keys"),yb("values"),yb("entries");for(var kc=Aa("iterator"),lc=Aa("toStringTag"),mc=Ab.Array,nc={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},oc=Nb(nc),pc=0;pc<oc.length;pc++){var qc,rc=oc[pc],sc=nc[rc],tc=ua[rc],uc=tc&&tc.prototype;if(uc&&(uc[kc]||_a(uc,kc,mc),uc[lc]||_a(uc,lc,rc),Ab[rc]=mc,sc))for(qc in jc)uc[qc]||cb(uc,qc,jc[qc],!0)}var vc=na(!0);ic(String,"String");var wc,xc=Aa("iterator"),yc=Array.prototype,zc,Ac,Bc=Aa("iterator"),Cc=ta.getIteratorMethod,Dc=Aa("iterator"),Ec=!1;try{var Fc=[7][Dc]();Fc["return"]=function(){Ec=!0}}catch(Gc){}var Hc;hb(hb.S+hb.F*!Hc),"Array",{from});var Ic=a(function(a,b){(sa,function()return a})}),Jc="Expected a function",Kc=NaN,Lc="[object Symbol]",Mc=/^\s+|\s+$/g,Nc=/^[-+]0x[0-9a-f]+$/i,Oc=/^0b[01]+$/i,Pc=/^0o[0-7]+$/i,Qc=parseInt,Rc="object"==typeof sa&&sa&&sa.Object===Object&&sa,Sc="object"==typeof self&&self&&self.Object===Object&&self,Tc=Rc||Sc||Function("return this")(),Uc=Object.prototype,Vc=Uc.toString,Wc=Math.max,Xc=Math.min,Yc=function(){return Tc.Date.now()},Zc=h,$c="Expected a function",_c=NaN,ad="[object Symbol]",bd=/^\s+|\s+$/g,cd=/^[-+]0x[0-9a-f]+$/i,dd=/^0b[01]+$/i,ed=/^0o[0-7]+$/i,fd=parseInt,gd="object"==typeof sa&&sa&&sa.Object===Object&&sa,hd="object"==typeof self&&self&&self.Object===Object&&self,id=gd||hd||Function("return this")(),jd=Object.prototype,kd=jd.toString,ld=Math.max,md=Math.min,nd,od=m,pd="Expected a function",qd="__lodash_hash_undefined__",rd="[object Function]",sd="[object GeneratorFunction]",td=/[\\^$.*+?()[\]{}|]/g,ud=/^\[object .+?Constructor\]$/,vd="object"==typeof sa&&sa&&sa.Object===Object&&sa,wd="object"==typeof self&&self&&self.Object===Object&&self,xd=vd||wd||Function("return this")(),yd=Array.prototype,zd=Function.prototype,Ad=Object.prototype,Bd=xd["__core-js_shared__"],Cd(),Dd=zd.toString,Ed=Ad.hasOwnProperty,Fd=Ad.toString,Gd=RegExp("^"+Dd.call(Ed).replace(td,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hd=yd.splice,Id=O(xd,"Map"),Jd=O(Object,"create");t.prototype.clear=u,t.prototype["delete"]=v,t.prototype.get=w,t.prototype.has=x,t.prototype.set=y,z.prototype.clear=A,z.prototype["delete"]=B,z.prototype.get=C,z.prototype.has=D,z.prototype.set=E,F.prototype.clear=G,F.prototype["delete"]=H,F.prototype.get=I,F.prototype.has=J,F.prototype.set=K,S.Cache=F;var Kd=S,Ld=function()return"undefined"!=typeof Map?Map()}(),Md="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Nd(),Od(),Pd=2,Qd=20,Rd=["top","right","bottom","left","width","height","size","weight"],Sd="undefined"!=typeof MutationObserver,Td(),Ud,Vd,Wd=da(0,0,0,0),Xd(),Yd(),Zd(),$d=function()return a.prototype.observe,a.prototype.unobserve,a.prototype.disconnect,a.prototype.gatherActive,a.prototype.broadcastActive,a.prototype.clearActive,a.prototype.hasActive,a}(),_d="undefined"!=typeof WeakMap?new WeakMap:new Ld,ae();["observe","unobserve","disconnect"].forEach);var be(),ce=!("undefined"==typeof window||!window.document||!window.document.createElement),de=ce,ee=function(){function a(c,d){var e=this;b(this,a),this.onScroll,this.scrollX=function(){e.axis.x.isOverflowing&&(e.showScrollbar("x"),e.positionScrollbar("x")),e.scrollXTicking=!1},this.scrollY,this.onMouseEnter,this.onMouseMove,this.onMouseLeave,this.onWindowResize,this.hideScrollbars,this.onPointerEvent,this.drag=function(b){var c,d=e.axis[e.draggedAxis].track,f=d.rect[e.axis[e.draggedAxis].sizeAttr],g=e.axis[e.draggedAxis].scrollbar;b.preventDefault(),b.stopPropagation(),c="y"===e.draggedAxis?b.pageY:b.pageX;var h=c-d.rect[e.axis[e.draggedAxis].offsetAttr]-e.axis[e.draggedAxis].dragOffset,i=h/d.rect[e.axis[e.draggedAxis].sizeAttr],j=i*e.contentEl[e.axis[e.draggedAxis].scrollSizeAttr];"x"===e.draggedAxis&&(j=e.isRtl&&a.getRtlHelpers().isRtlScrollbarInverted?j-(f+g.size):j,j=e.isRtl&&a.getRtlHelpers().isRtlScrollingInverted?-j:j),e.contentEl[e.axis[e.draggedAxis].scrollOffsetAttr]=j},this.onEndDrag=function(a){a.preventDefault(),a.stopPropagation(),document.removeEventListener("mousemove",e.drag),document.removeEventListener("mouseup",e.onEndDrag)},this.el=c,this.flashTimeout,
this.contentEl,this.offsetEl,this.maskEl,this.globalObserver,this.mutationObserver,this.resizeObserver,this.scrollbarWidth,this.minScrollbarWidth=20,this.options=f({},a.defaultOptions,d),this.classNames=f({},a.defaultOptions.classNames,this.options.classNames),this.isRtl,this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.recalculate=Zc(this.recalculate.bind(this),64),this.onMouseMove=Zc(this.onMouseMove.bind(this),64),this.hideScrollbars=od(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=od(this.onWindowResize.bind(this),64,{leading:!0}),a.getRtlHelpers=Kd(a.getRtlHelpers),this.getContentElement=this.getScrollElement,this.init()}return d(a,[{key:"init",value},{key:"initDOM",value:function(){var a=this;if(Array.from(this.el.children).filter).length)this.wrapperEl=this.el.querySelector(".".concat(this.classNames.wrapper)),this.contentEl=this.el.querySelector(".".concat(this.classNames.content)),this.offsetEl=this.el.querySelector(".".concat(this.classNames.offset)),this.maskEl=this.el.querySelector(".".concat(this.classNames.mask)),this.placeholderEl=this.el.querySelector(".".concat(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(".".concat(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(".".concat(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.el.querySelector(".".concat(this.classNames.track,".").concat(this.classNames.horizontal)),this.axis.y.track.el=this.el.querySelector(".".concat(this.classNames.track,".").concat(this.classNames.vertical));else{for(this.wrapperEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentEl.classList.add(this.classNames.content),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.offsetEl.appendChild(this.contentEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var b=document.createElement("div"),c=document.createElement("div");b.classList.add(this.classNames.track),c.classList.add(this.classNames.scrollbar),this.options.autoHide||c.classList.add(this.classNames.visible),b.appendChild(c),this.axis.x.track.el=b.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=b.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector(".".concat(this.classNames.scrollbar)),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector(".".concat(this.classNames.scrollbar)),this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var a=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick","touchstart","touchend","touchmove"].forEach),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentEl.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onWindowResize),"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver(function(b){b.forEach(function(b){(b.target===a.el||!a.isChildNode(b.target)||b.addedNodes.length||b.removedNodes.length)&&a.recalculate()})}),this.mutationObserver.observe(this.el,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.resizeObserver=new be(this.recalculate),this.resizeObserver.observe(this.el)}},{key:"recalculate",value:function(){var a=this.heightAutoObserverEl.offsetHeight<=1;this.elStyles=window.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction,this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.contentEl.style.height=a?"auto":"100%",this.placeholderEl.style.width="".concat(this.contentEl.scrollWidth,"px"),this.placeholderEl.style.height="".concat(this.contentEl.scrollHeight,"px"),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft),this.axis.x.track.rect=this.axis.x.track.el.getBoundingClientRect(),this.axis.y.track.rect=this.axis.y.track.el.getBoundingClientRect(),this.axis.x.isOverflowing=(this.scrollbarWidth?this.contentEl.scrollWidth:this.contentEl.scrollWidth-this.minScrollbarWidth)>Math.ceil(this.axis.x.track.rect.width),this.axis.y.isOverflowing=(this.scrollbarWidth?this.contentEl.scrollHeight:this.contentEl.scrollHeight-this.minScrollbarWidth)>Math.ceil(this.axis.y.track.rect.height),this.axis.x.isOverflowing="hidden"!==this.elStyles.overflowX&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==this.elStyles.overflowY&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||this.options.forceVisible===!0,this.axis.y.forceVisible="y"===this.options.forceVisible||this.options.forceVisible===!0,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px"),this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y"),this.hideNativeScrollbar()}},{key:"getScrollbarSize",value:function(){var a,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",c=this.scrollbarWidth?this.contentEl[this.axis[b].scrollSizeAttr]:this.contentEl[this.axis[b].scrollSizeAttr]-this.minScrollbarWidth,d=this.axis[b].track.rect[this.axis[b].sizeAttr];if(this.axis[b].isOverflowing){var e=d/c;return a=Math.max(~~(e*d),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(a=Math.min(a,this.options.scrollbarMaxSize)),a}}},{key:"positionScrollbar",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",c=this.contentEl[this.axis[b].scrollSizeAttr],d=this.axis[b].track.rect[this.axis[b].sizeAttr],e=parseInt(this.elStyles[this.axis[b].sizeAttr],10),f=this.axis[b].scrollbar,g=this.contentEl[this.axis[b].scrollOffsetAttr];g="x"===b&&this.isRtl&&a.getRtlHelpers().isRtlScrollingInverted?-g:g;var h=g/(c-e),i=~~((d-f.size)*h);i="x"===b&&this.isRtl&&a.getRtlHelpers().isRtlScrollbarInverted?i+(d-f.size):i,f.el.style.transform="x"===b?"translate3d(".concat(i,"px, 0, 0)"):"translate3d(0, ".concat(i,"px, 0)")}},{key:"toggleTrackVisibility",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",b=this.axis[a].track.el,c=this.axis[a].scrollbar.el;this.axis[a].isOverflowing||this.axis[a].forceVisible?(b.style.visibility="visible",this.contentEl.style[this.axis[a].overflowAttr]="scroll"):(b.style.visibility="hidden",this.contentEl.style[this.axis[a].overflowAttr]="hidden"),this.axis[a].isOverflowing?c.style.visibility="visible":c.style.visibility="hidden"}},{key:"hideNativeScrollbar",value:function(){if(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth||this.minScrollbarWidth,"px"):0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth||this.minScrollbarWidth,"px"):0,!this.scrollbarWidth){var a=[this.isRtl?"paddingLeft":"paddingRight"];this.contentEl.style[a]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"calc(".concat(this.elStyles[a]," + ").concat(this.minScrollbarWidth,"px)"):this.elStyles[a],this.contentEl.style.paddingBottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"calc(".concat(this.elStyles.paddingBottom," + ").concat(this.minScrollbarWidth,"px)"):this.elStyles.paddingBottom}}},{key:"onMouseMoveForAxis",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.axis[a].track.rect=this.axis[a].track.el.getBoundingClientRect(),this.axis[a].scrollbar.rect=this.axis[a].scrollbar.el.getBoundingClientRect();var b=this.isWithinBounds(this.axis[a].scrollbar.rect);b?this.axis[a].scrollbar.el.classList.add(this.classNames.hover):this.axis[a].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[a].track.rect)?(this.showScrollbar(a),this.axis[a].track.el.classList.add(this.classNames.hover)):this.axis[a].track.el.classList.remove(this.classNames.hover)}},{key:"onMouseLeaveForAxis",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.axis[a].track.el.classList.remove(this.classNames.hover),this.axis[a].scrollbar.el.classList.remove(this.classNames.hover)}},{key:"showScrollbar",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",b=this.axis[a].scrollbar.el;this.axis[a].isVisible||(b.classList.add(this.classNames.visible),this.axis[a].isVisible=!0),this.options.autoHide&&this.hideScrollbars()}},{key:"onDragStart",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",c=this.axis[b].scrollbar.el,d="y"===b?a.pageY:a.pageX;this.axis[b].dragOffset=d-c.getBoundingClientRect()[this.axis[b].offsetAttr],this.draggedAxis=b,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.onEndDrag)}},{key:"getScrollElement",value:function(){return this.contentEl}},{key:"removeListeners",value},{key:"unMount",value},{key:"isChildNode",value},{key:"isWithinBounds",value}],[{key:"getRtlHelpers",value:function(){var b=document.createElement("div");b.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var c=b.firstElementChild;document.body.appendChild(c);var d=c.firstElementChild;c.scrollLeft=0;var e=a.getOffset(c),f=a.getOffset(d);c.scrollLeft=999;var g=a.getOffset(d);return{isRtlScrollingInverted:e.left!==f.left&&f.left-g.left!==0,isRtlScrollbarInverted:e.left!==f.left}}},{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"getElOptions",value:function(a){var b=Array.from(a.attributes).reduce,{});return b}},{key:"removeObserver",value},{key:"initDOMLoadedElements",value},{key:"getOffset",value}]),a}();return ee.defaultOptions={autoHide:!0,forceVisible:!1,classNames:{content:"simplebar-content",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},de&&ee.initHtmlApi(),ee});var tkn_slogan_manager=function(a,b){b(document).one("tkn:js_ready",function(){read_cookie("sktxt")&&b(".js_special_top_wrapper").addClass("hidden"),read_cookie("slgbar")&&b(".js_header_slogan_wrapper").addClass("hidden"),b("body").on("click",".js_remove_top_sentence",function(){b(".js_special_top_wrapper").addClass("hidden"),write_cookie("sktxt",1,!1)}),b("body").on("click",".js_remove_slogan",function(){b(".js_header_slogan_wrapper").addClass("hidden"),write_cookie("slgbar",1,!1)})})}(tkn_slogan_manager||{},jQuery),tkn_social_share=function(a,b){function c(){b("body").on("click",".social_popup",function(a){i=b(this).attr("id"),d(i),j=b(this).attr("href"),e(),a.preventDefault()})}function d(a){switch(a){case"googleplus":g=500,h=700;break;case"twitter":g=420,h=550;break;case"vk":g=600,h=800;break;case"reddit":g=600,h=1e3;break;default:g=600,h=800}}function e(){var a=50,b=50,c="test_window",d=void 0!==window.screenLeft?window.screenLeft:screen.left,e=void 0!==window.screenTop?window.screenTop:screen.top,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,k=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,b=i/2-h/2+d,a=k/3-g/3+e,l=window.open(j,c,"scrollbars=yes, width="+h+", height="+g+", top="+a+", left="+b);l&&l.focus&&l.focus(),f()var g,h,i,j;return a.init=function(){c()},a}(tkn_social_share||{},jQuery);$("body").one("tkn:js_ready",function(){tkn_social_share.init()}),(this,function(a){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var b,c,d=(function(a,b){!function(a){Object.defineProperty(a,"__esModule",{value:!0});var b,c,d(),e=(b=".stickySidebar",c={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1}());a["default"]=e,window.StickySidebar=e}(b)}(b={exports:{}},b.exports),b.exports),e=(c=d)&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c["default"]:c;a["default"]=e,a.__moduleExports=d,Object.defineProperty(a,"__esModule",{value:!0})});var tkn_syncronize=function(a,b){b(document).one("tkn:js_ready",function(){var a=JSON.parse(_.unescape(tkn_common.sync_user_data));if(b.isEmptyObject(a))return!1;"undefined"!=typeof a.favorite&&tkn_favorites.synchronize(a.favorite),"undefined"!=typeof a.celeb_favorite&&celeb_favorites.synchronize(a.celeb_favorite),"undefined"!=typeof a.rating&&tkn_rating.synchronize(a.rating),"undefined"!=typeof a.already_seen_videos&&tkn_already_seen.synchronize(a.already_seen_videos),"undefined"!=typeof a.already_seen_stories&&tkn_already_seen.synchronize(a.already_seen_stories,"story"),"undefined"!=typeof a.most_viewed_categories&&tkn_categories.synchronize(a.most_viewed_categories),"undefined"!=typeof a.video_history&&tkn_history.synchronize(a.video_history),b("body").trigger("favorites_menu:init");b.ajax({url:tkn_common.url.confirm_synchronize,tknScope:"syncronize",type:"POST"})})}(tkn_syncronize||{},jQuery),tkn_thumbnails=function(a,b){function c(c,d){if(y(),!b(c).hasClass("entity_upload_button")){if("undefined"==typeof d){if(L=b(c).find(".thumb_preview"),0==L.length)return}else L=d;0==b(c).find(".js_thumb").length&&a.video_preview_playable&&"video"==tkn_thumb_selector.get_video_preview_mode()||(f(L),T=b(c).data("post_duration"),V=b(c).parents("[data-disable_thumbnail_bar]").data("disable_thumbnail_bar"),"1"==V&&void 0!=V||(A(),L.siblings(".video_item_stats").css("bottom","-25px")),p(),P=setInterval(p,D))}}function d(){tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet()||(b("body").on("mouseenter",".video_item_wrapper, .video_block_wrapper",function(a){"off"!=b(this).data("rotation")&&0==b(this).find(".js_video_preview ").length&&(b(this).find(".thumb_preview").removeClass("hidden"),c(this))}),b("body").on("mouseleave",".video_item_wrapper, .video_block_wrapper",function(a){"off"!=b(this).data("rotation")&&(b(this).find(".thumb_preview").addClass("hidden"),clearInterval(P),I&&s(q(I)),t(0),b(this).find(".video_item_stats").removeAttr("style"),y())}),b("body").on("click",".js_thumb",function(a){clearInterval(P)}),b("body").on("mouseenter mousemove","#thumbnail_bar",function(a){if(a.stopImmediatePropagation(),clearInterval(P),L){L.siblings(".video_item_stats").css("bottom","-25px");var c,d=b(this).children("#slider").outerWidth(),e=Math.min(.9,Math.max(0,(a.pageX-(b(this).offset().left+d/2))/b(this).outerWidth()).toFixed(2));t(e);var f=w(e);p(f),Q=e,B();var g=L.siblings("#thumbnail_bar").children("#duration"),h=g.outerWidth();c=(h/2/b(this).outerWidth()).toFixed(2);var i=Math.min(1,((a.pageX-b(this).offset().left)/b(this).outerWidth()).toFixed(2));R=i;var j=((b(this).outerWidth()-h/2)/b(this).outerWidth()).toFixed(2);i<h/2/b(this).outerWidth()?g.css("left","0%"):i>=j?g.css("left",100-h/b(this).outerWidth()*100+"%"):(c=(h/2/b(this).outerWidth()).toFixed(2),g.css("left",100*(i-c)+"%"))}}),b("body").on("mouseleave","#thumbnail_bar",function(a){F=0,p(),P=setInterval(p,D)}),b("body").on("click","#thumbnail_bar")),b("body").on("tkn:already_seen_parsed",e)}function e(){(tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet())&&(b("body").on("swipeleft",".video_item_wrapper, .video_block_wrapper",function(){0==b(this).find(".js_video_preview ").length&&a.slide(this,"right")}),b("body").on("swiperight",".video_item_wrapper, .video_block_wrapper",function(){0==b(this).find(".js_video_preview ").length&&a.slide(this,"left")}),b("body").on("swipeleft","#thumb_slide",function(a){a.stopImmediatePropagation(),clearInterval(P),W="right",x()}),b("body").on("swiperight","#thumb_slide",function(a){a.stopImmediatePropagation(),clearInterval(P),W="left",x()})),b(window).scroll("scroll",y)}function f(a){var c=b(a).data("src");return c&&(b(a).data("src",!1),
b(a).prop("src",c)),o(),G=a,k(),l(),m(),0!==J.length&&void(K=J.length)}function g(a){a&&(M=a.outerWidth(),N=a.outerHeight(),O=K*M)}function h(){L&&(L.siblings("#image_thumb").css({width:M,height:N}),L.siblings("#image_thumb").find("#thumbnail_wrapper").css("width",O),L.siblings("#image_thumb").children("#thumbnail_wrapper").find("*").css({width:M,height:N}))}function j(){L&&(Y="left"==W?K-1:0,v("left"==W?K-1:0),L.siblings("#image_thumb").css("margin-left","left"==W?-M:M),L.siblings("#image_thumb").animate({"margin-left":0},"slow"),L.siblings("#image_thumb").find("#thumbnail_wrapper").css("margin-left","left"==W?-O+M:0),L.siblings(".video_item_stats").css("bottom","-20px"))}function k(){var a=G.data("base_url");a||(a=G.attr("src")),H=a.replace(a.substr(a.lastIndexOf("/")+1),"")}function l(){var a=G.attr("src"),b=a.substr(a.lastIndexOf("/")+1),c=b.split(".")[0];I=parseInt(c)}function m(){J=n(G.data("thumbs"))}function n(a){if(!a)return[];if(Array.isArray(a))return[];for(var b=new RegExp("\\[(\\d+\\.\\.\\d+)\\]","g"),c=[],d=0,e=a.match(b);d<e.length;d++)for(var f=e[d].substring(1,e[d].length-1).split(".."),g=parseInt(f[0],10)||0;g<=(parseInt(f[1],10)||0);g++)c.push(g);return c}function o(){F=0,P="",D=1e3,E=".jpg",G="",H="",I="",J=[]}function p(a){if(!J.length)return!1;if(F>=J.length&&(F=0),void 0==a){var b=q(J[F]);u(),F++}else var b=q(J[a]);s(b)}function q(a){var b=H+a+E;return b}function r(a){var b=G.attr("src"),c=b.substr(b.lastIndexOf("/")+1),d=a.substr(a.lastIndexOf("/")+1),e=G.attr("srcset"),f="";return f=e?e.split(c).join(d):a.replace(d,c)}function s(a){if("undefined"!=typeof G){r(a);G.attr("src",a),G.attr("srcset","")}}function t(a){var b;L&&(b=tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet()?L.siblings("#image_thumb").children("#thumbnail_bar").find("#slider"):L.siblings("#thumbnail_bar").children("#slider"),b.css("left",100*a+"%"))}function u(){var a=.9/(K-1);Q=F<=0?0:F*a,t(Q)}function v(a){var b=.9/(K-1);U=a<=0?0:a*b,B(),t(U)}function w(a){var b,c=.9/(K-1);return b=0==a?0:Math.round(a/c)}function x(){P=setInterval(function(){"left"==W?Y--:Y++,Y<=K-1&&Y>=0?(v(Y),L&&L.siblings("#image_thumb").find("#thumbnail_wrapper").animate({"margin-left":"left"==W?"+="+M:"-="+M},"slow")):y()},X)}function y(){return clearInterval(P),L&&(L.siblings("#thumbnail_bar").remove(),L.siblings("#image_thumb").animate({"margin-left":"left"==W?M:-M},"slow",function(){b(this).siblings(".video_item_stats").removeAttr("style"),b(this).remove()})),W="",Y=0,M=0,N=0,O=0,L=null,!1}function z(){if(L&&(0==L.siblings("#image_thumb").length&&L.siblings(".thumb_preview").before('<div id="image_thumb"><div id="thumbnail_bar"><span id="slider"></span><span id="duration"></span></div><div id="thumbnail_wrapper"></div></div>'),0==L.siblings("#image_thumb").find("#thumbnail_wrapper").children("img").length))for(i=0;i<K;i++)"undefined"!=typeof J[i]&&b("<img>").appendTo(L.siblings("#image_thumb").find("#thumbnail_wrapper")).attr({id:"thumb_slide",src:q(J[i])})}function A(){tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet()||L&&0==L.siblings("#thumbnail_bar").length&&L.siblings(".video_item_stats").after('<div id="thumbnail_bar"><span id="slider"></span><span id="duration"></span></div>')}function B(){var a;if(L){S=tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet()?0==U?0:(T*U).toFixed():0==R?0:(T*R).toFixed();var b=Math.floor(S/3600),c=Math.floor((S-3600*b)/60),d=S-3600*b-60*c;b<10&&(b="0"+b),c<10&&(c="0"+c),d<10&&(d="0"+d),a=b>0?b+":"+c+":"+d:c+":"+d,tkn_is_mobile.is_mobile()||tkn_is_tablet.is_tablet()?L.siblings("#image_thumb").children("#thumbnail_bar").find("#slider").text(a):L.siblings("#thumbnail_bar").children("#duration").text(a)}}function C(){try{amplify.store.localStorage("seek",S)}catch(a){}}var D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W="",X=1e3,Y=0;return a.video_preview_playable=!1,a.init=function(){d()},a.manual_rotate_thumbs=function(a,d){"off"!=b(a).data("rotation")&&(b(a).find(".thumb_preview").removeClass("hidden"),c(a))},a.start_thumb_rotation=c,a.slide=function(a,c){y(),L=b(a).find(".js_video_preview, .js_thumb"),"undefined"!=typeof L&&0!=L.length&&(f(L),T=b(a).data("post_duration"),V=b(a).parents("[data-disable_thumbnail_bar]").data("disable_thumbnail_bar"),W=c,"1"==V&&void 0!=V||(g(L),z(),h(),j(),x()))},a.update_format=function(a){var c={small:"240x135",medium:"320x180",large:"400x225"};c[a]&&(a=c[a]),b(".video_item_thumbnail img").each(function(c,d){var e=b(d).attr("src");e&&b(d).attr("src",e.replace(/\d+x\d+/,a))})},a.clear=y,a}(tkn_thumbnails||{},jQuery);$("body").one("tkn:js_ready",function(){tkn_thumbnails.init()});var tkn_thumb_selector=function(a,b){var c=!1;return a.current_size=!1,a.update_video_preview_mode=function(){c&&("photo"==c?b(".js_video_preview").removeClass("js_video_preview").addClass("js_thumb"):b(".js_thumb:not(.unavailable_video_preview)").removeClass("js_thumb").addClass("js_video_preview"))},a.change_video_preview_mode=function(a,d){if("undefined"==typeof d&&(d=!0),d===!0||a!==tkn_thumb_selector.get_video_preview_mode())if(c=a,d){var e={mode:a};b.ajax({url:"/user/set_video_preview_mode",dataType:"json",type:"post",data:e,tknScope:"thumb_size_selector",beforeSend:function(){b("body").trigger("loader:show")}}).done(function(c){c&&"undefined"!=typeof c.success&&1==c.success&&("photo"==a?b(".js_video_preview").removeClass("js_video_preview").addClass("js_thumb"):b(".js_thumb:not(.unavailable_video_preview)").removeClass("js_thumb").addClass("js_video_preview"))}).always(function(){b("body").trigger("loader:close")})}else"photo"==a?b(".js_video_preview").removeClass("js_video_preview").addClass("js_thumb"):b(".js_thumb:not(.unavailable_video_preview)").removeClass("js_thumb").addClass("js_video_preview")},a.get_video_preview_mode=function(){return c||(c=b(".js_video_preview").length>0?"video":"photo"),c},a.change_thumb_size=function(a){var c={thumb_size:a};b.ajax({url:"/user/set_thumb_size",dataType:"json",type:"post",data:c,tknScope:"thumb_size_selector",beforeSend:function(){b("body").trigger("loader:show")}}).done(function(){b(".video_item_wrapper").removeClass("video_item_small video_item_medium video_item_large").addClass("video_item_"+a),b(".video_item_wrapper.entity_upload_button").removeClass("upload_item_small upload_item_medium upload_item_large").addClass("upload_item_"+a),tkn_thumbnails.update_format(a)}).always(function(){b("body").trigger("loader:close")})},b(document).one("tkn:js_ready",function(){a.current_size=b(".thumb_size_item_selected").data("thumb_size"),b(".js_thumb_size_selector_dropdown_item").on("click",function(c){c.stopPropagation();var d=b(this).data("thumb_size");a.current_size=d,tkn_thumb_selector.change_thumb_size(d),b(".js_thumb_size_selector_dropdown_item.thumb_size_item_selected").removeClass("thumb_size_item_selected"),b(".js_thumb_size_selector_dropdown_item[data-thumb_size="+d+"]").addClass("thumb_size_item_selected")}),b(".js_toggle_video").each(function(a,c){var d=b(c),e=d.hasClass("toggle_on")?"photo":"video";"video"===e&&d.prop("checked",!0),d.on("click",function(a){a.stopPropagation(),b(".js_toggle_video").toggleClass("toggle_on");var c=d.hasClass("toggle_on")?"on":"off";"on"===c?(d.prop("checked",!1),e="photo"):(d.prop("checked",!0),e="video"),tkn_thumb_selector.change_video_preview_mode(e)})})}),a}(tkn_thumb_selector||{},jQuery),tkn_toggle=function(a,b){function c(a,c){c?(b(a).removeClass("icon-ic_18_upl_tool_more"),b(a).addClass("icon-ic_18_upl_tool_less")):(b(a).addClass("icon-ic_18_upl_tool_more"),b(a).removeClass("icon-ic_18_upl_tool_less"))}b(document).one("tkn:js_ready",function(){b("body").on("click",".js_toggle",function(){var a=b(this).data("toggle_target"),d=b(this).hasClass("toggle_show"),e=b(this).find(".icon")[0];d?(b(a).hide(),b(this).removeClass("toggle_show"),c(e,!1)):(b(a).show(),b(this).addClass("toggle_show"),c(e,!0))})})}(tkn_toggle||{},jQuery),tkn_view_counter=function(a,b){function c(a,b){var c=tkn_common.url.save_view+"/"+a+"/"+b;f(c)}function d(a,b){var c=tkn_common.url.save_like+"/"+a+"/"+b;console.log(c),f(c)}function e(a,c){var d=tkn_common.url.save_hash_count;return b.ajax(d,{method:"POST",tknScope:"view_counter",data:{hash_type:a,hash_id:c}})function g(){if("undefined"!=typeof tkn_common.output_pixel_tags)for(var a in tkn_common.output_pixel_tags)f(tkn_common.output_pixel_tags[a])}return b(document).on("tkn:save_view",{},function(a,b,d){setTimeout(function(){c(b,d)},100)}),b(document).on("tkn:save_like",{},function(a,b,c){console.log("save_like",b,c),setTimeout(function(){d(b,c)},100)}),b(document).on("tkn:save_hash_count",{},function(a,b,c){setTimeout,100)}),b(document).one("tkn:js_ready"),a}(tkn_view_counter||{},jQuery);