/**
 * Copyright 2015 Longtail Ad Solutions Inc.
 *
 * JW Showcase v3.9.3
 * @preserve
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
 * express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 **/
!function(a){function b(a){return"string"==typeof a&&(!!g[a.toLowerCase()]&&a.toLowerCase())}function c(a){return"string"==typeof a&&(!!h[a.toLowerCase()]&&a.toLowerCase())}r f="auto",g={"":!0,lr:!0,rl:!0},h={start:!0,middle:!0,end:!0,left:!0,right:!0};e.prototype.getCueAsHTML=a.VTTCue=a.VTTCue||e}(this),function(a){ e={"":!0,up:!0};a.VTTRegion=a.VTTRegion||d}(this),function(a){unction c(a,c,d){switch(d){case"webvtt.font.color":case"webvtt.font.opacity":var e=Services.prefs.getCharPref("webvtt.font.color"),f=Services.prefs.getIntPref("webvtt.font.opacity")/100;t.fontSet=b(e,f);break;case"webvtt.font.scale":s=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var g=Services.prefs.getCharPref("webvtt.bg.color"),h=Services.prefs.getIntPref("webvtt.bg.opacity")/100;t.backgroundSet=b(g,h);break;case"webvtt.edge.color":case"webvtt.edge.type":var i=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "],j=Services.prefs.getIntPref("webvtt.edge.type"),k=Services.prefs.getCharPref("webvtt.edge.color");t.edgeSet=i[j]+b(k)}}tion h(a,b,c){r j=a;if(i(),b.startTime=h(),i(),"--\x3e"!==a.substr(0,3))throw new d(d.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+j);a=a.substr(3),i(),b.endTime=h(),i(),function(a,b){var d=new f;g(a,function(a,b){switch(a){case"region":for(var e=c.length-1;e>=0;e--)if(c[e].id===b){d.set(a,c[e].region);break}break;case"vertical":d.alt(a,b,["rl","lr"]);break;case"line":var f=b.split(","),g=f[0];d.integer(a,g),d.percent(a,g)&&d.set("snapToLines",!1),d.alt(a,g,["auto"]),2===f.length&&d.alt("lineAlign",f[1],["start",w,"end"]);break;case"position":f=b.split(","),d.percent(a,f[0]),2===f.length&&d.alt("positionAlign",f[1],["start",w,"end"]);break;case"size":d.percent(a,b);break;case"align":d.alt(a,b,["start",w,"end","left","right"])}},/:/,/\s/),b.region=d.get("region",null),b.vertical=d.get("vertical",""),b.line=d.get("line","auto"!==b.line?b.line:"auto"),b.lineAlign=d.get("lineAlign","start"),b.snapToLines=d.get("snapToLines",!0),b.size=d.get("size",100),b.align=d.get("align",w),b.position=d.get("position","auto"!==b.position?b.position:"auto"),b.positionAlign=d.get("positionAlign",{start:"start",left:"start",middle:"middle",center:"center",end:"end",right:"end"},b.align)}(a,b)}tion m(){}function n(a,b,c){var d="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),e="rgba(255, 255, 255, 1)",f="rgba(0, 0, 0, 0.8)",g="";void 0!==t&&(e=t.fontSet,f=t.backgroundSet,g=t.edgeSet),d&&(e="rgb(255, 255, 255)",f="rgb(0, 0, 0)"),m.call(this),this.cue=b,this.cueDiv=i(a,b.text);var h={color:e,backgroundColor:f,textShadow:g,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};d||(h.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",h.unicodeBidi="plaintext"),this.applyStyles(h,this.cueDiv),this.div=a.document.createElement("div"),h={textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},d||(h.direction=k(this.cueDiv),h.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(h),this.div.appendChild(this.cueDiv);var j=0;switch(b.positionAlign){case"start":j=b.position;break;case"middle":j=b.position-b.size/2;break;case"end":j=b.position-b.size}""===b.vertical?this.applyStyles({left:this.formatStyle(j,"%"),width:this.formatStyle(b.size,"%")}):this.applyStyles({top:this.formatStyle(j,"%"),height:this.formatStyle(b.size,"%")}),this.move=function o(a){var b,c,d,e,f="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var g=(g=a.div.childNodes)&&(g=g[0])&&g.getClientRects&&g.getClientRects();a=a.div.getBoundingClientRect(),b=g?Math.max(g[0]&&g[0].height||0,a.height/g.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight,f&&!this.lineHeight&&(this.lineHeight=13)}unction q(){}var r=["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"],s=1;if("undefined"!=typeof Services){var t={};r.forEach(function(a){c(void 0,void 0,a),Services.prefs.addObserver(a,c,!1)})}var u=Object.create||),v=new a.VTTCue(0,0,""),w="middle"!==v.align?v.align:"middle";d.prototype=u(Error.prototype),d.prototype.constructor=d,d.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},f.prototype={set:get:has:alt:integer:percent:;var x={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},y={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},z={v:"title",lang:"lang"},A={rt:"ruby"},B=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];m.prototype.applyStc])},m.prototype.formatSa+b},n.prototype=u(m.prototype),n.prototype.constructor=n,o.prototype.=b}},o.prototype.overtop},o.prototype.overlapn!1},o.prototype.wight},o.prototype.overlapsOppositeom}},o.prototype.intersectPercenth)},o.prototype.toCSSCompatVath}},o.getSimpleBoxPosi|c}},q.StringDec)}}},q.convertCueToDOMull};q.processCues=function(a,b,c){if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var d=a.document.createElement("div");if(d.style.position="absolute",d.style.left="0",d.style.right="0",d.style.top="0",d.style.bottom="0",d.style.margin="1.5%",c.appendChiln!1}(b)){var e=[],f=o.getSimpleBoxPosition(d),g=Math.round(.05*f.height*100)/100,h={font:g*s+"px sans-seric))}()}else for(var i=0;i<b.length;i++)d.appendChild(b[i].displayState)},q.Pa=[]},q.Parser.prototype={reportOrThrowE(a)},parse:functio),c}function c(a){var b=new f;if])}},/=/,/\s/),b.has("id")){var c=new e.window.VTTRegion;c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),e.onregion&&e.onregion(c),e.regionList.push({id:b.get("id"),region:c})}}var e=this;a&&(e.buffer+=e.decoder.decode(a,{stream:!0}));try{var i;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;i=b();var j=i.match(/^WEBVTT([ \t].*)?$/);if(!j||!j[0])throw new d(d.Errors.BadSignature);e.state="HEADER"}for(var k=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(k?k=!1:i=b(),e.state){case"HEADER":/:/.test(i)?function(a)b)}},/:/)}(i):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new e.window.VTTCue(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{h(i,e.cue,e.regionList)}catch(a){e.reportOrThrowError(a),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(k=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(a){e.reportOrThrowError(a),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},fhis}},a.WebVTT=q}(this),"undefined"!=typeof module&&module.exports&&(this["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]),function(a){"use strb)}function d(a){var b=0;thisb])},this.offset=function(c){if((b+=c)<0)throw new Error("Seeking past start of the buffer");if(b>a.length)throw new Error("Seeking past EOF")},this.match=function(c){if(c.length>b+a.length)return!1;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return!1;return!0}}function e(a){var b=0;this.emit=function(c){var d,e=O;for(d=0;d<arguments.length;++d)e=Number(arguments[d]),a[b++]=e;return e}}function f(a){var c=0,d=function(a){for(var c=[],d=0,e=a.length;d<a.length;){var f=a.charCodeAt(d);if(b(f,55296,57343))if(b(f,56320,57343))c.push(65533);else if(d===e-1)c.push(65533);else{var g=a.charCodeAt(d+1);if(b(g,56320,57343)){var h=1023&f,i=1023&g;d+=1,c.push(65536+(h<<10)+i)}else c.push(65533)}else c.push(f);d+=1}return c}(a);this.offset=function(a){if((c+=a)<0)throw new Error("Seeking past start of the buffer");if(c>d.length)throw new Error("Seeking past EOF")},this.get=function(){return c>=d.length?P:d[c]}}function g(){var a="";this.string=function(){return a},this.emit=function(b){b<=65535?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(1023&be=0}function i(a,b){if(a)throw new h("Decoder error");return b||6function o(a){if(a>39419&&a<189e3||a>1237575)return null;var b,c=0,d=0,e=n("gb18030");for(b=0;b<e.length;++b){var f=e[b];if(!(f[0]<=a))break;c=f[0],d=f[1]}return d+a-c}function p(a){var b,c=0,d=0,e=n("gb18030");for(b=0;b<e.length;++b){var f=e[b];if(!(f[1]<=a))break;c=f[1],d=f[0]}return d+a-c}function q(a,b){if(!(this instanceof q))return new q(a,b);if(a=a?String(a):T,b=Object(b),this._encoding=k(a),null===this._encoding||"replacement"===this._encoding.name)throw new TypeError("Unknown encoding: "+a);if(!this._encoding.getDecoder)throw new Error("Decoder not present. Did you forget to include encoding-indexes.js?");return this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._options={fatal:Boolean(b.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this}function r(a,b){if(!(this instanceof r))return new r(a,b);a=a?String(a):T,b=Object(b),this._encoding=k(a);var c=b.NONSTANDARD_allowLegacyEncoding,d="utf-8"!==this._encoding.name&&"utf-16le"!==this._encoding.name&&"utf-16be"!==this._encoding.name;if(null===this._encoding||d&&!c)throw new TypeError("Unknown encoding: "+a);if(!this._encoding.getEncoder)throw new Error("Encoder not present. Did you forget to include encoding-indexes.js?");return this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(b.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",ame}}):this.encoding=this._encoding.name,this}function s(a){var c=a.fatal,d=0,e=0,f=0,g=0;this.decode=function(a){var h=a.get();if(h===O)return 0!==e?i(c):P;if(a.offset(1),0===e){if(b(h,0,127))return h;if(b(h,194,223))e=1,g=128,d=h-192;else if(b(h,224,239))e=2,g=2048,d=h-224;else{if(!b(h,240,244))return i(c);e=3,g=65536,d=h-240}return d*=Math.pow(64,e),null}if(!b(h,128,191))return d=0,e=0,f=0,g=0,a.offset(-1),i(c);if(f+=1,d+=(h-128)*Math.pow(64,e-f),f!==e)return null;var j=d,k=g;return d=0,e=0,f=0,g=0,b(j,k,1114111)&&!b(j,55296,57343)?j:i(c)}}function t(a){a.fatal;this.encode=function(a,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,55296,57343))return j(e);if(b(e,0,127))return a.emit(e);var f,g;b(e,128,2047)?(f=1,g=192):b(e,2048,65535)?(f=2,g=224):b(e,65536,1114111)&&(f=3,g=240);for(var h=a.emit(c(e,Math.pow(64,f))+g);f>0;){var i=c(e,Math.pow(64,f-1));h=a.emit(128+i%64),f-=1}return h}}function u(a,c){var d=c.fatal;this.decode=function(c){var e=c.get();if(e===O)return P;if(c.offset(1),b(e,0,127))return e;var f=a[e-128];return null===f?i(d):f}}function v(a,c){c.fatal;this.encode=function(c,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,0,127))return c.emit(e);var f=m(e,a);return null===f&&j(e),c.emit(f+128)}}function w(a){var c=a.fatal,d=0,e=0,f=0;this.decode=function(a){var g=a.get();if(g===O&&0===d&&0===e&&0===f)return P;g!==O||0===d&&0===e&&0===f||(d=0,e=0,f=0,i(c)),a.offset(1);var h;if(0!==f)return h=null,b(g,48,57)&&(h=o(10*(126*(10*(d-129)+(e-48))+(f-129))+g-48)),d=0,e=0,f=0,null===h?(a.offset(-3),i(c)):h;if(0!==e)return b(g,129,254)?(f=g,null):(a.offset(-2),d=0,e=0,i(c));if(0!==d){if(b(g,48,57))return e=g,null;var j=d,k=null;d=0;var m=g<127?64:65;return(b(g,64,126)||b(g,128,254))&&(k=190*(j-129)+(g-m)),h=null===k?null:l(k,n("gb18030")),null===k&&a.offset(-1),null===h?i(c):h}return b(g,0,127)?g:128===g?8364:b(g,129,254)?(d=g,null):i(c)}}function x(a){a.fatal;this.encode=function(a,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,0,127))return a.emit(e);var f=m(e,n("gb18030"));if(null!==f){var g=c(f,190)+129,h=f%190,i=h<63?64:65;return a.emit(g,h+i)}f=p(e);var j=c(c(c(f,10),126),10);f-=10*j*126*10;var k=c(c(f,10),126);f-=10*k*126;var l=c(f,10),o=f-10*l;return a.emit(j+129,k+48,l+129,o+48)}}function y(a){var c=a.fatal,d=!1,e=0;this.decode=function(a){var f=a.get();if(f===O&&0===e)return P;if(f===O&&0!==e)return e=0,i(c);if(a.offset(1),126===e)return e=0,123===f?(d=!0,null):125===f?(d=!1,null):126===f?126:10===f?null:(a.offset(-1),i(c));if(0!==e){var g=e;e=0;var h=null;return b(f,33,126)&&(h=l(190*(g-1)+(f+63),n("gb18030"))),10===f&&(d=!1),null===h?i(c):h}return 126===f?(e=126,null):d?b(f,32,127)?(e=f,null):(10===f&&(d=!1),i(c)):b(f,0,127)?f:i(c)}}function z(a){var d=(a.fatal,!1);this.encode=function(a,e){var f=e.get();if(f===P)return O;if(e.offset(1),b(f,0,127)&&d)return e.offset(-1),d=!1,a.emit(126,125);if(126===f)return a.emit(126,126);if(b(f,0,127))return a.emit(f);if(!d)return e.offset(-1),d=!0,a.emit(126,123);var g=m(f,n("gb18030"));if(null===g)return j(f);var h=c(g,190)+1,i=g%190-63;return b(h,33,126)&&b(i,33,126)?a.emit(h,i):j(f)}}function A(a){var c=a.fatal,d=0,e=null;this.decode=function(a){if(null!==e){var f=e;return e=null,f}var g=a.get();if(g===O&&0===d)return P;if(g===O&&0!==d)return d=0,i(c);if(a.offset(1),0!==d){var h=d,j=null;d=0;var k=g<127?64:98;if((b(g,64,126)||b(g,161,254))&&(j=157*(h-129)+(g-k)),1133===j)return e=772,202;if(1135===j)return e=780,202;if(1164===j)return e=772,234;if(1166===j)return e=780,234;var m=null===j?null:l(j,n("big5"));return null===j&&a.offset(-1),null===m?i(c):m}return b(g,0,127)?g:b(g,129,254)?(d=g,null):i(c)}}function B(a){a.fatal;this.encode=function(a,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,0,127))return a.emit(e);var f=m(e,n("big5"));if(null===f)return j(e);var g=c(f,157)+129,h=f%157,i=h<63?64:98;return a.emit(g,h+i)}}function C(a){var c=a.fatal,d=0,e=0;this.decode=function(a){var f=a.get();if(f===O)return 0===d&&0===e?P:(d=0,e=0,i(c));a.offset(1);var g,h;return 0!==e?(g=e,e=0,h=null,b(g,161,254)&&b(f,161,254)&&(h=l(94*(g-161)+f-161,n("jis0212"))),b(f,161,254)||a.offset(-1),null===h?i(c):h):142===d&&b(f,161,223)?(d=0,65377+f-161):143===d&&b(f,161,254)?(d=0,e=f,null):0!==d?(g=d,d=0,h=null,b(g,161,254)&&b(f,161,254)&&(h=l(94*(g-161)+f-161,n("jis0208"))),b(f,161,254)||a.offset(-1),null===h?i(c):h):b(f,0,127)?f:142===f||143===f||b(f,161,254)?(d=f,null):i(c)}}function D(a){a.fatal;this.encode=function(a,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,0,127))return a.emit(e);if(165===e)return a.emit(92);if(8254===e)return a.emit(126);if(b(e,65377,65439))return a.emit(142,e-65377+161);var f=m(e,n("jis0208"));if(null===f)return j(e);var g=c(f,94)+161,h=f%94+161;return a.emit(g,h)}}function E(a){var c=a.fatal,d={ASCII:0,escape_start:1,escape_middle:2,escape_final:3,lead:4,trail:5,Katakana:6},e=d.ASCII,f=!1,g=0;this.decode=function(a){var h=a.get();switch(h!==O&&a.offset(1),e){default:case d.ASCII:return 27===h?(e=d.escape_start,null):b(h,0,127)?h:h===O?P:i(c);case d.escape_start:return 36===h||40===h?(g=h,e=d.escape_middle,null):(h!==O&&a.offset(-1),e=d.ASCII,i(c));case d.escape_middle:var j=g;return g=0,36!==j||64!==h&&66!==h?36===j&&40===h?(e=d.escape_final,null):40!==j||66!==h&&74!==h?40===j&&73===h?(e=d.Katakana,null):(h===O?a.offset(-1):a.offset(-2),e=d.ASCII,i(c)):(e=d.ASCII,null):(f=!1,e=d.lead,null);case d.escape_final:return 68===h?(f=!0,e=d.lead,null):(h===O?a.offset(-2):a.offset(-3),e=d.ASCII,i(c));case d.lead:return 10===h?(e=d.ASCII,i(c,10)):27===h?(e=d.escape_start,null):h===O?P:(g=h,e=d.trail,null);case d.trail:if(e=d.lead,h===O)return i(c);var k=null,m=94*(g-33)+h-33;return b(g,33,126)&&b(h,33,126)&&(k=!1===f?l(m,n("jis0208")):l(m,n("jis0212"))),null===k?i(c):k;case d.Katakana:return 27===h?(e=d.escape_start,null):b(h,33,95)?65377+h-33:h===O?P:i(c)}}}function F(a){var d=(a.fatal,{ASCII:0,lead:1,Katakana:2}),e=d.ASCII;this.encode=function(a,f){var g=f.get();if(g===P)return O;if(f.offset(1),(b(g,0,127)||165===g||8254===g)&&e!==d.ASCII)return f.offset(-1),e=d.ASCII,a.emit(27,40,66);if(b(g,0,127))return a.emit(g);if(165===g)return a.emit(92);if(8254===g)return a.emit(126);if(b(g,65377,65439)&&e!==d.Katakana)return f.offset(-1),e=d.Katakana,a.emit(27,40,73);if(b(g,65377,65439))return a.emit(g-65377-33);if(e!==d.lead)return f.offset(-1),e=d.lead,a.emit(27,36,66);var h=m(g,n("jis0208"));if(null===h)return j(g);var i=c(h,94)+33,k=h%94+33;return a.emit(i,k)}}function G(a){var c=a.fatal,d=0;this.decode=function(a){var e=a.get();if(e===O&&0===d)return P;if(e===O&&0!==d)return d=0,i(c);if(a.offset(1),0!==d){var f=d;if(d=0,b(e,64,126)||b(e,128,252)){var g=e<127?64:65,h=f<160?129:193,j=l(188*(f-h)+e-g,n("jis0208"));return null===j?i(c):j}return a.offset(-1),i(c)}return b(e,0,128)?e:b(e,161,223)?65377+e-161:b(e,129,159)||b(e,224,252)?(d=e,null):i(c)}}function H(a){a.fatal;this.encode=function(a,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,0,128))return a.emit(e);if(165===e)return a.emit(92);if(8254===e)return a.emit(126);if(b(e,65377,65439))return a.emit(e-65377+161);var f=m(e,n("jis0208"));if(null===f)return j(e);var g=c(f,188),h=g<31?129:193,i=f%188,k=i<63?64:65;return a.emit(g+h,i+k)}}function I(a){var c=a.fatal,d=0;this.decode=function(a){var e=a.get();if(e===O&&0===d)return P;if(e===O&&0!==d)return d=0,i(c);if(a.offset(1),0!==d){var f=d,g=null;if(d=0,b(f,129,198)){var h=178*(f-129);b(e,65,90)?g=h+e-65:b(e,97,122)?g=h+26+e-97:b(e,129,254)&&(g=h+26+26+e-129)}b(f,199,253)&&b(e,161,254)&&(g=12460+94*(f-199)+(e-161));var j=null===g?null:l(g,n("euc-kr"));return null===g&&a.offset(-1),null===j?i(c):j}return b(e,0,127)?e:b(e,129,253)?(d=e,null):i(c)}}function J(a){a.fatal;this.encode=function(a,d){var e=d.get();if(e===P)return O;if(d.offset(1),b(e,0,127))return a.emit(e);var f=m(e,n("euc-kr"));if(null===f)return j(e);var g,h;if(f<12460){g=c(f,178)+129,h=f%178;var i=h<26?65:h<52?71:77;return a.emit(g,h+i)}return f-=12460,g=c(f,94)+199,h=f%94+161,a.emit(g,h)}}function K(a,c){var d=c.fatal,e=null,f=null;this.decode=function(c){var g=c.get();if(g===O&&null===e&&null===f)return P;if(g===O&&(null!==e||null!==f))return i(d);if(c.offset(1),null===e)return e=g,null;var h;if(h=a?(e<<8)+g:(g<<8)+e,
e=null,null!==f){var j=f;return f=null,b(h,56320,57343)?65536+1024*(j-55296)+(h-56320):(c.offset(-2),i(d))}return b(h,55296,56319)?(f=h,null):b(h,56320,57343)?i(d):h}}function L(a,d){d.fatal;this.encode=function(d,e){function f(b){var c=b>>8,e=255&b;return a?d.emit(c,e):d.emit(e,c)}var g=e.get();if(g===P)return O;if(e.offset(1),b(g,55296,57343)&&j(g),g<=65535)return f(g);var h=c(g-65536,1024)+55296,i=(g-65536)%1024+56320;return f(h),f(i)}}function M(a){a.fatal;this.decode=function(a){var c=a.get();return c===O?P:(a.offset(1),b(c,0,127)?c:63360+c-128)}}function N(a,c){c.fatal;this.encode=function(a,c){var d=c.get();return d===P?O:(c.offset(1),b(d,0,127)?a.emit(d):b(d,63360,63487)?a.emit(d-63360+128):void j(d))}}var O=-1,P=-1;h.prototype=Error.prototype;var Q=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"iso-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"iso-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"iso-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"iso-8859-8-i"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"iso-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb18030","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"utf-16be"},{labels:["utf-16","utf-16le"],name:"utf-16le"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],R={},S={};Q.forEach(function(a){a.encodings.forEach(function(a){R[a.name]=a,a.labels.forEach(function(b){S[b]=a})})});var T="utf-8";q.prototype={decode:function(a,b){if(a&&!("buffer"in a&&"byteOffset"in a&&"byteLength"in a))throw new TypeError("Expected ArrayBufferView");a||(a=new Uint8Array(0)),b=Object(b),this._streaming||(this._decoder=this._encoding.getDecoder(this._options),this._BOMseen=!1),this._streaming=Boolean(b.stream);for(var c,e=new Uint8Array(a.buffer,a.byteOffset,a.byteLength),f=new d(e),h=new g;f.get()!==O;)null!==(c=this._decoder.decode(f))&&c!==P&&h.emit(c);if(!this._streaming){do{null!==(c=this._decoder.decode(f))&&c!==P&&h.emit(c)}while(c!==P&&f.get()!=O);this._decoder=null}var i=h.string();return!this._BOMseen&&i.length&&(this._BOMseen=!0,-1!==["utf-8","utf-16le","utf-16be"].indexOf(this.encoding)&&65279===i.charCodeAt(0)&&(i=i.substring(1))),i}},r.prototype={encode:function(a,b){a=a?String(a):"",b=Object(b),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(b.stream);for(var c=[],d=new e(c),g=new f(a);g.get()!==P;)this._encoder.encode(d,g);if(!this._streaming){var h;do{h=this._encoder.encode(d,g)}while(h!==O);this._encoder=null}return new Uint8Array(c)}},R["utf-8"].getEncoder=function(a){return new t(a)},R["utf-8"].getDecoder=function(a){return new s(a)},function(){"encoding-indexes"in a&&Q.forEach(function(a){"Legacy single-byte encodings"===a.heading&&a.encodings.forEach(function(a){var b=n(a.name);a.getDecoder=function(a){return new u(b,a)},a.getEnc,a)}})})}(),R.gb18030.getEncoder=function(a){return new x(a)},R.gb18030.getDecoder=function(a){return new w(a)},R["hz-gb-2312"].getEncoder=function(a){return new z(a)},R["hz-gb-2312"].getDecoder=function(a){return new y(a)},R.big5.getEncoder=function(a){return new B(a)},R.big5.getDecoder=function(a){return new A(a)},R["euc-jp"].getEncoder=function(a){return new D(a)},R["euc-jp"].getDecoder=function(a){return new C(a)},R["iso-2022-jp"].getEncoder=function(a){return new F(a)},R["iso-2022-jp"].getDecoder=function(a){return new E(a)},R.shift_jis.getEncoder=function(a){return new H(a)},R.shift_jis.getDecoder=function(a){return new G(a)},R["euc-kr"].getEncoder=function(a){return new J(a)},R["euc-kr"].getDec(a)},R["utf-16be"].getEncoder=function(a){return new L(!0,a)},R["utf-16be"].getDecoder=function(a){return new K(!0,a)},R["utf-16le"].getEncoder=function(a){return new L(!1,a)},R["utf-16le"].getDecoder=function(a){return new K(!1,a)},R["x-user-defined"].getEncoder=function(a){return new N(!1,a)},R["x-user-defined"].getDec,a)},"TextEncoder"in a||(a.TextEncoder=r),"TextDecoder"in a||(a.TextDecoder=q)}(this),Array.prototype.find||(Array.prototype.n b}),Array.prototype.findIndex||(Array.prototype.findIn-1}),window.matchMedia||(window.matchM"}}}()),"document"in self&&("classList"in document.createElement(ull}():function(a){"use strict";if("Element"in a){var b=a.Element.prototype,c=Object,d=String.prototype.t"")},e=Array.prototype.inden-e=,b))}},i=h.prototype=is)};if(f.prototype=Error.prototype,i.ull},i.cont,a)},ie()},i.ree()},i.to:!c},i.toSt ")},c.defineProperty){var k={get:j,enumerable:!0,configurable:!0};try{c.defineProperty(b,"classList",k)}catch(a){-2146823252===a.number&&(k.enumerable=!1,c.defineProperty(b,"classList",k))}}else c.prototype.__defineGetter__&&b.__defineGetter__("classList",j)}}(self)),function(){try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),window.localStorageSupport=!0}catch(a){window.localStorageSupport=!1}}(),function(){window.supportsPassive=!1;try{var a=Object.defineProperty({},"passive",{get:function(){window.supportsPassive=!0}});window.addEventListener("test",null,a)}catch(a){}}(),function(){"use strict";angular.module("jwShowcase",["jwShowcase.core","jwShowcase.error","jwShowcase.dashboard","jwShowcase.feed","jwShowcase.search","jwShowcase.settings","jwShowcase.tag","jwShowcase.updateBrowser","jwShowcase.video"]).value("config",{contentService:"https://content.jwplatform.com",options:{theme:"light",showcaseContentOnly:!0,enableContinueWatching:!0,enableFeaturedText:!0,enablePlayerAutoFocus:!0,enableHeader:!0,enableFooter:!0,enableTags:!1,enableGlobalSearch:!1,enableAddToHome:!1,rightRail:{enabled:!1},cookieNotice:{enabled:!1,message:'This site uses cookies to give you the best experience. If you would like to change your cookie preferences you may do so by <a href="http://www.aboutcookies.org" target="_blank">following these instructions</a>'},videoTitlePosition:"below",useRecommendationPlaylist:!1,displayAds:!1},experimental:{footerLinks:[]}})}(),function(){"use strict";function a(a,b,c,d,e){("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&c.ngClickOverrideEnabled(!0),b.strictMode(!1),b.type("boolean",{name:"boolean",de==a},eq,b)f a},pattern:/true|false/}),e.setDefaultState("root.dashboard"),a.state("root",{abstract:!0,resolve:{preload:"preload"},templateUrl:"views/core/root.html"}),d.otherwise(["$location","config",function(a,b){return{title:b.siteName,description:b.description,canonical:a.absUrl()}}])}function b(a,b,c){b.attach(),c.prepare(),a.on("kes")}),a.on("click",function(){document.body.classList.add("jw-flag-no-focus")})}angular.module("jwShowcase.core",[]).run(b).config(a),a.$inject=["$stateProvider","$urlMatcherFactoryProvider","$touchProvider","seoProvider","historyProvider"],b.$inject=["$document","history","platform"]}(),function(){"use strict";function a(a,b){return{enter:function(c,d){c.css({opacity:0,height:0}),b(function(){c.css({opacity:1,height:c[0].scrollHeight+"px"}),b(function(){c.css("height","auto"),a.$broadcast("$viewContentUpdated"),d()},300)},100)},leave:function(a,c){a.css({height:a[0].scrollHeight+"px"}),b(function(){a.css({opacity:0,height:0}),b(function(){c()},300)},100)}}}angular.module("jwShowcase.core").animation(".jw-expand-animation",a),a.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){l.inWatchlist=c.hasItem(l.item),l.inWatchProgress=d.hasItem(l.item)&&angular.isNumber(l.item.progress),a.$wem)},function(a,c){a!==t=a},200)}!0)}function i(){if(!e.isSupported())return l.jwCard.showToast({templateUrl:"views/core/toasts/savedVideo.html",duration:1e3}).then(function(){c.addItem(l.item)}),void b(function(){l.jwCard.closeMenu()},500);f.showConfirm("Media files can use significant storage space on your device. Are you sure you want to download").then(function(a){if(a){var d=l.jwCard.showToast({templateUrl:"views/core/toasts/downloadingVideo.html",duration:-1});c.addItem(l.item).then(function(){d().3})u()},500)})}})}function j(){l.jwCard.showToast({templateUrl:"views/core/toasts/unsavedVideo.html",duration:1200}).then(null,em)})}function k(){l.jwCard.showToast({templateUrl:"views/core/toasts/removedVideo.html",duration:1e3}).then(null,u()})}var l=this;l.inWatchlist=!1,l.inWatchProgress=!1,l.closeButtonClickHandler=h,l.saveButtonClickHandler=i,l.unsaveButtonClickHandler=j,l.removeButtonClickHandler=k,l.$onInit=g}angular.module("jwShowcase.core").controller("CardMenuController",a),a.$inject=["$scope","$timeout","watchlist","watchProgress","serviceWorker","popup"]}(),function(){"use strict";function a(a,b,c){function d(){a.set("cookies",!0),b.close(!0)}var e=this;e.config=c,e.acceptButtonClickHandler=d}angular.module("jwShowcase.core").controller("CookiesController",a),a.$inject=["userSettings","popupInstance","config"]}(),function(){"use strict";function a(a,b){function c(){a.close!1)}var e=this;e.message=b,e.acceptButtonClickHandler=c,e.declineButtonClickHandler=d}angular.module("jwShowcase.core").controller("ConfirmController",a),a.$inject=["popupInstance","message"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){f.updateConnectionState()}var i=this;i.seo=e,i.dataStore=c,i.appStore=d,i.config=g,i.reconnect=h,function(){e.initialize(),a.$on("$stateChangeSucc50)})}()}angular.module("jwShowcase.core").controller("RootController",a),a.$inject=["$scope","$timeout","dataStore","appStore","seo","serviceWorker","config"]}(),function(){"use strict";function a(a,b,c,d){function e(){c.copyToClipboard(b.absUrl())?f.copyResult={text:"Link copied",success:!0}:f.copyResult={text:"Failed to copy",success:!ull},2e3)}var f=this;f.facebookShareLink=c.composeFacebookLink(),f.twitterShareLink=c.composeTwitterLink(d.title),f.emailShareLink=c.composeEmailLink(d.title),f.copyResult=null,f.copyUrl=e}angular.module("jwShowcase.core").controller("ShareController",a),a.$inject=["$timeout","$location","utils","item"]}(),function(){"use strict";function a(a){function b(){a.goBack()}this.backButtonClickHandler=b}angular.module("jwShowcase.core").component("jwButtonBack",{controller:a,controllerAs:"vm",templateUrl:"views/core/buttonBack.html"}),a.$inject=["history"]}(),function(){"use strict";function a(a){function b(){a.toggle()}this.menuButtonClickHandler=b}angular.module("jwShowcase.core").component("jwButtonMenu",{bindings:{icon:"@"},controller:a,controllerAs:"vm",templateUrl:"views/core/buttonMenu.html"}),a.$inject=["sidebar"]}(),function(){"use strict";function a(a){this.config=a}angular.module("jwShowcase.core").component("jwFooter",{controllerAs:"vm",controller:a,templateUrl:"views/core/footer.html"}),a.$inject=["config"]}(),function(){"use strict";function a(a){this.config=a}angular.module("jwShowcase.core").component("jwHeader",{templateUrl:"views/core/header.html",controller:a,controllerAs:"vm"}),a.$inject=["config"]}(),function(){"use strict";angular.module("jwShowcase.core").component("jwHeaderMenu",{templateUrl:"views/core/headerMenu.html"})}(),function(){"use strict";function a(a){function b(){if(!e.currentlyPlaying)return void(e.items=e.feed.playlist.slice());var a=e.feed.playlist.findIaid});e.items=e.feed.playlist.slice(a).concat(e.feed.playlist.slice(0,a)),e.items.shift()}function c(a){angular.isFunction(e.onItemClick)&&e.onItemClick({newItem:a,clickedOnPlay:!1})}function d(){a(function(){e.itemsLimit=Math.min(e.items.length,e.itemsLimit+5)},50)}var e=this;e.itemClickHandler=c,e.showMoreButtonClickHandler=d,e.items=[],e.itemsLimit=4,e.$onChanges=b}angular.module("jwShowcase.core").component("jwRail",{controllerAs:"vm",controller:a,templateUrl:"views/core/rail.html",bindings:{feed:"<",title:"<",currentlyPlaying:"<",onItemClick:"&"}}),a.$inject=["$timeout"]}(),function(){"use strict";function a(a,b,c,d){function e(){a.$on("$stateChangeSuccess",f)}function f(a,b,c){if("root.search"!==b.name)return m.searchPhrase="",void(m.searchBarActive=!1);m.searchPhrase||(m.searchPhrase=c.query.replace(/\+/g," ")),m.searchBarActive=!0,m.showCaptionMatches=c.showCaptionMat=""}function h(){m.searchBarActive=!0,setTims()},300)}function i(a){27===a.which&&(m.searchPhrase="",m.searchBarActive=!1),13===a.which&k()}function k(){b.go("root.search",{query:d.slugify(m.searchPhrase,"+"),showCaptionMatches:m.showCaptionMatchk()}var m=this;m.config=c,m.searchPhrase="",m.searchBarActive=!1,m.showCaptionMatches=!1,m.closeSearchButtonClickHandler=g,m.searchButtonClickHandler=h,m.searchInputKeyupHandler=i,m.searchInputChangeHandler=j,m.showCaptionMatchesChangeHandler=l,m.$onInit=e}angular.module("jwShowcase.core").component("jwSearch",{controllerAs:"vm",controller:a,templateUrl:"views/core/search.html"}),a.$inject=["$rootScope","$state","config","utils"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a){angular.element(a.currentTarget||a.target).hasClass("active")&&c.hide()}function i(){a.showConfirm("Do you wish to clear your Saved videos list?").then(function(a){!0===a&&d.clearAll()})}function j(){a.showConfirm("Do you wish to clear your Continue watching list?").then(function(a){!0===a&&e.clearAll()})}var k=this;k.feeds=[],k.dataStore=b,k.config=g,k.watchlist=k.dataStore.watchlistFeed,k.watchProgress=k.dataStore.watchProgressFeed,k.clearWatchlist=i,k.clearWatchProgress=j,k.itemClickHandler=h,function(){k.feeds=[],angular.isArray(b.feeds)&&(k.feeds=b.feeds.fidid}).slice()),k.feeds.tle})}()}angular.module("jwShowcase.core").component("jwSidebar",{templateUrl:"views/core/sidebar.html",controller:a,controllerAs:"vm"}),a.$inject=["popup","dataStore","sidebar","watchlist","watchProgress","userSettings","config"]}(),function(){"use strict";function a(a,b,c,d){function e(){d.hide()}function f(){d.hide()}var g,h=this;h.sidebar=d,h.backdropClickHandler=e,h.swipeLeftHandler=f,function(){var d=b[0].firstChild;a.$watch("vm.sidebar.opened",function(a,e){a!==e&&c[a?"addClass":"removeClass"](d,"jw-sidebar-layout-flag-opened").then(function(){if(a)return g=document.activeElement,void b[0].querySelectorAll(".jw-sidebar .jw-button")[0].focus();g&&(g.focus(),g=null)})})}()}angular.module("jwShowcase.core").component("jwSidebarLayout",{templateUrl:"views/core/sidebarLayout.html",transclude:!0,controllerAs:"vm",controller:a}),a.$inject=["$scope","$element","$animate","sidebar"]}(),function(){"use strict";angular.module("jwShowcase.core").component("jwToolbar",{templateUrl:"views/core/toolbar.html",controllerAs:"vm",transclude:!0,bindings:{toolbarClass:"@"}})}(),function(){"use strict";function a(a,b,c,d){function e(e,f,g){function h(){var a=d.screenSize();i!==a&&(i=a,b.refresh(g.slotId))}var i=d.screenSize();!function(){var d,i=c.debounce(h,10);if(a.options.displayAds&&a.options.displayAds.slots&&(d=a.options.displayAds.slots[g.slotId]),!d)return void f.css("display","none");f.attr("id",g.slotId),window.addEventListener("resize",i),b.registerSlot(d,e.vm.slotSize,g.slotId,e.vm.slotSizeMapping),b.display(g.slotId),e.$on("$destId)}),e.$on("$viewRestored",function(){b.refresh(g.slotId)})}()}return{bindToController:!0,controller:angular.noop,controllerAs:"vm",link:e,restrict:"E",replace:!0,template:'<div class="jw-ad-slot"></div>',scope:{slotId:"@",slotSize:"=",slotSizeMapping:"="}}}angular.module("jwShowcase.core").directive("jwAdSlot",a),a.$inject=["config","dfp","utils","platform"]}(),function(){"use strict";function a(a){function b(b,c,d){function e(a){var b=angular.element('<span class="jw-button-effect"></span>'),c=a.touches&&a.touches.length&&a.touches[0],d=a.changedTouches&&a.changedTouches[0],e=c||d||a;angular.element(document.body).append(b),b.css({top:e.pageY+"px",left:e.pageX+"px"}),b.addClass("active"),setTimeout(function(){b.remove()},310)}function f(){c.off()}var g,h=a.isTouch?"touchstart":"mousedown";!function(){g=c.attr("tabindex")||0,c.on(h,e),b.$on("$destroy",f),d.isDisabled&&b.$watch(d.isDisabled,function(a){c.attr("tabindex",a?-1:g),c.toggleClass("jw-button-disabled",a),c.attr("aria-disabled",a)})}()}return{link:b,restrict:"E",priority:300,template:'<a class="jw-button" ng-transclude></a>',replace:!0,transclude:!0}}angular.module("jwShowcase.core").directive("jwButton",a),a.$inject=["platform"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(k,l){function m(){return c.href("root.video",{list:k.vm.item.feedid,mediaId:k.vm.item.mediaid,slug:h.slugify(k.vm.item.title)})}function n(){k.$wem)()}function q(a){return angular.element(l[0].querySelectort()}function s(a){k.$broadcast("caption_changed",{caption:a,thumbnails:k.vm.item.thumbnails}),k.vm.activeCaption=a}function t(){k.vm.activeCaption=null,k.$broadcast("caption_reset")}function u(a,b){a.stopPropagation();var c=q(".jw-card-play-button")[0],d=c===a.target||c===a.target.parentNode;angular.isFunction(k.vm.onClick)&&k.vm.onClick(k.vm.item,,1)}function w(){B({templateUrl:"views/core/toasts/unsavedVideo.html",duration:1200}).then(null,em)})}function x(){q(".jw-card-watch-progress").removeClass("ng-hide").css("width",100*k.vm.item.progress+"%")}function y(b){var c=q(".jw-card-watchlist-button"),d=!!c.length;b&&!d&&(c=f(e.get("views/core/cardWatchlistButton.html"))(k.$new()),c.on("click",w),a.enter(c,l,q(".jw-card-menu-button"))),!b&&d&&(c.off(),c.scope().$destroy(),a.leave(c))}function z(){var b=q(".jw-card-menu");b.length||(b=f('<jw-card-menu item="vm.item"></jw-card-menu>')(k.$new()),a.enter(b,l,q(".jw-card-toasts")).then(function(){b[0].querySelectorAll(".jw-button")[0].focus()}),l.addClass("jw-card-flag-menu-open"))}function A(b){var c=q(".jw-card-menu");c.length&&(c.scope().$destroy(),a.leave(c),l.removeClass("jw-card-flag-menu-open"),b&&q(".jw-card-menu-button")[0].focus())}function B(c){function f(){g.notify("before_remove"),a.leave(k).e()})}var g=b.defer(),h=e.get(c.templateUrl),i=l.children(),j=angular.element(l[0].querySelector(".jw-card-toasts")),k=angular.element(h);return a.enter(k,j,i[i.length-1]),l.addClass("jw-card-flag-toast-open"),-1!==c.duration&&d(f,c.duration||1e3),-1===c.duraise}:g.promise}var C=c.is("root.search"),D=j.options.enableInVideoSearch;k.vm.activeCaption=null,k.vm.showCaptionMatches=D&&k.vm.item.captionMatches&&C,k.vm.showToast=B,k.vm.closeMenu=A,k.vm.menuButtonClickHandler=v,k.vm.containerClickHandler=u,k.vm.setActiveCaption=s,k.vm.removeActiveCaption=t,function(){var a=k.vm.item,b=m();l.addClass("jw-card-flag-"+(k.vm.featured?"featured":"default")),angular.isDefined(k.vm.enableText)&&l.toggleClass("jw-card-flag-hide-text",!k.vm.enableText),angular.isString(k.vm.aspectratio)&&l.addClass("jw-card-aspect-"+k.vm.aspectratio.replace(":","")),i.isSupported()&&n(),q(".jw-card-container").attr("aria-label","play video "+a.title);var c="";k.vm.showCaptionMatches&&(c='<span class="jw-card-title-matches">'+a.captionMatches.length+" matches: </span>"),c+=a.title,q(".jw-card-title").html(c).attr("href",b).on("click",r),q(".jw-card-duration").html(h.getVideoDurationByItem(a)),angular.isDefined(a.progress)&&x(),k.$on("$destroy",p),k.$w(a)},y)}()}return{scope:{item:"=",featured:"=?",aspectratio:"=?",enableText:"=?",enablePreview:"=?",onClick:"="},controllerAs:"vm",controller:angular.noop,bindToController:!0,replace:!0,templateUrl:"views/core/card.html",link:k}}angular.module("jwShowcase.core").directive("jwCard",a),a.$inject=["$animate","$q","$state","$timeout","$templateCache","$compile","watchlist","utils","serviceWorker","config"]}(),function(){"use strict";function a(a,b){function c(c,d){function e(){var e=h,f=angular.element(d[0].querySelector(".jw-card-grid-cards"));angular.isObject(e)&&(e=b.getValueForScreenSize(e,1)),i!==e&&(i=e,a(function(){c.vm.limit=e*j}),f[0].className="jw-card-grid-cards jw-card-grid-"+i)}function f(){return c.vm.feed.playlist.length>c.vm.limit&&(c.vm.enableShowMore||c.vm.enableSeeAll)}function g(){j+=10,c.vm.limit=i*j}var h={xs:2,sm:2,md:3,lg:4,xl:5},i=0,j=6,k=b.debounce(e,200);!function(){c.vm.rows&&(j=c.vm.rows),c.vm.cols&&(h=c.vm.cols),c.vm.controlIsVisible=f,c.vm.showMoreClickHandler=g,c.vm.limit=9,c.vm.heading=c.vm.title,!c.vm.heading&&c.vm.feed&&(c.vm.heading=c.vm.feed.title),window.addEventListener("resize",k),e(),c.$on("$destroy",function(){window.removeEventListener("resize",k)})}()}return{bindToController:!0,controller:angular.noop,controllerAs:"vm",link:c,templateUrl:"views/core/cardGrid.html",replace:!0,scope:{feed:"=",aspectratio:"=?",cols:"=?",rows:"=?",enableTitle:"=?",enableText:"=?",enablePreview:"=?",enableShowMore:"=?",enableSeeAll:"=?",onCardClick:"=",cardClassName:"@",title:"@"}}}angular.module("jwShowcase.core").directive("jwCardGrid",a),a.$inject=["$timeout","utils"]}(),function(){"use strict";function a(){function a(a,b,c,d){function e(){angular.element(document.body).off("click",f)}function f(c){for(var e=c.target;e;){if(e===b[0])return;e=e.parentNode}a.$a!1)}),c.preventDefault()}a.vm.jwCard=d,function(){angular.element(document.body).on("click",f),a.$on("$destroy",e)}()}return{scope:{item:"="},require:"^jwCard",controllerAs:"vm",controller:"CardMenuController",bindToController:!0,replace:!0,templateUrl:"views/core/cardMenu.html",link:a}}angular.module("jwShowcase.core").directive("jwCardMenu",a),a.$inject=[]}(),function(){"use strict";function a(a,d,e,f){function g(a,g){function h(a){return angular.element(g[0].querySelector(a))}function i(a){return angular.element(g[0].querySelectorAll(a))}function j(){window.removeEventListener("resize",F),h(".jw-card-slider-align")[0].removeEventListener("touchstart",v)}function k(b,c){angular.isDefined(a.vm.enableTitle)&&g.toggleClass("jw-card-slider-flag-hide-title",!a.vm.enableTitle),l(b,c)&&(a.vm.featured||(a.vm.heading=a.vm.title||a.vm.feed.title),O=a.vm.feed.playlist.length,n(!0))}function l(a,b){return!m(a.playlist,b.playlist)||!!a.error}function m(a,b){var c=a.map(function(a,b){return C(a,b)}),d=b,b)});return angular.equals(c,d)}function n(a){var b=o(),c=a||b!==P;P=b,Q=b+1,J=O>P,E.attr("class","jw-card-slider-list slides-"+P),J||(H=0,I=!1),i(".jw-card-slider-button").toggleClass("ng-hide",!J),c&&p(),u(0,!1)}function o(){var d=a.vm.featured?c:b;return(angular.isObject(a.vm.cols)||angular.isNumber(a.vm.cols))&&(d=a.vm.cols),angular.isNumber(d)?d:f.getValueForScreenSize(d,1)}function p(){function b(a,b,f){var h,i,j=a,k=[];j<0&&(j+=O);for(var l=0;l<b;l++){if(j>O-1){if(!J)break;j=0}h=g[j],i=e(h,f,j)||c(h,j),d(i,j),k.push(i),j++}return k}function c(a,b){var c=r(a);return i.push({key:C(a,b),el:c}),c}function d(a,b){a.removeClass("first last"),0===b?a.addClass("first"):b===O-1&&a.addClass("last")}function e(a,b,c){for(var d,e,f=N.length,g=[];f--;)N[f].key===C(a,c)&&g.push(f);if(g.length)return!0===b&&(d=g.find(function(a){return N[a].el[0].classList.contains("is-visible")})),angular.isNumber(d)||(d=g[0]),e=N[d].el,i.push(N[d]),N.splice(d,1),e}var f,g=a.vm.feed.playlist,i=[];if(a.vm.firstItem){var j=a.vm.feed.playlist.findIaid});g=g.slice(j).concat(g.slice(0,j))}f=b(H,P,!0),J&&(I&&(f=b(H-Q,Q).concat(f)),f=f.concat(b(H+P,Q))),function(){for(var a=E[0];a.firstChild;)a.removeChild(a.firstChild);N.forEach(function(a){a.el.scope()&&a.el.scope().$destroy()})}();for(var k=0,l=f.length;k<l;k++)E.append(f[k]);N=i,setTimeout(q),h(".jw-card-slider-button-flag-left").toggleClass("is-disabled",!I).attr("tabindex",I?"0":"-1")}function q(a){var b=I?Q:0,c=b+P;angular.isNumber(a)&&(b+=a,c+=a),angular.forEach(h(".jw-card-slider-list").children(),function(a,d){var e=d>=b&&d<c;a.classList.toggle("is-visible",e),a.querySelector(".jw-card-container").setAttribute("tabindex",e?"0":"-1"),a.querySelector(".jw-card-menu-button").setAttribute("tabindex",e?"0":"-1")})}function r(b){var c=a.$new(!1,a);return c.item=angular.copy(b),c.featured=a.vm.featured,c.enableText=a.vm.enableText,c.enablePreview=a.vm.enablePreview,c.aspectratio=a.vm.aspectratio,d(angular.element(G))(c)}function s(){var a=0===H?O-P:Math.max(0,H-P),b=H-a;!K&&I&&(b<0&&(b=H+O-a),H=a,q(-b),u(b/P*100,!0,function(){p(),u(0,!1)}))}function t(){var a=H+P,b=O-P,c=P;K||(H===b?a=0:a>=b&&(a=b,c=a-H),H=a,q(c),u(c/P*100*-1,!0,function(){I=!0,p(),u(0,!1)}))}function u(a,b,c){
function d(){K=!1,setTimc()},1)}var e=h(".jw-card-slider-list");K=!0,D&&D._active&&D.kill(),I&&(a-=Q/P*100),D=window.TweenLite.to(e,b?.3:0,{x:a+"%",z:.01,onComplete:d})}function v(a){var b=A(a),c=h(".jw-card-slider-align")[0];c.addEventListener("touchmove",w),c.addEventListener("touchend",x),c.addEventListener("touchcancel",y),M=b,g.addClass("is-sliding")}function w(a){var b=A(a),c=M.x-b.x,d=M.y-b.y,e=Math.abs(c),f=Math.abs(d),g=h(".jw-card-slider-list")[0].offsetWidth,i=h(".jw-card-slider-container")[0].offsetWidth;if(!D||!D._active){if(!L)return void(f>20?(z(),u(0,!0)):e>20&&(L=!0));a.preventDefault(),a.stopPropagation(),!I&&c<0?c=-1*Math.min(50,B(e,i)):!J&&c>0&&(c=Math.min(50,B(e,i)));u(-(c/g*100),!1)}}function x(a){var b=A(a),c=M.x-b.x;c<-50&&I?s():c>50&&J?t():u(0,!0)z()}function z(){var a=h(".jw-card-slider-align")[0];M=null,a.removeEventListener("touchmove",w),a.removeEventListener("touchend",x),a.removeEventListener("touchcancel",y),L=!1,g.removeClass("is-sliditY}}function B(a,b){return Math.sin(.5/b*aid}var D,E=h(".jw-card-slider-list"),F=f.debounce(n,100),G=e.get("views/core/cardSliderSlide.html"),H=0,I=!1,J=!1,K=!1,L=!1,M={},N=[],O=0,P=0,Q=1;a.vm.slideLeft=s,a.vm.slideRight=t,function(){a.vm.heading=a.vm.feed.title;var b=a.vm.featured?"featured":"default",c="jw-card-slider-flag-"+b;g.addClass(c),!1===a.vm.enableText&&g.addClass("jw-card-slider-flag-hide-text"),a.$on("$destroy",j),window.addEventListener("resize",F),h(".jw-card-slider-align")[0].addEventListener("touchstart",v,!1),a.$watch("vm.feed",k,!0),a.$watch("vm.firstI!0)},!0),a.vm.feed&&(O=a.vm.feed.playlist.length),I=a.vm.featured,n()}()}return{scope:{feed:"=",onCardClick:"=",firstItem:"=?",featured:"=?",aspectratio:"=?",cols:"=?",enableTitle:"=?",enableText:"=?",enablePreview:"=?",title:"@"},replace:!0,controller:angular.noop,controllerAs:"vm",bindToController:!0,templateUrl:"views/core/cardSlider.html",link:g}}var b={xs:1,sm:2,md:3,lg:4,xl:5},c=1;angular.module("jwShowcase.core").directive("jwCardSlider",a),a.$inject=["$state","$compile","$templateCache","utils"]}(),function(){"use strict";function a(a){return{link:function(b,c,d){c.on("keyup",function(c){var e=a(d.ngClick);13===c.which&&(c.preventDefault(),c.stopImmediatePropagation(),b.$at})}))})}}}angular.module("jwShowcase.core").directive("ngClick",a),a.$inject=["$parse"]}(),function(){"use strict";function a(a,i,j,k,l){function m(i,m,n,o){function p(a){return angular.element(m[0].querySelector(a))}function q(a){return angular.element(m[0].querySelectorAll(a))}function r(){var a=o.featured?h:g;G=!0,H.load(D.file,a).,I=0}function t(){var a;if(!0===E)return H.load(D.file,e).then(u);a=p(".jw-card-poster").clone(),a.css({background:"url("+C+") no-repeat center",backgroundSize:"cover"}),x(a)}function u(){var a=o.item.progress*o.item.duration;H.getThumbnails().then(function(b){return b.>=a})}).then(B).then(w)}function v(a,b){H.load(a,f).then(function(a){return a.>=b})}).then(B).then(w)}function w(a){var b,c,d,e;if(a){if(b=p(".jw-card-poster.is-active").clone(),a.xywh.length)return"pixel"===a.xywh[0]&&(c=a.xywh[1]/(a.image.width-a.xywh[3])*100,d=a.xywh[2]/(a.image.height-a.xywh[4])*100,e=a.image.width/a.xywh[3]*100),b.css({background:"url("+a.image.src+") no-repeat",backgroundSize:e+"%",backgroundPosition:c+"% "+d+"%"}),x(b);b.css({background:"url("+a.image.src+") no-repeat",backgroundSize:"cover",backgroundPosition:"center"}),x(b)}}function x(a){var b=p(".jw-card-poster.is-active");m.prepend(a),b.removeClass("is-active"),setTime()},300)}function y(){if(!G)return void t();I+=1,H.getThumbnails().then(function(a){return I>=a.length-1&&(I=0),a[I]}).then(B).then(w),clearTimeout(J),J=setTimeout(y,d)}function z(){var a=o.featured?1280:640;return!1===b&&(a/=2),k.replaceImageSize(o.item.image,a)}function A(){if(angular.isArray(o.item.tracks))return o.item.tracks.ind})}function B(b){var c=a.defer();if(!b)return a.reject();var d=new Image;return d.on(b)},d.src=b.imageUrl,c.promise}var C,D,E=!1,F=!1,G=!1,H=new l,I=0,J=null;!function(){var a=angular.isNumber(o.item.progress),b=o.featured;if(C=z(),D=A(),i.$on("caption_changed",function(a,b){v(b.thumbnails,b.caption.time)}),i.$on("caption_reset",function(){t()}),!D||!o.enablePreview)return t();a||j.isTouch||!b||(F=!0,m.parent().on("mouseenter",r).on("mouseleave",s)),a&&o.enablePreview&&(E=!0,i.$wu()})),t()}()}return{link:m,require:"^jwCard"}}var b=window.matchMedia("(min-device-width: 960px)").matches,c=500,d=2300,e=320,f=320,g=120,h=320;angular.module("jwShowcase.core").directive("jwCardPoster",a),a.$inject=["$q","dataStore","platform","utils","Thumbstrip"]}(),function(){"use strict";function a(a){function b(b,c){function d(){window.removeEventListener("resize",g)}function e(){b.vm.expanded?h.css("maxHeight",h[0].scrollHeight+"px"):c.toggleClass("inactive",h[0].scrollHeight<=h[0].offsetHeight)}function f(){if(b.vm.expanded=!b.vm.expanded,c.toggleClass("expanded",b.vm.expanded),!b.vm.expanded)return h.css("maxHeight",b.vm.jwCollapsibleText),void g();h.css("maxHeight",h[0].scrollHeight+"px")}var g=a.debounce(e,100),h=angular.element(c[0].querySelector(".jw-collapsible-text-content"));b.vm.toggleClickHandler=f,function(){b.vm.expanded=!1,h.css("maxHeight",b.vm.jwCollapsibleText),window.addEventListener("resize",g),b.$on("$destroy",d),b.$watch("vm.jwCollapsibleTextWatch",g,!1),g()}()}return{scope:{jwCollapsibleText:"@",jwCollapsibleTextWatch:"="},restrict:"A",controller:angular.noop,controllerAs:"vm",templateUrl:"views/core/collapsibleText.html",bindToController:!0,transclude:!0,replace:!0,link:b}}angular.module("jwShowcase.core").directive("jwCollapsibleText",a),a.$inject=["utils"]}(),function(){"use strict";function a(){return{bindToController:!0,controller:angular.noop,controllerAs:"vm",restrict:"E",scope:{feed:"="},templateUrl:"views/core/feedTitle.html"}}angular.module("jwShowcase.core").directive("jwFeedTitle",a),a.$inject=[]}(),function(){"use strict";function a(){function a(a,h,i,j){function k(a){return angular.isString(a)&&(a=a.replace(e,function(a,b){return"<strong><em>"+b+"</em></strong>"}),a=a.replace(d,function(a,b){return"<strong>"+b+"</strong>"}),a=a.replam>"})),a}function l(a){return angular.isString(a)&&(a=a.replace(b,function(a,b,c){return'<a href="'+c+'"'+(/^(https?|www\.)/.test(c)?' target="_blank"':"")+">"+b+"</a>"})),a}function m(a){return angular.isString(a)&&(a=a.replace(f,function(a,b,c){return"<h"+b.length+">"+c.trim()+"</h"+b.length+">"})),a}function n(a){return angular.isString(a)&&(a=a.replace(g,"<br />""")}j.$formatters.push(n),j.$formatters.push(l),j.$formatters.push(k),j.$formatters.push(m),j.$formatters.push(o),j.$reue)}}return{link:a,require:"ngModel"}}var b=/\[([^\[]+)]\(((https?:\/\/|www\.)?[^)]+)\)/gi,c=/(?:\*|_)(\S[\s\S]*?)(?:\*|_)/gi,d=/(?:\*{2}|_{2})(\S[\s\S]*?)(?:\*{2}|_{2})/gi,e=/(?:\*{3}|_{3})(\S[\s\S]*?)(?:\*{3}|_{3})/gi,f=/^(#{1,6})(.*)$/gm,g=/(?:\r\n|\r|\n)/g;angular.module("jwShowcase.core").directive("jwMarkdown",a),a.$inject=[]}(),function(){"use strict";function a(a,b){function c(c,d){function e(){m&&(m.destroy(),k.off("keyup",h),k.off("wheel",g),k.off("mousewheel",g),k.off("DOMMouseScroll",g)),c.delegate=null}function f(){m=new window.IScroll(k[0],{disableMouse:!0,disablePointer:!0,mouseWheel:!0,scrollbars:"custom"}),k.on("keyup",h),k.on("wheel",g),k.on("mousewheel",g),k.on("DOMMouseScroll",g)}function g(a){m&&(a.deltaY<0&&0===m.y?m.enabled=!1:a.deltaY>0&&m.y<=m.maxScrollY?m.enabled=!1:m.enabled||(m.enabled=!0,a.preventDefault()))}function h(a){9===a.which&&setTimeout(function(){var a=this.scrollTop,b=this.scrollLeft;a||b?(this.scrollTop=0,this.scrollLeft=0,m.scrollBy(-b,-a)):m.scrollToElement(document.activeElement)},0)}function i(a,b,c){l?m.scrollTo(a,b,c):window.TweenLite.to(d[0].firstChild,.3,{scrollToph()}var k=angular.element(d[0].firstChild),l=!b.isMobile,m=null;!function(){l&&a(f),c.delegate={scrollTo:i,refresh:j},c.$on("$destroy",e)}()}return{restrict:"E",link:c,transclude:!0,templateUrl:"views/core/scroll.html",scope:{delegate:"="}}}angular.module("jwShowcase.core").directive("jwScroll",a),a.$inject=["$timeout","platform"]}(),function(){"use strict";function a(a){function c(c,,i)}function g(){var a,c,d,e=h(".jw-lazy-load"),f=[];e.length&&(a=window.innerHeight||document.documentElement.clientHeight,c=document.body.scrollTop,d=a+c+b,angular.forEach(e,function(a){a.getBoundingClientRect().top+c<=d&&f.push(a)}),angular.forEad")}))}function h(a){return angular.element(d[0].querySelectorAll(a))}var i=a.debounce(g,150);!function(){window.addEventListener("scroll",i,!!window.supportsPassive&&{passive:!0}),c.$on("$destroy",f),c.$on("$viewContentUpdated",i),c.$on("$viewContentLoaded",i),c.$on("$viewRestored",i)}()}return{link:c,scope:!1}}var b=400;angular.module("jwShowcase.core").directive("jwLazyLoad",a),a.$inject=["utils"]}(),function(){"use strict";function a(a,c,d,e,f,g){function h(h,i,j){function k(){var a=angular.extend({controls:!0},h.settings);(window.cordova||f.isMobile)&&(a.autostart=!1),p=jwplayer(q).setup(a),l(),e.setPlayer(p)}function l(){b.for)})})}function m(b,e){var f,g="on"+d.ucfirst(b);if(f=a(j[g])(h.$parent),angular.isFunction(f))return"time"===b?f.call(p,e):void c(function(){f.call(p,e)})}function n(){var a=Math.round(1e4*Math.random()),b="player-"+a;return document.querySelector("#"+b)?n():b}var o,p,q=n();h.showClickToPlayText=g.experimental.showClickToPlayText,function(){angular.element(i.find("div")[0]).attr("id",q),o=setTimeout(k,500),h.$on("$destroy",function(){clearTimeout(o),c(function(){e.getPlayer()===p&&e.setPlayer(null),p&&p.remove()},1e3)})}()}return{scope:{settings:"="},replace:!0,templateUrl:"views/core/jwPlayer.html",link:h}}var b=["ready","play","pause","complete","seek","error","setupError","playlistItem","time","firstFrame","levels","adImpression"];angular.module("jwShowcase.core").directive("jwPlayer",a),a.$inject=["$parse","$timeout","utils","player","platform","config"]}(),function(){"use strict";function a(a,b,c,d){function e(e,g,h,i,j){function k(){var a=-1!==r.indexOf(q);return!a&&h.jwScreenSizeOr&&(a=c(h.jwScreenSizeOr)(e)),a}function l(){var a,b=d.screenSize();q!==b&&(q=b,(a=k())!==s&&(s=a,m(),e.$digest()))}function m(){s?o||j(function(c,d){o=d,c[c.length++]=b.$$createComment("end jwScreenSize",h.ngIf),n={clone:c},a.enter(c,g.parent(),g).then(function(){e.$emit("$viewContentUpdated")})}):(p&&(p.remove(),p=null),o&&(o.$destroy(),o=null),n&&(p=f(n.clone),a.leave(p).ll)}),n=null))}var n,o,p,q=d.screenSize(),r=h.jwScreenSize.replace(/ /g,"").split(","),s=k();!function(){window.addEventListener("resize",l),e.$on("$dest,l)}),m()}()}function f(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=angular.element(Array.prototype.slice.call(a,0,e))),b.push(c));return b||a}return{multiElement:!0,transclude:"element",priority:500,terminal:!0,restrict:"A",$$tlb:!0,link:e}}angular.module("jwShowcase.core").directive("jwScreenSize",a),a.$inject=["$animate","$compile","$parse","platform"]}(),function(){"use strict";function a(a){function c(c,d,e,f){function g(a,b){m=a,b.preventDefault(),b.stopImmediatePropagatiull}function i(a){m&&Math.abs(m.x-a.x)>b&&(j(a),m=null)}function j(a){var b;m&&(b=m.x<a.x||!(m.x>a.x)&&!f.$viewValue,l.attr("aria-pressed",b),l.toggleClass("jw-toggle-flag-checked",b),f.$setViewValue(b))}function k(){l.off()}var l=angular.element(d[0].querySelector(".jw-toggle")),m=null;!function(){f.$reue)},f.$parsers.!!a}),a.bind(l,{start:g,cancel:h,move:i,end:j}),d.on("keyup",function(a){13===a.which&&(f.$setViewValue(!f.$viewValue),f.$render())}),c.$on("$destroy",k)}()}return{link:c,restrict:"E",scope:!0,templateUrl:"views/core/toggle.html",require:"ngModel"}}var b=15;angular.module("jwShowcase.core").directive("jwToggle",a),a.$inject=["$swipe"]}(),function(){"use strict";function a(a,b,d,e,f){function g(a,b){if(j)return{e,c)},l,b)}};if(i){var c=i&&i(b,a);return{ed()},lb()}}}re)}}}()}var h=function(){return bll}}}(),i=h("$animator"),j=h("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(b,h,i){return function(b,h,j){function k(){var a=p&&p.$persistent;if(n&&(n=null),p&&!a&&(p.$destroy(),p=null),o){if(a)o.detach();else{var b=o.data("$uiViewAnim");t.leaull})}n=o,o=null}}function l(a,b){t.enter(b.elemea})}),o=b.element,p=b.scope}function m(g){var m,n=c(b,j,h,e),u=n&&a.$current&&a.$current.locals[n];if(g||u!==q){q=a.$current.locals[n];var v=a.$current.persistent&&a.$current.viewCache&&a.$current.viewCache[n];if(v&&angular.equals(v.params,a.params))return k(),void l(n,v);m=b.$new(),m.$emit("$viewContentLoading",n);var w=i(m,function(c){var e,g=f.defer(),i=f.defer(),j={$animEnter:g.promise,$animLeave:i.promise,$$animLeave:i};c.data("$uiViewAnim",j),t.enter(c,h,function(){if(g.resolve(),p&&p.$emit("$viewContentAnimationEnded"),(angular.isDefined(s)&&!s||b.$eval(s))&&d(c),e){var f=a.$current;e.scope.$emit("$viewCached",{name:n,r[n]}})}}),a.$current.persistent&&(a.$current.viewCache||(a.$current.viewCache={}),e={element:c,params:angular.extend({},a.params),scope:m},e.scope.$persistent=!0,a.$current.viewCache[n]=e),k()});o=w,p=m,p.$emit("$viewContentLoaded",n),p.$eval(r)}}var n,o,p,q,r=j.onload||"",s=j.autoscroll,t=g(j,b);h.inheritedData("$uiView");b.$on("$stateChangeSucc!1)}),m(!0)}}}}function b(a,b,d,e){return{restrict:"ECA",priority:-400,compile:function(f){var g=f.html();return function(f,h,i){var j=d.$current,k=c(f,i,h,e),l=j&&j.locals[k];if(l){h.data("$uiView",{name:k,state:l.$$state}),h.html(l.$template?l.$template:g);var m=angular.extend({},l);f[l.$$resolveAs]=m;var n=a(h.contents());if(l.$$controller){l.$scope=f,l.$element=h;var o=b(l.$$controller,l);l.$$controllerAs&&(f[l.$$controllerAs]=o,f[l.$$controllerAs][l.$$resolveAs]=m),angular.isFunction(o.$onInit)&&o.$onInit(),h.data("$ngControllerController",o),h.children().data("$ngControllerController",o)}n(f)"")}angular.module("jwShowcase.core").directive("jwView",a).directive("jwView",b),a.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],b.$inject=["$compile","$controller","$state","$interpolate"]}(),function(){"use strict";function (b)}return b}angular.module("jwShowcase.core").filter("videoDuration",a),a.$inject=["utils"]}(),function(){"use strict";function a(a,b,c,d){function e(c){return a.get(c).then(function(a){return a.data}).then(function(a){return angular.isArray(a.playlist)&&a.playlist.length?a.playlist[0]:b.reject(new Error("Item not found"))}).then(g).cm")})}function f(c){function d(a){var b=a.data;return b&&"SEARCH"===b.kind&&(b.playlist=b.playlist||[]),b&&angular.isArray(b.playlist)?(b.playlist=b.playlist.map(g),b):e(a)}function e(a){var d="Failed to get feed from `"+c+"`";return 404===a.status&&(d="Feed with url `"+c+"` does not exist"),b.reject(new Error(d))}return a.get(c).then(d,e)}function g(a){return angular.isObject(a)?(a.image=h(a.image),angular.isArray(a.sources)&&(a.sources=a.sources.map(function(a){return a.file=h(a.file),a})),angular.isArray(a.tracks)&&(a.tracks=a.tracks),a})),a):a}function h(a){var b=/^https/.test(window.location.href)?"https":"http";return angular.isString(a)?0===a.indexOf("//")?b+"://"+a.substr(2):a.replace(/^https?/,b):a}this.getItem=function(a){return angular.isString(a)&&""!==a?e(c.contentService+"/v2/media/"+a):b.reject(new Error("mediaId is not given or not a string"))},this.getFeed=function(a){return angular.isString(a)&&""!==a?f(c.contentService+"/v2/playlists/"+a):b.reject(new Error("feedId is not given or not a string"))},this.getSearchFeed=function(a,d){return a?angular.isString(d)&&""!==d?f(c.contentService+"/v2/playlists/"+a+"?search="+encodeURIComponent(d)):b.reject(new Error("search phrase is not given or not a string")):b.reject(new Error("searchPlaylist is missing"))},this.patchItemWithCaptions=function(c,d){if(!c.tracks)return b.resolve(c);var e=null,f=null;return c.tracks.forEach(function(a){"captions"===a.kind&&/\.vtt$/.test(a.file)&&(e=a.file,f=a.hits),"thumbnails"===a.kind&&(c.thumbnails=a.file)}),e&&f?function(c,e){return a.get(c).then(function(a){var c=a.data;return b(function(a,b){var f=new WebVTT.Parser(window,WebVTT.StringDecoder()),g=[];f.onparsingerror=b,f.oncue=function(a){g.push(a)},f.onflush=function(){a(e.map(function(a){var b=g[a-1],c=new RegExp("("+d+")","ig");return{text:b.text,time:b.startTime,highlighted:b.text.replace(c,"<span>$1</span>")}}))},f.parse(c),f.flush()})})}(e,f).s=a}):b.resolve(c)},this.getRecommendationsFeed=function(a,d){return a?angular.isString(d)&&""!==d?f(c.contentService+"/v2/playlists/"+a+"?related_media_id="+d):b.reject(new Error("media id is not given or not a string")):b.reject(new Error("recommendationsPlaylist is missing"))},this.getPlayer=function(a){var d=b.defer(),e=document.createElement("script");return e.type="text/javascript",e.onload=function(){d.resolve()},e.one"))},e.async=!0,e.src=c.contentService+"/libraries/"+a+".js",document.body.appendChild(e),d.promise}}function b(a,b){function c(a,b,c,d){var e=new window.XDomainRequest;e.timeout=c||15e3,e.onprogress=angular.noop,e.ontimeout=e.onerror=function(){d(-1,null,null,"")},e.onload=function(){d(200,e.responseText,"","OK")},e.open(b,a),e.send()}return window.XDomainRequest?function(d,e,f,g,h,i){var j=window.location,k=j.hostname+(j.port?":"+j.port:"");if(e=e.replace("./","http://"+k+b.baseHref()),!/^https?:\/\/([^\?\/]+)/.test(e)||RegExp.$1===k)return a.apply(this,arguments);d=d.toUpperCase(),d="GET"!==d?"POST":"GET",e=e.replace(/^https?:/,j.protocol),c(e,d,i,g)}:a}angular.module("jwShowcase.core").decorator("$httpBackend",b).service("api",a),a.$inject=["$http","$q","config","utils"],b.$inject=["$delegate","$browser"]}(),function(){"use strict";function a(a,b,c,d,e){function f(a){var b,c=["backgroundColor","featured","cols","enableText","enablePreview","aspectratio","enableTitle"],d={};return angular.forEach(c,function(c){if(b=a["showcase."+c],angular.isDefined(b)){if("true"===b||"false"===b)return void(d[c]="true"===b);if(angular.isString(b)&&"{"===b[0])try{d[c]=JSON.parse(b)}catch(a){console.log("Error while parsing JSON from feed custom option: "+a.message)}else d[c]=b}}),d}var g,h=this;this.populateFeedModel=function(b){return b.feedid?(b.playlist=[],b.$promise=c.getFeed(b.feedid).),b}).catch(function(c){return b.$error=c,b.$navigable=!1,a.reject(b)}),b.$promise):a.reject(new Error("feedid is not defined"))},this.getRecommendationsFeed=function(f){var g=b.recommendationsPlaylist;if(!g)return a.reject();var h=new e(g,"Related videos",!1);return c.getRecommendationsFeed(g,f).then(function(a){return h.playlist=a.playlist,b.options.showcaseContentOnly&&(h.playlist=h.playlist.filter(function(a){return!!d.getItem(a.mediaid)})),h}).catch(function(b){return h.$error=b,h.$navigable=!1,a.reject(h)})},this.getFeedForTag=function(b){var c=a.defer(),f=new e(b,b,!0,!0);return angular.isString(b)&&b?(g.then(function(){f.playlist=d.getItems().filter(function(a){return angular.isString(a.tags)&&-1!==a.tags.split(",").indexOf(b)}),c.resolve(f)}),c.promise):a.resolve(f)},this.getSearchFeed=function(f,g){var h=new e(b.searchPlaylist,"Search Results");return f?(d.searchFeed.feedid=b.searchPlaylist,c.getSearchFeed(b.searchPlaylist,f).then(function(e){if(h.playlist=e.playlist,b.options.showcaseContentOnly&&(h.playlist=h.playlist.fiid)})),b.options.enableInVideoSearch&&g)return a.all(h.playlist.slice(0,10).map(function(a){return c.patchItemWithCaptions(a,f)}))}).n h}).cge)})):a.resolve(h)},this.loadFeedsFromConfig=function(){var c,i=[];return angular.isArray(b.content)?(d.feeds=b.content.fiId)}).map(function(b){if(b.playlistId===d.watchProgressFeed.feedid)return d.watchProgressFeed;if(b.playlistId===d.watchlistFeed.feedid)return d.watchlistFeed;var g=new e(b.playlistId);return c=h.populateFeedModel(g).then(function(a){return angular.merge(b,f(a)),a}).ce()}),i.push(c),g}),g=a.all(i)):a.resolve([])}}angular.module("jwShowcase.core").service("apiConsumer",a),a.$inject=["$q","config","api","dataStore","FeedModel"]}(),function(){"use str={}}angular.module("jwShowcase.core").service("appStore",a),a.$inject=[]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,y")}function n(a){c.go("root.search",{query:k.slugify(a,"+k()}function p(){return{params:d,name:c.current.nds)}function r(a){return a?g.settings[a]:angular.copy(g.settil)}function u(a){var c={};return angular.forEach(a,function(d,e){angular.isFunction(d)&&(c[e]=function(){var c=argumen,c)})})}),c}var v=window.jwShowcase;return v.config=t,v.feeds=q,v.search=n,v.sidebar=u(h),v.watchlist=u(i),v.watchProgress=u(j),v.settings={get:r,set:s},v.state={go:c.go,is:c.is,goBack:o,get:p},a.$on("$stateChangeSucc())}),a.$watchCollec,a)}),{initialize:m}}angular.module("jwShowcase.core").factory("bridge",a),a.$inject=["$rootScope","$timeout","$state","$stateParams","dataStore","history","userSettings","sidebar","watchlist","watchProgress","utils","config"]}(),function(){"use strict";function a(a,c){function d(){if(!p){if(angular.isObject(window.config))return c.resolve(e({data:window.config}));p=a.get(window.configLocation).then(e,f)}return p}function e(a){var b=a.data;try{return angular.isString(b.message)?c.reject(new Error(b.message)):(b=g(b),j(b))}catch(a){return c.reject"))}function g(a){var b,c=["player","theme","siteName","description"];if(b=c.fib])}),b.length>0)throw new Error("The config file is missing the following properties: "+b.join(", "));if("2"!==a.version)return h(a),i(a);if(m(a.content)&&!n(a.content))throw new Error("The config file content property should be an array");return a}function h(a){if(m(a.playlists)&&!n(a.playlists))throw new Error("The config file playlists property should be an array");if(m(a.featuredPlaylist)&&!o(a.featuredPlaylist))throw new Error("The config file featuredPlaylist property should be a string")}function i(a){var b,c=["player","theme","siteName","description","searchPlaylist","recommendationsPlaylist","contentService","footerText"],d=["backgroundColor","enableCookieNotice","enableContinueWatching","enablePlayerAutoFocus","enableHeader"],e={version:"2",content:[],assets:{banner:a.bannerImage},options:{}};return n(a.playlists)&&(e.content=a.playlists:a}})),a.featuredPlaylist&&(b={playlistId:a.featuredPlaylist,featured:!0},m(a.enableFeaturedText)&&(b.enableText=a.enableFeaturedText),e.content.unshift(b)),l(c,a,e),l(d,a,e.options),e}function j(a){if(!angular.isArray(a.content))return a;if(a.options.enableContinueWatching&&!k(a.content,"continue-watching")){var c=a.content[0]&&a.content[0].featured?1:0;a.content.splice(c,0,{playlistId:"continue-watching",enablePreview:!0})}return k(a.content,"saved-videos")||a.content.push({playlistId:"saved-videos"}),a.content=a.content.map(function(a){return a=angular.merge({},b,a),a.featured&&(a.type="featured"),a.featured&&!angular.isDefined(a.enablePreview)&&(a.enablePreview=!0),a}),a}function k(a,b){return a.findIndex(function(a){return a.playlistId===b})})}var m=angular.isDefined,n=angular.isArray,o=angular.isString,p=null;this.getConfig=d}var b={featured:!1,type:"slider",enableTitle:!0,enableText:!0};angular.module("jwShowcase.core").service("configResolver",a),a.$inject=["$http","$q"]}(),function(){"use strict";function a(a){function b(){c||(c=a.show({controller:"CookiesController as vm",templateUrl:"views/core/cookies.html"}).ull}))}var c;this.show=b}angular.module("jwShowcase.core").service("cookies",a),a.$inject=["popup"]}(),function(){"use strict";function =a}}this.feeds=[],this.watchlistFeed=new a("saved-videos","Saved videos",!0),this.watchProgressFeed=new a("continue-watching","Continue watching",!0),this.searchFeed=new a("search-feed","Search results",!0),this.getItem=function(a){return angular.copy(this.getItems().find(b(a)))}.bind(this),this.getItems=function(){var a=[];return angular.forEach(this.feeds,function(b){!0!==b.$virtual&&(a=a.concat(b.playlist))}),a=a.filter(function(a,c,d){return d.findIndex(b(a.mediaid))===c})}.bind(this),this.getFeed=function(a){return a===this.searchFeed.feedid?this.searchFeed:this.feeds.find(function(b){return b.feedid===a})}.bind(this)}angular.module("jwShowcase.core").service("dataStore",a),a.$inject=["FeedModel"]}(),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],function(){"use strict";function a(a){function b(a,b,c,d){if(d){var e=window.innerWidth-document.body.clientWidth;e>0&&(d=d.map(function(a){return a[0][0]>0&&(a[0][0]=a[0][0]-e),a}))}return googletag.cmd.push(function(){var e=googletag.defineSlot(a,b,c);d&&e.defineSizeMapping(d),e.addService(googletag.pubads()),m[c]=e}),this}function c(a){k.)[a]}function e(a){m[a]&&googletag.cmd.]])})}function f(a){m[a]&&googletag.cmd.]])})}function g(){return h().then(function(){googletag.cmd.push(function(){googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().setCentering(!0),googletag.enableServices()})})}function h(){var a;return l?k:(l=!0,a=document.createElement("script"),a.type="text/javascript",a.onload=function(){j.resolve()},a.one?")},a.async=!0,a.src=i,document.body.appendChild(a),k)}var i="https://www.googletagservices.com/tag/js/gpt.js",j=a.defer(),k=j.promise,l=!1,m={};this.registerSlot=b,this.getSlot=d,this.display=c,this.setup=g,this.refresh=e,this.destroy=f}angular.module("jwShowcase.core").service("dfp",a),a.$inject=["$q"]}(),function(){"use strict";function a(a){function b(b,c,d){this.feedid=b,this.title=c||"",this.playlist=[],this.$virtual=!!d,this.$navigable=!0,this.$promise=a.resolve(this)}return b.prototype.finda})},b.prototype.clone=function(){var a=new b;return angular.extend(a,this),a.playlist=angular.copy(this.playlist),a},b}angular.module("jwShowcase.core").factory("FeedModel",a),a.$inject=["$q"]}(),function(){"use strict";function a(){function a(a,c,d){function e(){var b;a.$on("$stateChangeStl()}),a.$on("$stateChangeSuccess",function(a,c,d,e,g){var h;if(!e.abstract)return(h=i.history.findI[0]}))>-1?(i.history.splice(0,h),void(j=!1)):j?void(j=!1):!1===e.history&&i.history.length&&i.history[0][1]===e.name?(i.history[0][0]=b,void(i.history[0][2]=angular.copy(g))):void f(b,e.name,angular.copy(g))})}function f(a,b,c){i.history.unshift([a,b,c]),i.history.splice(15)}function g(a){var b=i.history[a];b&&(j=!0,c.go(b[1],b[2]),i.history.splice(0,a+1))}function h(){if(!i.history.length)return i.history=[],j=!0,void c.go(b);i.goToIndex(0)}var i=this,j=!1;return this.history=[],this.attach=e,this.goToIndex=g,this.goBack=h,this}var b="";this.setDefaultSb=a},this.$get=a,a.$inject=["$rootScope","$state","$location"]}angular.module("jwShowcase.core").provider("history",a),a.$inject=[]}(),function(){"use strict";function a(a){function c(a,b){angular.isDefined(f[a])&&(f[a]=b),f)}function e(){var c=a.load(b);angular.isObject(c)&&angular.forEa]=a})}var f={conserveBandwidth:!1,continueWatching:!0,cookies:!1};this.set=c,this.settings=f,this.restore=e}var b="jwshowcase.usersettings";angular.module("jwShowcase.core").service("userSettings",a),a.$inject=["session"]}(),function(){"use strict";function b))}function d(a){var b=String(a);return b[0].toUpperCase()+b.slice(1)}function e(a){var b,c=document.createElement("fakeelement"),e={transition:"transition"+a,OTransition:"oTransition"+d(a),MozTransition:"transition"+a,WebkitTransition:"webkitTransition"+d(a)};for(b in e)if(void 0!==c.style[b])return e[b]}function f(a){var b,c=0;return angular.isNumber(a.duration)?c=a.duration:angular.isArray(a.sources)&&(b=a.sources.n>0}))&&b.duration&&(c=b.duration),0===c?"LIVE":c<60?c+" sec":Math.ceil(c/60)+" min"}function g(,b)}var d;return c}function h(a,c){for(var d,e,f=Object.keys(a),g=0;g<f.length;g++)if(d=f[g],angular.isDefined(a[d])&&(e=a[d]),b[d]&&!0===b[d].matches)return e;return e||c}function i(a,b){var c;return a?(c=a.match(/-(\d+)\.(\w+)$/),angular.isArray(c)&&3===c.length&&(a=a.replace(c[0],c[0].replace(c[1],b))),a):""}function j(a){var b=angular.element('<input type="text" />'),c=!1;if(b.css({position:"absolute",left:"-1000px",fontSize:"18px"}),b.val(a),angular.element(document.body).append(b),b[0]&&b[0].select){b[0].select();try{document.execCommand("copy"),c=!0}catch(a){}b[0].blur()}return b.remove(),c}function k(a,b){return b=b||"-",a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/\-/g,b)}function l(a,b){if(!a)return""
;var c="PT",d=new Date(a?1e3*a:0),e=d.getUTCHours(),f=d.getUTCMinutes(),g=d.getUTCSeconds();return b?(e>0&&(c+=e+"H"),f>0&&(c+=f+"M"),g>0&&(c+=g+"S"),c):d.toISOString()}function m(a){var b;return function(){return b||(b=a.apply(this,Array.prototype.slice.call(arguments)))}}function n(a){for(var b=s(),c=0,d=a.length;c<d;c++){var e=1,f=a[c],g=a[c][0],h="";"[object Array]"===Object.prototype.toString.call(f[1][0])&&(f=f[1],e=0);for(var i=f.length;e<i;e++){var j=f[e];h+=j[0]+":"+j[1]+(j[2]?" !important":"")+";\n"}b.insertRule(g+"{"+h+"}",b.cssRules.length)}}function o(){return"https://www.facebook.com/sharer/sharer.php?u={url}".replace("{url}",encodeURIComponent(a.absUrl()))}function p(b){return"http://twitter.com/share?text={text}&amp;url={url}".replace("{url}",encodeURIComponent(a.absUrl())).replace("{text}",encodeURIComponent(b))}function q(b){return"mailto:?subject={subject}&body={url}".replace("{url}",encodeURIComponent(a.absUrl())).replace("{subject}",encodeURIComponent(b))}function r(){var a=document.createElement("div"),b=void 0!==a.style.flex;return a=null,b}this.flatMap=c,this.ucfirst=d,this.getTransitionEventName=e,this.getVideoDurationByItem=f,this.debounce=g,this.getValueForScreenSize=h,this.replaceImageSize=i,this.copyToClipboard=j,this.slugify=k,this.secondsToISO8601=l,this.memoize=m,this.addStylesheetRules=n,this.composeFacebookLink=o,this.composeTwitterLink=p,this.composeEmailLink=q,this.flexboxSupport=r;vareet})}var b={xs:window.matchMedia("(max-width: 540px)"),sm:window.matchMedia("(min-width: 541px) and (max-width: 960px)"),md:window.matchMedia("(min-width: 961px) and (max-width: 1280px)"),lg:window.matchMedia("(min-width: 1281px) and (max-width: 1680px)"),xl:window.matchMedia("(min-width: 1681px)")};angular.module("jwShowcase.core").service("utils",a),a.$inject=["$location"]}(),function(){"use strict";function a(a,b){function c(){return window.enablePwa&&!window.cordova&&"serviceWorker"in navigator}function d(){return m}function e(b){var c=k(b);return c.length?window.caches.open("jw-showcase-video-"+b.mediaid).then(function(d){return d.match(c[0]).then(function(e){if(e)return e;var f=c)})});return Promise.all(f).c()})})}):Promise.reject()}function f(b){var c="jw-showcase-video-"+b.mediaid;return window.caches.has(c).then(function(d){return!!d&&window.caches.delete(c).then(function(){var c=n.indexOf(b.mediaid);c>-1&&(n.splice(c,1),a.$applyAsync())})}function i(a){a=angular.copy(a),a.bannerImage&&(a.bannerImage=a.bannerImage.toString()),j({type:"prefetchConfig",config:a})}function j(a){c()&&navigator.serviceWorker.ready.a))})}function k(a){var b=[],c=a.sources.720});return c?(b.push(c.file),a.image&&b.push(a.image.replace("720","1920")),b.push("https://cdn.jwplayer.com/strips/"+a.mediaid+"-120.jpg"),a.tracks&&(b=b.concat(a.tracksile}))),b):[]}function l(){m!==navigator.onLine&&(m=navigator.onLine,m?document.body.classList.remove("jw-flag-offline"):document.body.classList.add("jw-flag-offline"))}var m=!0,n=[];this.updateConnectionState=l,this.isSupported=c,this.isOnline=d,this.downloadItem=e,this.removeDownloadedItem=f,this.hasDownloadedItem=g,this.prefetchPlayer=h,this.prefetchConfig=i,function(){c()&&(b(l,50),window.caches.keys().then(function(b){b.map(function(a){var b=a.match(/jw-showcase-video-(.*)/);b&&b[1]&&n.push(b[1])}),a.$applyAsync()}),window.addEventListener("online",function(){l(),a.$applyAsync()}),window.addEventListener("offlc()}))}()}angular.module("jwShowcase.core").service("serviceWorker",a),a.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function a(){function a(a){return function(){if(d&&angular.isFunction(d[a]))return d[a].apply(d,Array.prototype.slice.call(argument d}var d;this.play=a("play"),this.pause=a("pause"),this.stop=a("stop"),this.seek=a("seek"),this.getState=a("getState"),this.playlistItem=a("playlistItem"),this.setCurrentQuality=a("setCurrentQuality"),this.load=a("load"),this.setPlayer=b,this.getPlayer=c,this.currentTime=0}angular.module("jwShowcase.core").service("player",a),a.$inject=[]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){var b=n(a);if(b.element)return t.unshift(b),j(b),b.defer.promise;c.reject("failed to create popup")}function h(a){return g({controller:"ConfirmController as vm",templateUrl:"views/core/popups/confirm.html",resolve:{message:a}})}function i(){u||(u=p(),angular.element(document.body).append(u))}function j(a){i(),angular.element(u[0].querySelector(".jw-popups-container")).append(a.element),o(),k(a),l(a)}function k(a){var b,c,d,e,f,g,h,i=a.options.target;i&&(b=i.getBoundingClientRect(),g=window.innerWidth,e=a.element[0].offsetWidth,f=a.element[0].offsetHeight,c=Math.min(g-e,Math.max(e/2,b.left-e/2)),d=Math.max(f/2,b.top-f/2),h="translate("+c+"px, "+d+"px)",a.element.css({"-moz-transform":h,"-ms-transform":h,"-webkit-transform":h,transform:h,top:0,left:0}))}function l(a){var b=a.element[0].querySelectorAll('[tabindex="0"]')[0];b&&(a.focusElement=document.activeElement,b.focus())}function m(a){var b;a&&(b=t.findI==a}),a.element.remove(),a.focusElement&&a.focusElement.focus(),b>-1&&t.splice(b,1)),o()}function n(b){b=b||{};var c=f.get(b.templateUrl),g=a.$new(),h=new s(b),i=angular.extend({$scope:g,popupInstance:h},b.resolve);return h.element=e(c)(g),b.controller&&d(b.controller,i),h}function o(){u.toggleClass("ng-hide",0===t.length)}function p(){var a=f.get("views/core/popups.html"),b=e(a)({});return angular.element(b[0].querySelector(".jw-popups-backdrop")).on("click",q),b}function q(a){r(),a.preventDefault(),a.stopImmediatePropagation()}function r(){t[0]&&t[0].close()}function (e)}var e=this;this.focusElement=null,this.options=a,this.element=null,this.defer=c.defer(),this.close=function(a){m(e),this.defer.resolve(a),b.off("scroll",d)},b.on("scroll",d)}var t=[],u=null;this.show=g,this.showConfirm=h,function(){b.on("keyup",function(a){27===a.which&&t.length&&(r(),a.preventDefault(),a.stopImmediatePropagation())})}()}angular.module("jwShowcase.core").service("popup",a),a.$inject=["$rootScope","$document","$q","$controller","$compile","$templateCache"]}(),function(){"use strict";function a(){function a(){var a=angular.element(document.body);if(!0===f&&a.addClass("jw-flag-touch"),"android"===i){var b=h.os.version.substr(0,h.os.version.indexOf("."));a.addClass("jw-flag-android"),a.addClass("jw-flag-android-"+b)}"ios"===i&&a.addClass("jw-flag-ios"),j&&a.addClass("jw-flag-mobile")}function e(){return b.matches?"mobile":c.matches?"tablet":d.matches?"desktop":void 0}var f="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,g=new window.UAParser,h=g.getResult(),i=(h.os.name||"").toLowerCase(),j=["android","ios"].indexOf(i)>-1;return{prepare:a,screenSize:e,isTouch:f,isAndroid:"android"===i,isIOS:"ios"===i,isWindows:"windows"===i,isMobile:j,isPrerender:/prerender/i.test(navigator.userAgent),browserName:h.browser.name,browserVersion:h.browser.version,platformName:h.os.name,platformVersion:h.os.version}}var b=window.matchMedia("(max-width: 767px)"),c=window.matchMedia("(min-width: 768px) and (max-width: 1023px)"),d=window.matchMedia("(min-width: 1024px)");angular.module("jwShowcase.core").factory("platform",a),a.$inject=[]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){var a=window.enablePwa&&"serviceWorker"in navigator;m.restore(),t(),j.isSupported()&&(j.prefetchPlayer(jwplayer.utils.repo()),j.prefetchConfig(d)),!d.options.enableAddToHome||window.cordova||a||window.addToHomescreen({appID:"jwshowcase.addtohome"}),x.resolve()}function r(a){c.loading=!1,b.go("error",{message:a.message}),x.rejee()}function t(){var a=!window.cordova;(angular.isObject(d.options.cookieNotice)&&d.options.cookieNotice.enabled||d.options.enableCookieNotice)&&!m.settings.cookies&&a&&f.show()}function u(a){var b=[".jw-button-primary",".jw-card-watch-progress",".jw-card-toast-primary",".jw-offline-message",".jw-skin-jw-showcase .jw-progress",".jw-card-in-video-search-timeline:hover",".jw-card-in-video-search-timeline-dot:hover"],c=[".jw-button-default:hover",".jw-button-default.active",".jw-button-play .jwy-icon",".jw-button-watchlist.is-active .jwy-icon-stack",".jw-cookies-title",".jw-loading .jw-loading-icon .jwy-icon",".jw-skin-jw-showcase .jw-button-color:hover",".jw-skin-jw-showcase .jw-button-color:focus",".jw-skin-jw-showcase .jw-toggle.jw-off:hover",".jw-skin-jw-showcase .jw-toggle:not(.jw-off)",".jw-theme-light .jw-card.jw-card-flag-default .jw-card-title .jw-card-title-matches",".jw-theme-light .jw-card.jw-card-flag-default .jw-card-description span"];o.addStylesheetRules([[b.join(","),["background-color",a,!0]],[c.join(","),["color",a,!0]]])}function v(a){return angular.isDefined(a)&&null!==a}function w(a,b){angular.forEach(b,function(b,c){if(angular.isObject(b)&&angular.isObject(a[c]))return w(a[c],b);v(b)&&(a[c]=b)})}var x=a.defer();return d.siteName?a.resolve():(e.getConfig().):a}).then(function(e){if(w(d,e),angular.isString(d.options.backgroundColor)&&""!==d.options.backgroundColor&&(document.body.style.backgroundColor=d.options.backgroundColor),!1===d.options.enableHeader&&document.body.classList.add("jw-flag-no-header"),d.options.highlightColor&&u(d.options.highlightColor),angular.isObject(d.options.displayAds)&&"dfp"===d.options.displayAds.client&&h.setup(),d.options.facebookPixelCode){var f=document.createElement("script");f.src=d.options.facebookPixelCode,f.type="text/javascript",document.body.appendChild(f)}if(setTimg")}),!o.flexboxSupport()&&!p.isPrerender)return c.loading=!1,void b.go("updateBrowser",{directed:!0});a.all([g.getPlayer(d.player),i.loadFeedsFromConfig().then(s)]).then(q,r)},r),x.promise)}angular.module("jwShowcase.core").factory("preload",a),a.$inject=["$q","$state","appStore","config","configResolver","cookies","api","dfp","apiConsumer","serviceWorker","watchlist","watchProgress","userSettings","bridge","utils","platform"]}(),function(){"use strict";function a(){function a(a,b){return e.push({name:a,metadata:b}),this}function c(a){return f={metadata:a},this}function d(a,c,d){function g(){a.$on("$stateChangeSuccme)}),i(c.current.nme)}function i(a){var g=e.fi==a})[0]||f,h=g.metadata;o.metadata={},n(),g&&((angular.isFunction(h)||angular.isArray(h))&&(h=d.invoke(h,this,c.$current.locals.globals)),angular.forEach(b,function(a){var b=h[a]||"";switch(o.metadata[a]=b,a){case"title":j(b),m("title",b);break;case"description":m("description",b),l("description",b);break;case"image":m("image",b);break;case"canonical":k(b);break;case"schema":n(b)a)}function l(a,b){var c=document.querySelector("meta[name="+a+"]");c&&(c.content=b)}function m(a,b){var c=document.querySelector('meta[property="og:'+a+'"]');c&&(c.content=b)}function n(a){var b=document.querySelector("script#schema");if(b)return a?void(b.textContent=JSON.stringify(a)):void(b.textContent="")}var o={metadata:{},initialize:g,update:h};return o}var e=[],f={};this.state=a,this.otherwise=c,this.$get=["$rootScope","$state","$injector",d]}var b=["title","description","image","canonical","schema"];angular.module("jwShowcase.core").provider("seo",a),a.$inject=[]}(),function(){"use strict";function a(){function a(a,b){var c;if(!window.localStorageSupport)return b;if(c=window.localStorage.getItem(a),!angular.isDefined(c)||null==c)return b;if(angular.isString(c)&&/^[{\[]/.test(c))try{c=JSON.parse(c)}catch(a){c=b}return c}function b(a,b){if(window.localStorageSupport)if(angular.isObject(b)||angular.isArray(b))try{window.localStorage.setItem(a,JSON.stringify(b))}catch(a){}else window.localStorage.setItem((a)}this.save=b,this.load=a,this.clear=c}angular.module("jwShowcase.core").service("session",a),a.$inject=[]}(),function(){"use strict";function w()}function c(){f.opened=!1,angular.element(document.body).removeClass("jw-flag-sidebar-opened"),angular.element(document).off("keyup",e)}function d(){f.opened=!0,angular.element(document.body).addClass("jw-flag-sidebar-opened"),angular.element(document).on("keyup",e)}function e(b){27===b.which&&(b.preventDefault(),b.stopImmediatePropagation(),a.$ac()}))}var f=this;this.opened=!1,this.toggle=b,this.hide=c,this.show=d,function(){a.$on("$stateChangeSucce()})}()}angular.module("jwShowcase.core").service("sidebar",a),a.$inject=["$rootScope"]}(),function(){"use strict";function a(a,b,c){functionn i}function e(b,d){var e;return d&&(b=c.replaceImageSize(b,d)),b===g&&i?i:(g=b,h=b.split("?")[0].split("/").slice(0,-1).join("/"),e=a.get(b),i=e.ta)}))}function f(a){var c=new WebVTT.Parser(window,WebVTT.StringDecoder()),d=b.defer();return c.oncue=function(a){var b,c={start:a.startTime,end:a.endTime,imageUrl:a.text,xywh:[]};/^https?/.test(c.imageUrl)||(c.imageUrl=h+"/"+a.text),b=a.text.match(/#xywh=(pixel|percent)?:?(\d+),(\d+),(\d+),(\d+)/),b&&b.length&&(c.xywh=b.slice(1),c.xywh[0]=c.xywh[0]||"pixel"),j.push(c)},c.onf(j)},c.onparsingerror=function(){j=[],d.reject("vtt parse error")},c.parse(a),c.flush(),d.promise}var g,h,i,j=[];this.load=e,this.getThumbnails=d}return d}angular.module("jwShowcase.core").factory("Thumbstrip",a),a.$inject=["$http","$q","utils"]}(),function(){"use strict";function a(a,c,d,e,f){function g(a){return c.watchlistFeed.playlist.findIndex(function(b){return a.mediaid===b.mediaid})}function h(a,b){var d=g(a);if(b=!angular.isDefined(b)||b,-1===d&&(c.watchlistFeed.playlist.unshift(angular.copy(a)),k(),b&&f.isSupported()))return f.downloadItem(a)}function i(a){var b=g(a);-1!==b&&(c.watchlistFeed.playlist.splice(b,1),k(),f.isSupported()&&f.removeDownloadedItem(a))}function j(a){return-1!==g(a)}function k(){e.save(b,c.watchlistFeed.playlistid}}))}function l(){f.isSupported()&&angular.forEach(c.watchlistFeed.play(a)}),c.watchlistFeed.playlist=[],e.clear(b)}function m(){var f=e.load(b,[]).map(function(a){return c.getItem(a.mediaid)||d.getItem(a.mediaid).catch(function(){})});return a.all(f).then(function(a){c.watchlistFeed.playlist=a.filter(angular.isDefined),k()})}this.addItem=h,this.hasItem=j,this.removeItem=i,this.restore=m,this.persist=k,this.clearAll=l}var b="jwshowcase.watchlist";angular.module("jwShowcase.core").service("watchlist",a),a.$inject=["$q","dataStore","api","session","serviceWorker"]}(),function(){"use strict";function a(a,f,g,h){function i(a){return f.watchProgressFeed.playlist.findIaid})}function j(a,b){if(angular.isNumber(b)&&b>=d&&b<e)return l(a,b);k(a)&&(a)}function l(a,b){var c=f.watchProgressFeed.playlist,d=i(a),e=d>-1?c[d]:angular.copy(a);-1===d&&c.unshift(e),e.progress=b,e.lastWatched=+new Date,c.sort(r),p()}function m(a){var b=i(a);return f.watchProgressFeed.playlist[b]}function n(a){var b=f.watchProgressFeed.playlist,c=i(a);-1!==c&&(b.splice(c,1),p())}function o(){f.watchProgressFeed.playlist=[],p()}function p(){g.save(b,f.watchProgressFeed.playlisted}}))}function q(){function i(a){return!!a.mediaid&&(!(a.progress<d||a.progress>e)&&j-a.lastWatched<c)}var j=+new Date,k=g.load(b,[]).filter(i).sort(r).map(function(a){var b=f.getItem(a.mediaid);return b&&(b.progress=a.progress,b.lastWatched=a.lastWatched),h.getItem(a.mediaid).d,b}).c(){})});return a.all(k).then(function(a){f.watchProgressFeed.playlist=a.filter(angular.isDefined),p1:0}this.handler=j,this.saveItem=l,this.removeItem=n,this.getItem=m,this.hasItem=k,this.restore=q,this.clearAll=o}var b="jwshowcase.watchprogress",c=2592e6,d=.1,e=.9;angular.module("jwShowcase.core").service("watchProgress",a),a.$inject=["$q","dataStore","session","api"]}(),function(){"use strict";function a(a,b,c,d){a.$on("$stateChangeStart",function(a,e,f,g){"updateBrowser"!==e.name||f.directed||(a.preventDefault(),d.go("root.dashboard")),"last"===g.scrollTop&&(c.scrollTopCache[b.$$path]=document.body.scrollTop)})}angular.module("jwShowcase.core").run(a),a.$inject=["$rootScope","$location","appStore","$state"]}(),function(){"use strict";function a(a,b){a.$on("$stateChangeError",function(a,c){var d=c.name;a.preventDefault(),"error"!==d&&"root.videoNotFound"!==d&&"root.feedNotFound"!==d&&("root.feed"===d?b.go("root.feedNotFound"):"root.video"===d?b.go("root.videoNotFound"):"root.dashboard"!==d&&b.go("root.dashboard"))})}angular.module("jwShowcase.core").run(a),a.$inject=["$rootScope","$state"]}(),function(){"use strict";function a(a,b,c,d){a.$on("$stateChangeSuccess",function(a,e){var f=c.$$path;b.resolve().then(function(){var a=0;"last"===e.scrollTop&&angular.isNumber(d.scrollTopCache[f])?a=d.scrollTopCache[f]:angular.isNumber(e.scrollTop)&&(a=e.scrollTop),(document.scrollingElement||document.documentElement||document.body).scrollTop=a})})}angular.module("jwShowcase.core").run(a),a.$inject=["$rootScope","$q","$location","appStore"]}(),function(){"use strict";function a(a){a.state("error",{templateUrl:"views/error/error.html",controller:"ErrorController as vm",params:{message:""}}).state("root.videoNotFound",{url:"/e/video-not-found",templateUrl:"views/error/videoNotFound.html"}).state("root.feedNotFound",{url:"/e/feed-not-found",templateUrl:"views/error/feedNotFound.html"})}angular.module("jwShowcase.error",[]).config(a),a.$inject=["$stateProvider"]}(),function(){"use strage}angular.module("jwShowcase.error").controller("ErrorController",a),a.$inject=["$stateParams"]}(),function(){"use strict";function a(a,b){a.state("root.dashboard",{url:"/",controller:"DashboardController as vm",templateUrl:"views/dashboard/dashboard.html",scrollTop:"last",persistent:!0}),b.state("root.dashboard",["$state","config",function(a,b){return{title:b.siteName,description:b.description,canonical:a.href("root.dashboard",{},{absolute:!0})}}])}angular.module("jwShowcase.dashboard",[]).config(a),a.$inject=["$stateProvider","seoProvider"]}(),function(){"use strict";function a(a,b,c,d,e){function f(b,e){a.go("root.video",{list:b.feedid,mediaId:b.mediaid,slug:d.slugify(b.title),autoStart:e||c.isMobile})}var g=this;g.dataStore=b,g.config=e,g.rows=[],g.cardClickHandler=f,function(){a.history=[],g.rows=e.contentd)}})}()}angular.module("jwShowcase.dashboard").controller("DashboardController",a),a.$inject=["$state","dataStore","platform","utils","config"]}(),function(){"use strict";function a(a,b){function c(c,d,e){var f=b.get("views/dashboard/rows/"+c.options.type+".html"),g=a(f)(c);d.addClass("jw-content-row-"+c.options.type),c.options.playlistId&&d.addClass("jw-content-row-"+c.options.playlistId),d.append(g),c.options.backgroundColor&&d.css("background-color",c.options.backgroundColor)}return{link:c,restrict:"E",replace:!0,template:'<div class="jw-content-row"></div>',scope:{feed:"=",options:"=",cardClickHandler:"="}}}angular.module("jwShowcase.dashboard").directive("jwContentRow",a),a.$inject=["$compile","$templateCache"]}(),function(){"use strict";function a(a,b){function c(a,b,c){var d=c.getFeed(a.feedId);return d&&d.loading?d.promise:d||b.reject()}a.state("root.feed",{url:"/p/:feedId",controller:"FeedController as vm",templateUrl:"views/feed/feed.html",resolve:{feed:c},scrollTop:"last",persistent:!0}),b.state("root.feed",["$state","config","feed",function(a,b,c){return{title:c.title+" - "+b.siteName,description:c.description,canonical:a.href("root.feed",{},{absolute:!0})}}]),c.$inject=["$stateParams","$q","dataStore","preload"]}angular.module("jwShowcase.feed",[]).config(a),a.$inject=["$stateProvider","seoProvider"]}(),function(){"use strict";function a(a,b,c,d){function e(d,e){a.go("root.video",{list:d.feedid,mediaId:d.mediaid,slug:c.slugify(d.title),autoStart:e||b.isMobile})}var f=this;f.feed=d,f.cardClickHandler=e}angular.module("jwShowcase.feed").controller("FeedController",a),a.$inject=["$state","platform","utils","feed"]}(),function(){"use strict";function a(a,b){a.state("root.search",{url:"/q/:query?{showCaptionMatches:boolean}",controller:"SearchController as vm",templateUrl:"views/search/search.html",scrollTop:"last",persistent:!0,history:!1,params:{showCaptionMatches:{value:!1,squash:!0}},resolve:{searchFeed:["$q","config","$stateParams","apiConsumer","preload",function(a,b,c,d){var e=c.query.replace(/\+/g," ");return b.searchPlaylist?d.getSearchFeed(e,c.showCaptionMatches):a.reject("searchPlaylist is not defined")}]}}),b.state("root.search",["$state","$stateParams","config",function(a,b,c){return{title:b.query.replace(/\+/g," ")+" - "+c.siteName,description:c.description,canonical:a.href("root.search",{},{absolute:!0})}}])}angular.module("jwShowcase.search",[]).config(a),a.$inject=["$stateProvider","seoProvider"]}(),function(){"use strict";function a(a,b,c,d){function e(d,e,f){a.go("root.video",{mediaId:d.mediaid,slug:c.slugify(d.title),startTime:f,autoStart:e||b.isMobile||void 0!==f})}var f=this;f.cardClickHandler=e,f.feed=d}angular.module("jwShowcase.search").controller("SearchController",a),a.$inject=["$state","platform","utils","searchFeed"]}(),function(){"use strict";function a(a){a.state("root.settings",{url:"/u",controller:"SettingsController as vm",templateUrl:"views/settings/settings.html",scrollTop:0,persistent:!0})}angular.module("jwShowcase.settings",[]).config(a),a.$inject=["$stateProvider"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){"continueWatching"!==a||n[a]||c.clearAll(),d.set(a,n[a])}function k(){e.show({controller:"ConfirmController as vm",templateUrl:"views/core/popups/confirm.html",resolve:{message:"Do you wish to clear your Saved videos list?"}}).then(function(a){!0===a&&b.clearAll()})}function l(){e.show({controller:"ConfirmController as vm",templateUrl:"views/core/popups/confirm.html",resolve:{message:"Do you wish to clear your Continue watching list?"}}).then(function(a){!0===a&&c.clearAll()})}function m(a,b){f.go("root.video",{list:a.feedid,mediaId:a.mediaid,slug:g.slugify(a.title),autoStart:b||h.isMobile})}var n=this;n.enableContinueWatching=i.options.enableContinueWatching,n.watchlist=a.getFeed("saved-videos"),n.watchProgress=a.getFeed("continue-watching"),n.conserveBandwidth=d.settings.conserveBandwidth,n.continueWatching=d.settings.continueWatching,n.toggleChangeHandler=j,n.clearWatchlist=k,n.clearWatchProgress=l,n.cardClickHandler=m}angular.module("jwShowcase.settings").controller("SettingsController",a),a.$inject=["dataStore","watchlist","watchProgress","userSettings","popup","$state","utils","platform","config"]}(),function(){"use strict";function a(ag)}a.state("root.tag",{url:"/t/:tag",controller:"TagController as vm",templateUrl:"views/tag/tag.html",resolve:{feed:c},scrollTop:"last",persistent:!0}),b.state("root.tag",["$state","config","feed",function(a,b,c){return{title:c.title+" - "+b.siteName,description:c.description,canonical:a.href("root.feed",{},{absolute:!0})}}]),c.$inject=["$stateParams","apiConsumer","preload"]}angular.module("jwShowcase.tag",[]).config(a),a.$inject=["$stateProvider","seoProvider"]}(),function(){"use strict";function a(a,b,c,d){function e(d,e){a.go("root.video",{list:d.feedid,mediaId:d.mediaid,slug:c.slugify(d.title),autoStart:e||b.isMobile})}var f=this;f.feed=d,f.cardClickHandler=e}angular.module("jwShowcase.tag").controller("TagController",a),a.$inject=["$state","platform","utils","feed"]}(),function(){"use strict";function a(a){a.state("updateBrowser",{controller:"UpdateBrowserController as vm",templateUrl:"views/updateBrowser/updateBrowser.html",url:"/e/update-browser",params:{directed:!1}})}angular.module("jwShowcase.updateBrowser",[]).config(a),a.$inject=["$stateProvider"]}(),function(){"use strg=a}angular.module("jwShowcase.updateBrowser").controller("UpdateBrowserController",a),a.$inject=["config"]}(),function(){"use strict";function a(a,b,c){function d(a,b,c,d,e){var f=c.getItem(a.mediaId);return f||(e.options.showcaseContentOnly?b.reject(new Error("Video not found")):d.getItem(a.mediaId))}function e(a,b,c,d){var e=d.recommendationsPlaylist&&d.options.useRecommendationPlaylist;if(a.list&&!e){var f=b.getFeed(a.list);if(f)return f.$promise}if(d.recommendationsPlaylist)return c.getRecommendationsFeed(a.mediaId).catch(angular.noop)}b.when("/list/:feedId/video","/p/:feedId").when("/search/:query/video/:mediaId/:slug","/m/:mediaId/:slug").when("/list/:list/video/:mediaId/:slug","/m/:mediaId/:slug?list"),a.state("root.video",{url:"/m/:mediaId/:slug?list",controller:"VideoController as vm",templateUrl:"views/video/video.html",resolve:{item:d,feed:e},params:{autoStart:!1,startTime:null,slug:{value:null,squash:!0}},scrollTop:0}),c.state("root.video",["$state","config","item","utils",function(a,b,c,d){var e=a.href("root.video",{slug:d.slugify(c.title)},{absolute:!0});return{title:c.title,description:c.description,image:c.image,canonical:e,schema:{"@context":"http://schema.org/","@type":"VideoObject","@id":e,name:c.title,description:c.description,duration:d.secondsToISO8601(c.duration,!0),thumbnailUrl:c.image,uploadDate:d.secondsToISO8601(c.pubdate)}}}]),d.$inject=["$stateParams","$q","dataStore","api","config","preload"],e.$inject=["$stateParams","dataStore","apiConsumer","config","preload"]}angular.module("jwShowcase.video",[]).config(a),a.$inject=["$stateProvider","$urlRouterProvider","seoProvider"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){L=g.getItem(N.item)}function r(){var a={mediaId:N.item.mediaid,slug:m.slugify(N.item.title),list:void 0};N.item.feedid!==n.recommendationsPlaylist&&(a.list=N.item.feedid),angular.merge(b.params,a),angular.merge(c,a),b.$current.locals.globals.item=N.item,b.go("root.video",a,{notify:!1}).e()})}function s(){T=u(N.activeFeed,o),N.playerSettings.playlist=T,navigator.onLine||(N.playerSettings.advertising=!1),window.jwplayer.defaults.skin||(0===window.jwplayer.version.indexOf("8")?N.playerSettings.skin={name:"jw-showcase"}:N.playerSettings.skin="jw-showcase"),window.cordova&&(N.playerSettings.analytics.sdkplatform=k.isAndroid?1:2,N.playerSettings.cast=!1),n.options.showcaseContentOnly&&(N.playerSettings.related=!1),U&&c.list&&(N.playerSettings.related={file:"https://cdn.jwplayer.com/v2/playlists/"+c.list,oncomplete:"show"}),angular.isObject(n.options.player)&&angular.merge(N.playerSettings,n.options.player)}function t(){if(N.activeFeed){-1===N.activeFeed.playlist.findIndex(J(N.item.mediaid))&&N.activeFeed.playlist.unshift(o)}}function u(a,b){var c=[b],d=l.isSupported()&&!l.isOnline(),e=k.isAndroid&&k.platformVersion<5,f=0;return a&&(c=angular.copy(a.playlist),f=c.findIndex(J(b.mediaid)),c=c.slice(f).concat(c.slice(0,f))),d&&(c=c.fi(a)})),c.forEach(function(a){a.sources=a.sources.filter(function(a){return(!e||"application/vnd.apple.mpegurl"!==a.type)&&(d?"video/mp4"===a.type&&a.width<=720:"application/dash+xml"!==a.type)}),d&&a.sources.splice(1)}),U&&c.splice(1),c}function v(a){var b,c=0;K&&(b=K.length,!0===a&&(c=b>2?b-2:b),R=c)}function w(a,b){if(a!==b){var c=j.getState();"playing"!==c&&"paused"!==c&&(T=u(N.activeFeed,N.item),j.load(T),q())}}function x(a){N.playerSettings.autostart||(N.loading=!1,d.cancel(M)}function z(){f.showConfirm("Something went wrong while loading the video, try again?").d()}),N.loading=!1,d.cancel(M)}function A(a){var b=e.getItem(a.item.mediaid);if(!b){if(n.options.showcaseContentOnly)return;b=a.item}b.mediaid!==N.item.mediaid&&(N.item=b,r(),q())}function B(){q();var a;N.loading&&(N.loading=!1),!Q&&window.fbq&&window.fbq("track","Lead",{value:10,currency:"USD"}),Q=!0,K&&(a=K.length,!0===i.settings.conserveBandwidth&&j.setCurrentQuality(a>2?a-2m)}function E(a){var b=Math.round(a.position);if(!1!==R&&(j.setCurrentQuality(R),R=!1),Q)return P?void(Math.abs(O-b)>5&&(O=b,g.handler(N.item,a.position/a.duration))):F()}function F(){if(P=!0,S)return j.seek(S),void(S=null);i.settings.continueWatching&&n.options.enableContinueWatching&&angular.isDefined(L)&&H()}function G(a){N.loading=!1,d.cancel(M)}function H(){var a=L?L.progress:0;a>0&&j.seek(a*N.item.duration)}function I(a,b){var c=T.findIndex(J(a.mediaid));N.item.mediaid!==a.mediaid&&(N.item=angular.copy(a),-1===c?(T=u(N.activeFeed,N.item),j.load(T),j.play(!0)):j.playlistItem(c),r(),q(),window.TweenLite.to(document.scrollingElement||document.body,.3,{scrollTop:0}))}function J(a){return function(b){return b.mediaid===a}}var K,L,M,N=this,O=0,P=!1,Q=!1,R=!1,S=c.startTime,T=[],U=n.experimental.enableRelatedOverlay;N.item=o,N.config=n,N.loading=!0,N.activeFeed=p,N.activeFeedTitle=U?"Related Videos":"Next Up",N.enableRail=n.options.rightRail.enabled,N.playerSettings={width:"100%",height:"100%",aspectratio:"16:9",ph:5,autostart:b.params.autoStart,playlist:[],preload:"metadata",sharing:!1,visualplaylist:!1,cast:n.options.cast||{},analytics:{bi:n.id}},N.onComplete=D,N.onFirstFrame=B,N.onTime=E,N.onPlaylistItem=A,N.onLevels=C,N.onReady=x,N.onError=y,N.onSetupError=z,N.onAdImpression=G,N.cardClickHandler=I,function(){t(),s(),a.$watch(function(){return i.settings.conserveBandwidth},v),a.$we()},w),M=d(function(){N.loading=!1},2e3),q()}()}angular.module("jwShowcase.video").controller("VideoController",a),a.$inject=["$scope","$state","$stateParams","$timeout","dataStore","popup","watchProgress","seo","userSettings","player","platform","serviceWorker","utils","config","item","feed"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){a.$watch(function(){return d.hasItem(k.item)},function(a){k.inWatchlist=a})}function i(a){c.show({controller:"ShareController as vm",templateUrl:"views/core/popups/share.html",resolve:{item:k.item},target:a.target})}function j(){return k.inWatchlist?d.removeItem(k.item):e.isSupported()?void c.showConfirm("Media files can use significant storage space on your device. Are you sure you want to download").em)}):d.addItem(k.item)}var k=this;k.config=g,k.inWatchlist=!1,k.screenSize=f.screenSize(),k.shareButtonClickHandler=i,k.watchlistButtonClickHandler=j,k.$onInit=h}angular.module("jwShowcase.video").component("jwToolbarVideo",{templateUrl:"views/video/toolbarVideo.html",controller:a,controllerAs:"vm",transclude:!0,bindings:{item:"="}}),a.$inject=["$scope","$state","popup","watchlist","serviceWorker","platform","config"]}(),function(){"use strict";angular.module("jwShowcase.video").component("jwVideoDetails",{
templateUrl:"views/video/videoDetails.html",controller:angular.noop,controllerAs:"vm",transclude:!0,bindings:{item:"<"}})}(),function(){"use strict";angular.module("jwShowcase.video").component("jwVideoDetailsTitle",{templateUrl:"views/video/videoDetailsTitle.html",controller:angular.noop,controllerAs:"vm",transclude:!0,require:{jwVideoDetails:"^"}})}(),function(){"use strict";angular.module("jwShowcase.video").component("jwVideoDetailsDescription",{templateUrl:"views/video/videoDetailsDescription.html",controller:angular.noop,controllerAs:"vm",transclude:!0,require:{jwVideoDetails:"^"},bindings:{enableTags:"<"}})}(),function(){"use strict";function a(a,b){var c=this;c.facebookShareLink="",c.twitterShareLink="",c.emailShareLink="",a.$watch("vm.jwVideoDetails.item",function(a){c.facebookShareLink=b.composeFacebookLink(),c.twitterShareLink=b.composeTwitterLink(a.title),c.emailShareLink=b.composeEmailLink(a.title)})}angular.module("jwShowcase.video").component("jwVideoDetailsShare",{templateUrl:"views/video/videoDetailsShare.html",controller:a,controllerAs:"vm",transclude:!0,require:{jwVideoDetails:"^"}}),a.$inject=["$scope","utils"]}();