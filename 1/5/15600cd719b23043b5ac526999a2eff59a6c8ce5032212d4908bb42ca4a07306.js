define("OK/AjaxNavigationLog",["OK/logger"],(function(e){var t,n,r,o,i=!1;function s(e){if(e<0)return null;for(var t=[0,20,40,60,100,160,260,320,580,900],n=0;n<t.length-1;n++){var r=t[n],o=t[n+1];if(e>r&&e<=o)return r+"-"+o}return t[t.length-1]+"+"}function a(e,t){for(var n=t.substring(Math.max(0,t.indexOf("?")+1)).split("&"),rstener=function(e){r.push(e)}})),define("OK/CommentWidgets",["OK/utils/dom"],(function(e){var t,n={},r=function(e,t){return t+"_"+e},o=function(t,r){if(r=parseInt(r,10),!isNaN(r)&&n[t]&&n[t].count!==r){var o=n[t].elements;Array.isArray(o)&&o.forEach((function(o){var i=e.firstByClass(o,"js-count");if(i){e.parent(o,"widget").classList.toggle("__null",r<1),i.classList.toggle("__empty",r<1);var s=n[t].maxCount;i.textContent=s&&r>s?s+"+":r}})),n[t].count=r}};return{setOpenDiscussionFn:function(e){t=e},updateCount:function(e,t,i){i=parseInt(i,10);var s=r(e,t);if(n[s]){var a=n[s].count;void 0===a||isNaN(a)||o(s,a+i)}},setCount:function(e,t,n){n=parseInt(n,10);var i=r(e,t);o(i,n)},add:function(t,o,i){var s=r(t,o),a=e.firstByClass(i,"js-count");if(i&&a){n[s]||(n[s]={maxCount:a.getAttribute("data-maxCount")||1/0,elements:[]});var c=a.textContent.replace(/\s/g,"");if(!isNaN(+c)){var u=parseInt(c,10);isNaN(u)||(n[s].elements&&n[s].elements.push(i),n[s].count=u)}}},remove:function(e,t,o){var i=r(e,t),s=n[i];if(s&&o){var a=s.elements,c=a?a.indexOf(o):-1;c>-1&&(a.splice(c,1),0===a.length&&delete n[i])}},clickHandler:function(e){if(e.preventDefault(),t){var n=parseInt(this.getAttribute("data-id"),10),r=parseInt(this.getAttribute("data-type"),10),o=this.getAttribute("data-location");t(n,r,o)}},activate:function(e){if(e){var t=parseInt(e.getAttribute("data-id"),10),n=parseInt(e.getAttribute("data-type"),10),r="false"!==e.getAttribute("data-bind");this.add(t,n,e),r&&e.addEventListener("click",this.clickHandler)}},deactivate:function(e){e&&(e.removeEventListener("click",this.clickHandler),this.remove(parseInt(e.getAttribute("data-id"),10),parseInt(e.getAttribute("data-type"),10),e))}}})),define("OK/ReshareWidgetsController",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=e.unregisterCounter=e.registerCounter=e.setCount=e.makeKey=void 0;var t={},n=[];function r(e,r){if(!isNaN(r)){var o=t[e];o&&o.count!==r&&(n.forEach((function(t){t.setCountInWidgets(e,r)})),o.count=r)}}function o(e,t,n){return n+"_"+e+"_"+t}e.makeKey=o,e.setCount=function(e,t,n,i){r(o(e,t,n),parseInt(i,10))},e.registerCounter=function(e,n){n=parseInt(n,10);var o=!1,i=t[e];i||(i=t[e]={counters:0,count:n},o=!0),i.counters+=1,(o||n>0)&&r(e,n)},e.unregisterCounter=function(e){var n=t[e];n&&(n.counters-=1,n.counters<1&&delete t[e])},e.addListener=function(e){n.push(e)}})),define("OK/StatLogger",["require","exports","OK/logger"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatLogger=void 0;var n=function(e){this.statPrefix=e||""};n.valueToStr=function(e){return!e||"object"!=typeof e||e instanceof Error?String(e):JSON.stringify(e)},n.getStatParams=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.reduce((function(e,t){return null!=t&&e.push(n.valueToStr(t)),e}),[])},n.success=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];t.success.apply(t,[e].concat(n))},n.error=function(e,r){var o=r?n.valueToStr(r):null;o?t.error(e,o):t.error(e)},n.force=function(e,n,r){t.force(e,n,r)},n.duration=function(e,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];t.duration.apply(t,[e,n].concat(r))},n.seen=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];n.success.apply(n,[n.SEEN_SUCCESS].concat(e))},n.clob=function(e,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];t.clob.apply(t,[e,n].concat(r))},n.prototype.getStatOperation=function(e){return""+this.statPrefix+e},n.prototype.success=function(e,t,r){n.success.apply(n,[this.getStatOperation(e)].concat(n.getStatParams(t,r)))},n.prototype.error=function(e,t){n.error(this.getStatOperation(e),t)},n.prototype.force=function(e,t,r){n.force.apply(n,[this.getStatOperation(e)].concat(n.getStatParams(t,r)))},n.prototype.duration=function(e,t,r,o){n.duration.apply(n,[this.getStatOperation(e),n.valueToStr(t)].concat(n.getStatParams(r,o)))},n.prototype.seen=function(e,t){n.seen.apply(n,n.getStatParams(e,t))},n.prototype.clob=function(e,t,r,o){n.clob.apply(n,[this.getStatOperation(e),n.valueToStr(t)].concat(n.getStatParams(r,o)))},e.StatLogger=n,n.SEEN_SUCCESS="seen"})),define("OK/FixedTopBock",["require","exports","OK/utils/throttle","OK/StatLogger"],(function(require,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedTopBock=void 0;var r="data-container",o="__active",i="__hidden",s="__bottom",a=function(){var e=this;this.containerIsWindow=!1,this.arrowIsBottom=!1,this.getScrollTop=function(){return e.containerIsWindow?window.pageYOffset:e.container.scrollTop},this.setScrollTop=function(t){e.containerIsWindow?window.scrollTo(0,t):e.container.scrollTop=t},this.onMouseEnter=function(){e.arrowIsBottom&&e.getScrollTop()>=e.scrollToTopHeight&&e.element.classList.remove(i)},this.onMouseLeave=function(){e.arrowIsBottom&&e.element.classList.add(i)},this.hide=function(){e.element.classList.remove(o)},this.onScroll=function(){if(e.useHeightComponentSelector){var t=document.querySelector(e.useHeightComponentSelector);t&&(e.element.style.top=t.getBoundingClientRect().height+16+"px")}var n=e.getScrollTop();e.lastScrollTopPosition=n,n>e.activateHeight+50?(e.element.classList.add(o),e.element.classList.remove(i),e.arrowButton.classList.remove(s),e.element.offsetTop,e.arrowIsBottom=!1):n<e.activateHeight&&!e.arrowIsBottom&&e.hide()},this.onClick=function(){e.statLogger.success("click"),e.arrowIsBottom?(e.setScrollTop(e.scrollToBottomHeight),e.arrowButton.classList.remove(s),e.arrowIsBottom=!1):(e.scrollToBottomHeight=e.getScrollTop(),e.setScrollTop(e.scrollToTopHeight),e.showBottom&&(e.arrowButton.classList.add(s),e.arrowIsBottom=!0))},this.deactivate=function(){e.element.classList.remove(o),(e.container||e.containerIsWindow)&&(e.arrowButton.removeEventListener("click",e.onClick),e.arrowButton.removeEventListener("mouseenter",e.onMouseEnter),e.arrowButton.removeEventListener("mouseleave",e.onMouseLeave),e.containerIsWindow?window.removeEventListener("scroll",e.boundScrollHandler):e.container.removeEventListener("scroll",e.boundScrollHandler),e.arrowButton=null,e.container=null)}};a.prototype.activate=function(e){this.element=e,this.id=this.element.getAttribute("id"),this.showBottom=this.element.hasAttribute(r),this.showBottom?this.container=document.getElementById(this.element.getAttribute(r)):this.containerIsWindow=!0,(this.container||this.containerIsWindow)&&(this.scrollToTopHeight=parseInt(this.element.getAttribute("data-height")||"0",10),this.activateHeight=parseInt(this.element.getAttribute("data-activate-height")||"500",10),this.scrollToBottomHeight=this.scrollToTopHeight,this.scrollStartTime=0,this.lastScrollTopPosition=0,this.useHeightComponentSelector=this.element.getAttribute("data-use-height-component-selector"),this.boundScrollHandler=t(10,this.onScroll),this.arrowButton=this.element.querySelector(".scroll-arrow"),this.arrowButton.addEventListener("click",this.onClick),this.arrowButton.addEventListener("mouseenter",this.onMouseEnter),this.arrowButton.addEventListener("mouseleave",this.onMouseLeave),this.containerIsWindow?window.addEventListener("scroll",this.boundScrollHandler):this.container.addEventListener("scroll",this.boundScrollHandler),this.statLogger=new n.StatLogger("fixed.top.block."+(this.id?this.id+".":"")))},e.FixedTopBock=a})),define("OK/mrg/projects",[],(function(){"use strict";var e,t,n="x-ph__menu_open",r="x-ph__menu_open_right",o="x-ph__menu_open_left";function i(){var i=this;this.toggleMenu=function(e){e.stopPropagation(),clearTimeout(t),t=null,i.box.classList.contains(n)?i.hideMenu():i.showMenu()},this.hideMenu=function(){document.removeEventListener("click",i.hideMenu),i.box.classList.remove(n),i.box.classList.remove(r),i.box.classList.remove(o)},this.showMenu=function(){document.addEventListener("click",i.hideMenu),i.box.classList.add(n),document.documentElement.clientWidth<1200&&e.clientWidth>600?i.box.classList.add(r):i.box.classList.add(o)},this.onMouseOver=function(){clearTimeout(t),t=null},this.onMouseOut=function(){clearTimeout(t),t=setTimeout(i.hideMenu,4e3)}}return i.prototype={activate:function(t){var n=this;this.link=t.querySelector(".portal-headline__menulink"),this.menu=t.querySelector(".portal-headline__menu"),this.box=t,e=document.getElementsByClassName("portal-headline__left")[0],null!==this.link&&null!==this.menu&&null!==this.box&&(this.link.addEventListener("click",n.toggleMenu,!1),this.link.addEventListener("mouseout",n.onMouseOut,!1),this.link.addEventListener("mouseover",n.onMouseOver,!1),this.menu.addEventListener("mouseout",n.onMouseOut,!1),this.menu.addEventListener("mouseover",n.onMouseOver,!1))},deactivate:function(){var e=this;this.link&&(this.link.removeEventListener("click",e.toggleMenu,!1),this.link.removeEventListener("mouseout",e.onMouseOut,!1),this.link.removeEventListener("mouseover",e.onMouseOut,!1)),this.menu&&(this.menu.removeEventListener("mouseout",e.onMouseOut,!1),this.menu.removeEventListener("mouseover",e.onMouseOver,!1)),this.link=this.menu=this.box=null}},i})),define("OK/mrg/Updater",["OK/utils/dom"],(function(e){"use strict";var t=document.head||document.getElementsByTagName("head")[0];function n(){this.counterStorage={}}return n.prototype.createCounter=function(t,n){var r=Number(t.getAttribute("data-timeout")),o=t.getAttribute("data-selector"),i=t.getAttribute("data-name"),s=t.getAttribute("data-url");if(s&&r>0){var a=e.byClass(t,o);this.counterStorage.hasOwnProperty(i)?this.counterStorage[i].counters=this.counterStorage[i].counters.concat(a):(this.counterStorage[i]={extract:n,counters:a,url:s,script:null,timer:null},window[i]=this.process.bind(this,i)),this.update(i),this.counterStorage[i].timer||(this.counterStorage[i].timer=setInterval(this.update.bind(this,i),r))}},n.prototype.removeCounter=function(n){var r=n.getAttribute("data-name"),o=n.getAttribute("data-selector"),i=e.byClass(n,o);if(this.counterStorage.hasOwnProperty(r)){var s=this.counterStorage[r];i.forEach((function(e){var t=s.counters.indexOf(e);-1!==t&&s.counters.splice(t,1)})),s.counters.length||(s.timer&&(clearInterval(s.timer),s.timer=null),s.script&&(t.removeChild(s.script),s.script=null))}},n.prototype.update=function(e){var n=this.counterStorage[e],r=document.createElement("script");r.type="text/javascript",r.src=n.url+"&JSONP_call="+e+"&rnd="+Math.random(),n.script&&t.removeChild(n.script),t.appendChild(r),n.script=r},n.prototype.process=function(e,t){var n=this.counterStorage[e].counters,r=this.counterStorage[e].extract;n.slice().forEach((function(e){var n=r(t,e)||"";e.parentNode.classList.toggle("x-ph__link_ext",!!n),e.textContent=n}))},new n})),define("OK/mrg/counters",["OK/mrg/Updater"],(function(e){"use strict";function t(e,t){var n=t.getAttribute("data-cnt");if(e&&"ok"===e.status&&e.data&&e.data[n]&&(e.data[n]>0||"99+"===e.data[n]))return e.data[n]}return{activate:function(n){e.createCounter(n,t)},deactivate:function(t){e.removeCounter(t)}}})),define("OK/mrg/wamba",["OK/mrg/Updater"],(function(e){"use strict";function t(e){if(e&&e.counter)return e.counter}return{activate:function(n){e.createCounter(n,t)},deactivate:function(t){e.removeCounter(t)}}})),define("OK/HookModel",["OK/utils/utils"],(function(e){var t={},n=e.deferred();return{init:function(e){n.resolve(e)},hookActivated:function(e){var n,r,o=t[e],i=new Promise((function(t,o){var i=OK.hookModel.getHookById(e);i?t(i.getInstance?i.getInstance():void 0):(n=t,r=o)}));return n&&r&&(i.resolve=n,i.reject=r,o&&o.length||(o=[],t[e]=o),o.push(i)),i},removeObserver:function(e,n){var r=t[n];if(r&&r.length){var o=r.indexOf(e);-1!=o&&r.splice(o,1)}},activatedCallback:function(e,n){var r=t[e];r&&(delete t[e],r.forEach((function(e){e.resolve(n)})))},extractHookId:function(e){return e.substring(e.lastIndexOf("_")+1)},createHook:function(e,t){return n.promise.then((function(n){n.createHook(e,t)}))}}})),define("OK/ToolbarBubble",[],(function(){"use strict";var e={},t="notifications__hide",n="notifications__blink",r="notifications__reply",o="notifications__reaction",i="notifications__emptySmall";function s(e,t){e.classList.add(t)}function a(e,t){e.classList.remove(t)}function c(e,t){return e.classList.contains(t)}function u(e){var t=document.getElementById(e);return t?new f(t):null}function l(t){var n=e[t];if(!n){if(!(n=u(t)))return null;e[t]=n}return n}function d(t){e[t]&&delete e[t]}function f(e){this.bubbleElement=e,this.textElement=e.children[0]||e,this.val=this.textElement.innerHTML&&parseInt(this.textElement.innerHTML,10)||0,this.isLong=e.classList.contains("js-long-counter"),this.isMsgCount=e.classList.contains("js-msg-count")}return f.prototype={hide:function(){this.update(0)},decrease:function(e){this.update(this.val-e)},resetCustomIcon:function(){var e=this.bubbleElement;a(e,r),a(e,o),a(e,i),this.val||s(e,t)},update:function(e){e=e<0?0:e,this.val=e;var u,l=function(e,t){if(t){if(e>999)return"999+"}else if(e>99)return"99+";return e<=0?"":String(e)}(e,this.isLong),d=this.bubbleElement,f=this.textElement;l?f.innerHTML!==l&&(f.innerHTML=l,c(d,t)?(a(d,t),a(d,i)):(s(d,n),setTimeout((function(){a(d,n)}),300))):((u=d).classList.contains(r)||u.classList.contains(o)||u.classList.contains(i)||s(d,t),f.innerHTML="")},showSmall:function(){a(this.bubbleElement,t),s(this.bubbleElement,i)},resolveCustomIcon:function(e,n,i){var c;!function(e,n){n&&(s(e,r),a(e,t)),n||a(e,r)}(this.bubbleElement,n),c=this.bubbleElement,i&&!n?(s(c,o),a(c,t)):a(c,o),this.update(e)},getCount:function(){return this.val},hasReply:function(){return c(this.bubbleElement,r)},hasReaction:function(){return c(this.bubbleElement,o)},hasBubble:function(){return this.hasReply()||this.getCount()>0||this.hasReaction()},countMsg:function(){return this.isMsgCount}},{wrap:l,unwrap:d,create:u,activate:function(e){var t=e.getAttribute("id");t&&l(t)},deactivate:function(e){var t=e.getAttribute("id");t&&d(t)}}})),define("OK/EventFactoryForEventBus",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.eventFactory=void 0;var t=function(){this.list=[]};t.prototype._callHandler=function(e,t,n){return e.call(n,t),this},t.prototype.trigger=function(e){for(var t=this,n=t.list.slice(),r=arguments[1],o=[],i=0,s=n.length;i<s;i++){var a=n[i];a&&(a.once&&o.push(a),t._callHandler(a.handler,e||r,a.context))}return o.forEach((function(e){var n=t.list.indexOf(e);-1!==n&&t.list.splice(n,1)})),t},t.prototype.attach=function(e,n){return this.list.push(t.wrapMethod(e,n)),this},t.prototype.attachOnce=function(e,n){var r=t.wrapMethod(e,n);return r.once=!0,this.list.push(r),this},t.prototype.detach=function(e,t){for(var n=this.list,r=n.length;r-- >0;){var o=n[r];o.handler===e&&o.context===t&&n.splice(r,1)}return this},t.wrapMethod=function(e,t){return{context:t,handler:e,once:!1}},e.eventFactory={create:function(){return new t}}})),define("OK/EventBus",["require","exports","OK/EventFactoryForEventBus"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventBus=void 0;var n=function e(t){var n=this;this.listeners=new Map,this.emit=function(t,r){return e.emit({prefix:n.prefix,name:n.name,data:t,target:r})},this.on=function(t,r){var o=n.makeListener(t,r);return!!o&&(e.on(o),!0)},this.off=function(t){var r=n.listeners.get(t);r&&(e.off(r),n.listeners.delete(t))},this.isMe=function(e){return n.name===e.name&&n.prefix===e.prefix},this.makeListener=function(e,t){if(!n.listeners.has(e)){var r=n,o=function(n){var o=n.detail;if(!n.defaultPrevented&&r.isMe(o)&&(!t||!o.target||t!==o.target))return e(o.data)}.bind(n);return n.listeners.set(e,o),o}window.OK.logging.info("EventBus["+n.prefix+", "+n.name+"]: повторное добавление обработчика")},this.prefix=t.prefix,this.name=t.name};n.factory=function(e){return function(t){return n.create({prefix:e,name:t})}},e.EventBus=n,n.EVENT_NAME="okeventbus",n.eventHost=t.eventFactory.create(),n.registeredBuses=new Set,n.getRegisteredBuses=function(){return n.registeredBuses},n.getHost=function(){return n.eventHost},n.createEvent=function(e){return new CustomEvent(n.EVENT_NAME,{detail:e,bubbles:!1,cancelable:!0})},n.on=function(e){if(n.hasListener(e))throw new Error("EventBus: повторное добавление обработчика");n.eventHost.attach(e)},n.off=function(e){n.eventHost.detach(e)},n.emit=function(e){var t=n.createEvent(e);return n.eventHost.trigger(t),!t.defaultPrevented},n.findRegistered=function(e){var t=null;return n.registeredBuses.forEach((function(n){!t&&n.isMe(e)&&(t=n)})),t},n.create=function(e){return n.getInstance(e)},n.getInstance=function(e){var t=n.findRegistered(e);return t||(t=new n(e),n.getRegisteredBuses().add(t)),t},n.hasListener=function(e){return n.eventHost.list.some((function(t){return t.handler===e}))}})),define("OK/ToolbarDropdownEventBuses",["require","exports","OK/EventBus"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TOOLBAR_DROPDOWN_OPENED=e.TOOLBAR_DROPDOWN_OPEN=e.ToolbarDropdownEventBusesPrefix=void 0,e.ToolbarDropdownEventBusesPrefix="ui.toolbar-dropdown";var n=t.EventBus.factory(e.ToolbarDropdownEventBusesPrefix);e.TOOLBAR_DROPDOWN_OPEN=n("open"),e.TOOLBAR_DROPDOWN_OPENED=n("opened")})),define("OK/utils/windowScrolling",["require","exports","OK/utils/throttle"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onScrollStopped=e.onScrollStarted=e.onScroll=e.isScrolling=void 0;var n,r=[],o=[],i=[],s=!1,a=null,c=!1;function u(){c||(c=!0,window.addEventListener("scroll",d))}WeakMap&&(n=new WeakMap);var l=t(100,(function(e){for(var t=0,n=r.length;t<n;t++)r[t](e);a=setTimeout(f.bind(null,e),100)}));function d(e){clearTimeout(a),s||function(e){s=!0;for(var t=0,n=o.length;t<n;t++)o[t](e)}(e),l(e)}function f(e){s=!1;for(var t=0,n=i.length;t<n;t++)i[t](e)}function h(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function p(e,t,r){return r.push(t),n&&n.set(t,e),h.bind(null,t,r)}e.isScrolling=function(){return u(),s},e.onScroll=function(e,t){return u(),p(e,t,r)},e.onScrollStarted=function(e,t){return u(),p(e,t,o)},e.onScrollStopped=function(e,t){return u(),p(e,t,i)}})),define("OK/pms",["module","OK/utils/vanilla","OK/logger"],(function(e,t,n){"use strict";var r,o={},i=[],s={},a="$Hash$",c=e.config().timeout||6e4;function u(e){var t=o[e];return t&&t.data||{}}function l(e,t){var r={data:{}};return t&&t.data?r.data=JSON.parse(t.data):(console.warn("Error while loading PMS config: ",e),n.error("pms","Config was not loaded",e)),r[a]=t[a],o[e]=r,function(e){for(var t=s[e]||[],n=t.length;n--;)t[n]()}(e),u(e)}function d(){for(var e,t,n=[],r=0,s=i.length;r<s;r+=1)e=i[r],t=o[e],n.push({alias:e,hash:t[a]||"0"});return JSON.stringify(n)}function f(){t.ajax({url:"/web-api/upms",headers:{"Content-Type":"application/json"},data:d(),dataType:"json"}).then((function(e){for(var t,n=e.response,r=Object.keys(n),o=0,i=r.length;o<i;o+=1)l(t=r[o],n[t])}))}function h(e){e&&(-1===i.indexOf(e)&&i.push(e),!r&&c>0&&(r=window.setInterval(f,c)))}if("undefined"!=typeof window&&(window.cfgStore={getCfg:function(e){return h(e),u(e)},subscribe:function(e,t){s[e]||(s[e]=[]),s[e].push(t)}},void 0!==window.inline_resources&&void 0!==window.inline_resources.pms)){for(var p in window.inline_resources.pms)l(p,window.inline_resources.pms[p]),h(p);window.inline_resources.pms={}}return{load:function(e,n,r,i){i.isBuild?r():!function(e){return o.hasOwnProperty(e)}(e)?function(e){return t.ajax({type:"GET",url:"/web-api/pms?name="+encodeURIComponent(e),headers:{"Content-Type":"application/json"},dataType:"json"}).then((function(e){return Promise.resolve(e.response)}))}(e).then((function(t){r(l(e,t))})):r(u(e))}}})),define("OK/utils/userActivity",["require","exports","OK/utils/throttle","OK/pms!userActivityConfig","OK/utils/environment"],(function(require,e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onActivityStop=e.onActivityStart=void 0;var o=n.config,i=(null==o?void 0:o.activityStartDelay)||5e3,s=(null==o?void 0:o.activityStartCancelDelay)||3e3,a=(null==o?void 0:o.activityStopDelay)||1e4,c=[],u=[],l=null,d=null,f=null,h=!1,p=Date.now(),m=p,v=!1;function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];r.isDebug&&o&&o.debug&&console.log.apply(console,["UserActivity:"].concat(e))}function y(){!v&&o&&(v=!0,p=Date.now(),m=p,document.addEventListener("mousemove",b),document.addEventListener("click",b),window.addEventListener("scroll",b))}var b=t(100,(function(e){clearTimeout(f),clearTimeout(d),f=setTimeout(w,a),h||(d=setTimeout(w,s)),null===l&&(l=setTimeout(_,i))}));function w(){if(clearTimeout(f),clearTimeout(l),clearTimeout(d),l=null,h){h=!1;var e=(m=Date.now())-p;g("stopActivity - activeTime",e);for(var t=0,n=c.length;t<n;t++)c[t](e)}}function _(){if(clearTimeout(f),clearTimeout(d),f=setTimeout(w,a),!h){h=!0;var e=(p=Date.now())-m;g("startActivity - idleTime",e);for(var t=0,n=u.length;t<n;t++)u[t](e)}}function k(e,t,n){return n.push(t),O.bind(null,t,n)}function O(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}e.onActivityStart=function(e,t){return y(),k(0,t,u)},e.onActivityStop=function(e,t){return y(),k(0,t,c)}})),define("OK/ToolbarGrowl",["OK/ToolbarDropdownEventBuses","OK/logger","OK/utils/dom","OK/utils/windowScrolling","OK/utils/userActivity","OK/pms!toolbarGrowlConfig"],(function(e,t,n,r,o,i){"use strict";var s,a="__active",c="growl",u="click",l="data-id",d="toolbar-growl",f=function(){var e,n,r=document.createElement("bootstrap"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in o)if(o.hasOwnProperty(n)&&void 0!==r.style[n]){e=o[n];break}return t.success(c,"transition",e),e}(),h=null,p={},m=document.getElementById("msg_toolbar_button"),v=!(!m||!m.getAttribute("data-growl-add-log")),g=!!document.querySelector(".js-msg-ok"),y=!!document.querySelector(".js-msg-tt"),b=!1,w=0,_=0,k=0;try{const e=localStorage.getItem(d);s=e?JSON.parse(e):{}}catch(e){s=null}var O=i.config,E=i.userId;if(O&&O.hideIgnoredAfterUserActivity){var C="ToolbarGrowl";o.onActivityStart(C,(function(e){_=Date.now()})),o.onActivityStop(C,(function(e){w>_&&(e-=w-_),k+=e,h&&k>=O.hideIgnoredAfterUserActivity&&(h.clickClose(),k=0,B.showAny())}))}function S(e){const t=function(e){if(E&&s){const t=s[E]||{};if(t)return t[e]}return null}(e);return Boolean(t&&t.isViewed)}function x(e){return e&&parseInt(e.getAttribute("data-time"),10)||0}function L(){return!(OK.Layers&&OK.Layers.isAnyLayerOpened()||document.getElementById("CallApplication")||document.querySelector(".discovery-menu.with-search.__search-wide")||"appMain"===OK.getCurrentDesktopModelId()||this.isDisposedAfterViewed&&S(this.id))}function T(e){return n.firstByClass(e,"growl_close")}function I(){this.elem&&!this.hidden&&this.elem.classList.remove(a)}function A(){clearTimeout(this.showAfterScrollStoppedTimer),this.showAfterScrollStoppedTimer=setTimeout(K.bind(this),O.showAfterScrollDelay)}function K(){if(b)return b=!1,void B.showAny();this.elem&&!this.hidden&&this.elem.classList.add(a)}function B(e){this.hookId=e,this.hidden=!0,this.stash=null,this.markAsViewed=()=>{!function(e,t){if(E&&s){const n=s[E]||{};n[e]=Object.assign(n[e]||{},t),s[E]=n,localStorage.setItem(d,JSON.stringify(s))}}(this.id,{isViewed:!0})},this.destroyGrowl=()=>this.destroy()}return B.showAny=function(){var e,t;if(!h)if(O&&O.hideOnScroll&&r.isScrolling())b=!0;else for(e in p)if(p.hasOwnProperty(e)&&(t=p[e]).hidden&&(t.show(),!t.hidden))break},B.hideAll=function(){h&&h.hide()},B.destroyByLayerId=function(e){var t=p[e];t&&t.destroy()},B.getByLayerId=function(e){return p[e]},B.prototype={activate:function(e){if(this.hook=this.getContentHook(),this.layerId=e.getAttribute("data-layer"),this.exclusive="true"===e.getAttribute("data-exclusive"),this.isDropdownGrowl="true"===e.getAttribute("data-dropdown-growl"),this.isDisposedAfterViewed="true"===e.getAttribute("data-disposed-after-viewed"),this.priority=parseInt(e.getAttribute("data-priority"),10)||0,this.handleFocusOut=e=>{this.elem.contains(e.relatedTarget)||this.clickClose()},p[this.layerId]=this,this.hook&&(this.elem=this.hook.element.firstElementChild,this.elem&&(this.activateGrowl(),this.id=this.elem.getAttribute(l),this.time=x(this.elem))),O&&O.hideOnScroll){var t="ToolbarGrowl-"+this.layerId;this.onScrollStartedDestroy=r.onScrollStarted(t,I.bind(this)),this.onScrollStoppedDestroy=r.onScrollStopped(t,A.bind(this))}this.show()},deactivate:function(){this.onScrollStartedDestroy&&this.onScrollStartedDestroy(),this.onScrollStoppedDestroy&&this.onScrollStoppedDestroy()},clickClose:function(){var e=T(this.elem);e&&e.click&&e.click()},activateGrowl:function(){var t=T(this.elem);t&&t.addEventListener(u,this),this.isDropdownGrowl&&e.TOOLBAR_DROPDOWN_OPENED.on(this.destroyGrowl,this),this.isDisposedAfterViewed&&this.elem.addEventListener("click",this.markAsViewed,!0)},deactivateGrowl:function(){var t=T(this.elem);t&&t.removeEventListener(u,this,!0),this.isDropdownGrowl&&e.TOOLBAR_DROPDOWN_OPENED.off(this.destroyGrowl),this.isDisposedAfterViewed&&this.elem.removeEventListener("click",this.markAsViewed)},show:function(){if(this.id&&L.call(this)){if(h){if(this.priority<=h.priority)return;t.success(c,"replace",this.layerId),h.hide()}if(this.elem.addEventListener("focusout",this.handleFocusOut),this.elem.classList.add(a),this.hidden=!1,h!==this&&(k=0,w=Date.now()),h=this,t.success(c,"show","music_app"===this.layerId?this.layerId+"-"+this.id:this.layerId),"messages"===this.layerId&&v){var e=y?"tt":g?"ok":"unknown";return t.success("messagesLayer","growl",e)}}},hide:function(){this.elem&&(this.elem.removeEventListener("focusout",this.handleFocusOut),this.elem.classList.remove(a),this.hidden=!0,this===h&&(h=null))},destroy:function(){this.elem&&(this.deactivateGrowl(),this.hide(),this.id=null,this.time=null,this.elem=null)},setNewContent:function(e){var n,r,o=this,i=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children.length?t.children[0]:null}(e);if(OK.Layers&&OK.Layers.isLayerOpened(o.layerId))t.success(c,"ignore");else if(i){if(n=i.getAttribute(l),r=x(i),this.exclusive&&this.id&&this.id!==n)return;if(o.id===n&&o.time===r)return void t.success(c,"equal",1);o.hidden?this.setNewGrowl(e,n,r):(this.stash={html:e,id:n,time:r},this.elem.addEventListener(f,this,!1),o.destroy())}else o.destroy(),B.showAny()},applyNewContent:function(){this.hidden=!0,null===this.stash?OK.hookModel.setHookContent(this.getContentHookId(),""):(this.setNewGrowl(this.stash.html,this.stash.id,this.stash.time),t.success(c,"replace"),this.stash=null)},setNewGrowl:function(e,n,r){if(this.id!==n||this.time!==r){var o=this.getContentHook();OK.hookModel.setHookContent(o.id,e),this.elem=o.element.firstChild,this.id=n,this.time=r,this.activateGrowl(),setTimeout(this.show.bind(this),30)}else t.success(c,"equal",2)},handleEvent:function(e){var t=e.type;t===u?(this.time>this.crossTime&&(this.crossTime=this.time),this.destroy(),B.showAny()):t===f&&"opacity"===e.propertyName&&(e.target.removeEventListener(f,this),this.applyNewContent())},getContentHookId:function(){return this.hookId+"_Content"},getContentHook:function(){return this.hook||(this.hook=OK.hookModel.getHookById(this.getContentHookId())),this.hook}},B})),define("OK/css-loader",[],(function(){"use strict";function e(e,t,n){for(var r=document.getElementsByTagName("link"),o=0,i=r.length;o<i;o++)if(r[o].getAttribute("href")===e)return void(n&&n(r[o]));var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=e,n&&(s.addEventListener("load",(function(){n(e)})),s.addEventListener("error",(function(e){n.error(e)}))),(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}return{load:e,activate:function(t){var n=t.getAttribute("data-url");n&&e(n)}}})),define("OK/banners/StickyBannerContainer",["OK/utils/throttle"],(function(e){"use strict";var t,n=OK.topPanelHeight()+12,r={};function o(e){if(this.hookEl=e,e&&e.hasChildNodes()){var t=e.getElementsByClassName("banner-sticky-container");this.bannerContainer=t.length>0?t[0]:e.firstElementChild}this.currBannerContainerMinHeight=0,this.doReflow()}function i(){for(var e in r){if(r.hasOwnProperty(e))r[e].doReflow()}}return o.prototype.doReflow=function(){if(this.bannerContainer){var e=this.bannerContainer.clientHeight;if(this.currBannerContainerMinHeight!==e&&(this.hookEl.style.minHeight=e+"px",this.currBannerContainerMinHeight=e),this.hookEl.getBoundingClientRect().top<=n){var t=document.getElementById("footer").getBoundingClientRect();this.bannerContainer.style.position="fixed",e+n+12<t.top?(this.bannerContainer.style.top=n+"px",this.bannerContainer.style.bottom="auto"):(this.bannerContainer.style.top="auto",this.bannerContainer.style.bottom=document.documentElement.clientHeight-t.top+"px")}else this.bannerContainer.style.position="static"}},{activate:function(n){n&&n.id&&(r[n.id]=new o(n),t||(t=e(10,i),window.addEventListener("scroll",t,!1),window.addEventListener("resize",t,!1)))},deactivate:function(e){e&&e.id&&(delete r[e.id],0===Object.keys(r).length&&(window.removeEventListener("scroll",t,!1),window.removeEventListener("resize",t,!1),t=null))}}})),define("OK/banners/SmokescreenImgStyle",[],(function(){function e(e){this.bannerPlace=e,this.stylesheetEl=null,this.styleData=[]}return e.prototype={updateStylesheet:function(e){if(this.stylesheetEl){var t=this.stylesheetEl.sheet;if(t){for(var n=t.cssRules.length-1;n>=0;n--)t.deleteRule(0);var r="",o=this.styleData;for(n=0;n<o.length;n++){var i="b-img-"+this.bannerPlace+n,s=o[n].width,a=o[n].height;r="."+e.transform(i)+" {width: "+s+"px; height: "+a+"px; background-image: url('"+o[n].imgSrc+"');} ",t.insertRule(r,n)}this.styleData=[]}}},registerImageStyle:function(e,t,n){var r=this.styleData.length;return this.styleData.push({width:e,height:t,imgSrc:n}),r},createStyleEl:function(){var e=document.createElement("style");this.stylesheetEl=document.head.appendChild(e)}},e})),define("mrg-smokescreen/Utils",[],(function(){var e,t=!1;try{t="http://example.com/"===new URL("http://example.com/").href}catch(e){}function n(e,t){return Math.random()*(t-e+1)+e|0}var r=function(e){return Array.prototype.slice.call(e)};return{random:n,calcString:function(t,r){if(t=parseInt(t,10),function(){if(void 0===e)try{if("function"==typeof window.getComputedStyle){var t=document.createElement("div");t.style.height="calc(30px + 30px)",document.getElementsByTagName("body")[0].appendChild(t),e="60px"===window.getComputedStyle(t,null).getPropertyValue("height"),t.parentNode.removeChild(t)}}catch(t){e=!1}return e}()){for(var o=[],i=0,s=0,a=n(1,6);s<a;s++)o.push(n(-100,100)),i+=o[o.length-1];return i!==t&&o.push(t-i),"calc("+o.map((function(e){return e.toString()+r})).join(" + ")+")"}return t+r},replaceUrl:function(e,n,r){if(t&&n){var o,i=e.charAt(0),s='"'===i||"'"===i,a=0+s;o=r?e.indexOf((s?i:"")+")"):s?e.indexOf(i,a+1):e.length;var c=e.slice(a,o);try{c=new URL(c,n).href}catch(e){}return e.slice(0,a)+c+e.slice(o)}return e},replaceContent:function(e){var t=e.charAt(0),n='"'===t||"'"===t,r=Number(n),o=n?e.indexOf(t,r):e.indexOf(";",r),i=e.slice(r,o),s="";if(/^\\[a-z0-9]+$/.test(i)||!n)s=i;else for(var a=0;a<i.length;a++){var c=i[a].charCodeAt(0);isNaN(c)||(s+="\\"+c.toString(16))}return e.slice(0,r)+s+e.slice(o)},iterate:function(e,t,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&"length"!==r&&t.call(n||this,e[r],r)},extend:function(){var e=r(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]=e[n]})),t},merge:function(){var e=r(arguments),t=e.shift();return e.forEach((function(e){for(var n in e)t[n]||(t[n]=e[n])})),t},toArray:r,isUrlConstructorExists:function(){return t}}})),define("mrg-smokescreen/StyleSheets.Item",["mrg-smokescreen/Utils"],(function(e){function t(e){e&&this.__rules.push(e)}function n(t,n){this.__style=function(t){var n=document.createElement("style");return n.appendChild(document.createTextNode("")),(t=t||{}).rel="stylesheet",t.type="text/css",t.media=t.media||"screen",e.iterate(t,(function(e,t){e&&n.setAttribute(t,e)})),n}(t),this.__style.__created=!0,this.__rules=[],this.__originalNode=n}function r(){this.__rules.length&&this.__style.appendChild(document.createTextNode(this.__rules.join("\n")))}return n.prototype={constructor:n,insert:function(){t.apply(this,arguments)},insertBlock:function(e,n){t.apply(this,[e+"{"+n+"}"])},setContent:function(e){this.__style.appendChild(document.createTextNode(e))},apply:function(){var e,t,n,o;this.__originalNode&&this.__originalNode.parentNode?(e="id",t=this.__originalNode,n=this.__style,(o=t.getAttribute(e))&&n.setAttribute(e,o),this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode)):(function(){for(var e=document.styleSheets,t=e.length;t>0;t--){var n=e[t-1];if(n&&n.ownerNode&&n.ownerNode.parentNode)return n.ownerNode.parentNode}}()||document.head).appendChild(this.__style),r.apply(this)},getSheet:function(){return this.__style.sheet}},n})),define("mrg-smokescreen/StyleSheets.NativeParser",["mrg-smokescreen/Utils"],(function(e){var t=/content\s*:\s*/;function n(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var r=/^(-?\d+)([a-z%]+)$/,o=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function i(i,s,a,c){for(var u,l="",d=s(i.selectorText),f=["border","border-top","border-left","border-right","border-bottom","background"],h=0;h<i.style.length;h++)f.push(i.style[h]);return f.forEach((function(t){var s="important"===i.style.getPropertyPriority(t)?" !important":"";/background-(repeat|position)-[xy]/.test(t)&&(t=t.replace(/-[xy]$/,""));var a=i.style[t]||i.style[n(t)];if(void 0!==a&&a.length||(t=t.replace(/-(value|(ltr|rtl)-source)$/g,""),a=i.style[t]||i.style[n(t)]),void 0===a&&"float"===t&&(a=i.style.cssFloat),void 0!==a&&a.length){if(c.randomize&&c.randomize.length&&c.randomize.indexOf(t)>-1&&d!=i.selectorText){for(var u=a.split(o),f=u.length,h=[];f--;){var p=r.exec(u[f]);h.unshift(p?e.calcString(p[1],p[2]):u[f])}a=h.join(" ")}l+=t+": "+a+s+"; "}})),-1!==l.indexOf("url(")&&(l=function(t,n){var r=!0;return t.split("url(").map((function(t){return r?(r=!1,t):e.replaceUrl(t,n,!0)})).join("url(")}(l,a)),-1!==l.indexOf("content")&&(u=!0,l=l.split(t).map((function(t){return u?(u=!1,t):e.replaceContent(t)})).join("content:")),d+" { "+l+" }"}return{iterate:function(t,n,r,o,s){s=s||{},e.iterate(function(e){try{return e.cssRules||e.rules}catch(e){return null}}(t),(function(t){switch(t.type){case 1:o(i(t,n,r,s));break;case 4:var a=[];e.iterate(t.cssRules||t.rules,(function(e){a.push(i(e,n,r,s))})),o("@media "+t.media.mediaText+" { "+a.join(" ")+" }");break;default:o(t.cssText)}}))}}})),define("mrg-nano-xhr",[],(function(){var e=new Function;return{version:"0.0.15",request:function(t,n){var r=t,o="GET",i=null,s=!1,a=!1,c=function(){var t={readyState:4,status:-1};t.open=t.send=e;try{t=new window.XMLHttpRequest}catch(e){try{t=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return t}(),u=null,l=new Date,d={error:u,xhr:c};"object"==typeof t&&(r=t.url,o=t.method||o,i=t.body||i,s=t.sync||s,a=t.credentials||a),c.withCredentials=a,c.url=r;var f=function(){(u||4===c.readyState)&&(f=e,d.error=u,c.duration=new Date-l,c.onerror=c.onreadystatechange=null,"function"==typeof n&&n(u,c))};try{c.onreadystatechange=f,c.onerror=function(e){u=e,f()},c.open(o,r,!s),c.send(i)}catch(e){u=e,f()}return d}}})),define("mrg-smokescreen/StyleSheets",["mrg-smokescreen/StyleSheets.Item","mrg-smokescreen/StyleSheets.NativeParser","mrg-smokescreen/Utils","mrg-nano-xhr"],(function(e,t,n,r){var o=/(^(https?:)?\/\/[^/]+|\?timestamp=\d+$)/g;function i(e){return e.replace(o,"")}function s(e,t){var n=e(t);return(n!==t?n+",":"")+t}function a(e){var t;return e.ownerNode&&(t=i((t=e.ownerNode.href||e.ownerNode.getAttribute("x-href"))||"")),t}var c={};return{update:function(u,l,d){return new Promise((function(f,h){!function(e,t){var r=e.map((function(e){return i(e)}));!function e(){n.iterate(document.styleSheets,(function(e){if("LINK"===e.ownerNode.tagName){var t=a(e).replace(o,"");r=r.filter((function(e){return t!==e}))}})),r.length?setTimeout(e,100):t()}()}(u,(function(){var n=[].map.call(document.styleSheets,(function(e){return e}));!function(e,t,n){Object.keys(c).length===e.length&&t(),e.forEach((function(o){r.request({url:o,sync:!1},(function(r,s){r&&n(r),4===s.readyState&&(c[i(o)]=s.responseText,Object.keys(c).length===e.length&&t())}))}))}(u,(function(){n.forEach((function(n){if(n.ownerNode&&!n.ownerNode.__created&&!n.__updated&&"LINK"===n.ownerNode.tagName){var r=n;n.__updated=!0;var o=a(n);if(o)try{var i=c[o];if(i){var u;try{u=n.media?n.media.mediaText:""}catch(e){u=""}var f=new e({"x-href":o,media:u},n.ownerNode);f.setContent(i),f.apply(),(r=f.getSheet()).__updated=!0;var p=new e({"x-href":o,media:u},r.ownerNode);p.__updated=!0,t.iterate(r,s.bind(null,l),o,(function(e){p.insert(e.toString())}),d),p.apply()}}catch(e){h(e)}}})),f()}),(function(e){h(e)}))}))}))},remove:function(e){if((e=(e||[]).map((function(e){return(e||"").replace(/^https:/,"")}))).length){var t=[];n.iterate(document.styleSheets,(function(n){var r=a(n);r&&-1!==e.indexOf(r)&&t.push(n)}));for(var r=t.length-1;r>=0;r--){var o=t[r];o.ownerNode.parentNode.removeChild(o.ownerNode)}}},insert:function(t,r){var o=new e({}),i=s.bind(null,r),a=function(e,t){return i(e)+function(e){var t=[];return n.iterate(e,(function(e,n){t.push(n+":"+e+";")})),"{"+t.join("\n")+"}"}(t)};n.iterate(t,(function(e,t){if(/@(media|supports|document|page|keyframes|font-feature-values)/.test(t)){var r=[];n.iterate(e,(function(e,t){r.push(a(t,e))})),o.insertBlock(t,r.join(""))}else o.insert(a(t,e))})),o.apply()}}})),define("mrg-smokescreen/Cid",[],(function(){var e=1e3,t=function(e){for(var t=0;t<10;t++)e.push(t.toString());for(t=0;t<25;t++)e.push(String.fromCharCode(97+t)),e.push(String.fromCharCode(65+t));return function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}(e)}([]),n=t.length;function r(e){return(e>=n?r((e/n>>0)-1):"")+t[e%n>>0]}var o=function(){for(var e=[],n=0;e.length<5&&n<t.length;n++)(e.length>0||!/[0-9]/.test(t[n]))&&e.push(t[n]);return e.join("")}();return function(){return o+r(e++)}})),define("mrg-smokescreen/Welter",["mrg-smokescreen/Cid","mrg-smokescreen/Utils"],(function(e,t){"use strict";var n={};function r(){var t=e(!0);return n[t]=!0,t}function o(e,n){for(var i=document.createDocumentFragment(),s=0,a=t.random(e/2,e);s<a;s++){var c=document.createElement("div");t.random(0,n)&&c.appendChild(o(e,n-1));var u=0;t.random(0,e)%2||(c.id=r(),u++),t.random(0,e)%5||(c.setAttribute("data-bem",r()),u++),t.random(0,e)%6||(c.setAttribute("data-mnemo",r()),u++),t.random(0,e)%3&&u||(c.className=r()),i.appendChild(c)}return i}return{isWelter:function(e){return void 0!==n[e]},wrap:function(e,n){function r(e){e&&t.toArray(e.querySelectorAll(n)).forEach((function(e){if(!e.classList.contains("js-welter-no-wrap")){var n=o(5,5),r=n.querySelectorAll("div"),i=r[t.random(0,r.length-1)];e&&i&&(e.originalParentNode=e.parentNode,e.parentNode.insertBefore(n,e),i.appendChild(e))}}))}try{e.nodeType?r(e):e.length>=0?1===e.length?r(e[0]):t.toArray(e).forEach(r):console.warn('[Walter.wrap] this "context" not supported:',e)}catch(e){console.error(e)}}}})),define("mrg-smokescreen/Locator",["mrg-smokescreen/StyleSheets","mrg-smokescreen/Welter","mrg-smokescreen/Utils","mrg-smokescreen/Cid"],(function(e,t,n,r){"use strict";var o,i,s,a,c=r(),u=0,l={names:{},reverse:{},wraps:{}},d={},f=!1,h=[],p=/([@#:.]*)([\w$-]+)/gi,m=[],v={},g=(i=["top","right","bottom","left"],a=["height","width","max-width","max-height","min-height","min-width"],(s=["margin","padding"]).forEach((function(e){i.forEach((function(t){a.push(e+"-"+t)}))})),a.concat(i,s));function y(e){w(e)}function b(t){t&&m.push(t),m.forEach((function(t){e.insert(t,C)})),m=[]}function w(e,t){e=n.extend({},v,e||{}),v=e,e.enable&&(f=!0),f&&e.match&&e.match instanceof Array&&e.match.length>0&&(h=h.concat(e.match),o=new RegExp("^("+h.join("|")+")")),e.randomize&&(e.randomize=!0===e.randomize?g:e.randomize),e.sheet&&b(e.sheet)}function _(e,t){return(t?t+"@@@":"")+e}function k(e,t){var n=_(e,t),i=l.names[n];return!i&&f&&o&&o.test(t||e)&&(i=r(),l.names[n]=i,l.reverse[i]=e),i||e}function O(e,t){var n=E(e);return t?k(n.elem,t)+(n.mod?"_"+k(n.mod,t):""):k(n.elem)+(n.mod?"_"+k(n.mod,n.elem):"")}function E(e){var t,n=(e?""+e:"").match(/^(.*?[^_])(_([^_]+))?$/);return n&&(e=n[1],t=n[3]),{elem:e,mod:t}}function C(e){return e.replace(p,(function(e,t,n){return!t||/:/.test(t)?e:t+O(n)}))}function S(e,t){var n=E(e);return t?(l.names[_(n.elem,t)]||n.elem)+(n.mod?"_"+(l.names[_(n.mod,t)]||n.mod):""):(l.names[n.elem]||n.elem)+(n.mod?"_"+(l.names[_(n.mod,n.elem)]||n.mod):"")}function x(e,t,n){return(e||"").toString().split(/\s+/).map((function(e){return t(e,n)})).join(" ")}function L(e){var t=E(e);return(l.reverse[t.elem]||t.elem)+(t.mod?"_"+(l.reverse[t.mod]||t.mod):"")}return y.prototype={constructor:y,setup:w,selector:function(e,t){var n=C(e);return t||e==n?n:n+", "+e},transform:function(e,t){return x(e,O,t)},lookup:function(e,t){return x(e,S,t)},updateSheets:function(t){if(f&&t)return e.update(t,C,v)},removeSheets:function(t){f&&t&&e.remove(t)},insertSheet:b,reverse:function(e){return x(e,L)},isWelter:function(e){return t.isWelter(e)},wrap:function(e,n){if(f){var r;(n=n||document)[c]?r=n[c]:(r=++u,n[c]=r);var o=d[r];null==o&&(o={}),e.forEach((function(e){if(!o[e]){var i=C(e);o[e]=i,d[r]=o,t.wrap(n,i)}}))}},calcString:function(e,t){return f?n.calcString(e,t):e+t},removeCache:function(e){delete d[e[c]],delete e[c]},isEnabled:function(){return f}},y})),define("OK/Smokescreen",["mrg-smokescreen/Locator"],(function(e){"use strict";var t=null;return{getLocator:function(n){return t||(t=new e({enable:!0,randomize:n||!1,match:[".*"]}))},getById:function(e){var n=document.getElementById(e);return!n&&t&&(n=document.getElementById(t.transform(e))),n||null}}})),define("mrg-smokescreen/Honeypot",["OK/logger"],(function(e){function t(e){for(var t,n=[],r=[];t=e.pop();){var o=document.createElement(t.tag||"div");for(var i in t.attrs||(t.attrs={}),t.id&&(t.attrs.id=t.id),t.classes&&(t.attrs.class=t.classes.join(" ")),t.attrs)t.attrs.hasOwnProperty(i)&&"length"!==i&&o.setAttribute(i,t.attrs[i]);r.forEach((function(e){o.appendChild(e)})),r=[],n.push(o),r.push(o);for(i=1;i<t.multi;i++){var s=o.cloneNode(!0);n.push(s),r.push(s)}}return{baits:n,nodes:r}}function n(e,t){t.available&&t.styles.forEach((function(t){e.style[t.field]=t.value}))}return{version:"1.3.0",check:function(r,o,i){var s,a,c,u,l,d,f,h,p,m=document.getElementsByTagName("body")[0];if(m){try{var v=(a=r,c=/^([a-z][a-z0-9]*)/g,u=/^\.([A-z0-9\-\_]+)/g,l=/^#([A-z0-9\-\_]+)/g,d=/^@([A-z0-9\-\_]+)="((?:[^"\\]|\\.)*)"/g,f=/^\*(\d+)/g,h=new RegExp('"',"g"),p=/\s+/,a.map((function(e){var t=e.split(p),n=(e.match(h)||[]).length;if(n>0&&n%2==0)for(var r=null,o=0;o<t.length;o++)if(null===r){var i=(t[o].match(h)||[]).length;i&&i%2&&(r=o)}else t[r]+=" "+t[o],-1!==t[o].indexOf('"')&&(r=null),t[o]=void 0;return t.filter((function(e){return e})).map((function(e){if(e){var t,n={multi:1};do{c.lastIndex=0,u.lastIndex=0,l.lastIndex=0,d.lastIndex=0,f.lastIndex=0,(t=c.exec(e))?(e=e.substr(c.lastIndex),n.tag=t[1]):(t=u.exec(e))?(e=e.substr(u.lastIndex),n.classes=n.classes||[],n.classes.push(t[1])):(t=l.exec(e))?(e=e.substr(l.lastIndex),n.id=t[1]):(t=d.exec(e))?(e=e.substr(d.lastIndex),n.attrs=n.attrs||{},n.attrs[t[1]]=t[2].replace(/\\/g,"")):(t=f.exec(e))&&(e=e.substr(f.lastIndex),n.multi=parseInt(t[1]))}while(t&&e.length);if(e.length)throw new Error('Unparsed template: "'+e+'"');return n}}))}))),g=(s=o,{available:"function"==typeof window.getComputedStyle,styles:(s||[]).map((function(e){var t=e.split(/\s*:\s*/);return{field:t[0],value:t[1]}}))});if(function(e){if((e||"").length)try{var t=new RegExp(e);return Object.keys(window).filter((function(e){return e.match(t)})).length>0}catch(e){}}(i))return!0;for(var y=[],b=[],w=0;w<v.length;w++)if(v[w]&&v[w].length){var _=t(v[w]);if(_.nodes&&_.baits&&_.baits.length){var k=document.createElement("div");k.style.position="absolute",k.style.visibility="hidden",k.style.top="0",k.style.left="0",_.nodes.forEach((function(e){k.appendChild(e)})),m.appendChild(k),_.baits.forEach((function(e){n(e,g)})),y=y.concat(_.baits),b.push(k)}}return new Promise((function(e){window.setTimeout((function(){var t=!1;y.forEach((function(e){(function(e){return null===e.offsetParent}(e)||function(e,t){var n;if(t.available){var r=window.getComputedStyle(e,null);t.styles.forEach((function(e){n||(n=r[e.field]!==e.value&&"auto"!==r[e.field])}))}return n}(e,g))&&(t=!0)})),b.forEach((function(e){m.removeChild(e)})),e(!0===t)}),100)}))}catch(t){e.success("nb_error","honeypot",t)}return!1}}}})),define("OK/banners/blockDetect/honeypotBlockDetect",["mrg-smokescreen/Honeypot"],(function(e){return function(t){if(!(t.honeypotEnabled||!1))return Promise.resolve(!1);var n=t.honeypotRules||[".dialogWrapperBanner"],r=t.honeypotCssRules||["position: relative"],o=t.honeypotJsConfig||null;return e.check(n,r,o)}})),define("OK/banners/blockDetect/networkBlockDetect",[],(function(){var e,t;return function(){return new Promise((function(n){function r(){n(!0)}window.mailruEnabled=function(){n(!1)},(e=document.createElement("script")).type="text/javascript",e.src="//ad.mail.ru/adq/?callback=mailruEnabled&"+Date.now(),e.onerror=r,document.head.appendChild(e),t=setTimeout(r,4e3)})).then((function(n){return document.head.removeChild(e),window.mailruEnabled=null,e=null,clearTimeout(t),n}))}})),define("OK/wld",["require","exports","OK/cookie","OK/logger"],(function(require,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detect=void 0;var r="abp-wl";function o(e){return new Promise((function(t,o){var i=document.createElement("script");i.src="https://limg.imgsmail.ru/informers/abp/px.js?ch="+e,i.onload=function(){t(),n.success(r,"ch-"+e+".load")},i.onerror=function(){o(),n.success(r,"ch-"+e+".error")},document.head.appendChild(i)}))}window.abp=window.abp||!1;var i=new Promise((function(e,t){setTimeout(t,4e3);var n=!1;o(1).catch((function(e){throw n=!0,e})).then((function(){return o(2)})).then(t,(function(){n||!window.abp?t():e()}))}));i.then((function(){(0,t.setCookie)("abw","1",30,"/"),n.success(r,"yes")}),(function(){(0,t.clearCookie)("abw","/"),n.success(r,"no")})),e.detect=function(){return i}})),define("OK/banners/blockDetect/blockDetect",["OK/logger","OK/cookie","OK/banners/blockDetect/honeypotBlockDetect","OK/banners/blockDetect/networkBlockDetect","OK/wld"],(function(e,t,n,r,o){function i(t){e.success("nb_success","detect",t)}return function(s){return document.documentElement.classList.contains("ie")?Promise.resolve(!1):new Promise((function(a){var c,u,l,d=r(s),f=n(s),h=o.detect(),p=3;function m(){return l||u}function v(){if(0==--p){var n=m()&&!c;a(n),n?(l&&u?i("all"):(u&&i("network"),l&&i("honeypot")),t.setCookie("nbp","1",15,"/")):(e.success("nb_success","not_detect",c?"whitelist":""),t.clearCookie("nbp","/"))}}function g(e){return e&&!1===c&&a(!0),e}function y(){return e.success("nb_error","detect","catch"),!1}d.then(g,y).then((function(e){u=e,v()})),f.then(g,y).then((function(e){l=e,v()})),h.then((function(){return a(!1),!0}),(function(){return m()&&a(!0),!1})).then((function(e){c=e,v()}))}))}})),define("OK/ViewportTracker",["OK/utils/throttle","OK/utils/dom"],(function(e,t){"use strict";var n="js-viewport-container",r=[],o=!1,i=e(100,(function(){r.forEach((function(e){e.calculate()}))}));function s(e){var t=null;return r.some((function(n){if(n.element===e)return t=n,!0})),t}function a(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function c(e,t,n,r){this.element=e,this.container=t,this.callback=n,this.predicate=r?r.bind(this):null}function u(t){this.element=t,this.items=[],this.listener=e(100,this.calculate.bind(this)),this.element.addEventListener("scroll",this.listener),this.updateRect()}return c.prototype={destroy:function(){this.container=null},isInViewport:function(){var e,t=this.container.rect,n=t.top,r=t.bottom;try{e=this.element.getBoundingClientRect()}catch(t){e={top:0,right:0,bottom:0,left:0,width:0,height:0}}return e.top>=n&&e.top<=r||e.bottom>=n&&e.bottom<=r},calculate:function(){var e=this.predicate?this.predicate():this.isInViewport();this.visible!==e&&(this.visible=e,this.callback.call(this.element,e))}},u.prototype={add:function(e){this.items.push(e),this.updateRect(),e.calculate()},updateRect:function(){this.rect=this.element.getBoundingClientRect()},remove:function(e){var t=null;this.items.forEach((function(n){if(n.element===e)return t=n,!0})),t&&(t.destroy(),a(this.items,t))},isEmpty:function(){return 0===this.items.length},isLast:function(e){return this.items[this.items.length-1]===e},calculate:function(){this.updateRect(),this.items.forEach((function(e){e.calculate()}))},destroy:function(){this.element.removeEventListener("scroll",this.listener)}},{add:function(e,a,l){var d,f=t.parent(e,n);null===f&&(f=window),(d=s(f))||(d=new u(f),r.push(d)),d.add(new c(e,d,a,l)),o||(window.addEventListener("resize",i),o=!0)},remove:function(e){var c,u=t.parent(e,n);null===u&&(u=window),(c=s(u))&&(c.remove(e),c.isEmpty()&&(c.destroy(),a(r,c))),o&&0===r.length&&(window.removeEventListener("resize",i),o=!1)},getContainer:function(e){return s(t.parent(e,n))}}})),define("OK/banners/moneySaveV1",["OK/utils/dom","OK/logger","OK/utils/vanilla","OK/utils/utils","OK/banners/StickyBannerContainer","OK/Smokescreen","mrg-smokescreen/Welter","mrg-smokescreen/Utils","OK/banners/blockDetect/blockDetect","OK/banners/SmokescreenImgStyle","OK/ViewportTracker"],(function(e,t,n,r,o,i,s,a,c,u,l){var d,f,h,p,m,v,g="nb_success",y="nb_error",b="hook_ViewportHeightAwareBanner_ViewportHeightAwareBannerInner",w="LeftColumnBannerInner",_="wss://ad.mail.ru/mimic/v1/ws",k=!1,O=!0,E=!0,C=!0,S=!0,x=!1,L=!1,T=!1,I={topRight:"",message:"",discussion:"",bottomLeft:""},A={topRight:"",message:"",discussion:"",bottomLeft:""},K={topRight:3,message:3,discussion:3,bottomLeft:5},B="",N=!1,M={topRight:-1,message:-1,discussion:-1,bottomLeft:-1},P="",R="",H="",D=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,j=(e.byClass,e.firstByClass),F=new Promise((function(e){h=e})),q=new Promise((function(e){p=e})),W=!1,U=!1;var V,z={bottomLeft:new u("bottomLeft"),topRight:new u("topRight")},G={leftAdCont:"mainContentLeftColumn",leftAdWrapper:"leftColumn",hookBlockMainContent:"hook_Block_MainContent"},J={leftAdCont:"hook_Block_AsideColumn",leftAdWrapper:"hook_Block_AsideColumn",hookBlockMainContent:"hook_Block_MainContent2"},X=G;function $(){if(W){var e=document.getElementById("hook_Block_MainContent2");X=e?J:G}}function Z(e){var t=e.children;e.removeAttribute("style");for(var n=t.length,r=0;r<n;r++){var o=t[r];o.classList.contains("delete-stub")||"DIV"===o.tagName&&Z(o)}}function Y(e,n){var r=e+"Smokescreen";try{V().then(n).catch((function(e){t.success(y,r,e)}))}catch(e){t.success(y,r,e)}}function Q(e,t,n,r){if(L&&"bottomLeft"===n){if(e.narrow){var o=document.getElementById("hook_Block_ViewportHeightAwareBanner");o&&o.classList.add("__narrow")}Y(n,(function(){var t=document.getElementById(X.leftAdWrapper);if(t){var o=document.getElementById("hook_Block_StickyBannerContainer");if(o){!function(){var e=document.getElementById("mainContent"),t=document.getElementById("hook_Block_StickyBannerContainer"),n=document.querySelector(".layout-aside");e&&t?(e.classList.contains("narrow-feed")&&t.classList.add("narrow-feed"),e.classList.contains("profile-v2")&&t.classList.add("profile-v2"),e.classList.contains("wide-profile")&&t.classList.add("wide-profile"),e.classList.contains("mainContentDoubleColumn")&&t.classList.add("mainContentDoubleColumn")):!e&&t&&t.classList.add("layout-container");n&&t&&t.classList.add("layout-aside")}(),de(o,["#hook_Block_CompactFooter"]),f.wrap(["#hook_Block_StickyBannerContainer"],t),s.wrap(t,"#"+X.leftAdWrapper+' > [id^="hook_Block"]');var i=he("stickyBannerHook");i&&i.applySmokescreen(f)}else de(e,["#hook_Block_CompactFooter"],!0);z.bottomLeft.updateStylesheet(f),r(),function(e,t){var n=e.parentNode;if(!n)return;var r=e.cloneNode(!0);le(r,t),n.replaceChild(r,e)}(e,n)}}))}else"topRight"===n&&x?Y(n,(function(){de(e,!1,!0),le(e,n),z.topRight.updateStylesheet(f),r()})):r()}V=function(){return F.then((function(){f=T?i.getLocator(["width"]):i.getLocator(),L&&z.bottomLeft.createStyleEl(),O&&z.topRight.createStyleEl();var e=f.updateSheets(d);return V=function(){return e},e}))};var ee="__expanded";function te(e,t){this.el=e,this.onClick=this.onClick.bind(this),this.el.addEventListener("click",this.onClick)}function ne(e,t){this.el=e;var n=e.getAttribute("data-nbh");n&&(this.onClick=Ae.bind(e,n,t),this.el.addEventListener("click",this.onClick)),this.el.removeAttribute("data-nbh")}function re(e,t){this.el=e,this.bannerPlace=t,this.options=JSON.parse(e.getAttribute("data-options")),this.onClick=this.onClick.bind(this),this.el.addEventListener("click",this.onClick),this.el.removeAttribute("data-options")}function oe(e,t){this.el=e,this.options=JSON.parse(this.el.getAttribute("data-options")),this.pixels=this.options.common,this.pixels.render_block_pixel&&ke(this.pixels.render_block_pixel),this.pixels.block_pixel&&(this.checkVisibility=this.checkVisibility.bind(this),this.onVisible=this.onVisible.bind(this),l.add(this.el,this.onVisible,this.checkVisibility)),this.el.removeAttribute("data-options")}te.prototype.onClick=function(e){this.el.classList.toggle(f.transform(ee))},te.prototype.destroy=function(){this.el.removeEventListener("click",this.onClick)},ne.prototype.destroy=function(){this.onClick&&this.el.removeEventListener("click",this.onClick)},re.prototype.onClick=function(t){var n=this.options;n.clickLink&&Ae(n.clickLink,this.bannerPlace,t),n.url&&ke(n.url);var r=e.parent(t.target,f.transform("b-context__close"));if(r&&r.classList.remove(f.transform(ee)),n.shouldCloseAd){var o=e.parent(t.target,f.transform("b-js_ad"));o&&o.classList.add("invisible")}t.stopPropagation(),t.preventDefault()},re.prototype.destroy=function(){this.el.removeEventListener("click",this.onClick)},oe.prototype.checkVisibility=function(){return!!ue(this.el)&&r.isElementInViewport(this.el)},oe.prototype.onVisible=function(e){e&&this.pixels.block_pixel&&(l.remove(this.el),ke(this.pixels.block_pixel))},oe.prototype.destroy=function(){this.pixels.block_pixel&&l.remove(this.el)};var ie,se,ae={ad:oe,link:ne,close:te,closeLink:re},ce=[];function ue(e){return!!e.closest("body")}function le(e,t){for(var n=e.getElementsByClassName(f.transform("b-js__hook")),r=0;r<n.length;r++){var o=n[r].getAttribute("data-msh");null!=o&&ae.hasOwnProperty(o)&&ce.push(new ae[o](n[r],t)),n[r].removeAttribute("data-msh")}}function de(e,t,n){if(t)for(var r=0;r<t.length;++r)if(e.matches(t[r]))return;n||function(e){e.id&&(e.id=f.transform(e.id));e.className?e.className=f.transform(e.className):e.removeAttribute("class");var t={};["data-module","data-place","data-name","data-params","data-dependencies","data-fallback","jsplace"].forEach((function(n){e.hasAttribute(n)&&(t[n]=e.getAttribute(n),e.removeAttribute(n))})),(t.hasOwnProperty("jsplace")||""===e.getAttribute("style"))&&e.removeAttribute("style");e.okData=t}(e);for(var o=e.children,i=o.length,s=0;s<i;s++)de(o[s],t)}function fe(e,t){var n=j(e,t);return n||(f?j(e,f.transform(t)):null)}function he(e){var t=fe(document,e);return t?t.nativeHookImpl:null}function pe(e){if(e&&j(e,"js-banner-wrapper")){var t=j(e,"feed_close");t&&t.addEventListener("click",(function(){Z(e)}))}}function me(){var e=j(document,"feed-list");if(e){for(var t=e.children,n=t.length,r=0;r<n;r++)pe(t[r]);if(D){new D((function(e){e.forEach((function(e){var t=e.addedNodes[0];t&&t instanceof Element&&pe(j(t,"feed"))}))})).observe(e,{attributes:!1,childList:!0,characterData:!1})}}}function ve(){return ie||(ie=new Promise((function(e){se=e}))),ie}function ge(t){$();var n=document.getElementById(X.hookBlockMainContent);n&&(D&&new D((function(e){e.forEach((function(e){"childList"===e.type&&e.addedNodes.length>0&&me()}))})).observe(n,{childList:!0}));me(),Promise.all([q,ve()]).then((function(t){var n,r;t[1]&&(function(){if(!S)return;$();var t=function(){return document.getElementById(b)||document.getElementById(w)||document.querySelector("#hook_Block_ViewportHeightAwareBanner .banner_new__vha")},n=document.getElementById(X.leftAdCont),r=t();if(!r||!n)return;var i=!1;if(r.id===w){var s=fe(r,"banner-controller");s&&(i="true"===s.getAttribute("data-sticky-banner"))}var a=function(t,n){be(t,n,"bottomLeft",(function(){for(var n=fe(t,"b-context"),r=n.children.length,s=0,a=0,c=0;c<r;++c){var u=n.children[c];(s+=u.offsetHeight)>.65*window.innerHeight?u.classList.add(f.transform("b-invisible")):a++}if(t.id===w){if(i){var l=e.parent(t,"hookBlock");l&&o.activate(l),i=!1}}else{var d=he("stickyBannerHook");d&&d.doReflow()}return a}))},c=function(){var e=t(),n=document.getElementById(X.leftAdCont);e&&n&&a(e,n)};if(D){var u=new D((function(e){var t=!1;e.forEach((function(e){if(!t){e.attributeName;"childList"===e.type&&e.addedNodes.length>0&&(c(),t=!0)}}))})),l=document.getElementById(X.hookBlockMainContent);u.observe(l,{childList:!0});var d=new D((function(e){var t=!1;e.forEach((function(e){if(!t&&"childList"===e.type&&e.addedNodes.length>0){$();var n=document.getElementById(X.hookBlockMainContent);n&&(u.observe(n,{childList:!0}),c(),t=!0)}}))})),h=document.getElementById("hook_Block_MainContentWrapper");h&&d.observe(h,{childList:!0})}a(r,n)}(),n=document.getElementById("hook_ToolbarIconDiscussions_ToolbarDiscussions"),r=new D((function(e){e.forEach((function(e){if("class"===e.attributeName){if(!OK.util.is4ColumnActive())return;if(e.target.classList.contains("toolbar_nav_a__discu__active")){var t=j(document,"topPanel_d");if(t){var n=j(t,"dialogWrapperBanner"),r=n?j(n,"dialogWrapperBanner__inner"):null;r&&""===r.innerHTML&&be(r,n,"discussion")}}}}))})),C&&n&&r.observe(n,{attributes:!0}),function(){var e=document.getElementById("msg_layer_wrapper"),t=document.getElementById("hook_Block_MessagesLayer");if(!E||!t||!e)return;var n=function(e){var t=document.getElementById("hook_Block_MessagesAdsPanel"),n=document.getElementById("hook_BannerNew_MessagesAdsPanelInner")||document.getElementById("MessagesAdsPanelInner");t&&n&&(e?OK.util.is4ColumnActive()&&be(n,t,"message"):t.setAttribute("style","display: none !important"))},r=new D((function(e){n(!0),r.disconnect()}));r.observe(t,{childList:!0}),new D((function(e){e.forEach((function(e){"class"===e.attributeName&&n(!e.target.classList.contains("invisible"))}))})).observe(e,{attributes:!0})}())})),c(t).then((function(e){se(e)}))}function ye(e,t,n){n();var r=M[e];N&&r>0&&window.setTimeout((function(){document.body.contains(t)&&t.offsetParent&&ye(e,t,n)}),1e3*r)}function be(e,n,r,o){return function(){for(var e=ce.length-1;e>=0;e--){var t=ce[e];ue(t.el)||(t.destroy(),ce.splice(e,1))}}(),new Promise((function(n){ye(r,e,(function(){var i=new _e;function s(){i.cleanup()}i.getAds(r).then((function(a){var c="topRight"===r&&x||"bottomLeft"===r&&L,u="bottomLeft"===r&&e.classList.contains("__narrow");e.narrow=u;var l=function(e,n,r,o,i){if(!(n&&n.body&&n.body.direct&&n.body.direct.ads))return void t.success(y,"badDirectBlock");var s="",a=n.body.direct.ads,c=0;if(0===a.length)return t.success(y,"emptyAds"),0;for(var u=0;u<a.length&&!(u>=r);++u){var l=a[u];l&&(s+=Ie(l,i,o,e.narrow),c++)}if(s&&e){var d=n.body.common?{common:n.body.common}:{common:{}};e.innerHTML=Se('<div class="b-context b-js__hook" data-msh="ad" data-options="'+Ce(JSON.stringify(d))+'">',s,"</div>")}return c}(e,a.result,K[r],r,c);Q(e,0,r,(function(){if(o){var c=o(e);c>=0&&(l=c)}if(t.success(g,"showDirectAd",l),l>0){d=a.id,f=A[r],(new Image).src="//rs.mail.ru/d"+f+".gif?rnd="+d+"&ts="+Date.now();var u=function(e,t){for(var n=e.body.direct.ads,r=e.body.common.link_head.replace(/^.+\/count\//,""),o=0;o<t;++o)r+=n[o].link_tail;return r}(a.result,l);i.sendCount(r,u).then(s,s)}else s();var d,f;n()}))}))}))}))}function we(e,n){return new Promise((function(r,o){var i;try{i=JSON.parse(n)}catch(e){return t.success(y,"parseError"),void o()}return i&&i.error?(t.success(y,e+".respError",i.error),void o()):i&&i.result&&i.id?200!==i.result.status?(t.success(y,e+".badStatus",i.result.status),void o()):void r(i):(t.success(y,e+".badPayload"),void o())}))}function _e(){Object.defineProperty(this,"getAds",{value:function(e){var r="cmd="+R+"&gwt.requested="+window.pageCtx.gwtHash+"&mt=page&pl="+window.encodeURIComponent(e);return n.ajax({url:"/dk",data:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return we("page",e.response)}),(function(e){t.success(y,"xhrErr",e.status)}))}}),this.sendCount=function(e,t){var r="cmd="+R+"&gwt.requested="+window.pageCtx.gwtHash+"&mt=count&pl="+e+"&cnt="+window.encodeURIComponent(t);return n.ajax({url:"/dk",data:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return we("count",e.response)}))},this.cleanup=function(){}}function ke(e){if(U){var t="cmd="+R+"&gwt.requested="+window.pageCtx.gwtHash+"&mt=pixel&u="+window.encodeURIComponent(e);return n.ajax({url:"/dk",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}(new Image).src=e}var Oe,Ee,Ce=(Oe={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;"},Ee=!1?/[&<>"']/g:/&(?!#?\w+;)|<|>|"|'/g,function(e){return e?e.toString().replace(Ee,(function(e){return Oe[e]||e})):""});function Se(){return Array.prototype.slice.call(arguments).join("")}function xe(e,t){return e?t:""}function Le(e,t){return Se('<span class="ads_char'+(t?" __fake":"")+'">',Ce(e),"</span>")}function Te(e){for(var t=[],n=0;n<e.length;n++)t.push(Le(e[n])),t.push(Le(String.fromCharCode(97+Math.round(30*Math.random())),!0));return t.join("")}function Ie(e,t,n,r){if(t){var o=-1,i=!1,s=k&&"bottomLeft"===n;if(e.images&&e.images[0]){var a=+e.images[0][1],c=+e.images[0][2],u=s?r?176:200:90;a>u&&(c=c*u/a,a=u),s&&a<u&&(c=c*u/a,a=u),o=z[n].registerImageStyle(a,c,Ce(e.images[0][0])),i=!0}var l=xe(e.adChoices,Se('<div class="b-context__close b-js__hook" data-msh="close">','<div class="b-context__close-menu">','<div class="b-context__close-menu_cnt">',e.adChoices.options.map((function(e){return Se('<div class="b-context__close-menu_i b-js__hook" data-msh="closeLink" data-options="'+Ce(JSON.stringify(e))+'">',Ce(e.name),"</div>")})).join(""),"</div>",'<div class="b-context__close-menu_arw_w">','<div class="b-context__close-menu_arw"></div>',"</div>","</div>","</div>"));return s?Se('<div class="b-context__item b-context__item__v2 b-js_ad">',xe(i,Se('<div class="b-context__picture-w">','<div class="b-context__picture b-js__hook b-img-'+n+o+'" data-msh="link" data-nbh="'+Ce(e.url)+'">','<span class="b-context__marker">',Te("Реклама"),"</span>",'<div class="b-context__contacts b-js__hook" data-msh="link" data-nbh="'+Ce(e.url)+'">',Ce(e.domain),xe(e.region,Se('<span class="b-context__contacts__item">',Ce(e.region),"</span>")),"</div>","</div>",l,"</div>")),'<div class="b-context__title">','<div class="b-context__title__link b-js__hook" data-msh="link" data-nbh="'+Ce(e.url)+'">',xe(e.puny_domain,Se('<img class="b-context__favicon" src="//favicon.yandex.net/favicon/'+Ce(e.puny_domain)+'" alt=""/>')),Ce(e.title),"</div>",xe(!i,l),"</div>",'<div class="b-context__content b-context__content__link b-js__hook" data-msh="link" data-nbh="'+Ce(e.url)+'">',Ce(e.body),"</div>",xe(e.warning,Se('<div class="b-context__warning">',Ce(e.warning),"</div>")),"</div>"):Se('<div class="b-context__item b-js_ad">','<div class="b-context__title">','<div class="b-context__title__link b-js__hook" data-msh="link" data-nbh="'+Ce(e.url)+'">',xe(e.puny_domain,Se('<img class="b-context__favicon" src="//favicon.yandex.net/favicon/'+Ce(e.puny_domain)+'" alt=""/>')),Ce(e.title),"</div>",l,"</div>",xe(o>=0,Se('<div class="b-context__picture b-js__hook b-img-'+n+o+'" data-msh="link" data-nbh="'+Ce(e.url)+'">','<span class="b-context__marker">',Te("Реклама"),"</span>","</div>")),'<div class="b-context__content b-context__content__link b-js__hook" data-msh="link" data-nbh="'+Ce(e.url)+'">',Ce(e.body),"</div>",'<div class="b-context__contacts b-context__contacts__item b-context__contacts__item_link b-js__hook" data-msh="link" data-nbh="'+Ce(e.url)+'">',Ce(e.domain),xe(e.region,Se('<span class="b-context__contacts__item">',Ce(e.region),"</span>")),"</div>",xe(e.warning,Se('<div class="b-context__warning">',Ce(e.warning),"</div>")),"</div>")}var d=e.puny_domain?'<img class="b-context__favicon" src="//favicon.yandex.net/favicon/'+Ce(e.puny_domain)+'" alt=""/>':"",f='<div class="b-context__title"><a class="b-context__title__link" href="'+Ce(e.url)+'" target="_blank">'+d+Ce(e.title)+"</a></div>",h=e.images&&e.images[0]?'<div class="b-context__picture"><a href="'+Ce(e.url)+'" target="_blank"><img src="'+Ce(e.images[0][0])+'" width="'+Ce(e.images[0][1])+'" height="'+Ce(e.images[0][2])+'" alt=""/></a></div>':"",p='<div class="b-context__content"><a class="b-context__content__link" href="'+Ce(e.url)+'" target="_blank">'+Ce(e.body)+"</a></div>",m=e.region?'<span class="b-context__contacts__item">'+Ce(e.region)+"</span>":"";return'<div class="b-context__item">'+f+h+p+('<div class="b-context__contacts"><a class="b-context__contacts__item b-context__contacts__item_link" href="'+Ce(e.url)+'" target="_blank">'+Ce(e.domain)+"</a>"+m+"</div>")+(e.warning?'<div class="b-context__warning">'+Ce(e.warning)+"</div>":"")+"</div>"}function Ae(e,t,n){e&&(Ke(e,t),n.stopPropagation())}function Ke(e,n){if(t.success(g,n,"click"),m){var r="/dk?cmd=logExternal&st.name=externalLinkRedirect&st.link="+window.encodeURIComponent(e)+"&st.sig="+v,o=window.open(r),i=function(){o.location.href=e,o.removeEventListener("load",i)};o.addEventListener("load",i,!1)}else window.open(e)}return{version:1,activate:function(e){var t=e.getAttribute("data-config");"{"!==t[0]&&(t=atob(t)),(t=JSON.parse(t)).removeEl&&e.parentNode.removeChild(e),_=t.mimicUrl||_,k=t.tplV2Enabled||!1,O=t.topRightBannerEnabled||!1,E=t.messagesBannerEnabled||!1,C=t.discussionsBannerEnabled||!1,S=t.bottomLeftBannerEnabled||!1,I=t.statId||I,A=t.pixelId||A,N=t.refreshEnabled||!1,M=t.refreshInterval||M,B=t.pageId||B,P=t.whitelistSelector||P,R=t.secretCmd||"",H=t.secretFeedReplaceCmd||"",t.useHttp||!1,t.debugOrigin,x=t.smokescreenTopRightEnabled||!1,t.smokescreenDiscussionsEnabled||!1,t.smokescreenMessagesEnabled||!1,L=t.smokescreenBottomLeftEnabled||!1,T=t.smokescreenRandomizeCss||!1,m=t.adLinksRedirectWrapperEnabled,v=t.redirectLinkToken,W=t.redesignEnabled,U=t.sendPixelsThroughServer,d=function(e){if(!e)return null;if(!a.isUrlConstructorExists())return null;var t=[];return e.forEach((function(e){t.push(new URL(e,window.location.href).href)})),t}(t.cssUrls),"interactive"===document.readyState||"complete"===document.readyState?ge(t):document.addEventListener("DOMContentLoaded",(function(){ge(t)})),h()},ready:function(){return Promise.all([q,ve(),V()])},onHooksReady:p,detectAdBlock:ve,obfuscate:function(e,t,n){return V().then((function(){de(e,t,n)}))},obfuscateNow:de,obfuscateText:Te,transform:function(e){return V().then((function(){return f.transform(e)}))},transformNow:function(e){return f.transform(e)},activateLocator:function(){return V()},openLink:Ke,attachTopRightBanner:function(e,t){return O&&e&&t?be(t,0,"topRight"):Promise.reject()},getSecretFeedReplaceCmd:function(){return H}}})),define("OK/banners/BannerClickLog",["OK/utils/environment"],(function(e){"use strict";var t=e.isDebug,n=function(){};return n.prototype={_onclick:function(){OK.logging.logger.success("banner.place",this.place,"click"),t&&console.info("banner click "+this.place)},activate:function(e){this.place=e.getAttribute("data-place"),this._onclickHandler=this._onclick.bind(this),e.addEventListener("click",this._onclickHandler)},deactivate:function(e){e.removeEventListener("click",this._onclickHandler)}},n})),define("OK/Pushes",["OK/NewsFetchCoordinator"],(function(e){var t={};return{activate:function(){e.addBlock("PS")},subscribe:function(e,n){return t[e]||(t[e]=[]),t[e].push(n),function(){var r=t[e];if(r){var o=r.indexOf(n);o>=0&&r.splice(o,1),0===r.length&&delete t[e]}}},setNewContent:function(e){var n=OK.util.parseJsonCorrected(e);n&&Object.keys(n).forEach((function(e){var r=t[e];if(r){var o=n[e];r.forEach((function(e){e(o)}))}}))}}})),define("b/primary",["OK/utils/utils","OK/utils/vanilla","OK/utils/throttle","OK/utils/debounce","OK/utils/requireBlock","OK/utils/dom","OK/utils/delegate","OK/utils/copyText","OK/cookie","OK/utils/environment","OK/utils/inputCaretPosition","OK/LogClicks","OK/NewsFetchCoordinator","OK/CommentWidgetsController","OK/CommentWidgets","OK/ReshareWidgetsController","OK/FixedTopBock","OK/mrg/projects","OK/mrg/counters","OK/mrg/wamba","OK/HookModel","OK/ToolbarBubble","OK/ToolbarGrowl","OK/css-loader","OK/banners/StickyBannerContainer","OK/banners/SmokescreenImgStyle","OK/banners/moneySaveV1","OK/banners/BannerClickLog","OK/Pushes"],{});
//# sourceMappingURL=/res/source-maps/js/b/primary.js.map                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   rtPEM(t);var y=new c();y.readCertPEM(x);var z=y.getPublicKeyHex();var w=q.getTLVbyList(z,0,[1,0],"30");var r=p.getSerialNumberHex();var s=e(y.getSubjectHex(),v);var u=e(w,v);this.setByValue(s,u,r,v);this.hoge=p.getSerialNumberHex()};this.getEncodedHex=function(){if(this.dHashAlg===null&&this.dIssuerNameHash===null&&this.dIssuerKeyHash===null&&this.dSerialNumber===null){throw"not yet set values"}var p=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber];var r=new h({array:p});this.hTLV=r.getEncodedHex();return this.hTLV};if(g!==undefined){var b=g;if(b.issuerCert!==undefined&&b.subjectCert!==undefined){var a=l;if(b.alg===undefined){a=undefined}this.setByCert(b.issuerCert,b.subjectCert,a)}else{if(b.namehash!==undefined&&b.keyhash!==undefined&&b.serial!==undefined){var a=l;if(b.alg===undefined){a=undefined}this.setByValue(b.namehash,b.keyhash,b.serial,a)}else{throw"invalid constructor arguments"}}}};YAHOO.lang.extend(KJUR.asn1.ocsp.CertID,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.Request=function(f){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.ocsp;d.Request.superclass.constructor.call(this);this.dReqCert=null;this.dExt=null;this.getEncodedHex=function(){var g=[];if(this.dReqCert===null){throw"reqCert not set"}g.push(this.dReqCert);var h=new a({array:g});this.hTLV=h.getEncodedHex();return this.hTLV};if(typeof f!=="undefined"){var e=new d.CertID(f);this.dReqCert=e}};YAHOO.lang.extend(KJUR.asn1.ocsp.Request,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.TBSRequest=function(e){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.ocsp;d.TBSRequest.superclass.constructor.call(this);this.version=0;this.dRequestorName=null;this.dRequestList=[];this.dRequestExt=null;this.setRequestListByParam=function(h){var f=[];for(var g=0;g<h.length;g++){var j=new d.Request(h[0]);f.push(j)}this.dRequestList=f};this.getEncodedHex=function(){var f=[];if(this.version!==0){throw"not supported version: "+this.version}if(this.dRequestorName!==null){throw"requestorName not supported"}var h=new a({array:this.dRequestList});f.push(h);if(this.dRequestExt!==null){throw"requestExtensions not supported"}var g=new a({array:f});this.hTLV=g.getEncodedHex();return this.hTLV};if(e!==undefined){if(e.reqList!==undefined){this.setRequestListByParam(e.reqList)}}};YAHOO.lang.extend(KJUR.asn1.ocsp.TBSRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPRequest=function(f){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.ocsp;d.OCSPRequest.superclass.constructor.call(this);this.dTbsRequest=null;this.dOptionalSignature=null;this.getEncodedHex=function(){var g=[];if(this.dTbsRequest!==null){g.push(this.dTbsRequest)}else{throw"tbsRequest not set"}if(this.dOptionalSignature!==null){throw"optionalSignature not supported"}var h=new a({array:g});this.hTLV=h.getEncodedHex();return this.hTLV};if(f!==undefined){if(f.reqList!==undefined){var e=new d.TBSRequest(f);this.dTbsRequest=e}}};YAHOO.lang.extend(KJUR.asn1.ocsp.OCSPRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPUtil={};KJUR.asn1.ocsp.OCSPUtil.getRequestHex=function(a,b,h){var d=KJUR,c=d.asn1,e=c.ocsp;if(h===undefined){h=e.DEFAULT_HASH}var g={alg:h,issuerCert:a,subjectCert:b};var f=new e.OCSPRequest({reqList:[g]});return f.getEncodedHex()};KJUR.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(b){var k=ASN1HEX;var c=k.getVbyList;var d=k.getIdxbyList;var c=k.getVbyList;var f=k.getV;var l={};try{var i=c(b,0,[0],"0a");l.responseStatus=parseInt(i,16)}catch(e){}if(l.responseStatus!==0){return l}try{var g=d(b,0,[1,0,1,0,0,2,0,1]);if(b.substr(g,2)==="80"){l.certStatus="good"}else{if(b.substr(g,2)==="a1"){l.certStatus="revoked";l.revocationTime=hextoutf8(c(b,g,[0]))}else{if(b.substr(g,2)==="82"){l.certStatus="unknown"}}}}catch(e){}try{var a=d(b,0,[1,0,1,0,0,2,0,2]);l.thisUpdate=hextoutf8(f(b,a))}catch(e){}try{var j=d(b,0,[1,0,1,0,0,2,0,3]);if(b.substr(j,2)==="a0"){l.nextUpdate=hextoutf8(c(b,j,[0]))}}catch(e){}return l};
var KJUR;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.lang=="undefined"||!KJUR.lang){KJUR.lang={}}KJUR.lang.String=function(){};function Base64x(){}function stoBA(d){var b=new Array();for(var c=0;c<d.length;c++){b[c]=d.charCodeAt(c)}return b}function BAtos(b){var d="";for(var c=0;c<b.length;c++){d=d+String.fromCharCode(b[c])}return d}function BAtohex(b){var e="";for(var d=0;d<b.length;d++){var c=b[d].toString(16);if(c.length==1){c="0"+c}e=e+c}return e}function stohex(a){return BAtohex(stoBA(a))}function stob64(a){return hex2b64(stohex(a))}function stob64u(a){return b64tob64u(hex2b64(stohex(a)))}function b64utos(a){return BAtos(b64toBA(b64utob64(a)))}function b64tob64u(a){a=a.replace(/\=/g,"");a=a.replace(/\+/g,"-");a=a.replace(/\//g,"_");return a}function b64utob64(a){if(a.length%4==2){a=a+"=="}else{if(a.length%4==3){a=a+"="}}a=a.replace(/-/g,"+");a=a.replace(/_/g,"/");return a}function hextob64u(a){if(a.length%2==1){a="0"+a}return b64tob64u(hex2b64(a))}function b64utohex(a){return b64tohex(b64utob64(a))}var utf8tob64u,b64utoutf8;if(typeof Buffer==="function"){utf8tob64u=function(a){return b64tob64u(new Buffer(a,"utf8").toString("base64"))};b64utoutf8=function(a){return new Buffer(b64utob64(a),"base64").toString("utf8")}}else{utf8tob64u=function(a){return hextob64u(uricmptohex(encodeURIComponentAll(a)))};b64utoutf8=function(a){return decodeURIComponent(hextouricmp(b64utohex(a)))}}function utf8tob64(a){return hex2b64(uricmptohex(encodeURIComponentAll(a)))}function b64toutf8(a){return decodeURIComponent(hextouricmp(b64tohex(a)))}function utf8tohex(a){return uricmptohex(encodeURIComponentAll(a))}function hextoutf8(a){return decodeURIComponent(hextouricmp(a))}function hextorstr(c){var b="";for(var a=0;a<c.length-1;a+=2){b+=String.fromCharCode(parseInt(c.substr(a,2),16))}return b}function rstrtohex(c){var a="";for(var b=0;b<c.length;b++){a+=("0"+c.charCodeAt(b).toString(16)).slice(-2)}return a}function hextob64(a){return hex2b64(a)}function hextob64nl(b){var a=hextob64(b);var c=a.replace(/(.{64})/g,"$1\r\n");c=c.replace(/\r\n$/,"");return c}function b64nltohex(b){var a=b.replace(/[^0-9A-Za-z\/+=]*/g,"");var c=b64tohex(a);return c}function hextopem(a,b){var c=hextob64nl(a);return"-----BEGIN "+b+"-----\r\n"+c+"\r\n-----END "+b+"-----\r\n"}function pemtohex(a,b){if(a.indexOf("-----BEGIN ")==-1){throw"can't find PEM header: "+b}if(b!==undefined){a=a.replace(new RegExp("^[^]*-----BEGIN "+b+"-----"),"");a=a.replace(new RegExp("-----END "+b+"-----[^]*$"),"")}else{a=a.replace(/^[^]*-----BEGIN [^-]+-----/,"");a=a.replace(/-----END [^-]+-----[^]*$/,"")}return b64nltohex(a)}function hextoArrayBuffer(d){if(d.length%2!=0){throw"input is not even length"}if(d.match(/^[0-9A-Fa-f]+$/)==null){throw"input is not hexadecimal"}var b=new ArrayBuffer(d.length/2);var a=new DataView(b);for(var c=0;c<d.length/2;c++){a.setUint8(c,parseInt(d.substr(c*2,2),16))}return b}function ArrayBuffertohex(b){var d="";var a=new DataView(b);for(var c=0;c<b.byteLength;c++){d+=("00"+a.getUint8(c).toString(16)).slice(-2)}return d}function zulutomsec(n){var l,j,m,e,f,i,b,k;var a,h,g,c;c=n.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/);if(c){a=c[1];l=parseInt(a);if(a.length===2){if(50<=l&&l<100){l=1900+l}else{if(0<=l&&l<50){l=2000+l}}}j=parseInt(c[2])-1;m=parseInt(c[3]);e=parseInt(c[4]);f=parseInt(c[5]);i=parseInt(c[6]);b=0;h=c[7];if(h!==""){g=(h.substr(1)+"00").substr(0,3);b=parseInt(g)}return Date.UTC(l,j,m,e,f,i,b)}throw"unsupported zulu format: "+n}function zulutosec(a){var b=zulutomsec(a);return ~~(b/1000)}function zulutodate(a){return new Date(zulutomsec(a))}function datetozulu(g,e,f){var b;var a=g.getUTCFullYear();if(e){if(a<1950||2049<a){throw"not proper year for UTCTime: "+a}b=(""+a).slice(-2)}else{b=("000"+a).slice(-4)}b+=("0"+(g.getUTCMonth()+1)).slice(-2);b+=("0"+g.getUTCDate()).slice(-2);b+=("0"+g.getUTCHours()).slice(-2);b+=("0"+g.getUTCMinutes()).slice(-2);b+=("0"+g.getUTCSeconds()).slice(-2);if(f){var c=g.getUTCMilliseconds();if(c!==0){c=("00"+c).slice(-3);c=c.replace(/0+$/g,"");b+="."+c}}b+="Z";return b}function uricmptohex(a){return a.replace(/%/g,"")}function hextouricmp(a){return a.replace(/(..)/g,"%$1")}function ipv6tohex(g){var b="malformed IPv6 address";if(!g.match(/^[0-9A-Fa-f:]+$/)){throw b}g=g.toLowerCase();var d=g.split(":").length-1;if(d<2){throw b}var e=":".repeat(7-d+2);g=g.replace("::",e);var c=g.split(":");if(c.length!=8){throw b}for(var f=0;f<8;f++){c[f]=("0000"+c[f]).slice(-4)}return c.join("")}function hextoipv6(e){if(!e.match(/^[0-9A-Fa-f]{32}$/)){throw"malformed IPv6 address octet"}e=e.toLowerCase();var b=e.match(/.{1,4}/g);for(var d=0;d<8;d++){b[d]=b[d].replace(/^0+/,"");if(b[d]==""){b[d]="0"}}e=":"+b.join(":")+":";var c=e.match(/:(0:){2,}/g);if(c===null){return e.slice(1,-1)}var f="";for(var d=0;d<c.length;d++){if(c[d].length>f.length){f=c[d]}}e=e.replace(f,"::");return e.slice(1,-1)}function hextoip(b){var d="malformed hex value";if(!b.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/)){throw d}if(b.length==8){var c;try{c=parseInt(b.substr(0,2),16)+"."+parseInt(b.substr(2,2),16)+"."+parseInt(b.substr(4,2),16)+"."+parseInt(b.substr(6,2),16);return c}catch(a){throw d}}else{if(b.length==32){return hextoipv6(b)}else{return b}}}function iptohex(f){var j="malformed IP address";f=f.toLowerCase(f);if(f.match(/^[0-9.]+$/)){var b=f.split(".");if(b.length!==4){throw j}var g="";try{for(var e=0;e<4;e++){var h=parseInt(b[e]);g+=("0"+h.toString(16)).slice(-2)}return g}catch(c){throw j}}else{if(f.match(/^[0-9a-f:]+$/)&&f.indexOf(":")!==-1){return ipv6tohex(f)}else{throw j}}}function encodeURIComponentAll(a){var d=encodeURIComponent(a);var b="";for(var c=0;c<d.length;c++){if(d[c]=="%"){b=b+d.substr(c,3);c=c+2}else{b=b+"%"+stohex(d[c])}}return b}function newline_toUnix(a){a=a.replace(/\r\n/mg,"\n");return a}function newline_toDos(a){a=a.replace(/\r\n/mg,"\n");a=a.replace(/\n/mg,"\r\n");return a}KJUR.lang.String.isInteger=function(a){if(a.match(/^[0-9]+$/)){return true}else{if(a.match(/^-[0-9]+$/)){return true}else{return false}}};KJUR.lang.String.isHex=function(a){if(a.length%2==0&&(a.match(/^[0-9a-f]+$/)||a.match(/^[0-9A-F]+$/))){return true}else{return false}};KJUR.lang.String.isBase64=function(a){a=a.replace(/\s+/g,"");if(a.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&a.length%4==0){return true}else{return false}};KJUR.lang.String.isBase64URL=function(a){if(a.match(/[+/=]/)){return false}a=b64utob64(a);return KJUR.lang.String.isBase64(a)};KJUR.lang.String.isIntegerArray=function(a){a=a.replace(/\s+/g,"");if(a.match(/^\[[0-9,]+\]$/)){return true}else{return false}};function hextoposhex(a){if(a.length%2==1){return"0"+a}if(a.substr(0,1)>"7"){return"00"+a}return a}function intarystrtohex(b){b=b.replace(/^\s*\[\s*/,"");b=b.replace(/\s*\]\s*$/,"");b=b.replace(/\s*/g,"");try{var c=b.split(/,/).map(function(g,e,h){var f=parseInt(g);if(f<0||255<f){throw"integer not in range 0-255"}var d=("00"+f.toString(16)).slice(-2);return d}).join("");return c}catch(a){throw"malformed integer array string: "+a}}var strdiffidx=function(c,a){var d=c.length;if(c.length>a.length){d=a.length}for(var b=0;b<d;b++){if(c.charCodeAt(b)!=a.charCodeAt(b)){return b}}if(c.length!=a.length){return d}return -1};
if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414",};this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa",};this.CRYPTOJSMESSAGEDIGESTNAME={md5:CryptoJS.algo.MD5,sha1:CryptoJS.algo.SHA1,sha224:CryptoJS.algo.SHA224,sha256:CryptoJS.algo.SHA256,sha384:CryptoJS.algo.SHA384,sha512:CryptoJS.algo.SHA512,ripemd160:CryptoJS.algo.RIPEMD160};this.getDigestInfoHex=function(a,b){if(typeof this.DIGESTINFOHEAD[b]=="undefined"){throw"alg not supported in Util.DIGESTINFOHEAD: "+b}return this.DIGESTINFOHEAD[b]+a};this.getPaddedDigestInfoHex=function(h,a,j){var c=this.getDigestInfoHex(h,a);var d=j/4;if(c.length+22>d){throw"key is too short for SigAlg: keylen="+j+","+a}var b="0001";var k="00"+c;var g="";var l=d-b.length-k.length;for(var f=0;f<l;f+=2){g+="ff"}var e=b+g+k;return e};this.hashString=function(a,c){var b=new KJUR.crypto.MessageDigest({alg:c});return b.digestString(a)};this.hashHex=function(b,c){var a=new KJUR.crypto.MessageDigest({alg:c});return a.digestHex(b)};this.sha1=function(a){return this.hashString(a,"sha1")};this.sha256=function(a){return this.hashString(a,"sha256")};this.sha256Hex=function(a){return this.hashHex(a,"sha256")};this.sha512=function(a){return this.hashString(a,"sha512")};this.sha512Hex=function(a){return this.hashHex(a,"sha512")};this.isKey=function(a){if(a instanceof RSAKey||a instanceof KJUR.crypto.DSA||a instanceof KJUR.crypto.ECDSA){return true}else{return false}}};KJUR.crypto.Util.md5=function(a){var b=new KJUR.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return b.digestString(a)};KJUR.crypto.Util.ripemd160=function(a){var b=new KJUR.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return b.digestString(a)};KJUR.crypto.Util.SECURERANDOMGEN=new SecureRandom();KJUR.crypto.Util.getRandomHexOfNbytes=function(b){var a=new Array(b);KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(a);return BAtohex(a)};KJUR.crypto.Util.getRandomBigIntegerOfNbytes=function(a){return new BigInteger(KJUR.crypto.Util.getRandomHexOfNbytes(a),16)};KJUR.crypto.Util.getRandomHexOfNbits=function(d){var c=d%8;var a=(d-c)/8;var b=new Array(a+1);KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(b);b[0]=(((255<<c)&255)^255)&b[0];return BAtohex(b)};KJUR.crypto.Util.getRandomBigIntegerOfNbits=function(a){return new BigInteger(KJUR.crypto.Util.getRandomHexOfNbits(a),16)};KJUR.crypto.Util.getRandomBigIntegerZeroToMax=function(b){var a=b.bitLength();while(1){var c=KJUR.crypto.Util.getRandomBigIntegerOfNbits(a);if(b.compareTo(c)!=-1){return c}}};KJUR.crypto.Util.getRandomBigIntegerMinToMax=function(e,b){var c=e.compareTo(b);if(c==1){throw"biMin is greater than biMax"}if(c==0){return e}var a=b.subtract(e);var d=KJUR.crypto.Util.getRandomBigIntegerZeroToMax(a);return d.add(e)};KJUR.crypto.MessageDigest=function(c){var b=null;var a=null;var d=null;this.setAlgAndProvider=function(g,f){g=KJUR.crypto.MessageDigest.getCanonicalAlgName(g);if(g!==null&&f===undefined){f=KJUR.crypto.Util.DEFAULTPROVIDER[g]}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(g)!=-1&&f=="cryptojs"){try{this.md=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[g].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+g+"/"+e}this.updateString=function(h){this.md.update(h)};this.updateHex=function(h){var i=CryptoJS.enc.Hex.parse(h);this.md.update(i)};this.digest=function(){var h=this.md.finalize();return h.toString(CryptoJS.enc.Hex)};this.digestString=function(h){this.updateString(h);return this.digest()};this.digestHex=function(h){this.updateHex(h);return this.digest()}}if(":sha256:".indexOf(g)!=-1&&f=="sjcl"){try{this.md=new sjcl.hash.sha256()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+g+"/"+e}this.updateString=function(h){this.md.update(h)};this.updateHex=function(i){var h=sjcl.codec.hex.toBits(i);this.md.update(h)};this.digest=function(){var h=this.md.finalize();return sjcl.codec.hex.fromBits(h)};this.digestString=function(h){this.updateString(h);return this.digest()};this.digestHex=function(h){this.updateHex(h);return this.digest()}}};this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};if(c!==undefined){if(c.alg!==undefined){this.algName=c.alg;if(c.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};KJUR.crypto.MessageDigest.getCanonicalAlgName=function(a){if(typeof a==="string"){a=a.toLowerCase();a=a.replace(/-/,"")}return a};KJUR.crypto.MessageDigest.getHashLength=function(c){var b=KJUR.crypto.MessageDigest;var a=b.getCanonicalAlgName(c);if(b.HASHLENGTH[a]===undefined){throw"not supported algorithm: "+c}return b.HASHLENGTH[a]};KJUR.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};KJUR.crypto.Mac=function(d){var f=null;var c=null;var a=null;var e=null;var b=null;this.setAlgAndProvider=function(k,i){k=k.toLowerCase();if(k==null){k="hmacsha1"}k=k.toLowerCase();if(k.substr(0,4)!="hmac"){throw"setAlgAndProvider unsupported HMAC alg: "+k}if(i===undefined){i=KJUR.crypto.Util.DEFAULTPROVIDER[k]}this.algProv=k+"/"+i;var g=k.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(g)!=-1&&i=="cryptojs"){try{var j=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[g];this.mac=CryptoJS.algo.HMAC.create(j,this.pass)}catch(h){throw"setAlgAndProvider hash alg set fail hashAlg="+g+"/"+h}this.updateString=function(l){this.mac.update(l)};this.updateHex=function(l){var m=CryptoJS.enc.Hex.parse(l);this.mac.update(m)};this.doFinal=function(){var l=this.mac.finalize();return l.toString(CryptoJS.enc.Hex)};this.doFinalString=function(l){this.updateString(l);return this.doFinal()};this.doFinalHex=function(l){this.updateHex(l);return this.doFinal()}}};this.updateString=function(g){throw"updateString(str) not supported for this alg/prov: "+this.algProv};this.updateHex=function(g){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv};this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv};this.doFinalString=function(g){throw"digestString(str) not supported for this alg/prov: "+this.algProv};this.doFinalHex=function(g){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv};this.setPassword=function(h){if(typeof h=="string"){var g=h;if(h.length%2==1||!h.match(/^[0-9A-Fa-f]+$/)){g=rstrtohex(h)}this.pass=CryptoJS.enc.Hex.parse(g);return}if(typeof h!="object"){throw"KJUR.crypto.Mac unsupported password type: "+h}var g=null;if(h.hex!==undefined){if(h.hex.length%2!=0||!h.hex.match(/^[0-9A-Fa-f]+$/)){throw"Mac: wrong hex password: "+h.hex}g=h.hex}if(h.utf8!==undefined){g=utf8tohex(h.utf8)}if(h.rstr!==undefined){g=rstrtohex(h.rstr)}if(h.b64!==undefined){g=b64tohex(h.b64)}if(h.b64u!==undefined){g=b64utohex(h.b64u)}if(g==null){throw"KJUR.crypto.Mac unsupported password type: "+h}this.pass=CryptoJS.enc.Hex.parse(g)};if(d!==undefined){if(d.pass!==undefined){this.setPassword(d.pass)}if(d.alg!==undefined){this.algName=d.alg;if(d.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};KJUR.crypto.Signature=function(o){var q=null;var n=null;var r=null;var c=null;var l=null;var d=null;var k=null;var h=null;var p=null;var e=null;var b=-1;var g=null;var j=null;var a=null;var i=null;var f=null;this._setAlgNames=function(){var s=this.algName.match(/^(.+)with(.+)$/);if(s){this.mdAlgName=s[1].toLowerCase();this.pubkeyAlgName=s[2].toLowerCase()}};this._zeroPaddingOfSignature=function(x,w){var v="";var t=w/4-x.length;for(var u=0;u<t;u++){v=v+"0"}return v+x};this.setAlgAndProvider=function(u,t){this._setAlgNames();if(t!="cryptojs/jsrsa"){throw"provider not supported: "+t}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new KJUR.crypto.MessageDigest({alg:this.mdAlgName})}catch(s){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+s}this.init=function(w,x){var y=null;try{if(x===undefined){y=KEYUTIL.getKey(w)}else{y=KEYUTIL.getKey(w,x)}}catch(v){throw"init failed:"+v}if(y.isPrivate===true){this.prvKey=y;this.state="SIGN"}else{if(y.isPublic===true){this.pubKey=y;this.state="VERIFY"}else{throw"init failed.:"+y}}};this.updateString=function(v){this.md.updateString(v)};this.updateHex=function(v){this.md.updateHex(v)};this.sign=function(){this.sHashHex=this.md.digest();if(this.prvKey===undefined&&this.ecprvhex!==undefined&&this.eccurvename!==undefined&&KJUR.crypto.ECDSA!==undefined){this.prvKey=new KJUR.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})}if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName==="rsaandmgf1"){this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName==="rsa"){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName)}else{if(this.prvKey instanceof KJUR.crypto.ECDSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{if(this.prvKey instanceof KJUR.crypto.DSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{throw"Signature: unsupported private key alg: "+this.pubkeyAlgName}}}}return this.hSign};this.signString=function(v){this.updateString(v);return this.sign()};this.signHex=function(v){this.updateHex(v);return this.sign()};this.verify=function(v){this.sHashHex=this.md.digest();if(this.pubKey===undefined&&this.ecpubhex!==undefined&&this.eccurvename!==undefined&&KJUR.crypto.ECDSA!==undefined){this.pubKey=new KJUR.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})}if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName==="rsaandmgf1"){return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,v,this.mdAlgName,this.pssSaltLen)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName==="rsa"){return this.pubKey.verifyWithMessageHash(this.sHashHex,v)}else{if(KJUR.crypto.ECDSA!==undefined&&this.pubKey instanceof KJUR.crypto.ECDSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,v)}else{if(KJUR.crypto.DSA!==undefined&&this.pubKey instanceof KJUR.crypto.DSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,v)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}}};this.init=function(s,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName};this.updateString=function(s){throw"updateString(str) not supported for this alg:prov="+this.algProvName};this.updateHex=function(s){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName};this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName};this.signString=function(s){throw"digestString(str) not supported for this alg:prov="+this.algProvName};this.signHex=function(s){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName};this.verify=function(s){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName};this.initParams=o;if(o!==undefined){if(o.alg!==undefined){this.algName=o.alg;if(o.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}else{this.provName=o.prov}this.algProvName=this.algName+":"+this.provName;this.setAlgAndProvider(this.algName,this.provName);this._setAlgNames()}if(o.psssaltlen!==undefined){this.pssSaltLen=o.psssaltlen}if(o.prvkeypem!==undefined){if(o.prvkeypas!==undefined){throw"both prvkeypem and prvkeypas parameters not supported"}else{try{var q=KEYUTIL.getKey(o.prvkeypem);this.init(q)}catch(m){throw"fatal error to load pem private key: "+m}}}}};KJUR.crypto.Cipher=function(a){};KJUR.crypto.Cipher.encrypt=function(e,f,d){if(f instanceof RSAKey&&f.isPublic){var c=KJUR.crypto.Cipher.getAlgByKeyAndName(f,d);if(c==="RSA"){return f.encrypt(e)}if(c==="RSAOAEP"){return f.encryptOAEP(e,"sha1")}var b=c.match(/^RSAOAEP(\d+)$/);if(b!==null){return f.encryptOAEP(e,"sha"+b[1])}throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+d}else{throw"Cipher.encrypt: unsupported key or algorithm"}};KJUR.crypto.Cipher.decrypt=function(e,f,d){if(f instanceof RSAKey&&f.isPrivate){var c=KJUR.crypto.Cipher.getAlgByKeyAndName(f,d);if(c==="RSA"){return f.decrypt(e)}if(c==="RSAOAEP"){return f.decryptOAEP(e,"sha1")}var b=c.match(/^RSAOAEP(\d+)$/);if(b!==null){return f.decryptOAEP(e,"sha"+b[1])}throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+d}else{throw"Cipher.decrypt: unsupported key or algorithm"}};KJUR.crypto.Cipher.getAlgByKeyAndName=function(b,a){if(b instanceof RSAKey){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(a)!=-1){return a}if(a===null||a===undefined){return"RSA"}throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+a}throw"getAlgByKeyAndName: not supported algorithm name: "+a};KJUR.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA",}};
if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.ECDSA=function(d){var f="secp256r1";var l=null;var b=null;var h=null;var e=BigInteger,g=ECPointFp,j=KJUR.crypto.ECDSA,c=KJUR.crypto.ECParameterDB;var a=new SecureRandom();var k=null;this.type="EC";this.isPrivate=false;this.isPublic=false;function i(t,p,s,o){var n=Math.max(p.bitLength(),o.bitLength());var u=t.add2D(s);var r=t.curve.getInfinity();for(var q=n-1;q>=0;--q){r=r.twice2D();r.z=e.ONE;if(p.testBit(q)){if(o.testBit(q)){r=r.add2D(u)}else{r=r.add2D(t)}}else{if(o.testBit(q)){r=r.add2D(s)}}}return r}this.getBigRandom=function(m){return new e(m.bitLength(),a).mod(m.subtract(e.ONE)).add(e.ONE)};this.setNamedCurve=function(m){this.ecparams=c.getByName(m);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=m};this.setPrivateKeyHex=function(m){this.isPrivate=true;this.prvKeyHex=m};this.setPublicKeyHex=function(m){this.isPublic=true;this.pubKeyHex=m};this.getPublicKeyXYHex=function(){var o=this.pubKeyHex;if(o.substr(0,2)!=="04"){throw"this method supports uncompressed format(04) only"}var n=this.ecparams.keylen/4;if(o.length!==2+n*2){throw"malformed public key hex length"}var m={};m.x=o.substr(2,n);m.y=o.substr(2+n);return m};this.getShortNISTPCurveName=function(){var m=this.curveName;if(m==="secp256r1"||m==="NIST P-256"||m==="P-256"||m==="prime256v1"){return"P-256"}if(m==="secp384r1"||m==="NIST P-384"||m==="P-384"){return"P-384"}return null};this.generateKeyPairHex=function(){var o=this.ecparams.n;var r=this.getBigRandom(o);var p=this.ecparams.G.multiply(r);var u=p.getX().toBigInteger();var s=p.getY().toBigInteger();var m=this.ecparams.keylen/4;var q=("0000000000"+r.toString(16)).slice(-m);var v=("0000000000"+u.toString(16)).slice(-m);var t=("0000000000"+s.toString(16)).slice(-m);var n="04"+v+t;this.setPrivateKeyHex(q);this.setPublicKeyHex(n);return{ecprvhex:q,ecpubhex:n}};this.signWithMessageHash=function(m){return this.signHex(m,this.prvKeyHex)};this.signHex=function(t,o){var w=new e(o,16);var p=this.ecparams.n;var v=new e(t.substring(0,this.ecparams.keylen/4),16);do{var q=this.getBigRandom(p);var x=this.ecparams.G;var u=x.multiply(q);var m=u.getX().toBigInteger().mod(p)}while(m.compareTo(e.ZERO)<=0);var y=q.modInverse(p).multiply(v.add(w.multiply(m))).mod(p);return j.biRSSigToASN1Sig(m,y)};this.sign=function(q,x){var v=x;var o=this.ecparams.n;var u=e.fromByteArrayUnsigned(q);do{var p=this.getBigRandom(o);var w=this.ecparams.G;var t=w.multiply(p);var m=t.getX().toBigInteger().mod(o)}while(m.compareTo(BigInteger.ZERO)<=0);var y=p.modInverse(o).multiply(u.add(v.multiply(m))).mod(o);return this.serializeSig(m,y)};this.verifyWithMessageHash=function(n,m){return this.verifyHex(n,m,this.pubKeyHex)};this.verifyHex=function(o,t,n){try{var m,w;var p=j.parseSigHex(t);m=p.r;w=p.s;var q=g.decodeFromHex(this.ecparams.curve,n);var u=new e(o.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(u,m,w,q)}catch(v){return false}};this.verify=function(u,v,n){var p,m;if(Bitcoin.Util.isArray(v)){var t=this.parseSig(v);p=t.r;m=t.s}else{if("object"===typeof v&&v.r&&v.s){p=v.r;m=v.s}else{throw"Invalid value for signature"}}var o;if(n instanceof ECPointFp){o=n}else{if(Bitcoin.Util.isArray(n)){o=g.decodeFrom(this.ecparams.curve,n)}else{throw"Invalid format for pubkey value, must be byte array or ECPointFp"}}var q=e.fromByteArrayUnsigned(u);return this.verifyRaw(q,p,m,o)};this.verifyRaw=function(u,m,A,t){var q=this.ecparams.n;var z=this.ecparams.G;if(m.compareTo(e.ONE)<0||m.compareTo(q)>=0){return false}if(A.compareTo(e.ONE)<0||A.compareTo(q)>=0){return false}var w=A.modInverse(q);var p=u.multiply(w).mod(q);var o=m.multiply(w).mod(q);var x=z.multiply(p).add(t.multiply(o));var y=x.getX().toBigInteger().mod(q);return y.equals(m)};this.serializeSig=function(o,n){var p=o.toByteArraySigned();var m=n.toByteArraySigned();var q=[];q.push(2);q.push(p.length);q=q.concat(p);q.push(2);q.push(m.length);q=q.concat(m);q.unshift(q.length);q.unshift(48);return q};this.parseSig=function(t){var q;if(t[0]!=48){throw new Error("Signature not a valid DERSequence")}q=2;if(t[q]!=2){throw new Error("First element in signature must be a DERInteger")}var p=t.slice(q+2,q+2+t[q+1]);q+=2+t[q+1];if(t[q]!=2){throw new Error("Second element in signature must be a DERInteger")}var m=t.slice(q+2,q+2+t[q+1]);q+=2+t[q+1];var o=e.fromByteArrayUnsigned(p);var n=e.fromByteArrayUnsigned(m);return{r:o,s:n}};this.parseSigCompact=function(q){if(q.length!==65){throw"Signature has the wrong length"}var m=q[0]-27;if(m<0||m>7){throw"Invalid signature type"}var t=this.ecparams.n;var p=e.fromByteArrayUnsigned(q.slice(1,33)).mod(t);var o=e.fromByteArrayUnsigned(q.slice(33,65)).mod(t);return{r:p,s:o,i:m}};this.readPKCS5PrvKeyHex=function(p){var r=ASN1HEX,q=j.getName,t=r.getVbyList;if(r.isASN1HEX(p)===false){throw"not ASN.1 hex string"}var m,o,s;try{m=t(p,0,[2,0],"06");o=t(p,0,[1],"04");try{s=t(p,0,[3,0],"03").substr(2)}catch(n){}}catch(n){throw"malformed PKCS#1/5 plain ECC private key"}this.curveName=q(m);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(s);this.setPrivateKeyHex(o);this.isPublic=false};this.readPKCS8PrvKeyHex=function(p){var u=ASN1HEX;var m=KJUR.crypto.ECDSA.getName;var r=u.getVbyList;if(u.isASN1HEX(p)===false){throw"not ASN.1 hex string"}var n,t,q,o;try{n=r(p,0,[1,0],"06");t=r(p,0,[1,1],"06");q=r(p,0,[2,0,1],"04");try{o=r(p,0,[2,0,2,0],"03").substr(2)}catch(s){}}catch(s){throw"malformed PKCS#8 plain ECC private key"}this.curveName=m(t);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(o);this.setPrivateKeyHex(q);this.isPublic=false};this.readPKCS8PubKeyHex=function(p){var r=ASN1HEX;var q=KJUR.crypto.ECDSA.getName;var t=r.getVbyList;if(r.isASN1HEX(p)===false){throw"not ASN.1 hex string"}var o,m,s;try{o=t(p,0,[0,0],"06");m=t(p,0,[0,1],"06");s=t(p,0,[1],"03").substr(2)}catch(n){throw"malformed PKCS#8 ECC public key"}this.curveName=q(m);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(s)};this.readCertPubKeyHex=function(o,t){if(t!==5){t=6}var q=ASN1HEX;var p=j.getName;var s=q.getVbyList;if(q.isASN1HEX(o)===false){throw"not ASN.1 hex string"}var m,r;try{m=s(o,0,[0,t,0,1],"06");r=s(o,0,[0,t,1],"03").substr(2)}catch(n){throw"malformed X.509 certificate ECC public key"}this.curveName=p(m);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(r)};if(d!==undefined){if(d.curve!==undefined){this.curveName=d.curve}}if(this.curveName===undefined){this.curveName=f}this.setNamedCurve(this.curveName);if(d!==undefined){if(d.prv!==undefined){this.setPrivateKeyHex(d.prv)}if(d.pub!==undefined){this.setPublicKeyHex(d.pub)}}};KJUR.crypto.ECDSA.parseSigHex=function(a){var b=KJUR.crypto.ECDSA.parseSigHexInHexRS(a);var d=new BigInteger(b.r,16);var c=new BigInteger(b.s,16);return{r:d,s:c}};KJUR.crypto.ECDSA.parseSigHexInHexRS=function(f){var j=ASN1HEX,i=j.getChildIdx,g=j.getV;j.checkStrictDER(f,0);if(f.substr(0,2)!="30"){throw new Error("signature is not a ASN.1 sequence")}var h=i(f,0);if(h.length!=2){throw new Error("signature shall have two elements")}var e=h[0];var d=h[1];if(f.substr(e,2)!="02"){throw new Error("1st item not ASN.1 integer")}if(f.substr(d,2)!="02"){throw new Error("2nd item not ASN.1 integer")}var c=g(f,e);var b=g(f,d);return{r:c,s:b}};KJUR.crypto.ECDSA.asn1SigToConcatSig=function(c){var d=KJUR.crypto.ECDSA.parseSigHexInHexRS(c);var b=d.r;var a=d.s;if(b.substr(0,2)=="00"&&(b.length%32)==2){b=b.substr(2)}if(a.substr(0,2)=="00"&&(a.length%32)==2){a=a.substr(2)}if((b.length%32)==30){b="00"+b}if((a.length%32)==30){a="00"+a}if(b.length%32!=0){throw"unknown ECDSA sig r length error"}if(a.length%32!=0){throw"unknown ECDSA sig s length error"}return b+a};KJUR.crypto.ECDSA.concatSigToASN1Sig=function(a){if((((a.length/2)*8)%(16*8))!=0){throw"unknown ECDSA concatinated r-s sig  length error"}var c=a.substr(0,a.length/2);var b=a.substr(a.length/2);return KJUR.crypto.ECDSA.hexRSSigToASN1Sig(c,b)};KJUR.crypto.ECDSA.hexRSSigToASN1Sig=function(b,a){var d=new BigInteger(b,16);var c=new BigInteger(a,16);return KJUR.crypto.ECDSA.biRSSigToASN1Sig(d,c)};KJUR.crypto.ECDSA.biRSSigToASN1Sig=function(f,d){var c=KJUR.asn1;var b=new c.DERInteger({bigint:f});var a=new c.DERInteger({bigint:d});var e=new c.DERSequence({array:[b,a]});return e.getEncodedHex()};KJUR.crypto.ECDSA.getName=function(a){if(a==="2b8104001f"){return"secp192k1"}if(a==="2a8648ce3d030107"){return"secp256r1"}if(a==="2b8104000a"){return"secp256k1"}if(a==="2b81040021"){return"secp224r1"}if(a==="2b81040022"){return"secp384r1"}if("|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(a)!==-1){return"secp256r1"}if("|secp256k1|".indexOf(a)!==-1){return"secp256k1"}if("|secp224r1|NIST P-224|P-224|".indexOf(a)!==-1){return"secp224r1"}if("|secp384r1|NIST P-384|P-384|".indexOf(a)!==-1){return"secp384r1"}return null};
if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.ECParameterDB=new function(){var b={};var c={};function a(d){return new BigInteger(d,16)}this.getByName=function(e){var d=e;if(typeof c[d]!="undefined"){d=c[e]}if(typeof b[d]!="undefined"){return b[d]}throw"unregistered EC curve name: "+d};this.regist=function(A,l,o,g,m,e,j,f,k,u,d,x){b[A]={};var s=a(o);var z=a(g);var y=a(m);var t=a(e);var w=a(j);var r=new ECCurveFp(s,z,y);var q=r.decodePointHex("04"+f+k);b[A]["name"]=A;b[A]["keylen"]=l;b[A]["curve"]=r;b[A]["G"]=q;b[A]["n"]=t;b[A]["h"]=w;b[A]["oid"]=d;b[A]["info"]=x;for(var v=0;v<u.length;v++){c[u[v]]=A}}};KJUR.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");KJUR.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");KJUR.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");KJUR.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);KJUR.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);KJUR.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);KJUR.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);KJUR.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);KJUR.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);KJUR.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);
if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.DSA=function(){this.p=null;this.q=null;this.g=null;this.y=null;this.x=null;this.type="DSA";this.isPrivate=false;this.isPublic=false;this.setPrivate=function(d,c,b,e,a){this.isPrivate=true;this.p=d;this.q=c;this.g=b;this.y=e;this.x=a};this.setPrivateHex=function(d,b,f,i,j){var c,a,e,g,h;c=new BigInteger(d,16);a=new BigInteger(b,16);e=new BigInteger(f,16);if(typeof i==="string"&&i.length>1){g=new BigInteger(i,16)}else{g=null}h=new BigInteger(j,16);this.setPrivate(c,a,e,g,h)};this.setPublic=function(c,b,a,d){this.isPublic=true;this.p=c;this.q=b;this.g=a;this.y=d;this.x=null};this.setPublicHex=function(f,e,d,g){var b,a,h,c;b=new BigInteger(f,16);a=new BigInteger(e,16);h=new BigInteger(d,16);c=new BigInteger(g,16);this.setPublic(b,a,h,c)};this.signWithMessageHash=function(d){var c=this.p;var b=this.q;var f=this.g;var i=this.y;var j=this.x;var e=KJUR.crypto.Util.getRandomBigIntegerMinToMax(BigInteger.ONE.add(BigInteger.ONE),b.subtract(BigInteger.ONE));var l=d.substr(0,b.bitLength()/4);var h=new BigInteger(l,16);var a=(f.modPow(e,c)).mod(b);var n=(e.modInverse(b).multiply(h.add(j.multiply(a)))).mod(b);var m=KJUR.asn1.ASN1Util.jsonToASN1HEX({seq:[{"int":{bigint:a}},{"int":{bigint:n}}]});return m};this.verifyWithMessageHash=function(h,f){var d=this.p;var b=this.q;var j=this.g;var l=this.y;var i=this.parseASN1Signature(f);var a=i[0];var t=i[1];var o=h.substr(0,b.bitLength()/4);var k=new BigInteger(o,16);if(BigInteger.ZERO.compareTo(a)>0||a.compareTo(b)>0){throw"invalid DSA signature"}if(BigInteger.ZERO.compareTo(t)>=0||t.compareTo(b)>0){throw"invalid DSA signature"}var m=t.modInverse(b);var e=k.multiply(m).mod(b);var c=a.multiply(m).mod(b);var n=j.modPow(e,d).multiply(l.modPow(c,d)).mod(d).mod(b);return n.compareTo(a)==0};this.parseASN1Signature=function(a){try{var d=new BigInteger(ASN1HEX.getVbyList(a,0,[0],"02"),16);var c=new BigInteger(ASN1HEX.getVbyList(a,0,[1],"02"),16);return[d,c]}catch(b){throw"malformed ASN.1 DSA signature"}};this.readPKCS5PrvKeyHex=function(c){var b,a,f,g,i;var j=ASN1HEX;var d=j.getVbyList;if(j.isASN1HEX(c)===false){throw"not ASN.1 hex string"}try{b=d(c,0,[1],"02");a=d(c,0,[2],"02");f=d(c,0,[3],"02");g=d(c,0,[4],"02");i=d(c,0,[5],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(b,a,f,g,i)};this.readPKCS8PrvKeyHex=function(d){var f,c,b,g;var e=ASN1HEX;var i=e.getVbyList;if(e.isASN1HEX(d)===false){throw"not ASN.1 hex string"}try{f=i(d,0,[1,1,0],"02");c=i(d,0,[1,1,1],"02");b=i(d,0,[1,1,2],"02");g=i(d,0,[2,0],"02")}catch(a){console.log("EXCEPTION:"+a);throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(f,c,b,null,g)};this.readPKCS8PubKeyHex=function(d){var f,c,b,g;var e=ASN1HEX;var i=e.getVbyList;if(e.isASN1HEX(d)===false){throw"not ASN.1 hex string"}try{f=i(d,0,[0,1,0],"02");c=i(d,0,[0,1,1],"02");b=i(d,0,[0,1,2],"02");g=i(d,0,[1,0],"02")}catch(a){console.log("EXCEPTION:"+a);throw"malformed PKCS#8 DSA public key"}this.setPublicHex(f,c,b,g)};this.readCertPubKeyHex=function(c,f){if(f!==5){f=6}var b,a,g,i;var j=ASN1HEX;var d=j.getVbyList;if(j.isASN1HEX(c)===false){throw"not ASN.1 hex string"}try{b=d(c,0,[0,f,0,1,0],"02");a=d(c,0,[0,f,0,1,1],"02");g=d(c,0,[0,f,0,1,2],"02");i=d(c,0,[0,f,1,0],"02")}catch(e){console.log("EXCEPTION:"+e);throw"malformed X.509 certificate DSA public key"}this.setPublicHex(b,a,g,i)}};
var KEYUTIL=function(){var d=function(p,r,q){return k(CryptoJS.AES,p,r,q)};var e=function(p,r,q){return k(CryptoJS.TripleDES,p,r,q)};var a=function(p,r,q){return k(CryptoJS.DES,p,r,q)};var k=function(s,x,u,q){var r=CryptoJS.enc.Hex.parse(x);var w=CryptoJS.enc.Hex.parse(u);var p=CryptoJS.enc.Hex.parse(q);var t={};t.key=w;t.iv=p;t.ciphertext=r;var v=s.decrypt(t,w,{iv:p});return CryptoJS.enc.Hex.stringify(v)};var l=function(p,r,q){return g(CryptoJS.AES,p,r,q)};var o=function(p,r,q){return g(CryptoJS.TripleDES,p,r,q)};var f=function(p,r,q){return g(CryptoJS.DES,p,r,q)};var g=function(t,y,v,q){var s=CryptoJS.enc.Hex.parse(y);var x=CryptoJS.enc.Hex.parse(v);var p=CryptoJS.enc.Hex.parse(q);var w=t.encrypt(s,x,{iv:p});var r=CryptoJS.enc.Hex.parse(w.toString());var u=CryptoJS.enc.Base64.stringify(r);return u};var i={"AES-256-CBC":{proc:d,eproc:l,keylen:32,ivlen:16},"AES-192-CBC":{proc:d,eproc:l,keylen:24,ivlen:16},"AES-128-CBC":{proc:d,eproc:l,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:e,eproc:o,keylen:24,ivlen:8},"DES-CBC":{proc:a,eproc:f,keylen:8,ivlen:8}};var c=function(p){return i[p]["proc"]};var m=function(p){var r=CryptoJS.lib.WordArray.random(p);var q=CryptoJS.enc.Hex.stringify(r);return q};var n=function(v){var w={};var q=v.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(q){w.cipher=q[1];w.ivsalt=q[2]}var p=v.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(p){w.type=p[1]}var u=-1;var x=0;if(v.indexOf("\r\n\r\n")!=-1){u=v.indexOf("\r\n\r\n");x=2}if(v.indexOf("\n\n")!=-1){u=v.indexOf("\n\n");x=1}var t=v.indexOf("-----END");if(u!=-1&&t!=-1){var r=v.substring(u+x*2,t-x);r=r.replace(/\s+/g,"");w.data=r}return w};var j=function(q,y,p){var v=p.substring(0,16);var t=CryptoJS.enc.Hex.parse(v);var r=CryptoJS.enc.Utf8.parse(y);var u=i[q]["keylen"]+i[q]["ivlen"];var x="";var w=null;for(;;){var s=CryptoJS.algo.MD5.create();if(w!=null){s.update(w)}s.update(r);s.update(t);w=s.finalize();x=x+CryptoJS.enc.Hex.stringify(w);if(x.length>=u*2){break}}var z={};z.keyhex=x.substr(0,i[q]["keylen"]*2);z.ivhex=x.substr(i[q]["keylen"]*2,i[q]["ivlen"]*2);return z};var b=function(p,v,r,w){var s=CryptoJS.enc.Base64.parse(p);var q=CryptoJS.enc.Hex.stringify(s);var u=i[v]["proc"];var t=u(q,r,w);return t};var h=function(p,s,q,u){var r=i[s]["eproc"];var t=r(p,q,u);return t};return{version:"1.0.0",parsePKCS5PEM:function(p){return n(p)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(q,p,r){return j(q,p,r)},decryptKeyB64:function(p,r,q,s){return b(p,r,q,s)},getDecryptedKeyHex:function(y,x){var q=n(y);var t=q.type;var r=q.cipher;var p=q.ivsalt;var s=q.data;var w=j(r,x,p);var v=w.keyhex;var u=b(s,r,v,p);return u},getEncryptedPKCS5PEMFromPrvKeyHex:function(x,s,A,t,r){var p="";if(typeof t=="undefined"||t==null){t="AES-256-CBC"}if(typeof i[t]=="undefined"){throw"KEYUTIL unsupported algorithm: "+t}if(typeof r=="undefined"||r==null){var v=i[t]["ivlen"];var u=m(v);r=u.toUpperCase()}var z=j(t,A,r);var y=z.keyhex;var w=h(s,t,y,r);var q=w.replace(/(.{64})/g,"$1\r\n");var p="-----BEGIN "+x+" PRIVATE KEY-----\r\n";p+="Proc-Type: 4,ENCRYPTED\r\n";p+="DEK-Info: "+t+","+r+"\r\n";p+="\r\n";p+=q;p+="\r\n-----END "+x+" PRIVATE KEY-----\r\n";return p},parseHexOfEncryptedPKCS8:function(y){var B=ASN1HEX;var z=B.getChildIdx;var w=B.getV;var t={};var r=z(y,0);if(r.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+r.length}t.ciphertext=w(y,r[1]);var A=z(y,r[0]);if(A.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+A.length}if(w(y,A[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var p=z(y,A[1]);if(A.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+p.length}var q=z(y,p[1]);if(q.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+q.length}if(w(y,q[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}t.encryptionSchemeAlg="TripleDES";t.encryptionSchemeIV=w(y,q[1]);var s=z(y,p[0]);if(s.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+s.length}if(w(y,s[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var x=z(y,s[1]);if(x.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+x.length}t.pbkdf2Salt=w(y,x[0]);var u=w(y,x[1]);try{t.pbkdf2Iter=parseInt(u,16)}catch(v){throw"malformed format pbkdf2Iter: "+u}return t},getPBKDF2KeyHexFromParam:function(u,p){var t=CryptoJS.enc.Hex.parse(u.pbkdf2Salt);var q=u.pbkdf2Iter;var s=CryptoJS.PBKDF2(p,t,{keySize:192/32,iterations:q});var r=CryptoJS.enc.Hex.stringify(s);return r},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(x,y){var r=pemtohex(x,"ENCRYPTED PRIVATE KEY");var p=this.parseHexOfEncryptedPKCS8(r);var u=KEYUTIL.getPBKDF2KeyHexFromParam(p,y);var v={};v.ciphertext=CryptoJS.enc.Hex.parse(p.ciphertext);var t=CryptoJS.enc.Hex.parse(u);var s=CryptoJS.enc.Hex.parse(p.encryptionSchemeIV);var w=CryptoJS.TripleDES.decrypt(v,t,{iv:s});var q=CryptoJS.enc.Hex.stringify(w);return q},getKeyFromEncryptedPKCS8PEM:function(s,q){var p=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(s,q);var r=this.getKeyFromPlainPrivatePKCS8Hex(p);return r},parsePlainPrivatePKCS8Hex:function(s){var v=ASN1HEX;var u=v.getChildIdx;var t=v.getV;var q={};q.algparam=null;if(s.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var r=u(s,0);if(r.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(s.substr(r[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var p=u(s,r[1]);if(p.length!=2){throw"malformed PKCS8 private key(code:004)"}if(s.substr(p[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}q.algoid=t(s,p[0]);if(s.substr(p[1],2)=="06"){q.algparam=t(s,p[1])}if(s.substr(r[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}q.keyidx=v.getVidx(s,r[2]);return q},getKeyFromPlainPrivatePKCS8PEM:function(q){var p=pemtohex(q,"PRIVATE KEY");var r=this.getKeyFromPlainPrivatePKCS8Hex(p);return r},getKeyFromPlainPrivatePKCS8Hex:function(p){var q=this.parsePlainPrivatePKCS8Hex(p);var r;if(q.algoid=="2a864886f70d010101"){r=new RSAKey()}else{if(q.algoid=="2a8648ce380401"){r=new KJUR.crypto.DSA()}else{if(q.algoid=="2a8648ce3d0201"){r=new KJUR.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}r.readPKCS8PrvKeyHex(p);return r},_getKeyFromPublicPKCS8Hex:function(q){var p;var r=ASN1HEX.getVbyList(q,0,[0,0],"06");if(r==="2a864886f70d010101"){p=new RSAKey()}else{if(r==="2a8648ce380401"){p=new KJUR.crypto.DSA()}else{if(r==="2a8648ce3d0201"){p=new KJUR.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}p.readPKCS8PubKeyHex(q);return p},parsePublicRawRSAKeyHex:function(r){var u=ASN1HEX;var t=u.getChildIdx;var s=u.getV;var p={};if(r.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var q=t(r,0);if(q.length!=2){throw"malformed RSA key(code:002)"}if(r.substr(q[0],2)!="02"){throw"malformed RSA key(code:003)"}p.n=s(r,q[0]);if(r.substr(q[1],2)!="02"){throw"malformed RSA key(code:004)"}p.e=s(r,q[1]);return p},parsePublicPKCS8Hex:function(t){var v=ASN1HEX;var u=v.getChildIdx;var s=v.getV;var q={};q.algparam=null;var r=u(t,0);if(r.length!=2){throw"outer DERSequence shall have 2 elements: "+r.length}var w=r[0];if(t.substr(w,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var p=u(t,w);if(p.length!=2){throw"malformed PKCS8 public key(code:002)"}if(t.substr(p[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}q.algoid=s(t,p[0]);if(t.substr(p[1],2)=="06"){q.algparam=s(t,p[1])}else{if(t.substr(p[1],2)=="30"){q.algparam={};q.algparam.p=v.getVbyList(t,p[1],[0],"02");q.algparam.q=v.getVbyList(t,p[1],[1],"02");q.algparam.g=v.getVbyList(t,p[1],[2],"02")}}if(t.substr(r[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}q.key=s(t,r[1]).substr(2);return q},}}();KEYUTIL.getKey=function(l,k,n){var G=ASN1HEX,L=G.getChildIdx,v=G.getV,d=G.getVbyList,c=KJUR.crypto,i=c.ECDSA,C=c.DSA,w=RSAKey,M=pemtohex,F=KEYUTIL;if(typeof w!="undefined"&&l instanceof w){return l}if(typeof i!="undefined"&&l instanceof i){return l}if(typeof C!="undefined"&&l instanceof C){return l}if(l.curve!==undefined&&l.xy!==undefined&&l.d===undefined){return new i({pub:l.xy,curve:l.curve})}if(l.curve!==undefined&&l.d!==undefined){return new i({prv:l.d,curve:l.curve})}if(l.kty===undefined&&l.n!==undefined&&l.e!==undefined&&l.d===undefined){var P=new w();P.setPublic(l.n,l.e);return P}if(l.kty===undefined&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined&&l.p!==undefined&&l.q!==undefined&&l.dp!==undefined&&l.dq!==undefined&&l.co!==undefined&&l.qi===undefined){var P=new w();P.setPrivateEx(l.n,l.e,l.d,l.p,l.q,l.dp,l.dq,l.co);return P}if(l.kty===undefined&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined&&l.p===undefined){var P=new w();P.setPrivate(l.n,l.e,l.d);return P}if(l.p!==undefined&&l.q!==undefined&&l.g!==undefined&&l.y!==undefined&&l.x===undefined){var P=new C();P.setPublic(l.p,l.q,l.g,l.y);return P}if(l.p!==undefined&&l.q!==undefined&&l.g!==undefined&&l.y!==undefined&&l.x!==undefined){var P=new C();P.setPrivate(l.p,l.q,l.g,l.y,l.x);return P}if(l.kty==="RSA"&&l.n!==undefined&&l.e!==undefined&&l.d===undefined){var P=new w();P.setPublic(b64utohex(l.n),b64utohex(l.e));return P}if(l.kty==="RSA"&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined&&l.p!==undefined&&l.q!==undefined&&l.dp!==undefined&&l.dq!==undefined&&l.qi!==undefined){var P=new w();P.setPrivateEx(b64utohex(l.n),b64utohex(l.e),b64utohex(l.d),b64utohex(l.p),b64utohex(l.q),b64utohex(l.dp),b64utohex(l.dq),b64utohex(l.qi));return P}if(l.kty==="RSA"&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined){var P=new w();P.setPrivate(b64utohex(l.n),b64utohex(l.e),b64utohex(l.d));return P}if(l.kty==="EC"&&l.crv!==undefined&&l.x!==undefined&&l.y!==undefined&&l.d===undefined){var j=new i({curve:l.crv});var t=j.ecparams.keylen/4;var B=("0000000000"+b64utohex(l.x)).slice(-t);var z=("0000000000"+b64utohex(l.y)).slice(-t);var u="04"+B+z;j.setPublicKeyHex(u);return j}if(l.kty==="EC"&&l.crv!==undefined&&l.x!==undefined&&l.y!==undefined&&l.d!==undefined){var j=new i({curve:l.crv});var t=j.ecparams.keylen/4;var B=("0000000000"+b64utohex(l.x)).slice(-t);var z=("0000000000"+b64utohex(l.y)).slice(-t);var u="04"+B+z;var b=("0000000000"+b64utohex(l.d)).slice(-t);j.setPublicKeyHex(u);j.setPrivateKeyHex(b);return j}if(n==="pkcs5prv"){var J=l,G=ASN1HEX,N,P;N=L(J,0);if(N.length===9){P=new w();P.readPKCS5PrvKeyHex(J)}else{if(N.length===6){P=new C();P.readPKCS5PrvKeyHex(J)}else{if(N.length>2&&J.substr(N[1],2)==="04"){P=new i();P.readPKCS5PrvKeyHex(J)}else{throw"unsupported PKCS#1/5 hexadecimal key"}}}return P}if(n==="pkcs8prv"){var P=F.getKeyFromPlainPrivatePKCS8Hex(l);return P}if(n==="pkcs8pub"){return F._getKeyFromPublicPKCS8Hex(l)}if(n==="x509pub"){return X509.getPublicKeyFromCertHex(l)}if(l.indexOf("-END CERTIFICATE-",0)!=-1||l.indexOf("-END X509 CERTIFICATE-",0)!=-1||l.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1){return X509.getPublicKeyFromCertPEM(l)}if(l.indexOf("-END PUBLIC KEY-")!=-1){var O=pemtohex(l,"PUBLIC KEY");return F._getKeyFromPublicPKCS8Hex(O)}if(l.indexOf("-END RSA PRIVATE KEY-")!=-1&&l.indexOf("4,ENCRYPTED")==-1){var m=M(l,"RSA PRIVATE KEY");return F.getKey(m,null,"pkcs5prv")}if(l.indexOf("-END DSA PRIVATE KEY-")!=-1&&l.indexOf("4,ENCRYPTED")==-1){var I=M(l,"DSA PRIVATE KEY");var E=d(I,0,[1],"02");var D=d(I,0,[2],"02");var K=d(I,0,[3],"02");var r=d(I,0,[4],"02");var s=d(I,0,[5],"02");var P=new C();P.setPrivate(new BigInteger(E,16),new BigInteger(D,16),new BigInteger(K,16),new BigInteger(r,16),new BigInteger(s,16));return P}if(l.indexOf("-END EC PRIVATE KEY-")!=-1&&l.indexOf("4,ENCRYPTED")==-1){var m=M(l,"EC PRIVATE KEY");return F.getKey(m,null,"pkcs5prv")}if(l.indexOf("-END PRIVATE KEY-")!=-1){return F.getKeyFromPlainPrivatePKCS8PEM(l)}if(l.indexOf("-END RSA PRIVATE KEY-")!=-1&&l.indexOf("4,ENCRYPTED")!=-1){var o=F.getDecryptedKeyHex(l,k);var H=new RSAKey();H.readPKCS5PrvKeyHex(o);return H}if(l.indexOf("-END EC PRIVATE KEY-")!=-1&&l.indexOf("4,ENCRYPTED")!=-1){var I=F.getDecryptedKeyHex(l,k);var P=d(I,0,[1],"04");var f=d(I,0,[2,0],"06");var A=d(I,0,[3,0],"03").substr(2);var e="";if(KJUR.crypto.OID.oidhex2name[f]!==undefined){e=KJUR.crypto.OID.oidhex2name[f]}else{throw"undefined OID(hex) in KJUR.crypto.OID: "+f}var j=new i({curve:e});j.setPublicKeyHex(A);j.setPrivateKeyHex(P);j.isPublic=false;return j}if(l.indexOf("-END DSA PRIVATE KEY-")!=-1&&l.indexOf("4,ENCRYPTED")!=-1){var I=F.getDecryptedKeyHex(l,k);var E=d(I,0,[1],"02");var D=d(I,0,[2],"02");var K=d(I,0,[3],"02");var r=d(I,0,[4],"02");var s=d(I,0,[5],"02");var P=new C();P.setPrivate(new BigInteger(E,16),new BigInteger(D,16),new BigInteger(K,16),new BigInteger(r,16),new BigInteger(s,16));return P}if(l.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1){return F.getKeyFromEncryptedPKCS8PEM(l,k)}throw"not supported argument"};KEYUTIL.generateKeypair=function(a,c){if(a=="RSA"){var b=c;var h=new RSAKey();h.generate(b,"10001");h.isPrivate=true;h.isPublic=true;var f=new RSAKey();var e=h.n.toString(16);var i=h.e.toString(16);f.setPublic(e,i);f.isPrivate=false;f.isPublic=true;var k={};k.prvKeyObj=h;k.pubKeyObj=f;return k}else{if(a=="EC"){var d=c;var g=new KJUR.crypto.ECDSA({curve:d});var j=g.generateKeyPairHex();var h=new KJUR.crypto.ECDSA({curve:d});h.setPublicKeyHex(j.ecpubhex);h.setPrivateKeyHex(j.ecprvhex);h.isPrivate=true;h.isPublic=false;var f=new KJUR.crypto.ECDSA({curve:d});f.setPublicKeyHex(j.ecpubhex);f.isPrivate=false;f.isPublic=true;var k={};k.prvKeyObj=h;k.pubKeyObj=f;return k}else{throw"unknown algorithm: "+a}}};KEYUTIL.getPEM=function(b,D,y,m,q,j){var F=KJUR,k=F.asn1,z=k.DERObjectIdentifier,f=k.DERInteger,l=k.ASN1Util.newObject,a=k.x509,C=a.SubjectPublicKeyInfo,e=F.crypto,u=e.DSA,r=e.ECDSA,n=RSAKey;function A(s){var G=l({seq:[{"int":0},{"int":{bigint:s.n}},{"int":s.e},{"int":{bigint:s.d}},{"int":{bigint:s.p}},{"int":{bigint:s.q}},{"int":{bigint:s.dmp1}},{"int":{bigint:s.dmq1}},{"int":{bigint:s.coeff}}]});return G}function B(G){var s=l({seq:[{"int":1},{octstr:{hex:G.prvKeyHex}},{tag:["a0",true,{oid:{name:G.curveName}}]},{tag:["a1",true,{bitstr:{hex:"00"+G.pubKeyHex}}]}]});return s}function x(s){var G=l({seq:[{"int":0},{"int":{bigint:s.p}},{"int":{bigint:s.q}},{"int":{bigint:s.g}},{"int":{bigint:s.y}},{"int":{bigint:s.x}}]});return G}if(((n!==undefined&&b instanceof n)||(u!==undefined&&b instanceof u)||(r!==undefined&&b instanceof r))&&b.isPublic==true&&(D===undefined||D=="PKCS8PUB")){var E=new C(b);var w=E.getEncodedHex();return hextopem(w,"PUBLIC KEY")}if(D=="PKCS1PRV"&&n!==undefined&&b instanceof n&&(y===undefined||y==null)&&b.isPrivate==true){var E=A(b);var w=E.getEncodedHex();return hextopem(w,"RSA PRIVATE KEY")}if(D=="PKCS1PRV"&&r!==undefined&&b instanceof r&&(y===undefined||y==null)&&b.isPrivate==true){var i=new z({name:b.curveName});var v=i.getEncodedHex();var h=B(b);var t=h.getEncodedHex();var p="";p+=hextopem(v,"EC PARAMETERS");p+=hextopem(t,"EC PRIVATE KEY");return p}if(D=="PKCS1PRV"&&u!==undefined&&b instanceof u&&(y===undefined||y==null)&&b.isPrivate==true){var E=x(b);var w=E.getEncodedHex();return hextopem(w,"DSA PRIVATE KEY")}if(D=="PKCS5PRV"&&n!==undefined&&b instanceof n&&(y!==undefined&&y!=null)&&b.isPrivate==true){var E=A(b);var w=E.getEncodedHex();if(m===undefined){m="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,y,m,j)}if(D=="PKCS5PRV"&&r!==undefined&&b instanceof r&&(y!==undefined&&y!=null)&&b.isPrivate==true){var E=B(b);var w=E.getEncodedHex();if(m===undefined){m="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,y,m,j)}if(D=="PKCS5PRV"&&u!==undefined&&b instanceof u&&(y!==undefined&&y!=null)&&b.isPrivate==true){var E=x(b);var w=E.getEncodedHex();if(m===undefined){m="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,y,m,j)}var o=function(G,s){var I=c(G,s);var H=new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:I.pbkdf2Salt}},{"int":I.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:I.encryptionSchemeIV}}]}]}]},{octstr:{hex:I.ciphertext}}]});return H.getEncodedHex()};var c=function(N,O){var H=100;var M=CryptoJS.lib.WordArray.random(8);var L="DES-EDE3-CBC";var s=CryptoJS.lib.WordArray.random(8);var I=CryptoJS.PBKDF2(O,M,{keySize:192/32,iterations:H});var J=CryptoJS.enc.Hex.parse(N);var K=CryptoJS.TripleDES.encrypt(J,I,{iv:s})+"";var G={};G.ciphertext=K;G.pbkdf2Salt=CryptoJS.enc.Hex.stringify(M);G.pbkdf2Iter=H;G.encryptionSchemeAlg=L;G.encryptionSchemeIV=CryptoJS.enc.Hex.stringify(s);return G};if(D=="PKCS8PRV"&&n!=undefined&&b instanceof n&&b.isPrivate==true){var g=A(b);var d=g.getEncodedHex();var E=l({seq:[{"int":0},{seq:[{oid:{name:"rsaEncryption"}},{"null":true}]},{octstr:{hex:d}}]});var w=E.getEncodedHex();if(y===undefined||y==null){return hextopem(w,"PRIVATE KEY")}else{var t=o(w,y);return hextopem(t,"ENCRYPTED PRIVATE KEY")}}if(D=="PKCS8PRV"&&r!==undefined&&b instanceof r&&b.isPrivate==true){var g=new l({seq:[{"int":1},{octstr:{hex:b.prvKeyHex}},{tag:["a1",true,{bitstr:{hex:"00"+b.pubKeyHex}}]}]});var d=g.getEncodedHex();var E=l({seq:[{"int":0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:b.curveName}}]},{octstr:{hex:d}}]});var w=E.getEncodedHex();if(y===undefined||y==null){return hextopem(w,"PRIVATE KEY")}else{var t=o(w,y);return hextopem(t,"ENCRYPTED PRIVATE KEY")}}if(D=="PKCS8PRV"&&u!==undefined&&b instanceof u&&b.isPrivate==true){var g=new f({bigint:b.x});var d=g.getEncodedHex();var E=l({seq:[{"int":0},{seq:[{oid:{name:"dsa"}},{seq:[{"int":{bigint:b.p}},{"int":{bigint:b.q}},{"int":{bigint:b.g}}]}]},{octstr:{hex:d}}]});var w=E.getEncodedHex();if(y===undefined||y==null){return hextopem(w,"PRIVATE KEY")}else{var t=o(w,y);return hextopem(t,"ENCRYPTED PRIVATE KEY")}}throw"unsupported object nor format"};KEYUTIL.getKeyFromCSRPEM=function(b){var a=pemtohex(b,"CERTIFICATE REQUEST");var c=KEYUTIL.getKeyFromCSRHex(a);return c};KEYUTIL.getKeyFromCSRHex=function(a){var c=KEYUTIL.parseCSRHex(a);var b=KEYUTIL.getKey(c.p8pubkeyhex,null,"pkcs8pub");return b};KEYUTIL.parseCSRHex=function(d){var i=ASN1HEX;var f=i.getChildIdx;var c=i.getTLV;var b={};var g=d;if(g.substr(0,2)!="30"){throw"malformed CSR(code:001)"}var e=f(g,0);if(e.length<1){throw"malformed CSR(code:002)"}if(g.substr(e[0],2)!="30"){throw"malformed CSR(code:003)"}var a=f(g,e[0]);if(a.length<3){throw"malformed CSR(code:004)"}b.p8pubkeyhex=c(g,a[2]);return b};KEYUTIL.getKeyID=function(f){var c=KEYUTIL;var e=ASN1HEX;if(typeof f==="string"&&f.indexOf("BEGIN ")!=-1){f=c.getKey(f)}var d=pemtohex(c.getPEM(f));var b=e.getIdxbyList(d,0,[1]);var a=e.getV(d,b).substring(2);return KJUR.crypto.Util.hashHex(a,"sha1")};KEYUTIL.getJWKFromKey=function(d){var b={};if(d instanceof RSAKey&&d.isPrivate){b.kty="RSA";b.n=hextob64u(d.n.toString(16));b.e=hextob64u(d.e.toString(16));b.d=hextob64u(d.d.toString(16));b.p=hextob64u(d.p.toString(16));b.q=hextob64u(d.q.toString(16));b.dp=hextob64u(d.dmp1.toString(16));b.dq=hextob64u(d.dmq1.toString(16));b.qi=hextob64u(d.coeff.toString(16));return b}else{if(d instanceof RSAKey&&d.isPublic){b.kty="RSA";b.n=hextob64u(d.n.toString(16));b.e=hextob64u(d.e.toString(16));return b}else{if(d instanceof KJUR.crypto.ECDSA&&d.isPrivate){var a=d.getShortNISTPCurveName();if(a!=="P-256"&&a!=="P-384"){throw"unsupported curve name for JWT: "+a}var c=d.getPublicKeyXYHex();b.kty="EC";b.crv=a;b.x=hextob64u(c.x);b.y=hextob64u(c.y);b.d=hextob64u(d.prvKeyHex);return b}else{if(d instanceof KJUR.crypto.ECDSA&&d.isPublic){var a=d.getShortNISTPCurveName();if(a!=="P-256"&&a!=="P-384"){throw"unsupported curve name for JWT: "+a}var c=d.getPublicKeyXYHex();b.kty="EC";b.crv=a;b.x=hextob64u(c.x);b.y=hextob64u(c.y);return b}}}}throw"not supported key object"};
RSAKey.getPosArrayOfChildrenFromHex=function(a){return ASN1HEX.getChildIdx(a,0)};RSAKey.getHexValueArrayOfChildrenFromHex=function(f){var n=ASN1HEX;var i=n.getV;var k=RSAKey.getPosArrayOfChildrenFromHex(f);var e=i(f,k[0]);var j=i(f,k[1]);var b=i(f,k[2]);var c=i(f,k[3]);var h=i(f,k[4]);var g=i(f,k[5]);var m=i(f,k[6]);var l=i(f,k[7]);var d=i(f,k[8]);var k=new Array();k.push(e,j,b,c,h,g,m,l,d);return k};RSAKey.prototype.readPrivateKeyFromPEMString=function(d){var c=pemtohex(d);var b=RSAKey.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])};RSAKey.prototype.readPKCS5PrvKeyHex=function(c){var b=RSAKey.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])};RSAKey.prototype.readPKCS8PrvKeyHex=function(e){var c,j,l,b,a,f,d,k;var m=ASN1HEX;var g=m.getVbyList;if(m.isASN1HEX(e)===false){throw"not ASN.1 hex string"}try{c=g(e,0,[2,0,1],"02");j=g(e,0,[2,0,2],"02");l=g(e,0,[2,0,3],"02");b=g(e,0,[2,0,4],"02");a=g(e,0,[2,0,5],"02");f=g(e,0,[2,0,6],"02");d=g(e,0,[2,0,7],"02");k=g(e,0,[2,0,8],"02")}catch(i){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(c,j,l,b,a,f,d,k)};RSAKey.prototype.readPKCS5PubKeyHex=function(c){var e=ASN1HEX;var b=e.getV;if(e.isASN1HEX(c)===false){throw"keyHex is not ASN.1 hex string"}var a=e.getChildIdx(c,0);if(a.length!==2||c.substr(a[0],2)!=="02"||c.substr(a[1],2)!=="02"){throw"wrong hex for PKCS#5 public key"}var f=b(c,a[0]);var d=b(c,a[1]);this.setPublic(f,d)};RSAKey.prototype.readPKCS8PubKeyHex=function(b){var c=ASN1HEX;if(c.isASN1HEX(b)===false){throw"not ASN.1 hex string"}if(c.getTLVbyList(b,0,[0,0])!=="06092a864886f70d010101"){throw"not PKCS8 RSA public key"}var a=c.getTLVbyList(b,0,[1,0]);this.readPKCS5PubKeyHex(a)};RSAKey.prototype.readCertPubKeyHex=function(b,d){var a,c;a=new X509();a.readCertHex(b);c=a.getPublicKeyHex();this.readPKCS8PubKeyHex(c)};
var _RE_HEXDECONLY=new RegExp("[^0-9a-f]","gi");function _rsasign_getHexPaddedDigestInfoForString(d,e,a){var b=function(f){return KJUR.crypto.Util.hashString(f,a)};var c=b(d);return KJUR.crypto.Util.getPaddedDigestInfoHex(c,a,e)}function _zeroPaddingOfSignature(e,d){var c="";var a=d/4-e.length;for(var b=0;b<a;b++){c=c+"0"}return c+e}RSAKey.prototype.sign=function(d,a){var b=function(e){return KJUR.crypto.Util.hashString(e,a)};var c=b(d);return this.signWithMessageHash(c,a)};RSAKey.prototype.signWithMessageHash=function(e,c){var f=KJUR.crypto.Util.getPaddedDigestInfoHex(e,c,this.n.bitLength());var b=parseBigInt(f,16);var d=this.doPrivate(b);var a=d.toString(16);return _zeroPaddingOfSignature(a,this.n.bitLength())};function pss_mgf1_str(c,a,e){var b="",d=0;while(b.length<a){b+=hextorstr(e(rstrtohex(c+String.fromCharCode.apply(String,[(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))));d+=1}return b}RSAKey.prototype.signPSS=function(e,a,d){var c=function(f){return KJUR.crypto.Util.hashHex(f,a)};var b=c(rstrtohex(e));if(d===undefined){d=-1}return this.signWithMessageHashPSS(b,a,d)};RSAKey.prototype.signWithMessageHashPSS=function(l,a,k){var b=hextorstr(l);var g=b.length;var m=this.n.bitLength()-1;var c=Math.ceil(m/8);var d;var o=function(i){return KJUR.crypto.Util.hashHex(i,a)};if(k===-1||k===undefined){k=g}else{if(k===-2){k=c-g-2}else{if(k<-2){throw"invalid salt length"}}}if(c<(g+k+2)){throw"data too long"}var f="";if(k>0){f=new Array(k);new SecureRandom().nextBytes(f);f=String.fromCharCode.apply(String,f)}var n=hextorstr(o(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+b+f)));var j=[];for(d=0;d<c-k-g-2;d+=1){j[d]=0}var e=String.fromCharCode.apply(String,j)+"\x01"+f;var h=pss_mgf1_str(n,e.length,o);var q=[];for(d=0;d<e.length;d+=1){q[d]=e.charCodeAt(d)^h.charCodeAt(d)}var p=(65280>>(8*c-m))&255;q[0]&=~p;for(d=0;d<g;d++){q.push(n.charCodeAt(d))}q.push(188);return _zeroPaddingOfSignature(this.doPrivate(new BigInteger(q)).toString(16),this.n.bitLength())};function _rsasign_getDecryptSignatureBI(a,d,c){var b=new RSAKey();b.setPublic(d,c);var e=b.doPublic(a);return e}function _rsasign_getHexDigestInfoFromSig(a,c,b){var e=_rsasign_getDecryptSignatureBI(a,c,b);var d=e.toString(16).replace(/^1f+00/,"");return d}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(f){for(var e in KJUR.crypto.Util.DIGESTINFOHEAD){var d=KJUR.crypto.Util.DIGESTINFOHEAD[e];var b=d.length;if(f.substring(0,b)==d){var c=[e,f.substring(b)];return c}}return[]}RSAKey.prototype.verify=function(f,j){j=j.replace(_RE_HEXDECONLY,"");j=j.replace(/[ \n]+/g,"");var b=parseBigInt(j,16);if(b.bitLength()>this.n.bitLength()){return 0}var i=this.doPublic(b);var e=i.toString(16).replace(/^1f+00/,"");var g=_rsasign_getAlgNameAndHashFromHexDisgestInfo(e);if(g.length==0){return false}var d=g[0];var h=g[1];var a=function(k){return KJUR.crypto.Util.hashString(k,d)};var c=a(f);return(h==c)};RSAKey.prototype.verifyWithMessageHash=function(e,a){if(a.length!=Math.ceil(this.n.bitLength()/4)){return false}var b=parseBigInt(a,16);if(b.bitLength()>this.n.bitLength()){return 0}var h=this.doPublic(b);var g=h.toString(16).replace(/^1f+00/,"");var c=_rsasign_getAlgNameAndHashFromHexDisgestInfo(g);if(c.length==0){return false}var d=c[0];var f=c[1];return(f==e)};RSAKey.prototype.verifyPSS=function(c,b,a,f){var e=function(g){return KJUR.crypto.Util.hashHex(g,a)};var d=e(rstrtohex(c));if(f===undefined){f=-1}return this.verifyWithMessageHashPSS(d,b,a,f)};RSAKey.prototype.verifyWithMessageHashPSS=function(f,s,l,c){if(s.length!=Math.ceil(this.n.bitLength()/4)){return false}var k=new BigInteger(s,16);var r=function(i){return KJUR.crypto.Util.hashHex(i,l)};var j=hextorstr(f);var h=j.length;var g=this.n.bitLength()-1;var m=Math.ceil(g/8);var q;if(c===-1||c===undefined){c=h}else{if(c===-2){c=m-h-2}else{if(c<-2){throw"invalid salt length"}}}if(m<(h+c+2)){throw"data too long"}var a=this.doPublic(k).toByteArray();for(q=0;q<a.length;q+=1){a[q]&=255}while(a.length<m){a.unshift(0)}if(a[m-1]!==188){throw"encoded message does not end in 0xbc"}a=String.fromCharCode.apply(String,a);var d=a.substr(0,m-h-1);var e=a.substr(d.length,h);var p=(65280>>(8*m-g))&255;if((d.charCodeAt(0)&p)!==0){throw"bits beyond keysize not zero"}var n=pss_mgf1_str(e,d.length,r);var o=[];for(q=0;q<d.length;q+=1){o[q]=d.charCodeAt(q)^n.charCodeAt(q)}o[0]&=~p;var b=m-h-c-2;for(q=0;q<b;q+=1){if(o[q]!==0){throw"leftmost octets not zero"}}if(o[b]!==1){throw"0x01 marker not found"}return e===hextorstr(r(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+j+String.fromCharCode.apply(String,o.slice(-c)))))};RSAKey.SALT_LEN_HLEN=-1;RSAKey.SALT_LEN_MAX=-2;RSAKey.SALT_LEN_RECOVER=-2;
function X509(){var k=ASN1HEX,j=k.getChildIdx,h=k.getV,b=k.getTLV,f=k.getVbyList,c=k.getTLVbyList,g=k.getIdxbyList,d=k.getVidx,i=k.oidname,a=X509,e=pemtohex;this.hex=null;this.version=0;this.foffset=0;this.aExtInfo=null;this.getVersion=function(){if(this.hex===null||this.version!==0){return this.version}if(c(this.hex,0,[0,0])!=="a003020102"){this.version=1;this.foffset=-1;return 1}this.version=3;return 3};this.getSerialNumberHex=function(){return f(this.hex,0,[0,1+this.foffset],"02")};this.getSignatureAlgorithmField=function(){return i(f(this.hex,0,[0,2+this.foffset,0],"06"))};this.getIssuerHex=function(){return c(this.hex,0,[0,3+this.foffset],"30")};this.getIssuerString=function(){return a.hex2dn(this.getIssuerHex())};this.getSubjectHex=function(){return c(this.hex,0,[0,5+this.foffset],"30")};this.getSubjectString=function(){return a.hex2dn(this.getSubjectHex())};this.getNotBefore=function(){var l=f(this.hex,0,[0,4+this.foffset,0]);l=l.replace(/(..)/g,"%$1");l=decodeURIComponent(l);return l};this.getNotAfter=function(){var l=f(this.hex,0,[0,4+this.foffset,1]);l=l.replace(/(..)/g,"%$1");l=decodeURIComponent(l);return l};this.getPublicKeyHex=function(){return k.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")};this.getPublicKeyIdx=function(){return g(this.hex,0,[0,6+this.foffset],"30")};this.getPublicKeyContentIdx=function(){var l=this.getPublicKeyIdx();return g(this.hex,l,[1,0],"30")};this.getPublicKey=function(){return KEYUTIL.getKey(this.getPublicKeyHex(),null,"pkcs8pub")};this.getSignatureAlgorithmName=function(){return i(f(this.hex,0,[1,0],"06"))};this.getSignatureValueHex=function(){return f(this.hex,0,[2],"03",true)};this.verifySignature=function(n){var o=this.getSignatureAlgorithmName();var l=this.getSignatureValueHex();var m=c(this.hex,0,[0],"30");var p=new KJUR.crypto.Signature({alg:o});p.init(n);p.updateHex(m);return p.verify(l)};this.parseExt=function(u){var n,l,p;if(u===undefined){p=this.hex;if(this.version!==3){return -1}n=g(p,0,[0,7,0],"30");l=j(p,n)}else{p=pemtohex(u);var q=g(p,0,[0,3,0,0],"06");if(h(p,q)!="2a864886f70d01090e"){this.aExtInfo=new Array();return}n=g(p,0,[0,3,0,1,0],"30");l=j(p,n);this.hex=p}this.aExtInfo=new Array();for(var o=0;o<l.length;o++){var s={};s.critical=false;var r=j(p,l[o]);var m=0;if(r.length===3){s.critical=true;m=1}s.oid=k.hextooidstr(f(p,l[o],[0],"06"));var t=g(p,l[o],[1+m]);s.vidx=d(p,t);this.aExtInfo.push(s)}};this.getExtInfo=function(n){var l=this.aExtInfo;var o=n;if(!n.match(/^[0-9.]+$/)){o=KJUR.asn1.x509.OID.name2oid(n)}if(o===""){return undefined}for(var m=0;m<l.length;m++){if(l[m].oid===o){return l[m]}}return undefined};this.getExtBasicConstraints=function(){var n=this.getExtInfo("basicConstraints");if(n===undefined){return n}var l=h(this.hex,n.vidx);if(l===""){return{}}if(l==="0101ff"){return{cA:true}}if(l.substr(0,8)==="0101ff02"){var o=h(l,6);var m=parseInt(o,16);return{cA:true,pathLen:m}}throw"basicConstraints parse error"};this.getExtKeyUsageBin=function(){var o=this.getExtInfo("keyUsage");if(o===undefined){return""}var m=h(this.hex,o.vidx);if(m.length%2!=0||m.length<=2){throw"malformed key usage value"}var l=parseInt(m.substr(0,2));var n=parseInt(m.substr(2),16).toString(2);return n.substr(0,n.length-l)};this.getExtKeyUsageString=function(){var n=this.getExtKeyUsageBin();var l=new Array();for(var m=0;m<n.length;m++){if(n.substr(m,1)=="1"){l.push(X509.KEYUSAGE_NAME[m])}}return l.join(",")};this.getExtSubjectKeyIdentifier=function(){var l=this.getExtInfo("subjectKeyIdentifier");if(l===undefined){return l}return h(this.hex,l.vidx)};this.getExtAuthorityKeyIdentifier=function(){var p=this.getExtInfo("authorityKeyIdentifier");if(p===undefined){return p}var l={};var o=b(this.hex,p.vidx);var m=j(o,0);for(var n=0;n<m.length;n++){if(o.substr(m[n],2)==="80"){l.kid=h(o,m[n])}}return l};this.getExtExtKeyUsageName=function(){var p=this.getExtInfo("extKeyUsage");if(p===undefined){return p}var l=new Array();var o=b(this.hex,p.vidx);if(o===""){return l}var m=j(o,0);for(var n=0;n<m.length;n++){l.push(i(h(o,m[n])))}return l};this.getExtSubjectAltName=function(){var m=this.getExtSubjectAltName2();var l=new Array();for(var n=0;n<m.length;n++){if(m[n][0]==="DNS"){l.push(m[n][1])}}return l};this.getExtSubjectAltName2=function(){var p,s,r;var q=this.getExtInfo("subjectAltName");if(q===undefined){return q}var l=new Array();var o=b(this.hex,q.vidx);var m=j(o,0);for(var n=0;n<m.length;n++){r=o.substr(m[n],2);p=h(o,m[n]);if(r==="81"){s=hextoutf8(p);l.push(["MAIL",s])}if(r==="82"){s=hextoutf8(p);l.push(["DNS",s])}if(r==="84"){s=X509.hex2dn(p,0);l.push(["DN",s])}if(r==="86"){s=hextoutf8(p);l.push(["URI",s])}if(r==="87"){s=hextoip(p);l.push(["IP",s])}}return l};this.getExtCRLDistributionPointsURI=function(){var q=this.getExtInfo("cRLDistributionPoints");if(q===undefined){return q}var l=new Array();var m=j(this.hex,q.vidx);for(var o=0;o<m.length;o++){try{var r=f(this.hex,m[o],[0,0,0],"86");var p=hextoutf8(r);l.push(p)}catch(n){}}return l};this.getExtAIAInfo=function(){var p=this.getExtInfo("authorityInfoAccess");if(p===undefined){return p}var l={ocsp:[],caissuer:[]};var m=j(this.hex,p.vidx);for(var n=0;n<m.length;n++){var q=f(this.hex,m[n],[0],"06");var o=f(this.hex,m[n],[1],"86");if(q==="2b06010505073001"){l.ocsp.push(hextoutf8(o))}if(q==="2b06010505073002"){l.caissuer.push(hextoutf8(o))}}return l};this.getExtCertificatePolicies=function(){var o=this.getExtInfo("certificatePolicies");if(o===undefined){return o}var l=b(this.hex,o.vidx);var u=[];var s=j(l,0);for(var r=0;r<s.length;r++){var t={};var n=j(l,s[r]);t.id=i(h(l,n[0]));if(n.length===2){var m=j(l,n[1]);for(var q=0;q<m.length;q++){var p=f(l,m[q],[0],"06");if(p==="2b06010505070201"){t.cps=hextoutf8(f(l,m[q],[1]))}else{if(p==="2b06010505070202"){t.unotice=hextoutf8(f(l,m[q],[1,0]))}}}}u.push(t)}return u};this.readCertPEM=function(l){this.readCertHex(e(l))};this.readCertHex=function(l){this.hex=l;this.getVersion();try{g(this.hex,0,[0,7],"a3");this.parseExt()}catch(m){}};this.getInfo=function(){var m=X509;var B,u,z;B="Basic Fields\n";B+="  serial number: "+this.getSerialNumberHex()+"\n";B+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n";B+="  issuer: "+this.getIssuerString()+"\n";B+="  notBefore: "+this.getNotBefore()+"\n";B+="  notAfter: "+this.getNotAfter()+"\n";B+="  subject: "+this.getSubjectString()+"\n";B+="  subject public key info: \n";u=this.getPublicKey();B+="    key algorithm: "+u.type+"\n";if(u.type==="RSA"){B+="    n="+hextoposhex(u.n.toString(16)).substr(0,16)+"...\n";B+="    e="+hextoposhex(u.e.toString(16))+"\n"}z=this.aExtInfo;if(z!==undefined&&z!==null){B+="X509v3 Extensions:\n";for(var r=0;r<z.length;r++){var n=z[r];var A=KJUR.asn1.x509.OID.oid2name(n.oid);if(A===""){A=n.oid}var x="";if(n.critical===true){x="CRITICAL"}B+="  "+A+" "+x+":\n";if(A==="basicConstraints"){var v=this.getExtBasicConstraints();if(v.cA===undefined){B+="    {}\n"}else{B+="    cA=true";if(v.pathLen!==undefined){B+=", pathLen="+v.pathLen}B+="\n"}}else{if(A==="keyUsage"){B+="    "+this.getExtKeyUsageString()+"\n"}else{if(A==="subjectKeyIdentifier"){B+="    "+this.getExtSubjectKeyIdentifier()+"\n"}else{if(A==="authorityKeyIdentifier"){var l=this.getExtAuthorityKeyIdentifier();if(l.kid!==undefined){B+="    kid="+l.kid+"\n"}}else{if(A==="extKeyUsage"){var w=this.getExtExtKeyUsageName();B+="    "+w.join(", ")+"\n"}else{if(A==="subjectAltName"){var t=this.getExtSubjectAltName2();B+="    "+t+"\n"}else{if(A==="cRLDistributionPoints"){var y=this.getExtCRLDistributionPointsURI();B+="    "+y+"\n"}else{if(A==="authorityInfoAccess"){var p=this.getExtAIAInfo();if(p.ocsp!==undefined){B+="    ocsp: "+p.ocsp.join(",")+"\n"}if(p.caissuer!==undefined){B+="    caissuer: "+p.caissuer.join(",")+"\n"}}else{if(A==="certificatePolicies"){var o=this.getExtCertificatePolicies();for(var q=0;q<o.length;q++){if(o[q].id!==undefined){B+="    policy oid: "+o[q].id+"\n"}if(o[q].cps!==undefined){B+="    cps: "+o[q].cps+"\n"}}}}}}}}}}}}}B+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n";B+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n";return B}}X509.hex2dn=function(f,b){if(b===undefined){b=0}if(f.substr(b,2)!=="30"){throw"malformed DN"}var c=new Array();var d=ASN1HEX.getChildIdx(f,b);for(var e=0;e<d.length;e++){c.push(X509.hex2rdn(f,d[e]))}c=c.map(function(a){return a.replace("/","\\/")});return"/"+c.join("/")};X509.hex2rdn=function(f,b){if(b===undefined){b=0}if(f.substr(b,2)!=="31"){throw"malformed RDN"}var c=new Array();var d=ASN1HEX.getChildIdx(f,b);for(var e=0;e<d.length;e++){c.push(X509.hex2attrTypeValue(f,d[e]))}c=c.map(function(a){return a.replace("+","\\+")});return c.join("+")};X509.hex2attrTypeValue=function(d,i){var j=ASN1HEX;var h=j.getV;if(i===undefined){i=0}if(d.substr(i,2)!=="30"){throw"malformed attribute type and value"}var g=j.getChildIdx(d,i);if(g.length!==2||d.substr(g[0],2)!=="06"){"malformed attribute type and value"}var b=h(d,g[0]);var f=KJUR.asn1.ASN1Util.oidHexToInt(b);var e=KJUR.asn1.x509.OID.oid2atype(f);var a=h(d,g[1]);var c=hextorstr(a);return e+"="+c};X509.getPublicKeyFromCertHex=function(b){var a=new X509();a.readCertHex(b);return a.getPublicKey()};X509.getPublicKeyFromCertPEM=function(b){var a=new X509();a.readCertPEM(b);return a.getPublicKey()};X509.getPublicKeyInfoPropOfCertPEM=function(c){var e=ASN1HEX;var g=e.getVbyList;var b={};var a,f,d;b.algparam=null;a=new X509();a.readCertPEM(c);f=a.getPublicKeyHex();b.keyhex=g(f,0,[1],"03").substr(2);b.algoid=g(f,0,[0,0],"06");if(b.algoid==="2a8648ce3d0201"){b.algparam=g(f,0,[0,1],"06")}return b};X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];
if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.jws=="undefined"||!KJUR.jws){KJUR.jws={}}KJUR.jws.JWS=function(){var b=KJUR,a=b.jws.JWS,c=a.isSafeJSONString;this.parseJWS=function(g,j){if((this.parsedJWS!==undefined)&&(j||(this.parsedJWS.sigvalH!==undefined))){return}var i=g.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(i==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}var k=i[1];var e=i[2];var l=i[3];var n=k+"."+e;this.parsedJWS={};this.parsedJWS.headB64U=k;this.parsedJWS.payloadB64U=e;this.parsedJWS.sigvalB64U=l;this.parsedJWS.si=n;if(!j){var h=b64utohex(l);var f=parseBigInt(h,16);this.parsedJWS.sigvalH=h;this.parsedJWS.sigvalBI=f}var d=b64utoutf8(k);var m=b64utoutf8(e);this.parsedJWS.headS=d;this.parsedJWS.payloadS=m;if(!c(d,this.parsedJWS,"headP")){throw"malformed JSON string for JWS Head: "+d}}};KJUR.jws.JWS.sign=function(j,w,z,A,a){var x=KJUR,n=x.jws,r=n.JWS,h=r.readSafeJSONString,q=r.isSafeJSONString,d=x.crypto,l=d.ECDSA,p=d.Mac,c=d.Signature,u=JSON;var t,k,o;if(typeof w!="string"&&typeof w!="object"){throw"spHeader must be JSON string or object: "+w}if(typeof w=="object"){k=w;t=u.stringify(k)}if(typeof w=="string"){t=w;if(!q(t)){throw"JWS Head is not safe JSON string: "+t}k=h(t)}o=z;if(typeof z=="object"){o=u.stringify(z)}if((j==""||j==null)&&k.alg!==undefined){j=k.alg}if((j!=""&&j!=null)&&k.alg===undefined){k.alg=j;t=u.stringify(k)}if(j!==k.alg){throw"alg and sHeader.alg doesn't match: "+j+"!="+k.alg}var s=null;if(r.jwsalg2sigalg[j]===undefined){throw"unsupported alg name: "+j}else{s=r.jwsalg2sigalg[j]}var e=utf8tob64u(t);var m=utf8tob64u(o);var b=e+"."+m;var y="";if(s.substr(0,4)=="Hmac"){if(A===undefined){throw"mac key shall be specified for HS* alg"}var i=new p({alg:s,prov:"cryptojs",pass:A});i.updateString(b);y=i.doFinal()}else{if(s.indexOf("withECDSA")!=-1){var f=new c({alg:s});f.init(A,a);f.updateString(b);var g=f.sign();y=KJUR.crypto.ECDSA.asn1SigToConcatSig(g)}else{if(s!="none"){var f=new c({alg:s});f.init(A,a);f.updateString(b);y=f.sign()}}}var v=hextob64u(y);return b+"."+v};KJUR.jws.JWS.verify=function(w,B,n){var x=KJUR,q=x.jws,t=q.JWS,i=t.readSafeJSONString,e=x.crypto,p=e.ECDSA,s=e.Mac,d=e.Signature,m;if(typeof RSAKey!==undefined){m=RSAKey}var y=w.split(".");if(y.length!==3){return false}var f=y[0];var r=y[1];var c=f+"."+r;var A=b64utohex(y[2]);var l=i(b64utoutf8(y[0]));var k=null;var z=null;if(l.alg===undefined){throw"algorithm not specified in header"}else{k=l.alg;z=k.substr(0,2)}if(n!=null&&Object.prototype.toString.call(n)==="[object Array]"&&n.length>0){var b=":"+n.join(":")+":";if(b.indexOf(":"+k+":")==-1){throw"algorithm '"+k+"' not accepted in the list"}}if(k!="none"&&B===null){throw"key shall be specified to verify."}if(typeof B=="string"&&B.indexOf("-----BEGIN ")!=-1){B=KEYUTIL.getKey(B)}if(z=="RS"||z=="PS"){if(!(B instanceof m)){throw"key shall be a RSAKey obj for RS* and PS* algs"}}if(z=="ES"){if(!(B instanceof p)){throw"key shall be a ECDSA obj for ES* algs"}}if(k=="none"){}var u=null;if(t.jwsalg2sigalg[l.alg]===undefined){throw"unsupported alg name: "+k}else{u=t.jwsalg2sigalg[k]}if(u=="none"){throw"not supported"}else{if(u.substr(0,4)=="Hmac"){var o=null;if(B===undefined){throw"hexadecimal key shall be specified for HMAC"}var j=new s({alg:u,pass:B});j.updateString(c);o=j.doFinal();return A==o}else{if(u.indexOf("withECDSA")!=-1){var h=null;try{h=p.concatSigToASN1Sig(A)}catch(v){return false}var g=new d({alg:u});g.init(B);g.updateString(c);return g.verify(h)}else{var g=new d({alg:u});g.init(B);g.updateString(c);return g.verify(A)}}}};KJUR.jws.JWS.parse=function(g){var c=g.split(".");var b={};var f,e,d;if(c.length!=2&&c.length!=3){throw"malformed sJWS: wrong number of '.' splitted elements"}f=c[0];e=c[1];if(c.length==3){d=c[2]}b.headerObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(f));b.payloadObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(e));b.headerPP=JSON.stringify(b.headerObj,null,"  ");if(b.payloadObj==null){b.payloadPP=b64utoutf8(e)}else{b.payloadPP=JSON.stringify(b.payloadObj,null,"  ")}if(d!==undefined){b.sigHex=b64utohex(d)}return b};KJUR.jws.JWS.verifyJWT=function(e,l,r){var d=KJUR,j=d.jws,o=j.JWS,n=o.readSafeJSONString,p=o.inArray,f=o.includedArray;var k=e.split(".");var c=k[0];var i=k[1];var q=c+"."+i;var m=b64utohex(k[2]);var h=n(b64utoutf8(c));var g=n(b64utoutf8(i));if(h.alg===undefined){return false}if(r.alg===undefined){throw"acceptField.alg shall be specified"}if(!p(h.alg,r.alg)){return false}if(g.iss!==undefined&&typeof r.iss==="object"){if(!p(g.iss,r.iss)){return false}}if(g.sub!==undefined&&typeof r.sub==="object"){if(!p(g.sub,r.sub)){return false}}if(g.aud!==undefined&&typeof r.aud==="object"){if(typeof g.aud=="string"){if(!p(g.aud,r.aud)){return false}}else{if(typeof g.aud=="object"){if(!f(g.aud,r.aud)){return false}}}}var b=j.IntDate.getNow();if(r.verifyAt!==undefined&&typeof r.verifyAt==="number"){b=r.verifyAt}if(r.gracePeriod===undefined||typeof r.gracePeriod!=="number"){r.gracePeriod=0}if(g.exp!==undefined&&typeof g.exp=="number"){if(g.exp+r.gracePeriod<b){return false}}if(g.nbf!==undefined&&typeof g.nbf=="number"){if(b<g.nbf-r.gracePeriod){return false}}if(g.iat!==undefined&&typeof g.iat=="number"){if(b<g.iat-r.gracePeriod){return false}}if(g.jti!==undefined&&r.jti!==undefined){if(g.jti!==r.jti){return false}}if(!o.verify(e,l,r.alg)){return false}return true};KJUR.jws.JWS.includedArray=function(b,a){var c=KJUR.jws.JWS.inArray;if(b===null){return false}if(typeof b!=="object"){return false}if(typeof b.length!=="number"){return false}for(var d=0;d<b.length;d++){if(!c(b[d],a)){return false}}return true};KJUR.jws.JWS.inArray=function(d,b){if(b===null){return false}if(typeof b!=="object"){return false}if(typeof b.length!=="number"){return false}for(var c=0;c<b.length;c++){if(b[c]==d){return true}}return false};KJUR.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none",};KJUR.jws.JWS.isSafeJSONString=function(c,b,d){var e=null;try{e=jsonParse(c);if(typeof e!="object"){return 0}if(e.constructor===Array){return 0}if(b){b[d]=e}return 1}catch(a){return 0}};KJUR.jws.JWS.readSafeJSONString=function(b){var c=null;try{c=jsonParse(b);if(typeof c!="object"){return null}if(c.constructor===Array){return null}return c}catch(a){return null}};KJUR.jws.JWS.getEncodedSignatureValueFromJWS=function(b){var a=b.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(a==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}return a[1]};KJUR.jws.JWS.getJWKthumbprint=function(d){if(d.kty!=="RSA"&&d.kty!=="EC"&&d.kty!=="oct"){throw"unsupported algorithm for JWK Thumprint"}var a="{";if(d.kty==="RSA"){if(typeof d.n!="string"||typeof d.e!="string"){throw"wrong n and e value for RSA key"}a+='"e":"'+d.e+'",';a+='"kty":"'+d.kty+'",';a+='"n":"'+d.n+'"}'}else{if(d.kty==="EC"){if(typeof d.crv!="string"||typeof d.x!="string"||typeof d.y!="string"){throw"wrong crv, x and y value for EC key"}a+='"crv":"'+d.crv+'",';a+='"kty":"'+d.kty+'",';a+='"x":"'+d.x+'",';a+='"y":"'+d.y+'"}'}else{if(d.kty==="oct"){if(typeof d.k!="string"){throw"wrong k value for oct(symmetric) key"}a+='"kty":"'+d.kty+'",';a+='"k":"'+d.k+'"}'}}}var b=rstrtohex(a);var c=KJUR.crypto.Util.hashHex(b,"sha256");var e=hextob64u(c);return e};KJUR.jws.IntDate={};KJUR.jws.IntDate.get=function(c){var b=KJUR.jws.IntDate,d=b.getNow,a=b.getZulu;if(c=="now"){return d()}else{if(c=="now + 1hour"){return d()+60*60}else{if(c=="now + 1day"){return d()+60*60*24}else{if(c=="now + 1month"){return d()+60*60*24*30}else{if(c=="now + 1year"){return d()+60*60*24*365}else{if(c.match(/Z$/)){return a(c)}else{if(c.match(/^[0-9]+$/)){return parseInt(c)}}}}}}}throw"unsupported format: "+c};KJUR.jws.IntDate.getZulu=function(a){return zulutosec(a)};KJUR.jws.IntDate.getNow=function(){var a=~~(new Date()/1000);return a};KJUR.jws.IntDate.intDate2UTCString=function(a){var b=new Date(a*1000);return b.toUTCString()};KJUR.jws.IntDate.intDate2Zulu=function(e){var i=new Date(e*1000),h=("0000"+i.getUTCFullYear()).slice(-4),g=("00"+(i.getUTCMonth()+1)).slice(-2),b=("00"+i.getUTCDate()).slice(-2),a=("00"+i.getUTCHours()).slice(-2),c=("00"+i.getUTCMinutes()).slice(-2),f=("00"+i.getUTCSeconds()).slice(-2);return h+g+b+a+c+f+"Z"};
if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.jws=="undefined"||!KJUR.jws){KJUR.jws={}}KJUR.jws.JWSJS=function(){var c=KJUR,b=c.jws,a=b.JWS,d=a.readSafeJSONString;this.aHeader=[];this.sPayload="";this.aSignature=[];this.init=function(){this.aHeader=[];this.sPayload=undefined;this.aSignature=[]};this.initWithJWS=function(f){this.init();var e=f.split(".");if(e.length!=3){throw"malformed input JWS"}this.aHeader.push(e[0]);this.sPayload=e[1];this.aSignature.push(e[2])};this.addSignature=function(e,h,m,k){if(this.sPayload===undefined||this.sPayload===null){throw"there's no JSON-JS signature to add."}var l=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length){throw"aHeader.length != aSignature.length"}try{var f=KJUR.jws.JWS.sign(e,h,this.sPayload,m,k);var j=f.split(".");var n=j[0];var g=j[2];this.aHeader.push(j[0]);this.aSignature.push(j[2])}catch(i){if(this.aHeader.length>l){this.aHeader.pop()}if(this.aSignature.length>l){this.aSignature.pop()}throw"addSignature failed: "+i}};this.verifyAll=function(h){if(this.aHeader.length!==h.length||this.aSignature.length!==h.length){return false}for(var g=0;g<h.length;g++){var f=h[g];if(f.length!==2){return false}var e=this.verifyNth(g,f[0],f[1]);if(e===false){return false}}return true};this.verifyNth=function(f,j,g){if(this.aHeader.length<=f||this.aSignature.length<=f){return false}var h=this.aHeader[f];var k=this.aSignature[f];var l=h+"."+this.sPayload+"."+k;var e=false;try{e=a.verify(l,j,g)}catch(i){return false}return e};this.readJWSJS=function(g){if(typeof g==="string"){var f=d(g);if(f==null){throw"argument is not safe JSON object string"}this.aHeader=f.headers;this.sPayload=f.payload;this.aSignature=f.signatures}else{try{if(g.headers.length>0){this.aHeader=g.headers}else{throw"malformed header"}if(typeof g.payload==="string"){this.sPayload=g.payload}else{throw"malformed signatures"}if(g.signatures.length>0){this.aSignature=g.signatures}else{throw"malformed signatures"}}catch(e){throw"malformed JWS-JS JSON object: "+e}}};this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}};this.isEmpty=function(){if(this.aHeader.length==0){return 1}return 0}};

  </script>
  <script type="text/javascript">
/**
 * FingerprintJS v3.3.3 - Copyright (c) FingerprintJS, Inc, 2022 (https://fingerprintjs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */

var FingerprintJS=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function c(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r}function o(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function i(e,t){try{var n=e();(r=n)&&"function"==typeof r.then?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(a){t(!1,a)}var r}function c(e,t,a){return void 0===a&&(a=16),n(this,void 0,void 0,(function(){var n,i,c;return r(this,(function(r){switch(r.label){case 0:n=Date.now(),i=0,r.label=1;case 1:return i<e.length?(t(e[i],i),(c=Date.now())>=n+a?(n=c,[4,o(0)]):[3,3]):[3,4];case 2:r.sent(),r.label=3;case 3:return++i,[3,1];case 4:return[2]}}))}))}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function s(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function h(e){return e=f(e,[0,e[0]>>>1]),e=f(e=s(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=f(e=s(e,[3301882366,444984403]),[0,e[0]>>>1])}function v(e,t){t=t||0;var n,r=(e=e||"").length%16,a=e.length-r,o=[0,t],i=[0,t],c=[0,0],v=[0,0],p=[2277735313,289559509],m=[1291169091,658871167];for(n=0;n<a;n+=16)c=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],v=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],c=l(c=s(c,p),31),o=u(o=l(o=f(o,c=s(c,m)),27),i),o=u(s(o,[0,5]),[0,1390208809]),v=l(v=s(v,m),33),i=u(i=l(i=f(i,v=s(v,p)),31),o),i=u(s(i,[0,5]),[0,944331445]);switch(c=[0,0],v=[0,0],r){case 15:v=f(v,d([0,e.charCodeAt(n+14)],48));case 14:v=f(v,d([0,e.charCodeAt(n+13)],40));case 13:v=f(v,d([0,e.charCodeAt(n+12)],32));case 12:v=f(v,d([0,e.charCodeAt(n+11)],24));case 11:v=f(v,d([0,e.charCodeAt(n+10)],16));case 10:v=f(v,d([0,e.charCodeAt(n+9)],8));case 9:v=s(v=f(v,[0,e.charCodeAt(n+8)]),m),i=f(i,v=s(v=l(v,33),p));case 8:c=f(c,d([0,e.charCodeAt(n+7)],56));case 7:c=f(c,d([0,e.charCodeAt(n+6)],48));case 6:c=f(c,d([0,e.charCodeAt(n+5)],40));case 5:c=f(c,d([0,e.charCodeAt(n+4)],32));case 4:c=f(c,d([0,e.charCodeAt(n+3)],24));case 3:c=f(c,d([0,e.charCodeAt(n+2)],16));case 2:c=f(c,d([0,e.charCodeAt(n+1)],8));case 1:c=s(c=f(c,[0,e.charCodeAt(n)]),p),o=f(o,c=s(c=l(c,31),m))}return o=u(o=f(o,[0,e.length]),i=f(i,[0,e.length])),i=u(i,o),o=u(o=h(o),i=h(i)),i=u(i,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}function p(e){return parseInt(e)}function m(e){return parseFloat(e)}function g(e,t){return"number"==typeof e&&isNaN(e)?t:e}function b(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function w(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function y(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function k(e,t,a){var u=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(a,e)})),s=Array(u.length);return c(u,(function(n,r){s[r]=function(e,t){var n=function(e){return"function"!=typeof e},r=new Promise((function(r){var a=Date.now();i(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Date.now()-a;if(!e[0])return r((function(){return{error:y(e[1]),duration:o}}));var c=e[1];if(n(c))return r((function(){return{value:c,duration:o}}));r((function(){return new Promise((function(e){var t=Date.now();i(c,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=o+Date.now()-t;if(!n[0])return e({error:y(n[1]),duration:a});e({value:n[1],duration:a})}))}))}))}))}));return function(){return r.then((function(e){return e()}))}}(e[n],t)})),function(){return n(this,void 0,void 0,(function(){var e,t,n,a,i,l;return r(this,(function(d){switch(d.label){case 0:for(e={},t=0,n=u;t<n.length;t++)a=n[t],e[a]=void 0;i=Array(u.length),l=function(){var t;return r(this,(function(n){switch(n.label){case 0:return t=!0,[4,c(u,(function(n,r){i[r]||(s[r]?i[r]=s[r]().then((function(t){return e[n]=t})):t=!1)}))];case 1:return n.sent(),t?[2,"break"]:[4,o(1)];case 2:return n.sent(),[2]}}))},d.label=1;case 1:return[5,l()];case 2:if("break"===d.sent())return[3,4];d.label=3;case 3:return[3,1];case 4:return[4,Promise.all(i)];case 5:return d.sent(),[2,e]}}))}))}}function C(){var e=window,t=navigator;return b(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function A(){var e=window,t=navigator;return b(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!C()}function S(){var e=window,t=navigator;return b(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function x(){var e=window,t=navigator;return b(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function M(){var e=window;return b(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function P(){var e,t,n=window;return b(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function _(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function T(){var e=S(),t=P();if(!e&&!t)return!1;var n=window;return b(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function E(e){var t=new Error(e);return t.name=e,t}function D(e,t,a){var i,c,u;return void 0===a&&(a=50),n(this,void 0,void 0,(function(){var n,s;return r(this,(function(r){switch(r.label){case 0:n=document,r.label=1;case 1:return n.body?[3,3]:[4,o(a)];case 2:return r.sent(),[3,1];case 3:s=n.createElement("iframe"),r.label=4;case 4:return r.trys.push([4,,10,11]),[4,new Promise((function(e,r){var a=!1,o=function(){a=!0,e()};s.onload=o,s.onerror=function(e){a=!0,r(e)};var i=s.style;i.setProperty("display","block","important"),i.position="absolute",i.top="0",i.left="0",i.visibility="hidden",t&&"srcdoc"in s?s.srcdoc=t:s.src="about:blank",n.body.appendChild(s);var c=function(){var e,t;a||("complete"===(null===(t=null===(e=s.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?o():setTimeout(c,10))};c()}))];case 5:r.sent(),r.label=6;case 6:return(null===(c=null===(i=s.contentWindow)||void 0===i?void 0:i.document)||void 0===c?void 0:c.body)?[3,8]:[4,o(a)];case 7:return r.sent(),[3,6];case 8:return[4,e(s,s.contentWindow)];case 9:return[2,r.sent()];case 10:return null===(u=s.parentNode)||void 0===u||u.removeChild(s),[7];case 11:return[2]}}))}))}function L(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '"+e+"'",a=/^\s*([a-z-]*)(.*)$/i.exec(e),o=a[1]||void 0,i={},c=/([.:#][\w-]+|\[.+?\])/gi,u=function(e,t){i[e]=i[e]||[],i[e].push(t)};;){var s=c.exec(a[2]);if(!s)break;var l=s[0];switch(l[0]){case".":u("class",l.slice(1));break;case"#":u("id",l.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);if(!d)throw new Error(r);u(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[o,i]}(e),n=t[0],r=t[1],a=document.createElement(null!=n?n:"div"),o=0,i=Object.keys(r);o<i.length;o++){var c=i[o],u=r[c].join(" ");"style"===c?z(a.style,u):a.setAttribute(c,u)}return a}function z(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var a=r[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(o){var i=o[1],c=o[2],u=o[4];e.setProperty(i,c,u||"")}}}var I=["monospace","sans-serif","serif"],B=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function F(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function O(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45),G(e)}function R(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],o=a[0],i=a[1],c=a[2];t.fillStyle=o,t.beginPath(),t.arc(i,c,40,0,2*Math.PI,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd"),G(e)}function G(e){return e.toDataURL()}var j,U;function W(){var e=this;return function(){if(void 0===U){var e=function(){var t=N();q(t)?U=setTimeout(e,2500):(j=t,U=void 0)};e()}}(),function(){return n(e,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return q(e=N())?j?[2,a(j)]:_()?[4,(n=document,(n.exitFullscreen||n.msExitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen).call(n))]:[3,2]:[3,2];case 1:t.sent(),e=N(),t.label=2;case 2:return q(e)||(j=e),[2,e]}var n}))}))}}function N(){var e=screen;return[g(m(e.availTop),null),g(m(e.width)-m(e.availWidth)-g(m(e.availLeft),0),null),g(m(e.height)-m(e.availHeight)-g(m(e.availTop),0),null),g(m(e.availLeft),null)]}function q(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}var H={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function J(e){var t;return n(this,void 0,void 0,(function(){var n,a,i,c,u,s,l;return r(this,(function(r){switch(r.label){case 0:for(n=document,a=n.createElement("div"),i=new Array(e.length),c={},$(a),l=0;l<e.length;++l)u=L(e[l]),$(s=n.createElement("div")),s.appendChild(u),a.appendChild(s),i[l]=u;r.label=1;case 1:return n.body?[3,3]:[4,o(50)];case 2:return r.sent(),[3,1];case 3:n.body.appendChild(a);try{for(l=0;l<e.length;++l)i[l].offsetParent||(c[e[l]]=!0)}finally{null===(t=a.parentNode)||void 0===t||t.removeChild(a)}return[2,c]}}))}))}function $(e){e.style.setProperty("display","block","important")}function V(e){return matchMedia("(inverted-colors: "+e+")").matches}function K(e){return matchMedia("(forced-colors: "+e+")").matches}function X(e){return matchMedia("(prefers-contrast: "+e+")").matches}function Y(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function Z(e){return matchMedia("(dynamic-range: "+e+")").matches}var Q=Math,ee=function(){return 0};var te={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var ne={fonts:function(){return D((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var a=n.createElement("div"),o={},i={},c=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",a.appendChild(t),t},u=I.map(c),s=function(){for(var e={},t=function(t){e[t]=I.map((function(e){return function(e,t){return c("'"+e+"',"+t)}(t,e)}))},n=0,r=B;n<r.length;n++){t(r[n])}return e}();r.appendChild(a);for(var l=0;l<I.length;l++)o[I[l]]=u[l].offsetWidth,i[I[l]]=u[l].offsetHeight;return B.filter((function(e){return t=s[e],I.some((function(e,n){return t[n].offsetWidth!==o[e]||t[n].offsetHeight!==i[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return n(this,void 0,void 0,(function(){var e,n,a,o;return r(this,(function(r){switch(r.label){case 0:return x()||T()?(e=Object.keys(H),[4,J((o=[]).concat.apply(o,e.map((function(e){return H[e]}))))]):[2,void 0];case 1:return n=r.sent(),t&&function(e){for(var t="DOM blockers debug:\n```",n=0,r=Object.keys(H);n<r.length;n++){var a=r[n];t+="\n"+a+":";for(var o=0,i=H[a];o<i.length;o++){var c=i[o];t+="\n  "+c+" "+(e[c]?"🚫":"➡️")}}console.log(t+"\n```")}(n),(a=e.filter((function(e){var t=H[e];return b(t.map((function(e){return n[e]})))>.6*t.length}))).sort(),[2,a]}}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return D((function(n,r){var o=r.document,i=o.body,c=i.style;c.width=t+"px",c.webkitTextSizeAdjust=c.textSizeAdjust="none",S()?i.style.zoom=""+1/r.devicePixelRatio:x()&&(i.style.zoom="reset");var u=o.createElement("div");return u.textContent=a(Array(t/20<<0)).map((function(){return"word"})).join(" "),i.appendChild(u),e(o,i)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},r={},a=0,o=Object.keys(te);a<o.length;a++){var i=o[a],c=te[i],u=c[0],s=void 0===u?{}:u,l=c[1],d=void 0===l?"mmMwWLliI0fiflO&1":l,f=e.createElement("span");f.textContent=d,f.style.whiteSpace="nowrap";for(var h=0,v=Object.keys(s);h<v.length;h++){var p=v[h],m=s[p];void 0!==m&&(f.style[p]=m)}n[i]=f,t.appendChild(e.createElement("br")),t.appendChild(f)}for(var g=0,b=Object.keys(te);g<b.length;g++){r[i=b[g]]=n[i].getBoundingClientRect().width}return r}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(x()&&!M()&&!function(){var e=window;return b(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var a=n.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,r.connect(a),a.connect(n.destination),r.start(0);var o=function(e){var t=3,n=500,r=500,a=5e3,o=function(){};return[new Promise((function(i,c){var u=!1,s=0,l=0;e.oncomplete=function(e){return i(e.renderedBuffer)};var d=function(){setTimeout((function(){return c(E("timeout"))}),Math.min(r,l+a-Date.now()))},f=function(){try{switch(e.startRendering(),e.state){case"running":l=Date.now(),u&&d();break;case"suspended":document.hidden||s++,u&&s>=t?c(E("suspended")):setTimeout(f,n)}}catch(r){c(r)}};f(),o=function(){u||(u=!0,l>0&&d())}})),o]}(n),i=o[0],c=o[1],u=i.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return u.catch((function(){})),function(){return c(),u}},screenFrame:function(){var e=this,t=W();return function(){return n(e,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:w(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))S()&&b([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var a=t.languages;a&&n.push(a.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return g(m(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return g(p(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return g(p(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,a=(r=(new Date).getFullYear(),-Math.max(m(new Date(r,0,1).getTimezoneOffset()),m(new Date(r,6,1).getTimezoneOffset())));return"UTC"+(a>=0?"+":"")+Math.abs(a)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!C()&&!A())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&x()&&!M()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return b(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var a=[],o=0;o<r.length;++o){var i=r[o];a.push({type:i.type,suffixes:i.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:a})}}return t}},canvas:function(){var e=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),t=e[0],n=e[1];return function(e,t){return!(!t||!e.toDataURL)}(t,n)?{winding:F(n),geometry:R(t,n),text:O(t,n)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=p(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(r){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],a=window[r];a&&"object"==typeof a&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(n){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: "+n+")").matches)return n}},invertedColors:function(){return!!V("inverted")||!V("none")&&void 0},forcedColors:function(){return!!K("active")||!K("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}},contrast:function(){return X("no-preference")?0:X("high")||X("more")?1:X("low")||X("less")?-1:X("forced")?10:void 0},reducedMotion:function(){return!!Y("reduce")||!Y("no-preference")&&void 0},hdr:function(){return!!Z("high")||!Z("standard")&&void 0},math:function(){var e,t=Q.acos||ee,n=Q.acosh||ee,r=Q.asin||ee,a=Q.asinh||ee,o=Q.atanh||ee,i=Q.atan||ee,c=Q.sin||ee,u=Q.sinh||ee,s=Q.cos||ee,l=Q.cosh||ee,d=Q.tan||ee,f=Q.tanh||ee,h=Q.exp||ee,v=Q.expm1||ee,p=Q.log1p||ee;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,Q.log(e+Q.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:a(1),asinhPf:function(e){return Q.log(e+Q.sqrt(e*e+1))}(1),atanh:o(.5),atanhPf:function(e){return Q.log((1+e)/(1-e))/2}(.5),atan:i(.5),sin:c(-1e300),sinh:u(1),sinhPf:function(e){return Q.exp(e)-1/Q.exp(e)/2}(1),cos:s(10.000000000123),cosh:l(1),coshPf:function(e){return(Q.exp(e)+1/Q.exp(e))/2}(1),tan:d(-1e300),tanh:f(1),tanhPf:function(e){return(Q.exp(2*e)-1)/(Q.exp(2*e)+1)}(1),exp:h(1),expm1:v(1),expm1Pf:function(e){return Q.exp(e)-1}(1),log1p:p(10),log1pPf:function(e){return Q.log(1+e)}(10),powPI:function(e){return Q.pow(Q.PI,e)}(-100)}}};function re(e){var t=function(e){if(T())return.4;if(x())return M()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return w(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+n)}}function ae(e){return JSON.stringify(e,(function(e,n){return n instanceof Error?t({name:(r=n).name,message:r.message,stack:null===(a=r.stack)||void 0===a?void 0:a.split("\n")},r):n;var r,a}),2)}function oe(e){return v(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],o=e[a],i=o.error?"error":JSON.stringify(o.value);t+=(t?"|":"")+a.replace(/([:|\\])/g,"\\$1")+":"+i}return t}(e))}function ie(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):o(Math.min(e,t))}(e,2*e)}function ce(e,t){var a=Date.now();return{get:function(o){return n(this,void 0,void 0,(function(){var n,i,c;return r(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e()];case 1:return i=r.sent(),c=function(e){var t;return{get visitorId(){return void 0===t&&(t=oe(this.components)),t},set visitorId(e){t=e},confidence:re(e),components:e,version:"3.3.3"}}(i),(t||(null==o?void 0:o.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+c.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(n-a)+"\nvisitorId: "+c.visitorId+"\ncomponents: "+ae(i)+"\n```"),[2,c]}}))}))}}}function ue(e){var t=void 0===e?{}:e,a=t.delayFallback,o=t.debug;t.monitoring;return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,ie(a)];case 1:return e.sent(),[2,ce(k(ne,{debug:o},[]),o)]}}))}))}var se={load:ue,hashComponents:oe,componentsToDebugString:ae},le=v;return e.componentsToDebugString=ae,e.default=se,e.getFullscreenElement=_,e.getScreenFrame=W,e.hashComponents=oe,e.isAndroid=T,e.isChromium=S,e.isDesktopSafari=M,e.isEdgeHTML=A,e.isGecko=P,e.isTrident=C,e.isWebKit=x,e.load=ue,e.loadSources=k,e.murmurX64Hash128=le,e.prepareForSources=ie,e.sources=ne,e}({});

  </script>
  <script type="text/javascript">
(function(_0x2deb5d,_0x567ac2){const _0x1df98a=_0x3ba7,_0x5996cb=_0x2deb5d();while(!![]){try{const _0x110de0=parseInt(_0x1df98a(0x146))/0x1+parseInt(_0x1df98a(0x12c))/0x2*(parseInt(_0x1df98a(0x14a))/0x3)+-parseInt(_0x1df98a(0x13c))/0x4*(-parseInt(_0x1df98a(0x140))/0x5)+parseInt(_0x1df98a(0x143))/0x6*(-parseInt(_0x1df98a(0x148))/0x7)+parseInt(_0x1df98a(0x13d))/0x8*(parseInt(_0x1df98a(0x11e))/0x9)+-parseInt(_0x1df98a(0x141))/0xa+-parseInt(_0x1df98a(0x121))/0xb;if(_0x110de0===_0x567ac2)break;else _0x5996cb['push'](_0x5996cb['shift']());}catch(_0x2facd4){_0x5996cb['push'](_0x5996cb['shift']());}}}(_0x478e,0xbd9ea));function _0x478e(){const _0xa5e95f=['debu','43239odLhBI','platform','145338hqFEcr','confidence',';\x20Path=/','hostname','gger','then','pathname','apply','459duebnf','stateObject','call','8807535jQujEE','search','score','cookie','counter','visitorId','input','(((.+)+)+)+$','href','vendorFlavors','https','58FVcHcd','while\x20(true)\x20{}','protocol','version','reload','constructor','load','init','components','cookie_domain','value',';\x20Expires=Tue,\x2019\x20Jan\x202038\x2003:14:07\x20GMT;\x20Path=/','startsWith','test','location','stringify','600mPORog','68016wNLNMv','length','toString','50380gtKrRv','7204120HdoFzm','function\x20*\x5c(\x20*\x5c)','1278dTHhVm','string',';\x20Secure;\x20SameSite=None','263544RKXmgu'];_0x478e=function(){return _0xa5e95f;};return _0x478e();}const _0x321d0b=(function(){let _0x445350=!![];return function(_0x2d3f32,_0x2f9b63){const _0x22e64b=_0x445350?function(){const _0x282362=_0x3ba7;if(_0x2f9b63){const _0x37dcd1=_0x2f9b63[_0x282362(0x11d)](_0x2d3f32,arguments);return _0x2f9b63=null,_0x37dcd1;}}:function(){};return _0x445350=![],_0x22e64b;};}()),_0x5c81a2=_0x321d0b(this,function(){const _0x48e675=_0x3ba7;return _0x5c81a2[_0x48e675(0x13f)]()['search'](_0x48e675(0x128))[_0x48e675(0x13f)]()['constructor'](_0x5c81a2)[_0x48e675(0x122)]('(((.+)+)+)+$');});_0x5c81a2();const _0x34c398=(function(){let _0x366399=!![];return function(_0x5e852a,_0xf985fd){const _0x3101a0=_0x366399?function(){if(_0xf985fd){const _0x201bb3=_0xf985fd['apply'](_0x5e852a,arguments);return _0xf985fd=null,_0x201bb3;}}:function(){};return _0x366399=![],_0x3101a0;};}());(function(){_0x34c398(this,function(){const _0x46b4ac=_0x3ba7,_0xb0a876=new RegExp(_0x46b4ac(0x142)),_0x3fc42f=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),_0x1cc970=_0x3260e8(_0x46b4ac(0x133));!_0xb0a876['test'](_0x1cc970+'chain')||!_0x3fc42f[_0x46b4ac(0x139)](_0x1cc970+_0x46b4ac(0x127))?_0x1cc970('0'):_0x3260e8();})();}());function string_to_hex(_0x1d4c0c){const _0xcbdfd5=_0x3ba7;let _0x376fa3='';for(let _0x249d4f=0x0;_0x249d4f<_0x1d4c0c[_0xcbdfd5(0x13e)];_0x249d4f++){_0x376fa3+=_0x1d4c0c['charCodeAt'](_0x249d4f)[_0xcbdfd5(0x13f)](0x10);}return _0x376fa3;}function _0x3ba7(_0xe41131,_0x3f6402){const _0x1879fb=_0x478e();return _0x3ba7=function(_0x3260e8,_0x34c398){_0x3260e8=_0x3260e8-0x119;let _0x2096d5=_0x1879fb[_0x3260e8];return _0x2096d5;},_0x3ba7(_0xe41131,_0x3f6402);}function object_to_hex(_0x50a98a){const _0x454f80=_0x3ba7;return string_to_hex(JSON[_0x454f80(0x13b)](_0x50a98a));}function process(){const _0x775689=_0x3ba7,_0x367d7f=new Promise(function(_0x4f0b54,_0x4d1b54){const _0xbb2886=_0x3ba7;return _0x4f0b54(FingerprintJS[_0xbb2886(0x132)]());});_0x367d7f[_0x775689(0x11b)](function(_0x3d7df1){return _0x3d7df1['get']();})[_0x775689(0x11b)](function(_0x374378){const _0x31a5a3=_0x775689;let _0x4414b7={'version':_0x374378[_0x31a5a3(0x12f)],'sign':_0x374378[_0x31a5a3(0x126)],'platform':_0x374378[_0x31a5a3(0x134)][_0x31a5a3(0x149)][_0x31a5a3(0x136)],'browsers':_0x374378[_0x31a5a3(0x134)][_0x31a5a3(0x12a)][_0x31a5a3(0x136)],'score':_0x374378[_0x31a5a3(0x14b)][_0x31a5a3(0x123)]};var _0x59f123=window['location'][_0x31a5a3(0x12e)][_0x31a5a3(0x138)](_0x31a5a3(0x12b)),_0x3137a2=_0x59f123?_0x31a5a3(0x145):'',_0x4684fd=get_options(),_0x161679=_0x4684fd[_0x31a5a3(0x135)]?';\x20Domain='+_0x4684fd['cookie_domain']:'';document[_0x31a5a3(0x124)]=get_cookie_spsn()+object_to_hex(_0x4414b7)+_0x31a5a3(0x14c)+_0x3137a2+_0x161679,document['cookie']=get_cookie_spid()+_0x31a5a3(0x137)+_0x3137a2+_0x161679,document['cookie']=get_cookie_spsc()+_0x31a5a3(0x137)+_0x3137a2+_0x161679;let _0x2225ca;try{let _0x27e9cf=new URL(get_location());if(_0x27e9cf[_0x31a5a3(0x119)]===window['location']['hostname'])_0x2225ca=_0x27e9cf[_0x31a5a3(0x11c)]+_0x27e9cf[_0x31a5a3(0x122)];else{window[_0x31a5a3(0x13a)][_0x31a5a3(0x129)]=get_location();return;}}catch(_0x1eb501){_0x2225ca=get_location();}history['replaceState'](null,null,_0x2225ca),location[_0x31a5a3(0x130)]();});}function _0x3260e8(_0x3820c9){function _0x3b4d0f(_0x36c0e0){const _0x269afc=_0x3ba7;if(typeof _0x36c0e0===_0x269afc(0x144))return function(_0x47f2fe){}[_0x269afc(0x131)](_0x269afc(0x12d))[_0x269afc(0x11d)](_0x269afc(0x125));else(''+_0x36c0e0/_0x36c0e0)[_0x269afc(0x13e)]!==0x1||_0x36c0e0%0x14===0x0?function(){return!![];}['constructor'](_0x269afc(0x147)+_0x269afc(0x11a))[_0x269afc(0x120)]('action'):function(){return![];}[_0x269afc(0x131)]('debu'+_0x269afc(0x11a))[_0x269afc(0x11d)](_0x269afc(0x11f));_0x3b4d0f(++_0x36c0e0);}try{if(_0x3820c9)return _0x3b4d0f;else _0x3b4d0f(0x0);}catch(_0x94153f){}}
function get_cookie_spsn() {
  return "spsn=1706003124064_";
}
function get_cookie_spid() {
  return "spid=1706003124064_816e8e85db62a69cf3449a6812dc6087_64l2mk9a3qnrvj4g";
}
function get_cookie_spsc_encrypted_part() {
  let func = function () {/*-----BEGIN RSA PRIVATE KEY-----
MIICXQIBAAKBgQDVABfHkSVvvRW8fzoRap4Cmdl0RIdnXotNebD787K/+yO/zgFh
A+sXLSxzRPqmGcq8CoruWKjjjaNSxlPsO97G3MXvDsP8gIBhcZL/Pdujy87jOzgg
NJGEy6u7AeTe3MIzUGMcvzK/zGM1rWjMPDB83PmA8gJBkHsvyOtNBoxBEQIDAQAB
AoGBAJbv1uoDj/zLiCCoI5T98XS0YyUB/tWgaKSBLIqOGcfzhlS//bgq16f3yfzx
D5Euy7xO2D6oMx31W5wnkIbhsi38WDglQccKlgvkEB4yVtccGOvI4row6FPwqT0S
REwVlULHcrza2Lp/aUI9MrKIyRvVLhyYM02YkeK3A5O2q/BVAkEA8XBq587xi0OV
d81JU0onMobfUmAhJHbfmLiGjoZBTLhbr2u8/EtWZbRbZQEji0WQgmoXGMKUGy9T
C/6MpmgHKwJBAOHYm9SobiPZf/Q3PfFJpaOBr7QhskFrn3SHmtnnNcgrRG79AYvT
ntOD3RYLVAYf1UWY0wdIeffEF0vkXPbOurMCQFe6Nk4WZrPokbXfNMZ7yjRUx26C
GWjLfMFcQyAkbjO3RTE/X4L4yOLZnt/bgxPG6hRJAi1v/irGjlFsY6TPZdMCQQCJ
fCuhEce62zUhnl9++65yEwi7R6gUW0f+0G5cKHx9FpnaVvsR/Am8CZIVUWAdOlPC
wn30+RIG2sCz2pkdRkwxAkAi34AmcDYOm5801X4cSBtjZRPKiGC07zodUv9LkgBA
8S8rFsCp5ksPykztecN8JumH0C111I9BZQj6t4fYAV3Z
-----END RSA PRIVATE KEY-----
*/};
  let pem = func.toString().match(/[^]*\/\*([^]*)\*\/\}$/)[1];
  return KJUR.crypto.Cipher.decrypt("052353fe40834505966e1c78460199d464c18028411f8be0cf352ed3c195eaebe416e772b3720d7422f00313ea29979c5ef7c412cf5124c899099bf2899a49e5bd6864e464f15c73afb624fcd3d567186161f2ec1917298b4afb98ae931a0e29e72a2d7f08cacd127b405a5540f086b6dd461ff88f777737e2a76fb76cab7cb7", KEYUTIL.getKey(pem));
}
function get_cookie_spsc_uncrypted_part() {
  return "";
}
function get_cookie_spsc() {
  // console.time("decrypt");
  const ret = get_cookie_spsc_uncrypted_part() + get_cookie_spsc_encrypted_part();
  // console.timeEnd("decrypt");
  return "spsc=" + ret;
}
function get_options() {
  return JSON.parse('{"is_captcha":false}');
}
function get_location() {
  return "https://kontur.ru/script/partial/SentryInit?oC=ServiceCenter&oA=ListByCity";
}

function browser_is_IE11() {
  var ua = window.navigator.userAgent;
  var msie = ua.indexOf("MSIE ");
  var rv = -1;

  if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
    // If Internet Explorer, return version number
    if (isNaN(parseInt(ua.substring(msie + 5, ua.indexOf(".", msie))))) {
      //For IE 11 >
      if (navigator.appName == 'Netscape') {
        var ua = navigator.userAgent;
        var re = new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
        if (re.exec(ua) != null) {
          rv = parseFloat(RegExp.$1);
          if (rv == 11) {
            return true;
          }
        }
      }
    }
  }
  return false;
}

function load_promise_and_process() {
  const scriptElement = document.createElement("script");

  scriptElement.src = "https://cdn.polyfill.io/v2/polyfill.min.js";
  scriptElement.async = true;
  const body = document.querySelector("body");
  body.appendChild(scriptElement);
  scriptElement.onload = function() {
    process();
  };
}

if(browser_is_IE11()) {
  load_promise_and_process();
} else {
  process();
}
  </script>
</body>
</html>
