.mc-text--color-lvl1{color:#bfc3c8}.mc-text--color-lvl2{color:#a0afb4}.mc-text--color-lvl3{color:#cc9d19}.mc-text--color-primary{color:#cbc088}.mc-text--color-shadow{color:#645f3f}.mc-text--color-foreground{color:#524e31}.mc-btn,.mc-btn--primary,.mc-btn:active,.mc-btn:focus,.mc-btn:hover{background-color:#cbc088;color:#fff}.mc-btn--inverse:disabled,.mc-btn:disabled{background-color:#645f3f;color:#cbc088}.mc-btn--inverse,.mc-btn--inverse:active,.mc-btn--inverse:focus,.mc-btn--inverse:hover,.mc-btn--primary:active,.mc-btn--primary:focus,.mc-btn--primary:hover{background-color:#fff;color:#aaa171}.mc-background--modal{background-size:100% auto;background-repeat:no-repeat;background-image:url(/assets/img/mascotcards/theme-summer/modal-bg--wide_191d7.png)}@media (min-width:30em){.mc-background--modal{background-image:url(/assets/img/mascotcards/theme-summer/modal-bg_de99e.png)}}.mc-bg--color-modal-t{background-color:#ffa08a}.mc-background--primary{background-color:#cbc088!important}.mc-background--shade{background-color:#aaa171!important}.mc-background--shadow{background-color:#645f3f!important}.mc-background--grey{background:linear-gradient(-180deg,#727272,#4b4b4b)}.mc-background--lvl1{background:#e9eaed!important}.mc-background--lvl2{background:linear-gradient(135deg,#dae7ec,#a0afb4 53%,#dae7ec)!important}.mc-background--lvl3{background:linear-gradient(135deg,#f5d57a,#cc9d19 53%,#f5d57a)!important}.mc-supportImage--mascot{background-image:url(/assets/img/mascotcards/theme-summer/modal-logo_0f2ab.png);width:12.5em;padding-top:106%}.mc-notification{margin:0 auto;max-width:90%;position:fixed;bottom:0;right:0;left:0;height:0;transform:translateZ(0)}.mc-notification-character--peek,.mc-notification-character--win{pointer-events:none}.mc-notification-character--peek{position:absolute;top:-125px;right:0;left:0;margin:0 auto;z-index:-1}.mc-notification-character--win{position:relative}.mc-notification-inner{width:510px;position:absolute;right:0;bottom:0;top:110px;border:solid #fff;border-width:4px 4px 0;transition-property:top;transition-duration:.45s;transition-timing-function:cubic-bezier(1,.3,.6,1.2)}.mc-notification-inner--peek{top:-100px!important;width:420px}.mc-notification-inner--reveal{top:-200px!important}.mc-notification-inner--reveal-lvl3{top:-270px!important}.mc-notification-inner--hide{top:110px!important}@media (min-width:48em){.mc-notification{right:20px;max-width:unset}.mc-notification-character--peek,.mc-notification-character--win{position:absolute;margin:auto;left:auto}.mc-notification-character--peek{top:-60px;right:3px;z-index:0}.mc-notification-character--win{bottom:-20px;right:10px;z-index:0}}@media (max-width:47.99688em){.mc-notification-btn{position:relative;top:-20px}.mc-notification-inner{transition-duration:.35s;width:100%;top:110px}.mc-notification-inner--peek{width:100%}.mc-notification-inner--reveal{top:-460px!important}.mc-notification-inner--reveal-lvl3{top:-500px!important}}@media screen and (max-height:550px) and (max-width:768px){.mc-notification-character--win{width:120px!important}}.mc-notification-shadow{box-shadow:0 2px 3px 0 rgba(0,0,0,.4)}@media screen and (max-height:550px) and (max-width:768px){.mc-notification-inner--reveal{top:-380px!important}}@media screen and (max-height:550px) and (max-width:768px){.mc-notification-inner--reveal-lvl3{top:-440px!important}}.mc-notification-inner--reveal-miss{top:-150px}.mc-notification-close{position:absolute;top:-15px;right:-15px;width:30px;height:30px}.mc-notification-effect--tada{animation-duration:1s;animation-fill-mode:both;animation-timing-function:ease-in-out;animation-iteration-count:1;animation-name:tada}@keyframes tada{0%{transform:scale(1)}10%,20%{transform:scale(.9) rotate(-3deg)}30%,50%,70%,90%{transform:scale(1.1) rotate(3deg)}40%,60%,80%{transform:scale(1.1) rotate(-3deg)}to{transform:scale(1) rotate(0)}}.mc-supportImage--campaign{background-image:url(/assets/img/mascotcards/theme-summer/modal-logo--campaign_d9d1a.png);width:13.75em;padding-top:69.09091%}.mc-modal--mascot{width:12.5em;padding-top:106%;position:relative}.mc-modal--img{width:100%;position:absolute;top:0;left:0}"ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};return e.replace(/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,(e=>t[e]||e)).replace(/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,"")}}},121:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c}));const s=e=>("0"+e.toString(16)).substr(-2),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return Array.from((window.crypto||window.msCrypto).getRandomValues(new Uint8Array(e/2)),s).join("")},r=e=>+e<10?"0".concat(+e):e.toString(),i=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent},o=e=>e.replace(/\r?\n|\r/g,""),l=e=>/^[a-z][A-Za-z\d]*$/.test(e),c=e=>(new DOMParser).parseFromString(e,"text/html").body.textContent},122:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var s=a(16);function n(e,t){window.hj?window.hj(e,t):i.push([e,t])}function r(e){Object(s.e)(e,(e=>{e&&function(e){let{hotJar:t,features:a}=e;if(window.hj||!a.hotJar||!a.cookiePolicy.allowTracking)return;s=window,n=document,r="https://static.hotjar.com/c/hotjar-",o=".js?sv=",s.hj=function(){(s.hj.q=s.hj.q||i).push(arguments)},s._hjSettings={hjid:t.id,hjsv:6},l=n.getElementsByTagName("head")[0],(c=n.createElement("script")).async=!0,c.src=r+s._hjSettings.hjid+o+s._hjSettings.hjsv,l.appendChild(c);var s,n,r,o,l,c}(e)}))}const i=[]},124:function(e,t,a){"use strict";var s=a(0),n=a.n(s),r={replace:function(e,t,a){var s,r,i,o={},l={position:"absolute",opacity:0};let c={};function u(e,t,a){var s=e.parent();e.replaceWith(t),a.onFinish&&a.onFinish(t.length?t:s),a.preventDomChangedEvent||s.trigger("domChanged")}var d,p,h,m;return e.length&&(e.data("transitionSource")?e.stop().remove():(e.data("transitionReplacement")&&e.stop().removeAttr("style"),((a=n.a.extend({fade:!0,slide:!1,duration:500},a)).fade||a.slide)&&a.duration?(s=e.position(),r=e.width(),l.width=r,l.top=c.top=s.top+"px",l.left=c.left=s.left+"px",a.fade?(c.opacity=1,o.opacity=0):l.opacity=1,(d=a.slide)&&(p=r+10,m="left"===d||"top"===d?1:-1,l[h="left"===d||"right"===d?"left":"top"]=s[h]+m*p+"px",o[h]=-m*p),"static"===e.css("position")&&e.css("position","relative"),i=n()(t).css(l).insertBefore(e),o.height=i.height()+"px",e.css("height",e.height()+"px"),e.css("max-height","none"),i.data("transitionReplacement",!0),i.animate(c,{duration:a.duration,queue:!1}),e.data("transitionSource",!0).animate(o,{duration:a.duration,queue:!1,complete:function(){a.keepStyle||i.removeAttr("style"),i.data("transitionReplacement",null),u(e,i,a)}})):(i=n()(t),u(e,i,a)))),e}};t.a=r},1305:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a(79),r=a(616),i=a(908),o=a(540),l=a(685),c=a(930),u=a(1038),d=a(630),p=a(909),h=a(890);const m=e=>({threadItem:Object(p.d)(e),discussions:Object(p.a)(e)}),f={routeValidators:[d.c],routeData:m,metaInfo(){return this.metaData}};var v=Object(s.defineComponent)(Object.assign({},f,{__name:"thread-discussion",setup(e,t){let{expose:a}=t;const{threadItem:d,discussions:p}=Object(n.c)(),f=Object(s.computed)((()=>{var e,t,a;return null===(e=p.data)||void 0===e||null===(t=e.value)||void 0===t||null===(a=t.threads)||void 0===a?void 0:a.length})),v=Object(s.computed)((()=>d.thread.data.value));return Object(r.b)(p.data),a({metaData:Object(c.a)(v)}),{__sfc:!0,routeData:m,threadItem:d,discussions:p,isDiscussionShown:f,thread:v,ThreadItemDescription:h.a,ThreadItem:i.a,TwigPortal:o.a,DiscussionHorizontalWidget:l.a,ThreadDetailSimple:u.a}}})),g=a(44),b=Object(g.a)(v,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.ThreadItem,{attrs:{"route-data":a.threadItem}},[a.thread?t(a.TwigPortal,{attrs:{to:"#threadDetailSimplePortal"}},[t(a.ThreadDetailSimple,{attrs:{thread:a.thread}})],1):e._e(),t(a.TwigPortal,{attrs:{to:"#threadDescriptionItemPortal"}},[t(a.ThreadItemDescription,{staticClass:"threadItem-content space--t-3",attrs:{thread:a.thread}})],1),a.isDiscussionShown?t(a.TwigPortal,{attrs:{to:"#discussionHorizontalWidgetPortal",lazy:""}},[e.$breakpoint.mdAndDown?t(a.DiscussionHorizontalWidget,{attrs:{"card-classes":"card--space-responsive","carousel-classes":"scrollBox-space--m-s scrollBox-space--fromW3-l-s"}}):e._e()],1):e._e()],1)}),[],!1,null,null,null);t.default=b.exports},133:function(e,t,a){"use strict";var s=a(19),n=a(180);let r={};const i="scroll-vector";r.on=(e,t)=>{let a=e.data(i);if(!a){const t=new n.a.Speed(e.scrollTop());let r,o;e[0]===window?(r=(e,a)=>{t.set(a.scrollTop)},o="throttledScroll"):(r=s.a.rafThrottle((()=>{t.set(e.scrollTop())})),o="scroll"),a={speed:t,handler:r,eventName:o},e.on(o,r),e.data(i,a)}return a.speed.observe(t),a.speed},r.off=(e,t)=>{const a=e.data(i);a&&(a.speed.detach(t),a.speed.callbacks.length||e.off(a.eventName,a.handler).data(i,null))},t.a=r},138:function(e,t,a){"use strict";var s=a(0),n=a.n(s),r=a(2);const i=function(e){0===e.indexOf("?")&&(e=e.slice(1));return e.split("&").reduce(((e,t)=>(e[(t=t.split("="))[0]]=decodeURIComponent(t[1]||""),e)),{})},o=function(e){return Object.keys(e).map((t=>t+"="+encodeURIComponent(e[t]))).join("&")},l=function(e,t){if(!Array.isArray(e)||!t)return{};const a=i(t);return e.reduce(((e,t)=>(a.hasOwnProperty(t)&&(e[t]=a[t]),e)),{})},c=function(e){const t=e.split("?")[1];return t?i(t):{}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(e).length?t?t.split("?")[0]+"?"+o(e):o(e):t||""};var d=a(161);function p(e){if(history.pushState){let t=function(e,t){return u(Object.assign({},l(t,location.search),c(e)),e)}(e.endpoint,e.mergeQuery);-1===e.endpoint.indexOf("#")&&(t+=location.hash);try{history[e.replace?"replaceState":"pushState"](e.data,document.title,t),e.trackPageView&&Object(d.a)()}catch(e){}}}r.a.add("history","history click",(function(e,t,a){if("click"===a.type&&t.delegate){n()(a.target).closest("a").length&&p(t)}else p(t)}),{preventDefault:!1,events:["click"]});const h=history.state;h&&h.scrollTo&&n()((()=>{let e=0;if("number"==typeof h.scrollTo)e=h.scrollTo;else{const t=n()(h.scrollTo);if(t.length){const a=h.scrollContainer||document.body;e=t.offset(),e=Math.min(e.top-(h.offset||0),n()(a).height()-n()(window).height())}h.className&&t.toggleClass(h.className)}scrollTo(0,e)}));t.a={state:p}},151:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(5),n=a(4);const r=()=>({currentUser:Object(s.computed)((()=>n.a.getters["auth/me"])),isLoggedIn:Object(s.computed)((()=>n.a.getters["auth/loggedIn"]))})},152:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(5),n=a(16),r=a(4);const i=(e,t)=>{let a=0;const i=Object(s.ref)(!1);return function(l){if(++a>1)return;let c;return Object(s.onUnmounted)((()=>{var t;--a>0||!i.value||(o("".concat(e,"/tearDown")),null===(t=c)||void 0===t||t(),r.a.unregisterModule(e))})),Object(n.e)(l,(s=>{if(s&&0!==a){if(i.value)return o("".concat(e,"/replace"),s);r.a.registerModule(e,t(s,(e=>c=e))),i.value=!0}})),i}};function o(e,t){e in r.a._actions&&r.a.dispatch(e,t)}},153:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p}));var s=a(4),n=a(6),r=a(1);const i=Object(n.c)({queries:[r.T],merge:!0});var o=a(26),l=a(28);const c=Object(l.a)(),u=async function(){var e;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])return c.promise;const t=await i({}).then((e=>e.request)).then((e=>{let{settings:t,features:a}=e;return{settings:t,features:a}})),{faye:{token:a}}=t.settings,n=t.features.faye,r="live/it".replace("/","-"),o=null===(e=s.a.getters["auth/me"])||void 0===e?void 0:e.userId,l=s.a.getters["auth/loggedIn"];return d({token:a,url:"https://faye.prod-eks.pepper.com/faye",waitToConnect:l?2e3:1e4,userId:o,env:r,isEnabled:n}),c.promise},d=async e=>{let{userId:t,env:s,token:n,url:r,isEnabled:i,waitToConnect:u}=e;const d=!Object(o.b)(navigator.userAgent);Boolean(d&&s&&i&&n&&r)&&(await Object(l.d)(u),a.e(166).then(a.t.bind(null,1218,7)).then((e=>{const a=new e.Client(r);a.env=s,t&&(a.userId=t,a.addExtension({outgoing:(e,a)=>{"/meta/subscribe"===e.channel&&(e.ext=e.ext||{},e.ext.token=n,e.ext.userId=t),a(e)}})),c.resolve({client:a})})))},p=(e,t)=>({channel:e,keepAlive:t,handle:void 0,userId:void 0,timeout:void 0,async open(e){if(this.isOpen())return;const{client:t}=await c.promise;this.handle=e,this.userId=t.userId,t.subscribe("/".concat(this.channel,"/").concat(t.env),this.handle),this.keepAlive&&(this.timeout=setTimeout(this.close.bind(this),this.keepAlive))},async close(){if(!this.isOpen())return;const{client:e}=await c.promise;this.userId=void 0,this.handle=void 0,this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),e.unsubscribe("/".concat(this.channel,"/").concat(e.env),this.handle)},isOpen(){return void 0!==this.handle}})},154:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var s=a(4),n=a(41),r=a(153),i=a(157),o=a(95);const l=()=>{s.a.dispatch("auth/tearDown"),sessionStorage.removeItem(n.a)},c=async()=>{try{await Object(n.c)(),l(),location.href="/",localStorage.removeItem(i.a),Object(o.a)()}catch(e){}},u=async()=>{const{client:e}=await Object(r.b)();e.userId&&e.subscribe("/private/user/".concat(e.env,"/").concat(e.userId,"/updates"),(e=>{switch(e.notificationType){case"unseenConversationCount":s.a.commit("auth/UPDATE_CONVERSATION_COUNTS",{unseen:e.unseenConversationCount});break;case"newActivitiesCount":s.a.commit("auth/UPDATE_NOTIFICATION_COUNTS",{new:e.newActivitiesCount})}}))}},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var s=a(5),n=a(25),r=a(152);function i(e){return{allowFunctionalityCookies:null==e?void 0:e.allowFunctionalityCookies,cookieMessage:null==e?void 0:e.cookieMessage,allowTracking:null==e?void 0:e.allowTracking,allowPersonalization:null==e?void 0:e.allowPersonalization,gaCookiesAsAnalytical:null==e?void 0:e.gaCookiesAsAnalytical}}const o={settings:e=>{let{allowFunctionalityCookies:t,allowTracking:a,allowPersonalization:s}=e;return{allowFunctionalityCookies:t,allowTracking:a,allowPersonalization:s}},isAllAccepted:e=>{let{allowFunctionalityCookies:t,allowTracking:a,allowPersonalization:s}=e;return t&&a&&s},cookieMessage:e=>{let{cookieMessage:t}=e;return t}},l={setAll(e,t){let{commit:a,getters:s}=e;const n=s.settings;return a("MERGE",Object.fromEntries(Object.keys(n).map((e=>[e,t]))))},set(e,t){let{commit:a}=e;return a("MERGE",t)},replace(e,t){let{commit:a}=e;return a("REPLACE",t)}},c={MERGE(e,t){Object.assign(e,t)},REPLACE(e,t){Object.assign(e,i(t))}};const u=Object(r.a)("cookiePolicy",(e=>({namespaced:!0,state:i(e),mutations:c,actions:l,getters:o})));function d(e){const{cookieMessage:t}=e.value,a=Object(s.computed)((()=>t&&!n.b));return u(e),{showCookiesMessage:a}}},156:function(e,t,a){"use strict";a.d(t,"b",(function(){return f.b})),a.d(t,"a",(function(){return O}));var s=a(21),n=a(13),r=a(86),i=a.n(r);function o(e){var t;if("view"!==e.type||"thread"!==e.target.name)return e;const a=null===(t=e.target.data)||void 0===t?void 0:t.id;if(!a){if(!p)throw Error("Missing thread id: ".concat(Object(n.f)(e.context)));return}if(e.simulate)return l(e);const s=Object(n.f)(e.context)+location.href;return u.has(s)?u.get(s).target.data.ids+=".".concat(a):u.set(s,l(e)),d(),null}const l=e=>({type:"view",target:{name:"threads",data:{ids:e.target.data.id}},context:e.context,services:e.services,interaction:!1});function c(){for(const[e,t]of u)Object(f.b)(t),u.delete(e)}const u=new Map,d=i()(c,1e3),p=!0;window.addEventListener("pagehide",c);var h=a(78),m=a(63),f=a(97),v=a(5),g=a(29);const b=new WeakMap,y=new WeakMap,_={bind:function(e,t){let{arg:a,value:s,modifiers:n}=t;y.set(e,(y.get(e)||0)+1),Object(g.d)(e)&&(Object(m.g)(e),b.delete(e));const r=Object.keys(n);r.length?(Object(m.b)(e,r,a,s),b.set(e,r.join(","))):Object(g.f)(e,a,s)},update:function(e,t){const a=Object.keys(t.modifiers).join(",");if((b.get(e)||"")!==a)return;const{arg:s,value:n}=t;Object(g.f)(e,s,n)},unbind:function(e){const t=y.get(e)-1;y.set(e,t),t>0||"#comment"===e.nodeName||Object(m.g)(e)}};v.default.directive("track",_);var x=a(55),w=a(49),C=a(25);function k(){!function(){const e="G-7S6HXDXW14";if(C.b||!e||!x.a)return;Object(x.d)(e),Object(x.c)(e,{user_id:Object(w.d)()})}(),function(){const e="",t=0;if(C.b||!e)return;Object(x.d)(e),Object(x.c)(e,{sample_rate:t,groups:"errors",user_id:Object(w.d)()})}()}function O(){s.l.onReady((()=>{Object(f.a)(o),Object(m.f)(f.b),Object(h.a)(),k()})),window.__pepperTrack=async()=>{(await a.e(199).then(a.bind(null,1324))).init()}}},157:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var s=a(5),n=a(151);const r="hide_latest_news_widget",i=e=>{const{isLoggedIn:t}=Object(n.a)(),a=Object(s.computed)((()=>{var t,a;return null===(t=e.value)||void 0===t||null===(a=t.settings)||void 0===a?void 0:a.displayedForGuests})),r=Object(s.computed)((()=>{var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.items.map(((e,t)=>Object.assign({index:t+1},e))))||[]}));return{showWidget:Object(s.computed)((()=>{var e;return!(null===(e=r.value)||void 0===e||!e.length)&&(!a.value||!t.value)})),news:r}}},158:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));a(49);const s=()=>Promise.all([a.e(169),a.e(135)]).then(a.bind(null,315)),n=()=>!1;function r(e){n()&&s().then((t=>{let{trackRecombee:a}=t;return a(e)}))}function i(e,t){n()&&s().then((a=>{let{trackRecombeeVisit:s}=a;return s(e,t)}))}},159:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var s=a(55),n=a(13);const r=e=>Object.entries(e).map((e=>{let[t,a]=e;return"".concat(t,":").concat(a)})).join(",");function i(e){const t=Object(n.b)({},e);return{event_category:Object(n.f)(e.context),event_label:r(t),non_interaction:!e.interaction}}function o(e){Object(s.b)("event",Object(n.e)(e),i(e))}},160:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var s=a(13),n=a(122);function r(e){Object(n.a)("event",Object(s.e)(e))}function i(e){Object(n.a)("stateChange",e)}},161:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(4),n=a(90),r=a(13),i=a(155);function o(e){e&&Object(i.a)(e),Object(n.b)(l())}const l=()=>({type:"view",target:{name:"page",data:null},context:[{name:"listing",data:{view:s.a.state.application.threadListingMode}}],interaction:!1,services:[r.a.Ocular]})},162:function(e,t,a){"use strict";var s=a(0),n=a.n(s);n.a.extend(n.a.expr[":"],{textControl:function(e){return"TEXTAREA"===e.nodeName||"INPUT"===e.nodeName&&-1==="radio checkbox button submit reset hidden file".indexOf(e.type)},inputControl:function(e){return"SELECT"===e.nodeName||"TEXTAREA"===e.nodeName||"INPUT"===e.nodeName&&-1==="button submit reset hidden".indexOf(e.type)}})},180:function(e,t,a){"use strict";var s=a(10),n=a.n(s),r=a(11),i=a.n(r),o={},l=1e3,c=6e4,u=36e5,d=24*u;o.remaining=function(e){var t=new Date(e)-Date.now();return t<0&&(t=0),{days1:Math.floor(t/d/10),days2:Math.floor(t/d)%10,hours1:Math.floor(t%d/u/10),hours2:Math.floor(t%d/u)%10,minutes1:Math.floor(t%u/c/10),minutes2:Math.floor(t%u/c)%10,seconds1:Math.floor(t%c/l/10),seconds2:Math.floor(t%c/l)%10}},o.Speed=function(){function e(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;n()(this,e),this.factor=a,this.time=Date.now(),this.value=t,this.speed=0,this.callbacks=[]}return i()(e,[{key:"set",value:function(e){if(this.value!==e){const t=Date.now();this.speed=this.factor*(e-this.value)/(t-this.time),this.time=t,this.value=e,this.callbacks.forEach(this.trigger,this)}return this}},{key:"trigger",value:function(e){return e(this.speed,this),this}},{key:"observe",value:function(e){return this.callbacks.push(e),this}},{key:"detach",value:function(e){const t=this.callbacks.indexOf(e);return t>-1&&this.callbacks.splice(t,1),this}}]),e}(),t.a=o},181:function(e,t,a){"use strict";var s=a(10),n=a.n(s),r=a(11),i=a.n(r),o=a(3);let l=function(){function e(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a.cachedRect(t[0],!0);n()(this,e),this.$elem=t,this.set(s,a)}return i()(e,[{key:"set",value:function(e,t){this.rect=e.move(0,t)}},{key:"get",value:function(e){const t=o.a.cachedRect(this.$elem[0]);return t.cached||this.set(t,e),this.rect.move(0,-e)}}]),e}();t.a={ScrollRect:l}},182:function(e,t,a){"use strict";var s=a(10),n=a.n(s),r=a(11),i=a.n(r),o=a(0),l=a.n(o),c=a(3),u=a(89),d=a(133),p=a(181),h=a(30),m=a(2);const f="scroll-trigger",v="js-".concat(f),g="".concat(f,"-instance"),b=[];let y=function(){function e(t){n()(this,e);let a=t.data(g);return a||(a=this,a.$elem=t,a.elem=t[0],a.cache=a.elem===window,a.elemRect=(a.cache?c.a.cachedRect:c.a.rect).bind(null,a.elem),t.data(g,a),this.destroyed=!0),a.destroyed&&(b.push(a),a.destroyed=!1,a.ungrouped=[],a.grouped={},a.scrollSpeed=d.a.on(a.$elem,u.a.boundMethod(a,"scrollHandler"))),a}return i()(e,[{key:"add",value:function(e){const t=e.options.group;t?(this.grouped[t]||(this.grouped[t]=[])).push(e):this.ungrouped.push(e)}},{key:"remove",value:function(e){const t=e.options.group?this.grouped[e.options.group]||[]:this.ungrouped,a=t.indexOf(e);a>-1&&t.splice(a,1)}},{key:"destroy",value:function(){b.splice(b.indexOf(this),1),d.a.off(this.$elem,u.a.boundMethod(this,"scrollHandler")),this.destroyed=!0}},{key:"scrollHandler",value:function(){this.scrollUpdate()}},{key:"scrollUpdate",value:function(){const t=this.elemRect();this.ungrouped.slice().forEach((a=>{e.conditions[a.options.condition](a,t)})),Object.keys(this.grouped).forEach((a=>{const s=this.grouped[a];s.length&&e.conditions[s[0].options.condition](s,t)}))}}]),e}();y.conditions={inView(e,t){const{duration:a=.5,limit:s=2500}=e.options.args,n=e.rect(),r=e.container.scrollSpeed.speed,i=Math.min(r*a,s),o=t.add(i<0?i:0,0,i>0?i:0,0);e.setActive(Boolean(o.intersection(n).area()))},closest(e,t){const{boundary:a=0}=e[0].options.args,s=t.top+a*t.height()/100;let n=1/0,r=-1/0,i=null;e.forEach((e=>{const t=s-e.rect().top;t<n&&(t>0?(n=t,i=e):n===1/0&&t>r&&(r=t,i=e))})),i.active||e.forEach((e=>{e.setActive(e===i)}))},inArea(e){Array.isArray(e)||(e=[e]);const{top:t=0,bottom:a=0}=e[0].options.args;e.forEach((e=>{const{top:s}=e.elem.getBoundingClientRect();!e.active&&s>t&&s<a?e.setActive(!0):e.setActive(!1)}))},wrapsArea(e){Array.isArray(e)||(e=[e]);let{top:t=0,bottom:a}=e[0].options.args;a||(a=t),e.forEach((e=>{const{top:s,bottom:n}=e.rect();e.setActive(n>t&&s<a)}))}};let _=function(){function e(t){n()(this,e);let a=t.data(g);if(!a){a=this;const s=m.a.params(f,t);a.$elem=t,a.elem=t[0],a.active=!1,a.destroyed=!1,a.options=l.a.extend(!0,{},e.defaults,s);const n=a.options;n.container&&(n.$container=c.a.findTargets(t,n.container),delete n.container),t.data(g,a)}return a.container=new y(a.options.$container),a.container.add(a),a.container.cache&&(a.scrollRect=new p.a.ScrollRect(a.$elem,a.container.scrollSpeed.value)),a}return i()(e,[{key:"rect",value:function(){return this.container.cache?this.scrollRect.get(this.container.scrollSpeed.value):c.a.rect(this.elem)}},{key:"destroy",value:function(){this.container.remove(this),this.$elem.removeClass(v),this.$elem.data(g,null),this.$elem=null,this.elem=null,this.destroyed=!0}},{key:"setActive",value:function(e){if(!this.destroyed&&this.active!==e){const t=this.options,a=t[e?"onEvent":"offEvent"];t.onClass&&this.$elem.toggleClass(t.onClass,e),t.offClass&&this.$elem.toggleClass(t.offClass,!e),a&&c.a.findTargets(this.$elem,t.target).triggerAll(a,t.eventParams),e&&t.oneOff&&this.destroy(),this.active=e}}},{key:"scrollUpdate",value:function(){y.conditions[this.options.condition](this,this.container.elemRect())}}]),e}();function x(){if(!h.a.badScrollPerformance()){const e=l()(".".concat(v));e.toArray().forEach((e=>new _(l()(e)))),e.removeClass(v),setTimeout((()=>{b.forEach((e=>{e.scrollUpdate()}))}),0)}}_.defaults={$container:c.a.$win,target:"$self",condition:"inView",args:{},eventParams:{}},c.a.$win.on("debouncedDomChanged",x),t.a={initAll:x,ScrollTrigger:_,DIRECTIVE_NAME:f}},242:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l}));const s=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},n=(e,t,a)=>{new IntersectionObserver(((e,a)=>{e.forEach((e=>{e.isIntersecting&&(a.unobserve(e.target),t(e.target))}))}),a).observe(e)},r=(e,t,a)=>(e.addEventListener(t,a),()=>e.removeEventListener(t,a));let i=0;function o(e){i+=e?1:-1,1===i&&document.body.classList.add("overflow--hidden"),0===i&&document.body.classList.remove("overflow--hidden")}function l(e,t){const a=document.createElement(t);for(const t of e.attributes)a.setAttributeNS(null,t.name,t.value);for(;e.firstChild;)a.appendChild(e.firstChild);return e.replaceWith(a),a}},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return C}));var s=a(5),n=a(4),r=a(64),i=a(208),o=a.n(i),l=a(21),c=a(0),u=a.n(c),d=a(2),p=a(182),h=a(65);const m=(()=>{let e=0,t=null;function a(){e>0||(t=setTimeout((()=>{window.prerenderReady=!0}),1e3))}return{add(){e+=1,clearTimeout(t)},remove(){e-=1,a()},checkReady:a}})();document.addEventListener("DOMContentLoaded",m.checkReady);var f=a(28),v=a(87);const g="vue2",b=r.a.get(),y=(()=>{let e={};const t=new h.a;return{add:a=>{Object.keys(a).forEach((s=>{s in e||(e[s]=a[s],t.fire(s))}))},get:function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e4;return a in e?(n=e[a],"function"!=typeof n||n.extend?Promise.resolve(n):n().then((e=>e.default))).then((e=>Object(f.c)().then((()=>e)))):new Promise(((e,n)=>{setTimeout(n,s),t.one(a,(()=>e(y.get(a))))}));var n},reset:()=>e={}}})(),_=e=>e.data("vue-instance"),x=e=>{if(_(e))return;const{id:t,name:a,attrs:r,props:i,domProps:c,mapState:p,class:h,useStoreProps:f,vModel:x}=d.a.params(g,e),w=t||a;f&&!(w in n.a.state.component.state)&&n.a.dispatch("component/update",{id:w,props:i});const C=e=>p?Object.entries(p).reduce(((e,t)=>{let[a,s]=t;const n=o()(b,s);return void 0!==n&&(e[a]=n),e}),e||{}):e,k=y.get(a);k.catch((()=>{throw Error("Missing embed: ".concat(a))})),k.finally(m.remove);const O=k.then((t=>new s.default({el:e[0],name:"Wrapper:".concat(a),mixins:[f?{data:()=>({storeProps:Object.keys(i).reduce(((e,t)=>{const a="string"==typeof i[t]&&i[t]?i[t]:t;return Object.defineProperty(e,t,{get:()=>Object(v.c)(n.a.state.component.state[w].props)(a),set(e){n.a.commit("component/MERGE_FIELD",{path:"state.".concat(w,".props.").concat(a),value:e})},configurable:!0,enumerable:!0}),e}),{})})}:{}],store:n.a,router:l.l,async mounted(){u()(this.$el).trigger("domChanged")},render(e){const a=this;return e(t,{props:f?a.storeProps:C(i),attrs:r,domProps:c,class:h,on:f&&x?{update(e){a.storeProps[x]=e}}:{}})}})));e.data("vue-instance",O)},w=async e=>{if(e.data("vue-initialised"))return;const{lazy:t}=d.a.params(g,e);t?((e=>{d.a.updateParams(p.a.DIRECTIVE_NAME,e,{oneOff:!0,onEvent:"vueCreate"}),new p.a.ScrollTrigger(e).scrollUpdate()})(e),await Object(f.b)(),x(e)):x(e),m.add(),e.data("vue-initialised",!0)},C=()=>{u()(".js-vue2").toArray().map((e=>u()(e))).forEach(w)};document.addEventListener("DOMContentLoaded",C),d.a.add(g,"init",w),d.a.add(g,"vueCreate",x),d.a.add(g,"destroy",(async e=>{const t=await _(e);t&&t.$destroy()}))},29:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return h})),a.d(t,"g",(function(){return f}));var s=a(121),n=a(16),r=a(0),i=a.n(r);const o=!0;function l(e){return{name:e.dataset.t,data:b.get(e)||(e.dataset.tD?JSON.parse(e.dataset.tD):null)}}function c(e,t,a){v(t),e.dataset.t!==t&&(e.dataset.t=t),a?(g(a),b.set(e,a)):b.has(e)&&b.delete(e)}function u(e){delete e.dataset.t,b.delete(e)}function d(e){var t;return!(null==e||null===(t=e.dataset)||void 0===t||!t.t)}const p=e=>e.closest("[data-t]"),h=e=>m(e).map((e=>l(e)));function m(e){const t=[];for(;e;){d(e)&&t.unshift(e);const s=Object(n.a)(e,(e=>{var t;return!(null!==(t=e.$el)&&void 0!==t&&t.hasAttribute("track-pass-by"))}));if(s){t.unshift(...m(s.$el));break}if(e.classList.contains(".js-layer")){var a;const s=null===(a=i()(e).data("layer"))||void 0===a?void 0:a.$trigger[0];t.unshift(...m(s));break}e=e.parentElement}return t}function f(e){v(e.name),"data"in e&&g(e.data)}function v(e){if(!e)throw Error("Missing track context name");if(!o&&!Object(s.a)(e))throw Error("Invalid track context name: ".concat(e,", please use camel case"))}function g(e){if(null!==e){if("object"!=typeof e)throw Error("Track data must be object, but got: ".concat(e));if(!o){const t=Object.keys(e);if(!t.length)throw Error("Empty track data, please pass null instead");const a=t.filter((e=>!e||!Object(s.a)(e)));if(a.length)throw Error("Invalid track data keys: ".concat(a.join(","),", please use camel case"));const n=Object.values(e).filter((e=>"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e));if(n.length)throw Error("Invalid track data values: ".concat(n.join(","),", please use type string or number"))}}}const b=new WeakMap},313:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var s=a(0),n=a.n(s),r=(a(317),a(318),a(12)),i=a(2),o=a(34),l=a(45),c=a(3),u=a(107),d=a(52),p=a(7),h=a(19);const m="wysiwyg",f="."+("js-"+m),v=m+"-prepared",g=m+"-promise",b=".redactor",y={},_=[],x={get:e=>_[e]()};y.defaultParams=n.a.extend({emojiTpl:'<i class="emoji emoji--type-{{name}}" title="{{text}}" contenteditable="false"><br></i>',emojiClass:"emoji",placeholderClass:"userHtml-placeholder seal",imageTargetUrl:"ul/.js-imagePopover-url",imageTargetFile:"ul/.js-imagePopover-file",rootElementInactiveClass:"redactor--inactive",lazy:!1,focus:!1,events:"click focus",spinnerClass:"spinner--size-big",imagePlaceholderClass:"userHtml-placeholder",getButton:function(e){return c.a.findTargets(this.$element,o.a.render(this.opts.buttonTarget,{key:e}))}},r.a.config("directives/wysiwyg")),y.prepareRedactors=()=>{n()(f).each((function(){const e=n()(this);if(!e.data(v)){const t=n.a.extend({},y.defaultParams,i.a.params(m,e));t.lazy?y.getEditor(e).one(t.events,y.initRedactor.bind(null,e)):y.initRedactor(e),e.data(v,!0)}}))},y.initRedactor=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(e=e.data?e:n()(e)).data(g);if(!s){const r=n.a.Deferred(),o=y.getEditor(e);t=n.a.extend({},y.defaultParams,i.a.params(m,e),t);const c=l.a.init(o,{spinnerClass:t.spinnerClass});a.e(136).then(a.bind(null,506)).then((a=>{let{emojiConfig:s,mentions:i}=a;t=n.a.extend({},{emojiMappings:s},t);const l=h.a.rafThrottle((function(){n()(this.$editor).trigger("layer-height-dimensions")}));t.changeCallback=l,t.mentions&&(t.initCallback=i(e,t)),e.redactor(t);let u=e.data("redactor");_[t.instanceKey]=()=>e.data("redactor"),e[0].dispatchEvent(new Event("redactor-init",{bubbles:!0})),u.observe.addButton("a","link"),u.link.show=()=>null,(t.lazy||t.focus)&&(u.$editor.blur(),u.$editor.focus()),c(),o.closest(b).removeClass(t.rootElementInactiveClass),r.resolve(u)})),s=r.promise(),e.data(g,s)}return s},y.getTextarea=e=>e.closest(b).find(f),y.getEditor=e=>e.closest(b).find(".redactor-editor"),y.preserveSelection=function(e){e&&!e.isSelectionStored&&(e.selection.save(),e.isSelectionStored=!0,e.$editor.one("focusin",(function(){e.selection.restore(),e.isSelectionStored=!1})))};const w=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.e(137).then(a.bind(null,505)).then((a=>{let{default:i}=a;if(e||(e=x.get(r)),s.file){let a;i.insertCursorFix(e,n()(i.createPlaceholder(e))),a=e.replacer.getNewPlaceholders(e.imagify.replaceConfig.id)[0][0].prop("id"),p.a.process(d.a.sendJson({image:s.file,return_urls:[e.opts.imageFormat],attributes:{section:e.opts.imageType}},e.opts.imageUploadEndpoint).always(i.replacePlaceholder.bind(null,e,a,t)),s.trigger)}else i.insertImage(e,s.url,t)}))};i.a.add("wysiwyg-button","click",(function(e,t){var a=c.a.findTargets(e,t.target).data("redactor");a&&a[t.module][t.fn].apply(a[t.module],t.args)}),{target:".redactor/textarea",args:[]}),i.a.add("wysiwyg-popover","click",(function(e,t){y.preserveSelection(c.a.findTargets(e,t.target).data("redactor"))}),{target:".redactor/textarea"}),i.a.add("wysiwyg-link-popover","click",(function(e,t,a){var s,r=c.a.findTargets(e,t.target).data("redactor");if(r){if(r.selection.getNodes().find((e=>e.hasAttribute("data-animated-gif"))))return void a.stopImmediatePropagation();const t=u.a.escapeHtml(r.selection.getText()),i=r.utils.isCurrentOrParent("A"),o="object"==typeof r.selection.getNodes().find((e=>"IMG"===e.nodeName))||n()(r.selection.getCurrent()).find("img").length;y.preserveSelection(r),e.data("popover",n.a.extend(!0,e.data("popover"),{tplData:i?{href:(s=i.href,s.replace(location.href.replace(/#.*$/,""),"")),content:u.a.escapeHtml(i.textContent||i.innerText),showContent:!o}:{href:"",content:t,showContent:!o}}))}}),{target:".redactor/textarea"}),i.a.add("wysiwyg-link-update","submit",(function(e,t){var a,s=c.a.findTargets(e,t.target).data("redactor"),r=e.prop("href").value,i=e.prop("content"),o=!!i&&i.value;s&&r&&(e.trigger("layer-destroy"),s.$editor.focus(),o||(o=s.selection.getHtml()||s.selection.getCurrent().innerHTML||r),a=s.utils.isCurrentOrParent("A"),e.prop("unlink")?a&&(s.buffer.set(),n()(a).replaceWith(n()(a).contents())):(s.buffer.set(),a||(a=s.insert.node(document.createElement("a"))),a&&(a.href=/^https?:\/\//.test(r)?r:"https://"+r,a.innerHTML=o,a.target="_blank")),s.code.sync())}),{target:".redactor/textarea"}),i.a.add("wysiwyg-code","click",(function(e,t){var a=c.a.findTargets(e,t.target).data("redactor"),s=c.a.findTargets(e,t.textarea).val();a&&s&&(e.trigger("layer-destroy"),a.insert.htmlWithoutClean(s))}),{target:".redactor/textarea"}),i.a.add("wysiwyg-image","click change",(function(e,t){const a=c.a.findTargets(e,t.target).data("redactor"),s=c.a.findTargets(e,a.opts.imageTargetUrl).val(),r=c.a.findTargets(e,t.file)[0].files[0];if(a&&(r||s)){let i={};if(t.dataControlTargets){let a;t.dataControlTargets.forEach((function(t){a=c.a.findTargets(e,t)[0],a.checked&&(i[a.name]=a.value)}))}e.trigger("layer-destroy"),w(a,i,Object.assign({},t,{file:r,url:s,trigger:{$trigger:t.trigger?n()(t.trigger):e}}))}}),{target:".redactor/textarea",events:["click"]}),y.prepareRedactors(),i.a.add("wysiwyg","init",y.prepareRedactors),n()(document).on("wysiwyg-update",(function(){setTimeout(y.prepareRedactors,0)})),t.b=y},317:function(e,t,a){var s,n,r;r=this,s=[a(0)],void 0===(n=function(e){return r.returnExportsGlobal=function(e){"use strict";var t,a,s,n,r,i,o,l;t=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.setPos=function(e){var t,a,s,n;return(n=o.getSelection())&&(s=0,a=!1,(t=function(e,r){var o,l,c,u,d,p;for(p=[],c=0,u=(d=r.childNodes).length;c<u&&(o=d[c],!a);c++)if(3===o.nodeType){if(s+o.length>=e){a=!0,(l=i.createRange()).setStart(o,e-s),n.removeAllRanges(),n.addRange(l);break}p.push(s+=o.length)}else p.push(t(e,o));return p})(e,this.domInputor)),this.domInputor},t.prototype.getIEPosition=function(){return this.getPosition()},t.prototype.getPosition=function(){var e,t;return t=this.getOffset(),e=this.$inputor.offset(),t.left-=e.left,t.top-=e.top,t},t.prototype.getOldIEPos=function(){var e,t;return t=i.selection.createRange(),(e=i.body.createTextRange()).moveToElementText(this.domInputor),e.setEndPoint("EndToEnd",t),e.text.length},t.prototype.getPos=function(){var e,t,a;return(a=this.range())?((e=a.cloneRange()).selectNodeContents(this.domInputor),e.setEnd(a.endContainer,a.endOffset),t=e.toString().length,e.detach(),t):i.selection?this.getOldIEPos():void 0},t.prototype.getOldIEOffset=function(){var e,t;return(e=i.selection.createRange().duplicate()).moveStart("character",-1),{height:(t=e.getBoundingClientRect()).bottom-t.top,left:t.left,top:t.top}},t.prototype.getOffset=function(t){var a,s,n,r,l;return o.getSelection&&(n=this.range())?(n.endOffset-1>0&&n.endContainer!==this.domInputor&&((a=n.cloneRange()).setStart(n.endContainer,n.endOffset-1),a.setEnd(n.endContainer,n.endOffset),s={height:(r=a.getBoundingClientRect()).height,left:r.left+r.width,top:r.top},a.detach()),s&&0!==(null!=s?s.height:void 0)||(a=n.cloneRange(),l=e(i.createTextNode("|")),a.insertNode(l[0]),a.selectNode(l[0]),s={height:(r=a.getBoundingClientRect()).height,left:r.left,top:r.top},l.remove(),a.detach())):i.selection&&(s=this.getOldIEOffset()),s&&(s.top+=e(o).scrollTop(),s.left+=e(o).scrollLeft()),s},t.prototype.range=function(){var e;if(o.getSelection)return(e=o.getSelection()).rangeCount>0?e.getRangeAt(0):null},t}(),a=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.getIEPos=function(){var e,t,a,s,n,r;return t=this.domInputor,s=0,(n=i.selection.createRange())&&n.parentElement()===t&&(a=t.value.replace(/\r\n/g,"\n").length,(r=t.createTextRange()).moveToBookmark(n.getBookmark()),(e=t.createTextRange()).collapse(!1),s=r.compareEndPoints("StartToEnd",e)>-1?a:-r.moveStart("character",-a)),s},t.prototype.getPos=function(){return i.selection?this.getIEPos():this.domInputor.selectionStart},t.prototype.setPos=function(e){var t,a;return t=this.domInputor,i.selection?((a=t.createTextRange()).move("character",e),a.select()):t.setSelectionRange&&t.setSelectionRange(e,e),t},t.prototype.getIEOffset=function(e){var t;return t=this.domInputor.createTextRange(),e||(e=this.getPos()),t.move("character",e),{left:t.boundingLeft,top:t.boundingTop,height:t.boundingHeight}},t.prototype.getOffset=function(t){var a,s,n;return a=this.$inputor,i.selection?((s=this.getIEOffset(t)).top+=e(o).scrollTop()+a.scrollTop(),s.left+=e(o).scrollLeft()+a.scrollLeft(),s):(s=a.offset(),n=this.getPosition(t),{left:s.left+n.left-a.scrollLeft(),top:s.top+n.top-a.scrollTop(),height:n.height})},t.prototype.getPosition=function(e){var t,a,n,r,i;return t=this.$inputor,n=function(e){return e=e.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(e=e.replace(/\s/g,"&nbsp;")),e},void 0===e&&(e=this.getPos()),i=t.val().slice(0,e),a=t.val().slice(e),r="<span style='position: relative; display: inline;'>"+n(i)+"</span>",r+="<span id='caret' style='position: relative; display: inline;'>|</span>",r+="<span style='position: relative; display: inline;'>"+n(a)+"</span>",new s(t).create(r).rect()},t.prototype.getIEPosition=function(e){var t,a;return a=this.getIEOffset(e),t=this.$inputor.offset(),{left:a.left-t.left,top:a.top-t.top,height:a.height}},t}(),s=function(){function t(e){this.$inputor=e}return t.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],t.prototype.mirrorCss=function(){var t,a=this;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),e.each(this.css_attr,(function(e,s){return t[s]=a.$inputor.css(s)})),t},t.prototype.create=function(t){return this.$mirror=e("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var e,t,a;return a={left:(t=(e=this.$mirror.find("#caret")).position()).left,top:t.top,height:e.height()},this.$mirror.remove(),a},t}(),n={contentEditable:function(e){return!(!e[0].contentEditable||"true"!==e[0].contentEditable)}},r={pos:function(e){return e||0===e?this.setPos(e):this.getPos()},position:function(e){return i.selection?this.getIEPosition(e):this.getPosition(e)},offset:function(e){return this.getOffset(e)}},i=null,o=null,l=function(e){var t;return(t=null!=e?e.iframe:void 0)?(o=t.contentWindow,i=t.contentDocument||o.document):(o=window,i=document)},e.fn.caret=function(s,i,o){var c;return r[s]?(e.isPlainObject(i)?(l(i),i=void 0):l(o),c=n.contentEditable(this)?new t(this):new a(this),r[s].apply(c,[i])):e.error("Method "+s+" does not exist on jQuery.caret")},e.fn.caret.EditableCaret=t,e.fn.caret.InputCaret=a,e.fn.caret.Utils=n,e.fn.caret.apis=r}(e)}.apply(t,s))||(e.exports=n)},318:function(e,t,a){var s,n;s=[a(0)],n=function(e){return u=[].slice,d={}.hasOwnProperty,p=function(e,t){for(var a in t)d.call(t,a)&&(e[a]=t[a]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e},a=function(){function e(e){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=$(e),this.setupRootElement(),this.listen()}return e.prototype.createContainer=function(e){return this.$el=this.$inputor.parents(".redactor-box").find(".atwho-container")},e.prototype.setupRootElement=function(e,t){if(null==t&&(t=!1),e)this.window=e.contentWindow,this.document=e.contentDocument||this.window.document,this.iframe=e;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(e){throw this.iframe=null,new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.")}}return this.createContainer((this.iframeAsRoot=t)?this.document:document)},e.prototype.controller=function(e){var t,a,s,n;if(this.aliasMaps[e])a=this.controllers[this.aliasMaps[e]];else for(s in n=this.controllers)if(t=n[s],s===e){a=t;break}return a||this.controllers[this.currentFlag]},e.prototype.setContextFor=function(e){return this.currentFlag=e,this},e.prototype.reg=function(e,t){var a,s;return a=(s=this.controllers)[e]||(s[e]=this.$inputor.is("[contentEditable]")?new r(this,e):new l(this,e)),t.alias&&(this.aliasMaps[t.alias]=e),a.init(t),this},e.prototype.listen=function(){return this.$inputor.on("compositionstart",(e=this,function(t){var a;return null!=(a=e.controller())&&a.view.hide(),e.isComposing=!0})).on("compositionend",function(e){return function(t){return e.isComposing=!1}}(this)).on("keyup.atwhoInner",function(e){return function(t){return e.onKeyup(t)}}(this)).on("keydown.atwhoInner",function(e){return function(t){return e.onKeydown(t)}}(this)).on("scroll.atwhoInner",function(e){return function(t){var a;return null!=(a=e.controller())?a.view.hide(t):void 0}}(this)).on("blur.atwhoInner",function(e){return function(t){var a;if(a=e.controller())return a.view.hide(t,a.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(e){return function(t){return e.dispatch(t)}}(this));var e},e.prototype.shutdown=function(){var e,t;for(e in t=this.controllers)t[e].destroy(),delete this.controllers[e];return this.$inputor.off(".atwhoInner"),this.$el.remove()},e.prototype.dispatch=function(e){return $.map(this.controllers,(t=this,function(a){var s;return(s=a.getOpt("delay"))?(clearTimeout(t.delayedCallback),t.delayedCallback=setTimeout((function(){if(a.lookUp(e))return t.setContextFor(a.at)}),s)):a.lookUp(e)?t.setContextFor(a.at):void 0}));var t},e.prototype.onKeyup=function(e){var t;switch(e.keyCode){case i.ESC:e.preventDefault(),null!=(t=this.controller())&&t.view.hide();break;case i.DOWN:case i.UP:case i.CTRL:$.noop();break;case i.P:case i.N:e.ctrlKey||this.dispatch(e);break;default:this.dispatch(e)}},e.prototype.onKeydown=function(e){var t,a;if((t=null!=(a=this.controller())?a.view:void 0)&&t.visible())switch(e.keyCode){case i.ESC:e.preventDefault(),t.hide(e);break;case i.UP:e.preventDefault(),t.prev();break;case i.DOWN:e.preventDefault(),t.next();break;case i.P:if(!e.ctrlKey)return;e.preventDefault(),t.prev();break;case i.N:if(!e.ctrlKey)return;e.preventDefault(),t.next();break;case i.TAB:case i.ENTER:case i.SPACE:if(!t.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&e.keyCode===i.SPACE)return;e.preventDefault(),t.choose(e);break;default:$.noop()}},e}(),s=function(){function e(e,t){this.app=e,this.at=t,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=$("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=$("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new o(this),this.view=new c(this)}return e.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},e.prototype.init=function(e){return this.setting=$.extend({},this.setting||$.fn.atwho.default,e),this.view.init(),this.model.reload(this.setting.data)},e.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},e.prototype.callDefault=function(){var e,t,a;a=arguments[0],e=2<=arguments.length?u.call(arguments,1):[];try{return n[a].apply(this,e)}catch(e){return t=e,$.error(t+" Or maybe At.js doesn't have function "+a)}},e.prototype.trigger=function(e,t){var a,s;return null==t&&(t=[]),t.push(this),s=(a=this.getOpt("alias"))?e+"-"+a+".atwho":e+".atwho",this.$inputor.trigger(s,t)},e.prototype.callbacks=function(e){return this.getOpt("callbacks")[e]||n[e]},e.prototype.getOpt=function(e,t){try{return this.setting[e]}catch(e){return null}},e.prototype.insertContentFor=function(e){var t,a;return a=this.getOpt("insertTpl"),t=$.extend({},e.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,a,t)},e.prototype.renderView=function(e){var t;return t=this.getOpt("searchKey"),e=this.callbacks("sorter").call(this,this.query.text,e.slice(0,1001),t),this.view.render(e.slice(0,this.getOpt("limit")))},e.arrayToDefaultHash=function(e){var t,a,s,n;if(!$.isArray(e))return e;for(n=[],a=0,s=e.length;a<s;a++)t=e[a],$.isPlainObject(t)?n.push(t):n.push({name:t});return n},e.prototype.lookUp=function(e){var t,a;if(t=this.catchQuery(e))return a=function(e){return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.model.query(t.text,$.proxy(a,this)),t},e}(),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.catchQuery=function(){var e,t,a,s,n,r;return t=this.$inputor.val(),e=this.$inputor.caret("pos",{iframe:this.app.iframe}),r=t.slice(0,e),"string"==typeof(s=this.callbacks("matcher").call(this,this.at,r,this.getOpt("startWithSpace")))&&s.length<=this.getOpt("maxLen",20)?(a=(n=e-s.length)+s.length,this.pos=n,s={text:s,headPos:n,endPos:a},this.trigger("matched",[this.at,s.text])):(s=null,this.view.hide()),this.query=s},t.prototype.insert=function(e,t){var a,s,n,r,i;return i=""+(n=(s=(a=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(e+=r=""===(r=this.getOpt("suffix"))?r:r||" ")+s.slice(this.query.endPos||0),a.val(i),a.caret("pos",n.length+e.length,{iframe:this.app.iframe}),a.is(":focus")||a.focus(),a.change()},t}(s),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype._getRange=function(){var e;if((e=this.app.window.getSelection()).rangeCount>0)return e.getRangeAt(0)},t.prototype._setRange=function(e,t,a){if(null==a&&(a=this._getRange()),a)return t=$(t)[0],"after"===e?(a.setEndAfter(t),a.setStartAfter(t)):(a.setEndBefore(t),a.setStartBefore(t)),a.collapse(!1),this._clearRange(a)},t.prototype._clearRange=function(e){var t;return null==e&&(e=this._getRange()),(t=this.app.window.getSelection()).removeAllRanges(),t.addRange(e)},t.prototype._movingEvent=function(e){var t;return"click"===e.type||(t=e.which)===i.RIGHT||t===i.LEFT||t===i.UP||t===i.DOWN},t.prototype._unwrap=function(e){var t;return(t=(e=$(e).unwrap().get(0)).nextSibling)&&t.nodeValue&&(e.nodeValue+=t.nodeValue,$(t).remove()),e},t.prototype.catchQuery=function(e){var t,a,s,n,r,o,l,c,u,d;if(!this.app.isComposing&&(u=this._getRange())&&u.commonAncestorContainer.nodeType===Node.TEXT_NODE){if(e.which===i.ENTER)return(a=$(u.startContainer).closest(".atwho-query")).contents().unwrap(),a.is(":empty")&&a.remove(),(a=$(".atwho-query",this.app.document)).text(a.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if($(u.startContainer).is(this.$inputor))return void this._clearRange();e.which===i.BACKSPACE&&u.startContainer.nodeType===document.ELEMENT_NODE&&(l=u.startOffset-1)>=0?((d=u.cloneRange()).setStart(u.startContainer,l),$(d.cloneContents()).contents().last().is(".atwho-inserted")&&(n=$(u.startContainer).contents().get(l),this._setRange("after",$(n).contents().last()))):e.which===i.LEFT&&u.startContainer.nodeType===document.TEXT_NODE&&(t=$(u.startContainer.previousSibling)).is(".atwho-inserted")&&0===u.startOffset&&this._setRange("after",t.contents().last())}return $(u.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(a=$(".atwho-query",this.app.document)).length>0&&a.is(":empty")&&0===a.text().length&&a.remove(),this._movingEvent(e)||a.removeClass("atwho-inserted"),(d=u.cloneRange()).setStart(u.startContainer,0),o=this.callbacks("matcher").call(this,this.at,d.toString(),this.getOpt("startWithSpace")),0===a.length&&"string"==typeof o&&(s=u.startOffset-this.at.length-o.length)>=0&&(u.setStart(u.startContainer,s),a=$("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),u.surroundContents(a.get(0)),r=a.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(u.setStart(r,r.length),u.setEnd(r,r.length),this._clearRange(u)):this._setRange("after",r,u)),"string"==typeof o&&o.length<=this.getOpt("maxLen",20)?(c={text:o,el:a},this.trigger("matched",[this.at,c.text]),this.query=c):(this.view.hide(),this.query={el:a},a.text().indexOf(this.at)>=0&&(this._movingEvent(e)&&a.hasClass("atwho-inserted")?a.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,a)&&this._setRange("after",this._unwrap(a.text(a.text()).contents().first()))),null)}},t.prototype.insert=function(e,t){var a,s,n;return s=(s=this.getOpt("suffix"))?s:s||" ",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(e),(a=this._getRange())&&(a.setEndAfter(this.query.el[0]),a.collapse(!1),a.insertNode(n=this.app.document.createTextNode(s)),this._setRange("after",n,a)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},t}(s),o=function(){function e(e){this.context=e,this.at=this.context.at,this.storage=this.context.$inputor}return e.prototype.destroy=function(){return this.storage.data(this.at,null)},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(e,t){var a,s,n;return a=this.fetch(),s=this.context.getOpt("searchKey"),a=this.context.callbacks("filter").call(this.context,e,a,s)||[],n=this.context.callbacks("remoteFilter"),a.length>0||!n&&0===a.length?t(a):n.call(this.context,e,t)},e.prototype.fetch=function(){return this.storage.data(this.at)||[]},e.prototype.save=function(e){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,e||[]))},e.prototype.load=function(e){if(!this.saved()&&e)return this._load(e)},e.prototype.reload=function(e){return this._load(e)},e.prototype._load=function(e){return"string"==typeof e?$.ajax(e,{dataType:"json"}).done((t=this,function(e){return t.save(e)})):this.save(e);var t},e}(),c=function(){function e(e){this.context=e,this.$el=$(this.context.$el).parents(".atwho-container").find(".atwho-view"),this.timeoutID=null,this.bindEvent()}return e.prototype.init=function(){var e;return e=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+e})},e.prototype.destroy=function(){return this.$el.remove()},e.prototype.bindEvent=function(){var e,t;return(e=this.$el).on("mouseenter.atwho-view","li",(function(t){return e.find(".cur").removeClass("cur"),$(t.currentTarget).addClass("cur")})).on("click.atwho-view","li",(t=this,function(a){return e.find(".cur").removeClass("cur"),$(a.currentTarget).addClass("cur"),t.choose(a),a.preventDefault()}))},e.prototype.visible=function(){return this.$el.is(":visible")},e.prototype.choose=function(e){var t,a;if((t=this.$el.find(".cur")).length&&(a=this.context.insertContentFor(t),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,a,t),t),this.context.trigger("inserted",[t,e]),this.hide(e)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},e.prototype.next=function(){var e;return(e=this.$el.find(".cur").removeClass("cur").next()).length||(e=this.$el.find("li:first")),e.addClass("cur")},e.prototype.prev=function(){var e;return(e=this.$el.find(".cur").removeClass("cur").prev()).length||(e=this.$el.find("li:last")),e.addClass("cur")},e.prototype.show=function(){if(!this.stopShowing)return this.visible()?void 0:(this.$el.show(),this.$el.parent(".atwho-container").show(),this.context.trigger("shown"));this.stopShowing=!1},e.prototype.hide=function(e,t){var a,s;if(this.visible())return isNaN(t)?(this.$el.parent(".atwho-container").hide(),this.$el.hide(),this.context.trigger("hidden",[e])):(s=this,a=function(){return s.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(a,t))},e.prototype.render=function(e){var t,a,s,n,r,i,o;if($.isArray(e)&&e.length>0){for(this.$el.empty(),a=this.$el,r=this.context.getOpt("displayTpl"),i=0,o=e.length;i<o;i++)s=e[i],s=$.extend({},s,{"atwho-at":this.context.at}),n=this.context.callbacks("tplEval").call(this.context,r,s),(t=$(this.context.callbacks("highlighter").call(this.context,n,this.context.query.text))).data("item-data",s),a.append(t);return this.show(),this.context.getOpt("highlightFirst")?a.find("li:first").addClass("cur"):void 0}this.hide()},e}(),i={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},n={beforeSave:function(e){return s.arrayToDefaultHash(e)},matcher:function(e,t,a){var s,n,r;return s="A-Za-z0-9_."+(n="\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f")+"가-하|@+-",e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a&&(e="(?:^|\\s)"+e),(r=new RegExp(e+"(["+s+"]*)$|"+e+"([^"+n+"]*)$","gi").exec(t))?r[2]||r[1]:null},filter:function(e,t,a){var s,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)s=t[n],~new String(s[a]).toLowerCase().indexOf(e.toLowerCase())&&i.push(s);return i},remoteFilter:null,sorter:function(e,t,a){var s,n,r,i;if(!e)return t;for(i=[],n=0,r=t.length;n<r;n++)(s=t[n]).atwho_order=new String(s[a]).toLowerCase().indexOf(e.toLowerCase()),s.atwho_order>-1&&i.push(s);return i.sort((function(e,t){return e.atwho_order-t.atwho_order}))},tplEval:function(e,t){var a;a=e;try{return"string"!=typeof e&&(a=e(t)),a.replace(/\$\{([^\}]*)\}/g,(function(e,a,s){return t[a]}))}catch(e){return""}},highlighter:function(e,t){var a,s;return a="A-Za-z0-9_.\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f가-하",t?(s=new RegExp(">\\s*(["+a+"]*?)("+t.replace("+","\\+")+")(["+a+"]*?)\\s*<","ig"),e.replace(s,(function(e,t,a,s){return"> "+t+"<strong>"+a+"</strong>"+s+" <"}))):e},beforeInsert:function(e,t){return e},beforeReposition:function(e){return e},afterMatchFailed:function(e,t){}},t={load:function(e,t){var a;if(a=this.controller(e))return a.model.load(t)},isSelecting:function(){var e;return null!=(e=this.controller())?e.view.visible():void 0},hide:function(){var e;return null!=(e=this.controller())?e.view.hide():void 0},setIframe:function(e,t){return this.setupRootElement(e,t),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},$.fn.atwho=function(e){var s,n;return n=arguments,s=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each((function(){var r,i;return(i=(r=$(this)).data("atwho"))||r.data("atwho",i=new a(this)),"object"!=typeof e&&e?t[e]&&i?s=t[e].apply(i,Array.prototype.slice.call(n,1)):$.error("Method "+e+" does not exist on jQuery.caret"):i.reg(e.at,e)})),s||this},void($.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:n,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,editableAtwhoQueryAttrs:{}});var t,a,s,n,r,i,o,l,c,u,d,p}.apply(t,s),void 0===n||(e.exports=n)},336:function(e,t,a){"use strict";var s=a(2),n=a(3);a(72);const r={handler:function(e,t){t.triggers.forEach((function(t){n.a.findTargets(e,t.target).triggerAll(t.event)}))}};s.a.add("trigger","click change trigger submit",r.handler,{preventDefault:!1,events:["click"]}),t.a=r},337:function(e,t,a){"use strict";var s=a(2),n=a(24),r={setHash:function(e){history.replaceState?history.replaceState({},"",location.href.replace(/#.*$/,"")+(e?"#"+e:"")):location.hash=e},handler:function(e,t){n.a.handler(e,t).done((e=>{r.setHash(t.hash),e.one("destroyed",r.setHash.bind(null,""))}))},checkHash:function(e,t){var a,s=t.hash;t.replacePattern&&(s=s.replace("replacePattern",t.replacePattern)),(a=location.hash.substring(1).match(new RegExp(s)))&&(t.replacePattern&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=t[e].replace("replacePattern",a[1]))})),r.handler(e,t))}};s.a.add("hash-modal","click",r.handler,n.a.defaults),s.a.add("hash-modal-check-hash","hashModalCheckHash",r.checkHash,n.a.defaults),t.a=r},50:function(e,t,a){"use strict";var s=a(0),n=a.n(s),r=a(2),i=a(7),o=a(45),l=a(3),c=a(124),u=a(138);n()(document).on("focus","input[type=radio]",(function(){this.form&&n()(this).data("oldValue",n()(this.form[this.name]).filter(":checked").val())}));var d,p=a(19),h=(a(162),"oldValue");function m(){return!0}function f(){clearInterval(d)}r.a.add("value-observer","focusin",(function(e,t){var a,s,n,r=t.validate?(a=e[0],s=m,(n=a&&a.checkValidity)?n.bind(a):s):m,i=e.trigger.bind(e,"change");t.debounce>100&&(i=p.a.debounce(i,t.debounce)),f(),void 0===e.data(h)&&e.data(h,e.val()),d=setInterval((function(){e.data(h)!==e.val()&&r()&&(i(),e.data(h,e.val()))}),100)})),r.a.add("value-observer","focusout",f),r.a.add("value-observer","change",(function(e,t,a){a.originalEvent&&e.data(h)===e.val()&&a.stopPropagation()}));a(72);var v={},g={target:"$self",key:"content",fade:!1,slide:!1,className:"",seal:{},mode:"replace"};v.ajax=function(e,t,a){var s=i.a.process(e,a);function u(e){var t=e.prop("nodeName");return n()("UL"===t||"OL"===t?"<li/>":"<span/>")}return t.forEach((function(e){switch(e.mode){case"last":e.$target=u(e.$target).appendTo(e.$target);break;case"first":e.$target=u(e.$target).prependTo(e.$target);break;case"before":e.$target=u(e.$target.parent()).insertBefore(e.$target);break;case"after":e.$target=u(e.$target.parent()).insertAfter(e.$target)}var t,a,r,i;e.className&&s.always(l.a.tmpClass(e.$target,e.className,e.removeClass)),e.seal&&s.always(o.a.init(e.$target,e.seal)),e.progress&&(t=e.$target,a=e.progress,r=n()('<span class="button-progress-inner" style="width: 0%;"/>').append(a.text),i=n()('<span class="button-progress"/>').append(r).appendTo(t),s.progress((function(e,t){r.css("width",e/t*100+"%")})),s.always((function(){i.remove()}))),e.startEvent&&e.$target.triggerAll(e.startEvent)})),s.done((function(e){var a=[];function s(){a.forEach((function(e){const t=e.revert.$source.parent();e.revert.$source.replaceWith(e.revert.$target),t.trigger("domChanged")}))}t.forEach((function(t){if(t.onFinish=function(a){let s=a.first();s.length&&3===s[0].nodeType&&(s=s.parent()),t.successEvent&&"error"!==e.status?s.triggerAll(t.successEvent):t.errorEvent&&"error"===e.status&&s.triggerAll(t.errorEvent),t.endEvent&&(s.triggerAll(t.endEvent),setTimeout(r.a.triggerChilds.bind(null,a,"init"),0))},t.key&&"string"==typeof e.data[t.key]){let r=e.data[t.key];const i=/^\s*</.test(r);t.$target.each((function(e,o){var l,u=n()(i?r:document.createTextNode(r)),d=n()(o);const p=t.unique;t.reversible&&u.length&&((l=d.data("replace-revert"))?(a!==l.reverts&&(a=l.reverts.concat(a)),l.revert.$source=u,d.off("replace-revert")):(l={reverts:a,revert:{$source:u,$target:"replace"===t.mode?d:""}},a.push(l)),u.data("replace-revert",l),u.on("replace-revert",s)),p&&u[p.parent?"find":"filter"](p.filter).each(((e,t)=>{const a=n()("#"+t.id);if(a.length){let e=p.keepCurrent?n()(t):a;p.parent&&(e=e.closest(p.parent)),p.keepCurrent&&!e.parent().length?u=u.not(e):e.remove()}})),t.clear?d.siblings(t.clear).remove():""===t.clear&&d.html(),"content"===t.mode?(d.empty().append(u),t.onFinish(d)):c.a.replace(d,u,t)}))}else t.onFinish(t.$target),e.data.location&&t.seal&&t.seal.keep&&o.a.init(t.$target,t.seal)}))})),s},v.evalConfig=function(e,t){return t||(t=[n.a.extend({},g)]),t.map((function(t){var a,s,r,i,o=n.a.extend({},g,"string"==typeof t?{target:t}:t);return"dynamic"===o.slide&&(o.slide=(a=e,s=n()(a.prop("form")[a.prop("name")]),r=s.get(),i=s.filter("[value="+a.data("oldValue")+"]"),r.indexOf(a[0])<r.indexOf(i[0])?"right":"left")),o.$target=l.a.findTargets(e,o.target),o}))},v.trigger=function(e,t,a){return v.ajax(a||n.a.ajax(t.endpoint,{type:t.method||"POST",data:t.params}),v.evalConfig(e,t.replaces),n.a.extend({$trigger:e},t.triggerData)).done((function(){t.history&&u.a.state(n.a.extend({endpoint:t.endpoint},t.history))}))},v.handler=function(e,t,a){var s=n()(a.target).is(":inputControl");if("LABEL"!==a.target.nodeName&&!s||"click"!==a.type)return s&&(t.params=t.params||{},t.params[a.target.name]=a.target.value),v.trigger(e,t)},r.a.add("replace","click change replace",v.handler,{events:["click"]});t.a=v},508:function(e,t,a){"use strict";a.d(t,"a",(function(){return s.a})),a.d(t,"b",(function(){return u}));var s=a(511),n=a(5),r=a(512),i={__name:"notification-button",props:{count:{type:Number,default:0},square:Boolean,selected:Boolean,countTop:Boolean},setup(e){const t=e,a=Object(n.computed)((()=>({"button--square":t.square,"button--selected":t.selected})));return{__sfc:!0,props:t,buttonClasses:a,CircleLabel:r.a,BaseButton:s.a}}},o=a(44);Object(o.a)(i,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.BaseButton,e._g({staticClass:"overflow--visible",class:a.buttonClasses,attrs:{variant:"secondary",mode:"default"}},e.$listeners),[e._t("default"),e.count&&e.countTop||e.count&&e.square?t(a.CircleLabel,{staticClass:"text--b button--square space--h-0 aGrid-item aGrid-item--r-n7 aGrid-item--t-n7",attrs:{size:"xs",mode:"primary"}},[e._v(" "+e._s(e.count)+" ")]):e.count?t(a.CircleLabel,{staticClass:"text--b button--square space--h-0 space--ml-2",attrs:{size:"m",mode:"primary"}},[e._v(" "+e._s(e.count)+" ")]):e._e()],2)}),[],!1,null,null,null).exports;const l={brand:"button--mode-brand",white:"button--mode-white"};var c={__name:"segmented-button",props:{mode:{type:String,default:"brand",validate:e=>e in l},name:{type:String,required:!1},selectedValue:{type:String,required:!1},mandatory:Boolean},emits:["update:selectedValue"],setup(e,t){let{emit:a}=t;const s=e,r=Object(n.computed)((()=>l[s.mode])),i=Object(n.computed)((()=>s.name===s.selectedValue));return{__sfc:!0,modes:l,emit:a,props:s,mode:r,selected:i,toggle:function(){a("update:selectedValue",i.value&&!s.mandatory?null:s.name)}}}},u=Object(o.a)(c,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("button",{staticClass:"button button--type-segmented",class:[a.mode,{"button--selected zIndex--atopNormal":a.selected}],attrs:{type:"button"},on:{click:a.toggle}},[e._t("default")],2)}),[],!1,null,null,null).exports},509:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r.a})),a.d(t,"b",(function(){return i.a})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return f.a})),a.d(t,"i",(function(){return v.a})),a.d(t,"j",(function(){return b})),a.d(t,"c",(function(){return y}));var s=a(25),n={data:()=>({dom:{}}),computed:{applicationThreadListingMode(){return this.$store.state.application.threadListingMode||"list"},currentOrientation(){return{horizontal:"horizontal"===this.orientation,vertical:"vertical"===this.orientation}},isTouchScreen:()=>s.d}},r=a(559),i=a(560),o=a(508),l={components:{BaseButton:o.a},inject:["carousel"],inheritAttrs:!1,props:{hideOnLastPage:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},buttonModifier:{type:String,default:null}},methods:{handleClick(){this.carousel.isNext?this.carousel.next():this.carousel.scrollToPage(1)}}},c=a(44),u=Object(c.a)(l,(function(){var e=this,t=e._self._c;return!e.hideOnLastPage||e.carousel.isNext?t("BaseButton",e._b({staticClass:"size--all-m",class:e.buttonModifier,attrs:{square:"",disabled:!e.carousel.isNext&&!e.loop},on:{click:e.handleClick}},"BaseButton",e.$attrs,!1),[e._t("default",(function(){return[t("BaseIcon",{attrs:{name:"right"}})]}),{disabled:!e.carousel.isNext})],2):e._e()}),[],!1,null,null,null).exports,d={components:{BaseButton:o.a},inject:["carousel"],inheritAttrs:!1,props:{hideOnFirstPage:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},buttonModifier:{type:String,default:null}},methods:{handleClick(){this.carousel.isPrev?this.carousel.prev():this.carousel.scrollToPage(this.carousel.pages)}}},p=Object(c.a)(d,(function(){var e=this,t=e._self._c;return!e.hideOnFirstPage||e.carousel.isPrev?t("BaseButton",e._b({class:e.buttonModifier,attrs:{square:"",disabled:!e.carousel.isPrev&&!e.loop},on:{click:e.handleClick}},"BaseButton",e.$attrs,!1),[e._t("default",(function(){return[t("BaseIcon",{attrs:{name:"left"}})]}),{disabled:!e.carousel.isPrev})],2):e._e()}),[],!1,null,null,null).exports,h={components:{BaseButton:o.a},inject:["carousel"],inheritAttrs:!1,props:{page:{type:Number,required:!0},pages:{type:Number,required:!1}},computed:{carouselPagesCount(){return this.pages||this.carousel.pages},disabled(){return this.page<1||this.page>this.carouselPagesCount||this.page===this.carousel.page}}},m=Object(c.a)(h,(function(){var e=this;return(0,e._self._c)("BaseButton",e._b({staticClass:"size--all-m",attrs:{square:"",disabled:e.disabled},on:{click:function(t){return e.carousel.scrollToPage(e.page)}}},"BaseButton",e.$attrs,!1),[e._t("default",null,{disabled:e.disabled})],2)}),[],!1,null,null,null).exports,f=a(561),v=a(544),g={components:{BaseCarousel:r.a,CarouselContent:i.a,CarouselPrev:p,CarouselNext:u},props:{arrowsClass:{type:String,default:""}}},b=Object(c.a)(g,(function(){var e=this,t=e._self._c;return t("BaseCarousel",{scopedSlots:e._u([{key:"default",fn:function({page:a,pages:s}){return[t("div",{staticClass:"aGrid bg--color-white flex"},[t("CarouselPrev",{staticClass:"carousel-air-arrow space--ml-3 hide--touch-on",class:e.arrowsClass,attrs:{variant:"secondary",mode:"default",square:"","hide-on-first-page":""}},[t("BaseIcon",{attrs:{name:"left"}})],1),t("CarouselContent",{staticClass:"carousel-list--air",attrs:{"persistent-spacing":""}},[e._t("default")],2),t("CarouselNext",{staticClass:"carousel-air-arrow carousel-air-arrow--right space--mr-3 hide--touch-on",class:e.arrowsClass,attrs:{variant:"secondary",mode:"default",square:"","hide-on-last-page":""}},[t("BaseIcon",{attrs:{name:"right"}})],1)],1)]}}],null,!0)})}),[],!1,null,null,null).exports,y=Object(c.a)({},(function(){return(0,this._self._c)("div",{staticClass:"scrollBox-item"},[this._t("default")],2)}),[],!1,null,null,null).exports},510:function(e,t,a){"use strict";a.d(t,"l",(function(){return r})),a.d(t,"p",(function(){return i})),a.d(t,"o",(function(){return l})),a.d(t,"v",(function(){return u})),a.d(t,"q",(function(){return p})),a.d(t,"k",(function(){return h.a})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return f.a})),a.d(t,"b",(function(){return g})),a.d(t,"n",(function(){return x})),a.d(t,"r",(function(){return w.a})),a.d(t,"m",(function(){return I})),a.d(t,"s",(function(){return T.a})),a.d(t,"t",(function(){return L})),a.d(t,"u",(function(){return B.a})),a.d(t,"e",(function(){return M})),a.d(t,"i",(function(){return R})),a.d(t,"f",(function(){return D})),a.d(t,"h",(function(){return z})),a.d(t,"g",(function(){return H})),a.d(t,"a",(function(){return K})),a.d(t,"j",(function(){return ee}));var s={props:{wide:{type:Boolean,default:!1}}},n=a(44),r=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("ol",{staticClass:"formList",class:{"width--all-12 width--max-12":e.wide}},[e._t("default")],2)}),[],!1,null,null,null).exports,i=Object(n.a)({},(function(){return(0,this._self._c)("hr",{staticClass:"page-divider--center"})}),[],!1,null,null,null).exports,o={provide(){return{$showError:()=>this.hasErrors||!1}},props:{error:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{hasErrors(){return this.error}}},l=Object(n.a)(o,(function(){var e=this;return(0,e._self._c)("li",{staticClass:"formList-row",class:{"formList-row--disabled":e.disabled}},[e._t("default")],2)}),[],!1,null,null,null).exports,c={inheritAttrs:!1,computed:{hasLinkSlot(){return!!this.$slots.link||!!this.$scopedSlots.link}}},u=Object(n.a)(c,(function(){var e=this,t=e._self._c;return e.hasLinkSlot?t("div",{staticClass:"flex flex--wrap boxAlign-ai--all-c boxAlign-jc--all-sb justify"},[t("h1",e._b({staticClass:"page-title2 space--mb-0"},"h1",e.$attrs,!1),[e._t("default")],2),e._v(" ‌ "),t("span",{staticClass:"space--v-2"},[e._t("link")],2)]):t("h1",e._b({staticClass:"page-title space--mb-0"},"h1",e.$attrs,!1),[e._t("default")],2)}),[],!1,null,null,null).exports,d={props:{optional:{type:Boolean,default:!1}}},p=Object(n.a)(d,(function(){var e=this,t=e._self._c;return t("h2",{staticClass:"page-subTitle space--mb-1 space--t-3"},[e._t("default"),e.optional?t("span",{staticClass:"page-subTitle-info"},[e._v(e._s("Opzionale"))]):e._e()],2)}),[],!1,null,null,null).exports,h=a(767),m=(Object(n.a)({},(function(){return(0,this._self._c)("span",{staticClass:"text--color-greyShade space--mv-2"},[this._t("default")],2)}),[],!1,null,null,null).exports,a(748),Object(n.a)({},(function(){return(0,this._self._c)("p",{staticClass:"formList-info"},[this._t("default")],2)}),[],!1,null,null,null).exports),f=a(775),v={inheritAttrs:!1,model:{event:"update",prop:"checked"},props:{value:{type:String|Boolean|Number,default:"1"},checked:{type:Boolean,default:!1},boxAttrs:{type:Object,default:null},disabled:{type:Boolean,default:!1}},methods:{handleChecked(e){this.$emit("update",e.target.checked)}}},g=Object(n.a)(v,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"checkbox"},[t("input",e._g(e._b({staticClass:"input checkbox-input",attrs:{type:"checkbox",disabled:e.disabled},domProps:{value:e.value,checked:e.checked},on:{change:e.handleChecked}},"input",e.$attrs,!1),e.$listeners)),t("span",{staticClass:"tGrid-cell tGrid-cell--shrink"},[t("span",e._b({staticClass:"checkbox-box flex--inline boxAlign-jc--all-c boxAlign-ai--all-c"},"span",e.boxAttrs,!1),[t("BaseIcon",{staticClass:"text--color-brandPrimary checkbox-tick",attrs:{name:"tick",width:"18"}})],1)]),e.$slots["inline-label"]?t("span",{staticClass:"checkbox-text tGrid-cell space--l-2"},[e._t("inline-label")],2):e._e()])}),[],!1,null,null,null).exports,b=a(541),y=a.n(b),_={model:{prop:"modelValue",event:"change"},props:{modelValue:{default:""},name:{type:String,required:!0},value:{type:[String,Object],required:!0},large:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{id:()=>y()("radioInput"),isChecked(){return this.modelValue===this.value}}},x=Object(n.a)(_,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"radio size--all-m flex boxAlign-ai--all-c",attrs:{for:e.id}},[t("input",{staticClass:"hide radio-input",attrs:{id:e.id,name:e.name,disabled:e.disabled,type:"radio"},domProps:{value:e.value,checked:e.isChecked},on:{change:function(t){return e.$emit("change",e.value)}}}),t("div",{staticClass:"radio-icon flex flex--shrink-0 boxAlign-ai--all-c boxAlign-jc--all-c bRad--round border--color-grey border",class:{"radio-icon--large":e.large}}),t("span",{staticClass:"radio-text space--l-2",class:e.disabled&&"text--color-grey"},[e._t("default")],2)])}),[],!1,null,null,null).exports,w=a(768),C=a(5),k=a(776),O={inheritAttrs:!1,props:{tag:{type:String,default:"p"},message:{type:String,default:""}},computed:{shortText(){return this.message?Object(k.a)(this.message):""}}},j=Object(n.a)(O,(function(){var e=this;return(0,e._self._c)(e.tag,e._b({directives:[{name:"track",rawName:"v-track:formError.view",value:{errorCopy:e.shortText},expression:"{ errorCopy: shortText }",arg:"formError",modifiers:{view:!0}}],tag:"Component",staticClass:"formList-info formList-info--error"},"Component",e.$attrs,!1),[e._t("default")],2)}),[],!1,null,null,null).exports,S=Object(C.defineComponent)({__name:"form-message-list",props:{messages:{default:()=>[]},stackMessages:{type:Boolean,default:!0}},setup(e){const t=e,a=Object(C.computed)((()=>t.stackMessages?t.messages:t.messages.slice(0,1)));return{__sfc:!0,props:t,displayMessages:a,Message:j}}}),I=Object(n.a)(S,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",e._l(a.displayMessages,(function(s,n){return t(a.Message,{key:n,attrs:{message:s.text}},[e._v(" "+e._s(s.text)+" ")])})),1)}),[],!1,null,null,null).exports,T=a(769),B=a(727),A=a(720),P=Object(C.defineComponent)({__name:"form-tip",props:{available:{type:Boolean},title:null,descr:null},setup(e){const t=Object(C.ref)(!1);return{__sfc:!0,isFocused:t,toggleFormTip:function(){t.value=!t.value},FormTipLabel:B.a,SlideUpDown:A.a}}}),L=Object(n.a)(P,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[e._t("default",null,{toggleFormTip:a.toggleFormTip}),e.available&&a.isFocused?t(a.SlideUpDown,[t("div",{staticClass:"space--mt-2"},[t(a.FormTipLabel,{attrs:{title:e.title,descr:e.descr}})],1)]):e._e()],2)}),[],!1,null,null,null).exports,E=a(665),$={mixins:[E.a]},M=Object(n.a)($,(function(){var e=this;return(0,e._self._c)("input",e._g(e._b({staticClass:"input width--all-12",class:{"input--mode-error":e.showError},attrs:{type:"text"},on:{input:e.formInput}},"input",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null).exports,U={__name:"form-input-addition-box",props:{left:Boolean,right:Boolean},setup:e=>({__sfc:!0})},D=Object(n.a)(U,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",{staticClass:"input-addition-box aGrid-item flex boxAlign-center height--all-full",class:{"aGrid-item--l-0":e.left,"aGrid-item--r-0":e.right}},[e._t("default")],2)}),[],!1,null,null,null).exports,N={components:{FormInputAdditionBox:D},mixins:[E.a],inheritAttrs:!1,props:{inputClass:String,disabled:Boolean,inputType:{type:String,default:"text"}},methods:{blur(){this.$refs.input.blur()},focus(){this.$refs.input.focus()}}},R=Object(n.a)(N,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"input-wrapper flex aGrid",class:{"input-wrapper--disabled":e.disabled}},[e.$slots.prependIcon?t("FormInputAdditionBox",{staticClass:"pointerEvents--none",attrs:{left:""}},[e._t("prependIcon")],2):e._e(),e.$slots.appendIcon?t("FormInputAdditionBox",{staticClass:"pointerEvents--none",attrs:{right:""}},[e._t("appendIcon")],2):e._e(),e.$slots.appendButton?t("FormInputAdditionBox",{attrs:{right:""}},[e._t("appendButton")],2):e._e(),t("input",e._g(e._b({ref:"input",staticClass:"input width--all-12",class:[{"input--mode-error":e.showError,"input-with-icon--l":e.$slots.prependIcon,"input-with-icon--r":e.$slots.appendIcon||e.$slots.appendButton},e.inputClass],attrs:{type:e.inputType,disabled:e.disabled},on:{input:e.formInput}},"input",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null).exports,q=a(516),F={__name:"form-input-icon",props:{name:String,iconClass:String,spinner:Boolean},setup:e=>({__sfc:!0,BaseSpinner:q.a})},z=Object(n.a)(F,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return e.spinner?t(a.BaseSpinner):t("BaseIcon",{staticClass:"input-icon",class:e.iconClass,attrs:{name:e.name,width:"20",height:"20"}})}),[],!1,null,null,null).exports,W={__name:"form-input-button",props:{icon:{type:String,default:"cross"}},setup:e=>({__sfc:!0})},H=Object(n.a)(W,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",e._g({staticClass:"input-btn flex boxAlign-center",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},e.$listeners),[e._t("default",(function(){return[t("BaseIcon",{staticClass:"input-icon",attrs:{name:e.icon,color:"charcoalTint"}})]}))],2)}),[],!1,null,null,null).exports,G=a(813),V=Object(C.defineComponent)({__name:"form-badge-suggested",setup:e=>({__sfc:!0,BaseBadge:G.a})}),K=Object(n.a)(V,(function(){var e=this,t=e._self._c;return t("Transition",{attrs:{appear:"","enter-active-class":"animation--fadeFromBottom"}},[t(e._self._setupProxy.BaseBadge,{staticClass:"textBadge--primaryPale space--ml-2 lbox--v-1"},[e._v(" "+e._s("Suggerito")+" ")])],1)}),[],!1,null,null,null).exports,Q=(a(723),a(848)),Y=a(849),J=a.n(Y);C.default.directive("mask",Q.a);var X={mixins:[E.a],data(){return{degreeMask:(e=this.$attrs.degrees,J()({prefix:"",suffix:e,thousandsSeparatorSymbol:"",allowNegative:!0})),myInputModel:this.$attrs.value};var e},watch:{"$attrs.value"(){this.myInputModel=this.$attrs.value}},methods:{handleKeyup(){const e=this.$refs.inputRef;e.setSelectionRange(e.value.length-1,e.value.length-1)}}},Z=Object(n.a)(X,(function(){var e=this;return(0,e._self._c)("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.myInputModel,expression:"myInputModel"},{name:"mask",rawName:"v-mask",value:e.degreeMask,expression:"degreeMask"}],ref:"inputRef",staticClass:"input width--all-12",class:{"input--mode-error":e.showError},attrs:{type:"text",disabled:e.$attrs.disabled,maxlength:e.$attrs.length},domProps:{value:e.myInputModel},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleKeyup.apply(null,arguments)},input:[function(t){t.target.composing||(e.myInputModel=t.target.value)},e.formInput]}},"input",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null),ee=Z.exports},511:function(e,t,a){"use strict";var s=a(32),n=a.n(s),r=a(5),i=a(542),o=a(516);const l=["tag"];var c=Object(r.defineComponent)({__name:"base-button",props:{variant:{default:"none"},mode:{default:"none"},size:{default:"none"},loading:{type:Boolean},selected:{type:Boolean},square:{type:Boolean},seal:{type:Boolean},disabled:{type:Boolean},ellipsis:{type:Boolean},wrap:{type:Boolean}},emits:["click","mousedown"],setup(e,t){let{emit:a}=t;const s=e,c=Object(r.ref)(null),u=Object(r.useAttrs)(),d=Object(i.a)(u),p=Object(r.computed)((()=>{const e=d.value;return n()(e,l)})),h=Object(r.computed)((()=>i.d[s.variant])),m=Object(r.computed)((()=>Object(i.b)(s.variant,s.mode)[s.mode])),f=Object(r.computed)((()=>i.c[s.size])),v=Object(r.computed)((()=>({"button--disabled":s.disabled,"button--sealed":s.seal||s.loading,"button--square":s.square,"button--selected":s.selected,"seal--cover aGrid":s.loading&&"none"===s.variant})));return{__sfc:!0,emit:a,props:s,buttonRef:c,attrs:u,config:d,computedConfig:p,variantClasses:h,modeClasses:m,sizeClasses:f,buttonClasses:v,handleClick:function(e){s.disabled||a("click",e)},BaseSpinner:o.a}}}),u=a(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.config.tag,e._b({ref:"buttonRef",tag:"Component",class:[a.variantClasses,a.modeClasses,a.sizeClasses,a.buttonClasses],attrs:{disabled:e.disabled},on:{click:a.handleClick,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.handleClick.apply(null,arguments)},mousedown:function(t){return e.$emit("mousedown",t)}}},"Component",a.computedConfig,!1),[e.loading?t(a.BaseSpinner,{staticClass:"spinner--centered"}):e._e(),t("span",{staticClass:"flex--inline boxAlign-ai--all-c",class:{"mute--opacity-0":e.loading,"flex--width-calc-fix":e.ellipsis,"flex--wrap":e.wrap}},[e.ellipsis?t("span",{staticClass:"overflow--ellipsis"},[e._t("default")],2):e._t("default")],2),e._t("postfix")],2)}),[],!1,null,null,null);t.a=d.exports},512:function(e,t,a){"use strict";var s={props:{size:{type:String,required:!1,default:"m"},mode:{type:String,required:!1,default:"primary"}},computed:{sizeClasses(){return this.$options.classes.sizes[this.size]},modeClasses(){return this.$options.classes.modes[this.mode]}},classes:{sizes:{xs:"circle--xs",s:"circle--s",m:"circle--m",l:"circle--l"},modes:{alert:"bg--color-red",primary:"bg--color-brandPrimary","primary-inverted":"bg--color-white text--color-brandPrimary"}}},n=a(44),r=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("span",{class:[e.sizeClasses,e.modeClasses]},[e._t("default")],2)}),[],!1,null,null,null);t.a=r.exports},513:function(e,t,a){"use strict";var s=a(5),n=a(508),r=Object(s.defineComponent)({__name:"popover-close",setup:e=>({__sfc:!0,popover:Object(s.inject)("popover"),BaseButton:n.a})}),i=a(44),o=Object(i.a)(r,(function(){var e=this._self._c,t=this._self._setupProxy;return e(t.BaseButton,{attrs:{variant:"tertiary",mode:"default",size:"s",square:""},on:{click:t.popover.close}},[e("BaseIcon",{attrs:{name:"cross"}})],1)}),[],!1,null,null,null);t.a=o.exports},515:function(e,t,a){"use strict";var s=a(587),n=a.n(s),r=a(5),i=a(151),o=a(514);var l=a(542);var c=Object(r.defineComponent)(Object.assign({},{inheritAttrs:!1},{__name:"cloak-link",props:{to:null,target:{default:""},buttonTag:{default:"button"},cloak:{type:Boolean,default:!0},variant:{default:"none"},mode:{default:"none"}},emits:["click","mousedown"],setup(e,t){let{emit:a}=t;const s=e,c=Object(r.ref)(null),u=Object(r.useAttrs)(),d=Object(o.b)(),{isLoggedIn:p}=Object(i.a)(),{isUncloaked:h,tempTarget:m,uncloak:f,simulateClick:v}=function(e){const t=Object(r.ref)(!1),a=Object(r.ref)(!1),s=Object(r.ref)(!1),n=Object(r.ref)(""),i=()=>{a.value=!0};return Object(r.onMounted)((()=>{Object(r.watch)(e,(()=>{var t,a;(null!==(t=null===(a=e.value)||void 0===a?void 0:a.$el)&&void 0!==t?t:e.value).addEventListener("contextmenu",i)}))})),Object(r.onUnmounted)((()=>{var t,a;const s=null!==(t=null===(a=e.value)||void 0===a?void 0:a.$el)&&void 0!==t?t:e.value;s&&s.removeEventListener("contextmenu",i)})),{tempTarget:n,isUncloaked:t,uncloak:e=>{(1===e.button||e.metaKey||e.ctrlKey||e.shiftKey)&&(n.value="_blank"),t.value=!0},simulateClick:(e,t,i)=>{a.value||s.value||2===t.button||Object(r.nextTick)((()=>{e.click(),s.value=!0})),n.value=i}}}(c),g=Object(r.computed)((()=>"object"==typeof s.to)),b=Object(r.computed)((()=>s.cloak&&!p.value&&!h.value)),y=Object(r.computed)((()=>b.value?s.buttonTag:"a")),_=Object(r.computed)((()=>{const e=Object.assign({},(n()(u),u));return b.value&&"button"!==s.buttonTag&&(e.role="button"),e})),x=Object(r.computed)((()=>l.d[s.variant])),w=Object(r.computed)((()=>Object(l.b)(s.variant,s.mode)[s.mode]));return{__sfc:!0,props:s,emit:a,button:c,attrs:u,router:d,isLoggedIn:p,isUncloaked:h,tempTarget:m,uncloak:f,simulateClick:v,isRouterLink:g,isCloaked:b,component:y,buttonAttrs:_,variantClasses:x,modeClasses:w,getAttributes:function(e){return b.value?_.value:Object.assign({},_.value,{href:e,target:m.value||s.target||void 0})},handleClick:function(e,t){a("click",e),g.value&&d.push(t)},handleMousedown:e=>{a("mousedown",e),f(e)}}}})),u=a(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.isRouterLink?t("RouterLink",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(s){return[t(a.component,e._b({key:a.isUncloaked,ref:"button",tag:"Component",class:[a.variantClasses,a.modeClasses],on:{click:a.handleClick,"~mouseup":function(t){return t.preventDefault(),a.simulateClick(a.button,t,e.target)},"~mousedown":function(e){return e.preventDefault(),a.handleMousedown(e)}}},"Component",a.getAttributes(s.href),!1),[e._t("default",null,null,a.props)],2)]}}],null,!0)}):t(a.component,e._b({key:a.isUncloaked,ref:"button",tag:"Component",class:[a.variantClasses,a.modeClasses],on:{click:a.handleClick,"~mouseup":function(t){return t.preventDefault(),a.simulateClick(a.button,t,e.target)},"~mousedown":function(e){return e.preventDefault(),a.handleMousedown(e)},"~contextmenu":function(e){return a.uncloak.apply(null,arguments)}}},"Component",a.getAttributes(e.to),!1),[e._t("default")],2)}),[],!1,null,null,null);t.a=d.exports},516:function(e,t,a){"use strict";var s=a(44),n=Object(s.a)({},(function(e,t){return e("svg",{staticClass:"spinner",class:t.data.staticClass,attrs:{viewBox:"0 0 66 66"}},[e("circle",{staticClass:"spinner-background",attrs:{cx:"33",cy:"33",r:"30"}}),e("circle",{staticClass:"spinner-bar",attrs:{cx:"33",cy:"33",r:"30"}})])}),[],!0,null,null,null);t.a=n.exports},517:function(e,t,a){"use strict";var s=a(526),n=a(523),r=a(520),i=a(518),o=a(513),l=a(521);t.a={name:"popoverMixin",components:{BasePopover:n.a,PopoverHead:r.a,PopoverBody:i.a,PopoverClose:o.a,PopoverAsync:l.a},directives:{popover:s.a}}},518:function(e,t,a){"use strict";var s=a(5),n=Object(s.defineComponent)({__name:"popover-body",props:{space:{type:Boolean,default:!0}},setup:e=>({__sfc:!0})}),r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"overflow--scrollY overscroll--containY",class:{"popover-space":e.space}},[e._t("default")],2)}),[],!1,null,null,null);t.a=i.exports},519:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));const s={model:{event:"update"},props:{name:{type:String,default:""},value:{type:[String,Number,Object],default:null},placeholder:{type:String,default:""},options:{type:Array,default:()=>[]},mode:{type:String,default:""},valueKey:{type:String,default:"value"},textKey:{type:String,default:"text"},retainValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{selectedValue:{get(){return this.value},set(e){e!==this.value&&this.$emit("update",e)}},selectedOption(){return this.options.find((e=>e[this.valueKey]===this.value))}}},n={mixins:[s],props:{value:{type:Array,default:()=>[]},separator:{type:String,default:","},open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{expanded:this.open,filterValue:""}},computed:{filteredOptions(){return this.options.filter((e=>e[this.textKey].toLowerCase().includes(this.filterValue.toLowerCase())))}},methods:{toggleLayer(){this.disabled||(this.expanded=!this.expanded)},expandLayer(){this.expanded=!1},setFilterValue(e){this.filterValue=e}}};t.a=s},52:function(e,t,a){"use strict";var s=a(0),n=a.n(s),r={};r.legacyUpload=!(window.File&&window.FileList&&window.Blob&&window.FormData),r.inputToJson=function(e,t,a){var s,n,i=e.match(/^(\w+|\[(\w*)])(.*$)/),o=a;return i?(s=void 0===i[2]?i[1]:i[2],n=i[3],s?(o||(o={}),o[s]?r.inputToJson(n,t,o[s]):o[s]=r.inputToJson(n,t)):(o||(o=[]),o.push(r.inputToJson(n,t)))):o=t,o},r.toJson=function(e,t){var a={};return e.serializeArray().forEach((function(e){r.inputToJson(e.name,e.value,a)})),t&&(r.legacyUpload&&new Error("browser does not support file api or FormData"),e.find("input[type=file][name]").each((function(e,t){r.getFiles(n()(t)).forEach((function(e){r.inputToJson(t.name,e,a)}))}))),a},r.jsonToInputs=function(e,t,a){return t||(t=[]),n.a.each(e,(function(e,s){var i=a?a+"["+e+"]":e;s&&"object"==typeof s?r.jsonToInputs(s,t,i):t.push(n()('<input type="hidden"/>').prop("name",i).prop("value",s))})),t},r.formData=function(e){var t;return window.FormData||new Error("browser does not support FormData"),t=new window.FormData,function e(a,s){var r;return n.a.each(a,(function(a,n){r=s?s+"["+a+"]":a,!n||"object"!=typeof n||n instanceof window.File||n instanceof window.Blob?t.append(r,n):e(n,r)})),t}(e)},r.sendJson=function(e,t,a){const s=n.a.Deferred(),i=n.a.ajax(t,{type:a||"POST",xhr:function(){const e=n.a.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",(function(e){e.lengthComputable&&s.notify(e.loaded,e.total)})),e},data:"string"==typeof e?e:r.formData(e),success:s.resolve,error:s.reject,cache:!1,contentType:!1,processData:!1}),o=s.promise();return o.abort=function(){i.abort()},o},r.send=function(e,t){return"multipart/form-data"===e.attr("enctype")?r.legacyUpload?function(e){return e.submit(),n.a.Deferred().promise()}(e):r.sendJson(r.toJson(e,!0),e.attr("action"),e.attr("method")):n.a.ajax(e.attr("action"),{type:e.attr("method"),data:t?e.serialize().concat("&",n.a.param(t)):e.serialize(),beforeSend:(e,t)=>{e.requestUrl=t.url}})},r.resetFile=function(e){try{e.val(""),e.val()&&e.prop("type","text").prop("type","file")}catch(e){}return e.data("imageControlExcludes",[])},r.excludeFile=function(e,t){var a=e.data("imageControlExcludes")||[];return-1===a.indexOf(t)&&a.push(t),e.data("imageControlExcludes",a)},r.unExcludeFile=function(e,t){var a=e.data("imageControlExcludes")||[],s=a.indexOf(t);return-1!==s&&a.splice(s,1),e.data("imageControlExcludes",a)},r.getFiles=function(e){const t=e.data("imageControlExcludes"),a=[];for(let t=0;t<e[0].files.length;t+=1)a.push(e[0].files[t]);return a.filter((function(e,a){return!t||-1===t.indexOf(a)}))},r.postStatic=function(e,t){n()("<form/>").attr("method","post").attr("action",t).append(r.jsonToInputs(e)).appendTo(document.body).submit()},t.a=r},520:function(e,t,a){"use strict";var s=a(5),n=a(513),r=Object(s.defineComponent)({__name:"popover-head",props:{centerTitle:{type:Boolean,default:!1},icon:String,showClose:{type:Boolean,default:!1}},setup:e=>({__sfc:!0,popover:Object(s.inject)("popover"),PopoverClose:n.a})}),i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("header",{staticClass:"popover-space flex boxAlign-ai--all-c"},[t("div",{staticClass:"flex boxAlign-ai--all-c",class:{"space--ml-a":e.centerTitle}},[e.icon?t("span",{staticClass:"lbox--v-1 space--r-1"},[t("BaseIcon",{attrs:{name:e.icon}})],1):e._e(),t("strong",{staticClass:"size--all-l text--b",class:{"space--mr-2":!e.centerTitle}},[e._t("default")],2)]),!a.popover.trap||e.showClose?t(a.PopoverClose,{staticClass:"space--ml-a"}):e._e()],1)}),[],!1,null,null,null);t.a=o.exports},521:function(e,t,a){"use strict";var s=a(5);const n="fallback",r="default",i="error";var o={name:"BaseSuspense",data:()=>({slot:n}),async created(){try{await this.$slots.default[0].asyncFactory(),this.slot=r,this.$emit("loaded")}catch(e){this.slot=i,this.$emit("error",e)}},render(){return this.$slots[this.slot]}},l=a(44),c=Object(l.a)(o,undefined,undefined,!1,null,null,null).exports,u=a(516),d=Object(s.defineComponent)({__name:"popover-async",props:{height:{type:String,default:"100px"}},setup:e=>({__sfc:!0,popover:Object(s.inject)("popover"),BaseSuspense:c,BaseSpinner:u.a})}),p=Object(l.a)(d,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.BaseSuspense,{on:{error:function(e){return a.popover.close()}},scopedSlots:e._u([{key:"fallback",fn:function(){return[t("div",{staticClass:"flex boxAlign-center",style:{minHeight:e.height}},[e._t("fallback",(function(){return[t(a.BaseSpinner,{staticClass:"spinner--size-big"})]}))],2)]},proxy:!0}],null,!0)},[e._t("default")],2)}),[],!1,null,null,null);t.a=p.exports},522:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var s=a(10),n=a.n(s),r=a(11),i=a.n(r);let o=function(e){return e.CROP="cp",e.RESIZE="re",e.BLUR="bl",e.FIT="fi",e.FIT_BY_SIZE="fs",e.QUALITY="qt",e.FILE_TYPE="ft",e}({}),l=function(e){return e.ANIMATED_SOURCE="as",e}({});const c={[o.CROP]:"crop",[o.RESIZE]:"resize",[o.BLUR]:"blur",[o.FIT]:"fit",[o.FIT_BY_SIZE]:"fitBySize",[o.QUALITY]:"quality",[o.FILE_TYPE]:"fileType"};let u=function(){function e(t,a){if(n()(this,e),t){if("object"==typeof t){const{path:e,name:s}=t;if(!e||!s)throw Error("Invalid picsy image object");const n=t.animated?"".concat(l.ANIMATED_SOURCE,"/"):"",{name:r=s,ext:i="jpg"}=a||{},o=t.ext||i;this.path="".concat("https://static.pepper.it","/").concat(e,"/").concat(s,"/").concat(n),this.file="".concat(r,".").concat(o)}else{if("string"!=typeof t)throw Error("Expected picsy image path, but received: ".concat(t));if("string"!=typeof a)throw Error("Expected picsy image file name, but received: ".concat(a));this.path=t,this.file=a}Object.freeze(this)}}return i()(e,[{key:"blur",value:function(e){return e>0&&e<=100?this.addOperation(o.BLUR,e):this}},{key:"quality",value:function(e){return e>=0&&e<=100?this.addOperation(o.QUALITY,e):this}},{key:"resize",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.dimOperation(o.RESIZE,...t)}},{key:"fit",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.dimOperation(o.FIT,...t)}},{key:"fitBySize",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.dimOperation(o.FIT_BY_SIZE,...t)}},{key:"crop",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.dimOperation(o.CROP,...t)}},{key:"fileType",value:function(t){if(!t||!this.file)return this;const a="".concat(this.file.substr(0,this.file.lastIndexOf(".")),".").concat(t);return new e(this.path,a)}},{key:"toString",value:function(){return this.path?this.path+this.file:""}},{key:"apply",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>{let[a,...s]=t;const n=c[a];return n?e[n](...s):e}),this)}},{key:"dimOperation",value:function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=Math.round(t)||"",r=Math.round(a)||"";return n||r?this.addOperation(e,"".concat(n).concat(r?"x"+r:"").concat(s?"w":"")):this}},{key:"addOperation",value:function(t,a){return this.path?new e("".concat(this.path).concat(t,"/").concat(a,"/"),this.file):this}}]),e}();const d=e=>{const t=[o.CROP,o.RESIZE,o.FIT,o.FIT_BY_SIZE];for(const[a,s,n]of e)if(t.includes(a))return{width:s,height:n};return{width:0,height:0}}},523:function(e,t,a){"use strict";var s=a(32),n=a.n(s),r=a(28),i=a(242),o=a(16),l=a(541),c=a.n(l),u=a(134),d=a.n(u),p=a(5);const h=new WeakMap;function m(e,t){let{value:a}=t;if(!a)return;const s=new MutationObserver(a);s.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),h.set(e,s)}function f(e){h.has(e)&&(h.get(e).disconnect(),h.delete(e))}p.default.directive("mutation",{inserted:m,update:function(e,t){t.value!==t.oldValue&&(f(e),m(e,t))},unbind:f});var v=a(136),g=a.n(v),b={name:"PortalProvide",props:{provide:{type:Object,required:!0}},beforeCreate(){this.$options.provide=g()(this.$options.propsData.provide,(e=>e&&e._self||e))},render(){return this.$slots.default}},y=a(44),_=Object(y.a)(b,undefined,undefined,!1,null,null,null).exports,x=a(62),w=a(0),C=a.n(w),k=a(3),O=a(551);const j=["preset"],S=Object.fromEntries(["beforeRender","initPosition","beforeEnter","enter","visible","leave"].map(((e,t)=>[e,t]))),I=e=>!e||/^\d+[a-z]*$/.test(e),T=(e,t)=>e&&/^-?\d+$/.test(e)?e+t:e;var B={name:"BasePopover",components:{PortalProvide:_},props:{preRender:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object],default:null},contentRepos:{type:Boolean,default:!0},layerClass:{type:[String,Array,Object],default:"popover--default"},maxWidth:{type:String,validator:I,default:null},minHeight:{type:String,validator:I,default:null},minWidth:{type:String,validator:I,default:null},mobileSheet:{type:Boolean,default:!1},scrollRepos:{type:Boolean,default:!0},trap:{type:Boolean,default:!1},width:{type:String,validator:I,default:null}},data:()=>({stage:S.beforeRender,currentActivation:null,currentLayout:null,arrowPos:null}),computed:{portalKey:()=>c()("popover"),active(){return null!==this.currentActivation},layerStyles(){return this.cssLayout?null:this.currentLayout?Object.assign({position:this.currentLayout.fixed?"fixed":"absolute"},this.currentLayout.style):{position:"absolute",top:0,left:0}},contentStyles(){return{width:this.mobileSheetActive?null:T(this.width,"px"),minWidth:this.mobileSheetActive?null:T(this.minWidth,"px"),maxWidth:this.mobileSheetActive?null:T(this.maxWidth,"px"),minHeight:T(this.minHeight,"px")}},arrowStyles(){var e;return null!==(e=this.currentActivation)&&void 0!==e&&e.trigger.target&&this.arrow?this.arrowPos?{top:"".concat(this.arrowPos.top,"px"),left:"".concat(this.arrowPos.left,"px")}:{visibility:"hidden"}:null},layoutClasses(){if(!this.currentLayout)return null;const e=["popover--layout-".concat(this.currentLayout.name)];return this.currentLayout.classes&&e.push(...this.currentLayout.classes.trim().split(/ +/)),e},zIndexClass(){var e;if(this.currentLayout&&(null===(e=this.currentLayout.classes)||void 0===e||!e.includes("zIndex--")))return this.currentLayout.backdrop?"zIndex--modal":this._provided.popover?this._provided.popover.zIndexClass:this.currentLayout.fixed?"zIndex--fixed":"zIndex--popover"},visibilityClass(){return{"popover--visible":this.visible}},transition(){var e;return this.stage>S.beforeEnter&&(null===(e=this.currentLayout)||void 0===e?void 0:e.transition)||null},hiddenForTransition(){return this.stage===S.beforeEnter||this.stage===S.leave},visible(){return this.stage>S.initPosition},mobileSheetActive(){return this.mobileSheet&&this.$breakpoint.xsOnly},cssLayout(){if(!this.active)return null;const e=this.mobileSheetActive?Object.assign({},O.b,{backdrop:this.currentActivation.layouts[0].backdrop}):this.currentActivation.layouts[0];if("fixed"===e)return{name:e,backdrop:!0};if("fixed"===e.preset){const{preset:t}=e,a=n()(e,j);return a.name=t,!1!==a.backdrop&&(a.backdrop=!0),a}return null},pageScroll(){const{backdrop:e,fixed:t}=this.currentLayout||{};return!e||!this.cssLayout&&!t}},watch:{pageScroll(){Object(i.e)(!this.pageScroll)},cssLayout(e){e&&(this.currentLayout=e)}},mounted(){Object(o.d)(this)},beforeDestroy(){this.pageScroll||Object(i.e)(!1),this.close({withTransition:!1})},methods:{async activate(e){var t;let{target:a,type:s="click"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!==(t=a)&&void 0!==t&&t._isVue&&(a=a.$el);const n=Object.freeze({target:a,type:s});if(this.active){if(!this.canChangeActivation(e,n))return;if(await this.close({withTransition:!1}),this.active)return}if(this.currentActivation={layouts:e,trigger:n},await Object(r.c)(),this.active&&(this.stage=S.initPosition,await this.position(),this.stage===S.initPosition)){if(this.currentLayout.transition){if(this.stage=S.beforeEnter,await this.$nextTick(),this.stage!==S.beforeEnter)return;this.stage=S.enter}else this.stage=S.visible;this.addListeners(),await this.$nextTick(),this.stage<S.enter||(this.$emit("update:active",!0),this.$emit("open"))}},beforeClose(){this.stage!==S.leave&&this.$emit("before-close")},async close(){let{withTransition:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.active&&(this.beforeClose(),e?this.stage=S.leave:(this.removeListeners(),this.currentActivation=null,this.currentLayout=null,this.arrowPos=null,await this.$nextTick(),this.active||(this.stage=S.beforeRender,this.$emit("update:active",!1),this.$emit("close"))))},updateLayouts(e){this.active&&(this.currentActivation.layouts=e,this.position())},async position(){var e;if(this.stage!==S.initPosition&&this.stage!==S.visible)return;if(this.cssLayout)return this.arrowPos=null,this.currentLayout=this.cssLayout,void await this.$nextTick();const t=this.currentActivation.trigger.target;this.layoutClasses&&this.$refs.layer.classList.remove(...this.layoutClasses),this.$refs.content.classList.remove("popover-content--expand");const a=new x.a.SmartLayout(C()(this.$refs.layer),C()(this.$refs.content),C()(t),this.currentActivation.layouts).get();if(this.$refs.content.classList.add("popover-content--expand"),this.layoutClasses&&this.$refs.layer.classList.add(...this.layoutClasses),!a.rect.isValid())return this.close({withTransition:!1});const s={name:a.name,classes:a.classes,transition:a.transition,fixed:a.fixed,backdrop:a.backdrop,style:{}};if(k.a.applyRect(s,a.rect,s.fixed),this.contentRepos||delete s.style.height,d()(this.currentLayout,s))return;const n=s.name!==(null===(e=this.currentLayout)||void 0===e?void 0:e.name);this.currentLayout=s,n&&(this.arrowPos=null,await this.$nextTick(),!this.active)||t&&(this.arrowPos=x.a.arrowPos(a,k.a.rect(t),k.a.rect(this.$refs.arrow)))},onScroll(e){Object(o.b)(e.target,this.$refs.layer)||this.position()},canChangeActivation(e,t){let{target:a=null,type:s=null}=t;return!d()(e,this.currentActivation.layouts)||a!==this.currentActivation.trigger.target||"mouseenter"===this.currentActivation.trigger.type&&"mouseenter"!==s},afterEnterTransition(){this.stage===S.enter&&(this.stage=S.visible,this.position())},afterLeaveTransition(){this.stage===S.leave&&this.close({withTransition:!1})},addListeners(){if(window.addEventListener("resize",this.position),this.scrollRepos&&window.addEventListener("scroll",this.onScroll,!0),!this.trap){document.addEventListener("keyup",this.handleEsc);const e=A[this.currentActivation.trigger.type];e&&(this.stop=e(this))}C()(this.$refs.layer).on("layer-destroy",this.close)},removeListeners(){window.removeEventListener("resize",this.position),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("keyup",this.handleEsc),this.stop&&(this.stop(),this.stop=null),C()(this.$refs.layer).off("layer-destroy",this.close)},handleEsc(e){27===e.keyCode&&this.close()}}};const A={click:e=>Object(i.a)(document,"click",(t=>{var a,s;if(!t.target.isConnected)return;const n=null===(a=(s=t.target).closest)||void 0===a?void 0:a.call(s,".popover-portal>*");if(n){var r,i;if(n!==(null===(r=(i=e.$el).closest)||void 0===r?void 0:r.call(i,".popover-portal>*")))return}e.close()})),mouseenter:e=>Object(i.a)(e.currentActivation.trigger.target,"mouseleave",(()=>{e.close()})),focus:e=>Object(i.a)(e.currentActivation.trigger.target,"blur",(()=>{e.close()}))};var P=B,L=Object(y.a)(P,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"popover-origin"},[e.preRender||e.active?t("Portal",{attrs:{to:"popover",slim:"",disabled:!e.active}},[t("div",{key:e.portalKey},[t("Transition",{attrs:{"enter-active-class":"animation--fadeIn","leave-active-class":"animation--fadeOut",appear:""}},[e.currentLayout&&e.currentLayout.backdrop&&!e.hiddenForTransition?t("div",{staticClass:"popover-cover",class:e.zIndexClass,on:{click:function(t){!e.trap&&e.close()}}}):e._e()]),t("Transition",e._b({on:{"after-enter":e.afterEnterTransition,"after-leave":e.afterLeaveTransition}},"Transition",e.transition,!1),[t("section",{directives:[{name:"show",rawName:"v-show",value:!e.hiddenForTransition,expression:"!hiddenForTransition"}],ref:"layer",staticClass:"popover",class:[e.layerClass,e.zIndexClass,e.layoutClasses,e.visibilityClass],style:e.layerStyles,attrs:{role:"dialog"}},[t("div",{ref:"content",staticClass:"popover-content flex--inline",class:e.contentClass,style:e.contentStyles},[t("PortalProvide",{attrs:{provide:{popover:this}}},[t("div",{directives:[{name:"mutation",rawName:"v-mutation",value:e.contentRepos?e.position:null,expression:"contentRepos ? position : null"}],staticClass:"flex flex--dir-col height--min-100 width--all-12"},[e._t("default",null,null,this)],2)])],1),e.arrowStyles?t("span",{ref:"arrow",staticClass:"popover-arrow",style:e.arrowStyles}):e._e()])])],1)]):e._e()],1)}),[],!1,null,null,null);t.a=L.exports},524:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var s=a(4),n=a(64);const r=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.a,r=0;return{beforeCreate(){++r>1||(s.a.registerModule(e,t.create.call(this,a.get())),t.update&&a.sub(t.update))},destroyed(){if(--r>0)return;t.update&&a.unsub(t.update),t.destroy&&t.destroy();const n="".concat(e,"/tearDown");n in s.a._actions&&s.a.dispatch(n),s.a.unregisterModule(e)}}},i=(e,t)=>r(e,{create:a=>{if(!(e in a))throw Error("Missing initial state for: ".concat(e));return t(a[e])},update:t=>{const a="".concat(e,"/replace");e in t&&a in s.a._actions&&s.a.dispatch(a,t[e])}})},525:function(e,t,a){"use strict";var s=a(44),n=Object(s.a)({},(function(e,t){return e("footer",{staticClass:"popover-space flex boxAlign-ai--all-c",class:[t.data.staticClass,t.data.class]},[t._t("default")],2)}),[],!0,null,null,null);t.a=n.exports},526:function(e,t,a){"use strict";var s=a(32),n=a.n(s),r=a(242),i=a(534);const o=["focus","hover","click","fixed"],l=!0;function c(e,t,a){const{arg:s,modifiers:{focus:i,hover:c,click:p=!i&&!c,fixed:h},value:m}=t,f=n()(t.modifiers,o),v=!Array.isArray(m),g=t=>{if(v&&null!=m&&m.disabled)return;const n=(v?null==m?void 0:m.layouts:m)||Object.keys(f).map((e=>({preset:e,fixed:h})));if(!(l||null!=n&&n.length))throw Error("Missing layout for v-popover");return u(e,a.context,s).activate(n,{type:t.type,target:t.currentTarget})},b=[];if(p&&b.push(Object(r.a)(e,"click",g)),i&&b.push(Object(r.a)(e,"focus",g)),c&&b.push(Object(r.a)(e,"mouseenter",g)),!l&&p&&i)throw Error("Invalid v-popover event modifiers: there should be no reason to combine click & focus");d.set(e,b)}const u=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===a){const t=e.querySelector(".popover-origin");if(!l&&!t&&!s)throw Error("Couldn't find nested popover inside v-popover trigger");return null==t?void 0:t.__vue__}let n=t.$refs[a];if(Array.isArray(n)&&(n=n[0]),!l&&!n&&!s)throw Error("Invalid v-popover name: ".concat(a,", please verify ref"));for(;n&&n.$options.name!==i.a.name;)n=n.$children[0];if(!l&&!n&&!s)throw Error("Component linked via v-popover is not a popover: ".concat(a));return n},d=new WeakMap;t.a={bind:c,update:function(e,t,a){const{arg:s,value:n,oldValue:r}=t,i=Array.isArray(n)?n:null==n?void 0:n.layouts;if(i===(Array.isArray(r)?r:null==r?void 0:r.layouts))return;d.get(e).forEach((e=>e())),c(e,t,a);const o=u(e,a.context,s);o.active&&o.currentActivation.trigger.target===e&&o.updateLayouts(i)},unbind:function(e,t,a){let{arg:s}=t;d.get(e).forEach((e=>e()));const n=u(e,a.context,s,!0);n&&n.active&&n.currentActivation.trigger.target===e&&n.close()}}},527:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var s=a(634),n=a.n(s),r=a(637),i=a.n(r),o=a(49);const l=["uuid","userId"],c={set(e){return Object.assign(this.payload,e),this},record(e,t){if(this.enabled){const a=this.sanitizePayload(Object.assign({},this.payload,e));this.track(this.validPayload(a),t)}},validPayload(e){return i()(e,this.whiteList)},sanitizePayload:e=>Object(o.a)()?e:n()(e,l)},u=Object.assign(Object.create(c),{enabled:!0,whiteList:["category","action","label","value"],track(e,t){const a=t&&t.nonInteraction;window.gtag&&e.category&&e.action&&window.gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value,non_interaction:a?1:0})}}),d=()=>Object.assign(Object.create(u),{payload:{}})},528:function(e,t,a){"use strict";var s=a(25),n=a(527);t.a={computed:{ga:()=>Object(n.a)(),isTouchScreen:()=>s.d}}},529:function(e,t,a){"use strict";a.d(t,"a",(function(){return Kt})),a.d(t,"b",(function(){return da}));var s=a(5),n=a(4),r=a(16);var i=a(122),o=a(514),l=a(21),c=a(569),u=a(103);function d(e){Object(u.f)(null==e?void 0:e.name)||Object(c.a)()}var p=a(153),h=a(155),m=a(49),f=a(121);const v=e=>{Object(r.e)(e,(e=>{if(null==e||!e.enabled||!Object(m.a)())return;const t=Object(m.c)(),a=e.token,s="nps-pepper-com-js";if(document.getElementById(s)||!a||!t)return;let r="?account_token=".concat(a,"&uuid=").concat(t,"&v=2");const i=n.a.getters["auth/me"];if(i)localStorage.setItem("nps_a_u","yes"),r+="&user_id=".concat(i.userId,"&user_email=").concat((e=>{const t=Object(f.c)(2).charAt(0);return btoa("".concat(t).concat(btoa(e)))})(i.email),"&created_at=").concat(i.createdAt);else{if("yes"===localStorage.getItem("nps_a_u"))return;const e=localStorage.getItem("nps_f_v");if(e)r+="&first_visit=".concat(e);else{const e=Date.now().toString();localStorage.setItem("nps_f_v",e),r+="&first_visit=".concat(e)}}const o=document.getElementsByTagName("script")[0],l=document.createElement("script");l.id=s,l.defer=!0,l.src=encodeURI("https://nps.pepper.com/nps.js".concat(r)),o.parentNode.insertBefore(l,o)}))};var g=a(540),b=a(588),y=a(563),_=a(32),x=a.n(_),w=a(6),C=a(1);const k=["suggestions"],O=async e=>{const{suggestions:t}=await Object(w.a)({req:C.Tc,params:{query:e,suggestionsLimit:5,vouchersLimit:3,dealsLimit:3,usersLimit:3}});return(e=>{let{suggestions:t}=e,a=x()(e,k);const s=t.map((e=>"event"in e?e.event:e));return Object.assign({suggestions:s},a)})(t)};var j=a(604),S=a(562),I=a(535),T=a(547),B=Object(s.defineComponent)({__name:"site-search-history",props:{history:null},setup:e=>({__sfc:!0,getHistoryItemComponent:I.c,SearchHistoryTrigger:T.a})}),A=a(44),P=Object(A.a)(B,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return e.history.length?t("div",[t("div",{staticClass:"flex width--all-12"},[t("h3",{staticClass:"space--t-3 size--all-s space--b-2 space--l-3 text--color-charcoalTint text--b"},[e._v(" "+e._s("Ricerche recenti")+" ")])]),t("ul",e._l(e.history,(function(e){return t("li",{key:e.id},[t(a.SearchHistoryTrigger,{attrs:{item:e}},[t(a.getHistoryItemComponent(e),{tag:"Component",attrs:{item:e}})],1)],1)})),0)]):e._e()}),[],!1,null,null,null).exports,L=a(536),E=a(95),$=Object(s.defineComponent)({__name:"site-search",setup(e){const{SEARCH_BLOCKS:t,getComponentByType:a,getType:n,getTitleByType:r,updateSeeMoreLinks:i,seeMoreLinks:o}=Object(L.b)(),l=Object(s.ref)(null),c=Object(s.ref)(!1),u=Object(s.computed)((()=>Boolean(E.d.value.length))),d=Object(s.ref)(!1),p=Object(s.ref)(!1),h=Object(s.ref)(!1),m=Object(s.computed)((()=>h.value||p.value)),f=Object(s.computed)((()=>c.value?u.value:d.value?!d.value:void 0)),v=async e=>{if(!e||e.length<2)return c.value=!0,{[t.POPULAR_SEARCH]:l.value};const{deals:a,vouchers:s,users:n,suggestions:r,destinations:o}=await O(e);return i(o),c.value=!1,d.value=Boolean(r.length&&n.length&&!a.length&&!s.length),{[t.SUGGESTIONS]:r,[t.TOP_VOUCHERS]:s,[t.TOP_DEALS]:a,[t.USERS]:n}},g=e=>t=>({keyword:t,type:e}),b=e=>{const t=Object.entries(e).filter((e=>e[1].length));return[].concat(...t.map((e=>{let[t,a]=e;return a.map(g(t))})))};return{__sfc:!0,SEARCH_BLOCKS:t,getComponentByType:a,getType:n,getTitleByType:r,updateSeeMoreLinks:i,seeMoreLinks:o,defaultSuggestions:l,showHistory:c,historyNotEmpty:u,hasOnlySuggestionsAndUsers:d,isDropdownOpened:p,isFocused:h,isSearchActive:m,showDivider:f,fetchSuggestions:v,addKeywordType:g,mergeKeywordTypes:b,getSuggestions:async e=>{try{l.value||(l.value=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const{groups:t}=await Object(w.a)({req:C.Rc,params:{mostSearchable:!0,limit:e},options:{queryCache:60}});return t}());const t=await v(e);return b(t)}catch(e){return[]}},handleSearch:e=>{const t=new FormData(e.target).get("q");Object(E.c)({route:{name:"search",query:{q:t}},title:t,label:I.b.ALL_RESULTS})},AutoSuggestGroupResult:j.a,AutoSuggest:S.a,SearchHistory:P,SearchHistoryTrigger:T.a,searchHistory:E.d}}}),M=$,U=Object(A.a)(M,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("form",{directives:[{name:"track",rawName:"v-track:siteSearch",arg:"siteSearch"}],staticClass:"search aGrid box--all-i vAlign--all-m width--all-12 hAlign--all-l",class:{"search--active":a.isSearchActive&&e.$breakpoint.mdAndUp},attrs:{action:e.$router.resolve({name:"search"}).href,method:"get"},on:{submit:a.handleSearch}},[t(a.AutoSuggest,e._g(e._b({attrs:{placeholder:"Cerca marche, prodotti etc.",items:a.getSuggestions,"item-value":"keyword",height:"90vh","no-filter":"",clearable:"",name:"q","load-suggestions-on-focus":"","input-classes":"input--search"},on:{focus:function(e){a.isFocused=!0},blur:function(e){a.isFocused=!1},"show-results":function(e){a.isDropdownOpened=e}},scopedSlots:e._u([{key:"suggestions",fn:function({suggestions:s,highlighted:n,select:r}){return[a.showHistory&&a.historyNotEmpty?t(a.SearchHistory,{attrs:{history:a.searchHistory}}):e._e(),t(a.AutoSuggestGroupResult,{attrs:{"get-group":a.getType,"get-title":a.getTitleByType,suggestions:s,highlighted:n,highlight:()=>{},select:r,"show-divider":a.showDivider},scopedSlots:e._u([{key:"search-results-group-see-more-btn",fn:function({groupKey:s}){return[a.seeMoreLinks[s]?t(a.SearchHistoryTrigger,{attrs:{item:a.seeMoreLinks[s]}},[t("RouterLink",{attrs:{to:a.seeMoreLinks[s].route}},[e._v(" "+e._s("Vedi altro")+" ")])],1):e._e()]}},{key:"default",fn:function({suggestion:s,isHighlighted:n}){return[a.getComponentByType(s.original.type)?t(a.getComponentByType(s.original.type),{tag:"Component",attrs:{suggestion:s,"is-highlighted":n}}):e._e()]}}],null,!0)})]}}])},"AutoSuggest",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null).exports,D=Object(s.defineComponent)({__name:"site-navigation-menu-home-link",props:{homeLink:String},setup:e=>({__sfc:!0})}),N=Object(A.a)(D,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RouterLink",{directives:[{name:"track",rawName:"v-track:homeLink.click",arg:"homeLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 lbox--v-4",attrs:{"active-class":"navMenu-link--selected button--selected",rel:"home",to:e.homeLink}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:"home"}})],1),e._v(" "+e._s("Tutto")+" / "),t("span",{staticClass:"navMenu-link--lighter"},[e._v(e._s("Tutte le offerte"))])])}),[],!1,null,null,null).exports,R={props:{isNew:{type:Boolean},icon:{type:String},url:{type:String,required:!0},label:{type:String,required:!0}}},q=Object(A.a)(R,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"flex flex--dir-column"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:mainLink.click",value:{label:e.label,url:e.url},expression:"{ label, url }",arg:"mainLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 space--mt-1",attrs:{"active-class":"navMenu-link--selected button--selected",to:e.url}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:e.icon}})],1),e._v(" "+e._s(e.label)+" "),e.isNew?t("span",{staticClass:"space--ml-2 textBadge textBadge--primary"},[e._v(e._s("New"))]):e._e()])],1)}),[],!1,null,null,null).exports,F=a(515),z=Object(s.defineComponent)({__name:"site-navigation-menu-item-external",props:{url:null,label:null,icon:null,isNew:{type:Boolean,default:!1},showExternalIcon:{type:Boolean,default:!0},cloak:{type:Boolean,default:!1}},setup:e=>({__sfc:!0,CloakLink:F.a})}),W=Object(A.a)(z,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"flex flex--dir-column"},[t(e._self._setupProxy.CloakLink,{directives:[{name:"track",rawName:"v-track:mainLink.click",value:{label:e.label,url:e.url},expression:"{ label, url }",arg:"mainLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 space--mt-1",attrs:{rel:"nofollow noopener",to:e.url,cloak:e.cloak,target:"_blank"}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:e.icon}})],1),e._v(" "+e._s(e.label)+" "),e.isNew?t("span",{staticClass:"space--ml-2 textBadge textBadge--primary"},[e._v(e._s("New"))]):e._e(),e.showExternalIcon?t("BaseIcon",{staticClass:"space--ml-1",attrs:{name:"external"}}):e._e()],1)],1)}),[],!1,null,null,null).exports,H=a(51);const G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{url:a,key:s}=e,n=t.find((e=>e.page===a));return null!=n&&n.sorting?"custom::home"===s?"/"===a?a+n.sorting:a:"".concat(a,"-").concat(n.sorting):a};function V(e){return{["/".concat(H.l)]:!0}[null==e?void 0:e.url]}function K(e){return{["/".concat(H.h)]:!0}[null==e?void 0:e.url]}function Q(e){return e.url==="/".concat(H.l)}function Y(e){return"custom::home"===(null==e?void 0:e.key)}function J(){const e={merchants:{name:"merchant.list",label:"Tutti i negozi"},vouchers:{name:"vouchers",label:"Codici sconto"},groups:{name:"groups.overview",label:"Tutte le categorie"},guides:{name:"guides.listing",label:"Buyer’s Guides"},discussions:{name:"discussions",label:"Discussioni"}};return e.vouchers={name:"vouchers",label:"Codici sconto"},e}var X=Object(s.defineComponent)({__name:"site-navigation-menu-groups",props:{groups:null,userPreferences:null},setup(e){const t=e,a=Object(o.b)();return{__sfc:!0,props:t,router:a,goToGroup:function(e){const{href:s}=a.resolve({name:"threads.index.group",params:{slug:e}});return G({url:s},t.userPreferences)}}}}),Z=Object(A.a)(X,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("ul",{staticClass:"navMenu-list size--all-m"},e._l(e.groups,(function(s){return t("li",{key:s.threadGroupId,staticClass:"iGrid-item width--all-6"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:groupLink.click",value:{id:s.threadGroupId},expression:"{ id: group.threadGroupId }",arg:"groupLink",modifiers:{click:!0}}],staticClass:"button button--type-text button--mode-white space--v-2 boxAlign-jc--all-fs width--all-12 space--r-1",attrs:{"active-class":"button--selected",to:a.goToGroup(s.threadGroupUrlName)}},[t("span",{staticClass:"overflow--ellipsis"},[e._v(e._s(s.threadGroupName))])])],1)})),0)}),[],!1,null,null,null).exports,ee=a(508),te=a(600),ae=Object(s.defineComponent)({__name:"site-navigation-menu-content",props:{mainLinks:{default:()=>[]},eventLinks:{default:()=>[]},merchantLinks:{default:()=>[]},threadGroups:{default:()=>[]},isMascotcardsExplanationEnabled:{type:Boolean},enableSnow:{type:Boolean},hideVoucherCodesSection:{type:Boolean},userPreferences:null},setup(e){const t=e,n=Object(s.defineAsyncComponent)((()=>a.e(145).then(a.bind(null,1351)))),r=Object(o.a)(),i=Object(o.b)(),{isMagazineEnabled:c,magazineUrl:u}=Object(te.a)(),d=!0,p=J(),h=Object(s.computed)((()=>t.mainLinks.filter((e=>!K(e)&&!V(e)&&!Q(e))))),m=Object(s.computed)((()=>t.mainLinks.filter((e=>K(e))))),f=Object(s.computed)((()=>h.value.length>0||c||"")),v=Object(s.computed)((()=>!t.hideVoucherCodesSection&&t.merchantLinks.length>0)),g=Object(s.computed)((()=>t.eventLinks.length>0||t.isMascotcardsExplanationEnabled)),b=Object(s.computed)((()=>m.value.length>0||t.enableSnow||"")),y=Object(s.computed)((()=>r.path===_.value?"navMenu-link--selected":"")),_=Object(s.computed)((()=>i.resolve({name:"mascotcards.index"}).href)),x=Object(s.computed)((()=>t.threadGroups.filter((e=>![].includes(parseInt(e.threadGroupId)))))),w=Object(s.computed)((()=>Object.assign({},p.vouchers,{icon:"scissors"})));return{__sfc:!0,FunLetItSnowButton:n,props:t,route:r,router:i,isMagazineEnabled:c,magazineUrl:u,isWhiteLabelEnabled:d,isHomeLinkVisible:!0,surveysUrl:"",staticMainLinks:p,visibleMainLinks:h,bottomSectionLinks:m,shouldShowMainLinksSection:f,shouldShowMerchantsSection:v,shouldShowEventsSection:g,shouldShowBottomSection:b,mascotcardsLinkClass:y,mascotcardsPath:_,visibleThreadGroups:x,merchantsMainLinkConfig:w,isEventRoute:function(e){const{href:t}=i.resolve({name:"event.index",params:{pathMatch:e}});return Object(l.b)(r,t)},SiteNavigationMenuHome:N,SiteNavigationMenuItem:q,SiteNavigationMenuItemExternal:W,MenuGroups:Z,BaseButton:ee.a,isHomeLink:Y}}}),se=Object(A.a)(ae,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"space--t-2 space--b-3"},[t("nav",{directives:[{name:"track",rawName:"v-track:mainMenu",arg:"mainMenu"}]},[e._l(a.visibleMainLinks,(function(s){return t("span",{key:s.key},[a.isHomeLink(s)&&a.isHomeLinkVisible?t(a.SiteNavigationMenuHome,{attrs:{"home-link":s.url}}):s.isExternal?t(a.SiteNavigationMenuItemExternal,{attrs:{"is-new":s.isNew,url:s.url,label:s.label,icon:s.icon}}):a.isHomeLink(s)?e._e():t(a.SiteNavigationMenuItem,{attrs:{"is-new":s.isNew,url:s.url,label:s.label,icon:s.icon}})],1)})),e._e(),t("Portal",{attrs:{to:"surveysPortalTarget",disabled:a.surveysUrl&&!a.isWhiteLabelEnabled}},[a.surveysUrl?t(a.SiteNavigationMenuItemExternal,{attrs:{label:"Sondaggi",url:a.surveysUrl,"show-external-icon":!1,icon:"survey",cloak:""}}):e._e()],1),t("Portal",{attrs:{to:"eventsPortalTarget",disabled:!a.isWhiteLabelEnabled}},[a.shouldShowEventsSection?[t("strong",{staticClass:"navMenu-label",class:{"navMenu-div":a.shouldShowMainLinksSection||a.isWhiteLabelEnabled}},[t("span",{staticClass:"lbox--v-4 space--l-2"},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:"star-empty"}})],1),e._v(" "+e._s("Eventi")+" ")])]),t("ul",{staticClass:"navMenu-list size--all-m"},[e._l(e.eventLinks,(function(s){return t("li",{key:s.eventId},[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:eventLink.click",arg:"eventLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs width--all-12",attrs:{variant:"text",mode:"white",to:{name:"event.index",params:{pathMatch:s.urlName}},selected:a.isEventRoute(s.urlName)}},[e._v(" "+e._s(s.name)+" ")])],1)})),e.isMascotcardsExplanationEnabled?t("li",[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:promoLink.click",arg:"promoLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs width--all-12",class:a.mascotcardsLinkClass,attrs:{variant:"text",mode:"white",to:a.mascotcardsPath}},[e._v(" "+e._s("Caccia alla Renna Fiammante ")+" ")])],1):e._e()],2)]:e._e()],2),a.visibleThreadGroups&&a.visibleThreadGroups.length>0?[t("div",{staticClass:"navMenu-label navMenu-div"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:groupLink.click",arg:"groupLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 lbox--v-4",attrs:{to:{name:a.staticMainLinks.groups.name}}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:"group"}})],1),e._v(" "+e._s(a.staticMainLinks.groups.label)+" ")])],1),t(a.MenuGroups,{attrs:{groups:a.visibleThreadGroups,"user-preferences":e.userPreferences}})]:e._e(),a.shouldShowMerchantsSection?[t("div",{staticClass:"navMenu-label navMenu-div"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:merchantLink.click",arg:"merchantLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 lbox--v-4",attrs:{to:{name:a.merchantsMainLinkConfig.name}}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:a.merchantsMainLinkConfig.icon}})],1),e._v(" "+e._s(a.merchantsMainLinkConfig.label)+" ")])],1),t("ul",{staticClass:"navMenu-list size--all-m"},e._l(e.merchantLinks,(function(a){return t("li",{key:a.merchantId,staticClass:"iGrid-item width--all-6"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:merchantLink.click",value:{id:a.merchantId},expression:"{ id: merchant.merchantId }",arg:"merchantLink",modifiers:{click:!0}}],staticClass:"button button--type-text button--mode-white space--v-2 boxAlign-jc--all-fs width--all-12 space--r-1",attrs:{to:{name:"merchants.show",params:{merchantUrlName:a.merchantUrlName}},"active-class":"button--selected"}},[e._v(" "+e._s(a.merchantName)+" ")])],1)})),0)]:e._e(),t("PortalTarget",{attrs:{name:"eventsPortalTarget"}}),a.shouldShowBottomSection?t("div",{staticClass:"navMenu-div"},[e._l(a.bottomSectionLinks,(function(e){return t("span",{key:e.label},[e.isExternal?t(a.SiteNavigationMenuItemExternal,{attrs:{"is-new":e.isNew,url:e.url,label:e.label,icon:e.icon}}):t(a.SiteNavigationMenuItem,{attrs:{"is-new":e.isNew,url:e.url,label:e.label,icon:e.icon}})],1)})),t("PortalTarget",{attrs:{name:"surveysPortalTarget"}}),e.enableSnow?t(a.FunLetItSnowButton):e._e()],2):e._e()],2)])}),[],!1,null,null,null).exports,ne=a(94),re=a(154),ie=a(104),oe={components:{BaseButton:ee.a},mixins:[ie.a],props:{text:{type:String,default:"Registrati / Accedi"}},created(){this.guarded.config={login:{}}},methods:{all:()=>null}},le=Object(A.a)(oe,(function(){var e=this,t=e._self._c;return t("BaseButton",{staticClass:"button--toW5-square",attrs:{variant:"primary",mode:"white"},on:{click:function(t){return t.preventDefault(),e.guard(e.all)}}},[t("BaseIcon",{attrs:{name:"person"}}),t("span",{staticClass:"hide--toW5 space--ml-2"},[e._v(e._s(e.text))])],1)}),[],!1,null,null,null).exports,ce=a(512),ue=a(26),de={components:{BaseButton:ee.a,CircleLabel:ce.a},inheritAttrs:!1,props:{icon:{type:String,default:""},count:{type:Number,default:0},active:{type:Boolean,default:!1},classes:{type:Object,default:()=>({})}},computed:{label(){return Object(ue.e)(this.count)},labelClasses(){return{[this.classes.label]:!!this.classes.label}}}},pe=Object(A.a)(de,(function(){var e=this,t=e._self._c;return t("BaseButton",e._g(e._b({staticClass:"navDropDown-trigger overflow--visible",attrs:{variant:"primary",mode:"white",square:"",selected:e.active}},"BaseButton",e.$attrs,!1),e.$listeners),[e.icon?t("BaseIcon",{attrs:{name:e.icon}}):e._e(),e.count?t("CircleLabel",{staticClass:"textBadge--notifications notification-count--fixed",class:e.labelClasses,attrs:{mode:"alert",size:"s"}},[e._v(" "+e._s(e.label)+" ")]):e._e(),e._t("default")],2)}),[],!1,null,null,null).exports,he={components:{BaseButton:ee.a},props:{icon:{type:String,default:""},title:{type:String,default:""},closeButton:{type:Boolean,default:!0}}},me=Object(A.a)(he,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-head"},[e._t("default",(function(){return[t("span",{staticClass:"lbox--v-2"},[e.icon?t("BaseIcon",{staticClass:"space--mr-2",attrs:{name:e.icon}}):e._e(),e._v(" "+e._s(e.title)+" "),e._t("counter")],2)]})),e.closeButton?e._t("close",(function(){return[t("BaseButton",{attrs:{variant:"tertiary",mode:"white",size:"s",square:""},on:{click:function(t){return e.$emit("close")}}},[t("BaseIcon",{attrs:{name:"cross"}})],1)]})):e._e()],2)}),[],!1,null,null,null).exports;var fe={components:{BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("auth",{count:e=>e.conversationCounts.unread})),methods:{markAllAsRead:async()=>{n.a.commit("auth/UPDATE_CONVERSATION_COUNTS",{unread:0,unseen:0}),n.a.dispatch("recentConversations/markAllAsRead");const{markConversationsAsRead:e}=await Object(w.a)({req:C.pc,params:{all:!0}});return n.a.commit("auth/UPDATE_CONVERSATION_COUNTS",e),e}}},ve=Object(A.a)(fe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-footer flex--dir-row-reverse"},[t("BaseButton",{directives:[{name:"track",rawName:"v-track:allMsgsLink.click-ga",arg:"allMsgsLink",modifiers:{"click-ga":!0}}],attrs:{variant:"tertiary",mode:"default",square:"",to:{name:"user.conversation.index"}}},[t("BaseIcon",{attrs:{name:"mail"}})],1),e.count?t("button",{directives:[{name:"track",rawName:"v-track:markAllRead.click-ga",arg:"markAllRead",modifiers:{"click-ga":!0}}],staticClass:"clickable text--b text--color-navDropDownPrimary",attrs:{type:"button"},on:{click:e.markAllAsRead}},[t("span",{staticClass:"lbox--v-4 size--all-s"},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"tick"}}),e._v(" "+e._s("Segna tutto come letto")+" ")],1)]):e._e()],1)}),[],!1,null,null,null).exports,ge=a(531),be=a(530),ye=Object(s.defineComponent)({__name:"user-conversation",props:{value:{type:Object,required:!0},selected:{type:Boolean,default:!1},source:{type:String,default:""}},setup(e){const t=e,a=Object(s.inject)("popover"),r=Object(s.computed)((()=>n.a.getters["auth/me"])),i=Object(s.computed)((()=>t.value.messages.items[0])),o=Object(s.computed)((()=>{var e;return i.value.fromUser.userId===(null===(e=r.value)||void 0===e?void 0:e.userId)})),l=Object(s.computed)((()=>o.value?i.value.toUser:i.value.fromUser)),c=Object(s.computed)((()=>"conversation-".concat(t.value.conversationId))),u=Object(s.computed)((()=>"read"===i.value.status||o.value)),d=Object(s.computed)((()=>i.value.message)),p=Object(s.computed)((()=>({"conversationList-msg--read":t.selected||u.value,"conversationList-msg--active":t.selected}))),h=Object(s.computed)((()=>i.value.timeAgo));return{__sfc:!0,popover:a,props:t,currentUser:r,mostRecentMessage:i,fromCurrentUser:o,withUser:l,id:c,showAsRead:u,messageContent:d,itemClasses:p,timeAgo:h,UserAvatarLegacy:ge.a,UserPersona:be.a}}}),_e=Object(A.a)(ye,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("li",{staticClass:"boxSec-div space--h-2 space--v-2 conversationList-msg",class:a.itemClasses,attrs:{id:a.id}},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:msg.click-ga",arg:"msg",modifiers:{"click-ga":!0}}],staticClass:"flex boxAlign-ai--all-c",attrs:{to:{name:"user.conversation.show",params:{username:a.withUser.username},query:{source:e.source}}},nativeOn:{click:function(e){return a.popover.close()}}},[t(a.UserAvatarLegacy,{staticClass:"flex--shrink-0",attrs:{size:"m",user:a.withUser,lazy:!1}}),t("div",{staticClass:"space--l-2 overflow--ellipsis size--all-s"},[t("div",{staticClass:"lbox--v-1 space--mb-n1"},[t("span",{staticClass:"user conversationList-senderLine text--b space--mr-1"},[e._v(" "+e._s(a.withUser.username)+" ")]),a.withUser.persona?t(a.UserPersona,{attrs:{user:a.withUser}}):e._e()],1),a.mostRecentMessage.subject?[t("span",{staticClass:"conversationList-subjectLine box--all-b overflow--ellipsis"},[e._v(e._s(a.mostRecentMessage.subject))])]:e._e(),t("span",{staticClass:"conversationList-msgPreview box--all-b overflow--ellipsis",domProps:{innerHTML:e._s(a.messageContent)}}),t("div",{staticClass:"mute--text"},[e._v(e._s(a.timeAgo))])],2)],1)],1)}),[],!1,null,null,null).exports,xe=a(77),we={data:()=>({asset:xe.a.itemTypeA})},Ce=Object(A.a)(we,(function(){var e=this._self._c;return e("div",{staticClass:"space--h-2 space--v-2 width--all-12",style:{height:"70px"}},[e("span",{staticClass:"skeleton"},[e("img",{staticClass:"height--all-full",attrs:{src:this.asset.src}})])])}),[],!1,null,null,null).exports,ke={computed:Object.assign({},Object(ne.e)("auth",{conversationsEnabled:(e,t)=>{var a;return!(null===(a=t.me)||void 0===a||!a.isConversationsEnabled)}}),{msg(){return this.conversationsEnabled?{title:"Nessun messaggio",body:"Sembra che tu non abbia alcun messaggio al momento.",footer:"Quando aprirai una chat con un altro membro, i tuoi nuovi messaggi appariranno qui."}:{title:"Nessun messaggio",body:"Spiacenti, al momento non puoi inviare messaggi privati ad altri membri.",footer:"I tuoi MP verranno sbloccati quando inizierai ad essere un utente più attivo su Pepper"}}})},Oe=Object(A.a)(ke,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"notifications-content overscroll--containY"},[t("li",{staticClass:"flex flex--dir-col boxAlign-ai--all-c hAlign--all-c space--h-2 space--v-2 size--all-m"},[t("BaseIcon",{staticClass:"space--mt-3 space--mb-3",style:{width:"65px",height:"52px"},attrs:{name:"mail",color:"grey"}}),t("h3",{staticClass:"size--all-xxl text--b"},[e._v(e._s(e.msg.title))]),t("p",{staticClass:"size--all-s space--v-2"},[e._v(e._s(e.msg.body))]),t("p",{staticClass:"size--all-s mute--text space--b-3"},[e._v(e._s(e.msg.footer))])],1)])}),[],!1,null,null,null).exports;const je={N:"n",E:"e",S:"s",W:"w",X:"x",Y:"y"},Se=[je.E,je.X,je.W],Ie=[je.S,je.Y,je.N],Te={before:[je.N,je.Y,je.X,je.W],after:[je.S,je.Y,je.X,je.E]},Be="BEFORE",Ae="AFTER",Pe="INIT",Le="IDLE",Ee="BUSY";var $e={inheritAttrs:!1,props:{as:{type:String,default:"div"},sentinelAs:{type:String,default:"span"},root:{type:String,default:""},direction:{type:String,default:je.S},loading:{type:Boolean,default:!1},threshold:{type:Number,default:0},margin:{type:String,default:"0px"}},data:()=>({state:Pe,observers:[]}),computed:{isIdle(){return this.state===Le},beforeRegistered(){return this.observers.indexOf(Be)>-1},afterRegistered(){return this.observers.indexOf(Ae)>-1},directionUsesBefore(){return Te.before.indexOf(this.direction)>-1},directionUsesAfter(){return Te.after.indexOf(this.direction)>-1},startBefore(){return this.isIdle&&!this.beforeRegistered&&this.directionUsesBefore},startAfter(){return this.isIdle&&!this.afterRegistered&&this.directionUsesAfter},stopBefore(){return this.beforeRegistered&&!this.directionUsesBefore},stopAfter(){return this.afterRegistered&&!this.directionUsesAfter},spacingLeft(){return[je.X,je.W].indexOf(this.direction)>-1?this.margin:"0px"},spacingRight(){return[je.X,je.E].indexOf(this.direction)>-1?this.margin:"0px"},spacingTop(){return[je.N,je.Y].indexOf(this.direction)>-1?this.margin:"0px"},spacingBottom(){return[je.S,je.Y].indexOf(this.direction)>-1?this.margin:"0px"},rootMargin(){return"".concat(this.spacingTop," ").concat(this.spacingRight," ").concat(this.spacingBottom," ").concat(this.spacingLeft)},configChanged(){return!!(this.root||this.direction||this.threshold||this.rootMargin)},sentinelContainerClasses(){return{"flex flex--dir-col":Ie.indexOf(this.direction)>-1,"flex--inline":Se.indexOf(this.direction)>-1}},containerClasses(){return{"flex--dir-col":Ie.indexOf(this.direction)>-1}}},watch:{startBefore:"observeBefore",startAfter:"observeAfter",stopBefore:"unobserveBefore",stopAfter:"unobserveAfter",configChanged:"resetObserver",loading:function(e){e?this.setBusy():this.setIdle()}},created(){this.updateEntries=this.updateEntries.bind(this)},mounted(){this.mountObserver()},beforeDestroy(){this.unmountObserver()},methods:{setInit(){this.state!==Pe&&(this.state=Pe)},setIdle(){this.state!==Le&&(this.state=Le)},setBusy(){this.state!==Ee&&(this.state=Ee)},observeBefore(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!this.beforeRegistered&&(this.observer.observe(this.$refs.before),this.observers.push(Be))},unobserveBefore(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.beforeRegistered&&(this.observer.unobserve(this.$refs.before),this.observers.splice(this.observers.indexOf(Be),1))},observeAfter(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!this.afterRegistered&&(this.observer.observe(this.$refs.after),this.observers.push(Ae))},unobserveAfter(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.afterRegistered&&(this.observer.unobserve(this.$refs.after),this.observers.splice(this.observers.indexOf(Ae),1))},resetObserver(){this.setInit(),this.unmountObserver(),this.mountObserver()},mountObserver(){this.observer=new IntersectionObserver(this.updateEntries,{root:"window"===this.root?null:this.$el,threshold:this.threshold,rootMargin:this.rootMargin}),this.setIdle()},unmountObserver(){this.unobserveBefore(!0),this.unobserveAfter(!0),this.observer&&(this.observer.disconnect(),this.observer=null)},updateIntersecting(e){switch(e.target){case this.$refs.after:this.updateAfter();break;case this.$refs.before:this.updateBefore()}},updateAfter(){this.isIdle&&this.afterRegistered&&(this.setBusy(),this.$emit("after"))},updateBefore(){this.isIdle&&this.beforeRegistered&&(this.setBusy(),this.$emit("before"))},updateEntries(e){this.isIdle&&e.forEach((e=>{e.isIntersecting&&this.updateIntersecting(e)}))}}},Me=$e,Ue=Object(A.a)(Me,(function(){var e=this,t=e._self._c;return t(e.as,e._b({tag:"Component",staticClass:"flex",class:e.containerClasses},"Component",e.$attrs,!1),[e.directionUsesBefore?t(e.sentinelAs,{key:"infinite-before",tag:"Component",class:e.sentinelContainerClasses},[t("span",{ref:"before"}),e._t("before")],2):e._e(),e._t("default"),e.directionUsesAfter?t(e.sentinelAs,{key:"infinite-after",tag:"Component",class:e.sentinelContainerClasses},[e._t("after"),t("span",{ref:"after"})],2):e._e()],2)}),[],!1,null,null,null).exports,De=a(105),Ne=e=>{let{api:t,loadingKey:a,entitiesKey:s}=e;return{components:{InfiniteScroll:Ue},beforeCreate(){this.api=t()},created(){this.fetchInitial()},beforeDestroy(){this.api=null},methods:{updateCursorDirection(e){this.$store.dispatch("".concat(s,"/updateCursorDirection"),{direction:e})},updateCursor(e){this.$store.dispatch("".concat(s,"/updateCursor"),e)},shouldRefetch(){return this.$store.getters["".concat(s,"/shouldRefetch")]()},reset(){this.$store.dispatch("".concat(s,"/reset"))},isStale(){return this.$store.getters["".concat(s,"/isStale")]()},fetchBefore(){this.fetch("before")},fetchAfter(){this.fetch("after")},fetchInitial(){this.isStale()&&(this.reset(),this.fetchAfter())},async fetch(e){if(this.shouldRefetch()){this.itemsLoader.reset(),this.updateCursorDirection(e);try{const{pagination:e,items:t}=await this.itemsLoader.add(this.api(this.currentParams));t.length?this.updateCursor(e):this.updateCursor({hasMore:!1})}catch(e){}}}},computed:{itemsLoader:()=>De.b.create(a),itemsLoading(){return this.itemsLoader.isLoading()},loadingDirection(){return this.$store.getters["".concat(s,"/direction")]},items(){return this.$store.getters["".concat(s,"/items")]},currentParams(){return this.$store.getters["".concat(s,"/currentParams")]},hasFetched(){return this.$store.getters["".concat(s,"/hasFetched")]},hasMoreBefore(){return this.$store.getters["".concat(s,"/hasMoreBefore")]},hasMoreAfter(){return this.$store.getters["".concat(s,"/hasMoreAfter")]},emptyResults(){return this.hasFetched&&this.items.length<1}}}},Re={components:{UserConversation:_e,UserConversationSkeleton:Ce,UserConversationListEmpty:Oe},mixins:[Ne({api:()=>{let e;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.cancel(),e=Object(w.b)({req:C.Gc,params:t||{}});const{conversations:a}=await e.request,[s]=n.a.getters["recentConversations/items"],[r]=a.items;return n.a.dispatch("auth/transitionToUnreadConversations",a.items),n.a.dispatch("recentConversations/markFetched"),s&&r&&s.conversationId===r.conversationId?n.a.dispatch("recentConversations/replace",a.items):n.a.dispatch("recentConversations/push",a.items),a}},loadingKey:"conversations",entitiesKey:"recentConversations"})],computed:{source(){return this.$breakpoint.mdAndUp?"menu":"tabbedMenu"}}},qe=Re,Fe=Object(A.a)(qe,(function(){var e=this,t=e._self._c;return e.emptyResults?t("UserConversationListEmpty"):t("InfiniteScroll",{staticClass:"notifications-content overscroll--containY",attrs:{as:"ul","sentinel-as":"li",margin:"200%",loading:e.itemsLoading},on:{after:e.fetchAfter},scopedSlots:e._u([{key:"after",fn:function(){return[e.hasMoreAfter?t("UserConversationSkeleton"):e._e()]},proxy:!0}])},e._l(e.items,(function(a){return t("UserConversation",{key:a.conversationId,attrs:{value:a,source:e.source}})})),1)}),[],!1,null,null,null).exports,ze=a(524),We=a(532),He=a(61);var Ge=function(){return{namespaced:arguments.length>0&&void 0!==arguments[0]&&arguments[0],state:{pagination:{direction:"after",start:null,end:null,hasMoreAfter:!0,hasMoreBefore:!0},previousPagination:null},getters:{pagination:e=>e.pagination,paginationChanged:e=>e.previousPagination!==e.pagination,hasMoreBefore:e=>e.pagination.hasMoreBefore,hasMoreAfter:e=>e.pagination.hasMoreAfter,direction:e=>e.pagination.direction},actions:{updateCursorDirection(e){let{commit:t}=e,{direction:a="after"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t({type:"UPDATE_PREVIOUS_CURSOR"}),t({type:"UPDATE_CURSOR_DIRECTION",direction:a})},updateCursor(e){let{commit:t}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t({type:"UPDATE_PREVIOUS_CURSOR"}),t({type:"UPDATE_CURSOR",cursor:a})},resetCursor(e){let{commit:t}=e;t({type:"RESET_CURSOR"})}},mutations:{UPDATE_CURSOR_DIRECTION(e,t){let{direction:a}=t;e.pagination.direction=a},UPDATE_CURSOR(e,t){let{cursor:a={}}=t;"after"===e.pagination.direction&&void 0!==a.end&&(e.pagination.end=a.end||null),"before"===e.pagination.direction&&void 0!==a.start&&(e.pagination.start=a.start||null),"after"===e.pagination.direction&&(e.pagination.hasMoreAfter=!!a.hasMore),"before"===e.pagination.direction&&(e.pagination.hasMoreBefore=!!a.hasMore)},UPDATE_PREVIOUS_CURSOR(e){e.previousPagination=e.pagination},RESET_CURSOR(e){Object.assign(e,{pagination:{direction:"after",start:null,end:null,hasMoreAfter:!0,hasMoreBefore:!0},previousPagination:null})}}}},Ve=a(18);const Ke=new Ve.b("conversations","conversationId");const Qe=Object(ze.b)("recentConversations",{create:()=>(e=>{const t=Object(We.a)(Ke,e,!1);return t.actions.markAllAsRead=e=>{let{state:t,dispatch:a}=e;a("replace",t.items.map((e=>Object.assign({},e,{messages:Object.assign({},e.messages,{items:[Object.assign({},e.messages.items[0],{status:"read"}),...e.messages.items.slice(1)]})}))))},{namespaced:!0,state:{},actions:{reset(e){let{dispatch:t}=e;t("replace",[]),t("resetApi"),t("resetCursor")}},modules:{conversations:t,api:Object(He.a)({userImageSlot:"default",userImageVariations:["user_small_avatar"]},5),cursor:Ge()}}})([])});var Ye=a(517),Je={components:{CircleLabel:ce.a,UserDropdownButton:pe,UserDropdownHeader:me,UserConversationFooter:ve,UserConversationList:Fe},mixins:[Ye.a,Qe],data:()=>({dropdownActive:!1}),computed:Object.assign({},Object(ne.e)("auth",{counts:e=>e.conversationCounts}),{counterCeptClass:()=>""}),methods:{closePopover(){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}}},Xe=Object(A.a)(Je,(function(){var e=this,t=e._self._c;return e.$breakpoint.mdAndUp?t("div",{staticClass:"navDropDown"},[t("UserDropdownButton",{directives:[{name:"popover",rawName:"v-popover.s.fixed",modifiers:{s:!0,fixed:!0}},{name:"track",rawName:"v-track:msgDropdown.click-ga",arg:"msgDropdown",modifiers:{"click-ga":!0}}],attrs:{icon:"mail",count:e.counts.unseen,classes:{label:e.counterCeptClass},active:e.dropdownActive}},[t("BasePopover",{ref:"popover",attrs:{"layer-class":"popover--menu popover--border-navDropDownPrimary popover--arrow-navDropDownPrimary","content-class":"",width:"290",active:e.dropdownActive},on:{"update:active":function(t){e.dropdownActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("UserDropdownHeader",{attrs:{icon:"mail",title:"Messaggi"},on:{close:a},scopedSlots:e._u([e.counts.unread?{key:"counter",fn:function(){return[t("CircleLabel",{staticClass:"text--b space--ml-2 js-notifications-counter",attrs:{size:"s",mode:"primary-inverted"}},[e._v(" "+e._s(e.counts.unread)+" ")])]},proxy:!0}:null],null,!0)}),t("UserConversationList"),t("UserConversationFooter")]}}],null,!1,1117953095)})],1)],1):e._e()}),[],!1,null,null,null).exports;var Ze={components:{BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("auth",{username:(e,t)=>{var a;return null===(a=t.me)||void 0===a?void 0:a.username},count:e=>e.notificationCounts.unread})),methods:{markAllAsRead:async()=>{n.a.commit("auth/UPDATE_NOTIFICATION_COUNTS",{unread:0,new:0}),n.a.dispatch("recentNotifications/markAllAsRead");const{markNotificationsAsRead:e}=await Object(w.a)({req:C.qc,params:{all:!0}});return n.a.commit("auth/UPDATE_NOTIFICATION_COUNTS",e),e}}},et=Object(A.a)(Ze,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-footer flex--dir-row-reverse"},[t("BaseButton",{directives:[{name:"track",rawName:"v-track:profileSettingsLink.click-ga",arg:"profileSettingsLink",modifiers:{"click-ga":!0}}],attrs:{variant:"tertiary",mode:"default",square:"",to:{name:"user.profile.settings",params:{username:e.username},hash:"#notifications"}}},[t("BaseIcon",{attrs:{name:"gear"}})],1),e.count?t("button",{directives:[{name:"track",rawName:"v-track:markAllRead.click-ga",arg:"markAllRead",modifiers:{"click-ga":!0}}],staticClass:"clickable text--b text--color-navDropDownPrimary",attrs:{type:"button"},on:{click:e.markAllAsRead}},[t("span",{staticClass:"lbox--v-4 size--all-s"},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"tick"}}),e._v(" "+e._s("Segna tutto come letto")+" ")],1)]):e._e()],1)}),[],!1,null,null,null).exports;const tt=Object.entries({thread:[7,9,15,36,18,23,25,35,34,38,39],user:[8,6,10,12,13,14,16,19,20,21,22,26,33,24,28,30,29,31,32,40,41],keyword:[11],badges:[17]}),at={6:{iconName:"i:comment",type:"comment_on_subscribed_deal"},7:{iconName:"i:plus",type:"thread_voted_on"},8:{iconName:"i:comment",type:"comment_on_my_deal"},9:{iconName:"i:flame",type:"thread_went_hot"},10:{iconName:"i:thumb-up",type:"comment_liked"},11:{iconName:"i:search",type:"keyword_alert"},12:{iconName:"i:person",type:"mentioned_in_comment"},13:{iconName:"i:plus",type:"info_added_to_my_deal"},14:{iconName:"i:plus",type:"info_added_to_subscribed_deal"},15:{iconName:"i:hourglass",type:"thread_reported_as_expired"},16:{iconName:"i:comment",type:"comment_quoted"},17:{iconName:"i:plus",type:"badge_earned"},18:{iconName:"i:tag",type:"new_thread_notify_follower"},21:{iconName:"i:thumb-up",type:"additional_info_liked"},23:{iconName:"i:hourglass",type:"thread_auto_expired"},24:{iconName:"i:tag",type:"thread_is_now_live"},25:{iconName:"i:hourglass",type:"thread_has_been_expired"},26:{iconName:"i:comment",type:"comment_is_now_live"},28:{iconName:"i:trade",type:"mascotcard_request_sent"},29:{iconName:"i:cross",type:"mascotcard_request_canceled"},30:{iconName:"i:tick",type:"mascotcard_request_accepted"},31:{iconName:"i:cross",type:"mascotcard_request_declined"},32:{iconName:"i:tag",type:"additional_info_approved"},33:{iconName:"i:tag",type:"thread_merged"},34:{iconName:"i:flag",type:"thread_manually_moderated"},35:{iconName:"i:hourglass",type:"thread_has_been_expired"},36:{iconName:"i:hourglass",type:"thread_reported_as_unexpired"},38:{iconName:"i:flame",type:"thread_went_superhot"},39:{iconName:"i:hourglass",type:"thread_expiry_reminder"}},st=[24,26,32,33];var nt={inject:["popover"],props:{value:{type:Object,required:!0}},computed:{activityConfig(){return at[this.value.userActivityTypeId]||{iconName:"comment",type:"unknown"}},activitySubject(){const e=+this.value.userActivityTypeId,[t]=tt.find((t=>{let[a,s]=t;return s.some((t=>t===e))}))||["comment"];return t},activityLink(){if("new"===this.value.status||"unread"===this.value.status){const e=new URL(this.value.link,document.baseURI);return e.searchParams.set("pprmrkntfctnsrd",this.value.userActivityId),e.searchParams.set("UATypeId",this.value.userActivityTypeId),e.href}return this.value.link},activityIcon(){return this.activityConfig.iconName.replace("i:","")},activityImage(){if(this.value.imageUrl)return this.value.imageUrl;switch(this.activitySubject){case"thread":case"keyword":return"/assets/img/default-deal_d0fc9.svg";case"user":return"/assets/img/profile-placeholder_09382.png";default:return st.some((e=>e===this.value.userActivityTypeId))?"/assets/img/support-images/nerd_d9815.svg":""}},itemClasses(){return{["".concat("","-").concat(this.value.userActivityId)]:!1,["".concat("")]:!1,"notification-item--read":"read"===this.value.status||"hidden"===this.value.status}},textClasses(){return{"text--color-greyShade":"read"===this.value.status,"text--color-charcoalTint":"read"!==this.value.status}},imageFrameClasses(){return{"imgFrame bg--main":"user"!==this.activitySubject&&"comment"!==this.activitySubject}},imageClasses(){return{"avatar avatar--type-m":"user"===this.activitySubject||"comment"===this.activitySubject,"imgFrame-img":"user"!==this.activitySubject&&"comment"!==this.activitySubject,badgeImage:"badges"===this.activitySubject}}}},rt={data:()=>({asset:xe.a.itemTypeA})},it={components:{UserNotification:Object(A.a)(nt,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"notification-item boxSec-div",class:e.itemClasses},[t("a",{directives:[{name:"track",rawName:"v-track:notification.click-ga",value:{type:e.activityConfig.type},expression:"{ type: activityConfig.type }",arg:"notification",modifiers:{"click-ga":!0}}],staticClass:"flex width--all-12 space--h-2 space--v-2",attrs:{href:e.activityLink},on:{click:function(t){return e.popover.close()}}},[t("div",{staticClass:"notification-item-image flex--shrink-0 space--r-3"},[t("span",{class:e.imageFrameClasses},[t("img",{class:e.imageClasses,attrs:{src:e.activityImage}})])]),t("div",{staticClass:"notification-item-text size--all-s"},[t("span",{domProps:{innerHTML:e._s(e.value.text)}}),t("div",{staticClass:"flex boxAlign-ai--all-c space--mt-1",class:e.textClasses},[t("BaseIcon",{attrs:{name:e.activityIcon}}),t("span",{staticClass:"space--ml-2"},[e._v(e._s(e.value.timeAgo))])],1)])])])}),[],!1,null,null,null).exports,UserNotificationListEmpty:Object(A.a)({},(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"notifications-content overscroll--containY"},[t("li",{staticClass:"space--v-4"},[t("span",{staticClass:"hAlign--all-c notification-item-text mute--text space--t-2 box--all-b"},[e._m(0),t("div",{staticClass:"space--v-2 size--all-s"},[e._v(e._s("Non hai nuove notifiche."))])])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"width--all-2 box--all-i notification-supportImg"},[e("span",{staticClass:"supportImage supportImage--type-blank width--all-12"})])}],!1,null,null,null).exports,UserNotificationSkeleton:Object(A.a)(rt,(function(){var e=this._self._c;return e("div",{staticClass:"space--h-2 space--v-2 width--all-12",style:{height:"70px"}},[e("span",{staticClass:"skeleton"},[e("img",{staticClass:"height--all-full",attrs:{src:this.asset.src}})])])}),[],!1,null,null,null).exports},mixins:[Ne({api:()=>{let e;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.cancel(),e=Object(w.b)({req:C.Hc,params:t||{}});const{notifications:a}=await e.request,[s]=n.a.getters["recentNotifications/items"],[r]=a.items;return n.a.dispatch("auth/transitionToUnreadNotifications",a),n.a.dispatch("recentNotifications/markFetched"),s&&r&&s.userActivityId===r.userActivityId?n.a.dispatch("recentNotifications/replace",a.items):n.a.dispatch("recentNotifications/push",a.items),a}},loadingKey:"notifications",entitiesKey:"recentNotifications"})],computed:{source(){return this.$breakpoint.mdAndUp?"menu":"tabbedMenu"}}},ot=it,lt=Object(A.a)(ot,(function(){var e=this,t=e._self._c;return e.emptyResults?t("UserNotificationListEmpty"):t("InfiniteScroll",{staticClass:"notifications-content overscroll--containY",attrs:{as:"ul","sentinel-as":"li",margin:"200%",loading:e.itemsLoading},on:{after:e.fetchAfter},scopedSlots:e._u([{key:"after",fn:function(){return[e.hasMoreAfter?t("UserNotificationSkeleton"):e._e()]},proxy:!0}])},e._l(e.items,(function(a){return t("UserNotification",{key:a.userActivityId,attrs:{value:a,source:e.source}})})),1)}),[],!1,null,null,null).exports;const ct=new Ve.b("notifications","userActivityId");const ut=Object(ze.b)("recentNotifications",{create:()=>(e=>{const t=Object(We.a)(ct,e,!1);return t.actions.markAllAsRead=e=>{let{state:t,dispatch:a}=e;a("replace",t.items.map((e=>Object.assign({},e,{status:"read"}))))},{namespaced:!0,state:{},actions:{reset(e){let{dispatch:t}=e;t("replace",[]),t("resetApi"),t("resetCursor")}},modules:{notifications:t,api:Object(He.a)({limit:15},5),cursor:Ge()}}})([])});var dt={components:{CircleLabel:ce.a,UserDropdownButton:pe,UserDropdownHeader:me,UserNotificationFooter:et,UserNotificationList:lt},mixins:[Ye.a,ut],data:()=>({dropdownActive:!1}),computed:Object.assign({},Object(ne.e)("auth",{counts:e=>e.notificationCounts}),{counterCeptClass:()=>""}),methods:{closePopover(){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}}},pt=Object(A.a)(dt,(function(){var e=this,t=e._self._c;return e.$breakpoint.mdAndUp?t("div",{staticClass:"navDropDown"},[t("UserDropdownButton",{directives:[{name:"popover",rawName:"v-popover.s.fixed",modifiers:{s:!0,fixed:!0}},{name:"track",rawName:"v-track:notificationsDropdown.click-ga",arg:"notificationsDropdown",modifiers:{"click-ga":!0}}],attrs:{icon:"bell",count:e.counts.new,classes:{label:e.counterCeptClass},active:e.dropdownActive}},[t("BasePopover",{ref:"popover",attrs:{"layer-class":"popover--menu popover--border-navDropDownPrimary popover--arrow-navDropDownPrimary","content-class":"",width:"290",active:e.dropdownActive},on:{"update:active":function(t){e.dropdownActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("UserDropdownHeader",{attrs:{icon:"bell",title:"Notifiche"},on:{close:a},scopedSlots:e._u([e.counts.unread?{key:"counter",fn:function(){return[t("CircleLabel",{staticClass:"text--b space--ml-2 js-notifications-counter",attrs:{size:"s",mode:"primary-inverted"}},[e._v(" "+e._s(e.counts.unread)+" ")])]},proxy:!0}:null],null,!0)}),t("UserNotificationList"),t("UserNotificationFooter")]}}],null,!1,3758426228)})],1)],1):e._e()}),[],!1,null,null,null).exports,ht={__name:"user-dropdown-tab",props:{icon:{type:String,default:""},count:{type:Number,default:0}},setup(e){const t=Object(s.useAttrs)(),a=Object(s.computed)((()=>(t.name,t["selected-value"],"")));return{__sfc:!0,attrs:t,ceptClass:a,CircleLabel:ce.a,SegmentedButton:ee.b}}},mt={components:{UserDropdownTab:Object(A.a)(ht,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.SegmentedButton,e._g(e._b({staticClass:"flex--1",class:a.ceptClass,attrs:{mode:"white",mandatory:""}},"SegmentedButton",e.$attrs,!1),e.$listeners),[e.icon?t("BaseIcon",{attrs:{name:e.icon}}):e._e(),e.count?t(a.CircleLabel,{staticClass:"button--notification-counter text--color-brandPrimary text--b vAlign--all-m space--ml-1",attrs:{mode:"manual",size:"s"}},[e._v(" "+e._s(e.count)+" ")]):e._e()],1)}),[],!1,null,null,null).exports},props:{tabs:{type:Array,default:()=>[]}}},ft=Object(A.a)(mt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex--1"},e._l(e.tabs,(function(a){return t("UserDropdownTab",e._g(e._b({key:a.id,class:a.class,attrs:{name:a.id,icon:a.icon,count:a.count}},"UserDropdownTab",e.$attrs,!1),e.$listeners))})),1)}),[],!1,null,null,null).exports,vt={inject:["popover"],props:{user:Object,required:!0},computed:Object.assign({},Object(ne.e)("features",{navigation:(e,t)=>t.get("navigation").profile||{}}),{links(){const e=[];return e.push({key:"activityOverview",to:this.profileRoute("overview"),text:"Panoramica attività",icon:"person",track:"overviewLink"}),this.navigation.badges&&e.push({key:"badges",to:this.profileRoute("overview",H.a),text:"Le mie medaglie",icon:"star-empty",track:"badgesLink"}),e.push({key:"deals",to:this.profileRoute("show.deals",H.d),text:"Offerte pubblicate",icon:"tag",track:"dealsLink"}),this.navigation.discussion&&e.push({key:"discussions",to:this.profileRoute("show.discussions",H.f),text:"Discussioni pubblicate",icon:"comment",track:"discussionsLink"}),e.push({key:"savedThreads",to:this.profileRoute("show.saved",H.o),text:"Offerte salvate",icon:"bookmark",track:"savedThreadsLink"}),e.push({key:"keywordAlarms",to:this.profileRoute("keywords"),text:"Avvisi",icon:"bell",track:"keywordAlertsLink"}),e.push({key:"settings",to:this.profileRoute("settings"),text:"Impostazioni",icon:"gear",track:"settingsLink"}),e}}),methods:{profileRoute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show.deals",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=Object.assign({username:this.user.username},t&&{term:t});return{name:"user.profile.".concat(e),params:a}}}},gt=vt,bt=Object(A.a)(gt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex--dir-col size--all-s"},e._l(e.links,(function(a){return t("RouterLink",{directives:[{name:"track",rawName:"v-track:[link.track].click-ga",arg:a.track,modifiers:{"click-ga":!0}}],key:a.key,staticClass:"navDropDown-link lbox--v-8 lbox--f text--b",attrs:{"exact-active-class":"navDropDown-link--selected",to:a.to},nativeOn:{click:function(t){return e.popover.close()}}},[t("span",{staticClass:"lbox--h-4"},[t("BaseIcon",{attrs:{name:a.icon}})],1),e._v(" "+e._s(a.text)+" ")])})),1)}),[],!1,null,null,null).exports,yt=a(537).a,_t=Object(A.a)(yt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-footer"},[t("button",{directives:[{name:"track",rawName:"v-track:logout.click-ga",arg:"logout",modifiers:{"click-ga":!0}}],staticClass:"clickable box--all-i width--all-12 text--b text--color-navDropDownPrimary hAlign--all-c size--all-s",attrs:{type:"button"},on:{click:e.logout}},[t("span",{staticClass:"lbox--v-8"},[t("BaseIcon",{attrs:{name:"logout"}}),t("span",{staticClass:"space--l-2"},[e._v(e._s(e.label))])],1)])])}),[],!1,null,null,null).exports;const xt="UserConversationList",wt="UserNotificationList",Ct="UserProfileLinks",kt={[xt]:"UserConversationFooter",[wt]:"UserNotificationFooter",[Ct]:"UserProfileFooter"};var Ot={components:{CircleLabel:ce.a,UserAvatarLegacy:ge.a,UserDropdownHeader:me,UserDropdownTabs:ft,UserProfileLinks:bt,UserProfileFooter:_t,UserConversationList:Fe,UserConversationFooter:ve,UserNotificationList:lt,UserNotificationFooter:et},mixins:[Ye.a,Qe,ut],data(){const e=[{id:xt,class:"",icon:"mail"},{id:wt,class:"",icon:"bell"},{id:Ct,class:"",icon:"person"}];return{dropdownActive:!1,tabs:e,selected:e[e.length-1].id}},computed:Object.assign({},Object(ne.c)("auth",{currentUser:"me"}),Object(ne.e)("features",{canAccessAdmin:(e,t)=>t.get("adminTools.enabled")}),Object(ne.e)("auth",{conversationCounts:e=>e.conversationCounts,notificationCounts:e=>e.notificationCounts,unseenTotal:(e,t)=>t.unseenTotal}),{notificationTotal(){return Object(ue.e)(this.unseenTotal)},showNotificationTotal(){return this.$breakpoint.smAndDown&&this.notificationTotal},adminUrl:()=>"/admin",selectedContent(){return this.$breakpoint.mdAndUp?"UserProfileLinks":this.selected},selectedFooter(){return this.$breakpoint.mdAndUp?kt.UserProfileLinks:kt[this.selected]},priorityTabId(){return this.notificationCounts.new?wt:this.conversationCounts.unseen?xt:Ct},tabsWithCounts(){const e={[xt]:this.conversationCounts.unread,[wt]:this.notificationCounts.unread,[Ct]:0};return this.tabs.map((t=>Object.assign({},t,{count:e[t.id]})))}}),watch:{showNotificationTotal:{handler(){this.$breakpoint.mdAndUp||this.dropdownActive||this.selectTabId(this.priorityTabId)},immediate:!0}},methods:{selectTabId(e){this.selected=e},closePopover(){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}}},jt=Object(A.a)(Ot,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown"},[t("button",{directives:[{name:"popover",rawName:"v-popover.s.fixed",modifiers:{s:!0,fixed:!0}},{name:"track",rawName:"v-track:userDropdown.click-ga",value:{tab:e.selectedContent},expression:"{ tab: selectedContent }",arg:"userDropdown",modifiers:{"click-ga":!0}}],staticClass:"navDropDown-trigger aGrid"},[t("UserAvatarLegacy",{staticClass:"js-avatar navDropDown-avatar",class:{"avatar--type-nav--selected js-navDropDown-avatar-selected":e.dropdownActive},attrs:{size:"nav",user:e.currentUser,lazy:!1}}),e.showNotificationTotal?t("CircleLabel",{staticClass:"js-notifications-counter textBadge--notifications notification-count--fixed",attrs:{mode:"alert",size:"s"}},[e._v(" "+e._s(e.notificationTotal)+" ")]):e._e(),t("BasePopover",{ref:"popover",attrs:{"layer-class":"popover--menu popover--border-navDropDownPrimary popover--arrow-navDropDownPrimary","content-class":"",width:"290",active:e.dropdownActive},on:{"update:active":function(t){e.dropdownActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("UserDropdownHeader",{attrs:{"close-button":e.$breakpoint.xsOnly},on:{close:a},scopedSlots:e._u([{key:"default",fn:function(){return[e.$breakpoint.mdAndUp?t("span",{staticClass:"flex flex--1 boxAlign-jc--all-c"},[e.canAccessAdmin?[t("a",{staticClass:"linkPlain",attrs:{href:e.adminUrl,target:"_blank"}},[e._v(" "+e._s(e.currentUser.username)+" ")])]:[e._v(" "+e._s(e.currentUser.username)+" ")]],2):[t("UserDropdownTabs",{staticClass:"space--mr-3",attrs:{tabs:e.tabsWithCounts,"selected-value":e.selected},on:{"update:selectedValue":function(t){e.selected=t},"update:selected-value":function(t){e.selected=t}}})]]},proxy:!0}],null,!0)}),t(e.selectedContent,{tag:"Component",attrs:{user:e.currentUser}}),e.selectedFooter?t(e.selectedFooter,{tag:"Component",attrs:{user:e.currentUser}}):e._e()]}}])})],1)])}),[],!1,null,null,null).exports,St={components:{GuardedLink:a(599).a,BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("features",{navigation:e=>{var t,a;return(null===(t=e.flags)||void 0===t||null===(a=t.navigation)||void 0===a?void 0:a.submissions)||{}}}),{tag(){var e;return null!==(e=this.navigation)&&void 0!==e&&e.errorMessage?"button":"GuardedLink"}}),methods:{warnUnauthorizedAccess(e){var t,a,s;if(null===(t=this.navigation)||void 0===t||!t.errorMessage)return;e.preventDefault(),e.stopImmediatePropagation();const n={type:"error",title:null===(a=this.navigation)||void 0===a?void 0:a.errorMessage.title,message:null===(s=this.navigation)||void 0===s?void 0:s.errorMessage.body};this.$store.dispatch("pageMsgs/add",n)},guard:()=>({login:{source:"thread_add",trackAction:"goto_submission_add"}})}},It=Object(A.a)(St,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown nav-hideSearch"},[t(e.tag,{directives:[{name:"track",rawName:"v-track:addThreadDropdown.click.click-ga",arg:"addThreadDropdown",modifiers:{click:!0,"click-ga":!0}}],tag:"Component",staticClass:"button button--type-primary button--mode-brand button--shape-circle button--toW5-square space--ml-2",attrs:{to:{name:"threads.add"},title:"Condividi",guard:e.guard()},on:{click:e.warnUnauthorizedAccess}},[t("BaseIcon",{attrs:{name:"plus"}}),t("span",{staticClass:"hide--toW5 space--ml-2"},[e._v(e._s("Condividi"))])],1)],1)}),[],!1,null,null,null).exports,Tt=a(0),Bt=a.n(Tt),At={components:{UserConversationDropdown:Xe,UserNotificationDropdown:pt,UserProfileDropdown:jt,ThreadSubmissionDropdown:It,LoginButton:le,BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("auth",{loggedIn:(e,t)=>t.loggedIn}),{submitRight(){return this.$breakpoint.mdAndUp}}),async created(){this.loggedIn?Object(re.c)():Object(re.a)()},setup(){const{openSearchOnMobile:e,closeSearchOnMobile:t}=Object(L.b)();return{openSearchOnMobile:e,closeSearchOnMobile:t}},methods:{closePopovers(){var e,t,a;null===(e=this.$refs.UND)||void 0===e||e.closePopover(),null===(t=this.$refs.UPD)||void 0===t||t.closePopover(),null===(a=this.$refs.UCD)||void 0===a||a.closePopover()},search(){this.openSearchOnMobile();document.querySelector(".nav").addEventListener("autoSuggestClosed",(()=>{this.closeSearchOnMobile()}),{once:!0}),Bt()(".popover--mainNav").trigger("layer-destroy")}}},Pt=Object(A.a)(At,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"lbox--v-9 vue-rendered"},[t("BaseButton",{staticClass:"nav-hideSearch hide--fromW3",attrs:{variant:"primary",mode:"white",square:"","aria-label":"Trova"},on:{click:e.search}},[t("BaseIcon",{attrs:{name:"search"}})],1),e.loggedIn?[t("UserConversationDropdown",{ref:"UCD",staticClass:"space--ml-2"}),t("UserNotificationDropdown",{ref:"UND",staticClass:"space--ml-2"}),t("UserProfileDropdown",{ref:"UPD",staticClass:"space--ml-2"})]:t("LoginButton",{staticClass:"space--ml-2"}),e.submitRight?t("ThreadSubmissionDropdown"):e._e()],2)}),[],!1,null,null,null).exports,Lt=Object(s.defineComponent)({__name:"site-navigation-menu-voucher-codes-content",props:{merchantLinks:null},setup:e=>({__sfc:!0,staticMainLinks:J(),BaseButton:ee.a})}),Et=Object(A.a)(Lt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"space--t-2 space--b-3"},[e.merchantLinks&&e.merchantLinks.length>0?[t("ul",{staticClass:"navMenu-list size--all-m"},e._l(e.merchantLinks,(function(s){return t("li",{key:s.merchantId,staticClass:"iGrid-item width--all-6"},[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:merchantLink.click",value:{id:s.merchantId},expression:"{ id: merchant.merchantId }",arg:"merchantLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs width--all-12 space--r-1",attrs:{variant:"text",mode:"white",to:{name:"merchants.show",params:{merchantUrlName:s.merchantUrlName}}}},[e._v(" "+e._s(s.merchantName)+" ")])],1)})),0),t(a.BaseButton,{staticClass:"space--ml-3 space--mt-2",attrs:{variant:"secondary",mode:"white",to:{name:a.staticMainLinks.vouchers.name}}},[e._v(" "+e._s("Vedi tutti i codici sconto")+" ")])]:e._e()],2)}),[],!1,null,null,null).exports,$t=a(601),Mt=a(71),Ut=a(534),Dt=a(25),Nt=Object(s.defineComponent)({__name:"site-navigation-menu",props:{routeData:null,params:{default:()=>({disableStickyHeader:!1})}},setup(e,t){let{expose:a}=t;const n=e,{closeSearchOnMobile:r}=Object(L.b)(),i=J(),o=Object(Mt.c)(),c=Object(s.ref)(!1),u=Object(s.ref)(!1),d=Object(s.ref)(null),p=Object(s.ref)(null),h=Object(s.ref)(null),m=Object(s.computed)((()=>n.routeData.siteNav.data.value)),f=Object(s.computed)((()=>n.routeData.siteNavMenus.data.value)),v=Object(s.computed)((()=>{const{userPreferences:e,main:{links:t}}=m.value;return t.map((t=>{const a=G(t,e);return Object.assign({},t,{url:a})}))})),g=Object(s.computed)((()=>v.value.slice(0,0))),b=Object(s.computed)((()=>o.lgAndUp?g.value:[])),y=Object(s.computed)((()=>b.value.some((e=>Q(e))))),_=Object(s.computed)((()=>v.value.slice(b.value.length))),x=Object(s.computed)((()=>{const e=0>=v.value.length;return"space--t-2 space--b-3 overflow--wrap-on height--all-full overflow--scrollY overscroll--containY ".concat(e?"space--fromW4-t-0":"")})),w=Object(s.computed)((()=>{var e;return(null===(e=f.value)||void 0===e?void 0:e.features.navigation.topMenu.mascotCardsExplanationLink)||!1})),C=Object(s.computed)((()=>{var e;return(null===(e=f.value)||void 0===e?void 0:e.features.snow)||!1})),k=Object(s.computed)((()=>{const{disableStickyHeader:e}=n.params;return"popover--mainNav ".concat(e?"":"zIndex--fixed")})),O=Object(s.computed)((()=>" ".concat(k.value))),j=Object(s.computed)((()=>" ".concat(k.value))),S=Object(s.computed)((()=>{const e=o.smAndDown?{offset:-8}:{};return[{preset:"menu",maxHeight:"100%",width:460,bottom:{offset:10},top:{target:".nav-content"},left:Object.assign({target:".navMenu"},e),maxWidth:"100%"}]})),I=Object(s.computed)((()=>[{preset:"menu",width:375,top:{target:".nav-content"},right:{target:".navMenu"},left:{target:".navMenu"}}])),T=Object(s.computed)((()=>({"":f.value}))),B=Object(s.computed)((()=>b.value.length?"Altro":"Menu"));function A(){var e,t,a;null===(e=d.value)||void 0===e||e.close(),null===(t=p.value)||void 0===t||t.close(),null===(a=h.value)||void 0===a||a.closePopovers()}return a({closePopovers:A}),Object(s.onUpdated)((()=>{C.value&&Object($t.d)()})),{__sfc:!0,props:n,closeSearchOnMobile:r,isWhiteLabelEnabled:true,isHomeLinkVisible:!0,siteName:"Pepper.it",outsideLinkCount:0,staticMainLinks:i,breakpoint:o,isVisible:c,isVoucherCodesPopoverVisible:u,mainMenuPopover:d,voucherCodesPopover:p,userNavMenu:h,siteNav:m,siteNavMenus:f,mainLinks:v,outOfMenuStaticLinks:g,outOfMenuLinks:b,isVoucherCodesOutsideOfMenu:y,menuLinks:_,popoverContainerClasses:x,isMascotcardsExplanationEnabled:w,isSnowEnabled:C,popoverLayerClass:k,popoverLayerClassVoucherCodes:O,popoverLayerClassMainMenu:j,popoverLayout:S,popoverVoucherCodesLayout:I,siteNavigationCeptClass:T,menuLabel:B,closePopovers:A,SiteSearch:U,SiteNavigationMenuContent:se,UserNavigationMenu:Pt,ThreadSubmissionDropdown:It,SiteNavigationMenuVoucherCodesContent:Et,BaseButton:ee.a,isPopover:V,isHomeLink:Y,isHomeRoute:l.e,vPopover:Ut.e,BasePopover:Ut.a,PopoverBody:Ut.b,isBot:Dt.b}}}),Rt=(a(606),Object(A.a)(Nt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"nav",class:a.siteNavigationCeptClass},[t("div",{staticClass:"page-navigation page-center nav-content flex boxAlign-jc--all-sb"},[t("div",{staticClass:"navMenu lbox--v-9 space--fromW3-r-2"},[t("div",{directives:[{name:"show",rawName:"v-show",value:a.breakpoint.lgAndUp&&a.outOfMenuLinks.length,expression:"breakpoint.lgAndUp && outOfMenuLinks.length"}],staticClass:"flex"},[e._l(a.outOfMenuStaticLinks,(function(s,n){return[a.isHomeLink(s)&&a.isHomeLinkVisible?t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:homeLink.click",arg:"homeLink",modifiers:{click:!0}}],key:s.key,staticClass:"space--h-2",attrs:{variant:"text",mode:"white",rel:"home",selected:a.isHomeRoute(),to:s.url}},[e._v(" "+e._s("Tutto")+" ")]):a.isPopover(s)?t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:toggleVoucherCodes.click",arg:"toggleVoucherCodes",modifiers:{click:!0}},{name:"popover",rawName:"v-popover:voucherCodesPopover",value:a.popoverVoucherCodesLayout,expression:"popoverVoucherCodesLayout",arg:"voucherCodesPopover"}],key:s.key,staticClass:"navMenu-trigger space--h-2",attrs:{type:"button",selected:a.isVoucherCodesPopoverVisible,variant:"tertiary",mode:"white"}},[t("span",{staticClass:"navMenu-page nav-link-text vAlign--all-m"},[e._v(" "+e._s(s.label)+" ")]),t("BaseIcon",{staticClass:"button--dropdown-icon space--ml-2",attrs:{name:"dropdown"}})],1):a.isHomeLink(s)?e._e():t("RouterLink",{directives:[{name:"track",rawName:"v-track:[link.trackName].click",arg:s.trackName,modifiers:{click:!0}}],key:s.key,staticClass:"button button--type-text button--mode-white space--h-2",class:{"space--r-3":n===a.outOfMenuLinks.length-1},attrs:{"active-class":"button--selected",to:s.url}},[e._v(" "+e._s(s.label)+" ")])]}))],2),t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:toggleMainMenu.click",arg:"toggleMainMenu",modifiers:{click:!0}},{name:"popover",rawName:"v-popover:mainMenuPopover",value:a.popoverLayout,expression:"popoverLayout",arg:"mainMenuPopover"}],staticClass:"navMenu-trigger button--toW3-square space--fromW3-ml-0",class:{"button--selected":a.isVisible},attrs:{type:"button",variant:"tertiary",mode:"white",circle:""}},[e.$breakpoint.smAndDown?[t("BaseIcon",{staticClass:"navMenu-hamburger",attrs:{name:"menu"}}),t("BaseIcon",{staticClass:"navMenu-close aGrid-item",attrs:{name:"cross"}})]:e._e(),e.$breakpoint.mdAndUp?[t("span",{staticClass:"navMenu-page nav-link-text vAlign--all-m"},[e._v(" "+e._s(a.menuLabel)+" ")]),t("BaseIcon",{staticClass:"button--dropdown-icon space--ml-2",attrs:{name:"dropdown"}})]:e._e()],2),t(a.BasePopover,{ref:"mainMenuPopover",attrs:{active:a.isVisible,"layer-class":a.popoverLayerClassMainMenu,classes:{container:a.popoverContainerClasses},"pre-render":""},on:{"update:active":function(e){a.isVisible=e}},scopedSlots:e._u([{key:"default",fn:function({}){return[t(a.PopoverBody,{attrs:{space:!1}},[a.siteNavMenus?t(a.SiteNavigationMenuContent,{attrs:{"main-links":a.menuLinks,"event-links":a.siteNavMenus.events,"merchant-links":a.siteNavMenus.merchants,"thread-groups":a.siteNavMenus.groups,"is-mascotcards-explanation-enabled":a.isMascotcardsExplanationEnabled,"enable-snow":a.isSnowEnabled,"hide-voucher-codes-section":a.isVoucherCodesOutsideOfMenu,"user-preferences":a.siteNav.userPreferences}}):e._e()],1)]}}])}),a.isWhiteLabelEnabled?t(a.BasePopover,{ref:"voucherCodesPopover",attrs:{active:a.isVoucherCodesPopoverVisible,"layer-class":a.popoverLayerClassVoucherCodes,classes:{container:a.popoverContainerClasses},"pre-render":""},on:{"update:active":function(e){a.isVoucherCodesPopoverVisible=e}},scopedSlots:e._u([{key:"default",fn:function({}){return[t(a.PopoverBody,{attrs:{space:!1}},[a.siteNavMenus?t(a.SiteNavigationMenuVoucherCodesContent,{attrs:{"merchant-links":a.siteNavMenus.merchants}}):e._e()],1)]}}],null,!1,1787238530)}):e._e(),e.$breakpoint.smAndDown?t(a.ThreadSubmissionDropdown):e._e(),a.isBot&&a.siteNavMenus?t("span",{staticClass:"hide"},[a.isWhiteLabelEnabled?e._e():t("RouterLink",{attrs:{to:{name:a.staticMainLinks.merchants.name}}},[e._v(" "+e._s(a.staticMainLinks.merchants.label)+" ")])],1):e._e()],1),e._t("logo",(function(){return[t("RouterLink",{directives:[{name:"track",rawName:"v-track:homeLink.click",arg:"homeLink",modifiers:{click:!0}}],staticClass:"nav-logo nav-hideSearch flex flex--shrink-0 boxAlign-as--all-c text--h space--mr-2",attrs:{rel:"home",to:{name:"index"}}},[e._v(" "+e._s(a.siteName)+" ")])]})),t("div",{staticClass:"nav-search flex--fromW3 boxAlign-ai--all-c boxAlign-jc--all-fe space--h-2 space--fromW3-h-2 width--all-12 zIndex--popover space--l-2"},[t(a.SiteSearch,{staticClass:"nav-searchContainer width--all-12"}),e.$breakpoint.smAndDown?t(a.BaseButton,{staticClass:"nav-searchCloseBtn",attrs:{variant:"primary",mode:"white",square:"",size:"m"},on:{click:a.closeSearchOnMobile}},[t("BaseIcon",{attrs:{name:"cross"}})],1):e._e()],1),t(a.UserNavigationMenu,{ref:"userNavMenu",staticClass:"nav-search--navigation nav-hideSearch"})],2)])}),[],!1,null,null,null).exports),qt=a(577),Ft=Object(s.defineComponent)({__name:"the-header",props:{routeData:null,disableStickyHeader:{type:Boolean,default:!1}},setup(e){const t=e,a=Object(s.ref)(),n=()=>{a.value.closePopovers()},r=Object(s.computed)((()=>[h.value?"":"mute--opacity-0 pointerEvents--none",t.disableStickyHeader?"aGrid zIndex--popover":"aGrid--sticky width--all-12 forceLayer zIndex--fixed"])),{speed:i,top:o,direction:l}=Object(qt.a)(),c=Object(s.computed)((()=>o.value<=56)),u=Object(s.computed)((()=>o.value>71)),d=Object(s.computed)((()=>i.value>1e3));function p(){return!!c.value||(!("up"!==l.value||!d.value)||("down"!==l.value||!u.value)&&null)}const h=Object(s.ref)(!0);return Object(s.watch)([d,l,u,c],(()=>{const e=p();null!==e&&(h.value=e,h.value||n())})),{__sfc:!0,props:t,siteNav:a,closeInnerPopovers:n,wrapperClass:r,speed:i,top:o,direction:l,inVisibleArea:c,HIDE_OFFSET_PX:15,isAwayFromVisibleArea:u,isSpeedy:d,getNewVisibility:p,isVisible:h,SiteNavigationMenu:Rt}}}),zt=(a(607),Object(A.a)(Ft,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("header",{directives:[{name:"track",rawName:"v-track:nav",arg:"nav"}],staticClass:"header aGrid-item--t-0",class:a.wrapperClass,attrs:{role:"banner"}},[t(a.SiteNavigationMenu,{ref:"siteNav",attrs:{"route-data":e.routeData,"disable-sticky-header":e.disableStickyHeader}})],1)}),[],!1,null,null,null).exports),Wt=a(556),Ht=a(602);function Gt(e){e&&function(e,t){if(window._atatusConfig||!e||!t)return;window._atatusConfig={apikey:e};const a=document.createElement("script");a.async=!0,a.src="https://dmc1acwvwny3.cloudfront.net/atatus.js",a.addEventListener("load",(()=>{var e;null===(e=window.atatus)||void 0===e||e.setUser(t.userId,t.email,t.username)}),!1),document.head.appendChild(a)}(e.apiKey,n.a.getters["auth/me"])}var Vt=Object(s.defineComponent)({__name:"base-layout",props:{routeData:null,twig:{type:Boolean},disableStickyHeader:{type:Boolean},hideFooter:{type:Boolean}},setup(e){const t=e,c=Object(s.computed)((()=>t.routeData.survey.data.value)),u=Object(s.computed)((()=>t.routeData.csatSurvey.data.value)),m=Object(s.computed)((()=>t.routeData.pushNotifications.data.value)),f=Object(s.computed)((()=>t.routeData.cookiePolicy.data.value)),{showCookiesMessage:_}=Object(h.b)(f);Object(Ht.a)(),Gt(t.routeData.atatus.data.value),Object(Wt.b)(m);const{pushSupported:x}=Object(Wt.a)();var w,C;(Object(i.b)((()=>t.routeData.hotJar.data.value)),Object(p.b)(!1),function(){d(Object(o.a)());const e=Object(l.h)((e=>{d(e)}));Object(s.onUnmounted)(e)}(),v((()=>t.routeData.npsData.data.value)),t.twig)||(null===(w=document.getElementById("app-skeleton"))||void 0===w||w.remove(),C=()=>t.routeData.latestSiteMessage.data.value,Object(r.e)(C,(e=>{e&&n.a.dispatch("pageMsgs/add",Object.assign({context:":admin"},e))})));return{__sfc:!0,CsatSurvey:()=>a.e(41).then(a.bind(null,1250)),BaseSurvey:()=>a.e(147).then(a.bind(null,1332)),CookiesMessage:()=>a.e(40).then(a.bind(null,1268)),TheFooter:()=>a.e(148).then(a.bind(null,691)),PushNotifications:()=>a.e(42).then(a.bind(null,1269)),props:t,survey:c,csat:u,pushNotifications:m,cookiePolicy:f,showCookiesMessage:_,pushSupported:x,TwigPortal:g.a,PageMessages:b.a,IntersectionBoundary:y.a,TheHeader:zt}}}),Kt=Object(A.a)(Vt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"box--contents"},[t(a.IntersectionBoundary,{attrs:{viewport:"",name:"viewport"}}),e.twig?[t(a.TwigPortal,{attrs:{to:"#pageMsgPortal"}},[t(a.PageMessages)],1),t(a.TwigPortal,{attrs:{to:"#header-portal",disabled:""}},[t(a.TheHeader,{attrs:{"disable-sticky-header":e.disableStickyHeader,"route-data":e.routeData.header}})],1),e._t("default"),e.hideFooter?e._e():t(a.TwigPortal,{attrs:{to:"#footer-portal",lazy:""}},[t(a.TheFooter)],1)]:[t(a.PageMessages),t(a.TheHeader,{attrs:{"disable-sticky-header":e.disableStickyHeader,"route-data":e.routeData.header}}),t("div",{staticClass:"flex--expand-v"},[e._t("default")],2),t("div",{attrs:{id:"footer-container"}},[t(a.TheFooter)],1)],a.showCookiesMessage?t(a.CookiesMessage,{attrs:{settings:a.cookiePolicy}}):e._e(),a.survey?t(a.BaseSurvey,{attrs:{survey:a.survey}}):e._e(),a.csat?t(a.CsatSurvey,{attrs:{survey:a.csat}}):e._e(),a.pushNotifications&&a.pushSupported()?t(a.PushNotifications):e._e()],2)}),[],!1,null,null,null).exports,Qt=a(597),Yt=a(28);const Jt=Object(w.c)({queries:[C.H,C.p],merge:!0}),Xt=Object(w.c)({queries:[C.eb],merge:!0}),Zt=["THREAD_SUBMISSION"],ea=e=>/ABANDONED/.test(e),ta={},aa=async(e,t)=>{if(Zt.every(ea))return null;const{name:a,title:s}=await((e,t)=>Xt({id:e,CSATSurveyTypes:t}).then((e=>e.request)).then((e=>{let{showCSAT:t}=e;return t})))(e,t);return ta[a]&&await Object(Yt.d)(ta[a]),a?{name:a,title:s}:null},sa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const a=(()=>{const e=localStorage.getItem("formAbandoned");if(Zt.some(ea)&&e){const t=Number(localStorage.getItem("formAbandonedTimer"));localStorage.removeItem("formAbandoned"),localStorage.removeItem("formAbandonedTimer");const a=localStorage.getItem("surveyShownTime"),s=a?new Date(a).getTime():0,n=Date.now();if(n-s>864e5&&n-t<6e5)return localStorage.setItem("surveyShownTime",String(n)),{name:e,title:"Hai appena annullato l'invio della tua offerta o del codice sconto. Complessivamente, quanto sei soddisfatto del modulo d'invio?"}}return null})()||await aa(e,t);return a?{name:a.name,title:a.title,threadId:e}:null};var na=a(596);const ra=Object(w.c)({queries:[C.V],merge:!0}),ia=()=>ra({}).then((e=>e.request)).then((e=>{var t;let{features:a,settings:s}=e;return{enabled:null==a?void 0:a.nps,token:null==s||null===(t=s.nps)||void 0===t?void 0:t.token}})),oa=Object(w.c)({queries:[C.gb],merge:!0}),la=Object(w.c)({queries:[C.hb],merge:!0}),ca=e=>{let{beforeEnter:t,afterEnter:a,path:s}=e;return{siteNav:t(((e,t)=>t?t.navigation:function(){return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:!0}).then((e=>e.request)).then((e=>e.navigation))}()),[s]),siteNavMenus:a((()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:!0};const t=await la(e),{navigation:a,groups:s,features:n}=await t.request;return Object.assign({},a,{groups:s,features:n})}()),[s])}};var ua=a(554);const da=function(e){let{CsatSurveyTypes:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{beforeEnter:a,afterEnter:s,path:n,param:r}=e;return{latestSiteMessage:a(((e,t)=>t?t.latestSiteMessage:Object(Qt.b)()),[n]),cookiePolicy:a(((e,t)=>t?t.features.cookiePolicy:Object(na.a)()),[n]),atatus:a(((e,t)=>t?t.atatus:Object(w.c)({queries:[C.d],merge:!0})({}).then((e=>e.request)).then((e=>{let{features:t}=e;return t.atatus}))),[n]),survey:s((e=>async function(e){const t=Object(w.c)({queries:[C.ib],merge:!0}),a=await t({path:e}).then((e=>e.request)).then((e=>e.survey));return null!=a&&a.delay&&await Object(Yt.d)(1e3*a.delay),a}(e)),[n]),hotJar:s((()=>Jt({}).then((e=>e.request)).then((e=>{let{settings:t,features:a}=e;return{hotJar:t.hotJar,features:a}}))),[n]),csatSurvey:s(((e,a)=>{let{cookiePolicy:s}=a;return s.data.value.allowTracking?sa(r("threadId").value,t):null}),[n]),npsData:s(ia,[n]),header:ca(e),pushNotifications:s((()=>Object(ua.a)()),[n])}}},530:function(e,t,a){"use strict";var s=a(5),n=Object(s.defineComponent)({__name:"user-persona",props:{user:null,iconOnly:{type:Boolean,default:!0},invert:{type:Boolean,default:!1},isBadge:{type:Boolean,default:!1}},setup(e){const t=e,a={suspended:"lock",banned:"ban",deleted:"circlex",pending_deletion:"circlex",verified:"verified",merchant:"merchant-rounded",editor_assistant:"editor-assistant",super_poster:"super"},n=["editor_assistant","super_poster"],r=Object(s.computed)((()=>t.user.persona&&t.user.persona.type in a)),i=["banned","suspended","pending_deletion","deleted"],o=Object(s.computed)((()=>"super_poster"===t.user.title)),l=Object(s.computed)((()=>t.user.persona.type.includes("merchant"))),c=Object(s.computed)((()=>n.includes(t.user.title)?t.user.title:t.user.persona.type)),u=Object(s.computed)((()=>a[c.value])),d=Object(s.computed)((()=>i.indexOf(t.user.persona.type)>-1)),p=Object(s.computed)((()=>t.invert||!d.value)),h=Object(s.computed)((()=>o.value?"super_poster":d.value?"warning":l.value?"merchant":"default")),m={warning:["text--color-greyShade","text--color-brandPrimary"],default:["text--color-greyShade","text--color-brandPrimary"],merchant:["text--color-greyShade","text--color-partnerLabelPrimary"]},f=Object(s.computed)((()=>{var e,t;return null!==(e=(null!==(t=m[h.value])&&void 0!==t?t:[])[p.value?1:0])&&void 0!==e?e:""})),v={super_poster:"user-persona--super size--all-s text--truncate",default:"size--all-xs"},g=Object(s.computed)((()=>"super_poster"===h.value?v[h.value]:v.default));return{__sfc:!0,props:t,iconMap:a,rolesWithBadgeOverride:n,enabled:r,warningPersonas:i,isSuperPoster:o,isMerchant:l,iconNameKey:c,iconName:u,warning:d,shouldInvert:p,mode:h,buttonClassesMap:m,buttonClasses:f,textClassesMap:v,textClasses:g}}}),r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.enabled?t("span",{staticClass:"lbox",class:{"textBadge textBadge--icon bg--em":!a.isSuperPoster&&e.isBadge}},[t("span",{staticClass:"lbox--h-small flex cursor-default",class:a.buttonClasses},[t("BaseIcon",{class:{"text--color-purple":a.isSuperPoster},attrs:{name:a.iconName,small:!a.isSuperPoster}})],1),e.iconOnly?e._e():t("span",{staticClass:"space--ml-1 text--b text--color-charcoalTint",class:a.textClasses},[e._v(" "+e._s(e.user.persona.text)+" ")])]):e._e()}),[],!1,null,null,null);t.a=i.exports},531:function(e,t,a){"use strict";var s=a(538),n=a(106),r={props:{user:{type:Object,default:null},size:{type:String,default:"m"},lazy:{type:Boolean,default:!0}},computed:{username(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""},src(){if(Object(s.a)(this.user))return Object(s.d)(this.size);switch(this.size){case"m":case"xl":case"nav":return Object(n.b)(this.user.imageUrls,"default","user_small_avatar",Object(s.d)(this.size));default:return Object(n.b)(this.user.imageUrls,"default","user_small_listing_avatar",Object(s.d)(this.size))}},classObject(){return{"avatar--type-s":"s"===this.size,"avatar--type-m":"m"===this.size,"avatar--type-xl":"xl"===this.size,"avatar--type-nav":"nav"===this.size}}}},i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("img",{staticClass:"avatar",class:e.classObject,attrs:{src:e.src,loading:e.lazy?"lazy":"eager",alt:e.$t("Avatar di :username",{replaces:{username:e.username}})}})}),[],!1,null,null,null);t.a=o.exports},532:function(e,t,a){"use strict";var s=a(15);t.a=(e,t,a)=>({namespaced:a,state:{items:s.a.normalize([e],t)},getters:{get:()=>t=>s.a.getEntity(e,t),items:e=>e.items},actions:{replace(e,t){let{commit:a}=e;a({type:"REPLACE",items:t})},push(e,t){let{commit:a,state:s}=e;a({type:"REPLACE",items:[...s.items,...t]})},remove(e,t){let{commit:a,state:s}=e;a({type:"REPLACE",items:s.items.filter((e=>!t.includes(e)))})},tearDown(t){let{state:a}=t;s.a.remove([e],a.items)}},mutations:{REPLACE(t,a){t.items=s.a.update([e],a.items,t.items)}}})},533:function(e,t,a){"use strict";var s=a(5),n=Object(s.defineComponent)({__name:"widget-frame",props:{layoutMode:null},setup(e){const t=e,a=Object(s.computed)((()=>({"card--type-horizontal aGrid":"horizontal"===t.layoutMode,"card--type-vertical listLayout-box aGrid":"vertical"===t.layoutMode})));return{__sfc:!0,props:t,cardClasses:a}}}),r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"card",class:e._self._setupProxy.cardClasses},[t("div",{staticClass:"card-inner"},[t("header",{staticClass:"card-header"},[t("div",{staticClass:"flex width--all-12 boxAlign-ai--all-fs boxAlign-jc--all-sb"},[e._t("WidgetHeader")],2)]),t("div",{staticClass:"aGrid height--all-full"},[e._t("WidgetBody")],2),e.$slots.WidgetFooter?t("footer",{staticClass:"card-footer width--all-12 aGrid-item aGrid-item--b-0"},[e._t("WidgetFooter")],2):e._e(),e._t("default")],2)])}),[],!1,null,null,null);t.a=i.exports},534:function(e,t,a){"use strict";var s=a(526);a.d(t,"e",(function(){return s.a}));var n=a(523);a.d(t,"a",(function(){return n.a}));var r=a(520);a.d(t,"d",(function(){return r.a}));var i=a(518);a.d(t,"b",(function(){return i.a}));a(525);var o=a(513);a.d(t,"c",(function(){return o.a}));a(521)},535:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return g}));var s=a(5),n=a(530),r=a(95),i=a(511),o=Object(s.defineComponent)({__name:"site-search-history-item",props:{item:null},setup:e=>({__sfc:!0,removeFromSearchHistory:r.b,BaseButton:i.a})}),l=a(44),c=Object(l.a)(o,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("RouterLink",{staticClass:"flex boxAlign-ai--all-c space--v-2 space--h-3 autoSuggest-suggestion autoSuggest-suggestion--hoverHighlight",attrs:{to:e.item.route}},[t("BaseIcon",{staticClass:"space--mv-1 space--mh-1",attrs:{name:"history",left:"",size:"m",color:"greyShade"}}),e._t("default"),t(a.BaseButton,{attrs:{variant:"text",mode:"secondary",square:"",size:"s"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),a.removeFromSearchHistory(e.item)}}},[t("BaseIcon",{attrs:{name:"cross",width:"14",height:"14"}})],1)],2)}),[],!1,null,null,null).exports,u=Object(s.defineComponent)({__name:"site-search-history-item-user",props:{item:null},setup:e=>({__sfc:!0,UserPersona:n.a,SiteSearchHistoryItem:c})}),d=Object(l.a)(u,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.SiteSearchHistoryItem,{attrs:{item:e.item}},[t("span",{staticClass:"width--all-12 flex boxAlign-ai--all-bl overflow--hidden"},[t("span",{staticClass:"space--mr-1 size--all-s text--b text--color-charcoalTint"},[e._v(e._s(e.item.title))]),t(a.UserPersona,{staticClass:"space--mr-1 boxAlign-as--all-c",attrs:{user:e.item.payload.user}}),t("span",{staticClass:"size--all-xs text--color-greyShade"},[e._v(e._s(e.item.label))])],1)])}),[],!1,null,null,null).exports,p=Object(s.defineComponent)({__name:"site-search-history-item-default",props:{item:null},setup:e=>({__sfc:!0,SiteSearchHistoryItem:c})}),h=Object(l.a)(p,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.SiteSearchHistoryItem,{attrs:{item:e.item}},[t("span",{staticClass:"width--all-12 overflow--hidden overflow--ellipsis"},[t("span",{staticClass:"space--mr-1 size--all-s text--b text--color-charcoalTint"},[e._v(e._s(e.item.title))]),t("span",{staticClass:"size--all-xs text--color-greyShade"},[e._v(e._s(e.item.label))])])])}),[],!1,null,null,null).exports;let m=function(e){return e.USER="user",e.DEFAULT="default",e}({});const f={GROUP:"Categoria",DEAL:"Offerta",VOUCHER:"Codice sconto",STORE_DEALS:"Negozio / Offerte",STORE_VOUCHERS:"Negozio / Codici sconto",STORE:"Negozio",USER:"Membro",EVENT:"Evento",ALL_RESULTS:"Tutti i risultati"},v={[m.USER]:d,[m.DEFAULT]:h},g=e=>(null==v?void 0:v[null==e?void 0:e.type])||v[m.DEFAULT]},536:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return v}));var s=a(5),n=a(1),r=a(573),i=a(535),o=function(e){return e.POPULAR_SEARCH="popular",e.SUGGESTIONS="suggestions",e.TOP_VOUCHERS="top_vouchers",e.TOP_DEALS="top_deals",e.USERS="users",e}(o||{});const l={STORE:"Negozio",GROUP:"Categoria",USER:"Membro",EVENT:"Evento"},c={[o.POPULAR_SEARCH]:{title:"Categorie più ricercate",seeMoreLink:{name:"groups.overview"},seeMoreHistoryLabel:i.b.ALL_RESULTS,component:()=>a.e(201).then(a.bind(null,712))},[o.SUGGESTIONS]:{title:"Suggerimenti",component:()=>a.e(230).then(a.bind(null,710))},[o.TOP_VOUCHERS]:{title:"Codici sconto",component:()=>a.e(35).then(a.bind(null,603))},[o.TOP_DEALS]:{title:"Offerte",component:()=>a.e(35).then(a.bind(null,603))},[o.USERS]:{component:()=>a.e(206).then(a.bind(null,711))}},u=e=>({name:"threads.index.group",params:{slug:e.urlName}}),d=e=>{let{q:t}=e;return{name:"search",query:{q:t}}},p=(e,t)=>{if(!e)return;const{name:a,q:s,type:o}=e,l={Group:i.b.GROUP,Merchant:t?i.b.STORE_VOUCHERS:i.b.STORE_DEALS,Search:i.b.ALL_RESULTS},c={Group:a,Merchant:a,Search:s},p={Group:u,Merchant:e=>((e,t)=>{let{objectId:a,urlName:s}=e;return Object(r.a)({merchantId:a,merchantUrlName:s},t?n.Ab.Voucher:n.Ab.Deal)})(e,t),Search:d};return{route:p[o](e),label:l[o],title:c[o]}},h=e=>{var t;return null===(t=c[e])||void 0===t?void 0:t.component},m=e=>{var t;return null===(t=c[e])||void 0===t?void 0:t.title},f=e=>{var t;return null==e||null===(t=e.original)||void 0===t?void 0:t.type},v=()=>{const e=Object(s.ref)({}),t=Object(s.computed)((()=>Object.entries(c).reduce(((e,t)=>{let[a,s]=t;return s.seeMoreLink?(e[a]={title:s.title,route:s.seeMoreLink,label:s.seeMoreHistoryLabel},e):e}),{}))),a=Object(s.computed)((()=>Object.assign({},t.value,e.value)));return{SEARCH_BLOCKS:o,getComponentByType:h,getTitleByType:m,getType:f,openSearchOnMobile:()=>{document.querySelector(".nav").classList.add("nav--search")},closeSearchOnMobile:()=>{document.querySelector(".nav").classList.add("nav--search-hide"),setTimeout((()=>{document.querySelector(".nav").classList.remove("nav--search","nav--search-hide")}),500)},seeMoreLinks:a,updateSeeMoreLinks:t=>{let{dealsViewAll:a,vouchersViewAll:s}=t;e.value={[o.TOP_DEALS]:p(a),[o.TOP_VOUCHERS]:p(s,!0)}}}}},537:function(e,t,a){"use strict";(function(e){var s=a(154);t.a={props:{user:Object,required:!0},computed:{label(){return e("Esci",{replaces:{user:this.user.username}})}},methods:{logout:s.b}}}).call(this,a(70).translation)},538:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return p}));var s=a(108),n=a(4),r=a(1);const i=e=>!e||!e.imageUrls||!0===e.isDeletedOrPendingDeletion,o=e=>n.a.getters["auth/me"]&&e.userId===n.a.getters["auth/me"].userId,l={s:"/assets/img/profile-listing-placeholder_fecff.png",m:"/assets/img/profile-comment-placeholder_1b5d6.png",l:"/assets/img/profile-placeholder_09382.png",fallback:"/assets/img/profile-placeholder_09382.png"},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"s";return e in l?l[e]:l.fallback},u=e=>Object(s.d)(e.images),d=e=>e.status===r.Gb.Unauthenticated,p=e=>o(e)||!(null!=e&&e.isUserProfileHidden||null!=e&&e.isDeletedOrPendingDeletion)?e.username:"Utente anonimo"},539:function(e,t,a){"use strict";var s=a(5),n=a(523),r=a(551);const i={center:r.e,bottomSheet:r.b,bottomCenter:r.c,bottomRight:r.d,fullscreen:r.f,absolute:r.a},o=Object(s.defineComponent)({name:"BaseModal"});var l=Object(s.defineComponent)(Object.assign({},o,{props:{layout:{type:[String,Object],default:"center",validator:e=>"string"!=typeof e||e in i},backdrop:{type:Boolean,default:!0},mobileSheet:{type:Boolean,default:!0},contentRepos:{type:Boolean,default:!1},scrollRepos:{type:Boolean,default:!1}},setup(e,t){let{expose:a}=t;const r=e,o=Object(s.computed)((()=>{const e="string"==typeof r.layout?i[r.layout]:r.layout;return[Object.assign({},e,{backdrop:r.backdrop})]})),l=Object(s.ref)(),c=()=>l.value.close();return Object(s.onMounted)((()=>l.value.activate(o))),Object(s.watch)(o,(()=>l.value.updateLayouts(o))),a({close:c}),{__sfc:!0,layoutPresets:i,props:r,popoverLayouts:o,popover:l,close:c,BasePopover:n.a}}})),c=a(44),u=Object(c.a)(l,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.BasePopover,e._g(e._b({ref:"popover",attrs:{"scroll-repos":e.scrollRepos,"content-repos":e.contentRepos,"mobile-sheet":e.mobileSheet&&"fullscreen"!==e.layout},scopedSlots:e._u([{key:"default",fn:function({}){return[e._t("default",null,{close:a.close})]}}],null,!0)},"BasePopover",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null);t.a=u.exports},540:function(e,t,a){"use strict";var s=a(5),n=a(28),r=a(242),i={__name:"twig-portal",props:{to:{type:String,required:!0},lazy:{type:Boolean}},setup(e){const t=e,a=Object(s.ref)(!t.lazy),i=document.querySelector(t.to);if(!i)throw Error("missing twig-portal target: ".concat(t.to));t.lazy&&(Object(n.b)().then((()=>a.value=!0)),Object(r.d)(i,(()=>a.value=!0),{rootMargin:"100px 0px 0px"}));const o=()=>{!i.hasAttribute("track-pass-by")&&a.value&&(i.setAttribute("track-pass-by",""),i.innerHTML="")};return Object(s.onBeforeMount)(o),Object(s.onBeforeUpdate)(o),{__sfc:!0,props:t,active:a,portalTarget:i,initPortalTarget:o}}},o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.active?t("MountingPortal",{attrs:{"mount-to":a.props.to,append:"","target-slim":""}},[e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=l.exports},542:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var s=a(5);const n={none:"",s:"button--size-s",m:"button--size-m",l:"button--size-l"},r={none:"",primary:"button button--shape-circle button--type-primary",secondary:"button button--shape-circle button--type-secondary",tertiary:"button button--shape-circle button--type-tertiary",text:"button button--type-text",tag:"button button--type-tag"},i={base:{brand:"button--mode-brand",success:"button--mode-success",danger:"button--mode-danger",info:"button--mode-info",warning:"button--mode-warning",white:"button--mode-white"},primary:{dark:"button--mode-dark",expired:"button--mode-expired"},secondary:{default:"button--mode-default"},tertiary:{default:"button--mode-default"},text:{primary:"button--mode-primary",secondary:"button--mode-secondary",white:"button--mode-white"},tag:{dark:"button--mode-dark",light:"button--mode-light"}};function o(e){const t=function(e){return"primary"===e||"secondary"===e||"tertiary"===e?i.base:{}}(e);return Object.assign({},t,i[e])}function l(e){return e.href?function(e){return Object(s.computed)((()=>({tag:"a",href:e.disabled?null:e.href})))}(e):e.to?function(e){return Object(s.computed)((()=>({tag:"router-link",to:e.to})))}(e):function(e){return Object(s.computed)((()=>({tag:"button",type:e.type||"button"})))}(e)}function c(e,t){return o(e)}},543:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var s=a(642),n=a(527),r=a(104),i=a(0),o=a.n(i);const l={cookieKey:"DI",closeWidgetKey:"CW",widgets:{telegramWidgetKey:"T",newsletterWidgetKey:"N",keywordAlertsWidgetKey:"K",discussionHeaderWidgetKey:"D",discussionsWidgetKey:"DW",activityWidgetKey:"A",topGroupsWidgetKey:"TG",relatedGroupsWidgetKey:"RG",relatedMerchantsWidgetKey:"RM",topMerchantsWidgetKey:"TM",eventTopMerchantsWidgetKey:"ETM",merchantSearchResultsWidgetKey:"MSR",highlightsWidgetKey:"HL",exploreMixedWidgetKey:"EX",topGroupsTopMerchantsGenericListingWidgetKey:"TGMG",latestNewsWidget:"LNW"},threadVoteKey:"TV"},c=e=>e&&"string"==typeof e.apiKey&&"string"==typeof e.intentKey&&"string"==typeof e.trackCategory;var u={mixins:[r.a],props:{clientOnly:{type:Boolean,default:!1},options:{validator:c},grid:{type:Boolean,default:!1}},data:()=>({isVisible:!0}),computed:{leaveActiveClass(){return this.options?"fade":""}},created(){this.isVisible=!this.clientOnly||!Object(s.a)(this.options.apiKey),this.options&&(this.guarded.config={login:{source:"close_".concat(this.options.trackCategory),source_group:"close_widget"},intents:{intent:l.closeWidgetKey,target:l.widgets[this.options.intentKey]}})},methods:{async triggerHide(){this.clientOnly?this.hide():this.guard(this.hide),Object(n.a)().record({category:this.options.trackCategory,label:"engagement",action:"close_widget"}),this.$emit("hide")},hide(){this.clientOnly?Object(s.c)(this.options.apiKey):Object(s.b)(this.options.apiKey),this.isVisible=!1},gridUpdate(){this.grid&&o()(".js-grid").trigger("grid-update")}}},d=a(44),p=Object(d.a)(u,(function(){var e=this;return(0,e._self._c)("Transition",{attrs:{"leave-active-class":e.leaveActiveClass},on:{"after-leave":e.gridUpdate}},[!e.options||e.isVisible?e._t("default",null,{hide:e.triggerHide}):e._e()],2)}),[],!1,null,null,null);t.a=p.exports},544:function(e,t,a){"use strict";var s=a(77),n={props:{orientation:{type:String,required:!0},visualization:{type:String,required:!1,default:"itemTypeB",validator:e=>Object.keys(s.a).includes(e)},carouselClass:{type:String,default:"space--fromW3-mh-6"},horizontalItemClass:{type:String,default:"carousel-list-item-height width--fromW3-4 width--fromW4-3 space--h-3"}},computed:{currentOrientation(){return{horizontal:"horizontal"===this.orientation,vertical:"vertical"===this.orientation}},asset(){return s.a[this.visualization]}}},r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("div",[e.currentOrientation.horizontal?t("div",{staticClass:"carousel",class:e.carouselClass},e._l(4,(function(a){return t("div",{key:a,staticClass:"flex--inline boxAlign-ai--all-c carousel-list-item carousel-list-item-width",class:e.horizontalItemClass},[t("span",{staticClass:"skeleton"},[t("img",{staticStyle:{"max-width":"99%"},attrs:{src:e.asset.src,height:"100%"}})])])})),0):t("div",{staticClass:"flex flex--dir-col height--all-full"},e._l(4,(function(a){return t("div",{key:a,staticClass:"flex--inline boxAlign-ai--all-c card-space--h space--mb-4 carousel-list-item-height"},[t("span",{staticClass:"skeleton"},[t("img",{staticStyle:{"max-width":"99%"},attrs:{src:e.asset.src,height:"100%"}})])])})),0)])}),[],!1,null,null,null);t.a=i.exports},545:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(5);const n=()=>{const e=Object(s.ref)(!1);return{isLoading:e,setLoader:()=>(e.value=!0,()=>{e.value=!1})}}},546:function(e,t,a){"use strict";var s=a(5),n=Object(s.defineComponent)({__name:"user-short-profile-trigger",props:{user:null,tag:{default:"div"}},setup(e){const t=Object(s.defineAsyncComponent)((()=>Promise.all([a.e(172),a.e(1),a.e(2),a.e(10),a.e(163)]).then(a.bind(null,1273)))),n=Object(s.ref)(!1),r=Object(s.ref)(null);let i;const o=()=>{var e;null===(e=r.value)||void 0===e||e.activate(i.preset,i.event)};return{__sfc:!0,UserShortProfilePopover:t,loaded:n,popover:r,payload:i,handleClick:(e,t)=>{n.value||(n.value=!0),i={event:e,preset:t},o()},openPopover:o}}}),r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(e.tag,{tag:"Component"},[e._t("default",null,{popoverHandler:a.handleClick}),a.loaded?t(a.UserShortProfilePopover,e._g({ref:"popover",attrs:{user:e.user},on:{"~hook:mounted":function(e){return a.openPopover.apply(null,arguments)}}},e.$listeners)):e._e()],2)}),[],!1,null,null,null);t.a=i.exports},547:function(e,t,a){"use strict";var s=a(5),n=a(95),r=Object(s.defineComponent)({__name:"search-history-trigger",props:{item:null},setup(e){const t=e;return{__sfc:!0,props:t,saveToHistory:()=>{Object(n.c)(t.item)}}}}),i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("div",{on:{click:e._self._setupProxy.saveToHistory}},[e._t("default")],2)}),[],!1,null,null,null);t.a=o.exports},548:function(e,t,a){"use strict";(function(e){t.a={props:{badge:{type:Object,default:null}},computed:{image(){return"/assets/img/badges/1x/".concat(this.badge.level.key,"-active.png")},title(){const{name:t,description:a}=this.badge.level;return e(":name: :description",{replaces:{name:t,description:a}})}}}}).call(this,a(70).translation)},549:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));let s={symbol:"€",separator:"",decimal:",",precision:2,pattern:"postfix",placeholder:"0.00"};function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0===e?e:e||"").toString().replace(/\s/g,"").replace(s.symbol,"");if(!/^-?[\d.,]+$/.test(t))return Number.NaN;const a=/[.,](?=\d*$)/;if(!t.match(a))return Number(t);const n=/[.,](?=\d*\D)/g;return t.indexOf(s.decimal)>-1&&t.indexOf(s.separator||"")>-1?Number(t.replace(n,"").replace(a,".")):t.match(n)||t.match(/[.,](?=\d{3}$)/)?Number(t.replace(/[.,]/g,"")):Number(t.replace(a,"."))}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{includeCurrency:t=!1,treatAsFloat:a=!1,precision:n=s.precision}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||Number.isNaN(e))return"";let r=String(Math.abs(n>0?Math.trunc(e):Math.round(e)));s.separator&&(r=r.replace(/(\d)(?=(\d{3})+$)/g,"$1"+s.separator));const i=a||!Number.isInteger(e);return n>0&&i&&(r+=s.decimal+e.toFixed(n).replace(/^[^.]+\./,"")),t&&(r="postfix"===s.pattern?r+s.symbol:s.symbol+r),(e<0?"-":"")+r}},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"c",(function(){return p}));var s=a(4),n=a(25),r=a(21);const i="pepper.it";async function o(e){if(window.dataLayer&&window.gtag)return;window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),function(){const{allowTracking:e,gaCookiesAsAnalytical:t,allowPersonalization:a}=s.a.getters["features/get"]("cookiePolicy");l("consent","default",{ad_storage:a?"granted":"denied",analytics_storage:t&&!e?"denied":"granted"})}();const t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=".concat(e),t.async=!0,document.head.appendChild(t)}function l(){if(window.gtag&&!n.b&&!Object(r.g)()){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];window.gtag.apply(null,t)}}function c(e,t){l("consent","update",{[e]:t?"granted":"denied"})}function u(e){c("ad_storage",e)}function d(e){s.a.getters["features/get"]("cookiePolicy.gaCookiesAsAnalytical")&&c("analytics_storage",e)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l("config",e,Object.assign({cookie_domain:i||"auto",send_page_view:!1,transport_type:"beacon"},t))}},550:function(e,t,a){"use strict";var s={mixins:[a(519).a]},n=a(44),r=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"plainSelect lbox--v-1"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"plainSelect-ctrl clickable",attrs:{name:e.name,disabled:"disabled"===e.mode,required:"required"===e.mode},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedValue=t.target.multiple?a:a[0]}}},[e.placeholder?t("option",{attrs:{value:""}},[e._v(e._s(e.placeholder))]):e._e(),e._l(e.options,(function(a,s){return t("option",{key:s,attrs:{disabled:a.disabled},domProps:{value:a[e.valueKey],selected:s===e.selectedValue}},[e._v(" "+e._s(a[e.textKey])+" ")])}))],2),t("span",{staticClass:"plainSelect-fake box--all-b overflow--ellipsis space--r-1 hide--js-off",class:[{"mute--text":!e.selectedOption}],attrs:{"aria-hidden":"true"}},[e._v(" "+e._s(e.selectedOption?e.selectedOption[e.textKey]:e.placeholder)+" ")]),t("BaseIcon",{staticClass:"select-ico",attrs:{name:"dropdown"}})],1)}),[],!1,null,null,null);t.a=r.exports},551:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c}));const s={enterActiveClass:"animation--modalFromBottom",leaveActiveClass:"animation--modalToBottom"},n={preset:"fixed",transition:s},r={preset:"fixed",classes:"popover--layout-fixed-fullscreen",transition:s},i={preset:"fixed",classes:"popover--layout-fixed-bottomSheet",transition:s},o={preset:"fixed",classes:"popover--layout-fixed-bottom",transition:s},l={preset:"fixed",classes:"popover--layout-fixed-bottomRight",transition:s},c={preset:"modal"}},553:function(e,t,a){"use strict";var s={props:{suggestions:{type:Array,required:!0},highlighted:{type:Object,default:null},icon:{type:String,default:null},modifier:{type:String,default:"lBox--v-3"}},methods:{isHighlighted(e){return!!this.highlighted&&this.highlighted.value===e.value}}},n=a(44),r=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("ol",{},e._l(e.suggestions,(function(a,s){return t("li",{key:s,on:{mouseover:function(t){return e.$emit("highlight",a)},mousedown:function(t){return e.$emit("select",t,a)}}},[e._t("default",(function(){return[t("div",{staticClass:"autoSuggest-suggestion flex boxSec-div space--h-2 width--all-12 clickable overflow--hidden size--all-s",class:[{"autoSuggest-suggestion--selected":e.isHighlighted(a)},e.modifier],attrs:{title:a.text}},[e.icon?t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:e.icon}}):e._e(),t("div",{staticClass:"text--lh-1-2 overflow--ellipsis overflow--hidden"},[e._v(" "+e._s(a.text)+" ")])],1)]}),{suggestion:a,isHighlighted:e.isHighlighted(a)})],2)})),0)}),[],!1,null,null,null);t.a=r.exports},554:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return y})),a.d(t,"a",(function(){return _})),a.d(t,"f",(function(){return w})),a.d(t,"b",(function(){return C}));var s=a(4);const n="BPjcMltwr1+BNVDchAmzCHYWRbMMWHuGJlBh0j19PtFR8c2xFKm6NjkcCRCNscSW5mFIPxMvQYzeKLgVbJDh4Os=",r="/bpn/getRequestPermissionParams",i="/bpn/subscribe-vapid-endpoint";var o=a(96),l=a(151),c=a(556),u=a(8),d=a.n(u),p=a(1),h=a(6);const m=async()=>{const{eligibleForBrowserPushNotifications:e}=await Object(h.c)({queries:[p.Ib],merge:!0})({}).then((e=>e.request)).then((e=>e.visitor));return e};var f=function(e){return e.GUEST="guest",e.FORCED="bpn_forced",e.USER="user",e}(f||{});const v={[f.GUEST]:"guestBpnModalSeen",[f.USER]:"userBpnModalSeen",[f.FORCED]:"forcedBpnModalSeen"},g=()=>"serviceWorker"in navigator&&"PushManager"in window,b=()=>{const{pushType:e}=Object(c.a)();localStorage.setItem(v[e.value],"true")},y=()=>{const{pushType:e}=Object(c.a)();return localStorage.getItem(v[e.value])},_=async()=>{const{isLoggedIn:e}=Object(l.a)(),{state:t}=await navigator.permissions.query({name:"notifications"});if(e.value){return{pushType:await m()?f.USER:null,pushPermission:t}}{const{pushType:e}=await d.a.post(r).then((e=>e.data.data));return{pushType:e,pushPermission:t}}},x=async e=>{const t=await O()?k(e):[j];await Promise.all(t.map((e=>e())))},w=async()=>{try{const{pushType:e}=await _();await x(e),await s.a.dispatch("pushNotifications/updatePushType",e)}catch(e){}},C=async()=>{try{const{pushType:e,pushPermission:t}=Object(c.a)();e.value&&"granted"===t.value&&await x(e.value)}catch(e){console.error("Error subscribing to push notifications:",e)}},k=e=>({[f.FORCED]:[S,j],[f.USER]:[S,j]}[e]||[]),O=async()=>(await navigator.serviceWorker.ready).pushManager.getSubscription(),j=async()=>{const e=await navigator.serviceWorker.ready;await I();return(e=>d.a.post(i,e.toJSON()))(await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Object(o.c)(n)}))},S=async()=>{const e=await O();if(e)return e.unsubscribe()},I=async()=>new Promise(((e,t)=>{navigator.permissions.query({name:"notifications"}).then((a=>{let{state:n}=a;return"denied"===n?t(n):"granted"===n?e(n):void Notification.requestPermission().then((a=>{const n="default"===a?"prompt":a;return s.a.dispatch("pushNotifications/updatePushPermission",n),"granted"===n?e(n):t(n)}))}))}))},555:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l.a})),a.d(t,"c",(function(){return c.a})),a.d(t,"b",(function(){return m}));var s=a(519),n=a(510),r={components:{FormInputAdditionBox:n.f,FormInputIcon:n.h},mixins:[s.a],inheritAttrs:!1,props:{inputClass:{type:[String,Array,Object],default:""},multiple:{type:Boolean,default:!1}},computed:{selectedText(){if(this.options.length<1||this.options.multiple)return"";if(!this.selectedOption)return this.placeholder;const e=this.selectedValue,t=this.options.find((t=>e===t[this.valueKey]));return t?t[this.textKey]:this.placeholder}},methods:{selected(){this.$refs.select.blur()}}},i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"select width--all-12"},[t("select",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],ref:"select",staticClass:"select-ctrl input clickable",class:[{[`input--mode-${e.mode}`]:e.mode},e.inputClass],attrs:{disabled:"disabled"===e.mode,required:"required"===e.mode,name:e.name},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedValue=t.target.multiple?a:a[0]},e.selected]}},"select",e.$attrs,!1),e.$listeners),[!e.multiple&&e.placeholder?t("option",{attrs:{value:""}},[e._v(e._s(e.placeholder))]):e._e(),e._l(e.options,(function(a){return t("option",{key:a[e.textKey],attrs:{disabled:a.disabled},domProps:{value:a[e.valueKey],selected:e.value===a[e.valueKey]}},[e._v(" "+e._s(a[e.textKey])+" ")])}))],2),t("span",{staticClass:"select-fake flex flex--col width--all-12"},[t("span",{staticClass:"select-txt input clickable width--all-12"},[t("span",{staticClass:"box--all-b overflow--wrap-off overflow--hidden",class:{"mute--text":!e.selectedOption&&e.placeholder}},[e._v(" "+e._s(e.selectedText)+" ")])]),t("FormInputAdditionBox",{attrs:{right:""}},[t("FormInputIcon",{attrs:{name:"down","icon-class":"select-arrow"}})],1)],1)])}),[],!1,null,null,null).exports,l=a(576),c=a(550),u={mixins:[s.a],props:{values:{type:Array,required:!0},index:{type:Number,default:0}},data(){return{vals:this.values}},computed:{selectedOption:function(){const e=this.vals[this.index];return this.options.find((t=>t.value===e))}},methods:{isDisabled:function(e){return e.disabled||this.vals[this.index]!==e.value&&-1!==this.vals.indexOf(e.value)},update:function(e){this.vals[this.index]=e.target.value}}},d={components:{BoundSelect:Object(i.a)(u,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.vals[e.index],expression:"vals[index]"}],staticClass:"select-ctrl input",class:e.mode?"input--mode-"+e.mode:"",attrs:{id:e.controlId,name:e.name,disabled:"disabled"===e.mode,required:"required"===e.mode},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.vals,e.index,t.target.multiple?a:a[0])},function(t){return e.update(t)}]}},[e.placeholder?t("option",{attrs:{value:""}},[e._v(e._s(e.placeholder))]):e._e(),e._l(e.options,(function(a,s){return t("option",{key:s,attrs:{disabled:e.isDisabled(a)},domProps:{value:a[e.valueKey]}},[e._v(" "+e._s(a[e.textKey])+" ")])}))],2),t("span",{staticClass:"select-fake tGrid tGrid--auto width--all-12"},[t("span",{staticClass:"select-txt tGrid-cell bRad--r-r input width--all-12",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"box--all-b height--ctrl overflow--wrap-break overflow--hidden"},[e._v(e._s(e.selectedOption?e.selectedOption[e.textKey]:e.placeholder))])]),t("span",{staticClass:"tGrid-cell"},[t("span",{staticClass:"select-arrow btn bRad--l-r"},[t("BaseIcon",{staticClass:"select-ico",attrs:{name:"dropdown"}})],1)])])])}),[],!1,null,null,null).exports},mixins:[s.a],props:{value:{type:Array,required:!0},skip:{type:Number,default:0},max:{type:Number,default:1/0}},data(){return{vals:this.values}},computed:{remaining:function(){return this.options.reduce(((e,t)=>t.disabled||!t.value?e:e+1),0)-this.vals.length},nextValue:function(){return this.placeholder?"":this.options.find((e=>!e.disabled&&-1===this.vals.indexOf(e.value))).value}}},p=(Object(i.a)(d,(function(){var e=this,t=e._self._c;return t("div",[e._l(e.vals.length-e.skip,(function(a,s){return t("div",{key:s,staticClass:"tGrid tGrid--auto width--all-12",class:{"space--t-3":a}},[t("BoundSelect",{staticClass:"width--all-12",attrs:{values:e.vals,index:a-1+e.skip,options:e.options,name:e.name,"value-key":e.valueKey,"text-key":e.textKey,placeholder:e.placeholder,mode:e.mode}}),t("div",{staticClass:"tGrid-cell tGrid-cell--shrink"},[t("button",{staticClass:"space--ml-1",class:{"hide--visibility":e.vals.length<2},attrs:{disabled:"disabled"===e.mode,type:"button"},on:{click:function(t){return e.vals.splice(a-1+e.skip,1)}}},[t("span",{staticClass:"btn btn--mode-white text--color-grey"},[t("BaseIcon",{attrs:{name:"cross"}})],1)])])],1)})),e.remaining>0&&e.vals.length<e.max?t("button",{staticClass:"btn space--mt-3",attrs:{disabled:!e.vals[e.vals.length-1]||"disabled"===e.mode,type:"button"},on:{click:function(t){return e.vals.push(e.nextValue)}}},[e._t("addButton")],2):e._e()],2)}),[],!1,null,null,null).exports,{components:{FormCheckbox:n.b,FormInputAdditionBox:n.f,FormInputIcon:n.h},mixins:[s.b],props:{allLabel:{type:String,default:""},highlight:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},disabledCheckboxId:{type:String,default:null}},computed:{displayLabel(){if(this.allLabel&&this.allSelected)return this.allLabel;const e=this.selectedValue;return e.length?e.map((e=>e[this.textKey])).join("".concat(this.separator," ")):this.placeholder},filterDisplayLabel(){return this.displayLabel!==this.placeholder?this.displayLabel:""},allSelected(){return this.selected.length===this.options.length},items(){const e=this.selectedValue,t=this.valueKey;return(this.searchable?this.filteredOptions:this.options).map((a=>Object.assign({},a,{checked:e.map(this.mapValue).indexOf(a[t])>-1})))},inputClasses(){const e=this.selectedValue;return{"mute--text":!e.length||e.length===this.options.length&&this.allLabel,"text--color-brandPrimary":this.highlight&&(e.length<this.options.length||!this.allLabel)}}},created(){this.mapValue=this.mapValue.bind(this),this.mapItem=this.mapItem.bind(this)},methods:{handleFilterClick(){this.toggleLayer(),this.setFilterValue("")},mapValue(e){return e[this.valueKey]},mapItem(e){return this.retainValue?e:this.mapValue(e)},selectAll(){this.selectedValue=this.options.map(this.mapItem)},toggleItem(e,t){let a=[...this.selectedValue];e.checked=t,t?a.push(this.mapItem(e)):a.splice(a.findIndex((t=>this.mapValue(t)===this.mapValue(e))),1),this.selectedValue=a}}}),h=Object(i.a)(p,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.expandLayer,expression:"expandLayer"}],staticClass:"multiSelect aGrid width--all-12"},[t("div",{staticClass:"input-wrapper dropdown flex aGrid",class:{"input-wrapper--focus":e.expanded}},[e.searchable||e.disabled?t("div",{staticClass:"width--all-12"},[e.expanded?t("input",{staticClass:"input",attrs:{type:"text",autocomplete:"off",disabled:e.disabled,placeholder:e.filterDisplayLabel},domProps:{value:e.filterValue},on:{input:function(t){return e.setFilterValue(t.target.value)}}}):t("input",{staticClass:"input",attrs:{type:"text",autocomplete:"off",disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.filterDisplayLabel},on:{click:function(t){return t.stopPropagation(),e.handleFilterClick.apply(null,arguments)}}})]):[e.showIcon?t("FormInputAdditionBox",{staticClass:"pointerEvents--none",attrs:{left:""}},[t("FormInputIcon",{attrs:{name:"star-empty"}})],1):e._e(),t("FormInputAdditionBox",{staticClass:"pointerEvents--none",attrs:{right:""}},[t("FormInputIcon",{attrs:{name:"down",color:"charcoalTint","icon-class":"input-icon--active"}})],1),t("div",{staticClass:"input tGrid tGrid--auto width--all-12 clickable",class:{"input-with-icon--l input-with-icon--r":e.showIcon},on:{click:function(t){return t.stopPropagation(),e.toggleLayer()}}},[t("span",{staticClass:"tGrid-cell tGrid-cell--preventOverflow",class:e.inputClasses},[t("span",{staticClass:"input-label box--all-b",class:{"input-label--ellipsed overflow--ellipsis":e.ellipsis}},[e._v(" "+e._s(e.displayLabel)+" ")])])])]],2),e.expanded?t("div",{staticClass:"dropdown-content zIndex--popover overflow--scrollY aGrid-item",attrs:{"data-handler":"scrollable"}},[e.allLabel?t("FormCheckbox",{staticClass:"multiSelect-item width--all-12 space--v-2 space--h-3 boxSec-div",attrs:{checked:e.allSelected},on:{click:e.selectAll},scopedSlots:e._u([{key:"inline-label",fn:function(){return[e._v(" "+e._s(e.allLabel)+" ")]},proxy:!0}],null,!1,1138682325)}):e._e(),e._l(e.items,(function(a,s){return t("FormCheckbox",{key:a[e.valueKey],staticClass:"multiSelect-item width--all-12 space--v-3 space--h-3 boxSec-div",class:"",attrs:{checked:a.checked,disabled:e.disabledCheckboxId===a[e.valueKey]},on:{update:function(t){return e.toggleItem(a,t)}},scopedSlots:e._u([{key:"inline-label",fn:function(){return[e._t("option-label",(function(){return[e._v(" "+e._s(a[e.textKey])+" ")]}),{item:a})]},proxy:!0}],null,!0)})}))],2):e._e()])}),[],!1,null,null,null),m=h.exports},556:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var s=a(5),n=a(4),r=a(152);const i=e=>({pushPermission:null==e?void 0:e.pushPermission,pushType:null==e?void 0:e.pushType}),o={updatePushType(e,t){let{commit:a}=e;a("UPDATE_PUSH_TYPE",t)},updatePushPermission(e,t){let{commit:a}=e;a("UPDATE_PUSH_PERMISSION",t)}},l={UPDATE_PUSH_TYPE(e,t){e.pushType=t},UPDATE_PUSH_PERMISSION(e,t){e.pushPermission=t}};var c=a(554);const u=()=>{const e=Object(s.computed)((()=>{var e;return null===(e=n.a.state.pushNotifications)||void 0===e?void 0:e.pushPermission})),t=Object(s.computed)((()=>{var e;return null===(e=n.a.state.pushNotifications)||void 0===e?void 0:e.pushType})),a=Object(s.computed)((()=>null!==t.value&&!Object(c.c)()&&"prompt"===e.value));return{pushSupported:c.d,pushPermission:e,showPermissionModal:a,setPermissionModalSeen:c.e,pushType:t,manageVisitorPushSubscription:c.b,subscribeVisitorToPush:c.f}},d=Object(r.a)("pushNotifications",(e=>({namespaced:!0,state:i(e),mutations:l,actions:o})))},557:function(e,t,a){},558:function(e,t,a){},559:function(e,t,a){"use strict";var s=a(571),n=a.n(s),r={name:"BaseCarousel",provide(){return{carousel:this}},props:{mode:{type:String,default:"none"},activeSlide:{type:Number,default:null}},data:()=>({width:0,pageWidth:0,offset:0}),computed:{pages(){return Math.ceil(parseFloat(this.width/this.pageWidth).toFixed(2))||0},page(){return this.offset+this.pageWidth>=this.width?this.pages:Math.ceil(Math.round(100*this.offset/this.pageWidth)/100)+1},isNext(){return Math.ceil(this.offset+this.pageWidth)<this.width},isPrev(){return this.offset>0}},watch:{activeSlide(){this.scrollToActivePage()},page(e){this.$emit("activeSlideChanged",e)}},mounted(){this.scrollToActivePage()},methods:{init(e,t,a){this.width=e,this.pageWidth=t,this.scrollUpdate(a)},scrollUpdate(e){this.offset=e},scrollToPage(e){this.$emit("scrollTo",(n()(this.pages,1,e)-1)*this.pageWidth)},next(){this.$emit("next")},prev(){this.$emit("prev")},scrollToActivePage(){this.activeSlide&&setTimeout((()=>{this.scrollToPage(this.activeSlide)}),0)}}},i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("div",[e._t("default",null,{page:e.page,pages:e.pages})],2)}),[],!1,null,null,null);t.a=o.exports},560:function(e,t,a){"use strict";var s=a(86),n=a.n(s),r=a(715),i=a.n(r),o=a(563),l=a(25);i.a.polyfill();var c={components:{IntersectionBoundary:o.a},inject:["carousel"],props:{bar:{type:Boolean,default:!1},smoothScroll:{type:Boolean,default:!0},keysControl:{type:Boolean,default:!1},persistentSpacing:{type:Boolean,default:!1}},data:()=>({isPreventScrollDebounce:!1}),computed:{classes(){return{"hide-scrollbar":!this.bar,"carousel--isPrev":this.carousel.isPrev,"carousel--isNext":this.carousel.isNext,"scrollBox-container--space":l.d||this.persistentSpacing}}},async mounted(){await this.$nextTick(),this.init();const e=n()(this.init,100),t=n()(this.scrollUpdate,150),a=()=>{this.isPreventScrollDebounce?this.scrollUpdate():t(),this.isPreventScrollDebounce=!1};this.$el.addEventListener("scroll",a),window.addEventListener("resize",e),this.$once("hook:beforeDestroy",(()=>{this.$el.removeEventListener("scroll",a),window.removeEventListener("resize",e)})),this.carousel.$on("scrollTo",this.scrollTo),this.carousel.$on("next",this.next),this.carousel.$on("prev",this.prev),this.keysControl&&window.addEventListener("keydown",this.handleKeypress)},beforeDestroy(){this.keysControl&&window.removeEventListener("keydown",this.handleKeypress)},async updated(){await this.$nextTick(),this.init()},methods:{init(){this.carousel.init(this.$el.scrollWidth,this.$el.getBoundingClientRect().width,this.$el.scrollLeft)},scrollUpdate(){this.carousel.scrollUpdate(this.$el.scrollLeft)},scrollTo(e){this.$el.scrollTo(Object.assign({left:e},this.smoothScroll?{behavior:"smooth"}:{}))},filledWidth(e,t){let a=0;for(let s of e){const e=s.getBoundingClientRect().width;if(a+e-t>2)break;a+=e}return a},next(){const e=this.carousel.offset+this.carousel.pageWidth,t=this.filledWidth([...this.$el.children],e);this.preventScrollDebounce(),this.scrollTo(t)},prev(){const e=Math.ceil(this.carousel.width-(this.carousel.offset-this.carousel.pageWidth)),t=e<this.carousel.width?this.filledWidth([...this.$el.children].reverse(),e):this.carousel.width;this.preventScrollDebounce(),this.scrollTo(this.carousel.width-t)},preventScrollDebounce(){this.smoothScroll||(this.isPreventScrollDebounce=!0)},handleKeypress(e){const{key:t}=e;"ArrowRight"===t&&this.next(),"ArrowLeft"===t&&this.prev()},isTouchScreen:()=>l.d}},u=a(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("IntersectionBoundary",[t("div",{staticClass:"scrollBox-container overflow--avoid-vClip flex flex--grow-1 overflow--scrollX-raw",class:e.classes},[e._t("default")],2)])}),[],!1,null,null,null);t.a=d.exports},561:function(e,t,a){"use strict";var s={components:{CarouselScrollToPage:a(509).h},inject:["carousel"],props:{showArrows:{type:Boolean,default:!0},pagesLength:{type:Number,required:!1}},computed:{pages(){var e;return null!==(e=this.pagesLength)&&void 0!==e?e:this.carousel.pages}}},n=a(44),r=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex boxAlign-ai--all-c"},[e.showArrows?t("CarouselScrollToPage",{attrs:{variant:"tertiary",mode:"default",size:"s",page:e.carousel.page-1}},[t("BaseIcon",{attrs:{name:"left"}})],1):e._e(),t("ol",{staticClass:"overflow--wrap-off lbox--v-2 boxAlign-jc--all-c width--all-12"},e._l(e.pages,(function(a,s){return t("li",{key:s,staticClass:"clickable size--all-s box--all-i space--h-1 space--v-1",attrs:{title:e.$t("Pagina :number",{replaces:{number:s+1}})}},[t("CarouselScrollToPage",{attrs:{page:a,pages:e.pages},scopedSlots:e._u([{key:"default",fn:function({disabled:e}){return[t("span",{staticClass:"dot",class:e?"bg--color-brandPrimary":"bg--color-greyTint"})]}}],null,!0)})],1)})),0),e.showArrows?t("CarouselScrollToPage",{attrs:{variant:"tertiary",mode:"default",size:"s",page:e.carousel.page+1}},[t("BaseIcon",{attrs:{name:"right"}})],1):e._e()],1)}),[],!1,null,null,null);t.a=r.exports},562:function(e,t,a){"use strict";var s=a(3),n=a(86),r=a.n(n),i=a(586),o=a(553),l=(a(570),a(510));const c=(e,t)=>"function"==typeof t?t(e):"string"==typeof e?e:e?e[t]:null;var u={components:{AutoSuggestListResult:o.a,FormInputLabeled:l.i,FormInputIcon:l.h,FormInputButton:l.g},mixins:[i.a],provide:()=>({$showError:()=>!1}),props:{items:{type:[Array,Function],required:!1},itemValue:{type:[String,Function],default:"value"},itemText:{type:[String,Function],default:"text"},loose:{type:Boolean,default:!1},name:{type:String,default:null},disabled:{type:Boolean,default:!1},clearQuery:{type:Boolean,default:!1},noFilter:{type:Boolean,default:!1},loadSuggestionsOnFocus:{type:Boolean,default:!1},closeOnClear:{type:Boolean,default:!1},placeholder:{type:String,default:null},queryPlaceholder:{type:String,default:null},queryValue:{type:String,default:null},clearable:{type:Boolean,default:!1},manualClean:{type:Boolean,default:!1},inputIcon:{type:String,default:"search"},isIconRight:{type:Boolean,default:!1},listIcon:{type:String,default:null},height:{type:String,default:null},inputClasses:{type:String,default:""},tabindex:{type:Number},keepQueryInSearch:{type:Boolean,default:!1}},data(){return{suggestions:Array.isArray(this.items)?this.items:[],query:null,highlighted:null,loading:!1,isFocused:!1,hideResults:!0}},computed:{iconPosition(){return this.isIconRight?"right":"left"},loadSuggestionsDebounced(){return r()(this.loadSuggestions,500)},isInputMode(){return null!==this.query&&this.isFocused},equalisedSuggestions(){return this.isInputMode?this.suggestions.map(this.equalise):[]},filteredSuggestions(){return this.noFilter?this.equalisedSuggestions:this.equalisedSuggestions.filter((e=>e.text.toLowerCase().includes(this.query.toLowerCase())))},equalisedValue(){return this.selectedValue?this.equalise(this.selectedValue):this.query?this.equalise(this.query):{value:"",text:""}},inputModel:{get(){return this.isInputMode?this.query:this.equalisedValue.text},set(e){this.manualClean&&0===e.length&&this.clear(),this.query=e}},showResults(){return this.filteredSuggestions.length&&!this.hideResults},isShowSpinner(){return this.isInputMode&&this.loading||"spinner"===this.inputIcon},searchResultsPageQuery:()=>new URL(document.location).searchParams.get("q")},watch:{showResults(e){this.$emit("show-results",e)},filteredSuggestions(){this.highlighted=null},async query(e){(this.query&&!Array.isArray(this.items)||!this.closeOnClear)&&this.loadSuggestionsDebounced(e)},items(){this.suggestions=Array.isArray(this.items)?this.items:[]}},created(){this.query=this.queryValue||this.searchResultsPageQuery},methods:{equalise(e){return{value:c(e,this.itemValue),text:c(e,this.itemText),original:e}},onBlur(){this.$emit("blur")},onFocus(e){this.$refs.suggestions.addEventListener("touchstart",(()=>e.target.blur()),{passive:!0}),this.loadSuggestionsOnFocus&&this.loadSuggestions(this.query),this.$emit("focus"),this.startInput(),this.hideResults=!1,this.isFocused=!0},startInput(){this.query=this.clearQuery?"":this.equalisedValue.text},endInput(e){this.hideSuggestions(),e.target.blur()},hideSuggestions(e){this.$refs.suggestions.removeEventListener("touchstart",(()=>e.target.blur())),this.hideResults=!0,this.isFocused=!1},clear(){this.query="",this.selectedValue=null,this.closeOnClear&&this.$emit("close-search")},highlight(e){this.highlighted=e},moveHighlight(e){const t=null===this.highlighted?-1:this.filteredSuggestions.indexOf(this.highlighted);if(-1===e&&null===this.highlighted)return;const a=Math.max(0,Math.min(this.filteredSuggestions.length-1,t+e));this.highlight(this.filteredSuggestions[a]),this.scrollToFocus()},isIncluded(e){return this.filteredSuggestions.some((t=>t.value===e.value))},select(e,t){if(!this.loose&&!this.isIncluded(t))return;this.selectedValue=t?t.original:null;const a=this.$refs.suggestions.querySelector("a"),s=this.$refs.suggestions.querySelector("a.autoSuggest-suggestion--selected");if(this.keepQueryInSearch)return this.query=t.original.name,this.hideResults=!0,void this.$refs.input.blur();a||(this.query=null,this.$refs.input.blur()),s&&e instanceof KeyboardEvent&&(e.preventDefault(),s.click())},scrollToFocus(){s.a.scrollTo(this.$refs.suggestions.querySelector(".autoSuggest-suggestion--selected"),this.$refs.suggestions)},async loadSuggestions(e){this.loading=!0;try{this.suggestions=await this.items(e)||[]}catch(e){if(e instanceof Error)throw e}finally{this.loading=!1}}}},d=a(44),p=Object(d.a)(u,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideSuggestions,expression:"hideSuggestions"}],ref:"autoSuggest",staticClass:"autoSuggest dropdown"},[t("FormInputLabeled",{directives:[{name:"track",rawName:"v-track:input.focus",arg:"input",modifiers:{focus:!0}}],ref:"input",attrs:{placeholder:e.isInputMode&&e.queryPlaceholder||e.placeholder,disabled:e.disabled,name:e.name,tabindex:e.tabindex,autocomplete:"off",spellcheck:"false","input-class":`${e.inputClasses} `},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.select(t,e.highlighted||e.equalise(e.query))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.moveHighlight(1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.moveHighlight(-1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.endInput.apply(null,arguments)}],focus:e.onFocus,blur:e.onBlur},scopedSlots:e._u(["left"===e.iconPosition?{key:"prependIcon",fn:function(){return[t("FormInputIcon",{attrs:{name:e.inputIcon,spinner:e.isShowSpinner}})]},proxy:!0}:null,"right"===e.iconPosition?{key:"appendIcon",fn:function(){return[t("FormInputIcon",{attrs:{name:e.inputIcon,spinner:e.isShowSpinner}})]},proxy:!0}:null,{key:"appendButton",fn:function(){return[e.clearable&&e.inputModel&&!e.disabled?t("FormInputButton",{staticClass:"search-clear-button",on:{click:e.clear}}):e._e()]},proxy:!0}],null,!0),model:{value:e.inputModel,callback:function(t){e.inputModel=t},expression:"inputModel"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showResults,expression:"showResults"},{name:"track",rawName:"v-track:autoSuggest",arg:"autoSuggest"}],ref:"suggestions",staticClass:"dropdown-content autoSuggest-suggestionsBox--withShadow autoSuggest-suggestionsBox--open boxSec width--all-12 aGrid-item zIndex--popover",style:{"max-height":e.height}},[e._t("suggestions",(function(){return[t("AutoSuggestListResult",{attrs:{suggestions:e.filteredSuggestions,highlighted:e.highlighted,icon:e.listIcon,modifier:"lBox--v-0 space--v-3 space--h-3"},on:{highlight:e.highlight,select:e.select}})]}),{suggestions:e.filteredSuggestions,highlighted:e.highlighted,icon:e.listIcon,highlight:e.highlight,select:e.select})],2)],1)}),[],!1,null,null,null);t.a=p.exports},563:function(e,t,a){"use strict";var s=a(541),n=a.n(s),r=a(572),i={name:"IntersectionBoundary",provide(){return{intersectionBoundaryKey:this.boundaryName}},props:{viewport:{type:Boolean,default:!1},name:{type:[String,null],default:null},rootMargin:{type:String,default:"0px"},threshold:{type:[Number,Array],default:0}},created(){this.boundaryName=this.name||n()("boundary"),this.observer=null,this.deferredTargetRegistrations=[],r.a.add(this.boundaryName,{register:this.register,remove:this.remove})},destroyed(){r.a.remove(this.boundaryName)},mounted(){const e={root:this.viewport?null:this.$slots.default[0].elm,rootMargin:this.rootMargin,threshold:this.threshold};this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.target.__observer[e.isIntersecting?"on":"off"]()}))}),e),this.deferredTargetRegistrations.forEach((e=>e()))},methods:{register(e){const t=this.cmpntElm(e);t.__observer={on:e.on,off:e.off},this.registerTarget((()=>this.observer.observe(t)))},registerTarget(e){return this.observer?e():this.deferredTargetRegistrations.push(e)},remove(e){this.observer.unobserve(this.cmpntElm(e))},cmpntElm:e=>e.$slots.default[0].elm},render(){return this.$slots.default?this.$slots.default[0]:null}},o=a(44),l=Object(o.a)(i,undefined,undefined,!1,null,null,null);t.a=l.exports},564:function(e,t,a){"use strict";var s=a(522);const n={xs:{"1x":[["fi",30,30],["ft","jpg"],["qt",80]],"2x":[["fi",96,96],["ft","jpg"],["qt",45]]},s:{"1x":[["fi",60,60],["ft","jpg"],["qt",45]],"2x":[["fi",96,96],["ft","jpg"],["qt",45]]},m:{"1x":[["fi",60,60],["ft","jpg"],["qt",45]],"2x":[["fi",96,96],["ft","jpg"],["qt",45]]},l:{"1x":[["fi",60,60],["ft","jpg"],["qt",45]],"2x":[["fi",96,96],["ft","jpg"],["qt",45]]},xl:{"1x":[["fi",96,96],["ft","jpg"],["qt",45]],"2x":[["fi",192,192],["ft","jpg"],["qt",45]]},default:"/assets/img/profile-placeholder_09382.png"};var r={props:{user:{type:Object,required:!0},size:{validator:e=>["xs","s","m","l","xl"].includes(e),default:"s"}},computed:{avatarSrc(){return this.user.avatar?new s.a(this.user.avatar).apply(n[this.size]["1x"]).toString():n.default},avatarSrc2x(){return this.user.avatar?new s.a(this.user.avatar).apply(n[this.size]["2x"]).toString():n.default}}},i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("img",{class:`img--type-entity img--square-${e.size}`,attrs:{src:e.avatarSrc,srcset:`${e.avatarSrc2x} 2x`,alt:e.user.username}})}),[],!1,null,null,null);t.a=o.exports},565:function(e,t,a){"use strict";a.d(t,"o",(function(){return u})),a.d(t,"p",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return v})),a.d(t,"i",(function(){return g})),a.d(t,"c",(function(){return b})),a.d(t,"j",(function(){return y})),a.d(t,"k",(function(){return _})),a.d(t,"n",(function(){return x})),a.d(t,"l",(function(){return w})),a.d(t,"m",(function(){return C})),a.d(t,"h",(function(){return k})),a.d(t,"e",(function(){return O}));var s=a(643),n=a(1),r=a(6);const i={startWithProtocol:["^","(?:(?:(?:https?):)?\\/\\/)"],makeProtocolOptional:["?"],continue:["(?:\\S+(?::\\S*)?@)?","(?:","(?!(?:10|127)(?:\\.\\d{1,3}){3})","(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})","(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})","(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])","(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}","(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))","|","(?:","(?:","[a-z0-9\\p{L}]","[a-z0-9\\p{L}-]{0,62}",")?","[a-z0-9\\p{L}]\\.",")+","(?:[a-z\\p{L}]{2,}\\.?)",")","(?::\\d{2,5})?","(?:[/?#]\\S*)?","$"]};var o=a(5),l=a(580);const c=function(e,t,a,n){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"value";return s.b.withParams({type:t,validationData:{},field:e},(async t=>{if(i&&Object(s.d)(t))return!0;const l={remote:!0,messages:[],valid:!0};try{var c;l._data=await Object(r.b)({req:a,params:{field:e,[o]:t,validations:n}}).request,l.messages=null!==(c=l._data.validation)&&void 0!==c?c:[],l.valid=0===l.messages.length}catch(e){l.messages=e.validation,l.valid=!1}return l}))},u=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c(e,"validRemoteField",n.md,a,t)},d=e=>s.b.withParams({type:"validRemoteFields",validationData:{},fields:e},(async()=>{const t={remote:!0,multiple:!0,messages:[],valid:!0};try{var a;t._data=await Object(r.b)({req:n.nd,params:{fields:e}}).request,t.messages=null!==(a=t._data.validation)&&void 0!==a?a:[],t.valid=0===t.messages.length}catch(e){t.messages=e.validation,t.valid=!1}return t})),p=(e,t,a)=>s.b.withParams({type:"betweenNumeric",validationData:Object.assign({min:e,max:t},a)},(a=>Object(s.a)(a)||a>=e&&a<=t)),h=(e,t,a)=>s.b.withParams({type:"betweenString",validationData:Object.assign({min:e,max:t},a)},(a=>Object(s.d)(a)||"string"==typeof a&&a.length>=e&&a.length<=t)),m=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return s.b.withParams({type:"maxArray",validationData:Object.assign({max:e},t)},(t=>{const n=a?t.filter(a):t;return Object(s.c)(n)||Array.isArray(n)&&n.length<=e}))},f=(e,t)=>s.b.withParams({type:"maxString",validationData:Object.assign({max:e},t)},(t=>Object(s.d)(t)||"string"==typeof t&&t.length<=e)),v=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return s.b.withParams({type:"minArray",validationData:Object.assign({min:e},t)},(t=>{const n=a?t.filter(a):t;return Object(s.c)(n)||Array.isArray(n)&&n.length>=e}))},g=(e,t)=>s.b.withParams({type:"minNumeric",validationData:Object.assign({min:e},t)},(t=>Object(s.a)(t)||"number"==typeof t&&t>=Object(o.unref)(e))),b=e=>s.b.withParams({type:"localNumeric",validationData:Object.assign({},e)},(e=>Object(s.a)(e)||/^[0-9,. ]+$/.test(e))),y=e=>s.b.withParams({type:"required",validationData:Object.assign({},e)},s.b.req),_=(e,t)=>s.b.withParams({type:"required",validationData:Object.assign({},t)},(t=>{let a=!1;if("function"==typeof e)a=e.call(void 0,t);else{const t=Object(o.unref)(e);a=t&&0!==t}return!a||s.b.req(t)})),x=(e,t)=>s.b.withParams({type:"url",validationData:Object.assign({},t)},(t=>Object(s.d)(t)||"string"==typeof t&&function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new RegExp(i.startWithProtocol.concat(e?i.makeProtocolOptional:[]).concat(i.continue).join(""),"iu")}(e).test(t))),w=e=>s.b.withParams({type:"sameOriginUrl",validationData:Object.assign({},e)},(e=>Object(s.d)(e)||"string"==typeof e&&new URL(e).origin===window.location.origin)),C=(e,t)=>s.b.withParams({type:"treeSelectRequiredWith",validationData:Object.assign({},t)},(t=>{const a=Object(l.a)(t);return!Object(o.unref)(e)||a.length>0})),k=(e,t)=>s.b.withParams({type:"minDatetime",validationData:Object.assign({minDate:e},t)},(t=>{var a;const n=null===(a=Object(o.unref)(e))||void 0===a?void 0:a.timestamp;return Object(s.a)(t.timestamp)||Object(s.a)(n)||t.timestamp>=n})),O=(e,t)=>s.b.withParams({type:"maxDatetime",validationData:Object.assign({maxDate:e},t)},(t=>{var a;const n=null===(a=Object(o.unref)(e))||void 0===a?void 0:a.timestamp;return Object(s.a)(t.timestamp)||t.timestamp<=n}))},567:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l}));var s=a(681),n=a.n(s);const r=e=>e.files&&e.files.length?n()(e.files):null,i=6144,o=e=>e.size>6291456,l=e=>{const t=new Image;return new Promise(((a,s)=>{t.addEventListener("load",(()=>{a({width:t.naturalWidth,height:t.naturalHeight})})),t.addEventListener("error",s),t.src=e}))}},569:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(55);function n(){Object(s.b)("event","page_view")}},570:function(e,t,a){"use strict";var s=a(5),n=a(16);s.default.directive("click-outside",{bind(e,t,a){const s=a.context,{handler:r,isActive:i}=function(e){const t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,isActive:!(!1===e.isActive)}}(t.value);i&&(e.clickOutsideEvent=function(t){Object(n.b)(e,t.target)&&r.call(s,t)},document.body.addEventListener("mousedown",e.clickOutsideEvent))},unbind(e){document.body.removeEventListener("mousedown",e.clickOutsideEvent)}})},572:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const s={data:{},add(e,t){this.data[e]||(this.data[e]=Object.assign({},t,{connections:0})),this.data[e].connections++},remove(e){this.data[e].connections--,0===this.data[e].connections&&delete this.data[e]},get(e){return this.data[e]}},n=Object.assign({},s)},573:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(17);const n=(e,t)=>({name:"search",params:t?{type:s.n[t]}:void 0,query:{"merchant-id":e.merchantId}})},574:function(e,t,a){"use strict";(function(e){var s=a(17);t.a={props:{thread:{type:Object,required:!0}},computed:{priceDiscountLabel(){return this.thread.priceDiscount?e(":discount%",{replaces:{discount:this.thread.priceDiscount}}):null},isVoucherFreeShipping(){return this.thread.discountType===s.b},priceLabel(){return this.thread.price?this.thread.displayPrice:this.thread.nextBestPrice?"GRATUITO":this.thread.discountType?this.thread.displayPrice:null}}}}).call(this,a(70).translation)},575:function(e,t,a){"use strict";var s=a(539);a.d(t,"a",(function(){return s.a}));var n=a(520);a.d(t,"e",(function(){return n.a}));var r=a(518);a.d(t,"b",(function(){return r.a}));var i=a(525);a.d(t,"d",(function(){return i.a}));var o=a(513);a.d(t,"c",(function(){return o.a}));a(521)},576:function(e,t,a){"use strict";var s=a(87),n={name:"TreeSelectItem",inheritAttrs:!1,model:{event:"update"},props:{value:{type:Object,default:()=>({})},path:{type:String,default:""},depth:{type:Number,default:0},checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},classList:{type:Object,default:()=>({})},updateTree:{type:Function,required:!0},filteredTree:{type:Object,default:()=>({})}},computed:{treeItem(){return this.filteredTree},checkboxLabel(){return"".concat(this.treeItem.name," ").concat(this.treeItem.localRegionId?"(".concat(this.treeItem.localRegionId,")"):"")},depthClass(){return this.depth>2?"iGrid-item--push-l".concat(this.depth-2):""}},methods:{toggleCheckbox(){this.updateTree(this.path,Object.assign({},this.value,{checked:!this.value.checked}))},getChildPath(e){if(""===this.path){const t=this.value.items.findIndex((t=>t.id===e));return"items.".concat(t)}const t=this.path.replace(/\.\d+$/,""),a=Object(s.c)(this.value)(t).findIndex((t=>t.id===e));return"".concat(this.path,".items.").concat(a)},getChildValue(e){return this.value.items.find((t=>t.id===e))}}},r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("div",{class:{"boxSec-div space--mb-2":1===e.depth,"space--l-10p":2===e.depth}},[t("label",{staticClass:"checkbox checkbox--display-block width--all-12 space--h-3 aGrid",class:[e.depthClass,e.classList.modifier,{"space--v-3":0===e.depth,"space--t-3 space--b-2":1===e.depth,"space--v-2":2===e.depth}]},[t("input",e._g(e._b({staticClass:"input checkbox-input",attrs:{disabled:e.disabled,type:"checkbox"},domProps:{value:e.treeItem.id,checked:e.checked||e.treeItem.checked},on:{click:e.toggleCheckbox}},"input",e.$attrs,!1),e.$listeners)),t("span",{staticClass:"tGrid-cell tGrid-cell--shrink"},[t("span",{staticClass:"checkbox-box flex--inline boxAlign-jc--all-c boxAlign-ai--all-c"},[t("BaseIcon",{staticClass:"checkbox-tick",attrs:{name:"tick",color:"brandPrimary"}})],1)]),t("span",{staticClass:"checkbox-text tGrid-cell space--l-2"},[e._v(e._s(e.checkboxLabel))])]),e.treeItem.items?e._l(e.treeItem.items,(function(a,s){return t("TreeSelectItem",{key:a.id,attrs:{value:e.getChildValue(a.id),"update-tree":e.updateTree,path:e.getChildPath(a.id),checked:e.checked||e.treeItem.checked,disabled:e.disabled||e.treeItem.checked,depth:e.depth+1,"class-list":e.classList,"filtered-tree":e.filteredTree.items[s]}})})):e._e()],2)}),[],!1,null,null,null).exports,o=a(519),l=a(510),c=a(580),u=a(86),d=a.n(u),p={components:{TreeSelectItem:i,FormInputAdditionBox:l.f,FormInputButton:l.g,FormInputLabeled:l.i},mixins:[o.b],props:{value:{type:Object,default:()=>({})},name:{type:String,default:""},nodes:{type:Array,default:()=>[]},separator:{type:String,default:"\\"},classList:{type:Object,default:()=>({})},hasError:{type:Boolean,default:!1},hasFilter:{type:Boolean,default:!1}},data:()=>({selectedIds:[],treeData:{},filteredTree:{},query:""}),computed:{displayLabel(){const e=this.updateLabels(this.value);return e.labels.length?e.labels.sort(((e,t)=>e[1]-t[1])).map((t=>{let[a,s]=t;const n=e.selected[s];return"".concat(n?n+" ":"").concat(a)})).join(" ".concat(this.separator," ")):this.placeholder},isDefaultLabel(){return this.placeholder===this.displayLabel},treeValues(){return this.hasFilter?this.filteredTree:this.value}},watch:{value:{handler(e){this.treeData=Object.assign({},e),this.selectedIds=Object(c.a)(e),this.hasFilter&&this.filterTree()},deep:!0,immediate:!0},expanded:{handler(e){e||(this.query="")}},query:d()((function(){this.toggleFirstNode(),this.filterTree()}),300)},created(){this.normalizeInitialValues(),this.hasFilter&&(this.filteredTree=this.value)},methods:{updateParent(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\.\d+$/,"");let t=e.replace(/\.items$/,"");const a=Object(s.c)(this.treeData)(e);if(!a.some((e=>!e.checked))){a.map((e=>e.checked=!1)),Object(s.b)(this.treeData,{path:e,value:a});const n=Object(s.c)(this.treeData)(t);t===e?this.treeData=Object.assign({},this.treeData,{items:n,checked:!0}):(Object(s.b)(this.treeData,{path:t,value:Object.assign({},n,{checked:!0})}),this.updateParent(t))}},updateTree(e,t){let a=t;if(t.checked&&(a=this.clearNode(t,!1)),e)return Object(s.b)(this.treeData,{path:e,value:a}),this.updateParent(e),void this.$emit("update",this.treeData);this.$emit("update",a)},updateLabels(e){let{labels:t=[],depth:a=0,selected:s={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.nodes[a];return 0===a&&e.checked?{labels:[[n,a]],depth:a,selected:s}:e.checked?(s[a]=(s[a]||0)+1,t.findIndex((e=>{let[t,s]=e;return t===n&&s===a}))<0&&t.push([n,a]),{labels:t,depth:a,selected:s}):(e.items&&e.items.map((e=>this.updateLabels(e,{labels:t,depth:a+1,selected:s}))),{labels:t,depth:a,selected:s})},filterTree(){this.filteredTree=this.filterNode(this.value),this.$emit("search",!this.filteredTree)},filterNode(e){var t;const a=e.items?e.items.map(this.filterNode).filter(Boolean):null,s=this.query.toLowerCase();return e.name.toLowerCase().includes(s)||null!==(t=e.localRegionId)&&void 0!==t&&t.includes(s)||a&&a.length?Object.assign({},e,{items:a}):null},clearSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=null===e;e=e||this.value;const a=Object.assign({},e,{checked:!1,items:e.items?e.items.map((e=>this.clearSelection(e))):null});return t&&this.updateTree("",a),a},toggleFirstNode(){this.query&&this.value.checked?this.changeFirstNode(!1):this.query||this.isAnyNodeChecked(this.value)||this.changeFirstNode(!0)},changeFirstNode(e){this.updateTree("",Object.assign({},this.value,{checked:e}))},isAnyNodeChecked(e){return e.checked||e.items&&e.items.some(this.isAnyNodeChecked)},normalizeInitialValues(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTree("",this.normalizeNode(this.value,e))},normalizeNode(e,t){var a,s;const n=null===(a=e.items)||void 0===a?void 0:a.every((e=>e.checked));return Object.assign({},e,{checked:!t&&e.checked,items:null===(s=e.items)||void 0===s?void 0:s.map((e=>this.normalizeNode(e,n)))})},clearNode(e,t){var a;return Object.assign({},e,{checked:!t&&e.checked,items:null===(a=e.items)||void 0===a?void 0:a.map((e=>this.clearNode(e,!0)))})},isSelected(e){var t;return!!e.checked||(null===(t=e.items)||void 0===t?void 0:t.some((e=>{var t;return!!e.checked||(null!==(t=e.items)&&void 0!==t&&t.length?this.isSelected(e):void 0)})))},openTree(){this.toggleLayer(),this.hasFilter&&this.$nextTick((()=>{this.$refs.searchInput.focus()}))}}},h=p,m=Object(r.a)(h,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.expandLayer,expression:"expandLayer"}],staticClass:"multiSelect dropdown aGrid width--all-12"},[t("span",{staticClass:"input-wrapper flex aGrid"},[e.name?t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.selectedIds}}):e._e(),e.hasFilter&&e.expanded?t("FormInputLabeled",{ref:"searchInput",staticClass:"width--all-12",attrs:{autocomplete:"off",spellcheck:"false"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}):[t("FormInputAdditionBox",{attrs:{right:""}},[e.isSelected(e.value)?t("FormInputButton",{attrs:{icon:"cross"},on:{click:e.clearSelection}}):e._e()],1),t("span",{staticClass:"input clickable width--all-12",class:{"input--focus":e.expanded,"input--mode-error":e.hasError},on:{click:e.openTree}},[t("span",{staticClass:"boxAlign-jc--all-sb flex boxAlign-ai--all-c height--all-full"},[t("span",{staticClass:"input-label size--all-s",class:{"mute--text":e.isDefaultLabel}},[e._v(" "+e._s(e.displayLabel)+" ")])])])]],2),t("div",{staticClass:"dropdown-content zIndex--popover overflow--scrollY",class:{hide:!e.expanded}},[e.treeValues?t("TreeSelectItem",{attrs:{value:e.value,"update-tree":e.updateTree,"class-list":e.classList,"filtered-tree":e.treeValues}}):e._e()],1)])}),[],!1,null,null,null);t.a=m.exports},577:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(5);const n=function(){let{eventListenerOptions:e={passive:!0},element:t=document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Date.now(),n=0;const r=Object(s.ref)(0),i=Object(s.ref)("down"),o=Object(s.ref)(0);return((e,t,a,n)=>{Object(s.onMounted)((()=>e.addEventListener(t,a,n))),Object(s.onBeforeUnmount)((()=>e.removeEventListener(t,a,n)))})(t,"scroll",(function(){const e=Date.now(),s=e-a;o.value=(t===document?document.documentElement:t).scrollTop;const l=o.value-n;r.value=1e3*Math.abs(l/s),i.value=o.value>n?"down":"up",n=o.value,a=e}),e),{speed:r,top:o,direction:i}}},578:function(e,t,a){"use strict";a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return g})),a.d(t,"h",(function(){return b})),a.d(t,"b",(function(){return y}));var s,n=a(135),r=a.n(n),i=a(8),o=a.n(i),l=a(20),c=a(6),u=a(1);const d={getSuggestions:"/search/users",getProfile:(e,t)=>Object(l.b)(s||(s=r()(["/profile/","/","?"])),e,t),profileRedirect:"/profile/prg",postSocialTerms:e=>"user/social/provider/".concat(e,"/terms")},p=(e,t,a)=>o.a.post(d.postSocialTerms(e),{username:a,termsConditionsAndPrivacy:t?"on":"off"}),h=e=>Object(c.a)({req:u.kd,params:{id:e}}).then((e=>{let{user:t}=e;return(null==t?void 0:t.lastAddress)||null})),m=()=>Object(c.a)({req:u.oc}).then((e=>e.infractions)),f=(e,t)=>Object(c.a)({req:u.nc,params:{typeId:e,placeholder:t}}).then((e=>e.infraction)),v=e=>Object(c.a)({req:u.jd,params:{id:e}}).then((e=>e.user.infractions.points.active)),g=e=>Object(c.a)({req:u.mc,params:{infraction:e}}),b=()=>Object(c.a)({req:u.Oc}).then((e=>e.resentEmailConfirmationToCurrentUser.result)),y=(e,t)=>Object(c.a)({req:u.fc,params:{userId:e,follow:t}}).then((e=>{let{followUser:t}=e;return t.follow}))},579:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o.a})),a.d(t,"d",(function(){return l.a})),a.d(t,"b",(function(){return u}));var s=a(538),n={components:{CloakLink:a(515).a},props:{user:{type:Object,required:!0}},computed:{userName(){return Object(s.f)(this.user)},hasProfile(){return Object(s.b)(this.user)||this.user&&!this.user.isDeletedOrPendingDeletion&&!this.user.isUserProfileHidden}}},r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return e.hasProfile?t("CloakLink",{attrs:{to:{name:"user.profile.overview",params:{username:e.user.username}}}},[t("span",{staticClass:"flex boxAlign-ai--all-c"},[e._t("default",(function(){return[e._v(e._s(e.userName))]}),null,{userName:e.userName})],2)]):t("span",e._b({staticClass:"user text--color-grey"},"span",e.$attrs,!1),[e._t("default",(function(){return[e._v(e._s(e.userName))]}),null,{userName:e.userName})],2)}),[],!1,null,null,null).exports,o=a(531),l=a(530),c=a(548).a,u=Object(r.a)(c,(function(){var e=this,t=e._self._c;return e.badge?t("img",{staticClass:"avatar-topBadge aGrid-item aGrid-item--r-0 aGrid-item--b-0",attrs:{src:e.image,title:e.title}}):e._e()}),[],!1,null,null,null).exports},580:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=e=>{const t=[];return function e(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!a)return;if(a.checked)return void t.push(a.id);if(!a.items)return;a.items.map(e)}(e),t}},585:function(e,t,a){"use strict";var s=a(44),n=Object(s.a)({},(function(){var e=this._self._c;return e("span",{staticClass:"text--color-white height--all-full width--all-12 bRad--all-r imgFrame-overlay imgFrame-overlay--nsfw flex boxAlign-jc--all-c boxAlign-ai--all-c"},[e("BaseIcon",{attrs:{name:"hide"}})],1)}),[],!1,null,null,null);t.a=n.exports},586:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s={model:{event:"update"},props:["value"],computed:{selectedValue:{get(){return this.value},set(e){this.$emit("update",e)}}}}},588:function(e,t,a){"use strict";var s=a(677),n=a.n(s);const r={default:()=>a.e(203).then(a.bind(null,1271)),soft:()=>a.e(208).then(a.bind(null,1272)),admin:()=>a.e(202).then(a.bind(null,1270))};var i={components:r,inheritAttrs:!1,model:{event:"update"},props:{value:{type:Array,default:()=>[]},target:{type:String,default:""}},computed:{groupedNotifications(){return n()(this.notifications,(e=>e.context||"default"))},notificatonsByContext(){return e=this.groupedNotifications,Object.keys(e).map((t=>({context:t,messages:e[t]})));var e},notifications:{get(){return this.value},set(e){this.$emit("update",e)}}},methods:{contextComponent:e=>(e=e.replace(":",""))in r?e:"default",updateNotifications(e,t){var a;this.groupedNotifications[e]=t,this.notifications=(a=this.groupedNotifications,[].concat(...Object.values(a)))}}},o=a(44),l={components:{NotificationMessages:Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",e._l(e.notificatonsByContext,(function(a){return t(e.contextComponent(a.context),{key:a.context,tag:"Component",attrs:{messages:a.messages},on:{"update-messages":function(t){return e.updateNotifications(a.context,t)}}})})),1)}),[],!1,null,null,null).exports},computed:{notifications:{get(){return this.$store.state.pageMsgs.messages},set(e){return this.$store.dispatch("pageMsgs/set",e)}}}},c=Object(o.a)(l,(function(){var e=this;return(0,e._self._c)("NotificationMessages",{model:{value:e.notifications,callback:function(t){e.notifications=t},expression:"notifications"}})}),[],!1,null,null,null);t.a=c.exports},589:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var s=a(17);const n=(e,t,a,n)=>e?"inactive":t?"inert":n?s.i[n]:a<0?"cold":a>0?"warm":"inert",r=e=>{if("number"!=typeof e)return"—";const t=e<0?Math.ceil(e):Math.floor(e);return"".concat(t,"°")}},590:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return _}));var s=a(32),n=a.n(s),r=a(10),i=a.n(r),o=a(11),l=a.n(o),c=a(5);a(668);const u=(e,t)=>{const a=Object.assign({},t.validationData,{attribute:t.attribute});return e.replace(/:(\w+)/gi,(e=>a[e.substring(1)]||""))},d=(e,t)=>{const{translation:a}=t.validationData;return u(a||h[e]||m[e],t)},p="Controlla di avere inserito data e ora o che il formato sia corretto.",h={},m={accepted:":attribute deve essere accettato.",alpha:":attribute può contenere solo lettere.",alphaDash:":attribute può contenere solo lettere e numeri e trattini.",alphaNum:":attribute può contenere solo lettere e numeri.",array:":attribute deve essere un array.",betweenArray:":attribute deve contenere tra :min e :max elementi.",betweenNumeric:":attribute deve essere tra :min e :max.",betweenString:":attribute deve avere tra :min e :max caratteri.",different:":attribute e :other devono essere diversi.",digits:":attribute deve avere :digits cifre.",digitsBetween:":attribute deve avere tra :min e :max numeri.",email:"Inserisci un indirizzo email valido.",inArray:"L':attribute selezionato non è valido.",integer:":attribute deve essere un intero.",maxArray:":attribute non può avere più di :max elementi.",maxNumeric:":attribute non può superare :max.",maxString:":attribute non può superare i :max caratteri.",maxFile:":attribute non può superare :max kilobyte.",minArray:":attribute deve avere almeno :min elementi.",minNumeric:":attribute deve essere almeno :min.",minString:":attribute deve avere almeno :min caratteri.",notInArray:"L':attribute selezionato non è valido.",numeric:":attribute deve essere un numero.",localNumeric:"Questo campo deve contenere solo numeri, virgole e punti.",regex:"Il formato di :attribute non è valido.",required:"Questo campo è obbligatorio.",same:":attribute e :other devono corrispondere.",sizeArray:":attribute deve contenere :size elementi.",sizeNumeric:":attributo deve essere :size",sizeString:":attribute deve avere :size caratteri.",url:"Il formato di :attribute non è valido.",sameOriginUrl:"Il link fornito deve provenire da Pepper Italy.",minDatetime:p,maxDatetime:p},f=["valid","remote","multiple","messages"],v=e=>e.reduce(((e,t)=>[...e,...t.translations.map((e=>{let{body:t}=e;return{text:t}}))]),[]),g=(e,t)=>t.reduce(((e,t)=>{const a=e[t.path]||[];return e[t.path]=[...a,...t.translations.map((e=>{let{body:t}=e;return{text:t}}))],e}),e);let b=function(){function e(t){i()(this,e),this._validators={},this.error={},this.anyError=!1,this.messages={},this.check=this.check.bind(this),this.clear=this.clear.bind(this),this.invalid=this.invalid.bind(this),this.validate=this.validate.bind(this),this.resolve={},this.setup(t)}return l()(e,[{key:"setup",value:function(e){Object.keys(this._validators).forEach((t=>{t in e||(delete this._validators[t],delete this.error[t],delete this.messages[t])}));for(const[t,a]of Object.entries(e))this.set(t,a),t in this.messages||this.clear(t);this.check()}},{key:"destroy",value:function(){this.resolve={}}},{key:"errors",value:function(e){return this.messages[e]||[]}},{key:"invalid",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.error[e]:Object.keys(this.messages).some(this.invalid)}},{key:"clear",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return c.default.set(this.error,e,!1),void c.default.set(this.messages,e,[]);Object.keys(this.messages).map(this.clear)}},{key:"add",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[e]=t.reduce(((t,a)=>(t.indexOf(a)<0&&(t.push(a),this.clear(e)),t)),this._validators[e]||[])}},{key:"set",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[e]=t}},{key:"check",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.error[e]=!!this.errors(e).length:this.anyError=!!Object.keys(this.messages).filter(this.check).length}},{key:"resolvePending",value:function(e){var t,a;null===(t=(a=this.resolve)[e])||void 0===t||t.call(a),delete this.resolve[e]}},{key:"hasValidator",value:function(e){return e in this._validators}},{key:"setMessages",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.hasValidator(e)&&(this.messages[e].splice(0,this.messages[e].length,...t),this.check())}},{key:"validate",value:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var s=arguments.length,r=new Array(s>3?s-3:0),i=3;i<s;i++)r[i-3]=arguments[i];this.clear(e),this.hasValidator(e)&&(this.resolvePending(e),await new Promise((async s=>{this.resolve[e]=s;for(const s of this._validators[e]){let i=await s(t,...r),{valid:o,remote:l,multiple:c,messages:p}=i,h=n()(i,f);if(!o){if(Array.isArray(p))l&&c?this.messages=g(this.messages,p):(p=l?v(p):p.map((e=>({text:e}))),this.messages[e].push(...p));else{const t=Object.assign({attribute:e},h);this.messages[e].push({text:a?u(a,t):d(h.type,t)})}break}}this.resolvePending(e)})),this.check(e))}}]),e}();const y={data(){return this.$options.validations&&c.default.util.defineReactive(this,"_validate",null),{}},beforeCreate(){const e=this.$options,t=e.validations;t&&(e.computed||(e.computed={}),e.computed.$validators||(e.computed.$validators="function"==typeof t?t:function(){return t},e.computed.$v||(e.computed.$v=function(){return null===this._validate&&(this._validate=new b("function"==typeof t?t.call(this):t),this.$once("hook:beforeDestroy",this.$watch("$validators",(e=>{this._validate.setup(e)})))),this._validate?this._validate:null})))},beforeDestroy(){this._validate&&(this._validate.destroy(),this._validate=null)},provide(){return{$v:this.$v}}},_=e=>{if(!e)return;const t=Object(c.ref)(new b(e));return Object(c.provide)("$v",t.value),Object(c.onBeforeUnmount)((()=>{t.value.destroy(),t.value=null})),t}},591:function(e,t,a){"use strict";var s=a(522),n=a(106),r=a(17),i=a(589),o=a(610);t.a={props:{imageVariant:{type:Array,default:()=>[["re",100,100],["ft","jpg"],["qt",60]]},merchantAvatarVariant:{type:Object,default:()=>({slot:"avatar",variant:"avatar_app_square_32_2x"})}},computed:{defaultSrc(){return Object(o.a)(this.thread.threadTypeId)},threadPicsyImg(){return new s.a(this.thread.mainImage)},threadImgSrc(){let e=this.threadPicsyImg.apply(this.imageVariant).toString();return!e&&Object(r.y)(this.thread.threadTypeId)&&(e=this.threadMerchantLogoSrc),e||this.defaultSrc},threadMerchantLogoSrc(){return this.thread.merchant?Object(n.b)(this.thread.merchant.imageUrls,this.merchantAvatarVariant.slot,this.merchantAvatarVariant.variant):null},temperatureLabel(){return Object(i.a)(this.thread.temperature)},temperatureClass(){return"vote-temp--".concat(Object(i.b)(!1,!1,this.thread.temperature,this.thread.temperatureLevel))}}}},596:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(6),n=a(1);function r(){return Object(s.c)({queries:[n.p],merge:!0})({}).then((e=>e.request)).then((e=>e.features.cookiePolicy))}},597:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var s=a(6),n=a(1);const r=Object(s.c)({queries:[n.P],merge:!0}),i=()=>r({}).then((e=>e.request)).then((e=>e.latestSiteMessage));function o(e){return Object(s.a)({req:n.ac,params:{siteMessageId:e}}).then((()=>null))}},598:function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return{params:Object.keys(e).reduce(((a,s)=>(t.push(s),a[s]=JSON.stringify(e[s]),a)),{}),handlers:t.join(" ")}};t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{computed:{$d(){return s(Object.assign({},e,this.$directives||{}))}}}}},599:function(e,t,a){"use strict";var s=a(104),n={inheritAttrs:!1,props:{guard:{type:Object,default:null}},computed:{showLink(){return!this.guard||this.$store.getters["auth/loggedIn"]}},methods:{prompt(){Object(s.b)(this.guard).catch((()=>null))}}},r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return e.showLink?t("RouterLink",e._g(e._b({},"RouterLink",e.$attrs,!1),e.$listeners),[e._t("default")],2):t("button",{attrs:{type:"button"},on:{click:e.prompt}},[e._t("default")],2)}),[],!1,null,null,null);t.a=i.exports},600:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(514);const n=()=>({isMagazineEnabled:false,magazineUrl:Object(s.b)().resolve({name:"magazine"}).href})},601:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return f}));var s=a(5),n=a(14);const r="enabled",i="disabled",o="enabling",l="disabling",c="letItSnow-layer--visible",u=Object(s.ref)(i),d="snow",p=()=>{if(u.value===r)return;const e=new n.a(d),{value:t}=e.get();u.value=null!=t?t:i,u.value===r&&m(o)},h=e=>{if(![i,r].includes(e))return;u.value=e;new n.a(d).set({value:u.value})},m=async e=>{const{default:t}=await a.e(170).then(a.bind(null,707));if(u.value=e,e===o)return t.setSnowImage("/assets/img/seasonal/snowflake-blur_e25bb.png"),t.letItSnow("letItSnow-layer"),t.container.classList.add(c),void h(r);t.container.classList.remove(c),setTimeout((()=>{t.stopTheSnow(),h(i)}),3e3)},f=()=>{u.value===r&&m(l),u.value===i&&m(o)}},602:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var s=a(49),n=a(21);const{enabled:r,library:i,endpoint:o,platformId:l}={enabled:!0,platformId:"9a4e68aa2f664528a1494fef86981382",endpoint:"https://mega.pepper.it/megatron-mgt/h",library:"https://mega.pepper.it/megatron.js"};let c=null;function u(){d(),Object(n.h)(d)}function d(){var e;!function(){if(!p())return;e=window,t=document,a="script",n=i,r="mt",u=o,e.megatronObj={name:r},e[r]=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];(e[r].q=e[r].q||[]).push(a)},e[r].d=u,d=t.createElement(a),h=t.getElementsByTagName(a)[0],d.async=!0,d.src=n,h.parentNode.insertBefore(d,h),c=e[r],c("set","platformID",l),c("set","businessModel","Communities"),c("set","isCookieEnabled",!1),c("set","customerHash",Object(s.c)());var e,t,a,n,r,u,d,h}(),null===(e=c)||void 0===e||e("send","pageview")}const p=()=>r&&!c&&Object(s.a)()&&Object(s.c)()},604:function(e,t,a){"use strict";var s={components:{AutoSuggestListResult:a(553).a},props:{showDivider:{type:Boolean,required:!1},getGroup:{type:Function,required:!0},getTitle:{type:Function,required:!0},suggestions:{type:Array,required:!0},highlighted:{type:Object,default:null},highlight:{type:Function,required:!0},select:{type:Function,required:!0}},computed:{groups(){return this.suggestions.reduce(((e,t)=>{const a=this.getGroup(t);return a in e?e[a].suggestions.push(t):e[a]={suggestions:[t],title:this.getTitle(a)},e}),{})}},methods:{checkIsDividerShown(e){return void 0!==this.showDivider?this.showDivider:0!==e}}},n=a(44),r=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",e._l(e.groups,(function(a,s,n){return t("div",{key:s,staticClass:"size--all-s",class:{"boxSec-div":e.checkIsDividerShown(n)}},[t("div",{staticClass:"flex width--all-12"},[a.title?t("h3",{staticClass:"space--t-3 space--b-2 space--l-3 text--color-charcoalTint text--b"},[e._t("search-results-group-title",(function(){return[e._v(" "+e._s(a.title)+" ")]}))],2):e._e(),t("span",{staticClass:"space--t-3 space--b-2 space--l-2 space--r-3 space--ml-a text--color-brandPrimary text--b hide--empty"},[e._t("search-results-group-see-more-btn",null,{groupKey:s})],2)]),t("AutoSuggestListResult",{attrs:{suggestions:a.suggestions,highlighted:e.highlighted},on:{highlight:e.highlight,select:e.select},scopedSlots:e._u([{key:"default",fn:function({suggestion:a,isHighlighted:n}){return[e._t("default",(function(){return[t("div",{staticClass:"autoSuggest-suggestion space--v-2 space--h-3 clickable text--b",class:{"autoSuggest-suggestion--selected":n}},[t("span",{staticClass:"lbox--v-2"},["query"===s?t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"search"}}):e._e(),e._v(" "+e._s(a.text)+" ")],1)])]}),{suggestion:a,isHighlighted:n,type:"groupKey"})]}}],null,!0)})],1)})),0)}),[],!1,null,null,null);t.a=r.exports},605:function(e,t,a){"use strict";var s={props:{t:String,tag:{type:String,default:"div"}},render(e){const t=Object.keys(this.$slots).map((e=>":".concat(e))).join("|"),a=new RegExp("(".concat(t,")"),"g");return e(this.tag,this.t.split(a).map((e=>e.startsWith(":")?this.$slots[e.slice(1)]:e)))}},n=a(44),r=Object(n.a)(s,undefined,undefined,!1,null,null,null);t.a=r.exports},606:function(e,t,a){"use strict";a(557)},607:function(e,t,a){"use strict";a(558)},608:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(4);const n=function(e,t){window.fusetag=window.fusetag||{que:[]},window.googletag=window.googletag||{cmd:[]};let a=null===(e=window.googletag)||void 0===e?void 0:e.apiReady;const n=(null===(t=s.a.getters["features/flags"].ads)||void 0===t?void 0:t.publift)?"https://cdn.fuseplatform.net/publift/tags/2/3497/fuse.js":"https://securepubads.g.doubleclick.net/tag/js/gpt.js";return function(){if(a)return;const e=document.createElement("script");e.src=n,document.head.appendChild(e),a=!0}}()},609:function(e,t,a){"use strict";var s=a(532),n=a(60);t.a=e=>({namespaced:!0,state:{},modules:{groups:Object(s.a)(n.d,e,!1)}})},610:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(17);const n=e=>Object(s.y)(e)?"/assets/img/default-voucher_b97b9.svg":"/assets/img/default-deal_d0fc9.svg"},611:function(e,t,a){"use strict";t.a=window.RedactorPlugins||(window.RedactorPlugins={})},614:function(e,t,a){"use strict";var s=a(639),n={components:{CarouselItem:a(509).c,GroupAvatar:s.a},props:{group:{type:Object,required:!0}}},r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("CarouselItem",[t("RouterLink",{staticClass:"tGrid-cell vAlign--all-m box--all-b",attrs:{to:{name:"threads.index.group",params:{slug:e.group.threadGroupUrlName}}}},[t("div",{staticClass:"tGrid-cell"},[t("GroupAvatar",{attrs:{group:e.group,size:"s"}})],1),e._t("default",(function(){return[t("div",{staticClass:"tGrid-cell vAlign--all-m space--l-2 space--fromW3-l-3"},[t("div",{staticClass:"tGrid width--all-12"},[t("span",{staticClass:"box--all-b text--b overflow--ellipsis size--all-s"},[e._v(e._s(e.group.threadGroupName))])])])]}),{group:e.group})],2)],1)}),[],!1,null,null,null);t.a=i.exports},616:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var s=a(5),n=a(4),r=a(624),i=a(152),o=a(648);const l=()=>{const e="popular",t=Object(s.computed)((()=>{var e;return null===(e=n.a.state.discussionWidget)||void 0===e?void 0:e.options})),a=Object(s.computed)((()=>{var e;return null===(e=n.a.state.discussionWidget)||void 0===e?void 0:e.loading})),i=Object(s.computed)((()=>{var e;return null===(e=n.a.state.discussionWidget)||void 0===e?void 0:e.activeFilter})),o=Object(s.computed)((()=>{var e;return null===(e=n.a.state.discussionWidget)||void 0===e?void 0:e.threads})),l=Object(s.computed)((()=>i.value===e?r.d:r.c)),c=Object(s.computed)((()=>i.value===e)),u=Object(s.computed)({get:()=>i,set(e){(e=>{n.a.dispatch("discussionWidget/loadPage",{feed:e})})(e)}});return{threads:o,options:t,loading:a,hideOptions:{apiKey:"discussions",intentKey:"discussionsWidgetKey",trackCategory:"widget_discussions_carousel_card"},activeFilter:i,selectedFilter:u,isPopularFilter:c,currentWidgetItemType:l}},c=Object(i.a)("discussionWidget",o.a)},620:function(e,t,a){"use strict";var s={components:{UserAvatar:a(564).a},props:{title:{type:String,required:!0},route:{type:Object,required:!0},user:{type:Object,required:!0},commentedUser:{type:Object},commentCount:{type:Number,required:!0}}},n=a(44),r=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("RouterLink",{staticClass:"space--b-1 width--grid-m",attrs:{to:e.route,title:e.title}},[t("span",{staticClass:"text--b linkPlain size--all-m overflow--clamp-m-2 space--b-1"},[e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"flex boxAlign-ai--all-c boxAlign-jc--all-sb space--t-1"},[t("div",{staticClass:"overflow--ellipsis flex boxAlign-ai--all-c avatarGroup avatarGroup--s"},[e.commentedUser?t("UserAvatar",{staticClass:"avatarGroup-item avatar--type-s",attrs:{user:e.commentedUser,size:"xs"}}):e._e(),t("UserAvatar",{staticClass:"avatarGroup-item space--mr-2 avatar--type-s avatar",attrs:{user:e.user,size:"xs"}}),e._t("label")],2),t("div",{staticClass:"lbox--v-2 space--l-3 mute--text"},[t("BaseIcon",{attrs:{name:"comment"}}),t("span",{staticClass:"size--all-s space--ml-2 text--b"},[e._v(" "+e._s(e.commentCount)+" ")])],1)])])}),[],!1,null,null,null).exports,i=a(103),o={components:{WidgetItem:r},props:{thread:{type:Object,required:!0}},computed:{lastComment(){return this.thread.lastComment},time(){return this.lastComment?this.thread.lastCommentTimeAgo:this.thread.publishedTimeAgo},user(){return this.thread.user},commentedUser(){var e;return null===(e=this.lastComment)||void 0===e?void 0:e.user},route(){return this.lastComment?{name:"comments.permalink",params:{commentId:this.lastComment.commentId}}:Object(i.n)(this.thread)}}},l=Object(n.a)(o,(function(){var e=this,t=e._self._c;return t("WidgetItem",{attrs:{title:e.thread.title,route:e.route,user:e.user,"commented-user":e.commentedUser,"comment-count":e.thread.commentCount},scopedSlots:e._u([{key:"label",fn:function(){return[t("time",{staticClass:"space--l-1 mute--text size--all-s text--b overflow--ellipsis"},[e._v(e._s(e.time))])]},proxy:!0}])})}),[],!1,null,null,null).exports,c=a(538),u={components:{WidgetItem:r},props:{thread:{type:Object,required:!0}},computed:{route(){return Object(i.n)(this.thread)},userName(){return Object(c.f)(this.thread.user)}}},d=Object(n.a)(u,(function(){var e=this,t=e._self._c;return t("WidgetItem",{attrs:{title:e.thread.title,route:e.route,user:e.thread.user,"comment-count":e.thread.commentCount},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"user size--all-s mute--text"},[e._t("default",(function(){return[e._v(e._s(e.userName))]}))],2)]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports,p=a(509);const h="popular";var m={components:{CarouselItem:p.c,WidgetRecentItem:l,WidgetTopItem:d,CarouselWithAirArrows:p.j},props:{threads:{type:Array,default:()=>[]},activeFilter:{type:String,default:h}},computed:{currentWidgetItemType(){return this.activeFilter===h?d:l}}},f=Object(n.a)(m,(function(){var e=this,t=e._self._c;return t("CarouselWithAirArrows",{directives:[{name:"track",rawName:"v-track:discussions.view",value:{mode:"horizontal",filter:e.activeFilter},expression:"{ mode: 'horizontal', filter: activeFilter }",arg:"discussions",modifiers:{view:!0}}]},e._l(e.threads,(function(a){return t("CarouselItem",{key:a.threadId,staticClass:"scrollBox-item flex--shrink-0"},[t("div",{staticClass:"height--all-full border border--color-greyBackground bRad--a"},[t(e.currentWidgetItemType,{directives:[{name:"track",rawName:"v-track:threadLink.click",arg:"threadLink",modifiers:{click:!0}}],key:a.threadId,tag:"Component",staticClass:"flex flex--dir-col boxAlign-jc--all-sb height--all-full space--h-3 space--v-3",attrs:{thread:a}})],1)])})),1)}),[],!1,null,null,null);t.a=f.exports},621:function(e,t,a){"use strict";var s=a(5),n=Object(s.defineComponent)({__name:"discussion-widget-no-threads",props:{layoutMode:null},setup(e){const t=e,a=Object(s.computed)((()=>{const e="horizontal"===t.layoutMode;return{rootClasses:{"space--h-2 space--v-1":e,"space--h-3":!e},imgWrapperClasses:{"size--all-xs vAlign--all-t":e,"space--v-4":!e},txtWrapperClasses:{"box--all-i space--l-2  space--t-2":e}}}));return{__sfc:!0,props:t,config:a}}}),r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"hAlign--all-c width--all-12",class:a.config.rootClasses},[t("div",{staticClass:"box--all-i width--msgImg",class:a.config.imgWrapperClasses},[t("span",{staticClass:"supportImage supportImage--type-cry supportImage--type-cry--noSpace width--all-12"})]),t("div",{staticClass:"size--all-m",class:a.config.txtWrapperClasses},[t("div",{staticClass:"text--b space--b-2"},[e._v(" "+e._s("Ops! Sembra che non ci sia nessuna discussione con queste caratteristiche")+" ")]),t("div",{staticClass:"mute--text"},[e._v(" "+e._s("Per favore riprova più tardi o prova ad usare un filtro diverso")+" ")])])])}),[],!1,null,null,null);t.a=i.exports},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"b",(function(){return C})),a.d(t,"c",(function(){return j})),a.d(t,"d",(function(){return T}));var s=a(5),n=a(552),r=a.n(n),i=a(4);var o=a(616),l=a(508),c=a(559),u=a(543),d=a(544),p=a(560),h=a(561),m=a(550),f=a(621),v=a(533);const g={mixins:[a(528).a]};var b=Object.assign(g,{__name:"discussion-widget",setup(e){const t="vertical",{currentOrientation:a}=(e=>({dom:Object(s.reactive)({}),currentOrientation:Object(s.computed)((()=>({horizontal:"horizontal"===e,vertical:"vertical"===e}))),applicationThreadListingMode:Object(s.computed)((()=>{var e;return(null===(e=i.a.state.application)||void 0===e?void 0:e.threadListingMode)||"list"}))}))(t),{loading:n,options:g,threads:b,selectedFilter:y,currentWidgetItemType:_,hideOptions:x}=Object(o.a)(),w=Object(s.computed)((()=>r()(b.value,a.value.horizontal?1:5))),C=Object(s.computed)((()=>b.value.length>=5));return{__sfc:!0,orientation:t,itemsPerVerticalSlide:5,currentOrientation:a,loading:n,options:g,threads:b,selectedFilter:y,currentWidgetItemType:_,hideOptions:x,chunkedThreads:w,isVerticalSlideFilled:C,BaseButton:l.a,BaseCarousel:c.a,WidgetHideable:u.a,CarouselSkeleton:d.a,CarouselContent:p.a,CarouselPager:h.a,PlainSelect:m.a,NoThreads:f.a,Widget:v.a}}}),y=a(44),_=Object(y.a)(b,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return e.$breakpoint.lgAndUp?t(a.WidgetHideable,{attrs:{options:a.hideOptions},scopedSlots:e._u([{key:"default",fn:function({hide:s}){return t("div",{},[t(a.BaseCarousel,[t(a.Widget,{class:{"card--responsive":a.currentOrientation.vertical&&a.isVerticalSlideFilled},attrs:{"layout-mode":a.orientation},scopedSlots:e._u([{key:"WidgetHeader",fn:function(){return[t("div",{staticClass:"overflow--ellipsis"},[t("strong",{staticClass:"card-title overflow--ellipsis width--max-12"},[e._v(" "+e._s("Discussioni")+" ")]),t(a.PlainSelect,{staticClass:"text--b text--color-brandPrimary overflow--ellipsis width--max-12",attrs:{name:"time_frame",options:a.options},model:{value:a.selectedFilter,callback:function(e){a.selectedFilter=e},expression:"selectedFilter"}})],1),t(a.BaseButton,{staticClass:"space--ml-1",attrs:{mode:"default",variant:"tertiary",size:"s",square:"",title:"Chiudi"},on:{click:s}},[t("BaseIcon",{attrs:{name:"cross"}})],1)]},proxy:!0},{key:"WidgetBody",fn:function(){return[[a.loading.busy?[t(a.CarouselSkeleton,{attrs:{orientation:a.orientation,visualization:"itemTypeD"}})]:a.threads.length?[t(a.CarouselContent,e._l(a.chunkedThreads,(function(s,n){return t("div",{key:n,staticClass:"flex flex--dir-col flex--shrink-0 width--all-12 snap--as"},e._l(s,(function(e){return t(a.currentWidgetItemType,{key:e.threadId,tag:"Component",staticClass:"card-item",attrs:{thread:e}})})),1)})),0)]:[t(a.NoThreads,{attrs:{"layout-mode":a.orientation}})]]]},proxy:!0},a.currentOrientation.vertical?{key:"WidgetFooter",fn:function(){return[t(a.CarouselPager)]},proxy:!0}:null],null,!0)})],1)],1)}}],null,!1,510203629)}):e._e()}),[],!1,null,null,null).exports,x=a(546),w={components:{UserAvatar:a(564).a,UserShortProfileTrigger:x.a},props:{title:{type:String,required:!0},route:{type:Object,required:!0},user:{type:Object,required:!0},commentedUser:{type:Object},commentCount:{type:Number,required:!0}},data:()=>({commentedPopoverIsActive:!1,userPopoverIsActive:!1})},C=Object(y.a)(w,(function(){var e=this,t=e._self._c;return t("div",[t("RouterLink",{staticClass:"text--b size--all-s overflow--clamp-s-2 linkPlain",attrs:{to:e.route,title:e.title}},[e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"flex boxAlign-ai--all-c boxAlign-jc--all-sb space--t-1"},[t("div",{staticClass:"avatarGroup avatarGroup--s avatarGroup--interact overflow--ellipsis flex boxAlign-ai--all-c"},[e.commentedUser?t("UserShortProfileTrigger",{staticClass:"avatarGroup-item",class:["avatarGroup-item",{"zIndex--atopNormal":e.commentedPopoverIsActive}],attrs:{active:e.commentedPopoverIsActive,user:e.commentedUser},on:{"update:active":function(t){e.commentedPopoverIsActive=t}},scopedSlots:e._u([{key:"default",fn:function({popoverHandler:a}){return[t("button",{directives:[{name:"track",rawName:"v-track:showUserShortProfile.click",arg:"showUserShortProfile",modifiers:{click:!0}}],on:{click:function(e){return a(e)}}},[t("UserAvatar",{staticClass:"avatar--type-s",attrs:{user:e.commentedUser}})],1)]}}],null,!1,1283622622)}):e._e(),t("UserShortProfileTrigger",{staticClass:"avatarGroup-item",class:["avatarGroup-item",{"zIndex--atopNormal":e.userPopoverIsActive}],attrs:{user:e.user,active:e.userPopoverIsActive},on:{"update:active":function(t){e.userPopoverIsActive=t}},scopedSlots:e._u([{key:"default",fn:function({popoverHandler:a}){return[t("button",{directives:[{name:"track",rawName:"v-track:showUserShortProfile.click",arg:"showUserShortProfile",modifiers:{click:!0}}],on:{click:function(e){return a(e)}}},[t("UserAvatar",{staticClass:"space--mr-2 avatar--type-s",attrs:{user:e.user}})],1)]}}])}),e._t("label")],2),t("div",{staticClass:"lbox--v-2 space--l-2 mute--text"},[t("span",{staticClass:"space--r-2 size--all-s text--b"},[e._v(e._s(e.commentCount))]),t("BaseIcon",{attrs:{name:"comment"}})],1)])],1)}),[],!1,null,null,null).exports,k=a(103),O={components:{WidgetItem:C},props:{thread:{type:Object,required:!0}},computed:{lastComment(){return this.thread.lastComment},time(){return this.lastComment?this.thread.shortLastCommented:this.thread.shortLastPublishedTimeAgo},user(){return this.thread.user},commentedUser(){var e;return null===(e=this.lastComment)||void 0===e?void 0:e.user},route(){return this.lastComment?{name:"comments.permalink",params:{commentId:this.lastComment.commentId}}:Object(k.n)(this.thread)}}},j=Object(y.a)(O,(function(){var e=this,t=e._self._c;return t("WidgetItem",{attrs:{title:e.thread.title,route:e.route,user:e.user,"commented-user":e.commentedUser,"comment-count":e.thread.commentCount},scopedSlots:e._u([{key:"label",fn:function(){return[t("time",{staticClass:"mute--text size--all-s text--b"},[e._v(e._s(e.time))])]},proxy:!0}])})}),[],!1,null,null,null).exports,S=a(579),I={components:{WidgetItem:C,UserLink:S.c},props:{thread:{type:Object,required:!0}},computed:{route(){return Object(k.n)(this.thread)}}},T=Object(y.a)(I,(function(){var e=this,t=e._self._c;return t("WidgetItem",{attrs:{title:e.thread.title,route:e.route,user:e.thread.user,"comment-count":e.thread.commentCount},scopedSlots:e._u([{key:"label",fn:function(){return[t("UserLink",{staticClass:"size--all-s mute--text",attrs:{user:e.thread.user}})]},proxy:!0}])})}),[],!1,null,null,null).exports},628:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return p}));var s=a(749),n=a.n(s),r=a(541),i=a.n(r);const o={},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(o,n()(e))},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i()();return"ad-".concat(e)},u=e=>o[e],d=e=>window.fusetag.que.push((()=>{window.fusetag.registerZone(e)})),p=()=>window.fusetag.que.push((()=>{window.fusetag.pageInit()}))},629:function(e,t,a){},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return m}));var s=a(29),n=a(78),r=a(13);const i=!0,o=["view","click","focus","change","submit"],l=o.map(m);function c(e){function t(t){const a=function(e){return e.target instanceof Element?e.target.closest("[".concat(m(e.type),"]:not(:disabled)")):null}(t);a&&e(p(t.type,a))}o.forEach((e=>{document.addEventListener(e,t,!0)})),document.addEventListener("auxclick",(e=>{1===e.button&&t({type:"click",target:e.target})}),!0)}function u(e,t,a,l){t.forEach((t=>function(e,t){const[a,s=""]=t.split("-");!function(e,t){if(i)return;if(!o.includes(e))throw Error("Invalid track event: ".concat(e,", please use: ").concat(o.join("|")));if(t===r.a.Ocular)throw Error("Invalid track modifier: ".concat(e,"-ocular, please omit default service '-ocular'"));if(t&&!Object.values(r.a).includes(t))throw Error("Invalid track service: ".concat(t,"}"));if("view"===e&&t===r.a.GA)throw Error("The 'view' track event is not allowed for google analytics due to quota limits, please use ocular")}(a,s);const l=m(a),c=e.getAttribute(l),u=null===c?s:"".concat(c||r.a.Ocular,",").concat(s||r.a.Ocular);e.setAttribute(l,u),"view"===a&&Object(n.b)(e)}(e,t))),Object(s.f)(e,a,l)}function d(e){Object(s.e)(e),l.forEach((t=>e.removeAttribute(t))),Object(n.c)(e)}function p(e,t){return{type:e,target:Object(s.b)(t),context:Object(s.c)(t.parentElement),interaction:"view"!==e,services:h(e,t)}}function h(e,t){return(t.getAttribute(m(e))||r.a.Ocular).split(",")}function m(e){return"data-t-".concat(e)}},630:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p}));var s=a(32),n=a.n(s),r=(a(1),a(571)),i=a.n(r);const o=["page"],l=e=>e>1?e-1:null,c=(e,t)=>e<t?e+1:null,u=e=>{let{count:t=0,size:a=10,current:s=1,order:n=null,orderBy:r=null}=e;const o=((e,t)=>Math.ceil(e/t)||1)(t,a);return s=i()(s,1,o),{count:t,size:a,current:s,order:n,orderBy:r,last:o,previous:l(s),next:c(s,o)}},d=e=>e.current<e.last||e.last*e.size===e.count?e.size:e.count%e.size,p=e=>{const t=e.query,{page:a}=t,s=n()(t,o);if(!(void 0===a||Number(a)>1))return Object.assign({},e,{query:s})}},632:function(e,t,a){"use strict";var s=a(598),n=a(71),r={name:"WysiwygButton",components:{BaseButton:a(508).a},mixins:[Object(s.a)(),Object(n.a)({button:{any:!0,smAndDown:!0,mdAndDown:!0,lgAndDown:!0},text:{any:!0,smAndDown:!0,mdAndDown:!0,lgAndDown:!0}})],props:{action:{type:Object,default:()=>({})},target:{type:String,required:!0}},computed:{$directives(){return{"wysiwyg-button":Object.assign({},this.action,{target:this.target}),"popover-close":null}}}},i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c;return t("BaseButton",{class:["space--mr-1",`button--${e.action.key}`],attrs:{variant:"tag",mode:"light",square:"",title:e.action.title,"data-handler":e.$d.handlers,"data-wysiwyg-button":e.$d.params["wysiwyg-button"]}},[t("BaseIcon",{attrs:{name:e.action.icon}})],1)}),[],!1,null,null,null);t.a=o.exports},638:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"g",(function(){return p})),a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return v})),a.d(t,"f",(function(){return g}));var s=a(750),n=a.n(s),r=a(108),i=a(1),o=a(522),l=a(567),c=a(4);const u=(e,t)=>{let{variation:a}=t;try{if(!e)return"";if(n()(e))return e;if(Object(r.d)(e))return Object(r.e)(e,e.slots[0].name,a);const t=[["re",300,300],["ft","jpg"],["qt",60]];return new o.a(e).apply(t).toString()}catch(e){}return null},d=e=>{try{return!(!e||n()(e))&&(Object(r.d)(e)?!!Object(r.f)(e,e.slots[0].name,{}).isPoorQuality:e.isPoorQuality)}catch(e){}return!1},p=async e=>{let{bucket:t,value:a,fileName:s}=e;return"string"==typeof a?await Object(i.hd)({url:a,bucket:t}):await Object(i.gd)({file:a,bucket:t,fileName:s})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["image/jpg","image/jpeg","image/png","image/gif","image/webp"];return(null==e?void 0:e.type)&&t.includes(e.type)};function m(e){c.a.dispatch("pageMsgs/set",[Object.assign({type:"error",priority:"low"},e)])}function f(){m({body:e(":attribute non può superare :max kilobyte.",{replaces:{attribute:"image",max:l.d}})})}function v(t){m({body:e("{1} Il numero di immagini consentite è :max_allowed|{2} Il numero di immagini consentite è :max_allowed|[3,*] Il numero di immagini consentite è :max_allowed",{replaces:{max_allowed:t},count:t})})}function g(e){m({title:"paste-local-file"===e?"Non è possibile incollare immagini locali (dagli appunti).":"Non è possibile trascinare immagini locali.",body:"Per favore, usare invece il pulsante di caricamento."})}}).call(this,a(70).translation)},639:function(e,t,a){"use strict";var s=a(106);const n=["xs","s","m","l"];var r={props:{group:{type:Object,required:!0},size:{validator:e=>n.includes(e),default:"m"}},computed:{defaultAvatar(){return"xs"===this.size?"/assets/img/default-group-small_d28ca.svg":"/assets/img/default-group_f27c6.svg"},src(){return Object(s.b)(this.group.imageUrls,"avatar","avatar_web_square_38",this.defaultAvatar)},src2x(){return Object(s.b)(this.group.imageUrls,"avatar","avatar_web_square_38_2x",this.defaultAvatar)},lazyOptions(){return{src:this.src,srcset:this.src2x?"".concat(this.src2x," 2x"):null}}}},i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("img",e._b({staticClass:"img img--type-collection",class:`img--square-${e.size}`,attrs:{loading:"lazy",alt:e.$t(":group Offerte",{replaces:{group:e.group.threadGroupName}})}},"img",e.lazyOptions,!1))}),[],!1,null,null,null);t.a=o.exports},640:function(e,t,a){"use strict";var s=a(524),n=a(532),r=a(60);t.a=Object(s.b)("suggestedGroups",{create:e=>{var t,a,s;return s=(null===(t=e.widgets)||void 0===t||null===(a=t.groupsInThreadWidget)||void 0===a?void 0:a.groups)||[],{namespaced:!0,state:{},modules:{groups:Object(n.a)(r.d,s,!1)}}}})},642:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var s=a(8),n=a.n(s),r=a(14);const i=e=>"/widgets/".concat(e,"/hide"),o=e=>"/widgets/".concat(e,"/show"),l=e=>n.a.post(i(e)).then((()=>{})),c=e=>n.a.post(o(e)).then((()=>{})),u=e=>Boolean(new r.a(e).get().value),d=e=>new r.a(e).set({value:!0})},643:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return i}));a(316);const s={req:e=>{if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"==typeof e){for(let t in e)return!0;return!1}return!!String(e).length},withParams:(e,t)=>async function(){const a=await t(...arguments);return"object"==typeof a?e=Object.assign({},e,a):e.valid=a,e}},n=e=>null==e||""===e,r=e=>n(e)||""===e,i=e=>n(e)||Array.isArray(e)&&0===e.length},647:function(e,t,a){"use strict";var s=a(27),n=a(104);t.a={props:{thread:{type:Object,default:()=>({})}},mixins:[n.a],watch:{"thread.isBookmarked"(){this.isBookmarked=!!this.thread.isBookmarked}},data(){return{isBookmarked:!!this.thread.isBookmarked}},created(){this.guarded.config={login:{source:"thread_save"}}},methods:{toggleBookmark(){this.guard((()=>{this.isBookmarked=!this.isBookmarked,Object(s.i)(this.thread.threadId,this.isBookmarked).catch((()=>{this.isBookmarked=!this.isBookmarked}))}))}}}},648:function(e,t,a){"use strict";var s=a(649),n=a(114);const r={async loadPage(e,t){let{dispatch:a,state:n}=e;const r=t||{feed:n.activeFilter};a("updateActiveFilter",r.feed);const i=await Object(s.a)(r).finally(await a("loading/start"));a("updateThreads",i.threads)},updateActiveFilter(e,t){e.commit("UPDATE_ACTIVE_FILTER",t)},updateThreads(e,t){e.commit("UPDATE_THREADS",t)}},i={UPDATE_ACTIVE_FILTER(e,t){e.activeFilter=t},UPDATE_THREADS(e,t){e.threads=t}};t.a=e=>({namespaced:!0,state:{options:null==e?void 0:e.options,activeFilter:null==e?void 0:e.selected.value,threads:null==e?void 0:e.threads},mutations:i,actions:r,modules:{loading:Object(n.a)()}})},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(6),n=a(1);const r=Object(s.c)({queries:[n.u],merge:!0}),i=function(){let{page:e=1,feed:t="recent"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r({discussionWidgetPage:e,feed:t}).then((e=>e.request)).then((e=>{let{discussionWidget:t}=e;return t}))}},650:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return p}));var s=a(5),n=a(1),r=a(16),i=a(15),o=a(17),l=a(569);const c=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{immediate:!0},n=arguments.length>3?arguments[3]:void 0;Object(s.watch)((()=>{var t;return null===(t=e.value)||void 0===t?void 0:t.threadId}),(a=>{a?t(e.value):null==n||n()}),a)},u=e=>{Object(r.e)(e,((e,t,a)=>{e&&(i.a.normalize(o.z,e),a((()=>i.a.remove(o.z,e))))}))};function d(e){c(e,l.a,{immediate:!0},l.a)}const p=e=>{const t=Object(s.computed)((()=>{const{isTrending:t,temperatureLevel:a}=e.value;return t?o.j[n.kb.Hot3]:a?o.j[a]:null})),a=Object(s.computed)((()=>{var a,s;const{isExpired:n,deletedAt:r}=e.value;return null===(a=!n&&!r)||void 0===a||a?null===(s=t.value)||void 0===s?void 0:s.color:"grey"}));return{iconName:Object(s.computed)((()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.iconName})),iconColor:a,icon:t}}},652:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var s,n=a(4),r=a(134),i=a.n(r),o=a(16),l=a(628),c=a(608);const u=null===(s=n.a.getters["features/flags"].ads)||void 0===s?void 0:s.publift,d=e=>{Object(o.e)(e,((e,t)=>{u&&!i()(e,t)&&(Object(c.a)(),Object(l.e)(e),Object(l.c)())}))}},653:function(e,t,a){"use strict";var s=a(524),n=a(609);t.a=Object(s.b)("topGroups",{create:e=>{var t,a;return Object(n.a)((null===(t=e.widgets)||void 0===t||null===(a=t.topGroupsWidget)||void 0===a?void 0:a.groups)||[])}})},654:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(14);t.b={created(){this.markForRestore=this.markForRestore.bind(this),this.undoRestore=this.undoRestore.bind(this),this.clearRestore=this.clearRestore.bind(this),this.restoreStorage=new s.a("redactor-restore")},data:()=>({restoredContent:"",initialContent:"",restoreId:""}),watch:{restoredContent(e){this.$emit("canRestore",Boolean(e))}},methods:{restoreConfig(){return{markForRestore:this.markForRestore}},markForRestore(e){let{restoreId:t,restoredContent:a,initialContent:s}=e;this.restoreId=t,this.restoredContent=a||"",this.initialContent=s||""},undoRestore(){this.$editor.code.set(this.initialContent,!0),this.clearRestore()},clearRestore(){this.restoreStorage.del(this.restoreId),this.restoredContent=""}}};const n=e=>{new s.a("redactor-restore").del(e)}},656:function(e,t,a){"use strict";var s=a(591),n=a(585),r=a(574).a,i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c;return t("div",[e.isVoucherFreeShipping?t("span",{staticClass:"box--all-i thread-price size--all-l text--b space--mr-1"},[t("BaseIcon",{attrs:{name:"truck"}}),e._v(" "+e._s("GRATUITO")+" ")],1):t("span",{staticClass:"box--all-i thread-price size--all-l text--b space--mr-1"},[e._v(" "+e._s(e.priceLabel)+" ")]),e.thread.nextBestPrice?t("span",{staticClass:"box--all-i mute--text text--lineThrough size--all-s space--mr-1"},[e._v(e._s(e.thread.displayNextBestPrice))]):e._e(),e.thread.price&&e.thread.priceDiscount&&e.thread.nextBestPrice?t("span",{staticClass:"box--all-i text--b size--all-s"},[e._v(e._s(e.priceDiscountLabel))]):e._e()])}),[],!1,null,null,null).exports,l=a(103),c={components:{ImageObfuscator:n.a,Price:o},mixins:[s.a],props:{thread:{type:Object,required:!0},imageVariant:{type:Array,default:()=>[["re",200,200],["ft","jpg"],["qt",55]]},merchantAvatarVariant:{type:Object,default:()=>({slot:"avatar",variant:"avatar_web_square_112_2x"})}},computed:{imageCeptClass(){return this.thread.nsfw&&this.isNsfwHidden,""},isNsfwHidden(){var e,t;return null===(e=null===(t=this.$store.getters["auth/me"])||void 0===t?void 0:t.isNsfwHidden)||void 0===e||e},route(){return Object(l.n)(this.thread)}}},u=Object(i.a)(c,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"track",rawName:"v-track:thread.view",value:{id:e.thread.threadId},expression:"{ id: thread.threadId }",arg:"thread",modifiers:{view:!0}}]},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:threadLink.click",arg:"threadLink",modifiers:{click:!0}}],staticClass:"linkPlain",attrs:{to:e.route,title:e.thread.title}},[t("div",{staticClass:"border border--color-greyBackground aGrid border--v-r border--h-r space--mb-2"},[t("span",{staticClass:"imgFrame imgFrame--noBorder bg--color-white imgFrame--darken"},[t("img",{class:["thread-image width--all-auto height--all-auto imgFrame-img",e.imageCeptClass],attrs:{src:e.threadImgSrc,loading:"lazy",alt:""}}),e.thread.nsfw&&e.isNsfwHidden?t("ImageObfuscator"):e._e()],1),e.thread.temperature?t("span",{staticClass:"size--all-s text--b space--h-1 space--v-1 bg--color-white bRad--a aGrid-item aGrid-item--t-0 aGrid-item--r-0 space--mt-1 space--mr-1 bRad--a-m",class:e.temperatureClass},[e._v(" "+e._s(e.temperatureLabel)+" ")]):e._e()]),t("span",{staticClass:"size--all-s overflow--wrap-break overflow--clamp-s-3 height--rows-3"},[e._v(e._s(e.thread.title))]),t("Price",{staticClass:"space--mt-1",attrs:{thread:e.thread}})],1)],1)}),[],!1,null,null,null).exports,d=a(509),p={components:{CarouselItem:d.c,CarouselWithAirArrows:d.j,ThreadsItem:u},props:{threads:{type:Array,required:!0},threadLinkRel:{type:String,default:null}}},h=Object(i.a)(p,(function(){var e=this,t=e._self._c;return t("CarouselWithAirArrows",{attrs:{"arrows-class":"hottest-arrow"}},e._l(e.threads,(function(a){return t("CarouselItem",{key:a.threadId,staticClass:"flex--shrink-0 hottest--item box--all-s imgFrame-container--scale"},[t("ThreadsItem",{attrs:{thread:a,rel:e.threadLinkRel}})],1)})),1)}),[],!1,null,null,null);t.a=h.exports},657:function(e,t,a){"use strict";var s=a(509),n={components:{GroupItem:a(614).a,BaseCarousel:s.a,CarouselContent:s.b,CarouselScrollToPage:s.h},mixins:[s.d],props:{groups:{type:Array,required:!0},title:{type:String,required:!0},enabled:{type:Boolean,default:!0}},computed:{orientation:()=>"horizontal"}},r=a(44),i={components:{GroupWidgetCarouselHorizontal:Object(r.a)(n,(function(){var e=this,t=e._self._c;return e.enabled?t("section",{directives:[{name:"track",rawName:"v-track:threadSuggestedGroupsWidget.view",arg:"threadSuggestedGroupsWidget",modifiers:{view:!0}}],staticClass:"scrollBox-space--l-s card card--type-horizontal listLayout-scrollBox aGrid"},[t("BaseCarousel",{scopedSlots:e._u([{key:"default",fn:function({page:a}){return[t("header",{staticClass:"card-header flex boxAlign-ai--all-fs"},[t("div",{staticClass:"overflow--ellipsis"},[t("h3",{staticClass:"text--b space--mr-2 size--all-l size--fromW3-xl"},[e._v(e._s(e.title))])])]),t("div",{staticClass:"flex height--all-full boxAlign-ai--all-c"},[t("CarouselScrollToPage",{staticClass:"scrollBox-btn--left hide--touch-on",attrs:{variant:"tertiary",mode:"default",size:"s",page:a-1}},[t("BaseIcon",{attrs:{name:"left"}})],1),t("CarouselContent",e._l(e.groups,(function(e,a){return t("GroupItem",{directives:[{name:"track",rawName:"v-track:group.click",value:{id:e.threadGroupId,position:a+1},expression:"{\n\t\t\t\t\t\tid: group.threadGroupId,\n\t\t\t\t\t\tposition: itemIndex + 1,\n\t\t\t\t\t}",arg:"group",modifiers:{click:!0}}],key:e.threadGroupId,staticClass:"flex--shrink-0 width--all-6 width--fromW3-4 width--fromW4-3 snap--toW2-as-2n-1 snap--w2-as-2n-1 snap--w3-as-3n-2 snap--fromW4-as-4n-3",attrs:{lazy:"",group:e}})})),1),t("CarouselScrollToPage",{staticClass:"scrollBox-btn--right hide--touch-on",attrs:{variant:"tertiary",mode:"default",size:"s",page:a+1}},[t("BaseIcon",{attrs:{name:"right"}})],1)],1)]}}],null,!1,3708685591)})],1):e._e()}),[],!1,null,null,null).exports},mixins:[a(640).a],props:{hideOnMdAndDown:{type:Boolean,default:!1}},computed:{enabled(){return!this.hideOnMdAndDown||this.$breakpoint.lgAndUp},groups(){return this.$store.getters["suggestedGroups/items"]}}},o=Object(r.a)(i,(function(){var e=this;return(0,e._self._c)("GroupWidgetCarouselHorizontal",e._b({attrs:{enabled:e.enabled,title:"Categorie",groups:e.groups}},"GroupWidgetCarouselHorizontal",e.$props,!1))}),[],!1,null,null,null);t.a=o.exports},659:function(e,t,a){"use strict";var s=a(5),n=a(514),r=a(4),i=a(27),o=Object(s.defineComponent)({__name:"comment-summary-lock",props:{threadId:null,isCommentSummaryEnabled:{type:Boolean}},setup(e){const t=e,a=["threads.show.deal","threads.show.voucher","threads.show.discussion","threads.show.feedback"],{name:o}=Object(n.a)(),l=Object(s.computed)((()=>!a.some((e=>e===o)))),c=Object(s.ref)(t.isCommentSummaryEnabled),u=Object(s.computed)((()=>{var e;return l.value?c.value:null===(e=r.a.getters["threads/get"](t.threadId))||void 0===e?void 0:e.isCommentSummaryEnabled})),d=Object(s.computed)((()=>u.value?"disableSummary":"enableSummary")),p=Object(s.computed)((()=>(u.value,""))),h=Object(s.computed)((()=>u.value?"Disable comment summary":"Enable comment summary"));return{__sfc:!0,newRoutes:a,props:t,currentRouteName:o,isLegacyRoute:l,isCommentSummaryEnabledLegacy:c,isCommentSummaryEnabled:u,trackingEvent:d,ceptClass:p,buttonText:h,handleClick:()=>{const e={threadId:String(t.threadId),value:!u.value};l.value?Object(i.c)(e).then((e=>{let{isCommentSummaryEnabled:t}=e;c.value=t})):r.a.dispatch("threads/enabledCommentSummary",e)}}}}),l=a(44),c=Object(l.a)(o,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("button",{directives:[{name:"track",rawName:"v-track:[trackingEvent].click",arg:a.trackingEvent,modifiers:{click:!0}}],class:["thread-footer-option",a.ceptClass],attrs:{type:"button"},on:{click:a.handleClick}},[e._v(" "+e._s(a.buttonText)+" ")])}),[],!1,null,null,null);t.a=c.exports},660:function(e,t,a){"use strict";var s=a(5),n=a(103),r=a(515),i=a(104),o=a(511),l=Object(s.defineComponent)({__name:"comments-button",props:{variant:{default:"text"},mode:{default:"secondary"},thread:null,concealLink:{type:Boolean},unlink:{type:Boolean}},setup(e){const t=e,a=Object(s.computed)((()=>Object(n.n)(t.thread,"#comments"))),l=Object(s.computed)((()=>" "+t.thread.threadId));return{__sfc:!0,props:t,commentsRoute:a,ceptClass:l,handleClick:async e=>{t.concealLink&&await Object(i.b)({login:{source:"thread_conceal"},intents:null})},CloakLink:r.a,BaseButton:o.a}}}),c=a(44),u=Object(c.a)(l,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return e.unlink?t(a.BaseButton,{class:a.ceptClass,attrs:{variant:e.variant,mode:e.mode,title:"Commenti"}},[t("BaseIcon",{attrs:{name:"comments",left:""}}),e._v(" "+e._s(e.thread.commentCount)+" ")],1):t(a.CloakLink,{directives:[{name:"track",rawName:"v-track:commentsLink.click",arg:"commentsLink",modifiers:{click:!0}}],class:a.ceptClass,attrs:{variant:e.variant,mode:e.mode,to:a.commentsRoute,title:"Commenti"},on:{"!mousedown":function(e){return a.handleClick.apply(null,arguments)}}},[t("BaseIcon",{attrs:{name:"comments",left:""}}),e._v(" "+e._s(e.thread.commentCount)+" ")],1)}),[],!1,null,null,null);t.a=u.exports},665:function(e,t,a){"use strict";t.a={inject:{$showError:{default:null}},model:{event:"update"},methods:{formInput(e){this.$emit("update",e.target.value)}},computed:{showError(){return this.$showError&&this.$showError()}}}},668:function(e,t,a){var s=a(636)((function(e,t,a){return e+(a?"_":"")+t.toLowerCase()}));e.exports=s},674:function(e,t,a){"use strict";var s=a(678),n=a.n(s);const r={angel:"Angelo",annoyed:"Infastidito",blank:"Vuoto",cheeky:"Sfacciato",confused:"Confuso",cool:"Freddo",creep:"",cry:"Piangi",devil:"Diavolo",embarrassed:"Imbarazzato",excited:"Emozionato",fierce:"Feroce",flirt:"Flirta",football:"Calcio",happy:"Felice",highfive:"Batti il cinque",horror:"Horror",kitty:"Gattino",laugh:"Risata",lipstick:"Lucidalabbra",lol:"lol",love:"Amore",lucha:"Lucha (es)",mad:"Matto",nerd:"Nerd",ninja:"Ninja",nutella:"Nutella",onion:"Onion",party:"Festa",pirate:"Pirata",police:"Polizia (es)",poo:"Cacchina",popcorn:"Popcorn",rainbow:"Arcobaleno",relieved:"Sollevato",sad:"Triste",shock:"Shock",sir:"Signore",skeptical:"Scettico",smiley:"Sorridente",strong:"Forte",superfunny:"Super divertente",thumb:"Pollice",tongue:"Lingua",unicorn:"Unicorno",wink:"Occhiolino",woot:"Woot",worldcup:"Mondiali",worried:"Preoccupato",zombie:"Zombie"};t.a=Object.freeze(Object.keys(n.a).map((e=>Object.assign({name:e,label:r[e]},n.a[e]))))},678:function(e,t,a){e.exports=a(679)},679:function(e,t,a){const s=a(680);e.exports=Object.assign(s,{excited:{text:"(excited)",availableIn:["emoticon-popover"],order:15},flirt:{text:"(flirt)",availableIn:["emoticon-popover"],order:27},football:{text:"(football)",availableIn:[],order:47},lipstick:{text:"(lipstick)",availableIn:["emoticon-popover"],order:45},nutella:{text:"(nutella)",availableIn:["emoticon-popover"],order:8},onion:{text:"(onion)",availableIn:["emoticon-popover"],order:4},police:{text:"(police)",availableIn:["emoticon-popover"],order:26},strong:{text:"(strong)",availableIn:["emoticon-popover"],order:44},unicorn:{text:"(unicorn)",availableIn:["emoticon-popover"],order:25},worldcup:{text:"(worldcup)",availableIn:[],order:46}})},680:function(e,t){e.exports={angel:{text:"(angel)",availableIn:["emoticon-popover"],order:10},annoyed:{text:"(annoyed)",availableIn:["emoticon-popover"],order:31},blank:{text:":|",availableIn:["emoticon-popover"],order:28},cheeky:{text:"(cheeky)",availableIn:["emoticon-popover"],order:12},confused:{text:"(confused)",availableIn:["emoticon-popover"],order:29},cool:{text:"8)",availableIn:["emoticon-popover"],order:19},cry:{text:";(",availableIn:["emoticon-popover"],order:38},devil:{text:"(devil)",availableIn:["emoticon-popover"],order:42},embarrassed:{text:"(embarrassed)",availableIn:["emoticon-popover"],order:13},fierce:{text:"(fierce)",availableIn:["emoticon-popover"],order:34},happy:{text:":D",availableIn:["emoticon-popover"],order:3},highfive:{text:"(highfive)",availableIn:["emoticon-popover"],order:18},horror:{text:"(horror)",availableIn:["emoticon-popover"],order:36},kitty:{text:":3",availableIn:["emoticon-popover"],order:43},laugh:{text:"XD",availableIn:["emoticon-popover"],order:5},lol:{text:"(lol)",availableIn:["emoticon-popover"],order:6},love:{text:"<3",availableIn:["emoticon-popover"],order:14},mad:{text:"(mad)",availableIn:["emoticon-popover"],order:33},nerd:{text:"(nerd)",availableIn:["emoticon-popover"],order:21},ninja:{text:"(ninja)",availableIn:["emoticon-popover"],order:22},party:{text:"(party)",availableIn:["emoticon-popover"],order:16},pirate:{text:"(pirate)",availableIn:["emoticon-popover"],order:24},poo:{text:"(poo)",availableIn:["emoticon-popover"],order:41},popcorn:{text:"(popcorn)",availableIn:["emoticon-popover"],order:7},relieved:{text:"(:I",availableIn:["emoticon-popover"],order:9},sad:{text:":(",availableIn:["emoticon-popover"],order:32},shock:{text:"(shock)",availableIn:["emoticon-popover"],order:35},sir:{text:":{",availableIn:["emoticon-popover"],order:20},skeptical:{text:"(skeptical)",availableIn:["emoticon-popover"],order:30},smiley:{text:":)",availableIn:["emoticon-popover"],order:1},thumb:{text:"(y)",availableIn:["emoticon-popover"],order:2},tongue:{text:":p",availableIn:["emoticon-popover"],order:17},wink:{text:";)",availableIn:["emoticon-popover"],order:11},woot:{text:":o",availableIn:["emoticon-popover"],order:39},worried:{text:":S",availableIn:["emoticon-popover"],order:37},zombie:{text:"(zombie)",availableIn:["emoticon-popover"],order:47}}},681:function(e,t,a){e.exports=a(682)},682:function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},685:function(e,t,a){"use strict";var s=a(528),n=a(543),r=a(555),i=a(509),o=a(621),l=a(620),c=a(616),u=a(508);const d={mixins:[s.a]};var p=Object.assign(d,{__name:"discussion-horizontal-widget",props:{hideable:{type:Boolean,default:!1},cardClasses:{type:String,default:""},carouselClasses:{type:String,default:""}},setup(e){const{loading:t,options:a,threads:s,activeFilter:d,selectedFilter:p,hideOptions:h}=Object(c.a)();return{__sfc:!0,loading:t,options:a,threads:s,activeFilter:d,selectedFilter:p,hideOptions:h,WidgetHideable:n.a,PlainSelect:r.c,CarouselSkeleton:i.i,NoThreads:o.a,DiscussionHorizontalCarousel:l.a,BaseButton:u.a}}}),h=a(44),m=Object(h.a)(p,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return e.$breakpoint.mdAndDown?t(a.WidgetHideable,{attrs:{options:a.hideOptions,enabled:e.hideable},scopedSlots:e._u([{key:"default",fn:function({hide:s}){return t("div",{},[t("section",{staticClass:"card card--type-horizontal discussionHorizontalWidget space--mt-2 aGrid",class:e.cardClasses},[t("div",{staticClass:"card-inner"},[t("header",{staticClass:"card-header"},[t("div",{staticClass:"flex overflow--hidden width--all-12 boxAlign-ai--all-c boxAlign-jc--all-sb"},[t("div",{staticClass:"overflow--ellipsis"},[t("strong",{staticClass:"card-title overflow--ellipsis width--max-12 size--all-l size--fromW3-xl text--b text--color-charcoal"},[e._v(" "+e._s("Discussioni")+" "),t(a.PlainSelect,{staticClass:"text--b text--color-brandPrimary overflow--ellipsis width--max-12 space--l-1 box--all-f boxAlign-ai--all-c vAlign--all-b",attrs:{name:"time_frame",options:a.options},model:{value:a.selectedFilter,callback:function(e){a.selectedFilter=e},expression:"selectedFilter"}})],1)]),e.hideable?t(a.BaseButton,{staticClass:"space--ml-1",attrs:{variant:"tertiary",mode:"default",size:"s",square:"",title:"Chiudi"},on:{click:s}},[t("BaseIcon",{attrs:{name:"cross"}})],1):e._e()],1)]),t("div",{staticClass:"aGrid height--all-full"},[a.loading.busy?t(a.CarouselSkeleton,{attrs:{orientation:"horizontal",visualization:"itemTypeG","carousel-class":"space--ml-3 space--fromW3-mh-2","horizontal-item-class":"width--fromW3-3 height--all-auto carousel-list-item-width space--r-3 width--all-auto"}}):a.threads.length?t(a.DiscussionHorizontalCarousel,{class:e.carouselClasses,attrs:{threads:a.threads,"active-filter":a.activeFilter}}):t(a.NoThreads,{attrs:{"layout-mode":"horizontal"}})],1)])])])}}],null,!1,3539458256)}):e._e()}),[],!1,null,null,null);t.a=m.exports},699:function(e,t,a){"use strict";a(629)},700:function(e,t,a){"use strict";t.a={methods:{preserveSelection(){const e=this.$editor;e&&!e.isSelectionStored&&(e.selection.save(),e.isSelectionStored=!0,e.$editor.one("focusin",(()=>{e.selection.restore(),e.isSelectionStored=!1})))}}}},701:function(e,t,a){"use strict";var s=a(0),n=a.n(s),r=a(107);t.a={created(){this.registerHandler("link","handleLink"),this.registerWriter("updateLink","updateLink"),this.registerWriter("removeLink","removeLink")},methods:{captureLinkSelection(){if(!this.$editor)return{href:"",content:""};const e=this.$editor.utils.isCurrentOrParent("A"),t=e?e.href:"",a=e?e.innerHTML:this.$editor.selection.getHtml()||this.$editor.selection.getCurrent().innerHTML;return{href:t,content:a?Object(r.c)(a):""}},handleLink(e){if(!this.pluginEnabled("link"))return;const{href:t,content:a}=e;void 0!==t&&(this.plugins.link.href=t),void 0!==a&&(this.plugins.link.content=a)},updateLink(e){let{href:t,content:a}=e;if(!this.$editor)return;this.$editor.$editor.focus(),a||(a=this.$editor.selection.getHtml()||this.$editor.selection.getCurrent().innerHTML||t);let s=this.$editor.utils.isCurrentOrParent("A");this.$editor.buffer.set(),s||(s=this.$editor.insert.node(document.createElement("a"))),s&&(s.href=/^https?:\/\//.test(t)?t:"https://"+t,s.innerHTML=a,s.target="_blank"),this.$editor.code.sync()},updateLinkSelection(){"link"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)&&this.handleLink(this.captureLinkSelection())},removeLink(){if(!this.$editor)return;this.$editor.$editor.focus();const e=this.$editor.utils.isCurrentOrParent("A");e&&(this.$editor.buffer.set(),n()(e).replaceWith(n()(e).contents()),this.$editor.code.sync())}}}},702:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof e.vue)return e.vue(t)}},703:function(e,t,a){"use strict";var s=a(10),n=a.n(s),r=a(11),i=a.n(r),o=a(0),l=a.n(o),c=a(611),u=a(107),d=a(52);const p={};c.a.shortcode=function(){return{instance:null,init:function(){this.shortcode.instance=new p.Shortcode(this)}}},p.Shortcode=function(){function e(t){n()(this,e);const a=this;let s;a.redactor=t,a.namespace=t.opts.shortcodeNamespace,"function"==typeof t.opts.markForShortcodes?t.opts.markForShortcodes(a.updateForm.bind(a)):(a.$form=l()(t.$element[0].form),a.$form.on("submit",a.updateForm.bind(a))),s=a.readForm(),a.types={},t.replacer.add({regexp:/\[shortcode id="([^"]+)"\/]/g,replacer:function(e,t,n,r){return a.html(s[r])}}),t.code.syncTransformers.push((function(e){return e.find("[data-embed]").each((function(){const e=l()(this);e.replaceWith(a.marker(e.data("embed")))})),e})),t.$editor.on("click","[data-embed]",(function(){const e=l()(this),s=a.data(e),n=a.getType(s);n.onClick&&n.onClick(s,e,t)}))}return i()(e,[{key:"readForm",value:function(){return this.redactor.opts.formatShortcodes?this.redactor.opts.formatShortcodes():this.$form.find('input[name^="'+this.namespace+'["]').get().reduce((function(e,t){return d.a.inputToJson(t.name,t.value,e)}),{})[this.namespace]||{}}},{key:"updateForm",value:function(){const e=this.embeds().get().map((function(e){return this.data(l()(e))}),this);if(this.redactor.opts.vue)return e;this.$form.find('input[name^="'+this.namespace+'["]').remove(),e.length&&this.$form.append(e.reduce(function(e,t){return e.concat(d.a.jsonToInputs(t,[],this.namespace+"["+t.id+"]"))}.bind(this),[]))}},{key:"registerType",value:function(e){this.types[e.name]=e}},{key:"getType",value:function(e){return e&&this.types[e.type]||null}},{key:"add",value:function(e){return e.id="new".concat(Date.now()),l()(this.redactor.insert.node(l()(this.html(e))))}},{key:"set",value:function(e){this.embed(e.id).replaceWith(this.html(e)),this.redactor.replacer.format("shortcode"),this.redactor.code.sync()}},{key:"del",value:function(e){this.embed(e).remove(),this.redactor.code.sync()}},{key:"marker",value:function(e){return'[shortcode id="'+e+'"/]'}},{key:"html",value:function(e){const t=this.getType(e);return t?t.html(this.redactor,l.a.extend({attr:' data-embed="'+e.id+'" data-embed-obj="'+u.a.escapeHtml(JSON.stringify(e))+'" contenteditable="false"'},e)):""}},{key:"embed",value:function(e){return this.redactor.$editor.find('[data-embed="'+e+'"]')}},{key:"embeds",value:function(){return this.redactor.$editor.find("[data-embed]")}},{key:"data",value:function(e){return e.data("embed-obj")}}]),e}(),p.find=function(e){const t=l()('[data-embed="'+e+'"]').closest(".redactor").find("textarea").data("redactor");return t?t.shortcode.instance:null},p.isChild=function(e){return Boolean(l()(e).closest("[data-embed]").length)},t.a=p},705:function(e,t,a){"use strict";var s=a(674),n={props:{filter:{type:String,default:"emoticon-popover"},mode:{type:String,default:"default"}},data:()=>({emojis:s.a,selected:null}),computed:{availableEmojis(){return this.emojis.filter((e=>e.availableIn.includes(this.filter))).sort(((e,t)=>e.order-t.order))}},methods:{emojiType:e=>"emoji--type-".concat(e.name),preview(e){this.selected=e,this.$emit("preview",{emoji:"&nbsp;".concat(e.text,"&nbsp;")})},insert(e,t){t.stopImmediatePropagation(),t.preventDefault(),this.$emit("insert",{emoji:"&nbsp;".concat(e.text,"&nbsp;"),event:t})}}},r=(a(699),a(44)),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("ul",{staticClass:"emojiSelector-list cGrid boxAlign-jc--all-sb"},e._l(e.availableEmojis,(function(a){return t("li",{key:a.name,staticClass:"box--all-i hAlign--all-c"},[t("button",{staticClass:"button button--emoji button--shape-circle button--square space--h-1 space--v-1",class:{"button--selected":a===e.selected},attrs:{type:"button",title:a.text},on:{mouseenter:function(t){return e.preview(a)},touchstart:function(t){return e.insert(a,t)},click:function(t){return e.insert(a,t)}}},[t("span",{class:["emoji",e.emojiType(a)]})])])})),0)])}),[],!1,null,null,null);t.a=i.exports},706:function(e,t,a){"use strict";var s=a(565),n=a(510),r=a(590),i={components:{BaseButton:a(508).a,FormList:n.l,FormRow:n.o,FormLabel:n.k,FormMessageList:n.m,FormContent:n.c,FormInput:n.e},mixins:[r.b],model:{event:"update",prop:"link"},props:{id:{type:String,default:"insertLink"},link:{type:Object,default:()=>({href:"",content:""})},i18n:{type:Object,default:()=>({insertButtonText:"Inserisci",updateButtonText:"Aggiorna",unlinkButtonText:"Rimuovi",urlLabel:"URL",contentLabel:"Testo"})},mode:{type:String,default:"default"}},data(){return{linkUrl:this.link.href,formName:this.id,updating:!!this.link.href}},computed:{buttonDisabled(){return!this.linkUrl.length}},watch:{"$v.$invalid"(e){this.$emit("invalid",e)}},validations:{href:[Object(s.j)(),Object(s.n)()]},methods:{setLinkUrl(e){this.linkUrl=e},remove(e){this.$emit("remove",{event:e})},insert(e){this.$v.$invalid||this.$emit("insert",{link:this.link,event:e})}}},o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",{},[e.$v.error[e.id]?t("FormMessageList",{staticClass:"text--b space--b-2",attrs:{messages:e.$v.messages[e.id]}}):e._e(),t("FormList",[t("FormRow",{attrs:{error:e.$v.error.href}},[t("FormLabel",[e._v(e._s(e.i18n.urlLabel))]),t("FormContent",[t("FormInput",{attrs:{name:"href"},on:{change:function(t){return e.$v.validate("href",e.link.href)},update:function(t){return e.setLinkUrl(e.link.href)}},model:{value:e.link.href,callback:function(t){e.$set(e.link,"href",t)},expression:"link.href"}}),t("FormMessageList",{attrs:{messages:e.$v.messages.href}})],1)],1),t("FormRow",{attrs:{error:e.$v.error.content}},[t("FormLabel",[e._v(e._s(e.i18n.contentLabel))]),t("FormContent",[t("FormInput",{attrs:{name:"content"},model:{value:e.link.content,callback:function(t){e.$set(e.link,"content",t)},expression:"link.content"}}),t("FormMessageList",{attrs:{messages:e.$v.messages.content}})],1)],1),t("FormRow",[t("FormContent",{staticClass:"flex",class:{"boxAlign-jc--all-sb":e.updating}},[e.updating?t("BaseButton",{staticClass:"flex--shrink-0 space--mr-2",attrs:{variant:"tertiary",mode:"default"},on:{click:e.remove}},[e._v(" "+e._s(e.i18n.unlinkButtonText)+" ")]):e._e(),t("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:e.buttonDisabled},on:{click:e.insert}},[e._v(" "+e._s(e.updating?e.i18n.updateButtonText:e.i18n.insertButtonText)+" ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.a=l.exports},708:function(e,t,a){"use strict";var s=a(517),n=a(632),r=a(705),i=a(706),o=a(565),l=a(510),c=a(590),u=a(508),d={components:{BaseButton:u.a,FormList:l.l,FormRow:l.o,FormMessageList:l.m,FormContent:l.c,FormTextarea:l.s},mixins:[c.b],model:{event:"update"},props:{id:{type:String,default:"insertCode"},i18n:{type:Object,default:()=>({buttonText:"Inserisci"})},mode:{type:String,default:"default",validators:e=>-1!==["primary","default"].indexOf(e)}},validations:{code:[Object(o.j)()]},data(){return{formName:this.id,code:""}}},p=a(44),h=Object(p.a)(d,(function(){var e=this,t=e._self._c;return t("FormList",[t("FormRow",{attrs:{error:e.$v.error.code}},[t("FormContent",[t("FormTextarea",{staticClass:"space--mt-1",attrs:{id:"codePopover-code",rows:"5",placeholder:"Codice HTML",name:"code"},on:{change:function(t){return e.$v.validate("code",e.code)}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),t("FormMessageList",{attrs:{messages:e.$v.messages.code}})],1)],1),t("FormRow",[t("FormContent",[t("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:!e.code},on:{click:function(t){return e.$emit("insert",e.code)}}},[e._v(" "+e._s(e.i18n.buttonText)+" ")])],1)],1)],1)}),[],!1,null,null,null).exports,m=a(71),f=a(598),v={components:{InsertLink:i.a,InsertCode:h,EmojiSelector:r.a,WysiwygButton:n.a,BaseButton:u.a},mixins:[s.a,Object(m.a)({button:{any:!0,smAndDown:!0},buttonText:{any:!0,smAndDown:!0,mdAndDown:!0},primaryButton:{any:!0,smAndDown:!0},primaryButtonText:{any:!0,smAndDown:!0},toolbarActions:{xsOnly:!0,smAndDown:!0},toolbarCompactButton:{smAndUp:!0}})],props:{target:{type:String,required:!0},directives:{type:Object,default:()=>({})},expanded:{type:Boolean,default:!1},plugins:{type:Object,default:()=>({})}},data:()=>({actionsPopoverActive:!1,emojiPopoverActive:!1,linkPopoverActive:!1,imageUploadPopoverActive:!1,htmlPopoverActive:!1}),computed:{popoverLayouts(){const e={preset:"s",right:{target:".redactor"},left:{target:".redactor"},classes:"zIndex--modal"};return[e,Object.assign({},e,{preset:"n"})]},imageUploadAvailable(){return(!!this.$slots["image-upload"]||!!this.$scopedSlots["image-upload"])&&this.plugins.image},toggleExpandedText(){return this.expanded?"Contratto":"Espandi"},$d(){return Object.assign({expandEditor:Object(f.b)({toggle:{toggles:[{target:".redactor",className:"aGrid redactor--height-full bg--main"}]}})},this.directives)}},methods:{updatePlugin(e,t){this.$emit("plugin-update",{key:e,value:t})},toggleExpandEditor(){this.$emit("editor-expand",!this.expanded)},captureFocus(e){this.$emit("editor-capture",e)}}},g={components:{WysiwygToolbarBase:Object(p.a)(v,(function(){var e=this,t=e._self._c;return t("div",e._g(e._b({staticClass:"toolbar space--h-2 width--all-12"},"div",e.$attrs,!1),e.$listeners),[e._t("before"),e.$scopedSlots.actions?t("div",[t("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",class:[e.toolbarCompactButtonResponsive],attrs:{variant:"tag",mode:"light",selected:e.actionsPopoverActive,title:"Testo"}},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"format-text"}}),t("BaseIcon",{staticClass:"button-dropdown-icon",attrs:{name:"dropdown"}}),t("BasePopover",{attrs:{active:e.actionsPopoverActive},on:{"update:active":function(t){e.actionsPopoverActive=t},open:function(t){return e.captureFocus("formatText")}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PopoverHead",{attrs:{icon:"format-text"}},[e._v(e._s("Testo"))]),t("PopoverBody",[e._t("actions",null,{close:a})],2)]}}],null,!0)})],1),t("span",{class:e.toolbarActionsResponsive},[e._t("actions",null,{close:()=>null})],2)],1):e._e(),e.plugins&&e.plugins.line?t("WysiwygButton",{attrs:{action:e.plugins.line,target:e.target,breakpoints:e.plugins.line.breakpoints}}):e._e(),e.plugins.emoji?t("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Emoji",selected:e.emojiPopoverActive}},[t("BaseIcon",{attrs:{width:"20",height:"20",name:"smiley"}}),t("BasePopover",{attrs:{active:e.emojiPopoverActive,width:"300","mobile-sheet":""},on:{"update:active":function(t){e.emojiPopoverActive=t},open:function(t){return e.captureFocus("emoji")}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PopoverHead",{attrs:{icon:"smiley"}},[e._v(e._s("Emoticon"))]),t("PopoverBody",[t("EmojiSelector",{on:{insert:function(t){e.$emit("editor-insert",{content:t.emoji}),a()}}})],1)]}}],null,!1,2622687936)})],1):e._e(),e.plugins.link?t("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Link",selected:e.linkPopoverActive}},[t("BaseIcon",{attrs:{width:"20",height:"20",name:"link"}}),t("BasePopover",{attrs:{active:e.linkPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(t){e.linkPopoverActive=t},open:function(t){return e.captureFocus("link")}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PopoverHead",{attrs:{icon:"link"}},[e._v(e._s("Link"))]),t("PopoverBody",[t("InsertLink",{attrs:{link:{...e.plugins.link}},on:{remove:function(t){e.$emit("editor-insert",{method:"removeLink"}),a()},insert:function(t){e.$emit("editor-insert",{content:t.link,method:"updateLink"}),a()},update:function(t){return e.updatePlugin("link",t)}}})],1)]}}],null,!1,541552780)})],1):e._e(),e.imageUploadAvailable?t("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Immagine",selected:e.imageUploadPopoverActive}},[t("BaseIcon",{attrs:{width:"20",height:"20",name:"image"}}),t("BasePopover",{attrs:{active:e.imageUploadPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(t){e.imageUploadPopoverActive=t},open:function(t){return e.captureFocus("image")}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PopoverHead",{attrs:{icon:"image"}},[e._v(e._s("Inserisci immagine"))]),t("PopoverBody",[e._t("image-upload",null,{close:a})],2)]}}],null,!0)})],1):e._e(),e.plugins.html?t("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Codice HTML",selected:e.htmlPopoverActive}},[t("BaseIcon",{attrs:{width:"20",height:"20",name:"code"}}),t("BasePopover",{attrs:{active:e.htmlPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(t){e.htmlPopoverActive=t},open:function(t){return e.captureFocus("html")}},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PopoverHead",{attrs:{icon:"code"}},[e._v(e._s("Inserisci codice HTML"))]),t("PopoverBody",[t("InsertCode",{on:{insert:function(t){e.$emit("editor-insert",{content:t}),a()}}})],1)]}}],null,!1,2179628250)})],1):e._e(),e.plugins.expand?t("BaseButton",{class:{"button-expand--selected":e.expanded},attrs:{variant:"tag",mode:"light",square:"","data-handler":e.$d.expandEditor.handlers,"data-toggle":e.$d.expandEditor.params.toggle,title:e.toggleExpandedText},on:{click:e.toggleExpandEditor}},[t("BaseIcon",{attrs:{width:"20",height:"20",name:e.expanded?"contract":"expand"}})],1):e._e(),e._t("after")],2)}),[],!1,null,null,null).exports,WysiwygButton:n.a},props:{target:{type:String,required:!0},plugins:{type:Object,default:()=>({})},breakpoints:{type:Object,default:()=>({toolbarActions:{xsOnly:"hide"},toolbarCompactButton:{smAndUp:"hide"}})}},computed:{hasActions(){return this.plugins.bold||this.plugins.strike||this.plugins.italic||this.plugins.list}}},b=Object(p.a)(g,(function(){var e=this,t=e._self._c;return t("WysiwygToolbarBase",e._g(e._b({attrs:{target:e.target,plugins:e.plugins,breakpoints:e.breakpoints},scopedSlots:e._u([{key:"before",fn:function(){return[e._t("before")]},proxy:!0},e.hasActions?{key:"actions",fn:function({close:a}){return[t("span",{staticClass:"flex"},[e.plugins.bold?t("WysiwygButton",{attrs:{action:e.plugins.bold,target:e.target,breakpoints:e.plugins.bold.breakpoints},nativeOn:{click:function(e){return a.apply(null,arguments)}}}):e._e(),e.plugins.strike?t("WysiwygButton",{attrs:{action:e.plugins.strike,target:e.target,breakpoints:e.plugins.strike.breakpoints},nativeOn:{click:function(e){return a.apply(null,arguments)}}}):e._e(),e.plugins.italic?t("WysiwygButton",{attrs:{action:e.plugins.italic,target:e.target,breakpoints:e.plugins.italic.breakpoints},nativeOn:{click:function(e){return a.apply(null,arguments)}}}):e._e(),e.plugins.list?t("WysiwygButton",{attrs:{action:e.plugins.list,target:e.target,breakpoints:e.plugins.list.breakpoints},nativeOn:{click:function(e){return a.apply(null,arguments)}}}):e._e()],1)]}}:null,{key:"image-upload",fn:function({close:t}){return[e._t("image-upload",null,{close:t})]}},{key:"after",fn:function(){return[e._t("after")]},proxy:!0}],null,!0)},"WysiwygToolbarBase",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null);t.a=b.exports},709:function(e,t,a){"use strict";var s={components:{ImageUploadForm:a(726).a},props:{bucket:{type:String},variation:{type:String,default:"content"},mode:{type:String,default:"default"}},methods:{async handleSubmit(e){this.$emit("upload",e)}}},n=a(44),r=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("ImageUploadForm",{attrs:{mode:e.mode,"has-alignment-selector":"","has-url-input":"","show-file-name":"","is-loading":!1},on:{submit:e.handleSubmit}})}),[],!1,null,null,null);t.a=r.exports},717:function(e,t,a){"use strict";var s=a(313),n=a(598),r=a(708),i=a(709),o=a(700);let l=null;var c,u,d={created(){this.$on("focus",(()=>{l=this.name}))}},p={methods:{textConfig(e){let{breakpoints:t={button:{any:"btn--square"},text:{any:"hide"}}}=e;return{bold:{module:"inline",fn:"format",args:["strong"],title:"Grassetto",key:"bold",icon:"bold",breakpoints:t},strike:{module:"inline",fn:"format",args:["del"],title:"Eliminato",key:"deleted",icon:"strike",breakpoints:t},italic:{module:"inline",fn:"format",args:["em"],title:"Corsivo",key:"italic",icon:"italic",breakpoints:t},list:{module:"list",fn:"toggle",args:["unorderedlist"],title:"Elenco",key:"unorderedlist",icon:"bullet-list",breakpoints:t},blockquote:{breakpoints:t},line:{module:"line",fn:"insert",title:"Linea",key:"line",icon:"line",breakpoints:t,showOnExpand:!0}}}}},h=a(701),m=a(32),f=a.n(m),v=a(135),g=a.n(v),b=(a(8),a(20));const y=e=>Object(b.b)(c||(c=g()(["/image/upload/","?"])),e),_=e=>Object(b.b)(u||(u=g()(["/image/upload-from-uri/","?"])),e),x=["type","value"];var w={created(){this.registerWriter("insertImage","insertImage")},computed:{imageUploadAvailable(){return(!!this.$slots["image-upload"]||!!this.$scopedSlots["image-upload"])&&this.pluginConfig.plugins.image}},methods:{insertImage(e){this.$editor.$editor.focus();const{type:t,value:a}=e,n=f()(e,x);Object(s.a)(this.$editor,n,{[t.toLowerCase()]:a})},imageConfig(e){return{image:Object.assign({bucket:e.imageBucket,variation:e.imageVariation},this.plugins.image||{})}},imageUploadConfig(e){let{imageVariation:t="content",imageBucket:a="threads"}=e;return{imageFormat:t,imageType:t,imageUploadEndpoint:y(a),imageLinkEndpoint:_(a),imageVariation:t,imageBucket:a}}}},C={methods:{htmlConfig:()=>({html:!0})}},k={inheritAttrs:!1},O=a(44),j=Object(O.a)(k,(function(){var e=this,t=e._self._c;return t("div",[t("input",e._g(e._b({staticClass:"mentionList",attrs:{name:"mentionsList",type:"hidden"}},"input",e.$attrs,!1),e.$listeners)),e._m(0)])}),[function(){var e=this._self._c;return e("div",{staticClass:"mentions atwho-container space--t-2 space--h-2"},[e("span",{staticClass:"atwho-at mute--text lbox--v-2"},[this._v("@")]),e("ul",{staticClass:"atwho-view fGrid"})])}],!1,null,null,null).exports,S=a(578);var I={components:{Mentions:j},data:()=>({currentMentions:""}),created(){this.handleMentions=this.handleMentions.bind(this),this.updateMentions=this.updateMentions.bind(this),this.registerHandler("mentions","handleMentions")},methods:{handleMentions(e){this.plugins.mentions=e,this.currentMentions=e},updateMentions(){return this.currentMentions},mentionsConfig:()=>({searchUrl:S.i.getSuggestions,mentionInputSelector:".mentionList",profileUrl:"".concat("https://www.pepper.it").concat(S.i.getProfile("==NameReplace==")),replacementKey:"==NameReplace=="})}};const T=["id","type"],B=["shortcode"],A=["shortcode","shortcode_id"];var P={created(){this.markForShortcodes=this.markForShortcodes.bind(this),this.updateShortcodes=this.updateShortcodes.bind(this),this.formatShortcodes=this.formatShortcodes.bind(this)},methods:{shortcodeConfig(){return{markForShortcodes:this.markForShortcodes,formatShortcodes:this.formatShortcodes}},markForShortcodes(e){this.redactorShortcode=e},updateShortcodes(){const e=this.plugins.shortcodes;return this.plugins.shortcodes=this.redactorShortcode().map((t=>{const{id:a,type:s}=t,n=f()(t,T),r=e.find((e=>e.shortcode_id===a))||{},{shortcode:i={}}=r,o=f()(r,B);return Object.assign({},o,{shortcode_id:a,type:s,shortcode:Object.assign({},i,n)})})),this.plugins.shortcodes},formatShortcodes(){var e;return null===(e=this.plugins.shortcodes)||void 0===e?void 0:e.reduce(((e,t)=>{let{shortcode:a,shortcode_id:s}=t,n=f()(t,A);return e[s]=Object.assign({id:s},n,a),e}),{})}}},L=a(654),E={methods:{expandEditor(e){this.expanded=e},expandConfig:()=>({expand:!0})}},$=a(5),M=a(0),U=a.n(M),D=a(2),N=a(7),R=a(45),q=a(3),F=a(107);const z={history:[],max:100};U()(document).on("focusin",(e=>{z.history.unshift(e)>z.max&&(z.history.length=z.max)}));var W=e=>{var t=null;return z.history.some((a=>{var s;return!(!U.a.contains(document,a.target)||!(s=U()(a.target)).is(e))&&(t=s,!0)})),t},H=a(611),G=a(702),V=a(43),K=a(24),Q=a(703);function Y(e,t,a){t=U()(t),N.a.process(U.a.get(a.endpoint),{$trigger:t}).always(R.a.init(t,a.seal)).always(q.a.tmpClass(t,a.className)).done((function(t){const a=t.data.shortcode,s=e.shortcode.instance.add(a);e.$editor.scrollTop(s.position().top),e.caret.setAfter(U()("<br><br>").insertAfter(s)[1])}))}function J(e,t){e=U()(e);const a=Q.a.find(t.id),s=a.data(a.embed(t.id));if(s){const n=void 0!==t.content?t.content:q.a.findTargets(e,t.textarea).val();s.content=F.a.escapeHtml(n),a.set(s)}e.trigger("layer-destroy")}function X(e,t){e=U()(e);const a=Q.a.find(t.id);a&&a.del(t.id),e.trigger("layer-destroy")}H.a.quote=function(){return{init:function(){const e=this.opts,t={name:"quote",html:function(e,t){return t.content=F.a.escapeHtml(t.content),(e=>{let{attr:t,content:a,original_comment_username:s,original_comment_created_at_formatted:n}=e;return'\n\t<blockquote class="userHtml-quote" '.concat(t,'>\n\t\t<span class="userHtml-quote-author">').concat(s,'</span>\n\t\t<span class="userHtml-quote-time">').concat(n,'</span>\n\t\t<p class="userHtml-quote-content">').concat(a,"</p>\n\t</blockquote>\n")})(t)},onClick:function(t,a){Object(G.a)(e,{key:"editQuote",value:t}),V.a.clickHandler(a,U.a.extend({},q.a.$win.height()<600?K.a.defaults:{layout:[{preset:"n",x:0},{preset:"s",x:0}],close:!1,reTrigger:"ignore"},{target:"#template-quotePopover",tplData:t}))}};this.shortcode.instance.registerType(t),this.shortcode.instance.registerType(U.a.extend({},t,{name:"legacy_quote"}))}}},D.a.add("quote-add","click",(function(e,t){const a=W(".redactor-editor")||U()(".redactor-editor"),n=s.b.getTextarea(a);s.b.initRedactor(n).then((a=>{Y(a,e,t)}))}),{className:"",seal:{cover:!1}}),D.a.add("quote-update","click",J),D.a.add("quote-del","click",X);const Z=new $.default({data:()=>({shortcodeId:null}),methods:{triggerQuote(e,t){this.$emit("triggerQuote",{event:e,entityId:t})},addQuote(e,t){this.$emit("addQuote",{event:e,entityId:t})},editQuote(e){this.shortcodeId=e},updateQuote(e,t){this.$emit("updateQuote",{event:e,content:t,shortcodeId:this.shortcodeId}),this.shortcodeId=null},deleteQuote(e,t){this.$emit("deleteQuote",{event:e,shortcodeId:t})}}});var ee={created(){this.registerHandler("editQuote","editQuote"),this.addQuote=this.addQuote.bind(this),this.editQuote=this.editQuote.bind(this),this.updateQuote=this.updateQuote.bind(this),this.deleteQuote=this.deleteQuote.bind(this),Z.$on("addQuote",this.addQuote),Z.$on("updateQuote",this.updateQuote),Z.$on("deleteQuote",this.deleteQuote),this.$once("hook:beforeDestroy",(()=>{Z.$off("addQuote",this.addQuote),Z.$off("updateQuote",this.updateQuote),Z.$off("deleteQuote",this.deleteQuote)}))},methods:{addQuote(e){let{event:t,entityKey:a="comment_id",entityId:s}=e;this.name===l&&Y(this.$editor,t.target,{endpoint:"/shortcodes/template/quote?".concat(a,"=").concat(s),seal:{cover:!1},className:""})},updateQuote(e){let{event:t,shortcodeId:a,content:s}=e;this.name===l&&J(t.target,{id:a,content:s})},deleteQuote(e){let{event:t,shortcodeId:a}=e;this.name===l&&X(t.target,{id:a})},editQuote(e){Z.editQuote(e)}}},te=a(638),ae=a(567),se=a(121),ne=(a(570),a(720));const re={allowedTags:["ul","li","a","strong","em","del","br","span","div","img","iframe","hr","blockquote"],plugins:["emoji","imagify","shortcode","video","linkify","restore","quote"],buttonActiveClass:"button--selected",buttonTarget:".redactor/.button{% if key %}--{{key}}{% endif %}",forceReplaceDivsOnPaste:!0,linebreaks:!0,imageEditable:!1,imageUrl:"url",replaceDivs:!1,staticDom:!0,maxImages:null};var ie={components:{SlideUpDown:ne.a,WysiwygToolbar:r.a,EditorImageUpload:i.a},mixins:[Object(n.a)(),d,o.a,E,C,L.b,p,h.a,w,I,P,ee],inheritAttrs:!1,model:{event:"update"},props:{name:{type:String,required:!0},value:{type:String,default:""},disabled:{type:Boolean,default:!1},directives:{type:Object,default:()=>({})},features:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},plugins:{type:Object,default:()=>({})},mode:{type:String,default:"default",validators:e=>-1!==["brand","default"].indexOf(e)},hasError:{type:Boolean,default:!1}},data(){return{wysiwygConfig:Object.assign({},re,{mentions:this.mentionsConfig&&this.mentionsConfig()},this.restoreConfig?this.restoreConfig():{},this.imageUploadConfig?this.imageUploadConfig(this.config):{},this.shortcodeConfig?this.shortcodeConfig():{},this.config),isTipVisible:!1,expanded:!1}},computed:{redactorStyles(){return this.config.minHeight?{"min-height":this.config.minHeight}:null},pluginConfig(){const e=this.mapPlugins();return{target:"#".concat(this.name),plugins:e}},redactorValue:{get(){return this.value},set(e){this.syncFromEditor(Object(se.d)(e))}},$directives(){return Object.assign({"focus-toggle":{toggles:[{className:"redactor--focus",target:".redactor"}]}},this.directives)},editorClassList(){return{"redactor-editor--small":this.config.small,"redactor-editor--admin":this.config.admin}}},async mounted(){this.$editor=await s.b.initRedactor(this.$refs.input,Object.assign({},this.wysiwygConfig,{vue:this.updatePlugin.bind(this)}));const e=e=>this.$emit("change",e),t=e=>this.$emit("focus",e),a=e=>{if(e.data){const e=this.$refs.editor.innerHTML;this.syncFromEditor(e)}};this.$refs.editor.addEventListener("blur",e),this.$refs.editor.addEventListener("focus",t),this.$refs.editor.addEventListener("input",a),this.$once("hook:beforeDestroy",(()=>{this.$refs.editor.removeEventListener("blur",e),this.$refs.editor.removeEventListener("focus",t),this.$refs.editor.removeEventListener("input",a)})),setTimeout((()=>this.$emit("ready")))},destroyed(){this.handlers={},this.writers={},this.$editor=null},methods:{mapPlugins(){const e={},t=this.wysiwygConfig,a=Object.assign({},this.textConfig?this.textConfig(t):{},this.imageConfig?this.imageConfig(t):{},this.expandConfig?this.expandConfig(t):{},this.htmlConfig?this.htmlConfig(t):{},this.plugins);for(const[t,s]of Object.entries(a))(t in this.features&&this.features[t]||void 0===this.features[t])&&(e[t]=s);return e},registerHandler(e,t){this.handlers=this.handlers||{value:"syncToEditor"},this.handlers[e]=t},registerWriter(e,t){this.writers=this.writers||{},this.writers[e]=t},pluginEnabled(e){return!1!==this.plugins[e]},updatePlugin(e){let{key:t,value:a}=e;if(t in this.handlers)return this[this.handlers[t]](a)},syncFromEditor(e){this.$emit("update",e)},syncToEditor(e){this.redactorValue!==e&&(this.redactorValue=e)},async syncRedactor(){await this.$nextTick(),this.$refs.editor.innerHTML=this.redactorValue},captureEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.preserveSelection(),this.updateLinkSelection&&this.updateLinkSelection(e)},insertEditor(e){let{content:t,method:a="htmlWithoutClean"}=e;a in this.writers?this[this.writers[a]](t):this.$editor.insert[a](t)},showTip(){this.$scopedSlots.tip&&(this.isTipVisible=!0)},hideTip(){this.isTipVisible=!1},dropLocalImages(e){const{maxImages:t,dragImageUpload:a}=this.wysiwygConfig,s=Array.from((null==e?void 0:e.detail.files)||[]),n=this.getNumberOfImgToUpload();if(!a)return void Object(te.f)(e.type);if(0===s.length)return;let r=s.filter((e=>Object(te.a)(e))).filter((e=>{const t=!Object(ae.a)(e);return t||Object(te.d)(),t}));t&&r.length>n&&(Object(te.e)(t),r=r.slice(0,n)),r.forEach((e=>{this.insertEditor({content:{alignment:"left",type:"FILE",value:e},method:"insertImage"})}))},insertLocalImage(e){const{maxImages:t}=this.wysiwygConfig;0!==this.getNumberOfImgToUpload()?this.insertEditor({content:e,method:"insertImage"}):Object(te.e)(t)},getNumberOfImgToUpload(){const e=(this.$refs.editor.innerHTML.match(/<img/g)||[]).length,{maxImages:t}=this.wysiwygConfig;return t?t-e:t}}},oe=ie,le=Object(O.a)(oe,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{isActive:e.$slots.tip,handler:e.hideTip},expression:"{ isActive: $slots.tip, handler: hideTip }"}],staticClass:"redactor redactor-box aGrid",class:{"redactor--hasError":e.hasError},attrs:{disabled:e.disabled},on:{click:e.showTip}},[t("div",{ref:"editor",staticClass:"redactor-editor redactor-placeholder size--all-m border--b-r width--all-12 overflow--scrollX-raw overflow--scrollY-raw userHtml userHtml--wysiwyg overflow--wrap-break hide--js-off",class:e.editorClassList,style:e.redactorStyles,attrs:{"data-handler":e.$d.handlers,"data-focus-toggle":e.$d.params["focus-toggle"],"data-field-name":e.name,tabindex:"0"}}),t("div",{staticClass:"redactor-tips",class:{"space--h-2 space--v-2":e.$slots.tip}},[t("SlideUpDown",[e.isTipVisible?t("div",[e._t("tip")],2):e._e()])],1),t("textarea",e._g(e._b({ref:"input",staticClass:"width--all-12 hide--js-on",attrs:{id:e.name,name:e.name},domProps:{value:e.redactorValue},on:{"paste-local-file":e.dropLocalImages,"drop-local-file":e.dropLocalImages}},"textarea",e.$attrs,!1),e.$listeners)),e.pluginEnabled("mentions")?t("Mentions",{attrs:{value:e.plugins.mentions}}):e._e(),e._t("default",(function(){return[t("WysiwygToolbar",e._b({attrs:{expanded:e.expanded},on:{"plugin-update":e.updatePlugin,"editor-insert":e.insertEditor,"editor-capture":e.captureEditor,"editor-expand":e.expandEditor},scopedSlots:e._u([e.pluginEnabled("image")?{key:"image-upload",fn:function({close:a}){return[t("EditorImageUpload",e._b({attrs:{mode:"brand"},on:{upload:function(t){e.insertLocalImage(t),a()}}},"EditorImageUpload",e.pluginConfig.plugins.image,!1))]}}:null],null,!0)},"WysiwygToolbar",e.pluginConfig,!1))]}),{pluginConfig:e.pluginConfig,pluginEnabled:e.pluginEnabled,updatePlugin:e.updatePlugin,insertEditor:e.insertEditor,captureEditor:e.captureEditor,expandEditor:e.expandEditor})],2)}),[],!1,null,null,null);t.a=le.exports},718:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const s={bigCards1:420,w2:480,w3:768,w4:1024,w6:1600},n=e=>"(max-width: ".concat((s[e]-.25)/16,"rem)")},719:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var s=a(109);let n=function(e){return e.TWITTER="twitter",e.FACEBOOK="facebook",e.MESSENGER="messenger",e.WHATSAPP="whatsapp",e.COPY_MOBILE="copy_url_mb",e.COPY_DESKTOP="copy_url_dt",e.WEB_SHARE="mwebshare",e}({});function r(e,t,a){const n=Object(s.c)(Object(s.k)(Date.now()),"yyyy-MM-dd");return"".concat(t,"?utm_source=").concat(e,"&utm_medium=referral&utm_campaign=").concat(n,"&utm_content=").concat(a)}},720:function(e,t,a){"use strict";var s={name:"SlideUpDown",functional:!0,render:(e,t)=>e("transition",{props:{name:"expand",appear:!0},on:{afterEnter(e){e.style.height="auto"},enter(e){const{width:t}=getComputedStyle(e);e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const{height:a}=getComputedStyle(e);e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame((()=>{e.style.height=a}))},leave(e){const{height:t}=getComputedStyle(e);e.style.height=t,getComputedStyle(e).height,requestAnimationFrame((()=>{e.style.height=0}))}}},t.children)},n=a(44),r=Object(n.a)(s,undefined,undefined,!1,null,null,null);t.a=r.exports},721:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var s=a(6),n=a(1);let r=function(e){return e.BASE="base",e.BANNER_LOGO="bannerLogo",e.HOME_SPONSORS_IMAGE="homeSponsorsImage",e.HOT_SPONSORS_IMAGE="hotSponsorsImage",e}({});const i={[r.BASE]:n.mb,[r.BANNER_LOGO]:n.lb,[r.HOME_SPONSORS_IMAGE]:n.nb,[r.HOT_SPONSORS_IMAGE]:n.ob};function o(e){const t=e.map((e=>i[e]));return Object(s.c)({queries:t,merge:!0})({}).then((e=>e.request)).then((e=>e.themedEvent))}},722:function(e,t,a){"use strict";var s=a(103),n=a(20);t.a={props:{thread:{type:Object,default:()=>({})},features:{type:Object,default:()=>({})},labelClass:{type:String,default:""}},data:()=>({loading:!1}),methods:{redirectLocation:n.d,redirectMerged:s.g,reload(){location.reload()},updateThread(e){this.$emit("update",{thread:e})},updateFeatures(e){this.$emit("update",{features:e})}}}},723:function(e,t,a){"use strict";var s=a(5),n=a(549),r=Object(s.defineComponent)({__name:"form-input-numeric-base",props:{value:null,disableCache:{type:Boolean,default:!1}},emits:["input","focus","blur","keydown"],setup(e,t){let{emit:a}=t;const r=e,i=Object(s.reactive)({isComputedDirty:!1}),o=Object(s.computed)((()=>(i.isComputedDirty&&r.disableCache&&(i.isComputedDirty=!1),l(r.value))));function l(e){const t=Object(n.b)(e);return Number.isNaN(t)?e:Object(n.a)(t)}return{__sfc:!0,props:r,emit:a,state:i,localValue:o,formatValue:l,change:function(e){r.disableCache&&(i.isComputedDirty=!0);const t=e.target.value,s=Object(n.b)(t);a("input",Number.isNaN(s)?t:+s.toFixed(2))}}}}),i=a(44),o=Object(i.a)(r,(function(){var e=this._self._c,t=this._self._setupProxy;return e("input",{domProps:{value:t.localValue},on:{change:t.change,focus:function(e){return t.emit("focus",e)},blur:function(e){return t.emit("blur",e)},keydown:function(e){return t.emit("keydown",e)}}})}),[],!1,null,null,null);t.a=o.exports},726:function(e,t,a){"use strict";var s=a(527),n=a(510),r=a(567),i={components:{FormInput:n.e},props:{showFileName:{required:!0,type:Boolean,default:!1},disableControl:{type:Boolean,default:!1},value:{required:!1},mode:{type:String,default:"default"}},computed:{selectedFileName(){return this.value?this.value.name:"Nessuno selezionato"},labelMode(){return"brand"===this.mode?"button--mode-brand":"button--mode-default"}},methods:{selectFile(){this.$emit("input",Object(r.b)(this.$refs.file.$el))}}},o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"tGrid tGrid--auto width--all-12 hide--js-off"},[t("span",{staticClass:"tGrid-cell tGrid-cell--shrink"},[t("label",{staticClass:"button button--type-secondary button--shape-circle width--all-12",class:[e.labelMode,{"button--disabled":e.disableControl}]},[e._v(" "+e._s("Scegli")+" "),t("FormInput",{ref:"file",staticClass:"hide",attrs:{disabled:e.disableControl,type:"file",accept:".jpg, .jpeg, .png, .gif, .webp",name:"file"},on:{change:e.selectFile}})],1)]),e.showFileName?t("span",{staticClass:"tGrid-cell vAlign--all-m space--l-2"},[t("span",{staticClass:"mute--text size--all-m box--all-b overflow--ellipsis-tableFix"},[e._v(e._s(e.selectedFileName))])]):e._e()])}),[],!1,null,null,null).exports,c=a(508),u={__name:"alignment-selector-control",setup:e=>({__sfc:!0,alignments:[{name:"left",icon:"align-left",label:"Mancanti"},{name:"center",icon:"align-center",label:"Centro"}],SegmentedButton:c.b})},d=Object(o.a)(u,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"flex"},e._l(a.alignments,(function(s){return t(a.SegmentedButton,e._g(e._b({key:s.name,staticClass:"width--all-6",attrs:{name:s.name,mandatory:""}},"SegmentedButton",e.$attrs,!1),e.$listeners),[t("BaseIcon",{attrs:{name:s.icon,left:""}}),e._v(" "+e._s(s.label)+" ")],1)})),1)}),[],!1,null,null,null).exports,p=a(638);const h=Object(s.a)().set({label:"engagement"});var m={components:{BaseButton:c.a,FormList:n.l,FormRow:n.o,FormLabel:n.k,FormContent:n.c,FormInput:n.e,FileUploadControl:l,AlignmentSelectorControl:d},inheritAttrs:!1,props:{isLoading:{type:Boolean,required:!0},hasAlignmentSelector:{type:Boolean,default:!1},hasUrlInput:{type:Boolean,default:!1},immediateUpload:{type:Boolean,default:!1},showFileName:{type:Boolean,default:!1},mode:{type:String,default:"default"}},data:()=>({file:null,url:null,alignment:"left"}),computed:{noSelectionMade(){return!this.file&&!this.url},shouldDisableFileControl(){return!(!this.isLoading&&!this.url)},shouldDisableURLControl(){return!(!this.isLoading&&!this.file)},shouldDisableSubmitControl(){return!(!this.isLoading&&!this.noSelectionMade)}},methods:{submit(){const e=this.file?"FILE":"URL",t=this.file?this.file:this.url;if("FILE"===e&&Object(r.a)(t))return void Object(p.d)();let a={type:e,value:t};this.hasAlignmentSelector&&(a=Object.assign(a,{alignment:this.alignment})),this.$emit("submit",a)},handleURL(){h.record({action:"add_image_url"})},handleFile(){h.record({action:"add_image"}),this.immediateUpload&&this.submit()}}},f=Object(o.a)(m,(function(){var e=this,t=e._self._c;return t("FormList",[e._t("above"),t("FormRow",{attrs:{disabled:e.shouldDisableFileControl}},[t("FormLabel",[e._v(e._s("Carica immagine"))]),t("FormContent",[t("FileUploadControl",{attrs:{mode:e.mode,"disable-control":e.shouldDisableFileControl,"show-file-name":e.showFileName},on:{input:e.handleFile},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)],1),e.hasUrlInput?t("FormRow",{attrs:{disabled:e.shouldDisableURLControl}},[t("FormLabel",[e._v(e._s("Immagine da URL"))]),t("FormContent",[t("FormInput",{attrs:{name:"url",placeholder:"URL immagine",disabled:e.shouldDisableURLControl},on:{input:e.handleURL},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1):e._e(),e.hasAlignmentSelector?t("FormRow",[t("FormLabel",[e._v(e._s("Allineamento"))]),t("FormContent",[t("AlignmentSelectorControl",{attrs:{"selected-value":e.alignment},on:{"update:selectedValue":function(t){e.alignment=t},"update:selected-value":function(t){e.alignment=t}}})],1)],1):e._e(),t("FormRow",[t("FormContent",[t("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:e.shouldDisableSubmitControl},on:{click:function(t){return e.submit()}}},[e._v(" "+e._s("Aggiungi immagine")+" ")])],1)],1),e._t("default")],2)}),[],!1,null,null,null);t.a=f.exports},727:function(e,t,a){"use strict";var s={functional:!0,props:{title:{type:String,required:!0},descr:{type:String,default:""}}},n=a(44),r=Object(n.a)(s,(function(e,t){return e("div",{staticClass:"space--h-3 space--v-3 bg--color-greyPanel bRad--a size--all-m"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"flex boxAlign-ai--all-c height--rows-1 space--mr-1"},[e("BaseIcon",{attrs:{name:"info",color:"charcoalShade",width:"18",height:"18"}})],1),e("span",{staticClass:"text--b"},[t._v(" "+t._s(t.props.title)+" ")])]),t.props.descr?e("div",{staticClass:"size--all-s text--color-charcoalTint space--mt-1"},[t._v(t._s(t.props.descr))]):t._e()])}),[],!0,null,null,null);t.a=r.exports},747:function(e,t,a){var s=a(249),n=a(324);e.exports=function(e,t){return e&&e.length?n(e,s(t,2)):[]}},748:function(e,t,a){"use strict";var s=a(44),n=Object(s.a)({},(function(){return(0,this._self._c)("span",{staticClass:"formList-label-info lbox--v-1"},[this._t("default")],2)}),[],!1,null,null,null);t.a=n.exports},750:function(e,t,a){var s=a(137),n=a(81),r=a(123);e.exports=function(e){return"string"==typeof e||!n(e)&&r(e)&&"[object String]"==s(e)}},753:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u}));var s=a(6),n=a(1);const r=Object(s.c)({queries:[n.L],merge:!0}),i=Object(s.c)({queries:[n.K],merge:!0}),o=Object(s.c)({queries:[n.u,n.Cb,n.Bb],merge:!0}),l=function(e){return r({threadId:e,linkingLimit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:15}).then((e=>e.request)).then((e=>{let{thread:t}=e;return{groups:t.relatedGroups,discussions:t.relatedDiscussions}})).then((e=>d(e)?null:e))},c=function(e){return i({merchantUrlName:e,linkingLimit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:15}).then((e=>e.request)).then((e=>{let{merchant:t}=e;return{groups:t.relatedGroups,merchants:t.relatedMerchants,discussions:t.relatedDiscussions}})).then((e=>d(e)?null:e))},u=()=>o({page:1,feed:"popular"}).then((e=>e.request)).then((e=>{let{topMerchantsWidget:t,discussionWidget:a,topGroupsWidget:s}=e;return{topGroups:null==s?void 0:s.groups,topMerchants:null==t?void 0:t.merchants,topDiscussions:null==a?void 0:a.threads}})),d=e=>!Object.values(e).some((e=>e.length))},762:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(6),n=a(1);const r=Object(s.c)({queries:[n.b],merge:!0}),i=()=>r({}).then((e=>e.request)).then((e=>{let{me:t,features:a,settings:s}=e;return{settings:s,me:t,features:a}}))},763:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(721);const n=(e,t)=>{let{beforeEnter:a,path:n}=e;return a(((e,a)=>{if(t)return a?a.themedEvent:Object(s.b)(t)}),[n])}},764:function(e,t,a){"use strict";(function(e){var s=a(895),n=a(508);t.a={components:{ItemAvatar:s.a,BaseButton:n.a},props:{item:{type:Object,required:!0},innerClass:{type:Object,required:!1}},computed:{normalizedItem(){const t=this.item.name;return{name:t,imageUrls:this.item.imageUrls,altAttr:"Group"===this.item.__typename?e(":group Offerte",{replaces:{group:t}}):e(":merchant Offerte",{replaces:{merchant:t}})}},linkParams(){const e=this.item.urlName;return"Group"===this.item.__typename?{name:"threads.index.group",params:{slug:e}}:{name:"merchants.show",params:{merchantUrlName:e}}}}}}).call(this,a(70).translation)},766:function(e,t,a){"use strict";var s=a(5),n=Object(s.defineComponent)({__name:"app-download-message-loader",props:{data:{type:Object,required:!0}},setup(e){const t=e,n=Object(s.computed)((()=>{var e;return null===(e=t.data.data)||void 0===e?void 0:e.value})),r=Object(s.computed)((()=>{var e,t,a,s,r,i,o,l;return(null===(e=n.value)||void 0===e||null===(t=e.me)||void 0===t?void 0:t.isEligibleForShowingAppDownloadMessage)&&((null===(a=n.value)||void 0===a||null===(s=a.features)||void 0===s||null===(r=s.promotionTools)||void 0===r?void 0:r.appDownloadMessage)||(null===(i=n.value)||void 0===i||null===(o=i.features)||void 0===o||null===(l=o.promotionTools)||void 0===l?void 0:l.appDownloadMessageForThreadVoting))}));return{__sfc:!0,AppDownloadMessage:()=>a.e(221).then(a.bind(null,1292)),props:t,dataValue:n,shouldBeLoaded:r}}}),r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.shouldBeLoaded?t(a.AppDownloadMessage,{attrs:{data:a.dataValue}}):e._e()}),[],!1,null,null,null);t.a=i.exports},767:function(e,t,a){"use strict";var s=a(5),n=a(748);const r={inheritAttrs:!1};var i=Object.assign(r,{__name:"form-label",props:{optional:{type:Boolean,default:!1},required:{type:Boolean,default:!1}},setup:e=>({__sfc:!0,showError:Object(s.computed)((()=>Object(s.inject)("$showError")())),LabelInfo:n.a})}),o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("span",{staticClass:"formList-label hide--empty",class:{"formList-label--error":a.showError}},[t("label",e._b({staticClass:"hide--empty"},"label",e.$attrs,!1),[t("span",{staticClass:"formList-label-content lbox--v-1 hide--empty"},[e._t("icon"),e._t("default")],2)]),e.optional?t(a.LabelInfo,[e._v(e._s("Opzionale"))]):e._e(),e.required?t(a.LabelInfo,[e._v(e._s("obbligatorio"))]):e._e(),e._t("after-text"),t("span",{staticClass:"lbox--v-1 space--ml-a hide--empty"},[e._t("end")],2)],2)}),[],!1,null,null,null);t.a=l.exports},768:function(e,t,a){"use strict";var s=a(32),n=a.n(s);const r=["change"];var i={inheritAttrs:!1,model:{prop:"checked",event:"change"},props:{id:{type:String,default:null},value:{type:[String,Boolean,Number],default:"1"},checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{listeners(){const e=this.$listeners;return n()(e,r)}},methods:{handleChange(e){this.$emit("change",e.target.checked)}}},o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"checkbox checkbox--switch size--all-m",attrs:{for:e.id}},[t("input",e._g(e._b({staticClass:"input checkbox-input",attrs:{type:"checkbox"},on:{change:e.handleChange}},"input",e.$props,!1),e.listeners)),t("span",{staticClass:"checkbox--switch-control flex--shrink-0"}),e.$slots["inline-label"]?t("span",{staticClass:"space--l-2"},[e._t("inline-label")],2):e._e()])}),[],!1,null,null,null);t.a=l.exports},769:function(e,t,a){"use strict";var s={name:"FormTextarea",mixins:[a(665).a]},n=a(44),r=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("textarea",e._g(e._b({staticClass:"input",class:{"input--mode-error":e.showError},on:{input:e.formInput}},"textarea",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null);t.a=r.exports},770:function(e,t,a){"use strict";var s=a(5),n=a(522),r=Object(s.defineComponent)({__name:"event-theming-logo",props:{logo:null},setup(e){const t=e,a={"1x":[["fi",192,40],["ft","png"],["qt",90]],"2x":[["fi",384,80],["ft","png"],["qt",90]]},r=Object(s.computed)((()=>({"1x":new n.a(t.logo).apply(a["1x"]).toString(),"2x":new n.a(t.logo).apply(a["2x"]).toString()})));return{__sfc:!0,props:t,bannerLogoVariants:a,src:r}}}),i=a(44),o=Object(i.a)(r,(function(){var e=this._self._c,t=this._self._setupProxy;return e("div",{staticClass:"aGrid"},[e("img",{staticClass:"eventTheming-logo box--all-b space--fromW3-r-2",attrs:{src:t.src["1x"],srcset:`${t.src["2x"]} 2x`,alt:""}})])}),[],!1,null,null,null);t.a=o.exports},771:function(e,t,a){"use strict";var s=a(5),n=a(522),r=a(718),i=Object(s.defineComponent)({__name:"thread-listing-header-image",props:{image:null,picsyOperationParams:null},setup(e){const t=e,a="(-webkit-min-device-pixel-ratio: 2)",s=Object(r.a)("w2"),i="".concat(s," and ").concat(a),o="".concat(a),l=[[t.picsyOperationParams.mobile,s],[t.picsyOperationParams.mobile2X,i],[t.picsyOperationParams.tablet],[t.picsyOperationParams.tablet2X,o]],c=l.map((e=>{const[a,s]=e;return{media:s,url:new n.a(t.image).apply(a).toString()}})),u=c[0];return{__sfc:!0,props:t,dpr2:a,mobileWidthMedia:s,mobileWithHighResolutionMedia:i,tabletWithHighResolutionMedia:o,variants:l,imageVariants:c,defaultVariant:u}}}),o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("picture",[e._l(a.imageVariants,(function(e,a){return t("source",{key:a,attrs:{media:e.media,srcset:e.url}})})),t("img",{staticClass:"eventTheming-headerImage img--fit-cover aGrid-item seal--pointer-off width--all-12 height--all-full",attrs:{src:a.defaultVariant.url,alt:""}})],2)}),[],!1,null,null,null);t.a=l.exports},775:function(e,t,a){"use strict";var s=a(44),n=Object(s.a)({},(function(){return(0,this._self._c)("div",{staticClass:"formList-content"},[this._t("default")],2)}),[],!1,null,null,null);t.a=n.exports},776:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").substring(0,e)}},78:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u}));var s=a(0),n=a.n(s),r=a(86),i=a.n(r);const o=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),e.target.dispatchEvent(new CustomEvent("view",{bubbles:!0})))}))})),l=e=>o.observe(e),c=e=>o.unobserve(e);function u(){const e=new WeakSet,t=i()((()=>{document.querySelectorAll("[data-t-view-twig]").forEach((t=>{e.has(t)||(e.add(t),l(t))}))}),10);n()(t),n()(window).on("debouncedDomChanged",t),n()(document).on("init","[data-handler]",t)}},780:function(e,t,a){"use strict";var s=a(5),n=a(4),r=Object(s.defineComponent)({__name:"json-ld",props:{schema:[Object,String]},setup(e){const t=e,a=Object(s.computed)((()=>!n.a.getters["auth/loggedIn"]&&t.schema)),r=Object(s.computed)((()=>"string"==typeof t.schema?t.schema:JSON.stringify(t.schema)));return{__sfc:!0,props:t,isActive:a,schema:r}}}),i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.isActive?t("script",{tag:"Component",attrs:{type:"application/ld+json"}},[e._v(e._s(a.schema))]):e._e()}),[],!1,null,null,null);t.a=o.exports},783:function(e,t,a){"use strict";var s=a(44),n=Object(s.a)({},(function(e,t){return e("div",{staticClass:"flex boxAlign-ai--all-c boxAlign-jc--all-c bRad--a space--v-3 space--h-3",class:[t.data.staticClass,t.data.class]},[t._t("default")],2)}),[],!0,null,null,null);t.a=n.exports},809:function(e,t,a){"use strict";var s=a(5),n=a(770),r=a(771),i=Object(s.defineComponent)({__name:"event-theming-header-image",props:{image:null},setup:e=>({__sfc:!0,picsyOperationParams:{mobile:[["fi",480,140],["ft","jpg"],["qt",90]],mobile2X:[["fi",960,280],["ft","jpg"],["qt",85]],tablet:[["fi",1200,128],["ft","jpg"],["qt",90]],tablet2X:[["fi",2400,256],["ft","jpg"],["qt",85]]},ThreadListingHeaderImage:r.a})}),o=a(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.ThreadListingHeaderImage,{attrs:{image:e.image,"picsy-operation-params":a.picsyOperationParams}})}),[],!1,null,null,null).exports,c=Object(s.defineComponent)({__name:"event-theming-base-header",props:{themedEvent:null},setup:e=>({__sfc:!0,EventThemingLogo:n.a,EventThemingHeaderImage:l})}),u=Object(o.a)(c,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"eventTheming aGrid width--all-12"},[e.themedEvent.headerImage?t(a.EventThemingHeaderImage,{attrs:{image:e.themedEvent.headerImage}}):e._e(),e.themedEvent.bannerLogo?t("div",{staticClass:"listLayout page-center"},[t("div",{staticClass:"flex flex--dir-col flex--fromW3-dir-row boxAlign-ai--all-c boxAlign-jc--all-sb space--v-2"},[t(a.EventThemingLogo,{attrs:{logo:e.themedEvent.bannerLogo}}),e._t("afterLogo")],2)]):e._e(),e._t("belowLogo")],2)}),[],!1,null,null,null);t.a=u.exports},813:function(e,t,a){"use strict";var s={name:"BaseBadge"},n=a(44),r=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"textBadge size--all-xs flex--inline boxAlign-ai--all-c space--v-1 text--b"},[e._t("prefix"),e._t("default"),e._t("postfix")],2)}),[],!1,null,null,null);t.a=r.exports},818:function(e,t,a){"use strict";var s=a(28),n={data:()=>({wasCopied:!1,isSupported:document.queryCommandSupported&&document.queryCommandSupported("copy")}),methods:{async copy(e){try{e.select(),document.execCommand("copy"),this.wasCopied=!0,await Object(s.d)(5e3),this.wasCopied=!1}catch(e){this.isSupported=!1}}},render(){return this.$scopedSlots.default({copy:this.copy,wasCopied:this.wasCopied,isSupported:this.isSupported})}},r=a(44),i=Object(r.a)(n,undefined,undefined,!1,null,null,null);t.a=i.exports},819:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var s=a(6),n=a(1);const r=Object(s.c)({queries:[n.C],merge:!0}),i=e=>{e&&window.fbq("track","PageView")};let o;const l=async()=>{o||(o=await r({}).then((e=>e.request)).then((e=>{let{settings:t,features:a}=e;return Object.assign({},t.facebookTracking,a.facebookTracking)}))),o.tracking&&(window.fbq?i(o.pageViewTracking):a.e(219).then(a.bind(null,1219)).then((e=>{let{initFacebookTracking:t}=e;return t(o.accountId)})).then((()=>i(o.pageViewTracking))))}},821:function(e,t,a){"use strict";(function(e){var s=a(718),n=a(522);const r="(min-resolution: 192dpi)",i="(-webkit-min-device-pixel-ratio: 2)";t.a={computed:{w2MediaMaxWidth:()=>Object(s.a)("w2"),mobileWithHighResolutionMedia(){return"".concat(this.w2MediaMaxWidth," and ").concat(i,", ").concat(this.w2MediaMaxWidth," and ").concat(r)},tabletWithHighResolutionMedia:()=>"".concat(r,", ").concat(i),bannerAltText(){var t;return e("Loghi negozio per :event",{replaces:{event:null===(t=this.threadEvent)||void 0===t?void 0:t.name}})},bannerSubtitle(){var t;return e("Vedi tutte le offerte",{replaces:{event:null===(t=this.threadEvent)||void 0===t?void 0:t.name}})},bannerLogoAltText(){var t;return e(":event",{replaces:{event:null===(t=this.threadEvent)||void 0===t?void 0:t.name}})},isSponsors(){var e,t,a;return(null===(e=this.threadEvent)||void 0===e?void 0:e.sponsorImageApp)&&(null===(t=this.threadEvent)||void 0===t?void 0:t.sponsorImageLarge)&&(null===(a=this.threadEvent)||void 0===a?void 0:a.sponsorImageSmall)},thread(){return this.$store.getters["threads/get"](this.$route.params.threadId)},threadEvent(){var e;return null===(e=this.thread)||void 0===e?void 0:e.events[0]},isThreadBannerShown(){return this.threadEvent.includeInthreadBanner},isShowSponsorsImages(){return this.isSponsors&&this.threadEvent.showMerchantsOnCountdown},eventBannerImage_1024x160(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.headerImage).fit(1024,160).quality(90).toString()},eventBannerImage_2048x320(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.headerImage).fit(2048,320).quality(85).toString()},eventBannerImage_480x140(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.headerImage).fit(480,140).quality(90).toString()},eventBannerImage_960x280(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.headerImage).fit(960,280).quality(85).toString()},eventBannerImage_480x200(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.headerImage).fit(480,200).quality(90).toString()},eventBannerImage_960x400(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.headerImage).fit(960,400).quality(85).toString()},eventHorizontalImage_500x64(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.bannerHorizontalImage).fit(500,64).quality(90).toString()},eventHorizontalImage_1000x128(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.bannerHorizontalImage).fit(1e3,128).quality(90).toString()},eventSponsorsImage_1000x150(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.sponsorImageLarge).fit(1e3,150).quality(90).toString()},eventSponsorsImage_2200x300(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.sponsorImageLarge).fit(2200,300).quality(90).toString()},eventSponsorsImage_576x200(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.sponsorImageSmall).fit(576,200).quality(90).toString()},eventSponsorsImage_1152x400(){var e;return new n.a(null===(e=this.threadEvent)||void 0===e?void 0:e.sponsorImageSmall).fit(1152,400).quality(90).toString()}}}}).call(this,a(70).translation)},822:function(e,t,a){"use strict";(function(e){t.a={props:{thread:{type:Object,required:!0}},computed:{monetizationMessage(){return e("Pepper.it potrebbe ricevere un compenso in base alle visite o agli acquisti effettuati tramite il nostro sito. Questo non influisce sulle offerte che vengono pubblicate. Maggiori info su: FAQ.",{replaces:this.markup})},markup(){const e="link--greyTint text--b";return{faqLinkStart:'<a class="'.concat(e,'" href="').concat("https://www.pepper.it/faqs",'">'),faqLinkEnd:"</a>",aboutLinkStart:'<a class="'.concat(e,'" href="').concat(undefined,'">'),aboutLinkEnd:"</a>"}}}}}).call(this,a(70).translation)},823:function(e,t,a){"use strict";(function(e){var s=a(5),n=a(575),r=a(511);t.a=Object(s.defineComponent)({__name:"app-install-modal",props:{statistic:null},setup(t){const a=t,i=Object(s.computed)((()=>e("Non aspettare che i tuoi amici condividano le offerte con te - imposta le notifiche personalizzate nell’app Pepper e sarai il primo a essere informato!",{replaces:{count:a.statistic.userCountString}})));return{__sfc:!0,props:a,appStoreUrl:"https://qmrb.adj.st/?adj_t=i193jqm",description:i,BaseModal:n.a,ModalHead:n.e,ModalBody:n.b,ModalFooter:n.d,BaseButton:r.a}}})}).call(this,a(70).translation)},824:function(e,t,a){"use strict";(function(e){var s=a(94),n=a(508),r=a(870);t.a={components:{UpdateForm:r.a,BaseButton:n.a},props:{threadUpdateItem:{type:Object,required:!0},index:{type:Number,required:!0},totalThreadUpdates:{type:Number,required:!0},showPriority:{type:Boolean,default:!1},itemModifier:{type:String,default:""},threadIsExpired:{type:Boolean,required:!0},isAllowedToPostUpdate:{type:Boolean,default:!1},bottomUpdatesLength:{type:Number,required:!0},top:{type:Boolean,default:!1}},data(){return{isThreadUpdateItemExpanded:this.threadUpdateItem.priority_update||this.threadUpdateItem.isMostRecentlyUpdated,isEditMode:!1}},computed:{computedClasses(){return"".concat(this.showDivider?"boxSec-div":""," ").concat(this.isThreadUpdateItemExpanded?"toggleSect--expanded":"toggleSect--collapsed"," overflow--hidden ").concat(this.threadUpdateItem.isDeleted?"mute--opacity":""," ").concat(this.itemModifier)},isExpiredClass(){return this.threadIsExpired?"text--color-greyShade":this.showPriority?"text--color-red":"text--color-charcoal"},threadUpdateTitle(){return e("Aggiornato :index",{replaces:{index:this.threadUpdateItem.isMostRecentlyUpdated||this.threadUpdateItem.isOnTop?this.totalThreadUpdates-this.index:this.bottomUpdatesLength-this.index}})},updateItemTitleStyle(){return!this.threadIsExpired&&this.showPriority?"text--color-red":""},threadUpdateItemId(){return this.threadUpdateItem.threadUpdateId},showDivider(){return this.totalThreadUpdates>1&&0!==this.index},isDeletedTranslation(){return this.threadUpdateItem.isDeleted?"Annulla eliminazione":"Elimina"}},methods:Object.assign({},Object(s.b)("threads",["toggleThreadUpdateDeletion","editThreadUpdate"]),Object(s.b)("pageMsgs",{setToastMessages:"set"}),{expandUpdateToggle(){this.isThreadUpdateItemExpanded=!this.isThreadUpdateItemExpanded},async toggleDeletionHandler(e){this.toggleThreadUpdateDeletion({threadId:this.$route.params.threadId,threadUpdateId:this.threadUpdateItem.threadUpdateId,isCurrentlyDeleted:this.threadUpdateItem.isDeleted,threadUpdateItemId:e})},toggleEditMode(){this.isEditMode=!this.isEditMode},onSubmitUpdateForm(e,t){this.editThreadUpdate({threadId:this.$route.params.threadId,threadUpdate:e,title:t}),this.toggleEditMode()}})}}).call(this,a(70).translation)},825:function(e,t,a){"use strict";(function(e){var s=a(17),n=a(103);t.a={props:{thread:{type:Object,required:!0},timeAgo:{type:String,required:!0},formattedDate:{type:String,required:!0},differenceInCalendarDays:{type:Number,required:!0}},computed:{message(){switch(this.thread.type){case s.o:var t;return null===(t=this.thread.endDate)||void 0===t||!t.timestamp||this.isAutoExpired?"Purtroppo questo codice sconto non è più valido":this.differenceInCalendarDays<=7?e("Purtoppo questo codice sconto è scaduto :date.",{replaces:{date:this.timeAgo}}):e("Purtoppo questo codice sconto è scaduto :date.",{replaces:{date:this.formattedDate}});case s.e:return"Purtroppo questa discussione non è più valida";case s.f:return"Purtroppo questo feedback non è più valido";default:var a;return null===(a=this.thread.endDate)||void 0===a||!a.timestamp||this.isAutoExpired?"Purtroppo quest'offerta non è più disponibile":this.differenceInCalendarDays<=7?e("Purtroppo questa offerta è scaduta :date.",{replaces:{date:this.timeAgo}}):e("Purtroppo questa offerta è scaduta :date.",{replaces:{date:this.formattedDate}})}},isAutoExpired(){return Object(n.d)(this.thread)}}}}).call(this,a(70).translation)},826:function(e,t,a){"use strict";(function(e){var s=a(783),n=a(17);t.a={components:{UpToDateMessageContainer:s.a},props:{threadType:{type:String,required:!0}},computed:{threshold(){return this.$store.state.settings.thread.threadExpiryWarningThreshold},messageMapping(){return{[n.a]:e("Questa offerta è stata pubblicata più di 1 settimana fa e potrebbe non essere più disponibile.|Questa offerta è stata pubblicata più di :count settimane fa e potrebbe non essere più disponibile.",{count:this.threshold}),[n.o]:e("Questo codice sconto è stato pubblicato più di 1 settimana fa e potrebbe non essere più disponibile.|Questo codice sconto è stato pubblicato più di :count settimane fa e potrebbe non essere più disponibile.",{count:this.threshold})}},message(){return this.messageMapping[this.threadType]}}}}).call(this,a(70).translation)},827:function(e,t,a){"use strict";(function(e){var s=a(925),n=a.n(s);t.a={props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0}},computed:{hh(){return n()(this.hours,2,"0")},mm(){return n()(this.minutes,2,"0")},ss(){return n()(this.seconds,2,"0")},translation(){return e("in <strong>:{hh}h :{mm}m :{ss}s</strong>",{replaces:{"{hh}":this.hh,"{mm}":this.mm,"{ss}":this.ss}})}}}}).call(this,a(70).translation)},830:function(e,t,a){"use strict";var s=a(847),n=a(109),r={props:{utcTimestamp:{type:Number,required:!0}},computed:{differenceInCalendarDays(){const e=new Date;return Object(s.a)(e,new Date(Object(n.e)(this.utcTimestamp)))},timeAgo(){return Object(n.j)(this.utcTimestamp)},formattedDate(){return Object(n.c)(this.utcTimestamp,"d MMMM yyyy")},relativeDate(){return this.differenceInCalendarDays<=7?Object(n.j)(this.utcTimestamp):Object(n.c)(this.utcTimestamp,"d MMMM yyyy")},localizedDateTime(){return Object(n.i)(this.utcTimestamp)}}},i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("span",{attrs:{title:e.localizedDateTime}},[e._t("default",(function(){return[e._v(" "+e._s(e.relativeDate)+" ")]}),{differenceInCalendarDays:e.differenceInCalendarDays,timeAgo:e.timeAgo,formattedDate:e.formattedDate})],2)}),[],!1,null,null,null);t.a=o.exports},834:function(e,t,a){"use strict";var s={data:()=>({overflow:!1}),mounted(){this.update("init"),window.addEventListener("resize",this.handleResize),this.$once("hook:beforeDestroy",(()=>{window.removeEventListener("resize",this.handleResize)}))},updated(){this.update("update")},methods:{handleResize(){this.update("resize")},update(e){const t=this.overflow;this.overflow=this.$el.scrollHeight>this.$el.clientHeight+1,t!==this.overflow&&(this.$emit("update:overflow",this.overflow),this.$emit("overflow-change",{eventType:e,isOverflow:this.overflow}))}},render(){return this.$scopedSlots.default({overflow:this.overflow})}},n=a(44),r=Object(n.a)(s,undefined,undefined,!1,null,null,null);t.a=r.exports},852:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s={GenericWysiwygImageUpload:(async()=>new Promise(((e,t)=>{document.addEventListener("redactor-init",(async()=>{try{const t=await Promise.all([a.e(167),a.e(1),a.e(10),a.e(88)]).then(a.bind(null,950));e(t.default)}catch(e){t()}}))})))()}},859:function(e,t,a){"use strict";var s=a(5),n=a(628),r=Object(s.defineComponent)({__name:"ads-fuse-zone",props:{slotName:null,wrapperClasses:null,adClasses:null,isDynamic:{type:Boolean}},setup(e){const t=e,a=Object(n.b)(t.slotName),r=Object(n.a)(t.isDynamic?void 0:t.slotName);return Object(s.onMounted)((()=>{a&&Object(n.d)(r)})),{__sfc:!0,props:t,fuseId:a,elementId:r}}}),i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.fuseId&&e.wrapperClasses?t("div",{class:e.wrapperClasses},[t("div",{class:e.adClasses,attrs:{id:a.elementId,"data-fuse":a.fuseId}})]):a.fuseId?t("div",{class:e.adClasses,attrs:{id:a.elementId,"data-fuse":a.fuseId}}):e._e()}),[],!1,null,null,null);t.a=o.exports},860:function(e,t,a){"use strict";var s=a(5),n=a(579),r=Object(s.defineComponent)({__name:"user-info-name",props:{user:{type:Object,required:!0},usernameClass:{type:String,default:""},iconOnly:{type:Boolean,default:!1}},setup(e){const t=e,a=Object(s.computed)((()=>t.user.isDeletedOrPendingDeletion||t.user.isUserProfileHidden||t.user.isBanned));return{__sfc:!0,props:t,isLabelHidden:a,UserPersona:n.d}}}),i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("span",{staticClass:"lbox boxAlign-ai--all-c"},[t("span",{staticClass:"thread-user size--all-s text--b space--mr-1 lbox boxAlign-ai--all-c"},[t("span",{class:e.usernameClass},[e._v(" "+e._s(e.user.username)+" ")])]),e.user.persona&&!a.isLabelHidden?t("span",{staticClass:"lbox space--ml-1"},[t("span",{staticClass:"lbox"},[t(a.UserPersona,{attrs:{user:e.user,"icon-only":e.iconOnly,"is-badge":""}})],1)]):e._e()])}),[],!1,null,null,null);t.a=o.exports},862:function(e,t,a){},863:function(e,t,a){var s=a(928),n=a(663),r=a(929);e.exports=function(e){return n(e)?r(e):s(e)}},868:function(e,t,a){"use strict";var s=a(5),n=a(523),r=a(34),i=a(8),o=a.n(i);const l={default:{url:"/image/preview/{{id}}?filter={{key}}",format:"full_screen"},animatedGif:{url:"/image/preview/{{id}}?filter={{key}}&animated_gif=1",format:"raw"}};function c(e){return e.getAttribute("data-image")}async function u(e,t,a){const{format:s,url:n}=a,i=function(e,t){return"".concat(e,".").concat(t)}(t,s),l=function(e,t,a){return r.a.render(e,{id:t,key:a})}(n,e,i),c=await async function(e){return(await o.a.get(e)).data.data.image}(l);return null==c?void 0:c[i]}var d=a(575),p=Object(s.defineComponent)({__name:"full-image-modal",props:{imageUrl:null},setup:e=>({__sfc:!0,BaseModal:d.a,ModalClose:d.c})}),h=a(44),m=Object(h.a)(p,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.BaseModal,e._g(e._b({attrs:{layout:"fullscreen","layer-class":"","content-class":"space--h-3 space--v-3"}},"BaseModal",e.$attrs,!1),e.$listeners),[t("div",{staticClass:"space--h-3 space--v-3 overflow--scrollY height--all-full"},[t("div",{staticClass:"flex height--min-100 boxAlign-jc--all-c boxAlign-ai--all-c"},[t("div",{staticClass:"aGrid"},[t(a.ModalClose,{staticClass:"aGrid-close zIndex--above space--mt-2 space--mr-2"}),t("img",{staticClass:"width--max-12 bRad--a",attrs:{src:e.imageUrl,alt:""}})],1)])])])}),[],!1,null,null,null).exports;function f(e){const t=Object(s.ref)("");return{fullImageUrl:t,showFullImage:async function(a){t.value=await async function(e,t){return await u(c(e),t,l.default)}(a,e)}}}var v=Object(s.defineComponent)({__name:"user-html",props:{xhrName:null,emoticonPreview:{type:Boolean,default:!0}},setup(e){const t=e,{fullImageUrl:a,showFullImage:r}=f(t.xhrName),{emoticon:i,emoticonPopover:o,showEmoticon:d}=function(){const e=Object(s.ref)(""),t=Object(s.ref)(null);return{emoticon:e,emoticonPopover:t,showEmoticon:function(a){var s;e.value=a.outerHTML,null===(s=t.value)||void 0===s||s.activate(["n","s"],{target:a})}}}();return{__sfc:!0,props:t,fullImageUrl:a,showFullImage:r,emoticon:i,emoticonPopover:o,showEmoticon:d,handler:function(e){const a=e.target;if(a.classList.contains("emoji")&&t.emoticonPreview)d(a);else{if(!a.hasAttribute("data-image")||a.closest("a"))return a.classList.contains("userHtml-videoDummy-img")?(e.stopPropagation(),void function(e){const t=e.getAttribute("data-video")||e.getAttribute("data-embed-obj"),{src:a,embed_url:s}=JSON.parse(t),n=a||s;if(!n)return;const r=document.createElement("template"),i='<div class="userHtml-video"><div class="userHtml-video-inner"><iframe class="userHtml-video-iframe" src="'.concat(n,'?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>');r.innerHTML=i,e.replaceWith(r.content)}(a.closest(".userHtml-videoDummy"))):void 0;Boolean(a.closest("[data-animated-gif]"))?async function(e,t){const a="userHtml-animatedGif--active",s=e.closest("[data-animated-gif]"),n=e.getAttribute("src"),r=await u(c(e),t,l.animatedGif);r&&(s.classList.add(a),e.setAttribute("src",r),s.addEventListener("click",(t=>{t.stopPropagation(),s.classList.remove(a),e.setAttribute("src",n)}),{once:!0}))}(a,t.xhrName):r(a)}},BasePopover:n.a,FullImageModal:m}}}),g=Object(h.a)(v,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"userHtml userHtml-content overflow--wrap-break",on:{click:a.handler}},[e._t("default"),t(a.BasePopover,{ref:"emoticonPopover",scopedSlots:e._u([{key:"default",fn:function({}){return[t("div",{staticClass:"emoji--size-l space--h-1 space--v-1",domProps:{innerHTML:e._s(a.emoticon)}})]}}])}),a.fullImageUrl?t(a.FullImageModal,{attrs:{"image-url":a.fullImageUrl},on:{close:function(e){a.fullImageUrl=""}}}):e._e()],2)}),[],!1,null,null,null);t.a=g.exports},869:function(e,t,a){"use strict";var s=a(94),n=a(6),r=a(1),i=a(722),o=a(508),l=a(545),c={components:{BaseButton:o.a},mixins:[i.a],setup(){const{setLoader:e,isLoading:t}=Object(l.a)();return{setLoader:e,isLoading:t}},computed:Object.assign({},Object(s.e)("auth",{authUserId:(e,t)=>{var a;return null===(a=t.me)||void 0===a?void 0:a.userId}}),{enabled(){return this.thread.expirable||this.isExpiryReportable},isExpiryReportable(){var e,t;return null===(e=this.features)||void 0===e||null===(t=e.threadTools)||void 0===t?void 0:t.expiryReportable},isAuthor(){return this.thread.user.userId===this.authUserId},label(){switch(this.thread.expiryReportStatus){case r.sb.Unexpired:return"Non più esaurito";case r.sb.Expired:return"Esaurita";case r.sb.None:default:return this.thread.isExpired?this.thread.expirable?"Annulla esaurito":"Non è più esaurito?":this.thread.expirable?"Esaurito":"Esaurita?"}},labelClasses(){return["space--ml-2",this.labelClass]},buttonClasses(){return{"button--selected":this.thread.expiryReportStatus!==r.sb.None,"":!1,"":!1,"":!1,"":!1}},nextReportStatus(){return this.thread.expiryReportStatus!==r.sb.None?null:this.thread.isExpired?r.sb.Unexpired:r.sb.Expired}}),methods:{reportExpiry(){const e=this.nextReportStatus;if(!e)return;const t=this.thread.expiryReportStatus;this.updateThread({expiryReportStatus:e}),this.redirectMerged(this.thread.threadId,Object(n.a)({req:this.thread.expirable?r.dd:r.Lc,params:{threadId:this.thread.threadId,status:e}}).then((e=>this.thread.expirable?e.toggleThreadExpiry.thread:e.reportExpiry.thread)).catch((()=>{this.updateThread({expiryReportStatus:t})}))).then((e=>this.$store.dispatch("threads/update",{optimistic:e}))).finally(this.setLoader())}}},u=a(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return e.enabled?t("BaseButton",{directives:[{name:"track",rawName:"v-track:reportExpiry.click",arg:"reportExpiry",modifiers:{click:!0}}],class:e.buttonClasses,attrs:{variant:"text",mode:"secondary"},on:{click:e.reportExpiry}},[t("BaseIcon",{attrs:{name:"hourglass"}}),t("span",{class:e.labelClasses},[e._v(" "+e._s(e.label)+" ")])],1):e._e()}),[],!1,null,null,null);t.a=d.exports},870:function(e,t,a){"use strict";var s=a(717),n=a(516),r=a(510),i=a(508),o=a(118),l=a(94),c={components:{WysiwygEditor:s.a,FormRow:r.o,FormLabel:r.k,FormList:r.l,FormContent:r.c,FormInputLabeled:r.i,BaseButton:i.a,FormCheckbox:r.b,BaseSpinner:n.a},props:{threadUpdateId:{type:String,default:null}},data:()=>({isPriorityUpdate:!1,isOnTop:!1,title:"",content:"",shortcodes:[],isThreadUpdateLoaded:!1}),computed:Object.assign({},Object(l.c)("threads",{getThreadById:"get"}),{thread(){return this.getThreadById(this.$route.params.threadId)},plugins(){return{shortcodes:this.shortcodes,mentions:"",emoji:!0,link:{href:"",content:""}}}}),async mounted(){if(this.title=this.thread.title,!this.threadUpdateId)return void(this.isThreadUpdateLoaded=!0);const{getThreadUpdate:{content:e,shortcodes:t,isPriorityUpdate:a,isOnTop:s}}=await Object(o.a)(this.threadUpdateId);this.isThreadUpdateLoaded=!0,this.content=e,this.shortcodes=t,this.isPriorityUpdate=a,this.isOnTop=s},methods:{async submitThreadUpdate(){const e={threadId:this.thread.threadId,title:this.title,content:this.content,shortcodes:this.$refs.wysiwyg.updateShortcodes(),mentions:this.$refs.wysiwyg.updateMentions(),isPriorityUpdate:this.isPriorityUpdate,isOnTop:this.isOnTop};this.threadUpdateId&&(e.threadUpdateId=this.threadUpdateId);const t=await Object(o.c)(e);this.$emit("submit",t,this.title)},focusEditor(){this.$refs.wysiwyg.$refs.editor.focus()}}},u=a(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"tGrid boxSec space--h-3 space--v-3 space--mv-3 space--mh-3",attrs:{id:"threadUpdateForm"}},[t("div",{staticClass:"flex boxAlign-jc--all-sb"},[t("h2",{staticClass:"text--b text--color-redShade lbox--v-2"},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"warning"}}),e._v(" "+e._s("Pubblica aggiornamento")+" ")],1),t("BaseButton",{attrs:{variant:"tertiary",mode:"white",size:"s",square:"","aria-label":"close"},on:{click:function(t){return e.$emit("cancel")}}},[t("BaseIcon",{attrs:{name:"cross",color:"grey"}})],1)],1),t("div",{staticClass:"tGrid width--all-12 space--mt-3"},[t("FormList",{attrs:{wide:""}},[t("FormRow",[t("FormLabel",[e._v(e._s("Titolo offerta")+" ")]),t("FormContent",[t("FormInputLabeled",{attrs:{id:"threadUpdateForm-title",name:"title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1),t("FormRow",[e.isThreadUpdateLoaded?t("WysiwygEditor",{ref:"wysiwyg",attrs:{name:"threadUpdateForm-description",plugins:e.plugins},on:{ready:e.focusEditor},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}):t("div",{staticClass:"aGrid redactor redactor--skeleton"},[t("BaseSpinner",{staticClass:"spinner--centered spinner--size-big"})],1)],1),t("FormRow",[t("div",{staticClass:"tGrid tGrid--auto width--all-12 space--mt-3 space--mb-3"},[t("div",{staticClass:"box--fromW2-c vAlign--all-m"},[t("div",{staticClass:"box--all-i vAlign--all-m space--r-3 space--v-1"},[t("FormCheckbox",{attrs:{name:"isPriorityUpdate"},scopedSlots:e._u([{key:"inline-label",fn:function(){return[e._v(" "+e._s("Aggiornamento prioritario")+" ")]},proxy:!0}]),model:{value:e.isPriorityUpdate,callback:function(t){e.isPriorityUpdate=t},expression:"isPriorityUpdate"}})],1),t("div",{staticClass:"box--all-i vAlign--all-m space--r-3 space--v-1"},[t("FormCheckbox",{attrs:{name:"isOnTop"},scopedSlots:e._u([{key:"inline-label",fn:function(){return[e._v(" "+e._s("Sposta il contenuto qui sopra")+" ")]},proxy:!0}]),model:{value:e.isOnTop,callback:function(t){e.isOnTop=t},expression:"isOnTop"}})],1)]),t("div",{staticClass:"box--fromW2-c space--t-3 space--fromW2-t-0 hAlign--all-r"},[t("button",{staticClass:"button button--type-primary button--mode-brand button--shape-circle fGrid-right",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submitThreadUpdate.apply(null,arguments)}}},[e._v(" "+e._s("Pubblica aggiornamento")+" ")]),t("button",{staticClass:"fGrid-right button button--type-tertiary button--mode-default button--shape-circle space--mr-2",on:{click:function(t){return e.$emit("cancel")}}},[e._v(" "+e._s("Annulla")+" ")])])])])],1)],1)])}),[],!1,null,null,null);t.a=d.exports},876:function(e,t,a){"use strict";var s=a(2),n=a(3),r={handler:function(e,t,a,s){const r=n.a.findTargets(e,t.target),i=e[0].files[0];!t.empty&&s&&(t.empty=r.html()),i?r.text(i.name).addClass(t.selectedClass):r.html(t.empty).removeClass(t.selectedClass)}};s.a.add("file-text","change",r.handler)},877:function(e,t,a){"use strict";var s=a(747),n=a.n(s),r=a(552),i=a.n(r),o=a(878),l=a.n(o),c=a(139),u=a.n(c),d=a(879),p=a.n(d);t.a={methods:{normalizeGroups(e){if(!Array.isArray(e))return[];e=l()(e);return n()(e.map((e=>({__typename:"Group",id:e.threadGroupId,name:e.threadGroupName,urlName:e.threadGroupUrlName,imageUrls:e.imageUrls}))),(function(e){return e.id}))},normalizeMerchants(e){if(!Array.isArray(e))return[];return(e=l()(e)).map((e=>({__typename:"Merchant",id:e.merchantId,name:e.merchantName,urlName:e.merchantUrlName,imageUrls:e.imageUrls})))},mixItems(e,t){const a=e.map((e=>i()(e,t))),s=u()(...a),n=p()(s);return l()(n)}}}},878:function(e,t){e.exports=function(e){for(var t=-1,a=null==e?0:e.length,s=0,n=[];++t<a;){var r=e[t];r&&(n[s++]=r)}return n}},879:function(e,t,a){var s=a(323);e.exports=function(e){return(null==e?0:e.length)?s(e,Infinity):[]}},887:function(e,t,a){"use strict";var s=a(509),n=a(764).a,r=a(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("span",{},[t("BaseButton",{class:e.innerClass,attrs:{variant:"tag",mode:"light",to:e.linkParams}},[t("ItemAvatar",{attrs:{item:e.normalizedItem}}),t("span",{staticClass:"overflow--ellipsis space--ml-2"},[e._v(e._s(e.normalizedItem.name))])],1)],1)}),[],!1,null,null,null).exports,o=a(528),l=a(543),c=a(508),u={components:{CarouselItem:s.c,BaseButton:c.a,BaseCarousel:s.a,CarouselContent:s.b,CarouselNext:s.e,CarouselPrev:s.g,MixedItem:i,WidgetHideable:l.a},mixins:[o.a],props:{closeKey:{type:String,required:!1},title:{type:String,required:!0},items:{type:Array,required:!0},hideable:{type:Boolean,default:!0},hideOptions:{type:Object,required:!1},headerClass:{type:String,required:!1}}},d=Object(r.a)(u,(function(){var e=this,t=e._self._c;return t("WidgetHideable",{directives:[{name:"track",rawName:"v-track:exploreMixedWidget.view",arg:"exploreMixedWidget",modifiers:{view:!0}}],attrs:{options:e.hideOptions,enabled:e.hideable},scopedSlots:e._u([{key:"default",fn:function({hide:a}){return t("div",{},[t("BaseCarousel",[t("section",{staticClass:"aGrid"},[t("header",{staticClass:"card-header flex boxAlign-ai--all-fs boxAlign-jc--all-sb",class:e.headerClass},[t("h3",{staticClass:"card-title overflow--ellipsis text--b text--color-charcoal size--all-l size--fromW3-xl"},[e._v(" "+e._s(e.title)+" ")]),e.hideOptions?t("BaseButton",{directives:[{name:"track",rawName:"v-track:hideWidget.click",arg:"hideWidget",modifiers:{click:!0}}],staticClass:"space--ml-1",attrs:{variant:"tertiary",mode:"default",size:"s",square:"",title:"Chiudi"},on:{click:a}},[t("BaseIcon",{attrs:{name:"cross"}})],1):e._e()],1),t("div",{staticClass:"scrollBox-space--m-s aGrid flex boxAlign-ai--all-c"},[t("CarouselPrev",{staticClass:"scrollBox-btn--left hide--touch-on",attrs:{variant:"tertiary",mode:"default",size:"s",square:""}}),t("CarouselContent",e._l(e.items,(function(e,a){return t("CarouselItem",{directives:[{name:"track",rawName:"v-track:item.click",value:{id:e.id,type:e.__typename,position:a+1},expression:"{\n\t\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\t\ttype: item.__typename,\n\t\t\t\t\t\t\t\tposition: index + 1,\n\t\t\t\t\t\t\t}",arg:"item",modifiers:{click:!0}}],key:`${e.__typename}_${e.id}`,attrs:{lazy:""}},[t("MixedItem",{attrs:{item:e}})],1)})),1),t("CarouselNext",{staticClass:"scrollBox-btn--right hide--touch-on",attrs:{variant:"tertiary",mode:"default",size:"s",square:""}})],1)])])],1)}}])})}),[],!1,null,null,null);t.a=d.exports},89:function(e,t,a){"use strict";function s(e){const t=Object.prototype.toString;let a=e.length;const r=new Array(a);for(;a;)switch(a-=1,t.call(e[a])){case"[object Object]":r[a]=n({},e[a]);break;case"[object Array]":r[a]=s(e[a]);break;default:r[a]=e[a]}return r}function n(e,t){const a=Object.prototype.toString;let r;for(r in t)if(t.hasOwnProperty(r))switch(a.call(t[r])){case"[object Object]":e[r]=n("[object Object]"===a.call(e[r])?e[r]:{},t[r]);break;case"[object Array]":e[r]=s(t[r]);break;default:e[r]=t[r]}return e}t.a={boundMethod:function(e,t){return e[""+t]||(e[""+t]=e[t].bind(e))},deepCloneArray:s,deepMerge:n,uniqueArray:function(e){return e.filter(((t,a)=>e.indexOf(t)===a))}}},890:function(e,t,a){"use strict";var s=a(5),n=a(868),r=Object(s.defineComponent)({__name:"thread-item-description",props:{thread:null},setup:e=>({__sfc:!0,UserHtml:n.a})}),i=a(44),o=Object(i.a)(r,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.UserHtml,{attrs:{"xhr-name":"threads"}},[t("div",{domProps:{innerHTML:e._s(e.thread.threadDetails.preparedHtmlDescription)}})])}),[],!1,null,null,null);t.a=o.exports},892:function(e,t,a){"use strict";var s=a(949),n=a(881),r={props:{date:{type:Date,default:()=>new Date},interval:{type:Number,default:1e3}},data:()=>({timer:null,dtNow:Date.now()}),computed:{intervalToDuration(){return Object(s.a)({start:this.dtNow,end:this.date})}},watch:{date:{immediate:!0,handler:function(e){this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>{this.dtNow=Date.now();Object(n.a)(e,this.dtNow)<=0&&(clearInterval(this.timer),this.$emit("end"))}),this.interval)}}},beforeDestroy(){clearInterval(this.timer)}},i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("span",[e._t("default",null,null,e.intervalToDuration)],2)}),[],!1,null,null,null);t.a=o.exports},895:function(e,t,a){"use strict";var s=a(106),n={props:{item:{type:Object,required:!0}},computed:{src(){return Object(s.b)(this.item.imageUrls,"avatar","avatar_web_square_38","/assets/img/default-group-small_d28ca.svg")}}},r=a(44),i=Object(r.a)(n,(function(){var e=this;return(0,e._self._c)("img",{staticClass:"img img--type-collection img--square-xs border--h-r border--v-r",attrs:{src:e.src,alt:e.item.altAttr}})}),[],!1,null,null,null);t.a=i.exports},902:function(e,t,a){"use strict";var s=a(524),n=a(532),r=a(116);t.a=Object(s.b)("topMerchants",{create:e=>{var t,a,s;return s=(null===(t=e.widgets)||void 0===t||null===(a=t.topMerchantsWidget)||void 0===a?void 0:a.merchants)||[],{namespaced:!0,state:{},modules:{merchants:Object(n.a)(r.a,s,!1)}}}})},904:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var s=a(14),n=a(112);const r="commentSorting",i=e=>new s.a(r).set(e),o=()=>Object(n.r)()||Object(n.m)()?{}:new s.a(r).get()},905:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var s=a(6),n=a(1);const r=e=>Object(s.c)({queries:[n.N],merge:!0})({threadId:e}).then((e=>e.request)).then((e=>e.threadKeywordSuggestions)),i=async e=>{const t=await Object(s.a)({req:n.cd,params:{input:e}});return null==t?void 0:t.toggleThreadKeywordSuggestionSubscription.keyword.subscribed}},908:function(e,t,a){"use strict";var s=a(5),n=a(158),r=a(650),i=a(28),o=a(1),l=a(6),c=a(151),u=a(514),d=a(4);const p={particleCount:125,scalar:1.1,startVelocity:55,gravity:1.5,shapes:["star","circle","square"],colors:["#E00034","#FF7900","#FFB612","#51A704","#075EA4"]},h=Object(l.c)({queries:[o.fb],merge:!0});var m=a(819),f=a(540),v=a(44),g=Object(v.a)({},(function(e,t){return e("div",{staticClass:"aGrid zIndex--above bg--color-brandSecondaryShade boxShadow--light text--color-white"},[e("div",{staticClass:"page-navigation page-center page-space--v-s"},[e("ul",{directives:[{name:"track",rawName:"v-track:breadcrumbs",arg:"breadcrumbs"}],staticClass:"flex flex--fromW2-wrap size--all-s text--lh-1"},[t._t("default")],2),t._t("json-ld-schema")],2)])}),[],!0,null,null,null).exports,b={name:"BreadcrumbsLink",props:{path:{type:String,required:!0},name:{type:String,required:!0},showHomeIcon:{type:Boolean,default:!1}}},y=Object(v.a)(b,(function(){var e=this,t=e._self._c;return t("RouterLink",{staticClass:"link text--color-white",attrs:{to:e.path}},[e.showHomeIcon?t("span",[t("BaseIcon",{staticClass:"lbox--v-1",attrs:{name:"home"}})],1):t("span",[e._v(" "+e._s(e.name)+" ")])])}),[],!1,null,null,null).exports,_={name:"BreadcrumbsItem",components:{BreadcrumbsLink:y},props:{name:{type:String},path:{type:String},isLast:{type:Boolean,default:!1},isCurrent:{type:Boolean,default:!1}},computed:{ceptClass(){return this.isCurrent,""}}},x={name:"BaseBreadcrumbs",components:{BreadcrumbsLink:y,BreadcrumbsItem:Object(v.a)(_,(function(){var e=this,t=e._self._c;return t("li",{class:["flex width--max-6 lbox--v-1",e.ceptClass]},[e.isCurrent?t("span",{staticClass:"overflow--ellipsis size--all-s mute--opacity"},[e._v(" "+e._s(e.name)+" ")]):t("span",{staticClass:"overflow--ellipsis size--all-xs"},[e._t("default",(function(){return[t("BreadcrumbsLink",{attrs:{name:e.name,path:e.path}})]}))],2),e.isLast?e._e():t("span",{staticClass:"lbox--h-2 mute--opacity-40 flex--shrink-0"},[t("BaseIcon",{attrs:{name:"right",xs:""}})],1)])}),[],!1,null,null,null).exports,BreadcrumbsContainer:g,JsonLD:a(780).a},props:{items:{type:Array,default:()=>[]}},computed:{homeItem(){return{name:"Home",path:this.$router.resolve({name:"index"}).href}},filteredGroups(){const e=[17];return this.items.filter((t=>{let{threadGroupId:a}=t;return!e.includes(a)})).filter(((e,t)=>{if(0===t||t>=this.items.length-10)return e}))},jsonLdSchema(){const e=window.location.origin;return{"@context":"https://schema.org/","@type":"BreadcrumbList",itemListElement:[this.homeItem,...this.filteredGroups].map(((t,a)=>{let{path:s,name:n}=t;return{"@type":"ListItem",position:a+1,item:{"@id":"/"===s?e:new URL(s,e),name:n}}}))}}}},w=Object(v.a)(x,(function(){var e=this,t=e._self._c;return t("BreadcrumbsContainer",{scopedSlots:e._u([{key:"json-ld-schema",fn:function(){return[t("JsonLD",{attrs:{schema:e.jsonLdSchema}})]},proxy:!0}])},[t("BreadcrumbsItem",[t("BreadcrumbsLink",{directives:[{name:"track",rawName:"v-track:home.click",arg:"home",modifiers:{click:!0}}],attrs:{name:e.homeItem.name,path:e.homeItem.path,"show-home-icon":e.$breakpoint.xsOnly}})],1),e._l(e.filteredGroups,(function({name:a,path:s,trackingInfo:n},r){return t("BreadcrumbsItem",{key:r,class:{"hide--toW2":r<e.filteredGroups.length-2},attrs:{name:a,"is-current":e.$route.path===s,"is-last":r===e.filteredGroups.length-1}},[t("BreadcrumbsLink",{directives:[{name:"track",rawName:"v-track:[trackingInfo.name].click",value:n.payload,expression:"trackingInfo.payload",arg:n.name,modifiers:{click:!0}}],attrs:{name:a,path:s}})],1)}))],2)}),[],!1,null,null,null).exports,C=a(94),k=a(17),O={components:{BaseBreadcrumbs:w},computed:Object.assign({},Object(C.c)({threadById:"threads/get"}),{threadTypeTranslations(){return{feedback:{name:"Feedback",path:this.$router.resolve({name:"feedback"}).href,trackingInfo:{name:"feedback"}},discussion:{name:"Discussioni",path:this.$router.resolve({name:"discussions"}).href,trackingInfo:{name:"discussions"}},voucher:{name:"Codici sconto",path:this.$router.resolve({name:"vouchers"}).href,trackingInfo:{name:"vouchers"}}}},threadBreadcrumbs(){return Object(k.t)(this.threadTypeId)?this.feedbackBreadcrumbs:Object(k.s)(this.threadTypeId)?this.discussionBreadcrumbs:this.dealBreadcrumbs},threadId(){return this.$route.params.threadId},threadTypeId(){var e;return null===(e=this.thread)||void 0===e?void 0:e.threadTypeId},thread(){return this.threadById(this.threadId)},threadMerchant(){var e;return null===(e=this.thread)||void 0===e?void 0:e.merchant},threadMerchantId(){var e;return null===(e=this.threadMerchant)||void 0===e?void 0:e.merchantId},threadMerchantName(){var e;return null===(e=this.threadMerchant)||void 0===e?void 0:e.merchantName},threadMerchantUrlName(){var e;return null===(e=this.threadMerchant)||void 0===e?void 0:e.merchantUrlName},threadGroups(){var e;return(null===(e=this.threadById(this.threadId))||void 0===e?void 0:e.groupsPath)||[]},threadGroupsNormalized(){var e;return(null===(e=[...this.threadGroups])||void 0===e?void 0:e.reverse().map((e=>{let{threadGroupId:t,threadGroupName:a,threadGroupUrlName:s}=e;return{name:a,path:this.$router.resolve({name:"threads.index.group",params:{slug:s}}).href,trackingInfo:{name:"group",payload:{id:t}}}})))||[]},feedbackBreadcrumbs(){var e;return[this.getThreadTypeItem(null===(e=this.thread)||void 0===e?void 0:e.type.toLowerCase())]},discussionBreadcrumbs(){var e;return[this.getThreadTypeItem(null===(e=this.thread)||void 0===e?void 0:e.type.toLowerCase()),...this.threadGroupsNormalized]},dealBreadcrumbs(){return this.threadGroupsNormalized}}),methods:{getThreadTypeItem(e){var t,a;return{name:null===(t=this.threadTypeTranslations[e])||void 0===t?void 0:t.name,path:null===(a=this.threadTypeTranslations[e])||void 0===a?void 0:a.path,trackingInfo:this.threadTypeTranslations[e].trackingInfo}}}},j=Object(v.a)(O,(function(){return(0,this._self._c)("BaseBreadcrumbs",{attrs:{items:this.threadBreadcrumbs}})}),[],!1,null,null,null).exports,S=a(103);let I=function(e){return e.BeforeDescription="before_description",e.AfterDescription="after_description",e}({});var T=a(890),B=a(156),A=a(121),P={props:{disclaimer:{type:Object,required:!0}},data:()=>({expanded:!1}),computed:{icon(){return this.disclaimer.type===o.t.Warning?{name:"info-warning",color:"orange"}:{name:"info",color:"blue"}},toggleIcon(){return this.expanded?"up":"down"},isContentShort(){return((new DOMParser).parseFromString(this.disclaimer.description,"text/html").body.textContent||"").length<=133},isDescriptionVisible(){return!!this.isContentShort||this.expanded},decodedDisclaimerTitle(){return Object(A.e)(this.disclaimer.title)}},methods:{toggleDisclaimer(){this.expanded=!this.expanded},descriptionClick(e){"A"===e.target.tagName&&Object(B.b)({type:"click",target:{name:"link",data:{href:e.target.href}},context:e.target})}}},L={components:{DisclaimerItem:Object(v.a)(P,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"track",rawName:"v-track:disclaimer",arg:"disclaimer"}],staticClass:"bg--color-greyPanel space--v-3 space--h-3 space--mt-3 bRad--a flex"},[t("div",{staticClass:"boxAlign-ai--all-c lbox--v-small"},[t("BaseIcon",e._b({staticClass:"space--mr-2"},"BaseIcon",e.icon,!1))],1),t("div",{staticClass:"flex flex--grow-1 flex--dir-col size--all-m",class:{"boxAlign-jc--all-c":e.isContentShort}},[e.isContentShort?e._e():t("h3",{staticClass:"flex width--all-12"},[t("button",{staticClass:"clickable flex width--all-12",attrs:{type:"button"},on:{click:e.toggleDisclaimer}},[t("span",{staticClass:"flex flex--grow-1 boxAlign-ai--all-c text--b"},[e._v(" "+e._s(e.decodedDisclaimerTitle)+" ")]),t("div",{staticClass:"boxAlign-as--all-fs space--l-2"},[t("BaseIcon",{staticClass:"text--color-greyShade",attrs:{name:e.toggleIcon}})],1)])]),e.isDescriptionVisible?t("div",{class:["userHtml overflow--wrap-preWrap",{"space--t-2":!e.isContentShort}],domProps:{innerHTML:e._s(e.disclaimer.description)},on:{click:e.descriptionClick}}):e._e()])])}),[],!1,null,null,null).exports},props:{items:{type:Array,required:!0}},computed:{sortedItems(){return this.items.slice().sort(((e,t)=>e.type===o.t.Warning&&e.type!==t.type))}}},E=Object(v.a)(L,(function(){var e=this,t=e._self._c;return t("div",e._l(e.sortedItems,(function(e){return t("DisclaimerItem",{key:e.threadDisclaimerId,attrs:{disclaimer:e}})})),1)}),[],!1,null,null,null).exports,$=a(522),M=a(515),U={components:{CloakLink:M.a},props:{thread:{type:Object,required:!0}},computed:{merchantName(){var e;return(null===(e=this.thread.merchant)||void 0===e?void 0:e.merchantName)||"negozio"},prefix(){var e;return null!==(e=this.thread.merchant)&&void 0!==e&&e.merchantId?"Più dettagli su":"Più dettagli da"},cloakLink(){return this.thread.cloakedItemBelowDescButtonLink},merchantLogoSrc(){var e;if(null!==(e=this.thread.merchant)&&void 0!==e&&e.avatar)return new $.a(this.thread.merchant.avatar).apply([["re",54,54],["ft","jpg"],["qt",70]])}}},D=Object(v.a)(U,(function(){var e=this,t=e._self._c;return e.cloakLink?t("div",{staticClass:"flex boxAlign-ai--all-c"},[e.merchantLogoSrc?t("img",{staticClass:"space--mr-2 img--square-xs bRad--a",attrs:{src:e.merchantLogoSrc,alt:e.merchantName}}):e._e(),t("span",{staticClass:"size--all-s flex boxAlign-ai--all-bl text--b"},[e._v(" "+e._s(e.prefix)+" "),t("CloakLink",{attrs:{variant:"text",mode:"primary",to:e.cloakLink,target:"_blank"}},[t("span",{staticClass:"disclaimer-append space--h-1"},[e._v(e._s(e.merchantName))]),t("BaseIcon",{attrs:{name:"external",small:""}})],1)],1)]):e._e()}),[],!1,null,null,null).exports,N=a(605),R=Object(s.defineComponent)({__name:"referral-campaign-info",props:{merchant:null},setup(e){const t=e,a=Object(s.computed)((()=>{var e;return null===(e=t.merchant)||void 0===e?void 0:e.referralCampaigns.find((e=>e.activeCodesCount>0))})),n=Object(s.computed)((()=>({name:"referral.offer.permalink",params:{threadId:a.value.id,merchantUrlName:t.merchant.merchantUrlName}})));return{__sfc:!0,props:t,referralCampaignDisclaimerEnabled:!1,referralCampaign:a,referralCampaignLink:n,BaseTranslate:N.a,CloakLink:M.a}}}),q=Object(v.a)(R,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.referralCampaignDisclaimerEnabled&&a.referralCampaign?t("div",{staticClass:"flex space--v-3 space--h-3 bRad--a bg--color-greyPanel"},[t("BaseIcon",{attrs:{name:"info",color:"blue",left:""}}),t(a.BaseTranslate,{staticClass:"userHtml overflow--wrap-preWrap",attrs:{t:":merchantName ha in corso la campagna :campaignName, se vuoi usarla puoi farlo tramite questo link :campaignLink."},scopedSlots:e._u([{key:"merchantName",fn:function(){return[e._v(e._s(e.merchant.merchantName))]},proxy:!0},{key:"campaignName",fn:function(){return[e._v(e._s(a.referralCampaign.title))]},proxy:!0},{key:"campaignLink",fn:function(){return[t(a.CloakLink,{directives:[{name:"track",rawName:"v-track:referralCampaignLink.click",arg:"referralCampaignLink",modifiers:{click:!0}}],staticClass:"link",attrs:{to:a.referralCampaignLink}},[e._v(e._s("link"))])]},proxy:!0}],null,!1,1194099032)})],1):e._e()}),[],!1,null,null,null).exports,F=Object(s.defineComponent)({__name:"thread-item-content",props:{thread:null},setup(e){const t=e,a=Object(s.computed)((()=>Object(S.l)(t.thread,I.BeforeDescription))),n=Object(s.computed)((()=>Object(S.l)(t.thread,I.AfterDescription)));return{__sfc:!0,props:t,disclaimersBeforeDescription:a,disclaimersAfterDescription:n,ThreadItemDescription:T.a,DisclaimerList:E,MerchantExternalLink:D,ReferralCampaignInfo:q}}}),z=Object(v.a)(F,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"threadItem-content threadItem-content--space"},[a.disclaimersBeforeDescription.length?t(a.DisclaimerList,{attrs:{items:a.disclaimersBeforeDescription}}):e._e(),t(a.ThreadItemDescription,{staticClass:"space--mt-3",attrs:{thread:e.thread}}),t(a.MerchantExternalLink,{staticClass:"space--mt-3",attrs:{thread:e.thread}}),t(a.ReferralCampaignInfo,{staticClass:"space--mt-3",attrs:{merchant:e.thread.merchant}}),a.disclaimersAfterDescription.length?t(a.DisclaimerList,{attrs:{items:a.disclaimersAfterDescription}}):e._e()],1)}),[],!1,null,null,null).exports,W={components:{ThreadRelativeDate:a(830).a},computed:{thread(){return this.$store.getters["threads/get"](this.$route.params.threadId)},editReason(){return this.thread.editReason},editReasonTimestamp(){var e;return null===(e=this.editReason)||void 0===e?void 0:e.createdAt},editedBy(){const e=this.editReason.user.username!==this.thread.user.username?"Modificato dal team di supporto alla Community":"".concat("Modificato da"," ").concat(this.thread.user.username);return"".concat(e,", ")}}},H=Object(v.a)(W,(function(){var e=this,t=e._self._c;return e.editReasonTimestamp?t("div",{staticClass:"space--mb-2 size--all-s text--i"},[e._v(" "+e._s(e.editedBy)+" "),t("ThreadRelativeDate",{attrs:{"utc-timestamp":e.editReasonTimestamp}})],1):e._e()}),[],!1,null,null,null).exports,G=a(821).a,V=(a(917),Object(v.a)(G,(function(){var e=this,t=e._self._c;return e.threadEvent&&e.isThreadBannerShown?t("RouterLink",{staticClass:"flex flex--dir-col flex--fromW2-dir-row width--all-12 space--h-3 space--v-3 space--fromW3-h-4 space--fromW3-t-4 space--fromW3-b-4 boxAlign-ai--all-c hAlign--all-c bg-img--cover bg--color-feature text--color-white space--mt-2 bRad--fromW4-a overflow--hidden aGrid",attrs:{to:`/${e.threadEvent.urlName}`}},[t("picture",[t("source",{attrs:{media:e.mobileWithHighResolutionMedia,srcset:e.isSponsors?e.eventBannerImage_960x400:e.eventBannerImage_960x280}}),t("source",{attrs:{media:e.w2MediaMaxWidth,srcset:e.isSponsors?e.eventBannerImage_480x200:e.eventBannerImage_480x140}}),t("source",{attrs:{media:e.tabletWithHighResolutionMedia,srcset:e.eventBannerImage_2048x320}}),t("img",{staticClass:"img img--responsive img--noBorder bRad--all-r img--fit-cover aGrid-item aGrid-item--l-0 aGrid-item--t-0 thread-event-img",attrs:{src:e.eventBannerImage_1024x160}})]),t("div",{staticClass:"width--fromW2-6 space--b-3 space--fromW2-b-0 space--fromW2-r-2 aGrid"},[t("img",{staticClass:"img img--responsive img--noBorder bRad--all-r cept-countdownBanner-name",attrs:{src:e.eventHorizontalImage_500x64,srcset:`${e.eventHorizontalImage_1000x128} 2x`,alt:e.bannerLogoAltText}})]),t("div",{staticClass:"width--fromW2-6 space--fromW2-l-2 aGrid"},[e.isShowSponsorsImages?t("picture",[t("source",{attrs:{media:e.w2MediaMaxWidth,srcset:`${e.eventSponsorsImage_576x200} 1x, ${e.eventSponsorsImage_1152x400} 2x`}}),t("img",{staticClass:"img img--responsive img--noBorder bRad--all-r",attrs:{src:e.eventSponsorsImage_1000x150,srcset:`${e.eventSponsorsImage_2200x300} 2x`,alt:e.bannerAltText}})]):t("p",{staticClass:"text--b hAlign--fromW2-r size--all-l size--fromW2-m size--fromW3-l"},[e._v(" "+e._s(e.bannerSubtitle)+" ")])])]):e._e()}),[],!1,null,null,null).exports),K=a(822).a,Q=Object(v.a)(K,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"size--all-s text--i",domProps:{innerHTML:e._s(e.monetizationMessage)}})}),[],!1,null,null,null).exports,Y=Object(s.defineComponent)({__name:"horizontal-thread-group",props:{group:null},setup:e=>({__sfc:!0})}),J=Object(v.a)(Y,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RouterLink",{staticClass:"text--b linkPlain thread-link mute--text space--mr-3",attrs:{to:{name:"threads.index.group",params:{slug:e.group.threadGroupUrlName}}}},[e._v(" "+e._s(e.group.threadGroupName)+" ")])}),[],!1,null,null,null).exports,X=a(834),Z=Object(s.defineComponent)({__name:"horizontal-thread-groups-list",props:{thread:null},setup(e){const t=e,a=Object(s.ref)(!0),n=Object(s.computed)((()=>!0)),r=Object(s.computed)((()=>t.thread.groups)),i=Object(s.computed)((()=>{const e=t.thread,a=e.events.find((e=>"2"===e.eventId)),s=a||e.events[0];if(!s||s.status!==o.x.Activated)return null;return{pageLink:{name:"event.index",params:{pathMatch:s.urlName}},pageLinkText:Object(k.y)(e.threadTypeId)?"Codice sconto di {event}".replace("{event}",s.name):"Offerte di {event}".replace("{event}",s.name)}})),l=Object(s.computed)((()=>i.value||r.value&&n.value));return{__sfc:!0,props:t,expandLabel:"Mostra tutto",collapseLabel:"Mostra meno",containerCollapsed:a,toggleContainerCollapse:()=>{a.value=!a.value},displayGroupListing:n,groups:r,event:i,displayComponent:l,HorizontalThreadGroup:J,OverflowObserver:X.a}}}),ee=Object(v.a)(Z,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.OverflowObserver,{scopedSlots:e._u([{key:"default",fn:function({overflow:s}){return[t("div",{staticClass:"threadItem-content"},[a.displayComponent?t("div",{staticClass:"aGrid overflow--hidden mute--text text--b space--t-3 size--all-s",class:{"overflow--clamp-s-2":a.containerCollapsed}},[a.event?t("RouterLink",{staticClass:"linkPlain space--mr-3",attrs:{to:a.event.pageLink}},[e._v(" "+e._s(a.event.pageLinkText)+" ")]):e._e(),a.groups&&a.displayGroupListing?e._l(a.groups,(function(e){return t(a.HorizontalThreadGroup,{key:e.threadGroupId,attrs:{group:e}})})):e._e(),s||!a.containerCollapsed?t("button",{staticClass:"aGrid-item--b-0 aGrid-item--r-0 link",class:{"text--overlay aGrid-item":a.containerCollapsed},attrs:{type:"button"},on:{click:a.toggleContainerCollapse}},[e._v(" "+e._s(a.containerCollapsed?a.expandLabel:a.collapseLabel)+" ")]):e._e()],2):e._e()])]}}])})}),[],!1,null,null,null).exports,te=a(529),ae=a(766),se=a(809),ne=a(823).a,re=Object(v.a)(ne,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.BaseModal,{attrs:{layout:"bottomSheet"}},[t(a.ModalHead,[e._v(" "+e._s("Non farti più sfuggire sconti sui tuoi prodotti preferiti")+" ")]),t(a.ModalBody,[t("div",{staticClass:"hAlign--all-c"},[t("div",{staticClass:"box--all-i"},[t("img",{attrs:{src:"/assets/img/install-app/install-light_68210.svg",alt:"",width:"216px"}})])]),t("div",{staticClass:"space--v-3 size--all-s"},[e._v(" "+e._s(a.description)+" ")])]),t(a.ModalFooter,[t(a.BaseButton,{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",href:a.appStoreUrl,target:"_blank",rel:"noopener"}},[e._v(" "+e._s("Scarica l'App")+" "),t("BaseIcon",{attrs:{name:"external",right:""}})],1)],1)],1)}),[],!1,null,null,null).exports,ie=a(652),oe=a(628),le=a(2);le.a.add("paste-change","paste",(function(e){setTimeout((function(){e.blur().focus()}),0)}));a(876);var ce=a(12),ue=a(0),de=a.n(ue),pe=a(24),he=a(337),me=a(336);const{hashModalData:fe,triggerData:ve,enabled:ge}=ce.a.config("directives/idealo-links");function be(e,t){const a="".concat(fe.endpoint,"?itemId=").concat(t.itemId),s=fe.hash+t.itemId;t.itemId;he.a.handler(e,de.a.extend({endpoint:a,hash:s,endEvent:fe.endEvent},pe.a.defaults)),e.on(fe.endEvent,(function(){me.a.handler(e,ve)}))}ge&&le.a.add("idealo-links","click",be);var ye=a(243),_e=a(657),xe=a(852),we=a(887),Ce=a(653),ke=a(902),Oe=a(640),je=a(877),Se={components:{ExploreMixedWidget:we.a},mixins:[Oe.a,Ce.a,ke.a,je.a],props:{title:{type:String,required:!0},hideOptions:{type:Object,required:!1}},computed:{isVisible(){return this.$breakpoint.mdAndDown},items(){const e=this.normalizeGroups(this.$store.getters["suggestedGroups/items"]),t=this.normalizeGroups(this.$store.getters["topGroups/items"]),a=this.normalizeMerchants(this.$store.getters["topMerchants/items"]);return[...e,...this.mixItems([t,a],5)]}}},Ie=Object(v.a)(Se,(function(){var e=this,t=e._self._c;return e.isVisible&&e.items.length?t("ExploreMixedWidget",{directives:[{name:"track",rawName:"v-track:exploreMoreWidget.view",arg:"exploreMoreWidget",modifiers:{view:!0}}],attrs:{title:e.title,items:e.items,"hide-options":e.hideOptions}}):e._e()}),[],!1,null,null,null).exports;const Te=Object(l.c)({queries:[o.a],merge:!0});var Be=a(21);const Ae=new Promise((e=>{Be.l.onReady((()=>{var t;if(null===(t=Be.l.currentRoute.name)||void 0===t||!t.startsWith("threads.show"))return;const a=Be.l.currentRoute.params.threadId;e((e=>Te({threadId:e}).then((e=>e.request)).then((e=>{var t;return null===(t=e.thread)||void 0===t?void 0:t.additionalInfo})))(a))}))}));var Pe={props:{items:{type:Array,default:()=>[]}},async created(){this.$emit("update",await Ae)},render:()=>null},Le=Object(v.a)(Pe,undefined,undefined,!1,null,null,null).exports,Ee=a(508),$e=a(647),Me={components:{BaseButton:Ee.a},mixins:[$e.a],computed:{toggle(){return this.isBookmarked?{label:"Rimuovi dall'elenco",track:"removeBookmark",icon:"bookmark-active"}:{label:"Salva per dopo",track:"addBookmark",icon:"bookmark"}}}},Ue=Object(v.a)(Me,(function(){var e=this,t=e._self._c;return t("BaseButton",{directives:[{name:"track",rawName:"v-track:[toggle.track].click.click-recombee",arg:e.toggle.track,modifiers:{click:!0,"click-recombee":!0}}],staticClass:"space--mr-4",attrs:{variant:"text",mode:"secondary",selected:e.isBookmarked},on:{click:e.toggleBookmark}},[t("BaseIcon",{attrs:{name:e.toggle.icon,left:""}}),e._v(" "+e._s(e.toggle.label)+" ")],1)}),[],!1,null,null,null).exports,De=a(722),Ne={components:{ToolbarBookmarkButton:Ue},mixins:[De.a],computed:{transformedThread(){return{threadId:String(this.thread.threadId),type:this.thread.type,isBookmarked:this.thread.bookmarked}}}},Re=Object(v.a)(Ne,(function(){return(0,this._self._c)("ToolbarBookmarkButton",{attrs:{thread:this.transformedThread}})}),[],!1,null,null,null).exports,qe={components:{BaseButton:Ee.a},mixins:[De.a]},Fe=Object(v.a)(qe,(function(){var e=this,t=e._self._c;return t("BaseButton",{directives:[{name:"track",rawName:"v-track:newComment.click",arg:"newComment",modifiers:{click:!0}}],staticClass:"space--mr-4",attrs:{variant:"text",mode:"secondary",href:"#comments"}},[t("BaseIcon",{attrs:{name:"comment",left:""}}),t("span",{class:e.labelClass},[e._v(" "+e._s("Nuovo commento")+" ")])],1)}),[],!1,null,null,null).exports,ze=a(869),We=a(50),He=a(516),Ge={components:{BaseSpinner:He.a,BaseButton:Ee.a},mixins:[De.a],data:()=>({loading:!1,formActive:!1}),computed:{communityUpdatable(){return this.features.threadTools.additionalInfo},enabled(){return this.communityUpdatable},buttonClasses(){return{"button--selected":this.formActive,"":!1}}},methods:{legacyToggle(e){this.formActive?document.querySelector("#threadInfoForm").dispatchEvent(new CustomEvent("replace-revert",{bubbles:!0})):(this.toggleLoading(),We.a.handler(de()(this.$el),{endpoint:"/thread-info/add/".concat(this.thread.threadId),method:"get",replaces:[{target:".js-options",mode:"before",endEvent:"wysiwyg-update",reversible:!0,seal:null}]},e).done((()=>{this.toggleLoading(),this.toggleActive(),de()(".thread .thread-infos").on("toggle",this.toggleComplete),de()("#threadInfoForm").on("replace-revert toggle",this.toggleInactive)})))},toggleActive(){this.formActive=!0},toggleInactive(){this.formActive=!1},toggleComplete(){this.toggleInactive(),this.updateFeatures({threadTools:{additionalInfo:!1}})},toggleLoading(){this.loading=!this.loading},toggleForm(e){this.legacyToggle(e)}}},Ve=Object(v.a)(Ge,(function(){var e=this,t=e._self._c;return e.enabled?t("BaseButton",{directives:[{name:"track",rawName:"v-track:addInfo.click",arg:"addInfo",modifiers:{click:!0}}],staticClass:"space--mr-4",class:e.buttonClasses,attrs:{variant:"text",mode:"secondary",seal:e.loading},on:{click:e.toggleForm}},[e.loading?t("BaseSpinner",{staticClass:"spinner--centered"}):e._e(),t("BaseIcon",{attrs:{name:"plus",left:""}}),t("span",{class:e.labelClass},[e._v(" "+e._s("Aggiungi info")+" ")])],1):e._e()}),[],!1,null,null,null).exports;var Ke={components:{BaseButton:Ee.a,ThreadReportModal:()=>a.e(150).then(a.bind(null,1289))},mixins:[De.a],data:()=>({isReportVisible:!1}),computed:{enabled(){return this.thread.issueReportable||this.thread.issueReported},ceptClasses:()=>({"":!1}),toggle(){return this.thread.issueReported?{icon:"flag-active",label:"Segnalato"}:{icon:"flag",label:"Segnala l'argomento"}}},watch:{thread(){this.isReportVisible=!1}},methods:{showReport(){this.thread.issueReportable&&(this.isReportVisible=!0)}}},Qe=Object(v.a)(Ke,(function(){var e=this,t=e._self._c;return e.enabled?t("BaseButton",{directives:[{name:"track",rawName:"v-track:report.click",arg:"report",modifiers:{click:!0}}],staticClass:"space--mr-4",class:e.ceptClasses,attrs:{variant:"text",mode:"secondary",selected:e.thread.issueReported},on:{click:e.showReport}},[t("BaseIcon",{attrs:{name:e.toggle.icon,left:""}}),t("span",{class:e.labelClass},[e._v(" "+e._s(e.toggle.label)+" ")]),e.isReportVisible?t("ThreadReportModal",{attrs:{active:e.isReportVisible},on:{"update:active":function(t){e.isReportVisible=t}}}):e._e()],1):e._e()}),[],!1,null,null,null).exports,Ye={components:{BaseSpinner:He.a,BaseButton:Ee.a},mixins:[De.a],props:{formActive:{type:Boolean,default:!1}},data:()=>({loading:!1}),computed:{postUpdatable(){return this.features.threadTools.postUpdates},enabled(){return this.postUpdatable},buttonClasses(){return{"button--selected":this.formActive,"":!1}}},methods:{toggleComplete(){this.toggleInactive(),this.updateFeatures({threadTools:{postUpdates:!1}})},toggleLoading(){this.loading=!this.loading},toggleForm(){this.$emit("toggle-form")}}},Je=Object(v.a)(Ye,(function(){var e=this,t=e._self._c;return e.enabled?t("BaseButton",{directives:[{name:"track",rawName:"v-track:addUpdate.click",arg:"addUpdate",modifiers:{click:!0}}],staticClass:"space--mr-4",class:e.buttonClasses,attrs:{variant:"text",mode:"secondary",seal:e.loading},on:{click:e.toggleForm}},[e.loading?t("BaseSpinner",{staticClass:"spinner--centered"}):e._e(),t("BaseIcon",{attrs:{name:"warning",left:""}}),t("span",{class:e.labelClass},[e._v(" "+e._s("Pubblica aggiornamento")+" ")])],1):e._e()}),[],!1,null,null,null).exports,Xe=a(870),Ze={components:{UserOptionBookmark:Re,UserOptionComment:Fe,UserOptionExpiry:ze.a,UserOptionInfo:Ve,UserOptionIssue:Qe,UserOptionUpdate:Je,UpdateForm:Xe.a},data:()=>({thread:{},features:{threadTools:{},adminTools:null},isThreadUpdateFormOpen:!1}),computed:Object.assign({},Object(C.e)("auth",{authenticated:(e,t)=>t.loggedIn}),Object(C.e)("features",{threadTools:e=>{var t;return(null===(t=e.flags)||void 0===t?void 0:t.threadTools)||{}},adminTools:e=>{var t;return null===(t=e.flags)||void 0===t?void 0:t.adminTools.enabled}}),{threadData(){return this.$store.getters["threads/get"](this.$route.params.threadId)||{}}}),watch:{threadData(){this.setThread(this.threadData)}},created(){this.setThread(this.threadData),this.setFeatures({threadTools:this.threadTools,adminTools:this.adminTools})},methods:Object.assign({},Object(C.b)("threads",["addThreadUpdate"]),{setThread(e){this.thread=e},setFeatures(e){this.features=e},updateState(e){let{thread:t,features:a}=e;t&&this.setThread(Object.assign({},this.thread,t)),a&&this.setFeatures(Object.assign({},this.features,a))},toggleThreadUpdateForm(){this.isThreadUpdateFormOpen=!this.isThreadUpdateFormOpen},submitThreadUpdateForm(e,t){this.addThreadUpdate({threadId:this.thread.threadId,threadUpdate:e,title:t}),this.toggleThreadUpdateForm()}})},et=Object(v.a)(Ze,(function(){var e=this,t=e._self._c;return t("div",[e.isThreadUpdateFormOpen?t("UpdateForm",{on:{cancel:e.toggleThreadUpdateForm,submit:e.submitThreadUpdateForm}}):e._e(),t("div",{directives:[{name:"track",rawName:"v-track:userOptions",arg:"userOptions"}],staticClass:"js-options flex flex--wrap bg--em space--h-3 space--fromW4-h-4 space--v-2",class:{"bRad--fromW4-b-a":!e.features.adminTools}},[t("UserOptionComment",{attrs:{features:e.features,thread:e.thread},on:{update:e.updateState}}),e.authenticated?[t("UserOptionInfo",{attrs:{features:e.features,thread:e.thread},on:{update:e.updateState}}),t("UserOptionUpdate",{attrs:{features:e.features,thread:e.thread,"is-thread-update-form-open":e.isThreadUpdateFormOpen},on:{"toggle-form":e.toggleThreadUpdateForm}}),e.thread.expirable||e.thread.isMine?e._e():t("UserOptionExpiry",{staticClass:"space--mr-4",attrs:{features:e.features,thread:e.thread},on:{update:e.updateState}}),t("UserOptionIssue",{attrs:{features:e.features,thread:e.thread},on:{update:e.updateState}})]:e._e(),t("UserOptionBookmark",{attrs:{features:e.features,thread:e.thread},on:{update:e.updateState}})],2)],1)}),[],!1,null,null,null).exports,tt=a(533),at=a(656),st=a(532),nt=a(524),rt=Object(nt.b)("relatedDeals",{create:e=>{var t,a,s;return s=(null===(t=e.widgets)||void 0===t||null===(a=t.relatedDealsWidget)||void 0===a?void 0:a.threads)||[],{namespaced:!0,state:{},modules:{threads:Object(st.a)(k.z,s,!1)}}}});var it={components:{Widget:tt.a,HorizontalThreadsCarousel:at.a},mixins:[rt],data:()=>({threads:[]}),computed:Object.assign({},Object(C.c)({relatedDeals:"relatedDeals/items"}),{firstThreadsChunk(){var e;return null===(e=this.relatedDeals)||void 0===e?void 0:e.slice(0,10)}}),mounted(){this.threads=this.firstThreadsChunk},methods:{loadAllThreads(){this.threads.length!==this.relatedDeals.length&&(this.threads=this.relatedDeals)}}},ot=Object(v.a)(it,(function(){var e=this,t=e._self._c;return e.threads.length>0?t("Widget",{directives:[{name:"track",rawName:"v-track:relatedThreads.view",arg:"relatedThreads",modifiers:{view:!0}}],staticClass:"card--space-responsive bRad--fromW4-a space--mt-2",attrs:{"layout-mode":"horizontal"},scopedSlots:e._u([{key:"WidgetHeader",fn:function(){return[t("h3",{staticClass:"text--b size--all-l size--fromW3-xl"},[e._v(" "+e._s("Scopri anche")+" ")])]},proxy:!0},{key:"WidgetBody",fn:function(){return[t("HorizontalThreadsCarousel",{staticClass:"scrollBox-space--m-m scrollBox-space--fromW3-l-m",attrs:{threads:e.threads},nativeOn:{mouseover:function(t){return e.loadAllThreads.apply(null,arguments)},touchstart:function(t){return e.loadAllThreads.apply(null,arguments)}}})]},proxy:!0}],null,!1,1482145698)}):e._e()}),[],!1,null,null,null),lt=ot.exports,ct=a(824).a,ut=Object(v.a)(ct,(function(){var e=this,t=e._self._c;return e.isEditMode?t("UpdateForm",{attrs:{id:`thread_update${e.threadUpdateItemId}`,"thread-update-id":e.threadUpdateItemId},on:{submit:e.onSubmitUpdateForm,cancel:e.toggleEditMode}}):t("div",{staticClass:"cept-threadUpdate toggleSect",class:e.computedClasses,attrs:{id:`thread-update${e.threadUpdateItemId}`}},[t("div",{staticClass:"cept-threadUpdate-toggle toggleSect-trigger space--h-3 space--v-2 clickable flex boxAlign-ai--all-c boxAlign-jc--all-sb",on:{click:e.expandUpdateToggle}},[t("span",{staticClass:"lbox--v-3",class:e.isExpiredClass},[t("BaseIcon",{attrs:{name:"warning"}}),t("span",{staticClass:"overflow--wrap-off space--l-2 size--all-s",class:e.updateItemTitleStyle},[e._v(e._s(e.threadUpdateTitle))]),t("time",{staticClass:"text--color-greyShade overflow--wrap-off space--l-2 size--all-s"},[e._v(" "+e._s(e.threadUpdateItem.timeAgo)+" ")])],1),t("span",{staticClass:"button button--type-tertiary button--mode-default button--shape-circle button--size-s button--square toggleSect-icon"},[t("BaseIcon",{attrs:{name:e.isThreadUpdateItemExpanded?"hide":"show"}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isThreadUpdateItemExpanded,expression:"isThreadUpdateItemExpanded"}],staticClass:"toggleSect-hide--collapsed space--b-2 space--h-3"},[t("div",{staticClass:"userHtml",domProps:{innerHTML:e._s(e.threadUpdateItem.renderedContent)}}),e.isAllowedToPostUpdate?t("div",{staticClass:"space--mt-2 text--b"},[t("BaseButton",{staticClass:"space--mr-3",attrs:{variant:"text",mode:"secondary",size:"s"},on:{click:e.toggleEditMode}},[t("BaseIcon",{attrs:{name:"pencil"}}),e.$breakpoint.smAndUp?t("span",{staticClass:"space--ml-2"},[e._v(" "+e._s("Modifica")+" ")]):e._e()],1),t("BaseButton",{attrs:{variant:"text",mode:"secondary",size:"s"},on:{click:function(t){return e.toggleDeletionHandler(e.threadUpdateItemId)}}},[t("BaseIcon",{attrs:{name:"trash"}}),e.$breakpoint.smAndUp?t("span",{staticClass:"space--ml-2"},[e._v(" "+e._s(e.isDeletedTranslation)+" ")]):e._e()],1)],1):e._e()])])}),[],!1,null,null,null).exports,dt=a(918),pt=a.n(dt),ht={components:{PostUpdateItem:ut},props:{showPriority:{type:Boolean,default:!1},itemModifier:{type:String,default:""},topList:{type:Boolean,default:!1}},computed:Object.assign({},Object(C.c)("threads",{getThreadById:"get"}),{isPriorityThreadUpdate(){return!this.thread.isExpired&&this.showPriority},thread(){return this.getThreadById(this.$route.params.threadId)},threadUpdateslist(){const e=this.topList?this.topUpdatesList:this.bottomUpdatesList;return pt()(e,["isMostRecentlyUpdated","isOnTop","createdAt"],["desc","desc","desc"])},topUpdatesList(){return this.thread.threadUpdates.filter((e=>e.isMostRecentlyUpdated||e.isOnTop))},bottomUpdatesList(){return this.thread.threadUpdates.filter((e=>!e.isMostRecentlyUpdated&&!e.isOnTop))}})},mt=Object(v.a)(ht,(function(){var e=this,t=e._self._c;return e.thread.threadUpdates.length?t("div",{staticClass:"threadItem-content space--t-3"},[t("div",{staticClass:"boxSec overflow--hidden hide--empty",class:{isPriorityThreadUpdate:"boxSec--priority"}},e._l(e.threadUpdateslist,(function(a,s){return t("PostUpdateItem",{key:a.threadUpdateId,attrs:{"thread-update-item":a,index:s,"total-thread-updates":e.thread.threadUpdates.length,"bottom-updates-length":e.bottomUpdatesList.length,"thread-is-expired":e.thread.isExpired,top:a.isOnTop,"show-priority":e.showPriority,"item-modifier":e.itemModifier,"is-allowed-to-post-update":e.thread.isAllowedToPostUpdate}})})),1)]):e._e()}),[],!1,null,null,null).exports,ft=a(859),vt=a(56),gt=a(659);ye.a.add(Object.assign({},xe.a,{GroupWidgetSuggestedHorizontal:_e.a,TopGroupsTopMerchantsWidget:Ie,RelatedThreadsWidget:lt,PostUpdate:mt,EventBannerInThread:V,MonetizationMsg:Q,CommentSummaryLock:gt.a,AdsFuseZone:ft.a,CommentAuthor:()=>a.e(54).then(a.bind(null,1103)),AdditionalInfoAvatar:()=>a.e(44).then(a.bind(null,1329)),AdditionalInfoList:Le,AdditionalInfo:()=>a.e(43).then(a.bind(null,1371)),AdditionalInfoLikes:()=>a.e(45).then(a.bind(null,1330)),AdditionalInfoToolbar:()=>a.e(46).then(a.bind(null,1239)),OptionGroupAssign:()=>a.e(121).then(a.bind(null,1043)),PmDelete:()=>Promise.all([a.e(9),a.e(133)]).then(a.bind(null,910)),PaginationPopover:()=>a.e(228).then(a.bind(null,651)),ThreadBookmarkButton:()=>a.e(155).then(a.bind(null,696)),ThreadEventRefresh:()=>a.e(155).then(a.bind(null,695))}));var bt=Object(s.defineComponent)({__name:"thread-item",props:{routeData:null},setup(e){const t=e,o=()=>a.e(63).then(a.bind(null,1226)),l=Object(s.computed)((()=>t.routeData.thread.data.value)),v=Object(s.computed)((()=>d.a.getters["threads/get"](l.value.threadId))),g=Object(s.computed)((()=>d.a.state.features.flags));Object(r.b)(l);const b=Object(s.computed)((()=>t.routeData.commentSummary.data.value)),y=Object(s.computed)((()=>t.routeData.commentSection.data.value));o(),Object(r.a)(v);const _=Object(s.computed)((()=>{var e,t;return Object(k.r)(null===(e=v.value)||void 0===e?void 0:e.threadTypeId)||Object(k.y)(null===(t=v.value)||void 0===t?void 0:t.threadTypeId)}));(()=>{const{currentUser:e}=Object(c.a)(),{params:t}=Object(u.a)(),n=Object(s.computed)((()=>d.a.getters["threads/get"](t.threadId))),r=Object(s.computed)((()=>{var t,a;return(null===(t=n.value)||void 0===t?void 0:t.user.userId)===(null===(a=e.value)||void 0===a?void 0:a.userId)}));Object(s.onMounted)((async()=>{var e;if(null===(e=n.value)||void 0===e||!e.threadId||!r.value)return;const t=await h({threadId:n.value.threadId}),{showThreadSubmissionEffects:s}=await t.request;if(s){await Object(i.b)();const{create:e}=await a.e(146).then(a.bind(null,1220)),t=e(null,{resize:!0});await Promise.all([t(Object.assign({},p,{spread:150,origin:{y:.8}})),t(Object.assign({},p,{spread:80,origin:{y:1}}))]),t.reset()}}))})(),navigator.userAgent.includes("Prerender")||Object(ie.a)(Object(s.ref)({productIncontent1:"",productIncontent2:"",productVrec1:"",productVrec2:""})),Object(r.c)(v,(e=>Object(n.b)(e.threadId,e.lastHighlightsRecommendationId))),Object(r.c)(v,(()=>Object(m.a)())),Object(r.c)(v,(()=>Object(oe.c)()),{immediate:!1});const x=Object(s.computed)((()=>d.a.getters["cookiePolicy/cookieMessage"]));return{__sfc:!0,AdminOptionsToolbar:()=>Promise.all([a.e(9),a.e(149)]).then(a.bind(null,1222)),ExpiryBanners:()=>a.e(78).then(a.bind(null,1363)),CommentSection:o,ThreadStats:()=>a.e(152).then(a.bind(null,1364)),props:t,threadRouteData:l,thread:v,features:g,commentSummary:b,commentSection:y,isDealOrVoucher:_,cookieMessage:x,ThreadUserOptionsToolbar:et,PostUpdate:mt,ToolbarMode:vt.a,TwigPortal:f.a,ThreadBreadcrumbs:j,ThreadItemContent:z,ThreadEditedReason:H,EventBannerInThread:V,MonetizationMsg:Q,HorizontalThreadGroupsList:ee,BaseLayout:te.a,AppDownloadMessageLoader:ae.a,EventThemingBaseHeader:se.a,AppInstallModal:re}}}),yt=Object(v.a)(bt,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.BaseLayout,{attrs:{twig:"","route-data":e.routeData.baseLayout,"disable-sticky-header":a.isDealOrVoucher}},[e._t("default"),a.thread?[e.routeData.themedEvent.data.value?t(a.TwigPortal,{attrs:{to:"#eventThemingHeader"}},[t(a.EventThemingBaseHeader,{attrs:{"themed-event":e.routeData.themedEvent.data.value}})],1):e._e(),t(a.TwigPortal,{attrs:{to:"#threadAdminOptionsToolbarPortal"}},[a.features.adminTools.enabled?t(a.AdminOptionsToolbar,{attrs:{mode:a.ToolbarMode.ThreadDetail}}):e._e()],1),t(a.TwigPortal,{attrs:{to:"#eventBannerInThread"}},[t(a.EventBannerInThread)],1),a.commentSection?t(a.TwigPortal,{attrs:{to:"#commentSectionPortal",lazy:""}},[t(a.CommentSection,{attrs:{"comment-section":a.commentSection,"comment-summary":a.commentSummary}})],1):e._e(),t(a.TwigPortal,{attrs:{to:"#threadBreadcrumbsPortal"}},[t(a.ThreadBreadcrumbs)],1),t(a.TwigPortal,{attrs:{to:"#firstPostUpdatePortal"}},[t(a.PostUpdate,{staticClass:"thread-updates-top",attrs:{"show-priority":"","top-list":""}})],1),a.isDealOrVoucher?t(a.TwigPortal,{attrs:{to:"#threadItemContentPortal"}},[t(a.ThreadItemContent,{attrs:{thread:a.thread}})],1):e._e(),a.isDealOrVoucher?t(a.TwigPortal,{attrs:{to:"#threadEditedReasonPortal"}},[t(a.ThreadEditedReason)],1):e._e(),a.thread.insights?t(a.TwigPortal,{attrs:{to:"#threadStatsPortal",lazy:""}},[t(a.ThreadStats,{attrs:{thread:a.thread}})],1):e._e(),a.thread.threadExpiryBanners?t(a.TwigPortal,{attrs:{to:"#threadExpiryBanners"}},[t(a.ExpiryBanners,{attrs:{banners:a.thread.threadExpiryBanners}})],1):e._e(),a.thread.showMonetizationMessage?t(a.TwigPortal,{attrs:{to:"#monetizationMsgPortal",lazy:""}},[t(a.MonetizationMsg,{attrs:{thread:a.thread}})],1):e._e(),t(a.TwigPortal,{attrs:{to:"#remainingPostUpdatePortal"}},[t(a.PostUpdate,{staticClass:"thread-updates"})],1),a.isDealOrVoucher?t(a.TwigPortal,{attrs:{to:"#horizontalThreadGroupsListPortal"}},[t(a.HorizontalThreadGroupsList,{attrs:{thread:a.thread}})],1):e._e(),t(a.TwigPortal,{attrs:{to:"#threadUserOptionsToolbarPortal"}},[t(a.ThreadUserOptionsToolbar)],1),e.routeData.appInstallModal.data.value&&!a.cookieMessage?t(a.AppInstallModal,{attrs:{statistic:e.routeData.appInstallModal.data.value.statistic}}):e._e()]:e._e(),t(a.AppDownloadMessageLoader,{attrs:{data:e.routeData.appDownloadMessage}})],2)}),[],!1,null,null,null);t.a=yt.exports},909:function(e,t,a){"use strict";a.d(t,"d",(function(){return x})),a.d(t,"a",(function(){return w})),a.d(t,"b",(function(){return C})),a.d(t,"c",(function(){return k}));var s=a(529);var n=a(1),r=a(6),i=a(112),o=a(904);function l(e,t,a){const s=Number(t)||1,l=Object(i.k)(Object(o.a)()),c=Object(i.s)(a),u={queryCache:!!Object(i.r)()||10};return function(e,t,a){let{page:s=1,order:i,limit:o}=t,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c=[n.n,n.l,n.U,n.r],u={filter:{threadId:{eq:e},order:i},page:s,limit:o,repliesPreview:!0,scope:e,comments:!0,form:!0,adminTools:!0,variations:["user_small_avatar"]};return 1===s&&(c.push(n.o),u.pinnedCommentsFilter={threadId:{eq:e},pinnedOnly:{is:!0}}),a&&(c.push(n.W),u.commentId=a),Object(r.c)({queries:c,merge:!0})(u,l).then((e=>e.request))}(e,{page:s,order:l},c,u).then((t=>Object.assign({threadId:e},t)))}var c=a(649),u=a(905),d=a(753),p=a(721),h=a(762);Object(r.c)({queries:[n.Bb],merge:!0}),Object(r.c)({queries:[n.Cb],merge:!0});var m=a(763);var f=a(25);const v=e=>{let{afterEnter:t,breakpoint:a,query:s,path:i}=e;return t((e=>{const t="mappshare"===s("utm_source").value;return e&&t&&f.c?Object(r.c)({queries:[n.c],merge:!0})({}).then((e=>e.request)).then((e=>e.appInstallModalData)):null}),[a("smAndDown"),i])},g=Object(r.c)({queries:[n.pb],merge:!0}),b=e=>g({threadId:e}).then((e=>e.request)).then((e=>{let{commentSummary:t}=e;return t}));var y=a(4),_=a(5);function x(e){const{beforeEnter:t,afterEnter:a,param:n,query:r,hash:i}=e,o=n("threadId"),c=r("page"),u=Object(_.computed)((()=>{var e;return null===(e=y.a.getters["threads/get"](o.value))||void 0===e?void 0:e.isCommentSummaryEnabled}));return{baseLayout:Object(s.b)(e),themedEvent:Object(m.a)(e,[p.a.BASE]),thread:t(((e,t)=>t?t.threadDetail:Promise.reject()),[o]),commentSection:a((e=>l(e,c.value,i.value)),[o]),commentSummary:a(((e,t)=>t?b(e):null),[o,u]),appDownloadMessage:a((()=>Object(h.a)())),appInstallModal:v(e)}}const w=e=>{let{afterEnter:t,param:a}=e;return t((()=>Object(c.a)()),[a("threadId")])},C=e=>{let{afterEnter:t,param:a}=e;return t((e=>Object(d.c)(e)),[a("threadId")])},k=e=>{let{afterEnter:t,param:a}=e;return t((e=>Object(u.a)(e)),[a("threadId")])}},914:function(e,t,a){"use strict";var s=a(86),n=a.n(s),r={props:{threshold:{type:Number,required:!0}},data:()=>({isActive:!1}),watch:{threshold:"check"},mounted(){const e=n()(this.check,10);window.addEventListener("scroll",e),window.addEventListener("resize",e),this.$nextTick(this.check),this.$once("hook:beforeDestroy",(()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}))},methods:{check(){this.isActive=window.pageYOffset>this.threshold}},render(){return this.$scopedSlots.default({isActive:this.isActive})}},i=a(44),o=Object(i.a)(r,undefined,undefined,!1,null,null,null);t.a=o.exports},917:function(e,t,a){"use strict";a(862)},918:function(e,t,a){var s=a(919),n=a(81);e.exports=function(e,t,a,r){return null==e?[]:(n(t)||(t=null==t?[]:[t]),n(a=r?void 0:a)||(a=null==a?[]:[a]),s(e,t,a))}},919:function(e,t,a){var s=a(185),n=a(248),r=a(249),i=a(920),o=a(921),l=a(247),c=a(922),u=a(187),d=a(81);e.exports=function(e,t,a){t=t.length?s(t,(function(e){return d(e)?function(t){return n(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=s(t,l(r));var h=i(e,(function(e,a,n){return{criteria:s(t,(function(t){return t(e)})),index:++p,value:e}}));return o(h,(function(e,t){return c(e,t,a)}))}},920:function(e,t,a){var s=a(964),n=a(165);e.exports=function(e,t){var a=-1,r=n(e)?Array(e.length):[];return s(e,(function(e,s,n){r[++a]=t(e,s,n)})),r}},921:function(e,t){e.exports=function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}},922:function(e,t,a){var s=a(923);e.exports=function(e,t,a){for(var n=-1,r=e.criteria,i=t.criteria,o=r.length,l=a.length;++n<o;){var c=s(r[n],i[n]);if(c)return n>=l?c:c*("desc"==a[n]?-1:1)}return e.index-t.index}},923:function(e,t,a){var s=a(183);e.exports=function(e,t){if(e!==t){var a=void 0!==e,n=null===e,r=e==e,i=s(e),o=void 0!==t,l=null===t,c=t==t,u=s(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!a&&c||!r)return 1;if(!n&&!i&&!u&&e<t||u&&a&&r&&!n&&!i||l&&a&&r||!o&&r||!c)return-1}return 0}},924:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var s=a(847),n=a(109);const r=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return"".concat(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const r=Object(s.a)(Object(n.e)(t),a),i=Object(n.c)(t,"d MMMM");if(r>=7)return e("<strong>:day</strong>",{replaces:{day:i}});if(r>1)return{sunday:"<strong>Domenica</strong>",monday:"<strong>Lunedì</strong>",tuesday:"<strong>Martedì</strong>",wednesday:"<strong>Mercoledì</strong>",thursday:"<strong>Giovedì</strong>",friday:"<strong>Venerdì</strong>",saturday:"<strong>Sabato</strong>"}[["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date(Object(n.e)(t)).getDay()]];return 1===r?"<strong>".concat("domani","</strong>"):0===r?"<strong>".concat("oggi","</strong>"):e("<strong>:day</strong>",{replaces:{day:i}})}(t,a)," ").concat((t=>{const a=Object(n.c)(t,"HH:mm");return e("alle :time",{replaces:{time:a}})})(t))}}).call(this,a(70).translation)},925:function(e,t,a){var s=a(926),n=a(863),r=a(903),i=a(312);e.exports=function(e,t,a){e=i(e);var o=(t=r(t))?n(e):0;return t&&o<t?s(t-o,a)+e:e}},926:function(e,t,a){var s=a(927),n=a(338),r=a(713),i=a(663),o=a(863),l=a(714),c=Math.ceil;e.exports=function(e,t){var a=(t=void 0===t?" ":n(t)).length;if(a<2)return a?s(t,e):t;var u=s(t,c(e/o(t)));return i(t)?r(l(u),0,e).join(""):u.slice(0,e)}},927:function(e,t){var a=Math.floor;e.exports=function(e,t){var s="";if(!e||t<1||t>9007199254740991)return s;do{t%2&&(s+=e),(t=a(t/2))&&(e+=e)}while(t);return s}},928:function(e,t,a){var s=a(252)("length");e.exports=s},929:function(e,t){var a="\\ud800-\\udfff",s="["+a+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+a+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",d=u+c+("(?:\\u200d(?:"+[i,o,l].join("|")+")"+u+c+")*"),p="(?:"+[i+n+"?",n,o,l,s].join("|")+")",h=RegExp(r+"(?="+r+")|"+p+d,"g");e.exports=function(e){for(var t=h.lastIndex=0;h.test(e);)++t;return t}},930:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var s=a(5),n=a(514),r=a(522),i=a(1),o=a(109),l=a(20);const c=[["re",1024,1024],["ft","jpg"],["qt",60]],u=e=>{var t,a,s;let{twitter:n,og:r,general:i}=e;const o=Object(l.a)("/assets/img/logo-dark_e9d72.png"),c=[{name:"description",content:i.description},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:n.title},{name:"twitter:description",content:n.description},{name:"twitter:site",content:n.site?"@".concat(n.site):""},{name:"twitter:image",content:null!==(t=n.image)&&void 0!==t?t:o},{name:"twitter:creator",content:n.creator?"@".concat(n.creator):""},{property:"og:title",content:r.title},{property:"og:site_name",content:"Pepper.it"},{property:"og:type",content:"website"},{property:"og:image",content:null!==(a=r.image)&&void 0!==a?a:o},{property:"og:image:secure_url",content:null!==(s=r.image)&&void 0!==s?s:o},{property:"og:description",content:r.description},{property:"og:url",content:r.url?Object(l.a)(r.url):""},{property:"og:urlog:article:published_time",content:r.publishedTime},{property:"og:article:section",content:r.articleSection}];return i.shouldBeIndexed?c.push({name:"robots",content:"index, follow",id:""}):c.push({name:"robots",content:"noindex, follow",id:""}),c.filter((e=>e.content))},d=e=>{if(!e.value)return;const t=Object(n.a)();return Object(s.computed)((()=>{const{descriptionPurified:a,title:s,createdAt:n,isIndexed:d,mainImage:p,type:h}=e.value,{query:m,fullPath:f,path:v}=t,g=new r.a(p).apply(c).toString(),b=m.page,y={general:{description:a,shouldBeIndexed:h!==i.Ab.Feedback&&d&&!b},twitter:{title:s,description:a,image:g,site:"PepperOfferte"},og:{title:s,description:a,image:g,url:f,publishedTime:Object(o.c)(n,"yyyy-MM-dd hh:mm")}},_=!b||"1"===b,x="".concat(s," ").concat("» Pepper.it"),w={meta:u(y),title:x};return _&&(w.link=[{rel:"canonical",href:Object(l.a)(v)}]),w}))}},945:function(e,t,a){"use strict";var s=a(783),n=a(830),r=a(825).a,i=a(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("span",[e._v(e._s(e.message))])}),[],!1,null,null,null).exports,l={components:{UpToDateMessageContainer:s.a,ThreadRelativeDate:n.a,ExpiredMessageText:o},props:{thread:{type:Object,required:!0}}},c=Object(i.a)(l,(function(){var e=this,t=e._self._c;return t("UpToDateMessageContainer",{staticClass:"bg--color-greyPanel text--color-charcoal"},[t("BaseIcon",{staticClass:"space--mr-2 text--color-red",attrs:{name:"info-warning"}}),t("span",{staticClass:"text--b size--all-m"},[t("ThreadRelativeDate",{attrs:{"utc-timestamp":e.thread.endDate.timestamp},scopedSlots:e._u([{key:"default",fn:function(a){return[t("ExpiredMessageText",e._b({attrs:{thread:e.thread}},"ExpiredMessageText",a,!1))]}}])})],1)],1)}),[],!1,null,null,null).exports,u=a(826).a,d=Object(i.a)(u,(function(){var e=this,t=e._self._c;return t("UpToDateMessageContainer",{staticClass:"bg--color-greyPanel text--color-charcoal"},[t("BaseIcon",{staticClass:"space--mr-2 text--color-blueTint",attrs:{name:"info"}}),t("span",{staticClass:"text--b size--all-m"},[e._v(e._s(e.message))])],1)}),[],!1,null,null,null).exports,p=a(882),h=a(103),m=a(109),f=a(924),v=a(827).a,g=Object(i.a)(v,(function(){var e=this;return(0,e._self._c)("span",{domProps:{innerHTML:e._s(e.translation)}})}),[],!1,null,null,null).exports,b=a(892),y={components:{UpToDateMessageContainer:s.a,CountDown:b.a,ThreadDateTimer:g},props:{utcTimestamp:{type:Number,required:!0},translationPrefix:{type:String,default:""},hoursToShowCountdown:{type:Number,default:5}},data:()=>({dtNow:Date.now()}),computed:{date(){return Object(h.k)(this.utcTimestamp)},secondsToStart(){const e=Object(p.a)(1e3*this.utcTimestamp,this.dtNow);return e>0?e:0},isAboutToStart(){return this.secondsToStart&&this.secondsToStart<m.a*this.hoursToShowCountdown},message(){const e=Object(f.a)(this.utcTimestamp,this.dtNow);return this.isAboutToStart?"".concat(this.translationPrefix):"".concat(this.translationPrefix," ").concat(e)}},methods:{endTime(){this.dtNow=Date.now(),this.$emit("timer-end")}}},_=Object(i.a)(y,(function(){var e=this,t=e._self._c;return t("UpToDateMessageContainer",[t("BaseIcon",{staticClass:"space--mr-2",attrs:{name:"clock"}}),t("span",{staticClass:"size--all-m width--all-auto userHtml"},[t("span",{domProps:{innerHTML:e._s(e.message)}}),e._v(" "+e._s(" ")+" "),e.isAboutToStart?t("CountDown",{attrs:{date:e.date},on:{end:e.endTime},scopedSlots:e._u([{key:"default",fn:function({hours:e,minutes:a,seconds:s}){return[t("span",[t("ThreadDateTimer",{attrs:{hours:e,minutes:a,seconds:s}})],1)]}}],null,!1,4249447219)}):e._e()],1)],1)}),[],!1,null,null,null).exports,x=a(17);const w={[x.a]:"Quest'offerta inizia",[x.o]:"Questo buono è valido da"};var C={components:{ThreadDateBase:_},props:{utcTimestamp:{type:Number,required:!0},threadType:{type:String,required:!0}},computed:{translationPrefix(){return w[this.threadType]}}},k=Object(i.a)(C,(function(){var e=this;return(0,e._self._c)("ThreadDateBase",{staticClass:"bg--color-bluePale text--color-blue",attrs:{"utc-timestamp":e.utcTimestamp,"translation-prefix":e.translationPrefix},on:{"timer-end":function(t){return e.$emit("start")}}})}),[],!1,null,null,null).exports,O=a(847);const j={[x.a]:"Quest'offerta finisce",[x.o]:"Questo buono scade"};var S={components:{ThreadDateBase:_},props:{utcTimestamp:{type:Number,required:!0},threadType:{type:String,required:!0}},computed:{hoursToShowCountdown:()=>5,now:()=>Date.now(),timestamp(){return Object(m.e)(this.utcTimestamp)},secondsToExpire(){return Object(p.a)(this.timestamp,this.now)},calendarDaysToExpire(){return Object(O.a)(this.timestamp,this.now)},translationPrefix(){return j[this.threadType]},colorSchema(){return this.calendarDaysToExpire<1||this.secondsToExpire<=5*m.a?"bg--color-redPale text--color-red":this.calendarDaysToExpire<=7?"bg--color-orangePale text--color-orange":"bg--color-bluePale text--color-blue"}}},I=Object(i.a)(S,(function(){var e=this;return(0,e._self._c)("ThreadDateBase",{class:e.colorSchema,attrs:{"utc-timestamp":e.utcTimestamp,"translation-prefix":e.translationPrefix,"hours-to-show-countdown":5},on:{"timer-end":function(t){return e.$emit("expire")}}})}),[],!1,null,null,null).exports,T={components:{UpToDateMessageContainer:s.a}},B={components:{ExpiredMessage:c,MayBeExpiredMessage:d,ThreadDateStart:k,ThreadDateExpire:I,AllCodesClaimedMessage:Object(i.a)(T,(function(){var e=this,t=e._self._c;return t("UpToDateMessageContainer",{staticClass:"bg--color-greyPanel text--color-charcoal"},[t("BaseIcon",{staticClass:"space--mr-2 text--color-red",attrs:{name:"info-warning"}}),t("span",{staticClass:"text--b size--all-m"},[e._v(e._s("Sfortunatamente, tutti i codici sono stati richiesti"))])],1)}),[],!1,null,null,null).exports},data:()=>({dtNow:Object(m.k)(Date.now())}),computed:{thread(){return this.$store.getters["threads/get"](this.$route.params.threadId)},isExpired(){return this.thread.isExpired},isMaybeExpired(){return this.thread.isMaybeExpired},dtStart(){var e;return null===(e=this.thread.startDate)||void 0===e?void 0:e.timestamp},dtExpire(){var e;return null===(e=this.thread.endDate)||void 0===e?void 0:e.timestamp},hasStartingDateCountDown(){return!!this.dtStart&&this.dtNow<this.dtStart},hasExpiringDateCountDown(){return!!this.dtExpire&&this.dtNow<this.dtExpire},isCampaignFinished(){return Object(h.e)(this.thread)},hasMessage(){return this.isExpired||this.isMaybeExpired||this.isCampaignFinished||this.hasStartingDateCountDown||this.hasExpiringDateCountDown}},created(){this.$emit("update:hasMessage",this.hasMessage)},methods:{updateCurrentDate(){this.dtNow=Object(m.k)(Date.now())},expireThread(){this.updateCurrentDate(),this.$store.dispatch("threads/expire",{threadId:this.thread.threadId})}}},A=Object(i.a)(B,(function(){var e=this,t=e._self._c;return e.hasMessage?t("div",[e.isExpired?t("ExpiredMessage",{attrs:{thread:e.thread}}):e.isMaybeExpired?t("MayBeExpiredMessage",{attrs:{"thread-type":e.thread.type}}):[e.isCampaignFinished?t("AllCodesClaimedMessage"):e._e(),e.hasStartingDateCountDown?t("ThreadDateStart",{attrs:{"utc-timestamp":e.dtStart,"thread-type":e.thread.type},on:{start:e.updateCurrentDate}}):e.hasExpiringDateCountDown?t("ThreadDateExpire",{attrs:{"utc-timestamp":e.dtExpire,"thread-type":e.thread.type},on:{expire:e.expireThread}}):e._e()]],2):e._e()}),[],!1,null,null,null);t.a=A.exports},946:function(e,t,a){"use strict";var s=a(5),n=a(517),r=a(511),i=a(719),o=a(25),l=a(17),c=a(4),u=Object(s.defineComponent)({__name:"social-share-button-old",props:{shareUrl:null,icon:null},setup:e=>({__sfc:!0,BaseButton:r.a})}),d=a(44),p=Object(d.a)(u,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.BaseButton,e._b({staticClass:"boxAlign-jc--all-fs",attrs:{variant:"text",mode:"secondary",href:e.shareUrl}},"BaseButton",e.$attrs,!1),[t("BaseIcon",{attrs:{name:e.icon,left:""}}),e._t("default")],2)}),[],!1,null,null,null).exports,h=Object(s.defineComponent)({__name:"share-button-twitter-old",props:{url:null,threadId:null,text:null},setup(e){const t=e,a="PepperOfferte",n=Object(s.computed)((()=>{const e=Object(i.b)(i.a.TWITTER,t.url,t.threadId),s=new URL("http://twitter.com/intent/tweet");return s.searchParams.set("url",e),s.searchParams.set("text",t.text),s.searchParams.set("via",a),s.toString()}));return{__sfc:!0,props:t,twitterUsername:a,shareUrl:n,SocialShareButtonOld:p}}}),m=Object(d.a)(h,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.SocialShareButtonOld,{directives:[{name:"track",rawName:"v-track:shareOnTwitter.click",arg:"shareOnTwitter",modifiers:{click:!0}}],attrs:{icon:"twitter","share-url":a.shareUrl,target:"_blank",title:"Twitter"}},[e._v(" "+e._s("Twitter")+" ")])}),[],!1,null,null,null).exports,f=Object(s.defineComponent)({__name:"share-button-facebook-old",props:{url:null,threadId:null},setup(e){const t=e,a=Object(s.computed)((()=>{const e=Object(i.b)(i.a.FACEBOOK,t.url,t.threadId),a=new URL("http://www.facebook.com/share.php");return a.searchParams.set("u",e),a.toString()}));return{__sfc:!0,props:t,shareUrl:a,SocialShareButtonOld:p}}}),v=Object(d.a)(f,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.SocialShareButtonOld,{directives:[{name:"track",rawName:"v-track:shareOnFacebook.click",arg:"shareOnFacebook",modifiers:{click:!0}}],attrs:{icon:"facebook","share-url":a.shareUrl,title:"Facebook",target:"_blank"}},[e._v(" "+e._s("Facebook")+" ")])}),[],!1,null,null,null).exports,g=Object(s.defineComponent)({__name:"share-button-whatsapp-old",props:{url:null,threadId:null},setup(e){const t=e,a=Object(s.computed)((()=>{const e=Object(i.b)(i.a.WHATSAPP,t.url,t.threadId),a=new URL("whatsapp://send");return a.searchParams.set("text",e),a.toString()}));return{__sfc:!0,props:t,shareUrl:a,SocialShareButtonOld:p}}}),b=Object(d.a)(g,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.SocialShareButtonOld,{directives:[{name:"track",rawName:"v-track:shareOnWhatsapp.click",arg:"shareOnWhatsapp",modifiers:{click:!0}}],attrs:{icon:"whatsapp",title:"Condividi via WhatsApp","share-url":a.shareUrl}},[e._v(" "+e._s("Condividi via WhatsApp")+" ")])}),[],!1,null,null,null).exports,y=Object(s.defineComponent)({__name:"share-button-messenger-old",props:{url:null,threadId:null},setup(e){const t=e,a=Object(s.computed)((()=>{const e=Object(i.b)(i.a.MESSENGER,t.url,t.threadId),a=new URL("fb-messenger://share/");return a.searchParams.set("link",e),a.searchParams.set("app_id","551055352330182"),a.toString()}));return{__sfc:!0,props:t,shareUrl:a,SocialShareButtonOld:p}}}),_=Object(d.a)(y,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.SocialShareButtonOld,{directives:[{name:"track",rawName:"v-track:shareOnMessenger.click",arg:"shareOnMessenger",modifiers:{click:!0}}],attrs:{icon:"messenger","share-url":a.shareUrl,title:"Condividi via Messenger"}},[e._v(" "+e._s("Condividi via Messenger")+" ")])}),[],!1,null,null,null).exports,x=a(71),w=Object(s.defineComponent)({__name:"social-share-buttons-old",props:{thread:null},emits:["click"],setup(e,t){let{emit:a}=t;const n=e,r=Object(x.c)(),i=Object(s.computed)((()=>n.thread.shareableLink)),o=Object(s.computed)((()=>n.thread.threadId)),l=Object(s.computed)((()=>{var e;return null===(e=c.a.getters["features/flags"].social)||void 0===e?void 0:e.whatsappSharing})),u=Object(s.computed)((()=>{var e;return null===(e=c.a.getters["features/flags"].social)||void 0===e?void 0:e.facebookSharing}));return{__sfc:!0,breakpoint:r,emit:a,props:n,threadUrl:i,threadId:o,canShareOnWhatsapp:l,canShareOnFacebook:u,TwitterShareButtonOld:m,FacebookShareButtonOld:v,WhatsappShareButtonOld:b,MessengerShareButtonOld:_}}}),C=Object(d.a)(w,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"flex flex--dir-col",on:{click:function(e){return a.emit("click")}}},[a.breakpoint.smAndUp&&a.canShareOnFacebook?t(a.FacebookShareButtonOld,{attrs:{url:a.threadUrl,"thread-id":a.threadId}}):e._e(),a.breakpoint.smAndUp?t(a.TwitterShareButtonOld,{attrs:{url:a.threadUrl,"thread-id":a.threadId,text:e.thread.title}}):e._e(),a.canShareOnWhatsapp?t(a.WhatsappShareButtonOld,{staticClass:"hide--touch-off",attrs:{url:a.threadUrl,"thread-id":a.threadId}}):e._e(),a.breakpoint.xsOnly&&a.canShareOnFacebook?t(a.MessengerShareButtonOld,{staticClass:"hide--touch-off",attrs:{url:a.threadUrl,"thread-id":a.threadId}}):e._e()],1)}),[],!1,null,null,null).exports,k=a(818),O=Object(s.defineComponent)({__name:"copy-button-old",props:{url:null,threadId:null},emits:["click"],setup(e,t){let{emit:a}=t;const n=e,o=Object(x.c)(),l=Object(s.ref)(null),u=Object(s.computed)((()=>{const e=o.lgAndUp?i.a.COPY_DESKTOP:i.a.COPY_MOBILE;return Object(i.b)(e,n.url,n.threadId)}));return{__sfc:!0,breakpoint:o,props:n,emit:a,copyButtonInput:l,shareUrl:u,handleClick:e=>{e(l.value),a("click"),c.a.dispatch("pageMsgs/set",[{type:"success",priority:"low",code:10001,title:"Link copiato"}])},BaseButton:r.a,CopyToClipboard:k.a}}}),j=Object(d.a)(O,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.CopyToClipboard,{scopedSlots:e._u([{key:"default",fn:function({copy:s}){return[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:shareCopyLink.click",arg:"shareCopyLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs",attrs:{variant:"text",mode:"secondary"},on:{click:function(e){return a.handleClick(s)}}},[t("BaseIcon",{staticClass:"space--mr-2",attrs:{name:"duplicate"}}),e._v(" "+e._s("Copia il link")+" "),t("input",{ref:"copyButtonInput",staticClass:"hide--screen",attrs:{type:"text"},domProps:{value:a.shareUrl}})],1)]}}])})}),[],!1,null,null,null).exports;const S={mixins:[n.a]};var I=Object(s.defineComponent)(Object.assign({},S,{__name:"thread-share-button",props:{thread:null},setup(e){const t=e,n=Object(s.defineAsyncComponent)((()=>a.e(151).then(a.bind(null,1235)))),c=Object(s.ref)(!1),u=Object(s.computed)((()=>({title:t.thread.title,url:Object(i.b)(i.a.WEB_SHARE,t.thread.shareableLink,t.thread.threadId)}))),d=Object(s.computed)((()=>Object(o.a)(u.value))),p=Object(s.computed)((()=>d.value?"webShareBtn":"shareBtn")),h=Object(s.computed)((()=>Object(l.t)(t.thread.threadTypeId)||Object(l.s)(t.thread.threadTypeId))),m=Object(s.computed)((()=>({disabled:d.value,layouts:[{preset:"s",x:"120%"}]})));return{__sfc:!0,ThreadShareModal:n,props:t,isActive:c,shareData:u,canBeShared:d,btnTracking:p,handleShare:()=>{d.value?navigator.share(u.value):c.value=!0},isOld:h,handleShareOld:()=>d.value&&navigator.share(u.value),popoverOptions:m,BaseButton:r.a,SocialShareButtonsOld:C,CopyButtonOld:j}}})),T=Object(d.a)(I,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.isOld?t(a.BaseButton,{directives:[{name:"popover",rawName:"v-popover",value:a.popoverOptions,expression:"popoverOptions"},{name:"track",rawName:"v-track:[btnTracking].click",arg:a.btnTracking,modifiers:{click:!0}}],attrs:{variant:"tertiary",mode:"default",selected:a.isActive},on:{click:a.handleShareOld}},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"share"}}),e._v(" "+e._s("Condividi")+" "),t("BasePopover",{attrs:{active:a.isActive},on:{"update:active":function(e){a.isActive=e}},scopedSlots:e._u([{key:"default",fn:function({close:s}){return[t("PopoverBody",{directives:[{name:"track",rawName:"v-track:sharingOptions",arg:"sharingOptions"}],staticClass:"flex flex--dir-col space--v-2"},[t(a.SocialShareButtonsOld,{attrs:{thread:e.thread},on:{click:s}}),t(a.CopyButtonOld,{attrs:{url:e.thread.shareableLink,"thread-id":e.thread.threadId},on:{click:s}})],1)]}}],null,!1,1215065442)})],1):t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:[btnTracking].click",arg:a.btnTracking,modifiers:{click:!0}}],attrs:{variant:"text",mode:"secondary"},on:{click:a.handleShare}},[t("BaseIcon",{attrs:{name:"share",left:""}}),e._v(" "+e._s("Condividi")+" "),a.isActive?t(a.ThreadShareModal,{attrs:{thread:e.thread},on:{close:function(e){a.isActive=!1}}}):e._e()],1)}),[],!1,null,null,null);t.a=T.exports},947:function(e,t,a){"use strict";var s=a(5),n=a(514),r=a(151),i=a(4),o=a(1),l=a(508),c=a(545),u=a(103),d=Object(s.defineComponent)({__name:"user-option-delete",props:{thread:null,labelClass:null},setup(e){const t=e,n=Object(s.ref)(!1),{setLoader:r,isLoading:d}=Object(c.a)(),p=Object(s.computed)((()=>t.thread.deletable)),h=Object(s.computed)((()=>t.thread.status===o.tb.Deactivated)),m=Object(s.computed)((()=>h.value?"Annulla eliminazione":"Elimina")),f=Object(s.computed)((()=>h.value?o.qb.Undelete:o.qb.Delete)),v=Object(s.computed)((()=>(h.value,"")));function g(){n.value=!1}function b(e){i.a.dispatch("threads/update",{optimistic:Object.assign({},t.thread,{status:e})})}return{__sfc:!0,UserOptionDeleteModal:()=>Promise.all([a.e(9),a.e(156)]).then(a.bind(null,1366)),props:t,showDeleteModal:n,setLoader:r,isLoading:d,enabled:p,isDeleted:h,label:m,action:f,buttonClasses:v,closeModal:g,toggle:function(){h.value?Object(u.p)(t.thread).then((()=>b(o.tb.Activated))).finally(r()):n.value=!0},onStatusChange:b,deleteThreadLocal:function(e){Object(u.b)({thread:t.thread,action:f.value,reason:e}).then((()=>b(o.tb.Deactivated))).finally(r()).finally(g)},BaseButton:l.a}}}),p=a(44),h=Object(p.a)(d,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.enabled?t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:[action].click",arg:a.action,modifiers:{click:!0}}],class:a.buttonClasses,attrs:{variant:"text",mode:"secondary",loading:a.isLoading},on:{click:a.toggle}},[t("BaseIcon",{attrs:{name:"trash"}}),t("span",{staticClass:"space--ml-2",class:e.labelClass},[e._v(" "+e._s(a.label)+" ")]),a.showDeleteModal?t(a.UserOptionDeleteModal,{attrs:{loading:a.isLoading,thread:e.thread},on:{submit:a.deleteThreadLocal,close:a.closeModal}}):e._e()],1):e._e()}),[],!1,null,null,null).exports,m=a(32),f=a.n(m),v=a(517),g=a(722);const b=["threadId"];var y={components:{BaseButton:l.a},mixins:[g.a,v.a],computed:{enabled(){return this.thread.editable},threadParams(){return Object(u.o)(this.thread)},editRoute(){const e=this.threadParams,{threadId:t}=e,a=f()(e,b);return{name:"threads.submit.edit",params:Object.assign({id:t},a)}},dealRoute(){return Object(u.j)(this.thread.threadTypeId,{query:{thread_created_location:"n_month_user_note_".concat(this.thread.type)}})},labelClasses(){return["space--ml-2",this.labelClass]}}},_=Object(p.a)(y,(function(){var e=this,t=e._self._c;return e.enabled?t("BaseButton",{directives:[{name:"track",rawName:"v-track:edit.click",arg:"edit",modifiers:{click:!0}}],attrs:{variant:"text",mode:"secondary",to:e.editRoute}},[t("BaseIcon",{attrs:{name:"pencil"}}),t("span",{class:e.labelClasses},[e._v(" "+e._s("Modifica")+" ")])],1):e.thread.stale&&e.thread.isMine?t("BaseButton",{directives:[{name:"popover",rawName:"v-popover.s",modifiers:{s:!0}}],attrs:{variant:"text",mode:"secondary"}},[t("BaseIcon",{attrs:{name:"pencil",left:""}}),t("span",{class:e.labelClasses},[e._v(" "+e._s("Modifica")+" ")]),t("BasePopover",{attrs:{width:"302"},scopedSlots:e._u([{key:"default",fn:function({close:a}){return[t("PopoverHead",[e._v(e._s("Modifica"))]),t("PopoverBody",{staticClass:"size--all-m"},[t("p",{staticClass:"size--all-s"},[e._v(e._s("Dopo 3 mesi, le offerte non potranno più essere modificate."))]),t("p",{staticClass:"text--b space--b-3 size--all-s"},[e._v(e._s("Se è ancora disponibile, crea una nuova offerta così sarà più visibile nella comunità."))]),t("div",{staticClass:"flex boxAlign-ai--all-c"},[t("BaseButton",{staticClass:"space--mr-2",attrs:{to:e.dealRoute,variant:"primary",mode:"brand"}},[t("BaseIcon",{attrs:{name:"plus",left:""}}),e._v(" "+e._s("Condividi")+" ")],1),t("BaseButton",{attrs:{variant:"tertiary",mode:"default"},on:{click:function(e){return a()}}},[e._v(" "+e._s("No, grazie")+" ")])],1)])]}}])})],1):e._e()}),[],!1,null,null,null).exports,x=a(869),w=a(17);var C=Object(s.defineComponent)({__name:"status-bar",setup(e){const{isLoggedIn:t}=Object(r.a)(),{params:a}=Object(n.a)(),o=Object(s.computed)((()=>i.a.getters["threads/get"](a.threadId))),l=Object(s.computed)((()=>{var e;return null===(e=i.a.state.features)||void 0===e?void 0:e.flags})),c=Object(s.computed)((()=>(e=>{let{status:t,isExpired:a}=e;const s={colorClass:"text--color-charcoalTint",backgroundClass:"bg--color-greyPanel"};return Object(w.q)(t)?Object.assign({},s,{text:"Cancellato"}):a?Object.assign({},s,{text:"Esaurito",testClass:""}):Object(w.v)(t)?{text:"In moderazione",colorClass:"text--color-orange",backgroundClass:"bg--color-orangePale",testClass:""}:Object(w.w)(t)?Object.assign({},s,{text:"IN CALENDARIO",testClass:""}):{text:"Attivo",colorClass:"text--color-green",backgroundClass:"bg--color-greenPaleShade"}})(o.value))),u=Object(s.computed)((()=>["size--all-s textBadge",c.value.backgroundClass,c.value.colorClass,c.value.testClass])),d=Object(s.computed)((()=>t.value&&(o.value.isMine||o.value.editable||o.value.expirable||o.value.deletable)));return{__sfc:!0,isLoggedIn:t,params:a,thread:o,features:l,statusLabel:c,statusLabelClass:u,isShowStatusBar:d,UserOptionDelete:h,UserOptionEdit:_,UserOptionExpiry:x.a}}}),k=Object(p.a)(C,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.isShowStatusBar?t("div",{staticClass:"threadItem-content flex flex--nowrap boxAlign-jc--all-sb boxAlign-ai--all-c bRad--fromW4-a bg--main space--v-3"},[t("div",{staticClass:"flex flex--nowrap boxAlign-ai--all-c"},[t("span",{staticClass:"text--b size--fromW3-l space--mr-2"},[e._v(e._s("Stato"))]),t("span",{class:a.statusLabelClass},[e._v(e._s(a.statusLabel.text))])]),t("div",{staticClass:"flex flex--nowrap boxAlign-ai--all-c"},[t(a.UserOptionEdit,{staticClass:"space--ml-4",attrs:{"label-class":"hide--toW2",thread:a.thread}}),t(a.UserOptionExpiry,{staticClass:"space--ml-4",attrs:{"label-class":"hide--toW2",thread:a.thread,features:a.features}}),t(a.UserOptionDelete,{staticClass:"space--ml-4",attrs:{"label-class":"hide--toW2",thread:a.thread}})],1)]):e._e()}),[],!1,null,null,null);t.a=k.exports},95:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d}));var s=a(5),n=a(96),r=a(14);const i=new r.a("searchHistory"),o=Object(s.ref)(i.get().value||[]),l=e=>{i.set({value:e})},c=()=>{o.value=[],i.del()},u=e=>{const t=[...o.value],a=(e=>Object.assign({},e,{id:JSON.stringify(e.route).toLowerCase()}))(e),s=t.findIndex((e=>{let{id:t}=e;return t===a.id}));s>=0?l(Object(n.a)(t,s)):(t.unshift(a),l(Object(n.b)(t,5)))},d=e=>{const t="string"==typeof e?e:e.id,a=o.value,s=a.findIndex((e=>e.id===t));var r;s<0||(r=Object(n.b)(a,s),o.value=r,l(r))}},951:function(e,t,a){"use strict";var s=a(914),n=a(527),r=a(508);const i=Object(n.a)();var o={components:{BaseButton:r.a,GenericWaypoint:s.a},props:{threshold:{type:Number,default:100}},methods:{moveToTop:function(){i.record({action:"jump_to_top",label:"engagement"}),window.scrollTo(0,0)}}},l=a(44),c=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("GenericWaypoint",{attrs:{threshold:e.threshold},scopedSlots:e._u([{key:"default",fn:function({isActive:a}){return t("BaseButton",{staticClass:"button--toW2-square btn--moveToTop zIndex--above",class:{hide:!a},attrs:{variant:"secondary",mode:"default"},on:{click:e.moveToTop}},[t("BaseIcon",{attrs:{name:"up"}}),t("span",{staticClass:"hide--toW2 space--ml-2"},[e._v(e._s("In cima alla pagina"))])],1)}}])})}),[],!1,null,null,null);t.a=c.exports},952:function(e,t,a){"use strict";var s={components:{ThreadRelativeDate:a(830).a},props:{thread:{type:Object,required:!0}}},n=a(44),r=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("ThreadRelativeDate",{attrs:{"utc-timestamp":e.thread.publishedAt},scopedSlots:e._u([{key:"default",fn:function({differenceInCalendarDays:t,timeAgo:a,formattedDate:s}){return[t<=7?[e.thread.bumpedAt&&!e.thread.bumpedAndReset?[e._v(" "+e._s(e.$t("Aggiornato :date",{replaces:{date:a}}))+" ")]:[e._v(e._s(e.$t("Postato :date",{replaces:{date:a}})))]]:[e.thread.bumpedAt&&!e.thread.bumpedAndReset?[e._v(" "+e._s(e.$t("Aggiornato :date",{replaces:{date:a}}))+" ")]:[e._v(e._s(e.$t("Postato :date",{replaces:{date:s}})))]]]}}])})}),[],!1,null,null,null);t.a=r.exports},96:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));const s=e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),s=new Uint8Array(a.length);for(let e=0;e<a.length;e+=1)s[e]=a.charCodeAt(e);return s},n=(e,t)=>{if(t<0||t>=e.length)return e;const a=[...e];return a.unshift(...a.splice(t,1)),a},r=(e,t)=>(t<0||t>=e.length||e.splice(t,1),e)},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return b}));var s=a(90),n=a(159),r=a(158),i=a(160),o=a(13),l=a(29),c=a(10),u=a.n(c),d=a(11),p=a.n(d),h=a(9),m=a.n(h);let f=function(){function e(){u()(this,e),m()(this,"interceptors",[])}return p()(e,[{key:"add",value:function(e){return this.interceptors.push(e),this}},{key:"intercept",value:async function(e){for(const t of this.interceptors){const a=await t(e);if(void 0!==a&&null===(e=a))break}return e}}]),e}();const v=new f;function g(e){v.add(e)}async function b(e){let{type:t,target:a,context:c=[],interaction:u=!0,services:d=[o.a.Ocular],simulate:p=!1}=e;if(a instanceof Element){const e=Object(l.a)(a);a=Object(l.b)(e),c=Object(l.c)(e.parentElement)}else c instanceof Element&&(c=Object(l.c)(c));Object(l.g)(a),c.forEach(l.g);const h=await v.intercept({type:t,target:a,context:c,interaction:u,services:d,simulate:p});if(p)return h;h&&(h.services.includes(o.a.Ocular)&&Object(s.b)(h),h.services.includes(o.a.GA)&&Object(n.b)(h),h.services.includes(o.a.Recombee)&&Object(r.a)(h),h.services.includes(o.a.Hotjar)&&Object(i.a)(h))}}}]);