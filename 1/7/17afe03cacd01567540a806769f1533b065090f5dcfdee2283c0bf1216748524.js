(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[7970],{10793:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var o=s(76955),r=s(52377),i=s(5154),n=s.n(i),a=s(54285);class l extends o.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:n(),viewLogger:n()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:s,subCategoryId:o,contentId:r,displayPosition:i,pageId:n,entryId:a,orderId:l,sectionId:p,serviceId:d,tagName:u}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:s,subCategoryId:o,contentId:r,displayPosition:i,pageId:n,entryId:a,orderId:l,sectionId:p,serviceId:d,tagName:u}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(l.intersectionListener||(l.intersectionListener=(0,a.T)({})),this.stopListen(),this.trigger=r.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=l.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=o.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=o.cloneElement(e,{onClick:this.handleClick})),e}}l.displayName="Tracker"},97970:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:);var o,r,i,n,a,l=s(3e4),p=s(41185),d=s(66062),u=(s(91938),s(76955)),c=s(55752),g=s.n(c),h=s(29466),b=s.n(h),m=s(97175),f=s(66948),w=s(73614),I=s(79751),v=s(90926),y=s(55382),k=s.n(y),R=s(45525),_=s(76031),S=s.n(_),M=s(16176),T=s(13497),L=s(10793),A=(0,R.w1)(S())((i=r=class extends u.Component{houldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.bloggerType!==e.bloggerType||this.props.executeFollowRequest!==e.executeFollowRequest||this.props.executeUnfollowRequest!==e.executeUnfollowRequest||this.props.isFollowingUpperLimit!==e.isFollowingUpperLimit||this.props.isMember!==e.isMember||this.props.isUserAttributeLoaded!==e.isUserAttributeLoaded||this.props.pageType!==e.pageType||this.props.sessionAmebaId!==e.sessionAmebaId||this.props.trackTapLog!==e.trackTapLog||!b()(this.props.followActionStatus,e.followActionStatus)||!b()(this.props.followButtonStatus,e.followButtonStatus)||!b()(this.props.profile,e.profile)}handleClick(e){var{followActionStatus:t,followButtonStatus:s,isMember:o,isUserAttributeLoaded:r,sessionAmebaId:i}=this.props,n=T.p;if(r&&o&&(!o||i)&&s.amebaId!==i&&!(s.hasErrors||s.amebaId===t.amebaId&&t.hasErrors||s.loading))if(s.amebaId===t.amebaId&&t.loading)e.preventDefault();else{if(s.isFollowing)return e.preventDefault(),void this.props.executeUnfollowRequest(s.amebaId,n);e.preventDefault(),this.props.executeFollowRequest(s.amebaId,n)}}renderThumbnail(){var e;if("official"===this.props.bloggerType)e=(0,l.Z)("span",{className:"snsReaderModuleOfficialBlogProfileImgWrap"},void 0,(0,l.Z)("img",{alt:"",src:"".concat(window.process.env.HTTP_PATH_BLOG_STAT,"/blog/img/ameba/officialblog/face/").concat(this.props.amebaId,"_120.jpg")}));else{var t=this.props.profile.image_filepath||"";e=(0,l.Z)("span",{className:"snsReaderModuleBlogProfileImgWrap",style:{minWidth:"60px"}},void 0,(0,l.Z)("img",{alt:"",src:"".concat(t,"?cat=60"),width:"60"}))}return(0,l.Z)("div",{className:"snsReaderModuleBlog__profileImg snsReaderModuleBlog__profileImg--new"},void 0,e)}renderDescription(){var e=g()(this.props,["profile","nickname"],this.props.amebaId);return(0,l.Z)("div",{className:"snsReaderModuleBlog__text snsReaderModuleBlog__text--new"},void 0,(0,l.Z)("p",{className:"snsReaderModuleBlogNickname snsReaderModuleBlogNickname--new skinTextColor"},void 0,e,"\u3055\u3093\u3092\u30d5\u30a9\u30ed\u30fc"),n||(n=(0,l.Z)("p",{className:"snsReaderModuleBlogCopy snsReaderModuleBlogCopy--new skin-textQuiet skinWeakColor"},void 0,"\u30d6\u30ed\u30b0\u306e\u66f4\u65b0\u60c5\u5831\u304c\u53d7\u3051\u53d6\u308c\u3066\u3001\u30a2\u30af\u30bb\u30b9\u304c\u7c21\u5358\u306b\u306a\u308a\u307e\u3059")))}renderLabel(){var{followButtonStatus:e,followActionStatus:t}=this.props;return e.amebaId===t.amebaId&&t.loading?M.Hj.UPDATE:e.isFollowing?M.Hj.REGISTERED:M.Hj.UN_REGISTERED}renderReaderButton(){return(0,l.Z)("div",{className:"snsReaderModuleBlog__button snsReaderModuleBlog__button--new"},void 0,(0,l.Z)(L.f,{activate:["tap"],pageId:this.props.pageType,sectionId:"follow-button",serviceId:this.props.bloggerType,tapLogger:this.props.trackTapLog},void 0,(0,l.Z)("a",{className:"snsReaderModuleBlogRegistrationButton",href:"".concat(window.process.env.HTTP_PATH_BLOG_AMEBA,"/reader.do?bnm=").concat(this.props.amebaId),onClick:this.handleClick},void 0,(0,l.Z)("i",{"aria-hidden":"true",className:k()("s","s-plus",S().Icon,S().Icon__Nobackground)}),this.renderLabel())))}render(){return(0,l.Z)("div",{className:"snsReaderModuleBlog snsReaderModuleBlog--new"},void 0,this.renderThumbnail(),this.renderDescription(),this.renderReaderButton())}},r.displayName="PcEntryDetailReaderInfoNew",o=i))||o;class B extends u.Component{shouldComponentUpdate(e){return!b()(this.props.facebookProfile,e.facebookProfile)||!b()(this.props.instagramProfile,e.instagramProfile)||!b()(this.props.twitterProfile,e.twitterProfile)}renderTwitterButton(e,t){return(0,l.Z)("div",{className:k()("snsReaderModuleSnsAccount","snsReaderModuleSnsAccount--".concat(t))},"sns_twitter",(0,l.Z)("a",{className:"snsReaderModuleSnsAccount__link snsReaderModuleSnsAccount__link--tw",href:e.url},void 0,"Twitter"))}renderFacebookButton(e,t){return(0,l.Z)("div",{className:k()("snsReaderModuleSnsAccount","snsReaderModuleSnsAccount--".concat(t),"bd","skin-bd-color","skinBorderColor","skin-borderQuiet")},"sns_facebook",(0,l.Z)("a",{className:"snsReaderModuleSnsAccount__link snsReaderModuleSnsAccount__link--fb",href:e.url},void 0,"Facebook"))}renderInstagramButton(e,t){return(0,l.Z)("div",{className:k()("snsReaderModuleSnsAccount","snsReaderModuleSnsAccount--".concat(t),"bd","skin-bd-color","skinBorderColor","skin-borderQuiet")},"sns_instagram",(0,l.Z)("a",{className:"snsReaderModuleSnsAccount__link snsReaderModuleSnsAccount__link--is",href:e.url},void 0,"Instagram"))}render(){var e,{facebookProfile:t,instagramProfile:s,twitterProfile:o}=this.props,r=[o,t,s].filter(();if(!r.length)return null;switch(r.length){case 1:e="single";break;case 2:e="double";break;case 3:e="triple";break;default:e="null"}return(0,l.Z)("div",{className:"snsReaderModuleSns"},void 0,a||(a=(0,l.Z)("h2",{className:"snsReaderModuleSns__heading  snsReaderModuleSns__heading--new skin-textQuiet skinWeakColor"},void 0,(0,l.Z)("span",{className:"snsReaderModuleSnsHeadingLine snsReaderModuleSnsHeadingLine--left bd skin-bd-color skinBorderColor skin-borderQuiet"}),"SNS\u30a2\u30ab\u30a6\u30f3\u30c8",(0,l.Z)("span",{className:"snsReaderModuleSnsHeadingLine snsReaderModuleSnsHeadingLine--right bd skin-bd-color skinBorderColor skin-borderQuiet"}))),(0,l.Z)("div",{className:"snsReaderModuleSns__body snsReaderModuleSns__body--new"},void 0,r.map((t=>{switch(t.sns_type){case"twitter":return this.renderTwitterButton(t,e);case"facebook":return this.renderFacebookButton(t,e);case"instagram":return this.renderInstagramButton(t,e);default:return null}}))))}}B.displayName="PcEntryDetailReaderSnsNew";var N,P,C,U=s(70317),x=s(5563);unction O(){return(O=(0,d.Z)((function*(e){var{dispatch:t,match:s}=e,{params:o}=s,r=o.amebaId;t((0,w.Rs)(r))}))).apply(this,arguments)}function F(){return(F=(0,d.Z)((function*(e){var{dispatch:t,getState:s,match:o}=e,{params:r}=o,i=r.amebaId;yield t((0,v.wn)()),(0,U.jl)(s())&&(yield t((0,v.h$)())),yield t((0,I.fU)(i))}))).apply(this,arguments)}var j=(0,f.$j)((function(e,t){var{match:s}=t,{params:o,route:r}=s,i=o.amebaId,n=o.entryId,a=r.pageType,l=e.bloggerState,d=e.entryState,u=l.bloggerMap,c=l.blogMap,h=d.entryMap,b=u[i]||{},m=(b.attribute||{}).bloggerType,f=c[b.blog]||{},w=h[n]||{},I=(0,U.jl)(e),v=g()(e.userState,["userAttribute","isLoaded"])||!1,y=e.userState.sessionUser.amebaId||"",{followMap:k,followActionMap:R}=e.followState,_={amebaId:i},k[i]||{});return{amebaId:i,blog:f,blogger:b,bloggerType:m,entry:w,followActionStatus:R.target||{},followButtonStatus:_,isFollowingUpperLimit:R.isUpperLimit||!1,isMember:I,isUserAttributeLoaded:v,pageType:a,sessionAmebaId:y}}),{executeFollowRequest:I.Tf,executeUnfollowRequest:I.e0,trackTapLog:x.XI})(N=(0,m.provideHooks)({defer:function(e){return O.apply(this,arguments)},done:)((C=P=class extends u.Component{shouldComponentUpdate(e){return!(this.props.amebaId===e.amebaId&&this.props.bloggerType===e.bloggerType&&this.props.executeFollowRequest===e.executeFollowRequest&&this.props.executeUnfollowRequest===e.executeUnfollowRequest&&this.props.isFollowingUpperLimit===e.isFollowingUpperLimit&&this.props.isMember===e.isMember&&this.props.isUserAttributeLoaded===e.isUserAttributeLoaded&&this.props.pageType===e.pageType&&this.props.sessionAmebaId===e.sessionAmebaId&&this.props.trackTapLog===e.trackTapLog&&b()(this.props.blog,e.blog)&&b()(this.props.blogger,e.blogger)&&b()(this.props.entry,e.entry)&&b()(this.props.followActionStatus,e.followActionStatus)&&b()(this.props.followButtonStatus,e.followButtonStatus))}hasSnsProfile(){return!!g()(this.props.blogger,["facebook_profile","url"],"")||(!!g()(this.props.blogger,["instagram_profile","url"],"")||!!g()(this.props.blogger,["twitter_profile","url"],""))}render(){var e="deny"!==this.props.blog.deny_reader||this.hasSnsProfile();return this.props.entry.entry_id&&e?(0,l.Z)("div",{className:"snsReaderModule bd skin-bd-color skinBorderColor skin-borderQuiet"},void 0,(0,l.Z)(A,{amebaId:this.props.amebaId,bloggerType:this.props.bloggerType,executeFollowRequest:this.props.executeFollowRequest,executeUnfollowRequest:this.props.executeUnfollowRequest,followActionStatus:this.props.followActionStatus,followButtonStatus:this.props.followButtonStatus,isFollowingUpperLimit:this.props.isFollowingUpperLimit,isMember:this.props.isMember,isUserAttributeLoaded:this.props.isUserAttributeLoaded,pageType:this.props.pageType,profile:this.props.blogger.profile||{},sessionAmebaId:this.props.sessionAmebaId,trackTapLog:this.props.trackTapLog}),(0,l.Z)(B,{facebookProfile:this.props.blogger.facebook_profile||{},instagramProfile:this.props.blogger.instagram_profile||{},twitterProfile:this.props.blogger.twitter_profile||{}})):null}},P.displayName="PcEntryDetailReaderModuleNew",N=C))||N)||N},92926:(e,t,s)=>{var o=s(18300)(();o.push([e.id,"._3kz9E9MF{vertical-align:middle}._dEN7mTy8{background-image:none!important}",""]),o.locals={Icon:"_3kz9E9MF",Icon__Nobackground:"_dEN7mTy8"},e.exports=o},76031:(e,t,s)=>{var o=s(92926),r=Object.assign||i=Object.defineProperty||"string"==typeof o&&(o=[[e.id,o,""]]),e.exports=function(e){var t=r({},e.locals||{});return i(t,"_",{value:),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(o)}}]);