import{v as s}from"./video.es-67cbb07f.js";import{U as a,bj as c,j as u,bk as v,bl as r,bm as m,bn as g,bo as l}from"./index-6f0b08dd.js";import"./extends-7277ac90.js";const h=["vjs-control","vjs-slider","vjs-button"],d=t=>h.some(n=>{var e;return(e=t==null?void 0:t.classList)==null?void 0:e.contains(n)}),E=t=>{t.on("userinactive",()=>{const{activeElement:n}=a.document;d(n)&&!t.paused()&&n.dispatchEvent(new Event("blur"))}),t.on("useractive",()=>{const{activeElement:n}=a.document;d(n)&&n.dispatchEvent(new Event("focus"))})},P=s.getPlugin("plugin");class b extends P{constructor(n,e){super(n,e),E(n)}}const j=s.getComponent("Component");class C extends j{constructor(n,e){super(n,e),this.mount=this.mount.bind(this),this.root=void 0;const i=n.el().dataset.duration;n.ready(,n.on("play",,n.on("dispose",()=>{setTimeout(()=>{this.root.unmount()})})}mount({videoDuration:n}){this.root=c(this.el()),this.root.render(u.jsx(v,{videoDuration:n}))}}const x=s.getComponent("Component");class k extends x{constructor(n,e){super(n,e),this.mount=this.mount.bind(this),this.root=void 0,n.ready(()=>{this.mount({onClick:playBtnTitle:n.el().dataset.playBtnTitle})}),n.on("play",()=>{n.el().querySelector(".vjs-play-control").focus(),this.hide()}),n.on("dispose",}mount({onClick:n,playBtnTitle:e}){this.root=c(this.el()),this.root.render(u.jsx(r,{className:"play-button",onClick:n,buttonTitle:e}))}}const S=T=f=o=({player:t,mediaEvent:n,...e})=>{m.pushToGoogleTagManager({datalayerObj:{event:"onMediaEvent",eventData:{mediaEvent:n,mediaId:f(t.id()),currentMediaTime:S(t.currentTime()),...e}}})},B=t=>{t.on("play",()=>{o({player:t,mediaEvent:"av.play"})}),t.one("play",()=>{o({player:t,mediaEvent:"av.start"})}),t.on("pause",()=>{o({player:t,mediaEvent:"av.pause"})}),t.on("ended",()=>{o({player:t,mediaEvent:"av.stop"})}),t.on("seeked",()=>{o({player:t,mediaEvent:"av.seeked"})}),t.on("seeking",()=>{o({player:t,mediaEvent:"av.seek.start"})}),t.isAudio()||t.qualityLevels().on("change",n=>{var i;const e=(i=t.qualityLevels()[n.selectedIndex])==null?void 0:i.height;o({player:t,mediaEvent:"av.quality",selectedQuality:e})}),t.on("ratechange",()=>{const n=t.playbackRate();o({player:t,mediaEvent:"av.speed",selectedPlaybackRate:n})}),t.on("error",()=>{var n;o({player:t,mediaEvent:"av.error",errorMessage:(n=t.error())==null?void 0:n.message})}),t.on("volumechange",()=>{o({player:t,mediaEvent:"av.volume",volume:T(t.volume())})}),t.on("fullscreenchange",()=>{o({player:t,mediaEvent:"av.fullscreen-change"})}),t.on("enterpictureinpicture",()=>{o({player:t,mediaEvent:"av.enter-picture-in-picture"})}),t.on("leavepictureinpicture",()=>{o({player:t,mediaEvent:"av.leave-picture-in-picture"})}),t.on("playbackrateschange",()=>{o({player:t,mediaEvent:"av.playback-rate-change"})}),t.on("loadeddata",()=>{o({player:t,mediaEvent:"av.loaded-data"})}),t.on("loadedmetadata",()=>{o({player:t,mediaEvent:"av.loaded-metadata"})}),t.on("loadstart",()=>{o({player:t,mediaEvent:"av.load-start"})}),t.on("playing",()=>{o({player:t,mediaEvent:"av.playing"})}),t.on("abort",()=>{o({player:t,mediaEvent:"av.abort"})}),t.on("stalled",()=>{o({player:t,mediaEvent:"av.stalled"})}),t.on("suspend",},M=s.getPlugin("plugin");class F extends M{constructor(n,e){super(n,e),B(n)}}const O=s.getPlugin("plugin");class V extends O{constructor(n,e){super(n,e),n.on("play",()=>{Object.values(s.getPlayers()).filter(Boolean).filter(.forEach(})}}const p=s.getPlugin("plugin"),I=(t,n)=>{n.hlsVideoSrc&&t.src({src:n.hlsVideoSrc,type:"application/x-mpegURL"})};class R extends p{constructor(n,e){super(n,e),n.ready(}}s.registerPlugin("flyingFocus",b);s.registerPlugin("mediaTracking",F);s.registerPlugin("stopOtherPlayers",V);s.registerPlugin("setSourceForChromeAndroidPlugin",R);s.registerComponent(g,C);s.registerComponent(l,k);const L=export{L as videojs};
//# sourceMappingURL=videojs.cd23-cfa3b93c.js.map
