!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[5768],{2474:(e,a,r)=>{r.d(a,{Ii:()=>i,Mq:()=>s,_C:()=>m,br:()=>u,fj:()=>d,vK:()=>c});var t=r(36343),n=e=>(0,t.q)("arrow",{style:{transform:`rotate(${e}deg)`,transformOrigin:"center"}}),s=n(0),l=n(45),i=n(90),o=n(135),d=n(180),c=n(225),u=n(270),m=n(315);[s,l,i,o,d,c,u,m].forEach(e=>e.defaultProps={size:{width:20,height:17}})},6233:(e,a,r)=>{r.d(a,{L:()=>h,Z:()=>g});var t=r(5754),n=r.n(t),s=r(44009),l=r(50213),i=r(93853),o=r(2474),d=r(98478),c=r(78667),u=r(63583),m=r.n(u);let p={modal:"CXPww",top:"cr1Ed",modalWrapper:"lqHQ2",compact:"qtjVi",modalContents:"wddaX",modalInnerWrapper:"XWuoc",fixedHeader:"Zlvz6",modalHeader:"QK6UU",flexHeader:"scGVE",headerIcon:"EZPTT",headerSubtitle:"fZunM",goBackButtonWrapper:"jiJmP",closeButtonWrapper:"_gnzJ",closeButton:"drQEn",rounded:"Hc7H_",gradient:"gQZdB",blaze:"HD9VZ",blazeNewDesign:"maDYK",blazeAnnouncement:"aMO6Q",patioColumnMaker:"mhWxd",tagsManager:"NQKiB",tumblrMart:"aI9jI",headerTitle:"poK_R",tumblrmartCheckout:"UE60R",tumblrmartBlueCheckmark:"FtkP5",tumblrmartV2:"_R64C",tumblrMartReceiveModalWrapper:"IIZGa",tabManagement:"oLq2o",tabManagementIntro:"WRliC",blazeInsights:"D7WlA",domainContactInfo:"BV_Y9",tmgTOS:"DbIFq",badge:"lC_9H",collectionInvite:"i_rCp"};var f=r(2629),h={});let g=e=>{var a=e.children,r=e.compact,t=e.headerIcon,u=e.modalWrapperClass,g=e.modalWrapperClassname,v=e.onClose,b=e.onGoBack,C=e.setRef,w=e.showClose,x=e.theme,j=void 0===x?h.Default:x,k=e.title,N=e.subtitle,y=e.preventClosing,I=void 0!==y&&y,_=e.goBackButton,S=void 0===_?(0,f.jsx)(o.Mq,{size:{width:12,height:12},colors:{primary:m().gray40}}):_,U=e.verticalAlignment,z=(0,c.bp)()._t;return(0,f.jsxs)(l.Z,{onGlassClick:v,glassIsClickable:!I,children:[(0,f.jsx)(i.ZP,{disable:I?i.$6:i.z9}),(0,f.jsx)("div",{className:n()(p.modal,p[j],{[p.top]:"top"===(void 0===U?"center":U)}),children:(0,f.jsx)("div",{className:n()(p.modalWrapper,p[void 0===u?"":u],g,{[p.compact]:r}),children:(0,f.jsxs)("div",{className:p.modalInnerWrapper,children:[(void 0===w||w)&&(0,f.jsxs)("div",{className:p.fixedHeader,children:[(0,f.jsxs)("div",{className:p.modalHeader,children:[b&&(0,f.jsx)(s.Z,{label:z("Go back"),onClick:b,wrapperClassName:p.goBackButtonWrapper,className:p.goBackButton,children:S}),t?(0,f.jsxs)("div",{className:p.flexHeader,children:[k&&(0,f.jsx)("span",{className:p.headerTitle,children:k}),(0,f.jsx)("div",{className:p.headerIcon,children:t})]}):k&&(0,f.jsx)("span",{className:p.headerTitle,children:k}),(0,f.jsx)(s.Z,{label:z("Close"),onClick:v,wrapperClassName:p.closeButtonWrapper,className:p.closeButton,children:(0,f.jsx)(d.Z,{size:{width:12,height:12},colors:{primary:m().gray40}})})]}),N&&(0,f.jsx)("span",{className:p.headerSubtitle,children:N})]}),(0,f.jsx)("div",{className:p.modalContents,ref:,children:a})]})})})]})}},48352:(e,a,r)=>{r.d(a,{Z:()=>g});var t=r(54138),n=r.n(t),s=r(33970),l=r.n(s),i=r(95004),o=r(78994),d=r(55673),c=r(43523),u=r(22424),m=r(12736),p=r(14544),f=r(78667);let h=e=>{var a=(0,f.bp)().logEvent,r=(0,o.TH)().pathname,t=(0,d.lr)(),s=l()(t,1)[0];(0,i.useEffect)(()=>{"embed"===s.get("source")&&a({pathname:r,eventName:c.J.EmbedPostClick,eventDetails:n()(n()({},e),{},{refUrl:s.get("refUrl"),action:s.get("action")})})},[])},g=e=>{var a=e.page,r=e.eventDetails,t=(0,u.wL)().logEvent,s=(0,o.TH)().pathname,f=(0,d.lr)(),g=l()(f,1)[0],v=(0,p.M)().name,b=(0,m.z)(),C=b.isModalShowing,w=b.isPeeprShowing,x=(0,i.useRef)(C||w),j=g.get("source"),k=()=>t({page:a,pathname:s,eventName:c.J.ScreenView,eventDetails:n()(n()({pathname:s,referrer:document.referrer,color_palette:v},j&&{source:j}),r)});return(0,i.useEffect)([s,a]),(0,i.useEffect)(()=>{!x.current||C||w||k(),x.current=C||w},[x,C,w]),h(),null}},4721:(e,a,r)=>{r.d(a,{_:()=>f,g:()=>h});var t=r(17276),n=r.n(t),s=r(33970),l=r.n(s),i=r(33590),o=r(94833),d=r(91253),c=r(62082),u=r(43523),m=r(78667),p=(0,d.i)(o.z.object({token:c.U,tosAccepted:o.z.boolean(),tmgProfile:o.z.object({networkUserId:c.U,profile:o.z.object({age:o.z.number().optional(),firstName:c.U,displayName:c.U,images:o.z.array(c.U).optional(),media:o.z.array(o.z.object({id:c.U,type:c.U,urls:o.z.object({large:c.U,square:c.U})})).optional()})})})).transform(;function f(e){return e("/v2/tmglive/v1/init?generic_data=false",p,{schemaErrorPrintFullResponse:!0})}var h=()=>{var e=(0,m.bp)(),a=e.apiFetchWithSchema,t=e._getLanguage,s=e.liveStreaming,o=t().localization,d=(0,m.bp)(),c=d.getBootstrap,p=d.logEvent,h=c("tmgliveStagingWebPaymentsCredentials").value,g=!!(s&&h);return(0,i.a)({queryKey:["tmg-live-init"],queryFn:()=>{var e,t,i,d,c,m,g,v,b,C,w;return n()().async(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,n()().awrap(Promise.all([f(a),r.e(62).then(r.bind(r,25289))]));case 2:return e=x.sent,i=(t=l()(e,2))[0],d=t[1].default,m=(c=s).authUrl,g=c.apiUrl,v=i.token,b=i.tosAccepted,C="zh-hk"===o?"zh-cn":o,p({eventName:u.J.TumblrLiveInitCallFinished}),w={locale:C,chatSupport:!1,hostAppName:"tumblr",hostAppVersion:"1.0.0",credentials:h,authUrl:m,gatewayUrl:g,authToken:v,tosAccepted:b,webLiveURL:`${g}/web-live/`},x.abrupt("return",{authToken:v,tosAccepted:b,tmgWebSDK:new d(w),networkUserId:i.tmgProfile.networkUserId,webLiveURL:w.webLiveURL,profile:i.tmgProfile.profile});case 12:case"end":return x.stop()}},null,null,null,Promise)},enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})}},24275:(e,a,r)=>{r.r(a),r.d(a,{default:);var t=r(95004),n=r(78994),s=r(90127),l=r(43523),i=r(78667),o=r(48352),d=r(33970),c=r.n(d),u=r(5754),m=r.n(u),p=r(6233),f=r(18488),h=r(4721),g=r(2629);let v=()=>{var e=(0,h.g)().data,a=(0,t.useState)(""),r=c()(a,2),n=r[0],s=r[1];return(0,t.useEffect)(()=>{if(null!=e&&e.tmgWebSDK){var a=e.tmgWebSDK;a.ensureAccessTokenLoaded(}},[e]),(0,t.useEffect)(()=>{""!==n&&window.location.assign(n)},[n]),(0,g.jsx)("div",{})};var b=r(63583);let C={wrapper:"duIzQ",description:"EVxtR",title:"ZJXId",dismiss:"Yu08C",shop:"NlPeN",right:"_yvUs"},w=e=>{var a=e.onClose,r=(0,i.bp)(),n=r._c,s=r._t,l=r.isLoggedIn,o=(0,t.useState)(!1),d=c()(o,2),u=d[0],h=d[1];return l?(0,g.jsx)(p.Z,{compact:!0,modalWrapperClass:"tumblrmartBlueCheckmark",onClose:a,theme:p.L.Gradient,children:(0,g.jsxs)("div",{className:m()([[C.wrapper]]),children:[(0,g.jsx)("div",{className:C.title,children:n("[TMG Credits] Label text for credit modal title","Live streaming credits")}),u&&(0,g.jsx)(v,{}),(0,g.jsx)("div",{className:C.detailsContainer,children:(0,g.jsx)("div",{className:C.description,children:(0,g.jsx)("div",{className:C.right,children:(0,g.jsx)("h2",{children:n("[TMG Credits] Detail text for credit info page","Credits are a virtual currency you can use to gift streamers on Tumblr Live. Support Tumblr and encourage your favorite streamers to keep making Tumblr better!")})})})}),(0,g.jsx)("div",{className:C.shop,children:(0,g.jsx)(f.Z,{onClick:isRounded:!0,textColor:b.paletteWhite,wrapperClassName:C.dismiss,label:s("Shop Credits"),children:n("[TMG Credits] Label text for button to purchase credits","Shop Credits")})})]})}):null};var x=r(31725);let j=()=>{var e=(0,i.bp)().logEvent;(0,t.useEffect)([e]);var a=(0,n.s0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{page:x.H.analyticsPageName}),(0,g.jsx)(w,{onClose:)]})}}}]);