import{ab as Ct,i as g,E as lt,J as c,n as l,L as q,F as ct,x as o,j as Pt,T as v,af as Ot,z as zt,h as _t,a4 as It,K as St,r as x,Q as dt,N as Dt,G as at,l as h,s as Q,a as M,Y as st,t as k,a1 as Lt,B as f,m as d,W as P,ag as Rt,Z as Tt,e as At,g as mt,c as C,O as y}from"./index-64e4e9e7.js";import{c as E}from"./repeat-632d6c35.js";import{o as U}from"./style-map-69b34fe6.js";import{c as Bt}from"./chunk.HF7GESMZ-7c1083f0.js";import{f as Z,r as L}from"./css-function-5d5da084.js";import{I as pt,a as J,b as bt,c as Ut,d as yt}from"./image-helper-5b969ca1.js";import"./nav-bar-8584c4e6.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ft(t){return(e,r)=>Ct(e,r,{async get(){return await this.updateComplete,this.renderRoot?.querySelector(t)??null}})}var qt=g`
  ${lt}

  :host {
    display: contents;
  }
`;const Mt=[{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.2,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.4,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -30px, 0) scaleY(1.1)"},{offset:.43,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -30px, 0) scaleY(1.1)"},{offset:.53,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"},{offset:.7,easing:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",transform:"translate3d(0, -15px, 0) scaleY(1.05)"},{offset:.8,"transition-timing-function":"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0) scaleY(0.95)"},{offset:.9,transform:"translate3d(0, -4px, 0) scaleY(1.02)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",transform:"translate3d(0, 0, 0)"}],jt=[{offset:0,opacity:"1"},{offset:.25,opacity:"0"},{offset:.5,opacity:"1"},{offset:.75,opacity:"0"},{offset:1,opacity:"1"}],Et=[{offset:0,transform:"translateX(0)"},{offset:.065,transform:"translateX(-6px) rotateY(-9deg)"},{offset:.185,transform:"translateX(5px) rotateY(7deg)"},{offset:.315,transform:"translateX(-3px) rotateY(-5deg)"},{offset:.435,transform:"translateX(2px) rotateY(3deg)"},{offset:.5,transform:"translateX(0)"}],Yt=[{offset:0,transform:"scale(1)"},{offset:.14,transform:"scale(1.3)"},{offset:.28,transform:"scale(1)"},{offset:.42,transform:"scale(1.3)"},{offset:.7,transform:"scale(1)"}],Nt=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.111,transform:"translate3d(0, 0, 0)"},{offset:.222,transform:"skewX(-12.5deg) skewY(-12.5deg)"},{offset:.33299999999999996,transform:"skewX(6.25deg) skewY(6.25deg)"},{offset:.444,transform:"skewX(-3.125deg) skewY(-3.125deg)"},{offset:.555,transform:"skewX(1.5625deg) skewY(1.5625deg)"},{offset:.6659999999999999,transform:"skewX(-0.78125deg) skewY(-0.78125deg)"},{offset:.777,transform:"skewX(0.390625deg) skewY(0.390625deg)"},{offset:.888,transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Xt=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.5,transform:"scale3d(1.05, 1.05, 1.05)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Gt=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.3,transform:"scale3d(1.25, 0.75, 1)"},{offset:.4,transform:"scale3d(0.75, 1.25, 1)"},{offset:.5,transform:"scale3d(1.15, 0.85, 1)"},{offset:.65,transform:"scale3d(0.95, 1.05, 1)"},{offset:.75,transform:"scale3d(1.05, 0.95, 1)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Vt=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(-10px, 0, 0)"},{offset:.2,transform:"translate3d(10px, 0, 0)"},{offset:.3,transform:"translate3d(-10px, 0, 0)"},{offset:.4,transform:"translate3d(10px, 0, 0)"},{offset:.5,transform:"translate3d(-10px, 0, 0)"},{offset:.6,transform:"translate3d(10px, 0, 0)"},{offset:.7,transform:"translate3d(-10px, 0, 0)"},{offset:.8,transform:"translate3d(10px, 0, 0)"},{offset:.9,transform:"translate3d(-10px, 0, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Wt=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(-10px, 0, 0)"},{offset:.2,transform:"translate3d(10px, 0, 0)"},{offset:.3,transform:"translate3d(-10px, 0, 0)"},{offset:.4,transform:"translate3d(10px, 0, 0)"},{offset:.5,transform:"translate3d(-10px, 0, 0)"},{offset:.6,transform:"translate3d(10px, 0, 0)"},{offset:.7,transform:"translate3d(-10px, 0, 0)"},{offset:.8,transform:"translate3d(10px, 0, 0)"},{offset:.9,transform:"translate3d(-10px, 0, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Ht=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.1,transform:"translate3d(0, -10px, 0)"},{offset:.2,transform:"translate3d(0, 10px, 0)"},{offset:.3,transform:"translate3d(0, -10px, 0)"},{offset:.4,transform:"translate3d(0, 10px, 0)"},{offset:.5,transform:"translate3d(0, -10px, 0)"},{offset:.6,transform:"translate3d(0, 10px, 0)"},{offset:.7,transform:"translate3d(0, -10px, 0)"},{offset:.8,transform:"translate3d(0, 10px, 0)"},{offset:.9,transform:"translate3d(0, -10px, 0)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Kt=[{offset:.2,transform:"rotate3d(0, 0, 1, 15deg)"},{offset:.4,transform:"rotate3d(0, 0, 1, -10deg)"},{offset:.6,transform:"rotate3d(0, 0, 1, 5deg)"},{offset:.8,transform:"rotate3d(0, 0, 1, -5deg)"},{offset:1,transform:"rotate3d(0, 0, 1, 0deg)"}],Qt=[{offset:0,transform:"scale3d(1, 1, 1)"},{offset:.1,transform:"scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg)"},{offset:.2,transform:"scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg)"},{offset:.3,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.4,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.5,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.6,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.7,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:.8,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},{offset:.9,transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},{offset:1,transform:"scale3d(1, 1, 1)"}],Zt=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:.15,transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)"},{offset:.3,transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)"},{offset:.45,transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)"},{offset:.6,transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)"},{offset:.75,transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Jt=[{offset:0,transform:"translateY(-1200px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],te=[{offset:0,transform:"translateX(-2000px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],ee=[{offset:0,transform:"translateX(2000px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],re=[{offset:0,transform:"translateY(1200px) scale(0.7)",opacity:"0.7"},{offset:.8,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"scale(1)",opacity:"1"}],ae=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateY(700px) scale(0.7)",opacity:"0.7"}],ie=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateX(-2000px) scale(0.7)",opacity:"0.7"}],se=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateX(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateX(2000px) scale(0.7)",opacity:"0.7"}],oe=[{offset:0,transform:"scale(1)",opacity:"1"},{offset:.2,transform:"translateY(0px) scale(0.7)",opacity:"0.7"},{offset:1,transform:"translateY(-700px) scale(0.7)",opacity:"0.7"}],ne=[{offset:0,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.2,transform:"scale3d(1.1, 1.1, 1.1)"},{offset:.2,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.4,transform:"scale3d(0.9, 0.9, 0.9)"},{offset:.4,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"scale3d(1.03, 1.03, 1.03)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.8,transform:"scale3d(0.97, 0.97, 0.97)"},{offset:.8,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,opacity:"1",transform:"scale3d(1, 1, 1)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],le=[{offset:0,opacity:"0",transform:"translate3d(0, -3000px, 0) scaleY(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(0, 25px, 0) scaleY(0.9)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(0, -10px, 0) scaleY(0.95)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(0, 5px, 0) scaleY(0.985)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],ce=[{offset:0,opacity:"0",transform:"translate3d(-3000px, 0, 0) scaleX(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(25px, 0, 0) scaleX(1)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(-10px, 0, 0) scaleX(0.98)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(5px, 0, 0) scaleX(0.995)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],de=[{offset:0,opacity:"0",transform:"translate3d(3000px, 0, 0) scaleX(3)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(-25px, 0, 0) scaleX(1)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(10px, 0, 0) scaleX(0.98)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(-5px, 0, 0) scaleX(0.995)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],pe=[{offset:0,opacity:"0",transform:"translate3d(0, 3000px, 0) scaleY(5)"},{offset:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.6,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:.6,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.75,transform:"translate3d(0, 10px, 0) scaleY(0.95)"},{offset:.75,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:.9,transform:"translate3d(0, -5px, 0) scaleY(0.985)"},{offset:.9,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"},{offset:1,transform:"translate3d(0, 0, 0)"},{offset:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)"}],fe=[{offset:.2,transform:"scale3d(0.9, 0.9, 0.9)"},{offset:.5,opacity:"1",transform:"scale3d(1.1, 1.1, 1.1)"},{offset:.55,opacity:"1",transform:"scale3d(1.1, 1.1, 1.1)"},{offset:1,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"}],ue=[{offset:.2,transform:"translate3d(0, 10px, 0) scaleY(0.985)"},{offset:.4,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:.45,opacity:"1",transform:"translate3d(0, -20px, 0) scaleY(0.9)"},{offset:1,opacity:"0",transform:"translate3d(0, 2000px, 0) scaleY(3)"}],he=[{offset:.2,opacity:"1",transform:"translate3d(20px, 0, 0) scaleX(0.9)"},{offset:1,opacity:"0",transform:"translate3d(-2000px, 0, 0) scaleX(2)"}],ge=[{offset:.2,opacity:"1",transform:"translate3d(-20px, 0, 0) scaleX(0.9)"},{offset:1,opacity:"0",transform:"translate3d(2000px, 0, 0) scaleX(2)"}],me=[{offset:.2,transform:"translate3d(0, -10px, 0) scaleY(0.985)"},{offset:.4,opacity:"1",transform:"translate3d(0, 20px, 0) scaleY(0.9)"},{offset:.45,opacity:"1",transform:"translate3d(0, 20px, 0) scaleY(0.9)"},{offset:1,opacity:"0",transform:"translate3d(0, -2000px, 0) scaleY(3)"}],ve=[{offset:0,opacity:"0"},{offset:1,opacity:"1"}],be=[{offset:0,opacity:"0",transform:"translate3d(-100%, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],ye=[{offset:0,opacity:"0",transform:"translate3d(100%, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],xe=[{offset:0,opacity:"0",transform:"translate3d(0, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],we=[{offset:0,opacity:"0",transform:"translate3d(0, -2000px, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],$e=[{offset:0,opacity:"0",transform:"translate3d(-100%, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],ke=[{offset:0,opacity:"0",transform:"translate3d(-2000px, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ce=[{offset:0,opacity:"0",transform:"translate3d(100%, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Pe=[{offset:0,opacity:"0",transform:"translate3d(2000px, 0, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Oe=[{offset:0,opacity:"0",transform:"translate3d(-100%, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],ze=[{offset:0,opacity:"0",transform:"translate3d(100%, -100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],_e=[{offset:0,opacity:"0",transform:"translate3d(0, 100%, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Ie=[{offset:0,opacity:"0",transform:"translate3d(0, 2000px, 0)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],Se=[{offset:0,opacity:"1"},{offset:1,opacity:"0"}],De=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(-100%, 100%, 0)"}],Le=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(100%, 100%, 0)"}],Re=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, 100%, 0)"}],Te=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, 2000px, 0)"}],Ae=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(-100%, 0, 0)"}],Be=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(-2000px, 0, 0)"}],Ue=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(100%, 0, 0)"}],Fe=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(2000px, 0, 0)"}],qe=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(-100%, -100%, 0)"}],Me=[{offset:0,opacity:"1",transform:"translate3d(0, 0, 0)"},{offset:1,opacity:"0",transform:"translate3d(100%, -100%, 0)"}],je=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, -100%, 0)"}],Ee=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(0, -2000px, 0)"}],Ye=[{offset:0,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg)",easing:"ease-out"},{offset:.4,transform:`perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)
      rotate3d(0, 1, 0, -190deg)`,easing:"ease-out"},{offset:.5,transform:`perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)
      rotate3d(0, 1, 0, -170deg)`,easing:"ease-in"},{offset:.8,transform:`perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0)
      rotate3d(0, 1, 0, 0deg)`,easing:"ease-in"},{offset:1,transform:"perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg)",easing:"ease-in"}],Ne=[{offset:0,transform:"perspective(400px) rotate3d(1, 0, 0, 90deg)",easing:"ease-in",opacity:"0"},{offset:.4,transform:"perspective(400px) rotate3d(1, 0, 0, -20deg)",easing:"ease-in"},{offset:.6,transform:"perspective(400px) rotate3d(1, 0, 0, 10deg)",opacity:"1"},{offset:.8,transform:"perspective(400px) rotate3d(1, 0, 0, -5deg)"},{offset:1,transform:"perspective(400px)"}],Xe=[{offset:0,transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)",easing:"ease-in",opacity:"0"},{offset:.4,transform:"perspective(400px) rotate3d(0, 1, 0, -20deg)",easing:"ease-in"},{offset:.6,transform:"perspective(400px) rotate3d(0, 1, 0, 10deg)",opacity:"1"},{offset:.8,transform:"perspective(400px) rotate3d(0, 1, 0, -5deg)"},{offset:1,transform:"perspective(400px)"}],Ge=[{offset:0,transform:"perspective(400px)"},{offset:.3,transform:"perspective(400px) rotate3d(1, 0, 0, -20deg)",opacity:"1"},{offset:1,transform:"perspective(400px) rotate3d(1, 0, 0, 90deg)",opacity:"0"}],Ve=[{offset:0,transform:"perspective(400px)"},{offset:.3,transform:"perspective(400px) rotate3d(0, 1, 0, -15deg)",opacity:"1"},{offset:1,transform:"perspective(400px) rotate3d(0, 1, 0, 90deg)",opacity:"0"}],We=[{offset:0,transform:"translate3d(-100%, 0, 0) skewX(30deg)",opacity:"0"},{offset:.6,transform:"skewX(-20deg)",opacity:"1"},{offset:.8,transform:"skewX(5deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],He=[{offset:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",opacity:"0"},{offset:.6,transform:"skewX(20deg)",opacity:"1"},{offset:.8,transform:"skewX(-5deg)"},{offset:1,transform:"translate3d(0, 0, 0)"}],Ke=[{offset:0,opacity:"1"},{offset:1,transform:"translate3d(-100%, 0, 0) skewX(-30deg)",opacity:"0"}],Qe=[{offset:0,opacity:"1"},{offset:1,transform:"translate3d(100%, 0, 0) skewX(30deg)",opacity:"0"}],Ze=[{offset:0,transform:"rotate3d(0, 0, 1, -200deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],Je=[{offset:0,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],tr=[{offset:0,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],er=[{offset:0,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],rr=[{offset:0,transform:"rotate3d(0, 0, 1, -90deg)",opacity:"0"},{offset:1,transform:"translate3d(0, 0, 0)",opacity:"1"}],ar=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 200deg)",opacity:"0"}],ir=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 45deg)",opacity:"0"}],sr=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"}],or=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, -45deg)",opacity:"0"}],nr=[{offset:0,opacity:"1"},{offset:1,transform:"rotate3d(0, 0, 1, 90deg)",opacity:"0"}],lr=[{offset:0,transform:"translate3d(0, -100%, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],cr=[{offset:0,transform:"translate3d(-100%, 0, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],dr=[{offset:0,transform:"translate3d(100%, 0, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],pr=[{offset:0,transform:"translate3d(0, 100%, 0)",visibility:"visible"},{offset:1,transform:"translate3d(0, 0, 0)"}],fr=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(0, 100%, 0)"}],ur=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(-100%, 0, 0)"}],hr=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(100%, 0, 0)"}],gr=[{offset:0,transform:"translate3d(0, 0, 0)"},{offset:1,visibility:"hidden",transform:"translate3d(0, -100%, 0)"}],mr=[{offset:0,easing:"ease-in-out"},{offset:.2,transform:"rotate3d(0, 0, 1, 80deg)",easing:"ease-in-out"},{offset:.4,transform:"rotate3d(0, 0, 1, 60deg)",easing:"ease-in-out",opacity:"1"},{offset:.6,transform:"rotate3d(0, 0, 1, 80deg)",easing:"ease-in-out"},{offset:.8,transform:"rotate3d(0, 0, 1, 60deg)",easing:"ease-in-out",opacity:"1"},{offset:1,transform:"translate3d(0, 700px, 0)",opacity:"0"}],vr=[{offset:0,opacity:"0",transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom"},{offset:.5,transform:"rotate(-10deg)"},{offset:.7,transform:"rotate(3deg)"},{offset:1,opacity:"1",transform:"scale(1)"}],br=[{offset:0,opacity:"0",transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)"},{offset:1,opacity:"1",transform:"translate3d(0, 0, 0)"}],yr=[{offset:0,opacity:"1"},{offset:1,opacity:"0",transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)"}],xr=[{offset:0,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:.5,opacity:"1"}],wr=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],$r=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],kr=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Cr=[{offset:0,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:.6,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],Pr=[{offset:0,opacity:"1"},{offset:.5,opacity:"0",transform:"scale3d(0.3, 0.3, 0.3)"},{offset:1,opacity:"0"}],Or=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:1,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],zr=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0)"},{offset:1,opacity:"0",transform:"scale(0.1) translate3d(-2000px, 0, 0)"}],_r=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0)"},{offset:1,opacity:"0",transform:"scale(0.1) translate3d(2000px, 0, 0)"}],Ir=[{offset:.4,opacity:"1",transform:"scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0)",easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"},{offset:1,opacity:"0",transform:"scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1)"}],xt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInSine:"cubic-bezier(0.47, 0, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.39, 0.575, 0.565, 1)",easeInOutSine:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",easeInQuad:"cubic-bezier(0.55, 0.085, 0.68, 0.53)",easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",easeInOutQuad:"cubic-bezier(0.455, 0.03, 0.515, 0.955)",easeInCubic:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",easeOutCubic:"cubic-bezier(0.215, 0.61, 0.355, 1)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1)",easeInQuart:"cubic-bezier(0.895, 0.03, 0.685, 0.22)",easeOutQuart:"cubic-bezier(0.165, 0.84, 0.44, 1)",easeInOutQuart:"cubic-bezier(0.77, 0, 0.175, 1)",easeInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",easeOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutQuint:"cubic-bezier(0.86, 0, 0.07, 1)",easeInExpo:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.19, 1, 0.22, 1)",easeInOutExpo:"cubic-bezier(1, 0, 0, 1)",easeInCirc:"cubic-bezier(0.6, 0.04, 0.98, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.82, 0.165, 1)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.15, 0.86)",easeInBack:"cubic-bezier(0.6, -0.28, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",easeInOutBack:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},Sr=Object.freeze(Object.defineProperty({__proto__:null,backInDown:Jt,backInLeft:te,backInRight:ee,backInUp:re,backOutDown:ae,backOutLeft:ie,backOutRight:se,backOutUp:oe,bounce:Mt,bounceIn:ne,bounceInDown:le,bounceInLeft:ce,bounceInRight:de,bounceInUp:pe,bounceOut:fe,bounceOutDown:ue,bounceOutLeft:he,bounceOutRight:ge,bounceOutUp:me,easings:xt,fadeIn:ve,fadeInBottomLeft:be,fadeInBottomRight:ye,fadeInDown:xe,fadeInDownBig:we,fadeInLeft:$e,fadeInLeftBig:ke,fadeInRight:Ce,fadeInRightBig:Pe,fadeInTopLeft:Oe,fadeInTopRight:ze,fadeInUp:_e,fadeInUpBig:Ie,fadeOut:Se,fadeOutBottomLeft:De,fadeOutBottomRight:Le,fadeOutDown:Re,fadeOutDownBig:Te,fadeOutLeft:Ae,fadeOutLeftBig:Be,fadeOutRight:Ue,fadeOutRightBig:Fe,fadeOutTopLeft:qe,fadeOutTopRight:Me,fadeOutUp:je,fadeOutUpBig:Ee,flash:jt,flip:Ye,flipInX:Ne,flipInY:Xe,flipOutX:Ge,flipOutY:Ve,headShake:Et,heartBeat:Yt,hinge:mr,jackInTheBox:vr,jello:Nt,lightSpeedInLeft:We,lightSpeedInRight:He,lightSpeedOutLeft:Ke,lightSpeedOutRight:Qe,pulse:Xt,rollIn:br,rollOut:yr,rotateIn:Ze,rotateInDownLeft:Je,rotateInDownRight:tr,rotateInUpLeft:er,rotateInUpRight:rr,rotateOut:ar,rotateOutDownLeft:ir,rotateOutDownRight:sr,rotateOutUpLeft:or,rotateOutUpRight:nr,rubberBand:Gt,shake:Vt,shakeX:Wt,shakeY:Ht,slideInDown:lr,slideInLeft:cr,slideInRight:dr,slideInUp:pr,slideOutDown:fr,slideOutLeft:ur,slideOutRight:hr,slideOutUp:gr,swing:Kt,tada:Qt,wobble:Zt,zoomIn:xr,zoomInDown:wr,zoomInLeft:$r,zoomInRight:kr,zoomInUp:Cr,zoomOut:Pr,zoomOutDown:Or,zoomOutLeft:zr,zoomOutRight:_r,zoomOutUp:Ir},Symbol.toStringTag,{value:"Module"}));var m=class extends ct{constructor(){super(...arguments),this.hasStarted=!1,this.name="none",this.play=!1,this.delay=0,this.direction="normal",this.duration=1e3,this.easing="linear",this.endDelay=0,this.fill="auto",this.iterations=1/0,this.iterationStart=0,this.playbackRate=1,this.handleAnimationFinish=()=>{this.play=!1,this.hasStarted=!1,this.emit("sl-finish")},this.handleAnimationCancel=()=>{this.play=!1,this.hasStarted=!1,this.emit("sl-cancel")}}get currentTime(){var t,e;return(e=(t=this.animation)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.animation&&(this.animation.currentTime=t)}connectedCallback(){super.connectedCallback(),this.createAnimation()}disconnectedCallback(){super.disconnectedCallback(),this.destroyAnimation()}handleSlotChange(){this.destroyAnimation(),this.createAnimation()}async createAnimation(){var t,e;const r=(t=xt[this.easing])!=null?t:this.easing,a=(e=this.keyframes)!=null?e:Sr[this.name],s=(await this.defaultSlot).assignedElements()[0];return!s||!a?!1:(this.destroyAnimation(),this.animation=s.animate(a,{delay:this.delay,direction:this.direction,duration:this.duration,easing:r,endDelay:this.endDelay,fill:this.fill,iterationStart:this.iterationStart,iterations:this.iterations}),this.animation.playbackRate=this.playbackRate,this.animation.addEventListener("cancel",this.handleAnimationCancel),this.animation.addEventListener("finish",this.handleAnimationFinish),this.play?(this.hasStarted=!0,this.emit("sl-start")):this.animation.pause(),!0)}destroyAnimation(){this.animation&&(this.animation.cancel(),this.animation.removeEventListener("cancel",this.handleAnimationCancel),this.animation.removeEventListener("finish",this.handleAnimationFinish),this.hasStarted=!1)}handleAnimationChange(){this.hasUpdated&&this.createAnimation()}handlePlayChange(){return this.animation?(this.play&&!this.hasStarted&&(this.hasStarted=!0,this.emit("sl-start")),this.play?this.animation.play():this.animation.pause(),!0):!1}handlePlaybackRateChange(){this.animation&&(this.animation.playbackRate=this.playbackRate)}cancel(){var t;(t=this.animation)==null||t.cancel()}finish(){var t;(t=this.animation)==null||t.finish()}render(){return o` <slot @slotchange=${this.handleSlotChange}></slot> `}};m.styles=qt;c([Ft("slot")],m.prototype,"defaultSlot",2);c([l()],m.prototype,"name",2);c([l({type:Boolean,reflect:!0})],m.prototype,"play",2);c([l({type:Number})],m.prototype,"delay",2);c([l()],m.prototype,"direction",2);c([l({type:Number})],m.prototype,"duration",2);c([l()],m.prototype,"easing",2);c([l({attribute:"end-delay",type:Number})],m.prototype,"endDelay",2);c([l()],m.prototype,"fill",2);c([l({type:Number})],m.prototype,"iterations",2);c([l({attribute:"iteration-start",type:Number})],m.prototype,"iterationStart",2);c([l({attribute:!1})],m.prototype,"keyframes",2);c([l({attribute:"playback-rate",type:Number})],m.prototype,"playbackRate",2);c([q(["name","delay","direction","duration","easing","endDelay","fill","iterations","iterationsStart","keyframes"])],m.prototype,"handleAnimationChange",1);c([q("play")],m.prototype,"handlePlayChange",1);c([q("playbackRate")],m.prototype,"handlePlaybackRateChange",1);m.define("sl-animation");var Dr=g`
  ${lt}

  :host {
    --symbol-color: var(--sl-color-neutral-300);
    --symbol-color-active: var(--sl-color-amber-500);
    --symbol-size: 1.2rem;
    --symbol-spacing: var(--sl-spacing-3x-small);

    display: inline-flex;
  }

  .rating {
    position: relative;
    display: inline-flex;
    border-radius: var(--sl-border-radius-medium);
    vertical-align: middle;
  }

  .rating:focus {
    outline: none;
  }

  .rating:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .rating__symbols {
    display: inline-flex;
    position: relative;
    font-size: var(--symbol-size);
    line-height: 0;
    color: var(--symbol-color);
    white-space: nowrap;
    cursor: pointer;
  }

  .rating__symbols > * {
    padding: var(--symbol-spacing);
  }

  .rating__symbol--active,
  .rating__partial--filled {
    color: var(--symbol-color-active);
  }

  .rating__partial-symbol-container {
    position: relative;
  }

  .rating__partial--filled {
    position: absolute;
    top: var(--symbol-spacing);
    left: var(--symbol-spacing);
  }

  .rating__symbol {
    transition: var(--sl-transition-fast) scale;
  }

  .rating__symbol--hover {
    scale: 1.2;
  }

  .rating--disabled .rating__symbols,
  .rating--readonly .rating__symbols {
    cursor: default;
  }

  .rating--disabled .rating__symbol--hover,
  .rating--readonly .rating__symbol--hover {
    scale: none;
  }

  .rating--disabled {
    opacity: 0.5;
  }

  .rating--disabled .rating__symbols {
    cursor: not-allowed;
  }

  /* Forced colors mode */
  @media (forced-colors: active) {
    .rating__symbol--active {
      color: SelectedItem;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ot extends Pt{constructor(e){if(super(e),this.et=v,e.type!==Ot.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===v||e==null)return this.vt=void 0,this.et=e;if(e===zt)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.vt;this.et=e;const r=[e];return r.raw=r,this.vt={_$litType$:this.constructor.resultType,strings:r,values:[]}}}ot.directiveName="unsafeHTML",ot.resultType=1;const it=_t(ot);var w=class extends ct{constructor(){super(...arguments),this.localize=new Dt(this),this.hoverValue=0,this.isHovering=!1,this.label="",this.value=0,this.max=5,this.precision=1,this.readonly=!1,this.disabled=!1,this.getSymbol=()=>'<sl-icon name="star-fill" library="system"></sl-icon>'}getValueFromMousePosition(t){return this.getValueFromXCoordinate(t.clientX)}getValueFromTouchPosition(t){return this.getValueFromXCoordinate(t.touches[0].clientX)}getValueFromXCoordinate(t){const e=this.localize.dir()==="rtl",{left:r,right:a,width:i}=this.rating.getBoundingClientRect(),s=e?this.roundToPrecision((a-t)/i*this.max,this.precision):this.roundToPrecision((t-r)/i*this.max,this.precision);return Bt(s,0,this.max)}handleClick(t){this.disabled||(this.setValue(this.getValueFromMousePosition(t)),this.emit("sl-change"))}setValue(t){this.disabled||this.readonly||(this.value=t===this.value?0:t,this.isHovering=!1)}handleKeyDown(t){const e=this.localize.dir()==="ltr",r=this.localize.dir()==="rtl",a=this.value;if(!(this.disabled||this.readonly)){if(t.key==="ArrowDown"||e&&t.key==="ArrowLeft"||r&&t.key==="ArrowRight"){const i=t.shiftKey?1:this.precision;this.value=Math.max(0,this.value-i),t.preventDefault()}if(t.key==="ArrowUp"||e&&t.key==="ArrowRight"||r&&t.key==="ArrowLeft"){const i=t.shiftKey?1:this.precision;this.value=Math.min(this.max,this.value+i),t.preventDefault()}t.key==="Home"&&(this.value=0,t.preventDefault()),t.key==="End"&&(this.value=this.max,t.preventDefault()),this.value!==a&&this.emit("sl-change")}}handleMouseEnter(t){this.isHovering=!0,this.hoverValue=this.getValueFromMousePosition(t)}handleMouseMove(t){this.hoverValue=this.getValueFromMousePosition(t)}handleMouseLeave(){this.isHovering=!1}handleTouchStart(t){this.isHovering=!0,this.hoverValue=this.getValueFromTouchPosition(t),t.preventDefault()}handleTouchMove(t){this.hoverValue=this.getValueFromTouchPosition(t)}handleTouchEnd(t){this.isHovering=!1,this.setValue(this.hoverValue),this.emit("sl-change"),t.preventDefault()}roundToPrecision(t,e=.5){const r=1/e;return Math.ceil(t*r)/r}handleHoverValueChange(){this.emit("sl-hover",{detail:{phase:"move",value:this.hoverValue}})}handleIsHoveringChange(){this.emit("sl-hover",{detail:{phase:this.isHovering?"start":"end",value:this.hoverValue}})}focus(t){this.rating.focus(t)}blur(){this.rating.blur()}render(){const t=this.localize.dir()==="rtl",e=Array.from(Array(this.max).keys());let r=0;return this.disabled||this.readonly?r=this.value:r=this.isHovering?this.hoverValue:this.value,o`
      <div
        part="base"
        class=${at({rating:!0,"rating--readonly":this.readonly,"rating--disabled":this.disabled,"rating--rtl":t})}
        role="slider"
        aria-label=${this.label}
        aria-disabled=${this.disabled?"true":"false"}
        aria-readonly=${this.readonly?"true":"false"}
        aria-valuenow=${this.value}
        aria-valuemin=${0}
        aria-valuemax=${this.max}
        tabindex=${this.disabled?"-1":"0"}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mouseenter=${this.handleMouseEnter}
        @touchstart=${this.handleTouchStart}
        @mouseleave=${this.handleMouseLeave}
        @touchend=${this.handleTouchEnd}
        @mousemove=${this.handleMouseMove}
        @touchmove=${this.handleTouchMove}
      >
        <span class="rating__symbols">
          ${e.map(a=>r>a&&r<a+1?o`
                <span
                  class=${at({rating__symbol:!0,"rating__partial-symbol-container":!0,"rating__symbol--hover":this.isHovering&&Math.ceil(r)===a+1})}
                  role="presentation"
                  @mouseenter=${this.handleMouseEnter}
                >
                  <div
                    style=${U({clipPath:t?`inset(0 ${(r-a)*100}% 0 0)`:`inset(0 0 0 ${(r-a)*100}%)`})}
                  >
                    ${it(this.getSymbol(a+1))}
                  </div>
                  <div
                    class="rating__partial--filled"
                    style=${U({clipPath:t?`inset(0 0 0 ${100-(r-a)*100}%)`:`inset(0 ${100-(r-a)*100}% 0 0)`})}
                  >
                    ${it(this.getSymbol(a+1))}
                  </div>
                </span>
              `:o`
              <span
                class=${at({rating__symbol:!0,"rating__symbol--hover":this.isHovering&&Math.ceil(r)===a+1,"rating__symbol--active":r>=a+1})}
                role="presentation"
                @mouseenter=${this.handleMouseEnter}
              >
                ${it(this.getSymbol(a+1))}
              </span>
            `)}
        </span>
      </div>
    `}};w.styles=Dr;w.dependencies={"sl-icon":It};c([St(".rating")],w.prototype,"rating",2);c([x()],w.prototype,"hoverValue",2);c([x()],w.prototype,"isHovering",2);c([l()],w.prototype,"label",2);c([l({type:Number})],w.prototype,"value",2);c([l({type:Number})],w.prototype,"max",2);c([l({type:Number})],w.prototype,"precision",2);c([l({type:Boolean,reflect:!0})],w.prototype,"readonly",2);c([l({type:Boolean,reflect:!0})],w.prototype,"disabled",2);c([l()],w.prototype,"getSymbol",2);c([dt({passive:!0})],w.prototype,"handleTouchMove",1);c([q("hoverValue")],w.prototype,"handleHoverValueChange",1);c([q("isHovering")],w.prototype,"handleIsHoveringChange",1);w.define("sl-rating");var Lr=g`
  ${lt}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,tt=class extends ct{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};tt.styles=Lr;c([l({type:Boolean,reflect:!0})],tt.prototype,"vertical",2);c([q("vertical")],tt.prototype,"handleVerticalChange",1);tt.define("sl-divider");const Rr=g`
    /** define our variables. These should be overriden by each supported appearance (wide, square, square-details, tall, etc.) */
    /** real-card-width is a value that varies with the width of the screen */
    :host {
        --real-card-width: 0px;
        --real-card-height: 0px;
        --light-theme-background-color: var(--sl-color-neutral-0);
        --dark-theme-background-color: var(--sl-color-neutral-50);
        --common-background-color: var(--light-theme-background-color);
    }
    
    
    @media(prefers-color-scheme: dark) {
        .product {
            /** On dark mode, we want a slightly lighter color */
            --common-background-color: var(--dark-theme-background-color);
        }
    }

    .product {
        --card-padding: var(--sl-spacing-medium);
        box-shadow: var(--sl-shadow-small);
        transition: all var(--sl-transition-fast) ease-out;
        height: var(--real-card-height);
        min-width: var(--real-card-width);
        user-select: none;
        padding: var(--card-padding);
        border: var(--card-border) solid var(--theme-border-color);
        border-radius: var(--sl-border-radius-large);
        box-shadow: var(--sl-shadow-small);
        background-color: var(--common-background-color);
        display: flex;
        text-decoration: none;
        overflow: hidden;
        mix-blend-mode: multiply;
    }

    .product:focus-visible {
        background-color: var(--selection);
        outline-color: var(--selection-border);
    }

    .product:hover {
        box-shadow: var(--sl-shadow-large);
        transform: translateY(-2px);
        background-color: var(--theme-card-hover-background-color);
    }

    .product.mouse-down:hover {
        background-color: var(--sl-color-neutral-100);
        transform: translateY(0);
        box-shadow: var(--sl-shadow-x-large);
    }

    .product.mouse-down:hover img {
        transform: scale(0.9);
    }

    .product.clicked .product-image {
        /* When we click on a product, set the view transition name on the product image.
           This enables us to have a nice view transition where the logo on the card
           transitions to the logo on the product details page.
        */
        view-transition-name: app-logo;
    }

    .product.clicked .title {
        view-transition-name: app-title;
    }

    .product img {
        height: var(--card-height);
        width: auto;
        border-radius: var(--sl-border-radius-large);
        vertical-align: middle;
        margin-right: var(--sl-spacing-small);
        transition: all var(--sl-transition-fast) ease-out;
    }

    .product .title {
        font-weight: var(--sl-title-font-weight);
        font-size: var(--sl-font-size-small);
        color: var(--sl-color-neutral-800);
        white-space: nowrap;
        overflow-x: hidden;
        text-overflow: ellipsis;
        margin: 0;
    }

    .product .category-row {
        display: flex;
        gap: 4px;
    }

    .product .subtitle, .additional-categories {
        font-size: var(--sl-font-size-x-small);
        color: var(--theme-subtitle-color);
        display: flex;
        align-items: center;
    }

    .additional-categories {
        margin-left: 4px;
    }

    .product .blur {
        /** The --card-blur-height variable sets the height of the blur, otherwise it defaults to the card height. */
        --card-blur-height: var(--blur-height, 100%);
        /** The --blur-value variable sets the value of the blur, otherwise it defaults to 25px. */
        --card-blur-value: var(--blur-value, 25px);
        width: 100%;
        height: var(--card-blur-height);
        position: relative;
        overflow: hidden;
    }
    .product .gradual-blur {
        position: absolute;
        inset: 0;
        --transform-scale: scale(1.5); /** For some small icons, for better color rendering */
        background-blend-mode: luminosity, overlay, normal;
        background-repeat: no-repeat;
        background-position: center top;
        background-size: 100% var(--card-blur-height);
        --filter-params: blur(var(--card-blur-value)) saturate(4) contrast(90%);
        ${Z("var(--filter-params)","var(--transform-scale)")}
    }

    .product .subtitle sl-rating {
        --symbol-color: var(--theme-star-color);
    }

    .product sl-rating {
        --symbol-size: var(--sl-font-size-2x-small);
        --symbol-color-active: var(--sl-color-neutral-500);
        --symbol-spacing: 0;
    }

    .product .rating-element, .product .rating-count {
        color: var(--sl-color-neutral-600);
        font-size: var(--sl-font-size-x-small);
        flex-shrink: 0;
    }

    .product .rating-price-row {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        width: 100%;
    }
`;function vt(t){const e=new Date("0001-01-01T00:00:00");return t&&new Date(t)>e?new Date(t).getFullYear().toString():""}function vi(t){const e=h.getLocaleName(),r=new Date("0001-01-01T00:00:00");return t&&new Date(t)>r?Intl.DateTimeFormat(e).format(new Date(t)):""}var Tr=Object.defineProperty,Ar=Object.getOwnPropertyDescriptor,A=(t,e,r,a)=>{for(var i=a>1?void 0:a?Ar(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Tr(e,r,i),i};const z=class nt extends Q{constructor(){super(...arguments),this.product=null,this.appearance=null,this.cardIndex=0,this.collectionSize=0,this.tabIndexStop=0,this.isMouseDown=!1,this.isClicked=!1,this.mouseUpListener=()=>this.isMouseDown=!1}get getCategories(){return this.product?.categories||[]}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("mouseup",this.mouseUpListener),this.removeViewTransitions()}updated(e){if(e.has("highlighted")&&this.highlighted===!0){const r=this.shadowRoot?.querySelector("a:not(:focus)");r&&(r.focus(),r.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"}))}}getCardBaseDetail(e,r=75){const a=e.iconUrl?nt.getUrlWithWidth(e.iconUrl,r):"/assets/icons/app.svg",i=e?.redirectUrl?e.redirectUrl:st.getLocalizedUrl(`/detail/${e.productId||""}`);return{iconUrl:a,iconBkg:e.iconUrlBackground||"transparent",mouseInteractionClass:[this.isMouseDown?"mouse-down":"",this.isClicked?"clicked":""].filter(s=>!!s).join(" "),url:i,target:e.redirectUrl?"_blank":null}}getPosterArtUrl(e,r){return e?nt.getUrlWithWidth(e,r):"/assets/icons/app.svg"}renderRating(e){return e.isMovie?o``:o`
            <div>
                <sl-rating label="Rating" readonly value="${e.averageRating}" tabindex="-1"></sl-rating>
                <span class="rating-count">${e.ratingCountFormatted}</span>
            </div>
        `}renderRatingIconOrSubtitle(e){if(e.isMoviesOrTVs)return o`
                <div class="rating-element">
                    <span class="label year-label" aria-label="${h.getFormatted("ProductDetails.Year",e.subtitle??vt(e.releaseDateUtc))}">${e.subtitle??vt(e.releaseDateUtc)}</span>
                </div>
            `;const r=e.ratingCountFormatted;return o`
            <div class="rating-element">
                <span class="label"
                aria-label=${r?h.getFormatted("ProductDetails.TotalRatings",e.averageRating.toFixed(1)):h.get("ProductDetails.ZeroRatings")}>
                ${r?e.averageRating.toFixed(1):"--"}</span>
                <span class="label"><sl-rating label="Rating" readonly value="1" max="1" tabindex="-1"></sl-rating></span>
            </div>
        `}renderTitle(e,r=2){return o`
            <p part="title" class="title ${r===2?"text-two-line-overflow":"text-ellipsis"}">${e.title}</p>
        `}renderDivider(){return o`
            <sl-divider vertical></sl-divider>
        `}renderGradualBlur(e,r){const a={backgroundImage:`var(--theme-noise-image-to-linear-gradient), linear-gradient(${r}, ${r}), url(${e})`};return o`
            <div class="blur">
                <div class="gradual-blur" style="${U(a)}"></div>
            </div>
        `}renderSubtitle(e,r){const a=r?r[0]:e.subtitle,i=this.consolidateCategories();return o`
            <div class="subtitle">
                ${this.renderRatingIconOrSubtitle(e)}
                ${this.renderDivider()}
                <div class="text-ellipsis">${a}</div>
                <span class="additional-categories">${e.isMovie?"":i}</span>
            </div>
        `}renderRatingPrice(e,r=!1,a=!1,i=!1){return o`
            <div class="rating-price-row ${a?"hide-rating":""} ${i?"badge-overflow":""}">
                ${this.renderRatingIconOrSubtitle(e)}
                <price-badge .product=${this.product} ?tall-card="${r}"></price-badge>
            </div>
        `}clicked(){this.isClicked=!0,st.lastNavigatedProduct=this.product}mouseDown(){this.isMouseDown=!0,document.removeEventListener("mouseup",this.mouseUpListener),document.addEventListener("mouseup",this.mouseUpListener,{once:!0,passive:!0})}removeViewTransitions(){this.shadowRoot?.querySelector(".product.clicked")?.classList.remove("clicked")}static getUrlWithWidth(e,r){return e.startsWith("http")?pt.getResizableImageUrl(e,"width",r):e}consolidateCategories(){const e=this.product?.categories?.length;return this.product?.categories&&e&&e>1?h.getFormatted("ProductDetails.ConsolidateCategory",e-1):""}};z.shadowRootOptions={...Q.shadowRootOptions,delegatesFocus:!0};z.styles=[M,Rr];A([l()],z.prototype,"product",2);A([l()],z.prototype,"appearance",2);A([l({attribute:"card-index"})],z.prototype,"cardIndex",2);A([l({attribute:"collection-size"})],z.prototype,"collectionSize",2);A([l({attribute:"tab-index-stop"})],z.prototype,"tabIndexStop",2);A([l({type:Boolean})],z.prototype,"highlighted",2);A([x()],z.prototype,"isMouseDown",2);A([x()],z.prototype,"isClicked",2);let O=z;const Br=g`
    .product-offer {
        --real-card-width: calc(var(--card-width) - (2 * var(--card-border)) - (2 * var(--card-padding))); /** real width is card width minus the border and padding */
        --real-card-height: var(--card-height);
        --card-padding: var(--sl-spacing-x-large);
        flex-direction: column;
        gap: 10px;
        position: relative;
    }

    /** product-image is a div that either displays:
      - a background image (landscape) 
      - a child <img> (square and portrait) 
    */
    .product-offer .product-image {
        width: 100%;
        height: 150px;
    }

    .exclude-top-radius {
        border-top-left-radius: 0 !important;
        border-top-right-radius: 0 !important;
    }

    .product-offer .product-image.landscape {
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat no-repeat;
        border-radius: calc(var(--sl-border-radius-large) - 1px);
    }

    .img-container {
        position: absolute;
        top: 0;
        width: 100%;
    }

    /* For portrait and square images, we display an <img> element inside the .product-image container */
    .product-offer .product-image.portrait img,
    .product-offer .product-image.square img {
        max-height: 135px;
        width: auto;
        margin-left: auto;
        margin-right: auto;
        display: block;
        border-radius: unset;
    }

    .product-offer .title {
        margin-top: var(--sl-spacing-2x-small);
        text-align: center;
        font-weight: var(--sl-font-weight-bold);
        max-width: 200px;
        height: 42px; /** Hard-coded height here gives us additional vertical space to span 2 lines if needed. */
        margin-left: auto;
        margin-right: auto;
    }

    discount-price-badge {
        /** Center the pricing badge within the card */
        margin-right: auto;
        margin-left: auto;
    }

    game-pass-badge {
        --top-left-border-radius: calc(var(--sl-border-radius-large) - 1px);
        --top-right-border-radius: calc(var(--sl-border-radius-large) - 1px);
    }

    .main-image-container {
        display: flex;
        flex-direction: column;
        max-height: 150px;
    }
`,Ur=g`
    :host {
        --max-price-width: 70px;
        --span-horizontal-spacing: var(--sl-spacing-x-small);
        --span-padding: var(--sl-spacing-2x-small) var(--sl-spacing-3x-small);
    }
    
    /** The price badge two line display */
    .pricing-container.wrap {
        flex-direction: column;
        width: 100%;
        font-size: var(--sl-font-size-x-small);
    }
    .pricing-container.wrap .discount {
        max-width: 100%;
    }

    .pricing-container {
        display: inline-flex;
        border-radius: var(--sl-border-radius-large);
        overflow: hidden; /** This allows our border radius to show through */
        background-color: var(--sl-color-neutral-100);
        font-size: 12px;
    }

    /** The pricing container "[40% off | $12.99 | $11.99]" should use flexbox for the pricing items */
    .pricing-container > * {
        padding: var(--span-padding);
    }

    .discount {
        padding-left: var(--span-horizontal-spacing);
        padding-right: var(--span-horizontal-spacing);
        color: var(--theme-sale-badge-color);
        background-color: var(--theme-sale-badge-background-color);
        font-weight: var(--sl-title-font-weight);
        max-width: 90px;
        text-align: center;
    }

    .strikethrough-price {
        text-decoration: line-through;
        color: var(--sl-color-neutral-600); /** Figma UX design calls for lighter color (sl-color-netural-400), but a11y scan calls it out as too low contrast. Bumping up to 600 */
        max-width: var(--max-price-width);
        padding-left: var(--sl-spacing-x-small);
        padding-right: var(--sl-spacing-3x-small);
    }

    @media(prefers-color-scheme: dark) {
        .strikethrough-price {
            /** On dark mode, we need even more contrast according to a11y scan */
            color: var(--sl-color-neutral-700);
        }

        .pricing-container {
            background-color: #1C1C1C;
        }
    }

    .price {
        color: var(--sl-color-neutral-950);
        font-weight: var(--sl-font-weight-semibold);
        max-width: var(--max-price-width);
        padding-right: var(--span-horizontal-spacing);
        padding-left: var(--sl-spacing-3x-small);
    }

    /** If the price doesn't have any discount (e.g. due to market), give more padding to account for not showing the discount. */
    .price.no-discount {
        padding-left: var(--span-horizontal-spacing);
    }
`;var Fr=Object.defineProperty,qr=Object.getOwnPropertyDescriptor,ft=(t,e,r,a)=>{for(var i=a>1?void 0:a?qr(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Fr(e,r,i),i};let I=class extends Q{constructor(){super(...arguments),this.product=null,this.isWrap=!1,this.discount=null}render(){if(!this.product)return o``;this.discount||(this.discount=I.getDiscount(this.product));const t=this.discount.percentageOffText&&this.discount.percentageOff>0?"":"d-none",e=this.discount.strikethroughPrice&&this.discount.percentageOff>0?"":"d-none",r=this.discount.percentageOff===0?"no-discount":"",a=this.isWrap?"wrap":"";return o`
            <div class="pricing-container ${a}" part="pricing-container">
                <span class="discount text-ellipsis ${t}">${this.discount.percentageOffText}</span>
                <div class="d-flex">
                    <span class="strikethrough-price text-ellipsis ${e}" part="strikethrough-price">${this.discount.strikethroughPrice}</span>
                    <span class="price text-ellipsis ${r}" part="price">${this.discount.price}</span>
                </div>
            </div>
        `}static getDiscount(t){const e=(t.skusSummary||[]).map(r=>I.toSkuSale(r)).sort((r,a)=>I.sortSkuSalesByGreatestDiscount(r,a))[0];return e?.cheapestSale?{percentageOff:e.percentageOff||0,percentageOffText:(e.percentageOff*-1).toLocaleString(h.getLocaleName(),{style:"percent",minimumFractionDigits:0}),price:e.cheapestSale.displayPrice,strikethroughPrice:e.displayMsrp}:{percentageOff:0,percentageOffText:t.promoMessage||"",strikethroughPrice:t.strikethroughPrice||"",price:t?.displayPrice||""}}static sortSaleByCheapest(t,e){return t.price<e.price?-1:t.price===e.price?0:1}static sortSkuSalesByGreatestDiscount(t,e){return t.percentageOff>e.percentageOff?-1:t.percentageOff<e.percentageOff?1:0}static toSkuSale(t){const r=(t.salePrices||[]).filter(s=>s.badgeId!=="gamepass").sort((s,n)=>I.sortSaleByCheapest(s,n))[0]||null;let a=0;return r&&(a=(t.msrp-r.price)/t.msrp),{msrp:t.msrp,displayMsrp:t.displayMSRP,cheapestSale:r,percentageOff:a}}};I.styles=[M,Ur];ft([l({type:Object})],I.prototype,"product",2);ft([l({attribute:"is-wrap",type:Boolean})],I.prototype,"isWrap",2);I=ft([k("discount-price-badge")],I);const Mr=g`
    :host {
        --border-radius: 4px;
        --border-width: 1px;
        display: inline-block;
        width: fit-content;
        box-shadow: 0px 2px 4px 0px #0000000A;
    }

    :host([position=top-full]) {
        width: 100%;
    }

    .container {
        background: linear-gradient(96.58deg, 
            #D6FF30 -100%, #117D11 100%);
        color: var(--sl-default-white);
        padding: 2px 6px 3px 6px;
        font-size: 10px;
        line-height: 14px;
        font-weight: 600;
        font-family: var(--body-font);

        /** We let consumers of this component override border radius. 
            This is needed because some cards (i.e. offer-card) don't do clipping, but do image border radius.
            Such cards will override the border radius to match their image border radius.
        */
        border-top-left-radius: var(--top-left-border-radius, 0);
        border-top-right-radius: var(--top-right-border-radius, 0);
        border-bottom-right-radius: var(--bottom-right-border-radius, 0);
        border-bottom-left-radius: var(--bottom-left-border-radius, 0);
    }

    // Positioning determines opposite corner border radius
    .top-left {
        border-bottom-right-radius: var(--border-radius);
    }

    .top-right {
        border-bottom-left-radius: var(--border-radius);
    }
`;var jr=Object.defineProperty,Er=Object.getOwnPropertyDescriptor,ut=(t,e,r,a)=>{for(var i=a>1?void 0:a?Er(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&jr(e,r,i),i};let K=class extends Q{constructor(){super(...arguments),this.product=null,this.position="top-right"}render(){if(!this.product)return o``;if(!(this.product.isGame&&this.product.skusSummary&&this.product.skusSummary.flatMap(s=>s.includedWith||[]).some(s=>s.badgeId==="gamepass")))return o``;const e=this.position,r=this.position.includes("full")?"d-flex justify-content-center":"",a=h.get("Search.Filter.GamePass"),i=h.getFormatted("Common.IncludedWithOption",a);return o`
            <div class="container ${e} ${r}">${i}</div>
        `}};K.styles=[M,Mr];ut([l({type:Object})],K.prototype,"product",2);ut([l()],K.prototype,"position",2);K=ut([k("game-pass-badge")],K);var Yr=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,Xr=Object.getPrototypeOf,Gr=Reflect.get,Vr=(t,e,r,a)=>{for(var i=a>1?void 0:a?Nr(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Yr(e,r,i),i},Wr=(t,e,r)=>Gr(Xr(t),r,e);let Y=class extends O{render(){if(!this.product||!this.product.images)return o``;const{mouseInteractionClass:t,iconBkg:e,url:r,target:a}=this.getCardBaseDetail(this.product,200),i=this.product.isGame&&this.product.skusSummary&&this.product.skusSummary.flatMap(s=>s.includedWith||[]).some(s=>s.badgeId==="gamepass");return o`
            <a href="${r}" target="${a||v}" rel="${a?"nofollow":v}" class="product product-offer ${t}" @click="${this.clicked}">
                <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1">
                    <div class="main-image-container">
                        <game-pass-badge .product="${this.product}" position="top-full"></game-pass-badge>
                        ${this.renderImage(this.product,e,i)}
                    </div>
                </sl-animation>
                <h3 class="title text-two-line-overflow">${this.product.title}</h3>
                <discount-price-badge .product="${this.product}"></discount-price-badge>
            </a>
        `}renderImage(t,e,r){const a=this.getImage(t),i=pt.getNormalizedWidth(new URL(a.url||""),376),s=a.width>a.height,n=a.width===a.height,b=r?"exclude-top-radius":"";return s?o`
                <div class="product-image landscape ${b}" style="background-image: url('${i}'); background-color: ${e}"></div>
            `:o`
            <div class="product-image ${n?"square":"portrait"}">
                ${this.renderGradualBlur(i,e)}
                <div class="img-container d-flex justify-content-center">
                    <img src="${i}" alt="" />
                </div>
            </div>
        `}getImage(t){const e=t.isMoviesOrTVs||t.isGame,r=(t.images||[]).concat(this.getPreviewImages(t));return e?this.getLandscapeImage(r)||this.getPortraitImage(r)||this.getSquareImage(r)||this.getAnyImage(t,r):this.getSquareImage(r)||this.getPortraitImage(r)||this.getLandscapeImage(r)||this.getAnyImage(t,r)}getLandscapeImage(t){const e=J(t,"hero");if(e&&e.width>e.height)return e;const r=bt(t);return r||null}getPortraitImage(t){const e=J(t,"BoxArt");return e&&e.width<e.height?e:Ut(t)}getSquareImage(t){const e=yt(t);return e&&e.width>0?e:null}getAnyImage(t,e){const r=e[0];return r||{backgroundColor:null,caption:null,foregroundColor:null,height:0,width:0,imagePositionInfo:null,imageType:null,url:t.iconUrl||new URL("/assets/icons/app.svg",window.location.origin).href}}getPreviewImages(t){return(t.previews||[]).filter(e=>!!e.imageType)}};Y.styles=Wr(Y,Y,"styles").concat(Br);Y=Vr([k("offer-card")],Y);const Hr=g`
    .product-tall {
        --real-card-width: var(--card-width);
        --real-card-height: var(--card-height);
        aspect-ratio: var(--aspect-ratio);
        padding: 0;
        box-sizing: border-box;
        flex-direction: column;
        position: relative;
    }

    .product-tall .image {
        position: absolute;
        left: 0%;
        right: 0%;
        top: -46.47%;
        bottom: 0%;
        background-position: bottom;
        /* Commented out: backdrop-filter results in a significant performance impact on lower-end devices. 
        backdrop-filter: blur(25px); */
        background-blend-mode: luminosity, normal;
        --filter-params: blur(25px) contrast(0.5) saturate(1.2);
        ${Z("var(--filter-params)")}
    }

    .product-tall .blur-and-overlay {
        position: absolute;
        inset: -4px;
        background-position: bottom;
        /* Commented out: backdrop-filter results in a significant performance impact on lower-end devices.
        backdrop-filter: blur(25px) contrast(1.5) saturate(1.2); */
        background-blend-mode: luminosity, normal;
        --filter-params: blur(25px) saturate(1.5);
        ${Z("var(--filter-params)")}
    }

    .product-tall .img-wrap {
        position: relative;
        aspect-ratio: 3 / 4;
        width: 100%;
        display: flex;
        align-items: center;
        box-sizing: border-box;
        -webkit-mask-image: linear-gradient(to top, transparent, white 36%, black);
        mask-image: linear-gradient(to top, transparent, white 36%, black);
    }

    .product-tall .img-wrap.with-padding {
        padding: 0 var(--sl-spacing-medium);
    }

    .product-tall img {
        display: inline-block;
        z-index: 1;
        margin: 0 auto;
        width: 100%;
        vertical-align: middle;
    }

    .product-tall .exclude-top-radius {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    .product-tall .desc {
        position: absolute;
        left: var(--sl-spacing-medium);
        right: var(--sl-spacing-medium);
        bottom: var(--sl-spacing-small);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .product-tall .title-wrap {
        height: 40px;
        display: flex;
        align-items: flex-start;
    }
    .product-tall .title {
        width: 100%;
        margin-bottom: var(--sl-spacing-2x-small);
        margin: 0;
        color: var(--sl-default-white);
    }

    .product-tall .label {
        color: var(--sl-default-white);
    }

    .product-tall sl-rating {
        --symbol-color-active: rgba(255, 255, 255, 0.7);
    }

    .product-tall .rating-price-row {
       margin-top: var(--sl-spacing-2x-small);
    }

    .hide-rating.rating-price-row {
        justify-content: flex-end;
    }
    .hide-rating.rating-price-row .rating-element {
        display: none;
    }

    .badge-overflow.rating-price-row {
        justify-content: center;
    }

    price-badge {
        --span-padding: 2px 0px 3px;
        --span-horizontal-spacing: var(--sl-spacing-2x-small);
        flex: 0 0 auto;
    }

    price-badge::part(pricing-container){
        border-radius: 4px;
        font-size: 12px;
        background: rgba(0, 0, 0, 0.3);
        vertical-align: top;
    }

    price-badge::part(strikethrough-price), price-badge::part(price) {
        color: #FFFFFF;
    }
    game-pass-badge {
        z-index: 1;
    }
`,Kr=g`
    .price-container, .tall-price-container {
        border-radius: 4px;
        padding: 2px 8px 3px 8px;
        font-size: 12px;
        line-height: 16px;
        align: center;
        display: inline-block;
    }

    .price-container {
        color: var(--theme-primary-element-color);
        background: #EFF6FC;
    }

    .tall-price-container {
        color: #FFFFFF;
        background: rgba(0, 0, 0, 0.3);
        vertical-align: top;
        text-align: center;
    }

    @media (prefers-color-scheme: dark) {
        .price-container {
            color: white;
            background: #243857;
        }
    }
`;var Qr=Object.defineProperty,Zr=Object.getOwnPropertyDescriptor,Jr=Object.getPrototypeOf,ta=Reflect.get,ht=(t,e,r,a)=>{for(var i=a>1?void 0:a?Zr(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Qr(e,r,i),i},ea=(t,e,r)=>ta(Jr(t),r,e);let S=class extends I{constructor(){super(...arguments),this.product=null,this.tallCard=!1}render(){const t=this.product?this.getDisplayPrice(this.product):null;if(!this.product||!t)return o``;if(S.getDiscount(this.product).percentageOff>0)return super.render();const r=this.tallCard?"tall-price-container":"price-container";return o`
            <div class="${r}" part="price-container">
                ${t}
            </div>
        `}getDisplayPrice(t){if(t.displayPrice)return t.displayPrice;const e=(t.skusSummary||[]).flatMap(r=>r.salePrices||[]).filter(r=>!!r.displayPrice).sort((r,a)=>r.price<a.price?-1:r.price===a.price?0:1).at(0);return e?.displayPrice?e.displayPrice:t.skusSummary.map(r=>r.streamingService)?h.get("MoviesPage.Stream"):null}};S.styles=ea(S,S,"styles").concat(M,Kr);ht([l({type:Object})],S.prototype,"product",2);ht([l({attribute:"tall-card",type:Boolean})],S.prototype,"tallCard",2);S=ht([k("price-badge")],S);var ra=Object.defineProperty,aa=Object.getOwnPropertyDescriptor,ia=Object.getPrototypeOf,sa=Reflect.get,et=(t,e,r,a)=>{for(var i=a>1?void 0:a?aa(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&ra(e,r,i),i},oa=(t,e,r)=>sa(ia(t),r,e);let T=class extends O{constructor(){super(...arguments),this.withPaddingClass=!1,this.hideRating=!1,this.isBadgeOverflow=!1,this.resizedHandler=()=>this.updateLayoutOfRatingPrice()}firstUpdated(){this.updateLayoutOfRatingPrice()}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.resizedHandler)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.resizedHandler)}updateLayoutOfRatingPrice(){const t=this.shadowRoot?.querySelector("price-badge");t instanceof S&&t.updateComplete.then(()=>{this.hideRating=t.clientWidth>this.clientWidth-72,this.isBadgeOverflow=t.clientWidth>this.clientWidth-32})}loadImage(t){const e=t.target;this.withPaddingClass=e.naturalWidth/e.naturalHeight>=1}render(){if(!this.product)return o``;const t=Lt(f.xs)?350:200,e=this.getPosterArtUrl(this.product.posterArtUrl,t),{mouseInteractionClass:r,url:a,target:i}=this.getCardBaseDetail(this.product,150),s={backgroundImage:`linear-gradient(var(--theme-tall-card-blur-color), var(--theme-tall-card-blur-color)), url(${e})`},n=`background-image: url(${e})`,b=this.withPaddingClass?"with-padding":"",$=this.product.isGame&&this.product.skusSummary&&this.product.skusSummary.flatMap(D=>D.includedWith||[]).some(D=>D.badgeId==="gamepass")?"exclude-top-radius":"";return o`
            <a href="${a}" target="${i||v}" rel="${i?"nofollow":v}" class="product product-tall ${r}" tabindex=${this.tabIndexStop} @click="${this.clicked}">
                <div class="image" style="${n}"></div>
                <div class="blur-and-overlay" style="${U(s)}"></div>
                <game-pass-badge .product="${this.product}" position="top-full"></game-pass-badge>
                <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1">
                    <div class="img-wrap ${b}">
                        <img class="product-image ${$}" aria-hidden=${!0} alt="" src="${e}" loading="lazy" @load="${this.loadImage}" />
                    </div>
                </sl-animation>
                <div class="desc">
                    <div class="title-wrap">
                        ${this.renderTitle(this.product)}
                    </div>
                    ${this.renderRatingPrice(this.product,!0,this.hideRating,this.isBadgeOverflow)}
                    <span role="note" aria-label=${h.getFormatted("ProductDetails.CollectionProduct",this.cardIndex,this.collectionSize)}></span>
                </div>
            </a>
        `}};T.styles=oa(T,T,"styles").concat(Hr);et([x()],T.prototype,"withPaddingClass",2);et([x()],T.prototype,"hideRating",2);et([x()],T.prototype,"isBadgeOverflow",2);T=et([k("tall-card")],T);const na=g`
    .product-wide-details {
        --real-card-width: calc(var(--card-width) - (2 * var(--card-border)) - (2 * var(--card-padding))); /** real width is card width minus the border and padding */
        --real-card-height: var(--card-height);
        --border-radius: var(--sl-border-radius-large);
        flex-direction: column;
        gap: var(--sl-spacing-x-small);
        position: relative;
        padding: var(--sl-spacing-x-small);
        color: var(--sl-color-neutral-700);
    }

    .product-wide-details .container {
        display: flex;
        height: 100%;
        font-size: var(--sl-font-size-x-small);
    }

    .product-wide-details .image-wrap {
        width: 116px;
        border-radius: var(--border-radius) 0 0 var(--border-radius);
        position: relative;
        overflow: hidden;
        flex-shrink: 0;
    }

    .product-wide-details .details {
        flex: 1;
        min-width: 0; /**prevent a child from exceeding its parent width in flexbox */
        margin: var(--sl-spacing-x-small) var(--sl-spacing-medium) 0;
    }

    .details .details-title {
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--sl-spacing-2x-small);
        font-size: var(--sl-font-size-x-medium);
        font-weight: var(--sl-title-font-weight);
    }

    .product-wide-details img {
        height: 80px;
        width: 80px;
        position: absolute;
        inset: 0;
        margin: auto;
    }


    .product-wide-details .desc {
        line-height: 1.5;
        white-space: nowrap;
        display: inline-block;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 4;
        line-clamp: 4;
        overflow: hidden;
        -webkit-box-orient: vertical;
        white-space: normal;
    }

    .product-wide-details .no-review .desc {
        margin-top: var(--sl-spacing-large);
        color: var(--sl-color-neutral-800);
        line-clamp: 5;
        -webkit-line-clamp: 5;
    }

    ${d(f.xs)} {
        .product-wide-details .desc {
            line-clamp: 5;
            -webkit-line-clamp: 5;
        }

        .product-wide-details .no-review .desc {
            line-clamp: 7;
            -webkit-line-clamp: 7;
        }
    }

    .product-wide-details .details-review {
        margin-top: var(--sl-spacing-medium);
    }
    .product-wide-details .stars {
        display: inline-block;
        position: relative;
        margin-right: var(--sl-spacing-x-small);
    }
    .product-wide-details .review {
        margin-top: 0;
        margin-bottom: var(--sl-spacing-2x-small);
        padding-bottom: var(--sl-spacing-2x-small);
        color: var(--theme-font-color);
    }
    .product-wide-details sl-icon:first-child {
        font-size: var(--sl-font-size-x-small);
    }

    .product-wide-details sl-icon:last-child {
        font-size: var(--sl-font-size-2x-small);
        position: absolute;
        top: var(--sl-spacing-x-small);
        left: var(--sl-spacing-x-small);
        transform: scale(.8);
    }

`;var la=Object.defineProperty,ca=Object.getOwnPropertyDescriptor,da=Object.getPrototypeOf,pa=Reflect.get,wt=(t,e,r,a)=>{for(var i=a>1?void 0:a?ca(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&la(e,r,i),i},fa=(t,e,r)=>pa(da(t),r,e);let B=class extends O{constructor(){super(...arguments),this.reviewByGpt=!1}render(){if(!this.product||!this.product.images)return o``;const{iconUrl:t,mouseInteractionClass:e,iconBkg:r,url:a,target:i}=this.getCardBaseDetail(this.product,80);return o`
            <a href="${a}" target="${i||v}" rel="${i?"nofollow":v}" class="product product-wide-details ${e}" @click="${this.clicked}">
                <div class="container">
                    ${this.renderImage(t,r)}
                    ${this.renderDetails(this.product)}
                </div>
            </a>
        `}renderImage(t,e){return o`
            <div class="image-wrap">
                ${this.renderGradualBlur(t,e)}
                <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1">
                    <img class="product-image" alt="" width="80" height="80" src="${t}" loading="lazy" />
                </sl-animation>
            </div>
        `}renderDetails(t){return o`
            <div class="details ${this.reviewByGpt?"":"no-review"}">
                <div class="details-title d-flex">
                    ${this.renderTitle(t,1)}
                </div>
                ${this.renderSubtitle(t,this.getCategories)}
                ${this.renderDetailsContent(t)}
            </div>
        `}renderDetailsContent(t){const e=this.reviewByGpt?"":"display: none";return o`
            <div class="details-review text-two-line-overflow" style="${e}">
                <p class="review text-two-line-overflow">
                    <span class="stars">
                        <sl-icon slot="prefix" name="star" aria-hidden="true"></sl-icon>
                        <sl-icon slot="prefix" name="star" aria-hidden="true"></sl-icon>
                    </span>
                    ${h.get("WideDetailsCard.WhatPeopleAreSaying")}
                </p>
            </div>
            <div class="desc">${t.description}</div>
        `}};B.styles=fa(B,B,"styles").concat(na);wt([x()],B.prototype,"reviewByGpt",2);B=wt([k("wide-details-card")],B);const ua=g`
    .product-ranked-details {
        --real-card-width: var(--card-width);
        --real-card-height: var(--card-height);
        --img-background-contrast: #fff; /** For images that don't take up whole card space (e.g. portrait) and have no SFEdge-supplied background color, we use some contrast color so that the image doesn't bleed into the caption. */
        --title-color: #2B3540;
        --description-color: #636363;
        --border-color: #E1E1E1;
        background-color: var(--sl-color-neutral-50);
        flex-direction: column;
        border-radius: var(--sl-border-radius-large);
        padding: 0;
        transform-style: preserve-3d; /** Prevents a visible shift of absolute positioned elements during mouse over transform of the card */
    }

    @media(prefers-color-scheme: dark) {
        .product-ranked-details {
            --img-background-contrast: #2C2C31;
            --title-color: #ffff;
            --description-color: #d1d1d1;
            --border-color: #181818;
        }
    }

    .product-ranked-details:hover {
        background-color: var(--theme-card-hover-background-color);
    }

    .ranked-container {
        position: relative;
    }

    .ranked-num {
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
        margin: 0;
        padding: var(--sl-spacing-2x-small) var(--sl-spacing-medium);
        --bg-color: hsla(0, 0%, 30%, 0.4);
        background-color: var(--bg-color);
        border-radius: var(--sl-border-radius-large) 0  var(--sl-border-radius-large) 0;
        font-size: var(--sl-font-size-2x-large);
        font-weight: var(--sl-font-weight-bold);
        font-family: var(--header-font);
        color: var(--sl-default-white);
        filter: alpha(opacity=10);
    }

    .img-container {
        height: 230px;
        width: 100%;
        background-position: center top;
        background-size: cover;
    }

    ${d(f.xs)} {
        .img-container {
            height: 150px;
        }
    }

    /** For portrait images, we  */
    .img-container.portrait {
        background-repeat: no-repeat;
        background-size: contain;
    }

    .img-container.bg-contrast {
        background-color: var(--img-background-contrast);
    }

    .ranked-caption {
        height: 26%;
        border-top-width: 0;
        border-radius: 0 0 var(--sl-border-radius-large) var(--sl-border-radius-large);
        background-color: var(--background-color);
        padding: var(--sl-spacing-small) var(--sl-spacing-medium);
    }

    .ranked-title {
        font-size: 18px;
        font-weight: var(--sl-font-weight-semibold);
        margin-bottom: var(--sl-spacing-x-small);
        color: var(--title-color);
    }

    .ranked-description {
        margin-top: var(--sl-spacing-3x-small);
        font-size: var(--sl-font-size-x-small);
        color: var(--description-color);
        height: 29px; /** Reserve 29 px so that even 1 line descriptions have the same box height as 2 line descriptions */
    }

    game-pass-badge {
        position: absolute;
        right: 0;
    }
`;var ha=Object.defineProperty,ga=Object.getOwnPropertyDescriptor,ma=Object.getPrototypeOf,va=Reflect.get,ba=(t,e,r,a)=>{for(var i=a>1?void 0:a?ga(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&ha(e,r,i),i},ya=(t,e,r)=>va(ma(t),r,e);let N=class extends O{render(){const t=this.product;if(!t)return o``;const{mouseInteractionClass:e,url:r,target:a}=this.getCardBaseDetail(t,150);return o`
            <div class="ranked-container">
                <a href="${r}" target="${a||v}" rel="${a?"nofollow":v}" class="product product-ranked-details ${e}" @click="${this.clicked}" @mousedown="${this.mouseDown}">
                    <p class="ranked-num" style="">${this.cardIndex}</p>
                    <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1" >
                        ${this.renderImage(t)}
                    </sl-animation>
                    <game-pass-badge .product="${this.product}" position="top-right"></game-pass-badge>
                    <div class="ranked-caption">
                        <p class="ranked-title text-ellipsis">${t.title}</p>
                        <p class="ranked-description text-two-line-overflow">${t.description}</p>
                    </div>
                </a>
            </div>
        `}renderImage(t){const e=this.getImage(t);if(!e?.url)return o``;const r=e.width>=e.height,a=550,i=250,s=pt.getResizableImageUrl(e.url,r?"width":"height",r?a:i),n=r?"":"portrait",b=e.backgroundColor||"inherit",R=b==="inherit"?"bg-contrast":"",$={"background-image":`url('${s}')`,"background-color":b!=="inherit"?b:void 0};return o`
            <div class="img-container ${n} ${R}" style="${U($)}">
            </div>
        `}getImage(t){const e=bt(t.images);if(e)return e;const r=yt(t.images);if(r)return r;if(t.isMoviesOrTVs){const i=(t.previews||[]).filter(b=>!!b.imageType),s=(t.images||[]).concat(i),n=J(s,"Background");if(n)return n}const a=J(t.images,"BoxArt");return a||(t.images||[])[0]}};N.styles=ya(N,N,"styles").concat(ua);N=ba([k("ranked-card")],N);const xa=g`
    :host {
        --real-card-width: var(--card-width);
        --real-card-height: var(--card-height);

    }
    .product {
        --card-padding: 0;
        position: relative;
        aspect-ratio: var(--aspect-ratio);
    }
    .product:focus-visible::after {
        content: '';
        position: absolute;
        inset: 0;
        z-index: 1;
        border: 2px solid var(--sl-color-neutral-300);
        width: calc(100% - 4px);
        height: calc(100% - 4px);
        border-radius: var(--sl-border-radius-large);
    }
    
    .module-bg {
        background-size: cover;
        inset: -5px;
        position: absolute;
        border-radius: var(--sl-border-radius-large);
        transition: all var(--sl-transition-fast) ease;
        transform-origin: center;
    }

    .product .contain {
        --padding-spacing: var(--sl-spacing-x-large);
        position: absolute;
        left: var(--padding-spacing);
        right: var(--padding-spacing);
        bottom: var(--sl-spacing-small);
        z-index: 1;
    }

     .product:hover .module-bg, .product:focus .module-bg {
        ${Z("blur(15px)")}
        transform: scale(1.05);
    }

    .product .title {
        font-size: var(--sl-font-size-x-large);
        font-family: var(--header-font);
        color: var(--sl-default-white);
        transition: all var(--sl-transition-fast) ease;
        transform: translateY(30px);
    }

    .product .desc {
        font-size: 14px;
        color: var(--sl-default-white);
        transition: all var(--sl-transition-fast) ease-out;
        opacity: 0;
        transform: scaleY(0);
        transform-origin: bottom;
        margin-top: var(--sl-spacing-small);
        height: 36px;
    }

    .product:hover .title, .product:focus .title {
        transform: translateY(0);
    }
    .product:hover .desc, .product:focus .desc {
        opacity: 1;
        transform: scaleY(1);
    }

    .blur {
        position: absolute;
        background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8));
        bottom: 0;
        left: 0;
        width: 100%;
        height: 60%;
        border-radius: 0 0 var(--sl-border-radius-large) var(--sl-border-radius-large);
    }
`;function wa(t){if(t.startsWith("ms-windows-store:")){const e=new URL(t);let r=e.searchParams&&e.searchParams.get("listid");return r!==null?e.pathname.indexOf("videoGallery")>=0?`movies/${r}`:r:(r=e.searchParams&&e.searchParams.get("collectionid"),r||t)}return t}var $a=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,Ca=Object.getPrototypeOf,Pa=Reflect.get,Oa=(t,e,r,a)=>{for(var i=a>1?void 0:a?ka(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&$a(e,r,i),i},za=(t,e,r)=>Pa(Ca(t),r,e);let X=class extends O{render(){if(!this.product)return o``;const{mouseInteractionClass:t}=this.getCardBaseDetail(this.product),e=wa(this.product.productId),r=`/collections/${e}`,a=this.product?.largePromotionImage?.url||"",s="ms-windows-store://collection/?collectionid=MerchandiserContent/Games/Primary/instantgamescollectionprimary/_instantgamescollectionprimary"+"/&cid=InstantArcadeWebRedirect",n=e==="MerchandiserContent/Games/Primary/instantgamescollectionprimary/_instantgamescollectionprimary";return o`
            <a href="${n?s:r}" class="product ${t}" @click="${n??this.clicked}">
                <div class="module-bg" style="background-image: url('${a}');"></div>
                <div class="contain">
                    ${this.renderTitle(this.product)}
                    <div class="desc text-two-line-overflow">${this.product.description}</div>
                </div>
                <div class="blur"></div>
            </a>
        `}};X.styles=za(X,X,"styles").concat(xa);X=Oa([k("collection-module")],X);const _a=g`
    .icon {
        top: 1px;
        position: relative;
    }

    sl-rating {
        --symbol-size: var(--sl-font-size-2x-small);
        --symbol-color-active: var(--sl-color-neutral-500);
        --symbol-spacing: 0;
    }

    sl-radio-button {
        height: 5px;
    }

    .label {
        color: var(--sl-color-neutral-500);
        font-size: var(--sl-font-size-x-small);
    }

    .rating-icon {
        margin-top: -2px;
    }

    .small-rating-icon {
        margin-top: -3px;
    }

    .year, .small-year {
        color: var(--sl-color-neutral-500);
        font-size: var(--sl-font-size-x-small);
        margin-top: var(--sl-spacing-3x-small);
        margin-left: 1px;
    }

    .rating-category-row {
        display: flex;
        white-space: nowrap;
        overflow: hidden;
    }

    .product-info {
        display: grid;
        grid-template-rows: auto 1fr auto;
        margin: var(--sl-spacing-medium) 0 0 var(--sl-spacing-medium);
        row-gap: var(--sl-spacing-2x-small);
        height: 100px;
    }

    [dir="rtl"] .product-info {
        margin: var(--sl-spacing-medium) var(--sl-spacing-medium) 0 0;
    }
    
    .title, .small-title {
        font-weight: 600;
        font-size: var(--sl-font-size-medium);
        font-family: var(--body-font);
        width: auto;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2; /* number of lines to display before applying ellipsis */
        text-overflow: ellipsis;
        overflow: hidden;
        padding-right: 32px;
    }

    [dir="rtl"] .title {
        padding-right: 0;
    }

    .category, .small-category {
        position: relative;
        font-size: var(--sl-font-size-x-small);
        color: var(--sl-color-neutral-500);
        top: var(--sl-spacing-3x-small);
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .divider, .small-divider {
        margin: -2px var(--sl-spacing-small) 0 var(--sl-spacing-3x-small);
        color: var(--sl-color-neutral-300);
        opacity: 0.5;
    }

    [dir="rtl"] .divider {
        margin: -2px var(--sl-spacing-3x-small) 0 0;
    }

    .star {
        position: relative;
        right: 3px;
    }

    .display {
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    .small-display {
        display: flex;
        align-items: center;
        padding-left: 24px;
    }

    .price {
        display: flex;
        position: relative;
        bottom: var(--sl-spacing-x-small);
    }

    .image {
        width: auto;
        max-width: 80px;
        height: auto;
        max-height: 80px;
        filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.1));
        border-radius: 8px;
    }

    .poster-art, .small-poster-art {
        width: auto;
        max-width: 76px;
        height: auto;
        max-height: 108px;
        filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.1));
        border-radius: var(--sl-border-radius-medium);
        background-color: var(--sl-color-neutral-0);
    }

    .product.clicked .image, 
    .product.clicked .poster-art,
    .product.clicked .small-poster-art {
        /* When we click on a product, set the view transition name on the product image.
           This enables us to have a nice view transition where the logo on the card
           transitions to the logo on the product details page.
        */
        view-transition-name: app-logo;
    }

    .product.clicked .title {
        view-transition-name: app-title;
    }

    .grid-item-container {
        display: flex;
        align-items: center;
        cursor: pointer;
        transition: background-color 0.25s cubic-bezier(0.33, 1, 0.68, 1);
    }

    .grid-item-container:hover {
        background-color: var(--sl-color-neutral-100);
        border-radius: var(--sl-border-radius-large);
    }       
    
    .grid-item-container:focus-visible {
        outline: 2px solid var(--selection-border);
        outline-offset: 2px;
        border-radius: var(--sl-border-radius-large);
        background-color: var(--selection);
    }

    .number-overlay {
        font-weight: var(--sl-font-weight-bold);
        font-size: 96px;
        line-height: 120px;
        color: var(--theme-primary-element-color);
        opacity: 0.2;
        display: flex;
        justify-content: center;
        width: 68px;
        left: 26px;
        bottom: 6px;
        position: relative;
    }

    [dir="rtl"] .number-overlay {
        left: 0;
        right: 4px;
    }

    .rating-element {
        position: relative;
        bottom: 2px;
    }

    .bottom-align {
        position: relative;
        bottom: 12px;
    }

    sl-divider {
        position: relative;
        top: var(--sl-spacing-2x-small);
    }

    @media (prefers-color-scheme: dark) {
        .number-overlay {
            color: #3379D9B2;
            mix-blend-mode: lighten;
            opacity: 0.7;
        }

        .divider, .small-divider {
            color: var(--sl-color-neutral-500);
        }

        .price::part(base), .small-price::part(base) {
            background-color: rgba(239, 246, 252, 0.05);;
            color: color: var(--sl-color-neutral-1000);
        }

        .category, .label {
            color: #FFFFFFC8
        }

        sl-rating {
            --symbol-color-active: #FFFFFFC8;
        }
    }

    ${d(f.xl+100)} {
        .image {
            max-height: 68px;
            max-width: 68px;
        }

        .poster-art, .small-poster-art {
            max-width: 68px;
            max-height: 104px;
        }

        .number-overlay {
            font-size: 80px;
            margin-left: -28px;
        }

        [dir="rtl"] .number-overlay {
            margin-left: 0;
        }

        .product-info, [dir="rtl"] .product-info, .small-product-info {
            margin-top: var(--sl-spacing-x-large);
            row-gap: var(--sl-spacing-3x-small);
        }

        .price, .small-price {
            bottom: var(--sl-spacing-x-small);
        }

        .bottom-align-price {
            margin-bottom: 8px;
        }
    }

    ${d(1449)} {
        .grid-item-container.hide {
            display: none;
        }

        .bottom-align-price {
            margin-bottom: 8px;
        }

        .number-overlay {
            margin-left: 0;
        }

        .year-label {
            top: 4px;
        }
    }

    ${d(f.xl-150)} {
        .image {
            max-height: 80px;
            max-width: 80px;
        }

        .poster-art, .small-poster-art {
            max-width: 80px;
            max-height: 128px;
        }

        .number-overlay {
            font-size: 96px;
        }

        .year {
            margin-top: -2px;
        }

        .star {
            top: 0px;
        }

        .product-info, [dir="rtl"] .product-info, .small-product-info {
            margin-bottom: var(--sl-spacing-medium);
            row-gap: var(--sl-spacing-2x-small);
        }

        .price, .small-price {
            bottom: 0px;
        }

        .bottom-align-price {
            margin-bottom: 0;
        }
    }

    ${d(f.lg)} {
        .image, .small-image {
            max-height: 68px;
            max-width: 68px;
        }

        .poster-art, .small-poster-art {
            max-width: 68px;
            max-height: 104px;
        }

        .number-overlay {
            font-size: 80px;
            margin-left: -20px;
        }

        [dir="rtl"] .number-overlay {
            margin-left: 0;
        }

        .star {
            top: 1px;
        }

        .product-info, [dir="rtl"] .product-info, .small-product-info {
            margin-bottom: 0px;
            row-gap: var(--sl-spacing-3x-small);
        }

        .rating-icon, .small-rating-icon {
            margin-top: -4px;
        }

        .price, .small-price {
            bottom: var(--sl-spacing-x-small);
        }

        .bottom-align-price {
            margin-bottom: 8px;
        }
    }

    ${d(f.md-130)} {
        .image {
            max-height: 80px;
            max-width: 80px;
        }

        .poster-art {
            max-width: 80px;
            max-height: 128px;
        }

        .number-overlay {
            font-size: 96px;
            margin-left: -12px;
        }

        [dir="rtl"] .number-overlay {
            margin-left: 0;
        }

        .title {
            height: 110%;
        }

        .year {
            margin-top: 0;
        }

        .star {
            top: 0px;
        }

        .year-label {
            position: relative;
        }

        .product-info, [dir="rtl"] .product-info {
            margin-bottom: var(--sl-spacing-medium);
            row-gap: var(--sl-spacing-2x-small);
            width: 300px;
        }
        
        .price {
            bottom: 0;
        }

        .bottom-align-price {
            margin-bottom: 0;
        }

        .display {
            width: 140px;
        }

        [dir="rtl"] .display {
            width: auto;
        }

        .grid-item-container {
            justify-content: center;
        }
    }

    ${d(f.sm+60)} {
        .small.grid-container {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    ${d(f.sm)} {
        .year {
            font-size: var(--sl-font-size-medium);
        }

        .number-overlay {
            margin-left: -12px;
        }

        [dir="rtl"] .number-overlay {
            margin-left: 0;
        }

        .hyperlink {
            display: grid;
        }

        .year-label {
            top: 0 !important;
        }
    }

    ${d(f.sm-110)} {
        .small.grid-container {
            grid-template-columns: repeat(1, 1fr);
        }
    }

    ${d(f.sm-150)} {
        .rating-icon {
            top: var(--sl-spacing-3x-small);
            left: 2px;
        }

        .divider {
            display: block;
        }

        .year {
            font-size: var(--sl-font-size-small);
            left: 1px;
            bottom: 10px;
        }
        .bottom-align {
            bottom: 12px;
        }

        .grid-item-container {
            width: 380px;
        }

        .small.grid-item-container {
            width: auto;
        }
    }

    ${d(f.xs)} {
        .image {
            max-height: 68px;
            max-width: 68px;
        }

        .poster-art {
            max-width: 68px;
            max-height: 104px;
        }

        .number-overlay {
            font-size: 80px;
            margin-left: -16px;
        }

        .title {
            width: 130px;
        }

        .year {
            bottom: 8px;
        }

        .divider {
            margin: -4px var(--sl-spacing-small) 0 var(--sl-spacing-3x-small);
        }

        .star {
            top: 1px;
        }

        .rating-icon {
            top: -2px;
        }

        .rating-element {
            bottom: 4px;
        }

        .category, .label {
            font-size: 10px;
            top: 0;
        }

        .year-label {
            bottom: 4px;
        }

        .product-info {
            position: relative;
            top: var(--sl-spacing-x-small);
            margin-right: -4px;
        }

        [dir="rtl"] .product-info {
            position: relative;
            top: var(--sl-spacing-x-small);
        }

        .grid-item-container {
            width: 250px !important;
        }

        sl-rating {
            --symbol-size: 9px;
        }

        .price {
            bottom: var(--sl-spacing-x-small);
        }

        .bottom-align-price {
            margin-bottom: 8px
        }

        .rating-category-row {
            margin-top: 2px;
        }

        sl-divider {
            top: var(--sl-spacing-3x-small);
        }
    }

`;var Ia=Object.defineProperty,Sa=Object.getOwnPropertyDescriptor,rt=(t,e,r,a)=>{for(var i=a>1?void 0:a?Sa(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Ia(e,r,i),i};let F=class extends O{constructor(){super(...arguments),this.gridIndex=0,this.cardSize="big",this.direction="ltr"}updated(t){t.has("highlighted")&&this.highlighted===!0&&(this.shadowRoot?.querySelector(".grid-item-container")).focus()}render(){if(!this.product)return o``;const{mouseInteractionClass:t,iconUrl:e}=this.getCardBaseDetail(this.product,80),r=this.cardSize==="big"?"product grid-item-container":"product small grid-item-container";return o`
            <div class="${r} ${t}"
                @click="${()=>this.trendingCardClicked(this.product)}"
                @keydown="${a=>this.trendingCardKeyDown(a,this.product)}"
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "slot": ${this.gridIndex+1}, "itemId":"${this.product.productId}", "itemName": "${this.product.title}", "itemType":"${this.product.productFamilyName}", "redirect": ${!!this.product.redirectUrl}, "type": "product" }'
                tabindex="0"
                dir="${this.direction}"
            >
                <div class="${this.cardSize==="big"?"display":"small-display"}">
                    ${this.renderNumberOverlay()}
                    <img class="${this.product.isApplication?"image":"poster-art"} product-image" src="${this.product.isApplication?e:this.getPosterArtUrl(this.product.posterArtUrl,112)}" alt=""></a>
                </div>
                <div class="product-info">
                    <div class="title ${this.product.isApplication?"":"bottom-align"}">${this.product.title}</div>
                    ${this.renderRatingCategoryRow(this.product,this.product.isApplication)}
                    <span><price-badge class="price ${this.product.isApplication?"":"bottom-align-price"}" .product="${this.product}"></price-badge></span>
                </div>
            </div>
        `}renderNumberOverlay(){return this.cardSize==="big"?o`<div class="number-overlay">${this.gridIndex+1}</div>`:o``}renderRatingCategoryRow(t,e){if(t.isMovie)return o`
                <div class="rating-category-row year bottom-align">
                    ${this.renderRatingIconOrSubtitle(t)}
                </div>
            `;const r=t?.categories&&t.categories.length>0?t.categories[0]:"",a=r?"":"d-none";return o`
            <div class="rating-category-row ${e?"":"bottom-align"}">
                ${this.renderRatingIconOrSubtitle(this.product)}
                <sl-divider vertical class="${a}"></sl-divider>
                <div class="category ${a}">${r}</div>
            </div>
        `}trendingCardClicked(t){this.clicked();const{url:e,target:r}=this.getCardBaseDetail(t);if(r){window.open(e,r);return}st.navigate(e)}trendingCardKeyDown(t,e){t.key==="Enter"&&this.trendingCardClicked(e)}renderYear(){const t=this.product?.subtitle;return o`
            <span class="year">${t}</span>
        `}};F.styles=[M,_a];rt([l()],F.prototype,"gridIndex",2);rt([l({attribute:"card-size"})],F.prototype,"cardSize",2);rt([l()],F.prototype,"direction",2);F=rt([k("trending-card")],F);const Da=g`
    /** wide appearance */
    .product-wide {
        --real-card-width: calc(var(--card-width) - (2 * var(--card-border)) - (2 * var(--card-padding))); /** real width is card width minus the border and padding */
        --real-card-height: var(--card-height);
        gap: var(--sl-spacing-x-small);
    }

    .product-wide .title {
        font-size: var(--sl-font-size-medium);
    }

    .info-container {
        flex: 1;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .price-container {
        display: flex;
    }
`;var La=Object.defineProperty,Ra=Object.getOwnPropertyDescriptor,Ta=Object.getPrototypeOf,Aa=Reflect.get,Ba=(t,e,r,a)=>{for(var i=a>1?void 0:a?Ra(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&La(e,r,i),i},Ua=(t,e,r)=>Aa(Ta(t),r,e);let G=class extends O{render(){const t=this.product;if(!t)return o``;const{iconUrl:e,iconBkg:r,mouseInteractionClass:a,url:i,target:s}=this.getCardBaseDetail(t,75);return o`
            <a href="${i}" target="${s||v}" rel="${s?"nofollow":v}" class="product product-wide ${a}" @click="${this.clicked}" @mousedown="${this.mouseDown}">
                <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1" >
                    <img class="product-image" alt="" width="75" height="75" src="${e}" loading="lazy" style="background-color: ${r}" />
                </sl-animation>
                <div class="info-container">
                    ${this.renderTitle(t)}
                    ${this.renderSubtitle(t,this.getCategories)}
                </div>
                <div class="price-container">
                    <price-badge .product="${t}"></price-badge>
                </div>
            </a>
        `}};G.styles=Ua(G,G,"styles").concat(Da);G=Ba([k("wide-card")],G);const Fa=g`
    .product-square {
        --real-card-width: var(--card-width);
        --real-card-height: var(--card-height);
        padding: 0;
        box-sizing: border-box;
        flex-direction: column;
        position: relative;
        display: block;
    }

    .product-square img {
        height: var(--img-height);
        display: block;
        position: absolute;
        top: calc((var(--blur-height) - var(--img-height)) / 2);
        right: 0;
        bottom: 0;
        left: 0;
        margin: 0 auto;
    }

    .product-square .img-bg {
        position: absolute;
        background-color: red;
        left: 0;
        right: 0;
        top: calc((var(--blur-height) - var(--img-height)) / 2);
        margin: auto;
        /** Prevents the width created by rounded corners from being covered by the background color */
        height: calc(var(--img-height) - 2px);
        aspect-ratio: 1;
        border-radius: var(--sl-border-radius-large);
        overflow: hidden;
    }

    .product-square .desc {
        box-sizing: border-box;
        padding: var(--sl-spacing-2x-small) var(--sl-spacing-medium) var(--sl-spacing-small); /** same as client */
        height: calc(var(--card-height) - var(--blur-height));
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .product-square .title {
        margin: var(--sl-spacing-x-small) 0;
        height: 40px;
    }

    .hide-rating.rating-price-row {
        justify-content: center;
    }
    .hide-rating.rating-price-row .rating-element {
        display: none;
    }

`;var qa=Object.defineProperty,Ma=Object.getOwnPropertyDescriptor,ja=Object.getPrototypeOf,Ea=Reflect.get,Ya=(t,e,r,a)=>{for(var i=a>1?void 0:a?Ma(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&qa(e,r,i),i},Na=(t,e,r)=>Ea(ja(t),r,e);let V=class extends O{render(){if(!this.product)return o``;const{iconUrl:t,iconBkg:e,mouseInteractionClass:r,url:a,target:i}=this.getCardBaseDetail(this.product,80),n=S.getDiscount(this.product).percentageOff>0;return o`
            <!-- Make a fusion layer in the outermost layer, which can prevent the border from not fitting the problem -->
            <a href="${a}" target="${i||v}" rel="${i?"nofollow":v}" class="product product-square ${r}" tabindex=${this.tabIndexStop} @click="${this.clicked}">
                ${this.renderGradualBlur(t,e)}
                <div class="img-bg" style="background: ${e}"></div>
                <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1">
                    <img class="product-image" width="80" height="80" src="${t}" alt=""  loading="lazy" />
                </sl-animation>
                <div class="desc">
                    ${this.renderTitle(this.product)}
                    ${this.renderRatingPrice(this.product,void 0,n,void 0)}
                    <span role="note" aria-label=${h.getFormatted("ProductDetails.CollectionProduct",this.cardIndex,this.collectionSize)}></span>
                </div>
            </a>
        `}};V.styles=Na(V,V,"styles").concat(Fa);V=Ya([k("square-card")],V);const Xa=g`
    .product-square-details {
        --real-card-width: var(--card-width);
        --real-card-height: var(--card-height);
        --icon-size: 64px; /** Used by square-details category */
        flex-direction: column;
        gap: var(--sl-spacing-small);
    }

    .product-square-details .details-container {
        display: flex;
        width: 100%;
        min-width: 0;
        flex-direction: column;
    }

    .product-square-details .icon {
        width: var(--icon-size);
        height: var(--icon-size);
    }

    .product-square-details .title {
        margin-top: var(--sl-spacing-2x-small);
        margin-bottom: var(--sl-spacing-2x-small);
        max-width: 100%;
        white-space: normal;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        height: fit-content;
        flex: 1;
    }

    .d-flex {
        gap: 12px;
    }

    .product-square-details .price {
        align-self: flex-start;
        background-color: var(--sl-color-neutral-100);
        color: var(--sl-color-neutral-800);
        font-size: var(--sl-font-size-x-small);
        padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);
        text-align: center;
        border-radius: var(--sl-border-radius-medium);
        white-space: nowrap;
        max-width: 96px;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .product-square-details .product-details-container {
        gap: 0;
        display: flex;
    }

    .product-square-details .product-details-row, .additional-categories, .short-description {
        font-size: var(--sl-font-size-x-small);
        color: var(--sl-color-neutral-600);
    }

    .product-square-details .product-details-row, .additional-categories {
        margin-top: var(--sl-spacing-2x-small);
        margin-bottom: var(--sl-spacing-2x-small);
        max-width: 100%;
    }

    .product-square-details .short-description {
        margin: var(--sl-spacing-small) 0 var(--sl-spacing-small) 0;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
        height: 32px;
    }

    .product-square-details .product-details-row {
        display: flex;
        align-items: center;
        min-width: 0;
    }

    .product-details-row > .main-category {
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .product-square-details sl-rating {
        --symbol-color-active: var(--sl-color-neutral-600);
    }

    .product-square-details .screenshot-container {
        width: 100%;
        height: 100%;
        border-radius: var(--sl-border-radius-medium);
        background-size: cover;
        background-position: center center;
        position: relative;
    }

    .product-square-details .product-image {
        border: 1px solid var(--theme-icon-border-color);
        margin-right: 0;
    }

    game-pass-badge {
        position: absolute;
        right: 0;
    }

    .title-price-container {
        display: flex;
        min-width: 0;
        gap: 12px;
        justify-content: space-between;
    }

    ${d(f.xs)} {
        .product-square-details .short-description {
            height: 30px;
        }
    }
`;var Ga=Object.defineProperty,Va=Object.getOwnPropertyDescriptor,Wa=Object.getPrototypeOf,Ha=Reflect.get,Ka=(t,e,r,a)=>{for(var i=a>1?void 0:a?Va(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Ga(e,r,i),i},Qa=(t,e,r)=>Ha(Wa(t),r,e);let W=class extends O{render(){if(!this.product)return o``;const{iconUrl:t,iconBkg:e,mouseInteractionClass:r,url:a,target:i}=this.getCardBaseDetail(this.product,75),s=this.product.previews||this.product.images?.filter(j=>j.imageType?.toLowerCase()==="screenshot")||this.product.images||[],n=O.getUrlWithWidth(s[0]?.url||t,400),b=this.product.categories?this.product.categories[0]:this.product.subtitle,R=this.consolidateCategories(),$=this.product.description;return o`
            <a href="${a}" target="${i||v}" rel="${i?"nofollow":v}" class="product product-square-details ${$?"":"gap"} ${r}" @click="${this.clicked}" @mousedown="${this.mouseDown}">
                <div class="d-flex">
                    <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1" >
                        <img class="icon product-image" alt="" width="75" height="75" src="${t}" loading="lazy" style="background-color: ${e}" />
                    </sl-animation>                
                    <div class="details-container">
                        <div class="title-price-container">
                            ${this.renderTitle(this.product,1)}
                            <span class="price">${this.product.displayPrice}</span>
                        </div>
                        <div class="product-details-container">
                            <p class="product-details-row">
                                ${this.product.isMoviesOrTVs?"":this.renderRatingIconOrSubtitle(this.product)}
                                ${this.product.isMoviesOrTVs?"":this.renderSquareDetailsDivider(this.product.productFamilyName||"")}
                                <span>${this.product.productFamilyName}</span>
                                ${this.renderSquareDetailsDivider(this.product.subtitle||"",b||"")}
                                <span class="main-category">${this.product.isMoviesOrTVs?this.product.subtitle:b}</span>
                            </p>
                            <span class="additional-categories">${this.product.isMoviesOrTVs?"":R}</span>
                        </div>
                    </div>
                </div>
                ${this.renderShortDescIfAvailable($||"")}
                <div class="screenshot-container" style="background-image: url('${n}');">
                    <game-pass-badge .product="${this.product}" borders="bottom left"></game-pass-badge>
                </div>
            </a>
        `}renderShortDescIfAvailable(t){return t?o`
                <div class="short-description-container">
                    <span class="short-description">${t}</span>
                </div>
            `:o``}renderSquareDetailsDivider(t,e){return t||e?o`
                <sl-divider vertical></sl-divider>
            `:o``}};W.styles=Qa(W,W,"styles").concat(Xa);W=Ka([k("square-details-card")],W);const Za=g`
    /** wide appearance */
    .product-recommend {
        --real-card-width: calc(var(--card-width) - (2 * var(--card-border)) - (2 * var(--card-padding))); /** real width is card width minus the border and padding */
        --real-card-height: var(--card-height);
        --real-card-width: 100px;
        gap: var(--sl-spacing-x-small);
    }
    .product {
        border: none;
        box-shadow: none;
        border-radius: 0;
        background-color: transparent;
        border-bottom: 1px solid var(--theme-border-color);
        align-items: center;
    }
    .product img {
        margin-right: 0;
    }

    .product:hover {
        border-radius: var(--sl-border-radius-large);
    }

    .product-recommend .title {
        font-size: var(--sl-font-size-medium);
    }

    .info-container {
        flex: 1;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-left: var(--sl-spacing-small);
    }

    .price-container {
        display: flex;
    }

    price-badge::part(price-container) {
        background: rgba(0, 0, 0, 0.04);
        color: var(--theme-font-color);
    }
    @media(prefers-color-scheme: dark) {
        price-badge::part(price-container) {
            background: rgba(0, 0, 0, 0.9);
        }
    }
`;var Ja=Object.defineProperty,ti=Object.getOwnPropertyDescriptor,ei=Object.getPrototypeOf,ri=Reflect.get,ai=(t,e,r,a)=>{for(var i=a>1?void 0:a?ti(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&Ja(e,r,i),i},ii=(t,e,r)=>ri(ei(t),r,e);let H=class extends O{render(){const t=this.product;if(!t)return o``;const{iconUrl:e,iconBkg:r,mouseInteractionClass:a,url:i,target:s}=this.getCardBaseDetail(t,75);return o`
            <a href="${i}" target="${s||v}" class="product product-recommend ${a}" @click="${this.clicked}" @mousedown="${this.mouseDown}">
                <sl-animation name="pulse" easing="ease-out" duration="250" ?play=${this.isClicked} iterations="1" >
                    <img class="product-image" alt="" width="75" height="75" src="${e}" loading="lazy" style="background-color: ${r}" />
                </sl-animation>
                <div class="info-container">
                    ${this.renderTitle(t)}
                    ${this.renderSubtitle(t,this.getCategories)}
                </div>
                <div class="price-container">
                    <price-badge .product="${t}" ?is-wrap=${!0}></price-badge>
                </div>
            </a>
        `}};H.styles=ii(H,H,"styles").concat(Za);H=ai([k("recommend-card")],H);const si=g`
    :host {
        display: block;
        position: relative; /** This is needed in order to absolutely position the scrolling buttons. */
        --max-height: "none";
        --card-border: 1px;
        --card-spacing: var(--sl-spacing-small);
    }

    .collection-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .collection-title {
        font-weight: var(--sl-title-font-weight);
        font-size: var(--sl-font-size-large);
        font-family: var(--header-font);
        line-height: 1;
    }

    a.collection-title {
        display: inline-block;
        text-decoration: none;
        user-select: none;
        color: var(--theme-font-color);
        padding: var(--sl-spacing-x-small) var(--sl-spacing-small);
        margin-bottom: var(--sl-spacing-small);
        margin-top: calc(-1 * var(--sl-spacing-small));
    }
    a.collection-title span {
        display: inline-block;
        transition: 200ms ease-out;
        transform: translate3d(calc(-1 * var(--sl-spacing-small)), 0, 0);
    }

    a.collection-title:hover span{
        transform: translate3d(0, 0, 0);
    }
    a.collection-title:hover {
        background-color: var(--theme-collection-title-background-color);
        border-radius: var(--sl-border-radius-large);
        color: var(--theme-collection-title-font-color);
    }

    .collection-title sl-icon {
        font-size: var(--sl-font-size-x-small);
    }
    .collection-title sl-icon::part(svg){
        /** Modify the color and thickness of path in svg. */
        stroke: var(--theme-collection-title-font-color);
        stroke-width: 2;
    }

    .title-skeleton {
        width: 200px;
        height: 27px;
    }

    .desc-skeleton {
        width: 250px;
        height: 25px;
    }

    .see-all-skeleton {
        width: 85px;
        height: 25px;
    }

    .see-all::part(label) {
        align-self: center;
    }

    h3 {
        font-weight: var(--sl-font-weight-semibold);
        font-family: var(--header-font);
    }

    .products-and-scroll-container {
        position: relative; /** Needed for absolute positioning of the scroll buttons */
    }

    .products-container {
        display: flex;
        overflow-y: auto; /* don't do hidden here, as it prevents swipe on touch screens. Instead, we'll set the height of the scrollbar to zero to hide it */
        scroll-behavior: smooth;
        gap: var(--card-spacing);
        max-height: var(--max-height);
        align-items: center;
        scrollbar-width: none; /** Hide the scrollbar */
        -ms-overflow-style: none; /** Hide the scrollbar for IE11 */
        /** Prevents the card's box shadow from being cut off */
        --shadow-spacing: 8px;
        padding: var(--shadow-spacing);
        margin: calc(-1 * var(--shadow-spacing));

        /** COMMENTED OUT: we can't have scroll-snap-type: x mandatory here, as it causes the scroll position to shift when adding new items. 
            To test the bug, uncomment the following line and scroll "Top free apps" until it loads more items. The scroll position will shift as more items are loaded in.
            scroll-snap-type: x mandatory;
        */       

        /* Only do scroll snapping when this class is applied. We apply this class when user is not scrolling. */
        &.scroll-snapping {
            scroll-snap-type: x mandatory;

            /** An inwards offset from the left edge of the scrollport  */
            /** Fix the padding of the container that causes the scroll snap capture position to shift */
            scroll-padding-left: 8px;
            scroll-margin-right: var(--sl-spacing-4x-large); /** When scroll snapping, give us a little padding so we're not right up against the edge. */
        }
    }

    .products-container.wrap {
        flex-wrap: wrap;
    }

    .products-container.direction-row {
        flex-direction: row;
    }

    .products-container.direction-column {
        flex-direction: column;
    }

    .products-container.no-scroll {
        overflow: hidden;
    }

    /** Variables for wide products */
    .products-container.wide {
        --card-height: 75px;
        --card-width: ${L("100%","var(--card-spacing)","var(--wide-card-num)")};
    }

    /** Variables for wide-details products */
    .products-container.wide-details {
        --card-height: 178px;
        --card-width: ${L("100%","var(--card-spacing)","var(--wide-details-card-num)")};
    }
    /** Variables for square products */
    .products-container.square {
        --card-height: 224px;
        --blur-height: 128px;
        --img-height: 80px;
        --blur-value: calc(var(--img-height) / 2);
    }

    /** Variables for tall products */
    .products-container.tall {
        --img-height: calc(var(--card-height) / 1);
        --img-width: var(--card-width);
        --aspect-ratio: 0.55;
    }

    /** Unify the responsiveness of these cards */
    .products-container.square,
    .products-container.tall {
        --card-width: ${L("100%","var(--card-spacing)","var(--square-and-tall-card-num)")};
    }

    .products-container.pdp {
        --card-width: ${L("100%","var(--card-spacing)","var(--related-products-num)")} !important;
    }

    /** Variables for square-details products */
    .products-container.square-details {
        --container-width: calc(100% - (var(--card-spacing) + var(--card-border) + var(--card-border)));
        --card-height: 310px;
        --card-width: ${L("var(--container-width)","var(--card-spacing)","var(--square-details-card-num)","200px")};
    }

    /** Variables for offer products */
    .products-container.offer {
        --card-height: 220px;
        --card-width: ${L("100%","var(--card-spacing)","var(--offer-card-num)")};
    }

    /** Variables for ranked product cards */
    .products-container.ranked {
        --card-width: ${L("100%","var(--card-spacing)","var(--ranked-card-num)")};
        --card-height: 347px;
    }
    .products-container.trending, .products-container.top-list {
        --card-height: 96px;
    }

    /** Variables for recommend products */
    .products-container.recommend {
        --card-height: 52px;
        --card-width: ${L("100%","var(--card-spacing)","var(--recommend-card-num)")};
    }

    .products-container::-webkit-scrollbar {
        height: 0; /* don't actually show the scrollbar */
    }

    .product-card,
    .product-skeleton {
        scroll-snap-align: start;
        scroll-snap-stop: normal;
    }

    /** Enable responsive sizing */
    .product-card {
        width: var(--card-width);
        flex-shrink: 0; /** prevent scaling */
        z-index: 1; /* prevent hero image overtake */
    }

    .product-skeleton {
        /* Height should be normal card height + the padding we use on the product (2x for top padding + bottom padding). */
        --border-radius: var(--sl-border-radius-large);
        border-radius: var(--border-radius);

        /** The height of the skeleton applies the aspect --slider-transition-functionatio and overrides it if a fixed height is set */
        aspect-ratio: var(--aspect-ratio);
        height: var(--card-height);
        min-width: var(--card-width);
        box-shadow: var(--sl-shadow-small);
    }
    
    .wide .product-skeleton {
        height: calc(var(--card-height) + (2 * var(--sl-spacing-medium)) + (2 * var(--card-border)));
    }

    .wide-details .product-skeleton {
        height: calc(var(--card-height) + (2 * var(--card-border)) + (2 * var(--sl-spacing-x-small)));
    }

    .ranked .product-skeleton {
        height: calc(var(--card-height));
    }

    .square .product-skeleton {
        height: var(--card-height);
    }
    .tall .product-skeleton::part(base) {
        aspect-ratio: var(--aspect-ratio);
    }

    .top-list .product-skeleton {
        height: calc(var(--card-height) + 20px);
    }

    .offer .product-skeleton {
        height: calc(var(--card-height) + 58px);
    }

    /** Position the scrolling buttons absolutely so we can put them on the edges of the container */
    scroll-button {
        opacity: 0;
    }

    /* On extra small (xs) screens, don't show the scroll buttons. Use can just use swipe gesture instead. */
    ${d(f.xs)} {
        scroll-button {
            display: none;
        }
    }

    /** Fade in the scroll buttons on hover */
    .products-and-scroll-container:hover scroll-button,
    .products-and-scroll-container:focus-within scroll-button {
        opacity: 1;
    }

    /** Set the style for the collection of products with background */
    .collection-has-bg {
        --collection-spacing: var(--sl-spacing-2x-large);
        display: flex;
        box-sizing: border-box;
        padding: var(--collection-spacing);
        border-radius: var(--sl-border-radius-x-large);
        background-color: var(--sl-color-gray-200);
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
        background-blend-mode: normal, multiply, normal;
        position: relative;
    }
    .collection-has-bg .product-card {
        --common-background-color: var(--theme-collection-background-mixed-color);
    }

    .collection-has-bg::before {
        content: "";
        display: block;
        position: absolute;
        border-radius: var(--sl-border-radius-x-large);
        inset: 0;
        background: linear-gradient(to right, rgba(0, 0, 0, .4),  rgba(0, 0, 0, .3) 30%, rgba(0, 0, 0, .2));
    }
    .collection-has-bg .details{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        color: #fff;
        width: var(--collection-detail-width-percent);
        z-index: 0;
        padding-right: var(--collection-spacing);
        box-sizing: border-box;
    }
    .collection-has-bg h3 {
        font-size: var(--sl-font-size-x-large);
        font-family: var(--header-font);
    }
    .collection-has-bg .desc {
        margin: 0 0 36px;
        font-size: var(--sl-font-size-small);
    }

    .collection-has-bg .desc-skeleton {
        margin-bottom: 36px;
    }
    .collection-has-bg .details sl-button::part(base) {
        background-color: rgba(255, 255, 255, 0.08);
        color: rgb(255, 255, 255);
        border-color: transparent;
        font-weight: var(--sl-font-weight-normal);
        height: var(--sl-input-height-small);
        line-height: var(--sl-input-height-small);
        padding: 0 var(--sl-spacing-medium);
    }
    .collection-has-bg .details sl-button::part(base):hover {
        background-color: rgba(255, 255, 255, 0.1);
    }
    .collection-has-bg .products-and-scroll-container {
        width: calc(100% - var(--collection-detail-width-percent));
        box-sizing: border-box;
        flex: 1;
        z-index: 1;
    }
    .collection-has-bg .products-and-scroll-container product-card {
        --card-border: 0;
    }
    .collection-has-bg .products-container.square {
        max-height: 500px;
    }
    .collection-has-bg .products-container.tall {
        min-height: 250px;
        max-height: var(--collection-of-tall-max-height);
    }


    .collection-has-bg .products-container.square,
    .collection-has-bg .products-container.tall {
        --card-width: ${L("100%","var(--card-spacing)","var(--has-bg-collection-card-num)")};
    }


    ${d(f.sm)} {
        .collection-has-bg .details{
            width: 100%;
        }
        .collection-has-bg .products-and-scroll-container {
            display: none;
        }
    }
    
    @media (min-aspect-ratio: 3/4) {
        .collection-has-bg .products-container {
            flex-wrap: nowrap;
            flex-direction: row;
        }
    }

    /* Maximum aspect ratio */
    /* small screen only show one row */
    ${Rt({"max-aspect-ratio":3/4,"min-width":"767px"})} {
        .collection-has-bg .products-container {
            flex-wrap: wrap;
            flex-direction: column;
        }
    }

    .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(330px, 1fr));
        max-width: 100%;
        min-height: calc(3* (var(--card-height) + (var(--sl-spacing-large) * 2)));
        padding-top: var(--sl-spacing-medium);
        position: relative;
        row-gap: var(--sl-spacing-small);
        justify-content: center;
        place-items: center;
    }

    .small-grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        max-width: 100%;
        padding-top: var(--sl-spacing-medium);
        position: relative;
        row-gap: var(--sl-spacing-small);
        justify-content: center;
        place-items: center;
    }

    .trending-card, .small-trending-card {
        width: 100%;
    }

    ${d(Tt.xxl)} {
        .grid-container {
            grid-template-columns: repeat(3, 1fr);
        }

        .small-grid-container {
            grid-template-columns: repeat(2, 1fr);
        }

        .grid-item, .trending .product-skeleton {
            width: 76%;
        }

        .small-grid-item, .top-list .product-skeleton {
            width: 84%;
        }
    }

    ${d(f.xl+100)} {
        .grid-item, .trending .product-skeleton {
            width: 77%;
        }

        .small-grid-item, .top-list .product-skeleton {
            width: 98.5%;
        }

        .small-grid-container {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            width: 92%;
            margin-left: 4%;
        }
    }

    ${d(1449)} {
        .grid-item.hide {
            display: none;
        }

        .grid-item, .trending .product-skeleton {
            width: 89%;
        }
    }

    ${d(f.xl-150)} {
        .grid-container {
            grid-template-columns: repeat(auto-fit, calc(50% - 10px));
            min-height: calc(4* (var(--card-height) + (var(--sl-spacing-large) * 2.85)));
        }

        .small-grid-container {
            grid-template-columns: repeat(1, 1fr);
        }
    }

    ${d(f.lg)} {
        .grid-container {
            min-height: calc(4* (var(--card-height) + (var(--sl-spacing-large) * 2.05)));
        }
    }

    ${d(f.md-130)} {
        .grid-container {
            grid-template-columns: repeat(auto-fit, calc(110% - 30px));
            min-height: calc(8 * (var(--card-height) + (var(--sl-spacing-large) * 3.22)));
        }

        .grid-item, .trending .product-skeleton {
            width: 88%;
        }
    }

    ${d(f.sm)} {
        .grid-container {
            padding-top: var(--sl-spacing-x-small);
        }

        .small-grid-item, .top-list .product-skeleton {
            width: 80%;
        }
    }

    ${d(f.sm-150)} {
        .grid-container {
            grid-template-columns: repeat(1, 1fr);
        }

        .grid-item, .trending .product-skeleton {
            width: 380px;
        }

        .grid-item:hover {
            background-color: var(--sl-color-neutral-200);
        }

        .trending-card {
            display: flex;
            width: 110%;
        }

        .small.grid-item-container {
            width: auto;
        }
    }

    ${d(f.xs)} {
        .grid-item, .trending .product-skeleton {
            width: 250px;
        }

        .small-grid-item {
            width: auto;
        }
    }
`;class oi{constructor(e){this.callback=e,this.observer=null,this.observerOptions=null}watch(e,r,a=void 0,i=void 0){const s={root:r,threshold:a,rootMargin:i};this.observer||(this.observer=this.createIntersectionObserver(s)),(this.observerOptions?.root!==r||this.observerOptions?.threshold!==a||this.observerOptions?.rootMargin!==i)&&(this.observer.disconnect(),this.observer=this.createIntersectionObserver(s)),this.observer.disconnect(),this.observer.observe(e)}unwatch(){this.observer?.disconnect(),this.observer=null}createIntersectionObserver(e){return this.observerOptions=e,new IntersectionObserver(r=>this.itemObserved(r),e)}itemObserved(e){e.find(a=>a.isIntersecting)&&(this.observer?.disconnect(),this.callback())}}class ni{constructor(e,r,a){this.updateSelected=e,this.container=r,this.layoutDirection=a,this.isRtl=document.documentElement.dir==="rtl"}keyDown(e,r,a){if(!r)return;const i=a.indexOf(r);if(i===-1)return;const s=this.container.value;if(!s)return;const n=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Home","End","Tab"],[b,R,$,D,j,$t,kt]=n;let _=null;switch(e.key){case R:_=this.getAboveProductIndex(i,s);break;case b:_=this.getBelowProductIndex(i,s);break;case $:_=this.getLeftProductIndex(i,s);break;case D:_=this.getRightProductIndex(i,s);break;case j:_=0;break;case $t:_=a.length-1;break;case kt:_=this.tabPressed(i,e);break;default:_=null}const gt=_!==null?a[_]:null;gt&&(this.updateSelected(gt),e.preventDefault())}tabPressed(e,r){return r.shiftKey&&e!==0?0:null}getAboveProductIndex(e,r){return this.layoutDirection==="column"?Math.max(0,e-1):this.findProductIndexMatchingDimensions((a,i)=>Math.abs(a.x-i.x)<10&&i.y<a.y,e,r,"backward")}getBelowProductIndex(e,r){return this.layoutDirection==="column"?e+1:this.findProductIndexMatchingDimensions((a,i)=>Math.abs(a.x-i.x)<10&&i.y>a.y,e,r,"forward")}getLeftProductIndex(e,r){if(this.layoutDirection==="row"){const a=this.isRtl?1:-1;return Math.max(0,e+a)}return this.findProductIndexMatchingDimensions((a,i)=>i.y===a.y&&i.x<a.x,e,r,this.isRtl?"forward":"backward")}getRightProductIndex(e,r){if(this.layoutDirection==="row"){const a=this.isRtl?-1:1;return e+a}return this.findProductIndexMatchingDimensions((a,i)=>i.y===a.y&&i.x>a.x,e,r,this.isRtl?"backward":"forward")}findProductIndexMatchingDimensions(e,r,a,i){const s=a.querySelectorAll(".product-card"),n=s.item(r);if(!n)return null;const b=n.getBoundingClientRect();let $=i==="forward"?r+1:r-1;for(;$>=0&&$<s.length;){const D=s.item($);if(!D)break;const j=D.getBoundingClientRect();if(e(b,j))return $;$+=i==="forward"?1:-1}return null}}var li=Object.defineProperty,ci=Object.getOwnPropertyDescriptor,u=(t,e,r,a)=>{for(var i=a>1?void 0:a?ci(e,r):e,s=t.length-1,n;s>=0;s--)(n=t[s])&&(i=(a?n(e,r,i):n(i))||i);return a&&i&&li(e,r,i),i};let p=class extends Q{constructor(){super(...arguments),this.cardAppearance=null,this.products=null,this.showTitle=!1,this.titleOverride="",this.maxProductCount=null,this.seeAllUrl="",this.wrap="wrap",this.direction="row",this.infiniteScrollDirection="horizontal",this.hasBg=!1,this.collectionName="",this.desc="",this.title="",this.curatedCollectionDetails=null,this.canScrollRight=!1,this.canScrollLeft=!1,this.focusedProduct=null,this.isLoading=!1,this.infiniteScroller=new oi(()=>this.products?.fetch()),this.productsContainerRef=At(),this.keyboardNav=new ni(t=>this.focusedProduct=t,this.productsContainerRef,this.direction==="row"?"row":"column"),this.productsUpdatedListener=t=>this.productsUpdated(t.detail),this.productsLoadingListener=t=>this.isLoading=t.detail,this.firstLoad=!0,this.scrolling=!1}connectedCallback(){super.connectedCallback(),this.products&&(this.products.addEventListener("updated",this.productsUpdatedListener),this.products.addEventListener("loadingchanged",this.productsLoadingListener),this.products.fetch().then(()=>{this.products?.items.length===0&&this.dispatchEvent(new CustomEvent("no-data"))}),this.products?.items.length>0&&this.shadowRoot?.querySelectorAll("sl-animation").forEach(t=>t.play=!0)),document.addEventListener("skipToMain",()=>this.setMainFocus()),mt.addImpressionTracking(this)}disconnectedCallback(){super.disconnectedCallback(),this.infiniteScroller.unwatch(),this.products&&(this.products.removeEventListener("updated",this.productsUpdatedListener),this.products.removeEventListener("loadingchanged",this.productsLoadingListener)),document.removeEventListener("skipToMain",()=>this.setMainFocus()),mt.removeImpressionTracking(this)}updated(t){if(t.has("products")){this.firstLoad=!0;const e=this.products,r=t.get("products");r&&(r.removeEventListener("updated",this.productsUpdatedListener),r.removeEventListener("loadingchanged",this.productsLoadingListener)),e&&(this.isLoading=e.isLoading,e.addEventListener("updated",this.productsUpdatedListener),e.addEventListener("loadingchanged",this.productsLoadingListener),e.fetch())}t.has("direction")&&(this.keyboardNav.layoutDirection=this.direction==="row"?"row":"column")}renderCommonCollection(){return o`
            ${this.renderTitle()}
            ${this.renderCollectionShell()}
        `}renderHasBgCollection(){let t="";this.curatedCollectionDetails?.bgColor?this.curatedCollectionDetails.bgColor.startsWith("#")?t=this.curatedCollectionDetails.bgColor:t=`#${this.curatedCollectionDetails.bgColor}`:t=this.curatedCollectionDetails?"var(--sl-default-black)":"";const e="rgba(0, 0, 0, .3)",r={backgroundImage:`linear-gradient(to right, ${t}, transparent), linear-gradient(${e}, ${e}), url(${this.curatedCollectionDetails?.imageUrl})`};return o`
            <div class="collection-has-bg" style=${U(r)}>
                <div class="details">
                    ${this.renderTitle(!1)}
                    ${this.renderDescription()}
                    ${this.renderCollectionLink()}
                </div>
                <div class="products-and-scroll-container">
                    ${this.renderCollection()}
                </div>
            </div>
        `}renderCollectionShell(){return this.cardAppearance==="trending"?o`
                ${this.renderCollection()}
            `:o`
                <div class="products-and-scroll-container">
                    ${this.renderCollection()}
                </div>
        `}render(){return this.hasBg?this.renderHasBgCollection():this.renderCommonCollection()}renderDescription(){return this.isLoading?o`
                <sl-skeleton class="desc-skeleton" effect="pulse"></sl-skeleton>
            `:o`<p class="desc">${this.desc}</p>`}renderTitle(t=!0,e){if(!this.showTitle)return o``;const r=e||this.titleOverride||this.products?.titleOverride||this.collectionName,a=this.seeAllUrl?new URL(this.seeAllUrl,window.location.origin):null;if(a&&this.curatedCollectionDetails?.imageUrl&&a.searchParams.set("hasHeroImage","true"),!r&&this.isLoading)return o`
                <h3>
                    <sl-skeleton class="title-skeleton" effect="pulse"></sl-skeleton>
                </h3>
            `;const i=h.isRtl()?"chevron-left":"chevron-right";return t&&a?o`
                <a href="${a.toString()}" class="collection-title" telemetry-event-id=${P.SeeAllClicked} aria-label="${h.getFormatted("Common.SeeAllTitle",r)} " >
                    <span>
                        ${r}
                        <sl-icon name="${i}" label="${h.get("Common.SeeAll")}"></sl-icon>
                    </span>
                </a>
            `:o`<h3 class="collection-title">${r}</h3>`}renderCollectionLink(){return this.seeAllUrl?!this.seeAllUrl&&this.isLoading?o`
                <sl-skeleton class="see-all-skeleton" effect="pulse"></sl-skeleton>
            `:o`
            <sl-button class="see-all" variant="text" size="medium"
                       telemetry-event-id=${P.SeeAllClicked}
                       href="${this.seeAllUrl}">
                ${h.get("Common.SeeAll")}
            </sl-button>
        `:o``}renderCollection(){const t=this.cardAppearance||"",e=this.wrap==="wrap"?"wrap":"",r=this.direction==="row"?"direction-row":"direction-column",a=!this.products||this.isLoading,i=this.infiniteScrollDirection==="none"?"no-scroll":"",s=this.cardAppearance==="trending"?"grid-container":this.cardAppearance==="top-list"?"small-grid-container":"";return o`
            <div class="products-container ${t} ${e} ${r} ${i} ${s}"
                part="products-container"
                role="list"
                aria-busy=${a}
                @scroll="${this.productsScrolled}"
                @mouseenter="${this.recalculateScrollability}"
                @keydown="${this.keydownHandler}"
                @scrollend="${this.productsScrollEnded}"
                ${C(this.productsContainerRef)}
            >
                ${this.renderProducts()}
            </div>
            ${this.renderScrollButtons()}
        `}renderProducts(){if(!this.products)return o`${this.renderProductCollectionSkeleton()}`;const t=this.maxProductCount&&!isNaN(this.maxProductCount)&&this.maxProductCount>0?this.products.items.slice(0,this.maxProductCount):this.products.items;return o`
            ${E(t,e=>e.productId,(e,r)=>this.renderProduct(e,r))}
            ${this.renderLoadingProducts()}
        `}renderProduct(t,e){if(!this.cardAppearance)return o``;let r=e<32?e*50:0,a=1e3;this.cardAppearance==="trending"&&!this.firstLoad&&(a=e===8?0:1e3,r=e===8?0:e*50);const i=this.maxProductCount===8?e===7:!1;return this.cardAppearance==="trending"&&i&&(this.firstLoad=!1),o`
            <sl-animation name="fadeIn" easing="ease-out" duration=${a} fill="both" play iterations="1" delay="${r}">
                ${this.renderProductCard(t,e)}
            </sl-animation>
        `}renderProductCard(t,e){const r=e===0?null:-1,a=i=>this.productRendered(e,i);switch(this.cardAppearance){case"wide":return this.renderWideCard(t,r,e,a);case"offer":return this.renderOfferCard(t,r,e,a);case"trending":return this.renderTrendingCard(t,e,r,a);case"wide-details":return this.renderWideDetailsCard(t,r,e,a);case"ranked":return this.renderRankedCard(t,e,r,a);case"top-list":return this.renderTopListCard(t,e,r,a);case"tall":return this.renderTallCard(t,e,r,a);case"square":return this.renderSquareCard(t,e,r,a);case"square-details":return this.renderSquareDetailsCard(t,e,r,a);case"recommend":return this.renderRecommendCard(t,r,e,a);default:return this.renderDefaultCard(t,e,r,a)}}renderDefaultCard(t,e,r,a){return o`
            <product-card
                appearance="${y(this.cardAppearance===null?void 0:this.cardAppearance)}"
                card-index=${e+1}
                .product=${t}
                role="listitem"
                class="product-card"
                part="product-card"
                collection-size=${y(this.products?.items.length)}
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemType": "${t.productFamilyName}", "cardType": "${this.cardAppearance}", "slot": ${e+1}, "redirect": ${!!t.redirectUrl}, "type": "product" }'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tab-index-stop="${y(r??void 0)}"
                ${C(a)}>
            </product-card>
        `}renderWideCard(t,e,r,a){return o`
            <wide-card
                card-index=${r+1}
                .product=${t}
                role="listitem"
                class="product-card"
                part="product-card"
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "wide", "slot": ${r+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tabindex="${y(e??void 0)}"
                ${C(a)}>
            </wide-card>
        `}renderOfferCard(t,e,r,a){return o`
            <offer-card
                card-index=${r+1}
                .product=${t}
                class="product-card"
                part="product-card"
                role="listitem"
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "offer", "slot": ${r+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tabindex="${y(e??void 0)}"
                ${C(a)}>
            </offer-card>
        `}renderTrendingCard(t,e,r,a){return o`
            <div class="grid-item ${e===8?" hide":""}">
                <trending-card
                    .product=${t}
                    .gridIndex=${e}
                    @focus="${()=>this.focusedProduct=t}"
                    ?highlighted=${this.focusedProduct===t}
                    class="product-card trending-card"
                    part="product-card"
                    role="listitem"
                    tabindex="${y(r??void 0)}"
                    direction="${h.isRtl()?"rtl":"ltr"}"
                    ${C(a)}>
                </trending-card>
            </div>
        `}renderTopListCard(t,e,r,a){return o`
            <div class="small-grid-item">
                <trending-card
                    .product=${t}
                    .gridIndex=${e}
                    @focus="${()=>this.focusedProduct=t}"
                    ?highlighted=${this.focusedProduct===t}
                    class="product-card small-trending-card"
                    part="product-card"
                    role="listitem"
                    card-size="small"
                    tabindex="${y(r??void 0)}"
                    ${C(a)}>
                </trending-card>
            </div>
        `}renderWideDetailsCard(t,e,r,a){return o`
            <wide-details-card
                card-index=${r+1}
                .product=${t}
                class="product-card"
                part="product-card"
                role="listitem"
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "offer", "slot": ${r+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tabindex="${y(e??void 0)}"
                ${C(a)}>
            </wide-details-card>
        `}renderTallCard(t,e,r,a){return o`
            <tall-card
                .product=${t}
                card-index=${e+1}
                class="product-card"
                part="product-card"
                role="listitem"
                collection-size=${y(this.products?.items.length)}
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "tall", "slot": ${e+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tab-index-stop="${y(r??void 0)}"
                ${C(a)}>
            </tall-card>
        `}renderSquareCard(t,e,r,a){return o`
            <square-card
                .product=${t}
                card-index=${e+1}
                class="product-card"
                part="product-card"
                role="listitem"
                collection-size=${y(this.products?.items.length)}
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "square", "slot": ${e+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tab-index-stop="${y(r??void 0)}"
                ${C(a)}>
            </square-card>
        `}renderSquareDetailsCard(t,e,r,a){return o`
            <square-details-card
                .product=${t}
                card-index=${e+1}
                class="product-card"
                part="product-card"
                role="listitem"
                collection-size=${y(this.products?.items.length)}
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "square-details", "slot": ${e+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tab-index-stop="${y(r??void 0)}"
                ${C(a)}>
            </square-details-card>
        `}renderProductCollectionSkeleton(){return this.cardAppearance==="trending"&&this.maxProductCount===9?o`
                ${E([1,2,3,4,5,6,7,8,9],()=>this.renderLoadingProduct())}
            `:this.cardAppearance==="top-list"&&this.maxProductCount===6?o`
                ${E([1,2,3,4,5,6],()=>this.renderLoadingProduct())}
            `:o`
            ${E([1,2,3,4,5,6,7,8],()=>this.renderLoadingProduct())}
        `}renderRankedCard(t,e,r,a){return o`
            <ranked-card
                .product=${t}
                card-index=${e+1}
                class="product-card"
                part="product-card"
                role="listitem"
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "ranked", "slot": ${e+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tabindex="${y(r??void 0)}"
                ${C(a)}>
            </ranked-card>
        `}renderRecommendCard(t,e,r,a){return o`
            <recommend-card
                card-index=${r+1}
                .product=${t}
                role="listitem"
                class="product-card"
                part="product-card"
                telemetry-event-id=${P.ProductCardClicked}
                telemetry-data='{ "itemId": "${t.productId}", "itemName": "${t.title}", "itemType": "${t.productFamilyName}", "cardType": "wide", "slot": ${r+1}, "redirect": ${!!t.redirectUrl}, "type": "product"}'
                @focus="${()=>this.focusedProduct=t}"
                ?highlighted=${this.focusedProduct===t}
                tabindex="${y(e??void 0)}"
                ${C(a)}>
            </recommend-card>
        `}renderLoadingProducts(){if(!this.isLoading&&this.products!==null)return o``;let t=this.maxProductCount||12;return this.maxProductCount&&this.products&&this.products.items.length>0&&(t=Math.max(0,t-this.products.items.length)),o`${E(Array.from({length:t}),()=>this.renderLoadingProduct())}`}renderLoadingProduct(){return o`
            <sl-skeleton class="product-skeleton" effect="pulse"></sl-skeleton>
        `}renderScrollButtons(){if(!this.products||this.infiniteScrollDirection!=="horizontal")return o``;const t=this.canScrollLeft&&this.products.items.length?"":"d-none",e=this.canScrollRight&&this.products.items.length?"":"d-none";return o`
            <scroll-button
                direction="left"
                class="scroll-left-btn ${t}"
                telemetry-event-id="CollectionScrollLeftClicked"
                @click="${this.scrollProductsLeft}"
            ></scroll-button>
            <scroll-button
                direction="right"
                class="scroll-right-btn ${e}"
                telemetry-event-id="CollectionScrollRightClicked"
                @click="${this.scrollProductsRight}"
            ></scroll-button>
        `}productsUpdated(t){this.collectionName=t.title||t.previousTitle||"",this.desc=t.description||"",this.curatedCollectionDetails=t.curatedCollectionDetails,this.requestUpdate()}scrollProductsLeft(){this.scrollProducts("l")}scrollProductsRight(){this.scrollProducts("r")}scrollProducts(t){let e=Array.from(this.productsContainerRef.value?.querySelectorAll(".product-card, .product-skeleton")||[]);if(h.isRtl()&&(e=e.reverse()),e&&this.productsContainerRef.value){const r=this.productsContainerRef.value.scrollLeft,a=8,i=this.productsContainerRef.value.scrollLeft+(this.productsContainerRef.value.clientWidth-a*2);if(t==="l"){const s=e.findLast(n=>n.offsetLeft+n.offsetWidth<=r);s&&(this.productsContainerRef.value.scrollLeft-=r-s.offsetLeft)}else if(t==="r"){const s=e.find(n=>n.offsetLeft>=i);s&&(this.productsContainerRef.value.scrollLeft+=s.offsetLeft+s.offsetWidth-i)}}}productsScrolled(){this.scrolling||(window.requestAnimationFrame(()=>{this.productsContainerRef.value&&this.productsContainerRef.value?.classList?.contains("scroll-snapping")&&this.productsContainerRef.value?.classList?.remove("scroll-snapping"),this.scrolling=!1}),this.scrolling=!0)}productsScrollEnded(){this.scrolling||window.requestAnimationFrame(()=>{this.recalculateScrollability(),this.productsContainerRef.value&&!this.productsContainerRef.value?.classList?.contains("scroll-snapping")&&this.productsContainerRef.value?.classList?.add("scroll-snapping")})}keydownHandler(t){this.keyboardNav.keyDown(t,this.focusedProduct,(this.maxProductCount?this.products?.items.slice(0,this.maxProductCount):this.products?.items)||[]),this.recalculateScrollability()}productRendered(t,e){if(this.products&&t===this.products.items.length-1&&e){const a=e;if(a&&this.infiniteScrollDirection&&this.infiniteScrollDirection!=="none"){const i=this.infiniteScrollDirection==="horizontal"?this.productsContainerRef.value:null;this.infiniteScroller.watch(a,i,.1)}}}recalculateScrollability(){const t=this.productsContainerRef.value;h.isRtl()?(this.canScrollLeft=this.isLoading||!!t&&Math.abs(t.scrollLeft)+t.clientWidth<t.scrollWidth,this.canScrollRight=!!t&&t.scrollLeft<0):(this.canScrollLeft=!!t&&t.scrollLeft>0,this.canScrollRight=this.isLoading||!!t&&t.scrollLeft+t.clientWidth<t.scrollWidth)}setMainFocus(){this.productsContainerRef.value?.querySelector(".product-card[card-index='1']")?.focus()}};p.styles=[M,si];u([l({attribute:"card-appearance"})],p.prototype,"cardAppearance",2);u([l({type:Object})],p.prototype,"products",2);u([l({attribute:"show-title",type:Boolean})],p.prototype,"showTitle",2);u([l({attribute:"title-override"})],p.prototype,"titleOverride",2);u([l({attribute:"max-product-count",type:Number})],p.prototype,"maxProductCount",2);u([l({attribute:"see-all-url"})],p.prototype,"seeAllUrl",2);u([l()],p.prototype,"wrap",2);u([l()],p.prototype,"direction",2);u([l({attribute:"infinite-scroll"})],p.prototype,"infiniteScrollDirection",2);u([l({attribute:"has-bg",type:Boolean})],p.prototype,"hasBg",2);u([x()],p.prototype,"collectionName",2);u([x()],p.prototype,"desc",2);u([x()],p.prototype,"title",2);u([x()],p.prototype,"curatedCollectionDetails",2);u([x()],p.prototype,"canScrollRight",2);u([x()],p.prototype,"canScrollLeft",2);u([x()],p.prototype,"focusedProduct",2);u([x()],p.prototype,"isLoading",2);u([dt({passive:!0})],p.prototype,"productsScrolled",1);u([dt({passive:!0})],p.prototype,"productsScrollEnded",1);p=u([k("product-collection")],p);const bi=Object.freeze(Object.defineProperty({__proto__:null,get ProductCollection(){return p}},Symbol.toStringTag,{value:"Module"}));export{I as D,p as P,O as a,vt as b,vi as g,it as o,bi as p,si as s};
