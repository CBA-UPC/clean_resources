'use strict';(();
(function(h,f){var c=[/localhost:8090/,/localhost:8100/,/localhost:8443/,/localhost\.rts\.ch.*/],d=[/hp-dev\.rts\.ch.*/],b=[/wise-dev\.rts\.ch.*/,/dxypb8o98j27\.cloudfront\.net.*/,/[^\.\s]*\.ecedev\.rts\.ch.*/,/[^\.\s]*\.ecetest\.rts\.ch.*/,/rts-play-local\.rts\.ch.*/,/local\.r\.rts\.ch.*/,/test\.r\.rts\.ch.*/,/srgplayer-rts\.test\.srf\.ch.*/,/srgplayer-rts\.test\.rts\.ch.*/,/dev\.ergopix\.com.*/],a=[/hbdemo\.rts\.ch.*/],e=[/wise-demo\.rts\.ch.*/],m=[/wise-int\.rts\.ch.*/],g=[/hp-beta\.rts\.ch.*/],
l=[/wise-stage\.rts\.ch.*/,/d1cwcuqpogauik\.cloudfront\.net.*/,/staging\.programmes\.rts\.ch.*/,/[^\.\s]*\.ecestage\.rts\.ch.*/,/stage\.r\.rts\.ch.*/,/srgplayer-rts\.stage\.srf\.ch.*/,/srgplayer-rts\.stage\.rts\.ch.*/],k={SETTINGS:{ajaxPath:"/hbv7/ajax",nativeQueryName:"native",cookieConsentChangedKey:"cookie-consent-changed",userLocalStorageKey:"marts-user",peachInfosDefaultCookieName:"peach_infos"},ENV:{isProd:function(){return k.URI.matchHostname(c)?!1:k.URI.matchHostname(b)||k.URI.matchHostname(d)?
!1:k.URI.matchHostname(e)||k.URI.matchHostname(a)?!1:k.URI.matchHostname(m)?!1:k.URI.matchHostname(l)||k.URI.matchHostname(g)?!1:!0}},URI:{matchHostname:function(a){for(var b=0,e=h.location.host;b<a.length;b+=1)if(e.match(a[b]))return!0;return!1},getOrigin:function(t){return"undefined"!==typeof HUMMINGBIRD_ORIGIN?HUMMINGBIRD_ORIGIN:k.URI.matchHostname(c)?h.location.origin:k.URI.matchHostname(d)?"https://hp-dev.rts.ch":k.URI.matchHostname(a)?"https://hbdemo.rts.ch":k.URI.matchHostname(g)?"https://hp-beta.rts.ch":
k.URI.matchHostname(b)?"https://wise-dev.rts.ch":k.URI.matchHostname(e)?"https://wise-demo.rts.ch":k.URI.matchHostname(m)?"https://wise-int.rts.ch":k.URI.matchHostname(l)?"https://wise-stage.rts.ch":t?"https://www.rts.ch":"https://hummingbird.rts.ch"},rtsOriginUrl:function(a,b){var e=k.URI.getOrigin(!0);b&&(e+=(0===b.lastIndexOf("/",0)?"":"/")+b);a&&(e+=(0===a.lastIndexOf("/",0)?"":"/")+a);return e},rtsAjaxUrl:function(a){return k.URI.hummingbirdOriginUrl(a,k.SETTINGS.ajaxPath)},hummingbirdOriginUrl:function(a,
b){var e=k.URI.getOrigin(!1);b&&(e+=(0===b.lastIndexOf("/",0)?"":"/")+b);a&&(e+=(0===a.lastIndexOf("/",0)?"":"/")+a);return e},hummingbirdAjaxUrl:function(a){return k.URI.hummingbirdOriginUrl(a,k.SETTINGS.ajaxPath)},getQueryStringByName:function(a,b){b||(b=h.location.href);a=a.replace(/[\[\]]/g,"\\$\x26");var e=(new RegExp("[?\x26]"+a+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(b);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},addQueryString:function(a,b){var e=a&&-1!==a.indexOf("?"),
g=b,e=e?"\x26":"?";if(g){for(;"?"===g.charAt(0)||"\x26"===g.charAt(0);)g=g.substr(1);a+=e+g}return a},serializeQueryParams:,DOM:{ready:loopNodeList:function(a,b){for(var e=[],g=0;g<a.length;g+=1)e.push(a[g]);for(g=0;g<e.length;g+=1)b(e[g])},loopSelector:function(a,
b,e){a=(e||f).querySelectorAll(a);for(e=0;e<a.length;e+=1)b(a[e],e)},loopReverseSelector:function(a,b,e){a=(e||f).querySelectorAll(a);for(e=a.length;e;)--e,b(a[e],e)},matches:function(a,b){try{return(a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector).call(a,b)}catch(e){}return null},closest:function(a,b){if(!f.documentElement.contains(a))return null;do{if(k.DOM.matches(a,b))return a;a=a.parentElement||a.parentNode}while(null!==a);
return null},scrollTo:function(a,b,e,g){var d=b||c=e||"easeInCubic",l=g||500,m=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)},k=h.pageYOffset,y="now"in h.performance?performance.now():(new Date).getTime(),q={linear:easeInQuad:easeOutQuad:easeInOutQuad:easeInCubic:easeOutCubic:easeInOutCubic:easeInQuart:easeOutQuart:easeInOutQuart:easeInQuint:easeOutQuint:easeInOutQuint:;b=Math.max(f.body.scrollHeight,f.body.offsetHeight,f.documentElement.clientHeight,
f.documentElement.scrollHeight,f.documentElement.offsetHeight);e=h.innerHeight||f.documentElement.clientHeight||f.getElementsByTagName("body")[0].clientHeight;a="number"===typeof a?a:a.offsetTop;var r=Math.round(b-a<e?b-e:a),u=function(){var a="now"in h.performance?performance.now():(new Date).getTime(),a=q[c](Math.min(1,(a-y)/l));h.scroll(0,Math.ceil(a*(r-k)+k));h.pageYOffset===r?d&&d():m(u)};u()},isInViewport:function(a){for(var b=a.offsetTop,e=a.offsetLeft,g=a.offsetWidth,d=a.offsetHeight;a.offsetParent;)a=
a.offsetParent,b+=a.offsetTop,e+=a.offsetLeft;return b>=h.pageYOffset&&e>=h.pageXOffset&&b+d<=h.pageYOffset+h.innerHeight&&e+g<=h.pageXOffset+h.innerWidth}},ARRAY:{joinObj:function(a,b,e){for(var g=[],d=0;d<a.length;d++)g.push(a[d][b]);return g.join(e)}},TEXTS:{patternAccent:[/\u00e9/g,/\u00e8/g,/\u00ea/g,/\u00eb/g,/\u00e7/g,/\u00e0/g,/\u00e2/g,/\u00e4/g,/\u00ee/g,/\u00ef/g,/\u00f9/g,/\u00fb/g,/\u00f4/g,/\u00f3/g,/\u00f6/g],patternReplaceAccent:"eeeecaaaiiuuooo".split(""),stripAccent:function(a){for(var b=
0;b<k.TEXTS.patternAccent.length;b++)a=a.replace(k.TEXTS.patternAccent[b],k.TEXTS.patternReplaceAccent[b]);return a},wrap:function(a,b,e){for(var g=a.querySelectorAll(b+" .mark"),d=0;d<g.length;d++){var c=g[d];if(c){var l=c.parentNode;if(l){for(;c.firstChild;)l.insertBefore(c.firstChild,c);l.removeChild(c)}}}if(1<=e.length)for(a=a.querySelectorAll(b),b=0;b<a.length;b++)for(g=a[b],d=k.TEXTS.stripAccent(g.innerText),c=new RegExp(k.TEXTS.stripAccent(e),"ig");null!=(l=c.exec(d));)l=g.innerText.substring(l.index,
l.index+e.length),g.innerHTML=g.innerText.replace(l,"\x3cem class\x3d'mark'\x3e"+l+"\x3c/em\x3e")}},COOKIE:{_cookieDomain:function(){return k.URI.matchHostname(c)?";domain\x3d"+h.location.hostname:-1!==h.location.hostname.indexOf(".rts.ch")?";domain\x3d.rts.ch":""},get:function(a){return(a=f.cookie.match("(^|;)\\s*"+a+"\\s*\x3d\\s*([^;]+)"))?decodeURI(a.pop()):null},set:function(a,b,e,g){var d=new Date,c=k.COOKIE._cookieDomain();d.setTime(d.getTime()+864E5*e);f.cookie=a+"\x3d"+encodeURI(b)+""+c+"; path\x3d/;expires\x3d"+
d.toGMTString()+(g?";secure":"")},deleteCookie:function(a){var b=k.COOKIE.get(a),e=k.COOKIE._cookieDomain();null!==b&&(f.cookie=a+"\x3d"+e+";expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;")}},AJAX:{get:function(a,b,e,g,d){var c=new XMLHttpRequest;c.open("GET",a);g&&(c.withCredentials=!0);c.onreadystatechange=function(){4===c.readyState&&200<=c.status&&299>=c.status?b(c.responseText):4===c.readyState&&(200>=c.status||299<=c.status)&&e&&e(c.status,c.responseText)};"object"===typeof d&&0<d.length&&
d.forEach(function(a){c.setRequestHeader(a.name,a.value)});c.setRequestHeader("Accept-Language","fr");c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.send();return c},ajaxGET:function(a,b,e,g){var d=new XMLHttpRequest;d.open("GET",a);e&&(d.withCredentials=!0);d.onreadystatechange=function(){b&&(4===d.readyState&&200<=d.status&&299>=d.status?b(!0,d.responseText,d.status):4===d.readyState&&400<=d.status&&b(!1,d.responseText,d.status))};"object"===typeof g&&0<g.length&&g.forEach(function(a){d.setRequestHeader(a.name,
a.value)});d.setRequestHeader("Accept-Language","fr");d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.send();return d},ajaxPOST:function(a,b,e,g,d){return k.AJAX._ajax("POST",a,b,"json",e,g,d)},ajaxDELETE:function(a,b,e,g,d){return k.AJAX._ajax("DELETE",a,b,"json",e,g,d)},formPOST:function(a,b,e,g,d){return k.AJAX._ajax("POST",a,b,"form",e,g,d)},postFormEncrypted:function(a,b,e,g,d){var c="string"===typeof b?b:Object.keys(b).map(.join("\x26"),
l=new XMLHttpRequest;l.open("POST",a);g&&(l.withCredentials=!0);l.onreadystatechange=function(){e&&(4===l.readyState&&200<=l.status&&299>=l.status?e(!0,l.responseText,l.status):4===this.readyState&&(200>=l.status||299<=l.status)&&e(!1,l.responseText,l.status))};"object"===typeof d&&0<d.length&&d.forEach(function(a){l.setRequestHeader(a.name,a.value)});l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset\x3dUTF-8");l.setRequestHeader("Accept-Language","fr");l.send(c);return l},
_ajax:function(a,b,e,g,d,c,l){var m=null,k=new XMLHttpRequest;k.open(a,b,!0);e&&("json"===g?(k.setRequestHeader("Content-Type","application/json; charset\x3dUTF-8"),m=JSON.stringify(e)):(m=new FormData,Object.keys(e).map());c&&(k.withCredentials=!0);"object"===typeof l&&0<l.length&&l.forEach(;d&&(k.onreadystatechange=function(a){this.readyState===XMLHttpRequest.DONE&&(200<=this.status&&299>=this.status?d(!0,this.responseText,
this.status):d(!1,this.responseText,this.status))});k.setRequestHeader("Accept-Language","fr");k.setRequestHeader("X-Requested-With","XMLHttpRequest");k.send(m);return k},loadHTML:function(a,b,e,g,d){e=e?k.URI.hummingbirdAjaxUrl(a):a;if("string"!==typeof a)throw Error("Invalid URL: ",a);if("function"!==typeof g)throw Error("Callback provided is not a function: ",g);var c=new XMLHttpRequest,l=!1;c.onabort=c.onerror=function(){l=!0;g(null,c.statusText)};c.onreadystatechange=function(){if(4===c.readyState&&
!l){l=!0;var a;try{a=null==b?c.responseXML.querySelector("body").firstChild:c.responseXML.querySelector(b),g(a)}catch(e){g(null,e)}}};c.open("GET",e,!0);c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.responseType="document";d&&(c.withCredentials=!0);c.send()}},USER:{getUserInfosCookieName:function(){return"undefined"!==typeof _rts_hb_peachInfos_cookie?_rts_hb_peachInfos_cookie:k.SETTINGS.peachInfosDefaultCookieName},getUserId:function(){var a=k.COOKIE.get(k.USER.getUserInfosCookieName()),
b;if(a)try{return b=JSON.parse(decodeURIComponent(a)),b.userId}catch(e){}return null},isLoggedIn:function(){return null!==k.COOKIE.get(k.USER.getUserInfosCookieName())},getUser:function(a){k.COOKIE.get("update-marts-session")&&k.USER.resetLocalUserInfo();var b=k.USER._parseUser(),e=k.USER.getUserId(),g=k.USER.isLoggedIn();if(null==b||null==e||b.id.toString()!==e.toString())k.USER.resetLocalUserInfo(),b=null;a&&(g&&b?a(b):g&&!b?k.USER._getUserInfo(:b&&!g?(k.USER.resetLocalUserInfo(),
a(null)):a(b))},resetLocalUserInfo:function(a){k.supportsSessionStorage()&&sessionStorage.removeItem(k.SETTINGS.userLocalStorageKey);a&&a()},_getUserInfo:function(a){k.AJAX.ajaxGET(k.URI.hummingbirdOriginUrl("/api/profile/v1/userinfo"),function(b,e){var g=null;b&&e&&(k.supportsSessionStorage()&&sessionStorage.setItem(k.SETTINGS.userLocalStorageKey,e),g=k.USER._parseUser());a&&a(b,g)},!0)},_parseUser:function(){try{if(k.supportsSessionStorage()){var a=sessionStorage.getItem(k.SETTINGS.userLocalStorageKey);
if(a){var b=JSON.parse(a),e=b.id,g=b.displayName,d=b.login;if("undefined"!==typeof e)return{id:e,displayName:g,email:d}}}}catch(c){console.error("Unable to get userinfo")}return null}},OVERLAY:{currentOverlay:null,show:function(a,b,e){var g=parent.document||f,d=f.createElement("div");d.className="rts-overlay-bg rts-overlay-hide-action "+(void 0!==e?e:"");k.OVERLAY.currentOverlay=d;b?k.OVERLAY.update(b):(b=f.createElement("div"),b.className="rts-overlay-content",e=f.createElement("div"),e.className=
"rts-overlay-header",e.innerText=a,b.appendChild(e),a=f.createElement("div"),a.className="rts-overlay-loading",b.appendChild(a),e=f.createElement("div"),e.className="loading-animation",a.appendChild(e),d.appendChild(b));g.body.appendChild(d);g.body.classList.add("rts-noscroll");setTimeout(function(){d.classList.add("show")},5);return d},update:function(a){for(var b=k.OVERLAY.currentOverlay;b.firstChild;)b.removeChild(b.firstChild);a&&b.appendChild(a)},hide:function(a){var b=parent.document||f,e=b.querySelectorAll(".rts-overlay-bg");
for(a=0;a<e.length;a++)e[a].classList.remove("show");setTimeout(function(){e=b.querySelectorAll(".rts-overlay-bg");for(var a=0;a<e.length;a++){var g=e[a];g&&g.parentNode.removeChild(g)}},200);b.body.classList.remove("rts-noscroll")}},POPPER:{showPopOver:function(a,b){var e=parent.document||f,g=e.createElement("div"),e=e.createElement("div");g.innerHTML=b;g.classList.add("rts-popover-container");f.body.appendChild(g);k.POPPER.popperInstance=Popper.createPopper(a,g,{placement:"bottom",modifiers:[{name:"offset",
options:{offset:[0,20]}},{name:"flip",options:{fallbackPlacements:["top","left","right"]}}]});e.classList.add("rts-popover-backdrop");f.body.appendChild(e);e.addEventListener("click",k.POPPER.hide)},hide:function(){var a=f.querySelectorAll(".rts-popover-backdrop"),b=f.querySelectorAll(".rts-popover-container");null!==k.POPPER.popperInstance&&(k.POPPER.popperInstance.destroy(),k.POPPER.popperInstance=null);0<a.length&&k.DOM.loopNodeList(a,function(a){a.parentNode.removeChild(a)});0<b.length&&k.DOM.loopNodeList(b,
function(a){a.parentNode.removeChild(a)})}},DIALOG:{showTemplate:function(a,b,e,g,d,c,l){var m=parent.document||f,h=m.createElement("div"),y=m.createElement("div"),q=m.createElement("div"),r=m.createElement("div"),u=m.createElement("div"),x=m.createElement("h5"),z=m.createElement("div"),A=m.createElement("div"),B=m.createElement("button"),C=m.createElement("button"),m=m.createElement("i");k.DIALOG.close();h.classList.add("rts-modal-backdrop","fade");y.classList.add("rts-modal","fade");e&&(h.classList.add(e),
y.classList.add(e));q.classList.add("rts-modal-dialog");y.appendChild(q);r.classList.add("rts-dialog-content");q.appendChild(r);u.classList.add("rts-dialog-header");x.classList.add("dialog-title");x.innerText=a?a:"";u.appendChild(x);m.classList.add("rtsp");m.classList.add("rtsp_close");m.addEventListener("click",k.DIALOG.close);u.appendChild(m);r.appendChild(u);z.classList.add("rts-dialog-body");z.innerHTML=b;r.appendChild(z);g&&(A.classList.add("rts-dialog-footer"),r.appendChild(A),B.classList.add("rts-btn",
"inline","close","btn-large"),B.setAttribute("type","button"),B.innerText="Annuler",A.appendChild(B),C.classList.add("rts-btn","inline","destructive","btn-large"),C.setAttribute("type","button"),C.innerText=d?d:"Confirmer",A.appendChild(C),l?B.addEventListener("click",l):B.addEventListener("click",k.DIALOG.close),c&&C.addEventListener("click",c));f.body.appendChild(h);f.body.appendChild(y);setTimeout(function(){h.classList.add("show");y.classList.add("show")},20)},show:function(a,b,e,g,d){var c=parent.document||
f,l=c.createElement("div"),m=c.createElement("div"),h=c.createElement("div"),y=c.createElement("div"),q=c.createElement("div"),r=c.createElement("h5"),u=c.createElement("div"),x=c.createElement("div"),z=c.createElement("button"),A=c.createElement("button");k.DIALOG.close();l.classList.add("rts-modal-backdrop","fade");m.classList.add("rts-modal","fade");h.classList.add("rts-modal-dialog");m.appendChild(h);y.classList.add("rts-dialog-content");h.appendChild(y);q.classList.add("rts-dialog-header");q.classList.add("rts-dialog-header-dark");
r.classList.add("dialog-title");r.innerText=a?a:"";q.appendChild(r);y.appendChild(q);u.classList.add("rts-dialog-body");"string"===typeof b?(a=c.createElement("p"),a.innerHTML=b?b:"",u.appendChild(a)):u.appendChild(b);y.appendChild(u);x.classList.add("rts-dialog-footer");y.appendChild(x);z.classList.add("rts-btn","inline","close","btn-large");z.setAttribute("type","button");z.innerText="Annuler";x.appendChild(z);A.classList.add("rts-btn","inline","destructive","btn-large");A.setAttribute("type","button");
A.innerText=e?e:"Confirmer";x.appendChild(A);d?z.addEventListener("click",d):z.addEventListener("click",k.DIALOG.close);g&&A.addEventListener("click",g);f.body.appendChild(l);f.body.appendChild(m);setTimeout(function(){l.classList.add("show");m.classList.add("show")},20)},close:function(){var a=f.querySelectorAll(".rts-modal-backdrop"),b=f.querySelectorAll(".rts-modal");0<b.length&&k.DOM.loopNodeList(b,function(a){a.classList.remove("show")});0<a.length&&k.DOM.loopNodeList(a,;
(0<b.length||0<a.length)&&setTimeout(k.DIALOG.remove,300)},remove:function(){var a=f.querySelectorAll(".rts-modal-backdrop"),b=f.querySelectorAll(".rts-modal");0<b.length&&k.DOM.loopNodeList(b,function(a){a.parentNode.removeChild(a)});0<a.length&&k.DOM.loopNodeList(a,function(a){a.parentNode.removeChild(a)})}},TOAST:{show:function(a,b,e,g){var d=f.querySelectorAll(".rts-toast");if(0===d.length)k.TOAST._showToast(a,b,e,g);else{for(g=0;g<d.length;g++)k.TOAST._hideToast(d[g],100);setTimeout(200)}},hide:function(){var a=this;a&&(a.classList.remove("show"),setTimeout(function(){try{a.parentNode.removeChild(a)}catch(b){}},300))},_showToast:function(a,b,e,g){var d=parent.document||f,c=d.createElement("div");c.className="rts-toast "+(void 0!==g?g:"from-bottom");c.addEventListener("click",k.TOAST.hide);g=d.createElement("div");g.innerHTML=a;g.className="rts-toast-content "+(void 0!==b?b:"default");c.appendChild(g);d.body.appendChild(c);d.body.classList.add("rts-noscroll");setTimeout(function(){c.classList.add("show")},
20);k.TOAST._hideToast(c,e)},_hideToast:function(a,b){var e=parent.document||f;b?(setTimeout(function(){a.classList.remove("show")},b),setTimeout(b+500)):(a.classList.remove("show"),a.parentNode.removeChild(a));e.body.classList.remove("rts-noscroll")}},PAGES:{getPageId:getRefererPageId:function(a){if(0<f.referrer.indexOf("rts")){var b=f.createElement("a");b.href=f.referrer;return k.PAGES._formatPageId(a,
b.pathname)}return null},getPageIndex:function(a){var b=null;a=a.match(new RegExp(/(\/page\/(\d+))|(((p|page)=(\d+)))/g));null!==a&&(b=a[0].match(new RegExp(/(\d+)/g))[0]);return b},removeScript:function(a){try{var b=f.getElementById(a);b&&b.parentNode.removeChild(b)}catch(e){}},installScript:function(a,b){k.PAGES.removeScript(a);var e=f.createElement("script");e.setAttribute("id",a);e.setAttribute("language","javascript");e.setAttribute("type","text/javascript");e.setAttribute("src",b);e.setAttribute("async",
!0);f.head.appendChild(e)},TC:{tc_page_id:null,tc_page_referer_id:null,reset:trackPageView:function(a){a?tc_vars&&k.USER.getUser(function(a){var b=h.HUMMINGBIRD.PAGES.TC.tc_page_id,e=h.HUMMINGBIRD.PAGES.TC.tc_page_referer_id;b&&(tc_vars.page_id=b);e&&(tc_vars.page_id_referrer=e);b=null!=a&&null!=a.id;tc_vars.user_is_logged=b.toString();tc_vars.user_id=b?a.id:null;k.PAGES.TC.enrichPageViewVars();k.PAGES.installScript("tcScript",
"https://colibri-js.akamaized.net/penguin/tc_RTS_13.js")}):wt&&(k.PAGES.TC.enrichPageViewVars(),wt.sendinfo())},enrichPageViewVars:function(){var a=k.STORAGE.getItem("rts-click-tracking-data");k.STORAGE.removeItem("rts-click-tracking-data");tc_vars&&a&&(a=JSON.parse(a),tc_vars.srg_mod1=a.srg_mod1,tc_vars.srg_mod2=a.srg_mod2,tc_vars.srg_mod3=a.srg_mod3,tc_vars.srg_mod4=a.srg_mod4)},trackHiddenEvent:function(a,b,e,g,d,c,l,m,k,f){var q={},r=null;"undefined"!==typeof wt&&null!=b&&(r=wt.contentId,e&&(q[1]=
e),g&&(q[2]=g),b&&(q[3]=b),d&&(q[4]=d),c&&(q[41]=c),l&&(q[42]=l),m&&(q[43]=m),k&&(q[44]=k),f&&(q[45]=f),null==r&&(r=h.HUMMINGBIRD.PAGES.TC.tc_page_id),a&&(r+=a),wt.sendinfo({linkId:r,customClickParameter:q}))}},_formatPageId:function(a,b){if(b){var e=b.replace(/\/$/,""),g=/(.*\/[0-9]{6,10})[^\/]*\.html/.exec(e);g&&(e=g[1]);e=a?a+e.replace(/\//g,"."):e.replace(/\//g,".");return e.lastIndexOf(".html")===e.length-5?e.substr(0,e.length-5):e}return null}},STORAGE:{getItem:function(a){return k.STORAGE.isStorageAvailable()?
h.localStorage.getItem(a):null},setItem:function(a,b){k.STORAGE.isStorageAvailable()&&h.localStorage.setItem(a,b)},removeItem:isStorageAvailable:,isTouchDevice:supportsSessionStorage:function(){try{return"sessionStorage"in h&&null!==h.sessionStorage}catch(a){return!1}},supportsLocalStorage:shareUsingNativeAPI:function(a){try{if(navigator.share&&k.isTouchDevice()){var b=a.attr("data-share-url");if("undefined"!==typeof b)navigator.share({text:a.attr("data-share-title"),url:b});else{var e=f.querySelector("link[rel\x3dcanonical]");navigator.share({text:f.title,url:e?e.href:f.location.href})}return!0}}catch(g){return!1}}};h.HUMMINGBIRD=k})(window,document);
(function(){HUMMINGBIRD.DOM.ready(function(){var h=document.body||document.getElementsByTagName("body")[0];h&&(h.style.webkitTouchCallout="none",h.style.KhtmlUserSelect="none");setTimeout(function(){for(var f=document.querySelectorAll("[data-async-src]"),c=0;c<f.length;c++){var d=f[c],b=d.getAttribute("data-async-src");if(b.includes("datawrapper.dwcdn.net")&&!b.includes("svgonly\x3d1")){var a=!1;if("undefined"!==typeof clientPlatform&&null!==clientPlatform)"ios"===clientPlatform&&(a=parseFloat(clientPlatformVersion),
a="number"===typeof a&&15<=a&&15.4>a);else var e=window.navigator.userAgent,a=-1<e.indexOf("Safari"),m=-1<e.indexOf("Chrome"),e=-1<e.indexOf("Edge"),a=a&&!m&&!e;a&&(b=HUMMINGBIRD.URI.addQueryString(b,"svgonly\x3d1"))}d.setAttribute("src",b)}},150)})})();
(function(){var h=function(){function f(a,b){this.eState=k.none;this.options=$.extend({},l,b||{});this.$elem=$(a);this.$asidePanel=this.$elem.closest(".rts-panel.aside");for(var e=this.$elem,g=this.options.parentDeep;0<g;g--)e=e.parent();this.$parent=e;this.$window=$(window)}function c(a){a=a||0;this.$elem.removeClass("affix-top").addClass("affix-bottom").css("top",a)}function d(a){a=a||0;this.$elem.removeClass("affix-bottom").addClass("affix-top").css("top",a-b.apply(this))}function b(){return parseInt(this.$elem.css("margin-top"))}
function a(){return(this.lastScroll||0)>this.$window.scrollTop()}function e(){return this.$elem.height()>=this.$parent.height()}function m(){return 0<this.$asidePanel.length&&this.$asidePanel.width()<this.$parent.width()}function g(){return window.innerHeight<this.$elem.height()}var l={parentDeep:1},k={none:-1,top:1,bottom:2,fix:3};f.prototype={run:function(){if(1===this.$elem.length){var a=this,b=function(){a.check.call(a);a.lastScroll=a.$window.scrollTop()};this.$window.scroll(b);this.$window.resize(b);
b()}},check:function(){if(!m.apply(this)||e.apply(this))this.clean();else if(g.apply(this)){var b=this.$window.scrollTop(),d=b+window.innerHeight,c=this.$elem.offset().top,l=c+this.$elem.height(),f=this.$parent.offset().top+this.$parent.height();l>f&&this.affixBottom();a.apply(this)?this.eState===k.top?c<this.$parent.offset().top&&this.affixBottom():this.eState===k.fix?b<c&&this.affixTop():this.affixFix():this.eState===k.top?this.affixFix():this.eState!==k.fix?this.affixBottom():l<d&&this.affixBottom()}else this.affixTop()},
clean:function(){this.eState=k.none;this.$elem.removeClass("affix-top").removeClass("affix-bottom").css("top",0)},affixTop:function(){this.eState=k.top;var a=b.apply(this),e=this.$parent.offset().top,g=e+this.$parent.height(),l=this.$window.scrollTop(),m=l+this.$elem.height()-a;l>e&&m<g?d.apply(this):m>g?(a=g-this.$elem.height()-e-a,0>a&&(a=0),c.apply(this,[a])):c.apply(this)},affixBottom:function(){this.eState=k.bottom;var a=this.$parent.offset().top,b=a+this.$elem.height(),a=a+this.$parent.height(),
e=this.$window.scrollTop()+window.innerHeight;a>e?e>b?d.apply(this,[window.innerHeight-this.$elem.height()]):c.apply(this):(b=a-this.$elem.height()-this.$parent.offset().top,0>b&&(b=0),c.apply(this,[b]))},affixFix:function(){this.eState=k.fix;var a=this.$elem.offset().top-this.$parent.offset().top-b.apply(this);0>a&&(a=0);c.apply(this,[a])}};return f}();HUMMINGBIRD.DOM.ready(function(){if(!(1>$(".rts-layout.layout-article.right-aside").length)){var f=new h(".article-related-media",{parentDeep:2});
$("#article-media-collapse").on("change",function(){f.check()});f.run()}})})();
(function(){function h(a){(e=a.matches)?("onhashchange"in window&&console.log("The browser supports the hashchange event!"),window.onhashchange=f,document.addEventListener("scroll",f)):(console.log("syncable scroll is disabled"),$(".syncable \x3e [data-id]").addClass("current"),window.onhashchange=null,document.removeEventListener("scroll",f))}function f(){window.requestAnimationFrame(function(a){a=document.querySelectorAll(".timeline-panel .rts-box.wp.important");for(var b=[],e=[],d=0;d<a.length;d++){var m=
a[d],f=m.getBoundingClientRect(),h=f.top,f=f.bottom;0<=h&&f<=window.innerHeight?b.push(m):h<window.innerHeight&&0<=f&&e.push(m)}1<b.length?c(b[0]):1===b.length?c(b[0]):0===b.length&&1<=e.length&&c(e[0])})}function c(e){var d=$(".rts-panel.syncable-scroll .st-container"),c=$(".syncable \x3e [data-id\x3d"+b+"]");void 0!==c&&(b=e.id,$(".syncable \x3e [data-id]").removeClass("current"),c.addClass("current"),clearTimeout(a),a=setTimeout(function(){var a=c.position().top+c.outerHeight()/2-$(window).outerHeight()/
2+100;d.animate({scrollTop:a},200)},50))}function d(a,b){var e=$("[data-article-id]").attr("data-article-id"),d=$(".article-title").text();HUMMINGBIRD.PAGES.TC.trackHiddenEvent(null,"article",a,b,e,"timeline",d)}window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||var b,a,e=!1,m=m.prototype={defaultOpt:{articleLastUpdateAttr:"data-article-lastupdate",
articleLastUpdateSel:"[data-article-lastupdate]",articleIdAttr:"data-article-id",articleIdSel:"[data-article-id]",navSel:"ul.timeline-minutes",contentSel:".rts-container.article-text",contentFirstSel:".rts-box:first",moreButtonSel:".new-content-alert",hiddenClass:"is-hidden",checkUpdateInterval:6E4},init:function(){this._intervalId=-1;this.shouldUpdateArticle=!0;if(0<$(this.opt.articleLastUpdateSel).length&&0<$(this.opt.articleIdSel).length){var a=this.checkUpdate.bind(this,this.hasNewContent);this.$moreButton=
$(this.opt.moreButtonSel);this._intervalId=setInterval(a,this.opt.checkUpdateInterval)}},checkUpdate:function(a){try{var b=this,e=$(this.opt.articleLastUpdateSel).attr(this.opt.articleLastUpdateAttr),d=$(this.opt.articleIdSel).attr(this.opt.articleIdAttr),c=null;if(b.shouldUpdateArticle){e&&(c=new Date(parseInt(e)));var m=HUMMINGBIRD.URI.hummingbirdAjaxUrl("/"+d+"/checkUpdate"),m=HUMMINGBIRD.URI.addQueryString(m,"v\x3d"+e),f={method:"GET",url:m,timeout:15E3,headers:null!==c?{"If-Modified-Since":c.toUTCString()}:
{},xhrFields:{withCredentials:!0},ifModified:!0,global:!1};$.ajax(f).done(function(e,d,c){e&&e.hasUpdate&&(b.shouldUpdateArticle=!1,a.call(b,e))})}}catch(h){}},hasNewContent:function(a){this.$moreButton.off("click").removeClass(this.opt.hiddenClass).on("click",this.onMoreButtonClicked.bind(this,a));d("automatic","display_update_badge")},onMoreButtonClicked:function(a){var b=$(a.timelineSummary),e=$(a.timelineContent);this.$moreButton.addClass(this.opt.hiddenClass);this.shouldUpdateArticle=!0;this.$nav=
$(this.opt.navSel);0<this.$nav.length&&this.$nav.replaceWith(b);this.$content=$(this.opt.contentSel);0<this.$content.length&&this.$content.replaceWith(e);a.lastUpdate&&$(this.opt.articleLastUpdateSel).attr(this.opt.articleLastUpdateAttr,a.lastUpdate);this.scrollFirstMinute();(function(){this.loadScriptInDom(e);$("[data-async-src]:not([src])",e).each(;HUMMINGBIRD.MEDIA.initStandalonePlayers(".player-container.standalone:not(.player-always-on)");
HUMMINGBIRD.MEDIA.initAudioMediaCardPlayers()}).call(this);d("button","refresh_article")},loadScriptInDom:function(a){var b=function(a){(a=a.getAttribute("data-async-src")||a.src)&&$.getScript(a)};a.each(function(){"SCRIPT"==this.tagName?b(this):$(this).find("script").each(})},scrollFirstMinute:function(){var a=$(this.opt.contentSel+" "+this.opt.contentFirstSel);window.scrollTo($.extend(a.offset(),{behavior:"smooth"}));f()}};$(document).ready(function(){new m;if(0<$(".syncable-scroll").length){b=
$(".syncable .current").attr("data-id");var a=window.matchMedia("(min-width: 920px)");h(a);a.addListener(h);$(document).keyup(function(a){if(null!==b){var e=null;"37"==a.keyCode?e=$("#"+b).previous():"39"==a.keyCode&&(e=$("#"+b).next());e&&c(e)}})}});$(document).on("click",".timeline-nav .timeline-minute a",function(){d("button","timeline_keyfact_nav");return!0})})();
(function(h,f,c){var d={init:function(){c.DOM.ready(function(){d.setupListeners()});f.addEventListener("rts-widget-loaded",function(b){b.detail&&b.detail.widgetName&&"rts-comments"===b.detail.widgetName&&(d.loadCommentsButtons(),d.setupListeners())})},setupListeners:function(){var b=f.querySelectorAll(".rts-comments .rts-comments-form");c.DOM.loopNodeList(b,function(a){a.addEventListener("submit",d.sendComment)});b=f.querySelectorAll(".rts-comments .comment-message");c.DOM.loopNodeList(b,function(a){a.addEventListener("input",
d.typingComment)});b=f.querySelectorAll(".rts-comments .comment-action.reply");c.DOM.loopNodeList(b,function(a){a.addEventListener("click",d.reply)});b=f.querySelectorAll(".rts-comments .comment-action.report");c.DOM.loopNodeList(b,function(a){a.addEventListener("click",d.report)});b=f.querySelectorAll(".rts-comments .comment-action.vote");c.DOM.loopNodeList(b,function(a){a.addEventListener("click",d.vote)});b=f.querySelectorAll(".rts-comments .comment-action.delete");c.DOM.loopNodeList(b,function(a){a.addEventListener("click",
d.delete)});b=f.querySelectorAll(".rts-comments .comment-action.refresh");c.DOM.loopNodeList(b,function(a){a.addEventListener("click",d.refresh)});b=f.querySelectorAll(".rts-comments .comments-replies-more");c.DOM.loopNodeList(b,function(a){a.addEventListener("click",d.showAllReplies)});b=f.querySelectorAll("[data-comment-parent-id]");c.DOM.loopNodeList(b,},loadCommentsButtons:function(){var b=f.querySelectorAll("[data-rts-comments-urn]");0<b.length&&
c.DOM.loopNodeList(b,function(a){for(var b=a.getAttribute("data-rts-comments-urn"),b=c.URI.hummingbirdOriginUrl("/api/comment/v1/"+b+"/comments/count");a.firstChild;)a.removeChild(a.firstChild);c.AJAX.ajaxGET(b,function(b,e){var c=e?JSON.parse(e):null,c=c?c.count:null,k=f.createElement("span"),h;h=1<c?f.createTextNode("Afficher les commentaires"):1===c?f.createTextNode("Afficher le commentaire"):f.createTextNode("Aucun commentaire, r\u00e9agissez");a.classList.add("rts-comments-timeline-btn");k.innerText=
c;k.className="rts-picto comments counter";a.appendChild(k);a.appendChild(h);a.addEventListener("click",d.loadCommentsOnClick)},!0)})},loadCommentsOnClick:function(b){b.preventDefault();var a=this;b=this.getAttribute("data-rts-comments-urn");var e=this.hasAttribute("id")?this.getAttribute("id"):null,m=c.URI.hummingbirdAjaxUrl("/rts-comments?displayAll\x3dtrue");b&&(m=c.URI.addQueryString(m,"contentId\x3d"+b),null!==e&&(m=c.URI.addQueryString(m,"anchorId\x3d"+e)),c.AJAX.ajaxGET(m,function(b,e){var c=
f.createElement("div");c.innerHTML=e;a.parentNode.replaceChild(c.querySelector(".rts-comments"),a);d.setupListeners()},!0))},refresh:function(b){var a=this.getAttribute("href"),e=c.DOM.closest(this,".rts-comments");b.preventDefault();c.AJAX.ajaxGET(a,function(a,b){var c=f.createElement("div");c.innerHTML=b;e.parentNode.replaceChild(c.querySelector(".rts-comments"),e);d.setupListeners()},!0)},reload:function(b,a,e){var m=b.getAttribute("data-rts-comments-url");a&&m&&-1===m.indexOf("displayAll")&&(m=
c.URI.addQueryString(m,"displayAll\x3dtrue"));c.AJAX.ajaxGET(m,function(a,c){var m=f.createElement("div");m.innerHTML=c;m=m.querySelector(".rts-comments");b.parentNode.replaceChild(m,b);d.setupListeners();e&&e(m)},!0)},getCommentById:scrollToComment:function(b,a){var e=d.getCommentById(b);if(e){var m=e.getBoundingClientRect(),g=e.ownerDocument.defaultView;if(!c.DOM.isInViewport(e)){c.DOM.scrollTo(m.top+g.pageYOffset,a);return}}a()},
highlightComment:function(b){var a=d.getCommentById(b);a&&(a.classList.add("newly-added"),setTimeout(function(){a.classList.remove("newly-added")},500))},showParent:function(b){var a=this.getAttribute("data-comment-parent-id");if(b=d.getCommentById(a))b.classList.remove("newly-added"),(b=c.DOM.closest(b,".rts-comments-replies"))&&b.classList.remove("not-all"),d.scrollToComment(a,},showAllReplies:function(){var b=c.DOM.closest(this,".rts-comments-replies");b&&b.classList.toggle("not-all")},
sendComment:function(b){if(c.USER.isLoggedIn()){var a=b.target||b.srcElement,e=c.URI.hummingbirdOriginUrl("/api/comment/v1/comments"),m=c.DOM.closest(a,".rts-comments"),g={};b.preventDefault();b=0;for(var l;b<a.elements.length;b++)l=a.elements[b],l.name&&l.value&&(g[l.name]=l.value);a.querySelector(".comment-error").innerHTML="";a.querySelector(".comment-form-action").innerHTML+='\x3cspan class\x3d"comment-loading"\x3e\x3c/span\x3e';a.querySelector('.comment-btn[type\x3d"submit"]').disabled=!0;c.AJAX.postFormEncrypted(e,
g,function(b,e){if(b){var g=null!==e&&""!==e?JSON.parse(e):null;d.reload(m,!0,function(){g&&d.scrollToComment(g.id,})}else a.querySelector(".comment-loading").remove(),a.querySelector('.comment-btn[type\x3d"submit"]').disabled=!1,a.querySelector(".comment-error").innerHTML="Une erreur est survenue"},!0)}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour envoyer un commentaire")},typingComment:function(b){b=this.getAttribute("data-max-length");
var a=c.DOM.closest(this,".rts-comments-form").querySelector(".textarea-counter");if(null!==b){var e=this.value.substring(0,b);a.innerHTML=parseInt(b)-e.length;this.value=e}},reply:function(b){if(c.USER.isLoggedIn()){var a=c.DOM.closest(this,".rts-comments"),e=a.querySelector(".rts-comments-form").cloneNode(!0),a=a.querySelectorAll(".rts-comments-replies .rts-comments-form"),m=e.querySelector("textarea"),g=c.DOM.closest(this,".rts-comment"),l=g.getAttribute("data-comment-id"),g=c.DOM.closest(g,".level-1"),
k=g.querySelector(".rts-comments-replies");b.preventDefault();c.DOM.loopNodeList(a,function(a){a.parentNode.removeChild(a)});m.value="";m.addEventListener("input",d.typingComment);e.querySelector('input[name\x3d"parentId"]').value=l;e.querySelector(".textarea-counter").innerHTML=m.getAttribute("data-max-length");e.querySelector(".comment-error").innerHTML="";e.querySelector(".comment-btn.comment-submit").value="R\u00e9pondre";e.addEventListener("submit",d.sendComment);k||(k=f.createElement("div"),
k.classList.add("rts-comments-replies"),g.appendChild(k));k.appendChild(e);k.classList.remove("not-all");e.querySelector('textarea[name\x3d"message"]').focus()}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour r\u00e9pondre ce commentaire")},report:function(b){b&&b.preventDefault();if(c.USER.isLoggedIn()){b=c.DOM.closest(this,".rts-comment").getAttribute("data-comment-id");var a=c.URI.hummingbirdOriginUrl("/api/comment/v1/comments/"+b+"/report");c.DIALOG.show("Signaler un commentaire",
"\u00cates-vous s\u00fbr de vouloir signaler ce commentaire ?","Signaler",function(){c.DIALOG.close();c.AJAX.ajaxPOST(a,null,function(a,b){a?c.TOAST.show("Merci, nous allons examiner ce commentaire.","success",2E3):c.TOAST.show("Une erreur s'est produite. Merci de r\u00e9essayer plus tard.","error",2E3)},!0)})}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour signaler ce commentaire")},vote:function(b){function a(a,b){if(a){var l=JSON.parse(b);d.innerText=l.votesCount;
g?(e.classList.add("vote"),e.classList.remove("voted")):(e.classList.add("voted"),e.classList.remove("vote"))}else c.TOAST.show("Nous n'avons pas \u00e9t\u00e9 en mesure d'enregistrer votre vote","error",2E3)}if(c.USER.isLoggedIn()){var e=this.querySelector(".rts-picto"),d=this.querySelector(".action-text"),g=null!==this.querySelector(".rts-picto.voted"),l=c.DOM.closest(this,".rts-comment").getAttribute("data-comment-id"),l=c.URI.hummingbirdOriginUrl("/api/comment/v1/comments/"+l);b.preventDefault();
g?c.AJAX.ajaxPOST(l+"/unvote",null,a,!0):c.AJAX.ajaxPOST(l+"/vote",null,a,!0)}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour voter pour ce commentaire")},delete:function(b){b.preventDefault();if(c.USER.isLoggedIn()){var a=c.DOM.closest(this,".rts-comments");b=c.DOM.closest(this,".rts-comment").getAttribute("data-comment-id");var e=c.URI.hummingbirdOriginUrl("/api/comment/v1/comments/"+b);c.DIALOG.show("Effacer votre commentaire","\u00cates-vous s\u00fbr de vouloir effacer votre commentaire ?",
"Effacer",function(){c.DIALOG.close();c.AJAX.ajaxDELETE(e,null,function(b,e){b?d.reload(a,!0):c.TOAST.show("Une erreur s'est produite. Merci de r\u00e9essayer plus tard.","error",2E3)},!0)})}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour effacer votre commentaire")}};d.init()})(window,document,window.HUMMINGBIRD);
(function(h,f,c){var d={init:function(){$(f).ready(function(){d.ARTICLE_CAROUSEL.init();d.AJAX_CALENDAR.init();d.TIMESLIDER.init();d.LIVE_COUNTDOWN.init();d.LOAD_MORE.register();d.MATCH_COUNTDOWN.init();d.SCROLLUP.init();d.IFRAME.init();d.THUMBNAIL_AUTO_UPDATER.init()});d.COPY_LINK.init();d.ACTION_LINKS.init();d.DOWNLOAD_MEDIA.init();d.COPY_EMBED_PLAYER.init();d.ELLIPSIS.init();d.THUMBNAIL_RESPONSIVE_BG.init();d.PAGINATION.init();d.LOAD_MORE.init();d.LIST_FILTERING.init();d.LIVE_RADIO_POPUP.init();
d.FULLSCREEN_GALLERY.init();d.FULLSCREEN_LIGHTBOX.init();d.FULLSCREEN_VOXM.init();d.TABS.init();d.PAGE_STATE.init();d.COLLAPSIBLE.init()},COLLAPSIBLE:{init:function(){$(f).on("click",".js_collapsible",function(b){b.preventDefault();b.stopPropagation();b=$(this).closest(".collapsible-area");b.toggleClass("expanded");b.find(".collapsible").toggleClass("hidden")})}},ARTICLE_CAROUSEL:{init:function(){0<$(".promo-carousel-wrapper.enabled").length&&$(".promo-carousel-wrapper.enabled").owlCarousel({loop:!0,
margin:10,nav:!0,items:1,animateOut:"fadeOut",autoplay:!0,autoplaySpeed:500,autoplayTimeout:5E3,autoplayHoverPause:!0})}},LIST_FILTERING:{DOM:{list:[],filteredList:[],classFilter:null,textInput:null,displayList:null,countMessage:null,timeout:null},init:function(){$(f).on("click",".js_inline-list-class-toggle",function(){var b=$(this).attr("data-class-filter");$(this).toggleClass("selected");d.LIST_FILTERING.DOM.classFilter=$(this).hasClass("selected")?b:null;d.LIST_FILTERING.updateFilteredItems()});
$(f).ready(function(){var b=$(".az-list"),a=$(".js_inline-list-filtering");0<b.length&&0<a.length&&(d.LIST_FILTERING.DOM.displayList=b[0],d.LIST_FILTERING.DOM.textInput=a[0],d.LIST_FILTERING.DOM.textInput.addEventListener("keyup",d.LIST_FILTERING.updateFilteredItems),d.LIST_FILTERING.generateDummyList())})},generateDummyList:function(){$(".az-list \x3e .item").each(function(){var b="",a=$(this).attr("data-header-item"),a=null!=a?$(this).closest(".az-list").find(a)[0]:null;$(this).find(".js_searchable").each(function(){b=
b+" "+$(this).text().toLowerCase()});a={obj:$(this)[0],header:a,attr:$(this).attr("data-searchable-id"),title:c.TEXTS.stripAccent(b),classFilter:$(this).attr("class")};d.LIST_FILTERING.DOM.list.push(a)})},updateList:function(){for(var b=d.LIST_FILTERING.getSearchTerm(),a=f.createDocumentFragment(),e=d.LIST_FILTERING.DOM.textInput.value,m=[],g=0;g<d.LIST_FILTERING.DOM.filteredList.length;g++){var l=d.LIST_FILTERING.DOM.filteredList[g],k=l.obj,h=l.header;if(null==d.LIST_FILTERING.DOM.classFilter||null!=
l.classFilter&&-1!==l.classFilter.indexOf(d.LIST_FILTERING.DOM.classFilter))null!=h&&-1===m.indexOf(h)&&(m.push(h),a.appendChild(h)),a.appendChild(k)}c.TEXTS.wrap(a,".js_searchable",null!=b?e:"");d.LIST_FILTERING.DOM.displayList.innerHTML="";d.LIST_FILTERING.DOM.displayList.appendChild(a)},updateFilteredItems:function(){d.LIST_FILTERING.DOM.timeout&&clearTimeout(d.LIST_FILTERING.DOM.timeout);d.LIST_FILTERING.DOM.timeout=setTimeout(function(){d.LIST_FILTERING.DOM.filteredList=d.LIST_FILTERING.DOM.list.filter(d.LIST_FILTERING.textMatch);
d.LIST_FILTERING.updateList()},200)},getSearchTerm:function(){var b=d.LIST_FILTERING.DOM.textInput.value.toLowerCase();return 1<=b.length?c.TEXTS.stripAccent(b.toLowerCase()):null},textMatch:function(b){var a=d.LIST_FILTERING.getSearchTerm();return null==a||-1!==b.title.indexOf(a)}},TIMESLIDER:{init:setupTimeslider:function(b){var a=b.data("timeslider");b.countdown(a,{elapse:!0}).on("update.countdown",function(a){d.TIMESLIDER.updateUI(b,
a)})},updateUI:function(b,a){var e=b.find(".timeslider-progress"),c=b.data("timeslider-update-path"),g=b.data("duration")/1E3,l=a.offset.totalSeconds,g=Math.max(0,Math.min(100,(g-l)/g*100));a.elapsed?(e.css("--timeslider-progress-percent","100%"),c&&0<=l&&(10===l||0===l%60)&&d.TIMESLIDER.refreshData(b,c)):e.css("--timeslider-progress-percent",g.toFixed(2)+"%")},refreshData:function(b,a){a&&$.ajax({url:c.URI.rtsAjaxUrl(a),type:"GET",success:function(a){if(a){var c=$(a);a=b.data("timeslider");var g=
c.data("timeslider");a!==g&&(b.hasClass("js_timeslider_refresh_animated")?b.fadeOut(150,function(){b.replaceWith(c.hide());c.fadeIn(250);d.TIMESLIDER.setupTimeslider(c)}):(b.replaceWith(c),d.TIMESLIDER.setupTimeslider(c)))}}})}},LIVE_COUNTDOWN:{init:function(){$("[data-live-countdown]").each(function(){var b=$(this),a=b.data("live-countdown");b.countdown(a,{elapse:!0}).on("update.countdown",function(a){d.LIVE_COUNTDOWN.update(b,a)})})},update:function(b,a){a.elapsed?b.html(a.strftime("depuis \x3cspan\x3e%H:%M:%S\x3c/span\x3e")):
b.html(a.strftime("dans \x3cspan\x3e%H:%M:%S\x3c/span\x3e"))}},MATCH_COUNTDOWN:{endEvent:"MATCH_COUNTDOWN_ENDED",init:function(){$("[data-match-countdown]").each(function(){var b=$(this),a=b.data("match-countdown");b.countdown(a,{elapse:!0}).on("update.countdown",function(a){d.MATCH_COUNTDOWN.update(b,a)})})},update:function(b,a){if(a.elapsed){if(0===a.offset.totalSeconds){var e=b.attr("id");void 0!==e&&f.dispatchEvent(new CustomEvent(d.MATCH_COUNTDOWN.endEvent,{detail:{countdownId:e}}))}b.html(a.strftime('\x3cspan class\x3d"countdown-live-flag"\x3eEn direct\x3c/span\x3e \x3cspan class\x3d"countdown-prefix"\x3edepuis\x3c/span\x3e \x3cspan\x3e'+
(0<a.offset.totalHours?"%H:%M:%S":"%M:%S")+"\x3c/span\x3e"))}else b.html(a.strftime('\x3cspan class\x3d"countdown-live-flag"\x3eEn direct\x3c/span\x3e \x3cspan class\x3d"countdown-prefix"\x3edans\x3c/span\x3e \x3cspan\x3e%H:%M:%S\x3c/span\x3e'))}},THUMBNAIL_AUTO_UPDATER:{interval:null,SETTINGS:{stillImageClass:"still-image",delay:10},init:function(){d.THUMBNAIL_AUTO_UPDATER.start()},start:function(){$(".thumbnail-auto-refresh.enabled").length&&(console.log("Channel auto refresh starting"),d.THUMBNAIL_AUTO_UPDATER.interval=
setInterval(d.THUMBNAIL_AUTO_UPDATER._updateImages,1E3*d.THUMBNAIL_AUTO_UPDATER.SETTINGS.delay))},stop:function(){console.log("Channel auto refresh stopped");d.THUMBNAIL_AUTO_UPDATER.interval&&(clearInterval(d.THUMBNAIL_AUTO_UPDATER.interval),d.THUMBNAIL_AUTO_UPDATER.interval=null)},_updateImages:function(){$(".thumbnail-auto-refresh.enabled").each(function(b,a){var e=Math.floor((new Date).getTime()/(1E3*d.THUMBNAIL_AUTO_UPDATER.SETTINGS.delay))*d.THUMBNAIL_AUTO_UPDATER.SETTINGS.delay,c=250*b,g=$(this).find("."+
d.THUMBNAIL_AUTO_UPDATER.SETTINGS.stillImageClass),l=g.attr("class"),k=g.attr("src"),f=g.attr("data-src");if(void 0!==f&&null!==f){var h=!0,p=$("\x3cimg\x3e").addClass(l).attr("src",f+"?_t\x3d"+e).attr("data-src",f).on("load",function(){g.delay(c).fadeOut(500,}).on("error",function(){h&&(h=!1,$("\x3cimg\x3e").addClass(l).attr("src",k).attr("data-src",f).insertBefore(g));g.remove();p.remove()});p.insertBefore(g)}})}},THUMBNAIL_RESPONSIVE_BG:{init:function(){$(f).ready(function(){d.THUMBNAIL_RESPONSIVE_BG.computeImageSizes()});
$(h).on("breakpoint-change",},computeImageSizes:function(){$("[data-resp-thumbnail-bg]:not(.js_resp-bg-loaded)").each(function(){var b=$(this).attr("data-resp-thumbnail-bg"),a=2*$(this).width(),e=[80,160,320,640,960,1280,1920].reduce(function(b,e){return Math.abs(e-a)<Math.abs(b-a)?e:b}),d=$(this).height()/$(this).width(),g=[.5625,.625,.75,1,1.125,1.25].reduce(,b=c.URI.addQueryString(b,
"w\x3d"+e),b=c.URI.addQueryString(b,"h\x3d"+g*e);$(this).addClass("js_resp-bg-loaded").css("background-image","url("+b+")")})}},COPY_LINK:{init:function(){$(f).ready(function(){var b=new ClipboardJS(".js_copy_link");b.on("success",d.COPY_LINK.displaySuccess);b.on("error",d.COPY_LINK.displayError)})},displaySuccess:function(b){c.TOAST.show("Lien copi\u00e9","success",2E3);console.log(b.text);b.clearSelection()},displayError:function(b){c.TOAST.show("Impossible de copier dans le presse-papier","error",
1E3)}},ACTION_LINKS:{init:function(){$(f).on("click",".ap-share_popover-item",;$(f).on("click",".js_share_popover",function(b){b.preventDefault();var a=$(this).attr("data-template-selector"),a=$("#"+a);if(c.shareUsingNativeAPI($(this)))return!1;a&&c.POPPER.showPopOver(b.currentTarget,a.html());return!1});$(f).on("click",".js_share_popup",function(b){b.preventDefault();b=$(this).attr("data-template-selector");b=$("#"+b);if(c.shareUsingNativeAPI($(this)))return!1;b&&c.DIALOG.showTemplate("Partager",
b.html(),"light-centered");return!1});$(f).on("click",".js_register_popup",function(b){b.preventDefault();b=$(this).attr("data-template-selector");(b=$("#"+b))&&c.DIALOG.showTemplate("Abonnez-vous",b.html(),"light-centered");return!1});$(f).on("click",".js_contact_form",function(b){b.preventDefault();b=$(".contact-form");$("html, body").animate({scrollTop:b.offset().top},200);return!1})}},COPY_EMBED_PLAYER:{init:function(){$(f).on("click",".js_embed_player_popup",function(b){b.preventDefault();b=
$(this).attr("data-template-selector");(b=$("#"+b))&&c.DIALOG.showTemplate("Int\u00e9grer le player",b.html(),"light-centered");c.POPPER.hide();return!1});$(f).ready(function(){var b=new ClipboardJS(".js_embed_player .js_copy_content",{text:);b.on("success",d.COPY_EMBED_PLAYER.displaySuccess);b.on("error",d.COPY_EMBED_PLAYER.displayError);$(f).on("change keyup paste",".js_embed_player .js_embed_player_width",function(){d.COPY_EMBED_PLAYER.editAttribute($(this),"width")});
$(f).on("change keyup paste",".js_embed_player .js_embed_player_height",})},displaySuccess:function(b){c.TOAST.show("Contenu copi\u00e9 dans le presse-papier","success",2E3);b&&b.clearSelection()},displayError:editAttribute:function(b,a){try{var e=b.val(),d=b.closest(".js_embed_player").find("textarea"),c=$(d.text());Number.isInteger(parseInt(e))&&(c.attr(a,
e),d.text(c[0].outerHTML))}catch(l){console.log("Unable to update the player textear")}}},DOWNLOAD_MEDIA:{init:function(b){$(f).on("click",".js_download_warning",function(a){a.preventDefault();a.stopPropagation();var b=$(this),m=b.attr("data-download-url"),g=b.attr("data-download-media-id"),l={};a=!0;var f=!1;try{f="localStorage"in h&&null!==h.localStorage}catch(t){}f&&(a=localStorage.getItem("rts.userSettings"),f=localStorage.getItem("playSRG-userSettings"),null!==a?l=JSON.parse(a):null!==f&&(l=
JSON.parse(f),localStorage.setItem("rts.userSettings",JSON.stringify(l))),a=!0!==l.acceptedDownloadTAC);a?c.DIALOG.showTemplate("T\u00e9l\u00e9charger",'\x3cp\x3eEn t\u00e9l\u00e9chargeant ce contenu vous acceptez les \x3ca href\x3d"https://www.rts.ch/entreprise/a-propos/8994021-conditions-generales.html" target\x3d"_blank"\x3econditions g\u00e9n\u00e9rales\x3c/a\x3e.\x3c/p\x3e',"light-centered",!0,"T\u00e9l\u00e9charger",function(){l.acceptedDownloadTAC=!0;localStorage.setItem("rts.userSettings",
JSON.stringify(l));d.DOWNLOAD_MEDIA.download(m,g,b);c.DIALOG.close()},null):d.DOWNLOAD_MEDIA.download(m,g,b)})},download:function(b,a,e){var d=$("\x3ca\x3e");d.attr("href",c.URI.addQueryString(b+"/download","mediaId\x3d"+a));d.attr("target","_blank");d.attr("class","js_download_link");$("body").append(d);d.get(0).click();d.remove();h.RTSGTMTracker&&h.RTSGTMTracker.trackGAEventDownload(e)}},ELLIPSIS:{init:function(b){$(f).ready(function(){d.ELLIPSIS.setUp(null)});$(f).on("click",".js_ellipsis_disable",
function(a){a.preventDefault();a.stopPropagation();a=$(this).closest(".ellipsis-collapse");a.addClass("ellipsis-disabled");a.find(".ellipsis").each(function(){d.ELLIPSIS.destroy($(this))})});$(f).on("click",".js_ellipsis_enable",function(a){a.preventDefault();a.stopPropagation();a=$(this).closest(".ellipsis-collapse");a.removeClass("ellipsis-disabled");d.ELLIPSIS.setUp(a)})},setUp:function(b){"function"===typeof $.dotdotdot&&(null!==b?b.find(".ellipsis"):$(".ellipsis")).dotdotdot({ellipsis:"...",
height:"watch",watch:!0})},destroy:function(b){var a;"function"===typeof $.dotdotdot&&null!==b&&(a=b.data("dotdotdot"))&&a.destroy()},update:function(b){var a;"function"===typeof $.dotdotdot&&null!==b&&(a=b.data("dotdotdot"))&&a.truncate()}},SCROLLUP:{init:function(){"function"===typeof $.scrollUp&&$.scrollUp({scrollName:"rtstop",topSpeed:100,scrollText:""})}},LOAD_MORE:{init:function(){$(f).on("click","[data-loadmore-src]",function(){var b=$(this);d.LOAD_MORE.loadMore(b)})},register:function(){$("[data-loadmore-src].js_autoload").each(function(){new Waypoint.Inview({element:this,
enter:function(b){b=$(this.element);d.LOAD_MORE.loadMore(b)}})})},loadMore:function(b){var a=b.data("loadmore-src"),e=b.data("loadmore-dest"),m=null!==e?b.closest(e):b.parent(),g=c.PAGES.getPageIndex(a);b.addClass("loading");$.ajax({method:"GET",url:a,xhrFields:{withCredentials:!0},success:function(a,b,e){a=$(a);d.ELLIPSIS.setUp(a);$(m).replaceWith(a);d.THUMBNAIL_RESPONSIVE_BG.computeImageSizes();d.LOAD_MORE.register();d.AJAX_CALENDAR.init();null!=g&&c.PAGES.TC.trackHiddenEvent(".page."+g,"page_load_more",
"button","page",g);c.PAGES.TC.trackPageView(!1)}})}},LIVE_RADIO_POPUP:{currentPopup:null,init:function(){$(f).on("click","[data-live-radio]",function(b){b.preventDefault();b.stopPropagation();c.MEDIA.stopAllPlayers();b=$(this).attr("href")||$(this).data("href");var a=d.currentPopup;a&&!a.closed?(a.location.href=b,a.focus()):(a=h.open(b,"radioPlayer","menubar\x3dno, status\x3dno, scrollbars\x3dno, menubar\x3dno, top\x3d"+5*h.screen.availHeight/100+", left\x3d50, width\x3d480, height\x3d"+90*h.screen.availHeight/
100),a.opener=h.self,d.currentPopup=a)})}},FULLSCREEN_GALLERY:{init:function(){$(f).on("click","[data-gallery-fullscreen\x3d'true']",function(b){b.preventDefault();b.stopPropagation();b=$(this).attr("href")||$(this).data("href");if(null!=b){c.MEDIA.stopAllPlayers();var a=f.createElement("iframe");$(a).attr("class","rts-fullscreen-overlay");$(a).attr("src",b);$("body").append(a);a.onload=function(){var b=a.contentWindow;a.onload=null;try{b.closeIframe=catch(d){}}}})}},FULLSCREEN_VOXM:{init:function(){$(f).on("click",
"[data-subitem-id\x3d'live_interaction']",function(b){b.preventDefault();b.stopPropagation();b=$(this).attr("href")||$(this).data("href");if(null!=b){var a=$("\x3cdiv /\x3e").addClass("rts-fullscreen-overlay"),e=$("\x3cdiv /\x3e"),d=$("\x3ca /\x3e").addClass("rts-btn flat interaction-close"),c=$("\x3cspan /\x3e").addClass("btn-picto rtsp rtsp_chevron-left"),l=$("\x3cspan /\x3e").html("Retour"),k=$("\x3cdiv /\x3e").addClass("interaction-loader"),h=$("\x3cdiv /\x3e").addClass("interaction-frame-wrapper"),
n=f.createElement("iframe");$(n).attr("class","interaction-frame");$(n).attr("allow","microphone");$(n).attr("scrolling","no");$(n).attr("src",b);d.append(c);d.append(l);e.append(d);h.append(n);a.append(e);a.append(k);a.append(h);$("body").append(a);$("body").addClass("b-lock");n.onload=function(){n.onload=null;n.style.visibility="visible";k.hide()};$(f).on("click"," .interaction-close",function(b){b.preventDefault();b.stopPropagation();a.remove();$("body").removeClass("b-lock")})}})}},FULLSCREEN_LIGHTBOX:{init:function(){$(f).on("click",
"[data-lightbox][data-element-id]",function(b){b.preventDefault();b.stopPropagation();b=$(this).attr("data-lightbox");var a=$(this).attr("data-element-id"),e=$(this).attr("href")||$(this).data("href"),m=$("\x3cdiv /\x3e").addClass("rts-media-overlay lightbox-overlay"),g=$("\x3cdiv /\x3e").addClass("rts-media-overlay-wrapper");null!=e&&(c.MEDIA.stopAllPlayers(),$(".lightbox-overlay").remove(),m.append(g),$("body").addClass("b-lock").append(m),history.pushState({},"",h.location.href.split("#")[0]+"#media-overlay"),
$(h).on("hashchange",d.FULLSCREEN_LIGHTBOX.close),$.ajax({url:"/hbv7/ajax/lightbox/"+b+"/"+a+".html"}).done(function(a){a=$(a);g.append(a);c.MEDIA.initStandalonePlayer($("#mainPlayer",g));c.PAGES.TC.reset();c.PAGES.TC.trackPageView(!0)}))});$(f).on("click"," .lightbox-close",;$(f).on("keyup",d.FULLSCREEN_LIGHTBOX.keyClose)},keyClose:close:function(){c.MEDIA.stopAllPlayers(null,
$(".lightbox-overlay"));c.PAGES.TC.reset();$(h).off("hashchange",d.FULLSCREEN_LIGHTBOX.close);$(".lightbox-overlay").remove();$("body").removeClass("b-lock");history.replaceState({},f.title,h.location.href.split("#")[0])}},PAGINATION:{init:function(){$(f).on("click","[data-ajax-container] a",function(b){b.preventDefault();b=$(this).closest("[data-ajax-container]").attr("data-ajax-container");var a=$(b);b=$(this).attr("href");var e=c.PAGES.getPageIndex(b);0!==b.lastIndexOf("http",0)&&(b=c.URI.rtsOriginUrl(b));
a.addClass("loading");NProgress.start();c.AJAX.ajaxGET(b,function(b,d,l){NProgress.done();b&&a.replaceWith($(d));null!=e&&c.PAGES.TC.trackHiddenEvent(".page."+e,"page_load_more","button","page",e);c.PAGES.TC.trackPageView(!1)})})}},TABS:{init:function(){$(f).on("click","[data-tab]",function(){var b=$(this),a=b.data("tab"),e=b.closest(".tabs");e.length||(e=$("body"));var d="true"===e.attr("data-tabs-closable"),g=e.find(".current"),l=g.data("tab"),f=e.find("[data-tab-id]"),h=e.find("[data-tab-id\x3d'"+
a+"']");if((a=0<h.length&&a!==l)||d)g.removeClass("current"),f.removeClass("current"),e.find("[src]:not(img)").each(function(){var a=$(this).attr("src");a&&($(this).attr("data-src",a),$(this).removeAttr("src"))}),c.MEDIA.stopAllPlayers(null,e);a&&(b.addClass("current"),h.addClass("current"),h.find("[data-src]").each(function(){var a=$(this).attr("data-src");a&&($(this).attr("src",a),$(this).removeAttr("data-src"))}),h.find("[data-player-urn]").each()})}},
IFRAME:{init:function(){$(h).on("message onmessage",function(b){b=b.originalEvent||b;switch(b.data.action){case "rts.resize-iframe":case "srf.resize-iframe":c.COMPOMENTS.IFRAME.postResize(b.source,b.data.height);break;case "rts.embed-track-event":c.PAGES.TC.trackHiddenEvent(null,b.data.eventName,b.data.source,b.data.eventType,b.data.eventValue,b.data.extraValue1)}})},postResize:function(b,a){$("iframe").filter(function(){return $(this)[0].contentWindow===b}).each(}},
PAGE_STATE:{SETTINGS:{restore_data_tag:"hb-restore-id",navigate_key:"NAVIGATE_FROM"},init:function(){$(f).on("click","a[href]",function(){d.PAGE_STATE.save()});$(f).ready(function(){d.PAGE_STATE.restore()})},getUniqueId:function(b){return(b=b.data(d.PAGE_STATE.SETTINGS.restore_data_tag))?h.location.pathname+"_"+h.location.search+"_"+h.location.hash+"_"+b:null},save:function(){$("[data-"+d.PAGE_STATE.SETTINGS.restore_data_tag+"]").each(function(){var b=$(this),a=d.PAGE_STATE.getUniqueId(b);a&&(sessionStorage.setItem(a,
b.get(0).outerHTML),sessionStorage.setItem(d.PAGE_STATE.SETTINGS.navigate_key,h.location.href))})},restore:function(){sessionStorage.getItem(d.PAGE_STATE.SETTINGS.navigate_key)||$("[data-"+d.PAGE_STATE.SETTINGS.restore_data_tag+"]").each(function(){var b=$(this),b=d.PAGE_STATE.getUniqueId(b),a;b&&(a=sessionStorage.getItem(b),sessionStorage.removeItem(b));a&&$(this).replaceWith($(a))});sessionStorage.removeItem(d.PAGE_STATE.SETTINGS.navigate_key)}},AJAX_CALENDAR:{init:function(){var b=$('.date-filter-calendar:not([data-dp-loaded\x3d"true"])'),
a=function(a){if(!a)return null;var b=new Date;b.setDate(b.getDate()+parseInt(a));return b},e=b.attr("data-min-day"),e=a(e),m=b.attr("data-max-day"),a=a(m)||new Date;b.datepicker({language:"fr",todayButton:new Date,showOtherMonths:!0,selectOtherMonths:!0,autoclose:!1,position:"bottom right",navTitles:{days:"MM yyyy"},minDate:e,maxDate:a,onShow:function(a){console.log("onShow",a)},onChangeMonth:function(a){console.log("onChangeMonth",a)},onChangeYear:function(a){console.log("onChangeYear",a)},onChangeDecades:function(a){console.log("onChangeDecades",
a)},onChangeView:onSelect:function(a,e,m){if(b.attr("data-dp-loaded")){var f=b.attr("data-url"),h=b.attr("data-module-id");a=b.attr("data-calendar-panel-dest");var p=b.attr("data-url-dest");m=b.attr("data-label-dest");var w=e.getFullYear(),v=""+(e.getMonth()+1);2>v.length&&(v="0"+v);e=""+e.getDate();2>e.length&&(e="0"+e);f=c.URI.rtsOriginUrl(f);h&&(f=c.URI.addQueryString(f,"moduleId\x3d"+h));h=[w,v,e].join("-");f=c.URI.addQueryString(f,"date\x3d"+h);m&&$(m).empty().append(e+
"."+v+"."+w);$.ajax({url:f}).done(function(a){a=$(a);a.length?($(p).empty().append(a),d.AJAX_CALENDAR.init(),d.LOAD_MORE.register()):$(p).empty()});$(a).prop("checked",!1)}}});(a=b.attr("data-selected-date"))&&b.data("datepicker").selectDate(new Date(a));b.attr("data-dp-loaded",!0)}}};d.init();c.COMPOMENTS=d})(window,document,window.HUMMINGBIRD);
(function(h,f,c){var d={_setupContactForm:function(){$(f).on("submit",".contact-form",function(b){b.preventDefault();return!1});$(f).on("click",".contact-form .btn-submit",function(b){b.preventDefault();var a=$(this).closest(".contact-form[action]");a.validate({errorClass:"form-error",ignore:".ignore",rules:{email:{required:!0,email:!0},subject:"required",message:"required"},messages:{email:{required:"Pour vous recontacter, nous avons besoin de votre adresse e-mail",email:"Attention, veuillez respecter le format e-mail (example@domaine.ch)"},
subject:"Merci d'indiquer le suject de votre message",message:"Attention, votre message est vide"}});a.valid()&&$.ajax({url:a.attr("action"),method:a.attr("method"),data:d.getFromData(a),complete:function(b){$(".form-response").remove();b=JSON.parse(b.responseText);b.success?a.prepend('\x3cp class\x3d"form-response success"\x3e'+b.message+"\x3c/p\x3e"):a.prepend('\x3cp class\x3d"form-response error"\x3e'+b.message+"\x3c/p\x3e")}})})},_setupQAForm:function(){$(f).on("submit",".qa-form",function(b){b.preventDefault();
return!1});$(f).on("click",".qa-form .btn-submit",function(b){b.preventDefault();var a=$(this).closest(".qa-form[action]");a.validate({errorClass:"form-error",ignore:".ignore",rules:{email:{required:!0,email:!0},recipientId:"required",message:"required",age:"required"},messages:{email:{required:"Ce champ est obligatoire",email:"L'email n'est pas valide"},recipientId:"Ce champ est obligatoire",message:"Ce champ est obligatoire",age:"Ce champ est obligatoire"}});a.valid()&&$.ajax({url:a.attr("action"),
method:a.attr("method"),data:d.getFromData(a),complete:function(b){var d=a.closest(".qa-form-container");$(".form-response").remove();b=JSON.parse(b.responseText);b.success?(a.remove(),d.append('\x3cp class\x3d"form-response success"\x3e'+b.message+"\x3c/p\x3e")):d.append('\x3cp class\x3d"form-response error"\x3e'+b.message+"\x3c/p\x3e")}})})},getFromData:function(b){b=b.find("input, textarea, select").map(function(a,b){var d=$(b),c=d.val(),d=d.attr("name");"recipientId"===d&&(c=c||-1);return{name:d,
value:c}});b.push({name:"sec",value:"498c5708016fa7f04e6dc2dcf5ea5679adc3a08e"});return b}};d._setupContactForm();d._setupQAForm()})(window,document,window.HUMMINGBIRD);
(function(h,f,c){var d={ARCHIVES:{init:updateArchiveGrid:function(){var b=$(this).closest(".media-layout-filter-item"),a=$(this).closest("form"),e="true"===$(this).children("option:selected").attr("data-default-value"),d=a.attr("action"),g=c.PAGES.getPageIndex(d),l=null,k="";b.next(".media-layout-filter-item").find("select").prop("selectedIndex",0);b.next(".media-layout-filter-item").toggleClass("filter-visible",
!e);a.find("select option:checked").each(function(){var a=$(this).attr("value"),b=$(this).attr("data-page-url");a&&(k+=0===k.length?"filter\x3d":",",k+=a);b&&(l=b)});l&&history.replaceState({},f.title,l);$(".rts-module.media-layout-grid .rts-container").empty().append('\x3cdiv class\x3d"media-layout-grid-loading"\x3e\x3cspan class\x3d"rts-btn loading"\x3e\x3c/span\x3e\x3c/div\x3e');k&&(d=c.URI.addQueryString(d,k));$.ajax({method:"GET",url:d,success:function(a,b,e){a=$(a);c.COMPOMENTS.ELLIPSIS.setUp(a);
$(".rts-module.media-layout-grid .rts-container").empty().append(a);c.PAGES.TC.reset();null!=g&&c.PAGES.TC.trackHiddenEvent(".page."+g,"page_load_more","button","page",g);c.PAGES.TC.trackPageView(!0)}})}},RECOMMENDATION:{init:function(){$(f).ready(function(){d.RECOMMENDATION.loadModules()});f.addEventListener(c.SETTINGS.cookieConsentChangedKey,function(b){null!=b.detail&&b.detail.recommendation&&d.RECOMMENDATION.loadModules()},!0)},loadModules:function(){$(".recommendation-content").each(},loadContent:function(){var b=0<arguments.length?arguments[0]:null,a=null!==b?$(b):null!==event?$("#"+$(event.target||event.srcElement).data("id")):null,e=a.data("reco-media-type"),m=a.data("recommendation-type"),g=a.data("limit"),l="undefined"!=typeof RTSUserCentrics?RTSUserCentrics.isCategoryActive(RTSUserCentrics.KEY_RECOMMENDATION_CATEGORY):!1;a.addClass("loading");a.find(".rts-card").each(;b=l?c.COOKIE.get("_pipe_c"):
null;e={moduleIdentifier:a.attr("id"),type:m,mediaType:e,limit:g,recommendationEnabled:l};b&&(e.userId=b);$.ajax({url:c.URI.hummingbirdAjaxUrl("/module/hp/recommendation/content"),xhrFields:{withCredentials:!0},data:e,timeout:1E4,success:function(b,e,g){var l=$(b);setTimeout(function(){a.replaceWith(l);d.RECOMMENDATION.notifyPeach("loaded",l);d.RECOMMENDATION.setupVisibilityListener(l);c.COMPOMENTS.ELLIPSIS.setUp(l)},300)},error:)},
setupVisibilityListener:function(b){if("undefined"!==typeof Waypoint&&"undefined"!==typeof Waypoint.Inview)var a=new Waypoint.Inview({element:b,enter:function(e){b.hasClass("loading")||d.RECOMMENDATION.notifyPeach("displayed",b);a.destroy()}})},notifyPeach:function(b,a){var e=a.data("reco-id"),d=a.data("reco-media-type"),c=a.find("[data-element-id]"),d="rec_"+d+"_"+b,l=[],f={};c.each(function(){var a=$(this),b=a.data("element-id"),a=a.data("score");b&&a&&(b={id:parseInt(b),score:parseFloat(a)},l.push(b))});
0<l.length&&(f.items=l);e&&(f.recommendation_id=e,_pipe("collect",d,f))}}};d.ARCHIVES.init();d.RECOMMENDATION.init();c.MODULES=d})(window,document,window.HUMMINGBIRD);
(function(h,f,c){var d={letterboxConfig:function(a){if(a)switch(a){case "kids":return{language:"fr",recommendations:!1,continuousPlayback:!1,fillMode:!0,textTrackLanguage:!1,playbackRate:1,autoplay:!1,components:{header:!1,subdivisions:!1,skipCredits:!1,thumbnails:!1,playButton:!1}}}return{language:"fr",recommendations:!1,continuousPlayback:!1,fillMode:!0,components:{controlBar:!0,header:!0,sharing:!0,title:!1,thumbnails:!0,playButton:!0,subdivisions:!1},userReport:{errors:["IL_ERROR"]}}},autoplaySettings:function(a){switch("undefined"!==
typeof a?a:"auto"){case "true":return!0;case "false":return!1;case "auto_false":return{default:!1,storage:!0};default:return{default:!0,storage:!0}}},isAutoplayEnabled:function(a){switch("undefined"!==typeof a?a:"auto"){case "false":case "auto_false":return!1;default:return!0}},isLive:function(a){if(a&&a.currentSource())return"ON_DEMAND"!==a.currentSource().streamType},mediaType:function(a){try{if(a&&a.options().SRGProviders.mediaComposition)return a.options().SRGProviders.mediaComposition.getMainChapter().type}catch(b){}return null},
computePlayedRanges:function(a){try{var b=[],d=a.played();for(a=0;a<d.length;a++){var c=d.end(a),l=d.start(a);b.push([l.toFixed(2),c.toFixed(2)])}return b}catch(f){console.warn("Cannot compute played ranges")}return null},computePlayedDuration:function(a){try{var b=0,d=a.played();for(a=0;a<d.length;a++)var c=d.end(a),l=d.start(a),b=b+(c-l);return b}catch(f){console.warn("Cannot compute played duration")}return null},scrollToPlayer:function(a){if(0!==a.length){var b=$(h),d=a.offset().top,c=a.height(),
l=b.height(),d=d-(l-c)/2;a=a.get(0).getBoundingClientRect();c=a.bottom;0<=a.top&&c<=h.innerHeight||b.scrollTop(d)}},loadUrn:function(a,e,c,g){if(e){var l=void 0;c&&(l={recommendationId:c});b.notifyPlayerStop(a,"LOAD_URN");d.setupPlayerMetadata(a,!0);a.loadUrn(e,{pendingSeek:g,playbackSettings:l,standalone:!0});f.dispatchEvent(new CustomEvent("PlayerLoad",{detail:{id:a.player.id(),urn:e}}))}},setupPlayerMetadata:function(a,b){var c=a.hbCustomData,g={playerId:null,mediaUrn:null,mediaType:null,isLive:null,
startDate:null,stoppedDate:null,duration:null,currentTime:null,maxPlayerTime:null,playedDuration:null,playedRanges:[],showTitle:null,episodeTitle:null,contentTitle:null,channel:null,userHadInteraction:!1,hasBeenPlaying:!1,hasBeenNotified:!1,subdivisionsEnabled:!1};!b&&c&&(g={playerId:a.player.id(),mediaUrn:a.getUrn(),mediaType:d.mediaType(a.player),isLive:d.isLive(a.player),startDate:new Date,duration:0,currentTime:0,maxPlayerTime:0,playedDuration:0,playedRanges:[],showTitle:c.showTitle,episodeTitle:c.episodeTitle,
contentTitle:c.contentTitle,channel:c.channel,autoplay:c.autoplay,userHadInteraction:c.userHadInteraction,hasBeenPlaying:c.hasBeenPlaying,hasBeenNotified:!1,subdivisionsEnabled:c.subdivisionsEnabled});a.hbCustomData=g},updateDistantData:function(a,b){var d=a.attr("data-media-title")||$("[data-media-title]",a).attr("data-media-title"),c=a.attr("data-media-bait")||$("[data-media-bait]",a).attr("data-media-bait"),l=a.attr("data-media-time")||$("[data-media-time]",a).attr("data-media-time"),f=a.attr("data-media-caption")||
$("[data-media-caption]",a).attr("data-media-caption"),h=b.parent().find(".media-title-wrap"),n=b.parent().find(".media-bait-wrap"),p=b.parent().find(".media-time-wrap"),w=b.parent().find(".media-caption-wrap");d&&0<h.length&&h.empty().text(d);c&&0<n.length&&n.empty().text(c);l&&0<p.length&&p.empty().text(l);f&&0<w.length&&w.empty().text(f)},updatePlaylistCardSelection:function(a){a=$('[data-player-container] [data-media-urn\x3d"'+a+'"]');var b=a.closest("[data-player-container]");0<b.length&&($("[data-media-urn]",
b).removeClass("player-selected"),a.addClass("player-selected"))}},b={PLAYER_EVENT_STARTED:"hb/playerStarted",PLAYER_EVENT_STOPPED:"hb/playerStopped",init:function(){$(f).ready(function(){b.initStandalonePlayers();b.initAudioMediaCardPlayers()});$(f).on("click","[data-media-urn]",function(a){a.preventDefault();a=$(this);var e=a.attr("data-media-urn");if(e){var d=a.attr("data-media-start"),c=a.attr("data-player-container"),l=a.closest("[data-player-container]").attr("data-player-container");c?b.initUserEventPlayer(a,
$(c),e,!0,d):l?b.initUserEventPlayer(a,$(l),e,!0,d):b.initUserEventPlayer(a,a,e,!1,d)}return!1});$(f).on("click","[data-media-urn] a",;$(h).on("beforeunload",function(a){$(".video-js").each(function(a){a=this.player.options().SRGProviders.letterbox;b.notifyPlayerStop(a,"BEFORE_UNLOAD")})});$(f).on("mousedown touchstart",".player-container",function(a){if(a=b.getPlayer($(this))){var e=a.hbCustomData;e.hasBeenPlaying||(e.userHadInteraction=!0,a.hbCustomData=
e)}return!0})},initStandalonePlayers:function(a){$(a||".player-container.standalone").each(function(){b.initStandalonePlayer($(this))})},initAudioMediaCardPlayers:function(a){$(a||".media-card.audio").each(function(){0===$(this).find(".letterbox-web").length&&new Waypoint.Inview({element:this,enter:function(a){a=$(this.element);b.initAudioMediaCardPlayer(a);this.destroy()}})})},initStandalonePlayer:function(a){var e=a.attr("data-player-urn"),c=a.attr("data-media-start"),g=a.attr("data-player-autoplay"),
l=a.attr("data-player-mode"),f=!1,h=d.autoplaySettings(g),n=!1,p=!1;e&&0<e.indexOf(":audio:")&&(f=d.isAutoplayEnabled(g),h=!1,n=!0);g=a.find(".video-js");(g=0<g.length?g[0].player:null)?(h=g.options().SRGProviders.letterbox,p=f=!0):(l=d.letterboxConfig(l),l.container=a[0],l.autoplay=h,l.calculateTimestampOffsetForEachSegment=n,h=b.createPlayer(l,!1));h&&(p&&h.updateConfiguration({calculateTimestampOffsetForEachSegment:n}),d.loadUrn(h,e,null,c),f&&h.play());a.addClass("player-loaded");return h},initUserEventPlayer:function(a,
e,c,g,f){if(0!==e.length){var k=e.hasClass("player-container")?e:$(".player-container",e),h=a.closest("[data-reco-id]").attr("data-reco-id"),n,p=k.find(".video-js"),p=0<p.length?p[0].player:null,w=!1,v=!1;c&&0<c.indexOf(":audio:")&&(w=!0);p?g&&(n=p.options().SRGProviders.letterbox,v=!0):n=b.createPlayer({language:"fr",container:k[0],recommendations:!1,continuousPlayback:!1,fillMode:!0,components:{controlBar:!0,header:!0,sharing:!0,title:!1,thumbnails:!0,playButton:!0,subdivisions:!1},userReport:{errors:["IL_ERROR"]},
hd:{default:!0,storage:!0},autoplay:!1,calculateTimestampOffsetForEachSegment:w});n&&(b.stopAllPlayers(n),e.addClass("player-loaded"),v&&n.updateConfiguration({calculateTimestampOffsetForEachSegment:w}),d.loadUrn(n,c,h,f),d.updateDistantData(a,e),d.scrollToPlayer(e),d.updatePlaylistCardSelection(c),n.play());return n}},initAudioMediaCardPlayer:function(a){var e=null,c=a.attr("data-media-urn");c||(c=$("[data-media-urn]",a).attr("data-media-urn"));var g=a.attr("data-media-start");g||(g=$("[data-media-start]",
a).attr("data-media-start"));var f=$(".player-container",a);0<f.length&&(e=!1,c&&0<c.indexOf(":audio:")&&(e=!0),e=b.createPlayer({language:"fr",container:f[0],autoplay:!1,recommendations:!1,continuousPlayback:!1,components:{controlBar:!0,header:!0,sharing:!0,title:!1,thumbnails:!0,playButton:!0,subdivisions:!1},userReport:{errors:["IL_ERROR"]},calculateTimestampOffsetForEachSegment:e}),d.loadUrn(e,c,null,g),a.attr("data-player-reset","false"));return e},createPlayer:function(a){var e=function(a){return"function"===
typeof a.target.player?a.target.player():a.target.player},c=new SRGLetterbox(a);d.setupPlayerMetadata(c,!0);[].forEach(function(a){console.log("listen to : "+a);c.on(a,function(a){var b=e(a),d=b.options().SRGProviders.letterbox,d=d?d.getUrn():null;console.log(b.id()+" - "+d+" - "+a.type)})});c.on(SRGLetterbox.events.FIRST_PLAY,function(a){c.one(SRGLetterbox.events.TIME_UPDATE,function(a){a=e(a);var c=a.options().SRGProviders.letterbox,g=c.getConfiguration(),f=a.options().SRGProviders.mediaComposition,
m=f?f.getMainChapter():null,h=c.hbCustomData;h.playerId=a.id();h.mediaUrn=c.getUrn();h.mediaType=d.mediaType(a);h.isLive=d.isLive(a);h.startDate=new Date;h.duration=0;h.currentTime=0;h.maxPlayerTime=0;h.playedDuration=0;h.playedRanges=[];h.showTitle=f&&f.show?f.show.title:null;h.episodeTitle=f&&f.episode?f.episode.title:null;h.contentTitle=m?m.title:null;h.channel=f&&f.channel?f.channel.title:null;h.autoplay=!0!==h.userHadInteraction;h.hasBeenPlaying=!0;h.subdivisionsEnabled=g.components.subdivisions;
c.hbCustomData=h;b.notifyPlayerStart(c,"FIRST_PLAY")})});c.on(SRGLetterbox.events.PLAY,function(a){a=e(a).options().SRGProviders.letterbox;var c=a.getUrn();b.stopAllPlayers(a);d.updatePlaylistCardSelection(c)});c.on(SRGLetterbox.events.ENDED,function(a){a=e(a);b.notifyPlayerStop(a.options().SRGProviders.letterbox,"ENDED");c.one(SRGLetterbox.events.PLAYING,function(){d.setupPlayerMetadata(c,!1);b.notifyPlayerStart(c,"REPLAY")})});c.on(SRGLetterbox.events.DURATION_CHANGE,function(a){a=e(a).options().SRGProviders.letterbox;
var b=a.hbCustomData;b.duration=a.duration();a.hbCustomData=b});c.on(SRGLetterbox.events.TIME_UPDATE,function(a){a=e(a).options().SRGProviders.letterbox;var b=a.hbCustomData;b.duration=a.duration();b.currentTime=a.currentTime();b.maxPlayerTime=Math.max(b.maxPlayerTime,a.currentTime());a.hbCustomData=b});c.on(SRGLetterbox.events.FULL_SCREEN_CHANGE,function(a){try{var b=e(a).options().SRGProviders.letterbox,c=b.hbCustomData;if(b.hasSubdivisions()&&!c.subdivisionsEnabled&&"EPISODE"===c.mediaType){var d=
b.isFullscreen();b.updateConfiguration({components:{subdivisions:d}})}}catch(f){console.warn("Unable to force segments update")}});return c},getPlayer:function(a){var b=null,b=a?$(".video-js",a):$(".video-js");return 0<b.length?b[0].player.options().SRGProviders.letterbox:null},stopAllPlayers:function(a,e){$(".video-js",e).each(function(e){e=this.player.options().SRGProviders.letterbox;if("undefined"===typeof a||null==a||a.player!==this.player){var c=$(this).closest(".player-loaded"),f=c.attr("id"),
k=$(this).closest("[data-player-reset]").attr("data-player-reset");k&&"false"===k||c.hasClass("standalone")?(b.notifyPlayerStop(e,"STOP_PLAYERS"),this.player.autoplay(!1),this.player.pause(),d.isLive(this.player)||this.player.currentTime(0)):(b.notifyPlayerStop(e,"RESET_PLAYERS"),c.removeClass("player-loaded"),$(".player-loaded",c).removeClass("player-loaded"),$(".letterbox-web",c).removeClass("letterbox-web"),f&&$("[data-player-container\x3d'#"+f+"']").find(".player-selected").removeClass("player-selected"),
$(this).closest(".letterbox-web").removeClass("letterbox-web"),this.player.dispose())}})},notifyPlayerStart:function(a,e){if(a&&a.hbCustomData&&a.hbCustomData.hasBeenPlaying){var c=new CustomEvent(b.PLAYER_EVENT_STARTED,{detail:a.hbCustomData});f.dispatchEvent(c)}},notifyPlayerStop:function(a,e){if(a&&a.hbCustomData){var c=a.hbCustomData;c.hasBeenPlaying&&!c.hasBeenNotified&&(c.stoppedDate=new Date,c.playedRanges=d.computePlayedRanges(a.player),c.playedDuration=d.computePlayedDuration(a.player),c.hasBeenNotified=
!0,a.hbCustomData=c,c=new CustomEvent(b.PLAYER_EVENT_STOPPED,{detail:a.hbCustomData}),f.dispatchEvent(c))}}};b.init();c.MEDIA=b})(window,document,window.HUMMINGBIRD);
var Z63=function(h,f){var c=function(){this.afterElement=window.getComputedStyle?window.getComputedStyle(document.body,":after"):!1;this.lastBreakpoint=this.currentBreakpoint="";this.init()};c.prototype={init:function(){if("undefined"!=typeof window.matchMedia||"undefined"!=typeof window.msMatchMedia){var c=window.matchMedia("(max-width: 507px)");c.addListener(this._phoneBP);this._phoneBP(c);c=window.matchMedia("(min-width: 508px) and (max-width: 919px)");c.addListener(this._tabletBP);this._tabletBP(c);
c=window.matchMedia("(min-width: 920px ) and ( max-width: 1199px)");c.addListener(this._tabletLandscapeBP);this._tabletLandscapeBP(c);c=window.matchMedia("(min-width: 1200px)");c.addListener(this._desktopBP);this._desktopBP(c)}else this.afterElement&&this._resizeListener()},_resizeListener:function(){var c=this;f(window).on("resize orientationchange load",function(){var b=c.afterElement.getPropertyValue("content");c.currentBreakpoint=b;console.log("Breakpoint update : "+b+" --- "+this.lastBreakpoint);
c.currentBreakpoint!==c.lastBreakpoint&&(f(window).trigger("breakpoint-change",c.currentBreakpoint),c.lastBreakpoint=c.currentBreakpoint)})},_phoneBP:function(c){c.matches&&f(window).trigger("breakpoint-change","phone")},_tabletBP:function(c){c.matches&&f(window).trigger("breakpoint-change","tablet")},_tabletLandscapeBP:function(c){c.matches&&f(window).trigger("breakpoint-change","tablet-landscape")},_desktopBP:function(c){c.matches&&f(window).trigger("breakpoint-change","desktop")}};f(function(){h.mediaqueryListener=
h.mediaqueryListener||new c});return h}(Z63||{},jQuery);
(function(){var h={init:function(){HUMMINGBIRD.DOM.ready(function(){var f=$(".swisstxt-event.live").length,c=$(".swisstxt-ticker.live").length;0<f&&(setTimeout(function(){h.updateImmediateSwisstxtEvents()},150),setTimeout(function(){h.updateAllSwisstxtEvents()},5E3),setInterval(function(){h.updateAllSwisstxtEvents()},3E4));0<c&&(setTimeout(function(){h.updateImmediateSwisstxtTickers()},150),setTimeout(function(){h.updateAllSwisstxtTickers()},5E3),setInterval(function(){h.updateAllSwisstxtTickers()},
3E4))})},updateAllSwisstxtEvents:function(){$(".swisstxt-event.live").each(function(){h.updateSwisstxtEvent($(this))})},updateImmediateSwisstxtEvents:function(){$(".update-immediately .swisstxt-event.live").each(function(){h.updateSwisstxtEvent($(this))})},updateSwisstxtEvent:function(f){var c=f.attr("data-swisstxt-event-id"),d=f.attr("data-swisstxt-event-style"),c=HUMMINGBIRD.URI.hummingbirdAjaxUrl("/sport/swisstxtevent/"+c);d&&(c=HUMMINGBIRD.URI.addQueryString(c,"style\x3d"+d));HUMMINGBIRD.AJAX.ajaxGET(c,
function(b,a,c){b&&null!==a&&(b=$(a),0<b.length&&!f.get(0).isEqualNode(b.get(0))&&f.replaceWith(b))})},updateAllSwisstxtTickers:function(){$(".swisstxt-ticker.live").each(function(){h.updateSwisstxtTicker($(this))})},updateImmediateSwisstxtTickers:function(){$(".update-immediately .swisstxt-ticker.live").each(function(){h.updateSwisstxtTicker($(this))})},updateSwisstxtTicker:function(f){var c=f.attr("data-swisstxt-ticker-id"),d=HUMMINGBIRD.URI.hummingbirdAjaxUrl("/sport/swisstxtevent-ticker/"+c);
HUMMINGBIRD.AJAX.ajaxGET(d,function(b,a,e){b&&null!==a&&(b=$(a),0<b.length&&!f.get(0).isEqualNode(b.get(0))?(f.replaceWith(b),console.log("UPDATED ticker "+c)):console.log("No update for ticker "+c))})}};h.init()})();
(function(h,f,c){var d={apiPath:"/api/comment/v1",loginButtonSelector:".rts-login-button",oldStyleClass:"playrts",loginButtonTextClass:"rts-login-button-name",userPanelClass:"rts-user-panel",commentBlockSelector:".rts-comment"},b=[[{text:"Mon profil",url:c.URI.rtsOriginUrl("/profile")}],[{text:"Mes vid\u00e9os",url:c.URI.rtsOriginUrl("/profile/playlists"),description:""}],[{text:"Me d\u00e9connecter",url:"#",className:"marts-logout"}]],a={LOGIN:{init:function(){c.DOM.ready(;f.addEventListener("rts-widget-loaded",!0)},setupDefaultActions:function(){f.addEventListener("click",function(b){var d=b.target||b.srcElement;c.DOM.matches(d,".rts-login-button.connect")?a.LOGIN.showLogin(b):c.DOM.matches(d,".rts-overlay-hide-action")?a.LOGIN.closeLogin(b):c.DOM.matches(d,".marts-logout")&&a.LOGIN.logOut(b)},!0)},resetLoginButton:function(){for(var a=(parent.document||f).querySelectorAll(d.loginButtonSelector),
b=0;b<a.length;b++){var c=a[b];c.classList.remove("user");for(c.classList.remove("connect");c.firstChild;)c.removeChild(c.firstChild);var l=c.cloneNode(!0);c.parentNode.replaceChild(l,c)}},setupLoginButton:function(){if("boutique.rts.ch"!==location.hostname&&"id.rts.ch"!==location.hostname){a.LOGIN.resetLoginButton();var b=parent.document||f,m=b.querySelectorAll(d.loginButtonSelector);c.USER.getUser(function(c){for(var f=0;f<m.length;f++){var k=m[f],h=k.classList.contains(d.oldStyleClass),n=null!==
c,p=b.createElement("span"),w=b.createElement("div");p.className=d.loginButtonTextClass;k.appendChild(p);p.innerHTML=h?n?c.displayName:"Connexion":n?c.displayName:"Se connecter | S'inscrire";n?(k.classList.add("user"),a.LOGIN.setupUserPanel(w),k.appendChild(w)):k.classList.add("connect")}})}},setupUserPanel:function(a){a.className=d.userPanelClass;b.forEach(function(b){var c=f.createElement("ul");c.className="marts-up-list";b.forEach(function(a){var b=f.createElement("li");b.className="marts-up-item";
var e=f.createElement("a");e.className="marts-up-link";e.innerHTML=a.text;e.href=a.url;e.setAttribute("data-item-id","teaser");void 0!==a.className&&(e.className+=" "+a.className);b.appendChild(e);void 0!==a.description&&(e=f.createElement("p"),e.className="marts-up-description",e.innerHTML=a.description,b.appendChild(e));c.appendChild(b)});a.appendChild(c)})},loginPageUrl:function(){var a=c.URI.rtsOriginUrl("/profile/login");return c.URI.addQueryString(a,"redirect\x3d"+h.location.href)},showLoginToastMessage:function(a){var b=
c.MARTS.LOGIN.loginPageUrl(),d,l;d=f.createElement("div");d.setAttribute("class","rts-login-toast-message");a&&(l=f.createElement("p"),l.setAttribute("class","rts-login-toast-intro"),l.appendChild(f.createTextNode(a)),d.appendChild(l));a=f.createElement("a");a.appendChild(f.createTextNode("Se connecter"));a.setAttribute("class","rts-login-toast-link");a.setAttribute("href",b);d.appendChild(a);c.TOAST.show(d.outerHTML,"default",6E4)},showLogin:function(){h.location.href=c.MARTS.LOGIN.loginPageUrl()},
closeLogin:logOut:function(b){var d=c.URI.rtsOriginUrl("/profile/logout");b.preventDefault();c.AJAX.ajaxPOST(d,null,function(b,e){c.USER.resetLocalUserInfo();a.LOGIN.setupLoginButton();0===location.pathname.lastIndexOf("/profile",0)?h.location.replace(c.URI.rtsOriginUrl("/")):h.location.reload(!0)},!0)}},HISTORY:{validateAndEmptyHistory:function(){c.DIALOG.show("Suppression de l'historique","\u00cates-vous s\u00fbr de vouloir supprimer tous les \u00e9l\u00e9ments pr\u00e9sents dans l'historique ?",
"Supprimer",},emptyHistory:function(a){c.OVERLAY.hide();var b=c.URI.hummingbirdOriginUrl("/api/profile/v1/history/contents");c.AJAX.ajaxDELETE(b,null,function(b,d,f){b?a?h.location.reload(!0):c.TOAST.show("La playlist a bien \u00e9t\u00e9 vid\u00e9e","success",2E3):c.TOAST.show("Impossible de vider la playlist. Veuillez r\u00e9essayer ult\u00e9rieurement","error",2E3)},!0)},removeContentFromHistory:function(a,b){var d=c.URI.hummingbirdOriginUrl("/api/profile/v1/history/contents/"+
a);c.AJAX.ajaxDELETE(d,null,function(a,e,d){b?b(a):a?c.TOAST.show("L'\u00e9l\u00e9ment a bien \u00e9t\u00e9 retir\u00e9","success",2E3):c.TOAST.show("Impossible de retirer l'\u00e9l\u00e9ment","error",2E3)},!0)}},PLAYLIST:{addToPlaylist:function(a,b){var d=c.URI.hummingbirdOriginUrl("/profile/playlist-selector");a&&(d+="?mediaId\x3d"+a);c.OVERLAY.show("Mes playlists");c.AJAX.loadHTML(d,null,null,!0)},addToWatchLater:function(a,b){var d=c.URI.hummingbirdOriginUrl("/api/profile/v1/playlists/watch-later/contents");
c.AJAX.formPOST(d,{mediaId:a},function(a,b,e){a?c.TOAST.show("L'\u00e9l\u00e9ment a bien \u00e9t\u00e9 ajout\u00e9 \u00e0 la playlist : \x3cstrong\x3eA regarder plus tard\x3c/strong\x3e","success",2E3):c.TOAST.show("Une erreur est apparue lors de l'ajout de l'\u00e9l\u00e9ment \u00e0 la playlist. Veuillez r\u00e9essayer ult\u00e9rieurement","error",2E3)},!0)},validateAndCreateNewPlaylist:function(a){try{var b=event.target||event.srcElement,d=b.mediaId.value,f=b.playlistName.value.trim();1<=f.length&&
150>f.length?(c.MARTS.PLAYLIST.addElementToNewPlaylist(d,f),c.OVERLAY.hide()):c.TOAST.show("Le nom d'une playlist doit comporter entre 1 et 150 caract\u00e8res","error",2E3)}catch(k){}return!1},addElementToNewPlaylist:function(a,b){var d=c.URI.hummingbirdOriginUrl("/api/profile/v1/playlists");c.AJAX.formPOST(d,{name:b,mediaId:a},function(a,e,d){a?c.TOAST.show("Le contenu a bien \u00e9t\u00e9 ajout\u00e9 \u00e0 la nouvelle playlist \x3cstrong\x3e"+b+"\x3c/strong\x3e","success",2E3):c.TOAST.show("Une erreur est apparue lors de l'ajout du contenu \u00e0 la playlist. Veuillez r\u00e9essayer ult\u00e9rieurement",
"error",2E3)},!0)},addElementToPlaylist:function(a,b,d){b=c.URI.hummingbirdOriginUrl("/api/profile/v1/playlists/"+b+"/contents");c.AJAX.formPOST(b,{mediaId:a},function(a,b,e){a?(c.TOAST.show("L'\u00e9l\u00e9ment a bien \u00e9t\u00e9 ajout\u00e9 \u00e0 la playlist","success",2E3),c.OVERLAY.hide()):c.TOAST.show("Une erreur est apparue lors de l'ajout de l'\u00e9l\u00e9ment \u00e0 la playlist. Veuillez r\u00e9essayer ult\u00e9rieurement","error",2E3)},!0)},removeContentFromPlaylist:function(a,b,d){a=
c.URI.hummingbirdOriginUrl("/api/profile/v1/playlists/"+b+"/contents/"+a);c.AJAX.ajaxDELETE(a,null,function(a,b,e){d?d(a):a?c.TOAST.show("L'\u00e9l\u00e9ment a bien \u00e9t\u00e9 retir\u00e9","success",2E3):c.TOAST.show("Impossible de retirer l'\u00e9l\u00e9ment","error",2E3)},!0)},validateAndEmptyPlaylist:function(b){c.DIALOG.show("Suppression des m\u00e9dias",'\u00cates-vous s\u00fbr(e) de vouloir supprimer tous les \u00e9l\u00e9ments de la playlist\x3cbr\x3e"A regarder plus tard" ?',"Supprimer",
function(){a.PLAYLIST.emptyPlaylist(b,!0)})},emptyPlaylist:function(a,b){c.OVERLAY.hide();var d=c.URI.hummingbirdOriginUrl("/api/profile/v1/playlists/"+a+"/contents");c.AJAX.ajaxDELETE(d,null,function(a,e,d){a?b?h.location.reload(!0):c.TOAST.show("Les \u00e9l\u00e9ments de la playlist ont bien \u00e9t\u00e9 effac\u00e9","success",2E3):c.TOAST.show("Impossible d'effacer les \u00e9l\u00e9ments de la playlist. Veuillez r\u00e9essayer ult\u00e9rieurement","error",2E3)},!0)},validateAndDeletePlaylist:function(b){c.DIALOG.show("Suppression de playlist",
'\u00cates-vous s\u00fbr(e) de vouloir supprimer la playlist \x3cbr\x3e"XXXX" ?',"Supprimer",},deletePlaylist:function(a,b){c.OVERLAY.hide();var d=c.URI.hummingbirdOriginUrl("/api/profile/v1/playlists/"+a);c.AJAX.ajaxDELETE(d,null,function(a,d,e){a?b?h.location.href=c.URI.hummingbirdOriginUrl("/profile/playlists/"):c.TOAST.show("La playlist a bien \u00e9t\u00e9 supprim\u00e9e","success",2E3):c.TOAST.show("Impossible des supprimer la playlist. Veuillez r\u00e9essayer ult\u00e9rieurement",
"error",2E3)},!0)}},MY_COMMENT:{init:function(){c.DOM.ready(;f.addEventListener("rts-widget-loaded",function(b){b.detail&&b.detail.widgetName&&b.detail.widgetName===d.commentsWidgetName&&a.MY_COMMENT.setupListeners()})},setupListeners:function(){var b=f.querySelectorAll(".comment-action.delete-single");c.DOM.loopNodeList(b,function(b){b.addEventListener("click",a.MY_COMMENT.deleteSingle)});b=f.querySelectorAll(".comment-action.delete-all");c.DOM.loopNodeList(b,
},deleteSingle:function(a){a.preventDefault();if(c.USER.isLoggedIn()){a=c.DOM.closest(this,d.commentBlockSelector).getAttribute("data-comment-id");var b=c.URI.hummingbirdOriginUrl(d.apiPath+"/comments/"+a);c.DIALOG.show("Effacer votre commentaire","\u00cates-vous s\u00fbr de vouloir effacer votre commentaire ?","Effacer",function(){c.DIALOG.close();c.AJAX.ajaxDELETE(b,null,function(a,b){a?h.location.reload():c.TOAST.show("Une erreur s'est produite. Merci de r\u00e9essayer plus tard.",
"error",2E3)},!0)})}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour effacer votre commentaire")},deleteAll:function(a){a.preventDefault();if(c.USER.isLoggedIn()){var b=c.URI.hummingbirdOriginUrl(d.apiPath+"/user/comments");c.DIALOG.show("Effacer vos commentaires","\u00cates-vous s\u00fbr de vouloir effacer tous vos commentaires ?","Effacer",function(){c.DIALOG.close();c.AJAX.ajaxDELETE(b,null,function(a,b){a?h.location.reload():c.TOAST.show("Une erreur s'est produite. Merci de r\u00e9essayer plus tard.",
"error",2E3)},!0)})}else c.MARTS.LOGIN.showLoginToastMessage("Vous devez \u00eatre connect\u00e9 pour effacer vos commentaires")}}};a.LOGIN.init();a.MY_COMMENT.init();c.MARTS=a})(window,document,window.HUMMINGBIRD);
(function(){var h={init:function(){$(document).on("click",".rts-pager .pager-btn.prev",function(f){f.preventDefault();var c=$(this).closest(".rts-pager");f=c.find(".rts-pager-container");var d=parseInt(f.css("padding-left")),c=h.getInfo(c);null!=c&&null!=c.prev&&(f.removeClass("smooth-scrolling"),f.stop().animate({scrollLeft:c.prev*c.itemWidth-d}))});$(document).on("click",".rts-pager .pager-btn.next",function(f){f.preventDefault();var c=$(this).closest(".rts-pager");f=c.find(".rts-pager-container");
var d=parseInt(f.css("padding-left")),c=h.getInfo(c);null!=c&&null!=c.next&&(f.removeClass("smooth-scrolling"),f.stop().animate({scrollLeft:c.next*c.itemWidth-d}))});$(window).on("resize",;$(document).ready(;$(window).on("pager-item-loaded",},setupAllPagers:function(){$(".rts-pager-container").each(},setupPager:function(f,
c){var d=0,b=f.data("numberOfElements"),a=f.outerHeight()-f.height();f.css("grid-template-columns","repeat("+(0==b%2?b/2-1:b/2)+", 93%) 100%");f.find(".pager-item").each(function(){var a=$(this);d=Math.max(d,a.height())});f.css("min-height",d+a+"px");c&&f.scrollLeft(c);h.updateInterface(f);f.off("scroll");f.on("scroll",},updateInterface:function(f){var c=f.closest(".rts-pager"),d,b,a,e,h;d=f.outerWidth();b=f[0].scrollWidth;a=f.scrollLeft();e=!(b>d);h=0>=a;d=
a+d>=b;c.addClass("pager-computed");c.toggleClass("pager-disabled",e);c.find(".pager-btn.prev").toggleClass("disabled",h);c.find(".pager-edge.leading").toggleClass("disabled",h);c.find(".pager-btn.next").toggleClass("disabled",d);c.find(".pager-edge.trailing").toggleClass("disabled",d);e&&f.scrollLeft(0)},getInfo:function(f){var c=f.find(".rts-pager-container");f=f.find(".rts-pager-container \x3e div");for(var d=c.width(),b=parseInt(c.css("padding-left")),c=c[0].scrollWidth/f.length,a=null,e=null,
h=0;h<f.length;h++){var g=$(f[h]),l=Math.ceil(g.position().left),g=Math.ceil(l+g.outerWidth());null==a&&g>=b&&(a=h);null==e&&g>d&&(e=h);if(null!=a&&null!=e)break}null==e&&(e=f.length-1);return null!=a&&null!=e?(f=e-a,{prev:Math.max(0,a-f),next:e,first:a,count:f,itemWidth:c}):null}};h.init();HUMMINGBIRD.PAGER=h})();
(function(){var h=function(){function f(){this._$input=$(".emissions-az-list #search");this._$input.on("input",c.bind(this))}function c(){var b=this._$input.val(),a=$(".az-list .searchable"),c=$(".az-list li.item"),f=$(".az-list li.header-item");2>b.length?a.unmark({done:):(c.hide(),f.hide(),a.unmark({done:function(){b in d&&(b=eval("_synonyms."+b));a.mark(b,{separateWordSearch:!1,each:)}}))}var d={abe:"a bon entendeur",tp:"temps present",
c3:"couleur3",e2:"espace 2"};return ();$(document).ready(})();
(function(h,f,c){var d=c.URI.hummingbirdOriginUrl(),b=c.URI.hummingbirdAjaxUrl("/widgets/");c.DOM.ready(function(){var a=f.querySelectorAll("[data-rts-widget]");c.DOM.loopNodeList(a,function(a){var h=a.getAttribute("data-rts-widget"),g=a.hasAttribute("data-rts-widget-params")?a.getAttribute("data-rts-widget-params"):null,l=a.hasAttribute("data-rts-widget-src")?a.getAttribute("data-rts-widget-src"):null,k=a.hasAttribute("data-rts-widget-credentials")?a.getAttribute("data-rts-widget-credentials"):null,
k=null!=k?"1"===k||"true"===k:!1,t=c.URI.getQueryStringByName(c.SETTINGS.nativeQueryName),n=a.hasAttribute("id")?a.getAttribute("id"):null,p=b+h;null!==g&&(p=c.URI.addQueryString(p,g));null!==t&&(p=c.URI.addQueryString(p,c.SETTINGS.nativeQueryName+"\x3d"+t));null!==n&&(p=c.URI.addQueryString(p,"anchorId\x3d"+n));null!==l&&(p=c.URI.addQueryString(p,"widget_src\x3d"+l));c.AJAX.ajaxGET(p,function(b,g,l){function k(a,b){var c=a.getAttribute(b);c&&0>c.indexOf("//")&&a.setAttribute(b,d+c)}function p(){if(!x){x=
!0;c.DOM.loopNodeList(q.body.children,;a.parentNode.removeChild(a);var b=new CustomEvent("rts-widget-loaded",{detail:{widgetName:h}});f.dispatchEvent(b)}}function n(){--u;0>=r&&0>=u&&p()}function t(){--r;0>=r&&0>=u&&p()}var q=(new DOMParser).parseFromString(g,"text/html");b=q.querySelectorAll("link[rel\x3d'stylesheet']");var r=b.length;g=q.head.querySelectorAll("script");var u=g.length,x=!1;0>=r&&0>=u?p():(c.DOM.loopNodeList(b,function(a){0<f.head.querySelectorAll("link[href*\x3d'"+
a.getAttribute("href")+"']").length?t():(k(a,"href"),a.onload=t,a.onerror=t,f.head.appendChild(a),a.addEventListener("load",function(b){b=new CustomEvent("rts-widget-style-loaded",{detail:{widgetName:h,href:a.getAttribute("href")}});f.dispatchEvent(b)}))}),c.DOM.loopNodeList(g,function(a){var b=f.createElement("script");if(0<f.head.querySelectorAll("script[src*\x3d'"+a.getAttribute("src")+"']").length)n();else{k(a,"src");b.onload=n;b.onerror=n;if(a.hasAttribute("src"))b.setAttribute("src",a.getAttribute("src"));
else for(;a.childNodes.length;)b.appendChild(a.childNodes[0]);f.head.appendChild(b)}}))},k)})})})(window,document,window.HUMMINGBIRD);
(function(h,f,c){var d={DataAttributes:{zoneId:"data-zone-id",areaId:"data-area-id",areaIndex:"data-area-index",areaTitle:"data-area-title",itemId:"data-item-id",itemIndex:"data-item-index",itemTitle:"data-item-title",subItemId:"data-subitem-id",subItemIndex:"data-subitem-index",subItemTitle:"data-subitem-title"},LocalStorageItemKey:"rts-click-tracking-data",AllowedHosts:"localhost:8100 localhost.rts.ch:8100 localhost.rts.ch:8443 www.rts.ch wise-dev.rts.ch wise-demo.rts.ch wise-int.rts.ch wise-stage.rts.ch hp-dev.rts.ch hp-beta.rts.ch hbdemo.rts.ch".split(" "),WhitelistedPaths:"/archives /conditions /conditions-g\u00e9n\u00e9rales /decouverte /dossiers /emissions/religion /emissions/dossiers /entreprise /fiction /galeries /info /meteo /profile /programme-tv /recommandation /religion /service/recherche /sport /video/couleur3/120-secondes /la-1ere/programmes/ /espace-2/programmes/ /couleur3/programmes/ /options-musique/programmes/ /podcasts-originaux/programmes/ /audio /audio-podcasts /play/radio".split(" "),
BlackListedPaths:["/sport/resultats","/podcasts","/podcast",".html/BINARY"],init:function(){d.Selectors={zoneId:"["+d.DataAttributes.zoneId+"]",areaId:"["+d.DataAttributes.areaId+"]",areaIndex:"["+d.DataAttributes.areaIndex+"]",areaTitle:"["+d.DataAttributes.areaTitle+"]",itemId:"["+d.DataAttributes.itemId+"]",itemTitle:"["+d.DataAttributes.itemTitle+"]",subItemId:"["+d.DataAttributes.subItemId+"]",subItemTitle:"["+d.DataAttributes.subItemTitle+"]"};$(f).on("mousedown touchstart"," a[href], ["+d.DataAttributes.itemId+
"], ["+d.DataAttributes.subItemId+"]",function(b){b.stopPropagation();var a=$(this);b=null;var c=!1;"A"===a.prop("tagName")&&(b=$(this).attr("href"),c="undefined"!==typeof b&&-1===b.indexOf("#")&&-1===b.indexOf("javascript:")&&d.canStoreTrackingData(b));var f=null;a.is(d.Selectors.subItemId)?f=d.buildTrackingData(a,b):a.is(d.Selectors.itemId)?f=d.buildTrackingData(a,b):(a=a.closest(d.Selectors.subItemId+","+d.Selectors.itemId),0<a.length&&(f=d.buildTrackingData(a,b)));f&&d.sendHiddenEvent(f,!1);f&&
c&&d.storeTrackingData(f,!1)})},buildTrackingData:function(b,a){var c=d.getClosestAttributeValue(b,d.DataAttributes.zoneId,null);if(!c)return null;var f=d.getClosestAttributeValue(b,d.DataAttributes.areaId,null);if(!f)return null;var g=d.getItemId(b);if(!g)return null;var l=d.getHeadAttributeValue("rts:location:type","content","unset").toLowerCase(),h=d.getPageUrl(),t=b.closest(d.Selectors.areaId),n=d.getAreaIndex(c,t),p=d.getAreaTitle(t),t=d.getItemIndex(t,b),w=d.getItemTitle(b),v={};v.itemId=g;
v.pageUrl=h;"article"===l?(l=d.getHeadAttributeValue("rts:content:type","content","article"),v.level1="article:"+l+":"+c+":"+f,v.level2=(p?p.trim():"Article")+" ("+n+")"):(l=d.getHeadAttributeValue("rts:title","content","N/A"),v.level1="section-page:"+c+":"+f,v.level2=l+" - "+(p?p.trim():"Zone sans titre")+" ("+n+")");v.level3=g+"-"+t;v.level4=w?w.trim():"Sans titre";v.level5=a;return v},getItemId:function(b){if(b.is(d.Selectors.subItemId))return b.attr(d.DataAttributes.subItemId);if(b.is(d.Selectors.itemId))return b.attr(d.DataAttributes.itemId);
var a=b.closest(d.Selectors.subItemId);b=b.closest(d.Selectors.itemId);return 0<a.length?a.attr(d.DataAttributes.subItemId):0<b.length?b.attr(d.DataAttributes.itemId):null},getItemIndex:function(b,a){var e=a[0];if(e.hasAttribute(d.DataAttributes.itemIndex))return e.dataset.itemIndex.toString();if(e.hasAttribute(d.DataAttributes.itemId)){if(g=c.DOM.closest(e,d.Selectors.areaId),null!=g){var f=d.getIndexOfNode(g,e,d.DataAttributes.itemId,e.dataset.itemId);return f.toString()+"-0"}}else if(e.hasAttribute(d.DataAttributes.subItemId)&&
(f=c.DOM.closest(e,d.Selectors.itemId),null!=f)){var e=d.getIndexOfNode(f,e,d.DataAttributes.subItemId,e.dataset.subitemId),g=c.DOM.closest(f,d.Selectors.areaId);return null!=g?(f=d.getIndexOfNode(g,f,d.DataAttributes.itemId,f.dataset.itemId),f+"-"+e):"1-"+e.toString()}return null},getItemTitle:function(b){var a=b[0];if(b.is(d.Selectors.itemTitle))return b.attr(d.DataAttributes.itemTitle);if(b.is(d.Selectors.subItemTitle))return b.attr(d.DataAttributes.subItemTitle);if(b.is("[title]"))return b.attr("title");
if(a.classList.contains("js_item-title")||0===a.children.length)return a.innerText;a=a.querySelector(".card-title, .card-list-title, .card-main-title, .js_item-title");return null!=a?a.innerText:b.text()},getAreaIndex:function(b,a){return a.is(d.Selectors.areaIndex)?a.attr(d.DataAttributes.areaIndex):$("["+d.DataAttributes.zoneId+"\x3d'"+b+"'] ["+d.DataAttributes.areaId+"]").index(a)},getAreaTitle:function(b){var a=b[0];if(a.hasAttribute(d.DataAttributes.areaTitle))return a.dataset.areaTitle;if(a.hasAttribute("title"))return a.getAttribute("title");
a=b.closest(d.Selectors.areaTitle);if(0<a.length)return a.attr(d.DataAttributes.areaTitle);b=b.find(".module-title, .js_area-title");return 0<b.length?b[0].innerText:null},canStoreTrackingData:function(b){var a=f.createElement("a");a.href=b;if(-1<d.AllowedHosts.indexOf(a.host)){b=d.WhitelistedPaths.find(;var c=d.BlackListedPaths.find(function(b){var c=b.length>a.pathname.length?a.pathname.length:b.length,c=a.pathname.substring(c,c-b.length)===
b;return-1<a.pathname.indexOf(b)||c});return"undefined"!=typeof b&&"undefined"==typeof c}return!1},storeTrackingData:function(b,a){var e={srg_mod1:b.level1,srg_mod2:b.level2,srg_mod3:b.level3,srg_mod4:b.level4};a?console.log(JSON.stringify(e,null,4)):c.STORAGE.setItem(d.LocalStorageItemKey,JSON.stringify(e))},sendHiddenEvent:function(b,a){var c={eventName:"global-click",source:"automatic",type:b.itemId,value:b.pageUrl,extra1:b.level1,extra2:b.level2,extra3:b.level3,extra4:b.level4,extra5:b.level5};
a?console.log(JSON.stringify(c,null,4)):HUMMINGBIRD.PAGES.TC.trackHiddenEvent(null,c.eventName,c.source,c.type,c.value,c.extra1,c.extra2,c.extra3,c.extra4,c.extra5)},getPageUrl:function(){var b=f.querySelector("link[rel\x3d'canonical']");return null!=b?b.href:f.location.href},getHeadAttributeValue:function(b,a,c){b=$("head").find("meta[name\x3d'"+b+"']").attr(a);return"undefined"!==typeof b?b:c},getClosestAttributeValue:function(b,a,c){b=b.closest("["+a+"]");return 0<b.length?b.attr(a):c},getIndexOfNode:function(b,
a,c,d){return Array.prototype.indexOf.call(b.querySelectorAll("["+c+"\x3d"+d+"]"),a)+1}};d.init();h.RTSClickTracker=d})(window,document,window.HUMMINGBIRD);
(function(){function h(a){if(a.hasClass("playing")){var b=HUMMINGBIRD.MEDIA.getPlayer("#mainPlayer");b&&(a.addClass("paused"),b.pause());return!0}return a.hasClass("paused")?((a=HUMMINGBIRD.MEDIA.getPlayer("#mainPlayer"))&&a.play(),!0):!1}function f(a){var b=$(".live-btn");a===SRGLetterbox.events.PLAY?b.removeClass("paused").addClass("playing"):a===SRGLetterbox.events.PAUSE?b.removeClass("playing").addClass("paused"):a===SRGLetterbox.events.ENDED&&b.removeClass("playing paused")}function c(a){var b=
$("#nowPlayingInfo"),c=a.attr("data-thumbnail-url");"undefined"!==typeof c&&b.find(".embed-responsive-item:first").attr("src",c);a=a.attr("data-chapter-title");"undefined"!==typeof a&&b.find(".title:first").text(a)}function d(){var a=null,b=null,c=$(".audio-chapters").find(".selected");"undefined"!==typeof c&&0<c.length&&(b=c.closest(".audio-chapter"),a=b.next(),b=b.prev());return{$current_selection:c,$next_item:a,$previous_item:b}}function b(b){var h=!1,k=d();if(null!=k.$next_item&&0<k.$next_item.length){var t=
k.$next_item;k.$current_selection.removeClass("selected playing paused");h=!0;t.addClass("selected");e(t);c(t);a(t.attr("data-chapter-urn"))}b&&!h&&f(SRGLetterbox.events.ENDED);m()}function a(a){HUMMINGBIRD.MEDIA.stopAllPlayers();if(a){var b=$("#mainPlayer");b.attr("data-player-urn",a);b.attr("data-player-autoplay",!0);HUMMINGBIRD.MEDIA.initStandalonePlayer(b)}}function e(a){a=a.attr("data-element-id");a=HUMMINGBIRD.URI.addQueryString(document.location.href.split(/[?#]/)[0],"id\x3d"+a);window.history.replaceState({},
document.title,a)}function m(){var a=$(".player-next-btn"),b=$(".player-prev-btn"),c=d();if(0<c.$current_selection.length){var e=c.$next_item;null!=e&&0<e.length?a.removeClass("disabled"):a.addClass("disabled");0<c.$previous_item.length?b.removeClass("disabled"):b.addClass("disabled")}else a.addClass("disabled"),b.addClass("disabled")}$(document).ready(function(){var a=HUMMINGBIRD.MEDIA.getPlayer("#mainPlayer");a&&(a.on(SRGLetterbox.events.ENDED,,a.on(SRGLetterbox.events.PLAY,function(a){f(SRGLetterbox.events.PLAY);
a=$(".audio-chapters").find(".selected");0<a.length&&a.removeClass("paused").addClass("playing")}),a.on(SRGLetterbox.events.PAUSE,function(a){f(SRGLetterbox.events.PAUSE);a=$(".audio-chapters").find(".selected");0<a.length&&a.removeClass("playing").addClass("paused")}));0<$(".audio-chapters").length&&($(".player-more-info").removeClass("hidden"),$(".player-next-btn").removeClass("hidden"),$(".player-prev-btn").removeClass("hidden"));m()});$(document).on("click",".player-next-btn",function(a){a.preventDefault();
b(!1)});$(document).on("click",".player-prev-btn",function(b){b.preventDefault();b=d();if(null!=b.$previous_item&&0<b.$previous_item.length){var f=b.$previous_item;b.$current_selection.removeClass("selected playing paused");f.addClass("selected");e(f);c(f);a(f.attr("data-chapter-urn"))}m()});$(document).on("click",".live-btn:not(.show)",function(b){b.preventDefault();b.stopPropagation();b=$(this);if(!h(b)){var d=$(".audio-chapters");0<d.length?(d=d.find(".selected"),c(d),a(d.attr("data-chapter-urn"))):
(d=HUMMINGBIRD.MEDIA.getPlayer("#mainPlayer"))&&d.play();b.addClass("playing")}});$(document).on("click",".audio-chapter",function(b){b.preventDefault();b.stopPropagation();b=$(this);if(!h(b)){var d=$(".audio-chapters").find(".selected");0<d.length&&d.removeClass("selected playing paused");e(b);b.addClass("selected");c(b);a(b.attr("data-chapter-urn"));m()}});$(document).on("click",".player-more-info",function(a){a.preventDefault();a.stopPropagation();var b=$(".audio-chapters").find(".selected");if(0<
b.length){var c=$(window).scrollTop(),d=$(".player-full-width");a=b.offset().top;b=b.height();c=d.offset().top-c;a+b>c&&$("html, body").animate({scrollTop:a+b-c+20},"slow")}})})();
(function(){function h(){return $(".list-filter-dates input:checked").attr("id")}function f(a){if("all_dates"!=a){var b=moment();switch(a){case "week":b=b.subtract(7,"days");break;case "month":b=b.subtract(30,"days");break;case "year":b=b.subtract(365,"days")}return b.format("YYYY-MM-DD")}return null}function c(){return $(".list-filter-durations input:checked").attr("id")}unction b(){var a=[];$(".list-filter-tags input").each(;
return a}function a(){var a=[];$(".rts-logo-status.selected").each(;return a}function e(e,g){e=void 0===e?!1:e;g=void 0===g?!1:g;if("none"==$(".search-filters-footer").css("display")||e){"undefined"!==typeof p&&p.abort();var k={},l=$("main").attr("data-ajax-url"),m=$(".audio-portal-search-form  input[name\x3dq]").val(),n=h(),t=f(n),q=c(),r=d(),u=a(),x=b();null!=m&&(l=l+"?q\x3d"+m);null!=n&&null!=t&&(l=l+"\x26dateFilter\x3d"+t+"\x26dateRange\x3d"+
n,k.dateRange=n);null!=q&&"all_durations"!=q&&(l=l+"\x26duration\x3d"+q,k.duration=q);null!=r&&"all_thematics"!=r&&(l=l+"\x26tag\x3d"+r,k.tag=r);null!=u&&0<u.length&&(l=l+"\x26channels\x3d"+u,k.channels=u.join());0<x.length&&(l=l+"\x26availableTags\x3d"+x);g&&(l+="\x26sort\x3dcreated");$(".search-result-content").css("opacity","0.5");$(".result-loader").show();p=$.ajax({method:"GET",url:l,xhrFields:{withCredentials:!0},success:function(a,b,c){$(".search-result-content").replaceWith($(a));$(".result-loader").hide();
a=$("input[name\x3dresult-count]").val();b=$('.list-item[data-item-id\x3d"teaser"]').length;$(".result-count").text(a);k&&document.dispatchEvent(new CustomEvent("udpSearchResult",{detail:{udpFilters:k,count:void 0!==a?parseInt(a.replace(/\D/g,"")):0,itemsCount:b}}))}})}}function m(){var a=$(".filters-button"),b=$(".search-result-container"),c=$(document.body);a.removeClass("selected");b.addClass("collapsed");c.removeClass("no-scroll")}ar l=null,k=null,t=null,n=[],p;window.matchMedia("(max-width: 700px)").addListener(function(a){var b=$(".search-result-container"),c=$(".filters-button");a.matches?(c.removeClass("selected"),b.addClass("collapsed")):$("body").removeClass("no-scroll")});$(document).on("click",".filters-button",function(b){b.preventDefault();var e=$(b.currentTarget),f=$(".search-result-container");b=window.matchMedia("(max-width: 700px)").matches;e.hasClass("selected")?
(e.attr("data-item-title","Afficher les filtres"),e.removeClass("selected"),f.addClass("collapsed")):(e.attr("data-item-title","Cacher les filtres"),e.addClass("selected"),f.removeClass("collapsed"),t=h(),l=c(),k=d(),n=a());e=$(".rts-pager-container");0<e.length&&HUMMINGBIRD.PAGER.updateInterface(e);b&&$("body").addClass("no-scroll")});$(document).on("click",".js_search-filter-close",function(a){a.preventDefault();m();$("#"+t).prop("checked",!0);$("#"+l).prop("checked",!0);$("#"+k).prop("checked",
!0);$(".rts-logo-status").each(function(){var a=$(this).attr("data-channel-id");n.includes(a)?$(this).addClass("selected"):$(this).removeClass("selected")})});$(document).on("click",".sort-button",;$(document).on("click",".sort-actions-overlay",;$(document).on("click",".sort-link",function(a){a.preventDefault();a.stopPropagation();
a=$(this);var b=$("#default-sort \x3e .filter-button"),c=$("#date-sort \x3e .filter-button"),d=$(".sort-button \x3e .button-title"),f=!1;g();if(a.is("#default-sort")&&!b.hasClass("selected"))b.addClass("selected"),c.removeClass("selected"),d.text("Tri par pertinence");else if(a.is("#date-sort")&&!c.hasClass("selected"))c.addClass("selected"),b.removeClass("selected"),d.text("Tri par date"),f=!0;else return;e(!0,f)});$(document).on("click",".rts-logo-status",;$(document).on("click",".js_reset-filter, .js_search-filters-reset",function(a){a.preventDefault();a.stopPropagation();$(".rts-logo-status").removeClass("selected");$("#all_dates").prop("checked",!0);$("#all_durations").prop("checked",!0);$("#all_thematics").prop("checked",!0);"none"==$(".search-filters-footer").css("display")&&e()});$(document).on("click",".js_search-filter-validate",function(a){a.preventDefault();a.stopPropagation();m();e(!0)});$(document).on("change",'input[name\x3d"dates"]',
function(){var a=$('input[name\x3d"dates"]:checked').attr("id");$(".filter-dates-count").removeClass("selected");$("span.body-1."+a).addClass("selected");e()});$(document).on("change",'input[name\x3d"durations"]',function(){$(".filter-durations-count").removeClass("selected");$("span.body-1."+c()).addClass("selected");e()});$(document).on("change",'input[name\x3d"tags"]',function(){$(".filter-tags-count").removeClass("selected");$("span.body-1."+d()).addClass("selected");e()})})();