"use strict";(self.webpackChunkcomb_trade=self.webpackChunkcomb_trade||[]).push([[85810,75739],{51877:(e,t,n)=>{n.d(t,{Z:);var i=n(74165),r=n(15861),s=n(43144),o=n(15671),a=n(66274),c=n(99359),u=(n(35041),n(68851),n(31705),n(46536),n(27821)),l=n(46430),d=n(14300),h=n(38068),f=n(98203),p=n(45892),v=n(29168),m=n(98585),Z=n(7120),_=n(21055),g=n(86880),y=n(51503),x=n(30458),T=n(78732),b=n(17138),S=p.Eb.LONG,w=p.Eb.NET,C=p.KD.MARGIN,O=p.KD.FUTURES,I=p.KD.SWAP,E=(0,c.Z)("initTransferDialog");const k=new((0,s.Z)((function e(){var t=this;(0,o.Z)(this,e),this.init=function(){t.autorunTranferMode=(0,a.Z)(t,E)[E]()},this.transferReactionCallback=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,s,o,a,c,u,l,d,h,f,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.derTransferMode,r=t.marginTransferMode,s=t.instId,o=t.instType,a=t.instStatus,(0,v.bI)()){e.next=3;break}return e.abrupt("return");case 3:if(c=p.Ui.AUTO,u=a.isMargin,l=a.isFuturesOrSwap,d=n&&l&&n===c,r&&u&&r===c||d){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Z.Z.getInstPositions({instId:s,instType:o});case 11:h=e.sent,f=h.data,m=(void 0===f?[]:f).filter((),m.length>0||T.default.showIsolatedAutoGuide();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object.defineProperty(this,E,{writable:!0,value:function(){return(0,u.reaction)((function(){var e=y.Z.derTransferMode,t=y.Z.marginTransferMode,n=y.Z.positionType,i=y.Z.marginModeByInstFamily;return{derTransferMode:e,marginTransferMode:t,instId:h.Z.instId,instType:h.Z.instType,instStatus:h.Z.instStatus,positionType:n,marginMode:i}}),function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.marginMode,s=n.instType,r!==p.ii.ISOLATED||![O,I].includes(s)){e.next=4;break}return e.next=4,t.transferReactionCallback(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0})}}),this.showTransferDialog=function(){x.Z.update({showBondDialog:!0,isCheckBond:!0,isInitBond:!1})},this.showInitBondDialog=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.isTransfer,r=n.ccy,s=n.side,o=n.confirmBackFn,a=null;r&&(a=null===(e=x.Z.ccyList.filter(())||void 0===e?void 0:e[0]);x.Z.update({showBondDialog:!0,isCheckBond:!1,isInitBond:!0,isOnlyTransfer:i,activeTabId:t.initActiveSide({side:s}),curCcySelected:a,size:"",sizeError:""}),t.confirmBackFn=o},this.initActiveSide=function(e){var t=e.side,n=h.Z.instStatus.isFuturesOrSwap,i=y.Z.positionTypeStatus.isLongShortMode;return n&&i?t||S:w},this.onSubmit=function(){x.Z.isInitBond?t.checkInitBond()&&(t.submitInitBond(),l.Z.set(f.Iw,!1),t.confirmBackFn&&t.confirmBackFn()):x.Z.update({isInitBond:!0,isCheckBond:!1})},this.checkInitBond=function(){var e=x.Z.size;return""===e?(x.Z.update({sizeError:(0,d.O4)("trade_setting_errortip_size_empty")}),!1):0===Number(e)?(x.Z.update({sizeError:(0,d.O4)("trade_setting_initializationmodal_error_transfer_cannot_zero")}),!1):e},this.submitInitBond=(0,r.Z)((0,i.Z)().mark((function e(){var n,r,s,o,a,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.Z.instId,r=h.Z.instType,s=x.Z.size,o=x.Z.curCcy,a=x.Z.activeTabId,c={instId:n,posSide:a,type:"add",amt:s,ccy:o},(y.Z.positionTypeStatus.isNetMode||r===C)&&(c.posSide=w),e.prev=5,e.next=8,m.Z.postModifyMargin(c);case 8:g.Z.success({content:(0,d.O4)("trade_setting_modal_success_msg")}),t.onDestroy(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),(0,_.nF)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),this.onClose=function(){var e=x.Z.isCheckBond,n=x.Z.isOnlyTransfer;e||n?t.onDestroy():x.Z.update({isInitBond:!1,isCheckBond:!0})},this.onDestroy=this.confirmBackFn=null})))},78732:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var i=n(43144),r=n(15671),s=n(51877);const o=new((0,i.Z)((function e(){(0,r.Z)(this,e),this.showIsolatedAutoGuide=function(){s.Z.showTransferDialog()},this.showIsolatedAutoTransfer=function(e){var t=e.side,n=e.ccy,i=e.isTransfer,r=void 0!==i&&i,o=e.confirmBackFn;s.Z.showInitBondDialog({isTransfer:r,side:t,ccy:n,confirmBackFn:o})}})))},17138:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(4942),r=n(74165),s=n(15861),o=n(43144),a=n(15671),c=n(27821),u=n(46430),l=n(93380),d=n(98203),h=n(45892),f=n(66568),p=n(14638),v=n(30458);const m=new((0,o.Z)((function e(){var t=this;(0,a.Z)(this,e),this.init=this.subUsdPrices=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.Z.curCcy,e.next=3,p.Z.subscribe([t]);case 3:case"end":return e.stop()}}),e)}))),this.unsubUsdPrices=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.Z.curCcy,e.next=3,p.Z.unsubscribe([t]);case 3:case"end":return e.stop()}}),e)}))),this.onchangeTab=this.onChangeCcy=function(e){t.updateFields({field:"curCcySelected",value:e}),t.getAvailBond(),t.clearFields()},this.onChangeSize=function(e){t.updateFields({field:"showValidMsg",value:!1}),v.Z.update({sizeError:""});var n=v.Z.isBaseTrade,i=v.Z.usdPrice,r=u.Z.get(d.Iw),s=n?l.yx.mul(e,i):e;r&&+s<+h.xE&&t.updateFields({field:"showValidMsg",value:!0}),t.updateFields({field:"size",value:e})},this.updateFields=function(e){var t=e.field,n=e.value;v.Z.update((0,i.Z)({},t,n))},this.getAvailBond=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.Z.curCcy,e.next=3,f.Z.getMaxWithdrawal({ccy:t});case 3:n=e.sent,i=n.data,s=i[0].maxWd,(0,c.runInAction)(();case 7:case"end":return e.stop()}}),e)}))),this.clearFields=function(){t.updateFields({field:"showValidMsg",value:!1}),t.updateFields({field:"size",value:""})}})))},30458:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(15671),r=n(43144),s=n(53640),o=n(97326),a=n(60136),c=(n(57500),n(57235),n(27821)),u=n(46430),l=n(14300),d=n(38068),h=n(98203),f=n(45892),p=n(64185),v=n(64807),m=n(30525),Z=n(51503),_=n(20408),g=f.KD.OPTION,y=f.Eb.LONG;const x=new(function(e){function t(){var e;return(0,i.Z)(this,t),(e=(0,s.Z)(this,t)).isCheckBond=!1,e.isInitBond=!1,e.showBondDialog=!1,e.activeTabId=y,e.curCcySelected=null,e.availMargin="",e.showValidMsg=!1,e.size="",e.sizeError="",e.isCheckSize=u.Z.get(h.Iw),(0,c.makeObservable)((0,o.Z)(e),{isCheckBond:c.observable,isInitBond:c.observable,showBondDialog:c.observable,activeTabId:c.observable,curCcySelected:c.observable,availMargin:c.observable,showValidMsg:c.observable,size:c.observable,sizeError:c.observable,isCheckSize:c.observable,isNetMode:c.computed,availMarginCcy:c.computed,ccyList:c.computed,curCcy:c.computed,name:c.computed,digit:c.computed,isBaseTrade:c.computed,usdPrice:c.computed}),e}return(0,a.Z)(t,e),(0,r.Z)(t,[{key:"isNetMode",get:,{key:"availMarginCcy",get:,{key:"ccyList",get:function(){var e=d.Z.instStatus,t=d.Z.inst,n=t.baseCcy,i=t.quoteCcy;if(e.isSpotOrMargin)return[{value:n,label:n},{value:i,label:i}];var r=t.ctType===f.gw.LINEAR?i:n;return[{value:r,label:r}]}},{key:"curCcy",get:function(){var e;return d.Z.instStatus.isSpotOrMargin&&(null===(e=this.curCcySelected)||void 0===e?void 0:e.value)||this.ccyList[0].value}},{key:"name",get:function(){var e=d.Z.inst,t=e.instType,n=e.instId,i=e.uly;return t===g&&m.Z.isOptionLayout?(0,l.O4)("trade_header_dropdown_options",{index:i.replace("-","")}):(0,v.T)({instType:t,instId:n})||"--"}},{key:"digit",get:function(){var e=d.Z.inst,t=d.Z.instStatus,n=d.Z.config,i=n.quoteDig,r=n.baseDig,s=t.isFuturesOrSwap,o=e.ctType===f.gw.INVERSE;return s&&o?r:i}},{key:"isBaseTrade",get:function(){var e=d.Z.inst.baseCcy;return this.curCcy===e}},{key:"usdPrice",get:]),t}(p.Z))},62260:9154:(e,t,n)=>{n.d(t,{Ee:()=>Z,Gc:()=>j,H5:()=>E,Io:()=>I,JL:()=>B,KL:()=>b,LB:()=>C,Ot:()=>w,Rz:()=>D,SD:()=>N,S_:()=>h,UD:()=>f,VB:()=>g,_4:()=>y,_7:()=>_,bg:()=>P,d3:()=>m,fj:()=>x,h9:()=>T,ns:()=>O,ny:()=>k,oK:()=>p,oU:()=>S,pw:()=>v,qd:()=>M,rM:()=>A});var i=n(4942),r=n(14300),s=n(45892),o=s.KD.MARGIN,a=s.KD.FUTURES,c=s.KD.SWAP,u=s.KD.OPTION,l=s.ii.ISOLATED,d=s.ii.CROSS,h="ANY",f="HAS_SHOW_POSITION_NEW_BEE_GUIDE",p="POSITION_DRAG_DROP_LIST",v="POSITION_IS_FIRST_COL_FIXED",m=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h,(0,r.O4)("trade_bot_dropdown_all_positions")),o,(0,r.O4)("trade_botdetails_colheader_pos_margin")),a,(0,r.O4)("trade_botdetails_colheader_pos_futures")),c,(0,r.O4)("trade_botdetails_button_pos_perpetual")),u,(0,r.O4)("trade_botdetails_button_pos_options")),Z=[{value:"all",label:(0,r.O4)("trade_bot_dropdown_isolated_cross")},{value:d,label:(0,r.O4)("perp_placeorder_dropdown_cross")},{value:l,label:(0,r.O4)("perp_placeorder_dropdown_isolated")}],_={UP:"up",DOWN:"down",NONE:"none"},g={HIDE:"hide",ENABLED:"enabled",DISABLED:"disabled"},y={SUCCESS:"0",FAILED:"1",SOME_FAILED:"2"},x={ICEBERG:"iceberg",SMART_ICEBERG:"smart_iceberg",TWAP:"twap",ARBITRAGE:"arbitrage"},T={ADD:"add",REDUCE:"reduce"},b={BORROW:"borrow",REPAY:"repay"},S={RISK_UNIT:"RISK_UNIT",DATE_COLLECTION:"DATE_COLLECTION",POSITION_ITEM:"POSITION_ITEM"},w={TABLE:"table",DRAGGABLE_TABLE:"draggable_table"},C={INST_ID:"INST_ID",TOTAL:"TOTAL",MARK_PX:"MARK_PX",AVG_PX:"AVG_PX",BREAKEVEN_PX:"BREAKEVEN_PX",UNREALIZED_PNL:"UNREALIZED_PNL",LIQ_PX:"LIQ_PX",MARGIN_RATIO:"MARGIN_RATIO",MARGIN_BALANCE:"MARGIN_BALANCE",POS_TPSL:"POS_TPSL",TPSL:"TPSL",MARKET_CLOSE_ALL:"MARKET_CLOSE_ALL",ACTION:"ACTION",REVERSE_POS:"REVERSE_POS",MARKET_VALUE:"MARKET_VALUE",DELTA:"DELTA",AUTO_REDUCE:"AUTO_REDUCE"},O={CROSS:"cross",ISOLATED:"isolated",ALL:"all"},I={DEFAULT:"default",VALUE:"value",COIN:"coin",DELIVERY_DATE:"deliveryDate",UNDERLYING:"underlying"},E=[{value:I.DEFAULT,label:(0,r.O4)("trade_bot_dropdown_default_sorting")},{value:I.VALUE,label:(0,r.O4)("trade_bot_dropdown_value_highest_to_lowest")},{value:I.COIN,label:(0,r.O4)("trade_bot_dropdown_name")},{value:I.DELIVERY_DATE,label:(0,r.O4)("trade_bot_dropdown_settlement")},{value:I.UNDERLYING,label:(0,r.O4)("trading_bot_title_sort_underlying")}],k={isCurrentPair:!1,instType:h,mgnMode:"all",isRiskUnit:!1},j={OCO:"oco",CONDITIONAL:"conditional"},D={PRICE:"price",AMOUNT:"amount",TOTAL:"total"},N={DELTA:"delta",GAMMA:"gamma",THETA:"theta",VEGA:"vega"},A=["delta","gamma","theta","vega"],P=((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},o,(0,r.O4)("trade_share_label_margin")),a,(0,r.O4)("trade_share_label_futures")),c,(0,r.O4)("trade_share_label_swap")),u,(0,r.O4)("trade_share_label_option")),(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},c,4),a,3),o,2),u,1)),B={PA:"PA",BS:"BS"},M="growth_coupon"},74923:(e,t,n)=>{n.d(t,{v:()=>i});var i={CONNECTED:"1",UNSTABLE:"2",CONNECTING:"3",DISCONNECT:"4"}},6985:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(74165),r=n(15861),s=n(43144),o=n(15671),a=n(89776),c=n(16883),u=n(49806);const l=new((0,s.Z)((function e(){(0,o.Z)(this,e),this.init=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.Z.init(),u.Z.initAccount(),c.Z.init();case 3:case"end":return e.stop()}}),e)}))),this.destroy=)))},14638:69770:(e,t,n)=>{n.r(t),n.d(t,{default:()=>si});var i=n(15671),r=n(43144),s=n(53640),o=n(60136),a=n(1413),c=(n(67699),n(69710),n(46539),n(92471),n(78563),n(87363)),u=n.n(c),l=n(3550),d=n(95640),h=n.n(d),f=n(37765),p=n(94268),v=n(91703),m=n(74165),Z=n(15861),_=n(62260),g=n(89776);const y=new((0,r.Z)((function e(){var t=this;(0,i.Z)(this,e),this.init=(0,Z.Z)((0,m.Z)().mark((function e(){var n;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=document)||void 0===n||n.addEventListener(_.K,t.linkToRefresh);case 1:case"end":return e.stop()}}),e)}))),this.destroy=function(){var e;null===(e=document)||void 0===e||e.removeEventListener(_.K,t.linkToRefresh)},this.linkToRefresh=function(e){var t=e.detail,n=t.inst,i=t.callback;null===i||void 0===i||i(),g.Z.openInst(n)}})));var x=n(6985),T=n(43709),b=n(27197),S=n(14300),w=n(84807),C=n(64082),O=(n(11244),n(46430)),I=n(98203),E=n(97326),k=n(27821),j=n(34600),D=n(38068),N=n(44667),A=n(64185),P=n(64807),B=n(46123);const M=new(function(e){function t(){var e;return(0,i.Z)(this,t),(e=(0,s.Z)(this,t)).localModal=!1,e.hasCheck=!1,(0,k.makeObservable)((0,E.Z)(e),{localModal:k.observable,hasCheck:k.observable,localAnnounceStatus:k.computed,showAnnounce:k.computed,deliveryTimeDisp:k.computed,baseCcy:k.computed,instName:k.computed,linkUrl:k.computed}),e}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"localAnnounceStatus",get:function(){return this.localModal||O.Z.get("".concat(I.JB,"_").concat(this.baseCcy))}},{key:"showAnnounce",get:function(){var e=B.Z.swapPreDelivery.deliveryStartTime;return Boolean(e&&!this.localAnnounceStatus)}},{key:"deliveryTimeDisp",get:function(){var e=B.Z.swapPreDelivery.deliveryTime;return(0,j.o0)(e,{format:"yyyyMMddHHmmss"})}},{key:"baseCcy",get:function(){var e,t;return null===(e=D.Z.inst)||void 0===e||null===(t=e.baseCcy)||void 0===t?void 0:t.toUpperCase()}},{key:"instName",get:function(){var e=D.Z.inst,t=e.instType,n=e.instId;return(0,P.T)({instId:n,instType:t})}},{key:"linkUrl",get:function(){var e,t=D.Z.inst.instType;return null===(e=N.Z[t])||void 0===e?void 0:e.TOKEN_SPLIT_ZENDESK}}]),t}(A.Z));const L=new((0,r.Z)((function e(){var t=this;(0,i.Z)(this,e),this.hideModal=this.confirmModal=function(){var e=M.hasCheck,n=M.baseCcy;e&&O.Z.set("".concat(I.JB,"_").concat(n),!0),t.hideModal()},this.changeBox=)));var R=n(45263),U=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=M.hasCheck;return(0,R.jsx)("div",{className:"check-off-box",children:(0,R.jsx)(C.Z,{size:C.Z.SIZE.sm,onChange:L.changeBox,checked:e,children:(0,S.O4)("perp_offline_coin_label")})})}}]),t}(u().Component);const F=(0,T.observer)(U);var K=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=M.deliveryTimeDisp,t=M.baseCcy,n=void 0===t?"":t,i=M.instName,r=void 0===i?"":i,s=M.linkUrl,o=void 0===s?"":s;return(0,R.jsx)("div",{className:"offline-box",children:(0,R.jsxs)("div",{className:"content",children:[(0,R.jsx)("p",{children:(0,S.O4)("perp_offline_coin_text1",{instName:r,coin:n,offlineTime:e})}),(0,R.jsx)("p",{children:(0,S.Lg)("perp_offline_coin_text2",{detailLink:(0,R.jsx)("a",{className:"text-primary",href:o,children:(0,S.O4)("perp_offline_coin_link")})})})]})})}}]),t}(u().Component);const z=(0,T.observer)(K);var V=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=M.showAnnounce;return(0,R.jsx)(w.Z.Tip,{visible:e,infoType:w.Z.Tip.INFO_TYPE.info,confirmText:(0,S.O4)("perp_offline_coin_button"),onConfirm:function(){L.confirmModal()},onClose:function(){L.hideModal()},children:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(z,{}),(0,R.jsx)(F,{})]})})}}]),t}(u().Component);const G=(0,T.observer)(V);var W=n(29439),H=(n(41561),n(51702),n(88386),n(85546)),Y=n(99669),q=n(45892),J=n(29168),X=n(40506),Q=n(21055),$=n(86880),ee=n(43885);const te="index_cryptoMarginSwitchDialog__t5HM1",ne="index_cryptoMarginSwitchDialogHeader__X+7Y1",ie="index_cryptoMarginSwitchDialogFooter__DP0-2",re="index_cancelButton__gFH+J",se="index_override__-9O8t",oe="index_confirmButton__1MiJs",ae="index_tradeContent__7ONsB",ce="index_checkbox__7uR-L",ue="index_instBoxLeft__G++tN",le="index_instBoxRight__B9HWH",de="index_arrow__V9KNC",he="index_quoteCcy__+0QVI";var fe=["USDT","USDC"],pe={USDT:"tousdt",USDC:"tousdc"},ve="stayonpage",me="notshowagain",Ze="switch";const _e=(0,T.observer)((function(){var e=D.Z.instType,t=D.Z.simpleTypes,n=D.Z.inst,i=n.baseCcy,r=n.quoteCcy,s=Y.Z.isMultiAccount,o=Y.Z.isPmAccount,a=(0,c.useState)(!1),u=(0,W.Z)(a,2),l=u[0],d=u[1],f=(0,c.useState)(""),p=(0,W.Z)(f,2),v=p[0],m=p[1],Z=(0,c.useState)(""),_=(0,W.Z)(Z,2),y=_[0],x=_[1],T=(0,c.useState)((),b=(0,W.Z)(T,2),E=b[0],k=b[1],j=pe[v];return(0,c.useEffect)((function(){E?O.Z.set(I.xm,E):O.Z.remove(I.xm)}),[E]),(0,c.useEffect)((function(){var n=t[e];if(n&&0!==n.length){var a,c,u=!(0,J.bI)()||s||o||O.Z.get(I.xm)||(c=r,(a=e)!==q.KD.SWAP&&a!==q.KD.FUTURES||"USD"!==c)||X.Z.getAccountHasToken({ccy:[i].concat(fe).join(",")}).then((function(e){if(!e[i])for(var t=0;t<fe.length;t++){var n=fe[t],r=u(n);if(e[n]&&r){m(n),x(r.instId),d(!0);break}}})).catch(()}}),[t,e,i,r]),(0,c.useEffect)((function(){l&&j&&(0,ee.xU3)({type:j})}),[l,j]),(0,R.jsxs)(w.Z,{visible:l,hideCloseBtn:!0,windowClass:te,topContent:(0,R.jsxs)("div",{className:ne,children:[(0,R.jsxs)("div",{className:ue,children:[(0,R.jsxs)("span",{children:[i," "]}),(0,R.jsx)("span",{className:he,children:r})]}),(0,R.jsx)("div",{className:de}),(0,R.jsxs)("div",{className:le,children:[(0,R.jsxs)("span",{children:[i," "]}),(0,R.jsx)("span",{className:he,children:v})]})]}),footerClassName:ie,cancelBtnProps:{className:h()(re,se),block:!0,size:H.Z.SIZE.md,category:H.Z.CATEGORY.fill,type:H.Z.TYPE.gray},cancelText:(0,S.O4)("trade_modal_btn_stay"),onCancel:function(){(0,ee.zbO)({type:j,area:ve}),d(!1)},confirmBtnProps:{className:h()(oe,se),block:!0,size:H.Z.SIZE.md,category:H.Z.CATEGORY.fill,type:H.Z.TYPE.highlight},btnFull:!0,confirmText:(0,S.O4)("trade_modal_btn_switch",{USDT:v}),onConfirm:function(){(0,ee.zbO)({type:j,area:Ze}),d(!1),g.Z.setInst({instType:e,instId:y}),$.Z.success((0,S.O4)("trade_toast_text_all_set",{USDT:v}))},children:[(0,R.jsx)("p",{className:ae,children:(0,S.O4)("trade_modal_desc_no_btc",{BTC:i,USDT:v})}),(0,R.jsx)(C.Z,{className:ce,size:C.Z.SIZE.md,checked:E,onChange:function(e){(0,ee.zbO)({type:j,area:me}),k(e.target.checked)},children:(0,S.O4)("trade_modal_checkbox_dont_show")})]})}));var ge=n(64558),ye=n(37008),xe=n(51877),Te=n(30458),be=function(e){function t(){var e;return(0,i.Z)(this,t),e=(0,s.Z)(this,t),(0,k.makeObservable)((0,E.Z)(e),{confirmText:k.computed,transferTitle:k.computed}),e}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"confirmText",get:function(){return Te.Z.isInitBond?(0,S.O4)("trade_setting_button_auto_dialog_init"):(0,S.O4)("trade_setting_button_auto_dialog_transfer")}},{key:"transferTitle",get:function(){return Te.Z.isInitBond?(0,S.O4)("trade_setting_title_auto_init_bond"):(0,S.O4)("trade_setting_title_isolated_auto_check_bond")}}]),t}(A.Z);const Se=new be;var we=u().lazy((function(){return n.e(13359).then(n.bind(n,13359))})),Ce=u().lazy((function(){return n.e(67619).then(n.bind(n,67619))})),Oe=function(e){function t(e){var n;return(0,i.Z)(this,t),n=(0,s.Z)(this,t,[e]),xe.Z.init(),n}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=Te.Z.isCheckBond,t=Te.Z.isInitBond,n=Te.Z.showBondDialog,i=Se.confirmText,r=Se.transferTitle;return(0,R.jsxs)(w.Z.Action,{visible:n,title:r,onClose:function(){xe.Z.onClose()},onCancel:function(){xe.Z.onClose()},cancelText:(0,S.O4)("options_buyoptions_modal_btn_cancel"),confirmText:i,noContentPadding:!1,width:"392px",onConfirm:function(){xe.Z.onSubmit()},children:[(0,R.jsx)(ge.Z,{when:e,children:(0,R.jsx)(c.Suspense,{fallback:(0,R.jsx)(ye.Z,{style:{textAlign:"center",marginTop:10}}),children:(0,R.jsx)(we,{})})}),(0,R.jsx)(ge.Z,{when:t,children:(0,R.jsx)(c.Suspense,{fallback:(0,R.jsx)(ye.Z,{style:{textAlign:"center",marginTop:10}}),children:(0,R.jsx)(Ce,{})})})]})}}]),t}(c.Component);const Ie=(0,T.observer)(Oe);var Ee=n(7562),ke=n(9450),je=n(51503),De=n(66274),Ne=n(99359),Ae=(n(57500),n(78097),n(57235),n(9532)),Pe=function(e){function t(){var e;return(0,i.Z)(this,t),(e=(0,s.Z)(this,t)).showAnnounce=!1,(0,k.makeObservable)((0,E.Z)(e),{showAnnounce:k.observable}),e}return(0,o.Z)(t,e),(0,r.Z)(t)}(A.Z);const Be=new Pe;var Me=(0,Ne.Z)("rememberUserChoice"),Le=(0,Ne.Z)("switchToNewPage"),Re=function(){function e(){(0,i.Z)(this,e),Object.defineProperty(this,Le,{value:Fe}),Object.defineProperty(this,Me,{value:Ue})}return(0,r.Z)(e,[{key:"init",value:function(){var e=!v.Z.isChartTradingLayout&&!O.Z.get(I.EP);Be.updateByKey("showAnnounce",e)}},{key:"destroy",value:function(){var e;clearTimeout(this.timer),null===(e=this.watchHandler)||void 0===e||e.call(this)}},{key:"confirmDialog",value:function(){this.hiddenDialog(),(0,De.Z)(this,Le)[Le]()}},{key:"hiddenDialog",value:function(){(0,De.Z)(this,Me)[Me](),Be.updateByKey("showAnnounce",!1)}}]),e}();function Ue(){O.Z.set(I.EP,!0)}function Fe(){var e="".concat(window.location.pathname).concat(window.location.search,"#layout=").concat(Ae.f1);window.location.replace(e),setTimeout((function(){window.location.reload()}),300)}const Ke=new Re;const ze=function(e){var t=e.className,n=void 0===t?"":t;return(0,R.jsxs)("svg",{width:"288",height:"162",viewBox:"0 0 288 162",fill:"none",className:n,xmlns:"http://www.w3.org/2000/svg",children:[(0,R.jsx)("rect",{x:"36",width:"227",height:"161.519",rx:"8.73077",fill:"#404040"}),(0,R.jsx)("rect",{x:"49.0977",y:"13.0962",width:"200.808",height:"135.327",rx:"4.36538",fill:"#121212"}),(0,R.jsx)("rect",{x:"81.8359",y:"21.8269",width:"135.327",height:"117.865",rx:"2.18269",fill:"#2E2E2E"}),(0,R.jsx)("rect",{x:"57.8281",y:"21.8269",width:"15.2788",height:"117.865",rx:"2.18269",fill:"#2E2E2E"}),(0,R.jsx)("rect",{x:"225.898",y:"21.8269",width:"15.2788",height:"117.865",rx:"2.18269",fill:"#2E2E2E"}),(0,R.jsx)("rect",{x:"101.484",y:"35.5779",width:"6.54808",height:"55.2221",rx:"2.18269",fill:"#CA3F64"}),(0,R.jsx)("rect",{x:"112.398",y:"90.8003",width:"6.54808",height:"20.0808",rx:"2.18269",fill:"#CA3F64"}),(0,R.jsx)("rect",{x:"123.312",y:"110.881",width:"6.54808",height:"20.0808",rx:"2.18269",fill:"#CA3F64"}),(0,R.jsx)("rect",{x:"134.223",y:"70.719",width:"6.54808",height:"60.2423",rx:"2.18269",fill:"#25A750"}),(0,R.jsx)("rect",{x:"145.137",y:"55.6587",width:"6.54808",height:"15.0606",rx:"2.18269",fill:"#25A750"}),(0,R.jsx)("rect",{width:"6.54808",height:"25.101",rx:"2.18269",transform:"matrix(1 0 0 -1 156.051 55.6587)",fill:"#25A750"}),(0,R.jsx)("rect",{width:"6.54808",height:"65.2625",rx:"2.18269",transform:"matrix(1 0 0 -1 166.965 95.8201)",fill:"#CA3F64"}),(0,R.jsx)("rect",{x:"177.879",y:"65.6992",width:"6.54808",height:"30.1212",rx:"2.18269",fill:"#25A750"}),(0,R.jsx)("rect",{x:"90.5703",y:"35.5779",width:"6.54808",height:"25.101",rx:"2.18269",fill:"#25A750"}),(0,R.jsx)("rect",{x:"188.789",y:"54.5674",width:"6.54808",height:"10.9135",rx:"2.18269",fill:"#25A750"}),(0,R.jsx)("rect",{x:"199.703",y:"48.0193",width:"6.54808",height:"6.54808",rx:"2.18269",fill:"#25A750"}),(0,R.jsx)("circle",{cx:"65.5",cy:"80.5",r:"11.5",fill:"white",fillOpacity:"0.2"}),(0,R.jsx)("circle",{cx:"234.5",cy:"80.5",r:"11.5",fill:"white",fillOpacity:"0.2"}),(0,R.jsx)("circle",{cx:"65.5",cy:"80.5",r:"3.5",fill:"white"}),(0,R.jsx)("circle",{cx:"234.5",cy:"80.5",r:"3.5",fill:"white"}),(0,R.jsx)("path",{d:"M1.5 81H51.5",stroke:"#F9F9F9",strokeDasharray:"2 2"}),(0,R.jsx)("path",{d:"M237 81H287",stroke:"#F9F9F9",strokeDasharray:"2 2"})]})};const Ve=function(e){var t=e.className,n=void 0===t?"":t;return(0,R.jsxs)("svg",{width:"288",height:"162",viewBox:"0 0 288 162",fill:"none",className:n,xmlns:"http://www.w3.org/2000/svg",children:[(0,R.jsx)("rect",{x:"30",width:"227.676",height:"162",rx:"8.75676",fill:"#EBEBEB"}),(0,R.jsx)("rect",{opacity:"0.5",x:"43.1367",y:"13.1353",width:"201.405",height:"135.73",rx:"4.37838",fill:"white"}),(0,R.jsx)("rect",{x:"75.9766",y:"21.8916",width:"135.73",height:"118.216",rx:"2.18919",fill:"white"}),(0,R.jsx)("rect",{x:"51.8945",y:"21.8916",width:"15.3243",height:"118.216",rx:"2.18919",fill:"white"}),(0,R.jsx)("rect",{x:"220.461",y:"21.8916",width:"15.3243",height:"118.216",rx:"2.18919",fill:"white"}),(0,R.jsx)("rect",{x:"95.6758",y:"35.6838",width:"6.56757",height:"55.3865",rx:"2.18919",fill:"#EB4B6D"}),(0,R.jsx)("rect",{x:"106.621",y:"91.0706",width:"6.56757",height:"20.1405",rx:"2.18919",fill:"#EB4B6D"}),(0,R.jsx)("rect",{x:"117.566",y:"111.21",width:"6.56757",height:"20.1405",rx:"2.18919",fill:"#EB4B6D"}),(0,R.jsx)("rect",{x:"128.512",y:"70.9294",width:"6.56757",height:"60.4216",rx:"2.18919",fill:"#31BD65"}),(0,R.jsx)("rect",{x:"139.461",y:"55.8242",width:"6.56757",height:"15.1054",rx:"2.18919",fill:"#31BD65"}),(0,R.jsx)("rect",{width:"6.56757",height:"25.1757",rx:"2.18919",transform:"matrix(1 0 0 -1 150.406 55.8242)",fill:"#31BD65"}),(0,R.jsx)("rect",{width:"6.56757",height:"65.4568",rx:"2.18919",transform:"matrix(1 0 0 -1 161.352 96.105)",fill:"#EB4B6D"}),(0,R.jsx)("rect",{x:"172.297",y:"65.8948",width:"6.56757",height:"30.2108",rx:"2.18919",fill:"#31BD65"}),(0,R.jsx)("rect",{x:"84.7305",y:"35.6838",width:"6.56757",height:"25.1757",rx:"2.18919",fill:"#31BD65"}),(0,R.jsx)("rect",{x:"183.242",y:"54.7297",width:"6.56757",height:"10.9459",rx:"2.18919",fill:"#31BD65"}),(0,R.jsx)("rect",{x:"194.188",y:"48.1621",width:"6.56757",height:"6.56757",rx:"2.18919",fill:"#31BD65"}),(0,R.jsx)("circle",{cx:"64",cy:"81.5",r:"11.5",fill:"black",fillOpacity:"0.2"}),(0,R.jsx)("circle",{cx:"233",cy:"81.5",r:"11.5",fill:"black",fillOpacity:"0.2"}),(0,R.jsx)("circle",{cx:"64",cy:"81.5",r:"3.5",fill:"black"}),(0,R.jsx)("circle",{cx:"233",cy:"81.5",r:"3.5",fill:"black"}),(0,R.jsx)("path",{d:"M0 81H51",stroke:"black",strokeDasharray:"2 2"}),(0,R.jsx)("path",{d:"M235.5 81H285.5",stroke:"black",strokeDasharray:"2 2"})]})};var Ge=(0,T.observer)((function(){var e=Be.showAnnounce,t=je.Z.isThemeDark?ze:Ve;return(0,c.useEffect)((,[]),(0,R.jsxs)(w.Z,{visible:e,title:(0,S.O4)("trade_charts_dialog_title_chart_trading_layout"),onClose:function(){Ke.hiddenDialog(),(0,ee.M3x)({button_name:"no"})},onConfirm:function(){Ke.confirmDialog(),(0,ee.M3x)({button_name:"switch"})},cancelText:(0,S.O4)("trade_charts_dialog_btn_not_now"),confirmText:(0,S.O4)("trade_charts_dialog_btn_switch"),width:600,children:[(0,R.jsxs)("div",{className:"announce-content-image-container",children:[(0,R.jsx)("p",{className:"announce-content-image-text",children:(0,S.O4)("trade_charts_dialog_drawing_tool")}),(0,R.jsx)(t,{}),(0,R.jsx)("p",{className:"announce-content-image-text",children:(0,S.O4)("trade_charts_dialog_market_data_order_panel")})]}),(0,R.jsxs)("div",{className:"announce-content-description",children:[(0,R.jsxs)("div",{className:"announce-content-row",children:[(0,R.jsxs)("div",{className:"announce-content-item",children:[(0,R.jsx)(Ee.Z,{className:"okx-trading-analysis announce-content-icon"}),(0,S.O4)("trade_charts_dialog_more_space_for_chart")]}),(0,R.jsxs)("div",{className:"announce-content-item",children:[(0,R.jsx)(Ee.Z,{className:"okx-trading-orders announce-content-icon"}),(0,S.O4)("trade_charts_dialog_height_customization_for_position")]})]}),(0,R.jsxs)("div",{className:"announce-content-row",children:[(0,R.jsxs)("div",{className:"announce-content-item",children:[(0,R.jsx)(Ee.Z,{className:"okx-trading-trade announce-content-icon"}),(0,S.O4)("trade_charts_dialog_easy_and_quick_order")]}),(0,R.jsxs)("div",{className:"announce-content-item",children:[(0,R.jsx)(Ee.Z,{className:"okx-trading-official-website announce-content-icon"}),(0,S.O4)("trade_charts_dialog_side_menu_for_instant")]})]})]})]})}));const We=(0,ke.Z)((function(e){return e.isSm?null:(0,R.jsx)(Ge,{})}));const He=function(e){var t=e.children,n=(0,c.useState)(!1),i=(0,W.Z)(n,2),r=i[0],s=i[1];return(0,c.useEffect)((function(){var e=return document.addEventListener("mousemove",e),document.addEventListener("touchstart",e),),[]),r?t:(0,R.jsx)(c.Fragment,{})};var Ye=n(45225),qe=n(87413),Je=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=qe.Z.confirmFetchLoading,t=qe.Z.showCoolConfirm,n=qe.Z.hasPendingOrder,i=qe.Z.dispCoolEndTime,r="",s="",o="";return e||(r=(0,S.O4)("trading_coolingoff_title_confirm_open"),s=(0,S.O4)("trading_coolingoff_subtitle_confirm_open",{endTime:i}),o=(0,S.O4)("trading_coolingoff_btn_confirm"),n&&(r=(0,S.O4)("trade_cool_text_title_order"),s=(0,S.O4)("trade_cool_modals_confirm_text"),o=(0,S.O4)("trade_cool_button_cancel"))),(0,R.jsxs)(w.Z.Tip,{visible:t,width:390,hideCloseBtn:!0,infoType:w.Z.Tip.INFO_TYPE.warn,confirmText:o,cancelText:(0,S.O4)("options_buyoptions_modal_btn_cancel"),title:r,onConfirm:function(){Ye.Z.confirmCoolingTrade()},onCancel:function(){Ye.Z.closeConfirmCool()},children:[(0,R.jsx)(ge.Z,{when:e,children:(0,R.jsx)(ye.Z,{style:{textAlign:"center"}})}),(0,R.jsx)(ge.Z,{when:!e,children:s})]})}}]),t}(c.Component);const Xe=(0,T.observer)(Je);var Qe=u().lazy((function(){return n.e(74003).then(n.bind(n,37055))})),$e=u().lazy((),et=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=je.Z.isPreTradeCooling,t=je.Z.isTradeCooling;return(0,R.jsxs)(c.Suspense,{fallback:(0,R.jsx)(c.Fragment,{}),children:[(0,R.jsx)(ge.Z,{when:e,children:(0,R.jsx)(Qe,{})}),(0,R.jsx)(ge.Z,{when:t,children:(0,R.jsx)($e,{})})]})}}]),t}(c.Component);const tt=(0,T.observer)(et);var nt=n(10371),it=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"componentDidMount",value:,{key:"render",value:function(){var e=nt.Z.isDerivativesCooling;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ge.Z,{when:e,children:(0,R.jsx)(tt,{})}),(0,R.jsx)(Xe,{})]})}}]),t}(c.Component);const rt=(0,T.observer)(it);n(29841);const st=rt;var ot=n(56883),at=n(11680),ct=n(2467),ut=n(74923),lt=n(53859),dt=n(39622),ht=n(72791),ft=dt.z.CONNECTED_SUCCESS,pt=dt.z.DISCONNECT_BREAK;const vt=new(function(){function e(){var t=this;(0,i.Z)(this,e),this.init=function(){lt.X.addListener(lt.J.onPubWsStatus,t.wsStatusChange),window.addEventListener("online",t.netOnline),window.addEventListener("offline",t.netOnline)},this.destroy=function(){lt.X.removeListener(lt.J.onPubWsStatus,t.wsStatusChange),window.removeEventListener("online",t.netOnline),window.removeEventListener("offline",t.netOnline),clearTimeout(t.unStableDisconnectTimer)},this.wsStatusChange=function(e){var n=e.status;ht.Z.updateByKey("wsChangeStatus",n),n!==ft?n===pt&&t.wsError():t.isShowedUnStable=!1},this.wsError=function(){t.isShowedUnStable||(t.isShowedUnStable=!0,ht.Z.updateByKey("wsUnStable",!0),clearTimeout(t.unStableDisconnectTimer),t.unStableDisconnectTimer=setTimeout((,3e3))},this.unStableDisconnectTimer=null,this.isShowedUnStable=!1}return(0,r.Z)(e,[{key:"netOnline",value:]),e}());const mt=function(e){var t=e.className;return(0,R.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,R.jsx)("rect",{y:"9.167",width:"1.67",height:"3"}),(0,R.jsx)("rect",{x:"3.2",y:"5.667",width:"1.67",height:"6.67"}),(0,R.jsx)("rect",{x:"6.67",y:"3",width:"1.67",height:"10.83"}),(0,R.jsx)("rect",{x:"10.34",width:"1.67",height:"15"})]})},Zt="index_footer-wrapper__EYltG",_t="index_network-success__lEu2c",gt="index_network-warning__ohBnI",yt="index_network-failure__tJan1",xt="index_sign-stable__Tr4DP",Tt="index_sign-disconnect__1frgl",bt="index_sign-unstable__1zweH",St="index_sign-reconnect__2V+7m";var wt=ut.v.CONNECTED,Ct=ut.v.UNSTABLE,Ot=ut.v.CONNECTING,It=ut.v.DISCONNECT,Et=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"componentDidMount",value:function(){vt.init()}},{key:"componentWillUnmount",value:function(){vt.destroy()}},{key:"render",value:function(){var e=ht.Z.networkStatus;return e===wt?null:(0,R.jsxs)("div",{className:Zt,children:[(0,R.jsxs)(ge.Z,{when:e===It,children:[(0,R.jsx)(mt,{className:Tt}),(0,R.jsx)(ct.Z,{description:(0,ot.t)("trade_netstatus_botrowpop_you_are_offline"),defaultShow:!0,graspBaseDom:!0,style:{minWidth:"140px"},size:at.Z.SIZE.sm,children:(0,R.jsx)("span",{className:yt,children:(0,ot.t)("trade_netstatus_botrow_disconnected")})})]}),(0,R.jsxs)(ge.Z,{when:e===Ct,children:[(0,R.jsx)(mt,{className:bt}),(0,R.jsx)("span",{className:_t,children:(0,ot.t)("trade_netstatus_botrow_unstable_connection")})]}),(0,R.jsxs)(ge.Z,{when:e===wt,children:[(0,R.jsx)(mt,{className:xt}),(0,R.jsx)("span",{className:_t,children:(0,ot.t)("trade_netstatus_botrow_stable_connection")})]}),(0,R.jsxs)(ge.Z,{when:e===Ot,children:[(0,R.jsx)(mt,{className:St}),(0,R.jsx)("span",{className:gt,children:(0,ot.t)("trade_netstatus_botrow_connecting")})]})]})}}]),t}(c.Component);const kt=(0,T.observer)(Et);n(82902);var jt=n(84389),Dt=n(92729);const Nt=new(function(e){function t(){var e;return(0,i.Z)(this,t),(e=(0,s.Z)(this,t)).showBanner=!1,e.showDialog=!1,e.notification={title:"",content:"",url:""},(0,k.makeObservable)((0,E.Z)(e),{showBanner:k.observable,showDialog:k.observable,notification:k.observable}),e}return(0,o.Z)(t,e),(0,r.Z)(t)}(A.Z));var At=function(){function e(){var t=this;(0,i.Z)(this,e),this.init=function(){t.instReaction=(0,k.reaction)((function(){var e=D.Z.instId,t=D.Z.instType;return"".concat(t).concat(e)}),(function(){t.getNotification()}),{fireImmediately:!0})},this.destroy=this.closeDialog=function(){Nt.updateByKey("showDialog",!1),t.updateStorage({frameShow:"0"})},this.closeBanner=function(){Nt.updateByKey("showBanner",!1),t.updateStorage({bannerShow:"0"})},this.updateStorage=function(e){var t=D.Z.instId,n=D.Z.instType,i="".concat(n).concat(t),r=O.Z.get(I.fo)||{},s=r[i]||{};r[i]=(0,a.Z)((0,a.Z)({},s),e),O.Z.set(I.fo,r)},this.instReaction=null,this.defaultNotification={frameShow:"0",bannerShow:"0",title:"",content:"",noticeUrl:"",modifyTime:""}}return(0,r.Z)(e,[{key:"updateStoreByResData",value:function(e){var t=e.frameShow,n=e.bannerShow,i=e.title,r=e.content,s=e.noticeUrl;Nt.update({showBanner:"1"===n,showDialog:"1"===t,notification:{title:i,content:r,url:s}})}},{key:"clearNotification",value:,{key:"getNotification",value:function(){var e=(0,Z.Z)((0,m.Z)().mark((function e(){var t,n,i,r,s,o,c,u,l,d,h,f,p,v,Z,_;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=D.Z.instId,n=D.Z.instType,i="".concat(n).concat(t)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,m={instId:t,instType:n},(0,Dt.U2)("".concat(jt.Zj,"/public/trade/notice"),m);case 7:r=e.sent,(s=r.data).sort((function(e,t){return+t.modifyTime<+e.modifyTime?-1:1})),o=s[0]||this.defaultNotification,c=o.frameShow,u=o.bannerShow,l=o.modifyTime,d=O.Z.get(I.fo)||{},h=d[i]||{},h.modifyTime!==l&&(d[i]={modifyTime:l,frameShow:c,bannerShow:u},O.Z.set(I.fo,d)),f=D.Z.instId,p=D.Z.instType,t===f&&n===p&&(v=d[i],Z=v.frameShow,_=v.bannerShow,this.updateStoreByResData((0,a.Z)((0,a.Z)({},o),{},{frameShow:Z,bannerShow:_}))),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),this.clearNotification();case 22:case"end":return e.stop()}var m}),e,this,[[4,19]])})));return ()}]),e}();const Pt=new At;var Bt=n(22457),Mt=n(59666),Lt=n(60681),Rt=n(55713);const Ut="index_container__eO9zz",Ft="index_content__U14R5",Kt="index_link__8UeJI",zt="index_boxPadding__q+N-M";var Vt=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=Nt.showBanner,t=Nt.notification,n=t.content,i=t.url,r=i?(0,Lt.tl)(i):"";return(0,R.jsx)(ge.Z,{when:e,children:(0,R.jsx)(Bt.Z,{className:h()(Ut,zt),type:Bt.Z.TYPE.warn,showIcon:!1,onClose:Pt.closeBanner,title:(0,R.jsxs)("div",{className:Ft,children:[(0,Rt.DG)(n),i&&(0,R.jsx)(Mt.Z,{className:Kt,href:r,size:Mt.Z.SIZE.sm,children:(0,S.O4)("perp_offline_coin_link")})]})})})}}]),t}(c.Component);const Gt=(0,T.observer)(Vt);var Wt=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"render",value:function(){var e=Nt.showDialog,t=Nt.notification,n=t.content,i=t.title;return(0,R.jsx)(w.Z.Tip,{visible:e,infoType:w.Z.Tip.INFO_TYPE.warn,title:i,hideCloseBtn:!0,confirmText:(0,S.O4)("spot_placeorder_modal_reminder_coinfirm_btn"),confirmBtnProps:{size:H.Z.SIZE.md},onConfirm:Pt.closeDialog,children:(0,R.jsx)("div",{children:(0,Rt.DG)(n)})})}}]),t}(c.Component);const Ht=(0,T.observer)(Wt);var Yt=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"componentDidMount",value:function(){Pt.init()}},{key:"componentWillUnmount",value:function(){Pt.destroy()}},{key:"render",value:]),t}(c.Component);const qt=(0,T.observer)(Yt);var Jt=n(93380),Xt=n(98924),Qt=n(90983),$t=n(64928),en=n(2052),tn=(n(68851),n(31705),0),nn=1,rn=2,sn=4,on=tn,an=.5,cn=nn,un=sn;const ln=new(function(e){function t(){var e;return(0,i.Z)(this,t),(e=(0,s.Z)(this,t)).statusData={},e.closeStatuses={},e.secondsToEnd=0,e.secondsDuration=0,(0,k.makeObservable)((0,E.Z)(e),{statusData:k.observable,closeStatuses:k.observable,secondsToEnd:k.observable,secondsDuration:k.observable,maintainStatus:k.computed,statusIsVisible:k.computed}),e}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"maintainStatus",get:function(){var e=this.statusData,t=this.secondsToEnd,n=this.secondsDuration,i=e.status;return i===on&&t&&n&&t>n&&t<=n+1800?an:i}},{key:"statusIsVisible",get:function(){var e=this.secondsToEnd,t=this.statusData,n=this.maintainStatus,i=this.closeStatuses;return i.maintenanceId===t.maintenanceId&&!i[n]&&([on,an].includes(n)&&!!e||[cn,un].includes(n))}}]),t}(A.Z));var dn=n(4942),hn=q.VW.BUY,fn=q.VW.SELL,pn=(0,dn.Z)({},1,{titleKey:"trade_push_ws_title_1",contentKey:"trade_push_ws_content_1"}),vn=(0,dn.Z)((0,dn.Z)({},hn,"trade_function_pushmsg_buy"),fn,"trade_function_pushmsg_sell");const mn="index_notificationArea__xq77J";var Zn=q.KD.SWAP,_n=(0,r.Z)((function e(){var t=this;(0,i.Z)(this,e),this.init=function(){(0,J.bI)()&&(en.ZP.addCallback($t.Z.inPri.tradeMessageNotify,t.handleMessageNotify),en.Md.subscribe(Qt.Z.inPri.getTradeMessageNotify()))},this.handleMessageNotify=function(e){if(null!==e&&void 0!==e&&e.data){t.updateReduceOnlyData(e.data);var n=ln.title,i=ln.content;Xt.Z.warn({title:n,desc:i,className:mn})}},this.updateReduceOnlyData=function(e){var t=e.instId,n=e.instType,i=e.messageType,r=e.px,s=e.side,o=e.sz,a=pn[i],c=a.titleKey,u=a.contentKey,l=(0,P.$S)({instId:t,instType:n}),d=n===Zn?" ".concat((0,S.O4)("trade_function_pushmsg_perpetual")):"",h=(0,S.O4)(vn[s]),f=(0,S.O4)("trade_general_title_contract",{contractNum:o}),p=(0,S.O4)(c),v=(0,S.Lg)(u,{instrument:l,type:d,side:h,amount:f,price:Jt.yx.thousandFormat(r)||(0,S.O4)("trade_function_pushmsg_market")});ln.update({title:p,content:v})},this.destroy=function(){en.Md.unsubscribe(Qt.Z.inPri.getTradeMessageNotify()),en.ZP.removeCallback($t.Z.inPri.tradeMessageNotify,t.handleMessageNotify)}}));const gn=new _n;const yn=(0,T.observer)((function(){return(0,c.useEffect)((function(){gn.init()}),[]),null}));var xn=n(53089),Tn=n(96685),bn=n(30567),Sn=n(56838),wn=n(46691),Cn=(0,f.u)((,{loaderProps:{show:!0,height:"358px",hasBg:!0}});const On=(0,T.observer)((function(){var e=return(0,R.jsxs)(w.Z,{visible:wn.Z.displayDialogMode,windowClass:"place-order-popup",width:392,draggable:!0,mask:!1,noContentPadding:!0,title:(0,P.T)(xn.ZP.inst),topClassName:"place-order-pupup-title",dragProps:{getDragRef:dragInViewport:!0,noTextSelection:!0},onClose:e,children:[(0,R.jsx)(ge.Z,{when:!wn.Z.isKlineFullPlaceOrderPopup,children:(0,R.jsx)(Ee.Z,{className:"okx-trading-popup-recover setting-icon popup-setting",onClick:function(){O.Z.set(I.BT,!1),e(),setTimeout((,100)}})}),(0,R.jsx)(Cn,{})]})}));var In=n(71747),En=n(24627),kn=n.n(En),jn=n(1870),Dn=n(45151);const Nn=function(){var e=(0,jn.TB)(Lt.CU),t=kn().RESTRICTION_ACTIONS&&(0,Dn.fT)(Dn.HH[Lt.CU]||"")===kn().RESTRICTION_ACTIONS.QUESTION,n=e&&t;return(0,R.jsx)(w.Z.Confirmation,{visible:n,title:(0,S.O4)("derivatives_trade_title_cannot_trade"),confirmText:(0,S.O4)("derivatives_trade_btn_learn_more"),hideCloseBtn:!0,confirmBtnProps:{href:(0,In.zN)(N.Z.RESTRICTION_QUEST),target:"_self"},children:(0,S.O4)("derivatives_trade_text_cannot_trade")})};n(46536);var An=n(35914);const Pn=function(e){return(0,Dt.U2)("".concat(jt.b,"/support/status/maintenances"),e)};var Bn=lt.J.onPubWsError,Mn={scheduled:tn,ongoing:nn,completed:rn,pre_open:sn},Ln=function(){function e(){var t=this;(0,i.Z)(this,e),this.init=(0,Z.Z)((0,m.Z)().mark((function e(){var n;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=t.timer)||void 0===n||n.stop(),e.next=3,t.initStatusData();case 3:en.ZP.addCallback($t.Z.pub.status,t.updateStatusDataWs),en.$5.subscribe(Qt.Z.pub.getStatus()),lt.X.addListener(Bn,t.initStatusData);case 6:case"end":return e.stop()}}),e)}))),this.destroy=function(){var e;null===(e=t.timer)||void 0===e||e.stop(),en.$5.unsubscribe(Qt.Z.pub.getStatus()),en.ZP.removeCallback($t.Z.pub.status,t.updateStatusDataWs),lt.X.removeListener(Bn,t.initStatusData),ln.update({statusData:{},closeStatuses:{},secondsToEnd:0,secondsDuration:0})},this.initStatusData=(0,Z.Z)((0,m.Z)().mark((function e(){var n,i,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchStatusData();case 2:n=e.sent,i=O.Z.get(I.f)||{},(r=ln.statusData.maintenanceId)!==i.maintenanceId&&(i={maintenanceId:r}),t.setCloseStatus(i),n&&t.startToCountDown();case 8:case"end":return e.stop()}}),e)}))),this.startToCountDown=function(){var e;null===(e=t.timer)||void 0===e||e.stop();var n=ln.statusData,i=n.systemTime,r=n.startTime,s=n.endTime;if(i<s){var o=Math.floor(Jt.yx.div(Jt.yx.sub(s,i),1e3)),a=Math.floor(Jt.yx.div(Jt.yx.sub(s,r),1e3));ln.update({secondsToEnd:o,secondsDuration:a}),t.timer=(0,An.Z)({init:o,step:1}),t.timer.onChange((function(e){var n=e.total;n!==a||en.$5.isConnected()||t.initStatusData(),ln.update({secondsToEnd:n})})),t.timer.onFinish((function(){ln.update({secondsToEnd:0}),t.setCloseStatus({})}))}else ln.update({secondsToEnd:0,secondsDuration:0})},this.fetchStatusData=(0,Z.Z)((0,m.Z)().mark((function e(){var t,n,i,r,s,o,a,c;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn({displayType:1});case 3:if(t=e.sent,!(n=t.data).length){e.next=11;break}if(i=ln.statusData,r=i.maintenanceId,s=i.status,o=i.startTime,a=i.endTime,c=n[0],r===c.maintenanceId&&s===c.status&&o===c.startTime&&a===c.endTime){e.next=11;break}return ln.update({statusData:n[0]}),e.abrupt("return",!0);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ln.update({statusData:{}});case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),this.updateStatusDataWs=function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length){var i=function(e){var t=e.maintId,n=e.begin,i=e.end,r=e.state;return{maintenanceId:Number(t),startTime:Number(n),endTime:Number(i),status:Mn[r]}}(e.data[0]),r=ln.statusData,s=i.maintenanceId,o=i.status,c=i.startTime,u=i.endTime;s!==r.maintenanceId?o!==Mn.completed&&t.initStatusData():o===r.status&&c===r.startTime&&u===r.endTime||(ln.update({statusData:(0,a.Z)((0,a.Z)({},r),{},{status:o,startTime:c,endTime:u})}),t.startToCountDown(),t.initStatusData())}},this.close=function(){var e=ln.maintainStatus,n=ln.closeStatuses,i=(0,a.Z)({},n);i[e]=!0,t.setCloseStatus(i)},this.timer=null}return(0,r.Z)(e,[{key:"setCloseStatus",value:function(e){ln.updateByKey("closeStatuses",e),O.Z.set(I.f,e)}}]),e}();const Rn=new Ln;var Un=function(e){function t(){return(0,i.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"componentDidMount",value:function(){Rn.init()}},{key:"componentWillUnmount",value:,{key:"render",value:function(){var e=ln.statusIsVisible,t=ln.statusData.bannerContent;return(0,R.jsx)(ge.Z,{when:e&&t,children:(0,R.jsx)(Bt.Z,{className:"status-alert box-padding",type:Bt.Z.TYPE.warn,showIcon:!1,onClose:Rn.close,title:(0,R.jsx)("div",{className:"status-alert-msg",children:t})})})}}]),t}(c.Component);const Fn=(0,T.observer)(Un);const Kn=(0,T.observer)((function(){var e,t=D.Z.instType,n=D.Z.instId,i=D.Z.simpleInsts,r=D.Z.blackCcys,s=i[t][n],o=s.baseCcy,a=s.isoFlag,c=(null===(e=r[o])||void 0===e?void 0:e.searchLimit)&&a===q.E1.YES;return(0,R.jsx)(w.Z.Confirmation,{visible:c,title:(0,S.O4)("trade_regional_modaltitle_cannot_trade_crypto"),confirmText:(0,S.O4)("trade_regional_modalbtn_go_to_homepage"),hideCloseBtn:!0,confirmBtnProps:{href:(0,In.zN)("/"),target:"_self"},children:(0,R.jsx)("span",{style:{lineHeight:1.5},children:(0,S.O4)("trade_regional_modalsubtitle_cannot_trade_crypto")})})}));const zn=(0,T.observer)((function(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(He,{children:(0,R.jsx)(Fn,{})}),(0,R.jsx)(qt,{}),(0,R.jsx)(st,{}),(0,R.jsx)(_e,{}),(0,R.jsx)(Kn,{}),(0,R.jsx)(Nn,{}),(0,R.jsx)(kt,{}),(0,R.jsx)(yn,{}),(0,R.jsx)(b.Z,{isInCopyTradingBiz:!1}),(0,R.jsxs)(ge.Z,{when:!(0,p.tl)(),children:[(0,R.jsx)(G,{}),(0,R.jsx)(Ie,{}),(0,R.jsx)(We,{})]}),(0,R.jsx)(On,{})]})}));var Vn=n(19112),Gn={loaderProps:{show:!0,fullScreen:!0}},Wn=(0,f.u)((function(){return Promise.all([n.e(55730),n.e(20659),n.e(20559),n.e(73785),n.e(83437),n.e(64325),n.e(68746),n.e(95940),n.e(63875),n.e(81383),n.e(19370),n.e(51388),n.e(25702),n.e(13610),n.e(45765),n.e(44166),n.e(88519),n.e(76719),n.e(64503),n.e(96351),n.e(81994),n.e(71485),n.e(53602),n.e(78348),n.e(14926),n.e(88193),n.e(82649),n.e(82044),n.e(73727),n.e(28461)]).then(n.bind(n,9862))}),Gn),Hn=(0,f.u)((function(){return Promise.all([n.e(55730),n.e(20659),n.e(20559),n.e(73785),n.e(83437),n.e(64325),n.e(68746),n.e(95940),n.e(81383),n.e(51388),n.e(25702),n.e(13610),n.e(47662),n.e(44166),n.e(88519),n.e(76719),n.e(64503),n.e(96351),n.e(81994),n.e(71485),n.e(53602),n.e(14926),n.e(88193),n.e(82649),n.e(82044),n.e(73727),n.e(77882),n.e(28800),n.e(16169),n.e(87054)]).then(n.bind(n,11298))}),Gn),Yn=(0,f.u)((function(){return Promise.all([n.e(55730),n.e(20659),n.e(20559),n.e(73785),n.e(83437),n.e(64325),n.e(68746),n.e(95940),n.e(81383),n.e(51388),n.e(25702),n.e(13610),n.e(47662),n.e(44166),n.e(88519),n.e(76719),n.e(64503),n.e(96351),n.e(81994),n.e(71485),n.e(53602),n.e(14926),n.e(88193),n.e(82649),n.e(82044),n.e(73727),n.e(77882),n.e(28800),n.e(16169),n.e(27148)]).then(n.bind(n,50840))}),Gn),qn=(0,f.u)((function(){return Promise.all([n.e(55730),n.e(20659),n.e(20559),n.e(73785),n.e(83437),n.e(64325),n.e(68746),n.e(95940),n.e(81383),n.e(51388),n.e(25702),n.e(13610),n.e(47662),n.e(44166),n.e(88519),n.e(76719),n.e(64503),n.e(96351),n.e(81994),n.e(71485),n.e(53602),n.e(14926),n.e(88193),n.e(82649),n.e(82044),n.e(73727),n.e(77882),n.e(28800),n.e(16169),n.e(70423)]).then(n.bind(n,93752))}),Gn),Jn=(0,f.u)((,Gn),Xn=(0,f.u)((function(){return Promise.all([n.e(55730),n.e(20659),n.e(20559),n.e(73785),n.e(83437),n.e(64325),n.e(68746),n.e(95940),n.e(81383),n.e(51388),n.e(25702),n.e(13610),n.e(44166),n.e(88519),n.e(76719),n.e(64503),n.e(96351),n.e(81994),n.e(71485),n.e(53602),n.e(14926),n.e(88193),n.e(82649),n.e(82044),n.e(73727),n.e(77882),n.e(28800),n.e(49254)]).then(n.bind(n,57203))}),Gn),Qn=(0,f.u)((,Gn),$n=(0,f.u)((),ei={sm:(0,R.jsx)(Wn,{}),xl:(0,R.jsx)(Wn,{})},ti={sm:(0,R.jsx)(Qn,{}),md:(0,R.jsx)(Xn,{}),lg:(0,R.jsx)(Jn,{}),xl:(0,R.jsx)(Hn,{}),_2xl:(0,R.jsx)(Yn,{}),_3xl:(0,R.jsx)(qn,{})},ni={sm:(0,R.jsx)(Qn,{}),md:(0,R.jsx)(Xn,{}),lg:(0,R.jsx)(Jn,{}),xl:(0,R.jsx)(Hn,{})},ii={sm:(0,R.jsx)(Qn,{}),md:(0,R.jsx)($n,{}),lg:(0,R.jsx)($n,{}),xl:(0,R.jsx)($n,{}),_2xl:(0,R.jsx)($n,{}),_3xl:(0,R.jsx)($n,{})},ri=function(){return(0,R.jsx)("div",{className:"trade-panel-box",children:(0,R.jsx)(c.Suspense,{fallback:(0,R.jsx)(c.Fragment,{}),children:(0,R.jsx)(l.Z,(0,a.Z)({},(0,p.tl)()?ei:(0,p.Ss)()?ni:v.Z.isChartTradingLayout?ii:ti))})})};const si=function(e){function t(e){var n;return(0,i.Z)(this,t),n=(0,s.Z)(this,t,[e]),x.Z.init(),y.init(),n}return(0,o.Z)(t,e),(0,r.Z)(t,[{key:"componentWillUnmount",value:,{key:"render",value:function(){return(0,R.jsxs)("div",{className:h()("trade-box",{"chart-trade-box":v.Z.isChartTradingLayout}),children:[(0,R.jsx)(Vn.Z,{}),(0,R.jsx)(zn,{}),(0,R.jsx)(ri,{})]})}}]),t}(u().Component)},10371:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(15671),r=n(43144),s=(n(43612),n(68851),n(31705),n(27821)),o=n(56883),a=n(38068),c=n(45892),u=n(51503),l=c.KD.FUTURES,d=c.KD.SWAP;const h=new(function(){function e(){(0,i.Z)(this,e),(0,s.makeObservable)(this,{coolPeriodsOptions:s.computed,showCoolingTrade:s.computed,isDerivativesCooling:s.computed})}return(0,r.Z)(e,[{key:"coolPeriodsOptions",get:function(){return c.zL.map((function(e){return{value:e,label:(0,o.t)("trade_general_timeframe_days",{trade_general_timeframe_days:e})}}))}},{key:"showCoolingTrade",get:,{key:"isDerivativesCooling",get:function(){var e=[l,d].includes(a.Z.instType);return u.Z.isShowTradeCooling&&e}}]),e}())},39622:72791:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(15671),r=n(43144),s=n(53640),o=n(97326),a=n(60136),c=n(27821),u=n(74923),l=n(64185),d=n(39622),h=u.v.CONNECTED,f=u.v.UNSTABLE,p=u.v.CONNECTING,v=u.v.DISCONNECT,m=d.z.CONNECTED_SUCCESS,Z=d.z.TIMEOUT_START,_=d.z.TIMEOUT_RECOVER;const g=new(function(e){function t(){var e;return(0,i.Z)(this,t),(e=(0,s.Z)(this,t)).wsChangeStatus=m,e.wsUnStable=!1,e.onlineStatus=!0,(0,c.makeObservable)((0,o.Z)(e),{wsChangeStatus:c.observable,wsUnStable:c.observable,onlineStatus:c.observable,networkStatus:c.computed}),e}return(0,a.Z)(t,e),(0,r.Z)(t,[{key:"networkStatus",get:function(){return this.onlineStatus?this.wsChangeStatus===Z||this.wsUnStable?f:this.wsChangeStatus===m||this.wsChangeStatus===_?h:p:v}}]),t}(l.Z))},56838:(e,t,n)=>{n.d(t,{Z:()=>R});var i=n(44925),r=n(74165),s=n(15861),o=n(1413),a=n(15671),c=n(43144),u=(n(68851),n(31705),n(27821)),l=n(93380),d=n(14300),h=n(38068),f=n(21323),p=n(1870),v=n(18644),m=n(45892),Z=n(29168),_=n(39226),g=n(48663),y=n(92905),x=n(21055),T=n(86880),b=n(49806),S=n(51503),w=n(46691),C=n(78348),O=n(84255),I=n(41445),E=n(52333),k=["update"],j=_.Jm.POST_ONLY,D=_.Jm.IOC,N=_.Jm.ADV,A=_.Jm.LIMIT,P=_.Jm.MARKET,B=_.MR.STOP_LIMIT,M=v.AG.TICKER,L=v.AG.PRICE;const R=new(function(){function e(){var t=this;(0,a.Z)(this,e),this.getMaxAvail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,Z.bI)()){var n=h.Z.instId,i=h.Z.instType;if(n&&i){var r,s=e.noErrorAlert,o=e.instId,a=S.Z.accountLevel;if((!o||o&&o===n)&&a)null===(r=t.instAction)||void 0===r||r.getMax({noErrorAlert:s})}}},this.updateSide=function(e){var n,i=e.instType,r=e.side;w.Z.isDoubleCols||(0,p.Gc)(i)&&(null===(n=t.instAction)||void 0===n||n.onSwitchSide(r))},this.updateForm=function(e){var n,i=e.instType,r=e.key,s=e.value,o=e.direction,a=void 0===o?"left":o,c=w.Z.isDoubleCols||(0,p.Gc)(i);null===(n=t.instAction)||void 0===n||n.updateForm({key:r,value:s,direction:c?a:"left"})},this.instAction=null,this.initCb=null}return(0,c.Z)(e,[{key:"updateFormByDepth",value:function(e){var t,n=C.C.orderType,i=C.C.pricePrecision;if([P,A,N,B].includes(n)&&!w.Z.isSm){var r=e.price,s=e.amount,a=e.total,c=e.position;c!==M&&!1===S.Z.isDepthFillAmount&&(c=L);var u=l.yx.toPlainString(r),d=(0,o.Z)((0,o.Z)({},e),{},{position:c,price:u,priceStep:E.Z.getStepByInput({num:u,precision:i}),amount:s?l.yx.toPlainString(s):"",total:a?l.yx.toPlainString(a):""});null===(t=this.instAction)||void 0===t||t.updateFormByDepth(d)}}},{key:"getUserLevers",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,i,s,o,a,c,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=h.Z.instType,s=h.Z.instId,o=C.C.tradeMode,a=C.C.hasLever,c=O.Z.isQuickMargin,(0,Z.bI)()&&s&&a&&t!==m.ii.CASH&&!c){e.next=5;break}return e.abrupt("return");case 5:return u=t||o,e.next=8,b.Z.updateLeverInfo({instId:s,instType:i,mgnMode:u});case 8:l=e.sent,null===(n=this.instAction)||void 0===n||n.updateUserLevers(l||[]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeTradeMode",value:function(e){var t=e.value,n=e.batchValue,i=S.Z.accountLevelStatus,r=i.isPm,s=i.isMulti,o=i.isSingle,a=h.Z.instStatus,c=h.Z.instFamily,u=h.Z.instType,l=a.isOption;if(!C.C.onlyHasCross||t!==m.ii.ISOLATED){var p=this.instAction;l&&!r&&(o||s)&&m.ii.CROSS===t&&T.Z.warn((0,d.O4)("options_top_tooltip_cross_trade_warning")),(!n||null!==n&&void 0!==n&&n.includes(c))&&C.C.updateByKey("baseTradeMode",t),null===p||void 0===p||p.onTradeModeChange(),(0,I.Hr)({direction:"left",instAction:p}),(0,I.Hr)({direction:"right",instAction:p}),f.Z.setPosMgnMode({instType:u,mgnMode:t,instFamilyList:n||[c]}),this.getUserLevers(t)}}},{key:"resetOrderType",value:,{key:"kLinePlaceOrder",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,a,c,u,l,f,p,v,m,Z;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.instAction)||void 0===n?void 0:n.getKLinePlaceOrderParams(t);case 2:if(!(s=e.sent).error){e.next=5;break}return e.abrupt("return",s);case 5:return a=(0,g.K)(),c=a.instId,u=s.side,l=h.Z.instType,f=(0,g.R)({instType:l,instId:c,posSide:u}),p=s.update,v=(0,i.Z)(s,k),m=y.Z.postOrder,e.prev=12,e.next=15,m((0,o.Z)((0,o.Z)((0,o.Z)({},v),a),{},{tdMode:f}));case 15:return Z=e.sent,T.Z.success({content:(0,d.O4)("trade_order_place_success")}),this.initCb=null,e.abrupt("return",{update:p,server:Z});case 21:return e.prev=21,e.t0=e.catch(12),(0,x.d9)(e.t0),this.initCb=null,e.abrupt("return",{update:p,server:e.t0});case 26:case"end":return e.stop()}}),e,this,[[12,21]])})));return ()},{key:"getOnlyIocStatus",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,i,s,o,a,c=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.Z.accountLevelStatus.isPm,(0,Z.bI)()&&t){e.next=3;break}return e.abrupt("return");case 3:return n=h.Z.instId,i={instId:n},e.next=7,y.Z.getOnlyIocStatus(i);case 7:s=e.sent,o=s.data,a=void 0===o?[]:o,(0,u.runInAction)((function(){var e,t=a[0].atRisk;C.C.update({isOnlyIOC:+t});var n,i=j;(+t&&(i=D,C.C.update({orderType:N}),T.Z.warn((0,d.O4)("spot_toast_trade_ioc"))),null===(e=c.instAction)||void 0===e||e.initAdvType({direction:"left",type:i}),w.Z.isDoubleCols)&&(null===(n=c.instAction)||void 0===n||n.initAdvType({direction:"right",type:i}))}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setPlaceOrderModeWithDialog",value:,{key:"setPlaceOrderPopup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w.Z.update({isKlineFullPlaceOrderPopup:e.isChartFullScreen})}}]),e}())},33887:(e,t,n)=>{n.d(t,{$V:()=>s,ID:()=>r,KC:()=>u,c9:()=>l,fj:()=>i,gt:()=>o,gv:()=>d,jz:()=>c,qp:()=>a,x_:()=>h});n(11244);var i=["price","triggerPrice","orderPrice","tpTriggerPrice","tpOrderPrice","slTriggerPrice","slOrderPrice","tpTriggerPx","slTriggerPx","tpOrdPx","slOrdPx"],r=["size"],s=["triggerPrice","orderPrice","size","total"],o=["algoType","triggerPrice","orderPrice","tpTriggerPrice","tpOrderPrice","slTriggerPrice","slOrderPrice","size","total","isReduceOnly"],a=["advType","isReduceOnly","isTp","isSl"],c=["price","algoType","advType","ccy","isReduceOnly","isTp","isSl","triggerPriceType","tpTriggerPriceType","slTriggerPriceType","totalLabelSelected"],u=["price","priceWithUsd","algoType","advType","bboChecked","isReduceOnly","isTp","isSl","triggerPriceType","tpTriggerPriceType","slTriggerPriceType"],l=["triggerPrice","orderPrice","tpTriggerPrice","tpOrderPrice","slTriggerPrice","slOrderPrice"],d=["price","triggerPrice","orderPrice","tpTriggerPrice","tpOrderPrice","slTriggerPrice","slOrderPrice"],h=[].concat(d,["size"])},41445:(e,t,n)=>{n.d(t,{Hr:()=>a,kC:()=>o,oK:()=>c,oW:()=>l,ov:()=>u,tI:()=>s,yA:()=>d});n(68851),n(31705);var i=n(33887),r=n(13434),s=function(e){var t=e.value,n=e.direction,i=e.instAction;null===i||void 0===i||i.updateForm({key:"formErrorMsg",value:t,direction:n})},o=function(e){var t=e.value,n=e.direction,i=e.instAction;null===i||void 0===i||i.updateForm({key:"inputErrors",value:t,direction:n})},a=function(e){var t=e.direction,n=e.instAction;s({value:"",direction:t,instAction:n}),o({value:{},direction:t,instAction:n})},c=function(e){var t=e.store,n=e.direction,i=e.params,r="".concat(n,"AvailParams");t.updateByKey(r,i)},u=function(e){var t=e.store,n=e.direction;if(n){var i="".concat(n,"AvailParams");t.updateByKey(i,{})}else t.updateByKey("leftAvailParams",{}),t.updateByKey("rightAvailParams",{})},l=function(e){var t=e.orderTypeStatus,n=e.key,r=e.hasSize,s=void 0!==r&&r,o=i.gv;return s&&(o=i.x_),(!t.isAlgoType||t.isStop)&&o.includes(n)},d=function(e){var t=e.tpOrdPx,n=e.slOrdPx;return{tpOrdPx:(0,r.k)(t)?"-1":"",slOrdPx:(0,r.k)(n)?"-1":""}}},52333:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(93433),r=n(4942),s=n(1413),o=(n(46536),n(57500),n(5865),n(68851),n(31705),n(57235),n(43612),n(93380)),a=n(14300),c=n(38068),u=n(2708),l=n(45892),d=n(33887);const h={getStepByInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.num,n=void 0===t?"":t,i=e.precision,r=void 0===i?0:i;if(r)return o.yx.div(1,Math.pow(10,Number(r)));if(n){var s=String(n).split(".")[1]||"";return s&&s.length?o.yx.div(1,Math.pow(10,s.length)):1}return 1},numIsEmpty:numIsLt:numIsGt:removeZeros:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).includes(".")?e.replace(/\.?0+$/g,""):e},checkInputPriceMax:function(e){var t=e.form,n=e.key,i=e.value,o=e.isPrice,h=void 0===o||o,f=l.lC.LIMIT_PRICE,p=l.lC.LIMIT_AMOUNT,v=h?d.fj:d.ID,m=h?"trade_placeorder_price_cannot_exceed":"pot_placeorder_tooltip_amount_not_exceed",Z=h?f:p;if(h&&v.includes(n)){var _=c.Z.instType,g=c.Z.instId,y=u.Ul({instType:_,instId:g,price:Z});if(i>Number(y))return{updatedForm:(0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},n,y)),inputErrors:(0,s.Z)((0,s.Z)({},t.inputErrors),{},(0,r.Z)({},n,(0,a.O4)(m)+y))}}return{updatedForm:t,inputErrors:t.inputErrors}},checkIsNotEmpty:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(()},getMaxNumber:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return 0;var r=t.map((function(e){return Number(e||0)}));return Math.max.apply(Math,(0,i.Z)(r))},getMinNumber:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return 0;var r=t.map(();return Math.min.apply(Math,(0,i.Z)(r))}}},48663:(e,t,n)=>{n.d(t,{K:()=>d,R:()=>l});n(83647);var i=n(99669),r=n(38068),s=n(22313),o=n(45892),a=n(78348),c=n(51503),u=n(46123),l=function(e){var t=e.instType,n=e.instId,r=e.posSide,u=e.tdMode,l=a.C.tradeMode,d=c.Z.accountLevelStatus,h=i.Z.copyInfo,f=d.isTrade,p=d.isSingle,v=h.isSpotTrader,m=h.spotTraderInsts,Z=void 0===m?[]:m,_=(0,s.Wh)(t).isSpot;return(f||p)&&r===o.Dd.BUY&&v&&Z.indexOf(n)>-1&&_?o.ii.SPOT_ISOLATED:u||l},d=function(){var e=r.Z.instId,t=a.C.tradeMode,n=a.C.orderTypeStatus.isAlgoType;return{instId:e,tdMode:t,_feReq:!n||void 0,_last:n?u.Z.ticker.last:void 0}}},13434:(e,t,n)=>{n.d(t,{Z:()=>f,k:()=>h});var i=n(29439),r=(n(46536),n(320),n(82317),n(38068)),s=n(72211),o=n(45892),a=n(39226),c=a.MR.CONDITIONAL,u=a.MR.OCO,l=o.Xk.SIZE_BASE,d=o.Xk.PRICE_QUOTE,h=const f={getNormalSizeTotalVisibility:function(e){var t=e.mainStore,n=e.instStatus,i=e.totalLabelSelected,r=e.isLeft,s=t.orderTypeStatus,o=t.showTotalLabelSelect,a=n.isSpotOrMargin,c=s.isMarket,u=r;return o&&(u=(null===i||void 0===i?void 0:i.value)===d),{normalSizeIsVisible:!(a&&u&&c),normalTotalIsVisible:a&&(u&&c||!c)}},getAlgoTotalVisibility:function(e){var t=e.mainStore,n=e.instStatus,i=e.isLeft,r=e.form,s=r.totalLabelSelected,o=this.getNormalAlgoTotalVisibility({mainStore:t,instStatus:n,isLeft:i,form:r}),a=this.getAlgoTotalLabelVisibility({mainStore:t,form:r,isLeft:i}),c=!a&&o,u=a&&(null===s||void 0===s?void 0:s.value)===d;return c||u},getNormalAlgoTotalVisibility:function(e){var t=e.mainStore,n=e.instStatus,i=e.isLeft,r=e.form,s=t.orderTypeStatus,o=s.isTrigger,a=s.isStop,l=n.isSpotOrMargin,d=r.algoType,f=r.orderPrice,p=r.tpOrderPrice,v=r.slOrderPrice,m=(o||a&&d===c)&&h(f),Z=a&&d===u&&h(p)&&h(v);return l&&i&&(m||Z)},getAlgoTotalLabelVisibility:function(e){var t=e.mainStore,n=e.form,i=e.isLeft,r=t.showTotalLabelSelect,s=t.orderTypeStatus,o=s.isTrigger,a=s.isStop,l=s.isMoveStop,d=n.algoType,f=n.orderPrice,p=n.tpOrderPrice,v=n.slOrderPrice,m=(o||a&&d===c)&&h(f),Z=a&&d===u&&h(p)&&h(v);return r&&i&&(m||Z)||i&&l},getTpSlVisibility:function(e){var t=e.mainStore,n=e.form,i=e.isLeft,o=t.orderTypeStatus,a=t.showTotalLabelInst,c=t.instTpSlVisible,u=t.accountStatus,h=o.isMarket,f=o.isTrigger,p=u.isTrade,v=(n.totalLabelSelected||s.Nu).value,m=h&&(a&&i&&v===l||a&&!i&&v===d),Z=r.Z.instStatus.isSpotOrMargin;return c&&!m&&!(f&&p||f&&Z)},getTypeVisibility:function(e){var t=e.typeArr,n=e.type,i=t.findIndex(();return t.splice(i,1),t},getShowBorrowCheck:function(e){var t=e.mainStore,n=e.form,i=e.isBuy,r=t.showReduceOnly,s=t.instShowBorrowCheck,o=t.notMarginInstBorrowCheck,a=n.isReduceOnly,c=r&&a,u=i&&"true"===(null===o||void 0===o?void 0:o.buyCheckBox),l=!i&&"true"===(null===o||void 0===o?void 0:o.sellCheckBox);return(s||u||l)&&!c},getMarginLever:function(e){var t=e.mainStore,n=e.instStatus,r=e.formStore,s=e.isLeft,o=t.orderTypeStatus,a=t.hasLever;if(n.isSpotOrMargin&&a&&!o.isAlgoType){var c=(0,i.Z)(r.levers,2),u=c[0],l=c[1];return s?u:l}return""},getMarginLeverOrdType:function(e){var t=e.marginLever,n=e.mainStore,i=e.formItems;if(!t)return"";var r=n.orderTypeStatus,s=n.orderType;return r.isAdv?i.advType:s}}},66568:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(84389),r=n(92729);const s={getMaxWithdrawal:function(e){return(0,r.U2)("".concat(i.Zj,"/account/max-withdrawal"),e)}}},98585:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(84389),r=n(92729);const s={getPosition:function(){return(0,r.U2)("".concat(i.Zj,"/account/positions"))},getSinglePosition:function(e){return(0,r.U2)("".concat(i.Zj,"/account/position"),e)},postClosePos:function(e){return(0,r.v_)("".concat(i.Zj,"/trade/order"),e)},postMarketClosePos:function(e){return(0,r.v_)("".concat(i.Zj,"/trade/close-position"),e)},postTpSl:function(e){return(0,r.v_)("".concat(i.Zj,"/trade/order-algo"),e)},getPosMargin:function(e){return(0,r.U2)("".concat(i.Zj,"/account/leverage-info"),e)},postModifyMargin:function(e){return(0,r.v_)("".concat(i.Zj,"/account/position/margin-balance"),e)},getMarginBalance:function(e){return(0,r.tg)("".concat(i.Zj,"/account/adjust-margin-balance"),e)},getActiveProducts:function(e){return(0,r.U2)("".concat(i.Zj,"/account/active-products"),e)},closeAllPositions:function(e){return(0,r.v_)("".concat(i.Zj,"/trade/close-batch-positions"),e)},getPositionsAttachAlgo:function(e){return(0,r.U2)("".concat(i.Zj,"/account/positions-attach-algo"),e)}}},53089:(e,t,n)=>{n.d(t,{ZP:()=>v});var i=n(15671),r=n(43144),s=n(53640),o=n(97326),a=n(60136),c=(n(12687),n(43612),n(27821)),u=n(45892),l=n(31222),d=n(38068),h=n(94937),f=(u.KD.SPOT,u.KD.MARGIN,u.KD.FUTURES),p=u.KD.SWAP;u.KD.OPTION;const v=new(function(e){function t(){var e;return(0,i.Z)(this,t),e=(0,s.Z)(this,t),(0,c.makeObservable)((0,o.Z)(e),{instType:c.computed,instId:c.computed,sysTime:c.computed,instState:c.computed,optionState:c.computed,equallyState:c.computed,marginTypes:c.computed,blackCcys:c.computed,coins:c.computed,symbols:c.computed,instTypes:c.computed,instTypeSelect:c.computed,supportType:c.computed}),e}return(0,a.Z)(t,e),(0,r.Z)(t,[{key:"instType",get:function(){return d.Z.instType}},{key:"instId",get:function(){return d.Z.instId}},{key:"sysTime",get:function(){return d.Z.sysTime}},{key:"instState",get:function(){return d.Z.instState}},{key:"optionState",get:function(){return d.Z.optionState}},{key:"equallyState",get:function(){return d.Z.equallyState}},{key:"marginTypes",get:function(){return d.Z.marginTypes}},{key:"blackCcys",get:function(){return d.Z.blackCcys}},{key:"coins",get:function(){return d.Z.coins}},{key:"symbols",get:,{key:"instTypes",get:function(){return d.Z.instTypes}},{key:"instTypeSelect",get:function(){var e=(0,l.x5)();return this.instTypes.map(()}},{key:"supportType",get:function(){return d.Z.supportType}}]),t}(h.ZP))}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/comb-trade/common/sw_bundle_trade.843968b7.js.map