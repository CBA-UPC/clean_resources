!function(){"use strict";var t,e,n,o,i,r,a,p={655:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConsentsBlock=void 0;var n=function(){eturn t.prototype.ampApi=function(t){var e=this;return new Promise((function(n,o){if(e.app.isAmp())try{e.app.ampConsentData=e.app.context.context.initialConsentValue,e.app.log("Consents. AMP API done."),t&&setTimeout((function(){t()}),0),n()}catch(e){t&&setTimeout((function(){t()}),0),o(e)}else t&&setTimeout((function(){t()}),0),n()}))},t.prototype.initTCFv2Proxy=function(t){var e={};this.app.context.__tcfapi=function(n,o,i,r){var a=Math.random()+"",p={__tcfapiCall:{command:n,parameter:r,version:o,callId:a}};e[a]=i,t.postMessage(p,"*"),"addEventListener"===n&&setTimeout((function(){var e={__tcfapiCall:{command:"getTCData",parameter:r,version:o,callId:a}};t.postMessage(e,"*")}),100)},this.app.context.addEventListener("message",function(t){var n={};try{n="string"==typeof t.data?JSON.parse(t.data):t.data}catch(t){this.app.log(t,"warn",t)}var o=n?n.__tcfapiReturn:null;o&&"function"==typeof e[o.callId]&&(e[o.callId](o.returnValue,o.success),e[o.callId]=null)}.bind(this),!1)},t.prototype.tcfv2Api=function(t){var e,n=this,o=(new Date).getTime(),i=null;return new Promise((function(r,a){var p=function(){n.app.tcfv2Enabled=!0,n.app.requestParams=n.app.requestParams||{},n.app.requestParams.tcfV2="tcfV2=1";try{var e=function(e,o){!o||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?(o&&!e.gdprApplies&&(t&&setTimeout((function(){t()}),0),r()),n.app.log("Consents. TCFv2 API paused.")):(n.app.tcfv2Data=e,n.app.context.localStorage&&n.app.context.localStorage.setItem("MG_tcfv2Data",JSON.stringify(e)),n.app.log("Consents. TCFv2 API done."),t&&setTimeout((function(){t()}),0),r())};n.app.context.__tcfapi("getTCData",2,e),n.app.context.__tcfapi("addEventListener",2,e)}catch(e){n.app.log("Consents. TCFv2 API fail."),t&&setTimeout((function(){t()}),0),a(e)}};"function"==typeof n.app.context.__tcfapi?p():e=setInterval((function(){if((new Date).getTime()-o>=1e3*n.consentTimeout)return clearInterval(e),n.app.log("Consents. TCFv2 API not found. Limit time end."),t&&setTimeout((function(){t()}),0),void r();i||function(){for(var t=n.app.context;t;){try{if(t.frames.__tcfapiLocator){i=t;break}}catch(t){n.app.log(t,"warn",t)}if(t===n.app.context.top)break;t=t.parent}}(),i&&n.initTCFv2Proxy(i),"function"==typeof n.app.context.__tcfapi&&(clearInterval(e),p())}),100)}))},t.prototype.gdprApi=function(t){var e=this;return new Promise((function(n,o){var i=e.app.getMostTopWindow();if("function"==typeof i.__cmp){e.app.cmpEnabled=!0,e.app.requestParams=e.app.requestParams||{},e.app.requestParams.tcfV1="tcfV1=1";try{i.__cmp("getConsentData",null,(function(o){e.app.consentData=o,e.app.context.localStorage&&e.app.context.localStorage.setItem("MG_ConsentData",JSON.stringify(o)),e.app.log("Consents. TCFv1 API done."),t&&setTimeout((function(){t()}),0),n()}))}catch(e){t&&setTimeout((function(){t()}),0),o(e)}}else t&&setTimeout((function(){t()}),0),n()}))},t.prototype.ccpaApi=function(t){var e=this;return new Promise((function(n,o){var i=e.app.getMostTopWindow();if("function"==typeof i.__uspapi){e.app.uspEnabled=!0;try{i.__uspapi("getUSPData",1,(function(o,i){i?(e.app.uspString=o.uspString||"",e.app.context.localStorage&&""!==e.app.uspString&&e.app.context.localStorage.setItem("MG_uspString",e.app.uspString),e.app.log("Consents. CCPA API done.")):e.app.log("Consents. CCPA API fail."),t&&setTimeout((function(){t()}),0),n()}))}catch(e){t&&setTimeout((function(){t()}),0),o(e)}}else t&&setTimeout((,0),n()}))},t.prototype.getGdprData=function(){var t=null;if(this.app.cmpEnabled||this.app.tcfv2Enabled||this.app.isAmp())this.app.isAmp()&&1===this.app.context.context.initialConsentState?t={consentData:this.app.ampConsentData,gdprApplies:+this.app.context.context.initialConsentState}:void 0!==this.app.tcfv2Data&&void 0!==this.app.tcfv2Data.gdprApplies&&void 0!==this.app.tcfv2Data.tcString?t={consentData:this.app.tcfv2Data.tcString,gdprApplies:+this.app.tcfv2Data.gdprApplies}:void 0!==this.app.consentData&&void 0!==this.app.consentData.gdprApplies&&void 0!==this.app.consentData.consentData&&(t={consentData:this.app.consentData.consentData,gdprApplies:+this.app.consentData.gdprApplies});else{var e=null;try{this.app.context.localStorage&&(null!=(e=JSON.parse(this.app.context.localStorage.getItem("MG_ConsentData")||"null"))&&void 0!==e.gdprApplies&&"string"==typeof e.consentData&&(t={consentData:e.consentData,gdprApplies:+e.gdprApplies}),null!=(e=JSON.parse(this.app.context.localStorage.getItem("MG_tcfv2Data")||"null"))&&void 0!==e.gdprApplies&&void 0!==e.tcString&&(t={consentData:e.tcString,gdprApplies:+e.gdprApplies}))}catch(t){this.app.log("getGdprData -> "+t.message)}}return t},t.prototype.getUspData=function(){var t=null;if(this.app.uspEnabled)t={uspString:""},""!=this.app.uspString&&void 0!==this.app.uspString&&(t.uspString=this.app.uspString);else try{if(this.app.context.localStorage){var e=this.app.context.localStorage.getItem("MG_uspString");null!=e&&""!=e&&void 0!==e&&(t={uspString:e})}}catch(t){this.app.log("getUspData -> "+t.message)}return t},t.prototype.getConsentData=function(){var t={},e=this.getGdprData(),n=this.getUspData();return null!=e&&Object.keys(e).forEach((function(n){return t[n]=e[n]})),null!=n&&Object.keys(n).forEach((),Object.keys(t).length>0?t:null},t.prototype.fetchConsents=function(){var t=this;return Promise.allSettled([this.ampApi(),this.tcfv2Api(),this.gdprApi(),this.ccpaApi()]).then(()},t}();e.ConsentsBlock=n},334:function(t,e,n){var o=n(344);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(878));e.default=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError((0,i.default)(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function a(t,n){if(n&&("object"===(0,i.default)(n)||"function"==typeof n)){var p=n.then;if("function"==typeof p)return void p.call(n,(function(e){a(t,e)}),()}o[t]={status:"fulfilled",value:n},0==--r&&e(o)}for(var p=0;p<o.length;p++)a(p,o[p])}))}},673:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=,205:function(t,e,n){var o=n(344);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(878)),r=o(n(673)),a=o(n(334)),p=setTimeout,s="undefined"!=typeof setImmediate?setImmediate:null;tion d(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(0,i.default)(e)||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void v(t);if("function"==typeof n)return void m((o=n,r=e,,t)}t._state=1,t._value=e,v(t)}catch(e){g(t,e)}var o,r}ototype.catch=l.prototype.then=l.prototype.finally=r.default,l.all=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var r=o.length;function a(t,p){try{if(p&&("object"===(0,i.default)(p)||"function"==typeof p)){var s=p.then;if("function"==typeof s)return void s.call(p,(,n)}o[t]=p,0==--r&&e(o)}catch(t){n(t)}}for(var p=0;p<o.length;p++)a(p,o[p])}))},l.allSettled=a.default,l.resolve=function(t){return t&&"object"===(0,i.default)(t)&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=l.race=l._immediateFn="function"==typeof s&&|l._unhandledRejectionFn=var h=l;e.default=h},344:878:,s={};.g=),e=(t=c(344))(c(205)),n=t(c(673)),o=t(c(334)),"function"!=typeof(i=)).Promise?i.Promise=e.default:(i.Promise.prototype.finally||(i.Promise.prototype.finally=n.default),i.Promise.allSettled||(i.Promise.allSettled=o.default)),r=c(344)(c(878)),a=c(655),function(){var t=String("a.mgid.com"),e=function(e){var n,o,i="https://"+t+"/1x1.gif",p="https://"+t+"/auto.gif",s="https://"+t.replace(/^[^.]./,"cm.")+"/sm.js",c=this,u=!1,l=window.location.host.replace(/^www\./,"."),f=new a.ConsentsBlock({context:window,log:isAmp:getMostTopWindow:,.05),d=function(){var e=/a\.([^\.]*)\.(.*)/.exec(t);return e[1]?e[1].charAt(0).toUpperCase()+e[1].slice(1):0},g=function(){return v()?void 0!==window._mglp?decodeURIComponent(window._mglp):document.referrer:document.location.href},v=w=function(t){var e,n,o;o={};try{e=new URL(t).search}catch(t){e=location.search}for(var i=0,r=(n=e.substring(1).split("&")).length;i<r;i++){var a=n[i];if(""!==a){var p=a.split("=");try{o[p[0]]=p[1]&&decodeURIComponent(p[1].replace(/\+/g," "))}catch(t){}}}return o},m=function(t){var e=t.adclid||(t.adclida?t[t.adclida]:null);return"string"==typeof e&&(e=e.split("?")[0]),e},h=function(t,e){var n=new Date;n.setTime(n.getTime()+7776e6);var o="expires="+n.toUTCString(),i=l?"domain="+l+";":"";document.cookie=d()+t+"="+e+";path=/; "+i+o},y=function(t){var e;return(e=document.cookie.match(new RegExp("(?:^|; )"+d()+t+"=([^;]*)")))?e[1]:""},_=function(t){var e=document,n=e.getElementsByTagName("body")[0],o=e.createElement("script");o.type="text/javascript",o.async=!0,o.src=s+"?"+D(),null!==t&&(t.consentData&&(o.src+="&consentData="+t.consentData),t.gdprApplies&&(o.src+="&gdprApplies="+t.gdprApplies),t.uspString&&(o.src+="&uspString="+t.uspString)),n.appendChild(o,n)},S=function(t){t+="&"+D(),(new Image).src=t},D=function(){return"d="+(Date.now?Date.now():(new Date).valueOf())};this.invoke=function(t,a){var s,c,u;s=g(),c=w(s),(u=m(c))||v()||(c=w(document.referrer),u=m(c)),u&&(n=u,h("SensorClid",u)),function(){o=Number(y("SensorNVis"));var t=g();1==(y("SensorHref")==t)||o++,h("SensorNVis",o),h("SensorHref",t)}(),function(){o=Number(y("SensorNVis"));var t=y("SensorClid");""===t&&void 0!==n||(n=t)}(),f.fetchConsents().then((function(s){!function(t,a,p){var s=i+"?id="+(e.cid?e.cid:e.id)+(e.cid?"&type=c":"&type=s")+"&tg="+t+"&r="+encodeURIComponent(g());s+="&nv="+Number(o),s+="&clid="+n,null!==p&&(p.consentData&&(s+="&consentData="+p.consentData),p.gdprApplies&&(s+="&gdprApplies="+p.gdprApplies),p.uspString&&(s+="&uspString="+p.uspString)),"object"===(0,r.default)(a)&&(a.gtm_stage&&(s+="&gtms="+a.gtm_stage),a.gtm_revenue&&(s+="&gtmr="+a.gtm_revenue),a.gtm_category&&(s+="&gtmc="+a.gtm_category),a.revenue&&(s+="&rvn="+a.revenue)),S(s)}(t,a,s),(e.eid||e.goods)&&function(t){null==e.eid&&(e.eid=""),null==e.goods&&(e.goods=[]),null==e.partner&&(e.partner="");var n=p+"?sid="+(e.cid?e.cid:e.id)+"&eid="+e.eid+(e.cid?"&type=c":"&type=s")+"&goods="+e.goods.join(",")+"&partner="+e.partner+"&referer="+encodeURIComponent(document.referrer);null!==t&&(t.consentData&&(n+="&consentData="+t.consentData),t.gdprApplies&&(n+="&gdprApplies="+t.gdprApplies),t.uspString&&(n+="&uspString="+t.uspString)),S(n),_(t)}(s)}))},this.invokeAll=function(t){if(void 0!==t)for(var e=0;e<t.length;e++)c.addInvokeQueue(t[e][0],t[e][1]||[]);else for(var n in c.getAllInvokers())c.addInvokeQueue(n)},this.getAllInvokers=this.mgqWorker=function(){for(var t=0;t<window._mgq.length;t++){var e=window._mgq[t];"function"==typeof window[e[0]]&&(window[e[0]].apply(window,e.slice(1)),window._mgq.splice(t,1))}window._mgqi||(window._mgqi=window.setInterval((function(){c.mgqWorker()}),5)),u||(new Date).getTime()-window._mgqt>1e4&&(u=!0,window.clearInterval(window._mgqi),window._mgqi=window.setInterval((,100))},this.addInvokeQueue=function(t,e){window._mgq.push([t,e||[]])},this.mgqInit=function(){window._mgq=window._mgq||[],void 0===window._mgqp&&(window._mgqp=c.mgqWorker,window._mgqt=(new Date).getTime(),c.mgqWorker())}},n=function(t){void 0===window._mgr&&(window._mgr={}),window._mgr[t]=t},o="MgSensorInvoke";if("[object Array]"===Object.prototype.toString.call(MgSensorData)){for(var i={},p=0;p<MgSensorData.length;p++)if(void 0===i[MgSensorData.cid]&&MgSensorData[p].project===t){var s=new e(MgSensorData[p]),c=o+p;window.MgSensor=s,window[c]=window[o]=s.invoke,s.mgqInit(),n(c),s.addInvokeQueue(c,[""]),i[MgSensorData.cid]=MgSensorData.cid}}else MgSensorData&&(MgSensorData.id||MgSensorData.cid)&&(window.MgSensor=new e(MgSensorData),window.MgSensorInvoke=window.MgSensor.invoke,window.MgSensor.mgqInit(),n(o),window.MgSensor.addInvokeQueue(o,[""]));void 0!==window.history&&function(){if(!window._mghl){window._mghl={oldUrl:window.location.href};var t=function(){window._mghl.oldUrl!==window.location.href&&(window.MgSensor.invokeAll(),window._mghl.oldUrl=window.location.href)},e="function"==typeof window.history.pushState&&(window.history.pushState=e(window.history.pushState)),"function"==typeof window.history.replaceState&&(window.history.replaceState=e(window.history.replaceState)),window.addEventListener("popstate",t)}}()}()}();