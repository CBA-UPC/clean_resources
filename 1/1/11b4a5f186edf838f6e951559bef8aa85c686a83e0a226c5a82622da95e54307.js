"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[147],{2573:(t,e,s)=>{s.d(e,{o:()=>h});var r=s(4247),o=s(1117),i=s(8673),n=s(8310),a=s(5763),c=s(3860);class h extends o.w{constructor(t,e,s){super(s),this.endpoint=t,this.opts=e||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new i.M(this.sharedContext),(0,n.L)(this.unload.bind(this),(0,a.Mt)(this.sharedContext.agentIdentifier,"allow_bfcache")),this.sharedContext?.ee.on(c.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}stopTimer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=t,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(t,e){this.timeoutHandle||(null==t&&(t=this.interval),this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,this.runHarvest(e)}),1e3*t))}runHarvest(t){if(this.aborted)return;const e=e=>{t?.forceNoRetry&&(e.retry=!1),this.onHarvestFinished(t,e)};let s,o,i=[];if(this.opts.getPayload){if(s=r.qD({isFinalHarvest:t?.unload}),!s)return!1;const e=!t?.unload&&s===r.Be;if(o=this.opts.getPayload({retry:e}),!o)return void(this.started&&this.scheduleHarvest());o="[object Array]"===Object.prototype.toString.call(o)?o:[o],i.push(...o)}let n=t=>this.harvest.sendX(t);i.length?n=this.opts.raw?t=>this.harvest._send(t):t=>this.harvest.send(t):i.push(void 0),i.forEach((r=>{n({endpoint:this.endpoint,payload:r,opts:t,submitMethod:s,cbFinished:e,customUrl:this.opts.customUrl,raw:this.opts.raw})})),this.started&&this.scheduleHarvest()}onHarvestFinished(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){const s=e.delay||this.opts.retryDelay;this.started&&s?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(s,t)):!this.started&&s&&this.scheduleHarvest(s,t)}}}},8310:(t,e,s)=>{s.d(e,{L:()=>a});var r=s(3239),o=s(7872),i=s(385),n=s(7956);if(i.v6){i._A.cleanupTasks=[];const t=i._A.close;i._A.close=()=>{for(let t of i._A.cleanupTasks)t();t()}}function a(t,e){if(i.il)if(e)(0,n.N)(t,!0),(0,r.bP)("pagehide",t);else{var s=(0,o.Z)(t);!i.IF||navigator.sendBeacon?(0,r.bP)("pagehide",s):(0,r.bP)("beforeunload",s),(0,r.bP)("unload",s)}else i.v6&&i._A.cleanupTasks.push(t)}},9026:(t,e,s)=>{s.r(e),s.d(e,{Aggregate:()=>L});var r=s(5763),o=s(4322),i=s(2573),n=s(3081),a=s(8e3),c=s(385);const h="React",u="Angular",l="AngularJS",p="Backbone",d="Ember",y="Vue",f="Meteor",b="Zepto",g="Jquery",S="MooTools";function w(){if(!c.il)return[];const t=[];try{(function(){try{return Object.prototype.hasOwnProperty.call(window,"React")||Object.prototype.hasOwnProperty.call(window,"ReactDOM")||Object.prototype.hasOwnProperty.call(window,"ReactRedux")||document.querySelector("[data-reactroot], [data-reactid]")||(()=>{const t=document.querySelectorAll("body > div");for(let e=0;e<t.length;e++)if(Object.prototype.hasOwnProperty.call(t[e],"_reactRootContainer"))return!0})()}catch(t){return!1}})()&&t.push(h),function(){try{return Object.prototype.hasOwnProperty.call(window,"angular")||document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]')}catch(t){return!1}}()&&t.push(l),function(){try{return Object.prototype.hasOwnProperty.call(window,"ng")||document.querySelector("[ng-version]")}catch(t){return!1}}()&&t.push(u),Object.prototype.hasOwnProperty.call(window,"Backbone")&&t.push(p),Object.prototype.hasOwnProperty.call(window,"Ember")&&t.push(d),Object.prototype.hasOwnProperty.call(window,"Vue")&&t.push(y),Object.prototype.hasOwnProperty.call(window,"Meteor")&&t.push(f),Object.prototype.hasOwnProperty.call(window,"Zepto")&&t.push(b),Object.prototype.hasOwnProperty.call(window,"jQuery")&&t.push(g),Object.prototype.hasOwnProperty.call(window,"MooTools")&&t.push(S)}catch(t){}return t}const m=/\{ \[native code\] \}/,v="Function.bind",O="Function.apply",M="Function.call",j="Array.includes",P="Array.from",k="Array.find",A="Array.flat",H="Array.flatMap",E="Object.assign",R="Object.entries",F="Object.values",T="Map",x="Set",C="WeakMap",D="WeakSet";var N=s(2271),B=s(6141),G=s(6818),I=s(3960),q=s(3239),_=s(2222),W=s(4351);const U={rum:"1",events:"Events",ins:"Ins",jserrors:"Jserrors",resources:"Resources"};class L extends _.m{static featureName=n.t9;constructor(t,e){let s;super(t,e,n.t9),(0,o.X)("block-err",(()=>{this.blocked=!0,s&&(s.aborted=!0)}),this.featureName,this.ee),(0,o.X)(n.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,o.X)(n.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),s=new i.o("jserrors",{onUnload:()=>this.unload()},this),s.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])}))),(0,a.L)(this.agentIdentifier,this.featureName)}storeSupportabilityMetrics(t,e){if(this.blocked)return;const s=n.mY,r={name:t};this.aggregator.storeMetric(s,t,r,e)}storeEventMetrics(t,e){if(this.blocked)return;const s=n.gF,r={name:t};this.aggregator.store(s,t,r,e)}singleChecks(){this.storeSupportabilityMetrics("Generic/Version/".concat(G.q4,"/Detected"));const{distMethod:t,loaderType:e}=(0,r.OP)(this.agentIdentifier);e&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(e,"/Detected")),t&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(t,"/Detected")),c.il&&(0,I.K)((()=>{w().forEach((t=>{this.storeSupportabilityMetrics("Framework/"+t+"/Detected")}))})),function(){const t=[],e=function(){};try{"function"!=typeof e.bind||m.test(e.bind.toString())||t.push(v),"function"!=typeof e.apply||m.test(e.apply.toString())||t.push(O),"function"!=typeof e.call||m.test(e.call.toString())||t.push(M),"function"!=typeof[].includes||m.test([].includes.toString())||t.push(j),"function"!=typeof Array.from||m.test(Array.from.toString())||t.push(P),"function"!=typeof[].find||m.test([].find.toString())||t.push(k),"function"!=typeof[].flat||m.test([].flat.toString())||t.push(A),"function"!=typeof[].flatMap||m.test([].flatMap.toString())||t.push(H),"function"!=typeof Object.assign||m.test(Object.assign.toString())||t.push(E),"function"!=typeof Object.entries||m.test(Object.entries.toString())||t.push(R),"function"!=typeof Object.values||m.test(Object.values.toString())||t.push(F),"function"!=typeof Map||m.test(Map.toString())||t.push(T),"function"!=typeof Set||m.test(Set.toString())||t.push(x),"function"!=typeof WeakMap||m.test(WeakMap.toString())||t.push(C),"function"!=typeof WeakSet||m.test(WeakSet.toString())||t.push(D)}catch(t){}return t}().forEach((t=>{this.storeSupportabilityMetrics("Polyfill/"+t+"/Detected")})),(0,N.V)()&&this.storeSupportabilityMetrics("Generic/FileProtocol/Detected");const s=(0,B.$c)(this.agentIdentifier);s.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),s.length>0&&!(0,B.Ng)(s)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid")}eachSessionChecks(){c.il&&(0,q.bP)("pageshow",(t=>{t.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{if(this.resourcesSent)return;const t=(0,r.OP)(this.agentIdentifier),e=(0,r.C5)(this.agentIdentifier);this.resourcesSent=!0;const s=["beacon","fetch","xmlhttprequest"],o=["nr-data.net","newrelic.com","nr-local.net","localhost"];function i(t){return s.includes(t.initiatorType)}(performance?.getEntriesByType("resource")||[]).forEach((t=>{var e;e=t,o.some((t=>e.name.indexOf(t)>=0))?i(t)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):i(t)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")})),Object.keys(t.bytesSent).forEach((e=>{this.storeSupportabilityMetrics("PageSession/Endpoint/".concat(U[e],"/BytesSent"),t.bytesSent[e])})),Object.keys(t.bytesSent).forEach((e=>{this.storeSupportabilityMetrics("PageSession/Endpoint/".concat(U[e],"/QueryBytesSent"),t.queryBytesSent[e])})),t.ptid&&this.storeSupportabilityMetrics("PageSession/Feature/SessionTrace/DurationMs",Math.round(performance.now()));const n=(0,W.P)(e.jsAttributes);this.storeSupportabilityMetrics("PageSession/Feature/CustomData/Bytes","{}"===n?0:n.length)}catch(a){}}}}}]);