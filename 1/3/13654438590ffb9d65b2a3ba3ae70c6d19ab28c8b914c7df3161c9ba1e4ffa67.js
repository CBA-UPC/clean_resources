import{cu as ie,aD as X,as as M,cv as le,b4 as K,cw as se,aA as q,b6 as $,cx as oe,by as re,H as ce,ai as ue,bx as de}from"./itinerary-entities.5f897bcd.js";import{l as N,aX as ge,r as w,c as g,q as D,G as r,P as B,Y as m,F as U,$ as W,H as C,z as l,a6 as Y,Q as E,R as y,S as ve,_ as O,an as pe,ao as fe,w as be,y as ee,N as x,O as H,x as T,n as me,I as j,a7 as _,a1 as Be,X as Z}from"./graphql.5cf3693b.js";import{b as G,l as J}from"./entry.a7cea746.js";import{c as he,S as P,P as Ce}from"./pagination.83ca29fa.js";function Ae(t){let{swiper:a,extendParams:f,on:v,emit:b}=t;f({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),a.navigation={nextEl:null,prevEl:null};const u=function A(e){let n;return e&&typeof e=="string"&&a.isElement&&(n=a.el.querySelector(e),n)?n:(e&&(typeof e=="string"&&(n=[...document.querySelectorAll(e)]),a.params.uniqueNavElements&&typeof e=="string"&&n.length>1&&a.el.querySelectorAll(e).length===1&&(n=a.el.querySelector(e))),e&&!n?e:n)}nction d(e){e.preventDefault(),!(a.isBeginning&&!a.params.loop&&!a.params.rewind)&&(a.slidePrev(),b("navigationPrev"))}init",,v("toEdge fromEdge lock unlock",()=>{i()}),v("destroy",()=>{S()}),v("enable disable",,v("click",;const R=Q=Object.assign(a.navigation,{enable:R,disable:Q,update:i,init:k,destroy:S})}const Ee=Ie={key:0,class:"title"},ke=Ee(,we=N({__name:"LabelView",props:{label:{},icons:{default:()=>[]},large:{type:Boolean}},setup(t){ge(i=>({d173b3dc:l(f),"37afa25b":l(v)}));const a=w(null),f=w("0"),v=w("0"),b=g(,u=g(()=>t.label.color||ie[t.label.backgroundColor]||"var(--gray-900)"),A=g(()=>{var i;if((i=t.label.backgroundColor)!=null&&i.includes("var")){const d=Number(/var\(--([a-z]*-)*(\d+)\)/.exec(t.label.backgroundColor)[2]),h=d<700?d+100:d;return t.label.backgroundColor.replace(`${d}`,`${h}`)}else return t.label.backgroundColor}),I=g(()=>{const i=[];return t.label.icon&&i.push({icon:t.label.icon,color:u.value}),[...i,...t.icons.map(]});return D(()=>{var i,d;f.value=`${((i=a.value)==null?void 0:i.offsetWidth)||0}px`,v.value=`${((d=a.value)==null?void 0:d.offsetHeight)||0}px`}),(i,d)=>(r(),B("div",{class:"label-root",style:ve({"--background":i.label.backgroundColor,"--border-color":l(A),"--color":l(u)}),onClick:d[0]||(d[0]=O(()=>{},["stop"]))},[m("div",{ref_key:"sizer",ref:a,class:y(["label-view-container",{large:i.large}])},[(r(!0),B(U,null,W(l(I),(h,k)=>(r(),C(X,{key:k,icon:h.icon,color:h.color,size:l(b)},null,8,["icon","color","size"]))),128)),i.label.title?(r(),B("span",Ie,Y(i.label.title),1)):E("",!0)],2),ke],4))}});const ye=M(we,[["__scopeId","data-v-80b8c5db"]]),Qe={class:"card-labels-container"},Se=N({__name:"CardLabels",props:{labels:{}},setup(t){return(a,f)=>(r(),B("div",Qe,[(r(!0),B(U,null,W(a.labels||[],v=>(r(),C(ye,{key:v.title,label:v},null,8,["label"]))),128))]))}});const Fe=M(Se,[["__scopeId","data-v-ddcb02ba"]]),ze={class:"rating-container"},Ve=N({__name:"StarRating",props:{numberOfStars:{default:5},percent:{default:50},color:{default:"var(--yellow-400)"},size:{default:"x-small"}},setup(t){const a=g(()=>[...Array(t.numberOfStars).keys()].map(f=>Math.max(0,Math.min(100,t.percent*Number(t.numberOfStars)-f*100))).filter(Boolean));return(f,v)=>(r(),B("div",ze,[(r(!0),B(U,null,W(l(a).length,b=>(r(),C(X,{key:b-1,class:"star",icon:l(le),color:f.color,size:f.size},null,8,["icon","color","size"]))),128))]))}});const Re=M(Ve,[["__scopeId","data-v-99b77c65"]]),Le={class:"swiper-wrapper"},Oe={class:"swiper-wrapper"},Ue=N({__name:"ImageCarousel",props:{images:{default:,noSlider:{type:Boolean},noBorderRadius:{type:Boolean},showButtonOnHover:{type:Boolean},hideButtons:{type:Boolean},pagination:{type:Boolean},mobileImageFit:{default:"cover"},desktopImageFit:{default:"cover"},mobileSlider:{type:Boolean},preMountSwiper:{type:Boolean},buttonSize:{default:"medium"},mobileButtonSize:{}},setup(t){P.use([Ce,Ae]);const a=w(null),f=w(null),v=w(null),b=w(0),u=w(null),A=w(null),{isMobileSize:I}=K(),i=g(,d=g(,h=g(,k=()=>{me(()=>{const e={spaceBetween:0,on:{activeIndexChange:R}};d.value&&(e.pagination={el:".swiper-pagination",clickable:!0,dynamicBullets:!0,dynamicMainBullets:3}),h.value&&(e.navigation={nextEl:".arrow-button.left",prevEl:".arrow-button.right"}),i.value&&(e.freeMode=!0,e.spaceBetween=4,e.touchRatio=.2,e.centeredSlides=!0),f.value&&(u.value=new P(f.value,e)),!t.noSlider&&v.value&&(A.value=new P(v.value,{spaceBetween:8,slidesPerView:5,touchRatio:.2,slideToClickedSlide:!0,freeMode:!0,on:{click:n=>{var s;(s=u.value)==null||s.slideTo(n.clickedIndex)}}}))})},S=()=>{const e=new IntersectionObserver(n=>{n[0].isIntersecting&&(k(),e.disconnect())},{threshold:[0,.2],root:null,rootMargin:"0px 0px 0px 0px"});a.value&&e.observe(a.value)},R=()=>{var e;u.value&&(b.value=u.value.activeIndex,(e=A.value)==null||e.slideToLoop(u.value.activeIndex))},Q=()=>{var e,n;(e=u.value)==null||e.destroy(),(n=A.value)==null||n.destroy(),u.value=null,A.value=null};return be(,D(()=>{i.value||(t.preMountSwiper||typeof IntersectionObserver>"u"?k():S())}),ee(,(e,n)=>(r(),B("div",{ref_key:"wrapper",ref:a,class:"image-carousel-container"},[m("div",{ref_key:"swiperContainer",ref:f,class:y(["swiper-container",{"no-slider":e.noSlider,"no-border":e.noBorderRadius,"hover-show-button":e.showButtonOnHover,"mobile-slider":l(i)}])},[l(h)?x((r(),C(q,{key:0,class:"arrow-button right",size:e.buttonSize,"m-size":e.mobileButtonSize||e.buttonSize,"icon-button":{icon:l(se),color:"white"},onClick:n[0]||(n[0]=O(()=>{},["stop","prevent"]))},null,8,["size","m-size","icon-button"])),[[H,l(b)!==0]]):E("",!0),m("div",Le,[(r(!0),B(U,null,W(e.images,(s,c)=>(r(),B("div",{key:c,class:"swiper-slide"},[T($,{class:"swiper-image",hash:s.blurhash,src:s.large||void 0,"image-fit":l(I)?e.mobileImageFit:e.desktopImageFit,alt:s.alt},null,8,["hash","src","image-fit","alt"])]))),128))]),l(h)?x((r(),C(q,{key:1,class:"arrow-button left",size:e.buttonSize,"m-size":e.mobileButtonSize||e.buttonSize,"icon-button":{icon:l(oe),color:"white"},onClick:n[1]||(n[1]=O(()=>{},["stop","prevent"]))},null,8,["size","m-size","icon-button"])),[[H,l(b)!==e.images.length-1]]):E("",!0),x(m("div",{class:"swiper-pagination",onClick:n[2]||(n[2]=O(["stop","prevent"]))},null,512),[[H,l(d)]])],2),x(m("div",{ref_key:"sliderContainer",ref:v,class:"slider-container"},[m("div",Oe,[(r(!0),B(U,null,W(e.images,(s,c)=>(r(),B("div",{key:c,class:"swiper-slide"},[T($,{hash:s.blurhash,src:s.small||void 0,"border-radius":8,alt:s.alt},null,8,["hash","src","alt"])]))),128))])],512),[[H,!e.noSlider]])],512))}});const Ye=M(Ue,[["__scopeId","data-v-b28d0edd"]]),We={key:1,alt:"loading",class:"loading-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAACWCAYAAACb+ZAwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO2SURBVHgB7drNbV1FGMfhd4YssrQVsYglhG8HoQLoIOkAqCCmAtsduANSAumAVEA6uEaRYjbR9TIbn+GcixwRy06Ec/8rnmd1vtY/zXlnWn3Cer3Ze/Cwno8aP4yqw6pxWAD/Z60u22ivRxsvp9F/Wz3eP7/701usLzaHX9X4dQlrAXCnOaIvrqqf3hbafvPBm782z3ub/hBXgM+b/+5/Wpr559t3RzfffbSCfXOxOZ5qOikA/rNe/eSbx/un1/cfArusXKcxnRUA9zfql28PHm1bug3sMnNdlrjzi70C4P7mTbB58+u7ZSa7ncH2mo7FFWAH5pYuhwSWy7Zdvda0LgB2Znrf9/s8GnhWAOxUfzgd9Tba0wJgp1q17/to40kBsFOjxjx+tbkFkHDYC4AIgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBLYAMgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUIEViAEIEFCBFYgBCBBQgRWIAQgQUI6aPqvADYrVaXvVc7LwB2qo32el7BjlcFwE6NMV629Xqz1x9OmwJgZ6bqq75a7V+2ar8XADvRql6sHu+fb08RXFX7eRnIFgBfZm7pVfXT5XIb2KW001SnBcAXmabpdGnqcv3hHOzq4NHZVJPIAtzT0tDVwddn1/ft5gfrt++Oeq/jGrVXAHzePBbYrlz/Fdd/Ht9ifbE5nCezJ73ajwXAnZZDAss+1vVY4ON3n7CEtrfpWRvt6WjjiVUtQDufw3l+VVev6v2Ds+Uk1l1f/g3N86TcNJIzGAAAAABJRU5ErkJggg=="},Me={class:"card-info-container"},Ne={class:"hotel-info"},xe={class:"title-container"},He={class:"address-container"},Pe={class:"hotel-pricing"},qe={class:"price-view-container"},Te=N({__name:"HotelCard",props:{hotelItem:{},mobileView:{type:Boolean},loading:{type:Boolean},mobileObserving:{type:Boolean},linkQueries:{default:,disableTitleLink:{type:Boolean}},emits:["click","intersect","mouseenter","mouseleave"],setup(t,{emit:a}){const f=re(),v=w(null),{isMobileSize:b}=K(),u=new ce({hotel:{name:"....................................",englishName:"....................",englishCityName:"..........",hotelTypeId:1,hotelTypeTitle:"..........",hotelTypeStars:5,photo:"",isMrBilitOffer:!1,shortAddress:".......................",totalPrice:0,minRoomPriceCapacity:2,payable:0,amenities:[],rating:4,saleCount:0,bannerPhotos:[],hasFreeTransfer:!1,sortWeight:1.652}}),A=w(null),I=g(()=>{if(!t.loading)return b.value?"nuxt":!0}),i=g(()=>t.loading||!t.hotelItem?u:t.hotelItem),d=g(()=>(e.value||0)<(Q.value||0)?Q.value||0:null),h=g(()=>{if(t.loading)return"";let o=f.generateViewUrl({cityName:i.value.cityName.toLowerCase(),hotelName:i.value.engTitle.toLowerCase()});if(Object.keys(t.linkQueries).length){const V=new URLSearchParams;Object.keys(t.linkQueries).forEach(,o+=`?${V.toString()}`}return o}),k=g(()=>i.value.title||""),S=g(()=>i.value.percentStar),R=g(()=>i.value.address||""),Q=g(()=>i.value.totalPrice||null),e=g(,n=g(()=>i.value.nights),s=g(()=>i.value.hotelCapacity),c=g(()=>Math.ceil(100-(e.value||0)/(Q.value||0)*100)),p=g(,F=g(()=>{var o;return(o=i.value.photos)!=null&&o.length?i.value.photos:[{blurhash:"LMJvExs:IXR.kDj@azazayaz~RoL"}]}),z=()=>{t.loading||a("click",i.value)},ae=()=>{t.loading||(b.value||t.mobileView)&&z()},ne=()=>{typeof IntersectionObserver>"u"||(A.value=new IntersectionObserver(o=>{o[0].isIntersecting&&a("intersect")},{threshold:.7,root:null,rootMargin:"0px 0px 0px 0px"}),v.value&&A.value.observe(v.value))};D(,ee(;const te=ue();return(o,V)=>(r(),B("div",{ref_key:"hotelCardContainer",ref:v,class:y(["mr-hotel-card-container",{"mobile-view":o.mobileView,loading:o.loading}]),onClick:ae,onMouseenter:V[0]||(V[0]=L=>a("mouseenter",L)),onMouseleave:V[1]||(V[1]=},[m("div",{class:y(["photos-container",{"no-br":o.loading}])},[o.loading?(r(),B("img",We)):(r(),C(Ye,{key:0,images:l(F),"mobile-slider":!o.mobileView,"no-slider":"","no-border-radius":"","show-button-on-hover":"",pagination:"","button-size":"small"},null,8,["images","mobile-slider"]))],2),m("div",Me,[m("div",Ne,[m("div",xe,[(r(),C(Be(o.disableTitleLink?"div":"a"),{class:y(["title",{"loading-skeleton":o.loading}]),href:o.disableTitleLink?"":l(h),onclick:"return false;",onClick:O(z,["prevent"])},{default:j(,_:1},8,["class","href","onClick"]))]),m("div",He,[l(S)?(r(),C(Re,{key:0,class:"star-rating","number-of-stars":5,percent:l(S),color:o.loading?"var(--cool-gray-200)":void 0},null,8,["percent","color"])):E("",!0),l(R)?(r(),B(U,{key:1},[o.loading?E("",!0):(r(),C(X,{key:0,icon:l(de),class:"location-icon",color:"var(--cool-gray-600)",size:"small"},null,8,["icon"])),m("div",{class:y(["address",{"loading-skeleton":o.loading}])},Y(l(R)),3)],64)):E("",!0)]),o.loading?E("",!0):(r(),C(Fe,{key:0,labels:l(p)},null,8,["labels"])),Z(o.$slots,"extra-info",{},void 0,!0)]),o.loading?E("",!0):(r(),C(G,{key:0,class:"vertical-divider",vertical:"",size:"170px",margin:0,thickness:1})),o.loading?E("",!0):(r(),C(G,{key:1,class:"horizontal-divider",margin:0,thickness:1})),m("div",Pe,[Z(o.$slots,"pricing",{},()=>[m("p",{class:y(["nights",{"loading-skeleton":o.loading}])},Y(`قیمت ${l(n)} شب اتاق ${l(s)} تخته`),3),o.mobileView?(r(),B("p",{key:0,class:y(["nights nights-small",{"loading-skeleton":o.loading}])}," هر شب از ",2)):E("",!0),m("div",qe,[!o.loading&&l(d)?(r(),C(J,{key:0,class:"off-price-container",price:l(d),percent:l(c),type:"discount"},null,8,["price","percent"])):E("",!0),o.loading?E("",!0):(r(),C(J,{key:1,class:y(["price",{"loading-skeleton":o.loading}]),price:l(e)},null,8,["class","price"]))]),T(q,{class:y(["reserve-button",{"loading-skeleton":o.loading}]),link:l(I),href:l(h),"full-width":"",onclick:"return false;",onClick:O(z,["prevent"])},{default:j(()=>[_(Y(l(te).t("HotelCard.selectRoom")),1)]),_:1},8,["class","link","href","onClick"])],!0)])])],34))}});const _e=M(Te,[["__scopeId","data-v-a76008c0"]]);export{_e as H,Ye as I,ye as L,Ae as N,Re as S};
