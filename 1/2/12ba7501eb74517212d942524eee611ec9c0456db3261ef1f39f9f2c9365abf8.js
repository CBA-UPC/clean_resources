/*! For license information please see vendors~fl-debugger.b08aed78b299d417bf76.chunk.v7.js.LICENSE.txt */
(window.officehome_webpackJsonp=window.officehome_webpackJsonp||[]).push([[646],{Gvah:function(e,t,r){"use strict";var n=r("MBU+"),i=n.ValidatorResult,s=n.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};ype=a.anyOf=a.allOf=a.oneOf=a.if=a.propertyNames=a.properties=a.patternProperties=a.additionalProperties=a.minProperties=a.maxProperties=a.items=a.minimum=a.maximum=a.exclusiveMinimum=a.exclusiveMaximum=var u=.multipleOf=function(e,t,r,n){return u.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=a.required=a.pattern=a.format=a.minLength=a.maxLength=a.minItems=a.maxItems=a.uniqueItems=a.dependencies=a.enum=a.const=a.not=a.disallow=e.exports=o},H61q:"MBU+":function(e,t,r){"use strict";var n=r("so/P"),i=t.ValidationError=function(e,t,r,n,i,s){Array.isArray(n)?(this.path=n,this.property=n.reduce((function(e,t){return e+u(t)}),"instance")):void 0!==n&&(this.property=n),e&&(this.message=e),r&&(this.schema=r.$id||r.id||r),void 0!==t&&(this.instance=t),this.name=i,this.argument=s,this.stack=this.toString()};i.prototype.toString=var s=t.ValidatorResult=prototype.addError=s.prototype.importErrors=s.prototype.toString=Object.defineProperty(s.prototype,"valid",{get:),e.exports.ValidatorResultError=a,(a.prototype=new Error).constructor=a,a.prototype.name="Validation Error";var c=t.SchemaError=c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var d=t.SchemaContext=d.prototype.resolve=d.prototype.makeChild=var l=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":regex:style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};l.regexp=l.regex,l.pattern=l.regex,l.ipv4=l["ip-address"],t.isFormat=var u=t.makeSuffix=nction f(e,t,r,n){r[n]="object"==typeof t[n]&&t[n]&&e[n]?m(e[n],t[n]):t[n]}function m(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(n=n.concat(e=e||[]),t.forEach(h.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(p.bind(null,e,n)),Object.keys(t).forEach(f.bind(null,e,t,n))),n}.deepCompareStrict=e.exports.deepMerge=m,t.objectGetPath=t.encodePath=t.getDecimalPlaces=t.isSchema=,OZT7:VNjx:function(e,t,r){"use strict";r.r(t),r.d(t,"DebugReplayController",(function(){return X})),r.d(t,"DebuggerUI",(function(){return Q})),r.d(t,"FluidDebugger",();class n{et isCompleted(){return this.completed}esolve(e){void 0!==this.res&&(this.completed=!0,this.res(e))}reject(e){void 0!==this.rej&&(this.completed=!0,this.rej(e))}}function i(e,t){if(!e)throw new Error("number"==typeof t?`0x${t.toString(16).padStart(3,"0")}`:t)}Symbol;var s=r("KlUR");function o(e){return e instanceof ArrayBuffer||"object"==typeof e&&null!==e&&"number"==typeof e.byteLength&&"function"==typeof e.slice&&void 0===e.byteOffset&&void 0===e.buffer}class a extends Uint8Array{toString(e){return function(e,t){switch(t){case"base64":return s.fromByteArray(e);case"utf8":case"utf-8":case void 0:return(new TextDecoder).decode(e);default:throw new Error("invalid/unsupported encoding")}}(this,e)}static from(e,t,r){if("string"==typeof e)return a.fromString(e,t);if(null!==e&&"object"==typeof e&&o(e.buffer))return i(0===e.byteOffset,0),i(e.byteLength===e.buffer.byteLength,1),a.fromArrayBuffer(e.buffer,t,r);if(o(e))return a.fromArrayBuffer(e,t,r);throw new TypeError}static fromArrayBuffer(e,t,r){const n=null!=t?t:0,i=null!=r?r:e.byteLength-n;if(n<0||n>e.byteLength||i<0||i+n>e.byteLength)throw new RangeError;return new a(e,n,i)}static fromString(e,t){switch(t){case"base64":{const t=this.sanitizeBase64(e),r=s.toByteArray(t);return new a(r.buffer)}case"utf8":case"utf-8":case void 0:{const t=(new TextEncoder).encode(e);return new a(t.buffer)}default:throw new Error("invalid/unsupported encoding")}}static isBuffer(e){throw new Error("unimplemented")}static sanitizeBase64(e){let t=e;return t=t.split("=")[0],t=t.replace(/[^\w+-/]/g,""),t.length%4!=0&&(t+=["","===","==","="][t.length%4]),t}}class c{async uploadSummaryWithContextsync createBlob(e){return Promise.reject(new Error("Invalid operation"))}async downloadSummarynction l(e,t){if(!e)throw new Error("number"==typeof t?`0x${t.toString(16).padStart(3,"0")}`:t)}const u=(e,t)=>p.from(e,t).buffer;function h(e){return e instanceof ArrayBuffer||"object"==typeof e&&null!==e&&"number"==typeof e.byteLength&&"function"==typeof e.slice&&void 0===e.byteOffset&&void 0===e.buffer}class p extends Uint8Array{toString(e){return function(e,t){switch(t){case"base64":return s.fromByteArray(e);case"utf8":case"utf-8":case void 0:return(new TextDecoder).decode(e);default:throw new Error("invalid/unsupported encoding")}}(this,e)}static from(e,t,r){if("string"==typeof e)return p.fromString(e,t);if(null!==e&&"object"==typeof e&&h(e.buffer))return l(0===e.byteOffset,0),l(e.byteLength===e.buffer.byteLength,1),p.fromArrayBuffer(e.buffer,t,r);if(h(e))return p.fromArrayBuffer(e,t,r);throw new TypeError}static fromArrayBuffer(e,t,r){const n=null!=t?t:0,i=null!=r?r:e.byteLength-n;if(n<0||n>e.byteLength||i<0||i+n>e.byteLength)throw new RangeError;return new p(e,n,i)}static fromString(e,t){switch(t){case"base64":{const t=this.sanitizeBase64(e),r=s.toByteArray(t);return new p(r.buffer)}case"utf8":case"utf-8":case void 0:{const t=(new TextEncoder).encode(e);return new p(t.buffer)}default:throw new Error("invalid/unsupported encoding")}}tatic sanitizeBase64(e){let t=e;return t=t.split("=")[0],t=t.replace(/[^\w+-/]/g,""),t.length%4!=0&&(t+=["","===","==","="][t.length%4]),t}}var f,m,y;!function(e){e.File="100644",e.Executable="100755",e.Directory="040000",e.Symlink="120000"}(f||(f={})),function(e){e.Blob="Blob",e.Tree="Tree",e.Attachment="Attachment"}(m||(m={})),y||(y={}));var g=r("A3AF");function b(e,t,r){const n=[];for(const i of t){const t=`${e}${i.path}`;if(i.type===m.Blob){const e=i.value,s=u(e.contents,e.encoding),o=Object(g.a)();r.set(o,s),n.push({mode:f[i.mode],path:t,sha:o,size:0,type:"blob",url:""})}else if(i.type===m.Tree){l(i.type===m.Tree,257);const e=i.value;n.push({mode:f[i.mode],path:t,sha:"",size:-1,type:"tree",url:""});const s=b(`${t}/`,e.entries,r);n.push(...s)}}return n}function v(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n={},i={id:e.sha,blobs:{},trees:{}};n[""]=i;for(const i of e.tree){const e=r?i.path.replace(/^\.app\//,""):i.path,s=e.lastIndexOf("/"),o=e.slice(0,Math.max(0,s)),a=e.slice(s+1),c=n[o];if("tree"===i.type){const t={id:i.sha,blobs:{},commits:{},trees:{}};c.trees[decodeURIComponent(a)]=t,n[e]=t}else{if("blob"!==i.type)throw new Error("Unknown entry type!!");c.blobs[decodeURIComponent(a)]=i.sha,t.set(i.sha,`/${e}`)}}return i}(function(e,t){return{sha:"",tree:b("",e,t),url:""}}(e,t))}Symbol,window;var w,x,S=r("eQkK"),A=r("pkel"),O=r("rUkc");!x||(x={}));class E extends O.a{constructor(e,t){super(e,Object.assign(Object.assign({},t),{statusCode:400})),this.errorType=E.errorType,this.canRetry=!1}}E.errorType=null!==(w=A.a.deltaStreamConnectionForbidden)&&void 0!==w?w:"deltaStreamConnectionForbidden";const T={read:;class F{class j extends c{constructor(e){super(),this.commits={},this.trees={},this.commits=e.commits,this.blobs=new Map,this.docTree=v(e.tree.entries,this.blobs)}async getVersions(e,t){if(void 0===this.docId||this.docId===e||null===e)return null!==e&&(this.docId=e),[{id:"latest",treeId:""}];if(void 0!==this.commits[e])return[{id:e,treeId:j.FileStorageVersionTreeId}];throw new Error(`Unknown version ID: ${e}`)}async getSnapshotTree(e){if(!e||"latest"===e.id)return this.docTree;if(e.treeId!==j.FileStorageVersionTreeId)throw new Error(`Unknown version id: ${e}`);let t=this.trees[e.id];if(void 0===t){const r=this.commits[e.id];if(void 0===r)throw new Error(`Can't find version ${e.id}`);this.trees[e.id]=t=v(r.entries,this.blobs)}return t}async readBlob(e){const t=this.blobs.get(e);if(void 0!==t)return t;throw new Error(`Unknown blob ID: ${e}`)}}j.FileStorageVersionTreeId="FileStorageTreeId";class P extends c{constructor(e,t){super(),this.storage=e,this.docTree=t,l(!!this.docTree,176)}async getVersions(e,t){return void 0===this.docId||this.docId===e||null===e?(null!==e&&(this.docId=e),[{id:"latest",treeId:""}]):this.storage.getVersions(e,t)}async getSnapshotTree(e){return e&&"latest"!==e.id?this.storage.getSnapshotTree(e):this.docTree}var M=r("H61q");const C={type:"null"},k={type:"object",properties:{clientId:{type:"string"},detail:{type:"object",properties:{details:{type:"object"},mode:{type:"string"},permission:{type:"array"},scopes:{type:"array"},type:{type:"string"},user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"}},required:["id","name","email"],additionalProperties:!1}},required:["user"],additionalProperties:!1}},required:["clientId","detail"],additionalProperties:!1},$={type:["string","object"],properties:{key:{type:"string"},value:{type:"string"}},required:["key"],additionalProperties:!1},I={type:"object",properties:{mode:{type:"string"},path:{type:"string"},type:{enum:["Blob","Tree"]},value:{type:"object",oneOf:[{properties:{contents:{type:"string"},encoding:{type:"string"},id:{type:"null"}},required:["contents","encoding"],additionalProperties:!1},{properties:{entries:{type:"array",items:{$ref:"#/definitions/entries"}},id:{type:"null"}},required:["entries"],additionalProperties:!1}]}},required:["mode","path","type","value"],additionalProperties:!1},z={definitions:{entries:I},type:"object",properties:{id:{type:"string"},snapshot:{type:"object",properties:{entries:{type:"array",items:{$ref:"#/definitions/entries"}},id:{type:"null"}},required:["entries"],additionalProperties:!1},type:{type:"string"}},required:["id","snapshot","type"],additionalProperties:!1},q={type:"object",properties:{chunkId:{type:"number"},contents:{type:"string"},originalType:{type:"string"},totalChunks:{type:"number"}},required:["chunkId","contents","originalType","totalChunks"],additionalProperties:!1},D={definitions:{content:{type:"object",properties:{address:{type:"string"},contents:{type:"object",properties:{content:{type:"object"},type:{type:"string"}},required:["content","type"],additionalProperties:!1}},required:["address","contents"],additionalProperties:!1},entries:I,attachContents:z,chunkedOpContents:q},type:"object",oneOf:[{properties:{type:{enum:["component"]},contents:{$ref:"#/definitions/content"}},required:["type","contents"],additionalProperties:!1},{properties:{type:{enum:["attach"]},contents:{$ref:"#/definitions/attachContents"}},required:["type","contents"],additionalProperties:!1},{properties:{type:{enum:["chunkedOp"]},contents:{$ref:"#/definitions/chunkedOpContents"}},required:["type","contents"],additionalProperties:!1},{$ref:"#/definitions/content"}]},B={type:"object",properties:{address:{type:"string"},contents:{type:"object",properties:{key:{type:"string"},refSeq:{type:"number"},serializedValue:{type:"string"},value:{type:"object",properties:{type:{type:"string"},value:{}},required:["type","value"],additionalProperties:!1},type:{type:"string",enum:["write"]}},required:["key","type"],additionalProperties:!1}},required:["address","contents"],additionalProperties:!1},N={type:"object",properties:{address:{type:"string"},contents:{type:"object",properties:{key:{type:"string"},path:{type:"string"},subdirName:{type:"string"},value:{type:"object",properties:{type:{type:"string"},value:{}},required:["type"],additionalProperties:!1},type:{type:"string",enum:["act","set","delete","clear","createSubDirectory","deleteSubDirectory"]}},required:["type"],additionalProperties:!1,oneOf:[{properties:{type:{enum:["act"]}},required:["key","path","value"]},{properties:{type:{enum:["set"]}},required:["key","value"]},{properties:{type:{enum:["delete"]}},required:["key"]},{properties:{type:{enum:["clear"]}},required:["path"]},{properties:{type:{enum:["createSubDirectory","deleteSubDirectory"]}},required:["path","subdirName"]}]}},required:["address","contents"],additionalProperties:!1},R={type:"object",properties:{id:{type:"string"},before:{type:"boolean"},offset:{type:"number"}},additionalProperties:!1},V={type:"object",properties:{type:{type:"number",minimum:0,maximum:2}},required:["type"],oneOf:[{properties:{type:{enum:[0]},seg:{type:["string","object"]},pos1:{type:"number"}},required:["pos1"],additionalProperties:!1},{properties:{type:{enum:[1]},register:{type:"string"},pos1:{type:"number"},pos2:{type:"number"}},required:["pos1"],additionalProperties:!1},{properties:{type:{enum:[2]},combiningOp:{type:"object",properties:{defaultValue:{},maxValue:{},minValue:{},name:{type:"string"}},required:["name"],additionalProperties:!1},pos1:{type:"number"},pos2:{type:"number"},props:{type:"object"},register:{type:"string"},relativePos1:{$ref:"#/definitions/relativePos"},relativePos2:{$ref:"#/definitions/relativePos"}},required:["props"],additionalProperties:!1}]},Z={definitions:{relativePos:R,deltaOp:V},type:"object",properties:{address:{type:"string"},contents:{$ref:"#/definitions/deltaOp"}},required:["address","contents"],additionalProperties:!1},L={definitions:{relativePos:R,deltaOp:V,groupOp:{type:"object",properties:{ops:{type:"array",items:{$ref:"#/definitions/deltaOp"}},type:{type:"number",minimum:3,maximum:3}},required:["ops","type"],additionalProperties:!1}},type:"object",properties:{address:{type:"string"},contents:{$ref:"#/definitions/groupOp"}},required:["address","contents"],additionalProperties:!1};var U;!U||(U={}));const _={valid:!1,toString:;class J{constructor(e,t){this.validateSchemaFn=e,this.debug=t,this.messages=new Array,this.parsedMessageContents=new Array,this.writtenBack=!1,this.concatenatedLength=0}debugMsg(e){this.debug&&console.error(e)}addMessage(e){let t;this.messages.push(e);try{t=JSON.parse(e.contents),"op"===e.type&&(t=t.contents)}catch(t){this.debugMsg(t),this.debugMsg(e.contents)}this.validateSchemaFn(t,q),this.parsedMessageContents.push(t)}hasAllMessages(){const e=this.parsedMessageContents[this.parsedMessageContents.length-1];return void 0!==e.chunkId&&e.chunkId===e.totalChunks}getConcatenatedContents(){const e=this.parsedMessageContents.reduce((,"");this.concatenatedLength=e.length;try{return JSON.parse(e)}catch(t){return this.debugMsg(e),void this.debugMsg(t)}}writeSanitizedContents(e){const t=this.parsedMessageContents[0].contents.length;let r;try{r=JSON.stringify(e),i(r.length<=this.concatenatedLength,137)}catch(e){throw this.debugMsg(e),e}for(let e=0;e<this.messages.length;e++){const n=r.substring(e*t,(e+1)*t),i=this.parsedMessageContents[e];i.contents=n;const s=this.messages[e];let o;try{o="op"===s.type?JSON.stringify({type:"chunkedOp",contents:i}):JSON.stringify(i)}catch(e){this.debugMsg(e)}s.contents=o}this.writtenBack=!0}reset(){i(this.writtenBack,138),this.messages=new Array,this.parsedMessageContents=new Array,this.writtenBack=!1,this.concatenatedLength=0}class K{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.messages=e,this.fullScrub=t,this.noBail=r,this.debug=n,this.validator=new M.Validator,this.defaultExcludedKeys=new Set,this.mergeTreeExcludedKeys=new Set,this.replacementMap=new Map,this.objectMatchesSchema=(e,t)=>{const r=!1===t?_:this.validator.validate(e,t);if(!r.valid){const t=`Bad msg fmt:\n${r.toString()}\n${JSON.stringify(e,void 0,2)}`;if(!this.fullScrub&&!this.noBail)throw new Error(t);this.debugMsg(t)}return r.valid},this.chunkProcessor=new J(this.objectMatchesSchema,this.debug),this.wordTokenRegex=/\S+/g,this.replaceRandomTextFn=e=>{if(this.replacementMap.has(e))return this.replacementMap.get(e);const t=this.getRandomText(e.length);return this.replacementMap.set(e,t),t},this.defaultExcludedKeys.add("type"),this.defaultExcludedKeys.add("id"),this.defaultExcludedKeys.add("pkg"),this.defaultExcludedKeys.add("snapshotFormatVersion"),this.defaultExcludedKeys.add("packageVersion"),this.mergeTreeExcludedKeys.add("nodeType")}tRandomText(e){let t="";for(;t.length<e;)t+=Math.random().toString(36).substring(2);return t.substr(0,e)}replaceText(e){if(void 0!==e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:U.Generic)===U.FluidObject){if(this.replacementMap.has(e))return this.replacementMap.get(e);const t=this.fullScrub?this.getRandomText(e.length):e;return this.replacementMap.set(e,t),t}return e.replace(this.wordTokenRegex,this.replaceRandomTextFn)}}replaceArray(e){for(let t=0;t<e.length;t++){const r=e[t];"string"==typeof r?e[t]=this.replaceText(r):Array.isArray(r)?e[t]=this.replaceArray(r):"object"==typeof r&&(e[t]=this.replaceObject(r))}return e}replaceObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultExcludedKeys;return null==e||Object.keys(e).forEach((r=>{if(this.fullScrub||!t.has(r)){const n=e[r];"string"==typeof n?e[r]=this.replaceText(n,this.isFluidObjectKey(r)?U.FluidObject:U.Generic):Array.isArray(n)?e[r]=this.replaceArray(n):"object"==typeof n&&(e[r]=this.replaceObject(n,t))}})),e}replaceAny(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultExcludedKeys;return null==e?e:"string"==typeof e?this.replaceText(e):Array.isArray(e)?this.replaceArray(e):"object"==typeof e?this.replaceObject(e,t):e}fixJoin(e){this.objectMatchesSchema(e.contents,C)||(e.contents=this.replaceAny(e.contents));try{let t=JSON.parse(e.data);if(this.objectMatchesSchema(t,k)){const e=t.detail.user;e.id=this.replaceText(e.id,U.Email),e.email=this.replaceText(e.email,U.Email),e.name=this.replaceText(e.name,U.Name)}else t=this.replaceAny(t);e.data=JSON.stringify(t)}catch(e){this.debugMsg(e)}}fixPropose(e){var t,r,n,i;if(this.objectMatchesSchema(e.contents,$))if("string"==typeof e.contents)try{const s=JSON.parse(e.contents);if(this.fullScrub){const e=null===(t=s.value)||void 0===t?void 0:t.package;(null==e?void 0:e.name)&&(e.name=this.replaceText(e.name,U.FluidObject)),Array.isArray(null===(i=null===(n=null===(r=null==e?void 0:e.fluid)||void 0===r?void 0:r.browser)||void 0===n?void 0:n.umd)||void 0===i?void 0:i.files)&&(e.fluid.browser.umd.files=this.replaceArray(e.fluid.browser.umd.files))}}catch(e){this.debugMsg(e)}else this.fullScrub&&(e.contents.value=this.replaceText(e.contents.value,U.FluidObject));else e.contents=this.replaceAny(e.contents)}fixAttachEntries(e){e.forEach((e=>{if(e.value.entries)this.fixAttachEntries(e.value.entries);else try{if("string"==typeof e.value.contents){let t=JSON.parse(e.value.contents);t=this.replaceObject(t),e.value.contents=JSON.stringify(t)}}catch(e){this.debugMsg(e)}}))}fixAttachContents(e){i("object"==typeof e,139),this.objectMatchesSchema(e,z)?(this.fullScrub&&(e.id=this.replaceText(e.id,U.FluidObject),e.type=this.replaceText(e.type,U.FluidObject)),this.fixAttachEntries(e.snapshot.entries)):this.replaceObject(e)}fixAttach(e){if("string"==typeof e.contents)try{const t=JSON.parse(e.contents);this.fixAttachContents(t),e.contents=JSON.stringify(t)}catch(e){return void this.debugMsg(e)}else this.fixAttachContents(e.contents)}fixDeltaOp(e){e.seg="string"==typeof e.seg?this.replaceText(e.seg):this.replaceObject(e.seg,this.mergeTreeExcludedKeys)}fixOpContentsObject(e){if(this.objectMatchesSchema(e,D)){this.fullScrub&&(e.address=this.replaceText(e.address,U.FluidObject));const t=e.contents.content;if(i(void 0!==t,140),"attach"===e.contents.type)if("string"==typeof e.contents.content)try{const t=JSON.parse(e.contents.content);this.fixAttachContents(t),e.contents.content=JSON.stringify(t)}catch(e){this.debugMsg(e)}else this.fixAttachContents(e.contents.content);else this.validator.validate(t,N).valid?(this.fullScrub&&(t.address=this.replaceText(t.address,U.FluidObject),t.contents.key=this.replaceText(t.contents.key,U.MapKey)),void 0!==t.contents.value&&(t.contents.value.value=this.replaceAny(t.contents.value.value))):this.validator.validate(t,L).valid?(this.fullScrub&&(t.address=this.replaceText(t.address,U.FluidObject)),t.contents.ops.forEach(()):this.validator.validate(t,Z).valid?(this.fullScrub&&(t.address=this.replaceText(t.address,U.FluidObject)),this.fixDeltaOp(t.contents)):this.validator.validate(t,B).valid?(this.fullScrub&&(t.address=this.replaceText(t.address,U.FluidObject),t.contents.key=this.replaceText(t.contents.key,U.MapKey)),void 0!==t.contents.value&&(t.contents.value.value=this.replaceAny(t.contents.value.value))):this.objectMatchesSchema(e,!1)}else this.replaceAny(e)}fixOp(e){let t;if("string"==typeof e.contents)try{t=JSON.parse(e.contents)}catch(e){return void this.debugMsg(e)}else t=e.contents;switch(t.type){case"attach":this.fixAttach(t);break;case"component":this.fixOpContentsObject(t.contents);break;case"chunkedOp":return this.fixChunkedOp(e);case"blobAttach":return void this.debugMsg("TODO: blobAttach ops are skipped/unhandled");default:this.fixOpContentsObject(t)}if("string"==typeof e.contents)try{e.contents=JSON.stringify(t)}catch(e){return void this.debugMsg(e)}}fixChunkedOp(e){if(this.chunkProcessor.addMessage(e),!this.chunkProcessor.hasAllMessages())return;const t=this.chunkProcessor.getConcatenatedContents();this.fixOpContentsObject(t),this.chunkProcessor.writeSanitizedContents(t),this.chunkProcessor.reset()}sanitize(){let e=0;try{this.messages.map((t=>{switch(e=t.sequenceNumber,t.type){case"join":this.fixJoin(t);break;case"propose":this.fixPropose(t);break;case"attach":this.fixAttach(t);break;case"op":this.fixOp(t);break;case"chunkedOp":this.fixChunkedOp(t);break;case"noop":case"leave":case"noClient":case"summarize":case"summaryAck":case"summaryNack":break;default:this.debugMsg(`Unexpected op type ${t.type}`)}})),i(!this.chunkProcessor.isPendingProcessing(),141)}catch(t){throw this.debugMsg(`Error while processing sequenceNumber ${e}`),t}return this.messages}}var G,W=H=class X extends d{constructor(){super(...arguments),this.ui=null,this.startSeqDeferred=new n,this.retryFetchOpsOnEndOfFile=!1,this.versions=[],this.stepsToPlay=0,this.lastOpReached=!1,this.versionCount=0}static create(e){if("object"==typeof localStorage&&null!==localStorage&&localStorage.FluidDebugger){const t=new X;if(e(t))return t}return null}static async seqFromTree(e,t){if(!t)return 0;const r=t.trees[".protocol"].blobs.attributes;return(await async function(e,t){const r=((await e.readBlob(t));return JSON.parse(r)}(e,r)).sequenceNumber}ync onVersionSelection(e){if(!this.documentStorageService)throw new Error("onVersionSelection: no storage");const t=await this.documentStorageService.getSnapshotTree(e),r=await X.seqFromTree(this.documentStorageService,t);this.resolveStorage(r,new P(this.documentStorageService,t),e)}onOpButtonClick(e){this.stepsDeferred&&!Number.isNaN(e)&&e>0&&this.stepsDeferred.resolve(e)}onSnapshotFileSelection(e){if(!/^snapshot.*\.json/.exec(e.name))return void alert(`Incorrect file name: ${e.name}`);if(/.*_expanded.*/.exec(e.name))return void alert(`Incorrect file name - please use non-extended files: ${e.name}`);const t=new FileReader;t.onload=async()=>{if(this.documentStorageService){const r=t.result;try{const t=JSON.parse(r);this.retryFetchOpsOnEndOfFile=!1,this.lastOpReached=!0,this.resolveStorage(Number.MAX_SAFE_INTEGER,new j(t),e.name)}catch(e){return void alert(`Error parsing file: ${e}`)}}},t.readAsText(e,"utf-8")}async onDownloadOpsButtonClick(e){if(void 0===this.documentService)throw new Error("DocumentService required");const t=await this.documentService.connectToDeltaStorage();let r=await this.fetchOpsFromDeltaStorage(t);return e&&(r=new K(r,!1,!1).sanitize()),JSON.stringify(r,void 0,2)}async fetchOpsFromDeltaStorage(e){var t,r;const n=function(e){return H(this,arguments,(function*(){const t=e.fetchMessages(1,void 0);for(;;){const e=yield W(t.read());if(e.done)return yield W(void 0);yield yield W(e.value)}}))}(e);let i=[];try{for(var s,o=n);!(s=await o.next()).done;)i=i.concat(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&await r.call(o)}finally{if(t)throw t.error}}return i}ync downloadVersionInfo(e,t,r,n){if(this.isSelectionMade())return;await t;const i=await e.getSnapshotTree(n),s=await X.seqFromTree(e,i);this.isSelectionMade()||(this.versionCount--,this.ui.updateVersionText(this.versionCount),this.ui.updateVersion(r,n,s))}async initStorage(e){if(void 0!==this.shouldUseController)return this.shouldUseController;i(!!e,128),i(!this.documentService,129),i(!this.documentStorageService,130),this.documentService=e,this.documentStorageService=await e.connectToStorage(),this.isSelectionMade()||(this.versions=await this.documentStorageService.getVersions("",50),this.isSelectionMade()||(this.ui.addVersions(this.versions),this.ui.updateVersionText(this.versionCount))),this.versionCount=this.versions.length;const t=[];for(let e=0;e<10;e++){let r=Promise.resolve();for(let t=e;t<this.versions.length;t+=10)r=this.downloadVersionInfo(this.documentStorageService,r,t,this.versions[t]);t.push(r)}return Promise.all(t).then((),this.shouldUseController=await this.startSeqDeferred.promise!==X.WindowClosedSeq,i(this.isSelectionMade()===this.shouldUseController,131),this.shouldUseController}async readBlob(e){if(void 0!==this.storage)return this.storage.readBlob(e);throw new Error("Reading blob before storage is setup properly")}async getVersions(e,t){if(void 0!==this.storage)return this.storage.getVersions(e,t);throw new Error("initStorage() was not called!")}async getSnapshotTree(e){if(void 0!==this.storage)return this.storage.getSnapshotTree(e);throw new Error("Reading snapshot tree before storage is setup properly")}sDoneFetch(e,t){return void 0===t?(this.lastOpReached=!0,this.ui.updateLastOpText(e===Number.MAX_SAFE_INTEGER?-1:e,!1)):this.ui.updateLastOpText(e,!0),this.lastOpReached&&!this.retryFetchOpsOnEndOfFile}async replay(e,t){let r=t;for(;;){if(0===r.length)return void this.ui.updateNextOpText([]);let t;0===this.stepsToPlay&&(this.ui.disableNextOpButton(!1),this.stepsDeferred=new n,this.ui.updateNextOpText(r),this.stepsToPlay=await this.stepsDeferred.promise,this.stepsDeferred=void 0,this.ui.disableNextOpButton(!0)),this.stepsToPlay>=r.length?(t=r,this.stepsToPlay-=r.length,r=[]):(t=r.splice(0,this.stepsToPlay),this.stepsToPlay=0),e(t)}}resolveStorage(e,t,r){i(!this.isSelectionMade(),132),i(!!t,133),this.storage=t,i(this.isSelectionMade(),134),this.ui.versionSelected(e,r),this.startSeqDeferred.resolve(e)}}X.WindowClosedSeq=-1;class Q{constructor(e,t){this.controller=e,this.debuggerWindow=t,this.wasVersionSelected=!1,this.versions=[],this.documentClosed=!1;const r=this.debuggerWindow.document;r.write("<Title>Fluid Debugger</Title>\n<body>\n<h3>Fluid Debugger</h3>\nPlease select snapshot or file to start with<br/>\nClose debugger window to proceed to live document<br/><br/>\n<select style='width:250px' id='selector'>\n</select>\n&nbsp; &nbsp; &nbsp;\n<button id='buttonVers' style='width:60px'>Go</button><br/>\n<input id='file' type='file' value='Load from file'/>\n<br/><br/>\n<h4>Download the current document's ops</h4>\n<input type='checkbox' id='anonymize' value='Anonymize'>\n<label for='anonymize'>Anonymize</label>\n<button type='button' id='downloadOps'>Download ops</button>\n<br/><br/><div id='versionText'></div>\n</body>"),window.addEventListener("beforeunload",(,!1),this.debuggerWindow.addEventListener("beforeunload",(e=>{this.documentClosed||this.controller.onClose()}),!1),this.selector=r.getElementById("selector"),r.getElementById("buttonVers").onclick=()=>{e.onVersionSelection(this.versions[this.selector.selectedIndex])};const n=r.getElementById("file");n.addEventListener("change",(()=>{const t=n.files;t&&e.onSnapshotFileSelection(t[0])}),!1);const i=r.getElementById("downloadOps"),s=r.getElementById("anonymize");this.attachDownloadOpsListener(i,s),this.versionText=r.getElementById("versionText"),this.versionText.textContent="Fetching snapshots, please wait...",e.connectToUi(this)}static create(e){if("object"!=typeof window||null===window||"object"!=typeof window.document||null==window.document)return console.log("Can't create debugger window - not running in browser!"),null;const t=window.open("","","width=400,height=400,resizable=yes,location=no,menubar=no,titlebar=no,status=no,toolbar=no");return t?new Q(e,t):(console.error("Can't create debugger window - please enable pop-up windows in your browser!"),null)}ttachDownloadOpsListener(e,t){e.addEventListener("click",(()=>{this.controller.onDownloadOpsButtonClick(t.checked).then(().catch(()}))}addVersions(e){if(this.selector){this.versions=e;for(const t of e){const e=document.createElement("option");e.text=void 0!==t.date?`id = ${t.id},  time = ${t.date}`:`id = ${t.id}`,this.selector.add(e)}}}updateVersion(e,t,r){if(this.selector){const t=this.selector[e];t.text=`${t.text},  seq = ${r}`,this.selector[e]=t}}versionSelected(e,t){const r="string"==typeof t?`Playing ${t} file`:`Playing from ${t.id}, seq# ${e}`;this.wasVersionSelected=!0,this.selector=void 0;const n=this.debuggerWindow.document;n.open(),n.write("<Title>Fluid Debugger</Title>\n<body>\n<h3>Fluid Debugger</h3>\n<div id='versionText'></div>\n<div id='lastOp'></div>\n<br/>\nStep to move: <input type='number' id='steps' value='1' min='1' style='width:50px'/>\n&nbsp; &nbsp; &nbsp;<button id='buttonOps' style='width:60px'>Go</button>\n<br/><br/>\n<div id='text1'></div><div id='text2'></div><div id='text3'></div>\n<br/>\n<h4>Download the current document's ops</h4>\n<input type='checkbox' id='anonymize' value='Anonymize'>\n<label for='anonymize'>Anonymize</label>\n<button type='button' id='downloadOps'>Download ops</button>\n</body>"),n.close(),this.lastOpText=n.getElementById("lastOp"),this.text1=n.getElementById("text1"),this.text2=n.getElementById("text2"),this.text3=n.getElementById("text3");const i=n.getElementById("steps");this.buttonOps=n.getElementById("buttonOps"),this.buttonOps.disabled=!0,this.buttonOps.onclick=()=>{this.controller.onOpButtonClick(Number(i.value))},this.versionText=n.getElementById("versionText"),this.versionText.textContent=r;const s=n.getElementById("downloadOps"),o=n.getElementById("anonymize");this.attachDownloadOpsListener(s,o)}disableNextOpButton(e){i(!!this.buttonOps,136),this.buttonOps.disabled=e}updateNextOpText(e){if(0===e.length)this.text1.textContent="",this.text2.textContent="",this.text3.textContent="";else{const t=e[0],r=t.sequenceNumber,n=Q.formatDate(t.timestamp);this.text1.textContent=`Next op seq#: ${r}`,this.text2.textContent=`Type: ${t.type}`,this.text3.textContent=`${n}`}}updateVersionText(e){this.wasVersionSelected||(this.versionText.textContent=0===e?"":`Fetching information about ${e} snapshots...`)}updateLastOpText(e,t){this.lastOpText.textContent=t?`Last op (still loading): ${e}`:`Document's last op seq#: ${e}`}download(e,t){const r=document.createElement("a");r.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(t)}`),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}!G||(G={}));var Y=r("hBZP");class ee extends Y.EventEmitter{constructor(){super(),this.addListener=super.addListener.bind(this),this.on=super.on.bind(this),this.once=super.once.bind(this),this.prependListener=super.prependListener.bind(this),this.prependOnceListener=super.prependOnceListener.bind(this),this.removeListener=super.removeListener.bind(this),this.off=super.off.bind(this)}}const te=re="documentId";class ne extends d{constructor(e,t,r){super(),this.replayFrom=e,this.replayTo=t,this.unitIsTime=r,this.replayCurrent=0,!0!==r&&(this.replayTo=0)}ync getSnapshotTree(e){return e?Promise.reject(new Error("Invalid operation")):null}async readBlob(e){return Promise.reject(new Error("Invalid operation"))}etchTo(e){if(!0!==this.unitIsTime&&this.replayTo>=0)return this.replayTo}isDoneFetch(e,t){return this.replayTo>=0?!0===this.unitIsTime?void 0!==t&&void 0!==this.firstTimeStamp&&t-this.firstTimeStamp>=this.replayTo:e>=this.replayTo:void 0===t}skipToIndex(e){if(this.replayFrom<=0)return 0;if(!0===this.unitIsTime)for(let t=0;t<e.length;t+=1){const r=e[t].timestamp;if(void 0!==r&&(void 0===this.firstTimeStamp&&(this.firstTimeStamp=r),r-this.firstTimeStamp>=this.replayFrom))return t}else if(this.replayFrom>this.replayCurrent)return this.replayFrom-this.replayCurrent;return 0}async replay(e,t){let r=this.skipToIndex(t);return new Promise((n=>{const i=()=>{const n=t[r],i=[n];let o=ne.DelayInterval;if(r+=1,!0===this.unitIsTime){const e=n.timestamp;if(void 0!==e){for(;r<t.length;){const n=t[r];if(void 0===n.timestamp)break;const s=n.timestamp-e;if(s>=ne.ReplayResolution){o=s;break}if(s<0)break;i.push(n),r+=1}void 0!==this.firstTimeStamp&&this.replayTo>=0&&e+o-this.firstTimeStamp>this.replayTo&&(o=-1)}}s(o),e(i)},s=e=>{e>=0&&r<t.length?setTimeout(i,e):(this.replayCurrent+=r,n())};s(ne.DelayInterval)}))}}ne.DelayInterval=50,ne.ReplayResolution=15;class ie extends ee{constructor(e){super(),this.details=e,this.maxMessageSize=ie.ReplayMaxMessageSize,this._disposed=!1}static create(e,t){const r=new ie({claims:ie.claims,clientId:"PseudoClientId",existing:!0,initialMessages:[],initialSignals:[],initialClients:[],maxMessageSize:ie.ReplayMaxMessageSize,mode:"read",serviceConfiguration:{blockSize:64436,maxMessageSize:ie.ReplayMaxMessageSize},supportedVersions:[ie.replayProtocolVersion],version:ie.replayProtocolVersion});return r.fetchAndEmitOps(e,t),r}get clientId(){return this.details.clientId}get mode(){return this.details.mode}get claims(){return this.details.claims}get existing(){return this.details.existing}get version(){return this.details.version}get initialMessages(){return this.details.initialMessages}get initialSignals(){return this.details.initialSignals}get initialClients(){return this.details.initialClients}get serviceConfiguration(){return this.details.serviceConfiguration}submit(e){throw new Error("ReplayDocumentDeltaConnection.submit() can't be called")}async submitSignal(e){}get disposed(){return this._disposed}sync fetchAndEmitOps(e,t){let r,n=Promise.resolve(),i=await t.getStartingOpSequence();do{const s=t.fetchTo(i),o=new AbortController,a=e.fetchMessages(i+1,s,o.signal);do{const e=await a.read();if(e.done){r=t.isDoneFetch(i,void 0),r||await te(2e3);break}n=n.then((async()=>t.replay((,s)));const s=e.value;i+=s.length,r=t.isDoneFetch(i,s[s.length-1].timestamp)}while(!r);o.abort()}while(!r);return n}}ie.replayProtocolVersion="^0.1.0",ie.ReplayMaxMessageSize=16384,ie.claims={documentId:re,scopes:[G.DocRead],tenantId:"",user:{id:""},iat:Math.round((new Date).getTime()/1e3),exp:Math.round((new Date).getTime()/1e3)+3600,ver:"1.0"};class se{tatic async create(e,t){if(!await t.initStorage(e))return e;const r=ie.create(await e.connectToDeltaStorage(),t);return new se(t,r)}et resolvedUrl(){throw new Error("Not implemented")}async connectToStorage(){return this.controller}lass oe{tatic create(e,t,r){return new oe(r,new ne(e,t))}async createDocumentService(e,t,r){const n=S.a.create(t,void 0,{all:{isReplay:!0}});return se.create(await this.documentServiceFactory.createDocumentService(e,n,r),this.controller)}var ae;!function(e){e.createFromService=async function(e){const r=t();return r?se.create(e,r):e},e.createFromServiceFactory=async function(e){const r=t();return r?new oe(e,r):e};const t=(ae||(ae={}))},yic6:function(e,t,r){"use strict";var n=r("so/P"),i=r("Gvah"),s=r("MBU+"),o=r("OZT7").scan,a=s.ValidatorResult,c=s.ValidatorResultError,d=s.SchemaError,l=s.SchemaContext,u=.prototype.customFormats={},u.prototype.schemas=null,u.prototype.types=null,u.prototype.attributes=null,u.prototype.unresolvedRefs=null,u.prototype.addSchema=u.prototype.addSubSchemaArray=u.prototype.addSubSchemaObject=u.prototype.setSchemas=function(e){this.schemas=e},u.prototype.getSchema=u.prototype.validate=function(e,t,r,i){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new d("Expected `schema` to be an object or boolean");r||(r={});var s,u=n.resolve(r.base||"/",t.$id||t.id||"");if(!i){(i=new l(t,r,[],u,Object.create(this.schemas))).schemas[u]||(i.schemas[u]=t);var h=o(u,t);for(var p in h.id)i.schemas[p]=h.id[p]}if(r.required&&void 0===e)return(s=new a(e,t,r,i)).addError("is required, but is undefined"),s;if(!(s=this.validateSchema(e,t,r,i)))throw new Error("Result undefined");if(r.throwAll&&s.errors.length)throw new c(s);return s},u.prototype.validateSchema=u.prototype.schemaTraverser=u.prototype.superResolve=u.prototype.resolve=u.prototype.testType=var p=u.prototype.types={};p.string=function(e){return"string"==typeof e},p.number=p.integer=p.boolean=p.array=p.null=p.date=p.any=p.object=e.exports=u}}]);
//# sourceMappingURL=vendors~fl-debugger.b08aed78b299d417bf76.chunk.v7.js.map