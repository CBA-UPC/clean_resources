![function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var i=function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}unction f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){var n,r=u(e);try{for(r.s();!(n=r.n()).done;){if(n.value.test(t))return!0}}catch(t){r.e(t)}finally{r.f()}return!1}r(i,"hasPromiseSupport","Promise"in window),r(i,"hasPageTransitionSupport","onpagehide"in window),r(i,"hasPerformanceApi",Boolean(performance&&performance.timing)),r(i,"hasResourceTimingApi",performance&&"function"==typeof performance.getEntriesByType),r(i,"hasPerfomanceMarkApi",i.hasResourceTimingApi&&"function"==typeof performance.mark),r(i,"hasBeaconApi",navigator&&"function"==typeof navigator.sendBeacon),r(i,"hasChromeApi",window.chrome&&"function"==typeof window.chrome.loadTimes);var l,p,y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new RegExp(".*")],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,t),c(this,"whiteList",void 0),c(this,"blackList",void 0),this.whiteList=e,this.blackList=n}var e,n,r;return e=t,(n=[{key:"timing",value:,{key:"marks",value:function(){return i.hasPerfomanceMarkApi?performance.getEntriesByType("mark"):window.performanceMarks||[]}},{key:"paints",value:function(){return i.hasResourceTimingApi?performance.getEntriesByType("paint"):[]}},{key:"resources",value:function(){var t=this;return this.resourcesAll().filter(().filter(()}},{key:"resourcesAll",value:function(){return i.hasResourceTimingApi?performance.getEntriesByType("resource"):[]}}])&&a(e.prototype,n),r&&a(e,r),t}(),m=d=v=h=!1,b=!1,g=function(t){h=!t.persisted},w=function(){addEventListener("pagehide",g),addEventListener("unload",(function(){}))},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b||(w(),b=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:h})}),{capture:!0,once:e})},O=P=T=function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return+(Math.round("".concat(t,"e+").concat(e))+"e-".concat(e))}var L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,"name",void 0),j(this,"config",void 0),j(this,"service",void 0),this.config=n,this.service=e}var e,n,r;return e=t,(n=[{key:"getMetrics",value:function(){return function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&-1!==t[n]){var r=t[n];e[n]=isNaN(r)?r:k(r,"CLS"===n?4:0)}return e}(this.collectMetrics())}}])&&E(e.prototype,n),r&&E(e,r),t}();function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M(t);if(e){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}function B(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?I(t):e}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t,e){var n=t.filter((function(t){return"first-paint"===t.name})).reduce((function(t,e){return e.startTime}),-1);if(n&&-1!==n)return n;if("msFirstPaint"in e)return e.msFirstPaint-e.navigationStart;if(i.hasChromeApi){var r=window.chrome.loadTimes();return 1e3*(r.firstPaintTime-r.startLoadTime)}return-1}function D(t){return t.filter((function(t){return"first-contentful-paint"===t.name})).reduce((,-1)||-1}function U(t){return t.domLoading?t.domLoading-t.navigationStart:-1}function z(t){return t.domInteractive?t.domInteractive-t.navigationStart:-1}function N(t){return t.domComplete?t.domComplete-t.navigationStart:-1}function H(t){return t.responseStart?t.responseStart-t.navigationStart:-1}function V(t){return t.responseEnd?t.responseEnd-t.navigationStart:-1}function K(t){return t.secureConnectionStart?t.connectEnd-t.secureConnectionStart:-1}ar W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,t);var e,n,r,i=C(o);function o(t,e){var n;return this,o),x(I(n=i.call(this,t,e)),"name","timings"),x(I(n),"cls",null),x(I(n),"fid",null),x(I(n),"lcp",null),(function(t){return n.cls=t.value})),(function(t){return n.fid=t.value})),(),n}return e=o,(n=[{key:"collectMetrics",value:function(){var t=this.service.paints(),e=this.service.timing();return{FP:F(t,e),FCP:D(t),DLO:U(e),DCO:N(e),DOI:z(e),FB:H(e),LB:V(e),LAT:K(e),LOAD:q(e),LCP:this.lcp,CLS:this.cls,FID:this.fid}}}])&&R(e.prototype,n),r&&R(e,r),o}(L);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var i=tt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?Z(t):e}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t){return t.length&&100/t.length*t.filter(().length||-1}function rt(t){return t.reduce((function(t,e){return e.transferSize?t+e.transferSize:t}),-1)}function it(t){return t.reduce((function(t,e){return e.decodedBodySize?t+e.decodedBodySize:t}),-1)||-1}function ot(t){return t.reduce((,-1)||-1}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(o,t);var e,n,r,i=G(o);eturn e=o,(n=[{key:"collectMetrics",value:function(){var t=this.service.resources();return{CAC:nt(t),TKB:rt(t),DKB:it(t),EKB:ot(t)}}}])&&X(e.prototype,n),r&&X(e,r),o}(L);unction ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}ion dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(){return-1!==document.referrer.indexOf(document.location.hostname)?1:-1}var ht=function(t){!o,t);var e,n,r,i=lt(o);function o(){var t;ut(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return dt(yt(t=i.call.apply(i,[this].concat(n))),"name","meta"),dt(yt(t),"location",window.location.href),t}return e=o,(n=[{key:"collectMetrics",value:function(){return{V:this.config.softwareVersion||null,KEY:this.config.key||null,IRE:vt(),ERE:document.referrer.length&&-1===vt()?1:-1,VW:window.innerWidth||document.documentElement&&document.documentElement.clientWidth||-1,VH:window.innerHeight||document.documentElement&&document.documentElement.clientHeight||-1,URI:this.location}}}])&&ft(e.prototype,n),r&&ft(e,r),o}(L),bt=!1,gt=!1,wt=St= Et,jt=function t(){Pt(this,t),Tt(this,"apiUrl",void 0),Tt(this,"apiPath","/v1/measurements"),Tt(this,"softwareVersion",void 0),Tt(this,"key",void 0),Tt(this,"whiteList",[]),Tt(this,"blackList",[])};(Et={}));var Ct=new(function(){function t(e){Pt(this,t),Tt(this,"config",void 0),Tt(this,"whiteList",void 0),Tt(this,"blackList",void 0),Tt(this,"performanceTimingService",void 0),i.hasPerformanceApi?i.hasPromiseSupport?e&&this.init(e):console.warn("Promise not available"):console.warn("Performance timing not available")}var e,n,r;return e=t,(n=[{key:"command",value:function(t){switch(t){case Et.INIT:this.init(arguments.length<=1?void 0:arguments[1])}}},{key:"init",value:function(t){var e=this;if(!this.config){this.config=Object.assign(new jt,t||{}),this.whiteList=this.config.whiteList&&this.config.whiteList.map((function(t){return new RegExp(t)}))||[],this.blackList=this.config.blackList&&this.config.blackList.map(()||[],this.performanceTimingService=new y(this.whiteList,this.blackList);var n=this.createCollectors(),r=function(){!function(t,e){if(i.hasBeaconApi)navigator.sendBeacon(e,JSON.stringify(t));else{var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.send(JSON.stringify(t))}}(n.reduce((,{}),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(t).concat(e,"?").concat(Date.now())}(e.config.apiUrl,e.config.apiPath))};setTimeout((function(){-1!==(window.PerformanceObserver&&window.PerformanceObserver.supportedEntryTypes||[]).indexOf("layout-shift")?():window.addEventListener("pagehide",r,{capture:!0,once:!0})}))}}},{key:"createCollectors",value:function(){return[new ht(this.performanceTimingService,this.config),new W(this.performanceTimingService,this.config),new at(this.performanceTimingService,this.config)]}}])&&Ot(e.prototype,n),r&&Ot(e,r),t}()),Bt=[].slice.call(window["@wsp/performance-metrics"]&&window["@wsp/performance-metrics"].q||[]);window["@wsp/performance-metrics"]=var It,Mt=Bt);try{for(Mt.s();!(It=Mt.n()).done;){var xt=Lt(It.value),Ft=xt[0],Dt=xt.slice(1);Ct.command.apply(Ct,[Ft].concat(kt(Dt)))}}catch(t){Mt.e(t)}finally{Mt.f()}}]);