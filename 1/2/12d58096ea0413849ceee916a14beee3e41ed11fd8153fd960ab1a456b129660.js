(function(){var q=function(){eturn n.prototype.track=function(e){var t=this;e.onSpeedKitLoaded(,e.onDfDataReady(function(){return t.sendOriginData(e)}),window.addEventListener("pagehide",function(){return t.sendData(e)})},n.prototype.sendData=function(e){if(SpeedKit.dynamicBlocks&&!(new Date(SpeedKit.dynamicBlocks.start).getFullYear()<=1970)){var t={start:e.calculateRelative(SpeedKit.dynamicBlocks.start),status:SpeedKit.dynamicBlocks.status,received:e.calculateRelative(SpeedKit.dynamicBlocks.received),complete:e.calculateRelative(SpeedKit.dynamicBlocks.complete),localBlocks:SpeedKit.dynamicBlocks.localBlocks,remoteBlocks:SpeedKit.dynamicBlocks.remoteBlocks,mergedBlocks:SpeedKit.dynamicBlocks.mergedBlocks,changeDetection:SpeedKit.dynamicBlocks.changeDetection};e.set("dynamicFetcher",t)}},n.prototype.sendOriginData=function(e){SpeedKit.dynamicBlocks&&(new Date(SpeedKit.dynamicBlocks.start).getFullYear()<=1970||(e.set("originTTFB",SpeedKit.dynamicBlocks.originTTFB,!1),e.setTiming("originResponseStart",SpeedKit.dynamicBlocks.originResponseStart,!1)))},n}();var w,g;(function(n){n.SNIPPET="snippet",n.CONFIG="skConfig",n.RUMPLUGIN="rum",n.JSTRACKINGPLUGIN="js",n.DFCONFIG="dfConfig",n.MERGE="merge",n.CHANGEDETECTION="cd",n.DYNAMICFETCHER="df",n.BLOCKINGNOTRELEASED="blockingScriptNotReleased",n.MAINNOTMERGED="mainNotMerged",n.SERVICEWORKER="sw"})(w||(w={})),g||(g={}));var H=function(){function n(e){this.key="jsErrors",this.counter=0,this.errors={},this.options=e}return n.prototype.on=function(e,t){var r=this.options&&this.options.afterDCL?t.onDOMInteractive:function(i){return i()};r(function(){window.addEventListener("error",function(i){var c=n.errorEventToError(i);c&&e(c)}),window.addEventListener("unhandledrejection",})},n.prototype.append=function(e){var t=e.stackTrace&&e.stackTrace.split("\n")[0],r=this.options&&this.options.maxPerPi&&this.counter>=this.options.maxPerPi;return(e==null?void 0:e.stackTrace)===g.NOT_AVAILABLE||!r&&!this.errors[t]?(this.errors[t]=!0,this.counter+=1,e):null},n.errorEventToError=function(e){return{message:e.error?e.error.message:g.NOT_AVAILABLE,stackTrace:e.error?e.error.stack:g.NOT_AVAILABLE,filename:e.filename||void 0,lineno:e.lineno,colno:e.colno,timestamp:Date.now(),type:w.JSTRACKINGPLUGIN}},n.rejectionEventToError=function(e){var t=e.reason instanceof Error;return{message:t?e.reason.message:g.NOT_AVAILABLE,stackTrace:t&&e.reason.stack?e.reason.stack:g.NOT_AVAILABLE,timestamp:Date.now(),type:w.JSTRACKINGPLUGIN}},n}();var U=function(){function n(e){this.data={},this.startTimestamp=Date.now(),this.listenerOpts={passive:!0,capture:!0},this.onlyFallback=!1,this.onlyFallback=(e==null?void 0:e.onlyFallback)||!1}return n.prototype.track=function(e){this.controller=e,this.listenScrollEvent();var t=this.isPerformanceObserverSupported();if(!t||!this.onlyFallback)if(t)this.listenWithPerformanceObserver();else try{this.listenForInputEvents()}catch(r){}},n.prototype.listenScrollEvent=function(){var e=this,t=function(r){try{if(window.removeEventListener("scroll",t),e.data.firstInteractionTime)return;e.data.firstInteractionTime=e.calculateFirstInteractionTime(r.timeStamp),e.executeTracking()}catch(i){}};window.addEventListener("scroll",t)},n.prototype.isPerformanceObserverSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0},n.prototype.calculateInputDelay=function(e){return(e.timeStamp>1e12?Date.now():performance.now())-e.timeStamp},n.prototype.calculateFirstInteractionTime=function(e){return e>1e12?e-performance.timing.navigationStart:e},n.prototype.listenWithPerformanceObserver=function(){var e=this;new PerformanceObserver(function(t){var r=t.getEntries(),i=r[r.length-1],c=i.processingStart,o=i.startTime;e.data.firstInputDelay=c-o,e.data.firstInputTime=e.calculateFirstInteractionTime(o),e.data.firstInteractionTime||(e.data.firstInteractionTime=e.data.firstInputTime),e.executeTracking()}).observe({type:"first-input",buffered:!0})},n.prototype.executeTracking=function(){this.controller&&(this.controller.set("firstInputDelay",this.data.firstInputDelay!==void 0?Math.round(this.data.firstInputDelay):void 0),this.controller.set("firstInput",this.data.firstInputTime?Math.round(this.data.firstInputTime):void 0),this.controller.set("firstInteraction",this.data.firstInteractionTime?Math.round(this.data.firstInteractionTime):void 0))},n.prototype.listenForInputEvents=function(){this.eachEventType(addEventListener)},n.prototype.removeInputEventListeners=n.prototype.calculateFirstInteractionData=function(e){this.data.firstInputDelay!==void 0||this.data.firstInputTime||(this.data.firstInputDelay=this.calculateInputDelay(e),this.data.firstInputTime=this.calculateFirstInteractionTime(e.timeStamp),this.data.firstInteractionTime||(this.data.firstInteractionTime=this.data.firstInputTime),this.removeInputEventListeners(),this.notifyFirstInputDelayIfValid())},n.prototype.notifyFirstInputDelayIfValid=function(){this.data.firstInputTime&&this.data.firstInputDelay!==void 0&&this.data.firstInputDelay>=0&&this.data.firstInputDelay<Date.now()-this.startTimestamp&&this.executeTracking()},n.prototype.onPointerDown=function(e){var t=this,r=i=function(){c()},c=function(){try{removeEventListener("pointerup",r,t.listenerOpts),removeEventListener("pointercancel",i,t.listenerOpts)}catch(o){}};addEventListener("pointerup",r,this.listenerOpts),addEventListener("pointercancel",i,this.listenerOpts)},n.prototype.onInteraction=function(e){try{if(!e.cancelable||!e.isTrusted)return;if(e.type==="pointerdown")return this.onPointerDown(e);this.calculateFirstInteractionData(e)}catch(t){}},n.prototype.eachEventType=function(e){var t=this;["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return e(r,t.onInteraction.bind(t),t.listenerOpts)})},n}();var y,S,re,F,R,L=C=he=A=ie=-1,oe=function(){return ie},k=K=m=E=v=G=O=j=T=-1,J=D=W=function(){addEventListener("visibilitychange",D,!0),addEventListener("prerenderingchange",D,!0)},ye=V=N=Y=[1800,3e3],ae=z=[.1,.25],ge=function(n,e){((function(t){(function(r){if(r.entries.length){var i=r.entries.reduce(;if(i&&i.sources&&i.sources.length){var c=(o=i.sources).find(||o[0];if(c)return void(r.attribution={largestShiftTarget:A(c.node),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:c,largestShiftEntry:i,loadState:C(i.startTime)})}}var o;r.attribution={}})(t),n(t)},e)},Te=function(n,e){ae(function(t){((t),n(t)},e)},b={passive:!0,capture:!0},ke=new Date,X=ce=Ee=se=Q=[100,300],be=Se=function(n,e){be(function(t){((t),n(t)},e)},ue=0,_=1/0,P=0,Ce=de=Le=Z=[200,500],le=0,$=f=[],M={},ee=Ie=we=te=[2500,4e3],B={},Pe=function(n,e){((e)};function Fe(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0}function pe(n,e){if(e===void 0&&(e=""),n.tagName==="BODY"||n.id)return((n.id?[n.tagName,n.id].join("#"):n.tagName)+" "+e).trim();var t=Array.from(n.classList).map(function(r){return"."+r}).join("");return t=("> "+n.tagName+t+" "+e).trim(),n.parentElement?pe(n.parentElement,t):t}unction Ae(n,e){var t=n&&n.attributes;return e&&t&&t[e]?t[e].value:void 0}function x(n,e){var t=n[e];return t&&typeof t.animVal=="string"?t.animVal:t}function ne(n){var e,t=n,r=x(n,"className"),i=t.for||Ae(n,"id"),c=t.formTarget||x(n,"target"),o=(n.attributes&&n.attributes.formaction?t.formAction:"")||t.action||x(n,"href")||t.src||t.srcset||t.currentSrc||t.code||t.codebase;return{selector:pe(n),trusted:!!De()&&[0,void 0,!1].includes((e=SpeedKit==null?void 0:SpeedKit.dynamicBlocks)===null||e===void 0?void 0:e.complete),classes:r,id:i,target:c,url:o}}function Oe(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("layout-shift")>=0}var fe=function(){function n(){var e=this;this.cls={name:"CLS",value:0,delta:0,id:"init",entries:[]},this.lcpCandidates=[];try{ge(function(t){return e.cls=t},{reportAllChanges:!0}),Pe(function(t){return e.lcp=t},{reportAllChanges:!0}),we({reportAllChanges:!0})}catch(t){}}return n.prototype.on=function(e,t){var r=this;this.listenForLCPCandidates(),this.listenForFirstInputDelay(t),this.listenForFirstInteraction(t),Te(function(c){return r.trackFCP(t,c)},{reportAllChanges:!0}),t.onLeavePage(function(){r.lcpCandidates.length&&(t.set("lcpCandidates",r.lcpCandidates),r.lcpCandidates=[]),e([r.lcp,r.cls,r.inp])});var i=!1;["keydown","click"].forEach(function(c){addEventListener(c,function(o){o.isTrusted&&!i&&(e([r.lcp]),i=!0)},{capture:!0,once:!0})})},n.prototype.track=function(e,t){for(var r=0,i=t;r<i.length;r++){var c=i[r];if(c)switch(c.name){case"LCP":this.trackLCP(e);break;case"CLS":this.trackCLS(e);break;case"INP":this.trackINP(e)}}},n.prototype.trackLCP=function(e){if(this.lcp&&(e.set("lcp",this.lcp.value),this.lcp.attribution&&Object.keys(this.lcp.attribution).length!==0)){var t=this.lcp.attribution,r=t.lcpEntry,i=t.lcpResourceEntry,c=t.elementRenderDelay,o=t.element,a=i?this.getLCPResourceTimings(i):void 0,s=this.getLCPElement(r==null?void 0:r.element,o);s&&(s.target=s.target||void 0,s.classes=s.classes||void 0);var u={renderDelay:c?Math.round(c):void 0};e.set("lcpElement",s),e.set("lcpResourceTimings",a),e.set("lcpAttribution",u)}},n.prototype.getLCPElement=function(e,t){var r=e;if(!r)try{r=t&&document.querySelector(t)||void 0}catch(i){}return r?ne(r):void 0},n.prototype.getLCPResourceTimings=function(e){var t=e.name,r=e.startTime,i=e.requestStart,c=e.responseEnd;return{url:t,start:Math.round(r),requestStart:Math.round(i),responseEnd:Math.round(c)}},n.prototype.listenForLCPCandidates=function(){var e=this;try{new PerformanceObserver(function(t){for(var r=0,i=t.getEntries();r<i.length;r++){var c=i[r];e.lcpCandidates.push({id:c.id||void 0,url:c.url||void 0,startTime:Math.round(c.startTime),loadTime:Math.round(c.loadTime),renderTime:Math.round(c.renderTime)})}}).observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}},n.prototype.trackCLS=function(e){var t,r;if(Oe()&&(e.set("cls",((t=this.cls)===null||t===void 0?void 0:t.value)||0),((r=this.cls)===null||r===void 0?void 0:r.attribution)&&Object.keys(this.cls.attribution).length!==0)){var i=this.cls.attribution,c=i.loadState,o=i.largestShiftTime,a=i.largestShiftSource,s=i.largestShiftValue,u={shiftTime:o?Math.round(o):void 0,shiftValue:s,loadState:c};e.set("clsAttribution",u),a&&this.trackLargestCLS(e,a)}},n.prototype.trackLargestCLS=function(e,t){try{var r=ne(t.node);r.target=r.target||void 0,r.classes=r.classes||void 0,e.set("lClsElement",r),e.set("lClsShiftPrev",this.getShiftInfo(t.previousRect)),e.set("lClsShiftCur",this.getShiftInfo(t.currentRect))}catch(i){}},n.prototype.getShiftInfo=n.prototype.listenForFirstInteraction=function(e){var t=this;addEventListener("scroll",{once:!0})},n.prototype.listenForFirstInputDelay=function(e){var t=this;if(!Fe())return this.trackLegacyFID(e);Se({reportAllChanges:!0})},n.prototype.trackFID=function(e,t){var r=t.entries.filter([0],i=Math.round(this.calculateFirstInteractionTime(r.startTime));if(e.set("fi",i),e.set("fid",Math.round(t.value)),!this.fia&&e.set("fia",i),t.attribution&&Object.keys(t.attribution).length!==0){var c=t.attribution.eventType,o=t.attribution.eventTarget||void 0;e.set("fidAttribution",{eventTarget:o,eventType:c})}},n.prototype.trackINP=function(e){if(this.inp&&(e.set("inp",Math.round(this.inp.value)),this.inp.attribution&&Object.keys(this.inp.attribution).length!==0)){var t=this.inp.attribution,r=t.eventTarget,i=t.eventTime,c={eventType:t.eventType,eventTarget:r,eventTime:i?Math.round(i):void 0};e.set("inpAttribution",c)}},n.prototype.trackFCP=function(e,t){e.set("fcp",Math.round(t.value))},n.prototype.trackFIA=function(e,t){this.fia=this.calculateFirstInteractionTime(t),e.set("fia",Math.round(this.fia))},n.prototype.trackLegacyFID=function(e){var t=this,r=["click","mousedown","keydown","touchstart","pointerup"],i=function(c){var o=t.calculateFirstInputDelay(c);if(o)try{t.trackFID(e,o),r.forEach(}catch(a){}};r.forEach(function(c){return addEventListener(c,i,{passive:!0,capture:!0})})},n.prototype.calculateFirstInputDelay=function(e){return e.cancelable&&e.isTrusted?{name:"FID",value:(e.timeStamp>1e12?Date.now():performance.now())-e.timeStamp,entries:[{duration:0,entryType:"first-input",startTime:e.timeStamp}]}:null},n.prototype.calculateFirstInteractionTime=function(e){return e>1e12?e-performance.timing.navigationStart:e},n}();var me=function(){eturn n.prototype.on=function(e,t){if(this.isSupported()){var r=[],i=new PerformanceObserver(function(c){c.getEntries().forEach(function(o){var a,s,u,l,d=o;r.push({startTime:d==null?void 0:d.startTime,duration:d==null?void 0:d.duration,cname:(a=d==null?void 0:d.attribution[0])===null||a===void 0?void 0:a.containerName,csrc:(s=d==null?void 0:d.attribution[0])===null||s===void 0?void 0:s.containerSrc,cid:(u=d==null?void 0:d.attribution[0])===null||u===void 0?void 0:u.containerId,ctype:(l=d==null?void 0:d.attribution[0])===null||l===void 0?void 0:l.containerType})})});t.onLeavePage(,i.observe({entryTypes:["longtask"]})}},n.prototype.set=n.prototype.isSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("longtask")>=0},n}();var ve=function(){function n(e){e===void 0&&(e={}),this.ga4Types=["add_to_cart","addToCart","cart_addition","cartAddition","purchase","begin_checkout","beginCheckout","add_shipping_info","addShippingInfo","add_payment_info","addPaymentInfo"];var t={2:"login",3:"payment",4:"summary"};if(e.funnelStepMapping)for(var r=0,i=Object.keys(e.funnelStepMapping);r<i.length;r++){var c=i[r];t[Number(c)]=e.funnelStepMapping[Number(c)]}this.options={funnelStepMapping:t,trackAddToCart:typeof e.trackAddToCart!="boolean"||e.trackAddToCart,trackFunnelPage:typeof e.trackFunnelPage!="boolean"||e.trackFunnelPage,trackConfirmation:typeof e.trackConfirmation!="boolean"||e.trackConfirmation,defaultCurrency:typeof e.defaultCurrency=="string"?e.defaultCurrency:"EUR"}}return n.prototype.track=function(e){var t=this;e.onDataLayer(function(r){r&&("length"in r?t.handleGtag(e,r):r.ecommerce&&(t.ga4Types.indexOf(r.event)===-1?t.handleLegacyGA(e,r):t.handleGA4(e,r)))})},n.prototype.handleLegacyGA=function(e,t){if(this.options.trackAddToCart&&t.ecommerce.add){var r=t.ecommerce.currencyCode||this.options.defaultCurrency,i=this.ensureNumber(t.ecommerce.value);return this.trackAddToCart(e,t.ecommerce.add.products,i,r)}return this.options.trackFunnelPage&&t.ecommerce.checkout?this.trackFunnelPage(e,t.ecommerce.checkout):this.options.trackConfirmation&&t.ecommerce.purchase?this.trackConfirmation(e,t.ecommerce.purchase):void 0},n.prototype.handleGA4=function(e,t){if(this.options.trackAddToCart&&["add_to_cart","addToCart","cart_addition","cartAddition"].indexOf(t.event)!==-1){var r=t.ecommerce.currency||this.options.defaultCurrency,i=this.ensureNumber(t.ecommerce.value),c=t.ecommerce.items?this.convertToArray(t.ecommerce.items):null;return this.trackAddToCart(e,c,i,r)}return this.options.trackConfirmation&&t.event==="purchase"?this.trackConfirmationGA4(e,t.ecommerce):this.options.trackFunnelPage&&["begin_checkout","beginCheckout","add_shipping_info","addShippingInfo","add_payment_info","addPaymentInfo"].indexOf(t.event)!==-1?this.trackFunnelPageGA4(e,t.ecommerce,t.event):void 0},n.prototype.convertToArray=n.prototype.trackFunnelPageGA4=function(e,t,r){var i=t.payment_type||"",c=t.shipping_tier||"";e.set("ecFunnel",{payment:i,shipping:c,step:r})},n.prototype.trackConfirmation=function(e,t){if(t.actionField){var r=t.actionField.id,i=t.actionField.revenue||"0.00",c=this.ensureNumber(i);e.set("ecConversion",{id:r,currencyCode:this.options.defaultCurrency,revenue:c})}},n.prototype.trackConfirmationGA4=function(e,t){var r=t.transaction_id,i=t.value;i=this.ensureNumber(i);var c=t.currency||this.options.defaultCurrency;e.set("ecConversion",{currencyCode:c,id:r,revenue:i})},n.prototype.trackFunnelPage=function(e,t){if(t.actionField&&t.actionField.step&&this.options.funnelStepMapping[t.actionField.step]){var r=this.options.funnelStepMapping[t.actionField.step];e.set("ecFunnel",{step:r,payment:"",shipping:""})}},n.prototype.trackAddToCart=function(e,t,r,i){i===void 0&&(i=this.options.defaultCurrency);var c=[];if(!t)return c.push({id:location.href,price:r,quantity:1,currencyCode:i}),void e.append("ecAddToCart",c);for(var o=0,a=t;o<a.length;o++){var s=a[o],u=this.ensureNumber(s.price);c.push({id:s.id||s.item_id||location.href,price:u||r,quantity:s.quantity||1,currencyCode:i})}e.append("ecAddToCart",c)},n.prototype.handleGtag=function(e,t){t[0]==="event"&&t[1]&&t[2]&&this.ga4Types.indexOf(t[1])!==-1&&this.handleGA4(e,{event:t[1],ecommerce:t[2]})},n.prototype.ensureNumber=function(e){return Number(typeof e=="string"?e.replace(",","."):e)},n}();(function(){if(typeof SpeedKit!="undefined"&&SpeedKit.lastNavigate||window!==window.top)return;window.SpeedKit=window.SpeedKit||{};function n(o,a){if(a===void 0&&(a=""),o.tagName==="BODY"||o.id)return(o.id?[o.tagName,o.id].join("#"):o.tagName)+" "+a;var s=Array.from(o.classList).map(.join("");return s=("> "+o.tagName+s+" "+a).trim(),o.parentElement?n(o.parentElement,s):s}SpeedKit.rumPlugins=[new q,new H,new me,new U({onlyFallback:!0}),new fe,new ve,{key:"pageType",on:"domInteractive",set:function(){var l,d;var o=window.location.pathname;if(o==="/")return"home";if(o.indexOf("/e-shop/")>-1){try{var a=((l=document.querySelector("#pageValue"))==null?void 0:l.innerHTML)||((d=document.querySelector("#upselling-promotion"))==null?void 0:d.innerHTML),s=a?JSON.parse(a):{}}catch(h){return"e-shop page failed json parsing"}var u=s==null?void 0:s["@type"];return u||o.split("/")[2]}return o.split("/")[1]}},{key:"customerType",type:"PiDimension",on:"window._trbo_data_layer.custCookie",set:function(){var o;return(o=window==null?void 0:window._trbo_data_layer)==null?void 0:o.custCookie}},{key:"loggedIn",type:"PiDimension",on:"window._trbo_data_layer.loggedIn",set:function(){var o;return((o=window==null?void 0:window._trbo_data_layer)==null?void 0:o.loggedIn)==="J"}},{key:"ecCart",on:"window._trbo_current_basket.value",set:function(){var o,a;return{size:(((o=window==null?void 0:window._trbo_current_basket)==null?void 0:o.product_ids)||[]).length,currencyCode:"EUR",price:(a=window==null?void 0:window._trbo_current_basket)==null?void 0:a.value}}},{key:"isPreRendered",type:"PiDimension",on:"load",set:,{on:e,track:function(o){var a=performance.measure("sk-prerender-observe-runtime",{start:"sk-prerender-observe-start",end:"sk-prerender-observe-end"}),s={start:a.startTime,duration:a.duration,url:window.location.href};o.trackCustomEvent("skPrerenderReady",JSON.stringify(s),s.duration)}},{on:e,track:function(o){var a=performance.measure("sk-prerender-observe-change-detection",{start:"sk-prerender-change-detection-start",end:"sk-prerender-change-detection-end"}),s={start:a.startTime,duration:a.duration,url:window.location.href};o.trackCustomEvent("skPrerenderChangeDetection",JSON.stringify(s),s.duration)}},{on:r,track:function(o){function a(){var s=document.querySelector("#top tef-carousel");if(!s)return!1;var u=s.innerHTML;return u.indexOf("AdSpace Trbo")!==-1&&u.indexOf("tef-stage-teaser")!==-1}o.trackCustomEvent("hasTrboStageTeaser",location.href,a()?1:0)}},{on:"click",track:function(o,a){var s=n(a.element);o.trackCustomEvent("click",JSON.stringify({selector:s,url:a.elementUrl,classes:a.elementClasses}))}},{on:"nextTick",track:function(o){document.addEventListener("click",function(a){var s=a.target.closest(".speed-kit-pre-rendered-block-added");if(s){var u=a.path||a.composedPath&&a.composedPath(),l=u?u.map(function(p){var I="";return p.tagName&&(I+=p.tagName),p.id&&(I+="#"+p.id),p.className&&typeof p.className=="string"&&(I+="."+p.className.split(" ").join(".")),I}).join(" > "):"",d=t(a.target),h={time:Date.now(),element:{tagName:s.tagName,id:s.id,className:s.className,x:a.clientX,y:a.clientY,path:l,cssSelector:d}};o.trackCustomEvent("first-user-interaction",JSON.stringify(h))}})}}];unction t(o){if(o instanceof Element){for(var a=[];o.nodeType===Node.ELEMENT_NODE;){var s=o.nodeName.toLowerCase();o.id&&(s+="#"+o.id),o.className&&typeof o.className=="string"&&(s+="."+o.className.split(" ").join(".")),a.unshift(s),o=o.parentNode}return a.join(" > ")}}function r(o,a){var s=window==null?void 0:window._trbo_notifications;Object.defineProperty(window,"_trbo_notifications",{configurable:!0,enumerable:!0,get:function(){return s},set:function(u){var l=s!==u;s=u,l&&u&&setTimeout(}})}function i(o,a){window.tefDataLayer=window.tefDataLayer||[],window.tefDataLayer.push({event:"web-vitals-lcp",lcp_bucket:o.bucket,lcp_value:o.value,lcp_rating:o.rating,lcp_count:1,speedkit_source:a.lastNavigate.responseSource==="Origin"?"Origin":"Speed Kit"})}function c(o){typeof SpeedKit!="undefined"&&SpeedKit.readyState==="complete"?i(o,SpeedKit):addEventListener("speed-kit-completed",}(function(){if(typeof PerformanceObserver=="undefined"||!PerformanceObserver.supportedEntryTypes||PerformanceObserver.supportedEntryTypes.indexOf("largest-contentful-paint")===-1)return;var o=null,a=new PerformanceObserver(function(l){var d=l.getEntries();o=d[d.length-1]});a.observe({type:"largest-contentful-paint",buffered:!0});function s(){if(!!a){if(!o){var l=a.takeRecords();o=l[l.length-1]}if(a.disconnect(),a=null,o&&o.startTime>=0){var d=o.startTime;c({value:d,bucket:Math.ceil(d/100)*100,rating:d>4e3?"poor":d>2500?"needs-improvement":"good"})}}}["keydown","click"].forEach(;function u(l){(l.type==="pagehide"||document.visibilityState==="hidden")&&s()}addEventListener("visibilitychange",u,!0),addEventListener("pagehide",u,!0)})()})();})();
(function(){(function(){if(typeof SpeedKit!="undefined"&&SpeedKit.lastNavigate)return;function e(){return["www.o2online.de","prev.o2online.de"].indexOf(location.hostname)>-1}function i(){return location.href.indexOf("/verfuegbarkeit")===-1&&location.href.indexOf("/vorteile")===-1}window.speedKit={appName:"o2online-de",dataLayer:"tefDataLayer",ruleSetConfig:{version:2},sw:"/speedkit/wrapper-sw.js?r=de133aae-7cb5-4383-9162-3d5f04eba3bb&v=2.14.4",preloadDynamicBlocks:!0,rumTracking:i()?{performanceOnly:!0,noCookies:!1}:!1,cookieLifetime:14,userAgentDetection:!0,split:.5,splitTestId:"50vs50_2023_12_12",disabled:!e(),enabledSites:[{pathname:[/^\/e-shop/,/^\/tarife/,/^\/extras/,/^\/internet-festnetz/,/^\/ratgeber/,/^\/geraete/,/^\/shops/,/^\/netz/,/^\/deals/,/^\/deals-fuer-kunden/]}],disabledSites:[{pathname:[/\/auth/i,/\/mein-o2/i,/\/vt-login/i,/\/ecareng/i,/\/econtract/i,/\/ebuy/i,/\/e-shop\/rest\//i,/\/e-shop\/zusatzangebote/i,/\/e-shop\/directbuy/i,/\/e-shop\/konfiguration/i,/\/e-shop\/geraet-waehlen/i,/\/e-shop\/warenkorb/i,/\/e-shop\/bestelldaten/i,/\/e-shop\/bestellung/i,/\/verfuegbarkeit/i,/\/weiter-einkaufen/i,/\/tarife\/prepaid-tarife\/$/,/\/extras\/$/,/\/geraete\/$/,/\/geraete\/top-gadgets/i]}],whitelist:[{host:["www.o2online.de","prev.o2online.de"],contentType:["navigate","script","style","font"]},{host:["library.telefonica.de","static.o9.de"],contentType:["script","style","font"]}],blacklist:[{pathname:[/\.pdf/,/password/i,/paypal/i,/klarna/i,/amazon/i,/payment/i,/ratepay/i,/payone/i,/nocache/i,/checkout/i,/\/auth/i,/\/mein-o2/i,/\/vt-login/i,/\/ecareng/i,/\/econtract/i,/\/ebuy/i,/\/e-shop\/rest\//i,/\/e-shop\/zusatzangebote/i,/\/e-shop\/directbuy/i,/\/e-shop\/konfiguration/i,/\/e-shop\/geraet-waehlen/i,/\/e-shop\/warenkorb/i,/\/e-shop\/bestelldaten/i]},{url:["www.googletagmanager.com/gtm.js","www.googletagmanager.com/gtag/js",/[?&](_=1\d{12})/,/^www\.o2online\.de\/shops\/suche\/.*[?&]q=/i]},{host:["static.o9.de","static2.o9.de","www.o2online.de","library.telefonica.de"],contentType:["image"]}],stripQueryParams:[{params:[/^utm_/,/^utm-/,/^_ga/,/^_gl/,"gad_source",/^tarif$/,"gclid","msclkid","gclsrc","fbclid","ds_rl","dclid","cjid","yclid","campaign","gbraid","wbraid","zielgruppe","ratenzahlung","vertragsart","partnerId","mediacode","dscampaign","type","ttclid","medium","ref","render-schema","desktop","tablet","mobile"]}]}})();})();
(function(){(function(v,g,D,a,Oe,Yt,$t){"use strict";var F="baqend-speedkit",M=F+"-user-id",te=F+"-session-id",de=F+"-session-index",le=F+"-session-timestamp";function De(e,t,n,i){return Promise.resolve(e).then(function(r){return new Promise(function(o,s){var c=r.transaction(t,n),f=Promise.resolve(i(c.objectStore(t)));c.oncomplete=c.onabort=c.onerror=function(){return s(c.error)}})})}unction pe(e,t){return t&&t!=="/"?""+(t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t)+((e.indexOf("/")===0?"":"/")+e):e}var fe=function(){function e(t){this.dbp=null,this.cacheName=pe(F,t),this.dbp=this.openDb()}return e.prototype.get=function(t){return(n=this.db(),i="baqend-speedkit-store",r=function(o){return o.get(t)},De(n,i,"readonly",r)).then(;var n,i,r},e.prototype.set=function(t,n){return Re(this.db(),"baqend-speedkit-store",function(i){return i.put(n,t)&&void 0})},e.prototype.clear=function(){return Promise.all([(t=this.db(),n="baqend-speedkit-store",Re(t,n,.then(function(){}))]).then(;var t,n},e.prototype.disconnect=function(){var t=this;return this.dbp?this.dbp.then(:Promise.resolve()},e.prototype.db=e.prototype.openDb=function(){var t=this,n=indexedDB.open(this.cacheName,1);return n.onupgradeneeded=function(i){var r=i.oldVersion,o=n.result;if(r<1){if(!o)return;try{o.createObjectStore("baqend-speedkit-store")}catch(s){}}},this.openRequest(n).then(function(i){return i.onclose=function(){t.dbp=null},i.onerror=i.onversionchange=function(r){r.newVersion||(t.dbp=null,i.close())},i})},e.prototype.openRequest=function(t){return new Promise(function(n,i){t.onsuccess=function(){return n(t.result)},t.onerror=function(){return i(t.error)},t.onblocked=)},e}();(function(){.prototype.get=function(t){return Promise.resolve(this.map.get(t)||null)},e.prototype.set=e.prototype.clear=)();function ne(e){v.readyState!=="complete"?window.addEventListener("load",function(){return e()}):e()}var pt=1e5;function Ae(e,t){var n=function(c,f){f===void 0&&(f=pt);var l=JSON.stringify(c),y=l.length;if(y<=f)return[c,l];var d=[],h=[];Object.keys(c).forEach(function(b){var N=JSON.stringify(c[b]);d.push({name:b,size:N.length})}),d.sort(;for(var u=0;y>f&&d[u];)delete c[d[u].name],y-=d[u].size,h.push(d[u].name),u+=1;return c.truncatedKeys=h,[c,JSON.stringify(c)]}(t),i=n[0],r=n[1];try{if(g.sendBeacon&&g.sendBeacon(e,r))return}catch(c){}i.xhrFallback=!0;var o=JSON.stringify(i),s=new XMLHttpRequest;s.open("POST",e,!0),s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),s.send(o)}function xe(e,t){return!(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))&&typeof e==typeof t&&(Array.isArray(e)?e.length===t.length:typeof e=="object"?function(n,i){var r=0,o=0;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&(r+=1,!xe(n[s],i[s])))return!1;for(var s in i)o+=1;return r===o}(e,t):e===t)}function ge(e){v.readyState==="loading"?v.addEventListener("DOMContentLoaded",function(){return e()}):setTimeout(e,0)}function ft(e){v.querySelector("html.speed-kit-dynamic-loaded")?setTimeout(e,0):v.addEventListener("speed-kit-loaded",function(){return e()})}var gt=function(){eturn e.prototype.onDataLayer=function(t){var n=this;this.dataLayerEventListeners.length||this.observeDataLayer(function(i){var r;if(i.length){(r=n.observedDataLayerEvents).push.apply(r,i);for(var o=0,s=n.dataLayerEventListeners;o<s.length;o++){var c=s[o];n.emitEventsToObserver(i,c)}}}),this.dataLayerEventListeners.push(t),this.emitEventsToObserver(this.observedDataLayerEvents,t)},e.prototype.emitEventsToObserver=function(t,n){for(var i=r=0,o=t;r<o.length;r++)i(o[r])},e.prototype.observeDataLayer=function(t){this.onDataLayerReady(function(n){var i=n.push;n.push=function(){var o=Array.prototype.slice.call(arguments),s=i.apply(n,o);return t(o),s},t(n)})},e.prototype.onDataLayerReady=function(t){this.dataLayerUpdateListeners.length||this.startDataLayerObserver(),this.dataLayerUpdateListeners.push(t);var n=window[this.dataLayerName];n&&t(n)},e.prototype.startDataLayerObserver=function(){var t=this.dataLayerUpdateListeners,n=window[this.dataLayerName];Object.defineProperty(window,this.dataLayerName,{configurable:!0,enumerable:!0,get:set:function(i){var r=n!==i;n=i,r&&i&&setTimeout(}})},e}();function Y(e){return e===void 0&&(e=25),function(t){var n=[];n.length=t;for(var i=0;i<t;)n[i]=0,i+=1;return n}(e).map(.map(.join("")}function $(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(,n}var vt={performanceOnly:!1,stripAllParameter:!1,noCookies:!1,noTracking:!1,pageDisabled:!1};function A(){var e=$({},vt);return a.rumTracking?typeof a.rumTracking=="boolean"?e:$(e,a.rumTracking):$(e,{noTracking:!0})}function H(e){var t=null;if(typeof Storage!="undefined")try{t=localStorage.getItem(e)}catch(n){}return t}function ve(e){e===void 0&&(e=!0);var t,n=e?Y():"",i=0;if((t=H(le))&&(Date.now()-parseInt(t,10))/1e3<=1800){n=H(te);var r=""+(H(de)||-1);i=parseInt(r,10)+1}return[n,i]}function ie(e,t){if((a.cookieLifetime===void 0||!A().performanceOnly)&&typeof Storage!="undefined")try{localStorage.setItem(e,t)}catch(n){}}var T,ht=[M,"baqend-speedkit-config"];function he(){return!(H("baqend-speedkit-sk-opt-out")!=="1"&&!window.deactivateSpeedKit)}function j(e,t){if(!(he()||(ie(e,t),A().noCookies||ht.indexOf(e)<0))){var n=a.cookieLifetime||180,i=new Date(Date.now()+24*n*60*60*1e3).toUTCString();try{v.cookie=e+"="+t+"; expires="+i+"; path=/; SameSite=Lax; Secure"}catch(r){}}}function G(e,t){t===void 0&&(t=!0);var n=H(e),i=function(o){try{var s=new RegExp(o+"=([^,;]*)"),c=v.cookie.match(s);return c&&c[1]?c[1]:null}catch(f){}return null}(e),r=n||i;return r&&n!==i&&t&&j(e,r),r}function Ue(e){return e===void 0&&(e=!0),G(M,e)||Y()}unction C(e,t){(function(){if(!(window.SpeedKit&&window.SpeedKit.track)){var o=A(),s=!(o.noTracking||o.performanceOnly);if(window.SpeedKit=window.SpeedKit||{},window.SpeedKit.navigateId=window.SpeedKit.navigateId||""+Y(32),window.SpeedKit.group=window.SpeedKit.group||"sk",window.SpeedKit.track=mt,!window.SpeedKit.sessionId&&s){var c=ve(),f=c[0],l=c[1];window.SpeedKit.sessionId=f,window.SpeedKit.sessionIndex=l}s&&(window.SpeedKit.userId=window.SpeedKit.userId||Ue())}})();var n={timestamp:Date.now(),type:t,message:"Install.js",stackTrace:"null"};if(function(o){return!!o&&("reason"in o||"message"in o)}(e)){var i=me(e)?e.reason.message||JSON.stringify(e.reason):e.message,r=me(e)?e.reason.stack:e.stack;n.message="Install.js: "+i,n.stackTrace=r||"null"}((n)}function mt(e,t,n){Ke("events",[{action:""+e,label:""+t,value:isNaN(Number(n))?0:Number(n)}])}function Ke(e,t){var n=A();if(!n.noTracking){var i={sessionId:SpeedKit.sessionId,userId:SpeedKit.userId},r={piId:SpeedKit.navigateId,testGroup:SpeedKit.group};r[e]=t;var o=n.performanceOnly?r:$(r,i);Ae("https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1/rum/pi",o)}}((T||(T={}));var yt=function(){function e(t){this.rumController=t,this.triggerFunctions={domInteractive:this.rumController.onDOMInteractive,load:this.rumController.onLoad,speedKitLoaded:this.rumController.onSpeedKitLoaded,dataLayer:this.rumController.onDataLayer.bind(this.rumController),dataLayerReady:this.rumController.onDataLayerReady.bind(this.rumController),visibilityHidden:this.rumController.onVisibilityHidden,dfDataReady:this.rumController.onDfDataReady,leavePage:this.rumController.onLeavePage.bind(this.rumController),gaReady:this.rumController.onGaReady.bind(this.rumController),gaTracking:this.rumController.onGaTracking.bind(this.rumController),click:this.rumController.onClick,nextTick:this.rumController.onNextTick,softNavigation:this.rumController.onSoftNavigation.bind(this.rumController)}}return e.prototype.initPlugin=function(t){if(t.shouldExecute)try{if(!t.shouldExecute())return}catch(i){C(i,T.RUMPLUGIN)}t.type||(t.type="Data"),typeof t.on=="string"?t.on=this.triggerFunctions[t.on]||this.getUnknownTriggerFunction(t.on):t.on=t.on||var n=this.generateCallbackFunction(t);try{t.on(n,this.rumController)}catch(i){C(i,T.RUMPLUGIN)}},e.prototype.generateCallbackFunction=function(t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t.track){var o=[n.rumController].concat(i);try{t.track.apply(t,o)}catch(l){C(l,T.RUMPLUGIN)}}else if(t.key&&(t.set||t.append||t.setTiming)){var s,c=n.getControllerFunction(t),f=n.getTrackingFunction(t);try{s=f.apply(t,i)}catch(l){C(l,T.RUMPLUGIN)}s!=null&&c.call(n.rumController,t.key,s)}}},e.prototype.getControllerFunction=function(t){return t.setTiming?this.rumController.setTiming:t.set?this.rumController.set:this.rumController.append},e.prototype.getTrackingFunction=e.prototype.getUnknownTriggerFunction=function(t){var n=this,i=function(r){n.resolvePluginVariable(t)!==null?r():setTimeout(200)};return i},e.prototype.resolvePluginVariable=function(t){for(var n=t.replace(/\[(\w+)\]/g,".$1"),i=(n=n.replace(/^\./,"")).split("."),r=window,o=0,s=i;o<s.length;o++){var c=s[o];if(typeof r!="object"||r==null)break;r=r[c]}return r||null},e}();function St(e){v.addEventListener("visibilitychange",!0)}function wt(e){SpeedKit&&SpeedKit.dynamicBlocks&&SpeedKit.dynamicBlocks.complete&&SpeedKit.dynamicBlocks.dataComplete||!v.querySelector("html.speed-kit-dynamic-loading")?setTimeout(e,0):v.addEventListener("dynamic-fetcher-data-ready",function(){return e()})}var bt=function(){eturn e.prototype.init=function(){var t=this;v.addEventListener("visibilitychange",function(){v.visibilityState==="hidden"?t.prepareBeforeLeaving("visibilityChange"):v.visibilityState==="visible"&&(t.unloaded=!1)}),"onpagehide"in window?window.addEventListener("pagehide",function(){return t.prepareBeforeLeaving("pagehide")}):(window.addEventListener("beforeunload",function(){return t.prepareBeforeLeaving("beforeunload")}),window.addEventListener("unload",)},e.prototype.onLeavePage=function(t){this.callbacks.push(t)},e.prototype.executeRemainingCallbacks=function(){if(!this.unloaded)for(var t=0,n=this.callbacks;t<n.length;t++)(0,n[t])()},e.prototype.prepareBeforeLeaving=function(t){var n=SpeedKit;this.executeRemainingCallbacks(),z(n,t),this.unloaded=!0},e.prototype.isUnloaded=function(){return this.unloaded},e}(),kt=function(){eturn e.prototype.onGaTracking=function(t){if(!this.gaObserver.length){var n=this.gaObserver;this.observeGa(function(){for(var i=0,r=n;i<r.length;i++){var o=r[i];o.apply({},arguments)}})}this.gaObserver.push(t)},e.prototype.onGaReady=function(t){ge(this.waitForGa.bind(this,t))},e.prototype.observeGa=e.prototype.initGa=function(){var t=this,n=arguments[0];this.waitForGa(function(){window.ga.getAll().forEach(function(i){var r=i.get("sendHitTask");i.set("sendHitTask",})})},e.prototype.waitForGa=function(t){var n=this,i=window.ga;i?i(function(){return t()}):setTimeout(function(){return n.waitForGa(t)},500)},e}();function Tt(e){return e.className?e.className.indexOf("animVal")!==-1?e.className.animVal:e.className:""}function It(e){return e.getAttribute("formAction")||e.getAttribute("action")||e.getAttribute("href")||e.getAttribute("src")||e.getAttribute("code")||e.getAttribute("codebase")||""}function Ct(e){window.addEventListener("click",function(t){if(t.isTrusted){var n,i=t.target;i&&e({element:n=i,elementClasses:Tt(n),elementId:n.getAttribute("for")||n.id||"",elementTarget:n.getAttribute("formTarget")||n.getAttribute("target")||"",elementUrl:It(n)})}},{passive:!0,capture:!0})}ar x,Et=function(){function e(){this.callbacks=[],this.currentUrl=location.href,typeof URL!="undefined"&&this.init()}return e.prototype.init=function(){var t=this,n=window.history.pushState,i=window.history.replaceState,r=function(o){try{t.triggerHistoryChange(o)}catch(s){C(s,T.RUMPLUGIN)}};window.history.pushState=function(){var o=Array.prototype.slice.call(arguments);n.apply(window.history,o);var s=o[2];s&&r(s)},window.history.replaceState=function(){var o=Array.prototype.slice.call(arguments);i.apply(window.history,o);var s=o[2];s&&r(s)},window.addEventListener("popstate",},e.prototype.onSoftNavigation=e.prototype.triggerCallbacks=function(){var t=this;setTimeout(function(){for(var n=0,i=t.callbacks;n<i.length;n++){var r=i[n];try{r()}catch(o){C(o,T.RUMPLUGIN)}}},0)},e.prototype.triggerHistoryChange=function(t){var n=new URL(t,location.href),i=new URL(this.currentUrl,location.href);this.currentUrl=n.href,n.hash="",i.hash="",n.href!==i.href&&this.triggerCallbacks()},e}();(function(e){e.Override="override",e.Append="append",e.Force="force",e.Once="once"})(x||(x={}));var I,Be,Fe,Q,Z,L,q,re,O,Pt=function(){function e(t,n,i){var r=this;this.beaconIndex=0,this.sendingScheduled=!1,this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.customTimers={},this.shouldTrackPI=i,this.dataLayerHandler=new gt(a.dataLayer||"dataLayer"),this.leavePageHandler=new bt,this.historyHandler=new Et,this.gATrackingHandler=new kt,this.customDimensions=[{name:"customPiDimensions",type:"PiDimension",dimensionData:{}},{name:"customSessionDimensions",type:"SessionDimension",dimensionData:{}}],this.enforcedTopLevelAttributes=[{key:"pageType",defaultValue:"None"}],this.onDOMInteractive=ge,this.onLoad=ne,this.onSpeedKitLoaded=ft,this.onGaReady=this.gATrackingHandler.onGaReady.bind(this.gATrackingHandler),this.onGaTracking=this.gATrackingHandler.onGaTracking.bind(this.gATrackingHandler),this.onDataLayer=function(o){return r.dataLayerHandler.onDataLayer(o)},this.onDataLayerReady=function(o){return r.dataLayerHandler.onDataLayerReady(o)},this.onDfDataReady=wt,this.onVisibilityHidden=St,this.onLeavePage=this.leavePageHandler.onLeavePage.bind(this.leavePageHandler),this.onClick=Ct,this.onNextTick=Nt,this.onSoftNavigation=this.historyHandler.onSoftNavigation.bind(this.historyHandler),this.pluginHandler=new yt(this)}return e.prototype.initializePlugins=function(){var t=this.getPlugins();this.initCustomTimerData(t),this.initCustomDimensionData(t),this.initEnforcedTopLevelAttributes(t),t.forEach(this.pluginHandler.initPlugin,this.pluginHandler),this.leavePageHandler.init()},e.prototype.reinitialize=function(t,n){this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.beaconIndex=0,this.shouldTrackPI=!A().pageDisabled&&a.group!=="B"},e.prototype.reportEvent=function(t,n,i,r){if(!(n===void 0||n<0)&&(this.reportTracking(t,n),r!==void 0&&i)){var o=r-n;if(o<0)return;this.reportTracking(i,o)}},e.prototype.sendCurrentTracking=function(t){if((t||!(this.beaconIndex>=90))&&!A().noTracking){var n=this.getUnsentTracking();if(n){t&&(n.unloadType=t,this.sentTracking.unloadType=t);var i="";n.beaconIndex===0&&(i="?pi=1"+(this.shouldTrackPI?"&bqpi=1":"")),this.shouldTrackPI=!1,Ae(a.appURL+"/rum/pi"+i,n)}}},e.prototype.updateBaseDimension=e.prototype.trackCustomEvent=function(t,n,i,r){r===void 0&&(r=!0);var o={action:""+t,label:""+n,value:isNaN(Number(i))?0:Number(i)};this.reportTracking("events",o,x.Append),r&&this.sendCollapsed()},e.prototype.set=function(t,n,i,r){var o;i===void 0&&(i=!0),r===void 0&&(r=!1),o=typeof r=="boolean"?r?x.Force:x.Override:r;var s=this.reportTracking(t,n,o);return i&&this.sendCollapsed(),s},e.prototype.setTiming=function(t,n,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),typeof n=="number"?this.set(t,n-this.init.navigationStart,i,r):this.set(t,n,i,r)},e.prototype.append=function(t,n,i){i===void 0&&(i=!0),this.reportTracking(t,n,x.Append),i&&this.sendCollapsed()},e.prototype.getBeaconIndex=e.prototype.calculateRelative=function(t){if(t!==void 0)return t-this.init.navigationStart},e.prototype.reportTracking=function(t,n,i){if(i===void 0&&(i=x.Override),n==null||n==="")return!1;var r=this.customDimensions.filter([0];if(r)return this.reportCustomDimension(t,n,r.type);if(this.customTimers.hasOwnProperty(t))return this.reportCustomTimer(t,n);if(i===x.Append){var o=Array.isArray(n)?n:[n],s=this.unsentTracking[t]!==void 0?this.unsentTracking[t]:[],c=Array.isArray(s)?s:[s];return this.unsentTracking[t]=c.concat(o),!0}return!(!Array.isArray(n)&&xe(n,this.sentTracking[t])&&i!==x.Force)&&(!this.sentTracking.hasOwnProperty(t)||i!==x.Once)&&(this.unsentTracking[t]=n,!0)},e.prototype.reportCustomDimension=function(t,n,i){var r=typeof n=="string"?n:JSON.stringify(n),o=this.customDimensions.filter([0];if(!o||o.dimensionData[t]&&o.dimensionData[t]!=="null")return!1;o.dimensionData[t]=r;var s=this.unsentTracking[o.name]||{};return s[t]=r,this.unsentTracking[o.name]=s,!0},e.prototype.reportCustomTimer=function(t,n){if(typeof n!="number"||this.customTimers[t]&&this.customTimers[t]!==-1)return!1;this.customTimers[t]=n;var i=this.unsentTracking.customTimers||{};return i[t]=n,this.unsentTracking.customTimers=i,!0},e.prototype.getPlugins=function(){return window.SpeedKit&&window.SpeedKit.rumPlugins?window.SpeedKit.rumPlugins:[]},e.prototype.initEnforcedTopLevelAttributes=function(t){var n=this;this.enforcedTopLevelAttributes.forEach(function(i){t.filter(function(r){return r.key===i.key}).length||n.reportTracking(i.key,i.defaultValue)})},e.prototype.initCustomDimensionData=function(t){var n=this;t.forEach(function(i){i.key&&(n.customDimensions.every(||n.enforcedTopLevelAttributes.filter(function(r){return r.key===i.key}).length||n.reportCustomDimension(i.key,"null",i.type))})},e.prototype.initCustomTimerData=function(t){var n=this;t.forEach(function(i){i.key&&i.type==="CustomTimer"&&(n.customTimers[i.key]=-1)})},e.prototype.getUnsentTracking=function(){if(Object.keys(this.unsentTracking).length===0)return null;var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in t.beaconIndex=this.beaconIndex,this.unsentTracking)Object.prototype.hasOwnProperty.call(this.unsentTracking,n)&&(this.sentTracking[n]=Array.isArray(this.unsentTracking[n])&&Array.isArray(this.sentTracking[n])?this.sentTracking[n].concat(this.unsentTracking[n]):this.unsentTracking[n],t[n]=this.unsentTracking[n]);return this.unsentTracking=Object.create(null),this.beaconIndex+=1,t},e.prototype.sendCollapsed=function(){var t=this;this.leavePageHandler.isUnloaded()?this.sendCurrentTracking():this.sendingScheduled||(this.sendingScheduled=!0,setTimeout(100))},e.prototype.getInit=function(t,n){return A().performanceOnly?t:$(t,n)},e.prototype.getTrackedData=function(){var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in this.sentTracking)Object.prototype.hasOwnProperty.call(this.sentTracking,n)&&(t[n]=this.sentTracking[n]);return t},e}();function Ge(e){return parseFloat((1-e).toFixed(2))}function ye(){var e=g.userAgent;return e.indexOf("Safari")>-1&&e.indexOf("Edge")===-1&&e.indexOf("Chrome")===-1}function qe(){return!ye()&&typeof PerformanceNavigationTiming!="undefined"&&!!performance.getEntriesByType}function Se(){var e=performance.navigation;if(!qe())return Me(e.type);var t=performance.getEntriesByType("navigation");return t[0]&&"toJSON"in t[0]?Z[t[0].type]:Me(e.type)}function Me(e){return typeof e!="number"?Z[e]:e}function oe(){return window.performance?performance.timing.navigationStart||Math.trunc(performance.timeOrigin):0}function He(e){var t=function(){var f=window.performance.timing;if(!qe())return f;var l=performance.getEntriesByType("navigation");return l[0]&&"toJSON"in l[0]?l[0].toJSON():f}(),n=window.performance.timing,i="entryType"in t,r={};for(var o in t)if(typeof t[o]=="number"){var s=t[o]!==0,c=n&&(typeof n[o]!="number"||n[o]!==0);s||c?i?r[o]=Math.trunc(t[o]):t[o]>=e&&(r[o]=t[o]-e):r[o]=-1}else r[o]=t[o];return r.navigationStart=e,r.domLoading=n.domLoading-e,r.ttfb=i?r.responseStart:n.domLoading-e,r}function Lt(e,t){e.lastNavigate.cdnBackendTime&&t.set("cdnBackendTime",e.lastNavigate.cdnBackendTime,!1),e.lastNavigate.cdnPoP&&t.set("cdnPop",""+e.lastNavigate.cdnPoP,!1);var n=function(){var i=null;try{i=new URL(a.sw||"",window.location.origin).searchParams.get("r")}catch(r){}return i}();n&&t.set("configVersion",""+n,!1)}function Ot(e,t){var n,i,r;e.controllingServiceWorker&&t.set("controllingSw",e.controllingServiceWorker,!1),e.lastNavigate.applicationState&&t.set("applicationState",e.lastNavigate.applicationState,!1),e.lastNavigate.responseCause!==I.Unknown&&t.set("responseCause",e.lastNavigate.responseCause,!1)&&t.set("responseSource",e.lastNavigate.responseSource,!1,!0),e.lastNavigate.disconnectCause!==Q.None&&e.lastNavigate.disconnectCause!==Q.DashboardDisabled&&t.set("disconnectCause",e.lastNavigate.disconnectCause,!1),typeof e.split=="number"&&t.set("split",(n=e.group,i=e.split,r=n==="A"&&typeof a.secondarySplit=="number"?a.secondaryGroup==="B"?Ge(a.secondarySplit):a.secondarySplit:1,i*r),!1),e.readyState==="complete"&&e.lastNavigate.splitTestId!==e.splitTestId&&t.set("actualTestId",""+e.lastNavigate.splitTestId,!1),e.readyState==="complete"&&e.lastNavigate.group!==e.group&&t.set("actualTestGroup",""+e.lastNavigate.group,!1)}function z(e,t){var n,i=e.rumController,r=!!a.secondaryGroup,o=window.devicePixelRatio,s=e.lastNavigate.responseCause===I.BfCache,c=r?e.splitTestId+"-"+a.secondaryTestId:e.splitTestId,f=function(){if(A().stripAllParameter)return location.href.replace(/\?.*/,"?redacted");if(A().stripParameters){var d=new URL(location.href);return A().stripParameters.forEach(function(h,u){var b=new URL(location.href).searchParams.get(h)||"",N=b.length?h+"="+b:h;d.search=d.search.replace(new RegExp("(\\?|&)"+N),"$1redacted-"+u)}),d.href}return location.href}();r&&i.updateBaseDimension("testGroup",a.group+"-"+a.secondaryGroup);var l=A().performanceOnly?0:e.sessionIndex;i.set("sessionIndex",l,!1);var y=oe();i.reportEvent("snippetExecution",e.executionTime-y),i.set("url",f,!1,x.Once),i.set("userAgent",g.userAgent,!1),i.set("referrer",v.referrer,!1),i.set("testId",c||"None",!1),i.set("responseSource",e.lastNavigate.responseSource,!1),i.set("assetSource",e.lastNavigate.assetSource,!1),i.set("assetCause",e.lastNavigate.assetCause,!1),i.set("firstLoad",e.lastNavigate.firstLoad,!1),i.set("disabled",e.disabled,!1),i.set("swSupported",e.swSupported,!1),i.set("skSupported",e.skSupported,!1),i.set("screenResolution",e.screenResolution,!1,x.Once),i.set("documentVisible",v.visibilityState==="visible",!1,x.Once),i.set("variation",e.lastNavigate.variation,!1),i.set("pageTypeEnabled",e.pageTypeEnabled,!1,x.Once),i.set("devicePixelRatio",o,!1),i.set("inControlGroup",a.isControlGroup,!1),i.set("inIFrame",window.top!==window,!1),i.set("supportsTouch","ontouchend"in v,!1),Ot(e,i),typeof window.performance===void 0||s||(function(d){var h=oe(),u=He(h);d.set("navigationStart",h,!1),d.set("secureConnectDuration",u.secureConnectionStart>=0&&u.connectEnd>=0?u.connectEnd-u.secureConnectionStart:-1,!1),d.reportEvent("unload",u.unloadEventStart,"unloadDuration",u.unloadEventEnd),d.reportEvent("domainLookup",u.domainLookupStart,"domainLookupDuration",u.domainLookupEnd),d.reportEvent("connect",u.connectStart,"connectDuration",u.connectEnd),d.reportEvent("redirect",u.redirectStart,"redirectDuration",u.redirectEnd),d.reportEvent("response",u.responseStart,"responseDuration",u.responseEnd),d.reportEvent("load",u.loadEventStart,"loadDuration",u.loadEventEnd),d.reportEvent("domContentLoaded",u.domContentLoadedEventStart,"domContentLoadedDuration",u.domContentLoadedEventEnd),d.reportEvent("request",u.requestStart),d.reportEvent("fetch",u.fetchStart),d.reportEvent("ttfb",u.ttfb),d.reportEvent("domComplete",u.domComplete),d.reportEvent("domInteractive",u.domInteractive),d.reportEvent("workerStart",u.workerStart)}(i),function(d){var h=Se();h!==void 0&&d.set("navigationType",h,!1)}(i),function(d){if(typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType){var h=performance.getEntriesByType("paint");if(h&&h.length){var u=h.find(function(U){return U.name==="first-paint"}),b=h.find(function(U){return U.name==="first-contentful-paint"});d.set("firstPaint",u?Math.round(u.startTime):-1,!1),d.set("firstContentfulPaint",b?Math.round(b.startTime):-1,!1)}}else if(window.performance!==void 0){var N=performance.timing.msFirstPaint;N&&(d.setTiming("firstPaint",N,!1),d.setTiming("firstContentfulPaint",N,!1))}}(i)),s||(Lt(e,i),function(d,h){var u=d.lastNavigate?d.lastNavigate.timings:null;u&&(h.setTiming("speedKitFetchEvent",u.eventStart,!1),h.setTiming("speedKitHandle",u.handleStart,!1),h.setTiming("speedKitBlacklistHandler",u.blacklistHandler,!1),h.setTiming("speedKitDisabledPageHandler",u.disabledPageHandler,!1),u.handleStart!==void 0&&u.handleEnd!==void 0&&h.set("speedKitHandleDuration",u.handleEnd-u.handleStart,!1),u.cacheStart!==void 0&&u.cacheEnd!==void 0&&h.reportEvent("speedKitCacheLookup",u.cacheStart-u.handleStart,"speedKitCacheLookupDuration",u.cacheEnd-u.handleStart),u.fetchStart!==void 0&&u.fetchEnd!==void 0&&h.reportEvent("speedKitFetchCall",u.fetchStart-u.handleStart,"speedKitFetchCallDuration",u.fetchEnd-u.handleStart))}(e,i),i.set("originTTFB",e.lastNavigate.originTTFB,!1),i.set("assetTTFB",e.lastNavigate.assetTTFB,!1),i.set("redirectList",(n=e.lastNavigate.redirectList)===null||n===void 0?void 0:n.map(,!1,x.Once)),t?i.sendCurrentTracking(t):i.sendCollapsed()}function V(){return!!v.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}function je(e,t,n){var i=A();return!i.noTracking&&!i.performanceOnly&&(j(M,e),j(te,t),j(de,""+n),j(le,Date.now().toString()),!0)}function Dt(e){var t,n=!1,i=!1,r=ne(function(){setTimeout(function(){n=!0,r()})}),function(o,s){o.readyState!=="complete"?window.addEventListener("speed-kit-completed",s,{once:!0}):s()}(e,,t=typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType&&performance.getEntriesByType("paint").length>0||typeof PerformanceObserver=="undefined"||typeof PerformancePaintTiming=="undefined"?t():new PerformanceObserver(t).observe({entryTypes:["paint"]}),window.addEventListener("pageshow",function(o){if(o.persisted){var s=ve(),c=s[0],f=s[1];SpeedKit.navigateId=""+Y(32),SpeedKit.lastNavigate.responseCause=I.BfCache,SpeedKit.lastNavigate.responseSource=V()?L.AssetAPI:L.Origin,SpeedKit.sessionIndex=f,SpeedKit.executionTime=Date.now();var l=performance.timing.navigationStart||performance.timeOrigin,y={sessionId:c,userId:SpeedKit.userId},d={navigationStart:l,testGroup:SpeedKit.group,piId:SpeedKit.navigateId};SpeedKit.lastNavigate.firstLoad=!1,SpeedKit.rumController.reinitialize(d,y),je(SpeedKit.userId,c,f),z(SpeedKit)}})}function we(e,t,n){var i;n===void 0&&(n={}),typeof CustomEvent=="function"?i=new CustomEvent(e,{detail:n}):(i=v.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}function ae(e){e.readyState!==q.Complete&&(e.readyState===q.Loading&&(e.readyState=q.Prepared,we("speed-kit-prepared",window)),setTimeout(function(){e.readyState=q.Complete,we("speed-kit-completed",window)}))}function be(e,t,n,i){i===void 0&&(i=1e3);var r=!1;return n&&setTimeout(i),new Promise(function(o,s){var c=new MessageChannel,f=c.port1,l=c.port2;f.onmessage=f.onmessageerror=e.postMessage(t,[l])})}function Rt(e,t){be(e,{type:"get-navigate-info",clientURL:location.href},function(){t.lastNavigate.responseSource=V()?L.AssetAPI:L.Origin,t.lastNavigate.responseCause=I.NoSwResponse,ae(t)}).catch(.then(function(n){(function(i,r){if(!(!r||"wasCacheHit"in r)){if("reason"in r)return i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.errorMessage=r.reason,void(r.applicationState===re.FAILED&&(i.lastNavigate.responseCause=I.SwFailed));r.firstLoad=i.lastNavigate.firstLoad;var o=r.responseSource===L.Origin,s=[I.NoMatchingNavigate,I.SwBooting,I.NoNavigate,I.Unknown].includes(r.responseCause);i.lastNavigate=Object.assign(i.lastNavigate,r),o&&V()&&(i.lastNavigate.responseSource=s?L.AssetAPI:L.SDN)}})(t,n),ae(t)})}function At(e){return fetch(a.appURL+"/config/VAPIDPublicKey").then(function(t){return t.arrayBuffer()}).then(.then(function(t){return e.subscribe(t)}).then(function(t){var n={subscription:t,devicetype:"WebPush"};return fetch(a.appURL+"/db/Device/register",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}).then(function(t){return t.status===200},}function xt(){return"Notification"in window?Notification.requestPermission().then(function(e){return e==="denied"?"denied":e!=="granted"?"undecided":g[D].ready.then(function(t){var n=t.pushManager;return function(i){return i.getSubscription().then(}(n).then(}).then(}):Promise.resolve("unsupported")}function ke(e){var t=g[D];if(t)return t.ready.then(function(n){var i;if(n.active&&n.active.state==="activated")return n.active.postMessage(e);(i=n.active)===null||i===void 0||i.addEventListener("statechange",function(){var r;((r=n.active)===null||r===void 0?void 0:r.state)==="activated"&&n.active.postMessage(e)})})}function We(e){return e&&new URL(e,location.origin).pathname}function Te(e){var t;(t=ke({type:"update-device",data:e}))===null||t===void 0||t.catch(function(n){return C(n,T.SNIPPET)});try{(function(n){if(a.group!=="B"){var i=We(a.scope),r=g.userAgent,o=new fe(i);o.set("/com.baqend.speedkit.device",{device:n,userAgent:r}).catch(function(s){return C(s,T.SNIPPET)}).then(function(){return o.disconnect().catch(function(s){return C(s,T.SNIPPET)})})}})(e)}catch(n){C(n,T.SNIPPET)}}function Ve(e){var t=g[D].controller;t&&t.postMessage({type:"bypass-deactivation",data:e})}function Ut(){var e=g[D];e&&e.controller&&e.controller.postMessage({type:"connect"})}function Kt(){var e=g[D];e&&e.controller&&e.controller.postMessage({type:"disconnect"})}function Bt(){var e=H("baqend-speedkit-hashing-salt");if(e)return e;var t=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",r=0;r<32;r+=1)i+=n.charAt(Math.floor(Math.random()*n.length));return i}();return ie("baqend-speedkit-hashing-salt",t),t}function Ft(e){return function(t,n){for(var i="",r=0;r<t.length;r+=1){var o=r%n.length;i+=(t.charCodeAt(r)^n.charCodeAt(o)).toString(32)}return i}(e,Bt())}function Gt(e){var t=g[D].controller;t&&t.postMessage({type:"offline",data:e})}function Je(){var e=g[D].controller;e&&e.postMessage({type:"fetch-bloom-filter",data:!0})}function _(){return a.disabled||a.enabled===!1}unction ee(e){var t;(t=ke({event:e,type:"send-cookies",data:v.cookie}))===null||t===void 0||t.catch(function(n){return C(n,T.SNIPPET)})}function ze(e,t,n){return!!g[D]&&!!g[D].getRegistrations&&function(i,r,o){return i==="Safari"?r!==15||o>=2||g.userAgent.includes("SpeedCurve"):i==="Chrome"?r>=61:i!=="Firefox"||r!==59}(e,t,n)}unction Xe(e){var t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)\.?(\d+)?/i)||[],n=null;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)\.?(\d+)?/g.exec(e)||[],["IE",parseInt(n[1],10)||0,parseInt(n[2],10)||0];var i=function(o){if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*?Version)/.test(o)){var s=o.match(/(OS |os |OS)(\d+)_?(\d+)?/i)||[];return[/\b(crios)\/(\d+)/i.test(o)?"Safari":"SafariWebView",parseInt(s[2],10)||0,parseInt(s[3],10)||0]}return null}(e)||function(o,s){if(s[1]==="Chrome"){var c=null;if((c=o.match(/\bEdg\/(\d+)\.?(\d+)?/)||o.match(/\bEdge\/(\d+)\.?(\d+)?/))!=null)return["Edge",parseInt(c[1],10),parseInt(c[2],10)||0];if((c=o.match(/\bOPR\/(\d+)\.?(\d+)?/))!=null)return["Opera",parseInt(c[1],10),parseInt(c[2],10)||0]}return null}(e,t);if(i!==null)return i;var r=t[2]?[t[1],parseInt(t[2],10),parseInt(t[3],10)||0]:[g.appName,parseInt(g.appVersion,10),0];return e.indexOf("Android")===-1&&(n=e.match(/version\/(\d+)\.?(\d+)?/i))!=null&&(r.splice(1,1,parseInt(n[1],10)),r.splice(2,1,parseInt(n[2],10)||0)),r}function Ye(){var e=Xe(g.userAgent);return e[0]==="SafariWebView"&&e[1]>=14}unction Qe(e,t,n,i){i===void 0&&(i=!1);var r=!a.enableForWebViews&&(_e()||Ye());return ze(e,t,n)&&!i&&!r&&!$e()}function qt(e){return"regexp:/"+e.source+"/"+(e.flags||"")}function se(e,t,n){return n===void 0&&(n=1),t instanceof Array?t.some(:t instanceof RegExp?t.test(e):n===2?e.toLowerCase()===t.toLowerCase():String.prototype.startsWith?e.toLowerCase().startsWith(t.toLowerCase()):e.toLowerCase().substring(0,t.length)===t.toLowerCase()}function Mt(e){return function(t){try{var n=new URL(t);return n.hash&&(n.hash=""),n.toString()}catch(r){var i=t.match(/([^#]+)#/);return i&&i[1]?i[1]:t}}(e))}function ce(e){var t,n;if(e.contentType&&!(e.contentType.indexOf(O.Document)>=0||e.contentType.indexOf(O.Navigate)>=0))return!1;var i=[];if(e.pathname){var r=((t=a.ruleSetConfig)===null||t===void 0?void 0:t.version)&&((n=a.ruleSetConfig)===null||n===void 0?void 0:n.version)>=2?location.pathname:""+location.pathname+location.search;i.push(se(r,e.pathname))}return e.host&&i.push(se(location.host,e.host)),e.url&&i.push(se(Mt(location.href),e.url)),!!i.length&&i.every(}function Ht(e){var t;(t=ke({type:"prewarm-fetch",data:e.filter(function(n){return function(i){try{return new URL(i,window.location.origin),!0}catch(r){return!1}}(typeof n=="string"?n:n.url)}).map(function(n){var i=typeof n!="string";return{url:i?n.url:n,contentType:i&&n.as||O.Navigate}})}))===null||t===void 0||t.catch(function(n){C(n,T.SNIPPET)})}function jt(e,t){var n,i,r,o,s,c,f,l=a.group,y=window.SpeedKit||{},d=y.navigateId||""+Y(32),h=oe(),u=t.userId,b=t.sessionId,N=t.sessionIndex,U=e.browser,W=e.browserVersion,K=e.minorVersion,p={navigationStart:h,testGroup:l,piId:d},S={userId:u,sessionId:b},m=(n=e.responseCause,i=!A().pageDisabled,(_()||Ie(n))&&i&&a.group!=="B"),w=new Pt(p,S,m),P=w.trackCustomEvent.bind(w),E=w.getTrackedData.bind(w),B={navigateId:d,userId:u,sessionId:b,sessionIndex:N,group:l,rumController:w,getTrackedData:E,track:P,subscribe:xt,bypassDeactivation:Ve,activate:Ut,deactivate:Kt,split:typeof a.split=="number"?a.group==="B"?Ge(a.split):a.split:1,updateDevice:Te,getHash:Ft,simulateOfflineMode:Gt,fetchBloomFilter:Je,updateCookies:ee,preload:Ht,disabled:!1,lastNavigate:e,readyState:q.Loading,splitTestId:a.splitTestId,controllingServiceWorker:Wt(),executionTime:Date.now(),swSupported:ze(U,W,K),skSupported:Qe(U,W,K),screenResolution:{width:window.screen.width*window.devicePixelRatio,height:window.screen.height*window.devicePixelRatio},pageTypeEnabled:(r=!a.enabledSites||a.enabledSites.some(function(R){return ce(R)}),o=!!a.disabledSites&&a.disabledSites.some(function(R){return ce(R)}),s=r&&!o,c=!a.whitelist||a.whitelist.some(function(R){return ce(R)}),f=!!a.blacklist&&a.blacklist.some(function(R){return ce(R)}),s&&c&&!f)};return Object.keys(y).forEach(,window.SpeedKit=B,w.initializePlugins(),window.SpeedKit}function Wt(){return g.serviceWorker&&g.serviceWorker.controller?g.serviceWorker.controller.scriptURL:null}function ue(e){if(typeof Storage!="undefined")try{localStorage.removeItem(e)}catch(t){}try{v.cookie=e+"=; expires="+new Date().toUTCString()+"; path=/; SameSite=lax; Secure"}catch(t){}}function Ze(e,t){if(t)return!0;var n=e.group,i=e.testId;return!(!i||i.indexOf("-debug")===-1)||n!=="A"}unction tt(e,t){var n=function(r,o){var s=o==="baqend-speedkit-secondary-config",c=function(l,y){var d=l.testId!=="undefined",h=l.group!=="undefined",u=y?a.secondaryTestId:a.splitTestId,b=d&&(N=l.testId,U=u,(N==null?void 0:N.replace("-debug",""))!==(U==null?void 0:U.replace("-debug",""))),N,U;if(h&&!b)return l.group;var W=y?a.secondaryGroup:a.group,K=y?a.secondarySplit:a.split;return function(p,S){return p===void 0?Math.random()<S?"A":"B":p}(W,K)}(r,s),f=s?a.secondaryTestId:a.splitTestId;return f&&(f=function(l){return et()?l.indexOf("-debug")>-1?l:l+"-debug":l.replace("-debug","")}(f)),{group:c,testId:f}}(e,t),i=t==="baqend-speedkit-secondary-config";return i?(a.secondaryGroup=n.group,a.secondaryTestId=n.testId):(a.group=n.group,a.splitTestId=n.testId),Ze(n,i?a.secondarySplit<1:a.split<1)?(function(r,o,s){c=s,f=encodeURIComponent(JSON.stringify(r)),l=encodeURIComponent(JSON.stringify(o)),l!==f&&l&&j(c,l);var c,f,l}(e,n,t),!0):(ue(t),!1)}function Vt(e,t,n,i){var r=window.location.href,o=Xe(g.userAgent),s=o[0],c=o[1],f=o[2],l=function(d,h,u,b,N,U){var W=Qe(d,h,u,b),K=a.group==="B"||a.secondaryGroup==="B";return W?!K&&_()?[L.Origin,I.Disabled]:!N||!a.sdnSetup&&V()?!K&&U?[L.Origin,I.GroupChange]:K?[L.Origin,I.NonSKGroup]:g[D].controller?[V()?L.AssetAPI:L.Origin,I.Unknown]:[L.Origin,I.NoSwInstalled]:[L.Origin,I.FirstLoad]:[L.Origin,I.SkUnsupported]}(s,c,f,e,t,n.group==="B"||i.group==="B"),y=l[0];return{url:r,browser:s,firstLoad:t,browserVersion:c,minorVersion:f,responseCause:l[1],responseSource:y,cdnBackendTime:null,cdnPoP:null,splitTestId:n.testId,group:a.split!==void 0?n.group:a.group,disconnectCause:Q.None}}function Ce(e,t,n){return e.put(""+t,new Response(null,{status:200,statusText:(i=n,JSON.stringify(i,)}));var i}function X(){var e=new URL(a.sw||"/sw.js",location.origin);return e.origin+e.pathname}function Jt(e){var t=function(n){var i=n;if(a.includeServiceWorker){var r=n.indexOf("?")>=0?"&":"?";i+=r+"othersw="+a.includeServiceWorker}return i}(a.sw);return g[D].register(t,{scope:a.scope||"/"}).then(function(n){var i;i=!1,v.addEventListener("visibilitychange",function(){v.visibilityState==="hidden"?i||(i=!0,ee("visibilitychange")):i=!1}),window.addEventListener("pagehide",;var r=X(),o=e.controllingServiceWorker;(!o||(r==null?void 0:r.split("?")[0])!==o.split("?")[0])&&function(s){ne(function(){window.setTimeout(function(){if(s.active&&typeof PerformanceResourceTiming!="undefined"){var c,f=(c=He(oe()).domContentLoadedEventEnd,window.performance.getEntriesByType?performance.getEntriesByType("resource").filter(function(l){if(c>0&&l.startTime+l.duration>c)return!1;var y;try{y=new URL(l.name)}catch(d){return!1}return(y==null?void 0:y.origin)!==window.location.origin}):[]).map(function(l){var y,d=l.name,h=l.initiatorType;return h==="link"&&(y=function(u){var b=v.querySelector('link[href="'+u+'"]');switch((b==null?void 0:b.getAttribute("rel"))||(b==null?void 0:b.getAttribute("as"))){case"audio":return O.Audio;case"document":return O.Document;case"fetch":return O.Fetch;case"image":return O.Image;case"script":return O.Script;case"stylesheet":case"style":return O.Style;case"track":return O.Track;case"video":return O.Video;default:return}}(d)),{initiatorType:h,contentType:y,url:d}});be(s.active,{type:"prewarm-fetch",data:f}).then(function(l){if(l.applicationState===re.FAILED)return function(y){return window.caches?caches.open(pe(F,a.scope)).then(function(d){var h=window.devicePixelRatio,u=window.screen.width,b=[[location.origin,v.cookie]];return Promise.all([Ce(d,"/com.baqend.speedkit.screen",{dpr:h,width:u}),Ce(d,"/com.baqend.speedkit.config",a),Ce(d,"/com.baqend.speedkit.cookie",{origins:b})])}).then(:Promise.resolve()}(s.active)})}},1e3)})}(n),function(s){s.navigationPreload&&function(c){if(c.active)return Promise.resolve(c.active);var f=c.waiting||c.installing;return new Promise(function(l){return f.onstatechange=function(){f.state==="activated"&&l(f)}})}(s).then(.catch(function(c){return C(c,T.SNIPPET)})}(n)})}function nt(e){v.readyState==="loading"?v.addEventListener("DOMContentLoaded",e):setTimeout(e,0)}function it(e){var t=G(e),n=e==="baqend-speedkit-secondary-config",i=n?a.secondarySplit:a.split,r=n?F+"-secondary-ab-test-info":F+"-ab-test-info";if(t)return rt(t);var o={group:"undefined",testId:"undefined"},s=G(r);return s&&(o=rt(s),ue(r),Ze(o,i!=null&&i<1)&&j(e,encodeURIComponent(JSON.stringify(o)))),o}function rt(e){try{return JSON.parse(decodeURIComponent(e))}catch(t){return{group:"undefined",testId:"undefined"}}}function zt(){var e,t,n=JSON.parse(H("baqend-speedkit-rum-split-enabled")||"{}"),i=!n.sessionId,r=n.sessionId===G(te);return{rumSplitEnabled:n&&n.sessionId?n.split!==!1:(t=Math.random()<((e=a.sampleRate)!==null&&e!==void 0?e:1),a.sampleRate&&ie("baqend-speedkit-rum-split-enabled",JSON.stringify({split:t,sessionId:G("baqend-speedkit-session-id")})),t),isActiveSession:i||r}}function _t(){if(!(!he()&&H("baqend-speedkit-rum-opt-out")!=="1"&&!window.deactivateSpeedKitRUM))return!1;var e=a.rumTracking;if(!e)return!1;if(a.sampleRate===void 0)return function(r){if(v.cookie=r+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure",typeof Storage!="undefined")try{localStorage.removeItem(r)}catch(o){}}("baqend-speedkit-rum-split-enabled"),e;var t=zt(),n=t.rumSplitEnabled,i=t.isActiveSession;return!(!n||!i)&&e}function ot(e){for(var t=0,n=v.cookie.replace(/\s/g,"").split(";").filter(;t<n.length;t++){var i=n[t],r=i.indexOf("="),o=r>-1?i.substr(0,r):i;v.cookie=o+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure"}}function Xt(e,t){if(e)return function(n,i){if(typeof Storage!="undefined")try{for(var r in localStorage)r.includes(n)&&!(i!=null&&i.includes(r))&&localStorage.removeItem(r)}catch(o){}}(F,["baqend-speedkit-sk-opt-out"]),void ot(F);t.noCookies&&ot(F),!t.noTracking&&!t.performanceOnly||a.sampleRate||[M,te,de,le].forEach(function(n){return ue(n)})}function at(e){e.readyState!==q.Prepared&&e.readyState!==q.Complete&&(e.readyState=q.Prepared,we("speed-kit-prepared",window))}function st(e){var t=e.active||e.installing||e.waiting;if(!t)return"";var n=new URL(t.scriptURL);return n.origin+n.pathname}((I||(I={})),Be||(Be={})),Fe||(Fe={})),Q||(Q={})),Z||(Z={})),function(e){e.AssetAPI="AssetAPI",e.Shield="Shield",e.Storage="Storage",e.Edge="Edge",e.Collapsed="Collapsed",e.PendingAsset="PendingAsset",e.Stream="Stream",e.MissingCachingHeader="MissingCachingHeader",e.Generated="Generated",e.Origin="Origin",e.SwCache="SwCache",e.SDN="SDN"}(L||(L={})),q||(q={})),re||(re={})),O||(O={}));try{(function(){if(!function(){var p;try{window.navigator.serviceWorker,v.cookie}catch(m){if(String(m.message)==="SecurityError"||String(m).indexOf("sandboxed")>=0)return!0}var S=(p=window.frameElement)===null||p===void 0?void 0:p.getAttribute("sandbox");return!!S&&S!=="false"}()&&!window[Oe]){window[Oe]=!0,window.addEventListener("speed-kit-completed",function(p){if(/speedKitStatus/.test(window.location.href)){var S=window.SpeedKit,m=S.group,w=S.lastNavigate,P=w.responseCause,E=w.responseSource;alert("\n     Group: "+m+"\n\n     Cause: "+P+"\n\n     Source: "+E)}});var e=window.location.href.match(/speed-kit-rum-opt-out=([01])/);e&&ie("baqend-speedkit-rum-opt-out",e[1]);var t=he();t&&(a.rumTracking=!1);var n=function(){if(G("baqend-speedkit-config")!==null||G(M)!==null)return!1;if(g.serviceWorker&&(a.split==null||a.split===1)){var p=X(),S=g.serviceWorker.controller;return!S||!dt(p,S)}return!0}(),i=function(){var p={group:"",testId:a.splitTestId};if(window.location.href.indexOf("disableSpeedKit=1")>=0?p.group="B":window.location.href.indexOf("enableSpeedKit=1")>=0&&(p.group="A"),p.group)return j("baqend-speedkit-config",encodeURIComponent(JSON.stringify(p))),p}()||it("baqend-speedkit-config"),r=it("baqend-speedkit-secondary-config"),o=function(p,S,m){var w=!1;if(m)return a.group="optOut",w;if(a.split==null){var P=p.testId==="undefined"&&p.group!=="undefined";a.group=P?p.group:"A"}else w=tt(p,"baqend-speedkit-config");if(et()&&(a.secondarySplit=null),a.secondarySplit!=null&&a.group==="A"){var E=tt(S,"baqend-speedkit-secondary-config");w=w||E}return w}(i,r,t),s=function(){var p,S=window.SpeedKit||{},m=S.userId,w=S.sessionId,P=S.sessionIndex,E=A(),B=!E.noTracking&&!E.performanceOnly;return S.sessionId||(w=(p=B?ve():["",0])[0],P=p[1]),S.userId||(m=B?Ue():""),{userInfo:{userId:m,sessionId:w,sessionIndex:P},persisted:je(m,w,P)}}(),c=s.userInfo,f=s.persisted,l=function(p,S){var m=G(M)===null&&G("baqend-speedkit-config")===null&&G("baqend-speedkit-secondary-config")===null;return m?m&&p?!0:S?!1:(j(M,"testDenied"),m=G(M)===null,ue(M),m):!1}(o&&f,t),y=g.userAgent.indexOf("Firefox/")>=0;(function(p,S){a.sw=a.sw||"/sw.js",a.split!=null&&a.group&&(a.sw=(m=a.sw,w="gr",P=a.group,E=m.indexOf("?")>-1?"&":"?",""+m+E+w+"="+P));var m,w,P,E;a.rumTracking=_t(),a.isControlGroup===void 0&&(a.isControlGroup=(B=a.group,R=a.secondaryGroup,B==="B"||B==="A"&&R==="B"));var B,R,Pe=!a.enableForWebViews&&(_e()||Ye());a.disabled=a.enabled===!1||a.disabled||a.group==="B"||a.secondaryGroup==="B"||Pe||$e()||p,a.appURL="https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1",a.customVariation&&a.customVariation.forEach(function(k){var J;k.variationFunction=typeof k.variationFunction=="function"?k.variationFunction.toString():k.variationFunction,k.rules=(J=k.rules)===null||J===void 0?void 0:J.map(function(Le){return Le.contentType?Le:Object.assign(Le,{contentType:[O.Document]})}),k.rules||(k.rules=[{contentType:[O.Document]}])}),a.urlTransform&&a.urlTransform.forEach(function(k){k.transformFunction=typeof k.transformFunction=="function"?k.transformFunction.toString():k.transformFunction}),a.image&&Array.isArray(a.image)&&a.image.forEach(function(k){var J;k.imageFunction=typeof k.imageFunction=="function"?(J=k.imageFunction)===null||J===void 0?void 0:J.toString():k.imageFunction}),lt("customDevice"),V()?a.detectDevice=null:lt("detectDevice"),Array.isArray(a.shouldDetectDevice)&&a.shouldDetectDevice.length>0?a.shouldDetectDevice=a.shouldDetectDevice.map(function(k){return k.contentType?k:Object.assign(k,{contentType:[O.Document]})}):a.shouldDetectDevice=[{contentType:[O.Document]}],(S||ye())&&(a.navigationPreload=!1)})(t,y);var d=function(p,S){var m=jt(p,S);return m.disabled=a.group!=="B"&&a.secondaryGroup!=="B"&&!!_(),g[D]&&g[D].controller||!V()||(m.lastNavigate.responseSource=L.SDN),m}(Vt(l,n,i,r),c),h=A();Xt(t,h),h.noTracking||l||d),Ie(d.lastNavigate.responseCause)||_()||(u=g.serviceWorker.register,Object.defineProperty(g.serviceWorker,"register",{configurable:!0,get:function(){return function(p,S){var m=X().split("/").pop();return m&&!p.includes(m)?g.serviceWorker.getRegistration():u.call(g.serviceWorker,p,S)}}}));var u;if(Ie(d.lastNavigate.responseCause)||(b=window.top!==window,location.protocol!=="https:"||!a.executeInIframe&&b))return at(d),void ae(d);var b,N=g[D].controller,U=function(p,S,m){if(!m)return!1;var w=X();return m.scriptURL&&!dt(w,m)?(function(P,E){return a.group==="B"||a.secondaryGroup==="B"||P.lastNavigate.group==="B"||!!_()||E}(p,S)||(p.lastNavigate.responseCause=I.OtherSwInstalled),!1):!0}(d,n,N);at(d),g.serviceWorker.getRegistrations().then(function(p){var S=X(),m=new URL(a.scope||"/",location.origin).toString();p.some(function(w){return w.scope===m&&st(w)===S})&&Se()===1&&p.length>0&&!g.serviceWorker.controller&&(SpeedKit.lastNavigate.responseCause=I.HardReload)}),U?function(p,S,m,w){w&&!v.referrer&&function(E){be(E,{type:"get-referrer-info",clientURL:location.href}).then(function(B){if(!v.referrer&&B.referrer)return Object.defineProperty(v,"referrer",{configurable:!0,get:)})}(m),Rt(m,p),ee("load"),P=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),P&&P.configurable&&Object.defineProperty(Document.prototype,"cookie",{configurable:!0,get:set:),function(E){g[D].addEventListener("message",function(B){var R=B.data,Pe=R.type,k=R.payload;Pe==="asset-response-timings"&&(E.lastNavigate=Object.assign(E.lastNavigate,k),z(E))})}(p),ye()&&)&&Je();var P}(d,0,N,y):ae(d);var W=function(){var p=window.location.href.indexOf("enableSpeedKit=1")>=0;return p&&(sessionStorage.setItem("enableSpeedKitParam","1"),Ve(!0)),p}();if(_()&&!W)return void Ee().catch(;if(!N)return Ne();K=!1,ne(function(){K||(K=!0,Ne())}),nt(function(){setTimeout(1e3)});var K}})()}catch(e){C(e,T.SNIPPET)}function Ne(){var e=!1;ct().catch(function(t){return!e&&C(t,T.SNIPPET),e=!0,ut().then(function(){return ct()})}).then(function(){return Jt(SpeedKit)}).catch(function(t){return function(n){return["The operation is insecure","A mutation operation was attempted on a database that did not allow mutations"].some(||n==="Rejected"}(me(t)?t.reason.message||JSON.stringify(t.reason):t.message)?(SpeedKit.lastNavigate.responseCause=I.SkUnsupported,z(SpeedKit),Ee()):(!e&&C(t,T.SNIPPET),e=!0,Ee())}).catch(function(t){!e&&C(t,T.SNIPPET),e=!0})}function ct(){var e=We(a.scope),t=new fe(e),n=window.devicePixelRatio,i=window.screen.width,r="ontouchend"in v,o=g.userAgent,s=a.customDevice,c=s?t.set("/com.baqend.speedkit.device",{device:s,userAgent:o}):Promise.resolve();return Promise.all([t.set("/com.baqend.speedkit.config",a),t.set("/com.baqend.speedkit.screen",{dpr:n,width:i,supportsTouch:r}),t.set("/com.baqend.speedkit.cookie",{origins:[[location.origin,v.cookie]]}),void 0,c]).then(function(){return t.disconnect()})}unction Ee(){var e=new URL(a.scope||"/",location.origin).toString(),t=X();return g[D].getRegistrations().then(function(n){return n.forEach(function(i){var r=st(i);i.scope===e&&r===t&&i.unregister()})}).catch(.then(}function ut(){return Promise.all([window.caches?caches.keys().then(function(t){var n=t.filter(function(i){return new RegExp("^"+pe(F,a.scope)+".*").test(i)});return Promise.all(n.map()}):Promise.resolve(),(e=new fe(a.scope),e.clear().then()]);var e}function dt(e,t){var n=t.scriptURL;if(!n)return!1;if(e===n.split("?")[0])return!0;var i=new URL(n).searchParams.get("othersw");return!!i&&e===i.split("?")[0]}function lt(e){if(a[e]){if(typeof a[e]!="function")return Te(a[e]);var t=a[e];a[e]=null,nt(function(){try{var n=e==="detectDevice"?v:void 0,i=t.call(null,n);Promise.resolve(i).then(function(r){r&&typeof r=="string"&&Te(r)}).catch(}catch(r){C(r,T.CONFIG)}})}}})(document,navigator,"serviceWorker",typeof speedKit!="undefined"?speedKit:config,"SNIPPET_LOADED");})();