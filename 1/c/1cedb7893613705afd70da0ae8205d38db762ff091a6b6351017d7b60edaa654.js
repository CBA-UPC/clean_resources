!function(){var define;return {1:[{"./manager":2,"./socket":4,"./url":5,debug:14,"socket.io-parser":40}],2:[{"./on":3,"./socket":4,backo2:8,"component-bind":11,"component-emitter":12,debug:14,"engine.io-client":16,indexof:32,"socket.io-parser":40}],3:[{}],4:[{"./on":3,"component-bind":11,"component-emitter":12,debug:14,"has-binary":30,"socket.io-parser":40,"to-array":43}],5:[function(_dereq_,module,exports){(function(global){function url(uri,loc){var obj=uri,loc=loc||global.location;null==uri&&(uri=loc.protocol+"//"+loc.host),"string"==typeof uri&&("/"==uri.charAt(0)&&(uri="/"==uri.charAt(1)?loc.protocol+uri:loc.host+uri),/^(https?|wss?):\/\//.test(uri)||(debug("protocol-less url %s",uri),uri="undefined"!=typeof loc?loc.protocol+"//"+uri:"https://"+uri),debug("parse %s",uri),obj=parseuri(uri)),obj.port||(/^(http|ws)$/.test(obj.protocol)?obj.port="80":/^(http|ws)s$/.test(obj.protocol)&&(obj.port="443")),obj.path=obj.path||"/";var ipv6=obj.host.indexOf(":")!==-1,host=ipv6?"["+obj.host+"]":obj.host;return obj.id=obj.protocol+"://"+host+":"+obj.port,obj.href=obj.protocol+"://"+host+(loc&&loc.port==obj.port?"":":"+obj.port),obj}var parseuri=_dereq_("parseuri"),debug=_dereq_("debug")("socket.io-client:url");module.exports=url}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:14,parseuri:38}],6:[{}],7:[{}],8:[{}],9:[function(_dereq_,module,exports){!)},{}],10:[{}],11:[{}],12:[{}],13:[{}],14:[{"./debug":15}],15:[function(_dereq_,module,exports){unction debug(namespace){function disabled(){}function enabled(){var self=enabled,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,null==self.useColors&&(self.useColors=exports.useColors()),null==self.color&&self.useColors&&(self.color=selectColor());var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&(args=["%o"].concat(args));var index=0;args[0]=args[0].replace(/%([a-z%])/g,,"function"==typeof exports.formatArgs&&(args=exports.formatArgs.apply(self,args));var logFn=enabled.log||exports.log||void 0;logFn.apply(self,args)}disabled.enabled=!1,enabled.enabled=!0;var fn=exports.enabled(namespace)?enabled:disabled;return fn.namespace=namespace,fn}rts=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=_dereq_("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime,prevColor=0},{ms:35}],16:[{"./lib/":17}],17:[{"./socket":18,"engine.io-parser":27}],18:[function(_dereq_,module,exports){(function(global){r transports=_dereq_("./transports"),Emitter=_dereq_("component-emitter"),debug=_dereq_("debug")("engine.io-client:socket"),index=_dereq_("indexof"),parser=_dereq_("engine.io-parser"),parseuri=_dereq_("parseuri"),parsejson=_dereq_("parsejson"),parseqs=_dereq_("parseqs");module.exports=Socket,Socket.priorWebsocketSuccess=!1,Emitter(Socket.prototype),Socket.protocol=parser.protocol,Socket.Socket=Socket,Socket.Transport=_dereq_("./transport"),Socket.transports=_dereq_("./transports"),Socket.parser=_dereq_("engine.io-parser"),Socket.prototype.createTransport=Socket.prototype.open=function(){var transport;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)transport="websocket";else{if(0===this.transports.length){var self=this;return void setTimeout(0)}transport=this.transports[0]}this.readyState="opening";try{transport=this.createTransport(transport)}catch(e){return this.transports.shift(),void this.open()}transport.open(),this.setTransport(transport)},Socket.prototype.setTransport=Socket.prototype.probe=Socket.prototype.onOpen=Socket.prototype.onPacket=Socket.prototype.onHandshake=Socket.prototype.onHeartbeat=Socket.prototype.setPing=Socket.prototype.ping=Socket.prototype.onDrain=Socket.prototype.flush=Socket.prototype.write=Socket.prototype.send=Socket.prototype.sendPacket=Socket.prototype.close=Socket.prototype.onError=Socket.prototype.onClose=Socket.prototype.filterUpgrades=).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":19,"./transports":20,"component-emitter":26,debug:14,"engine.io-parser":27,indexof:32,parsejson:36,parseqs:37,parseuri:38}],19:[{"component-emitter":26,"engine.io-parser":27}],20:[{"./polling-jsonp":21,"./polling-xhr":22,"./websocket":24,"xmlhttprequest-ssl":25}],21:[{"./polling":23,"component-inherit":13}],22:[function(_dereq_,module,exports){(function(global){function empty(){} XMLHttpRequest=_dereq_("xmlhttprequest-ssl"),Polling=_dereq_("./polling"),Emitter=_dereq_("component-emitter"),inherit=_dereq_("component-inherit"),debug=_dereq_("debug")("engine.io-client:polling-xhr");module.exports=XHR,module.exports.Request=Request,inherit(XHR,Polling),XHR.prototype.supportsBinary=!0,XHR.prototype.request=XHR.prototype.doWrite=XHR.prototype.doPoll=Emitter(Request.prototype),Request.prototype.create=Request.prototype.onSuccess=Request.prototype.onData=Request.prototype.onError=Request.prototype.cleanup=Request.prototype.onLoad=Request.prototype.hasXDR=Request.prototype.abort=function(){this.cleanup()},global.document&&(Request.requestsCount=0,Request.requests={},global.attachEvent?global.attachEvent("onunload",unloadHandler):global.addEventListener&&global.addEventListener("beforeunload",unloadHandler,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":23,"component-emitter":26,"component-inherit":13,debug:14,"xmlhttprequest-ssl":25}],23:[function(_dereq_,module,exports){ar Transport=_dereq_("../transport"),parseqs=_dereq_("parseqs"),parser=_dereq_("engine.io-parser"),inherit=_dereq_("component-inherit"),yeast=_dereq_("yeast"),debug=_dereq_("debug")("engine.io-client:polling");module.exports=Polling;var hasXHR2=);inherit(Polling,Transport),Polling.prototype.name="polling",Polling.prototype.doOpen=Polling.prototype.pause=Polling.prototype.poll=Polling.prototype.onData=Polling.prototype.doClose=Polling.prototype.write=Polling.prototype.uri=function(){var query=this.query||{},schema=this.secure?"https":"http",port="";!1!==this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||query.sid||(query.b64=1),query=parseqs.encode(query),this.port&&("https"==schema&&443!=this.port||"http"==schema&&80!=this.port)&&(port=":"+this.port),query.length&&(query="?"+query);var ipv6=this.hostname.indexOf(":")!==-1;return schema+"://"+(ipv6?"["+this.hostname+"]":this.hostname)+port+this.path+query}},{"../transport":19,"component-inherit":13,debug:14,"engine.io-parser":27,parseqs:37,"xmlhttprequest-ssl":25,yeast:45}],24:[function(_dereq_,module,exports){(function(global){ar Transport=_dereq_("../transport"),parser=_dereq_("engine.io-parser"),parseqs=_dereq_("parseqs"),inherit=_dereq_("component-inherit"),yeast=_dereq_("yeast"),debug=_dereq_("debug")("engine.io-client:websocket"),BrowserWebSocket=global.WebSocket||global.MozWebSocket,WebSocket=BrowserWebSocket;if(!WebSocket&&"undefined"==typeof window)try{WebSocket=_dereq_("ws")}catch(e){}module.exports=WS,inherit(WS,Transport),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=WS.prototype.addEventListeners="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(WS.prototype.onData=,WS.prototype.write=function(packets){ar self=this;this.writable=!1;for(var total=packets.length,i=0,l=total;i<l;i++)!packets[i])},WS.prototype.onClose=WS.prototype.doClose=WS.prototype.uri=function(){var query=this.query||{},schema=this.secure?"wss":"ws",port="";this.port&&("wss"==schema&&443!=this.port||"ws"==schema&&80!=this.port)&&(port=":"+this.port),this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||(query.b64=1),query=parseqs.encode(query),query.length&&(query="?"+query);var ipv6=this.hostname.indexOf(":")!==-1;return schema+"://"+(ipv6?"["+this.hostname+"]":this.hostname)+port+this.path+query},WS.prototype.check=).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":19,"component-inherit":13,debug:14,"engine.io-parser":27,parseqs:37,ws:void 0,yeast:45}],25:[{"has-cors":31}],26:[function(_dereq_,module,exports){dule.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=Emitter.prototype.once=Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=Emitter.prototype.emit=Emitter.prototype.listeners=Emitter.prototype.hasListeners=,{}],27:[function(_dereq_,module,exports){(function(global){eys=_dereq_("./keys"),hasBinary=_dereq_("has-binary"),sliceBuffer=_dereq_("arraybuffer.slice"),base64encoder=_dereq_("base64-arraybuffer"),after=_dereq_("after"),utf8=_dereq_("utf8"),isAndroid=navigator.userAgent.match(/Android/i),isPhantomJS=/PhantomJS/i.test(navigator.userAgent),dontSendBlobs=isAndroid||isPhantomJS;exports.protocol=3;var packets=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},packetslist=keys(packets),err={type:"error",data:"parser error"},Blob=_dereq_("blob");exports.encodePacket=exports.encodeBase64Packet=exports.decodePacket=exports.decodeBase64Packet=exports.encodePayload=exports.decodePayload=exports.encodePayloadAsArrayBuffer=exports.encodePayloadAsBlob=exports.decodePayloadAsBinary=).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":28,after:6,"arraybuffer.slice":7,"base64-arraybuffer":9,blob:10,"has-binary":29,utf8:44}],28:[{}],29:[{isarray:33}],30:[{isarray:33}],31:[{}],32:[{}],33:[{}],34:[function(_dereq_,module,exports){(function(global){(function(){ar isLoader="function"==typeof define&&define.amd,objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,root=objectTypes[typeof window]&&window||this,freeGlobal=freeExports&&objectTypes[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal),freeExports&&!isLoader)runInContext(root,freeExports);else{var nativeJSON=root.JSON,previousJSON=root.JSON3,isRestored=!1,JSON3=runInContext(root,root.JSON3={noConflict:);root.JSON={parse:JSON3.parse,stringify:JSON3.stringify}}isLoader&&define(function(){return JSON3})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],35:[function(_dereq_,module,exports){s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=,{}],36:[{}],37:[{}],38:[function(_dereq_,module,exports){var re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=,{}],39:[{"./is-buffer":41,isarray:33}],40:[{"./binary":39,"./is-buffer":41,"component-emitter":42,debug:14,isarray:33,json3:34}],41:[{}],42:[{dup:26}],43:[{}],44:[function(_dereq_,module,exports){(function(global){!function(root){n decodeSymbol(){var byte1,byte2,byte3,byte4,codePoint;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(byte1=255&byteArray[byteIndex],byteIndex++,0==(128&byte1))return byte1;if(192==(224&byte1)){var byte2=readContinuationByte();if(codePoint=(31&byte1)<<6|byte2,codePoint>=128)return codePoint;throw Error("Invalid continuation byte")}if(224==(240&byte1)){if(byte2=readContinuationByte(),byte3=readContinuationByte(),codePoint=(15&byte1)<<12|byte2<<6|byte3,codePoint>=2048)return checkScalarValue(codePoint),codePoint;throw Error("Invalid continuation byte")}if(240==(248&byte1)&&(byte2=readContinuationByte(),byte3=readContinuationByte(),byte4=readContinuationByte(),codePoint=(15&byte1)<<18|byte2<<12|byte3<<6|byte4,codePoint>=65536&&codePoint<=1114111))return codePoint;throw Error("Invalid UTF-8 detected")}ar freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var byteArray,byteCount,byteIndex,stringFromCharCode=String.fromCharCode,utf8={version:"2.0.0",encode:utf8encode,decode:utf8decode};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(;else if(freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=utf8;else{var object={},hasOwnProperty=object.hasOwnProperty;for(var key in utf8)hasOwnProperty.call(utf8,key)&&(freeExports[key]=utf8[key])}else root.utf8=utf8}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],45:[function(_dereq_,module,exports){"use strict";(var prev,alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed=0,i=0;i<length;i++)map[alphabet[i]]=i;yeast.encode=encode,yeast.decode=decode,module.exports=yeast},{}]},{},[1])(1)}),function(){var __beusablerum__={_info:{socket:null,option:{socketServer:"//rum.beusable.net/",socketNamespace:"tracking",eventDisabled:{click:!1,move:!1,scroll:!1,resize:!1,over:!1},moveEventInterval:20,moveEventTimeInterval:500,moveEventCount:-1,overEventTimeInterval:200,touchmoveEventInterval:20,touchmoveEventTimeInterval:500,touchmoveEventCount:-1,scrollEventInterval:20,scrollEventTimeInterval:1e3,scrollEventCount:-1,touchscrollEnd:!1},_testing:!1,_lastEventTime:(new Date).getTime(),_lastMouseOverTimer:null,_lastMouseOverData:null,_sessionExpireTime:18e5,_disconnectTimer:null,_contentSearchTimer:1,_contentSendHistory:[],_contentSearch:function(){try{var _s=__beusablerum__;if(_s._clientInfo.bAB)return!1;for(var nodes=document.querySelectorAll("body *"),exposedNodes=[],i=0,iLen=nodes.length;i<iLen;i++){var node=nodes[i];if(!node.beusablyExposed&&("A"==node.tagName||"AREA"==node.tagName||"INPUT"==node.tagName||"SELECT"==node.tagName||"BUTTON"==node.tagName||null!==node.getAttribute("onclick")||null!==node.getAttribute("data-omni-type")||null!==node.getAttribute("data-beusable-tracking"))&&_s._isVisible(node)){var selector=_s._getQuerySelector(node,!0);_s._info._contentSendHistory.indexOf(selector)>-1||(_s._info._contentSendHistory.push(selector),node.beusablyExposed=!0,exposedNodes.push(selector))}}if(exposedNodes.length>0){var _socket=_s._info.socket;_socket.emit("__beusablerumclient___exposed_nodes",exposedNodes)}}catch(e){}_s._info._contentSearchTimer&&(_s._info._contentSearchTimer=setTimeout(_s._info._contentSearch,1e3))},_disconnected:!1,_urlParamNames:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],_mobileGesture:{last_1TouchStart:null,last_1TouchMove:!1,last_1TouchEnd:null,lastTouchStart:null,lastTouchMove:!1,lastTouchMoveStart:null,lastTouchPinchStart:null,lastTouchPinchEnd:null,lastTouchMovePosition:null,lastTouchEnd:null,touchCopy:function(obj){
return{time:new Date(obj.time),dom:obj.dom,clientX:obj.clientX,clientY:obj.clientY}},getTouchEvent:function(touch,iframe){if(touch.dom){var mobileOffsetX=touch.clientX-touch.dom.getBoundingClientRect().left,mobileOffsetY=touch.clientY-touch.dom.getBoundingClientRect().top;mobileOffsetX=Math.round(mobileOffsetX),mobileOffsetY=Math.round(mobileOffsetY);var mobileOffsetXY=mobileOffsetX+"_"+mobileOffsetY;if(mobileOffsetX<0||mobileOffsetY<0)return null;var querySelector=__beusablerum__._getQuerySelector(touch.dom),mobileEventData={xpath:iframe?iframe+" > "+querySelector:querySelector,offsetXY:mobileOffsetXY};return mobileEventData}return null},getDistance:getMultiTouchEvent:function(touch,iframe){if(touch.dom0&&touch.dom1){var centerOffsetX=Math.round((touch.client0X+touch.client1X)/2),centerOffsetY=Math.round((touch.client0Y+touch.client1Y)/2),centerDOM=document.elementFromPoint(centerOffsetX,centerOffsetY);if(!centerDOM)return null;var offsetX=centerOffsetX-centerDOM.getBoundingClientRect().left,offsetY=centerOffsetY-centerDOM.getBoundingClientRect().top,offsetXY=Math.round(offsetX)+"_"+Math.round(offsetY);if(offsetX<0||offsetY<0)return null;var querySelector=__beusablerum__._getClickElementInfo(centerDOM).xpath,multiTouchEventData={xpath:iframe?iframe+" > "+querySelector:querySelector,offsetXY:offsetXY};return multiTouchEventData}return null}}},_setClientInfo:function(d,w){this._clientInfo={userId:null,sid:null,url:w.location.origin+w.location.pathname+w.location.search+w.location.hash||null,urlHost:w.location.host||null,urlPathname:w.location.pathname||null,referUrl:d.referrer||null,connectTime:null,agent:navigator.userAgent||null,device:__beusablerumclient__.device||null,code_v:__beusablerumclient__._code_v||1,screenInfo:{screenSize:{width:w.screen.width||null,height:w.screen.height||null},docSize:{width:d.body?d.body.clientWidth||null:d.documentElement.clientWidth,height:d.body?d.body.clientHeight||null:d.documentElement.clientHeight},viewPort:{width:w.innerWidth||d.documentElement.clientWidth||d.documentElement.clientWidth,height:w.innerHeight||d.documentElement.clientHeight||d.documentElement.clientHeight},pixelDepth:w.screen.pixelDepth||null,docHeight:Math.max(d.body.scrollHeight,d.documentElement.scrollHeight,d.body.offsetHeight,d.documentElement.offsetHeight,d.body.clientHeight,d.documentElement.clientHeight),scrollHeight:"CSS1Compat"==d.compatMode?d.documentElement.scrollHeight:d.body.scrollHeight,orientation:w.orientation},params:{},utid:null,utssid:null,bAB:!1,abVar:0,existing:!0};for(var i=0;i<this._info._urlParamNames.length;i++){var paramKey=this._info._urlParamNames[i],paramValue=this._getUrlParam(paramKey);paramValue&&"__null__"!==paramValue||(paramValue=this._cookie.getItem("_beu_"+paramKey)),paramValue||(paramValue="__null__");var expire=new Date;expire.setMinutes(expire.getMinutes()+30),this._cookie.setItem("_beu_"+paramKey,paramValue,expire,"/",null,!1),this._clientInfo.params[paramKey]=paramValue}if(this._clientInfo.referUrl&&this._clientInfo.referUrl.indexOf("go-ut.beusable.net")>-1){var ut_refer_split=this._clientInfo.referUrl.split("/"),ut_domain_split=ut_refer_split&&ut_refer_split.length>3?ut_refer_split[2].split("."):null,ut_id_split=ut_domain_split&&ut_domain_split.length>3?ut_domain_split[0].split("."):null,ut_split=ut_id_split?ut_id_split[0].split("-"):null;if(ut_split&&2===ut_split.length){this._clientInfo.utid=ut_split[0],this._clientInfo.utssid=ut_split[1];var expire=new Date;expire.setMinutes(expire.getMinutes()+30),this._cookie.setItem("_beu_utid",this._clientInfo.utid,expire,"/",null,!1),this._cookie.setItem("_beu_utssid",this._clientInfo.utssid,expire,"/",null,!1)}}else if(this._clientInfo.utid=this._cookie.getItem("_beu_utid")||null,this._clientInfo.utssid=this._cookie.getItem("_beu_utssid")||null,this._clientInfo.utid&&this._clientInfo.utssid){var expire=new Date;expire.setMinutes(expire.getMinutes()+30),this._cookie.setItem("_beu_utid",this._clientInfo.utid,expire,"/",null,!1),this._cookie.setItem("_beu_utssid",this._clientInfo.utssid,expire,"/",null,!1)}},_clientInfo:{},_getUrlParam:function(name){var results=new RegExp("[?&#]"+name+"=([^&#]*)").exec(window.location.href),decodedString="__blank__";if(null==results)return"__null__";try{decodedString=decodeURI(results[1])}catch(e){}return decodedString},_uuid_v4:function(){for(var text="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<7;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));var rand=Math.random().toString().slice(2,4);return text+rand},_cookie:{getItem:setItem:removeItem:hasItem:keys:,_localStorage:{getUid:function(path){if(!window.localStorage||"function"!=typeof window.localStorage.getItem)return!1;var uids=localStorage.getItem("_rtetUserId");if(!uids)return!1;try{uids=JSON.parse(uids);for(var i=0,iLen=uids.length;i<iLen;i++)if(uids[i].path==path)return uids[i].uid;return!1}catch(e){return!1}},setUid:function(path,uid){if(!window.localStorage||"function"!=typeof window.localStorage.getItem)return!1;var uids=localStorage.getItem("_rtetUserId");if(uids)try{uids=JSON.parse(uids),uids.length>=1e3&&(uids=uids.slice(1,uids.length))}catch(e){uids=[]}else uids=[];uids.push({path:path,uid:uid}),localStorage.setItem("_rtetUserId",JSON.stringify(uids))}},_getFullQuerySelector:function(elem){for(var names=[],el=elem;1==elem.nodeType&&el.parentNode;){var pTagName=el.parentNode.tagName;if("A"!=pTagName&&"AREA"!=pTagName&&"SELECT"!=pTagName&&"INPUT"!=pTagName&&"BUTTON"!=pTagName||elem.__parentNode__||(elem.__parentNode__=el.parentNode),el.id)names.unshift(el.tagName+"#"+el.id);else if(el.getAttribute("class"))if("HTML"!=el.tagName&&"BODY"!=el.tagName){for(var classlist=el.getAttribute("class").split(" "),class_name=el.tagName,i=0,iLen=classlist.length;i<iLen;i++){var class_sub=classlist[i].replace(/(^\s*)|(\s*$)/gi,"");""!=class_sub&&(0==i?class_name+="."+class_sub:class_sub&&" "!=class_sub&&(class_name+="."+class_sub))}for(var c=1,e=el;e.previousElementSibling;e=e.previousElementSibling,c++);names.unshift(class_name+":nth-child("+c+")")}else names.unshift(el.tagName);else if(el==el.ownerDocument.documentElement)names.unshift(el.tagName);else{for(var c=1,e=el;e.previousElementSibling;e=e.previousElementSibling,c++);names.unshift(el.tagName+":nth-child("+c+")")}el=el.parentNode}return names.join(" > ")},_getQuerySelector:function(elem,reduced){var names=[],done=!1,selector=null;"undefined"==typeof reduced&&(reduced=!1);for(var el=elem;el.parentNode;){var pTagName=el.parentNode.tagName;if("A"!=pTagName&&"AREA"!=pTagName&&"SELECT"!=pTagName&&"INPUT"!=pTagName&&"BUTTON"!=pTagName||elem.__parentNode__||(elem.__parentNode__=el.parentNode),el.getAttribute("id")&&!done)names.unshift(el.tagName+"#"+el.getAttribute("id")),done=!0;else if(!done)if(el==el.ownerDocument.documentElement)names.unshift(el.tagName);else{for(var c=1,e=el;e.previousElementSibling;e=e.previousElementSibling,c++);reduced?names.unshift(el.tagName+"("+c+")"):names.unshift(el.tagName+":nth-child("+c+")")}el=el.parentNode}return selector=reduced?"~"+names.join("|"):names.join(" > ")},_sendData:function(data){var _br=__beusablerum__,_socket=_br._info.socket,_userId=_br._clientInfo.userId,_sessId=_br._clientInfo.sessId,sendData={mouseEvent:data,userId:_userId,sessId:_sessId};_socket.emit("__beusablerumclient___evt_tracking",sendData)},_push:function(state,data){var _br=__beusablerum__,_info=_br._info,_socket=_info.socket;switch(state){case"init":_socket.emit("__beusablerumclient___evt_tracking",{clientInfo:data});break;case"reconnect":_socket.emit("__beusablerumclient___reconnect",{clientInfo:data});break;case"click":_info.option.moveEventCount=0,_br._sendData(data);break;case"mousemove":if(_info.option.moveEventCount==_info.option.moveEventInterval){var nowTimestamp=(new Date).getTime();_info._lastEventTime+_info.option.moveEventTimeInterval<nowTimestamp&&(_br._sendData(data),_info._lastEventTime=nowTimestamp),_info.option.moveEventCount=0}_info.option.moveEventCount++;break;case"mouseover":_info._lastMouseOverData=data,_info._lastMouseOverTimer&&clearTimeout(_info._lastMouseOverTimer),_info._lastMouseOverTimer=setTimeout(function(){__beusablerum__._sendData(__beusablerum__._info._lastMouseOverData),__beusablerum__._info._lastMouseOverTimer=null,__beusablerum__._info._lastMouseOverData=null},_info.option.overEventTimeInterval);break;case"touchend":_info.option.touchmoveEventCount=0,0==_info.option.touchscrollEnd?_br._sendData(data):1==_info.option.touchscrollEnd&&(_info.option.touchscrollEnd=!1);break;case"touchmove":if(_info.option.touchmoveEventCount==_info.option.touchmoveEventInterval){var nowTimestamp=(new Date).getTime();_info._lastEventTime+_info.option.touchmoveEventTimeInterval<nowTimestamp&&(_br._sendData(data),_info._lastEventTime=nowTimestamp),_info.option.touchmoveEventCount=0}_info.option.touchscrollEnd=!0,_info.option.touchmoveEventCount++;break;case"scroll":if(_info.option.scrollEventCount==_info.option.scrollEventInterval){var nowTimestamp=(new Date).getTime();_info._lastEventTime+_info.option.scrollEventTimeInterval<nowTimestamp&&(data.eventData.docHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),_br._sendData(data),_info._lastEventTime=nowTimestamp),_info.option.scrollEventCount=0}_info.option.touchscrollEnd=!0,_info.option.scrollEventCount++;break;default:_info.option.touchscrollEnd=!1,_info.option.moveEventCount=0,_br._sendData(data)}},_changeText:function(value){try{for(var newText="",length=value.length,i=0;i<length;i++){var item=value.charAt(i),changeItem=" "!=item?"X":item;newText+=changeItem}return newText}catch(e){}},_replaceTextNodes:function(node){try{var _br=__beusablerum__;if(node&&"STYLE"!=node.tagName)for(var targetNode=node.childNodes,length=targetNode.length,i=0;i<length;i++){var el=targetNode[i];if(3===el.nodeType)""!==el.nodeValue.trim()&&"STYLE"!=el.parentNode.tagName&&"SCRIPT"!=el.parentNode.tagName&&(el.nodeValue=_br._changeText(el.nodeValue));else if("INPUT"==el.tagName){var value=el.getAttribute("value");value&&el.setAttribute("value",_br._changeText(value));var placeholder=el.getAttribute("placeholder");placeholder&&el.setAttribute("placeholder",_br._changeText(placeholder))}else _br._replaceTextNodes(el)}}catch(e){}},_getPageDocType:function(){try{return null===document.doctype?"":"<!DOCTYPE "+document.doctype.name+(document.doctype.publicId?' PUBLIC "'+document.doctype.publicId+'"':"")+(!document.doctype.publicId&&document.doctype.systemId?" SYSTEM":"")+(document.doctype.systemId?' "'+document.doctype.systemId+'"':"")+">\n"}catch(e){}},_getPageContent:function(){try{var _br=__beusablerum__,doc=document,clone=doc.cloneNode(!0),headIframe=clone.querySelectorAll("head iframe"),url=doc.getElementsByTagName("base").length<=0?location.origin:doc.getElementsByTagName("base")[0].href;if(headIframe.length>0)for(var i=0,iLen=headIframe.length;i<iLen;i++){var item=headIframe[i];item.parentNode.removeChild(item)}if(clone.getElementsByTagName("base").length<=0){var baseElem=clone.createElement("base");baseElem.href=url,clone.getElementsByTagName("head")[0].insertBefore(baseElem,clone.getElementsByTagName("head")[0].firstChild)}if(Array.prototype.slice.call(clone.getElementsByTagName("img")).forEach(function(a){a.setAttribute("src",a.src),a.srcset&&a.removeAttribute("srcset")}),Array.prototype.slice.call(clone.getElementsByTagName("source")).forEach(function(a){a.attributes.srcset&&a.removeAttribute("srcset")}),Array.prototype.slice.call(clone.getElementsByTagName("iframe")).forEach(function(a){a.setAttribute("src",a.src)}),Array.prototype.slice.call(clone.getElementsByTagName("link")).forEach(,Array.prototype.slice.call(clone.getElementsByTagName("script")).forEach(function(a){""!=a.src&&(a.src.indexOf("rum.beusable.net")==-1?a.setAttribute("src",a.src):(a.removeAttribute("src"),a.setAttribute("class","rum__script")));var textContent=a.textContent;textContent.indexOf("__beusablerumclient__.init()")>-1&&(a.textContent=textContent.replace("__beusablerumclient__.init()","")),textContent.indexOf("w.__beusablerumclient__.load(a)")>-1&&(a.textContent=textContent.replace("w.__beusablerumclient__.load(a)",""))}),Array.prototype.slice.call(clone.getElementsByTagName("meta")).forEach(function(a){var name=a.name;"referrer"==name&&a.setAttribute("content","unsafe-url")}),clone.querySelectorAll("meta[name=referrer]").length<=0){var metaElem=clone.createElement("meta");metaElem.name="referrer",metaElem.content="unsafe-url",clone.getElementsByTagName("head")[0].insertBefore(metaElem,clone.getElementsByTagName("head")[0].firstChild)}return _br._replaceTextNodes(clone.documentElement),this._getPageDocType()+clone.documentElement.outerHTML}catch(e){}},_addEvent:function(doc,win,iframeXpath){try{var _s=__beusablerum__,callback=null;callback=iframeXpath?_s._getMEvent;var oldIE=!win.addEventListener,elDoc=null;oldIE?(elDoc=!!doc.attachEvent,elDoc?(doc.attachEvent("onmousemove",callback),doc.attachEvent("onclick",callback),doc.attachEvent("onfocus",callback),doc.attachEvent("onmouseover",callback)):(doc.body.attachEvent("onmousemove",callback),doc.body.attachEvent("onclick",callback),doc.body.attachEvent("onfocus",callback),doc.body.attachEvent("onmouseover",callback)),iframeXpath||win.attachEvent("onscroll",callback)):(elDoc=!!doc.addEventListener,elDoc?"ontouchstart"in window?(doc.addEventListener("touchstart",callback,!0),doc.addEventListener("touchmove",callback,!0),doc.addEventListener("touchend",callback,!0)):(doc.addEventListener("mousemove",callback,!0),doc.addEventListener("click",callback,!0),doc.addEventListener("focus",callback,!0),doc.addEventListener("mouseover",callback,!0)):"ontouchstart"in window?(win.addEventListener("touchstart",callback,!0),win.addEventListener("touchmove",callback,!0),win.addEventListener("touchend",callback,!0)):(win.addEventListener("mousemove",callback,!0),win.addEventListener("click",callback,!0),win.addEventListener("focus",callback,!0),win.addEventListener("mouseover",callback,!0)),iframeXpath||(win.addEventListener("visibilitychange",_s._getViChange,!0),win.addEventListener("scroll",callback,!0)))}catch(e){}},_start:function(io){try{if(!window.__beusablechecker__){window.__beusablechecker__=!0,window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var _s=__beusablerum__;_s._setClientInfo(document,window),window.location.origin||(_s._clientInfo.url=window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search+window.location.hash),__beusablerumclient__.isSPA===!0&&_s._cookie.hasItem("_rtetUrl")&&(_s._clientInfo.referUrl=_s._cookie.getItem("_rtetUrl"));var _info=_s._info,_uuid=null,_sessid=null,_pageSeq=0,ioOption={transports:["websocket","polling"]},oldIE=!1;try{var ua=window.navigator.userAgent;(ua.indexOf("MSIE 6.0")>0||ua.indexOf("MSIE 7.0")>0||ua.indexOf("MSIE 8.0")>0||ua.indexOf("MSIE 9.0")>0)&&(oldIE=!0,ioOption={transports:["polling"]})}catch(e_useragent){}_s._clientInfo.sid=__beusablerumclient__.sid,_s._clientInfo.samplingRate=__beusablerumclient__.samplingRate;var now=new Date,expire=new Date,now_minutes=now.getMinutes()+30;if(expire.setMinutes(now_minutes),_s._cookie.hasItem("_rtetSessId")?(_sessid=_s._cookie.getItem("_rtetSessId"),_pageSeq=_s._cookie.getItem("_rtetSessPageSeq"),_pageSeq++):_sessid=_s._uuid_v4(),_s._cookie.setItem("_rtetUrl",_s._clientInfo.url,expire,"/",null,!1),_s._cookie.setItem("_rtetSessId",_sessid,expire,"/",null,!1),_s._cookie.setItem("_rtetSessPageSeq",_pageSeq,expire,"/",null,!1),9===_sessid.length&&parseInt(_sessid.substr(7,2))>=_s._clientInfo.samplingRate)return!1;if(_info.socket=io.connect(_info.option.socketServer+_info.option.socketNamespace,ioOption),_info.socket.on("reconnect",,oldIE||(_s._addEvent(document,window,!1),setTimeout(1e3)),_s._cookie.hasItem("_rtet_apply")&&(_s._clientInfo.apply_id=_s._cookie.getItem("_rtet_apply")),_s._localStorage.getUid(location.pathname+location.search+location.hash)){_uuid=_s._localStorage.getUid(location.pathname+location.search+location.hash);var referrer=document.referrer;if(_s._clientInfo.existing=!0,_s._cookie.hasItem("_rtet_t_b")){var bT=_s._cookie.getItem("_rtet_t_b");if(1==bT){_s._clientInfo.bAB=!0;var variation=_s._cookie.getItem("_rtet_t_v");_s._clientInfo.abVar=variation,__beusablerumclient__._t_b=bT,__beusablerumclient__._t_v=variation}else _s._clientInfo.bAB=!1,_s._clientInfo.abVar=0}else _s._clientInfo.bAB=!1,_s._clientInfo.abVar=0;__beusablerumclient__._abtesting&&referrer==__beusablerumclient__._abtesting.variations[0]&&(_s._clientInfo.existing=!1)}else{_s._clientInfo.existing=!1,_uuid=_s._uuid_v4();var now=new Date,expire=new Date,now_year=now.getFullYear()+1;if(expire.setFullYear(now_year),_s._localStorage.setUid(location.pathname+location.search+location.hash,_uuid),1==_s._t_b){var now=new Date,expire=new Date,now_month=now.getMonth()+3;expire.setMonth(now_month),_s._cookie.setItem("_rtet_t_b",parseInt(__beusablerumclient__._t_b),expire,"/",null,!1),__beusablerumclient__._t_v&&_s._cookie.setItem("_rtet_t_v",parseInt(__beusablerumclient__._t_v),expire,"/",null,!1),_s._clientInfo.bAB=!0,_s._clientInfo.abVar=__beusablerumclient__._t_v}else _s._clientInfo.bAB=!1,_s._clientInfo.abVar=0}__beusablerumclient__._t_v>=2&&__beusablerumclient__._abtesting&&(__beusablerumclient__._abtesting.variations[__beusablerumclient__._t_v]!=_s._clientInfo.url?location.href=__beusablerumclient__._abtesting.variations[__beusablerumclient__._t_v]:_s._clientInfo.existing=!1);var abaid=(_s._cookie.getItem("_rtet_ab_sid"),_s._cookie.getItem("_rtet_ab_aid")),aburl=_s._cookie.getItem("_rtet_ab_url"),abrefer=_s._cookie.getItem("_rtet_ab_ref");if(__beusablerumclient__.ab_aid&&(_s._clientInfo.abaid=abaid,_s._clientInfo.caid="A"==aburl?_s._clientInfo.apply_id:abaid,_s._clientInfo.bAB=!0),_s._clientInfo.sid=__beusablerumclient__.sid,abrefer&&(_s._clientInfo.referUrl=abrefer),_s._clientInfo.connectTime=(new Date).getTime(),_s._clientInfo.userId=_uuid,_s._clientInfo.sessId=_sessid,_s._clientInfo.pageSeq=_pageSeq,_s._push("init",_s._clientInfo),!oldIE){var deviceType=_s._clientInfo.device||null;setTimeout(function(){if(__beusablerumclient__.aid&&""!=__beusablerumclient__.aid){var html=_s._getPageContent(),_socket=_s._info.socket;if(html){var sendData={aid:__beusablerumclient__.aid,html:encodeURIComponent(html),device:deviceType};_socket.emit("__beusablerumclient___html_fetch",sendData)}}},5e3)}_s._info._contentSearch(),_s._info._disconnectTimer=setTimeout(_s._sessionExpire,_s._info._sessionExpireTime)}}catch(e){}},_init:function(isSPA){window.__beusablerumclient__.hasOwnProperty("instance")||(window.__beusablerumclient__.instance=__beusablerum__);try{window.require&&"function"==typeof require&&"function"==typeof require.specified?require(["//script.beusable.net/socket.io.js"],:window.SystemJS&&"function"==typeof window.SystemJS.amdRequire?SystemJS.amdRequire(["//script.beusable.net/socket.io.js"],:__beusablerum__._start(io)}catch(e){}},_initIframe:function(){for(var _s=__beusablerum__,iframes=document.querySelectorAll("iframe"),i=0,iLen=iframes.length;i<iLen;i++)try{var iframe=iframes[i],ifr_doc=iframe.contentDocument,ifr_win=iframe.contentWindow;if(ifr_doc){var ifr_xpath=_s._getClickElementInfo(iframe,null).xpath;_s._addEvent(ifr_doc,ifr_win,ifr_xpath)}}catch(e){}},_getChildText:function(elem){for(var textContent="",childNodes=elem.childNodes,i=0,iLen=childNodes.length;i<iLen;i++){var child_elem=childNodes[i];if(3==child_elem.nodeType)textContent+=child_elem.nodeValue.replace(/\t|\n|\s/g,"");else if(1==child_elem.nodeType){var style="undefined"!=typeof getComputedStyle?window.getComputedStyle(child_elem,null):child_elem.currentStyle,display=style?style.display:null,visibility=style?style.visibility:null;if(display&&"none"!=display||visibility&&"hidden"!=visibility)if("IMG"==child_elem.tagName){var alt=child_elem.getAttribute("alt");alt&&(textContent+=alt)}else textContent+=__beusablerum__._getChildText(child_elem)}}return textContent},_getClickElementInfo:function(element,evtType){var returnObj={value:{},realHref:null,fullHref:null,bConversion:!1,bValid:!0,xpath:null,realxpath:null,element:element,tagged:!1},tagName=element.tagName,href=element.getAttribute("href");returnObj.xpath=__beusablerum__._getQuerySelector(element);var filter=new RegExp(/^#/);if(href&&""!=href&&"#"!=href&&href.toLowerCase().indexOf("javascript:")<0&&"#"!=href.toString().substr(window.location.origin.length)&&!filter.test(href)&&(returnObj.realHref=href),returnObj.value.tag=tagName,returnObj.realHref){element.target;returnObj.fullHref=element.href,returnObj.bConversion=!0}switch(("BUTTON"==tagName&&"submit"==element.type||"INPUT"==tagName&&"submit"==element.type)&&(returnObj.bConversion=!0,element.form&&element.form.action&&(returnObj.realHref=element.form.getAttribute("action"),returnObj.fullHref=element.form.action)),tagName){case"A":case"AREA":returnObj.value.href=href;break;case"INPUT":break;case"SELECT":break;case"BUTTON":break;default:returnObj.xpath;if(element.__parentNode__)returnObj=__beusablerum__._getClickElementInfo(element.__parentNode__,evtType);else{var parent=element,onclick=null,dataOmniType=null,cursorPointer=null,tagged=!1;try{if("HTML"!=parent.tagName&&"BODY"!=parent.tagName){do{if(onclick=parent.getAttribute("onclick"))break;if(dataOmniType=parent.getAttribute("data-omni-type"))break;if(tagged=null!==parent.getAttribute("data-beusable-tracking"))break;cursorPointer="pointer"==window.getComputedStyle(parent,null).cursor;try{parent&&parent.parentElement&&"pointer"==window.getComputedStyle(parent.parentElement,null).cursor&&(cursorPointer=!1)}catch(e){cursorPointer=!1}if(cursorPointer)break;parent=parent.parentElement}while(!onclick&&!dataOmniType&&!cursorPointer&&!tagged&&parent&&"BODY"!=parent.tagName);var jnj=!1;if(["98eaafc080","cd98ce1c44","076fb20df4"].indexOf(__beusablerumclient__.sid)>-1){var selector=__beusablerum__._getQuerySelector(element);["DIV#shopify-section-1509360157208 > SECTION:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(2) > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1)","DIV#shopify-section-collection > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(2) > DIV:nth-child(1) > DIV:nth-child(1)","DIV#shopify-section-collection > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1) > DIV:nth-child(1)"].indexOf(selector)>-1&&(jnj=!0,parent=element)}onclick||dataOmniType||cursorPointer||tagged||jnj?(returnObj.tagged=tagged,returnObj.element=parent,returnObj.xpath=__beusablerum__._getQuerySelector(parent),onclick&&(returnObj.realHref=onclick,returnObj.fullHref=onclick),returnObj.bValid=!0):(returnObj.value=null,returnObj.bValid=!1)}else returnObj.value=null,returnObj.bValid=!1}catch(eE){returnObj.value=null,returnObj.bValid=!1}}}return returnObj},_getMEvent:function(evt,iframe){var _br=__beusablerum__,_mobileGesture=_br._info._mobileGesture,_c=_br._clientInfo,doc=document,win=window;evt=evt||win.event;var viewportWidth=Math.max(doc.documentElement.clientWidth,win.innerWidth||0),viewportHeight=Math.max(doc.documentElement.clientHeight,win.innerHeight||0),coordsWidth=evt.pageX||(win.pageXOffset||doc.body.scrollLeft)-(doc.body.clientLeft||0),coordsHeight=evt.pageY||(win.pageYOffset||doc.body.scrollTop)-(doc.body.clientTop||0),evtType=evt.type,mouseEvent={sid:_c.sid,url:_c.url,urlHost:_c.urlHost,urlPathname:_c.urlPathname,eventData:{bAB:_c.bAB},eventType:evtType||null,timeStamp:evt.timeStamp},mobileEvent={sid:_c.sid,url:_c.url,urlHost:_c.urlHost,urlPathname:_c.urlPathname,eventData:null,eventType:null,timeStamp:evt.timeStamp},elementInfo=null,mobileEvt=null;switch(evtType){case"touchstart":_mobileGesture.lastTouchMove=!1,_mobileGesture.lastTouchStart&&(_mobileGesture.last_1TouchStart=_mobileGesture.touchCopy(_mobileGesture.lastTouchStart)),_mobileGesture.lastTouchStart={time:new Date,dom:null,clientX:evt.changedTouches[0].clientX,clientY:evt.changedTouches[0].clientY};break;case"click":case"touchend":var element=evt.target||evt.srcElement;elementInfo=_br._getClickElementInfo(element,evtType);var offsetXY=null;if("touchend"==evtType){var changedTouches=evt.changedTouches[0],touchTarget=changedTouches.target;if(elementInfo=_br._getClickElementInfo(touchTarget,evtType),changedTouches&&touchTarget&&(offsetX=changedTouches.clientX-touchTarget.getBoundingClientRect().left,offsetY=changedTouches.clientY-touchTarget.getBoundingClientRect().top,offsetX=Math.round(offsetX),offsetY=Math.round(offsetY),offsetXY=offsetX+"_"+offsetY,(offsetX<0||offsetY<0)&&(offsetXY=null)),_mobileGesture.lastTouchEnd?_mobileGesture.last_1TouchEnd=_mobileGesture.touchCopy(_mobileGesture.lastTouchEnd):(_mobileGesture.last_1TouchStart=null,_mobileGesture.last_1TouchMove=!1,_mobileGesture.last_1TouchEnd=null),_mobileGesture.lastTouchEnd={time:new Date,dom:touchTarget,clientX:changedTouches.clientX,clientY:changedTouches.clientY},_mobileGesture.lastTouchMoveStart){var diffX=changedTouches.clientX-_mobileGesture.lastTouchMoveStart.clientX,diffY=changedTouches.clientY-_mobileGesture.lastTouchMoveStart.clientY;Math.abs(diffX)+Math.abs(diffY)>25&&(Math.abs(diffX)>Math.abs(diffY)?diffX>0?(mobileEvent.eventData=_mobileGesture.getTouchEvent(_mobileGesture.lastTouchMoveStart,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="swiperight",_br._push(mobileEvent.eventType,mobileEvent))):(mobileEvent.eventData=_mobileGesture.getTouchEvent(_mobileGesture.lastTouchMoveStart,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="swipeleft",_br._push(mobileEvent.eventType,mobileEvent))):diffY>0?(mobileEvent.eventData=_mobileGesture.getTouchEvent(_mobileGesture.lastTouchMoveStart,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="swipedown",_br._push(mobileEvent.eventType,mobileEvent))):(mobileEvent.eventData=_mobileGesture.getTouchEvent(_mobileGesture.lastTouchMoveStart,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="swipeup",_br._push(mobileEvent.eventType,mobileEvent)))),_mobileGesture.lastTouchMoveStart=null,_mobileGesture.lastTouchPinchStart=null,_mobileGesture.lastTouchPinchEnd=null}if(_mobileGesture.lastTouchPinchStart){var startDist=_mobileGesture.getDistance(_mobileGesture.lastTouchPinchStart.client0X,_mobileGesture.lastTouchPinchStart.client0Y,_mobileGesture.lastTouchPinchStart.client1X,_mobileGesture.lastTouchPinchStart.client1Y),endDist=_mobileGesture.getDistance(_mobileGesture.lastTouchPinchEnd.client0X,_mobileGesture.lastTouchPinchEnd.client0Y,_mobileGesture.lastTouchPinchEnd.client1X,_mobileGesture.lastTouchPinchEnd.client1Y);startDist<endDist?(mobileEvent.eventData=_mobileGesture.getMultiTouchEvent(_mobileGesture.lastTouchPinchEnd,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="zoomin",_br._push(mobileEvent.eventType,mobileEvent))):startDist>endDist&&(mobileEvent.eventData=_mobileGesture.getMultiTouchEvent(_mobileGesture.lastTouchPinchEnd,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="zoomout",_br._push(mobileEvent.eventType,mobileEvent))),_mobileGesture.lastTouchMoveStart=null,_mobileGesture.lastTouchPinchStart=null}!_mobileGesture.lastTouchMove,_mobileGesture.last_1TouchEnd&&!_mobileGesture.last_1TouchMove&&!_mobileGesture.lastTouchMove&&_mobileGesture.lastTouchEnd.time-_mobileGesture.last_1TouchEnd.time<900&&Math.abs(_mobileGesture.last_1TouchEnd.clientX-_mobileGesture.lastTouchEnd.clientX)<17&&Math.abs(_mobileGesture.last_1TouchEnd.clientY-_mobileGesture.lastTouchEnd.clientY)<17&&(mobileEvent.eventData=_mobileGesture.getTouchEvent(_mobileGesture.last_1TouchEnd,iframe),mobileEvent.eventData&&(mobileEvt=mobileEvent.eventType="doubletab",_br._push(mobileEvent.eventType,mobileEvent)),_mobileGesture.lastTouchStart=null,_mobileGesture.lastTouchEnd=null),_mobileGesture.last_1TouchMove=_mobileGesture.lastTouchMove}else{if(elementInfo.element===document)return;var offsetX=evt.clientX-elementInfo.element.getBoundingClientRect().left,offsetY=evt.clientY-elementInfo.element.getBoundingClientRect().top;offsetX=Math.round(offsetX),offsetY=Math.round(offsetY),offsetXY=offsetX+"_"+offsetY}var eventData={bAB:_c.bAB,pageCoords:{x:coordsWidth,y:coordsHeight},eventTarget:elementInfo.realHref||null,eventTarget1:elementInfo.fullHref||null,xpath:iframe?iframe+" > "+elementInfo.xpath:elementInfo.xpath,offsetXY:offsetXY,value:elementInfo.value,bConversion:elementInfo.bConversion,bValid:elementInfo.bValid,tagged:elementInfo.tagged||!1,referUrl:_c.referUrl};mouseEvent.eventData=eventData;break;case"focus":case"mouseover":var element=evt.target||evt.srcElement;if(element&&element.tagName&&"BODY"!=element.tagName){var elementInfo=_br._getClickElementInfo(element,evtType);if(elementInfo&&elementInfo.hasOwnProperty("bValid")&&elementInfo.bValid){var xpath=elementInfo.xpath,offsetX=(element.tagName,evt.offsetX||evt.layerX),offsetY=evt.offsetY||evt.layerY;offsetX=Math.round(offsetX)||0,offsetY=Math.round(offsetY)||0;var offsetXY=offsetX+"_"+offsetY,eventData={bAB:_c.bAB,pageCoords:{x:coordsWidth,y:coordsHeight},xpath:iframe?iframe+" > "+xpath:xpath,offsetXY:offsetXY};mouseEvent.eventData=eventData}}break;case"mousemove":case"touchmove":var element=evt.target||evt.srcElement,xpath=_br._getQuerySelector(element),offsetXY=null;if("touchmove"==evtType){var changedTouches=evt.changedTouches[0],touchTarget=changedTouches.target;changedTouches&&touchTarget&&(offsetX=changedTouches.clientX-touchTarget.getBoundingClientRect().left,offsetY=changedTouches.clientY-touchTarget.getBoundingClientRect().top,offsetX=Math.round(offsetX),offsetY=Math.round(offsetY),offsetXY=offsetX+"_"+offsetY,(offsetX<0||offsetY<0)&&(offsetXY=null)),_mobileGesture.lastTouchMove=!0,_mobileGesture.lastTouchMoveStart||1!==evt.touches.length||(_mobileGesture.lastTouchMoveStart={screenX:evt.touches[0].screenX,screenY:evt.touches[0].screenY,dom:evt.touches[0].target,clientX:evt.touches[0].clientX,clientY:evt.touches[0].clientY}),!_mobileGesture.lastTouchPinchStart&&evt.touches.length>1?(_mobileGesture.lastTouchMoveStart=null,_mobileGesture.lastTouchPinchStart={
scale:evt.scale,e:evt,dom0:evt.touches[0].target,client0X:evt.touches[0].clientX,client0Y:evt.touches[0].clientY,dom1:evt.touches[1].target,client1X:evt.touches[1].clientX,client1Y:evt.touches[1].clientY}):_mobileGesture.lastTouchPinchStart&&evt.touches.length>1&&(_mobileGesture.lastTouchMoveStart=null,_mobileGesture.lastTouchPinchEnd={scale:evt.scale,e:evt,dom0:evt.touches[0].target,client0X:evt.touches[0].clientX,client0Y:evt.touches[0].clientY,dom1:evt.touches[1].target,client1X:evt.touches[1].clientX,client1Y:evt.touches[1].clientY})}else{if(element===document)return;var offsetX=evt.clientX-element.getBoundingClientRect().left,offsetY=evt.clientY-element.getBoundingClientRect().top;offsetX=Math.round(offsetX),offsetY=Math.round(offsetY),offsetXY=offsetX+"_"+offsetY}mouseEvent.eventData={bAB:_c.bAB,pageCoords:{x:coordsWidth,y:coordsHeight},xpath:iframe?iframe+" > "+xpath:xpath,offsetXY:offsetXY,referUrl:_c.referUrl};break;case"scroll":mouseEvent.eventData={bAB:_c.bAB,pageCoords:{x:coordsWidth,y:coordsHeight},scrollTop:doc.body.scrollTop||doc.documentElement.scrollTop,scroll:doc.documentElement.clientHeight+(doc.body.scrollTop||doc.documentElement.scrollTop),referUrl:_c.referUrl};break;case"resize":mouseEvent.eventData={bAB:_c.bAB,viewPort:{width:viewportWidth,height:viewportHeight},referUrl:_c.referUrl}}"mouseover"==evtType||"focus"==evtType?mouseEvent.eventData&&mouseEvent.eventData.xpath&&_br._push(evtType,mouseEvent):"touchstart"===evtType||mobileEvt||_br._push(evtType,mouseEvent),_br._info._disconnected&&__beusablerumclient__.isSPA!==!0?(_br._info._disconnected=!1,_br._init()):(clearTimeout(_br._info._disconnectTimer),_br._info._disconnectTimer=setTimeout(_br._sessionExpire,_br._info._sessionExpireTime))},_getViChange:function(){var _br=__beusablerum__,_c=_br._clientInfo,doc=document;if(doc.visibilityState){var mouseEvent=new Object;mouseEvent={sid:_c.sid,url:_c.url,urlHost:_c.urlHost,urlPathname:_c.urlPathname,eventData:{bAB:_c.bAB},eventType:doc.visibilityState,timeStamp:(new Date).getTime(),referUrl:_c.referUrl},_br._push("visibleChange",mouseEvent)}},_isVisible:function(elem){try{var bound=elem.getBoundingClientRect();if(elem.offsetWidth+elem.offsetHeight+bound.height+bound.width===0)return!1;var width=Math.max(elem.offsetWidth,bound.width),height=Math.max(elem.offsetHeight,bound.height),elemCenter={x:bound.left+width/2,y:bound.top+height/2};if(elemCenter.x<0)return!1;if(elemCenter.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(elemCenter.y<0)return!1;if(elemCenter.y>(document.documentElement.clientHeight||window.innerHeight))return!1;if(isNaN(elemCenter.x)||isNaN(elemCenter.y))return!1;var style=getComputedStyle(elem);if("none"===style.display)return!1;if("visible"!==style.visibility)return!1;var pointContainer=document.elementFromPoint(elemCenter.x,elemCenter.y);do{if(!pointContainer)return!1;if(pointContainer===elem)return!0}while(pointContainer=pointContainer.parentNode);return!1}catch(e){return!1}},_endPageview:function(){var _br=__beusablerum__,_info=_br._info,_socket=_info.socket;if(_info._contentSendHistory=[],_info._disconnected=!0,_info._contentSearchTimer){clearTimeout(_info._contentSearchTimer),_info._contentSearchTimer=1;for(var nodes=document.querySelectorAll("body *"),i=0,iLen=nodes.length;i<iLen;i++)nodes[i].beusablyExposed=!1}window.__beusablechecker__=!1,_socket&&_socket.disconnect()},_sessionExpire:function(){var _br=__beusablerum__,_info=_br._info,_socket=_info.socket;if(_info._contentSendHistory=[],_info._disconnected=!0,_info._contentSearchTimer){clearTimeout(_info._contentSearchTimer),_info._contentSearchTimer=1;for(var nodes=document.querySelectorAll("body *"),i=0,iLen=nodes.length;i<iLen;i++)nodes[i].beusablyExposed=!1}window.__beusablechecker__=!1,_br._cookie.removeItem("_rtetSessId"),_br._cookie.removeItem("_rtetSessPageSeq"),_socket&&_socket.disconnect()}};"interactive"===document.readyState||"complete"===document.readyState||"loaded"===document.readyState?__beusablerum__._init():document.addEventListener("DOMContentLoaded",__beusablerum__._init,!1)}();