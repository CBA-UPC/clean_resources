
/*@preserve
***Version 1.20.1***
*/

/*@license
 *                       Copyright 2002 - 2018 Qualtrics, LLC.
 *                        CONFIDENTIAL.  All rights reserved.
 *
 * Notice: All code, text, concepts, and other information herein (collectively, the
 * "Materials") are the sole property of Qualtrics, LLC, except to the extent
 * otherwise indicated. The Materials are proprietary to Qualtrics and are protected
 * under all applicable laws, including copyright, patent (as applicable), trade
 * secret, and contract law. Disclosure or reproduction of any Materials is strictly
 * prohibited without the express prior written consent of an authorized signatory
 * of Qualtrics. For disclosure requests, please contact notice@qualtrics.com.
 */
 
try {
  ![function(e,t){QSI.DOMPurify=function(){"use strict";var e=Object.freeze||function(e){return e},t=e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),n=e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),i=e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),r=e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),o=e(["#text"]),a=Object.freeze||function(e){return e},s=a(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),l=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),c=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),u=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),d=Object.hasOwnProperty,p=Object.setPrototypeOf,f=("undefined"!=typeof Reflect&&Reflect).apply;function h(e,t){p&&p(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=i.toLowerCase();r!==i&&(t[n]=r,i=r)}e[i]=!0}return e}||(f=function(e,t,n){return e.apply(t,n)});var S=Object.seal||function(e){return e},m=S(/\{\{[\s\S]*|[\s\S]*\}\}/gm),I="< %[\\s\\S]*|[\\s\\S]*% >";I=I.replace(/\s/g,"");var v=new RegExp(I,"gm"),y=S(/^data-[\-\w.\u00B7-\uFFFF]/),b=S(/^aria-[\-\w]+$/),w=S(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=S(/^(?:\w+script|data):/i),T=S(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?ar D=("undefined"!=typeof Reflect&&Reflect).apply,A=Array.prototype.slice,C=Object.freeze,N=D||(D=;var R=return function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N(),d=if(d.version="1.0.8",d.removed=[],!a||!a.document||9!==a.document.nodeType)return d.isSupported=!1,d;var p=a.document,f=!1,S=!1,I=a.document,x=a.DocumentFragment,_=a.HTMLTemplateElement,L=a.Node,k=a.NodeFilter,P=a.NamedNodeMap,M=void 0===P?a.NamedNodeMap||a.MozNamedAttrMap:P,H=a.Text,F=a.Comment,B=a.DOMParser,W=a.TrustedTypes;if("function"==typeof _){var U=I.createElement("template");U.content&&U.content.ownerDocument&&(I=U.content.ownerDocument)}var z=R(W,p),j=z?z.createHTML(""):"",J=I,q=J.implementation,V=J.createNodeIterator,G=J.getElementsByTagName,Y=J.createDocumentFragment,X=p.importNode,K={};d.isSupported=q&&void 0!==q.createHTMLDocument&&9!==I.documentMode;var Z=m,$=v,ee=y,te=b,ne=Q,ie=T,re=w,oe=null,ae=h({},[].concat(O(t),O(n),O(i),O(r),O(o))),se=null,le=h({},[].concat(O(s),O(l),O(c),O(u))),ce=null,ue=null,de=!0,pe=!0,fe=!1,he=!1,ge=!1,Se=!1,me=!1,Ie=!1,ve=!1,ye=!1,be=!1,we=!0,Qe=!0,Te=!1,Ee={},Oe=h({},["audio","head","math","script","style","template","svg","video"]),De=h({},["audio","video","img","source","image"]),Ae=h({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ce=null,Ne=I.createElement("form"),Re=function(e){Ce&&Ce===e||(e&&"object"===(void 0===e?"undefined":E(e))||(e={}),oe="ALLOWED_TAGS"in e?h({},e.ALLOWED_TAGS):ae,se="ALLOWED_ATTR"in e?h({},e.ALLOWED_ATTR):le,ce="FORBID_TAGS"in e?h({},e.FORBID_TAGS):{},ue="FORBID_ATTR"in e?h({},e.FORBID_ATTR):{},Ee="USE_PROFILES"in e&&e.USE_PROFILES,de=!1!==e.ALLOW_ARIA_ATTR,pe=!1!==e.ALLOW_DATA_ATTR,fe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,he=e.SAFE_FOR_JQUERY||!1,ge=e.SAFE_FOR_TEMPLATES||!1,Se=e.WHOLE_DOCUMENT||!1,ve=e.RETURN_DOM||!1,ye=e.RETURN_DOM_FRAGMENT||!1,be=e.RETURN_DOM_IMPORT||!1,Ie=e.FORCE_BODY||!1,we=!1!==e.SANITIZE_DOM,Qe=!1!==e.KEEP_CONTENT,Te=e.IN_PLACE||!1,re=e.ALLOWED_URI_REGEXP||re,ge&&(pe=!1),ye&&(ve=!0),Ee&&(oe=h({},[].concat(O(o))),se=[],!0===Ee.html&&(h(oe,t),h(se,s)),!0===Ee.svg&&(h(oe,n),h(se,l),h(se,u)),!0===Ee.svgFilters&&(h(oe,i),h(se,l),h(se,u)),!0===Ee.mathMl&&(h(oe,r),h(se,c),h(se,u))),e.ADD_TAGS&&(oe===ae&&(oe=g(oe)),h(oe,e.ADD_TAGS)),e.ADD_ATTR&&(se===le&&(se=g(se)),h(se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&h(Ae,e.ADD_URI_SAFE_ATTR),Qe&&(oe["#text"]=!0),Se&&h(oe,["html","head","body"]),oe.table&&h(oe,["tbody"]),C&&C(e),Ce=e)},xe=_e=Le=function(e){var t=void 0,n=void 0;if(Ie)e="<remove></remove>"+e;else{var i=e.match(/^[\s]+/);(n=i&&i[0])&&(e=e.slice(n.length))}if(f)try{t=(new B).parseFromString(e,"text/html")}catch(e){}if(S&&h(ce,["title"]),!t||!t.documentElement){var r=t=q.createHTMLDocument(""),o=r.body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=z?z.createHTML(e):e}return n&&t.body.insertBefore(I.createTextNode(n),t.body.childNodes[0]||null),G.call(t,Se?"html":"body")[0]};d.isSupported&&(function(){try{var e=Le('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">');e.querySelector("svg img")&&(f=!0)}catch(e){}}(),function(){try{var e=Le("<x/><title>&lt;/title&gt;&lt;img&gt;");e.querySelector("title").innerHTML.match(/<\/title/)&&(S=!0)}catch(e){}}());var ke=Pe=Me=He=function(e){var t,n=void 0;if(Me("beforeSanitizeElements",e,null),!((t=e)instanceof H||t instanceof F||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof M&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return xe(e),!0;var i=e.nodeName.toLowerCase();if(Me("uponSanitizeElement",e,{tagName:i,allowedTags:oe}),!oe[i]||ce[i]){if(Qe&&!Oe[i]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",z?z.createHTML(r):r)}catch(e){}return xe(e),!0}return!he||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(d.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),ge&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(Z," ")).replace($," "),e.textContent!==n&&(d.removed.push({element:e.cloneNode()}),e.textContent=n)),Me("afterSanitizeElements",e,null),!1},Fe=function(e,t,n){if(we&&("id"===t||"name"===t)&&(n in I||n in Ne))return!1;if(ge&&(n=(n=n.replace(Z," ")).replace($," ")),pe&&ee.test(t));else if(de&&te.test(t));else{if(!se[t]||ue[t])return!1;if(Ae[t]);else if(re.test(n.replace(ie,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!De[e])if(fe&&!ne.test(n.replace(ie,"")));else if(n)return!1}return!0},Be=function(e){var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0;Me("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(o=a.length;o--;){var l=t=a[o],c=l.name,u=l.namespaceURI;if(n=t.value.trim(),i=c.toLowerCase(),s.attrName=i,s.attrValue=n,s.keepAttr=!0,Me("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===i&&"IMG"===e.nodeName&&a.id)r=a.id,a=D(A,a,[]),_e("id",e),_e(c,e),a.indexOf(r)>o&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===n&&(se[i]||!ue[i]))continue;"id"===c&&e.setAttribute(c,""),_e(c,e)}if(s.keepAttr){var p=e.nodeName.toLowerCase();if(Fe(p,i,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),d.removed.pop()}catch(e){}}}Me("afterSanitizeAttributes",e,null)}},We=return d.sanitize=function(e,t){var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Pe(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!d.isSupported){if("object"===E(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof e)return a.toStaticHTML(e);if(Pe(e))return a.toStaticHTML(e.outerHTML)}return e}if(me||Re(t),d.removed=[],Te);else if(e instanceof L)n=Le("\x3c!--\x3e"),1===(i=n.ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName?n=i:n.appendChild(i);else{if(!ve&&!Se&&-1===e.indexOf("<"))return z?z.createHTML(e):e;if(!(n=Le(e)))return ve?null:j}n&&Ie&&xe(n.firstChild);for(var l=ke(Te?e:n);r=l.nextNode();)3===r.nodeType&&r===o||He(r)||(r.content instanceof x&&We(r.content),Be(r),o=r);if(o=null,Te)return e;if(ve){if(ye)for(s=Y.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return be&&(s=X.call(p,s,!0)),s}var c=Se?n.outerHTML:n.innerHTML;return z?z.createHTML(c):c},d.setConfig=d.clearConfig=d.isValidAttribute=d.addHook=d.removeHook=d.removeHooks=d.removeAllHooks=d}()}()},function(e,t){QSI.windowHandler={optInIDsAndTargetOrigins:"QSI_OptInIDsAndTargetOrigins",optInIDsAndWindowNames:"QSI_OptInIDsAndWindowNames",getWin:function(e,t){if("string"!=typeof e)return null;var n=QSI.windows;if(n){var i=n[e];if(i)return i.closed?(QSI.windowHandler.removeWindowHandle(e),null):i}return t?window.open("",e):null},getWindowOrigin:addOptInIDAndWindowName:getOptInIDsAndWindowNames:function(){var e=window.sessionStorage.getItem(this.optInIDsAndWindowNames)||{};try{"string"==typeof e&&(e=JSON.parse(e))}catch(t){QSI.dbg.e(t),e={}}return e},getOptInIDsAndTargetOrigins:removeOptInIDAndWindowName:setupWindowHandles:addWindowHandle:removeWindowHandle:removeClosedWindowHandles:},function(e,t){QSI.util={creativeTypes:{EMPTY:"Empty",FEEDBACK_LINK:"FeedbackLink",HTTP_REDIRECT:"HTTPRedirect",IFRAME:"IFrame",INFO_BAR:"InfoBar",LINK:"Link",NO_CREATIVE:"NoCreative",POP_OVER:"PopOver",POP_UNDER:"PopUnder",POP_UP:"PopUp",RELAY:"Relay",SLIDER:"Slider",SOCIAL_MEDIA:"SocialMedia",USER_DEFINED_HTML:"UserDefinedHTML"},originalDocumentOverflow:"auto",$:setStyle:getStyle:function(e,t){var n,i=this.getStyles(e);try{n=i?i[t]||i.getPropertyValue(t):void 0}catch(e){n=void 0}return void 0===n?n:n+""},getStyles:function(e){return window.getComputedStyle?e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):document.documentElement.currentStyle?e.currentStyle:void 0},prependElement:getTempID:isValidID:function(e,t){if(e){if("zone"===t)return"ZN"===e.substring(0,2);if("intercept"===t)return"SI"===e.substring(0,2)}return!1},getDateNow:getElementHTML:getOriginInterceptOfMessage:function(e){if(!QSI.reg)return null;for(var t in QSI.reg)if(Object.prototype.hasOwnProperty.call(QSI.reg,t)){var n=QSI.reg[t];if(n.embeddedTargets)for(var i=0;i<n.embeddedTargets.length;i++)if(n.embeddedTargets[i].contentWindow===e)return QSI.reg[t];if(n.embeddedWindows)for(var r=0;r<n.embeddedWindows.length;r++)if(n.embeddedWindows[r].targetIframe.contentWindow===e)return QSI.reg[t]}var o=document.querySelectorAll('iframe:not([data-interceptId=""])');for(i=0;i<o.length;i++)if(o[i].contentWindow===e){t=o[i].getAttribute("data-interceptId");return QSI.reg[t]}return null},tryGetTarget:function(){var e=QSI.reg,t=QSI.id;if(e&&t)return e[t].getTarget()},addToStyleElements:buildQueryString:function(e){var t=[];return QSI.util.forOwn(e,function(e,n){void 0===e?t.push(encodeURIComponent(n)):t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},sendFocusToFirstTabbableElement:waitForFocus:function(){var e=QSI.util.Deferred();return document.hasFocus()?e.resolve():QSI.util.observe(window,"focus",function(){try{e.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),e.promise()},waitForExitIntent:function(){var e=QSI.util.Deferred();return QSI.util.observe(window,"mouseout",function(t){try{if(!document.hasFocus())return;if(QSI.util.isEdge()||QSI.util.isIE()){if(!t.relatedTarget&&!t.toElement){if(t.clientY/window.innerHeight*100>(QSI.config.ieEdgeMouseOutRange||5))return;e.resolve()}}else{if(t.clientY>0)return;if("Firefox"===QSI.Browser.name&&"SELECT"===t.target.tagName)return;e.resolve()}}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),e.promise()},truncateString:ScriptLoader:function(e){var t=this,n=document.getElementsByTagName("script")[0];this.getScriptURL=this.load=function(e,t){var n=i(e,t,!1);return n?n.promise():null},this.loadAndManualResolve=var i=function(e,i,o){if(null==e)return null;var a="";i&&(a=r(i));var s,l,c=QSI.util.Deferred();return l=t.getScriptURL(e)+a,s=QSI.util.build("script",{src:l,"data-qsimodule":"script"}),!0!==o&&(QSI.util.observe(s,"load",function(){try{c.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),QSI.util.observe(s,"readystatechange",function(){try{"loaded"!==s.readyState&&"complete"!==s.readyState||c.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})),n.parentNode.insertBefore(s,n),c},r=function(e){var t=[];return QSI.util.forOwn(e,function(n,i){t.push(i+"="+e[i])}),"?"+t.join("&")}},build:showTrialIcon:function(){if(!this.trialIcon){var e=this.build("div",{},[this.build("img",{src:QSI.global.imagePath+"/siteintercept/logo.png"})]);this.trialIcon=e,QSI.util.setStyle(e,{opacity:.5,padding:"20px",bottom:"0",right:"0",position:"fixed"}),document.body.appendChild(e)}},createArrayFromArguments:createArrayFromIterable:sendHttpRequest:function(e){var t=new XMLHttpRequest;for(var n in t.open(e.type,e.url,!0),e.timeout&&(t.timeout=e.timeout,e.timeoutCallback&&(t.ontimeout=function(){try{e.timeoutCallback.apply(this,arguments)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})),e.header)Object.prototype.hasOwnProperty.call(e.header,n)&&t.setRequestHeader(n,e.header[n]);e.includeCookies&&(t.withCredentials=!0,t.setRequestHeader("Access-Control-Allow-Credentials","true")),t.onreadystatechange=function(){try{if(4===t.readyState)if(200===t.status){if(!e.successCallback)return;e.successCallback(t)}else if(e.errorCallback)return void e.errorCallback(t)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},t.send(e.data)},Class:function(){function e(){try{this.initialize&&this.initialize.apply(this,arguments)}catch(e){QSI.dbg.e(e)}}function t(t){QSI.util.forOwn(t,}for(var n=QSI.util.createArrayFromArguments(arguments),i=0,r=n.length;i<r;i++)t(n[i]);return e},shouldPreventRepeatedDisplay:function(e,t){return!(!t||!t.noshow||0==t.noshow||null===QSI.cookie.get("QSI_"+e+"_intercept"))},Creative:function(){var e=this.Class.apply(this,arguments);return e.prototype.globalInitialize=function(e){var t;if(this.displayed=QSI.util.Deferred(),this.willShow=QSI.util.Deferred(),this.cookiesEnabled=QSI.util.Deferred(),this.preventRepeatedDisplay=QSI.util.Deferred(),this.localStorageEnabled=QSI.util.Deferred(),this.contactFrequencyCheckPassed=QSI.util.Deferred(),this.options=e||{},this.id=this.options.id,this.type=this.options.type,this.displayOptions=this.options.displayOptions||{},this.displayOptions.displayed=this.displayed.promise(),this.interceptDisplayOptions=this.options.interceptDisplayOptions||{},this.actionOptions=this.options.actionOptions||{},this.actionOptions.actionSetJavaScriptBeforeDisplay&&this.shouldShow()&&(t=this.actionOptions.actionSetJavaScriptBeforeDisplay,this.evalJS(t)),this.actionOptions.actionSetJavaScript){var n=this;t=this.actionOptions.actionSetJavaScript,this.displayed.done(}this.actionOptions.actionSetEvents&&QSI.util.processElementEvents(this.actionOptions.actionSetEvents,null,this),this.getType()!==QSI.util.creativeTypes.POP_UNDER&&this.killPopUnder()},e.prototype.evalJS=function(e){try{QSI.global.enableJSSanitization||void 0===QSI.doEvalJS?QSI.dbg.e("Error: JavaScript Evaluation has been disabled. Attempted to execute: '"+e+"'"):QSI.doEvalJS(e)}catch(e){QSI.dbg.c("Error During Eval JavaScript "+e)}},e.prototype.getType=function(){return this.type},e.prototype.getTarget=function(e){var t=this.options.targetURL;return QSI.EmbeddedData.getUrlWithEmbeddedData(t,this.id,e)},e.prototype.getTargetHelper=function(e){var t=this;return function(){return t.getTarget(e)}},e.prototype.resetStyles=function(){if(this.options.resetStyle){var e=QSI.util.build("style",{type:"text/css"});if(e.styleSheet){document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet.cssText=this.options.resetStyle}else{document.body.appendChild(e);var t=document.createTextNode(this.options.resetStyle);e.appendChild(t)}QSI.util.addToStyleElements(e)}},e.prototype.killPopUnder=function(){try{var e="QSIPopUnder_"+this.id;if(QSI.cookie.get(e)){var t=QSI.util.openWin("",e);t&&t.w&&(t.w.popunderDead=!0),t.close(),QSI.cookie.erase(e)}}catch(e){}},e.prototype.shouldShow=function(){var e=!0;return this.interceptDisplayOptions.hideOnCookiesDisabled&&(QSI.cookie.areCookiesEnabled()?this.cookiesEnabled.resolve():(this.cookiesEnabled.reject(),e=!1)),this.interceptDisplayOptions.hideOnLocalStorageDisabled&&(QSI.localStorage.isLocalStorageEnabled()?this.localStorageEnabled.resolve():(this.localStorageEnabled.reject(),e=!1)),this.shouldPreventRepeatedDisplay()?(this.preventRepeatedDisplay.resolve(),e=!1):this.preventRepeatedDisplay.reject(),QSI.global.featureFlags["DX.ContactFrequencyV3"]||!QSI.global.featureFlags["DX.ContactFrequencyV2"]&&!QSI.global.featureFlags["DX.ContactFrequency"]||(QSI.ContactFrequency.contactFrequencyCheckResults[this.id].status===QSI.ContactFrequency.contactFrequencyCheckStates.DO_NOT_CONTACT?(this.contactFrequencyCheckPassed.reject(),e=!1):this.contactFrequencyCheckPassed.resolve()),e?(this.willShow.resolve(),!0):(this.willShow.reject(),!1)},e.prototype.shouldPreventRepeatedDisplay=function(){return!!QSI.util.shouldPreventRepeatedDisplay(this.id,this.interceptDisplayOptions)||(QSI.cookie.erase("QSI_"+this.id+"_intercept"),!1)},e.prototype.setPreventRepeatedDisplayCookie=function(){if(this.interceptDisplayOptions&&this.interceptDisplayOptions.noshow&&0!=this.interceptDisplayOptions.noshow&&null===QSI.cookie.get("QSI_"+this.id+"_intercept"))try{QSI.cookie.set("QSI_"+this.id+"_intercept",!0,this.interceptDisplayOptions.noshow,this.interceptDisplayOptions.cookieDomain,{force:!0})}catch(e){QSI.dbg.e(e)}},e.prototype.impress=function(){QSI.util.sendStat(this.options.impressionURL,this.id);try{var e=(new Date).getTime()/1e3,t=JSON.parse(QSI.localStorage.get("Q_INTER"));null===t&&(t={}),t[this.id]=e,QSI.localStorage.set("Q_INTER",JSON.stringify(t))}catch(e){QSI.dbg.e(e)}this.setPreventRepeatedDisplayCookie();var n=QSI.ContactFrequency.contactFrequencyCheckResults[this.id];if(n&&n.status===QSI.ContactFrequency.contactFrequencyCheckStates.CAN_CONTACT){if(!n.contactId||!n.brandId)return;contactFrequencyRequestData={contactId:n.contactId,brandId:n.brandId},n.surveyId&&(contactFrequencyRequestData.surveyId=n.surveyId),QSI.ContactFrequency.recordContactFrequencyRequest(contactFrequencyRequestData)}},e.prototype.click=e.prototype.close||(e.prototype.close=,e.prototype.remove||(e.prototype.remove=e.prototype.close),e},isString:isArray:isFunction:isIE8:function(){return this.isIE(8)},isIE:function(e){return"Internet Explorer"===QSI.Browser.name&&(!e||e===QSI.Browser.version)},isEdge:isChrome:function(){return"Chrome"===QSI.Browser.name},isOpera:function(){return"Opera"===QSI.Browser.name},isFF:function(){return"Firefox"===QSI.Browser.name},isAndroid:removePx:getDimensions:convertPercentToPixel:convertPixelToPercent:cumulativeOffset:getTimeout:function(e){var t=QSI.util.Deferred();return e=1e3*parseFloat(e),window.setTimeout(e),t.promise()},getComputedStyle:getWindowSize:getPageSize:function(e){var t=(e=e||window).document.documentElement||{};return{width:t.clientWidth||e.innerWidth,height:t.clientHeight||e.innerHeight}},getScreenRes:getBrowserViewHeight:function(e){var t=e||window,n=t.document.documentElement;return"Chrome"===QSI.Browser.name&&QSI.Browser.isMobile&&"Android"===QSI.OS.name?t.outerHeight:QSI.Browser.isMobile&&n.clientWidth/t.innerWidth>1?n.clientHeight:t.innerHeight},getScrollOffsets:preventDefault:startScrolling:function(){QSI.util.setStyle(document.body,{overflow:this.originalDocumentOverflow}),document.removeEventListener("touchmove",this.preventDefault)},stopScrolling:function(){this.originalDocumentOverflow=this.originalDocumentOverflow||this.getStyle(document.body,"overflow"),QSI.util.setStyle(document.body,{overflow:"hidden"}),document.addEventListener("touchmove",this.preventDefault,{passive:!1})},hasVerticalScrollbar:function(){var e=document.documentElement;return"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8||("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9?e.offsetWidth-e.scrollWidth>6:e.clientWidth<window.innerWidth)},hasHorizontalScrollbar:function(){var e=document.documentElement;return"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8||("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<9?e.offsetHeight-e.scrollHeight>6:e.clientHeight<window.innerHeight)},pageMode:isFixed:function(){return!("Internet Explorer"===QSI.Browser.name&&"Standards"!==this.pageMode())},openWin:function(e,t,n){var i=[];return n=n||{},QSI.util.forOwn(n,,i=i.join(","),window.open(e,t,i)},sendStat:function(e,t){var n={type:"POST",url:e+"&r="+(new Date).getTime(),header:{"Content-type":"application/x-www-form-urlencoded"}};if(QSI.global.featureFlags["DX.ContactFrequencyV3"]){var i=QSI.config.zoneId?QSI.config.zoneId:QSI.config.interceptId,r=QSI.Request[i].Intercepts[t].Targeting,o="BrandID="+QSI.global.brandID+"&BrandDC="+this.getBrandDC();QSI.config.externalReference&&(o+="&ExtRef="+QSI.config.externalReference),r.DirectoryID&&(o+="&DirectoryID="+r.DirectoryID),r.SurveyID&&(o+="&SurveyID="+r.SurveyID),r.DistributionID&&(o+="&DistributionID="+r.DistributionID),r.ContactID&&(o+="&ContactID="+r.ContactID),n.data=o}QSI.util.sendHttpRequest(n)},getBrandDC:getQueryParam:safeJSONParse:addScreenCaptureParameterToTarget:capFirst:observe:stopObserving:removeObservers:hasReachedScrollPosition:remove:removeAllByQuery:function(e,t){var n=e.querySelectorAll(t);Array.prototype.forEach.call(n,},buildWidget:buildCCDWidget:function(e){if((e=e||{}).close&&parseInt(e.close,10)>0){var t=e.close,n=this.getTempID(),i=this.build("span",{id:n},t+""),r=this.build("span",{},[i]),o=this,a=function(){var i=function(){try{if(t<=0)return;var e=o.$(n);e&&(e.textContent=--t+""),setTimeout(i,1e3)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};e.delay&&e.delay>0?setTimeout(function(){try{setTimeout(i,1e3)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},1e3*e.delay):setTimeout(i,1e3)};return e.displayed?e.displayed.done(:a(),this.getElementHTML(r)}return""},positionFixed:function(e,t,n){e.style.position="absolute";var i,r=0,o=this.getPageSize().height,a=document.body.scrollHeight,s=QSI.util.getScrollOffsets().top;s>0&&("auto"===n?(e.style.top=s+parseInt(t,10)+"px",e.style.bottom=n):"auto"===t&&(e.style.bottom=s+o-parseInt(t,10)+"px",e.style.top=t)),"string"==typeof t&&t.indexOf("px")>-1&&(t=parseInt(t,10)),"string"==typeof n&&n.indexOf("px")>-1&&(n=parseInt(n,10));var l=function(){try{clearTimeout(i),i=setTimeout(function(){try{var i=QSI.util.getScrollOffsets().top;if(i<0||i+o>a)return;var s,c=i+t,u=c-r,d=u>=0?20:-20;Math.abs(u)<10&&(d=u),r=c,"auto"===n?s=setInterval(function(){try{var t=parseInt(e.style.top,10)+d;e.style.top=t+"px",e.style.bottom=n,d>0?t>=c&&(clearInterval(s),QSI.util.observe(window,"scroll",l)):t<=c&&(clearInterval(s),QSI.util.observe(window,"scroll",l)),QSI.util.observe(window,"scroll",l)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},15):"auto"===t&&(s=setInterval(function(){try{var r=parseInt(e.style.bottom,10)+d;e.style.bottom=i+o-n+"px",e.style.top=t,e.style.bottom=r+"px",d>0?r>=c&&(clearInterval(s),QSI.util.observe(window,"scroll",l)):r<=c&&(clearInterval(s),QSI.util.observe(window,"scroll",l)),QSI.util.observe(window,"scroll",l)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},15))}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},60)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};QSI.util.observe(window,"scroll",l)},each:forOwn:isObjectEmpty:filter:Deferred:function(){var e={},t="pending",n=[],i=[],r=[],o=[],a={state:function(){return t},then:done:function(e){if("pending"===t)r.push(e);else if("resolved"===t)try{e.apply(this,n)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}return this},fail:function(e){if("pending"===t)o.push(e);else if("rejected"===t)try{e.apply(this,i)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}return this},promise:function(){return a}};return QSI.util.forOwn(a,,e.resolve=function(){if("pending"===t){t="resolved";var e=QSI.util.createArrayFromArguments(arguments);n=e;var i=this;QSI.util.each(r,function(t){try{t.apply(i,e)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}},e.reject=function(){if("pending"===t){t="rejected";var e=QSI.util.createArrayFromArguments(arguments);i=e;var n=this;QSI.util.each(o,function(t){try{t.apply(n,e)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}},e},when:function(e){var t=QSI.util.createArrayFromArguments(arguments),n=t.length,i=n,r=1===i?e:QSI.util.Deferred(),o=function(e,t){return function(n){t[e]=arguments.length>1?n:QSI.util.createArrayFromArguments(arguments),--i||r.resolve(t)}};if(n>1)for(var a=0;a<n;a++)t[a]&&t[a].promise?t[a].promise().done(o(a,t)).fail(r.reject):i--;return i<1&&r.resolve(t),r.promise()},moveToBackground:function(){("Firefox"===QSI.Browser.name||"Internet Explorer"===QSI.Browser.name&&QSI.Browser.version>=11)&&window.open("javascript:window.focus();","_self","")},handleMailTo:function(e,t,n,i){this.addClickImg(t,n,i,function(){try{window.location.href=e}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})},addClickImg:function(e,t,n,i){var r=new Date,o=QSI.baseURL+"?Q_Click=1&Q_CID="+n+"&Q_SIID="+e+"&Q_ASID="+t+"&T="+r.getTime()+"&Q_LOC="+encodeURIComponent(window.location.href);this.addImage(o,i)},addImage:function(e,t){var n=QSI.util.build("img",{src:e,alt:""});QSI.util.isIE()&&QSI.util.setStyle(n,{display:"none"}),t&&QSI.util.observe(n,"load",t),document.body.appendChild(n)},processLocators:function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];r.locators&&(QSI.PipedText.setLocators(r.locators),r.content=QSI.PipedText.evaluateLocators(r.content,t))}},getDocDimension:getDocWidth:function(){return this.getDocDimension("Width")},getDocHeight:getScroll:fireGoogleEventBeacon:function(e,t,n){e.search(/^UA-\d+-\d{1,2}$/)<0?QSI.dbg.c("Google Anylytics Account number is incorrect "+e):window.GoogleAnalyticsObject?this.googleEventAnyalytics(window.GoogleAnalyticsObject,e,t,n):this.googleEventGA(e,t,n)},googleEventGA:googleEventAnyalytics:evalJS:function(e){return function(){try{QSI.global.enableJSSanitization||void 0===QSI.doEvalJS?QSI.dbg.e("Error: JavaScript Evaluation has been disabled. Attempted to execute: '"+e+"'"):QSI.doEvalJS(e)}catch(e){QSI.dbg.c("Error During Eval JavaScript "+e)}}},processElementEvents:function(e,t,n){if(!(!e||e.length<=0||e[0].length<=0)){for(var i=new QSI.ActionModule(n),r=e[0],o=0,a=r.length;o<a;o++)i.add(r[o]);i.addToElement(t)}},clickOnKeyDown:function(e){try{32!==e.which&&13!==e.which||e.target.click()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},stableSort:function(e,t){t=Boolean(t)?t:var n=e.map(;n.sort(;for(var i=0;i<e.length;i++)e[i]=n[i][0];return e},isLegacyCreative:function(e){if(e){if(-1!==["PopOver","Slider","InfoBar","UserDefinedHTML","PopUnder","FeedbackLink","Link","HTTPRedirect","PopUp","Relay","SocialMedia"].indexOf(e))return!0}return!1}},QSI.Target=QSI.util.Class({initialize:function(e,t,n,i){this.el=e,this.options=n,this.urlCallback=t,this.deferred=QSI.util.Deferred(),this.parent=i,this.init()},init:function(){var e=this;QSI.util.observe(this.el,"click",function(){try{e.urlCallback&&(e.openTarget(),e.deferred.resolve())}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})},openTarget:function(){var e=this.urlCallback(),t=this.options;if(e&&0!==e.indexOf("&"))if(t.targetReplaceContents&&this.parent.getType()!==QSI.util.creativeTypes.USER_DEFINED_HTML&&(t.targetNewWindow=!0,t.targetReplaceContents=!1),this.parent.click(),t.targetNewWindow)try{var n,i=QSI.util.getPageSize(),r=t.targetFullScreen?screen.availWidth||screen.width||i.width:t.targetWidth,o=t.targetFullScreen?screen.availHeight||screen.height||i.height:t.targetHeight,a="targetwindow_"+(new Date).valueOf().toString(),s=QSI.util.openWin(e,a,{status:"yes",scrollbars:"yes",resizable:"yes",width:r,height:o});if(void 0!==this.parent&&null!==this.parent)void 0!==this.parent.options&&null!==this.parent.options&&(n=this.parent.options.targetURLOrigin),QSI.windowHandler.addOptInIDAndWindowName(this.parent.id,a,n||"*"),QSI.windowHandler.addWindowHandle(a,s);var l=function(){if(window.opener&&window.opener.sessionStorage){var e=window.opener.sessionStorage,t=e.getItem("QSI_OptInIDsAndWindowNames");if(t){try{t=JSON.parse(t)}catch(e){return void QSI.dbg.e(e)}for(var n in t)t[n]===window.name&&delete t[n];e.setItem("QSI_OptInIDsAndWindowNames",JSON.stringify(t))}}};s&&(s.onunload=l,s.onbeforeunload=l)}catch(e){QSI.dbg.e(e)}else if(t.targetEmbedded)if("WebResponsiveDialog"!==this.parent.options.type)new QSI.EmbeddedTarget(e,t,this.parent);else{var c=this.parent.options?this.parent.options.targetURLType:null,u=new QSI.BuildResponsiveEmbeddedTarget(e,c),d={containerOptions:{className:"QSIEmbeddedTargetContainer",style:{border:"3px solid rgb(51, 51, 51)",borderRadius:"3px",boxShadow:"rgba(0, 0, 0, 0.7) 0px 0px 10px 0px",overflow:"visible",position:"fixed",zIndex:QSI.global.currentZIndex,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},iframeOptions:{interceptId:this.parent.options.id},inCreative:!1};QSI.util.stopScrolling(),QSI.BuildResponsiveElementModule.appendStylesToDocument(this.getSimpleEmbeddedTargetStyleSheet());var p=this.buildResponsiveEmbeddedTargetCloseButton(),f=u.build(d,p);p.onclick=f.insertBefore(p,f.firstChild),QSI.WebResponsiveDialog.addAccessibilityFunctionality(f,{Type:"fade"}),document.body.appendChild(f),p.focus()}else t.targetPopUnder?new QSI.PopUnderTarget(e,t,this.parent):t.targetReplaceContents?this.handleReplaceCreative():t.targetNewTab?QSI.util.openWin(e,"_blank"):window.location=e},buildResponsiveEmbeddedTargetCloseButton:function(){var e=QSI.util.build("img",{src:QSI.global.imagePath+"/siteintercept/bwc_close.png",style:{height:"29px",width:"29px",zIndex:QSI.global.currentZIndex++},alt:"Close"});return QSI.util.build("button",{style:{padding:0,border:0,background:"none",cursor:"pointer",position:"absolute",top:"-15px",right:"-15px",zIndex:QSI.global.currentZIndex++},tabindex:0},[e])},getSimpleEmbeddedTargetStyleSheet:handleReplaceCreative:function(){var e,t,n=this.parent.node;this.options.sameSizeAsCreative?(e=this.parent.options.size.width,t=this.parent.options.size.height):(e=this.options.targetWidth,t=this.options.targetHeight);var i={width:e+"px",height:t+"px",display:"block",border:"none",outline:"none",zIndex:2e9},r=QSI.util.build("iframe",{src:this.urlCallback()});QSI.util.setStyle(r,i),this.parent.node=r,this.parent.options.size={width:e,height:t},n.parentNode.replaceChild(r,n),this.parent.displayOptions.customPosition&&this.parent.position()},complete:),QSI.ActionModule=QSI.util.Class({initialize:function(e){this.creative=e,this.actions={click:[],mouseout:[],mouseover:[],displayed:[]}},add:function(e){this.actions[e.triggeringEvent]&&this.actions[e.triggeringEvent].push(this.buildAction(e))},buildAction:function(e){var t=this;return{run:function(){t["run"+e.actionType+"Action"]&&t["run"+e.actionType+"Action"](e)}}},runAddCookieAction:function(e){QSI.cookie.set(e.cookieName,e.cookieValue,this.creative.interceptDisplayOptions.cookieDomain)},runRemoveCookieAction:function(e){QSI.cookie.erase(e.cookieName,this.creative.interceptDisplayOptions.cookieDomain)},runGoogleEventAction:runJavaScriptAction:function(e){QSI.util.evalJS(e.javaScriptString)()},addToElement:function(e){var t=this,n=function(e){var n=!1;return function(){try{n||(n=!0,t.runAction(e))}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}};QSI.util.forOwn(this.actions,function(i,r){t.actions[r].length&&("displayed"===r?t.creative.displayed.done(n(t.actions[r])):QSI.util.observe(e,r,n(t.actions[r])))})},runAction:)},function(e,t){var n=i=function(e,t){if("string"==typeof e&&"string"==typeof t){var i=QSI.windowHandler.getWin(t);if(i){var r=new n("setTargetUrlInPlaceholderWindow",e),o=JSON.stringify(r),a=QSI.windowHandler.getWindowOrigin(window);i.postMessage(o,a)}}},r=function(e,t,i,r){if(void 0!==e&&void 0!==t&&"string"==typeof i&&"string"==typeof r){var o=QSI.windowHandler.getWin(i);if(o){var a=new n("setEmbeddedData",{key:e,value:t}),s=JSON.stringify(a);if(/targetwindow/.test(i))o.postMessage(s,r);else try{var l=o.document.getElementById("PopUnderTargetFrame");if(l&&l.contentWindow)l.contentWindow.postMessage(s,r)}catch(e){}}}};QSI.util.observe(window,"beforeunload",function(){try{QSI.windowHandler.removeClosedWindowHandles();var e=QSI.windowHandler.getOptInIDsAndWindowNames()||{},t=QSI.windowHandler.getOptInIDsAndTargetOrigins()||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n],a=t[n]||"*",s=QSI.EmbeddedData.getEmbeddedData(n);if(!s||QSI.util.isObjectEmpty(s))continue;if(QSI.reg[n]&&/placeholderWindow/.test(o)){var l=QSI.reg[n].getTarget();return void i(l,o)}for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&r(c,s[c],o,a)}}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},!0);try{QSI.windowHandler.setupWindowHandles()}catch(e){QSI.dbg.e(e)}},function(e,t){QSI.EmbeddedData&&!window.QTest||(QSI.EmbeddedData={getHTMLFromDOM:getCookieVal:getURLParameter:getURLRegexMatch:getAdobeMarketingCloudIDJson:getJavaScriptValue:getHistory:function(){return QSI.history.get()},getTimeOnSite:function(){return QSI.history.getTimeOnSite()},getCurrentPage:getWindowLocation:function(){return window.location},getReferer:function(){return QSI.history.getPageReferrer()},getSiteReferer:function(){return QSI.history.getSiteReferrer()},getSearchTerm:getPageCount:function(){return QSI.history.getPageCount().unique},getTotalPageCount:function(){return QSI.history.getPageCount().total},getPercentagePageViewed:getSiteInterceptID:function(){return this.siid},getCreativeID:getEventTrackingData:getSiteCatalystValue:function(e){for(var t,n=e.split("."),i=QSI.adobeVar.split("."),r=window,o=0;o<i.length;o++)r=r[i[o]];for(var a=0,s=n.length;a<s;a++){if(r)r=r[(t=n[a]).charAt(0).toLowerCase()+t.slice(1)]||r[n[a]]}return r||null},getEmbeddedData:getUrlWithEmbeddedData:function(e,t,n){return e?this.mergeEmbeddedDataIntoURL(e,this.getEmbeddedData(t,n)):""},mergeEmbeddedDataIntoURL:function(e,t){var n,i;if(-1!==e.indexOf("?")){var r=e.split("?");n=r[0],i=this.getQueryParamsObjectFromString(r[1])}else n=e,i={};for(var o in t)i[o]=t[o];var a=QSI.util.buildQueryString(i);return a?n+"?"+a:n},getQueryParamsObjectFromString:getEmbeddedDataAsQueryStringParam:generateDynamicEmbeddedData:function(e){QSI.dbg.log("SI-4479 generateDynamicEmbeddedData start of function.  QSI.ed: "+JSON.stringify(QSI.ed)+"  ed: "+JSON.stringify(e));var t={};"string"==typeof e&&(e=e.split(""));for(var n=0,i=e.length;n<i;n++)try{var r=e[n];if(r.type&&r.name){var o="";switch(r.type){case"StaticVal":o=r.value;break;case"HTML":o=this.getHTMLFromDOM(r.value);break;case"Cookie":o=this.getCookieVal(r.value);break;case"QueryParam":o=this.getURLParameter(r.value);break;case"URLRegex":o=this.getURLRegexMatch(r.value);break;case"JavaScriptVal":o=this.getJavaScriptValue(r.value);break;case"SiteCatalyst":o=this.getSiteCatalystValue(r.value);break;case"EventTracking":o=this.getEventTrackingData(r.value);break;case"AdobeOrgID":o=this.getAdobeMarketingCloudIDJson(r.value);break;default:this["get"+r.type]?o=this["get"+r.type](r.value):0===r.value.indexOf("JSON.stringify")&&-1!==r.value.indexOf("marketingCloudVisitorID")?(QSI.dbg.log("SI-4479 generateDynamicEmbeddedData Attempting default case getJavaScriptValue fix. QSI.ed: "+JSON.stringify(QSI.ed)+"  set: "+JSON.stringify(r)),o=this.getJavaScriptValue(r.value)):(QSI.dbg.log("SI-4479 generateDynamicEmbeddedData Final else case in default QSI.ed: "+JSON.stringify(QSI.ed)+"  set: "+JSON.stringify(r)),o=r.value)}o=String(o),t[r.name]=o}}catch(e){QSI.dbg.e(e)}return t}})},function(e,t){QSI.localStorage={isLocalStorageEnabled:set:get:},function(e,t){(void 0===window.QSI.LoadingAnimationElement||window.QTest)&&(QSI.LoadingAnimationElement=QSI.util.Class({initialize:buildAnimation:function(e,t,n){var i=e/5*2;this.animationDiv=QSI.util.build("div",{style:{width:e+"px",height:e+"px",zindex:QSI.global.currentZIndex++,position:"absolute",top:t+"px",left:n+"px"}},[]);for(var r=0;r<8;r++){var o="rotate("+45*r+"deg) translate(0, -"+i+"px)",a=QSI.util.build("div",{style:{position:"absolute",top:e/2-e/6+"px",left:e/2-e/20+"px",width:e/10+"px",height:e/3+"px",background:"#000",transform:o,"-ms-transform":o,"-moz-transform":o,"-webkit-transform":o,opacity:.12*(r+1)}},[]);this.animationDiv.appendChild(a)}return this.animationBuilt=!0,this.animationDiv},startAnimation:function(e){var t=this;this.animationBuilt&&(this.intervalID=window.setInterval(function(){try{var e="rotate("+t.count+"deg)";QSI.util.setStyle(t.animationDiv,{transform:e,"-ms-transform":e,"-moz-transform":e,"-webkit-transform":e}),360===t.count&&(t.count=0),t.count+=45}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},e),this.animationStarted=!0)},stopAnimation:function(){this.animationStarted&&(window.clearInterval(this.intervalID),QSI.util.remove(this.animationDiv))}}))},function(e,t){QSI.PipedText={locators:[],setLocators:evaluateLocators:function(e,t){if(0===this.locators.length)return"";for(var n=0,i=this.locators.length;n<i;n++){var r=this.locators[n],o=r.type,a=new RegExp("\\"+this.escapeRegex(r.locator));if("SI"===r.prefix)switch(o){case"J":e=e.replace(a,QSI.EmbeddedData.getJavaScriptValue(r.expression));break;case"H":e=e.replace(a,QSI.EmbeddedData.getHTMLFromDOM(r.expression));break;case"U":e=e.replace(a,QSI.EmbeddedData.getURLParameter(r.expression));break;case"C":e=e.replace(a,QSI.EmbeddedData.getCookieVal(r.expression));break;case"W":t&&(e=e.replace(a,QSI.util.buildWidget(r.expression,t)))}else e=e.replace(a,"")}return e},escapeRegex:},function(e,t){QSI.BuildElementModule={buildElement:combineElementLoadEvents:function(e){var t=QSI.util.Deferred(),n=e.length,i=function r(e){try{var t=e.target||e.srcElement;!t.getAttribute("src")&&t.getAttribute("data-src")||i()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}for(var o=0,a=e.length;o<a;o++){var s=e[o];!s.complete||s.notComplete?QSI.util.observe(s,"load",r):n--}return 0===n&&t.resolve(),t.promise()},buildGenericElement:function(e){return this.buildBaseElement(e)},buildPopOverElement:function(e){return this.buildBaseElement(e)},buildTextElement:function(e){return this.buildBaseElement(e)},buildImageElement:buildTargetElement:addTargetElementFunctionality:addEmbeddedDataToGlobalInstance:buildSpanElement:buildTargetSpanElement:buildEmbeddedTargetElement:function(e){this.hasIframe=!0;var t=e.embeddedData||[];this.options&&"Survey"===this.options.targetURLType&&t.push({name:"Q_CanScreenCapture",type:"StaticVal",value:"1"});var n=this.getTarget(t),i=e.style.width,r=e.style.height;"%"===e.unitsOfMeasurement.width&&(i=100),"%"===e.unitsOfMeasurement.height&&(r=100);var o={"data-src":n,width:"100%",height:"100%",style:{},frameBorder:0};e.accessibilityTitle&&(o.title=e.accessibilityTitle),QSI.global.isHostedJS()&&!QSI.util.isIE(9)&&(o.sandbox="allow-scripts allow-same-origin allow-popups");var a=QSI.util.build("iframe",o);this.getEmbeddedTargets().push(a);var s=QSI.util.build("div",{className:"scrollable",style:{width:i+e.unitsOfMeasurement.width,height:r+e.unitsOfMeasurement.height,overflow:"none"}},[a]);return QSI.Browser.isMobile&&QSI.util.setStyle(s,{overflow:"auto"}),this.displayed.then(,e.content=s,this.buildBaseElement(e)},buildCloseButtonElement:addCloseButtonElementFunctionality:fixTransparentWithOpacity:buildBaseElement:getElementContents:getContentDims:appendDropShadow:buildDropShadow:onCloseClick:buildIFrame:setPositionStyles:centerHorizontally:function(e,t){this.centerDim(e,t.style.width,"width","left",t.unitsOfMeasurement)},centerVertically:centerDim:convertPercentStylesToPixels:getYPosition:function(e){return 1*e.top},getXPosition:getElementStyle:initializeIframes:function(){var e,t,n,i,r=this.getEmbeddedTargets();for(t=r.length,e=0;e<t;e++){n=r[e];var o=this;n.onload=function(){o.click()},(i=n.getAttribute("data-src"))&&(n.src=i)}},getEmbeddedTargets:},function(e,t){QSI.BuildResponsiveElementModule={HTML_ELEMENT_TYPES:{CONTAINER:"div",HEADLINE:"h1",TEXT:"p",BUTTON:"button",IMAGE:"img"},PARENT_CONTAINER_CLASS:"QSIWebResponsive",SHADOWBOX_CLASS:"QSIWebResponsiveShadowBox",ACTION_TYPES:{TARGET:"open-target",DISMISS:"dismiss-intercept"},buildParentContainer:buildHTMLElement:buildShadowBox:addButtonFunctionality:addTargetElementFunctionality:getTargetHelper:getTargetURL:function(e){var t=e.options.targetURL;return QSI.EmbeddedData.getUrlWithEmbeddedData(t,e.id)},addCloseButtonElementFunctionality:appendStylesToDocument:},function(e,t){QSI.BuildResponsiveEmbeddedTarget=QSI.util.Class({initialize:function(e,t){this.url=e,"Survey"===t&&(this.url=QSI.util.addScreenCaptureParameterToTarget(e))},build:buildContainer:buildIframe:function(e){var t=(e=e||{}).className||"",n={width:"100%",height:"100%",border:"none",position:"absolute",top:"0",left:"0"};e.style&&(n=this.concatProperties(e.style,n));var i=QSI.util.build("iframe",{className:t,style:n});return i["data-interceptid"]=e.interceptId,i.src=this.url,i.tabIndex=0,e.accessibilityTitle&&(i.title=e.accessibilityTitle),i},concatProperties:)},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveTimeZone",function(){return i});n(0);var i=);window.QSI.ResolveTimeZone=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveTimeOnSite",function(){return i});n(0);var i=);window.QSI.ResolveTimeOnSite=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveSiteCatalyst",function(){return i});n(0);var i=function(){return function(){var e=this;this.prepare=this.getValue=function(t){e.adobeVar=e.rootName;var n=window;return e.adobeVar.split(".").forEach(,t.split(".").forEach(,n||""}}}();window.QSI.ResolveSiteCatalyst=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveSearchTerm",function(){return i});n(0);var i=);window.QSI.ResolveSearchTerm=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveResolution",function(){return i});n(0);var i=);window.QSI.ResolveResolution=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveReferrer",function(){return i});n(0);var i=);window.QSI.ResolveReferrer=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolvePageCount",function(){return i});n(0);var i=);window.QSI.ResolvePageCount=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveJavaScript",function(){return i});n(0);var i=function(){return function(){this.prepare=function(e){var t=[];if(e){var n=window.QSI.EmbeddedData;t=Object.keys(e).map(}return"&Q_RJS="+encodeURIComponent(t.join("*|*"))}}}();window.QSI.ResolveJavaScript=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveIntercept",function(){return i});n(0);var i=function(){return function(){this.prepare=function(){var e=null;try{e=JSON.parse(window.QSI.localStorage.get("Q_INTER"))}catch(e){return"&Q_INTER="}var t=[];return null!==e&&(t=Object.keys(e).map(),"&Q_INTER="+escape(t.join("*|*"))}}}();window.QSI.ResolveIntercept=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveHTML",function(){return i});n(0);var i=function(){return function(){this.prepare=function(e){var t=[];if(e){var n=window.QSI.EmbeddedData;t=e.map(function(e){return e+"*:*"+escape(n.getHTMLFromDOM(e))})}return"&Q_RHTML="+escape(t.join("*|*"))}}}();window.QSI.ResolveHTML=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveHistory",function(){return i});n(0);var i=);window.QSI.ResolveHistory=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveEventTracking",function(){return i});n(0);var i=);window.QSI.ResolveEventTracking=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveCookie",function(){return i});n(0);var i=);window.QSI.ResolveCookie=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"ResolveActionSet",function(){return i});n(0);var i=);window.QSI.ResolveActionSet=new i},function(e,t,n){"use strict";function i(){var e=window.QSI.localStorage;return JSON.parse(e.get("Q_INTER"))}var r,o,a,s,l;n.r(t),n.d(t,"OperatorType",function(){return r}),n.d(t,"ComparatorType",function(){return o}),n.d(t,"NodeType",function(){return a}),n.d(t,"DependencyType",function(){return s}),n.d(t,"ClientSideTargeting",,r||(r={})),o||(o={})),function(e){e.VALUE_NODE="ValueNode",e.COMPARATOR_NODE="ComparatorNode",e.CONJUNCTION_NODE="ConjunctionNode",e.DEPENDENCY_NODE="DependencyNode"}(a||(a={})),s||(s={})),l||(l={}));var c=function(){return function(){var e=this;this.enabled=!1,this.setEnabled=this.isEnabled=this.evaluateIntercept=function(t){if(e.shouldShow(t)&&e.evaluateLogicTree(t.LogicTree)){for(var n,i,r=0,o=t.ActionSets;r<o.length;r++){var a=o[r];if(e.evaluateLogicTree(a.LogicTree)){n=a;break}}return n&&(i={Decision:{ActionSetID:n.ActionSetID,Creative:n.Creative,Target:n.Target},InterceptID:t.InterceptID,InterceptRevision:t.InterceptRevision},n.PopUnderTarget&&(i.PopUnderTarget=n.PopUnderTarget)),i}},this.evaluateLogicTree=function(t){switch(t.Type){case a.COMPARATOR_NODE:var n=t;return e.evaluateComparatorNode(n);case a.CONJUNCTION_NODE:var i=t;return e.evaluateConjunctionNode(i);case a.DEPENDENCY_NODE:var r=t;return e.evaluateDependencyNode(r);case a.VALUE_NODE:var o=t;return e.evaluateValueNode(o)}return!1},this.evaluateComparatorNode=function(t){var n=e.evaluateLogicTree(t.Left),i=t.Right?e.evaluateLogicTree(t.Right):void 0;if(t.Left.DependencyType===s.DATE_TIME_LOGIC&&"Date"===(r=t.Left).Expression&&(i=new Date(i).getTime().toString()),t.Left.DependencyType===s.SITE_HISTORY){var r=t.Left;if(!Array.isArray(n))return!1;if(0===n.length)return!1;switch(r.Expression){case l.ONLY:return!(n.length>1)&&e.compare(n[0],i,t.Comparator);case l.FIRST:return e.compare(n[0],i,t.Comparator);case l.LAST:return e.compare(n[n.length-1],i,t.Comparator);case l.ANY:for(var a=0;a<n.length;++a)if(e.compare(n[a],i,t.Comparator))return!0;return!1;default:return!1}}return t.Left.DependencyType===s.INTERCEPT_LOGIC_NONE&&t.Comparator===o.HAS_BEEN_SEEN?e.compare(n,i,o.HAS_NOT_BEEN_SEEN):e.compare(n,i,t.Comparator)},this.compare=function(t,n,i){switch(i){case o.EQ:return t===n;case o.NEQ:return t!==n;case o.GT:return t>n;case o.GTE:return t>=n;case o.LT:return t<n;case o.LTE:return t<=n;case o.IS_EMPTY:return!t;case o.NOT_EMPTY:return!!t;case o.CONTAINS:return!!(r=!!t&&t.toLowerCase())&&-1!==r.indexOf(n.toLowerCase());case o.NOT_CONTAINS:var r;return!(r=!!t&&t.toLowerCase())||-1===r.indexOf(n.toLowerCase());case o.REGEX:if("string"!=typeof t)return!1;var a=new RegExp(n.replace(/\//g,""));return!!t.match(a);case o.HAS_BEEN_TAKEN:return 0!==t;case o.HAS_NOT_BEEN_TAKEN:return 0===t;case o.HAS_BEEN_SEEN:return void 0!==t&&e.getTargetTimestamp(n)<=t;case o.HAS_NOT_BEEN_SEEN:return void 0===t||e.getTargetTimestamp(n)>t}},this.evaluateConjunctionNode=function(t){var n=e.evaluateLogicTree(t.Left),i=e.evaluateLogicTree(t.Right);switch(t.Operator){case r.AND:return n&&i;case r.OR:return n||i}},this.evaluateDependencyNode=function(e){var t=e;switch(e.DependencyType){case s.ACTION_SET_LOGIC:return function(e){return window.QSI.history.getActionSetHistory(e.ActionSetID,!e.InCurrentSession)}(e);case s.ADOBE_ANALYTICS:return function(e){for(var t=e.Expression.split("."),n=window.QSI.adobeVar.split("."),i=window,r=0;r<n.length;r++){var o=n[r];if(!i[o])return"";i=i[o]}for(var a=0,s=t.length;a<s;a++)i&&(i=i[t[a]]);return i||""}(t);case s.COOKIE:return function(e){return window.QSI.cookie.get(e.Expression)}(t);case s.EVENT_TRACKING:return function(e){return window.QSI.EventTracker.get(e.Expression)}(t);case s.HTML_ON_SITE:return function(e){return window.QSI.EmbeddedData.getHTMLFromDOM(e.Expression)}(t);case s.INTERCEPT_LOGIC:return(n=i())[t.Expression[0]];case s.INTERCEPT_LOGIC_ANY:case s.INTERCEPT_LOGIC_NONE:for(var n=i(),r=0,o=Object.keys(n);r<o.length;r++){var a=o[r];t.Expression.includes(a)||delete n[a]}var l=Object.values(n);return Math.max.apply(Math,l);case s.DATE_TIME_LOGIC:return t);case s.JAVASCRIPT_EXPRESSION:return t);case s.SITE_HISTORY:return window.QSI.history.get().split("|").filter(;case s.PAGE_COUNT:return t);case s.REFERRER:return t);case s.RESOLUTION:return t);case s.SEARCH_TERM:return window.QSI.history.getSearch();case s.TIME_ON_SITE:return t)}},this.evaluateValueNode=this.shouldShow=function(e){var t=window.QSI,n=t.localStorage,i=t.cookie;if(e.HideOnCookiesDisabled&&!i.areCookiesEnabled())return!1;if(e.HideOnLocalStorageDisabled&&!n.isLocalStorageEnabled())return!1;if(e.PreventRepeatedDisplay){if("0"!==e.PreventRepeatedDisplay&&null!==i.get("QSI_${intercept.InterceptID}_intercept"))return!1;i.erase("QSI_${intercept.InterceptID}_intercept")}return!0},this.getTargetTimestamp=function(e){var t=86400*e;return Math.round(Date.now()/1e3)-t}}}();window.QSI.ClientSideTargeting=new c}]);
//# sourceMappingURL=CoreModule.js.map
} catch(e) {
  if (typeof QSI !== 'undefined' && QSI.dbg && QSI.dbg.e) {
    QSI.dbg.e(e);
  }
}