;
(self.AMP=self.AMP||[]).push({m:1,v:"2312191621000",n:"amp-fx-collection",ev:"0.1",l:!0,f:function(t,s){(()=>{var s;{isArray:r}=Array,{hasOwnProperty:o,toString:a}=Object.prototype;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;d,v=["fade-in","fade-in-scroll","float-in-bottom","float-in-top","fly-in-bottom","fly-in-left","fly-in-right","fly-in-top","parallax"],p=v[0],m=v[1],b=v[2],g=v[3],_=v[4],A=v[5],P=v[6],y=v[7],w=v[8],E={[p]:{observes:0,opacity:!0},[m]:{observes:0,opacity:!0},[b]:{observes:1,translates:{y:!0}},[g]:{observes:1,translates:{y:!0}},[_]:{observes:0,translates:{y:!0}},[A]:{observes:0,translates:{x:!0}},[P]:{observes:0,translates:{x:!0}},[y]:{observes:0,translates:{y:!0}},[w]:{observes:0,translates:{y:!0}}};function x(t,s){if(t==s)return!1;const{observes:n,opacity:i,translates:e}=E[t],{observes:r,opacity:o,translates:a}=E[s];if(n!==r)return!1;if(i&&o)return!1;if(e&&a){if(e.x&&a.x)return!1;if(e.y&&a.y)return!1}return!0}function M(t){return f(v.indexOf(t)>-1,"Invalid amp-fx type `%s`",t)}var R=["Webkit","webkit","Moz","moz","ms","O","o"],I={"getPropertyPriority":()=>"","getPropertyValue":;function V(t){const s=t.replace(/[A-Z]/g,();return R.some(()?`-${s}`:s}function T(t,s,n){if(s.startsWith("--"))return s;d||(d=Object.create(null));let i=d[s];if(!i||n){if(i=s,void 0===t[s]){const n=s),e=t,n);void 0!==t[e]&&(i=e)}n||(d[s]=i)}return i}function $(t,s){const{style:n}=t;for(const t in s)n.setProperty(V(T(n,t)),String(s[t]),"important")}function z(t,s,n,i,e){const r=T(t.style,s,e);if(!r)return;const o=i?n+i:n;t.style.setProperty(V(r),o)}ction C(t){return"display"in t&&"STYLE","`display` style detected. You must use toggle instead."),t}function j(t,s,n,i){const e=Y(t),r=N(e);!function(t,s,n,i,e,r){const o=L(t);let a=o[n];a||(a=o[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),a.ctor||(a.ctor=i,a.context=s,a.sharedInstance=!1,a.resolve&&X(t,n))}(r,e,s,n),i&&X(r,s)}t=>H(t,"mutator"),B=t=>H(t,"viewport");function Z(t,s){return!(!t||!s)&&t.left==s.left&&t.top==s.top&&t.width==s.width&&t.height==s.height}function q(t,s,n){h("X"==s||"Y"==s),h(1==Math.abs(n));const i=t.element,e="X"==s,r=n*t.flyInDistance+(e?"vw":"vh");t.initialTrigger||(W(i).mutateElement(i,(()=>{const s=S(t.win,i),n=e?"left":"top",o="auto"===s[n]?"0px":s[n],a={position:"static"===s.position?"relative":s.position,visibility:"visible"};a[n]=`calc(${o} - ${r})`,F(i,C(a))})),t.initialTrigger=!0),F(i,{"transition-duration":t.duration,"transition-timing-function":t.easing,"transform":`translate${s}(${r})`})}function D(t){const s=parseFloat(t.getAttribute("data-margin-start"));return s&&f(s>=0&&s<=100,"data-margin-start must be a percentage value and be between 0% and 100% for: %s",t),s}unction J(t,s,n){const i=G(t);return h(1==Math.abs(n)),!!i&&i+n*s.viewportHeight*s.flyInDistance/100<=(1-s.marginStart)*s.viewportHeight}function K(t,s,n){const i=G(t),e=void 0!==n?n:s.viewportHeight;return!!i&&i<=(1-s.marginStart)*e}var Q={[w]:{userAsserts(t){const s=f(t.getAttribute("data-parallax-factor"),"data-parallax-factor=<number> attribute must be provided for: %s",t);f(parseFloat(s)>0,"data-parallax-factor must be a number and greater than 0 for: %s",t)},update(t){const s=this,n=G(t);if(h(s.adjustedViewportHeight),!n||n>s.adjustedViewportHeight)return;const i=-(parseFloat(s.factor)-1),e=(s.adjustedViewportHeight-n)*i;s.offset=e,F(s.element,{transform:`translateY(${s.offset.toFixed(0)}px)`})}},[_]:{userAsserts:D,update(t){const s=this;h(s.viewportHeight),J(t,s,-1)&&q(s,"Y",-1)}},[A]:{userAsserts:D,update(t){const s=this;h(s.viewportHeight),K(t,s)&&q(s,"X",1)}},[P]:{userAsserts:D,update(t){const s=this;h(s.viewportHeight),K(t,s)&&q(s,"X",-1)}},[y]:{userAsserts:D,update(t){const s=this;h(s.viewportHeight),J(t,s,1)&&q(s,"Y",1)}},[p]:{userAsserts:D,update(t){const s=this;h(s.viewportHeight),K(t,s)&&F(s.element,{"transition-duration":s.duration,"transition-timing-function":s.easing,"opacity":1})}},[m]:{userAsserts(t){const s=D(t),n=parseFloat(t.getAttribute("data-margin-end"));n&&(f(n>=0&&n<=100,"data-margin-end must be a percentage value and be between 0% and 100% for: %s",t),f(n>s,"data-margin-end must be greater than data-margin-start for: %s",t))},update(t){const s=this,{marginStart:n,viewportHeight:i}=s;if(h(s.adjustedViewportHeight),!K(t,s,s.adjustedViewportHeight))return;if(!s.hasRepeat&&s.offset>=1)return;const e=1*(i-G(t)-n*i)/((s.marginEnd-n)*i);s.offset=e,F(s.element,{opacity:s.offset})}}};function U(t){const s=parseFloat(t);return isNaN(s)?null:s/100}function tt(t){switch(t){case p:case P:case A:case y:case _:return{"start":.05};case m:return{"start":0,"end":.5};default:return{"start":0,"end":1}}}function st(t,s,n,i,e){return t[s]==n||(nt(i),!1)}function nt(t,s=0){const{classList:n,id:i,parentElement:e,tagName:r}=t;if(i)return`#${i}`;let o=r.toLowerCase();if(n.length>0){const t=n.length>1?"...":"";o+=`.${n[0]}${t}`}if(!e)return`${o} (detached)`;const{firstElementChild:a,lastElementChild:u}=e;return t==a&&t==u||(t==a?o+=":first-child":t==u&&(o+=":last-child")),s>0?o:`${nt(e,s+1)} > ${o}`}t.registerServiceForDoc("amp-fx-collection",class{constructor(t){this.Ni=t,this.b$=[],Promise.all([t.whenReady(),t.whenFirstVisible()]).then((()=>{const t=this.Ni.getRootNode();this.g$(),t,0,(()=>this.g$()),void 0)}))}g$(){this.Ni.getRootNode().querySelectorAll("[amp-fx]").forEach((t=>{this.b$.includes(t)||function(t,...s){try{t.apply(null,s)}catch(t){!function(t){const s=i.apply(null,arguments);setTimeout((()=>{throw e(s),s}))}(t)}}(()}))}A$(t){h(t.hasAttribute("amp-fx")),h(!this.b$.includes(t)),h(this.Ni.isVisible()),function(t){h(t.hasAttribute("amp-fx"));const s=t.getAttribute("amp-fx").trim().toLowerCase().split(/\s+/);return f(s.length,"No value provided for `amp-fx` attribute"),function(t){for(let s=0;s<t.length;s++){const n=t[s];for(let i=s+1;i<t.length;i++)x(n,t[i])||t.splice(i--,1)}return t}(s.filter(M))}(t).forEach((),this.b$.push(t)}P$(t,s){const{observes:n}=h(E[s]);1!=n?function(t,s,n){(function(t){j(t,"position-observer",class{constructor(t){this.Ni=t,this.i=t.win,this.l_=[],this.ar=k(this.i,"vsync"),this.Uu=B(t),this.c_=[],this.a_=!1,this.f_=!1,this.__=!1,this.v_=this.i,()}observe(t,s,n){const i=new class{constructor(t,s,n,i){this.element=s,this.Ie=i,this.fidelity=n,this.turn=0==n?Math.floor(4*Math.random()):0,this.A_=null,this.Uu=B(t)}Ee(t){const s=this.A_;if(s&&Z(s.positionRect,t.positionRect)&&Z(s.viewportRect,t.viewportRect))return;h(t.positionRect);const n=t.positionRect;var i,e;t.relativePos=(i=n,e=t.viewportRect,i.top<e.top?"top":i.bottom>e.bottom?"bottom":"inside"),n,t.viewportRect)?(this.A_=t,this.Ie(t)):this.A_&&(this.A_=null,t.positionRect=null,this.Ie(t))}update(t){if(!t){if(0!=this.turn)return void this.turn--;0==this.fidelity&&(this.turn=4)}const s=this.Uu.getSize(),n={left:0,top:0,width:i=s.width,height:e=s.height,bottom:0+e,right:0+i,x:0,y:0};var i,e;this.Uu.getClientRectAsync(this.element).then((t=>{this.Ee({positionRect:t,viewportRect:n,relativePos:null})}))}}(this.Ni,t,s,n);return this.l_.push(i),this.__||this.P_(),i.update(),()=>{for(let t=0;t<this.l_.length;t++)if(this.l_[t]==i)return void this.d_(t)}}unobserve_(t){this.l_.splice(t,1),0==this.l_.length&&this.p_()}P_(){this.__=!0,this.c_.push(this.Uu.onScroll((()=>{this.m_()}))),this.c_.push(this.Uu.onResize((()=>{this.R_()})))}p_(){this.updateAllEntries(),this.f_=!0,this.a_?this.ar.measure(():this.f_=!1}})})(t),new class{constructor(t,s,n){this.win=t.win,this.Mt=((s),this.Uu=B(s),this.oc=W(s),this.viewportHeight=null,this.adjustedViewportHeight=null,this.element=s,this.offset=0,this.y$=n,Q[n].userAsserts(s),this.factor=parseFloat(s.getAttribute("data-parallax-factor")),this.marginStart=s.hasAttribute("data-margin-start")?U(s.getAttribute("data-margin-start")):tt(n).start,this.marginEnd=s.hasAttribute("data-margin-end")?U(s.getAttribute("data-margin-end")):tt(n).end,this.easing=function(t){const s={"linear":"cubic-bezier(0.00, 0.00, 1.00, 1.00)","ease-in-out":"cubic-bezier(0.80, 0.00, 0.20, 1.00)","ease-in":"cubic-bezier(0.80, 0.00, 0.60, 1.00)","ease-out":"cubic-bezier(0.40, 0.00, 0.40, 1.00)"};return s[t]?s[t]:(f(t.startsWith("cubic-bezier"),"All custom bezier curves should be specified by following the `cubic-bezier()` function notation."),t)}(s.hasAttribute("data-easing")?s.getAttribute("data-easing"):function(t){switch(t){case p:return"ease-in";case P:case A:case y:case _:return"ease-out";default:return"ease-in"}}(n)),this.duration=s.hasAttribute("data-duration")?s.getAttribute("data-duration"):function(t,s){switch(s){case p:return"1000ms";case _:case y:case A:case P:const{width:s}=B(t).getSize();return(n=Math.min(1e3,s))<480?n=480:n>1e3&&(n=1e3),200*(n-480)/520+400+"ms";default:return"1ms"}var n}(t,n),this.flyInDistance=s.hasAttribute("data-fly-in-distance")?parseFloat(s.getAttribute("data-fly-in-distance")):function(t,s){switch(s){case _:case y:const{width:s}=B(t).getSize();return s<1e3?25:33;case A:case P:return 100;default:return 1}}(t,n),this.hasRepeat=s.hasAttribute("data-repeat"),this.initialTrigger=!1,this.w$().then((),this.x$()}E$(){this.Mt.observe(this.element,1,Q[this.y$].update.bind(this)),this.Uu.onResize((()=>{this.x$(),this.w$().then(()}))}x$(){this.oc.measureElement(()}w$(){return this.oc.measureElement((()=>{const t=this.Uu.getHeight();let s=0;for(let t=this.element;t;t=t.offsetParent)s+=t.offsetTop;return s<t?s:t}))}}(t,s,n),F(s,C(function(t,s){switch(s){case w:return{"will-change":"transform"};case p:case m:return{"will-change":"opacity","opacity":0};case _:case y:case A:case P:return{"will-change":"transform"};default:return{"visibility":"visible"}}}(0,n)))}(this.Ni,t,s):function(t,s,n){if((i=s,H(i,"viewer")).isEmbedded())return;var i;const e="fx-scroll-dispatch";j(t,e,class{constructor(t){this.Ni=t,this._u=new class{dd(t){return this.Vt||(this.Vt=[]),this.Vt.push(t),remove(t){this.Vt&&this.Vt,t)}ire(t){if(this.Vt)for(const s of this.Vt.slice())s(t)},this.M$=function(t){let s=!1,n=null,i=t;return(...t)=>(s||(n=i.apply(self,t),s=!0,i=null),n)}((),this.R$=0,this.I$=0,this.V$=!0}u(){const t=B(this.Ni);t.onScroll(()}T$(t){this.I$=t;const s=this.I$-this.R$;return(!this.V$&&s>0||this.V$&&s<0)&&(this.R$=this.I$),!this.V$&&this.I$<=36||!this.V$&&s<-20?(this.$$(!0),void(this.R$=this.I$)):void(this.V$&&s>80&&(this.$$(!1),this.R$=this.I$))}$$);const r=H(t,e),o=W(s);let a=!0;o.measureMutateElement(s,(()=>{const i=S(t.win,s),e=function(t,s,n){const i=s.replace(/^float\-in\-([^\s]+)$/,"$1");return h(i.length>0),st(n,i,O(0),t)?i:null}(s,n,i),o=function(t,s){return st(s,"overflow","hidden",t)&&st(s,"position","fixed",t)}(s,i);e&&o?r.observe((t=>{!function(t,s,n){let i=0;W(t).measureMutateElement(t,(()=>{i=function(t,s,n){if(s)return 0;const i=t.getBoundingClientRect().height;return"top"==n?-i:i}(t,s,n)}),(()=>{!function(t,s){$(t,{"transition":"transform 300ms ease","transform":`translate(0, ${O(s)})`})}(t,i)}))}(s,t,h(e))})):a=!1}),(()=>{a&&s)}))}(this.Ni,t,s)}})})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-fx-collection-0.1.mjs.map