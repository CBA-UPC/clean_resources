
var CoveoInProduct;(()=>{var e={207:function(e){e.exports=function(){"use strict";ar t=/^\s+/,n=/\s+$/;function i(e,t){if(t=t||{},(e=e?e:"")instanceof i)return e;if(!(this instanceof i))return new i(e,t);var n=r(e);if(this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1)this._r=Math.round(this._r);if(this._g<1)this._g=Math.round(this._g);if(this._b<1)this._b=Math.round(this._b);this._ok=n.ok}function r(t){var n={r:0,g:0,b:0},i=1,r=null,s=null,c=null,u=!1,d=!1;if("string"==typeof t)t=q(t);if("object"==e(t)){if(N(t.r)&&N(t.g)&&N(t.b))n=o(t.r,t.g,t.b),u=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb";else if(N(t.h)&&N(t.s)&&N(t.v))r=L(t.s),s=L(t.v),n=l(t.h,r,s),u=!0,d="hsv";else if(N(t.h)&&N(t.s)&&N(t.l))r=L(t.s),c=L(t.l),n=a(t.h,r,c),u=!0,d="hsl";if(t.hasOwnProperty("a"))i=t.a}return i=E(i),{ok:u,format:t.format||d,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}unction s(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var c=o-s;switch(r=a>.5?c/(2-o-s):c/(o+s),o){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:r,l:a}}function a(e,t,n){var i,r,o;function s(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+6*(t-e)*n;if(n<.5)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;else return e}if(e=T(e,360),t=T(t,100),n=T(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=s(c,a,e+1/3),r=s(c,a,e),o=s(c,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}function c(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,c=o-s;if(r=0===o?0:c/o,o==s)i=0;else{switch(o){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:r,v:a}}unction u(e,t,n,i){var r=[j(Math.round(e).toString(16)),j(Math.round(t).toString(16)),j(Math.round(n).toString(16))];if(i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0);else return r.join("")}function d(e,t,n,i,r){var o=[j(Math.round(e).toString(16)),j(Math.round(t).toString(16)),j(Math.round(n).toString(16)),j(H(i))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);else return o.join("")}unction p(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s-=t/100,n.s=P(n.s),i(n)}function h(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s+=t/100,n.s=P(n.s),i(n)}e={isDark:isLight:isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:getLuminance:function(){var e,t,n,i,r,o,s=this.toRgb();if(e=s.r/255,t=s.g/255,n=s.b/255,e<=.03928)i=e/12.92;else i=Math.pow((e+.055)/1.055,2.4);if(t<=.03928)r=t/12.92;else r=Math.pow((t+.055)/1.055,2.4);if(n<=.03928)o=n/12.92;else o=Math.pow((n+.055)/1.055,2.4);return.2126*i+.7152*r+.0722*o},setAlpha:toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:toHslString:toHex:toHexString:function(e){return"#"+this.toHex(e)},toHex8:toHex8String:toRgb:toRgbString:toPercentageRgb:toPercentageRgbString:toName:function(){if(0===this._a)return"transparent";if(this._a<1)return!1;else return O[u(this._r,this._g,this._b,!0)]||!1},toFilter:toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;if(!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e))if("name"===e&&0===this._a)return this.toName();else return this.toRgbString();if("rgb"===e)n=this.toRgbString();if("prgb"===e)n=this.toPercentageRgbString();if("hex"===e||"hex6"===e)n=this.toHexString();if("hex3"===e)n=this.toHexString(!0);if("hex4"===e)n=this.toHex8String(!0);if("hex8"===e)n=this.toHex8String();if("name"===e)n=this.toName();if("hsl"===e)n=this.toHslString();if("hsv"===e)n=this.toHsvString();return n||this.toHexString()},clone:_applyModification:lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:triad:function(){return this._applyCombination(x,[3])},tetrad:,i.fromRatio=function(t,n){if("object"==e(t)){var r={};for(var o in t)if(t.hasOwnProperty(o))if("a"===o)r[o]=t[o];else r[o]=L(t[o]);t=r}return i(t,n)},i.equals=function(e,t){if(!e||!t)return!1;else return i(e).toRgbString()==i(t).toRgbString()},i.random=i.mix=i.readability=i.isReadable=function(e,t,n){var r,o,s=i.readability(e,t);switch(o=!1,(r=W(n)).level+r.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7;break}return o},i.mostReadable=function(e,t,n){var r,o,s,a,c=null,l=0;o=(n=n||{}).includeFallbackColors,s=n.level,a=n.size;for(var u=0;u<t.length;u++)if((r=i.readability(e,t[u]))>l)l=r,c=i(t[u]);if(i.isReadable(e,c,{level:s,size:a})||!o)return c;else return n.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],n)};var I=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=i.hexNames=C(I);function C(e){var t={};for(var n in e)if(e.hasOwnProperty(n))t[e[n]]=n;return t}function E(e){if(e=parseFloat(e),isNaN(e)||e<0||e>1)e=1;return e}function T(e,t){if(M(e))e="100%";var n=R(e);if(e=Math.min(t,Math.max(0,parseFloat(e))),n)e=parseInt(e*t,10)/100;if(Math.abs(e-t)<1e-6)return 1;else return e%t/parseFloat(t)}ion L(e){if(e<=1)e=100*e+"%";return e}r V,$,D,U=($="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",D="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+$),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+$),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+$),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});unction q(e){e=e.replace(t,"").replace(n,"").toLowerCase();var i,r=!1;if(I[e])e=I[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(i=U.rgb.exec(e))return{r:i[1],g:i[2],b:i[3]};if(i=U.rgba.exec(e))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=U.hsl.exec(e))return{h:i[1],s:i[2],l:i[3]};if(i=U.hsla.exec(e))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=U.hsv.exec(e))return{h:i[1],s:i[2],v:i[3]};if(i=U.hsva.exec(e))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=U.hex8.exec(e))return{r:_(i[1]),g:_(i[2]),b:_(i[3]),a:F(i[4]),format:r?"name":"hex8"};if(i=U.hex6.exec(e))return{r:_(i[1]),g:_(i[2]),b:_(i[3]),format:r?"name":"hex"};if(i=U.hex4.exec(e))return{r:_(i[1]+""+i[1]),g:_(i[2]+""+i[2]),b:_(i[3]+""+i[3]),a:F(i[4]+""+i[4]),format:r?"name":"hex8"};if(i=U.hex3.exec(e))return{r:_(i[1]+""+i[1]),g:_(i[2]+""+i[2]),b:_(i[3]+""+i[3]),format:r?"name":"hex"};else return!1}function W(e){var t,n;if("AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t)t="AA";if("small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n)n="small";return{level:t,size:n}}return i}()}},t={};.d=(e,t)=>{for(var i in t)if(n.o(t,i)&&!n.o(e,i))Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=n.r=e=>{if("undefined"!=typeof Symbol&&Symbol.toStringTag)Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{customRenewAccessToken:()=>Qn,executeQuery:()=>Dn,executeRecommendationQuery:()=>Un,hide:()=>zn,onClose:()=>qn,onOpen:()=>Nn,setContext:()=>Vn,setContextValue:()=>$n,setRenewAccessTokenFunction:()=>Bn,show:()=>Gn,usingDefaultRenewFunc:);const e=".coveo-search-ipx",t="eyJhbGciOiJIUzI1NiJ9.eyJzZWFyY2hIdWIiOiJkZXZlbG9wZXJzX3pvb21fdXNfaXB4IiwidjgiOnRydWUsInRva2VuSWQiOiJydG9rYmZ2cDNqbTJwZXV2Y3lweWJ5a2s1ZSIsIm9yZ2FuaXphdGlvbiI6Inpvb212aWRlb2NvbW11bmljYXRpb25zbm9ucHJvZHVjdGlvbjF3c2trNDZpdyIsInVzZXJJZHMiOlt7InR5cGUiOiJVc2VyIiwibmFtZSI6ImFub255bW91c0Bjb3Zlby5jb20iLCJwcm92aWRlciI6IkVtYWlsIFNlY3VyaXR5IFByb3ZpZGVyIn1dLCJyb2xlcyI6WyJxdWVyeUV4ZWN1dG9yIl0sImlzcyI6IlNlYXJjaEFwaSIsInVzZXJEaXNwbGF5TmFtZSI6IkFub255bW91cyIsImV4cCI6MTcwNTUxNDUzNiwiaWF0IjoxNzA1NDI4MTM2fQ.LbrxhCYGAIpW-N_3AKU729D3G1_MNNHCDuoM6X0F2M4",r="https://search.cloud.coveo.com/pages/zoomvideocommunicationsnonproduction1wskk46iw/inappwidget/82c34bc5-54ab-49f2-9acb-fd6cec7ddceb",o="<style></style>",s="",a="",c=".btn.mod-primary",l="	font-size: 12px;	font-family: canada-type-gibson,sans-serif;		bottom: 10px;	right: 50px;	",u=".btn.mod-primary:hover",d=".btn.mod-primary:focus",f="btn mod-primary",p="Search",h="<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"white\" viewBox=\"0 0 22 22\"><path d=\"m11,2c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9m0 20c-6.1 0-11-4.9-11-11 0-6.1 4.9-11 11-11 6.1 0 11 4.9 11 11 0 6.1-4.9 11-11 11\"/><path d=\"m11,4.7c-2.2 0-4 1.8-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.8-3 5h2c0-2.2 3-2.5 3-5 0-2.3-1.8-4-4-4m-1 12.3h2v-2h-2v2\"/></svg>",g="https://analytics.cloud.coveo.com/rest/ua",m="82c34bc5-54ab-49f2-9acb-fd6cec7ddceb",v="#0b5cff",y="#fff";ar w=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class x{constructor(){this.ready=new b}lear(){this.ready=new b}publish(e){return w(this,void 0,void 0,(function*(){if(yield this.ready.value,this.pub)this.pub.postMessage(e,this.pub.originToPublishTo)}))}subscribe(e,t){return w(this,void 0,void 0,(function*(){if(yield this.ready.value,this.sub)this.sub.addEventListener("message",(n=>{var i,r,o,s;const a=n.origin||(null===(r=null===(i=null==n?void 0:n.target)||void 0===i?void 0:i.location)||void 0===r?void 0:r.origin)||"";if(""!==a)if("*"===(null===(o=this.sub)||void 0===o?void 0:o.originToListenFrom)||-1!==(null===(s=this.sub)||void 0===s?void 0:s.originToListenFrom.indexOf(a)))if(n.data.key==e)t(n)}))}))}}class S{constructor(e=new x){this.bus=e,this.publishInitialization(),this.publishHref(),this.publishVisitorId()}init(e){const t={postMessage:e.postMessage.bind(e),originToPublishTo:r},n={addEventListener:window.addEventListener.bind(window),originToListenFrom:r};this.bus.sub=n,this.bus.pub=t,this.bus.start()}publishOpen(){this.bus.publish({key:"open"})}publishClose(){this.bus.publish({key:"close"})}publishExecuteQuery(e){this.bus.publish({key:"executeQuery",payload:{options:e}})}publishExecuteRecommendationQuery(e){this.bus.publish({key:"executeRecommendationQuery",payload:{options:e}})}publishContext(e){this.bus.publish({key:"context",payload:{context:e}})}publishContextValueublishInitialization(){this.bus.publish({key:"init",payload:{origin:location.origin}})}publishHref(){this.bus.publish({key:"href",payload:{href:document.location.href}})}publishVisitorId(){const e=localStorage.getItem("visitorId");if(e)this.bus.publish({key:"visitorId",payload:{visitorId:e}})}subscribeToCustomTokenHasExpired(e){this.bus.subscribe("customTokenHasExpired",()}bscribeToHeightChanged(e){this.bus.subscribe("heightChanged",()}}const k=new S,A=new b;class I extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.applyStyles(),this.iframe=this.buildIFrame(),this.messages=new S,this.iframe.onload=this.shadowRoot.append(this.iframe)}onIframeLoad(){this.messages.init(this.iframe.contentWindow),A.resolve(this)}uildIFrame(){const e=document.createElement("iframe");return e.setAttribute("src",r+"?access_token="+t),e.setAttribute("sandbox","allow-scripts allow-same-origin allow-top-navigation allow-popups allow-popups-to-escape-sandbox"),e.style.height="100%",e.style.width="100%",e.style.borderStyle="none",e.style.borderRadius="8px",e}}class O extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.page=new I,this.attachPage(),this.applyStyles()}et popper(e){this.popperReference=e}ustModalHeight(e){let t;if(e>this.desiredHeight||e<this.desiredHeight)t=this.desiredHeight;else t=e;if(this.style.height=`${t}px`,this.popperReference)this.popperReference.update()}get desiredHeightpplyStyles(){this.style.display="flex",this.style.zIndex="999999",this.style.backgroundColor="white",this.style.boxShadow="0 0 7px rgba(0,0,0,.5)",this.style.height=`${this.desiredHeight}px`,this.style.maxHeight="80vh",this.style.width="80vw",this.style.maxWidth="500px",this.style.opacity="0",this.style.borderRadius="8px"}}unction E(e){return e instanceof C(e).Element||e instanceof Element}unction P(e){if("undefined"==typeof ShadowRoot)return!1;else return e instanceof C(e).ShadowRoot||e instanceof ShadowRoot}var _=Math.max,M=Math.min,R=Math.round;function j(){var e=navigator.userAgentData;if(null!=e&&e.brands&&Array.isArray(e.brands))return e.brands.map(().join(" ");else return navigator.userAgent}unction H(e,t,n){if(void 0===t)t=!1;if(void 0===n)n=!1;var i=e.getBoundingClientRect(),r=1,o=1;if(t&&T(e))r=e.offsetWidth>0?R(i.width)/e.offsetWidth||1:1,o=e.offsetHeight>0?R(i.height)/e.offsetHeight||1:1;var s=(E(e)?C(e):window).visualViewport,a=!L()&&n,c=(i.left+(a&&s?s.offsetLeft:0))/r,l=(i.top+(a&&s?s.offsetTop:0))/o,u=i.width/r,d=i.height/o;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}on q(e,t,n){if(void 0===n)n=!1;var i=T(t),r=T(t)&&t),o=$(t),s=H(e,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};if(i||!i&&!n){if("body"!==V(t)||N(o))a=function(e){if(e===C(e)||!T(e))return F(e);else return{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop};var t}(t);if(T(t))(c=H(t,!0)).x+=t.clientLeft,c.y+=t.clientTop;else if(o)c.x=D(o)}return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function W(e){var t=H(e),n=e.offsetWidth,i=e.offsetHeight;if(Math.abs(t.width-n)<=1)n=t.width;if(Math.abs(t.height-i)<=1)i=t.height;return{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Q(e){if("html"===V(e))return e;else return e.assignedSlot||e.parentNode||(P(e)?e.host:null)||$(e)}function B(e){if(["html","body","#document"].indexOf(V(e))>=0)return e.ownerDocument.body;if(T(e)&&N(e))return e;else return B(Q(e))}function z(e,t){var n;if(void 0===t)t=[];var i=B(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=C(i),s=r?[o].concat(o.visualViewport||[],N(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(z(Q(s)))}unction J(e){if(!T(e)||"fixed"===U(e).position)return null;else return e.offsetParent}function K(e){for(var t=C(e),n=J(e);n&&G(n)&&"static"===U(n).position;)n=J(n);if(n&&("html"===V(n)||"body"===V(n)&&"static"===U(n).position))return t;else return n||function(e){var t=/firefox/i.test(j());if(/Trident/i.test(j())&&T(e))if("fixed"===U(e).position)return null;var n=Q(e);if(P(n))n=n.host;for(;T(n)&&["html","body"].indexOf(V(n))<0;){var i=U(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;else n=n.parentNode}return null}(e)||t}var Y="top",X="bottom",Z="right",ee="left",te="auto",ne=[Y,X,Z,ee],ie="start",re="end",oe="clippingParents",se="viewport",ae="popper",ce="reference",le=ne.reduce((,[]),ue=[].concat(ne,[te]).reduce((,[]),de=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fe(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((),i.push(e)}return e.forEach((),e.forEach((),i}var pe={placement:"bottom",modifiers:[],strategy:"absolute"};unction ge(e){if(void 0===e)e={};var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?pe:r;return function(e,t,n){if(void 0===n)n=o;var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},pe,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(he(t,n)){a.rects={reference:q(t,K(n),"fixed"===a.options.strategy),popper:W(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(();for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var r=a.orderedModifiers[i],o=r.fn,s=r.options,c=void 0===s?{}:s,d=r.name;if("function"==typeof o)a=o({state:a,options:c,name:d,instance:u})||a}else a.reset=!1,i=-1}}},update:(r=function(){if(!s)s=new Promise(();return s}),destroy:;if(!he(e,t))return u;eturn u.setOptions(n).then((),u}}var me={passive:!0};function ve(e){return e.split("-")[0]} xe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Se(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=s.x,p=void 0===f?0:f,h=s.y,g=void 0===h?0:h,m="function"==typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=ee,w=Y,x=window;if(l){var S=K(n),k="clientHeight",A="clientWidth";if(S===C(n))if("static"!==U(S=$(n)).position&&"absolute"===a)k="scrollHeight",A="scrollWidth";if(r===Y||(r===ee||r===Z)&&o===re){w=X,g-=(d&&S===x&&x.visualViewport?x.visualViewport.height:S[k])-i.height,g*=c?1:-1}if(r===ee||(r===Y||r===X)&&o===re){b=Z,p-=(d&&S===x&&x.visualViewport?x.visualViewport.width:S[A])-i.width,p*=c?1:-1}}var I=Object.assign({position:a},l&&xe),O=!0===u?{x:p,y:g},C(n)):{x:p,y:g};if(p=O.x,g=O.y,c){var E;return Object.assign({},I,((E={})[w]=y?"0":"",E[b]=v?"0":"",E.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",E))}return Object.assign({},I,((t={})[w]=y?g+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const ke={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=ue.reduce((,{}),a=s[t.placement],c=a.x,l=a.y;if(null!=t.modifiersData.popperOffsets)t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l;t.modifiersData[i]=s}};var Ae={left:"right",right:"left",bottom:"top",top:"bottom"};function Ie(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ae[e]}))}var Oe={start:"end",end:"start"};unction Ee(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;else if(n&&P(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}unction Pe(e,t,n){return t===se?Te(function(e,t){var n=C(e),i=$(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,c=0;if(r){o=r.width,s=r.height;var l=L();if(l||!l&&"fixed"===t)a=r.offsetLeft,c=r.offsetTop}return{width:o,height:s,x:a+D(e),y:c}}(e,n)):E(t)?t,n):Te(function(e){var t,n=$(e),i=F(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=_(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=_(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+D(e),c=-i.scrollTop;if("rtl"===U(r||n).direction)a+=_(n.clientWidth,r?r.clientWidth:0)-o;return{width:o,height:s,x:a,y:c}}($(e)))}function _e(e,t,n,i){var r="clippingParents"===t?function(e){var t=z(Q(e)),n=["absolute","fixed"].indexOf(U(e).position)>=0&&T(e)?K(e):e;if(!E(n))return[];else return t.filter(()}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce((,Pe(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}nction je(e,t){if(void 0===t)t={};var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,c=void 0===a?oe:a,l=n.rootBoundary,u=void 0===l?se:l,d=n.elementContext,f=void 0===d?ae:d,p=n.altBoundary,h=void 0===p?!1:p,g=n.padding,m=void 0===g?0:g,v=Me("number"!=typeof m?m:Re(m,ne)),y=f===ae?ce:ae,b=e.rects.popper,w=e.elements[h?y:f],x=_e(E(w)?w:w.contextElement||$(e.elements.popper),c,u,s),S=H(e.elements.reference),k=we({reference:S,element:b,strategy:"absolute",placement:r}),A=Te(Object.assign({},b,k)),I=f===ae?A:S,O={top:x.top-I.top+v.top,bottom:I.bottom-x.bottom+v.bottom,left:x.left-I.left+v.left,right:I.right-x.right+v.right},C=e.modifiersData.offset;if(f===ae&&C){var T=C[r];Object.keys(O).forEach(()}return O}onst He={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r?!0:r,s=n.altAxis,a=void 0===s?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f?!0:f,h=n.tetherOffset,g=void 0===h?0:h,m=je(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),v=ve(t.placement),y=ye(t.placement),b=!y,w=be(v),x="x"===w?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,A=t.rects.popper,I="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,O="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(S){if(o){var T,P="y"===w?Y:ee,R="y"===w?X:Z,j="y"===w?"height":"width",L=S[w],H=L+m[P],F=L-m[R],V=p?-A[j]/2:0,$=y===ie?k[j]:A[j],D=y===ie?-A[j]:-k[j],U=t.elements.arrow,N=p&&U?W(U):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=q[P],B=q[R],z=Le(0,k[j],N[j]),G=b?k[j]/2-V-z-Q-O.mainAxis:$-z-Q-O.mainAxis,J=b?-k[j]/2+V+z+B+O.mainAxis:D+z+B+O.mainAxis,te=t.elements.arrow&&K(t.elements.arrow),ne=te?"y"===w?te.clientTop||0:te.clientLeft||0:0,re=null!=(T=null==C?void 0:C[w])?T:0,oe=L+J-re,se=Le(p?M(H,L+G-re-ne):H,L,p?_(F,oe):F);S[w]=se,E[w]=se-L}if(a){var ae,ce="x"===w?Y:ee,le="x"===w?X:Z,ue=S[x],de="y"===x?"height":"width",fe=ue+m[ce],pe=ue-m[le],he=-1!==[Y,ee].indexOf(v),ge=null!=(ae=null==C?void 0:C[x])?ae:0,me=he?fe:ue-k[de]-A[de]-ge+O.altAxis,we=he?ue+k[de]+A[de]-ge-O.altAxis:pe,xe=p&&he?me,ue,we):Le(p?me:fe,ue,p?we:pe);S[x]=xe,E[x]=xe-ue}t.modifiersData[i]=E}},requiresIfExists:["offset"]};const Fe={name:"arrow",enabled:!0,phase:"main",fn:effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;if(null!=i){if("string"==typeof i)if(!(i=t.elements.popper.querySelector(i)))return;if(Ee(t.elements.popper,i))t.elements.arrow=i}},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ve(e,t,n){if(void 0===n)n={x:0,y:0};return{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}ar De,Ue=ge({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r?!0:r,s=i.resize,a=void 0===s?!0:s,c=C(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);if(o)l.forEach((function(e){e.addEventListener("scroll",n.update,me)}));if(a)c.addEventListener("resize",n.update,me);return ,data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i?!0:i,o=n.adaptive,s=void 0===o?!0:o,a=n.roundOffsets,c=void 0===a?!0:a,l={placement:ve(t.placement),variation:ye(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};if(null!=t.modifiersData.popperOffsets)t.styles.popper=Object.assign({},t.styles.popper,Se(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})));if(null!=t.modifiersData.arrow)t.styles.arrow=Object.assign({},t.styles.arrow,Se(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})));t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];if(T(r)&&V(r))Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];if(!1===t)r.removeAttribute(e);else r.setAttribute(e,!0===t?"":t)}))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};if(Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow)Object.assign(t.elements.arrow.style,n.arrow);return function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((,{});if(T(i)&&V(i))Object.assign(i.style,o),Object.keys(r).forEach(()}))}},requires:["computeStyles"]},ke,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r?!0:r,s=n.altAxis,a=void 0===s?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p?!0:p,g=n.allowedAutoPlacements,m=t.options.placement,v=ve(m),y=c||(v===m||!h?[Ie(m)]:m)),b=[m].concat(y).reduce((function(e,n){return e.concat(ve(n)===te?function(e,t){if(void 0===t)t={};var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?ue:c,u=ye(i),d=u?a?le:le.filter(():ne,f=d.filter(();if(0===f.length)f=d;var p=f.reduce((,{});return Object.keys(p).sort(()}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:h,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,x=t.rects.popper,S=new Map,k=!0,A=b[0],I=0;I<b.length;I++){var O=b[I],C=ve(O),E=ye(O)===ie,T=[Y,X].indexOf(C)>=0,P=T?"width":"height",_=je(t,{placement:O,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),M=T?E?Z:ee:E?X:Y;if(w[P]>x[P])M=Ie(M);var R=Ie(M),j=[];if(o)j.push(_[C]<=0);if(a)j.push(_[M]<=0,_[R]<=0);if(j.every((function(e){return e}))){A=O,k=!1;break}S.set(O,j)}if(k)for(var L=H=h?3:1;H>0;H--){if("break"===L(H))break}if(t.placement!==A)t.modifiersData[i]._skip=!0,t.placement=A,t.reset=!0}},requiresIfExists:["offset"],data:{_skip:!1}},He,Fe,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:]}),Ne=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class qe{nimateModal(){this.modal.style.transitionProperty="opacity,margin",this.modal.style.transitionDuration="0.5s",this.modal.style.transitionTimingFunction="ease-in",this.modal.style.opacity="1";switch(this.modal.getAttribute("data-popper-placement")){case"bottom":this.modal.style.marginTop="16px";break;case"top":this.modal.style.marginBottom="16px"}}animateOpacityOnIframe(){return Ne(this,void 0,void 0,(function*(){this.modal.page.iframe.style.transitionProperty="opacity",this.modal.page.iframe.style.transitionDuration="0.5s",this.modal.page.iframe.style.transitionTimingFunction="ease-in",this.modal.page.iframe.style.opacity="0",yield A.value,this.modal.page.iframe.style.opacity="1"}))}}class We{Click(){this.isOpen?this.close():this.open(),this.isOpen=!this.isOpen}open(){if(!this.popUp)this.createAndAppendPopUp(),this.positionPopUp();else this.popUp.style.visibility="visible",this.popUp.style.pointerEvents="initial",this.popUp.popper.forceUpdate();this.props.onOpen()}close(){this.popUp.style.visibility="hidden",this.popUp.style.pointerEvents="none",this.props.onClose()}createAndAppendPopUp(){this.popUp=new O,document.body.append(this.popUp)}positionPopUp(){if(!this.popUp)return;const e=Ue(this.props.button,this.popUp,{modifiers:[{name:"preventOverflow",options:{padding:{top:this.margin,right:50,bottom:this.margin,left:this.margin}}}],onFirstUpdate:()=>{this.popUp&&new qe(this.popUp)}});this.popUp.popper=e}get margin(){return 16}}!De||(De={}));const Qe=n(207);class Be extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.append(this.template().content.cloneNode(!0)),this.executeAdditionalInlineJavaScript(),this.executeAdditionalHeaderJavaScript()}connectedCallbackhow(){this.classList.remove(this.hiddenClass)}hide(){this.classList.add(this.hiddenClass)}nitManager(){const e=this.shadowRoot.querySelector("button");if(e)this.manager=new We({button:e,onOpen:()=>this.onOpen(),onClose:()=>this.onClose()})}executeAdditionalInlineJavaScript(){for(const e of s){const t=document.createElement("script"),n=document.createTextNode(e);t.appendChild(n),this.shadowRoot.appendChild(t)}}executeAdditionalHeaderJavaScript(){for(const e of a){const t=document.createElement("script");t.src=e,this.shadowRoot.appendChild(t)}}template(){const e=document.createElement("template");return e.innerHTML=`\n    ${o}\n    \n    <style>\n\n    ${this.buttonStyling}\n    ${this.svgIconStyling}\n    ${this.hostStyling}\n    ${this.svgAnimationStyling}\n    ${this.buttonTextStyling}\n\n    </style>\n    \n    <button class="${f}" part="button">\n        <span class="icon" part="button-icon">\n            ${this.svgClose}\n            ${this.svgOpen}\n        </span>\n        <span class="buttonText" part="button-text">\n            ${p}\n        </span>\n    </button>\n    `,e}get svgClose(){var e;const t=document.createElement("div");return t.innerHTML=h,null===(e=t.querySelector("svg"))||void 0===e||e.setAttribute("fill",this.textColor),`\n    <img class='svg-close' src='data:image/svg+xml;utf8,${t.innerHTML}' >\n    `}get svgOpen(){return'\n    <svg class=\'svg-open\' viewBox="0 0 22 22">\n        <path d="M.818 2.232L2.232.818l19.02 19.02-1.413 1.415z"></path>\n        <path d="M.818 19.768L19.838.748l1.415 1.413L2.232 21.182z"></path>\n    </svg>\n    '}onOpen(){k.publishOpen(),this.button.classList.add("btn-open")}onClose(){k.publishClose(),this.button.classList.remove("btn-open")}t mainColoret analogousColor(){return Qe(this.mainColor).analogous()[1].toRgbString()}get textColor(){return Qe(y||"rgb(255,255,255)").toRgbString()}get buttonStyling(){return` ${c} {\n            ${l}\n            \n            overflow: hidden;\n            position: fixed;\n    \n            user-select: none;\n            cursor: pointer;\n            border: none;\n            border-radius: 4px;\n            height: 44px;\n            width: 150px;\n            padding: 10px;\n            margin: 0;\n            vertical-align: middle;\n    \n            box-sizing: border-box;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-family: "Lato", Arial, Helvetica, sans-serif;\n            font-weight: 700;\n            line-height: 15px;\n            text-decoration: none;\n            text-overflow: ellipsis;\n            text-transform: uppercase;\n            white-space: nowrap;\n    \n            color: ${this.textColor};\n            background-color: ${this.mainColor};\n            background-image: ${this.linearGradient(this.analogousColor,this.mainColor)};\n        }\n\n        ${c}:before {\n            position: absolute;\n            content: "";\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            z-index: -1;\n            transition: opacity 0.5s linear;\n            opacity: 0;\n            background-image: ${this.linearGradient(this.mainColor,this.analogousColor)};\n        }\n\n        ${u}:before {\n            opacity: 1;\n        }\n    \n        ${d} {\n            outline: none;\n        }\n        `}et hostStyling(){return`\n        :host(${De.CoveoInAppWidgetLoader}) {\n            z-index: 999999;\n            position: relative;\n          }\n      \n          :host(.${this.hiddenClass}) {\n              display: none;\n          }\n        `}get svgAnimationStyling(){return"\n        .svg-open, .svg-close {\n            transition: transform 500ms;\n            position: absolute;\n            left: 0;\n        }\n    \n        .svg-close {\n            transform: translateY(0);\n        }\n    \n        .btn-open .svg-close {\n            transform: translateY(50px);\n        }\n    \n        .svg-open {\n            transform: translateY(-50px);\n        }\n    \n        .btn-open .svg-open {\n            transform: translateY(0);\n        }\n    \n        "}class ze{constructor(){this.findTargetElementUsingInterval()}findTargetElementUsingInterval(){this.findTargetAndPopulate(),window.setInterval((()=>this.findTargetAndPopulate()),200)}indTargetElement(){const t=e;try{return document.querySelector(t)}catch(e){return console.error(`${t} is not a valid CSS selector. Cannot retrieve target element.`),null}}onTargetElementFound(e){if(this.pageIsNotChildOfElement(e))this.appendPageToElement(e),this.publishOpenAndCloseEvents(e)}publishOpenAndCloseEvents(e){let t=!0;this.observeElementAndItsAncestors(e,(()=>{const n=this.isElementVisible(e);if(n&&!t)k.publishOpen();if(!n&&t)k.publishClose();t=n}))}ppendPageToElementbserveElementAndItsAncestors(e,t){if(new MutationObserver(().observe(e,{attributes:!0}),null!==e.parentElement)this.observeElementAndItsAncestors(e.parentElement,t)}isElementVisible(e){const t=getComputedStyle(e);if("body"===e.tagName.toLowerCase())return!0;if("none"===t.display)return!1;if(!("absolute"!==t.position&&"fixed"!==t.position||"hidden"!==t.visibility&&"0"!==t.opacity))return!1;if(0===e.clientWidth&&0===e.clientHeight)return!1;if(null===e.parentElement)return!1;else return this.isElementVisible(e.parentElement)}}function Ge(e,t){var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0)n[i]=e[i];if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)if(t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r]))n[i[r]]=e[i[r]]}return n}ar Ke;function Ye(){return"undefined"!=typeof navigator}||(Ke={}));const tt=[Ke.click,Ke.custom,Ke.search,Ke.view],nt=(e,t)=>-1!==tt.indexOf(e)?Object.assign({language:Xe()?document.documentElement.lang:"unknown",userAgent:Ye()?navigator.userAgent:"unknown"},t):t;class it{static set(e,t,n){var i,r,o;if(n)(i=new Date).setTime(i.getTime()+n);if(-1===(o=window.location.hostname).indexOf("."))rt(e,t,i);else rt(e,t,i,(r=o.split("."))[r.length-2]+"."+r[r.length-1])}static gettatic erasefunction rt(e,t,n,i){document.cookie=`${e}=${t}`+(n?`;expires=${n.toUTCString()}`:"")+(i?`;domain=${i}`:"")+";path=/;SameSite=Lax"}function ot(){if(Ze())return localStorage;if(et())return new st;if())return sessionStorage;else return new ct}class st{getItem(e){return it.get(`${st.prefix}${e}`)}removeItem(e){it.erase(`${st.prefix}${e}`)}setItem(e,t,n){it.set(`${st.prefix}${e}`,t,n)}}st.prefix="coveo_";class at{etItememoveItemetItemclass ct{nst lt="__coveo.analytics.history";class ut{constructorddElement(e){e.internalTime=(new Date).getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=this.getHistoryWithInternalTime();if(null!=t){if(this.isValidEntry(e))this.setHistory([e].concat(t))}else this.setHistory([e])}addElementAsync(e){return Je(this,void 0,void 0,(function*(){e.internalTime=(new Date).getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=yield this.getHistoryWithInternalTimeAsync();if(null!=t){if(this.isValidEntry(e))this.setHistory([e].concat(t))}else this.setHistory([e])}))}getHistoryetHistoryAsync(){return Je(this,void 0,void 0,(function*(){const e=yield this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(e))}))}getHistoryWithInternalTime(){try{const e=this.store.getItem(lt);if(e&&"string"==typeof e)return JSON.parse(e);else return[]}catch(e){return[]}}getHistoryWithInternalTimeAsync(){return Je(this,void 0,void 0,(function*(){try{const e=yield this.store.getItem(lt);if(e)return JSON.parse(e);else return[]}catch(e){return[]}}))}setHistorylearetMostRecentElement(){let e=this.getHistoryWithInternalTime();if(Array.isArray(e)){return e.sort(()[0]}return null}cropQueryElement(e){if(e.name&&e.value&&"query"===e.name.toLowerCase())e.value=e.value.slice(0,75);return e}isValidEntry(e){let t=this.getMostRecentElement();if(t&&t.value==e.value)return(e.internalTime||0)-(t.internalTime||0)>6e4;else return!0}stripInternalTime(e){if(Array.isArray(e))return e.map(();else return[]}stripEmptyQuery(e){const{name:t,time:n,value:i}=e;if(t&&"string"==typeof i&&"query"===t.toLowerCase()&&""===i.trim())return{name:t,time:n};else return e}const dt=(e,t)=>Je(void 0,void 0,void 0,(function*(){if(e===Ke.view)return yield ft(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t);else return t})),ft=e=>Je(void 0,void 0,void 0,(function*(){const t=new ut,n={name:"PageView",value:e,time:(new Date).toISOString()};yield t.addElementAsync(n)}));let pt;const ht=new Uint8Array(16);function gt(){if(!pt)if(pt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pt)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pt(ht)}var mt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;onst yt=[];for(let e=0;e<256;++e)yt.push((e+256).toString(16).slice(1));ar wt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};st At=function(e,t,n){function i(e,i,r,o){var s;if("string"==typeof e)e=e);if("string"==typeof i)i=i);if(16!==(null===(s=i)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),a=n(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(let e=0;e<16;++e)r[o+e]=a[e];return r}return bt(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}("v5",80,(function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else if(!Array.isArray(e))e=Array.prototype.slice.call(e);e.push(128);const i=e.length/4+2,r=Math.ceil(i/16),o=new Array(r);for(let t=0;t<r;++t){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=e[64*t+4*i]<<24|e[64*t+4*i+1]<<16|e[64*t+4*i+2]<<8|e[64*t+4*i+3];o[t]=n}o[r-1][14]=8*(e.length-1)/Math.pow(2,32),o[r-1][14]=Math.floor(o[r-1][14]),o[r-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<r;++e){const i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=o[e][t];for(let e=16;e<80;++e)i[e]=kt(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let r=n[0],s=n[1],a=n[2],c=n[3],l=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),o=kt(r,5)+St(n,s,a,c)+l+t[n]+i[e]>>>0;l=c,c=a,a=kt(s,30)>>>0,s=r,r=o}n[0]=n[0]+r>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+a>>>0,n[3]=n[3]+c>>>0,n[4]=n[4]+l>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var It=At;const Ot="2.28.24",Ct=e=>`${e.protocol}//${e.hostname}${0===e.pathname.indexOf("/")?e.pathname:`/${e.pathname}`}${e.search}`,Et={pageview:"pageview",event:"event"};class Tt{constructor({client:e,uuidGenerator:t=xt}){this.client=e,this.uuidGenerator=t}}class Pt extends Tt{constructor({client:e,uuidGenerator:t=xt}){super({client:e,uuidGenerator:t}),this.actionData={},this.pageViewId=t(),this.nextPageViewId=this.pageViewId,this.currentLocation=Ct(window.location),this.lastReferrer=Xe()?document.referrer:"",this.addHooks()}getApi(e){switch(e){case"setAction":return this.setAction;default:return null}}learDataetLocationInformationtDefaultContextInformation(e){const t={title:Xe()?document.title:"",encoding:Xe()?document.characterSet:"UTF-8"},n={screenResolution:`${screen.width}x${screen.height}`,screenColor:`${screen.colorDepth}-bit`},i={language:navigator.language,userAgent:navigator.userAgent},r={time:Date.now(),eventId:this.uuidGenerator()};return Object.assign(Object.assign(Object.assign(Object.assign({},r),n),i),t)}updateLocationForNextPageView(e,t){const{pageViewId:n,referrer:i,location:r}=this.getNextValues(e,t);if(this.lastReferrer=i,this.pageViewId=n,this.currentLocation=r,e===Et.pageview)this.nextPageViewId=this.uuidGenerator(),this.hasSentFirstPageView=!0}getNextValuesetCurrentLocationFromPayload(e){if(e.page){const t=return`${(e=>e.split("/").slice(0,3).join("/"))(this.currentLocation)}${t(e.page)}`}else return Ct(window.location)}}class _t{constructor(e,t){if(!vt(e))throw Error("Not a valid uuid");this.clientId=e,this.creationDate=Math.floor(t/1e3)}toStringet expiredalidateatchReferrer(e,t){try{const n=new URL(e);return t.some((e=>new RegExp(e.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(n.host)))}catch(e){return!1}}static fromString(e){const t=e.split(".");if(2!==t.length)return null;const[n,i]=t;if(32!==n.length||isNaN(parseInt(i)))return null;const r=n.substring(0,8)+"-"+n.substring(8,12)+"-"+n.substring(12,16)+"-"+n.substring(16,20)+"-"+n.substring(20,32);if(vt(r))return new _t(r,1e3*Number.parseInt(i));else return null}}_t.cvo_cid="cvo_cid",_t.expirationTime=120;(class extends Tt{constructor({client:e,uuidGenerator:t=xt}){super({client:e,uuidGenerator:t})}getApiecorate(e){return Je(this,void 0,void 0,(function*(){if(!this.client.getCurrentVisitorId)throw new Error("Could not retrieve current clientId");try{const t=new URL(e),n=yield this.client.getCurrentVisitorId();return t.searchParams.set(_t.cvo_cid,new _t(n,Date.now()).toString()),t.toString()}catch(e){throw new Error("Invalid URL provided")}}))}acceptFrom(e){this.client.setAcceptedLinkReferrers(e)}}).Id="link";const Mt=Object.keys;onst jt={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},Lt=[...Mt(jt).map((e=>jt[e]))].join("|"),Ht=new RegExp(`^(${Lt}$)`),Ft=[e=>Ht.test(e)],Vt={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},$t={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},Dt={action:"pa",list:"pal",listSource:"pls"},Ut={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},Nt={id:"quoteId",affiliation:"quoteAffiliation"},qt={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},Wt={add:Dt,bookmark_add:Dt,bookmark_remove:Dt,click:Dt,checkout:Dt,checkout_option:Dt,detail:Dt,impression:Dt,remove:Dt,refund:Object.assign(Object.assign({},Dt),Ut),purchase:Object.assign(Object.assign({},Dt),Ut),quickview:Dt,quote:Object.assign(Object.assign({},Dt),Nt),review:Object.assign(Object.assign({},Dt),qt)},Qt=Mt(Vt).map((e=>Vt[e])),Bt=Mt($t).map((e=>$t[e])),zt=Mt(Dt).map((e=>Dt[e])),Gt=Mt(Ut).map((e=>Ut[e])),Jt=Mt(qt).map((e=>qt[e])),Kt=Mt(Nt).map((e=>Nt[e])),Yt=[...Qt,"custom"].join("|"),Xt=[...Bt,"custom"].join("|"),Zt="(pr[0-9]+)",en="(il[0-9]+pi[0-9]+)",tn=new RegExp(`^${Zt}(${Yt})$`),nn=new RegExp(`^(${en}(${Xt}))|(il[0-9]+nm)$`),rn=new RegExp(`^(${zt.join("|")})$`),on=new RegExp(`^(${Gt.join("|")})$`),sn=new RegExp(`^${Zt}custom$`),an=new RegExp(`^${en}custom$`),cn=new RegExp(`^(${["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit",...Jt,...Kt].join("|")})$`),ln=[e=>nn.test(e),e=>tn.test(e),e=>rn.test(e),e=>on.test(e),e=>cn.test(e)],un=[sn,an],dn=Object.assign(Object.assign(Object.assign(Object.assign({},{anonymizeIp:"aip"}),{eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"}),{hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"}),["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale","trackingId"].reduce((,{})),fn=Object.assign(Object.assign({},dn),{svcAction:"svc_action",svcActionData:"svc_action_data"}),pn=Mt(fn).map((e=>fn[e])),hn=e=>-1!==pn.indexOf(e),gn=mn=e=>{let t;return[...un].every((n=>{var i;return t=null===(i=n.exec(e))||void 0===i?void 0:i[1],!Boolean(t)})),t},vn=(e,t)=>Mt(t).reduce(((n,i)=>Object.assign(Object.assign({},n),{[`${e}${i}`]:t[i]})),{});class yn{constructor(e){this.opts=e}sendEvent(e,t){return Je(this,void 0,void 0,(function*(){if(!this.isAvailable())throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');const{baseUrl:n,preprocessRequest:i}=this.opts,r=yield this.getQueryParamsForEventType(e),{url:o,payload:s}=yield this.preProcessRequestAsPotentialJSONString(`${n}/analytics/${e}?${r}`,t,i),a=this.encodeForEventType(e,s),c=new Blob([a],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(o,c)}))}eProcessRequestAsPotentialJSONString(e,t,n){return Je(this,void 0,void 0,(function*(){let i=e,r=t;if(n){const o=yield n({url:e,body:JSON.stringify(t)},"analyticsBeacon"),{url:s,body:a}=o;i=s||e;try{r=JSON.parse(a)}catch(e){console.error("Unable to process the request body as a JSON string",e)}}return{payload:r,url:i}}))}encodeForEventTypeetQueryParamsForEventType(e){return Je(this,void 0,void 0,(function*(){const{token:t,visitorIdProvider:n}=this.opts,i=yield n.getCurrentVisitorId();return[t&&this.isEventTypeLegacy(e)?`access_token=${t}`:"",i?`visitorId=${i}`:"","discardVisitInfo=true"].filter(().join("&")}))}isEventTypeLegacy(e){return-1!==[Ke.click,Ke.custom,Ke.search,Ke.view].indexOf(e)}encodeForLegacyType(e,t){return`${e}Event=${encodeURIComponent(JSON.stringify(t))}`}encodeForFormUrlEncoded(e){return Object.keys(e).filter(().map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(this.encodeValue(e[t]))}`)).join("&")}encodeValueconst bn=window.fetch;class wn{constructor(e){this.opts=e}sendEvent(e,t){return Je(this,void 0,void 0,(function*(){const{baseUrl:n,visitorIdProvider:i,preprocessRequest:r}=this.opts,o=this.shouldAppendVisitorId(e)?yield this.getVisitorIdParam():"",s={url:`${n}/analytics/${e}${o}`,credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},a=Object.assign(Object.assign({},s),r?yield r(s,"analyticsFetch"):{}),{url:c}=a,l=Ge(a,["url"]),u=yield bn(c,l);if(u.ok){const e=yield u.json();if(e.visitorId)i.setCurrentVisitorId(e.visitorId);return e}else{try{u.json()}catch(e){}throw console.error(`An error has occured when sending the "${e}" event.`,u,t),new Error(`An error has occurred when sending the "${e}" event. Check the console logs for more details.`)}}))}deleteHttpCookieVisitorId(){return Je(this,void 0,void 0,(function*(){const{baseUrl:e}=this.opts,t=`${e}/analytics/visit`;yield bn(t,{headers:this.getHeaders(),method:"DELETE"})}))}shouldAppendVisitorIdetVisitorIdParam(){return Je(this,void 0,void 0,(function*(){const{visitorIdProvider:e}=this.opts,t=yield e.getCurrentVisitorId();return t?`?visitor=${t}`:""}))}getHeaders(){const{token:e}=this.opts;return Object.assign(Object.assign({},e?{Authorization:`Bearer ${e}`}:{}),{"Content-Type":"application/json"})}}class xn{constructor(e,t){if(Ze()&&et())this.storage=new at;else if(Ze())this.storage=localStorage;else console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new ct;this.client=new wn(e),this.beaconClient=new yn(e),window.addEventListener("beforeunload",(()=>{const e=t();for(let{eventType:t,payload:n}of e)this.beaconClient.sendEvent(t,n)}))}getClientDependingOnEventTypeclass Sn{constructor(e,t){this.storage=t||new ct,this.client=new wn(e)}const kn=["1",1,"yes",!0];function An(){return Ye()&&[navigator.globalPrivacyControl,navigator.doNotTrack,navigator.msDoNotTrack,window.doNotTrack].some(()}const In="https://analytics.cloud.coveo.com/rest/ua";class On{get defaultOptionsnstructor(e){if(this.acceptedLinkReferrers=[],!e)throw new Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[dt,nt].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};const t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};if(this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),An())this.clear(),this.runtime.storage=new ct;this.addEventTypeMapping(Ke.view,{newEventType:Ke.view,addClientIdParameter:!0}),this.addEventTypeMapping(Ke.click,{newEventType:Ke.click,addClientIdParameter:!0}),this.addEventTypeMapping(Ke.custom,{newEventType:Ke.custom,addClientIdParameter:!0}),this.addEventTypeMapping(Ke.search,{newEventType:Ke.search,addClientIdParameter:!0})}initRuntime(e){if("undefined"!=typeof window&&Xe())return new xn(e,(()=>{const e=[...this.bufferedRequests];return this.bufferedRequests=[],e}));else if("undefined"!=typeof navigator&&"ReactNative"==navigator.product)console.warn("\n        We've detected you're using React Native but have not provided the corresponding runtime, \n        for an optimal experience please use the \"coveo.analytics/react-native\" subpackage.\n        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native\n    ");return new Sn(e)}etermineVisitorId(){return Je(this,void 0,void 0,(function*(){try{return this.extractClientIdFromLink(window.location.href)||(yield this.storage.getItem("visitorId"))||xt()}catch(e){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",e),xt()}}))}getCurrentVisitorId(){return Je(this,void 0,void 0,(function*(){if(!this.visitorId){const e=yield this.determineVisitorId();yield this.setCurrentVisitorId(e)}return this.visitorId}))}setCurrentVisitorId(e){return Je(this,void 0,void 0,(function*(){this.visitorId=e,yield this.storage.setItem("visitorId",e)}))}setClientId(e,t){return Je(this,void 0,void 0,(function*(){if(vt(e))this.setCurrentVisitorId(e.toLowerCase());else{if(!t)throw Error("Cannot generate uuid client id without a specific namespace string.");this.setCurrentVisitorId(It(e,It(t,"38824e1f-37f5-42d3-8372-a4b8fa9df946")))}}))}getParameters(e,...t){return Je(this,void 0,void 0,(function*(){return yield this.resolveParameters(e,...t)}))}getPayload(e,...t){return Je(this,void 0,void 0,(function*(){const n=yield this.resolveParameters(e,...t);return yield this.resolvePayloadForParameters(e,n)}))}get currentVisitorId(){if("string"!=typeof(this.visitorId||this.storage.getItem("visitorId")))this.setCurrentVisitorId(xt());return this.visitorId}xtractClientIdFromLink(e){if(An())return null;try{const t=new URL(e).searchParams.get(_t.cvo_cid);if(null==t)return null;const n=_t.fromString(t);if(!n||!Xe()||!n.validate(document.referrer,this.acceptedLinkReferrers))return null;else return n.clientId}catch(e){}return null}resolveParameters(e,...t){return Je(this,void 0,void 0,(function*(){const{variableLengthArgumentsNames:n=[],addVisitorIdParameter:i=!1,usesMeasurementProtocol:r=!1,addClientIdParameter:o=!1}=this.eventTypeMapping[e]||{},s=yield[e=>n.length>0?this.parseVariableArgumentsPayload(n,e):e[0],e=>Je(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},e),{visitorId:i?yield this.getCurrentVisitorId():""})})),e=>Je(this,void 0,void 0,(function*(){if(o)return Object.assign(Object.assign({},e),{clientId:yield this.getCurrentVisitorId()});else return e})),e=>r?this.ensureAnonymousUserWhenUsingApiKey(e):e,t=>this.beforeSendHooks.reduce(((t,n)=>Je(this,void 0,void 0,(function*(){const i=yield t;return yield n(e,i)}))),t)].reduce(((e,t)=>Je(this,void 0,void 0,(function*(){const n=yield e;return yield t(n)}))),Promise.resolve(t));return s}))}resolvePayloadForParameters(e,t){return Je(this,void 0,void 0,(function*(){const{usesMeasurementProtocol:n=!1}=this.eventTypeMapping[e]||{};return yield[t=>this.removeEmptyPayloadValues(t,e),e=>n?(e=>{const t=!!e.action&&Wt[e.action]||{};return Mt(e).reduce(((n,i)=>{const r=t[i]||fn[i]||i;return Object.assign(Object.assign({},n),{[r]:e[i]})}),{})})(e):e,e=>n?this.removeUnknownParameters(e):e,e=>n?this.processCustomParameters(e):this.mapCustomParametersToCustomData(e)].reduce(((e,t)=>Je(this,void 0,void 0,(function*(){const n=yield e;return yield t(n)}))),Promise.resolve(t))}))}makeEvent(e,...t){return Je(this,void 0,void 0,(function*(){const{newEventType:n=e}=this.eventTypeMapping[e]||{},i=yield this.resolveParameters(e,...t),r=yield this.resolvePayloadForParameters(e,i);return{eventType:n,payload:r,log:t=>Je(this,void 0,void 0,(function*(){return this.bufferedRequests.push({eventType:n,payload:Object.assign(Object.assign({},r),t)}),yield Promise.all(this.afterSendHooks.map((n=>n(e,Object.assign(Object.assign({},i),t))))),yield this.deferExecution(),yield this.sendFromBuffer()}))}}))}sendEvent(e,...t){return Je(this,void 0,void 0,(function*(){return(yield this.makeEvent(e,...t)).log({})}))}deferExecutionendFromBuffer(){return Je(this,void 0,void 0,(function*(){const e=this.bufferedRequests.shift();if(e){const{eventType:t,payload:n}=e;return this.runtime.getClientDependingOnEventType(t).sendEvent(t,n)}}))}clear(){this.storage.removeItem("visitorId");(new ut).clear()}akeSearchEvent(e){return Je(this,void 0,void 0,(function*(){return this.makeEvent(Ke.search,e)}))}sendSearchEvent(e){var{searchQueryUid:t}=e,n=Ge(e,["searchQueryUid"]);return Je(this,void 0,void 0,(function*(){return(yield this.makeSearchEvent(n)).log({searchQueryUid:t})}))}makeClickEvent(e){return Je(this,void 0,void 0,(function*(){return this.makeEvent(Ke.click,e)}))}sendClickEvent(e){var{searchQueryUid:t}=e,n=Ge(e,["searchQueryUid"]);return Je(this,void 0,void 0,(function*(){return(yield this.makeClickEvent(n)).log({searchQueryUid:t})}))}makeCustomEvent(e){return Je(this,void 0,void 0,(function*(){return this.makeEvent(Ke.custom,e)}))}sendCustomEvent(e){var{lastSearchQueryUid:t}=e,n=Ge(e,["lastSearchQueryUid"]);return Je(this,void 0,void 0,(function*(){return(yield this.makeCustomEvent(n)).log({lastSearchQueryUid:t})}))}makeViewEvent(e){return Je(this,void 0,void 0,()}sendViewEvent(e){return Je(this,void 0,void 0,(function*(){return(yield this.makeViewEvent(e)).log({})}))}getVisit(){return Je(this,void 0,void 0,(function*(){const e=yield fetch(`${this.baseUrl}/analytics/visit`),t=yield e.json();return this.visitorId=t.visitorId,t}))}getHealth(){return Je(this,void 0,void 0,(function*(){const e=yield fetch(`${this.baseUrl}/analytics/monitoring/health`);return yield e.json()}))}registerBeforeSendEventHook(e){this.beforeSendHooks.push(e)}tAcceptedLinkReferrers(e){if(Array.isArray(e)&&e.every(())this.acceptedLinkReferrers=e;else throw Error("Parameter should be an array of domain strings")}parseVariableArgumentsPayload(e,t){const n={};for(let i=0,r=t.length;i<r;i++){const r=t[i];if("string"==typeof r)n[e[i]]=r;else if("object"==typeof r)return Object.assign(Object.assign({},n),r)}return n}isKeyAllowedEmpty(e,t){return-1!==({[Ke.search]:["queryText"]}[e]||[]).indexOf(t)}removeEmptyPayloadValues(e,t){return Object.keys(e).filter((n=>{return this.isKeyAllowedEmpty(t,n)||null!=(i=e[n])&&""!==i;var i})).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{})}removeUnknownParameters(e){return Object.keys(e).filter((e=>{if((e=>[...ln,...Ft,hn,gn].some(())(e))return!0;else console.log(e,"is not processed by coveoua")})).reduce((,{})}processCustomParameters(e){const{custom:t}=e,n=Ge(e,["custom"]);let i={};if(t&&Rt(t))i=this.lowercaseKeys(t);const r=Mt(o=n).reduce(((e,t)=>{const n=mn(t);if(n)return Object.assign(Object.assign({},e),vn(n,o[t]));else return Object.assign(Object.assign({},e),{[t]:o[t]})}),{});var o;return Object.assign(Object.assign({},i),r)}mapCustomParametersToCustomData(e){const{custom:t}=e,n=Ge(e,["custom"]);if(t&&Rt(t)){const i=this.lowercaseKeys(t);return Object.assign(Object.assign({},n),{customData:Object.assign(Object.assign({},i),e.customData)})}else return e}lowercaseKeys(e){const t=Object.keys(e);let n={};return t.forEach((),n}validateParams(e,t){const{anonymizeIp:n}=e,i=Ge(e,["anonymizeIp"]);if(void 0!==n)if(-1==["0","false","undefined","null","{}","[]",""].indexOf(`${n}`.toLowerCase()))i.anonymizeIp=1;if(t==Ke.view||t==Ke.click||t==Ke.search||t==Ke.custom)i.originLevel3=this.limit(i.originLevel3,128);if(t==Ke.view)i.location=this.limit(i.location,128);if("pageview"==t||"event"==t)i.referrer=this.limit(i.referrer,2048),i.location=this.limit(i.location,2048),i.page=this.limit(i.page,2048);return i}ensureAnonymousUserWhenUsingApiKey(e){const{userId:t}=e,n=Ge(e,["userId"]);if((null==(i=this.options.token)?void 0:i.startsWith("xx"))&&!t)return n.userId="anonymous",n;else return e;var i}setTrackingIdIfTrackingIdNotPresent(e){const{trackingId:t}=e,n=Ge(e,["trackingId"]);if(t)return e;if(n.hasOwnProperty("custom")&&Rt(n.custom))if(n.custom.hasOwnProperty("context_website")||n.custom.hasOwnProperty("siteName"))n.trackingId=n.custom.context_website||n.custom.siteName;if(n.hasOwnProperty("customData")&&Rt(n.customData))if(n.customData.hasOwnProperty("context_website")||n.customData.hasOwnProperty("siteName"))n.trackingId=n.customData.context_website||n.customData.siteName;return n}limit(e,t){if("string"!=typeof e)return e;else return e.substring(0,t)}get baseUrl(){return function(e=In,t="v15",n=!1){if(e=e.replace(/\/$/,""),n)return`${e}/${t}`;const i=e.endsWith("/rest")||e.endsWith("/rest/ua");return`${e}${i?"":"/rest"}/${t}`}(this.options.endpoint,this.options.version,this.options.isCustomEndpoint)}}var Cn,En;!Cn||(Cn={})),En||(En={}));En.triggerNotify,En.triggerExecute,En.triggerQuery,En.triggerRedirect,En.queryError,En.queryErrorBack,En.queryErrorClear,En.queryErrorRetry,En.pagerNext,En.pagerPrevious,En.pagerNumber,En.pagerResize,En.pagerScrolling,En.facetSearch,En.facetShowLess,En.facetShowMore,En.recommendation,En.likeSmartSnippet,En.dislikeSmartSnippet,En.expandSmartSnippet,En.collapseSmartSnippet,En.openSmartSnippetFeedbackModal,En.closeSmartSnippetFeedbackModal,En.sendSmartSnippetReason,En.expandSmartSnippetSuggestion,En.collapseSmartSnippetSuggestion,En.showMoreSmartSnippetSuggestion,En.showLessSmartSnippetSuggestion,En.clearRecentQueries,En.recentResultClick,En.clearRecentResults,En.showLessFoldedResults,En.caseDetach,En.likeGeneratedAnswer,En.dislikeGeneratedAnswer,En.openGeneratedAnswerSource,En.generatedAnswerStreamEnd,En.generatedAnswerSourceHover,En.generatedAnswerCopyToClipboard,En.generatedAnswerHideAnswers,En.generatedAnswerShowAnswers,En.generatedAnswerFeedbackSubmit,Cn.expandToFullUI,Cn.openUserActions,Cn.showPrecedingSessions,Cn.showFollowingSessions,Cn.clickViewedDocument,Cn.clickPageView,Cn.createArticle;const Tn=Object.assign({},Et),Pn=Object.keys(Tn).map(();class _n extends Pt{constructor({client:e,uuidGenerator:t=xt}){super({client:e,uuidGenerator:t}),this.ticket={}}getApi(e){const t=super.getApi(e);if(null!==t)return t;switch(e){case"setTicket":return this.setTicket;default:return null}}HooksForSVCEvents(){this.client.registerBeforeSendEventHook(((e,...[t])=>-1!==Pn.indexOf(e)?this.addSVCDataToPayload(e,t):t)),this.client.registerAfterSendEventHook(((e,...[t])=>{if(-1!==Pn.indexOf(e))this.updateLocationInformation(e,t);return t}))}addHooksForPageViewddHooksForEventddSVCDataToPayload(e,t){var n;const i=Object.assign(Object.assign(Object.assign(Object.assign({},this.getLocationInformation(e,t)),this.getDefaultContextInformation(e)),this.action?{svcAction:this.action}:{}),Object.keys(null!==(n=this.actionData)&&void 0!==n?n:{}).length>0?{svcActionData:this.actionData}:{}),r=this.getTicketPayload();return this.clearData(),Object.assign(Object.assign(Object.assign({},r),i),t)}getTicketPayload(){return e=this.ticket,Mt(e).filter(().reduce(((t,n)=>{const i=jt[n]||n;return Object.assign(Object.assign({},t),{[i]:e[n]})}),{});var e}}var Mn,Rn,jn;_n.Id="svc",function(e){e.click="click",e.flowStart="flowStart"}(Mn||(Mn={})),Rn||(Rn={})),jn||(jn={}));var Ln=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function Hn(e){const t=`IPX is no longer injecting a "${e}" global. If you would like to use it, please load the following script before IPX:\n\n<script type="text/javascript" src="https://static.cloud.coveo.com/coveo.analytics.js/2/coveoua.js"><\/script>`;if(!(e in window))Object.defineProperty(window,e,{get:)}Hn("coveoua"),Hn("coveoanalytics");var Fn=window.customElements.define(De.Page,I),window.customElements.define(De.PageModal,O),window.customElements.define(De.CoveoInAppWidgetLoader,Be),new class{rackPageView(){return Ln(this,void 0,void 0,(function*(){var e=new On({token:t,endpoint:g});e.sendCustomEvent({eventType:"appNavigation",eventValue:"pageView",clientId:yield e.getCurrentVisitorId(),originLevel2:"default",originLevel3:document.location.href,language:navigator.language,customData:{IPX:!0,IPX_ID:m,referrer:document.location.href}})}))}initExperienceeateButton,A.value.then((e=>{k.init(e.iframe.contentWindow),k.subscribeToCustomTokenHasExpired((()=>Fn(void 0,void 0,void 0,(function*(){try{const e=yield Qn();k.publishNewCustomToken(e)}catch(e){k.publishNewCustomToken(""),console.error("Failed to renew the access token. Please check your renew access token function",e)}}))))}));const Vn=e=>k.publishContext(e),$n=Dn=e=>k.publishExecuteQuery(e),Un=Nn=()=>k.publishOpen(),qn=var Wn=!0,Qn=const Bn=e=>{if(Qn=e,Wn)k.customRenewFunctionIsAvailable(),Wn=!1},zn=()=>{const e=document.querySelector(De.CoveoInAppWidgetLoader);e&&e.hide()},Gn=()=>{const e=document.querySelector(De.CoveoInAppWidgetLoader);e&&e.show()}})(),CoveoInProduct=i})();
