"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[1767],{3710:(e,t,a)=>{a.d(t,{OX:()=>y,s$:()=>f,xs:()=>w,tJ:()=>k});var n=a(66062),r=a(22811),i=a(55752),s=a.n(i),o=a(15929),c=a(32450),d=a.n(c),l=a(54342),p=a.n(l),u=a(70709);function h(e,t,a){var{qpl:n,qpi:r,qsi:i,mqps:s,metaMqps:o,dspMqps:c,rver:l,isUserActivity:h=!0,pageUrl:g,bloggerAmebaId:m,entryId:v,serviceId:I,categories:b,mineParam:y={}}=a,f=p()({rver:l},d()),k="".concat((0,u.ui)("".concat(window.process.env.API_RAICHO_MEAS,"/a/noti/").concat(e,"-").concat(t),Object.assign(Object.assign(Object.assign({},y?(e=>{var{algorithmId:t,bloggerAmebaId:a,categories:n,categoryId:r,subCategoryId:i,contentId:s,contentIds:o,displayPosition:c,pageId:l,entryId:u,orderId:h,sectionId:g,serviceId:m,tagName:v}=e;return p()({algorithm_id:t,blogger_ameba_id:a,categories:n,category_id:r,sub_category_id:i,content_id:s,content_ids:Array.isArray(o)?o.join(","):o,display_position:c,page_id:l,entry_id:u,order_id:h,section_id:g,service_id:m,tag_name:v},d())})(y):{}),f),{qpl:n,qpi:r,qsi:i,qau:h,qt:g,qcat:b&&b.length>0?b.join(","):null,bloggerAmebaId:m,entryId:v,serviceId:I})),"&").concat(s,"&").concat(o,"&").concat(c);return fetch(k,{credentials:"include",mode:"cors"})}var g=a(64439),m=a(9325),v=a(37870),I=a(22247),b=a(84596),y=(e,t,a,i)=>function(){var c=(0,n.Z)((function*(n,c){var{useCache:d,useAmebaId:l,pathname:p,uniqueKey:h,requestParameter:m={}}=i||{};try{var v=c(),I=(0,b.ly)(v,{spotId:e,pathname:p,uniqueKey:h});if(d&&I===g.h.SUCCESS||I===g.h.LOADING)return null;n(((e,t,a)=>({type:o.QH,payload:{spotId:e,pathname:t,uniqueKey:a}}))(e,p,h));var y=s()(v,["approachTypes","attributes"],{}),f=Object.assign(Object.assign({},m),{rver:t,blogger_ameba_id:a,approach:JSON.stringify(y)}),k=s()(r.parse(document.cookie),"P",null);if(k&&(f["uid.lance"]=k),l){var C=s()(v,["userState","sessionUser","amebaId"]);f["uid.amebaId"]=C}var w=yield function(e,t){var a=(0,u.ui)("".concat(window.process.env.API_RAICHO,"/a/spot/").concat(e),t);return fetch(a,{credentials:"include",mode:"cors"})}(e,f);if(!w.ok){if(404===w.status)throw new Error("Not Found");throw new Error(w.statusText)}return n(((yield w.json(),p,h))}catch(_){return n(((e,t,a,n)=>({type:o.DG,payload:{spotId:t,error:e,pathname:a,uniqueKey:n},error:!0}))(_ instanceof Error?_:void 0,e,p,h))}}));return function(e,t){return c.apply(this,arguments)}}(),f=(e,t,a,n)=>r=>{r(y(I.QU,I.F6,t,{pathname:a,uniqueKey:n,requestParameter:{ms:e}}))},k=(e,t)=>function(){var a=(0,n.Z)((function*(a,n){var r=(0,m.Oc)(n()),i=(0,v.Yn)(n()),s=(t.categories||[]).concat(r).concat(i);try{yield h(e,"tap",Object.assign(Object.assign({},t),{categories:s}))}catch(o){console.warn(o)}}));return function(e,t){return a.apply(this,arguments)}}(),C={ownedBanner:100,adcross:100,other:10},w=(e,t,a)=>function(){var r=(0,n.Z)((function*(n,r){var{contentType:i="other"}=a||{},s=C[i];if(!(100*Math.random()>s)){var o=(0,m.Oc)(r()),c=(0,v.Yn)(r()),d=(t.categories||[]).concat(o.concat(c));try{yield h(e,"inview",Object.assign(Object.assign({},t),{categories:d}))}catch(l){console.warn(l)}}}));return ()},48516:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(76955),r=a(62869),i=a.n(r),s=a(5154),o=a.n(s),c=a(51650),d=class l extends n.PureComponent{static get defaultProps(){return{children:null,className:"",targetUrl:void 0,onClick:o(),onMouseEnter:o()}}sSpaTargetLink(e){var{pathname:t,hostname:a}=e,n=a===new URL(window.process.env.HTTP_PATH_AMEBLO).hostname,r="/"===t,i="/accessibility"===t,[s,o]=t.split("/"),c=/_/.test(o);return n&&!(r||i||c)}handleClick(e){i()(this.props.onClick)&&this.props.onClick(e)}render(){var e,t=this.props,{children:a,className:r,targetUrl:i,onMouseEnter:s}=t,o=d(t,["children","className","targetUrl","onMouseEnter"]);if(void 0===i)return n.createElement("a",Object.assign({className:r},o),a);try{e=new URL(i)}catch(h){e=null}if(e&&this.isSpaTargetLink(e)){var l=e.pathname,p=e.search?"".concat(e.search):"",u=e.hash?"".concat(e.hash):"";return n.createElement(c.rU,Object.assign({className:r,to:"".concat(l).concat(p).concat(u),onClick:this.handleClick,onMouseEnter:s},o),a)}return n.createElement("a",Object.assign({className:r,href:i,onClick:this.handleClick,onMouseEnter:s},o),a)}}l.displayName="AnchorBlock"},10793:(e,t,a)=>{a.d(t,{f:()=>c});var n=a(76955),r=a(52377),i=a(5154),s=a.n(i),o=a(54285);class c extends n.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:s(),viewLogger:s()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:a,subCategoryId:n,contentId:r,displayPosition:i,pageId:s,entryId:o,orderId:c,sectionId:d,serviceId:l,tagName:p}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:a,subCategoryId:n,contentId:r,displayPosition:i,pageId:s,entryId:o,orderId:c,sectionId:d,serviceId:l,tagName:p}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(c.intersectionListener||(c.intersectionListener=(0,o.T)({})),this.stopListen(),this.trigger=r.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=c.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=n.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=n.cloneElement(e,{onClick:this.handleClick})),e}}c.displayName="Tracker"},80744:(e,t,a)=>{a.d(t,{o:()=>v});var n=a(76955),r=a(22811),i=a(55752),s=a.n(i),o=a(32450),c=a.n(o),d=a(54342),l=a.n(d),p=a(5154),u=a.n(p),h=a(69383),g=a(10456),m=a(48516),v=function(e){var{children:t,className:a="",contentType:i,bloggerAmebaId:o,entryId:d,serviceId:p,pathname:v,dspMqps:I,metaMqps:b,mqps:y,rver:f,pageType:k,spotId:C,targetUrl:w,mineParam:_,trackInview:q=u(),trackTap:O=u(),onClick:P=u()}=e,A=(0,n.useMemo)((()=>{var e={mqps:y,metaMqps:b,dspMqps:I,qpl:"web",qpi:(0,g.He)(k),rver:f,bloggerAmebaId:o,entryId:d,serviceId:p,mineParam:_},t=s()(r.parse(document.cookie),"P",null);return t&&(e.qsi=t),void 0!==v&&(e.pageUrl="".concat(window.location.protocol,"//").concat(window.location.host).concat(v)),e}),[o,I,d,b,_,y,f,k,v,p]),[L,j]=(0,n.useState)(!0),S=(0,n.useCallback)((,[A,P,C,O]),T=(0,n.useCallback)(((e,t)=>{var{isIntersecting:a}=e;if(a){t();var n=l()({contentType:i},c());q(C,A,n),j(!1)}}),[i,A,C,q]);return w?n.createElement(h.ZP,{disabled:!L,onChange:T},n.createElement(m.Z,{className:a,targetUrl:w,onClick:S},t)):null}},22247:73330:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(76955),r=a(85819),i=a(3710);function s(){var e=(0,r.I)();return(0,n.useCallback)((,[e])}},2394:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(76955),r=a(55752),i=a.n(r),s=a(85819),o=a(3710);function c(e){var t=i()(e,"contentType"),a=(0,s.I)();return(0,n.useCallback)(((e,n)=>{a((0,o.xs)(e,n,{contentType:t}))}),[a,t])}},85819:(e,t,a)=>{a.d(t,{I:()=>r});var n=a(66948),r=,84596:(e,t,a)=>{a.d(t,{$V:()=>o,CB:()=>d,JZ:()=>p,PY:()=>l,dS:()=>u,jj:()=>c,ly:()=>s});var n=a(55752),r=a.n(n),i=a(35613),s=(e,t)=>r()(e,["raichoAdState","requestStatusMap",...(0,i.E)(t)]),o=(e,t)=>{var{blogId:a,adKey:n}=t;return r()(e,["adState","adIdsMap",a,n])},c=d=e=>r()(e,["adState","attribute","hasBillboardPanel"],!1),l=e=>r()(e,["adState","attribute","canBillboardPanelRequest"],!1),p=e=>r()(e,["adState","pageTransitionCount"],0),u=e=>r()(e,["adState","fullPageAdType"],"")},25524:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(55752),r=a.n(n),i=a(66948),s=a(51650);function o(e){var{match:t}=(0,s.tv)()||{},a=e||r()(t,["params","amebaId"]);return(0,i.v9)((e=>{var{bloggerState:t}=e;return r()(t,["bloggerMap",a,"attribute","isOfficial"],!1)}))}},73724:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(76955),r=a(85819),i=a(5563);function s(){var e=(0,r.I)();return(0,n.useCallback)((t=>{e((0,i.XI)(t))}),[e])}},92700:(e,t,a)=>{a.d(t,{Z:);var n=a(76955),r=a(85819),i=a(5563);function s(){var e=(0,r.I)();return(0,n.useCallback)((,[e])}}}]);