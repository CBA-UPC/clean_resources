(self.webpackChunk=self.webpackChunk||[]).push([["campaign_election_components_ExitpollASWidget_js"],{"./campaign/election/components/ExitpollASWidget.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var r=n("../node_modules/prop-types/index.js"),o=n.n(r),a=n("../node_modules/react/index.js"),s=n("../node_modules/react-redux/es/index.js"),c=n("./components/common/SectionHeader/SectionHeader.js"),l=n("./components/lib/errorboundery/ErrorBoundary.js"),i=n("./utils/util.js"),u=n("./campaign/election/actions/electoralmap/electoralmap.js"),d=n("./campaign/election/actions/exitpoll/exitpoll.js"),p=(n("./components/common/css/ElectionAsWidget.scss"),n("./campaign/election/utils/util.js")),m=n("./campaign/election/components/Select.js"),f=n("./campaign/election/components/Table.js");m5)(),N=function(e){function t(e){var n;return this,t),_(S(n=v(this,t,[e])),"handleSelectChange",(),_(S(n),"handleStateChange",(),n.state={selectedIndex:0,selectedStatePosition:0},n}var n,r;return t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,n=e.query,r=e.dispatch,o=e.location,a=this.props.params;a||(a={}),o&&(a.location=o),t.fetchData({dispatch:r,params:a,query:n})}},{key:"componentDidUpdate",value:function(e){var n=this.props,r=n.query,o=n.dispatch,a=n.location,s=this.props.params;s||(s={}),a&&(s.location=a),e.location!=this.props.location&&t.fetchData({dispatch:o,params:s,query:r})}},{key:"render",value:function(){var e=this;console.log("exitpoll");var t,n=this.props,r=n.data,o=n.config;if(!r)return null;var s={},u=[],d=this.state.selectedStatePosition;!r.al_rslt&&Object.keys(r).length>0&&o&&o[0]&&!o[0].state?(u=o&&o[0].sequence?o[0].sequence:Object.keys(r),t=(0,p.xH)({stateName:u[d]}),s=r[u[d]]):(t=o&&o[0]?(0,p.xH)({stateName:o[0].state}):"Other",s=r&&r[t.replace(/-/g,"_")]||{});var y=x.exitpollMsidStateMap[t.toLowerCase()],b=I(s.al_rslt),h=s.ttl_seat||0,g=Object.keys(b),v=this.state.selectedIndex;return a.createElement("div",{className:"election-as-widget","data-exclude":"amp"},u.length>1&&a.createElement("div",{className:"statestoggle"},a.createElement("div",{className:"states"},u.map((function(t,n){return a.createElement("span",{className:d===n?"active":"",onClick:function(){return e.handleStateChange(n)},role:"button",tabIndex:0,onKeyPress:,a.createElement("b",null,(0,p.xH)({stateName:t})))})))),g&&g.length>0?a.createElement("div",{className:"row"},!(0,i.an)()&&a.createElement("div",{className:"col12 source-container electionTinyHeading"},a.createElement(c.Z,{sectionhead:"".concat(t.toUpperCase()," ELECTION EXIT POLL ").concat(o&&o[0]&&o[0].year?o[0].year:""),weblink:(0,p.Le)(t.toLowerCase(),y),headingTag:"h3"})),a.createElement("div",{className:"".concat(((0,i.an)(),"col12")," table container electionTinyHeading")},(0,i.an)()&&a.createElement(c.Z,{sectionhead:"".concat(t.toUpperCase()," ELECTION EXIT POLL ").concat(o&&o[0]&&o[0].year?o[0].year:""),weblink:(0,p.Le)(t.toLowerCase(),y),headingTag:"h3"}),a.createElement(l.Z,null,a.createElement("div",{className:"aspage_source"},a.createElement("span",null,"Source:"),a.createElement(m.Z,{selectList:g,selectedValue:g[v],handleSelectChange:this.handleSelectChange})),a.createElement(f.Z,{items:b[g[v]],total:h,seats:(0,p.Qu)(b[g[v]]),hideSource:!0})))):a.createElement("div",{className:"nodatawidget"},a.createElement("div",null,"Data Awaited")))}}])&&g(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(a.PureComponent),I=function(e){if(!e)return{};var t={};return e.forEach((function(e){if(e.length>0&&parseInt(e[0].ws,10)+parseInt(e[0].ls,10)>0){var n=e&&e[0]&&e[0].src?e[0].src:"no-src";t[n]=e}})),t};N.propTypes={dispatch:o().func,params:o().object,query:o().object,data:o().object,config:o().object},N.fetchData=function(e){var t=e.dispatch,n=e.params,r=e.query;return t((0,u.SA)(n,r)).then((function(e){var o={};e&&e.payload&&(o=(0,p.EV)(e.payload,"exitpollurl")),t((0,d.gL)(n,r,o))}))};const P=(0,s.$j)(()(N)},"./campaign/election/components/Select.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n("../node_modules/react/index.js"),o=n("../node_modules/prop-types/index.js"),a=n.n(o);ar c=function(e){var t,n,o=e.selectList,a=e.selectedValue,c=(t=(0,r.useState)(!1),n=2,t)||t,n)||t,n)||)),l=c[0],i=c[1],u=(0,r.useRef)(null);eturn(0,r.useEffect)((,[]),r.createElement("div",{className:"select-box",ref:u},r.createElement("div",{className:"selected-value",onClick:,r.createElement("span",null,a)),o&&o.length>0&&r.createElement("ul",{className:l?"show":"hide"},o.map((function(t,n){return r.createElement("li",{key:n.toString(),onClick:function(){return function(t){e.handleSelectChange(t),i(!l)}(n)}},t)}))))};c.propTypes={selectList:a().array,selectedValue:a().any,handleSelectChange:a().func};const l=c},"./campaign/election/components/Table.js":(e,t,n)=>{"use strict";n.d(t,{Z:);var r=n("../node_modules/prop-types/index.js"),o=n.n(r),a=n("../node_modules/react/index.js"),s=((0,n("./utils/util.js").pR)(),function(e){var t=e.items,n=e._index,r=e.total,o=e.type,s=e.isPrevYear,c=e.headRowData,l=e.hideTotalRow,i=e.hideTotalInWidget,u=e.hideSource,d=e.greaterThanZero,p=e.source,m=e.addtnClass,f=e.countText;m=m||"";var y=0;f=t.reduce((,0)==r?"Results":f;var b=c||["Results"===o?f||"Results":"Projected"],h=!0;return d&&(h=parseInt(t[0].ws,10)+parseInt(t[0].ls,10)>0),t.length>0&&h?a.createElement("div",{"data-ele":"table_mp_0",key:n,className:"table-chart ".concat(m)},a.createElement("div",{className:"result-tbl"},a.createElement("div",{className:"tbl_heading"},a.createElement("div",{className:"tbl_col  first"},"Party"),b.map(()),t.map((function(e,t){y+=parseInt(e.ws,10)+parseInt(e.ls,10);var n=parseInt(e.ws,10)+parseInt(e.ls,10)-parseInt(e.pws,10)>0;return a.createElement("div",{className:"tbl_row",key:t.toString()},a.createElement("div",{className:"tbl_col col party_logo"},a.createElement("span",{className:"partyclr",style:{background:"".concat(e.cc||"#c0c0c0")}},e.an||"-")),a.createElement("div",{className:"tbl_col tac col "},parseInt(e.ws,10)+parseInt(e.ls,10)),s?a.createElement("div",{className:"tbl_col tac col "},parseInt(e.pws,10)):"",s?a.createElement("div",{className:"tbl_col tac col ",style:{fontWeight:"bold",color:n?"green":"red"}},(n?"+":"")+(parseInt(e.ws,10)+parseInt(e.ls,10)-parseInt(e.pws,10))):"")})),a.createElement("div",{className:"tbl_row"},!l&&!i&&a.createElement(a.Fragment,null,a.createElement("div",{className:"tbl_col col1 party_logo"},a.createElement("span",null,"Majority Mark:")," ",Math.floor(r/2)+1),a.createElement("div",{className:"tbl_col col1 tac"},a.createElement("span",null,"TOTAL SEATS")," : ","".concat(y,"/").concat(r))))),u||!t[0].src&&!p?null:a.createElement("div",{className:"clearfix powerbycont mp "},a.createElement("div",{className:"el_powerdby"},"Source: ",t[0].src||p))):null});function c(e,t){var n=!1;return e.items&&t.items&&(n=JSON.stringify(e.items)===JSON.stringify(t.items)),n&&e.total===t.total}s.propTypes={items:o().array,_index:o().number,total:o().number,type:o().string,addtnClass:o().string,hideTotalRow:o().bool,hideTotalInWidget:o().bool,hideSource:o().bool,greaterThanZero:o().bool};const l=a.memo(s,c)},"../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./components/common/css/ElectionAsWidget.scss":"./components/common/css/ElectionAsWidget.scss":(e,t,n)=>{"use strict";var r=n("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=n.n(r),a=n("../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./components/common/css/ElectionAsWidget.scss"),s=n.n(a);o()(s(),{insert:"head",singleton:!1}),s().locals}}]);