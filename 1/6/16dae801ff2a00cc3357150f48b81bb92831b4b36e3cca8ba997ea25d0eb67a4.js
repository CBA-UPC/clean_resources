/*! For license information please see async-mm-feature-05e6b87bbf6c25ef45fd.js.LICENSE.txt */
"use strict";(globalThis.webpackChunktinderweb=globalThis.webpackChunktinderweb||[]).push([[45289],{621733:(e,t,a)=>{a.d(t,{Ub:()=>i,jn:()=>_,lC:()=>s,o3:()=>o});var r=a(799327),n=a(229155);const i=(0,r.PH)(n.UPDATE_PROFILE_ACTIVE_PHOTO,((e,t)=>({activePhotoIndex:t,id:e._id}))),s=(0,r.PH)(n.UPDATE_PROFILE_CONFIRMED_STATUS,((e,t,a=!1)=>a?{id:e._id,likesYouConfirmedStatus:t}:{id:e._id,confirmedStatus:t})),_=(0,r.PH)(n.SET_MATCH_SELFIE_VERIFICATION_STATUS,((e,t)=>({matchId:e,status:t}))),o=(0,r.PH)(n.CHECK_SELFIE_VERIFICATION_NEEDED,(e=>({matchId:e})))},907787:(e,t,a)=>{a.d(t,{Nb:()=>_,QT:()=>s,V3:()=>E,V_:()=>T,Vp:()=>S,YC:()=>o,_8:()=>l,aV:()=>u,au:()=>c,bJ:()=>d,eC:()=>A,iU:()=>i,ml:()=>I});var r=a(799327),n=a(380775);const i=(0,r.PH)(n.VALIDATE_MM_INVITATION,(e=>e)),s=(0,r.PH)(n.VALIDATE_MM_INVITATION_SUCCESS,(e=>({benefactorGender:e.benefactor_gender,benefactorImageUrl:e.benefactor_profile_image_url,benefactorName:e.benefactor_name}))),_=(0,r.PH)(n.VALIDATE_MM_INVITATION_ERROR),o=(0,r.PH)(n.GET_RECS_PACK),d=(0,r.PH)(n.SET_FRIEND_BIRTHDAY,(({month:e,day:t,year:a})=>({month:e,day:t,year:a}))),l=(0,r.PH)(n.GET_RECS_PACK_SUCCESS,(e=>e)),c=(0,r.PH)(n.GET_RECS_PACK_ERROR),I=(0,r.PH)(n.RECS_PACK_ACTION,(({type:e,swipeData:t})=>({type:e,swipeData:t}))),E=(0,r.PH)(n.SET_FRIEND_NAME,(e=>e)),T=(0,r.PH)(n.RECS_PACK_ACTION_ERROR,(e=>({type:e}))),S=(0,r.PH)(n.SET_INTRO_SHEET_SHOWN),A=(0,r.PH)(n.SET_FRIEND_MODAL_SHOWN),u=(0,r.PH)(n.SET_WAS_MM_ONBOARDING_DISPLAYED,(e=>e))},380775:(e,t,a)=>{a.r(t),a.d(t,{GET_RECS_PACK:()=>r,GET_RECS_PACK_ERROR:()=>n,GET_RECS_PACK_SUCCESS:()=>i,RECS_PACK_ACTION:()=>s,RECS_PACK_ACTION_ERROR:()=>_,SET_FRIEND_BIRTHDAY:()=>o,SET_FRIEND_MODAL_SHOWN:()=>l,SET_FRIEND_NAME:()=>d,SET_INTRO_SHEET_SHOWN:()=>c,SET_WAS_MM_ONBOARDING_DISPLAYED:()=>S,VALIDATE_MM_INVITATION:()=>I,VALIDATE_MM_INVITATION_ERROR:()=>T,VALIDATE_MM_INVITATION_SUCCESS:()=>E,errorStates:()=>A});const r="GET_RECS_PACK",n="GET_RECS_PACK_ERROR",i="GET_RECS_PACK_SUCCESS",s="RECS_PACK_ACTION",_="RECS_PACK_ACTION_ERROR",o="SET_FRIEND_BIRTHDAY",d="SET_FRIEND_NAME",l="SET_FRIEND_MODAL_SHOWN",c="SET_INTRO_SHEET_SHOWN",I="VALIDATE_MM_INVITATION",E="VALIDATE_MM_INVITATION_SUCCESS",T="VALIDATE_MM_INVITATION_ERROR",S="SET_WAS_MM_ONBOARDING_DISPLAYED",A={UNDER_AGE:"underage"}},86541:(e,t,a)=>{a.r(t),a.d(t,{getMMRecs:()=>M,recsPackAction:()=>y,validateMMInvitation:()=>p});var r=a(13241),n=a(799327),i=a(259668),s=a(235430),_=a(517727),o=a(621733),d=a(662310),l=a(661996),c=a(386494),I=a(612596),E=a(909627),T=a(815926),S=a(759396),A=a(494421),u=a(907787),N=a(380775),R=a(126999);const y=(0,i.bi)((function*(e){const{type:t}=e?.payload,a=yield(0,r.Ys)(R.hp),n=yield(0,r.Ys)(T.KR),i=yield(0,r.Ys)(T.XQ),E=yield(0,r.Ys)(T.wR),y=yield(0,r.Ys)(R.UO),p=yield(0,r.Ys)(c.vW),M=yield(0,r.Ys)(S.yc),C="like"===t,O=y&&!M&&C;O&&(yield(0,r.gz)((0,u.eC)()),yield(0,r.gz)((0,d.h)(l.ew))),yield(0,r.rM)(A.Z,i,e,{like:C,superLike:!1,sourceSessionEvent:"matchmaker",sourceSessionId:a,otherId:n}),O&&(yield(0,r.qn)([N.SET_FRIEND_NAME,l.et])),yield(0,r.rM)((function*(){const e=yield(0,r.Ys)(R.S4);yield(0,r.RE)(yield(0,r.RE)(s.ds,_.YS,"putEndorsement"),{friendName:p||e,isEndorsement:C,recId:n,invitationId:a})})),yield(0,r.gz)((0,I.z5)(n)),yield(0,r.gz)((0,I.jX)(E.slice(1))),yield(0,r.gz)((0,o.lC)({_id:n},t,!1))}),{name:"recsPackAction",*errorHandler(){yield(0,r.gz)((0,u.V_)())}}),p=(0,i.bi)((function*(e){const t=yield(0,r.Ys)(S.yc),a=yield(0,r.RE)(yield(0,r.RE)(s.ds,_.YS,"getBenefactor"),{invitationId:e.payload,isLoggedIn:t});yield(0,r.gz)((0,u.QT)(a.data))}),{name:"validateMMInvitation",*errorHandler(){yield(0,r.gz)((0,u.Nb)())}}),M=(0,i.bi)((function*(){const e=yield(0,r.Ys)(S.yc),t=yield(0,r.Ys)(R.hp),a=yield(0,r.Ys)(R.n6);let i,o={};200===a?.meta?.status?i=a:(e||(o=(yield(0,r.Ys)(R.aj))||{}),i=yield(0,r.RE)(yield(0,r.RE)(s.ds,_.YS,"getRecsPack"),{...o,invitationId:t,isLoggedIn:e}),yield(0,r.gz)((0,u._8)(i)));const d=yield(0,n.Ff)(i,E.E,!1);yield(0,r.gz)((0,I.$R)(d))}),{name:"getMMRecs",*errorHandler(){yield(0,r.gz)((0,u.au)())}})},393828:(e,t,a)=>{a.r(t),a.d(t,{persistConfig:()=>I,reducer:()=>c});var r=a(343599),n=a(454936),i=a(794128),s=a(351843),_=a(691220),o=a(380775),d=a(145118);const l=(0,r.ZP)(((e,t)=>{switch(t.type){case o.RECS_PACK_ACTION:return e.data.results.shift(),e;case o.GET_RECS_PACK_SUCCESS:return t.payload;case o.VALIDATE_MM_INVITATION:case o.RECS_PACK_ACTION_ERROR:case(0,s.dh)(t.type):return d.default.recsPackResponse}}),d.default.recsPackResponse),c=(0,n.UY)({errorState:(e=d.default.errorState,t)=>{switch(t.type){case o.GET_RECS_PACK_ERROR:return o.errorStates.UNDER_AGE;case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.errorState;default:return e}},friendBirthday:(e=d.default.friendBirthday,t)=>{switch(t.type){case o.SET_FRIEND_BIRTHDAY:return t.payload;case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.friendBirthday;default:return e}},friendName:(e=d.default.friendName,t)=>{switch(t.type){case o.SET_FRIEND_NAME:return t.payload;case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.friendName;default:return e}},isLoadingRecsPack:(e=d.default.isLoadingRecsPack,t)=>t.type!==_.LOAD_RECS_SUCCESS&&e,invitationId:(e=d.default.invitationId,t)=>{switch(t.type){case o.VALIDATE_MM_INVITATION:return t.payload;case o.RECS_PACK_ACTION_ERROR:case o.VALIDATE_MM_INVITATION_ERROR:case(0,s.dh)(t.type):return d.default.invitationId;default:return e}},inviteValidationStatus:(e=d.default.inviteValidationStatus,t)=>{switch(t.type){case o.VALIDATE_MM_INVITATION_SUCCESS:return s.xQ;case o.RECS_PACK_ACTION_ERROR:case o.VALIDATE_MM_INVITATION_ERROR:return s.Vy;case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.inviteValidationStatus;default:return e}},benefactorGender:(e=d.default.benefactorGender,t)=>{switch(t.type){case o.VALIDATE_MM_INVITATION_SUCCESS:return t.payload.benefactorGender;case o.VALIDATE_MM_INVITATION_ERROR:case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.benefactorName;default:return e}},benefactorName:(e=d.default.benefactorName,t)=>{switch(t.type){case o.VALIDATE_MM_INVITATION_SUCCESS:return t.payload.benefactorName;case o.VALIDATE_MM_INVITATION_ERROR:case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.benefactorName;default:return e}},benefactorImageUrl:(e=d.default.benefactorImageUrl,t)=>{switch(t.type){case o.VALIDATE_MM_INVITATION_SUCCESS:return t.payload.benefactorImageUrl;case o.VALIDATE_MM_INVITATION_ERROR:case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.benefactorImageUrl;default:return e}},recsPackResponse:l,introSheetShown:(e=d.default.introSheetShown,t)=>{switch(t.type){case o.SET_INTRO_SHEET_SHOWN:return!0;case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.introSheetShown;default:return e}},shouldShowFriendModal:(e=d.default.shouldShowFriendModal,t)=>{switch(t.type){case o.SET_FRIEND_MODAL_SHOWN:return!1;case o.VALIDATE_MM_INVITATION:case(0,s.dh)(t.type):return d.default.shouldShowFriendModal;default:return e}},wasMMOnboardingDisplayed:(e=d.default.wasMMOnboardingDisplayed,t)=>t.type===o.SET_WAS_MM_ONBOARDING_DISPLAYED?t.payload:e}),I={transforms:[(0,i.n)(["benefactorGender","benefactorName","benefactorImageUrl","friendName","invitationId","recsPackResponse","shouldShowFriendModal","isFirstSwipe","introSheetShown"])],wait:100}},126999:(e,t,a)=>{a.d(t,{DO:()=>c,MR:()=>o,Mw:()=>_,S4:()=>T,UO:()=>N,Vh:()=>A,Wk:()=>l,ZC:()=>y,aj:()=>u,dP:()=>S,hp:()=>I,i:()=>R,iD:()=>d,n6:()=>E});var r=a(57250),n=a(799327),i=a(351843);const s=(0,n.cF)("mm"),_=((0,r.createSelector)(s,(e=>e.inviteValidationStatus===i.ik)),(0,r.createSelector)(s,(e=>e.inviteValidationStatus===i.xQ))),o=(0,r.createSelector)(s,(e=>e.inviteValidationStatus===i.Vy)),d=(0,r.createSelector)(s,(e=>e.benefactorGender)),l=(0,r.createSelector)(s,(e=>e.benefactorName)),c=(0,r.createSelector)(s,(e=>e.benefactorImageUrl)),I=(0,r.createSelector)(s,(e=>e.invitationId)),E=(0,r.createSelector)(s,(e=>e.recsPackResponse)),T=(0,r.createSelector)(s,(e=>e.friendName)),S=(0,r.createSelector)(s,(e=>e.isLoadingRecsPack)),A=(0,r.createSelector)(s,(e=>e.introSheetShown)),u=(0,r.createSelector)(s,(e=>e.friendBirthday)),N=(0,r.createSelector)(s,(e=>e.shouldShowFriendModal)),R=(0,r.createSelector)(s,(e=>e.wasMMOnboardingDisplayed)),y=(0,r.createSelector)(s,(e=>e.errorState))},909627:(e,t,a)=>{a.d(t,{E:()=>s,b:()=>_});var r=a(371948),n=a(994806),i=a(769756);const s=new r.yX({results:i.oO},{processResult:{queue:"results"}}),_=new r.yX({match:n.$})},604640:(e,t,a)=>{a.d(t,{$w:()=>_,Hn:()=>o,i:()=>s});var r=a(699678),n=a(924304);const i=[{check:"processedVideos",compare:Boolean,type:r.MEDIA_TYPE_VIDEO},{check:"processedFiles",compare:Boolean,type:r.MEDIA_TYPE_PHOTO}],s=e=>{const t=[];return e?.length?(e.forEach((e=>{const a=i.find((({check:t,compare:a})=>a(e[t])))?.type??r.MEDIA_TYPE_PHOTO;t.push(n.gM[a])})),t):t},_=e=>{const t=[];return e?.map((e=>{const a=e?.collectible_type?.display_name;return a?t.push(a):null})).filter(Boolean),t},o=({activeBoost:e,didSuperLike:t,isFastMatch:a,recTraveling:r,sNumber:n,swipeNoteData:i,userTraveling:s})=>{const _={};return e&&(_.is_boosting=1),t&&(_.super=1),a&&(_.fast_match=1),n&&(_.s_number=n),r&&(_.rec_traveling=1),s&&(_.user_traveling=1),i&&(i.likedContentId&&(_.liked_content_id=i.likedContentId),i.likedContentType&&(_.liked_content_type=i.likedContentType),i.messageContent&&(_.swipe_note=i.messageContent)),_}},710679:(e,t,a)=>{a.d(t,{M:()=>n,n:()=>r});const r=e=>e?.map((e=>{const{id:t,choice_selections:a}=e,r=a?.map((e=>e.id)).join("_");return t&&r?`${t}_${r}`:null})).filter(Boolean).join(","),n=e=>e.map((e=>(e=>e?.map((e=>e.id)).join(","))(e.descriptors))).join(",")},494421:(e,t,a)=>{a.d(t,{Z:()=>S});var r=a(13241),n=a(894089),i=a(386494),s=a(604640),_=a(219529);const o=new Set([_.LZ,_.Ac]),d="none";function l(e){const{status:t=d}=e?.tinder_u||{};return{recTinderUStatus:o.has(t)?t:d,tinderUEnabled:!(!e.tinder_u?.school||!(0,_.Nf)(e.tinder_u)),schoolId:e.tinder_u?.school?.school_id}}var c=a(463608),I=a(76553),E=a(479682),T=a(710679);function*S(e,t,a){const{method:_}=t?.payload??{},{_id:o,is_super_like:d,s_number:S,country:A,is_traveling:u,recently_active:N,photos:R=[]}=e,y=yield(0,r.Ys)(n.AG,o),p=R[y]?.id,M=(0,s.i)(R),C=e?.user_interests?.selected_interests,O=!!C?.length,f=!!e.swipe_note,h=yield(0,r.Ys)(i.lG),D=R?.filter((e=>"short_video"===e.media_type))||[],V=D.length,m=D.filter((e=>e.assets?.some((e=>e.has_audio))))?.length,P=e?.selected_descriptors,g=e?.collectible_showcase,b=!!g?.length,L=e?.relationship_intent?.descriptor_choice_id??null,v=((e,t=0)=>e?e.map(((e,a)=>a<=t?e.content.map((({id:e})=>e)):null)).filter(Boolean).flat().join(","):null)(e?.tappy_content,y),w={availableMediaList:M,didSuperLike:d,isRecentlyActive:N,method:_,otherId:o,photoId:p,recTraveling:u,sNumber:S,superlikeType:d?(0,I.pb)(f):void 0,teaserType:e.teaser?.type,teaserValue:e.teaser?.string,userTraveling:h,viewedProfileElements:v,valueProfileElementDescriptors:P?(0,T.n)(P):null,valueProfileElementInterests:O?C?.map((e=>e.id)).join(","):null,valueProfileElementCollectibles:b?(0,s.$w)(g):null,valueProfileElementIntent:L,videoCount:V,audibleVideoCount:m,valueProfileElementGeo:A&&JSON.stringify({country:A.code,distance:e.distance_mi}),...l(e),...a};yield(0,r.gz)((0,c.L)(E.oZ,w))}}}]);