(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[37037],{178590:e=>{e.exports={}},186572:e=>{e.exports={}},448707:97359:866134:965578:957560:815286:345719:777483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CategoriesProvider:()=>a,CategoriesTypes:()=>s});var i=n(201089),o=n(120780);const r=(0,i.getLogger)("Idea.CategoriesProvider");var s;!s||(s={}));class a{etCategories(){return(0,o.fetch)(this._categoriesUrl,{headers:{"Content-Type":"application/json"},method:"GET"}).then((,()}}},641678:(e,t,n)=>{"use strict";function i(){!function(){const e=document.querySelector(".js-broker-branding-banner");if(null===e)return;n.e(62728).then(n.bind(n,773758)).then((t=>{null!==o&&o.destroy(),o=t.initBrokerBrandingAnalytics(e)}))}()}n.d(t,{initCategoryBrokerBrandingAnalytics:()=>i});let o=null},573184:(e,t,n)=>{"use strict";n.d(t,{initCategoryHeader:()=>d});var i=n(650151),o=n(345848);const r=/^\/broker\/([^/]+)\/([^/]*)\/?/;function s(e){const t=r.exec(e);return t&&{username:t[1],tabPath:""===t[2]?"overview":t[2]}}function a(e){const t=e.target;if(null===t)return;if(!t))return;const n=s(t.pathname);null!==n&&(0,o.trackEvent)("Brokers","Tabs",n.tabPath)}var l=n(429896);const c=function d(){!function(){if(null===document.querySelector(".js-category-dropdown"))return;Promise.all([n.e(33371),n.e(47325),n.e(10283)]).then(n.bind(n,510283)).then(()}(),function(){const e=document.querySelector(".js-market-category-tabs");if(null===e)return;Promise.all([n.e(7242),n.e(99503),n.e(29185),n.e(72570)]).then(n.bind(n,80077)).then((t=>{null!==h&&h.destroy(),h=t.initMarketCategoryTabs(e)}))}(),function(){const e=document.querySelector(".js-category-profile-header");if(!e)return;const t=e.querySelector(".js-header-login-status");if(t){const n=e.querySelector(".js-badge");if(n){const e=12;t.style.width=`calc(100% - ${n.offsetWidth+2*e}px)`}}const o=Array.from(document.querySelectorAll(".js-open-account"));if(o.length>0){const e=async e=>{
const t=e.currentTarget.dataset,[{tryInvokeOpenAccountHandler:o},{BrokerReviewPageData:r},{trackOpenAccountButtonPress:s}]=await Promise.all([n.e(89198).then(n.bind(n,326684)),n.e(1650).then(n.bind(n,653501)),n.e(71708).then(n.bind(n,771915))]),a=(0,i.ensureNotNull)(r.getBrokerData()),l="broker-profile",c=t.openAccountType;s(a.brokerSlugName,l,c),o({openAccountType:c,referralLink:t.referralLink,source:l,brokerData:a})};for(const t of o)t.addEventListener("click",e)}}();const e=s(window.location.pathname);document.querySelectorAll(".js-category-tabs").forEach((t=>new l.Tabs(t,void 0,{onTabClick:null!==e?a:c}))),document.querySelectorAll(".js-category-tab").forEach((e=>{e.addEventListener("mouseover",();const t=e.getAttribute("href");t&&t.includes("financials-overview/")&&e.addEventListener("click",()}))}let h=null},514283:(e,t,n)=>{"use strict";n.d(t,{useFixedBody:()=>r});var i=n(50959),o=n(575658);function r(){(0,i.useEffect)((()=>((0,o.setFixedBodyState)(!0),),[])}},655759:(e,t,n)=>{"use strict";n.d(t,{MobileDropdownMenu:()=>v,useMobileDropdownMenu:()=>y});var i=n(50959),o=n(650151),r=n(81979);function s(e,t,n){const[o,r]=(0,i.useState)({});return(0,i.useEffect)((()=>{function i(){r(function(e,t,n){if(e)return{transform:"translateY(0)"};if(!n)return{};let i="";switch(t){case"Bottomed":{const e=window.innerHeight;i=n.scrollHeight>=.65*e?"-65vh":-n.scrollHeight+"px";break}case"FullScreened":i="-100vh";break;case"Off":i="0"}return{transform:`translateY(${i})`}}(t,e,n))}return i(),window.removeEventListener("resize",i),window.addEventListener("resize",i),),[e,t,n]),o}var a=n(343370);function l(e){const t=(0,i.useRef)({direction:null,y:null}),n=(0,i.useRef)(function(e,t){function n(e){t.current.y=e.touches[0].clientY}function i(n){if(n.changedTouches&&n.changedTouches.length&&null!==t.current.y){const i=n.changedTouches[0].clientY-t.current.y;if(Math.abs(i)<2)return;t.current.direction=i>0?"down":"up",e(t.current.direction)}}eturn{onTouchStart:n,onTouchMove:(0,a.default)(i,r.dur,{trailing:!1}),onTouchEnd:o}}(e,t));return n.current}var c=n(514283),d=n(815286);function h(e,t){switch(t.type){case"down":return"FullScreened"===e?"Bottomed":"Bottomed"===e?"Off":e;case"up":return"Bottomed"===e&&t.canReachFullScreen?"FullScreened":e;default:return e}}function u(e){const{children:t,shouldClose:n,setShouldClose:a,onClose:u}=e,[_,p]=(0,i.useReducer)(h,"Bottomed"),g=(0,i.useRef)(null),f=s(_,n,g.current);!function(e,t,n,o){(0,i.useEffect)((()=>{let i;return"Off"===e&&n(!0),t&&(i=setTimeout((,r.dur)),()=>{clearTimeout(i)}}),[e,t,n,o])}(_,n,a,u);const m=l((function(e){if((0,o.ensureNotNull)(y.current).scrollTop>0)return;switch(e){case"down":p({type:"down"});break;case"up":p({type:"up",canReachFullScreen:(0,o.ensureNotNull)(g.current).scrollHeight>=window.innerHeight/2})}})),y=(0,i.useRef)(null)
;return(0,c.useFixedBody)(),i.createElement("div",{className:d.menuWrapperOuter,ref:e.reference},i.createElement("div",{className:d.menuWrapper,style:f,ref:y,...m},i.createElement("div",{className:d.menu,ref:g},t)))}var _=n(497754),p=n(957560);function g(e){const t=function(e){const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((,[e]),t}(e.isVisible);return i.createElement("div",{className:_(p.menuOuter,t&&p.isVisibleBackground)},e.children)}var f=n(636098),m=n(385806);function y(){const[e,t]=i.useState(!1),n=(0,m.useOutsideEvent)({mouseDown:!0,touchStart:!0,handler:);return{shouldClose:e,setShouldClose:t,outsideEventContainerRef:n}}function v(e){const{setShouldClose:t,reference:n,shouldClose:o,children:r,onClose:s}=e;return i.createElement(f.Portal,null,i.createElement(g,{isVisible:!o},i.createElement(u,{shouldClose:o,setShouldClose:t,onClose:s,reference:n},r)))}},221155:537037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SearchCharts:()=>re,getSearchChartsOptions:()=>ae,loadAndInitCategorySymbolPage:);var i=n(444372),o=(n(266017),n(807587),n(764403),n(547982),n(850775)),r=n(345848),s=n(120780),a=n(571690),l=n(573184),c=n(876332),d=n(707957),h=n(871637),u=n(30777);class _ extends u.default{constructor(e,t){super(e,t),this._page=parseInt(t.page,10)||1}xtPage(e,t){return this._page++,this._load(this._getData(e),t)}loadPage(e,t,n){return this._page=parseInt(e,10),this._itemsOffset=(this._page-1)*this._itemsLimit,this._load(this._getData(t),n)}getPageUrlPart(){return this._page>1?"page-"+this._page+"/":""}_resolveAjaxPath(e){return e.ajaxPath?e.ajaxPath+this._getPageUrlPart():super._resolveAjaxPath(e)}getPage(){return this._page}}var p=n(895389),g=n(50959),f=n(500962),m=n(650151),y=n(497754),v=n(83436),b=n(965578);function C(e){return g.createElement("button",{className:y(e.className,b.item,e.isActive&&b.isActive),onClick:e.onClick,"data-type":e.dataType,"data-to-value":e.dataToValue},g.createElement(v.Icon,{className:b.icon,icon:e.icon}),g.createElement("div",{className:b.content},e.children))}var k=n(221155),w=n(655759);class L{constructor(e,t){this._disabled=!1,this._getElements=()=>Array.from(this._container.querySelectorAll("[data-to-value][data-type]")),this._handleClick=e=>{if(e.preventDefault(),this._disabled)return;const t=e.currentTarget,n=(0,m.ensure)(t.dataset.type),i=(0,m.ensure)(t.dataset.toValue);this._callback({[n]:i})},this._container=e,this._callback=t,this._bind()}disable(){this._disabled=!0}d(){this._getElements().forEach((e=>e.addEventListener("click",this._handleClick)))}_unbind(){
this._getElements().forEach(()}}var S=n(576116),P=n(36214),E=n(288549),x=n(388976),T=n(415613),M=n(483852);const A={video:E,script_access:n(945417),script_type_all:M,script_type_indicators:T,script_type_strategies:x,sort_recent:P,sort_latest_popular:S,sort_month_popular:S,sort_picked_time:P,default:P};class ${constructor(e,t,n){this._container=e,f.render(g.createElement(B,{filtersInfo:t,filterChangeHandler:n}),this._container)}class B extends g.PureComponent{render(){return g.createElement(j,{...this.props})}}function j(e){const t=function(e){const t=e.controls.slice().reverse(),n=e.active,i=[];for(const e of t){switch(e.control_type){case"fc_toggle":{const t=e.control_context;i.push(g.createElement(C,{icon:A[`${e.filter_name}_${t.right_side.next_value}`]||A.default,key:t.right_side.href,href:t.right_side.href,isActive:t.right_side.active,dataType:e.filter_name,dataToValue:t.right_side.next_value},t.right_side.mobile_title||t.right_side.title),g.createElement(C,{icon:A[`${e.filter_name}_${t.left_side.next_value}`]||A.default,key:t.left_side.href,href:t.left_side.href,isActive:t.left_side.active,dataType:e.filter_name,dataToValue:t.left_side.next_value},t.left_side.mobile_title||t.left_side.title));break}case"fc_checkbox":{const t=e.control_context;i.push(g.createElement(C,{icon:A[e.filter_name]||A.default,href:t.href,key:t.href,dataType:e.filter_name,dataToValue:t.next_value,isActive:t.active},t.mobile_title||t.title));break}case"fc_dropdown":{const t=e.control_context;for(const o of t.options)i.push(g.createElement(C,{icon:A[`${e.filter_name}_${o.name}`]||A.default,href:o.href,key:o.name,dataType:e.filter_name,dataToValue:o.name,isActive:o.name===n[e.filter_name]},o.title));break}}i.push(g.createElement(k.Separator,{key:e.filter_name}))}return i.pop(),i}(e.filtersInfo),[n,i]=(0,g.useState)(!0),{shouldClose:o,setShouldClose:r,outsideEventContainerRef:s}=(0,w.useMobileDropdownMenu)();return(0,g.useEffect)((()=>{const t=new L((0,m.ensureNotNull)(s.current),();return),[]),n?g.createElement(w.MobileDropdownMenu,{shouldClose:o,setShouldClose:r,onClose:reference:s},t):null}class D{constructor(e,t){this._handleClick=e=>{e.preventDefault();const t=e.currentTarget,n=Number(t.getAttribute("data-page"));this._callback(n)},this._container=e,this._callback=t,Array.from(this._container.querySelectorAll("a.js-page-reference")).forEach((e=>{e.addEventListener("click",this._handleClick)}))}destroy(){Array.from(this._container.querySelectorAll("a.js-page-reference")).forEach(()}}class F{constructor(e){if(this._trackData=e.dataset.trackEvent&&JSON.parse(e.dataset.trackEvent),this._headerLink=e.querySelector(".js-header-link"),null!==this._headerLink&&void 0!==this._trackData){const e=(0,m.ensureDefined)(this._trackData).label||window.location.pathname;this._headerLinkClick=()=>{(0,r.trackEvent)((0,
m.ensureDefined)(this._trackData).category,(0,m.ensureDefined)(this._trackData).event,"Header "+e)},this._headerLink.addEventListener("click",this._headerLinkClick)}if(this._footerLink=e.querySelector(".js-footer-link"),null!==this._footerLink){const e=(0,m.ensureDefined)(this._trackData).label||window.location.pathname;this._footerLinkClick=()=>{(0,r.trackEvent)((0,m.ensureDefined)(this._trackData).category,(0,m.ensureDefined)(this._trackData).event,"More "+e)},this._footerLink.addEventListener("click",this._footerLinkClick)}}destroy(){null!==this._headerLink&&void 0!==this._headerLinkClick&&this._headerLink.removeEventListener("click",this._headerLinkClick),null!==this._footerLink&&void 0!==this._footerLinkClick&&this._footerLink.removeEventListener("click",this._footerLinkClick)}}function I(){return Array.from(document.querySelectorAll(".js-feed-block")).map(()}function H(e){for(const t of e)t.destroy()}var N=n(641678),O=n(776734),W=n(777483);class V{constructor(e){this._categoriesList={},this._categoryType=this._getCategoryType(e)}async updateCategories(e,t){if(null===this._categoryType)return;const n=e&&e.extra_data&&e.extra_data.filter_controls;let i=null;n.some((e=>"script_type"===e.filter_name&&(i=e.control_context.active_option.name,!0)));const o=this._getCategoryType(i);if(this._categoryType!==o)if(this._categoryType=o,Object.keys(this._categoriesList).length)this._updateCategoriesValues(t);else{const e=new W.CategoriesProvider;(await e.getCategories()).forEach((),this._updateCategoriesValues(t)}}_getCategoryType(e){return null===e?null:"all"===e?"All":"libraries"===e?W.CategoriesTypes.Libraries:"strategies"===e||"indicators"===e?W.CategoriesTypes.Scripts:null}_updateCategoriesValues(e){if(null===this._categoryType||void 0===e)return;let t;t="All"===this._categoryType?this._categoriesList[W.CategoriesTypes.Scripts].concat(this._categoriesList[W.CategoriesTypes.Libraries]):this._categoryType===W.CategoriesTypes.Libraries?this._categoriesList[W.CategoriesTypes.Libraries]:this._categoriesList[W.CategoriesTypes.Scripts],e.innerHTML="",t.forEach((t=>{const n=document.createElement("a");n.href="/scripts/"+t.tag,n.classList.add("tv-tag-label"),n.classList.add("tv-tag-label--rounded"),n.text=t.name,e.appendChild(n)}))}}class z{constructor(e,t){window.history.replaceState(this._checkAndPrepareState(e),document.title,window.location.href),window.addEventListener("popstate",(()=>{const e=window.history.state;((e)&&t(e))}))}pushState(e,t,n){window.history.pushState(this._checkAndPrepareState(e),t,n)}_checkAndPrepareState(e){return(0,m.ensureDefined)(e.filterData),(0,m.ensureDefined)(e.page),(0,m.ensureDefined)(e.feedType),(0,m.ensureDefined)(e.initOptions),(0,m.ensureDefined)(e.initOptions.url),"symbol"===e.feedType&&(0,m.ensureDefined)(e.symbolStr),e)}}const q="js-card--changed-by-balancer";function R(e){const{cards:t,columnsCount:n}=e,i=G(t).length%n;J(t,t.length-1-i)}function U(e){const{cards:t,showLimit:n}=e,i=n-1;J(G(t),i)}unction G(e){return e.filter((e=>!e.classList.contains("i-hidden")||e.classList.contains(q)))}function J(e,t){if(!(t>=e.length-1))for(let n=0;n<e.length;n++){const i=e[n];t<n?Q(i):X(i)}}function X(e){const t=e.classList;t.contains(q)&&t.contains("i-hidden")&&t.remove("i-hidden")}function Q(e){e.classList.add("i-hidden"),e.classList.add(q)}n(866134),n(448707),n(97359),n(178590),n(186572);var K=n(957879),Z=n(725977),ee=n(129025).WatchedValue;const te=n(583912).linking,ne=n(201089).getLogger("SearchCharts"),ie=K(window),oe=K(document.body);function re(e){this.loadingSymbol=new ee(!1),this.onSearchBySymbol=new d.Delegate,this._paginationController=null,this._filtersController=null,this._categoriesUpdater=null,this._init(e),this._hookCleanup=null,this._contentLifecycleHook={init:()=>{e.contentLifecycleHook&&(this._hookCleanup=e.contentLifecycleHook(this._symbolInfo))},cleanup:,this._contentLifecycleHook.init()}function se(e){const{symbolStr:t,symbolSnapshot:i,contentEl:o,onLoadingComplete:r,onBeforeContentReplace:a,onAfterContentReplace:l,symbolUrl:c}=e;let d=c||(0,p.getSymbolPagePath)({proName:t,type:i.type,typespecs:i.typespecs,exchange:i.exchange});d+=-1!==d.indexOf("?")?"&":"?",d+="route_range=full",Promise.all([Promise.all([n.e(70828),n.e(22666),n.e(5993),n.e(72639),n.e(48986),n.e(6744),n.e(34690),n.e(26264),n.e(7242),n.e(54765),n.e(64094),n.e(23841),n.e(29005),n.e(59345),n.e(53960),n.e(89693),n.e(62235),n.e(20216),n.e(43314),n.e(30492),n.e(20681),n.e(81547),n.e(90051),n.e(93908),n.e(81951),n.e(49783),n.e(55857)]).then(n.bind(n,761104)),Promise.all([n.e(68716),n.e(51029),n.e(40273),n.e(74906),n.e(67647),n.e(40723),n.e(22666),n.e(5993),n.e(72639),n.e(13423),n.e(48986),n.e(93502),n.e(68992),n.e(81643),n.e(91033),n.e(45896),n.e(36953),n.e(967),n.e(27781),n.e(48155),n.e(34545),n.e(89261),n.e(84452),n.e(21860),n.e(47981),n.e(91967),n.e(50938),n.e(36842),n.e(54234),n.e(24490),n.e(50999),n.e(84372),n.e(35306),n.e(65864),n.e(63101),n.e(98729),n.e(78801),n.e(398),n.e(71793),n.e(68306),n.e(67395),n.e(82173),n.e(929),n.e(81608),n.e(66886),n.e(80838),n.e(50735),n.e(50254),n.e(35720),n.e(31005),n.e(57923),n.e(79208),n.e(25626),n.e(55119),n.e(62190),n.e(39760),n.e(5345),n.e(66154),n.e(77370),n.e(83258),n.e(57354),n.e(66863),n.e(51157),n.e(50470),n.e(27702),n.e(87554),n.e(267),n.e(19383),n.e(34149),n.e(12442),n.e(79159),n.e(43260),n.e(16246),n.e(13133),n.e(73026),n.e(96206),n.e(76819),n.e(249),n.e(9627),n.e(49598),n.e(55639),n.e(87445),n.e(62318),n.e(48224)]).then(n.bind(n,782148)),n.e(80490).then(n.bind(n,228528)),(0,s.fetch)(d).then((e=>e.ok?e.json():(ne.logWarn("failed to fetch "+t),Promise.reject())))]).then((([e,n,i,s])=>{if(r(),
te.symbol.value()!==t)return void ne.logWarn(`feedBySymbol. Symbols mismatch! ${te.symbol.value()} !== ${t}`);a(),K(o).find("link[rel=stylesheet]").insertBefore(o),n.destroySymbolPageTabOverview(),e.destroySymbolPageHeader(),i.destroyNavHeader(),K(o).replaceWith(s.render_results.content),(0,N.initCategoryBrokerBrandingAnalytics)(),e.initSymbolPageHeader(),n.initSymbolPageTabOverview();const{urlFromSymbolDropdown:c}=window.history.state||{},d=c?new URL(c):new URL(`${s.path_wo_pagination}${s.results.relative_url||""}`,window.location.href);l(d,s),(0,O.getTracker)().then((e=>{e&&e.trackPageView()}))}),r)}e.prototype.feedBySymbol=function(e,t){!0!==this.loadingSymbol.value()&&(this.loadingSymbol.setValue(!0),this._startLoadSpinner(),this._setLoadingState(),this._preloadAd(),(0,c.getQuoteSessionInstance)("simple").snapshot(e).then((n=>{se({symbolStr:e,symbolUrl:t,symbolSnapshot:n,contentEl:this._getCategoryContent(),onLoadingComplete:onBeforeContentReplace:()=>{this._contentLifecycleHook.cleanup(),this._stopWidgets(this._$feed),H(this.titledBlocks||[])},onAfterContentReplace:(t,n)=>{(0,l.initCategoryHeader)();const i=ae(n);this._init(i),this._contentLifecycleHook.init(),this._history.pushState({filterData:this._itemLoader.getState(),page:this._itemLoader.getPage(),ajaxPath:this._getAjaxPathFromDom(),feedType:this._feedType,symbolStr:e,initOptions:i},n.page_title,t.toString())}})})))},re.prototype._getCategoryContent=re.prototype._getAjaxPathFromDom=function(){return this._$cardContainerMain.get(0)&&this._$cardContainerMain.get(0).dataset.ajaxPath||null},re.prototype._getContentAjaxPathFromDom=function(){return this._$cardContainerMain.get(0)&&this._$cardContainerMain.get(0).dataset.contentAjaxPath||null},re.prototype._toggleFilters=function(e){this._filtersController&&(e?this._filtersController.enable():this._filtersController.disable()),this._elMobileFiltersToggler&&(e?this._elMobileFiltersToggler.addEventListener("click",this._handleTogglerClickBinded):this._elMobileFiltersToggler.removeEventListener("click",this._handleTogglerClickBinded))},re.prototype._load=function(e,t={}){const n=t.ajaxPath||this._getAjaxPathFromDom(),i={ajaxPath:n},o={};t.source&&t.source.includes("filter_change")&&(o.route_range=1),t.ajaxPath=n,this._toggleFilters(!1),this._startLoadSpinner(),this._setLoadingState(),this._preloadAd(),this._itemLoader.load(i,o).then((e=>(delete this._infiniteLoopDefender,e))).then(this._onLoadHandler(!1,t).bind(this)).then((e=>{this._streamModificators=e.streamModificators||{}})).then((()=>{(0,O.getTracker)().then(()})).catch(((t,n)=>{this._stopSpinner(),this._toggleFilters(!0),this._infiniteLoopDefender?delete this._infiniteLoopDefender:(this._infiniteLoopDefender=!0,e&&this._itemLoader.setState(e)),this._handleLoadError(t)}))},re.prototype.showMore=function(e){this._setLoadingState(),
this._preloadAd();this._$showMoreButton||this._startLoadMoreSpinner();const t=this._getContentAjaxPathFromDom(),n={ajaxPath:t};return e.ajaxPath=t,this._itemLoader.nextPage({route_range:1},n).then(this._onLoadHandler(!0,e).bind(this)).then((()=>{if(this._itemLoader.allItemsLoaded()){this._turnOffNavigation();Y(this._getWidgets({$container:this._$cardContainerIdeas}).toArray())}})).catch(()},re.prototype.loadPageNum=function(e,t){this._toggleFilters(!1),this._setLoadingState(),this._preloadAd();"trending"===this._itemLoader.getState().sort&&this._streamModificators.trending_one_idea_mode&&console.error("SearchCharts not support pagination for trending_one_idea_mode");const n=t.ajaxPath||this._getAjaxPathFromDom(),i={ajaxPath:n,allowAbortPrevious:!0};t.ajaxPath=n;const o=this._itemLoader.loadPage(e,{route_range:1},i),r=new Promise(();return Promise.race([o.then((()=>"fetched")),r.then(()]).then(().catch((),Promise.all([o,r]).then(().then(this._onLoadHandler(!1,t).bind(this)).catch((e=>{this._toggleFilters(!0),this._handleLoadError(e)}))},re.prototype._handleLoadError=function(e){let t;t=e instanceof Error?e.toString()+(e.stack||"").toString():"object"==typeof e?JSON.stringify(e):e.toString(),ne.logError(t)},re.prototype._scrollUpColumns=function(e){return this._$cardContainerColumns.velocity("scroll",{duration:400,easing:"easeInOutCubic",complete:e})},re.prototype._setLoadingState=re.prototype._startColumnLoadSpinner=function(){return this._$cardContainerIdeas.addClass("tv-card-container__ideas--loading"),this._$cardContainerIdeas.tvFeed("startLoadSpinner",{css:{top:90,left:"50%"}}),this},re.prototype._startLoadSpinner=function(){if(0!==this._$feed.length){const e=this._$feed.position().top,t=ie.height(),n=this._$feed.height(),i=oe.scrollTop(),o=(Math.max(e,i)+Math.min(i+t,n+e)-50)/2;this._$feed.tvFeed("startLoadSpinner",{css:{top:o,left:"50%"}})}else!function(e){const t=document.createElement("div");t.id=le,t.classList.add("tv-spinner","tv-spinner--size_large","tv-spinner--shown"),t.setAttribute("role","progressbar"),e.prepend(t),e.style.opacity="0.5",e.style.pointerEvents="none"}(this._getCategoryContent());return this},re.prototype._startLoadMoreSpinner=re.prototype._stopSpinner=function(){var e;return 0!==this._$feed.length?(this._$feed.tvFeed("stopSpinner"),this._$navigation().tvFeed("stopSpinner"),this._$cardContainerIdeas.tvFeed("stopSpinner"),this._$cardContainerIdeas.removeClass("tv-card-container__ideas--loading")):((e=this._getCategoryContent()).getElementById(le).remove(),e.style.opacity="",e.style.pointerEvents=""),this},re.prototype.bindAutoLoad=function(e){this._boundScrollHandler||(e=+e||600,this._boundScrollHandler=()=>{if(this._itemLoader.allItemsLoaded()||this._isLoading)return
;if(document.body.classList.contains("i-no-scroll"))return;this._$cardContainerIdeas[0].getBoundingClientRect().bottom>window.innerHeight+e||this.showMore({source:["autoload"]})},window.addEventListener("scroll",this._boundScrollHandler,!1),K(".js-footer").addClass("i-hidden"))},re.prototype.unbindAutoLoad=function(e){this._boundScrollHandler&&(window.removeEventListener("scroll",this._boundScrollHandler,!1),this._boundScrollHandler=null),K(".js-footer").removeClass("i-hidden")},re.prototype._onLoadHandler=function(e,t){return([n,i,o])=>{this._isLoading=!1;if((!t.source||!t.source.includes("history_navigation"))&&this._history.pushState({filterData:this._itemLoader.getState(),page:this._itemLoader.getPage(),ajaxPath:t.ajaxPath||"",feedType:"ideas",initOptions:{url:this._initOptions.url,itemsMeta:this._initOptions.itemsMeta,symbolInfo:this._initOptions.symbolInfo}},n.page_title,this._url+(n.results.relative_url||"")),n.pagination&&n.pagination.current){const e=n.pagination.current>1?`Page ${n.pagination.current} ${n.page_title}`:n.page_title;document.title=e}const r=TradingView.historyManager;if(r){const e={title:document.title,url:this._url+(n.results.relative_url||""),data:{}};r.updateBasePage(e)}if(e){const e=n.render_results.content;this._addWidgets(e,this._$cardContainerMain)}else{const e=n.render_results.content;this._replaceLoadedContent(e)}return n.symbol_info?this._linkSymbolInfo(n.symbol_info):this._unlinkSymbolInfo(),this._stopSpinner(),this._categoriesUpdater.updateCategories(n,this._$categoriesContainer.get(0)),n}},re.prototype._replaceLoadedContent=function(e){this._contentLifecycleHook.cleanup(),this._turnOffNavigation(),this._unbindFilters(),this._stopWidgets(this._$cardContainerMain),H(this.titledBlocks);const t=this._$cardContainerMain.get(0),n=t.parentNode,i=(0,a.parseHtmlElement)(e);n.replaceChild(i,t),this._updateContainersReferences(),this._markAsAnchor(this._$header),this._activateNavigation(),this._bindFilters(),this._startAndPrepareWidgetsForBalancing(this._$cardContainerMain).then(this._balanceCards.bind(this)),this.titledBlocks=I(),this._contentLifecycleHook.init()},re.prototype._filterChangePreproccess=function(e){const t=this._itemLoader.getState();return"recent"===e.sort&&"recent"!==t.sort?this._savedInterval=t.interval:this._savedInterval&&"recent"===t.sort&&"recent"!==e.sort&&(e.interval=this._savedInterval,delete this._savedInterval),e},re.prototype._filterChangeHandler=function(e){e=this._filterChangePreproccess(e),this._trackFiltersChange(e);const t=Z.clone(this._itemLoader.getState());this._itemLoader.updateState(e)&&this._load(t,{source:["filter_change"]})},re.prototype._trackFiltersChange=function(e){const t=window.location.pathname+(window.location.search||"");for(const[n,i]of Object.entries(e))switch(n){case"video":(0,r.trackEvent)("Ideas Filters","Videos Only",t);break;case"sort":(0,r.trackEvent)("Ideas Filters","recent"===i?"Newest":"Popular",t);break;case"script_type":(0,r.trackEvent)("Script Filters","Script Type",i);break;case"script_access":(0,
r.trackEvent)("Script Filters","Source Type","open"===i?"Open source only":"All");break;default:(0,r.trackEvent)("Ideas Filters","",t)}},re.prototype._bindFilters=function(){this._unbindFilters();const e=document.querySelector(".js-feed-filters");e&&(this._filtersInfo=JSON.parse(e.dataset.filters),this._itemLoader.setState(this._filtersInfo.active),this._filtersController=new L(e,this._filterChangeHandler.bind(this)),this._elMobileFiltersToggler=e.querySelector(".js-feed-filters-mobile__toggler"),this._elMobileFiltersToggler&&(this._renderer=null,this._handleTogglerClickBinded=this._handleTogglerClick.bind(this),this._elMobileFiltersToggler.addEventListener("click",this._handleTogglerClickBinded)))},re.prototype._handleTogglerClick=function(){const e=this._elMobileFiltersToggler.querySelector(".tv-feed-rounded-button__dropdown-container");this._renderer&&this._renderer.destroy(),this._renderer=new $(e,this._filtersInfo,this._filterChangeHandler.bind(this)),this._filtersController.updateBindings()},re.prototype._unbindFilters=function(){this._elMobileFiltersToggler&&this._elMobileFiltersToggler.removeEventListener("click",this._handleTogglerClickBinded),null!==this._filtersController&&(this._filtersController.destroy(),this._filtersController=null)},re.prototype._bindHistory=function(e){this._history||(this._history=new z({filterData:this._itemLoader.getState(),page:this._itemLoader.getPage(),ajaxPath:this._getAjaxPathFromDom(),feedType:this._feedType,symbolStr:"symbol"===this._feedType?this._initOptions.symbolInfo.pro_symbol:"",initOptions:{url:e.url,itemsMeta:e.itemsMeta,symbolInfo:e.symbolInfo}},(e=>{const t=this._itemLoader.checkState(e.filterData),n=e.page&&this._itemLoader.getPage()!==e.page;if(this._feedType!==e.feedType)window.location.href=e.initOptions.url;else if(!t&&n){const t=K("#anchor-page-"+e.page);t.length?t.velocity("scroll",{duration:400,easing:"easeInOutCubic"}):this.loadPageNum(e.page,{source:["history_navigation","pagination"]})}else if(t){const t=this._filterChangePreproccess(e.filterData);if(this._itemLoader.updateState(t),e.page>1)this.loadPageNum(e.page,{source:["history_navigation","pagination"]});else{const t=Z.clone(this._itemLoader.getState());this._load(t,{source:["history_navigation","filter_change"],ajaxPath:e.ajaxPath||""})}}})))},re.prototype._turnOffNavigation=re.prototype._activateNavigation=re.prototype._bindShowMoreButton=function(){this._$showMoreButton=K(".js-load-more"),this._$showMoreButton.tvButtonLoader(),this._$showMoreButton.on("click",function(){this._$showMoreButton.addClass("js-loading"),this._$showMoreButton.tvButtonLoader("start"),this._$pagination().remove();return this.showMore({source:["show_more_button"]}).then((()=>{this._$showMoreButton.remove(),delete this._$showMoreButton,this._itemLoader.allItemsLoaded()||this.bindAutoLoad(800)}),(e=>{const t=this._$showMoreButton.tvButtonLoader("get","contentHtml"),o=this._$showMoreButton.width()
;this._$showMoreButton.removeClass("js-loading"),this._$showMoreButton.tvButtonLoader("stop"),this._$showMoreButton.css("width",o),this._$showMoreButton.tvButtonLoader("contentHtml",i.t(null,void 0,n(482751))),setTimeout((()=>{this._$showMoreButton.tvButtonLoader("contentHtml",t),this._$showMoreButton.css("width","auto")}),3e3)})),!1}.bind(this))},re.prototype._bindPagination=function(){null!==this._paginationController&&(this._paginationController.destroy(),this._paginationController=null);const e=this._$pagination().get(0);e&&(this._paginationController=new D(e,(e=>this.loadPageNum(e,{source:["pagination"]}))))},re.prototype._preloadAd=function(){if(this._adPlacement){const e=document.querySelector(".js-native-promo-block"),t=document.querySelector(".js-native-promo-block-content");if(null===t||null===e)return;this._adPlacement.load(t),this._adPlacement.ready().then((),t.classList.remove("js-native-promo-block-content"),e.classList.remove("i-hidden","js-native-promo-block")}},re.prototype._markAsAnchor=function(e){e.eq(0).attr("id",`anchor-page-${this._itemLoader.getPage()}`)},re.prototype._addWidgets=function(e,t){const n=K(e);this._markAsAnchor(n.eq(0)),t.find(".tv-feed__item").last().after(n),this._startAndPrepareWidgetsForBalancing(t).then(this._balanceCards.bind(this))},re.prototype._getWidgets=function({$container:e,notStartedOnly:t=!1}){let n=[".tv-feed__item",".js-feed__item"];return t&&(n=n.map(()),e.find(n.join(","))},re.prototype._startAndPrepareWidgetsForBalancing=function(e){const t=this,n=[];return this._getWidgets({$container:e,notStartedOnly:!0}).each((function(){const e=this,i=K(e),o=e.dataset.widgetId,r=e.dataset.widgetType;if(!o&&!r)return;let s=e.dataset.widgetData?JSON.parse(e.dataset.widgetData):{};if("promo_block"===r&&t._adPlacement&&(s={adPlacement:t._adPlacement}),e.dataset.feedWidget)return;const a=h.FeedWidgetFactory.create(o,r,e,{...s,trackEventsGA:!0,id:o});if(a){if(a.init(),"function"==typeof a.onHasNoData){const e=a.onHasNoData();e instanceof d.Delegate?e.subscribe(this,(()=>{const e=K(this);e.data("feedWidget").destroy(),e.addClass("i-hidden").removeData("feedWidget")})):console.error("feedWidget.onHasNoData() should return Delegate instance")}n.push(a.readyForBalancing()),i.data("feedWidget",a),i.addClass("js-feed__item--inited"),i.find(".tv-feed-widget__control-icon--get-widget").click(ce)}})).find(".js-time-upd").timeUpdate(),Promise.all(n)},re.prototype._stopWidgets=function(e){this._getWidgets({$container:e}).each((function(){const e=K(this).data("feedWidget");e&&"function"==typeof e.destroy&&e.destroy()}))},re.prototype._balanceCards=function(){const e=Array.from(document.querySelectorAll(".js-balance-content"));for(const t of e){const e=K(t),n=this._getWidgets({$container:e}).toArray();if(!t.classList.contains("js-force-balancing")&&this._itemLoader.allItemsLoaded())Y(n);else if("balanceLimit"in t.dataset){U({cards:n,showLimit:t.dataset.balanceLimit})}else{R({cards:n,
columnsCount:this._getIdeasColumnsNumber(e)})}}},re.prototype._getIdeasColumnsNumber=function(e){return o.mediaState.width<=o.mediaState.breakpoints.tablet?1:e.width()<1500?2:3},re.prototype._linkSymbolInfo=re.prototype._unlinkSymbolInfo=re.prototype._updateContainersReferences=re.prototype._init=function(e={}){this._$feedWrapper=K(".js-feed-wrap"),this._$feed=K(".tv-feed"),this._$header=K(".tv-category-header"),this._$categoriesContainer=K(".tv-category-header__tags-content"),this._updateContainersReferences(),this._url=e.url,e.adPlacement&&(this._adPlacement=e.adPlacement),e.itemsMeta&&e.itemsMeta.filters&&e.itemsMeta.filters.script_type?this._categoriesUpdater=new V(e.itemsMeta.filters.script_type):this._categoriesUpdater=new V(null),this._streamModificators=e.itemsMeta.streamModificators||{},this._itemLoader=new _(e.url,e.itemsMeta),this._itemLoader.updateState(e.itemsMeta.filters),this._feedType=e.symbolInfo?"symbol":"ideas",this._initOptions=e,this._balanceCards=this._balanceCards.bind(this),this._markAsAnchor(this._$header),this._startAndPrepareWidgetsForBalancing(this._$feed).then(this._balanceCards),this.titledBlocks=I(),o.mediaState.on("changeDevice",this._balanceCards),this._bindHistory(e),this._bindShowMoreButton(),this._bindPagination(),e.symbolInfo&&this._linkSymbolInfo(e.symbolInfo),this._bindFilters(),te.bindToSearchCharts(this)},re.prototype._$pagination=function(){return K(".js-feed-pagination",this._$feedWrapper)},re.prototype._$navigation=re.prototype.destroy=function(e){null!==this._paginationController&&(this._paginationController.destroy(),this._paginationController=null),this._elMobileFiltersToggler&&this._elMobileFiltersToggler.removeEventListener("click",this._handleTogglerClickBinded),null!==this._filtersController&&(this._filtersController.destroy(),this._filtersController=null),o.mediaState.off("changeDevice",this._balanceCards),this._contentLifecycleHook.cleanup(),this._stopWidgets(this._$feed),this.unbindAutoLoad()};const le="js-search-charts-category-spinner";function ce(e){const t=e.currentTarget.getAttribute("data-source");t&&(0,O.getTracker)().then(()}},415613:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 9" width="24" height="9" fill="none"><path fill="currentcolor" d="M23.66 1.75l-6.6 5.77a3 3 0 0 1-4.1-.14L8.72 3.12a1 1 0 0 0-1.42 0L1.71 8.71.29 7.29l5.59-5.58a3 3 0 0 1 4.24 0l4.26 4.26a1 1 0 0 0 1.37.05l6.6-5.77 1.3 1.5z"/></svg>'},483852:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 16" width="24" height="16" fill="none"><path fill="currentcolor" d="M23.66 1.75l-6.6 5.77a3 3 0 0 1-4.1-.14L8.72 3.12a1 1 0 0 0-1.42 0L1.71 8.71.29 7.29l5.59-5.58a3 3 0 0 1 4.24 0l4.26 4.26a1 1 0 0 0 1.37.05l6.6-5.77 1.3 1.5z"/><path fill="currentcolor" d="M23 8a1 1 0 1 0-2 0v7a1 1 0 1 0 2 0V8zm-12 3a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4zm4 2a1 1 0 1 0-2 0v2a1 1 0 1 0 2 0v-2zm3-3a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1zM6 8a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1zm-3 5a1 1 0 1 0-2 0v2a1 1 0 1 0 2 0v-2z"/></svg>'},945417:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 24" width="20" height="24" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.06.07a6 6 0 0 1 5.18 1.69 6 6 0 0 1 1.1 1.52l-1.78.9a4 4 0 0 0-2.78-2.1A4 4 0 0 0 6 6v2h10a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4v-8a4 4 0 0 1 4-4V6A6 6 0 0 1 9.06.07zM16 10H4a2 2 0 0 0-2 2v8c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm-7 6a1 1 0 1 0 2 0 1 1 0 0 0-2 0zm1-3a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>'},36214:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36"><g fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="18" r="10"/><path stroke-linecap="round" d="M14 18h4v-6"/></g></svg>'},576116:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36"><path fill="none" stroke="currentColor" stroke-width="2" d="M18 28c5.5 0 10-4.5 10-10 0-5-3.5-7.5-3.5-7.5-.5 3-2 5.5-5.5 5.5 0 0 1-3.5 1-6s-2-5-2-5C14 9 8 11 8 18c0 5.5 4.5 10 10 10z"/></svg>'},288549:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36"><g fill="none" fill-rule="evenodd"><circle stroke="currentColor" stroke-width="2" cx="18" cy="18" r="10"/><path fill="currentColor" d="M16 13.508v8.984a.5.5 0 0 0 .834.372l5.003-4.492a.5.5 0 0 0 0-.744l-5.003-4.492a.5.5 0 0 0-.834.372z"/></g></svg>'},388976:]);