import{A as n,B as r,I as b,J as O,G as m,_ as N,H as S,P as V,Q as B,L as d,D as M,N as P,O as p,Z as _,V as R,W as z,X as j,a8 as A,$ as D,a0 as q}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{u as E,c as T,b9 as v,b8 as h,w as K}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{useCsrViewStoreNotifyOnSale as C}from"./csrViewStoreNotifyOnSale_d2e65c50_r24-02-0_b0_t240129-161140.js";import{S as U}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import W from"./Modal_886b6642_r24-02-0_b0_t240129-161140.js";import{c as F}from"./imageUtils_fcbf42ca_r24-02-0_b0_t240129-161140.js";import{V as x}from"./VProductMediaSSR_5d417f74_r24-02-0_b0_t240129-161140.js";import{i as G}from"./ItemName_b6c48563_r24-02-0_b0_t240129-161140.js";import{i as Q}from"./ItemColor_c3f1e2ec_r24-02-0_b0_t240129-161140.js";import{P as H}from"./PromoBadge_8e0d2512_r24-02-0_b0_t240129-161140.js";import{_ as w}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import"./getAjsAnonId_1de02835_r24-02-0_b0_t240129-161140.js";import"./i18n_4b81f106_r24-02-0_b0_t240129-161140.js";import"./trapFocus_6aa864f5_r24-02-0_b0_t240129-161140.js";import"./SpinnerSkeleton_362db941_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreAppState_f9ff4bfa_r24-02-0_b0_t240129-161140.js";import"./VResponsivePicture_fb50e2e9_r24-02-0_b0_t240129-161140.js";const J={props:{productObj:{type:Object,required:!0}}},X={class:N(["price-container"])},Z={class:"multi-price-container"},Y={key:0,class:N(["price","hard-sale"])};function $(e,a,o,k,y,t){var l,i,s,u,f,c,g;return n(),r("div",X,[b("span",Z,[(l=o.productObj)!=null&&l.hardmarkprice?(n(),r("span",Y," $"+O((s=(i=o.productObj)==null?void 0:i.hardmarkprice)==null?void 0:s.toFixed(2)),1)):m("",!0),o.productObj&&o.productObj.softmarkprice?(n(),r("span",{key:1,class:N(["price","soft-sale",{strikedOut:o.productObj.hardmarkprice}])}," $"+O((f=(u=o.productObj)==null?void 0:u.softmarkprice)==null?void 0:f.toFixed(2)),3)):m("",!0),o.productObj&&o.productObj.regularprice?(n(),r("span",{key:2,class:N(["price",{strikedOut:o.productObj.hardmarkprice||o.productObj.softmarkprice}])}," $"+O((g=(c=o.productObj)==null?void 0:c.regularprice)==null?void 0:g.toFixed(2)),3)):m("",!0)])])}const ee=w(J,[["render",$],["__scopeId","data-v-2ad6f568"]]);const te={inject:["mq"],components:{itemName:G,itemColor:Q,itemPrice:ee,PromoBadge:H,VProductMediaSSR:x},computed:{...S(E,["country","locale"]),...S(T,["paths"]),...S(C,["modalState","products"]),...V(C,["productAnalytics"]),promoBadge(){var e;return((e=this.product)==null?void 0:e.promobadge)||!1},imageToUse(){var e;return(e=this.product)!=null&&e.image?{url:this.product.image,format:"Quickview_Desktop"}:null},productUrl(){return`/p/${this.product.id}`}},props:{product:{type:Object,required:!0}},async created(){if(!this.product.image){const e=await F({pc9:this.product.id,width:150});this.updateProductImage({id:this.product.id,image:e})}},methods:{...B(C,["updateModalState","updateProductImage"]),closeModal(){var e,a;v({actionDetail:"product click",productId:(e=this.product)==null?void 0:e.id,price:this.product.hardmarkprice??this.product.softmarkprice??this.product.regularprice,promo:(a=this.product)==null?void 0:a.promobadge}),v({actionDetail:"panel close"}),this.productAnalytics=!0,this.updateModalState({modalState:h.CLOSE})}}},oe={class:"notify_img_section"};function ae(e,a,o,k,y,t){const l=d("VProductMediaSSR"),i=d("itemName"),s=d("itemColor"),u=d("itemPrice"),f=d("promo-badge"),c=d("router-link");return n(),M(c,{class:"notify_main_block",to:`${e.paths.base}${t.productUrl}`,onClick:t.closeModal,onKeyup:_(t.closeModal,["enter"])},{default:P(()=>[b("div",oe,[t.imageToUse?(n(),M(l,{key:0,"aspect-ratio":"nosDesktop","disable-bottom-crop":!1,"product-image":t.imageToUse,"alt-text":(o.product||{}).altText,"column-width":5,"aspect-ratio-width":4,"aspect-ratio-height":5},null,8,["product-image","alt-text"])):m("",!0)]),b("div",null,[p(i,{"product-name":o.product.name,"product-url":t.productUrl},null,8,["product-name","product-url"]),p(s,{"color-name":o.product.color},null,8,["color-name"]),p(u,{"product-obj":o.product},null,8,["product-obj"]),t.promoBadge?(n(),M(f,{key:0,class:"promo-badge","promo-badge":t.promoBadge},null,8,["promo-badge"])):m("",!0)])]),_:1},8,["to","onClick","onKeyup"])}const ne=w(te,[["render",ae],["__scopeId","data-v-5f06c3c0"]]);const le={props:{products:{type:Array,required:!0}},components:{NotifyOnSaleItem:ne}},re={class:"notify-description notify-sale-item-list"};function ie(e,a,o,k,y,t){const l=d("NotifyOnSaleItem");return n(),r("ul",re,[(n(!0),r(R,null,z(o.products,(i,s)=>(n(),r("li",{class:"notify-sale-item-list-li",key:s},[p(l,{product:i},null,8,["product"])]))),128))])}const se=w(le,[["render",ie],["__scopeId","data-v-6b958f8a"]]);const ce={computed:{...S(E,["country","locale"]),...S(T,["paths"]),...S(C,["modalState","products","isBadgeOpen"]),NotifyOnSaleModalState(){return h},notifyOnSaleModalStyles(){return{"--leftposition":this.toolTipLeftPosition}}},components:{SvgIcon:U,Modal:W,NotifyOnSaleList:se},data(){return{toolTipLeftPosition:""}},methods:{...B(C,["getNotifyOnSaleItems","updateModalState"]),async closeModal(){var e,a;v({actionDetail:this.modalState===((e=h)==null?void 0:e.PARTIAL)?"alert close":"panel close"}),await this.updateModalState({modalState:(a=h)==null?void 0:a.CLOSE})},async nosopenModal(){var e;v({actionDetail:"bell click"}),this.modalState===((e=h)==null?void 0:e.CLOSE)?await this.openModal():await this.closeModal()},async handleResize(){var y,t,l,i,s,u;const e=((t=(y=document.querySelector(".header-bar__bell"))==null?void 0:y.getBoundingClientRect())==null?void 0:t.left)||0,a=((i=(l=document.querySelector(".modal-body"))==null?void 0:l.getBoundingClientRect())==null?void 0:i.left)||0,o=(((u=(s=document.querySelector(".header-bar__bell"))==null?void 0:s.getBoundingClientRect())==null?void 0:u.width)||0)/2,k=e-a+o+6;this.toolTipLeftPosition=`${k}px`},async openModal(){var e;v({actionDetail:"panel open"}),await this.updateModalState({modalState:(e=h)==null?void 0:e.OPEN})}},updated(){this.modalState!=="CLOSE"&&this.handleResize()},created(){var e;(e=this==null?void 0:this.products)!=null&&e.length||this.getNotifyOnSaleItems(),K()&&window.addEventListener("resize",this.handleResize)},unmounted(){K()&&window.removeEventListener("resize",this.handleResize)}},de=e=>(D("data-v-bcc1958f"),e=e(),q(),e),ue={class:"header-bar__bell QSIWebResponsive"},pe={class:"header-bar__notify-sale-count"},me={key:1,class:"notify-description notify-description-message"},_e=de(()=>b("div",null," Here's where you'll find deals whenever items you've shown an interest in go on sale. ",-1));function fe(e,a,o,k,y,t){var f;const l=d("SvgIcon"),i=d("NotifyOnSaleList"),s=d("router-link"),u=d("Modal");return n(),r("div",ue,[p(l,{name:"bell-mobile",title:"favorites icon",class:"header-bar__bell-icon hide-desktop",onClick:t.nosopenModal,onKeyup:_(t.nosopenModal,["enter"])},null,8,["onClick","onKeyup"]),p(l,{name:"bell",title:"favorites icon",class:"header-bar__bell-icon show-desktop",onClick:t.nosopenModal,onKeyup:_(t.nosopenModal,["enter"])},null,8,["onClick","onKeyup"]),e.products&&e.products.length>0&&e.isBadgeOpen?(n(),r("div",{key:0,class:"header-bar__notify-sale-count-wrapper",onClick:a[0]||(a[0]=(...c)=>t.nosopenModal&&t.nosopenModal(...c)),onKeyup:a[1]||(a[1]=_((...c)=>t.nosopenModal&&t.nosopenModal(...c),["enter"]))},[b("span",pe,O(e.products.length),1)],32)):m("",!0),e.modalState!==((f=t.NotifyOnSaleModalState)==null?void 0:f.CLOSE)?(n(),M(u,{key:1,"lock-scroll":!1,"modal-name":"notifyOnSaleModal",class:"notify-onsale-modal",style:A(t.notifyOnSaleModalStyles),onCloseModal:t.closeModal},{body:P(()=>{var c,g,L;return[p(l,{name:"bell-mobile",title:"favorites icon",class:"header-bar__bell-icon hide-desktop",onClick:t.nosopenModal,onKeyup:_(t.nosopenModal,["enter"])},null,8,["onClick","onKeyup"]),p(l,{name:"bell",title:"favorites icon",class:"header-bar__bell-icon show-desktop",onClick:t.nosopenModal,onKeyup:_(t.nosopenModal,["enter"])},null,8,["onClick","onKeyup"]),e.modalState!==((c=t.NotifyOnSaleModalState)==null?void 0:c.CLOSE)?(n(),r("span",{key:0,class:N(["header",{partial:e.modalState===((g=t.NotifyOnSaleModalState)==null?void 0:g.PARTIAL)}]),onClick:a[2]||(a[2]=(...I)=>t.openModal&&t.openModal(...I)),onKeyup:a[3]||(a[3]=_((...I)=>t.openModal&&t.openModal(...I),["enter"]))},O(e.products&&e.products.length>0?e.$t("i18n.notifyOnSaleNotificationWithProducts"):e.$t("i18n.notifyOnSaleNotificationWithoutProducts")),35)):m("",!0),e.modalState===((L=t.NotifyOnSaleModalState)==null?void 0:L.OPEN)?(n(),r(R,{key:1},[e.products&&e.products.length>0?(n(),M(i,{key:0,products:e.products},null,8,["products"])):(n(),r("div",me,[_e,b("div",null,[j(" It looks like nothing you've looked at recently is on sale right now, but you can always "),p(s,{to:`${e.paths.base}/sale/c/levi_clothing_sale_us`,onClick:t.closeModal,onKeyup:_(t.closeModal,["enter"])},{default:P(()=>[j(" view our current sale items ")]),_:1},8,["to","onClick","onKeyup"])])]))],64)):m("",!0)]}),_:1},8,["style","onCloseModal"])):m("",!0)])}const Be=w(ce,[["render",fe],["__scopeId","data-v-bcc1958f"]]);export{Be as default};
