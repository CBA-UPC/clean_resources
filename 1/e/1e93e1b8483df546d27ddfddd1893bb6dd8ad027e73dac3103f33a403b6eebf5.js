(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[8006],{38193:(e,t,r)=>{"use strict";r.d(t,{d5:()=>i,tR:()=>o,z8:()=>a});var n=r(70709);function a(e,t){var r={pcookie:e,storageType:"BLOG_READER",pcookieExpirationDate:t},a=(0,n.ui)("".concat(window.process.env.API_AGP,"/guest/storage"),r);return fetch(a,{cache:"no-cache",credentials:"include",mode:"cors",timeout:1e3})}function o(e,t,r,a){var o={pcookie:e,storageType:"BLOG_READER",value:t,pcookieExpirationDate:r,mineId:"".concat(window.process.env.MINE_ID),requestRoute:a},i=(0,n.ui)("".concat(window.process.env.API_AGP,"/guest/storage"),o);return fetch(i,{method:"POST",cache:"no-cache",credentials:"include",mode:"cors",timeout:1e3})}function i(e,t,r,a){var o={pcookie:e,storageType:"BLOG_READER",value:t,pcookieExpirationDate:r,mineId:"".concat(window.process.env.MINE_ID),actionType:"USER_ACTION",deleteRoute:a},i=(0,n.ui)("".concat(window.process.env.API_AGP,"/guest/storage/delete"),o);return fetch(i,{method:"POST",cache:"no-cache",credentials:"include",mode:"cors",timeout:1e3})}},42997:(e,t,r)=>{"use strict";r.d(t,{ZN:()=>i,dS:()=>l,fv:()=>u,tI:()=>o,xR:()=>a});var n=r(89702);function a(e,t){return(0,n.Z)("getChecklistIds",{token:e,cursor:t})}function o(e,t){return(0,n.Z)("getFollowing",{token:e,targetAmebaId:t})}function i(e,t,r,a,o,i){return(0,n.Z)("follow",{token:e,targetAmebaId:t,type:r,browserPush:a,sendMail:o,mineRequestRoute:i})}63862:33811:(e,t,r)=>{"use strict";r.d(t,{uw:()=>E,x0:()=>w});var n=r(41185),a=r(66062),o=r(18274),i=r(55752),u=r.n(i),l=r(5663),c=r.n(l),s=r(74890),f=r.n(s),d=r(62720),p=r(64123),y=r(11622),m=r(18966),v=r(41779);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=[d.Z.REBLOG,d.Z.HASH_TAG,d.Z.IMAGE,d.Z.VIDEO,d.Z.CLIPBLOG,d.Z.VOICE_BLOG,d.Z.PR,d.Z.AUTO_AD],I=(e,t,r,n)=>({type:m.L_,payload:{blogId:e,entryId:t,data:r,frm:n}}),_=(e,t,r)=>({type:m.V7,payload:{blogId:e,entryId:t,error:r},error:!0}),w=(0,o.H)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return function(){var o=(0,a.Z)((function*(a,o,i){var{fetchr:l}=i,s=f()(h.concat(r)),d=u()(o(),["bloggerState","blogMap",e,"blog_name"],"");if(!d||!t)return null;var v=u()(o(),["entryState","entryMetaMap",t],null),b=u()(v,"pagingType",void 0),w=n===b,E=u()(o(),["entryState","entryMap",t],null);if(v&&w&&E&&(!c()(E.entry_text)||404===E.status_code))return null;try{a({type:m.Gh,payload:{blogId:e,entryId:t,fieldFilter:s,frm:n}});var O={amebaId:d,blogId:e,entryId:t,fieldFilter:s,frm:n},T=yield l.read(p.Z.BlogEntry).params(O).end(),S=T.data;if(!(!1!==o().deviceState.isEmojiSupported)&&S.entities&&S.entities.entryMap)try{S=g(g({},S),{},{entities:g(g({},S.entities),{},{entryMap:yield(0,y.R9)(S.entities.entryMap)})})}catch(k){console.warn(k),S=T.data}return a(I(e,t,S,n))}catch(P){return a(_(e,t,P))}}));return function(e,t,r){return o.apply(this,arguments)}}()})),E=(0,o.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,n){var a=u()(n(),["bloggerState","blogMap",e,"blog_name"],"");if(!a||!t)return null;var o=u()(n(),["entryState","entryMap",t],null);if("amember"!==o.publish_flg||o&&(o.entry_text||404===o.statusCode))return null;try{r({type:m.tB,payload:{entryId:t}});var i={token:u()(n(),["amebloTokenState","amebloToken"],null),amebaId:a,entryId:parseInt(t,10)},l=yield(0,v.s)(i);return r(((e,t)=>({type:m.BD,payload:{entryId:e,data:t}}))(t,l))}catch(c){return r(((e,t)=>({type:m.Ny,payload:{entryId:e,error:t},error:!0}))(t,c))}}));return function(e,t){return r.apply(this,arguments)}}()))},68006:(e,t,r)=>{"use strict";r.d(t,{D$:()=>P,HZ:()=>T,eu:()=>S});var n=r(66062),a=r(18274),o=r(55752),i=r.n(o),u=r(5663),l=r.n(u),c=r(75649),s=r.n(c),f=r(22811),d=r(38193),p=r(42997),y=r(73614),m=r(33811),v=r(90926),b=r(48298),g=r(16176),h=r(63862),I=r(93110),_=r(71980),w=r(70317),E=r(62205),O=T=(0,a.H)({ttl:300},(e=>function(){var t=(0,n.Z)((function*(t,r,n){var{fetchr:a}=n;yield t((0,v.wn)());var o=(0,w.jl)(r()),u=o?g.DV.MEMBER:g.DV.NON_MEMBER,c=i()(r(),["followFeedState","feedMap","status","feedType"],"");c&&u!==c&&(yield t({type:E.a6}));var y=i()(r(),["followFeedState","feedMap"],{}),m=y.status||{};if(m.loading)return null;var b=y.feed||[];if(e===g.XN.INIT&&!i()(m,["hasErrors"],!1)&&(m.feedType&&l()(b)||!l()(b)))return null;try{if(t({type:E.ah,payload:{feedType:u,requestType:e}}),o){var h=y.paging||{},I=e===g.XN.MORE,T=I?h.next:"",S=i()(r(),["amebloTokenState","amebloToken"],""),k=yield p.xR(S,T);if(k.error)throw new Error(k.error);var P=(k.data||[]).map((),A=I?[...b,...P]:P,R=!!r().followState.followActionMap.isUpperLimit;return t(O(A,u,R,k.paging))}var M={},j=b.map((e=>e.amebaId));if(e===g.XN.INIT){var D=i()(f.parse(document.cookie),"P",null);if(!D)return t(O([],u,!1,M));var Z=yield d.z8(D,(0,_.Z)());if(!Z.ok)throw new Error(yield Z.text());var x=yield Z.json();j=x?x.amebaIds:[]}if(l()(j))return t(O([],u,!1,M));var N=[],G=[];if(e===g.XN.INIT&&(j.forEach((e=>{var t=b.findIndex(();-1!==t?N.push(b[t]):G.push(e)})),l()(G)))return t(O(b,u,!1,M));l()(G)&&(G=j);var F=G.map((e=>a.read("blogLatestEntry").params({amebaId:e}).end().then((t=>{var r=t.data;return r||{ameba_id:e}})).catch(())),L=(yield Promise.all(F)).filter(().map((),C=[...N,...L],H=[...s()(C.filter((e=>!l()(e)&&e.entryCreatedDatetime)),"entryCreatedDatetime","desc"),...C.filter((e=>!l()(e)&&!e.entryCreatedDatetime))],B=H.length===g.xr;return t(O(H,u,B,M))}catch(U){return t((e=>({type:E.VR,payload:{error:e},error:!0}))(U))}}));return ())),S=(0,a.H)({ttl:200},(e=>function(){var t=(0,n.Z)((function*(t,r){if(i()(r(),["followFeedState","feedMap","status","loading"],!1))return null;e!==g.XN.MORE&&e!==g.XN.UPDATE||(yield t(T(e)));var a=i()(r(),["followFeedState","feedMap","feed"],[]);if(0===a.length)return null;try{return t({type:E.jY,payload:{requestType:e}}),yield Promise.all(a.map(function(){var e=(0,n.Z)((function*(e){var n=e.amebaId;n&&(yield t((0,y.Rs)(n)));var a=i()(r(),["bloggerState","bloggerMap",n,"blog"],""),o=e.entryId;a&&o&&(yield t((0,m.x0)(a,o)))}));return ())),t({type:E.ai,payload:{dispFeedIds:a.map(()}})}catch(o){return t({type:E.NJ})}}));return function(e,r){return t.apply(this,arguments)}}())),k=e=>({type:E.k8,payload:{timelineFeed:e}}),P=((0,a.H)({ttl:200},(e=>function(){var t=(0,n.Z)((function*(t,r){var n=i()(r(),["followFeedState","feedMap","feed"],[]);if(0===n.length)return t(k([]));var a=n.slice(0,10);try{for(var o=[],u=i()(r(),["historyState","historyArticleMap","historyArticle"],[]),l=0;l<a.length&&3!==o.length;l+=1){var c=a[l]||{};if((0,I.UO)(c.entryId,e,c.publishFlg,u)){yield t((0,y.Rs)(c.amebaId));var s=i()(r(),["bloggerState","bloggerMap",c.amebaId,"blog"],"");s&&(yield t((0,m.x0)(s,c.entryId)));var f=i()(r(),["entryState","entryMap",c.entryId,"entry_id"],"");s&&f&&o.push(c)}}return t(k(o))}catch(d){return t((e=>({type:E.BP,payload:{error:e},error:!0}))(d))}}));return function(e,r){return t.apply(this,arguments)}}())),()=>e=>Promise.all([e({type:E.Yg}),e((0,b.Y)(h.Z.CHECKLIST_REGISTERED_UPPER_LIMIT,!1))]))},48298:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(5892),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:n.b,payload:{moduleName:e,status:t,params:r}}}},90926:(e,t,r)=>{"use strict";r.d(t,{h$:()=>w,wn:()=>_,kS:()=>E});var n=r(66062),a=r(18274),o=r(92189),i=r.n(o),u=r(4705),l=r.n(u),c=r(55752),s=r.n(c),f=r(89702);function d(){return(d=(0,n.Z)((function*(){return(yield(0,f.Z)("generateToken",{})).data}))).apply(this,arguments)}unction y(){return(y=(0,n.Z)((function*(e){return(yield(0,f.Z)("checkAmebloToken",{token:e})).data}))).apply(this,arguments)}var m=r(73614),v=r(87615),b=r(70317),g=r(51075),h=I=_=(0,a.H)((()=>function(){var e=(0,n.Z)((function*(e,t){var{userState:r,amebloTokenState:n}=t();if(r.userAttribute)return null;try{if(n.amebloToken){var a=yield i()({times:3},l()(());if(a&&1===a.member)return e(I(a))}var o=yield );if(!o)throw new Error("generate token error.");var u=o.ameblo_token,c=[];if(u){var s=yield i()({times:3},l()(());s&&1===s.member?c.push(e(I(s))):c.push(e(h()))}else c.push(e(h()));return c.push(e(((u,o.ameblo_one_time_token))),Promise.all(c)}catch(f){return e((e=>({type:g.VF,payload:{error:e},error:!0}))(f))}}));return function(t,r){return e.apply(this,arguments)}}()));var w=(0,a.H)((()=>function(){var e=(0,n.Z)((function*(e,t){var r=s()(t(),["userState","sessionUser","amebaId"],"");if(void 0===s()(t(),["userState","userAttribute","member"])&&(yield e(_())),!(!r&&(0,b.jl)(t())))return null;try{var n=s()(t(),["amebloTokenState","amebloToken"],""),a=yield n);if(!a)return null;if(a.error)throw new Error(a.error);var o=(a.session_user||{}).ameba_id||"";if(!o)return null;yield e((0,m.Rs)(o));var i=s()(t(),["bloggerState","bloggerMap",o],{});return e({amebaId:o,profile_image:i.profile.image_filepath,nickname:i.profile.nickname,is_official:!!i.official}))}catch(u){return e(function(e){return{type:g.gt,payload:{error:e},error:!0}}(u))}}));return ())),E=(0,a.H)((()=>(e,t)=>{if((0,b.jl)(t())){e({type:g.dk}),e({type:g.W});try{var r="amebloTokenState",n=JSON.parse(window.localStorage[v.Uf]||"{}");if(!n[r])return;delete n[r],window.localStorage.setItem(v.Uf,JSON.stringify(n))}catch(a){console.warn(a)}}}))},93110:(e,t,r)=>{"use strict";r.d(t,{UO:()=>u,un:()=>i,yp:()=>o});var n=r(16176),a=r(90529);function o(e,t){return e!==n.Hj.UN_REGISTERED||t?e===n.Hj.REGISTERED?n.Eu.REGISTERED:!(e!==n.Hj.UN_REGISTERED||!t)&&n.Eu.OVER:n.Eu.UN_REGISTERED}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],{pathname:o}=window.location,i=n.length>0?"/".concat(n.length):"",u="".concat((0,a.F)(e,t)).concat(i),l=[r,...n].filter(().filter(();return(0,a.L)(o,u,{follow_ids:l.join(",")})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return!!e&&("amember"!==r&&(e!==Number(t)&&-1===n.findIndex(()))}},90529:(e,t,r)=>{"use strict";r.d(t,{L:()=>p,F:()=>d});var n=r(41185),a=r(18051),o=r.n(a),i=r(54342),u=r.n(i),l=r(70709),c=349442137;ction p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=f({frm_id:t},r),a=(0,l.ui)("".concat(window.process.env.HTTP_PATH_AMEBLO).concat(e),n),i="dynamiclink",s="".concat(i,"/").concat(t),d={link:a,apn:"jp.ameba",ibi:"jp.co.cyberagent.Ameba",isi:c,efr:1,utm_source:"ameblo",utm_medium:"ameblo.jp",utm_content:s},p=u()(d,o()),y=(0,l.ui)("".concat(window.process.env.HTTP_PATH_BLOG_DYNAMIC_LINKS),p);return y}},71980:(e,t,r)=>{"use strict";.d(t,{Z:)},4705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,o.isAsync)(e))return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.pop(),o=e.apply(this,r);return u(o,a)};return(0,n.default)(()};var n=i(r(30060)),a=i(r(54942)),o=r(77190);xports=t.default},30060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.pop();return e.call(this,r,a)}},e.exports=t.default},55380:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol("promiseCallback");t.promiseCallback=function(){var e,t;function n(r){if(r)return t(r);for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];e(a.length>1?a:a[0])}return n[r]=new Promise((),n},t.PROMISE_SYMBOL=r},54942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=o,t.wrap=i;var r,n=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;unction i(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return e(()}}r=n?setImmediate:a?process.nextTick:o,t.default=i(r)},77190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(4705));.default=t.isAsync=a,t.isAsyncGenerator=t.isAsyncIterable=,92189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var u={times:5,intervalFunc:o(0)};arguments.length<3&&"function"==typeof e?(r=t||(0,a.promiseCallback)(),t=e):(i(u,e),r=r||(0,a.promiseCallback)());if("function"!=typeof t)throw new Error("Invalid arguments for async.retry");var l=(0,n.default)(t),c=1;function s(){l((function(e){if(!1!==e)if(e&&c++<u.times&&("function"!=typeof u.errorFilter||u.errorFilter(e)))setTimeout(s,u.intervalFunc(c-1));else{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r(e,...n)}}))}return s(),r[a.PROMISE_SYMBOL]};var n=r(77190)),a=r(55380);unction i(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:o(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}e.exports=t.default},21546:7574:(e,t,r)=>{var n=r(78579),a=r(64090),o=r(21546),i=r(38212),u=r(44687),l=r(96198),c=r(82747);e.exports=,38212:1176:96198:75649:74890:]);