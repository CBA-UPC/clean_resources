"use strict";(self.webpackChunknative_script=self.webpackChunknative_script||[]).push([[309],{6314:3251:function(t,i,e){e.r(i),e.d(i,{Slider:);var n=e(5861),o=e(2982),a=e(5671),r=e(3144),s=e(7326),l=e(1752),d=e(9340),c=e(2963),p=e(1120),g=e(4942),f=e(7757),m=e.n(f),y=e(6630),h=e(1487),u=e(6314),x=e(942);r w=function(t){(0,d.Z)(b,t);var i,e,f,u=(e=b,f=),;function b(){var t;(0,a.Z)(this,b);for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return t=u.call.apply(u,[this].concat(e)),(0,g.Z)((0,s.Z)(t),"counter",0),(0,g.Z)((0,s.Z)(t),"sliderSettings",{slideDirection:"from_left",itemsInColumn:1,autoplayTimeout:3e3}),t}return(0,r.Z)(b,[{key:"getHtmlConfig",value:function(){var t,i=this,e=this.templateConfig;e.sliderSettings&&(this.sliderSettings=e.sliderSettings),this.slideItemCount=e.itemsInRow*this.sliderSettings.itemsInColumn,t="from_left"===this.sliderSettings.slideDirection?"yn-slide-right":"from_top"===this.sliderSettings.slideDirection?"yn-slide-down":"";var n=y.J.utils.isMobileOrTablet?e.articleHeadingMobile:e.articleHeading,a=this.templateConfig.target.offsetWidth/e.itemsInRow||450;e.orientation===b.HORIZONTAL&&(a/=2);var r=e.adItems.map((function(t){var i=Object.assign(Object.create(Object.getPrototypeOf(t)),t);return i.main=!0,i})),s=e.adItems.map((),l=[].concat((0,o.Z)(s),(0,o.Z)(r),(0,o.Z)(s)).map((function(t,e){var n=t.getImage()||"".concat(t.getImageBaseUrl(),"/450x300").concat(t.getImageExtension()||".jpg"),o=t.main?t.getUrl():t.getFakeUrl(),r="".concat(Math.floor(y.J.utils.isMobileOrTablet?a/2:a),"px"),l=x.b.createSrcset({imageExtension:t.getImageExtension(),imageBaseUrl:t.getImageBaseUrl()}),d=y.J.utils.smartTrim(t.getTitle(),70,"..."),c=t.getBrandingInfo(),p="";c&&(p=c.watermark);var g=t.getDiscount()>=5&&x.b.engToPerDigits(t.getDiscount()),f=t.main?t.getImpressionPayload():void 0,m=!!i.slideItemCount&&e-s.length<i.slideItemCount,h=e-s.length;return{main:t.main,sliderPos:h,isShowableSlidePos:m,index:e,imgUrl:n,url:o,sizes:r,srcset:l,title:d,brandingLogo:p,productDiscount:g,impressionPayload:f,clicks:t.getClicks()}})),d=r.length>this.slideItemCount&&"from_left"===this.sliderSettings.slideDirection;return v(v({},e),{},{ads:l,sliderClass:t,articleHeading:n,brandingLabel:"پیشنهاد توسط",insertSliderArrows:d})}},{key:"getHtmlTemplate",value:function(){return'<div id="{{ idPrefix }}" class="YN yn-borderbox {{ positionPrefix }}">\n  {{# hasHeader }}\n  <div class="yn-header">\n    {{# hasHeading }}\n    <div class="yn-heading-wrapper">\n      <p class="yn-heading">\n        {{ articleHeading }}\n      </p>\n    </div>\n    {{/ hasHeading }}\n    {{# hasLogo }}\n    {{# triboonExclusive }}\n    <div class="yn-branding yn-valign">\n      <a\n        class="yn-branding_link"\n        rel="nofollow"\n        href="https://triboon.net/?utm_source=PublisherBranding&utm_content={{\n          publisherName\n        }}&utm_medium=Native&utm_term=native_article"\n        target="_blank"\n      >\n        <div class="yn-triboon-logo-wrapper">\n          <img class="yn-triboon-img yn-lazy-img" alt="ریپورتاژ آگهی تریبون"\n          {{# lazyload }}\n          data-src="https://cdn.yektanet.com/images/triboon.svg"\n          {{/ lazyload }}\n          {{^ lazyload }}\n          src="https://cdn.yektanet.com/images/triboon.svg"\n          {{/ lazyload }}\n          >\n        </div>\n        {{# hasBrandingLabel }}\n        <span class="yn-branding-label yn-valign">\n          {{ brandingLabel }}\n        </span>\n        {{/ hasBrandingLabel }}\n      </a>\n    </div>\n    {{/ triboonExclusive }}\n    {{^ triboonExclusive }}\n    <div class="yn-branding yn-valign">\n      <a\n        class="yn-branding_link"\n        rel="nofollow"\n        target="_blank"\n        href="https://yektanet.com/{{# isRecomPosition }}recommender/{{/ isRecomPosition }}?utm_source=PublisherBranding&utm_content={{\n          publisherName\n        }}&utm_medium=Native&utm_term=native_article"\n      >\n        <div class="yn-branding_logo">\n          <div class="yn-logo_sign_wrapper yn-valign yn-backface">\n            <img class="yn-logo_sign yn-logo_image yn-backface yn-lazy-img"\n            width="25px"\n            height="25px"\n            alt="yektanet-logo-sign"\n            {{# lazyload }}\n            data-src="https://cdn.yektanet.com/assets/images/yektanet-logo.png"\n            {{/ lazyload }}\n            {{^ lazyload }}\n            src="https://cdn.yektanet.com/assets/images/yektanet-logo.png"\n            {{/ lazyload }}\n            >\n          </div>\n          <div class="yn-logo_type_wrapper yn-valign yn-backface">\n            <img class="yn-logo_type yn-logo_image yn-backface yn-lazy-img"\n            width="48px"\n            height="19px"\n            alt="yektanet-logo-type"\n            {{# lazyload }}\n            data-src="https://cdn.yektanet.com/assets/images/yektanet-logo-txt.png"\n            {{/ lazyload }}\n            {{^ lazyload }}\n            src="https://cdn.yektanet.com/assets/images/yektanet-logo-txt.png"\n            {{/ lazyload }}\n            >\n          </div>\n        </div>\n        {{# hasBrandingLabel }}\n        <span class="yn-branding-label yn-valign">\n          {{ brandingLabel }}\n        </span>\n        {{/ hasBrandingLabel }}\n      </a>\n    </div>\n    {{/ triboonExclusive }}\n    {{/ hasLogo }}\n  </div>\n  {{/ hasHeader }}\n\n  <div class="yn-content">\n    <div class="yn-content_wrapper yn-clearfix">\n        {{# ads }}\n        <div class="yn-grid yn-borderbox yn-slider {{ sliderClass }}"\n        {{# main }}\n        data-slider-pos="{{ sliderPos }}"\n        {{# isShowableSlidePos }}\n        style="display: block;"\n        {{/ isShowableSlidePos }}\n        {{/ main }}\n        {{^ main }}\n        style="width: 0; height: 0; display: block!important; overflow: hidden; opacity: 0;"\n        {{/ main }}\n        >\n            <a class="yn-item-link" rel="nofollow" target="_blank" data-pos="{{ index }}" data-pos-id="{{idPrefix}}" data-url="{{ url }}" href="{{ url }}"\n            {{# impressionPayload }}\n              data-impression="{{ impressionPayload.impression }}"\n              data-sign-impression="{{ impressionPayload.signedImpression }}"\n            {{/ impressionPayload }}\n            {{# clicks }}\n              data-clicks="{{ clicks }}"\n             {{/ clicks }}\n            >\n            <div class="yn-item {{ orientation }} yn-clearfix">\n                <div class="yn-item_image_wrapper">\n                    <img class="yn-item_image yn-lazy-img" alt="{{ title }}"\n                    {{# sizes }}\n                    sizes="{{ sizes }}"\n                    {{/ sizes }}\n                    {{# srcset }}\n                    {{# lazyload }}\n                    data-srcset="{{ srcset }}"\n                    {{/ lazyload }}\n                    {{^ lazyload }}\n                    srcset="{{ srcset }}"\n                    {{/ lazyload }}\n                    {{/ srcset }}\n                    {{# lazyload }}\n                    data-src="{{ imgUrl }}"\n                    {{/ lazyload }}\n                    {{^ lazyload }}\n                    src="{{ imgUrl }}"\n                    {{/ lazyload }}\n                    >\n                    {{# brandingLogo }}\n                    <img class="yn-advertiser_logo yn-lazy-img" alt="adv_logo"\n                    {{# lazyload }}\n                    data-src="{{ brandingLogo }}"\n                    {{/ lazyload }}\n                    {{^ lazyload }}\n                    src="{{ brandingLogo }}"\n                    {{/ lazyload }}\n                    >\n                    {{/ brandingLogo }}\n\n                    {{# productDiscount }}\n                    <span class="yn-product_discount">{{productDiscount}}٪</span>\n                    {{/ productDiscount }}\n\n                </div>\n                <div class="yn-item_title_wrapper yn-borderbox">\n                    <p class="yn-item_title">\n                        {{ title }}\n                    </p>\n                </div>\n            </div>\n            </a>\n        </div>\n        {{/ ads }}\n        {{# insertSliderArrows }}\n        <span class="yn-slider-btn-container yn-slider-next-btn">\n            <div class="yn-slider-btn">&#10095;</div>\n        </span>\n        <span class="yn-slider-btn-container yn-slider-prev-btn">\n            <div class="yn-slider-btn">&#10094;</div>\n        </span>\n        {{/ insertSliderArrows }}\n    </div>\n  </div>\n</div>\n'}},eight:auto;}{{/ hasImage }}'}},{key:"render",value:(i=(0,n.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.Z)((0,p.Z)(b.prototype),"render",this).call(this);case 2:this.handleSlideChange();case 3:case"end":rturn i.apply(this,arguments)})},{key:"handleSlideChange",value:function(){var t=this;if(this.slideItemCount&&this.templateConfig.adItems.length>this.slideItemCount&&(this.slideTimeout=setTimeout(this.changeSlide.bind(this),3e3),h.P.addTimeout(this.slideTimeout),"from_left"===this.sliderSettings.slideDirection)){var i=document.querySelector("#".concat(this.templateConfig.idPrefix," .yn-slider-next-btn")),e=document.querySelector("#".concat(this.templateConfig.idPrefix," .yn-slider-prev-btn"));x.b.aon(){return t.changeSlide(1)}),!1),x.b.an(){return t.changeSlide(-1)}),!1)}}},{key:"changeSlide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.slideItemCount){this.slideTimeout&&clearTimeout(this.slideTimeout);var i=this.getSlideItems(this.counter);this.counter=(this.counter+t*this.slideItemCount+this.templateConfig.adItems.length)%this.templateConfig.adItems.length;for(var e=this.getSlideItems(this.counter),n="from_left"===this.sliderSettings.slideDirection,o=function(t){e[t].classList.add("".concat(n?"yn-slide-right":"yn-slide-down")),i[t].classList.add("".concat(n?"yn-slide-right-decline":"yn-slide-down-decline")),i[t].classList.remove("".concat(n?"yn-slide-right":"yn-slide-down")),e[t].classList.remove("".concat(n?"yn-slide-right-decline":"yn-slid",e[t].style.display="block"}),250)},a=0;a<this.slideItemCount;a++)o(a);this.slideTimeout=setTimeout(this.changeSlide.bind(this),this.sliderSettings.autoplayTimeout),h.P.addTimeout(this.slideTimeout)}}},{key:"getSlideItems",value:function(t){if(!this.slideItemCount)return[];for(var i,e=[],n=0;n<this.slideItemCount;n++)e.push(document.querySelector((i=(t+n)%this.templateConfig.adItems.length,"#".concat(this.templateConfig.idPrefix," .yn-slider[data-slider-pos='").concat(i,"']"))));return e}},{key:"getStyleConfig",value:function(){return{positionPrefix:this.templateConfig.positionPrefix,hasImage:this.templateConfig.hasImage,textLineHeight:1.5,titleHeight:this.templateConfig.isRecomPosition?6:4.5}}}]),b}(u.s)}}]);