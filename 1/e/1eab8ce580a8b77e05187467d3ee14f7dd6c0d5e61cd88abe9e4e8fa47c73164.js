(function(){var e,t={site:290428,log:"",logSSL:"",domain:"20minutes.fr",collectDomain:"a.20minutes.fr",collectDomainSSL:"a.20minutes.fr",userIdOrigin:"server",pixelPath:"/h.x",disableCookie:!1,disableStorage:!1,cookieSecure:!1,cookieDomain:"",preview:!1,plgs:["Campaigns","Clicks","ClientSideUserId","ContextVariables","IdentifiedVisitor","OnSiteAds","Page","Offline","Privacy","Events","InternalSearch","AvInsights"],lazyLoadingPath:"",documentLevel:"document",redirect:!1,activateCallbacks:!0,medium:"",ignoreEmptyChapterValue:!1,base64Storage:!1,sendHitWhenOptOut:!0,forceHttp:!1,requestMethod:"GET",maxHitSize:2e3,urlPropertyAuto:!0,urlPropertyQueryString:!0,sameSiteStrict:!1};(e=window).ATInternet=e.ATInternet||{},e.ATInternet.Tracker=e.ATInternet.Tracker||{},e.ATInternet.Tracker.Plugins=e.ATInternet.Tracker.Plugins||{};ATInternet.Utils=new function(){ar t=this,n=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,r=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");t.isLocalStorageAvailable=function(){try{var e=localStorage;return e.setItem("__storage_test__","__storage_test__"),e.removeItem("__storage_test__"),!0}catch(e){return!1}},t.isBeaconMethodAvailable=t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,r,i,a,o,s,u="",l=0;for(e=t.Base64._utf8_encode(e);l<e.length;)a=(n=e.charCodeAt(l++))>>2,n=(3&n)<<4|(r=e.charCodeAt(l++))>>4,o=(15&r)<<2|(i=e.charCodeAt(l++))>>6,s=63&i,isNaN(r)?o=s=64:isNaN(i)&&(s=64),u=u+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return u},decode:function(e){var n,r,i,a,o,s="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)n=(n=this._keyStr.indexOf(e.charAt(u++)))<<2|(r=this._keyStr.indexOf(e.charAt(u++)))>>4,r=(15&r)<<4|(a=this._keyStr.indexOf(e.charAt(u++)))>>2,i=(3&a)<<6|(o=this._keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(n),64!=a&&(s+=String.fromCharCode(r)),64!=o&&(s+=String.fromCharCode(i));return t.Base64._utf8_decode(s)},_utf8_encode:_utf8_decode:function(e){for(var t,n,r,i="",a=0;a<e.length;)128>(t=e.charCodeAt(a))?(i+=String.fromCharCode(t),a++):191<t&&224>t?(n=e.charCodeAt(a+1),i+=String.fromCharCode((31&t)<<6|63&n),a+=2):(n=e.charCodeAt(a+1),r=e.charCodeAt(a+2),i+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r),a+=3);return i}},t.loadScript=function(e,t){var n;t=t||function(){},(n=document.createElement("script")).type="text/javascript",n.src=e.url,n.async=!1,n.defer=!1,n.onload=n.onreadystatechange=function(e){("load"===(e=e||window.event).type||/loaded|complete/.test(n.readyState)&&(!document.documentMode||9>document.documentMode))&&(n.onload=n.onreadystatechange=n.onerror=null,t(null,e))},n.onerror=function(e){n.onload=n.onreadystatechange=n.onerror=null,t({msg:"script not loaded",event:e})};var r=document.head||document.getElementsByTagName("head")[0];r.insertBefore(n,r.lastChild)},t.cloneSimpleObject=function(e,n){if("object"!=typeof e||null===e||e instanceof Date)return e;var r,i=new e.constructor;for(r in e)e.hasOwnProperty(r)&&(void 0===r||n&&void 0===e[r]||(i[r]=t.cloneSimpleObject(e[r])));return i},t.isEmptyObject=t.isObject=function(e){return null!==e&&"object"==typeof e&&!(e instanceof Array)},t.ATVALUE="_ATVALUE",t.ATPREFIX="_ATPREFIX",t.object2Flatten=function(e,n,r,i,a){var o,s={},u="",l="",c=[],f="",d=0;for(o in e)if(e.hasOwnProperty(o))if(u=(s=t.splitProtocolAndKey(o,a)).prefix||i||"",l=(n?n+"_":"")+s.key,t.isObject(e[o]))t.object2Flatten(e[o],l,r,u,a);else{for(c=l.split("_"),f="",d=0;d<c.length;d++)u=(s=t.splitProtocolAndKey(c[d],a)).prefix||u,f+=s.key+(d<c.length-1?"_":"");r[l=f||l]=r[l]||{},r[l][t.ATVALUE]=e[o],r[l][t.ATPREFIX]=u}},t.flatten2Object=function(e,n,r){var i,a;for(n=n.split("_"),a=0;a<n.length-1;a++)e[i=n[a]]||(e[i]={}),e=e[i];if(e.hasOwnProperty(t.ATVALUE)){i=e[t.ATVALUE];var o=e[t.ATPREFIX];delete e[t.ATVALUE],delete e[t.ATPREFIX],e.$={},e.$[t.ATVALUE]=i,e.$[t.ATPREFIX]=o}r=t.cloneSimpleObject(r),e[n[a]]?e[n[a]].$=r:e[n[a]]=r},t.getFormattedObject=function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(e[n].hasOwnProperty(t.ATVALUE)?r[e[n][t.ATPREFIX]?e[n][t.ATPREFIX]+":"+n:n]=e[n][t.ATVALUE]:r[n]=t.getFormattedObject(e[n]));return r},t.completeFstLevelObj=t.getObjectKeys=t.objectToLowercase=function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(t.isObject(e[n])?r[n.toLowerCase()]=t.objectToLowercase(e[n]):r[n.toLowerCase()]=e[n]);return r},t.splitProtocolAndKey=function(e,t){var n,r;return 2>e.length||":"!==e[1]?(n="",r=e):4>e.length||":"!==e[3]?(n=e.substring(0,1),r=e.substring(2,e.length)):(n=e.substring(0,3),r=e.substring(4,e.length)),t&&(n=n.toLowerCase(),r=r.toLowerCase()),{prefix:n,key:r}},t.jsonSerialize=function(e){try{return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(e):function e(t){var n=typeof t;if("object"!==n||null===t)return"string"===n&&(t='"'+t+'"'),String(t);var r,i,a=[],o=t.constructor===Array;for(r in t)t.hasOwnProperty(r)&&"function"!=(n=typeof(i=t[r]))&&"undefined"!==n&&("string"===n?i='"'+i.replace(/[^\\]"/g,'\\"')+'"':"object"===n&&null!==i&&(i=e(i)),a.push((o?"":'"'+r+'":')+String(i)));return(o?"[":"{")+String(a)+(o?"]":"}")}(e)}catch(e){return null}},t.jsonParse=function(t){try{return"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t+""):function(t){var r,i=null;return(t=e(t+""))&&!e(t.replace(n,)?Function("return "+t)():null}(t)}catch(e){return null}},t.trim=t.arrayIndexOf=function(e,t){if(Array.prototype.indexOf){var n=-1;return void 0!==e.indexOf(t)&&(n=e.indexOf(t)),n}return function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(1<arguments.length&&((r=Number(arguments[1]))!=r?r=0:0!=r&&1/0!=r&&-1/0!=r&&(r=(0<r||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(r=0<=r?r:Math.max(n-Math.abs(r),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1}.apply(e,[t])},t.uuid=function(){ar t=window.crypto||window.msCrypto,n=null!==t&&"object"==typeof t;return{v4:function(){try{if(n)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,}catch(e){}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,},num:function(t){var n=new Date,r=function(e){return 10>(e-=100*Math.floor(e/100))?"0"+e:String(e)};return r(n.getHours())+""+r(n.getMinutes())+r(n.getSeconds())+e(t-6)}}},t.isPreview=t.isPrerender=function(e){var n,r=!1,i=["webkit","ms"];if("prerender"===document.visibilityState)n="visibilitychange";else for(var a=0;a<i.length;a++)"prerender"===document[i[a]+"VisibilityState"]&&(n=i[a]+"visibilitychange");if(void 0!==n){var o=t.addEvtListener(document,n,o),r=!0}return r},t.addEvtListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},t.removeEvtListener=t.hashcode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=0|(t=(t<<5)-t+e.charCodeAt(n));return t},t.setLocation=function(e){var t=e.location;e=window[e.target]||window,t&&(e.location.href=t)},t.dispatchCallbackEvent=function(e){var t;if("function"==typeof window.Event)t=new Event("ATCallbackEvent");else try{(t=document.createEvent("Event")).initEvent&&t.initEvent("ATCallbackEvent",!0,!0)}catch(e){}t&&"function"==typeof document.dispatchEvent&&(t.name=e,document.dispatchEvent(t))},t.addCallbackEvent=t.removeCallbackEvent=function(e){t.removeEvent("ATCallbackEvent",e)},function(){function e(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(e){}return n}"function"==typeof window.CustomEvent?window.ATCustomEvent=window.CustomEvent:("function"==typeof window.Event&&(e.prototype=window.Event.prototype),window.ATCustomEvent=e)}(),t.addEvent=function(e,n,r,i){t[e]=new ATCustomEvent(e,{detail:{name:n,id:r}}),t.addEvtListener(document,e,i)},t.removeEvent=t.dispatchEvent=t.privacy=new function(){function e(e,n){var r,i,a=[];r={};for(var o=0;o<e.length;o++){for(var s in r={},t.object2Flatten(e[o],null,r,null,!0),r)r.hasOwnProperty(s)&&-1===t.arrayIndexOf(n,s)&&delete r[s];if(!t.isEmptyObject(r)){for(var u in i={},r)r.hasOwnProperty(u)&&t.flatten2Object(i,u,r[u]);r=t.getFormattedObject(i),a.push(r)}}return a}function n(e,t,r){1<e.length?(void 0===t[e[0]]&&(t[e[0]]={}),n(e.slice(1,e.length),t[e[0]],r)):t[e[0]]=r}function r(e,t,n,i,a){var o=i||{};if(!e||"object"!=typeof e||e instanceof Array){if(void 0!==e&&0<=n.indexOf(a)||void 0===n)o[a]=e;else for(t=0;t<n.length;t++)if(a&&0===a.indexOf(n[t])){o[a]=e;break}}else for(var s in e)e.hasOwnProperty(s)&&r(e[s],t,n,o,(a?a+t:"")+s);if(void 0===i)return o}function i(e,i,a){for(var o=[],s=0;s<e.length;s++){var u;u=r(e[s],a,i);var l=a,c={},f=void 0;for(f in u)u.hasOwnProperty(f)&&n(f.split(l),c,u[f]);u=c,t.isEmptyObject(u)||o.push(u)}return o}function a(e,t){var n="",r={key:"",flattenedProperty:""};switch(!0){case 0===e.indexOf("stc_"):n="stc_";break;case 0===e.indexOf("stc/"):n="stc/";break;case 0===e.indexOf("events_"):n="events_";break;case 0===e.indexOf("context_"):n="context_";break;default:r.key=e}if(n){var i=n.substring(0,n.length-1);r.key=i,0>t.indexOf(i)&&(r.flattenedProperty=e.substring(n.length))}return r}function o(e){for(var t=[],n={},r=0;r<e.length;r++)if("string"==typeof e[r]){var i={};if(-1<e[r].indexOf("#")){var o=e[r].split("#");o[0]===l&&(i=a(o[1],e))}else i=a(e[r],e);i.key&&0>t.indexOf(i.key)&&t.push(i.key),i.flattenedProperty&&(n[i.key]=(n[i.key]||[]).concat(i.flattenedProperty))}else for(var s in e[r])e[r].hasOwnProperty(s)&&(0>t.indexOf(s)&&t.push(s),0>e.indexOf(s)&&(n[s]=(n[s]||[]).concat(e[r][s])));return{keys:t,values:n}}var s=this,u={storageParams:null,bufferParams:null},l="";s.CONSENTNO="Consent-NO",s.ALL="*",s.testStorageParam=function(e,t){var n;if(u.storageParams instanceof Array){for(var r,i=u.storageParams.length-1;0<=i;i--)if("string"==typeof(r=u.storageParams[i])){if(r===e||r===s.ALL)return{toSetInStorage:!0}}else{e:{n=e;var a=t,o=void 0,l=void 0;for(l in r)if(r.hasOwnProperty(l)&&n===l){if(!a){n=!0;break e}o=[],r[l]instanceof Array?o=r[l]:o.push(r[l]);for(var c=0;c<o.length;c++)if(o[c]===a){n=!0;break e}}n=!1}if(n)return{toSetInStorage:!0}}return{toSetInStorage:!1}}return{toSetInStorage:!0}},s.processStorageParams=function(e,n,r){if(r){r=r();var i=o(u.storageParams);if(i.keys[0]!==s.ALL)for(var a in r)if(r.hasOwnProperty(a)&&void 0!==r[a])if(-1===t.arrayIndexOf(i.keys,a))e&&e(a);else if(t.isObject(r[a])){var l=a,c=r[a].val,f=i.values[a],d=e,g=n;if(void 0!==f){var p=[];for(f in f instanceof Array?p=f:p.push(f),f=void 0,c)c.hasOwnProperty(f)&&-1===t.arrayIndexOf(p,f)&&d&&d([l,f]);d&&g&&t.isEmptyObject(g(l))&&d(l)}}}},s.testBufferParam=function(n,r){var a,l;if(u.bufferParams instanceof Array){for(a=o(u.bufferParams),l=0;l<a.keys.length;l++)if(a.keys[l]===n||a.keys[l]===s.ALL){if(a.values.hasOwnProperty(a.keys[l])){var c={};c[a.keys[l]]=a.values[a.keys[l]];e:{if(a=n,l=r,t.isObject(c)){var f=void 0,d=[],g=!1,p=f=f=void 0;for(p in c)if(c.hasOwnProperty(p)&&a===p&&("string"==typeof(f=l)&&(f=t.jsonParse(f)||f),"object"==typeof f)){f instanceof Array?(d=f,g=!0):d.push(f),0===(f="stc"===a?i(d,c[p],"/"):"events"===a||"context"===a?i(d,c[p],"_"):e(d,c[p])).length?(a=!1,l=void 0):(f=g?f:f[0],a=!0,l=t.jsonSerialize(f));break e}}a=!1,l=void 0}if(a)return{toSetInBuffer:!0,value:l};break}return{toSetInBuffer:!0,value:r}}return{toSetInBuffer:!1}}return{toSetInBuffer:!0,value:r}},s.processBufferParams=function(n,r,a){if(r){r=r();var l=o(u.bufferParams);if(l.keys[0]!==s.ALL)for(var c in r)if(r.hasOwnProperty(c))if(-1===t.arrayIndexOf(l.keys,c))n&&n(c);else{var f=c,d=r[c],g=l.values[c],p=n,m=a;if(void 0!==g&&void 0!==d){var v=[],h=d._value,y=[],T=!1,b=void 0;b=void 0,g instanceof Array?v=g:v.push(g),"string"==typeof h&&(h=t.jsonParse(h)||h),"object"==typeof h&&(h instanceof Array?(y=h,T=!0):y.push(h),0===(b="stc"===f?i(y,v,"/"):"events"===f||"context"===f?i(y,v,"_"):e(y,v)).length?p&&p(f):(b=T?b:b[0],m&&m(f,t.jsonSerialize(b),d._options)))}}}},s.setMode=function(e){l=e},s.setParameters=function(e){u=e},s.getParameters=function(){return u},s.resetParameters=,t.optedOut=null,t.addOptOutEvent=t.removeOptOutEvent=t.dispatchOptOutEvent=t.userOptedOut=function(){t.dispatchOptOutEvent(!0)},t.userOptedIn=t.isOptedOut=function(){if(null===t.optedOut){var e;if(e=null,t.isLocalStorageAvailable()&&(e=localStorage.getItem("atuserid")),null===e){var n=/(?:^| )atuserid=([^;]+)/.exec(document.cookie);null!==n&&(e=n[1])}if(null!==e)try{e=decodeURIComponent(e)}catch(e){}e=!(!e||null===(e=t.jsonParse(e)||t.jsonParse(t.Base64.decode(e))))&&"OPT-OUT"===e.val,t.optedOut=e}return!!t.optedOut},t.consentReceived=t.consent=!0,t.isTabOpeningAction=function(e){var t=!1;return e||(e=window.event),e&&(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)&&(t=!0),t},t.CLICKS_REDIRECTION="redirection",t.CLICKS_FORM="form",t.CLICKS_MAILTO="mailto"};var n=function(){ar t={};this.on=function(e,n,r){return r=r||!1,function e(t,n,r,i){var a=t.shift();return"*"===a?(n["*"]=n["*"]||[],n["*"].push({callback:r,singleUse:i}),n["*"].length-1):0===t.length?e([a,"*"],n,r,i):(n["*"]=n["*"]||[],n[a]=n[a]||{},e(t,n[a],r,i))}(e.split(":"),t,n,r)},this.emit=function(n,r){t["*"]&&(t["*"]=e(t["*"],n,r)),function t(n,r,i,a){var o=r.shift();"*"!==o&&(0===r.length?t(n,[o,"*"],i,a):i[o]&&(i[o]["*"]=e(i[o]["*"],n,a),t(n,r,i[o],a)))}(n,n.split(":"),t,r)}},r=function(e){var t={},n={},r=0,i={},a=0,o=s=this.unload=function(n){return o(n)?(t[n]=void 0,e.emit("Tracker:Plugin:Unload:"+n+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Unload:"+n+":Error",{lvl:"ERROR",msg:"not a known plugin"}),e},u=this.load=function(i,a){return"function"==typeof a?void 0===e.getConfig.plgAllowed||0===e.getConfig.plgAllowed.length||-1<e.getConfig.plgAllowed.indexOf(i)?(t[i]=new a(e),n[i]&&o(i)&&(n[i]=!1,r--,o(i+"_ll")&&s(i+"_ll"),0===r&&e.emit("Tracker:Plugin:Lazyload:File:Complete",{lvl:"INFO",msg:"LazyLoading triggers are finished"})),e.emit("Tracker:Plugin:Load:"+i+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Load:"+i+":Error",{lvl:"ERROR",msg:"Plugin not allowed",details:{}}):e.emit("Tracker:Plugin:Load:"+i+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:a}}),e},l=this.isLazyloading=c=f=function(t){n[t]=!0,r++,ATInternet.Utils.loadScript({url:e.getConfig("lazyLoadingPath")+t+".js"})},d=g=function(e,n,r,i){var a=null;n=n.split("."),o(e)&&t[e][n[0]]&&(a=1<n.length&&t[e][n[0]][n[1]]?t[e][n[0]][n[1]].apply(t[e],r):t[e][n[0]].apply(t[e],r)),i&&i(a)},p=function(t,n,r,o){!function(e){i[e]?i[e]++:i[e]=1,a++}(t),e.onTrigger("Tracker:Plugin:Load:"+t+":Ok",function(){g(t,n,r,function(n){i[t]--,0===--a&&e.emit("Tracker:Plugin:Lazyload:Exec:Complete",{lvl:"INFO",msg:"All exec waiting for lazyloading are done"}),o&&o(n)})},!0)};this.isExecWaitingLazyloading=e.exec=this.exec=this.waitForDependencies=this.init=,i=function(e){var t=this,n={};t.set=function(e,t,r){(t=ATInternet.Utils.privacy.testBufferParam(e,t)).toSetInBuffer&&((r=r||{}).hitType=r.hitType||["page"],n[e]={_value:t.value,_options:r})};var r=t.get=function(e,t){var i={};if("string"==typeof e)i=r(n,e,t);else for(var a=function e(t,r){if(!(t&&r instanceof Array&&t instanceof Array))return[];if(0===t.length)return r;var i,a=t[0],o=[],s=ATInternet.Utils.cloneSimpleObject(t);s.shift();for(var u=0;u<r.length;u++)if("object"!=typeof a[1])n[r[u]]&&n[r[u]]._options[a[0]]===a[1]&&o.push(r[u]);else{i=a[1].length;for(var l=0;l<i;l++)if(n[r[u]]&&n[r[u]]._options[a[0]]instanceof Array&&0<=ATInternet.Utils.arrayIndexOf(n[r[u]]._options[a[0]],a[1][l])){o.push(r[u]);break}}return e(s,o)}(e,ATInternet.Utils.getObjectKeys(n)),o=0;o<a.length;o++)i[a[o]]=r(n,a[o],t);return i},t.presentInFilters=function(e,n){return!(!e||0===e.length)&&(e[0][0]===n||t.presentInFilters(e.slice(1),n))},t.addInFilters=function(e,n,r,i){if(!e||0===e.length)return i?[]:[[n,r]];var a=e[0][0],o=e[0][1];return a===n&&(o instanceof Array&&-1===ATInternet.Utils.arrayIndexOf(o,r[0])&&o.push(r[0]),i=!0),[[a,o]].concat(t.addInFilters(e.slice(1),n,r,i))},t.del=t.clear=function(){n={}}};ATInternet.Tracker.Tag=function(e,a,o){a=a||{};var s=this;s.version="5.29.3";var u=ATInternet.Utils.cloneSimpleObject(a);s.triggers=new n(s),s.emit=s.triggers.emit,s.onTrigger=s.triggers.on;var l,c=ATInternet.Utils.cloneSimpleObject(t)||{};for(l in e)e.hasOwnProperty(l)&&(c[l]=e[l]);if(s.getConfig=function(e){return c[e]},s.setConfig=s.configPlugin=function(e,t,n){for(var r in c[e]=c[e]||{},t)t.hasOwnProperty(r)&&void 0===c[e][r]&&(c[e][r]=t[r]);return n&&(n(c[e]),s.onTrigger("Tracker:Config:Set:"+e,),c[e]},s.getAllContext=function(){return u},s.getContext=s.setContext=function(e,t){s.emit("Tracker:Context:Set:"+e,{lvl:"INFO",details:{bef:u[e],aft:t}}),u[e]=t},s.delContext=function(e,t){if(s.emit("Tracker:Context:Deleted:"+e+":"+t,{lvl:"INFO",details:{key1:e,key2:t}}),e)u.hasOwnProperty(e)&&(t?u[e]&&u[e].hasOwnProperty(t)&&(u[e][t]=void 0):u[e]=void 0);else if(t)for(var n in u)u.hasOwnProperty(n)&&u[n]&&u[n].hasOwnProperty(t)&&(u[n][t]=void 0)},s.plugins=new r(s),s.buffer=new i(s),s.setParam=s.buffer.set,s.getParams=s.getParam=s.buffer.get,s.delParam=s.buffer.del,s.builder=new function(e){var t,n=this,r=0,i=0,a=["dz"],o=function(e,t,n,r,i,a,o){return{param:e="&"+e+"=",paramSize:e.length,str:t,strSize:t.length,truncate:n,multihit:r,separator:i||"",encode:a,last:o}},s=function(e,t){var n,r="",i=0,a=0,o=0,s=(i=-1,null),u=null;for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&(i=t-a,s.last&&null!==u?u[n]=s:s.strSize+s.paramSize<=i?(r+=s.param+s.str,a+=s.paramSize+s.strSize):((u=u||{})[n]=s,s.truncate&&(o=i-s.paramSize,s.separator&&(i=s.str.substring(0,i),0<(i=s.encode?i.lastIndexOf(encodeURIComponent(s.separator)):i.lastIndexOf(s.separator))&&(o=i)),r+=s.param+s.str.substring(0,o),a+=s.paramSize+s.str.substring(0,o).length,u[n].str=s.str.substring(o,s.strSize),u[n].strSize=u[n].str.length)));return[r,u]},u=function(t,n,r){var u,l,c="",f=function(t){if(t==={})return[];var n,r=[];n={};var u,l,f,d,g,p,m,v,h,y=!1,T=void 0,b="";for(h in t)if(t.hasOwnProperty(h))if(p=g=d=f=!1,u=t[h]._value,"boolean"==typeof(l=t[h]._options||{}).encode&&(f=l.encode),"function"==typeof u&&(u=u()),u=u instanceof Array?u.join(l.separator||","):"object"==typeof u?ATInternet.Utils.jsonSerialize(u):void 0===u?"undefined":u.toString(),f&&(u=encodeURIComponent(u)),-1<ATInternet.Utils.arrayIndexOf(a,h)?d=!0:"boolean"==typeof l.truncate&&(d=l.truncate),"boolean"==typeof l.multihit&&(g=l.multihit),"boolean"==typeof l.last&&(p=l.last),u=o(h,u,d,g,l.separator,f,p),g)i-=u.paramSize+u.strSize,b+=u.param+u.str;else if(p)u.paramSize+u.strSize>i&&(u.str=u.str.substring(0,i-u.paramSize),u.strSize=u.str.length),m=h,v=u;else if(n[h]=u,n[h].paramSize+n[h].strSize>i&&!n[h].truncate){e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:'Too long parameter: "'+n[h].param+'"',details:{value:n[h].str}}),y=!0,T=h;break}if(m&&(n[m]=v),t=(n=[n,y,T,b])[0],y=n[1],c=n[3],y&&((t=t[n=n[2]]).str=t.str.substring(0,i-t.paramSize),t.strSize=t.str.length,(y={}).mherr=o("mherr","1",!1,!1,"",!1,!1),y[n]=t,t=y),null===(t=s(t,i))[1])r=t[0];else for(r.push(t[0]);null!==t[1];)t=s(t[1],i),r.push(t[0]);return r},d="";if(e.buffer.presentInFilters(n,"hitType")||(n=e.buffer.addInFilters(n,"hitType",["page"])),n=e.buffer.addInFilters(n,"hitType",["all"]),ATInternet.Utils.isObject(t)){for(u in n=e.buffer.addInFilters(n,"permanent",!0),n=e.buffer.get(n,!0),t)t.hasOwnProperty(u)&&(d={},t[u]&&"object"==typeof t[u]&&t[u].hasOwnProperty("_value")?(l=t[u]._value,t[u].hasOwnProperty("_options")&&(d=t[u]._options)):l=t[u],(l=ATInternet.Utils.privacy.testBufferParam(u,l)).toSetInBuffer&&(n[u]={_value:l.value,_options:d}));d=f(n)}else for(u in d=f(n=e.buffer.get(n,!0)),n)n.hasOwnProperty(u)&&(n[u]._options&&n[u]._options.permanent||e.buffer.del(u));r&&r(d,c)};n.getCollectDomain=function(){var t="",n=(t=e.getConfig("logSSL")||e.getConfig("log"),e.getConfig("domain"));return t&&n?t+"."+n:e.getConfig("collectDomainSSL")||e.getConfig("collectDomain")};var l=function(t){var r="";if(a=e.getConfig("baseURL"))r=a;else{var i,a=n.getCollectDomain();"/"!==(i=(i=e.getConfig("pixelPath"))||"/").charAt(0)&&(i="/"+i),a&&(r=(e.getConfig("forceHttp")?"http://":"https://")+a+i)}a=e.getConfig("site"),r&&a?t&&t(null,r+"?s="+a):t&&t({message:"Config error"})},c=f=function(t,n,r,i,a,o,s){return function(u){e.emit(t,{lvl:a,details:{hit:n,method:r,event:u,isMultiHit:o,elementType:s}}),i&&i()}};n.send=r=Math.max(e.getConfig("maxHitSize")||0,2e3),i=Math.max(e.getConfig("maxHitSize")||0,2e3),t=e.getConfig("requestMethod"),n.sendUrl=function(n,r,i,a){var o=-1<n.indexOf("&mh=");i=i||t,ATInternet.Utils.isOptedOut()&&!e.getConfig("sendHitWhenOptOut")?f("Tracker:Hit:Sent:NoTrack",n,i,r,"INFO",o,a)():"POST"===i&&ATInternet.Utils.isBeaconMethodAvailable()?(a="Tracker:Hit:Sent:Error",i="ERROR",window.navigator.sendBeacon(n,null)&&(a="Tracker:Hit:Sent:Ok",i="INFO"),f(a,n,"POST",r,i,o,"")()):((i=new Image).onload=f("Tracker:Hit:Sent:Ok",n,"GET",r,"INFO",o,a),i.onerror=f("Tracker:Hit:Sent:Error",n,"GET",r,"ERROR",o,a),i.src=n)}}(s),s.sendUrl=s.builder.sendUrl,s.callbacks=new function(e){var t=this,n={},r=function(n){if(n.name){var r=!0,i=e.getConfig("callbacks");void 0!==i&&(i.include instanceof Array&&-1===ATInternet.Utils.arrayIndexOf(i.include,n.name)&&(r=!1),i.exclude instanceof Array&&-1!==ATInternet.Utils.arrayIndexOf(i.exclude,n.name)&&(r=!1)),ATInternet.Callbacks&&ATInternet.Callbacks.hasOwnProperty(n.name)&&((i={})[n.name]={function:ATInternet.Callbacks[n.name]},r&&t.load(n.name,i[n.name].function),ATInternet.Tracker.callbackProtos[n.name]||(ATInternet.Tracker.callbackProtos[n.name]=i[n.name]))}};t.load=function(t,n){return"function"==typeof n?(new n(e),e.emit("Tracker:Callback:Load:"+t+":Ok",{lvl:"INFO",details:{obj:n}})):e.emit("Tracker:Callback:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:n}}),e},t.init=function(){if(e.getConfig("activateCallbacks")){var i=e.getConfig("callbacks");if(void 0!==i&&i.include instanceof Array)for(var a=0;a<i.include.length;a++)ATInternet.Callbacks&&ATInternet.Callbacks.hasOwnProperty(i.include[a])&&(n[i.include[a]]={function:ATInternet.Callbacks[i.include[a]]},ATInternet.Tracker.callbackProtos[i.include[a]]||(ATInternet.Tracker.callbackProtos[i.include[a]]=n[i.include[a]]));else for(a in ATInternet.Callbacks)ATInternet.Callbacks.hasOwnProperty(a)&&(n[a]={function:ATInternet.Callbacks[a]},ATInternet.Tracker.callbackProtos[a]||(ATInternet.Tracker.callbackProtos[a]=n[a]));if(void 0!==i&&i.exclude instanceof Array)for(a=0;a<i.exclude.length;a++)delete n[i.exclude[a]];for(var o in n)n.hasOwnProperty(o)&&n[o]&&t.load(o,n[o].function);ATInternet.Utils.addCallbackEvent(r)}},t.removeCallbackEvent=(s),s.properties=new function(e){var t=this,n={};t.setProp=function(e,t,r){void 0!==e&&(n[e]={value:t,persistent:!!r})},t.setProps=t.delProp=function(t,r){void 0!==n[t]&&delete n[t],!r&&e.delParam(t.toLowerCase())},t.delProps=t.getProp=function(e){return(n=n||{})[e]},t.getProps=function(){return n}}(s),s.setProp=s.properties.setProp,s.setProps=s.properties.setProps,s.delProp=s.properties.delProp,s.delProps=s.properties.delProps,s.getProp=s.properties.getProp,s.getProps=s.properties.getProps,s.sendHit=function(e,t,n,r,i){var a,o,u=s.getProps();for(o in u)u.hasOwnProperty(o)&&(a=u[o].value,u[o].persistent?s.setParam(o.toLowerCase(),a,{permanent:!0,hitType:["all"],encode:!0}):(ATInternet.Utils.isObject(e)?e[o.toLowerCase()]={_value:a,_options:{hitType:["all"],encode:!0}}:s.setParam(o.toLowerCase(),a,{hitType:["all"],encode:!0}),s.delProp(o,!0)));s.builder.send(e,t,n,r,i)},ATInternet.Utils.privacy.resetParameters(),s.setParam("ts",{permanent:!0,hitType:["all"]}),(s.getConfig("disableCookie")||s.getConfig("disableStorage"))&&s.setParam("idclient",ATInternet.Utils.privacy.CONSENTNO,{permanent:!0,hitType:["all"]}),s.getConfig("medium")&&s.setParam("medium",s.getConfig("medium"),{permanent:!0,hitType:["all"]}),s.getConfig("urlPropertyAuto")&&"undefined"!=typeof window&&void 0!==window.location){l=(s.getConfig("urlPropertyQueryString")?window.location.href:window.location.protocol+"//"+window.location.host+window.location.pathname).replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$").replace(/#/g,"Âµ");var f=s.getContext("page")||{};f.url=window.encodeURIComponent(l),s.setContext("page",f),s.setParam("page_url",l,{permanent:!0,hitType:"page click publisher selfPromotion onSiteAdsClick onSiteAdsImpression InternalSearch mvtesting richmedia".split(" ")})}s.plugins.init(),s.callbacks.init(),s.emit("Tracker:Ready",{lvl:"INFO",msg:"Tracker initialized",details:{tracker:s,args:{config:e,context:a,callback:o}}}),o&&o(s),ATInternet.Tracker.instances.push(s)},ATInternet.Tracker.instances=[],ATInternet.Tracker.pluginProtos={},ATInternet.Tracker.addPlugin=function(e,t){if(t=t||ATInternet.Tracker.Plugins[e],!ATInternet.Tracker.pluginProtos[e]){ATInternet.Tracker.pluginProtos[e]=t;for(var n=0;n<ATInternet.Tracker.instances.length;n++)ATInternet.Tracker.instances[n].plugins.load(e,t)}},ATInternet.Tracker.delPlugin,ATInternet.Tracker.callbackProtos={}}).call(window),function(){var e={lifetime:30,lastPersistence:!0,domainAttribution:!0,enableUTMTracking:!0,UTMParameters:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],querystringPrefix:"at_"},t=30,n=30;ATInternet.Tracker.Plugins.Campaigns=function(r){r.setConfig("visitLifetime",t,!0),r.setConfig("redirectionLifetime",n,!0);var i,a,o={};r.configPlugin("Campaigns",e||{},function(e){o=e});var s,u,l,c,f,d,g,p,m,v,h,y,T,b,P,I=function(){var e=function(e){var t="";return e&&(t=isNaN(e)&&-1===e.search(/^\[(.*?)\]$/g)&&-1===e.search(/^\d+\[(.*?)\]$/g)?"["+e+"]":e),t},t=function(e){var t=e;return-1!==e.search(/[-]/g)&&-1===e.search(/^\[(.*?)\]$/g)&&(t="["+e+"]"),t},n;this.SponsoredLinks=function(){var i={google:"goo",yahoo:"ysm",miva:"miv",orange:"wan",msn:"msn",mirago:"mir",sklik:"skl",adfox:"adf",etarget:"etg",yandex:"yan",ebay:"eba",searchalliance:"sal",bing:"bin",naver:"nav",baidu:"bdu",qwant:"qwt",waze:"waz",amazon:"amz"},a={search:"s",content:"c"};this.atMedium="sl",this.atTerm=this.atNetwork=this.atVariant=this.atCreation=this.atPlatform=this.atCampaign="",this.format=function(){var r=e(this.atCampaign),o=i[this.atPlatform]||t(this.atPlatform),s=e(this.atCreation),u=e(this.atVariant),l=a[this.atNetwork]||t(this.atNetwork),c=e(this.atTerm);return n("sec-"+r+"-"+o+"-"+s+"-"+u+"-"+l+"-"+c)},this.setProperties=function(e){var t=r.utils.getQueryStringValue(o.querystringPrefix+"source",e)||"";this.atCampaign=r.utils.getQueryStringValue(o.querystringPrefix+"campaign",e)||"",this.atPlatform=r.utils.getQueryStringValue(o.querystringPrefix+"platform",e)||"",this.atCreation=r.utils.getQueryStringValue(o.querystringPrefix+"creation",e)||"",this.atVariant=r.utils.getQueryStringValue(o.querystringPrefix+"variant",e)||"",this.atNetwork=r.utils.getQueryStringValue(o.querystringPrefix+"network",e)||"",this.atTerm=r.utils.getQueryStringValue(o.querystringPrefix+"term",e)||"",r.setContext("campaigns_events",{$:t,medium:this.atMedium,campaign:this.atCampaign,platform:this.atPlatform,creation:this.atCreation,variant:this.atVariant,network:this.atNetwork,term:this.atTerm})}},this.Email=function(){var i={acquisition:"erec",retention:"epr",promotion:"es"};this.atMedium="email",this.atSendTime=this.atRecipientList=this.atRecipientId=this.atLink=this.atSendDate=this.atCreation=this.atCampaign=this.atEmailtype="",this.format=function(){var r=i[this.atEmailtype]||i.promotion,a=e(this.atCampaign),o=e(this.atCreation),s=t(this.atSendDate),u=e(this.atLink),l=t(this.atRecipientId)+(this.atRecipientList?"@"+t(this.atRecipientList):""),c=t(this.atSendTime);return n(r+"-"+a+"-"+o+"-"+s+"-"+u+"-"+l+"-"+c)},this.setProperties=function(e){var t=r.utils.getQueryStringValue(o.querystringPrefix+"source",e)||"";this.atEmailtype=r.utils.getQueryStringValue(o.querystringPrefix+"emailtype",e)||"",this.atCampaign=r.utils.getQueryStringValue(o.querystringPrefix+"campaign",e)||"",this.atCreation=r.utils.getQueryStringValue(o.querystringPrefix+"creation",e)||"",this.atSendDate=r.utils.getQueryStringValue(o.querystringPrefix+"send_date",e)||"",this.atLink=r.utils.getQueryStringValue(o.querystringPrefix+"link",e)||"",this.atRecipientId=r.utils.getQueryStringValue(o.querystringPrefix+"recipient_id",e)||"",this.atRecipientList=r.utils.getQueryStringValue(o.querystringPrefix+"recipient_list",e)||"",this.atSendTime=r.utils.getQueryStringValue(o.querystringPrefix+"send_time",e)||"",r.setContext("campaigns_events",{$:t,medium:this.atMedium,emailtype:this.atEmailtype,campaign:this.atCampaign,creation:this.atCreation,send_date:this.atSendDate,link:this.atLink,recipient_id:this.atRecipientId,recipient_list:this.atRecipientList,send_time:this.atSendTime})}},this.Affiliate=function(){this.atMedium="affiliate",this.atVariant=this.atCreation=this.atFormat=this.atIdentifier=this.atType=this.atCampaign="",this.format=function(){var t=e(this.atCampaign),r=e(this.atType),i=e(this.atIdentifier),a=e(this.atFormat),o=e(this.atCreation),s=e(this.atVariant);return n("al-"+t+"-"+r+"-"+i+"-"+a+"-"+o+"-"+s)},this.setProperties=function(e){var t=r.utils.getQueryStringValue(o.querystringPrefix+"source",e)||"";this.atCampaign=r.utils.getQueryStringValue(o.querystringPrefix+"campaign",e)||"",this.atType=r.utils.getQueryStringValue(o.querystringPrefix+"type",e)||"",this.atIdentifier=r.utils.getQueryStringValue(o.querystringPrefix+"identifier",e)||"",this.atFormat=r.utils.getQueryStringValue(o.querystringPrefix+"format",e)||"",this.atCreation=r.utils.getQueryStringValue(o.querystringPrefix+"creation",e)||"",this.atVariant=r.utils.getQueryStringValue(o.querystringPrefix+"variant",e)||"",r.setContext("campaigns_events",{$:t,medium:this.atMedium,campaign:this.atCampaign,type:this.atType,identifier:this.atIdentifier,format:this.atFormat,creation:this.atCreation,variant:this.atVariant})}},this.Display=function(){this.atMedium="display",this.atDetailPlacement=this.atGeneralPlacement=this.atChannel=this.atFormat=this.atVariant=this.atCreation=this.atCampaign="",this.format=function(){var t=e(this.atCampaign),r=e(this.atCreation),i=e(this.atVariant),a=e(this.atFormat),o=e(this.atChannel),s=e(this.atGeneralPlacement),u=e(this.atDetailPlacement);return n("ad-"+t+"-"+r+"-"+i+"-"+a+"-"+o+"-"+s+"-"+u)},this.setProperties=function(e){var t=r.utils.getQueryStringValue(o.querystringPrefix+"source",e)||"";this.atCampaign=r.utils.getQueryStringValue(o.querystringPrefix+"campaign",e)||"",this.atCreation=r.utils.getQueryStringValue(o.querystringPrefix+"creation",e)||"",this.atVariant=r.utils.getQueryStringValue(o.querystringPrefix+"variant",e)||"",this.atFormat=r.utils.getQueryStringValue(o.querystringPrefix+"format",e)||"",this.atChannel=r.utils.getQueryStringValue(o.querystringPrefix+"channel",e)||"",this.atGeneralPlacement=r.utils.getQueryStringValue(o.querystringPrefix+"general_placement",e)||"",this.atDetailPlacement=r.utils.getQueryStringValue(o.querystringPrefix+"detail_placement",e)||"",r.setContext("campaigns_events",{$:t,medium:this.atMedium,campaign:this.atCampaign,creation:this.atCreation,variant:this.atVariant,format:this.atFormat,channel:this.atChannel,general_placement:this.atGeneralPlacement,detail_placement:this.atDetailPlacement})}},this.Custom=function(){this.atCustom4=this.atCustom3=this.atCustom2=this.atCustom1=this.atCampaign=this.atMedium="",this.format=function(){var t="";/\d+$/.test(this.atMedium)&&(t=/\d+$/.exec(this.atMedium)[0]);t="cs"+t;var r=e(this.atCampaign),i=e(this.atCustom1),a=e(this.atCustom2),o=e(this.atCustom3),s=e(this.atCustom4);return n(t+"-"+r+"-"+i+"-"+a+"-"+o+"-"+s)},this.setProperties=function(e){var t=r.utils.getQueryStringValue(o.querystringPrefix+"source",e)||"";this.atMedium=r.utils.getQueryStringValue(o.querystringPrefix+"medium",e)||"",this.atCampaign=r.utils.getQueryStringValue(o.querystringPrefix+"campaign",e)||"",this.atCustom1=r.utils.getQueryStringValue(o.querystringPrefix+"custom1",e)||"",this.atCustom2=r.utils.getQueryStringValue(o.querystringPrefix+"custom2",e)||"",this.atCustom3=r.utils.getQueryStringValue(o.querystringPrefix+"custom3",e)||"",this.atCustom4=r.utils.getQueryStringValue(o.querystringPrefix+"custom4",e)||"",r.setContext("campaigns_events",{$:t,medium:this.atMedium,campaign:this.atCampaign,custom1:this.atCustom1,custom2:this.atCustom2,custom3:this.atCustom3,custom4:this.atCustom4})}},this.CustomNdf=function(){this.format=function(){},this.setProperties=function(e){r.setProps(function(e,t){for(var n={},r=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),i=r.exec(t);null!==i;)i[1]!==e+"source"&&0===i[1].indexOf(e)?n["src_"+i[1].substring(e.length)]=i[2]:i[1]===e+"source"&&(n.src=i[2]),i=r.exec(t);return n}(o.querystringPrefix,e),!0)}},this.medium={sl:this.SponsoredLinks,email:this.Email,affiliate:this.Affiliate,display:this.Display}},C=function(e,t){var n=r.getContext("campaigns")||{};n[e]=t,r.setContext("campaigns",n)},A=function(e,t){var n=r.storage[a](e);return null!==n?"object"==typeof n&&!(n instanceof Array):(r.storage[i](e,{},t),!0)};r.plugins.waitForDependencies(["Storage","Utils"],function(){i="set"+(o.domainAttribution?"":"Private"),a="get"+(o.domainAttribution?"":"Private"),s=r.storage[a](["atredir","gopc"]),u=r.storage[a](["atredir","gopc_err"]),l=r.storage[a](["atredir","camp"]),r.storage.del(["atredir","gopc"]),r.storage.del(["atredir","gopc_err"]),r.storage.del(["atredir","camp"]),c=r.storage[a](["atsession","histo_camp"]),f=r.storage[a](["atreman","camp"]),d=r.storage[a](["atreman","date"]),v=r.getContext("forcedCampaign");e:{var e=h=r.getContext("forcedCampaignV2");if(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="&"+o.querystringPrefix+t+"="+e[t]);if(e=r.utils.getQueryStringValue(o.querystringPrefix+"medium",n)){(e="function"==typeof(t=new I).medium[e]?new t.medium[e]:0===e.indexOf("custom")?new t.Custom:new t.CustomNdf).setProperties(n),y=e.format();break e}}y=void 0}var k;(function(){var e=r.utils.getLocation();!function(){if((t=r.utils.getQueryStringValue(o.querystringPrefix+"medium",e))&&!h){var t,n=new I;(t="function"==typeof n.medium[t]?new n.medium[t]:0===t.indexOf("custom")?new n.Custom:new n.CustomNdf).setProperties(e),g=t.format()}else g=r.utils.getQueryStringValue("xtor",e);p=r.utils.getQueryStringValue("xtdt",e),m=r.utils.getQueryStringValue("xts",e)}(),o.enableUTMTracking&&function(){for(var t,n=o.UTMParameters,i=0;i<n.length;i++)(t=r.utils.getQueryStringValue(n[i],e))&&C(n[i],t)}()})(),T=!!r.getConfig("redirect"),P=!1,(b=!!(g&&p&&m))&&(n=(new Date).getTime()/6e4,P=!T&&m!==r.getConfig("site")||0>n-p||n-p>=r.getConfig("visitLifetime")),n=y||v||l||g,T&&n&&A("atredir",{path:"/",end:r.getConfig("redirectionLifetime")})&&(r.storage[i](["atredir","camp"],n),e=n=!1,v||y||(l?(n=s,e=u):(n=b,e=P)),r.storage[i](["atredir","gopc"],n),r.storage[i](["atredir","gopc_err"],e)),!T&&f&&(C("xtor",f),n=(new Date).getTime()/36e5,n=Math.floor(n-d),C("roinbh",0<=n?n:0)),T||(n=null,n=l?s?y||v||n:y||v||l:b?y||v:y||v||g||n,c&&c instanceof Array&&-1<c.indexOf(n)&&(n=null),n&&C("xto",n)),T||v||y||(l?u&&(k=l):P&&(k=g),k&&C("pgt",k)),T||!(k=l?y||v||l:y||v||g||null)||!v&&!y&&!l&&b&&P||!v&&!y&&l&&s&&u||((!c||c instanceof Array&&0>c.indexOf(k))&&A("atsession",{path:"/",session:60*r.getConfig("visitLifetime")})&&r.storage[i](["atsession","histo_camp"],c&&c.push(k)?c:[k]),f&&!o.lastPersistence||!A("atreman",{path:"/",session:86400*o.lifetime})||(r.storage[i](["atreman","camp"],k),r.storage[i](["atreman","date"],(new Date).getTime()/36e5))),r.emit("Campaigns:process:done",{lvl:"INFO"})})},ATInternet.Tracker.addPlugin("Campaigns")}.call(window),function(){var e={};ATInternet.Tracker.Plugins.Storage=function(t){var n=this,r=!1,i=null;t.configPlugin("Storage",e||{},function(e){"localStorage"===e.storageMode&&(r=ATInternet.Utils.isLocalStorageAvailable())});var a={},o=function(e){return t.getConfig("base64Storage")?ATInternet.Utils.Base64.encode(e):encodeURIComponent(e)},s;i=r?new function(){var e=function(e){var t,n=+new Date,r=!1;return e.options&&(void 0!==e.options.expires?t=e.options.expires:"function"==typeof(e=e.options.end||{}).getTime?t=e.getTime():"number"==typeof e&&(t=n+1e3*e)),"number"==typeof t&&n>=t&&(r=!0),{itemToDelete:r,timestamp:t}},t;this.getData=function(n){var r=null;if(i=localStorage.getItem(n)){var i=s(i),a=ATInternet.Utils.jsonParse(i);a&&"object"==typeof a?e(a).itemToDelete&&t(n)||(delete a.options.expires,r=ATInternet.Utils.jsonSerialize(a)):r=i}return r},this.setData=function(n){var r=!1;if(n.name&&"string"==typeof n.name){var i=e(n);"number"==typeof i.timestamp&&(n.options.expires=i.timestamp);var a=ATInternet.Utils.jsonSerialize(n);if(i.itemToDelete)r=t(n.name);else try{localStorage.setItem(n.name,o(a)),r=!0}catch(e){}}return r}}:new function(){this.getData=function(e){var t=null;return(e=RegExp("(?:^| )"+e+"=([^;]+)").exec(document.cookie)||null)&&(t=s(e[1])),t},this.setData=function(e){var n=!1;if(e.name&&"string"==typeof e.name){var r=e.options||{},i=r.end||{},a=r.domain||t.getConfig("cookieDomain"),s=r.secure||t.getConfig("cookieSecure"),u=r.samesite||t.getConfig("sameSiteStrict"),l=ATInternet.Utils.jsonSerialize(e);l=(l=(l=(l=e.name+"="+o(l))+(r.path&&"string"==typeof r.path?";path="+r.path:""))+(a&&"string"==typeof a?";domain="+a:"")+(s&&"boolean"==typeof s?";secure":""))+(u&&"boolean"==typeof u?";samesite=strict":""),"function"==typeof i.toUTCString?l+=";expires="+i.toUTCString():"number"==typeof i&&(l+=";max-age="+i.toString()),document.cookie=l,this.getData(e.name)&&(n=!0)}return n}};var u=function(e,n){var r=!1;return e&&"object"==typeof e&&(n||ATInternet.Utils.consent&&!t.getConfig("disableCookie")&&!t.getConfig("disableStorage"))&&(r=i.setData(e)),r},l=function(e,t,n){return e={name:e,val:t},n&&n.session&&"number"==typeof n.session&&(n.end=n.session),e.options=n||{},e},c=function(e){var n=null,r=null;return t.getConfig("disableCookie")||t.getConfig("disableStorage")||!e||"string"!=typeof e||(r=i.getData(e)),(e=r)&&(n=ATInternet.Utils.jsonParse(e)),n},f,d=function(e,t,n){return!n&&a[e]?n=a[e]:(n=c(e))&&(n.options=n.options||{},n.options.session&&"number"==typeof n.options.session&&(n.options.end=n.options.session,f(n,!1)),a[e]=n),n?t?(e=null,!n||"object"!=typeof n.val||n.val instanceof Array||void 0===n.val[t]||(e=n.val[t]),e):n.val:null},g=function(e,t,n,r,i){return t?(i=c(e))&&(!i||"object"!=typeof i.val||i.val instanceof Array?i=null:void 0===n?delete i.val[t]:i.val[t]=n,i&&(i=f(i,r))):(i=l(e,n,i=i||{}),i=f(i,r)),i?(a[e]=i,i.val):null},p;t.storage={},t.storage.getAll=function(){return a},t.storage.get=n.get=function(e,t){return t=!!t,e instanceof Array?d(e[0],e[1],t):d(e,"",t)},t.storage.getPrivate=n.getPrivate=function(e,r){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.get(e,r)},t.storage.set=n.set=function(e,t,n,r){var i;return e instanceof Array?(i=e[0],e=e[1],n=null):(i=e,e=null),ATInternet.Utils.privacy.testStorageParam(i,e).toSetInStorage||r?g(i,e,t,r,n):null},t.storage.setPrivate=n.setPrivate=function(e,r,i){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.set(e,r,i)},t.storage.del=n.del,t.storage.delPrivate=n.delPrivate=function(e){e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.del(e)},t.storage.cacheInvalidation=n.cacheInvalidation=function(){a={}}},ATInternet.Tracker.addPlugin("Storage")}.call(window),function(){ATInternet.Tracker.Plugins.Utils=function(e){var t=this,n={};e.utils={},e.utils.getQueryStringValue=t.getQueryStringValue,e.utils.manageChapters=t.manageChapters,e.utils.getDocumentLevel=t.getDocumentLevel=function(){var t=e.getConfig("documentLevel");return t?0>t.indexOf(".")?window[t]||document:(t=t.split("."),window[t[0]][t[1]]||document):document},e.utils.getLocation=t.getLocation=function(){return t.getDocumentLevel().location.href},e.utils.getHostName=t.getHostName,e.dispatchIndex={},e.dispatchStack=[],e.dispatchEventFor={};var r=0;e.dispatchSubscribe=function(t){return!e.dispatchIndex[t]&&(e.dispatchStack.push(t),e.dispatchIndex[t]=!0)},e.dispatchSubscribed,e.addSpecificDispatchEventFor=function(t){return!e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!0,r++,!0)},e.processSpecificDispatchEventFor=function(t){e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!1,0===--r&&(e.dispatchEventFor={},e.emit("Tracker:Plugin:SpecificEvent:Exec:Complete",{lvl:"INFO"})))},e.dispatch=function(t,n){var i=function(){for(var r="",i=null;0<e.dispatchStack.length;)r=e.dispatchStack.pop(),0===e.dispatchStack.length&&(i=t),e[r].onDispatch(i,n);e.dispatchIndex={},e.delContext(void 0,"customObject")},a=function(){e.plugins.isExecWaitingLazyloading()?e.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",function(){i()},!0):i()};0===r?a():e.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete",!0)},e.dispatchRedirect=function(t){var n=!0,r="",i=null;return t&&(!ATInternet.Utils.isTabOpeningAction(t.event)&&t.elem&&e.plugins.exec("TechClicks","manageClick",[t.elem],function(e){n=e.preservePropagation,r=e.elementType}),i=t.callback),e.dispatch(i,r),n},e.manageSend=function(t){ATInternet.Utils.isPreview()&&!e.getConfig("preview")||ATInternet.Utils.isPrerender)||t()},e.processTagObject,e.processContextObjectAndSendHit=function(t,n,r,i){var a={hitType:n.hitType,encode:n.encode,separator:n.separator,truncate:n.truncate},o=e.getParam(t,!0);if(o){for(var s=!1,u=o._options.hitType||[],l=0;l<u.length;l++)if(-1!==ATInternet.Utils.arrayIndexOf(n.hitType.concat("all"),u[l])){s=!0;break}s?((s=ATInternet.Utils.cloneSimpleObject(o))._value=ATInternet.Utils.completeFstLevelObj(s._value||{},r,!0),e.setParam(t,s._value,a),e.manageSend(function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)}),o._options.permanent&&e.setParam(t,o._value,o._options)):(e.setParam(t,r,a),e.manageSend(function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)}),e.setParam(t,o._value,o._options))}else e.setParam(t,r,a),e.manageSend)}},ATInternet.Tracker.addPlugin("Utils")}.call(window),function(){var e={clicksAutoManagementEnabled:!0,clicksAutoManagementTimeout:500};ATInternet.Tracker.Plugins.TechClicks=function(t){var n,r,i=this,a=["Tracker:Hit:Sent:Ok","Tracker:Hit:Sent:Error","Tracker:Hit:Sent:NoTrack"],o=!1;t.configPlugin("TechClicks",e||{});var s=function(e){switch(o=!1,e.target){case"_top":window.top.location.href=e.url;break;case"_parent":window.parent.location.href=e.url;break;default:window.location.href=e.url}},u,l,c=function(e){for(var t,n="_self";e;){if(e.href&&0===e.href.indexOf("http")){t=e.href.split('"').join('\\"'),n=e.target?e.target:n;break}e=e.parentNode}t&&!o&&(o=!0,l),u({url:t,target:n,timeout:r}))},f,d;i.isFormSubmit,t.techClicks={},t.techClicks.manageClick=i.manageClick=function(e,t){var r=!0,i="";if(n&&e){var a;e:{for(i=e;i;){if("function"==typeof i.getAttribute&&("_blank"===i.getAttribute("target")||"no"===i.getAttribute("data-atclickmanagement"))){a=!0;break e}i=i.parentNode}i=e,a=window.location.href;for(var o;i;){if((o=i.href)&&0<=o.indexOf("#")&&a.substring(0,0<=a.indexOf("#")?a.indexOf("#"):a.length)===o.substring(0,o.indexOf("#"))){a=!0;break e}i=i.parentNode}a=!1}if(i=function(e){for(var t=e;t;){if(t.href){if(0<=t.href.indexOf("mailto:"))return ATInternet.Utils.CLICKS_MAILTO;if(0===t.href.indexOf("http"))return ATInternet.Utils.CLICKS_REDIRECTION}else if("FORM"===t.nodeName){var n=e;if(e=!1,n&&("form"===(t=(t=n.tagName||"").toLowerCase())?e=!0:(n=(n=n.getAttribute("type")||"").toLowerCase(),"button"===t?"reset"!==n&&"button"!==n&&(e=!0):"input"===t&&"submit"===n&&(e=!0))),e)return ATInternet.Utils.CLICKS_FORM;break}t=t.parentNode}return""}(e),!a&&i){switch(i){case ATInternet.Utils.CLICKS_MAILTO:d(e),r=!1;break;case ATInternet.Utils.CLICKS_FORM:f(e),r=!1;break;case ATInternet.Utils.CLICKS_REDIRECTION:c(e),r=!1}t&&(a=t.defaultPrevented,"function"==typeof t.isDefaultPrevented&&(a=t.isDefaultPrevented()),a||t.preventDefault&&t.preventDefault())}}return{preservePropagation:r,elementType:i}},t.techClicks.deactivateAutoManagement},ATInternet.Tracker.addPlugin("TechClicks")}.call(window),function(){var e={requestMethod:"POST"};ATInternet.Tracker.Plugins.Clicks=function(t){var n={};t.configPlugin("Clicks",e||{},function(e){n=e});var r,i=function(e){return t.utils.manageChapters(e,"chapter",3)+(e.name?e.name:"")},a=function(e,a){var o={p:i(e),click:r(e.type)||""};void 0!==e.level2&&(o.s2=e.level2);var s=["click"],u=t.getContext("page")||{};o.pclick=i(u),void 0!==u.level2&&(o.s2click=u.level2),(u=e.customObject)&&(u=t.processTagObject("stc",s,u),o.stc={_value:ATInternet.Utils.jsonSerialize(u),_options:{hitType:s,encode:!0,separator:",",truncate:!0}}),t.sendHit(o,[["hitType",s]],e.callback,n.requestMethod,a)};t.click={},t.clickListener={},t.click.send=function(e){var r=!0,i="";return!(e=e||{}).elem||"POST"===n.requestMethod&&ATInternet.Utils.isBeaconMethodAvailable()||ATInternet.Utils.isTabOpeningAction(e.event)||(r=(i=t.techClicks.manageClick(e.elem)).preservePropagation,i=i.elementType),a(e,i),r},t.clickListener.send=function(e){if((e=e||{}).elem){var r="click",i="";t.plugins.exec("TechClicks","isFormSubmit",[e.elem]),ATInternet.Utils.addEvtListener(e.elem,r,function(r){"POST"===n.requestMethod&&ATInternet.Utils.isBeaconMethodAvailable()||ATInternet.Utils.isTabOpeningAction(r)||(i=t.techClicks.manageClick(e.elem,r).elementType),a(e,i)})}},t.click.set=function(e){e=e||{},t.dispatchSubscribe("click"),t.setContext("click",{name:i(e),level2:e.level2||"",customObject:e.customObject}),t.setParam("click",r(e.type)||"",{hitType:["click"]})},t.click.onDispatch=function(e,r){var a=["click"],o=t.getContext("click")||{},s=t.getContext("page")||{};t.setParam("pclick",i(s),{hitType:a}),t.setParam("s2click",s.level2||"",{hitType:a}),t.setParam("p",o.name,{hitType:a}),void 0!==o.level2&&t.setParam("s2",o.level2,{hitType:a}),(o=o.customObject)?t.processContextObjectAndSendHit("stc",{hitType:a,encode:!0,separator:",",truncate:!0,requestMethod:n.requestMethod,elementType:r},o,e):t.manageSend),t.delContext("click")}},ATInternet.Tracker.addPlugin("Clicks")}.call(window),function(){var e={clientSideMode:"always",userIdCookieDuration:397,userIdExpirationMode:"fixed",optOut:"OPT-OUT",userIdStorageName:"atuserid",userIdHitName:"idclient",itpCompliant:!1,baseDomain:""};ATInternet.Tracker.Plugins.ClientSideUserId=function(t){var n={},r=!1,i=null,a=-1;t.configPlugin("ClientSideUserId",e||{},function(e){n=e});var o=function(){var e=n.baseDomain;e||(r=t.getConfig("cookieDomain"))&&("."===(e=r).charAt(0)&&(e=e.substring(1,e.length)));var r=t.builder.getCollectDomain(),i=t.utils.getHostName();return!!(e&&r&&i&&-1!==r.indexOf(e)&&-1!==i.indexOf(e))},s,u=function(){if("relative"===n.userIdExpirationMode||"fixed"===n.userIdExpirationMode&&null===i.storageUserId||i.isFromTrackerContext){var e=new Date;e.setTime(e.getTime()+864e5*n.userIdCookieDuration),t.storage.set(n.userIdStorageName,i.finalUserId,{end:e,path:"/"},i.forceStorage),ATInternet.Utils.consent&&!i.isFromTrackerContext&&i.finalUserId!==t.storage.get(n.userIdStorageName,!0)&&t.setParam(n.userIdHitName,i.finalUserId+"-NO",{multihit:!0,permanent:!0,hitType:["all"]})}},l=function(){t.setParam(n.userIdHitName,i.finalUserId,{multihit:!0,permanent:!0,hitType:["all"]}),u()},c=function(){s();var e=!1;if(null===ATInternet.Utils.optedOut?t.storage.get(n.userIdStorageName,!0)===n.optOut?e=ATInternet.Utils.optedOut=!0:ATInternet.Utils.optedOut=!1:!1===ATInternet.Utils.optedOut&&(t.getParam(n.userIdHitName)===n.optOut&&t.delParam(n.userIdHitName),t.storage.get(n.userIdStorageName,!0)===n.optOut&&t.storage.del(n.userIdStorageName)),i.optout.isOptedout=ATInternet.Utils.optedOut,i.optout.fromStorage=e,i.contextUserId=t.getContext("userIdentifier"),i.storageUserId=t.storage.get("atuserid",!0),e=!1,"required"===n.clientSideMode){var a="";window.navigator&&(a=window.navigator.userAgent),(/Safari/.test(a)&&!/Chrome/.test(a)||/iPhone|iPod|iPad/.test(a))&&(e=!0)}else"always"===n.clientSideMode&&(e=!0);if(r=e,e=!1,!t.getConfig("forceHttp")&&n.itpCompliant&&void 0===i.contextUserId&&!i.optout.isOptedout)switch(n.clientSideMode){case"never":e=o();break;case"always":case"required":r&&null!==i.storageUserId||(e=o())}e||!r&&!i.optout.isOptedout&&void 0===i.contextUserId?t.setConfig("userIdOrigin","server"):(t.setConfig("userIdOrigin","client"),i.isFromTrackerContext=!1,i.forceStorage=!1,i.optout.isOptedout?(i.finalUserId=n.optOut,i.isFromTrackerContext=!i.optout.fromStorage,i.forceStorage=!0):t.getConfig("disableCookie")||t.getConfig("disableStorage")?(i.finalUserId=t.getParam(n.userIdHitName),i.isFromTrackerContext=!0):void 0!==i.contextUserId?(i.finalUserId=i.contextUserId,i.isFromTrackerContext=!0):i.finalUserId=null!==i.storageUserId?i.storageUserId:ATInternet.Utils.uuid().v4(),l())},f;t.plugins.waitForDependencies(["Storage","Utils"],function(){var e=ATInternet.Utils.uuid();a=parseInt(e.num(8)),ATInternet.Utils.removeOptOutEvent(f),ATInternet.Utils.addOptOutEvent(a,f),c()}),t.clientSideUserId={},t.clientSideUserId.set,t.clientSideUserId.store=function(){i.finalUserId=t.getParam(n.userIdHitName)||i.finalUserId,null!==i.finalUserId&&i.finalUserId!==ATInternet.Utils.privacy.CONSENTNO&&i.finalUserId!==i.storageUserId&&(i.isFromTrackerContext=!0,i.forceStorage=!0,u())},t.clientSideUserId.get=function(){return i.finalUserId=t.getParam(n.userIdHitName)||i.finalUserId,i.finalUserId},t.clientSideUserId.clear=function(){s(),t.delParam(n.userIdHitName),t.storage.del(n.userIdStorageName)}},ATInternet.Tracker.addPlugin("ClientSideUserId")}.call(window),function(){var e={domainAttribution:!0},t=30;ATInternet.Tracker.Plugins.ContextVariables=function(n){var r,i="",a=null,o="",s="",u={};n.configPlugin("ContextVariables",e||{},function(e){u=e}),n.setConfig("redirectionLifetime",t,!0);var l=function(e,t){var r=null;return n.plugins.exec("Storage",e,t,function(e){r=e}),r},c,f,d,g=function(){var e="";window.innerWidth?e+=window.innerWidth+"x"+window.innerHeight:document.body&&document.body.offsetWidth&&(e+=document.body.offsetWidth+"x"+document.body.offsetHeight),n.setParam("re",e,{permanent:!0,hitType:["all"]})},p,m,v,h,y=function(){var e=n.utils.getDocumentLevel();n.setParam("ref",function(e){return(e=r||("acc_dir"===i?"":null!==i?i:"acc_dir"===a?"":a||(e?e.referrer:"")))&&(e=e.replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$")),e}(e),{permanent:!0,last:!0,hitType:["page","ecommerce","avinsights","events"]})},T=function(){o="set"+(u.domainAttribution?"":"Private"),s="get"+(u.domainAttribution?"":"Private");var e=n.utils.getLocation();if(void 0===(i=n.utils.getQueryStringValue("xtref",e))&&(i=""),r=n.getContext("forcedReferer"),n.getConfig("redirect")){var t;e=n.utils.getDocumentLevel();if(t=e=r||(null!==i?i:e?e.referrer:"acc_dir")){t={path:"/",end:n.getConfig("redirectionLifetime")};var T=l(s,["atredir"]);null!==T?t="object"==typeof T&&!(T instanceof Array):(l(o,["atredir",{},t]),t=!0)}t&&l(o,[["atredir","ref"],e])}else a=l(s,[["atredir","ref"]]),l("del",[["atredir","ref"]]),c(),f(),d(),g(),h(),p(),m(),v(),y();n.emit("ContextVariables:Ready",{lvl:"INFO"})};n.contextVariables={},n.contextVariables.params={},n.contextVariables.params.vtag=c,n.contextVariables.params.ptag=f,n.contextVariables.params.r=d,n.contextVariables.params.re=g,n.contextVariables.params.lng=p,n.contextVariables.params.idp=m,n.contextVariables.params.jv=v,n.contextVariables.params.hl=h,n.contextVariables.params.ref=y,n.contextVariables.setAll=T,n.plugins.waitForDependencies(["Storage","Utils"],T)},ATInternet.Tracker.addPlugin("ContextVariables")}.call(window),function(){var e={lifetime:182,domainAttribution:!0},t=30;ATInternet.Tracker.Plugins.IdentifiedVisitor=function(n){var r=null,i=null,a=null,o=null,s="",u="",l=null,c=null,f="",d="",g="",p={};n.configPlugin("IdentifiedVisitor",e||{},function(e){p=e}),n.setConfig("redirectionLifetime",t,!0);var m=function(e,t){var r=null;return n.plugins.exec("Storage",e,t,function(e){r=e}),r},v=function(e,t){var n=m(d,[e,!0]);return null!==n?"object"==typeof n&&!(n instanceof Array):(m(f,[e,{},t]),!0)},h,y=function(e,t,r){n.setParam(e,t,{hitType:["all"],permanent:!0}),r&&h(e,t)},T=function(){var e,t={category:"",id:""};e(t,u||c);var n={category:"",id:""};e(n,s||l),n.id?(n.category&&y("ac",n.category,!0),y("at",n.id,!0)):r&&(y("at",r,!1),a&&y("ac",a,!1)),t.id?(t.category&&y("ac",t.category,!0),y("an",t.id,!0)):i&&y("anc",a+"-"+i,!1)};n.plugins.waitForDependencies(["Storage","Utils"],function(){f=p.domainAttribution?"set":"setPrivate",d=p.domainAttribution?"get":"getPrivate",g=p.domainAttribution?"del":"delPrivate";var e=n.utils.getLocation();s=n.utils.getQueryStringValue("xtat",e),u=n.utils.getQueryStringValue("xtan",e),n.getConfig("redirect")?(s||u)&&v("atredir",{path:"/",end:n.getConfig("redirectionLifetime")})&&(u&&m(f,[["atredir","an"],u]),s&&m(f,[["atredir","at"],s])):(l=m(d,[["atredir","at"]]),c=m(d,[["atredir","an"]]),m(g,[["atredir","at"]]),m(g,[["atredir","an"]]),r=m(d,[["atidvisitor","at"]]),i=m(d,[["atidvisitor","an"]]),a=m(d,[["atidvisitor","ac"]]),o=m(d,[["atidvisitor","vrn"]]),T(),e="-"+n.getConfig("site")+"-",RegExp(e).test(o)||(h("vrn",o=(o||"")+e),(e=n.getContext("page")||{}).vrn=1,n.setContext("page",e))),n.emit("IdentifiedVisitor:Ready",{lvl:"INFO",details:{storageRedirectTextual:l,storageRedirectNumeric:c,storageTextual:r,storageNumeric:i,storageCategory:a,storageVrn:o}})}),n.identifiedVisitor={},n.identifiedVisitor.set=function(e){var t=(e=e||{}).id;e=e.category,"number"==typeof t?y("an",t.toString(),!0):"string"==typeof t&&y("at",t,!0),void 0!==e&&y("ac",e,!0)},n.identifiedVisitor.unset},ATInternet.Tracker.addPlugin("IdentifiedVisitor")}.call(window),function(){ATInternet.Tracker.Plugins.OnSiteAds=function(e){var t=this,n="",r=function(t){return e.utils.manageChapters(t,"chapter",3)+(t.name?t.name:"")},i,a=function(e,t){if(r=i(e,t)){var n=i(e,"prefix");if(r.campaignId){n=n||"PUB";var r,a=i(r,"campaignId"),o=i(r,"creation");return n+"-"+a+"-"+o+"-"+i(r,"variant")+"-"+i(r,"format")+"-"+i(r,"generalPlacement")+"-"+i(r,"detailedPlacement")+"-"+i(r,"advertiserId")+"-"+(r=i(r,"url"))}if(r.adId)return(n=n||"INT")+"-"+(a=i(r,"adId"))+"-"+(o=i(r,"format"))+"||"+(r=i(r,"productId"))}return""},o=function(t,n){var r=e.buffer.get("ati",!0)||{};r._value="string"==typeof r._value?[r._value]:r._value||[],r._options=r._options||{truncate:!0,hitType:[n,"page"]},r._value.push(t),e.buffer.set("ati",r._value,r._options)},s=function(t,n){if((t=t||{}).click?e.setParam("atc",a(t,"click"),{truncate:!0,hitType:[n,"page"]}):t.impression&&e.setParam("ati",a(t,"impression"),{truncate:!0,hitType:[n,"page"]}),t.customObject){e.setContext("onsiteads",{customObject:t.customObject});var r=e.getContext("page")||{};r.customObject=ATInternet.Utils.completeFstLevelObj(r.customObject,t.customObject,!1),e.setContext("page",r)}e.dispatchSubscribe("onSiteAds")};e.selfPromotion={},e.publisher={},e.publisher.set=function(e){s(e,"publisher")},e.selfPromotion.set,e.publisher.add=function(t){o(a(t,"impression"),"publisher"),e.dispatchSubscribe("onSiteAds")},e.selfPromotion.add=function(t){o(a(t,"impression"),"selfPromotion"),e.dispatchSubscribe("onSiteAds")},t.advertEvent=function(t){t=t||{};var n=!0,i="";if(!ATInternet.Utils.isTabOpeningAction(t.event)&&t.elem&&(n=(i=e.techClicks.manageClick(t.elem)).preservePropagation,i=i.elementType),t.click){t=t||{};var o=["onSiteAdsClick"],s=e.getContext("page")||{},u={};u.atc={_value:a(t,"click"),_options:{truncate:!0}},u.type="AT",u.patc=r(s),u.s2atc=s.level2||"",(s=t.customObject)&&(s=e.processTagObject("stc",o,s),u.stc={_value:ATInternet.Utils.jsonSerialize(s),_options:{hitType:o,encode:!0,separator:",",truncate:!0}}),e.sendHit(u,[["hitType",o]],t.callback,null,i)}else t.impression&&function(t,n){t=t||{};var r=["onSiteAdsImpression"],i={};i.ati={_value:a(t,"impression"),_options:{hitType:r,truncate:!0}},i.type="AT",ATInternet.Utils.isPreview()&&e.getConfig("preview")&&(i.pvw=1);var o=t.customObject;o&&(o=e.processTagObject("stc",r,o),i.stc={_value:ATInternet.Utils.jsonSerialize(o),_options:{hitType:r,encode:!0,separator:",",truncate:!0}}),e.manageSend)}(t,i);return n},e.publisher.send=function(e){return t.advertEvent(e)},e.selfPromotion.send,e.onSiteAds={},e.onSiteAds.onDispatch=function(t,n){if(!e.dispatchSubscribed("page")){e.setParam("type","AT",{hitType:["publisher","selfPromotion"]});var i=e.getContext("page")||{};e.getParam("atc")&&(e.setParam("patc",r(i),{hitType:["publisher","selfPromotion"]}),e.setParam("s2atc",i.level2||"",{hitType:["publisher","selfPromotion"]})),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&e.setParam("pvw",1);var a=["publisher","selfPromotion"];(i=(e.getContext("onsiteads")||{}).customObject)?e.processContextObjectAndSendHit("stc",{hitType:a,encode:!0,separator:",",truncate:!0,elementType:n},i,t):e.manageSend(function(){e.sendHit(null,[["hitType",a]],t,null,n)})}},e.plugins.waitForDependencies(["Utils","TechClicks"],function(){n=document.location.href;var t=e.utils.getQueryStringValue("xtatc",n);t&&e.setParam("atc",t,{hitType:["publisher","selfPromotion","page"]}),e.emit("OnSiteAds:Ready",{lvl:"INFO",details:{href:n}})})},ATInternet.Tracker.addPlugin("OnSiteAds")}.call(window),function(){ATInternet.Tracker.Plugins.Page=function(e){var t=["pageId","chapterLabel","update"],n=["pid","pchap","pidt"],r=["page","site"],i=["f","x"],a,o=function(e,t,n){return t?e=t:e||void 0===n||(e=n),e},s,u,l=function(r,i,a){if(i){var o=e.utils.manageChapters(i,"chapter",3);for(o&&(i.chapterLabel=o.replace(/::$/gi,"")),o=0;o<n.length;o++)i.hasOwnProperty(t[o])&&(a?r[n[o]]=i[t[o]]:e.setParam(n[o],i[t[o]]))}},c,f=function(t,n,r){if(n){var i,a;i=a(n.category1)+"-",i+=a(n.category2)+"-",i+=a(n.category3),r?t.ptype=i:e.setParam("ptype",i)}},d=function(t,n,r){if(n)for(var i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&(r?t[i]=n[i]:e.setParam(i,n[i]))};e.customVars={},e.customVars.set=function(t){var n=e.getContext("page")||{},r=n.customVars;if(r){if(t)for(var i in t)t.hasOwnProperty(i)&&(r[i]=ATInternet.Utils.completeFstLevelObj(r[i],t[i],!0))}else r=t;n.customVars=r,e.setContext("page",n)},e.dynamicLabel={},e.dynamicLabel.set=function(t){var n=e.getContext("page")||{};n.dynamicLabel=ATInternet.Utils.completeFstLevelObj(n.dynamicLabel,t,!0),e.setContext("page",n)},e.tags={},e.tags.set=function(t){var n=e.getContext("page")||{};n.tags=ATInternet.Utils.completeFstLevelObj(n.tags,t,!0),e.setContext("page",n)},e.customTreeStructure={},e.customTreeStructure.set=function(t){var n=e.getContext("page")||{};n.customTreeStructure=ATInternet.Utils.completeFstLevelObj(n.customTreeStructure,t,!0),e.setContext("page",n)},e.page={},e.page.reset,e.page.set=function(t){t=t||{},e.dispatchSubscribe("page");var n=e.getContext("page")||{};n.name=o(n.name,t.name,""),void 0!==t.level2&&(n.level2=t.level2),s(n,t,"chapter1"),s(n,t,"chapter2"),s(n,t,"chapter3"),n.customObject=ATInternet.Utils.completeFstLevelObj(n.customObject,t.customObject,!0),e.setContext("page",n)},e.page.send=function(t){var n=!0,r="",i={p:a(t=t||{})};if(void 0!==t.level2&&(i.s2=t.level2),p=t.customObject){var g=["page"],p=e.processTagObject("stc",g,p);i.stc={_value:ATInternet.Utils.jsonSerialize(p),_options:{hitType:g,encode:!0,separator:",",truncate:!0}}}return(p=e.getContext("page")||{}).vrn&&(i.vrn=p.vrn,e.delContext("page","vrn")),void 0!==(g=e.getContext("InternalSearch")||{}).keyword&&(i.mc=ATInternet.Utils.cloneSimpleObject(g.keyword),void 0!==g.resultPageNumber&&(i.np=ATInternet.Utils.cloneSimpleObject(g.resultPageNumber)),e.delContext("InternalSearch")),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&(i.pvw=1),u(i,t.customVars,!0),l(i,t.dynamicLabel,!0),c(i,t.tags,!0),f(i,t.customTreeStructure,!0),g=e.getContext("campaigns")||{},d(i,g,!0),e.delContext("campaigns"),!ATInternet.Utils.isTabOpeningAction(t.event)&&t.elem&&(n=(g=e.techClicks.manageClick(t.elem)).preservePropagation,r=g.elementType),e.manageSend),p.name=o(p.name,t.name,""),void 0!==t.level2&&(p.level2=t.level2),s(p,t,"chapter1"),s(p,t,"chapter2"),s(p,t,"chapter3"),e.setContext("page",p),n},e.page.onDispatch=function(t,n){var r=e.getContext("page")||{},i=e.getContext("InternalSearch")||{};e.setParam("p",a(r)),void 0!==r.level2&&e.setParam("s2",r.level2),r.vrn&&(e.setParam("vrn",r.vrn),e.delContext("page","vrn")),void 0!==i.keyword&&(e.setParam("mc",ATInternet.Utils.cloneSimpleObject(i.keyword)),void 0!==i.resultPageNumber&&e.setParam("np",ATInternet.Utils.cloneSimpleObject(i.resultPageNumber)),e.delContext("InternalSearch")),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&e.setParam("pvw",1),u(null,r.customVars,!1),l(null,r.dynamicLabel,!1),c(null,r.tags,!1),f(null,r.customTreeStructure,!1),i=e.getContext("campaigns")||{},d(null,i,!1),e.delContext("campaigns");var o=["page"];(r=r.customObject)?e.processContextObjectAndSendHit("stc",{hitType:o,encode:!0,separator:",",truncate:!0,elementType:n},r,t):e.manageSend)}},ATInternet.Tracker.addPlugin("Page")}.call(window),function(){var e={storageCapacity:1,storageMode:"required",timeout:500};ATInternet.Tracker.Plugins.Offline=function(t){function n(e,a,c,f){if(window.navigator&&window.navigator.onLine){var d=s();if(0<d.length){var g=d.shift();o({hits:d}),i||(t.onTrigger("Tracker:Hit:Sent:Ok",function(t,r){e&&r.details.hit===e||n(e,a,c,f)},!1),t.onTrigger("Tracker:Hit:Sent:Error",!1),i=!0),t.sendUrl(g,null,"GET",f)}else e&&(t.utils.getQueryStringValue("a",e)?setTimeout,r.timeout):t.sendUrl(e,a,c,f))}else e&&(l(u(e)),a&&a())}var r={},i=!1;t.configPlugin("Offline",e||{},function(e){r=e});var a=function(){var e=localStorage.getItem("ATOffline"),t={hits:[],length:0};if(e){var n=ATInternet.Utils.jsonParse(e)||{hits:[]};t.hits=n.hits,t.length=e.length}return t},o,s,u,l=function(e){var t=a(),n=e.length,i=!0;if(4*((t.length||11)+n)>1048576*r.storageCapacity){i=!1;var s=t.hits.shift();if(void 0!==s){i=!0;for(var u=s.length;u<n;){if(void 0===(s=t.hits.shift())){i=!1;break}u+=s.length}}}i&&(t.hits.push(e),o({hits:t.hits}))},c;t.offline={},t.offline.getLength,t.offline.remove,t.offline.get=s,t.offline.send,t.plugins.waitForDependencies(["Utils"],function(){var e,n=ATInternet.Utils.isLocalStorageAvailable();window.navigator&&(e=window.navigator.onLine),n&&void 0!==e&&("required"===r.storageMode?c(!1):"always"===r.storageMode&&c(!0)),t.emit("Offline:Ready",{lvl:"INFO",details:{isLocalStorageAvailable:n,storageMode:r.storageMode,isOnline:e}})})},window.ATInternet.Tracker.addPlugin("Offline")}.call(window),function(){var e={authorityStorageName:"atauthority",authorities:{default:{name:"default",optin:{name:"optin",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!0},visitorMode:{param:"vm",value:"optin"}}},include:{storage:"*",buffer:"*"}},optout:{name:"optout",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"optout"}}},include:{storage:["atuserid","atauthority"],buffer:["s","idclient","ts","vc","vm","click","type","olt","cn","mh"]}},"no-consent":{name:"no-consent",storageDuration:0,trackerSettings:{disableStorage:!0,disableCookie:!0},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"no-consent"},idclient:{param:"idclient",value:"Consent-NO"}}},include:{storage:[],buffer:["s","idclient","ts","vc","vm","click","type","olt","cn","mh"]}},random:{name:"random",storageDuration:0,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"before-consent"}}},include:{storage:[],buffer:["s","idclient","p","vtag","ptag","ts","vc","vm","ref","xto","click","type","olt","cn","mh"]}}},cnil:{name:"cnil",exempt:{name:"exempt",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"exempt"}}},include:{storage:["atuserid","atauthority"],buffer:["s","idclient","p","vtag","ptag","ts","vc","vm","click","type","olt","cn","mh","ref","pclick","s2click"]}}}},parametersToInclude:["x1","x2","x3","x4","x5","x7","x8","x9","x10","x11","x12","x13","x14","x15","x17","x18","x20","x21","x22","s2","xto","xtor","ref","page_chapter4","stc","s:content_tags","s:content_signature","n:content_id_journaliste","n:content_title_characters_number","b:user_darkmode","b:user_adblock","s:content_source","s:misc_referrer","n:pageview_number","s:chapter4","s:misc_search","n:content_video_number","s:content_subtype","n:content_characters_number","s:content_type","n:content_20min_video_number","n:content_id","s:page_type","s:content_title","d:content_published_date","d:content_modified_date","s:site_level2","src","_src","events_data_id","events_data_cta","context","events_name","n:page_refresh_number","n:content_embed_number","b:pageview_with_consent","utm_term","utm_source","utm_medium","utm_content","utm_campaign","events_data","x23","x24","x25","x26","x27","x28","s:page_canonical","s:device_type","b:user_status","s:src_utmsource","s:page_url_raw","n:content_paragraphs_number"]};ATInternet.Tracker.Plugins.Privacy=function(t){var n=null;t.privacy={setVisitorOptout:function(){},setVisitorOptin:function(){},setVisitorRandomID:function(){},setVisitorMode:function(){},getAuthority:function(){},getVisitorMode:function(){},addAuthority:function(){},extendIncludeStorage:function(){},extendIncludeBuffer:function(){},updateStorageDuration},t.plugins.waitForDependencies(["Storage","Utils","ClientSideUserId","ContextVariables"],function(){var r=null;t.configPlugin("Privacy",e||{}),null!==r&&(n=new function(e){function n(){if(c&&f){var e=new Date;e.setTime(e.getTime()+864e5*f.storageDuration),t.storage.set(g.authorityStorageName,{authority_name:c.name,visitor_mode:f.name},{end:e,path:"/"})}}function r(e){f&&(0<f.storageDuration?e?n():null===(e=t.storage.get(g.authorityStorageName,!0))?n():"object"==typeof e&&(e.authority_name===c.name&&e.visitor_mode===f.name||n()):t.storage.del(g.authorityStorageName))unction o(e,t,n){if(f&&f.include){f.include[t]instanceof Array?e instanceof Array?f.include[t]=f.include[t].concat(e):e&&f.include[t].push(e):f.include[t]!==ATInternet.Utils.privacy.ALL&&(e instanceof Array?f.include[t]=e:e&&(f.include[t]=[e])),e=d;var r=t+"Params",i=f.include[t];t=[];for(var a={},o=0;o<i.length;o++)if("object"==typeof i[o])for(var s in i[o])i[o].hasOwnProperty(s)&&(a[s]=(a[s]||[]).concat(i[o][s]));else t.push(i[o]);for(var u in a)a.hasOwnProperty(u)&&((s={})[u]=a[u],t.push(s));e[r]=t,ATInternet.Utils.privacy.setParameters(d),n&&n()}}function s(e,n,o,s){if(g.authorities&&g.authorities[e]&&g.authorities[e][n]){if(o&&t.clientSideUserId.clear(),s&&l.setVisitorOptin(),c=g.authorities[e],f=c[n],ATInternet.Utils.privacy.setMode(n),f)for(var p in f.trackerSettings)f.trackerSettings.hasOwnProperty(p)&&t.setConfig(p,f.trackerSettings[p]);if(f&&f.add)for(var m in f.add.buffer)f.add.buffer.hasOwnProperty(m)&&t.setParam(f.add.buffer[m].param,f.add.buffer[m].value,{multihit:!0,permanent:!0,hitType:["all"]});if(f&&f.include){for(var v in f.include)f.include.hasOwnProperty(v)&&(e=f.include[v]instanceof Array?f.include[v]:[f.include[v]],d[v+"Params"]=e);ATInternet.Utils.privacy.setParameters(d),r(!1)}0<g.parametersToInclude.length&&(l.extendIncludeStorage(g.parametersToInclude),l.extendIncludeBuffer(g.parametersToInclude)),i(),a(),u()}var l=this,c=null,f=null,d={storageParams:[],bufferParams:[]},g=e;l.setVisitorOptout=function(){ATInternet.Utils.consentReceived(!0),s("default","optout",!1,!1),ATInternet.Utils.userOptedOut()},l.setVisitorOptin=function(){ATInternet.Utils.consentReceived(!0),t.clientSideUserId.store(),s("default","optin",!1,!1),ATInternet.Utils.userOptedIn()},l.setVisitorRandomID=function(){ATInternet.Utils.consentReceived(!1),s("default","random",!1,!1),ATInternet.Utils.userOptedIn()},l.setVisitorMode=function(e,t,n){var r=!0;"cnil"===e&&"exempt"===t?r=!1:"boolean"==typeof n&&(r=n),r&&c&&f&&(r=e!==c.name||t!==f.name),s(e,t,r,!0)},l.getAuthority=function(){return c},l.getVisitorMode,l.addAuthority=function(e){e&&"object"==typeof e&&(g.authorities=g.authorities||{},g.authorities[e.name]=e)},l.extendIncludeStorage,l.extendIncludeBuffer=function(e){o(e,"buffer",a),u()},l.updateStorageDuration()}(r),t.privacy.setVisitorOptout=n.setVisitorOptout,t.privacy.setVisitorOptin=n.setVisitorOptin,t.privacy.setVisitorRandomID=n.setVisitorRandomID,t.privacy.setVisitorMode=n.setVisitorMode,t.privacy.getAuthority=n.getAuthority,t.privacy.getVisitorMode=n.getVisitorMode,t.privacy.addAuthority=n.addAuthority,t.privacy.extendIncludeStorage=n.extendIncludeStorage,t.privacy.extendIncludeBuffer=n.extendIncludeBuffer,t.privacy.updateStorageDuration=n.updateStorageDuration)})},ATInternet.Tracker.addPlugin("Privacy")}.call(window),function(){ATInternet.Tracker.Plugins.Events=function(e){var t=function(e){var t={};for(var n in e=ATInternet.Utils.cloneSimpleObject(e),ATInternet.Utils.object2Flatten(e,null,t,null,!0),e={},t)t.hasOwnProperty(n)&&ATInternet.Utils.flatten2Object(e,n,t[n]);return ATInternet.Utils.getFormattedObject(e)};e.events={},e.events.send=function(n,r,i){(i=i||{}).origin="events";var a=r;ATInternet.Utils.isObject(r)&&(a=t(r)),e.event.send(n,a,i)},e.events.add=function(n,r){var i=r;ATInternet.Utils.isObject(r)&&(i=t(r));for(var a=e.getContext("events")||[],o=!1,s=0;s<a.length;s++){a[s].hasOwnProperty(n),o=!0;break}o?e.event.add(n,i,"events"):e.event.set(n,i,null,"events")},e.events.onDispatch},ATInternet.Tracker.addPlugin("Events")}.call(window),function(){var e={hitParameter:"col",hitValue:"2"};ATInternet.Tracker.Plugins.EventRoot=function(t){var n={},r=function(e){for(var t,n=[],r=0;r<e.length;r++)for(var i in e[r])e[r].hasOwnProperty(i)&&(t=ATInternet.Utils.isObject(e[r][i])?ATInternet.Utils.objectToLowercase(e[r][i]):e[r][i],n.push({name:i.toLowerCase(),data:t}));return ATInternet.Utils.jsonSerialize(n)},i=function(e,n){var r="",i={},a={};if(void 0!==e){i={},e.name&&(i.$=e.name);a=t.getConfig("ignoreEmptyChapterValue");for(var o="",s="",u=1;3>=u;u++)o=e[s="chapter"+u]||"",(a&&o||!a&&e.hasOwnProperty(s))&&(i[s]=o);e.url&&(i.url=e.url),a={},"string"==typeof e.level2?0<(o=ATInternet.Utils.trim(e.level2)).length&&(isNaN(o)?a.level2=o:a.level2_id=Number(o)):"number"==typeof e.level2&&(a.level2_id=e.level2)}return o={},ATInternet.Utils.isEmptyObject(i)||(o.page=i),ATInternet.Utils.isEmptyObject(a)||(o.site=a),void 0!==n&&(o.src=n),ATInternet.Utils.isEmptyObject(o)||(r=ATInternet.Utils.jsonSerialize([{data:o}])),r},a=function(e,n,r){r=r||"event",""!==(e=i(e,n))&&t.setParam("context",e,{truncate:!0,hitType:[r],encode:!0})},o;t.event={},t.event.reset=function(e){e=e||"event",t.getContext(e),t.delContext(e)},t.event.send=function(e,a,o){var s=!0,u="",l="event";o&&o.origin&&(l=o.origin);var c={};c[e]=a;var f={};return f[n.hitParameter]={_value:n.hitValue,_options:{multihit:!0}},e=t.getContext("page"),a=t.getContext("campaigns_events"),void 0===e&&void 0===a||(f.context={_value:i(e,a),_options:{truncate:!0,encode:!0}}),f.events={_value:r([c]),_options:{encode:!0,truncate:!0,separator:","}},ATInternet.Utils.isPreview()&&t.getConfig("preview")&&(f.pvw=1),o&&!ATInternet.Utils.isTabOpeningAction(o.event)&&o.elem&&(s=(c=t.techClicks.manageClick(o.elem)).preservePropagation,u=c.elementType),t.manageSend(function(){var e;o&&(e=o.callback),t.sendHit(f,[["hitType",[l]]],e,null,u)}),s},t.event.set=function(e,r,i,a){a=a||"event",t.setParam(n.hitParameter,n.hitValue,{multihit:!0,hitType:[a]}),t.dispatchSubscribe(a);for(var s=t.getContext(a)||[],u=!1,l=0;l<s.length;l++)s[l][e]&&(u=!0,i?ATInternet.Utils.isObject(s[l][e])&&(s[l][e][i]=o(s[l][e][i],r)):s[l][e]=o(s[l][e],r));u||(u={},i?(u[e]={},u[e][i]=r):u[e]=r,s.push(u)),t.setContext(a,s)},t.event.add=function(e,n,r){r=r||"event";var i=t.getContext(r)||[],a={};a[e]=n,i.push(a),t.setContext(r,i)},t.event.onDispatch=function(e,n,i){var o=i||"event";i=t.getContext("page");var s=t.getContext("campaigns_events");void 0===i&&void 0===s||a(i,s,o),void 0!==(i=t.getContext(o))&(i,o),t.delContext(o),ATInternet.Utils.isPreview()&&t.getConfig("preview")&&t.setParam("pvw",1,{hitType:[o]}),t.manageSend)},t.plugins.waitForDependencies(["Utils"],function(){t.configPlugin("EventRoot",e||{},function(e){n=e})})},ATInternet.Tracker.addPlugin("EventRoot")}.call(window),function(){var e={urlKeyword:"",urlResultPageNumber:"",urlResultPosition:""};ATInternet.Tracker.Plugins.InternalSearch=function(t){var n={};t.configPlugin("InternalSearch",e||{},function(e){n=e}),t.internalSearch={},t.internalSearch.set=function(e){var n={},r=n,i=e=e||{};i.hasOwnProperty("keyword")&&(r.keyword=i.keyword),r=n,e.hasOwnProperty("resultPageNumber")&&(r.resultPageNumber=e.resultPageNumber),e=t.getContext("InternalSearch")||{},void 0===(n=ATInternet.Utils.completeFstLevelObj(n,e)).resultPageNumber&&(n.resultPageNumber="1"),t.setContext("InternalSearch",n)},t.internalSearch.send=function(e){e=e||{};var n=!0,r="";!ATInternet.Utils.isTabOpeningAction(e.event)&&e.elem&&(n=(r=t.techClicks.manageClick(e.elem)).preservePropagation,r=r.elementType);var i={np:void 0!==e.resultPageNumber?e.resultPageNumber:"1",click:"IS"};e.hasOwnProperty("keyword")&&(i.mc=e.keyword),e.hasOwnProperty("resultPosition")&&(i.mcrg=e.resultPosition);var a=t.getContext("page")||{};return a.level2&&(i.s2=a.level2),t.sendHit(i,[["hitType",["InternalSearch"]]],e.callback,null,r),n},t.plugins.waitForDependencies(["Utils"],function(){var e;if(n.urlKeyword){var r=document.location.href;e={};var i=t.utils.getQueryStringValue(n.urlKeyword,r);i&&(e.keyword=i),n.urlResultPageNumber&&(i=t.utils.getQueryStringValue(n.urlResultPageNumber,r),e.resultPageNumber=i||"1")}e&&t.setContext("InternalSearch",e),t.emit("InternalSearch:Ready",{lvl:"INFO",details:{config:{urlKeyword:n.urlKeyword,urlResultPageNumber:n.urlResultPageNumber},url:r,data:e}})})},ATInternet.Tracker.addPlugin("InternalSearch")}.call(window),function(){var e={minHeartbeat:5,minBufferingHeartbeat:1};ATInternet.Tracker.Plugins.AvInsights=function(t){var n=null;t.avInsights={},t.avInsights.Media=function(e,r,i){var a=this,o=new function(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue,this.value2Number},s=null,u=null,l=null,c,f=function(e,t){if(t){for(var r in e?(s.delayBufferingConfiguration=[],s.delayBufferingConfigurationBackup=[]):(s.delayConfiguration=[],s.delayConfigurationBackup=[]),t)t.hasOwnProperty(r)&&(e?s.delayBufferingConfiguration.push({delay:o.processHeartbeatValue(r,0),number:0,timeout:-1,refresh:o.processHeartbeatValue(t[r],n.minBufferingHeartbeat)}):s.delayConfiguration.push({delay:o.processHeartbeatValue(r,0),number:0,timeout:-1,refresh:o.processHeartbeatValue(t[r],n.minHeartbeat)}));(e),e?s.delayBufferingConfigurationBackup=ATInternet.Utils.cloneSimpleObject(s.delayBufferingConfiguration):s.delayConfigurationBackup=ATInternet.Utils.cloneSimpleObject(s.delayConfiguration)}},d=function(e,n,r,i){var a=ATInternet.Utils.cloneSimpleObject(l);for(var o in a.av_session_id={},a.av_session_id[ATInternet.Utils.ATVALUE]=s.sessionId,a.av_session_id[ATInternet.Utils.ATPREFIX]="",n&&(a.av_previous_position={},a.av_previous_position[ATInternet.Utils.ATVALUE]=s.previousCursorPosition,a.av_previous_position[ATInternet.Utils.ATPREFIX]="",a.av_position={},a.av_position[ATInternet.Utils.ATVALUE]=s.currentCursorPosition,a.av_position[ATInternet.Utils.ATPREFIX]="",a.av_duration={},a.av_duration[ATInternet.Utils.ATVALUE]=s.eventDuration,a.av_duration[ATInternet.Utils.ATPREFIX]="",a.av_previous_event={},a.av_previous_event[ATInternet.Utils.ATVALUE]=s.previousEvent,a.av_previous_event[ATInternet.Utils.ATPREFIX]="",s.previousEvent=e),ATInternet.Utils.isObject(i)&&ATInternet.Utils.object2Flatten(i,null,a,null,!0),n={},a)a.hasOwnProperty(o)&&ATInternet.Utils.flatten2Object(n,o,a[o]);a=ATInternet.Utils.getFormattedObject(n),t.event.send(e,a,{origin:"avinsights",callback:r})},g=function(){var e=0,t=0;this.getEventDuration,this.initBaseTime,this.resetProperties,this.initHeartbeatTimer=function(e,t){var n=t?s.delayBufferingConfiguration:s.delayConfiguration;0<n.length&&(function(e){var t;void 0!==(e=e?s.delayBufferingConfiguration:s.delayConfiguration)[1]&&(t=e[1].delay),void 0===t?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)}(t),window.clearTimeout(n[0].timeout),n[0].timeout=window.setTimeout,1e3*n[0].refresh))},this.stopHeartbeatTimer};a.set=function(e,t){var n=ATInternet.Utils.splitProtocolAndKey(e,!0);l[n.key]=l[n.key]||{},l[n.key][ATInternet.Utils.ATVALUE]=t,l[n.key][ATInternet.Utils.ATPREFIX]=n.prefix},a.get=function(e){var t=null;return e=ATInternet.Utils.splitProtocolAndKey(e,!0),void 0!==l[e.key]&&(t=l[e.key][ATInternet.Utils.ATVALUE]),t},a.del=function(e){e=ATInternet.Utils.splitProtocolAndKey(e,!0),void 0!==l[e.key]&&delete l[e.key]},a.setProps,a.getProps=function(){var e,t=null;for(e in l)l.hasOwnProperty(e)&&((t=t||{})[e]=l[e][ATInternet.Utils.ATVALUE]);return t},a.delProps;var p=function(e,t,n,r,i){u.initBaseTime(),s.eventDuration=u.getEventDuration(),s.previousCursorPosition=s.currentCursorPosition,s.currentCursorPosition=e?s.previousCursorPosition+Math.floor(s.playbackSpeed*s.eventDuration):n,t&&u.initHeartbeatTimer(function(){p(!0,!0)},!1),d("av.heartbeat",!0,r,i)},m=function(e,t,n){u.initBaseTime(),s.eventDuration=u.getEventDuration(),e&&u.initHeartbeatTimer(function(){m(!0)},!0),d("av.buffer.heartbeat",!0,t,n)},v=function(e,t,n){u.initBaseTime(),s.eventDuration=u.getEventDuration(),s.previousCursorPosition=s.currentCursorPosition,e&&u.initHeartbeatTimer(function(){v(!0)},!0),d("av.rebuffer.heartbeat",!0,t,n)};a.setPlaybackSpeed,a.getSessionID,a.track=function(e,t,n,r){switch(t=t||{},e){case"av.heartbeat":a.heartbeat(t.av_position,n,r);break;case"av.buffer.heartbeat":a.bufferHeartbeat(n,r);break;case"av.rebuffer.heartbeat":a.rebufferHeartbeat(n,r);break;case"av.play":a.play(t.av_position,n,r);break;case"av.buffer.start":a.bufferStart(t.av_position,n,r);break;case"av.start":a.playbackStart(t.av_position,n,r);break;case"av.resume":a.playbackResumed(t.av_position,n,r);break;case"av.pause":a.playbackPaused(t.av_position,n,r);break;case"av.stop":a.playbackStopped(t.av_position,n,r);break;case"av.backward":a.seekBackward(t.av_previous_position,t.av_position,n,r);break;case"av.forward":a.seekForward(t.av_previous_position,t.av_position,n,r);break;case"av.seek.start":a.seekStart(t.av_previous_position,n,r);break;case"av.error":a.error(t.av_player_error,n,r);break;default:d(e,!1,n,r)}},a.heartbeat,a.bufferHeartbeat=function(e,t){m(!1,e,t)},a.rebufferHeartbeat,a.play,a.bufferStart,a.playbackStart,a.playbackResumed,a.playbackPaused,a.playbackStopped=function(e,t,n){u.initBaseTime(),e=o.value2Number(e),s.eventDuration=u.getEventDuration(),s.previousCursorPosition=s.currentCursorPosition,s.currentCursorPosition=e,s.isPlaying=!1,s.isPlaybackActivated=!1,u.stopHeartbeatTimer(!1),u.stopHeartbeatTimer(!0),u.resetProperties(),c(!1),c(!0),d("av.stop",!0,t,n),s.previousCursorPosition=0,s.currentCursorPosition=0,s.eventDuration=0,s.previousEvent="",s.sessionId=ATInternet.Utils.uuid().v4()},a.seek=function(e,t,n,r){(e=o.value2Number(e))>(t=o.value2Number(t))?a.seekBackward(e,t,n,r):a.seekForward(e,t,n,r)},a.seekBackward=function(e,t,n,r){a.seekStart(e,null,r),s.eventDuration=0,s.previousCursorPosition=o.value2Number(e),s.currentCursorPosition=o.value2Number(t),d("av.backward",!0,n,r)},a.seekForward,a.seekStart=function(e,t,n){e=o.value2Number(e),s.previousCursorPosition=s.currentCursorPosition,s.currentCursorPosition=e,s.eventDuration=s.isPlaying?u.getEventDuration():0,d("av.seek.start",!0,t,n)},a.adClick=function(e,t){d("av.ad.click",!1,e,t)},a.adSkip=function(e,t){d("av.ad.skip",!1,e,t)},a.error=function(e,t,n){var r={};ATInternet.Utils.isObject(n)&&(r=n),r.av_player_error=String(e),d("av.error",!1,t,r)},a.display=function(e,t){d("av.display",!1,e,t)},a.close=function(e,t){d("av.close",!1,e,t)},a.volume=function(e,t){d("av.volume",!1,e,t)},a.subtitleOn=function(e,t){d("av.subtitle.on",!1,e,t)},a.subtitleOff=function(e,t){d("av.subtitle.off",!1,e,t)},a.fullscreenOn=function(e,t){d("av.fullscreen.on",!1,e,t)},a.fullscreenOff=function(e,t){d("av.fullscreen.off",!1,e,t)},a.quality=function(e,t){d("av.quality",!1,e,t)},a.speed=function(e,t){d("av.speed",!1,e,t)},a.share,s={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]},function(){var t=r?{0:1,1:10,5:20,15:30,30:60}:null;f(!1,e?{0:5,1:10,5:20,15:30,30:60}:null),f(!0,t)}(),s.sessionId=i||ATInternet.Utils.uuid().v4(),u=new g,ATInternet.Utils.addEvtListener(window,"unload"),l={}},t.plugins.waitForDependencies(["EventRoot"])},ATInternet.Tracker.addPlugin("AvInsights")}.call(window),"function"==typeof window.ATInternet.onTrackerLoad&&window.ATInternet.onTrackerLoad();