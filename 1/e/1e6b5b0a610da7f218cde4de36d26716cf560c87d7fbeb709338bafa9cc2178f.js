(window.webpackJsonp=window.webpackJsonp||[]).push([[44,89,90,95,96,97,100,101,111,116,117,118,119,120,121],{1018:function(e,t,i){"use strict";function s(e,t,i){i?n(e,t,i):a(e,t)}function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=function(e){if(e===window)return window.pageYOffset||window.scrollY||document.body.scrollTop||0;return e.scrollTop}(e);i<=0?s!==t&&a(e,t):requestAnimationFrame((()=>{const r=s+(t-s)/Math.max(16,i)*16;a(e,r),r!==t&&n(e,t,i-16)}))}function a(e,t){e!==window?e.scrollTop=t:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t)}i.d(t,"a",(function(){return s}))},1023:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return c}));var s=i(153),n=i.n(s),a=i(1032),r=i.n(a);function o(e){const t=window.navigator.userAgent;if(!t||!r()(t))return!1;return"iOS"===n.a.getParser(t).getOSName()}function l(e){const t=window.navigator.userAgent;if(!t||!r()(t))return!1;return"macOS"===n.a.getParser(t).getOSName()}function c(e){const t=window.navigator.userAgent;if(!t||!r()(t))return!1;const i=n.a.getParser(t),s=i.getOSVersion();return"iOS"===i.getOSName()&&s.startsWith("15")}},1029:function(e,t,i){"use strict";t.a={methods:{async handleAuthResponse(e){const{user:t,session:i}=e;return i&&t?(await this.$store.dispatch("auth/login",{session:i,user:t}),!0):(this.$logError("Auth response doesn't contain user or/and session"),!1)}}}},1033:function(e,t,i){"use strict";function s(){return!!document&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=e.requestFullscreen||e.enterFullscreen||e.webkitEnterFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;i&&i.call(e,t)}function a(){if(!document)return;if(!s())return;const e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;e&&e.call(document)}i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}))},1040:function(e,t,i){"use strict";i.r(t);var s={mixins:[i(1029).a],props:{email:{type:String,default:""},password:{type:String,default:""},captchaToken:{type:String,default:""},isLogin:{type:Boolean,default:!0}},data:()=>({code:"",failed:!1,isSubmitting:!1,captchaEnabled:Boolean(Number(!0))}),mounted(){setTimeout((()=>{this.$refs.codeInput.focus(0)}),300)},methods:{async codeChanged(e){this.code=e,0===this.code.length&&(this.failed=!1),6===this.code.length&&(this.failed=!1,await this.onSubmit())},async onSubmit(){const e={email:this.email,password:this.password,authenticatorToken:this.code};if(this.captchaEnabled&&(e.captchaToken=this.captchaToken),this.isLogin)try{this.isSubmitting=!0;const t=await this.$api.users.login(e);this.onSuccess(t)}catch(t){this.$showErrorMessage(t.localizedMessage),this.$logError(t),this.failed=!0}finally{this.isSubmitting=!1}else this.$emit("code",this.code)},onSuccess(e){this.handleAuthResponse(e)&&this.$emit("logged-in")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("div",{staticClass:"flex"},[t("h2",{staticClass:"text-2lg font-semibold leading-6 text-center w-full"},[e._v("\n      "+e._s(e.$t("auth.two_factor_form.title"))+"\n    ")])]),e._v(" "),t("sx-code-input",{ref:"codeInput",staticClass:"mt-5 mb-2 code-input justify-around",attrs:{"data-cy-id":"code-input",length:6,value:e.code,readonly:e.isSubmitting,failed:e.failed},on:{input:e.codeChanged}}),e._v(" "),t("p",{staticClass:"text-center mb-5 text-secondary"},[e._v("\n    "+e._s(e.$t("auth.two_factor_form.hint"))+"\n  ")]),e._v(" "),t("sx-button",{attrs:{block:"",loading:e.isSubmitting,disabled:6!==e.code.length},on:{click:e.onSubmit}},[e._v("\n    "+e._s(e.$t("global.next"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=a.exports},1059:function(e,t,i){var s=i(1101);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("08976f4e",s,!0,{sourceMap:!1})},1060:function(e,t,i){"use strict";t.a={data:()=>({fingerprintHash:""}),beforeMount(){this.takeFingerprint()},methods:{async takeFingerprint(){const e=await this.$Fingerprint2.load(),{visitorId:t}=await e.get();this.fingerprintHash=t}}}},1061:function(e,t,i){var s=i(1104);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("6360c8df",s,!0,{sourceMap:!1})},1062:function(e,t,i){var s=i(1110);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("eef2fbec",s,!0,{sourceMap:!1})},1063:function(e,t,i){var s=i(1112);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("058c8958",s,!0,{sourceMap:!1})},1074:function(e,t,i){"use strict";i.r(t);var s={props:{items:{type:Array,default:()=>[]},fetchPending:{type:Boolean,default:!1},pageSize:{type:Number,default:0},page:{type:Number,default:1},hasNextPage:{type:Boolean,default:!1}},methods:{canMoveRight(e){return!(this.items.findIndex((t=>t.videoUid===e.videoUid&&t.pictureUid===e.pictureUid))+1>=this.items.length)},canMoveLeft(e){return!(this.items.findIndex((t=>t.videoUid===e.videoUid&&t.pictureUid===e.pictureUid))<=0)}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"sx-media-min-content-height"},[t("sxc-media-infinite-scroll-wrapper",{attrs:{items:e.items,"get-key":e=>e.videoUid||e.pictureUid||e.productUid,"fetch-pending":e.fetchPending,"page-size":e.pageSize,"placeholders-count":e.pageSize,"transition-enabled":"","data-cy-id":"model-media-container"},on:{loadMore:function(t){return e.$emit("load-more")}},scopedSlots:e._u([{key:"default",fn:function(i){let{item:s}=i;return[t("div",{staticClass:"relative",on:{click:function(t){return e.$emit("select-media",s)}}},[e._t("default",null,{item:s}),e._v(" "),t("sxc-model-media-order-controls",{attrs:{pinned:s.isFixedPos,"can-move-left":e.canMoveLeft(s),"can-move-right":e.canMoveRight(s)},on:{"move-backward":function(t){return e.$emit("move-backward",s)},"move-forward":function(t){return e.$emit("move-forward",s)},"toggle-pin":function(t){return e.$emit("toggle-pin",s)}}})],2)]}},{key:"placeholder",fn:function(){return[t("sxc-square-placeholder")]},proxy:!0}],null,!0)})],1)}),[],!1,null,null,null);t.default=a.exports},1098:function(e,t,i){var s=i(1162);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("2ad219cb",s,!0,{sourceMap:!1})},1099:function(e,t,i){var s=i(1164);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("0c88ff00",s,!0,{sourceMap:!1})},1100:function(e,t,i){"use strict";i(1059)},1101:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.auth-form-title span[data-v-5fe9fa1e]{\n  white-space:nowrap\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1102:function(e,t,i){var s={"./ChangeEmail":[1021,16],"./ChangeEmail.vue":[1021,16],"./ChangeEmailModal":[1045,12],"./ChangeEmailModal.vue":[1045,12],"./ConfirmPassword":[1046,17],"./ConfirmPassword.vue":[1046,17],"./ConfirmPasswordModal":[1075,13],"./ConfirmPasswordModal.vue":[1075,13],"./blocked-accounts":[1076,18],"./blocked-accounts.vue":[1076,18],"./delete-account/DeleteAccount":[1082,10],"./delete-account/DeleteAccount.vue":[1082,10],"./delete-account/DeleteAccountForm":[1022,19],"./delete-account/DeleteAccountForm.vue":[1022,19],"./delete-account/DeleteAccountModal":[1047,14],"./delete-account/DeleteAccountModal.vue":[1047,14],"./delete-account/DeleteConfirmationModal":[1048,20],"./delete-account/DeleteConfirmationModal.vue":[1048,20],"./gender-preferences":[1077,21],"./gender-preferences.vue":[1077,21],"./geo-blocking/BlockedGeoListItem":[1083,22],"./geo-blocking/BlockedGeoListItem.vue":[1083,22],"./geo-blocking/BlockedListItem":[1084,23],"./geo-blocking/BlockedListItem.vue":[1084,23],"./geo-blocking/BlockedListPlaceholder":[1092,24],"./geo-blocking/BlockedListPlaceholder.vue":[1092,24],"./message-preferences":[1078,25],"./message-preferences.vue":[1078,25],"./notifications/CreatorNotifications":[1085,26],"./notifications/CreatorNotifications.vue":[1085,26],"./notifications/CreatorNotificationsListItem":[1086,27],"./notifications/CreatorNotificationsListItem.vue":[1086,27],"./notifications/CreatorNotificationsPlaceholder":[1093,28],"./notifications/CreatorNotificationsPlaceholder.vue":[1093,28],"./notifications/Notifications":[1087,29],"./notifications/Notifications.vue":[1087,29],"./password":[1079,30],"./password.vue":[1079,30],"./settingsMenu":[1080,31],"./settingsMenu.vue":[1080,31],"./two-factor/BulletMarker":[1050,9],"./two-factor/BulletMarker.vue":[1050,9],"./two-factor/ConfirmationModal":[1049,32],"./two-factor/ConfirmationModal.vue":[1049,32],"./two-factor/TwoFactor":[1088,15],"./two-factor/TwoFactor.vue":[1088,15],"./two-factor/TwoFactorAppSettings":[1089,8],"./two-factor/TwoFactorAppSettings.vue":[1089,8],"./username-email":[1081,11],"./username-email.vue":[1081,11]};function n(e){if(!i.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return i.e(t[1]).then((function(){return i(n)}))}n.keys=function(){return Object.keys(s)},n.id=1102,e.exports=n},1103:function(e,t,i){"use strict";i(1061)},1104:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.captcha[data-v-3de71cea]{\n  transform:scale(1.1)\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1105:function(e,t,i){var s=i(1167);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("6cfce607",s,!0,{sourceMap:!1})},1106:function(e,t,i){var s=i(1169);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("15c3b644",s,!0,{sourceMap:!1})},1107:function(e,t,i){var s=i(1171);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("d4f923fc",s,!0,{sourceMap:!1})},1108:function(e,t,i){var s=i(1173);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("7ebd0fc0",s,!0,{sourceMap:!1})},1109:function(e,t,i){"use strict";i(1062)},1110:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.flag[data-v-6fb4d5d2]{\n  max-width:100%;\n  background-size:100%;\n  background-image:url(/img/flags_sprite.png)\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1111:function(e,t,i){"use strict";i(1063)},1112:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.app-theme-dark .user-avatar[data-v-d2efd78a]:not(.no-bg){\n  background-color:#373737\n}\n.user-avatar[data-v-d2efd78a]:not(.no-bg){\n  background-color:#f2f2f2\n}\n.user-avatar--logged-in[data-v-d2efd78a]:not(.no-bg){\n  background-color:rgba(254,0,136,.10196078431372549)\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1140:function(e,t,i){"use strict";i.r(t);var s={props:{errorMessage:{type:String,default:""},data:{type:Object,default:()=>({})}},data(){return{email:this.data.email||"",password:this.data.password||""}},mounted(){setTimeout((()=>{this.$refs.emailInput.focus()}),300)},methods:{onSubmit(){return{email:this.email,password:this.password}},onSuccess(e){this.$emit("do-captcha",e)},onError(e){this.$showErrorMessage(e.localizedMessage)}}},n=(i(1100),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("div",{staticClass:"flex"},[t("span",{staticClass:"text-c-primary text-left cursor-pointer w-1/4",on:{click:function(t){return e.$emit("do-signup")}}},[e._v(e._s(e.$t("auth.join_text")))]),e._v(" "),t("h2",{staticClass:"text-2lg font-semibold leading-6 text-center w-1/2 mx-2"},[e._v("\n      "+e._s(e.$t("auth.signin_text"))+"\n    ")]),e._v(" "),t("div",{staticClass:"w-1/4"})]),e._v(" "),t("sxc-form-container",{ref:"loginForm",staticClass:"mt-5",attrs:{name:"loginForm","on-submit":e.onSubmit,"force-submit":""},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("auth.login_form.email_field"),rules:"required|email",mode:"eager",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0]}},[t("sx-input",{ref:"emailInput",attrs:{type:"email",autocomplete:"username",placeholder:e.$t("auth.login_form.email_field"),tabindex:1},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:e.$t("auth.login_form.password_field"),rules:"required",mode:"eager",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{wide:"",error:s[0]||e.errorMessage}},[t("sx-input",{attrs:{type:"password",autocomplete:"current-password",placeholder:e.$t("auth.login_form.password_field"),tabindex:2,"forgot-text":e.$t("sexui.input_password_forgot_text")},on:{forgot:function(t){return e.$emit("do-forgot")}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)]}}],null,!0)}),e._v(" "),t("sx-form-field",{attrs:{actions:""}},[t("sx-button",{attrs:{"data-cy-id":"login-button",block:"",tabindex:3,loading:s.submitting,disabled:s.validated&&!s.valid&&s.dirty}},[e._v("\n        "+e._s(e.$t("auth.login_form.ok_btn"))+"\n      ")])],1)]}}])})],1)}),[],!1,null,"5fe9fa1e",null);t.default=a.exports},1141:function(e,t,i){"use strict";i.r(t);var s=i(260),n={props:{errorMessage:{type:String,default:""},password:{type:String,default:""},changeEmailRequested:Boolean},data:()=>({email:"",forceSubmit:!1,inProgress:!1,i18nConstants:s.a}),mounted(){setTimeout((()=>{this.$refs.emailInput.focus()}),300)},computed:{goBackText(){return this.changeEmailRequested?this.$t("auth.back_text"):this.$t("auth.signin_text")},header(){return this.changeEmailRequested?this.$t("auth.email_form.title"):this.$t("auth.join_text")},emailValidationMode(){return this.email.length?"eager":"passive"}},methods:{goBack(){this.changeEmailRequested?this.$emit("email-changed"):this.$emit("do-login")},onSubmit(){return this.$api.users.exists({email:this.email})},async onSuccess(e){let{exists:t}=e;if(this.forceSubmit=!1,this.changeEmailRequested){if(t)return this.$showErrorMessage(this.$t("auth.email_form.error_msg")),void(this.forceSubmit=!0);let e=this.password;if(!this.password){this.inProgress=!0;const t=this.$isDesktop?this.$modal:this.$drawer,s=this.$isDesktop?"ConfirmPasswordModal":"ConfirmPassword",{status:n,password:a}=await new Promise((e=>{t.open({parent:this,props:{closeAfterConfirm:!0},events:{confirmed:t=>e({status:"confirmed",password:t})},component:()=>i(1102)("./".concat(s)),height:88},{close:()=>e({status:"closed"})})}));if("confirmed"!==n)return this.forceSubmit=!0,void(this.inProgress=!1);e=a}try{const{user:t}=await this.$api.users.update({email:this.email,oldPassword:e});await this.$store.dispatch("user/updateUser",t),this.$emit("email-changed",this.email)}catch(s){this.$showErrorMessage(s.localizedMessage),this.forceSubmit=!0}finally{this.inProgress=!1}}else this.$emit("continue",{email:this.email,exists:t})},onError(e){this.$showErrorMessage(e.localizedMessage)}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("div",{staticClass:"flex"},[t("span",{staticClass:"text-c-primary text-left cursor-pointer w-1/4",on:{click:e.goBack}},[e._v("\n      "+e._s(e.goBackText)+"\n    ")]),e._v(" "),t("h2",{staticClass:"text-2lg leading-6 mx-2 w-1/2 font-semibold text-center"},[e._v("\n      "+e._s(e.header)+"\n    ")]),e._v(" "),t("div",{staticClass:"w-1/4"})]),e._v(" "),t("sxc-form-container",{ref:"signupForm",staticClass:"mt-5",attrs:{"on-submit":e.onSubmit,"force-submit":e.forceSubmit,name:"signupForm"},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("auth.email_form.email_field"),rules:"required|email",mode:e.emailValidationMode,slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0]||e.errorMessage}},[t("sx-input",{ref:"emailInput",attrs:{type:"email",autocomplete:"username",placeholder:e.$t("auth.email_form.email_field"),tabindex:1},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]}}],null,!0)}),e._v(" "),t("p",{staticClass:"font-normal text-secondary mt-4 mb-5 text-sm"},[t("span",{domProps:{innerHTML:e._s(e.$t("auth.email_form.labels[0]",{siteName:e.i18nConstants.siteName}))}}),e._v(" "),t("b",[t("a",{attrs:{target:"_blank",href:"/legal/terms-of-service"}},[e._v("\n          "+e._s(e.$t("auth.email_form.terms_link"))+"\n        ")])]),e._v(" "+e._s(e.$t("auth.email_form.labels[1]",{siteName:e.i18nConstants.siteName}))+"\n      "),t("b",[t("a",{attrs:{target:"_blank",href:"/legal/privacy-policy"}},[e._v("\n          "+e._s(e.$t("auth.email_form.privacy_link"))+"\n        ")])])]),e._v(" "),t("sx-form-field",{attrs:{actions:""}},[t("sx-button",{attrs:{block:"","data-cy-id":"emailForm-next-button",tabindex:4,loading:s.submitting||e.inProgress,disabled:s.validated&&!s.valid}},[e._v("\n        "+e._s(e.$t("global.next"))+"\n      ")])],1)]}}])})],1)}),[],!1,null,null,null);t.default=r.exports},1142:function(e,t,i){"use strict";i.r(t);var s=i(263),n={props:{existingUser:{type:Boolean,required:!0},email:{type:String,required:!0}},data:()=>({password:""}),mounted(){setTimeout((()=>{this.$refs.passwordInput.focus()}),300)},computed:{passwordRules(){return this.existingUser?"required":"password|required"}},methods:{onSubmit(){return this.password},onSuccess(e){this.$emit("do-captcha",e)},onError(e){this.$showErrorMessage(e.localizedMessage)},checkPassword:e=>Object(s.a)(e)}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("div",{staticClass:"flex"},[t("h2",{staticClass:"text-2lg w-full font-semibold leading-6 text-center"},[e._v("\n      "+e._s(e.existingUser?e.$t("auth.password_form.titles[0]"):e.$t("auth.password_form.titles[1]"))+"\n    ")])]),e._v(" "),t("sxc-form-container",{ref:"loginForm",staticClass:"mt-5",attrs:{name:"loginForm","on-submit":e.onSubmit},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("sx-form-field",[t("sx-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{value:e.email,autocomplete:"username",type:"email"}})],1),e._v(" "),t("ValidationProvider",{attrs:{name:e.$t("auth.password_form.password_field"),rules:e.passwordRules,mode:"aggressive",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:n}=i;return[t("sx-form-field",{attrs:{error:n[0]},scopedSlots:e._u([{key:"helper",fn:function(){return[t("div",{class:{"text-secondary":e.existingUser||s.valid}},[e.existingUser?t("span",[e._v("\n              "+e._s(e.$t("auth.password_form.password_hints[0]"))+"\n            ")]):t("div",[t("div",{staticClass:"flex flex-row py-1 font-medium"},[e._v("\n                "+e._s(e.$t("auth.password_form.password_hints[1]"))+"\n              ")]),e._v(" "),t("div",{staticClass:"flex flex-row py-1"},[t("div",{staticClass:"mr-3"},[t("sx-icon",{class:e.password.length>=8?"text-green":"text-divider",attrs:{name:"CheckmarkCircle",height:"20"}})],1),e._v("\n                "+e._s(e.$t("auth.password_form.password_hints[2]"))+"\n              ")]),e._v(" "),t("div",{staticClass:"flex flex-row py-1"},[t("div",{staticClass:"mr-3"},[t("sx-icon",{class:e.checkPassword(e.password)?"text-green":"text-divider",attrs:{name:"CheckmarkCircle",height:"20"}})],1),e._v("\n                "+e._s(e.$t("auth.password_form.password_hints[3]"))+"\n              ")])])])]},proxy:!0}],null,!0)},[t("sx-input",{ref:"passwordInput",attrs:{type:"password",placeholder:e.$t("auth.password_form.password_field"),autocomplete:e.existingUser?"current-password":"new-password","show-forgot":e.existingUser,tabindex:1,"forgot-text":e.$t("sexui.input_password_forgot_text")},on:{forgot:function(t){return e.$emit("do-forgot")}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)]}}],null,!0)}),e._v(" "),t("sx-form-field",{ref:"nextButton",attrs:{actions:""}},[t("sx-button",{attrs:{"data-cy-id":"passwordForm-next-button",block:"",tabindex:3,loading:s.submitting,disabled:!s.validated||!s.valid}},[e._v("\n        "+e._s(e.$t("global.next"))+"\n      ")])],1)]}}])})],1)}),[],!1,null,null,null);t.default=r.exports},1143:function(e,t,i){"use strict";i.r(t);var s={mixins:[i(1060).a],data:()=>({email:"",submitted:!1,captchaToken:"",captchaEnabled:Boolean(Number(!0))}),mounted(){setTimeout((()=>{this.$refs.emailInput.focus()}),300)},methods:{onCaptchaError(e){throw e},onCaptchaSuccess(e){this.captchaToken=e},async onSubmit(){const e={email:this.email,fingerprintHash:this.fingerprintHash};if(this.captchaEnabled){try{this.captchaToken=await this.$recaptcha.getResponse()}catch(t){this.$showErrorMessage(t.localizedMessage),await this.$recaptcha.reset()}e.captchaToken=this.captchaToken}return this.$axios.$post("/users/resetPassword",e)},onSuccess(){this.submitted=!0},onError(e){this.$showErrorMessage(e.localizedMessage),this.captchaEnabled&&this.$recaptcha.reset()}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[e.submitted?t("div",[t("h2",{staticClass:"text-2lg font-extrabold leading-6 mr-6 text-center"},[e._v("\n      "+e._s(e.$t("auth.forgot_password_form.title"))+"\n    ")]),e._v(" "),t("p",{staticClass:"my-5 text-center",domProps:{innerHTML:e._s(e.$t("auth.forgot_password_form.hint",[e.email]))}}),e._v(" "),t("sx-button",{staticClass:"mt-3",attrs:{block:"","data-cy-id":"user-another-email-button"},on:{click:function(t){t.preventDefault(),e.submitted=!1}}},[e._v("\n      "+e._s(e.$t("auth.forgot_password_form.different_btn"))+"\n    ")])],1):[t("div",{staticClass:"flex"},[t("span",{staticClass:"text-c-primary w-1/4 text-left cursor-pointer",on:{click:function(t){return e.$emit("do-login")}}},[e._v(e._s(e.$t("auth.signin_text")))]),e._v(" "),t("h2",{staticClass:"text-2lg w-1/2 mx-2 font-semibold leading-6 text-center"},[e._v("\n        "+e._s(e.$t("auth.forgot_password_form.forgot_password_label"))+"\n      ")]),e._v(" "),t("div",{staticClass:"w-1/4"})]),e._v(" "),t("sxc-form-container",{staticClass:"mt-5",attrs:{"on-submit":e.onSubmit},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("auth.forgot_password_form.email_field"),rules:"required|email",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0]}},[t("sx-input",{ref:"emailInput",attrs:{type:"email",placeholder:e.$t("auth.forgot_password_form.email_field")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]}}],null,!0)}),e._v(" "),e.captchaEnabled?t("sx-form-field",[t("recaptcha",{attrs:{"data-theme":e.$theme.dark?"dark":"light"},on:{error:e.onCaptchaError,success:e.onCaptchaSuccess}})],1):e._e(),e._v(" "),t("sx-form-field",{attrs:{actions:""}},[t("sx-button",{attrs:{block:"",loading:s.submitting,disabled:e.captchaEnabled&&!e.captchaToken}},[e._v("\n          "+e._s(e.$t("auth.forgot_password_form.send_link_btn"))+"\n        ")])],1)]}}])})]],2)}),[],!1,null,null,null);t.default=a.exports},1144:function(e,t,i){"use strict";i.r(t);var s=i(1060),n=i(267),a=i(1029),r={mixins:[s.a,Object(n.b)(),a.a],props:{existingUser:{type:Boolean,required:!0},email:{type:String,required:!0},password:{type:String,required:!0}},data:()=>({loading:!1,captchaSolved:!1,captchaEnabled:Boolean(Number(!0))}),computed:{passwordRules(){return this.existingUser?"required":"required|min:8|max:20"}},methods:{onCaptchaError(e){throw e},onCaptchaSuccess(){this.captchaSolved=!0},async onSubmit(){const e={email:this.email,password:this.password,fingerprintHash:this.fingerprintHash},t=await this.generateRegistrationData();if(Object.assign(e,t),this.captchaEnabled){let t;try{t=await this.$recaptcha.getResponse()}catch(s){this.$showErrorMessage(s.localizedMessage),await this.$recaptcha.reset()}e.captchaToken=t}const i=this.existingUser?this.$api.users.login:this.$api.users.register;this.existingUser||(e.settings={lang:this.$i18n.locale});try{this.loading=!0;const t=await i(e);if(t.error&&"authenticatorTokenRequired"===t.error.code)return void this.$emit("two-factor",e.captchaToken);this.onSuccess(t)}catch(s){this.$showErrorMessage(s.localizedMessage),this.$logError(s),this.onError(s)}finally{this.loading=!1}},onSuccess(e){this.handleAuthResponse(e)&&(this.existingUser?this.$emit("logged-in"):this.$emit("registered"))},onError(e){this.$emit("error",e.localizedMessage),this.captchaEnabled&&this.$recaptcha.reset()}}},o=(i(1103),i(0)),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("div",{staticClass:"flex"},[t("h2",{staticClass:"text-2lg w-full font-semibold leading-6 text-center"},[e._v("\n      "+e._s(e.$t("auth.captcha_form.title"))+"\n    ")])]),e._v(" "),e.captchaEnabled?t("div",{staticClass:"flex justify-center my-6 min-h-20 captcha"},[t("recaptcha",{attrs:{"data-theme":e.$theme.dark?"dark":"light"},on:{error:e.onCaptchaError,success:e.onCaptchaSuccess}})],1):t("div",{staticClass:"bg-foreground-light my-6 min-h-20"}),e._v(" "),t("sx-button",{attrs:{"data-cy-id":"captchaForm-next-button",block:"",tabindex:3,loading:e.loading,disabled:e.captchaEnabled&&!e.captchaSolved},on:{click:e.onSubmit}},[e._v("\n    "+e._s(e.$t("global.next"))+"\n  ")])],1)}),[],!1,null,"3de71cea",null);t.default=l.exports},1145:function(e,t,i){"use strict";i.r(t);var s=i(491),n={data(){return{interestedError:null,username:"",exists:!1,checking:!1,gender:"man",checkbox:{men:!1,women:!0,other:!1},genderButtons:[{label:this.$t("settings.gender_preferences.i_am_radio.man"),value:"man"},{label:this.$t("settings.gender_preferences.i_am_radio.woman"),value:"woman"},{label:this.$t("settings.gender_preferences.i_am_radio.other"),value:"other"}]}},computed:{iconName(){return this.exists?"close":"CheckmarkCircle"},color(){return this.exists?"":"text-green"}},watch:{checkbox:{handler(e){Object.values(e).includes(!0)?this.interestedError=null:this.interestedError=this.$t("settings.gender_preferences.interested_in_checkbox.error")},deep:!0}},created(){this.username=this.$store.getters["user/getUserName"]||""},methods:{async onSubmit(){const e=[];this.checkbox.men&&e.push("man"),this.checkbox.women&&e.push("woman"),this.checkbox.other&&e.push("other");const t={username:this.username,profile:{gender:this.gender,interestedIn:e,displayName:this.username}},{user:i}=await this.$api.users.update(t);await this.$store.dispatch("user/updateUser",i)},onSuccess(){this.$emit("finish")},onError(e){this.$showErrorMessage(e.localizedMessage)},checkExists:i.n(s)()((async function(e){try{const{exists:t}=await this.$api.users.exists({username:e});this.exists=t}catch(t){this.$showErrorMessage(t.localizedMessage)}finally{this.checking=!1}}),1e3),async updateUsername(e){this.$nextTick((async()=>{const{valid:t}=await this.$refs.username.validateSilent();t&&(this.checking=!0,this.checkExists(e))}))}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("h2",{staticClass:"text-2lg w-full font-semibold leading-6 text-center"},[e._v("\n    "+e._s(e.$t("auth.step_one_form.title"))+"\n  ")]),e._v(" "),t("sxc-form-container",{staticClass:"mt-5",attrs:{"on-submit":e.onSubmit},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("sx-form-field",{attrs:{label:e.$t("settings.gender_preferences.i_am_radio.label")}},[t("ValidationProvider",{attrs:{name:"gender"}},[t("sx-radio-group",{staticClass:"sx-select",attrs:{"radio-buttons":""},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},e._l(e.genderButtons,(function(e,i){return t("sx-radio",{key:i,attrs:{color:"neutral",option:e}})})),1)],1)],1),e._v(" "),t("sx-form-field",{attrs:{label:e.$t("auth.step_one_form.interested_label"),error:e.interestedError}},[t("div",{staticClass:"flex"},[t("ValidationProvider",{attrs:{name:"men",slim:""}},[t("sx-checkbox",{attrs:{color:"neutral","is-button":!0},model:{value:e.checkbox.men,callback:function(t){e.$set(e.checkbox,"men",t)},expression:"checkbox.men"}},[e._v("\n            "+e._s(e.$t("settings.gender_preferences.interested_in_checkbox.men"))+"\n          ")])],1),e._v(" "),t("ValidationProvider",{attrs:{name:"women",slim:""}},[t("sx-checkbox",{attrs:{color:"neutral","is-button":!0},model:{value:e.checkbox.women,callback:function(t){e.$set(e.checkbox,"women",t)},expression:"checkbox.women"}},[e._v("\n            "+e._s(e.$t("settings.gender_preferences.interested_in_checkbox.women"))+"\n          ")])],1),e._v(" "),t("ValidationProvider",{attrs:{name:"other",slim:""}},[t("sx-checkbox",{attrs:{color:"neutral","is-button":!0},model:{value:e.checkbox.other,callback:function(t){e.$set(e.checkbox,"other",t)},expression:"checkbox.other"}},[e._v("\n            "+e._s(e.$t("settings.gender_preferences.interested_in_checkbox.other"))+"\n          ")])],1)],1),e._v(" "),t("div",{staticClass:"my-2 text-sm font-normal text-secondary"},[e._v("\n        "+e._s(e.$t("settings.gender_preferences.interested_in_checkbox.hint"))+"\n      ")])]),e._v(" "),t("ValidationProvider",{ref:"username",attrs:{name:e.$t("auth.step_one_form.username_field"),rules:"required|min:3|max:25|alpha_hyphen_underscore_dot|no_prefix_suffix_consecutive_hyphen_underscore_dot",mode:"aggressive",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{label:e.$t("auth.step_one_form.username_field"),error:s[0]}},[t("sx-input",{attrs:{placeholder:e.$t("auth.step_one_form.username_field"),tabindex:1},on:{input:e.updateUsername},scopedSlots:e._u([{key:"iconRight",fn:function(){return[e.checking?t("sx-spinner",{attrs:{color:"inversed",size:20}}):t("sx-icon",{class:e.color,attrs:{height:"20",name:e.iconName}})]},proxy:!0}],null,!0),model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)]}}],null,!0)}),e._v(" "),t("div",{staticClass:"mt-16"},[t("sx-form-field",[t("sx-button",{attrs:{block:"",tabindex:2,loading:s.submitting,disabled:!s.valid||e.exists||!!e.interestedError,"data-cy-id":"continue-button"}},[e._v("\n          "+e._s(e.$t("auth.step_one_form.ok_btn"))+"\n        ")])],1)],1)]}}])})],1)}),[],!1,null,null,null);t.default=r.exports},1150:function(e,t,i){"use strict";i.r(t);var s=i(128),n=i(84),a=i(1140),r=i(1141),o=i(1142),l=i(1143),c=i(1144),d=i(1145),u=i(1040),p={components:{LoginForm:a.default,EmailForm:r.default,ForgotPasswordForm:l.default,PasswordForm:o.default,StepOne:d.default,CaptchaForm:c.default,TwoFactorForm:u.default},props:{authState:{type:String,default:n.a.join,validator:e=>Object.values(n.a).includes(e)},showFirstStep:{type:Boolean,default:!0}},data(){return{visibleForm:this.authState,isExistingUser:!1,email:"",password:"",errorMessage:"",changeEmailRequested:!1,captchaToken:""}},computed:{...Object(s.b)({unverifiedEmail:"user/isEmailUnverified"}),showLogin(){return this.visibleForm===n.a.login},showTwoFactor(){return this.visibleForm===n.a.twoFactor},showSignup(){return this.visibleForm===n.a.join},showPassword(){return this.visibleForm===n.a.password},showStepOne(){return this.visibleForm===n.a.step1},showForgot(){return this.visibleForm===n.a.forgot},showCaptcha(){return this.visibleForm===n.a.captcha},showEmailVerification(){return this.visibleForm===n.a.emailVerification},states:()=>n.a},methods:{openTwoFactor(e){this.captchaToken=e,this.visibleForm=this.states.twoFactor},onAuth(){this.isExistingUser&&this.unverifiedEmail?this.changeState(n.a.emailVerification):(this.$emit("login"),this.$emit("close"))},onError(e){this.errorMessage=e,this.isExistingUser?this.changeState(n.a.login,!0):this.changeState(n.a.join,!0)},changeState(e,t){t||(this.errorMessage=""),this.visibleForm=e,this.$emit("change",e)},updateEmail(e){let{email:t,exists:i}=e;this.isExistingUser=i,this.email=t,this.changeState(n.a.password)},updatePassword(e){this.password=e,this.changeState(n.a.captcha)},updateUserData(e){this.email=e.email,this.password=e.password,this.isExistingUser=!0,this.changeState(n.a.captcha)},changeEmail(){this.changeEmailRequested=!0,this.changeState(n.a.join)},emailValidated(){this.isExistingUser||!this.showFirstStep?this.onAuth():this.changeState(n.a.step1)},onEmailChanged(e){this.email=e,this.changeState(n.a.emailVerification)}}},h=i(0),m=Object(h.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-5"},[e.showLogin?t("login-form",{attrs:{"error-message":e.errorMessage,data:{email:e.email,password:e.password}},on:{"logged-in":e.onAuth,"do-signup":function(t){return e.changeState(e.states.join)},"do-forgot":function(t){return e.changeState(e.states.forgot)},"do-captcha":e.updateUserData}}):e.showTwoFactor?t("two-factor-form",{attrs:{email:e.email,password:e.password,"captcha-token":e.captchaToken},on:{"logged-in":e.onAuth}}):e.showSignup?t("email-form",{attrs:{"error-message":e.errorMessage,password:e.password,"change-email-requested":e.changeEmailRequested},on:{"email-changed":e.onEmailChanged,"do-login":function(t){return e.changeState(e.states.login)},continue:e.updateEmail}}):e.showPassword?t("password-form",{attrs:{"existing-user":e.isExistingUser,email:e.email},on:{"do-forgot":function(t){return e.changeState(e.states.forgot)},"do-captcha":e.updatePassword}}):e.showCaptcha?t("captcha-form",{attrs:{email:e.email,password:e.password,"existing-user":e.isExistingUser},on:{"logged-in":e.onAuth,error:e.onError,registered:function(t){return e.changeState(e.states.emailVerification)},"two-factor":e.openTwoFactor}}):e.showEmailVerification?t("sxc-email-verification-form",{attrs:{email:e.email},on:{validated:e.emailValidated,"change-email":e.changeEmail}}):e.showForgot?t("forgot-password-form",{on:{"do-login":function(t){return e.changeState(e.states.login)}}}):e.showStepOne?t("step-one",{on:{finish:e.onAuth}}):e._e()],1)}),[],!1,null,null,null);t.default=m.exports},1152:function(e,t,i){"use strict";i.r(t);var s=i(84),n=i(1023),a={name:"CommentAddNew",inject:["feedName"],props:{username:{type:String,default:""},addComment:{type:Function,required:!0},isReply:{type:Boolean,default:!1},showAvatar:{type:Boolean,default:!1}},data:()=>({AUTH_STATE:s.a,showSendButton:!1,inputValue:"",sendingComment:!1,replyToCommentUid:null,height:null,isIos15:Object(n.b)()}),computed:{heightStyle(){return this.height?{height:this.height}:null},profile(){return this.$store.getters["user/getProfile"]},notEmpty(){return this.inputValue&&this.inputValue.trim()},isLoggedIn(){return this.$store.getters["auth/isLoggedIn"]},unconfirmedEmail(){return this.$store.getters["user/isEmailUnverified"]}},methods:{replyToComment(e){this.inputValue=e?"@".concat(e.user.username," "):"",this.replyToCommentUid=e?e.parentCommentUid||e.commentUid:null,this.$nextTick((()=>{this.inputValue&&(this.$refs.textarea.focus(),this.$refs.textarea.setCursor(this.inputValue.length),this.$refs.textarea.updateHeight())}))},onSubmit(){return this.inputValue&&this.inputValue.trim()?this.addComment(this.inputValue,this.replyToCommentUid):null},onSuccess(){this.inputValue="",this.$nextTick((()=>{this.$refs.form.reset(),this.$refs.textarea.updateHeight(),this.replyToCommentUid=null,this.$emit("hide-reply")}))},onError(e){this.$showErrorMessage(null==e?void 0:e.localizedMessage)},openLoginPanel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a.join;this.$auth({state:e})},onFocus(){this.showSendButton=!0},onBlur(){setTimeout((()=>{this.showSendButton=!1}))},onEnter(e){this.$isMobile||this.$refs.form.submitting||(e.preventDefault(),this.$refs.form.submit())},onInvalidValue(){this.$showErrorMessage(this.$refs.commentValidator.errors[0])}}},r=a,o=(i(1166),i(0)),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.isLoggedIn&&!e.unconfirmedEmail?t("sxc-form-container",{ref:"form",staticClass:"w-full flex relative border-divider",class:{"border-t":!e.isReply},style:e.heightStyle,attrs:{"on-submit":e.onSubmit},on:{invalidValue:e.onInvalidValue,onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("span",[e.isReply?t("sxc-avatar",{staticClass:"self-top mr-2",attrs:{avatar:e.profile.avatar,name:e.profile.displayName,size:20}}):e._e()],1),e._v(" "),t("ValidationProvider",{ref:"commentValidator",staticClass:"relative",attrs:{mode:"aggressive",rules:"required|min:1|max:300",name:e.$t("comments.add_new.label"),slim:""}},[t("sx-input",{ref:"textarea",staticClass:"comment-box drawer-scroll",class:{"new-comment":!e.isReply},attrs:{type:"textarea",resizable:!e.isReply,"icon-top":e.isIos15,"max-height":"100",placeholder:e.$t("comments.add_new.placeholder"),readonly:s.submitting,bordered:!e.isReply,ghost:!e.isReply,rounded:""},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.onEnter.apply(null,arguments)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation()}],focus:e.onFocus,blur:e.onBlur},scopedSlots:e._u([e.isReply?null:{key:"iconLeft",fn:function(){return[t("sxc-avatar",{staticStyle:{"margin-left":"-5px"},attrs:{avatar:e.profile.avatar,name:e.profile.displayName,align:e.isIos15?"start":"end",size:24}})]},proxy:!0},{key:"iconRight",fn:function(){return[t("sx-spinner",{directives:[{name:"show",rawName:"v-show",value:s.submitting,expression:"formInfo.submitting"}],class:{"self-end mb-2":e.isReply},attrs:{color:e.isReply?"primary":"neutral",size:20}}),e._v(" "),s.submitting?e._e():t("sx-icon",{staticClass:"text-c-primary cursor-pointer",class:{"self-end mb-2.5":e.isReply},attrs:{height:e.isReply?"18":"24",name:"airplane"},on:{click:function(t){return e.$refs.form.submit()}}})]},proxy:!0}],null,!0),model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)]}}],null,!1,3665018219)}):e.isLoggedIn?t("div",{staticClass:"border-solid border-t border-divider px-4 py-3",attrs:{"data-cy-id":"unconfirmed-users-comment-flag"}},[t("span",{staticClass:"font-medium text-c-primary cursor-pointer",on:{click:function(t){return e.openLoginPanel(e.AUTH_STATE.emailVerification)}}},[e._v("\n    "+e._s(e.$t("comments.add_new.email_warning[0]"))+"\n  ")]),e._v("\n   "+e._s(e.$t("comments.add_new.email_warning[1]"))+"\n")]):t("div",{staticClass:"border-solid border-t border-divider px-4 py-3"},[t("span",{staticClass:"font-medium text-c-primary cursor-pointer",on:{click:function(t){return e.openLoginPanel(e.AUTH_STATE.login)}}},[e._v("\n    "+e._s(e.$t("auth.signin_text"))+"\n  ")]),e._v("\n   "+e._s(e.$t("comments.add_new.please_login[0]"))+" \n  "),t("span",{staticClass:"font-medium text-c-primary cursor-pointer",on:{click:function(t){return e.openLoginPanel()}}},[e._v("\n    "+e._s(e.$t("comments.add_new.please_login[1]"))+"\n  ")]),e._v("\n   "+e._s(e.$t("comments.add_new.please_login[2]"))+"\n")])}),[],!1,null,"4538579e",null);t.default=l.exports},1153:function(e,t,i){"use strict";i.r(t);const s=["en","es","pt","fr","de","it","nl","fi","no"];var n={props:{lang:{type:String,default:"us",validate:e=>s.includes(e)}},computed:{flagStyle(){return{backgroundPosition:"0 ".concat(12.5*s.indexOf(this.lang),"%")}}}},a=(i(1109),i(0)),r=Object(a.a)(n,(function(){return(0,this._self._c)("img",{staticClass:"flag",style:this.flagStyle,attrs:{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA0AQMAAAAnui2iAAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAAA9JREFUeNpjYBgFo4A8AAACPAAB+a35CQAAAABJRU5ErkJggg=="}})}),[],!1,null,"6fb4d5d2",null);t.default=r.exports},1154:function(e,t,i){"use strict";i.r(t);var s=i(128),n={computed:{...Object(s.b)({isLoggedIn:"auth/isLoggedIn",profile:"user/getProfile"}),hasAvatar(){return this.isLoggedIn&&this.profile.avatar}}},a=(i(1111),i(0)),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("a",{staticClass:"user-avatar rounded-full flex items-center justify-center",class:{"user-avatar--logged-in text-c-primary transparent":e.isLoggedIn,"border-2 border-c-primary":e.hasAvatar,"w-10 h-10":e.$isDesktop,"w-8 h-8 no-bg":e.$isMobile},on:{click:function(t){return e.$emit("avatar-click")}}},[e.hasAvatar?t("sxc-avatar",{attrs:{avatar:e.profile.avatar,name:e.profile.displayName,title:"Account",size:e.$isDesktop?32:26,"data-cy-id":"LoggedInIcon"}}):t("sx-icon",{attrs:{name:"user",height:e.$isDesktop?24:32}})],1)}),[],!1,null,"d2efd78a",null);t.default=r.exports},1155:function(e,t,i){"use strict";i.r(t);var s={components:{ModelMediaList:i(1146).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("model-media-list",e._g(e._b({scopedSlots:e._u([{key:"default",fn:function(e){let{item:i}=e;return[i.videoUid?t("sxc-video-square-item",{attrs:{video:i,"owner-view":"","skip-status-check":""}}):t("sxc-photo-square-item",{attrs:{picture:i,"owner-view":"","skip-status-check":""}})]}}])},"model-media-list",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1161:function(e,t,i){"use strict";i(1098)},1162:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.actions-option[data-v-43ce8618]{\n  min-height:4rem;\n  border-bottom-width:1px;\n  border-color:var(--color-divider);\n  font-weight:500\n}\n.actions-option[data-v-43ce8618]:hover{\n  opacity:.8\n}\n.actions-option[data-v-43ce8618]:last-child{\n  border-width:0px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1163:function(e,t,i){"use strict";i(1099)},1164:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.message-text[data-v-4d2a7784]{\n  display:flex;\n  min-height:4rem;\n  align-items:center;\n  justify-content:center;\n  font-weight:500\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1165:function(e,t,i){"use strict";t.a={computed:{showVerificationPictureStatus(){return this.isUploadOrAccountPage&&this.verificationPictureStatus},verificationPictureStatus(){return this.$store.getters["user/verificationPictureStatus"]},showVerificationBanner(){return this.$store.state.kyc.showBanner&&"index-earn-become-a-creator"!==this.$route.name},isUploadOrAccountPage(){return/^(desktop|mobile)-(account|upload)$/.test(this.$route.name)},showNotActiveBanner(){return this.$store.getters["user/isNotActive"]&&this.isUploadOrAccountPage}}}},1166:function(e,t,i){"use strict";i(1105)},1167:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.comment-box[data-v-4538579e]{\n  min-height:54px\n}\n.comment-box[data-v-4538579e]:not(.new-comment){\n  height:72px\n}\n.comment-box[data-v-4538579e]:not(.new-comment) .control .input-icon--right{\n  padding-right:9px\n}\n.comment-box[data-v-4538579e]:not(.new-comment) .control textarea{\n  padding-top:0;\n  padding-bottom:0;\n  border-top:9px solid transparent;\n  border-bottom:9px solid transparent;\n  overflow:hidden\n}\n.comment-box.new-comment[data-v-4538579e] .control textarea{\n  padding-left:50px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1168:function(e,t,i){"use strict";i(1106)},1169:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.warning-text[data-v-0da1cfbe]{\n  font-size:1.25rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1170:function(e,t,i){"use strict";i(1107)},1171:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\nvideo[data-v-552b8103]::-webkit-media-controls-fullscreen-button{\n  display:none\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1172:function(e,t,i){"use strict";i(1108)},1173:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.avatar[data-v-47e21d75]{\n  height:30px;\n  width:30px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1242:function(e,t,i){"use strict";i.r(t);var s={name:"CommentsList",props:{items:{type:Array,required:!0},hasNextPage:{type:Boolean,default:!1},addComment:{type:Function,required:!0},fetchPending:{type:Boolean,default:!1},pageSize:{type:Number,default:5},modelUid:{type:String,required:!0}},methods:{loadMore(){this.hasNextPage&&this.$emit("load-more-comments")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sxc-infinite-scroll-wrapper",{ref:"wrapper",attrs:{items:e.items,"get-key":e=>e.commentUid,"fetch-pending":e.fetchPending,"page-size":e.pageSize,"wrapper-class":"flex mx-3 flex-col py-2"},on:{loadMore:e.loadMore},scopedSlots:e._u([{key:"default",fn:function(i){let{item:s}=i;return[t("sxc-comment-list-item",e._g({attrs:{item:s,primary:s.user.userUid===e.modelUid,"model-uid":e.modelUid,"add-comment":e.addComment}},e.$listeners))]}},{key:"placeholder",fn:function(){return[t("sxc-comments-list-item-placeholder")]},proxy:!0}])})}),[],!1,null,null,null);t.default=a.exports},1243:function(e,t,i){"use strict";i.r(t);var s=i(1033);var n={props:{idx:{type:Number,required:!0},autoplay:{type:Boolean,default:!1},item:{type:Object,default:()=>null},videoClass:{type:String,default:""}},data:()=>({inFullscreen:!1,leftFullscreen:!1,muted:!0}),mounted(){const{video:e}=this.$refs;e.addEventListener("canplay",this.onCanPlay),e.addEventListener("canplaythrough",this.onCanPlayThrough),e.addEventListener("loadeddata",this.onLoadedData),e.addEventListener("play",this.onPlay),e.addEventListener("pause",this.onPause),e.addEventListener("waiting",this.onWaiting),e.addEventListener("playing",this.onPlaying),e.addEventListener("webkitendfullscreen",this.onEndFullscreenIos),document.addEventListener("visibilitychange",this.onTabVisibilityChange)},async beforeDestroy(){const{video:e}=this.$refs;e.removeEventListener("canplay",this.onCanPlay),e.removeEventListener("canplaythrough",this.onCanPlayThrough),e.removeEventListener("loadeddata",this.onLoadedData),e.removeEventListener("play",this.onPlay),e.removeEventListener("pause",this.onPause),e.removeEventListener("waiting",this.onWaiting),e.removeEventListener("playing",this.onPlaying),e.removeEventListener("webkitendfullscreen",this.onEndFullscreenIos),document.removeEventListener("visibilitychange",this.onTabVisibilityChange),e.pause(),e.removeAttribute("src"),e.load()},computed:{classes(){return{[this.videoClass]:!0}},source(){const e=e=>"".concat(e.fullPath,"#t=0.01"),{item:t}=this,i=t.sources.find((e=>"FullVideo-1080p-normal"===e.quality));if(i)return e(i);const s=t.sources.find((e=>"FullVideo-1080p-blurred"===e.quality));return s?e(s):null}},methods:{async allowPlay(){this.muted=!1},onEndFullscreenIos(){this.inFullscreen=!1,this.leftFullscreen=!0},async play(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{video:t}=this.$refs;this.muted=!1,(e||this.autoplay)&&await t.play()},async pause(){const{video:e}=this.$refs;e.pause()},toFullScreen(){Object(s.a)(this.$refs.video),this.inFullscreen=!0},exitFullscreen(){Object(s.b)(),this.inFullscreen=!1},async toggle(){const{video:e}=this.$refs;e.paused?(this.$emit("autoplay-changed",!0),await this.play(!0)):(this.$emit("autoplay-changed",!1),await this.pause())},onPlay(){this.$emit("play"),this.inFullscreen&&this.$emit("autoplay-changed",!0)},async onPause(){this.$emit("pause"),this.leftFullscreen&&(this.leftFullscreen=!1,await this.play()),this.inFullscreen&&this.$emit("autoplay-changed",!1)},onWaiting(){this.$emit("waiting")},onPlaying(){this.$emit("playing")},onCanPlay(){this.$emit("canplay")},onCanPlayThrough(){this.$emit("canplaythrough")},onLoadedData(){this.$emit("loadeddata"),this.$emit("show-video")},onTabVisibilityChange(){"hidden"===document.visibilityState&&(this.$refs.video.paused||(this.pause(),document.addEventListener("visibilitychange",(()=>this.play()),{once:!0})))}}},a=n,r=i(0),o=Object(r.a)(a,(function(){var e=this;return(0,e._self._c)("video",{ref:"video",staticClass:"w-full h-full",class:e.classes,attrs:{src:e.source,loop:"",playsinline:"","webkit-playsinline":"",oncontextmenu:"return false;",controlsList:"nodownload"},domProps:{muted:e.muted},on:{click:function(e){e.stopPropagation()}}})}),[],!1,null,null,null);t.default=o.exports},1244:function(e,t,i){"use strict";i.r(t);var s=i(1033),n={props:{idx:{type:Number,required:!0},autoplay:{type:Boolean,default:!1},item:{type:Object,default:()=>null},videoClass:{type:String,default:""}},data:()=>({canPlay:!1,needToPlayAfterReady:!1,ready:!1,loaded:!1,inFullscreen:!1}),watch:{item(){this.changeVideo()}},mounted(){const{video:e}=this.$refs;e.addEventListener("canplay",this.onCanPlay),e.addEventListener("play",this.onPlay),e.addEventListener("pause",this.onPause),e.addEventListener("waiting",this.onWaiting),e.addEventListener("playing",this.onPlaying),e.addEventListener("canplaythrough",this.onCanPlayThrough),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),document.addEventListener("mozfullscreenchange",this.onFullscreenChange,!1),document.addEventListener("MSFullscreenChange",this.onFullscreenChange,!1),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange,!1),document.addEventListener("visibilitychange",this.onTabVisibilityChange),this.changeVideo()},async beforeDestroy(){const{video:e}=this.$refs;e.removeEventListener("canplay",this.onCanPlay),e.removeEventListener("play",this.onPlay),e.removeEventListener("pause",this.onPause),e.removeEventListener("waiting",this.onWaiting),e.removeEventListener("playing",this.onPlaying),e.removeEventListener("canplaythrough",this.onCanPlayThrough),document.removeEventListener("fullscreenchange",this.onFullscreenChange,!1),document.removeEventListener("mozfullscreenchange",this.onFullscreenChange,!1),document.removeEventListener("MSFullscreenChange",this.onFullscreenChange,!1),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChange,!1),document.removeEventListener("visibilitychange",this.onTabVisibilityChange)},methods:{onFullscreenChange(){this.inFullscreen=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},async changeVideo(){const{item:e}=this,t=e.sources.find((e=>"FullVideo-1080p-normal"===e.quality));if(t)return void(await this.changeSource(t));const i=e.sources.find((e=>"FullVideo-1080p-blurred"===e.quality));if(i)return void(await this.changeSource(i));const s=e.sources.find((e=>"Original"===e.quality));s&&await this.changeSource(s)},async changeSource(e){const{video:t}=this.$refs;let i=!1;t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2&&(i=!0),t.src="".concat(e.fullPath),i&&this.play()},async play(){try{const{video:t}=this.$refs;if(this.autoplay)try{if(!this.canPlay)return void(this.needToPlayAfterReady=!0);await t.play()}catch(e){this.$logError(e)}}catch(e){this.$logError(e)}},exitFullscreen(){Object(s.b)(),this.inFullscreen=!1},toFullScreen(){Object(s.a)(this.$refs.videoContainer,{navigationUI:"hide"}),this.inFullscreen=!0},async pause(){const{video:e}=this.$refs;e.pause(),this.needToPlayAfterReady=!1},async toggle(){const{video:e}=this.$refs;if(e.paused){this.$emit("autoplay-changed",!0);try{if(!this.canPlay)return void(this.needToPlayAfterReady=!0);await e.play()}catch(t){this.$logError(t)}}else this.$emit("autoplay-changed",!1),e.pause(),this.needToPlayAfterReady=!1},onCanPlay(){this.canPlay=!0,this.needToPlayAfterReady&&(this.play(),this.needToPlayAfterReady=!1),this.$emit("canplay")},onPlay(){this.$emit("play"),this.inFullscreen&&this.$emit("autoplay-changed",!0)},onPause(){this.$emit("pause"),this.inFullscreen&&this.$emit("autoplay-changed",!1)},onWaiting(){this.$emit("waiting")},onPlaying(){this.$emit("playing")},onCanPlayThrough(){this.$emit("canplaythrough")},onTabVisibilityChange(){"hidden"===document.visibilityState&&(this.$refs.video.paused||(this.pause(),document.addEventListener("visibilitychange",(()=>this.play()),{once:!0})))}}},a=(i(1170),i(0)),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{ref:"videoContainer",staticClass:"absolute w-full h-full top-0 left-0",on:{click:function(e){e.stopPropagation()},touchstart:function(e){e.stopPropagation()},touchmove:function(e){e.stopPropagation()}}},[t("video",{ref:"video",staticClass:"w-full h-full",class:e.videoClass,attrs:{loop:"",playsinline:"","webkit-playsinline":"",oncontextmenu:"return false;",controlsList:"nodownload nofullscreen",disablePictureInPicture:"",controls:e.inFullscreen}}),e._v(" "),e.inFullscreen?t("div",{staticClass:"absolute z-10 top-0 right-0 p-4",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.exitFullscreen.apply(null,arguments)}}},[t("sx-icon",{staticClass:"cursor-pointer opacity-70 text-white",attrs:{name:"ExitFullScreen",title:"Fullscreen",height:"30"}})],1):e._e()])}),[],!1,null,"552b8103",null);t.default=r.exports},1245:function(e,t,i){"use strict";i.r(t);var s={props:{canStopLive:Boolean},methods:{onStopClick(){this.$emit("stop"),this.$emit("close")},onTipClick(){this.$emit("tip"),this.$emit("close")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full flex-col flex"},[t("div",{staticClass:"flex p-4 border-b border-divider"},[t("div",{staticClass:"w-1/4"}),e._v(" "),t("h2",{staticClass:"text-2lg font-semibold leading-6 text-center w-1/2 mx-2"},[e._v("\n      "+e._s(e.$t("user_menu.options.settings"))+"\n    ")]),e._v(" "),t("div",{staticClass:"w-1/4"})]),e._v(" "),t("div",{staticClass:"flex p-4 flex-1 items-center justify-center"},[t("div",{staticClass:"w-full"},[t("sx-button",{staticClass:"w-full mt-3 stop-button",class:{"mb-5":e.canStopLive},attrs:{size:"R",color:"neutral"},on:{click:e.onTipClick}},[e._v("\n        "+e._s(e.$t("live.tip_menu_show_btn"))+"\n      ")]),e._v(" "),e.canStopLive?t("sx-button",{staticClass:"w-full stop-button",attrs:{size:"R",color:"red"},on:{click:e.onStopClick}},[t("sx-icon",{staticClass:"mr-1",attrs:{name:"VideoCameraOff",height:"20"}}),e._v(" "+e._s(e.$t("live.stop_streaming"))+"\n      ")],1):e._e()],1)])])}),[],!1,null,null,null);t.default=a.exports},1249:function(e,t,i){"use strict";i.r(t);var s={props:{items:{type:Array,default:()=>[]},fetchPending:{type:Boolean,default:!1},pageSize:{type:Number,default:0},page:{type:Number,default:1},hasNextPage:{type:Boolean,default:!1}},methods:{canMoveRight(e){const t=this.items.findIndex((t=>t.productUid===e.productUid));return!(!this.items[t+1]||this.items[t+1].type!==e.type)},canMoveLeft(e){const t=this.items.findIndex((t=>t.productUid===e.productUid));return!(!this.items[t-1]||this.items[t-1].type!==e.type)},canBePinned:e=>"chatRequest"!==e.type&&"shop"===e.visibility,pinned:e=>"chatRequest"!==e.type&&(e.product&&e.product.isFixedPos)}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"sx-media-min-content-height"},[t("sxc-media-infinite-scroll-wrapper",{attrs:{items:e.items,"get-key":e=>e.productUid,"fetch-pending":e.fetchPending,"page-size":e.pageSize,"placeholders-count":e.pageSize,"transition-enabled":"","data-cy-id":"model-product-container"},on:{loadMore:function(t){return e.$emit("load-more")}},scopedSlots:e._u([{key:"default",fn:function(i){let{item:s}=i;return[t("div",{staticClass:"relative",on:{click:function(t){return e.$emit("select-media",s)}}},[e._t("default",null,{item:s}),e._v(" "),t("sxc-model-media-order-controls",{attrs:{pinned:e.pinned(s),"can-be-pinned":e.canBePinned(s),"can-move-left":e.canMoveLeft(s),"can-move-right":e.canMoveRight(s)},on:{"move-backward":function(t){return e.$emit("move-backward",s)},"move-forward":function(t){return e.$emit("move-forward",s)},"toggle-pin":function(t){return e.$emit("toggle-pin",s)}}})],2)]}},{key:"placeholder",fn:function(){return[t("sxc-square-placeholder")]},proxy:!0}],null,!0)})],1)}),[],!1,null,null,null);t.default=a.exports},1267:function(e,t,i){var s=i(1450);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("428acd28",s,!0,{sourceMap:!1})},1268:function(e,t,i){var s=i(1452);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("483f5824",s,!0,{sourceMap:!1})},1269:function(e,t,i){var s=i(1454);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("27bf20dd",s,!0,{sourceMap:!1})},1270:function(e,t,i){var s=i(1456);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("3acdd555",s,!0,{sourceMap:!1})},1271:function(e,t,i){var s=i(1458);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("0f8ec074",s,!0,{sourceMap:!1})},1272:function(e,t,i){var s=i(1460);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("45ff5d92",s,!0,{sourceMap:!1})},1273:function(e,t,i){var s=i(1462);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("1f0ac09c",s,!0,{sourceMap:!1})},1274:function(e,t,i){var s=i(1464);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("2c2a8b68",s,!0,{sourceMap:!1})},1275:function(e,t,i){var s=i(1466);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("290df30f",s,!0,{sourceMap:!1})},1276:function(e,t,i){var s=i(1468);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("76059874",s,!0,{sourceMap:!1})},1277:function(e,t,i){var s=i(1470);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("2788df8e",s,!0,{sourceMap:!1})},1278:function(e,t,i){var s=i(1472);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("7c191bd8",s,!0,{sourceMap:!1})},1279:function(e,t,i){var s=i(1474);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("02de2ec4",s,!0,{sourceMap:!1})},1280:function(e,t,i){var s=i(1476);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("255e623e",s,!0,{sourceMap:!1})},1281:function(e,t,i){var s=i(1478);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("a91e6178",s,!0,{sourceMap:!1})},1282:function(e,t,i){var s=i(1480);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("27c6e8dc",s,!0,{sourceMap:!1})},1283:function(e,t,i){var s=i(1482);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("2d3b961b",s,!0,{sourceMap:!1})},1285:function(e,t,i){var s=i(1484);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("87dd5806",s,!0,{sourceMap:!1})},1286:function(e,t,i){var s=i(1486);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("2b6d2e50",s,!0,{sourceMap:!1})},1287:function(e,t,i){var s=i(1488);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("63e2a447",s,!0,{sourceMap:!1})},1288:function(e,t,i){var s=i(1490);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("c92210e8",s,!0,{sourceMap:!1})},1289:function(e,t,i){var s=i(1492);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("e39b37d8",s,!0,{sourceMap:!1})},1290:function(e,t,i){var s=i(1494);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("885db4c4",s,!0,{sourceMap:!1})},1292:function(e,t,i){var s=i(1498);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("149416e6",s,!0,{sourceMap:!1})},1295:function(e,t,i){var s=i(1504);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("64751667",s,!0,{sourceMap:!1})},1296:function(e,t,i){var s=i(1506);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("056dcb25",s,!0,{sourceMap:!1})},1298:function(e,t,i){"use strict";var s=i(1018);t.a={activated(){this.open&&this.shouldScroll&&this.$el.isConnected&&this.scrollToTop()},mounted(){this.open&&this.shouldScroll&&this.$el.isConnected&&this.scrollToTop()},methods:{scrollToTop(){const e=this.$el.closest('[data-anchor="main-container"]');if(!e)return;const{top:t}=this.$el.getBoundingClientRect(),i=this.$isMobile?0:70;Object(s.a)(e,t-i,100)}}}},1299:function(e,t,i){var s=i(1510);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("3fc94b3a",s,!0,{sourceMap:!1})},1300:function(e,t,i){var s=i(1512);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("47d1f392",s,!0,{sourceMap:!1})},1303:function(e,t,i){var s=i(1523);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("dd873de6",s,!0,{sourceMap:!1})},1306:function(e,t,i){var s=i(1529);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("9b5785ce",s,!0,{sourceMap:!1})},1307:function(e,t,i){var s=i(1531);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(8).default)("6e8182e2",s,!0,{sourceMap:!1})},1423:function(e,t,i){"use strict";i.r(t);var s={components:{ValidationObserver:i(15).a},props:{onSubmit:{type:Function,required:!0},forceSubmit:{type:Boolean,default:!1}},data:()=>({submitting:!1}),methods:{reset(){this.$refs.form.reset(),this.submitting=!1},validate(){return this.$refs.form.validate()},keydown(e){"Enter"===e.key&&e.target.hasAttribute("prevent-submit")&&(e.stopPropagation(),e.preventDefault())},async submit(e){this.$emit("submit");if(!(await this.$refs.form.validate()))return this.$emit("invalidValue"),!1;if(!this.$refs.form.flags.changed&&!this.forceSubmit)return this.$emit("onSuccess");try{this.submitting=!0;const t=await this.onSubmit(e);this.$emit("onSuccess",t),this.reset()}catch(t){this.$emit("onError",t)}return this.submitting=!1,!1}}},n=i(0),a=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("ValidationObserver",{ref:"form",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)},keydown:e.keydown},scopedSlots:e._u([{key:"default",fn:function(t){let{valid:i,dirty:s,validated:n,pending:a}=t;return[e._t("default",null,{formInfo:{valid:i,dirty:s,validated:n,pending:a,submitting:e.submitting}})]}}],null,!0)})}),[],!1,null,null,null);t.default=a.exports},1424:function(e,t,i){"use strict";i.r(t);var s=i(999),n=i(1e3),a=i(1024),r={components:{MediaPremieresLabel:i(1425).default},props:{media:{type:Object,required:!0},ownerView:{type:Boolean,default:!1},freeUserView:{type:Boolean,default:!1}},computed:{showPremieresLabel(){return Object(s.a)(Object(n.a)(this.media.publishAt))},showSubscribersLabel(){return this.media.subscriptionRequired||this.ownerView&&this.media.visibility===a.a.subscribers||this.freeUserView&&this.media.visibility===a.a.subscribers}}},o=i(0),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute w-full h-full flex items-center justify-center text-center",class:{"bg-opacity-3":e.ownerView||e.showPremieresLabel}},[e.showPremieresLabel?t("media-premieres-label",{attrs:{media:e.media,"owner-view":e.ownerView}}):e.showSubscribersLabel?t("sx-icon",{staticClass:"text-white",attrs:{name:"LockNew",height:"30"}}):e._e()],1)}),[],!1,null,null,null);t.default=l.exports},1426:function(e,t,i){"use strict";i.r(t);var s=i(999),n=i(1e3),a=i(1025),r=i(1024),o={props:{media:{type:Object,required:!0},ownerView:{type:Boolean,default:!1}},computed:{showVideoDuration(){return this.media.mediaType===a.a.video},videoDuration(){return this.media.originalVideoDuration},isScheduled(){return Object(s.a)(Object(n.a)(this.media.publishAt))},showViewsCount(){return this.media.viewsCount>0&&!this.isScheduled&&(this.media.visibility===r.a.public||this.ownerView)},showHiddenLabel(){return this.ownerView&&this.media.visibility===r.a.public&&!this.media.showsInFeed},showViewsInfo(){return this.showViewsCount||this.showHiddenLabel}}},l=(i(1503),i(0)),c=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute h-full w-full"},[e.showVideoDuration?t("div",{staticClass:"absolute z-20 bottom-1 left-1 text-white"},[t("span",{staticClass:"info-label"},[e._v("\n      "+e._s(e._f("mediaDuration")(e.videoDuration))+"\n    ")])]):e._e(),e._v(" "),e.showViewsInfo?t("div",{staticClass:"absolute z-20 bottom-1 right-1 text-white"},[t("span",{staticClass:"info-label"},[e.showHiddenLabel?[t("sx-icon",{attrs:{name:"EyeBoldHidden",height:"16"}})]:e.showViewsCount?[t("sx-icon",{attrs:{name:"EyeBold",height:"16"}}),e._v(" "),t("span",{staticClass:"ml-0.5"},[e._v("\n          "+e._s(e._f("formatNumber")(e.media.viewsCount))+"\n        ")])]:e._e()],2)]):e._e()])}),[],!1,null,"7dba22c6",null);t.default=c.exports},1428:function(e,t,i){"use strict";i.r(t);var s={props:{showCookiesConsent:{type:Boolean,default:!1},showAgeVerification:{type:Boolean,default:!1}},methods:{async agree(){this.$emit("ok")},async leave(){window.location.href="https://www.google.com/"}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("div",{staticClass:"flex flex-col"},[t("p",{staticClass:"block text-center mb-5"},[e._v("\n      "+e._s(e.$t("consent_modal.age_confirmation_text"))+"\n      "),t("a",{staticClass:"text-c-primary",attrs:{href:"/legal/cookie-policy",target:"_blank"}},[e._v("\n        "+e._s(e.$t("consent_modal.cookies_link"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"flex justify-evenly"},[t("sx-button",{attrs:{size:"R",color:"neutral"},on:{click:e.leave}},[e._v("\n        "+e._s(e.$t("consent_modal.leave"))+"\n      ")]),e._v(" "),t("sx-button",{staticClass:"capitalize",attrs:{size:"R",color:"c-primary"},on:{click:e.agree}},[e._v("\n        "+e._s(e.$t("consent_modal.agree"))+"\n      ")])],1)])])}),[],!1,null,null,null);t.default=a.exports},1429:function(e,t,i){"use strict";i.r(t);var s={components:{ModelOrderedMediaList:i(1074).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("model-ordered-media-list",e._g(e._b({scopedSlots:e._u([{key:"default",fn:function(e){let{item:i}=e;return[t("sxc-photo-square-item",{attrs:{picture:i,"owner-view":""}})]}}])},"model-ordered-media-list",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1430:function(e,t,i){"use strict";i.r(t);var s={components:{ModelOrderedMediaList:i(1074).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("model-ordered-media-list",e._g(e._b({scopedSlots:e._u([{key:"default",fn:function(e){let{item:i}=e;return[i.videoUid?t("sxc-video-square-item",{attrs:{video:i,"owner-view":""}}):t("sxc-photo-square-item",{attrs:{picture:i,"owner-view":""}})]}}])},"model-ordered-media-list",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1431:function(e,t,i){"use strict";i.r(t);var s={components:{ModelOrderedProductList:i(1249).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("model-ordered-product-list",e._g(e._b({scopedSlots:e._u([{key:"default",fn:function(i){let{item:s}=i;return["chatRequest"===s.type?t("sxc-chat-request-item",{attrs:{item:s,"owner-view":""}}):"ppvMedia"===s.type?t("sxc-shop-square-item",{attrs:{media:s,"owner-view":""}}):e._e()]}}])},"model-ordered-product-list",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1432:function(e,t,i){"use strict";i.r(t);var s={components:{ModelOrderedMediaList:i(1074).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[t("model-ordered-media-list",e._g(e._b({scopedSlots:e._u([{key:"default",fn:function(e){let{item:i}=e;return[t("sxc-video-square-item",{attrs:{video:i,"owner-view":""}})]}}])},"model-ordered-media-list",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1442:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("div",{staticClass:"text-center mb-4 flex items-center justify-center",attrs:{"data-cy-id":"creator-type-modal"}},[t("span",{staticClass:"mr-3 text-xl font-semibold"},[e._v(e._s(e.$t("creator_type_modal.heading")))])]),e._v(" "),t("div",{staticClass:"flex justify-center"},[t("sx-button",{staticClass:"mr-2 w-full",attrs:{size:"R",color:"neutral","data-cy-id":"yes-button"},on:{click:function(t){return e.$emit("selected",!0)}}},[e._v("\n      "+e._s(e.$t("global.yes"))+"\n    ")]),e._v(" "),t("sx-button",{staticClass:"ml-2 w-full",attrs:{size:"R",color:"c-primary","data-cy-id":"no-button"},on:{click:function(t){return e.$emit("selected",!1)}}},[e._v("\n      "+e._s(e.$t("global.no"))+"\n    ")])],1),e._v(" "),t("div",[t("nuxt-link",{staticClass:"text-lg text-center mt-3 block text-secondary",attrs:{to:"/creators#no-face-verification","data-cy-id":"learn-more-link"}},[e._v("\n      "+e._s(e.$t("creator_type_modal.learn_more"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=n.exports},1449:function(e,t,i){"use strict";i(1267)},1450:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.banner-link[data-v-687ece16]{\n  height:32px;\n  background:rgba(0,0,0,.8)\n}\n.banner-link .close-icon-area[data-v-687ece16]{\n  height:30px;\n  width:33px;\n  right:3px\n}\n.banner-link .close-icon[data-v-687ece16]{\n  height:.85rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1451:function(e,t,i){"use strict";i(1268)},1452:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n:root{\n  --banner-height:32px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1453:function(e,t,i){"use strict";i(1269)},1454:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.thumbnail-placeholder[data-v-31bfe3bf]{\n  min-height:60px\n}\n.thumbnail-image[data-v-31bfe3bf]{\n  min-height:60px;\n  -o-object-fit:cover;\n     object-fit:cover\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1455:function(e,t,i){"use strict";i(1270)},1456:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.custom[data-v-370ddfbd]{\n  font-size:14px!important;\n  font-weight:600!important;\n  height:auto!important\n}\n.custom[data-v-370ddfbd]{\n  border-radius:5px;\n  line-height:21px;\n  display:block;\n  padding-left:0.625rem;\n  padding-right:0.625rem;\n  padding-top:0.5rem;\n  padding-bottom:0.5rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1457:function(e,t,i){"use strict";i(1271)},1458:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.checkmark[data-v-ecf357c0]{\n  position:absolute;\n  background-color:var(--color-secondary);\n  border-width:2px;\n  border-color:var(--color-white);\n  border-radius:9999px;\n  bottom:6px;\n  right:6px;\n  padding:5px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1459:function(e,t,i){"use strict";i(1272)},1460:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.follow[data-v-2c846a2e]{\n  border-radius:9999px;\n  position:absolute;\n  background-color:var(--color-primary);\n  display:flex;\n  align-items:center;\n  justify-content:center;\n  border-width:2px;\n  border-color:var(--color-white);\n  height:1.5rem;\n  width:1.5rem;\n  box-sizing:content-box;\n  bottom:-11px;\n  left:50%;\n  transform:translateX(-50%)\n}\n.follow .big-plus-icon[data-v-2c846a2e]{\n  position:absolute;\n  color:var(--color-white)\n}\n.follow .checkmark-icon[data-v-2c846a2e]{\n  position:absolute;\n  color:var(--color-primary);\n  --tw-translate-x:0;\n  --tw-translate-y:0;\n  --tw-rotate:0;\n  --tw-skew-x:0;\n  --tw-skew-y:0;\n  --tw-scale-x:1;\n  --tw-scale-y:1;\n  transform:translateX(0) translateY(0) rotate(0) skewX(0) skewY(0) scaleX(0) scaleY(0);\n  transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  --tw-scale-x:0;\n  --tw-scale-y:0\n}\n.follow-leave-active .checkmark-icon[data-v-2c846a2e]{\n  transition:transform .2s linear\n}\n.follow-enter[data-v-2c846a2e], .follow-leave-to[data-v-2c846a2e]{\n  background-color:var(--color-white)\n}\n.follow-enter .big-plus-icon[data-v-2c846a2e], .follow-leave-to .big-plus-icon[data-v-2c846a2e]{\n  display:none\n}\n.follow-enter .checkmark-icon[data-v-2c846a2e], .follow-leave-to .checkmark-icon[data-v-2c846a2e]{\n  --tw-translate-x:0;\n  --tw-translate-y:0;\n  --tw-rotate:0;\n  --tw-skew-x:0;\n  --tw-skew-y:0;\n  --tw-scale-x:1;\n  --tw-scale-y:1;\n  transform:translateX(0) translateY(0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1);\n  transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  --tw-scale-x:1;\n  --tw-scale-y:1\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1461:function(e,t,i){"use strict";i(1273)},1462:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.live-badge[data-v-ad498720]{\n  position:absolute;\n  right:50%;\n  --tw-translate-x:0;\n  --tw-translate-y:0;\n  --tw-rotate:0;\n  --tw-skew-x:0;\n  --tw-skew-y:0;\n  --tw-scale-x:1;\n  --tw-scale-y:1;\n  transform:translateX(50%) translateY(0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1);\n  transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  --tw-translate-x:50%;\n  cursor:pointer;\n  bottom:-3%\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1463:function(e,t,i){"use strict";i(1274)},1464:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,'/*purgecss start ignore*/\n.comment-content[data-v-90d1cbb2]{\n  max-width:calc(100% - 40px)\n}\n.comment-content--reply[data-v-90d1cbb2]{\n  max-width:calc(100% - 30px)\n}\n.reply-item[data-v-90d1cbb2]{\n  margin-left:14px;\n  position:relative\n}\n.reply-item[data-v-90d1cbb2]:before{\n  content:"•";\n  width:2px;\n  height:2px;\n  position:absolute;\n  left:-10px\n}\n.reply-wrapper[data-v-90d1cbb2]{\n  margin-left:38px\n}\n\n/*purgecss end ignore*/',""]),s.locals={},e.exports=s},1465:function(e,t,i){"use strict";i(1275)},1466:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.show-more[data-v-ef64274a]{\n  margin-left:28px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1467:function(e,t,i){"use strict";i(1276)},1468:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.rounded-lg[data-v-9ed06ab4]{\n  border-radius:.5rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1469:function(e,t,i){"use strict";i(1277)},1470:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.container[data-v-039c63e3]{\n  line-height:1.5rem;\n  max-width:300px\n}\n@media(min-width:850px){\n.container[data-v-039c63e3]{\n    max-width:800px\n}\n}\n.container span[data-v-039c63e3]{\n  font-size:.875rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1471:function(e,t,i){"use strict";i(1278)},1472:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.utah-container[data-v-36ba9c65]{\n  padding:30px\n}\n@media(min-width:850px){\n.utah-container[data-v-36ba9c65]{\n    max-width:414px;\n    padding:30px 50px\n}\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1473:function(e,t,i){"use strict";i(1279)},1474:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\na[disabled][data-v-1de0ee95]{\n  pointer-events:none;\n  cursor:auto;\n  opacity:.6\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1475:function(e,t,i){"use strict";i(1280)},1476:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.vertical-container[data-v-220060dc]{\n  padding-bottom:calc(16px + env(safe-area-inset-bottom, 0))\n}\n.ios-prevent-flickering[data-v-220060dc]{\n  transform:translateZ(0)\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1477:function(e,t,i){"use strict";i(1281)},1478:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.app-button[data-v-4096a74e]{\n  border-radius:0.5rem;\n  padding:12px 18px;\n  box-shadow:0 2px 10px rgba(0,0,0,.35)\n}\n.label[data-v-4096a74e]{\n  font-weight:800;\n  color:var(--color-black);\n  font-size:20px;\n  line-height:30px;\n  line-height:27px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1479:function(e,t,i){"use strict";i(1282)},1480:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.flip-list-move.no-animation[data-v-8c07f9ee]{\n  transition:none\n}\n.flip-list-move[data-v-8c07f9ee]{\n  transition:all .5s\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1481:function(e,t,i){"use strict";i(1283)},1482:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.warning-text[data-v-7db988e6]{\n  font-size:1.25rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1483:function(e,t,i){"use strict";i(1285)},1484:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,'/*purgecss start ignore*/\n.live-container[data-v-32c961d0]{\n  width:calc(100% - 110px)\n}\n.verification-notice[data-v-32c961d0]{\n  z-index:10;\n  margin-left:1rem;\n  margin-right:1rem;\n  margin-top:auto;\n  padding:0.9375rem;\n  border-radius:10px;\n  letter-spacing:-.01em;\n  background-color:rgba(0,0,0,.6)\n}\n.verification-notice.no-consented-users[data-v-32c961d0]{\n  margin-bottom:60px\n}\n.in-progress[data-v-32c961d0]{\n  background-color:var(--color-black);\n  opacity:.4\n}\n.in-progress[data-v-32c961d0].app-button-content .button-text{\n  position:relative\n}\n.in-progress[data-v-32c961d0].app-button-content .button-text:after{\n  overflow:hidden;\n  display:inline-block;\n  vertical-align:bottom;\n  animation:ellipsis-32c961d0 1s steps(4) infinite;\n  content:"…";\n  width:0;\n  position:absolute;\n  left:100%\n}\n@keyframes ellipsis-32c961d0{\nto{\n    width:1rem\n}\n}\n.streamers-button.app-button.ghost[data-v-32c961d0], .tip-menu-button.app-button.ghost[data-v-32c961d0]{\n  border-width:1px;\n  border-color:var(--color-white)\n}\n.streamers-button.app-button.ghost[data-v-32c961d0],.tip-menu-button.app-button.ghost[data-v-32c961d0]{\n  margin-bottom:18px!important\n}\n\n/*purgecss end ignore*/',""]),s.locals={},e.exports=s},1485:function(e,t,i){"use strict";i(1286)},1486:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.shadowed[data-v-1555e8ec]{\n  box-shadow:0 0 0 3px rgba(var(--color-red-rgb),.15)\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1487:function(e,t,i){"use strict";i(1287)},1488:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.live-chat__messages{\n  width:100%;\n  max-height:325px;\n  transition:max-height .3s ease\n}\n@media(max-height:600px){\n.live-chat__messages{\n    max-height:240px\n}\n}\n.live-chat__messages-container{\n  font-size:11px\n}\n.live-chat__messages-container>div:last-child{\n  margin-top:auto\n}\n.live-chat__messages-trigger{\n  width:24px\n}\n.live-chat__messages-trigger--rotate{\n  transform:rotate(-180deg);\n  transition:transform .2s\n}\n.live-chat__tips{\n  position:relative;\n  border-radius:0.5rem;\n  background-color:var(--color-green);\n  padding:0.5rem;\n  color:var(--color-white);\n  bottom:10px;\n  left:4px;\n  max-width:calc(100% - 4px)\n}\n.live-chat__message-item{\n  display:flex;\n  width:100%;\n  word-break:break-all\n}\n.live-chat .live-chat__message-item--tip .live-chat__message-text{\n  border-radius:0.5rem;\n  background-color:var(--color-green);\n  padding:0.5rem;\n  color:var(--color-white)\n}\n.live-chat__wrapper{\n  width:100%;\n  color:var(--bg-foreground)\n}\n.live-chat__wrapper .live-chat__message-text{\n  margin-left:0.25rem;\n  margin-right:0.25rem;\n  margin-bottom:0.25rem;\n  border-radius:0.5rem;\n  font-weight:600\n}\n.live-chat__wrapper--mobile .live-chat__height{\n  max-height:calc(100% - 110px);\n  height:calc(100% - 110px)\n}\n.live-chat__wrapper--mobile .live-chat__message-item--hidden{\n  opacity:0\n}\n.live-chat__wrapper--mobile .live-chat__messages--opened{\n  max-height:90%;\n  height:90%;\n  padding-top:50px;\n  position:relative\n}\n.live-chat__wrapper--mobile .live-chat__messages--opened .live-chat__messages-container{\n  overflow:scroll!important\n}\n.live-chat__wrapper--mobile .live-chat__messages--opened .live-chat__messages-container::-webkit-scrollbar{\n  width:0!important;\n  height:0!important\n}\n.live-chat__wrapper--mobile .live-chat__messages--opened .live-chat__messages-container .live-chat__message-item--hidden{\n  opacity:1!important\n}\n.live-chat__wrapper--mobile .live-chat__messages--opened .live-chat__messages-trigger{\n  z-index:99999;\n  position:absolute;\n  top:0;\n  left:0\n}\n.live-chat__wrapper--mobile .live-chat__message-text{\n  background:rgba(0,0,0,.2);\n  padding:0.5rem;\n  color:var(--color-white)\n}\n.live-chat__wrapper--mobile .new-message{\n  font-size:11px!important\n}\n.live-chat__wrapper--mobile .new-message{\n  min-height:30px\n}\n.live-chat__wrapper--mobile .new-message textarea{\n  font-size:11px!important\n}\n.live-chat__wrapper--mobile .new-message textarea{\n  padding-left:0.75rem;\n  padding-right:0.75rem;\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  color:var(--color-white);\n  background:rgba(0,0,0,.3);\n  border-radius:30px\n}\n.live-chat__wrapper--mobile .new-message textarea::-moz-placeholder{\n  font-size:11px!important\n}\n.live-chat__wrapper--mobile .new-message textarea::placeholder{\n  font-size:11px!important\n}\n.live-chat__wrapper--mobile .new-message textarea::-moz-placeholder{\n  color:var(--color-white)\n}\n.live-chat__wrapper--mobile .new-message textarea::placeholder{\n  color:var(--color-white)\n}\n.live-chat__wrapper--mobile .new-message textarea:focus{\n  font-size:1rem!important\n}\n.live-chat__wrapper--mobile .new-message .input-icon{\n  position:absolute;\n  margin:0;\n  padding:0;\n  bottom:8px;\n  right:8px;\n  top:auto\n}\n.live-chat__wrapper--mobile .new-message .input-icon svg{\n  height:17px\n}\n.live-chat__wrapper--mobile .new-message .has-icon-right{\n  position:relative!important\n}\n.live-chat__wrapper--mobile .control{\n  background-color:var(--color-transparent)\n}\n.live-chat__wrapper--mobile .control.resizable{\n  padding:0\n}\n.live-chat__wrapper--desktop .live-chat__messages{\n  margin-bottom:0\n}\n.live-chat__wrapper--desktop .live-chat__message-text:not(.live-chat__message-text--creator){\n  background-color:var(--bg-foreground);\n  font-weight:400;\n  color:var(--text-primary)\n}\n.live-chat__wrapper--desktop .live-chat__message-text{\n  padding:0.5rem\n}\n.live-chat__wrapper--desktop .live-chat__height{\n  max-height:calc(100% - 65px);\n  height:calc(100% - 65px)\n}\n.live-chat__height{\n  display:flex;\n  align-items:flex-end\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1489:function(e,t,i){"use strict";i(1288)},1490:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.moderation__modal button.block{\n  margin-bottom:1rem!important\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1491:function(e,t,i){"use strict";i(1289)},1492:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n#player[data-v-5e9326d6] .awm.muted{\n  display:none!important\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1493:function(e,t,i){"use strict";i(1290)},1494:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.model-name[data-v-724b9599]{\n  top:-6px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1497:function(e,t,i){"use strict";i(1292)},1498:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.heart-clicked[data-v-fbe08ece]{\n  animation:pop-animation-fbe08ece .2s linear\n}\n@keyframes pop-animation-fbe08ece{\n0%{\n    transform:scale(1)\n}\n50%{\n    transform:scale(1.5)\n}\nto{\n    transform:scale(1)\n}\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1503:function(e,t,i){"use strict";i(1295)},1504:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.info-label[data-v-7dba22c6]{\n  display:flex;\n  align-items:center;\n  border-radius:0.25rem;\n  background-color:var(--bg-shadowed);\n  padding-left:0.125rem;\n  padding-right:0.125rem;\n  padding-top:0.125rem;\n  padding-bottom:0.125rem;\n  font-size:0.8125rem;\n  font-weight:600\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1505:function(e,t,i){"use strict";i(1296)},1506:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\ntext[data-v-0b9dd31f]{\n  text-anchor:middle;\n  fill:#fff;\n  paint-order:stroke fill;\n  stroke:rgba(0,0,0,.1);\n  stroke-width:3px\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1509:function(e,t,i){"use strict";i(1299)},1510:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.plus-minus[data-v-521990f4]{\n  width:20px;\n  height:20px;\n  position:relative\n}\n.plus-minus span[data-v-521990f4]{\n  position:absolute;\n  transition:.3s;\n  background-color:var(--color-neutral)\n}\n.plus-minus span[data-v-521990f4]:first-child{\n  top:25%;\n  bottom:25%;\n  width:10%;\n  left:45%\n}\n.plus-minus span[data-v-521990f4]:last-child{\n  left:25%;\n  right:25%;\n  height:10%;\n  top:45%\n}\n.plus-minus.opened span[data-v-521990f4]{\n  transform:rotate(90deg)\n}\n.plus-minus.opened span[data-v-521990f4]:last-child{\n  left:50%;\n  right:50%\n}\n.question-container.opened+.question-container[data-v-521990f4]:not(.opened){\n  padding-top:0.625rem\n}\n[data-v-521990f4] article ul{\n  padding-left:16px\n}\n[data-v-521990f4] article ul li{\n  list-style-type:disc\n}\n[data-v-521990f4] a{\n  color:var(--color-primary)\n}\n[data-v-521990f4] p{\n  margin-top:0.5rem\n}\n[data-v-521990f4] ol{\n  margin-top:0.5rem;\n  list-style-type:decimal;\n  list-style-position:inside\n}\n[data-v-521990f4] ul{\n  margin-top:0.5rem\n}\n[data-v-521990f4] li{\n  margin-top:0.25rem\n}\n[data-v-521990f4] img{\n  margin:auto;\n  display:block;\n  max-width:75%\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1511:function(e,t,i){"use strict";i(1300)},1512:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.cover-container[data-v-02b80fde]{\n  height:130px\n}\n._bg-cover[data-v-02b80fde]{\n  background-color:#e5e5e5\n}\n.sx-theme-dark ._bg-cover[data-v-02b80fde]{\n  background-color:#3d4347\n}\n[data-v-02b80fde] .chat-with-us-button.sx-button.regular.icon{\n  padding-left:1.25rem;\n  padding-right:1.25rem\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1517:function(e,t,i){e.exports=i.p+"img/chrome.053bec0.svg"},1518:function(e,t,i){e.exports=i.p+"img/samsung_internet.d757675.svg"},1519:function(e,t,i){e.exports=i.p+"img/firefox.c931352.svg"},1520:function(e,t,i){e.exports=i.p+"img/edge.226cabe.svg"},1521:function(e,t,i){e.exports=i.p+"img/safari.8d5934a.svg"},1522:function(e,t,i){"use strict";i(1303)},1523:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.profile-gradient[data-v-fa323986]{\n  background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent);\n  height:30%\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1528:function(e,t,i){"use strict";i(1306)},1529:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.not-logged-in-user{\n  display:block;\n  width:100%;\n  padding:0.5rem;\n  color:var(--color-white)\n}\n@media (max-width: 360px){\n.not-logged-in-user{\n    font-size:0.8125rem\n}\n}\n.not-logged-in-user{\n  background:rgba(0,0,0,.3);\n  border-radius:30px;\n  border:none\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1530:function(e,t,i){"use strict";i(1307)},1531:function(e,t,i){var s=i(7)((function(e){return e[1]}));s.push([e.i,"/*purgecss start ignore*/\n.picture-overlay-buttons[data-v-534ba6eb]{\n  display:grid;\n  grid-template-columns:1.875rem 1fr 1.875rem\n}\n.picture-overlay-buttons>.left-arrow[data-v-534ba6eb]{\n  grid-column-start:1\n}\n.picture-overlay-buttons>.pin[data-v-534ba6eb]{\n  grid-column-start:2;\n  justify-self:center;\n  width:1.875rem\n}\n.picture-overlay-buttons>.right-arrow[data-v-534ba6eb]{\n  grid-column-start:3\n}\n\n/*purgecss end ignore*/",""]),s.locals={},e.exports=s},1760:function(e,t,i){"use strict";i.r(t);var s=i(128),n=i(1018),a=i(98),r=i(1242),o=i(1152),l={data:()=>({comment:null}),methods:{open(e){this.comment=e,this.$refs.modal.open()},close(){this.$refs.modal.close()},confirm(){this.$emit("on-confirm",this.comment),this.$refs.modal.close()}}},c=(i(1168),i(0)),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("sx-modal",{ref:"modal",attrs:{rounded:"","append-to-body":"","can-cancel":["outside","x"]}},[t("sx-modal-card",[t("p",{staticClass:"warning-text font-semibold block text-center mb-5"},[e._v("\n      "+e._s(e.$t("comments.deletion_modal_title"))+"\n    ")]),e._v(" "),t("div",{staticClass:"flex justify-center"},[t("sx-button",{attrs:{size:"R",color:"neutral"},on:{click:e.confirm}},[e._v("\n        "+e._s(e.$t("global.yes"))+"\n      ")]),e._v(" "),t("sx-button",{staticClass:"ml-5",attrs:{size:"R",color:"c-primary"},on:{click:e.close}},[e._v("\n        "+e._s(e.$t("global.no"))+"\n      ")])],1)])],1)}),[],!1,null,"0da1cfbe",null).exports;var u={name:"CommentsSection",components:{CommentsList:r.default,CommentAddNew:o.default,ConfirmationModal:d},directives:{ScrollLock:a.a},props:{userUid:{type:String,required:!0},username:{type:String,required:!0},mediaUid:{required:!0,type:String},showAvatar:{type:Boolean,default:!1},contentType:{type:String,default:"media"}},data:()=>({comments:[],pageInfo:!1,scrollPosition:0,savedScroll:!1}),computed:{...Object(s.b)({currentUserUid:"user/getUserUid"})},sxFetchErrors:()=>({showNuxtError:!1}),async sxFetch(){const{page:{items:e,pageInfo:t}}=await this.$api.comments.listComments(this.mediaUid,8);this.comments=e,this.pageInfo=t},activated(){this.savedScroll&&(this.$refs.scrollContainer.scrollTop=this.scrollPosition)},watch:{mediaUid(){this.$fetch()}},methods:{async loadMoreComments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(e){const t=e.replies.pageInfo.pageNumber+1,{page:{items:i,pageInfo:s}}=await this.$api.comments.listChildComments(this.mediaUid,e.commentUid,8,t);e.replies.items.push(...i),Object.assign(e.replies.pageInfo,s)}else{const e=this.pageInfo.pageNumber+1,{page:{items:t,pageInfo:i}}=await this.$api.comments.listComments(this.mediaUid,8,e);this.comments.push(...t),this.pageInfo=i}}catch(t){this.$showErrorMessage(t.localizedMessage)}},async deleteComment(e){try{if(e.user.userUid===this.currentUserUid?await this.$api.comments.deleteComment(e.commentUid):await this.$api.comments.deleteCommentOfOther(e.commentUid),e.parentCommentUid){const t=this.comments.find((t=>t.commentUid===e.parentCommentUid));t.replies.items=t.replies.items.filter((t=>t.commentUid!==e.commentUid)),this.$nuxt.$emit("sx-comment-removed",{mediaUid:this.mediaUid})}else{var t;this.comments=this.comments.filter((t=>t.commentUid!==e.commentUid)),this.$nuxt.$emit("sx-comment-removed",{mediaUid:this.mediaUid,decrement:1+((null===(t=e.replies)||void 0===t||null===(t=t.items)||void 0===t?void 0:t.length)||0)})}}catch(i){this.$showErrorMessage(i.localizedMessage)}},async addComment(e,t){try{const{comment:i}=await this.$api.comments.addComment({contentUid:this.mediaUid,contentType:this.contentType,text:e,parentCommentUid:t});if(this.$nuxt.$emit("sx-comment-added",{mediaUid:this.mediaUid}),i.parentCommentUid){const e=this.comments.find((e=>e.commentUid===i.parentCommentUid));e.replies?e.replies.items.unshift(i):e.replies={items:[i]}}else this.comments.unshift(i),this.$nextTick((()=>Object(n.a)(this.$refs.scrollContainer,0,100)))}catch(i){this.$showErrorMessage(i.localizedMessage)}},saveScroll(){this.savedScroll=!0,this.scrollPosition=this.$refs.scrollContainer.scrollTop}}},p=u,h=Object(c.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full flex flex-col flex-1 min-h-0"},[t("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:!0,expression:"true"}],ref:"scrollContainer",staticClass:"overflow-y-scroll drawer-scroll h-full"},[t("comments-list",{attrs:{items:e.comments,"has-next-page":e.pageInfo.hasNextPage,"page-size":e.pageInfo.pageSize,"fetch-pending":e.$fetchState.pending,"add-comment":e.addComment,"model-uid":e.userUid},on:{"load-more-comments":e.loadMoreComments,"delete-comment":function(t){return e.$refs.modal.open(t)}}})],1),e._v(" "),t("comment-add-new",{ref:"commentAddNew",staticClass:"mt-auto",attrs:{username:e.username,"media-uid":e.mediaUid,"add-comment":e.addComment,"show-avatar":e.showAvatar,"content-type":e.contentType}}),e._v(" "),t("ConfirmationModal",{ref:"modal",on:{"on-confirm":e.deleteComment}})],1)}),[],!1,null,null,null);t.default=h.exports},1761:function(e,t,i){"use strict";i.r(t);var s={props:{invalid:Boolean,closeOnClick:{type:Boolean,default:!0},code:{type:String,default:""}},beforeMount(){this.zipcode=this.code},data:()=>({zipcode:"",inProgress:!1}),methods:{onSubmit(){this.$emit("zipcode",this.zipcode),this.closeOnClick&&this.$emit("close")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.$t("zip_code_modal.title")}},[t("div",{staticClass:"flex items-center justify-center"},[t("sxc-form-container",{ref:"zipCodeForm",attrs:{"on-submit":()=>{}},on:{onSuccess:e.onSubmit},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("zip_code_modal.zip_field"),mode:"eager",rules:"required",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0]||(e.invalid?e.$t("zip_code_modal.invalid_zip"):"")}},[t("sx-input",{staticClass:"max-w-40",model:{value:e.zipcode,callback:function(t){e.zipcode=t},expression:"zipcode"}})],1)]}}],null,!0)}),e._v(" "),t("sx-form-field",{attrs:{actions:"",center:""}},[t("sx-button",{attrs:{tabindex:2,"data-cy-id":"send-zip-button",color:"c-secondary",size:"R",disabled:s.validated&&!s.valid&&s.dirty||e.inProgress,loading:e.inProgress}},[e._v("\n          "+e._s(e.$t("zip_code_modal.ok_btn"))+"\n        ")])],1)]}}])})],1)])}),[],!1,null,null,null);t.default=a.exports},1762:function(e,t,i){"use strict";i.r(t);var s=i(128),n=i(231),a={props:{price:{type:Number,required:!0},purchaseType:{type:String,required:!0,validator:e=>n.a.includes(e)},buttonColor:{type:String,default:"c-secondary"}},data:()=>({inProgress:!1,error:null,bankError:!1,text:""}),beforeMount(){this.text=this.$taxService.generateConfirmationPriceWithTax(this.price,this.purchaseType)},methods:{onClick(){this.canConfirm&&this.$emit("confirm")},async onChangeZipcode(){await this.$taxService.updateZipcode(this.purchaseType),this.text=this.$taxService.generateConfirmationPriceWithTax(this.price,this.purchaseType)}},computed:{...Object(s.b)({paymentData:"payments/getPaymentData"}),canConfirm(){return!(this.error||this.fingerprintError)},paymentDataLoading(){return this.paymentData.loading||this.$taxService.fetchingTaxData},fingerprintError(){return this.paymentData.hasError&&this.$t("global.wrong_msg_try_again")}}},r=i(0),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("div",{staticClass:"text-center px-6 font-normal text-lg"},[e._v("\n    "+e._s(e.text)+"\n  ")]),e._v(" "),e.fingerprintError?t("div",{staticClass:"w-full py-2 px-4 text-error text-sm text-center"},[e._v("\n    "+e._s(e.fingerprintError)+"\n  ")]):e.error?t("div",{staticClass:"w-full p-2.5 text-sm text-center",class:{"text-white bg-error my-5":e.bankError,"text-error":!e.bankError}},[e._v("\n    "+e._s(e.error.localizedMessage)+"\n  ")]):e._e(),e._v(" "),e.$taxService.canChangeZipcode?t("p",{staticClass:"mt-3 text-secondary w-full text-sm text-center cursor-pointer",on:{click:e.onChangeZipcode}},[e._v("\n    "+e._s(e.$t("global.change_zipcode"))+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"mt-5 items-center flex flex-col justify-center"},[t("sx-button",{attrs:{"data-cy-id":"pay-button",color:e.buttonColor,size:"R",loading:e.inProgress||e.paymentDataLoading,disabled:e.inProgress||e.paymentDataLoading||!!e.error},on:{click:e.onClick}},[e._v("\n      "+e._s(e.$t("pay_confirm_modal.ok_btn"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=o.exports},1763:function(e,t,i){"use strict";i.r(t);var s={props:{user:{type:Object,required:!0},mediaUid:{type:String,default:""},mediaType:{type:String,default:""}},methods:{block(){const{user:e}=this;e.isBlockedByLoggedInUser?this.$emit("unblock",e):this.$emit("block",e),this.$emit("close")},showReport(){const{mediaUid:e,mediaType:t,user:i}=this;this.$emit("report",{user:i,mediaUid:e,mediaType:t}),this.$emit("close")}}},n=(i(1161),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{"no-padding":!0}},[t("div",{staticClass:"actions-option flex cursor-pointer items-center justify-center not-italic",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showReport.apply(null,arguments)}}},[e._v("\n    "+e._s(e.$t("global.report"))+"\n  ")]),e._v(" "),t("div",{staticClass:"actions-option flex cursor-pointer items-center justify-center not-italic",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.block.apply(null,arguments)}}},[e._v("\n    "+e._s(e.user.isBlockedByLoggedInUser?e.$t("global.unblock"):e.$t("global.block"))+"\n  ")])])}),[],!1,null,"43ce8618",null);t.default=a.exports},1764:function(e,t,i){"use strict";i.r(t);var s={props:{userUid:{type:String,required:!0},mediaUid:{type:String,default:null},mediaType:{type:String,default:null}},data:()=>({reportData:{reason:null,details:""}}),computed:{reportReasons(){const e=this.mediaUid?this.$t("report_modal.media_reasons"):this.$t("report_modal.user_reasons"),t=this.mediaUid?this.$t("report_modal.media_reasons","en"):this.$t("report_modal.user_reasons","en");return e.map(((e,i)=>({value:t[i],text:e})))},isDMCA(){var e;return null===(e=this.reportData.reason)||void 0===e?void 0:e.includes("DMCA")}},methods:{onCancel(){this.$emit("close")},onConfirm(){this.$refs.reportForm.submit()},onSubmit(){return this.mediaUid?this.$api.reports.reportMedia(this.mediaUid,this.mediaType,this.reportData):this.$api.users.reportUser(this.userUid,this.reportData)},onSuccess(){this.$showMessageModal(this.$t("report_modal.success_msg")),this.$emit("reported"),this.$emit("close")},onError(e){this.$showErrorMessage(null==e?void 0:e.localizedMessage)}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.$t("global.report")}},[t("sxc-form-container",{ref:"reportForm",attrs:{"on-submit":e.onSubmit,name:"reportForm"},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("report_modal.reason_field"),rules:"required",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{label:e.$t("report_modal.reason_field"),error:s[0]}},[t("sx-select",{attrs:{placeholder:e.$t("report_modal.reason_field"),tabindex:1},model:{value:e.reportData.reason,callback:function(t){e.$set(e.reportData,"reason",t)},expression:"reportData.reason"}},e._l(e.reportReasons,(function(i){return t("option",{key:i.text,attrs:{label:i.text},domProps:{value:i.value}},[e._v("\n            "+e._s(i.text)+"\n          ")])})),0)],1)]}}],null,!0)}),e._v(" "),e.isDMCA?e._e():t("ValidationProvider",{attrs:{name:e.$t("report_modal.details_field"),rules:"max:500|alpha_space_dot",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{label:e.$t("report_modal.details_field"),error:s[0]}},[t("sx-input",{attrs:{type:"textarea",placeholder:e.$t("report_modal.details_placeholder"),tabindex:2,resizable:"","max-height":"60"},model:{value:e.reportData.details,callback:function(t){e.$set(e.reportData,"details",t)},expression:"reportData.details"}})],1)]}}],null,!0)}),e._v(" "),t("div",{staticClass:"mt-5 w-full flex justify-around text-center"},[e.isDMCA?e._e():t("sx-button",{attrs:{loading:s.submitting,disabled:s.validated&&!s.valid,"data-cy-id":"confirm-button",color:"neutral"},nativeOn:{click:function(t){return t.preventDefault(),e.onConfirm.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$t("report_modal.ok_btn"))+"\n      ")]),e._v(" "),e.isDMCA?t("sx-button",{attrs:{"data-cy-id":"link-button",color:"green",tag:"a",href:"/legal/dmca-form",target:"_blank"}},[e._v("\n        "+e._s(e.$t("report_modal.see_form_btn"))+"\n      ")]):e._e(),e._v(" "),t("sx-button",{attrs:{disabled:s.submitting,"data-cy-id":"cancel-button",color:"c-primary"},nativeOn:{click:function(t){return t.preventDefault(),e.onCancel.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$t("report_modal.cancel_btn"))+"\n      ")])],1)]}}])})],1)}),[],!1,null,null,null);t.default=a.exports},1765:function(e,t,i){"use strict";i.r(t);var s={props:{message:{type:String,required:!0}}},n=(i(1163),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{"no-padding":!0,dark:!0}},[t("div",{staticClass:"message-text sx-select"},[e._v("\n    "+e._s(e.message)+"\n  ")])])}),[],!1,null,"4d2a7784",null);t.default=a.exports},1766:function(e,t,i){"use strict";i.r(t);var s=i(1010);const n="tip";var a={mixins:[Object(s.a)({on3DSFailure:e=>e.reset()})],props:{from:{type:String,default:""},message:{type:String,default:""},mediaUid:{type:String,default:""},streamUid:{type:String,default:""},userUid:{type:String,required:!0},displayName:{type:String,required:!0},maxMessageLength:{type:Number,default:300},tipMenuItems:{type:Array,default:()=>[]},tipMenuDescription:{type:String,default:""},title:{type:String,required:!0},tipMenuEnabled:Boolean},data(){return{tipOptionSelected:!1,selectedTipOption:null,amount:"",formMessage:this.message,forceSubmit:!1,showCardForm:!1,submitting:!1}},computed:{showTaxFields(){const{amount:e,hasCard:t}=this;return t&&e&&this.$taxService.taxGreaterZero(n)},price(){return parseFloat(this.amount)}},async mounted(){!this.$taxService.hasTaxData(n)&&this.hasCard&&await this.$taxService.fetchCardTaxData(n,!0)},methods:{disableInvalidCharacters(e){["e","E","+","-"].includes(e.key)&&e.preventDefault()},onTipOptionChanged(e){if("Custom"===e)this.amount="",this.selectedTipOption=null,this.tipOptionSelected=!1;else if("string"==typeof e){const t=this.tipMenuItems.find((t=>t.tipMenuItemUid===e));this.amount=t.price,this.selectedTipOption=t.itemName,this.tipOptionSelected=!0}},async changeZipcode(){await this.$taxService.updateZipcode(n)},async onSuccess(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.fingerprintError)if(this.forceSubmit=!1,this.hasCard||e)if(this.$taxService.missingZipCode)await this.confirmPayment(n,this.handleTipConfirmation);else{const{amount:e,message:i}=this;this.$emit("tip",{amount:e,message:i,hidePrice:t}),this.$emit("close")}else this.showCardForm=!0},reset(){this.forceSubmit=!0,this.$nextTick((()=>{this.$refs.tipForm&&this.$refs.tipForm.reset()}))},onError(e){if("userBlockedBy"===e.code){const t=this.$t("api.".concat(e.code),{username:this.displayName});this.$showErrorMessage(t)}else this.$showErrorMessage(null==e?void 0:e.localizedMessage),this.reset()},async onSubmit(){if(!this.hasCard||this.$taxService.missingZipCode||this.fingerprintError)return!1;this.$taxService.hasTaxData(n)||await this.$taxService.fetchCardTaxData(n,!0);const{userUid:e,amount:t,formMessage:i,mediaUid:s,streamUid:a}=this,r={message:i,tipMenuItem:this.selectedTipOption,toUserUid:e,mediaUid:s,streamUid:a,amount:t};return this.sendTip(r)},async onCardSubmit(e){try{await this.addCard(e),this.showCardForm=!1,await this.$nextTick(),await this.confirmPayment(n,this.handleTipConfirmation)}catch({localizedMessage:t}){this.$showErrorMessage(t)}},async handleTipConfirmation(){this.$modal.close((e=>{let{meta:{name:t}}=e;return"PaymentConfirmation"===t})),this.submitting=!0;try{await this.onSubmit(),await this.onSuccess(!0,!0)}catch(e){this.onError(e)}finally{this.submitting=!1}}}},r=a,o=i(0),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.showCardForm?t("sx-modal-card",{attrs:{title:e.$t("modal_card.title")}},[t("sxc-card-form",{ref:"cardForm",attrs:{"submit-text":e.$t("card_form.ok_btn"),"on-submit":e.onCardSubmit,"will-charge":e.price,from:e.from+"_tip",error:e.paymentError,"bank-error":e.bankDeclinedError}})],1):t("sx-modal-card",{attrs:{title:e.title}},[e.tipMenuEnabled?t("p",{staticClass:"text-base font-normal mb-2.5 break-words"},[e._v("\n    "+e._s(e.tipMenuDescription)+"\n  ")]):e._e(),e._v(" "),t("sxc-form-container",{ref:"tipForm",attrs:{"on-submit":e.onSubmit,name:"tippingForm","force-submit":e.forceSubmit},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[e.tipMenuEnabled?t("ValidationProvider",{attrs:{slim:""}},[t("sx-form-field",[t("sx-select",{attrs:{placeholder:e.$t("live.tip_menu_placeholder"),tabindex:1},on:{change:e.onTipOptionChanged}},[t("option",{key:"Custom",attrs:{value:"Custom",label:e.$t("live.tip_menu_custom_label")}},[e._v("\n            "+e._s(e.$t("live.tip_menu_custom_label"))+"\n          ")]),e._v(" "),e._l(e.tipMenuItems,(function(i){return t("option",{key:i.tipMenuItemUid,attrs:{label:i.itemName},domProps:{value:i.tipMenuItemUid}},[e._v("\n            "+e._s(i.itemName)+"\n          ")])}))],2)],1)],1):e._e(),e._v(" "),t("ValidationProvider",{ref:"tipValue",attrs:{mode:"aggressive",name:e.$t("tip_form.amount_field"),"custom-messages":{regex:e.$t("tip_form.amount_validation_regex")},rules:{required:!0,tip_between:[3,500],regex:/^\d*[0-9](?:\.[0-9]{1,2})?$/},slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:n}=i;return[t("sx-form-field",{attrs:{error:n[0]},scopedSlots:e._u([{key:"helper",fn:function(){return[t("div",{staticClass:"flex pt-1 w-full justify-between"},[e.tipOptionSelected?e._e():t("span",[e._v("\n              "+e._s(e.$t("tip_form.amount_hint"))+"\n            ")]),e._v(" "),t("div",[e.$taxService.canChangeZipcode&&!e.paymentDataLoading?t("span",{staticClass:"mr-2.5 cursor-pointer",on:{click:e.changeZipcode}},[e._v("\n                "+e._s(e.$t("global.change_zipcode"))+"\n              ")]):e._e(),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showTaxFields&&!n[0],expression:"showTaxFields && !errors[0]"}]},[e._v("\n                "+e._s(e.$t("tip_form.amount_tax_hint"))+" "+e._s(e.$taxService.getPriceWithVAT(e.amount,null,"tip"))+"\n              ")])])])]},proxy:!0}],null,!0)},[t("sx-input",{attrs:{tabindex:1,readonly:s.submitting||e.submitting,type:"number",min:"0","data-cy-id":"tip-amount-input",placeholder:e.$t("tip_form.amount_field"),step:".01",prepend:"$",disabled:e.tipOptionSelected},on:{keydown:e.disableInvalidCharacters},scopedSlots:e._u([{key:"iconRight",fn:function(){return[t("span",{directives:[{name:"show",rawName:"v-show",value:e.showTaxFields&&!n[0],expression:"showTaxFields && !errors[0]"}]},[e._v("\n              + "+e._s(e.$taxService.getTaxAmount(e.amount,"tip"))+" "+e._s(e.$taxService.getTaxType())+"\n            ")])]},proxy:!0}],null,!0),model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1)]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:e.$t("tip_form.message_field_name"),rules:"max:".concat(e.maxMessageLength),slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:n}=i;return[t("sx-form-field",{attrs:{error:n[0],tiny:""}},[t("sx-input",{attrs:{tabindex:2,readonly:s.submitting||e.submitting,"data-cy-id":"tip-message-input",placeholder:e.$t("tip_form.message_field_placeholder")},model:{value:e.formMessage,callback:function(t){e.formMessage=t},expression:"formMessage"}})],1)]}}],null,!0)}),e._v(" "),e.fingerprintError?t("div",{staticClass:"w-full py-2 px-4 text-error text-sm text-center"},[e._v("\n      "+e._s(e.fingerprintError)+"\n    ")]):e.paymentError?t("div",{staticClass:"w-full p-2.5 text-sm text-center",class:{"text-white bg-error my-5":e.bankDeclinedError,"text-error":!e.bankDeclinedError}},[e._v("\n      "+e._s("userBlockedBy"===e.paymentError.code?e.$t("api.".concat(e.paymentError.code),{username:e.displayName}):e.paymentError.localizedMessage)+"\n    ")]):e._e(),e._v(" "),t("sx-form-field",{attrs:{actions:"",center:""}},[t("sx-button",{attrs:{tabindex:3,"data-cy-id":"send-tip-button",size:"R",disabled:e.paymentDataLoading,loading:s.submitting||e.submitting||e.paymentDataLoading}},[e._v("\n        "+e._s(e.$t("tip_form.ok_btn"))+"\n      ")])],1)]}}],null,!1,491879956)})],1)}),[],!1,null,null,null);t.default=l.exports},1767:function(e,t,i){"use strict";i.r(t);var s=i(1151),n=i(1010);const a="ppvMedia";var r={components:{CardForm:s.default},mixins:[Object(n.a)({})],data:()=>({product:null,price:0,showCardForm:!1,from:"ProductModal"}),async created(){const{product:e}=this.$attrs;this.product=e,this.price=e.price},methods:{async onBuy(){if(!this.fingerprintError)if(this.hasCard)try{await this.confirmPayment(a,this.handlePaymentConfirmation)}catch(e){this.$showErrorMessage(null==e?void 0:e.localizedMessage)}else this.showCardForm=!0},async onCardSubmit(e){try{await this.addCard(e),this.showCardForm=!1,await this.$nextTick(),await this.confirmPayment(a,this.handlePaymentConfirmation)}catch(t){throw t.message&&this.onError(t),t}},async handlePaymentConfirmation(){this.$modal.close((e=>{let{meta:{name:t}}=e;return"PaymentConfirmation"===t})),await this.buyProduct(this.product.productUid)}}},o=i(0),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.product.title,"data-cy-id":"product-modal"}},[t("div",{staticClass:"px-2 text-center text-lg"},[t("div",[e._v(e._s(e.product.description))]),e._v(" "),t("div",{staticClass:"mt-2.5"},[e._v("\n      "+e._s(e._f("usd")(e.product.price,{removeTrailingZeroes:!0}))+"\n    ")])]),e._v(" "),e.showCardForm?e._e():t("div",[e.paymentError?t("div",{staticClass:"w-full p-2.5 text-sm text-center mx-2",class:{"text-white bg-error mt-3 mb-1":e.bankDeclinedError,"text-error":!e.bankDeclinedError}},[e._v("\n      "+e._s(e.paymentError.localizedMessage)+"\n    ")]):t("div")]),e._v(" "),e.fingerprintError?t("div",{staticClass:"w-full py-2 px-4 text-error text-sm text-center"},[e._v("\n    "+e._s(e.fingerprintError)+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"mt-5 items-center flex flex-col justify-center"},[e.showCardForm?e._e():t("sx-button",{attrs:{"data-cy-id":"resubscribe-button",color:"green",size:"R",loading:e.paymentDataLoading},on:{click:e.onBuy}},[e._v("\n      "+e._s(e.$t("products.ok_btn"))+"\n    ")])],1),e._v(" "),e.showCardForm?t("CardForm",{ref:"cardForm",attrs:{"on-submit":e.onCardSubmit,"submit-text":e.$t("products.ok_btn"),"button-color":"green","will-charge":e.product.price,from:e.from,error:e.paymentError,"bank-error":e.bankDeclinedError}}):e._e()],1)}),[],!1,null,null,null);t.default=l.exports},1768:function(e,t,i){"use strict";i.r(t);var s=i(1010),n={mixins:[Object(s.a)({})],props:{submitText:{type:String,default:"Add card"}},methods:{async onCardSubmit(e){try{await this.addCard(e),this.$emit("done")}catch(t){throw this.$showErrorMessage(t.localizedMessage),t}}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.$t("modal_card.title")}},[t("sxc-card-form",{ref:"cardForm",attrs:{"submit-text":e.submitText,"on-submit":e.onCardSubmit,error:e.paymentError,"bank-error":e.bankDeclinedError}})],1)}),[],!1,null,null,null);t.default=r.exports},1769:function(e,t,i){"use strict";i.r(t);var s={components:{AuthForm:i(1150).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{"no-padding":""}},[t("AuthForm",e._g(e._b({},"AuthForm",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1770:function(e,t,i){"use strict";i.r(t);var s=i(128);const n={comments:"comments",chat:"chat"};var a={props:{user:{type:Object,required:!0},mediaUid:{type:String,required:!0},contentType:{type:String,default:"media"},hasBackButton:Boolean},components:{CommentsSection:()=>i.e(91).then(i.bind(null,1760)),MessagesSection:()=>Promise.all([i.e(7),i.e(99)]).then(i.bind(null,2121))},data:()=>({tabs:n,activeTab:n.comments}),computed:{...Object(s.b)({userUid:"user/getUserUid"}),activeComponent(){return this.activeTab===n.comments?"CommentsSection":this.activeTab===n.chat?"MessagesSection":null},avatar(){return this.user&&this.user.profile?this.user.profile.avatar:this.user.avatar},displayName(){return this.user&&this.user.profile?this.user.profile.displayName:this.user.displayName},isSelf(){return this.user.userUid===this.userUid}},methods:{onTabChange(e){this.$refs.section.saveScroll(),this.activeTab=e},goToProfile(){this.$drawer.close((e=>{let{meta:{name:t}}=e;return"CommentsAndMessages"===t})),this.$router.push("/".concat(this.user.username))},closeComments(){const e={...this.$route.query};delete e.comments,delete e.commentUid,this.$router.push({query:e})}}},r=i(0),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute flex flex-col h-full w-full"},[t("div",{staticClass:"border-b border-divider pt-4"},[t("div",{staticClass:"flex justify-center items-center header-container pr-5",class:{"pl-10":e.hasBackButton,"pl-5":!e.hasBackButton,"mb-3":e.isSelf}},[e.hasBackButton?t("sx-icon",{staticClass:"absolute left-2.5 pointer-hover:hover:text-c-secondary cursor-pointer",attrs:{"data-cy-id":"go-back-button",name:"arrow-left",title:"Go back",height:"30"},on:{click:e.closeComments}}):e._e(),e._v(" "),t("div",{staticClass:"cursor-pointer flex justify-center items-center overflow-hidden mx-4",on:{click:function(t){return e.goToProfile()}}},[t("sxc-avatar",{staticClass:"flex-none mr-1",attrs:{name:e.displayName,avatar:e.avatar,size:32}}),e._v(" "),t("span",{staticClass:"text-lg capitalize truncate font-semibold pl-1"},[e._v(e._s(e.displayName))])],1)],1),e._v(" "),e.isSelf?e._e():t("sx-tabs",{staticClass:"mx-3 my-4",attrs:{value:e.activeTab},on:{input:e.onTabChange}},[t("sx-tab",{attrs:{idx:e.tabs.comments,color:"neutral","data-cy-id":"comments-modal-tab"}},[e._v("\n        "+e._s(e.$t("comments.tabs.comments"))+"\n      ")]),e._v(" "),t("sx-tab",{attrs:{idx:e.tabs.chat,color:"neutral","data-cy-id":"privateChat-modal-tab"}},[e._v("\n        "+e._s(e.$t("comments.tabs.private_chat"))+"\n      ")])],1)],1),e._v(" "),t("keep-alive",[t(e.activeComponent,e._b({ref:"section",tag:"component"},"component",{username:e.user.username,userUid:e.user.userUid,showAvatar:!0,mediaUid:e.mediaUid,displayName:e.displayName,avatar:e.avatar,contentType:e.contentType},!1))],1)],1)}),[],!1,null,null,null);t.default=o.exports},1771:function(e,t,i){"use strict";i.r(t);var s={components:{TwoFactorForm:i(1040).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-5"},[t("TwoFactorForm",e._g(e._b({},"TwoFactorForm",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1772:function(e,t,i){"use strict";i.r(t);var s={components:{TwoFactorForm:i(1040).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{"no-padding":""}},[t("div",{staticClass:"m-5"},[t("TwoFactorForm",e._g(e._b({},"TwoFactorForm",e.$attrs,!1),e.$listeners))],1)])}),[],!1,null,null,null);t.default=a.exports},1773:function(e,t,i){"use strict";i.r(t);var s=i(128),n={name:"CommentListItem",components:{CommentAddNew:i(1152).default,CommentRepliesList:()=>Promise.resolve().then(i.bind(null,1985))},props:{item:{type:Object,required:!0},primary:{type:Boolean,default:!1},isReply:{type:Boolean,default:!1},addComment:{type:Function,required:!0},modelUid:{type:String,required:!0}},data(){return{showReplyInput:!1,liked:this.item.liked,likes:this.item.likes,likeRequestSending:!1}},computed:{...Object(s.b)({isLoggedIn:"auth/isLoggedIn",currentUserUid:"user/getUserUid",unconfirmedEmail:"user/isEmailUnverified"}),canDelete(){return this.modelUid===this.currentUserUid||this.item.user.userUid===this.currentUserUid},delUserAvatarStyle(){return this.isReply?{height:"20px",width:"20px"}:{height:"30px",width:"30px"}},hasNextPage(){return this.pageInfo&&this.item.replies.pageInfo.hasNextPage},pageInfo(){return this.item.replies&&this.item.replies.pageInfo},replyUid(){return this.item.commentUid}},methods:{reply(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item;this.showReplyInput?this.showReplyInput=!1:(this.showReplyInput=!0,this.$nextTick((()=>{this.$refs.commentAddNew.replyToComment(e)})))},loadMoreComments(){this.$emit("load-more-comments",this.item)},async likeUnlike(){if(this.likeRequestSending)return;this.likeRequestSending=!0;const{liked:e,likes:t}=this;this.likes+=this.liked?-1:1,this.liked=!this.liked;try{await this.$api.likes.toggleCommentLike(this.item.commentUid)}catch(i){this.likes=t,this.liked=e}finally{this.likeRequestSending=!1}}}},a=n,r=(i(1463),i(0)),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex my-1"},[e.item.user?t("sxc-avatar",{staticClass:"self-start",attrs:{name:e.item.user.displayName,avatar:e.item.user.avatar,size:e.isReply?20:30}}):t("div",{staticClass:"rounded-full bg-foreground w-5 h-5",style:e.delUserAvatarStyle}),e._v(" "),t("div",{staticClass:"comment-content flex flex-col items-start ml-2",class:e.isReply?"comment-content--reply":""},[t("div",{staticClass:"px-2 py-1.5 rounded-lg break-words max-w-full",class:e.primary?"bg-c-primary text-white":"bg-foreground"},[t("div",{staticClass:"flex flex-col"},[e.item.user?t("div",{staticClass:"leading-4 text-sm inline-flex items-center"},[t("span",{staticClass:"font-semibold"},[e._v("\n              "+e._s(e.item.user.username)+"\n            ")]),e._v(" "),e.likes?t("span",{staticClass:"font-light ml-1 inline-flex items-center"},[t("span",{staticClass:"mr-1"},[e._v(e._s(e._f("formatNumber")(e.likes)))]),e._v(" "),e.likes>1?t("span",[e._v(e._s(e.$t("comments.likes")))]):t("span",[e._v(e._s(e.$t("comments.like")))])]):e._e()]):t("span",{staticClass:"font-semibold text-sm leading-4 text-secondary"},[e._v("("+e._s(e.$t("comments.deleted"))+")")]),e._v(" "),t("span",{staticClass:"leading-5 font-normal text-base mt-0.5"},[e._v(e._s(e.item.text))])])]),e._v(" "),t("ul",{staticClass:"text-sm text-secondary flex"},[t("li",{},[e._v("\n          "+e._s(e._f("timeAgo")(e.item.createdAt))+"\n        ")]),e._v(" "),e.isLoggedIn&&!e.unconfirmedEmail?t("li",{staticClass:"cursor-pointer reply-item",attrs:{"test-class":"reply-to-comment-action relative","data-cy-id":"comment-reply-button"},on:{click:function(t){return e.reply()}}},[e._v("\n          "+e._s(e.$t("comments.reply_btn"))+"\n        ")]):e._e(),e._v(" "),e.isLoggedIn&&!e.unconfirmedEmail?t("li",{staticClass:"cursor-pointer reply-item",attrs:{"test-class":"like-comment-action relative","data-cy-id":"comment-like-button"},on:{click:function(t){return e.likeUnlike()}}},[e.liked?t("span",[e._v(e._s(e.$t("comments.unlike_btn")))]):t("span",[e._v(" "+e._s(e.$t("comments.like_btn")))])]):e._e(),e._v(" "),e.isLoggedIn&&e.canDelete?t("li",{staticClass:"cursor-pointer reply-item",attrs:{"test-class":"reply-to-comment-action relative","data-cy-id":"comment-delete-button"},on:{click:function(t){return e.$emit("delete-comment",e.item)}}},[e._v("\n          "+e._s(e.$t("global.delete"))+"\n        ")]):e._e()])])],1),e._v(" "),t("div",{staticClass:"reply-wrapper"},[e.showReplyInput?t("comment-add-new",{ref:"commentAddNew",attrs:{"media-uid":e.replyUid,"add-comment":e.addComment,"is-reply":""},on:{"hide-reply":function(t){e.showReplyInput=!1}},nativeOn:{"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),void(e.showReplyInput=!1))}}}):e._e(),e._v(" "),e.item.replies?t("comment-replies-list",{attrs:{items:e.item.replies.items,"has-next-page":e.hasNextPage,"add-comment":e.addComment,"model-uid":e.modelUid},on:{"load-more-comments":e.loadMoreComments,"delete-comment":function(t){return e.$emit("delete-comment",t)}}}):e._e()],1)])}),[],!1,null,"90d1cbb2",null);t.default=o.exports},1774:function(e,t,i){"use strict";i.r(t);var s={components:{LiveSettings:i(1245).default}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{"no-padding":""}},[t("LiveSettings",e._g(e._b({},"LiveSettings",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=a.exports},1781:function(e,t,i){"use strict";i.r(t);var s={data(){const e=this.$store.getters["user/getProfile"];return{socialForm:{instagram:e.instagramUsername,twitter:e.twitterUsername}}},methods:{normalizeSocialLink:e=>e?0===e.indexOf("@")?e.substring(1):e:null,async onSubmit(){if(""!==this.socialForm.instagram||""!==this.socialForm.twitter){const{user:e}=await this.$api.users.update({profile:{instagramUsername:this.normalizeSocialLink(this.socialForm.instagram),twitterUsername:this.normalizeSocialLink(this.socialForm.twitter)}});await this.$store.dispatch("user/updateUserProfile",e.profile)}}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.$t("social_accounts_modal.title")}},[t("sxc-form-container",{attrs:{"on-submit":e.onSubmit},on:{onSuccess:function(t){return e.$emit("close")}}},[t("ValidationProvider",{attrs:{name:e.$t("social_accounts_modal.instagram"),rules:"alpha_underscore_dot|max:50",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0],label:e.$t("social_accounts_modal.instagram")}},[t("sx-input",{attrs:{tabindex:1,placeholder:e.$t("edit_profile.instagram_placeholder")},scopedSlots:e._u([{key:"iconLeft",fn:function(){return[t("sx-icon",{staticClass:"text-neutral",attrs:{name:"instagram",height:"24"}})]},proxy:!0}],null,!0),model:{value:e.socialForm.instagram,callback:function(t){e.$set(e.socialForm,"instagram",t)},expression:"socialForm.instagram"}})],1)]}}])}),e._v(" "),t("ValidationProvider",{attrs:{name:e.$t("social_accounts_modal.twitter"),rules:"alpha_underscore_dot|max:50",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0],label:e.$t("social_accounts_modal.twitter")}},[t("sx-input",{attrs:{tabindex:2,placeholder:e.$t("edit_profile.twitter_placeholder")},scopedSlots:e._u([{key:"iconLeft",fn:function(){return[t("sx-icon",{staticClass:"text-neutral",attrs:{name:"twitter",height:"24"}})]},proxy:!0}],null,!0),model:{value:e.socialForm.twitter,callback:function(t){e.$set(e.socialForm,"twitter",t)},expression:"socialForm.twitter"}})],1)]}}])}),e._v(" "),t("sx-form-field",{attrs:{actions:"",center:""}},[t("sx-button",{attrs:{tabindex:3,"data-cy-id":"send-social-accounts-button",color:"c-primary",size:"R"}},[e._v("\n        "+e._s(e.$t("social_accounts_modal.ok_btn"))+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=a.exports},1782:function(e,t,i){"use strict";i.r(t);var s={props:{user:{type:Object,required:!0}},computed:{isCustomProfile(){return"creators"===this.user.username||"support"===this.user.username}}},n=(i(1172),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col h-full absolute w-full"},[t("div",{staticClass:"border-b border-divider py-4"},[t("div",{staticClass:"flex justify-center items-center header-container px-5"},[t("sxc-avatar",{staticClass:"flex-none avatar",attrs:{name:e.user.profile.displayName,avatar:e.user.profile.avatar,full:""}}),e._v(" "),t("span",{staticClass:"text-lg capitalize truncate font-medium ml-2.5 mr-2"},[e._v("\n        "+e._s(e.user.profile.displayName)+"\n      ")]),e._v(" "),e.isCustomProfile?t("div",{staticClass:"bg-c-secondary rounded-full p-1.25"},[t("sx-icon",{attrs:{name:"Checkmark",color:"white",height:"10"}})],1):e._e()],1)]),e._v(" "),t("sxc-messages-section",{attrs:{username:e.user.username,"display-name":e.user.profile.displayName,avatar:e.user.profile.avatar,"user-uid":e.user.userUid,"can-tip":e.user.isPublic}})],1)}),[],!1,null,"47e21d75",null);t.default=a.exports},1785:function(e,t,i){"use strict";i.r(t);var s={props:{isActive:{type:Boolean},idx:{type:Number,required:!0}}},n=i(0),a=Object(n.a)(s,(function(){var e=this;return(0,e._self._c)("div",{attrs:{"data-cy-id":e.isActive?"current-item":"","data-idx":e.idx}},[e._t("default")],2)}),[],!1,null,null,null);t.default=a.exports},1964:function(e,t,i){"use strict";i.r(t);i(1420);var s=i(128);class n{constructor(e,t,i){if(!e)throw"No endpoint given";if(!t)throw"No streamName given";this.endpoint=e,this.streamName=t,this.accessToken=i,this.ws=null,this.peerConnection=null,this.peerConfiguration=null,this.localOfferSDP=null,this.mediaStream=null,this.events={onStarted:[],onStopped:[],onError:[],onRtpProps:[],onMedia:[],onVideoBitrate:[],onVideoBitrateConstraint:[]}}start(){console.log("WebRTCStreamer Start");try{this.ws=new WebSocket(this._getSignalingURI()),this.ws.onopen=()=>this._EventHandler({type:"on_connected"}),this.ws.onmessage=e=>{try{this._EventHandler(JSON.parse(e.data))}catch(e){console.error("WebRTCStreamer Failed to parse a response from signalling server",e)}},this.ws.onclose=e=>{e.code,this._EventHandler({type:"on_disconnected"})}}catch(e){console.error("WebRTCStreamer Failed to create connection with signalling server",e)}}_getSignalingURI(){return"wss://"+this.endpoint+"/webrtc/"+this.streamName+(this.accessToken?"?id="+this.accessToken:"")}stop(){console.log("WebRTCStreamer Stop"),this.ws.close()}setRTPProps(e,t){this.ws&&1===this.ws.readyState&&this.ws.send(JSON.stringify({type:"rtp_props",nack:e,drop:t}))}setTargetVideoBitrate(e){this._SetVideoBitrate(e)}setPeerConfiguration(e){this.peerConfiguration=e}setMediaStream(e){this.mediaStream=e}updateMediaStream(e){this.mediaStream=e;const t=e.getVideoTracks();if(t.length>0){const[e]=t,s=this.peerConnection.getSenders().find((t=>t.track.kind===e.kind));try{s.replaceTrack(e)}catch(i){console.log(i)}}}getMediaStream(){return this.mediaStream}getStreamName(){return this.streamName}getStats(e){this.peerConnection&&this.peerConnection.getStats&&this.peerConnection.getStats(null).then((t=>e(t)))}addEventListener(e,t){"started"===e?this.events.onStarted.push(t):"stopped"===e?this.events.onStopped.push(t):"error"===e?this.events.onError.push(t):"rtp_props"===e?this.events.onRtpProps.push(t):"stats"===e?this.events.onMedia.push(t):"video_bitrate"===e?this.events.onVideoBitrate.push(t):"video_bitrate_constraint"===e&&this.events.onVideoBitrateConstraint.push(t)}_EventHandler(e){switch(e.type){case"on_connected":this._OnConnected();break;case"on_disconnected":case"on_stop":this._OnDisconnected();break;case"on_answer_sdp":e.answer_sdp?this._OnAnswerSDP(e.answer_sdp):this._OnDisconnected();break;case"on_error":this._OnError(e);break;case"on_video_bitrate":this._OnVideoBitrate(e);break;case"on_track_drop":this._OnTrackDrop(e);break;case"on_rtp_props":this._OnRtpProps(e);break;case"on_media_receive":this._OnMediaReceive(e);break;default:console.warn("WebRTCStreamer Unhandled event:",e.type)}}_OnConnected(){console.log("WebRTCStreamer OnConnected"),this.peerConnection=new RTCPeerConnection(this.peerConfiguration),this.peerConnection.addStream(this.mediaStream),this.peerConnection.createOffer({offerToReceiveVideo:!1,offerToReceiveAudio:!1}).then(this._OnGotOfferSuccess.bind(this)).catch((e=>console.error("WebRTCStreamer Could not to get offer",e)))}_OnDisconnected(){console.log("WebRTCStreamer OnDisconnected"),this.ws&&this.ws.close(),this.ws=null,this.peerConnection&&(this.peerConnection.getLocalStreams().forEach((e=>e.getTracks().forEach((e=>e.stop())))),this.peerConnection.close(),this.peerConnection=null),this.events.onStopped.forEach((e=>e()))}_OnTrackDrop(e){console.log("WebRTCStreamer OnTrackDrop",e);let t="?",i="?";e.hasOwnProperty("mediatype")&&(t=e.mediatype),e.hasOwnProperty("track")&&(i=e.track);let s="".concat(t," track #").concat(i," dropped");this.events.onError.forEach((e=>e(s)))}_OnRtpProps(e){console.log("WebRTCStreamer OnRtpProps"),this.events.onRtpProps.forEach((e=>e()))}_OnMediaReceive(e){this.events.onMedia.forEach((t=>t(e)))}_OnAnswerSDP(e){console.log("WebRTCStreamer OnAnswerSDP"),console.log(e);let t=new RTCSessionDescription({type:"answer",sdp:e});this.peerConnection.setRemoteDescription(t).then(this._OnSetRemoteAnswerSuccess.bind(this)).catch((e=>console.error("WebRTCStreamer Failed to set the remote SDP answer",e)))}_OnVideoBitrate(e){this.events.onVideoBitrate.forEach((t=>t(e.video_bitrate,e.video_bitrate_constraint))),e.hasOwnProperty("video_bitrate_constraint")&&this.events.onVideoBitrateConstraint.forEach((t=>t(e.video_bitrate,e.video_bitrate_constraint)))}_OnError(e){console.error("WebRTCStreamer",e.error)}_OnGotOfferSuccess(e){console.log("WebRTCStreamer OnGotOfferSuccess"),console.log(e.sdp),this.localOfferSDP=e.sdp,this.peerConnection.setLocalDescription(e).then(this._OnSetOfferSuccess.bind(this)).catch((e=>console.error("WebRTCStreamer Failed to set the local offer",e)))}_OnSetOfferSuccess(){console.log("WebRTCStreamer OnSetOfferSuccess"),this.ws.send(JSON.stringify({type:"offer_sdp",offer_sdp:this.localOfferSDP}))}_OnSetRemoteAnswerSuccess(){console.log("WebRTCStreamer OnSetRemoteAnswerSuccess"),this.events.onStarted.forEach((e=>e()))}_SetVideoBitrate(e){this.ws&&1===this.ws.readyState&&this.ws.send(JSON.stringify({type:"video_bitrate",video_bitrate:e}))}}class a{constructor(e){if(!e)throw"No signalling given";this.signalling=e,this.signalling.addEventListener("started",this._onStreamingStarted.bind(this)),this.signalling.addEventListener("stopped",this._onStreamingStopped.bind(this)),this.signalling.addEventListener("stats",this._onStats.bind(this)),this.signalling.addEventListener("video_bitrate",this._onVideoBitrate.bind(this)),this.wsStats=null,this.monitoringInterval=null,this.retryTimer=null,this.latestStats=null,this.targetVideoBitrate=null,this.constraintVideoBitrate=null,this.lastBytesSend=0,this.lastBytesSendCollectingTimestamp=Date.now()}_onStreamingStarted(){console.log("WebRTCStatsMonitoring::OnStreamingStarted"),this.wsStats=new WebSocket("wss://ceeblue.tv/stats/ws/metrics"),this.monitoringInterval=setInterval((()=>{this.signalling.getStats(this._collectWebRTCStats.bind(this))}),1e3)}_onStreamingStopped(){console.log("WebRTCStatsMonitoring::OnStreamingStopped"),this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null),this.wsStats&&(this.wsStats.close(),this.wsStats=null)}_onStats(e){this.statsTimestamp=Date.now(),this.latestStats=e}_onVideoBitrate(e,t){this.targetVideoBitrate=e,this.constraintVideoBitrate=t}_collectWebRTCStats(e){let t={};const i=Array.from(e.values()),s=i.filter((e=>"candidate-pair"===e.type)).filter((e=>e.hasOwnProperty("selected")?e.selected:!e.hasOwnProperty("nominated")||e.nominated));s.length>1&&console.error("candidate-pair > 1",s);for(const n of s){t.sessionId=n.id,t.timestamp=n.timestamp,t.currentRoundTripTime=n.currentRoundTripTime,t.totalRoundTripTime=n.totalRoundTripTime,t.requestsReceived=n.requestsReceived,t.requestsSent=n.requestsSent,t.responsesReceived=n.responsesReceived,t.responsesSent=n.responsesSent,t.bytesSent=n.bytesSent,t.bytesReceived=n.bytesReceived;const e=t.bytesSent-this.lastBytesSend;this.lastBytesSend=t.bytesSent;const s=Date.now(),a=(s-this.lastBytesSendCollectingTimestamp)/1e3;this.lastBytesSendCollectingTimestamp=s,t.availableOutgoingBitrate=8*e/a;let r=i.filter((e=>"outbound-rtp"===e.type)).filter((e=>!e.transportId||e.transportId===n.transportId));for(const n of r){let e={};if(t[n.mediaType]=e,e.bytesSent=n.bytesSent,e.packetsSent=n.packetsSent,e.retransmittedBytesSent=n.retransmittedBytesSent,e.retransmittedPacketsSent=n.retransmittedPacketsSent,"video"===n.mediaType){e.firCount=n.firCount,e.framesEncoded=n.framesEncoded,e.nackCount=n.nackCount,e.totalEncodeTime=n.totalEncodeTime;let t=i.filter((e=>"track"===e.type)).filter((e=>e.id===n.trackId));if(t.length>=1)e.frameWidth=t[0].frameWidth,e.frameHeight=t[0].frameHeight,e.framesSent=t[0].framesSent,e.hugeFramesSent=t[0].hugeFramesSent,t.length>1&&console.error("video tracks > 1",t);else{e.framesSent=n.framesEncoded;let t=this.signalling.getMediaStream().getVideoTracks().find((()=>!0));t&&(e.frameWidth=t.getSettings().width,e.frameHeight=t.getSettings().height)}}}break}this._reportMetrics(t)}_reportMetrics(e){e.streamId=this.signalling.getStreamName(),this.latestStats&&(e.server={millis:this.latestStats.millis,tracks:this.latestStats.tracks},this.latestStats.stats&&(e.server.jitterMs=this.latestStats.stats.jitter_ms,e.server.lossNum=this.latestStats.stats.loss_num,e.server.lossPerc=this.latestStats.stats.loss_perc,e.server.nackNum=this.latestStats.stats.nack_num),this.latestStats=null),e.vbt=this.targetVideoBitrate,e.vbc=this.constraintVideoBitrate,this.wsStats&&1===this.wsStats.readyState&&this.wsStats.send(JSON.stringify(e))}}class r{constructor(e){if(!e)throw"No signalling given";this.signalling=e,this.signalling.addEventListener("started",this._onStreamingStartedHandler.bind(this)),this.signalling.addEventListener("stopped",this._onStreamingStoppedHandler.bind(this)),this.signalling.addEventListener("stats",this._onStatsHandler.bind(this)),this.signalling.addEventListener("video_bitrate",this._onVideoBitrateHandler.bind(this)),this.lossPercents=[],this.lossPercentsCapacity=5,this.targetVideoBitrateLimit=3e6,this.targetVideoBitrateStartup=2e6,this.minVideoBitrate=2e5,this.constraintVideoBitrate=0,this.targetVideoBitrate=0,this.stableVideoBitrate=[],this.stableVideoBitrateCapacity=15,this.stableVideoBitrateUpdateTimestamp=null,this.dropStatistic=[],this.dropStatisticCapasity=10,this.bitrateRecoveryMinTimeout=2500,this.bitrateRecoveryMaxTimeout=6e4,this.videoBitrateRecoveryTimer=null,this.bitrateRecoveryTimeout=1e4,this.bitrateRecoveryTimestamp=null,this.bitrateConstraintTimestamp=null,this.bitrateBeforeDrop=null}setVideoBitrateLimit(e){this.targetVideoBitrateLimit=e}setStartupVideoBitrate(e){this.targetVideoBitrateStartup=e}_onStreamingStartedHandler(){console.log("WebRTCAdaptiveInputManager::onStreamingStarted"),this._setTargetVideoBitrate(this.targetVideoBitrateStartup)}_onStreamingStoppedHandler(){console.log("WebRTCAdaptiveInputManager::onStreamingStopped"),this._stopVideoBitrateRecoveryTimer()}_onStatsHandler(e){if(e&&e.hasOwnProperty("stats")&&e.stats.hasOwnProperty("loss_perc")&&this._append(this.lossPercents,this.lossPercentsCapacity,e.stats.loss_perc),Date.now()-this.stableVideoBitrateUpdateTimestamp>4e3){this._average(this.lossPercents)<.2&&(this._updateStableVideoBitrate(),this.stableVideoBitrateUpdateTimestamp=Date.now())}let t=this._getStableVideoBitrate(),i=Math.min(...this.stableVideoBitrate),s=Math.max(...this.stableVideoBitrate);i>=.8*t&&s<=1.2*t&&this._updateVideoConstrains()}_onVideoBitrateHandler(e,t){if(console.log("WebRTCAdaptiveInputManager::onVideoBitrateConstraint target: ".concat(this._formatBitrate(e)," constraint: ").concat(this._formatBitrate(t))),this.targetVideoBitrate=e,t<this.constraintVideoBitrate){if(console.log("WebRTCAdaptiveInputManager::constraint: ".concat(this._formatBitrate(t-this.constraintVideoBitrate))),null===this.bitrateConstraintTimestamp)null===this.bitrateRecoveryTimestamp&&(console.log("WebRTCAdaptiveInputManager::constraint First constrain! Halve bitrate!"),this._setTargetVideoBitrate(e/2),this.bitrateBeforeDrop=this.targetVideoBitrate);else if(this.bitrateRecoveryTimestamp){(Date.now()-this.bitrateRecoveryTimestamp<this.bitrateRecoveryTimeout||this.bitrateRecoveryTimeout===this.bitrateRecoveryMinTimeout)&&(this._setBitrateRecoveryTimeout(this._increaseRecoveryTimeout()),this.bitrateRecoveryTimestamp=null)}this.bitrateConstraintTimestamp=Date.now()}this.constraintVideoBitrate=t,this.constraintVideoBitrate<this.minVideoBitrate&&this._setTargetVideoBitrate(this.minVideoBitrate),this.targetVideoBitrateLimit>this.constraintVideoBitrate&&this._startVideoBitrateRecoveryTimer()}_startVideoBitrateRecoveryTimer(){console.log("WebRTCAdaptiveInputManager::startVideoBitrateRecoveryTimer",this.bitrateRecoveryTimeout),this._stopVideoBitrateRecoveryTimer(),this.videoBitrateRecoveryTimer=setTimeout(this._videoBitrateRecoveryHandler.bind(this),this.bitrateRecoveryTimeout)}_stopVideoBitrateRecoveryTimer(){null!==this.videoBitrateRecoveryTimer&&(clearTimeout(this.videoBitrateRecoveryTimer),this.videoBitrateRecoveryTimer=null)}_videoBitrateRecoveryHandler(){let e=this._average(this.lossPercents);if(console.log("WebRTCAdaptiveInputManager::videoBitrateRecoveryHandler loss: ".concat(e.toFixed(2))),e<.2){this._detectVideoBitrateDrop();let e=this._increaseTargetBitrate(),t=this._getStableVideoBitrate();return null!==this.bitrateConstraintTimestamp&&e>t&&(e=this._increaseTargetBitrate(1.005)),this._setBitrateRecoveryTimeout(this._decreaseRecoveryTimeout()),console.log("WebRTCAdaptiveInputManager::videoBitrateRecoveryHandler increase bitrate to ".concat(this._formatBitrate(e))),this._setTargetVideoBitrate(e),void(this.bitrateRecoveryTimestamp=Date.now())}if(e<5){this._setBitrateRecoveryTimeout(this._increaseRecoveryTimeout()),this._detectVideoBitrateDrop();let e=this._decreaseTargetBitrate();return console.log("WebRTCAdaptiveInputManager::videoBitrateRecoveryHandler decrease bitrate to ".concat(this._formatBitrate(e))),void this._setTargetVideoBitrate(e)}this._startVideoBitrateRecoveryTimer()}_detectVideoBitrateDrop(){(this.targetVideoBitrate>this.constraintVideoBitrate||null!==this.bitrateBeforeDrop)&&(this._append(this.dropStatistic,this.dropStatisticCapasity,{beforeDrop:null!=this.bitrateBeforeDrop?this.bitrateBeforeDrop:this.targetVideoBitrate,afterDrop:this.constraintVideoBitrate}),this.bitrateBeforeDrop=null)}_increaseTargetBitrate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.05,t=this.constraintVideoBitrate*e;return t>this.targetVideoBitrateLimit&&(t=this.targetVideoBitrateLimit),t}_decreaseTargetBitrate(){let e=.99*this.constraintVideoBitrate;return e>this.targetVideoBitrateLimit&&(e=this.targetVideoBitrateLimit),e}_increaseRecoveryTimeout(){let e=2*this.bitrateRecoveryTimeout;return e>=this.bitrateRecoveryMaxTimeout&&(e=this.bitrateRecoveryMaxTimeout),Math.trunc(e)}_decreaseRecoveryTimeout(){let e=.75*this.bitrateRecoveryTimeout;return e<=this.bitrateRecoveryMinTimeout&&(e=this.bitrateRecoveryMinTimeout),Math.trunc(e)}_setBitrateRecoveryTimeout(e){this.bitrateRecoveryTimeout=e}_setTargetVideoBitrate(e){this.signalling.setTargetVideoBitrate(Math.max(Math.trunc(e),this.minVideoBitrate))}_getMinVideoBitrate(){return Math.min(this.constraintVideoBitrate,this.targetVideoBitrate,this.targetVideoBitrateLimit)}_updateStableVideoBitrate(){this._append(this.stableVideoBitrate,this.stableVideoBitrateCapacity,this._getMinVideoBitrate())}_getStableVideoBitrate(){return this._average(this.stableVideoBitrate)}_average(e){return e.reduce(((e,t)=>e+t),0)/e.length}_append(e,t,i){e.push(i),e.length>t&&e.shift()}_formatBitrate(e){return(e/1e6).toFixed(3)}_updateVideoConstrains(){let e=12e5,t=this._getStableVideoBitrate(),i=this._getVideoTrack();if(i){let s=i.getSettings().width,n=i.getSettings().height;if(s&&n){let a=s*n;t>=e&&a<645120&&this._upgradeConstrain(i,2),t<e&&a>645120&&a<1198080&&this._upgradeConstrain(i,.5)}}}_upgradeConstrain(e,t){let i=e.getSettings().width,s=e.getSettings().height,n=i*t,a=s*t;console.log("WebRTCAdaptiveInputManager::upgradeConstrain ".concat(i,"X").concat(s," => ").concat(n,"X").concat(a)),e.applyConstraints({width:n,height:a})}_getVideoTrack(){let e=this.signalling.getMediaStream().getVideoTracks();if(e.length>0)return e[0]}}var o=i(260),l={props:{endpoint:{type:String,required:!0},streamName:{type:String,required:!0},accessToken:{type:String,required:!0},streamUid:{type:String,required:!0},userUid:{type:String,required:!0},subsOnly:Boolean},data(){return{viewersCount:0,hasCameraAccess:!1,localMediaStream:null,remoteMediaStream:null,isLive:!1,broadcastStarting:!1,hasRearCamera:!1,micOn:!0,cameraOn:!0,cameraOffInternal:!1,animationFrameId:null,isVerificationComplete:Boolean(Number("0")),isVerificationInProgress:!1,verificationCounter:10,verificationInterval:null,subsOnlyValue:this.subsOnly,constraints:{audio:!0,video:{facingMode:"user",frameRate:30,aspectRatio:16/9,width:{max:1080},height:{max:1920}}},i18nConstants:o.a,hasConsentedUsers:!1}},watch:{"$orientation.isPortrait":function(){this.updateCanvasProps()},async streamUid(){await this.$wsclient.unsubscribe("liveChat/".concat(this.streamUid)),await this.initWS()}},computed:{...Object(s.b)({modelName:"user/getDisplayName"}),subscriptionsEnabled(){return this.$store.getters["user/getSettings"].subscriptionsEnabled},cameraDisabled(){return!this.cameraOn||this.cameraOffInternal},userFacingCameraActive(){return"user"===this.constraints.video.facingMode},goLiveButtonText(){return this.broadcastStarting?this.$t("user_menu.starting_btn"):this.$t("user_menu.go_live_btn")},verificationButtonText(){return this.isVerificationInProgress?this.$t("live.verification_in_progress"):this.$t("live.start_verification_btn")}},async mounted(){await this.initWS(),await this.requestCameraAccess();const e=await navigator.mediaDevices.enumerateDevices();this.hasRearCamera=this.$isMobile&&e.filter((e=>{let{kind:t}=e;return"videoinput"===t})).length>1},async beforeDestroy(){var e,t,i;null===(e=this.localMediaStream)||void 0===e||e.getTracks().forEach((e=>e.stop())),null===(t=this.remoteMediaStream)||void 0===t||t.getTracks().forEach((e=>e.stop())),null===(i=this.signalling)||void 0===i||i.stop(),cancelAnimationFrame(this.animationFrameId),await this.$wsclient.unsubscribe("liveChat/".concat(this.streamUid))},methods:{configureStreamers(){this.$refs.listStreamersPage.open()},setConsentedUsers(e){this.hasConsentedUsers=e},startVerification(){this.isVerificationComplete||this.isVerificationInProgress||(this.isVerificationInProgress=!0,this.verificationInterval=setInterval((()=>{if(this.cameraOffInternal)return;const e=function(e){const t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(t.length);for(let n=0;n<t.length;n+=1)s[n]=t.charCodeAt(n);return new Blob([s],{type:i})}(this.$refs.stream.toDataURL());try{this.$api.streams.uploadScreenshot(e,this.streamUid)}catch(t){this.$logError(t)}finally{this.verificationCounter-=1}0===this.verificationCounter&&(this.isVerificationInProgress=!1,this.isVerificationComplete=!0,clearInterval(this.verificationInterval))}),1e3))},async initWS(){await this.$wsclient.subscribe("liveChat/".concat(this.streamUid)),this.$wsclient.on("liveChat/".concat(this.streamUid),"liveChat.streamUpdate",(async e=>{!this.isLive&&e.isOnline&&(this.broadcastStarting=!1),this.isLive&&!e.isOnline&&await this.onStreamingStopped(),this.isLive=e.isOnline})),this.$wsclient.on("liveChat/".concat(this.streamUid),"liveChat.actions",(async e=>{"viewersCount"===e.type&&(this.viewersCount=e.totalViewers),"stoppedStream"===e.type&&(await this.showStreamStoppedAlert(),await this.onStreamingStopped())}))},showStreamStoppedAlert(){return new Promise((e=>{this.$modal.open({parent:this,title:this.$t("live.stream_suspended"),content:this.$t("live.stream_stopped_error_msg",{supportEmail:o.a.supportEmail}),doneText:this.$t("global.ok")},{close:()=>e({status:"closed"})},"alert")}))},async onSubsOnlyChange(e){if(!this.updateInProgress){this.updateInProgress=!0,this.subsOnlyValue=e;try{const t=await this.$api.streams.updateStream({subsOnly:e,isCameraOn:!0,isMicOn:!0});this.$emit("update-stream",t)}catch(t){this.$showErrorMessage(t.localizedMessage),this.subsOnlyValue=!this.subsOnlyValue}finally{this.updateInProgress=!1}}},toggleMic(){const[e]=this.remoteMediaStream.getAudioTracks();e&&(e.enabled=!this.micOn),this.micOn=!this.micOn},toggleCamera(){this.cameraOn=!this.cameraOn},async onControlToggle(e){if(!this.updateInProgress){this.updateInProgress=!0,"mic"===e?this.toggleMic():"camera"===e&&this.toggleCamera();try{await this.$api.streams.updateStream({isCameraOn:this.cameraOn,isMicOn:this.micOn})}catch(t){this.$showErrorMessage(t.localizedMessage)}finally{this.updateInProgress=!1}}},async requestCameraAccess(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{this.localMediaStream=await navigator.mediaDevices.getUserMedia(this.constraints),this.$refs.preview.srcObject=this.localMediaStream,this.$refs.preview.muted=!0,e&&(this.$refs.preview.onloadedmetadata=()=>this.prepareCanvas()),this.hasCameraAccess=!0}catch(t){this.hasCameraAccess=!1}},drawFrame(){var e;const t=this.$refs.stream.getContext("2d"),i=null===(e=this.localMediaStream.getVideoTracks())||void 0===e?void 0:e.pop(),{videoWidth:s,videoHeight:n}=this.$refs.preview;if(this.localMediaStream&&i)if(this.cameraDisabled)t.fillStyle="#000",t.fillRect(0,0,s,n);else{const{width:e,height:s}=i.getSettings();t.drawImage(this.$refs.preview,0,0,e,s,0,0,e,s)}},drawFrameRAF(){let e=(new Date).getTime();const t=()=>{(new Date).getTime()-e>=1e3/30&&(this.drawFrame(),e=(new Date).getTime()),this.animationFrameId=requestAnimationFrame(t)};this.animationFrameId=requestAnimationFrame(t)},prepareCanvas(){try{var e;const t=this.$refs.stream.getContext("2d"),i=null===(e=this.localMediaStream.getVideoTracks())||void 0===e?void 0:e.pop(),{width:s,height:n}=i.getSettings();this.remoteMediaStream=new MediaStream;let a=30;if("function"==typeof i.getCapabilities){const{frameRate:e}=i.getCapabilities();a=(null==e?void 0:e.max)||a}const r=this.$refs.stream.captureStream(a);this.remoteMediaStream.addTrack(r.getVideoTracks()[0]),this.localMediaStream.getAudioTracks().forEach((e=>this.remoteMediaStream.addTrack(e))),this.$refs.stream.height=n,this.$refs.stream.width=s,t.fillStyle="#000000",t.fillRect(0,0,n,s),this.drawFrameRAF()}catch(t){this.$logError(t)}},updateCanvasProps(){var e;const t=null===(e=this.localMediaStream.getVideoTracks())||void 0===e?void 0:e.pop(),{width:i,height:s}=t.getSettings();this.$refs.stream.height=s,this.$refs.stream.width=i;const n=this.$refs.stream.getContext("2d");n.fillStyle="#000000",n.fillRect(0,0,s,i)},async onStreamingStopped(){this.localMediaStream.getTracks().forEach((e=>e.stop())),this.remoteMediaStream.getTracks().forEach((e=>e.stop())),cancelAnimationFrame(this.animationFrameId),await this.$router.push("/account")},async setGoLiveMessage(){const{followers:e}=this.$store.state.socials;if(0===e)return Promise.resolve({status:"send"});const t=this.$store.getters["user/getSettings"].goLiveMessage||"";return new Promise((s=>{this.$modal.open({parent:this,component:()=>Promise.resolve().then(i.bind(null,2e3)),meta:{name:"LiveMessageModal"},smallTitle:!0,props:{message:t,title:this.$t("live.message_followers_title",[e])},events:{send:()=>s({status:"send"})}},{close:()=>s({status:"closed"})})}))},async initStream(){if(this.broadcastStarting)return;const{status:e}=await this.setGoLiveMessage();if("closed"!==e){this.broadcastStarting=!0;try{const e=new n(this.endpoint,this.streamName,this.accessToken);this.signalling=e;const t=new r(e);new a(e);t.setVideoBitrateLimit(3e6),t.setStartupVideoBitrate(21e5),e.setMediaStream(this.remoteMediaStream),e.start()}catch(t){this.broadcastStarting=!1}}},async stopStream(){this.signalling.stop(),await this.$api.streams.stopStream()},openSettings(){this.$drawer.open({component:()=>Promise.resolve().then(i.bind(null,1245)),meta:{name:"LiveSettings"},canCancel:["x"],parent:this,props:{canStopLive:!0},events:{stop:()=>this.stopStream(),tip:()=>this.configureTipMenu()}})},async switchCamera(){if(this.updateInProgress)return;this.updateInProgress=!0;const{facingMode:e}=this.constraints.video;this.constraints.video.facingMode="user"===e?"environment":"user",this.cameraOffInternal=!0;const t=new MediaStream;this.localMediaStream.getVideoTracks().forEach((e=>e.stop()));const i=await navigator.mediaDevices.getUserMedia({...this.constraints,audio:!1});t.addTrack(i.getVideoTracks()[0]),t.addTrack(this.localMediaStream.getAudioTracks()[0]),this.localMediaStream=t,this.$refs.preview.srcObject=this.localMediaStream,this.$refs.preview.muted=!0,this.cameraOffInternal=!1,this.updateInProgress=!1},configureTipMenu(){this.$drawer.open({component:()=>i.e(108).then(i.bind(null,1804)),meta:{name:"TipMenuWrapper"},canCancel:["escape","swipe","outside"],height:82,parent:this,rounded:!1,props:{isLive:this.isLive}})}}},c=l,d=(i(1483),i(0)),u=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative flex flex-col w-full h-full bg-medium-black overflow-hidden"},[e.isLive?e._e():t("sx-icon",{staticClass:"text-white absolute top-6 left-6 z-20",attrs:{name:"CloseBold",height:"24"},on:{click:e.onStreamingStopped}}),e._v(" "),e.isLive?t("sxc-stream-header",{attrs:{"show-logo":"","show-badge":e.isLive,"model-name":e.modelName,count:e.viewersCount,"camera-on":e.cameraOn,"mic-on":e.micOn}}):e._e(),e._v(" "),e.hasCameraAccess?e._e():t("sxc-no-camera-access",{nativeOn:{click:function(t){return e.requestCameraAccess.apply(null,arguments)}}}),e._v(" "),t("sxc-live-controls",{directives:[{name:"show",rawName:"v-show",value:e.$orientation.isPortrait,expression:"$orientation.isPortrait"}],attrs:{"is-live":e.isLive,"mic-on":e.micOn,"camera-on":e.cameraOn,"face-user":e.userFacingCameraActive,"has-rear-camera":e.hasRearCamera},on:{toggle:e.onControlToggle,settings:e.openSettings,"rotate-camera":e.switchCamera}}),e._v(" "),e.isLive?t("div",{directives:[{name:"show",rawName:"v-show",value:e.$orientation.isPortrait,expression:"$orientation.isPortrait"}],staticClass:"live-container absolute w-full h-full pb-4 pl-2"},[t("sxc-live-chat-wrapper",{attrs:{"chat-view":"creator","stream-uid":e.streamUid,"streamer-uid":e.userUid}})],1):e._e(),e._v(" "),t("video",{ref:"preview",staticClass:"w-full h-full absolute",class:{"-scale-x-1 transform":e.userFacingCameraActive},attrs:{playsinline:"",autoplay:"",muted:""},domProps:{muted:!0}}),e._v(" "),t("canvas",{ref:"stream",staticClass:"w-full absolute invisible"}),e._v(" "),e.isVerificationComplete?e._e():t("div",{staticClass:"verification-notice",class:{"no-consented-users":!e.hasConsentedUsers}},[t("p",{staticClass:"text-white text-lg"},[e._v("\n      "+e._s(e.$t("live.verification_notice.nr1"))+"\n    ")]),e._v(" "),t("p",{staticClass:"text-white opacity-80 font-semibold text-base mt-1.25"},[e._v("\n      "+e._s(e.$t("live.verification_notice.nr2"))+"\n    ")])]),e._v(" "),t("div",{staticClass:"mb-5 mx-4",class:e.isVerificationComplete?"mt-auto":"mt-5"},[!e.isLive&&!e.broadcastStarting&&e.isVerificationComplete&&e.subscriptionsEnabled?t("div",{staticClass:"flex mb-6 justify-between items-center"},[t("span",{staticClass:"text-white z-30 transform-gpu"},[e._v("\n        "+e._s(e.$t("live.subscribers_only_label"))+"\n      ")]),e._v(" "),t("sx-switch",{staticClass:"z-30 transform-gpu",attrs:{disabled:e.broadcastStarting,value:e.subsOnlyValue,color:"green"},on:{change:e.onSubsOnlyChange}})],1):e._e(),e._v(" "),!e.isLive&&e.isVerificationComplete?[e.broadcastStarting?e._e():t("sx-button",{staticClass:"tip-menu-button",attrs:{size:"R",block:"",ghost:"",color:"white","data-cy-id":"tip-menu-button"},on:{click:e.configureTipMenu}},[e._v("\n        "+e._s(e.$t("live.tip_menu_show_btn"))+"\n      ")]),e._v(" "),t("sx-button",{class:e.broadcastStarting?"in-progress":"",attrs:{disabled:!e.hasCameraAccess,size:"R",block:"",color:e.broadcastStarting?"custom":"c-secondary","data-cy-id":"go-live-button"},on:{click:e.initStream}},[t("sx-icon",{staticClass:"mr-1",attrs:{name:"VideoCameraOutlined",height:"20"}}),t("p",{staticClass:"button-text"},[e._v("\n          "+e._s(e.goLiveButtonText)+"\n        ")])],1)]:e.isVerificationComplete?e._e():[!e.isVerificationInProgress&&e.hasConsentedUsers?t("sx-button",{staticClass:"streamers-button",attrs:{size:"R",block:"",ghost:"",color:"white","data-cy-id":"configure-streamers-button"},on:{click:function(t){return e.configureStreamers()}}},[e._v("\n        "+e._s(e.$t("live.manage_streamers"))+"\n      ")]):e._e(),e._v(" "),t("sx-button",{class:e.isVerificationInProgress?"in-progress":"",attrs:{disabled:!e.hasCameraAccess,size:"R",block:"",color:e.isVerificationInProgress?"custom":"green","data-cy-id":"start-verification-button"},on:{click:e.startVerification}},[t("sx-icon",{staticClass:"mr-1",attrs:{name:"BorderedCheckmark",height:"20"}}),t("p",{staticClass:"button-text"},[e._v("\n          "+e._s(e.verificationButtonText)+"\n        ")]),e._v(" "),e.isVerificationInProgress?t("p",{staticClass:"ml-4"},[e._v("\n          "+e._s(e.verificationCounter)+"\n        ")]):e._e()],1)]],2),e._v(" "),e.isVerificationComplete||e.isVerificationInProgress?e._e():t("sxcm-list-streamers-page",{ref:"listStreamersPage",on:{"has-consented-users":e.setConsentedUsers}})],1)}),[],!1,null,"32c961d0",null);t.default=u.exports},1965:function(e,t,i){"use strict";i.r(t);i(1420);var s,n={format:{time:function(e,t){if(isNaN(e)||!isFinite(e))return e;t||(t={});var i=e<0?" ago":"";e=Math.abs(e);var s=Math.floor(e/86400);e-=86400*s;var n=Math.floor(e/3600);e-=3600*n;var a=Math.floor(e/60),r=Math.round(e%1*1e3);e=Math.floor(e-60*a);var o=[];return s&&(s=s+" day"+(s>1?"s":"")+", "),n||s?(o.push(n),o.push(("0"+a).slice(-2))):o.push(a),o.push(("0"+Math.floor(e)).slice(-2)),t.ms&&(o[o.length-1]+="."+("000"+r).slice(-3)),(s||"")+o.join(":")+i},ucFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},number:function(e){if(isNaN(Number(e))||0===Number(e))return e;var t=Math.max(3,Math.ceil(Math.log(e)/Math.LN10)),i=Math.pow(10,t-Math.floor(Math.log(e)/Math.LN10)-1);if((e=Math.round(e*i)/i)>=1e4){for(var s=e.toString().split("."),n=/(\d+)(\d{3})/;n.test(s[0]);)s[0]=s[0].replace(n,"$1 $2");e=s.join(".")}return e},bytes:function(e,t){if(isNaN(Number(e)))return e;var i,s=t?["bits","Kb","Mb","Gb","Tb","Pb"]:["bytes","KB","MB","GB","TB","PB"];if(0==e)i=s[0];else{var n=Math.floor(Math.log(Math.abs(e))/Math.log(1024));n<0?i=s[0]:(e/=Math.pow(1024,n),i=s[n])}return this.number(e)+i},bits:function(e){return this.bytes(e,!0)},mime2human:function(e){switch(e){case"html5/video/webm":return"WebM";case"html5/application/vnd.apple.mpegurl":return"HLS (TS)";case"html5/application/vnd.apple.mpegurl;version=7":return"HLS (CMAF)";case"flash/10":return"Flash (RTMP)";case"flash/11":return"Flash (HDS)";case"flash/7":return"Flash (Progressive)";case"html5/video/mpeg":return"TS";case"html5/application/vnd.ms-sstr+xml":case"html5/application/vnd.ms-ss":return"Smooth Streaming";case"dash/video/mp4":return"DASH";case"webrtc":return"WebRTC";case"silverlight":return"Smooth streaming (Silverlight)";case"html5/text/vtt":return"VTT subtitles";case"html5/text/plain":return"SRT subtitles";default:return e.replace("html5/","").replace("video/","").replace("audio/","").toLocaleUpperCase()}}},class:{add:function(e,t){if("classList"in e)e.classList.add(t);else{var i=this.get(e);i.push(t),this.set(e,i)}},remove:function(e,t){if("classList"in e)e.classList.remove(t);else{for(var i=this.get(e),s=i.length-1;s>=0;s--)i[s]==t&&i.splice(s);this.set(e,i)}},get:function(e){var t=e.getAttribute("class");return t&&""!=t?t.split(" "):[]},set:function(e,t){e.setAttribute("class",t.join(" "))},has:function(e,t){return e.className.split(" ").indexOf(t)>=0}},object:{extend:function(e,t,i){for(var s in t)!i||"object"!=typeof t[s]||"nodeType"in t[s]?e[s]=t[s]:(s in e||(n.array.is(t[s])?e[s]=[]:e[s]={}),this.extend(e[s],t[s],!0));return e},keys:function(e,t){var i=[];for(var s in e)i.push(s);return t&&("function"!=typeof t&&(t=function(e,t){return e.localeCompare(t)}),i.sort((function(i,s){return t(i,s,e[i],e[s])}))),i},values:function(e,t){var i=this.keys(e,t);let s=[];for(var n in i)s.push(e[i[n]]);return s}},array:{indexOf:function(e,t){if(!(e instanceof Array))throw"Tried to use indexOf on something that is not an array";if("indexOf"in e)return e.indexOf(t);for(var i;i<e.length;i++)if(e[i]==t)return i;return-1},is:function(e){return"isArray"in Array?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},multiSort:function(e,t){var i=function(e,t){return isNaN(e)||isNaN(t)?e.localeCompare(t):Math.sign(e-t)};if(!t.length)return e.sort(i);function s(e,t){function i(e,t,i){if(!(t in e))throw"Invalid sorting rule: "+JSON.stringify([t,i])+'. "'+t+'" is not a key of '+JSON.stringify(e);if("number"==typeof i&&t in e)return e[t]*i;var s=i.indexOf(e[t]);return s>=0?s:i.length}if("function"==typeof e)return e(t);if("object"==typeof e){if(e instanceof Array)return i(t,e[0],e[1]);for(var s in e)return i(t,s,e[s])}if(e in t)return t[e];throw"Invalid sorting rule: "+e+". This should be a function, object or key of "+JSON.stringify(t)+"."}return e.sort((function(e,n){var a=0;for(var r in t){var o=t[r];if(0!=(a=i(s(o,e),s(o,n))))break}return a})),e}},createUnique:function(){var e="uid"+Math.random().toString().replace("0.","");return document.querySelector("."+e)?createUnique():e},http:{getpost:function(e,t,i,s,n){var a=new XMLHttpRequest;if(a.open(e,t,!0),"POST"==e&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n&&(a.timeout=8e3),a.onload=function(){var e=a.status;e>=200&&e<300?s(a.response):n&&n(a)},n&&(a.onerror=function(){n(a)},a.ontimeout=a.onerror),"POST"==e){var r,o=[];for(var l in i)o.push(l+"="+encodeURIComponent(i[l]));o.length&&(r=o.join("&")),a.send(r)}else a.send()},get:function(e,t,i){this.getpost("GET",e,null,t,i)},post:function(e,t,i,s){this.getpost("POST",e,t,i,s)},url:{addParam:function(e,t){var i=e.split("?"),s=[i.shift()],n=[];for(var a in i.length&&(n=i[0].split("&")),t)n.push(a+"="+t[a]);return n.length&&s.push(n.join("&")),s.join("?")},split:function(e){var t=document.createElement("a");return t.href=e,{protocol:t.protocol,host:t.hostname,hash:t.hash,port:t.port,path:t.pathname.replace(/\/*$/,"")}},sanitizeHost:function(e){var t=n.http.url.split(e);return t.protocol+"//"+t.host+(t.port&&""!=t.port?":"+t.port:"")+(t.hash&&""!=t.hash?"#"+t.hash:"")+(t.path?"/"==t.path.charAt(0)?t.path:"/"+t.path:"")}}},css:{cache:{},load:function(e,t,i){var s=document.createElement("style");s.type="text/css",s.setAttribute("data-source",e),i&&(s.callback=i);var a=this.cache;function r(e){var i=n.css.applyColors(e,t);"callback"in s?s.callback(i):s.textContent=i}if(e in a)a[e]instanceof Array?a[e].push(r):r(a[e]);else{a[e]=[r];var o=3;!function t(){n.http.get(e,(function(t){for(var i in a[e])a[e][i](t);a[e]=t}),(function(){if(o>0)o--,setTimeout(t,2e3);else{var i="/*Failed to load*/";for(var s in a[e])a[e][s](i);a[e]=i}}))}()}return s},applyColors:function(e,t){return e.replace(/\$([^\s^;^}]*)/g,(function(e,i){var s=i.split("."),n=t;for(var a in s)n=n[s[a]];return n}))},createStyle:function(e,t,i){var s=document.createElement("style");return s.type="text/css",e&&(t&&(e=this.prependClass(e,t,i)),s.textContent=e),s},prependClass:function(e,t,i){var s=!1;"string"!=typeof e&&("unprepended"in(s=e)||(s.unprepended=s.textContent),e=s.unprepended);var n=(e=e.replace(/\/\*.*?\*\//g,"")).match(/@[^}]*}/g);for(var a in n){e=e.replace(n[a],"@@#@@");for(var r=1;r<n[a].match(/{/g).length;){var o=e.match(/@@#@@([^}]*})/);e=e.replace(o[0],"@@#@@"),n[a]+=o[1],r++}e=e.replace("@@#@@","@@@@")}for(var a in e=e.replace(/[^@]*?{[^]*?}/g,(function(e){var s=e.split("{"),n=s[0].split(","),a="{"+s.slice(1).join("}");for(var r in n){n[r]=n[r].trim();var o="."+t+n[r];i&&(o+=",\n."+t+" "+n[r]),n[r]=o}return"\n"+n+" "+a})),n)e=e.replace(/@@@@/,n[a]);if(!s)return e;s.textContent=e}},empty:function(e){for(;e.lastChild;){if(e.lastChild.lastChild&&this.empty(e.lastChild),"attachedListeners"in e.lastChild)for(var t in e.lastChild.attachedListeners)n.event.removeListener(e.lastChild.attachedListeners[t]);e.removeChild(e.lastChild)}},event:{send:function(e,t,i){var s;try{return(s=new Event(e,{bubbles:!0,cancelable:!0})).message=t,i.dispatchEvent(s),s}catch(n){try{return(s=document.createEvent("Event")).initEvent(e,!0,!0),s.message=t,i.dispatchEvent(s),s}catch(e){return!1}}},addListener:function(e,t,i,s){e.addEventListener(t,i),s||(s=e),"attachedListeners"in s||(s.attachedListeners=[]);var n={element:e,type:t,callback:i};return s.attachedListeners.push(n),n},removeListener:function(e){e.element.removeEventListener(e.type,e.callback)}},scripts:{list:{},insert:function(e,t,i){var s=this;if(i&&i.errorListeners.push({src:e,onevent:t}),e in this.list)return this.list[e].subscribers.push(t.onerror),void("onload"in t&&(this.list[e].tag.hasLoaded?t.onload():n.event.addListener(this.list[e].tag,"load",t.onload)));var a=document.createElement("script");a.hasLoaded=!1,a.setAttribute("src",e),a.setAttribute("crossorigin","anonymous"),document.head.appendChild(a),a.onerror=function(e){t.onerror(e)},a.onload=function(e){this.hasLoaded=!0,i.destroyed||t.onload(e)},a.addEventListener("error",(function(e){t.onerror(e)}));var r=!1;return window.onerror&&(r=window.onerror),window.onerror=function(i,n,a,o,l){if(r&&r.apply(this,arguments),n==e)for(var c in t.onerror(l),s.list[e].subscribers)s.list[e].subscribers[c](l)},this.list[e]={subscribers:[t.onerror],tag:a},a}},tracks:{parse:function(e){var t={};for(var i in e){var s=n.object.extend({},e[i]);"meta"==s.type&&(s.type=s.codec,s.codec="meta"),s.type in t||(t[s.type]={}),t[s.type]["idx"in s?s.idx:s.trackid]=s;var a={};for(var r in s)switch(r){case"width":a[r]=s.width+"×"+s.height;break;case"bps":if("meta"==s.codec)continue;var o;s.bps>0&&(o=s.bps>131072?Math.round(s.bps/1024/1024*8)+"mbps":Math.round(s.bps/1024*8)+"kbps",a[r]=o);break;case"fpks":s.fpks>0&&(a[r]=s.fpks/1e3+"fps");break;case"channels":s.channels>0&&(a[r]=1==s.channels?"Mono":2==s.channels?"Stereo":"Surround ("+s.channels+"ch)");break;case"rate":a[r]=Math.round(s.rate)+"Khz";break;case"language":"Undetermined"!=s[r]&&(a[r]=s[r]);break;case"codec":if("meta"==s.codec)continue;a[r]=s[r]}s.describe=a}for(var l in t){var c=!1;for(var i in t[l])if(c){if(n.object.keys(t[l]).length>1)for(var r in t[l][i].describe)c[r]!=t[l][i].describe[r]&&delete c[r]}else c=n.object.extend({},t[l][i].describe);for(var i in t[l]){var d={},u={};for(var r in t[l][i].describe)r in c?u[r]=t[l][i].describe[r]:d[r]=t[l][i].describe[r];t[l][i].different=d,t[l][i].same=u;var p=n.object.values(d);t[l][i].displayName=p.length?p.join(", "):n.object.values(t[l][i].describe).join(" ")}var h={};for(var i in t[l]){if(t[l][i].displayName in h){var m=1;for(var i in t[l])t[l][i].different.trackid=m+")",t[l][i].displayName="Track "+m+" ("+t[l][i].displayName+")",m++;break}h[t[l][i].displayName]=1}}return t},findTrack:function(e,t){for(const i in e)if(e[i].idx===t)return e[i];return null}},isTouchDevice:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},getPos:function(e,t){e.currentStyle||window.getComputedStyle(e,null);for(var i=1,s=e;s;)s.style.zoom&&""!=s.style.zoom&&(i*=parseFloat(s.style.zoom,10)),s=s.parentElement;var n=e.getBoundingClientRect().left-(parseInt(e.borderLeftWidth,10)||0),a=e.getBoundingClientRect().width,r=Math.max(0,(t.clientX/i-n)/a);return Math.min(r,1)},createGraph:function(e,t){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg");s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"class","awm icon graph"),s.setAttributeNS(null,"preserveAspectRatio","none");var a=e.x[0],r=e.y[0];if(t.differentiate)for(var o=1;o<e.y.length;o++){var l=e.y[o]-r;r=e.y[o],e.y[o]=l}var c=[],d={x:{min:e.x[0]-a,max:e.x[0]-a},y:{min:-1*e.y[0],max:-1*e.y[0]}};function u(e,t){if(arguments.length)d.x.min=Math.min(d.x.min,e),d.x.max=Math.max(d.x.max,e),d.y.min=Math.min(d.y.min,-1*t),d.y.max=Math.max(d.y.max,-1*t);else{var i=c[0].split(",");d={x:{min:i[0],max:i[0]},y:{min:i[1],max:i[1]}};for(var s=1;s<c.length;s++)u((i=c[s].split(","))[0],-1*i[1])}}for(c.push([e.x[0]-a,-1*e.y[0]].join(",")),o=1;o<e.y.length;o++)u(e.x[o]-a,-1*e.y[o]),c.push("L "+[e.x[o]-a,-1*e.y[o]].join(","));var p=document.createElementNS(i,"defs");s.appendChild(p);var h=document.createElementNS(i,"linearGradient");function m(){"x"in t&&("min"in t.x&&(d.x.min=t.x.min),"max"in t.x&&(d.x.max=t.x.max),"count"in t.x&&(d.x.min=d.x.max-t.x.count)),"y"in t&&("min"in t.y&&(d.y.min=-1*t.y.max),"max"in t.y&&(d.y.max=-1*t.y.min)),s.setAttributeNS(null,"viewBox",[d.x.min,d.y.min,d.x.max-d.x.min,d.y.max-d.y.min].join(" ")),h.setAttributeNS(null,"x1",0),h.setAttributeNS(null,"x2",0),t.reverseGradient?(h.setAttributeNS(null,"y1",d.y.max),h.setAttributeNS(null,"y2",d.y.min)):(h.setAttributeNS(null,"y1",d.y.min),h.setAttributeNS(null,"y2",d.y.max))}p.appendChild(h),h.setAttributeNS(null,"id",n.createUnique()),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.innerHTML+='<stop offset="0" stop-color="green"/>',h.innerHTML+='<stop offset="0.33" stop-color="yellow"/>',h.innerHTML+='<stop offset="0.66" stop-color="orange"/>',h.innerHTML+='<stop offset="1" stop-color="red"/>',m();var f=document.createElementNS(i,"path");return s.appendChild(f),f.setAttributeNS(null,"stroke-width","0.1"),f.setAttributeNS(null,"fill","none"),f.setAttributeNS(null,"stroke","url(#"+h.getAttribute("id")+")"),f.setAttributeNS(null,"d","M"+c.join(" L")),f.addData=function(e){if(!isNaN(e.y)){if(t.differentiate){var i=e.y-r;r=e.y,e.y=i}c.push([e.x-a,-1*e.y].join(",")),t.x&&t.x.count&&c.length>t.x.count&&(c.shift(),u()),u(e.x-a,-1*e.y),this.setAttributeNS(null,"d","M"+c.join(" L")),m()}},s.addData=function(e){f.addData(e)},s},getBrowser:function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0?"ie":e.indexOf("Edge/")>=0?"edge":e.indexOf("Opera")>=0||e.indexOf("OPR")>=0?"opera":e.indexOf("Chrome")>=0?"chrome":e.indexOf("Safari")>=0?"safari":e.indexOf("Firefox")>=0&&"firefox"},getAndroid:function(){var e=navigator.userAgent.toLowerCase().match(/android\s([\d\.]*)/i);return!!e&&e[1]}};if(void 0===a)var a={};function r(e){e.skin=this,this.applySkinOptions=function(t){var i;return"string"==typeof t&&t in a&&(t=n.object.extend({},a[t],!0)),i="inherit"in t&&t.inherit&&t.inherit in a?this.applySkinOptions(t.inherit):a.default,this.structure=n.object.extend({},i.structure),t&&"structure"in t&&n.object.extend(this.structure,t.structure),this.blueprints=n.object.extend({},i.blueprints),t&&"blueprints"in t&&n.object.extend(this.blueprints,t.blueprints),this.icons=n.object.extend({},i.icons,!0),t&&"icons"in t&&n.object.extend(this.icons.blueprints,t.icons),this.icons.build=function(t,i,s){i||(i=22);var n,a=this.blueprints[t];n="function"==typeof a.svg?a.svg.call(e,s):a.svg,"object"!=typeof i&&(i={height:i,width:i}),"object"!=typeof a.size&&(a.size={height:a.size,width:a.size}),(!("width"in i)&&"height"in i||!("height"in i)&&"width"in i)&&("width"in i&&(i.height=i.width*a.size.height/a.size.width),"height"in i&&(i.width=i.height*a.size.width/a.size.height));var r="";r+='<svg viewBox="0 0 '+a.size.width+" "+a.size.height+'"'+("width"in i?' width="'+i.width+'"':"")+("height"in i?' height="'+i.height+'"':"")+' class="awm icon '+t+'">',r+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="100%" width="100%">',r+=n,r+="</svg>",r+="</svg>";var o=document.createElement("div");return o.innerHTML=r,o.firstChild},this.colors=n.object.extend({},i.colors),t&&"colors"in t&&n.object.extend(this.colors,t.colors,!0),this.css=n.object.extend({},i.css),t&&"css"in t&&n.object.extend(this.css,t.css),this},this.applySkinOptions("skin"in e.options?e.options.skin:"default");var t=[];for(var i in this.css)if("string"==typeof this.css[i]){var s=n.css.load(e.urlappend(this.css[i]),this.colors);t.push(s)}this.css=t}function o(e,t){e.UI=this,this.elements=[],this.buildStructure=function(t){if("function"==typeof t&&(t=t.call(e)),"if"in t){var i=!1;if(t.if.call(e,t)?i=t.then:"else"in t&&(i=t.else),!i)return;for(var s in t)["if","then","else"].indexOf(s)<0&&(s in i?(i[s]instanceof Array||(i[s]=[i[s]]),i[s]=i[s].concat(t[s])):i[s]=t[s]);return this.buildStructure(i)}if("type"in t&&t.type in e.skin.blueprints){var a=e.skin.blueprints[t.type].call(e,t);if(!a)return;if(n.class.add(a,"awmvideo-"+t.type),"css"in t){var r=n.createUnique();for(var s in t.css=[].concat(t.css),t.css){var o=n.css.createStyle(t.css[s],r);a.appendChild(o)}n.class.add(a,r),a.uid=r}if("classes"in t)for(var s in t.classes)n.class.add(a,t.classes[s]);if("title"in t&&(a.title=t.title),"style"in t)for(var s in t.style)a.style[s]=t.style[s];if("children"in t)for(var s in t.children){var l=this.buildStructure(t.children[s]);l&&a.appendChild(l)}return e.UI.elements.push(a),a}return!1},this.build=function(){return this.buildStructure(t||e.skin.structure.main)};var i=this.build(),s=n.createUnique(),a=0;for(var r in e.skin.css.length&&(i.style.opacity=0),e.skin.css){var o=e.skin.css[r];o.callback=function(t){"/*Failed to load*/"==t?(this.textContent=t,e.showError("Failed to load CSS from "+this.getAttribute("data-source"))):this.textContent=n.css.prependClass(t,s,!0),a++,e.skin.css.length<=a&&(i.style.opacity="")},""!=o.textContent&&o.callback(o.textContent),i.appendChild(o)}n.class.add(i,s);var l=n.getBrowser();return l&&n.class.add(i,"browser-"+l),i}s="undefined"!=typeof awmoptions&&"host"in awmoptions?n.http.url.sanitizeHost(awmoptions.host):"..",a.default={structure:{main:{if:function(){return!!this.info.hasVideo&&"audio"!=this.source.type.split("/")[1]},then:{type:"placeholder",classes:["awmvideo"],children:[{type:"hoverWindow",mode:"pos",style:{position:"relative"},transition:{hide:"left: 0; right: 0; bottom: -43px;",show:"bottom: 0;",viewport:"left:0; right: 0; top: -1000px; bottom: 0;"},button:{type:"videocontainer"},children:[{type:"loading"},{type:"error"}],window:{type:"controls"}}]},else:{type:"container",classes:["awmvideo"],style:{overflow:"visible"},children:[{type:"controls",classes:["awmvideo-novideo"],style:{width:"480px"}},{type:"loading"},{type:"error"},{if:function(){return"stock"==this.options.controls},then:{type:"video",style:{position:"absolute"}},else:{type:"video",style:{position:"absolute",display:"none"}}}]}},videocontainer:{type:"container",children:[{type:"videobackground",alwaysDisplay:!1,delay:5},{type:"video"}]},controls:{if:function(){return!!(this.player&&this.player.api&&this.player.api.play)},then:{type:"container",classes:["awmvideo-column"],children:[{type:"progress",classes:["awmvideo-pointer"]},{type:"container",classes:["awmvideo-main","awmvideo-padding","awmvideo-row","awmvideo-background"],children:[{type:"play",classes:["awmvideo-pointer"]},{type:"currentTime"},{if:function(){return"size"in this&&this.size.width>300||!this.info.hasVideo||"audio"==this.source.type.split("/")[1]},then:{type:"totalTime"}},{type:"container",classes:["awmvideo-align-right"],children:[{type:"container",children:[{type:"container",classes:["awmvideo-volume_container"],children:[{type:"volume",mode:"horizontal",size:{height:22},classes:["awmvideo-pointer"]}]},{type:"speaker",classes:["awmvideo-pointer"],style:{"margin-left":"-2px"}}]},{if:function(){return"size"in this&&this.size.width>200||!this.info.hasVideo||"audio"==this.source.type.split("/")[1]},then:{type:"container",children:[{type:"loop",classes:["awmvideo-pointer"]},{type:"fullscreen",classes:["awmvideo-pointer"]}]}},{type:"hoverWindow",mode:"pos",transition:{hide:"right: -1000px; bottom: 44px;",show:"right: 5px;",viewport:"right: 0; left: 0; bottom: 0; top: -1000px"},button:{type:"settings",classes:["awmvideo-pointer"]},window:{type:"submenu"}}]}]}]},else:{if:function(){return!(!this.player||!this.player.api)},then:{type:"hoverWindow",mode:"pos",transition:{hide:"right: -1000px; bottom: 44px;",show:"right: 2.5px;",viewport:"right: 0; left: -1000px; bottom: 0; top: -1000px"},style:{right:"5px",left:"auto"},button:{type:"settings",classes:["awmvideo-background","awmvideo-padding"]},window:{type:"submenu"}}}},submenu:{type:"container",style:{width:"80%",maxWidth:"25em",zIndex:2},classes:["awmvideo-padding","awmvideo-column","awmvideo-background"],children:[{type:"tracks"},{if:function(){return"size"in this&&this.size.width<=200},then:{type:"container",classes:["awmvideo-center"],children:[{type:"loop",classes:["awmvideo-pointer"]},{type:"fullscreen",classes:["awmvideo-pointer"]}]}}]},placeholder:{type:"container",classes:["awmvideo","awmvideo-delay-display"],children:[{type:"placeholder"},{type:"loading"},{type:"error"}]},secondaryVideo:function(e){return{type:"hoverWindow",classes:["awmvideo"],mode:"pos",transition:{hide:"left: 10px; bottom: -40px;",show:"bottom: 10px;",viewport:"left: 0; right: 0; top: 0; bottom: 0"},button:{type:"container",children:[{type:"videocontainer"}]},window:{type:"switchVideo",classes:["awmvideo-controls","awmvideo-padding","awmvideo-background","awmvideo-pointer"],containers:e}}}},css:{skin:s+"/skins/default.css"},icons:{blueprints:{play:{size:45,svg:'<path d="M6.26004984594 3.0550109625C5.27445051914 3.68940862462 4.67905105702 4.78142391497 4.67968264562 5.95354422781C4.67968264562 5.95354422781 4.70004942312 39.0717540916 4.70004942312 39.0717540916C4.70302341604 40.3033886636 5.36331656075 41.439734231 6.43188211452 42.0521884912C7.50044766829 42.6646427515 8.81469531629 42.6600161659 9.87892235656 42.0400537716C9.87892235656 42.0400537716 38.5612768409 25.4802882606 38.5612768409 25.4802882606C39.6181165777 24.8606067582 40.2663250096 23.7262617523 40.2636734301 22.5011460995C40.2610218505 21.2760304467 39.6079092743 20.1445019555 38.5483970356 19.5294009803C38.5483970356 19.5294009803 9.84567577375 2.9709566275 9.84567577375 2.9709566275C8.72898008118 2.32550764609 7.34527425735 2.35794451351 6.26004984594 3.0550109625C6.26004984594 3.0550109625 6.26004984594 3.0550109625 6.26004984594 3.0550109625" class="fill" />'},largeplay:{size:45,svg:'<path d="M6.26004984594 3.0550109625C5.27445051914 3.68940862462 4.67905105702 4.78142391497 4.67968264562 5.95354422781C4.67968264562 5.95354422781 4.70004942312 39.0717540916 4.70004942312 39.0717540916C4.70302341604 40.3033886636 5.36331656075 41.439734231 6.43188211452 42.0521884912C7.50044766829 42.6646427515 8.81469531629 42.6600161659 9.87892235656 42.0400537716C9.87892235656 42.0400537716 38.5612768409 25.4802882606 38.5612768409 25.4802882606C39.6181165777 24.8606067582 40.2663250096 23.7262617523 40.2636734301 22.5011460995C40.2610218505 21.2760304467 39.6079092743 20.1445019555 38.5483970356 19.5294009803C38.5483970356 19.5294009803 9.84567577375 2.9709566275 9.84567577375 2.9709566275C8.72898008118 2.32550764609 7.34527425735 2.35794451351 6.26004984594 3.0550109625C6.26004984594 3.0550109625 6.26004984594 3.0550109625 6.26004984594 3.0550109625" class="stroke" />'},pause:{size:45,svg:'<g><path d="m 7.5,38.531275 a 4.0011916,4.0011916 0 0 0 3.749999,3.96873 l 2.2812501,0 a 4.0011916,4.0011916 0 0 0 3.96875,-3.75003 l 0,-32.28123 a 4.0011916,4.0011916 0 0 0 -3.75,-3.96875 l -2.2812501,0 a 4.0011916,4.0011916 0 0 0 -3.968749,3.75 l 0,32.28128 z" class="fill" /><path d="m 27.5,38.531275 a 4.0011916,4.0011916 0 0 0 3.75,3.9687 l 2.28125,0 a 4.0011916,4.0011916 0 0 0 3.96875,-3.75 l 0,-32.28126 a 4.0011916,4.0011916 0 0 0 -3.75,-3.96875 l -2.28125,0 a 4.0011916,4.0011916 0 0 0 -3.96875,3.75 l 0,32.28131 z" class="fill" /></g>'},speaker:{size:45,svg:'<path d="m 32.737813,5.2037363 c -1.832447,-1.10124 -4.200687,-0.8622 -5.771871,0.77112 0,0 -7.738819,8.0443797 -7.738819,8.0443797 0,0 -3.417976,0 -3.417976,0 -1.953668,0 -3.54696,1.65618 -3.54696,3.68694 0,0 0,9.58644 0,9.58644 0,2.03094 1.593292,3.68712 3.54696,3.68712 0,0 3.417976,0 3.417976,0 0,0 7.738819,8.04474 7.738819,8.04474 1.572104,1.63404 3.938942,1.8747 5.771871,0.77076 0,0 0,-34.5914997 0,-34.5914997 z" class="stroke semiFill toggle" />'},volume:{size:{width:100,height:45},svg:function(){var e=n.createUnique();return'<defs><mask id="'+e+'"><path d="m6.202 33.254 86.029-28.394c2.6348-0.86966 4.7433 0.77359 4.7433 3.3092v28.617c0 1.9819-1.6122 3.5773-3.6147 3.5773h-86.75c-4.3249 0-5.0634-5.5287-0.40598-7.1098" fill="#fff" /></mask></defs><rect mask="url(#'+e+')" class="slider horizontal semiFill" width="100%" height="100%" /><path d="m6.202 33.254 86.029-28.394c2.6348-0.86966 4.7433 0.77359 4.7433 3.3092v28.617c0 1.9819-1.6122 3.5773-3.6147 3.5773h-86.75c-4.3249 0-5.0634-5.5287-0.40598-7.1098" class="stroke" /><rect x="0" y="0" width="100%" height="100%" fill="rgba(0,0,0,0.001)"/>'}},muted:{size:45,svg:'<g class="stroke" stroke-linecap="round" vector-effect="none" stroke-width="2"><path d="m25.587 5.2036c-1.8324-1.1012-4.2007-0.8622-5.7719 0.77112 0 0-7.7388 8.0444-7.7388 8.0444h-3.418c-1.9537 0-3.547 1.6562-3.547 3.6869v9.5864c0 2.0309 1.5933 3.6871 3.547 3.6871h3.418s7.7388 8.0447 7.7388 8.0447c1.5721 1.634 3.9389 1.8747 5.7719 0.77076v-34.591 z" /><path d="m30.032 27.86 9.8517-9.8517"/><path d="m30.032 18.008 9.8517 9.8517"/></g>'},fullscreen:{size:45,svg:'<path d="m2.5 10.928v8.5898l4.9023-2.8008 9.6172 5.7832-9.6172 5.7832-4.9023-2.8008v8.5898h15.031l-4.9004-2.8008 9.8691-5.6387 9.8691 5.6387-4.9004 2.8008h15.031v-8.5898l-4.9023 2.8008-9.6172-5.7832 9.6172-5.7832 4.9023 2.8008v-8.5898h-15.033l4.9023 2.8008-9.8691 5.6387-9.8691-5.6387 4.9023-2.8008z" class="fill">'},loop:{size:45,svg:'<path d="M 21.279283,3.749797 A 18.750203,18.750203 0 0 0 8.0304417,9.2511582 L 12.740779,13.961496 A 12.083464,12.083464 0 0 1 21.279283,10.416536 12.083464,12.083464 0 0 1 33.362748,22.5 12.083464,12.083464 0 0 1 21.279283,34.583464 12.083464,12.083464 0 0 1 12.740779,31.038504 l 3.063185,-3.063185 H 4.9705135 V 38.80877 L 8.0304417,35.748842 A 18.750203,18.750203 0 0 0 21.279283,41.250203 18.750203,18.750203 0 0 0 40.029486,22.5 18.750203,18.750203 0 0 0 21.279283,3.749797 Z" class="stroke semiFill toggle" />'},settings:{size:45,svg:'<path d="m24.139 3.834-1.4785 4.3223c-1.1018 0.0088-2.2727 0.13204-3.2031 0.33594l-2.3281-3.9473c-1.4974 0.45304-2.9327 1.091-4.2715 1.9004l1.3457 4.3672c-0.87808 0.62225-1.685 1.3403-2.4023 2.1426l-4.1953-1.8223c-0.9476 1.2456-1.7358 2.6055-2.3457 4.0469l3.6523 2.7383c-0.34895 1.0215-0.58154 2.0787-0.69336 3.1523l-4.4531 0.98828c-0.00716 0.14696-0.011931 0.29432-0.015625 0.44141 0.00628 1.4179 0.17336 2.8307 0.49805 4.2109l4.5703 0.070312c0.32171 1.0271 0.75826 2.0138 1.3008 2.9434l-3.0391 3.4355c0.89502 1.2828 1.9464 2.4492 3.1309 3.4707l3.7363-2.6289c0.86307 0.64582 1.7958 1.192 2.7812 1.6289l-0.43555 4.541c1.4754 0.52082 3.0099 0.85458 4.5684 0.99414l1.4766-4.3223c0.05369 3e-3 0.10838 0.005313 0.16211 0.007812 1.024-0.0061 2.0436-0.12048 3.043-0.34375l2.3281 3.9473c1.4974-0.45304 2.9327-1.091 4.2715-1.9004l-1.3457-4.3672c0.87808-0.62225 1.685-1.3403 2.4023-2.1426l4.1953 1.8223c0.9476-1.2456 1.7358-2.6055 2.3457-4.0469l-3.6523-2.7383c0.34895-1.0215 0.58154-2.0787 0.69336-3.1523l4.4531-0.98828c0.0072-0.14698 0.011925-0.29432 0.015625-0.44141-0.0062-1.4179-0.17336-2.8307-0.49805-4.2109l-4.5703-0.070312c-0.32171-1.0271-0.75826-2.0138-1.3008-2.9434l3.0391-3.4355c-0.89502-1.2828-1.9464-2.4492-3.1309-3.4707l-3.7363 2.6289c-0.86307-0.64582-1.7958-1.192-2.7812-1.6289l0.43555-4.541c-1.4754-0.52082-3.0099-0.85457-4.5684-0.99414zm-1.6387 7.8789a10.786 10.786 0 0 1 10.787 10.787 10.786 10.786 0 0 1-10.787 10.787 10.786 10.786 0 0 1-10.787-10.787 10.786 10.786 0 0 1 10.787-10.787z" class="fill"/>'},loading:{size:100,svg:'<path d="m49.998 8.7797e-4c-0.060547 0.0018431-0.12109 0.0037961-0.18164 0.0058593-0.1251 0.0015881-0.25012 0.0061465-0.375 0.013672h-0.001954c-27.388 0.30599-49.432 22.59-49.439 49.98 0.020074 2.6488 0.25061 5.292 0.68945 7.904 3.8792-24.231 24.77-42.065 49.311-42.096v-0.0058582h0.001954c4.3638 3.0803e-4 7.9013-3.5366 7.9021-7.9002 1.474e-4 -2.0958-0.83235-4.106-2.3144-5.5879-1.482-1.482-3.492-2.3145-5.5879-2.3144-6.5007e-4 -7.9369e-8 -0.0013001-7.9369e-8 -0.001954 0" class="semiFill spin"></path>'},timeout:{size:25,svg:function(e){e&&e.delay||(e={delay:10});var t=e.delay,i=n.createUnique();return'<defs><mask id="'+i+'"><rect x="0" y="0" width="25" height="25" fill="#fff"/><rect x="-5" y="-5" width="17.5" height="35" fill="#000" transform="rotate(180,12.5,12.5)"><animateTransform attributeName="transform" type="rotate" from="0,12.5,12.5" to="180,12.5,12.5" begin="DOMNodeInsertedIntoDocument" dur="'+t/2+'s" repeatCount="1"/></rect><rect x="0" y="0" width="12.5" height="25" fill="#fff"/><rect x="-5" y="-5" width="17.5" height="35" fill="#000" transform="rotate(360,12.5,12.5)"><animate attributeType="CSS" attributeName="opacity" from="0" to="1" begin="DOMNodeInsertedIntoDocument" dur="'+t+'s" calcMode="discrete" repeatCount="1" /><animateTransform attributeName="transform" type="rotate" from="180,12.5,12.5" to="360,12.5,12.5" begin="DOMNodeInsertedIntoDocument+'+t/2+'s" dur="'+t/2+'s" repeatCount="1"/></rect><circle cx="12.5" cy="12.5" r="8" fill="#000"/></mask></defs><circle cx="12.5" cy="12.5" r="12.5" class="fill" mask="url(#'+i+')"/>'}},popout:{size:45,svg:'<path d="m24.721 11.075c-12.96 0.049575-32.113 15.432-10.336 28.834-7.6763-7.9825-2.4795-21.824 10.336-22.19v5.5368l15.276-8.862-15.276-8.86v5.5419z" class="stroke fill"/>'},switchvideo:{size:45,svg:'<path d="m8.4925 18.786c-3.9578 1.504-6.4432 3.632-6.4434 5.9982 2.183e-4 4.1354 7.5562 7.5509 17.399 8.1467v4.7777l10.718-6.2573-10.718-6.2529v4.5717c-6.9764-0.4712-12.229-2.5226-12.227-4.9859 6.693e-4 -0.72127 0.45868-1.4051 1.2714-2.0267zm28.015 0v3.9715c0.81164 0.62126 1.2685 1.3059 1.2692 2.0267-0.0014 1.4217-1.791 2.75-4.8021 3.6968-2.0515 0.82484-0.93693 3.7696 1.2249 2.9659 5.3088-1.8593 8.7426-3.8616 8.7514-6.6627-1.26e-4 -2.3662-2.4856-4.4942-6.4434-5.9982z" class="fill"/><rect rect x="10.166" y="7.7911" width="24.668" height="15.432" class="stroke"/>'}}},blueprints:{container:function(){return document.createElement("div")},video:function(){var e=this;if(n.event.addListener(e.video,"contextmenu",(function(t){t.preventDefault(),e.container.setAttribute("data-show-submenu",""),e.container.removeAttribute("data-hide-submenu"),e.container.removeAttribute("data-hidecursor");var i=function(){e.container.removeAttribute("data-show-submenu"),e.container.removeEventListener("mouseout",i)};n.event.addListener(e.container,"mouseout",i)})),e.video.hideTimer=!1,e.video.hideCursor=function(){this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=e.timers.start((function(){e.container.setAttribute("data-hidecursor","");var t=e.container.querySelector(".awmvideo-controls");t&&t.parentNode.setAttribute("data-hidecursor","")}),3e3)},n.event.addListener(e.video,"mousemove",(function(){e.container.removeAttribute("data-hidecursor");var t=e.container.querySelector(".awmvideo-controls");t&&t.parentNode.removeAttribute("data-hidecursor"),e.video.hideCursor()})),n.event.addListener(e.video,"mouseout",(function(){e.video.hideTimer&&e.timers.stop(e.video.hideTimer)})),e.options.autoplay)var t=n.event.addListener(e.video,"canplay",(function(){if(e.player.api&&e.player.api.paused){var i=e.player.api.play();i&&i.catch((function(){if(!e.destroyed)if(e.log("Autoplay failed. Retrying with muted audio.."),e.info.hasVideo){e.player.api.muted=!0,n.event.send("volumechange",null,e.video);var t=e.player.api.play();t&&t.then((function(){e.reporting&&(e.reporting.stats.d.autoplay="success")})).then((function(){if(!e.destroyed){e.log("Autoplay worked! Video will be unmuted on mouseover if the page has been interacted with."),e.reporting&&(e.reporting.stats.d.autoplay="muted");var t=e.skin.icons.build("muted",100);n.class.add(t,"awmvideo-pointer"),e.container.appendChild(t),n.event.addListener(t,"click",(function(){e.player.api.muted=!1,e.container.removeChild(t)}));var i=!1,s=function(){i=!0,document.body.removeEventListener("click",s)};n.event.addListener(document.body,"click",s,e.video);var a=function(){i&&(e.player.api.muted=!1,e.video.removeEventListener("mouseenter",a),e.log("Re-enabled sound"))};n.event.addListener(e.video,"mouseenter",a);var r=function(){e.video.muted||(t.parentNode&&e.container.removeChild(t),e.video.removeEventListener("volumechange",r),document.body.removeEventListener("click",s),e.video.removeEventListener("mouseenter",a))};n.event.addListener(e.video,"volumechange",r)}})).catch((function(){if(!e.destroyed){e.log("Autoplay failed even with muted video. Unmuting and showing play button."),e.timers.start((function(){e.player.api.paused&&(e.player.api.pause(),e.monitor&&e.monitor.destroy())}),5e3),e.reporting&&(e.reporting.stats.d.autoplay="failed"),e.player.api.muted=!1;var t=e.skin.icons.build("largeplay",150);n.class.add(t,"awmvideo-pointer"),e.container.appendChild(t),n.event.addListener(t,"click",(function(){e.player.api.paused&&e.player.api.play()}));var i=function(){e.container.removeChild(t),e.video.removeEventListener("play",i)};n.event.addListener(e.video,"play",i)}}))}else e.reporting&&(e.reporting.stats.d.autoplay="failed")}))}else e.reporting&&(e.reporting.stats.d.autoplay="success");n.event.removeListener(t)}));return this.video},videocontainer:function(){return this.UI.buildStructure(this.skin.structure.videocontainer)},secondaryVideo:function(e){e||(e={}),e.options||(e.options={});var t=this;"secondary"in t||(t.secondary=[]);var i=n.object.extend({},t.options);i=n.object.extend(i,e.options),t.secondary.push(i);var s={primary:t,secondary:!1};i.target=document.createElement("div"),delete i.container;var a={};return i.AwmVideoObject=a,n.event.addListener(i.target,"initialized",(function(){var e=a.reference;i.AwmVideo=e,s.secondary=e,e.player.api.muted=!0,e.player.api.loop=!1;for(var r=i.target.querySelectorAll(".awmvideo-controls"),o=0;o<r.length;o++)n.event.addListener(r[o],"click",(function(e){e.stopPropagation()}));n.event.addListener(t.video,"play",(function(){e.player.api.paused&&e.player.api.play()}),i.target),n.event.addListener(t.video,"pause",(function(){e.player.api.paused||e.player.api.pause()}),i.target),n.event.addListener(t.video,"seeking",(function(){e.player.api.currentTime=this.currentTime}),i.target),n.event.addListener(t.video,"timeupdate",(function(){if(!e.player.api.pausedesync){var t=this.currentTime-e.player.api.currentTime,i=Math.abs(t);if(i>30)e.player.api.pausedesync=!0,e.player.api.currentTime=this.currentTime,e.log("Re-syncing with main video by seeking (desync: "+t+"s)");else if(i>.01){var s=.1;i<1&&(s=.05),(s=1+s*Math.sign(t))!=e.player.api.playbackRate&&e.log("Re-syncing by changing the playback rate (desync: "+Math.round(1e3*t)+"ms, rate: "+s+")"),e.player.api.playbackRate=s}else 1!=e.player.api.playbackRate&&(e.player.api.playbackRate=1,e.log("Sync with main video achieved (desync: "+Math.round(1e3*t)+"ms)"))}}),i.target),n.event.addListener(e.video,"seeked",(function(){e.player.api.pausedesync=!1}))})),i.skin=n.object.extend({},t.skin,!0),i.skin.structure.main=n.object.extend({},t.skin.structure.secondaryVideo(s)),u(t.stream,i),i.target},switchVideo:function(e){var t=document.createElement("div");return t.appendChild(this.skin.icons.build("switchvideo")),n.event.addListener(t,"click",(function(){var t=e.containers.primary,i=e.containers.secondary;function s(e,t){if(e.video.currentTarget==t)return e.video;if(e.secondary)for(var i=0;i<e.secondary.length;i++){var n=s(e.secondary[i].AwmVideo,t);if(n)return n}return!1}var n=s(t,t.options.target),a=s(t,i.options.target),r=!n.paused,o=document.createElement("div");if(a.parentElement.insertBefore(o,a),n.parentElement.insertBefore(a,n),o.parentElement.insertBefore(n,o),o.parentElement.removeChild(o),r)try{n.play(),a.play()}catch(e){}var l={width:n.style.width,height:n.style.height,currentTarget:n.currentTarget};n.currentTarget=a.currentTarget,a.currentTarget=l.currentTarget,t.player.resizeAll()})),t},controls:function(){if(this.options.controls&&"stock"!=this.options.controls){n.class.add(this.container,"hasControls");var e=this.UI.buildStructure(this.skin.structure.controls);return n.isTouchDevice()&&(e.style.zoom=1.5),e}},submenu:function(){return this.UI.buildStructure(this.skin.structure.submenu)},hoverWindow:function(e){var t={type:"container",classes:"classes"in e?e.classes:[],children:"children"in e?e.children:[]};switch(t.classes.push("hover_window_container"),"classes"in e.window||(e.window.classes=[]),e.window.classes.push("inner_window"),e.window.classes.push("awmvideo-container"),e.window={type:"container",classes:["outer_window"],children:[e.window]},"classes"in e.button||(e.button.classes=[]),e.button.classes.push("pointer"),e.mode){case"left":t.classes.push("horizontal"),t.children=[e.window,e.button];break;case"right":t.classes.push("horizontal"),t.children=[e.button,e.window];break;case"top":t.classes.push("vertical"),t.children=[e.button,e.window];break;case"bottom":t.classes.push("vertical"),t.children=[e.window,e.button];break;case"pos":t.children=[e.button,e.window],"classes"in e.window||(e.window.classes=[]);break;default:throw"Unsupported mode for structure type hoverWindow"}return"transition"in e&&("css"in t||(t.css=[]),t.css.push(".hover_window_container:hover > .outer_window:not([data-hidecursor]) > .inner_window { "+e.transition.show+" }\n.hover_window_container > .outer_window { "+e.transition.viewport+" }\n.hover_window_container > .outer_window > .inner_window { "+e.transition.hide+" }")),t.classes.push(e.mode),this.UI.buildStructure(t)},draggable:function(e){var t=this.skin.blueprints.container(e),i=this,s=this.skin.icons.build("fullscreen",16);n.class.remove(s,"fullscreen"),n.class.add(s,"draggable-icon"),t.appendChild(s),s.style.alignSelf="flex-end",s.style.position="absolute",s.style.cursor="move";var a={},r=function(e){t.style.left=e.clientX-a.x+"px",t.style.top=e.clientY-a.y+"px"},o=function(){window.removeEventListener("mousemove",r),window.removeEventListener("click",o),n.event.addListener(s,"click",l)},l=function(e){e.stopPropagation(),s.removeEventListener("click",l),a.x=i.container.getBoundingClientRect().left-(t.getBoundingClientRect().left-e.clientX),a.y=i.container.getBoundingClientRect().top-(t.getBoundingClientRect().top-e.clientY),t.style.position="absolute",t.style.right="auto",t.style.bottom="auto",i.container.appendChild(t),r(e),n.event.addListener(window,"mousemove",r,t),n.event.addListener(window,"click",o,t)};return n.event.addListener(s,"click",l),t},progress:function(){var e=document.createElement("div"),t=document.createElement("div");e.appendChild(t),t.kids={},t.kids.bar=document.createElement("div"),t.kids.bar.className="bar",t.appendChild(t.kids.bar);var i=this.video,s=this;t.updateBar=function(e){if(this.kids.bar){if(!isFinite(s.player.api.duration))return void(this.kids.bar.style.display="none");this.kids.bar.style.display="";let t=Math.min(1,Math.max(0,this.time2perc(e)));this.kids.bar.style.width=100*t+"%"}},t.time2perc=function(e){if(!isFinite(s.player.api.duration))return 0;var t=0;if("live"==s.info.type){var i=.001*s.info.meta.buffer_window;t=(e-s.player.api.duration+i)/i}else t=e/s.player.api.duration;return Math.min(1,Math.max(0,t))},t.buildBuffer=function(e,t){var i=document.createElement("div");return i.className="buffer",i.style.left=100*this.time2perc(e)+"%",i.style.width=100*(this.time2perc(t)-this.time2perc(e))+"%",i},t.updateBuffers=function(e){for(var t=this.querySelectorAll(".buffer"),i=0;i<t.length;i++)this.removeChild(t[i]);if(e)for(i=0;i<e.length;i++)this.appendChild(this.buildBuffer(e.start(i),e.end(i)))};var a=0,r=!1;n.event.addListener(i,"progress",(function(){!function e(){(new Date).getTime()-a>1e3?(t.updateBuffers(s.player.api.buffered),a=(new Date).getTime()):r||(r=s.timers.start((function(){e(),r=!1}),1e3))}()}),t);var o=0,l=!1;n.event.addListener(i,"timeupdate",(function(){!function e(){(new Date).getTime()-o>200&&!d?(t.updateBar(s.player.api.currentTime),o=(new Date).getTime()):l||(l=s.timers.start((function(){e(),l=!1}),1e3))}()}),t),n.event.addListener(i,"seeking",(function(){t.updateBar(s.player.api.currentTime)}),t),t.getPos=function(e){var t=n.getPos(this,e);return"live"==s.info.type?(t-1)*(.001*s.info.meta.buffer_window)+s.player.api.duration:!!isFinite(s.player.api.duration)&&t*s.player.api.duration},t.seek=function(e){var t=this.getPos(e);s.player.api.currentTime=t},n.event.addListener(e,"mouseup",(function(e){1==e.which&&t.seek(e)}));var c=s.UI.buildStructure({type:"tooltip"});c.style.opacity=0,t.appendChild(c),n.event.addListener(e,"mouseout",(function(){d||(c.style.opacity=0)})),t.moveTooltip=function(e){var t=this.getPos(e);if(!1!==t){c.setText(n.format.time(t)),c.style.opacity=1;var i=n.getPos(this,e),s={bottom:20};i>.5?(s.right=100*(1-i)+"%",c.triangle.setMode("bottom","right")):(s.left=100*i+"%",c.triangle.setMode("bottom","left")),c.setPos(s)}else c.style.opacity=0},n.event.addListener(e,"mousemove",(function(e){t.moveTooltip(e)}));var d=!1;return n.event.addListener(e,"mousedown",(function(i){if(1==i.which){d=!0,t.updateBar(t.getPos(i));var s=n.event.addListener(document,"mousemove",(function(e){t.updateBar(t.getPos(e)),t.moveTooltip(e)}),t),a=n.event.addListener(document,"mouseup",(function(i){1==i.which&&(d=!1,n.event.removeListener(s),n.event.removeListener(a),c.style.opacity=0,(!i.path||n.array.indexOf(i.path,e)<0)&&t.seek(i))}),t)}})),e},play:function(){var e=this,t=document.createElement("div");t.appendChild(this.skin.icons.build("play")),t.appendChild(this.skin.icons.build("pause")),t.setState=function(e){this.setAttribute("data-state",e)},t.setState("paused");var i=this.video;return n.event.addListener(i,"playing",(function(){t.setState("playing"),e.options.autoplay=!0}),t),n.event.addListener(i,"pause",(function(){t.setState("paused")}),t),n.event.addListener(i,"paused",(function(){t.setState("paused")}),t),n.event.addListener(i,"ended",(function(){t.setState("paused")}),t),n.event.addListener(t,"click",(function(){e.player.api.error&&e.player.api.load(),e.player.api.paused?e.player.api.play():(e.player.api.pause(),e.options.autoplay=!1)})),e.player.api&&n.event.addListener(e.video,"click",(function(){e.player.api.paused?e.player.api.play():n.isTouchDevice()||(e.player.api.pause(),e.options.autoplay=!1)}),t),t},speaker:function(){var e=!1,t=this.info.meta.tracks;for(var i in t)if("audio"==t[i].type){e=!0;break}if(!e)return!1;var s=this.skin.icons.build("speaker"),a=this,r=this.video;return n.event.addListener(r,"volumechange",(function(){a.player.api.volume&&!a.player.api.muted?n.class.remove(s,"off"):n.class.add(s,"off")}),s),n.event.addListener(s,"click",(function(){a.player.api.muted=!a.player.api.muted})),s},volume:function(e){var t=!1,i=this.info.meta.tracks;for(var s in i)if("audio"==i[s].type){t=!0;break}if(!t)return!1;var a=document.createElement("div"),r=this.skin.icons.build("volume","size"in e&&e.size);a.appendChild(r);var o=this;r.mode="mode"in e?e.mode:"vertical","vertical"==r.mode&&(r.style.transform="rotate(90deg)"),r.margin={start:.15,end:.1};var l=this.video;r.set=function(e){100!=(e=100-100*Math.pow(1-e/100,2))&&0!=e&&(e=100*this.addPadding(e/100));for(var t=r.querySelectorAll(".slider"),i=0;i<t.length;i++)t[i].setAttribute("vertical"==r.mode?"height":"width",e+"%")},n.event.addListener(l,"volumechange",(function(){r.set(o.player.api.muted?0:100*o.player.api.volume)}),r);var c=n.event.addListener(l,"loadedmetadata",(function(){try{"localStorage"in window&&null!=localStorage&&"awmVolume"in localStorage&&(o.player.api.volume=localStorage.awmVolume)}catch(e){}n.event.removeListener(c)}));r.addPadding=function(e){return e*(1-(this.margin.start+this.margin.end))+this.margin.start},r.removePadding=function(e){var t=(e-this.margin.start)/(1-(this.margin.start+this.margin.end));return t=Math.max(t,0),Math.min(t,1)},r.getPos=function(e){return this.addPadding(n.getPos(this,e))},r.setVolume=function(e){o.player.api.muted=!1;var t=this.removePadding(n.getPos(this,e));t=1-Math.pow(1-t,.5),o.player.api.volume=t;try{localStorage.awmVolume=o.player.api.volume}catch(e){}},n.event.addListener(r,"mouseup",(function(e){1==e.which&&r.setVolume(e)}));var d=o.UI.buildStructure({type:"tooltip"});d.style.opacity=0,d.triangle.setMode("bottom","right"),a.style.position="relative",a.appendChild(d),n.event.addListener(r,"mouseover",(function(){d.style.opacity=1})),n.event.addListener(r,"mouseout",(function(){u||(d.style.opacity=0)})),r.moveTooltip=function(e){d.style.opacity=1;var t=n.getPos(this,e);d.setText(Math.round(100*this.removePadding(t))+"%"),d.setPos({bottom:46,right:100*(1-t)+"%"})},n.event.addListener(r,"mousemove",(function(e){r.moveTooltip(e)}));var u=!1;return n.event.addListener(r,"mousedown",(function(e){if(1==e.which){u=!0,r.setVolume(e),d.style.opacity=1;var t=n.event.addListener(document,"mousemove",(function(e){r.setVolume(e),r.moveTooltip(e)}),r),i=n.event.addListener(document,"mouseup",(function(e){1==e.which&&(u=!1,n.event.removeListener(t),n.event.removeListener(i),d.style.opacity=0,(!e.path||n.array.indexOf(e.path,r)<0)&&r.setVolume(e))}),r)}})),a},currentTime:function(){var e=this,t=document.createElement("div"),i=document.createTextNode("");t.appendChild(i);var s=n.format.time;return t.set=function(){var t=e.player.api.currentTime;i.nodeValue=s(t)},t.set(),n.event.addListener(e.video,"timeupdate",(function(){t.set()}),t),n.event.addListener(e.video,"seeking",(function(){t.set()}),t),t},totalTime:function(){var e=this,t=document.createElement("div"),i=document.createTextNode("");return t.appendChild(i),"live"==e.info.type?(i.nodeValue="live",t.className="live"):(t.set=function(e){!isNaN(e)&&isFinite(e)?(this.style.display="",i.nodeValue=n.format.time(e)):this.style.display="none"},n.event.addListener(e.video,"durationchange",(function(){var i=e.player.api.duration;t.set(i)}),t)),t},playername:function(){if(this.playerName&&this.playerName in c){var e=document.createElement("span");return e.appendChild(document.createTextNode(c[this.playerName].name)),e}},mimetype:function(){if(this.source){var e=document.createElement("a");return e.href=this.source.url,e.target="_blank",e.title=e.href+" ("+this.source.type+")",e.appendChild(document.createTextNode(n.format.mime2human(this.source.type))),e}},logo:function(e){if("element"in e)return e.element;if("src"in e){var t=document.createElement("img");return t.src=e.src,t}},settings:function(){var e=this,t=this.skin.icons.build("settings"),i=void 0!==document.ontouchstart;return n.event.addListener(t,"click",(function(){e.container.hasAttribute("data-show-submenu")?(i&&e.container.setAttribute("data-hide-submenu",""),e.container.removeAttribute("data-show-submenu")):(e.container.setAttribute("data-show-submenu",""),e.container.removeAttribute("data-hide-submenu"))})),t},loop:function(){if("loop"in this.player.api&&"live"!=this.info.type){var e=this.skin.icons.build("loop"),t=(this.video,this.player.api);return e.set=function(){t.loop?n.class.remove(this,"off"):n.class.add(this,"off")},n.event.addListener(e,"click",(function(){t.loop=!t.loop,this.set()})),e.set(),e}},fullscreen:function(){if("setSize"in this.player&&this.info.hasVideo&&"audio"!=this.source.type.split("/")[1]){var e=this,t=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen"],i=[function(){return e.container},function(){return e.video}],s=!1;e:for(var a in i)for(var r in t)if(t[r]in i[a]()){(s={}).request=function(){return s.fullscreenableElement()[t[r]]()};var o=["exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen"],l=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement"];s.cancel=function(){return document[o[r]]()},s.element=function(){return document[l[r]]},s.event=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","webkitfullscreenchange"][r],s.fullscreenableElement=i[a];break e}if(!s){var c=function(e){if("Escape"===e.key)s.cancel()};(s={event:"fakefullscreenchange",fullscreenableElement:function(){return e.container}}).request=function(){return s.element=function(){return e.container},n.event.send(s.event,null,document),document.addEventListener("keydown",c),!0},s.cancel=function(){return s.element=function(){return null},document.removeEventListener("keydown",c),n.event.send(s.event,null,document),!0},s.element=function(){return null}}var d=this.skin.icons.build("fullscreen");return n.event.addListener(d,"click",u),n.event.addListener(e.video,"dblclick",u),n.event.addListener(document,s.event,(function(){s.element()==s.fullscreenableElement()?e.container.setAttribute("data-fullscreen",""):e.container.hasAttribute("data-fullscreen")&&e.container.removeAttribute("data-fullscreen"),e.player.resizeAll()}),d),d}function u(){s.element()?s.cancel():s.request()}},tracks:function(){if(this.info&&this.video){var e=this,t=document.createElement("table");return i(this.info.meta.tracks),n.event.addListener(e.video,"metaUpdate_tracks",(function(e){i(e.message.meta.tracks)}),t),t}function i(i){n.empty(t),i=n.tracks.parse(i);var s={},a={};function r(t,i){if(i?e.log("User selected "+t+" track with id "+i):(e.log("User selected automatic track selection for "+t),n.event.send("trackSetToAuto",t,e.video)),e.options.setTracks||(e.options.setTracks={}),e.options.setTracks[t]=i,!0===i&&s[t]&&n.event.send("change",null,s[t]),"setTrack"in e.player.api)return e.player.api.setTrack(t,i);var a={};for(var r in s)"subtitle"!=r&&""!=s[r].value&&(a[r]=s[r].value);return""!=i&&(a[t]=i),"setTracks"in e.player.api?e.player.api.setTracks(a):"setSource"in e.player.api?e.player.api.setSource(n.http.url.addParam(e.source.url,a)):void 0}var o=n.object.keys(i,(function(e,t){function i(e){switch(e){case"audio":return"aaaaaaa";case"video":return"aaaaaab";default:return e}}return i(e)>i(t)?1:i(e)<i(t)?-1:0}));for(var l in o){const k=o[l];var c=i[k];if("subtitle"==k){if(!("player"in e&&"api"in e.player&&"setSubtitle"in e.player.api)){e.log("Subtitle selection was disabled as this player does not support it.");continue}var d=!1;for(var u in e.info.source){var p=e.info.source[u];if("html5/text/vtt"==p.type&&n.http.url.split(p.url).protocol==n.http.url.split(e.source.url).protocol){d=p.url.replace(/.srt$/,".vtt");break}}if(!d){e.log("Subtitle selection was disabled as an SRT source could not be found.");continue}c[""]={trackid:"",different:{none:"None"}}}var h,m=document.createElement("tr");m.title="The current "+k+" track",t.appendChild(m);var f=document.createElement("td");m.appendChild(f),f.appendChild(document.createTextNode(n.format.ucFirst(k)+":")),h=document.createElement("td"),m.appendChild(h);var v=n.object.keys(c);function S(e){var t={trackid:0,language:1,width:2,bps:3,fpks:4,channels:5,codec:6,rate:7};return n.object.values(e,(function(e,i){return t[e]>t[i]?1:t[e]<t[i]?-1:0}))}if(v.length>1&&"player"in e&&"api"in e.player&&("setTrack"in e.player.api||"setTracks"in e.player.api||"setSource"in e.player.api)){const T=document.createElement("select");var g;T.title="Select another "+k+" track",s[k]=T,T.trackType=k,h.appendChild(T),"subtitle"!=k&&(g=document.createElement("option"),T.appendChild(g),g.value="",g.appendChild(document.createTextNode("Automatic")));var y=S(c[n.object.keys(c)[0]].same);function $(e){return""==e?-1:Number(e)}y.length&&((C=document.createElement("span")).className="awmvideo-description",h.appendChild(C),h.appendChild(document.createTextNode(y.join(" "))));var b=n.object.keys(c,(function(e,t){return $(e)-$(t)}));for(var u in b){var _=c[b[u]];g=document.createElement("option"),T.appendChild(g),g.value="idx"in _?_.idx:_.trackid,n.object.keys(_.different).length?g.appendChild(document.createTextNode(S(_.different).join(" "))):g.appendChild(document.createTextNode("Track "+(Number(u)+1)))}if(n.event.addListener(e.video,"playerUpdate_trackChanged",(function(t){t.message.type==k&&"none"!=t.message.trackid&&(T.value=t.message.trackid,e.log("Player selected "+k+" track with id "+t.message.trackid))}),T),"subtitle"==k){n.event.addListener(T,"change",(function(){try{localStorage.awmSubtitleLanguage=c[this.value].lang}catch(e){}if(""!=this.value){var t=n.object.extend({},c[this.value]);t.label=S(t.describe).join(" "),t.src=n.http.url.addParam(d,{track:this.value}),e.player.api.setSubtitle(t)}else e.player.api.setSubtitle()}));try{if("localStorage"in window&&null!=localStorage&&"awmSubtitleLanguage"in localStorage)for(var u in c)if(c[u].lang==localStorage.awmSubtitleLanguage){T.value=u;var w=document.createEvent("Event");w.initEvent("change"),T.dispatchEvent(w);break}}catch(w){}}else n.event.addListener(T,"change",(function(){this.trackType in a&&(a[this.trackType].checked=!0),r(this.trackType,this.value)}));if("decodingIssues"in e.skin.blueprints&&(h=document.createElement("td"),m.appendChild(h),"subtitle"!=k)){var x=document.createElement("input");x.setAttribute("type","checkbox"),x.setAttribute("checked",""),x.setAttribute("title","Whether or not to play "+k),x.trackType=k,h.appendChild(x),a[k]=x,e.options.setTracks&&e.options.setTracks[k]&&("none"==e.options.setTracks[k]?x.checked=!1:x.checked=!0),n.event.addListener(x,"change",(function(){var e=0;for(var t in a)a[t].checked&&e++;if(0==e)for(var t in a)if(t!=this.trackType&&!a[t].checked){a[t].checked=!0,r(t,!0);break}var i;i=this.checked?this.trackType in s?s[this.trackType].value:"auto":"none",r(this.trackType,this.checked?i:"none")})),n.event.addListener(e.video,"playerUpdate_trackChanged",(function(e){e.message.type==k&&("none"==e.message.value?this.checked=!1:this.checked=!0)}),T)}}else{var C;(C=document.createElement("span")).className="awmvideo-description",h.appendChild(C),C.appendChild(document.createTextNode(S(c[v[0]].same).join(" ")))}}}},text:function(e){var t=document.createElement("span");return t.appendChild(document.createTextNode(e.text)),t},placeholder:function(){var e=document.createElement("div"),t=this.calcSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",this.options.poster&&(e.style.background="url('"+this.options.poster+"') no-repeat 50%/contain"),e},timeout:function(e){if(!(!1 in e)){var t="delay"in e?e.delay:5,i=this.skin.icons.build("timeout",!1,{delay:t});return i.timeout=this.timers.start((function(){e.function()}),1e3*t),i}},polling:function(){var e=document.createElement("div"),t=this.skin.icons.build("loading");return e.appendChild(t),e},loading:function(){var e=this,t=this.skin.icons.build("loading",50);if("player"in e&&e.player.api){var i=!1;function r(t){e.container.setAttribute("data-loading",t.type),function t(){i||(i=e.timers.start((function(){i=!1,e.monitor.vars&&e.monitor.vars.score>=.999?o():t()}),1e3))}()}function o(){e.container.removeAttribute("data-loading"),i&&e.timers.stop(i),i=!1}var s=["waiting","seeking","stalled"];for(var a in s)n.event.addListener(e.video,s[a],(function(t){!this.paused&&"container"in e&&r(t)}),t);for(var a in s=["seeked","playing","canplay","paused","ended"])n.event.addListener(e.video,s[a],(function(){"container"in e&&o()}),t),n.event.addListener(e.video,"progress",(function(){"container"in e&&"monitor"in e&&"vars"in e.monitor&&"score"in e.monitor.vars&&e.monitor.vars.score>.99&&o()}),t)}return t},error:function(){var e=this,t=document.createElement("div");t.message=function(t,i,s){n.empty(this);var a=document.createElement("div");if(a.className="message",this.appendChild(a),!s.polling&&!s.passive&&!s.hideTitle){var r=document.createElement("h3");a.appendChild(r),r.appendChild(document.createTextNode("The player has encountered a problem"))}var o=document.createElement("p");if(a.appendChild(o),a.update=function(e){n.empty(o),o.innerHTML=e},t){e.info.on_error&&(t=e.info.on_error.replace(/\<error>/,t)),a.update(t);var l=document.createElement("p");if(l.className="details awmvideo-description",a.appendChild(l),i)l.appendChild(document.createTextNode(i));else if("decodingIssues"in e.skin.blueprints){if("player"in e&&"api"in e.player&&e.video){if(i=[],void 0!==e.state&&i.push(["Stream state:",e.state]),void 0!==e.player.api.currentTime&&i.push(["Current video time:",n.format.time(e.player.api.currentTime)]),"video"in e&&"getVideoPlaybackQuality"in e.video){var c=e.video.getVideoPlaybackQuality();"droppedVideoFrames"in c&&"totalVideoFrames"in c&&c.totalVideoFrames&&i.push(["Frames dropped/total:",n.format.number(c.droppedVideoFrames)+"/"+n.format.number(c.totalVideoFrames)]),"corruptedVideoFrames"in c&&c.corruptedVideoFrames&&i.push(["Corrupted frames:",n.format.number(c.corruptedVideoFrames)])}if(i.push({0:["NETWORK EMPTY:","not yet initialized"],1:["NETWORK IDLE:","resource selected, but not in use"],2:["NETWORK LOADING:","data is being downloaded"],3:["NETWORK NO SOURCE:","could not locate source"]}[e.video.networkState]),i.push({0:["HAVE NOTHING:","no information about ready state"],1:["HAVE METADATA:","metadata has been loaded"],2:["HAVE CURRENT DATA:","data for the current playback position is available, but not for the next frame"],3:["HAVE FUTURE DATA:","data for current and next frame is available"],4:["HAVE ENOUGH DATA:","can start playing"]}[e.video.readyState]),!s.passive){var d=document.createElement("table");for(var u in i){var p=document.createElement("tr");for(var h in d.appendChild(p),i[u]){var m=document.createElement("td");p.appendChild(m),m.appendChild(document.createTextNode(i[u][h]))}}l.appendChild(d)}}var f=document.createElement("div");f.className="awmvideo-container awmvideo-column",f.style.textAlign="left",f.style.marginBottom="1em",a.appendChild(f);var v=e.UI.buildStructure({type:"forcePlayer"});v&&f.appendChild(v),(v=e.UI.buildStructure({type:"forceType"}))&&f.appendChild(v)}}return a};var i,s=!1,a=!1,r={};if(this.showError=function(o,l){l||(l={softReload:!!(e.player&&e.player.api&&e.player.api.load),reload:!0,nextCombo:!!e.info,polling:!1,passive:!1});var c=l.type?l.type:o;if(!(c in r)){if(!0===l.reload&&(e.options.reloadDelay&&!isNaN(Number(e.options.reloadDelay))?l.reload=Number(e.options.reloadDelay):l.reload=10),l.passive){if(!0===s)return;if(s)return i.update(o),void(a=(new Date).getTime());t.setAttribute("data-passive","")}else t.removeAttribute("data-passive");s&&t.clear(),s=!l.passive||"passive",a=(new Date).getTime();var d=this.log(o,"error"),u=t.message(o,!1,l);i=u;var p,h=document.createElement("div");h.className="awmvideo-buttoncontainer",u.appendChild(h),n.empty(h),l.softReload&&(p={type:"button",label:"Reload video",onclick:function(){e.player.api.load()}},isNaN(l.softReload+"")||(p.delay=l.softReload),h.appendChild(e.UI.buildStructure(p))),l.reload&&(p={type:"button",label:"Reload player",onclick:function(){e.reload("Reloading because reload button was clicked.")}},isNaN(l.reload+"")||(p.delay=l.reload),h.appendChild(e.UI.buildStructure(p))),l.nextCombo&&(p={type:"button",label:"Next source",onclick:function(){e.nextCombo()}},isNaN(l.nextCombo+"")||(p.delay=l.nextCombo),h.appendChild(e.UI.buildStructure(p))),l.ignore&&(p={type:"button",label:"Ignore",onclick:function(){this.clearError(),r[c]=!0}},isNaN(l.ignore+"")||(p.delay=l.ignore),h.appendChild(e.UI.buildStructure(p))),l.polling&&h.appendChild(e.UI.buildStructure({type:"polling"})),n.class.add(t,"show"),"container"in e&&e.container.removeAttribute("data-loading"),d.defaultPrevented&&t.clear()}},t.clear=function(){for(var i=t.querySelectorAll("svg.icon.timeout"),a=0;a<i.length;a++)e.timers.stop(i[a].timeout);n.empty(t),n.class.remove(t,"show"),s=!1},this.clearError=t.clear,"video"in e){var o=["timeupdate","playing","canplay"];for(var l in o)n.event.addListener(e.video,o[l],(function(i){if(s){if("timeupdate"==i.type){if(0==e.player.api.currentTime)return;if((new Date).getTime()-a<2e3)return}e.log("Removing error window because of "+i.type+" event"),t.clear()}}),t)}return t},tooltip:function(){var e=document.createElement("div"),t=document.createTextNode("");e.appendChild(t),e.setText=function(e){t.nodeValue=e};var i=document.createElement("div");return e.triangle=i,i.className="triangle",e.appendChild(i),i.setMode=function(e,t){e||(e="bottom"),t||(t="left");var i=["bottom","top","right","left"];for(var s in i){this.style[i[s]]="";var a=n.format.ucFirst(i[s]);this.style["border"+a]="",this.style["border"+a+"Color"]=""}var r={top:"bottom",bottom:"top",left:"right",right:"left"};this.style[e]="-10px",this.style["border"+n.format.ucFirst(r[e])]="none",this.style["border"+n.format.ucFirst(e)+"Color"]="transparent",this.style[t]=0,this.style["border"+n.format.ucFirst(r[t])]="none"},e.setPos=function(e){var t={left:"auto",right:"auto",top:"auto",bottom:"auto"};for(var i in n.object.extend(t,e),t)isNaN(t[i])||(t[i]+="px"),this.style[i]=t[i]},e},button:function(e){var t=document.createElement("button"),i=this;if(e.onclick&&(n.event.addListener(t,"click",(function(){e.onclick.call(i,arguments)})),e.delay)){var s=this.UI.buildStructure({type:"timeout",delay:e.delay,function:e.onclick});s&&t.appendChild(s)}return t.appendChild(document.createTextNode(e.label)),t},videobackground:function(e){e||(e={}),e.delay||(e.delay=5);for(var t=document.createElement("div"),i=this,s=[],a=0;a<2;a++){var r=document.createElement("canvas");r._context=r.getContext("2d"),t.appendChild(r),s.push(r)}var o=0,l=!1;return n.event.addListener(i.video,"playing",(function(){l||(function n(){if(e.alwaysDisplay||i.video.videoWidth/i.video.videoHeight!=t.clientWidth/t.clientHeight){s[o].removeAttribute("data-front"),++o>=s.length&&(o=0);var a=s[o],r=a._context;a.width=i.video.videoWidth,a.height=i.video.videoHeight,r.drawImage(i.video,0,0),a.setAttribute("data-front","")}i.player.api.paused?l=!1:i.timers.start((function(){n()}),1e3*e.delay)}(),l=!0)})),t}},colors:{fill:"#fff",semiFill:"rgba(255,255,255,0.5)",stroke:"#fff",strokeWidth:1.5,background:"rgba(0,0,0,0.8)",progressBackground:"#333",accent:"#0f0"}},a.dev={structure:n.object.extend({},a.default.structure,!0),blueprints:{timeout:function(){return!1!==this.options.reloadDelay&&a.default.blueprints.timeout.apply(this,arguments)},log:function(){var e=document.createElement("div");e.appendChild(document.createTextNode("Logs"));var t=document.createElement("div");t.className="logs",e.appendChild(t);var i=document.createElement("table");t.appendChild(i);var s=this,a={message:!1},r=!1,o=!0;function l(e,s,l){if(l||(l={}),a.message==s)return r++,a.counter.nodeValue=r,void(2==r&&a.counter.parentElement&&(a.counter.parentElement.style.display=""));r=1;var c=document.createElement("tr");c.className="entry",l.type&&"log"!=l.type&&(n.class.add(c,"type-"+l.type),s=n.format.ucFirst(l.type)+": "+s),i.appendChild(c);var d=document.createElement("td");d.className="timestamp",c.appendChild(d);var u=e.toLocaleTimeString().split(" ");u[0]+="."+("00"+e.getMilliseconds()).slice(-3),d.appendChild(document.createTextNode(u[0])),"currentTime"in l&&(d.title="Video playback time: "+n.format.time(l.currentTime,{ms:!0}));var p=document.createElement("td");c.appendChild(p);var h=document.createElement("span");h.className="message",p.appendChild(h),h.appendChild(document.createTextNode(s));var m=document.createElement("span");m.style.display="none",m.className="counter",p.appendChild(m);var f=document.createTextNode(r);m.appendChild(f),o&&(t.scrollTop=t.scrollHeight),a={message:s,counter:f}}for(var c in n.event.addListener(t,"scroll",(function(){o=t.scrollTop+t.clientHeight>=t.scrollHeight-5})),s.logs)l(s.logs[c].time,s.logs[c].message,s.logs[c].data);return n.event.addListener(s.options.target,"log",(function(e){if(e.message){var t={};s.player&&s.player.api&&"currentTime"in s.player.api&&(t.currentTime=s.player.api.currentTime),l(new Date,e.message,t)}}),e),n.event.addListener(s.options.target,"error",(function(e){if(e.message){var t={type:"error"};s.player&&s.player.api&&"currentTime"in s.player.api&&(t.currentTime=s.player.api.currentTime),l(new Date,e.message,t)}}),e),e},decodingIssues:function(){if(this.player){var e=this,t=document.createElement("div");if(e.player.api){var i={"Playback score":function(){if("monitor"in e){if("vars"in e.monitor&&"score"in e.monitor.vars&&e.monitor.vars.values.length){var t=e.monitor.vars.values[e.monitor.vars.values.length-1];if("score"in t)return{x:t.clock,y:Math.min(1,Math.max(0,t.score)),options:{y:{min:0,max:1},x:{count:10}},val:Math.round(100*Math.min(1,Math.max(0,e.monitor.vars.score)))+"%"}}return 0}},"Corrupted frames":function(){if(e.player.api&&"getVideoPlaybackQuality"in e.player.api){var t=e.player.api.getVideoPlaybackQuality();if(t)return t.corruptedVideoFrames?{val:n.format.number(t.corruptedVideoFrames),x:.001*(new Date).getTime(),y:t.corruptedVideoFrames,options:{x:{count:10}}}:0}},"Dropped frames":function(){if(e.player.api&&"getVideoPlaybackQuality"in e.player.api){var t=e.player.api.getVideoPlaybackQuality();if(t)return t.droppedVideoFrames?n.format.number(t.droppedVideoFrames):0}},"Total frames":function(){if(e.player.api&&"getVideoPlaybackQuality"in e.player.api){var t=e.player.api.getVideoPlaybackQuality();if(t)return n.format.number(t.totalVideoFrames)}},"Decoded audio":function(){if(e.player.api)return n.format.bytes(e.player.api.webkitAudioDecodedByteCount)},"Decoded video":function(){if(e.player.api)return n.format.bytes(e.player.api.webkitVideoDecodedByteCount)},"Negative acknowledgements":function(){if(e.player.api)return n.format.number(e.player.api.nackCount)},"Picture losses":function(){return n.format.number(e.player.api.pliCount)},"Packets lost":function(){return n.format.number(e.player.api.packetsLost)},"Packets received":function(){return n.format.number(e.player.api.packetsReceived)},"Bytes received":function(){if(e.player.api)return n.format.bytes(e.player.api.bytesReceived)},"Local latency [ms]":function(){if(e.player.api&&"getLatency"in e.player.api){var t=e.player.api.getLatency();return t?new Promise((function(e,i){t.then((function(t){var i=[];for(var s in t)t[s]&&i.push(s[0]+":"+Math.round(1e3*t[s]));i.length?e(i.join(" ")):e()}),i)})):new Promise((function(e){e()}),(function(){}))}},"Current bitrate":function(){if(e.player.monitor&&"currentBps"in e.player.monitor){var t=n.format.bits(e.player.monitor.currentBps);return t?t+"ps":t}}},s=[];for(var a in i)void 0!==i[a]()&&r({name:a,function:i[a]});t.update=function(){for(var i in s)s[i]();e.timers.start((function(){t.update()}),1e3)},t.update()}return t}function r(e){var i=document.createElement("label");t.appendChild(i),i.style.display="none";var a=document.createElement("span");i.appendChild(a),a.appendChild(document.createTextNode(e.name+":")),a.className="awmvideo-description";var r=document.createElement("span");i.appendChild(r);var o=document.createTextNode(e.value?e.value:"");r.appendChild(o);var l=document.createElement("span");r.appendChild(l),i.set=function(e){var t;return 0!==e&&(this.style.display=""),"object"==typeof e?e instanceof Promise?void e.then((function(e){i.set(e)}),(function(){})):("val"in e&&(o.nodeValue=e.val,r.className="value"),l.children.length?(t=l.children[0]).addData(e):(t=n.createGraph({x:[e.x],y:[e.y]},e.options),l.style.display="",n.empty(l),l.appendChild(t))):o.nodeValue=e},t.appendChild(i),s.push((function(){var t=e.function();i.set(t)}))}},forcePlayer:function(){var e=document.createElement("label");e.title="Reload AwmVideo and use the selected player";var t=this,i=document.createElement("span");e.appendChild(i),i.appendChild(document.createTextNode("Force player: "));var s=document.createElement("select");e.appendChild(s);var a=document.createElement("option");for(var r in s.appendChild(a),a.value="",a.appendChild(document.createTextNode("Automatic")),c)a=document.createElement("option"),s.appendChild(a),a.value=r,a.appendChild(document.createTextNode(c[r].name));return this.options.forcePlayer&&(s.value=this.options.forcePlayer),n.event.addListener(s,"change",(function(){t.options.forcePlayer=""!=this.value&&this.value,t.options.forcePlayer!=t.playerName&&t.reload("Reloading to force player.")})),e},forceType:function(){if(this.info){var e=document.createElement("label");e.title="Reload AwmVideo and use the selected protocol";var t=this,i=document.createElement("span");e.appendChild(i),i.appendChild(document.createTextNode("Force protocol: "));var s=document.createElement("select");e.appendChild(s);var a=document.createElement("option");s.appendChild(a),a.value="",a.appendChild(document.createTextNode("Automatic"));var r={};for(var o in t.info.source){var l=t.info.source[o];l.type in r||(r[l.type]=1,a=document.createElement("option"),s.appendChild(a),a.value=l.type,a.appendChild(document.createTextNode(n.format.mime2human(l.type))))}return this.options.forceType&&(s.value=this.options.forceType),n.event.addListener(s,"change",(function(){t.options.forceType=""!=this.value&&this.value,t.source&&t.options.forceType==t.source.type||t.reload("Reloading to force new type.")})),e}},forceSource:function(){var e=document.createElement("label");e.title="Reload AwmVideo and use the selected source";var t=this,i=document.createElement("span");e.appendChild(i),i.appendChild(document.createTextNode("Force source: "));var s=document.createElement("select");e.appendChild(s);var a=document.createElement("option");for(var r in s.appendChild(a),a.value="",a.appendChild(document.createTextNode("Automatic")),t.info.source){var o=t.info.source[r];a=document.createElement("option"),s.appendChild(a),a.value=r,a.appendChild(document.createTextNode(o.url+" ("+n.format.mime2human(o.type)+")"))}return this.options.forceSource&&(s.value=this.options.forceSource),n.event.addListener(s,"change",(function(){t.options.forceSource=""!=this.value&&this.value,t.options.forceSource!=t.source.index&&t.reload("Reloading to force new source.")})),e}}},a.dev.css={skin:s+"/skins/dev.css"},a.dev.structure.submenu=n.object.extend({},a.default.structure.submenu,!0),a.dev.structure.submenu.type="draggable",a.dev.structure.submenu.style.width="25em",a.dev.structure.submenu.children.unshift({type:"container",style:{flexShrink:1},classes:["awmvideo-column"],children:[{if:function(){return this.playerName&&this.source},then:{type:"container",classes:["awmvideo-description"],style:{display:"block"},children:[{type:"playername",style:{display:"inline"}},{type:"text",text:"is playing",style:{margin:"0 0.2em"}},{type:"mimetype"}]}},{type:"log"},{type:"decodingIssues"},{type:"container",classes:["awmvideo-column","awmvideo-devcontrols"],style:{"font-size":"0.9em"},children:[{type:"text",text:"Player control"},{type:"container",classes:["awmvideo-devbuttons"],style:{"flex-wrap":"wrap"},children:[{type:"button",title:"Build AwmVideo again",label:"AwmVideo.reload();",onclick:function(){this.reload("Dev-reload button clicked.")}},{type:"button",title:"Switch to the next available player and source combination",label:"AwmVideo.nextCombo();",onclick:function(){this.nextCombo()}}]},{type:"forcePlayer"},{type:"forceType"}]}]});var l,c={};function d(){}function u(e,t){return new p(e,t)}function p(e,t){var i=this;function s(e){if("meta"in e&&"tracks"in e.meta){var t=e.meta.tracks;for(var i in t)if("video"==t[i].type)return!0}return!1}function a(e){if(i.player&&i.player.api&&i.player.api.unload&&(i.log("Received new stream info while a player was already loaded: unloading player"),i.player.api.unload()),i.info=e,i.info.updated=new Date,i.info.forceTrackIdxes={},n.event.send("haveStreamInfo",e,i.options.target),i.log("Stream info was loaded succesfully."),function(e,t){if(!1!==t.forceTrack)try{const t=Object.values(e.meta.tracks).sort(((e,t)=>e.bps>=t.bps?-1:1)),s=new Set(t.map((e=>e.codec))),n={};for(const e of s){const i=t.filter((t=>t.codec===e));n[e]=i[i.length-1].idx}i.info.forceTrackIdxes=n}catch(e){i.log(" couldn't' get force idx")}}(e,t),"error"in e){var a=e.error;return"on_error"in e&&(i.log(a),a=e.on_error),void i.showError(a,{reload:!0,hideTitle:!0})}if(i.calcSize=function(e){e||(e={width:!1,height:!1});var s=e.width||!(!("width"in t)||!t.width)&&t.width,n=e.height||!(!("height"in t)||!t.height)&&t.height;if(this.info&&"source"in this.info)if(this.info.hasVideo&&"audio"!=this.source.type.split("/")[1]){if(!s||!n){var a=i.info.width/i.info.height;if(s||n)s?n=s/a:s=n*a;else{var r="maxwidth"in t&&t.maxwidth?t.maxwidth:window.innerWidth,o="maxheight"in t&&t.maxheight?t.maxheight:window.innerHeight;function l(e){s/=e,n/=e}s=i.info.width,n=i.info.height,s<426&&l(s/426),n<240&&l(n/240),r&&s>r&&l(s/r),o&&n>o&&l(n/o)}}}else s||(s=480),n||(n=42);else s=640,n=480;return this.size={width:Math.round(s),height:Math.round(n)},this.size},e.hasVideo=s(e),"live"==e.type){var l=0;for(var d in i.info.meta.tracks)l=Math.max(l,i.info.meta.tracks[d].lastms);e.lastms=l}else{var p=i.resumeTime;if(p){var h=function(){i.player&&i.player.api&&(i.player.api.currentTime=p),this.removeEventListener("initialized",h)};n.event.addListener(i.options.target,"initialized",h)}}i.options.ABR_bitrate&&i.options.ABR_resize&&i.info&&!i.info.selver&&(i.options.ABR_bitrate=!1),i.choosePlayer()?(i.reporting&&i.reporting.report({player:i.playerName,sourceType:i.source.type,sourceUrl:i.source.url,pageUrl:location.href}),i.player=new c[i.playerName].player,i.player.onreadylist=[],i.player.onready=function(e){this.onreadylist.push(e)},i.player.build(i,(function(e){if(i.log("Building new player"),i.container.removeAttribute("data-loading"),i.video=e,i.reporting&&i.reporting.init(),"api"in i.player){var s;for(var a in i.monitor=function(e){return{AwmVideo:e,delay:1,averagingSteps:20,vars:{values:[],score:!1,active:!1},SCORE_UPDATE_EVENT:"score_updated",PROTOCOL_CHANGE_EVENT:"protocol_changed",threshold:function(){return"webrtc"===this.AwmVideo.source.type?.95:.75},init:function(){this.vars.active||(this.AwmVideo.log("Enabling monitor"),this.AwmVideo.monitor.vars.active=!0,this.repeat())},destroy:function(){this.vars.active&&(this.AwmVideo.log("Disabling monitor"),this.AwmVideo.timers.stop(this.vars.timer),this.vars.timer=null,this.vars.values=[],this.vars.active=!1)},reset:function(){this.vars&&this.vars.active?(this.AwmVideo.log("Resetting monitor"),this.vars.values=[]):this.init()},calcScore:function(){var t=this.vars.values;if(t.push(this.getValue()),t.length<=1)return!1;var i=this.valueToScore(t[0],t[t.length-1]);return t.length>this.averagingSteps&&t.shift(),i=Math.max(i,t[t.length-1].score),this.vars.score=i,e.reporting&&e.reporting.stats.set("playbackScore",Math.round(10*i)/10),i},valueToScore:function(e,t){var i=1;return"player"in this.AwmVideo&&"api"in this.AwmVideo.player&&"playbackRate"in this.AwmVideo.player.api&&(i=this.AwmVideo.player.api.playbackRate),(t.video-e.video)/(t.clock-e.clock)/i},getValue:function(){var e={clock:.001*(new Date).getTime(),video:this.AwmVideo.player.api.currentTime};return this.vars.values.length&&(e.score=this.valueToScore(this.vars.values[this.vars.values.length-1],e)),e},check:function(e){return!(this.vars.values.length<.5*this.averagingSteps)&&(e<this.threshold()||void 0)},action:function(){var e=this.vars.score;this.AwmVideo.showError("Poor playback: "+Math.max(0,Math.round(100*e))+"%",{passive:!0,reload:!0,nextCombo:!0,ignore:!0,type:"poor_playback"})},repeat:function(){this.vars&&this.vars.active&&(this.vars.timer=this.AwmVideo.timers.start((()=>{var e=this.calcScore();!1!==e&&this.check(e)&&this.action(),this.repeat()}),1e3*this.delay))}}}(i),"monitor"in i.options&&(i.monitor.default=n.object.extend({},i.monitor),0===Object.getOwnPropertyNames(i.options.monitor).filter((e=>"function"==typeof i.options.monitor[e])).length&&n.object.extend(i.monitor,{MONITORING_WIDTH:8,QUALITY_SWITCH_UP_TIMEOUT:5,QUALITY_SWITCH_DOWN_TIMEOUT:5,QUALITY_SWITCH_CONNECTION_TIMEOUT:1,QUALITY_SWITCH_TIMEOUTS:[5,20,60,120,300,600],MIN_VALID_SCORE:.3,DEFAULT_PROTOCOL:["html5/video/mp4"],PROTOCOL_SWITCH_TIMEOUTS:{webrtc:1,"ws/video/mp4":2,"html5/video/mp4":4,"html5/application/vnd.apple.mpegurl":6},PROTOCOL_CHANGE_EVENT:"protocol_name",qualitySwitchUpTimeout:0,qualitySwitchPreviousMode:null,qualitySwitchTimestamp:null,currentBitrateIndex:-1,SWITCH_MODE:{UP:"UP",DOWN:"DOWN",INIT:"INIT"},trackIdListener:null,init:function(){this.vars.active||(this.addTrackIdListener(),this.AwmVideo.log("Enabling monitor"),this.vars.active=!0,n.event.send(this.PROTOCOL_CHANGE_EVENT,this.AwmVideo.source.type,this.AwmVideo.options.target),this.repeat())},addTrackIdListener:function(){null===this.trackIdListener&&(this.trackIdListener=this.AwmVideo.options.target.addEventListener("playerUpdate_trackChanged",(e=>{let t=e.message;"video"===t.type&&(this.videoTrackId=t.trackid)})))},check:function(e){const t=this.vars.values.filter((e=>e.hasOwnProperty("score")&&e.score>=0)).filter((e=>e.hasOwnProperty("clock"))).slice(Math.max(this.vars.values.length-this.MONITORING_WIDTH,0));if(0===t.length)return;const i=t[t.length-1].clock-t[0].clock,s=t.map((e=>e.score)),n=Math.min(...s),a=s.reduce(((e,t)=>e+t))/s.length;if(this.AwmVideo.log("Monitor: Min: ".concat(n.toFixed(5)," Avg: ").concat(a.toFixed(5)," of ").concat(i.toFixed(2),"s")),!this.hasOwnProperty("currentBitrateIndex"))return this.AwmVideo.log("Monitor: INIT"),i>=this.PROTOCOL_SWITCH_TIMEOUTS[this.source.type]&&(this.AwmVideo.log("Monitor: Initialization too long, switching to next protocol"),this.switchToNextProtocol()),this.qualitySwitchUpTimeout=0,this.result=this.SWITCH_MODE.INIT,!0;if(a<=this.MIN_VALID_SCORE&&i>=this.PROTOCOL_SWITCH_TIMEOUTS[this.AwmVideo.source.type]&&(!this.tracklist||this.currentBitrateIndex>=this.tracklist.length-1)&&this.switchToNextProtocol(),i>=this.QUALITY_SWITCH_UP_TIMEOUT&&n>.8&&a>=1){if(this.qualitySwitchPreviousMode!==this.SWITCH_MODE.DOWN)return this.AwmVideo.log("Monitor: => UP"),this.result=this.SWITCH_MODE.UP,!0;{let e=.001*(Date.now()-this.qualitySwitchTimestamp);if(this.AwmVideo.log("Monitor: UP timeout ".concat(e.toFixed(3)," of ").concat(this.qualitySwitchUpTimeout.toFixed(3))),e>=this.qualitySwitchUpTimeout)return this.AwmVideo.log("Monitor: => UP"),this.result=this.SWITCH_MODE.UP,!0}}return this.qualitySwitchPreviousMode===this.SWITCH_MODE.UP&&i>=this.QUALITY_SWITCH_CONNECTION_TIMEOUT&&i<this.QUALITY_SWITCH_DOWN_TIMEOUT&&(n<=.6||a<=.96)?(this.AwmVideo.log("Monitor: => DOWN by min ".concat(n.toFixed(5)," <= 0.7 or avg ").concat(a.toFixed(5)," <= 0.96")),this.result=this.SWITCH_MODE.DOWN,!0):i>=this.QUALITY_SWITCH_DOWN_TIMEOUT&&(a<=.92||n<=.6)&&(this.AwmVideo.log("Monitor: => DOWN by avg ".concat(a.toFixed(5)," <= 0.96")),this.result=this.SWITCH_MODE.DOWN,!0)},decreaseQualityTimeout:function(){const e=this.QUALITY_SWITCH_TIMEOUTS.indexOf(this.qualitySwitchUpTimeout);e>0&&(this.qualitySwitchUpTimeout=this.QUALITY_SWITCH_TIMEOUTS[e-1])},action:function(){if(!this.hasOwnProperty("tracklist")){let e=n.tracks.parse(this.AwmVideo.info.meta.tracks),t=[];if(e&&e.video){if(t=Object.values(e.video),this.AwmVideo.log("Monitor: Action track selection for '".concat(this.AwmVideo.source.type,"'")),"webrtc"===this.AwmVideo.source.type){if(this.AwmVideo.log("Monitor: Action track selection video track id ".concat(this.videoTrackId)),void 0===this.videoTrackId)return void this.AwmVideo.log("Monitor: Action track selection impossible because the vide track is not chosen");{let e=t.findIndex((e=>("idx"in e?e.idx:e.trackid)===this.videoTrackId));if(e>=0){let i=t[e].codec;t=t.filter((e=>e.codec===i))}}}else t=t.filter((e=>"H264"===e.codec));t=n.array.multiSort(t,[["bps",-1]])}if(this.tracklist=t,this.AwmVideo.log("Monitor: Track list ".concat(this.tracklist.map((e=>"'"+e.displayName+"'")).join(", "))),void 0!==this.videoTrackId){let e=t.findIndex((e=>("idx"in e?e.idx:e.trackid)===this.videoTrackId));e>=0&&(this.currentBitrateIndex=e)}}if(!this.hasOwnProperty("result"))return void this.AwmVideo.log("Monitor: No result saved, this should not happen!");if(0===this.tracklist.length)return this.AwmVideo.log("Monitor: Video tracks are absent!"),void(this.currentBitrateIndex=-1);if(1===this.tracklist.length)return void(this.currentBitrateIndex=0);let e=this.tracklist.length-1;-1===this.currentBitrateIndex&&(this.currentBitrateIndex=e),this.result===this.SWITCH_MODE.UP?e=Math.max(this.currentBitrateIndex-1,0):this.result===this.SWITCH_MODE.DOWN&&(e=Math.min(this.currentBitrateIndex+1,this.tracklist.length-1));const t=.001*(Date.now()-this.qualitySwitchTimestamp);if(e===this.currentBitrateIndex)return void(this.qualitySwitchPreviousMode===this.SWITCH_MODE.UP&&t>this.qualitySwitchUpTimeout&&this.decreaseQualityTimeout());if(this.result===this.SWITCH_MODE.DOWN&&(this.qualitySwitchPreviousMode===this.SWITCH_MODE.DOWN&&t>=2*this.QUALITY_SWITCH_DOWN_TIMEOUT&&this.decreaseQualityTimeout(),this.qualitySwitchPreviousMode===this.SWITCH_MODE.UP&&t<=2*this.QUALITY_SWITCH_DOWN_TIMEOUT)){let e=this.QUALITY_SWITCH_TIMEOUTS.indexOf(this.qualitySwitchUpTimeout)+1;e<this.QUALITY_SWITCH_TIMEOUTS.length&&(this.qualitySwitchUpTimeout=this.QUALITY_SWITCH_TIMEOUTS[e],this.AwmVideo.log("Monitor: Quality switch up timeout => ".concat(this.qualitySwitchUpTimeout)))}this.currentBitrateIndex=e,this.qualitySwitchTimestamp=Date.now(),this.qualitySwitchPreviousMode=this.result;const i=this.tracklist[this.currentBitrateIndex];this.AwmVideo.log("Monitor: Switching quality ".concat(this.result," [").concat(this.currentBitrateIndex,"]  (").concat(i.displayName,")")),this.AwmVideo.player.api.setTracks({video:"idx"in i?i.idx:i.trackid}),this.reset(),delete this.result},switchToNextProtocol:function(){this.destroy(),this.AwmVideo.options.AwmVideoObject.reference.unload();let e=[this.DEFAULT_PROTOCOL];for(const s of this.AwmVideo.options.forcePriority.source)if(s.length>=2&&"type"===s[0]){e=s[1];break}const t=function(e,t){let i=e.indexOf(t)+1;return i>=e.length&&(i=e.length-1),i};let i=n.object.extend({},this.AwmVideo.options);if(i.forceType=e[t(e,this.AwmVideo.source.type)],i.forceType!==this.AwmVideo.source.type){for(let s=0;s<e.length&&(this.AwmVideo.log("Switching to '".concat(i.forceType,"'")),!1===this.AwmVideo.options.AwmVideoObject.reference.checkCombo(i,!0));s++){const s=i.forceType;i.forceType=e[t(e,s)]}n.event.send(this.PROTOCOL_CHANGE_EVENT,i.forceType,this.AwmVideo.options.target),u(this.AwmVideo.stream,i)}}}),i.options.monitor&&n.object.extend(i.monitor,i.options.monitor)),s=["loadstart","play","playing"])n.event.addListener(i.video,s[a],(function(){i.monitor.init()}));for(var a in s=["loadeddata","pause","abort","emptied","ended"])n.event.addListener(i.video,s[a],(function(){i.monitor&&i.monitor.destroy()}));for(var a in s=["seeking","seeked","ratechange"])n.event.addListener(i.video,s[a],(function(){i.monitor&&i.monitor.reset()}))}for(var a in n.empty(i.options.target),new r(i),i.container=new o(i),i.options.target.appendChild(i.container),i.container.setAttribute("data-loading",""),i.video.p=i.player,s=["abort","canplay","canplaythrough","emptied","ended","loadeddata","loadedmetadata","loadstart","pause","play","playing","ratechange","seeked","seeking","stalled","volumechange","waiting","metaUpdate_tracks","resizing"])n.event.addListener(i.video,s[a],(function(e){i.log(i.player.name+" player event fired: "+e.type)}));if(n.event.addListener(i.video,"error",(function(e){var t;if("player"in i&&"api"in i.player&&"error"in i.player.api&&i.player.api.error)if("message"in i.player.api.error)t=i.player.api.error.message;else if("code"in i.player.api.error&&i.player.api.error instanceof MediaError){var s={1:"MEDIA_ERR_ABORTED: The fetching of the associated resource was aborted by the user's request.",2:"MEDIA_ERR_NETWORK: Some kind of network error occurred which prevented the media from being successfully fetched, despite having previously been available.",3:"MEDIA_ERR_DECODE: Despite having previously been determined to be usable, an error occurred while trying to decode the media resource, resulting in an error.",4:"MEDIA_ERR_SRC_NOT_SUPPORTED: The associated resource or media provider object (such as a MediaStream) has been found to be unsuitable."};t=i.player.api.error.code in s?s[i.player.api.error.code]:"MediaError code "+i.player.api.error.code}else"string"!=typeof(t=i.player.api.error)&&(t=JSON.stringify(t));else t="An error was encountered.";"Stream is online"==i.state?i.showError(t):(i.log(t,"error"),i.showError(i.state,{polling:!0}))})),"setSize"in i.player&&(i.player.videocontainer=i.video.parentNode,i.video.currentTarget=i.options.target,n.class.has(i.options.target,"awmvideo-secondaryVideo")||(i.player.resizeAll=function(){function e(t,i){if(t.video.currentTarget==i)return t.video;if(t.secondary)for(var s=0;s<t.secondary.length;s++){var n=e(t.secondary[s].AwmVideo,i);if(n)return n}return!1}var t=e(i,i.options.target);if(!t)throw"Main video not found";if(t.p.resize(),"secondary"in i){function n(t){if(t.AwmVideo){if("player"in t.AwmVideo){var s=e(i,t.AwmVideo.options.target);if(!s)throw"Secondary video not found";s.p.resize()}}else i.timers.start((function(){n(t)}),100)}for(var s in i.secondary)n(i.secondary[s])}}),i.player.resize=function(e,t){var s=i.video.currentTarget.querySelector(".awmvideo");if(t||(t={width:i.video.clientWidth,height:i.video.clientHeight}),s.hasAttribute("data-fullscreen"))return a={width:window.innerWidth,height:window.innerHeight},this.setSize(a),!0;var a=i.calcSize(e);return this.setSize(a),s.style.width=a.width+"px",s.style.height=a.height+"px",!i.options.fillSpace||e&&e.reiterating?i.video.currentTarget.clientHeight&&i.video.currentTarget.clientHeight<a.height?this.resize({width:!1,height:i.video.currentTarget.clientHeight,reiterating:!0},t):i.video.currentTarget.clientWidth&&i.video.currentTarget.clientWidth<a.width?this.resize({width:i.video.currentTarget.clientWidth,height:!1,reiterating:!0},t):(a.width==t.width&&a.height==t.height||(i.log("Player size calculated: "+a.width+" x "+a.height+" px"),n.event.send("player_resize",a,i.video)),!0):this.resize({width:window.innerWidth,height:!1,reiterating:!0},t)},n.class.has(i.options.target,"awmvideo-secondaryVideo")||(n.event.addListener(window,"resize",(function(){i.destroyed||i.player.resizeAll()}),i.video),n.event.addListener(i.options.target,"resize",(function(){i.player.resizeAll()}),i.video),i.player.resizeAll())),i.player.api){if("setSource"in i.player.api&&(i.sourceParams={},i.player.api.setSourceParams=function(e,t){n.object.extend(i.sourceParams,t),i.player.api.setSource(n.http.url.addParam(e,t))},"setTracks"in i.player.api||(i.player.api.setTracks=function(e){var t=n.tracks.parse(i.info.meta.tracks);for(var s in e)s in t&&(e[s]in t[s]||"none"==e[s])||(i.log("Skipping trackselection of "+s+" track "+e[s]+" because it does not exist"),delete e[s]);var a=i.source.url,r=i.player.api.currentTime;if(this.setSourceParams(a,e),n.event.send("playerUpdate_trackChanged",{type:Object.keys(e)[0],trackid:e[Object.keys(e)[0]]},i.video),"live"!=i.info.type){var o=function(){i.player.api.currentTime=r,this.removeEventListener("loadedmetadata",o)};n.event.addListener(i.video,"loadedmetadata",o)}})),!("setTracks"in i.player.api)&&"setTrack"in i.player.api&&(i.player.api.setTracks=function(e){for(var t in e)i.player.api.setTrack(t,e[t])}),t.setTracks){var l=n.object.extend({},t.setTracks);if("subtitle"in t.setTracks&&"setSubtitle"in i.player.api&&i.player.onready((function(){var e=!1;for(var t in i.info.source){var s=i.info.source[t];if("html5/text/vtt"==s.type&&n.http.url.split(s.url).protocol==n.http.url.split(i.source.url).protocol){e=s.url.replace(/.srt$/,".vtt");break}}if(e){var a=n.tracks.parse(i.info.meta.tracks);if("subtitle"in a&&l.subtitle in a.subtitle){var r=a.subtitle[l.subtitle];r.src=n.http.url.addParam(e,{track:l.subtitle}),r.label="automatic",r.lang="unknown",i.player.api.setSubtitle(r),n.event.send("playerUpdate_trackChanged",{type:"subtitle",trackid:l.subtitle},i.video),delete l.subtitle}}})),"setTrack"in i.player.api)i.player.onready((function(){for(var e in l)i.player.api.setTrack(e,l[e]),n.event.send("playerUpdate_trackChanged",{type:e,trackid:l[e]},i.video)}));else if("setTracks"in i.player.api)for(var a in i.player.onready((function(){i.player.api.setTracks(l)})),l)n.event.send("playerUpdate_trackChanged",{type:a,trackid:l[a]},i.video),this.videoTrackId=l[a]}if(i.player.api.ABR_resize&&i.options.ABR_resize){var c=!1;n.event.addListener(i.video,"player_resize",(function(e){i.options.setTracks&&i.options.setTracks.video||(c&&i.timers.stop(c),c=i.timers.start((function(){i.player.api.ABR_resize(e.message),c=!1}),1e3))})),n.event.addListener(i.video,"trackSetToAuto",(function(e){"video"==e.message&&i.player.api.ABR_resize({width:i.video.clientWidth,height:i.video.clientHeight})})),i.player.api.ABR_resize({width:i.video.clientWidth,height:i.video.clientHeight})}}for(var a in i.player.onreadylist)i.player.onreadylist[a]();try{(i.metrics||i.options.metrics)&&(i.metrics=n.object.extend({},i.options.metrics),i.metrics=n.object.extend(function(e,t){return{AwmVideo:e,METRICS_URL:"wss://ceeblue.tv/stats/ws/viewer/awm",websocket:null,statistic:{streamId:t,score:0,protocol:null},listeners:{scoreListener:null,protocolListener:null},start(){if(!e&&!this.AwmVideo)throw"AwmVideo is required";if(!t)throw"stream id is required";null===this.websocket?(this.websocket=new WebSocket(this.METRICS_URL),this.addListeners()):console.warn("Websocket is already created")},addListeners(){this.listeners.scoreListener=n.event.addListener(this.AwmVideo.options.target,this.AwmVideo.monitor.SCORE_UPDATE_EVENT,(e=>{let{message:t}=e;this.statistic.score=t,this.send()})),this.listeners.protocolListener=n.event.addListener(this.AwmVideo.options.target,this.AwmVideo.monitor.PROTOCOL_CHANGE_EVENT,(e=>{let{message:t}=e;this.statistic.protocol=n.format.mime2human(t),this.send()}))},send(){setTimeout((()=>{this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(this.statistic))}),0)},stop(){for(let e in this.listeners)n.event.removeListener(this.listeners[e]);this.websocket.close()}}}(i,i.stream),i.metrics),i.metrics.start())}catch(e){i.log("Couldn't start statistic module"+e.message)}n.event.send("initialized",null,t.target),i.log("Initialized"),i.options.callback&&t.callback(i)}))):i.options.startCombo?(delete i.options.startCombo,i.unload("No compatible players found - retrying without startCombo."),u(i.stream,i.options)):(i.showError("No compatible player/source combo found.",{reload:!0}),n.event.send("initializeFailed",null,t.target),i.log("Initialization failed"))}function l(){var e=i.urlappend(t.host+"/json_"+encodeURIComponent(i.stream)+".js");i.log("Requesting stream info from "+e),n.http.get(e,(function(e){i.destroyed||a(JSON.parse(e))}),(function(){i.showError("Connection failed: the media server may be offline",{reload:30}),i.info||(n.event.send("initializeFailed",null,t.target),i.log("Initialization failed"))}))}return t||(t={}),"undefined"!=typeof awmoptions&&(t=n.object.extend(n.object.extend({},awmoptions),t)),(t=n.object.extend({host:null,autoplay:!0,controls:!0,loop:!1,poster:!1,muted:!1,callback:!1,streaminfo:!1,startCombo:!1,forceType:!1,forcePlayer:!1,forceSource:!1,forcePriority:!1,forceTrack:!1,monitor:!1,reloadDelay:!1,urlappend:!1,accessToken:!1,setTracks:!1,fillSpace:!1,width:!1,height:!1,maxwidth:!1,maxheight:!1,ABR_resize:!1,ABR_bitrate:!1,AwmVideoObject:!1,metrics:!1,reporting:!1},t)).host&&(t.host=n.http.url.sanitizeHost(t.host)),this.options=t,this.stream=e,this.info=!1,window.AwmInstances||(window.AwmInstances=0),window.AwmInstances++,this.n=window.AwmInstances,this.logs=[],this.log=function(e,s){s||(s="log");var a=n.event.send(s,e,t.target),r={type:s};if(this.logs.push({time:new Date,message:e,data:r}),"dev"==this.options.skin)try{var o="["+(s||"log")+"] "+(i.destroyed?"[DESTROYED] ":"")+"[#"+i.n+"] "+(this.player&&this.player.api?n.format.time(this.player.api.currentTime,{ms:!0})+" ":"")+e;s&&"log"!=s?console.warn(o):console.log(o)}catch(e){}return a},this.log("Initializing.."),this.bootMs=(new Date).getTime(),this.timers={list:{},start:function(e,t){var s=setTimeout((function(){delete i.timers.list[s],i.destroyed||e()}),t);return this.list[s]=new Date((new Date).getTime()+t),s},stop:function(e){var t;for(var i in"all"==e?t=this.list:(t={})[e]=1,t)clearTimeout(i),delete this.list[i]}},this.errorListeners=[],this.resumeTime=!1,this.urlappend=function(e){return this.options.urlappend&&(e+=this.options.urlappend),e},t.reloadDelay&&t.reloadDelay>3600&&(t.reloadDelay/=1e3,this.log("A reloadDelay of more than an hour was set: assuming milliseconds were intended. ReloadDelay is now "+t.reloadDelay+"s")),new r(this),this.checkCombo=function(e,t){e||(e={}),e=n.object.extend(n.object.extend({},this.options),e);var s,a,r=!1;for(var o in e.forceSource?(s=[i.info.source[e.forceSource]],i.log("Forcing source "+e.forceSource+": "+s[0].type+" @ "+s[0].url)):e.forceType?(s=i.info.source.filter((function(t){return t.type===e.forceType})),i.log("Forcing type "+e.forceType)):s=i.info.source,c)c[o].shortname=o;e.forcePlayer?(a=[c[e.forcePlayer]],i.log("Forcing player "+e.forcePlayer)):a=n.object.values(c),s=[].concat(s);var l={first:"source",source:[function(e){return"origIndex"in e||(e.origIndex=i.info.source.indexOf(e)),e.origIndex}],player:[{priority:1}]},d={inner:"player",outer:"source"};if(e.forcePriority){if("source"in e.forcePriority){if(!(e.forcePriority.source instanceof Array))throw"forcePriority.source is not an array.";l.source=e.forcePriority.source.concat(l.source),n.array.multiSort(s,l.source)}if("player"in e.forcePriority){if(!(e.forcePriority.player instanceof Array))throw"forcePriority.player is not an array.";l.player=e.forcePriority.player.concat(l.player),n.array.multiSort(a,l.player)}"first"in e.forcePriority&&(l.first=e.forcePriority.first),"player"==l.first&&(d.outer="player",d.inner="source")}var u={player:{list:a,current:!1},source:{list:s,current:!1}};if(e.startCombo)for(e.startCombo.started={player:!1,source:!1},o=0;o<a.length;o++)if(a[o].shortname==e.startCombo.player){e.startCombo.player=o;break}function p(t){return e.startCombo&&!e.startCombo.started[t]?e.startCombo[t]==u[t].current||e.startCombo[t]==u[t].list[u[t].current]?(e.startCombo.started[t]=!0,1):2:0}for(var h in u[d.outer].list)if(u[d.outer].current=h,!(p(d.outer)>=2))for(var m in u[d.inner].list)if(u[d.inner].current=m,!(p(d.inner)>=1)){r=u.source.list[u.source.current];var f=u.player.list[u.player.current].shortname,v=c[f];if(v.isMimeSupported(r.type)&&v.isBrowserSupported(r.type,r,i))return{player:f,source:r,source_index:u.source.current};t||i.log("Checking "+v.name+" with "+r.type+".. Nope.")}return!1},this.choosePlayer=function(){i.log("Checking available players..");var e=this.checkCombo();if(!e)return!1;var t=c[e.player],s=e.source;return i.log("Found a working combo: "+t.name+" with "+s.type+" @ "+s.url),i.playerName=e.player,(s=n.object.extend({},s)).index=e.source_index,s.url=i.urlappend(s.url),this.options.accessToken&&(s.url=n.http.url.addParam(s.url,{id:this.options.accessToken})),i.source=s,n.event.send("comboChosen","Player/source combination selected",i.options.target),!0},i.calcSize=function(){return{width:640,height:480}},n.empty(i.options.target),new r(i),i.container=new o(i,i.skin.structure.placeholder),i.options.target.appendChild(i.container),i.container.setAttribute("data-loading",""),"WebSocket"in window?function e(){i.log("Opening stream status stream..");var t=i.options.host.replace(/^http/i,"ws"),r=new WebSocket(i.urlappend(t+"/json_"+encodeURIComponent(i.stream)+".js"));i.socket=r,r.die=!1,r.destroy=function(){this.die=!0,i.reporting&&(i.reporting.reportStats(),i.reporting=!1),this.onclose=function(){},this.close()},r.timeOut=i.timers.start((function(){r.readyState<=1&&(r.destroy(),l())}),5e3),r.onopen=function(){this.wasConnected=!0,!i.reporting&&i.options.reporting&&(i.reporting={stats:{set:function(e,t){this.d[e]=t},add:function(e,t){void 0===t&&(t=1),this.d[e]+=t},d:{nWaiting:0,timeWaiting:0,nStalled:0,timeStalled:0,timeUnpaused:0,nError:0,nLog:0,videoHeight:null,videoWidth:null,playerHeight:null,playerWidth:null},last:{firstPlayback:null,nWaiting:0,timeWaiting:0,nStalled:0,timeStalled:0,timeUnpaused:0,nError:0,lastError:null,playbackScore:1,nLog:0,autoplay:null,videoHeight:null,videoWidth:null,playerHeight:null,playerWidth:null}},report:function(e){1==i.socket.readyState&&i.socket.send(JSON.stringify(e))},reportStats:function(){var e={},t=!1,s=i.logs.slice(this.stats.last.nLog);for(var n in this.stats.d)this.stats.d[n]!=this.stats.last[n]&&(e[n]=this.stats.d[n],this.stats.last[n]=e[n],t=!0);if(t){if(s.length)for(var n in e.logs=[],s)e.logs.push(s[n].message);this.report(e)}i.timers.start((function(){i.reporting&&i.reporting.reportStats()}),5e3)},init:function(){var e=i.video,t=n.event.addListener(e,"playing",(function(){i.reporting.stats.set("firstPlayback",(new Date).getTime()-i.bootMs),n.event.removeListener(t)}));if(n.event.addListener(e,"waiting",(function(){i.reporting.stats.add("nWaiting")})),n.event.addListener(e,"stalled",(function(){i.reporting.stats.add("nStalled")})),n.event.addListener(i.options.target,"error",(function(e){i.reporting.stats.add("nError"),i.reporting.stats.set("lastError",e.message)}),e),Object&&Object.defineProperty){var s=0,a=!1,r=0,o=!1,l=0,c=!1,d=i.reporting.stats.d;Object.defineProperty(d,"timeWaiting",{get:function(){return s+(a?(new Date).getTime()-a:0)}}),Object.defineProperty(d,"timeStalled",{get:function(){return r+(o?(new Date).getTime()-o:0)}}),Object.defineProperty(d,"timeUnpaused",{get:function(){return l+(c?(new Date).getTime()-c:0)}}),Object.defineProperty(d,"nLog",{get:function(){return i.logs.length}}),Object.defineProperty(d,"videoHeight",{get:function(){return i.video?i.video.videoHeight:null}}),Object.defineProperty(d,"videoWidth",{get:function(){return i.video?i.video.videoWidth:null}}),Object.defineProperty(d,"playerHeight",{get:function(){return i.video?i.video.clientHeight:null}}),Object.defineProperty(d,"playerWidth",{get:function(){return i.video?i.video.clientWidth:null}}),n.event.addListener(e,"waiting",(function(){s=d.timeWaiting,a=(new Date).getTime()})),n.event.addListener(e,"stalled",(function(){r=d.timeStalled,o=(new Date).getTime()}));var u=["playing","pause"];for(var p in u)n.event.addListener(e,u[p],(function(){s=d.timeWaiting,r=d.timeStalled,a=!1,o=!1}));n.event.addListener(e,"playing",(function(){l=d.timeUnpaused,c=(new Date).getTime()})),n.event.addListener(e,"pause",(function(){l=d.timeUnpaused,c=!1}))}this.reportStats()}})},r.onclose=function(){if(!this.die)return this.wasConnected?(i.log("Reopening websocket.."),void e()):void l()};var o=!1;r.addEventListener("message",(function(e){r.timeOut&&(i.timers.stop(r.timeOut),r.timeOut=!1);var t=JSON.parse(e.data);if(t||i.showError("Error while parsing stream status stream. Obtained: "+e.data.toString(),{reload:!0}),"error"in t){var l;switch(e=t.error,"on_error"in t&&(i.log(e),e=t.on_error),i.state=t.error,t.error){case"Stream is offline":i.info=!1,i.player&&i.player.api&&i.player.api.currentTime&&(i.resumeTime=i.player.api.currentTime);case"Stream is initializing":case"Stream is booting":case"Stream is waiting for data":case"Stream is shutting down":case"Stream status is invalid?!":if(i.player&&i.player.api&&!i.player.api.paused)return i.log(t.error,"error"),o||(o=n.event.addListener(i.video,"ended",(function(){i.showError(t.error,{polling:!0})}))),void(o=n.event.addListener(i.video,"waiting",(function(){i.showError(t.error,{polling:!0})})));l={polling:!0};break;default:l={reload:!0}}i.showError(e,l)}else{if(i.state="Stream is online",i.clearError(),o&&n.event.removeListener(o),!i.info)return void a(t);var c=function e(t,i){if(t==i)return!1;if("object"==typeof t&&void 0!==i){var s={};for(var a in t)if(!(n.array.indexOf(["lastms","hasVideo"],a)>=0)){var r=e(t[a],i[a]);r&&(s[a]=!0===r?[t[a],i[a]]:r)}for(var a in i)n.array.indexOf(["lastms","hasVideo"],a)>=0||a in t||(s[a]=[t[a],i[a]]);return!!n.object.keys(s).length&&s}return!0}(t,i.info);if(c){if("source"in c)return void("error"in i.info&&i.reload("Reloading, stream info has error"));i.info=n.object.extend(i.info,t),i.info.updated=new Date;var d=!1;for(var u in c)switch(u){case"meta":for(var p in c[u])if("tracks"===p)i.info.hasVideo=s(i.info),n.event.send("metaUpdate_tracks",t,i.video);break;case"width":case"height":d=!0}d&&i.player.resize()}else i.log("Metachange: no differences detected")}}))}():l(),this.unload=function(e){if(!this.destroyed){for(var t in this.log("Unloading.."),this.destroyed=!0,this.timers.stop("all"),this.errorListeners){var s=this.errorListeners[t];if(s.src in n.scripts.list){var a=n.array.indexOf(n.scripts.list[s.src].subscribers);a>=0&&n.scripts.list[s.src].subscribers.splice(a,1)}}if("monitor"in i&&"destroy"in i.monitor&&i.monitor.destroy(),this.socket&&(this.reporting&&(this.reporting.reportStats(),this.reporting.report({unload:e||null})),this.socket.destroy()),this.player&&this.player.api&&("pause"in this.player.api&&this.player.api.pause(),"setSource"in this.player.api&&this.player.api.setSource(""),"unload"in this.player.api))try{this.player.api.unload()}catch(r){i.log("Error while unloading player: "+r.message)}if(this.UI&&this.UI.elements)for(var t in this.UI.elements){var r=this.UI.elements[t];if("attachedListeners"in r)for(var t in r.attachedListeners)n.event.removeListener(r.attachedListeners[t]);r.parentNode&&r.parentNode.removeChild(r)}this.video&&n.empty(this.video),"container"in this&&(n.empty(this.container),delete this.container),n.empty(this.options.target),i.metrics&&i.metrics.stop(),delete this.video}},this.reload=function(e){var t="player"in this&&"api"in this.player&&this.player.api.currentTime;if(this.unload(e),i=u(this.stream,this.options),t&&"live"!=this.info.type){var s=function(){i.player&&i.player.api&&(i.player.api.currentTime=t),this.removeEventListener("initialized",s)};n.event.addListener(this.options.target,"initialized",s)}return i},this.nextCombo=function(){var e=!1;"player"in this&&"api"in this.player&&(e=this.player.api.currentTime);var t={source:this.source.index,player:this.playerName};if(!this.checkCombo({startCombo:t},!0)){if(!this.checkCombo({startCombo:!1},!0))return;t=!1}this.unload("nextCombo");var s=this.options;if(s.startCombo=t,i=u(this.stream,s),e&&isFinite(e)&&"live"!=this.info.type){var a=function(){"player"in i&&"api"in i.player&&(i.player.api.currentTime=e),this.removeEventListener("initialized",a)};n.event.addListener(s.target,"initialized",a)}},this.onPlayerBuilt=function(){},t.AwmVideoObject&&(t.AwmVideoObject.reference=this),this}var h=u;c.html5={name:"HTML5 video player",mimes:["html5/application/vnd.apple.mpegurl","html5/video/mp4","html5/video/ogg","html5/video/webm","html5/audio/mp3","html5/audio/webm","html5/audio/ogg","html5/audio/wav"],priority:n.object.keys(c).length+1,isMimeSupported:function(e){return-1!=n.array.indexOf(this.mimes,e)},isBrowserSupported:function(e,t,i){if(location.protocol!=n.http.url.split(t.url).protocol){if("file:"!=location.protocol||"http:"!=n.http.url.split(t.url).protocol)return i.log("HTTP/HTTPS mismatch for this source"),!1;i.log("This page was loaded over file://, the player might not behave as intended.")}if("html5/application/vnd.apple.mpegurl"==e){var s=n.getAndroid();if(s&&parseFloat(s)<7)return i.log("Skipping native HLS as videojs will do better"),!1}var a=!1,r=e.split("/");r.shift();try{function d(e){var t=document.createElement("video");return t&&""!=t.canPlayType(e)&&(a=t.canPlayType(e)),a}if("video/mp4"==(r=r.join("/"))){function u(e){function t(t){return("0"+e.init.charCodeAt(t).toString(16)).slice(-2)}switch(e.codec){case"AAC":return"mp4a.40.2";case"MP3":return"mp3";case"AC3":return"ec-3";case"H264":return"avc1."+t(1)+t(2)+t(3);case"HEVC":return"hev1."+t(1)+t(6)+t(7)+t(8)+t(9)+t(10)+t(11)+t(12);default:return e.codec.toLowerCase()}}var o={};for(var l in i.info.meta.tracks)"meta"!=i.info.meta.tracks[l].type&&(o[u(i.info.meta.tracks[l])]=1);if((o=n.object.keys(o)).length){if(o.length>t.simul_tracks){var c=0;for(var l in o)d(r+';codecs="'+o[l]+'"')&&c++;return c>=t.simul_tracks}r+=';codecs="'+o.join(",")+'"'}}a=d(r)}catch(e){}return a},player:function(){this.onreadylist=[]},awmControls:!0},(l=c.html5.player).prototype=new d,l.prototype.build=function(e,t){e.player.name="html5";var i=e.source.type.split("/");i.shift();var s=document.createElement("video");s.setAttribute("crossorigin","anonymous"),s.setAttribute("playsinline","");var a=document.createElement("source");const r=new URL(e.source.url);e.info.forceTrackIdxes.H264&&r.searchParams.append("video",e.info.forceTrackIdxes.H264),a.setAttribute("src",r.href),s.source=a,s.appendChild(a),a.type=i.join("/");var o=["autoplay","loop","poster"];for(var l in o){var c=o[l];e.options[c]&&s.setAttribute(c,!0===e.options[c]?"":e.options[c])}if(e.options.muted&&(s.muted=!0),"stock"==e.options.controls&&s.setAttribute("controls",""),"live"==e.info.type&&(s.loop=!1),"Proxy"in window&&"Reflect"in window){var d={get:{},set:{}};if(e.player.api=new Proxy(s,{get:function(e,t){if(t in d.get)return d.get[t].apply(e,arguments);var i=e[t];return"function"==typeof i?function(){return i.apply(e,arguments)}:i},set:function(e,t,i){return t in d.set?d.set[t].call(e,i):e[t]=i}}),"html5/audio/mp3"==e.source.type&&(d.set.currentTime=function(){return e.log("Seek attempted, but AwmServer does not currently support seeking in MP3."),!1}),"live"==e.info.type)d.get.duration=function(){var t=0;return this.buffered.length&&(t=this.buffered.end(this.buffered.length-1)),t+.001*((new Date).getTime()-e.player.api.lastProgress.getTime())-e.player.api.liveOffset},d.set.currentTime=function(t){var i=t-e.player.api.duration;i>0&&(i=0),e.player.api.liveOffset=i,e.log("Seeking to "+n.format.time(t)+" ("+Math.round(-10*i)/10+"s from live)");var s={startunix:i};0==i&&(s={}),e.player.api.setSource(n.http.url.addParam(e.source.url,s))},n.event.addListener(s,"progress",(function(){e.player.api.lastProgress=new Date})),e.player.api.lastProgress=new Date,e.player.api.liveOffset=0,n.event.addListener(s,"pause",(function(){e.player.api.pausedAt=new Date})),d.get.play=function(){return function(){return e.player.api.paused&&e.player.api.pausedAt&&new Date-e.player.api.pausedAt>5e3&&(s.load(),e.log("Reloading source..")),s.play.apply(s,arguments)}},"html5/video/mp4"==e.source.type&&(d.get.currentTime=function(){return this.currentTime-e.player.api.liveOffset+.001*e.info.lastms});else if(!isFinite(s.duration)){var u=0;for(var l in e.info.meta.tracks)u=Math.max(u,e.info.meta.tracks[l].lastms);d.get.duration=function(){return isFinite(this.duration)?this.duration:.001*u}}}else e.player.api=s;e.player.api.setSource=function(e){e!=this.source.src&&(this.source.src=e,this.load())},e.player.api.setSubtitle=function(e){for(var t=s.getElementsByTagName("track"),i=t.length-1;i>=0;i--)s.removeChild(t[i]);if(e){var n=document.createElement("track");s.appendChild(n),n.kind="subtitles",n.label=e.label,n.srclang=e.lang,n.src=e.src,n.setAttribute("default","")}},e.player.setSize=function(e){this.api.style.width=e.width+"px",this.api.style.height=e.height+"px"};var p=n.event.addListener(s,"progress",(function(){n.event.removeListener(p),n.event.send("playerUpdate_trackChanged",{type:"video",trackid:e.info.forceTrackIdxes.H264},e.video)}));t(s)},c.webrtc={name:"WebRTC player",mimes:["webrtc"],priority:n.object.keys(c).length+1,isMimeSupported:function(e){return-1!=this.mimes.indexOf(e)},isBrowserSupported:function(e,t,i){return"WebSocket"in window&&"RTCPeerConnection"in window&&(location.protocol.replace(/^http/,"ws")==n.http.url.split(t.url.replace(/^http/,"ws")).protocol||(i.log("HTTP/HTTPS mismatch for this source"),!1))},player:function(){}},(l=c.webrtc.player).prototype=new d,l.prototype.build=function(e,t){var i=this;if(i.name="webrtc",i.selectedVideoCodec="H264","undefined"==typeof WebRTCBrowserEqualizerLoaded||!WebRTCBrowserEqualizerLoaded){var s=document.createElement("script");return s.src=e.urlappend(awmoptions.host+"/webrtc.js"),e.log("Retrieving webRTC browser equalizer code from "+s.src),document.head.appendChild(s),s.onerror=function(){e.showError("Failed to load webrtc browser equalizer",{nextCombo:5})},void(s.onload=function(){i.build(e,t)})}var a=document.createElement("video");a.setAttribute("playsinline","");var r=["autoplay","loop","poster"];for(var o in r){var l=r[o];e.options[l]&&a.setAttribute(l,!0===e.options[l]?"":e.options[l])}e.options.muted&&(a.muted=!0),"live"==e.info.type&&(a.loop=!1),"stock"==e.options.controls&&a.setAttribute("controls",""),a.setAttribute("crossorigin","anonymous"),this.setSize=function(e){a.style.width=e.width+"px",a.style.height=e.height+"px"},n.event.addListener(a,"loadeddata",g),n.event.addListener(a,"seeked",g),e.options.autoplay||n.event.addListener(a,"canplay",(function(){var t=n.event.addListener(a,"play",(function(){e.log("Pausing because autoplay is disabled");var s=n.event.addListener(a,"pause",(function(){e.options.autoplay=!1,n.event.removeListener(s)}));i.api.pause(),n.event.removeListener(t)}))}));var c,d=0,u=!1,p=[];function h(t){this.ws=null,this.ws=new WebSocket(e.source.url.replace(/^http/,"ws")),this.ws.onopen=function(){t({type:"on_connected"})},this.ws.timeOut=e.timers.start((function(){0==e.player.webrtc.signaling.ws.readyState&&(e.log("WebRTC: socket timeout - try next combo"),e.nextCombo())}),5e3),this.ws.onmessage=function(e){try{var i=JSON.parse(e.data);t(i)}catch(t){console.error("Failed to parse a response from AwmServer",t,e.data)}},this.ws.onclose=function(e){e.code,t({type:"on_disconnected",code:e.code})},this.sendOfferSDP=function(e){this.send({type:"offer_sdp",offer_sdp:e})},this.send=function(e){if(!this.ws)throw"Not initialized, cannot send "+JSON.stringify(e);this.ws.send(JSON.stringify(e))}}function m(e){Object.defineProperty(i.api,e,{get:function(){return a[e]},set:function(t){return a[e]=t}})}this.listeners={on_connected:function(){d=0,u=!1,this.webrtc.play(),n.event.send("webrtc_connected",null,a)},on_disconnected:function(){n.event.send("webrtc_disconnected",null,a),e.log("Websocket sent on_disconnect"),u||a.pause()},on_answer_sdp:function(t){if(!t.result)return e.showError("Failed to open stream."),void this.on_disconnected();e.log("SDP answer received")},on_time:function(t){var i=d;d=.001*t.current-a.currentTime,Math.abs(i-d)>1&&g(),"paused"in t&&t.paused||!a.paused||a.play();var s=0==t.end?1/0:.001*t.end;if(s!=c&&(c=s,n.event.send("durationchange",s,a)),t.tracks&&p!=t.tracks){var r=e.info?n.tracks.parse(e.info.meta.tracks):[];for(var o in t.tracks)if(p.indexOf(t.tracks[o])<0){var l;for(var u in r)if(t.tracks[o]in r[u]){l=u;break}if(!l)continue;n.event.send("playerUpdate_trackChanged",{type:l,trackid:t.tracks[o]},e.video)}p=t.tracks}e.reporting&&t.tracks&&(e.reporting.stats.d.tracks=t.tracks.join(","))},on_seek:function(e){var t=this;n.event.send("seeked",d,a),e.live_point&&t.webrtc.playbackrate("auto"),"seekPromise"in this.webrtc.signaling?a.play().then((function(){"seekPromise"in t.webrtc.signaling&&t.webrtc.signaling.seekPromise.resolve("Play promise resolved")})).catch((function(){"seekPromise"in t.webrtc.signaling&&t.webrtc.signaling.seekPromise.reject("Play promise rejected")})):a.play()},on_speed:function(e){this.webrtc.play_rate=e.play_rate_curr,n.event.send("ratechange",e,a)},on_stop:function(){e.log("Websocket sent on_stop"),a.pause(),n.event.send("ended",null,a),u=!0}},this.webrtc=new function(){this.peerConn=null,this.localOffer=null,this.isConnected=!1,this.isConnecting=!1,this.play_rate="auto";var t=this;this.on_event=function(s){switch(s.type){case"on_connected":{t.isConnected=!0,t.isConnecting=!1;const s=e.info.forceTrackIdxes[i.selectedVideoCodec];s&&t.setTrack({video:s});break}case"on_answer_sdp":t.peerConn.setRemoteDescription({type:"answer",sdp:s.answer_sdp}).then((function(){}),(function(e){console.error(e)}));break;case"on_disconnected":t.isConnected=!1}return s.type in i.listeners?i.listeners[s.type].call(i,s):(e.log("Unhandled WebRTC event "+s.type+": "+JSON.stringify(s)),!1)},this.connect=function(s){t.isConnecting=!0,e.container.setAttribute("data-loading","connecting"),(5,new Promise((function(e,t){!function i(s){try{for(var n=RTCRtpReceiver.getCapabilities("video"),a=0;a<n.codecs.length;a++)if("video/H264"==n.codecs[a].mimeType)return void e("H264 found :)");s>0?setTimeout((function(){i(s-1)}),100):t("H264 not found :(")}catch(t){e("Checker unavailable")}}(5)}))).catch((function(){e.log("Beware: this device does not seem to be able to play H264."),i.selectedVideoCodec="VP8"})).finally((function(){t.signaling=new h(t.on_event);var i={};e.options.RTCIceServers?i.iceServers=e.options.RTCIceServers:e.source.RTCIceServers&&(i.iceServers=e.source.RTCIceServers),t.peerConn=new RTCPeerConnection(i),t.peerConn.ontrack=function(e){a.srcObject=e.streams[0],s&&s()},t.peerConn.onconnectionstatechange=function(){if(!e.destroyed)switch(this.connectionState){case"failed":e.log("UDP connection failed, trying next combo.","error"),e.nextCombo();break;case"connected":e.container.removeAttribute("data-loading");default:e.log("WebRTC connection state changed to "+this.connectionState)}},t.peerConn.oniceconnectionstatechange=function(){if(!e.destroyed)if("failed"===this.iceConnectionState)e.showError("ICE connection "+this.iceConnectionState);else e.log("WebRTC ICE connection state changed to "+this.iceConnectionState)}}))},this.play=function(){if(!this.isConnected)throw"Not connected, cannot play";this.peerConn.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(e){t.localOffer=e,t.peerConn.setLocalDescription(e).then((function(){t.signaling.sendOfferSDP(t.localOffer.sdp)}),(function(e){console.error(e)}))}),(function(e){throw e}))},this.stop=function(){if(!this.isConnected)throw"Not connected, cannot stop.";this.signaling.send({type:"stop"})},this.seek=function(i){return new Promise((function(s,a){if(!t.isConnected||!t.signaling){if(t.isConnecting){var r=n.event.addListener(e.video,"loadstart",(function(){t.seek(i),n.event.removeListener(r)}));return a("Not connected yet, will seek once connected")}return a("Failed seek: not connected")}t.signaling.send({type:"seek",seek_time:"live"==i?"live":1e3*i}),"seekPromise"in t.signaling&&t.signaling.seekPromise.reject("Doing new seek"),t.signaling.seekPromise={resolve:function(){s("seeked"),delete t.signaling.seekPromise},reject:function(e){a("Failed to seek: "+e),delete t.signaling.seekPromise}}}))},this.pause=function(){if(!this.isConnected)throw"Not connected, cannot pause.";this.signaling.send({type:"hold"})},this.setTrack=function(e){if(!this.isConnected)throw"Not connected, cannot set track.";e.type="tracks",this.signaling.send(e)},this.playbackrate=function(e){if(void 0===e)return"auto"==i.webrtc.play_rate?1:i.webrtc.play_rate;if(!this.isConnected)throw"Not connected, cannot change playback rate.";this.signaling.send({type:"set_speed",play_rate:e})},this.getStats=function(e){this.peerConn.getStats().then((function(t){var i={},s=Array.from(t.entries());for(var n in s){var a=s[n];"inbound-rtp"==a[1].type&&(i[a[0]]=a[1])}e(i)}))},this.connect()},this.api={},Object.defineProperty(this.api,"duration",{get:function(){return c}}),Object.defineProperty(this.api,"currentTime",{get:function(){return d+a.currentTime},set:function(e){d=e-a.currentTime,a.pause();var t=i.webrtc.seek(e);n.event.send("seeking",e,a),t&&t.catch((function(){}))}}),Object.defineProperty(this.api,"playbackRate",{get:function(){return i.webrtc.playbackrate()},set:function(e){return i.webrtc.playbackrate(e)}});var f=["volume","muted","loop","paused","error","textTracks","webkitDroppedFrameCount","webkitDecodedFrameCount"];for(var o in f)m(f[o]);function v(e){e in a&&(i.api[e]=function(){return a[e].call(a,arguments)})}for(var o in f=["load","getVideoPlaybackQuality"])v(f[o]);function g(){if(i.api.textTracks[0]){var e=i.api.textTracks[0].currentOffset||0;if(!(Math.abs(d-e)<1)){for(var t=[],s=i.api.textTracks[0].cues.length-1;s>=0;s--){var n=i.api.textTracks[0].cues[s];i.api.textTracks[0].removeCue(n),"orig"in n||(n.orig={start:n.startTime,end:n.endTime}),n.startTime=n.orig.start-d,n.endTime=n.orig.end-d,t.push(n)}for(var s in t)i.api.textTracks[0].addCue(t[s]);i.api.textTracks[0].currentOffset=d}}}if(i.api.play=function(){var t;return i.api.currentTime&&(t=i.api.currentTime),e.info&&"live"==e.info.type&&(t="live"),t?new Promise((function(s,n){i.webrtc.isConnected||"completed"==i.webrtc.peerConn.iceConnectionState?i.webrtc.seek(t).then((function(e){s("played "+e)})).catch((function(e){n(e)})):i.webrtc.isConnecting?n("Still connecting"):(e.log("Received call to play while not connected, connecting "+i.webrtc.peerConn.iceConnectionState),i.webrtc.connect((function(){i.webrtc.seek(t).then((function(e){s("played "+e)})).catch((function(e){n(e)}))})))})):a.play()},i.api.getStats=function(){if(i.webrtc&&i.webrtc.isConnected)return new Promise((function(e){i.webrtc.peerConn.getStats().then((t=>{var i={audio:null,video:null};for(let e of t.values())"track"==e.type&&(i[e.kind]=e);e(i)}))}))},i.api.getLatency=function(){var t=e.player.api.getStats();if(t)return new Promise((function(e,s){t.then((function(t){setTimeout((function(){var n=i.api.getStats();n?n.then((function(i){var s={};for(var n in t)s[n]=t[n]&&i[n]?(i[n].jitterBufferDelay-t[n].jitterBufferDelay)/(i[n].jitterBufferEmittedCount-t[n].jitterBufferEmittedCount):null;e(s)}),s):s()}),1e3)}),s)}))},i.api.pause=function(){a.pause();try{i.webrtc.pause()}catch(e){}n.event.send("paused",null,a)},i.api.setTracks=function(e){if(i.webrtc.isConnected)i.webrtc.setTrack(e);else{var t=function(){i.webrtc.setTrack(e),n.event.removeListener({type:"webrtc_connected",callback:t,element:a})};n.event.addListener(a,"webrtc_connected",t)}},i.api.setSubtitle=function(e){for(var t=a.getElementsByTagName("track"),i=t.length-1;i>=0;i--)a.removeChild(t[i]);if(e){var s=document.createElement("track");a.appendChild(s),s.kind="subtitles",s.label=e.label,s.srclang=e.lang,s.src=e.src,s.setAttribute("default",""),s.onload=g}},n.event.addListener(a,"ended",(function(){i.api.loop&&"Stream is online"==e.state&&i.webrtc.connect()})),"decodingIssues"in e.skin.blueprints){var y=["nackCount","pliCount","packetsLost","packetsReceived","bytesReceived"];for(var b in y)i.api[y[b]]=0;var _=function(){e.timers.start((function(){i.webrtc.getStats((function(e){for(var t in e){for(var s in y)y[s]in e[t]&&(i.api[y[s]]=e[t][y[s]]);break}})),_()}),1e3)};_()}i.api.ABR_resize=function(t){e.log("Requesting the video track with the resolution that best matches the player size"),i.api.setTracks({video:"~"+[t.width,t.height].join("x")})},i.api.unload=function(){try{i.webrtc.stop(),i.webrtc.signaling.ws.close(),i.webrtc.peerConn.close()}catch(e){}},t(a)};var m=i(1033);var f={name:"LivePlayer",props:{streamName:{type:String,required:!0},accessToken:{type:String,required:!0},endpoint:{type:String,required:!0},isActive:Boolean},data:()=>({AwmVideo:{},videoMuted:!1,isDestroyed:!1,setupInProgress:!1}),watch:{isActive:{async handler(e){e?await this.play():this.pause()},immediate:!0}},methods:{async setupPlayer(){this.setupInProgress=!0,this.$refs.live||await this.$nextTick(),h(this.streamName,{accessToken:this.accessToken,target:this.$refs.live,host:this.endpoint,controls:!1,forcePlayer:"webrtc",fillSpace:this.$isMobile,...this.$isDesktop&&{maxwidth:window.innerWidth-414},autoplay:!0,AwmVideoObject:this.AwmVideo,forcePriority:{source:[["type",["webrtc","ws/video/mp4","html5/video/mp4","html5/application/vnd.apple.mpegurl"]]]}})},initPlayer(){["play","playing","loadstart","pause","canplaythrough","waiting","seeking","stalled"].forEach((e=>this.AwmVideo.reference.video.addEventListener(e,(()=>this.$emit(e)))));const e=this;this.AwmVideo.reference.video.addEventListener("volumechange",(function(){e.$emit("muted",this.muted)})),this.AwmVideo.reference.video.addEventListener("play",(function(){e.$emit("muted",this.muted),e.isDestroyed=!1}),{once:!0}),this.setupInProgress=!1},onError(e){"Stream is offline"!==(null==e?void 0:e.message)||this.isDestroyed||this.$emit("offline")},onInitFail(){this.$emit("offline")},async play(){await this.setupPlayer(),this.isDestroyed=!1},pause(){this.$streaming.inFullscreen=!1,this.destroyPlayer()},unmute(){this.AwmVideo.reference.player.api.muted=!1,this.AwmVideo.reference.player.api.volume=1},mute(){this.AwmVideo.reference.player.api.volume=0,this.AwmVideo.reference.player.api.muted=!0},desktopToFullscreen(){Object(m.a)(this.AwmVideo.reference.video)},destroyPlayer(){var e;this.isDestroyed||(this.isDestroyed=!0,null===(e=this.AwmVideo)||void 0===e||null===(e=e.reference)||void 0===e||e.unload(),this.$emit("destroy"))}},beforeDestroy(){this.destroyPlayer()}},v=(i(1491),i(0)),g=Object(v.a)(f,(function(){var e=this;return(0,e._self._c)("div",{ref:"live",attrs:{id:"player"},on:{initialized:e.initPlayer,"initialize-failed":e.onInitFail,error:e.onError}})}),[],!1,null,"5e9326d6",null);t.default=g.exports},1970:function(e,t,i){"use strict";i.r(t);var s=i(260),n={data:()=>({showSpinner:!0,token:null,i18nConstants:s.a}),async mounted(){this.token=this.$route.query.downloadToken;try{await this.$api.personalData.canDownloadPersonalData(this.token)}catch(t){return void(t.message.includes("403")?this.$nuxt.error({statusCode:404,customMessage:this.$t("personal_data.download_error_token",{supportEmail:s.a.supportEmail})}):this.$nuxt.error({statusCode:404,customMessage:this.$t("personal_data.download_error_general",{supportEmail:s.a.supportEmail})}))}const e=document.createElement("a");e.setAttribute("download",""),e.href=this.downloadLink,document.body.appendChild(e),e.click(),e.remove(),this.showSpinner=!1},computed:{downloadLink(){return"".concat("https://shorts.sex.com/api","/personalData/downloadPersonalData?token=").concat(this.token)}},methods:{reload:()=>window.location.replace("/")}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full h-screen p-4 flex items-center justify-center text-center bg-primary"},[t("div",{staticClass:"flex justify-center p-6 absolute left-0 right-0 top-0"},[t("nuxt-link",{attrs:{to:"/",title:"Sex.com"}},[t("sxc-logo",{attrs:{size:17}})],1)],1),e._v(" "),e.showSpinner?t("sx-spinner",{staticClass:"spinner"}):t("div",[t("h1",{staticClass:"mb-5 text-lg font-semibold"},[e._v("\n      "+e._s(e.$t("personal_data.header"))+"\n    ")]),e._v(" "),t("p",{staticClass:"mb-5"},[e._v("\n      "+e._s(e.$t("personal_data.download_text"))+"\n      "),t("a",{staticClass:"text-c-primary",attrs:{href:e.downloadLink}},[e._v("\n        "+e._s(e.$t("personal_data.download_link"))+"\n      ")]),e._v(".\n    ")]),e._v(" "),t("sx-button",{on:{click:()=>e.reload()}},[e._v("\n      "+e._s(e.$t("error_layout.go_home_text"))+"\n    ")])],1)],1)}),[],!1,null,null,null);t.default=r.exports},1971:function(e,t,i){"use strict";i.r(t);var s={name:"SxcErrorBoundary",data:()=>({error:!1,rayId:null}),errorCaptured(e){return this.error=!0,this.rayId=null==e?void 0:e.rayId,this.$logError&&"function"==typeof this.$logError&&this.$logError(e),!1}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return e.error?t("div",{staticClass:"w-full h-full flex justify-center items-center"},[t("p",{staticClass:"text-lg font-normal text-center p-5 text-secondary"},[e._v("\n    "+e._s(e.$t("error_boundary.first_line"))+"\n    "),t("br"),e._v("\n    "+e._s(e.$t("error_boundary.second_line"))+"\n  ")]),e._v(" "),t("p",{staticClass:"absolute bottom-0 right-0 mr-4 mb-4 text-xs text-secondary"},[e._v("\n    "+e._s(e.rayId?"Reference ID: ".concat(e.rayId):"")+"\n  ")])]):t("div",{staticClass:"contents"},[e._t("default")],2)}),[],!1,null,null,null);t.default=a.exports},1972:function(e,t,i){"use strict";i.r(t);var s={props:{avatar:{type:Object,default:null}},computed:{profilePicture(){return this.cdnImageProcess(this.avatar&&this.avatar.fullPath)}},methods:{openLightBox(){this.avatar&&this.$refs.lightBox.open()}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{class:e.avatar?"cursor-pointer":"",on:{click:e.openLightBox}},[e._t("default"),e._v(" "),t("sx-light-box",{ref:"lightBox",staticClass:"z-50",attrs:{images:e.profilePicture},on:{open:function(t){return e.$emit("open")},close:function(t){return e.$emit("close")}}})],2)}),[],!1,null,null,null);t.default=a.exports},1973:function(e,t,i){"use strict";i.r(t);var s={props:{size:{type:Number,default:30},color:{type:String,default:""}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("svg",{class:["block",e.color?"text-".concat(e.color):"text-logo"],attrs:{height:e.size,"aria-labelledby":"title",role:"img",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 90 13","xml:space":"preserve"}},[t("title",[e._v("Sex.com")]),e._v(" "),t("path",{attrs:{d:"M43.7184 7.38103C44.4128 5.70464 43.6168 3.78274 41.9404 3.08834C40.264 2.39395 38.3421 3.19001 37.6477 4.8664C36.9533 6.54278 37.7494 8.46468 39.4257 9.15908C41.1021 9.85348 43.024 9.05742 43.7184 7.38103Z",fill:"#FE0088"}}),e._v(" "),t("path",{attrs:{fill:"currentColor",d:"M8.07204 4.88457L5.65696 4.44942C4.75402 4.28623 4.49293 3.95987 4.51469 3.61175C4.50381 3.12221 5.11302 2.83936 5.8419 2.83936C6.67956 2.83936 7.38668 3.28539 7.45195 4.01426H11.3792C11.2704 1.51215 9.18168 0 5.74399 0C2.36069 0 0.26109 1.39248 0.282848 3.86196C0.271969 5.73311 1.47951 6.92977 3.8946 7.35405L5.9942 7.72392C6.9189 7.89798 7.34317 8.13732 7.35405 8.59422C7.34317 9.08377 6.77747 9.36662 5.9942 9.36662C5.02599 9.36662 4.35151 8.95322 4.23184 8.19171H0C0.228454 10.6286 2.33893 12.2386 5.96156 12.2386C9.24695 12.2386 11.662 10.6394 11.6838 8.0938C11.6729 6.34232 10.498 5.31972 8.07204 4.88457Z"}}),e._v(" "),t("path",{attrs:{fill:"currentColor",d:"M20.0492 8.19171C19.799 8.8662 19.1027 9.24695 18.2216 9.24695C16.9596 9.24695 16.209 8.40929 16.209 7.26702V7.08208H23.9329V6.09211C23.9329 2.31718 21.6157 0 18.0257 0C14.3487 0 11.9989 2.43684 11.9989 6.12475C11.9989 9.96495 14.3161 12.2495 18.1236 12.2495C21.4199 12.2495 23.5304 10.6721 23.9329 8.20259H20.0492V8.19171ZM18.1345 3.00254C19.1898 3.00254 19.9948 3.70966 20.0166 4.73226H16.2199C16.2416 3.69878 17.0902 3.00254 18.1345 3.00254Z"}}),e._v(" "),t("path",{attrs:{fill:"currentColor",d:"M36.15 0.152176H31.9182L30.0906 3.8292L28.3608 0.152176H24.0964L27.2512 6.09198L23.8788 12.0209H28.1433L30.0906 8.25686L32.1031 12.0209H36.3023L32.9626 6.09198L36.15 0.152176Z"}}),e._v(" "),t("path",{attrs:{fill:"currentColor",d:"M52.3486 3.18748C53.2951 3.18748 53.9369 3.86196 54.0457 5.10214H58.0056C57.9838 2.01257 55.7863 0 52.2942 0C48.4322 0 46.1477 2.46948 46.1477 6.12475C46.1477 9.78001 48.4322 12.2495 52.2942 12.2495C55.8081 12.2495 57.962 10.2369 58.0164 7.09296H54.0566C53.9587 8.33314 53.2951 9.00762 52.3595 9.00762C51.239 9.00762 50.5101 8.05029 50.5101 6.10299C50.5101 4.15569 51.2281 3.18748 52.3486 3.18748Z"}}),e._v(" "),t("path",{attrs:{fill:"currentColor",d:"M64.6198 0C60.7578 0 58.4733 2.46948 58.4733 6.12475C58.4733 9.78001 60.7578 12.2495 64.6198 12.2495C68.4817 12.2495 70.7663 9.78001 70.7663 6.12475C70.7663 2.46948 68.4817 0 64.6198 0ZM64.6524 9.08377C63.5101 9.08377 62.8248 7.95238 62.8248 6.08123C62.8248 4.21008 63.5101 3.07869 64.6524 3.07869C65.7294 3.07869 66.4148 4.21008 66.4148 6.08123C66.4148 7.95238 65.7294 9.08377 64.6524 9.08377Z"}}),e._v(" "),t("path",{attrs:{fill:"currentColor",d:"M86.1489 0C84.3865 0 82.9614 0.957332 82.5589 2.41509H82.4392C82.1999 0.957332 80.8727 0 79.1974 0C77.5547 0 76.2927 0.924695 75.7923 2.41509H75.6726V0.152303H71.6257V12.021H75.8902V5.10214C75.8902 4.06866 76.4341 3.43769 77.3153 3.43769C78.1965 3.43769 78.7731 4.06866 78.7731 5.10214V12.021H82.8526V5.10214C82.8526 4.06866 83.3966 3.43769 84.2777 3.43769C85.1589 3.43769 85.7355 4.06866 85.7355 5.10214V12.021H90V4.01427C89.9891 1.5883 88.4226 0 86.1489 0Z"}})])}),[],!1,null,null,null);t.default=a.exports},1974:function(e,t,i){"use strict";i.r(t);var s=i(128),n=i(260),a={props:{modelData:{type:Object,default:()=>null}},data:()=>({i18nConstants:n.a}),methods:{goToOldSite(){window.location.href="".concat("https://www.sex.com")},goToCreatorsProfile(){this.$router.push(this.modelData.url)}},computed:{...Object(s.b)({isLoggedIn:"auth/isLoggedIn"})}},r=(i(1449),i(0)),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute w-full top-0 left-0 z-30 text-white text-sm font-semibold flex items-center justify-center"},[t("div",{staticClass:"relative banner-link flex items-center w-full pl-2.5 pr-8",class:e.isLoggedIn?"justify-center":"justify-between"},[e.isLoggedIn?e._e():t("p",{staticClass:"cursor-pointer underline",on:{click:function(t){return e.$genderPreference.toggle()}}},[e._v("\n      "+e._s(e.$genderPreference.text)+"\n    ")]),e._v(" "),e.modelData?t("nuxt-link",{staticClass:"underline",attrs:{to:e.modelData.url,event:""},nativeOn:{click:function(t){return e.goToCreatorsProfile.apply(null,arguments)}}},[e._v("\n      "+e._s(e.$t("global.visit_creator_link",[e.modelData.modelName]))+"\n    ")]):t("p",{staticClass:"cursor-pointer underline mr-2",on:{click:e.goToOldSite}},[e._v("\n      "+e._s(e.$t("global.visit_old_site_link",{siteName:e.i18nConstants.siteName}))+"\n    ")]),e._v(" "),t("div",{staticClass:"cursor-pointer absolute flex justify-center items-center close-icon-area",on:{click:function(t){return e.$emit("hide")}}},[t("sx-icon",{staticClass:"close-icon",attrs:{"data-cy-id":"close-icon",name:"CloseBold",height:"10"}})],1)],1)])}),[],!1,null,"687ece16",null);t.default=o.exports},1975:function(e,t,i){"use strict";i.r(t);var s={props:{canClose:Boolean,canClick:Boolean,to:{type:String,default:""},link:{type:String,default:""}},mounted(){this.onHeightChange()},updated(){this.onHeightChange()},methods:{onHeightChange(){this.$nextTick().then((()=>document.documentElement.style.setProperty("--banner-height","".concat(this.$el.clientHeight,"px"))))}},computed:{clickEvent(){return this.canClick?"click":null}}},n=(i(1451),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full py-1 flex items-center justify-center px-2",class:{"cursor-pointer":e.canClick},on:e._d({},[e.clickEvent,function(t){return e.$emit("sx-click")}])},[e.$slots.link||e.link?t("nuxt-link",{staticClass:"pl-1 cursor-pointer",attrs:{to:e.to}},[e._t("default"),e._v(" "),t("span",{staticClass:"underline"},[e._t("link",(function(){return[e._v("\n        "+e._s(e.link)+"\n      ")]}))],2)],2):t("p",{staticClass:"text-base font-normal"},[e._t("default")],2),e._v(" "),e.canClose?t("sx-icon",{staticClass:"fill-current absolute inline-block right-2 cursor-pointer",attrs:{name:"close",height:"15"},on:{click:function(t){return e.$emit("close")}}}):e._e()],1)}),[],!1,null,null,null);t.default=a.exports},1976:function(e,t,i){"use strict";i.r(t);var s=i(261),n={props:{src:{type:Object,default:null},height:{type:Number,default:0},width:{type:Number,default:0},initialVideoPosition:{type:Number,default:0}},data(){return{scrollerPosition:0,dragInProgress:!1,context:null,canvas:null,loading:!0,generatedImages:[],videoMovingProm:null,videoMovingResolve:null,simpleScroller:!1,currentThumbnail:null,generationDuration:0,videoLoadedPromise:null,videoPosition:this.initialVideoPosition,videoDuration:null}},directives:{touchPan:s.a},mounted(){const e=Date.now(),t=document.createElement("canvas");this.canvas=t;const i=this.$refs.videoPlayer;this.context=t.getContext("2d");const s=()=>{this.videoMovingResolve(),this.context.drawImage(i,0,0,i.videoWidth,i.videoHeight),this.generatedImages.push(t.toDataURL()),i.removeEventListener("timeupdate",s)};let n=null;const a=new Promise((e=>{n=e})),r=()=>{this.generateCurrentThumbnail(),i.removeEventListener("timeupdate",r),n()},o=async()=>{i.removeEventListener("loadedmetadata",o),t.width=i.videoWidth,t.height=i.videoHeight,this.$refs.canvas.width=i.videoWidth,this.$refs.canvas.height=i.videoHeight,this.videoDuration=i.duration,await this.createThumbnails(i,s),await this.videoMovingProm,i.addEventListener("timeupdate",r),i.currentTime=this.videoPosition||.01,await a;const n=Date.now();this.generationDuration=((n-e)/1e3).toFixed(2),this.loading=!1,await this.$nextTick();const l=this.videoPosition/this.videoDuration;this.setVideoPosition(l)};i.addEventListener("loadedmetadata",o),this.videoLoadedPromise=new Promise((e=>{i.addEventListener("loadeddata",e)}))},computed:{calcVideoWidth(){return this.height>this.width?240:300},calcVideoHeight(){return this.height/this.width*this.calcVideoWidth},placeholderRatio(){return this.height/(this.width*this.thumbAmount)},scrollerStyle(){var e,t;const i=(null===(e=this.$refs.scrollerContainer)||void 0===e?void 0:e.clientWidth)||0,s=(null===(t=this.$refs.scrollerContainer)||void 0===t?void 0:t.clientHeight)||0,n=this.width/this.height*s;return{left:"".concat((i-n)*this.scrollerPosition,"px")}},thumbAmount(){return this.height>this.width?12:8}},methods:{onPan(e){const t=this.calculateLeftPercentage(e.position.left);this.setVideoPosition(t)},clearCarouselSelector(){const{canvas:e}=this.$refs;e.getContext("2d").clearRect(0,0,e.width,e.height)},generateCurrentThumbnail(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const i=this.$refs.videoPlayer,{canvas:s}=this.$refs,n=s.getContext("2d");n.drawImage(i,0,0,i.videoWidth,i.videoHeight);const a=(null===(e=this.$refs.scrollerContainer)||void 0===e?void 0:e.clientHeight)||0,r=this.width/this.height*a;t||(n.lineWidth=Math.round(s.width/r*2),n.strokeStyle="#FE0088",n.strokeRect(0,0,s.width,s.height))},async createThumbnails(e,t){const i=Math.floor(this.videoDuration),s=i/(this.thumbAmount-1);await this.videoLoadedPromise,await[...Array(this.thumbAmount)].reduce(((n,a,r)=>n.then((()=>new Promise((n=>{e.addEventListener("timeupdate",t),0===r?e.currentTime=.1:r===this.thumbAmount-1?e.currentTime=(i-.05).toFixed(2):e.currentTime=(s*r).toFixed(2),this.videoMovingResolve=n}))))),Promise.resolve())},setVideoPosition(e){this.$refs.videoPlayer.addEventListener("timeupdate",(()=>this.generateCurrentThumbnail()),{once:!0}),this.setScrollerPosition(e),this.setVideoTime()},setScrollerPosition(e){let t=Math.max(0,e);t=Math.min(1,t),this.scrollerPosition=t},setVideoTime(){const e=this.$refs.videoPlayer,t=Math.floor(this.videoDuration),i=t*this.scrollerPosition;e.currentTime=Math.min(t-.05,i),this.videoPosition=+e.currentTime.toFixed(2)},calculateLeftPercentage(e){const t=this.$refs.scrollerContainer.clientWidth||0,i=t/(2*this.thumbAmount),s=this.getCommulativeOffset(this.$refs.scrollerContainer).left;if(e-s<i)return 0;if(e-s>t-i)return 1;return(e-s-i)/(t-2*i)},getCommulativeOffset(e){let t=0,i=0;do{t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:i}},getCurrentThumbnail(){this.generateCurrentThumbnail(!0);const{canvas:e}=this.$refs,t=e.toDataURL();return this.generateCurrentThumbnail(),t}}},a=n,r=(i(1453),i(0)),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex w-full justify-center mt-4 flex-wrap overflow-hidden"},[e.loading||!e.src?t("div",{staticClass:"absolute h-full w-full"},[t("div",{ref:"container",staticClass:"bg-foreground text-center m-auto mt-2 z-10 p-4 pt-8 flex flex-col justify-center",style:"height: ".concat(e.calcVideoHeight,"px; width: ").concat(e.calcVideoWidth,"px;")},[t("div",[t("sx-spinner",{attrs:{size:60,color:"Primary"}})],1),e._v(" "),t("p",{staticClass:"mt-10 text-primary text-lg"},[e._v("\n        "+e._s(e.$t("media_info_form.thumbnails_processing"))+"\n      ")]),e._v(" "),t("p",{staticClass:"mt-2 text-secondary"},[e._v("\n        "+e._s(e.$t("global.wait"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"w-full z-10 p-4"},[t("div",{staticClass:"bg-foreground w-full thumbnail-placeholder",style:"padding-bottom: ".concat(100*e.placeholderRatio,"%")})])]):e._e(),e._v(" "),t("video",{ref:"videoPlayer",staticClass:"object-cover mt-2",attrs:{playsinline:"",oncontextmenu:"return false;",width:e.calcVideoWidth}},[t("source",{attrs:{src:"".concat(e.src.fullPath,"#t=0.01"),type:e.src.fileType}}),e._v("\n    "+e._s(e.$t("global.video_unsupported"))+"\n  ")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"},{name:"touch-pan",rawName:"v-touch-pan.stop.prevent",value:e.onPan,expression:"onPan",modifiers:{stop:!0,prevent:!0}}],ref:"scrollerContainer",staticClass:"w-full m-4 relative flex flex-nowrap select-none"},[t("div",{staticClass:"h-full absolute cursor-pointer",style:e.scrollerStyle},[t("canvas",{ref:"canvas",staticClass:"h-full",attrs:{draggable:"false"}})]),e._v(" "),t("div",{staticClass:"flex overflow-hidden"},e._l(e.generatedImages,(function(e,i){return t("div",{key:i},[t("img",{staticClass:"thumbnail-image",attrs:{draggable:"false",src:e}})])})),0)])])}),[],!1,null,"31bfe3bf",null);t.default=o.exports},1977:function(e,t,i){"use strict";i.r(t);var s=i(128),n={computed:{...Object(s.b)({isKycVerified:"kyc/isVerified",isUpload:"kyc/isUpload"}),uncompleted(){return this.isUpload&&"success"!==this.$route.query.kyc},pending(){return this.$store.getters["kyc/isPending"]||this.isBeingResolved},failed(){return this.$store.getters["kyc/isFailed"]||this.$store.getters["kyc/isDenied"]},isBeingResolved(){return this.isUpload&&"success"===this.$route.query.kyc}},methods:{async onClick(){if(this.uncompleted){const{redirectUrl:e}=await this.$api.kyc.startVerification();window.location.href=e}else this.pending&&await this.$router.push("/creators/become-a-creator")},closeBanner(){this.$store.dispatch("kyc/closeBanner")}}},a=i(0),r=Object(a.a)(n,(function(){var e=this;return(0,e._self._c)("sxc-page-banner",{staticClass:"bg-c-primary",attrs:{"can-close":e.isKycVerified||e.failed,"can-click":e.uncompleted||e.pending},on:{"sx-click":e.onClick,close:e.closeBanner}},[e.uncompleted?[e._v("\n    "+e._s(e.$t("kyc_verification_banner.statuses[0]"))+"\n  ")]:e.pending?[e._v("\n    "+e._s(e.$t("kyc_verification_banner.statuses[1]"))+"\n  ")]:e.isKycVerified?[e._v("\n    "+e._s(e.$t("kyc_verification_banner.statuses[2]"))+"\n  ")]:e.failed?[e._v("\n    "+e._s(e.$t("kyc_verification_banner.statuses[3]"))+"\n  ")]:e._e()],2)}),[],!1,null,null,null);t.default=r.exports},1978:function(e,t,i){"use strict";i.r(t);var s=i(9),n={props:{status:{type:String,required:!0,validator:e=>["pending","approved","rejected"].includes(e)}},data:()=>({isShown:!0}),computed:{text(){return"pending"===this.status?this.$t("verification_picture_status.pending"):"approved"===this.status?this.$t("verification_picture_status.approved"):this.$t("verification_picture_status.rejected")},backgroundClass(){return"pending"===this.status?"bg-warning text-black":"approved"===this.status?"bg-green text-white":"bg-red text-white"},showCloseIcon(){return"approved"===this.status||"rejected"===this.status}},methods:{hideBanner(){this.isShown=!1,this.$api.users.update({flags:[s.c.hideVerificationPictureBanner]}).then((e=>{let{user:t}=e;return this.$store.dispatch("user/updateUser",t)})).catch((e=>this.$showErrorMessage(e.localizedMessage)))}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return e.isShown?t("sxc-page-banner",{class:e.backgroundClass,attrs:{"can-close":e.showCloseIcon,"can-click":"rejected"===e.status},on:{"sx-click":function(t){return e.$router.push("/upload")},close:e.hideBanner}},[e._v("\n  "+e._s(e.text)+"\n")]):e._e()}),[],!1,null,null,null);t.default=r.exports},1979:function(e,t,i){"use strict";i.r(t);var s={mixins:[i(1165).a]},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return e.showVerificationBanner?t("sxc-verification-banner"):e.showVerificationPictureStatus?t("sxc-verification-picture-status-banner",{attrs:{status:e.verificationPictureStatus}}):e.showNotActiveBanner?t("sxc-profile-not-activated-banner"):e._e()}),[],!1,null,null,null);t.default=a.exports},1980:function(e,t,i){"use strict";i.r(t);var s=i(268),n={props:{email:{type:String,default:""},confirm:{type:Boolean,default:!0},canChangeEmail:{type:Boolean,default:!0}},data:()=>({code:"",validated:!1,failed:!1,isSubmitting:!1}),computed:{userEmail(){return Object(s.a)(this.email||this.$store.getters["user/getEmail"])}},mounted(){setTimeout((()=>{this.$refs.codeInput.focus(0)}),300)},methods:{async confirmEmail(){const{user:e}=await this.$api.users.confirmEmail(this.code);e&&(this.validated=!0,await this.$store.dispatch("user/updateUser",e))},async checkCode(){const{codeValid:e}=await this.$api.users.checkVerificationCode(this.code);if(!e){const e=this.$t("api.invalidCode"),t=new Error;throw t.localizedMessage=e,t}},async codeChanged(e){if(this.code=e,0===this.code.length&&(this.failed=!1),4===this.code.length){this.failed=!1,this.validated=!1;try{this.isSubmitting=!0,this.confirm?await this.confirmEmail():await this.checkCode(),this.$emit("validated",this.code)}catch(t){429===t.statusCode?(this.failed=!1,this.$showErrorMessage(t.localizedMessage)):this.failed=!0}finally{this.isSubmitting=!1}}},async resendEmail(){this.isSubmitting=!0,this.code="",this.$refs.codeInput.focus(0);try{this.isSubmitting=!1,await this.$api.notifications.resendConfirmationEmail(),this.$showSuccessMessage(this.$t("auth.email_verification_form.success_msg"))}catch(e){this.$showErrorMessage(null==e?void 0:e.localizedMessage)}finally{this.isSubmitting=!1,this.failed=!1,this.validated=!1}}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("div",{staticClass:"flex"},[t("h2",{staticClass:"text-2lg w-full font-semibold leading-6 text-center"},[e._v("\n      "+e._s(e.$t("auth.email_verification_form.title"))+"\n    ")])]),e._v(" "),t("sx-code-input",{ref:"codeInput",staticClass:"mt-5 mb-2",attrs:{"data-cy-id":"code-input",length:4,value:e.code,readonly:e.isSubmitting||e.validated,succeeded:e.validated,failed:e.failed},on:{input:e.codeChanged}}),e._v(" "),e.failed?t("p",{staticClass:"font-normal text-center text-sm text-error"},[e._v("\n    "+e._s(e.$t("auth.email_verification_form.validation_msgs[0]"))+"\n  ")]):e._e(),e._v(" "),t("p",{staticClass:"font-normal text-center mt-4 mb-1 text-sm text-secondary",domProps:{innerHTML:e._s(e.$t("auth.email_verification_form.validation_msgs[1]",[e.userEmail]))}}),e._v(" "),t("p",{staticClass:"text-center mb-5"},[t("span",{staticClass:"text-c-primary cursor-pointer",attrs:{"data-cy-id":"resend-email"},on:{click:function(t){return e.resendEmail()}}},[e._v("\n      "+e._s(e.$t("auth.email_verification_form.resend_btn"))+"\n    ")]),e._v(" "),e.canChangeEmail?t("span",[t("span",{staticClass:"text-primary"},[e._v(" "+e._s(e.$t("auth.email_verification_form.or_text")))]),e._v(" "),t("span",{staticClass:"text-c-primary cursor-pointer",attrs:{"data-cy-id":"change-email"},on:{click:function(t){return e.$emit("change-email")}}},[e._v("\n        "+e._s(e.$t("auth.email_verification_form.change_btn"))+"\n      ")])]):e._e()]),e._v(" "),t("sx-button",{attrs:{block:"",loading:e.isSubmitting,disabled:!e.validated}},[e._v("\n    "+e._s(e.$t("global.next"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=r.exports},1981:function(e,t,i){"use strict";i.r(t);var s=i(491),n={data:()=>({tags:[],selectedTags:[],autosuggestTags:[],showAutocomplete:!1,tagInputValue:""}),async beforeMount(){const e=await this.$api.tags.getTagList(15);this.tags=Array.from(e.page.items)},methods:{onQueryChange:i.n(s)()((async function(e){if(e)try{const t=await this.$api.tags.filterTagList(e);this.autosuggestTags=Array.from(t.page.items),this.showAutocomplete=!0}catch(t){this.$showErrorMessage(t.localizedMessage)}else this.autosuggestTags=[],this.showAutocomplete=!1}),300),addTag(e){e.forEach((e=>{const t=this.tags.findIndex((t=>t===e));t<0?this.tags.unshift(e):this.isSelected(e)||(this.tags=[this.tags[t],...this.tags.filter((t=>t!==e))]),this.isSelected(e)||this.selectedTags.push(e)}))},isSelected(e){return!!this.selectedTags.find((t=>t===e))},selectTag(e,t){t?this.selectedTags.length>=10?this.$showErrorMessage(this.$t("auth.step_two_form.error_msg")):this.selectedTags.push(e):this.selectedTags=this.selectedTags.filter((t=>t!==e))},async onSubmit(){const e={profile:{tags:this.selectedTags}},{user:t}=await this.$api.users.update(e);await this.$store.dispatch("user/updateUser",t)},onSuccess(){this.$emit("finish")},onError(e){this.$showErrorMessage(e.localizedMessage)}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"text-2lg font-extrabold leading-6 text-center"},[e._v("\n    "+e._s(e.$t("auth.step_two_form.title"))+"\n  ")]),e._v(" "),t("sxc-form-container",{staticClass:"mt-5",attrs:{"on-submit":e.onSubmit,"force-submit":""},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("auth.step_two_form.tags_field_name")},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0],label:"$t('auth.step_two_form.tags_field_label')"},scopedSlots:e._u([{key:"helper",fn:function(){return[e._v("\n          "+e._s(e.$t("auth.step_two_form.tags_field_hint"))+"\n        ")]},proxy:!0}],null,!0)},[t("sx-tag-input",{ref:"tagInput",attrs:{tabindex:1,"tag-list":e.autosuggestTags,"input-value":e.tagInputValue,autocomplete:e.showAutocomplete},on:{"update:inputValue":function(t){e.tagInputValue=t},"update:input-value":function(t){e.tagInputValue=t},input:e.addTag,queryChange:e.onQueryChange},scopedSlots:e._u([{key:"iconLeft",fn:function(){return[t("sx-icon",{attrs:{name:"search"}})]},proxy:!0},{key:"iconRight",fn:function(){return[t("sx-icon",{staticClass:"cursor-pointer",attrs:{name:"plus"},on:{click:function(t){return e.$refs.tagInput.processTag()}}})]},proxy:!0}],null,!0)})],1)]}}],null,!0)}),e._v(" "),t("section",{staticClass:"my-4 flex flex-wrap content-start"},e._l(e.tags,(function(i){return t("sx-tag",{key:i,staticClass:"mr-2 mb-2",attrs:{name:i,value:e.isSelected(i),selectable:""},on:{input:function(t){return e.selectTag(i,t)}}})})),1),e._v(" "),t("sx-form-field",{attrs:{actions:"",center:""}},[t("sx-button",{attrs:{"data-cy-id":"finish-button",block:"",tabindex:2,loading:s.submitting}},[e._v("\n        "+e._s(e.$t("auth.step_two_form.ok_btn"))+"\n      ")]),e._v(" "),t("sx-button",{attrs:{"data-cy-id":"skip-button",ghost:"",invisible:"",block:"",tabindex:3,disabled:s.submitting}},[e._v("\n        "+e._s(e.$t("auth.step_two_form.skip_btn"))+"\n      ")])],1)]}}])})],1)}),[],!1,null,null,null);t.default=r.exports},1982:function(e,t,i){"use strict";i.r(t);var s={inheritAttrs:!1,props:{size:{type:Number,default:300},name:{type:[String,Object],default:""},align:{type:String,default:"center",validator:e=>["start","end","center"].includes(e)},checkmark:{type:Boolean,default:!1},avatar:{type:Object,default:()=>null}},computed:{getAvatar(){return this.cdnImageProcess(this.avatar&&this.avatar.fullPath,{aspectRatio:"1:1",width:this.size})}}},n=(i(1457),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{class:"relative h-full flex items-".concat(e.align)},[t("sx-avatar",e._b({attrs:{size:e.size,name:e.name||"",src:e.getAvatar}},"sx-avatar",e.$attrs,!1)),e._v(" "),e.checkmark?t("div",{staticClass:"checkmark"},[t("sx-icon",{attrs:{name:"checkmark",color:"white",height:"14"}})],1):e._e()],1)}),[],!1,null,"ecf357c0",null);t.default=a.exports},1983:function(e,t,i){"use strict";i.r(t);var s={inheritAttrs:!1,props:{following:{type:Boolean,default:!1}},methods:{onFollowClick(){this.$emit("follow")}}},n=(i(1459),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative h-full flex transition-applied"},[t("sxc-avatar",e._b({},"sxc-avatar",e.$attrs,!1)),e._v(" "),t("transition",{attrs:{name:"follow",duration:"500"}},[e.following?e._e():t("div",{staticClass:"follow",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onFollowClick.apply(null,arguments)}}},[t("sx-icon",{staticClass:"big-plus-icon",attrs:{name:"big-plus",height:"16"}}),e._v(" "),t("sx-icon",{staticClass:"checkmark-icon",attrs:{name:"checkmark",height:"16"}})],1)])],1)}),[],!1,null,"2c846a2e",null);t.default=a.exports},1984:function(e,t,i){"use strict";i.r(t);var s={inheritAttrs:!1,methods:{onLiveClick(){this.$emit("on-live-click")}}},n=(i(1461),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative h-full",on:{"!click":function(t){return t.preventDefault(),t.stopPropagation(),e.onLiveClick.apply(null,arguments)}}},[t("sxc-avatar",e._b({},"sxc-avatar",e.$attrs,!1)),e._v(" "),t("div",{staticClass:"live-badge"},[t("sxc-live-badge",{attrs:{"has-shadow":""}})],1)],1)}),[],!1,null,"ad498720",null);t.default=a.exports},1985:function(e,t,i){"use strict";i.r(t);var s={name:"CommentsRepliesList",components:{CommentListItem:i(1773).default},props:{items:{type:Array,required:!0},hasNextPage:{type:Boolean},addComment:{type:Function,required:!0},modelUid:{type:String,required:!0}},data:()=>({lastVisibleIndex:1}),computed:{visibleItems(){return this.items.slice(0,this.lastVisibleIndex+1)},userUid(){return this.$store.getters["user/getUserUid"]}},methods:{showMoreReplies(){this.lastVisibleIndex+=2,this.lastVisibleIndex>=this.items.length&&this.hasNextPage&&this.$emit("load-more-comments")}}},n=(i(1465),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",[e.hasNextPage||e.lastVisibleIndex<e.items.length-1?t("span",{staticClass:"text-secondary text-sm cursor-pointer pointer-hover:hover:text-c-secondary show-more",on:{click:function(t){return e.showMoreReplies()}}},[e._v("\n    "+e._s(e.$t("comments.show_more_replies_btn"))+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"flex flex-col-reverse"},e._l(e.visibleItems,(function(i){return t("comment-list-item",e._g({key:i.commentUid,attrs:{item:i,primary:i.user&&i.user.userUid===e.modelUid,"model-uid":e.modelUid,"add-comment":e.addComment,"is-reply":""}},e.$listeners))})),1)])}),[],!1,null,"ef64274a",null);t.default=a.exports},1986:function(e,t,i){"use strict";i.r(t);var s={data:()=>({redirectUrl:"https://ptosrd.com/?siteId=livesex&cobrandId=&superCategoryName=[--SUPERCATEGORY--]&categoryName=girl&pageName=listpage&performerName=&prm[psid]=sxnetwork&prm[pstool]=205_1&prm[psprogram]=revs&prm[campaign_id]=&subAffId={SUBAFFID}&filters="}),mounted(){this.timeout=setTimeout((()=>{window.location.href=this.redirectUrl}),5e3)},beforeDestroy(){clearTimeout(this.timeout)}},n=(i(1469),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute right-0 h-full w-full overflow-hidden bg-black z-50 text-white flex justify-center items-center"},[t("div",{staticClass:"container flex flex-col justify-center text-center gap-8"},[t("sxc-logo",{attrs:{size:20}}),e._v(" "),t("h2",{staticClass:"text-center text-2lg font-bold"},[e._v("\n      Dear User,\n    ")]),e._v(" "),e._m(0),e._v(" "),t("span",[e._v("For a similarly exciting experience we recommend checking "),t("a",{ref:"link",staticClass:"text-c-primary font-bold",attrs:{href:e.redirectUrl}},[e._v("www.livesex.com")]),e._v(" out.")]),e._v(" "),t("span",[e._v("Thank you for your understanding.")])],1)])}),[function(){var e=this,t=e._self._c;return t("span",[e._v("\n      We have detected that you are visiting us from a location which is requiring us to verify your age before allowing you access to our website.\n      Security, privacy and user experience are among our top priorities, and the currently available methods to comply with such requirements do not sufficiently fulfill all these priorities.\n      "),t("br"),e._v("\n      Until suitable solutions emerge, our only choice is to disable access to our website from your location.\n    ")])}],!1,null,"039c63e3",null);t.default=a.exports},1987:function(e,t,i){"use strict";i.r(t);var s=i(9),n={data:()=>({checkbox:!1}),methods:{async onSubmit(){await this.$storage.setCookie(s.a.utahCookieKey,1),this.$emit("approved")},onError(e){this.$showErrorMessage(e.localizedMessage)}}},a=(i(1471),i(0)),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute right-0 h-full w-full overflow-hidden sx-select bg-black z-50 text-white flex justify-center items-center"},[t("div",{staticClass:"utah-container"},[t("sxc-form-container",{staticClass:"relative flex flex-wrap",attrs:{"on-submit":e.onSubmit},on:{onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("div",[t("div",{staticClass:"flex justify-center"},[t("sxc-logo",{attrs:{size:18}})],1),e._v(" "),t("br"),e._v(" "),t("h2",{staticClass:"text-center font-black text-xl"},[e._v("\n          STATE OF UTAH WARNING\n        ")]),e._v(" "),t("br"),e._v(" "),t("h4",{staticClass:"mb-4 font-medium text-sm"},[e._v("\n          EXPOSING MINORS TO OBSCENE MATERIAL MAY DAMAGE OR NEGATIVELY IMPACT MINORS. "),t("br"),e._v("\n          THIS WEBSITE CONTAINS AGE-RESTRICTED MATERIALS. "),t("br"),e._v("\n          USING PORNOGRAPHY MAY BE HARMFUL TO MINORS.\n        ")]),e._v(" "),t("p",{staticClass:"mb-4 text-grey text-xs font-medium"},[e._v("\n          IF YOU ARE UNDER THE AGE OF 18 YEARS, YOU DO NOT HAVE AUTHORIZATION OR PERMISSION TO ENTER THIS WEBSITE OR ACCESS ANY OF ITS MATERIALS.\n          IF YOU ARE OVER THE AGE OF 18 YEARS, BY ENTERING THE WEBSITE YOU HEREBY AGREE TO COMPLY WITH ALL THE TERMS AND CONDITIONS.\n          BY CLICKING ACCEPT YOU ARE STATING THAT:\n        ")]),e._v(" "),t("p",{staticClass:"mb-4 text-grey text-xs font-medium"},[e._v("\n          - UNDER PENALTY OF PERJURY, YOU ARE OVER THE AGE OF 18 YEARS. "),t("br"),e._v("\n          - NUDITY AND EXPLICIT DEPICTIONS OF SEXUAL ACTIVITY DOES NOT OFFEND YOU. "),t("br"),e._v("\n          - YOU DO NOT WISH US TO SHOW YOU THIS WARNING AND AGE GATE IN THE FUTURE AND CONSENT TO OUR USE OF COOKIES TO PRESENT OUR WEBSITE AND ITS CONTENTS TO YOU. "),t("br"),e._v("\n          - YOU ACKNOWLEDGE THAT YOU ARE RESPONSIBLE FOR ENSURING THAT ALL PERSONS WHO ACCESS THE WEBSITE THROUGH YOUR INTERNET CONNECTION ARE OVER THE AGE OF 18 YEARS.\n        ")])]),e._v(" "),t("div",{staticClass:"w-full p-2"},[t("ValidationProvider",{attrs:{name:"agree",slim:""}},[t("sx-checkbox",{staticClass:"text-sm text-white",attrs:{color:"green","is-square":""},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}},[e._v("\n            I agree with all the above and certify I am over the age of 18 years.\n          ")])],1)],1),e._v(" "),t("div",{staticClass:"w-full p-2 pt-4"},[t("sx-form-field",{attrs:{actions:""}},[t("sx-button",{attrs:{"data-cy-id":"accept-button",color:"c-primary",size:"R",block:"",disabled:!e.checkbox,loading:s.submitting}},[e._v("\n            Accept\n          ")])],1)],1)]}}])})],1)])}),[],!1,null,"36ba9c65",null);t.default=r.exports},1988:function(e,t,i){"use strict";i.r(t);var s={props:{audio:{type:Object,default:()=>{}}},computed:{audioDisplayName(){var e;const{title:t,artist:i}=null!==(e=this.audio)&&void 0!==e?e:{};return t&&i?"".concat(i," - ").concat(t):this.$t("feed.original_sound_label")},audioLink(){var e;return null===(e=this.audio)||void 0===e?void 0:e.downloadUrl},displayNameComputedClass(){return this.$isDesktop?"text-left":"w-full"},linkComputedClass(){return this.$isDesktop?"justify-center mt-3 cursor-pointer":"mt-2"}}},n=(i(1473),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("a",{staticClass:"flex items-center text-white text-base font-medium",class:e.linkComputedClass,attrs:{disabled:!e.audioLink,href:e.audioLink,rel:"nofollow noopener noreferrer",target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[t("sx-icon",{attrs:{name:"Speaker",height:"18"}}),e._v(" "),t("span",{staticClass:"ml-2 truncate",class:e.displayNameComputedClass},[e._v("\n    "+e._s(e.audioDisplayName)+"\n  ")])],1)}),[],!1,null,"1de0ee95",null);t.default=a.exports},1989:function(e,t,i){"use strict";i.r(t);var s={props:{videoFeed:{type:Boolean,default:!1}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center p-5 text-white"},[t("h2",{staticClass:"text-xl font-semibold"},[e._v("\n    "+e._s(e.$t("global.end_of_feed_label"))+"\n  ")]),e._v(" "),t("p",{staticClass:"text-sm mb-2"},[e._v("\n    "+e._s(e.$t("global.check_back_label"))+"\n  ")]),e._v(" "),t("sx-button",{attrs:{"data-cy-id":"search-button",color:"c-primary",size:"R",tag:"nuxt-link",to:"/s/creators"}},[e._v("\n    "+e._s(e.$t("global.search"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=a.exports},1990:function(e,t,i){"use strict";i.r(t);var s=i(1018),n=i(1243),a=i(1244),r=i(1023),o={mixins:[i(1009).a],inject:{togglePanel:{default:()=>null},goToUserProfile:{default(){return()=>{this.$router.push(this.modelLinkBase?"".concat(this.modelLinkBase,"/").concat(this.item.user.username):"/".concat(this.item.user.username))}}}},props:{item:{type:Object,required:!0},autoplay:{type:Boolean,default:!1},idx:{type:Number,required:!0},isActive:{type:Boolean,default:!1}},data(){return{isPlaying:!1,showSpinner:!1,productUid:this.item.productUid,showVideo:!Object(r.a)(this.$nuxt.context)}},watch:{isActive:{handler(e){this.item.media&&(e?this.$refs.videoPlayer.play():this.$refs.videoPlayer.pause())}}},computed:{showPlayButton(){const{media:e}=this.item;return e&&!(this.isPlaying||this.autoplay)&&!(e.subscriptionRequired||e.mediaPurchaseRequired)},hasVideo(){return this.item.media},videoPlayerComponent(){return Object(r.a)(this.$nuxt.context)?n.default:a.default},posterSrc(){if(this.item.media){const e=this.item.media.firstFrameScreenshot.fullPath;return this.cdnImageProcess(e,{width:"600"})}if(this.item.user.avatar){const e=this.item.user.avatar.fullPath;return this.cdnImageProcess(e,{width:"600"})}return"/img/sexcom_background.png"},mediaCoverClass(){if(!this.$nuxt.$isMobile)return"object-contain";if(this.item.media){const{width:e,height:t}=this.item.media;if(this.$orientation.isPortrait)return e/t<.6?"object-cover":"object-contain";if(t/e<.6)return"object-cover"}return"object-contain"}},methods:{toggle(){this.item.media&&this.$refs.videoPlayer.toggle()},play(){return this.item.media?this.$refs.videoPlayer.play():null},pause(){this.item.media&&(this.$refs.videoPlayer.pause(),this.showSpinner=!1)},onPlay(){this.isPlaying=!0,this.hasPlayed=!0,this.$emit("play",this.idx)},onPause(){this.isPlaying=!1,this.showSpinner=!1},onPlaying(){this.showSpinner=!1},onAutoplayChanged(e){this.$emit("autoplay-changed",e)},async tip(){const{user:e}=this.item,t={avatar:e.avatar,displayName:e.displayName},i={userUid:e.userUid};this.$tip(t,i)},toggleComments(){this.$isDesktop?this.$router.push({query:{...this.$route.query,comments:"1"}}):this.$openComments({user:this.item.user,mediaUid:this.productUid,contentType:"product"})},triggerAnimation(){this.$emit("clicked",!0),setTimeout((()=>{this.$emit("clicked",!1)}),300)},async toggleLike(){if("login"===(await this.$auth()).status)try{if(this.likePending)return;this.triggerAnimation(),this.$nuxt.$emit("sx-like-toggle",{mediaUid:this.productUid}),await this.$api.likes.toggleForProduct(this.productUid),this.likePending=!1}catch{setTimeout((()=>{this.$nuxt.$emit("sx-like-toggle",{mediaUid:this.productUid}),this.likePending=!1}),300)}},resizeHandler(){this.vertical=window.innerHeight>window.innerWidth},toFullScreen(){if(this.hasVideo){const{videoPlayer:e}=this.$refs;e.toFullScreen()}else this.$refs.lightBox.open()},async showPanel(){await this.$router.push("/".concat(this.item.user.username)),this.togglePanel(!0);const e=document.getElementById("main-container");e&&this.$nextTick((()=>Object(s.a)(e,0,100)))}}},l=(i(1475),i(0)),c=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full w-full z-10",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggle.apply(null,arguments)}}},[t("div",{staticClass:"relative w-full h-full flex items-center justify-center"},[t("div",{staticClass:"h-full z-20 absolute inset-x-0 bottom-0 flex items-center justify-center"},[t("client-only",[t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner&&!e.showPlayButton,expression:"showSpinner && !showPlayButton"}],staticClass:"transition-applied"},[t("sx-spinner",{staticClass:"spinner"})],1)])],1)],1),e._v(" "),t("div",{staticClass:"h-full z-20 absolute inset-x-0 bottom-0 flex items-center justify-center"},[t("sx-icon",{directives:[{name:"show",rawName:"v-show",value:e.showPlayButton,expression:"showPlayButton"}],staticClass:"text-white cursor-pointer",attrs:{name:"play",title:"Play",height:"60"}})],1),e._v(" "),e.$isDesktop?t("sxcd-feed-bottom-panel",{attrs:{item:e.item}}):e._e(),e._v(" "),t("sxcm-feed-bottom-panel",{attrs:{item:e.item}}),e._v(" "),t("div",{staticClass:"w-full h-full flex bg-black ios-prevent-flickering"},[t("img",{staticClass:"w-full",class:e.mediaCoverClass,attrs:{src:e.posterSrc,title:e.item.description,alt:e.item.description,oncontextmenu:"return false;"}})]),e._v(" "),t("sx-light-box",{ref:"lightBox",staticClass:"z-50",attrs:{images:e.posterSrc}}),e._v(" "),e.hasVideo?t("div",{staticClass:"w-full h-full absolute flex",class:e.showVideo?"z-10":"hidden"},[t(e.videoPlayerComponent,{ref:"videoPlayer",tag:"component",attrs:{item:e.item.media,autoplay:e.autoplay,idx:e.idx,"video-class":e.mediaCoverClass},on:{play:e.onPlay,playing:e.onPlaying,waiting:function(t){e.showSpinner=!0},pause:e.onPause,"autoplay-changed":e.onAutoplayChanged,"show-video":function(t){e.showVideo=!0}}})],1):e._e(),e._v(" "),e.$isMobile?t("sxc-feed-panel",{directives:[{name:"show",rawName:"v-show",value:e.$orientation.isPortrait,expression:"$orientation.isPortrait"}],attrs:{"active-item":e.item,"icon-height":30,"model-feed":!0,"wrapper-classes":"z-40 absolute vertical-container right-0 bottom-0 py-4 px-2 ios-prevent-flickering"},on:{"to-full-screen":e.toFullScreen,"toggle-like":e.toggleLike,"toggle-comments":e.toggleComments,"save-to-clipboard":e.saveToClipboard,tip:e.tip,"avatar-onclick":e.goToUserProfile}}):e._e()],1)])}),[],!1,null,"220060dc",null);t.default=c.exports},1991:function(e,t,i){"use strict";i.r(t);var s={inject:{closeProgrammaticFeed:{default:()=>()=>{}}},props:{product:{type:Object,required:!0},user:{type:Object,required:!0}},methods:{async onClick(){var e;const t={avatarFullPath:null===(e=this.user.avatar)||void 0===e?void 0:e.fullPath,displayName:this.user.displayName||this.user.username,username:this.user.username};await this.$purchaseProduct(t,this.product)&&this.closeProgrammaticFeed()}}},n=(i(1477),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-button",e._g(e._b({staticClass:"rounded-lg",attrs:{"data-cy-id":"product-btn",color:"white",size:"R"},on:{click:function(t){return t.stopPropagation(),e.onClick.apply(null,arguments)}}},"sx-button",e.$attrs,!1),e.$listeners),[t("span",{staticClass:"label"},[e._v("\n    "+e._s(e.$t("products.buy",[e.product.title.toLowerCase()]))+"\n  ")])])}),[],!1,null,"4096a74e",null);t.default=a.exports},1992:function(e,t,i){"use strict";i.r(t);var s={props:{items:{type:Array,required:!0},getKey:{type:Function,required:!0},fetchPending:{type:Boolean,required:!0},pageSize:{type:Number,default:0},placeholdersCount:{type:Number,default:3},wrapperClass:{type:String,default:""},itemClass:{type:String,default:""},dataCyId:{type:String,default:""},top:{type:Boolean,default:!1},showEmptyMessage:{type:Boolean,default:!0}},methods:{visibilityChanged(e,t){e&&!this.fetchPending&&(this.top&&0===t||!this.top&&t===this.items.length-1)&&this.$emit("loadMore")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return e.fetchPending||e.items.length||!e.showEmptyMessage?t("ul",{class:e.wrapperClass,attrs:{"data-cy-id":e.dataCyId}},[e._l(e.items,(function(i,s){return t("li",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t=>e.visibilityChanged(t,s),expression:"(isVisible) => visibilityChanged(isVisible, i)"}],key:"item-".concat(s,"-").concat(e.getKey(i)),class:e.itemClass},[e._t("default",null,{item:i,i:s})],2)})),e._v(" "),e.fetchPending?e._l(e.placeholdersCount,(function(i,s){return t("li",{key:"placeholder-".concat(s),class:e.itemClass},[e._t("placeholder")],2)})):e._e()],2):t("div",{staticClass:"text-lg text-center p-5 text-secondary"},[e._v("\n  "+e._s(e.$t("global.no_items_label"))+"\n")])}),[],!1,null,null,null);t.default=a.exports},1993:function(e,t,i){"use strict";i.r(t);var s={props:{items:{type:Array,required:!0},getKey:{type:Function,required:!0},fetchPending:{type:Boolean,required:!0},pageSize:{type:Number,default:0},placeholdersCount:{type:Number,default:3},dataCyId:{type:String,default:""},transitionEnabled:{type:Boolean,default:!1},filledCollsInit:{type:Number,default:0}},computed:{computedItems(){let e=this.filledCollsInit;return this.items.map((t=>{const{height:i,width:s}=t;return i&&s&&s>i&&3-e%3>=2?(this.$set(t,"horizontal",!0),e+=2):(this.$set(t,"horizontal",!1),e+=1),t}))}},methods:{visibilityChanged(e,t){e&&!this.fetchPending&&t===this.items.length-1&&this.$emit("loadMore")}}},n=(i(1479),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return e.fetchPending||e.items.length||e.$slots.first?t("transition-group",{staticClass:"grid grid-cols-3 gap-0.5",attrs:{"data-cy-id":e.dataCyId,name:e.transitionEnabled?"flip-list":"none",tag:"ul"}},[e._t("first"),e._v(" "),e._l(e.computedItems,(function(i,s){return t("li",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t=>e.visibilityChanged(t,s),expression:"(isVisible) => visibilityChanged(isVisible, i)"}],key:"item-".concat(e.getKey(i)),class:i.horizontal?"col-span-2":""},[e._t("default",null,{item:i,i:s})],2)})),e._v(" "),e.fetchPending?e._l(e.placeholdersCount,(function(i,s){return t("li",{key:"placeholder-".concat(s),staticClass:"no-animation"},[e._t("placeholder")],2)})):e._e()],2):t("div",{staticClass:"text-lg text-center p-5 text-secondary",attrs:{"data-cy-id":"empty"}},[e._v("\n  "+e._s(e.$t("global.no_items_label"))+"\n")])}),[],!1,null,"8c07f9ee",null);t.default=a.exports},1994:function(e,t,i){"use strict";i.r(t);var s={props:{message:{type:Object,required:!0}},methods:{confirm(){this.$emit("confirm"),this.$emit("close")},close(){this.$emit("close")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("p",{staticClass:"warning-text text-2lg font-semibold block text-center mb-5"},[e._v("\n    "+e._s(e.$t("ban_user_modal.title",[e.message.fromUser.username]))+"\n  ")]),e._v(" "),t("p",{staticClass:"text-center mb-4"},[t("span",{staticClass:"text-alert"},[e._v(e._s(e.$t("ban_user_modal.alert")))]),e._v(" "+e._s(e.$t("ban_user_modal.list_description"))+"\n  ")]),e._v(" "),t("ul",{staticClass:"list-inside list-disc mb-4 mx-3"},[t("li",[e._v(e._s(e.$t("ban_user_modal.list_item_1")))]),e._v(" "),t("li",[e._v(e._s(e.$t("ban_user_modal.list_item_2")))])]),e._v(" "),t("div",{staticClass:"flex justify-center"},[t("sx-button",{attrs:{size:"R",color:"neutral"},on:{click:e.close}},[e._v("\n      "+e._s(e.$t("global.cancel"))+"\n    ")]),e._v(" "),t("sx-button",{staticClass:"ml-5",attrs:{size:"R",color:"c-primary"},on:{click:e.confirm}},[e._v("\n      "+e._s(e.$t("global.ban"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=a.exports},1995:function(e,t,i){"use strict";i.r(t);var s={props:{message:{type:Object,required:!0}},methods:{confirm(){this.$emit("confirm"),this.$emit("close")},close(){this.$emit("close")}}},n=(i(1481),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("p",{staticClass:"warning-text font-semibold block text-center mb-5"},[e._v("\n    "+e._s(e.$t("block_user_modal.title",[e.message.fromUser.username]))+"\n  ")]),e._v(" "),t("p",{staticClass:"text-center mb-4"},[e._v("\n    "+e._s(e.$t("block_user_modal.list_description"))+"\n  ")]),e._v(" "),t("ul",{staticClass:"list-inside list-disc mb-4 mx-3"},[t("li",[e._v(e._s(e.$t("block_user_modal.list_item_1")))]),e._v(" "),t("li",[e._v(e._s(e.$t("block_user_modal.list_item_2")))]),e._v(" "),t("li",[e._v(e._s(e.$t("block_user_modal.list_item_3")))])]),e._v(" "),t("div",{staticClass:"flex justify-center"},[t("sx-button",{attrs:{size:"R",color:"neutral"},on:{click:e.close}},[e._v("\n      "+e._s(e.$t("global.cancel"))+"\n    ")]),e._v(" "),t("sx-button",{staticClass:"ml-5",attrs:{size:"R",color:"c-primary"},on:{click:e.confirm}},[e._v("\n      "+e._s(e.$t("global.block"))+"\n    ")])],1)])}),[],!1,null,"7db988e6",null);t.default=a.exports},1996:function(e,t,i){"use strict";i.r(t);var s={props:{count:{type:Number,default:0},micOff:Boolean,showDetails:Boolean,hasShadow:Boolean,cameraOff:Boolean}},n=(i(1485),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex justify-between items-center bg-red py-1 px-2 rounded leading-3",class:{shadowed:e.hasShadow}},[t("span",{staticClass:"text-white font-bold text-medium mr-1"},[e._v("LIVE")]),e._v(" "),e.micOff&&e.showDetails?t("sx-icon",{staticClass:"text-white mr-1",attrs:{name:"MicOff",height:"15"}}):e._e(),e._v(" "),e.cameraOff&&e.showDetails?t("sx-icon",{staticClass:"text-white mr-1",attrs:{name:"VideoCameraOff",height:"15"}}):e._e(),e._v(" "),t("sx-icon",{staticClass:"text-white",attrs:{name:"EyeBold",height:"15"}}),e._v(" "),e.showDetails?t("span",{staticClass:"ml-1 text-white text-medium font-medium"},[e._v("\n    "+e._s(e.count)+"\n  ")]):e._e()],1)}),[],!1,null,"1555e8ec",null);t.default=a.exports},1997:function(e,t,i){"use strict";i.r(t);var s={data:()=>({messages:[],requestInProg:!1,subscribed:!1}),props:{streamUid:{type:String,required:!0},streamerUid:{type:String,required:!0},chatView:{type:String,default:"visitor"}},computed:{chatAvailable(){return!!this.subscribed&&this.$wsclient.subscribeStatus["liveChat/".concat(this.streamUid)]}},methods:{async onSubmit(e){try{if(this.requestInProg)return;try{this.requestInProg=!0,await this.$api.liveChat.addLiveMessage(this.streamUid,e)}catch(t){403===t.statusCode&&this.handleNewMessage({content:e,type:"chat",streamUid:this.streamUid,fromUser:{profile:this.$store.getters["user/getProfile"]}})}finally{this.requestInProg=!1,this.$refs.input.reset()}}catch(i){this.$showErrorMessage(i.localizedMessage)}},handleNewMessage(e){this.messages.unshift(e),this.messages.length>200&&this.messages.pop(),"tip"===e.type&&this.$sounds.play("tip")},handleChatAction(e){"muteViewer"===e.type&&e.viewerUid!==this.$store.getters["user/getUserUid"]&&(this.messages=this.messages.filter((t=>t.fromUserUid!==e.viewerUid))),"deleteMessage"===e.type&&(this.messages=this.messages.filter((t=>t.liveMessageUid!==e.liveMessageUid)))},async onLogin(){await this.$api.streams.getUserStream(this.streamerUid)}},async mounted(){this.streamUid&&(await this.$wsclient.subscribe("liveChat/".concat(this.streamUid)),this.subscribed=!0,this.$wsclient.on("liveChat/".concat(this.streamUid),"liveChat.newMessage",this.handleNewMessage),this.$wsclient.on("liveChat/".concat(this.streamUid),"liveChat.actions",this.handleChatAction))},async beforeDestroy(){this.$wsclient.off("liveChat/".concat(this.streamUid),"liveChat.newMessage",this.handleNewMessage),this.$wsclient.off("liveChat/".concat(this.streamUid),"liveChat.actions",this.handleChatAction)}},n=(i(1487),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sxcm-app-body",{staticClass:"live-chat__wrapper mr-auto items-center justify-end overflow-x-hidden h-full w-full z-20",class:{"live-chat__wrapper--mobile":e.$isMobile,"live-chat__wrapper--desktop":e.$isDesktop}},[t("div",{staticClass:"w-full live-chat__height"},[t("sxc-live-messages",{attrs:{"streamer-uid":e.streamerUid,messages:e.messages,"creator-view":"creator"===e.chatView}})],1),e._v(" "),e.$streaming.tipMenuEnabled&&e.$isMobile?t("div",{staticClass:"self-start mb-3.5 ml-1"},[t("sxc-tip-menu-button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("tip")}}})],1):e._e(),e._v(" "),t("sxc-live-chat-input",{ref:"input",attrs:{"chat-available":e.chatAvailable},on:{submit:e.onSubmit,login:e.onLogin}})],1)}),[],!1,null,null,null);t.default=a.exports},1998:function(e,t,i){"use strict";i.r(t);var s={props:{isLive:Boolean,micOn:{type:Boolean,default:!0},cameraOn:{type:Boolean,default:!0},hasRearCamera:Boolean,faceUser:Boolean}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return!e.isLive&&e.hasRearCamera?t("sx-icon",{staticClass:"absolute right-0 top-0 m-5 text-white z-20 transform-gpu",class:{"-scale-x-1 transform":e.faceUser},attrs:{name:"RotateArrow",height:"40"},on:{click:function(t){return e.$emit("rotate-camera")}}}):e.isLive?t("div",{staticClass:"z-10 absolute right-0 bottom-0 py-4 px-3 transform-gpu"},[e.hasRearCamera?t("div",{staticClass:"flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"cursor-pointer text-white",attrs:{name:"RotateArrow",title:"Switch camera",height:"40"},on:{click:function(t){return e.$emit("rotate-camera")}}})],1)]):e._e(),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"cursor-pointer",class:e.micOn?"text-white":"text-red",attrs:{height:"40",name:e.micOn?"Mic":"MicOff",title:e.micOn?"Mute":"Unmute"},on:{click:function(t){return e.$emit("toggle","mic")}}})],1)]),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"cursor-pointer",class:e.cameraOn?"text-white":"text-red",attrs:{height:"40",name:e.cameraOn?"VideoCamera":"VideoCameraOff",title:e.cameraOn?"Enable camera":"Disable camera"},on:{click:function(t){return e.$emit("toggle","camera")}}})],1)]),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"40",name:"cog",title:"Settings"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("settings")}}})],1)])]):e._e()}),[],!1,null,null,null);t.default=a.exports},1999:function(e,t,i){"use strict";i.r(t);var s=i(1009),n={props:{showChat:Boolean,username:{type:String,required:!0},displayName:{type:String,required:!0},avatar:{type:Object,required:!0},wrapperClasses:{type:String,required:!0},modelLinkBase:{type:String,default:""}},mixins:[s.a],inject:{goToUserProfile:{default(){return()=>{this.$router.push(this.modelLinkBase?"".concat(this.modelLinkBase,"/").concat(this.username):"/".concat(this.username))}}}},computed:{isMuted(){var e;return null===(e=this.$streaming)||void 0===e?void 0:e.isMuted}},methods:{onAvatarClick(){this.$isDesktop?this.$emit("avatar-click"):this.goToUserProfile()},getProfileLinkAttrsInternal(){return{title:"".concat(this.displayName," - Sex.com"),to:"/".concat(this.username)}}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{class:e.wrapperClasses},[t("div",{staticClass:"flex justify-center mt-12"},[t("sx-icon",{staticClass:"cursor-pointer opacity-70 text-white",attrs:{name:"FullScreen",title:"Fullscreen",height:"30"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("to-fullscreen")}}})],1),e._v(" "),t("div",{staticClass:"mt-4 block rounded-full cursor-pointer avatar-border"},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getProfileLinkAttrsInternal(),!1),[t("sxc-avatar",{key:"feed-avatar-".concat(e.username),attrs:{name:e.displayName,avatar:e.avatar,size:58},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onAvatarClick.apply(null,arguments)}}})],1)],1),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"cursor-pointer",class:e.isMuted?"text-red":"text-white",attrs:{height:"40",name:e.isMuted?"SpeakerMuted":"Speaker",title:"Comment"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("toggle-mute")}}})],1)]),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"cursor-pointer",class:e.showChat?"text-white":"text-red",attrs:{height:"40",name:e.showChat?"Comment":"CommentCrossed",title:"Comment"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("toggle-comments")}}})],1)]),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",{on:{click:function(t){return t.stopPropagation(),e.saveLiveStreamLinkToClipboard(e.username)}}},[t("nuxt-link",{attrs:{to:"/".concat(e.username,"/live"),event:""}},[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"40",name:"share"}})],1)],1)]),e._v(" "),t("div",{staticClass:"relative mt-4 flex items-center flex-col"},[e.$streaming.tipMenuEnabled&&e.$isDesktop?t("div",{staticClass:"absolute flex justify-end transform -translate-y-1/2 top-1/2 right-14",staticStyle:{width:"11rem"}},[t("sxc-tip-menu-button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("tip")}}})],1):e._e(),e._v(" "),t("div",[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"40",name:"tip",title:"Tip"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("tip")}}})],1)])])}),[],!1,null,null,null);t.default=r.exports},2e3:function(e,t,i){"use strict";i.r(t);var s={props:{message:{type:String,required:!0},title:{type:String,required:!0}},data(){return{goLiveMessage:this.message||"I'm LIVE! I can't wait for you to join me."}},methods:{onSubmit(){return this.$api.massMessages.sendMassMessage({to:["follower","subscriber"],content:[{type:"text",value:this.goLiveMessage}]})},onSuccess(){this.goLiveMessage!==this.message&&this.$api.users.updateSettings({goLiveMessage:this.goLiveMessage}).then((e=>{let{user:t}=e;return this.$store.dispatch("user/updateUser",t)})).catch((()=>{})),this.$emit("send"),this.$emit("close")},onError(e){this.$showErrorMessage(null==e?void 0:e.localizedMessage)}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.title,"small-title":""}},[t("sxc-form-container",{ref:"messageForm",attrs:{"force-submit":"","on-submit":e.onSubmit,name:"messageForm"},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:"message",rules:"required|max:500",mode:"aggressive",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:s}=i;return[t("sx-form-field",{attrs:{error:s[0],tiny:""}},[t("sx-input",{staticClass:"min-h-20",attrs:{type:"textarea",resizable:""},model:{value:e.goLiveMessage,callback:function(t){e.goLiveMessage=t},expression:"goLiveMessage"}})],1)]}}],null,!0)}),e._v(" "),t("sx-form-field",[t("sx-button",{attrs:{size:"R",color:"c-primary",block:"",loading:s.submitting},on:{click:function(t){return t.preventDefault(),e.$refs.messageForm.submit()}}},[t("span",{staticClass:"font-medium text-lg"},[e._v(e._s(e.$t("live.send_and_go_btn")))])]),e._v(" "),t("sx-button",{staticClass:"w-full mt-2.5",attrs:{color:"neutral",size:"R"},on:{click:function(t){return t.preventDefault(),e.onSuccess.apply(null,arguments)}}},[t("span",{staticClass:"font-medium text-lg"},[e._v(e._s(e.$t("live.without_msg_btn")))])])],1)]}}])})],1)}),[],!1,null,null,null);t.default=a.exports},2001:function(e,t,i){"use strict";i.r(t);var s={props:{message:{type:Object,required:!0},showBan:{type:Boolean,default:!0},showBlock:{type:Boolean,default:!0}},data:()=>({deleteInProgress:!1,banInProgress:!1,blockInProgress:!1}),methods:{async deleteMessage(){let e=null;const t=new Promise((t=>{e=t}));this.deleteInProgress=!0,this.$emit("deleteMessage",e),await t,this.deleteInProgress=!1},async banFromStream(){const{status:e}=await this.confirmBan();if("confirmed"===e){let e=null;const t=new Promise((t=>{e=t}));this.banInProgress=!0,this.$emit("banFromStream",e),await t,this.banInProgress=!1}},async blockUser(){const{status:e}=await this.confirmBlock();if("confirmed"===e){let e=null;const t=new Promise((t=>{e=t}));this.blockInProgress=!0,this.$emit("blockUser",e),await t,this.blockInProgress=!1}},async confirmBlock(){return new Promise((e=>{this.$modal.open({parent:this,component:()=>Promise.resolve().then(i.bind(null,1995)),meta:{name:"BlockConfirmationModal"},props:{message:this.message},events:{close:()=>e({status:"closed"}),confirm:()=>e({status:"confirmed"})}})}))},async confirmBan(){return new Promise((e=>{this.$modal.open({parent:this,component:()=>Promise.resolve().then(i.bind(null,1994)),meta:{name:"BanConfirmationModal"},props:{message:this.message},events:{close:()=>e({status:"closed"}),confirm:()=>e({status:"confirmed"})}})}))}}},n=(i(1489),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full flex-col flex moderation__modal"},[t("div",{staticClass:"flex justify-center py-4",class:e.$isMobile?"border-divider border-b":""},[t("h2",{staticClass:"text-2lg font-semibold leading-6 text-center mx-2"},[e._v("\n      "+e._s(e.message.fromUser.username)+"\n    ")])]),e._v(" "),t("div",{staticClass:"flex px-4 pt-5 flex-1 items-center justify-center",class:e.$isMobile?"pb-5":"pb-8"},[t("div",{staticClass:"flex justify-center flex-col items-center",class:{"w-full":e.$isMobile}},[t("sx-button",{staticClass:"w-full",attrs:{color:"red",size:"R",loading:e.deleteInProgress},on:{click:e.deleteMessage}},[e._v("\n        "+e._s(e.$t("live_moderation_modal.delete_message"))+"\n      ")]),e._v(" "),e.showBan?t("sx-button",{staticClass:"text-black mt-4 w-full",attrs:{size:"R",color:"neutral",loading:e.banInProgress},on:{click:e.banFromStream}},[e._v("\n        "+e._s(e.$t("live_moderation_modal.ban"))+"\n      ")]):e._e(),e._v(" "),e.showBlock?t("sx-button",{staticClass:"text-black mt-4 w-full",attrs:{size:"R",color:"neutral",loading:e.blockInProgress},on:{click:e.blockUser}},[e._v("\n        "+e._s(e.$t("global.block"))+"\n      ")]):e._e()],1)])])}),[],!1,null,null,null);t.default=a.exports},2002:function(e,t,i){"use strict";i.r(t);var s={props:{subsOnly:{type:Boolean,required:!0}},methods:{confirm(){this.$emit("confirm"),this.$emit("close")},close(){this.$emit("close")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("h2",{staticClass:"text-2lg leading-6 text-center mb-6 mx-2"},[e.subsOnly?t("span",[e._v(" You are about to make your stream available to everyone.")]):t("span",[e._v("You are about to make your stream available to subscribers.")])]),e._v(" "),t("div",{staticClass:"flex justify-center"},[t("sx-button",{attrs:{size:"R",color:"neutral"},on:{click:e.close}},[e._v("\n      "+e._s(e.$t("global.cancel"))+"\n    ")]),e._v(" "),t("sx-button",{staticClass:"ml-5",attrs:{size:"R",color:"c-primary"},on:{click:e.confirm}},[e._v("\n      "+e._s(e.$t("global.cofirm"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=a.exports},2003:function(e,t,i){"use strict";i.r(t);var s={props:{name:{type:String,required:!0}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative flex flex-col w-full h-full bg-medium-black"},[t("div",{staticClass:"z-20 h-full absolute inset-x-0 bottom-0 flex flex-col items-center justify-center pointer-events-none"},[t("sx-icon",{staticClass:"text-white opacity-60",attrs:{name:"VideoCameraOff",height:"82"}}),e._v(" "),t("span",{staticClass:"text-white opacity-60 mt-2 text-center"},[e._v(e._s(e.$t("live.creator_camera_off",[e.name])))])],1)])}),[],!1,null,null,null);t.default=a.exports},2004:function(e,t,i){"use strict";i.r(t);var s={props:{username:{type:String,required:!0},displayName:{type:String,required:!0},avatar:{type:Object,required:!0}},data:()=>({avatarSrc:null}),computed:{bgStyle(){return this.avatarSrc?{"background-image":'url("'.concat(this.avatarSrc,'")'),"background-size":"cover"}:{}}},created(){var e,t;null!==(e=this.avatar)&&void 0!==e&&e.fullPath&&(this.avatarSrc=this.cdnImageProcess(null===(t=this.avatar)||void 0===t?void 0:t.fullPath))},methods:{getModelLinkAttrs(){return{title:"".concat(this.displayName," - Sex.com"),to:"/".concat(this.username)}}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full h-full"},[t("div",{staticClass:"w-full h-full absolute filter blur-lg",style:e.bgStyle},[t("div",{staticClass:"w-full h-full absolute bg-black opacity-80 z-10"})]),e._v(" "),t("div",{staticClass:"w-full h-full absolute flex flex-col items-center justify-center"},[t("sx-icon",{staticClass:"text-white",attrs:{name:"VideoCameraOff",height:"50"}}),e._v(" "),t("span",{staticClass:"text-white opacity-60 mt-2 text-center"},[e._v(e._s(e.$t("live.stream_has_ended")))]),e._v(" "),e.$isMobile?t("div",{staticClass:"mt-10 block cursor-pointer rounded-full border-4 border-white"},[t("nuxt-link",e._b({},"nuxt-link",e.getModelLinkAttrs(),!1),[t("sxc-avatar",{attrs:{size:112,name:e.displayName,avatar:e.avatar}})],1)],1):e._e(),e._v(" "),e.$isMobile?t("sx-button",e._b({staticClass:"mt-5",attrs:{tag:"router-link",size:"R","data-cy-id":"profile-button"}},"sx-button",e.getModelLinkAttrs(),!1),[e._v("\n      "+e._s(e.$t("global.view_profile_btn"))+"\n    ")]):e._e()],1)])}),[],!1,null,null,null);t.default=a.exports},2005:function(e,t,i){"use strict";i.r(t);var s={props:{showBadge:Boolean,inFullscreen:Boolean,cameraOn:Boolean,micOn:Boolean,displayName:{type:String,required:!0},count:{type:Number,required:!0}}},n=(i(1493),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute w-full left-0 top-0 pt-2 px-5 flex flex-wrap z-10"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.$orientation.isPortrait,expression:"$orientation.isPortrait"}],staticClass:"flex items-center w-2/12"},[t("nuxt-link",{staticClass:"pointer-events-none",attrs:{to:"/",title:"Sex.com"}},[t("sxc-logo",{attrs:{size:12,color:"white"}})],1)],1),e._v(" "),t("div",{staticClass:"relative flex justify-center top-2",class:e.$orientation.isPortrait?"w-8/12":"w-full",staticStyle:{height:"25px"}},[e.showBadge?t("sxc-live-badge",{attrs:{count:e.count,"camera-off":!e.cameraOn,"mic-off":!e.micOn,"show-details":""}}):e._e()],1),e._v(" "),t("div",{staticClass:"w-2/12 flex justify-end items-center"},[e.inFullscreen?t("sx-icon",{staticClass:"text-white opacity-75 cursor-pointer",attrs:{name:"close",title:"Exit fullscreen",height:"22"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("fullscreen-off")}}}):e._e()],1),e._v(" "),e.$orientation.isPortrait?t("div",{staticClass:"w-2/3 truncate relative model-name"},[t("h2",{staticClass:"text-base font-semibold opacity-75 truncate pointer-events-none text-white"},[e._v("\n      "+e._s(e.displayName)+"\n    ")])]):e._e()])}),[],!1,null,"724b9599",null);t.default=a.exports},2006:function(e,t,i){"use strict";i.r(t);var s=i(62),n={props:{username:{type:String,required:!0},displayName:{type:String,required:!0},avatar:{type:Object,required:!0},product:{type:Object,default:()=>({})}},data:()=>({avatarSrc:null}),computed:{price(){var e;return Object(s.a)(null===(e=this.product)||void 0===e?void 0:e.price,{removeTrailingZeroes:!0})},subscribeText(){return this.$t("subscribe_controls.price_month_label",[this.price])},bgStyle(){return this.avatarSrc?{"background-image":'url("'.concat(this.avatarSrc,'")'),"background-size":"cover"}:{}}},created(){var e,t;null!==(e=this.avatar)&&void 0!==e&&e.fullPath&&(this.avatarSrc=this.cdnImageProcess(null===(t=this.avatar)||void 0===t?void 0:t.fullPath))},methods:{getModelLinkAttrs(){return{title:"".concat(this.displayName," - Sex.com"),to:"/".concat(this.username)}}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full h-full"},[t("div",{staticClass:"w-full h-full absolute filter blur-lg",style:e.bgStyle},[t("div",{staticClass:"w-full h-full absolute bg-black opacity-80 z-10"})]),e._v(" "),t("div",{staticClass:"w-full h-full absolute flex flex-col items-center justify-center"},[t("sx-icon",{staticClass:"text-white",attrs:{name:"VideoCameraOff",height:"50"}}),e._v(" "),t("span",{staticClass:"text-white opacity-60 mt-2 text-center"},[e._v("\n      "+e._s(e.$t("live.subscribers_only_stream_label"))+"\n    ")]),e._v(" "),e.$isMobile?t("div",{staticClass:"mt-10 block cursor-pointer rounded-full border-4 border-white"},[t("nuxt-link",e._b({},"nuxt-link",e.getModelLinkAttrs(),!1),[t("sxc-avatar",{attrs:{size:112,name:e.displayName,avatar:e.avatar}})],1)],1):e._e(),e._v(" "),e.product&&e.product.price?t("sx-button",{staticClass:"mt-5",attrs:{"data-cy-id":"subscribe-button",size:"R",color:"c-secondary"},on:{click:function(t){return e.$emit("subscribe")}}},[t("span",{staticClass:"font-medium text-md"},[e._v("\n        "+e._s(e.subscribeText)+"\n      ")])]):e._e()],1)])}),[],!1,null,null,null);t.default=r.exports},2007:function(e,t,i){"use strict";i.r(t);var s={mixins:[i(1009).a],props:{activeItem:{type:Object,required:!0},wrapperClasses:{type:String,required:!0},iconHeight:{type:Number,required:!0},modelFeed:{type:Boolean,default:!1}},data:()=>({clicked:!1}),computed:{activeItemEmpty(){return!this.activeItem||this.activeItem.empty},activeItemModelName(){return this.activeItemEmpty?"":this.activeItem.user.displayName},activeItemUsername(){return this.activeItemEmpty?"":this.activeItem.user.username},isOwner(){return this.activeItem.user.userUid===this.$store.getters["user/getUserUid"]},showFollowIcon(){return this.$isMobile&&!this.modelFeed&&!this.isOwner},avatar(){var e;const{user:t}=this.activeItem;return t.avatar||(null===(e=t.profile)||void 0===e?void 0:e.avatar)}},methods:{toFullScreen(){this.$emit("to-full-screen")},goToUserProfile(){this.$emit("go-to-user-profile")},toggleLike(){this.activeItem.showCountdownTimer||(this.triggerAnimation(),this.$emit("toggle-like"))},toggleComments(){this.activeItem.showCountdownTimer||this.$emit("toggle-comments")},tip(){this.$emit("tip")},avatarOnClick(){this.$emit("avatar-onclick")},saveToClipboard(){this.$emit("save-to-clipboard")},triggerAnimation(){this.clicked=!0,setTimeout((()=>{this.clicked=!1}),300)},async onFollowClick(){"login"===(await this.$auth()).status&&await this.onFollow()},async onFollow(){try{if(this.followRequestSent||this.isOwner)return;this.followRequestSent=!0,this.$apiCache.users.invalidate(this.activeItem.user.username),this.$nuxt.$emit("sx-follow",{userUid:this.activeItem.user.userUid,status:!0}),await this.$api.followers.follow(this.activeItem.user.userUid)}catch(e){this.$showErrorMessage(e.localizedMessage),this.$nuxt.$emit("sx-follow",{userUid:this.activeItem.user.userUid,status:!1})}finally{this.followRequestSent=!1}},onPlusClick(){this.$store.state.auth.loggedIn?this.$router.push("/upload"):this.$router.push("/creators")}}},n=(i(1497),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{class:e.wrapperClasses},[t("div",{staticClass:"flex justify-center mt-12"},[t("sx-icon",{staticClass:"cursor-pointer opacity-70 text-white",attrs:{name:"FullScreen",title:"Fullscreen",height:e.iconHeight},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toFullScreen.apply(null,arguments)}}})],1),e._v(" "),t("div",{staticClass:"mt-4 block rounded-full cursor-pointer avatar-border"},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getModelLinkAttrs(e.activeItem),!1),[e.showFollowIcon?t("sxc-avatar-follow",{key:"feed-avatar-follow-".concat(e.activeItemModelName),attrs:{name:e.activeItemModelName,avatar:e.avatar,following:e.activeItem.user.following,size:58},on:{follow:e.onFollowClick},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.avatarOnClick.apply(null,arguments)}}}):t("sxc-avatar",{key:"feed-avatar-".concat(e.activeItemModelName),attrs:{name:e.activeItemModelName,avatar:e.avatar,size:58},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.avatarOnClick.apply(null,arguments)}}})],1)],1),e._v(" "),t("div",{staticClass:"mt-4 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"cursor-pointer",class:{"heart-clicked":e.clicked,"text-c-primary":e.activeItem.liked,"text-white":!e.activeItem.liked},attrs:{name:"heart",title:"Like",height:"40"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleLike.apply(null,arguments)}}})],1),e._v(" "),t("span",{staticClass:"px-2 text-white text-sm font-semibold"},[e._v("\n      "+e._s(e._f("formatNumber")(e.activeItem.likes))+"\n    ")])]),e._v(" "),t("div",{staticClass:"mt-2 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"40",name:"comment",title:"Comment"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleComments.apply(null,arguments)}}})],1),e._v(" "),t("span",{staticClass:"px-2 text-white text-sm font-semibold"},[e._v("\n      "+e._s(e._f("formatNumber")(e.activeItem.totalCommentsCount))+"\n    ")])]),e._v(" "),t("div",{staticClass:"mt-2 flex items-center flex-col"},[t("div",{on:{click:function(t){return t.stopPropagation(),e.saveToClipboard.apply(null,arguments)}}},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getMediaLinkAttrs(e.activeItem),!1),[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"40",name:"share"}})],1)],1)]),e._v(" "),t("div",{staticClass:"mt-2 flex items-center flex-col"},[t("div",[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"40",name:"tip",title:"Tip"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.tip.apply(null,arguments)}}})],1)]),e._v(" "),e.$isMobile?t("div",{staticClass:"mt-2 flex items-center flex-col"},[t("div",{staticClass:"h-10 w-10 flex items-center justify-center"},[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"24px",name:"BigPlus",title:"Plus"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onPlusClick.apply(null,arguments)}}})],1)]):e._e()])}),[],!1,null,"fbe08ece",null);t.default=a.exports},2008:function(e,t,i){"use strict";i.r(t);var s={props:{label:{type:String,default:""}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-white uppercase w-full absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 font-extrabold text-medium cursor-pointer"},[t("div",{staticClass:"w-full h-full flex items-center justify-center text-center"},[t("span",{staticClass:"text-white"},[e._v("\n      "+e._s(e.label)+"\n    ")])])])}),[],!1,null,null,null);t.default=a.exports},2009:function(e,t,i){"use strict";i.r(t);var s=i(1090),n=i(1009),a=i(1424),r=i(1246),o=i(1247),l=i(1426),c={inject:{viewMode:{default:()=>()=>{}}},mixins:[n.a,s.a],components:{MediaLabel:a.default,MediaWarningLabel:r.default,MediaErrorLabel:o.default,MediaInfo:l.default},props:{picture:{type:Object,required:!0},ownerView:{type:Boolean,default:!1},skipStatusCheck:Boolean},computed:{media(){return this.picture},imageThumbnail(){return"freeUser"===this.viewMode()&&"subscribers"===this.picture.visibility?this.cdnImageProcess(this.picture.blurredFullPath,{width:"300",aspectRatio:this.aspectRatio}):this.cdnImageProcess(this.picture.fullPath,{width:"300",aspectRatio:this.aspectRatio})}}},d=i(0),u=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative cursor-pointer",class:e.aspectRatioClass},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getMediaLinkAttrs(e.media),!1),[e.imageThumbnail?t("img",{staticClass:"absolute object-cover h-full w-full",class:{"filter grayscale":e.isMediaInactive},attrs:{src:e.imageThumbnail,alt:e.picture.caption,oncontextmenu:"return false;"}}):t("div",{staticClass:"absolute bg-black h-full w-full"}),e._v(" "),t("div",{staticClass:"absolute h-full w-full"},[e.showErrorLabel?t("media-error-label",{attrs:{text:e.errorLabelText}}):e.showWarningLabel?t("media-warning-label",{attrs:{text:e.warningLabelText}}):[e.showMediaLabel?t("media-label",{attrs:{media:e.media,"owner-view":e.ownerView,"free-user-view":"freeUser"===e.viewMode()}}):e._e(),e._v(" "),t("media-info",{attrs:{media:e.media,"owner-view":e.ownerView}})]],2)])],1)}),[],!1,null,null,null);t.default=u.exports},2010:function(e,t,i){"use strict";i.r(t);var s=i(128),n={props:{desktopPreview:{type:Boolean,default:!1},mobilePreview:{type:Boolean,default:!1},media:{type:Object,required:!0}},computed:{...Object(s.b)({userUid:"user/getUserUid"}),isScheduledLabelShown(){return"private"!==this.media.visibility&&!("shop"===this.media.visibility&&!this.media.mediaPurchaseRequired&&!this.isItemCreator)},isForSubscribers(){return"subscribers"===this.media.visibility},isItemCreator(){return this.media.user.userUid===this.userUid},computedIcon(){return this.isItemCreator&&this.media.showCountdownTimer?"WatchWithEye":"Watch"},computedDate(){return this.$inTime(this.media.publishAt)},computedTextClass(){return this.mobilePreview||this.desktopPreview?"".concat(this.mobilePreview?"flex-col":""," mt-3.75 text-lg leading-5.5 font-medium"):"flex-col mt-0.5 text-sm leading-4 font-semibold"},computedIconHight(){return this.mobilePreview||this.desktopPreview?53:27}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return e.isScheduledLabelShown?t("div",{staticClass:"w-full h-full absolute z-20 top-0 left-0 bg-opacity-3 text-white font-extrabold text-medium"},[t("div",{staticClass:"w-full h-full flex items-center justify-center text-center"},[t("div",{staticClass:"flex flex-col"},[t("sx-icon",{attrs:{name:e.computedIcon,color:"white",height:e.computedIconHight}}),e._v(" "),t("div",{staticClass:"flex text-white",class:e.computedTextClass},[t("div",[e._v("\n          "+e._s(e.$t("scheduled_media_label.premieres_text"))+" \n        ")]),e._v(" "),e.isForSubscribers?t("div",[e._v("\n          "+e._s(e.$t("scheduled_media_label.to_subscribers_text"))+" \n        ")]):e._e(),e._v(" "),t("div",[e._v(e._s(e.computedDate))])])],1)])]):e._e()}),[],!1,null,null,null);t.default=r.exports},2011:function(e,t,i){"use strict";i.r(t);var s={props:{avatar:{type:Object,default:()=>null}},computed:{imageThumbnail(){return this.avatar?this.cdnImageProcess(this.avatar.fullPath,{width:"300",aspectRatio:"3:4"}):null}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative"},[t("div",{staticClass:"relative cursor-pointer pb-media-4/3"},[e.imageThumbnail?t("img",{staticClass:"absolute object-cover h-full w-full",attrs:{src:e.imageThumbnail}}):t("div",{staticClass:"absolute bg-black h-full w-full"}),e._v(" "),t("div",{staticClass:"absolute w-full h-full flex items-center justify-center text-center bg-opacity-3"},[t("span",{staticClass:"text-white font-extrabold text-medium uppercase"},[e._v("\n        "+e._s(e.$t("creator.shop_link_label"))+"\n      ")])])])])}),[],!1,null,null,null);t.default=a.exports},2012:function(e,t,i){"use strict";i.r(t);var s={props:{price:{type:Number,default:null}}},n=(i(1505),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("svg",{attrs:{width:"100%",height:"100%"}},[t("text",{attrs:{x:"50%",y:"55%"}},[t("tspan",{attrs:{x:"50%"}},[e._v(e._s(e._f("usd")(e.price,{removeTrailingZeroes:!0})))])])])}),[],!1,null,"0b9dd31f",null);t.default=a.exports},2013:function(e,t,i){"use strict";i.r(t);var s={mixins:[i(1009).a],props:{stream:{type:Object,required:!0}},data:()=>({snapshotLoaded:!1}),async mounted(){this.$refs.snapshot.src=await this.$snapshotsCache.getSnapshotCached(this.stream.streamUid).catch((()=>{})),this.snapshotLoaded=!0}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative cursor-pointer pb-media-4/3"},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getStreamLinkAttrs(e.stream),!1),[t("img",{directives:[{name:"show",rawName:"v-show",value:e.snapshotLoaded,expression:"snapshotLoaded"}],ref:"snapshot",staticClass:"absolute object-cover h-full w-full",attrs:{oncontextmenu:"return false;"}})]),e._v(" "),t("sxc-live-badge",{staticClass:"absolute bottom-0 left-0 mb-1 ml-1",attrs:{"has-shadow":""}})],1)}),[],!1,null,null,null);t.default=a.exports},2014:function(e,t,i){"use strict";i.r(t);var s=i(1090),n=i(1009),a=i(1424),r=i(1246),o=i(1247),l=i(1426),c={inject:{viewMode:{default:()=>()=>{}}},mixins:[n.a,s.a],components:{MediaLabel:a.default,MediaWarningLabel:r.default,MediaErrorLabel:o.default,MediaInfo:l.default},props:{video:{type:Object,required:!0},ownerView:{type:Boolean,default:!1},thumbnail:{type:String,default:null},skipStatusCheck:Boolean},computed:{media(){return this.video},videoThumbnail(){if(this.thumbnail)return this.thumbnail;if("freeUser"===this.viewMode()&&"subscribers"===this.video.visibility){const e=this.video.thumbnail.blurredFullPath,t={width:"300",aspectRatio:this.aspectRatio};return this.cdnImageProcess(e,t)}if(this.video.thumbnail){const e=this.video.thumbnail.fullPath,t={width:"300",aspectRatio:this.aspectRatio};return this.cdnImageProcess(e,t)}return null}}},d=i(0),u=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative cursor-pointer",class:e.aspectRatioClass},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getMediaLinkAttrs(e.media),!1),[e.videoThumbnail?t("img",{staticClass:"absolute object-cover h-full w-full",class:{"filter grayscale":e.isMediaInactive},attrs:{title:e.video.caption,alt:e.video.caption,src:e.videoThumbnail,oncontextmenu:"return false;"}}):t("div",{staticClass:"absolute bg-black h-full w-full"}),e._v(" "),t("div",{staticClass:"absolute h-full w-full"},[e.showErrorLabel?t("media-error-label",{attrs:{text:e.errorLabelText}}):e.showWarningLabel?t("media-warning-label",{attrs:{text:e.warningLabelText}}):[e.showMediaLabel?t("media-label",{attrs:{media:e.media,"owner-view":e.ownerView,"free-user-view":"freeUser"===e.viewMode()}}):e._e(),e._v(" "),t("media-info",{attrs:{media:e.media,"owner-view":e.ownerView}})]],2)])],1)}),[],!1,null,null,null);t.default=u.exports},2015:function(e,t,i){"use strict";i.r(t);var s=i(1051),n={props:{link:{type:String,required:!0},title:{type:String,required:!0},hint:{type:String,default:""}},methods:{copyAffiliateLink(){Object(s.a)(this.link,(()=>this.$showInfoMessage(this.$t("global.copy_to_clipboard_success"))),(()=>this.$showErrorMessage()))}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"mb-3"},[t("p",{staticClass:"font-semibold text-base"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),t("p",{staticClass:"text-sm text-secondary"},[e._v("\n    "+e._s(e.hint)+"\n  ")]),e._v(" "),t("div",{staticClass:"flex justify-between items-center align-middle",on:{click:e.copyAffiliateLink}},[t("p",{staticClass:"cursor-pointer text-c-primary text-base"},[e._v("\n      "+e._s(e.link)+"\n    ")]),e._v(" "),t("sx-icon",{staticClass:"h-4 cursor-pointer text-secondary fshrink-0",attrs:{name:"copy"}})],1)])}),[],!1,null,null,null);t.default=r.exports},2016:function(e,t,i){"use strict";i.r(t);var s=i(1298),n={props:{first:Boolean,last:Boolean,question:{type:String,required:!0},answer:{type:String,required:!0},open:Boolean,shouldScroll:{type:Boolean,default:!0}},mixins:[s.a],data(){return{isOpen:this.open}},computed:{classObject(){return{"font-semibold py-2.5 text-primary text-lg":this.isOpen,"text-c-primary":!this.isOpen,"pt-2":this.first}}}},a=(i(1509),i(0)),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("sx-collapse",{ref:"questionContainer",staticClass:"question-container",class:{"bg-foreground opened":e.isOpen},scopedSlots:e._u([{key:"trigger",fn:function(){return[t("section",{staticClass:"flex items-start justify-between py-0.5",class:e.classObject},[t("h6",{staticClass:"ml-4",domProps:{innerHTML:e._s(e.question)}}),e._v(" "),t("div",{staticClass:"flex mr-4 items-center justify-center"},[t("div",{staticClass:"plus-minus",class:e.isOpen?"opened":""},[t("span"),e._v(" "),t("span")])])])]},proxy:!0}]),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[e._v(" "),t("div",{staticClass:"text-secondary text-sm pb-2.5 px-4",domProps:{innerHTML:e._s(e.answer)}})])}),[],!1,null,"521990f4",null);t.default=r.exports},2017:function(e,t,i){"use strict";i.r(t);var s=i(1298),n={props:{text:{type:String,required:!0},open:Boolean,shouldScroll:Boolean},mixins:[s.a],data(){return{isOpen:this.open}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("sx-collapse",{ref:"collapse",staticClass:"section-container",scopedSlots:e._u([{key:"trigger",fn:function(){return[t("section",{staticClass:"flex items-start justify-between py-3.75 font-medium border-b border-divider"},[t("h5",{staticClass:"ml-4"},[e._v("\n        "+e._s(e.text)+"\n      ")]),e._v(" "),t("div",{staticClass:"flex items-center justify-center"},[t("sx-icon",{staticClass:"transition-all ease-in-out duration-300 transform text-neutral mr-4",class:{"rotate-180":e.isOpen},attrs:{name:"arrowDown",height:18}})],1)])]},proxy:!0}]),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.default=r.exports},2018:function(e,t,i){"use strict";i.r(t);var s=i(1007),n={props:{activeTabProp:{type:String,default:s.a.videos},linkPrefix:{type:String,default:""},contentCount:{type:Object,default:()=>({})}},data:()=>({mediaTypes:s.a})},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("sx-tabs",{attrs:{value:e.activeTabProp,underlined:""},on:{input:function(t){return e.$emit("on-tab-changed",t)}}},[t("sx-tab",{attrs:{idx:e.mediaTypes.videos}},[t("nuxt-link",{attrs:{to:"/".concat(e.linkPrefix,"?videos=1"),title:"Sex.com",event:""}},[t("div",{staticClass:"flex"},[t("sx-icon",{attrs:{name:"video",title:"Video",height:"24"}}),e._v(" "),t("span",{staticClass:"text-sm text-primary font-normal ml-1 leading-6"},[e._v("\n          "+e._s(e._f("formatNumber")(e.contentCount.videos))+"\n        ")])],1)])],1),e._v(" "),t("sx-tab",{attrs:{idx:e.mediaTypes.photos}},[t("nuxt-link",{attrs:{to:"/".concat(e.linkPrefix,"?photos=1"),title:"Sex.com",event:""}},[t("div",{staticClass:"flex"},[t("sx-icon",{attrs:{name:"photo",title:"Photo",height:"24"}}),e._v(" "),t("span",{staticClass:"text-sm text-primary font-normal ml-1 leading-6"},[e._v("\n          "+e._s(e._f("formatNumber")(e.contentCount.pictures))+"\n        ")])],1)])],1),e._v(" "),t("sx-tab",{attrs:{idx:e.mediaTypes.shop}},[t("nuxt-link",{attrs:{to:"/".concat(e.linkPrefix,"?shop=1"),title:"Sex.com",event:""}},[t("div",{staticClass:"flex"},[t("sx-icon",{attrs:{name:"shop",title:"Shop",height:"24"}}),e._v(" "),t("span",{staticClass:"text-sm text-primary font-normal ml-1 leading-6"},[e._v("\n          "+e._s(e._f("formatNumber")(e.contentCount.shop))+"\n        ")])],1)])],1)],1)}),[],!1,null,null,null);t.default=r.exports},2019:function(e,t,i){"use strict";i.r(t);var s={mixins:[i(1009).a],props:{user:{type:Object,default:()=>null},shouldShowActions:{type:Boolean,default:!1}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex absolute right-0 mr-4"},[t("div",{staticClass:"flex items-center",on:{click:function(t){return t.stopPropagation(),e.saveProfileLinkToClipboard.apply(null,arguments)}}},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getProfileLinkAttrs(),!1),[t("sx-icon",{staticClass:"text-white cursor-pointer",attrs:{height:"25",name:"share"}})],1)],1),e._v(" "),e.shouldShowActions?t("sx-icon",{staticClass:"app-header-icon ml-3.5 inline-block text-white cursor-pointer",attrs:{height:"25",name:"dots",title:"More"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$actionsModal({user:e.user})}}}):e._e()],1)}),[],!1,null,null,null);t.default=a.exports},2020:function(e,t,i){"use strict";i.r(t);var s=i(260),n={props:{user:{type:Object,required:!0},isOwner:Boolean,followersCount:{type:Number,default:0},isFollowing:Boolean,emailNotifications:Boolean,postsCount:{type:Number,default:0},viewsCount:{type:Number,default:0},blocked:Boolean,blockingUser:Boolean,geoBlocked:Boolean,publicProfile:Boolean,customPage:Boolean},data(){return{unfollowHovered:!1,expanded:!1,emailNotificationsData:this.emailNotifications,requestPending:!1,mailSupportEmail:"mailto:".concat(s.a.supportEmail)}},inject:{injectItem:{default:()=>()=>{}}},computed:{isLive(){return!this.user.geoBlocked&&!this.user.isBlockingLoggedInUser&&!this.user.isBlockedByLoggedInUser&&this.user.isStreaming},showAsAModel(){return this.isOwner||this.user.isPublic},modelCover(){if(!this.user.profile.cover)return!1;const e=this.cdnImageProcess(this.user.profile.cover.fullPath);return{backgroundImage:"url('".concat(e,"')")}},hasSocialLinks(){const{profile:e}=this.user;return e.instagramUsername||e.twitterUsername},textLength(){var e;return(null===(e=this.user.profile.description)||void 0===e?void 0:e.length)>125}},mounted(){const e=this.$refs.desc;e&&e.scrollWidth>e.clientWidth&&(this.isWrapped=!0)},methods:{async onLiveClick(){if(this.$isDesktop){const{streamUid:e,subscriptionRequired:t}=await this.$apiCache.users.getStream(this.user.username,this.user.userUid);await this.injectItem({mediaType:"video",injectedOnClient:!0,user:this.user,streamUid:e,subscriptionRequired:t})}else await this.$router.push("/".concat(this.user.username,"/live"))},follow(){this.$emit("follow"),this.emailNotificationsData=!0},unfollow(){this.$emit("unfollow"),this.emailNotificationsData=!1},tip(){this.$tip({...this.user.profile},{userUid:this.user.userUid})},toggleShow(){this.expanded=!this.expanded},async toggleEmailNotifications(){try{this.requestPending=!0,this.emailNotificationsData=!this.emailNotificationsData,await this.$api.followers.updateNotifications({userUid:this.user.userUid,emailNotifications:this.emailNotificationsData})}catch(e){this.emailNotificationsData=!this.emailNotificationsData,this.$showErrorMessage(e.localizedMessage)}finally{this.requestPending=!1}}}},a=(i(1511),i(0)),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("section",{class:{"mb-3.75":!e.customPage}},[t("section",{staticClass:"relative w-full mx-auto cover-container bg-foreground-light overflow-hidden"},[e.geoBlocked?e._e():t("div",{staticClass:"absolute top-0 h-full w-full bg-cover bg-center _bg-cover",style:e.modelCover}),e._v(" "),e._t("cover-overlay")],2),e._v(" "),t("section",{staticClass:"relative bg-primary"},[t("div",{staticClass:"mx-2"},[t("div",{staticClass:"flex flex-col items-stretch"},[t("div",{staticClass:"flex items-center -mt-2"},[t("div",{staticClass:"xs:h-32 xs:w-32 xs:-mt-16 h-28 w-28 -mt-12 flex-none p-1 bg-primary rounded-full"},[e.geoBlocked?t("div",{staticClass:"h-full w-full rounded-full bg-foreground-light"}):t("sxc-light-box-trigger",{staticClass:"h-full rounded-full",attrs:{avatar:e.user.profile.avatar}},[e.isLive?t("sxc-avatar-live",{key:"profile-avatar-".concat(e.user.profile.displayName),attrs:{avatar:e.user.profile.avatar,name:e.user.profile.displayName,full:""},on:{"on-live-click":e.onLiveClick}}):t("sxc-avatar",{key:"profile-avatar-".concat(e.user.profile.displayName),attrs:{avatar:e.user.profile.avatar,name:e.user.profile.displayName,checkmark:e.customPage,full:""}})],1)],1),e._v(" "),e.blocked||!e.publicProfile||e.isOwner?e.user.followedBy&&!e.blockingUser?t("div",{staticClass:"flex mt-3 w-full flex-row-reverse overflow-hidden"},[t("sx-button",{staticStyle:{width:"42px"},attrs:{rounded:"",icon:"",size:"R",color:"neutral"},on:{click:function(t){return e.$emit("open-chat")}}},[t("sx-icon",{attrs:{name:"comment",title:"Chat",outlined:"",height:"22"}})],1)],1):e._e():t("div",{staticClass:"flex mt-3 w-full flex-row-reverse overflow-hidden"},[e.isFollowing&&!e.customPage?t("sx-button",{staticClass:"ml-2",staticStyle:{width:"42px"},attrs:{rounded:"",icon:"",size:"R",color:"neutral","data-cy-id":"toggle-notifications-button",disabled:e.requestPending},on:{click:e.toggleEmailNotifications}},[t("sx-icon",{class:e.emailNotificationsData?"":"text-secondary",attrs:{name:e.emailNotificationsData?"NotificationOn":"NotificationOff",title:"Notifications",height:"24"}})],1):e._e(),e._v(" "),e.customPage?e._e():t("div",{staticClass:"ml-2",staticStyle:{"flex-grow":"0.75"}},[e.isFollowing?t("sx-button",{attrs:{outlined:"",size:"R",block:"",color:"neutral","data-cy-id":"unfollow-button"},on:{click:e.unfollow}},[t("span",[e._v(e._s(e.$t("global.following")))])]):t("sx-button",{attrs:{size:"R",block:"",color:"c-primary","data-cy-id":"follow-button"},on:{click:e.follow}},[t("span",[e._v(e._s(e.$t("creator.header.follow_label")))])])],1),e._v(" "),t("div",{staticClass:"ml-2"},[e.customPage?t("sx-button",{staticClass:"chat-with-us-button",attrs:{size:"R",icon:"",rounded:"",color:"green",tag:"a",href:e.mailSupportEmail}},[t("sx-icon",{staticClass:"mr-2",attrs:{name:"comment",title:"Chat",outlined:"",height:"22"}}),e._v(" "+e._s(e.$t("global.contact_us"))+"\n              ")],1):t("sx-button",{staticStyle:{width:"42px"},attrs:{rounded:"",icon:"",size:"R",color:"neutral","data-cy-id":"open-chat-button"},on:{click:function(t){return e.$emit("open-chat")}}},[t("sx-icon",{attrs:{name:"comment",title:"Chat",outlined:"",height:"22"}})],1)],1),e._v(" "),e.customPage?e._e():t("div",[t("sx-button",{staticStyle:{width:"42px"},attrs:{rounded:"",icon:"",size:"R",color:"neutral","data-cy-id":"tip-button"},on:{click:function(t){return e.tip()}}},[t("sx-icon",{attrs:{name:"tip",title:"Tip",height:"22"}})],1)],1)],1)]),e._v(" "),t("div",{staticClass:"flex flex-wrap items-baseline mt-1 mx-2"},[t("h1",{staticClass:"text-2xl truncate font-semibold mr-2 leading-snug",attrs:{"data-cy-id":"user-display-name"}},[e._v("\n            "+e._s(e.user.profile.displayName)+"\n          ")]),e._v(" "),t("div",{staticClass:"flex"},[t("h2",{staticClass:"text-minor-dark text-base text-secondary mr-2 relative",staticStyle:{top:"-1px"},attrs:{"data-cy-id":"user-username"}},[e._v("\n              @"+e._s(e.user.username)+"\n            ")])])]),e._v(" "),e.blocked||!e.showAsAModel||e.customPage?e._e():[t("div",{staticClass:"flex mx-2"},[t("div",{staticClass:"text-secondary text-base font-normal"},[t("span",{staticClass:"text-primary text-base font-semibold",attrs:{"data-cy-id":"followers-count"}},[e._v(e._s(e._f("formatNumber")(e.followersCount)))]),e._v(" "+e._s(e.$t("global.followers"))+"\n            ")]),e._v(" "),t("div",{staticClass:"text-secondary text-base font-normal ml-2"},[t("span",{staticClass:"text-primary text-base font-semibold",attrs:{"data-cy-id":"posts-count"}},[e._v(e._s(e._f("formatNumber")(e.postsCount)))]),e._v(" "+e._s(e.$t("creator.header.posts_label"))+"\n            ")]),e._v(" "),t("div",{staticClass:"text-secondary text-base font-normal ml-2"},[t("span",{staticClass:"text-primary text-base font-semibold",attrs:{"data-cy-id":"views-count"}},[e._v(e._s(e._f("formatNumber")(e.viewsCount)))]),e._v(" "+e._s(e.$t("global.media_views"))+"\n            ")])]),e._v(" "),e.user.dotSexyDomain?t("div",{staticClass:"mx-2"},[t("span",{staticClass:"font-medium text-base text-secondary"},[e._v(e._s(e.$t("creator.header.my_links"))+" ")]),e._v(" "),t("a",{staticClass:"text-c-secondary font-medium",attrs:{href:"https://".concat(e.user.dotSexyDomain),rel:"nofollow noopener noreferrer",target:"_blank"}},[e._v(e._s(e.user.dotSexyDomain))])]):e._e(),e._v(" "),e.hasSocialLinks?t("div",[e.user.profile.instagramUsername?t("div",{staticClass:"text-secondary text-base inline-block font-normal mx-2"},[t("span",{staticClass:"font-medium"},[e._v("Instagram: ")]),e._v(" "),t("a",{attrs:{href:"https://instagram.com/".concat(e.user.profile.instagramUsername),rel:"nofollow noopener noreferrer",target:"_blank"}},[e._v(e._s(e.user.profile.instagramUsername))])]):e._e(),e._v(" "),e.user.profile.twitterUsername?t("div",{staticClass:"text-secondary text-base inline-block font-normal mx-2"},[t("span",{staticClass:"font-medium"},[e._v("Twitter: ")]),e._v(" "),t("a",{attrs:{href:"https://twitter.com/".concat(e.user.profile.twitterUsername),rel:"nofollow noopener noreferrer",target:"_blank"}},[e._v(e._s(e.user.profile.twitterUsername))])]):e._e()]):e._e()]],2),e._v(" "),e.blocked?e._e():e._t("default",(function(){return[e.user.profile.description?t("div",{staticClass:"mt-2 cursor-pointer mx-2",on:{click:function(t){return e.toggleShow()}}},[e.expanded?e._e():t("span",{staticClass:"pr-1 break-words"},[e._v("\n            "+e._s(e.textLength?e.user.profile.description.substring(0,125)+"...":e.user.profile.description)+"\n          ")]),e._v(" "),e.expanded?t("span",{staticClass:"pr-1 break-words"},[e._v("\n            "+e._s(e.user.profile.description)+"\n          ")]):e._e(),e._v(" "),e.textLength?t("span",{staticClass:"font-semibold text-c-primary whitespace-nowrap"},[e._v("\n            "+e._s(e.expanded?e.$t("global.less"):e.$t("global.more"))+"\n          ")]):e._e()]):e._e()]}))],2),e._v(" "),e.customPage?t("section",{staticClass:"mt-5"},[e._t("info")],2):e._e()])])}),[],!1,null,"02b80fde",null);t.default=r.exports},2021:function(e,t,i){"use strict";i.r(t);var s=i(260),n={props:{creators:{type:Boolean},support:{type:Boolean}},methods:{createAnchor:e=>e.toLowerCase().replace(/[^A-Za-z0-9\s]/g,"").replace(/[\s]/g,"-"),applyParams(e){const{subsections:t}=this.$t(e),i=[],n=this.$route.hash.slice(1);for(let a=0;a<t.length;a+=1){const r=this.$t("".concat(e,".subsections[").concat(a,"].label"),"en",s.a),o=this.createAnchor(r),l={label:this.$t("".concat(e,".subsections[").concat(a,"].label"),s.a),questions:[],isOpen:n===o,shouldScroll:!0,anchor:o};for(let i=0;i<t[a].questions.length;i+=1){const t=this.$t("".concat(e,".subsections[").concat(a,"].questions[").concat(i,"].label"),"en",s.a),r=this.createAnchor(t),o=n===r;o&&(l.isOpen=!0,l.shouldScroll=!1),l.questions.push({label:this.$t("".concat(e,".subsections[").concat(a,"].questions[").concat(i,"].label"),s.a),answer:this.$t("".concat(e,".subsections[").concat(a,"].questions[").concat(i,"].answer"),s.a),anchor:r,isOpen:o})}i.push(l)}return i}},computed:{sections(){return this.creators?this.applyParams("faq.creators"):this.support?this.applyParams("faq.support"):null},targetAnchor(){return this.$route.hash.slice(1)}}},a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return e.sections?t("div",{staticClass:"text-base"},e._l(e.sections,(function(i){return t("sxc-faq-section",{key:i.label,attrs:{"data-anchor":i.anchor,text:i.label,open:i.isOpen,"should-scroll":i.shouldScroll}},e._l(i.questions,(function(e,i){return t("sxc-faq-question",{key:e.anchor,attrs:{first:0===i,question:e.label,answer:e.answer,"data-anchor":e.anchor,open:e.isOpen}})})),1)})),1):e._e()}),[],!1,null,null,null);t.default=r.exports},2022:function(e,t,i){"use strict";i.r(t);var s={props:{viewMode:{type:String,required:!0}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-black w-full text-secondary flex items-center justify-center p-1"},[t("div",{staticClass:"mx-2 cursor-pointer",class:{"text-white":"freeUser"===e.viewMode},on:{click:function(t){return e.$emit("view-mode-selected","freeUser")}}},[e._v("\n    Free user view\n  ")]),e._v(" "),t("div",{staticClass:"mx-2 cursor-pointer",class:{"text-white":"subscriber"===e.viewMode},on:{click:function(t){return e.$emit("view-mode-selected","subscriber")}}},[e._v("\n    Subscriber view\n  ")])])}),[],!1,null,null,null);t.default=a.exports},2023:function(e,t,i){"use strict";i.r(t);var s=[function(){var e=this,t=e._self._c;return t("li",[t("a",{staticClass:"flex flex-col items-center",attrs:{href:"https://www.google.com/chrome/"}},[t("img",{staticClass:"w-14 h-14",attrs:{src:i(1517)}}),e._v(" "),t("div",{staticClass:"text-sm mt-2"},[e._v("\n                Chrome\n              ")])])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"flex flex-col items-center",attrs:{href:"https://www.samsung.com/uk/apps/samsung-internet/"}},[t("img",{staticClass:"w-14 h-14",attrs:{src:i(1518)}}),e._v(" "),t("div",{staticClass:"text-sm mt-2"},[e._v("\n                Samsung Internet\n              ")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"flex flex-col items-center",attrs:{href:"https://www.mozilla.org/firefox/browsers/"}},[t("img",{staticClass:"w-14 h-14",attrs:{src:i(1519)}}),e._v(" "),t("div",{staticClass:"text-sm mt-2"},[e._v("\n                Firefox\n              ")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"flex flex-col items-center",attrs:{href:"https://www.microsoft.com/edge"}},[t("img",{staticClass:"w-14 h-14",attrs:{src:i(1520)}}),e._v(" "),t("div",{staticClass:"text-sm mt-2"},[e._v("\n              Edge\n            ")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"flex flex-col items-center",attrs:{href:"https://www.apple.com/safari/"}},[t("img",{staticClass:"w-14 h-14",attrs:{src:i(1521)}}),e._v(" "),t("div",{staticClass:"text-sm mt-2"},[e._v("\n              Safari\n            ")])])}],n=i(128),a=i(153),r=i.n(a),o=i(1051),l={computed:{...Object(n.b)({isLoggedIn:"auth/isLoggedIn",kycUnverified:"kyc/isUnverified",kycUpload:"kyc/isUpload",kycPending:"kyc/isPending",kycVerified:"kyc/isVerified",kycFailed:"kyc/isFailed",kycDenied:"kyc/isDenied",kycLink:"kyc/kycLink"}),getKycParam(){return this.$route.query.kyc},getKycRefParam(){return this.$route.query.transactionReference},isSuccess(){return"success"===this.getKycParam},isError(){return"error"===this.getKycParam},latestStableBrowsers:()=>({and_chr:"120",and_ff:"119",and_qq:"13.1",and_uc:"15.5",android:"120",baidu:"13.18",bb:"10",chrome:"120",edge:"120",firefox:"121",ie:"11",ie_mob:"11",ios_saf:"17.2",kaios:"3.0-3.1",op_mini:"all",op_mob:"73",opera:"106",safari:"17.2",samsung:"23"})},data:()=>({loading:!0,failed:!1,showBrowserWarning:!1,allowVerification:!1,osName:null,platform:null,verificationUrl:null}),async mounted(){this.loading=!1,"login"===(await this.$auth()).status&&(this.loading=!0,await this.getLoginUrl(),await this.refreshKycStatus())},methods:{async refreshKycStatus(){this.isSuccess&&(await this.$api.kyc.setVerificationPending(this.getKycRefParam),await this.refreshUserData(),await this.$store.dispatch("kyc/init")),this.checkBrowser(),!this.getKycParam&&this.kycPending&&(await this.refreshUserData(),this.kycUnverified&&(this.failed=!0)),this.kycFailed&&(this.failed=!0),this.loading=!1},async refreshUserData(){const{user:e}=await this.$api.users.me();await this.$store.dispatch("user/updateUser",e)},async startVerification(){if("login"===(await this.$auth()).status){const{redirectUrl:e}=await this.$api.kyc.startVerification();window.location.href=e}},checkBrowser(){if(this.latestStableBrowsers){const e=r.a.getParser(window.navigator.userAgent);if(this.platform=e.getPlatformType(),this.osName=e.getOSName(),"desktop"===this.platform)return this.showBrowserWarning=!e.satisfies({desktop:{chrome:">=".concat(this.getMajorBrowserVersion("chrome")-1),firefox:">=".concat(this.getMajorBrowserVersion("firefox")-1),edge:">=".concat(this.getMajorBrowserVersion("edge")),safari:">=".concat(this.getMajorBrowserVersion("safari"))}}),void(this.allowVerification=!this.showBrowserWarning);if("iOS"===e.getOSName())return void("safari"!==e.getBrowserName().toLowerCase()?(this.showBrowserWarning=!0,this.allowVerification=!1):(this.showBrowserWarning=!1,this.allowVerification=!0));this.showBrowserWarning=!e.satisfies({mobile:{chrome:">=".concat(this.getMajorBrowserVersion("and_chr")),samsung_internet:">=".concat(this.getMajorBrowserVersion("samsung"))}}),this.allowVerification=!0}},getMajorBrowserVersion(e){if(this.latestStableBrowsers[e]){const[t]=this.latestStableBrowsers[e].split(".");return+t}return 0},async getLoginUrl(){const{loginToken:e}=await this.$api.users.generateLoginToken();this.verificationUrl="".concat(this.$baseUrl,"/auth/ca?token=").concat(e)},copyLoginUrl(){Object(o.a)(this.verificationUrl,(()=>this.$showInfoMessage(this.$t("global.copy_to_clipboard_success"))),(()=>this.$showErrorMessage()))}}},c=i(0),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center flex flex-1"},[t("div",{staticClass:"flex flex-1 flex-col text-base"},[t("div",{staticClass:"p-3"},[t("div",{staticClass:"flex flex-row text-left py-1 px-2"},[t("div",{staticClass:"text-green mr-3"},[t("sx-icon",{attrs:{name:"Checkmark",height:"20"}})],1),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.$t("verification_modal.explanations[0]"))}})]),e._v(" "),t("div",{staticClass:"flex flex-row text-left py-1 px-2"},[t("div",{staticClass:"text-green mr-3"},[t("sx-icon",{attrs:{name:"Checkmark",height:"20"}})],1),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.$t("verification_modal.explanations[1]"))}})]),e._v(" "),t("div",{staticClass:"flex flex-row text-left py-1 px-2"},[t("div",{staticClass:"text-green mr-3"},[t("sx-icon",{attrs:{name:"Checkmark",height:"20"}})],1),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.$t("verification_modal.explanations[2]"))}})]),e._v(" "),t("div",{staticClass:"flex flex-row text-left py-1 px-2"},[t("div",{staticClass:"text-green mr-3"},[t("sx-icon",{attrs:{name:"Checkmark",height:"20"}})],1),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.$t("verification_modal.explanations[3]"))}})]),e._v(" "),t("div",{staticClass:"flex flex-row text-left py-1 px-2"},[t("div",{staticClass:"text-green mr-3"},[t("sx-icon",{attrs:{name:"Checkmark",height:"20"}})],1),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.$t("verification_modal.explanations[4]"))}})])]),e._v(" "),e.showBrowserWarning?t("div",{staticClass:"p-4 rounded mb-5 mt-1"},[t("p",{staticClass:"text-md font-medium text-error"},[e._v("\n        "+e._s(e.$t("verification_modal.warning"))+"\n      ")]),e._v(" "),e.allowVerification?t("p",{staticClass:"text-md font-medium text-error"},[e._v("\n        "+e._s(e.$t("verification_modal.soft_warning"))+"\n      ")]):[t("p",{staticClass:"text-secondary text-sm"},[e._v("\n          "+e._s(e.$t("verification_modal.warning_paste_link"))+"\n        ")]),e._v(" "),t("div",{staticClass:"bg-foreground text-secondary text-sm p-2 mt-3"},[t("span",{staticClass:"pt-2 block cursor-pointer break-all",on:{click:e.copyLoginUrl}},[e._v("\n            "+e._s(e.verificationUrl)+"\n          ")])])],e._v(" "),t("ul",{staticClass:"flex list-none justify-evenly mt-4 text-secondary"},["iOS"!==e.osName?[e._m(0),e._v(" "),"mobile"===e.platform?t("li",[e._m(1)]):e._e(),e._v(" "),"desktop"===e.platform?t("li",[e._m(2)]):e._e()]:e._e(),e._v(" "),"Windows"===e.osName?t("li",[e._m(3)]):e._e(),e._v(" "),"iOS"===e.osName||"MacOS"===e.osName?t("li",[e._m(4)]):e._e()],2)],2):e._e(),e._v(" "),e.allowVerification?[t("div",{staticClass:"p-5 text-sm text-left text-black rounded-xl mx-5",staticStyle:{"background-color":"#fffdea"}},[t("div",{staticClass:"mb-2"},[e._v("\n          "+e._s(e.$t("verification_modal.hints[0]"))+"\n        ")]),e._v(" "),t("div",[e._v("\n          "+e._s(e.$t("verification_modal.hints[1]"))+"\n          "),t("a",{staticClass:"font-semibold",attrs:{href:"mailto:support@sex.com"}},[e._v("\n            support@sex.com\n          ")])])]),e._v(" "),t("div",{staticClass:"text-center w-full p-5"},[t("sx-button",{attrs:{disabled:!e.allowVerification,block:"",color:"c-primary"},on:{click:e.startVerification}},[e._v("\n          "+e._s(e.$t("verification_modal.ok_btn"))+"\n        ")])],1)]:t("sx-spinner",{staticClass:"mx-auto my-6",attrs:{size:60,color:e.$theme.dark?"default":"inverted"}})],2)])}),s,!1,null,null,null);t.default=d.exports},2024:function(e,t,i){"use strict";i.r(t);var s=i(47),n={mixins:[i(1009).a],filters:{firstLetter(e){var t;return((null===(t=e.profile)||void 0===t?void 0:t.displayName)||e.username||"null")[0].toUpperCase()}},inject:{injectItem:{default:()=>()=>{}}},props:{item:{type:Object,required:!0}},data:()=>({fontSizeStyle:{},backgroundColorStyle:{}}),mounted(){var e;if(this.item.profile.avatar)return;const t=(null===(e=this.item.profile)||void 0===e?void 0:e.displayName)||this.item.username||"null";this.fontSizeStyle={fontSize:"".concat(this.$refs.avatarContainer.clientHeight/2.5,"px")},this.backgroundColorStyle={backgroundColor:Object(s.a)(t)}},computed:{modelPhoto(){if(!this.item.profile.avatar)return!1;const e=this.cdnImageProcess(this.item.profile.avatar.fullPath,{aspectRatio:"1:1",width:255});return{backgroundImage:"url('".concat(e,"')")}}},methods:{async onAvatarClick(){if(this.item.isStreaming)if(this.$isDesktop){const{streamUid:e}=await this.$apiCache.users.getStream(this.item.username,this.item.userUid);await this.injectItem({mediaType:"video",injectedOnClient:!0,user:this.item,streamUid:e}),await this.$router.push("/s/creators/".concat(this.item.username))}else await this.$router.push("/".concat(this.item.username,"/live"));else await this.$router.push("/s/creators/".concat(this.item.username))}}},a=(i(1522),i(0)),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("div",{on:{click:e.onAvatarClick}},[t("nuxt-link",e._b({attrs:{event:""}},"nuxt-link",e.getModelLinkAttrsFromUser(e.item),!1),[t("div",{staticClass:"pt-full relative select-none"},[e.item.isStreaming?t("div",{staticClass:"absolute right-1/2 transform translate-x-1/2 z-10",staticStyle:{bottom:"-3%"}},[t("sxc-live-badge",{attrs:{"has-shadow":""}})],1):e._e(),e._v(" "),t("div",{staticClass:"absolute rounded-full overflow-hidden inset-0",class:e.modelPhoto?"bg-foreground-light":"",style:e.backgroundColorStyle},[t("div",{staticClass:"absolute bottom-0 w-full"}),e._v(" "),t("div",{ref:"avatarContainer",staticClass:"h-full w-full bg-cover bg-center flex items-center justify-center",style:e.modelPhoto},[e.modelPhoto?e._e():t("span",{staticClass:"font-bold text-white",style:e.fontSizeStyle},[e._v("\n            "+e._s(e._f("firstLetter")(e.item))+"\n          ")])])])]),e._v(" "),t("div",{staticClass:"w-full text-base text-center truncate pt-2"},[t("div",{staticClass:"inline"},[e._v("\n        "+e._s(e.item.profile.displayName)+"\n      ")])])])],1)}),[],!1,null,"fa323986",null);t.default=r.exports},2025:function(e,t,i){"use strict";i.r(t);var s=i(491),n=i.n(s),a=i(261),r=i(1785);var o={components:{SwiperItem:r.default},directives:{touchPan:a.a},props:{activeItemIdxProp:{type:Number,default:0},items:{type:Array,default:()=>[]},onClick:{type:Function,default:()=>{}},isNavigating:{type:Boolean,default:!1}},data(){return{isReady:!1,isTransitioning:!1,isMoving:!1,parentHeight:0,activeItemIdx:this.activeItemIdxProp,nextItemIdx:this.activeItemIdxProp,translateY:0,prevWheelEventTime:1/0,debounceInProgress:!1,isFullScreen:!1}},computed:{swiperHeight(){return this.parentHeight?"".concat(this.parentHeight,"px"):"100%"},transformStyle(){return"translate3d(0, ".concat(this.translateY,"px, 0)")}},watch:{activeItemIdxProp(e){this.activeItemIdx=e,this.nextItemIdx=e,this.translateY=this.parentHeight*this.activeItemIdx*-1}},mounted(){this.init(),this.onResize(),document.addEventListener("keydown",this.onKeydown)},beforeDestroy(){this.destroy()},activated(){this.onResize(),document.addEventListener("keydown",this.onKeydown)},deactivated(){document.removeEventListener("keydown",this.onKeydown)},methods:{init(){const{scrollContainer:e}=this.$refs;e.addEventListener("transitionstart",this.onTransitionStart),e.addEventListener("transitionend",this.onTransitionEnd),this.parentHeight=this.$parent.$refs.container.clientHeight,this.activeItemIdx>this.items.length&&(this.activeItemIdx=0,this.isReady=!0,this.$emit("ready")),window.addEventListener("fullscreenchange",this.isInFullScreen),window.addEventListener("mozfullscreenchange",this.isInFullScreen),window.addEventListener("webkitfullscreenchange",this.isInFullScreen)},isInFullScreen(){const e=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;this.isFullScreen=!!e},onTransitionStart(e){this.isTransitioning=!0,this.$emit("transition-start",e)},onTransitionEnd(){this.isTransitioning=!1,this.isMoving=!1;const e=this.activeItemIdx!==this.nextItemIdx;this.activeItemIdx=this.nextItemIdx,this.$emit("transition-end",this.activeItemIdx),e&&this.$emit("changed",this.activeItemIdx)},onResize(){setTimeout((()=>{var e,t;0===window.screen.orientation.angle?this.parentHeight=null!==(e=null===(t=this.$parent.$refs.container)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:this.parentHeight:this.parentHeight=Math.min(this.$parent.$el.clientHeight,document.documentElement.clientHeight);this.translateY=-1*this.parentHeight*this.activeItemIdx}),400)},move:n()((async function(e){return e.deltaY<0?this.toPrev():e.deltaY>0?this.toNext():this.activeItemIdx}),30,{leading:!0,trailing:!1,maxWait:30}),getIdxOfScrolledElement(e){const t=e.target.closest(".swiper-item[data-idx]");return Number(t.dataset.idx)||0},scrollOnActiveEl(e){return e===this.activeItemIdx&&e!==this.prevIdx},shouldDebounceEvent(){const e=performance.now(),t=e-this.prevWheelEventTime;return this.debounceInProgress=t<100,this.prevWheelEventTime=e,this.debounceInProgress},onWheel(e){if(this.isFullScreen||"model-live"===this.$route.name||this.$streaming.chatOpened)return;if(!(e.wheelDeltaY?Math.abs(e.wheelDeltaY+3*e.deltaY)<=1:0===e.deltaMode))return void this.move(e);const t=this.getIdxOfScrolledElement(e),i=this.scrollOnActiveEl(t),s=!this.shouldDebounceEvent(e);(i||s||this.nextId===this.prevIdx)&&(this.prevIdx=t,this.move(e).then((e=>{this.nextId=e})))},onKeydown(e){(this.$el.contains(e.target)||e.target.contains(this.$el))&&(38===e.keyCode&&this.toPrev(),40===e.keyCode&&this.toNext())},onItemMounted(e){this.isReady||this.activeItemIdx===e&&(this.translateY=this.parentHeight*this.activeItemIdx*-1,this.isReady=!0,window.addEventListener("resize",this.onResize),this.$emit("ready"))},onItemActivated(e){this.activeItemIdx===e&&(this.translateY=this.parentHeight*this.activeItemIdx*-1)},destroy(){const{scrollContainer:e}=this.$refs;e.removeEventListener("transitionstart",this.onTransitionStart),e.removeEventListener("transitionend",this.onTransitionEnd),this.isMoving=!1,this.isTransitioning=!1,this.isReady=!1,window.removeEventListener("resize",this.onResize),window.removeEventListener("fullscreenchange",this.isInFullScreen),window.removeEventListener("mozfullscreenchange",this.isInFullScreen),window.removeEventListener("webkitfullscreenchange",this.isInFullScreen),this.$emit("destroyed")},onPan(e){if(this.$streaming.inFullscreen||this.$streaming.chatOpened||this.$orientation.isLandscape)return;e.evt.cancelable&&e.evt.preventDefault();const{isFirst:t,isFinal:i}=e;t&&this.movedHandler(e),this.movingHandler(e),i&&this.endHandler(e)},movedHandler(e){(this.isMoving||this.isTransitioning||this.isNavigating)&&e.evt.cancelable?e.evt.preventDefault():(e.meta.isLastItem=this.activeItemIdx===this.items.length-1,e.meta.iFirstItem=0===this.activeItemIdx,this.$emit("move",e.evt))},movingHandler(e){if(this.$nuxt.$emit("sx-swiper-on-move"),(this.isMoving||this.isTransitioning||this.isNavigating)&&e.evt.cancelable)return void e.evt.preventDefault();const{offset:{y:t},delta:{y:i}}=e,s=e.meta.isLastItem&&t<0||e.meta.iFirstItem&&t>0?.5:1;this.translateY+=i*s,this.$emit("moving",e.evt)},endHandler(e){if(this.isMoving)return;let{target:t}=e.evt;for(;t&&!t.classList.contains("swiper-item");)t=t.parentElement;t||(t=this.$refs.swiperItem[this.activeItemIdx].$el);const{top:i,height:s}=t.getBoundingClientRect(),{duration:n,distance:{y:a},offset:{y:r}}=e;if(Math.abs(a)>30&&n<250){if(r<0)return e.meta.isLastItem?(this.toItem(),void this.$emit("touchend",e.evt)):(this.toNext(),void this.$emit("touchend",e.evt));if(r>0)return this.toPrev(),void this.$emit("touchend",e.evt)}if(r<0){return s+i>.6*s||e.meta.isLastItem?(this.toItem(),void this.$emit("touchend",e.evt)):(this.toNext(),void this.$emit("touchend",e.evt))}if(r>0){if(s-i>.6*s)return this.toItem(),void this.$emit("touchend",e.evt);this.toPrev(),this.$emit("touchend",e.evt)}},toPrev(){let e=this.activeItemIdx;return e>0&&(e-=1,this.$emit("change",e)),this.toItem(e),e},toNext(){let e=this.activeItemIdx;return e<this.items.length-1&&(e+=1,this.$emit("change",e)),this.$nuxt.$emit("sx-swipe-to-next"),this.toItem(e),e},toItem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeItemIdx;this.isMoving=!0,this.nextItemIdx=e;const t=this.translateY;this.translateY=this.parentHeight*this.nextItemIdx*-1,this.translateY===t&&this.onTransitionEnd()}}},l=o,c=i(0),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"touch-pan",rawName:"v-touch-pan.vertical.stop",value:e.onPan,expression:"onPan",modifiers:{vertical:!0,stop:!0}}],ref:"swiper",staticClass:"w-full h-full overflow-hidden",style:{height:e.swiperHeight},on:{wheel:e.onWheel}},[t("div",{ref:"scrollContainer",staticClass:"w-full h-full",style:{transform:e.transformStyle,"transition-duration":e.isMoving?"300ms":"0ms"}},e._l(e.items,(function(i,s){return t("SwiperItem",{key:s,ref:"swiperItem",refInFor:!0,staticClass:"w-full h-full swiper-item",style:{height:e.swiperHeight},attrs:{"is-active":s===e.activeItemIdx,idx:s},on:{"hook:mounted":function(t){return e.onItemMounted(s)},"hook:activated":function(t){return e.onItemActivated(s)}}},[[e._t("default",null,{item:i,isActive:s===e.activeItemIdx,idx:s})]],2)})),1)])}),[],!1,null,null,null);t.default=d.exports},2026:function(e,t,i){"use strict";i.r(t);var s={props:{user:{type:Object,required:!0}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("n-link",{attrs:{to:"/".concat(e.user.username)}},[t("div",{staticClass:"flex items-center"},[t("div",[t("sxc-avatar",{attrs:{avatar:e.user.avatar,name:e.user.displayName,size:44}})],1),e._v(" "),t("div",{staticClass:"flex-auto truncate p-2 font-medium text-primary text-base leading-snug"},[e._v("\n      "+e._s(e.user.displayName)+"\n    ")]),e._v(" "),t("div",{staticClass:"p-2 font-medium text-primary text-base leading-snug"},[e._t("default")],2)])])}),[],!1,null,null,null);t.default=a.exports},2030:function(e,t,i){"use strict";i.r(t);var s=i(128),n=i(84),a=i(1023),r={props:{chatAvailable:Boolean},data:()=>({AUTH_STATE:n.a,showSendButton:!1,inputValue:"",height:null,isIos15:Object(a.b)(),disabled:!1}),methods:{async onSubmit(){this.notEmpty&&this.$emit("submit",this.inputValue)},onEnter(e){this.$isMobile||(e.preventDefault(),this.onMessage())},onMessage(){!this.inputValue||this.disabled||this.$refs.form.submitting||this.$refs.form.submit()},onInvalidValue(){this.$showErrorMessage(this.$refs.messageValidator.errors[0])},onFocus(){this.showSendButton=!0,this.isIos15&&setTimeout((()=>{this.height="130px"}),0)},onBlur(){setTimeout((()=>{this.showSendButton=!1})),this.isIos15&&setTimeout((()=>{this.height=null}),0)},reset(){this.inputValue="",this.$nextTick((()=>{this.$refs.form&&(this.$refs.form.reset(),this.$refs.input.updateHeight())}))},async openLoginPanel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.a.join;const{status:t}=await this.$auth({state:e});"login"===t&&this.$emit("login")}},computed:{...Object(s.b)({isLoggedIn:"auth/isLoggedIn",unconfirmedEmail:"user/isEmailUnverified",profile:"user/getProfile"}),notEmpty(){return this.inputValue&&this.inputValue.trim()},inputDisabled(){return!this.isLoggedIn||!this.chatAvailable}}},o=r,l=(i(1528),i(0)),c=Object(l.a)(o,(function(){var e=this,t=e._self._c;return e.isLoggedIn&&!e.unconfirmedEmail?t("sxc-form-container",{ref:"form",staticClass:"w-full relative",attrs:{"on-submit":e.onSubmit},on:{invalidValue:e.onInvalidValue}},[t("ValidationProvider",{ref:"messageValidator",staticClass:"relative",attrs:{mode:"aggressive",rules:"required|min:1|max:140",name:e.$t("messages.add_new.label"),slim:""}},[t("sx-input",{ref:"input",staticClass:"new-message drawer-scroll",class:[e.inputDisabled?"disabled":"",e.$isDesktop?"with-avatar":""],attrs:{type:"textarea",resizable:"","icon-top":e.isIos15,"max-height":"100",disabled:!e.chatAvailable,placeholder:e.$t("comments.add_new.placeholder"),"data-cy-id":"message-input"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.onEnter.apply(null,arguments)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation()}],focus:e.onFocus,blur:e.onBlur},scopedSlots:e._u([{key:"iconRight",fn:function(){return[e.notEmpty||e.showSendButton||e.$isDesktop?t("sx-icon",{class:e.disabled?"text-neutral":"text-c-primary cursor-pointer",attrs:{height:"24",name:"airplane",title:"Message"},on:{click:e.onMessage}}):e._e()]},proxy:!0},e.$isDesktop?{key:"iconLeft",fn:function(){return[t("sxc-avatar",{staticStyle:{"margin-left":"-5px"},attrs:{avatar:e.profile.avatar,name:e.profile.displayName,align:"end",size:30}})]},proxy:!0}:null],null,!0),model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)],1):e.isLoggedIn?t("div",{staticClass:"border-solid border-t border-divider px-4 py-3 not-logged-in-user",attrs:{"data-cy-id":"unconfirmed-users-comment-flag"}},[t("span",{staticClass:"font-medium text-c-primary cursor-pointer",on:{click:function(t){return e.openLoginPanel(e.AUTH_STATE.emailVerification)}}},[e._v("\n    "+e._s(e.$t("comments.add_new.email_warning[0]"))+"\n  ")]),e._v("\n   "+e._s(e.$t("comments.add_new.email_warning[1]"))+"\n")]):t("div",{staticClass:"border-solid border-t border-divider px-4 py-3 w-full text-primary xxs:text-sm",class:e.$isMobile?"not-logged-in-user":"px-4 py-3"},[t("span",{staticClass:"font-medium text-c-primary cursor-pointer",on:{click:function(t){return e.openLoginPanel(e.AUTH_STATE.login)}}},[e._v("\n    "+e._s(e.$t("auth.signin_text"))+"\n  ")]),e._v("\n   "+e._s(e.$t("comments.add_new.please_login[0]"))+" \n  "),t("span",{staticClass:"font-medium text-c-primary cursor-pointer",on:{click:function(t){return e.openLoginPanel()}}},[e._v("\n    "+e._s(e.$t("comments.add_new.please_login[1]"))+"\n  ")]),e._v("\n   "+e._s(e.$t("comments.add_new.please_login[2]"))+"\n")])}),[],!1,null,null,null);t.default=c.exports},2031:function(e,t,i){"use strict";i.r(t);var s=i(1018),n=i(62),a={props:{messages:{type:Array,default:()=>[]},itemClass:{type:String,default:""},streamerUid:{type:String,default:null},creatorView:Boolean},data:()=>({isMessagesOpened:!1,visibleItems:[],lastVisibleIndex:-1,showCollapseButton:!1,deleteInProgress:!1,prevScrollHeight:null}),beforeUpdate(){this.prevScrollHeight=this.$refs.messagesContainer.scrollHeight},updated(){const{scrollHeight:e,scrollTop:t}=this.$refs.messagesContainer;e!==this.prevScrollHeight&&(this.$isDesktop||this.isMessagesOpened)&&0!==t&&(this.$refs.messagesContainer.scrollTop-=e-this.prevScrollHeight)},computed:{avatar(){var e;return(null===(e=this.message.fromUser.profile)||void 0===e?void 0:e.avatar)||this.message.fromUser.avatar},moderateEvent(){return this.creatorView?"click":null}},methods:{getTipMessage(e){let{amount:t,tipMenuItem:i,fromUser:s}=e;const a=Object(n.a)(t,{removeTrailingZeroes:!0});return i?this.$t("live.user_tipped_menu_msg",[s.profile.displayName,a,i]):this.$t("live.user_tipped_msg",[s.profile.displayName,a])},visibilityChanged(e,t){e&&t>this.lastVisibleIndex?this.lastVisibleIndex=t:e||(this.showCollapseButton=!0,t-1<this.lastVisibleIndex&&(this.lastVisibleIndex=t-1))},toggleMessageList(){this.isMessagesOpened=!this.isMessagesOpened,this.$streaming.chatOpened=this.isMessagesOpened,this.isMessagesOpened||Object(s.a)(this.$refs.messagesContainer,0,100)},async moderationWrapper(e,t){try{await e()}catch(i){this.$showErrorMessage()}finally{this.closeModeration(),t()}},async deleteMessage(e,t){await this.moderationWrapper((()=>this.$api.liveChat.deleteLiveMessage(e.liveMessageUid)),t)},async banFromStream(e,t){await this.moderationWrapper((()=>this.$api.liveChat.muteViewer(e.fromUserUid)),t)},async blockUser(e,t){await this.moderationWrapper((()=>this.$api.block.blockUser(e.fromUserUid,e.streamUid)),t)},openModeration(e){const t=this.$isDesktop?this.$modal:this.$drawer,s=this.$isDesktop?()=>Promise.resolve().then(i.bind(null,2145)):()=>Promise.resolve().then(i.bind(null,2001));t.open({component:s,meta:{name:"LiveModeration"},canCancel:["outside","x"],parent:this,props:{message:e,showBan:e.fromUserUid!==this.streamerUid,showBlock:e.fromUserUid!==this.streamerUid},events:{deleteMessage:t=>this.deleteMessage(e,t),banFromStream:t=>this.banFromStream(e,t),blockUser:t=>this.blockUser(e,t)}})},closeModeration(){(this.$isDesktop?this.$modal:this.$drawer).close((e=>{let{meta:{name:t}}=e;return"LiveModeration"===t}))}}},r=a,o=i(0),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{ref:"liveChatMessages",staticClass:"live-chat__messages relative flex flex-col transition-applied",class:{"live-chat__messages--opened":e.isMessagesOpened}},[e.showCollapseButton&&!e.$isDesktop?t("a",{staticClass:"m-2 live-chat__messages-trigger opacity-60",on:{click:function(t){return e.toggleMessageList()}}},[t("sx-icon",{class:{"live-chat__messages-trigger--rotate":e.isMessagesOpened},attrs:{height:"24",name:"ChatShow",title:"ShowChat"}})],1):e._e(),e._v(" "),t("div",{ref:"messagesContainer",staticClass:"live-chat__messages-container h-full relative overflow-hidden flex flex-col-reverse justify-start mt-auto"},e._l(e.messages,(function(i,s){return t("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t=>e.visibilityChanged(t,s),intersection:{threshold:1}},expression:"{\n        callback: (isVisible) => visibilityChanged(isVisible, i),\n        intersection: { threshold: 1 },\n      }"}],key:"item-".concat(s,"}"),class:{"live-chat__message-item--hidden":s===e.lastVisibleIndex+1}},[t("div",{staticClass:"live-chat__message-item",class:{"live-chat__message-item--tip":"tip"===i.type}},[e.$isDesktop?t("sxc-avatar",{staticClass:"mt-2",attrs:{name:i.fromUser.profile.displayName,avatar:i.fromUser.profile.avatar,size:30}}):e._e(),e._v(" "),t("div",{staticClass:"live-chat__message-text",class:{"live-chat__message-text--creator":i.fromUserUid===e.streamerUid},on:e._d({},[e.moderateEvent,function(t){return e.openModeration(i)}])},[t("div",{staticClass:"live-chat__message-user"},["chat"===i.type?t("a",{staticClass:"opacity-60"},[e._v("\n              "+e._s(i.fromUser.profile.displayName)+"\n            ")]):e._e(),e._v(" "),"tip"===i.type?[t("div",{staticClass:"whitespace-pre-line break-normal"},[t("p",[e._v(" "+e._s(e.getTipMessage(i))+" ")]),t("span",[e._v(e._s(i.content))])])]:[t("div",{staticClass:"break-normal"},[e._v("\n                "+e._s(i.content)+"\n              ")])]],2)])],1)])})),0)])}),[],!1,null,null,null);t.default=l.exports},2032:function(e,t,i){"use strict";i.r(t);var s={props:{updating:Boolean,tipItems:{type:Array,required:!0},modes:{type:Object,required:!0},isLive:Boolean},data(){return{currentMode:this.modes.main,tipMenuEnabledInternal:this.$store.getters["user/getTipMenu"].tipMenuEnabled,requestPending:!1,selectedItem:{}}},computed:{mainMode(){return this.currentMode===this.modes.main},descriptionMode(){return this.currentMode===this.modes.description},addItemMode(){return this.currentMode===this.modes.add},editItemMode(){return this.currentMode===this.modes.edit},tipMenuEnabled:{get(){return this.$store.getters["user/getTipMenu"].tipMenuEnabled},async set(e){try{this.requestPending=!0;const{user:t}=await this.$api.users.updateSettings({tipMenuEnabled:e});await this.$store.dispatch("user/updateUserSettings",t.settings)}catch(t){this.$refs.tipMenu.menuStatus=this.tipMenuEnabled,this.$showErrorMessage(t.localizedMessage)}finally{this.requestPending=!1}}},tipMenuActiveStatus(){return this.requestPending?this.tipMenuEnabledInternal:this.tipMenuEnabled},tipMenuDescription(){return this.$store.getters["user/getTipMenu"].tipMenuDescription||""}},methods:{async toggleMenu(){this.tipMenuEnabled=!this.tipMenuEnabled},clearDescription(){this.$refs.tipMenuDescription.clear()},hasUnsavedChanges(){const e=this.$refs.tipMenuItem||this.$refs.tipMenuDescription;return!!e&&e.hasUnsavedChanges()},deleteNewItem(){this.$refs.tipMenuItem.reset()},onEdit(e){this.editItemUid=e,this.selectedItem=this.tipItems.find((t=>{let{tipMenuItemUid:i}=t;return i===e})),this.switchMode(this.modes.edit)},async deleteExistingItem(){try{this.requestPending=!0,await this.$api.tipMenuItems.deleteTipMenuItem(this.editItemUid),this.$emit("update"),await this.switchMode(this.modes.main),this.$showSuccessMessage(this.$t("live.tip_menu_item_deleted"))}catch(e){this.$showErrorMessage(e.localizedMessage)}finally{this.requestPending=!1}},async switchMode(e,t){if(t&&this.hasUnsavedChanges()){const{status:e}=await this.$discardChangesModal();if("confirmed"!==e)return}this.currentMode=e,this.$emit("switch",e)},onUpdate(){this.$emit("update"),this.switchMode(this.modes.main)}}},n=s,a=i(0),r=Object(a.a)(n,(function(){var e=this,t=e._self._c;return e.mainMode?t("sxc-tip-menu-list",{ref:"tipMenu",attrs:{"tip-items":e.tipItems,active:e.tipMenuEnabled,updating:e.updating,disabled:e.requestPending},on:{"menu-toggle":e.toggleMenu,"to-description":function(t){return e.switchMode(e.modes.description)},"edit-item":e.onEdit}}):e.descriptionMode?t("sxc-tip-menu-description",{ref:"tipMenuDescription",attrs:{description:e.tipMenuDescription,"is-live":e.isLive},on:{update:function(t){return e.switchMode(e.modes.main)}}}):e.addItemMode?t("sxc-tip-menu-item",{ref:"tipMenuItem",on:{update:e.onUpdate}}):e.editItemMode?t("sxc-tip-menu-item",{ref:"tipMenuItem",attrs:{disabled:e.requestPending,item:e.selectedItem,"is-live":e.isLive},on:{update:e.onUpdate}}):e._e()}),[],!1,null,null,null);t.default=r.exports},2033:function(e,t,i){"use strict";i.r(t);var s={props:{description:{type:String,default:""},isLive:Boolean},data(){return{descriptionValue:this.description}},methods:{onSubmit(){return this.$api.users.updateSettings({tipMenuDescription:this.descriptionValue})},async onSuccess(e){let{user:t}=e;await this.$store.dispatch("user/updateUserSettings",t.settings),this.$emit("update")},onError(e){this.$showErrorMessage(e.localizedMessage)},clear(){this.descriptionValue=""},hasUnsavedChanges(){return this.descriptionValue!==this.description}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full w-full px-3.75 pt-2.5"},[t("sxc-form-container",{ref:"descriptionForm",attrs:{"force-submit":"","on-submit":e.onSubmit,name:"descriptionForm"},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:"description",rules:"max:140",mode:"aggressive",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:n}=i;return[t("sx-form-field",{attrs:{error:n[0],tiny:""}},[t("sx-input",{staticClass:"min-h-20",attrs:{readonly:s.submitting||e.isLive,disabled:e.isLive,type:"textarea",resizable:""},model:{value:e.descriptionValue,callback:function(t){e.descriptionValue=t},expression:"descriptionValue"}})],1)]}}],null,!0)}),e._v(" "),t("sx-form-field",{attrs:{actions:"",center:""}},[t("sx-button",{attrs:{size:"R",loading:s.submitting,disabled:e.isLive},on:{click:function(t){return t.preventDefault(),e.$refs.descriptionForm.submit()}}},[t("span",{staticClass:"font-medium text-lg"},[e._v(e._s(e.$t("global.save")))])])],1)]}}])})],1)}),[],!1,null,null,null);t.default=a.exports},2034:function(e,t,i){"use strict";i.r(t);var s={props:{item:{type:Object,default:()=>({})},isLive:Boolean,disabled:Boolean},data(){return{price:this.item.price,title:this.item.itemName}},methods:{onSubmit(){if(this.item.tipMenuItemUid){const e={price:this.price,...!this.isLive&&{itemName:this.title}};return this.$api.tipMenuItems.updateTipMenuItem(this.item.tipMenuItemUid,e)}return this.$api.tipMenuItems.addTipMenuItem(this.title,this.price)},onSuccess(){this.$emit("update")},onError(e){this.$showErrorMessage(e.localizedMessage)},reset(){this.price=null,this.title="",this.$refs.addItemForm.reset()},hasUnsavedChanges(){return this.item.tipMenuItemUid?this.item.price!==this.price||this.item.itemName!==this.title:this.$refs.addItemForm.$refs.form.flags.changed}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full w-full px-3.75 pt-2.5"},[t("sxc-form-container",{ref:"addItemForm",attrs:{name:"addItemForm","force-submit":"","on-submit":e.onSubmit},on:{onSuccess:e.onSuccess,onError:e.onError},scopedSlots:e._u([{key:"default",fn:function(i){let{formInfo:s}=i;return[t("ValidationProvider",{attrs:{name:e.$t("global.title_label").toLowerCase(),rules:"required|max:70",mode:"aggressive",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:n}=i;return[t("sx-form-field",{attrs:{error:n[0],label:e.$t("global.title_label"),tiny:""}},[t("sx-input",{attrs:{readonly:s.submitting||e.disabled||e.isLive,disabled:e.isLive,placeholder:"".concat(e.$t("global.add_title_placeholder"),"...")},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)]}}],null,!0)}),e._v(" "),t("ValidationProvider",{ref:"tipValue",attrs:{mode:"aggressive",slim:"",name:e.$t("media_info_form.price_label").toLowerCase(),"custom-messages":{regex:e.$t("tip_form.amount_validation_regex")},rules:{required:!0,tip_between:[3,500],regex:/^\d*[0-9](?:\.[0-9]{1,2})?$/}},scopedSlots:e._u([{key:"default",fn:function(i){let{errors:n}=i;return[t("sx-form-field",{attrs:{error:n[0],label:e.$t("media_info_form.price_label")},scopedSlots:e._u([{key:"helper",fn:function(){return[t("div",{staticClass:"flex pt-1.25 w-full justify-between"},[e._v("\n            "+e._s(e.$t("live.tip_menu_item_price_hint"))+"\n          ")])]},proxy:!0}],null,!0)},[t("sx-input",{attrs:{readonly:s.submitting||e.disabled,type:"number",min:"0","data-cy-id":"menu-item-price-input",placeholder:"".concat(e.$t("global.add_price_placeholder"),"..."),step:".01",prepend:"$"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1)]}}],null,!0)}),e._v(" "),t("sx-form-field",{attrs:{actions:"",center:""}},[t("sx-button",{attrs:{size:"R",loading:s.submitting||e.disabled},on:{click:function(t){return t.preventDefault(),e.$refs.addItemForm.submit()}}},[t("span",{staticClass:"font-medium text-lg"},[e._v(e._s(e.$t("global.save")))])])],1)]}}])})],1)}),[],!1,null,null,null);t.default=a.exports},2035:function(e,t,i){"use strict";i.r(t);var s={props:{tipItems:{type:Array,required:!0},active:Boolean,disabled:Boolean,updating:Boolean},data(){return{menuStatus:this.active}},watch:{active(e){this.menuStatus=e}},methods:{onItemClick(e){this.$emit("edit-item",e)},onMenuStatusChange(e){this.menuStatus=e,this.$emit("menu-toggle")}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full w-full"},[t("div",{staticClass:"flex flex-row justify-between py-3 px-5 border-b border-divider bg-foreground"},[t("div",{staticClass:"flex flex-grow flex-col font-semibold text-base"},[e._v("\n      "+e._s(e.$t("global.active"))+"\n    ")]),e._v(" "),t("sx-switch",{attrs:{value:e.menuStatus,disabled:e.disabled,color:"green"},on:{change:e.onMenuStatusChange}})],1),e._v(" "),t("div",{staticClass:"flex flex-row justify-between py-3 px-5 border-b border-divider bg-foreground cursor-pointer",on:{click:function(t){return e.$emit("to-description")}}},[t("div",{staticClass:"flex flex-grow flex-col font-semibold text-base"},[e._v("\n      "+e._s(e.$t("app_titles.tip_menu_description"))+"\n    ")]),e._v(" "),t("sx-icon",{staticClass:"self-center",attrs:{name:"arrow-right",height:"18"}})],1),e._v(" "),e.updating?t("div",{staticClass:"h-full w-full absolute flex items-center justify-center"},[t("sx-spinner",{attrs:{color:e.$theme.dark?"default":"inverted"}})],1):e._l(e.tipItems,(function(i){return t("sxc-tip-menu-list-item",{key:i.tipMenuItemUid,attrs:{title:i.itemName,price:i.price},nativeOn:{click:function(t){return e.onItemClick(i.tipMenuItemUid)}}})}))],2)}),[],!1,null,null,null);t.default=a.exports},2036:function(e,t,i){"use strict";i.r(t);var s={props:{title:{type:String,required:!0},price:{type:Number,required:!0}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-row justify-between py-3 px-5 border-b border-divider cursor-pointer"},[t("div",{staticClass:"flex-grow font-medium text-base truncate mr-2.5"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),t("div",{staticClass:"flex"},[t("span",{staticClass:"mr-4 text-secondary font-normal"},[e._v("\n      $"+e._s(e.price)+"\n    ")]),e._v(" "),t("sx-icon",{staticClass:"self-center",attrs:{name:"arrow-right",height:"18"}})],1)])}),[],!1,null,null,null);t.default=a.exports},2037:function(e,t,i){"use strict";i.r(t);var s={props:{canMoveLeft:{type:Boolean,default:!1},canMoveRight:{type:Boolean,default:!1},pinned:{type:Boolean,default:!1},canBePinned:{type:Boolean,default:!0}}},n=(i(1530),i(0)),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"absolute z-20 top-0 w-full p-2 picture-overlay-buttons"},[t("sx-button",{directives:[{name:"show",rawName:"v-show",value:e.canMoveLeft,expression:"canMoveLeft"}],staticClass:"left-arrow",attrs:{icon:"",size:"S",color:"shadowed"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("move-backward")}}},[t("sx-icon",{attrs:{name:"ArrowLeftAlt",color:"white",height:"20"}})],1),e._v(" "),t("sx-button",{directives:[{name:"show",rawName:"v-show",value:e.canBePinned,expression:"canBePinned"}],staticClass:"pin",attrs:{icon:"",size:"S",rounded:"",ghost:!e.pinned,color:"white"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("toggle-pin")}}},[t("sx-icon",{attrs:{name:"Pin",color:e.pinned?"c-secondary":"white",height:"20"}})],1),e._v(" "),t("sx-button",{directives:[{name:"show",rawName:"v-show",value:e.canMoveRight,expression:"canMoveRight"}],staticClass:"right-arrow",attrs:{icon:"",size:"S",color:"shadowed"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("move-forward")}}},[t("sx-icon",{attrs:{name:"ArrowRightAlt",color:"white",height:"20"}})],1)],1)}),[],!1,null,"534ba6eb",null);t.default=a.exports},2038:function(e,t,i){"use strict";i.r(t);var s={props:{showShopLink:{type:Boolean,default:!1},avatar:{type:Object,default:null}},computed:{paywallClass(){return this.showShopLink?"col-span-2":"col-span-3"}}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid grid-cols-3 gap-0.5"},[e.showShopLink?t("div",[t("sxc-shop-link-square",{attrs:{avatar:e.avatar},nativeOn:{click:function(t){return e.$emit("open-shop")}}})],1):e._e(),e._v(" "),t("div",{staticClass:"w-full h-full flex flex-col items-center",class:e.paywallClass},[t("sx-icon",{staticClass:"mt-6",attrs:{name:"lock",height:"42"}}),e._v(" "),t("sx-button",{staticClass:"mt-4",attrs:{color:"neutral"},on:{click:function(t){return e.$emit("subscribe")}}},[e._v("\n      "+e._s(e.$t("creator.paywall_subscribe_label"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=a.exports},2141:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this;return(0,e._self._c)("sxc-page-banner",{staticClass:"bg-red text-white",attrs:{"data-cy-id":"not-activated-banner",link:e.$t("global.learn_why"),to:"/creators#how-much-content-do-i-need-before-i-can-activate-my-account"}},[e._v("\n  "+e._s(e.$t("global.profile_not_activated"))+"\n")])}),[],!1,null,null,null);t.default=n.exports},2142:function(e,t,i){"use strict";i.r(t);i(1455);var s=i(0),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("sx-button",{staticClass:"custom",on:{click:function(t){return e.$emit("click",t)}}},[e._v("\n  ✨"),t("span",{staticClass:"px-2"},[e._v(e._s(e.$t("live.tip_menu_btn")))]),e._v("✨\n")])}),[],!1,null,"370ddfbd",null);t.default=n.exports},2143:function(e,t,i){"use strict";i.r(t);i(1467);var s=i(0),n=Object(s.a)({},(function(e,t){return t._m(0)}),[function(e,t){return e("div",{staticClass:"flex flex-col items-start placeholder-container py-2 my-1"},[e("div",{staticClass:"flex flex-row mb-8"},[e("div",{staticClass:"placeholder-item h-8 w-8 rounded-full"}),t._v(" "),e("div",{staticClass:"placeholder-item ml-2 h-12 w-20 rounded-lg"})]),t._v(" "),e("div",{staticClass:"flex flex-row mb-8"},[e("div",{staticClass:"placeholder-item h-8 w-8 rounded-full"}),t._v(" "),e("div",{staticClass:"placeholder-item ml-2 h-12 w-40 rounded-lg"})]),t._v(" "),e("div",{staticClass:"ml-10 flex flex-row"},[e("div",{staticClass:"placeholder-item h-5 w-5 rounded-full"}),t._v(" "),e("div",{staticClass:"placeholder-item ml-2 h-12 w-20 rounded-lg"})])])}],!0,null,"9ed06ab4",null);t.default=n.exports},2144:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"absolute inset-0 bg-black pt-10"},[e("div",{staticClass:"w-full h-full flex justify-center"},[e("sxc-logo",{attrs:{size:18}})],1)])}),[],!1,null,null,null);t.default=n.exports},2145:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{"no-padding":""}},[t("sxc-live-moderation",e._g(e._b({},"sxc-live-moderation",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null);t.default=n.exports},2146:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"z-20 h-full absolute inset-x-0 bottom-0 flex flex-col items-center justify-center"},[t("sx-icon",{staticClass:"text-white opacity-60",attrs:{name:"VideoCameraOff",height:"82"}}),e._v(" "),t("span",{staticClass:"text-white opacity-60 mt-2 text-center",domProps:{innerHTML:e._s(e.$t("live.enable_camera_txt"))}})],1)}),[],!1,null,null,null);t.default=n.exports},2147:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(e,t){return e("div",{staticClass:"placeholder-container placeholder-item relative pb-media-4/3"})}),[],!0,null,null,null);t.default=n.exports},2148:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"w-full h-full flex items-center justify-center text-center"},[e("sx-icon",{staticClass:"text-white",attrs:{name:"LockNew",height:"50"}})],1)}),[],!1,null,null,null);t.default=n.exports},2149:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(e,t){return t._m(0)}),[function(e,t){return e("div",{staticClass:"placeholder-container h-full w-full"},[e("div",{staticClass:"pt-full relative"},[e("div",{staticClass:"absolute top-0 w-full h-full rounded-full bg-foreground"})]),t._v(" "),e("div",{staticClass:"w-full text-base text-center truncate mt-2 bg-foreground rounded"},[t._v("\n     \n  ")])])}],!0,null,null,null);t.default=n.exports},2150:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("sx-modal-card",[t("div",{staticClass:"flex items-center justify-center flex-col text-center sx-select"},[e._v("\n    "+e._s(e.$t("tree_domain.progress_modal_title"))+"\n    "),t("sx-spinner",{staticStyle:{"margin-top":"40px"},attrs:{size:100,color:"inversed"}})],1)])}),[],!1,null,null,null);t.default=n.exports},2151:function(e,t,i){"use strict";i.r(t);var s=i(0),n=Object(s.a)({},(function(e,t){return t._m(0)}),[function(e,t){return e("div",{staticClass:"flex items-center placeholder-container"},[e("div",{staticClass:"placeholder-item rounded-full w-12 h-12"}),t._v(" "),e("div",{staticClass:"placeholder-item h-6 w-40 ml-2"})])}],!0,null,null,null);t.default=n.exports},988:function(e,t,i){"use strict";i.r(t);var s={computed:{title(){return"".concat(this.$t("edit_profile.congratulations")," 🎉")}},mounted(){this.$api.users.markActivatedModalAsSeen().catch((e=>this.$showErrorMessage(e.localizedMessage)))}},n=i(0),a=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("sx-modal-card",{attrs:{title:e.title}},[t("p",{staticClass:"block text-center mb-4",attrs:{"data-cy-id":"activated-modal"}},[e._v("\n    "+e._s(e.$t("edit_profile.profile_activated"))+"\n  ")]),e._v(" "),t("div",{staticClass:"flex justify-center"},[t("sx-button",{staticClass:"ml-5",attrs:{size:"R",color:"c-primary","data-cy-id":"close-button"},on:{click:function(t){return e.$emit("close")}}},[e._v("\n      "+e._s(e.$t("global.ok"))+"\n    ")])],1)])}),[],!1,null,null,null);t.default=a.exports}}]);