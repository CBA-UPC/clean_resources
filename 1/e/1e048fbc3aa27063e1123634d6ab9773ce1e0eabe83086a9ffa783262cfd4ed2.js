(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1212:function(t,e,s){"use strict";s.r(e);var n=s(527),a=s(38),c=s(112),o=s(655),i=s(538),r=s(94),m=s(508),l={components:{BaseSpinner:s(516).a,BaseButton:m.a,CommentWysiwyg:BaseRecaptcha:,props:{comment:{type:Object,required:!0}},data(){return{commentContent:Object(c.i)(this.comment.threadId,this.comment.commentId),subscribe:this.$store.state.comments.features.commentForm.subscribe,saving:!1}},computed:{buttonDisabledcaptchaplaceholder(){return"".concat("Odpowiadasz"," ").concat(Object(i.f)(this.comment.user))}},methods:Object.assign({},Object(r.b)("threads",["refreshSubscriptionStatus"]),{async createComment(){try{const t=this.captcha?await this.$refs.captcha.execute():null,{comment:e,on:s}=await Object(a.l)(Object.assign({},this.commentContent,{mentions:this.$refs.wysiwyg.updateMentions(),shortcodes:this.$refs.wysiwyg.updateShortcodes(),subscribe:this.subscribe}),t).finally(Object(o.a)(this,"saving"));this.track("submit_comment","contribution"),this.$emit("create",{comment:e,page:s}),this.$store.commit("threadComments/UPDATE_IN_REPLY_MODE",null),this.refreshSubscriptionStatus(this.comment.threadId)}catch(t){}},track(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"engagement";Object(n.a)().record({category:"comment_reply_form",action:t,label:e})}})},d=l,h=s(45),u=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("section",{class:{"comment-replies":!t.comment.isReply}},[e("div",{staticClass:"comment comment-padding"},[e("div",{staticClass:"comment-head"},[e("CommentWysiwyg",t._b({ref:"wysiwyg",attrs:{disabled:t.saving,placeholder:t.placeholder},scopedSlots:t._u([{key:"action",fn:function(){return[e("BaseButton",{staticClass:"button--toW3-square space--ml-a",attrs:{variant:"primary",mode:"brand",seal:t.saving,disabled:t.buttonDisabled},on:{click:t.createComment}},[t.saving?e("BaseSpinner",{staticClass:"spinner--centered"}):t._e(),e("BaseIcon",{attrs:{name:"send"}}),e("span",{staticClass:"hide--toW3 space--ml-2"},[t._v(t._s("Odpowiedz"))])],1)]},proxy:!0}])},"CommentWysiwyg",t.commentContent,!1,!0)),t.captcha?e("BaseRecaptcha",{ref:"captcha"}):t._e()],1)])])}),[],!1,null,null,null);e.default=u.exports}}]);