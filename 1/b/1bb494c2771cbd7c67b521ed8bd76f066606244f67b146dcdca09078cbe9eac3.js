"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2219],{19514:(e,t,s)=>{s.d(t,{V:()=>F,e:()=>T});var a=s(50959),i=s(29132),r=s(10226),n=s(41657),l=s(11317),o=s(8810),c=s(4612),u=s(82579),d=s(64329),p=s(18050),m=s(12553),h=s(51040),y=s(71459),g=s(94739),v=s(17053),x=s(13734),f=s(50540),j=s(53758),b=s(44724),C=s(52993),k=s(45438),S=s(61058),R=s(23769),E=s(80626),w=s(73928),I=s(74234),A=s(58301),N=s(17676),U=s(11527);function T(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const P=e=>`activation-trigger-mme-${e}`,F=a.memo((function(e){var t,s,F,_,q;let{index:D=-1,showMetadata:L,episode:W,usePlayContextItem:M,status:O,variant:B}=e;const H=(0,A.E)(),V=W.playedState.playPositionMilliseconds,K=W.uri,$=(0,a.useRef)(null),[z,G]=(0,a.useState)(W.playedState.state===w.sY.Completed),X=(0,v.O)(),Q=(0,f.g)(),J=(0,S.jh)(),Z=(0,x.o)(),Y=(0,i.I0)(),{UBIFragment:ee,spec:te,logger:se}=(0,E.fU)(n.createDesktopEpisodeBlockEventFactory,{data:{uri:K,reason:W.requestId||"",position:D}}),ae=(0,E.Wi)(te),{isActive:ie,isPlaying:re,togglePlay:ne}=M({uri:K}),[le]=(0,R.z)(1e4,(e=>{var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===K}));(0,a.useEffect)((()=>{re&&($.current=le)}),[re,le]),(0,a.useEffect)((()=>{!re&&$.current&&W.duration.milliseconds<=$.current&&G(!0)}),[re,W.duration.milliseconds]);const oe=(0,a.useCallback)((e=>{e||($.current=0),G(e)}),[]),ce=e=>{if(e.target!==e.currentTarget)return;const t=`${W.name} • ${L.name}`;X(e,{itemUris:[K],dragLabelText:t,contextUri:L.uri})},ue=T(L),de=(0,j.s)({...W,coverArt:{sources:W.coverArt}},ue),pe=(0,a.useCallback)((()=>{if(W.episodeType===w.Wf.Episode&&H)y.y.set((()=>({triggerId:P(W.uri),triggerAction:null})));else if(Q)de();else{let e;e=re?te.playButtonFactory().hitPause({itemToBePaused:K}):ie?te.playButtonFactory().hitResume({itemToBeResumed:K}):te.playButtonFactory().hitPlay({itemToBePlayed:K});const t=se.logInteraction(e);Z({targetUri:K,intent:re?"pause":"play",type:"click"}),ne({loggingParams:t})}}),[ie,de,Z,ne,K,re,Q,W,H,se,te]),me=(0,a.useCallback)((()=>{se.logInteraction(te.hitUiNavigate({destination:K})),Z({type:"click",targetUri:K,intent:"navigate"})}),[K,Z,se,te]),he=(null===(t=W.podcastSubscription)||void 0===t?void 0:t.isPaywalled)??!1,ye=(null===(s=W.podcastSubscription)||void 0===s?void 0:s.isUserSubscribed)??!1,ge=he&&!ye,ve=he&&Q,{badges:xe}=(0,I.r)({contentRating:null===(F=W.contentRating)||void 0===F?void 0:F.label,isPaywalled:he}),fe=(0,a.useCallback)((()=>Y((0,o.RM)(L.uri))),[L.uri,Y]),je=(0,a.useCallback)((e=>{let t=e;return(ge||ve)&&(t=(0,U.jsx)(h.l,{enabled:!0,showUri:L.uri,children:t})),!W.playability.playable&&xe.nineteen&&(t=(0,U.jsx)("div",{onClick:e=>{e.stopPropagation(),fe()},children:e})),t=(0,U.jsx)(c.D,{id:P(K),targetURI:(0,l.EC)(K),children:t}),t}),[K,ge,ve,L.uri,xe.nineteen,W.playability.playable,fe]),be=(0,r.W6)(N.eli,{loadingValue:!1});return(0,U.jsx)(ee,{spec:te,children:(0,U.jsx)(k.JL,{value:"row",index:D,children:(0,U.jsx)(u._,{onShow:()=>{se.logInteraction(te.secondaryHitUiReveal())},menu:(0,U.jsx)(d.k,{uri:K,showUri:L.uri,sharingInfo:W.sharingInfo,isPlayed:z,onMarkAsPlayed:oe}),children:be?(0,U.jsx)(m.k,{ref:ae,requestId:W.requestId,index:D,uri:K,size:J,images:W.coverArt||[],name:W.name,showName:L.name,description:W.description,isPlayable:W.playability.playable||ge,fullyPlayed:z,durationMs:W.duration.milliseconds,releaseDate:(null===(_=W.releaseDate)||void 0===_?void 0:_.isoString)||"",resumePositionMs:$.current??V,handleDragStart:ce,handlePlaybackClick:pe,handleClick:me,isCurrentlyPlaying:ie,isPaywalled:he,isUserSubscribed:ye,isPlaying:re,position:re?le:void 0,episodeSharingInfo:W.sharingInfo,onMarkAsPlayed:oe,contentInformation:W.contentInformation,showUri:L.uri,mediaTypes:W.mediaTypes??void 0,badges:(0,U.jsxs)(U.Fragment,{children:[xe.explicit&&(0,U.jsx)(b.N,{}),xe.paid&&(0,U.jsx)(g.g,{}),xe.nineteen&&(0,U.jsx)(C.X,{size:16})]}),playButtonWrapper:je,onMoreButtonClick:()=>{se.logInteraction(te.moreButtonFactory().hitUiReveal())},status:O,variant:B}):(0,U.jsx)(p.X,{ref:ae,requestId:W.requestId,index:D,uri:K,size:J,images:W.coverArt||[],name:W.name,showName:L.name,description:W.description,isPlayable:W.playability.playable||ge,fullyPlayed:z,durationMs:W.duration.milliseconds,releaseDate:(null===(q=W.releaseDate)||void 0===q?void 0:q.isoString)||"",resumePositionMs:$.current??V,handleDragStart:ce,handlePlaybackClick:pe,handleClick:me,isCurrentlyPlaying:ie,isPaywalled:he,isUserSubscribed:ye,isPlaying:re,position:re?le:void 0,episodeSharingInfo:W.sharingInfo,onMarkAsPlayed:oe,contentInformation:W.contentInformation,badges:(0,U.jsxs)(U.Fragment,{children:[xe.explicit&&(0,U.jsx)(b.N,{}),xe.paid&&(0,U.jsx)(g.g,{}),xe.nineteen&&(0,U.jsx)(C.X,{size:16})]}),playButtonWrapper:je,onMoreButtonClick:()=>{se.logInteraction(te.moreButtonFactory().hitUiReveal())},showUri:L.uri,mediaTypes:W.mediaTypes??void 0,status:O,variant:B})})})})}))},86293:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ri});s(46758),s(45205);var a=s(50959),i=s(82187),r=s.n(i),n=s(29132),l=s(75802),o=s(55530),c=s.n(o),u=s(10226),d=s(75095),p=s(85648),m=s(24071),h=s(73582),y=s(41310),g=s(80626),v=(s(86277),s(36255)),x=s(76578),f=s(45438),j=s(17814),b=s(11527);const C=()=>{const{searchHistory:e,clearSearchHistory:t}=(0,j.u)();return 0===e.length?null:(0,b.jsx)(v.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:p.ag.get("search.title.recent-searches"),children:e.map(((e,s)=>(0,b.jsx)(f.JL,{index:s,value:"search-history",children:(0,b.jsx)(x.q,{entity:e,index:s,clearSearchHistory:t})},e.uri)))})},k="CCi1L2OQvgdZvxkRHeKE",S=()=>{const{spec:e,UBIFragment:t}=(0,g.fU)(h.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:s,browseAllSpec:i}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,b.jsxs)("div",{className:k,children:[(0,b.jsx)(t,{spec:s,children:(0,b.jsx)(C,{})}),(0,b.jsx)(y.T,{browseAllSpec:i})]})};var R=s(75383),E=s(96537),w=s(8818),I=s(60046);s(70054);const A=(0,a.createContext)(null),N=A.Provider;function U(){const e=(0,a.useContext)(A);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var T=s(17676),P=s(36724);const F="fVB_YDdnaDlztX7CcWTA",_="e179_Eg8r7Ub6yjjxctr",q="VIeVCUUETJyYPCDpsBif",D="ZWI7JsjzJaR_G8Hy4W6J",L=e=>{let{to:t,title:s,selected:a,onClick:i}=e;return(0,b.jsx)(I.default,{replace:!0,to:t,tabIndex:-1,onClick:i,className:D,children:(0,b.jsx)(R.A,{selected:a,selectedColorSet:"invertedLight",tabIndex:-1,children:s})})},W=e=>{let{searchCategories:t,selectedCategory:s,displayChips:a}=e;const i=(0,u.W6)(T.Dzq),{query:n}=U(),{spec:l,logger:o}=(0,g.fU)(E.createDesktopSearchChipsEventFactory,{});if(!n||!a)return null;const c=encodeURIComponent(n);return(0,b.jsx)("div",{className:F,children:(0,b.jsx)("div",{className:r()(_,"contentSpacing"),children:(0,b.jsx)("div",{className:q,children:(0,b.jsxs)(w.l,{children:[!i&&t.length>0&&(0,b.jsx)(L,{to:`spotify:app:search:${c}`,title:p.ag.get("search.title.all"),selected:void 0===s,onClick:()=>{o.logInteraction(l.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${c}`}))}},"all"),t.map(((e,t)=>{var a;const i=(null===(a=P.Wm[e])||void 0===a?void 0:a.call(P.Wm))??"";return(0,b.jsx)(L,{to:`spotify:app:search:${c}:${e}`,title:i,selected:s===e,onClick:()=>{o.logInteraction(l.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:`spotify:app:search:${c}:${e}`}))}},e)}))]})})})})};s(58465),s(2836),s(92372),s(70069),s(44227),s(91499),s(68856),s(18004),s(16527);var M=s(1142),O=s(48948),B=s(51450),H=s(73928),V=s(82857),K=s(95504);const $={[H.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[H.xN.Episodes]:["episodes","podcastAndEpisodes"],[H.xN.TopResults]:["topResults","topResults"],[H.xN.Artists]:["artists","artists"],[H.xN.Albums]:["albums","albums"],[H.xN.Playlists]:["playlists","playlists"],[H.xN.Tracks]:["tracks","tracks"],[H.xN.Audiobooks]:["audiobooks","audiobooks"],[H.xN.Genres]:["genres","genres"],[H.xN.Users]:["users","users"]};var z=s(9443),G=s(38174),X=s(13188),Q=s(65441),J=s(963);const Z={albums:d.Wg.SEARCH_ALBUMS,artists:d.Wg.SEARCH_ARTISTS,episodes:d.Wg.SEARCH_EPISODES,genres:d.Wg.SEARCH_GENRES,playlists:d.Wg.SEARCH_PLAYLISTS,podcasts:d.Wg.SEARCH_SHOWS,audiobooks:d.Wg.SEARCH_AUDIOBOOKS,tracks:d.Wg.SEARCH_SONGS,users:d.Wg.SEARCH_PROFILES,podcastAndEpisodes:d.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:d.Wg.SEARCH};function Y(e){let{children:t}=e;const{query:s="",category:a=""}=(0,l.UO)();return(0,b.jsx)(J.K,{pageId:Z[a],entityUri:`spotify:app:search:${s}:${a}`,children:t})}function ee(e){let{children:t}=e;const{query:s}=(0,l.UO)();return(0,b.jsx)(J.K,{pageId:d.Wg.SEARCH,entityUri:`spotify:app:search:${s}`,children:t})}var te=s(40401),se=s(66105),ae=s(11317),ie=s(53502),re=s(36275),ne=s(69736),le=s(43286),oe=s(52581);const ce="hngqMWKjlLOEcuxpoHz9",ue="WjLSNZPxuT0Zuw42kxSM",de="zFOvsuNQpwehjH2VoiLL",pe="zeGt0Z2HCYRvd6ziu_t9",me=e=>{let{forChip:t}=e;const{query:s,serpId:a}=U(),i=!(0,z.k)(),r=`/search/${s}`,n=(0,ae.ix)(s).toURI(),{spec:l,logger:o}=(0,g.fU)(oe.createDesktopSearchEmptyResultsEventFactory,{data:{uri:n,reason:a}}),c=(0,g.Wi)(l);return(0,b.jsxs)("div",{className:ce,"aria-live":"polite",ref:c,children:[(0,b.jsx)(ne.x,{as:"h1",variant:"titleSmall",className:ue,children:t?p.ag.get("search.empty-results-title-for-chip",s,t):p.ag.get("search.empty-results-title",s)}),(0,b.jsx)("p",{className:de,children:i?p.ag.get("web-player.search-modal.offline"):p.ag.get("search.empty-results-text")}),t&&(0,b.jsx)(re.rU,{to:r,children:(0,b.jsx)(le.D,{colorSet:"invertedLight",className:pe,onClick:()=>{o.logInteraction(l.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:p.ag.get("search.see-all")})})]})};var he=s(3052);const ye={results:null,isError:!1,isFetchMoreError:!1},ge=(e,t)=>{const s=(0,he.t)(),i=(0,a.useRef)(null),r=(0,a.useRef)(0),[n,l]=(0,a.useState)(ye),o=(0,a.useCallback)((async function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!s())return;a&&(r.current=0,i.current=null);let n=e;if(null!==i.current){if(r.current>=i.current)return;r.current+n>i.current&&(n=i.current-r.current)}try{const e=await t(r.current,n);r.current+=n,i.current=e.totalCount||0,s()&&l((t=>({isError:!1,isFetchMoreError:!1,results:(a||null===t.results?[]:t.results).concat(e.items)})))}catch(o){s()&&l((e=>{const t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}}))}}),[e,t,s]);return(0,a.useEffect)((()=>{o(!0)}),[o]),{results:n.results,isError:n.isError,fetchData:o,totalCountRef:i}};var ve=s(70526),xe=s(92532),fe=s(16972),je=s(57562),be=s(22795),Ce=s(13734);const ke=a.memo((function(e){let{uri:t,size:s=je.q.md,className:i,onClick:r,showUpsell:n}=e;const[l,o]=(0,be.Z)(t),c=(0,Ce.o)(),u=(0,a.useCallback)((()=>{c({targetUri:t,intent:"add-to-library",type:"click"}),o(!0)}),[c,t,o]);return(0,b.jsx)(je.o,{className:i,isFollowing:l,onFollow:u,onClick:r,uri:t,size:s,showUpsell:n})})),Se="RTP39YFgFAoVSlly6vCF",Re="QT1jLaHHvO5g2YQor2Fw",Ee="wArYyZVjFviopRvRFV8t",we="kRDD8AcqeOf5UDjOSQ8j",Ie="XN4TCZATPrKkEMngUtFc",Ae="VYaCpehPPhmTYPRxMBub",Ne="abMqJCpsuShBo0DaZ7IY",Ue="ON88h0KYGqXMdOfsqot8",Te="BHFMWOZUKxElyq1Ffc_S",Pe="EyH4QLenIbFw0x8r83eK",Fe="JA9jP30dm3GJikfs7vBn",_e="xKl_2100SG4svBvzZ8Xv",qe="leel3U31UlOaYhKp6FgQ",De="FxqpfDsISPKNu1XFExOg",Le="kE234isNxJ9XiTT8QoJL",We="KcOp4A5HBQ4EPH0IDRxg",Me="oODk_3Glvh7wotUlk4ov";var Oe=s(64222);const Be=e=>{let{uri:t,spec:s}=e;const i=(0,g.$P)(),r=(0,a.useCallback)(((e,a)=>{(0,Oe.l7)(a,s.downloadButtonFactory(),i,t)}),[i,s,t]);return(0,b.jsx)(ke,{className:we,uri:t,size:je.q.xs,showUpsell:!1,onClick:r})};var He=s(93421),Ve=s(11401);const Ke=e=>{let{shape:t=He.K.ROUNDED_CORNERS,type:s,name:a,images:i}=e;return(0,b.jsx)(He.O,{shape:t,size:Ve.m$.SIZE_64,images:i,type:s,title:a})};var $e=s(97013),ze=s(20580);const Ge=(0,a.createContext)((()=>{})),Xe=e=>{let{menu:t,name:s,spec:i}=e;const r=(0,g.$P)(),n=(0,a.useContext)(Ge),l=(0,a.useCallback)((()=>{r.logInteraction(i.contextButtonFactory().hitUiReveal()),n(!0)}),[r,n,i]),o=(0,a.useCallback)((()=>{n(!1)}),[n]);return(0,b.jsx)(ze.yj,{menu:t,onShow:l,onHide:o,children:(0,b.jsx)($e.z,{className:Ie,size:$e.q.sm,label:p.ag.get("more.label.context",s)})})};var Qe=s(12618);const Je=e=>{let{name:t,uri:s,spec:i}=e;const r=(0,g.$P)(),n=(0,a.useCallback)((()=>{r.logInteraction(i.titleLinkFactory({uri:s}).hitUiNavigate({destination:s}))}),[r,i,s]);return(0,b.jsx)(Qe.ws,{label:t,showDelay:Qe.gQ,children:(0,b.jsx)(I.default,{to:s,className:Te,onClick:n,children:(0,b.jsx)(ne.x,{variant:"bodyMediumBold",semanticColor:"textBase",className:Pe,children:t})})})};var Ze=s(70959),Ye=s(49857),et=s(43316),tt=s(62023),st=s(81995),at=s(22527);const it=a.forwardRef((function(e,t){let{children:s,isLocked:a=!1,uri:i,playAriaLabel:n,spec:l}=e;const o=(0,g.$P)(),{isPlaying:c,isActive:u,togglePlay:d}=(0,at.n)({uri:i},{featureIdentifier:"search"}),p=(0,Ye.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),a)o.logInteraction(l.playbackButtonFactory().hitShowPaywall({paywalledItem:i}));else{const e=(0,Oe.aK)({isPlaying:c,isActive:u,spec:l.playbackButtonFactory(),logger:o,uri:i});d({loggingParams:e})}}),st.s_,{leading:!0,trailing:!1});return(0,b.jsxs)("div",{className:r()(Fe),children:[c?(0,b.jsx)(tt.q,{className:Ne,animated:!0}):s,(0,b.jsx)(et.I,{className:Ae,iconClassName:We,onClick:p,isPlaying:c,isLocked:a,playAriaLabel:n,ref:t})]})}));var rt=s(61058);const nt="kwJGggri7IZMFvQEClUf",lt="yt0QcQy0t7LfbeVaEJG_",ot="WHMDRepGVQXXrTx3838g",ct="wLoqasagmgNF8ULGMhil",ut="cpC_03FZN3i93V8j3g0l",dt="S7CXd4i9huhWL_kPV_e3",pt="c85eTWJAYaGjCiwH1WDu",mt="cTTgGuDbNSWllHjVqiUx",ht=e=>{let{className:t,leading:s,media:a,pretitle:i,title:n,subtitle:l,body:o,footer:c,trailing:u,onContextMenu:d,onTouchStart:p,onTouchEnd:m,onDragStart:h,onDoubleClick:y}=e;const g=(0,rt.jh)();return(0,b.jsxs)("div",{className:r()(t,nt),onContextMenu:d,onTouchStart:p,onTouchEnd:m,draggable:!0,onDragStart:h,onDoubleClick:y,children:[s?(0,b.jsx)("div",{className:lt,children:s}):null,a?(0,b.jsx)("div",{className:ot,children:a}):null,(0,b.jsxs)("div",{className:ct,children:[i?(0,b.jsx)("div",{children:i}):null,n?(0,b.jsx)("div",{className:pt,children:n}):null,l?(0,b.jsx)("div",{className:mt,children:l}):null,o?(0,b.jsx)("div",{children:o}):null,c?(0,b.jsx)("div",{children:c}):null]}),u?(0,b.jsx)("div",{className:r()(ut,{[dt]:g===rt.Uo.MEDIUM}),children:u}):null]})};s(53321);var yt=s(17053);const gt=e=>void 0!==e;const vt=e=>{let{uri:t,destinationUri:s=t,name:i,createdBy:n,menu:l,media:o,leading:c,title:u,subtitle:d,body:p,trailing:m,onClick:h,spec:y}=e;const{isActive:v}=(0,Ze.cR)(t),x=(0,g.$P)(),f=(0,a.useCallback)((()=>{x.logInteraction(y.secondaryHitUiReveal())}),[x,y]),j=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(x.logInteraction(y.hitUiNavigate({destination:s})),h(e))}),[x,h,y,s]),C=function(e,t){if(e!==t)return`?highlight=${e}`}(t,s),k=(0,g.Wi)(y),S=((e,t,s)=>{const i=(0,yt.O)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const r=[t,s].filter(gt).join(" • ");i(a,{itemUris:[e],dragLabelText:r})}),[i,s,t,e])})(t,i,n),[R,E]=(0,a.useState)(!1);return(0,b.jsx)(Ge.Provider,{value:E,children:(0,b.jsx)(ze._P,{menu:l,onShow:f,children:(0,b.jsx)(I.default,{to:s,search:C,tabIndex:-1,onClick:j,className:Se,"data-context-menu-open":R.toString(),ref:k,children:(0,b.jsx)(ht,{leading:c||!0,title:u,subtitle:d,body:p,trailing:m,media:o,className:r()(Re,{[Ue]:v}),onDragStart:S})})})})};s(80378);var xt=s(6056),ft=s(1082);const jt=e=>{let{uri:t,type:s,spec:i}=e;const r=(0,g.$P)(),n=(0,a.useCallback)((e=>{const s=e?i.heartButtonFactory().hitLike({itemToBeLiked:t}):i.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:t});r.logInteraction(s)}),[i,r,t]);return["episode","audiobook"].includes(s)?(0,b.jsx)(xt.w,{uri:t,className:Ee,onClick:n}):(0,b.jsx)(ft.B,{uri:t,className:Ee,onClick:n})};var bt=s(82579),Ct=s(27838),kt=s(75463),St=s(41736),Rt=s(85770);const Et=e=>{let{children:t,uri:s,name:i,index:r,menu:n,spec:l}=e;const o=(0,yt.O)({itemUris:[s],dragLabelText:i}),c=(0,g.$P)(),u=(0,a.useCallback)((()=>{const e=l.subtitleLinkFactory({uri:s,position:r}).hitUiNavigate({destination:s});c.logInteraction(e)}),[r,c,l,s]);return(0,b.jsx)(bt._,{menu:n,children:(0,b.jsx)("span",{children:(0,b.jsx)(Qe.ws,{label:i,showDelay:Qe.gQ,children:(0,b.jsx)(I.default,{draggable:!0,to:s,onDragStart:o,dir:"auto",onClick:u,children:t})})})})},wt=e=>{let{artists:t,spec:s}=e;return t?(0,b.jsx)(b.Fragment,{children:t.map(((e,t)=>{let{uri:a,name:i}=e;return[t>0&&p.ag.getSeparator(),(0,b.jsx)(Et,{name:i,uri:a,index:t,menu:(0,b.jsx)(Ct.m,{uri:a}),spec:s,children:i},a)]}))}):null},It=e=>{let{topics:t=[],spec:s}=e;return 0===t.length?null:(0,b.jsx)(b.Fragment,{children:t.filter(Rt.J).map(((e,t)=>{let{uri:a,title:i}=e;return[t>0&&p.ag.getSeparator(),(0,b.jsx)(Et,{name:i,uri:a,index:t,spec:s,children:i},a)]}))})},At=e=>{let{show:t,spec:s}=e;return(0,b.jsx)(Et,{name:t.name,uri:t.uri,index:0,menu:(0,b.jsx)(kt.M,{uri:t.uri}),spec:s,children:t.name})},Nt=e=>{let{uri:t,name:s,spec:a}=e;return(0,b.jsx)(Et,{name:s,uri:t,index:0,menu:(0,b.jsx)(St.I,{uri:t}),spec:a,children:s})},Ut=a.memo((function(e){let{album:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,year:u,artists:d}=t,m=d[0].name,{spec:h}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:y}=(0,Ze.cR)(n),v=(0,b.jsx)(fe.Y,{uri:n});return(0,b.jsx)(vt,{spec:h,menu:v,uri:n,name:o,createdBy:d.map((e=>e.name)).join(p.ag.getSeparator()),onClick:s,media:(0,b.jsx)(Ke,{type:l,name:o,images:c}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:h,playAriaLabel:y?p.ag.get("pause"):p.ag.get("tracklist.a11y.play",o,m)}),title:(0,b.jsx)(Je,{name:o,uri:n,spec:h}),subtitle:(0,b.jsxs)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:[i&&(0,b.jsx)(ne.x,{className:Le,children:p.ag.get("card.tag.album")}),(0,b.jsx)(ne.x,{className:Le,children:(0,b.jsx)(wt,{artists:d,spec:h})})]}),body:(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",children:u}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Be,{uri:n,spec:h}),(0,b.jsx)(jt,{uri:n,type:"album",spec:h}),(0,b.jsx)(Xe,{menu:v,name:o,spec:h})]})})}));var Tt=s(17866);const Pt=a.memo((function(e){let{artist:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,verified:u}=t,{spec:d}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:m}=(0,Ze.cR)(n),h=(0,b.jsx)(Ct.m,{uri:n});return(0,b.jsx)(vt,{spec:d,menu:h,uri:n,name:o,onClick:s,media:(0,b.jsx)(Ke,{type:l,name:o,images:c}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:d,playAriaLabel:m?p.ag.get("playlist.a11y.play",o):p.ag.get("pause")}),title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Je,{name:o,uri:n,spec:d}),u&&(0,b.jsx)(Tt.S,{iconSize:"small"})]}),subtitle:i&&(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",children:p.ag.get("card.tag.artist")}),trailing:(0,b.jsx)(Xe,{menu:h,name:o,spec:d})})}));var Ft=s(91023),_t=s(43104);const qt=a.memo((function(e){let{book:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,authorName:u,publishDate:d,topics:m}=t,{spec:h}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),y=(0,b.jsx)(Ft.X,{uri:n}),v=m&&m.length>0;return(0,b.jsx)(vt,{spec:h,menu:y,uri:n,name:o,onClick:s,media:(0,b.jsx)(Ke,{type:l,name:o,images:c}),title:(0,b.jsx)(Je,{name:o,uri:n,spec:h}),subtitle:(0,b.jsxs)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:[i&&(0,b.jsx)(ne.x,{className:Le,children:p.ag.get("search.row.subtitle")}),(0,b.jsx)(Qe.ws,{label:u,showDelay:Qe.gQ,children:(0,b.jsx)(ne.x,{className:Le,children:u})})]}),body:(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Le,children:(0,_t.rL)((0,_t.RX)(d.toISOString()))}),v&&(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Le,children:(0,b.jsx)(It,{topics:m,spec:h})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(jt,{uri:n,type:"audiobook",spec:h}),(0,b.jsx)(Xe,{menu:y,name:o,spec:h})]})})}));var Dt=s(6487),Lt=s(28185),Wt=s(64329),Mt=s(44724),Ot=s(52993),Bt=s(23297),Ht=s(42882),Vt=s(37350);const Kt=a.memo((function(e){let{episode:t,onClick:s,index:i,withEntityTag:n=!1}=e;const{requestId:l,uri:o,type:c,name:u,images:d,show:m,release:h,duration:y,isExplicit:v,is19PlusOnly:x,timeLeft:f,mediaType:j}=t,{logger:C,spec:k}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:i,reason:l??"",uri:o}}),{isPlaying:S}=(0,Ze.cR)(o),R=(0,a.useCallback)(((e,t)=>{(0,Oe.l7)(t,k.downloadButtonFactory(),C,o)}),[C,k,o]),E=(0,b.jsx)(Wt.k,{uri:o}),w=(null==j?void 0:j.includes(Ht.$.Video))??!1,I=!(t.podcastSubscription.isPaywalled&&!t.podcastSubscription.isUserSubscribed);return(0,b.jsx)(vt,{spec:k,menu:E,uri:o,name:u,createdBy:(null==m?void 0:m.name)||void 0,onClick:s,media:(0,b.jsx)(Ke,{type:c,name:u,images:d}),leading:(0,b.jsx)(it,{isLocked:!1,uri:o,spec:k,playAriaLabel:S?p.ag.get("pause"):m?p.ag.get("tracklist.a11y.play",u,m.publisher):p.ag.get("playlist.a11y.play",u)}),title:(0,b.jsx)(Je,{name:u,uri:o,spec:k}),subtitle:(0,b.jsxs)(b.Fragment,{children:[w&&(0,b.jsx)(Vt.t,{}),v&&(0,b.jsx)(Mt.N,{}),x&&(0,b.jsx)(Ot.X,{size:16}),(0,b.jsxs)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:[n&&(0,b.jsx)(ne.x,{children:p.ag.get("card.tag.episode")}),m&&(0,b.jsx)(ne.x,{className:Le,children:(0,b.jsx)(At,{show:m,spec:k})})]})]}),body:(0,b.jsxs)(b.Fragment,{children:[h.date&&(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Le,children:(0,_t.rL)((0,_t.RX)(h.date))}),(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:r()(Le,_e),children:f.milliseconds>0?(0,b.jsx)(Bt.n,{durationMs:y.milliseconds}):(0,b.jsxs)(ne.x,{className:qe,children:[p.ag.get("episode.played"),(0,b.jsx)(Dt.N,{size:"small",className:De,"aria-hidden":"true"})]})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Lt.p,{className:we,uri:o,size:Lt.q.xs,showUpsell:!1,onClick:R,canDownload:I}),(0,b.jsx)(jt,{uri:o,type:"episode",spec:k}),(0,b.jsx)(Xe,{menu:E,name:u,spec:k})]})})}));var $t=s(34571);const zt=a.memo((function(e){let{genre:t,onClick:s,index:a}=e;const{requestId:i,uri:r,type:n,name:l,images:o}=t,{spec:c}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:i??"",uri:r}});return(0,b.jsx)(vt,{spec:c,menu:(0,b.jsx)($t.o,{uri:r}),uri:r,name:l,onClick:s,media:(0,b.jsx)(Ke,{type:n,name:l,images:o}),title:(0,b.jsx)(Je,{name:l,uri:r,spec:c})})}));var Gt=s(33981);const Xt=a.memo((function(e){let{playlist:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,owner:u}=t,{spec:d}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:m}=(0,Ze.cR)(n),h=u.displayName?p.ag.get("tracklist.a11y.play",o,u.displayName):p.ag.get("play"),y=(0,b.jsx)(Gt.X,{uri:n});return(0,b.jsx)(vt,{spec:d,menu:y,uri:n,name:o,createdBy:u.displayName??void 0,onClick:s,media:(0,b.jsx)(Ke,{type:l,name:o,images:c}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:d,playAriaLabel:m?p.ag.get("pause"):h}),title:(0,b.jsx)(Je,{name:o,uri:n,spec:d}),subtitle:(0,b.jsxs)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:[i&&(0,b.jsx)(ne.x,{className:Le,children:p.ag.get("card.tag.playlist")}),u.displayName&&(0,b.jsx)(ne.x,{className:Le,children:(0,b.jsx)(Nt,{uri:u.uri,name:p.ag.get("search.playlist-by",u.displayName),spec:d})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Be,{uri:n,spec:d}),(0,b.jsx)(jt,{uri:n,type:"playlist",spec:d}),(0,b.jsx)(Xe,{menu:y,name:o,spec:d})]})})})),Qt=a.memo((function(e){let{show:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:n,uri:l,type:o,name:c,images:u,publisher:d,topics:m}=t,{spec:h}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:n??"",uri:l}}),y=(0,b.jsx)(kt.M,{uri:l});return(0,b.jsx)(vt,{spec:h,menu:y,uri:l,name:c,onClick:s,media:(0,b.jsx)(Ke,{type:o,name:c,images:u}),title:(0,b.jsx)(Je,{name:c,uri:l,spec:h}),subtitle:(0,b.jsxs)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",children:[(0,b.jsxs)("div",{children:[i&&(0,b.jsx)(ne.x,{className:Le,children:p.ag.get("card.tag.show")}),(0,b.jsx)(ne.x,{className:r()(Le),children:d})]}),(0,b.jsx)("div",{children:(0,b.jsx)(ne.x,{className:r()(Le,Me),children:(0,b.jsx)(It,{topics:m,spec:h})})})]}),trailing:(0,b.jsx)(Xe,{menu:y,name:c,spec:h})})}));var Jt=s(86696);const Zt=a.memo((function(e){let{track:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,artists:c,album:u,isExplicit:d,is19PlusOnly:m}=t,h=c[0].name,{spec:y}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:v}=(0,Ze.cR)(n),x=(0,b.jsx)(Jt.$,{uri:n});return(0,b.jsx)(vt,{spec:y,uri:n,destinationUri:(null==u?void 0:u.uri)||void 0,menu:x,name:o,createdBy:c.map((e=>e.name)).join(p.ag.getSeparator()),onClick:s,media:(0,b.jsx)(Ke,{type:l,name:o,images:(null==u?void 0:u.images)||[]}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:y,playAriaLabel:v?p.ag.get("pause"):p.ag.get("tracklist.a11y.play",o,h)}),title:(0,b.jsx)(Je,{name:o,uri:n,spec:y}),subtitle:(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(Mt.N,{}),m&&(0,b.jsx)(Ot.X,{size:16}),(0,b.jsxs)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:[i&&(0,b.jsx)(ne.x,{children:p.ag.get("card.tag.track")}),(0,b.jsx)(ne.x,{className:Le,children:(0,b.jsx)(wt,{artists:c,spec:y})})]})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(jt,{uri:n,type:"track",spec:y}),(0,b.jsx)(Xe,{menu:x,name:o,spec:y})]})})})),Yt=a.memo((function(e){let{user:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c}=t,{spec:u}=(0,g.fU)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),d=(0,b.jsx)(St.I,{uri:n});return(0,b.jsx)(vt,{spec:u,menu:d,uri:n,name:o,onClick:s,media:(0,b.jsx)(Ke,{type:l,name:o,images:c,shape:He.K.CIRCLE}),title:(0,b.jsx)(Je,{name:o,uri:n,spec:u}),subtitle:i&&(0,b.jsx)(ne.x,{variant:"bodySmall",semanticColor:"textSubdued",children:p.ag.get("card.tag.profile")}),trailing:(0,b.jsx)(Xe,{menu:d,name:o,spec:u})})})),es=e=>{let{entity:t,index:s,withEntityTag:i}=e;const{onAddToHistory:r}=U(),n=(0,a.useCallback)((()=>{r(t)}),[t,r]);switch(t.type){case V.p.ALBUM:return(0,b.jsx)(Ut,{album:t,onClick:n,index:s,withEntityTag:i});case V.p.ARTIST:return(0,b.jsx)(Pt,{artist:t,onClick:n,index:s,withEntityTag:i});case V.p.AUDIOBOOK:return(0,b.jsx)(qt,{book:t,onClick:n,index:s,withEntityTag:i});case V.p.EPISODE:return(0,b.jsx)(Kt,{episode:t,onClick:n,index:s,withEntityTag:i});case V.p.GENRE:return(0,b.jsx)(zt,{genre:t,onClick:n,index:s});case V.p.PLAYLIST:return(0,b.jsx)(Xt,{playlist:t,onClick:n,index:s,withEntityTag:i});case V.p.USER:return(0,b.jsx)(Yt,{user:t,onClick:n,index:s,withEntityTag:i});case V.p.SHOW:return(0,b.jsx)(Qt,{show:t,onClick:n,index:s,withEntityTag:i});case V.p.TRACK:return(0,b.jsx)(Zt,{track:t,onClick:n,index:s,withEntityTag:i});case V.p.PRE_RELEASE:return null;default:return(0,ve._)(t),null}};var ts=s(80936),ss=s(19514);const as="FSAE0ABtUCeNRJckpcCH",is="H2PDjUgJNBIH5eWg59M0",rs="vRlEuZATPhZt2l04RVIw",ns="Adlh7XTc3j3pXM3jGgr8",ls=e=>{let{index:t,item:s}=e;const{episode:a,show:i}=s,{usePlayContextItem:r}=(0,at.n)({uri:s.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,b.jsxs)("div",{className:ns,children:[(0,b.jsx)(ss.V,{index:t,episode:{...a,requestId:s.requestId},showMetadata:i,usePlayContextItem:r}),(0,b.jsx)("hr",{className:rs,"aria-hidden":!0})]})},os=e=>{let{showTitle:t=!0,displayEmptyPageOnEmptyResults:s=!0,displayError:a=!0,enableInfiniteScroll:i=!1,fetchData:n,totalCountRef:l,items:o,isError:c,isSearchV3Enabled:u}=e;const{query:d,serpId:p}=U(),m=(0,ae.ix)(d).toURI(),{ref:h,breakpoint:y}=(0,rt.Db)({[rt.Uo.MEDIUM]:0,[rt.Uo.LARGE]:600}),v=(0,g.$P)(),x=`spotify:app:search:${encodeURIComponent(d)}:${Ds}`,{spec:f,UBIFragment:j}=(0,g.fU)(se.m,{data:{uri:m,reason:p}});return c?a?(0,b.jsx)(te.p,{}):null:0===l.current?s?(0,b.jsx)(j,{spec:f.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.Wm.episodes()})}):null:(0,b.jsxs)(rt.ZU.Provider,{value:y,children:[o&&t&&(0,b.jsx)(ie.r,{title:P.Wm.episodes(),seeAllUri:x,onClickTitle:()=>{f&&v.logInteraction(f.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:x}))},onClickSeeAll:()=>{f&&v.logInteraction(f.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:x}))},hasMoreElements:!i&&o.length<(l.current||0)}),(0,b.jsx)("div",{ref:h,className:is,children:o&&(0,b.jsx)(ts.C,{triggerOnInitialLoad:!1,className:r()({[as]:u}),onReachBottom:()=>{i&&n()},children:o})})]})},cs=e=>{const{query:t,api:s}=U(),{results:i,isError:r,fetchData:n,totalCountRef:l}=ge(30,(0,a.useCallback)(((e,a)=>s.getFullEpisodes(t,e,a)),[s,t]));return(0,b.jsx)(os,{...e,fetchData:n,totalCountRef:l,items:null==i?void 0:i.map(((e,t)=>(0,b.jsx)(ls,{item:e,index:t},t))),isError:r})},us=e=>{const{query:t,api:s}=U(),{results:i,isError:r,fetchData:n,totalCountRef:l}=ge(30,(0,a.useCallback)(((e,a)=>s.getSearchCategoryResults(t,"episodes",!1,e,a)),[s,t]));return(0,b.jsx)(os,{...e,fetchData:n,totalCountRef:l,items:null==i?void 0:i.map(((e,t)=>(0,b.jsx)(es,{entity:e,index:t},t))),isError:r,isSearchV3Enabled:!0})},ds=e=>(0,u.W6)(T.Dzq)?(0,b.jsx)(us,{...e}):(0,b.jsx)(cs,{...e});var ps=s(93312);const ms=e=>{const{title:t,category:s,query:a,results:i,onAddToHistory:r,position:n,showSeeAll:l}=e;if(!i)return null;const{items:o,totalCount:c}=i;return o&&0!==o.length?(0,b.jsx)(v.q,{index:n,id:s,total:c||0,title:t,testId:`${s}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${s}`,showSeeAll:l,children:o.map(((e,t)=>(0,b.jsx)(f.JL,{value:s,index:t,children:(0,b.jsx)(ps.h,{onClick:()=>r(e),entity:e,index:t})},e.uri)))}):null},hs="pE9ccpPiPFWfTWfDdKT_",ys=e=>{let{results:t}=e;const{query:s,serpId:a,onAddToHistory:i}=U(),r=(0,ae.ix)(s).toURI(),{spec:n,UBIFragment:l}=(0,g.fU)(se.m,{data:{uri:r,reason:a}});return 0===(null==t?void 0:t.podcasts.totalCount)&&0===(null==t?void 0:t.episodes.totalCount)?(0,b.jsx)(l,{spec:n.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.Wm.podcastAndEpisodes()})}):(0,b.jsx)(l,{spec:n,children:(0,b.jsxs)("div",{className:hs,children:[0!==(null==t?void 0:t.podcasts.totalCount)&&(0,b.jsx)("div",{children:(0,b.jsx)(ms,{position:0,category:"podcasts",title:P.Wm.podcastAndEpisodes(),query:s,results:null==t?void 0:t.podcasts,onAddToHistory:i})}),0!==(null==t?void 0:t.episodes.totalCount)&&(0,b.jsx)("div",{children:(0,b.jsx)(ds,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var gs=s(51264),vs=s(36020),xs=s(37001);const fs="bCoyoXohuLs0f6urF2PD",js="EF2m35WFubo6yUwP04MQ",bs=e=>{let{displayChips:t,category:s}=e;const{query:i,api:n,serpId:l,onAddToHistory:o}=U(),{results:c,isError:d,fetchData:p,totalCountRef:m}=ge(30,(0,a.useCallback)(((e,t)=>n.getSearchCategoryResults(i,s,!0,e,t)),[n,s,i])),h=(0,a.useCallback)(((e,t)=>(0,b.jsx)(f.JL,{value:"card",index:t,children:(0,b.jsx)(ps.h,{entity:e,onClick:()=>o(e),testId:`search-category-card-${t}`,index:t})},`${e.uri}-${t}`)),[o]),y=(0,ae.ix)(i).toURI(),{spec:v,UBIFragment:x}=(0,g.fU)(gs.N,{data:{uri:y,identifier:s,reason:l}}),j=(0,a.useMemo)((()=>v.cardsFactory()),[v]),C=(0,a.useMemo)((()=>v.emptyResultsFactory()),[v]),k=(0,u.W6)(T.WDb)?(0,xs.Sf)(xs.jM.ENCORE_CARDS):(0,xs.Sf)(xs.jM.DEFAULT);return d?(0,b.jsx)(te.p,{}):0===m.current?(0,b.jsx)(x,{spec:C,children:(0,b.jsx)(me,{forChip:P.Wm[s]()})}):(0,b.jsx)(x,{spec:j,children:(0,b.jsx)("div",{className:r()(fs,{[js]:t}),children:c&&(0,b.jsx)(ts.C,{onReachBottom:p,triggerOnInitialLoad:!1,children:(0,b.jsx)(vs.q,{config:k,children:(0,b.jsx)(G.T,{render:()=>c.map(((e,t)=>h(e,t)))})})})})})};var Cs=s(94112),ks=s(29391),Ss=s(17162),Rs=s(58912),Es=s(36199),ws=s(42550);const Is="BSIos9yETsaI3yKEqX2P",As=100,Ns=e=>{let{pageSize:t=As}=e;if(t>100)throw new Error(`PathFinder does not support page sizes > ${As}`);const s=(0,ws.o)(),{query:i,api:r,serpId:n}=U(),{results:l,isError:o,fetchData:c,totalCountRef:u}=ge(t,(0,a.useCallback)(((e,t)=>r.getSearchCategoryResults(i,"tracks",!1,e,t)),[r,i])),d=(0,a.useCallback)(((e,t)=>{var s;const a=(0,Rs.X)(null===(s=e.album)||void 0===s?void 0:s.images,{desiredSize:40});return(0,b.jsx)(Es.e9,{index:t,uri:(0,Ss.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:(null==a?void 0:a.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),m=(0,a.useMemo)((()=>[Es.QD.INDEX,Es.QD.TITLE_AND_ARTIST,Es.QD.ALBUM,Es.QD.DURATION]),[]),h=(0,a.useCallback)((e=>({uri:e.uri})),[]),y=(0,ae.ix)(i).toURI(),{spec:v,UBIFragment:x}=(0,g.fU)(Cs.h,{data:{uri:y,reason:n}}),j=(0,a.useMemo)((()=>v.tracksFactory()),[v]),C=p.ag.get("search.showing-category-query-songs",i);if(o)return(0,b.jsx)(te.p,{});if(0===u.current)return(0,b.jsx)(x,{spec:v.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.Wm.podcastAndEpisodes()})});const k=s?48:ks.K1+48;return(0,b.jsx)(x,{spec:j,children:(0,b.jsx)(f.JL,{value:"search-results-tracklist",children:(0,b.jsx)("div",{className:Is,children:l&&(0,b.jsx)(ts.C,{triggerOnInitialLoad:!1,onReachBottom:c,children:(0,b.jsx)(Es.Pv,{ariaLabel:C,hasHeaderRow:!0,columns:m,renderRow:d,resolveItem:h,nrTracks:l.length,headerTop:k,tracks:l,columnPersistenceKey:"search-results-tracklist"},i)})})})})},Us="hciep85bysUuJqNoK7uw",Ts="Xa3KEcm2U_GOL2KMSoHw",Ps="KjXzXFYQr6Wp2QlxPUAY",Fs=e=>{let{category:t}=e;const{query:s,api:i,serpId:n}=U(),{results:l,isError:o,fetchData:c,totalCountRef:u}=ge(50,(0,a.useCallback)(((e,a)=>i.getSearchCategoryResults(s,t,!0,e,a)),[i,t,s])),d=(0,ae.ix)(s).toURI(),{spec:p,UBIFragment:m}=(0,g.fU)(gs.N,{data:{uri:d,identifier:t,reason:n}}),{ref:h,breakpoint:y}=(0,rt.Db)({[rt.Uo.MEDIUM]:0,[rt.Uo.LARGE]:600}),v=(0,a.useMemo)((()=>p.cardsFactory()),[p]);if(o)return(0,b.jsx)(te.p,{});if(0===u.current)return(0,b.jsx)(m,{spec:p.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.Wm[t]()})});const x="episodes"===t||"podcasts"===t,f="topResults"===t;return(0,b.jsx)(m,{spec:v,children:(0,b.jsx)(rt.ZU.Provider,{value:y,children:(0,b.jsx)("div",{ref:h,className:r()(Us,{[Ps]:x}),children:l&&(0,b.jsx)(ts.C,{onReachBottom:c,triggerOnInitialLoad:!1,className:Ts,children:l.map(((e,t)=>(0,b.jsx)(es,{entity:e,index:t,withEntityTag:f},e.uri)))})})})})},_s=e=>{let{results:t,hasResults:s}=e;const{query:i,serpId:r}=U(),n=(0,ae.ix)(i).toURI(),{spec:l,UBIFragment:o}=(0,g.fU)(gs.N,{data:{uri:n,identifier:"topResults",reason:r}}),{ref:c,breakpoint:u}=(0,rt.Db)({[rt.Uo.MEDIUM]:0,[rt.Uo.LARGE]:600}),d=(0,a.useMemo)((()=>l.cardsFactory()),[l]);return t&&s||l.emptyResultsFactory(),(0,b.jsx)(o,{spec:d,children:(0,b.jsx)(rt.ZU.Provider,{value:u,children:(0,b.jsx)("div",{ref:c,className:Us,children:t&&(0,b.jsx)(ts.C,{triggerOnInitialLoad:!1,className:Ts,children:t.topResults.items.map(((e,t)=>(0,b.jsx)(es,{entity:e,index:t,withEntityTag:!0},e.uri)))})})})})},qs="podcastAndEpisodes",Ds="episodes",Ls=e=>{let{results:t,hasResults:s,displayChips:a}=e;const{category:i}=U(),r=(0,u.W6)(T.Dzq);return i?i===qs?(0,b.jsx)(ys,{results:t}):r?"topResults"===i?(0,b.jsx)(_s,{results:t,hasResults:s}):(0,b.jsx)(Fs,{category:i}):"tracks"===i?(0,b.jsx)(Ns,{}):i===Ds?(0,b.jsx)(ds,{enableInfiniteScroll:!0,showTitle:!1}):(0,b.jsx)(bs,{displayChips:a,category:i}):(0,b.jsx)(te.p,{})};var Ws=s(84440),Ms=s(36353),Os=s(15636);const Bs=a.memo((function(e){let{tracks:t,query:s}=e;const i=(0,u.W6)(T.Kpm),r=(0,a.useCallback)(((e,t)=>{var s;const a=(0,Rs.X)(null===(s=e.album)||void 0===s?void 0:s.images,{desiredSize:40});return(0,b.jsx)(Es.pt,{uri:(0,Ss.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:(null==a?void 0:a.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&i},e.uri)}),[i]),n=(0,a.useMemo)((()=>[Es.QD.TITLE_AND_ARTIST,Es.QD.DURATION]),[]),l=(0,a.useCallback)((e=>({uri:e.uri})),[]);return t&&(0,b.jsx)(f.JL,{value:"search-results-tracklist",children:(0,b.jsx)(Es.Pv,{ariaLabel:p.ag.get("search.a11y.songs-search-results"),renderRow:r,rowPlaceholder:Es.hU,nrTracks:Math.min(t.length,4),tracks:t,resolveItem:l,columns:n},s)})}),((e,t)=>e.tracks===t.tracks));var Hs=s(26812);const Vs="rP1oFnzzvss0GV6VPgGG",Ks="XQakH0M0GDc6g6JKeyds",$s="PW9eULMYYH14XQgoJ0ui",zs="VL6wjp4Br_D3FEWrUGGR",Gs="QVIrLvegL13F9cEdMqfT",Xs="Lj3brgOJmjcq6MQ22XKq",Qs=e=>{let{tracks:t,query:s,className:i,showSeeAll:n=!0,spec:l}=e;const o=(0,g.$P)(),c=(0,a.useCallback)((()=>(0,b.jsx)("div",{className:Xs,children:(0,b.jsx)(a.Suspense,{fallback:null,children:(0,b.jsx)(Bs,{tracks:t.items,query:s})})})),[s,t]),u=`spotify:app:search:${encodeURIComponent(s)}:tracks`,d=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:u});o.logInteraction(e)}),[o,l,u]),m=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:u});o.logInteraction(e)}),[o,l,u]);return t.items.length?(0,b.jsxs)("section",{className:r()(Gs,i),"aria-label":p.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,b.jsx)("div",{className:Vs,children:t.items.length>3?(0,b.jsxs)("div",{className:Ks,children:[(0,b.jsx)("div",{className:$s,children:(0,b.jsx)(ne.x,{as:"h2",variant:"titleSmall",children:n?(0,b.jsx)(I.Link,{to:u,className:zs,onClick:d,children:p.ag.get("search.title.tracks")}):(0,b.jsx)("span",{className:zs,children:p.ag.get("search.title.tracks")})})}),n&&(0,b.jsx)(Hs.SeeAll,{link:u,onClick:m})]}):(0,b.jsx)(ne.x,{as:"h2",variant:"titleSmall",className:zs,children:p.ag.get("search.title.tracks")})}),(0,b.jsx)(g.Nh,{spec:l,children:(0,b.jsx)(G.T,{render:c})})]}):null},Js=e=>{let{topRecommendations:t,query:s,className:a,onAddToHistory:i,position:r,showSeeAll:n}=e;const l=t.totalCount||0;return(0,b.jsx)(v.q,{index:r,id:"top-recommendations",className:a,total:l,title:p.ag.get("artist-page.featuring",t.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(s)}:topRecommendations`,showSeeAll:n,children:t.items.map(((e,t)=>(0,b.jsx)(f.JL,{index:t,value:"top-recommendations",children:(0,b.jsx)(ps.h,{onClick:()=>i(e),entity:e,index:t})},e.uri)))})};var Zs=s(70930);const Ys="iGyMsGo7FgYQQThBj2y9",ea="eITFAR9yPwhjL_2gxB09",ta="nGARy02O1AklvHT7OBLA",sa="EFHPppToKFxfm6SRhL6K",aa="EbZrO5qZMclA_AaI3NV8",ia="rjgEnbv42_EUDbaiZnA2",ra="FTRmZyHUkeVY_X3RawUc",na="Tx_CKMgRE8CpW5vLdpAe",la=e=>{let{topResults:t,onAddToHistory:s}=e;const[a]=t.items;return a&&(0,b.jsx)(Zs.P,{total:1,className:Ys,title:p.ag.get("search.title.top-result"),removeOffsetMargin:!0,children:[(0,b.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:ea,children:(0,b.jsx)(f.JL,{value:"top-result-card",children:(0,b.jsx)(ps.h,{isHero:!0,index:0,onClick:()=>s(a),entity:a})})},"top-result-item")]})},oa=e=>{let{results:t}=e;const{query:s,onAddToHistory:i,serpId:r}=U(),n=(0,ae.ix)(s).toURI(),{spec:l,UBIFragment:o}=(0,g.fU)(Os.r,{data:{uri:n,reason:r}}),c=t.topResults.items.length>0,u=t.tracks.items.length>0,d=t.topRecommendations.items.length>0,p=(0,a.useMemo)((()=>({topResult:l.topResultFactory(),trackList:l.trackListFactory(),shelves:l.shelvesFactory()})),[l]);return(0,b.jsx)(G.T,{className:ta,rowGap:Ms.mG,testId:"search-results",render:e=>{let a,r,{columnCount:n}=e;return c?a=n>3?aa:ia:d&&(n>5&&u?(a=sa,r=ra):(a=ia,r=na)),(0,b.jsxs)(f.JL,{value:"search-results",children:[c&&(0,b.jsx)(o,{spec:p.topResult,children:(0,b.jsx)(la,{topResults:t.topResults,onAddToHistory:i})}),u&&(0,b.jsx)(Qs,{spec:p.trackList,className:a,query:s,tracks:t.tracks,onAddToHistory:i,showSeeAll:!1}),d&&(0,b.jsx)(o,{spec:p.shelves,children:(0,b.jsx)(Js,{position:0,query:s,className:r,topRecommendations:t.topRecommendations,onAddToHistory:i,showSeeAll:!1})}),P.Pd.map(((e,a)=>(0,b.jsx)(o,{spec:p.shelves,children:(0,b.jsx)(ms,{position:a+1,category:e,title:P.Wm[e](),query:s,results:t[e],onAddToHistory:i,showSeeAll:!1})},`search-shelf-${e}`)))]})}})},ca=e=>{let{results:t,hasResults:s,category:a="topResults"}=e;const i=(0,u.W6)(T.Dzq),{category:r,query:n,serpId:l}=U(),o=(0,ae.ix)(n).toURI(),c=!(0,z.k)(),{spec:d,UBIFragment:p}=(0,g.fU)(Os.r,{data:{uri:o,reason:l}});return c?(0,b.jsx)(me,{}):t?t&&!s?(0,b.jsx)(p,{spec:d.emptyResultsFactory(),children:(0,b.jsx)(me,{})}):i&&!r?a===qs?(0,b.jsx)(ys,{results:t}):(0,b.jsx)(_s,{results:t,hasResults:s}):(0,b.jsx)(oa,{results:t}):null};var ua=s(60162),da=s(8885),pa=s(50540),ma=s(67998),ha=s(91530);const ya=(e,t)=>{const s="object"==typeof(null==e?void 0:e.requestIds)?null==e?void 0:e.requestIds:void 0,a=null==s?void 0:s[t],i="object"==typeof a?a:void 0;return"string"==typeof(null==i?void 0:i["search-api"])?null==i?void 0:i["search-api"]:void 0},ga=e=>ya(e,"/searchV2"),va=e=>ya(e,"/searchV2/topResults");var xa=s(23120);s(20069);const fa=new xa.o("searchFullEpisodes","query","22e377f7b7c40e7ee0aa57dcb6d27120e524bb7dc14271101abed22aded60f8e",null);var ja=s(52559),ba=s(91054),Ca=s(94117),ka=s(8696),Sa=s(10590);function Ra(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Ea={type:V.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Sa.E.UNKNOWN};function wa(e,t){return{items:Ia((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Ia(e,t){return e.map((e=>Aa(e,t))).filter(ba.K)}function Aa(e,t){var s,a,i,r,n;if("Episode"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const l=e.data,o=l.podcastV2.data;let c=Ea;var u,d;"Podcast"===o.__typename&&(c={type:V.p.SHOW,uri:o.uri,name:o.name,publisher:(null===(u=o.publisher)||void 0===u?void 0:u.name)||"",mediaType:(0,ka.x7)(o.mediaType),images:Ra((null===(d=o.coverArt)||void 0===d?void 0:d.sources)||[])});return{type:V.p.EPISODE,name:l.name,images:Ra((null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[]),uri:l.uri,duration:{milliseconds:l.duration.totalMilliseconds},isExplicit:(null===(i=l.contentRating)||void 0===i?void 0:i.label)===H.KS.Explicit,release:(0,ka.dR)(l.releaseDate),description:l.description||"",timeLeft:{milliseconds:l.playedState.state===H.sY.Completed?0:l.duration.totalMilliseconds-l.playedState.playPositionMilliseconds},is19PlusOnly:(null===(r=l.contentRating)||void 0===r?void 0:r.label)===H.KS.NineteenPlus,show:c,requestId:t,color:(0,Ca.bS)(null===(n=l.coverArt)||void 0===n?void 0:n.extractedColors),mediaType:l.mediaTypes??[],podcastSubscription:(0,ka.w$)(l.restrictions,l.playability)}}const Na={...Ea,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1};function Ua(e,t){return e.map((e=>function(e,t){var s;if("Episode"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;let a=Na;"Podcast"===e.data.podcastV2.data.__typename&&(a=(0,ja.XU)(e.data.podcastV2.data));return{requestId:t,episode:(0,ja.YS)(e.data),show:a}}(e,t))).filter(ba.K)}async function Ta(e,t){var s;const a=await e(fa,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.episodes;return i?function(e,t){return{items:Ua((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}(i,ga(null==a?void 0:a.extensions)):null}const Pa=new xa.o("searchDesktop","query","5e360fd8ecc91d7a2aa8ab520bad903cc67f864a9df86b579cf51a53c9589b7f",null);function Fa(e,t){var s,a,i;if("PreRelease"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data.preReleaseContent;if(!r)return null;const n=(0,ka.dR)(e.data.releaseDate),l=r.artists.items.map((e=>"Artist"===e.data.__typename?{type:V.p.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null)).filter(ba.K);return{type:V.p.PRE_RELEASE,name:r.name||"",uri:e.data.uri,images:Ra((null===(a=r.coverArt)||void 0===a?void 0:a.sources)||[]),release:n,releaseTimezone:e.data.timezone,artists:l,color:(0,Ca.bS)(null===(i=r.coverArt)||void 0===i?void 0:i.extractedColors),requestId:t}}function _a(e,t){return{items:((null==e?void 0:e.items)||[]).map((e=>{const{__typename:s}=e;switch(s){case"AlbumResponseWrapper":return qa(e,t);case"PreReleaseResponseWrapper":return Fa(e,t);case"UnknownTypeWrapper":return null;default:return(0,ve._)(s),null}})).filter(ba.K),totalCount:(null==e?void 0:e.totalCount)||0}}function qa(e,t){var s,a,i;if("Album"!==e.data.__typename)return null;const r=e.data;return{type:V.p.ALBUM,name:r.name,uri:r.uri,images:Ra((null===(s=r.coverArt)||void 0===s?void 0:s.sources)||[]),artists:r.artists.items.map((e=>({type:V.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:null===(a=r.date)||void 0===a?void 0:a.year,requestId:t,color:(0,Ca.bS)(null===(i=e.data.coverArt)||void 0===i?void 0:i.extractedColors)}}const Da=new xa.o("searchAlbums","query","4ddf4d062c3c268954bb113ca2a24c6440e8c832170185388a087ca8608c727c",null);function La(e,t){return{items:Wa((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Wa(e,t){return e.map((e=>Ma(e,t))).filter(ba.K)}function Ma(e,t){var s,a,i;if("Artist"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data;return{type:V.p.ARTIST,name:r.profile.name,images:Ra((null===(a=r.visuals)||void 0===a||null===(a=a.avatarImage)||void 0===a?void 0:a.sources)||[]),uri:r.uri,verified:r.profile.verified||!1,requestId:t,color:(0,Ca.bS)(null===(i=r.visuals.avatarImage)||void 0===i?void 0:i.extractedColors)}}const Oa=new xa.o("searchArtists","query","e07f4daeae2c35880f043847d4fda640517737eb66cf5f203c9e3deb93206977",null);function Ba(e,t){return{items:Ha((null==e?void 0:e.items)||[],t),totalCount:null==e?void 0:e.totalCount}}function Ha(e,t){return e.map((e=>Va(e,t))).filter(ba.K)}function Va(e,t){var s,a,i,r,n;if("Audiobook"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const l=e.data;return{type:V.p.AUDIOBOOK,uri:l.uri,name:l.name,images:Ra((null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[]),authorName:(null===(i=l.authors)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.name)??"",topics:l.topics.items||[],publishDate:l.publishDate?new Date(l.publishDate.isoString):null,requestId:t,color:(0,Ca.bS)(null===(r=l.coverArt)||void 0===r?void 0:r.extractedColors),signifierText:(null===(n=l.accessInfo)||void 0===n||null===(n=n.signifier)||void 0===n?void 0:n.text)??void 0}}const Ka=new xa.o("searchAudiobooks","query","7260cfdd59ba4f5588502dafd25def5164c6841c68a26bb60d9c75ba47bf29b4",null);const $a=new xa.o("searchEpisodes","query","6c94e7db591c68ff6244234e1b2378b3eb6a1f5c1999b711a7bd12b9708f6322",null);function za(e,t){return{items:Ga((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Ga(e,t){return e.map((e=>Xa(e,t))).filter(ba.K)}function Xa(e,t){var s,a,i;if("Genre"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data,n=(0,ae.EC)(r.uri);return{type:V.p.GENRE,name:r.name,uri:n?r.uri:`spotify:genre:${r.uri}`,images:Ra((null===(a=r.image)||void 0===a?void 0:a.sources)||[]),requestId:t,color:(0,Ca.bS)(null===(i=r.image)||void 0===i?void 0:i.extractedColors)}}const Qa=new xa.o("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);s(55115);const Ja={type:V.p.USER,uri:"",displayName:"",username:"",images:[]};function Za(e,t){return{items:Ya((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Ya(e,t){return e.map((e=>ei(e,t))).filter(ba.K)}function ei(e,t){var s,a,i,r;if("Playlist"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const n=e.data;let l=Ja;if("User"===(null===(a=n.ownerV2)||void 0===a?void 0:a.data.__typename)){var o,c;const e=null===(o=n.ownerV2)||void 0===o?void 0:o.data;l={type:V.p.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Ra((null===(c=e.avatar)||void 0===c?void 0:c.sources)||[])}}return{type:V.p.PLAYLIST,uri:n.uri,name:n.name,images:Ra((null===(i=n.images)||void 0===i?void 0:i.items.flatMap((e=>e.sources)))||[]),owner:l,requestId:t,formatListData:{type:n.format??"",attributes:(u=n.attributes??[],u.reduce(((e,t)=>(e[t.key]=t.value,e)),{}))},color:(0,Ca.bS)(null===(r=n.images.items[0])||void 0===r?void 0:r.extractedColors)};var u}const ti=new xa.o("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function si(e,t){return{items:ai((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function ai(e,t){return e.map((e=>ii(e,t))).filter(ba.K)}function ii(e,t){var s,a,i,r;if("Podcast"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const n=e.data;return{type:V.p.SHOW,uri:n.uri,name:n.name,images:Ra((null===(a=n.coverArt)||void 0===a?void 0:a.sources)||[]),publisher:(null===(i=n.publisher)||void 0===i?void 0:i.name)||"",topics:n.topics.items||[],requestId:t,color:(0,Ca.bS)(null===(r=n.coverArt)||void 0===r?void 0:r.extractedColors)}}const ri=new xa.o("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);function ni(e,t){return{items:li(e,t),totalCount:(null==e?void 0:e.totalCount)||0}}function li(e,t){return(null==e?void 0:e.items.map((e=>{let{item:s,matchedFields:a}=e;return oi(s,a,t)})).filter(ba.K))||[]}function oi(e,t,s){var a,i,r,n,l;if("Track"!==(null===(a=e.data)||void 0===a?void 0:a.__typename))return null;const o=e.data,c=o.albumOfTrack,u=!!o.associations&&o.associations.associatedVideos.totalCount>0;return{type:V.p.TRACK,uri:o.uri,name:o.name,isPlayable:o.playability.playable,album:{type:V.p.ALBUM,uri:(null==c?void 0:c.uri)||"",name:(null==c?void 0:c.name)||"",images:Ra((null==c||null===(i=c.coverArt)||void 0===i?void 0:i.sources)||[])},artists:o.artists.items.map((e=>({type:V.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:o.duration.totalMilliseconds},hasAssociatedVideo:u,isExplicit:"EXPLICIT"===(null===(r=o.contentRating)||void 0===r?void 0:r.label),is19PlusOnly:"NINETEEN_PLUS"===(null===(n=o.contentRating)||void 0===n?void 0:n.label),requestId:s,isLyricsMatch:!(null==t||!t.includes(H.$C.Lyrics)),color:(0,Ca.bS)(null==c||null===(l=c.coverArt)||void 0===l?void 0:l.extractedColors)}}const ci=new xa.o("searchTracks","query","875aaad13da3b8cebc0951584343999525b242d3a6a45caf33423bbf6f027af3",null);function ui(e,t){return{items:di((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function di(e,t){return e.map((e=>pi(e,t))).filter(ba.K)}function pi(e,t){var s,a,i;if("User"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data;return{type:V.p.USER,uri:r.uri,name:r.displayName||r.username,images:Ra((null===(a=r.avatar)||void 0===a?void 0:a.sources)??[]),requestId:t,color:(0,Ca.bS)(null===(i=r.avatar)||void 0===i?void 0:i.extractedColors)}}const mi=new xa.o("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);function hi(e,t){const s=(null==e?void 0:e.itemsV2)??[],a=s.map((e=>{let{item:s,matchedFields:a}=e;const{__typename:i}=s;switch(i){case"AlbumResponseWrapper":return qa(s,t);case"ArtistResponseWrapper":return Ma(s,t);case"AudiobookResponseWrapper":return Va(s,t);case"EpisodeResponseWrapper":return Aa(s,t);case"GenreResponseWrapper":return Xa(s,t);case"PlaylistResponseWrapper":return ei(s,t);case"PodcastResponseWrapper":return ii(s,t);case"TrackResponseWrapper":return oi(s,a,t);case"UserResponseWrapper":return pi(s,t);case"PreReleaseResponseWrapper":return Fa(s,t);case"UnknownTypeWrapper":return null;default:return(0,ve._)(i),null}})).filter(ba.K);return{totalCount:s.length,items:a}}function yi(e,t){const s=(null==e?void 0:e.featured)||[];return{artistName:s.length?gi(e):"",items:(null==s?void 0:s.map((e=>ei(e,t))).filter(ba.K))||[],totalCount:s.length||0}}function gi(e){const t=(0,ka.wY)(e,"itemsV2",[]);try{var s;const e=(0,ka.U2)(t.map((e=>{let{item:t}=e;return t})).filter(Boolean),"0.data");return(null==e||null===(s=e.profile)||void 0===s?void 0:s.name)||""}catch{return""}}const vi=new xa.o("searchTopResultsOnly","query","08cb2e4ea426d1ed10bef76b7d65cee91a82156d962a4aad0936a9720842e58d",null);const xi={items:[],totalCount:0},fi={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},ji={albums:async function(e,t){var s;const a=await e(Da,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.albumsV2;return i?_a(i,ga(null==a?void 0:a.extensions)):null},artists:async function(e,t){var s;const a=await e(Oa,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.artists;return i?La(i,ga(null==a?void 0:a.extensions)):null},episodes:async function(e,t){var s;const a=await e($a,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.episodes;return i?wa(i,ga(null==a?void 0:a.extensions)):null},genres:async function(e,t){var s;const a=await e(Qa,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.genres;return i?za(i,ga(null==a?void 0:a.extensions)):null},playlists:async function(e,t){var s;const a=await e(ti,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.playlists;return i?Za(i,ga(null==a?void 0:a.extensions)):null},podcasts:async function(e,t){var s;const a=await e(ri,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.podcasts;return i?si(i,ga(null==a?void 0:a.extensions)):null},audiobooks:async function(e,t){var s;const a=await e(Ka,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.audiobooks;return i?Ba(i,ga(null==a?void 0:a.extensions)):null},tracks:async function(e,t){var s;const a=await e(ci,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.tracksV2;return i?ni(i,ga(null==a?void 0:a.extensions)):null},users:async function(e,t){var s;const a=await e(mi,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.users;return i?ui(i,ga(null==a?void 0:a.extensions)):null},topResults:async function(e,t){var s;const a=await e(vi,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.topResultsV2;return i?hi(i,va(null==a?void 0:a.extensions)):null},podcastAndEpisodes:Ta};class bi{constructor(e){this._request=e}async getSearchResults(e){var t;const s={searchTerm:e,offset:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,limit:arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,numberOfTopResults:arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,includeAudiobooks:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]},a=await this._request(Pa,s),i=null==a||null===(t=a.data)||void 0===t?void 0:t.searchV2;if(!i)return fi;const r=ga(null==a?void 0:a.extensions),n=va(null==a?void 0:a.extensions);return{albums:_a(i.albumsV2,r),artists:La(i.artists,r),episodes:wa(i.episodes,r),genres:za(i.genres,r),playlists:Za(i.playlists,r),podcasts:si(i.podcasts,r),audiobooks:Ba(i.audiobooks??null,r),tracks:ni(i.tracksV2,r),users:ui(i.users,r),topResults:hi(i.topResultsV2,n),topRecommendations:yi(i.topResultsV2,n),chipOrder:i.chipOrder}}async getSearchCategoryResults(e,t){const s={searchTerm:e,offset:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,limit:arguments.length>4&&void 0!==arguments[4]?arguments[4]:25,numberOfTopResults:arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,includeAudiobooks:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},a=ji[t];return await a(this._request,s)||xi}async getFullEpisodes(e){const t={searchTerm:e,offset:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,limit:arguments.length>2&&void 0!==arguments[2]?arguments[2]:25};return await Ta(this._request,t)||xi}}var Ci=s(27553),ki=s(37286);const Si=e=>{let{results:t,hasResults:s}=e;const i=(0,u.W6)(T.Dzq),o=(0,ws.o)(),{isBrowser:c}=(0,n.v9)((e=>e.platform)),p=(0,n.v9)(ha.rZ),h=(0,pa.g)(),y=(0,m.s4)(),{version:g}=(0,m.tc)(),{category:v}=U(),x=((e,t,s)=>{var a;const i=(null==e||null===(a=e.chipOrder)||void 0===a?void 0:a.items)??[];return Array.from(i.reduce(((a,i)=>{var r;if(!i.typeName)return a;if(!s&&i.typeName===H.xN.TopResults)return a;const[n,l]=$[i.typeName];return l&&n&&(t===l||null!=e&&null!==(r=e[n])&&void 0!==r&&null!==(r=r.items)&&void 0!==r&&r.length)?(a.add(l),a):a}),new Set([])))})(t,v,i),j="podcasts"!==v&&"episodes"!==v,C=i?x[0]:void 0,k=(e=>{if(!e)return!1;const[t]=e.topResults.items;return Boolean(t&&t.type===V.p.TRACK)})(t),R=(0,u.W6)(T.zzt);return(0,a.useEffect)((()=>{c||t&&s&&(e=>{let{eventSender:t,country:s,isAnonymous:a,context:i,variant:r}=e;const n={category:"internal-search-test",action:"search-results-page-visit",variant:r,label:"desktop-app",context:i,os:(0,K.y)(),country:s,spt:(0,B.vQ)("sp_t")};a?t.send((0,O.k)(n)):t.send((0,M.x)(n))})({eventSender:y,country:p,isAnonymous:h,context:JSON.stringify({top_result_is_track:k,version:g}),variant:R})}),[p,y,s,h,c,t,k,R,g]),(0,b.jsxs)(f.JL,{value:"search-page",children:[!o&&(0,b.jsx)(da.w,{children:(0,b.jsx)(Ws.W,{isSearchChipsEnabled:!0})}),(0,b.jsx)(W,{searchCategories:x,selectedCategory:v??C,displayChips:j}),(0,b.jsx)("div",{className:r()("contentSpacing",{[ki.Z.narrowPage]:i&&t}),id:"searchPage",children:(0,b.jsx)(G.T,{className:ki.Z.searchPageGrid,render:()=>(0,b.jsxs)(l.Z5,{children:[(0,b.jsx)(l.AW,{path:"/",element:(0,b.jsx)(J.K,{pageId:d.Wg.FIND,entityUri:"spotify:app:search",children:(0,b.jsx)(S,{})})}),(0,b.jsx)(l.AW,{path:":query",element:(0,b.jsx)(ee,{children:(0,b.jsx)(ca,{results:t,hasResults:s,category:C})})}),(0,b.jsx)(l.AW,{path:":query/:category",element:(0,b.jsx)(Y,{children:(0,b.jsx)(Ls,{results:t,hasResults:s,displayChips:j})})})]})})})]})};const Ri=a.memo((function(){const e=(0,u.W6)(T.Dzq),t=!(0,z.k)(),[{category:s,query:i},r]=(0,Ci.l)();(0,ma.z)("search");const[n,l]=(0,a.useState)({results:null,queryForResults:i??""}),o=n.results,d=function(e){return null!==e&&void 0!==Object.keys(e).find((t=>"chipOrder"!==t&&e[t].items.length>0))}(o),m=(0,a.useMemo)((()=>new bi((0,Q.PQ)(X.b.getInstance()))),[]),{searchHistory:h,setSearchHistory:y}=(0,j.u)(),g=(0,a.useCallback)((e=>{y([e,...h])}),[h,y]),v=(0,a.useCallback)((async e=>{e===n.queryForResults&&d||r(e,s,!1)}),[n.queryForResults,s,d,r]);(0,a.useEffect)((()=>{(async()=>{if(!i)return;if(t)return void l({results:null,queryForResults:i});const s=e?20:5,a=await m.getSearchResults(i,!0,0,10,s);l({results:a,queryForResults:i})})()}),[i,m,e,t]),(0,a.useEffect)((()=>{i||l({results:null,queryForResults:""})}),[i]);const x=(0,a.useMemo)((()=>c().create().toString()),[s,n.queryForResults]),f=(0,a.useMemo)((()=>({api:m,category:s,query:n.queryForResults,onAddToHistory:g,onSearchRequest:v,serpId:x})),[m,s,g,v,n.queryForResults,x]);return(0,b.jsxs)(N,{value:f,children:[(0,b.jsx)(ua.$,{children:p.ag.get("search.page-title")}),(0,b.jsx)(Si,{results:o,hasResults:d})]})}))},53758:(e,t,s)=>{s.d(t,{s:()=>y});var a=s(50959),i=s(10226),r=s(13734);s(80378),s(46758),s(53321);const n=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,t){return e.filter((e=>e.label?e.label===t:e.width?n(e.width)===t:!!e.height&&n(e.height)===t))[0]}var o=s(633);var c=s(77861);function u(e){var t,s,a,i,r,n,o,c;const u=l(e,"standard"),d=l(e,"large"),p=l(e,"small"),m=l(e,"xlarge");return{image_url:null==u?void 0:u.url,image_height:null==u||null===(t=u.height)||void 0===t?void 0:t.toString(),image_width:null==u||null===(s=u.width)||void 0===s?void 0:s.toString(),image_url_large:null==d?void 0:d.url,image_height_large:null==d||null===(a=d.height)||void 0===a?void 0:a.toString(),image_width_large:null==d||null===(i=d.width)||void 0===i?void 0:i.toString(),image_url_small:null==p?void 0:p.url,image_height_small:null==p||null===(r=p.height)||void 0===r?void 0:r.toString(),image_width_small:null==p||null===(n=p.width)||void 0===n?void 0:n.toString(),image_url_xlarge:null==m?void 0:m.url,image_height_xlarge:null==m||null===(o=m.height)||void 0===o?void 0:o.toString(),image_width_xlarge:null==m||null===(c=m.width)||void 0===c?void 0:c.toString()}}var d=s(8570),p=s(70959),m=s(82857),h=s(17676);function y(e,t){const s=(0,r.o)(),n=(0,d.g)(),{isPlaying:l,isActive:y}=(0,p.$o)((null==e?void 0:e.uri)||""),{isActive:g}=(0,p.cR)((null==t?void 0:t.uri)||""),v=(0,i.W6)(h.SZt),x=(0,a.useCallback)((a=>{if(!t||!e)return;const i=function(e,t){var s;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=((null===(s=e.coverArt)||void 0===s?void 0:s.sources)||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),r=(0,o.Xb)(e,t),n=(0,o.Ie)(t)||r,l=e.mediaTypes&&e.mediaTypes.includes(c.$_.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...u(i),media_type:a?l:"audio",isTrailer:r,anonymousPlaybackAllowed:n}}(e,t,v);g&&!l&&y&&!a?n.resume():g&&l&&!a?(s({type:"click",intent:"pause",targetUri:e.uri}),n.pause()):(s({type:"click",intent:"play",targetUri:e.uri}),n.play({uri:t.uri,pages:[{items:[{type:m.p.EPISODE,uri:e.uri,uid:null,metadata:i,provider:null}]}]},{referrerIdentifier:n.getReferrer(),featureIdentifier:"episode"},a))}),[t,e,v,g,l,y,n,s]);return x}}}]);
//# sourceMappingURL=xpui-routes-search.2553ddec.js.map