import{H as p,P as T,Q as C,L as _,A as r,B as d,J as u,O as P,D as f,G as m,V as k,W as L,Z as S,I as c,N as x,_ as b,$ as _e,a0 as fe,a7 as Ee,X as I,aa as Te,S as ue,U as Me,al as Oe,Y as pe,a8 as Ve}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{b as Le,l as xe,m as ae,n as Ne,o as ie,p as Be,q as Re,r as Ge,s as ee,u as ne,v as qe,w as $e,x as Ue,c as he,y as le,z as Fe,A as He,B as We,C as je,D as Ke,E as ge}from"./lsanalytics-cart_5cb2710b_r24-02-0_b0_t240129-161140.js";import{S as N}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import{p as E,an as Z,u as V,c as D,s as G,b as de,aO as U,d as ze,_ as Ye,k as Qe,i as oe,G as j,R as me,aP as A}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{u as Je}from"./csrViewStoreEGiftCard_cc66ed9d_r24-02-0_b0_t240129-161140.js";import{a as O}from"./csrGlobalStoreCart_c99ec818_r24-02-0_b0_t240129-161140.js";import{u as v,a as X}from"./csrViewStoreCart_eff1e54c_r24-02-0_b0_t240129-161140.js";import{a as Pe}from"./csrViewStoreInventory_328e6f57_r24-02-0_b0_t240129-161140.js";import{_ as g}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import{u as q}from"./csrGlobalStoreAppState_f9ff4bfa_r24-02-0_b0_t240129-161140.js";import{P as Ze}from"./PromoBadge_8e0d2512_r24-02-0_b0_t240129-161140.js";import{E as Y}from"./eventBus_552c1ba1_r24-02-0_b0_t240129-161140.js";import{C as Xe}from"./CheckboxItem_c90003c9_r24-02-0_b0_t240129-161140.js";import{h as et,i as tt,j as te}from"./lsanalytics-loyalty_c6fb8ea0_r24-02-0_b0_t240129-161140.js";import{g as ot}from"./getUid_5de10276_r24-02-0_b0_t240129-161140.js";import{o as st}from"./objectHasKeys_aced35f1_r24-02-0_b0_t240129-161140.js";import{p as rt,i as at,l as it}from"./cmsContentHelper_f68cc642_r24-02-0_b0_t240129-161140.js";import{V as nt}from"./VRawMarkup_119eefb5_r24-02-0_b0_t240129-161140.js";import{V as lt}from"./VCmsMediaSSR_1101c01c_r24-02-0_b0_t240129-161140.js";import be from"./Modal_886b6642_r24-02-0_b0_t240129-161140.js";import{m as z,a as W}from"./vuex.esm-bundler_aa359dca_r24-02-0_b0_t240129-161140.js";import{a as dt}from"./SpinnerSkeleton_362db941_r24-02-0_b0_t240129-161140.js";import{V as ct}from"./VProductMediaSSR_5d417f74_r24-02-0_b0_t240129-161140.js";import{a as H,u as ut}from"./csrViewStoreCheckout_89574990_r24-02-0_b0_t240129-161140.js";import{useCsrViewStoreAfterpay as pt}from"./csrViewStoreAfterpay_7d0945dc_r24-02-0_b0_t240129-161140.js";import{useCsrViewStorePaypal as J}from"./csrViewStorePaypal_322e05fd_r24-02-0_b0_t240129-161140.js";import{u as Q,a as se}from"./csrViewStoreGooglePay_cc13d41e_r24-02-0_b0_t240129-161140.js";import{useCsrViewStorePaymentInfo as re}from"./csrViewStorePaymentInfo_4f7a2838_r24-02-0_b0_t240129-161140.js";import{u as ye}from"./csrViewStorePickupInStore_9251cc88_r24-02-0_b0_t240129-161140.js";import{L as K}from"./formTypes_72e4bcc9_r24-02-0_b0_t240129-161140.js";import{useCsrViewStoreAdyen as ht}from"./csrViewStoreAdyen_05d20bf5_r24-02-0_b0_t240129-161140.js";import{b as mt,p as yt}from"./regexLocalization_16c032f3_r24-02-0_b0_t240129-161140.js";import{g as _t}from"./dynamicDependencyLoader_69917fd7_r24-02-0_b0_t240129-161140.js";import{useCsrViewStoreBraintree as ft}from"./csrViewStoreBraintree_b6a44787_r24-02-0_b0_t240129-161140.js";const gt={inject:["mq"],emits:["showError"],components:{SvgIcon:N},props:{entryNumber:{type:Number,required:!0}},computed:{...p(O,["cart"]),...p(v,["removeInProgress"]),...T(v,["updateFenixEddRequired","justDeleted"])},methods:{...C(Je,["clearState"]),...C(v,["removeFromCart"]),...C(Pe,["removeItemFromNotAllocatedArray"]),async removeItem(){const e=this.entryNumber,t=this.cart.entries.find(a=>a.entryNumber===e),s=t.product,n=t.quantity,i=t.totalPrice.value;this.$emit("showError",null),this.updateFenixEddRequired=!0;const o=await this.removeFromCart({entryNum:this.entryNumber});(o==null?void 0:o.statusCode)!==E.FAILED?(this.removeItemFromNotAllocatedArray(s.code),t.egiftCardExtraInfo&&this.clearState(),Le("Product Removed",this.entryNumber,0),xe(s.baseProduct,s.pdpGroupId,s.department,s.sku,n,i,"remove")):this.$emit("showError","OtherError"),this.justDeleted=null}}},Pt=["id","disabled"],bt=["id","aria-label","disabled"];function vt(e,t,s,n,i,o){const a=_("SvgIcon");return o.mq.current==="desktop"?(r(),d("button",{key:0,class:"item__menu-remove",id:`removeEntry_${s.entryNumber}`,disabled:e.removeInProgress,onClick:t[0]||(t[0]=(...l)=>o.removeItem&&o.removeItem(...l))},u(e.$t("i18n.removeTextForCart")),9,Pt)):(r(),d("button",{key:1,class:"item__menu-x-button",id:`removeEntry_${s.entryNumber}`,onClick:t[1]||(t[1]=(...l)=>o.removeItem&&o.removeItem(...l)),"aria-label":e.$t("i18n.removeTextForCart"),disabled:e.removeInProgress},[P(a,{name:"close",title:"Close",class:"item__menu-x"})],8,bt))}const Ti=g(gt,[["render",vt],["__scopeId","data-v-8469165f"]]);const Ct={props:{entry:{type:Object,required:!0}},components:{PromoBadge:Ze},computed:{...p(O,["cart"]),...p(V,["locale"]),...p(D,["defaultCurrency"]),...p(G,["isPromoRedesignPhase1Enabled"]),voucherApplied(){return[...this.cart.appliedProductPromotions,...this.cart.appliedOrderPromotions].filter(t=>{var o;const s=((o=t==null?void 0:t.promotion)==null?void 0:o.shippingOnly)??!1,i=((t==null?void 0:t.voucherCodes)??[]).length>0;return!s&&i}).length>0},promoBadge(){var e,t,s;return((t=(e=this.entry)==null?void 0:e.product)==null?void 0:t.promotionalBadge)||((s=this.entry)==null?void 0:s.promotionalBadge)||!1},entryHasDiscount(){var t;return(((t=this.entry.productDiscount)==null?void 0:t.value)??0)>0||this.entry.orderDiscountShare>0},entryHasPromoDiscount(){return this.entry.promoDetails.length},totalDiscount(){if(!this.defaultCurrency.isocode||!this.entryHasDiscount)return!1;const{orderDiscountShare:e,productDiscount:t}=this.entry,s=e+((t==null?void 0:t.value)||0),n=this.locale.replace("_","-");return new Intl.NumberFormat(n,{style:"currency",currency:this.defaultCurrency.isocode}).format(s)},isGiftCardItem(){var e,t;return((t=(e=this.entry)==null?void 0:e.product)==null?void 0:t.giftCardType)??!1},groupByPromosToUse(){var t,s;const e=[];return(s=(t=this.entry)==null?void 0:t.promoDetails)!=null&&s.length&&JSON.parse(JSON.stringify(this.entry.promoDetails)).forEach(i=>{const o=e.findIndex(a=>{var l;return((l=i==null?void 0:i.shortName)==null?void 0:l.length)&&(a==null?void 0:a.shortName)===(i==null?void 0:i.shortName)});if(o>=0)e[o].amount+=i.amount;else{let a={};a=i,e.push(a)}}),e}},methods:{...C(q,["showPromoModal"]),fromatedPrice(e){const t=this.locale.replace("_","-");return new Intl.NumberFormat(t,{style:"currency",currency:this.defaultCurrency.isocode}).format(e)},openPromoDetailsModal(e){this.showPromoModal({promos:[e]}),ae("open details",e.title,"Product")},getAppliedVoucher(e){var t,s,n;if(Array.isArray((t=this.cart)==null?void 0:t.appliedVouchers)){for(let i=0;i<this.cart.appliedVouchers.length;i++){const{code:o,voucherType:a}=this.cart.appliedVouchers[i],l=(s=this.cart.appliedOrderPromotions)==null?void 0:s.find(h=>h.promotion.code===e);if(l){const h=(n=l.voucherCodes)==null?void 0:n.find(y=>y===o&&a===Z.LOYALTY);if(h)return h}}return null}return null}}},St={key:0,class:"item-promo-applied-container"},wt={key:1,class:"item-promo-msg"},kt={key:2,class:"no-promo-applied"},It={key:1,class:"item-promo-applied-container"},Dt=["onClick","onKeyup"],At={key:0},Et={key:1},Tt={key:1},Mt={key:0},Ot={key:1},Vt={key:1,class:"no-promo-applied"};function Lt(e,t,s,n,i,o){const a=_("promo-badge");return e.isPromoRedesignPhase1Enabled?(r(),d("div",It,[o.entryHasPromoDiscount?(r(!0),d(k,{key:0},L(o.groupByPromosToUse,(l,h)=>(r(),d("div",{key:`${h}-${l.code}`,class:"item-promo-msg"},[l!=null&&l.details?(r(),d("span",{key:0,class:"promo-details-link",onClick:y=>o.openPromoDetailsModal(l),onKeyup:[S(y=>o.openPromoDetailsModal(l),["enter"]),S(y=>o.openPromoDetailsModal(l),["space"])]},[o.getAppliedVoucher(l.code)?(r(),d("span",At,u(l.shortName||l.title),1)):(r(),d("span",Et,u(l.shortName||l.title),1))],40,Dt)):(r(),d("span",Tt,[o.getAppliedVoucher(l.code)?(r(),d("span",Mt,u(l.shortName||l.title),1)):(r(),d("span",Ot,u(l.shortName||l.title),1))])),c("span",null," (-"+u(o.fromatedPrice(l==null?void 0:l.amount))+")",1)]))),128)):!o.entryHasDiscount&&o.voucherApplied||o.isGiftCardItem?(r(),d("div",Vt,u(e.$t("i18n.notEligibleForPromo")),1)):m("",!0)])):(r(),d("div",St,[!o.entryHasDiscount&&o.promoBadge?(r(),f(a,{key:0,class:"promo-badge","promo-badge":o.promoBadge},null,8,["promo-badge"])):o.entryHasDiscount&&o.totalDiscount?(r(),d("div",wt,u(e.$t("i18n.itemPromoApplied",{_discount_:o.totalDiscount})),1)):!o.entryHasDiscount&&o.voucherApplied||o.isGiftCardItem?(r(),d("div",kt,u(e.$t("i18n.notEligibleForPromo")),1)):m("",!0)]))}const Mi=g(Ct,[["render",Lt],["__scopeId","data-v-56b64af2"]]);const xt={inject:["mq"],emits:["showError"],components:{},computed:{...p(V,["country","locale"]),...p(D,["paths"]),isMobile(){return this.mq.current==="mobile"}},methods:{showError(e){this.$emit("showError",e)}},props:{item:{type:Object,default:()=>({})},productName:{type:String,required:!0},productUrl:{type:String,required:!0},recipe:{type:String,default:""},showBopisData:{type:Boolean,default:!1},displayOnly:{type:Boolean,required:!1},showGiftWrapError:{type:Boolean,default:!1}}},Nt={class:"lsco-row"};function Bt(e,t,s,n,i,o){const a=_("router-link");return r(),d("div",Nt,[P(a,{to:`${e.paths.base}${s.productUrl}${s.recipe}`},{default:x(()=>[c("span",{class:b(["name lsco-col-xs-9 lsco-col-md-5",{"name-small":s.displayOnly}])},u(s.productName),3)]),_:1},8,["to"])])}const Rt=g(xt,[["render",Bt],["__scopeId","data-v-6ec407ed"]]);const Gt={inject:["mq"],data(){return{freeGiftOptedIn:!0}},props:{productName:{type:String,required:!0},productUrl:{type:String,default:""},fulfilled:{type:Boolean,required:!0},entryNumber:{type:Number,required:!0},isOutOfStock:{type:Boolean,required:!0},outOfStockMessage:{type:String,default:""},isEGiftCard:{type:Boolean,default:!1},priceObject:{type:Object,required:!0},displayOnly:{type:Boolean,required:!1}},components:{CheckboxItem:Xe,itemName:Rt},computed:{...p(de,["previewMode"]),isMobile(){return this.mq.current==="mobile"}},methods:{...C(v,["updateEntryQty"]),freeGiftFulfilled(){et({action_detail:this.freeGiftOptedIn?"checked":"unchecked"}),this.updateEntryQty({entryNumber:this.entryNumber,qty:1,fulfilled:this.freeGiftOptedIn}).then(e=>{e.statusCode===E.SUCCESS||e.statusCode==="lowStock"||e.statusCode})},updateFreeGiftFulfilled(e){this.freeGiftOptedIn=e,e?Y.$emit("dontShowFreeGiftCartOOSMsg"):Y.$emit("showFreeGiftCartOOSMsg")}},mounted(){this.freeGiftOptedIn=this.fulfilled,Y.$on("freeGiftFulfilled",this.updateFreeGiftFulfilled)},unmounted(){Y.$off("freeGiftFulfilled",this.updateFreeGiftFulfilled)}},qt=e=>(_e("data-v-83e12750"),e=e(),fe(),e),$t={class:"cart-item-info"},Ut=qt(()=>c("label",{for:"free-gift-checkbox"}," Send me my free gift! ",-1)),Ft={class:"gwp-msg"};function Ht(e,t,s,n,i,o){const a=_("itemName"),l=_("CheckboxItem");return r(),d("div",{class:b(["cart-item-free-gift",{"left-padding":s.displayOnly}])},[c("div",$t,[c("div",{class:b(["free-gift-text",{"font-small":s.displayOnly}])},u(e.$t("i18n.freeGiftMsgLoyalty")),3),P(a,{"product-name":s.productName,"product-url":s.productUrl,"display-only":s.displayOnly},null,8,["product-name","product-url","display-only"]),c("span",{class:b(["price",{"font-small":s.displayOnly,"font-regular":!s.displayOnly}])},u(e.$t("i18n.freeGiftPriceLoyalty")),3),s.displayOnly?m("",!0):(r(),f(l,{key:0,class:"free-gift-checkbox-container",id:"free-gift-checkbox",checked:i.freeGiftOptedIn,"onUpdate:checked":t[0]||(t[0]=h=>i.freeGiftOptedIn=h),onClick:t[1]||(t[1]=h=>o.freeGiftFulfilled())},{default:x(()=>[Ut]),_:1},8,["checked"])),c("p",Ft,u(e.$t("i18n.gwpMessage")),1)])],2)}const Oi=g(Gt,[["render",Ht],["__scopeId","data-v-83e12750"]]);const Wt={mixins:[st],components:{VCmsMediaSSR:lt,VRawMarkup:nt},props:{modalContent:{type:Array,default:()=>[]},legalText:{type:String,default:""}},computed:{...p(V,["country","locale"])},methods:{prepareRichText(e){return rt(e,this.country,this.locale)},isRoutableUrl(e){return at(e)},localizeUrl(e){return it(e,this.country,this.locale)},linkStyleToClass(e){let t="text-link";if(typeof e=="string")switch(e){case"Outline Button":t="outline-button";break;case"Filled Button":t="filled-button";break}return t},imageExists(e){return!!(e&&this.objectHasKeys(e==null?void 0:e.image_aem))}}},jt={key:0,class:"cms-modal-body"},Kt=["target","href"];function zt(e,t,s,n,i,o){const a=_("VRawMarkup"),l=_("VCmsMediaSSR"),h=_("router-link");return s.modalContent?(r(),d("div",jt,[(r(!0),d(k,null,L(s.modalContent,(y,w)=>(r(),d(k,null,[y.copy&&y.copy.main_body?(r(),f(a,{"raw-markup":o.prepareRichText(y.copy.main_body),key:`copy-${w}`,class:"copy-block"},null,8,["raw-markup"])):y.image&&o.imageExists(y.image)?(r(),d("div",{key:`image-${w}`,class:"image-block"},[P(l,Ee({class:"image-content"},y.image.image_aem,{"alt-text":y.image.image_alt_text,"use-intrinsic-size":!0,"column-width":7,"column-width-override-mobile":21,alpha:!0,"disable-fixed-aspect-ratio":!0}),null,16,["alt-text"])])):y.cta_link&&y.cta_link.link_url&&o.isRoutableUrl(y.cta_link.link_url)&&!y.cta_link.target_blank?(r(),f(h,{key:`routerlink-${w}`,class:b(["link-block",o.linkStyleToClass(y.cta_link.link_style)]),to:o.localizeUrl(y.cta_link.link_url)},{default:x(()=>[I(u(y.cta_link.link_text),1)]),_:2},1032,["class","to"])):y.cta_link&&y.cta_link.link_url?(r(),d("a",{key:`link-${w}`,class:b(["link-block",o.linkStyleToClass(y.cta_link.link_style)]),target:y.cta_link.target_blank?"_blank":"",href:o.localizeUrl(y.cta_link.link_url)},u(y.cta_link.link_text),11,Kt)):y.cta_link&&y.cta_link.link_text?(r(),d("span",{key:`linktext-${w}`,class:b(["link-block",o.linkStyleToClass(y.cta_link.link_style)])},u(y.cta_link.link_text),3)):m("",!0)],64))),256)),P(a,{"raw-markup":o.prepareRichText(s.legalText),class:"legal-block"},null,8,["raw-markup"])])):m("",!0)}const Yt=g(Wt,[["render",zt],["__scopeId","data-v-8d6de41a"]]);const Qt={components:{Modal:be,VCmsModalBody:Yt,SvgIcon:N},data:()=>({openModal:!1,modalName:""}),computed:{...p(V,["country","locale"])},props:{modal_title:{type:String,default:""},modal_content:{type:Array,default:()=>[]},display_bag_icon_on_title:{type:Boolean,default:!1},legal_text:{type:String,default:""}},methods:{closeThisModal(){this.openModal=!1},openThisModal(){this.openModal=!0,this.modal_title==="DELIVERY INFORMATION"?Ne(this.modal_title):ie(this.modal_title)}},beforeMount(){this.modalName=ot(`cmsmodal-${this.modal_title.replace(/\W/g,"")}`)}},Jt={class:"cms-modal-link"},Zt={key:0,class:"modal-title"};function Xt(e,t,s,n,i,o){const a=_("SvgIcon"),l=_("VCmsModalBody"),h=_("Modal");return r(),d("span",Jt,[c("a",{onClick:t[0]||(t[0]=(...y)=>o.openThisModal&&o.openThisModal(...y)),onKeyup:t[1]||(t[1]=S((...y)=>o.openThisModal&&o.openThisModal(...y),["enter"])),tabindex:"0"},[Te(e.$slots,"default",{},void 0,!0)],32),e.openModal?(r(),f(h,{key:0,"modal-name":e.modalName,onCloseModal:o.closeThisModal},{header:x(()=>[s.modal_title?(r(),d("h3",Zt,[s.display_bag_icon_on_title?(r(),f(a,{key:0,name:"bag",title:"Shopping Bag",class:"shopping-bag-icon"})):m("",!0),I(" "+u(s.modal_title),1)])):m("",!0)]),body:x(()=>[P(l,{"modal-content":s.modal_content,"legal-text":s.legal_text},null,8,["modal-content","legal-text"])]),_:1},8,["modal-name","onCloseModal"])):m("",!0)])}const Vi=g(Qt,[["render",Xt],["__scopeId","data-v-02e90c35"]]);const eo={data(){return{addVoucherReturned:!0,showPromoForm:!1,addOutline:!1}},props:{isPaymentSection:{type:Boolean,default:!1}},computed:{...T(v,["promoInputVal","lastAppliedPromoDetail","promoErrorText","promoErrorShowDetails","promoInfoError"]),...p(G,["isPromoRedesignPhase2Enabled"]),promoInputTxt:{get(){return this.promoInputVal},set(e){this.promoInputVal=e}},isCheckout(){return this.$route.name==="Checkout"}},methods:{...C(v,["addVoucher"]),...C(q,["displayProgressSpinner","hideProgressSpinner"]),applyVoucher(){if(this.displayProgressSpinner(),!this.promoInputVal||!this.addVoucherReturned)return;const e=this.promoInputVal;Be(),Re(e),this.addVoucherReturned=!1,this.promoInfoError="",this.promoErrorText="",this.promoErrorShowDetails=!1,this.addVoucher().then(t=>{if(this.hideProgressSpinner(),this.addVoucherReturned=!0,t.statusCode!==E.SUCCESS){let s=!1;const{badCode:n,conflictCode:i,reason:o}=t;let a="",l=!1;switch(o){case"coupon.already.redeemed":a="alreadyRedeemedPromo";break;case"coupon.already.exists.cart":a="alreadyExistsPromo";break;case"coupon.not.applied.stacking":a="stackingErrorPromo";break;case"coupon.applied.other.removed":a="removedAnotherPromo",l=!0;break;case"coupon.not.applied.removed":a="noItemsPromoError",l=!0;break;case"coupon.not.active.expired":a="expiredPromo",s=!0;break;case"coupon.invalid.code.provided":a="invalidPromo";break;case"coupon.not.stackable.autofire":a="autoStackingErrorPromo";break;default:a="OtherError";break}s&&(this.promoErrorShowDetails=!0),l?this.promoInfoError=this.$t(`i18n.${a}`,{badCode:n,conflictCode:i}):(this.promoErrorText=this.$t(`i18n.${a}`,{badCode:n,conflictCode:i}),Ge(this.$t(`i18n.${a}`,{badCode:"",conflictCode:i}),n)),ee(e,"invalid","invalid")}if(t.statusCode===E.SUCCESS){const s=this.lastAppliedPromoDetail(e);if(s){const{code:n,title:i}=s.promotion;ee(e,n,i)}else ee(e,"","");this.isPromoRedesignPhase2Enabled&&(this.showPromoForm=!1)}})},displayPromoForm(){this.showPromoForm=!0,setTimeout(()=>{this.$refs.promoInputField.focus()},500)},blurValidation(){this.addOutline=!1}}},to={class:"lsco-row"},oo=["disabled"];function so(e,t,s,n,i,o){return r(),d("div",to,[ue(c("span",{class:"promo-form-container",onClick:t[0]||(t[0]=(...a)=>o.displayPromoForm&&o.displayPromoForm(...a)),onKeyup:t[1]||(t[1]=S((...a)=>o.displayPromoForm&&o.displayPromoForm(...a),["enter"])),tabindex:"0",role:"button"},u(e.$t("i18n.addAPromoCodeText")),545),[[Me,!i.showPromoForm&&e.isPromoRedesignPhase2Enabled&&!s.isPaymentSection]]),i.showPromoForm||!e.isPromoRedesignPhase2Enabled||s.isPaymentSection?(r(),d("div",{key:0,class:b(["promo-input-wrapper",{"lsco-col-xs-21 lsco-col-md-5":o.isCheckout}]),role:"form","aria-label":"Promo Code"},[ue(c("input",{id:"voucherCode",name:"voucherCode",class:b(["promo-input",{"outlined-on-focus":i.addOutline}]),type:"text",tabindex:"0","onUpdate:modelValue":t[2]||(t[2]=a=>o.promoInputTxt=a),maxlength:"100",onFocus:t[3]||(t[3]=a=>i.addOutline=!0),onBlur:t[4]||(t[4]=(...a)=>o.blurValidation&&o.blurValidation(...a)),onKeyup:t[5]||(t[5]=S((...a)=>o.applyVoucher&&o.applyVoucher(...a),["enter"])),ref:"promoInputField"},null,34),[[Oe,o.promoInputTxt]]),c("label",{for:"voucherCode",class:b(["promo-label",{floated:e.promoInputVal.length}])},u(e.isPromoRedesignPhase2Enabled?e.$t("i18n.addAPromoCodeText"):e.$t("i18n.promoCodePromptText")),3),c("button",{onClick:t[6]||(t[6]=(...a)=>o.applyVoucher&&o.applyVoucher(...a)),disabled:e.promoInputVal.length<1,class:"promo-submit-button",type:"submit","aria-label":"Submit Promo Code"},u(e.$t("i18n.applyLabelText")),9,oo)],2)):m("",!0)])}const ve=g(eo,[["render",so],["__scopeId","data-v-973c68ca"]]);const ro={emits:["showPromoDetails"],components:{VProductMediaSSR:ct},props:{promo:{type:Object,required:!0}},computed:{description(){var e;return((e=this.promo)==null?void 0:e.description)??""},promoImage(){var t,s;return{url:((s=(t=this.promo)==null?void 0:t.promotion)==null?void 0:s.description)??"",format:"",galleryIndex:0}},existsPromoImage(){var e,t,s;return((s=(t=(e=this.promo)==null?void 0:e.promotion)==null?void 0:t.description)==null?void 0:s.lastIndexOf("http"))===0},promoAltText(){var e,t;return((t=(e=this.promo)==null?void 0:e.promotion)==null?void 0:t.title)??""}},methods:{showDetailsModal(){this.$emit("showPromoDetails",this.promo.promotion)}},mounted(){var e,t;tt({promo_code:(t=(e=this.promo)==null?void 0:e.promotion)==null?void 0:t.code})}},ao=["aria-label"],io={key:0,class:"promo-details"},no={class:"lsco-row lsco-row-xs"},lo={class:"potential-promo-image"},co={class:"promo-title"},uo={key:1,class:"promo-details"},po={class:"promo-title"};function ho(e,t,s,n,i,o){const a=_("VProductMediaSSR");return o.description?(r(),d("div",{key:0,class:"potential-promo","aria-label":o.description,"aria-live":"assertive"},[o.existsPromoImage?(r(),d("div",io,[c("div",no,[c("div",lo,[P(a,{"aspect-ratio":"default","disable-bottom-crop":!1,"product-image":o.promoImage,"alt-text":o.promoAltText,"column-width":5,"aspect-ratio-width":3,"aspect-ratio-height":4},null,8,["product-image","alt-text"])]),c("div",co,[I(u(o.description)+" ",1),c("span",{class:"promo-details-link",role:"link","aria-label":"click for details",tabindex:"0",onClick:t[0]||(t[0]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l)),onKeypress:t[1]||(t[1]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["enter"]))},u(e.$t("i18n.freeGiftSeeDetailsMsg")),33)])])])):(r(),d("div",uo,[c("div",po,[I(u(o.description)+" ",1),c("span",{class:"promo-details-link",role:"link","aria-label":"click for details",tabindex:"0",onClick:t[2]||(t[2]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l)),onKeypress:t[3]||(t[3]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["enter"]))},u(e.$t("i18n.freeGiftSeeDetailsMsg")),33)])]))],8,ao)):m("",!0)}const Ce=g(ro,[["render",ho],["__scopeId","data-v-b2dc4784"]]);const mo={emits:["showAllPromosModal"],computed:{...T(q,["promoDetailsModalTitle"])},methods:{showAllPromosModal(){this.promoDetailsModalTitle=this.$t("i18n.currentPromosLinkText"),this.$emit("showAllPromosModal"),ie("current promotions")}}},yo={class:"current-promotions"};function _o(e,t,s,n,i,o){return r(),d("div",yo,[c("span",{class:"current-promo-link",onClick:t[0]||(t[0]=(...a)=>o.showAllPromosModal&&o.showAllPromosModal(...a)),onKeypress:t[1]||(t[1]=S((...a)=>o.showAllPromosModal&&o.showAllPromosModal(...a),["enter"])),tabindex:"0",role:"link"},u(e.$t("i18n.currentPromosLinkText")),33)])}const ce=g(mo,[["render",_o],["__scopeId","data-v-803b890a"]]);const fo={emits:["showAllPromosModal"],props:{msg:{type:String,required:!0},error:{type:Boolean,default:!1}},components:{currentPromos:ce},computed:{...p(v,["promoErrorShowDetails"])},methods:{showAllPromosModal(){this.$emit("showAllPromosModal")}}},go={class:"promo-error-msg",role:"alert"};function Po(e,t,s,n,i,o){const a=_("currentPromos");return r(),d("div",go,[c("div",null,[I(u(s.msg)+" ",1),e.promoErrorShowDetails?(r(),f(a,{key:0,onShowAllPromosModal:o.showAllPromosModal},null,8,["onShowAllPromosModal"])):m("",!0)])])}const bo=g(fo,[["render",Po],["__scopeId","data-v-eccb5dfa"]]);const vo={emits:["showPromoDetails","showAllPromosModal"],props:{promos:{type:Array,default:()=>[]}},components:{potentialPromo:Ce,promoInfoErrorMessageBar:bo},computed:{...p(v,["promoInfoError"])},methods:{transfer(e){this.$emit("showPromoDetails",e)},showAllPromosModal(){this.$emit("showAllPromosModal")}}},Co={class:"potential-promos"},So={class:"potential-promo-wrapper"};function wo(e,t,s,n,i,o){const a=_("promo-info-error-message-bar"),l=_("potential-promo");return r(),d("div",Co,[e.promoInfoError?(r(),f(a,{key:0,onShowAllPromosModal:o.showAllPromosModal,msg:e.promoInfoError},null,8,["onShowAllPromosModal","msg"])):m("",!0),c("div",So,[(r(!0),d(k,null,L(s.promos,(h,y)=>(r(),f(l,{class:"potential-promo",onShowPromoDetails:o.transfer,key:`order_${y}`,"array-index":y,promo:h,type:"order"},null,8,["onShowPromoDetails","array-index","promo"]))),128))])])}const Se=g(vo,[["render",wo],["__scopeId","data-v-0352915f"]]);const ko={emits:["showAllPromosModal"],props:{msg:{type:String,required:!0},error:{type:Boolean,default:!1}},components:{currentPromos:ce},computed:{...p(v,["promoErrorShowDetails"]),isCheckout(){return this.$route.name==="Checkout"}},methods:{showAllPromosModal(){this.$emit("showAllPromosModal")}}},Io={class:"lsco-row"},Do={class:"promo-error-msg",role:"alert"};function Ao(e,t,s,n,i,o){const a=_("currentPromos");return r(),d("div",Io,[c("div",Do,[c("div",null,[I(u(s.msg)+" ",1),e.promoErrorShowDetails?(r(),f(a,{key:0,onShowAllPromosModal:o.showAllPromosModal},null,8,["onShowAllPromosModal"])):m("",!0)])])])}const we=g(ko,[["render",Ao],["__scopeId","data-v-cb8d141b"]]);const Eo={data(){return{defaultValue:"—"}},props:{label:{type:String,required:!0},value:{type:String,required:!1,default:""},bolded:{type:Boolean,default:!1},fullborder:{type:Boolean,default:!1},subText:{type:String,required:!1,default:""},vatOnly:{type:Boolean,default:!1},showNegative:{type:Boolean,default:!1},zeroGrey:{type:Boolean,default:!1},noUnderline:{type:Boolean,default:!1},giftCard:{type:Boolean,required:!1,default:!1},giftNumber:{type:String,required:!1,default:""},isShipOnly:{type:Boolean,required:!1,default:!1},hasShippingPromo:{type:Number,default:0}},computed:{...p(G,["isPromoRedesignPhase1Enabled"]),displayValue(){return this.value?`${this.showNegative?"-":""}${this.value}`:this.defaultValue}},methods:{giftCardObscured(){return this.giftNumber.replace(/.(?=.{4,}$)/g,"*")}}},To={class:"label"},Mo=["aria-label"],Oo={key:0,class:"break"},Vo={key:1,class:"gift-card"};function Lo(e,t,s,n,i,o){return r(),d("div",{class:b(["lsco-row lsco-row-xs--between subtotal-line-item",{bolded:s.bolded},{fullborder:s.fullborder},{"no-underline":s.noUnderline},{"promo-phase-1":s.isShipOnly&&e.isPromoRedesignPhase1Enabled&&s.hasShippingPromo}]),id:"promo-phase"},[c("span",To,[I(u(s.label)+" ",1),s.subText?(r(),d("div",{key:0,class:b(["vat-message",{vatOnlyMsg:s.vatOnly}])},u(s.subText),3)):m("",!0)]),c("span",{class:b(["value",{grey:s.zeroGrey}]),"aria-label":s.value===i.defaultValue?` ${s.label} - no value applied`:`${s.label} - ${o.displayValue}`,tabindex:0},u(o.displayValue),11,Mo),s.giftCard?(r(),d("span",Oo)):m("",!0),s.giftCard?(r(),d("span",Vo,u(o.giftCardObscured()),1)):m("",!0)],2)}const xo=g(Eo,[["render",Lo],["__scopeId","data-v-64e9f627"]]);const No={emits:["showPromoDetails"],props:{promo:{type:Object,required:!0},amount:{type:String,required:!1,default:""},showNegative:{type:Boolean,default:!1}},computed:{...p(D,["isPromoNewDesignEnabled","defaultCurrency"]),...p(V,["locale"]),...p(O,["cart"]),...T(v,["promoErrorText","promoErrorShowDetails"]),...p(G,["isPromoRedesignPhase1Enabled","isPromoRedesignPhase2Enabled"]),name(){return this.promo.promotion.title},shortName(){return this.promo.promotion.shortName||this.promo.promotion.title},defaultAmount(){return this.promo.promotion.amount?`-${this.formatedPrice(this.promo.promotion.amount)}`:""},hyperLinkForModal(){return!!this.promo.promotion.promoDetails},isAppliedCoin(){return this.getAppliedVoucher(this.promo.voucherCodes)}},methods:{...C(q,["showPromoModal"]),...C(v,["removeVoucher"]),openPromoDetailsModal(e){this.showPromoModal({promos:[e]}),ae("open details",e.title,"Order Summary")},formatedPrice(e){const t=this.locale.replace("_","-");return new Intl.NumberFormat(t,{style:"currency",currency:this.defaultCurrency.isocode}).format(e)},getAppliedVoucher(e){var t;if(Array.isArray((t=this.cart)==null?void 0:t.appliedVouchers))for(let s=0;s<this.cart.appliedVouchers.length;s++){const{code:n,voucherType:i}=this.cart.appliedVouchers[s],o=e==null?void 0:e.find(a=>a===n&&i===Z.LOYALTY);if(o)return o}return null},deleteVoucher(){this.promoErrorText="",this.promoErrorShowDetails=!1,this.removeVoucher({voucherCode:this.promo.voucherCodes[0]})}}},Bo={class:"promo-main"},Ro={key:0,class:"promo-title phase-2 lsco-col-md-5 promo-details-link"},Go={class:"promo-details-wrapper"},qo={key:1,class:"promo-title phase-2 promo-details-link"},$o={class:"promo-details-wrapper"},Uo={key:0},Fo={key:1},Ho={key:3,class:"promo-title phase-1"},Wo={key:0},jo={key:1},Ko={class:"promo-amount"},zo={key:0,class:"promo-title"},Yo={key:1,class:"promo-title"};function Qo(e,t,s,n,i,o){return r(),d("div",Bo,[e.isPromoRedesignPhase1Enabled?(r(),d(k,{key:0},[e.isPromoRedesignPhase2Enabled&&s.promo.promotion.promoDetails?(r(),d("div",Ro,[c("div",Go,[c("div",{class:"promo-title-btn",onClick:t[0]||(t[0]=a=>o.openPromoDetailsModal(s.promo.promotion)),onKeypress:t[1]||(t[1]=S(a=>o.openPromoDetailsModal(s.promo.promotion),["enter"])),onKeyup:t[2]||(t[2]=S(a=>o.openPromoDetailsModal(s.promo.promotion),["space"])),role:"button",tabindex:"0"},u(o.shortName),33),s.promo.voucherCodes?(r(),d("span",{key:0,class:"promo-remove-btn",role:"button",onClick:t[3]||(t[3]=pe((...a)=>o.deleteVoucher&&o.deleteVoucher(...a),["prevent"])),onKeyup:t[4]||(t[4]=S((...a)=>o.deleteVoucher&&o.deleteVoucher(...a),["enter"])),tabindex:"0"},u(e.$t("i18n.removeTextForCart")),33)):m("",!0)])])):e.isPromoRedesignPhase2Enabled&&!s.promo.promotion.promoDetails?(r(),d("div",qo,[c("div",$o,[c("div",null,u(o.shortName),1),s.promo.voucherCodes?(r(),d("span",{key:0,class:"promo-remove-btn",role:"button",onClick:t[5]||(t[5]=pe((...a)=>o.deleteVoucher&&o.deleteVoucher(...a),["prevent"])),onKeyup:t[6]||(t[6]=S((...a)=>o.deleteVoucher&&o.deleteVoucher(...a),["enter"])),tabindex:"0"},u(e.$t("i18n.removeTextForCart")),33)):m("",!0)])])):s.promo.promotion.promoDetails?(r(),d("div",{key:2,class:"promo-title phase-1 lsco-col-md-5 promo-details-link",onClick:t[7]||(t[7]=a=>o.openPromoDetailsModal(s.promo.promotion)),onKeyup:[t[8]||(t[8]=S(a=>o.openPromoDetailsModal(s.promo.promotion),["enter"])),t[9]||(t[9]=S(a=>o.openPromoDetailsModal(s.promo.promotion),["space"]))]},[o.isAppliedCoin?(r(),d("span",Uo,u(o.shortName),1)):(r(),d("span",Fo,u(o.shortName),1))],32)):(r(),d("div",Ho,[o.isAppliedCoin?(r(),d("span",Wo,u(o.shortName),1)):(r(),d("span",jo,u(o.shortName),1))])),c("span",Ko,u(o.defaultAmount),1)],64)):(r(),d(k,{key:1},[o.name&&e.isPromoNewDesignEnabled?(r(),d("div",zo,u(o.shortName),1)):(r(),d("div",Yo,u(o.name),1))],64))])}const Jo=g(No,[["render",Qo],["__scopeId","data-v-74712350"]]);const Zo={components:{appliedPromo:Jo},computed:{...p(O,["cart"]),...p(G,["isPromoRedesignPhase1Enabled"]),promosToUse(){return[...this.cart.appliedOrderPromotions,...this.cart.appliedProductPromotions].filter(e=>{var t;return!((t=e==null?void 0:e.promotion)!=null&&t.shippingOnly)})},groupByPromosToUse(){if(!this.isPromoRedesignPhase1Enabled)return this.promosToUse;const e=[];return this.promosToUse.length&&JSON.parse(JSON.stringify(this.promosToUse)).forEach(s=>{const n=e.findIndex(i=>{var o,a,l,h;return((a=(o=s==null?void 0:s.promotion)==null?void 0:o.shortName)==null?void 0:a.length)&&((l=i==null?void 0:i.promotion)==null?void 0:l.shortName)===((h=s==null?void 0:s.promotion)==null?void 0:h.shortName)});if(n>=0)e[n].promotion.amount+=s.promotion.amount;else{let i={};i=s,e.push(i)}}),e}}};function Xo(e,t,s,n,i,o){const a=_("appliedPromo");return o.groupByPromosToUse.length>0?(r(),d("div",{key:0,class:b(["activePromos lsco-row lsco-row-xs--between",{activePromoSpacing:e.isPromoRedesignPhase1Enabled}])},[(r(!0),d(k,null,L(o.groupByPromosToUse,(l,h)=>(r(),f(a,{key:`order_${h}`,promo:l},null,8,["promo"]))),128))],2)):m("",!0)}const es=g(Zo,[["render",Xo],["__scopeId","data-v-de7d115e"]]);const ts={emits:["showPromoDetails"],props:{promo:{type:Object,required:!0},isPromoSection:{type:Boolean,default:!1}},components:{SvgIcon:N},computed:{...p(G,["isPromoRedesignPhase1Enabled"]),name(){return this.isPromoRedesignPhase1Enabled?this.promo.promotion.title:this.promo.description}},methods:{showDetailsModal(){this.$emit("showPromoDetails",this.promo.promotion),ae("open details",this.promo.promotion.title,"Promo Summary")}}},os={key:0,class:"auto-applied-promo-phase-1 lsco-row"},ss={class:"promo-details"},rs={class:"promo-details"},as={class:"promo-title"},is=["aria-label"];function ns(e,t,s,n,i,o){const a=_("SvgIcon");return e.isPromoRedesignPhase1Enabled&&!s.isPromoSection?(r(),d(k,{key:0},[o.name?(r(),d("div",os,[c("div",ss,[c("div",{class:"promo-title shipping-promo-phase-1",onClick:t[0]||(t[0]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l)),onKeypress:t[1]||(t[1]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["enter"])),onKeyup:t[2]||(t[2]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["space"]))},u(o.name),33)])])):m("",!0)],64)):(r(),d(k,{key:1},[o.name?(r(),d("div",{key:0,class:b(["auto-applied-promo lsco-row",{"checkmark-applied-promo-phase-1":e.isPromoRedesignPhase1Enabled}])},[P(a,{"set-aria-hidden":!0,name:"checkmark",class:"check-icon"}),c("div",rs,[c("div",as,[I(u(o.name)+" ",1),c("span",{class:"promo-details-link",onClick:t[3]||(t[3]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l)),onKeyup:[t[4]||(t[4]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["enter"])),t[5]||(t[5]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["space"]))],tabindex:"0","aria-label":s.promo.description,role:"link"},u(e.$t("i18n.freeGiftSeeDetailsMsg")),41,is)])])],2)):m("",!0)],64))}const ls=g(ts,[["render",ns],["__scopeId","data-v-dd55bc6b"]]);const ds={emits:["showPromoDetails"],props:{promo:{type:Object,required:!0}},components:{SvgIcon:N},computed:{promoTitle(){return this.promo.promotion.shortName??this.promo.promotion.title},shippingOnlyPromo(){return this.promo.promotion.shippingOnly},promoClass(){var e,t,s;return(e=this.promo.promotion)!=null&&e.shortName?this.promo.promotion.shortName.length>22:((s=(t=this.promo.promotion)==null?void 0:t.title)==null?void 0:s.length)>22}},methods:{showDetailsModal(){this.$emit("showPromoDetails",this.promo.promotion)}}},cs={key:0,class:"auto-applied-promo lsco-row"},us={class:"promo-details"},ps={class:"code_description"},hs={class:"short-name"},ms={class:"promo-details-link"},ys={key:1,class:"auto-applied-promo shipping-promo lsco-row"},_s={class:"promo-details"},fs={class:"promo-title"},gs=["aria-label"];function Ps(e,t,s,n,i,o){const a=_("SvgIcon");return r(),d(k,null,[o.promoTitle&&!o.shippingOnlyPromo?(r(),d("div",cs,[c("div",us,[c("div",ps,[c("div",hs,u(o.promoTitle),1),c("div",{class:b(["promo-title",{"promo-title-break":o.promoClass}])},u(s.promo.description),3)]),c("div",ms,[c("button",{class:"promo-details-link-btn",onClick:t[0]||(t[0]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l))},u(e.$t("i18n.pdpProductDetails")),1)])])])):m("",!0),o.promoTitle&&o.shippingOnlyPromo?(r(),d("div",ys,[P(a,{"set-aria-hidden":!0,name:"checkmark",class:"check-icon"}),c("div",_s,[c("div",fs,[I(u(o.promoTitle)+" ",1),c("span",{class:"promo-details-link",onClick:t[1]||(t[1]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l)),onKeypress:t[2]||(t[2]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["enter"])),onKeyup:t[3]||(t[3]=S((...l)=>o.showDetailsModal&&o.showDetailsModal(...l),["space"])),tabindex:"0","aria-label":s.promo.description,role:"link"},u(e.$t("i18n.freeGiftSeeDetailsMsg")),41,gs)])])])):m("",!0)],64)}const bs=g(ds,[["render",Ps],["__scopeId","data-v-33af03e7"]]),vs={emits:["showPromoDetails"],components:{autoPromo:ls,autoPromoReDesign:bs},computed:{...p(D,["isPromoNewDesignEnabled"])},props:{promosToUse:{type:Array,required:!1,default:()=>[]},isPromoSection:{type:Boolean,default:!1}},methods:{transfer(e){this.$emit("showPromoDetails",e)}}},Cs={key:0,class:"auto-promos"},Ss={key:1,class:"auto-promos-re-design"},ws={key:0};function ks(e,t,s,n,i,o){const a=_("auto-promo"),l=_("auto-promo-re-design");return e.isPromoNewDesignEnabled?(r(),d("div",Ss,[s.promosToUse.length>0?(r(),d("span",ws,[(r(!0),d(k,null,L(s.promosToUse,(h,y)=>(r(),d("div",{key:`order_${y}`},[P(l,{onShowPromoDetails:o.transfer,promo:h},null,8,["onShowPromoDetails","promo"])]))),128))])):m("",!0)])):(r(),d("div",Cs,[(r(!0),d(k,null,L(s.promosToUse,(h,y)=>(r(),f(a,{class:"auto-promo",onShowPromoDetails:o.transfer,key:`order_${y}`,"array-index":y,promo:h,type:"order","is-promo-section":s.isPromoSection},null,8,["onShowPromoDetails","array-index","promo","is-promo-section"]))),128))]))}const ke=g(vs,[["render",ks]]);const Is={emits:["showPromoDetails"],data(){return{modalPromos:null,showPromoDetailsModal:!1}},props:{promos:{type:Array,default:()=>[]}},components:{potentialPromo:Ce},computed:{...p(v,["promoInfoError","isBOPISOnlyCart"])},methods:{openPromoDetailsModal(e){this.$emit("showPromoDetails",e)}}},Ds={key:0,class:"potential-shipping-promos"};function As(e,t,s,n,i,o){const a=_("potential-promo");return e.isBOPISOnlyCart?m("",!0):(r(),d("div",Ds,[(r(!0),d(k,null,L(s.promos,(l,h)=>(r(),f(a,{class:"potential-promo",onShowPromoDetails:o.openPromoDetailsModal,key:`order_${h}`,"array-index":h,promo:l,type:"order"},null,8,["onShowPromoDetails","array-index","promo"]))),128))]))}const Es=g(Is,[["render",As],["__scopeId","data-v-be044b04"]]);const Ts={emits:["showPromoDetails"],components:{TotalsLineItem:xo,activePromos:es,potentialShippingPromos:Es,autoPromos:ke},props:{toDisable:{type:Boolean}},data(){return{subtotalLabel:this.$t("i18n.subtotalLabel"),itemLabel:this.$t("i18n.itemsText"),discountLabel:this.$t("i18n.discountLabel"),shippingLabel:this.$t("i18n.shippingLabel"),pickUpLabel:this.$t("i18n.pickUpLabel"),donationLabel:this.$t("i18n.donationLabel"),giftWrapLabel:this.$t("i18n.giftWrapText"),taxLabel:this.$t("i18n.taxLabel"),taxCalculate:this.$t("i18n.taxCalculateLabel"),giftCardLabel:this.$t("i18n.giftCardLabel"),totalLabel:this.$t("i18n.totalLabel"),dueTodayLabel:this.$t("i18n.dueTodayLabel"),orderBalanceLabel:this.$t("i18n.orderBalanceLabel"),getPickupFees:this.$t("i18n.freeShippingText")}},computed:{...p(D,["toggle","giftWrapPrice"]),...p(O,["cartIsEmpty","cart"]),...p(v,["allPotentialPromos","totalPriceWithTax"]),...p(H,["shipmentCost"]),...p(pt,["afterpayOrderReady"]),...p(V,["country","isLSA"]),getTotalPrice(){return this.allGiftCards.length&&this.cart.totalPriceWithTaxMinusGiftCard?this.cart.totalPriceWithTaxMinusGiftCard.formattedValue:this.cart.totalPriceWithTax&&this.cart.totalPriceWithTax.formattedValue},allGiftCards(){return this.cart.additionalPaymentInfos?this.cart.additionalPaymentInfos.filter(e=>e.number):[]},showDiscounts(){var e,t,s;return!this.cartIsEmpty&&((e=this.cart)==null?void 0:e.totalDiscounts)&&((s=(t=this.cart)==null?void 0:t.totalDiscounts)==null?void 0:s.value)!==0},showDonations(){var e,t,s;return((e=this.cart)==null?void 0:e.donationOptIn)&&!!((s=(t=this.cart)==null?void 0:t.donationsAmount)!=null&&s.value)},showGiftWrap(){var e;return((e=this.cart)==null?void 0:e.hasGiftWrapEntry)||!1},giftWrapPriceText(){return this.giftWrapPrice},isCheckout(){return this.$route.name==="Checkout"},showGreyTax(){var t,s,n;if((t=this.cart)!=null&&t.taxPendingStatus&&this.isLSA)return!1;const e=((n=(s=this.cart)==null?void 0:s.totalTax)==null?void 0:n.value)??0;return e===0||e===0},formatTaxValue(){var e,t,s,n,i,o;return(e=this.cart)!=null&&e.taxPendingStatus&&this.isLSA?this.taxCalculate:this.isCheckout?((n=(s=this.cart)==null?void 0:s.totalTax)==null?void 0:n.value)!==0?(o=(i=this.cart)==null?void 0:i.totalTax)==null?void 0:o.formattedValue:"—":(t=this.cart.totalTax)==null?void 0:t.formattedValue},getSubtotalLabel(){return this.itemLabel},totalSubText(){return this.toggle("includesVatOnly")?this.$t("i18n.vatText"):this.toggle("includesVATAndDuties")?this.$t("i18n.subTotalIncluded"):""},isShipOnly(){return this.cart.entries.findIndex(t=>t.deliveryPointOfService===null)>=0},isPickUpOnly(){return this.cart.entries.findIndex(t=>t.deliveryPointOfService!==null)>=0},showTax(){return this.toggle("showTax")},potentailShippingPromos(){return this.hasEGiftCard?[]:this.allPotentialPromos.filter(e=>{var s;return((s=e==null?void 0:e.promotion)==null?void 0:s.shippingOnly)??!1})},activeShippingPromos(){return[...this.cart.appliedOrderPromotions,...this.cart.appliedProductPromotions].filter(e=>{var t;return((t=e==null?void 0:e.promotion)==null?void 0:t.shippingOnly)??!1})},dueTodayAmount(){return`$${(this.totalPriceWithTax/4).toFixed(2)}`},getTotalLabel(){return this.allGiftCards.length?this.orderBalanceLabel:this.totalLabel},hasEGiftCard(){return this.cart.entries.find(e=>{var t;return((t=e.product)==null?void 0:t.giftCardType)==="ELECTRONIC_GIFTCARD"})},getShippingFees(){var t,s;return this.cart.sddCharge&&((t=this.cart.sddCharge)==null?void 0:t.value)||this.cart.deliveryCost&&((s=this.cart.deliveryCost)==null?void 0:s.value)?this.shipmentCost:this.$t("i18n.freeShippingText")}},methods:{openPromoDetailsModal(e){this.$emit("showPromoDetails",e)},getGiftCardAmount(e){var t;return`-${(t=e.appliedAmount)==null?void 0:t.formattedValue}`}}};function Ms(e,t,s,n,i,o){var B;const a=_("TotalsLineItem"),l=_("activePromos"),h=_("totals-line-item"),y=_("potential-shipping-promos"),w=_("autoPromos");return r(),d("div",{class:b(["cart-totals",{checkout:o.isCheckout}])},[P(a,{label:o.getSubtotalLabel,value:e.cart.subTotal&&e.cart.subTotal.formattedValue},null,8,["label","value"]),o.showDiscounts?(r(),f(a,{key:0,class:"discount",label:i.discountLabel,"show-negative":!0,value:e.cart.totalDiscounts&&e.cart.totalDiscounts.formattedValue,"is-ship-only":o.isShipOnly},null,8,["label","value","is-ship-only"])):m("",!0),P(l),o.showGiftWrap?(r(),f(h,{key:1,label:i.giftWrapLabel,value:o.giftWrapPriceText},null,8,["label","value"])):m("",!0),o.showTax&&o.isCheckout?(r(),f(a,{key:2,label:i.taxLabel,value:o.formatTaxValue},null,8,["label","value"])):m("",!0),o.isShipOnly?(r(),f(a,{key:3,label:i.shippingLabel,"is-ship-only":o.isShipOnly,"has-shipping-promo":(B=o.activeShippingPromos)==null?void 0:B.length,value:o.getShippingFees},null,8,["label","is-ship-only","has-shipping-promo","value"])):m("",!0),P(y,{onShowPromoDetails:o.openPromoDetailsModal,promos:o.potentailShippingPromos},null,8,["onShowPromoDetails","promos"]),P(w,{onShowPromoDetails:o.openPromoDetailsModal,"promos-to-use":o.activeShippingPromos,"is-promo-section":!1},null,8,["onShowPromoDetails","promos-to-use"]),o.isPickUpOnly?(r(),f(a,{key:4,label:i.pickUpLabel,value:i.getPickupFees},null,8,["label","value"])):m("",!0),o.showDonations?(r(),f(h,{key:5,label:i.donationLabel,value:e.cart.donationsAmount.formattedValue},null,8,["label","value"])):m("",!0),o.showTax&&!o.isCheckout?(r(),f(a,{key:6,label:i.taxLabel,"zero-grey":o.showGreyTax,value:o.formatTaxValue},null,8,["label","zero-grey","value"])):m("",!0),c("div",{class:b(["horizontal-line",{checkout:o.isCheckout}])},null,2),o.allGiftCards.length?(r(),d(k,{key:7},[P(a,{label:e.$t("i18n.subtotalLabel"),value:e.cart.totalPriceWithTax&&e.cart.totalPriceWithTax.formattedValue},null,8,["label","value"]),(r(!0),d(k,null,L(o.allGiftCards,R=>(r(),f(a,{label:i.giftCardLabel,value:o.getGiftCardAmount(R),key:R.number,"gift-card":!0,"gift-number":R.number},null,8,["label","value","gift-number"]))),128)),c("div",{class:b(["horizontal-line",{checkout:o.isCheckout}])},null,2)],64)):m("",!0),P(a,{"sub-text":o.totalSubText,label:o.getTotalLabel,value:o.getTotalPrice,"vat-only":e.toggle("includesVatOnly"),bolded:!0,"no-underline":e.afterpayOrderReady&&o.isCheckout,class:b(["line-total",{isDisabled:s.toDisable}])},null,8,["sub-text","label","value","vat-only","no-underline","class"]),e.afterpayOrderReady?(r(),f(a,{key:8,label:i.dueTodayLabel,value:o.dueTodayAmount,bolded:!0,class:b(["line-total"])},null,8,["label","value"])):m("",!0)],2)}const Os=g(Ts,[["render",Ms],["__scopeId","data-v-6c8a1198"]]);const Vs={emits:["showPromoDetails"],props:{voucher:{type:Object,required:!0},promo:{type:Object,required:!0}},components:{SvgIcon:N},computed:{...T(v,["promoErrorText","promoErrorShowDetails"]),voucherCode(){return this.voucher.voucherCode},promoTitle(){return this.promo.promotion.title}},methods:{...C(v,["removeVoucher"]),deleteVoucher(){this.promoErrorText="",this.promoErrorShowDetails=!1,this.removeVoucher({voucherCode:this.voucherCode})},showDetailsModal(){this.$emit("showPromoDetails",this.promo.promotion)}}},Ls={class:"voucherItem"},xs={class:"inner-container lsco-row"},Ns={class:"promo-details"},Bs={class:"voucherCode"},Rs={class:"promo-description"},Gs={class:"promo-details-link"};function qs(e,t,s,n,i,o){const a=_("SvgIcon");return r(),d("div",Ls,[c("div",xs,[c("button",{type:"button",class:"remove__code","aria-label":"Remove Voucher Code",onClick:t[0]||(t[0]=(...l)=>o.deleteVoucher&&o.deleteVoucher(...l))},[P(a,{name:"close",class:"remove__code-icon",title:"remove icon"})]),c("div",Ns,[c("div",Bs,u(o.voucherCode),1),c("div",Rs,u(o.promoTitle),1),c("div",Gs,[c("button",{class:"promo-details-link-btn",onClick:t[1]||(t[1]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l))},u(e.$t("i18n.pdpProductDetails")),1)])])])])}const $s=g(Vs,[["render",qs],["__scopeId","data-v-a0a152bf"]]);const Us={emits:["showPromoDetails"],props:{voucher:{type:Object,required:!0},promo:{type:Object,required:!0}},components:{SvgIcon:N},computed:{...T(v,["promoErrorText","promoErrorShowDetails"]),voucherCode(){return this.voucher.voucherCode},promoDescription(){return this.promo.description},promoClass(){return this.voucherCode.length>22}},methods:{...C(v,["removeVoucher"]),deleteVoucher(){this.promoErrorText="",this.promoErrorShowDetails=!1,this.removeVoucher({voucherCode:this.voucherCode})},showDetailsModal(){this.$emit("showPromoDetails",this.promo.promotion)}}},Fs={class:"voucherItem"},Hs={class:"inner-container lsco-row"},Ws={class:"promo-details"},js={class:"code_description"},Ks={class:"voucherCode"},zs={class:"promo-details-link"};function Ys(e,t,s,n,i,o){const a=_("SvgIcon");return r(),d("div",Fs,[c("div",Hs,[c("div",{type:"button",class:"remove__code","aria-label":"Remove Voucher Code",onClick:t[0]||(t[0]=(...l)=>e.removeVoucher&&e.removeVoucher(...l)),onKeypress:t[1]||(t[1]=S((...l)=>e.removeVoucher&&e.removeVoucher(...l),["enter"]))},[P(a,{name:"close-circle",class:"remove__code-icon",title:"remove icon"})],32),c("div",Ws,[c("div",js,[c("div",Ks,u(o.voucherCode),1),c("div",{class:b(["promo-description",{"promo-title-break":o.promoClass}])},u(o.promoDescription),3)]),c("div",zs,[c("button",{class:"promo-details-link-btn",onClick:t[2]||(t[2]=(...l)=>o.showDetailsModal&&o.showDetailsModal(...l))},u(e.$t("i18n.pdpProductDetails")),1)])])])])}const Qs=g(Us,[["render",Ys],["__scopeId","data-v-7af4093b"]]);const Js={emits:["showPromoDetails"],data(){return{showPromoDetailsModal:!1,promoDetailBody:""}},computed:{...p(O,["cart"]),...p(D,["isPromoNewDesignEnabled"]),vouchers(){var t;return((t=this.cart.appliedVouchers)==null?void 0:t.filter(s=>(s==null?void 0:s.voucherType)===Z.PROMOTION))||[]}},props:{promosToUse:{type:Array,required:!1,default:()=>[]}},components:{appliedVoucher:$s,appliedVoucherReDesign:Qs},methods:{getPromo(e){const{voucherCode:t}=e;return[...this.cart.appliedOrderPromotions,...this.cart.appliedProductPromotions].find(n=>{var o;return(((o=n==null?void 0:n.voucherCodes)==null?void 0:o.length)??0)>0?n.voucherCodes.includes(t):!1})},transfer(e){this.$emit("showPromoDetails",e)}}},Zs={key:0,class:"active-vouchers lsco-row"},Xs={key:1,class:"active-vouchers-redesign"},er={key:0};function tr(e,t,s,n,i,o){const a=_("appliedVoucher"),l=_("appliedVoucherReDesign");return e.isPromoNewDesignEnabled?(r(),d("div",Xs,[s.promosToUse.length>0?(r(),d("span",er,[(r(!0),d(k,null,L(s.promosToUse,(h,y)=>(r(),f(l,{onShowPromoDetails:o.transfer,key:`voucher_${y}`,promo:o.getPromo(h),voucher:h},null,8,["onShowPromoDetails","promo","voucher"]))),128))])):m("",!0)])):(r(),d("div",Zs,[(r(!0),d(k,null,L(o.vouchers,(h,y)=>(r(),f(a,{onShowPromoDetails:o.transfer,key:`voucher_${y}`,promo:o.getPromo(h),voucher:h},null,8,["onShowPromoDetails","promo","voucher"]))),128))]))}const or=g(Js,[["render",tr],["__scopeId","data-v-17f524b3"]]);const sr={inject:["mq"],emits:["showPromoDetails","showAllPromosModal"],components:{promoInput:ve,currentPromos:ce,activeVouchers:or,autoPromos:ke,promoErrorMessageBar:we,potentialPromos:Se,SvgIcon:N},props:{isPaymentSection:{type:Boolean,default:!1}},data:()=>({disableRightArrow:!1,disableLeftArrow:!0,showPromoArrowNav:!1}),computed:{...p(v,["allPotentialPromos"]),...T(v,["promoErrorText"]),...p(G,["isPromoRedesignPhase2Enabled"]),...p(O,["cart"]),...p(D,["isPromoNewDesignEnabled"]),isCheckout(){return this.$route.name==="Checkout"},potentialPromos(){return this.allPotentialPromos.filter(e=>{var s;return!(((s=e==null?void 0:e.promotion)==null?void 0:s.shippingOnly)??!1)})},autoPromos(){return[...this.cart.appliedOrderPromotions,...this.cart.appliedProductPromotions].filter(t=>{var i,o;const s=((i=t==null?void 0:t.promotion)==null?void 0:i.shippingOnly)??!1;return(((o=t==null?void 0:t.voucherCodes)==null?void 0:o.length)??0)<1&&!s})},hasEGiftCard(){return this.cart.entries.some(e=>{var t;return((t=e.product)==null?void 0:t.giftCardType)==="ELECTRONIC_GIFTCARD"})},vouchers(){var t;return((t=this.cart.appliedVouchers)==null?void 0:t.filter(s=>(s==null?void 0:s.voucherType)===Z.PROMOTION))||[]},appliedVouchers(){return this.vouchers.concat(this.autoPromos)},isMobile(){return this.mq.current==="mobile"},isTablet(){return this.mq.current==="tablet"},isDesktop(){return this.mq.current==="desktop"}},methods:{openPromoDetailsModal(e){this.$emit("showPromoDetails",e)},openPotPromoModal(){this.$emit("showAllPromosModal"),ie("Promo Details")},scrollLeft(){const e=document.querySelector(".promos-container");e&&(e.scrollTo({top:0,left:e.scrollLeft-=e.clientWidth,behavior:"smooth"}),this.disableRightArrow=!1,e.scrollLeft===0&&(this.disableLeftArrow=!0))},scrollRight(){const e=document.querySelector(".promos-container");if(e){e.scrollTo({top:0,left:e.scrollLeft+=e.clientWidth,behavior:"smooth"}),this.disableLeftArrow=!1;const t=Math.floor(e.scrollLeft)+e.clientWidth;[e.scrollWidth,e.scrollWidth+1,e.scrollWidth-1].includes(t)&&(this.disableRightArrow=!0)}},checkPromoArrowNav(){const e=document.querySelector(".promos-container");if(e){const t=e.clientWidth+4<e.scrollWidth;this.showPromoArrowNav=this.isDesktop&&t}}},mounted(){this.checkPromoArrowNav()},updated(){this.checkPromoArrowNav()}},rr={key:0,class:"cart-voucher"},ar={key:0,class:"promo-header-section lsco-row lsco-row-xs--between"},ir={class:"promo-title"},nr={key:1,class:"auto-promo-active-vouchers"},lr={key:1,class:"promos-container promos"},dr={key:2,class:"phase2"},cr={key:1,class:"cart-voucher"},ur={class:"promo-header-section"},pr={class:"promo-title"},hr={class:"promo-warning"};function mr(e,t,s,n,i,o){var F;const a=_("currentPromos"),l=_("SvgIcon"),h=_("autoPromos"),y=_("activeVouchers"),w=_("promoInput"),B=_("promo-error-message-bar"),R=_("potentialPromos");return r(),d("div",null,[o.hasEGiftCard?m("",!0):(r(),d("div",rr,[!o.isCheckout&&(!e.isPromoRedesignPhase2Enabled||s.isPaymentSection)?(r(),d("div",ar,[c("div",ir,u(e.$t("i18n.promoTitleText")),1),P(a,{class:"details-link",onShowAllPromosModal:o.openPotPromoModal},null,8,["onShowAllPromosModal"])])):m("",!0),e.isPromoNewDesignEnabled&&((F=o.appliedVouchers)==null?void 0:F.length)>0?(r(),d("div",nr,[e.showPromoArrowNav?(r(),d("div",{key:0,class:"arrow-container left",onClick:t[0]||(t[0]=(...M)=>o.scrollLeft&&o.scrollLeft(...M)),onKeyup:t[1]||(t[1]=S((...M)=>o.scrollLeft&&o.scrollLeft(...M),["enter"]))},[P(l,{class:"arrow",name:e.disableLeftArrow?"arrow-left-promo-disabled":"arrow-left-promo",title:"arrow-left"},null,8,["name"])],32)):m("",!0),!e.isPromoRedesignPhase2Enabled||s.isPaymentSection?(r(),d("div",lr,[(r(!0),d(k,null,L(o.appliedVouchers,(M,Ae)=>(r(),d("div",{key:Ae,class:b([{"lsco-col-xs-11 offset-m":o.isMobile,"lsco-col-xs-5 offset-t":o.isTablet,"lsco-col-xs-3 offset-d":o.isDesktop}])},[M.code?m("",!0):(r(),f(h,{key:0,onShowPromoDetails:o.openPromoDetailsModal,"promos-to-use":new Array(M),"is-promo-section":!0},null,8,["onShowPromoDetails","promos-to-use"])),M.code?(r(),f(y,{key:1,onShowPromoDetails:o.openPromoDetailsModal,"promos-to-use":new Array(M)},null,8,["onShowPromoDetails","promos-to-use"])):m("",!0)],2))),128))])):m("",!0),e.showPromoArrowNav?(r(),d("div",{key:2,class:"arrow-container right",onClick:t[2]||(t[2]=(...M)=>o.scrollRight&&o.scrollRight(...M)),onKeyup:t[3]||(t[3]=S((...M)=>o.scrollRight&&o.scrollRight(...M),["enter"]))},[P(l,{class:"arrow",name:e.disableRightArrow?"arrow-right-promo-disabled":"arrow-right-promo",title:"arrow-right"},null,8,["name"])],32)):m("",!0)])):m("",!0),!e.isPromoNewDesignEnabled&&(!e.isPromoRedesignPhase2Enabled||s.isPaymentSection)?(r(),d("div",dr,[P(h,{onShowPromoDetails:o.openPromoDetailsModal,"promos-to-use":o.autoPromos,"is-promo-section":!0},null,8,["onShowPromoDetails","promos-to-use"]),P(y,{onShowPromoDetails:o.openPromoDetailsModal},null,8,["onShowPromoDetails"])])):m("",!0),o.isCheckout&&(!e.isPromoRedesignPhase2Enabled||s.isPaymentSection)?(r(),f(a,{key:3,class:"details-link",onShowAllPromosModal:o.openPotPromoModal},null,8,["onShowAllPromosModal"])):m("",!0),!e.isPromoRedesignPhase2Enabled||s.isPaymentSection?(r(),f(w,{key:4,"is-payment-section":!0})):m("",!0),e.promoErrorText&&(!e.isPromoRedesignPhase2Enabled||s.isPaymentSection)?(r(),f(B,{key:5,error:!0,msg:e.promoErrorText,onShowAllPromosModal:o.openPotPromoModal},null,8,["msg","onShowAllPromosModal"])):m("",!0),!e.isPromoRedesignPhase2Enabled||s.isPaymentSection?(r(),f(R,{key:6,onShowAllPromosModal:o.openPotPromoModal,onShowPromoDetails:o.openPromoDetailsModal,promos:o.potentialPromos},null,8,["onShowAllPromosModal","onShowPromoDetails","promos"])):m("",!0)])),o.hasEGiftCard?(r(),d("div",cr,[c("div",ur,[c("div",pr,u(e.$t("i18n.promoTitleText")),1),c("div",hr,u(e.$t("i18n.promotionNoEntryForEGC")),1)])])):m("",!0)])}const yr=g(sr,[["render",mr],["__scopeId","data-v-bf274dcc"]]);const _r={components:{SvgIcon:N},props:{points:{type:[Number,String],default:0}}},fr={class:"header"},gr={class:"title"},Pr={key:0,class:"available-points"};function br(e,t,s,n,i,o){const a=_("svg-icon");return r(),d("div",fr,[c("p",gr,u(e.$t("i18n.availableCoins")),1),s.points?(r(),d("div",Pr,[P(a,{name:"coins",class:"coins-icon"}),c("span",null,u(s.points),1)])):m("",!0)])}const vr=g(_r,[["render",br],["__scopeId","data-v-d6c7fd37"]]);const Cr={props:{coupon:{type:Object,required:!0},currencyCode:{type:String,required:!0},isApplied:{type:Boolean}},components:{SvgIcon:N},data(){return{isRequestInPending:!1}},computed:{...p(V,["locale"]),...p(D,["isPromoNewDesignEnabled"]),...T(v,["loyaltyData"]),...p(O,["cart"]),isDisabled(){var e,t;return((e=this.coupon)==null?void 0:e.value)>U.SMALLEST_VALUE&&((t=this.cart)==null?void 0:t.totalPrice.value)<U.MIN_SPEND_MOST_VOUCHERS?!0:!this.coupon.enabled},currencyAmount(){const e=this.locale.replace("_","-");return new Intl.NumberFormat(e,{style:"currency",currency:this.currencyCode}).format(this.coupon.value)}},methods:{...C(v,["applyLoyaltyVoucher","removeLoyaltyVoucher"]),...C(q,["displayProgressSpinner","hideProgressSpinner"]),applyVoucher(){this.isDisabled&&te("add disabled",this.coupon.couponId),!(this.isApplied||this.isRequestInPending||this.isDisabled)&&(this.displayProgressSpinner(),te("add",this.coupon.couponId),this.isRequestInPending=!0,this.applyLoyaltyVoucher({voucherCode:this.coupon.couponId}).then(e=>{if(this.hideProgressSpinner(),e.statusCode===E.SUCCESS){const t={loyaltyCoupons:this.loyaltyData.loyaltyCoupons,totalPoints:this.loyaltyData.totalPoints-this.coupon.pointsRequired};this.loyaltyData=t}this.isRequestInPending=!1}))},removeVoucher(){this.isRequestInPending||(te("remove",this.coupon.couponId),this.isApplied&&(this.isRequestInPending=!0,this.displayProgressSpinner(),this.removeLoyaltyVoucher({voucherCode:this.coupon.couponId}).then(e=>{if(this.hideProgressSpinner(),e.statusCode===E.SUCCESS){const t={loyaltyCoupons:this.loyaltyData.loyaltyCoupons,totalPoints:this.loyaltyData.totalPoints+this.coupon.pointsRequired};this.loyaltyData=t}this.isRequestInPending=!1})))}}},Sr={class:"lsco-col"};function wr(e,t,s,n,i,o){const a=_("svg-icon");return r(),d("div",Sr,[e.isPromoNewDesignEnabled?(r(),d("div",{key:1,class:b(["coupon-item coupon-item-re-design lsco-row",{disabled:o.isDisabled}]),onClick:t[4]||(t[4]=(...l)=>o.applyVoucher&&o.applyVoucher(...l)),onKeyup:t[5]||(t[5]=S((...l)=>o.applyVoucher&&o.applyVoucher(...l),["enter"]))},[s.isApplied?(r(),d("button",{key:0,type:"button",class:"remove-icon-container",onClick:t[3]||(t[3]=(...l)=>o.removeVoucher&&o.removeVoucher(...l)),"aria-label":"Remove Loyalty Voucher"},[P(a,{name:"close",class:"remove-icon"})])):m("",!0),c("div",{class:b(["details",{spacing:!s.isApplied}])},[c("div",{class:b(["currency-amount",{disabled:o.isDisabled}])},u(o.currencyAmount),3),c("div",{class:b(["points",{disabled:o.isDisabled}])},u(`${~~s.coupon.pointsRequired} Coins`),3)],2)],34)):(r(),d("div",{key:0,class:b(["coupon-item lsco-row",{disabled:o.isDisabled}]),onClick:t[1]||(t[1]=(...l)=>o.applyVoucher&&o.applyVoucher(...l)),onKeyup:t[2]||(t[2]=S((...l)=>o.applyVoucher&&o.applyVoucher(...l),["enter"]))},[s.isApplied?(r(),d("button",{key:0,type:"button",class:"remove-icon-container",onClick:t[0]||(t[0]=(...l)=>o.removeVoucher&&o.removeVoucher(...l)),"aria-label":"Remove Loyalty Voucher"},[P(a,{name:"close",class:"remove-icon"})])):m("",!0),c("div",{class:b(["details",{spacing:!s.isApplied}])},[c("div",{class:b(["currency-amount",{disabled:o.isDisabled}])},u(o.currencyAmount),3),c("div",{class:b(["points",{disabled:o.isDisabled}])},u(`${~~s.coupon.pointsRequired} Coins`),3)],2)],34))])}const kr=g(Cr,[["render",wr],["__scopeId","data-v-4a371568"]]);const Ir={computed:{...p(D,["isPromoNewDesignEnabled"])},props:{text:{type:String,required:!0},info:{type:Boolean},warning:{type:Boolean},error:{type:Boolean}}};function Dr(e,t,s,n,i,o){return r(),d("div",{class:b(["msg-container",{"msg-container-coin-design":e.isPromoNewDesignEnabled}])},[c("p",{class:b({info:s.info,warning:s.warning,error:s.error})},u(s.text),3)],2)}const Ar=g(Ir,[["render",Dr],["__scopeId","data-v-f812cd91"]]);const Er=async()=>ze(Ye(()=>import("./countries_code_dd26cbfc_r24-02-0_b0_t240129-161140.js").then(e=>e.c),[])),Tr={components:{availableCoins:vr,loyaltyCoupon:kr,message:Ar},data(){return{isLoyaltyDataError:!1,countriesQuery:null}},computed:{...p(O,["cart"]),...p(V,["locale","country"]),...z("userProfileState",["record"]),...T(v,["loyaltyData","rtMemberData"]),...p(D,["isRedTabGlobalEnabled","isPromoNewDesignEnabled","currencies","defaultCurrency","loyaltyEnabled","loyaltyThreshold","isCartBenefitsEnabled"]),...p(G,["isBenefitsAtCartABTestEnabled"]),isClassicVoucherCarouselEnabled(){return!this.isBenefitsAtCartABTestEnabled},coupons(){var e;return((e=this.loyaltyData)==null?void 0:e.loyaltyCoupons)??[]},points(){var e;return((e=this.loyaltyData)==null?void 0:e.totalPoints)??0},minimumOrderThreshold(){return this.loyaltyEnabled&&this.loyaltyThreshold},lowestValueCoupon(){return this.coupons[0]},cannotRedeemVoucher(){return this.cart.totalPrice.value<this.minimumOrderThreshold},currencyIsoCode(){var e,t,s;return this.lowestValueCoupon?((t=(e=this.currencies)==null?void 0:e.find(n=>(n==null?void 0:n.symbol)===this.lowestValueCoupon.currency))==null?void 0:t.isocode)??null:(s=this.defaultCurrency)==null?void 0:s.isocode},onlyLowestValueCouponEnabled(){var t;const e=this.coupons.filter(s=>{var n;return!((s==null?void 0:s.value)>U.SMALLEST_VALUE&&((n=this.cart)==null?void 0:n.totalPrice.value)<U.MIN_SPEND_MOST_VOUCHERS||!s.enabled)});return(e==null?void 0:e.length)===1&&((t=e==null?void 0:e[0])==null?void 0:t.value)===U.SMALLEST_VALUE&&this.points>=U.COINS_REQD_FOR_MOST_VOUCHERS},infoText(){let e=this.$t("i18n.applyVoucherInfo");const t=this.locale.replace("_","-");if(this.points<this.lowestValueCoupon.pointsRequired){const s=this.lowestValueCoupon.pointsRequired-this.points,n=new Intl.NumberFormat(t,{style:"currency",currency:this.currencyIsoCode}).format(this.lowestValueCoupon.value||0);e=this.$t("i18n.needMoreCoinsInfo",{_pointsRequired_:s,_voucherValue_:n})}else if(this.cannotRedeemVoucher){const s=new Intl.NumberFormat(t,{style:"currency",currency:this.currencyIsoCode}).format((this.minimumOrderThreshold-this.cart.totalPrice.value).toFixed(2));e=this.$t("i18n.redeemVoucherInfo",{_value_:s})}else this.onlyLowestValueCouponEnabled&&!this.apppliedCoupon&&(e=this.$t("i18n.redeemOtherVouchersInfo",{_value_:U.MIN_SPEND_MOST_VOUCHERS}));return e},apppliedCoupon(){return this.getAppliedVoucher(this.coupons)},differentCountryMsg(){var t,s,n,i,o,a,l,h,y,w;const e=((s=(t=this.record)==null?void 0:t.country)==null?void 0:s.isocode)||((i=this.countriesQuery)==null?void 0:i.convertAlphaCode((n=this.record.loyaltyProfile)==null?void 0:n.LoyaltyZoneCode));if(!this.isRedTabGlobalEnabled&&e&&this.country.toLowerCase()!==e.toLowerCase()){const B=((a=(o=this.record)==null?void 0:o.country)==null?void 0:a.name)||((h=(l=this.record)==null?void 0:l.loyaltyProfile)==null?void 0:h.Country)||((w=this.countriesQuery)==null?void 0:w.getCountry((y=this.record.loyaltyProfile)==null?void 0:y.LoyaltyZoneCode));return this.$t("i18n.redeemVoucherCountryInfo",{_country_:B})}return null},showMessageBelow(){return this.onlyLowestValueCouponEnabled&&!this.apppliedCoupon}},methods:{...C(v,["updateRtMemberData"]),getAppliedVoucher(e){var t;if(Array.isArray((t=this.cart)==null?void 0:t.appliedVouchers))for(let s=0;s<this.cart.appliedVouchers.length;s++){const{code:n}=this.cart.appliedVouchers[s],i=e.find(({couponId:o})=>o===n);if(i)return i}return null},fetchData(){return this.$store.dispatch("userProfileState/fetchLoyaltyData").then(e=>{if(!e||e.message)this.isLoyaltyDataError=!0;else{const t=e,s=this.getAppliedVoucher(e.loyaltyCoupons);s&&(t.totalPoints=e.totalPoints-s.pointsRequired),this.rtMemberData.balance=t.totalPoints,this.updateRtMemberData(this.rtMemberData),this.cannotRedeemVoucher?(t.loyaltyCoupons=e.loyaltyCoupons.map(n=>({...n,enabled:!1})),this.loyaltyData=t):this.loyaltyData=t}}).catch(()=>{this.isLoyaltyDataError=!0})}},async mounted(){this.countriesQuery=await Er()},watch:{async cannotRedeemVoucher(){await this.fetchData()},record:{async handler(e){e!=null&&e.customerId&&await this.fetchData()},deep:!0,immediate:!0}}},Mr={key:0,class:"loyalty-section"},Or={key:1},Vr={key:1},Lr={key:3};function xr(e,t,s,n,i,o){const a=_("availableCoins"),l=_("message"),h=_("loyalty-coupon");return o.isClassicVoucherCarouselEnabled?(r(),d("div",Mr,[P(a,{points:o.points},null,8,["points"]),i.isLoyaltyDataError?(r(),f(l,{key:0,text:e.$t("i18n.vouchersNotAvailableError"),error:""},null,8,["text"])):m("",!0),i.isLoyaltyDataError?m("",!0):(r(),d("div",Or,[o.differentCountryMsg?(r(),f(l,{key:0,text:o.differentCountryMsg,warning:""},null,8,["text"])):m("",!0),o.coupons.length>0&&!o.apppliedCoupon&&!o.differentCountryMsg?(r(),d("div",Vr,[o.points&&!o.showMessageBelow?(r(),f(l,{key:0,text:o.infoText,info:""},null,8,["text"])):m("",!0),c("div",{class:b(["coupon-container","lsco-row",{"coupon-scrollbar":e.isPromoNewDesignEnabled}])},[(r(!0),d(k,null,L(o.coupons,(y,w)=>(r(),f(h,{key:`order_${w}`,coupon:y,"currency-code":o.currencyIsoCode,style:Ve({order:w})},null,8,["coupon","currency-code","style"]))),128))],2)])):m("",!0),o.points&&o.showMessageBelow?(r(),f(l,{key:2,text:o.infoText,info:""},null,8,["text"])):m("",!0),o.apppliedCoupon&&!o.differentCountryMsg?(r(),d("div",Lr,[o.points?(r(),f(l,{key:0,text:e.$t("i18n.appliedVoucher"),info:""},null,8,["text"])):m("",!0),P(h,{coupon:o.apppliedCoupon,"currency-code":o.currencyIsoCode,"is-applied":""},null,8,["coupon","currency-code"])])):m("",!0)]))])):m("",!0)}const Nr=g(Tr,[["render",xr],["__scopeId","data-v-5cb334b9"]]);function Br(e,t){window.lsanalytics&&window.lsanalytics.track(e,t)}function Rr(e,t,s,n,i){Br("Add To Bag Quickview",{click_type:e,click_property:t,distance:s,store:n,store_services:i})}const Gr={data(){return{inProgress:!1,isFirstClick:!0,disabled:!1,stsProduct:!1}},computed:{...p(V,["locale","country"]),...W("auth",["loginExpired","loggedIn","guestAccountCreated","softLoggedIn"]),...p(re,["hasPayments","lsaMobilePayments"]),...p(v,["isFreeGiftOOS","hasBopisItemsInCart"]),...p(X,["cartHasOOSItems"]),...p(O,["cartIsEmpty","cart"]),...p(de,["previewMode"]),...T(ye,["bopisStore"]),...p(H,["isDeliveryMethodConfirmed"]),...T(H,["showShippingAddressLoading","showGuestCheckout","isExpressCheckout","clearAddress"]),...p(D,["toggle","bopisStoreCheck","storeCacheTTL","isBopisEnabled","paths"]),buttonText(){return this.inProgress?this.$t("i18n.checkoutProcessing"):this.$t("i18n.annonCheckout")},isLoggedIn(){return this.$store.getters["auth/loggedIn"]},isEsw(){return this.toggle("esw")},isLevi(){return Qe()==="levi"},isCartHasGWP(){return!!(this.cartHasOOSItems&&!this.isFreeGiftOOS)}},mounted(){this.updateButtonState()},updated(){this.updateButtonState()},watch:{cartIsEmpty(e){this.disabled=e}},methods:{...C(ye,["updateBopisStore","updateBopisStoreOnState","getStoreDetailsById"]),...C(q,["displayProgressSpinner","hideProgressSpinner","displayCartProcessing","hideCartProcessing"]),...C(H,["clearCartPII","checkoutEEUCall","setAddressAndDeliveryModeBopis","proceedToExpressCheckout","proceedToGuestExpressCheckout","isAllowedToExpressCheckout","isAllowedToGuestExpressCheckout","clearSelectedShippingAddress","setDeliveryMethods"]),...C(v,["updateAllCartItemsToDelivery","checkMSAvailability"]),...C(O,["updateDeliveryAddress"]),...C(re,["updatePaymentMethod"]),async checkout(){var e;if(this.inProgress=!0,this.isLoggedIn&&this.guestAccountCreated&&this.clearAddress&&(this.clearSelectedShippingAddress(),this.updateDeliveryAddress({}),this.setDeliveryMethods({deliveryMethods:[]}),this.clearAddress=!1),ne(),await this.updateBopisStore(),this.bopisStoreCheck&&this.hasBopisItemsInCart){let t=this.bopisStore;const s=t==null?void 0:t.storeId;if(t&&s&&(t.now=t.now?t.now:Date.now()),t&&s&&(!t.now||(Date.now()-t.now)/6e4>this.storeCacheTTL)&&(await this.getStoreDetailsById({storeId:s}),t=this.bopisStore,t.now=Date.now(),this.updateBopisStoreOnState(t)),((e=this.bopisStore)==null?void 0:e.bopisStore)===!1){this.updateAllCartItemsToDelivery().then(()=>{this.hideCartProcessing(),this.inProgress=!1,this.isFirstClick=!1});return}}this.displayProgressSpinner(),this.showShippingAddressLoading=!0,this.$store.commit("userNewAddressState/updateState",{property:"emailServerError",value:!1},{root:!0}),this.$store.dispatch("auth/verifySession").then(t=>{(t==null?void 0:t.status)===403&&this.clearCartPII(),this.checkMSAvailability().then(async s=>{if(this.hideProgressSpinner(),s.status===E.FAILED)return;if(this.showShippingAddressLoading=!1,!this.previewMode&&this.isCartHasGWP){this.inProgress=!1,this.isFirstClick=!1;return}if(this.isEsw){this.displayProgressSpinner(),this.checkoutEEUCall().then(o=>{if((o==null?void 0:o.status)!==E.FAILED){window.open(o.eswURL,"_self");return}this.hideProgressSpinner(),this.inProgress=!1}),this.hideProgressSpinner();return}this.inProgress=!1;const n=await this.isAllowedToExpressCheckout(),i=await this.isAllowedToGuestExpressCheckout();if(!this.guestAccountCreated&&!this.loggedIn||this.loginExpired)this.loggedIn||(this.showGuestCheckout=!0),this.$store.commit("login/updateState",{property:"redirectSA",value:!0}),this.softLoggedIn?oe.emit(j.START_LOGIN,{type:K.SOFT,routingTo:{name:me.CHECKOUT}}):oe.emit(j.START_LOGIN,{type:K.CHECKOUT_GATE,routingTo:{name:me.CHECKOUT}});else if(n)await this.expressCheckout();else{if(this.isBopisCartOnly()){await this.addAddressAndDeliveryMode();return}if(await i){await this.guestExpressCheckout();return}this.$router.push({path:this.getRoute()})}qe(),this.hideProgressSpinner()})})},trackStoreAddToBaglicked(){const e="ship to store",t=this.bopisStore.storeName?this.bopisStore.storeName:"";Rr(e,"","50 miles",t,"addToCart")},getRoute(){return this.hasEGiftCard()?this.paths.eGiftCardPersonalInfo:this.paths.checkoutDeliveryAddress},hasEGiftCard(){return this.cart.entries.some(e=>{var t;return((t=e.product)==null?void 0:t.giftCardType)==="ELECTRONIC_GIFTCARD"})},isBopisCartOnly(){var e;return!!(this.isBopisEnabled&&((e=this.cart)==null?void 0:e.entries.length)>0&&this.cart.entries.findIndex(n=>n.deliveryPointOfService===null)===-1)},async addAddressAndDeliveryMode(){this.displayCartProcessing(),await this.setAddressAndDeliveryModeBopis().then(e=>{this.hideCartProcessing(),e.status===E.SUCCESS&&this.$router.push({path:this.paths.checkoutPickUpAddress})})},updateButtonState(){this.disabled=this.cartIsEmpty},async expressCheckout(){(await this.proceedToExpressCheckout()).status===E.SUCCESS?(await this.updatePaymentMethod(this.lsaMobilePayments.CARD),this.$router.push({path:this.paths.checkoutPayment})):this.$router.push({path:this.paths.checkoutDeliveryAddress})},async guestExpressCheckout(){(await this.proceedToGuestExpressCheckout()).status===E.SUCCESS?this.isDeliveryMethodConfirmed?(this.isExpressCheckout=!0,await this.updatePaymentMethod(this.lsaMobilePayments.CARD),this.$router.push({path:this.paths.checkoutPayment})):this.$router.push({path:this.paths.checkoutDeliveryMethod}):this.$router.push({path:this.paths.checkoutDeliveryAddress})}}},qr=["disabled"];function $r(e,t,s,n,i,o){return r(),d("button",{onClick:t[0]||(t[0]=(...a)=>o.checkout&&o.checkout(...a)),class:"btn-continue-checkout checkoutBtn",disabled:i.disabled},u(o.buttonText),9,qr)}const Ur=g(Gr,[["render",$r],["__scopeId","data-v-06de40da"]]);const Fr={data(){return{showApplepayBtn:!1,sessionInProgress:!1}},props:{disabled:{type:Boolean,required:!1,default:!1}},computed:{...p(Q,["applepayData"]),...T(Q,["applePayPaymentFailed","isApplePayOrder"]),...p(ht,["adyenEnabled"]),...p(V,["locale","country"]),...p(D,["paths","applepayEnabled","charity"]),...T(ut,["email"]),...z("auth",["loggedIn"]),...W("auth",["getCartGuid"]),...W("userProfileState",["uid"]),...p(v,["getCartDonationsAmount"])},methods:{...C(H,["makeReservationCall","updateCartEdd","handlePostOrderPlaced"]),...C(Q,["appleValidateMerchant","appleCalcTax","appleCalcShippingTax","applepayAuthPayment","applePlaceOrder","appleGetPaymentObject"]),...C(v,["checkMSAvailability"]),...C(O,["updateDeliveryAddress"]),async startApplepay(){this.sessionInProgress=!0,$e(),Ue();const{applepayData:e}=this;Object.keys(e).forEach(n=>e[n]===null&&delete e[n]);const t=new window.ApplePaySession(3,e);t.begin(),t.onvalidatemerchant=n=>{this.validateMerchant(t,n)},t.onshippingcontactselected=n=>{this.shippingContactSelected(t,n)},t.onshippingmethodselected=n=>{this.shippingMethodSelected(t,n)},t.onpaymentauthorized=n=>{this.authorizePayment(t,n)},t.oncancel=()=>{this.sessionInProgress=!1};const s=await this.checkMSAvailability({showLoading:!1});(s==null?void 0:s.status)===E.FAILED&&(t.abort(),this.sessionInProgress=!1)},validateMerchant(e,t){let s=this.envUtil("NGS_ENV_APPLE_PAY_URL");const n=window.location.hostname;this.envUtil("NGS_ENV_IS_PROD")&&(s=t.validationURL),this.appleValidateMerchant({url:s,domainName:n}).then(i=>{e.completeMerchantValidation(JSON.parse(i.merchantData))})},shippingContactSelected(e,t){const s=JSON.stringify(t.shippingContact),n=[];this.appleCalcTax({addressObject:s}).then(i=>{i.status==="false"?this.country.toLowerCase()!==t.shippingContact.countryCode?n.push(new window.ApplePayError("shippingContactInvalid","country",this.$t("i18n.invalidCountry",{country:this.country}))):n.push(new window.ApplePayError("shippingContactInvalid","postalAddress",this.$t("i18n.errorAddressInvalid"))):i.status===E.FAILED&&n.push(new window.ApplePayError("unknown"));const o={errors:n,newTotal:i.total,newLineItems:i.lineItems,newShippingMethods:i.shippingMethods};e.completeShippingContactSelection(o)})},shippingMethodSelected(e,t){this.appleCalcShippingTax({shippingIdentifier:t.shippingMethod.identifier}).then(s=>{const n={newTotal:s.total,newLineItems:s.lineItems};e.completeShippingMethodSelection(n)})},authorizePayment(e,t){const{emailAddress:s,phoneNumber:n}=t.payment.shippingContact,i=this.getEmail(s),o=t.payment;o.shippingContact.emailAddress=i;const a=this.validateShippingContact(i,n);if(a.length)return e.completePayment({status:window.ApplePaySession.STATUS_FAILURE,errors:a}),this.sessionInProgress=!1,!1;this.email=i,this.updateDeliveryAddress(this.formatShippingAddress(t.payment.shippingContact)),this.makeReservationCall({}).then(l=>{let h;l.status===E.SUCCESS?this.updateCartEdd({forceEom:!0}).then(()=>{this.applepayAuthPayment({paymentObject:JSON.stringify(o)}).then(y=>{const{status:w,statusErrorCode:B,orderCode:R,orderInfo:F}=y;if(h={status:window.ApplePaySession.STATUS_SUCCESS,errors:[]},this.applePayPaymentFailed=w!=="true",w==="true")this.isApplePayOrder=!0,e.completePayment(h),this.sessionInProgress=!1,this.adyenEnabled?this.confirmOrder(F):this.applePlaceOrder({orderCode:R}).then(M=>{this.confirmOrder(M)});else{switch(h.status=window.ApplePaySession.STATUS_FAILURE,B){case"STATUS_INVALID_BILLING_POSTAL_ADDRESS":h.errors.push(new window.ApplePayError("billingContactInvalid"));break;case"STATUS_INVALID_SHIPPING_POSTAL_ADDRESS":h.errors.push(new window.ApplePayError("shippingContactInvalid","postalAddress"));break;case"STATUS_INVALID_SHIPPING_CONTACT":h.errors.push(new window.ApplePayError("shippingContactInvalid"));break}he(h==null?void 0:h.errors,""),e.completePayment(h),this.sessionInProgress=!1}})}):(e.completePayment({status:window.ApplePaySession.STATUS_FAILURE}),this.sessionInProgress=!1,he(h==null?void 0:h.errors,""))})},formatShippingAddress(e){var t,s,n;return e?{firstName:e.givenName,lastName:e.familyName,postalCode:e.postalCode,line1:(t=e.addressLines)==null?void 0:t[0],line2:(s=e.addressLines)==null?void 0:s[1],town:e.locality,phone:e.phoneNumber,email:this.getEmail(e.emailAddress),avsVerified:!1,poBox:!1,country:{isocode:(n=e.countryCode)==null?void 0:n.toUpperCase()},region:{isocodeShort:e.administrativeArea}}:null},getEmail(e){return this.loggedIn?this.uid:e},validateShippingContact(e,t){const s=[],n=mt(e,this.country,!0),i=yt(t,this.country);return n.isValid||s.push(new window.ApplePayError("shippingContactInvalid","emailAddress",this.$t("i18n.errorEmailInvalid"))),i.isValid||s.push(new window.ApplePayError("shippingContactInvalid","phoneNumber",this.$t("i18n.errorPhone"))),s},confirmOrder(e){var t;window.LSCO&&window.LSCO.dtos&&(window.LSCO.dtos.orderData={},Object.assign(window.LSCO.dtos.orderData,e)),this.handlePostOrderPlaced({orderConfirmation:e}),(t=this.getCartDonationsAmount)!=null&&t.value&&this.charity&&le(this.getCartDonationsAmount.value,this.charity[0].charityName),this.$router.push({path:this.paths.orderConfirmation})}},async mounted(){var e;(e=window==null?void 0:window.ApplePaySession)!=null&&e.canMakePayments&&this.applepayEnabled&&(this.getCartGuid&&await this.appleGetPaymentObject(),this.showApplepayBtn=!0,Fe())}},Hr=["disabled"];function Wr(e,t,s,n,i,o){return i.showApplepayBtn?(r(),d("button",{key:0,ref:"applePayButton",class:"btn btn-tertiary apple-pay-button apple-pay-button-white-with-line",onClick:t[0]||(t[0]=(...a)=>o.startApplepay&&o.startApplepay(...a)),disabled:s.disabled||i.sessionInProgress,"aria-label":"Apple Pay"},null,8,Hr)):m("",!0)}const jr=g(Fr,[["render",Wr],["__scopeId","data-v-52ae8414"]]);let $=null;const Kr={data(){return{showGooglePayBtn:!1,apiVersionInfo:{apiVersion:A.API_VERSION,apiVersionMinor:A.API_VERSION_MINOR},googlePayData:{}}},props:{disabled:{type:Boolean,required:!1,default:!1}},computed:{...z("auth",["loggedIn"]),...W("auth",["getCartGuid"]),...W("userProfileState",["uid"]),...p(v,["getCartDonationsAmount"]),...p(D,["googlePayEnabled","paths","applepayEnabled","charity"]),...T(se,["isGooglePayOrder"])},methods:{...C(H,["makeReservationCall","updateCartEdd","handlePostOrderPlaced"]),...C(v,["checkMSAvailability"]),...C(O,["updateDeliveryAddress"]),...C(se,["getGooglePayData","googlePayPlaceOrder","updateAddressGooglePay","updateDeliveryModeGooglePay"]),confirmOrder(e){var t;window.LSCO&&window.LSCO.dtos&&(window.LSCO.dtos.orderData={},Object.assign(window.LSCO.dtos.orderData,e)),this.handlePostOrderPlaced({orderConfirmation:e}),(t=this.getCartDonationsAmount)!=null&&t.value&&this.charity&&le(this.getCartDonationsAmount.value,this.charity[0].charityName),this.$router.push({path:this.paths.orderConfirmation})},getEmail(e){return this.loggedIn?this.uid:e},getGoogleIsReadyToPayRequest(){return{...this.apiVersionInfo,allowedPaymentMethods:[{type:this.googlePayData.allowedPaymentMethods[0].type,parameters:this.googlePayData.allowedPaymentMethods[0].parameters}]}},getGoogleTransactionInfo(){const e=this.googlePayData.transactionInfo.displayItems.map(t=>{const s={type:t.type,label:t.label,price:t.price};return t.status&&(s.status=t.status),s});return{countryCode:this.googlePayData.transactionInfo.countryCode,currencyCode:this.googlePayData.transactionInfo.currencyCode,totalPriceStatus:this.googlePayData.transactionInfo.totalPriceStatus,totalPrice:this.googlePayData.transactionInfo.totalPrice,totalPriceLabel:this.googlePayData.transactionInfo.totalPriceLabel,displayItems:e}},getGooglePaymentDataRequest(){var s,n,i,o,a,l;const e={...this.apiVersionInfo},t={type:this.googlePayData.allowedPaymentMethods[0].type,parameters:{allowedAuthMethods:[...this.googlePayData.allowedPaymentMethods[0].parameters.allowedAuthMethods],allowedCardNetworks:[...this.googlePayData.allowedPaymentMethods[0].parameters.allowedCardNetworks],billingAddressRequired:((i=(n=(s=this.googlePayData.allowedPaymentMethods)==null?void 0:s[0])==null?void 0:n.parameters)==null?void 0:i.billingAddressRequired)||!1,billingAddressParameters:(l=(a=(o=this.googlePayData.allowedPaymentMethods)==null?void 0:o[0])==null?void 0:a.parameters)!=null&&l.billingAddressParameters?{format:this.googlePayData.allowedPaymentMethods[0].parameters.billingAddressParameters.format,phoneNumberRequired:this.googlePayData.allowedPaymentMethods[0].parameters.billingAddressParameters.phoneNumberRequired||!1}:null},tokenizationSpecification:{type:this.googlePayData.allowedPaymentMethods[0].tokenizationSpecification.type,parameters:{gateway:this.googlePayData.allowedPaymentMethods[0].tokenizationSpecification.parameters.gateway,gatewayMerchantId:this.googlePayData.allowedPaymentMethods[0].tokenizationSpecification.parameters.gatewayMerchantId}}};return e.allowedPaymentMethods=[t],e.transactionInfo=this.getGoogleTransactionInfo(),e.merchantInfo={merchantId:this.googlePayData.merchantInfo.merchantId,merchantName:this.googlePayData.merchantInfo.merchantName},e.callbackIntents=[...this.googlePayData.callbackIntents],e.emailRequired=this.googlePayData.emailRequired,e.shippingAddressRequired=this.googlePayData.shippingAddressRequired,e.shippingAddressParameters=this.googlePayData.shippingAddressParameters?{phoneNumberRequired:this.googlePayData.shippingAddressParameters.phoneNumberRequired,allowedCountryCodes:[...this.googlePayData.shippingAddressParameters.allowedCountryCodes]}:null,e.shippingOptionRequired=this.googlePayData.shippingOptionRequired,e.shippingOptionParameters=this.googlePayData.shippingOptionParameters?{defaultSelectedOptionId:this.googlePayData.shippingOptionParameters.defaultSelectedOptionId,shippingOptions:this.googlePayData.shippingOptionParameters.shippingOptions.map(h=>({description:h.description,id:h.id,label:h.label}))}:null,Object.keys(e).forEach(h=>e[h]===null&&delete e[h]),e},onPaymentAuthorized(e){return new Promise(t=>{const s={intent:A.PAYMENT_AUTHORIZATION,message:this.$t("i18n.paymentDeclined"),reason:A.PAYMENT_DATA_INVALID};this.updateDeliveryAddress(this.formatShippingAddress({...e.shippingAddress,email:e.email})),this.makeReservationCall({}).then(n=>{n.status==="success"?this.updateCartEdd({forceEom:!0}).then(()=>{this.googlePayPlaceOrder({googlePaymentData:e}).then(i=>{const{status:o,orderData:a,errorCode:l}=i;o==="SUCCESS"&&a?(this.isGooglePayOrder=!0,t({transactionState:A.SUCCESS}),this.confirmOrder(a)):o==="FAILED"&&(["STATUS_INVALID_SHIPPING_CONTACT","STATUS_INVALID_SHIPPING_POSTAL_ADDRESS"].includes(l)&&(s.message=this.$t("i18n.googlePayShippingError")),t({transactionState:A.ERROR,error:s}))})}):t({transactionState:A.ERROR,error:s})})})},onPaymentDataChanged(e){return new Promise(t=>{const{shippingAddress:s,shippingOptionData:n,callbackTrigger:i}=e,o={},a={reason:A.SHIPPING_ADDRESS_UNSERVICEABLE,message:this.$t("i18n.googlePayShippingError"),intent:A.SHIPPING_ADDRESS},l={reason:A.SHIPPING_OPTION_INVALID,message:this.$t("i18n.OtherError"),intent:A.SHIPPING_OPTION};i===A.INITIALIZE||i===A.SHIPPING_ADDRESS?this.googlePayData.callbackIntents.includes(A.SHIPPING_ADDRESS)&&this.updateAddressGooglePay({shippingAddress:s}).then(h=>{var y;this.removeNullFromDisplayItems((y=h.transactionInfo)==null?void 0:y.displayItems),h.status!=="true"&&(o.error=a),o.newShippingOptionParameters=h.shippingOptionParameters,o.newTransactionInfo=h.transactionInfo}).catch(()=>{o.error=a}).finally(()=>t(o)):i===A.SHIPPING_OPTION&&this.updateDeliveryModeGooglePay({deliveryModeId:n.id}).then(h=>{var y;this.removeNullFromDisplayItems((y=h.transactionInfo)==null?void 0:y.displayItems),h.status!=="true"&&(o.error=l),o.newTransactionInfo=h.transactionInfo}).catch(()=>{o.error=l}).finally(()=>t(o))})},getGooglePaymentsClient(){var e,t;if(typeof window=="object"&&$===null){const n={environment:(e=this.envUtil("NGS_ENV_GOOGLE_PAY_ENV"))==null?void 0:e.toUpperCase(),merchantInfo:{merchantId:this.googlePayData.merchantInfo.merchantId,merchantName:this.googlePayData.merchantInfo.merchantName},paymentDataCallbacks:{onPaymentAuthorized:this.onPaymentAuthorized}};(t=this.googlePayData.callbackIntents)!=null&&t.some(i=>[A.SHIPPING_ADDRESS,A.SHIPPING_OPTION].includes(i))&&(n.paymentDataCallbacks.onPaymentDataChanged=this.onPaymentDataChanged),$=new window.google.payments.api.PaymentsClient(n)}return $},initGooglePay(){_t().then(()=>{$=this.getGooglePaymentsClient();const e=JSON.parse(JSON.stringify(this.getGoogleIsReadyToPayRequest()));$.isReadyToPay(e).then(t=>{t.result&&(this.showGooglePayBtn=!0)}).catch(t=>{console.error("Error in isReadyToPay request"),console.error(t)})}).catch(e=>{console.error("Google Pay Script did not load"),console.error(e)})},startGooglePay(){He(),this.checkMSAvailability({showLoading:!1}).then(e=>{if((e==null?void 0:e.status)===E.SUCCESS){const t=this.getGooglePaymentDataRequest();t.transactionInfo=this.getGoogleTransactionInfo(),$=this.getGooglePaymentsClient(),$.loadPaymentData(t).catch(s=>{console.error("Error During Google Pay Session"),console.error(s)})}})},removeNullFromDisplayItems(e){Array.isArray(e)&&e.forEach(t=>Object.keys(t).forEach(s=>t[s]===null&&delete t[s]))},formatShippingAddress(e){var t,s,n;return e?{firstName:((t=e.name)==null?void 0:t.split(" ")[0])||"",lastName:((s=e.name)==null?void 0:s.split(" ")[1])||"",postalCode:e.postalCode,line1:e.address1,line2:e.address2,town:e.locality,phone:e.phoneNumber,email:this.getEmail(e.email),avsVerified:!1,poBox:!1,country:{isocode:(n=e.countryCode)==null?void 0:n.toUpperCase()},region:{isocodeShort:e.administrativeArea}}:null},isFireFox(){return!!navigator.userAgent.match(/Firefox\/[\d.]+/)},showApplePay(){var e;return!!(typeof window=="object"&&((e=window==null?void 0:window.ApplePaySession)!=null&&e.canMakePayments)&&this.applepayEnabled)}},mounted(){!this.showApplePay()&&this.googlePayEnabled&&!this.isFireFox()&&this.getCartGuid&&this.getGooglePayData().then(e=>{var t;Object.keys(e).forEach(s=>e[s]===null&&delete e[s]),this.googlePayData=e,this.removeNullFromDisplayItems((t=this.googlePayData.transactionInfo)==null?void 0:t.displayItems),this.initGooglePay()})}},zr=["disabled"];function Yr(e,t,s,n,i,o){return i.showGooglePayBtn?(r(),d("button",{key:0,ref:"googlePayButton",class:"btn btn-tertiary google-pay-button",onClick:t[0]||(t[0]=(...a)=>o.startGooglePay&&o.startGooglePay(...a)),disabled:s.disabled,"aria-label":"Google Pay"},null,8,zr)):m("",!0)}const Qr=g(Kr,[["render",Yr],["__scopeId","data-v-224ca4b1"]]);const Jr={emits:["buttonClick"],props:{disabled:{type:Boolean,required:!1},hasNextStep:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:""},trackPayAndConfirm:{type:Boolean,required:!1,default:!1},buttonType:{type:String,required:!1,default:"abstract-button"}},computed:{...p(D,["charity"]),...p(v,["getCartDonationsAmount"]),...p(re,["showCCForm"]),...p(de,["previewMode"]),...z("auth",["username"]),...p(ft,["venmoAuthSuccess"]),buttonLabel(){return this.label||(this.hasNextStep?this.$t("i18n.continue"):this.$t("i18n.placeOrderText"))}},methods:{onClick(e){var t;this.trackPayAndConfirm&&(We(),je("Pay & Confirm",this.username),(t=this.getCartDonationsAmount)!=null&&t.value&&this.charity&&le(this.getCartDonationsAmount.value,this.charity[0].charityName)),this.$emit("buttonClick",e),this.showCCForm||this.invokeAccessibilityVoiceOver()},invokeAccessibilityVoiceOver(){this.$refs.button.blur(),setTimeout(()=>this.$refs.button.focus(),1500)}}},Zr={class:"order-button-container"},Xr=["aria-label","disabled"],ea=["data-button-type","innerHTML"];function ta(e,t,s,n,i,o){return r(),d("div",Zr,[c("button",{ref:"button","aria-label":o.buttonLabel,class:"place-order-button",onClick:t[0]||(t[0]=(...a)=>o.onClick&&o.onClick(...a)),disabled:s.disabled||e.previewMode},[c("span",{"data-button-type":s.buttonType,innerHTML:o.buttonLabel},null,8,ea)],8,Xr)])}const oa=g(Jr,[["render",ta],["__scopeId","data-v-b2d6232e"]]);const sa={emits:["closeModal","onAgree"],computed:{...p(V,["locale","country"])},methods:{actionLinkClicked(){this.$emit("closeModal")},agreeBtnClicked(){this.$emit("onAgree")}},components:{SvgIcon:N}},ra={class:"paypal-term-condition"},aa={class:"paypal-term-condition--subheading"},ia={class:"paypal-term-condition--termtext"},na={class:"paypal-term-condition--agree"};function la(e,t,s,n,i,o){const a=_("SvgIcon"),l=_("router-link"),h=_("Button");return r(),d("div",ra,[c("div",aa,u(e.$t("i18n.paypalTermAndCondSubheading")),1),P(a,{name:"paypal",class:"paypal-term-condition--cta-svg"}),c("div",ia,[I(u(e.$t("i18n.paypalTermText"))+" ",1),P(l,{class:"termlink",target:"_blank",to:`/${e.country}/${e.locale}/legal/terms-of-use`},{default:x(()=>[I(u(e.$t("i18n.paypalTermAndCondLink")),1)]),_:1},8,["to"])]),c("div",na,[P(h,{type:"button",class:"button-agree",onClick:o.agreeBtnClicked},{default:x(()=>[I(u(e.$t("i18n.iAgreeText")),1)]),_:1},8,["onClick"])]),c("div",{class:"paypal-term-condition--close",onClick:t[0]||(t[0]=(...y)=>o.actionLinkClicked&&o.actionLinkClicked(...y)),onKeyup:t[1]||(t[1]=S((...y)=>o.actionLinkClicked&&o.actionLinkClicked(...y),["enter"]))},u(e.$t("i18n.cancel")),33)])}const da=g(sa,[["render",la],["__scopeId","data-v-2ce020cf"]]);const ca={emits:["onClick"],components:{SvgIcon:N,Modal:be,paypalTermAndCondModal:da},data(){return{paypalTermModal:!1}},props:{disabled:{type:Boolean,required:!1,default:!1},express:{required:!0,type:Boolean},termsModalDisabled:{required:!1,type:Boolean,default:!1}},methods:{closePaypalTermModal(){this.paypalTermModal=!1},openPaypalTermModal(){Ke(),ge("paypal"),!this.termsModalDisabled&&this.express?this.paypalTermModal=!0:this.onClick()},onClick(){this.paypalTermModal=!1,this.$emit("onClick")}}},ua=["disabled"],pa={class:"modal-title"};function ha(e,t,s,n,i,o){const a=_("SvgIcon"),l=_("paypalTermAndCondModal"),h=_("Modal");return r(),d("div",null,[c("button",{class:"btn btn-tertiary pay-with-paypal",onClick:t[0]||(t[0]=(...y)=>o.openPaypalTermModal&&o.openPaypalTermModal(...y)),disabled:s.disabled,"aria-label":"PayPal"},[P(a,{name:"paypal",title:"PayPal logo",class:"pay-with-paypal__logo"})],8,ua),i.paypalTermModal?(r(),f(h,{key:0,"modal-name":"paypal-term-modal",class:"paypal-term-modal",onCloseModal:o.closePaypalTermModal},{header:x(()=>[c("h3",pa,u(e.$t("i18n.paypalTermAndCondHeading")),1)]),body:x(()=>[c("div",null,[P(l,{onCloseModal:o.closePaypalTermModal,onOnAgree:o.onClick},null,8,["onCloseModal","onOnAgree"])])]),_:1},8,["onCloseModal"])):m("",!0)])}const Ie=g(ca,[["render",ha],["__scopeId","data-v-c6c6b2fd"]]),ma={components:{paypalButtonElement:Ie,placeOrderButton:oa},props:{disabled:{type:Boolean,required:!1,default:!1},express:{type:Boolean,required:!1},cancelUrl:{type:String,required:!1,default:""},plainButton:{type:Boolean,required:!1,default:!1}},computed:{...p(D,["paths"]),...p(J,["isPaypalOrderReady"]),...W("auth",["loginExpired","loggedIn","softLoggedIn"]),label(){return this.isPaypalOrderReady?this.$t("i18n.placeOrderText"):this.$t("i18n.continueToPayPal")}},methods:{...C(J,["startCybsPaypalFlow"]),...C(q,["displayProgressSpinner","hideProgressSpinner"]),...C(v,["checkMSAvailability"]),async startPaypalFlow(){this.displayProgressSpinner();const e=await this.$store.dispatch("auth/verifySession");if(this.loggedIn&&(e==null?void 0:e.status)===403){this.hideProgressSpinner(),oe.emit(j.START_LOGIN,{type:K.SOFT});return}ne(),this.checkMSAvailability({showLoading:!1}).then(async t=>{if((t==null?void 0:t.status)===E.SUCCESS){const{express:s,cancelUrl:n}=this,i=await this.startCybsPaypalFlow({express:s,cancelUrl:n});(i==null?void 0:i.status)===403&&(i!=null&&i.path?this.$router.push({path:i.path}):this.$authEmitter.emit(j.START_LOGIN,{type:K.SOFT}))}})}}};function ya(e,t,s,n,i,o){const a=_("placeOrderButton"),l=_("paypalButtonElement");return s.plainButton?(r(),f(a,{key:0,label:o.label,disabled:s.disabled,onButtonClick:o.startPaypalFlow},null,8,["label","disabled","onButtonClick"])):(r(),f(l,{key:1,express:s.express,disabled:s.disabled,"terms-modal-disabled":!0,onOnClick:o.startPaypalFlow},null,8,["express","disabled","onOnClick"]))}const _a=g(ma,[["render",ya]]),fa={components:{paypalButtonElement:Ie},props:{disabled:{type:Boolean,required:!1,default:!1},express:{type:Boolean,required:!0},cancelUrl:{type:String,required:!1,default:""}},computed:{...p(D,["paths"])},methods:{...C(J,["startAdyenPaypalFlow"]),...C(v,["checkMSAvailability"]),...C(q,["displayProgressSpinner"]),async startPaypalFlow(){this.displayProgressSpinner(),ne(),ge("paypal"),this.checkMSAvailability({showLoading:!1}).then(async e=>{if((e==null?void 0:e.status)===E.SUCCESS){const{express:t}=this,s=await this.startAdyenPaypalFlow({express:t});(s==null?void 0:s.status)===403&&(s!=null&&s.path?this.$router.push({path:s.path}):this.$authEmitter.emit(j.START_LOGIN,{type:K.SOFT}))}})}}};function ga(e,t,s,n,i,o){const a=_("paypalButtonElement");return r(),f(a,{express:s.express,disabled:s.disabled,onOnClick:o.startPaypalFlow},null,8,["express","disabled","onOnClick"])}const Pa=g(fa,[["render",ga]]);const ba={components:{paypalButtonLSA:_a,paypalButtonLSE:Pa},props:{disabled:{type:Boolean,required:!1,default:!1},express:{type:Boolean,required:!1,default:!1},cancelUrl:{type:String,required:!1,default:""}},computed:{...p(V,["isLSE","isLSA"]),...p(X,["cartHasOOSItems"]),...p(O,["cartIsEmpty"]),...p(v,["hasZeroBalance"]),toDisable:{get(){return this.isLSE&&this.hasZeroBalance?!0:this.disabled||this.cartIsEmpty||this.cartHasOOSItems}}}},va={class:"paypal-container"};function Ca(e,t,s,n,i,o){const a=_("paypalButtonLSA"),l=_("paypalButtonLSE");return r(),d("div",va,[e.isLSA?(r(),f(a,{key:0,express:s.express,"cancel-url":s.cancelUrl,disabled:o.toDisable},null,8,["express","cancel-url","disabled"])):m("",!0),e.isLSE?(r(),f(l,{key:1,express:s.express,"cancel-url":s.cancelUrl,disabled:o.toDisable},null,8,["express","cancel-url","disabled"])):m("",!0)])}const Sa=g(ba,[["render",Ca],["__scopeId","data-v-63107505"]]);const wa={inject:["mq"],components:{ApplePayButton:jr,GooglePayButton:Qr,CheckoutButton:Ur,PaypalButton:Sa},setup(){return{inventoryStore:Pe()}},props:{toDisable:{type:Boolean}},mounted(){this.isApplePayOrder=!1,this.isGooglePayOrder=!1},computed:{...p(V,["country","locale"]),...p(D,["toggle","isBopisEnabled","paths"]),...p(v,["hasBopisItemsInCart","eswError","cartInventoryLoaded"]),...p(X,["sfsOnlyEntries"]),...p(J,["isPaypalExpressEnabled","isPaypalButtonEnabled"]),...p(O,["cart"]),...T(Q,["isApplePayOrder"]),...T(se,["isGooglePayOrder"]),showEswError(){return this.toggle("esw")&&this.eswError},isCheckout(){return this.$route.name==="Checkout"},hasSFSOnlyItems(){return this.sfsOnlyEntries.length>0},hideExpressButtons(){return!this.cartInventoryLoaded||this.inventoryStore.fetchInventoryBySKUFailed?!0:this.isBopisEnabled?!this.isCheckout&&(this.hasSFSOnlyItems||this.hasBopisItemsInCart):!this.isCheckout&&this.hasSFSOnlyItems},isMobile(){return this.mq.current==="mobile"},paymentDeclined(){var e;return((e=this.$route.params)==null?void 0:e.action)==="failed-capture"}}},ka={key:0,class:"payment-declined-error"},Ia={key:1,class:"eswerror"},Da={key:2,class:"checkout-btn-group lsco-row lsco-row-xs--between"};function Aa(e,t,s,n,i,o){const a=_("ApplePayButton"),l=_("GooglePayButton"),h=_("PaypalButton"),y=_("CheckoutButton");return r(),d("div",null,[o.paymentDeclined?(r(),d("div",ka,u(e.$t("i18n.paymentDeclined")),1)):m("",!0),o.showEswError?(r(),d("div",Ia,u(e.$t("i18n.eswConnectionErrorText")),1)):m("",!0),o.isMobile?m("",!0):(r(),d("div",Da,[o.hideExpressButtons?m("",!0):(r(),f(a,{key:0,class:"checkout-btn",disabled:s.toDisable},null,8,["disabled"])),o.hideExpressButtons?m("",!0):(r(),f(l,{key:1,class:"checkout-btn",disabled:s.toDisable},null,8,["disabled"])),e.isPaypalButtonEnabled&&!o.hideExpressButtons&&e.isPaypalExpressEnabled?(r(),f(h,{key:2,class:"checkout-btn","cancel-url":e.paths.paypalExpressCancelCart,express:!0,disabled:s.toDisable},null,8,["cancel-url","disabled"])):m("",!0),P(y,{class:b(["checkout-btn",{"show-checkout-only":o.hideExpressButtons}]),disabled:s.toDisable},null,8,["class","disabled"])]))])}const Ea=g(wa,[["render",Aa],["__scopeId","data-v-af4e1aad"]]);const Ta={},De=e=>(_e("data-v-e0b26667"),e=e(),fe(),e),Ma={class:"skeleton"},Oa=De(()=>c("div",{class:"skeleton__button"},[c("div",null,[c("div",{class:"skeleton__box"})])],-1)),Va=De(()=>c("div",{class:"skeleton__button"},[c("div",null,[c("div",{class:"skeleton__box"})])],-1)),La=[Oa,Va];function xa(e,t){return r(),d("div",Ma,La)}const Na=g(Ta,[["render",xa],["__scopeId","data-v-e0b26667"]]);const Ba={inject:["mq"],components:{PromoInput:ve,PotentialPromos:Se,PromoErrorMessageBar:we,CheckoutButtons:Ea,TotalSection:Os,PromosSection:yr,LoyaltySection:Nr,CheckoutButtonsLoadingShimmer:Na},computed:{...T(v,["promoInfoError","promoErrorText","promoErrorShowDetails","promoErrorTextsForCodes"]),...p(V,["country","locale"]),...p(dt,["promoBannersNoBannerOnly"]),...p(v,["removeInProgress","isFreeGiftOOS","cartInventoryLoaded","allPotentialPromos","cartAllowsLoyaltyVouchers"]),...p(D,["toggle","paths"]),...p(X,["cartHasOOSItems","cartHasNotAllocatedItems"]),...p(O,["cart","cartIsEmpty"]),...p(G,["isPromoRedesignPhase2Enabled"]),...z("userProfileState",["record"]),isCheckout(){return this.$route.name==="Checkout"},allowPromos(){return!this.cartIsEmpty&&this.toggle("allowPromos")},allowLoyaltyVouchers(){return this.cartAllowsLoyaltyVouchers},eswPrivacyLink(){return this.envUtil("NGS_ENV_ESW_PRIVACYPOLICY_URL")},isMobile(){return this.mq.current==="mobile"},eGCError(){var e,t,s,n;return((t=(e=this.cart)==null?void 0:e.entries)==null?void 0:t.length)>1&&((n=(s=this.cart)==null?void 0:s.entries)==null?void 0:n.some(i=>{var o;return((o=i.product)==null?void 0:o.giftCardType)==="ELECTRONIC_GIFTCARD"}))},isItemOOS(){return!!(this.cartHasOOSorAllocationFailedItems&&!this.isFreeGiftOOS)},potentialPromos(){return this.allPotentialPromos.filter(e=>{var s;return!(((s=e==null?void 0:e.promotion)==null?void 0:s.shippingOnly)??!1)})},cartHasOOSorAllocationFailedItems(){return this.cartHasOOSItems||this.cartHasNotAllocatedItems}},methods:{...C(q,["showPromoModal"]),openPromoDetailsModal(e){this.showPromoModal({promos:[e]})},openPotPromoModal(){this.showPromoModal({promos:this.promoBannersNoBannerOnly})}},mounted(){this.promoInfoError="",this.promoErrorText="",this.promoErrorShowDetails=!1,this.promoErrorTextsForCodes=[]}},Ra={class:"orderSummary"},Ga={key:0,class:"order-summary-header"},qa={key:1,class:"esw-desktop"},$a={class:"eShopWorldHeader"},Ua={class:"eShopWorldText"},Fa={key:0},Ha={key:1,class:"promos"},Wa={key:2,class:"esw-mobile"},ja={class:"eShopWorldHeader"},Ka={class:"eShopWorldText"},za=["href"];function Ya(e,t,s,n,i,o){const a=_("router-link"),l=_("LoyaltySection"),h=_("PromosSection"),y=_("PromoInput"),w=_("promo-error-message-bar"),B=_("PotentialPromos"),R=_("TotalSection"),F=_("CheckoutButtons"),M=_("CheckoutButtonsLoadingShimmer");return r(),d("div",Ra,[o.isCheckout?(r(),d("h2",Ga,u(e.$t("i18n.orderSummary")),1)):m("",!0),e.toggle("esw")?(r(),d("div",qa,[c("div",$a,u(e.$t("i18n.eShopWorldPayment")),1),c("div",Ua,[I(u(e.$t("i18n.eShopWorldText1"))+" ",1),P(a,{to:e.paths.privacyPolicy,target:"_blank"},{default:x(()=>[I(u(e.$t("i18n.privacyPolicyTitle")),1)]),_:1},8,["to"]),I(" "+u(e.$t("i18n.eShopWorldText3")),1)])])):m("",!0),c("div",{class:b(["summaryDetails",{checkout:o.isCheckout}])},[!o.isCheckout&&o.allowLoyaltyVouchers?(r(),d("div",Fa,[P(l)])):m("",!0),!o.isCheckout&&o.allowPromos?(r(),d("div",Ha,[P(h,{onShowPromoDetails:o.openPromoDetailsModal,onShowAllPromosModal:o.openPotPromoModal},null,8,["onShowPromoDetails","onShowAllPromosModal"])])):m("",!0),c("div",{class:b(["totals",{checkout:o.isCheckout}])},[e.isPromoRedesignPhase2Enabled?(r(),f(y,{key:0})):m("",!0),e.promoErrorText&&e.isPromoRedesignPhase2Enabled?(r(),f(w,{key:1,error:!0,msg:e.promoErrorText,onShowAllPromosModal:o.openPotPromoModal},null,8,["msg","onShowAllPromosModal"])):m("",!0),e.isPromoRedesignPhase2Enabled?(r(),f(B,{key:2,onShowAllPromosModal:o.openPotPromoModal,onShowPromoDetails:o.openPromoDetailsModal,promos:o.potentialPromos},null,8,["onShowAllPromosModal","onShowPromoDetails","promos"])):m("",!0),P(R,{onShowPromoDetails:o.openPromoDetailsModal,"to-disable":e.removeInProgress},null,8,["onShowPromoDetails","to-disable"])],2)],2),e.toggle("esw")?(r(),d("div",Wa,[c("div",ja,u(e.$t("i18n.eShopWorldPayment")),1),c("div",Ka,[I(u(e.$t("i18n.eShopWorldText1"))+" ",1),P(a,{to:e.paths.privacyPolicy,target:"_blank"},{default:x(()=>[I(u(e.$t("i18n.privacyPolicyTitle")),1)]),_:1},8,["to"]),c("span",null,u(e.$t("i18n.eShopWorldText2")),1),c("a",{href:`${o.eswPrivacyLink}`,target:"_blank"},u(e.$t("i18n.privacyPolicyTitle")),9,za),I(" "+u(e.$t("i18n.eShopWorldText3")),1)])])):m("",!0),!o.isCheckout&&e.cartInventoryLoaded?(r(),f(F,{key:3,"to-disable":e.removeInProgress||e.cartIsEmpty||o.eGCError||o.isItemOOS},null,8,["to-disable"])):m("",!0),!o.isCheckout&&!e.cartInventoryLoaded?(r(),f(M,{key:4})):m("",!0)])}const Li=g(Ba,[["render",Ya],["__scopeId","data-v-d86c750d"]]);export{jr as A,Oi as C,Qr as G,yr as P,Mi as a,Vi as b,Ur as c,Na as d,oa as e,_a as f,Rt as i,Li as o,Sa as p,Ti as r};
