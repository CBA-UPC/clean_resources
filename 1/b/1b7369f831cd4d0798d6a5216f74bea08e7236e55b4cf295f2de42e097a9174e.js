"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["bundle.DirectMessages","icons/IconEye-js","icons/IconUnlock-js","shared~loader.PushNotificationsPrompt~loader.MessageHandler"],{941422:e=>{var n,t,l,a,i,r,s,o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"addedParticipants"},{defaultValue:null,kind:"LocalArgument",name:"conversationId"}],kind:"Fragment",metadata:null,name:"AddParticipantsMutation",selections:[{alias:null,args:t=[{kind:"Variable",name:"added_participants",variableName:"addedParticipants"},{kind:"Variable",name:"conversation_id",variableName:"conversationId"},{kind:"Literal",name:"s",value:"e54f"}],concreteType:null,kind:"LinkedField",name:"add_participants",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"added_users",storageKey:null},{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"participants_join_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[l,{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null}],type:"DMEvent",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},r={alias:null,args:null,concreteType:"UserFailures",kind:"LinkedField",name:"user_failures",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"AddParticipantsSuccess",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"AddParticipantsMutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"add_participants",plural:!1,selections:[l,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"participants_join_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventResults",kind:"LinkedField",name:"dm_event_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[l,{kind:"InlineFragment",selections:[i,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMEvent",abstractKey:null}],storageKey:null},s],storageKey:null}],storageKey:null},r],type:"AddParticipantsSuccess",abstractKey:null}],storageKey:null}]},params:{id:"oBwyQ0_xVbAQ8FAyG0pCRA",metadata:{},name:"AddParticipantsMutation",operationKind:"mutation",text:null}};o.hash="4e360bb90b3056d85e6c1492f83ce249",e.exports=o},357227:e=>{var n,t,l,a,i,r,s,o,c,u,d,p,m,g,y,_,v,f,h,k,b,F,T,S,E,C,K,I,L,w,x,R,A,Z,M,D,P,O,U,N,H,B,W,q,G,V,z,j,Y,Q,J,X,$,ee,ne,te,le,ae,ie,re,se,oe,ce,ue,de,pe,me,ge,ye,_e,ve,fe,he,ke,be,Fe,Te,Se,Ee,Ce,Ke,Ie,Le,we,xe,Re,Ae,Ze,Me,De,Pe,Oe,Ue,Ne,He,Be,We,qe,Ge,Ve,ze,je,Ye,Qe,Je,Xe,$e,en,nn,tn,ln,an,rn,sn,on,cn,un,dn,pn,mn,gn,yn,_n,vn,fn,hn,kn,bn,Fn,Tn,Sn,En,Cn,Kn,In,Ln,wn,xn,Rn,An,Zn,Mn,Dn,Pn,On,Un,Nn,Hn,Bn,Wn,qn,Gn,Vn,zn,jn,Yn,Qn,Jn,Xn,$n,et,nt,tt,lt,at,it,rt,st,ot,ct,ut,dt,pt,mt,gt,yt,_t,vt,ft,ht,kt,bt,Ft,Tt,St,Et,Ct,Kt,It,Lt,wt,xt,Rt,At,Zt,Mt,Dt,Pt,Ot,Ut,Nt,Ht,Bt,Wt,qt,Gt,Vt,zt,jt,Yt,Qt,Jt,Xt,$t,el,nl,tl,ll,al,il,rl,sl,ol,cl,ul,dl,pl,ml,gl,yl,_l,vl,fl,hl,kl,bl,Fl,Tl,Sl,El,Cl,Kl,Il,Ll,wl,xl,Rl,Al,Zl,Ml,Dl,Pl,Ol,Ul,Nl,Hl,Bl,Wl,ql,Gl,Vl,zl=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},t={defaultValue:null,kind:"LocalArgument",name:"id"},l={defaultValue:!1,kind:"LocalArgument",name:"withAttachments"},a={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},i={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},r=[{kind:"Variable",name:"conversation_id",variableName:"id"},{kind:"Literal",name:"s",value:"84b0"}],s={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},f={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[_,v],storageKey:null},h=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[o,s,f],type:"User",abstractKey:null}],storageKey:null}],k={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},T={kind:"InlineFragment",selections:[k,b,F],type:"ApiImage",abstractKey:null},S={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},C={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[S,_,v,E],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null},w={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},q=[N,H,B,W],G={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:q,storageKey:null}],storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},z={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:q,storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},$=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],ee=[Y,F,b,k,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[Q,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[X,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null}],ne={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},ae={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:ee,storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},re={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},ie,W],storageKey:null},se={kind:"InlineFragment",selections:[z,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[o,j,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[V,{kind:"InlineFragment",selections:ee,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[ne,te,le,ae,re,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[Y,ne,ae,re],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},ce={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:$,storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},de={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[oe,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},Q,J,W],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ce,X],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},ue,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},pe={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},_],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},ge=[o],ye=[W,{alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},me,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[oe,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Timeline",kind:"LinkedField",name:"timeline",plural:!1,selections:ge,storageKey:null}],storageKey:null}],_e={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:ye,storageKey:null},ve=[W],fe={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:ve,storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},Fe={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},Te={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Ee={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},Ce=[U],Ke={kind:"InlineFragment",selections:Ce,type:"TimelineRichTextCashtag",abstractKey:null},Ie={kind:"InlineFragment",selections:[o,W],type:"TimelineRichTextList",abstractKey:null},Le={kind:"InlineFragment",selections:Ce,type:"TimelineRichTextHashtag",abstractKey:null},we={kind:"InlineFragment",selections:ye,type:"TimelineUrl",abstractKey:null},xe={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[v],storageKey:null},Re={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Ze={kind:"InlineFragment",selections:[Re,Ae],type:"UserUnavailable",abstractKey:null},Me=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[xe,s],type:"User",abstractKey:null},Ze],storageKey:null}],De=[ke,be,U,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ke,Ie,Le,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Me,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Me,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],Pe={alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:De,storageKey:null},Oe={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},Ue={alias:"userLabelDisplayType",args:null,kind:"ScalarField",name:"user_label_display_type",storageKey:null},Ne={alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,fe,he,Pe,Oe,Ue,{alias:null,args:null,concreteType:"AuxiliaryUserLabel",kind:"LinkedField",name:"auxiliary_user_labels",plural:!0,selections:[_e,fe,he,Pe,Oe,Ue],storageKey:null}],storageKey:null}],storageKey:null},He={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Be={alias:null,args:null,kind:"ScalarField",name:"has_graduated_access",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"is_blue_verified",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"profile_image_shape",storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},Ve={kind:"RequiredField",field:Ge,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocked_by"},ze={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},je={kind:"RequiredField",field:ze,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.blocking"},Ye={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},Qe={kind:"RequiredField",field:Ye,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.follow_request_sent"},Je={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},Xe={kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followed_by"},$e={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},en={kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.following"},nn={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},tn={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},ln={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},an={kind:"RequiredField",field:ln,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.protected"},rn={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},sn={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},on={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},cn={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},un={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},dn={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[N,H,W,B],storageKey:null},pn=[dn],mn=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:pn,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:pn,storageKey:null}],gn={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:mn,storageKey:null},yn={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},_n={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},vn={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},fn={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},hn={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},kn={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},bn={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},Fn={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},Tn={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},Sn={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},En={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},Cn={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},Kn={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},In={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},Ln=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[X,ce],storageKey:null}],wn=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:Ln,storageKey:null}],storageKey:null}],storageKey:null}],xn={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:wn,storageKey:null},Rn={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},An={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:wn,storageKey:null},Zn={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},Mn={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},Dn={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Pn={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},On={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},Un={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},Nn={alias:null,args:null,kind:"ScalarField",name:"verified_type",storageKey:null},Hn={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Bn={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},Wn={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:mn,storageKey:null},qn={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},Gn={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},Vn={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},zn={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},jn={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[o,_,zn,{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],storageKey:null},Yn={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[s,Vn,jn],storageKey:null},Qn={alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},Jn={alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},Xn={alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null},$n={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},et={alias:null,args:null,kind:"ScalarField",name:"verified_phone_status",storageKey:null},nt={kind:"InlineFragment",selections:[Ae,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:De,storageKey:null},Re],type:"UserUnavailable",abstractKey:null},tt={kind:"RequiredField",field:Ge,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocked_by"},lt={kind:"RequiredField",field:ze,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.blocking"},at={kind:"RequiredField",field:Ye,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.follow_request_sent"},it={kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followed_by"},rt={kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.following"},st={kind:"RequiredField",field:ln,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.protected"},ot={alias:null,args:null,kind:"ScalarField",name:"bookmark_count",storageKey:null},ct={alias:null,args:null,kind:"ScalarField",name:"bookmarked",storageKey:null},ut={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},dt={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},pt={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},mt={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},gt={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},yt=[ue,gt],_t={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:yt,storageKey:null},vt={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},ft=[B,U],ht={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:ft,storageKey:null},kt={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},bt={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},Ft={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},Tt={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},St={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:ve,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:ve,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},Et={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},Ct={kind:"RequiredField",field:Ge,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},Kt={kind:"RequiredField",field:ze,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},It={kind:"RequiredField",field:Ye,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Lt={kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},wt={kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},xt={kind:"RequiredField",field:ln,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},Rt={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},At={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:Ln,storageKey:null},Zt={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},Mt={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},Dt={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},Pt={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},Ot={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[Mt,Dt,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[Pt],storageKey:null}],storageKey:null},Ut={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},Nt={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},Ht={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},Bt={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},Wt=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[Ut,Nt,Ht,Bt],storageKey:null}],qt={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},_,v,ue],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:Wt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:Wt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:Wt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:Wt,storageKey:null}],storageKey:null},Gt={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},Vt=[Ht,Bt,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],zt={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:Vt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:Vt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:Vt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:Vt,storageKey:null}],storageKey:null},jt={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[Q,J,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[Ut,Nt,Bt,Ht],storageKey:null}],storageKey:null},Yt={alias:null,args:null,concreteType:"AllowDownloadStatus",kind:"LinkedField",name:"allow_download_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_download",storageKey:null}],storageKey:null},Qt={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},te,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},ie,W],storageKey:null}],storageKey:null},Jt={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:ft,storageKey:null},Xt={alias:null,args:null,concreteType:"ApiTimestampEntity",kind:"LinkedField",name:"timestamps",plural:!0,selections:[B,{alias:null,args:null,kind:"ScalarField",name:"seconds",storageKey:null},U],storageKey:null},$t={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[S,_,v,B],storageKey:null},el={kind:"RequiredField",field:Ge,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},nl={kind:"RequiredField",field:ze,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},tl={kind:"RequiredField",field:Ye,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},ll={kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},al={kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},il={kind:"RequiredField",field:ln,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},rl={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},cl={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:yt,storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},pl={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},_l={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},vl={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},W],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[gt,ue],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:ge,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},_,o,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},W],storageKey:null},fl={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},hl={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},kl={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},bl={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[W,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},zn],storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},El={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},wl={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[S],storageKey:null},xl={kind:"RequiredField",field:Ge,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},Rl={kind:"RequiredField",field:ze,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},Al={kind:"RequiredField",field:Ye,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},Zl={kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},Ml={kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},Dl={kind:"RequiredField",field:ln,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},Pl=[{kind:"Variable",name:"cursor",variableName:"cursor"}],Ol={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},Ul=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,f,Ol],type:"User",abstractKey:null}],storageKey:null},o],Nl=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[xe,Ol,s,o],type:"User",abstractKey:null},Ze],storageKey:null},o],Hl=[ke,be,U,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[V,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Ee,Ke,Ie,Le,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Nl,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Nl,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],Bl={alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:Hl,storageKey:null},Wl=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,fe,he,Bl,Oe,Ue,{alias:null,args:null,concreteType:"AuxiliaryUserLabel",kind:"LinkedField",name:"auxiliary_user_labels",plural:!0,selections:[_e,fe,he,Bl,Oe,Ue],storageKey:null}],storageKey:null}],storageKey:null},He,Be,We,qe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ge,ze,Ye,Je,$e,nn,tn,ln,Ge,ze,Ye,Je,$e,nn,tn,ln,rn,sn,on,cn,un,he,gn,yn,_n,vn,fn,hn,kn,bn,Fn,Tn,Sn,_,En,Cn,Kn,In,xn,Rn,An,E,Zn,v,Mn,Dn,Pn,W,On,Un,Nn,Hn,Bn,Wn,qn,Gn],storageKey:null},Ol,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[s,Vn,jn,o],storageKey:null},Qn,Jn,Xn,Qn,Jn,Xn,$n,et],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Ae,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:Hl,storageKey:null},Re],type:"UserUnavailable",abstractKey:null}],storageKey:null},o],ql={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[s,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[de,pe,_,W,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:Wl,storageKey:null}],storageKey:null},o],storageKey:null},Gl=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Wl,storageKey:null}],Vl=[ht,{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[N,H,kt,S,B,j,bt,In,Ft,Tt,ue,W,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[me,he,St,le,Et,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:Gl,storageKey:null}],storageKey:null},Rt,At,Zt,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[Mt,Dt,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[V,Pt],storageKey:null}],storageKey:null},qt,Gt,zt,jt,Yt,Qt],storageKey:null},Jt,Xt,dn,$t],{fragment:{argumentDefinitions:[n,t,l,a,i],kind:"Fragment",metadata:null,name:"DMReportMessageListQuery",selections:[{alias:null,args:r,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"legacy_conversation_slice",args:null,concreteType:null,kind:"LinkedField",name:"__DMReportMessageList_legacy_conversation_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[s,o,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[c,u,d,p,m,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[o,s,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[g,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[g,y,_,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:h,storageKey:null},u,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[T],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[o,s,C],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},K,I,L],storageKey:null},w],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[x,R,A,Z,M,_,D,P,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:h,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:h,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[O,o,U,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[V,se,{kind:"InlineFragment",selections:[z,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[s,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[de,pe,_,W,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,Ne,He,Be,We,qe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ve,je,Qe,Xe,en,nn,tn,an,Ve,je,Qe,Xe,en,nn,tn,an,rn,sn,on,cn,un,he,gn,yn,{kind:"RequiredField",field:_n,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.favourites_count"},vn,{kind:"RequiredField",field:fn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:hn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.friends_count"},kn,bn,Fn,Tn,{kind:"RequiredField",field:Sn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.media_count"},_,En,Cn,Kn,In,xn,Rn,An,E,Zn,v,{kind:"RequiredField",field:Mn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.statuses_count"},Dn,Pn,W,On,{kind:"RequiredField",field:Un,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs_results.result.legacy.verified"},Nn,Hn,Bn,Wn,qn,Gn],storageKey:null},Yn,Qn,Jn,Xn,Qn,Jn,Xn,$n,et],type:"User",abstractKey:null},nt],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[z,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[V,o,s,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[s,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[de,pe,_,W,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_refs_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,Ne,He,Be,We,qe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[tt,lt,at,it,rt,nn,tn,st,tt,lt,at,it,rt,nn,tn,st,rn,sn,on,cn,un,he,gn,yn,{kind:"RequiredField",field:_n,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.favourites_count"},vn,{kind:"RequiredField",field:fn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.followers_count"},{kind:"RequiredField",field:hn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.friends_count"},kn,bn,Fn,Tn,{kind:"RequiredField",field:Sn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.media_count"},_,En,Cn,Kn,In,xn,Rn,An,E,Zn,v,{kind:"RequiredField",field:Mn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.statuses_count"},Dn,Pn,W,On,{kind:"RequiredField",field:Un,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs_results.result.legacy.verified"},Nn,Hn,Bn,Wn,qn,Gn],storageKey:null},Yn,Qn,Jn,Xn,Qn,Jn,Xn,$n,et],type:"User",abstractKey:null},nt],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[ot,ct,ut,on,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[dt,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"conversation_owner_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[xe],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},pt],storageKey:null},mt,_t,vt,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[ht,{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[N,H,kt,S,B,j,bt,In,Ft,Tt,ue,W,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[me,he,St,le,Et,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,Ne,He,Be,We,qe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ct,Kt,It,Lt,wt,nn,tn,xt,Ct,Kt,It,Lt,wt,nn,tn,xt,rn,sn,on,cn,un,he,gn,yn,{kind:"RequiredField",field:_n,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},vn,{kind:"RequiredField",field:fn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:hn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},kn,bn,Fn,Tn,{kind:"RequiredField",field:Sn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},_,En,Cn,Kn,In,xn,Rn,An,E,Zn,v,{kind:"RequiredField",field:Mn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Dn,Pn,W,On,{kind:"RequiredField",field:Un,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Nn,Hn,Bn,Wn,qn,Gn],storageKey:null},Yn,Qn,Jn,Xn,Qn,Jn,Xn,$n,et],type:"User",abstractKey:null},nt],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Rt,At,Zt,Ot,qt,Gt,zt,jt,Yt,Qt],storageKey:null},Jt,Xt,dn,$t],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[ht,{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[N,H,kt,S,B,j,bt,In,Ft,Tt,ue,W,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[me,he,St,le,Et,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,Ne,He,Be,We,qe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[el,nl,tl,ll,al,nn,tn,il,el,nl,tl,ll,al,nn,tn,il,rn,sn,on,cn,un,he,gn,yn,{kind:"RequiredField",field:_n,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},vn,{kind:"RequiredField",field:fn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:hn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},kn,bn,Fn,Tn,{kind:"RequiredField",field:Sn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},_,En,Cn,Kn,In,xn,Rn,An,E,Zn,v,{kind:"RequiredField",field:Mn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Dn,Pn,W,On,{kind:"RequiredField",field:Un,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Nn,Hn,Bn,Wn,qn,Gn],storageKey:null},Yn,Qn,Jn,Xn,Qn,Jn,Xn,$n,et],type:"User",abstractKey:null},nt],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Rt,At,Zt,Ot,qt,Gt,zt,jt,Yt,Qt],storageKey:null},Jt,Xt,dn,$t],storageKey:null},{kind:"RequiredField",field:rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:sl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},ol,cl,ul,dl,pl,ml,gl,yl,In,_l,vl,fl,hl,kl,bl,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},El,Cl,Kl,Il,Gn,S,Ll,wl],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,Ne,He,Be,We,qe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[xl,Rl,Al,Zl,Ml,nn,tn,Dl,xl,Rl,Al,Zl,Ml,nn,tn,Dl,rn,sn,on,cn,un,he,gn,yn,{kind:"RequiredField",field:_n,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},vn,{kind:"RequiredField",field:fn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:hn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},kn,bn,Fn,Tn,{kind:"RequiredField",field:Sn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},_,En,Cn,Kn,In,xn,Rn,An,E,Zn,v,{kind:"RequiredField",field:Mn,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},Dn,Pn,W,On,{kind:"RequiredField",field:Un,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},Nn,Hn,Bn,Wn,qn,Gn],storageKey:null},Yn,Qn,Jn,Xn,Qn,Jn,Xn,$n,et],type:"User",abstractKey:null},nt],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[s],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:h,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,l,i,a],kind:"Operation",name:"DMReportMessageListQuery",selections:[{alias:null,args:r,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[{alias:null,args:Pl,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[V,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[s,o,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[c,u,d,p,m,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[o,s,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[g,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[g,y,_,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:Ul,storageKey:null},u,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:Ul,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[V,T],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,C,Ol],type:"User",abstractKey:null}],storageKey:null},o],storageKey:null},K,I,L],storageKey:null},w],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[x,R,A,Z,M,_,D,P,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:Ul,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:Ul,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:Ul,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[O,o,U,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:Ul,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:Ul,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[V,se,{kind:"InlineFragment",selections:[z,ql],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[z,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[o,s,ql,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[ot,ct,ut,on,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[dt,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"conversation_owner_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[xe,Ol,o],type:"User",abstractKey:null}],storageKey:null},o],storageKey:null},pt],storageKey:null},mt,_t,vt,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:Vl,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:Vl,storageKey:null},rl,sl,ol,cl,ul,dl,pl,ml,gl,yl,In,_l,vl,fl,hl,kl,bl,Fl,Tl,Sl,El,Cl,Kl,Il,Gn,S,Ll,wl],storageKey:null},Ol,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:Gl,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[V,{kind:"InlineFragment",selections:[s,o],type:"Tweet",abstractKey:null}],storageKey:null},o],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},o],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:Pl,filters:null,handle:"slice",key:"DMReportMessageList_legacy_conversation_slice",kind:"LinkedHandle",name:"legacy_conversation_slice"},o],type:"DMConversation",abstractKey:null}],storageKey:null},o],storageKey:null}]},params:{id:"B4YxblRbuJzGmt1gsyWefg",metadata:{features:["responsive_web_graphql_exclude_directive_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","responsive_web_graphql_timeline_navigation_enabled","responsive_web_media_download_video_enabled","rweb_video_timestamps_enabled","verified_phone_label_enabled"],sliceInfoPath:["dm_conversation_by_rest_id","result","legacy_conversation_slice","slice_info"]},name:"DMReportMessageListQuery",operationKind:"query",text:null}});zl.hash="0c758c1c6fb0055318b6f9ce1973e040",e.exports=zl},18748:(e,n,t)=>{t.d(n,{K:()=>l});var l=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=e.isTrue("dm_secret_conversations_enabled"),r=e.isTrue("dm_secret_conversations_for_blue_verified_enabled"),s=e.isTrue("dm_secret_conversations_for_graduated_access_enabled"),o=e.isTrue("subscriptions_premium_tiers_encrypted_dms_gating_update_enabled")?n.isAnyPremiumSubscriber():t;return i||r&&(o||("Business"===a||"Government"===a))||s&&l}},410025:(e,n,t)=>{t.d(n,{G:()=>r,p:()=>i});var l=t(202784),a=t(962230),i=function(){var e=l.useContext(a.Z),n=e.decrementDmDrawerSuppressorCount,t=e.incrementDmDrawerSuppressorCount;l.useEffect((function(){return t(),function(){return n()}}),[t,n])},r=function(){var e=l.useContext(a.Z).setSideNavSupport;l.useEffect((function(){return e(!1),function(){return e(!0)}}),[e])}},499439:(e,n,t)=>{t.d(n,{Z:()=>g});var l=t(807896),a=t(133028),i=t(459740),r=t(202784),s=t(125684),o=t(119884),c=t(808716),u=t(949690),d=t(263241),p=["bodyRichText","bodyText","onImpression","primaryAction","titleRichText","titleText"];function m(e){var n=e.bodyRichText,t=e.bodyText,m=e.onImpression,g=e.primaryAction,y=e.titleRichText,_=e.titleText,v=(0,i.Z)(e,p),f=(0,c.Z)(),h=function(){f.scribe({action:"click"})},k=y?r.createElement(o.Z,{entities:y.entities,onEntityClick:h,text:y.text}):_&&_.length?_:null,b=n?r.createElement(o.Z,{entities:n.entities,onEntityClick:h,text:n.text}):t&&t.length?t:null,F=function(e){return(0,a.Z)((0,a.Z)({},g),{},{onClick:function(n){(null==g?void 0:g.onClick)&&g.onClick(n),e(n)}})},T=r.createElement(d.H.Consumer,null,(function(e){var n=e.handleNextSlide;return r.createElement(s.Z,(0,l.Z)({},v,{headline:k,primaryAction:g?F(n):void 0,subtext:b}))}));return"function"==typeof m?r.createElement(u.Z,{onImpression:m},T):T}m.defaultProps={shouldRenderBorder:!1};const g=m},263241:(e,n,t)=>{t.d(n,{H:()=>i});var l=t(202784),a=t(801206),i=l.createContext({handleNextSlide:a.Z})},49898:(e,n,t)=>{t.d(n,{Z:()=>F});var l=t(709249),a=t(887371),i=t(545754),r=t(486906),s=t(202784),o=t(706555),c=t(882392),u=t(700400),d=t(973186),p=t(488809),m=t(24949),g=t(392160),y=t(157659),_=function(e,n){return n.entityId&&y.ZP.select(e,n.entityId)||void 0},v=function(e){return"/".concat(e.screen_name)},f=function(e){return e.name};const h=(0,g.Z)().propsFromState((function(){return{user:_,badging:(0,m.P1)(_,(function(e){return e?{displayContext:"content",isBlueVerified:e.is_blue_verified,isProtected:e.protected,isVerified:e.verified,verifiedType:e.verified_type,translatorType:e.translator_type,affiliateBadgeInfo:e.highlightedLabel}:void 0}))}})).adjustStateProps((function(e){var n=e.badging,t=e.user;return{badging:n,link:t&&v(t),screenName:t&&t.screen_name,text:t&&f(t)||""}}));var k=function(e){(0,i.Z)(t,e);var n=(0,r.Z)(t);function t(){return(0,l.Z)(this,t),n.apply(this,arguments)}return(0,a.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.color,t=e.link,l=e.onClick,a=e.screenName,i=e.text,r=e.weight,c=e.withHashflags,u=s.createElement(o.Z.TextFragment,{color:n,link:t,onClick:l,style:b.wordBreak,weight:r,withHashflags:c},i,this._renderBadges());return a?s.createElement(p.Z,{screenName:a},u):u}},{key:"_renderBadges",value:function(){var e=this.props.badging;return e?s.createElement(c.ZP,{style:b.badges},s.createElement(u.Z,e)):null}}]),t}(s.PureComponent),b=d.Z.create((function(e){return{wordBreak:{wordBreak:"break-word",display:"inline-flex",flexWrap:"wrap"},badges:{position:"relative",top:1}}}));const F=h(k)},119884:(e,n,t)=>{t.d(n,{Z:()=>v});var l=t(807896),a=t(709249),i=t(887371),r=t(545754),s=t(486906),o=t(202784),c=t(706555),u=t(973186),d=t(991584),p=t(49898),m="Center",g="Natural",y=function(e){(0,r.Z)(t,e);var n=(0,s.Z)(t);function t(){return(0,a.Z)(this,t),n.apply(this,arguments)}return(0,i.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.accessibilityRole,t=e.alignment,a=e.color,i=e.entities,r=e.forceAutoTextDirection,s=e.nativeID,u=e.onEntityClick,g=e.rtl,y=e.size,v=e.style,f=e.text,h=e.weight,k=e.withHashflags,b=t===m?"center":void 0,F=r?"auto":g?"rtl":"ltr";return o.createElement(c.Z,{accessibilityRole:n,align:b,color:a,dir:F,entities:i,nativeID:s,onEntityClick:u,renderFragment:{user:function(e,n){return o.createElement(p.Z,(0,l.Z)({},e,{color:"text",entityId:n.id}))},url:function(e,n){return o.createElement(c.Z.TextFragment,(0,l.Z)({},e,{link:(0,d.s9)(n)}))}},size:y,style:[_.hideOverflow,v],text:f,weight:h,withHashflags:k})}}]),t}(o.PureComponent);y.defaultProps={alignment:g};var _=u.Z.create((function(e){return{hideOverflow:{overflow:"hidden"}}}));const v=y},203978:(e,n,t)=>{t.d(n,{It:()=>u,mD:()=>c,sE:()=>s});t(443430),t(743108),t(739529),t(231235),t(344112);var l=t(395871),a=t(650984),i=["da","de","en","en-gb","es","et","eu","fi","fil","fr","ga","gl","ht","hu","id","it","lt","lv","nl","no","ms","pl","pt","sk","sl","sv","tr","vi"],r={"en-gb":"en","en-ss":"en",fil:"tl",he:"iw",id:"in",msa:"ms","xx-lc":"en"},s=function(e){var n=e.toLowerCase();return r[n]||n},o=function(e,n){var t=s(e);return!(i.indexOf(t)>-1&&n<20)&&!("und"===e)},c=function(e){var n=e.displayTextRange,t=e.entities,i=e.language,r=e.text;if(!n||!o(i,n[1]-n[0]))return!1;var s=function(e,n){var t=l.Z.getTwemojiEntities(e).map((function(e){return e.indices}));for(var a in n)t=t.concat(n[a].map((function(e){return e.indices})));return t.sort((function(e,n){return e[0]-n[0]})),t}(r,t),c=function(e,n,t){var l=t.reduce((function(t,l){var a=t.accText,i=t.lastIndex;return l[1]<=i||n[1]<=l[0]?{lastIndex:i,accText:a}:{accText:a+e.slice(i,l[0]),lastIndex:l[1]}}),{accText:"",lastIndex:n[0]}),a=l.accText,i=l.lastIndex;return a+e.slice(i,n[1])}(r,n,s);return!(0,a.Z)(c)&&o(i,c.length)},u=function(e){if(e.includes("-"))return e;if(navigator.language&&navigator.language.startsWith(e))return navigator.language;if(window.Intl&&window.Intl.Locale){var n=new window.Intl.Locale(e).maximize().region;return"".concat(e,"-").concat(n)}return"ar"===e?"ar-EG":e}},10034:(e,n,t)=>{t.d(n,{C:()=>u});var l=t(807896),a=t(709249),i=t(887371),r=t(545754),s=t(486906),o=(t(315735),t(73439),t(906886),t(743108),t(202784)),c=function(e){(0,r.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={isLoaded:!1},e}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){return this._isMounted=!0,this.load()}},{key:"componentDidUpdate",value:function(e){return this.props.modules===e.modules?null:this.load()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"load",value:function(){var e=this;this.setState({isLoaded:!1});var n=this.props.modules,t=Object.keys(n);return Promise.all(t.map((function(e){return n[e]()}))).then((function(e){return t.reduce((function(n,t,l){return n[t]=e[l],n}),{})})).then((function(n){if(!e._isMounted)return null;e.setState({modules:n,isLoaded:!0})}))}},{key:"render",value:function(){var e=this.state.isLoaded?this.state.modules:{};return o.Children.only(this.props.children(e||{}))}}]),t}(o.Component),u=function(e,n){return function(t){return o.createElement(c,{modules:n},(function(n){return o.createElement(e,(0,l.Z)({},n,t))}))}}},21754:(e,n,t)=>{t.d(n,{i:()=>y,w:()=>_});var l=t(196234),a=(t(317368),t(524471),t(477950),t(888233),t(443430),t(621850),t(136728),t(548102)),i=t.n(a),r=t(679640),s=t(503614),o=t(872192),c=t(588027),u=t(222167),d=t(933997),p=t(943346),m=t(843790);var g=function(e){return{data:{name:e.name||"",conversationId:e.conversation_id},id:e.conversation_id,type:c.El.DMConversation}},y=function(e,n,t){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e&&new RegExp("(^|.*\\s)".concat(i()(e),".*"),"i"),o=function(e,n){return(0,r.Z)(e.map((function(e){return(0,m.Z)(e,n).map((function(e){return e.user}))})))}(n.sort(p.Z),t).filter((function(e){return(!a||(a.test(e.screen_name)||a.test(e.name)))&&(e.followed_by||l)})).map((function(e){return(0,d.z4)(e,c.vA.DMInjected)}));return(0,s.Z)(o,(function(e){return e.id}))};function _(e,n,t,a){var d,_=e&&new RegExp("(^|.*\\s)".concat(i()(e),".*"),"i"),v=n.filter((function(e){return e.trusted})).filter((function(n){if(!e)return!0;var l=_&&n.name&&_.test(n.name),a=(0,m.Z)(n,t).map((function(e){return e.user})),i=_&&a.some((function(e){return _.test(e.screen_name)||_.test(e.name)}));return l||i})).sort(p.Z),f=v;if(e){var h=(0,o.Z)(v,(function(e){return e.type===u.eD.ONE_TO_ONE})),k=(0,l.Z)(h,2),b=k[0],F=k[1];f=b.concat(F)}return d=(0,r.Z)(f.map((function(n){var l=n.type===u.eD.GROUP,i=[];return l&&a||(l&&i.push(g(n)),!e&&l||(i=i.concat(y(l?e:null,[n],t,!l)))),i}))),(0,s.Z)(d,(function(e){var n=e.id;return e.type===c.El.DMConversation?"c_".concat(n):"u_".concat(n)}))}},601613:(e,n,t)=>{t.r(n),t.d(n,{DMConversationCreator:()=>h,default:()=>k});t(73439),t(477950),t(385940);var l=t(202784),a=t(614983),i=t.n(a),r=t(107333),s=t(872983),o=t(267619),c=t(823803),u=t(759824),d=(t(74069),t(923335)),p=t(128216),m=t(392160),g=t(467935),y=t(157659),_=function(e,n){return n.match.params.screenName},v=function(e,n){var t=g._h(e),l=function(e,n){var t=_(0,n);return t?y.ZP.selectIdByScreenName(e,t):null}(e,n);return t&&l?(0,p.Z)(t,l):null};const f=(0,m.Z)().propsFromState((function(){return{screenName:_,conversationId:v}})).propsFromActions((function(){return{createLocalApiErrorHandler:(0,d.createLocalApiErrorHandlerWithContextFactory)("CREATE_CONVERSATION"),fetchOneByScreenNameWithExtraFieldsIfNeeded:y.ZP.createFetchOneByScreenNameWithExtraFieldsIfNeeded([y.pL,y.K1])}}));var h=function(e){var n=e.conversationId,t=e.createLocalApiErrorHandler,a=e.fetchOneByScreenNameWithExtraFieldsIfNeeded,d=e.history,p=e.screenName;return l.useEffect((function(){Promise.resolve().then((function(){return i()(!!p,"screenName must be defined"),a(p)})).catch((function(e){t(o.F)(e),d.replace("/messages")}))}),[p,a,t,d]),l.createElement(l.Fragment,null,n&&l.createElement(u.Z,{to:"/messages/".concat(n)}),l.createElement(s.Z,{fetchStatus:c.ZP.LOADING,render:r.Z}))};const k=f(h)},394921:(e,n,t)=>{t.r(n),t.d(n,{DMAddParticipantsScreen:()=>Q,default:()=>$,getItemIsDisabled:()=>J});var l=t(133028),a=t(968079),i=t(196234),r=(t(136728),t(202784)),s=t(325686),o=t(177953),c=(t(585488),t(351743)),u=t.n(c),d=t(229496),p=t(973186),m=t(645184),g=t.n(m),y=t(526176),_=t(612969),v=t(300292),f=t(93983),h=t(296744),k=t(284515),b=t(588027),F=t(21754),T=t(845118),S=t(799629),E=t(823803),C=t(623473),K=(t(477950),t(74069),t(571372),t(24949)),I=t(53223),L=t(923335),w=t(392160),x=t(685883),R=t(467935),A=t(157659),Z=function(e,n){return n.match.params.conversationId},M=function(e,n){var t=x.selectConversation(e,Z(0,n)),l=null==t?void 0:t.data;return null==l?void 0:l.participants},D=function(e,n){return x.selectConversationFetchStatus(e,Z(0,n))},P=(0,K.P1)(x.selectConversations,(function(e){return(0,I.Z)(Object.keys(e).map((function(n){var t=e[n];if(!t.isDeleted)return t.data})))}));const O=(0,w.Z)().propsFromState((function(){return{conversationId:Z,conversations:P,existingParticipants:M,fetchStatus:D,perspective:R._h,users:A.ZP.selectAll}})).adjustStateProps((function(e){var n=e.conversationId,t=e.conversations,l=e.existingParticipants,a=e.fetchStatus,i=e.perspective,r=e.users;if(!i)throw new Error("logged-in user not found");return{conversationId:n,conversations:t,existingParticipants:l,fetchStatus:a,perspective:i,users:r}})).propsFromActions((function(){return{addToast:S.fz,createLocalApiErrorHandler:(0,L.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_ADD_PARTICIPANTS"),fetchConversationIfNeeded:x.fetchConversationIfNeeded}})).withAnalytics({page:"messages",section:"add_participants"}),U={addPeopleButtonText:"addPeopleButtonText",nextButton:"nextButton",searchPeople:"searchPeople"};var N,H=g().c602600a,B=g().d4986f86,W=g().af40a8e0,q=g().e1bde73f,G=g().e62d3c10,V=g().h8403fb6,z=g().ja522ed4,j=12,Y=void 0!==N?N:N=t(941422);function Q(e){var n=r.useRef(null),t=r.useState([]),c=(0,i.Z)(t,2),p=c[0],m=c[1],g=r.useState(""),K=(0,i.Z)(g,2),I=K[0],L=K[1],w=e.createLocalApiErrorHandler,x=e.conversationId,R=e.fetchConversationIfNeeded,A=e.history,Z=e.fetchStatus,M=e.conversations,D=e.existingParticipants,P=void 0===D?[]:D,O=e.perspective,N=e.users,Q=(0,o.I0)(),$=u()(Y),ee=(0,i.Z)($,1)[0];r.useEffect((function(){R({conversationId:x}).catch(w((0,h.q)(x)))}),[R,x,w]);var ne=function(){return r.createElement(s.Z,{style:X.rightColumn},r.createElement(d.ZP,{disabled:0===p.length||Z!==E.ZP.LOADED,onPress:le,size:"small",testID:U.addPeopleButtonText,type:"primaryFilled"},W))},te=function(e){m(p.filter((function(n){return n.id!==e.id})))},le=function(){var e=p.map((function(e){return e.id}));ee({variables:{addedParticipants:e,conversationId:x},onCompleted:function(e){var t,i,r,s;if("AddParticipantsSuccess"!==(null===(t=e.add_participants)||void 0===t?void 0:t.__typename)||null!==(i=e.add_participants)&&void 0!==i&&null!==(i=i.user_failures)&&void 0!==i&&i.length){if("AddParticipantsSuccess"===(null===(r=e.add_participants)||void 0===r?void 0:r.__typename)&&null!==(s=e.add_participants)&&void 0!==s&&null!==(s=s.user_failures)&&void 0!==s&&s.length){var o=e.add_participants.user_failures[0].value;if("SenderIsNotVerifiedForMessageRequests"===o)A.push("/i/verified-get-verified",{reason:C.GetVerifiedReason.ADD_TO_GROUP});else{var c="RecipientNotFound"===o?G:z;Q((0,S.fz)({text:c}))}}}else{var u=M.find((function(e){return e.conversation_id===x}));if(u){var d,p=(null===(d=e.add_participants)||void 0===d?void 0:d.added_users)||[],m=[];p.forEach((function(e){m.push({user_id:e})}));var g={conversations:{}};g.conversations[x]=(0,l.Z)((0,l.Z)({},u),{},{participants:[].concat((0,a.Z)(u.participants),m)}),Q((0,T.f)(g,!1))}n.current&&n.current.goBack()}},onError:function(e){w({defaultToast:{text:V},showToast:!0})(e)}})},ae=r.useMemo((function(){return(0,F.i)(I,M.map((function(e){return(0,k.E5)(e,void 0,N)})),O).slice(0,j)}),[I,M,O,N]),ie=P.map((function(e){return e.user_id}));return r.createElement(v.Z,{containerStyle:X.fill,documentTitle:B,renderHeader:function(){return r.createElement(y.ZP,{backButtonType:"close",backLocation:"/messages/".concat(x),history:A,ref:n,rightControl:ne(),title:H})}},r.createElement(_.Z,{style:X.fill},r.createElement(f.fb,{getItemDisabledMessage:function(e){return e.type===b.El.User?q({screenName:e.data.screen_name}):void 0},getItemIsDisabled:J,injections:ae,onQueryChange:function(e){L(e)},onRemove:te,onSelect:function(e){e.type===b.El.User&&(p.find((function(n){return n.id===e.id}))?te(e):m([].concat((0,a.Z)(p),[e])))},preselectedUsers:ie,selectedUsers:p,source:b._4.ComposeMessage,withCompactPills:!0})))}var J=function(e){return e.type===b.El.User&&!(e.data.can_dm||e.data.is_dm_able)},X=p.Z.create((function(e){return{fill:{flex:1},rightColumn:{flexDirection:"row",flexGrow:1,justifyContent:"flex-end",alignItems:"center"}}}));const $=O(Q)},84326:(e,n,t)=>{t.r(n),t.d(n,{DMComposeScreen:()=>Be,Mode:()=>He,default:()=>qe});var l=t(807896),a=t(256666),i=t(841361),r=t(133028),s=t(709249),o=t(887371),c=t(545754),u=t(486906),d=(t(73439),t(571372),t(477950),t(385940),t(136728),t(315735),t(906886),t(202784)),p=t(325686),m=t(177953),g=t(882392),y=t(550829),_=t(229496),v=t(174062),f=t(870451),h=t(973186),k=t(645184),b=t.n(k),F=t(685080),T=t(16587),S=t(206149),E=t(593863),C=t(18748),K=t(612969),I=t(300292),L=t(348501),w=t(93983),x=t(926624),R=t(284515),A=t(128216),Z=t(265894);var M=t(588027),D=t(21754),P=t(623473),O=t(772683),U=t(459740),N=t(24921),H=t(801206),B=t(354484),W=h.Z.create((function(e){return{backgroundGrey:{backgroundColor:e.colors.gray100},backgroundDefault:{backgroundColor:e.colors.elevatedBackground},root:{overflow:"hidden",flexDirection:"row",justifyContent:"space-between",gap:e.spaces.space16,flexGrow:1,borderColor:e.colors.transparent,borderWidth:e.borderWidths.medium,borderRadius:e.borderRadii.infinite,cursor:"pointer"},padding4:{padding:e.spaces.space4},iconHiddenStyle:{visibility:"hidden"},checked:{borderColor:e.colors.primary}}})),q=(0,r.Z)((0,r.Z)({},h.Z.absoluteFillObject),{},{cursor:"inherit",height:"100%",margin:0,opacity:0,padding:0,width:"100%"});const G=function(e){var n=e.accessibilityLabel,t=e.accessibilityPosInSet,l=e.accessibilitySetSize,a=e.checked,i=e.disabled,r=e.icon,s=e.name,o=e.onChange,c=e.testID,u=(0,B.b)(),m=(0,B.b)();return d.createElement(p.Z,{disabled:i,style:[W.root,a&&W.backgroundDefault],testID:c},d.createElement(p.Z,{style:[W.padding4,!a&&W.iconHiddenStyle]},r),d.createElement("input",{"aria-describedby":m,"aria-label":n,"aria-labelledby":u,"aria-posinset":t,"aria-setsize":l,checked:a,disabled:i,name:s,onChange:H.Z,onClick:o,style:q,type:"radio"}))};var V=["value"];function z(e){var n=d.useCallback((function(e){var n=e.value,t=(0,U.Z)(e,V);return d.createElement(G,(0,l.Z)({},t,{key:n}))}),[]);return d.createElement(p.Z,{style:j.root},d.createElement(N.Z,(0,l.Z)({},e,{horizontal:!0,renderSelector:n,switchStyle:!0})))}var j=h.Z.create((function(e){return{root:{width:"fit-content"}}})),Y=t(688171),Q=t(789504),J=function(e){var n=e.encrypted,t=e.onChange,l=d.useCallback((function(){t(!n)}),[n,t]),a=[{icon:d.createElement(Y.default,{style:[X.unlockIcon,n&&X.switchEncryptedStyle]}),value:"regular"},{icon:d.createElement(Q.default,{style:X.lockIcon}),value:"encrypted"}];return d.createElement(z,{backgroundStyles:n&&X.switchEncryptedStyle,name:"",onChange:l,options:a,value:n?"encrypted":"regular"})},X=h.Z.create((function(e){return{lockIcon:{color:e.colors.text},unlockIcon:{color:e.colors.gray600},switchEncryptedStyle:{backgroundColor:e.colors.text}}})),$=t(756755),ee=t(35805),ne=t(24949),te=t(990867),le=t(923335),ae=t(397871),ie=t(392160),re=t(685883),se=t(454352),oe=t(949204),ce=t(467935),ue=t(799629),de=t(157659),pe=t(67621),me={page:"messages",section:"compose",component:"dm"},ge="text",ye="recipient_id",_e=(0,ae.cI)(ge),ve=((0,ae.cI)(ye),function(e){var n=ce._h(e);if(!n)throw new Error("logged-in user not found");return n}),fe=function(e){return!!ce.kD(e)};const he=(0,ie.Z)().propsFromState((function(){return{hasRegisteredCryptoKey:fe,conversations:(0,ne.P1)(re.selectConversations,(function(e){var n,t=[],l=(0,i.Z)((0,te.Z)(e));try{for(l.s();!(n=l.n()).done;){var a=n.value;!a.isDeleted&&a.data&&t.push(a.data)}}catch(r){l.e(r)}finally{l.f()}return t})),initialMessage:_e,perspective:ve,tweetAttachment:pe.Ss,users:de.ZP.selectAll,recipientId:(0,ae.cI)(ye)}})).propsFromActions((function(){return{fetchConversation:re.fetchConversation,addToast:ue.fz,createLocalApiErrorHandler:(0,le.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_COMPOSE"),fetchConversationFromParticipants:re.fetchConversationFromParticipants,fetchInboxIfNeeded:re.fetchInboxIfNeeded,popOutConversation:oe.DO,sendMessage:se.bG}})).withAnalytics(me),ke="nextButton";var be=b().de4669e2,Fe=b().ff599112,Te=b().c602600a,Se=b().f61c4bb0,Ee=b().cdcebd22,Ce=b().fa2033f6,Ke=b().aa59bb6a,Ie=b().f277e94a,Le=b().a2ccb2e8,we=b().f906f464,xe=b().i8a99aae,Re=b().e3275464,Ae=b().hbbc401c,Ze=b().c1df579e,Me=b().e1bde73f,De=b().f7289cd6,Pe=b().e6cced4e,Oe=b().a893d602,Ue=Object.freeze({BACK:"back",CLOSE:"close"}),Ne=Object.freeze({COMPOSE_ROUTE:"/messages/compose",GROUP_COMPOSE_ROUTE:"/messages/compose/group",MESSAGES_ROUTE:"/messages"}),He=Object.freeze({COMPOSE_MESSAGE:0,CREATE_GROUP:1,SHARE_TWEET_INDIVIDUALLY:2}),Be=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(e,l){var o;return(0,s.Z)(this,t),(o=n.call(this,e,l))._composer=d.createRef(),o._withSecretDM=function(){var e=o.props,n=e.perspective,t=e.users[n];return o.props.hasRegisteredCryptoKey&&(0,C.K)(o.context.featureSwitches,o.context.userClaims,null==t?void 0:t.is_blue_verified,null==t?void 0:t.has_graduated_access,null==t?void 0:t.verified_type)},o._separateShareLimit=o.context.featureSwitches.getNumberValue("dm_share_sheet_send_individually_max_count"),o._determineMode=function(e){var n,t=e.tweetAttachment||!!e.initialMessage;return null!==(n=o.props.location)&&void 0!==n&&null!==(n=n.state)&&void 0!==n&&n.isNewGroup?He.CREATE_GROUP:t?He.SHARE_TWEET_INDIVIDUALLY:He.COMPOSE_MESSAGE},o._isSharingMode=function(e){return e===He.SHARE_TWEET_INDIVIDUALLY},o._renderEncryptedMessageSubtitle=function(){return d.createElement(p.Z,{style:We.encryptedMessageSubtitleContainer},d.createElement(g.ZP,null,Ce),d.createElement($.X,null))},o._renderScreen=function(e){var n,t,l=e.isModal,a=o.props.history,i=o.state,r=i.encryptConversation,s=i.mode,c=i.participants;switch(s){case He.COMPOSE_MESSAGE:n=Ee,r&&(t=o._renderEncryptedMessageSubtitle());break;case He.CREATE_GROUP:n=Fe,t=Te;break;case He.SHARE_TWEET_INDIVIDUALLY:n=c.length>1?Ke:Se;break;default:n=""}var u=s===He.SHARE_TWEET_INDIVIDUALLY;return d.createElement(I.Z,{backButtonType:s===He.CREATE_GROUP?Ue.BACK:Ue.CLOSE,backLocation:s===He.CREATE_GROUP?Ne.COMPOSE_ROUTE:Ne.MESSAGES_ROUTE,containerStyle:We.fill,documentTitle:n,history:a,onBackClick:s===He.CREATE_GROUP?o._handleBackClick:o._handleClose,rightControl:u?void 0:o._renderAppBarRightControl(),subtitle:t,title:n},d.createElement(y.Z.Context.Consumer,null,o._setDisableFocusingPreviousActiveElement),d.createElement(K.Z,{style:We.fill},o._renderUserPicker(),u&&!l?d.createElement(p.Z,{style:We.placeholder}):null,o._renderComposer(l)))},o._setDisableFocusingPreviousActiveElement=function(e){var n=e.disableFocusingPreviousActiveElement;o._disableFocusingPreviousActiveElement=n},o._handleEncryptConversationChange=function(e){o.setState({encryptConversation:e})},o._renderEncryptConversationSwitch=function(){var e=o.state.encryptConversation;return d.createElement(p.Z,{style:We.rightColumn},d.createElement(J,{encrypted:e,onChange:o._handleEncryptConversationChange}))},o._renderAppBarRightControl=function(){var e=o.props.tweetAttachment,n=o.state.mode,t=e?Re:Ze;return d.createElement(p.Z,{style:We.rightColumn},o._withSecretDM()&&n===He.COMPOSE_MESSAGE?o._renderEncryptConversationSwitch():d.createElement(_.ZP,{disabled:0===o.state.participants.length,onPress:o._handleConversationRouting,size:"small",style:We.button,testID:ke,type:"primaryFilled"},t))},o._renderComposer=function(e){var n=o.props,t=n.history,l=n.initialMessage,a=n.tweetAttachment,i=o.state,r=i.isSending,s=i.mode,c=i.participants;c.length;var u=c.map((function(e){return{id:e.id,type:e.type}}));return s===He.SHARE_TWEET_INDIVIDUALLY?d.createElement(ee.Z,{canSendEmptyMessage:!!a,conversationId:"DMComposeScreen",disabled:0===c.length||r,history:t,isSending:r,isShareViaDM:!0,isUploading:!1,mediaUploadProgress:0,newConversationParticipants:u,onPrimaryAction:o._handleShareTweet,onSecondaryAction:o._handleShareTweetToGroup,placeholderText:be,prefillText:l,ref:o._composer,scribeNamespace:me,secondaryActionDisabledPopoverRenderer:o._renderSendToGroupDisabledPopover,secondaryActionLabel:Ae,shouldEnableSecondaryActionFunc:o._shouldEnableSendToGroup,shouldShowSecondaryActionFunc:o._shouldShowSendToGroup,style:[We.shadow,!e&&We.fixToBottom],withEmojiPicker:!1,withGifPicker:!1,withMediaPicker:!1,withVideoTrimmer:o.context.featureSwitches.isTrue("responsive_web_video_trimmer_enabled")}):null},o._renderEncryptedLock=function(){return function(){var e=o.state.encryptConversation;return o._withSecretDM()&&e?d.createElement(p.Z,{style:We.lockContainer},d.createElement(O.Z,null)):null}},o._renderUserPicker=function(){var e=o.props,n=e.conversations,t=e.perspective,l=o.state,a=l.encryptConversation,i=l.mode,r=l.participants,s=l.query,c=o._withSecretDM()&&(a||i===He.CREATE_GROUP);return d.createElement(w.fb,{getItemDisabledMessage:o._getItemDisabledMessage,getItemIsDisabled:o._getItemIsDisabled(o._separateShareLimit),injections:o._getInjections(n,t,s,c),onQueryChange:o._handleQueryChange,onRemove:o._handleRemoveParticipant,onSelect:o._getHandleSuggestionSelected(),renderAvatarDecoration:o._renderEncryptedLock(),renderHeader:o._renderHeader(),renderNoResultsState:o._renderHeader(),selectedUsers:r,shouldAutoFocus:i!==He.SHARE_TWEET_INDIVIDUALLY||!S.ZP.isIOS(),source:M._4.ComposeMessage,withCompactPills:!0})},o._handleBackClick=function(){o.props.history.goBack()},o._handleClose=function(){o.props.history.goBackThroughModals()},o._handleCreateGroup=function(){o.props.analytics.scribe({element:"create_group",action:"click"}),o.setState({mode:He.CREATE_GROUP})},o._shouldShowSendToGroup=function(){return o.state.participants.length>1},o._shouldEnableSendToGroup=function(){return!o._hasAtLeastOneGroupSelected()},o._renderSendToGroupDisabledPopover=function(e){return d.createElement(p.Z,{style:We.popover},d.createElement(g.ZP,{size:"headline1",style:We.popoverElement,weight:"bold"},De),d.createElement(g.ZP,{style:We.popoverElement},Pe),d.createElement(_.ZP,{onPress:e,style:[We.popoverElement,We.popoverButton],type:"primaryFilled"},Oe))},o._renderHeader=function(){return function(){var e=o.state,n=e.encryptConversation,t=e.mode,l=e.participants,a=e.query,i=o.props.tweetAttachment;return l.length||a||n||t!==He.COMPOSE_MESSAGE?null:d.createElement(v.Z,{link:{pathname:Ne.GROUP_COMPOSE_ROUTE,state:(0,r.Z)((0,r.Z)({},o.state),{},{isNewGroup:!0,participants:l,tweetAttachment:i}),anchorless:!0},onPress:o._handleCreateGroup,style:We.container},d.createElement(_.ZP,{accessibilityLabel:Fe,hoverLabel:{label:Fe},icon:d.createElement(F.default,{style:We.searchIcon}),onPress:o._handleCreateGroup,size:"small",style:We.createGroupButton,type:"brandOutlined"}),d.createElement(g.ZP,{color:"link",numberOfLines:1,weight:"bold"},Fe))}},o._isShareLimitMet=function(e){var n=o.state,t=n.mode,l=n.participants,a=t===He.SHARE_TWEET_INDIVIDUALLY&&o._separateShareLimit&&l.length>=o._separateShareLimit,i=l.filter((function(n){return n.id===e.id})).length;return!(!a||i)},o._isGroupOptionDisabled=function(e){var n=o.state,t=n.mode,l=n.participants;if(!o._isSelectedGroup(e)&&t!==He.SHARE_TWEET_INDIVIDUALLY&&(o._hasAtLeastOneGroupSelected()||e.type===M.El.DMConversation&&(l.length>0||t===He.CREATE_GROUP)))return!0},o._canDMUser=function(e){if(e.type===M.El.User)return!(e.data.can_dm||e.data.is_dm_able)},o._hasAtLeastOneGroupSelected=function(){var e,n=(0,i.Z)(o.state.participants);try{for(n.s();!(e=n.n()).done;){if(e.value.type===M.El.DMConversation)return!0}}catch(t){n.e(t)}finally{n.f()}return!1},o._isSelectedGroup=function(e){var n=o.state.participants;if(o._hasAtLeastOneGroupSelected()&&n[0].id===e.id)return!0},o._getItemIsDisabled=function(e){return function(e){var n=o._isShareLimitMet(e),t=o._isGroupOptionDisabled(e),l=o._canDMUser(e);return t||n||l}},o._getItemDisabledMessage=function(e){return e.type===M.El.User?Me({screenName:e.data.screen_name}):void 0},o._getInjections=(0,T.Z)((function(e,n,t,l){return(0,D.w)(t,e.map((function(e){return(0,R.E5)(e,void 0,o.props.users)})),n,l).slice(0,12)})),o._handleQueryChange=function(e){o.setState({query:e})},o._getHandleSuggestionSelected=function(){return function(e){var n=o.state,t=n.mode,l=n.participants;if(e.type===M.El.User||e.type===M.El.DMConversation)if(o._withSecretDM()&&t===He.COMPOSE_MESSAGE){var a=o._getConversationIdFromTypeahead(e);o.props.fetchInboxIfNeeded().then((function(){return o.props.fetchConversation({conversationId:a})})).then((function(){o._goToConversation(a)}))}else if(o._hasAtLeastOneGroupSelected()&&t!==He.SHARE_TWEET_INDIVIDUALLY)e.id===l[0].id&&o._handleRemoveParticipant(e);else if(e.type===M.El.DMConversation)if(t===He.SHARE_TWEET_INDIVIDUALLY)o._createConversationObjectForSelectionPill(e);else{var i=o._getConversationIdFromTypeahead(e);o._goToConversation(i)}else o._handleParticipantToggle(e)}},o._createConversationObjectForSelectionPill=function(e){var n=o.props,t=n.conversations,l=n.perspective,a=n.users,i=o.state.participants,s=t.find((function(n){return e.id===n.conversation_id}));if(s){var c=(0,R.E5)(s,void 0,a),u=(0,Z.ZP)(c,l);e.data=(0,r.Z)((0,r.Z)({},c),{},{conversationId:e.data.conversationId,name:u||""}),i.find((function(n){return n.id===e.id}))?o._handleRemoveParticipant(e):o.setState({participants:i.concat(e)})}},o._handleParticipantToggle=function(e){var n=o.state.participants;if(n.find((function(n){return n.id===e.id})))o._handleRemoveParticipant(e);else{var t=n.concat(e);o.setState({participants:t})}},o._handleRemoveParticipant=function(e){var n=o.state.participants.filter((function(n){return n.id!==e.id}));o.setState({participants:n})},o._handleConversationRouting=function(){o.props.tweetAttachment?o._handleShareTweet():o._handleCreateConversation()},o._getExistingGroupConversationFromCache=function(e){return o.props.conversations.find((function(n){var t=n.participants.length-1;return!n.name&&t===e.length&&e.every((function(e){return Boolean(n.participants.find((function(n){return e.id===n.user_id})))}))}))},o._getExistingGroupConversationFromApi=function(e){var n=e.map((function(e){return e.id})).join(",");return o.props.fetchConversationFromParticipants(n)},o._getExistingGroupConversation=function(e){if(e.length<=1)return Promise.resolve();var n=o._getExistingGroupConversationFromCache(e);return n?Promise.resolve(n):o._getExistingGroupConversationFromApi(e)},o._handleCreateConversation=function(){var e=o.props,n=e.history,t=e.initialMessage,l=e.tweetAttachment,i=o.state.participants;if(1===i.length){var r=i[0],s=o._getConversationIdFromTypeahead(r);o._goToConversation(s)}else{var c=o._getExistingGroupConversation(i);o._disableFocusingPreviousActiveElement&&o._disableFocusingPreviousActiveElement(),c.then((function(e){if(!e)throw new Error("No conversation found");o._goToConversation(e.conversation_id)})).catch((function(){n.replace({pathname:"/messages/group",query:(0,a.Z)({},ge,t),state:{participants:i,tweetAttachment:l,isNewGroupConversation:!0}})})),o._disableFocusingPreviousActiveElement&&o._disableFocusingPreviousActiveElement()}},o._handleShareTweetToGroup=function(e,n){return o.setState({mode:He.CREATE_GROUP,isSending:!0}),o._handleShareTweet(e,n).then((function(e){var n=e.conversationId;e.text;return Promise.resolve(n)}))},o._handleShareTweet=function(e,n){var t=o.props,l=t.createLocalApiErrorHandler,a=t.perspective,i=t.tweetAttachment,r=o.state.participants,s=1===r.length;o.setState({isSending:!0});var c=r;s&&(c=r[0]);var u={senderId:a,tweetAttachment:i,text:n},d=o._getConversationIdFromTypeahead(c);return d?o._sendMessage(d,r,u).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conversationId,t=void 0===e?"":e;return Promise.resolve({conversationId:t,text:n||""})})):o._getExistingGroupConversation(r).catch(l(x.RU)).then((function(e){var t=e?e.conversation_id:null;return o._sendMessage(t,r,u).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conversationId,t=void 0===e?"":e;return Promise.resolve({conversationId:t,text:n||""})}))}))},o._sendMessage=function(e,n,t){var l=o.props,a=l.analytics,i=l.createLocalApiErrorHandler,s=l.history,c=l.sendMessage,u=o.state.mode,d=(0,r.Z)({conversationId:void 0,recipients:void 0},t);if(!e&&Array.isArray(n)){var p=n.map((function(e){if(e.type===M.El.User)return e.data.id_str})).filter(Boolean);d.recipients=p}else d.conversationId=e;var m=function(){return s.push("/i/verified-get-verified",{reason:P.GetVerifiedReason.RATE_LIMITED})},g=i((0,x.T5)(m)),y=i((0,x.eN)(m)),_={action:"send_tweet_dm"},v={action:"share_error"};if(u===He.SHARE_TWEET_INDIVIDUALLY&&null!=n&&n.length&&n.forEach((function(){a.scribe(_)})),u===He.SHARE_TWEET_INDIVIDUALLY&&(null==n?void 0:n.length)>1){var f=null==n?void 0:n.map((function(e){var n=o._getConversationIdFromTypeahead(e);return(0,r.Z)((0,r.Z)({},d),{},{conversationId:n,recipients:void 0})}));return Promise.all(f.map((function(e){return c(e)}))).then((function(){o._displayDMMessageSentSuccessToast(),o.setState({isSending:!1}),s.goBack()})).catch((function(e){a.scribe(v),o.setState({isSending:!1}),y(e)}))}return c(d).then((function(e){var n=e.conversationId;o._displayDMMessageSentSuccessToast(n),o.setState({isSending:!1}),s.goBackThroughModals()})).catch((function(e){u===He.SHARE_TWEET_INDIVIDUALLY&&a.scribe(v),o.setState({isSending:!1}),g(e)}))},o._goToConversation=function(e){var n,t=o.props,l=t.history,i=t.initialMessage,r=t.popOutConversation,s=t.tweetAttachment;(o._disableFocusingPreviousActiveElement&&o._disableFocusingPreviousActiveElement(),e)&&("drawer"===(null===(n=l.location)||void 0===n||null===(n=n.state)||void 0===n?void 0:n.source)?(r(e),l.goBack()):l.replace({pathname:"/messages/".concat(e),query:(0,a.Z)({},ge,i),state:{tweetAttachment:s}}))},o._displayDMMessageSentSuccessToast=function(e){(0,o.props.addToast)({text:e?o.state.mode===He.CREATE_GROUP?we:Le:xe,action:{link:e?"/messages/".concat(e):"/messages",label:Ie}})},o._getConversationIdFromTypeahead=function(e){var n=o.state.encryptConversation;if(!Array.isArray(e)&&e.type===M.El.DMConversation)return e.data.conversationId;if(!Array.isArray(e)&&e.type===M.El.User){var t=e.data.id_str,l=o.props.perspective;return o._withSecretDM()&&n?function(e,n){return"e".concat((0,A.Z)(e,n))}(t,l):(0,A.Z)(t,l)}return null},o.state={mode:o._determineMode(o.props),participants:[],query:"",isSending:!1,encryptConversation:!1},o}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.createLocalApiErrorHandler,t=e.history,l=e.initialMessage,i=e.location.query,s=e.perspective,o=e.recipientId;if(o){var c=(0,A.Z)(o,s);t.replace({pathname:"/messages/".concat(c),query:(0,r.Z)((0,r.Z)({},i),{},(0,a.Z)({},ge,l))})}else this.props.fetchInboxIfNeeded().catch(n())}},{key:"componentDidUpdate",value:function(e,n){var t=this.state.participants;this.state.mode===He.SHARE_TWEET_INDIVIDUALLY&&n.participants.length<t.length&&this._composer.current&&this._composer.current.focus()}},{key:"shouldComponentUpdate",value:function(e,n){return this.state.mode!==n.mode||!this.state.isSending&&!n.isSending}},{key:"render",value:function(){return this.props.recipientId?null:d.createElement(f.Z.Consumer,null,this._renderScreen)}}]),t}(d.Component);Be.contextType=L.rC;var We=h.Z.create((function(e){return{fill:{flex:1},button:{marginStart:e.spaces.space12},container:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,flexDirection:"row",alignItems:"center",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16},createGroupButton:{padding:e.spaces.space2,marginEnd:e.spaces.space12},encryptedMessageSubtitleContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:e.spaces.space8},popover:{padding:e.spaces.space24},popoverButton:{paddingVertical:e.spaces.space12},popoverElement:{marginVertical:e.spaces.space8},searchIcon:{padding:e.spaces.space8},topBorder:{borderTopColor:e.colors.gray200,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},rightColumn:{alignItems:"center",flexDirection:"row",flexGrow:1,justifyContent:"flex-end"},shadow:{boxShadow:"0 -1px 3px rgba(0,0,0,0.12)"},placeholder:{height:46},fixToBottom:{position:"fixed",backfaceVisibility:"hidden",bottom:0,start:0,end:0,paddingBottom:h.Z.iPhoneOffsetBottom},lockContainer:{display:"flex",alignItems:"center",top:e.spacesPx.space32,end:-e.spacesPx.space20}}}));const qe=d.forwardRef((function(e,n){var t=(0,m.oR)(),a=d.useMemo((function(){return d.lazy((function(){return(0,E.S)(t).then((function(){return{default:he(Be)}}))}))}),[t]);return d.createElement(d.Suspense,{fallback:null},d.createElement(a,(0,l.Z)({},e,{ref:n})))}))},998529:(e,n,t)=>{t.r(n),t.d(n,{DMConversationScreen:()=>J,default:()=>X});var l=t(196234),a=(t(477950),t(385940),t(202784)),i=t(160925),r=t(637680),s=t(963705),o=t(601578),c=t(80216),u=t(444049),d=(t(74069),t(315735),t(906886),t(284515)),p=t(392160),m=t(685883),g=t(454352),y=t(638429),_=t(467935),v=t(80045),f=t(157659),h=t(67621),k=function(e,n){return n.match.params.conversationId},b=function(e,n){return m.selectConversation(e,k(0,n))},F=function(e,n){return g.q9(e,k(0,n))},T=function(e,n){return g.W8(e,k(0,n))};const S=(0,p.Z)().propsFromState((function(){return{conversation:b,entries:m.selectEntries,conversationId:k,isNewGroupConversation:h.rR,perspective:_._h,newConversationParticipants:h.bZ,tweetAttachment:h.Ss,users:f.ZP.selectAll,isUploading:F,media:T}})).adjustStateProps((function(e){var n=e.conversation,t=e.conversationId,l=e.entries,a=e.isNewGroupConversation,i=e.isUploading,r=e.media,s=e.newConversationParticipants,o=e.perspective,c=(e.tweetAttachment,e.users),u=null==n?void 0:n.data;return{conversation:u&&(0,d.lk)(u,l,c)||void 0,conversationId:t,isNewGroupConversation:a,isUploading:i,media:r,newConversationParticipants:s,perspective:o}})).propsFromActions((function(e){var n=e.match.params.conversationId;return{cancelUpload:(0,h.Ly)(n),removeMedia:(0,h.Xx)(n),setLastViewedDmInboxPath:v.EA,updateTweetDetailNav:y.NH}})).withAnalytics({page:"messages",section:"thread"});var E=t(133028),C=(t(136728),t(325686)),K=t(107267),I=t(537800),L=t(854044),w=t(882392),x=t(973186),R=t(645184),A=t.n(R),Z=t(229496),M=t(92748),D=A().h810143c;const P=function(e){var n=e.accessibilityLabel,t=e.conversationId,l=e.link,i=e.style,r=a.createElement(M.default,null);return a.createElement(Z.ZP,{accessibilityLabel:n||D,hoverLabel:{label:D},icon:r,key:t,link:l,pullRight:!0,style:i,type:"primaryText"})};var O=t(933805),U=t(896889),N=t(843790),H=t(222167),B=t(523837),W=t(741266),q=A().d4986f86,G=A().e3e58b6e,V=A().a9ddbb94,z=8,j=3;function Y(e){var n,t=(0,K.k6)(),l=(0,K.TH)(),i=e.conversation,r=e.conversationId,s=e.newConversationParticipants,o=e.perspective,c=function(e){null!=i&&i.trusted?t.push({pathname:"/messages",state:l.state}):e()},u=function(e,n){var t=e.map((function(e){return e.user.profile_image_url_https})).slice(0,n);return a.createElement(C.Z,{style:Q.facePile},a.createElement(I.Z,{userAvatarSize:"large",userAvatarUrls:t}))},d=function(e){var n=i&&i.participants.length?(0,W.E)({conversation:i,perspective:o}):s?(0,W.E)({newConversationParticipants:s,perspective:o}):q,t=null!=i&&i.participants.length?a.createElement(W.Z,{conversation:i,perspective:o,textSize:"headline2",withScreenName:!1}):s?a.createElement(W.Z,{newConversationParticipants:s,perspective:o,textSize:"headline2",withScreenName:!1}):a.createElement(w.ZP,{size:"headline2"},q),l=i&&o?(0,N.Z)(i,o):void 0,c=(0,h.NL)(r),d="large",p=o?a.createElement(B.Z,{conversation:i,perspective:o,size:d,withLock:c}):void 0;return l&&(null==i?void 0:i.type)===H.eD.GROUP&&void 0===(null==i?void 0:i.avatar)&&(p=function(e){return a.createElement(L.ZP,null,(function(n){var t=n.containerWidth;return U.Z.isTwoColumnLayout(t)?u(e,z):u(e,j)}))}(l),d="custom"),(0,E.Z)((0,E.Z)({},e&&{titleIconCell:p,titleIconCellSize:d}),{},{title:t,documentTitle:n})},p=function(){var e,n=(null==i?void 0:i.type)===H.eD.GROUP,t=(null==l||null===(e=l.state)||void 0===e?void 0:e.position)||0;return r?a.createElement(C.Z,{style:Q.rightControlStyles},a.createElement(P,{accessibilityLabel:n?V:G,conversationId:r,link:{pathname:"/messages/".concat(r,"/info"),state:{position:t}},style:Q.infoButton})):void 0};return a.createElement(O.Z,(n=d(e.showTitle),(0,E.Z)({backLocation:"/messages",onBackClick:c,rightControl:p(),screenType:"primaryDetail",withBottomTabBar:!1,headerless:!1},n)),e.children)}var Q=x.Z.create((function(e){return{infoButton:{marginEnd:e.spaces.space4},rightControlStyles:{flexDirection:"row"},facePile:{display:"flex",flexDirection:"row"}}}));function J(e){var n=e.conversationId,t=e.history,d=e.location,p=e.isNewGroupConversation,m=void 0!==p&&p,g=e.conversation,y=e.newConversationParticipants,_=e.perspective,v=e.richTextInputContext,f=e.setLastViewedDmInboxPath,h=e.typeaheadWrapper,k=void 0===h?r.Z:h,b=(0,o.Z)(n),F=a.useState(!1),T=(0,l.Z)(F,2),S=T[0],E=T[1],C=(0,c.N)();n||m||d.pathname!==window.location.pathname||t.replace({pathname:"/messages"});a.useEffect((function(){n!==b&&f(d.pathname)}),[n,d.pathname,b,f]);var K="string"==typeof d.query.text?d.query.text:void 0,I=(0,i.Y4)();return a.createElement(s.Z,null,a.createElement(Y,{conversation:g,conversationId:n,newConversationParticipants:y,perspective:_,showTitle:!S},a.createElement(u.Z,{conversationId:n,history:t,isWide:I,location:d,onConversationProfileVisibilityChange:function(e){S!==e&&E(e)},prefillText:K,richTextInputContext:v,typeaheadWrapper:k,typingNotifier:C})))}const X=S(J)},234322:(e,n,t)=>{t.r(n),t.d(n,{ConversationGroupInfoScreen:()=>j,default:()=>Q});var l=t(196234),a=t(709249),i=t(887371),r=t(545754),s=t(486906),o=(t(136728),t(315735),t(73439),t(906886),t(202784)),c=t(325686),u=t(241441),d=t(229496),p=t(805252),m=t(594836),g=t(973186),y=t(645184),_=t.n(y),v=t(32307),f=t(872983),h=t(300292),k=t(982939),b=t(380779),F=t(296744),T=t(5255),S=t(523837),E=t(133028),C=t(459740),K=(t(477950),t(74069),t(571372),t(456992)),I=t(923335),L=t(284515),w=t(265894),x=t(392160),R=t(685883),A=t(34556),Z=t(467935),M=t(157659),D=["conversation","entries","perspective","users"],P=function(e,n){return n.match.params.conversationId},O=function(e,n){return R.selectConversation(e,P(0,n))},U=function(e,n){return R.selectConversationFetchStatus(e,P(0,n))},N=function(e,n){var t=R.selectConversationAvatarMediaId(e,P(0,n)),a=(0,K.Z)(t)?A.m3(e,t):[];return(0,l.Z)(a,1)[0]},H=function(e,n){return R.selectConversationAvatarMediaIsUploading(e,P(0,n))},B=function(e,n){return R.selectConversationAvatarMediaUploadProgress(e,P(0,n))};const W=(0,x.Z)().propsFromState((function(){return{avatarMedia:N,conversation:O,conversationId:P,entries:R.selectEntries,fetchStatus:U,isUploading:H,mediaUploadProgress:B,perspective:Z._h,users:M.ZP.selectAll}})).adjustStateProps((function(e){var n=e.conversation,t=e.entries,l=e.perspective,a=e.users,i=(0,C.Z)(e,D),r=n&&n.data,s=r&&(0,L.E5)(r,t,a),o=s&&(0,w.ZP)(s,l);if(!l)throw new Error("logged-in user not found");return(0,E.Z)((0,E.Z)({},i),{},{conversation:s,groupName:o,perspective:l})})).propsFromActions((function(){return{addAvatarMedia:R.addAvatarMedia,createLocalApiErrorHandler:(0,I.createLocalApiErrorHandlerWithContextFactory)("CONVERSATION_GROUP_INFO_SCREEN"),fetchConversation:R.fetchConversation,fetchConversationIfNeeded:R.fetchConversationIfNeeded,removeAvatarMedia:R.removeAvatarMedia,removeMediaUpload:A.WU,setConversationAvatar:R.setConversationAvatar,updateConversationName:R.updateConversationName}})).withAnalytics({page:"messages",section:"group_settings"});var q=_().abd845fe,G=_().d87bff5a,V=_().i2209530,z=_().cabb453e,j=function(e){(0,r.Z)(t,e);var n=(0,s.Z)(t);function t(e,i){var r;return(0,a.Z)(this,t),(r=n.call(this,e,i))._renderContent=function(){return o.createElement(c.Z,null,r._renderGroupAvatarPicker(),r._renderGroupNameEditor())},r._handleFetch=function(){var e=r.props,n=e.conversationId,t=e.createLocalApiErrorHandler;(0,e.fetchConversationIfNeeded)({conversationId:n}).catch(t((0,F.q)(n)))},r._handleGroupNameUpdated=function(e){r.setState({groupNameEdit:e.target.value})},r._handleSavePress=function(){r._savePress()},r._savePress=function(){var e=r.props,n=e.avatarMedia,t=e.conversationId,l=e.createLocalApiErrorHandler,a=e.fetchConversation,i=e.groupName,s=e.history,o=e.setConversationAvatar,c=e.updateConversationName,u=r.state.groupNameEdit,d=[];return n&&d.push(o(t).catch(l())),u&&i!==u&&d.push(c({conversationId:t,name:u}).catch(l({showToast:!0}))),Promise.all(d).then((function(){a({conversationId:t}).catch(l((0,F.q)(t))),s.goBack({backLocation:"/messages/".concat(t,"/info"),shouldReplaceOnFallback:!0})}),(function(){return n&&r._clearAvatarMedia(n.id)}))},r._handleAvatarMediaChange=function(e){var n=(0,l.Z)(e,1)[0],t=r.props,a=t.addAvatarMedia,i=t.avatarMedia,s=t.conversationId;i&&r._clearAvatarMedia(i.id),a(s,n)},r._handleMediaFailure=function(e){r._clearAvatarMedia(e)},r.state={groupNameEdit:e.groupName},r}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){this._handleFetch()}},{key:"componentWillUnmount",value:function(){var e=this.props.avatarMedia;e&&this._clearAvatarMedia(e.id)}},{key:"shouldComponentUpdate",value:function(e,n){return!(0,v.Z)(e,this.props)||!(0,v.Z)(n,this.state)}},{key:"render",value:function(){var e=this.props,n=e.conversationId,t=e.fetchStatus,l=e.history;return o.createElement(h.Z,{backLocation:"/messages/".concat(n,"/info"),history:l,rightControl:this._renderRightControl(),title:q},o.createElement(u.Z,{style:Y.root},o.createElement(f.Z,{accessibilityLabel:G,fetchStatus:t,onRequestRetry:this._handleFetch,render:this._renderContent})))}},{key:"_renderRightControl",value:function(){var e=this.props,n=e.avatarMedia,t=e.groupName,l=e.isUploading,a=this.state.groupNameEdit,i=l||!(a&&a!==t||n);return o.createElement(d.ZP,{children:V,disabled:i,onPress:this._handleSavePress,size:"small",type:"primaryFilled"})}},{key:"_renderGroupAvatarPicker",value:function(){var e=this.props,n=e.avatarMedia,t=e.conversation,l=e.mediaUploadProgress,a=e.perspective,i=o.createElement(S.Z,{conversation:t,perspective:a});return o.createElement(c.Z,null,o.createElement(p.Z,{progress:l}),o.createElement(c.Z,{style:Y.avatarContainerRoot},o.createElement(b.default,{borderRadius:k.A.INFINITE,currentContent:i,location:T.vC.Avatar,mediaItem:n||void 0,onChange:this._handleAvatarMediaChange,onFailure:this._handleMediaFailure,rootStyle:Y.avatarContainer})))}},{key:"_renderGroupNameEditor",value:function(){return o.createElement(m.Z,{label:z,maxLength:50,name:"groupNameEdit",onChange:this._handleGroupNameUpdated,style:Y.groupNameEditor,value:this.state.groupNameEdit||""})}},{key:"_clearAvatarMedia",value:function(e){var n=this.props,t=n.avatarMedia,l=n.conversationId,a=n.removeAvatarMedia,i=n.removeMediaUpload;t&&t.uploading||i(e),a(l,e)}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=e.groupName;return"string"==typeof t&&null===n.groupNameEdit?{groupNameEdit:t}:null}}]),t}(o.Component),Y=g.Z.create((function(e){return{root:{backgroundColor:e.colors.gray0},avatarContainerRoot:{alignItems:"center",backgroundColor:e.colors.cellBackground,paddingVertical:e.spaces.space20},groupNameEditor:{backgroundColor:e.colors.cellBackground},avatarContainer:{height:"calc(5 * ".concat(e.spaces.space20,")"),width:"calc(5 * ".concat(e.spaces.space20,")")}}}));const Q=W(j)},753531:(e,n,t)=>{t.r(n),t.d(n,{ConversationInfoScreen:()=>Me,default:()=>Pe,styles:()=>De});var l=t(709249),a=t(887371),i=t(545754),r=t(486906),s=(t(136728),t(606710),t(202784)),o=t(325686),c=t(444487),u=t(241441),d=t(137541),p=t(882392),m=t(123162),g=t(468591),y=t(229006),_=t(229496),v=t(154414),f=t(973186),h=t(645184),k=t.n(h),b=t(789504),F=t(32307),T=t(801206),S=t(18748),E=t(45071),C=t(872983),K=t(501820),I=t(933805),L=t(348501),w=t(296688),x=t(819565),R=t(296744),A=t(517772),Z=t(843790),M=t(203978),D=t(36840),P=t(234590),O=t(222167),U=t(523837),N=t(756755),H=t(515721),B=t(67621),W=t(133028),q=t(459740),G=(t(477950),t(74069),t(315735),t(906886),t(571372),t(923335)),V=t(284515),z=t(265894),j=t(392160),Y=t(685883),Q=t(467935),J=t(799629),X=t(157659),$=["conversation","entries","perspective","users"],ee=function(e,n){return n.match.params.conversationId},ne=function(e,n){return Y.selectConversation(e,ee(0,n))},te=function(e,n){return Y.selectConversationFetchStatus(e,ee(0,n))},le=function(e,n){var t=ee(0,n);return Y.selectInboxTypeByConversation(e,t)},ae=function(e,n){var t=le(e,n);return(0,B.Fb)(t)},ie=function(e){return!!Q.kD(e)};const re=(0,j.Z)().propsFromState((function(){return{hasRegisteredCryptoKey:ie,conversation:ne,entries:Y.selectEntries,conversationId:ee,fetchStatus:te,inboxType:le,language:Q.VT,perspective:Q._h,reporterCountry:Q.GG,scribeComponent:ae,users:X.ZP.selectAll}})).adjustStateProps((function(e){var n=e.conversation,t=e.entries,l=e.perspective,a=e.users,i=(0,q.Z)(e,$),r=n&&n.data,s=r&&(0,V.E5)(r,t,a),o=s&&(0,z.ZP)(s,l),c=!(!r||!r.notifications_disabled),u=!(!r||!r.mention_notifications_disabled),d=r&&r.mute_expiration_time&&Number(r.mute_expiration_time),p=(null==s?void 0:s.participants.map((function(e){return e.user_id})))||[],m=p&&1===p.length&&p[0]===l,g=p&&p.filter((function(e){return e!==l})),y=m?p:g.slice(0,5),_=y.length<g.length;if(!l)throw new Error("logged-in user not found");return(0,W.Z)((0,W.Z)({},i),{},{conversation:s,groupName:o,isSelfConversation:m,mentionNotificationsDisabled:u,muteExpirationTime:d,notificationsDisabled:c,perspective:l,showViewPeople:_,visibleParticipants:y})})).propsFromActions((function(){return{addToast:J.fz,block:X.ZP.block,createLocalApiErrorHandler:(0,G.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION_INFO"),disableMentionNotifications:Y.disableMentionNotifications,disableNotifications:Y.disableNotifications,enableMentionNotifications:Y.enableMentionNotifications,enableNotifications:Y.enableNotifications,fetchConversationIfNeeded:Y.fetchConversationIfNeeded,leaveConversation:Y.leaveConversation,muteDMUser:Y.muteDMUser,unblock:X.ZP.unblock,unmuteDMUser:Y.unmuteDMUser,updateConversationName:Y.updateConversationName}})).withAnalytics({page:"messages",section:"conversation_settings"});var se=k().e3e58b6e,oe=k().a9ddbb94,ce=k().abd845fe,ue=k().g2fd3206,de=k().eb1bb5a2,pe=k().c602600a,me=k().a70436ac,ge=k().eb75875e,ye=k().a7f20223,_e=k().g2f04a6b,ve=k().i453fedf,fe=k().b3dfd51a,he=k().cc7c8ce6,ke=k().hab58674,be=k().e3c6e080,Fe={confirmButtonLabel:k().bb1d57b6,actionTextDelete:k().ad63377e,actionTextLeave:k().g9074da4,header:k().gdf4b790,text:k().h09b49f8},Te=k().i6b19b08,Se=k().f33ef58a,Ee=k().j7bb1a43,Ce=k().fcd4d489,Ke=k().a30e1677,Ie=k().a9fd20be,Le=k().e133be4e,we=k().c9623eeb,xe=k().d83414a1,Re=k().d87bff5a,Ae=[{duration:1,displayText:k().j37c4674,toast:k().je7e1fed,toastOld:k().hf94a2d6},{duration:2,displayText:k().fb7a43c6,toast:k().e95c8f8b,toastOld:k().bd54fad2},{duration:3,displayText:k().cb5bf56e,toast:k().gb7a130b,toastOld:k().f6fce0fe},{duration:0,displayText:k().cabeb6c2,toast:k().i78153dd,toastOld:k().hfc86556}],Ze={page:"messages",section:"conversation_settings"},Me=function(e){(0,i.Z)(t,e);var n=(0,r.Z)(t);function t(e,a){var i;return(0,l.Z)(this,t),(i=n.call(this,e,a))._withSecretDM=function(){var e=i._getSenderOfOneToOneConvo();return i.props.hasRegisteredCryptoKey&&(0,S.K)(i.context.featureSwitches,i.context.userClaims,null==e?void 0:e.is_blue_verified,null==e?void 0:e.has_graduated_access,null==e?void 0:e.verified_type)},i._getNameOfGroupOrOneToOneConvo=function(){var e=i.props,n=e.conversation,t=e.groupName;return(null==n?void 0:n.type)===O.eD.GROUP?t||"":i._getNameOfOneToOneConvo()},i._getScreenNameOfOneToOneConvo=function(){var e=i._getSenderOfOneToOneConvo();return e?e.screen_name:""},i._getNameOfOneToOneConvo=function(){var e=i._getSenderOfOneToOneConvo();return e?e.name:""},i._getBlockedOfOneToOneConvo=function(){var e=i._getSenderOfOneToOneConvo();return e?e.blocking:null},i._getUserIdOfOneToOneConvo=function(){var e=i._getSenderOfOneToOneConvo();return e?e.id_str:""},i._getSenderOfOneToOneConvo=function(){var e=i.props,n=e.conversation,t=e.perspective,l=n&&(0,Z.Z)(n,t).map((function(e){return e.user}));return l&&l[0]||null},i._renderContent=function(){var e=i.props.conversation,n=!(null!=e&&e.trusted);return s.createElement(L.rC.Consumer,null,(function(e){e.featureSwitches;return s.createElement(o.Z,null,i._renderEncryptedConversationLabel(),i._renderGroupSection(),i._renderParticipantsSection(),n?null:i._renderNotificationsSection(),i._renderConversationActions())}))},i._getItems=function(){return Ae.map((function(e){return{text:e.displayText,onClick:function(){return i._handleNotificationsDisabled(e)}}}))},i._renderActionMenu=function(){return function(e){return s.createElement(c.Z,{items:i._getItems(),onCloseRequested:e})}},i._handleViewPeople=function(){i._scribeAction("view_participants")},i._handleBlockUser=function(){var e=i.props,n=e.addToast,t=e.block,l=e.createLocalApiErrorHandler,a=i._getSenderOfOneToOneConvo(),r=a?a.id_str:"";""!==r&&(t(r).then((function(){n({action:{label:Le,onAction:i._handleUnblockUser},text:Ie})}),l(x.d)),i._scribeAction("block"))},i._handleUnblockUser=function(){var e=i._getSenderOfOneToOneConvo(),n=e?e.id_str:"",t=i.props,l=t.createLocalApiErrorHandler;(0,t.unblock)(n).catch(l(A.D)),i._scribeAction("unblock")},i._handleReportConversation=function(){i._scribeAction("report")},i._handleFetch=function(){var e=i.props,n=e.conversationId,t=e.createLocalApiErrorHandler;(0,e.fetchConversationIfNeeded)({conversationId:n}).catch(t((0,R.q)(n)))},i._handleLeaveConversation=function(){var e,n=i.props,t=n.conversation,l=n.conversationId,a=n.createLocalApiErrorHandler,r=n.inboxType,s=n.leaveConversation,o=n.location;s({conversationId:l}).catch(a({showToast:!0}));var c=(null==t?void 0:t.type)===O.eD.GROUP?"leave_group":"delete_thread",u=(null==o||null===(e=o.state)||void 0===e?void 0:e.position)||0,d=(null==t?void 0:t.participants.length)||0,p={conversation_type:(null==t?void 0:t.type)===O.eD.GROUP?H.NK.GROUP:H.NK.ONE_TO_ONE,conversation_id:l,conversation_participant_count:d,position:u,inbox_type:(0,B.e4)(r),entry_point:H.eR.CONVERSATION_INFO};i._scribeAction(c,p),i._handleConversationClose()},i._handleNotificationsDisabled=function(e){var n=i.props,t=n.addToast,l=n.conversationId,a=n.disableNotifications,r=i._getNameOfGroupOrOneToOneConvo();a({conversationId:l,duration:e.duration}),t({text:e.toast({name:r})})},i._handleNotificationsEnabled=function(){return function(){var e=i.props,n=e.addToast,t=e.conversationId,l=e.createLocalApiErrorHandler,a=e.enableNotifications,r=i._getNameOfGroupOrOneToOneConvo(),s=_e({name:r});a({conversationId:t}).then((function(){n({text:s})}),l({showToast:!0}))}},i._handleMentionSwitchChanged=function(e){var n=i.props,t=n.addToast,l=n.analytics,a=n.conversationId,r=n.createLocalApiErrorHandler,s=n.disableMentionNotifications,o=n.enableMentionNotifications;l.scribe({component:"dm_existing_conversation_dialog",action:e?"disable_mentions":"enable_mentions"}),e?s({conversationId:a}).then((function(){t({text:ke})}),r({showToast:!0})):o({conversationId:a}).then((function(){t({text:be})}),r({showToast:!0}))},i._handleConversationClose=function(){i._returnToInbox()},i._returnToInbox=function(){var e=i.props,n=e.history,t=e.inboxType;n.push((0,B.k2)(t))},i._scribeAction=function(e,n){var t=i.props,l=t.analytics,a=t.scribeComponent;l.scribe({component:a,action:e,data:n||i._getScribeData()})},i._getScribeData=function(){var e=i.props.conversation;return{items:[{conversation_type:(null==e?void 0:e.type)===O.eD.GROUP?H.NK.GROUP:H.NK.ONE_TO_ONE}]}},i.state={notificationsDisabled:e.notificationsDisabled,muteExpirationTime:e.muteExpirationTime},i}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){this._handleFetch()}},{key:"shouldComponentUpdate",value:function(e,n){return!(0,F.Z)(e,this.props)||!(0,F.Z)(n,this.state)}},{key:"render",value:function(){var e=this.props,n=e.conversation,t=e.conversationId,l=e.fetchStatus,a=(null==n?void 0:n.type)===O.eD.GROUP;return s.createElement(I.Z,{backLocation:"/messages/".concat(t),screenType:"secondaryDetail",title:a?oe:se,withBottomTabBar:!1},s.createElement(u.Z,{style:De.root},s.createElement(C.Z,{accessibilityLabel:Re,fetchStatus:l,onRequestRetry:this._handleFetch,render:this._renderContent})))}},{key:"_renderGroupSection",value:function(){var e=this.props,n=e.conversation,t=e.conversationId,l=e.groupName,a=e.perspective,i=(null==n?void 0:n.type)===O.eD.GROUP,r=null==n?void 0:n.trusted;return i?s.createElement(d.Z,{avatarCell:s.createElement(U.Z,{conversation:n,perspective:a}),cellStyle:De.groupSectionRight,style:De.groupSection},s.createElement(p.ZP,{numberOfLines:1,weight:"bold"},l),r?s.createElement(p.ZP,{link:"/messages/".concat(t,"/group-info"),style:De.edit},ce):null):null}},{key:"_renderParticipantsSection",value:function(){var e=this.props,n=e.conversation,t=e.conversationId,l=e.showViewPeople,a=e.visibleParticipants,i=(null==n?void 0:n.type)===O.eD.GROUP,r=(null==n?void 0:n.type)===O.eD.ONE_TO_ONE,c=null==n?void 0:n.trusted;return s.createElement(o.Z,null,i?s.createElement(s.Fragment,null,s.createElement(m.Z,null),s.createElement(g.ZP,{text:ue})):null,s.createElement(w.Z,{displayMode:P.Z.UserCompact,userIds:a}),l?s.createElement(y.Z,{color:"primary",label:de,link:"/messages/".concat(t,"/participants"),onClick:this._handleViewPeople}):null,i&&c?s.createElement(y.Z,{color:"primary",label:pe,link:"/messages/".concat(t,"/add")}):null,r&&this._withSecretDM()&&c?s.createElement(_.ZP,{link:"/messages/e".concat(t),style:De.encryptedConversationButton,type:"primaryOutlined"},me):null)}},{key:"_renderEncryptedConversationLabel",value:function(){var e=this.props.conversation;if(!((null==e?void 0:e.type)===O.eD.SECRET_ONE_TO_ONE))return null;var n=s.createElement(b.default,{style:De.iconLock}),t=s.createElement(p.ZP,{size:"body",style:De.encryptedConversationLabel,weight:"bold"});return s.createElement(o.Z,{style:De.encryptedConversationContainer},s.createElement(k().I18NFormatMessage,{$i18n:"c6dca173"},n,s.cloneElement(t,null,k().je9455da)),s.createElement(N.X,null))}},{key:"_renderSnoozeConversationSwitch",value:function(){var e=this.props,n=e.muteExpirationTime,t=e.notificationsDisabled,l=this._getNameOfGroupOrOneToOneConvo(),a=ye({name:l});return t?s.createElement(o.Z,{accessibilityRole:"label"},s.createElement(o.Z,{style:De.notificationsToggleContainer},s.createElement(p.ZP,null,a),s.createElement(v.Z,{onValueChange:this._handleNotificationsEnabled(),value:t})),n?s.createElement(p.ZP,{color:"gray700",size:"subtext2",style:De.notificationsDescription},this._displayExpirationTime()):null):s.createElement(o.Z,{style:De.notificationsToggleContainer},s.createElement(p.ZP,null,a),s.createElement(K.Z,{accessibilityLabel:a,renderMenu:this._renderActionMenu()},s.createElement(v.Z,{onValueChange:T.Z,value:t})))}},{key:"_renderSnoozeMentionsSwitch",value:function(){var e=this.props.mentionNotificationsDisabled;return s.createElement(o.Z,null,s.createElement(o.Z,{accessibilityRole:"label",style:De.notificationsToggleContainer},s.createElement(p.ZP,null,fe),s.createElement(v.Z,{onValueChange:this._handleMentionSwitchChanged,value:e})),s.createElement(p.ZP,{color:"gray700",size:"subtext2",style:De.notificationsDescription},he))}},{key:"_renderNotificationsSection",value:function(){var e=this.props,n=e.conversation,t=e.isSelfConversation,l=(null==n?void 0:n.type)===O.eD.GROUP;return t?null:s.createElement(o.Z,null,s.createElement(m.Z,null),s.createElement(g.ZP,{text:ge}),s.createElement(o.Z,null,this._renderSnoozeConversationSwitch()),l?this._renderSnoozeMentionsSwitch():null)}},{key:"_displayExpirationTime",value:function(){var e=this.props,n=e.language,t=e.muteExpirationTime;if(!t)return null;var l=t-(new Date).getTime()<864e5,a=new Date(t).toLocaleString((0,M.It)(n||"en"),l?{hour:"2-digit",minute:"2-digit"}:{weekday:"long",month:"short",day:"2-digit"});return ve({expiration:a})}},{key:"_renderConversationActions",value:function(){var e=this.props,n=e.conversation,t=e.conversationId,l=(null==n?void 0:n.type)!==O.eD.GROUP,a=!(null!=n&&n.trusted),i=(0,B.NL)(t);return s.createElement(o.Z,null,s.createElement(m.Z,null),l?this._renderBlockUserButton():null,i?null:this._renderReportConversationButton(),this._renderReportDSAButton(),s.createElement(E.Z,{confirmationSheetConfirmButtonLabel:Fe.confirmButtonLabel,confirmationSheetConfirmButtonType:"destructiveFilled",confirmationSheetHeadline:Fe.header,confirmationSheetText:Fe.text,label:a?Fe.actionTextDelete:Fe.actionTextLeave,onConfirmationSheetConfirm:this._handleLeaveConversation,withBottomBorder:!1}))}},{key:"_renderBlockUserButton",value:function(){var e=this.props.isSelfConversation,n=this._getScreenNameOfOneToOneConvo(),t=this._getBlockedOfOneToOneConvo(),l=t?xe({screenName:n}):Ke({screenName:n}),a=t?we({screenName:n}):Ce({screenName:n});return e?null:s.createElement(E.Z,{color:"primary",confirmationSheetText:l,label:a,onConfirmationSheetConfirm:t?this._handleUnblockUser:this._handleBlockUser})}},{key:"_renderReportConversationButton",value:function(){var e=this.props,n=e.conversation,t=e.conversationId,l=e.inboxType,a=e.isSelfConversation,i=(null==n?void 0:n.type)!==O.eD.GROUP?Ee({screenName:this._getScreenNameOfOneToOneConvo()}):Te,r=D.C2.DMConversation,o=this.context.featureSwitches,c=(null==n?void 0:n.type)===O.eD.GROUP?"0":this._getUserIdOfOneToOneConvo(),u=(0,D.Yw)(o,r)?{pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify((0,D.j_)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:r,reportedConversationId:t,reportedUser:c,scribeNamespace:Ze}))}}}:{pathname:"/i/report/dm_conversation/".concat(t),state:{clientReferer:window.location.pathname,scribeNamespace:Ze,inboxType:l}};return a?null:s.createElement(y.Z,{color:"primary",label:i,link:u,onPress:this._handleReportConversation})}},{key:"_renderReportDSAButton",value:function(){var e=this.props,n=e.conversationId,t=e.inboxType,l=this.context.featureSwitches,a=l.isTrue("dsa_report_flow_enabled"),i={pathname:(0,B.vg)(l,{conversation_id:n,is_encrypted:(0,B.NL)(n),type:"conversation"}),state:{clientReferer:window.location.pathname,scribeNamespace:Ze,inboxType:t}};return a?s.createElement(y.Z,{color:"primary",label:Se,link:i,onPress:this._handleReportConversation}):null}}]),t}(s.Component);Me.contextType=L.rC;var De=f.Z.create((function(e){return{root:{backgroundColor:e.colors.cellBackground},edit:{flexShrink:0},groupSection:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},groupSectionRight:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},encryptedConversationButton:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space20},encryptedConversationContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:e.colors.gray0,marginVertical:e.spaces.space12},encryptedConversationLabel:{margin:e.spaces.space12},iconLock:{color:e.colors.text},notificationsToggleContainer:{alignItems:"center",flexDirection:"row",flexGrow:1,justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},notificationsDescription:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.componentDimensions.gutterVertical,paddingTop:0}}}));const Pe=re(Me)},75163:(e,n,t)=>{t.r(n),t.d(n,{POLL_INTERVAL:()=>Xe,default:()=>$e});var l=t(459740),a=t(202784),i=t(410025),r=t(734562),s=t(107267),o=t(392160),c=t(685883),u=t(269418),d=function(e,n){var t=(0,s.LX)(n.location.pathname,{path:"/messages/".concat(u.UE,"(/.*)?"),exact:!0,strict:!1});return null==t?void 0:t.params.conversationId},p=function(e,n){var t=d(0,n);return(0,c.selectInboxTypeByConversation)(e,t)};const m=(0,o.Z)().propsFromState((function(){return{conversationId:d,inboxType:p}}));var g=t(372049),y=t(709249),_=t(887371),v=t(545754),f=t(486906),h=t(645184),k=t.n(h),b=t(962230),F=t(830917),T=t(10034),S=(t(73439),t(923335)),E=t(58343),C=t(924433),K=t(80045),I=t(685557),L=t(823803),w=t(67621),x=function(e){return e===r._2.PRIMARY?c.fetchTrustedInboxHistory:e===r._2.SECONDARY?c.fetchUntrustedInboxHistory:c.fetchUntrustedLowQualityInboxHistory},R=function(e){return e===r._2.PRIMARY?c.updateTrustedLastSeenEventId:e===r._2.SECONDARY?c.updateUntrustedLastSeenEventId:function(){return function(){return Promise.resolve()}}};const A=function(e){var n=e.inbox;return(0,o.Z)().propsFromState((function(){return{conversationIds:(0,E.Z)((function(e){return c.selectConversationIdsByInbox(e,n)}),(function(e){return e})),cursor:(0,E.Z)((function(e){return function(e){return e===r._2.PRIMARY?c.selectInboxCursor:e===r._2.SECONDARY?c.selectUntrustedCursor:c.selectUntrustedLowQualityCursor}(n)(e)}),(function(e){return e})),dmNsfwMediaFilter:C.PJ,isDmNsfwMediaFilterEnabled:C.a5,isDmMessageRequestEnabled:C.Kp,untrustedCounts:(0,E.Z)((function(e){return c.selectUntrustedCounts(e)}),(function(e){return e})),untrustedCursor:c.selectUntrustedCursor,untrustedConversationCount:c.selectUntrustedConversationCount,untrustedLowQualityConversationCount:c.selectUntrustedLowQualityConversationCount,untrustedLowQualityCursor:c.selectUntrustedLowQualityCursor}})).adjustStateProps((function(e){var n=e.conversationIds,t=e.cursor,l=e.dmNsfwMediaFilter,a=e.isDmMessageRequestEnabled,i=e.isDmNsfwMediaFilterEnabled,r=e.untrustedConversationCount,s=e.untrustedCounts,o=e.untrustedCursor,c=e.untrustedLowQualityConversationCount;return{dmNsfwMediaFilter:l,isDmNsfwMediaFilterEnabled:i,conversationIds:n,untrustedCounts:s,allowUntrustedInbox:a&&(r>0||c>0),allowLowQualityUntrustedInbox:a&&c>0,fetchStatus:n.length>0?L.ZP.LOADED:t.fetchStatus,isAtEndOfUntrustedInbox:o&&"AT_END"===o.status,isRefreshing:n.length>0&&t.fetchStatus===L.ZP.LOADING}})).propsFromActions((function(){return{createLocalApiErrorHandler:(0,S.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),clearSearchCache:c.clearSearchCache,clearSearchSlicesCache:I.Ev,fetchInboxHistory:x(n),setLastViewedDmInboxPath:K.EA,updateLastSeenEventId:R(n),updateDmNsfwMediaFilter:C.Ob}})).withAnalytics({page:"messages",section:"inbox",component:(0,w.Fb)(n)})};var Z=t(515721),M=t(622190),D=t(136462),P=t(693039),O=t(325686),U=t(973186),N=t(229496),H=t(181217),B=k().f325afc4,W=k().cdcebd22;const q=function(e){var n=e.testID;return a.createElement(N.ZP,{accessibilityLabel:B,hoverLabel:{label:W},icon:a.createElement(H.default,null),link:"/messages/compose",pullRight:!0,testID:n,type:"primaryText"})};var G=t(933805),V=t(977559),z=t(867986),j=t(524502),Y=k().a2f81050;function Q(e){(0,i.p)();var n=(0,V.ZP)()?a.createElement(O.Z,{style:J.appBarButtons},(0,j.I0)("/messages/settings",!1),a.createElement(q,{testID:z.Z.newDM})):(0,j.I0)("/messages/settings",!0);return a.createElement(G.Z,{rightControl:n,screenType:"root",title:Y},e.children)}var J=U.Z.create((function(e){return{appBarButtons:{flexDirection:"row",alignItems:"center"}}})),X=(k().h6beb5fb,function(e){(0,v.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,y.Z)(this,t);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i)))._renderPivot=function(){var n=e.props,t=n.allowUntrustedInbox,l=n.untrustedCounts;return a.createElement(P.Z,{allowUntrustedInbox:t,secondaryInboxCounts:l})},e._renderEmptyDMInbox=function(){return a.createElement(D.Z,{messageRequestPivot:e._renderPivot()})},e}return(0,_.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.allowUntrustedInbox,t=e.analytics,l=e.location;(0,e.setLastViewedDmInboxPath)(l.pathname),n&&t.scribe({element:"requests_pivot",action:"impression"})}},{key:"componentWillUnmount",value:function(){this.props.clearSearchSlicesCache(Z.EL),this.props.clearSearchCache()}},{key:"render",value:function(){var e=this.props,n=e.analytics,t=e.conversationIds,l=e.fetchInboxHistory,i=e.fetchStatus,r=e.isRefreshing,s=e.updateLastSeenEventId;return a.createElement(Q,null,a.createElement(M.Z,{accessibilityTitle:Y,analytics:n,conversationIds:t,fetchInboxHistory:l,fetchStatus:i,isRefreshing:r,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:this._renderPivot,updateLastSeenEventId:s,virtualScrollerCacheKey:"dmInbox",withDmSearch:!0,withPinnedInbox:!0}))}}]),t}(a.Component));X.contextType=b.Z,X.defaultProps={conversationIds:[],untrustedCounts:{newUntrustedWithSocialProof:0,newUntrustedWithoutSocialProof:0,oldUntrustedWithSocialProof:0,oldUntrustedWithoutSocialProof:0}};const $=(0,T.C)(A({inbox:r._2.PRIMARY})(X),{directMessages:F.Z});var ee=t(108352),ne=t(361684);function te(e){return a.createElement(a.Fragment,null,a.createElement(ee.Z,{header:e.tombstone?"":j.$e,message:ne.ZP,style:le.emptyMessage}),e.tombstone)}var le=U.Z.create((function(e){return{emptyMessage:{borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingVertical:e.spaces.space16}}})),ae=t(196234),ie=t(123162),re=t(499439),se=t(348501),oe=t(460673);const ce=(0,o.Z)().propsFromState((function(){return{dmNsfwMediaFilter:C.PJ}})).propsFromActions((function(){return{createLocalApiErrorHandler:(0,S.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),updateDmNsfwMediaFilter:C.Ob}})).withAnalytics({page:"messages",section:"inbox"});var ue=k().j24c37b2,de=k().f5dc353c,pe=k().daeda054,me=k().fe1eaa96;const ge=ce((function(e){var n=e.createLocalApiErrorHandler,t=e.dmNsfwMediaFilter,l=e.updateDmNsfwMediaFilter,i=a.useContext(se.rC).featureSwitches.isTrue("dm_conversations_nsfw_media_filter_enabled"),r=a.useState(void 0===t&&i),s=(0,ae.Z)(r,2),o=s[0],c=s[1],u=(0,oe.z)(),d=a.useCallback((function(){c(!1),l(!0).catch(n())}),[l,n]);return a.useEffect((function(){return function(){void 0===t&&i&&d()}}),[t,i,d]),o?a.createElement(a.Fragment,null,a.createElement(re.Z,{bodyText:me,primaryAction:{onClick:function(){u.scribe({component:"dm_nsfw_prompt",element:"primary_action",action:"click"}),d()},text:ue},secondaryAction:{link:"/settings/direct_messages",onClick:function(){u.scribe({component:"dm_nsfw_prompt",element:"secondary_action",action:"click"})},text:pe},titleText:de}),a.createElement(ie.Z,null)):null}));t(136728);var ye=t(882392),_e=(t(477950),t(385940),t(177953)),ve=t(484292),fe=t(246874),he=t(418958),ke=t(58815),be=t(618397),Fe={headline:k().hc32acba,text:k().f9048f58,confirmButtonLabel:k().d96cf7ce};function Te(e){var n=(0,g.Ao)(),t=(0,g.eG)(),l=(0,_e.I0)(),i=(0,s.k6)(),r=a.useState(!1),o=(0,ae.Z)(r,2),c=o[0],u=o[1],d=a.useCallback((function(){t({type:g.Pq})}),[t]),p=a.useCallback((function(){t({type:g.Tj})}),[t]),m=a.useCallback((function(){u(!0)}),[u]),y=a.useCallback((function(){u(!1)}),[u]),_=a.useCallback((function(){l(be.S9(n.selectedConversationIds)),t({type:g.Tj}),i.replace((0,w.k2)(e.inboxType)),u(!1)}),[t,n.selectedConversationIds,l,i,e.inboxType]),v=0===n.selectedConversationIds.length;return a.createElement(O.Z,{style:Se.container},c?a.createElement(ve.Z,{confirmButtonLabel:Fe.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:Fe.headline,onCancel:y,onConfirm:_,text:Fe.text}):null,n.isSelecting?a.createElement(a.Fragment,null,a.createElement(N.ZP,{accessibilityLabel:Ce,disabled:v,hoverLabel:Ke,icon:Ee,onClick:m,pullRight:!0,type:"primaryText"}),a.createElement(N.ZP,{accessibilityLabel:Le,hoverLabel:we,icon:Ie,onClick:p,pullRight:!0,type:"primaryText"})):a.createElement(N.ZP,{accessibilityLabel:Re,hoverLabel:Ae,icon:xe,onClick:d,pullRight:!0,type:"primaryText"}))}var Se=U.Z.create((function(e){return{container:{flexDirection:"row",alignItems:"center"},deleteIcon:{color:e.colors.red500}}})),Ee=a.createElement(fe.default,{style:Se.deleteIcon}),Ce=k().d96cf7ce,Ke={label:Ce},Ie=a.createElement(he.default,null),Le=k().cfd2f35e,we={label:Le},xe=a.createElement(ke.default,null),Re=k().a9d0d7f0,Ae={label:Re},Ze=k().cf2d1048;function Me(e){var n=(0,s.k6)(),t=(0,s.$B)(),l=a.useContext(se.rC).featureSwitches.isTrue("dm_bulk_delete_enabled");return a.createElement(G.Z,{backLocation:"/messages",onBackClick:function(){n.push((0,j.Jn)(r._2.PRIMARY))},rightControl:a.createElement(O.Z,{style:De.rightControlRoot},(0,j.I0)("/settings/direct_messages",!0),l?a.createElement(Te,{inboxType:r._2.SECONDARY}):null),screenType:"secondaryRoot",title:a.createElement(ye.ZP,{size:"headline2"},Ze),withDetailOpen:!t.isExact},e.children)}var De=U.Z.create((function(e){return{rightControlRoot:{flexDirection:"row",alignItems:"center"}}})),Pe=t(411839),Oe=k().eb7de4aa,Ue=k().a0e81a2e;function Ne(e){var n=e.isAtEndOfUntrustedInbox,t=e.untrustedConversationIds,l=(0,oe.z)(),i=(0,_e.v9)(C.Rh);a.useEffect((function(){i&&n&&l.scribe({element:"low_quality_pivot",action:"impression"})}),[l,n,i]);return n&&i?a.createElement(O.Z,null,t.length>0&&a.createElement(ie.Z,null),a.createElement(O.Z,{style:He.tombstoneDescription},a.createElement(ye.ZP,{color:"gray700",size:"subtext2"},Oe)),a.createElement(Pe.Z,{link:(0,j.Jn)(r._2.TERTIARY),onPress:function(){l.scribe({element:"low_quality_pivot",action:"click"})},style:He.tombstoneContainer},a.createElement(ye.ZP,{align:"center",color:"primary",size:"body"},Ue))):null}var He=U.Z.create((function(e){return{tombstoneContainer:{borderTopStyle:"solid",borderTopColor:e.colors.borderColor,borderTopWidth:e.borderWidths.small,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingVertical:e.spaces.space12},tombstoneDescription:{paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space16}}})),Be=function(e){(0,v.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,y.Z)(this,t);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).componentDidMount=function(){e.context.incrementDmDrawerSuppressorCount()},e.componentWillUnmount=function(){e.context.decrementDmDrawerSuppressorCount()},e._renderTombstone=function(){var n=e.props,t=n.allowLowQualityUntrustedInbox,l=n.conversationIds,i=n.isAtEndOfUntrustedInbox;return t?a.createElement(Ne,{isAtEndOfUntrustedInbox:i,untrustedConversationIds:l}):null},e._renderEmptyDMInbox=function(){var n=e._renderTombstone();return a.createElement(te,{tombstone:n})},e}return(0,_.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.analytics,l=n.conversationIds,i=n.fetchInboxHistory,s=n.fetchStatus,o=n.isRefreshing,c=n.updateLastSeenEventId;return a.createElement(Me,null,a.createElement(ge,null),a.createElement(M.Z,{accessibilityTitle:Ze,analytics:t,conversationIds:l,fetchInboxHistory:i,fetchStatus:s,footer:this._renderTombstone(),inboxType:r._2.SECONDARY,isRefreshing:o,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:function(){return(0,j.LA)(e.props.conversationIds)},updateLastSeenEventId:c,virtualScrollerCacheKey:"dmUntrustedInbox"}))}}]),t}(a.Component);Be.contextType=b.Z,Be.defaultProps={conversationIds:[]};const We=(0,T.C)(A({inbox:r._2.SECONDARY})(Be),{directMessages:F.Z});t(74069);function qe(e){return a.createElement(ee.Z,{header:j.$e,message:ne.ZP})}function Ge(e){var n=(0,s.k6)(),t=(0,s.$B)(),l=a.useContext(se.rC).featureSwitches.isTrue("dm_bulk_delete_enabled");return a.createElement(G.Z,{backLocation:(0,j.Jn)(r._2.SECONDARY),onBackClick:function(){n.push((0,j.Jn)(r._2.SECONDARY))},rightControl:a.createElement(O.Z,{style:Ve.rightControlRoot},(0,j.I0)("/settings/direct_messages",!0),l?a.createElement(Te,{inboxType:r._2.TERTIARY}):null),screenType:"secondaryRoot",title:j.lW,withDetailOpen:!t.isExact},e.children)}var Ve=U.Z.create((function(e){return{rightControlRoot:{flexDirection:"row",alignItems:"center"}}})),ze=k().bece84b4,je=k().ee8c0c8a,Ye=function(e){(0,v.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,y.Z)(this,t);for(var l=arguments.length,i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))).componentDidMount=function(){e.context.incrementDmDrawerSuppressorCount()},e.componentWillUnmount=function(){e.context.decrementDmDrawerSuppressorCount()},e._renderEmptyDMInbox=function(){return a.createElement(ee.Z,{header:ze,message:je})},e._handleBackClick=function(){e.props.history.push((0,j.Jn)(r._2.SECONDARY))},e._hasDetailOpen=function(){return!e.props.match.isExact},e}return(0,_.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.analytics,l=n.conversationIds,i=n.fetchInboxHistory,s=n.fetchStatus,o=n.isRefreshing,c=n.updateLastSeenEventId;return a.createElement(Ge,null,a.createElement(M.Z,{accessibilityTitle:j.lW,analytics:t,conversationIds:l,fetchInboxHistory:i,fetchStatus:s,inboxType:r._2.TERTIARY,isRefreshing:o,renderEmptyDMInbox:function(){return a.createElement(qe,null)},renderStickyContent:function(){return(0,j.LA)(e.props.conversationIds)},updateLastSeenEventId:c,virtualScrollerCacheKey:"dmLowQualityUntrustedInbox"}))}}]),t}(a.Component);Ye.contextType=b.Z;const Qe=(0,T.C)(A({inbox:r._2.TERTIARY})(Ye),{directMessages:F.Z});var Je=["conversationId","inboxType"],Xe=8e3;const $e=m((function(e){e.conversationId;var n=e.inboxType,t=(0,l.Z)(e,Je),s=e.location;(0,i.p)();var o=a.useMemo((function(){return n===r._2.TERTIARY||"/messages/requests/additional"===s.pathname?a.createElement(Qe,t):n===r._2.SECONDARY||"/messages/requests"===s.pathname?a.createElement(We,t):a.createElement($,t)}),[n,s.pathname,t]);return a.createElement(g.OI,null,o)}))},976437:(e,n,t)=>{t.r(n),t.d(n,{DMMediaScreen:()=>v,default:()=>f});t(477950),t(385940);var l=t(202784),a=t(769058),i=t(150129),r=t(403187),s=t(806454),o=t(184246),c=(t(74069),t(24949)),u=t(392160),d=t(685883),p=t(871570),m=function(e,n){return n.match.params.conversationId},g=function(e,n){return n.match.params.entryId},y=function(e,n){return d.selectEntry(e,g(0,n))};const _=(0,u.Z)().propsFromState((function(){return{conversationId:m,dataSaver:p.IX,mediaItem:(0,c.P1)(y,(function(e){var n,t=null==e||null===(n=e.message_data)||void 0===n?void 0:n.attachment;return t&&t.photo?t.photo:t&&t.animated_gif?null==t?void 0:t.animated_gif:t&&t.video?t.video:void 0})),messageId:g}})).withAnalytics({page:"messages",section:"media"});var v=function(e){var n=e.conversationId,t=e.dataSaver,c=e.history,u=e.mediaItem,d=e.messageId,p=(0,o.Rb)(u),m=(0,o.sI)(),g=m.handleMediaDetailZoomed,y=m.handleMediaItemTapped,_=m.hideButtons,v=function(){var e=n?"/messages/".concat(n):"/messages";c.goBack({backLocation:e})};return l.useEffect((function(){u||c.replace(n?"/messages/".concat(n):"/messages")}),[c,n,u]),u?l.createElement(s.Z.Configure,{headerless:!0},l.createElement(r.Z,{backgroundColor:p,hideButtons:_,mediaItem:u,onCloseButtonPress:v},l.createElement(i.Z,{dataSaver:t,mediaItems:[u],onDismiss:v,onMediaDetailZoomed:g,onTap:y,videoId:a.Z.forDm(d)}))):null};const f=_(v)},53167:(e,n,t)=>{t.r(n),t.d(n,{DMParticipantsScreen:()=>T,default:()=>E});var l=t(202784),a=t(973186),i=t(645184),r=t.n(i),s=t(872983),o=t(933805),c=t(176372),u=t(296688),d=t(296744),p=t(977559),m=(t(477950),t(74069),t(923335)),g=t(392160),y=t(685883),_=t(467935),v=function(e,n){return n.match.params.conversationId},f=function(e,n){return y.selectConversationFetchStatus(e,v(0,n))},h=function(e,n){var t;return null===(t=y.selectConversation(e,v(0,n)))||void 0===t?void 0:t.data};const k=(0,g.Z)().propsFromState((function(){return{conversationId:v,fetchStatus:f,perspective:_._h,conversation:h}})).propsFromActions((function(){return{createLocalApiErrorHandler:(0,m.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_PARTICIPANTS"),fetchConversationIfNeeded:y.fetchConversationIfNeeded}})).withAnalytics({page:"messages",section:"view_participants"});var b=r().g2fd3206,F=r().d4986f86;function T(e){var n=e.conversation,t=e.conversationId,a=e.createLocalApiErrorHandler,i=e.fetchConversationIfNeeded,r=e.fetchStatus,m=l.useCallback((function(){i({conversationId:t}).catch(a((0,d.q)(t)))}),[a,t,i]),g=l.useCallback((function(){var e=((null==n?void 0:n.participants)||[]).map((function(e){return e.user_id}));return l.createElement(u.Z,{userIds:e})}),[n]);return l.useEffect((function(){m()}),[m]),l.createElement(o.Z,{backLocation:"/messages/".concat(t,"/info"),documentTitle:F,screenType:"secondaryDetail",title:b},l.createElement(c.Z,{style:[S.root,!(0,p.ZP)()&&S.bottomOffset]},l.createElement(s.Z,{fetchStatus:r,onRequestRetry:m,render:g})))}var S=a.Z.create((function(e){return{root:{backgroundColor:e.colors.cellBackground},bottomOffset:{paddingBottom:"calc(".concat(a.Z.theme.componentDimensions.appBarHeight," + ").concat(a.Z.iPhoneOffsetBottom,")")}}}));const E=k(T)},684266:(e,n,t)=>{t.r(n),t.d(n,{ReportMessageListQuery:()=>_,default:()=>f});t(368995),t(315735),t(906886),t(136728);var l,a=t(202784),i=t(506899),r=t(325686),s=t(177953),o=(t(585488),t(107267)),c=t(882392),u=t(973186),d=t(405189),p=t(51600),m=t(199241),g=t(467935),y=t(538145),_=void 0!==l?l:l=t(357227);function v(e){var n=e.userId,t=(0,s.v9)(g._h)||"",l="";n&&t&&(l=parseInt(t,10)>parseInt(n,10)?"".concat(n,"-").concat(t):"".concat(t,"-").concat(n));var o=(0,m.hC)("rito_safety_mode_blocked_profile_enabled"),u=(0,y.C)(_,{id:l,withSafetyModeUserFields:o}).data;if(!u||!l)return null;var p=function(e){var n,t=null==e||null===(n=e.dm_conversation_by_rest_id)||void 0===n||null===(n=n.result)||void 0===n||null===(n=n.legacy_conversation_slice)||void 0===n?void 0:n.items;if(!t||!t.length)return[];var l=(0,i.Fv)(t,[d.JJ]).entities.entries,a=[];for(var r in l)a.push(l[r]);return a}(u);return a.createElement(r.Z,{style:h.reportMessageListContainer},p.map((function(e){var n,l,i;if((null===(n=e.message_data)||void 0===n?void 0:n.sender_id)!==t)return a.createElement(r.Z,{key:null==e||null===(l=e.message_data)||void 0===l?void 0:l.id,style:h.reportMessageListSingleMessage},a.createElement(c.ZP,null,null===(i=e.message_data)||void 0===i?void 0:i.text))})))}function f(e){var n=(0,o.UO)().userId;return n?a.createElement(p.H,{errorConfig:{context:"DM_REPORT_MESSAGE_LIST"}},a.createElement(v,{userId:n})):null}var h=u.Z.create((function(e){return{reportMessageListContainer:{backgroundColor:e.colors.cellBackground,height:"600px",overflowY:"auto",padding:"5ex",width:"600px"},reportMessageListSingleMessage:{borderBottomWidth:e.borderWidths.small,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,display:"block",padding:e.spaces.space12}}}))},594836:(e,n,t)=>{t.d(n,{Z:()=>x});var l=t(807896),a=t(459740),i=t(709249),r=t(887371),s=t(545754),o=t(486906),c=t(202784),u=t(614983),d=t.n(u),p=t(325686),m=t(645184),g=t.n(m),y=t(437556),_=t(685834),v=t(168172),f=t(31735),h=t(16587),k=t(351384),b=t(463142),F=t(882392),T=t(229496),S=t(973186),E=t(632070),C=["Icon","accessibilityLabel","calculateLength","editable","errorText","helperText","invalid","label","maxLength","onBlur","onChange","onFocus","onKeyDown","onKeyPress","onKeyUp","onSubmitEditing","showPasswordVisibilityIcon","showValidationIcon","style","type","validLength"],K=function(e){return e.length},I=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)(e)},L=g().de540c32,w=g().b4abfdb4,x=function(e){(0,s.Z)(t,e);var n=(0,o.Z)(t);function t(e){var l;(0,i.Z)(this,t),(l=n.call(this,e))._isLabelLarge=function(){var e=l.state,n=e.actualCount,t=e.isFocused;return!n&&!t},l._getTextInputStyle=(0,h.Z)((function(e){return[R.root,!e&&R.disabled]})),l._getTextInputType=function(){var e=l.props,n=e.showPasswordVisibilityIcon,t=e.type,a=l.state.isPasswordRevealed;return"password"===t&&n?a?"text":"password":t},l._calculateLength=function(e){return I(e,l.props.calculateLength)},l._shouldRenderDisplayCount=function(){var e=l.state.isFocused,n=l._isFormInvalid();return Boolean((e||n)&&l._getMaxDisplayCount())},l._isInvalidNumber=function(){var e,n,t=l.props.type,a=null===(e=l._textInput)||void 0===e||null===(e=e.textInputNode)||void 0===e?void 0:e.value,i=null===(n=l._textInput)||void 0===n||null===(n=n.textInputNode)||void 0===n||null===(n=n.validity)||void 0===n?void 0:n.badInput;return"number"===t&&""===a&&!0===i},l._getActualCount=function(e){var n=e.length;return l._isInvalidNumber()&&(n=1),n},l._handleBlur=function(){var e,n=l.props.onBlur,t=(null===(e=l._textInput)||void 0===e?void 0:e.getValue())||"",a=l._calculateLength(t),i=l._getActualCount(t);l.setState({isFocused:!1,displayCount:a,actualCount:i}),n&&n()},l._handleChange=function(e){var n=l.props.onChange,t=l.state.previousValue,a=e.currentTarget.value,i=l._calculateLength(a),r=l._getActualCount(a),s=l._getAdjustedMaxLength();void 0!==s&&a.length>s&&t.length<a.length?e.currentTarget.value=t:(l.setState({isFocused:!0,displayCount:i,actualCount:r,previousValue:e.currentTarget.value}),n&&n(e))},l._handleFocus=function(){var e=l.props.onFocus;l.setState({isFocused:!0}),e&&e()},l._handleKeyPress=function(e){var n=l.props,t=n.multiline,a=n.onKeyPress,i=n.onSubmitEditing;a&&a(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||t||!i||(e.preventDefault(),i(e))},l._handleKeyDown=function(e){var n=l.props.onKeyDown;n&&n(e)},l._handleKeyUp=function(e){var n=l.props.onKeyUp;n&&n(e)},l._handlePasswordVisibilityClick=function(e){l.setState((function(e){return{isPasswordRevealed:!e.isPasswordRevealed}}))},l._setTextInputRef=function(e){l._textInput=e},l._checkComponentPropsUsageCorrectness=function(e){var n=e.defaultValue,t=e.maxLength,l=e.onChange,a=e.validLength,i=!!l,r="string"==typeof e.value,s="string"==typeof n;d()(!(!s&&r&&!i),"A controlled component, a component with a value prop, must have an onChange handler. The value prop cannot be undefined."),d()(!(t&&a&&a>t),"Max length should be equal or greater than valid length."),d()(!(void 0!==t&&t<=0||void 0!==a&&a<=0),"Set editable to false instead of limiting the valid character count to 0.")},l._exceedsValidLength=function(e){var n=l._getMaxDisplayCount();return!!n&&e>n},l._getMaxDisplayCount=function(){return l.props.validLength||l.props.maxLength},l._getAdjustedMaxLength=function(){var e=l.props.maxLength,n=l.getValue(),t=l._calculateLength(n);return e?e+n.length-t:void 0},l._checkComponentPropsUsageCorrectness(e);var a=e.defaultValue,r=e.value||a||"";return l.state={displayCount:l._calculateLength(r),actualCount:K(r),isFocused:!1,isPasswordRevealed:!1,previousValue:r},l}return(0,r.Z)(t,[{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.maxLength,l=n.onChange,a=n.validLength,i=n.value,r=e.maxLength,s=e.onChange,o=e.validLength,c=e.value;o===a&&t===r&&!!l===!!s&&"string"==typeof i===("string"==typeof c)||this._checkComponentPropsUsageCorrectness(this.props)}},{key:"render",value:function(){var e=this.props,n=e.accessibilityLabel,t=e.editable,l=e.errorText,a=e.helperText,i=e.style,r=this.state.isFocused,s=this._isFormInvalid();return c.createElement(p.Z,{style:[A.root,i]},c.createElement(p.Z,{accessibilityLabel:n,accessibilityRole:"label",style:[k.Z.border,A.textInputFormStyle,s&&k.Z.invalidBorderColor,r&&s&&k.Z.focusedBorderInvalid,r&&!s&&k.Z.focusedBorderValid,!t&&k.Z.disabled]},c.createElement(p.Z,{style:A.textInputFormWrapper},c.createElement(p.Z,{style:A.textInputHeader},this._renderLabel(),this._shouldRenderDisplayCount()?this._renderDisplayCount():null),this._renderTextInput())),c.createElement(p.Z,{style:[A.sidePadding,A.underTextInputForm]},c.createElement(p.Z,{style:A.subtextWrapper},a?this._renderHelperText():null,s&&l?this._renderErrorText():null)))}},{key:"_renderLabel",value:function(){var e=this.props.label,n=this.state.isFocused?"primary":"gray700",t=this._isFormInvalid()?"red500":n,l=this._isLabelLarge();return c.createElement(F.ZP,{color:l?"gray700":t,numberOfLines:1,size:l?"headline1":"subtext2",style:[A.textInputHeaderItem,l&&A.placeholderText,!b.Z.reducedMotionEnabled&&A.transition]},e)}},{key:"_renderTextInput",value:function(){var e=this.props,n=e.Icon,t=(e.accessibilityLabel,e.calculateLength,e.editable),i=(e.errorText,e.helperText,e.invalid,e.label,e.maxLength,e.onBlur,e.onChange,e.onFocus,e.onKeyDown,e.onKeyPress,e.onKeyUp,e.onSubmitEditing,e.showPasswordVisibilityIcon,e.showValidationIcon),r=(e.style,e.type,e.validLength,(0,a.Z)(e,C));return c.createElement(p.Z,{style:R.container},n&&!this._isLabelLarge()?this._renderIcon():null,c.createElement(F.ZP,{size:"headline1",style:R.wrapper},c.createElement(E.Z,(0,l.Z)({},r,{editable:t,maxLength:this._getAdjustedMaxLength(),onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,ref:this._setTextInputRef,style:this._getTextInputStyle(t),type:this._getTextInputType()}))),i&&!this._isLabelLarge()?this._renderValidationIcon():null,this._renderPasswordVisibilityIcon())}},{key:"_renderPasswordVisibilityIcon",value:function(){var e=this.props,n=e.showPasswordVisibilityIcon,t=e.type,l=this.state.isPasswordRevealed;return"password"===t&&n?c.createElement(p.Z,{style:A.passwordVisibilityIconContainer},c.createElement(T.ZP,{accessibilityLabel:l?w:L,focusable:!0,hoverLabel:{label:l?w:L},icon:l?c.createElement(y.default,null):c.createElement(_.default,null),onPress:this._handlePasswordVisibilityClick,size:"smallCompact",type:"primaryText"})):null}},{key:"_renderHelperText",value:function(){return c.createElement(p.Z,{accessibilityLiveRegion:"polite"},c.createElement(F.ZP,{color:"gray700",size:"subtext2",style:A.subtext},this.props.helperText))}},{key:"_renderErrorText",value:function(){return c.createElement(p.Z,{accessibilityLiveRegion:"assertive"},c.createElement(F.ZP,{color:"red500",size:"subtext2",style:A.subtext},this.props.errorText))}},{key:"_renderDisplayCount",value:function(){var e=this.state.displayCount,n=this._getMaxDisplayCount(),t=this._exceedsValidLength(e),l=n&&g().ia24dc8d(n),a=g().ia24dc8d(e);return c.createElement(p.Z,{accessibilityLiveRegion:"polite",style:[A.textInputHeaderItem,A.displayCount]},c.createElement(F.ZP,{color:t?"red500":"gray700",size:"subtext2"},l?"".concat(a," / ").concat(l):""))}},{key:"_renderIcon",value:function(){var e=this.props.Icon,n=this.state.isFocused,t=[A.icon,n&&A.focusedIcon];return e&&c.createElement(e,{style:t})}},{key:"_renderValidationIcon",value:function(){return this._isFormInvalid()?c.createElement(v.default,{style:[A.validationIcon,k.Z.invalidColor]}):c.createElement(f.default,{style:[A.validationIcon,k.Z.validIconColor]})}},{key:"_isFormInvalid",value:function(){var e=this.state.displayCount;return!!this.props.invalid||this._exceedsValidLength(e)||this._isInvalidNumber()}},{key:"blur",value:function(){this._textInput&&this._textInput.blur()}},{key:"getValue",value:function(){return this._textInput&&this._textInput.getValue()||""}},{key:"focus",value:function(){this._textInput&&this._textInput.focus()}},{key:"isValidLength",value:function(){var e=this.getValue(),n=this._calculateLength(e);return!this._exceedsValidLength(n)}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=e.calculateLength,l=e.value,a="string"==typeof l?I(l,t):0;return"string"==typeof l&&a!==n.displayCount?{displayCount:a,actualCount:l.length}:null}}]),t}(c.Component);x.defaultProps={autoComplete:"on",autoCorrect:!0,autoFocus:!1,editable:!0,invalid:!1},x.propTypes={};var R=S.Z.create((function(e){return{container:{flexDirection:"row",flexGrow:1,flexShrink:1,overflow:"hidden",paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space12,marginTop:e.spaces.space16},root:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",color:"inherit",fontFamily:"inherit",fontSize:"inherit",textAlign:"inherit",outlineStyle:"none",padding:0},wrapper:{alignItems:"center",display:"flex",fontSize:e.fontSizes.headline2,width:"100%"},disabled:{color:e.colors.gray700}}})),A=S.Z.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},textInputFormStyle:{flexDirection:"row"},textInputFormWrapper:{flexGrow:1,flexShrink:1},textInputHeader:{flexDirection:"row",justifyContent:"space-between",position:"absolute",height:"100%",width:"100%"},textInputHeaderItem:{paddingTop:e.spaces.space8,paddingHorizontal:e.spaces.space8,fontSize:"small"},placeholderText:{paddingTop:e.spaces.space16,fontSize:e.fontSizes.headline2,userSelect:"none"},displayCount:{flexGrow:1,alignItems:"flex-end"},sidePadding:{paddingHorizontal:e.spaces.space8},underTextInputForm:{flexDirection:"row"},subtextWrapper:{flexDirection:"column",flex:1,paddingEnd:e.spaces.space20,paddingTop:e.spaces.space4},subtext:{alignSelf:"flex-start"},focusedIcon:{color:e.colors.primary},icon:{alignSelf:"center",color:e.colors.gray700,paddingEnd:e.spaces.space4},validationIcon:{alignSelf:"center",paddingStart:e.spaces.space4},transition:{transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1), color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), padding-top 150ms cubic-bezier(0.4, 0, 0.2, 1)"},passwordVisibilityIconContainer:{alignSelf:"center",paddingStart:e.spaces.space4},passwordVisibilityIcon:{color:e.colors.gray700}}}))},351384:(e,n,t)=>{t.d(n,{Z:()=>l});const l=t(973186).Z.create((function(e){return{border:{borderRadius:e.borderRadii.small,borderWidth:e.borderWidths.small,borderColor:e.colors.gray200},focusedBorderValid:{boxShadow:"0 0 0 ".concat(e.borderWidths.small," ").concat(e.colors.primary),borderColor:e.colors.primary},focusedBorderInvalid:{boxShadow:"0 0 0 ".concat(e.borderWidths.small," ").concat(e.colors.red500)},invalidBorderColor:{borderColor:e.colors.red500},invalidColor:{color:e.colors.red500},validColor:{color:e.colors.primary},validIconColor:{color:e.colors.green500},disabled:{cursor:"default",opacity:.5,backgroundColor:e.colors.gray50,borderColor:e.colors.gray50}}}))},685834:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var l=t(133028),a=t(202784),i=t(890601),r=t(783427),s=t(473569),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.Z)().direction;return(0,i.Z)("svg",(0,l.Z)((0,l.Z)({},e),{},{accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.Z.root,e.style],viewBox:"0 0 24 24",children:a.createElement("g",null,a.createElement("path",{d:"M12 21c-7.605 0-10.804-8.296-10.937-8.648L.932 12l.131-.352C1.196 11.295 4.394 3 12 3s10.804 8.296 10.937 8.648l.131.352-.131.352C22.804 12.705 19.606 21 12 21zm-8.915-9c.658 1.467 3.5 7 8.915 7s8.257-5.533 8.915-7c-.658-1.467-3.5-7-8.915-7s-8.257 5.533-8.915 7zM12 16c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4zm0-6c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2z"}))}),{writingDirection:n})};o.metadata={width:24,height:24};const c=o},688171:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var l=t(133028),a=t(202784),i=t(890601),r=t(783427),s=t(473569),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.Z)().direction;return(0,i.Z)("svg",(0,l.Z)((0,l.Z)({},e),{},{accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.Z.root,e.style],viewBox:"0 0 24 24",children:a.createElement("g",null,a.createElement("path",{d:"M9 7.75a3 3 0 015.179-2.062l1.452-1.376A5 5 0 007 7.75V8h-.499a2.5 2.5 0 00-2.5 2.5v9a2.5 2.5 0 002.5 2.5h11a2.5 2.5 0 002.5-2.5v-9a2.5 2.5 0 00-2.5-2.5H9zM10.002 14a2 2 0 113 1.732V18h-2v-2.268a2 2 0 01-1-1.732z"}))}),{writingDirection:n})};o.metadata={width:24,height:24};const c=o},548102:e=>{var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.DirectMessages.dece063a.js.map