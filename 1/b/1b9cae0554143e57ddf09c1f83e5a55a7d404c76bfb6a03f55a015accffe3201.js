yolWPJsonp([54],{368:function(t,e,a){"use strict";var n=a(1);n(function(){function t(t,a){var n=document.getElementsByClassName(t);Array.prototype.forEach.call(n,function(t){!0===a?t.style.display="block":(t.style.display="none",t.hidden=!0)}),c()&&e()}function e(){f=[];var t=d().querySelectorAll(".election-archive-years-detail");Array.prototype.forEach.call(t,function(t){t.classList.add("fadeout"),"block"===document.defaultView.getComputedStyle(t,null).display&&f.push(t.getAttribute("data-no"))})}function a(t){s()[t].classList.toggle("fadeout"),s()[t].classList.toggle("fadein")}function i(){var t=n("#shimenList").find("li:visible");Array.prototype.forEach.call(t,function(t,e){t.style.marginRight="60px",(e+1)%3==0&&(t.style.marginRight="0")})}function r(t){var e=[],a="与党",i="野党など";n("#"+t).data("info")&&setTimeout(function(){var e=document.createElement("p");e.textContent=n("#"+t).data("info"),document.getElementById(t).appendChild(e)},300);var r=d3.select("#"+t).append("svg").attr("width",g).attr("height",y),o=r.append("g").attr("transform","translate("+g/2.14+","+y/2+")"),l=d3.scaleOrdinal().range(["#d05151","#306cb4"]);n("#"+t).data("yotoname")&&(a=n("#"+t).data("yotoname")),n("#"+t).data("yatoname")&&(i=n("#"+t).data("yatoname")),n("#"+t).data("color")&&(l=d3.scaleOrdinal().range(["#306cb4","#d05151"])),e.push({partisan:a,value:n("#"+t).data("yoto")}),e.push({partisan:i,value:n("#"+t).data("yato")});var c=d3.rn t.value}).sort(null),d=o.selectAll(".pie").data(c(e)).enter().append("g").attr("class","pie"),s=d3.arc().outerRadius(v).innerRadius(0);d.append("path").attr("d",s).l(t.index)}).attr("transform","rotate(180)");var u=d3.arc().outerRadius(v-350).innerRadius(v-30);d.append("text").attr("fill","black").attr("transform",function(t){return"translate("+u.centroid(t)+")"}).attr("dy","5px").attr("font","15px").attr("text-anchor","middle").attr("fill","#fff").text(function(t){return t.data.partisan}),d.append("text").attr("fill","black").attr(oid(t)+")"}).attr("dy","25px").attr("font","15px").attr("text-anchor","middle").attr("fill","data.value})}var o,l=window.location.pathname,c=function(){if(l.indexOf("shimen")>0)return!0},d=function(){if(c)return document.getElementById("sliderArea")},s=function(){if(c)return d().getElementsByClassName("election-archive-years-detail")},u=0,f=[],h=function(t,e){return Math.h.min(t,e)},p=0;c()&&e(),n(".election-archive-years-detail").on("click",".election-archive-years-detail-title, .election-archive-years-detail-toggle-content-close",function(t){var e=n(this).closest(".election-archive-years-detail");e.find("h3").toggleClass("on"),e.find(".election-archive-years-detail-toggle-content").slid("active")})}),n('[name="element"]').change(function(){if("all"===this.id){var e=n("h3.election-archive-years-detail-title__year");!1===this.chelass("onlass("on")}),t("election-archive-years-detail-toggle-content",this.checked)}else t(this.id,this.checked),i()}),n(".election-archive-years-detail-toggle-content-right__open").on("click",function(){return n("#is-modal"+this.getAttribute("data-no")).fadeIn(),o=n(window).scrollTop(),n("body").addClass("fixed").css({top:-o}),n("#is-modal"+this.getAttribute("data-no")).css({top:o}),!1}),n("#shimenList li").on("click",function(){return u=Number(this.getAttribute("data-no"))-1,n(".is-modal").fadeIn(),o=n(window).scrollTop(),n("body").addClass("fixed").css({top:-o}),n(".is-modal").css({top:o}),a(u),!1}),n(".is-modal-close").on("click",function(){return c()&&a(u),n(".is-modal").fadeOut(),n("body").removeClass("fixed").css({top:0}),n(window).scrollTop(o),!1}),n(".click-button-next").on("click",function(){return 0==p&&(p=1,window.innerWidth>600&&(a(u),setTimeout(function(){var t={};if(f.map(Number).filter(function(e,a){e===u+1&&(t={value:e,index:a})}),t.index===f.length-1){var e=f.map(Number);u=e.reduce(m)-1}else u=f.map(Number)[t.index+1]-1;a(u),p=0},800))),!1}),n(".click-button-prev").on("click",function(){return 0==p&&(p=1,window.innerWidth>600&&(a(u),setTimeout(function(){var t={};if(f.map(Number).filter(function(e,a){e===u+1&&(t={value:e,index:a})}),0===t.index){var e=f.map(Number);u=e.reduce(h)-1}else u=f.map(Number)[t.index-1]-1;a(u),p=0},800))),!1});var g=270,y=270,v=Math.min(g,y)/2-10;n(".ce){r(e.id)})})}},[368]);