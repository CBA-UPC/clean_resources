"use strict";(self.webpackChunk_klaviyo_onsite_modules=self.webpackChunk_klaviyo_onsite_modules||[]).push([[4983],{42682:function(e,t,o){o.d(t,{DZ:function(){return v},Hi:function(){return x},Qj:function(){return k},ck:function(){return R},fr:function(){return w},kF:function(){return C},ob:function(){return I}});var r=o(53348),n=o.n(r),i=o(30696),l=o.n(i),s=o(76223),a=o.n(s),d=o(94926),u=o(51121),p=o(16321);let c,f=const m=["theme","formVersionCId","isOpen","isFocused","isValid","dropUp"],y=["theme"],b=["theme","dropUp","maxHeight","isOpen"],S=["theme","formVersionCId","selected"],g=["theme","formVersionCId"],h=["className","isOpen","fill"],v=a().forwardRef(((e,t)=>a().createElement(p.ZC,l()({ref:t,style:{position:"relative",display:"flex"}},e))));v.displayName="DropdownContainer";const x=a().forwardRef(((e,t)=>{let{theme:o,isOpen:r,isFocused:i,isValid:s,dropUp:d}=e,u=n()(e,m);return a().createElement(p.ZC,l()({ref:t,style:Object.assign({flex:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",boxSizing:"border-box",backgroundColor:o.inputStyles.inputBackgroundColor,padding:"0 8px 0px 16px",border:"1px solid",borderColor:(r||i)&&o.inputStyles.border.activeColor||!s&&o.inputStyles.border.errorColor||o.inputStyles.border.defaultColor,height:o.inputStyles.textStyles.height,cursor:"pointer"},d?{borderBottomRightRadius:o.inputStyles.borderRadius,borderBottomLeftRadius:o.inputStyles.borderRadius,borderTopRightRadius:r?0:o.inputStyles.borderRadius,borderTopLeftRadius:r?0:o.inputStyles.borderRadius}:{borderTopRightRadius:o.inputStyles.borderRadius,borderTopLeftRadius:o.inputStyles.borderRadius,borderBottomRightRadius:r?0:o.inputStyles.borderRadius,borderBottomLeftRadius:r?0:o.inputStyles.borderRadius})},u))}));x.displayName="DropdownField";const C=a().forwardRef(((e,t)=>{let o=n()(e,y);return a().createElement(p.zx,l()({ref:t,style:{cursor:"pointer"}},o))}));C.displayName="DropdownToggleButton";const I=a().forwardRef(((e,t)=>{let{theme:o,dropUp:r,maxHeight:i,isOpen:s}=e,d=n()(e,b);const u=o.inputStyles.borderRadius>16?16:o.inputStyles.borderRadius;return a().createElement(p.ZC,l()({ref:t,style:Object.assign({backgroundColor:"#fff",boxSizing:"border-box",width:"100%",maxHeight:i,position:"absolute",overflowY:"auto",zIndex:2,border:s?`1px solid ${o.inputStyles.border.activeColor}`:"none"},r?{borderTop:s?`1px solid ${o.inputStyles.border.activeColor}`:"none",borderBottom:"none",bottom:"100%",borderTopRightRadius:u,borderTopLeftRadius:u}:{borderTop:"none",borderBottom:s?`1px solid ${o.inputStyles.border.activeColor}`:"",top:"100%",borderBottomRightRadius:u,borderBottomLeftRadius:u})},d))}));I.displayName="Items";const R=a().forwardRef(((e,t)=>{let{theme:o,selected:r}=e,i=n()(e,S);const s={padding:8,userSelect:"none",cursor:"pointer",color:o.inputStyles.textStyles.formInputTextColor,fontFamily:o.inputStyles.textStyles.fontFamily,fontSize:o.inputStyles.textStyles.fontSize,fontWeight:o.inputStyles.textStyles.fontWeight,letterSpacing:o.inputStyles.textStyles.letterSpacing,backgroundColor:o.inputStyles.inputBackgroundColor};return a().createElement(p.ZC,l()({ref:t,style:r?Object.assign({},s,{backgroundColor:(0,u.Z)(o.inputStyles.inputBackgroundColor)}):s},i))}));R.displayName="Item";const w=a().forwardRef(((e,t)=>{let{theme:o}=e,r=n()(e,g);return a().createElement(p.II,l()({ref:t,className:(0,d.iv)(c||(c=f`
        &&& {
          &::placeholder {
            color: ${0};
            font-family: ${0};
            font-size: ${0};
            font-weight: ${0};
            letter-spacing: ${0}px;
          }
        }
      `),o.inputStyles.textStyles.placeholderColor,o.inputStyles.textStyles.fontFamily,o.inputStyles.textStyles.fontSize,o.inputStyles.textStyles.fontWeight,o.inputStyles.textStyles.letterSpacing),style:{border:"none",flex:1,cursor:"pointer",color:o.inputStyles.textStyles.formInputTextColor,fontFamily:o.inputStyles.textStyles.fontFamily,fontSize:o.inputStyles.textStyles.fontSize,fontWeight:o.inputStyles.textStyles.fontWeight,letterSpacing:o.inputStyles.textStyles.letterSpacing}},r))}));w.displayName="DropdownInput";const k=e=>{let{className:t="",isOpen:o,fill:r}=e,i=n()(e,h);return a().createElement("svg",l()({style:{fill:r},height:"20",width:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:t,transform:o?"rotate(180)":""},i),a().createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))}},40737:function(e,t,o){o.r(t),o.d(t,{default:);var r=o(30696),n=o.n(r),i=o(53348),l=o.n(i),s=(o(35071),o(31217),o(76223)),a=o.n(s),d=o(18017),u=o(28058),p=o(80101),c=o(16321),f=o(95174),m=o(21001),y=o(42682),b=o(25413),S=o(15130),g=o(28419),h=o(9983);const v=["ref"],x=["onBlur","onKeyDown"];var C=({componentId:e,formVersionCId:t,theme:o,a11yIdentifierBlock:r,a11yIdentifierStyles:i})=>{var C;const I=(0,s.useRef)(null),{current:R}=(0,s.useRef)((0,p.Z)("klaviyo_ariaid_")),w=(0,b.Z)((),k=(0,b.Z)((o=>{var r;const n=null==(r=o.onsiteState.openFormVersions[t])?void 0:r.components[e];return!!o.onsiteState.client.isDesignWorkflow||!n||n.valid||void 0===n.valid})),E=(0,b.Z)((o=>{var r,n;return null==(r=o.onsiteState.openFormVersions[t])||null==(n=r.components[e])?void 0:n.metadata}),d.X),Z=(0,b.Z)((o=>{var r,n;return null==(r=o.onsiteState.openFormVersions[t])||null==(n=r.components[e])?void 0:n.validationErrorType})),B=(0,b.Z)((),V=(0,b.Z)((t=>{var o,r;return null==(o=t.formsState.components[e])||null==(r=o.data)?void 0:r.label})),T=(0,b.Z)((t=>{var o,r;return null==(o=t.formsState.components[e])||null==(r=o.data)?void 0:r.placeholder})),D=(0,b.Z)((t=>{var o,r;return(null==(o=t.formsState.components[e])||null==(r=o.data)?void 0:r.options)||[]}),d.X),[F,O]=(0,s.useState)(D);let N=!1;const z=I.current;if(z){N=window.innerHeight-z.getBoundingClientRect().bottom<160}(0,s.useEffect)((()=>{w||(0,S.DK)({formVersionCId:t,componentId:e})}),[w,t,e]);const{isOpen:L,getToggleButtonProps:H,getLabelProps:W,getMenuProps:$,getInputProps:_,getComboboxProps:j,getItemProps:P,inputValue:U,highlightedIndex:K}=(0,u.Kb)({items:F,itemToString:onSelectedItemChange:({selectedItem:o})=>(o=>{var r;(0,g.l)();const{value:n,label:i}=o||{};(0,S.hX)({componentId:e,formVersionCId:t,value:n||i}),null==(r=I.current)||r.focus()})(o)}),X=j(),{ref:M}=X,Q=l()(X,v),A=_({ref:),{onBlur:Y,onKeyDown:q}=A,G=l()(A,x),J=H(),ee=()=>{if(-1===K){(0,g.l)();const o=F.find(();(0,S.hX)({componentId:e,formVersionCId:t,value:(null==o?void 0:o.value)||(null==o?void 0:o.label)||""})}};return(0,s.useEffect)((()=>{O(D.filter(())}),[U,D]),a().createElement(c.ZC,{a11yIdentifier:r,style:{width:"100%",alignSelf:"flex-end"}},a().createElement(c.ZC,null,a().createElement(m.Z,n()({a11yIdentifier:i,style:{display:null===V?"none":void 0},theme:o},W()),V),a().createElement(y.DZ,{ref:M},a().createElement(y.Hi,{a11yIdentifier:i,theme:o,isValid:k,isOpen:L,isFocused:(null==(C=document.activeElement)?void 0:C.id)===G.id,formVersionCId:t,dropUp:N},a().createElement(y.fr,n()({},Q,G,{"aria-label":V?void 0:T,"aria-invalid":!k,"aria-describedby":k?void 0:R,theme:o,formVersionCId:t,tabIndex:w?-1:0,placeholder:T,onBlur:onKeyDown:e=>{q(e),"Enter"===e.key&&ee()},onClick:J.onClick,a11yIdentifier:i})),a().createElement(y.kF,n()({theme:o,type:"button",focusable:!1},J,{"aria-controls":Q["aria-controls"],a11yIdentifier:r,"aria-label":"Show Options"}),a().createElement(y.Qj,{tabIndex:-1,isOpen:L,fill:o.inputStyles.border.defaultColor}))),a().createElement(y.ob,n()({theme:o,maxHeight:150,dropUp:N,isOpen:L},$(),{a11yIdentifier:i}),L&&0===F.length&&a().createElement(y.ck,n()({a11yIdentifier:i,theme:o},P({key:"no-results",disabled:!0,index:0,item:{label:"",value:""}})),"No results found"),L&&F.map(((e,t)=>a().createElement(y.ck,n()({key:e.label,theme:o},P({item:e,index:t}),{selected:K===t,a11yIdentifier:i}),e.label)))))),!w&&!L&&a().createElement(f.Z,{theme:o,formVersionCId:t,componentAriaID:R,metadata:E,validationErrorType:Z,validationErrorMessage:B,a11yIdentifier:i}))}}}]);