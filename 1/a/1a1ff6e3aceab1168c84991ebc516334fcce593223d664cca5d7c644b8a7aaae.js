(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{155:function(t,n,e){"use strict";e.d(n,"j",function(){return r}),e.d(n,"h",function(){return c}),e.d(n,"f",function(){return a}),e.d(n,"n",function(){return u}),e.d(n,"a",function(){return o}),e.d(n,"m",function(){return i}),e.d(n,"i",function(){return s}),e.d(n,"o",function(){return f}),e.d(n,"d",function(){return p}),e.d(n,"e",function(){return d}),e.d(n,"k",function(){return l}),e.d(n,"b",function(){return h}),e.d(n,"g",function(){return v}),e.d(n,"l",function(){return b}),e.d(n,"c",function(){return O});var r="panos",c="images",a="icons",u="videos",o="audio",i="text",s="logo",f="videos360",p="https://s3-us-west-2.amazonaws.com/images-mb01-resized/SJvNC13nz/index.html",d=20,l={manageTours:"manageTours",manageUsers:"manageUsers",deleteAccount:"deleteAccount",publishTours:"publishTours"},h="https://res.cloudinary.com/concept3d/video/upload/vc_auto/audio_files/",v="us-west-2:8d221ae4-c54f-4155-9f62-af5b0015bc0a",b="xplorertourmedia",O="https://res.cloudinary.com/concept3d"},158:function(t,n,e){"use strict";var r=e(2),c=e.n(r),a=e(3),u=e(6),o=e(7),i=e(25),s=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.aid,r=void 0===e?localStorage.getItem("aid"):e,a=Object(o.a)(),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/tours"),{headers:a,credentials:"include"});case 5:return s=t.sent,t.next=8,Object(i.a)(s);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/tours/").concat(n),{headers:e,credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/tours"),{method:"POST",headers:e,body:JSON.stringify(n),credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/tours/").concat(n.id),{method:"PUT",headers:e,body:JSON.stringify(n),credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/tours/").concat(n),{method:"DELETE",headers:e,credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=Object(a.a)(c.a.mark(function t(n,e){var r,a,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(o.a)(),a=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(a,"/tours/").concat(n,"/stops"),{method:"DELETE",headers:r,body:JSON.stringify(e),credentials:"include"});case 5:return s=t.sent,t.next=8,Object(i.a)(s);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n,e){return t.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("aid"),r=Object(o.a)(),t.next=4,fetch("".concat(u.a.tourAPI,"/v2/").concat(e,"/tours/").concat(n,"/unpublish"),{method:"POST",headers:r,credentials:"include"});case 4:return a=t.sent,t.next=7,Object(i.a)(a);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),b=e(36),O=e(174);e.d(n,"e",function(){return m}),e.d(n,"d",function(){return g}),e.d(n,"f",function(){return y}),e.d(n,"m",function(){return j}),e.d(n,"b",function(){return w}),e.d(n,"c",function(){return x}),e.d(n,"g",function(){return S}),e.d(n,"l",function(){return I}),e.d(n,"h",function(){return A}),e.d(n,"k",function(){return k}),e.d(n,"i",function(){return P}),e.d(n,"j",function(){return _}),e.d(n,"a",function(){return D});var m=function(t,n){return function(){var e=Object(a.a)(c.a.mark(function e(r,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(k()),e.prev=1,n&&r(T()),e.next=5,s({aid:t});case 5:e.sent.forEach(,r(P()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(_(e.t0.message||"Something went wrong fetching tours."));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,n){return e.apply(this,arguments)}}()},g=function(t){return function(){var n=Object(a.a)(c.a.mark(function n(e,r){var a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(k()),n.prev=1,n.next=4,f(t);case 4:a=n.sent,e(A(a)),e(P()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e(_(n.t0.message||"Something went wrong fetching the tour."));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(t,e){return n.apply(this,arguments)}}()},y=function(t,n){return function(){var e=Object(a.a)(c.a.mark(function e(r,a){var u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(k()),e.prev=1,e.next=4,p(t);case 4:u=e.sent,Object(b.b)(function(){r(A(u)),r(P())}),"function"===typeof n&&n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(_(e.t0.message||"Something went wrong saving the tour."));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},j=function(t){return function(){var n=Object(a.a)(c.a.mark(function n(e,r){var a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(k()),n.prev=1,n.next=4,d(t);case 4:a=n.sent,Object(b.b)(function(){e(A(a)),e(P())}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),e(_(n.t0.message||"Something went wrong saving the tour."));case 12:case"end":return n.stop()}},n,null,[[1,8]])}));return function(t,e){return n.apply(this,arguments)}}()},w=function(t){return function(){var n=Object(a.a)(c.a.mark(function n(e,r){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(k()),n.prev=1,n.next=4,l(t);case 4:e(E(t)),e(P()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e(_(n.t0.message||"Something went wrong deleting the tour."));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return function(t,e){return n.apply(this,arguments)}}()},x=function(t,n){return function(){var e=Object(a.a)(c.a.mark(function e(r,a){var u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(k()),e.prev=1,e.next=4,h(t,n);case 4:u=e.sent,Object(b.b)(function(){r(A(u)),r(P())}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(_(e.t0.message||"Something went wrong deleting stops."));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}()},S=function(t,n){return function(){var e=Object(a.a)(c.a.mark(function e(r,a){var u,o,i,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:u=e.sent,o=u.tour,i=u.stops,s=void 0===i?[]:i,r(A(o)),s.forEach(,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),r(_(e.t0.message||"Something went wrong reverting the tour."));case 15:return e.prev=15,"function"===typeof n&&n(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,11,15,18]])}));return function(t,n){return e.apply(this,arguments)}}()},I=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ,T=function(){return{type:"CLEAR_TOURS"}},A=function(t){return{type:"SAVE_TOUR",tour:t}},E=function(t){return{type:"DELETE_TOUR",tourId:t}},k=function(){return{type:"TOURS_STATUS",status:"saving",errorMessage:""}},P=function(){return{type:"TOURS_STATUS",status:"ok",errorMessage:""}},_=function(t){return{type:"TOURS_STATUS",status:"error",errorMessage:t}},D=function(t,n){return{type:"ADD_STOP_TO_TOUR",tourId:t,stopId:n}}},162:function(t,n,e){"use strict";var r=e(1),c=e(37),a=e(2),u=e.n(a),o=e(3),i=e(198),s=e.n(i),f=e(36);var p=function(t){if(t.type.indexOf("audio/")>=0)return".mp3";var n=t.type.lastIndexOf("/")+1;return".".concat(t.type.substr(n))},d=e(155),l=e(181),h=e(170),v=e(6),b=e(266),O=e(256);b.config.region="us-west-2",b.config.credentials=new b.CognitoIdentityCredentials({IdentityPoolId:d.g});var m=function(t){var n=t.id,e=void 0===n?"":n,r=t.file,c=void 0===r?{}:r,a=t.mediaType,u=void 0===a?"":a,o=t.useEnv,i=void 0!==o&&o,s=t._bucket,f=void 0===s?"":s,p=localStorage.getItem("aid"),l=f||d.l,h=i?"".concat("360tours","/").concat(v.a.apiENV,"/").concat(p,"/").concat(u):u;return{Bucket:"".concat(l,"/").concat(h),Key:"".concat(e),Body:c,ContentType:"".concat(c.type)}},g=function(){var t=Object(o.a)(u.a.mark(function t(n){var e;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new O,t.abrupt("return",new Promise(function(t,r){e.upload(n,}));case 2:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),y=e(158);e.d(n,"b",function(){return j}),e.d(n,"f",function(){return x}),e.d(n,"g",function(){return S}),e.d(n,"a",function(){return I}),e.d(n,"h",function(){return T}),e.d(n,"i",function(){return k}),e.d(n,"j",function(){return P}),e.d(n,"d",function(){return N}),e.d(n,"c",function(){return q}),e.d(n,"e",function(){return Q});var j=function(t){return function(){var n=Object(o.a)(u.a.mark(function n(e,r){var c,a;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(_()),n.prev=1,c=localStorage.getItem("aid"),n.next=5,Object(l.b)(c,t);case 5:a=n.sent,Object(f.b)(function(){e(N(a)),e(U())}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e(D(n.t0));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(t,e){return n.apply(this,arguments)}}()},w=function(t){return function(){var n=Object(o.a)(u.a.mark(function n(e){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.c)(t);case 3:r=n.sent,Object(f.b)(function(){e(R(t.type,r[t.type])),e(z())}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),e(K(n.t0));case 11:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t){return n.apply(this,arguments)}}()},x=function(t){return function(){var n=Object(o.a)(u.a.mark(function n(e){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.g)(t);case 3:r=n.sent,e(L(t.type,r[t.type][t.id])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e(K(n.t0));case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t){return n.apply(this,arguments)}}()},S=function(t){return function(){var n=Object(o.a)(u.a.mark(function n(e){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.h)(t);case 3:r=n.sent,e(M(r[t.id])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e(K(n.t0));case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t){return n.apply(this,arguments)}}()},I=function(t,n){return function(){var e=Object(o.a)(u.a.mark(function e(r){var c,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(f.b)(,e.prev=1,c=localStorage.getItem("aid"),a={aid:c,id:t,type:n},e.next=6,Object(l.a)(a);case 6:Object(f.b)(function(){r(B()),r(j(!0))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(W(e.t0));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},T=function(t){var n=t.file,e=t.mediaType,r=t.name,c=t.description,a=t.alt,i=t.transcript,l=t.componentCB,h=t.permissions;return function(){var t=Object(o.a)(u.a.mark(function t(o){var v,b,O,y,j,x,S;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(J()),v=s()()+p(n),e===d.j&&(O=window.URL||window.webkitURL,(y=new Image).onload=function(){b=this.width/this.height},y.src=O.createObjectURL(n)),o(G()),j=m({id:v,file:n,mediaType:e,useEnv:e===d.f}),t.next=7,g(j);case 7:x=t.sent,S={permissions:h,aid:localStorage.getItem("aid"),id:v,name:r,description:c,alt:a,transcript:i,ratio:b,type:e,url:e===d.j?x.Location:n.name},n&&(o(V()),e===d.j?A(S,o,l):(Object(f.b)(function(){o(F()),o(w(S))}),"function"===typeof l&&l(v)));case 10:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()},A=function(t,n,e){Object(l.f)(t).then(function(r){if(r.Error)n(K({message:"ERROR DURING UPLOAD"})),console.error(r.Error,"ERROR DURING UPLOAD");else{var c=JSON.parse(r.Payload),a={aid:t.aid,id:t.id,ratio:t.ratio,src:decodeURIComponent(t.url),url:c+"index.html",name:t.name||null,description:t.description||null,alt:t.alt||null};Object(f.b)(function(){var t;n(F()),n((t=a,function(){var n=Object(o.a)(u.a.mark(function n(e){var r,c;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.d)(t);case 3:r=n.sent,c=r.Attributes,Object(f.b)(function(){e(C(c.panos)),e(z())}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),e(K(n.t0));case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(t){return n.apply(this,arguments)}}()))}),"function"===typeof e&&e(t.id)}})},E=function(t){return function(){var n=Object(o.a)(u.a.mark(function n(e){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(Object(y.k)()),n.next=3,Object(h.d)(t).then(function(t){var n=t.tourId,r=t.tourStyles;Object(f.b)(function(){e(Object(y.h)({id:n,styles:r,uptoDate:!1})),e(z()),e(Object(y.i)())})}).catch(;case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},k=function(t){var n=t.tourId,e=t.primaryColor,a=t.logoId,i=t.logoURL,d=t.logoToUpload,l=t.faviconId,h=t.faviconToUpload,v=t.hotspotIcons,b=t.hotspotIconsToUpload,O=t.buttonStyles,j=t.uptoDate,w=t.permissions,x=t.componentCB;return function(){var t=Object(o.a)(u.a.mark(function t(S){var I,T,A,k,P,_,D;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(S(Object(y.k)()),!(d||h||b.length>0)){t.next=13;break}return I=[d,h].concat(Object(c.a)(b)).filter(,T={aid:localStorage.getItem("aid"),id:n,uptoDate:j,permissions:w},A={logoURL:i,primaryColor:e,buttonStyles:O},S(J()),k=a,P=l,_=Object(r.a)({},v),t.next=11,Promise.all(I.map(function(){var t=Object(o.a)(u.a.mark(function t(n){var e,c,a,o,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s()()+p(n),S(G()),c="icons"===n.fileType,a=m({id:e,file:n,mediaType:c?"icons":"images",useEnv:c}),t.next=6,g(a);case 6:o=t.sent,k="logo"===n.fileType?e:k,P="favicon"===n.fileType?e:P,i=Object(r.a)(Object(r.a)({},"logo"===n.fileType?{logoId:e}:{logoId:k}),"favicon"===n.fileType?{faviconId:e}:{faviconId:P}),c&&(_[n.hotspotType]={id:e,path:o.key}),A=Object(r.a)(Object(r.a)(Object(r.a)({},A),i),{},{hotspotIcons:_}),"function"===typeof x&&x(e,n.fileType,n.hotspotType);case 13:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}())).then(function(){Object(f.b)(function(){S(V()),S(F()),S(E(Object(r.a)(Object(r.a)({},T),{styles:A})))})});case 11:t.next=15;break;case 13:D={aid:localStorage.getItem("aid"),id:n,styles:{primaryColor:e,logoId:a,logoURL:i,faviconId:l,buttonStyles:O},uptoDate:j,permissions:w,hotspotIcons:v},S(E(D));case 15:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()},P=function(t){var n=t.id,e=void 0===n?s()():n,r=t.mediaType,c=void 0===r?"videos":r,a=t.url,u=t.name,o=t.description;return function(t,n){var r=n().account;t(J());var i={aid:localStorage.getItem("aid"),id:e,name:u,description:o,type:c,url:a,permissions:r.permissions};Object(f.b)(function(){t(V()),t(F()),t(w(i))})}},_=function(){return{type:"MEDIA_FETCHING"}},D=function(t){return{type:"MEDIA_FETCH_ERROR",error:t}},U=function(){return{type:"MEDIA_FETCH_SUCCESS"}},R=function(t,n){return{type:"SAVE_ACCOUNT_MEDIA",mediaType:t,media:n}},L=N=C=function(t){return{type:"SAVE_ACCOUNT_PANO",panos:t}},M=function(t){return{type:"UPDATE_ACCOUNT_PANO",pano:t}},J=function(){return{type:"START_MEDIA_UPLOAD"}},G=function(){return{type:"START_RAW_UPLOAD"}},V=function(){return{type:"START_MEDIA_BUILD"}},F=function(){return{type:"START_MEDIA_SAVE"}},H=function(){return{type:"MEDIA_DELETING"}},B=function(){return{type:"MEDIA_DELETED"}},z=function(){return{type:"MEDIA_UPLOAD_COMPLETE"}},K=function(t){return{type:"MEDIA_UPLOAD_FAILED",error:t}},W=function(){return{type:"MEDIA_DELETE_FAILED"}},q=Q=function(t){return{type:"TOGGLE_MAIN_MEDIA_STATUS",isMainMediaPlaying:t}}},170:function(t,n,e){"use strict";e.d(n,"e",function(){return f}),e.d(n,"a",function(){return p}),e.d(n,"d",function(){return d}),e.d(n,"c",function(){return l}),e.d(n,"b",function(){return h}),e.d(n,"f",function(){return v});var r=e(2),c=e.n(r),a=e(3),u=e(4),o=e(6),i=e(7),s=e(25),f=function(t){var n=Object(i.a)();return fetch("".concat(o.a.tourAPI,"/tours"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},p=function(t){var n=Object(i.a)();return fetch("".concat(o.a.tourAPI,"/tours"),{method:"DELETE",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},d=function(t){var n=Object(i.a)();return fetch("".concat(o.a.tourAPI,"/tourstyles"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},l=function(t){var n={aid:t.aid,id:t.id,tourData:Object(u.a)({},t.id,t.tourData),published:t.published,uptoDate:t.uptoDate,tier:t.tier,gaId:t.gaId,mapboxToken:t.mapboxToken},e=Object(i.a)();return fetch("".concat(o.a.tourAPI,"/publishtour"),{method:"POST",headers:e,body:JSON.stringify(n),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},h=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(i.a)(),t.next=3,fetch("".concat(o.a.tourAPI,"/publishtour/").concat(n),{headers:e});case 3:return r=t.sent,Object(s.b)(r),t.abrupt("return",Object(s.a)(r));case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(c.a.mark(function t(n,e){var r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:n,tier:e},a=Object(i.a)(),t.abrupt("return",fetch("".concat(o.a.tourAPI,"/publishtour/newTier/"),{method:"POST",headers:a,body:JSON.stringify(r),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t}));case 3:case"end":return t.stop()}},t)}));return function(n,e){return t.apply(this,arguments)}}()},172:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e={panos:"Panorama",images:"Image",videos:"Video",audio:"Audio",videos360:"360\xba Video",logo:"Logo"}[t];return n?e.toLowerCase():e}},174:function(t,n,e){"use strict";var r=e(2),c=e.n(r),a=e(3),u=e(6),o=e(7),i=e(25),s=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/tours/").concat(n,"/stops"),{headers:e,credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/stops/").concat(n),{headers:e,credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=Object(a.a)(c.a.mark(function t(n){var e,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(o.a)(),r=localStorage.getItem("aid"),t.prev=2,t.next=5,fetch("".concat(u.a.tourAPI,"/v2/").concat(r,"/stops"),{method:"POST",headers:e,body:JSON.stringify(n),credentials:"include"});case 5:return a=t.sent,t.next=8,Object(i.a)(a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(2),t.t0;case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return (),d=function(){var t=Object(a.a)(c.a.mark(function t(n,e){var r,a,s,f;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(o.a)(),a=localStorage.getItem("aid"),s=e?"?tourId=".concat(e):"",t.prev=3,t.next=6,fetch("".concat(u.a.tourAPI,"/v2/").concat(a,"/stops/").concat(n.id).concat(s),{method:"PUT",headers:r,body:JSON.stringify(n),credentials:"include"});case 6:return f=t.sent,t.next=9,Object(i.a)(f);case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(3),t.t0;case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,e){return t.apply(this,arguments)}}(),l=e(36),h=e(158);e.d(n,"b",function(){return v}),e.d(n,"a",function(){return b}),e.d(n,"c",function(){return O}),e.d(n,"f",function(){return m}),e.d(n,"d",function(){return g}),e.d(n,"e",function(){return j});var v=function(t){return function(){var n=Object(a.a)(c.a.mark(function n(e,r){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(y()),n.prev=1,n.next=4,s(t);case 4:n.sent.forEach(,e(j()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e(w(n.t0.message||"Something went wrong fetching stops."));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(t,e){return n.apply(this,arguments)}}()},b=function(t){return function(){var n=Object(a.a)(c.a.mark(function n(e,r){var a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e(y()),n.prev=1,n.next=4,f(t);case 4:a=n.sent,Object(l.b)(,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e(w(n.t0.message||"Something went wrong fetching the stop."));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return function(t,e){return n.apply(this,arguments)}}()},O=function(t,n){return function(){var e=Object(a.a)(c.a.mark(function e(r,a){var u,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(y()),e.prev=1,e.next=4,p(t);case 4:u=e.sent,o=u.stop,i=u.tourId,Object(l.b)(function(){r(g(o)),r(Object(h.a)(i,o.id)),r(Object(h.l)(i,!1)),r(j())}),"function"===typeof n&&n(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r(w(e.t0.message||"Something went wrong saving the stop."));case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,n){return e.apply(this,arguments)}}()},m=function(t,n){return function(){var e=Object(a.a)(c.a.mark(function e(r,a){var u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(y()),e.prev=1,e.next=4,d(t,n);case 4:u=e.sent,Object(l.b)(function(){r(g(u)),r(Object(h.l)(n),!1),r(j())}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(w(e.t0.message||"Something went wrong saving the stop."));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return ()},g=y=function(){return{type:"STOPS_STATUS",status:"saving",errorMessage:""}},j=w=,181:function(t,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"c",function(){return o}),e.d(n,"g",function(){return i}),e.d(n,"d",function(){return s}),e.d(n,"f",function(){return f}),e.d(n,"h",function(){return p}),e.d(n,"a",function(){return d}),e.d(n,"e",;var r=e(6),c=e(7),a=e(172),u=function(t,n){var e=Object(c.a)(),a=n?"?tour_data=true":"";return fetch("".concat(r.a.tourAPI,"/media/").concat(t).concat(a),{method:"GET",headers:e,credentials:"include"}).then(function(t){if(200!==t.status)throw{message:"Error Fetching Media Data"};return t.json()}).then(function(t){return t})},o=function(t){var n=Object(c.a)(),e=Object(a.a)(t.type);return fetch("".concat(r.a.tourAPI,"/media"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){if(200!==t.status)throw{message:"".concat(e," failed to upload. ").concat("Video"===e?"Check that the URL is correct and try again.":"Please try again."),status:t.status};return t.json()}).then(function(t){return t})},i=function(t){var n=Object(c.a)();return fetch("".concat(r.a.tourAPI,"/media"),{method:"PATCH",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},s=function(t){var n=Object(c.a)();return fetch("".concat(r.a.tourAPI,"/panos"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},f=function(t){var n=Object(c.a)();return fetch("".concat(r.a.accountsAPI,"/buildpano"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},p=function(t){var n=Object(c.a)();return fetch("".concat(r.a.tourAPI,"/panos"),{method:"PATCH",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t})},d=function(t){var n=t.aid,e=t.id,a=t.type,u=Object(c.a)();return fetch("".concat(r.a.tourAPI,"/media/").concat(n,"/assets/").concat(e),{method:"DELETE",headers:u,body:JSON.stringify({type:a}),credentials:"include"}).then(function(t){return t}).then(.catch(function(t){return console.log("ERROR DELETING MEDIA",t)})},l=function(t,n,e){var a=Object(c.a)();return fetch("".concat(r.a.tourAPI,"/media/").concat(t,"?type=").concat(n,"&search=").concat(e,"&tour_data=true"),{method:"GET",headers:a,credentials:"include"}).then(.then(.catch(}},233:]);