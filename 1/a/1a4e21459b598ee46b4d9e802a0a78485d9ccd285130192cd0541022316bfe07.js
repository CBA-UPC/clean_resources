!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[9444],{79766:(e,s,a)=>{a.r(s),a.d(s,{CollectionsCreate:()=>$,Content:);var n=a(33970),o=a.n(n),t=a(52980),r=a(83152),i=a(43597),l=a(25190),c=a(93804),d=a(10274),g=a(43858),u=a(53697),b=a(4208),f=a(97874),h=a(94343),p=a(56673),v=a(26633),y=a(86392),w=a(9910),m=a(95004),j=a(78994),x=a(32468),_=a(22979),S=a(78667),k=a(93613),C=a(42914),E=a(40563),I=a(2629),$=()=>(0,I.jsx)(y.OS,{children:(0,I.jsx)(D,{})}),D=()=>{var e=(0,w.v)(),s=(0,S.bp)(),a=s._c,n=s._t,$=(0,l.v$)().isMobile,D=(0,d.$J)().isPending,M=(0,y.Wn)(),Y=M.blogNames,A=M.blogs,J=M.description,R=M.hasUnsavedChanges,U=M.imageUrl,Z=M.name,L=M.saveCollection,O=M.tags,P=(0,E.J)("collections"),T=(0,j.s0)(),F=(0,m.useState)(!1),N=o()(F,2),V=N[0],W=N[1],q=(0,k.V)().toggleToast,z=(0,m.useRef)(),B=(0,m.useRef)((0,C.Z)(e=>{var s=e.blogs,o=e.description,t=e.id;L({blogs:s,description:o,id:t,imageUrl:e.imageUrl,name:e.name,tagpack:e.tagpack},{onSuccess:t?()=>{q(a("Success message shown when the changes on a blog collection have been saved","Changes saved!"),"success")}:e=>{z.current=e.id,q(n("Draft saved!"),"success")}})},5e3,{trailing:!0}));(0,m.useEffect)(()=>{Z&&B.current({blogs:Y,description:J,id:z.current,imageUrl:U,name:Z,tagpack:O})},[Y,J,U,Z,O]),(0,m.useEffect)(()=>{z.current&&V&&T((0,c.gy)({id:z.current}))},[V,T]);var G=()=>{L({blogs:Y,description:J,id:z.current,imageUrl:U,name:Z,tagpack:O},{onSuccess:onError:()=>{q(a("Error message when something fails when creating a collection","Oops. There was an error while creating your collection. Please try again."))}})};return P?(0,I.jsxs)(I.Fragment,{children:[R&&(0,I.jsx)(r.Z,{message:a("Message shown to users warning them that they are about to navigate away from a post or blog collection with unsaved changes","If you leave before saving, your changes will be lost. Are you sure you want to navigate away?"),when:!V}),(0,I.jsxs)(t.Z,{activePage:x.vS.collections,mainContentIsMasonry:!1,maxMasonryColumns:1,children:[(0,I.jsx)(i.Z,{sidebar:(0,I.jsxs)(f.Y,{showSearch:!1,children:[(0,I.jsx)(p.o,{onSave:G,deleteAvailable:!1,isSaving:D}),(0,I.jsx)(v.Y,{}),(0,I.jsx)(h.Y,{}),(0,I.jsx)(u.x,{})]}),children:$?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.o,{onSave:G,deleteAvailable:!1}),(0,I.jsx)(b.$,{}),"tags"===e&&(0,I.jsx)(v.Y,{}),"blogs"===e&&(0,I.jsx)(h.Y,{}),"feed"===e&&(0,I.jsx)(g.J,{blogs:A.map(,tags:O,displayMode:_.mt.List},`${Y.join("|")}__${O.join("|")}`)]}):(0,I.jsx)(g.J,{blogs:Y,tags:O,displayMode:_.mt.List},`${Y.join("|")}__${O.join("|")}`)}),(0,I.jsx)(u.x,{hideOnDesktop:!0})]})]}):null}}}]);