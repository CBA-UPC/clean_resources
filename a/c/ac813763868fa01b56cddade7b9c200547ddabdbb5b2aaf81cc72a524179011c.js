!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[8580],{86148:84166:52948:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(54138),i=a.n(t),n=a(95004),r=a(29158),l=a(2629);class o extends n.Component{et c=e=>{var s=e.className,a=e.index,t=e.children,n=e.shouldUpdate,c=void 0!==n&&n,d=e.style;return(0,l.jsx)(r.Z.Consumer,{children:e=>{var n=e.window,r=n[a]?n[a].opacity:0;return(0,l.jsx)("div",{style:i()({opacity:r},d),className:s,children:(0,l.jsx)(o,{shouldUpdate:c,children:t})})}})}},90938:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(33970),i=a.n(t),n=a(95004),r=a(20103),l=a(78667),o=a(2629);function c(e){var s,a=(0,l.bp)()._t,t=e.blog,c=e.onClick,d=t.name,m=t.url,p=(0,n.useState)(null!==(s=e.selected)&&void 0!==s?s:!!t.followed),h=i()(p,2),u=h[0],g=h[1];return((0,n.useEffect)(()=>{void 0!==e.selected&&g(!!e.selected)},[e.selected]),t.canBeFollowed)?(0,o.jsx)(r.Z,{following:!!u,blogName:d,blogUrl:m,className:"mrvd7",wrapperClassName:"SYe4j",isPeeprHeader:!1,onFollow:isBlogCarousel:!0,extraFollowParams:e.extraFollowParams,children:):null}},90085:(e,s,a)=>{a.d(s,{Z:()=>i});var t=(0,a(36343).q)("visibility");t.defaultProps={size:{width:24,height:24}};let i=t},63836:(e,s,a)=>{a.d(s,{i:()=>m});var t=a(54138),i=a.n(t),n=a(54589),r=a.n(n),l=a(78667);let o=(0,a(80293).Z)("AsyncLivePreview");var c=a(2629),d=["liveNow","networkUserId","broadcastId"];function m(e){var s=e.liveNow,a=e.networkUserId,t=e.broadcastId,n=r()(e,d),m=(0,l.bp)().features,p=m.liveStreamingWeb,h=m.liveStreamingUserEnabled;return p&&h?s&&a?(0,c.jsx)(o,i()({networkUserId:a},n)):s&&t?(0,c.jsx)(o,i()({broadcastId:t},n)):null:null}},46023:(e,s,a)=>{a.d(s,{ZP:()=>L});var t=a(54138),i=a.n(t),n=a(50209),r=a.n(n),l=a(5754),o=a.n(l),c=a(95004),d=a(60612),m=a(18997),p=a(44009),h=a(31571),u=a(77095),g=a(78667),v=a(63583),b=a.n(v),x=a(86148),j=a(2629);class w extends c.Component{render(){var e=this.props,s=e.appContext._t,a=e.avatar,t=e.avatarShape,i=e.blogName,n=e.blogTitle,r=e.blogUrl,l=e.className,o=e.isFollowed,c=e.onClose,d=e.onFollow,g=e.rowTheme,v=void 0!==d&&!o&&(0,j.jsx)(h.Z,{following:!!o,blogName:i,blogUrl:r,onFollow:d,className:x.Z.blogRowFollowButton}),w=(0,j.jsx)(p.Z,{wrapperClassName:"dxDX3",onClick:c,label:s("Dismiss Recommendation"),children:(0,j.jsx)(u.Z,{colors:{primary:b().paletteTransparentWhite13},size:{width:10,height:10}})});return(0,j.jsx)("div",{className:"iOplf",children:(0,j.jsx)(m.Z,{avatar:a,avatarShape:t,blogName:i,blogTitle:n,blogUrl:r,className:l,clickableBlogRowClassName:"WaV4Y",closeButton:w,floatingButton:v,isMobile:!1,openBlogCard:"body",theme:void 0===g?"dark":g})})}}let f=(0,g.HJ)(w);var N=a(6135),C=a(85795),k=a(86033),y=a(16273),I=a(78093),B=a.n(I);let Z={loadingBlogs:"B4rcz",recommendedBlogs:"PwJi6",blogRowHolder:"kqme1",blogRow:"_fk31",dismiss:"Kxfe3",follow:"vN7wd",hide:"ou8zw",dashboardEmpty:"E4V_b",dismissAll:"W9GZw"};class T extends c.Component{constructor(){super(...arguments),r()(this,"state",i()({indexesToRemove:[],animationType:"none",fetchBlogsIsLoading:!1},this.props.getInitialContent())),r()(this,"apiHelper",(0,C.ZP)(this.props.appContext.apiFetch)),r()(this,"fetchInProgress",null),r()(this,"renderRows",e=>{var s=this.props,a=s.rowTheme,t=s.animationTimeout,i=s.className,n=this.state,r=n.blogs,l=n.indexesToRemove;return r.slice(0,this.getNumberOfBlogsToShow()).map((s,n)=>{var r,c;return(0,j.jsx)("li",{className:Z.blogRowHolder,children:(0,j.jsx)("div",{className:o()(Z.blogRow,{[Z.dismiss]:this.isBlogInAnimationState(n,"dismiss-blog"),[Z.follow]:this.isBlogInAnimationState(n,"follow-blog"),[Z.hide]:this.isBlogInAnimationState(n,"none")}),style:function(e,s,a,t){return s.length>0&&e>Math.max(...s)&&"exiting"===a?{transform:`translateY(-${59*s.length}px)`,transition:`transform ${t}ms ease-out`}:{}}(n,l,e,t),children:(0,j.jsx)(f,{blogName:s.name,blogTitle:null!==(r=s.title)&&void 0!==r?r:"",blogUrl:s.url,avatar:null!==(c=s.avatar)&&void 0!==c?c:[],isFollowed:s.followed,onFollow:s.canBeFollowed?this.animateFollowBlog.bind(this,n):void 0,onClose:this.animateDismissBlog.bind(this,n),rowTheme:a,className:i})})},`${s.name}-${n}`)})}),r()(this,"getNumberOfBlogsToShow",()=>this.props.numberOfBlogsToShow+this.state.indexesToRemove.length),r()(this,"isBlogInAnimationState",(e,s)=>this.state.indexesToRemove.includes(e)&&this.state.animationType===s),r()(this,"fetchBlogs",()=>{var e=this.state.nextLink,s=this.props.appContext.apiFetch;e&&(this.cancelInProgressFetchIfNecessary(),this.fetchInProgress=(0,k.Z)(s(e.href)),this.setState({fetchBlogsIsLoading:!0}),this.fetchInProgress.then(e=>{var s=this.state.blogs,a=(0,this.props.getContentFromResponse)(e),t=a.nextLink,i=a.blogs;this.setState({nextLink:t,blogs:s.concat(i),fetchBlogsIsLoading:!1})}))}),r()(this,"logBlogDismissal",(e,s)=>{Promise.all(s.map(s=>this.apiHelper.logBlogDismissal(e[s].url).fetch()))}),r()(this,"rowRemovalComplete",()=>{var e=this.state,s=e.blogs,a=e.animationType,t=e.indexesToRemove;"dismiss-blog"===a&&this.logBlogDismissal(s,t),this.setState({animationType:"none"})}),r()(this,"removeRow",()=>{var e=this.state,s=e.blogs,a=e.indexesToRemove,t=s.filter(;this.setState({indexesToRemove:[],blogs:t}),t.length<=5&&this.fetchBlogs()}),r()(this,"animateDismissBlog",e=>this.setState({indexesToRemove:[e],animationType:"dismiss-blog"})),r()(this,"animateFollowBlog",e=>this.setState({indexesToRemove:[e],animationType:"follow-blog"})),r()(this,"animateDismissAllBlogs",()=>{var e=this.state.blogs,s=Math.min(this.props.numberOfBlogsToShow,e.length);this.setState({indexesToRemove:(0,y.Z)(0,s),animationType:"dismiss-blog"})}),r()(this,"cancelInProgressFetchIfNecessary",}componentDidMount(){this.fetchBlogs()}componentDidUpdate(e){e.title!==this.props.title&&this.setState(this.props.getInitialContent())}ender(){var e=this.props,s=e.title,a=e.numberOfBlogsToShow,t=e.dismissAllLabel,i=e.appContext._t,n=e.animationTimeout,r=this.state,l=r.blogs,o=r.animationType,c=r.fetchBlogsIsLoading;return!l.length&&c?(0,j.jsx)("div",{className:Z.loadingBlogs,children:(0,j.jsx)(N.Z,{small:!0})}):l.length||c?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("ul",{className:Z.recommendedBlogs,"aria-label":s,style:{height:59*a},children:(0,j.jsx)(d.ZP,{in:"none"!==o,timeout:n,onEntered:()=>{this.rowRemovalComplete()},onExited:children:this.renderRows})}),t&&(0,j.jsx)("div",{className:Z.dismissAll,children:(0,j.jsx)(p.Z,{label:t,onClick:this.animateDismissAllBlogs,children:t})})]}):(0,j.jsx)("span",{className:Z.dashboardEmpty,children:i("No more blogs available.")})}}r()(T,"defaultProps",{numberOfBlogsToShow:4,title:"",animationTimeout:B().postSlideOutDurationInMs});var S=(0,g.HJ)(T);class P extends c.Component{render(){return(0,j.jsx)(S,i()({},this.props))}}r()(P,"defaultProps",T.defaultProps);let L=P},61556:(e,s,a)=>{a.d(s,{Z:()=>f});var t=a(33970),i=a.n(t),n=a(5754),r=a.n(n),l=a(44009),o=a(54382),c=a(90127),d=a(95004),m=a(78994),p=a(20943),h=a(78667),u=a(80328),g=a(89465),v=a(43523),b=a(22424),x=a(58849);let j={button:"sNQra",followButton:"WdYx4",unfollowButton:"tnoMg",linkText:"D2Wgl"};var w=a(2629);let f=e=>{var s=e.tag,a=e.className,t=e.pageName,n=e.isFollowed,f=e.extraStyles,N=e.onFollowChange,C=(0,h.bp)(),k=C._t,y=C._c,I=C.apiFetch,B=C.isLoggedIn,Z=(0,m.TH)().pathname,T=(0,x.h)().openLoginWall,S=(0,b.wL)().logEvent,P=(0,d.useState)(B&&n),L=i()(P,2),z=L[0],O=L[1];(0,d.useEffect)(()=>{B&&void 0===n?(0,p.IR)(I,s).fetch().then(e=>O(!!e.response.following)):O(B&&n)},[B,s,n]);var _=(0,g.k)(Z,"tag_follow_button"),A=(0,u.Z)(_),E=(0,d.useCallback)(()=>{B?(0,p.Wr)(I,s,t).fetch().then(()=>{O(!0),null==N||N(!0)}):(T({action:{type:"followTag",tagLabel:s,page:t,redirect:(0,c.fO)(s)},title:y('Login wall: Title shown when user clicks on the "Follow tag" button, after exceeding click counter limit',"Sign up to follow your favorites…"),text:y('Login wall: Text shown when user clicks on the "Follow tag" button, after exceeding click counter limit',"…and countless others just like them. Create and curate your dashboard experience of all your favorite blogs and tags drawn from your likes, loves, interests, and tastes. Dive in!"),options:{glassOverlay:!0,isDismissible:!0},source:A}),S({eventName:v.J.TagInfoRowFollowClick}))},[B,s,T,N]),M=(0,d.useCallback)(()=>(0,p.to)(I,s,t).fetch().t1)}),[s,N]),D=k("Follow");return B&&void 0===z?null:z?(0,w.jsx)(l.Z,{wrapperClassName:r()(j.button,a),className:j.unfollowButton,onClick:M,label:k("Unfollow this tag"),style:f,children:(0,w.jsx)(o.ZP,{children:"Unfollow"})}):(0,w.jsx)(l.Z,{wrapperClassName:r()(j.button,a),className:j.followButton,onClick:E,label:k("Follow this tag"),style:f,children:(0,w.jsx)("span",{className:j.linkText,children:D})})}},16281:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(19486),i=a(78143),n=a(43523),r=a(22424);let l={tagRibbon:"Y_M3_",pillTag:"HSIaV",pillIcon:"ZsnTE"};var o=a(2629);let c=function(e){var s=e.timelineObject,a=(0,r.wL)().logEven})};return(0,o.jsx)("div",{className:l.tagRibbon,children:s.resources.map(e=>{var s=e.name,a=e.link;return(0,o.jsxs)(i.Z,{tagName:s,className:l.tagLink,toOverride:null==a?void 0:a.href,onClick:()=>c(s),isPill:!0,pillClassName:l.pillTag,children:[(0,o.jsx)("div",{className:l.pillIcon,children:(0,o.jsx)(t.Z,{})}),s]},s)})},s.id)}},30962:(e,s,a)=>{a.d(s,{ZP:()=>tT,l9:()=>tB});var t=a(54138),i=a.n(t),n=a(50209),r=a.n(n),l=a(5754),o=a.n(l),c=a(61556),d=a(78143),m=a(54382),p=a(43523),h=a(78667),u=a(63583),g=a.n(u),v=a(2629);let b=function(e){var s,a,t=e.timelineObject,i=(0,h.bp)().logEvent,n=t.newPostsCount,r=t.newPostsCountInt,l=null!==(s=t.followersCount)&&void 0!==s?s:"0",o=null!==(a=t.followersCountInt)&&void 0!==a?a:0,g=!!t.showFollowersCount,b=!!t.showNewPostsCount;return(0,v.jsxs)("div",{className:"ScibS",children:[(0,v.jsx)(d.Z,{className:"ve9db",tagName:t.hubName,onClick:()=>{i({eventName:p.J.HeaderTapped,eventDetails:{tag:t.hubName}})},children:(0,v.jsxs)("div",{className:"uQnmG",style:{backgroundImage:`linear-gradient(${u.transparentBlack7}, ${u.transparentBlack65}), url("${t.headerImage}")`},children:[(0,v.jsxs)("div",{className:"zGQaS",children:["#",t.hubName]}),(0,v.jsxs)("div",{className:"iqdyd",children:[g&&(0,v.jsxs)(m.M2,{comment:"The number of followers this topic has. Placeholder is the count of followers",exemptNumberKeyFromParamCheck:!0,components:{b:(0,v.jsx)("b",{})},params:{followersCount:l},number:o,children:[(0,v.jsx)(m.CJ,{children:"[followersCount] follower"}),(0,v.jsx)(m.CN,{children:"[b][followersCount][/b] followers"})]}),g&&b&&" / ",b&&(0,v.jsxs)(m.M2,{comment:"The number of posts this topic has had recently. Placeholder is the count of posts",exemptNumberKeyFromParamCheck:!0,components:{b:(0,v.jsx)("b",{})},params:{newPostsCount:n},number:r,children:[(0,v.jsx)(m.CJ,{children:"[newPostsCount] recent post"}),(0,v.jsx)(m.CN,{children:"[b][newPostsCount][/b] recent posts"})]})]})]})}),(0,v.jsx)(c.Z,{tag:t.hubName,isFollowed:t.isFollowed,pageName:"search",className:"LGuOI"})]},t.hubName)};var x=a(80562),j=a(9421),w=a(38149),f=a(96467),N=a.n(f),C=a(22424);let k=e=>{var s,a,t=e.timelineObject,i=(0,C.wL)().logEvent,n=t.newPostsCount,r=t.newPostsCountInt,l=null!==(s=t.followersCount)&&void 0!==s?s:"0",o=null!==(a=t.followersCountInt)&&void 0!==a?a:0,h=!!t.showFollowersCount,g=!!t.showNewPostsCount,b=null;return g?b=(0,v.jsxs)(m.M2,{comment:"The number of posts this topic has had recently. Placeholder is the count of posts",exemptNumberKeyFromParamCheck:!0,components:{b:(0,v.jsx)("b",{})},params:{newPostsCount:n},number:r,children:[(0,v.jsx)(m.CJ,{children:"[newPostsCount] recent post"}),(0,v.jsx)(m.CN,{children:"[b][newPostsCount][/b] recent posts"})]}):h&&(b=(0,v.jsxs)(m.M2,{comment:"The number of followers this topic has. Placeholder is the count of followers",exemptNumberKeyFromParamCheck:!0,components:{b:(0,v.jsx)("b",{})},params:{followersCount:l},number:o,children:[(0,v.jsx)(m.CJ,{children:"[followersCount] follower"}),(0,v.jsx)(m.CN,{children:"[b][followersCount][/b] followers"})]})),(0,v.jsxs)("div",{className:"u8J1W",children:[(0,v.jsxs)(d.Z,{className:"MgGEG",tagName:t.hubName,onClick:()=>{i({eventName:p.J.SearchResultsTagElementTap,eventDetails:{tag:t.hubName}})},children:[(0,v.jsx)("div",{className:"ZqH9E",children:(0,v.jsx)(w.pC,{imageResponse:[{url:t.image,width:N().desktopPostAvatarSize,height:N().desktopPostAvatarSize}],isSquare:!0,altText:t.hubName,sizes:`${N().desktopPostAvatarSize}px`})}),(0,v.jsxs)("div",{className:"wVZAK",children:[(0,v.jsxs)("div",{className:"hIUaH",children:["#",t.hubName]}),(0,v.jsx)("div",{className:"M523y",children:b})]})]}),(0,v.jsx)("div",{className:"hc4QI",children:(0,v.jsx)(c.Z,{tag:t.hubName,isFollowed:t.isFollowed,pageName:"search",extraStyles:{backgroundColor:"transparent",color:u.paletteAccent,border:"none"}})})]},t.id)};var y=a(16281),I=a(44009),B=a(26216),Z=a(64560),T=a(22979),S=a(87517),P=a(51400),L=a(45051),z=a(74446),O=a(93613);let _={announcement:"Te4Pg",title:"RUFdS",options:"YEJRy",option:"GVCZ4",selected:"CFBrV",discreet:"bdzlZ"},A=(0,B.s)(e=>{var s=e.timelineObject,a=(0,C.wL)().logEvent,t=(0,h.bp)().apiFetch,n=(0,z.i)().onRemoveTimelineObject,r=(0,O.V)().toggleToast,l=(e,s,t)=>{a({eventName:p.J.BannerActionClick,eventDetails:{is_dismiss:e,action_label:s,banner_id:t}})},c=e=>e.onTap===T.sq.Dismiss?d:L.Z,d=e=>{null==n||n({id:s.id}),null!=e&&e.response&&(null==r||r(e.response.message))},m=(e,s)=>{switch(l(s.onTap===T.sq.Dismiss,s.text,null==u?void 0:u.bannerId),e){case Z.U.Web:c(s)();break;case Z.U.Action:var a=(0,S.Z)(s.link,t,c(s));null==a||a()}},u=(0,P.w)(s);if(!u)return null;var g=(e,s,a,t)=>{var n=e.text,r=e.displayType,l=e.link,c=l.type,d=l.href,p=l.launchNewTab,h={className:o()(_.option,{[_.selected]:r===T.pI.Selected,[_.discreet]:r===T.pI.Discreet}),key:n,label:n},u={};a&&s&&(u.backgroundColor=r===T.pI.Selected?t:s,u.color=r===T.pI.Selected?s:t);var g=nc,e)};switch(c){case Z.U.Web:g=(0,v.jsx)("a",i()(i()({},h),{},{href:d,target:!1===p?"_self":"_blank",rel:"noopener",onClick:b,style:u,children:n}));break;case Z.U.Action:g=(0,v.jsx)(I.Z,i()(i()({},h),{},{style:u,onClick:b,children:n}))}return g},b=u.title,x=u.options,j=u.buttonColor,w=u.backgroundColor,f=u.textColor,N=x&&x.length>0?(0,v.jsx)("div",{className:_.options,children:,w,f))}):null,k={};return u.backgroundColor&&u.textColor&&(k.backgroundColor=u.backgroundColor,k.color=u.textColor),(0,v.jsxs)("div",{className:_.announcement,style:k,children:[(0,v.jsx)("h3",{className:_.title,children:b}),N]})});var E=a(95004),M=a(98384);let D={answerTimeBanner:"tDrb8",leftContent:"r46S_",image:"EhYXO"},F=(0,B.s)(e=>{var s,a=e.timelineObject,t=a.text,i=a.iconUrl,n=a.links,r=a.placementId,l=(0,C.wL)().logEvent,o=(0,E.useCallback)(()=>{l({eventName:p.J.Click,eventDetails:{placement_id:r}})},[l,r]),c=i?[{url:i,height:64,width:64}]:null;return(0,v.jsxs)("a",{className:D.answerTimeBanner,href:null===(s=n.destination)||void 0===s?void 0:s.href,target:"_blank",rel:"noopener",onClick:o,children:[(0,v.jsxs)("div",{className:D.leftContent,children:[c&&(0,v.jsx)("figure",{className:D.image,children:(0,v.jsx)(w.pC,{sizes:"25px",imageResponse:c,isSquare:!0})}),(0,v.jsx)("div",{className:D.description,children:t})]}),(0,v.jsx)("div",{className:D.caret,children:(0,v.jsx)(M.iL,{colors:{primary:g().paletteTransparentWhite65},size:{height:13,width:13}})})]})});var R=a(33970),q=a.n(R),W=a(17287),U=a(64741),$=a(6233),H=a(18488),J=a(43166);let G={container:"v4Qva",blazeAgainButton:"_FSbg",contactSupportButton:"tClC2"},V=e=>{var s=e.className,a=e.onClickContactSupport,t=e.onClickBlazeAgain,i=(0,h.bp)(),n=i.wwwBaseUrl,r=i._c,l=(0,J.b8)().post.canBlaze,c=r("Blaze again button","Blaze again"),d=r("Contact support button","Contact support");return(0,v.jsxs)("div",{className:o()(G.container,s),children:[(0,v.jsx)(H.Z,{className:G.contactSupportButton,onClick:a,label:d,theme:"border",feature:!1,href:`${n}/support`,children:(0,v.jsx)("span",{children:d})}),l&&(0,v.jsx)(I.Z,{wrapperClassName:G.blazeAgainButton,onClick:t,label:c,children:c})]})};var K=a(41185),X=a(67023),Y=a(83436),Q=a(69956);let ee={header:"ktZLq",activity:"M8EEV",content:"QCP_G",title:"ibxKI",boppNotice:"MEM8E",blazeIcon:"yRcwV",intro:"w9XYs"},es=e=>{var s,a=e.className,t=e.campaignInfo,n=(0,h.bp)(),r=n._getLocaleDateString,l=n._getLocaleNumberString,c=(0,J.b8)().post,d=t.startTime,u=t.endTime,b=t.impressionGoal,x=t.status,j=t.isSingleUserBlaze,w=t.userIsBlazer,f=t.userIsBlazee,N=t.blazerBlog,C=!(void 0===j||j)&&(!!w||!!f)&&!!N,k=(0,v.jsx)(W.Z,{blog:N,krakenEventName:p.J.Posts,children:null==N?void 0:N.name}),y=(0,v.jsx)(W.Z,{blog:c.blog,krakenEventName:p.J.Posts,children:c.blogName});switch(x){case"completed":s=(0,v.jsx)(m.ZP,{comment:"Blaze campaign activity intro message",params:{impressionGoal:l(b),startDate:r(new Date(1e3*d),X.C.NumericDayMonthShortYear,!0),endDate:r(new Date(1e3*u),X.C.NumericDayMonthShortYear,!0)},children:"Your campaign was live for 24h from [startDate] - [endDate] and aimed to reach [impressionGoal] impressions."});break;case"extinguished":s=(0,v.jsx)(m.ZP,{comment:"Blaze campaign activity intro message for extinguished campaigns",params:{impressionGoal:l(b),startDate:r(new Date(1e3*d),X.C.NumericDayMonthShortYear,!0)},children:"Your campaign was active on [startDate] and aimed to reach [impressionGoal] impressions, but it was stopped before it finished."});break;default:return(0,Y.m)(x)}return(0,v.jsxs)("div",{className:o()(ee.header,a),children:[(0,v.jsxs)("div",{className:ee.activity,children:[(0,v.jsx)("h1",{className:ee.title,children:(0,v.jsx)(m.ZP,{comment:"Blaze campaign graph Activity title",children:"Activity"})}),C&&(0,v.jsxs)("div",{className:ee.boppNotice,children:[(0,v.jsx)(Q.Z,{className:ee.blazeIcon,size:{width:16,height:20},colors:{primary:g().paletteBlack,accent:g().paletteBlack,background:g().paletteBlack}}),w&&(0,v.jsx)(m.ZP,{comment:"Label description for a Blazed post, blazed an other's user post",components:{blazerBlogLink:y},children:"You Blazed a post made by [blazerBlogLink/]."}),f&&!w&&(0,v.jsx)(m.ZP,{comment:"Label description for a Blazed post, blazed from an other user",components:{blazeeBlogLink:k},children:"Your post Blazed by [blazeeBlogLink/]."})]}),(0,v.jsx)("p",{className:ee.intro,children:s})]}),(0,v.jsx)("div",{className:ee.content,children:(0,v.jsx)(K.C,i()({},c))})]})};var ea=a(39541),et=a(91086),ei=a(53714),en=a(25190),er=a(43684);let el=e=>{var s=e.children,a=(0,en.v$)().isSmartphone,t=(0,E.useState)(!1),i=q()(t,2),n=i[0],r=i[1],l=()=>r(!n);return a?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(et.Z,{size:{height:15,width:15},colors:{primary:u.paletteBlack},onClick:l}),(0,v.jsx)(ea.Z,{glassCallback:l,position:"bottom",isOpen:n,isAboveOverlays:!0,children:s})]}):(0,v.jsx)(ei.ZP,{position:er.I2.RightStart,width:f.blazeInsightsPopoverWidth,component:s,type:er.Oj.Hover,isOpen:n,toggle:l,children:(0,v.jsx)(et.Z,{size:{height:15,width:15},colors:{primary:u.paletteBlack}})})},eo={popover:"sDsUc",header:"L7mvX",title:"ongB1",emoji:"sEal0"},ec=e=>{var s=e.title,a=e.titleEmoji,t=e.description;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:eo.title,children:[(0,v.jsx)("span",{role:"img","aria-label":"",className:eo.emoji,children:a}),s]}),(0,v.jsx)("p",{children:t})]})},ed=()=>(0,v.jsxs)("div",{className:eo.popover,children:[(0,v.jsx)("div",{className:eo.header,children:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: header title",children:"What does this mean?"})}),(0,v.jsx)("p",{children:(0,v.jsx)(m.ZP,{comment:"Blaze campaign engagements popover: description",children:"This is a breakdown of engagements your Blazed post received during its campaign."})}),(0,v.jsx)(ec,{titleEmoji:"\uD83E\uDDE1",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: engagements section title",children:"Engagements"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign engagements popover: engagements description",children:"This refers to actions your post received when someone viewed your post (reblogs, likes, shares, follows, clicks, replies). How many times your post received an action (reblogs, likes, shares, follows, clicks, replies)."})}),(0,v.jsx)(ec,{titleEmoji:"\uD83D\uDCB0",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: paid section title",children:"Paid"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign engagements popover: paid description",children:"The amount from paid impressions are a direct result from when your Blaze campaign ran."})}),(0,v.jsx)(ec,{titleEmoji:"✨",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: earned section title",children:"Earned"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign engagements popover: earned description",children:"The amount earned is from people spreading your post further, and aren't a direct result of impressions you paid for."})})]}),em=()=>(0,v.jsxs)("div",{className:eo.popover,children:[(0,v.jsx)("div",{className:eo.header,children:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: header title",children:"What does this mean?"})}),(0,v.jsx)("p",{children:(0,v.jsx)(m.ZP,{comment:"Blaze campaign overview popover: description",children:"This is a summary of total impressions and engagements your Blazed post received during its campaign."})}),(0,v.jsx)(ec,{titleEmoji:"\uD83D\uDC40",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: impressions section title",children:"Impressions"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign overview popover: impressions description",children:"How many times your post was put in front of another person."})}),(0,v.jsx)(ec,{titleEmoji:"\uD83E\uDDE1",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: engagements section title",children:"Engagements"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign overview popover: engagements description",children:"How many times your post received an action (reblogs, likes, shares, follows, clicks, replies)."})}),(0,v.jsx)(ec,{titleEmoji:"\uD83D\uDCB0",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: paid section title",children:"Paid"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign overview popover: paid description",children:"Paid impressions and engagements are a direct result from your paid Blaze campaign."})}),(0,v.jsx)(ec,{titleEmoji:"✨",title:(0,v.jsx)(m.ZP,{comment:"Blaze campaign popover: earned section title",children:"Earned"}),description:(0,v.jsx)(m.ZP,{comment:"Blaze campaign overview popover: earned description",children:"Earned impressions and engagements are from people spreading your post further, and aren't a direct result of impressions you paid for."})})]});var ep=a(36343),eh=(0,ep.q)("followers");eh.defaultProps={size:{width:25,height:24}};var eu=a(54916),eg=(0,ep.q)("pointer");eg.defaultProps={size:{width:24,height:24}};var ev=a(82145),eb=a(17635),ex=a(22790),ej=a(90085);let ew={container:"HaeOc",title:"uit_7",topIcons:"yi4Zv",leftIcons:"GgZbk",icons:"j63Zg",description:"zi9vL"};var ef={width:14,height:14},eN=u.paletteBlack;let eC=e=>{var s,a,t,i,n,r,l,o,c=e.metric,d=e.campaignInfo,p=(0,h.bp)()._getLocaleNumberString;switch(c){case"impressions":s=d.totalImpressions,a=d.sponsoredImpressions,t=d.earnedImpressions,o="top",l=(0,v.jsx)(ej.Z,{size:ef,colors:{primary:eN}}),i=(0,v.jsx)(m.ZP,{comment:"Impressions section title of a Blaze campaign",children:"Impressions"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X impressions from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X impressions earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"engagements":s=d.totalEngagements,a=d.sponsoredEngagements,t=d.earnedEngagements,o="top",l=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ev.Z,{isRounded:!0,size:ef,colors:{primary:eN}}),(0,v.jsx)(eu.Z,{filled:!1,emptyIconColors:{primary:eN},size:ef}),(0,v.jsx)(ex.Z,{size:ef,colors:{primary:eN}}),(0,v.jsx)(eh,{size:{width:16,height:15},colors:{primary:eN}}),(0,v.jsx)(eg,{size:{width:15,height:15},colors:{primary:eN}}),(0,v.jsx)(eb.Z,{size:ef,filled:!1,emptyIconColors:{primary:eN}})]}),i=(0,v.jsx)(m.ZP,{comment:"Engagements section title of a Blaze campaign",children:"Engagements"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X engagements from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X engagements earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"reblogs":s=d.totalReblogs,a=d.sponsoredReblogs,t=d.earnedReblogs,o="left",l=(0,v.jsx)(ev.Z,{isRounded:!0,size:ef,colors:{primary:eN}}),i=(0,v.jsx)(m.ZP,{comment:"Reblogs section title of a Blaze campaign",children:"Reblogs"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X reblogs from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X reblogs earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"likes":s=d.totalLikes,a=d.sponsoredLikes,t=d.earnedLikes,o="left",l=(0,v.jsx)(eu.Z,{filled:!1,emptyIconColors:{primary:eN},size:ef}),i=(0,v.jsx)(m.ZP,{comment:"Likes section title of a Blaze campaign",children:"Likes"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X likes from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X likes earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"shares":s=d.totalShares,a=d.sponsoredShares,t=d.earnedShares,o="left",l=(0,v.jsx)(ex.Z,{size:ef,colors:{primary:eN}}),i=(0,v.jsx)(m.ZP,{comment:"Shares section title of a Blaze campaign",children:"Shares"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X shares from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X shares earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"follows":s=d.totalFollows,a=d.sponsoredFollows,t=d.earnedFollows,o="left",l=(0,v.jsx)(eh,{size:{width:16,height:15},colors:{primary:eN}}),i=(0,v.jsx)(m.ZP,{comment:"Follows section title of a Blaze campaign",children:"Follows"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X follows from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X follows earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"clicks":s=d.totalClicks,a=d.sponsoredClicks,t=d.earnedClicks,o="left",l=(0,v.jsx)(eg,{size:{width:15,height:15},colors:{primary:eN}}),i=(0,v.jsx)(m.ZP,{comment:"Clicks section title of a Blaze campaign",children:"Clicks"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X clicks from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X clicks earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]});break;case"replies":s=d.totalReplies,a=d.sponsoredReplies,t=d.earnedReplies,o="left",l=(0,v.jsx)(eb.Z,{size:ef,filled:!1,emptyIconColors:{primary:eN}}),i=(0,v.jsx)(m.ZP,{comment:"Replies section title of a Blaze campaign",children:"Replies"}),n=(0,v.jsx)(m.ZP,{comment:"Blaze campaign: Abbreviation of X replies from paid impressions",params:{count:p(a,"compact")},children:"[count] from paid impressions"}),r=(0,v.jsxs)(m.M2,{comment:"Blaze campaign: Abbreviation of X replies earned",number:t,formatNumberWithLocale:!0,children:[(0,v.jsx)(m.CJ,{children:"[number] earned"}),(0,v.jsx)(m.CN,{children:"[number] earned"})]})}return(0,v.jsxs)("div",{className:ew.container,children:[(0,v.jsxs)("div",{className:ew.title,children:[(0,v.jsxs)("div",{className:"top"===o?ew.topIcons:ew.leftIcons,children:[(0,v.jsx)("span",{className:ew.icons,children:l}),(0,v.jsx)("h3",{children:i})]}),(0,v.jsx)("p",{children:p(s,"compact")})]}),(0,v.jsxs)("div",{className:ew.description,children:[(0,v.jsx)("p",{children:n}),(0,v.jsx)("p",{children:r})]})]})};var ek=a(48352);let ey={body:"pxXIi",title:"Q3Wzh",section:"ARWH6",metricsContainer:"AuVKd"},eI=e=>{var s=e.campaignInfo,a=e.onClickContactSupport,t=e.onClickBlazeAgain,i=(0,h.bp)()._c;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ek.Z,{page:"BlazeInsights"}),(0,v.jsx)(es,{campaignInfo:s}),(0,v.jsxs)("div",{className:ey.body,children:[(0,v.jsxs)("section",{role:"contentinfo","aria-label":i("Blaze campaign Overview section title","Overview"),className:ey.section,children:[(0,v.jsxs)("h1",{className:ey.title,children:[(0,v.jsx)(m.ZP,{comment:"Blaze campaign Overview section title",children:"Overview"}),(0,v.jsx)(el,{children:(0,v.jsx)(em,{})})]}),(0,v.jsxs)("div",{className:ey.metricsContainer,children:[(0,v.jsx)(eC,{metric:"impressions",campaignInfo:s}),(0,v.jsx)(eC,{metric:"engagements",campaignInfo:s})]})]}),(0,v.jsxs)("section",{role:"contentinfo","aria-label":i("Engagements section title of a Blaze campaign","Engagements"),className:ey.section,children:[(0,v.jsxs)("h1",{className:ey.title,children:[(0,v.jsx)(m.ZP,{comment:"Engagements section title of a Blaze campaign",children:"Engagements"}),(0,v.jsx)(el,{children:(0,v.jsx)(ed,{})})]}),(0,v.jsxs)("div",{className:ey.metricsContainer,children:[(0,v.jsx)(eC,{metric:"reblogs",campaignInfo:s}),(0,v.jsx)(eC,{metric:"likes",campaignInfo:s}),(0,v.jsx)(eC,{metric:"shares",campaignInfo:s}),(0,v.jsx)(eC,{metric:"follows",campaignInfo:s}),(0,v.jsx)(eC,{metric:"clicks",campaignInfo:s}),(0,v.jsx)(eC,{metric:"replies",campaignInfo:s})]})]}),(0,v.jsx)(V,{onClickContactSupport:a,onClickBlazeAgain:t})]})]})};var eB=a(55015);let eZ={container:"leVy7",blazeAgainButton:"cWqN5",actionButton:"YzmTr"};var eT=e=>{var s=e.canBlaze,a=e.campaignStatus,t=e.onClickBlazeAgain,i=e.onClickViewInsights,n=e.onClickExtinguish,r=(0,h.bp)(),l=r.features,o=r._c,c=l.tumblrBlazeLandingPageCampaignInsights,d=o("Blaze again button","Blaze again"),m=o("View Blaze insights button","Insights"),p=o("Extinguish campaign button","Extinguish"),u=ez(a),g=eO(a);return(0,v.jsxs)("div",{className:eZ.container,children:[c&&u&&(0,v.jsx)(I.Z,{wrapperClassName:eZ.actionButton,onClick:i,label:m,children:m}),"rejected"!==a&&s&&(0,v.jsx)(I.Z,{wrapperClassName:eZ.blazeAgainButton,onClick:t,label:d,children:d}),g&&(0,v.jsx)(I.Z,{wrapperClassName:eZ.actionButton,onClick:n,label:p,children:p})]})},eS=e=>{var s=e.className,a=e.iconSize,t=void 0===a?{width:22,height:20}:a,i=e.itemClassName,n=e.impressions,r=e.likes,l=e.reblogs,c=e.shares,d=(0,h.bp)(),m=d._cn,p=d._getLocaleNumbeact"):"0",b=e=>{var s=e.icon,a=e.ariaLabel,t=e.amount;return(0,v.jsxs)("div",{className:o()("rQBeX",i),children:[s,(0,v.jsx)("p",{className:"N1Jhz","aria-label":a,children:t})]})};return(0,v.jsxs)("div",{className:o()("yCNr1",s),children:[(0,v.jsx)(b,{icon:(0,v.jsx)(ej.Z,{size:t,colors:{primary:u.paletteGray80}}),ariaLabel:m("Accessibility label for the number of impressions of a Blaze campaign","%1$s impression","%1$s impressions",n),amount:g(n)}),(0,v.jsx)(b,{icon:(0,v.jsx)(eu.Z,{filled:!1,size:t,emptyIconColors:{primary:u.paletteGray80}}),ariaLabel:m("Accessibility label for the number of likes of a Blaze campaign","%1$s like","%1$s likes",r),amount:g(r)}),(0,v.jsx)(b,{icon:(0,v.jsx)(ev.Z,{isRounded:!0,size:t,colors:{primary:u.paletteGray80}}),ariaLabel:m("Accessibility label for the number of reblogs of a Blaze campaign","%1$s reblog","%1$s reblogs",l),amount:g(l)}),(0,v.jsx)(b,{icon:(0,v.jsx)(ex.Z,{size:t,colors:{primary:u.paletteGray80}}),ariaLabel:m("Accessibility label for the number of shares of a Blaze campaign","%1$s share","%1$s shares",c),amount:g(c)})]})},eP=a(18060);let eL={post:"IOzxh",container:"NRB1z",left:"eFAeT",postTitleContainer:"C3OQ9",right:"NDFeY",status:"ODi7v",active:"Bqx1i",pending:"eKTP_",date:"YCfHE",descriptionContainer:"_wwjA",metrics:"n2TrC",metric:"osXRO",content:"YY6ov",postContainer:"xSly9"};var ez=e=>["completed","extinguished"].inclucludes(e),e_=e=>{var s,a=e.timelineObject,t=(0,h.bp)(),n=t._c,r=t._getLocaleDateString,l=t.isAdmin,c=(0,C.wL)().logEvent,d=(0,E.useState)(!1),u=q()(d,2),g=u[0],b=u[1],x=(0,E.useState)(!1),j=q()(x,2),w=j[0],f=j[1],N=(0,en.v$)().isSmartphone,k=a.status,y=a.createdAt,I=a.sponsoredImpressions,B=a.earnedImpressions,Z=a.sponsoredLikes,T=a.earnedLikes,S=a.sponsoredReblogs,P=a.earnedReblogs,L=a.sponsoredShares,z=a.earnedShares,O=a.isSingleUserBlaze,_=a.userIsBlazer,A=void 0===_||_,M=a.userIsBlazee,D=a.blazerBlog,F=a.post,R=F.canBlaze,H=F.blogName,G={post:F,presentationStyle:eB.Z.blaze},V=()=>b>f(e=>!e),Q=(0,U.y4)().baainTap})};switch(k){case"approved":s=n("Blaze campaign status: Approved","Approved");break;case"canceled":s=n("Blaze campaign status: Canceled","Canceled");break;case"completed":s=n("Blaze campaign status: Completed","Completed");break;case"created":s=n("Blaze campaign status: Created","Created");break;case"extinguished":s=n("Blaze campaign status: Extinguished","Extinguished");break;case"pending":s=n("Blaze campaign status: Pending","Pending");break;case"rejected":s=n("Blaze campaign status: Rejected","Rejected")}var es=D?(0,v.jsx)(W.Z,{blog:D,krakenEventName:p.J.Posts,children:null==D?void 0:D.name}):(0,v.jsx)("span",{children:null==D?void 0:D.name}),ea=F?(0,v.jsx)(W.Z,{blog:F.blog,krakenEventName:p.J.Posts,children:H}):(0,v.jsx)("span",{children:H});return(0,v.jsx)(J.Mj.Provider,{value:G,children:(0,v.jsx)(eP.Bp.Provider,{value:{blazeCampaign:a},children:(0,v.jsxs)("article",{className:eL.post,children:[(0,v.jsxs)("div",{className:eL.container,children:[(0,v.jsxs)("div",{className:eL.left,children:[(0,v.jsxs)("div",{className:eL.postTitleContainer,children:[(0,v.jsx)("div",{className:eL.content,children:(0,v.jsx)("div",{className:eL.postContainer,children:(0,v.jsx)(K.Z,{timelineObject:F,openInPeepr:!0,showHover:!1})})}),(0,v.jsxs)("div",{className:eL.title,children:[(0,v.jsx)("div",{className:o()(eL.status,{[eL.active]:"approved"===k,[eL.pending]:"pending"===k}),children:s}),(0,v.jsx)("div",{className:eL.date,children:r(new Date(1e3*y),X.C.Notes,!0)})]})]}),!(void 0===O||O)&&(0,v.jsxs)("div",{className:eL.descriptionContainer,children:[A&&(0,v.jsx)(m.ZP,{comment:"Label description for a Blazed post, blazed an other's user post",components:{blazerBlogLink:ea},children:"You sponsored [blazerBlogLink/]'s post"}),void 0!==M&&M&&!A&&(0,v.jsx)(m.ZP,{comment:"Label description for a Blazed post, blazed from an other user",components:{blazeeBlogLink:es},children:"Sponsored by [blazeeBlogLink/] with Blaze"})]})]}),(0,v.jsxs)("div",{className:eL.right,children:[(0,v.jsx)(eS,{className:eL.metrics,itemClassName:eL.metric,iconSize:{height:16,width:18},impressions:I+B,likes:Z+T,reblogs:S+P,shares:L+z}),(0,v.jsx)(eT,{canBlaze:R,campaignStatus:k,onClickBlazeAgain:ee,onClickViewInsights:()=>{Y(),c({eventName:p.J.ScreenView,page:"BlazeInsights"})},onClickExtinguish:()=>{V(),"approved"===k?c({eventName:p.J.BlazeExtinguished,eventDetails:{is_admin:l},page:Q}):c({eventName:p.J.BlazeCanceled,eventDetails:{is_admin:l},page:Q})}})]})]}),(0,v.jsx)(U.ZP,{productPopoverIsOpen:g,toggleProductPopover:V}),ez(k)&&w&&(0,v.jsx)($.Z,{theme:N?$.L.Default:$.L.Rounded,modalWrapperClass:"blazeInsights",onClose:Y,children:(0,v.jsx)(eI,{campaignInfo:i()(i()({},a),{},{status:k}),onClickBlazeAgain:ee,onClickContactSupport:()=>{c({eventName:p.J.BlazeLandingPageSupportTap,eventDetails:{sendPayloadImmediately:!0}})}})})]})})})},eA=a(18997),eE=a(31571),eM=a(86148);let eD=e=>{var s=e.className,a=e.rowTheme,t=e.avatar,n=e.avatarShape,r=e.blogName,l=e.blogTitle,c=e.blogUrl,d=e.onFollow,m=e.isFollowed,p=(0,v.jsx)(eE.Z,{following:!!m,blogName:r,blogUrl:c,onFollow:d,className:o()(eM.Z.blogRowFollowButton,"r6SOU"),showUnfollowText:!0});return(0,v.jsx)("div",{className:"wtNDp",children:(0,v.jsx)(eA.Z,i()(i()({},{avatar:t,avatarShape:n,blogName:r,blogTitle:l,blogUrl:c,className:s}),{},{floatingButton:p,theme:a||"dark",openBlogCard:"body",isMobile:!1}))})},eF=e=>{var s,a=e.timelineObject,t=(0,h.bp)().isLoggedIn,i=(0,E.useState)(void 0),n=q()(i,2),r=n[0],l=n[1],o=a.resources[0];if(!o)return null;var c=null!=r?r:o.followed;return(0,v.jsx)(eD,{className:"l6TJ6",avatar:o.avatar,avatarShape:null===(s=o.theme)||void 0===s?void 0:s.avatarShape,blogName:o.name,blogTitle:o.title,blogUrl:o.url,isFollowed:c,onFollow:()=>{t&&l(!c)}},a.id)},eR=e=>{var s,a=e.timelineObject,t=(0,h.bp)().isLoggedIn,i=(0,E.useState)(void 0),n=q()(i,2),r=n[0],l=n[1],o=a.resources[0];if(!o)return null;var c=null!=r?r:o.followed;return(0,v.jsx)(eD,{avatar:o.avatar,avatarShape:null===(s=o.theme)||void 0===s?void 0:s.avatarShape,blogName:o.name,blogTitle:o.title,blogUrl:o.url,isFollowed:ct&&l(!c)},rowTheme:"blog"},a.id)};var eq=a(30420);let eW={ctaCard:"YPDbZ",ctaContent:"vUbJS",withImage:"Qb2yW",text:"oPeFl",textPositionTop:"c49bG",textPositionBottom:"u0WK9",button:"KQzUb",ctaAction:"ZGCkJ"},eU=e=>{var s,a,t,i=e.ctaCard,n=e.onActionClick,r=e.isDoingAction,l=!!(null!==(s=i.image)&&void 0!==s&&s.response),c=(null===(a=i.image)||void 0===a?void 0:a.textPosition)||T.Bk.Middle;return(0,v.jsxs)("div",{className:eW.ctaCard,children:[(0,v.jsxs)("div",{className:o()(eW.ctaContent,{[eW.withImage]:l,[eW.textPositionTop]:c===T.Bk.Top,[eW.textPositionMiddle]:c===T.Bk.Middle,[eW.textPositionBottom]:c===T.Bk.Bottom}),children:[(null===(t=i.image)||void 0===t?void 0:t.response)&&(0,v.jsx)(w.Sw,{imageResponse:i.image.response,altText:i.text,sizes:""}),(0,v.jsx)("p",{className:eW.text,children:i.text})]}),(0,v.jsx)(I.Z,{disabled:void 0!==r&&r,className:eW.ctaAction,onClick:n,wrapperClassName:eW.button,children:i.buttonText})]})};var e$=(e,s)=>{var a=i()(i()({},e.bodyParams),{},{cardIndex:s.toString()});return i()(i()({},e),{},{bodyParams:a})};let eH=e=>{var s=e.timelineObject,a=s.campaignName,t=s.dismissal,i=s.elements,n=s.id,r=(0,E.useState)(!1),l=q()(r,2),c=l[0],d=l[1],m=(0,E.useState)(0),g=q()(m,2),b=g[0],x=g[1],j=(0,h.bp)(),w=j._t,f=j.apiFetch,N=(0,C.wL)().logEvent,k=(0,z.i)().onRemoveTimelin=()=>i[b],B=e=>{N({eventName:p.J.TimeLineCTAClick,eventDetails:{is_dismissal:e,campaign_name:a,card_indek({id:n}),P=()=>{var e=y().action;B(!1),e?e.type===Z.U.Web?L(t.options[0].link,O):L(e,_):_()},L=(e,s)=>{d(!0),(0,S.Z)(e,f,s)()},O=()=>{var e=y().action.href;e&&window.location.assign(e)},_=()=>{i.length===b+1?T():(d(!1),x(b+1))};return(0,v.jsxs)("div",{className:"AYRVj",children:[i.map((e,s)=>(0,v.jsx)("div",{className:o()("jCB92",{FYQEO:s===b}),children:(0,v.jsx)(eU,{isDoingAction:c,ctaCard:e,onActionClick:P})},s)),(0,v.jsx)(I.Z,{disabled:c,className:"HIc07",onClick:()=>{var e=e$(t.options[0].link,b);B(!0),L(e,T)},label:w("Close"),children:(0,v.jsx)(eq.Z,{colors:{primary:u.paletteTransparentWhite13}})})]})};var eJ=a(16355);let eG=a.p+"src/assets/images/tour-guide/heart border 1-4729e853.svg",eV=a.p+"src/assets/images/tour-guide/heart border 2-75fd75aa.svg",eK=a.p+"src/assets/images/tour-guide/reblog border 1-c1d9d794.svg",eX=a.p+"src/assets/images/tour-guide/reblog border 2-c93a5638.svg";var eY=a(75773);let eQ={celebration:"t3dLo",heading:"D1IY6",body:"y7aw1",button:"ZKWeK"},e0=e=>{var s,a,t=e.timelineObject,i=t.celebrationType,n=t.title,r=t.body,l=t.button,o=(0,C.wL)().logEvent;switch(i){case"first_like":s=eG,a=eV;break;case"first_reblog":s=eK,a=eX}return(0,v.jsxs)("div",{className:eQ.celebration,children:[s&&(0,v.jsx)("img",{className:eQ.topImage,alt:"",src:s}),(0,v.jsx)("h1",{className:eQ.heading,children:(0,v.jsx)(eY.Z,{text:n})}),(0,v.jsx)("p",{className:eQ.body,children:r}),l&&(0,v.jsx)(W.Z,{onClick:()=>{o({eventName:p.J.CelebrationCTAClicked,eventDetails:{celebrationType:i}})},href:l.links.tap.href,className:eQ.button,showBlogCard:!1,children:l.label}),a&&(0,v.jsx)("img",{className:eQ.bottomImage,alt:"",src:a})]})};var e1=e=>{var s=e.timelineObject,a=s.title,t=s.body;return(0,v.jsxs)("div",{className:"Lriof",children:[(0,v.jsx)("div",{className:"ihB_7",children:a}),(0,v.jsx)("div",{className:"KOEvW",children:t})]})},e2=a(34728);let e4={hrWithLabel:"r64Rl",text:"ndiCy",lineChunk:"h6feK"},e3=e=>{var s=e.timelineObject,a=s.lineColor,t=s.labelContentBlock,i={borderColor:a};return(0,v.jsxs)("div",{className:e4.hrWithLabel,children:[(0,v.jsx)("div",{className:e4.lineChunk,style:i}),(0,v.jsx)("div",{className:e4.text,children:(0,e2.Q7)(t.text,t.formatting)}),(0,v.jsx)("div",{className:e4.lineChunk,style:i})]})};var e5=a(71169),e6=a(31231),e8=a(25769),e9=a(92183),e7=a(5700),se=a(1337),ss=a(31679);let sa=e=>{var s=e.location,a=void 0===s?e9.E.DASHBOARD:s,t=e.ad,i=e.adServed,n=e.supplyOpportunityInstanceId,r=e.streamPosition,l=e.presentationStyle,c=e.onFilled,d=e.onEmpty,m=e.onError,u=(0,h.bp)(),g=u.features,b=u._c,x=(0,C.wL)().logEvent,j=(0,O.V)().toggleToast,w=(0,E.useRef)(null),f=(0,E.useState)(!1),N=q()(f,2),k=N[0],y=N[1],I=(0,ss.b)().sendClickADMBeacon,B=e=>{(0,se.G)(e,w.current,x,j,b),y(!0)};if(k)return null;var Z=(0,T.MA)(t)&&t.clientSideAdType===T.db.Google||(0,T.uz)(t)||(0,T.N0)(t),S={blog:{name:"",url:"",avatar:[],isAdult:!1},permalinkUrl:""},P=(0,v.jsx)(v.Fragment,{});if(t&&!(0,T.uz)(t)){if("adm"in t&&t.adm&&"string"!=typeof t.adm&&"native"in t.adm&&t.adm.native){var L,z,_,A,M,D,F,R,W=t.adm.native.assets.reduce(e6.CE,{}),U={url:null!==(L=null===(z=W.avatar)||void 0===z?void 0:z.url)&&void 0!==L?L:"",width:null!==(_=null===(A=W.avatar)||void 0===A?void 0:A.w)&&void 0!==_?_:0,height:null!==(M=null===(D=W.avatar)||void 0===D?void 0:D.h)&&void 0!==M?M:0,hasOriginalDimensions:!0};S={blog:{name:b("Sponsored post header disclaimer","Sponsored by %1$s",[null!==(F=W.sponsorName)&&void 0!==F?F:""]),url:null===(R=t.adm.native.link)||void 0===R?void 0:R.url,avatar:[U],isAdult:!1},permalinkUrl:"",onClick:()=>{x({eventName:p.J.Click,eventDetails:{placement_id:null==t?void 0:t.placementId}}),I(null==t?void 0:t.adm)}},P=(0,v.jsx)(e8.m,{postState:e7.hA.Published,postAttribution:S,presentationStyle:eB.Z.iponweb,showsFollowButton:!1,showsSponsored:!1,hideSponsoredText:!0,isAd:!0,isFollowingReblogger:!1,onAdReported:B,showReportAd:Z})}else P=(0,v.jsx)(e8.m,{postState:e7.hA.Published,postAttribution:S,showsFollowButton:!1,showsSponsored:!0,isAd:!0,isFollowingReblogger:!1,onAdReported:B,showReportAd:Z})}return(0,v.jsxs)("div",{className:o()("XJ7bf","KfPvh",{f3f_v:!i,Wx4xZ:g.reblogRedesignNew}),children:[t&&!(0,T.uz)(t)&&P,(0,v.jsx)(e5.Z,{location:a,streamPosition:r,ad:t,supplyOpportunityInstanceId:n,presentationStyle:l,onFilled:c,onEmpty:d,onError:m,updateAurrent=e},onAdReported:B,showReportAd:Z})]})};var st=a(78994),si=a(90127),sn=a(70511),sr=a(77),sl=a(17276),so=a.n(sl),sc=a(33590),sd=a(91253),sm=a(62082),sp=a(94833),sh=(0,sd.i)(sp.z.object({results:sp.z.array(sp.z.object({broadcast:sp.z.object({id:sm.U,description:sp.z.string().optional(),tags:sp.z.array(sm.U).optional(),totalViewers:sp.z.number()}),user:sp.z.object({id:sp.z.number(),name:sm.U,avatar:sp.z.array(sp.z.object({width:sp.z.number(),height:sp.z.number(),url:sm.U})),featured:sp.z.boolean()})}))})).transform(e=>e.response),su=e=>{var s=e.tags,a=e.onSuccess,t=e.onError,i=(0,h.bp)().apiFetchWithSchema,n=s&&s.reduce((e,s)=>(e["tags[]"]=s,e),{}),r=s&&s.join("-"),l=(0,sc.a)({queryKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return["tmg-live-broadcasts",e]}(r),queryFn:()=>so()().async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i("/v2/tmglive/v1/broadcasts",sh,{method:"GET",queryParams:n,schemaErrorPrintFullResponse:!0}));case 1:case"end":return e.stop()}},null,null,null,Promise),staleTime:3e4});return(0,E.useEffect)(()=>{!l.isFetching&&(l.isSuccess?null==a||a(l.data):l.isError&&(null==t||t(l.error)))},[t,a,l.data,l.error,l.isError,l.isFetching,l.isSuccess]),l},sg=e=>{var s=e.onSuccess,a=e.onError,t=(0,h.bp)().apiFetchWithSchema,i=(0,sc.a)({queryKey:["tmg-live-following"],queryFn:()=>so(.stop()}},null,null,null,Promise),staleTime:3e4});return(0,E.useEffect)(()=>{!i.isFetching&&(i.isSuccess?null==s||s(i.data):i.isError&&(null==a||a(i.error)))},[a,s,i.data,i.error,i.isError,i.isFetching,i.isSuccess]),i},sv=a(97612),sb=a(52948),sx=a(10381);let sj={liveMarqueeFrameContainer:"RnXXg",liveMarquee:"k1Cic",oneElement:"xyRKV",liveMarqueeList:"MJvwO",threeElement:"T580_",liveMarqueeArrowButton:"VckBC",twoElement:"gdtXx",reset:"nhSwB",isLoading:"ps05L",loader:"J2ysP",filterLoaderWrapper:"Zj7Jf",liveMarqueeTitle:"RAEnv",tagArrowButton:"QW6vf",moreLiveBtnWrapper:"Qy4Tl",liveMarqueeScrollContainer:"Gk0LA",moreLiveBtnContainer:"BaUG2",goLiveBtnContainer:"c453T",moreLiveBtn:"tBzVe",goLiveBtn:"juKVZ",moreBtn:"UPghn",tagsContainer:"Wj7Lt",tag:"AiOa2",selectedTag:"X1Ng2",emptyStateWrapper:"L8DOX",emptyState:"Yb0EE",goLiveButton:"vnsup",emptyMessage:"jmXSe",liveMarqueeWrapper:"wQ2Ma",tagsOnly:"hGGuX",customTrending:"EiXnY",following:"TNQNK",customTrendingWithFilters:"jLMtb",recommended:"KDMTE"};var sw=a(48810),sf=a(1033),sN=a(63836),sC=a(68346);let sk={marqueeItem:"T0bbH",livePreviewItemWrapper:"hu78p",isFeatured:"L9mqL",marqueeItemWrapper:"XCoak",liveBadge:"sRBXB",streamerName:"HPjtV",marqueeItemLivePreview:"yYdF2",marqueeItemTag:"zGtrI"};var sy=e=>{var s=e.index,a=e.item,t=a.broadcast,i=a.user,n=e.onLogMarqueeShowBroadcast,r=e.className,l=e.showTag,c=e.showLivePreview,d=(0,h.bp)()._c,m=(0,C.wL)().logEvent,u=new sC.Z(i.avatar);return(0,v.jsxs)("div",{className:sk.marqueeItemWrapper,role:"listitem",children:[(0,v.jsxs)(I.Z,{onClick:()=>{var e=t.id?(0,sw.Gn)(si.o_.liveBroadcast,{broadcastId:t.id}):si.o_.live;c&&m({eventName:p.J.TumblrLiveLivePreviewShowBroadcast,eventDetails:{location:"marquee"}}),n(s),window.location.assign(e)},className:o()(sk.marqueeItem,r,{[sk.isFeatured]:i.featured,[sk.livePreviewItemWrapper]:c}),style:{backgroundImage:`url(${u.getLargestImage().url})`},"aria-label":d("Variable is the username of the live streamer","%1$s is live",[i.name]),children:[c&&(0,v.jsx)(sN.i,{className:o()(sk.marqueeItemLivePreview),liveNow:!0,broadcastId:t.id,hideClose:!0,hideViewers:!0,hideMute:!0},t.id),(0,v.jsx)(sf.b,{className:sk.liveBadge,liveNow:!0,label:i.featured?d("Label for live streaming status indicator","Featured"):void 0}),(0,v.jsx)("div",{className:sk.streamerName,children:i.name})]}),l&&t.tags&&t.tags.length>0&&(0,v.jsxs)("div",{className:sk.marqueeItemTag,children:["#",t.tags[0]]})]})},sI=e=>{var s=e.marqueeItems,a=e.onLogMarqueeShowBroadcast,t=e.onMoreClick,i=e.onGoLiveClick,n=e.topElement,r=e.bottomElement,l=e.showTag,o=e.itemClass,c=e.itemWidth,d=void 0===c?96:c,m=(0,h.bp)(),p=m._c,u=m.features.livePreviewOnMarquee;return(0,v.jsxs)(v.Fragment,{children:[n,(0,v.jsx)(sx.U$,{children:e=>{var n=e.width;return(0,v.jsxs)(sv.Z,{className:sj.liveMarqueeList,role:"list",visibleWidth:n+d,itemWidth:d+f.liveCardSpacing,arrowButtonClassName:sj.liveMarqueeArrowButton,scrollContainerClassName:sj.liveMarqueeScrollContainer,children:[s.map((e,s)=>(0,v.jsx)(sb.Z,{index:s,shouldUpdate:!0,children:(0,v.jsx)(sy,{className:o,index:s,item:e,onLogMarqueeShowBroadcast:a,showTag:l,showLivePreview:u&&0===s})},s)),t&&(0,v.jsx)(sb.Z,{index:s.length+1,shouldUpdate:!0,children:(0,v.jsx)(I.Z,{className:sj.moreLiveBtnContainer,wrapperClassName:sj.moreLiveBtnWrapper,onClick:t,children:(0,v.jsx)("span",{className:sj.moreBtn,children:p("See more Live by clicking on that button","See more")})})}),i&&(0,v.jsx)(sb.Z,{index:s.length+2,shouldUpdate:!0,children:(0,v.jsx)(I.Z,{className:sj.goLiveBtnContainer,wrapperClassName:sj.goLiveBtnWrapper,onClick:i,children:(0,v.jsx)("span",{className:sj.goLiveBtn,children:p("See more Live by clicking on that button","Go Live")})})})]})}}),r]})},sB=e=>{var s=e.label,a=e.className,t=e.children;return(0,v.jsxs)("div",{className:o()(sj.liveMarqueeHeader,a),children:[(0,v.jsx)("div",{className:sj.liveMarqueeTitle,children:null!=s?s:(0,v.jsx)(m.ZP,{children:"Tumblr Live"})}),t]})},sZ=a(6135),sT=()=>(0,v.jsx)("div",{className:sj.loader,children:(0,v.jsx)(sZ.Z,{centerOrientation:"horizontalAndVertical"})}),sS=e=>{var s=e.onError,a=e.onLogMarqueeShown,t=su({onError:s,onSuccess:e=>null==a?void 0:a(e.results.length)}),n=t.isPending,r=t.data;return n?(0,v.jsx)("div",{className:sj.filterLoaderWrapper,children:(0,v.jsx)(sT,{})}):r&&0===r.results.length||!r?null:(0,v.jsxs)("div",{className:sj.trendingMarquee,children:[r.results.length>0&&(0,v.jsx)(sB,{}),(0,v.jsx)(sI,i()({marqueeItems:r.results,showTag:!0},e))]})},sP=e=>{var s=e.tag,a=e.tagLabel,t=(0,st.s0)(),i=(0,C.wL)().logEvent;return(0,v.jsx)("div",{className:sj.emptyStateWrapper,children:(0,v.jsxs)("div",{className:sj.emptyState,children:[(0,v.jsx)("p",{className:sj.emptyMessage,children:(0,v.jsx)(m.ZP,{comment:"Message that appears when there are no streams under a tag for Tumblr Live",components:{br:(0,v.jsx)("br",{}),tag:(0,v.jsx)("strong",{children:a})},children:"There are no [tag /] streams right now. [br /] Why not start one?"})}),(0,v.jsx)(I.Z,{className:sj.goLiveButton,onClick:()=>{i({eventName:p.J.TumblrLiveLiveMarqueeStartFromEmptyStateClick,eventDetails:{tag:s}}),t(si.o_.liveStart)},children:(0,v.jsx)(m.ZP,{comment:"Button to start a live stream on Tumblr Live",children:"Go live"})})]})})};let sL=a.p+"src/assets/images/live/tags/animation-58281b58.webp",sz=a.p+"src/assets/images/live/tags/entertainment-bfabf6e8.webp",sO=a.p+"src/assets/images/live/tags/gaming-bb3d7c75.webp",s_=a.p+"src/assets/images/live/tags/music-941ddf25.webp";var sA=e=>[{key:"entertainment",label:e("Used as a tag filter in a Tumblr Live marquee.","#entertainment"),url:sz},{key:"animation",label:e("Used as a tag filter in a Tumblr Live marquee.","#animation"),url:sL},{key:"gaming",label:e("Used as a tag filter in a Tumblr Live marquee.","#gaming"),url:sO},{key:"music",label:e("Used as a tag filter in a Tumblr Live marquee.","#music"),url:s_}],sE=e=>{var s=e.onError,a=e.onLogMarqueeShown,t=(0,h.bp)()._c,n=(0,C.wL)().logEvent,r=(0,E.useState)(),l=q()(r,2),c=l[0],d=l[1],u=su({tags:c?[c]:void 0,onError:s,onSuccess:e=>null==a?void 0:a(e.results.length)}),g=u.isPending,b=u.data,x=e=>{if(c===e){d(""),n({eventName:p.J.TumblrLiveLiveMarqueeUnselectTagClick,eventDetails:{tag:e,marquee_type:"custom_trending_with_filters"}});return}d(e),n({eventName:p.J.TumblrLiveLiveMarqueeTagClick,eventDetails:{tag:e,marquee_type:"custom_trending_with_filters"}})},j=()=>{d(""),n({eventName:p.J.TumblrLiveLiveMarqueeAllClick,eventDetails:{marquee_type:"custom_trending_with_filters"}})},w=sA(t),N=(0,v.jsx)(sx.U$,{children:e=>{var s=e.width;return(0,v.jsxs)(sv.Z,{className:sj.tagsContainer,role:"list",visibleWidth:s+96+50,itemWidth:96+f.liveCardSpacing,arrowButtonClassName:sj.tagArrowButton,scrollContainerClassName:sj.liveMarqueeScrollContainer,children:[w.map((e,s)=>{var a=e.key,t=e.label;return(0,v.jsx)(sb.Z,{index:s,shouldUpdate:!0,children:(0,v.jsx)(I.Z,{wrapperClassName:o()(sj.tag,{[sj.selectedTag]:a===c}),onClick:()=>x(a),children:t},a)},s)}),(0,v.jsx)(sb.Z,{index:w.length,shouldUpdate:!0,children:(0,v.jsx)(I.Z,{wrapperClassName:o()(sj.tag,{[sj.selectedTag]:!c}),onClick:()=>j(),children:(0,v.jsx)(m.ZP,{comment:"Used to show all live streams on the Tumblr Live marquee",children:"View all"})})})]})}});if(g)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(sB,{children:N}),(0,v.jsx)("div",{className:sj.filterLoaderWrapper,children:(0,v.jsx)(sT,{})})]});if(b&&0===b.results.length||!b){var k,y=null===(k=w.find(e=>e.key===c))||void 0===k?void 0:k.label;return c&&y?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(sB,{children:N}),(0,v.jsx)(sP,{tag:c,tagLabel:y})]}):(0,v.jsx)(sB,{children:N})}return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(sB,{children:N}),(0,v.jsx)(sI,i()({marqueeItems:b.results},e))]})},sM=a(4721),sD=e=>{var s=e.timelineObjectId,a=e.onMoreClick,t=e.onLogMarqueeShown,i=e.onLogMarqueeShowBroadcast,n=(0,E.useState)(!0),r=q()(n,2),l=r[0],c=r[1],d=(0,E.useState)(-1),m=q()(d,2),p=m[0],u=m[1],g=(0,sM.g)().data,b=(0,h.bp)(),x=b.apiFetchWithSchema,j=b._c,w=(0,st.s0)();return(0,E.useEffect)(()=>{if(null!=g&&g.tmgWebSDK){var e=g.tmgWebSDK,a=g.networkUserId,n=g.profile;e.registerProfile(a,n),e.setNewSessionHandler(()=>{var e;return so()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,so()().awrap((0,sM._)(x));case 2:e=s.sent.token,null==g||g.tmgWebSDK.setNewAuthToken(e);case 5:case"end":return s.stop()}},null,null,null,Promise)}),e.createSnippet("liveMarquee"+s,"recommendedStreamsMarquee",{viewSize:"small",viewStyle:"strictSquare",pillType:"viewersCount",gender:"all",pageSize:20},function(e){var s=e.broadcast.broadcastId?(0,sw.Gn)(si.o_.liveBroadcast,{broadcastId:e.broadcast.broadcastId}):si.o_.live;i(),w(s)},function(e){c(!1),u(e.responseSize),null==t||t(e.responseSize)})}},[g]),(0,v.jsxs)(v.Fragment,{children:[p>0&&(0,v.jsx)(sB,{}),(0,v.jsxs)("div",{className:o()(sj.liveMarqueeFrameContainer,{[sj.reset]:0==p,[sj.oneElement]:1==p,[sj.twoElement]:2==p,[sj.threeElement]:p>=3,[sj.isLoading]:l}),children:[l&&(0,v.jsx)(sT,{}),(0,v.jsx)("div",{id:"liveMarquee"+s,className:sj.liveMarquee,"data-testid":"liveMarquee"}),p>0&&(0,v.jsx)(I.Z,{className:sj.moreLiveBtnContainer,onClick:a,children:(0,v.jsx)("span",{className:sj.moreBtn,children:j("See more Live by clicking on that button","See more")})})]})]})};let sF=a.p+"src/assets/images/live/tags/all-738c52f2.webp",sR={header:"TTyAW",headerControls:"fadx_",tagsContainer:"d46ix",tag:"LVC8y",tagInner:"e3VFj",tagImage:"dJNGp",tagName:"GLrmD",loader:"JLyCj",item:"ciQQt",liveMarqueeScrollContainer:"WCdU3",tagPill:"GH64s",viewAllPill:"ODaza"};var sq=e=>{var s=e.tag,a=e.tagLabel,t=e.onAllClick,i=e.onGoLiveClick,n=e.onLogMarqueeShown,r=e.onError,l=e.onLogMarqueeShowBroadcast,o=e.onMoreClick,c=su({tags:"all"!==s?[s]:[],onError:r,onSuccess:e=>null==n?void 0:n(e.results.length)}),d=c.isPending,p=c.data,h=(0,v.jsx)(sB,{className:sR.header,children:(0,v.jsxs)("div",{className:sR.headerControls,children:[(0,v.jsx)("div",{className:sR.tagPill,children:("all"!==s?"#":"")+s}),(0,v.jsx)(I.Z,{wrapperClassName:sR.viewAllPilk:()=>t(),children:(0,v.jsx)(m.ZP,{comment:"Used to show all live stream tags on the Tumblr Live marquee",children:"Back to tags"})})]})});return d?(0,v.jsxs)(v.Fragment,{children:[h,(0,v.jsx)("div",{className:sR.loader,children:(0,v.jsx)(sT,{})})]}):p&&0===p.results.length||!p?(0,v.jsxs)(v.Fragment,{children:[h,(0,v.jsx)(sP,{tag:s,tagLabel:a})]}):(0,v.jsxs)(v.Fragment,{children:[h,(0,v.jsx)(sI,{itemClass:sR.item,itemWidth:sW,marqueeItems:p.results,onLogMarqueeShowBroadcast:l,onMoreClick:o,onGoLiveClick:i})]})},sW=150,sU=e=>{var s,a=(0,h.bp)()._c,t=(0,C.wL)().logEvent,n=(0,E.useState)(),r=q()(n,2),l=r[0],o=r[1];(0,E.useEffect)(()=>{t({eventName:p.J.TumblrLiveLiveMarqueeTagsOnlyShown})},[]);var c=e=>{o(e),t({eventName:p.J.TumblrLiveLiveMarqueeTagClick,eventDetails:{tag:e,marquee_type:"tags_only"}})},d=[...sA(a),{key:"all",label:a("Used as a tag filter in a Tumblr Live marquee.","all"),url:sF}],m=null===e.key===l))||void 0===s?void 0:s.label;return l&&m?(0,v.jsx)(sq,i()({tag:l,tagLabel:m,onAllClick:()=>{o(void 0),t({eventName:p.J.TumblrLiveLiveMarqueeAllClick,eventDetails:{marquee_type:"tags_only"}})}},e)):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(sB,{}),(0,v.jsx)(sx.U$,{children:e=>{var s=e.width;return(0,v.jsx)(sv.Z,{className:sR.tagsContainer,role:"list",visibleWidth:s+sW,itemWidth:sW+f.liveCardSpacing,scrollContainerClassName:sR.liveMarqueeScrollContainer,children:(0,v.jsx)("div",{className:sR.tagsContainer,children:d.map(e=>{var s=e.key,a=e.label,t=e.url;return(0,v.jsxs)(I.Z,{wrapperClassName:sR.tag,className:sR.tagInner,label::()=>c(s),children:[(0,v.jsx)("img",{alt:a,className:sR.tagImage,src:t,title:a}),"all"!==s&&(0,v.jsx)("span",{className:sR.tagName,children:a})]},s)})})})}})]})},s$="recommended",sH={liveMarqueeWithFilters:"custom_trending_with_filters",liveMarqueeTagsOnly:"tags_only",liveCustomMarqueeData:"custom_trending"},sJ=(e,s)=>{if("following_live_marquee"===e)return"following";var a=Object.keys(sH).find(e=>s[e]);return a&&sH[a]||s$},sG=e=>{var s=e.onLogMarqueeShown,a=e.onLogMarqueeShowBroadcast,t=e.onMoreClick,i=e.onError,n=(0,h.bp)()._c,r=sg({onError:i,s.length)}),l=r.isPending,o=r.data;return l?(0,v.jsx)("div",{className:sj.filterLoaderWrapper,children:(0,v.jsx)(sT,{})}):o&&0===o.results.length||!o?null:(0,v.jsxs)(v.Fragment,{children:[o.results.length>0&&(0,v.jsx)(sB,{label:n("Title for the Tumblr Live marquee that shows streamers you follow","Tumblr Live: Following")}),(0,v.jsx)(sI,{marqueeItems:o.results,onLogMarqueeShowBroadcast:a,onMoreClick:t})]})},sV=e=>{var s=e.timelineObject,a=(0,E.useState)(!1),t=q()(a,2),n=t[0],r=t[1],l=(0,h.bp)().features,c=(0,C.wL)().logEvent,d=(0,sr.iv)(),m=d.tabId,u=d.tabPosition,g=l.liveStreamingWeb,b=l.liveStreamingUserEnabled,x=(0,st.s0)();if(!g||!b||!s.marqueeType)return null;var j=n?s$:sJ(s.marqueeType,l),w={timelineObjectId:s.id,onMoreClick:()=>{c({eventName:p.J.TumblrLiveLiveMarqueeShowMore,eventDetails:{marquee_position:s.streamGlobalPosition,marquee_type:j}}),x(si.o_.live)},onGoLiveClick:()=>{c({eventName:p.J.TumblrLiveLiveMarqueeStartClick,eventDetails:{marquee_type:j}}),x(si.o_.liveStart)},onLogMarqueeShown:e=>{performance.mark("tumblr-client-live-marquee-shown"),e>0?c({eventName:p.J.TumblrLiveLiveMarqueeShown,eventDetails:{marquee_position:s.streamGlobalPosition,tabbed_dashboard_pos:u,tabbed_dashboard_name:m,marquee_type:j}}):c({eventName:p.J.TumblrLiveLiveMarqueeHidden,eventDetails:{marquee_position:s.streamGlobalPosition,tabbed_dashboard_pos:u,tabbed_dashboard_name:m,marquee_type:j}})},onLogMarqueeShowBroadcast:e=>{c({eventName:p.J.TumblrLiveLiveMarqueeShowBroadcast,eventDetails:{marquee_position:s.streamGlobalPosition,tabbed_dashboard_pos:u,tabbed_dashboard_name:m,item_position:e,marquee_type:j}})},onError:e=>{429===e.status?c({eventName:p.J.TumblrLiveLiveMarqueeLoadErrorRateLimit,eventDetails:{marquee_type:j}}):c({eventName:p.J.TumblrLiveLiveMarqueeLoadError,eventDetails:{marquee_type:j}}),"following"!==j&&r(!0)}},f=null;switch(j){case"following":f=(0,v.jsx)(sG,i()({},w));break;case"custom_trending":f=(0,v.jsx)(sS,i()({},w));break;case"tags_only":f=(0,v.jsx)(sU,i()({},w));break;case"custom_trending_with_filters":f=(0,v.jsx)(sE,i()({},w));break;default:f=(0,v.jsx)(sD,i()({},w))}return(0,v.jsx)("div",{className:o()(sj.liveMarqueeWrapper,sj[(0,sn.eV)(j)]),children:f})},sK=a(14144);let sX={livePreviewTimelineObject:"vLwjI",viewWrapper:"vqd8G",container:"utocq",avatar:"oRyYH",liveBadge:"_4HbJb",livePreview:"_ChH2",title:"SMjkI",blogName:"B_g8k",info:"Ceqe2",tag:"VUKkz"};var sY=e=>{var s=e.timelineObject,a=(0,h.bp)(),t=a._c,i=a.features,n=i.liveStreamingWeb,r=i.liveStreamingUserEnabled,l=s.preview,o=l.broadcast,c=l.user;if(!n||!r)return null;var d=new sC.Z(c.avatar).getLargestImage().url;return(0,v.jsxs)("div",{className:sX.livePreviewTimelineObject,children:[(0,v.jsx)("div",{className:sX.viewWrapper,children:(0,v.jsxs)("div",{className:sX.container,children:[(0,v.jsx)(I.Z{o.id}`)},children:(0,v.jsx)("img",{src:d,alt:"",className:sX.avatar})}),(0,v.jsx)(sK.Z,{wrapperClassName:sX.livePreview,children:(0,v.jsx)(sN.i,{broadcastId:o.id,liveNow:!0,hideClose:!0,hideViewers:!0,isStreamObject:!0})})]})}),(0,v.jsxs)("div",{className:sX.info,children:[(0,v.jsx)("div",{className:sX.title,children:(0,v.jsx)(m.ZP,{comment:"Displayed when showing a Tumblr Live stream as a preview in the dashboard. [name] is the name of the streamer and [live /] is a graphical badge.",params:{name:c.name},components:{bold:(0,v.jsx)("strong",{className:sX.blogName}),live:(0,v.jsx)(sf.b,{liveNow:!0,className:sX.liveBadge,label:t('Used within the sentence "[username] is streaming live now!". This is a separate string because it is part of a graphical badge displaying "live".',"live")})},children:"[bold][name][/bold] is streaming [live /] now!"})}),o.tags&&o.tags.length>0&&(0,v.jsx)("div",{className:sX.tags,children:o.tags.map(e=>(0,v.jsxs)("div",{className:sX.tag,children:["#",e]},e))})]})]})},sQ=a(79740);let s0=e=>{var s=e.timelineObject,a=s.columnCount,t=s.position,i=s.elements;return(0,v.jsx)("div",{className:o()("hMigf",{gFol4:"group_top"===t,zm_kH:"group_middle"===t,R5Hde:"group_bottom"===t}),style:{gridTemplateColumns:`repeat(${a}, 1fr)`},children:i.map(e=>(0,v.jsx)(sQ.Z,{chiclet:e,className:"vVKEw"},e.id))})};var s1=a(9156),s2=a(36485),s4=a(45222),s3=a(45546),s5=a(33814),s6=a(29860),s8=a(3282),s9=a(74523),s7=a(5659),ae=a(50244),as=a(54870),aa=a(24228),at=a(36376),ai=a(69682),an=a(96337);let ar=e=>{var s=e.postUrl,a=e.color,t=void 0===a?g().paletteGray65:a,i=(0,h.bp)()._c,n=(0,J.b8)().post.liked;return(0,v.jsx)("a",{className:o()("EIVbN",{QXbpy:n}),"aria-label":n?i("Like button: Unlike label","Unlike"):i("Like button: Like label","Like"),href:(0,s2.S)(s,{action:"like"}),rel:"noopener",target:"_blank",children:(0,v.jsx)(eu.Z,{filled:n,size:{width:23,height:21},emptyIconColors:{primary:t}})})};var al=a(28431),ao=a(18042),ac=a(85601),ad=a(84997);let am={meatballMenu:"yn46M",sendAPost:"hs8pl",meatballItem:"tKPww",red:"Wwiyv",thin:"UL4kX"},ap=()=>{var e=(0,h.bp)(),s=e._c,a=e.wwwBaseUrl,t=(0,E.useState)(!1),i=q()(t,2),n=i[0],r=i[1],l=(0,J.b8)().post,c=l.id,d=l.blogName,m=l.slug,p=l.blog,u=l.shortUrl,g=l.placementId,b=l.earnedId,x=(0,en.v$)().isMobile,j=(0,aa.b)(d,c,m,"embed"),w=(0,ac.I)(d,j,a,{postId:c.toString()}),f=(0,v.jsxs)("div",{className:am.meatballMenu,children:[(0,v.jsx)(ad.Z,{blog:p,id:c,shortUrl:u,postUrl:j,slug:m,placementId:g,earnedId:b,isMobile:x,hideMessaging:!0,className:am.sendAPost}),(0,v.jsx)(al.Z,{alwaysExternalLink:!0,linkTo:w,className:o()(am.meatballItem,am.red),children:s("Menu item to report a post or blog","Report abuse")},"report"),(0,v.jsx)(al.Z,{className:o()(am.meatballItem,am.thin),children:s("Menu item to close the popover menu it's inside","Close")})]});return(0,v.jsx)(ei.ZP,{toggle:()=>r(!n),isOpen:n,component:f,position:er.I2.Top,width:x?300:400,height:"auto",usePortals:!0,closeForAllExternalClicks:!0,children:(0,v.jsx)(I.Z,{label:s("Label for screen readers on the button that opens the post options popover","More options"),children:(0,v.jsx)(ao.b,{size:{width:18,height:10}})})})},ah=e=>{var s=e.color,a=void 0===s?g().paletteGray65:s,t=(0,h.bp)(),i=t._c,n=t.wwwBaseUrl,r=(0,J.b8)().post,l=r.reblogKey,c=r.id,d={reblogKey:l,blogName:r.blogName,postId:c.toString()};return(0,v.jsx)("a",{className:o()("f7IhF"),"aria-label":i("Reblog button: Reblog label","Reblog"),href:`${n}${(0,si.oh)(d)}?source=embed`,rel:"noopener",target:"_blank",children:(0,v.jsx)(ev.Z,{size:{width:23,height:21},colors:{primary:a}})})},au={header:"NGv38",headerContent:"VkveT",leftContent:"JPZii",leftContentMain:"oGowI",avatar:"rxMh1",attribution:"OfyCG",hasBadges:"cS9cW",attributionHeaderText:"CMfen",leftContentMainStacked:"SLBB7",postAttribution:"nOkib",reblogAttribution:"lnu0J",rebloggedFromName:"bOQD6",rightContent:"YLk78",footerWrapper:"zvrdN",footer:"Bpgt9",noteCountButton:"vHNg4",noteCountContainer:"KiFLn",controls:"SGI72",controlIcon:"muKGV",contentSource:"pcM78",communityLabels:"NE55d",communityLabelsHeader:"uk6IY",communityLabelsText:"rej_I",badgeContainer:"sPI7j"};var ag=(0,s1.Z)((e,s)=>({presentationStyle:s,post:i()(i()({},e),{},{canReply:e.canReply&&s.showsReplyButton,canSendInMessage:e.canSendInMessage&&s.showsShareButton}),isNarrow:!1,getIst:()=>!1}),{maxSize:1});let av=e=>{var s,a,t,n,r,l,c=e.timelineObject,d=e.presentationStyle,p=void 0===d?eB.Z.embed:d,u=(0,h.bp)(),b=u._t,x=u.wwwBaseUrl,j=(0,en.v$)().isMobile,w=(0,E.useRef)(null),N=c.trail,C=c.content,k=c.layout,y=c.blog,I=c.id,B=c.placementId,Z=c.earnedId,T=c.adm,S=c.rebloggedFromName,P=c.rebloggedFromUrl,L=c.rebloggedFromAdvertiserName,z=c.rebloggedFromId,O=c.tags,_=c.liked,A=c.slug,M=c.communityLabels,D=c.sourceTitle,F=c.sourceUrl,R=c.isNsfw,q=c.postUrl,U=p.avatarDimension,$=p.reblogIconSize,G={content:C,layout:k,blog:y,post:{id:I,timestamp:null==c?void 0:c.timestamp},isContributedContent:!0},V=(0,aa.b)(y.name,I,A,"embed"),K=(0,at.Z)(c),X=S&&P?{blogName:L||S,permalinkUrl:P,postId:z}:void 0,Y=(null==K||null===(s=K.blog)||void 0===s?void 0:s.advertiserName)||(null==K||null===(a=K.blog)||void 0===a?void 0:a.name),Q=X&&K?b("%1$s reblogged a post from %2$s",[K.blog.name,X.blogName]):Y?b("Posted by %1$s",[Y]):void 0,ee=!!N.length&&!!C.length,es=!!C.length&&!N.length,ea=!!K.blog.followed,et=ee?[...N,G]:N;if(R||null!==(t=K.blog)&&void 0!==t&&t.isAdult)return(0,v.jsx)(s9.Z,{});var ei=(0,v.jsx)(an.Q,{trail:et,parentPlacementId:B,parentEarnedId:Z,disableFollow:!0,showBlogCards:!1}),el=es&&(0,v.jsx)(ai.ZP,{isOriginalPost:!0,postingBlog:y,adm:T,placementId:B,blocks:C,layouts:k}),eo=K&&!K.blog.isBloglessAdvertiser&&(0,v.jsx)("div",{className:au.avatar,children:(0,v.jsx)(s4.Z,{imageResponse:K.blog.avatar,dimension:U,name:K.blog.name,isAdult:K.blog.isAdult,blog:K.blog,isLink:!0,showBlogCard:!1,placementId:B})}),ec=X&&(0,v.jsxs)("div",{className:au.reblogAttribution,children:[(0,v.jsx)(ev.Z,{size:$,isCompact:!0}),(0,v.jsx)("div",{className:au.rebloggedFromName,children:(0,v.jsx)(W.Z,{blogName:X.blogName,postId:X.postId,placementId:B,showBlogCard:!1,children:X.blogName})})]}),ed=null!=K&&K.permalinkUrl&&K.blog.url&&!K.blog.advertiserName?(0,v.jsx)(W.Z,{blogName:K.blog.name,postId:I,postSlug:A,blog:K.blog,placementId:B,showBlogCard:!1,children:Y}):(0,v.jsx)("span",{children:Y}),em=(0,v.jsxs)("div",{className:o()(au.attribution,{[au.hasBadges]:!!(null!==(n=K.blog.tumblrmartAccessories)&&void 0!==n&&null!==(n=n.badges)&&void 0!==n&&n.length)}),children:[(0,v.jsxs)("div",{className:au.postAttribution,children:[(0,v.jsx)("span",{className:au.attributionHeaderText,children:ed}),(0,v.jsx)(s3.a,{canShowBadges:null==K||null===(r=K.blog)||void 0===r?void 0:r.canShowBadges,tumblrmartAccessories:K.blog.tumblrmartAccessories,unwrapped:!0,badgeClassName:au.badgeContainer})]}),ec]}),ep=!!D&&!!F&&(0,v.jsx)("div",{className:o()(au.contentSource),children:(0,v.jsx)(m.ZP,{comment:'Content source. The placeholder is a link to the source of the post (like "website.com").',params:{sourceTitle:D},components:{link:(0,v.jsx)("a",{href:F,target:"_blank",rel:"noopener noreferrer"})},children:"Source: [link][sourceTitle][/link]"})});return l=null!=M&&M.hasCommunityLabel?(0,v.jsxs)("div",{className:au.communityLabels,children:[(0,v.jsx)("h2",{className:au.communityLabelsHeader,children:b("Mature Content")}),(0,v.jsx)("p",{className:au.communityLabelsText,children:b("This content has been hidden due to its potentially mature nature.")}),(0,v.jsx)("p",{children:(0,v.jsx)("a",{href:V,className:au.communityLabelsLink,target:"_blank",rel:"noopener",children:b("View on blog")})})]}):(0,v.jsxs)(v.Fragment,{children:[ei,el,ep]}),(0,v.jsx)(J.Mj.Provider,{value:ag(c,p),children:(0,v.jsxs)("article",{children:[(0,v.jsx)(s6.Z,{canonicalUrl:q}),(0,v.jsxs)("header",{role:"banner",className:au.header,"aria-label":Q,children:[eo,(0,v.jsxs)("div",{className:au.headerContent,children:[(0,v.jsx)("div",{className:au.leftContent,children:em?(0,v.jsx)("div",{className:o()(au.leftContentMain,{[au.leftContentMainStacked]:!!X}),children:em}):null}),(0,v.jsxs)("div",{className:au.rightContent,children:[(0,v.jsx)("a",{href:x,target:"_blank",rel:"noopener",children:(0,v.jsx)(s5.Z,{colors:{primary:g().paletteBlack},size:{width:67,height:13}})}),!ea&&(0,v.jsx)(H.Z,{href:(0,s2.Z)(V,{action:"follow"}),isRounded:!0,target:"_blank",feature:!1,children:b("Follow")})]})]})]}),(0,v.jsx)("div",{className:au.contentWrapper,children:l}),(0,v.jsxs)("div",{className:au.footerWrapper,children:[(0,v.jsx)(ae.Z,{tags:O,collapsedHeight:j?f.wrappedTagsMobileHeight:f.wrappedTagsDesktopHeight,useExternalLinks:p.useExternalLinks}),(0,v.jsxs)("footer",{role:"contentinfo","aria-label":b("Post Footer"),className:au.footer,children:[(0,v.jsx)("div",{className:au.noteCount,children:(0,v.jsx)("a",{href:`${V}#notes-${I}`,className:au.noteCountButton,target:"_blank",rel:"noopener",children:(0,v.jsx)("span",{ref:w,className:au.noteCountContainer,children:(0,v.jsx)(s8.Z,{containerRef:w})})})}),(0,v.jsxs)("div",{className:au.controls,children:[(0,v.jsx)("div",{className:au.controlIcon,children:(0,v.jsx)(ap,{})}),(0,v.jsx)("div",{className:au.controlIcon,children:(0,s7.uL)((0,v.jsx)(ah,{}),{position:er.I2.Top,content:b("Reblog")})}),(0,v.jsx)("div",{className:au.controlIcon,children:(0,s7.uL)((0,v.jsx)(ar,{postUrl:V}),i()({position:er.I2.Top,content:b(_?"Liked":"Like")},_&&{color:as.v.RED}))})]})]})]})]})})};var ab=a(71017),ax=a(52533),aj=a(43074),aw=a(21148),af=a(90655),aN=a(26963),aC=a(68715);let ak=()=>{var e=(0,C.wL)().logEvent,s=(0,st.TH)(),a=(0,st.UO)(),t=(0,aN.b)(s.search),n=(0,aw.Ud)({params:a,path:s.pathname},t),r=(0,aC.w)(i()(i()({},aj.kq),{},{searchTerm:n.searchTerm,selectedTime:af.Ak.AllTime}),aj.kq);return(0,v.jsx)(ax.Z,{to:r,className:"pafF1CtaTap})},children:(0,v.jsx)(m.ZP,{comment:"Action to reset the filters on the search page",children:"Clear filters"})})};var ay={Dismiss:"dismiss"},aI=a(88451);let aB=e=>{var s=e.signpostOption,a=e.postTitle,t=e.dismiss,n=(0,h.bp)().apiFetch,r=(0,C.wL)().logEvent,l=(0,O.V)().toggleToast,c=(0,st.s0)(),d=s.text,m=s.displayType,u=s.iconKey,g=s.onTap,b=o()("g9DRM",{_KWJ_:"selected"===m}),x=(0,ep.q)(u);return x.defaultProps={size:{width:18,height:18}},(0,v.jsxs)(I.Z,{wrapperClassName:b,onClick:()=>{var e,s,o,d,m,h,u,v,b,x,j,w;return so()().async(function(f){for(;;)switch(f.prev=f.next){case 0:if(r({eventName:p.J.SignpostCTATapped,eventDetails:i()(i()({title:a},g.eventDetails),{},{type:(null===(e=g.eventDetails)||void 0===e?void 0:e.type)||"default"})}),g.action===ay.Dismiss&&t(),o=void 0===(s=g.links)?{}:s,d=g.afterTapMessage,!o.action){f.next=7;break}return h=(m=o.action).href,u=m.method,v=m.bodyParams,f.next=7,so()().awrap(n(h,{method:u,body:(0,aI.v)(v)}));case 7:o.destination&&o.destination&&(x=(b=o.destination).href,w=(j=b.launchNewTab)?"_blank":"_self",x.startsWith("/")&&!j?c(x):window.open(x,w)),d&&l(d);case 9:case"end":return f.stop()}},null,null,null,Promise)},children:[u&&(0,v.jsx)(x,{}),d]})},aZ=(0,B.s)(e=>{var s=e.timelineObject,a=s.resources,t=s.display,i=s.id,n=(0,z.i)(),r=n.onRemoveTimelineObject,l=n.displayMode,c=(0,E.useState)(!1),d=q()(c,2),m=d[0],p=d[1],h=()=>{null==r||r({id:i}),p(!0)},u=a.options.map((e,s)=>(0,v.jsx)(aB,{dismiss:h,signpostOption:e,postTitle:t.title},s)).reverse(),g=l===T.mt.Masonry,b=o()("KcFoc",{Si8xi:g});return(0,v.jsxs)("div",{className:o()("pl1kW",{P0vNG:m}),children:[t.media&&(0,v.jsx)(w.wZ,{isSquare:!1,imageResponse:t.media.media,isTransparent:!0}),(0,v.jsx)("h1",{children:t.title}),(0,v.jsx)("p",{children:a.description}),(0,v.jsx)("div",{className:b,children:u})]})});var aT=a(4870),aS=a(9557),aP=a(37236),aL=a(88926),az=a(34438),aO=a(53);let a_={meatballMenu:"yH8FA",meatballItem:"D8y52"},aA=e=>{var s=e.subscriberInfo,a=s.planOwner,t=s.blogName,i=(0,h.bp)()._c,n=(0,aO.h)().openConversationWindow;return(0,v.jsxs)("div",{className:a_.meatballMenu,children:[(0,v.jsx)(al.Z,{linkTo:(0,az.SS)({peeprBlogname:t}),keepDropdownOpenAfterClick:!1,className:a_.meatballItem,children:i("Menu item to view the blog","View Blog")},"View blog"),(0,v.jsx)(al.ZName:t})},keepDropdownOpenAfterClick:!0,className:a_.meatballItem,children:i("Menu item to message blog","Message")},"Message")]})};var aE=(e,s)=>{var a=e.price,t=e.currencyCode,i=e.periodAbbreviation,n=(0,aL.T4)(a,t,s);return`${n}/${i}`},aM=(e,s)=>s(new Date(1e3*e.startTime),X.C.Notes,!0);let aD=e=>{var s=e.subscriberInfo,a=e.subscriberInfo,t=a.avatar,i=a.blogName,n=a.subscription,r=(0,h.bp)(),l=r._getLocaleDateString,o=r._getPriceInCurrency;return(0,v.jsxs)("div",{className:"j99wS",children:[(0,v.jsxs)("div",{className:"bN_1q",children:[(0,v.jsx)(s4.Z,{className:"elCGV",avatarShape:aP.o.Square,imageResponse:t,dimension:f.radarAvatarSize,name:i,showBlogCard:!0}),(0,v.jsx)(W.Z,{blogName:i,showBlogCard:!0,children:(0,v.jsx)("span",{className:"xWYkn",children:i})})]}),(0,v.jsx)("span",{className:"d5xXI",children:aM(n,l)}),(0,v.jsx)("span",{className:"uF5P9",children:aE(n,o)}),(0,v.jsx)("div",{className:"tGth_",children:(0,v.jsx)(aS.Z,{type:er.Oj.Click,render:()=>(0,v.jsx)(aA,{subscriberInfo:s}),position:er.I2.BottomEnd,width:"216px",height:"auto",isChromeless:!0,children:(0,v.jsx)(I.Z,{wrapperClassName:"EWLNr",children:(0,v.jsx)(ao.b,{colors:{primary:g().paletteGray65}})})})})]})};var aF=e=>{switch(e.status){case aT.Ti.Cancelled:return(0,v.jsx)(m.ZP,{children:"Cancelled"});case aT.Ti.OnHold:return(0,v.jsx)(m.ZP,{children:"On-Hold"});default:return(0,v.jsx)(m.ZP,{children:"Expired"})}};let aR=e=>{var s=e.subscriberInfo,a=e.subscriberInfo,t=a.avatar,i=a.blogName,n=a.subscription,r=n.status;return(0,v.jsxs)("div",{className:"HdJYO",children:[(0,v.jsxs)("div",{className:"fdt9t",children:[(0,v.jsx)(s4.Z,{className:"mncDp",avatarShape:aP.o.Square,imageResponse:t,dimension:f.radarAvatarSize,name:i,showBlogCard:!0}),(0,v.jsx)(W.Z,{blogName:i,showBlogCard:!0,children:(0,v.jsx)("span",{className:"B73mx",children:i})})]}),(0,v.jsx)("span",{className:"Z8zJd",children:(0,aL.o$)(n,"endTime")}),(0,v.jsx)("span",{className:"FzIve",children:(0,v.jsx)(aF,{status:r})}),(0,v.jsx)("div",{className:"g8mTb",children:(0,v.jsx)(aS.Z,{type:er.Oj.ClirInfo:s}),position:er.I2.BottomEnd,width:"216px",height:"auto",isChromeless:!0,children:(0,v.jsx)(I.Z,{wrapperClassName:"kmBcT",children:(0,v.jsx)(ao.b,{colors:{primary:g().paletteGray65}})})})})]})},aq=e=>{var s=e.timelineObject,a=s.subscription.status;return a===aT.Ti.Active||a===aT.Ti.Pending||a===aT.Ti.PendingCancel?(0,v.jsx)(aD,{subscriberInfo:s}):(0,v.jsx)(aR,{subscriberInfo:s})};var aW=a(1539),aU=a(50213),a$=a(93853),aH=a(23326),aJ=a(26321),aG=a(52153);let aV={container:"UPJCY",perkContainer:"RKpvd",perkPill:"yi1kb",pill:"_IvWq",footer:"dnt9O"},aK=e=>{var s=e.onDismiss,a=e.onCancelClick,t=e.memberPerks,i=e.blogName,n=e.subscription,r=e.type,l=e.isLoading,o=(0,h.bp)()._t,c=(0,aL.o$)(n,"nextBillingTime"),d=r===aG.Qe.Paywall;return(0,v.jsxs)(aU.Z,{centerContent:!0,onGlassClick:s,children:[(0,v.jsx)(a$.ZP,{disable:a$.z9}),(0,v.jsx)(aH.O,{className:aV.container,title:o("Now wait just a minute"),body:(0,v.jsxs)("div",{children:[d?o("Are you sure you want to stop supporting %1$s? You'll miss out on exclusive content plus...",[i]):o("Are you sure you want to stop supporting Tumblr? You'll miss out on new stages of your badge..."),d&&(0,v.jsx)("div",{className:aV.perkContainer,children:null==t?void 0:t.map((e,s)=>(0,v.jsx)("span",{className:aV.perkPill,children:(0,v.jsx)(aJ.Z,{className:aV.pill,children:e})},s))}),l&&(0,v.jsx)("span",{className:aV.loader,children:(0,v.jsx)(sZ.Z,{color:g().paletteBlack,centerOrientation:"horizontalAndVertical"})})]}),buttons:[{text:o("Nevermind"),onClick:s,buttonStyle:aH.X.Confirm},{text:o("Cancel subscription"),onClick:a,buttonStyle:aH.X.Cancel}],footer:(0,v.jsx)("div",{className:aV.footer,children:o("Your subscription will still be active until the end of your current billing period. Cancellation will be effective on %1$s.",[c])})})]})};var aX=a(85795),aY=a(44561),aQ=a(37607);let a0={items:"wFg_m",item:"tOYA1",button:"uV7We",toggle:"LyzRP",cancelButton:"iiHzj"},a1=e=>{var s=e.blogName,a=e.subscription,t=(0,h.bp)(),i=t._c,n=t._t,r=t.apiFetch,l=t.getUserInfo,c=t.wwwBaseUrl,d=a.canCancel,p=a.canRepurchase,u=a.isManagedByTumblrpay,b=a.memberPerks,x=(0,aO.h)().openConversationWindow,j=(0,O.V)().toggleToast,w=(0,E.useState)(!1),f=q()(w,2),N=f[0],C=f[1],k=(0,E.useState)(!1),y=q()(k,2),B=y[0],Z=y[1],T=(0,E.useCallback)(()=>{(0,aX.ZP)(r).unsubscribeToBlogMembership(s).fetreload()}).catch(()=>{C(!1),j(n("Something went wrong. Please try again."),"error")})},[s,n,j,r]),S=()=>C(!N);return(0,v.jsxs)("div",{className:a0.popover,children:[(0,v.jsx)(aS.Z,{width:250,height:"auto",usePortals:!0,position:er.I2.BottomEnd,component:(0,v.jsxs)("div",{className:a0.items,children:[(0,v.jsx)(al.Z,{className:a0.item,linkTo:(0,si.nh)({blogName:s}),children:(0,v.jsx)(m.ZP,{comment:"Button linking to the user's creator profile",children:"View Profile"})}),(0,v.jsx)(al.Z,{className:a0.item,isWrappingButton:!0,children:(0,v.jsx)(I.Z,{wrapperClassName:o()(a0.button,a0.messageButton),onClick:()=>{var e,a;return so()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,so()().awrap(l());case 2:e=t.sent,x({selectedBlogName:null==(a=(0,aY.Z)(e.blogs))?void 0:a.name,otherParticipantName:s});case 5:case"end":return t.stop()}},null,null,null,Promise)},children:(0,v.jsx)(m.ZP,{comment:"Opens a messaging window to start a conversation with blog owner",children:"Message"})})}),(0,v.jsx)(al.Z,{className:a0.item,linkTo:`${c}/support`,alwaysExternalLink:!0,children:(0,v.jsx)(m.ZP,{children:"Contact support"})}),d&&u&&(0,v.jsx)(al.Z,{className:a0.item,isWrappingButton:!0,children:(0,v.jsx)(I.Z,{wrapperClassName:o()(a0.button,a0.cancelButton),onClick:S,children:(0,v.jsx)(m.ZP,{children:"Cancel subscription"})})}),p&&u&&(0,v.jsx)(al.Z,{className:a0.item,isWrappingButton:!0,isDisabled:B,children:(0,v.jsx)(I.Z,{wrapperClassName:a0.button,onClick:()=>{Z(!0),(0,aQ.Z)(r,s,aT.zF.Month,window.location.host).fetch().then(e=>{var s=e.response;window.location.assign(s.url)}).catch(()=>{Z(!1),j(n("Something went wrong. Please try again."),"error")})},children:(0,v.jsx)(m.ZP,{children:"Renew subscription"})})})]}),children:(0,v.jsx)(I.Z,{wrapperClassName:a0.toggle,label:i("Opens a menu containing a list of actions to perform on a subscription","Subscription actions"),children:(0,v.jsx)(ao.b,{colors:{primary:g().paletteGray65}})})}),N&&(0,v.jsx)("div",{className:a0.cancellationContainer,children:(0,v.jsx)(aK,{memberPerks:b,subscription:a,onDismiss:S,onCancelClick:T,blogName:s,type:aG.Qe.Paywall})})]})};var a2=a(73465);let a4={items:"Wo9EF",item:"I_m3R",button:"zVRAI",toggle:"oWNRi",cancelButton:"wf0z7"},a3=e=>{var s=e.subscription,a=e.actions,t=(0,h.bp)(),i=t._c,n=t.apiFetch,r=s.canCancel,l=s.isManagedByTumblrpay,c=(0,O.V)().toggleToast,d=(0,E.useState)(!1),m=q()(d,2),p=m[0],u=m[1],b=(0,E.useState)(!1),x=q()(b,2),j=x[0]()=>u(!p),N=(0,E.useCallback)(()=>{w(!0),(0,aX.ZP)(n).unsubscribeFromSupporterBadge().fet.reload()).catch(()=>{w(!1),u(!1),c(i("An unknown error that appears when cancelling a sub","Something went wrong. Please try again."),"error")})},[i,c,n]);return(0,v.jsxs)("div",{className:a4.popover,children:[(0,v.jsx)(aS.Z,{width:250,height:"auto",usePortals:!0,position:er.I2.BottomEnd,component:(0,v.jsx)("div",{className:a4.items,children:a.map(e=>{var s=e.label,a=e.url,t=e.key;return"cancel"===t?r&&l&&(0,v.jsx)(al.Z,{className:a4.item,linkTo:a,isDisabled:j,children:(0,v.jsx)(I.Z,{wrapperClassName:o()(a4.button,a4.cancelButton),onClick:f,children:s})},t):(0,v.jsx)(al.Z,{className:a4.item,linkTo:a,isDisabled:j,children:s},t)})}),children:(0,v.jsx)(I.Z,{wrapperClassName:a4.toggle,label:i("Opens a menu containing a list of actions to perform on a subscription","Subscription actions"),children:(0,v.jsx)(ao.b,{colors:{primary:g().paletteGray65}})})}),p&&(0,v.jsx)("div",{className:a4.cancellationContainer,children:(0,v.jsx)(aK,{isLoading:j,subscription:s,onDismiss:f,onCancelClick:N,type:aG.Qe.Supporter})})]})},a5={subscription:"lwm3X",member:"YK1By",avatar:"Ndj6c",blogName:"Ju3ao",column:"yQEkv",price:"Tk6kK",cancellationMessage:"CgUNj",date:"KCnB5",actions:"bs37e",cancellationInfo:"WIcuN"},a6=e=>{var s=e.subscriptionInfo,a=s.avatar,t=s.blogName,i=s.subscription,n=i.status,r=(0,h.bp)(),l=r._t,c=r._c,d=(0,aL.VU)(i),p=(0,aL.o$)(i,"endTime"),u=(0,aL.o$)(i,"nextBillingTime"),g=(0,T.$n)(s),b=g?(0,v.jsx)(s4.Z,{className:a5.avatar,avatarShape:aP.o.Square,imageResponse:a,dimension:f.subscriptionAvatarSize}):(0,a2.C6)(a,c("[Badge Management] Badge hover card badge image.","Image of a badge."),a5.icon);return(0,v.jsxs)("div",{className:a5.subscription,children:[(0,v.jsxs)("div",{className:a5.member,children:[b,(0,v.jsx)("span",{className:a5.blogName,children:t||s.title})]}),n!==aT.Ti.PendingCancel&&(0,v.jsx)("span",{className:o()(a5.price,a5.column),children:d}),(0,v.jsx)("span",{className:o()(a5.column,{[a5.date]:n!==aT.Ti.PendingCancel,[a5.cancellationMessage]:n===aT.Ti.PendingCancel}),children:n===aT.Ti.PendingCancel?(0,v.jsx)(m.ZP,{comment:"cancellation effective date",params:{date:p},children:"Cancellation effective [date]"}):u}),(0,v.jsx)("div",{className:a5.actions,children:g?(0,v.jsx)(a1,{subscription:i,blogName:t}):(0,v.jsx)(a3,{subscription:i,actions:s.actions})}),n===aT.Ti.PendingCancel&&(0,v.jsx)(aW.Z,{wrapperClassName:a5.cancellationInfo,theme:"info",title:l(g?"Your Post+ subscription has been cancelled":"Your subscription has been cancelled"),message:g?(0,v.jsx)(m.ZP,{comment:"Cancellation message",params:{blogname:t,date:p},components:{bold:(0,v.jsx)("strong",{})},children:"This subscription will still be active until the end of your current billing period. Enjoy exclusive +Posts and perks from [blogname] until [bold][date][/bold]."}):(0,v.jsx)(m.ZP,{comment:"Cancellation message",params:{date:p},components:{bold:(0,v.jsx)("strong",{})},children:"This subscription will still be active until the end of your current billing period ([bold][date][/bold])."})})]})},a8={subscription:"MMaPu",member:"E8t7S",avatar:"vkWQP",blogName:"PYsHz",date:"JplSy",cancellationInfo:"GdfMv",actions:"bKR7d"},a9=e=>{var s,a=e.subscriptionInfo,t=a.avatar,i=a.blogName,n=a.subscription,r=n.status,l=(0,h.bp)()._c,o=(0,aL.o$)(n,"endTime"),c=(0,T.$n)(a);switch(r){case aT.Ti.Cancelled:s=(0,v.jsx)(m.ZP,{comment:"cancelled on date",params:{date:o},children:"Cancelled [date]"});break;case aT.Ti.OnHold:s=(0,v.jsx)(m.ZP,{comment:"on-hold effective date",params:{date:o},children:"On-Hold since [date]"});break;default:s=(0,v.jsx)(m.ZP,{comment:"expired on date",params:{date:o},children:"Expired [date]"})}var d=c?(0,v.jsx)(s4.Z,{className:a8.avatar,avatarShape:aP.o.Square,imageResponse:t,dimension:f.subscriptionAvatarSize}):(0,a2.C6)(t,l("[Badge Management] Badge hover card badge image.","Image of a badge."),a8.icon);return(0,v.jsxs)("div",{className:a8.subscription,children:[(0,v.jsxs)("div",{className:a8.member,children:[d,(0,v.jsx)("span",{className:a8.blogName,children:i||a.title})]}),(0,v.jsx)("span",{className:a8.date,children:s}),(0,v.jsx)("div",{className:a8.actions,children:c?(0,v.jsx)(a1,{subscription:n,blogName:i}):(0,v.jsx)(a3,{subscription:n,actions:a.actions})}),r===aT.Ti.OnHold&&(0,v.jsx)(aW.Z,{wrapperClassName:a8.cancellationInfo,theme:"info",message:(0,v.jsx)(m.ZP,{children:"This subscription is on hold due to a payment issue. Please check your payment information."})})]})},a7=e=>{var s=e.timelineObject,a=s.subscription.status;return a===aT.Ti.Active||a===aT.Ti.Pending||a===aT.Ti.PendingCancel?(0,v.jsx)(a6,{subscriptionInfo:s}):(0,v.jsx)(a9,{subscriptionInfo:s})};var te=a(35665),ts=a(85942),ta=a(33997),tt=a(83644),ti=a(video",e}({}),tr=a(19635),tl=a.n(tr);let to={takeoverBanner:"njwip",destinationLink:"Z4Uny",videoWrapper:"Cewkz",videoInnerWrapper:"xACoA",videoImageCTA:"H4DuS",ctaButton:"erLM8",sponsoredIndicator:"RPM5v",takeoverBannerImage:"nVX2y"};var tc=["ad.doubleclick.net","creatives.sascdn.com"];class td extends E.Component{constructor(){super(...arguments),r()(this,"provideEventDetails",ti.L),r()(this,"getVideoCrossOrigin",e=>{var s=e?new URL(e).hostname:"";if(!(tc.indexOf(s)>-1))return"anonymous"}),r()(this,"renderVideoTakeover",e=>{var s=this.props.timelineObject,a=s.text,t=s.sponsoredDayVideoDisableAutoLooping,i=s.sponsoredDayVideoDisableSound,n=e.height,r=e.width,l=e.url;return(0,v.jsxs)(v.Fragment,{children:[this.renderCTALinkContent((0,v.jsx)("div",{className:to.videoWrapper,style:{paddingBottom:`${n/r*100}%`},children:(0,v.jsx)("div",{className:o()(to.videoInnerWrapper,x.CS),children:(0,v.jsx)(ta.ZP,{media:{height:n,width:r,url:l},minHeight:n/r*100,hasNoMaxUndockedHeight:!0,isVideoSponsoredDay:!0,disableAutolooping:t,soundDisabled:i,useViewabilityTracker:!0,timelineObject:s,playerStyle:{borderRadius:tl().borderRadiusForSmallElements},videoElementProps:{crossOrigin:this.getVideoCrossOrigin(l)}})})}),this.logClickOnBanner(p.J.VideoClickThrough)),this.renderCTALinkContent((0,v.jsx)("div",{className:to.ctaButton,children:a}),this.logClickOnButton,to.videoImageCTA),this.renderSponsoredIndicator()]})}),r()(this,"renderImageTakeover",e=>{var s=this.props.timelineObject.text,a=!s||0===s.trim().length,t=(0,v.jsxs)(v.Fragment,{children:[(0,T.nJ)(this.props.timelineObject)&&(0,v.jsx)(x.ZP,{timelineObject:this.props.timelineObject}),(0,v.jsx)(te.Z,{imageResponse:e,sizes:`(max-width: ${N().phoneResponsiveMaxBreakpoint}px) 100vw, ${N().postWidth}px`,className:to.takeoverBannerImage})]});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:o()(to.takeoverBanner,x.CS),style:{paddingBottom:"40%"},children:[this.renderCTALinkContent(t,this.logClickOnBanner(p.J.PhotoClickThrough),to.destinationLink),this.renderSponsoredIndicator()]}),!a&&this.renderCTALinkContent((0,v.jsx)("div",{className:to.ctaButton,children:s}),this.logClickOnButton,to.videoImageCTA)]})}),r()(this,"renderCTALinkContent",(e,s,a)=>{var t=this.props.timelineObject,n=t.sponsoredDayClickthrough,r=t.blog,l={children:e,onClick:s,className:a};return n&&r?(0,v.jsx)(W.Z,i()({blogName:r.name,blog:r,showBlogCard:!1},l)):(0,v.jsx)("a",i()({href:this.getDestinationLink(),target:"_blank",rel:"noopener"},l))}),r()(this,"renderSponsoredIndicator",()=>{var e=this.props.timelineObject,s=e.displayType,a=e.sponsoredBadgeUrl;return s===tt.y.Sponsored&&(0,v.jsx)("div",{className:to.sponsoredIndicator,children:(0,v.jsx)(ts.Z,{link:a,color:g().white,showAdFreeLink:!1})})}),r()(this,"logClickOnBanner",e=>()=>{this.logClick(p.J.Click),this.logClick(e)}),r()(this,"logClickAButton)}),r()(this,"logClick",e=>{var s=this.props,a=s.timelineObject;(0,s.logEvent)({eventName:e,eventDetails:i()({placement_id:a.placementId},this.provideEventDetails(a,!0))})}),r()(this,"getDestinationLink",()=>{var e;return null===(e=this.props.timelineObject.links)||void 0===e||null===(e=e.destination)||void 0===e?void 0:e.href})}render(){var e=this.props.timelineObject.assets;if(!e||!this.getDestinationLink())return null;var s=e.reduce((e,s)=>{switch(s.type){case tn.Video:e.videoAsset=s;break;case tn.Image:e.imageAssets.push(s)}return e},{imageAssets:[]}),a=s.videoAsset,t=s.imageAssets;return a||t.length>0?(0,v.jsx)("div",{className:to.takeoverWrapper,children:a?this.renderVideoTakeover(a):!!t.length&&this.renderImageTakeover(t)}):null}}let tm=(0,B.s)(e=>(0,v.jsx)(td,i()(i()({},e),{},{appContext:(0,h.bp)(),adContext:(0,ss.b)(),logEvent:(0,C.wL)().logEvent}))),tp={centered:"mkkHd"},th=e=>{var s=e.timelineObject.button,a=(0,h.bp)().apiFetch,t={};switch(s.links.tap.type){case Z.U.Web:t.href=s.links.tap.href,t.className=tp.centered;break;case Z.U.Action:t.onClick=(0,S.Z)(s.links.tap,a),t.wrapperClassName=tp.centered}return(0,v.jsx)(H.Z,i()(i()({isRounded:!0},t),{},{children:s.label}))};var tu=a(55673),tg=a(2541);let tv={titleObject:"HphhS",titleArea:"KDoiW",highlightedText:"rR_oZ",auxActionLink:"EUG7h",centerTitle:"_TztT"},tb=e=>{var s=e.timelineObject,a=s.text,t=s.highlightText,i=s.links,n=s.alignment,r=s.auxAction,l=[a];if(t){var c=RegExp(`(${(0,tg.h)(t)})`,"gi");l=a.split(c).reduce((e,s,a)=>{if(!s)return e;var i=s.toLowerCase()===t.toLowerCase()?(0,v.jsx)("span",{"data-testid":`highlight-${a}`,children:s},a):s;return e.push(i),e},[])}var d=o()(tv.titleArea,{[tv.centerTitle]:"center"===n,[tv.highlightedText]:!(null!=i&&i.tap)}),m=r&&(0,v.jsx)(tu.rU,{className:tv.auxActionLink,to:r.links.href,children:r.text});return null!=i&&i.tap?(0,v.jsxs)("div",{className:tv.titleObject,children:[(0,v.jsx)("div",{className:d,children:(0,v.jsx)(W.Z,{href:i.tap.href,showBlogCard:!1,className:tv.highlightedText,children:l})}),m]}):(0,v.jsxs)("div",{className:tv.titleObject,children:[(0,v.jsx)("div",{className:d,children:l}),m]})};var tx=a(99857),tj=a(84166);let tw=function(e){var s=e.timelineObject.elements;return(0,v.jsx)("div",{className:tj.Z.videoHubCardGrid,children:s.map(e=>(0,v.jsx)("div",{className:tj.Z.videoHubCardItem,children:(0,v.jsx)(tx.jo,{videoHub:e})},e.id))})};var tf=a(96977);let tN=function(e){var s,a,t,i,n=e.timelineObject,r=(0,h.bp)()._c,l=null===(s=n.media)||void 0===s?void 0:s[0],o=null!==(a=l.poster)&&void 0!==a?a:l;return(0,v.jsxs)("div",{children:[(0,v.jsxs)("span",{children:[(0,v.jsx)("h2",{className:"xCIcJ",children:r("Text above banner showing a recommended video hub","Recommended")}),(0,v.jsx)("p",{className:"FgLa6",children:r("Description for banner that shows a recommended video hub","Stuff we think you'll like")})]}),(0,v.jsx)("div",{className:"k6rvV",children:(0,v.jsx)("div",{className:"wggkC",children:(0,v.jsxs)(tu.rU,{to:null===(t=n.links)||void 0===t?void 0:t.tap.href,children:[(0,v.jsx)("span",{className:"MOLiI",style:{backgroundImage:`url(${o.url})`}}),(0,v.jsx)("span",{className:"Opfji",children:(0,v.jsx)("img",{src:null===(i=n.media)||void 0===i?void 0:i[0].url,alt:r("Alt text for banner image that links to the Recommended video hub channel","Banner image showing a preview of the Recommended channel"),loading:"lazy"})}),(0,v.jsx)("div",{className:"TAze8",children:(0,v.jsx)(tf.Z,{size:{width:45,height:45}})})]})})})]})};var tC=a(68280),tk=a(58388),ty=a(94522),tI=a(,tB=()=>3;class tZ extends E.Component{constructor(){super(...arguments),r()(this,"state",{hasErrored:!1}),r()(this,"ahis.ref=e),r()(this,"getPresentationStyle",(e,s)=>{var a=this.props,t=a.presentationStyle,n=a.displayMode;return t||(n===T.mt.Masonry?eB.Z.masonry:s?i()(i()({},e===tk.ZP.Desktop?eB.Z.desktop:eB.Z.mobile),{},{autoLimitContentHeight:!0}):e===tk.ZP.Desktop?eB.Z.desktop:eB.Z.mobile)}),r()(this,"toggleExpanded",()=>{this.props.toggleExpandedInGrid&&this.props.toggleExpandedInGrid(this.props.timelineObject,tB())}),r()(this,"handleGridVpanded()})}shouldComponentUpdate(e,s){return!(0,ty.X)(e,this.props)||s.hasErrored!==this.state.hasErrored}componentDidCatch(e){this.setState({hasErrored:!0});var s=this.props.timelineObject,a=s.id,t=s.objectType,i=`[TimelineObject error: object type ${t} with ID ${a}] ${e.message}`;window.dispatchEvent(new ErrorEvent("error",{error:e,message:i}))}render(){if(this.state.hasErrored)return null;var e=this.props,s=e.timelineObject,a=e.displayMode;if(a!==T.mt.Embed&&(0,T.xT)(s)&&s.isNsfw&&!s.blog.isMember)return null;switch(a){case T.mt.Grid:return this.renderInGrid();case T.mt.Embed:return this.renderEmbed();case T.mt.List:default:return this.renderInList()}}renderInList(e){var s=this.props,a=s.timelineObject,t=s.className,i=s.appContext.features;if(a.isExpandedInGrid&&!e)return null;var n=(0,T.xT)(a)||(0,T.ET)(a)?o()(tI.Z.listTimelineObject,{[tI.Z.sortDragDropTarget]:a.queuedState===e7.SH.Queued,[tI.Z.animateOut]:a.animateOut,[tI.Z.masonryTimelineObject]:this.props.displayMode===T.mt.Masonry}):(0,T.g5)(a)?o()(tI.Z.listTimelineObject,{[tI.Z.animateOut]:a.animateOut}):(0,T.Ry)(a)||(0,T.Mt)(a)?o()(tI.Z.listTimelineObject,tI.Z.paywallTimelineObject):(0,T.Ud)(a)?o()(tI.Z.listTimelineObject,tI.Z.liveMarqueeObject):tI.Z.listTimelineObject,r=this.renderObjectInList();return r&&(0,v.jsx)("div",{ref:this.assignRef,className:o()(n,t,{[tI.Z.reblogRedesignEnabled]:i.reblogRedesignNew}),tabIndex:-1,"data-id":(0,T.xT)(a)?a.id:void 0,children:(0,v.jsx)("div",{className:tI.Z.listTimelineObjectInner,tabIndex:-1,children:r})})}renderObjectInList(){var e=this.props,s=e.timelineObject,a=e.displayMode,t=e.isInboxTimeline,i=e.index,n=e.appContext.features;if(s.displayType===tt.y.Sponsored&&(s.adInstanceCreationTime=Date.now()),(0,T.xT)(s)&&!(0,T.uz)(s))return(0,v.jsx)(en.ZP,{children:e=>{var n=e.device;return(0,v.jsx)(ab.Z,{isInInboxTimeline:t,presentationStyle:this.getPresentationStyle(n,!0),timelineObject:s,isNarrow:a===T.mt.Masonry,postIndex:null!=i?i:0})}});if((0,T.ET)(s))return(0,v.jsx)(eJ.Z,{timelineObject:s,displayMode:a});if((0,T.iZ)(s))return(0,v.jsx)(e3,{timelineObject:s});if((0,T.C1)(s))return(0,v.jsx)(e1,{timelineObject:s});if((0,T.uN)(s))return(0,v.jsx)(tb,{timelineObject:s});if((0,T.pN)(s))return(0,v.jsx)(tm,{timelineObject:s});if((0,T.g5)(s))return(0,v.jsx)(A,{timelineObject:s});if((0,T.Ud)(s))return(0,v.jsx)(sV,{timelineObject:s});if((0,T.XU)(s))return(0,v.jsx)(sY,{timelineObject:s});if((0,T.kZ)(s))return(0,v.jsx)(eH,{timelineObject:s});if((0,T.LW)(s))return(0,v.jsx)(aq,{timelineObject:s});if((0,T.ik)(s))return(0,v.jsx)(a7,{timelineObject:s});if(((0,T.A6)(s)||(0,T.uz)(s))&&n.redpopMoneyballAds)return(0,v.jsx)(en.ZP,{children:e=>{var a=e.device;return(0,v.jsxs)(v.Fragment,{children:[(0,T.uz)(s)&&s.admMediaType!==T.kO.TspVideo&&(0,v.jsx)(x.ZP,{timelineObject:s}),(0,v.jsx)(j.ZP,{isInstream:!0,timelineObject:s,supplyProviderId:e9.E.DASHBOARD,children:e=>{var t=e.ad,i=e.adServed,r=e.supplyOpportunityInstanceId,l=e.location,c=e.streamPosition,d=e.onFilled,m=e.onEmpty,p=e.onError;return(0,v.jsx)("div",{className:o()(tI.Z.listTimelineObject,x.CS,{[tI.Z.reblogRedesignEnabled]:n.reblogRedesignNew}),children:(0,v.jsx)(sa,{ad:t,adServed:i,supplyOpportunityInstanceId:r,location:l,streamPosition:c,presentationStyle:this.getPresentationStyle(a,(0,T.uz)(s)&&!!s.isBlazed),onFilled:d,onEmpty:m,onError:p})})}})]})}});if((0,T.FP)(s))return(0,v.jsx)(F,{timelineObject:s});if((0,T.lR)(s)){var r,l=null!==(r=s.supplyProviderId)&&void 0!==r?r:e9.E.DASHBOARD;return(0,v.jsx)(sa,{ad:s,supplyOpportunityInstanceId:s.supplyOpportunityInstanceId,adServed:!0,location:l,streamPosition:l===e9.E.DASHBOARD?s.streamGlobalPosition:void 0,fallbackAd:{}})}return(0,T.nB)(s)?(0,v.jsx)(eF,{timelineObject:s}):(0,T.C7)(s)?(0,v.jsx)(eR,{timelineObject:s}):(0,T.wQ)(s)?(0,v.jsx)(k,{timelineObject:s}):(0,T.dp)(s)?(0,v.jsx)(b,{timelineObject:s}):(0,T.CA)(s)?(0,v.jsx)(y.Z,{timelineObject:s}):(0,T.RE)(s)?(0,v.jsx)(ak,{}):(0,T.cz)(s)?(0,v.jsx)(s0,{timelineObject:s}):(0,T.y3)(s)?(0,v.jsx)(e0,{timelineObject:s}):(0,T.Ih)(s)?(0,v.jsx)(th,{timelineObject:s}):(0,T.YJ)(s)?(0,v.jsx)(aZ,{timelineObject:s}):(0,T.i)(s)?(0,v.jsx)(e_,{timelineObject:s}):(0,T.KM)(s)?(0,v.jsx)(tw,{timelineObject:s}):(0,T.q0)(s)?(0,v.jsx)(tN,{timelineObject:s}):("production"===tC.Z.Development&&console.warn(`Unsupported timeline object type "${s.objectType}" with ID ${s.id}`),null)}renderInGrid(){var e=this.props,s=e.timelineObject,a=e.gridChildren,t=e.hoverContent,i=e.appContext._c,n=`calc(${100/tB()}% - 2px)`;return(0,T.xT)(s)?s.isExpandedInGrid?(0,v.jsx)("div",{className:tI.Z.expandedGridObjectContainer,children:this.renderInList(!0)}):(0,v.jsxs)("div",{className:tI.Z.gridTimelineObject,ref:this.assignRef,style:{width:n},children:[(0,v.jsx)("button",{className:tI.Z.gridObjectExpandCover,"aria-label":i("Button that shows the full post content when clicked, shown on posts that are very long","Expand"),onClick:this.toggleExpanded,children:(0,v.jsx)("div",{className:tI.Z.gridObjectExpandCoverInner,tabIndex:-1,children:(0,v.jsx)("div",{className:o()(tI.Z.expandedCover,{[tI.Z.expandedCoverIsExpanded]:s.hasExpandedVersionBelowIt})})})}),(0,v.jsx)(K.Z,{tabIndex:-1,timelineObject:s,className:tI.Z.postInGrid,onClick:this.handleGridViewClick,children:a,hoverContent:t,forceHover:s.hasExpandedVersionBelowIt})]}):null}renderEmbed(){var e=this.props,s=e.timelineObject,a=e.presentationStyle;return(0,T.xT)(s)?(0,v.jsx)(av,{timelineObject:s,presentationStyle:a}):null}}r()(tZ,"defaultProps",{displayMode:T.mt.List});let tT=(0,h.tM)(tZ)},25321:(e,s,a)=>{a.d(s,{D:()=>$});var t=a(33970),i=a.n(t),n=a(5754),r=a.n(n),l=a(6135),o=a(45222),c=a(17287),d=a(81619),m=a(90938),p=a(41185),h=a(84397),u=a(37236),g=a(43523),v=a(5700),b=a(12885),x=a(50869),j=a(96467),w=a.n(j),f=a(51207);let N={postCard:"_X19c",cardHeader:"txEJf",avatarWrapper:"_5p5FC",cardHeaderBar:"xuN5Q",square:"ZtkzZ",circle:"K0Rj5",animateAvatar:"w6XLs",cardPost:"BQhXD",cardFooter:"nEems"};var C=a(2629),k=e=>e.find(e=>{var s=e.trail,a=e.content;if(e.type!==v.SB)return!1;var t=(0,h.Z)(s,a,!0);return!(!t||Array.isArray(t))&&t.type===f.kH.Image});let y=e=>{var s=e.blog,a=e.posts,t=e.onDismiss,i=s.theme,n=s.secondsSinceLastActivity,l=s.avatar,h=(void 0===i?{}:i).avatarShape,v=void 0===h?u.o.Circle:h;if(!a)return null;var w=k(a);return w?(0,C.jsxs)("div",{className:N.postCard,style:(0,b.Z)(s),children:[(0,C.jsxs)("div",{className:N.cardHeader,children:[(0,C.jsx)("div",{className:r()(N.avatarWrapper,N.animateAvatar,v===u.o.Circle?N.circle:N.square),children:(0,C.jsx)(c.Z,{blogName:s.name,href:s.url,target:"_blank",rel:"noopener",showBlogCard:!0,blog:s,krakenEventName:g.J.BlogUrlClick,children:(0,C.jsx)(o.Z,{avatarShape:v,imageResponse:l,dimension:j.miniBlogCardAvatarSize,isOnline:(0,x.k)(void 0===n?999999:n),bigStatusIndicator:!0})})}),(0,C.jsx)("div",{className:N.cardHeaderBar,children:(0,C.jsx)(d.ZP,{blog:s,isBlogCardHeader:!0,isDismissible:!0,hideFollowButton:!0,hideHeaderImage:!0,onDismiss:t})})]}),(0,C.jsx)("div",{className:N.cardPost,children:(0,C.jsx)(p.Z,{timelineObject:w,prioritizeImageBlocks:!0,openInPeepr:!0,blurImageBackground:!0})}),(0,C.jsx)("div",{className:N.cardFooter,children:(0,C.jsx)(m.Z,{blog:s})})]}):null};var I=a(46023),B=a(95004),Z=a(8293),T=a(22979),S=a(78667),P=a(6154);let L={desktopContainer:"B15CE",usesNewDimensions:"gvSHK",title:"uJiXu",collapseSpacingInMobile:"GmRO3",postCardWrapper:"pqNoe",blogRows:"Pyyts"};var z=a(54138),O=a.n(z),_=a(36485),A=a(1308),E=e=>{var s;return{blogs:D(null===(s=e.response.timeline)||void 0===s?void 0:s.elements),nextLink:M(e)}},M=e=>{var s,a=null===(s=e.response.timeline)||void 0===s||null===(s=s.links)||void 0===s?void 0:s.next;return null!=a&&a.href?O()(O()({},a),{},{href:(0,_.Z)(null==a?void 0:a.href,(0,A.n9)(A.$b))}):a},D=e=>e.reduce((e,s)=>{var a=s.resources,t=s.display;if(Array.isArray(ar i=e=>e;null!=t&&t.reason&&(i=e=>O()(O()({},e),{},{recommendationReason:t.reason})),e.push(...a.map(i))}return e},[]),F=e=>{var s=e.title,a=e.collapseSpacingInMobile;return s&&(0,C.jsx)("div",{className:r()(L.title,{[L.collapseSpacingInMobile]:a}),children:s})},R=e=>{var s=e.timelineObject,a=e.collapseSpacingInMobile,t=e.rowTheme,i=e.title,n=(0,S.bp)()._t,l=(0,Belements),[s.elements]),o=(0,B.useCallback)(()=>({blogs:l,nextLink:M({response:{timeline:s}})}),[s,l]);return 0===l.length?null:(0,C.jsxs)("div",{className:r()(L.desktopContainer,{[L.usesNewDimensions]:"blog"!==t}),children:[(0,C.jsx)(F,{title:i,collapseSpacingInMobile:a}),(0,C.jsx)(I.ZP,{title:i,rowTheme:t||"dark",getInitialContent:o,getContentFromResponse:E,dismissAllLabel:n("Show more blogs"),className:L.blogRows})]})},q=(0,C.jsx)("div",{className:L.blogCarouselLoader,children:(0,C.jsx)(l.Z,{centerOrientation:"horizontalAndVertical"})}),W=e=>e.name,U=e=>{var s=(0,S.bp)().apiFetch,a=(0,B.useState)(new Set),t=i()(a,2),n=t[0],r=t[1],l=e.collapseSpacingInMobile,o=e.timelineObject,c=e.title,d=o.elements,m=o.links,p=(0,B.useMemo)(()=>{var e;return{items:D(d),nextCursor:null==m||null===(e=m.next)||void 0===e?void 0:e.href}},[d,null==m?void 0:m.next]),h=(0,B.useCallback)(e=>s(e).then(e=>{var s;return{items:D(e.response.timeline.elements),nextCursor:null===(s=e.response.timeline.links)||void 0===s||null===(s=s.next)||void 0===s?void 0:s.href}}),[s]),u=(0,B.useCallback)(e=>k(e.posts)?(0,C.jsx)("div",{className:L.postCardWrapper,children:(0,C.jsx)(y,{blog:(0,Z.WA)(e),posts:e.posts,onDismiss:()=>{r(s=>new Set([...s,W(e)]))}})}):null,[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(F,{title:c,collapseSpacingInMobile:l}),(0,C.jsx)(P.H,{fetchNext:h,getItemKey:W,initialPage:p,itemWidth:w().timelineMasonryPostWidth,loader:q,renderItem:u,dismissedItems:n})]})},$=e=>{var s,a=e.collapseSpacingInMobile,t=void 0===a||a,i=e.displayMode,n=e.rowTheme,r=e.timelineObject,l=(null==r||null===(s=r.display)||void 0===s?void 0:s.title)||"";return i===T.mt.List?(0,C.jsx)(U,{collapseSpacingInMobile:!!t,timelineObject:r,title:l}):(0,C.jsx)(R,{collapseSpacingInMobile:!!t,rowTheme:n,timelineObject:r,title:l})}},6154:(e,s,a)=>{a.d(s,{H:()=>u});var t=a(33970),i=a.n(t),n=a(97612),r=a(29158),l=a(10381),o=a(95004),c=a(9041),d=a(96467);let m={container:"q1ZAL",lastCarouselItem:"N7rEi"};var p=a(2629),h=(0,o.memo)(e=>{var s=e.opacity,a=e.isFirst,t=e.isLast,i=e.isNarrow,n=e.children,r=(0,o.useMemo)(()=>({marginLeft:a?0:i?`${d.narrowCarouselItemSpacing}px`:`${d.carouselItemSpacing}px`,opacity:s}),[s,a,i]);return(0,p.jsx)("div",{style:r,className:t?m.lastCarouselItem:void 0,children:n})});function u(e){var s=e.fetchNext,a=e.itemWidth,t=e.loader,u=e.getItemKey,g=e.initialPage,v=e.renderItem,b=e.isNarrowSpacing,x=e.dismissedItems,j=void 0===x?new Set:x,w=(0,l.pG)().width,f=(0,o.useState)(g.nextCursor),N=i()(f,2),C=N[0],k=N[1],y=(0,o.useState)(g.items),I=i()(y,2),B=I[0],Z=I[1],T=(0,o.useState)(!1),S=i()(T,2),P=S[0],L=S[1],z=(0,o.useCallback)(e=>{C&&e&&(L(!0),s(C).then(e=>{e.items.length&&Z([...B,...e.items]),k(e.nextCursor),L(!1)},()=>L(!1)))},[C,B,s]),O=(0,o.useMemo)(ey:u(e)})).filter(e=>!!e.renderedItem&&!j.has(e.key)),[B,j,v,u]),_=b?d.narrowCarouselItemSpacing:d.carouselItemSpacing;return(0,p.jsx)(n.Z,{visibleWidth:w,className:m.container,itemWidth:a+_,children:(0,p.jsx)(r.Z.Consumer,{children:e=>{var s=e.window;return(0,p.jsxs)(p.Fragment,{children:[O.map((e,a)=>{var t,i=e.renderedItem,n=e.key,r=a===O.length-1,l=(0,p.jsx)(h,{isFirst:0===a,isLast:r,isNarrow:b,opacity:(null===(t=s[a])||void 0===t?void 0:t.opacity)||0,children:i},n);return(0,p.jsx)(c.df,{rootMargin:"0px 400px 0px 0px",onChange:r?z:void 0,skip:!r,children:l},n)}),P&&t]})}})})}},16355:(e,s,a)=>{a.d(s,{Z:()=>C});var t=a(54138),i=a.n(t),n=a(50209),r=a.n(n),l=a(95004),o=a(68280),c=a(22979),d=a(78667),m=a(96467),p=a(25321),h=a(36180),u=a(6135),g=a(99857),v=a(6154),b=a(2629),x=(0,b.jsx)("div",{className:"w3kAG",children:(0,b.jsx)(u.Z,{centerOrientation:"horizontalAndVertic`${e.id}`,w=e=>(0,b.jsx)("div",{className:"SEBxd",children:(0,b.jsx)(g.jo,{videoHub:e})}),f=e=>{var s=(0,d.bp)().apiFetch,a=e.timelineObject,t=a.elements,i=a.links,n=m.videoHubCardCarouselItemWidth+m.videoHubCardCarouselItemRightPadding,r=(0,l.useMemo)(()=>{var e;return{items:t,nextCursor:null==i||null===(e=i.next)||void 0===e?void 0:e.href}},[t,null==i?void 0:i.next]),o=(0,l.useCallback)(e=>s(e).then(e=>{var s;return{items:e.response.timeline.elements,nextCursor:null===(s=e.response.timeline.links)||void 0===s||null===(s=s.next)||void 0===s?void 0:s.href}}),[s]);return(0,b.jsx)(v.H,{fetchNext:o,getItemKey:j,initialPage:r,itemWidth:n,loader:x,renderItem:w})};class N extends l.Component{constructor(){super(...arguments),r()(this,"logWarningInConsole",()=>{var e=this.props.timelineObject;e&&"production"===o.Z.Development&&(0===e.elements.length?console.warn(`Unsupported unknown carousel timeline object type with ID ${e.id}`):console.warn(`Unsupported carousel timeline object type "${e.elements[0].objectType}" with ID ${e.id}`))})}render(){var e=this.props.timelineObject;return(0,c.eO)(e)?(0,b.jsx)(p.D,i()(i()({},this.props),{},{timelineObject:e})):(0,c.$w)(e)?(0,b.jsx)(h.Z,i()(i()({},this.props),{},{timelineObject:e,isNarrowSpacing:!0,itemWidth:m.tagChicletCarouselItemWith,loaderClass:"carouselLoaderChiclet"})):(0,c.H0)(e)?(0,b.jsx)(h.Z,i()(i()({},this.props),{},{timelineObject:e,itemWidth:m.tagCardCarouselItemWidth,loaderClass:"carouselLoaderTagCard"})):(0,c.h5)(e)?(0,b.jsx)(f,i()(i()({},this.props),{},{timelineObject:e})):(this.logWarningInConsole(),null)}}let C=(0,d.HJ)(N)},36180:(e,s,a)=>{a.d(s,{Z:()=>H});var t=a(33970),i=a.n(t),n=a(54138),r=a.n(n),l=a(95004),o=a(6135),c=a(38149),d=a(61556),m=a(78143),p=a(43523),h=a(78667),u=a(77),g=a(96467),v=a.n(g),b=a(70505),x=a(22424),j=a(2629);let w=e=>{var s=e.tagName,a=e.posts,t=e.backgroundColor,i=e.borderColor,n=e.isFollowed,r=(0,h.bp)()._c,l=(0,u.iv)().tabId,o=(0,x.wL)().logEvent,g=(0,b.ps)(t);return(0,j.jsxs)("div",{className:"quD2R",style:{backgroundColor:t,borderColor:i},children:[(0,j.jsxs)(m.Z,{tagName:s,onClick:()=>{o({eventName:p.J.ClickedOnTagCard,eventDetails:{tag:s,tab:l}})},children:[(0,j.jsx)("div",{className:"jOrvN",style:{color:g},children:(0,j.jsxs)("span",{children:["#",s]})}),(0,j.jsx)("div",{className:"XtlxR",children:a.slice(0,2).map((e,a)=>{var t=e.objectData.backgroundImage;return t?(0,j.jsx)("div",{className:"pAmwO",children:(0,j.jsx)(c.Sw,{imageResponse:[{url:t,width:v().tagCardImageWidth,height:v().tagCardImageWidth*v().tagCardImageSizeRatio}],isSquare:!1,altText:r("Alt text for a tag's image. Placeholder is the untranslated tag text.","#%1$s",[s]),sizes:`${2*v().tagCardImageWidth}px`})},a):null})})]}),(0,j.jsx)(d.Z,{tag:s,isFollowed:n,pageName:"tagged",className:"FvvEQ",extraStyles:{backgroundColor:g,color:t}})]})};var f=a(22979);let N=a.p+"src/assets/videos/carousel/aged_postref-e4cac741.mp4",C=a.p+"src/assets/videos/carousel/aged_postref-2a1f0006.webm",k=a.p+"src/assets/videos/carousel/changes-91c7a7b0.mp4",y=a.p+"src/assets/videos/carousel/changes-4a0ea398.webm",I=a.p+"src/assets/videos/carousel/explore-9b9aad4a.mp4",B=a.p+"src/assets/videos/carousel/explore-15f47fc4.webm",Z=a.p+"src/assets/videos/carousel/for_you-66f88213.mp4",T=a.p+"src/assets/videos/carousel/for_you-c1a9c8bd.webm",S=a.p+"src/assets/videos/carousel/merch-d1e81be9.mp4",P=a.p+"src/assets/videos/carousel/merch-ab8b2df8.webm",L=a.p+"src/assets/videos/carousel/staff_picks-011b4f2c.mp4",z=a.p+"src/assets/videos/carousel/staff_picks-a6a2f284.webm",O=a.p+"src/assets/videos/carousel/tagged-19a5b2a2.mp4",_=a.p+"src/assets/videos/carousel/tagged-eeb34763.webm",A=a.p+"src/assets/videos/carousel/trending-07dcb725.mp4",E=a.p+"src/assets/videos/carousel/trending-9f04dba5.webm";var M="https://assets.tumblr.com/images/carousel",D={[`${M}/aged_postref.gif`]:{mp4:N,webm:C},[`${M}/changes.gif`]:{mp4:k,webm:y},[`${M}/explore.gif`]:{mp4:I,webm:B},[`${M}/for_you.gif`]:{mp4:Z,webm:T},[`${M}/merch.gif`]:{mp4:S,webm:P},[`${M}/staff_picks.gif`]:{mp4:L,webm:z},[`${M}/tagged.gif`]:{mp4:O,webm:_},[`${M}/trending.gif`]:{mp4:A,webm:E}},F=a(45051),R=a(6154);let q={tagChicletLink:"NWfPW",tagChicletWrapper:"aJgDC",tagChicletBg:"TQmoN",tagChicletBgShader:"T4ddP"};function W(e){switch(e.objectType){case f.RP.FollowedTag:return(0,j.jsx)($,{tag:e});case f.RP.Tag:return(0,j.jsx)(w,r(.tagName}function $(e){var s,a,t,n=e.tag,r=(s=n.backgroundImage,(a=new URL(s,"https://invalid.tld/")).search="",D[a.href]||void 0),o=(0,l.useState)(!1),c=i()(o,2),d=c[0],p=c[1];return(0,j.jsx)(m.Z,{tagName:n.tagName,className:q.tagChicletLink,onClick:F.Z,toOverride:null===(t=n.links)||void 0===t||null===(t=t.tap)||void 0===t?void 0:t.href,children:(0,j.jsxs)("div",{className:q.tagChicletWrapper,"data-testid":"chiclet-wrapper",style:n.backgroundImage&&!r?{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("${n.backgroundImage}")`,backgroundSize:"cover",backgroundPosition:"center"}:n.backgroundColor&&!r?{backgroundColor:n.backgroundColor}:void 0,children:[r&&(0,j.jsxs)("video",{className:q.tagChicletBg,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,crossOrigin:"anonymous",onLoade()=>p(!0),style:d?{display:"block"}:{},children:[(0,j.jsx)("source",{src:r.webm,type:"video/webm"}),(0,j.jsx)("source",{src:r.mp4,type:"video/mp4"})]}),r&&(0,j.jsx)("div",{className:q.tagChicletBgShader}),(0,j.jsx)("span",{children:n.tagName})]})})}let H=function(e){var s=(0,h.bp)().apiFetch,a=e.isNarrowSpacing,t=e.itemWidth,i=e.timelineObject,n=e.loaderClass,r=i.elements,c=i.links,d=(0,l.useMemo)(()=>{var e;return{items:r,nextCursor:null==c||null===(e=c.next)||void 0===e?void 0:e.href}},[r,null==c?void 0:c.next]),m=(0,l.useMemo)(()=>(0,j.jsx)("div",{className:n,children:(0,j.jsx)(o.Z,{centerOrientation:"horizontalAndVertical"})}),[n]),p=(0,l.useCallback)(e=>s(e).then(e=>{var s;return{items:e.response.timeline.elements,nextCursor:null===(s=e.response.timeline.links)||void 0===s||null===(s=s.next)||void 0===s?void 0:s.href}}),[s]);return(0,j.jsx)(R.H,{fetchNext:p,getItemKey:U,initialPage:d,isNarrowSpacing:a,itemWidth:t,loader:m,renderItem:W})}},74523:(e,s,a)=>{a.d(s,{Z:()=>o});var t=a(45216),i=a(73543),n=a(54382),r=a(78667),l=a(2629);let o=()=>{var e=(0,r.bp)().wwwBaseUrl;return(0,l.jsxs)("div",{className:"S1Ly1",children:[(0,l.jsx)("a",{href:e,target:"_blank",rel:"noopener",className:"_0QRP",children:(0,l.jsx)(t.P,{})}),(0,l.jsx)("h1",{className:"vudm0",children:(0,l.jsx)(n.ZP,{children:"This post is gone now."})}),(0,l.jsx)("p",{className:"dmkXT",children:(0,l.jsx)(n.ZP,{children:"But there's more where that came from:"})}),(0,l.jsx)(i.Z,{enableTypeahead:!1,hardLinkToSearchPage:!0,searchInNewWindow:!0,className:"DWBh5",containerClassName:"imAUs",iconClassName:"uAi3B"})]})}},99857:(e,s,a)=>{a.d(s,{jo:()=>w});var t=a(33970),i=a.n(t),n=a(96977),r=a(52533),l=a(90127),o=a(95004),c=a(43523),d=a(66498),m=a(22424),p=a(14544),h=a(63583),u=a.n(h),g=a(78380),v=a(84166),b=a(2629),x=e=>{var s=null===(t=(0,g.so)(e))||void 0===t?void 0:t.content;if(s){var a=s.find(g.Lo);if(a)return null==a||null===(i=a.poster)||void 0===i?void 0:i[0].url;var t,i,n,r,l,o=s.find(g.Lb);return null!==(n=null==o||null===(r=o.media)||void 0===r?void 0:r[0].url)&&void 0!==n?n:null==o||null===(l=o.media)||void 0===l||null===(l=l[0].poster)||void 0===l?void 0:l.url}},j=function(e){var s,a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=null===(s=e.links)||void 0===s?void 0:s.tap.href,i=a?(0,g.so)(e.hubName):void 0;if(!i&&t){var n=new URL(t);return{pathname:n.pathname,search:n.search}}var r=null==i?void 0:i.blogName,o=(null==i?void 0:i.id)!==void 0?null==i?void 0:i.id.toString():void 0;return{pathname:(0,l.hc)({hubName:e.hubName,blogName:r,postId:o})}},w=e=>{var s,a,t,l=e.videoHub,g={[d.Z.cybernetic]:u().paletteAccent,[d.Z.vampire]:u().paletteTransparentWhite65,[d.Z.pumpkin]:u().paletteWhiteOnDark,[d.Z.snowBright]:u().paletteWhiteOnDark,[d.Z.pride]:u().paletteWhiteOnDark}[(0,p.M)().name]||l.borderColor,w=(0,o.useState)(null!==(s=null===(a=l.media)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.url)&&void 0!==s?s:null===(t=l.media)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.poster)||void 0===t?void 0:t.url),f=i()(w,2),N=f[0],C=f[1],k=(0,o.useState)(j(l,!1)),y=i()(k,2),I=y[0],B=y[1],Z=(0,m.wL)().logEvent,T=()=>{l&&(C(e=>{var s;return null!==(s=x(l.hubName))&&void 0!==s?s:e}),B(j(l)))};return(0,o.useEffect)(()=>{var e=e=>{e.key===`video_hub_${l.hubName}_last_post_viewed`&&T()};return window.addEventListener("storagorage",e)},[]),(0,b.jsx)(r.Z,{to:I,onClick:()=>Z({eventName:c.J.VideoHubCardTapped,eventDetails:{tag:l.hubName}}),children:(0,b.jsxs)("div",{className:v.Z.videoHubCardWrapper,style:{backgroundImage:`linear-gradient(360deg, ${h.transparentBlack85} 0%, transparent 50%), url("${N}")`,borderColor:g,filter:`drop-shadow(1px 1px 0px ${g}) drop-shadow(2px 2px 0px ${g})`},children:[(0,b.jsx)("div",{className:v.Z.videoHubPlayIcon,children:(0,b.jsx)(n.Z,{size:{width:70,height:70}})}),(0,b.jsx)("div",{className:v.Z.videoHubTitle,children:l.title}),(0,b.jsx)("div",{className:v.Z.videoHubSubtitle,children:l.subtitle||(l.tags=>`#${e}`).join(" ")})]})})}},4721:(e,s,a)=>{a.d(s,{_:()=>u,g:()=>g});var t=a(17276),i=a.n(t),n=a(33970),r=a.n(n),l=a(33590),o=a(94833),c=a(91253),d=a(62082),m=a(43523),p=a(78667),h=(0,c.i)(o.z.object({token:d.U,tosAccepted:o.z.boolean(),tmgProfile:o.z.object({networkUserId:d.U,profile:o.z.object({age:o.z.number().optional(),firstName:d.U,displayName:d.U,images:o.z.array(d.U).optional(),media:o.z.array(o.z.object({id:d.U,type:d.U,urls:o.z.object({large:d.U,square:d.U})})).optional()})})}))..response);function u(e){return e("/v2/tmglive/v1/init?generic_data=false",h,{schemaErrorPrintFullResponse:!0})}var g=()=>{var e=(0,p.bp)(),s=e.apiFetchWithSchema,t=e._getLanguage,n=e.liveStreaming,o=t().localization,c=(0,p.bp)(),d=c.getBootstrap,h=c.logEvent,g=d("tmgliveStagingWebPaymentsCredentials").value,v=!!(n&&g);return(0,l.a)({queryKey:["tmg-live-init"],queryFn:()=>{var e,t,l,c,d,p,v,b,x,j,w;return i()().async(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,i()().awrap(Promise.all([u(s),a.e(62).then(a.bind(a,25289))]));case 2:return e=f.sent,l=(t=r()(e,2))[0],c=t[1].default,p=(d=n).authUrl,v=d.apiUrl,b=l.token,x=l.tosAccepted,j="zh-hk"===o?"zh-cn":o,h({eventName:m.J.TumblrLiveInitCallFinished}),w={locale:j,chatSupport:!1,hostAppName:"tumblr",hostAppVersion:"1.0.0",credentials:g,authUrl:p,gatewayUrl:v,authToken:b,tosAccepted:x,webLiveURL:`${v}/web-live/`},f.abrupt("return",{authToken:b,tosAccepted:x,tmgWebSDK:new c(w),networkUserId:l.tmgProfile.networkUserId,webLiveURL:w.webLiveURL,profile:l.tmgProfile.profile});case 12:case"end":return f.stop()}},null,null,null,Promise)},enabled:v,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})}},21148:(e,s,a)=>{a.d(s,{BD:()=>h,E2:()=>u,Ud:()=>g,rB:()=>m});var t=a(54138),i=a.n(t),n=a(5700),r=a(90655),l=a(44655),o=a(86033),c=a(43074),d={post:{skipComponent:"related_tags,blog_search",limit:20},blog:{limit:20},tag:{limit:20}},m=e=>{var s=e.activeTimeline,a=e.searchTerm,t=e.searchMode,i=e.selectedPostType,n=e.selectedTime;return`search-${s}-${a}-${t}-${i}-${n}`},p=(e,s,a)=>{var t=(0,r.F$)(a.src);return(0,o.Z)((0,l.o)(e,i()({searchKeyword:a.searchTerm,requestMode:a.searchMode,postType:a.selectedPostType,days:a.selectedTime,timelineType:s,querySource:t},d[s])).fetch())},h=function(e,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["blog","post","tag">p(e,a,s));return(0,o.Z)(Promise.all(t).then(e=]=e[tancel())})},u=e=>Object.values(r.D1).includes(e)?e:c.kq.activeTimeline;function g(e,s){var a=e.params,t=e.path,i=a.selectedPostType,l=a.searchTerm,o=t.split("/"),d=cludes(e)),m=s||{},p=m.v,h=m.t,g=m.src,v=Number(h),b=v<36e3&&v>=0?v:c.kq.selectedTime,x=u(p),j=null!=d?d:c.kq.searchMode,w=(0,n.IP)(i)?i:void 0;return{searchTerm:void 0===l?"":l,selectedTime:b,activeTimeline:x,postRole:(null==s?void 0:s.post_role)||void 0,searchMode:j,selectedPostType:w,src:"typed_query"===g?"typed_query":"recent_search"===g?"recent_search":"suggested_tag"===g?"suggested_tag":void 0}}},2541:(e,s,a)=>{a.d(s,{h:()=>n});var t=/[\\^$.*+?()[\]{}|]/g,i=RegExp(\\$&"):e}},37607:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(85795);function i(e,s,a,i){return(0,t.ZP)(e).generateCheckoutUrl(s,{period:a,host:i})}},1337:(e,s,a)=>{a.d(s,{G:()=>i});var t=a(43523);function i(e,s,a,i,n){var r={eventName:t.J.ReportAd,eventDetails:{ad_provider_id:null==s?void 0:s.adProviderId,creative_id:null==s?void 0:s.creativeId,advertiser_id:null==s?void 0:s.advertiserId,campaign_id:null==s?void 0:s.campaignId,ad_id:null==s?void 0:s.adId,complain_reason:e,post_id:null==s?void 0:s.postId,blog_id:null==s?void 0:s.blogId,advertiser_name:null==s?void 0:s.advertiserName,reported_ad_body:null==s?void 0:s.adBody,reported_ad_media_url:null==s?void 0:s.adMediaUrl,reported_ad_title:null==s?void 0:s.adTitle,adomain:null==s?void 0:s.advertiserDomain}};null===s?i(n("A toast message for reporting an ad, but something went wrong when reporting it","Something went wrong. Could not report ad."),"error"):i(n("A toast message for reporting an ad","Thanks for reporting this ad!"),"success"),a(r,{sendPayloadImmediately:!0})}},68715:(e,s,a)=>,{w:()=>c});var t=a(54138),i=a.n(t),n=a(90127),r=a(5700),l=a(93099),o=a(64038);function c(e,s){var a=e.searchTerm,t=e.searchMode,c=e.selectedPostType,d=e.selectedTime,m=e.activeTimeline,p=s.searchMode,h=s.selectedPostType,u=s.selectedTime,g=s.activeTimeline,v=i()(i()({searchTerm:a},t!==p&&{searchMode:t}),c!==h&&(0,r.IP)(c)&&{selectedPostType:c}),b=(0,l.Z)((0,o.Z)(n.o_.searchWithOptionalParams,v),v),x=new URLSearchParams;"recent"!==t&&d!==u&&x.set("t",d.toString()),m!==g&&x.set("v",m);var j=x.toString();return j?`${b}?${j}`:b}}}]);