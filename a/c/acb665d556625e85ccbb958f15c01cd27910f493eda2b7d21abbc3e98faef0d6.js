import{ab as B,ay as S,b4 as M,b6 as _,as as W}from"./itinerary-entities.5f897bcd.js";import{l as z,c as m,G as n,P as u,H as p,Q as h,R as k,z as d,S as C,r as y,q as E,Y as I,F as v,$ as w,a4 as H}from"./graphql.5cf3693b.js";import{S as L,P as $}from"./pagination.83ca29fa.js";import{A as P}from"./autoplay.ebffefca.js";import"./entry.a7cea746.js";const N=["href"],Y=z({__name:"LandingBanner",props:{banner:{}},setup(t){const g=B(),{homepageMessagesLoading:i}=S(g),{isMobileSize:l}=M(),c=m(()=>l.value&&t.banner.mobileImage?(t.banner.mobileImage.height||0)/(t.banner.mobileImage.width||1):t.banner.desktopImage?(t.banner.desktopImage.height||0)/(t.banner.desktopImage.width||1):0);return(e,o)=>(n(),u("a",{class:k(["banner-container",{"mobile-only":!e.banner.desktopImage,"desktop-only":!e.banner.mobileImage,"loading-skeleton":d(i)}]),style:C({height:`calc(min(100vw - 32px, 1200px) * ${d(c)})`}),href:e.banner.link,target:"_blank",rel:"noopener noreferrer nofollow"},[e.banner.desktopImage?(n(),p(_,{key:0,class:"desktop-only",src:e.banner.desktopImage.src,hash:e.banner.desktopImage.blurHash,"image-fit":"cover","hide-blurhash-onload":"",alt:e.banner.desktopImage.alt},null,8,["src","hash","alt"])):h("",!0),e.banner.mobileImage?(n(),p(_,{key:1,class:"mobile-only",hash:e.banner.mobileImage.blurHash,src:e.banner.mobileImage.src,"image-fit":"cover","hide-blurhash-onload":"",alt:e.banner.mobileImage.alt},null,8,["hash","src","alt"])):h("",!0)],14,N))}});const V=W(Y,[["__scopeId","data-v-57ac5ef3"]]);const x={class:"swiper-wrapper"},F=["href","aria-label"],X=z({__name:"BannerCarousel",props:{items:{}},setup(t){const g=B(),{homepageMessagesLoading:i}=S(g),l=y(null),c=y(null),e=y(null);return E(()=>{L.use([$,P]),l.value&&(e.value=new L(l.value,{autoplay:!1,spaceBetween:0,slidesPerView:1,freeMode:!1,pagination:{el:c.value,clickable:!0},breakpoints:{768:{spaceBetween:16,slidesPerView:"auto",freeMode:!0}}}),setTimeout(()=>{var o;(o=e.value)==null||o.autoplay.start()},1e4))}),(o,j)=>(n(),u("div",{ref_key:"wrapper",ref:l,class:k(["banner-carousel-container",{loading:d(i)}])},[I("div",x,[(n(!0),u(v,null,w(o.items,(s,f)=>{var a,r;return n(),u("a",{key:f,class:k(["swiper-slide",{"loading-skeleton":d(i)}]),href:s.link,"aria-label":((a=s.desktopImage)==null?void 0:a.alt)??((r=s.mobileImage)==null?void 0:r.alt)??"لینک بنر",target:"_blank",rel:"noopener noreferrer nofollow","data-swiper-autoplay":"3000"},[s.desktopImage?(n(),p(_,{key:0,class:"desktop-only",src:s.desktopImage.src,hash:s.desktopImage.blurHash,width:592,height:270,"hide-blurhash-onload":"",alt:s.desktopImage.alt??"بنر سایت مستربلیط","mount-delay":""},null,8,["src","hash","alt"])):h("",!0),s.mobileImage?(n(),p(_,{key:1,class:"mobile-only",src:s.mobileImage.src,hash:"|lENV-EExaf3NgR;oHR.WrcIMxbJs+s*WBs+WEs,E2xWW=WCoea~j@WXoLsRjss+R.WYoLbIaxWEkXNgoIjYn#oIj]f5jY$ws7ofR.W?WrWBbIbINMS6WYoHoIj@jsayodj[ocWCj]azayj[ayayoHoIj@a$WYbHayj[WX","hide-blurhash-onload":"",alt:s.mobileImage.alt??"بنر سایت مستربلیط","blurhash-config":{ratio:2.222222222,size:125},"mount-delay":""},null,8,["src","alt"])):h("",!0)],10,F)}),128))]),I("div",{ref_key:"pagination",ref:c,class:"swiper-pagination"},null,512)],2))}});const A=W(X,[["__scopeId","data-v-0ab2d8e0"]]),T={key:0,class:"landing-banners-wrapper"},q={class:"landing-banners-container"},G=z({__name:"LandingBanners",setup(t){const g=B(),{homepageFilteredBanners:i,homepageFilteredSliders:l,homepageMessagesLoading:c}=S(g),e=H(),{isMobileSize:o}=M(),j=m(()=>i.value.length>0||l.value.length>0||c.value),s=m(()=>i.value.filter(a=>new RegExp(a.urlPattern||"").test(e.path)).filter(a=>!a.displaySize||a.displaySize==="both"||(a.displaySize==="mobile"?o.value:!o.value))),f=m(()=>l.value.map(a=>a.filter(r=>new RegExp(r.urlPattern||"").test(e.path)).filter(r=>!r.displaySize||r.displaySize==="both"||(r.displaySize==="mobile"?o.value:!o.value))).filter(a=>a.length));return(a,r)=>d(j)?(n(),u("div",T,[I("div",q,[(n(!0),u(v,null,w(d(f),(b,R)=>(n(),p(A,{key:R,items:b},null,8,["items"]))),128)),(n(!0),u(v,null,w(d(s),b=>(n(),p(V,{key:b.id,banner:b},null,8,["banner"]))),128))])])):h("",!0)}});const U=W(G,[["__scopeId","data-v-97afd28a"]]);export{U as L};
