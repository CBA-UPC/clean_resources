window.cxdj=window.cxdj||{version:"2023-10-26 06:02:34",renderTemplateHost:"http://cdn.cxpublic.com/",envType:"",env:"prod",initialized:!1,userId:null,url:window.location.href,referrer:document.referrer,meta:{},persistedQueryId:"c77e57f707a8285372fa005966570578c63489b3",sites:{"onboarding.cxpublic.com":"9222363238898586877","www.local.wsj.com":"9222363238898586877"},sharedAccounts:{"8eebc7c7d60311c7c3936557c944228b90dbca842b100398efea4a169aa12fe7":"starbucks"},graphicsTestId:18,isSubscribergetSiteIdgetSiteIdForTopDomain(e,t,s){var r=t===e?"":t.slice(0,t.lastIndexOf("."+e));switch(e){case"wsj.com":if(0===window.location.pathname.indexOf("/market-data/quotes/"))return"1137428874877849937";switch(s){case"naus":return-1<["","graphics","www","store"].indexOf(r)?"9222318613852486900":"quotes"===r?"1137428874877849937":"deloitte"===r?"1135177142006008713":"partners"===r?"1135132405600019683":"onboarding"===r?"1135108723701486695":"jp"===r?"9222335528673021906":cxdj.sites[t]||"1134002947328204066";case"asiajp":return"9222335528673021906";case"asiacn":return"9222335528567651934";case"asiacn_hant":return"1135189930654442767"}break;case"marketwatch.com":return"bigcharts"===r?"1132882648552401441":-1<["www.stg","www.dev","s.dev","caj-qa.smpdev","caj.uat.smpdev","register.s.dev","customercenter-newlz.s.dev","newretirement-staging","stg.sponsor"].indexOf(r)?"1138573015853471556":"9222325317970825873";case"barrons.com":return"partners"===r?"1131774050934839824":-1<["dev.partners","stg.partners","sbx.partners"].indexOf(r)?"1132899956055435449":"9222325317970825875";case"realtor.com":return"1142953111780883056";case"fnlondon.com":return"1139592114930554183";case"penews.com":return"1133979867428110118";case"heatst.com":return"1140711674266969838";case"wsjplus.com":return"1144060886250044680";case"wsjcs-dev.com":return"1132877656863055436";case"moneyish.com":return"1131757219286375810";case"wsj.net":if(0===window.location.pathname.indexOf("/newsletter/"))return"1136293312189049388";break;case"mansionglobal.com":switch(s){case"naus":return"1144071410389139719";case"europees":return"1140714022692008822";default:return"1134007940894473081"}case"huanyuju.com":return"1140714022692008823";case"dowjones.com":return"1134008299188968078"}return cxdj.sites[t]||"1131751141886830816"},reportEvent(e,t,s,r){let c=null,a="0";a=e&&e.length&&0===e.indexOf("https://store.wsj.com")?(cX.initializePage(),cxdj.sites["store.wsj.com"]):cxdj.getSiteId(window.location.hostname),cX.setSiteId(s||a),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),cxdj.isSubscriber(cxdj.meta.subscriber)&&cxdj.userId&&cX.setUserProfileParameters({knownSubscriber:1}),e&&e.length&&(c={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(c,r)},reportHOKTestImpression(e,t){cX.callQueue.push(["invoke",()=>{cX.setEventAttributes({origin:"wsj-hok",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("hokImpression",{hokTestId:e,hokTestVariant:t})}])},reportFunnelEvent(c,a){cX.callQueue.push(["invoke",()=>{let e="default",t;"object"!=typeof c&&(c={});cX.library.parseUrlArgs();c.eventType&&(e=c.eventType),cX.setEventAttributes({origin:"wsj-funnel",persistedQueryId:cxdj.persistedQueryId}),a&&(t={callback:a});var s={conversionType:"subscription"};for(const r in c)"eventType"!==r&&c.hasOwnProperty(r)&&(s[r]=c[r]);cX.sendEvent(e,s,t)}])},reportCustomConversion(e,t){cX.callQueue.push(["invoke",()=>{cX.setEventAttributes({origin:"wsj-conversion",persistedQueryId:cxdj.persistedQueryId}),t=t||{},cX.sendEvent(e,t)}])},reportMissingDiv(e){cX.setEventAttributes({origin:"wsj-event",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("missingDiv",{divId:e})},reportInteractionEvent(t,s,r){cX.callQueue.push(["invoke",()=>{let e;s=s||{},cX.setEventAttributes({origin:"wsj-placement",persistedQueryId:cxdj.persistedQueryId}),r&&(e={callback:r}),cX.sendEvent(t,s,e)}])},annotateUserProfile(e,t){e=e||"default",cX.initializePage();let s=t?window.location.href:"http://event.wsj.com";s+=-1<s.indexOf("?")?"&":"?et="+e,cX.setUserProfileParameters({useraction:e}),cX.sendPageViewEvent({location:s})},trackPolicy(e,t){cX.initializePage(),cX.setUserProfileParameters({policy:e||"unknown"});let s=cxdj.meta.topDomain;t&&(s=t,cX.setSiteId(cxdj.getSiteIdForTopDomain(t,t))),cX.sendPageViewEvent({location:`http://policy.${s}/`}),"mwcpoct2017"===e&&window.localStorage&&window.localStorage.setItem("cx-gdpr-accepted","true")},reportVisibility(e,t){cX.callQueue.push(["invoke",()=>{cX.trackElement({elementId:e,trigger:{on(e){return.2<=e.visibility.timeSome},callback(e){cX.setEventAttributes({origin:"wsj-visibility",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("widgetVisible",{widgetName:t})}}})}])},trackKnownElements(){var t=[{divId:"cx-user-headlines",name:"cx-user-headlines"},{divId:"cx-live-qa-subscribe-button",name:"cx-live-qa-subscribe-button"}];for(let e=0;e<t.length;e++){var s=t[e].divId,r=t[e].name;document.getElementById(s)&&cxdj.reportVisibility(s,r)}},isExcludedWidgetSection(e){return-1!==["JournalReports:CollegeRankings","JournalReports:CollegeRankingsHighlights","JournalReports:Conferences","JournalReports:Energy","JournalReports:Funds&ETFs","JournalReports:HealthCare","JournalReports:Leadership","JournalReports:Retirement","JournalReports:SmallBusiness","JournalReports:TechCompaniestoWatch","JournalReports:WealthManagement","JournalReports:Technology"].indexOf(e.type)},isNewRelicMonitoringgetAbHashValue(e){var t=cX.getCookie("ab_uuid");if(!t)return-2;let s=0;for(let e=0;e<t.length;e++)s=(s<<5)-s+t.charCodeAt(e),s|=0;return(Math.abs(s)%e).toString()},getUserBucket(){return cxdj.getAbHashValue(10)},getAbBucketgetOmnitureCookieValue(){var e=cX.getCookie("AMCV_CB68E4BA55144CAA0A4C98A5%40AdobeOrg");if(!e)return{};var t=e.split("|");if(t.length<2)return{};var s={};for(let e=1;e<t.length-1;e+=2)s[t[e].toLowerCase()]=t[e+1];for(const r in s)"none"===(s[r]||"").toLowerCase()&&delete s[r];return s},getMetaTagValue(e,t){if(!e)return"";t=t||"name";t=document.querySelector(`meta[${t}="${e}"]`);return t&&t.getAttribute("content")||""},getQueryParamValue(e){e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(window.location.href);return e&&e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):""},getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(e||Date.now()).getMonth()]},displayArticleCover(){if(!cxdj.isNewRelicMonitoring()){var e="cx-articlecover";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("cb5ddcce7d042f8bf5215efb6aff7f93089bcd57",e);break;case"marketwatch.com":var t="cx-marketing-snippet";cxenseOffers.hasDivId(t)?cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",t):cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("5a6132e17936ff4f8115bd8104cdd66c356a0313",e);break;case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("665e0bcdbbe895316d610f4cd72480f820a6d08e",e)}}},displayJoinTheConversationInline(){var e;cxdj.isNewRelicMonitoring()||(e="cx-jtc-inline","wsj.com"===cxdj.meta.topDomain&&cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("6440fe3ca63c69d41b8729648f7ed38b4d38efdc",e))},displayAdvisorOnboarding(){var e;cxdj.isNewRelicMonitoring()||(e="cx-onboarding",cxenseOffers.hasDivId(e)&&cxdj.isSubscriber(cxdj.meta.subscriber)&&"barrons.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("32c994bfc9d543314ebaa5a45260e263117fe1bd",e))},displayVideoScrim(){var e;cxdj.isNewRelicMonitoring()||(e="cx-scrim",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e))},displayScrim(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"barrons.com":"Video"!==cxdj.meta.section&&"Video Center"!==cxdj.meta.section&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("643fbd8f63b7439e03c41adfbe753cb75abd8d87",e):cxenseOffers.requestCCEOffer("a79051bd87db0958ee9836ac4b045614586a88cc",e));break;case"fnlondon.com":"Article"!==cxdj.getUtagData().page_content_type&&cxenseOffers.requestCCEOffer("dd988baf5af5819704a9889728e5b9f82189f8ec",e);break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("1525c3c9ed64809f70104e5300e5debd2a92605f",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("12458a7acb1868379181ba540ba8c31bcf6ffae4",e);break;case"penews.com":cxenseOffers.requestCCEOffer("139e07a3c1a5bca246465c71b424f9472584146d",e);break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"Video"!==cxdj.meta.section&&"Video Center"!==cxdj.meta.section&&"Graphics"!==cxdj.meta.type&&(cxdj.isSubscriber(cxdj.meta.subscriber)?sessionStorage.getItem("isCCSDScrimView")||cxenseOffers.requestCCEOffer("b28b2d60e32b7d56247fdd88f89837526e93718c",e):cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e));break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("05c771a5f0c9be8128d8597b3fc5c43c1f7a8ada",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("11fe6d28255622ce1dd6d06aa7a4cc97aafc469f",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("e4090803f309dc232db0b0d7d577625551571009",e)}}}},displayProScrim(){var e;cxdj.isNewRelicMonitoring()||(e="cx-pro-scrim",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("410321637a47e12baa8863e677aba7a74cf81319",e))},displaySwgScrim(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("37f03c441247b04f717f8931c4030b4f6efe8448",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("3d1d22206acb0a0aa0fe4c0ee3ab2ff9dee37080",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("1bf55ecd7131ef252b9b73efc4fc5b79a3659f86",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("ce75c786922fa9a3309c8005c3358ecbfc3c0efb",e)}}},displayProSnippet(){var e;cxdj.isNewRelicMonitoring()||(e="cx-pro-snippetad",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("618da8476c015a43e028f0f026cb08d3e3a173b4",e))},displayProCandybar(){var e;cxdj.isNewRelicMonitoring()||(e="cx-pro-candybar",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("12b72b5f423f0d0b51e1796bfd800c057765ab49",e))},displayCandyBar(){if(!cxdj.isNewRelicMonitoring()){var e="cx-candybar";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("15fc5810f60a3ecdf05c10bbdab82744dbc95213",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("1bf0808dac142847fced6075793fa9b37ed581f0",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("69829cec87fa661ad05628f01c21d793881ddf08",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("46c976a6d4479e4ec8c96b13fb9e002f6eb68265",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("23e199122ee3c03dfcdce8447e05b51c11665f89",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("49e69245fbd802cf880e0d594a1e0969dcdbc6d9",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("1c7cfe13eb4ae0e594dba0323f1864e905fb5e0a",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("d46ccfe810558f1df73280cfdd694a18165ed217",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("36bfed3799d02d926501c9ba4c42f0c528d9d012",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("45f5ca6fa134b605506a7668f140843ef8751248",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("27c2700b1edb56d254216b4ad01ab529ceb3e7dc",e)}break;case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("3136cddea70289fe567e2697f7fcf7124817cdf3",e);break;case"marketwatch.com":"subscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("24e73f90480b58e36dff89e2e0d0ace0168e43ba",e):cxenseOffers.requestCCEOffer("28f7dc8ae583469d207401968eba8a7f811f7267",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("1666d27019d1402232df2ea166649e4a992f83ed",e);break;case"penews.com":cxenseOffers.requestCCEOffer("a381d0556addfaaef7e062fe8e7886abe2cd5260",e);break;case"dowjones.net":case"wsjplus.com":break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("fee3e247795f8e6f14cec1654a5cd88152a84a99",e)}}},displayMwTopNews(){var e;cxdj.isNewRelicMonitoring()||"marketwatch.com"===cxdj.meta.topDomain&&(e="cx-recommended",cxenseOffers.hasDivId(e))&&cxenseOffers.requestCCEOffer("2b64a09aac82f77d0c3896930dae048fdb5f7ddb",e)},displayMGPoptart(){var e="cx-lhs-poptart";cxenseOffers.hasDivId(e)&&"mansionglobal.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("ae9cb7c837ba9f3d67b2fa4edc2a3ea5e9bb094b",e)},displayLiveCoverageTile(){if(!cxdj.isNewRelicMonitoring()&&"wsj.com"===cxdj.meta.topDomain)for(const e of["cx-live-coverage-tile","cx-live-coverage-tile_2"])cxenseOffers.hasDivId(e)&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("bbf5004c1541d0b4fd4dfd4af819fb5c18ea97f3",e):cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e))},displayLiveCoverageSnippet(){var e;cxdj.isNewRelicMonitoring()||(e="cx-lc-snippet",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("f047f0b3ca4289545d222c589a4749c88afa4fc1",e))},displayExpRepRightRail(){var e;cxdj.isNewRelicMonitoring()||(e="cx-exp-rep-right-rail",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b326c1c3a82c69e6d09f3ed6d32eb5b604a43962",e))},displayExpRepArticleContent(){var e;cxdj.isNewRelicMonitoring()||(e="cx-content-main",cxenseOffers.hasDivId(e)&&"Experience Report"===cxdj.getUtagData().article_type&&cxenseOffers.requestCCEOffer("ac1d3b4b6acb27df1dd0049b42e2c011031dd595",e))},displayNewsletterTile(){if(!cxdj.isNewRelicMonitoring()){var e="cx-newsletter-tile";if(cxenseOffers.hasDivId(e)){var{page_content_type:t,page_site:s,page_section:r,page_subsection:c}=cxdj.getUtagData();switch(cxdj.meta.topDomain){case"wsj.com":"wsjpro"!==s?"naus"===cxdj.meta.edition&&("ITP"===r?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("bbf5004c1541d0b4fd4dfd4af819fb5c18ea97f3",e):cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e):"Experience Report"===c?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("70fc3140d02b250c5cf765fef8975ddfe4a4ccb2",e):cxenseOffers.requestCCEOffer("421485868f76ecbb3cc8c06c2655516a8bc697c6",e):cxenseOffers.requestCCEOffer("e68cc07ebf7b89a142b78f1850ac786ac22aa3c7",e)):cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("42b5c423f0c9ce0e4ea14f0ddeed23ea53fcc54b",e):cxenseOffers.requestCCEOffer("9d660f11b6dce3bba615ee946a6e8083514f94f1",e);break;case"barrons.com":cxenseOffers.hasDivId("webui_newsletter_inset")&&"Article"===t||cxdj.getMetaTagValue("keywords","name").includes("newsletteroff")||(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("6a905ac47f9ad184994a4e77ba5eba015e087723",e):"nonsubscriber"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("c141ad1193c47d3bb2d9c38abb81229917c0d1e7",e))}}}},displayMembershipTile(){if(!cxdj.isNewRelicMonitoring()){var e="cx-membership-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":"wsjpro"===cxdj.getUtagData().page_site?cxenseOffers.requestCCEOffer("e73119387d9c6312e6d5993fd54420b15a9c6d12",e):cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("556ce9c5384c380288f1ea527cbd712e77c333e2",e):cxenseOffers.requestCCEOffer("9e5724d5eda30e7c52430d3a5113fed1ed60d22a",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("aa45e25a0ccac1c2df888c2ef19c4eae85b2f2b6",e):cxenseOffers.requestCCEOffer("44e2ad40b81445b146fa2ac43233637ecaa83695",e)}break;case"marketwatch.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("232052ae3dbb3db5fd2bcf224a173f7c66e3e1b7",e):cxenseOffers.requestCCEOffer("7494fd2c425fe9b12869e87d0897dda4687f0071",e)}}},displayHpEngagementTile(){var e;cxdj.isNewRelicMonitoring()||(e="cx-hp-engagement-tile",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("0595ce29d7ba2ff6d00fc524abcafa7a437748bf",e):cxenseOffers.requestCCEOffer("911a484d53608e30c46b27128087a062e71cf8a9",e)))},displayNotification(){if("staging"!==cxdj.env&&!cxdj.isNewRelicMonitoring()){const s="cx-notification";var e=switch(cxdj.meta.topDomain){case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)&&e("68781b66900d5e3f4b42ff5be1d712959ff90f4d");break;case"wsj.com":var t=document.querySelector("#breaking-news-6e96dff1d9fe");!cxenseOffers._isDivEmpty(t)||cxenseOffers.hasDivId(s)&&!sessionStorage.getItem("isCCSDCandybarView")&&cxenseOffers.requestCCEOffer("fdffeaef25759d5a4b278e2b045241d7cc93fb7c",s);break;case"moneyish.com":e("05065098ddbaa3ed460d7d151c1fd724ec6b03d4");break;case"huanyuju.com":case"mansionglobal.com":0===window.location.pathname.indexOf("/es/")||"/es"===window.location.pathname?e("a20344ab78eb6ea53a48817e372168b8b45e611e"):e("3726e868762f00176bf156370845f12f0e1923d0");break;case"wsjplus.com":e("d3e3c35fd9f854b03a6472811f98780968bfeae7")}}},displaySnippet(){if(!cxdj.isNewRelicMonitoring()){let e;switch(cxdj.meta.topDomain){case"barrons.com":e="cx-interstitial-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("80c889e1149a1d949c7f0976ed3bba042569df39",e),e="cx-advisor-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b4d497c31c59ab1a93edc7ea69d8633eca1eaa5c",e);break;case"fnlondon.com":e="cx-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("9ef64dfdc06f9f3c917196cca13b2b1f9e3438b0",e);break;case"marketwatch.com":e="cx-marketing-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",e),e="cx-snippet",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("d3f5bcfc09f3b1143517476f28d8a4c5dd0ace8c",e);break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"modern"===cxdj.getUtagData().page_content_type_detail?(e="cx-snippet-overlay",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("d80d90db46839643c0f5816042aebe20be65bd15",e)):(e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("7c0f421cfa9c7ff41f8607ed2a35e74618ba7a6a",e));break;case"asiajp":e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("83ba16c918566642d7f7c2338d054cfa41984333",e);break;case"asiacn":e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("f351b3bf7e2d2cf25f3b367f4a5989fde7e2933e",e);break;case"asiacn_hant":e="cx-snippet-promotion",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("eb80b7f56087340d84371a119cb902dbd63add21",e)}}}},displaySignInReminder(){if(!cxdj.isNewRelicMonitoring()){var e="cx-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber&&!(-1<cxdj.getMetaTagValue("stack.name").indexOf("static"))&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"naus":cxenseOffers.requestCCEOffer("e6ac7b2eeb47df18b23b5e3470ef7fe0cb5949d1",e);break;case"asiajp":cxenseOffers.requestCCEOffer("85ed5943cf5309541cdfad426b1b74b52fd85ba8",e);break;case"asiacn":cxenseOffers.requestCCEOffer("fe71f96af21230de427aa3968b0d1a49af2c9f8f",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("65343b9ea632e6fc06ca911e9c917d810d26ad1d",e)}}},displayArticleInsetSignInReminder(){if(!cxdj.isNewRelicMonitoring()){var e="cx-article-inset-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber)switch(cxdj.meta.topDomain){case"wsj.com":"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("13195ea4c444e717bb16238bee7fa16a3679caa6",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("8c89d7da8ed8b739575848d6ef2ebfaf0511f72f",e)}}},displayCustomFooter(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mg-footer";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"huanyuju.com":case"mansionglobal.com":cxenseOffers.requestCCEOffer("2be38a0c08a35cec08c20ba86bd650386b832ac3",e)}}},displayPoptart(){if(!cxdj.isNewRelicMonitoring()){var e="cx-poptart";if(cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("a4e5e66af9756b29d6dac6bb8c6303c26984a92f",e);break;case"asiacn":cxenseOffers.requestCCEOffer("cc586206df60d808d326be68a038339b9190e0c9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("8c2844db17f8de6a9d833b8fc2021a9eabad71b3",e)}}},displayArticleInlineNewsletterTile(){var e;cxdj.isNewRelicMonitoring()||(e="cx-article-inline-newsletter-tile",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e))},callCxPianoMasterLauncher(){if(!cxdj.isNewRelicMonitoring()){var e="cx-piano";switch(cxdj.meta.topDomain){case"barrons.com":cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("2993364dab4735f2ada34803c6dbc9901b473b62",e);break;case"wsj.com":cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("cd6dfe5cad0e11d2b5b32bf63b7776a73af93c00",e);break;case"fnlondon.com":if("fnlondon.com"===cxdj.meta.topDomain&&"/"===window.location.pathname){const s="cx-topstories";cxenseOffers.lazyLoad(s,}else{var t="cx-topstories-1",t=(cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("c9b8590e00936bb0bec277e47f3a6d15b5213269",t),document.querySelector("body.is-continuous"));if(t){const r="cx-topstories-2";if(cxenseOffers.hasDivId(r))cxenseOffers.requestCCEOffer("b6978d0eb797821de133178a8d70536502de8f96",r);else{const c=()=>{window.requestAnimationFrame(()=>{cxenseOffers.hasDivId(r)&&(cxenseOffers.requestCCEOffer("b6978d0eb797821de133178a8d70536502de8f96",r),window.removeEventListener("scroll",c))})};window.addEventListener("scroll",c)}}}}}},displayTopRhsHeader(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId("cx-popup")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("fa9ece0be3e76d3209af49ec40ae78155e52670a","cx-popup"):cxenseOffers.requestCCEOffer("3476b300f375a26234b8cb4d448a5a62fe132e38","cx-popup"));break;case"barrons.com":cxenseOffers.hasDivId("cx-header")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("1b660fe240d883254c2f46031c49182cf5c10e14","cx-header"):cxenseOffers.requestCCEOffer("8beff7dca1f80abd8d6e191025ab9acfd2204aa5","cx-header"));break;case"marketwatch.com":cxenseOffers.hasDivId("cx-header")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("c819ff28558758e2a8472cdf4b37a1c76cf72ad9","cx-header"):cxenseOffers.requestCCEOffer("1594cc79136361e4a4391f3b7b1ea0294f0511f3","cx-header"))}},displaySideMenu(){var e;cxdj.isNewRelicMonitoring()||(e="cx-sidemenu",!cxenseOffers.hasDivId(e))||"marketwatch.com"!==cxdj.meta.topDomain||cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("48e9c719e21a2f9226b1487fba341059455dd976",e)},displayCatchUp(){var e;cxdj.isNewRelicMonitoring()||(e="cx-catch-up",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("3f2954bdd14f53fc51f4c7d552bfeec1158934d5",e))},displayWhatToReadNext(){if(!cxdj.isNewRelicMonitoring()){const e="cx-what-to-read-next";cxenseOffers.hasDivId(e)&&cxenseOffers.lazyLoad(e,()=>{if("wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"naus":cxdj.getUtagData().article_type.includes("Journal Reports")&&"full"===cxdj.getUtagData().article_template||cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e);break;case"asiajp":cxenseOffers.requestCCEOffer("4393cade519a0ab746346fc20f9e93952d3dba98",e);break;case"asiacn":cxenseOffers.requestCCEOffer("7d5fe562cf0a8a8f2d7983b2913b02f1addb36e9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("e221afec8f77bf597b9e04d5f8e92b76c0ecc4b7",e);break;default:cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e)}})}},displayNextRead(){if(!cxdj.isNewRelicMonitoring()){let e;switch(cxdj.meta.topDomain){case"marketwatch.com":e="cx-next",cxenseOffers.hasDivId(e)&&!window.matchMedia("(max-width: 1560px)").matches&&cxenseOffers.requestCCEOffer("5d3fd8776d49182b69c0291543394a9640e2d8f7",e);break;case"fnlondon.com":e="cx-below-article",cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("34eb52d4cdb355b0c4e26af1214cd738fc700387",e)}}},displayInArticlePromotion(){var e;cxdj.isNewRelicMonitoring()||(e="cx-inline-promotion",cxenseOffers.hasDivId(e)&&"fnlondon.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("6a7608341f3f6ade30b35e754673f08a7318b9a3",e))},displayMostPopularArticles(){if(!cxdj.isNewRelicMonitoring()){var e="cx-most-popular-articles";if(cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("36538210711f305d5f22951f73a1c139c52da097",e);break;case"asiacn":cxenseOffers.requestCCEOffer("b2be944fbe2015fdf31ba11ba0d46c8e3ff1ebda",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("1329bc0da129961e62be1edd348f56f593edb8a0",e);break;default:cxenseOffers.requestCCEOffer("4c744d3013084762411b96593dcd0052cfec928c",e)}}},displayDeloitteTrending(){var e;cxdj.isNewRelicMonitoring()||(e="cx-trending-articles",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("ef32dea7d4701eb48ef8fde3da3e5a60b283880b",e))},displayDeloitteRightRail(){var e;cxdj.isNewRelicMonitoring()||(e="cx-deloitte-insight",cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("2a15f91fb0031a6eb0b15bd05b36bc23765bd090",e))},displayMarketData:function(){var e;cxdj.isNewRelicMonitoring()||(e="cx-marketdata",cxenseOffers.hasDivId(e)&&"marketwatch.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("63049966a9dc2d05a429143596b6d2b771ea9555",e))},displayPuzzleSnippet(){var e;cxdj.isNewRelicMonitoring()||"barrons.com"===cxdj.meta.topDomain&&(e="cx-puzzle-snippet",cxenseOffers.hasDivId(e))&&cxenseOffers.requestCCEOffer("5152028a28d276dc7639862ccc4f32972055adfc",e)},displayPaywall(){if(this.cxshield&&"object"==typeof this.cxshield){switch(this.cxshield.placement){case"cx-articlecover":cxdj.displayArticleCover(),cxdj.displayJoinTheConversationInline(),cxdj.displayArticleInlineNewsletterTile();break;case"cx-candybar":cxdj.displayCandyBar();break;case"cx-scrim":cxdj.displayScrim();break;case"cx-pro-scrim":cxdj.displayProScrim();break;case"cx-pro-snippetad":cxdj.displayProSnippet();break;case"cx-snippetad":cxdj.displaySnippet(),cxdj.displayProSnippet();break;case"cx-lc-snippetad":cxdj.displayLiveCoverageSnippet()}"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()}else"preview"===cxdj.meta.template?(cxdj.displaySnippet(),cxdj.displayProSnippet(),"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()):(cxdj.displayScrim(),cxdj.displayCandyBar(),cxdj.displayProCandybar())},getUtagData(){return"object"!=typeof window.utag_data?{}:window.utag_data},prepareDiv(e){var t;!e||(t=document.getElementById(e))||((t=document.createElement("div")).setAttribute("id",e),document.body.insertBefore(t,document.body.firstChild))},normalizeUserType(e){return"subscriber"===e||"prosubscriber"===e?"subscriber":"nonsubscriber"===e||"regUser"===e?cX.getCookie("TR")?"subnotloggedin":"nonsubscriber":"freeRegister"===e?"registered":"default"},readPageContext(){var e,t,s,r,c={},{article_type:a,article_template:n,cx_shield:i,cms_name:o,page_access:d,page_content_region:f,page_content_language:l,page_content_type_detail:u,page_section:A,page_subsection:M,page_site_product:U,profiles:p,sub_paused:b,user_tags:m,user_type:x,user_ref:X,swg:h,vix:z,harmony:H}=cxdj.getUtagData();"staging"===cxdj.env&&(c.env=cxdj.env),c.topDomain=cX.getTopLevelDomain();let g=i;if(g&&"string"==typeof g)try{g=JSON.parse(g)}catch(e){}"object"==typeof g&&({tag:i,placement:r,campaign:e,type:t,propensity:s}=g,c.pwTag=i,c.pwPlacement=r,c.pwCampaign=e,c.pwType=t,"object"==typeof g.propensity&&({propensityScore:i,quantile:r}=s,c.propScore=i,c.propQuantile=r),cxdj.cxshield=g),cxdj.getQueryParamValue("fb_news_token")&&("facebook_news"===cxdj.getMetaTagValue("user.exp")?c.fbNewsUnlock="true":c.fbNewsUnlock="false");try{var w,{mod:j,reflink:O,trackCode:C}=cX.library.parseUrlArgs();j&&(c.navSource=j),O&&(c.reflink=O),C&&(c.trackCode=C),c.type=a,c.template=n,c.access=d,c.section=A,c.subsection=M,c.cms_name=o,c.vix=z,"true"===b&&(c.subPaused=b),c.subscriber=x?cxdj.normalizeUserType(x):cxdj.getMetaTagValue("user.type")||"default";let e;"asiacn"===(e="North_America_USA"===f?"naus":"Japan"===f?"asiajp":"China"===f?"asiacn":(w=(e=cX.getCookie("wsjregion")||"na,us").indexOf("reset"),(e=-1===w?e:e.slice(0,w-1)).replace(/,/g,"")))&&"zh-hant"===l&&(e="asiacn_hant"),c.edition=e,m&&(m.includes("WSJPRO-CYBER")&&(c.entitlement="wsjpro-cyber"),m.includes("BAR-ADVISOR")&&(c.entitlement="bar-advisor"),m.includes("BAR-ADVISOR-TRIALIST-HOMEPAGE")&&(c.entitlement="bar-advisor-triallist-homepage"),m.includes("BAR-FINDER")&&(c.entitlement="bar-finder"),m.includes("BARRONS-SUB")&&(m.includes("MW-ONLINE")||m.includes("MW-SUB"))&&(c.entitlement="bar-mw"),m.includes("MWPREMIUM")&&(c.entitlement="mwpremium"),m.includes("WSJ-CORP"))&&(c.entitlement="exec-edition");var y,v,E=X||cX.getCookie("TR"),I=(E&&(0===E.indexOf("V2-")?cxdj.userId=E.substring(3):cxdj.userId=E),cxdj.sharedAccounts[cxdj.userId]&&(c.sharedAccount=cxdj.sharedAccounts[cxdj.userId],cxdj.userId=null),c.bucket=cxdj.getUserBucket(),c.ab_bucket=cxdj.getAbBucket(),c.pageContentTypeDetail=u||"default",c.pageSiteProduct=U,p&&p.account),k=(I&&(y=Date.parse(I.stop),v=Date.now()-y<63072e6)&&(c.targettableFormer=v.toString()),["BARRONS-SUB","MW-SUB","WSJ-SMARTPHONE","WSJ-PLUS","WSJ-IPAD"]);for(let e=0;e<k.length;e++){var S=k[e];if(m&&-1<m.indexOf(S)){c.userTags=S;break}}var D,_,q,T,N=document.querySelector("#catch-up-module-container"),P=(N&&({catchUpSection:D,catchUpSlug:_,catchUpTopic:q}=N.dataset,c.catchupmodulesection=D,c.catchupmoduleslug=_,c.catchupmoduletopic=q),h&&h.showcaseEntitlement&&(T=h.showcaseEntitlement["isUserRegistered"],c.swg="true"===T?"true":"false"),H&&(c.harmony="true"),cX.getCookie("djcs_session")),R=cX.getCookie("ca_id");c.sessionState=P&&R?"both":P?"djcs":R?"ca":"none"}catch(e){}return c},requestAllOffers(){cxdj.displayArticleInsetSignInReminder(),cxdj.displayCustomFooter(),cxdj.displayDeloitteTrending(),cxdj.displayDeloitteRightRail(),cxdj.displayExpRepArticleContent(),cxdj.displayInArticlePromotion(),cxdj.displayLiveCoverageTile(),cxdj.displayMGPoptart(),cxdj.displayMarketData(),cxdj.displayMembershipTile(),cxdj.displayMostPopularArticles(),cxdj.displayNewsletterTile(),cxdj.displayNextRead(),cxdj.displayPoptart(),cxdj.displaySideMenu(),cxdj.displaySignInReminder(),cxdj.displayTopRhsHeader(),cxdj.displayWhatToReadNext(),"marketwatch.com"===cxdj.meta.topDomain&&"/"===window.location.pathname&&cxdj.displayMwTopNews(),"wsj.com"===cxdj.meta.topDomain&&0===window.location.pathname.indexOf("/graphics")&&cxenseOffers.hasDivId("cx-recommendations")&&cX.CCE.runCxVersion(cxdj.graphicsTestId,"cx-recommendations",{widgetId:"7ba219edc99dffa66b9542eb11b13234440982ae"})},init(){var[e]=document.getElementsByTagName("head"),t=document.createElement("script"),t=(t.type="text/javascript",t.src="https://cdn.cxense.com/cx.js",e.appendChild(t),document.createElement("script"));t.src="https://cdn.cxense.com/cx.cce.js",t.onload=()=>{cX.callQueue.push(["invoke",()=>{cxdj.bootstrapPage()}])},e.appendChild(t)},reInit(){var e=window.__cxdj_init;e instanceof Promise&&e.then(()=>{cxdj.url===window.location.href?console.error("[cxdj:reInit]: initPromise called twice for same page view"):(cxdj.referrer=cxdj.url,cxdj.url=window.location.href,cX.initializePage(),cxdj.bootstrapPage())}).catch(e=>{console.error("[cxdj:reInit]: initPromise did not resolve successfully: "+e)})},bootstrapPage(){cxTest.init(null,"wsj",cxdj.persistedQueryId,"timeSome");var e=cxdj.getMetaTagValue("cx_pv_id");e&&cX.setRandomId(e),cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=cxdj.readPageContext(),cX.requireActivityEvents(),cxdj.initializationCompleted=!0,cxdj.newPageEvent();const t=window.setInterval(()=>{var e;"interactive"!==document.readyState&&"complete"!==document.readyState||((e=void 0!==window.grandcanyon)&&"wsj.com"===cxdj.meta.topDomain||cxdj.displayNotification(),e||(cxdj.displayPaywall(),cxdj.requestAllOffers(),cxdj.callCxPianoMasterLauncher()),window.clearInterval(t))},200);"barrons.com"===cxdj.meta.topDomain&&"/"===window.location.pathname&&cxdj.callCxPianoMasterLauncher(),cxdj.trackKnownElements()},newPageEvent(){var e=cxdj.getSiteId(window.location.hostname);cX.setSiteId(e),cX.setCustomParameters(cxdj.meta),cxdj.isSubscriber(cxdj.meta.subscriber)&&cxdj.userId&&cX.setUserProfileParameters({knownSubscriber:1}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent({location:cxdj.url,referrer:cxdj.referrer})},isArray,window.cX=window.cX||{},cX.callQueue=cX.callQueue||[],(()=>{if(!cxdj.initialized){cxdj.initialized=!0;let t=window.__cxdj_init;Object.defineProperty(window,"__cxdj_init",{get:set:e=>{t=e,cxdj.reInit()},enumerable:!0}),t instanceof Promise?t.then(.catch(:cxdj.init()}})(),window.cxenseOffers=window.cxenseOffers||{_siteKey:"6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",hasDivIdtranslate(e="",t="en_US",s={}){var r,c;return!e||"en_US"!==t&&"es_ES"!==t&&"zh_HANS"!==t||"object"!=typeof s?(console.error("Error: Missing Props in translate function"),e):(c=s&&s.en_US||{},r=s&&s.es_ES||{},s=s&&s.zh_HANS||{},(c={en_US:Object.assign({mg_nlpopup_requiredCheckboxErr:"You must click the Policy Agreement checkbox.",mg_nlpopup_validEmailErr:"Please enter a valid email address."},c),es_ES:Object.assign({mg_nlpopup_requiredCheckboxErr:"Debe hacer click en la casilla de verificación Aceptando la Política.",mg_nlpopup_validEmailErr:"Por favor ingrese una dirección de correo válida"},r),zh_HANS:Object.assign({},s)})[t]&&c[t][e]||e)},getDisplaySection(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){e=e["recs-category"].split("/");if(1<e.length)return t.hasOwnProperty(e[1])?t[e[1]]:e[1]}return"WSJ"},shortenTitle(e,t){var s;return t<e.length?(s=e.charAt(t),e=e.substr(0,t),(e=" "!==s?e.substr(0,e.lastIndexOf(" ")):e)+"..."):e},updateCCEKValue(t){if(t&&t.length){var s=[];for(let e=0;e<t.length;++e)t[e].adTargetingKeywords&&s.push(t[e].adTargetingKeywords);s.length&&(cxdj.meta.k=s.join(" "))}},addContextParameter(e,t,s){t=""+t,s=s.toLowerCase();e.context.categories[s]=t,e.context.parameters.push({key:s,value:t})},getCCEContext(e,t,s){var r,c=cxdj["meta"];let a={},n=((a=e?JSON.parse(JSON.stringify(e)):a).context||(a.context={}),a.context.categories||(a.context.categories={}),a.context.parameters||(a.context.parameters=[]),s&&(a.user=s),["subscriber","edition","pwCampaign"]);t&&(n=n.concat(t));for(let e=0;e<n.length;++e)c.hasOwnProperty(n[e])&&void 0!==c[r=n[e]]&&cxenseOffers.addContextParameter(a,c[r],r);return a},requestCCEOffer(e,t,s,r,c){let a=cxdj.meta.navSource?["navSource","bucket"]:["bucket"];c&&(a=a.concat(c)),t&&t.length&&!cxenseOffers.hasDivId(t)&&cxdj.reportMissingDiv(t),cxTest.run({widgetId:e,targetElementId:t},cxenseOffers.getCCEContext(s,a,r))},_getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},getUserRenewLink(i,o){o="function"==typeof o?o:()=>{},fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(t=>{if(!t||!t.profile)throw Error("Invalid Profile Data");var c={};for(let e=0;e<t.profile.length;++e){var s=t.profile[e];for(let e=0;e<s.groups.length;++e)c[s.groups[e].group]=s.item}var a=c["wsj-renew-postage-indicator"],n=c["wsj-bol-renew-postage-indicator"];if(a||n){let e,t,s,r;return a?"c"===a?(e=c["wsj-renew-ctaurl1-1"],t=c["wsj-renew-ctaurl1-2"]||""):"m"===a&&(e=c["wsj-renew-ctaurl2-1"],t=c["wsj-renew-ctaurl2-2"]||""):n&&("c"===n?(e=c["wsj-bol-renew-ctaurl1-1"],t=c["wsj-bol-renew-ctaurl1-2"]||""):"m"===n&&(e=c["wsj-bol-renew-ctaurl2-1"],t=c["wsj-bol-renew-ctaurl2-2"]||"")),e&&t?(r=e+t,r=(r="userprofile"!==(i||"").toLowerCase()&&(s=r.match(/(.*)((\&|\?)mod=([^&]*))(.*)/))&&6<=s.length?s[1]+s[3]+"mod="+i+s[5]:r).replace(/(\?|&)ec=([^&]e()),o(null,r)):o()}return o()}).catch(e=>o(e))},get1stPartyData(r,c){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(t=>{if(!t||!t.profile)throw Error("Invalid Profile Data");for(let e=0;e<t.profile.length;++e){var s=t.profile[e];if(s.item)for(let e=0;e<s.groups.length;++e)if(s.groups[e].group===r)return c(null,s.item)}return c()}).catch(e=>c(e))},getQueryVariable(t){var s=window.location.search.substring(1).split("&");for(let e=0;e<s.length;e++){var r=s[e].split("=");if(r[0]===t)return r[1]}return!1},getSection(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var e=e["recs-category"].split("/"),s=e[0];if(1<e.length){e=e[0]+"/"+e[1];if(t[e])return t[e]}if(t[s])return t[s];if(s.length)return s}return"WSJ"},slideUp(s,r,c){if(s){c="function"==typeof c?c:()=>{};var e=s.clientHeight||s.offsetHeight;if(0===r)s.style.height=0,s.style.display="none";else{r=isNaN(r)?400:r;let t=s.style.height=e;const a=Math.round(25*e/r),n=new Date,i=setInterval(()=>{var e=new Date;if(t<=0||e-n>=r)return clearInterval(i),s.style.height=0,s.style.display="none",c();t-=a,s.style.height=t+"px"},25)}}},getSubscribedNewsletterIds(c){"function"==typeof c&&fetch("/newsletters/svc/signup/2",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(e=>{if(!e||!e.subscriptions)throw Error("Invalid User Subscriptions Data");var t=e.subscriptions,s=t.length,r=[];for(let e=0;e<s;e++)"object"==typeof t[e]&&t[e].opt_in&&r.push(t[e].id);return c(null,r)}).catch(e=>{return c(e,[])})},signupGuestPass(e,t,s){if(e&&t){const c=isNaN(parseInt(t))?-1:parseInt(t);var r=0===document.location.pathname.indexOf("/membership/")?"https://www.wsj.com":document.location.href,e={email:e,type:t,userId:cX.getCookie("cX_P"),url:r};fetch("/emailsignup/enroll",{method:"POST",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>e.json()).then(e=>{if(!e||e.code)throw Error(e.message);7===c?cxdj.reportInteractionEvent("GuestPass7DSuccess"):2===c&&cxdj.reportInteractionEvent("GuestPass2DSuccess"),cX.setUserProfileParameters({userEvent:"EmailOfferGrantedArticleCover"}),e&&e.url&&(window.location.href=e.url)}).catch(e=>{s&&(s.innerHTML=e||"Unable to process request"),cxdj.reportInteractionEvent("EmailOfferError",{error:e})})}},signupMemberGetMember(t,e,s,r,c,a){s&&r&&c&&(a="function"==typeof a?a:()=>{},fetch("/emailthis/member-signup",{method:"POST",credentials:"include",body:JSON.stringify({to:s,"g-recaptcha-response":e}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(r,c,!0),a(),grecaptcha.reset(t)}).catch(e=>{r.style.display="none",c.innerHTML="<p>An unexpected error occurred and we were unable to send the invite</p>",cxenseOffers.fadeIn(c,0),grecaptcha.reset(t)}))},_signupNewsletterAsSub(t,s,r={}){const c="/newsletters/svc/signup/";const a={"wsj.com":2,"barrons.com":30,"marketwatch.com":114,"fnlondon.com":201,"mansionglobal.com":200}[cxdj.meta.topDomain];if(a)return fetch(c+a,{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return e.json();throw Error("Invalid HTTP Status Code")}).then(e=>{if(e&&e.email)return e={email:e.email,subscription:{}},"object"==typeof r&&0<Object.keys(r).length?e.subscription=r:e.subscription[t]=s,fetch(c+a,{method:"PATCH",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"});throw Error("Invalid Email Data")})},candybarSignupNewsletterAsSub(t,s,r,c,a,n){t&&s&&(a="function"==typeof a?a:()=>{},cxenseOffers._signupNewsletterAsSub(t,!0).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers._hideElement(s),cxenseOffers.fadeIn(r,0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),n=n?"_"+n:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"+n}),a()}).ca0)}))},signupNewsletterAsSub(t,s,r,c,a){t&&s&&(c="function"==typeof c?c:()=>{},cxenseOffers._signupNewsletterAsSub(t,!0).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(s,r,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),a=a?"_"+a:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"+a}),c()}).catch(e=>{cxenseOffers.showSignupMessage(s,r,!1)}))},signupNewsletterAsNonSub(s,r,c,a,n,i,o){const d={"wsj.com":{url:"/newsletters/svc/signup/2/simple-signup",editionId:"WSJ-EN_US"},"barrons.com":{url:"/newsletters/svc/signup/30/simple-signup",editionId:"BARRONS-EN_US"},"marketwatch.com":{url:"/newsletters/svc/signup/114/simple-signup",editionId:"MARKETWATCH-EN_US"},"mansionglobal.com":{url:"/newsletters/svc/signup/200/simple-signup",editionId:"MANSIONGLOBAL-EN_US"}};d[cxdj.meta.topDomain]&&(i="function"==typeof i?i:()=>{},cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{var t;s&&r&&(t=Array.isArray(r)?r:[parseInt(r)],t={emailAddress:s,newsletterIds:t,marketing:n,returnLink:"http://www."+cxdj.meta.topDomain,editionId:d[cxdj.meta.topDomain].editionId,displayContextId:"ONE_CLICK_REGISTRATION","g-recaptcha-response":e},fetch(d[cxdj.meta.topDomain].url,{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(c,a,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:r}),o=o?"_"+o:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:r,module_tracker:"cxense_module"+o}),i()}).ca1)}))})})}))},signupForElectionOpenHouse(t){var e={url:window.location.href};fetch("/emailsignup/electionOpenhouse",{method:"POST",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>e.json()).then(e=>{if(!e||!e.redirectUrl)throw Error("Invalid HTTP Status Code");t(null,e.redirectUrl)}).catch(e=>{t(e)})},showSignupMessage(e,t,s){e&&t&&(e.style.display="none",s||(t.innerHTML=`<p>We could not Subscribe you at this time. <a href="https://${window.location.host}/newsletters">Manage your subscription manually</a></p>`),cxenseOffers.fadeIn(t,0))},submitJobForm(e,t){t="function"==typeof t?t:()=>{};fetch("/user/fpd/api/profile",{method:"POST",credentials:"include",body:cxenseOffers._convertDataFormat(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return cxdj.reportInteractionEvent("p13nScrim",{submitType:"successfulSubmit"}),t(null);throw Error("Invalid HTTP Status Code")}).catch(e=>t(e))},isUserInUs(){let e=!1;var t=document.cookie.match(/DJSESSION=([^;]*);/);return t&&(t=decodeURIComponent(t[1]),e=-1!==t.indexOf("country=us")),e},getVxid(){var e=document.cookie.match(/TR=V2-([^;]*)/);return e&&1<e.length?e[1]:void 0},getCxenseId(){var e=document.cookie.match(/cX_P=([^;]*)/);return e&&1<e.length?e[1]:void 0},isEmailVe)},isEmailInputValidated(e,t){if(e&&t){const r="1px solid #cccccc",c="1px solid #f12b2b",a="",n="Please enter your Email",i="Please enter a valid Email";var s=e.value;if(""!==s&&cxenseOffers.isEmailValid(s))return t.textContent=a,e.style.border=r,!0;""===s?t.textContent=n:cxenseOffers.isEmailValid(s)||(t.textContent=i),e.style.border=c}return!1},handleNewsletterInputsChange(e,t,s,r,c){let a=!0;const n=()=>{a?a=!1:cxenseOffers.isNewsletterInputsValidated(e,t,s)};e&&e.addEventListener("change",e=>{e.stopPropagation(),n()}),s&&s.addEventListener("chan()}),r&&r.addEventListener("change",e=>{e.stopPropagation(),c&&(c.style.display=r.checked?"block":"none")})},isNewsletterInputsValidated(e,t,s){if(e&&t&&s){const c="1px solid #cccccc",a="1px solid #f12b2b",n="",i="You must click the Policy Agreement checkbox & enter Email",o="Please enter your Email",d="You must click the Policy Agreement checkbox",f="Please enter a valid Email";var r=e.value,s=s.checked;if(""!==r&&s)return cxenseOffers.isEmailValid(r)?(t.textContent=n,e.style.border=c,!0):(t.textContent=f,e.style.border=a,!1);s||""!==r?s?""===r&&(t.textContent=o,e.style.border=a):(t.textContent=d,e.style.border=c):(t.textContent=i,e.style.border=a)}return!1},throttle(e,t){let s=!1;return()=>{s||(e.apply(null,arguments),s=!0,setTime!1},t))}},pageScrollDown(e,t,s){if(!(isNaN(e)||100<e||e<0)){var r=window.innerHeight,c=document.documentElement.scrollHeight||document.body.clientHeight;const a=(c-r)*e/100,n=()=>{window.requestAnimationFrame(()=>{window.pageYOffset>=a&&"function"==typeof t&&(t(),window.removeEventListener("scroll",n))})};r<c?window.addEventListener("scroll",n):"function"==typeof s&&s()}},pageScroll(e,r,c,t){if(!(isNaN(e)||100<e||e<0)){let s=!1;var a=window.innerHeight,n=document.documentElement.scrollHeight||document.body.clientHeight;const i=(n-a)*e/100;a<n?window.addEventListener("scroll",cxenseOffers.throttle(e=>{var t=window.pageYOffset;t>=i&&!s?("function"==typeof r&&r(),s=!0):t<i&&s&&("function"==typeof c&&c(),s=!1)},50)):"function"==typeof t&&t()}},fadeIn(t,e,s){t&&(e<=0&&(cxenseOffers._showElement(t),cxenseOffers._setOpacity(t,100)),s="function"==typeof s?s:()=>{},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing(e){return e},draw(e){cxenseOffers._setOpacity(t,100*e),1===e&&(cxenseOffers._showElement(t),s())}}))},fadeOut(t,e,s){t&&(e<=0&&(cxenseOffers._hideElement(t),cxenseOffers._setOpacity(t,0)),s="function"==typeof s?s:()=>{},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,ti e},draw(e){cxenseOffers._setOpacity(t,100*(1-e)),1===e&&(cxenseOffers._hideElement(t),s())}}))},_showElement(e){e&&(e.style.display="block",e.style.visibility="visible")},_hideEle")},_setOpacity(e,t){e.style.opacity=t/100,e.style.filter=`alpha(opacity=${t})`},_animate(s){const r=performance.now();let c;requestAnimationFrame(c=e=>{let t=(e-r)/s.duration;1<t&&(t=1);e=s.timing(t);s.draw(e),t<1&&requestAnimationFrame(c)})},injectFstDropdown(){var e=document.createElement("link"),e=(e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",`https://${cxdj.cdnDomain}/static_html_files/cxense/fstdropdown.min.css`),document.getElementsByTagName("head")[0].appendChild(e),document.createElement("script"));e.setAttribute("type","text/javascript"),e.setAttribute("src",`https://${cxdj.cdnDomain}/static_html_files/cxense/fstdropdown.min.js`),e.onl()},document.getElementsByTagName("head")[0].appendChild(e)},injectRecaptchaScript(e){if(e="function"==typeof e?e:()=>{},"undefined"!=typeof grecaptcha)return e();var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?render="+cxenseOffers._siteKey,t.setAttribute("async",""),t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},_isDivEmpty(e){if(e)for(var t,s,r=[e];0!==r.length;){var c=r.length;for(let e=0;e<c;e++){if("object"==typeof(t=r.shift())&&"string"==typeof t.textContent&&""!==t.textContent.trim())return!1;if("object"==typeof t&&"object"==typeof t.children)for(let e=0;e<t.children.length;e++)s=t.children[e],r.push(s)}}return!0},lazyLoad(e,t){t="function"==typeof t?t:()=>{};const s=document.getElementById(e);if(s){const r=new IntersectionObserver(e=>{e[0].isIntersecting&&(t(),r.unobserve(s))});r.observe(s)}},isDivVisibleInViewport(e){var t,s,r;return!!e&&(s=(t=window.pageYOffset)+window.innerHeight,e=(r=e.getBoundingClientRect().top+t)+(e.clientHeight||e.offsetHeight),r<=s&&t<=r||t<=e&&e<=s)},getModCode(e){return"string"==typeof e&&0!==e.length&&(e=e.match(/[?&]mod=([^&#]*)/))?e[1]:""},getNewsletterId(e){return"string"==typeof e&&0!==e.length&&(e=e.match(/[?&]sub=([^&#]*)/))?e[1]:""},signupFreeregUser(e,t,s){if(!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))return s("Invalid Email Address");fetch("/emailsignup/freereg",{method:"POST",body:JSON.stringify({email:e,type:t,url:window.location.href}),headers:{"content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>e&&e.redirectUrl?s(null,e.redirectUrl):s("Unable to Retrieve Free Article")).cae"))},sendLinkText(r,c){if(c="function"==typeof c?c:()=>{},!r)return c("Please enter your phone number.");cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{const s={"wsj.com":"88b2f8b2-9d37-4a6c-8d63-5cdc4da9210f","barrons.com":"b3c3a3a5-eff0-4ebd-a1f4-53a670e36dd5"};grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{var t="https://api.linktexting.com/sendLink?";t+=`linkId=${s[cxdj.meta.topDomain]}&number=`+r,fetch(t,{method:"POST"}).tn()).then(e=>{if(!e)throw Error(e);c(null)}).cae)})})})})},setLinkTextingConfiguration(){var e=document.createElement("link"),e=(e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://d22hhoe037sl7u.cloudfront.net/1.7/css/link_texting_gz.min.css"),document.getElementsByTagName("head")[0].appendChild(e),document.createElement("script"));e.setAttribute("type","text/javascript"),e.setAttribute("src","https://s3.amazonaws.com/linktexting-cdn/1.7/js/link_texting_gz.min.js"),document.getElementsByTagName("head")[0].appendChild(e),window.linkTextingDefaultCountryOff=!1,window.linkTextingPreferredCountries=["us","ca"],window.linkTextingOnlyCountries=["af","al","dz","as","ad","ao","ai","ag","ar","am","aw","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bm","bt","bo","ba","bw","br","io","vg","bn","bg","bf","bi","kh","cm","ca","cv","bq","ky","cf","td","cl","cn","co","km","cd","cg","ck","cr","ci","hr","cu","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gn","gw","gy","ht","hn","hk","hu","is","in","id","ir","iq","ie","il","it","jm","jp","jo","kz","ke","ki","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","nc","nz","ni","ne","ng","nu","nf","kp","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pl","pt","pr","qa","re","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sx","sk","si","sb","so","za","kr","ss","es","lk","sd","sr","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","vi","ug","ua","ae","gb","us","uy","uz","vu","va","ve","vn","wf","ye","zm","zw"]},_convertDataFormat(e){var t={items:[]};for(const s in e)t.items.push({field:s,value:e[s]});return JSON.stringify(t)},sendToProfile(e,t){t="function"==typeof t?t:()=>{};fetch("user/fpd/api/cxprofile",{method:"POST",credentials:"include",body:cxenseOffers._convertDataFormat(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return t(null);throw Error("Invalid HTTP Status Code")}).catch(e=>t(e))},unPauseDigitalSubscription(){const t={staging:"https://customercenter-newlz.s.dev.wsj.com",prod:"https://customercenter.wsj.com"};const s=`https://${"staging"===cxdj.env?"int.":""}accounts.wsj.com/refresh?url=`+window.location.href;fetch("BASE_URL[cxdj.env]/api/subscriptions/restartSubscription",{method:"POST",credentials:"include",body:JSON.stringify({brand:"WSJ"}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(!e.ok)throw Error("Invalid HTTP Status Code");window.location.href=s}).catch(e=>{window.location.href=t[cxdj.env]+"/public"})},saveArticle(e,t){fetch("/articles/svc/personalization/saved-contents",{method:"POST",body:JSON.stringify({contentId:e}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return t(null);throw Error("Invalid HTTP Status Code")}).catch(e=>t(e))},getCampaignData(e){var t={},s=e["url"],r={"Message Id":"messageId","Placement Id":"placementId","Channel Id":"channelId","Campaign Id":"campaignId","Cellcode Id":"cellCodeId","Suppress Value":"suppressId","Tracking Code":"trackCode","Source Key":"sourceKey",Brand:"brand","Campaign Type":"campaignType","Campaign Name":"campaignName"},c=cxenseOffers.getModCode(s),s=cxenseOffers.getNewsletterId(s);for(const a in r)e[a]&&(t[r[a]]=e[a]);return c&&(t.modCode=c),s&&(t.newsletterId=s),t},sendLiveQAEmailReminder(t,>{}){cxenseOffers.injectRecaptchaScript(()=>{grecaptcha.ready(()=>{grecaptcha.execute(cxenseOffers._siteKey,{action:"social"}).then(e=>{fetch("/live-qa/reminder",{method:"POST",body:JSON.stringify({email:t,"g-recaptcha-response":e,newsletter_name:"Live Question & Answer Event - "+s}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(e=>{if(e.ok)return r(null);throw Error("Invalid HTTP Status Code")}).ca(e))})})})}};
//# sourceMappingURL=cxense-candy.js.map