(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3433],{36528:function(e,t){"use strict";function r(e){return e.endsWith("/")&&"/"!==e?e.slice(0,-1):e}t.__esModule=!0,t.removePathTrailingSlash=r,t.normalizePathTrailingSlash=void 0;var n=r;t.normalizePathTrailingSlash=n},98391:function(e,t){"use strict";t.__esModule=!0,t.cancelIdleCallback=t.requestIdleCallback=void 0;var r="undefined"!==typeof self&&self.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};t.requestIdleCallback=r;var n="undefined"!==typeof self&&self.cancelIdleCallback||function(e){return clearTimeout(e)};t.cancelIdleCallback=n},7599:function(e,t,r){"use strict";var n=r(809),o=r(53848),a=r(38561),i=r(62426);t.__esModule=!0,t.markAssetError=f,t.isAssetError=function(e){return e&&l in e},t.getClientBuildManifest=h,t.default=void 0;i(r(77892));var u=r(98391);function c(e,t,r){var n,o=t.get(e);if(o)return"future"in o?o.future:Promise.resolve(o);var a=new Promise((function(e){n=e}));return t.set(e,o={resolve:n,future:a}),r?r().then((function(e){return n(e),e})):a}var s=function(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch(t){return!1}}();var l=Symbol("ASSET_LOAD_ERROR");function f(e){return Object.defineProperty(e,l,{})}function p(e,t){return new Promise((function(r,n){return(0,u.requestIdleCallback)((function(){return setTimeout((function(){return n(t)}),e)}))}))}function h(){if(self.__BUILD_MANIFEST)return Promise.resolve(self.__BUILD_MANIFEST);var e=new Promise((function(e){var t=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=function(){e(self.__BUILD_MANIFEST),t&&t()}}));return Promise.race([e,p(3800,f(new Error("Failed to load client build manifest")))])}function d(e,t){return h().then((function(r){if(!(t in r))throw f(new Error("Failed to lookup route: ".concat(t)));var n=r[t].map((function(t){return e+"/_next/"+encodeURI(t)}));return{scripts:n.filter((function(e){return e.endsWith(".js")})),css:n.filter((function(e){return e.endsWith(".css")}))}}))}var v=function(e){var t=new Map,r=new Map,i=new Map,l=new Map;function h(e){var t=r.get(e);return t||(document.querySelector('script[src^="'.concat(e,'"]'))?Promise.resolve():(r.set(e,t=function(e,t){return new Promise((function(r,n){(t=document.createElement("script")).onload=r,t.onerror=function(){return n(f(new Error("Failed to load script: ".concat(e))))},t.crossOrigin=void 0,t.src=e,document.body.appendChild(t)}))}(e)),t))}function v(e){var t=i.get(e);return t||(i.set(e,t=fetch(e).then((function(t){if(!t.ok)throw new Error("Failed to load stylesheet: ".concat(e));return t.text().then((function(t){return{href:e,content:t}}))})).catch((function(e){throw f(e)}))),t)}return{whenEntrypoint:function(e){return c(e,t)},onEntrypoint:function(e,r){Promise.resolve(r).then((function(e){return e()})).then((function(e){return{component:e&&e.default||e,exports:e}}),(function(e){return{error:e}})).then((function(r){var n=t.get(e);t.set(e,r),n&&"resolve"in n&&n.resolve(r)}))},loadRoute:function(r){var i=this;return c(r,l,a(n.mark((function a(){var u,c,s,l,m,y,g,b;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d(e,r);case 3:return u=n.sent,c=u.scripts,s=u.css,n.next=8,Promise.all([t.has(r)?[]:Promise.all(c.map(h)),Promise.all(s.map(v))]);case 8:return l=n.sent,m=o(l,2),y=m[1],n.next=13,Promise.race([i.whenEntrypoint(r),p(3800,f(new Error("Route did not complete loading: ".concat(r))))]);case 13:return g=n.sent,b=Object.assign({styles:y},g),n.abrupt("return","error"in g?g:b);case 18:return n.prev=18,n.t0=n.catch(0),n.abrupt("return",{error:n.t0});case 21:case"end":return n.stop()}}),a,null,[[0,18]])}))))},prefetch:function(t){var r,n=this;return(r=navigator.connection)&&(r.saveData||/2g/.test(r.effectiveType))?Promise.resolve():d(e,t).then((function(e){return Promise.all(s?e.scripts.map((function(e){return t=e,r="script",new Promise((function(e,o){if(document.querySelector('link[rel="prefetch"][href^="'.concat(t,'"]')))return e();n=document.createElement("link"),r&&(n.as=r),n.rel="prefetch",n.crossOrigin=void 0,n.onload=e,n.onerror=o,n.href=t,document.head.appendChild(n)}));var t,r,n})):[])})).then((function(){(0,u.requestIdleCallback)((function(){return n.loadRoute(t)}))})).catch((function(){}))}}};t.default=v},72441:function(e,t,r){"use strict";var n=r(41280);function o(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r(69448),u=r(62426);t.__esModule=!0,t.useRouter=function(){return c.default.useContext(l.RouterContext)},t.makePublicRouterInstance=function(e){var t,r=e,n={},a=o(h);try{for(a.s();!(t=a.n()).done;){var i=t.value;"object"!==typeof r[i]?n[i]=r[i]:n[i]=Object.assign(Array.isArray(r[i])?[]:{},r[i])}}catch(u){a.e(u)}finally{a.f()}return n.events=s.default.events,d.forEach((function(e){n[e]=function(){return r[e].apply(r,arguments)}})),n},t.createRouter=t.withRouter=t.default=void 0;var c=u(r(67294)),s=i(r(11689));t.Router=s.default,t.NextRouter=s.NextRouter;var l=r(61642),f=u(r(33168));t.withRouter=f.default;var p={router:null,readyCallbacks:[],ready:function(e){if(this.router)return e();this.readyCallbacks.push(e)}},h=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isLocaleDomain"],d=["push","replace","reload","back","prefetch","beforePopState"];function v(){if(!p.router){throw new Error('No router instance found.\nYou should only use "next/router" inside the client side of your app.\n')}return p.router}Object.defineProperty(p,"events",{get:function(){return s.default.events}}),h.forEach((function(e){Object.defineProperty(p,e,{get:function(){return v()[e]}})})),d.forEach((function(e){p[e]=function(){var t=v();return t[e].apply(t,arguments)}})),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach((function(e){p.ready((function(){s.default.events.on(e,(function(){var t="on".concat(e.charAt(0).toUpperCase()).concat(e.substring(1)),r=p;if(r[t])try{r[t].apply(r,arguments)}catch(n){console.error("Error when running the Router event: ".concat(t)),console.error("".concat(n.message,"\n").concat(n.stack))}}))}))}));var m=p;t.default=m;t.createRouter=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.router=n(s.default,t),p.readyCallbacks.forEach((function(e){return e()})),p.readyCallbacks=[],p.router}},33168:function(e,t,r){"use strict";var n=r(62426);t.__esModule=!0,t.default=function(e){function t(t){return o.default.createElement(e,Object.assign({router:(0,a.useRouter)()},t))}t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,!1;return t};var o=n(r(67294)),a=r(72441)},81253:function(e,t){"use strict";t.__esModule=!0,t.normalizeLocalePath=function(e,t){var r,n=e.split("/");return(t||[]).some((function(t){return n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)})),{pathname:e,detectedLocale:r}}},7332:function(e,t){"use strict";t.__esModule=!0,t.default=function(){var e=Object.create(null);return{on:function(t,r){(e[t]||(e[t]=[])).push(r)},off:function(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e[t]||[]).slice().map((function(e){e.apply(void 0,n)}))}}}},61642:function(e,t,r){"use strict";var n;t.__esModule=!0,t.RouterContext=void 0;var o=((n=r(67294))&&n.__esModule?n:{default:n}).default.createContext(null);t.RouterContext=o},11689:function(e,t,r){"use strict";var n=r(809),o=r(38561),a=r(2553),i=r(62012),u=r(53848);t.__esModule=!0,t.getDomainLocale=function(e,t,r,n){0;return!1},t.addLocale=_,t.delLocale=x,t.hasBasePath=S,t.addBasePath=E,t.delBasePath=O,t.isLocalURL=R,t.interpolateAs=k,t.resolveHref=C,t.default=void 0;var c=r(36528),s=r(7599),l=r(89320),f=(r(81253),b(r(7332))),p=r(13937),h=r(93288),d=r(94436),v=r(74915),m=b(r(52978)),y=r(47451),g=r(38193);function b(e){return e&&e.__esModule?e:{default:e}}function w(){return Object.assign(new Error("Route Cancelled"),{cancelled:!0})}function _(e,t,r){return e}function x(e,t){return e}function P(e){var t=e.indexOf("?"),r=e.indexOf("#");return(t>-1||r>-1)&&(e=e.substring(0,t>-1?t:r)),e}function S(e){return""===(e=P(e))||e.startsWith("/")}function E(e){return function(e,t){return t&&e.startsWith("/")?"/"===e?(0,c.normalizePathTrailingSlash)(t):"".concat(t).concat("/"===P(e)?e.substring(1):e):e}(e,"")}function O(e){return(e=e.slice("".length)).startsWith("/")||(e="/".concat(e)),e}function R(e){if(e.startsWith("/")||e.startsWith("#"))return!0;try{var t=(0,p.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&S(r.pathname)}catch(n){return!1}}function k(e,t,r){var n="",o=(0,g.getRouteRegex)(e),a=o.groups,i=(t!==e?(0,y.getRouteMatcher)(o)(t):"")||r;n=e;var u=Object.keys(a);return u.every((function(e){var t=i[e]||"",r=a[e],o=r.repeat,u=r.optional,c="[".concat(o?"...":"").concat(e,"]");return u&&(c="".concat(t?"":"/","[").concat(c,"]")),o&&!Array.isArray(t)&&(t=[t]),(u||e in i)&&(n=n.replace(c,o?t.map((function(e){return encodeURIComponent(e)})).join("/"):encodeURIComponent(t))||"/")}))||(n=""),{params:u,result:n}}function A(e,t){var r={};return Object.keys(e).forEach((function(n){t.includes(n)||(r[n]=e[n])})),r}function C(e,t,r){var n=new URL(e,"http://n"),o="string"===typeof t?t:(0,p.formatWithValidation)(t);if(!R(o))return r?[o]:o;try{var a=new URL(o,n);a.pathname=(0,c.normalizePathTrailingSlash)(a.pathname);var i="";if((0,h.isDynamicRoute)(a.pathname)&&a.searchParams&&r){var u=(0,v.searchParamsToUrlQuery)(a.searchParams),s=k(a.pathname,a.pathname,u),l=s.result,f=s.params;l&&(i=(0,p.formatWithValidation)({pathname:l,hash:a.hash,query:A(u,f)}))}var d=a.origin===n.origin?a.href.slice(a.origin.length):a.href;return r?[d,i||d]:d}catch(m){return r?[o]:o}}function j(e){var t=(0,p.getLocationOrigin)();return e.startsWith(t)?e.substring(t.length):e}function T(e,t,r){var n=C(e.pathname,t,!0),o=u(n,2),a=o[0],i=o[1],c=(0,p.getLocationOrigin)(),s=a.startsWith(c),l=i&&i.startsWith(c);a=j(a),i=i?j(i):i;var f=s?a:E(a),h=r?j(C(e.pathname,r)):i||a;return{url:f,as:l?h:E(h)}}var I=Symbol("SSG_DATA_NOT_FOUND");function M(e,t){return fetch(e,{credentials:"same-origin"}).then((function(r){if(!r.ok){if(t>1&&r.status>=500)return M(e,t-1);if(404===r.status)return r.json().then((function(e){if(e.notFound)return{notFound:I};throw new Error("Failed to load static props")}));throw new Error("Failed to load static props")}return r.json()}))}function D(e,t){return M(e,t?3:1).catch((function(e){throw t||(0,s.markAssetError)(e),e}))}var L=function(){function e(t,r,n,o){var i=this,u=o.initialProps,s=o.pageLoader,l=o.App,f=o.wrapApp,v=o.Component,m=o.err,y=o.subscription,g=o.isFallback,b=o.locale;o.locales,o.defaultLocale,o.domainLocales;a(this,e),this.route=void 0,this.pathname=void 0,this.query=void 0,this.asPath=void 0,this.basePath=void 0,this.components=void 0,this.sdc={},this.sub=void 0,this.clc=void 0,this.pageLoader=void 0,this._bps=void 0,this.events=void 0,this._wrapApp=void 0,this.isSsr=void 0,this.isFallback=void 0,this._inFlightRoute=void 0,this._shallow=void 0,this.locale=void 0,this.locales=void 0,this.defaultLocale=void 0,this.domainLocales=void 0,this.isReady=void 0,this.isLocaleDomain=void 0,this._idx=0,this.onPopState=function(e){var t=e.state;if(t){if(t.__N){var r=t.url,n=t.as,o=t.options,a=t.idx;i._idx=a;var u=(0,d.parseRelativeUrl)(r).pathname;i.isSsr&&n===i.asPath&&u===i.pathname||i._bps&&!i._bps(t)||i.change("replaceState",r,n,Object.assign({},o,{shallow:o.shallow&&i._shallow,locale:o.locale||i.defaultLocale}),undefined)}}else{var c=i.pathname,s=i.query;i.changeState("replaceState",(0,p.formatWithValidation)({pathname:E(c),query:s}),(0,p.getURL)())}},this.route=(0,c.removePathTrailingSlash)(t),this.components={},"/_error"!==t&&(this.components[this.route]={Component:v,initial:!0,props:u,err:m,__N_SSG:u&&u.__N_SSG,__N_SSP:u&&u.__N_SSP}),this.components["/_app"]={Component:l,styleSheets:[]},this.events=e.events,this.pageLoader=s,this.pathname=t,this.query=r;var w=(0,h.isDynamicRoute)(t)&&self.__NEXT_DATA__.autoExport;this.asPath=w?t:n,this.basePath="",this.sub=y,this.clc=null,this._wrapApp=f,this.isSsr=!0,this.isFallback=g,this.isReady=!(!self.__NEXT_DATA__.gssp&&!self.__NEXT_DATA__.gip&&(w||self.location.search)),this.isLocaleDomain=!1,"//"!==n.substr(0,2)&&this.changeState("replaceState",(0,p.formatWithValidation)({pathname:E(t),query:r}),(0,p.getURL)(),{locale:b}),window.addEventListener("popstate",this.onPopState)}return i(e,[{key:"reload",value:function(){window.location.reload()}},{key:"back",value:function(){window.history.back()}},{key:"push",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=T(this,e,t);return e=n.url,t=n.as,this.change("pushState",e,t,r)}},{key:"replace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=T(this,e,t);return e=n.url,t=n.as,this.change("replaceState",e,t,r)}},{key:"change",value:function(){var t=o(n.mark((function t(r,o,a,i,u){var l,f,v,b,w,P,C,j,M,D,L,U,N,W,F,q,H,B,$,V,G,z,Q,K,X,Y,J,Z,ee,te,re,ne,oe,ae,ie,ue=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R(o)){t.next=3;break}return window.location.href=o,t.abrupt("return",!1);case 3:i._h&&(this.isReady=!0),i.scroll=!(null!=(l=i.scroll)&&!l),f=i.locale!==this.locale,t.next=18;break;case 18:if(i._h||(this.isSsr=!1),p.ST&&performance.mark("routeChange"),v=i.shallow,b={shallow:void 0!==v&&v},this._inFlightRoute&&this.abortComponentLoad(this._inFlightRoute,b),a=E(_(S(a)?O(a):a,i.locale,this.defaultLocale)),w=x(S(a)?O(a):a,this.locale),this._inFlightRoute=a,i._h||!this.onlyAHashChange(w)){t.next=34;break}return this.asPath=w,e.events.emit("hashChangeStart",a,b),this.changeState(r,o,a,i),this.scrollToHash(w),this.notify(this.components[this.route],null),e.events.emit("hashChangeComplete",a,b),t.abrupt("return",!0);case 34:return P=(0,d.parseRelativeUrl)(o),j=(C=P).pathname,M=C.query,t.prev=36,t.next=39,this.pageLoader.getPageList();case 39:return D=t.sent,t.next=42,(0,s.getClientBuildManifest)();case 42:U=t.sent,L=U.__rewrites,t.next=50;break;case 46:return t.prev=46,t.t0=t.catch(36),window.location.href=a,t.abrupt("return",!1);case 50:if((P=this._resolveHref(P,D)).pathname!==j&&(j=P.pathname,o=(0,p.formatWithValidation)(P)),j=j?(0,c.removePathTrailingSlash)(O(j)):j,this.urlIsNew(w)||f||(r="replaceState"),N=(0,c.removePathTrailingSlash)(j),W=a,a.startsWith("/")&&(F=(0,m.default)(E(_(O(a),this.locale)),D,L,M,(function(e){return ue._resolveHref({pathname:e},D).pathname}),this.locales),W=F.asPath,F.matchedPage&&F.resolvedHref&&(N=F.resolvedHref,j=F.resolvedHref,P.pathname=j,o=(0,p.formatWithValidation)(P))),R(a)){t.next=62;break}t.next=60;break;case 60:return window.location.href=a,t.abrupt("return",!1);case 62:if(W=x(O(W),this.locale),!(0,h.isDynamicRoute)(N)){t.next=78;break}if(q=(0,d.parseRelativeUrl)(W),H=q.pathname,B=(0,g.getRouteRegex)(N),$=(0,y.getRouteMatcher)(B)(H),G=(V=N===H)?k(N,H,M):{},$&&(!V||G.result)){t.next=77;break}if(!((z=Object.keys(B.groups).filter((function(e){return!M[e]}))).length>0)){t.next=75;break}throw new Error((V?"The provided `href` (".concat(o,") value is missing query values (").concat(z.join(", "),") to be interpolated properly. "):"The provided `as` value (".concat(H,") is incompatible with the `href` value (").concat(N,"). "))+"Read more: https://err.sh/vercel/next.js/".concat(V?"href-interpolation-failed":"incompatible-href-as"));case 75:t.next=78;break;case 77:V?a=(0,p.formatWithValidation)(Object.assign({},q,{pathname:G.result,query:A(M,G.params)})):Object.assign(M,$);case 78:return e.events.emit("routeChangeStart",a,b),t.prev=79,t.next=82,this.getRouteInfo(N,j,M,a,W,b);case 82:if(Q=t.sent,X=(K=Q).error,Y=K.props,J=K.__N_SSG,Z=K.__N_SSP,!J&&!Z||!Y){t.next=108;break}if(!Y.pageProps||!Y.pageProps.__N_REDIRECT){t.next=95;break}if(!(ee=Y.pageProps.__N_REDIRECT).startsWith("/")){t.next=93;break}if(te=(0,d.parseRelativeUrl)(ee),this._resolveHref(te,D,!1),!D.includes(te.pathname)){t.next=93;break}return re=T(this,ee,ee),ne=re.url,oe=re.as,t.abrupt("return",this.change(r,ne,oe,i));case 93:return window.location.href=ee,t.abrupt("return",new Promise((function(){})));case 95:if(Y.notFound!==I){t.next=108;break}return t.prev=96,t.next=99,this.fetchComponent("/404");case 99:ae="/404",t.next=105;break;case 102:t.prev=102,t.t1=t.catch(96),ae="/_error";case 105:return t.next=107,this.getRouteInfo(ae,ae,M,a,W,{shallow:!1});case 107:Q=t.sent;case 108:return e.events.emit("beforeHistoryChange",a,b),this.changeState(r,o,a,i),ie=i.shallow&&this.route===N,t.next=114,this.set(N,j,M,w,Q,u||(ie||!i.scroll?null:{x:0,y:0})).catch((function(e){if(!e.cancelled)throw e;X=X||e}));case 114:if(!X){t.next=117;break}throw e.events.emit("routeChangeError",X,w,b),X;case 117:return e.events.emit("routeChangeComplete",a,b),t.abrupt("return",!0);case 122:if(t.prev=122,t.t2=t.catch(79),!t.t2.cancelled){t.next=126;break}return t.abrupt("return",!1);case 126:throw t.t2;case 127:case"end":return t.stop()}}),t,this,[[36,46],[79,122],[96,102]])})));return function(e,r,n,o,a){return t.apply(this,arguments)}}()},{key:"changeState",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"pushState"===e&&(0,p.getURL)()===r||(this._shallow=n.shallow,window.history[e]({url:t,as:r,options:n,__N:!0,idx:this._idx="pushState"!==e?this._idx:this._idx+1},"",r))}},{key:"handleRouteInfoError",value:function(){var t=o(n.mark((function t(r,o,a,i,u,c){var l,f,p,h;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.cancelled){t.next=2;break}throw r;case 2:if(!(0,s.isAssetError)(r)&&!c){t.next=6;break}throw e.events.emit("routeChangeError",r,i,u),window.location.href=i,w();case 6:if(t.prev=6,"undefined"!==typeof l&&"undefined"!==typeof f){t.next=14;break}return t.next=11,this.fetchComponent("/_error");case 11:p=t.sent,l=p.page,f=p.styleSheets;case 14:if((h={props:undefined,Component:l,styleSheets:f,err:r,error:r}).props){t.next=26;break}return t.prev=16,t.next=19,this.getInitialProps(l,{err:r,pathname:o,query:a});case 19:h.props=t.sent,t.next=26;break;case 22:t.prev=22,t.t0=t.catch(16),console.error("Error in error page `getInitialProps`: ",t.t0),h.props={};case 26:return t.abrupt("return",h);case 29:return t.prev=29,t.t1=t.catch(6),t.abrupt("return",this.handleRouteInfoError(t.t1,o,a,i,u,!0));case 32:case"end":return t.stop()}}),t,this,[[6,29],[16,22]])})));return function(e,r,n,o,a,i){return t.apply(this,arguments)}}()},{key:"getRouteInfo",value:function(){var e=o(n.mark((function e(t,r,o,a,i,u){var c,s,l,f,h,d,v,m,y=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=this.components[t],!u.shallow||!c||this.route!==t){e.next=4;break}return e.abrupt("return",c);case 4:if(!(s=c&&"initial"in c?void 0:c)){e.next=9;break}e.t0=s,e.next=12;break;case 9:return e.next=11,this.fetchComponent(t).then((function(e){return{Component:e.page,styleSheets:e.styleSheets,__N_SSG:e.mod.__N_SSG,__N_SSP:e.mod.__N_SSP}}));case 11:e.t0=e.sent;case 12:l=e.t0,f=l.Component,h=l.__N_SSG,d=l.__N_SSP,e.next=18;break;case 18:return(h||d)&&(v=this.pageLoader.getDataHref((0,p.formatWithValidation)({pathname:r,query:o}),i,h,this.locale)),e.next=21,this._getData((function(){return h?y._getStaticData(v):d?y._getServerData(v):y.getInitialProps(f,{pathname:r,query:o,asPath:a})}));case 21:return m=e.sent,l.props=m,this.components[t]=l,e.abrupt("return",l);case 27:return e.prev=27,e.t1=e.catch(0),e.abrupt("return",this.handleRouteInfoError(e.t1,r,o,a,u));case 30:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(t,r,n,o,a,i){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t,r,n,o,a){return this.isFallback=!1,this.route=e,this.pathname=t,this.query=r,this.asPath=n,this.notify(o,a)}},{key:"beforePopState",value:function(e){this._bps=e}},{key:"onlyAHashChange",value:function(e){if(!this.asPath)return!1;var t=this.asPath.split("#"),r=u(t,2),n=r[0],o=r[1],a=e.split("#"),i=u(a,2),c=i[0],s=i[1];return!(!s||n!==c||o!==s)||n===c&&o!==s}},{key:"scrollToHash",value:function(e){var t=e.split("#"),r=u(t,2)[1];if(""!==r&&"top"!==r){var n=document.getElementById(r);if(n)n.scrollIntoView();else{var o=document.getElementsByName(r)[0];o&&o.scrollIntoView()}}else window.scrollTo(0,0)}},{key:"urlIsNew",value:function(e){return this.asPath!==e}},{key:"_resolveHref",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.pathname,o=(0,c.removePathTrailingSlash)((0,l.denormalizePagePath)(r?O(n):n));return"/404"===o||"/_error"===o||(t.includes(o)||t.some((function(t){if((0,h.isDynamicRoute)(t)&&(0,g.getRouteRegex)(t).re.test(o))return e.pathname=r?E(t):t,!0})),e.pathname=(0,c.removePathTrailingSlash)(e.pathname)),e}},{key:"prefetch",value:function(){var e=o(n.mark((function e(t){var r,o,a,i,u,s,l=this,f=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:t,o=f.length>2&&void 0!==f[2]?f[2]:{},a=(0,d.parseRelativeUrl)(t),i=a.pathname,e.next=7,this.pageLoader.getPageList();case 7:u=e.sent,(a=this._resolveHref(a,u,!1)).pathname!==i&&(i=a.pathname,t=(0,p.formatWithValidation)(a)),e.next=12;break;case 12:return s=(0,c.removePathTrailingSlash)(i),e.next=15,Promise.all([this.pageLoader._isSsg(t).then((function(e){return!!e&&l._getStaticData(l.pageLoader.getDataHref(t,r,!0,"undefined"!==typeof o.locale?o.locale:l.locale))})),this.pageLoader[o.priority?"loadPage":"prefetch"](s)]);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchComponent",value:function(){var e=o(n.mark((function e(t){var r,o,a,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,o=this.clc=function(){r=!0},e.next=4,this.pageLoader.loadPage(t);case 4:if(a=e.sent,!r){e.next=9;break}throw(i=new Error('Abort fetching component for route: "'.concat(t,'"'))).cancelled=!0,i;case 9:return o===this.clc&&(this.clc=null),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getData",value:function(e){var t=this,r=!1,n=function(){r=!0};return this.clc=n,e().then((function(e){if(n===t.clc&&(t.clc=null),r){var o=new Error("Loading initial props cancelled");throw o.cancelled=!0,o}return e}))}},{key:"_getStaticData",value:function(e){var t=this,r=new URL(e,window.location.href).href;return this.sdc[r]?Promise.resolve(this.sdc[r]):D(e,this.isSsr).then((function(e){return t.sdc[r]=e,e}))}},{key:"_getServerData",value:function(e){return D(e,this.isSsr)}},{key:"getInitialProps",value:function(e,t){var r=this.components["/_app"].Component,n=this._wrapApp(r);return t.AppTree=n,(0,p.loadGetInitialProps)(r,{AppTree:n,Component:e,router:this,ctx:t})}},{key:"abortComponentLoad",value:function(t,r){this.clc&&(e.events.emit("routeChangeError",w(),t,r),this.clc(),this.clc=null)}},{key:"notify",value:function(e,t){return this.sub(e,this.components["/_app"].Component,t)}}]),e}();t.default=L,L.events=(0,f.default)()},7687:function(e,t,r){"use strict";t.__esModule=!0,t.formatUrl=function(e){var t=e.auth,r=e.hostname,o=e.protocol||"",i=e.pathname||"",u=e.hash||"",c=e.query||"",s=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?s=t+e.host:r&&(s=t+(~r.indexOf(":")?"[".concat(r,"]"):r),e.port&&(s+=":"+e.port));c&&"object"===typeof c&&(c=String(n.urlQueryToSearchParams(c)));var l=e.search||c&&"?".concat(c)||"";o&&":"!==o.substr(-1)&&(o+=":");e.slashes||(!o||a.test(o))&&!1!==s?(s="//"+(s||""),i&&"/"!==i[0]&&(i="/"+i)):s||(s="");u&&"#"!==u[0]&&(u="#"+u);l&&"?"!==l[0]&&(l="?"+l);return i=i.replace(/[?#]/g,encodeURIComponent),l=l.replace("#","%23"),"".concat(o).concat(s).concat(i).concat(l).concat(u)};var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(74915));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var a=/https?|ftp|gopher|file/},77892:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="/"===e?"/index":/^\/index(\/|$)/.test(e)?"/index".concat(e):"".concat(e);return r+t}},93288:function(e,t){"use strict";t.__esModule=!0,t.isDynamicRoute=function(e){return r.test(e)};var r=/\/\[[^/]+?\](?=\/|$)/},94436:function(e,t,r){"use strict";t.__esModule=!0,t.parseRelativeUrl=function(e,t){var r=new URL((0,n.getLocationOrigin)()),a=t?new URL(t,r):r,i=new URL(e,a),u=i.pathname,c=i.searchParams,s=i.search,l=i.hash,f=i.href;if(i.origin!==r.origin)throw new Error("invariant: invalid relative URL, router received ".concat(e));return{pathname:u,query:(0,o.searchParamsToUrlQuery)(c),search:s,hash:l,href:f.slice(r.origin.length)}};var n=r(13937),o=r(74915)},66925:function(e,t,r){"use strict";var n=r(61682);function o(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.__esModule=!0,t.pathToRegexp=t.default=t.customRouteMatcherOptions=t.matcherOptions=void 0;var c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(74329));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}t.pathToRegexp=c;var l={sensitive:!1,delimiter:"/"};t.matcherOptions=l;var f=u(u({},l),{},{strict:!0});t.customRouteMatcherOptions=f;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var r=[],n=c.pathToRegexp(t,r,e?f:l),a=c.regexpToFunction(n,r);return function(t,n){var i=null!=t&&a(t);if(!i)return!1;if(e){var c,s=o(r);try{for(s.s();!(c=s.n()).done;){var l=c.value;"number"===typeof l.name&&delete i.params[l.name]}}catch(f){s.e(f)}finally{s.f()}}return u(u({},n),i.params)}}}},91327:function(e,t,r){"use strict";var n=r(61682),o=r(53848);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.__esModule=!0,t.compileNonPath=h,t.default=function(e,t,r,n){var a={},c=(r=Object.assign({},r)).__nextLocale;if(delete r.__nextLocale,delete r.__nextDefaultLocale,e.startsWith("/"))a=(0,l.parseRelativeUrl)(e);else{var p=new URL(e),d=p.pathname,v=p.searchParams,m=p.hash,y=p.hostname,g=p.port,b=p.protocol,w=p.search,_=p.href;a={pathname:d,query:(0,s.searchParamsToUrlQuery)(v),hash:m,protocol:b,hostname:y,port:g,search:w,href:_}}var x=a.query,P="".concat(a.pathname).concat(a.hash||""),S=[];f.pathToRegexp(P,S);for(var E,O=S.map((function(e){return e.name})),R=f.compile(P,{validate:!1}),k=0,A=Object.entries(x);k<A.length;k++){var C=o(A[k],2),j=C[0],T=C[1],I=Array.isArray(T)?T[0]:T;I&&(I=h(I,t)),x[j]=I}var M=Object.keys(t);c&&(M=M.filter((function(e){return"nextInternalLocale"!==e})));if(n&&!M.some((function(e){return O.includes(e)}))){var D,L=u(M);try{for(L.s();!(D=L.n()).done;){var U=D.value;U in x||(x[U]=t[U])}}catch(H){L.e(H)}finally{L.f()}}try{var N=(E=R(t)).split("#"),W=o(N,2),F=W[0],q=W[1];a.pathname=F,a.hash="".concat(q?"#":"").concat(q||""),delete a.search}catch(H){if(H.message.match(/Expected .*? to not repeat, but got an array/))throw new Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://err.sh/vercel/next.js/invalid-multi-match");throw H}return a.query=i(i({},r),a.query),{newUrl:E,parsedDestination:a}};var s=r(74915),l=r(94436),f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(74329));function p(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t){if(!e.includes(":"))return e;for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];e.includes(":".concat(o))&&(e=e.replace(new RegExp(":".concat(o,"\\*"),"g"),":".concat(o,"--ESCAPED_PARAM_ASTERISKS")).replace(new RegExp(":".concat(o,"\\?"),"g"),":".concat(o,"--ESCAPED_PARAM_QUESTION")).replace(new RegExp(":".concat(o,"\\+"),"g"),":".concat(o,"--ESCAPED_PARAM_PLUS")).replace(new RegExp(":".concat(o,"(?!\\w)"),"g"),"--ESCAPED_PARAM_COLON".concat(o)))}return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),f.compile("/".concat(e),{validate:!1})(t).substr(1)}},74915:function(e,t,r){"use strict";var n=r(53848);function o(e){return"string"===typeof e||"number"===typeof e&&!isNaN(e)||"boolean"===typeof e?String(e):""}t.__esModule=!0,t.searchParamsToUrlQuery=function(e){var t={};return e.forEach((function(e,r){"undefined"===typeof t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]})),t},t.urlQueryToSearchParams=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var r=n(e,2),a=r[0],i=r[1];Array.isArray(i)?i.forEach((function(e){return t.append(a,o(e))})):t.set(a,o(i))})),t},t.assign=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach((function(t){Array.from(t.keys()).forEach((function(t){return e.delete(t)})),t.forEach((function(t,r){return e.append(r,t)}))})),e}},52978:function(e,t,r){"use strict";function n(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.__esModule=!0,t.default=function(e,t,r,o,a,f){var h,d=!1,v=(0,s.parseRelativeUrl)(e),m=(0,u.removePathTrailingSlash)((0,c.normalizeLocalePath)((0,l.delBasePath)(v.pathname),f).pathname);if(!t.includes(m)){var y,g=n(r);try{for(g.s();!(y=g.n()).done;){var b=y.value,w=p(b.source)(v.pathname);if(w){if(!b.destination)break;var _=(0,i.default)(b.destination,w,o,!0);if(v=_.parsedDestination,e=_.newUrl,Object.assign(o,_.parsedDestination.query),m=(0,u.removePathTrailingSlash)((0,c.normalizeLocalePath)((0,l.delBasePath)(e),f).pathname),t.includes(m)){d=!0,h=m;break}if((h=a(m))!==e&&t.includes(h)){d=!0;break}}}}catch(x){g.e(x)}finally{g.f()}}return{asPath:e,parsedAs:v,matchedPage:d,resolvedHref:h}};var a=f(r(66925)),i=f(r(91327)),u=r(36528),c=r(81253),s=r(94436),l=r(11689);function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)(!0)},47451:function(e,t){"use strict";t.__esModule=!0,t.getRouteMatcher=function(e){var t=e.re,r=e.groups;return function(e){var n=t.exec(e);if(!n)return!1;var o=function(e){try{return decodeURIComponent(e)}catch(r){var t=new Error("failed to decode param");throw t.code="DECODE_FAILED",t}},a={};return Object.keys(r).forEach((function(e){var t=r[e],i=n[t.pos];void 0!==i&&(a[e]=~i.indexOf("/")?i.split("/").map((function(e){return o(e)})):t.repeat?[o(i)]:o(i))})),a}}},38193:function(e,t){"use strict";t.__esModule=!0,t.getRouteRegex=function(e){var t=(e.replace(/\/$/,"")||"/").slice(1).split("/"),r={},n=1,o=t.map((function(e){if(e.startsWith("[")&&e.endsWith("]")){var t=function(e){var t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));var r=e.startsWith("...");r&&(e=e.slice(3));return{key:e,repeat:r,optional:t}}(e.slice(1,-1)),o=t.key,a=t.optional,i=t.repeat;return r[o]={pos:n++,repeat:i,optional:a},i?a?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}return"/".concat(e.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&"))})).join("");0;return{re:new RegExp("^".concat(o,"(?:/)?$")),groups:r}}},13937:function(e,t,r){"use strict";var n=r(809),o=r(38561);t.__esModule=!0,t.execOnce=function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(void 0,arguments)),t}},t.getLocationOrigin=i,t.getURL=function(){var e=window.location.href,t=i();return e.substring(t.length)},t.getDisplayName=u,t.isResSent=c,t.loadGetInitialProps=s,t.formatWithValidation=function(e){0;return(0,a.formatUrl)(e)},t.ST=t.SP=t.urlObjectKeys=void 0;var a=r(7687);function i(){var e=window.location,t=e.protocol,r=e.hostname,n=e.port;return"".concat(t,"//").concat(r).concat(n?":"+n:"")}function u(e){return"string"===typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function s(e,t){return l.apply(this,arguments)}function l(){return(l=o(n.mark((function e(t,r){var o,a,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:if(o=r.res||r.ctx&&r.ctx.res,t.getInitialProps){e.next=12;break}if(!r.ctx||!r.Component){e.next=11;break}return e.next=9,s(r.Component,r.ctx);case 9:return e.t0=e.sent,e.abrupt("return",{pageProps:e.t0});case 11:return e.abrupt("return",{});case 12:return e.next=14,t.getInitialProps(r);case 14:if(a=e.sent,!o||!c(o)){e.next=17;break}return e.abrupt("return",a);case 17:if(a){e.next=20;break}throw i='"'.concat(u(t),'.getInitialProps()" should resolve to an object. But found "').concat(a,'" instead.'),new Error(i);case 20:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.urlObjectKeys=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];var f="undefined"!==typeof performance;t.SP=f;var p=f&&"function"===typeof performance.mark&&"function"===typeof performance.measure;t.ST=p},74329:function(e,t){"use strict";function r(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:r,value:e[r++]});else{var o=1,a="";if("?"===e[u=r+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0===--o){u++;break}}else if("("===e[u]&&(o++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);a+=e[u++]}else a+=e[u++]+e[u++];if(o)throw new TypeError("Unbalanced pattern at "+r);if(!a)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:a}),r=u}else{for(var i="",u=r+1;u<e.length;){var c=e.charCodeAt(u);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;i+=e[u++]}if(!i)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=u}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,o=void 0===n?"./":n,i="[^"+a(t.delimiter||"/#?")+"]+?",u=[],c=0,s=0,l="",f=function(e){if(s<r.length&&r[s].type===e)return r[s++].value},p=function(e){var t=f(e);if(void 0!==t)return t;var n=r[s],o=n.type,a=n.index;throw new TypeError("Unexpected "+o+" at "+a+", expected "+e)},h=function(){for(var e,t="";e=f("CHAR")||f("ESCAPED_CHAR");)t+=e;return t};s<r.length;){var d=f("CHAR"),v=f("NAME"),m=f("PATTERN");if(v||m){var y=d||"";-1===o.indexOf(y)&&(l+=y,y=""),l&&(u.push(l),l=""),u.push({name:v||c++,prefix:y,suffix:"",pattern:m||i,modifier:f("MODIFIER")||""})}else{var g=d||f("ESCAPED_CHAR");if(g)l+=g;else if(l&&(u.push(l),l=""),f("OPEN")){y=h();var b=f("NAME")||"",w=f("PATTERN")||"",_=h();p("CLOSE"),u.push({name:b||(w?c++:""),pattern:b&&!w?i:w,prefix:y,suffix:_,modifier:f("MODIFIER")||""})}else p("END")}}return u}function n(e,t){void 0===t&&(t={});var r=i(t),n=t.encode,o=void 0===n?function(e){return e}:n,a=t.validate,u=void 0===a||a,c=e.map((function(e){if("object"===typeof e)return new RegExp("^(?:"+e.pattern+")$",r)}));return function(t){for(var r="",n=0;n<e.length;n++){var a=e[n];if("string"!==typeof a){var i=t?t[a.name]:void 0,s="?"===a.modifier||"*"===a.modifier,l="*"===a.modifier||"+"===a.modifier;if(Array.isArray(i)){if(!l)throw new TypeError('Expected "'+a.name+'" to not repeat, but got an array');if(0===i.length){if(s)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var f=0;f<i.length;f++){var p=o(i[f],a);if(u&&!c[n].test(p))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but got "'+p+'"');r+=a.prefix+p+a.suffix}}else if("string"!==typeof i&&"number"!==typeof i){if(!s){var h=l?"an array":"a string";throw new TypeError('Expected "'+a.name+'" to be '+h)}}else{p=o(String(i),a);if(u&&!c[n].test(p))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+p+'"');r+=a.prefix+p+a.suffix}}else r+=a}return r}}function o(e,t,r){void 0===r&&(r={});var n=r.decode,o=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var a=n[0],i=n.index,u=Object.create(null),c=function(e){if(void 0===n[e])return"continue";var r=t[e-1];"*"===r.modifier||"+"===r.modifier?u[r.name]=n[e].split(r.prefix+r.suffix).map((function(e){return o(e,r)})):u[r.name]=o(n[e],r)},s=1;s<n.length;s++)c(s);return{path:a,index:i,params:u}}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function u(e,t,r){void 0===r&&(r={});for(var n=r.strict,o=void 0!==n&&n,u=r.start,c=void 0===u||u,s=r.end,l=void 0===s||s,f=r.encode,p=void 0===f?function(e){return e}:f,h="["+a(r.endsWith||"")+"]|$",d="["+a(r.delimiter||"/#?")+"]",v=c?"^":"",m=0,y=e;m<y.length;m++){var g=y[m];if("string"===typeof g)v+=a(p(g));else{var b=a(p(g.prefix)),w=a(p(g.suffix));if(g.pattern)if(t&&t.push(g),b||w)if("+"===g.modifier||"*"===g.modifier){var _="*"===g.modifier?"?":"";v+="(?:"+b+"((?:"+g.pattern+")(?:"+w+b+"(?:"+g.pattern+"))*)"+w+")"+_}else v+="(?:"+b+"("+g.pattern+")"+w+")"+g.modifier;else v+="("+g.pattern+")"+g.modifier;else v+="(?:"+b+w+")"+g.modifier}}if(l)o||(v+=d+"?"),v+=r.endsWith?"(?="+h+")":"$";else{var x=e[e.length-1],P="string"===typeof x?d.indexOf(x[x.length-1])>-1:void 0===x;o||(v+="(?:"+d+"(?="+h+"))?"),P||(v+="(?="+d+"|"+h+")")}return new RegExp(v,i(r))}function c(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return c(e,t,r).source}));return new RegExp("(?:"+n.join("|")+")",i(r))}(e,t,n):function(e,t,n){return u(r(e,n),t,n)}(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=r,t.compile=function(e,t){return n(r(e,t),t)},t.tokensToFunction=n,t.match=function(e,t){var r=[];return o(c(e,r,t),r,t)},t.regexpToFunction=o,t.tokensToRegexp=u,t.pathToRegexp=c},89320:function(e,t){"use strict";function r(e){return e.replace(/\\/g,"/")}t.__esModule=!0,t.normalizePathSep=r,t.denormalizePagePath=function(e){(e=r(e)).startsWith("/index/")?e=e.slice(6):"/index"===e&&(e="/");return e}},54360:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},96648:function(e){e.exports=function(e){if(Array.isArray(e))return e}},38561:function(e){function t(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=e.apply(r,n);function u(e){t(i,o,a,u,c,"next",e)}function c(e){t(i,o,a,u,c,"throw",e)}u(void 0)}))}}},41280:function(e,t,r){var n=r(21914),o=r(78898);function a(t,r,i){return o()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,r){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return r&&n(a,r.prototype),a},a.apply(null,arguments)}e.exports=a},62426:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},69448:function(e,t,r){var n=r(87917);function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}},78898:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},56325:function(e){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}}},81531:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},21914:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(r,n)}e.exports=t},53848:function(e,t,r){var n=r(96648),o=r(56325),a=r(73585),i=r(81531);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||i()}},87917:function(e){function t(r){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t},73585:function(e,t,r){var n=r(54360);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}}}]);unction(){p?(window.unseenMailsEmitter.isInterrupted=!1,window.unseenMailsEmitter.load()):(y.current&&y.current(),window.ramblerIdHelper.push((function(){window.ramblerIdHelper.removeListener("login",window.unseenMailsEmitter.load),window.ramblerIdHelper.removeListener("oauthlogin",window.unseenMailsEmitter.load)})))}}),[]),(0,a.useEffect)((function(){window.unseenMailsEmitter.emit(p)}),[p]),(0,a.useEffect)((function(){m&&null!==b&&m(b)}),[m,b]);var E=p||b;if(null===E)return null;if((0,a.isValidElement)(f))return o().cloneElement(f,{counter:E});if(!l&&0===E)return null;var N=n&&E>99?"99+":"".concat(E);return u?o().createElement(o().Fragment,null,N):o().createElement("span",{className:i||"",style:t},N)},re=["horoscopes","finance","woman","weekend","travel","weather","tv"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}var ae,oe=function(e){return a.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),P||(P=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm12.353 9.293-3.469-3.47a.5.5 0 0 0-.707 0l-.354.354a.5.5 0 0 0 0 .707l2.366 2.366H2.5a.5.5 0 0 0-.5.5v.5a.5.5 0 0 0 .5.5h7.689l-2.366 2.366a.5.5 0 0 0 0 .707l.354.354a.5.5 0 0 0 .707 0l3.469-3.47a.999.999 0 0 0 0-1.414ZM16 2a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4h1.5v3.5h11v-13h-11V7H3V3a1 1 0 0 1 1-1h12Z",clipRule:"evenodd"})))};function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(this,arguments)}var le=function(e){return a.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",width:20,height:20},e),ae||(ae=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 20V0v20zM20 0v20V0zM3.833 5.5h12.334L10 10.125 3.833 5.5zm12.667 10h-13V7.125l5.9 4.425a.999.999 0 0 0 1.2 0l5.9-4.425V15.5zM2 5v11a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1z"})))},ie="rc__5XNlq",se="rc__rZela",ue="rc__gEOAO",de=function(e){var t=e.projectCode,r=void 0===t?"":t,n=e.counter,a=void 0===n?0:n,c="";return re.includes(r)||(c=a?function(e){var t,r,n,a,o,c,l=e>99?99:e;return"".concat(l," ").concat((t=l,r=" _ _ ".split("_"),a=(n=d()(r,3))[0],o=n[1],c=n[2],t%10==1&&t%100!=11?a:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?o:c))}(a):"  "),o().createElement("a",{className:ie,href:"https://mail.rambler.ru/folder/INBOX",rel:"noopener",target:"_blank","data-cerber":"header::mail::".concat(a?"new_letters":"empty_box")},o().createElement("span",{className:l()(se,!!a&&"rc__eIGVO")},o().createElement(le,{className:ue})),c)},me=function(e){var t=e.projectCode,r=e.userFetched,n=e.userProfile,a=function e(){window.ramblerIdHelper.removeListener("login",e),window.ramblerIdHelper.removeListener("oauthlogin",e)},c=o().createElement(o().Fragment,null,o().createElement("span",{className:"rc__9BlbX"},o().createElement(oe,{className:ue})),re.includes(t)?"":"  ");return r?n?"general"!==(null==n?void 0:n.__type)?o().createElement("a",{className:ie,href:"https://id.rambler.ru/account/registration/",rel:"noopener",target:"_blank","data-cerber":"header::mail::create_mail"},o().createElement("span",{className:se},o().createElement(le,{className:ue})),re.includes(t)?"":" "):o().createElement(te,null,o().createElement(de,{projectCode:t})):o().createElement("a",{className:"rc__KWXsu",href:"https://mail.rambler.ru/",rel:"noopener",target:"_blank","data-cerber":"header::mail::login",onClick:function(e){e.preventDefault(),window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.addListener("login",a),window.ramblerIdHelper.addListener("oauthlogin",a),window.ramblerIdHelper.openAuth({rname:t})}))}},c):o().createElement("span",{className:"rc__GTV2y"},c)},fe="rc__o-jux",pe=function(e){var t=e.projectCode,r=e.projectName,n=e.breakpointsClassName,a=e.simpleView,c=void 0!==a&&a,i=e.withoutShadow,s=void 0!==i&&i,u=e.doodle,d=e.search,m=void 0===d?{suggest:!0}:d,f=e.userFetched,v=void 0!==f&&f,h=e.userProfile,b=void 0===h?null:h,_=e.children;return o().createElement("div",{className:l()("rc__efrlb",s&&"rc__QmKPf","rc-header")},o().createElement("div",{className:l()("rc__Fw0Bz",n||"rc__hMA4u")},!c&&o().createElement("div",{className:"rc__TxOs2"},o().createElement(p,{projectCode:t,projectName:r,doodle:u})),!c&&o().createElement("div",{className:l()("rc__781Li",fe)},o().createElement(A,m)),(c||!!_)&&o().createElement("div",{className:l()("rc__miHwc",c&&fe)},_),o().createElement("div",{className:"rc__igT-E"},o().createElement(me,{projectCode:t,userFetched:v,userProfile:b}))))},ve=pe;e.exports=n}()},21834:(e,t,r)=>{!function(){"use strict";var t={n:function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{Image:function(){return k},ImageBg:function(){return N},default:function(){return S}});var a=r(10434),o=t.n(a),c=r(27424),l=t.n(c),i=r(70215),s=t.n(i),u=(r(92222),r(67294)),d=t.n(u),m=r(37953),f=t.n(m),p=r(18698),v=t.n(p),h=(r(41539),r(54747),function(e){return function(t){Array.isArray(e)&&e.forEach((function(e){e&&("object"===v()(e)?e.current=t:"function"==typeof e&&e(t))}))}}),b=(r(66992),r(78783),r(33948),r(60285),r(41637),r(69600),function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=new URL(e),o=t?"width:".concat(t*n,","):"",c=r?"height:".concat(r*n,","):"",l=o&&c?"cover":"max",i=["img-format=auto","img-1-resize=".concat(o).concat(c,"fit:").concat(l)];return 1===n&&i.push("img-2-filter=sharpen"),"".concat(a.origin).concat(a.pathname,"?").concat(i.join("&"))}),_=r(38416),w=t.n(_),g=(r(47941),r(82526),r(57327),r(38880),r(49337),["className","style","loadedClassName","errorClassName","src","src2x","width","height","isS3","isLazy","isInline","forwardRef","onLoad","onError"]);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.className,r=e.style,n=e.loadedClassName,a=e.errorClassName,c=e.src,i=e.src2x,m=e.width,p=e.height,v=e.isS3,_=void 0===v||v,w=e.isLazy,y=e.isInline,N=e.forwardRef,O=e.onLoad,k=e.onError,S=s()(e,g),I=(0,u.useRef)(null),M=h([N,I]),C=(0,u.useState)(!1),j=l()(C,2),x=j[0],R=j[1],P=(0,u.useState)(!1),L=l()(P,2),H=L[0],T=L[1],A=(0,u.useState)(!1),D=l()(A,2),V=D[0],B=D[1],Z=y?"span":"div",F=(0,u.useMemo)((function(){if(!x||!c&&!i)return null;var e=Math.ceil(window.devicePixelRatio||1);if(!_)return e>1?i||c:c||i;var t=Math.round(m),r=Math.round(p);return t||r?b(c||i,t,r,e):c||i}),[c,i,m,p,_,x]);return(0,u.useEffect)((function(){var e;return w?!x&&I.current&&(e=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(R(!0),e.unobserve(t.target))}))}))).observe(I.current):R(!0),function(){e&&e.disconnect()}}),[w,x]),(0,u.useEffect)((function(){if(F){var e=new window.Image;return e.onload=function(){T(!0),"function"==typeof O&&O(I.current)},e.onerror=function(){B(!0),"function"==typeof k&&k(I.current,new Error("@rambler-components/image:    "))},e.src=F,function(){e.onload=null,e.onerror=null}}}),[F,O,k]),d().createElement(Z,o()({},S,{className:f()(t,H&&n,V&&a),style:E(E({},r),{},{width:m,height:p},F?{backgroundImage:"url('".concat(F,"')")}:{}),ref:M}))},O=["className","style","loadedClassName","errorClassName","src","src2x","width","height","alt","isS3","isLazy","forwardRef","onLoad","onError"],k=function(e){var t=e.className,r=e.style,n=e.loadedClassName,a=e.errorClassName,c=e.src,i=e.src2x,m=e.width,p=e.height,v=e.alt,_=e.isS3,w=void 0===_||_,g=e.isLazy,y=e.forwardRef,E=e.onLoad,N=e.onError,k=s()(e,O),S=(0,u.useRef)(null),I=h([y,S]),M=(0,u.useState)(!1),C=l()(M,2),j=C[0],x=C[1],R=(0,u.useState)(!1),P=l()(R,2),L=P[0],H=P[1],T=(0,u.useMemo)((function(){if(!c&&!i)return["",""];if(!w)return[c||i,i||c];var e=Math.round(m),t=Math.round(p);return e||t?[b(c,e,t),b(c,e,t,2)]:[c||i,c||i]}),[c,i,m,p,w]),A=function(){x(!0),"function"==typeof E&&E(S.current)},D=function(){H(!0),"function"==typeof N&&N(S.current,new Error("@rambler-components/image:    : ".concat(S.current.currentSrc)))};return(0,u.useEffect)((function(){S.current.complete&&(0===S.current.naturalWidth?D():A())}),[]),d().createElement("img",o()({},k,{className:f()(t,j&&n,L&&a),style:r,srcSet:T[0]!==T[1]?"".concat(T[0],", ").concat(T[1]," 2x"):void 0,src:T[0],width:m,height:p,alt:v,loading:g?"lazy":void 0,onLoad:A,onError:D,ref:I}))},S=k;e.exports=n}()},87466:(e,t,r)=>{!function(){"use strict";var t={n:function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{ToplineMobile:function(){return Nt},default:function(){return Ot}});var a,o=r(10434),c=t.n(o),l=r(27424),i=t.n(l),s=(r(74916),r(64765),r(26699),r(67294)),u=t.n(s),d=r(664),m=t.n(d),f=r(17156),p=t.n(f),v=r(64687),h=t.n(v),b=(r(41539),r(88674),function(e){var t=e.withChainId;return new Promise((function(e){window.ramblerIdHelper.push((function(){window.ramblerIdHelper.getProfileInfo({get_chain_id:t?1:0,get_accounts_by_provider:"uniq.lp.love.passport.rambler.ru",get_accounts:1,get_contacts:1},(function(t){e(t)}))}))}))}),_=(r(19601),!1),w={},g=function(e){var t=document,r=t.body,n=t.documentElement,a=n.style,o=n.getBoundingClientRect(),c=o.top,l=o.left;if(e)_||(w={position:a.position||"",overscrollBehavior:a.overscrollBehavior||"",width:a.width||"",height:a.height||"",top:a.top||"",left:a.left||"",overflowY:a.overflowY||""},Object.assign(n.style,{position:"fixed",overscrollBehavior:"contain",width:"100%",height:"100%",top:"".concat(c,"px"),left:"".concat(l,"px"),overflowY:window.innerHeight<r.scrollHeight?"scroll":""}),_=!0);else if(_){var i=n.getBoundingClientRect(),s=i.top,u=i.left;Object.assign(document.documentElement.style,w),window.scrollTo(-u,-s),_=!1}},y=r(41609),E=t.n(y),N=function(e){return e&&e.__type&&"general"===e.__type},O=(r(29254),function(e){var t=(0,s.useState)(!1),r=i()(t,2),n=r[0],a=r[1];return(0,s.useEffect)((function(){var t={ready:!0};if(e){a(!1);var r=new window.Image;r.onerror=function(){t.ready&&a(!0)},r.src=e}return function(){t.ready=!1}}),[]),n}),k="https://www.rambler.ru/",S="  ",I={news:"",weather:"",horoscopes:"",finance:"",woman:"",kino:"",sport:"",auto:"",doctor:"",weekend:"",travel:"",soft:"",likes:"",help:""},M={logo:"rc__a1SY8",doodle:"rc__1tOM3",link:"rc__cOVpq",img:"rc__yHXIH",rambler:"rc__6PpWm",news:"rc__LJcOk",weather:"rc__LVyf-",horoscopes:"rc__QPLRh",finance:"rc__pJoCm",woman:"rc__hqJbm",kino:"rc__AnTfi",sport:"rc__G0mUT",auto:"rc__z9wWU",doctor:"rc__PmPss",weekend:"rc__xxCTf",travel:"rc__xEMBp",soft:"rc__qZ4bH",likes:"rc__9zYUX",help:"rc__OnrOh",tv:"rc__qRea6",calendar:"rc__cmJ60"},C=function(e){var t=e.className,r=e.projectCode,n=e.projectName,a=e.doodle;return O(null==a?void 0:a.image)||E()(a)?u().createElement("div",{className:m()(M.logo,t)},u().createElement("a",{className:M.link,href:k,title:S,"data-cerber":"topline::main_logotype"},u().createElement("span",{className:m()(M.img,M.rambler)})),M[r]&&u().createElement("a",{className:M.link,href:"/",title:n||I[r],"data-cerber":"topline::composite_logotype"},u().createElement("span",{className:m()(M.img,M[r])}))):u().createElement("div",{className:m()(M.doodle,t)},u().createElement("a",{className:M.link,href:a.url,title:a.title,"data-cerber":"topline::doodle"},u().createElement("img",{className:M.img,src:a.image})))};function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}var x,R=function(e){return s.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),a||(a=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm17.5 14h-15a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5Zm0-5h-15a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5ZM2 5.5v-1a.5.5 0 0 1 .5-.5h15a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})))};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}var L,H=function(e){return s.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),x||(x=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 20V0v20ZM20 0v20V0Zm-2.823 16.116-2.728-2.727a6.994 6.994 0 0 0 1.441-5.644c-.489-2.806-2.728-5.089-5.527-5.616a7.011 7.011 0 0 0-8.234 8.234c.527 2.799 2.81 5.038 5.616 5.527a6.994 6.994 0 0 0 5.644-1.441l2.727 2.728a.5.5 0 0 0 .707 0l.354-.354a.5.5 0 0 0 0-.707ZM9 3.5c3.033 0 5.5 2.467 5.5 5.5s-2.467 5.5-5.5 5.5A5.506 5.506 0 0 1 3.5 9c0-3.033 2.467-5.5 5.5-5.5Z",clipRule:"evenodd"})))};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}var A=function(e){return s.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),L||(L=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 20V0v20ZM20 0v20V0ZM3.833 5.5h12.334L10 10.125 3.833 5.5Zm12.667 10h-13V7.125l5.9 4.425a.999.999 0 0 0 1.2 0l5.9-4.425V15.5ZM2 5v11a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1Z",clipRule:"evenodd"})))},D="rc__f2oyJ",V="rc__rEGdL",B="rc__UUmyB",Z=function(e){var t=e.projectCode,r=e.projectName,n=e.doodle,a=e.isHiddenSearch,o=e.userProfile,c=e.isHiddenLogo,l=e.onOpenBurger,i=e.onOpenSearch,d=(0,s.useMemo)((function(){return E()(o)?"https://mail.rambler.ru/":N(o)?"https://mail.rambler.ru/folder/INBOX/":"https://id.rambler.ru/account/registration/"}),[o]);return u().createElement("div",{className:m()("rc__opYP9",c&&"rc__3QePE")},u().createElement("div",null,u().createElement("button",{className:D,type:"button","aria-label":" ",onClick:l,"data-cerber":"topline::burger_button"},u().createElement(R,{className:V}))),u().createElement(C,{className:B,projectCode:t,projectName:r,doodle:n}),u().createElement("div",{className:B},a?u().createElement("button",{className:D,type:"button","aria-label":"  ",onClick:i,"data-cerber":"topline::search_button"},u().createElement(H,{className:V})):u().createElement("a",{className:D,href:d,title:" ",rel:"noopener",target:"_blank","data-cerber":"topline::mail_button"},u().createElement(A,{className:V}))))},F=r(18698),U=t.n(F);function Y(){}r(15306),r(57327),r(21249),r(9653),r(92222),r(68309);var G,W=0,z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=e,a=t.prefix||"__jp",o=t.name||a+W;W+=1;var c,l,i=t.param||"callback",s=null!=t.timeout?t.timeout:6e4,u=encodeURIComponent,d=document.getElementsByTagName("script")[0]||document.head;function m(){c.parentNode&&c.parentNode.removeChild(c),window[o]=Y,l&&clearTimeout(l)}return s&&(l=setTimeout((function(){m(),r&&r(new Error("Timeout"))}),s)),window[o]=function(e){m(),r&&r(null,e)},n=(n+="".concat(e.indexOf("?")>-1?"&":"?").concat(i,"=").concat(u(o))).replace("?&","?"),(c=document.createElement("script")).src=n,d.parentNode.insertBefore(c,d),function(){window[o]&&m()}},q=function(){var e=p()(h().mark((function e(t){var r,n,a=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://nova.rambler.ru/suggest?count=".concat(a.length>1&&void 0!==a[1]?a[1]:10,"&v=7&nob=1&query=").concat(t),e.prev=2,e.next=5,new Promise((function(e,t){z(r,{param:"jsonp"},(function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r?t(r):e(n)}))}));case 5:if(n=e.sent,!E()(n)&&n.query===t&&Array.isArray(n.suggests)){e.next=8;break}throw new Error("Error in suggest request");case 8:return e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{query:t,suggests:[]});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),K=q,Q=function(e){var t=e.query,r=e.submitNode,n=e.onChangeQuery,a=e.onSuggestUsed,o=e.onSuggestAction,c=e.onTouch,l=(0,s.useState)(),d=i()(l,2)[1],m=(0,s.useRef)(null),f=(0,s.useRef)(null),v=(0,s.useRef)(!1),b=(0,s.useState)([]),_=i()(b,2),w=_[0],g=_[1];(0,s.useEffect)((function(){var e={waiting:!0};if(v.current)v.current=!1;else{var r=function(){var r=p()(h().mark((function r(){var n,a;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f.current=t,!t){r.next=10;break}return n=o||K,r.next=5,n(t);case 5:if(a=r.sent,!e.waiting||t!==(null==a?void 0:a.query)){r.next=10;break}if(!Array.isArray(null==a?void 0:a.suggests)){r.next=10;break}return g(a.suggests),r.abrupt("return");case 10:g([]);case 11:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}return function(){e.waiting=!1}}),[o,t]),(0,s.useEffect)((function(){var e=function(){c()},t=m.current;return t&&t.addEventListener("touchstart",e),function(){t&&t.removeEventListener("touchstart",e)}}),[c]),(0,s.useEffect)((function(){window.ramblerSearchHelper=window.ramblerSearchHelper||[],window.ramblerSearchHelper.push((function(){d(Math.random())}))}),[]);var y=w.map((function(e,t){if(e.type){var r=window.ramblerSearchHelper;if("function"==typeof(null==r?void 0:r.renderWidget))return window.ramblerSearchHelper.renderWidget({index:t,item:e})}return null})).filter(Boolean),E=w.map((function(e,t){return e.type?null:u().createElement("div",{key:t,className:"rc__P5Bev"},u().createElement("button",{className:"rc__hUPic",type:"button",tabIndex:-1,"data-cerber":"simple_item::".concat(Number(e.ind)+1),onClick:function(){return e=t,a(),n(((null===(o=w[e])||void 0===o?void 0:o.sug)||f.current).replace(/<\/?b>/gi,"")),void(r.current&&setTimeout((function(){r.current.click()}),0));var e,o}},u().createElement("span",{className:"rc__BOM6U",dangerouslySetInnerHTML:{__html:e.sug}})))})).filter(Boolean);return u().createElement("div",{className:"rc__Y11Ma",ref:m,"data-cerber":"search_suggest"},u().createElement("div",{className:"rc__YgzuZ"},y,!!y.length&&!!E.length&&u().createElement("div",{className:"rc__j1bVK"}),E))};function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(this,arguments)}var X,$=function(e){return s.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),G||(G=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 20V0v20Zm8.116-3.823-5.469-5.47a.999.999 0 0 1 0-1.414l5.469-5.47a.5.5 0 0 1 .707 0l.354.354a.5.5 0 0 1 0 .707L4.811 9.25H17.5a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H4.811l4.366 4.366a.5.5 0 0 1 0 .707l-.354.354a.5.5 0 0 1-.707 0Z",clipRule:"evenodd"})))};function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}var te,re,ne=function(e){return s.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),X||(X=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm14.177 6.884L11.061 10l3.116 3.116a.5.5 0 0 1 0 .707l-.354.354a.5.5 0 0 1-.707 0L10 11.061l-3.116 3.116a.5.5 0 0 1-.707 0l-.354-.354a.5.5 0 0 1 0-.707L8.939 10 5.823 6.884a.5.5 0 0 1 0-.707l.354-.354a.5.5 0 0 1 .707 0L10 8.939l3.116-3.116a.5.5 0 0 1 .707 0l.354.354a.5.5 0 0 1 0 .707Z",clipRule:"evenodd"})))},ae="rc__0KfMt",oe="rc__tLLGP",ce=function(e){var t=e.isDisplaced,r=e.isHiddenSearch,n=e.visibleSearchForm,a=e.value,o=e.placeholder,c=e.action,l=void 0===c?"https://nova.rambler.ru/search":c,d=e.target,f=e.openstat,p=e.onSuggestAction,v=e.onSubmit,h=e.onCloseSearch,b=(0,s.useRef)(),_=(0,s.useRef)(!1),w=(0,s.useRef)(!1),y=(0,s.useRef)(),E=(0,s.useRef)(),N=(0,s.useRef)(),O=o||"  ",k=(0,s.useState)(a||""),S=i()(k,2),I=S[0],M=S[1],C=(0,s.useState)(!1),j=i()(C,2),x=j[0],R=j[1],P=(0,s.useState)(!1),L=i()(P,2),T=L[0],A=L[1],D=function(e){y&&clearTimeout(y.current),e?(g(!0),A(!0)):(g(!1),r?h():y.current=setTimeout((function(){A(!1)}),200)),R(e)},V=(0,s.useCallback)((function(){E.current&&E.current.blur()}),[]);return(0,s.useEffect)((function(){r&&n&&(D(!0),E.current&&E.current.focus())}),[r,n]),(0,s.useEffect)((function(){document.activeElement===E.current&&(M(E.current.value),D(!0))}),[]),u().createElement("div",{className:m()("rc__PSdg4",n&&"rc__Rx4O4",!x&&t&&"rc__M-xwx",x&&"rc__thXuw",T&&"rc__S9BE-"),ref:b},u().createElement("div",{className:"rc__MQQRV"},x&&u().createElement("button",{className:"rc__5DQs0",type:"button",onClick:function(){return D(!1)},"aria-label":"  ","data-cerber":"search_form::backward"},u().createElement($,{className:oe})),u().createElement("form",{className:"rc__qWmTT",role:"search","aria-label":O,action:l,target:d,onSubmit:function(e){E.current&&E.current.blur(),D(!1),"function"==typeof v&&v(e,I,{isSubmitedByEnter:_.current,isUsedSuggest:w.current}),_.current=!1,w.current=!1}},f&&u().createElement("input",{type:"hidden",name:"_openstat",value:f}),u().createElement("input",{className:"rc__ARK23",type:"text",value:I,name:"query",placeholder:O,onFocus:function(){D(!0),"function"!=typeof p&&(void 0!==window.ramblerSearchHelper&&void 0!==window.ramblerSearchHelper.renderWidget||function(e){if(!document.querySelector('script[data-src="'.concat(e,'"]'))){var t=document.createElement("script"),r=document.getElementsByTagName("script")[0];t.async=!0,t.src=e,t.dataset.src=e,"object"===U()(r)&&r.parentNode?r.parentNode.insertBefore(t,r):document.head.appendChild(t)}}("https://static.rambler.ru/rambler-search-helper/mobile/sdk.js"))},onChange:function(e){M(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(_.current=!0)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",ref:E,"data-cerber":"search_form::input"}),Boolean(I)&&u().createElement("button",{className:m()(ae,"rc__u-NRY"),type:"button",onClick:function(){M(""),E.current&&E.current.focus()},"aria-label":"  ","data-cerber":"search_form::clear"},u().createElement(ne,{className:oe})),u().createElement("button",{className:m()(ae,"rc__Zn7Or"),type:"submit",ref:N,"aria-label":"","data-cerber":"search_form::search_button"},u().createElement(H,{className:oe})))),x&&u().createElement(Q,{query:I,submitNode:N,onChangeQuery:M,onSuggestUsed:function(){w.current=!0},onSuggestAction:p,onTouch:V}))},le=r(861),ie=t.n(le),se=(r(47042),function(e){var t=(0,s.useRef)(null),r=(0,s.useState)(!1),n=i()(r,2),a=n[0],o=n[1],c=(0,s.useState)(!1),l=i()(c,2),u=l[0],d=l[1];return(0,s.useEffect)((function(){if(!e){d(!1);var r=setTimeout((function(){o(!1)}),50),n=function e(n){t.current&&n.target===t.current&&(clearTimeout(r),t.current.removeEventListener("transitionrun",e))},a=function e(r){t.current&&r.target===t.current&&(o(!1),t.current.removeEventListener("transitionend",e))};return t.current&&(t.current.addEventListener("transitionend",a),t.current.addEventListener("transitionrun",n)),function(){t.current&&(t.current.removeEventListener("transitionend",a),t.current.removeEventListener("transitionrun",n))}}o(!0),setTimeout((function(){d(!0)}),50)}),[e]),{refNode:t,isMounted:a,isVisible:u}}),ue=(r(47941),r(82526),r(38880),r(54747),r(49337),r(38416)),de=t.n(ue),me=r(73935),fe=r(74855),pe=r(78229),ve=t.n(pe),he=r(89728),be=t.n(he),_e=r(56690),we=t.n(_e),ge=(r(39714),Math.random().toString(36).slice(2)),ye=0,Ee=0,Ne=function(){var e=Date.now();return e>Ee?(Ee=e,ye=0):ye+=1,"".concat(ge,"-").concat(Ee,"-").concat(ye)},Oe={FIRST_CONNECTION_DELAY:1e3,REJECTION_CODE:1008,GROWTH_FACTOR:1.5,MAX_ATTEMPTS:5},ke=Oe.FIRST_CONNECTION_DELAY,Se=!0,Ie=0,Me=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Oe,o=new WebSocket(t),c=function(){Se&&(te=setTimeout((function(){n(e(t,r,n,a)),(Ie+=1)>=a.MAX_ATTEMPTS&&(Se=!1),ke*=a.GROWTH_FACTOR}),ke))};return o.onopen=function(){return clearTimeout(te)},o.onclose=function(e){e.code===a.REJECTION_CODE&&(Se=!1),c()},o.onerror=c,o.onmessage=r,o},Ce=["Spam","SentBox","DraftBox","Trash"],je=be()((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;we()(this,e),de()(this,"unseenMailsNumber",void 0),de()(this,"isInterrupted",void 0),de()(this,"subscribers",void 0),de()(this,"lastId",void 0),de()(this,"pollIntervalId",void 0),de()(this,"timeoutIntervalId",void 0),de()(this,"ws",void 0),de()(this,"isRms",void 0),de()(this,"load",p()(h().mark((function e(){var r,n,a,o,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchMailboxFolders();case 3:r=e.sent,n=r.mailbox,a=n.unseen_incoming,o=n.rms,c=n.ws,t.isRms=Boolean(o),t.isInterrupted||(t.unseenMailsNumber=a,t.emit(),null===t.timeoutIntervalId&&(t.timeoutIntervalId=setInterval(t.load,o?36e5:3e5)),c&&!t.ws&&(t.connectToWS(),t.clearPollInterval())),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t.isInterrupted||(t.unseenMailsNumber=0),null===t.pollIntervalId&&(t.pollIntervalId=setInterval(t.load,12e4));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))),de()(this,"subscribe",(function(e){return t.lastId+=1,t.subscribers[t.lastId]=e,function(){return delete t.subscribers[t.lastId]}})),de()(this,"emit",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.unseenMailsNumber;t.unseenMailsNumber=e,Object.keys(t.subscribers).forEach((function(r){return t.subscribers[r](e)}))})),de()(this,"interrupt",(function(){t.unsubscribe(),t.isInterrupted=!0})),de()(this,"unsubscribe",(function(){t.ws&&t.ws.close(),t.clearPollInterval(),t.clearTimeoutInterval()})),de()(this,"onmessage",(function(e){var r=JSON.parse(e.data).payload;r&&"object"===U()(r)&&Ce.includes(r.box)||r.dst&&Ce.includes(r.dst.box)||(t.isRms?t.unseenMailsNumber+=r.unseen_delta?r.unseen_delta:0:t.load(),t.emit(t.unseenMailsNumber))})),de()(this,"connectToWS",(function(){t.ws&&t.ws.close(),t.ws=Me("wss://mail.rambler.ru/ws",t.onmessage,(function(e){t.ws=e}))})),de()(this,"clearPollInterval",(function(){null!==t.pollIntervalId&&(clearInterval(t.pollIntervalId),t.pollIntervalId=null)})),de()(this,"clearTimeoutInterval",(function(){null!==t.pollIntervalId&&(clearInterval(t.timeoutIntervalId),t.timeoutIntervalId=null)})),de()(this,"fetchMailboxFolders",p()(h().mark((function e(){var t,r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mail.rambler.ru/rpc",{method:"POST",credentials:"include",headers:{"x-rambler-mail-client-version":"1.0.0","x-rambler-mail-client-type":"unseen_mails_counter","x-rambler-mail-method":"Rambler::Mail::get_mailbox_folders","content-type":"application/json; charset=utf-8"},body:JSON.stringify({jsonrpc:"2.0",method:"Rambler::Mail::get_mailbox_folders",params:[{create_system_folders:!1}],id:Ne()})});case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,!(n=r.result).error){e.next=9;break}throw new Error;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))),this.unseenMailsNumber=r,this.subscribers={},this.lastId=0,this.pollIntervalId=null,this.timeoutIntervalId=null,this.ws=null,this.isInterrupted=!1})),xe=function(e){var t=e.style,r=e.collapseBigNumbers,n=void 0!==r&&r,a=e.renderZero,o=void 0!==a&&a,c=e.className,l=e.renderString,d=void 0!==l&&l,m=e.onChange,f=e.children,v=e.unseenMailsNumber,b=(0,s.useState)(null),_=i()(b,2),w=_[0],g=_[1],y=(0,s.useRef)();(0,s.useEffect)((function(){function e(){return(e=p()(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!window.unseenMailsEmitter,r=!!v,t?window.unseenMailsEmitter=new je(v):r&&window.unseenMailsEmitter.interrupt(),!r){e.next=7;break}window.unseenMailsEmitter.emit(v),e.next=14;break;case 7:if(!t){e.next=10;break}return e.next=10,window.unseenMailsEmitter.load();case 10:y.current=window.unseenMailsEmitter.subscribe(g),g(window.unseenMailsEmitter.unseenMailsNumber),window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.addListener("login",window.unseenMailsEmitter.load),window.ramblerIdHelper.addListener("oauthlogin",window.unseenMailsEmitter.load)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){v?(window.unseenMailsEmitter.isInterrupted=!1,window.unseenMailsEmitter.load()):(y.current&&y.current(),window.ramblerIdHelper.push((function(){window.ramblerIdHelper.removeListener("login",window.unseenMailsEmitter.load),window.ramblerIdHelper.removeListener("oauthlogin",window.unseenMailsEmitter.load)})))}}),[]),(0,s.useEffect)((function(){window.unseenMailsEmitter.emit(v)}),[v]),(0,s.useEffect)((function(){m&&null!==w&&m(w)}),[m,w]);var E=v||w;if(null===E)return null;if((0,s.isValidElement)(f))return u().cloneElement(f,{counter:E});if(!o&&0===E)return null;var N=n&&E>99?"99+":"".concat(E);return d?u().createElement(u().Fragment,null,N):u().createElement("span",{className:c||"",style:t},N)},Re=function(e,t){var r=e.split("_"),n=i()(r,3),a=n[0],o=n[1],c=n[2];return t%10==1&&t%100!=11?a:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?o:c};function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pe.apply(this,arguments)}var Le,He=function(e){return s.createElement("svg",Pe({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),re||(re=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm15.5 3.5V15h.5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v.5h9.5ZM3 6v11a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1Zm1.5 10.5h8v-10h-8v10Z",clipRule:"evenodd"})))};function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}var Ae=function(e){return s.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Le||(Le=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm12.353 9.293-3.469-3.47a.5.5 0 0 0-.707 0l-.354.354a.5.5 0 0 0 0 .707l2.366 2.366H2.5a.5.5 0 0 0-.5.5v.5a.5.5 0 0 0 .5.5h7.689l-2.366 2.366a.5.5 0 0 0 0 .707l.354.354a.5.5 0 0 0 .707 0l3.469-3.47a.999.999 0 0 0 0-1.414ZM16 2a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4h1.5v3.5h11v-13h-11V7H3V3a1 1 0 0 1 1-1h12Z",clipRule:"evenodd"})))},De="rc__bZSEQ",Ve="rc__anKff",Be="rc__i7dQ9";function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Fe,Ue=function(e){var t=e.counter,r=void 0===t?0:t;return u().createElement("a",{className:Be,href:"https://mail.rambler.ru/folder/INBOX/"},u().createElement("span",{className:m()("rc__kUmsI",!!r&&"rc__2zn1K")},u().createElement(A,{className:De})),!r&&"  ",Boolean(r)&&u().createElement(u().Fragment,null,r>99?"99+":r,"",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>99?99:e;return"".concat(Re("__",t)," ").concat(Re("__",t))}(r)))},Ye=function(e){var t,r,n,a,o,c,l,d,f=e.projectCode,p=e.authFrameOptions,v=e.userFetched,h=e.userProfile,b=N(h),_=(0,s.useRef)(),w=(0,s.useState)(null),g=i()(w,2),y=g[0],E=g[1],O=(0,s.useState)(!1),k=i()(O,2),S=k[0],I=k[1],M=(0,s.useState)(!1),C=i()(M,2),j=C[0],x=C[1];if((0,s.useEffect)((function(){var e=function(){I(!1)};return window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.addListener("loaded",e)})),function(){window.ramblerIdHelper.push((function(){window.ramblerIdHelper.removeListener("loaded",e)}))}}),[]),(0,s.useEffect)((function(){if(S){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),r}("div",{class:"rc__Qp1ny"});E(e)}else E(null)}),[S]),(0,s.useEffect)((function(){return y&&document.body.appendChild(y),function(){y&&document.body.removeChild(y)}}),[y]),!v)return null;if(!h)return u().createElement("div",{className:"rc__4LQ-y"},u().createElement("a",{className:"rc__uoYtO",href:"https://mail.rambler.ru/","data-cerber":"user_block::create_mail"},u().createElement("span",{className:"rc__S2wnr"},u().createElement(A,{className:De}))," "),u().createElement("button",{className:"rc__I2f1Q",type:"button",onClick:function(){I(!0),window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.openAuth(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){de()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({rname:f},p))}))},"data-cerber":"user_block::login_button"},u().createElement(Ae,{className:De}),"o"),y&&(0,me.createPortal)(u().createElement(ve(),{size:"large",type:"white"}),y));var R=null==h||null===(t=h.display)||void 0===t||null===(r=t.avatar)||void 0===r?void 0:r.url,P=(null==h||null===(n=h.info)||void 0===n?void 0:n.email)||(null==h||null===(a=h.info)||void 0===a||null===(o=a.accounts)||void 0===o||null===(c=o.email)||void 0===c?void 0:c[0]),L=(null==h||null===(l=h.display)||void 0===l?void 0:l.display_name)||P;return u().createElement("div",{className:"rc__BTqJU"},u().createElement("div",{className:"rc__3PJhj"},u().createElement("span",{className:"rc__gBFmG",style:{backgroundImage:'url("'.concat(R,'")')}}),u().createElement("span",{className:"rc__-3-24"},L),(null==h||null===(d=h.info)||void 0===d?void 0:d.email)&&u().createElement(fe.CopyToClipboard,{text:P,onCopy:function(){x(!0),_.current&&clearTimeout(_.current),_.current=setTimeout((function(){x(!1)}),700)}},u().createElement("button",{className:m()("rc__bba7n",j&&"rc__9-t-4"),type:"button","data-cerber":"user_block::copy_email"},u().createElement("span",{className:"rc__66ziK"},P),u().createElement("span",{className:"rc__9Xym9"},u().createElement(He,{className:De}))))),!b&&u().createElement("div",{className:Ve},u().createElement("a",{href:"https://id.rambler.ru/account/registration/",className:Be,"data-cerber":"user_block::add_email"}," ")),b&&u().createElement("div",{className:Ve},u().createElement(xe,null,u().createElement(Ue,null))),b&&u().createElement("div",{className:Ve},u().createElement("a",{href:"https://mail.rambler.ru/compose/",className:Be,"data-cerber":"user_block::write_letter"}," ")),u().createElement("div",{className:Ve},u().createElement("a",{href:"https://id.rambler.ru/",className:Be,"data-cerber":"user_block::my_profile"}," ")),u().createElement("div",{className:Ve},u().createElement("button",{className:Be,type:"button",onClick:function(){window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.logout()}))},"data-cerber":"user_block::logout"},"")))};function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge.apply(this,arguments)}var We,ze=function(e){return s.createElement("svg",Ge({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Fe||(Fe=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm11.288 17.865L9 11 2.135 8.712c-.684-.228-.684-1.196 0-1.424l14.442-4.814a.75.75 0 0 1 .949.949l-4.814 14.442c-.228.684-1.196.684-1.424 0Z",clipRule:"evenodd"})))};function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qe.apply(this,arguments)}var Ke,Qe,Je,Xe,$e,et=function(e){return s.createElement("svg",qe({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),We||(We=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 20V0v20ZM20 0v20V0Zm-3.823 4.884L11.061 10l5.116 5.116a.5.5 0 0 1 0 .707l-.354.354a.5.5 0 0 1-.707 0L10 11.061l-5.116 5.116a.5.5 0 0 1-.707 0l-.354-.354a.5.5 0 0 1 0-.707L8.939 10 3.823 4.884a.5.5 0 0 1 0-.707l.354-.354a.5.5 0 0 1 .707 0L10 8.939l5.116-5.116a.5.5 0 0 1 .707 0l.354.354a.5.5 0 0 1 0 .707Z",clipRule:"evenodd"})))};function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tt.apply(this,arguments)}function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rt.apply(this,arguments)}function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nt.apply(this,arguments)}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(this,arguments)}function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ot.apply(this,arguments)}var ct=function(e){return s.createElement("svg",ot({xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none"},e),$e||($e=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 .003v20-20Zm-20 0v20-20Zm9.293 12.353-3.47-3.469a.5.5 0 0 1 0-.707l.354-.354a.5.5 0 0 1 .707 0L10 10.942l3.116-3.116a.5.5 0 0 1 .707 0l.354.354a.5.5 0 0 1 0 .707l-3.47 3.47a.999.999 0 0 1-1.414 0Z",clipRule:"evenodd"})))},lt="rc__FjYmH",it="rc__NBnZg",st=function(e){var t=e.items,r=(0,s.useState)(-1),n=i()(r,2),a=n[0],o=n[1],c=(0,s.useState)(-1),l=i()(c,2),d=l[0],f=l[1],p=(0,s.useState)(-1),v=i()(p,2),h=v[0],b=v[1],_=(0,s.useState)(-1),w=i()(_,2),g=w[0],y=w[1],E=function(e,t){1===t?(o(a===e?-1:e),f(-1)):2===t&&f(d===e?-1:e)};(0,s.useEffect)((function(){var e=-1,r=-1;t.every((function(t,n){return((null==t?void 0:t.children)||[]).length&&t.children.every((function(t,a){return null!=t&&t.active?(e=n,r=a,!1):(((null==t?void 0:t.children)||[]).length&&t.children.every((function(t){return null==t||!t.active||(e=n,r=a,!1)})),-1===r)})),null!=t&&t.active?(e=n,!1):-1===e})),o(e),f(r),b(e),y(r)}),[t]);var N=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t||"object"!==U()(t))return null;var c,l="item".concat(o,"_").concat(r+1),i="project_block::".concat(l),s=1===n&&a===r||2===n&&d===r,f=t.active||1===n&&h===r||2===n&&g===r,p=Array.isArray(t.children)&&!!t.children.length,v=u().createElement(u().Fragment,null,1===n&&t.icon&&u().createElement("span",{className:"rc__4GcKC"},u().createElement("img",{className:"rc__yJUQa",src:t.icon})),u().createElement("span",{className:"rc__4GbEK"},t.title));return v=t.href?u().createElement(u().Fragment,null,u().createElement("a",{className:lt,href:t.href,onClick:t.onClick,target:t.target,"data-cerber":i},v),p&&u().createElement("button",{className:"rc__9B-L4",type:"button",onClick:function(){return E(r,n)},"aria-label":t.title,"data-cerber":"".concat(i,"::arrow")},u().createElement(ct,{className:it}))):u().createElement("button",{className:lt,type:"button",onClick:function(){return E(r,n)},name:"  ".concat(t.title),"data-cerber":i},v,p&&u().createElement(ct,{className:it})),p&&s&&n<3&&(c=t.children.map((function(t,a){return e(t,a,n+1,"".concat(o,"_").concat(r+1))})),1===n&&(c=u().createElement("div",{className:"rc__DTuwI"},c))),u().createElement(u().Fragment,null,u().createElement("div",{key:l,className:m()("rc__aydQ2",n>2&&"rc__gnO2H",f&&"rc__W6IB5",s&&"rc__-sYnq")},v),c)};return u().createElement(u().Fragment,null,t.map((function(e,t){return N(e,t)})))},ut=[{title:"",code:"news",href:"https://news.rambler.ru/"},{title:"",code:"woman",href:"https://woman.rambler.ru/"},{title:"",code:"finance",href:"https://finance.rambler.ru/"},{title:"",code:"doctor",href:"https://doctor.rambler.ru/"},{title:"",code:"weekend",href:"https://weekend.rambler.ru/"},{title:"-",code:"starlife",href:"https://news.rambler.ru/starlife/"},{title:"",code:"sport",href:"https://sport.rambler.ru/"},{title:"",code:"travel",href:"https://travel.rambler.ru/"},{title:"",code:"auto",href:"https://auto.rambler.ru/"},{title:"",code:"kino",href:"https://kino.rambler.ru/"}],dt=[{title:"",code:"mail",href:"https://mail.rambler.ru/"},{title:"",code:"horoscopes",href:"https://horoscopes.rambler.ru/"},{title:"",code:"search_img",icon:"images",href:"https://images.rambler.ru/"},{title:"",code:"likes",href:"https://developers.rambler.ru/likes/"},{title:"",code:"weather",href:"https://weather.rambler.ru/"},{title:"",code:"tv",href:"https://tv.rambler.ru/"},{title:"",code:"search",href:"https://r0.ru/"},{title:"",code:"search_rabota",icon:"work",href:"https://rabota.rambler.ru/"},{title:"",code:"dating",icon:"likes",href:"https://dating.rambler.ru/"},{title:"-100",code:"top100",href:"https://top100.rambler.ru/"}],mt=[{title:" ",code:"all",icon:"more",href:"https://www.rambler.ru/all"},{title:" ",code:"soft",icon:"apps",href:"https://soft.rambler.ru/"}],ft={root:"rc__PCsIc",opened:"rc__y-1mZ",veil:"rc__oy5im",visible:"rc__thQ7c",icon:"rc__03r12",about:"rc__77ZCk",advertising:"rc__H5SM4",apps:"rc__GHq5-",auto:"rc__oou5o",desktop:"rc__vZF6L",doctor:"rc__s7e1i",finance:"rc__CXnUS",help:"rc__R18-A",horoscopes:"rc__pduUo",images:"rc__BMxG9",kassa:"rc__9RRcS",likes:"rc__6pqBs",mail:"rc__6DTHm",news:"rc__vPsYK",policy:"rc__K6Msp",search:"rc__Q22uy",sport:"rc__lrZ5H",starlife:"rc__5kcFm",terms:"rc__Kaxpg",top100:"rc__iB7X-",travel:"rc__jVhE1",vacancy:"rc__SpIgW",weather:"rc__oqiyA",weekend:"rc__te7Um",woman:"rc__UXePg",work:"rc__8vES0",more:"rc__-9hTj",kino:"rc__m28TH",tv:"rc__fOP7-",headline:"rc__ko-GR",home:"rc__dPIQ1",geo:"rc__HNNLD",location:"rc__V8CuZ",close:"rc__6G5zM",user:"rc__k2ble",section:"rc__XwAMs",title:"rc__8fSMR",columns:"rc__Oh0hS",column:"rc__tIYh-",link:"rc__VQryl",active:"rc__Qe76Y",boxIcon:"rc__YqgvS",label:"rc__DkCva",socials:"rc__EX8ZO",social:"rc__Pwi4j",vk:"rc__iUSYe",ok:"rc__rKf7i",tg:"rc__NRyE5",rss:"rc__WPA2X",socialIcon:"rc__A6bS2",copyright:"rc__QVUue",age:"rc__spW7k",rules:"rc__A6QOY",rulesLink:"rc__FCY1Y"},pt={vk:function(e){return s.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Ke||(Ke=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.7 2.3C16.5 1 14.4 1 10.4 1h-.8c-4 0-6.1 0-7.3 1.3C1.1 3.6 1 5.6 1 9.6v.7c0 4.1 0 6.1 1.3 7.4C3.6 19 5.6 19 9.6 19h.7c4.1 0 6.1 0 7.4-1.3 1.3-1.3 1.3-3.3 1.3-7.4v-.7c0-4 0-6.1-1.3-7.3Zm-6.9 9c1.5.2 2.6 1.3 3.1 2.7H16c-.6-2.2-2.1-3.3-3.1-3.8.9-.5 2.3-1.9 2.6-3.7h-1.9c-.4 1.5-1.6 2.9-2.8 3v-3H8.9v5.2c-1.2-.3-2.7-1.8-2.8-5.2H4c.1 4.7 2.5 7.5 6.6 7.5h.2v-2.7Z",clipRule:"evenodd"})))},ok:function(e){return s.createElement("svg",rt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Qe||(Qe=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.137 8.616a4.395 4.395 0 0 1-3.132 1.31 4.456 4.456 0 0 1-4.432-4.463 4.47 4.47 0 0 1 1.3-3.154A4.388 4.388 0 0 1 10.005 1a4.456 4.456 0 0 1 4.432 4.463 4.475 4.475 0 0 1-1.3 3.153Zm-3.132-5.191c-.554 0-1.052.224-1.422.597a2.026 2.026 0 0 0 0 2.864 1.988 1.988 0 0 0 2.844 0 2.026 2.026 0 0 0 0-2.864 2.043 2.043 0 0 0-1.422-.597Zm4.654 6.518 1.3 1.788c.066.092.053.21-.04.276a9.107 9.107 0 0 1-3.694 1.814l2.513 4.876c.065.145-.027.303-.183.303h-2.683a.229.229 0 0 1-.197-.132l-1.67-4.028-1.684 4.015a.201.201 0 0 1-.196.132H5.442c-.157 0-.249-.171-.183-.303L7.77 13.82a9.161 9.161 0 0 1-3.695-1.814c-.078-.066-.104-.197-.039-.276l1.3-1.788c.079-.106.21-.119.301-.04 1.221 1.046 2.735 1.735 4.354 1.735 1.618 0 3.119-.676 4.353-1.735.105-.083.249-.07.314.04Z",clipRule:"evenodd"})))},tg:function(e){return s.createElement("svg",nt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Je||(Je=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 20V0v20ZM17.68 2.11.89 9.27A.76.76 0 0 0 1 10.7l2.9.94c.914.29 1.91.15 2.71-.38l7.59-5.09a.34.34 0 0 1 .42.53l-5.69 5.54a.92.92 0 0 0 .13 1.44l6.06 4.06a1.53 1.53 0 0 0 2.36-1l2.08-13.17a1.36 1.36 0 0 0-1.88-1.46Z",clipRule:"evenodd"})))},rss:function(e){return s.createElement("svg",at({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Xe||(Xe=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 20V0v20Zm5.5-7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM16 15a11.42 11.42 0 0 0-3.36-7.61A11.42 11.42 0 0 0 5 4a.51.51 0 0 0-.52.51v1A.49.49 0 0 0 5 6a9.5 9.5 0 0 1 9 9 .49.49 0 0 0 .49.48h1A.51.51 0 0 0 16 15Zm-4 0a7.38 7.38 0 0 0-2.2-4.8A7.38 7.38 0 0 0 5 8a.5.5 0 0 0-.52.5v1A.5.5 0 0 0 5 10a5.5 5.5 0 0 1 5 5 .5.5 0 0 0 .5.48h1A.5.5 0 0 0 12 15Z",clipRule:"evenodd"})))}},vt={vk:"",ok:"",tg:"Telegram",rss:"RSS"},ht=function(e,t,r){var n=u().createElement(u().Fragment,null,u().createElement("span",{className:ft.boxIcon},u().createElement("span",{className:m()(ft.icon,ft[e.icon||e.code])})),u().createElement("span",{className:ft.label},e.title));return e.href?u().createElement("a",{key:e.code,className:m()(ft.link,e.code===t&&ft.active),href:e.href,target:e.target,onClick:e.onClick,"data-cerber":"".concat(r,"_block::").concat(e.code)},n):u().createElement("button",{key:e.code,className:ft.link,type:"button",onClick:e.onClick,"aria-label":e.title,"data-cerber":"".concat(r,"_block::").concat(e.code)},n)},bt=function(e,t,r){return u().createElement("div",{className:ft.columns},function(e){return[e.slice(0,Math.ceil(e.length/2)),e.slice(Math.ceil(e.length/2))]}(e).map((function(e,n){return u().createElement("div",{key:n,className:ft.column},e.map((function(e){return ht(e,t,r)})))})))},_t=function(e){var t=e.projectCode,r=e.withMainLink,n=e.reloadGeoKey,a=e.authFrameOptions,o=e.userFetched,c=e.userProfile,l=e.isBurgerOpen,d=e.projectLinks,f=e.additionalLinks,v=e.socialLinks,b=e.ageLimit,_=e.showLegalRules,w=e.onCloseBurger,g=e.onOpenGeo,y=se(l),E=y.refNode,N=y.isMounted,O=y.isVisible,I=function(e){var t=(0,s.useState)({}),r=i()(t,2),n=r[0],a=r[1];return(0,s.useEffect)((function(){var e=function(){var e=p()(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.rambler.ru/location/current",{credentials:"include"});case 2:if(!1!==(t=e.sent).ok&&200===t.status){e.next=5;break}throw new Error("Failed to get geo data (".concat(t.status," ").concat(t.statusText,")"));case 5:return e.next=7,t.json();case 7:if(!(r=e.sent).message){e.next=10;break}throw new Error(r.message);case 10:a(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(e){console.error("@rambler-components/topline: ".concat(e.message))}}),[e]),(null==n?void 0:n.name)||""}(n);return u().createElement(u().Fragment,null,N&&u().createElement("div",{className:m()(ft.veil,O&&ft.visible),ref:E}),u().createElement("div",{className:m()(ft.root,l&&ft.opened),"data-cerber":"burger"},u().createElement("div",{className:ft.headline},r&&u().createElement("a",{className:ft.home,href:k,title:S,"data-cerber":"home_link"},u().createElement("span",{className:ft.icon})),!!I&&u().createElement("button",{className:ft.geo,type:"button",onClick:g,"aria-label":"    ".concat(I,". "),"data-cerber":"burger::geo::change_location"},u().createElement(ze,{className:ft.icon}),u().createElement("span",{className:ft.location},"head"!==t&&I.length>17?"".concat(I.substr(0,16),"..."):I)),u().createElement("button",{className:ft.close,type:"button",onClick:w,"aria-label":" ","data-cerber":"close_button"},u().createElement(et,{className:ft.icon}))),u().createElement("div",{className:ft.user},u().createElement(Ye,{projectCode:t,authFrameOptions:a,userFetched:o,userProfile:c})),Array.isArray(d)&&!!d.length&&u().createElement("div",{className:ft.section},u().createElement(st,{items:d})),u().createElement("div",{className:ft.section},u().createElement("div",{className:ft.title},""),bt(ut,t,"media")),u().createElement("div",{className:ft.section},u().createElement("div",{className:ft.title},""),bt(dt,t,"services")),u().createElement("div",{className:ft.section},[].concat(ie()(mt),ie()(Array.isArray(f)?f:[])).map((function(e){return ht(e,t,"additional")}))),Array.isArray(v)&&!!v.length&&u().createElement("div",{className:ft.socials},v.map((function(e){if(!pt[e.code])return null;var t=pt[e.code];return u().createElement("a",{key:e.code,className:m()(ft.social,ft[e.code]),href:e.href,title:vt[e.code],target:"_blank",rel:"noopener","data-cerber":"social_buttons::".concat(e.code)},u().createElement(t,{className:ft.socialIcon}))}))),u().createElement("div",{className:ft.copyright},u().createElement("span",null,""),!!b&&u().createElement("span",{className:ft.age},b,"+")),_&&u().createElement("div",{className:ft.rules},"      ",u().createElement("a",{className:ft.rulesLink,href:"https://help.rambler.ru/legal/2183/uslovia",target:"_blank",rel:"noopener","data-cerber":"footer::rules_link"},""))))},wt=r(23279),gt=t.n(wt),yt="undefined"!=typeof window&&-1===window.navigator.userAgent.toLowerCase().indexOf("firefox")?0:2,Et=["search","search_img","search_rabota"],Nt=function(e){var t=e.projectCode,r=void 0===t?"head":t,n=e.projectName,a=e.zIndex,o=e.closeKey,l=e.withMainLink,d=void 0===l||l,f=e.reloadGeoKey,v=e.doodle,_=e.search,w=e.hiddenSearch,y=void 0!==w&&w,E=e.authFrameOptions,N=e.projectLinks,O=e.additionalLinks,k=e.socialLinks,S=e.ageLimit,I=void 0===S?18:S,M=e.showLegalRules,C=e.onOpenGeo,j=e.onSticky,x=e.onUserFetched,R=e.onUserInfo,P=e.onUserId,L=e.onUserState,H=e.children,T=(0,s.useState)(!1),A=i()(T,2),D=A[0],V=A[1],B=(0,s.useState)(!1),F=i()(B,2),U=F[0],Y=F[1],G=(0,s.useState)(!1),W=i()(G,2),z=W[0],q=W[1],K=(0,s.useMemo)((function(){return u().isValidElement(H)}),[H]),Q=!Et.includes(r)&&(y||K),J=!Q&&K,X=!J&&(!Q||K),$=!Q||z,ee=function(e){g(!!e),e&&V(!0),Y(e)},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onUserFetched,r=e.onUserInfo,n=e.onUserId,a=e.onUserState,o=(0,s.useRef)(!1),c=(0,s.useRef)(!0),l=(0,s.useState)(!1),u=i()(l,2),d=u[0],m=u[1],f=(0,s.useState)(null),v=i()(f,2),_=v[0],w=v[1];return(0,s.useEffect)((function(){var e=function(){var e=p()(h().mark((function e(){var o,l,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({withChainId:"function"==typeof n});case 2:i=e.sent,c.current?(m(!0),null==t||t(!0)):null==a||a("login"),c.current=!1,w(i),null==r||r(i),null==n||n((null==i||null===(o=i.info)||void 0===o||null===(l=o.chain_id)||void 0===l?void 0:l.default)||null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){null==a||a("logout"),w(null),null==r||r(null),null==n||n(null)};return window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.addListener("login",e),window.ramblerIdHelper.addListener("oauthlogin",e),window.ramblerIdHelper.addListener("logout",l)})),o.current||(function(e){var t=window.document.querySelector('script[src="'.concat(e,'"]'));t||((t=window.document.createElement("script")).src=e,window.document.head.appendChild(t))}("https://id.rambler.ru/rambler-id-helper/auth_events.js"),e()),o.current=!0,function(){window.ramblerIdHelper.push((function(){window.ramblerIdHelper.removeListener("login",e),window.ramblerIdHelper.removeListener("oauthlogin",e),window.ramblerIdHelper.removeListener("logout",l)}))}}),[t,r,n,a]),{userFetched:d,userProfile:_}}({onUserFetched:x,onUserInfo:R,onUserId:P,onUserState:L}),re=te.userFetched,ne=te.userProfile,ae=function(){var e=(0,s.useRef)(),t=(0,s.useRef)(!1),r=(0,s.useRef)(!1),n=(0,s.useRef)(0),a=(0,s.useRef)(0),o=(0,s.useRef)(0),c=(0,s.useState)(!1),l=i()(c,2),u=l[0],d=l[1],m=(0,s.useState)(!1),f=i()(m,2),p=f[0],v=f[1],h=(0,s.useState)(!1),b=i()(h,2),_=b[0],w=b[1],g=function(e){t.current=e,d(e)},y=function(e){r.current=e,v(e)};return(0,s.useEffect)((function(){var c=gt()((function(){if(!e.current)return g(!1),y(!1),void w(!1);var c=e.current.getBoundingClientRect(),l=c.top,i=c.height,s=-1*l;if(!r.current&&l+i>0)return g(!1),void w(!1);var u=i+10;s>u&&!t.current?(g(!0),w(!0)):t.current&&(s<=yt?(n.current=0,a.current=0,g(!1),y(!1)):s>o.current?(a.current=0,n.current||(n.current=s),n.current<s-u&&y(!1)):s<o.current&&(n.current=0,a.current||(a.current=s),a.current>s+u&&y(!0)),w(!(s<=50)),o.current=s)}),10);return window.addEventListener("scroll",c),function(){window.removeEventListener("scroll",c)}}),[]),{scrollableNode:e,isSticky:u,isVisible:p,isSearchDisplaced:_}}(),oe=ae.scrollableNode,le=ae.isSticky,ie=ae.isVisible,se=ae.isSearchDisplaced;return(0,s.useEffect)((function(){ee(!1)}),[o]),(0,s.useEffect)((function(){"function"==typeof j&&j(ie)}),[j,ie]),(0,s.useEffect)((function(){var e=function e(){V(!0),window.removeEventListener("mousedown",e),window.removeEventListener("touchstart",e)};return window.addEventListener("mousedown",e),window.addEventListener("touchstart",e),function(){window.removeEventListener("mousedown",e),window.removeEventListener("touchstart",e)}}),[]),u().createElement("div",{className:m()("rc__QDKf-",X&&"rc__s2Wvu",J&&"rc__BZkzn"),style:{zIndex:a},ref:oe,"data-cerber":"topline_mobile"},u().createElement("header",{className:m()("rc__sTYfK",le&&"rc__GISAv",ie&&"rc__qib84",!Q&&se&&"rc__Xh8Ll")},u().createElement(Z,{projectCode:r,projectName:n,doodle:v,isHiddenSearch:Q,userProfile:ne,isHiddenLogo:!Q&&z,onOpenBurger:function(){return ee(!0)},onOpenSearch:function(){return q(!0)}}),u().createElement(ce,c()({},_,{isDisplaced:se,isHiddenSearch:Q,visibleSearchForm:$,onCloseSearch:function(){return q(!1)}})),K&&u().createElement("div",{className:m()("rc__Dk-ke",se)},H)),D&&u().createElement(_t,{projectCode:r,withMainLink:d,reloadGeoKey:f,authFrameOptions:E,userFetched:re,userProfile:ne,isBurgerOpen:U,projectLinks:N,additionalLinks:O,socialLinks:k,ageLimit:I,showLegalRules:M,onCloseBurger:function(){return ee(!1)},onOpenGeo:C}))},Ot=Nt;e.exports=n}()},78229:(e,t,r)=>{!function(){"use strict";var t={n:function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{Loader:function(){return d},default:function(){return m}}),r(26699),r(56977),r(92222);var a=r(67294),o=t.n(a),c=r(664),l=t.n(c),i=function(e){var t,r,n=e.type,a=e.radius,c=e.ratio,l=e.dimension,i=e.strokeWidth,s=e.rotating,u=l/2,d=2*Math.PI*a,m=(1-c)*d,f=.3,p={};return"path"===n&&(f=1,s?t=o().createElement(o().Fragment,null,o().createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 ".concat(u," ").concat(u),to:"360 ".concat(u," ").concat(u),dur:"1.5s",additive:"sum",repeatCount:"indefinite"}),o().createElement("animate",{attributeName:"stroke-dashoffset",dur:"1.2s",direction:"alternate",repeatCount:"indefinite",values:"".concat(m,";").concat(m/2,";").concat(m)})):(p={transition:"stroke-dashoffset 0.5s ease"},r="rotate(-90, ".concat(u," ").concat(u,")"))),o().createElement("circle",{style:p,cx:u,cy:u,r:a,fill:"transparent",stroke:"currentColor",strokeWidth:i,strokeDasharray:d,strokeDashoffset:m,strokeLinecap:"round",strokeOpacity:f,shapeRendering:"geometricPrecision",transform:r},t)},s={root:"rc__2gkv0",white:"rc__Lezlb",hidden:"rc__Ukd-b",large:"rc__lDbMB",medium:"rc__nCB68",small:"rc__HgNIV",label:"rc__qQ-Iu"},u={large:{radius:45,strokeWidth:10},medium:{radius:27.5,strokeWidth:6},small:{radius:10,strokeWidth:5}},d=function(e){var t=e.className,r=void 0===t?null:t,n=e.style,c=void 0===n?null:n,d=e.size,m=void 0===d?"medium":d,f=e.type,p=void 0===f?"blue":f,v=e.value,h=void 0===v?null:v,b=e.minValue,_=void 0===b?0:b,w=e.maxValue,g=void 0===w?100:w,y=e.showProgress,E=void 0!==y&&y,N=e.caption,O=void 0===N?null:N,k=e.visible,S=void 0===k||k,I=e.onVisible,M=void 0===I?null:I;(0,a.useEffect)((function(){var e;return"function"==typeof M&&(S?M(!0):e=setTimeout((function(){M(!1)}),300)),function(){e&&clearTimeout(e)}}),[S]);var C,j=u[m]||u.medium,x=2*j.radius+j.strokeWidth,R="number"!=typeof h,P=Math.min(Math.max(h,_),g),L=R?.5:(P-_)/(g-_);return O&&["large","medium"].includes(m)?C=O:!R&&E&&"large"===m&&(C="".concat((100*L).toFixed(0),"%")),o().createElement("div",{className:l()(s.root,s[m],s[p],!S&&s.hidden,r),style:c},o().createElement("svg",{className:s.svg,width:x,height:x,viewBox:"0 0 ".concat(x," ").concat(x)},o().createElement(i,{type:"trail",radius:j.radius,dimension:x,ratio:1,strokeWidth:j.strokeWidth}),o().createElement(i,{type:"path",radius:j.radius,dimension:x,ratio:L,strokeWidth:j.strokeWidth,rotating:R})),C&&o().createElement("div",{className:s.label},C))},m=d;e.exports=n}()},34186:(e,t,r)=>{!function(){"use strict";var t={n:function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{Topline:function(){return U},default:function(){return Y}});var a=r(23279),o=t.n(a),c=r(67294),l=t.n(c),i=r(19719),s=t.n(i);const u=[{label:"",code:"news",url:"https://news.rambler.ru/"},{label:"-",code:"starlife",url:"https://news.rambler.ru/starlife/"},{label:"",code:"tv",url:"https://tv.rambler.ru/"},{label:"",code:"sport",url:"https://sport.rambler.ru/"},{label:"",code:"finance",url:"https://finance.rambler.ru/"},{label:"",code:"horoscopes",url:"https://horoscopes.rambler.ru/"},{label:"",code:"mail",url:"https://mail.rambler.ru/"},{label:"",code:"weather",url:"https://weather.rambler.ru/"},{label:"",code:"woman",url:"https://woman.rambler.ru/"},{label:"",code:"travel",url:"https://travel.rambler.ru/"},{label:"",code:"doctor",url:"https://doctor.rambler.ru/"},{label:"",code:"auto",url:"https://auto.rambler.ru/"},{label:"",code:"weekend",url:"https://weekend.rambler.ru/"},{label:"",code:"kino",url:"https://kino.rambler.ru/"},{label:"",code:"r0",icon:"search",url:"https://r0.ru/"},{label:"",code:"images",url:"https://images.rambler.ru/"},{label:"",code:"rabota",icon:"work",url:"https://rabota.rambler.ru/"},{label:"",code:"likes",url:"https://developers.rambler.ru/likes/"},{label:"",code:"dating",icon:"likes",url:"https://dating.rambler.ru/"},{label:"-100",code:"top100",url:"https://top100.rambler.ru/"}],d=[{label:" ",code:"soft",icon:"apps",url:"https://soft.rambler.ru/"},{label:"",code:"help",url:"https://help.rambler.ru/"},{label:" ",code:"all",icon:"more",url:"https://www.rambler.ru/all"}],m="undefined"!=typeof window&&-1===window.navigator.userAgent.toLowerCase().indexOf("firefox")?0:2;var f=e=>{let{className:t,handleClickOutside:r,children:n}=e;const a=(0,c.useRef)(null),o=(0,c.useCallback)((e=>{const{current:t}=a;t&&("function"!=typeof t.contains||t.contains(e.target))||r(e)}),[r]);return(0,c.useEffect)((()=>(window.addEventListener("mousedown",o),()=>{window.removeEventListener("mousedown",o)})),[o]),l().createElement("div",{className:t,ref:a},n)};const p="https://www.rambler.ru/",v="  ";var h=e=>{const t=(0,c.useRef)(null),[r,n]=(0,c.useState)(!1),[a,o]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{if(!e){o(!1);const e=setTimeout((()=>{n(!1)}),50),r=n=>{t.current&&n.target===t.current&&(clearTimeout(e),t.current.removeEventListener("transitionrun",r))},a=e=>{t.current&&e.target===t.current&&(n(!1),t.current.removeEventListener("transitionend",a))};return t.current&&(t.current.addEventListener("transitionend",a),t.current.addEventListener("transitionrun",r)),()=>{t.current&&(t.current.removeEventListener("transitionend",a),t.current.removeEventListener("transitionrun",r))}}n(!0),setTimeout((()=>{o(!0)}),50)}),[e]),{refNode:t,isMounted:r,isVisible:a}},b={root:"rc__Iq9rq",columns:"rc__tedVu",simpleView:"rc__EN-62",item:"rc__HwSqH",column:"rc__MCKpP",menuIcon:"rc__n-v2o",bottom:"rc__qKmJP"},_={dropdown:"rc__BaG7E",isVisible:"rc__gFUYe",menuLink:"rc__47yFJ",menuIcon:"rc__OTqa-",product:"rc__ldvtC",apps:"rc__oawN0",auto:"rc__aZk49",doctor:"rc__dYJNB",finance:"rc__qkq4S",help:"rc__JMz-y",home:"rc__6ajb5",horoscopes:"rc__BY9BC",images:"rc__njcyI",kassa:"rc__s4eRs",likes:"rc__x9yWU",mail:"rc__su4fw",more:"rc__Ngad9",news:"rc__o9TvZ",search:"rc__duxyD",sport:"rc__R7W1Z",starlife:"rc__FHjkk",top100:"rc__uEufS",travel:"rc__lujLL",weather:"rc__v9U4U",weekend:"rc__J9gwc",woman:"rc__-WRE8",work:"rc__wu6M4",kino:"rc__H-MIC",tv:"rc__Zx55i"};const w=e=>l().createElement("div",{className:b.item,key:e.code},l().createElement("a",{className:_.menuLink,href:e.url,"data-cerber":`topline::dropdown::${e.code}_link`,tabIndex:0,role:"menuitem"},l().createElement("span",{className:s()(b.menuIcon,_.menuIcon)},l().createElement("span",{className:s()(_.product,_[e.icon||e.code])})),e.label));var g,y=e=>{let{simpleView:t,isHoveredMore:r,isOpen:n}=e;const{refNode:a,isMounted:o,isVisible:c}=h(n);if(!o&&!r)return null;const i=t?4:6;return l().createElement("div",{className:s()(b.root,_.dropdown,c&&_.isVisible,t?b.simpleView:b.complexView),ref:a},l().createElement("div",{className:b.columns},(m=u.slice(i),[m.slice(0,Math.ceil(m.length/2)),m.slice(Math.ceil(m.length/2))]).map(((e,t)=>l().createElement("div",{key:t,className:b.column},e.map((e=>w(e))))))),l().createElement("div",{className:b.bottom},d.map(w)));var m},E="rc__GvYnO",N="rc__7AmOQ",O="rc__Xu83T",k=e=>{let{className:t,simpleView:r,withMainLink:n,menuDropdownOpen:a,onMenuDropdownOpen:o}=e;const[i,d]=(0,c.useState)(!1),m=r?7:6;return l().createElement("nav",{className:s()(t,r?"rc__kY9my":"rc__VPPQd"),role:"menu"},n&&!r&&l().createElement("div",{className:"rc__6i7Rx"},l().createElement("a",{className:"rc__93dEF",href:p,title:v,"data-cerber":"topline::menu::home_link",tabIndex:0,role:"menuitem"},l().createElement("span",{className:s()(_.product,_.home)}))),r&&l().createElement("div",{className:"rc__NaEZ-"},l().createElement("a",{className:"rc__6vUx4",href:p,title:v,"data-cerber":"topline::logo::rambler"},l().createElement("span",{className:s()("rc__5SCfN")}))),u.slice(0,m).map((e=>l().createElement("div",{className:E,key:e.code},l().createElement("a",{className:s()(N,_.menuLink),href:e.url,"data-cerber":`topline::menu::${e.code}_link`,tabIndex:0,role:"menuitem"},e.label),l().createElement("span",{className:s()(O,_.menuIcon)},l().createElement("span",{className:s()(_.product,_[e.icon||e.code])}))))),l().createElement(f,{className:E,handleClickOutside:()=>o(!1)},l().createElement("button",{className:s()(N,_.menuLink),type:"button","data-cerber":"topline::menu::more_button",tabIndex:0,role:"menuitem","aria-label":" ","aria-haspopup":!0,"aria-expanded":a,onMouseOver:()=>d(!0),onMouseOut:()=>d(!1),onClick:()=>o(!a)},""),l().createElement("span",{className:s()(O,_.menuIcon)},l().createElement("span",{className:s()(_.product,_.more)})),l().createElement(y,{simpleView:r,isHoveredMore:i,isOpen:a})))},S=r(91033),I=t.n(S),M=e=>{let{promoAd:t,centerAlign:r}=e;const n=(0,c.useRef)(null),[a,o]=(0,c.useState)(!1),[i,u]=(0,c.useState)(!1),[d,m]=(0,c.useState)(190);return(0,c.useEffect)((()=>{let e;const t=()=>{n.current&&o(n.current.getBoundingClientRect().width<d)};return n.current&&(e=new(I())(t),e.observe(n.current),t()),()=>{e&&e.disconnect()}}),[d]),(0,c.useEffect)((()=>{let e;const t=()=>{if(n.current&&n.current.querySelector(".button-link")){const t=!!n.current.querySelector(".button__image-container");u(t),m(t?215:190),e&&e.disconnect()}};return n.current&&(e=new(I())(t),e.observe(n.current),t()),()=>{e&&e.disconnect()}}),[]),l().createElement("div",{className:s()("rc__9G5jA",a&&"rc__2RHQC",i?"rc__3oPhc":"rc__LmGtn",r&&"rc__TM-MH"),ref:n},t)};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}var j,x=e=>c.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),g||(g=c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm11.288 17.865L9 11 2.135 8.712c-.684-.228-.684-1.196 0-1.424l14.442-4.814a.75.75 0 0 1 .949.949l-4.814 14.442c-.228.684-1.196.684-1.424 0Z",clipRule:"evenodd"}))),R=e=>{let{currentGeo:t,onOpenGeo:r,isShort:n}=e;return t?l().createElement("button",{className:"rc__a-YDf",type:"button",onClick:()=>{"function"==typeof r&&r()},"data-cerber":"topline::geo::change_location",tabIndex:0,"aria-label":`    ${t}. `,"aria-haspopup":!0},l().createElement("span",{className:"rc__cmSif"},l().createElement(x,{className:"rc__oTULz"})),l().createElement("span",{className:"rc__HScSl"},n&&t.length>17?`${t.substr(0,16)}...`:t)):null},P=r(74855);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}var H,T=e=>c.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),j||(j=c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm15.5 3.5V15h.5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v.5h9.5ZM3 6v11a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1Zm1.5 10.5h8v-10h-8v10Z",clipRule:"evenodd"}))),A="rc__aaIB-",D="rc__hdAQ4",V=e=>{let{redirectToMain:t,userProfile:r,currentGeo:n,isOpen:a,onClose:o,onOpenGeo:i}=e;const{refNode:u,isMounted:d,isVisible:m}=h(a),f=(0,c.useRef)(),[p,v]=(0,c.useState)(!1),b=r?.display?.avatar?.url,w=r?.info?.email||r?.info?.accounts?.email?.[0],g=r?.display?.display_name||w;return d?l().createElement("div",{className:s()("rc__rQl1m",_.dropdown,m&&_.isVisible),ref:u},l().createElement("div",{className:"rc__fKa97"},l().createElement("div",{className:"rc__zqnWF"},l().createElement("span",{className:"rc__AIxcX",style:b?{backgroundImage:`url("${b}")`}:null}),l().createElement("span",{className:"rc__NFiZr"},g),w&&l().createElement(P.CopyToClipboard,{text:w,"data-cerber":"topline::user_profile::copy_button",onCopy:()=>{v(!0),f.current&&clearTimeout(f.current),f.current=setTimeout((()=>{v(!1)}),700)}},l().createElement("button",{className:s()("rc__-uzpB",p&&"rc__8rg9o"),type:"button",tabIndex:0,"aria-label":`${w},    `},l().createElement("span",{className:"rc__nnDM3"},w),l().createElement("span",{className:"rc__6-WjV"},l().createElement(T,{className:"rc__8-hpw"}))))),l().createElement("div",{className:A},l().createElement("a",{href:"https://id.rambler.ru/",className:D,target:"_blank",rel:"noopener","data-cerber":"topline::user_profile::my_profile",tabIndex:0}," ")),l().createElement("div",{className:A},l().createElement("button",{className:D,type:"button",onClick:()=>{o(),window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((()=>{window.ramblerIdHelper.logout({redirectToMain:t})}))},"data-cerber":"topline::user_profile::logout",tabIndex:0},""))),l().createElement("div",{className:"rc__L0KEh"},l().createElement(R,{currentGeo:n,onOpenGeo:()=>{o(),"function"==typeof i&&i()}}))):null};function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}var Z=e=>c.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),H||(H=c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20 0v20V0ZM0 0v20V0Zm9.293 12.353-3.47-3.469a.5.5 0 0 1 0-.707l.354-.354a.5.5 0 0 1 .707 0L10 10.939l3.116-3.116a.5.5 0 0 1 .707 0l.354.354a.5.5 0 0 1 0 .707l-3.47 3.469a.999.999 0 0 1-1.414 0Z",clipRule:"evenodd"}))),F=e=>{let{redirectToMain:t,userProfile:r,currentGeo:n,userDropdownOpen:a,onUserDropdownOpen:o,onOpenGeo:c}=e;const i=r?.display?.avatar?.url||"";return l().createElement(f,{className:"rc__pGXiD",handleClickOutside:()=>o(!1)},l().createElement("button",{className:s()("rc__BY-BI",a&&"rc__KkUyD"),type:"button","data-cerber":"topline::user_name::"+(a?"opened":"closed"),tabIndex:0,"aria-label":"  ","aria-haspopup":!0,"aria-expanded":a,onClick:()=>o(!a)},l().createElement("span",{className:"rc__yG9eB",style:i?{backgroundImage:`url("${i}")`}:null}),l().createElement("span",{className:"rc__lkVxa"},(e=>{const t=e?.info?.email||e?.info?.accounts?.email?.[0],r=e?.profile?.lastname||e?.profile?.firstname,n=e?.display?.short_name;return t&&"general"===e?.__type?t.split("@")[0]:t||r||n||""})(r)),l().createElement(Z,{className:"rc__-zvhB"})),l().createElement(V,{redirectToMain:t,userProfile:r,currentGeo:n,isOpen:a,onClose:()=>o(!1),onOpenGeo:c}))};const U=e=>{let{breakpointsClassName:t,simpleView:r=!1,withoutShadow:n=!1,zIndex:a,scrollSticky:i=!0,reloadGeoKey:d,withMainLink:f=!0,redirectToMain:p,promoAd:v,onOpenGeo:h,onSticky:b,onUserFetched:_,onUserInfo:w,onUserId:g,onUserState:y}=e;const[E,N]=(0,c.useState)(!1),[O,S]=(0,c.useState)(!1),{userFetched:I,userProfile:C}=function(){let{onUserFetched:e,onUserInfo:t,onUserId:r,onUserState:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,c.useRef)(!1),o=(0,c.useRef)(!0),[l,i]=(0,c.useState)(!1),[s,u]=(0,c.useState)(null);return(0,c.useEffect)((()=>{const c=async()=>{const a=await(e=>{let{withChainId:t}=e;return new Promise((e=>{window.ramblerIdHelper.push((()=>{window.ramblerIdHelper.getProfileInfo({get_chain_id:t?1:0,get_accounts_by_provider:"uniq.lp.love.passport.rambler.ru",get_accounts:1,get_contacts:1},(t=>{e(t)}))}))}))})({withChainId:"function"==typeof r});o.current?(i(!0),e?.(!0)):n?.("login"),o.current=!1,u(a),t?.(a),r?.(a?.info?.chain_id?.default||null)},l=()=>{n?.("logout"),u(null),t?.(null),r?.(null)};return window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((()=>{window.ramblerIdHelper.addListener("login",c),window.ramblerIdHelper.addListener("oauthlogin",c),window.ramblerIdHelper.addListener("logout",l)})),a.current||((e=>{let t=window.document.querySelector(`script[src="${e}"]`);t||(t=window.document.createElement("script"),t.src=e,window.document.head.appendChild(t))})("https://id.rambler.ru/rambler-id-helper/auth_events.js"),c()),a.current=!0,()=>{window.ramblerIdHelper.push((()=>{window.ramblerIdHelper.removeListener("login",c),window.ramblerIdHelper.removeListener("oauthlogin",c),window.ramblerIdHelper.removeListener("logout",l)}))}}),[e,t,r,n]),{userFetched:l,userProfile:s}}({onUserFetched:_,onUserInfo:w,onUserId:g,onUserState:y}),{scrollableNode:j,isSticky:x,isVisible:P}=(e=>{const t=(0,c.useRef)(null),r=(0,c.useRef)(!1),n=(0,c.useRef)(!1),a=(0,c.useRef)(0),l=(0,c.useRef)(0),i=(0,c.useRef)(0),[s,u]=(0,c.useState)(!1),[d,f]=(0,c.useState)(!1),p=e=>{r.current=e,u(e)},v=e=>{n.current=e,f(e)};return(0,c.useEffect)((()=>{const c=o()((()=>{if(!t.current)return p(!1),void v(!1);const{top:e,height:o}=t.current.getBoundingClientRect(),c=-1*e;if(!n.current&&e+o>0)return void p(!1);const s=o+10;c>s&&!r.current?p(!0):r.current&&(c<=m?(a.current=0,l.current=0,p(!1),v(!1)):c>i.current?(l.current=0,a.current||(a.current=c),a.current<c-s&&v(!1)):c<i.current&&(a.current=0,l.current||(l.current=c),l.current>c+s&&v(!0)),i.current=c)}),10);return e&&window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}}),[e]),{scrollableNode:t,isSticky:s,isVisible:d}})(i),L=(e=>{const[t,r]=(0,c.useState)({});return(0,c.useEffect)((()=>{try{(async()=>{const e=await fetch("https://www.rambler.ru/location/current",{credentials:"include"});if(!1===e.ok||200!==e.status)throw new Error(`Failed to get geo data (${e.status} ${e.statusText})`);const t=await e.json();if(t.message)throw new Error(t.message);r(t)})()}catch(e){console.error(`@rambler-components/topline: ${e.message}`)}}),[e]),t?.name||""})(d);(0,c.useEffect)((()=>{const e=e=>{"Escape"!==e.key&&"Esc"!==e.key||(S(!1),N(!1))};return(E||O)&&window.addEventListener("keydown",e,!0),()=>{window.removeEventListener("keydown",e)}}),[E,O]),(0,c.useEffect)((()=>{const e={},t=o()((()=>{void 0===e.scrollY&&(e.scrollY=window.scrollY),Math.abs(e.scrollY-window.scrollY)>20&&(S(!1),N(!1))}));return(E||O)&&window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}}),[E,O]),(0,c.useEffect)((()=>{E&&S(!1)}),[E]),(0,c.useEffect)((()=>{O&&N(!1)}),[O]),(0,c.useEffect)((()=>{"function"==typeof b&&b(P)}),[b,P]);const H={"@context":"http://schema.org","@type":"ItemList",itemListElement:u.map(((e,t)=>({"@type":"SiteNavigationElement",position:t+1,url:e.url})))};return l().createElement("header",{className:s()("rc__qrr6o",r?"rc__4VbXx":"rc__V1qax","rc-topline"),style:{zIndex:a},ref:j},l().createElement("div",{className:s()("rc__XaSn3",x&&"rc__33J80",P&&"rc__gFUYe",n&&"rc__rIfGX")},l().createElement("div",{className:s()("rc__ki3hE",t||"rc__fndzP")},l().createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(H)}}),l().createElement(k,{className:"rc__1hfkG",simpleView:r,withMainLink:f,menuDropdownOpen:E,onMenuDropdownOpen:N}),!r&&!!v&&l().createElement("div",{className:"rc__gymf4"},l().createElement(M,{promoAd:v,centerAlign:I})),I&&l().createElement(l().Fragment,null,!C&&l().createElement("div",{className:"rc__p8rlK"},l().createElement(R,{currentGeo:L,onOpenGeo:h,isShort:!0})),C&&l().createElement("div",{className:"rc__kvVQH"},l().createElement(F,{redirectToMain:p,userProfile:C,currentGeo:L,userDropdownOpen:O,onUserDropdownOpen:S,onOpenGeo:h}))))))};var Y=U;e.exports=n}()},55188:()=>{},97935:()=>{},64911:()=>{},29882:()=>{},98967:()=>{},8882:()=>{}}]);
//# sourceMappingURL=bundle.rambler-components.af24fa8f.js.map