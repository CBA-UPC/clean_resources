/*! 20230903-6-RELEASE */

!window),function(){var win,doc;((window,document,TRC),win=window,doc=document,TRC.blocker=TRC.blocker||{states:{ABP_DETECTION_DISABLED:-2,ABP_NOT_DETECTED:0,ABP_DETECTED:1},createBlockDetectionDiv:isBlockDetectedOnDiv:isBlockDetectedOnClassNames:setTopDocument:getBlockedState:,),window,document);const MODULE$1="block-clicks",PREFIX$1="taboola",SHORT_PREFIX$1="tbl",GLOBAL_PREFIX="unintentional-clicks",GLOBAL_FRAUD_PREFIX$1=`${GLOBAL_PREFIX}-fraud`,GLOBAL_DEFAULT_PREFIX$1=`${GLOBAL_PREFIX}-default`,SHORT_NAME$1=`${SHORT_PREFIX$1}-${MODULE$1}`,getGlobalKey=var CONSTANTS$2={SHORT_NAME:SHORT_NAME$1,MODULE_NAME:`${PREFIX$1}-${MODULE$1}`,GLOBAL_PREFIX:GLOBAL_PREFIX,GLOBAL_FRAUD_PREFIX:GLOBAL_FRAUD_PREFIX$1,GLOBAL_DEFAULT_PREFIX:GLOBAL_DEFAULT_PREFIX$1,FORCE_PARAM:SHORT_NAME$1,EMULATE_PARAM:"trc_block_clicks",SUPPLY_FEATURE:{TYPE:"clickblocked",STATE:"reported"},SELECTORS:{STORY_WIDGET_CTA:"tbl-labels-arrow",TITLE:"video-title"},DEFAULT_CONFIG:{MARGIN:"0.5",FRAUD_FASTCLICK:"3000",GENERAL_FASTCLICK:"500"},SOURCE_CONFIG:{FRAUD:"fraud",FPP_ACTION:"fpp-action",DEFAULT:"default"},KEYS:{BLOCK_CLICKS_ACTION:"bca",BLOCK_CLICKS_DISABLED:"bcd",FAST_KEY:"uics",MARGIN_KEY:"uicm"},GLOBAL_KEYS:{FRAUD_ENABLED:getGlobalKey(GLOBAL_FRAUD_PREFIX$1,"enable"),DEFAULT_ENABLED:getGlobalKey(GLOBAL_DEFAULT_PREFIX$1,"enable"),SEND_INIT_EVENT:getGlobalKey(GLOBAL_DEFAULT_PREFIX$1,"send-init-event")},TYPES:{MARGIN:"MARGINAL_BLOCK_CLICKS",FAST:"FAST_BLOCK_CLICKS"},EVENTS:{MARGINAL_BLOCK_CLICKS:"marginal_click_blocked",FAST_BLOCK_CLICKS:"fast_click_blocked",BLOCK_CLICKS_INIT:"block_clicks_init"}};RC.ItemMeasurements=ItemMeasurements;const{SOURCE_CONFIG:SOURCE_CONFIG,DEFAULT_CONFIG:DEFAULT_CONFIG,KEYS:KEYS,SELECTORS:SELECTORS$1,EVENTS:EVENTS$1,SUPPLY_FEATURE:SUPPLY_FEATURE,TYPES:TYPES,GLOBAL_KEYS:GLOBAL_KEYS,GLOBAL_FRAUD_PREFIX:GLOBAL_FRAUD_PREFIX,GLOBAL_DEFAULT_PREFIX:GLOBAL_DEFAULT_PREFIX,EMULATE_PARAM:EMULATE_PARAM}=CONSTANTS$2;(()=>{class e{constructor(e,t,r){this.trcManager=e.trc,this.container=t,this.itemData=r,this.itemBlockClicksOn(),this.blockClicksSource=this.getBlockClicksSource(),this.blockClicksSource&&this.enableBlockingClicks(e)}itemBlockClicksOn(){this.itemData.blockClickOn=!0}etConfig(){return{marginValue:this.getBlockMarginalClicksValue(KEYS.MARGIN_KEY),delayTimeValue:this.getBlockFastClicksTimeoutInMilliseconds(KEYS.FAST_KEY)}}sInitEventActive(){const{global:e}=this.trcManager;return TRC.util.isTrue(e[GLOBAL_KEYS.SEND_INIT_EVENT])}tBlockClicksSource(){return this.checkIsFraudEnabled()?SOURCE_CONFIG.FRAUD:e.BCA?e.isBlockClicksActionEnabled()&&SOURCE_CONFIG.FPP_ACTION||null:this.isEnabledByDefault()?SOURCE_CONFIG.DEFAULT:null}sEnabledByDefault(){const{global:e}=this.trcManager;return TRC.util.isTrue(e[GLOBAL_KEYS.DEFAULT_ENABLED])}eBlockClicks(t){const{delayTimeValue:r,marginValue:i}=this.config||{};let o;try{o={visibleToClickTime:this.getVisibleToClickTime(),itemId:this.container.dataset.itemId}}catch(t){__trcError(`Error in BlockClicksManager.handleBlockClicks - ${t.message}`,t)}if(this.shouldBlockFastClick())return e.preventClickBubbling(t),void this.sendBlockClickEvent(TYPES.FAST,r,o);e.isLegitMarginalValue(i)&&this.isMarginalClick(t)&&this.isBlockAbleClick(t)&&(e.preventClickBubbling(t),this.sendBlockClickEvent(TYPES.MARGIN,i,o))}ouldBlockFastClick(){const e=this.config&&this.config.delayTimeValue;if(!e)return!1;const t=this.getVisibleToClickTime();return!t||Number(t)<=e/1e3}rveItem(){TRC.intersections.observe({targetElement:this.container,threshold:0,onExit:()=>{ItemMeasurements.clearAppearanceTime(this.trcManager,this.itemData)},onEnter:()=>this.setAppearanceTime()})}RC.BlockClicksManager=e})(),function(e,t){var r=function(){this.dom=!!t.getElementById&&1,this.dom&&(!t.importNode||(this.dom=2),!t.normalizeDocument||(this.dom=3));var r=this.opera=!!e.opera&&9;if(this.opera&&(!navigator.geolocation||(this.opera=10),!e.opera.version||(this.opera=parseFloat(e.opera.version()))),this.ie=navigator.userAgent.match(/Trident/)&&/rv:11.0/i.test(navigator.userAgent)?11:"object"==typeof t.all&&!r&&("CSS1Compat"!=t.compatMode?6:e.XMLHttpRequest?Object.defineProperty?"object"!=typeof DOMImplementation||"function"!=typeof DOMImplementation.prototype.createDocument?8:e["msMatchMedia"]?10:9:7:6),this.webkit=!!e.openDatabase&&!this.opera,this.chrome=!(!this.webkit||!e.chrome),this.safari=this.webkit&&!this.chrome,this.safari&&(!t.compareDocumentPosition||(this.safari=4),!navigator["registerContentHandler"]||(this.safari=5),!e["matchMedia"]||(this.safari=6)),this.firefox=!!navigator.userAgent.match(/firefox/i),this.firefox){try{"function"==typeof t.createElement("canvas").getContext&&(this.firefox=1.5)}catch(e){}"object"==typeof e["globalStorage"]&&(this.firefox=2),!t.elementFromPoint||(this.firefox=3),!t.querySelector||(this.firefox=3.5),!t.getElementsByTagName("head")[0]["mozMatchesSelector"]||(this.firefox=3.6),!e.Uint8Array||(this.firefox=4),!Function.prototype["isGenerator"]||(this.firefox=5),!e["matchMedia"]||(this.firefox=6),!e.FileReader||!e.FileReader.prototype.readAsArrayBuffer||(this.firefox=7),!t.head||!t.head.insertAdjacentHTML||(this.firefox=8)}for(var i=["firefox","chrome","safari","webkit","khtml","ie","opera"],o=0;o<i.length;o++)!this,i[o]);return this.compatibility={lineClamp:void 0!==t.createElement("div").style["webkitLineClamp"],cssTransforms:),passiveEvents:)},this},i=function(){var e;this.isTouchDevice="ontouchstart"in window,this.deviceType=(e=navigator.userAgent.match(/iPhone|iPod|iPad/i))?e[0]:"other"},o={isEnabled:;TRC.Browser=new r,TRC.Device=new i,TRC.MobileSdk=o}(window,document),((),((),((),((window,document,TRC),),((window),TRC.CustomModulesManager={registeredModules:{},getPathsetGlobalPathsgetCustomModulesFromResponsecreateModuleMap:loadModulesloadModulesFromChildrenloadModulesFromRootloadCustomModulesloadModuleshouldLoadResource:runHookdispatchHookgetModuleInforunCBOnModuleReadylistenToModuleReadywaitForModuleisRelevantTypegetModuleHookisEveryModuleNeededLoadedloadModuleResource,((window,document),TRC.lazyLoadingDependencies={"distance-from-article":[{fileName:"article-detection",objectName:"ArticleDetection"}],"share-buttons-detection":[{fileName:"article-detection",objectName:"ArticleDetection"}],"bid-detection":[{fileName:"distance-from-article",objectName:"DistanceFromArticle"}],"stories-vertical-ui":[{fileName:"stories-transition-manager",objectName:"StoriesTransitionsManager",isMandatory:!0},{fileName:"stories-video-manager",objectName:"StoriesVideoManager"}]},TRC.ModuleLoader={requestedModules:{},loadcreateMandatoryTable:isMandatoryModulesLoaded:invokeCallbackUponFullLoadlogSuccessToPerformancetoFingerPrintedNamechainCallbacks:loadErrorCallbacklogError,((window),TRC.RBoxUsage={logUsage,(e=>{TRC.TBTReporter={MAX_MS_FOR_SHORT_TASK:50,TBT:0,getTBT(){return this.TBT},setTBT(e){this.TBT=e},addLongTasksObserver(){const t=new PerformanceObserver(this.longTasksListener.bind(this));try{t.observe({type:"longtask",buffered:!0})}catch(t){t.message&&-1===t.message.indexOf("entryTypes")&&e.__trcError(`error in addLongTasksObserver: ${t.message}`)}},addTBTisPerfActivated:longTasksListenerprocessLongTasklogMeasurements(){const e={name:"generalMeasure_TBT",entryType:"measure",startTime:performance.now(),duration:this.TBT};TRC.performance.measurements.push(e),TRC.performance.logMeasurements(!0,!0)},reportTBT(){e.removeEventListener("visibilitychange",this.visibilityListener,!0),e.__trcWarn(`TBT=${this.TBT}`),e.TRCImpl.experimentsVariantIdParamsStr&&e.__trcWarn(e.TRCImpl.experimentsVariantIdParamsStr),this.isPerfActivated()&&this.logMeasurements()},scheduleTbtReport(){this.visibilityListener=(,e.addEventListener("visibilitychange",this.visibilityListener,!0)},init(){TRC._trecsInit||e.PerformanceObserver&&(this.isPerfActivated()||TRC.util.isPercentEnabled(TRCImpl.global,"enable-warn-tbt"))&&(this.addLongTasksObserver(),this.scheduleTbtReport())}}})(window),TRC.unifiedPlacementsProductsUtil={containersReset:;let isAvailable=!1;try{isAvailable=!(!window.HTMLElement||!window.customElements&&!document.registerElement)}catch(e){}const HTMLElementClass=isAvailable?window.HTMLElement:ry{const e=document.createElement("div"),t=document.createElement("div"),r=GenericWebComponent.prototype.attachShadow.call(e,{mode:"closed"}),i=GenericWebComponent.prototype.attachShadow.call(t);r&&null===e.shadowRoot&&i&&t.shadowRoot===i||(isAvailable=!1)}catch(e){isAvailable=!1}const attributes={rating:"rating",postRatingNumber:"post-rating-number",price:"price",separatedBy:"separated-by"};let styleHasLoaded$1=!1;nericWebComponent.registerElement({name:"tbl-star-rating",component:TblStarRating});const drawStars=createSeparator=createSvgOval=((),((),TRC.css=TRC.css||{},TRC.css.utils=(()=>{let e=0,t=0,r="";const i=4040,o=" style_split",n="{class},",a="vidiscovery-note";s(e,t){const r=t.global["enable-custom-injection"];TRC.injectedModes=TRC.injectedModes||[];let i=TRC.injectedCustomStyle?"":t.defaults.style+t.global.style.rtl;const o=b(e,r,t);i+=o.inflatedStyle,i+=t.global.style.custom&&!TRC.injectedCustomStyle?t.global.style.custom:"",i+=r?o.customCss?o.customCss:"":t.global.style.mode_custom&&!TRC.injectedCustomStyle?t.global.style.mode_custom:"",(i+=TRC.injectedCustomStyle?"":TRC.dom.pullAggregatedStyle())&&(TRC.dom.injectStyle(i,null),TRC.injectedCustomStyle=!0)},setStyleTextIdPrefixsetStyleElementssetStylePropertygenerateCssRuleWithVendorPrefixesescape:(()}})(window),TRC.css.Stack=TRC.css.responsive=function(){unction t(t,r,i,o,n,a){const s=e(t,i),l="rtl"===a?"right":"left";let c=`.${r} .videoCube{width: ${s}%; position: relative; float: ${l}; margin: 0 0 ${i}% 0; margin-${l}: ${i}%;}`;TRC&&TRCImpl&&TRC.util.isPercentEnabled(TRCImpl.global,"enable-responsive-float-fix")&&(c+=`.${r} :nth-child(${t}n+1 of .videoCube):not(:nth-child(1 of .videoCube)){clear:both;}`),o.push(c)}tion a(e,r,i,o,a,s,l){const c=1==+e.cells?"video-label-box":"trc-main-label",d=`.${r} .trc_rbox_outer .videoCube .${c} {height:auto;}`,p=`.${r} .trc_rbox_outer .videoCube {margin-bottom:10px;}`,h=n(e,r,a,s,l),u=TRCImpl.global["disable-one-row-widget-auto-height"],m=(s||!u)&&1==+e.rows;(1==+e.cells||m)&&(i.push(d),i.push(p)),i.push(h),i.push(`.${r} .videoCube_aspect{padding-bottom:${e.ratio}%; width: 100%;}`),t(e.cells,r,e.margin,i,o,a)}return{injectedStyles:{},rulesToCssTextgetRulePercentageWidth:e}}(),((),TRC.modDebug=window,document),((),function(e,t){var r=[],i=null,o=!1,n,a,s;C.dom={injectedStyles:[],aggregatedStyles:"",isReady:!1,onReady:init:on:e.addEventListener?e.attachEvent?function(e,t,r){e.attachEvent("on"+t,r)}:void(el["on"+sType]=fn),off:e.removeEventListener?e.detachEvent?void(el["on"+sType]=fn),getText:lineHeight:isAncestor:pullAggregatedStyle:aggregateStyles:injectStyle:injectStyleOverflowFix:removeAllInjectedStyleSheets:swapElements:iterateOnNode:purgeEventHandlers:clearInnerElements:stopEvent:addClass:removeClass:containsClass:detectAnimationEvent:createHTMLElement:elementMatchesSelector:closest:getWindowWidth:function(){return window.innerWidth?this.getWindowWidth=function(){return window.innerWidth}:0!=document.documentElement.clientWidth?this.getWindowWidth=function(){return document.documentElement.clientWidth}:this.getWindowWidth=function(){return document.body.clientWidth},this.getWindowWidth()},getWindowHeight:getDocumentWidth:function(){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))},getDocumentHeight:getScreenDensity:getPageVerticalScroll:getScrollTop:getViewportVerticalRange:getViewportHorizontalRange:getElementRect:function(e){return e.getBoundingClientRect()},isInIframe:createAugmentingContainers:createAugmentingContainer:generateAugmentationPrefix:isHighDensity:(s=window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3,function(){return s}),isSmartPhone:(a=window.matchMedia&&window.matchMedia(" only screen and (min-device-width : 320px) and (max-device-width : 480px)").matches||/(iPhone|iPod)/g.test(navigator.userAgent),function(){return a}),isTablet:(n=window.matchMedia&&window.matchMedia(" only screen and (min-device-width : 768px) and (max-device-width : 1024px)").matches||/(iPhone|iPod)/g.test(navigator.userAgent),function(){return n}),isDesktop:getOuterWidth:isHtmlContent:setContentToElement:getPageMetaPropertyValue:getJsonLdValueFromKey:decodeHtmlEntities:}(window,document),((),(()=>{const e=t=r=TRC.DynamicModulesManager={getDynamicModules:e,executeDynamicModules:t,sendEvent:r}})(),window,document),TRC.eventDelegator=window,document),window,document),function(e,t){var r,i,o={},n=0;(TRC.listen=TRC.dispatch=TRC.getEventsMap=function(){return o},t.addEventListener&&t.dispatchEvent)return t.addEventListener("trcFakeEvents",!1),r=void(i=;t.documentElement.attachEvent("onpropertychange",,r=i=(window,document),window),((),TRC.ExternalContainerAppender={MAX_RETRIES:50,TIMEOUT:100,move,),),((),((),((),((),((),(()=>{class e{constructor(e,t,r){this.trcManager=e,this.parentPlacementData=t,this.parentPlacementName=t.placement,this.container=t.container,this.origContainer=this.container,this.parentContainerId=this.container.id,this.afterPlacementContainerCreated=r.afterPlacementContainerCreated,this.nextBatchDistanceThreshold=r.nextBatchDistanceThreshold||2e3,this.numPlacements=1,this.scAdjacencyPlacements=0,this.feedDynamicParameters=r.feedDynamicParameters,this.uiBatchNumberCounter=1,this.isPendingNextBatch=!0,this.numOfConsecutiveFailedRequests=0,this.maxNumOfConsecutiveFailedRequests=this.trcManager.global["feed-max-num-of-consecutive-failed-requests"]||10,this.nbLoaderLayerEnabled=this.trcManager.global["enable-cls-loader-optim"],this.firstBatchLazyLoadingEnabled=r.firstBatchLazyLoadingEnabled,this.isFirstBatchRequest=!0,this.isRequestSent=!0,this.isLoadNextBatchAnchorObserveEnter=!1,this.currentBatchSuccessful=!1,this.enableManualLoadNextBatch=this.trcManager.manualVisibilityTrigger&&this.trcManager.global["enable-manual-visible"]||this.feedDynamicParameters&&this.feedDynamicParameters.manualLoadNextBatch,this.numPlaceholderItems=this.feedDynamicParameters&&this.feedDynamicParameters.numPlaceholderItems||3,this.itemsParentContainerSelector=r.itemsParentContainerSelector||`#${this.parentContainerId}`;const i=this.feedDynamicParameters&&this.feedDynamicParameters.rootSelectorScrollElement||this.trcManager.global["feed-load-next-batch-root-selector"];this.observerRootSelector=i||null,this.observerScrollElement=i&&document.querySelector(i)||window,this.feedObserverLoadNextBatch=this.feedDynamicParameters&&this.feedDynamicParameters.feedObserverLoadNextBatch,this.firstBatchDistanceThresholdFromTop=this.feedDynamicParameters&&this.feedDynamicParameters.firstBatchDistanceThresholdFromTop||this.trcManager.global["first-batch-distance-threshold-from-top"];const o=TRC.util.isTrue(this.trcManager.global["feed-observer-load-next-batch"]);(o||this.feedObserverLoadNextBatch&&!this.enableManualLoadNextBatch)&&(this.isLoadNextBatchUsingObserver=!0),this.firstBatchDistanceThresholdFromTop&&!this.enableManualLoadNextBatch&&(this.throttledLoadRestOfBatchScrollHandler=this.loadRestOfBatchScrollHandler.trcBind(this,this.firstBatchDistanceThresholdFromTop).trcThrottle(10),TRC.dom.on(this.observerScrollElement,"scroll",this.throttledLoadRestOfBatchScrollHandler)),this.enableManualLoadNextBatch&&(this.lastManualRectsTop=0,this.listenToManualLoadNextBatchEvent()),this.feedDynamicParameters&&this.feedDynamicParameters.enableHistory&&(this.historyManager=new TRC.HistoryManager(e)),this.isLoadNextBatchUsingObserver&&this.createLoadNextBatchObserverAnchorElement();const n=TRC.Feed.getFeedConfig(r,"preventReachingFooterConfig","preventReachingFooterData");this.hasPreventReachingFooter=n&&void 0!==n.enable?TRC.util.isTrue(n.enable):r.hasPreventReachingFooter,n&&this.hasPreventReachingFooter&&TRC.PreventReachingTheFooter.init(this,n),this.listenToTrcResponse(),this.createLoadingIndicator(),this.initMonitoringOfDuplicatedItemsIfNeeded()}serveNextBatchAnchor(){const e=this.getNextBatchDistanceThreshold(),t={rootSelector:this.observerRootSelector,targetElement:this.loadNextBatchAnchorContainer,threshold:[0,.25,.5,.75,1],rootMargin:`0px 0px ${e}px 0px`,onEnter:this.getNextBatch.trcBind(this)};this.loadNextBatchAnchorObserverId=TRC.intersections.observe(t)}reContent(e){this.isAllowedToRequestMoreContent=e}getIsFirstBatch(){return this.isFirstBatchRequest}RC.InfiniteScrollEngine=e})(),((),((),((),((),),TRC.util=function(win,doc){var modObject={isType:hasKeys:getRandomIds:getHtmlDecodeText:(element=doc.createElement("div"),decodeSpecialCharacters=),,isEmptyString:keys:),merge:debounce:retry:preprocessJsonString:jsonParseWithNative:jsonParseCustomNative:jsonParseWithEval:jsonParseSafe:isNativeFunction:filterObj:textIsRTL:["+r+"]+turn!(!enctill(i,l,eturn"trunction(e)ed:function(en(e){return void 0=isDefined(e)||TRC.){var r=Number"))returt:-1,void 0!==e?parseInt(e,10):t},splitUrlParts:(linkEl,{search:lin-t+e.charCodeAt(r),t&=t}return t},isPercentEnabled:(flags={},window._trcIsUTactive&&==e[t]||r<=+e[t](e).length+Object.keys(t).length},isAmp:functioe.mobile||!e.mobile.isAmp(e)&&!t;return void 0!==t[i]?t[i),document.head.applobal?win.TRCImpl.global)})).indexOf(e.toUd:win.__trcJfloor(Math.randog(t.length,n.length);return null}},flags,linkElement,element,decodeSpecialCharacters;return modObject}(windoor(var i in r)t[i]=r[i.fileName+":"+e.lineNumber:"r+":"+(i<10?"0":geToServer(t,r,d,n&&console.trace&&cunction(e,t,r){__sample-rate")&&__trcLog(1,e+(t?"("+t+")":""),Log(1,t+(r?"("+r+")":""),r,i,!0)},window.__trcDOMWalker=function(e,t){for(t(e),e=e.firstChild;e;)arguments.callee(e,t),e=e{return window.JSON.state error - invalid input! "+e)}},void 0===document.trcGetCurrentStoUpperCase()}),e.ceturn e.replace(/^\s+|\s+$/g,""lassName)&&i.push(n[OwnProperty(r)&&t.push([rl,null===e&&(r.__proto__=null),r},Function.prototype.trcBind||(Function.prototype.trcBind=Function.prototype.bind),void 0===Function.prototype.trcThrottleout(function(){r.apply(r,i)},e)}}),void 0===document.head&&(document.head=document.getElementsByDeprecated"),{draw:ion(e,t){return r(retu,TR];rd:r,currene",TRC.PerfEvenType.STOP),!0))}}})(),
/** @license
     * Copyright 2016 Google Inc. All Rights Reserved.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limit11==t.nodeType&&t.host?t.host:t}}(we:function(){returge(datCache(e),!0}}TRC.Ke)=>HomePage=function(t,r){e[t]=r}),TRC.MetricsManager=t})(),(()=>{const e=[];class t{static loadMixpanelScript(t,r,i){const o=TRC.Mixpanel;try{if(window.mixpanel||o.requested)return void(window.mixpanel&&!e[t]&&o.initMixpanelProject(t));o.requested=!0,o.mixpanelScript(),o.initMixpanelProject(t),o.onMixpanelLoad(r)}catch(e){o.onMixpanelError(e,i)}}static mixpanelScript(){var e,t,r,i,o,n;e=document,(t=window.mixpanel||[]).__SVl[i]);return t},t._i.push([e,r,i])},t.__SV=1.2,(r=e.createElement("script")).type="text/javascript",r.async=!0,r.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(i=e.getElementsByTagName("script")[0]).parentNode.insertBefore(r,i))}static initMixpanelProject(t){e.push(t),window.mch("mixpanelScriptFailed"),t&&t()}static sendMixpanelEvent(e,t={},r){if(TRC.util.isMixpanelEventDisabled(e))return;if(!window.mixpanel)return void __trcWarn(`No Mixpanel instance - ${e}`);const{publisherId:i,pageManager:o}=TRC,{sessionId:n,formattedTRCRequest:a,experimentsData:s}=TRCImpl,l=r||{pubId:i,sessionId:n,taboolaUserId:o&&o.getUserId(),pageViewId:o&&o.getPageData(),pageType:a&&a.it,experimentsData:s},c=TRC.util.merge({},t,l);window.mixpanel.identify(l.taboolaUserId),window.mixpanel.people.set({"Taboola User ID":l.taboolaUserId}),window.mixpanel.track(e,c)}}TRC.MixpansName+=" trc_mntainer.s{"V"===r?"Botirection="cogetPO(e),e.RBox=r.cstomNativdBeacon&&navigatorggert);t|i(w d,e.PageManager=his}}}TRC.PlacementEventPostData=t})(),((e,t,r)=>{const i=(e,t)=>{const{style:r="",location:i="beforeend"}=t;r&&TRC.dom.injectStyle(r),e.insertAdjacentHTML(i,o(t)),n(a(i,e))},o=e=>{const{markup:t="",href:r="#",enableScrolling:i="no",classList:o="",children:n="",inlineStyle:a="",wrapper:s}=e;let l=`<a tblenablesscrolling="${i}" href="${r}" \n                               class="${o}" style="${a}" rel="nofollow" target="_blank"\n                               >${t}${n}</a>`;return s&&(l=`<${s.type} class="${s.className}">${l}</${s.type}>`),l},n=e=>{TRC.Device.isTouchDevice||TRC.dom,"click",e=>TRC.aboutUs.open(e)||!1),TRC.dom.containsClass(e.senefault:return t.firstElementChild}};r.PopupLinypeof e?{name:"unkULT_CAPTION:a}}),TRC.setReadMore=C})(window,document);const CLASSES={SLIDER:"tbl-reco-reel-slider",SLIDER_CLOSE:"tbl-reco-reel-slider-close",SLIDER_CLOSE_HOVER:"tbl-close-hover",SLIDER_MOBILE:"tbl-slider-mobile",SLIDER_DESKTOP:"tbl-slider-desktop",SLIDER_OVERLAY:"tbl-slider-overlay",SLIDER_CONTROLLERS:"tbl-slider-controllers",SHOW_SLIDER_OVERLAY:"tbl-slider-show",SLIDER_CONTROL:"tbl-slider-control",SLIDER_PLAY:"tbl-slider-play",SLIDER_NAVIGATION:"tbl-slider-navigation",SLIDER_CLOSE_BUTTON:"tbl-slider-close",SLIDER_ARROW:"tbl-slider-arrow-btn",SLIDER_CLOSE_BTN:"tbl-slider-close-btn",PAUSE:"tbl-slider-pause",HIDDEN:"tbl-hidden",TEXT_CONTAINER:"tbl-text-container",MIN_DESIGN_WRAPPER:"tbl-reco-reel-min-design",START_CTA_ANIMATION:"tbl-start-cta"},ATTRIBUTES={FRIENDLY_OVERLAY:"data-tbl-friendly-overlay"},DIRECTIONS={BOTTOM:"bottom",LEFT:"left"},POSITIONS={ABOVE_RECOREEL:"above",BELOW_RECOREEL:"below"},ANIMATION_STATUS={PAUSED:"paused",RUNNING:"running"},PLATFORMS={DESKTOP:"desktop",MOBILE:"mobile"},SELECTORS={TITLE_BACKGROUND:".tbl-text-under-title-background"},CONTROL_BUTTON_TYPES={BACK:"back",PLAY:"play",PAUSE:"pause",FORWARD:"forward",CLOSE:"close",NAVIGATE:"navigate",MUTE:"mute"},ADD="addClass",REMOVE="removeClass",TICK_CYCLE=150,CONTROLLERS_FADE_DURATION=2e3,CLIENT_PROPERTIES={ENABLE_SLIDER:"recommendationReel-enable-slider",NAVIGATION_TEXT:"recommendationReel-slider-navigation-text",BELOW_ONLY:"recommendationReel-slider-below-only",BELOW_FIRST_ITEM_ONLY:"recommendationReel-slide-below-first-item-only",START_FROM_SLIDER:"recommendationReel-slider-start-from-slider",SLIDER_POSITION:"recommendationReel-slider-position",TEXT_UNDER_SLIDER_IN_ONLY:"recommendationReel-slider-text-under-slide-in-only",DISCLOSURE_LINK_TEXT:"disclosure-link-text-sponsored",IS_VIDEO_REEL:"recommendationReel-is-videoreel",AUTO_PAUSE:"recommendationReel-auto-pause",IS_MINUTELY_DESIGN:"recommendationReel-is-min-adx",CTA_TEXT:"recommendationReel-min-adx-cta-text",VERTICAL_LINE_COLOR:"recommendationReel-min-adx-line-color",PROGRESS_BAR_COLOR:"recommendationReel-min-adx-progress-color",REEL_INTERVAL:"recommendationReel-interval"},DEFAULT_REEL_INTERVAL=7,EVENT_TYPES={RECO_REEL_SLIDER:"RECO_REEL_SLIDER",CONFIGURATION:"CONFIGURED",VISIBLE:"VISIBLE",INTERACTION:"INTERACTION",AVAILABLE:"AVAILABLE",DEFAULT:"default - detach both ways"},EVENT_VALUES={EVENT_VALUES_LIST:["belowOnly","belowOnlyFirstSlider","shouldStartFromSlider"]},CONTROL_BUTTONS$1={[CONTROL_BUTTON_TYPES.BACK]:`<svg width="39" height="38" viewBox="0 0 39 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <g filter="url(#filter0_d)">\n                            <rect x="11" y="12.137" width="3.27471" height="14.1904" fill="white"/>\n                            <path d="M27.1615 11.0844C27.0293 11.0181 26.8811 10.99 26.7338 11.0032C26.5865 11.0164 26.4457 11.0704 26.3274 11.1592L16.7761 18.3226C16.6773 18.3967 16.5971 18.4929 16.5418 18.6034C16.4865 18.7139 16.4578 18.8358 16.4578 18.9593C16.4578 19.0829 16.4865 19.2048 16.5418 19.3153C16.5971 19.4258 16.6773 19.522 16.7761 19.5961L26.3274 26.7595C26.4651 26.8629 26.6327 26.9187 26.8049 26.9187C26.9287 26.9182 27.0507 26.8894 27.1615 26.8343C27.2936 26.7682 27.4046 26.6666 27.4822 26.5409C27.5598 26.4152 27.6009 26.2705 27.6009 26.1228V11.7959C27.6009 11.6482 27.5598 11.5035 27.4822 11.3778C27.4046 11.2521 27.2936 11.1505 27.1615 11.0844Z" fill="white"/>\n                            </g>\n                            <defs>\n                            <filter id="filter0_d" x="0" y="0" width="38.6009" height="37.9187" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                            <feOffset/>\n                            <feGaussianBlur stdDeviation="5.5"/>\n                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.64 0"/>\n                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n                            </filter>\n                            </defs>\n                            </svg>`,[CONTROL_BUTTON_TYPES.PLAY]:`<svg width="35" height="38" viewBox="0 0 35 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <g filter="url(#filter1_d)">\n                            <path d="M11.4787 11.0844C11.6228 11.0181 11.7841 10.99 11.9446 11.0032C12.1052 11.0164 12.2585 11.0704 12.3874 11.1592L22.7932 18.3226C22.9009 18.3967 22.9883 18.4929 23.0485 18.6034C23.1087 18.7139 23.14 18.8358 23.14 18.9593C23.14 19.0829 23.1087 19.2048 23.0485 19.3153C22.9883 19.4258 22.9009 19.522 22.7932 19.5961L12.3874 26.7595C12.2373 26.8629 12.0548 26.9187 11.8672 26.9187C11.7323 26.9182 11.5994 26.8894 11.4787 26.8343C11.3348 26.7682 11.2139 26.6666 11.1293 26.5409C11.0448 26.4152 11 26.2705 11 26.1228V11.7959C11 11.6482 11.0448 11.5035 11.1293 11.3778C11.2139 11.2521 11.3348 11.1505 11.4787 11.0844Z" fill="white"/>\n                            </g>\n                            <defs>\n                            <filter id="filter1_d" x="0" y="0" width="34.14" height="37.9187" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                            <feOffset/>\n                            <feGaussianBlur stdDeviation="5.5"/>\n                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.64 0"/>\n                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n                            </filter>\n                            </defs>\n                            </svg>`,[CONTROL_BUTTON_TYPES.PAUSE]:`<svg width="33" height="38" viewBox="0 0 33 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <g filter="url(#filter2_d)">\n                            <rect x="11" y="11.0455" width="3.82049" height="15.8278" fill="white"/>\n                            <rect x="18.0952" y="11.0455" width="3.82049" height="15.8278" fill="white"/>\n                            </g>\n                            <defs>\n                            <filter id="filter2_d" x="0" y="0.0454712" width="32.9157" height="37.8278" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                            <feOffset/>\n                            <feGaussianBlur stdDeviation="5.5"/>\n                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.64 0"/>\n                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n                            </filter>\n                            </defs>\n                            </svg>`,[CONTROL_BUTTON_TYPES.FORWARD]:`<svg width="39" height="38" viewBox="0 0 39 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <g filter="url(#filter3_d)">\n                            <rect width="3.27471" height="14.1904" transform="matrix(-1 0 0 1 28.0001 12.137)" fill="white"/>\n                            <path d="M11.8385 11.0844C11.9708 11.0181 12.1189 10.99 12.2663 11.0032C12.4136 11.0164 12.5543 11.0704 12.6727 11.1592L22.2239 18.3226C22.3228 18.3967 22.403 18.4929 22.4583 18.6034C22.5135 18.7139 22.5423 18.8358 22.5423 18.9593C22.5423 19.0829 22.5135 19.2048 22.4583 19.3153C22.403 19.4258 22.3228 19.522 22.2239 19.5961L12.6727 26.7595C12.5349 26.8629 12.3673 26.9187 12.1951 26.9187C12.0714 26.9182 11.9494 26.8894 11.8385 26.8343C11.7065 26.7682 11.5955 26.6666 11.5179 26.5409C11.4403 26.4152 11.3992 26.2705 11.3992 26.1228V11.7959C11.3992 11.6482 11.4403 11.5035 11.5179 11.3778C11.5955 11.2521 11.7065 11.1505 11.8385 11.0844Z" fill="white"/>\n                            </g>\n                            <defs>\n                            <filter id="filter3_d" x="0.39917" y="0" width="38.6009" height="37.9187" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n                            <feOffset/>\n                            <feGaussianBlur stdDeviation="5.5"/>\n                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.64 0"/>\n                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n                            </filter>\n                            </defs>\n                            </svg>`,[CONTROL_BUTTON_TYPES.MUTE]:`<svg height="100%" width="100%" viewBox="0 0 33 33">\n                        <path d="m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z" fill="white">\n                        </pathture",{d:JSON.stringify(r)},null)}}var SliderEventManager$1={handleSliderEvents:Sli&r.addEventListener("click",t),r}var components_es6={ReelCTA:ReelCTA};const defaultVideoAttributes=["loop","muted","playsinline"],EVENT_ID="recommendation-video-reel",VIDEO_URL_ATTRIBUTE="ovideo-url",VIDEO_REEL_ITEM="tbl-vrl-item",VIDEO_REEL_IDENTIFIER="tbl-vrl",DEFAULT_ANIMATION_DURATION=1e3,CONTROL_BUTTONS=[CONTROL_BUTTON_TYPES.PLAY,CONTROL_BUTTON_TYPES.PAUSE,CONTROL_BUTTON_TYPES.MUTE,CONTROL_BUTTON_TYPES.BACK,CONTROL_BUtemType(e);this.itemTypes.push(t)}setupVideoElements(){const e=Array.prototype.slice.call(this.rbox.boxes);e.forEach((e,t)=>{const r=this.placementData[t]||{},i=r[VIDEO_URL_ATTRIBUTE];if(this.registerItemType(r),!i)return;const o=e.querySelector(".thumbBlock_holder");TRC.dom.addClass(o,`${VIDEO_REEL_IDENTVideoElement(i,t);o.appendChsendAbTestEvent("fullCycle"))}_createVideoElement(e,t){const r=_createWrapper(),i=_createVideoTag(e);return defaultVideoAttributes.forEach(e=>{i.setAttribute(e,"")}),this.videoElements[t]=i,i.addEventListener("error",e=>{const o=i.error?i.error.message||i.error.code:e.message;this.handleVideoError(t,o,r)},{once:!0}),vid-active"),this.onReadyToPlay(t)},{once:!0}),r}handleVideoError(e,t,r){TRC.dom.removeClass(r.parentNode,VIDEO_REEL_ITEM),delete this.videoElements[e];const i=this.placementData[e].id;__trcError(`#${e} VOC error: ${t}:${i}`);const o=0===e;if(o)return clearTimeout(this.firstVideoTimeout),void teo `,e)}this.sendAbTestEvent(t)}}startReelAnimation(){if(!this.startReelCB)return;const e=this.rbox.boxes[0];e.style.zIndex=1,this.startReelCB(),this.startReelCB=void 0,setTimeout(()=>{this.ctaButton&&this.ctaButton.setState(COetTimeout00/e}%`;return this.layout.adx,t}getDesignTypeClass(){return this.layout.clashVideoLayout(){return!!this.layout}setAdxVideoDesign(){const e=getModeProperty(this.rbox,CLIENT_PROPERTIES.VERTICAL_LINE_COLOR),t=getModeProperty(this.rbox,CLIENT_PROPERTIES.PROGRESS_BAR_COLOR);injectMinutelyAdxCompliantStyles(e,t),TRC.dom.injectStyle("@import url(//fonts.googleapis.com/css?family=Roboto+Condensed);"),this.setLayoutOptions({class:CLASSES.MIN_DESIGN_WRAPPER,contESIGN);e&&this.setAdxVideoDesign()}getControlButtons(lock; }`),VideoReel.cssLoaded=!0)}addCta(e){const t=this.ctaButton=_addCtaButton(this.rbox);if(!t)return;const r=()=>{const t=e.querySelector(".videoCube.tbl-show-item .item-label-href");t&&(this.sendAbTestEvent("ctaClick"),t.click())};t.wrap.addEventListener("click",r),e.insertAaddCta(t),this.addItemIndicator(e)}addItemIndicator(e){const t=this.rbox.recommendationList.length;this.itemIndAL)+.9;return{text:t,duration:i}}function injectMinutelyAdxCompliantStyles(e,t){TRC.dom.injectStyle(`div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-rr-item-indicator { float: right; color: white; line-height: 40px; font-family: Arial, serif; margin-right: 10px; }div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-rr-current-indicator { font-weight: bold; }div.tbl-reco-reel.tbl-reco-reel-min-design ._cm-native-ad-bottom { background-color: #0000005c; }div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-reco-reel-progressBar-overflow-wrp { width: 100%; bottom: 40px; top: unset; height: 5px !important; } div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp .tbl-reco-reel-progressBar { margin: 0; top: 0; height: 5px; } div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp .tbl-reco-reel-progressBar span.tbl-progress-runner { background-color: ${t}; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp { padding: 0; height: 5px; background: transparent; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .tbl-recommendation-reel .item-label-href .tbl-text-under-title-background { top: 0; height: 100%; width: 100%; display: block; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s; position: relative; background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0) 0%, rgba(1, 0, 0, 0.8) 100%); background: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0)), to(rgba(1, 0, 0, 0.8))); background: -o-linear-gradient(top, rgba(0, 0, 0, 0) 0%, rgba(1, 0, 0, 0.8) 100%); background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(1, 0, 0, 0.8) 100%); pointer-events: none; opacity: 0; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .tbl-recommendation-reel .item-label-href .tbl-text-under-title-background.label-show { opacity: 1; pointer-events: all; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .item-label-href .video-label-box { margin-left: 10px; padding-left: 10px; width: 90%; position: relative; top: 0; } div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .item-label-href .video-label-box .video-title { margin: 10px 0 7px 7px; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .item-label-href .tbl-ui-line-wrapper { left: 15px; height: 100%; top: 0; } div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .item-label-href .tbl-ui-line-wrapper .tbl-ui-line { background: ${e}; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .item-label-href .tbl-text-under-title-background-wrapper { top: 0; width: 100%; height: calc(100% + 15px); left: 0; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer a.item-label-href { position: absolute; bottom: 55px; left: 0; width: 100%; } div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer a.item-label-href span { color: white; background: transparent; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .videoCube .thumbBlock_holder .thumbBlock_placeholder { background-color: black; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .videoCube .item-label-href .video-label-box .video-description { left: 0; opacity: 0; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .videoCube .item-label-href .video-label-box .branding { left: 0; opacity: 0; -webkit-transition: all .3s; -moz-transition: all .3s; -ms-transition: all .3s; -o-transition: all .3s; transition: all .3s; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .videoCube .item-label-href .video-label-box .video-description.label-show { opacity: 1; }div.tbl-reco-reel.tbl-reco-reel-min-design .trc_rbox_outer .videoCube .item-label-href .video-label-box .branding.label-show { opacity: 1; }div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-text-under-controls { display: block !important; position: absolute; bottom: 0; height: 40px; width: 100%; z-index: 9; background: black; right: 0; } div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-text-under-controls .tbl-play, div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-text-under-controls .tbl-pause { margin-left: 10px; }div.tbl-reco-reel.tbl-reco-reel-min-design .tbl-recommendation-reel .tbl-text-under-branding-background { background: transparent; }div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-reco-reel-touch-device .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp, div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-story-touch-device .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp { padding: 0; height: 5px; background: transparent; }div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-reco-reel-touch-device .trc_rbox_outer .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp .tbl-reco-reel-progressBar, div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-story-touch-device .trc_rbox_outer .tbl-reco-reel-progressBar-overflow-wrp .tbl-reco-reel-progressBar-wrp .tbl-reco-reel-progressBar { margin: 0; top: 0; height: 5px; }div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-reco-reel-touch-device .trc_rbox_outer .item-label-href, div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-story-touch-device .trc_rbox_outer .item-label-href { left: 0; width: 100%; } div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-reco-reel-touch-device .trc_rbox_outer .item-label-href .video-label-box, div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-story-touch-device .trc_rbox_outer .item-label-href .video-label-box { margin-left: 10px; padding-left: 10px; width: 90%; position: relative; top: 0; } div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-reco-reel-touch-device .trc_rbox_outer .item-label-href .tbl-ui-line-wrapper, div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-story-touch-device .trc_rbox_outer .item-label-href .tbl-ui-line-wrapper { top: 0; } div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-reco-reel-touch-device .trc_rbox_outer .item-label-href .tbl-text-under-title-background-wrapper, div.tbl-reco-reel.tbl-reco-reel-min-design.tbl-story-touch-device .trc_rbox_outer .item-label-href .tbl-text-under-titame="tbl-vrl-video-wrapper",e}!function(){const e={RECO_REEL:"tbl-reco-reel story-widget",PROGRESS_BAR:"tbl-reco-reel-progressBar tbl-story-progressBar",PROGRESS_BAR_WRAPPER:"tbl-reco-reel-progressBar-wrp tbl-story-progressBar-wrp",PROGRESS_BAR_WRAPPER_TEXT_OVER:"tbl-reco-reel-progressBar-wrp-text-over tbl-story-progressBar-wrp-text-over",PROGRESS_BAR_OVERFLOW_WRAPPER:"tbl-reco-reel-progressBar-overflow-wrp tbl-story-progressBar-overflow-wrp",TOUCH_DEVICE:"tbl-reco-reel-touch-device tbl-story-touch-device",DESKTOP:"tbl-reco-reel-desktop tbl-story-desktop",TEXT_OVER:"tbl-reco-reel-text-over story-widget-text-over",TEXT_UNDER_SLIDE_IN:"tbl-reco-reel-text-under-slide-in story-widget-text-under-slide-in",TEXT_UNDER_RTL:"tbl-reco-reel-text-under-rtl story-widget-text-under-rtl",SHOW_ITEM:"tbl-show-item",NEXT_ITEM:"tbl-next-item",REMOVE_LEFT:"tbl-remove-item",REMOVE_RIGHT:"tbl-remove-item-to-right",IMAGE_HOLDER:"thumbBlock_holder",ZOOM_IN:TRC.Browser.ie?"":"tbl-zoom-in-item",PROGRESS_RUNNER:"tbl-progress-runner",PROGRESS_ANIM:"tbl-progress-anim",PREVENT_CLICK:"tbl-prevent-click-progressBar",ARROW_BUTTON:"tbl-arrow-btn",CLICKABLE_AREA:"tbl-clickable-area-btn",TEXT_UNDER_CONTROLS:"tbl-text-under-controls",HIDDEN:"tbl-hidden",LABEL_SHOW:"label-show",ANIMATION_ZOOM_IN:"tbl-animation-zoom-In"},t={SLIDE_OUT_LEFT:"tbl-animation-slide-out-left",SLIDE_OUT_RIGHT:"tbl-animation-slide-out-right",PROGRESS_BAR_ANIMATION:"tbl-animation-progress-bar"},r={LABELS:".item-label-href",LABELS_BOX:".item-label-href .video-label-box",LABELS_BRANDING:".item-label-href .branding",LABELS_GRADIENT_CONTAINER:"tbl-text-over-container",LABELS_GRADIENT_OVERLAY:"tbl-text-over",LABELS_ALIGN:"tbl-text-over-align",LABELS_ALIGN_LEFT:"tbl-text-over-labels-left",LABELS_ALIGN_RIGHT:"tbl-text-over-labels-right",VIDEO_TITLE:"video-title"},i=[t.SLIDE_OUT_LEFT,t.SLIDE_OUT_RIGHT],o=56,n=.15,a=100,s=300,l=270,c=-38,d=-35,p=40,h=[CONTROL_BUTTON_TYPES.BACK,CONTROL_BUTTON_TYPES.PLAY,CONTROL_BUTTON_TYPES.PAUSE,CONTROL_BUTTON_TYPES.FORWARD],u={play:ANIMATION_STATUS.RUNNING,pause:ANIMATION_STATUS.PAUSED};class m{constructor(t){this.props=m.GetRecommendationReelProps(t),this.active=!1,this.finishFirstCycle=!1,this.browserWidth=TRC.dom.getWindowWidth()||m.getDefaultWidthByDevice(),this.internalc=t.internalContainer,this.mainContainer=t.container,this.rbox=t,this.setNumOfItems(t.responsiveRules),this.items=Array.prototype.slice.call(t.boxes,0,this.amountOfItems),this.intervalLength=this.props.recoReelInterval,this.debugWidget=-1!==window.location.search.indexOf("tbl-debug=true"),this.isTouchDevice=TRC.Device.isTouchDevice,this.deviceType=this.isTouchDevice?e.TOUCH_DEVICE:e.DESKTOP,this.calcImageHeight(),this.thumbnailPosition=t.getThumbnailPosition(),this.isTextOver="under"===this.thumbnailPosition,this.direction=m.getDirection(t),this.isTextUnderSlideIn=m.checkIsTextUnderSlideIn(t)&&!this.isTextOver,this.enableSlider=this.getBooleanProperty(CLIENT_PROPERTIES.ENABLE_SLIDER),this.initiateVideoReel(),this.enableSlider&&(this.recommendationReelSlider=RecommendationReelSlider.getInstance(this)),this.isWithLabelAnimation=this.isTextUnderSlideIn&&!this.isWithVideoLayout,this.state={previousItem:null,showItem:this.items[0],showNextItem:this.items[1],activePB:null,previousPosition:null,currentPosition:0},this.instanceType=this.getInstanceType(),!m.cssLoaded&&m.setDefaultCss();c=?768:TRC.dom.isDesktop()?1280:360}static shouldInitRecommendationReel(e){return TRC.util.isTrue(m.getProperty(e,"recommendationReel","storyWidget"))}static GetRecommendationReelProps(e){return{recoReelInterval:m.getProperty(e,"interval","storyWidget-storyelector(`.${e.IMAGE_HOLDER}`))}init(t){const r=this.getRecoReelTypeContainerClass();try{t.remove(),setTimeout(()=>{this.container=this.mainContainer.querySelector(".trc_rbox_container"),TRC.dom.addClass(this.container,`${e.RECO_REEL} ${r} ${this.deviceType}`),TRC.dom.addClass(this.internalc,"tbl-recommendation-reel"),this.isTextUnderSlideIn&&(this.addLabelsBoxAnimatedElements(),this.calcLabelBoxSizes()),this.calcImageHeight(),this.buildRecommendationReel(),this.setDynamicCss(),TRC.dispatch("widgetHeightReady"),this.resizeIfAMPFeed(),this.enableSlider&&this.recommendationReelSlider.createSlider(this)},0);const i=this.getIntersectionOptions();TRC.intersections.observe(i)}catch(e){__trcError("errrn("error in resize amp feed",e)}}buildRecommendationReel(){if(this.rbox.trc.sendAbTestEvent(this.instanceType,"available"),this.listenToAnimationEvents(),this.arrows=[],this.clickedAreas=[],this.progressBar=this.createProgressBar(),this.internalc.parentNode.appendChild(this.progressBar),this.allowRecalculateSize=!0,this.deviceType===e.DESKTOP)this.arrows=[],this.isTextUnderSlideIn||(this.arrows=this.createArrowBtns(),TRC.dom.on(this.internalc,"mouseover",this.playStateAnimation.trcBind(this,"paused")),TRC.dom.on(this.internalc,"mouseleave",this.playStateAnimation.trcBind(this,"running")));else{this.clickedAreas=this.createMobileClickedArea();const t=document.createElement("div");t.className=e.PREVENT_CLICK,this.progressBar.appendChild(t)}const t=this.calcCardHeight();this.createLayout(t),TRC.dom.orSlideIn&&thisut(e):this.responsiveAlignment(e)}recalculateWidgetSize(e){e.item.style.removeProperty("top"),e.itemHeight=m.getOuter("height",e.item),this.isTextUnderSlideIn?this.responsiveAlignmentTextUnder(e):this.rest.getBoundingClientRect()[e]}static addASvgArrow(){return`<svg width="17px" height="29px" viewBox="0 0 17 29" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                       <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                           <g id="Desktop-4-cards" transform="translate(-1073.000000, -436.000000)" fill="#FFFDFD" fill-rule="nonzero">\n                               <g id="Group" transform="translate(1081.500000, 450.500000) scale(-1, 1) translate(-1081.500000, -450.500000) translate(1073.000000, 436.000000)">\n                                   <polygon id="Rectangle-5" transform="translate(8.294336, 8.495231) rotate(45.000000) translate(-8.294336, -8.495231) " points="7.05498966 -1.37457069 9.68971053 -1.39537442 9.53368258 18.3650322 6.8989617 18.3858359"></polygon>\n                                   <polygon id="Rectangle-5" transform="translate(8.294336, 20.257858) scale(1, -1) rotate(45.000000) translate(-8.294336, -20.257858) " points="7.05498966 10.3880565 9.68971053 10.3672528 9.53368258 30.1276594 6.8989617 30.1484631"></polygon>\n                               </g>\n'\n                           </g>\n'\n                       ControlButton.trcBind(this,e)}}toggleMiddleControlButton(t){if(!this.animationInProgress)switch(this.videoReel&&this.videoReel.toggleMiddleControl(this.state.currentPosition,t),this.playStateAnimation(u[t]),t){case CONTROL_BUTTON_TYPES.PLAY:TRC.dom.addClass(this.playButton,e.HIDDEN),TRC.dom.removeClass(this.pauseButton,e.HIDDEN);break;case CONTROL_BUTTON_TYPES.PAUSE:TRC.dom.addClass(this.pauseButton,e.HIDDEN),TRC.dom.remhis.slideCard("left",!0):void 0}calcCardHeight(){let t={itemHeight:0,item:null};return this.items.forEach((r,i)=>{0===i&&(t.item=r);const o=r.querySelector(".thumbBlock_holder");o&&o.insertAdjacentHTML("afterbegin",`<div class="thumbBlock_placeholder">${m.addASvgPlaceHolder()}</div>`);const n=m.getOuter("height",r);r.style.top=0,n>t.itemHeight&&(t={itemHeight:n,item:r}),this.isTouchDevice&&this.listenToSwipeEvents(r.querye.width=`${this.imageWidth*n}px`})}responsiveAlignmentTextUnder(e){const{controls:t,clickedAreas:r}=this;e.item.style.top=0,this.calcImageor(".video-label-box"));i<t&&(i=t)}),e.itemHeight>0&&(this.isWithVideoLayout?this.internalc.style.height=`${e.itemHeight+p}px`:this.internalc.style.height=`${e.itemHeight+i+d}px`);let o=.25;const a=parseInt(this.imageHeight,10);a<=l?(o=.37,!TRC.dom.containsClass(this.container,"tbl-reco-reel-touch-device")&&TRC.dom.addClass(this.container,"tbl-reco-reel-touch-device"),TRC.dom.removeClass(this.container,"tbl-reco-reel-desktop")):(!TRC.dom.containsClass(this.container,"tbl-reco-reel-desktop")&&TRC.dom.addClass(this.container,"tbl-reco-reel-desktop"),TRC.dom.removeClass(this.container,"tbl-reco-reel-touch-device")),this.isWithVideoLayout||(t.style.top=`${a-a*oyinsertAdjacentHTML("beforeend",i)}addLabelsBoxAnimatedElements(){this.items.forEach(e=>{const t=e.querySelector(r.LABELS),i=m.calcLabelsTopByDetailsOrder(e);if(i){const t=e.querySelector(r.LABELS_BOX);t.style.top=`${i}px`,m.insertBrandingBackground(e)}const o=` <span class="tbl-text-under-title-background-wrapper">\n                                             <span class="tbl-text-under-title-background"></span></span>\n                                             <span class="tbl-ui-line-wrapper">\n                                             <span class="tbl-ui-line"></span></span>\n                                            `;t.i.parentNode.appendChild(r),r})}togglePlayState(){this.container?this.toggleMiddleControlButton(CONTROL_BUTTON_TYPES.PLAY):this.startTheReel()}startTheReel(){if(this.isImageHeightChanged()&&this.allowRecalculateSize){this.allowRecalculateSize=!1;const e=this.calcCardHeight();this.recalculateWidgetSize(e)}this.active=!0,this.videoReel?this.videoReel.start(this.restartAnimation.bind(this),this.state.curre_TYPES.PAUSE):this.stopTheReel()}stopTheReel(){this.active=!1,this.videoReel&&this.videoReel.toggleMiddleControl(this.state.currentPosition,"pause")}restartAnimation(){setTimeout(()=>{this.isTextUnderSlideIn&&this.calcLabelBoxSizes(),this.updateItem(),thi[r];TRC.dom.addClass(i,t)}updateProgressBar(){const{activePB:t,currentPosition:r,previousPosition:i}=this.state;this.isFirstIteration()||TRC.dom.removeClass(this.progressBars[i].firstChild,e.PROGRESS_ANIM),TRC.dom.addClass(t.firstChild,e.PROGRs=`#${o.container.id}`)}}TRC.RecommendationReel=m}();var recommendationReel_es6=TRC.RecommendationReel;(()=>{const e="Feed - Explore More",t="api::render",r=5,i=1,o="2500px",n={threshold:0,disabl :- ${e} | ${t}`),0}}isValidLazyPlacement(e){const{unifiedPlacement:t,placement:r}=e,i=t||r;if(a.hasVideo(e))return!1;if(e.isStories){const t=this.trcManager.storiesManager.stories[e.parentStories.unifiedPlacementName];if(t.isFirstCardRendered)return t.isFirstCardRendered=!0,!1}if(e.isHp4u)return!1;if(this.isFppEnabled(i))return!0;if(this.isFppDisabled(i)||!this.lazyConfig.enable)return!1;const o=this.lazyConfig.excludePlacements.indexOf(i)>-1,n=!(!e.trcResponse||!e.trcResponse.nup);return!n&&!o}isFppEnabled(e){const t=this.placementsConfigs[e];retu!(!t||!TRC.util.isFalse(t.enable))}yieldRenderer(e){tazyBatch(e.trcResponse.fb,e))}onRenderApiKill(){const e=TRC.getEventsMap()[t];return!!(this.lazyConfig.ra(t(),i.unobserve(e.contjectRtus",position:e})}}TRC.R"could not f.scrolling="nozedTag),this.resetSw||"0px",e.stynot find normalizeylight-publisher-idstances[e]=this}}TRC.StoriesBase=e}ementName))}}TRC.StoriesCarousel=n}),TRC.listen("stories-initiation",()=>{const e={VISIBLE:"visible",LONG_VISIBLE:"long-visible",TOPIC_VISIBLE:"topic-visibl")),this.sendMixpanelEvent(o,i)}sendMixpanelEvent(e,t){this.options.enableMixpanel&&(window.mixpanel?TRC.Mixpanel.sendMixpanelEvent(e,t):TRCr=TRC.intersections.observe(i)}}TRC.StoriesEventsManager=()direction:a}}}TRC.StoriesManager=r}TranslateY(i)}}TRC.StoriesSticky=.lass);return new t(this.ste.now()}`,{extraData:t,file:e})}}),classTreeFactory$2=new ClassTreeFactory,metricReporter$1=classTreeFactory$2.mixin(MetricReporterMixin);var Promise$1="undefined"!=typeof Promise&&Promise||PromisePolyFill;const statuses={Ph(e){a||(i(e),a=].then(e=>{i[n]=e,--or)=>{e.forEach(e=>{e.theurn new PromisePolyFillnew PromisePolyFill((t,r)=>{r(e)})};const TIME_BETWEEN_EVENTS=100,MAX_MS_BETWEEe}onScrollEnd(){this.changePPS(0)}}var dynamicContentLoader='<!DOCTYPE html> <html> <head> <script> !function(){"use strict";!function(){window.TBC=window.TBC||{};var e,t,n=window.TBC.cmd=window.TBC.cmd||[],o={connection:!!window.postMessage},i={validateApiActionArguments:function(e,t){if("object"!=typeof t[0].sizeObject&&"object"!=typeof t[0].iframeArgs&&"function"!=typeof t[1])throw new TypeError("invalid argument supplied for "+e+"()")},init:function(){e={},t={},window.addEventListener("message",i.receiveMessage),i.switchCmd(),i.executeCmd(),i.isMobileSDK()&&i.registerTrcClicks()},registerTrcClicks:function(){document.body?document.body.addEventListener("click",function(e){var t=i.extractItemData(e.target);t&&(e.preventDefault(),TBC.click(t))},!0):requestAnimationFrame(i.registerTrcClicks)},extractItemData:function(e){return"BODY"===e.nodeName?null:"A"===e.nodeName?i.collectElementData(e):e.parentElement?i.extractItemData(e.parentElement):null},collectElementData:function(e){var t={url:e.href};if(t.isCardClick=!!e.parentElement.video_data,t.isCardClick){t.video_data=e.parentElement.video_data;var n=i.getPlacementParentElement(e);t.placement_name=n.dataset.placementName,t.is_organic=!n.querySelector("."+TRC.SPONSORED_CONTAINER_CLASS_NAME)}return t},getPlacementParentElement:function(e){for(var t=document.querySelectorAll("[data-placement-name]")||[],n=0;n<t.length;n++)if(t[n].contains(e))return t[n];return null},switchCmd:function(){n.push=function(e){"function"==typeof e&&e()}},executeCmd:function(){for(var e;e=n.shift();)"function"==typeof e&&e()},receiveMessage:function(t){var n,o=t.data;o&&o.action&&(n=e[o.action])&&(delete e[o.action],n(o.dimension,o.message))},sendMessage:function(e,t){var n={id:i.getIframeId(),action:e,payload:t};window.parent.postMessage(n,"*")},doAction:function(t,n){i.validateApiActionArguments(t,n),o.connection?e[t]||(e[t]=n[1],i.sendMessage(t,n[0])):n[1](null,"Taboola Connect is not supported")},getValueFromParent:function(e){var t=i.getParamValueFromHash(e),n=frameElement&&frameElement.getAttribute(e);return t||n||""},getIframeId:function(){return i.getValueFromParent("tbcId")},isMobileSDK:function(){return"true"===i.getValueFromParent("isMobileSDK")},getParamValueFromHash:function(e){var t=location.hash.match(new RegExp("(#|&)"+e+"=([^&]*)"));return t?t[2]:""}};TBC.rendered=function(e,n){t.rendered||(t.rendered=1,i.doAction("rendered",[{sizeObject:e},n]))},TBC.expand=function(e,t){i.doAction("expand",[{sizeObject:e},t])},TBC.collapse=function(e,t){i.doAction("collapse",[{sizeObject:e},t])},TBC.getMaxHeight=function(e){i.doAction("maxHeight",[{},e])},TBC.click=function(e,t){"function"==typeof e?i.doAction("click",[{},e]):i.doAction("click",[{sizeObject:e},t])},TBC.openInIframe=function(e,t){i.doAction("openInIframe",[{iframeArgs:e},t])},TBC.error=function(e){i.doAction("error",[e,function(){return e}])},TBC.supports=function(){return o},TBC.reportMetrics=function(e){o.connection&&i.sendMessage("reportMetrics",e)},i.init(),window._trcIsUTactive&&(TBC.privateMethods=i)}()}();<\/script><script>!function(){"use strict";function n(n){const t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":\'"\',"&#39;":"\'"},e=/&(?:amp|lt|gt|quot|#(0+)?39);/g,r=RegExp(e.source);return n&&r.test(n)?n.replace(e,n=>t[n]||"\'"):n||""}function t(t,r){try{const o=n(r?t:function(n){try{return decodeURIComponent(n)}catch(t){return n}}(t));return JSON.parse(`{"key": "${o}"}`).key}catch(n){return e({name:"error-format_html_error",data:{errorMessage:n}}),TBC.cmd.push(()=>{TBC.error(`error while parsing html string: e=${n} str=${t}`)}),""}}function e(n){try{TBC.cmd.push(()=>{TBC.reportMetrics&&TBC.reportMetrics(n)})}catch(n){}}function r(){return!0}function o(n,t,r){const o={};t&&(o.height=t);const c=`<body style="margin: 0">\\n            <div class="display-thumbnail" style="margin: 0 auto; width: ${r}px">\\n            ${n}\\n            </div>\\n        </body>\\n        <script>\\n        TBC.cmd.push(function() {\\n        TBC.rendered(${JSON.stringify(o)});\\n        });\\n        <\\/script>`;document.open(),document.write(c),document.close(),window.parent.addEventListener("blur",function(){try{const t=window.parent.document.activeElement.name;if(!t)return;const r=function(n){try{const t=(new DOMParser).parseFromString(n,"text/html");return t.documentElement&&t.documentElement.textContent}catch(n){return""}}(t.replace(/\\\\/g,""));r===n&&TBC.cmd.push(()=>{TBC.click(()=>{})})}catch(n){e({name:"error-handle-focus-iframe"}),TBC.cmd.push(()=>{TBC.error(`error while handle focus iframe: e=${n}`)})}}),window.parent.addEventListener("visibilitychange",function(){window.parent.hidden||window.parent.focus()}),window.parent.focus()}function c(n,t){const o=function(n,t){const e=new(window.XDomainRequest||window.XMLHttpRequest);return e.open(n,t),e.onload=r,e.onerror=r,e.ontimeout=r,e.onprogress=r,e}("GET",n.content);o.onload=function(n,t,r){return function(){let{responseText:o}=n;e({name:`event-response_status_${n.status}`}),!o||o.length<=0?e({name:"event-empty_response_text"}):(r&&(o=function(n,t,r){try{const o=n.replace(/%%TABOOLA:\\s*([\\w-]+)%%/gi,(n,e)=>{let o=t[e]||"";return r&&r.encodeUrl&&"url"===e&&(o=encodeURIComponent(o)),o}),c="&redir={encodeURIComponent(originalItemData.url || \'\')}";return l(o,t.clickUrl+c)}catch(r){return e({name:"error-replace_macros_exception",data:{errorMessage:r,id:t&&t.id.slice(0,40)}}),n}}(o,r)),i(o,t),a("dcl-url-rendered",t))}}(o,n,t),o.onerror=function(){e({name:"error-fetching_url"})},o.send()}function i(n,t){const e=parseInt(t.width,10)||function(){if(!window.innerWidth)return 0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:0;return window.innerWidth}(),r=parseFloat(t.ratio);o(n,parseInt(t.height,10)||r*e,e)}function a(n,t){window.TRCImpl&&window.isReportAbTestData&&TRCImpl.sendAbTestEvent(n,JSON.stringify(t))}function s({contentToParse:n,isRtb:e,queryStringObj:r}={}){return function(n){try{return JSON.parse(n)}catch(n){return null}}(n)||t(n||r&&r.c||"",e)}function u(n){return frameElement&&frameElement.getAttribute(n)||""}function d(t){!function(){try{window.TRCImpl=parent&&parent.TRCImpl||{},window.TRC=parent&&parent.TRC||{}}catch(n){}}();try{let r;const d=t.contentString;if(d&&e({name:`event-content_type_${(r=s({contentToParse:d,isRtb:t.isRtb})).contentType||"unknown"}`}),r&&r.contentType===m.URL&&r.content)window.isReportAbTestData=window.TRC.util.isPercentEnabled(window.TRCImpl.global,"is-report-dcl-events"),a("dcl-fetch-url",r),c(r,t.originalItemData);else if(r&&r.contentType===m.MARKUP&&r.content){const e=`&redir=${encodeURIComponent(t.originalItemData.url)}`;r.content=l(r.content,t.originalItemData.clickUrl+e),i(n(r.content),r)}else{const n=function(){try{const n=location.search.slice(1).split("&"),t={};return n.forEach(n=>{const[e,r]=n.split("=");t[e]=r}),JSON.parse(JSON.stringify(t))}catch(n){return{}}}();o(r=r||s({contentToParse:d,isRtb:t.isRtb,queryStringObj:n}),u("height"),u("width"))}}catch(n){e({name:"error-dynamic_content_loader",data:{errorMessage:n}})}}function l(n,t){return t?(-1!==(n=(n=n.replace(/%%CLICK_URL%%&url/g,"%%CLICK_URL%%&xgl=")).replace(/%%CLICK_URL%%/g,t)).indexOf("CLICK_URL")&&e({name:"error-click_url_replace",data:{content:n}}),n):n}const m={URL:"url",MARKUP:"markup"};window.TBC=window.TBC||{},window.TBC.cmd=window.TBC.cmd||[],window.addEventListener("message",function(n){const t=n.data;t&&t.shouldInit&&d(t)}),window.document.documentMode&&d({contentString:window.name})}(); <\/script> </head> <body style=\'margin: 0\'>sponseTo(wi.add(e.iframe),super.register())}}};var postMessenger_es6={consueout(()=>{e.postMessage(t,"*")},0)}const singleArrayReducer=yReducer,[t]?`${t}: ${e[t]ipping(window.document.)}}`])e,t)=>e?`${t}{${e}}`:t)).join("\n");var styleInjector_utils_es6={getAllFontFaces:getAllFontFaces,getFirstComputedStyles:getFirstComputedStyles,unzip:unzip};cot.head.apt(t))),super.messageHandler(e,r)}}};var styleInjector_es6={consumer:consumer,producer:producer};const classTreeFactory$1=new ClassTreeFactory,mainIframeConnector=classTreeFaCounningTask.cancel(),this.tasks=[]}}TRC.TasksExecutorQueue=TasksExecutorQueue,ject"=length>=""/g,'"'))}e.forEach(e=>{(/&gt;/g,">g,"&quot;").replharAt(0).toLurn r=(r=le}}TRVisibilitpateTch(s.TRCBulkLoeuse-view-id"]&&r)}"==variant"];return!(gyBackData:r=>r.global[t]&&e?e:""}})();const _globalsAuctions={};let initPrebidEv.bidders&&void 0!=rtb2Imp:n,biddereader_bidding"rency:a,cur.bidderData.winSize=n,e.winner=!0}},updateMissedAuctions$1=(e,t,r)=>{const i=[];return r.getEvents().filter(e=>"auctionEnd"===e.eventType||"bidWon"===e.eventType).forEach(r=>{if(r.args.timestamp<e)switch(r.eventType){case"auctionEnd":addAuctionData(r.args,t),i.push(r.args.auctionId);break;case"bidWon":addWinData(r.aforEach(e.debug("test"),addBidsData$1(e,t)}function addEventListeners(){const e=[];let t=!1;setTimeout(()=>{t=!0},8e3);const r=()=>{const i=window._pbjsGlobals||[];i.length>0&&i.forEach(t=>{e.includes(t)||(addSingleEventListener(t),e.push(t))}),t||setTimeout(()=>rtions[e]||(_globalsAuctions[e]={})bug("test1"),addEventListeners())}const MODULE="vignette",PREFIX="taboola",SHORT_PREFIX="tbl",SHORT_NAME=`${SHORTtorName=e=>[SHORgetPropertyName=e=>`${MODULE}-${e}`;var CONSTANTS$1={SHORT_NAME:SHORT_NAME,MODULE_NAME:`${PREFIX}-${MODULE}`,FORCE_PARAM:SHORT_NAME,MIXPANEL_PROJECT_ID:"8f908b612eebb4c2386577e264b153fa",SCANNING_LOGIC_NEW:"new-scanning",SELECTORS:{CONTAINER:SHORT_NAME,RBOX_CONTAINER:"trc_rbox",SHOW_VIGNETTE:getSelectorName("show"),TABOOLA_VIGNETTE_HANDLED:getSelectorName("handled"),OPPORTUNITY_VIGNETTE:getSelectorName("opportunity"),ATTRIBUTION:getSelectorName("attribution"),DESKTOP_DISCLOSURE:`.trc_desktop_disclosure_link`,CLOSE_BUTTON:{WRAPPER:getSelectorName("close-btn-wrp"),SVG:getSelectorName("close-btn")},BLOCK_CLICKS:getSelectorName("unintentional-clicks"),ACTION_BUTTON:{BASE:getSelectorName("btn"),OPEN:getSelectorName("btn-open"),CLOSE:getSelectorName("btn-close"),WRAPPER:getSelectorName("btns-wrp")},BACKGROUND:{BASE:getSelectorName("background"),CONTAINER:getSelectorName("background-container"),IMG:getSelectorName("background-image"),SCREEN:getSelectorName("background-screen")},LOADER:{WRP:getSelectorName("loader-wrp"),SVG:getSelectorName("loader")},TABOOLA_LINKS:{ITEM_LABEL:"item-label-href",ITEM_THUMBNAIL:"item-thumbnail-href"}},EVENTS:{BEFORE_LOAD:"before-load",SCRIPT_LOADED:"script-loaded",LINK_CLICKED:"link-clicked",CONTAINER_VISIBLE:"container-visible",MISSED:"missed",CLOSE:"close",REDIRECT:"redirect",SESSION_STORAGE_UNSUPPORTED:"session-storage-unsupported",SKIP_VIGNETTE:"skip-vignette"},DEFAULT_EXCLUDE_BY_SELECTORS:[".item-label-href",".item-thumbnail-href"],CSS_PROPERTIES:["screenBackgroundColor","screenBackgroundOpacity","xButtonSize","xButtonBackgroundColor","xButtonColor","xButtonPosition","closeButtonFontSize","closeButtonFontColor","closeButtonFontFamily","closeButtonBackgroundColor","closeButtonHoverColor","closeButtonText","openButtonFontSize","openButtonFontColor","openButtonFontFamily","openButtonBackgroundColor","openButtonHoverColor","openButtonText","buttonsTopSpacing"].map(getPropertyName),SIZES:{DESK_SCREEN_VIGNETTE_RATIO:2.55}};const{MODULE_NAME:MODULE_NAME,EVENTS:EVENTS,MIXPANEL_PROJECT_ID:MIXPANEL_PROJECT_ID,FORCE_PARAM:FORCE_PARAM,SCANNING_LOGIC_NEW:SCANNING_LOGIC_NEWsTrue(e["is-syndicated"]))}sendEvent(e,t){const r=`${MODULE_NAME}-${e}`;this.forceDebugMode||(TRCImpl.sendAbTestEvent(r,JSON.stringify(t)),window.mixpanel&&TRC.Mixpanel.sendMixpanelEvent(r,t))}onError(e,t,r,i=__trcError){i(`Error::prod ${MODULE_NAME}-${e} ${t}`),window.mixpanel&&TRC.Mixpanel.sendMixpanelEvent(`${MODULE_NAME}-prod-error`,{erj)} with ${t.type}=${t.obj}`)}}const ON_HIDE_STR="("cpu usage")>0?"cpu":e:"unknown"}}const ID_PROVIDERS_STORAGE_KEY="idproviders",EXTERNAL_PARTNERS_IDS_ATTRIBUTE_NAME="rbox:rtb:real-time-user-sy"true"===r)}catch(e){return!1}acements[e]=t,t}}TRC.Hp4uManager=e})();const _globalsAuctionsV3={};let initPrebidEvents=!0,crawlerID=0,firstAuctionFound=!1,firstAuctionReported=!1,firctionId=t[r].args.auctionIstAuctionReported=oid 0!==n[`${r}&&${i}`].bidders[o]},buildBidder=e=>{const t={};return t.bidder=e.bidder,t.isWinner=!1,t.madeOffer=!1,t.noBIdOf taboola bidder not found",e)}},buildAdUnit=e=>{const{bids:t,code:r,ortb2Imp:i,transactionId:o}=e,n={};return n.adUnitCode=r,n.transactionId=o,n.ortb2Imp=i,n.tagId=null,n.winnersCount=0,n.bidders={},t.forEach(e=>{"taboola"===e.bidder&&updateTaboolaTagId(n,e),n.bidders[e.bidder]=buildBidder(e)}),n},buildAuction=(e,t)=>{const{auctionId:r,timestamp:i,auctionEnd:o,elapsedTime:n,adUnits:a}=e;if(_globalsAuctionsV3[t]){_globalsAuctionsV3[t][r]={};const e=_globalsAuctionsV3[t][r];e.auctionId=r,e.crawlerInstanceID=crawlerID,e.timestamp=i,e.auctionEnd=o,e.elapsedTime=n,e.isFirst=!1,e.instance=t,e.version=_globalsAuctionsV3[t].version,e.adUnits={},a.forEach(t=>{const{code:r,transactionId:i}=t;e.adUnits[`${r}&&${i}`]=buildAdUnit(t)})}},sendAuctionDataV3=(e,t,r,i=!0)=>{if(_globalsAuctionsV3[t][e]){const o=_globalsAuctionsV3[t];i&&!firstAuctionFound&&setFirstAuctionId(r),updateIfFirstAuction(o[e]),o[e].requestId=generateUUID();const n=JSON.stringify(o[e]);if(isStringValid(n)){const t={auction:n};TRCImpl.sendEvent("prebid-crawler",null,t,!1,null,3e3,!break}}if(nulltring"==typeiginalCurrenc.winSize=n,e.bidders[r].winner=!0}},updateMissedAuctions=(e,t,r)=>{cone.eventType||"bidWon"===e.eventType).forEach(r=>{if(r.args.timestamp<e)switch(r.eventType){case"auctionEnd":addAuctionDataV3(r.args,t),i.push(r.args.auctionId);break;case"bidWon":addWinDataV3(rach(e=>{se),t||setTimeout(()=>r(),1e3)};r()}const addPbjsToModel=(e,t)=>{_globalsAuctionsV3[e]||(_globalsAuctionsV3[e]={},_globalsAuctionsV3[e].version=t.version)},TIME_TO_WAIT_FOR_WIN_EVENTS=2e3;function addSingleEventListenerV3(e){const t=window[e];t&&"function"==typeof t.getEvents&&(addPbjsToModel(e,t),t.onEvent("auctionEnd",(r,i=e)=>{const{auctionId:o}=r;ad.set(()=>{sendAuctionDataV3(o,i,t)},TIME_TO_WAIT_FOR_WIN_EVENTS)}),t.onEvent("bidWon",(t,r=e)=>{addWinDataV3(t,r)}),catchUpV3(Date.now(),e,t))}function scanPrebidEventsV3(){initPrebidEvents&&(initPrebidEvents=!1,crawlerID=generateUUID(),addEventListenersV3())}!function(win,doc){var TRANSPORT_FORM_Ece("<dc>",t.toLocaleLowerCase()))}}var Manager=TRC.Manager=function(e,t){this.feedsManager=new window.TRC.FeedsManager(this),this.storiesManager=new window.TRC.StoriesManager(this),this.hp4uManager=new window.TRC.Hp4uManager(this),this.totalModeCounter=0,tenable-trc-cache"]=!1)}catch(e){}}this.numOfResetCssDivs=3,this.eventLogger=[],this.eventCounter={},this.NO_CONTENT={noItems:"NO_ITEMS",mute:"MUTE",error:"ERROR",timeOut:"TIMEOUT"},this.cloudinarySortedRatios,this.cachedResponses={},this.pendingRequests=[],this.iframePixelReporter,this.virtualPlacementsManager=new TRC.eloadRequestLoad container on E0!==this[t]&&thormalize-item-id"])),this.itemid=e},this.getGlobalRequestId=function(){return TRC.events_ri},this.getGlobalSessionData=function(){return TRC.session_data},this.getSessionId=function(){return this.sessionId},this.getPlatformCode=function(){return turn TRC.pageManager.getRefxOf("&"))),this.ide?this.calculale?e.origin.toString():"tracke_name,"rows");return t?t*(r||1):0);return{listSize:r,rule:r?n:nu"px)"))).matches)return i.mize"]=e.AutoSizeRule.n*e.rows+r):le.Wi=t,e.AutoSimalize-item-url"]))AMP?win.context:win).lem-id"]);return (e){return e?e.split(/tring().toLowerCa.callbacks[t]=e,"TRC.crcError("TRC.formatTRCRequest",e)}},this.setGlobalParmas=function(e,t){var r=e,i=TRCImpl?TRCImpl.global:{};r.setItemId(this.getItemId()),r.setTemplate(TRC.pageTemplate),r.setItemType(t||this.getItemType()),r.setSessionData(this.getSessionData(TRC.session_data)),r.setUserId(this.getUserId(TRC.user_id)),i["store-userid-first-party-cookie"]&&r.setUserIdFirstPartyCookie(TRC.pageManager.getUserIdFirstPartyCookie()),r.setLoaderBuildTime(this.global.bakeTime),r.setViewId(TRC.pageManager.getPageData()),r.setClientVersion(this.version),r.setPublisherVersion(this.getPublisherVersion()),r.setItemUrl(this.getItemUrl()),r.setDeviceId(this.deviceId),r.setUnifiedId(this.unifiedId),r.setUserType(this.userType),r.setPaywall(this.paywall),r.setPremium(this.premium),r.setAdvertorialSource(this.advertorialSource),r.setExternalPageView(this.external_page_view),r.setBlockVideoLoader(this.blockVideoLoader?"1":"0"),r.setWebComponentsAvailability(GenericWebComponent.isAvailable),r.setUserLanguages(this.getUserLanguages()),i["load-user-agent-data"]&&r.setUserAgentData(this.getUserAgentData()),r.setExperimentVariant(this.getExperimentVariant(this.getSystemFlag("experimentID"))),this.consentState&&(r.setCmpStatus(this.consentState.cmpStatus),r.setGdprApplies(this.consentState.gdprApplies),r.setConsentDaisyBit(this.consentState.consentData),r.setConsentTcString(this.consentState.tcString,this.global["max-tcs-size"]),r.setGdprWasTimeout(this.consentState.wasTimeout)),TRC.consentData&&(r.setCmpStatus(TRC.consentData.cmpStatus),r.setGdprApplies(TRC.consentData.gdprApplies),r.setConsentDaisyBit(TRC.consentDatetUSPData(function(e){TRC.ccpaPs=e}),r.setCex(TRC.cexConsentData),r.setCcpaDns(TRC.ccpaCdns),r.setCcpaPs(TRC.ccpaPs),r.setExcludedPublishers(TRC.exp),r.setGeoCoordinates(TRC.geo),r.setBlockThumbnailVideoLoader(this.blockThumbnailVideoLoader?"1":"0"),r.setGoogleTopicsApi(i["topics-enabled"]),void 0!==navigator.connection&&(r.setConnectionType(navigator.connection.type),r.setConnectionSpeed(navigator.connection.effectiveType)),r.setPageLevelFeature(TRC.pageLevelFeaturesManager.pageLevelFeatures),r.setTrcPiggyBack(TRC.TrcRequestPiggyBack.getPiggyBackData(this));var o=i["oc-recrawl-settings-"+TRC.publisherId];if(this.validateRecrawlSettings(o)&&r.setItemRecrawlData(this.getAutoRecrawlData(o.fields)),r.setCseg(TRC.cseg),this.global["pass-browser-url"]){var n=this.getBrowserUrl();r.setBrowserUrl(n),r.setUrlVideoPubId(this.getUrlVideoPubId(n))}r.setBlockerList(this.global["blocker-list[r]=e[i],e[i]=e[r],e[i]..util.hasKeys(t)&&e;case"v":case"r":default:return ame)),i.push(o.getAll()));retuPlacementParamsDecorators(i,e,r),i}t.fti&&e.setFeedTemplatepage geometry")}catch(t){e.bad=-5etry extended")}catch(t){e.bad+e.getAll().uim)}catch(t){e.cd=-Width(e);return e.rn e.getBoundingClientReceturn t;return-2;default:retu(t,"bottom"):-2}catch(t]+TRC.dom.getPageVerticalSuest),TRC.adFirstRequestSent=!0ersData();e.setIdProvidersData(t)eURIComponent(e[r]))}),t.join("&")}f("h2")&&e.setItemId("_hometem_type),e.setInsive")?this.computemb-ratio="+n+",thumb-width="+aC.math.roundByDecimal(i*rmDispatchLoadRequest.bind(s.getProperty(null,"timeoe).concat([!0]))}.trcBind(this),atchLoadRequest.trcBind(thative_domain){t=!0;br.pageManager.getForceT,s,this)&&(e.vi=a.viewI"using cached recommennt&&(i+="&trc_evi=21|1434|2154"),i},this.abortLoadRequest=function(e,t){e?TRC.EventsAPI.dispatchNoContent(TRCImpl.NO_CONTENT.timeOut):TRC.EventsAPI.dispatchNoContent(TRCImpl.NO_CONTENT.error),Objecailed=!0,this.internalDrawRBox(i)}},this),this.clearPreloadRequest&user.opt_out="+this.userOptOutoadRBox"),this.abortLoadReqt){return!e.new_uip||t==boola-rbox/1/um/?"+r.join("&"),i}}},this.handleLoadResponse=function(e,t,r){TRC.performance&&TRC.performance.mark("handleLoadResponseStart",null,"handleLoadResponse","","handleLoadResponse",TRC.PerfEvenType.START),this.global["disable-delta-mode-switch"]||TRC.deltaModeAdapter.switchModeNamesIfInDeltaTest(this,t),this.cssLiteInject&&TRC.css.utils.bakeCss(t,this),TRC.ItemOverride.run(this,t,"pv3prase",TRC.PerfEvenType.STOP)}try{if(TRC.tlf&&console.timeStamp("start handleLoadResponse(pv3)"),TRC.tlf&&console.time("in handleLoadResponse"),TRC.performance&&TRC.performance.mark("6.0.1",null,"TrcPv3","","pv3prase",TRC.PerfEvenType.START),TRC.pConsole("recommendations","info","recommendations response",t,t.trc.verbose?"verbose":"object"),TRC.pConsole("","time","recommendations loaded",""),TRC.utm.push((new Date).getTime()-TRC.utm.start),t&&t.trc&&t.trc.f)for(var a=Object.keys(t.trc.f),s=0;s<a.length;s++){var l=a[s];if(this.feedsManager&&this.feedsManager.feeds&&this.feedsManager.feeds[l]){var c=this.feedsManager.feeds[l];if(c&&c.infiniteScrollEngine&&c.infiniteScrollEngine.preventReachingTheFooter){var d=c.infiniteScrollEngine.preventReachingTheFooter;d&&d.lateRenderEnabled&&c.infiniteScrollEngine.preventReachingTheFooter.handleBatch(e,t)}}}if(t&&t.trc&&t.trc.ui){this.watchedItem=t.trc.wi,this.globaleRequestId=t.trc.vl&&t.trc.vl.length?t.trc.vl[0].ri:this.globaleRequestId,TRC.events_ri=this.globaleRequestId,TRC.session_data=t&&t.trc?t.trc.sd:null,TRC.platform_code=t&&t.trc?t.trc.plc:null,TRC.user_id=t.trc.ui||null,TRCelegator.dispatch("user_id_ready")},0):TRC.eventDelegator.dispatch("user_id_ready"),TRC.eventDelegator.dispatch("user_id_ready");var p=TRC.util.parseTimeout(this.global["defer-cookie-sync"]);t.trc.stp&&(-1===p?TRC.dispatch("send_user_id",t.trc.stp):setTimeout(function(){TRC.dispatch("send_user_id",t.trc.stp)},p)),t.trc.jst&&(-1===p?TRC.dispatch("loadatch("load_script_tags",t.trc.jst)},p)),TRC.responseLoaded=!0,TRC.alertVVResponseLoaded&&TRC.alertVVResponseLoaded(TRC.version)}if(TRC.CustomModulesManager.getCustomModulesFromResponse(t,this),!TRC.BlockClicksManager.BCA&&TRC.BlockClicksManager.getBlockClicksFromResponse(t),!(t&&t.trc&&t.trc.vl&&t.trc.vl.length))return TRC.externalLoadRequest||(__trcError("Invalid response from server: "+t),TRC.MetricsManager.sendMetricsEvent(TRC,this,{name:"EmptyResponse",value:"1",type:"counter"},null)),void this.abortLoadRequest();t.trc.tc&&!TRC.taboolaConsole&&TRC.Manager.prototype.loadExternal("//c2.taboola.com/console/console_loader.js","js"),TRC.UserIdMerger.notifyPossibleUserChange(this,TRC.publisherId,t.trc.ui,t.trc.sd),t.trc.cm||TRC.pageManager.storePublisherValue(TRC.publisherId,"session-data",t.trc.sd),TRC.TrcRequestPiggyBack.setPiggyBackData(t,this),TRC.translationManager.setTranslations(t.trc.tslt),t.trc.DNT&&"TRUE"===t.trc.DNT.toUpperCase()?(TRC.doNotTrack=!0,TRC.pageManager.removeAllKeys(),TRC.pageManager.removeUserId()):(TRC.pageManager.storeUserId(t.trc.ui,t.trc.cm),!0!==o["store-sessiondata-first-party-cookie"]&&"true"!==o["store-sessiondata-first-party-cookie"]||TRC.pageManager.storeSessionId(t.trc.sd,t.trc.cm),TRC.pConsole("page","debug","Storing user-id: "+t.trc.ui)),this.sendUserIdsMapping(t),e&&(this.trcCache.cacheResponse(e,t,TRC.pageManager.state.moreDispatchParams),this.cachedResponses[e]=!0),o["disable-page-level-feature"]||TRC.pageLevelFeaturesManager.getFeature(t),n.call(this),this.global["enable-old-preloadRequestLoader"]?this.handleLoadResponseFailure():this.checkPreloadRequest(),TRC.util.isPercentEnabled(this.global,"header-bidding-enabled")&&(scanPrebidEvents(),this.global["header-bidding-v3"]&&scanPrebidEventsV3()),this.triggerAfterHandleLoadResponseCustomModuleHook(e,t,r),TRC.dispatch("trcResponseHandled",{res:t}),TRC.performance&&TRC.performance.mark("handleLoadResponseStop",null,"handleLoadResponse","","handleLoadResponse",TRC.PerfEvenType.STOP)}catch(e){__trcError("Error in TRC.handleLoadResponse : ",e)}},this.triggerAfte-load-response",null,this,[e,t,r])},this.parseResponse=function(e,r){var o,n,a,s,l,c={},d,p,h,u=e.trc.vl;this.yieldingEnabled=i(this.preloadRequest,this),this.testData=e.trc.td,this.experimentsData=e.trc.evi,this.experimentsHash=e.trc.evh,this.sourceCategory=e.trc.scat,this.visibleOnItemLevel=e.trc.voil,e.trc.vpl&&(this.virtualPlacementsManager.response=e.trc.vpl);var m=this.parseClientGenericAction(e,"cga"),g=this.parseClientGenericAction(e,"dcga"),b=this.parseClientGenericAction(e,"vcga");this.initCcpa(m,e),this.configOverrides.initPubConfigGenericActionOverride(m,g,b);var f=VignetteManager.getVignetteConfig(m,e,this.global),v,C;if(this.renderController.setLazyConfig(),this.renderController.setPlacementsConfig(e.trc.lzr),this.enableTrcRoute&&(d=e.trc.route)&&(this.trcRoute=d),this.enableLoaderCacheBuster)try{window.fetch&&window.Request&&"deflated"===this.systemFlags.loaderType?(v=TRC.PROTOCOL+"//cdn.taboola.com/libtrc/"+t.publisher+"/loader.js",e.trc.lfr&&(C=new Request(v,{cache:"reload",mode:"no-cors"}),fetch(C))):__trcDebug("Cache Bust not supported")}catch(e){__trcError("failed to run cache busting on this browser on: "+v,e)}if(initEventsRedirectParams.call(this,e,p,h),this.enableExperimentsVariantIdEvent&&this.experimentsData&&this.buildExperimentsVarian.filter(function(e){return!!e.stpl});this.storiesManager.createNewStories(e.trc,T.length)}var y=e.trc.f;for(TRC.isAMPSplitFeed&&(y?(this.ampSplitFeedManager.updateFeedIndexAndBatch(e),this.ampSplitFeedManager.cacheOrAssignFeedResponseData(e)):__trcWarn("AMP split feed detected but response don't have feed")),__trcCopyProps(y,this.feedsManager.configs),this.renderController.addResponse(e),a=0;a<u.length;a++){var R,w;if(s=u[a],VignetteManager.isVignettePlacement(f,s.uip))if(!VignetteManager.initVignetteIfNotExists(f,s,this))continue;if(this.global["force-set-reco-reel-container"]&&TRC.RecommendationReel.isPlacementRecoReel(u[a],this)&&TRC.RecommendationReel.setContainerForRRPlacement(u[a],this.preloadRequest,e.trc.f),s.pcp&&TRC.isAMPSplitFeed&&this.ampSplitFeedManager.handlePubCardInResponse(e,a),o=s.uip,this.global["disable-skip-placement"]||!this.shouldSkipPlacement(s,e))if(this.sessionId=e.trc.si,void 0!==(n=this.getOrCreatePlacementData(o,s)))if(n.unifiedPlacement=s.uuip,n.globalTrcResponseJSON=e.trc,n.trcResponse=s,this.currentRecommendation=s,!TRC.fallbackApi.shouldRenderPlacement(s,this.preloadRequest)||killSwitchEnabled(s,e.trc.op))TRC.EventsAPI.dispatchPlacementNoRendered(n,"notAllowedToRender");else if(o.search("rbox-tracking")>=0)n.response=this.formatPlacementRecommendations(e,a);else if(this.feedsManager.hasFeedConflict(o,s.fpl))__trcWarn("Feed conflict detected for '"+o+"' with feed placement '"+s.fpl+"' and test data '"+this.td+"' and '"+JSON.stringify(this.experimentsData)+"'"),TRC.EventsAPI.dispatchNoContent(TRCImpl.NO_CONTENT.noItems,o,!0);else{if(s.et&&(n.expandOptions=this.getExpandOptions(s)),n.isCache=r,e.cachedViewId&&(n.cachedViewId=e.cachedViewId),s.fpl){if(this.feedsManager.invalidFeedsMap[s.fpl])continue;if(this.feedsManager.handleFeedCardPlacement(s,n),!n.parentFeed)continue}else s.stpl?this.storiesManager.handleStoryPlacement(s,n):s.hpl&&this.hp4uManager.handleHp4uPlacement(s,n);if(TRC.isAMPSplitFeed&&!0===this.ampSplitFeedManager.shouldBreakForAMPSplitFeed)break;if(!n.scriptData&&!n.publisherCardData)if(s.es)TRC.ExternalContainerAppender.move(s.es,n.container);else if(this.isStandaloneVideo(s))n.videoTagLoader=new TRC.VideoTagLoader(this,s.vtag,n,null,{"session-data":e.trc.sd,req:s.ri}),n.videoTagLoader.loadVideo();else if(l=this.formatPlacementRecommendations(e,a,c),n.response=l,this.addFormattedResponseToWidgetAddedFromTrc(s,l,n.addWidget),n.response){n.dc&&delete n.dc;var _=l.trc["video-list"];TRC.FloatingUnitGenerator.isFloatingUnit(_)?this.floatingUnitGenerator=new TRC.FloatingUnitGenerator(l,n,this):(_&&(n["container-selectors"]=_["container-selectors"],n["render-on-orig-container"]=_["render-on-orig-container"]),!s.fpl&&TRC.FeedViewWidgetLoaderManager.isFeedViewWidget(this,n)&&new TRC.FeedViewWidgetLoaderManager(n),this.initRBoxDrawingIfPlacementEligible(n))}}else __trcWarn("Invalid placement in server response "+o);else __trcDebug("'parseResponse' : Skip on placement '"+o+"'")}if(c.text&&(TRC.cssStack?TRC.cssStack.addStyle("override",c.text,TRC.styleInjected):TRC.dom.injectStyle(c.text)),this.yieldingEnabled){var x=this.global?this.global:{},E=x["yield-delay"]?x["yield-delay"]:0;this.executeRBoxDrawQueue(E)}TRC.unmaskedIpParserboolaConnect.createCard(i)}},thi"display-ad-to-native"]&&t&&t.rbObj;return!!e.iframeData||!!r||!!i},this.getTaboolaConnectCardConfig=function(e,t){var r=e.trcResponse&&e.trcResponse.config,i=e.trcResponse||{},o=i.cd||{},n=e.iframeData||{},a=t&&t.ifrObj||{},s=n.config||r||a.config||{},l="tb-jp"===this.language?"ja-JP":this.language,c=n.url||i&&i.url||a.url,d=this.getItemSignature(i),p;t=t||(n&&n.v?n.v[0]:{});var h="";if(s.isRtb=null,t||i.v&&i.v.length>0){p=t||i.v[0];var u=e.multiWidgetModeLevelData&&e.multiWidgetModeLevelData.RBox?e.multiWidgetModeLevelData.RBox.id:e.container._trcRboxId,m=this.boxes[u],g="true"===p["is-rtb"];if(s.isRtb=g,!m){var b=g?"-rtb":"-non_rtb";return TRC.MetricsManager.sendMetricsEvent(TRC,TRCImpl,{name:"HTML-error-no_rbox"+b,value:"1",type:"counter"},null),null}p=__trcCopyProps(p,{},{isSyndicated:p["is-syndicated"]||p["is-in-network"]||p["is-native"],isPhoto:"photo"===p.type,isText:"text"===p.type,imageIframe:p.hasOwnProperty("image-iframe")&&p["image-iframe"],tags:"string"==typeof p.tags?TRC.text.parseCSV(p.tags):[],placement:m.placement,mode:m.mode}),0===Object.keys(t).length&&(t=p),h=m.createVideoBoxClickUrl(p)}return{itemData:p,container:e.container,src:c,config:s,placementName:e.placement,language:l,clickUrl:h,rvMargin:!!(t&&t.rvpm&&t.rv)&&t.rvpm,maxPixelPerSecond:this.getPixelPerSecond(t),localDynamicContentLoader:!0,renderBannerAsNative:this.shouldRenderBannerAsNative(e,t),uniqueId:d||"",height:o.ch||0,wi.v[0].rvpm&&(e.v[0].sigs:this.global["display-rv-maxpps"]},thisenderController.placementRender(e)},this.buildExperimentsVariantIdParams=function(){var e=this.global["rbox-reported-experiments-layers"]||[2,6,48,50];this.experimentsVariantIdParamsStr="",this.experimentsVariantIdParamsMap=ObjecxperimentsData[r].split("|")[1]),t}.trcBind(this),{}),TRCImpl.experimentsVariantIdParamsStr=this.experimentsVariantIdParamsStr=TRC.TRCLogger.formatParams(this.experimentsVariantIdParamsMap)},this.addFo.preloadRequest[e.uip].rer when trying to move "+t),null))},this.getnd valid container",e)}return null},this.getOrCreateContainer=function(e,t){var r=e.container,i=e.shouldCreateContainer,o=doc.querySelectorAll(r);if(o&&1===o.length){TRC.util.isTrue(i)&&(e.shouldCreateContainer=!1,o=[this.createNewContainer(e.location,o[0],e.id)]);var n=this.ensureValidContainer(o[0]);if(n===t)return t;if(n)return e.isFloatingUnit||this.cleanContainerClasses(t),n}else TRC.dispatch("vp-selector-n))&&t.insertAdjacentElemenreturn"afterend";default:rees=function(e){e&&(e.classvideo-list"]["test-variant"]=i.t,o},this.formatPlacementRecommendations=function(e,t,r){var i=e.trc.vl[t],o,n=this.preloadRequest[i.uip]||{},a={trc:{req:i.ri,"session-id":e.trc.si,"session-data":e.trc.sd,"user-id":e.trc.ui,"watched-item":e.trc.wi,"country-code":e.trc.cc,"test-variant":e.trc.t,"is-provider":!!e.trc.iframeData,uvpw:e.trc.uvpw,placement:i.uip,mode:n.mode,DNT:e.trc.DNT,cpb:e.trc.cpb,sl:e.trc.sl,pi:e.trc.pi,bdp:e.trc.bdp,ppb:i.ppb,"test-data":e.trc.td,"placement-group":i.pg,"organic-personalization":e.trc.op}};return(i.prty||i.caty)&&(a.trc.prty=i.prty,a.trc.caty=i.caty),e.cached&&(a.cached=!0,a.cachedViewId=e.cachedViewId),i.dc&&"tbl"!==i.typ?a.trc.tag=i:a.trc["video-list"]={video:i.v,"base-mode":i.m,"test-variant":i.t,"properties-override":i.po&&TRC.util.jsonParseCustomNative("{"+i.po+"}")||null,"container-selectors":i.cs,"next-up-widget":i.nup,"removed-widget":i.rw,"taboola-reminder":i.tr,"render-on-orig-container":i.rooc,vtag:i.vtag,pvc:i.pvc,"content-hub-forced-placement":!!i.chf},e.trc.cm&&(a.trc["consent-missing"]=e.trc.cm),(o=i.csso)&&(r.text=this.getModeOverrideCss(r,o,n)),i.fpl&&(a.feedPlacement=i.fpl),e.trc.evi&&(a.experimentsData=e.trc.evi),this.addVariantPropert,"",null)}return e.ernal(this.spotlightin.TRC.sharedObjects&(this.manualVisibilityTrigger=!0)},this.init=function(e){TRC.tlf&&console.timeStamp("init TRCImpl");var i=TRC.URL.prototype.getParameter.call(location.href,"trc_abp"),n;if(__trcCopyProps(e,this),TRC.util.hasKeys(this["trc-network-mapping"])){TRC.networkId=TRC.publisherId,this.shiftPublisherId(this["trc-network-mapping"]);var a=this["network-pubs-global"];a&&a[TRC.publisherId]&&TRC.util.merge(this.global,a[TRC.publisherId])}t.framework&&this.initFrameworks(t.framework),this.boxes={},this.unique_placement_count={},this.tags=[],this.metadata={},this.trcRequestDelay=this.global["trc-request-delay"]||r,this.trcByPass=!0===this["trc-skip-failover"],this.enablePageGeometry=this.global["has-page-geometry"],this.enablePageGeometryExtended=this.global["has-page-geometry-extended"],this.enableSlotsGeometry=this.global["has-slots-geometry"],this.enableSlotsSaliency=this.global["has-slots-saliency"],this.cssLiteInject=this.global["enable-mode-injection"]&&!(window.navigator&&"string"==typeof window.navigator.userAgent&&/(iPhone|iPad)(?=.*AppleWebKit)(?!.*CriOS)/i.test(window.navigator.userAgent)),this.spatialSlotsThrottleMax=this.global["spatial-slots-throttle-max"],this.spatialSlotsThrottleTH=this.global["spatial-slots-throttle-th"],this.spatialSlotsThrottleTHPerPage=this.global["spatial-slots-throttle-th-per-page"],this.enablePlacementGeometry=this.global["has-mode-geometry"],this.maxRetriesPerFailedPlacementRequest=this.global["max-retries-per-failed-placement-req"]||1,doc.browsingTopics&&this.global["topics-enabled"]&&TRC.ModuleLoader.load("google-topics-api",TRC.GoogleTopicsApi,function(){}),this.configForPostEvent={available:this.global["send-avail-as-post"],visible:this.global["send-event-as-post"],"new-visible":this.global["send-event-as-post"],explore:this.global["send-explore-as-post"],"content-hub-available":this.global["send-avail-as-post"],"content-hub-visible":this.global["send-event-as-post"],"content-hub-explore":this.global["send-explore-as-post"],"required-viewability-available":this.global["send-rv-avail-as-post"],perf:!0,"rtb-win":!0,metrics:!0,"api-rtb-win":!0,"prebid-crawler":!0},this.configForGetEvent={available:this.global["send-avail-as-get"],visible:this.global["send-visible-as-get"],"new-visible":this.global["send-visible-as-get"],explore:this.global["send-explore-as-get"],"content-hub-available":this.global["send-avail-as-get"],"content-hub-visible":this.global["send-visible-as-get"],"content-hub-explore":this.global["send-explore-as-get"],"required-viewability-available":this.global["send-rv-avail-as-get"],perf:!1,"rtb-win":!1,metrics:!1,"api-rtb-win":!1},this.trcRoute=null,this.enableTrcRoute=!0===this.global["enable-trc-route"],this.enableLoaderCacheBuster=!0===this.global["enable-loader-cache-buster"],this.eventTypesToRoute=this.global["event-types-to-route"]||[],this.enableTrcEventRoute=this.eventTypesToRoute.length>0,this.trcEventRoute=this.enableTrcEventRoute?this.global["default-event-route"]||!1:null,this.enableTrcEventRouteExperiment=!0===this.global["enable-trc-event-route-experiment"],this.enableExperimentsVariantIdEvent=this.global["enable-experiments-variant-id-event"],this.enableLoaderTypeEvent=this.global["enable-loader-type-event"],this.isDeferredAvailable=this.global["enable-deferred-available"],this.enableExpoImageTag=!1!==this.global["enable-expo-img-tag"],this.trcParams=TRC.pageManager.additionalDispatchParams(),this.trcCacheClean=this.global["clean-trc-cache"],o(this.global),this.trcCache=this.global["enable-trc-cache"]?new TRC.TrcCache(this.global["trc-cache-conf"]||{}):null,this.trcCacheItemType=this.global["trc-cache-it"],this.disableReadMore=!1===this.global["enable-read-more"]||!1===this.disableReadMore,this.blockVideoLoader=this.shouldBlockVideoLoader(this.global["block-video-prob"]),this.blockThumbnailVideoLoader=this.shouldBlockThumbnailVideoLoader(this.global["block-thumbnail-video-prob"]),this.global["enable-consent"]&&this.setConsentConfig(this.consentConfigOverride,this.global["con||"https://"+e+"."+t+"/backstage/"}.trcBind(this),i?this.setABPEmulation(i):this.global["abp-detection-enabled"]?TRC.blocker.blockedState=TRC.blocker.getBlockedState(this.global["abp-detection-class-names"]||["banner_ad","sponsored_ad"],this.global["abp-ignore-cached-state"]):TRC.blocker.blockedState=TRC.blocker.states.ABP_DETECTION_DISABLED,TRC.styleInjected||this.cssLiteInject||this.bakedStyelInjection(),this.domain=TRC.shiftDomain(this.global["requests-domain"]?this.global["requests-domain"]:"trc.taboola.com"),this.origin instanceof Array||(this.origin=[this.origin]),null!=this.userMetadata?this.metadata.user=__trcJSONify(this.userMetadata):void 0===win.trc_user_id?this.metadata.user=this["get-user"]():this.metadata.user=win.trc_user_id;try{TRC.pConsole("page","debug","Hook : publisher_start",this["publisher-start"].toString()),this["publisher-start"]()}catch(e){__trcError("Error running publisher-start",e)}try{TRC.DynamicModulesManager.executeDynamicModules("publisher-start",this.global)}catch(e){__trcError("Error running Dynamic module start",e)}this.metadata.uploader=this["get-creator"](),this.tags=this["get-tags"]();try{this.metadata.v=this["get-views"](),this.metadata.r=this["get-rating"]()s["get-"+e]():this.readMetaTag(e))}.trcBind(this))}catch(e){}if(this.initFraudDetection(),this.configOverrides=new ConfigOverrides(this),TRC.listen("send_user_id",this.sendUserIdTags.trcBind(this)),TRC.listen("load_script_tags",this.loadScriptTags.trcBind(this)),window.context&&window.context.data&&window.context.data.feedContainerNum&&parseInt(window.context.data.feedContainerNum,10)>=1&&(TRC.isAMPSplitFeed=!0,TRC.feedContainerNum=window.context.data.feedContainerNum),!!(!TRC.mobile||!TRC.mobile.reportClick)&&!TRC.isAMP&&TRC.util.isPercentEnabled(this.global,"spa-detection-enabled")){var sor.getInstance(this).sendSpaData()}),TRC.ModuleLoader.tInstance(this);s&&e.sendSpaData()}.trcBind(this))}TRC.util.isPercentEnabled(this.global,"guarantee-card-clash-detection")&&TRC.ModuleLoader.load("card-interference-detector",TRC.CardInterferenceDetector,function(){}),TRC.pageManager.initReferrer(this.global),this.renderController=new TRC.RenderControl(this),this.init=function(){},TRC.isPageLoaded=!1,this.trcCacheClean&&!this.trcCache&&(this.trcCache=new TRC.TrcCache({},!0),this.trcCache=null),this.listenToRenderedModes(),this.global["enable-always-track"]&&!TRC.pushedRboxTracking&&(l(),TRC.pushedRboxTracking=!0),TRC.adHeavyManager||(TRC.adHeavyManager=new AdHeavyManaableFraudDetection.trcBind(this)getSystemFlag("imaaboola.push({mode:e,container:t+t+"="+e[t],s["ex_"+t]=e[trn s||this.getLoaderTypesVa},{type:"custom",cssText:ix(e,null)):TRC.dom.iating Ad Blocker Plus .setConsentSource({source:"iab"}))},this.countTrcContainerMissint is Ready)":"")+"!")),null):null},this.getPublisherVersion=function(ub";case"v":default:rer.language?[navigator.n(){return TRC.this.delayedDnfo","user meta data ",e+this.unique_placement_c(e.response=null),e.or ooyala_activePanelChis.itemsToDrawWithoutOrderRC.dispatch("allrender.placement].container=e.containheckAMPSplitFeedFlagsAndIdRequest' : Skip on push reqquest(e),this.isPendingL},this.global["max-wait-for-cmp,this.global["matUSPData",r),tcError("Error in loadRBoxt=this.getAutoRecrawlValcrawlValue(i);o&&(t[r]=o)},thnabled(e,"sampleRate")&&r}return!1},this.getExperimentVariant=function(e){if(e)return e;if(TRC.pubExperiment){var t=this.global["publisher-experiments"];if(t&&t[TRC.pubExperiment])return t[TRC.pubExperiment]}},this.parseLoaderParams(t),TRC.dom.init(),this.init(e),this},protocol=TRC.PROTOCOL;TRC.recoRequestsQueue=new TRC.TasksExecutorQueue,Manager.prototype["list-size"]=0,Manager.prototype.MAX_RETRY=2,Manager.prototype.drawInterface=!1,Manager.prototype.delayedDispatchLoadRequest=null,Manager.prototype.invisible=!1,Manager.prototype.excludedItems=null,Manager.prototype.boxes={},Manager.prototype.itemid=null,Manager.prototype.itemurl=null,Manager.prototype.tags=[],Manager.prototype.metadata={},Manager.prototype.userMetadata=null,Manager.prototype.loadCalled=!1,Manager.prototype.unique_placement_count={},Manager.prototype.trc_url_auto_detection=nullwas set to - "+TRC.publisherId,"")},Maneset(),delete this.boxes[e]},tertiesOverride[t]:this.modlesManager.dispatchHook(r,t,e,ring(),"function"),o.apply(thirCase()&&(r=t[i].content)}retearch(this.getItemId())>=0?"s":"uder")||this.readMetaTag("creat.prototype["get-tags"]=function(){},TRC.implClasses=TRC.implClasse1),this.logGetTrcEvent(e,t,i,r,o)length)return!0}catch(e){}return!1},Manager.path.floor(100*Math.random()))<=t))},Man"failed to init fraud detection")rcEventImpl(this.domain,e,t,r,i,o)},M==t&&TRC.performance.mark("9.1.9")gPostTrcEventImpl(this.domain,e,t)},Ma==t&&TRC.performance.mark("9.2.9")}iframe>',doc.body.appendChild(t),r},Manaean"==typeof t||-1!==t.indexOf(e))},Mana}(o||i)&&this.logPostTre,t,r,i,o),this.eventCounter[a]t.loadScript.apply(null,arguments)},Manager.prototype.parseLoaderParams=function(e){Object.keys(e).forEach(function(t){var r=e[t];if("unknown"!==r)switch("auto"===r&&(r=""),t){case"visible":this.invisible=!("boolean"==typeof r?r:"false"!=r);break;case"video":win.trc_video_id=r,TRC.listOrigin.setSource("v");break;case"url":win.trc_item_url=r;break;case"mapUrl":win.trc_map_url=r;break;case"article":win.trc_article_id=r,TRC.listOrigin.setSource("t");break;case"category":win.trc_article_id=r,TRC.listOrigin.setSource("c");break;case"home":case"homepage":win.trc_article_id=r,TRC.listOrigin.setSource("h");break;case"search":win.trc_article_id=r,TRC.listOrigin.setSource("s");break;case"photo":win.trc_article_id=r,TRC.listOrigin.setSource("p");break;case"other":win.trc_article_id=r,TRC.listOrigin.setSource("o");break;case"content_hub":win.trc_article_id=r,TRC.listOrigin.setSource("z");break;case"link_target":this.link_target=r;break;case"video_source":this.video_source=r;break;case"callback":this.video_player_callback=r;break;case"player_reference":this.video_player_reference=r;break;case"target_type":TRC.listOrigin.setTarget(this.target_type=r);break;case"exclude":this.excludedItems=r instanceof Array?r:[r];break;case"tracking":this.tracking=r;break;case"referrer":TRC.pageManager.updateReferrer(r);break;case"amp_disable_resize":this.amp_disable_resize=r;break;case"user_opt_out":this.userOptOut=!(!r||"false"==r||"0"==r)||r;break;case"device":this.deviceId=r;break;case"unified_id":this.unifiedId=r;break;case"user_type":this.userType=r;break;case"paywall":this.paywall=r;break;case"premium":this.premium=!!r;break;case"advertorial_source":this.advertorialSource=r;break;case"external_page_view":window.TRCImpl&&TRCImpl.global["override-external_page_view"]&&(TRCImpl.external_page_view=r),this.external_page_view=r;break;case"tracking_codes":this.tracking_codes=r;break;case"additional_data":this.additional_data=r;break;case"ad_first_request":this.ad_first_request=r;break;case"framework":this.framework=r;break;case"iab_alternative_config":this.consentConfigOverride=r;break;case"consentMessage":TRC.consent.setConsent(r)}},this)},M=e)return t[r].content;return null},Managecall(this,e,r[i].href);return null}eturn t.call(this,e,o)}return null},Managanager.getCurrentURL().toString())},ll:t.call(this,e,win.trc_item_url).trc_video_id?"video":"text",d):t)},Manager.prototype.getEventParams=function(){return{ri:TRC.events_ri,sd:this.getSessionData(TRC.session_data),ui:TRC.pageManager.getUserId(),pi:this.getItemId(),wi:this.watchedItem?this.watchedItem:null,pt:this.getItemType(),vi:TRC.pageManager.getPageDr"==typeof n&&TRC.Timeout.set(c,mFlags[e]?this.systemFlags[e]:nulesponse-session-data"]||!t)&ager.getUserIdFromReferrer()||null},Manager.prototype.GlobalRequetParams=function(){var e={id:ption(){return"globalRequestParams"}};this.setItemId=function(t){t&&(e.ii=t)},this.setTemplate=function(t){t&&(e.tmpl=t)},this.setItemType=function(t){t&Object.keys(t).length>0&&(e.ar=t)},this.setSessionData=function(t){e.sd=t},this.setUserId=function(t){e.ui=t},this.setLoaderBuildTime=function(t){t&&(e.lbt=t)},this.setUserIdFirstPartyCookie=function(t){e.uifp=t},this.setUserLanguages=function(t){t&&(e.ul=t)},this.setUserAgentData=function(t){t&&(e.uad=t)},this.setCmpStatus=function(t){"number"==typeof t&&(e.cmps=t)},this.setConsentDaisyBit=function(t){"string"==typeof t&eof t&&(!r||t.length<r)&&(e.tcs=t)},this.setCmpStatus=function(t){"number"==typeof t&&(e.cmps=t)},this.setGdprApplies=function(t){"boolean"==typeof t){"boolean"==typeof t&&(e.gwto=t)},this.setCex=function(t){t&&"string"==typeof t&&(e.cex=t)},this.setCcpaDns=function(t){t&&"string"==typeof t&&(e.ccpa_dns=t)},this.setCcpaPs=function(t){t&&"string"==typeof t&&(e.ccpa_ps=t)},this.setExcludedPublishers=function(t){t&&"string"==typeof t&&(e.exp=t)},this.setGeoCoordinates=function(t){t&&(e.geo=t)},this.setCseg=function(t){t&&"string"==typeof t&&(e.cseg=t)},this.setViewId=function(t){e.vi=t},this.setClientVersion=function(t){e.cv=t},this.setPublisherVersion=function(t){e.uiv=t},this.setItemUrl=function(t){t&&(e.u=t)},this.setBrowserUrl=function(t){t&&"string"==typeof){t&&"string"==typeof t&&(e.vpi=t)},this.setPlacementsParamsArray=function(t){e.r=t},this.getPlacementsParamsArray=function(){return e.r},this.setExperimentVariant=function(t){t&&(e.pev=t)},this.setPastExclusions=function(t){e.px=t},this.setScreenHeight=function(t){e.sh=t},this.setScreenWidth=function(t){e.sw=t},this.setBrowserWidth=function(t){e.bw=t},this.setArticlePos=function(t){e.bad=t},this.setScreenDensity=function(t){e.sde=t},this.setBrowserHeight=function(t){e.bh=t},this.setDocumentWidth=function(t){e.dw=t},this.setDocumentHeight=function(t){e.dh=t},this.setExclusions=functienableTrcTesMode=function(){e.y=!0},this.setReferrer=function(t){e.e=t},this.setMetaData=function(t){e.m=t},this.setItemUrlQueryString=function(t){t&&(e.qs=t)},this.setNetworkID=function(t){e.nsid=t},this.getId=},this.setAll=function(t){t&&(e=t)},this.getAll=function(){return e},this.setRtui=function(tfunction(t){void 0!==t&&(e.idpd=t)},this.setDeviceId=function(t){t&&(e.did=t)},this.setUnifiedId=function(t){t&&(e.unuid=t)},this.setUserType=function(t){t&&(e.usrtyp=t)},this.setPaywall=function(t){t&&(e.pywl=t)},this.setPremium=function(t){t&&(e.prem=t)},this.setAdvertorialSource=function(t){t&&(e.advrtsrc=t)},this.setExternalPageView=function(t){t&&(e.extpvid=t)},this.setUTMParams=function(t){t&&(e.pp=t)},this.setBlockVideoLoader=function(t){t&&(e.bv=t)},this.setWebComponentsAvailability=function(t){tpiFromLocalStorage();r&&(e.top=r)}},this.setBlockThumbnailVideoLoader=function(t){t&&(e.btv=t)},this.setConnectionType=function(t){t&&(e.con=t)},this.setConnectionSpeed=function(t){t&&(e.cos=t)},this.setAdditionalData=function(t){t&Object.keys(t).lengthiggyBack=function(t){t&&(e.srpg=t)},this.setBlockerList=function(t){var r="all";if(t)if("string"==typeof t){if(t.toLowerCase()=map(funcfilter(function(e){return!isNaN(e)});i.length?e.bl=i:__trcError("blocker-list config is invalid")}else __trcError("blocker-list should be of type string")}s.setFeedIndex=function(t){e.fi=t}},Manager.prototype.log=__trcLog,Manager.prototype.error=__trcError,Manager.prototype.warn=__trcWarn,Manager.prototype.info=__trcInfo,Manager.prototype.debug=__trcDebugseSmartEllipsis()},t||this.boxes))},MansendExternalTracking",e)}return r}},Manager.isable-iframe-for-tracking-pixel"]}taboola.com")>-1)return!0}return!1},Mant=t.substring(0,t.indexOf("/"))),osition "+i+", url="+r,e)}return n},Manander",{data:this})}.trcBind(this))},Manall(o,protocol,!0)+'">'));return r},ManPlatformCode(),urls:e.match(t)}),r},Manager.prototype for external tracking")}return n}},Manager.prototype. for external tracking")}return n}th="0px",t.style.display="none"),tprevent-avail-for-removed-widget"]},Manager.prototype.placementShouldHaveResponseData=function(e,t){return!(!(t.search("rbox-tracking")<0)||e.isFeed||e.isStories||e.isIframeCard||e.externalContainerSelector||e.isStandaloneVideo||e.scriptData||e.publisherCardData||e.isHp4u)},Managern(e){return null!=e.response||e.dc},Manager,t))&&(this.preloadRequest[e]=r),r},Manager.prototype.createPlacementData=function(e,t){return this.isRegularWidget(t)?this.createAddedWidgetData(e,t):this.isStandaloneVideo(t)?this.createStandaloneVideoWidgetData(e,t):TRC.FeedsManager.isFeedIframe(t)?TRC.FeedsManager.createFeedIframe(e,t):TRC.FeedsManager.isFeedScriptWidget(t)?TRC.FeedsManager.createFeedScriptWidgetData(e,t):TRC.FeedsManager.isExternalContainerWidget(t)?TRC.FeedsManager.createExternalWidgetData(e,t):TRC.FeedsManager.isPublisherCard(t)?TRC.FeedsManager.createPublisherCardData(e,t):this.isHp4uCard(t)?this.createAddedHp4uData(e):void 0get=function(e){return e.m&&!e.ifr},Manager.prototype.isHp4uCard=function(e){return e.hpl},Manade:t.m,mode_name:t.m,addWidget:!0}},Malacement:e,isHp4u:!0,addWidget:!0}},rototype.LOCATION_TYPES.STANDALONE},Manager.protot{placement:e,isStandaloneVideo:!0}},Manager.return this.cloudinarySortedRatios}&(t.collapseButtonCaption=e.cbc),t},Elements(),this.clearStyleSheets()},Mann(e){e.parentNode.removeChild(e)})},Mion(){TRC.userX&&TRC.userX.reset()}dom.removeAllInjectedStyleSheets()},Manager.prototype.shouldBlockVideoLoader=function(e){var t=!1;return isNaN(e)||(t=Math.random()<e/100),TRC.pConsole("page","info","Blocked video: "+t+", block-video-prob: "+e,"string"),t},Manager.prototmbnail-video-prob: "+e,"string"),t},Manager.prototype.getPublisherV.networkId&&this[e][TRC.networkId]},Mlue("og:site_name")),this.siteNaape(nam)+"="+escape(t[e])+"&")}),o},ManenerateEvent("pubs-generic",o,r,i)his.generateEvent("abtests",o,r,i)},ManagerateEvent("external-revenue",o,r,i)},Manager.prototype.generateEvent=function(e,t,r,i){var o={"unescape-d":encodeURIComponent(__trcJSONify(t))};if(i&&TRC.hasNetworkAsyncSupport()){o.tim=__trcClientTimestamp(),o.id=parseInt(1e4*Math.random()),o.llvl=win.trc_debug_level,__trcCopyProps(this.getEventParams(),o);var n=this.composeGetURL(e,o,this.trcEventRoute);TRC.sendPostAsyncCall(n)}else this.sendEvent(e,o,null,!1,r,null,i)}commendation,this.preloadReRBox(r),win.TRC.trc_drawRBox=!0,r)},Manager.prototypxRetriesPerFailedPlacementRequest)},Manager.prests++,this.dispatchLoadRequest(r)},Manager.prototyp.className="trc_related_cospatch recommendation request","")spatch recommendation request","ctive&&(TRC.ajaxFailureHandler=o)}},Manager.prregex failed",window.__trcError)}}},Manager.r),this.preloadRequestLoader=null)},Manager.prototype.cclearPreloadRequestLoader(),e&&e()},Manager.prototype.cleTRC.recoRequestsQueue.resetQueue()},t,r),TRC.exploreMoreInitialized=!0},Manager.prototytarget_type:"mix",addedWidget:!0})},Manager.prototype.t)):document.body.appendChild(t),t},ManaxploreMore(this,e)}.trcBind(this))},MapPlacement(e,t,this.feedsManager))},ManagereMore.shouldSkipPushedRequest(e))},Managerr)return TRC.util.jsonParseSameter.call(location.href,"ta.browserUrl=this.getBrowserUthis.getSystemFlag("experimentID")}}(window,document);const isPerformanceSupported=!!(window.performance&&window.performance.mark&&window.performanrtTime,duration:o.duration}:null}}),classTreeFactory=new ClassTreeFactory,measurePerformance=classTreeFactsSd=!1,TRC.TRCLogger.reportES(this)}}const pVideoLoaderPerformance=(new ClassTreeFactory).mixin(MeasurePerformanceMixin,MetricReporterMixin).sub),i.onerror=(e=>r(e)),i.src=e})}const filename$1="trcrbox-g src='${t["branding-url"]}'>`,r)}};var brandingUtils_es6={createScBranding:createScBranding};const appInstallMetricReporter=metricReporter$1.sub("app_install"),brandingHook="app-install-brandinentMap.hasRendered,finturn e.innerHTML="&nbsp;|&nbsp;",e};let null)}catch(e){}styleHasLoaded=!0}},appInstallReportEventMap={hasAppInstall:`event-has_app_install`,hasRendered:"event-label_box_rendered",noBrandingText:`error-no_branding_text`,noLogo:`error-no_logo`,noStarRating:`event-no_star_rating`,noCTA:`errore:appInstallReportEventMe-item-box"),t.thumbnail_aspect=i}}const safeTags=["a","abbr","address","article","aside","area","b","bdi","bdo","blockquote","body","br","caption","cite","code","col","colgroup","data","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","img","ins","kbd","label","legend","li","link","main","map","mark","nav","ol","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","small","span","strong","style","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","title","tr","u","ul","var","wbr","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","style","svg","switch","symbol","text","textPath","tin{hasSanitized:i,html:t.innerHTML}};var disclamer_utils_es6={sanitizme,value:"1",type:"counter"})},0)}}GenericWebComponent.registerElement({name:"tbl-diortNameToReportObjMap.noLogo)},0)}}class NewCta{constructor({styleSettings:e,data:t}={}){this.styleSettings=e,this.data=t,this.button=this.createButton(),this.setCtaButtonStyle(this.styleSettings),this.ctaAnchor=this.createCtaAnchorElement(),thisrText=this.data.label.slice(0,t),e}createCtaAnchorElement(){const e=TRC.dom.createHTMLElement("a");return e.classList.add("video-cta-href"),e.target="_blank",e.rel="nofollo[t]&&(this.button.style[t]=e[t])})}get: 8fr 2fr; }`,t.appendChild(r),t}}let newCtaManagerInstance;GenericGridComponent.registerElement({name:"tbl-app-install-grid",component:TblA,filter:"filter",report:"report"}}static get reportNameToReportObjMap(){return{disableByCp:{eventType:NewCtaManager.reportTypes.event,eventName:"disabled_by_cp"},hasCta:{eventType:NewCtaManager.reportTypes.event,eventName:"has_cta"},available:{eventType:NewCtaManager.reportTypes.event,eventName:"available"},visible:{eventType:NewCtaManager.reportTypes.event,eventName:"visible"},ctaButtonClicked:{eventType:NewCtaManager.reportTypes.event,eventName:"cta_button_clicked"},appInstallRendered:{eventType:NewCtaManager.reportTypes.event,eventName:"cta_rendered"},appInstallLabelBoxAndCtaRendered:{eventType:NewCtaManager.reportTypes.event,eventName:"label_box_and_cta_rendered"},ctaBottomCut:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_cta_bottom_cut"},brandingWidthThreshold:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_branding_width_threshold"},brandingPositionAbsolute:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_branding_absolute"},brandingOverlappingCta:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_branding_overlapping"},brandingMissingPostRender:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_branding_missing"},footerDisclosure:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_footer_disclosure"},disclosureEllipsis:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_disclosure_ellipsis"},noBranding:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_no_branding"},ctaAlignmentOverflow:{eventType:NewCtaManager.reportTypes.filter,eventName:"post_render_alignment_overflow"},ctaAlignmentOverflowFix:{eventType:NewCtaManager.reportTypes.report,eventName:"alignment_overflow_fix"},ctaAlignmentPaddingFix:{eventType:NewCtaManager.reportTypes.report,eventName:"alignment_padding_fix"},itemContainerHidden:{eventType:NewCtaManager.reportTypes.report,eventName:"item_container_hidden"},noItemId:{eventType:NewCtaManager.reportTlement:t,itemContainer:r}),!0)}static checkForCtaProblems({rbox:e,itemContainer:t}={}){const r=NewCtaManager.getItemId(t);try{if(t.gridComponent instanceof TblAppInstallGrid)return;const i={mode:e.mode_name,itemIndex:t.video_data.itemIndex},o=t.ctaInstance.getDomElement(),n=t.querySelector(".video-label-box .branding");if(!n)return newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.noBranding,{itemId:r,additionalData:i})),void NewCtaManager.removeCtaFromDom({ctaDomElement:o,itemContainer:t});if(t.rbox.footer&&t.rbox.footer instanceof Element){const e=NewCtaManager.getComputedStyleProp({element:t.rbox.footer,propertyName:"margin"});if(e<0&&t.video_data.itemIndex===t.rbox.boxes.length-1)return newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.footerDisclosure,{itemId:r,additionalData:i})),void NewCtaManager.removeCtaFromDom({ctaDomElement:o,itemContainer:t})}const a=e.trc.getProperty(e.mode_name,"disclosure-link-text-sponsored",e.propertiesOverride),s=t.querySelector(".branding-inner")||n;if(a&&s){const e=30,n=s.offsetWidth<s.scrollWidth,a=s.offsetWidth<e;if(n&&a)return newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.brandingWidthThreshold,{itemId:r,additionalData:i})),void NewCtaManager.removeCtaFromDom({ctaDomElement:o,itemContainer:t})}const l=NewCtaManager.getComputedStyleProp({element:n,propertyName:"position"});if(l&&"absolute"===l)return newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.brandingPositionAbsolute,{itemId:r,additionalData:i})),void NewCtaManager.removeCtaFromDom({ctaDomElement:o,itemContainer:t});const c=o.offsetTop-n.offsetTop,d=5;if(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth){if(NewCtaManager.reportIfBrandingCausingProblems({branding:n,cta:o,itemContainer:t,itemId:r,additionalData:i}))return;if(!(c>0))return newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.ctaAlignmentOverflow,{itemId:r,additionalData:i})),void NewCtaManager.removeCtaFromDom({ctaDomElement:o,itemContainer:t});o.style.marginTop=`-${2*c}px`,newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.ctaAlignmentOverflowFix,{itemId:r,additionalData:i}))}else if(c>d){if(NewCtaManager.reportIfBrandingCausingProblems({branding:n,cta:o,itemContainer:t,itemId:r,additionalData:i}))return;o.style.marginTop=`-${c}px`,newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.ctaAlignmentPaddingFix,{itemId:r,additionalData:i}))}if(o.offsetTop+o.offsetHeight>t.offsetHeight)return newCtaManagerInstance.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.ctaBottomCut,{itemId:r,additionalData:i})),void NewCtaManager.removeCtaFromDom({ctaDomElement:o,taDomElement:o,itemContainer:t}))}},0);const p={cta:o:`publisher_order_${e}`,itemId:r})})}catch(e){newCtaManagerInstance.reportMetrics({eventType:NewCtaManager.reportTypes.error,eventName:`ch===t;return r?e.link:t}get shouldReportMetrics(){return TRC.util.isPercentEnabled(this.txAndCtaRendered,{itemId:e}))}createCtaButtonForAppInstall({itemContainer:e}={}){const t={link:`${e.gridComponent.hook.logger_url}&cta=true`,label:TRC.util.getHtmlDecodeText(e.video_data["cta-text"])},r=new NewCta({styleSettings:this.styleSettings,data:t}),i=r.getDomElement();i.setAttribute("slot","cta"),e.gridComponent.appendChild(i);const o=NewCtaManager.getItemId(e);return e.ctaInstance=r,this.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.available,{itemId:o})),i.onclick=(()=>{this.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMap.ctaButtonClicked,{itemId:o}))}),this.subscribeToVisibilityEvent({ctaDomElement:r.getDomElement(),itemContainer:e}),this.reportAppInstall({itemId:o}),r}createCtaButton({itemContainer:e}={}){if(e.gridComponent instanceof TblAppInstallGrid)return this.createCtaButtonForAppInstall({itemContainer:e});const t=NewCtaManager.getItemId(e),r=e.querySelector(".video-label-box"),i=r.querySelector(".branding"),o={link:`${e.link.logger_url}&cta=true`,label:TRC.util.getHtmlDecodeText(e.video_data["cta-text"])},n=new NewCta({styleSettings:this.styleSettings,data:o}),a=n.getDomElement();return NewCtaManager.addCtaToVideoLabelBox({ctaDomElement:a,videoLabelBox:r,branding:i,itemContainer:e}),e.ctaInstance=n,this.reportMetrics(TRC.util.merge({},NewCtaManager.reportNameToReportObjMajMap.ctaButtonClicked,{itemId:t}))}),this.subscribeToVisibilityEvent({ctaDomElement:n.getDomElement(),itemContainer:e}),"true"===e.video_data["is-app-install"]&&emId:NewCtaManager.getItemId(t)})}}}const constants={FETCH_PREFIX:"https://images.taboola.com/taboola/image/fetch/"},filename="trcrbox-ui-image-utils",metricReporter=metricReporter$1.sub("image_utirror,error:t.toString()})}return i},parseCroppingPrefix=({trcRBoxUI:e,video:t,imageOptimizationConfig:r})=>{const i=buildAReporterCallback({trcRBoxUI:e,video:t});try{const o=e.trc;if(!t.cropping||!TRC.util.isPercentEnabled(e.trc.global,"image-cropping-active"))return"";const n=o.global["image-cropping-ratios-list"];if(!n||!n.length)return i({eventName:reportEventMap.parseCroppingPrefix.noRatioList,le,t])=>Math.aio)),s=a.reduce((e,t,r)=>a[e]>t?r:e,0),l=n[s];if(!l)return"";const c=l[1]/l[0];let{crop:d}=JSON.parse(t.cropping.replace(/&#34;/g,'"'));d=Array.isArray(d)?d:Object.values(d);let p=null;for(const e in d){const t=d[e];if(t.ratio&&c===t.ratio.h/t.ratio.w){p=t;break}}if(!p)return i({eventName:reportEventMap.parseCroppingPrefix.NoMatch}),"";i({eventName:reportEventMap.parseCroppingPrefix.Match});const{area:h}=p,u=+(["w","x","y"].map(e=>`${e}_${h[e]}`),g=["c_crop","f_jpg","q_auto","e_sharpen",`ar_${u}`].concat(m),b=`${constants.FETCH_PREFIX}${g.join(encodeURIComponent(","))}/`;return b}catch(e){i({eventName:reportEventMap.parseCroppingPrefix.Error,error:e.toString()})}return""};var imageUtils={constants:constants,computeImageOptimizationConfig:computeImageOptimizationConfig,parseCroppingPrefix:parseCroppingPrefix};const reportEventMap={computeImageOptimizationConfigError:"error-compute_image_optimization_dictionary",parseCroppingPrefix:{NoMatch:"event-cropping_did_not_matched",Match:"event-cropping_matched",Error:"error-parse_cropping_data",noRatioList:"error-no_r:t,value:"1",type:"counter"})},0)}},responsiveReporter=metricReporter$1.sub("responsive-utils"),placementIdPostRenderCellsMap={};let fixResponsiveWidgetResizeHanelector(e),r=!0}catch(e){}return r},pseudoSupportMap={nthChildOf:checkForCssPseudoSupport(":nth-child(1 of .videoCube)")},reportingFlag="responsive-utils-report",responsiveReportEventMap={preFixingResponsiveWidget:"event-pre_fixing_responsive_widget",fixingResponsiveWidget:`event-fixing_responsive_widget`,placementRenderedOk:`event-placement_rendered_ok`,placementLayoutShift:`event-placement_layout_shift`,checkingResponsiveWidget:"event-checking_responsive_widget",checkingOverflowingCards:"event-checking_overflowing_cards",overflowingCardsFound:"event-overflowing_cards_found",responsiveFixError:"error-responsive_fix_error",checkingResponsiveError:`error-chue:"1",type:"counter"})}catch(esTriggeredByResize:!0})),checkOverflowingCards({rbox:e}))},checkOverflowingCards=({rbox:e}={})=>{try{if(!TRC.util.isPercentEnabled(e.trc.global,reportingFlag))return;const t=TRC.Fader();t(()=>{e.boxes.forEach(t=>{t.offsetWidth&&(sendEvent({rbox:e,eventName:responsiveReportEventMap.checkingOverflowingCards}),t.scrollHeight>t.clientHeight&&sendEvent({rbox:e,eventName:responsiveReportEventMap.overflowingCardsFound}))})})}catch(e){}},fixResponsiveWidget=({rbox:e,isTriggeredByResize:t=!1}={})=>{if(!TRC.util.isPercentEnabled(e.trc.global,"enable-responsive-float-fix"))return!1;try{const r=e.trc.getProperty(e.mode_name,"responsive-rules",e.propertiesOverride);if(!r)return!1;if(!e.boxes.length)return!1;listenToResizeEventIfFirstTime();const i=e.getEffectiveResponsiveRule(),o=i?i.cells:-1,n=e.boxes[0].parentNode?Math.floor(e.boxes[0].parentNode.offsetWidth):null;if(!n)return!1;sendEvent({rbox:e,dataObj:{isTriggeredByResize:t},eventName:responsiveReportEventMap.preFixingResponsiveWidget});const a=e.boxes[0].offsetWidth,s=Math.floor(n/a),l=e.boxes.length>1&&e.boxes[0].offsetWidth>=2*e.boxes[1].offsetWidth,c=!placementIdPostRenderCellsMap[e.id]&&o===s,d=placementIdPostRenderCellsMap[e.id]===s;if(pseudoSupportMap.nthChildOf&&!l&&s&&(c||d))return!1;placementIdPostRenderCellsMap[e.idetWidth&&a!==e.oRC.dom.coh":t%o==0&&(e.style.clear="none"))}),sendEvent({rbox:e,dataObj:{areAllCardsWithSameWidth:p,isTriggeredByResize:t},eventName:responsiveReportEventMap.fixingResponsiveWidget}),!0}catch(r){return sendEvent({rbox:e,dataObj:{isTriggeredByResize:t},eventName:`${responsiveReportEventMap.responsiveFixError}_${r}`})lement:i,isCardBiggerTheckingResponsiveError}_${t}`})}})};var responsiveUtils_es6={handleResponsiveWidget:handleResponsiveWidget};!function(e,t){var r="sponsored",i="https://";function o(){return document.createTextNode("…")}TRC.implClasses=TRC.implClasses||{},TRC.PVideoLoader=PVidcustom-image-size-round-value"]),this},s=imageUtils.constants.FETCH_PREFIX,l="h_{h},w_{w}",c=s+"f_jpg%2Cq_80%2Ch_{h}%2Cw_{w}%2Cc_fill%2Cg_faces%2Ce_sharpen/",d=s+"fl_lossy%2Cf_gif%2Ch_{h}%2Cw_{w}%2Cc_fill%2Cg_faces:auto%2Ce_sharpen/",p=s+"$pw_{w}%2C$ph_{h}/t_tbl-cnd/",h=TRC.PROTOCOL,u,m;a.prototype.DEFAULT_THUMB_getImageUrlPrefix=funce?"rbox-"+this.origin:"rb?this.response.trc["sess.forceItemType:this.trc.getaddHeaderToFeed(r):e.appendChilssName+=" trc_rbox_header_icon_tHTML("beforeend",t&new TRC.ExpandAnimationManagererType(t[i]),tit:t[i]["type"],tids:OwnProperty(r)&&t.push(e[r]);return t},a.prototype.getProviderType=function(e,t){return e["is-syndicated"]?t?"sponsored":"SP":e["is-in-network"]?t?"exchange":"NT":e["is-native"]?t?"native":"NAV":t?"orgagetProviderType(e,!0),title:ereturn!0;if(r[t[i]])return!0}re-devices",this.propertiesOverride),)||"rbox-only-video"===thRCParser.parseABModeName(t,e)):esn't exist in configuration file "Items,this.placement,this.isiderIframe||this.isExistDisplayInS["video-list"]["properties-override"]},a.pAvailable TrackingPixels error: ",e)}},a.prototype.SliderManager(this)}.trcBind(this))!TRC.SpotlightLoader.loadedScrla Choice for mode "+this.mode_name)}}ist.some(function(e){return e.plTB Choice for mode "+this.mode_name)rtiesOverride))&&!1!==this.trc.in pre rendered hooks - "+e.messageLsList()["c"])}.trcBind(thing"]&&(t?__trcWarn(r):__thild(this.request),this.req":return void this["errortion(){return this.element.parentNode},a.prototype.sendEvent=function(e,t,r,i,o,n,a){var s=!1,l=this.trc.formattedTRCRequest&&this.trc.formattedTRCRequest.tmpl,c=this.response.trc["placement-group"],d=this.response&&this.response.trc?this.response.trc["session-data"]:null,p={ri:this.response?this.response.trc["req"]:null,sd:this.trc.getSessionData(d),ui:TRC.pageManager.getUserId(),pi:this.trc.getItemId(),wi:this.response?this.response.trc["watched-item"]:null,pt:this.getItemType(),vi:this.cachedViewId||TRC.pageManagestId()},h=function(){s||(s=!0,o&&o())};this.isResponseFromCache()&&(p.cache="1"),this.trc.formattedTRCRequest&&this.trc.formattedTRCRequest.ad&&(p.ad=__trcJSONify(this.trc.formattedTRCRequest.ad)),this.trc.systemFlags&&"normal"!==this.trc.systemFlags.loaderType&&(p.lt=this.trc.systemFlags.loaderType),this.response.trc&&(this.trc.global["tmp-use-pb-params"]&&this.trc.configForPostEvent[e]||"click"===e&&this.sendClickPiggyBack)&&(this.response.trc["ppb"]&&(t.ppb=this.response.trc["ppb"]),this.response.trc["cpb"]&&(t.cpb=this.response.trc["cpb"]),this.response.trc["prty"]&&(t.prty=this.response.trc["prty"]),this.response.trc["caty"]&&(t.caty=this.response.trc["caty"])),"click"==e&&"nt"==t.prt&&(p={}),l&&(p.tmpl=l),c&&(p.pg=c),__trcCopyProps(t,p),!0!==this.response.trc["video-list"]["content-hub-forced-placement"]||"available"!==e&&"explore"!==e&&"visible"!==e||(e="content-hub-"+e),i?(TRC.pConsole(this.mode_name,"info","sending event type : "+e,p,"object"),this.trc.log1(e,p,r,h,this.placement,a)):this.trc.logTrcEvent(e,p,r,h,null,a);var u=null;TRC.performance&&"visible"==e&&TRC.performance.mark("11.0."+this._id,u,this.mode_name,this.reqId,"visible",TRC.PerfEvenType.MARK),"number"==typeof n&&rElements(),this.takePabidDetector.detect())}.trcBind(this))},al,"enable-distance-from-article"))))},CRBox.measureDistanceFromArticle",e)}},a.prototyreaScanner.initScanner()}.bind(body,{keepImages:!0})}.trcBind(thiheight:t.boundingClientRldNodes();)e.removeChild++)if("duration"==e)return!0;retuuration")&&(t=e)})}catch(e){ertBefore(t,e),e.style.clear=gth+"-"+p.length+"-"+(l||"unknoarn("Error in setVideoPlayerLoad",e)(t.width),height:Math.ceil(t.height)}},a.prototypeazyLoadImageObserversIds.splice(t,1))},a.prototype.creads.push(TRC.intersections.observe(e))},a.prototype.loadCarouselItemImage=function(e,t,r,i,o,n,a,s,l,c){var d=this.getThumbnailsDimensions(a),p=s.getAttribute(TRC.intersections.TARGET_ATTRIB);this.setImageLoad(e,t,r,i,o,n,!0,d),p&&this.removeCarouselItemImgLazyLoadObserver(p)},a.prototypeoveCarouselItemImgLazyLoadoveCarouselItemImgLazyLoadObservgeCounter%this.imagesAltUthis.setVideoPlayerLoad(o,l,r,c,d,u))},a.prototypefix||this.getImageOptimizatiotiesOverride)||this.trc.global[t]|tIndexOf("/")===e.length-1?"/"this.trc.global["gif-url-prefix"]||d&&(t=this.handleGifPrefix.trcGetCurrentStyle(e,"display",null)},a.prototype.getContainerDim=function(e,t,r){var i,o,n=100;if(r){if(this.cachedImageDim)return this.cachedImageDim}else if(i=TRC.dom.getElementRect(e),o=Math.ceil(i.right-i.left))return n=Math.ceil(i.bottom-i.top||this.getAspectHeight(t)||o*this.getThumbAspectRatio(this.trc.modes[this.mode_name],"ratio")||n),this.cachedImageDim={width:o,height:n};ret(e.thumbnail_aspect)).bottom-t.topperformance.mark("7.1.9."+this.actor",this.propertiesOverri;if(!isNaN(a)&&a>=o)returontainer);return!(r<0&&Math(this.utm?","+this.utm.t(this.postRender.trcBinla.com/"+(this.trc["language"tyle.height=this.itemMaxh;n++)if(e(o[n]))return o=a.cloneNode(!0)),i.push(aturn(i=t&&t[e]||r[e])||(i="_blapb"]+"&cpb="+this.response.trc["cpb+)if(r[a]!==i[a]){n=!1;break}ren-network"]||e["is-dc"]||(o+=" "+r),o},a.prototype.changeVideoHrefToReportClick=function(e,t,r,i,o){if(e){var n=ItemMeasurements.addVisibleToClickTimeToParamURL(this.trc,t,r,i,o);n=this.attachHeatMapDataToLink(n,e),this.sendEvent("click",t,r,i,o,n)},a.prototype.createVideoLink=function(e,t,r){var o=document.createElement("a"),n=this.ntHandlerEnabled&&e["is-in-network"],a,s,l=this.sendClickPiggyBack?this.addPiggyBackParams(e.logger_url):e.logger_url,c=!0!==this.trc.global["disable-stop-propagation"],d=TRC.pageManager.getTopMostWindow().location.hostname,p=TRC.URL(e["url"]).host,h,u;if(o.setAttribute("attributionsrc",""),e["urlp"]){var m=e["urlp"];for(var g in m)if(m.hasOwnProperty(g)){var b=m[g];o.setAttribute(g,b)}}!0===this.response.trc["video-list"]["content-hub-forced-placement"]&&(l=l.replace("click","content-hub-click"));var f=!1;if(u=this.detectItemFromSameHost(d,p),e["is-in-network"]&&TRC.hasFeedView&&this.parentFeed&&this.parentFeed.enableAEClicks&&(u?(e.scParams=e.scParams||{},e.original_url=e.original_url||e.url,f=!0):(this.feedViewExchangeFallbackEventData={eventType:"fallback",original_url:d,target_url:p},this.shouldSendFeedViewExchangeFallbackEvent=!0)),n&&(e.hasNtClckHnadler=!0),TRC.isOptim("title-decode")?o.title=t:o.title=TRC.util.getHtmlDecodeText(t),e.link_target=this.link_target,!e.isSyndicated||n||f)o.href=e.url,"blank"!=this.link_target?TRC.util.isAmp(TRC)&&this.trc.global["amp_target"]?o.target=this.trc.global["amp_target"]:o.target="_patarget||e.srcElement).target="_blank"}),e["is-in-network"]&&(e.scParams.prt="nt"),this.organicRedirParam&&(l=l.replace("&url=","&"+this.organicRedirParam+"=")),this.useRedirect&&this.useReangeVideoHrefToReportClick(o,l,t,r,e)}.trcBind(this),o.onclick=this.videoLinkClickHandler.trcBind(this,r,e,o,l);else{var v,C="rhrf";e["thrf"]?o.href=e.url.split("?")[0]:e[C]?o.href=i:o.href=e.url,a=this.getLinkTarget(this.getProviderType(e),this.linkTargetConf,this.defaultLinkTarget),(h=this.createVideoLinkRel(e,u,a))&&(o.rel=h),o.logger_url=l.replace("&url=","&redir=")+(e["is-in-network"]?"&prt=nt":"")+(e["is-native"]?"&prt=nav":""),o.target=a,1==this.trc.global["enable-ie-split-click-event"]&&TRC.Browser.ie&&(s=o.logger_url.length>2048),!0===this.trc.global["touchstarhPropagation=1,c&&t.stopPropaefToReportClick(o,o.logger_url,t,r,e)}.trcBind(this),(this.isDisplayToNative||DisplayInSlotManager.e){this.brandingTitleStyleTo)||this.brandingTitleStyleToNative(e)}.trcBind(this)),o.onclick=function(t){if((this.isDisplayToNative||DisplayInSlotManager.isItemDisplayInSlot(e))&&!this.brandingEventStyle(t))return this.brandingTitleStyleToNative(t),!1;try{if(TRC.clickFraudDetect.isInitialized&&e["is-syndicated"]){var i=o.search.match(/[^&??=]+/g),n=i.indexOf("ri"),a="";if(n>-1&&(a+=i[n+1]),(n=i.indexOf("ii"))>-1){var l=i[n+1].match(/^~~V1~~(-?[\d]{10,})/);a+=l?"_"+l[1]:""}var c=o.href.indexOf("trc.taboola.com")>=0;TRC.clickFraudDetect.fraudScriptCallback(this.placement,TRC.pageManager.getUserId(),a,this.trc.referrer,e.itemIndex,c)}}catch(e){__trcError("Publisher 'onclick' Fraud handler had an error",e)}return this.shouldSendFeedViewExchangeFallbackEvent&&this.trc.sendAbTestEvent("feedView_ae",this.feedViewExchangeFallbackEventData),this.trc.sendExternalTracking(this.getItemExternalTrackingURLsList(e)["c"]),!!o.isTouchPropagation||(s?this.reportClick(e,{ii:e["item-id"],it:e.type},null,!1):this.shiftRedirOnclick&&this.changeVideoHrefToReportClick(o,o.logger_url,t,r,e),!0)}.trcBind(this)}return this.trc.global["events-apiPI.dispatchClick(e,this.response.trc)}.trcBind(thd("tbl-branding-title-to-native"),!0)},tive"),e.target.style.color="inheriti.attachHeatMapDataToLink - "+t,t),e}},a.propPropagation&&n.stopPrwindow,button:0});i.dispatchEvent(' handler had an erro(i,t)),void 0!==r&&r.apper]=i,i.isRTL=n,i.tokenizeStrategideo-label video-publishedvideo-"+o,this.formatData(o,t[o]),e)}},a.prototype.snding"===this.getDisclosurePosition()},a.prototype.getDisclosurePosition=function(){return this.disclosurePosition||(this.disclosurePosition=this.trc.getProperty(this.mode_name,"disclosure-position",this.propertiesOverride)),this.disclosurePositiesOverride)),this.disclosureAlignment},a.protoding(this.branding,i,o),this.{trcRBoxUI:this,video:e,labelsBox:",this.getPublisherBrandingName()),t)},an",t.appendChild(r),e.appendChild(t))},a.pros.taboola.com";return e.indexOch(/cdn.taboola.com\/.*thuding "+r+" thumbnail instead",null,n)},a.protot.logImageError(e,t,a,"taboola CDN"),a},a.prototype,a,t):this.getDefaultThumbnail(e,t,r)},a.pror){return this.logImageError(e,ris.logImageError(e.src,t,"defaubHeight"]/e["virtualThumbWidth"]getThumbAspectRatio",e.messai[n].h)return i[n].u;return),TRC.ccpa.renderOnWidgetFooter(thr(),e,o,"attribution",null,"bottom"))},a.pros.container.offsetWidth;retustyle.display=t?"inline-block":tus&&!!this.isAdchoiceItemTypes((var r in e)if(t[r])return!0;roice-large",this.propertiesOverriForAttribution()&&(r="bottom")):prototype.adcHoverHandler(thiign-"+i+"-"+l:""),e.appendChild(d),d}("plink="+this.privacyId),e.join(ment.className+=" trc-content-"+eic"]?"hybrid":t?"sponsored":"o["is-adc"]&&(t["is-adc"]=plink"])return r["plink"];reappendChild(this.footer)),this.foi,n,"disclosure","hybrid","bottom")))},a.prot),null,this.getDisclosureAlignment())},a.pame,"header",this.propertie_clearer",this.element.a4px",i.innerText=t,r.appendhis.legacyFixBoxOverflow(e,t,r,i,ser.ie&&!s&&(e.style.height="arentNode.font=this.getFontSize(e),!0ment(a,t),this.add_span(null,n(),e),t},a),t.appendChild(r?i.cloneNode(!0):i))},a.pr,t,"span"))&&(i.style.displce(new RegExp("<[^>]+>" style="display:inline">'+t)+(r<10?"0":"")+r+":"+(i<number",this.propertiesOverride,!1,e)},a.prototype.dateFormatISO=TRC.DateUtils.dateFormatISO,a.prototype.dateFormatAmerican=TRC.DateUtils.dateFormatAmerican,a.prototype.dateFormatEuropean=TRC.DateUtils.date"em":case"ch":i*=10}r=!0}t++},this.sendEvent("explore",{},null,!0)},a.protis.sendExploreEvent.trcBind(thtExploreTrackerHandler.trcBind(this))},a.proimeoutId),this.exploreTe.resetBoxes=function(){this.bosize-rules",this.propertiesOverride))},a.andardResponsiveRules : ",e.message)}},a.toSizeResponsiveRules : ",e.mc,e.meta),delete e.meta["video-ndering"),TRC.tlf&&console.groupEnd()tureAndSendClickData(e)}.biperty(i)&&r.indexOf(i)>-1)return t[iError in createVideoBoxDirectURLturn t+(0!==i?"&":"")+r+"="+e[r]},"")},a."];return o&&(i.tmpl=o),n&&(i.pg=n),i},a.prot"&"+this.trc.getLoaderTypesValue())s.createVideoBoxClickUrlWithParams(r)},a. in fixResponsiveBoxTitleAndDesc",e)}},a.pss*="'+e+'"]');return[].slice.caloBoxLabelsClass(t),e.appendChild(t)tion(e){e.className="video-label-bo)}else this.createVideoBoxAspect(e.appendChild(r),t.thumbnail_aspecr=i,TRC.taboolaConnect.createCard(n)}},a.splayToNativeShouldBlockCurrentMode")},ame:e,value:"1",type:"counter"},null)}&o.setAttribute("slot","thumbnail"),on=!0),e.thumbBlock=i,t.appendChild(i)mageOnLoadHandler.trcBind(this,e,t,r)},a.p.style.backgroundImage="URL('"+o+"')"},a.et(e.trcBind(this,r.thumbBlock,t),50eVideoImage.trcBind(this,e,t,!0)trcRatio=e.width/e.height),e.trcRatio}rlayComponents(i,r.isSyndicated,t||[],this.thumbnailImageStack.pur,t["branding-url"]),e.appendChiement("img");i.src=r,e.appendChild(iError in createVideoBoxThumbLinkta-item-syndicated",!!t.isSyndicail-position",this.propertiesOverride)},a.prototypb-component-app-install-version"])||0},a.prototype.drawResponsiveVideoBox=function(e,t,r,i,o,n,a,s){var l=this.videoBoxContainer=document.createElement("div");try{t=__trcCopyProps(t,{},{isSyndicated:t["is-syndicated"]||t["is-in-network"]||t["is-native"],isPhoto:"photo"===t.type,isText:"text"===t.type,imageIframe:t.hasOwnProperty("image-iframe")&&t["image-iframe"],tags:"string"==typeof t.tags?TRC.text.parseCSV(t.tags):[],placement:this.placement,mode:this.mode,urlp:t["urlp"]});var c=this.webComponentAppInstallVersionSupport(t);if("true"===t["is-app-install"]&&c){var d=document.createElement("tbl-app-install-grid");d.setAttribute&&d.setAttribute("version",c),d instanceof TblAppInstallGrid&&(l.gridComponent=d,l.appendChild(d))}new TRC.BlockClicksManager(this,l,t),this.setApiItemsData(t),this.createResponsiveVideoBox(l,t,o,n),"none"!==l.thumbnail_position&&this.createVideoBoxThumbLink(l,r),this.isStories&&TRC.Stories.createBlurImageBox(l),this.createResponsiveLabelsBoxes(l);var p=t.rvpm;if(!TRC.botDetected&&t[TRC.TrackingScriptLoader.TRC_SCRIPT_TAGS_ATTRIBUTE]&&t[TRC.TrackingScriptLoader.TRC_SCRIPT_TAGS_ATTRIBUTE].length>0){var h=this.outermostContainer.id||this.placement.split(" ").join("-");h+="-"+t["itemIndex"],TRC.TrackingScriptLoader.renderScriptTagIntoVideoBox(l,t,h,this.trc.global["view-tags-domains-url"],p,t.rv)}return this.setRequiredViewabilityAvailableObserver(t.rv,l,a,s,t["item-id"],p),this.trc.runHook(this,this.mode_name,"item-renderer",this.propertiesOverride,!0,l,l.video_data),TRC.util.isPercentEnabled(this.trc.global,"new-cta-enabled")?NewCtaManager.initialize({rbox:this,itemContainer:l}):TRC.CTAManager.initialize(this,l),ISIManager.initialize({videoBoxContainer:l}),e.appendChild(l),this.fixResponsiveBoxTitleAndDesc(l),this.boxes.push(l),this.shouldHandleScBrandingWithSponsoredLink()&&TRC.Browser.ieUpto(10)&&this.handleBrandingWithDisclosureContainerWidth(),t.imageIframe||this.createVideoBoxImageLoader(l),TRC.MetricsManager.metricIncrement("UiItemsRendered"),l}catch(e){__trcError("Error in drawResponsiveVideoBox",e)}return null},aabelsBox,e.video_data,r&&TRC.ctaManager.renderCTAItems(e,t)},a.prototype.hand.maxWidth="calc(100% - "+(o+n)+"px)"}this.createDetailsLabelsContainers(e)},a.pTRC.dom.addClass(e,"trc-split-labild":i)},this.setVideoBoxClassName(e,e.pre_detail_order=i?i.split(","):[]},a.prototype.createVideoBoxAfterThumbnailLink=function(e){var t=e.video_data,r=e.getAttribute("data-item-title"),i=this.createVideoLink(t,r,e);if(e.gridComponent instanceof TblAppInstallGrid)return e.labelsBox=e.gridComponent,void e.gridComponent.setWrapperLink(i);e.labelsBox=this.createVideoBoxLabels(i),e.appendChild(i),e.link=i,TRC.dom.addClass(i,"item-label-href"),TRC.dom.addClass(e.labelsBox,"trc-main-label")},a.prdom.addClass(e,"item-has-pre-labr thumbnail images fixing errors",e)s&&console.timeEnd("item relearInnerElements(e),t.removeChild(e)xploitation=function(e,t){return t<=is.fixResponsiveBoxTitleAndDesc(e[t])trc?this.response.trc.placement:""))}}e.appendChild(r),this.listContainer=r},a.prototypecificExternalTrackingURLsList"),[]}},a.pr.getAllExternalTrackingURLsList"),{}}},a.progetItemExternalTrackingURLsList"),[]}},a.proTrackingPixelsOfType.trcBind(this,e))},a.getAllExternalTrackingURLsList()[e])},a.protokingPixelsOfType.trcBind(this,e,[t]))},a.protpecificExternalTrackingURLsList(e,trty(this.mode_name,"smart-ellipsis"))},x)")).matches)return t[o];returws*t.cells:this.trc.getListSLICK_URL_ESC}",encodeURIComponent(r))},a.prototype.getWidgetToFeedHelper=function(){return this.parentFeed&&this.parentFeed.widgetToFeedHelper|""}return this.publisherBrandiendEvent("available",e,t.getAll(),!0)},a.prototypedTrackingPixelsForSpecificItem("n this.response&&this.response.cac.mode_name,e,this.propertiesOverride)},a.prototype.sAvailableObserverByMargin(t,r,i,o,n))},a.prrgetId",TRC.intersections.observe(a))}}(windowrseInt(r.pop()):0,this.host=r[0],this},i={"httname+this.search+(e?"":this=e)),(o=r.toString(!1)).l t?t(r[i]):unescape(r[i]);retu RegExp("="),2);r[o[0]]=o[1\?")>=0?"&":"?")+toSD:o};e.sendEventisplay:c,stripUrl:l,senseViitLoVideoUnisItetLoader=WidgetAdjacentVideoUnitLoader})(),TRC.InvokeVideoLoader=function(){var e=50;TRC.VideoLoader=function e(t,r,i,o,n){this.trcManager=t,this.videoConfig=r,this.placement=i,this.unifiedPlacement=r.unifiedPlacement,this.taboolaContainer=o,this.trcResponse=n,this.consentData=t.consentState||TRC.consentData||{}},TRC.VideoLoader.prototype.CALLBACK_NAME_PREFIX="videoCallback",TRC.Vin(e){return null!==e&&void 0!==e?e:""},TRC.VideoLoader.prototype.loadVideo=function(e){if(TRC.botDetected)__trcDebug("video loader - not loading. Bot detected.");else if(this.blockVideo)__trcDebug("video loader - not loading. Video was blocked due to configuration.");else{if(!TRC.Browser["ieUpto"](10)){var i=this.genVideoCallback(e);if(this.trcManager.global["use-unit-fetcher-response-instead-of-tb"]&&this.videoConfig.unitFetcherResponse)return t(this.videoConfig.unitFetcherResponse,i),!0;var o=this.videoConfig.scriptUrlTemplate,n=TRC.util.isTrue(TRCImpl.global["enable-video-ajax"]);TRC.pConsole("video loader","info","loading video for placement: "+this.placement);var a=TRC.URL.prototype.getParameter.call(location.href,"video-integration-variant");if(null===a&&(a=this.trcManager.global["video-integration-variant"]),o){var s=document.createElement("script");s.id=this.taboolaContainer.id+"-v-loader",s.src=r.trcBind(this,e,a,TRC.shiftDomain(o),i)(),TRC.performance&&TRC.performance.mark("videoJsonpRequestStart",null,"","","videoJsonpRequestTime",TRC.PerfEvenType.START),n?this.loadVideoByAjax(s.src,i):this.taboolaContainer.appendChild(s)}else TRC.pConsole("video loader","error","error while loading video for placement: "+this.placement+". missing script url template in response");return!0}__trcDebug("video loader - not lng()+"("+e.toString()+")"}},i;s(t)(r)},r=function(e,t,r,o){return r.replace("{PUBLISHER_NAME}",TRC.publisherId).replace("{UNIT_TYPE}",encodeURIComponent(this.videoConfig.unitType)).replace("{UNIT_LOCATION}",encodeURIComponent(this.valueOrEmptyString(this.videoConfig.unitLocation))).replace("{SOURCE_PAGE_TYPE}",this.trcManager.getItemType()).replace("{PLACEMENT_NAME}",encodeURIComponent(this.getPlacementName())).replace("{UNIFIED_PLACEMENT_NAME}",encodeURIComponent(this.valueOrEmptyString(this.getUnifiedPlacementName()))).replace("{USER_ID}",TRC.pageManager.getUserId()).replace("{CALLBACK_NAME}",o).replace("{REFERRER}",encodeURIComponent(this.trcManager.getReferrer())).replace("{PAGE_URL}",encodeURIComponent(this.valueOrEmptyString(this.getItemUrlForVideo()))).replace("{CACHE_BUSTER}",this.getScriptCacheBuster()).replace("{PLATFORM}",this.valueOrEmptyString(this.videoConfig.platform)).replace("{NORM_PLATFORM}",this.valueOrEmptyString(this.videoConfig.fullyNormalizedPlatform)).replace("{COUNTRY}",this.valueOrEmptyString(this.videoConfig.country)).replace("{TAG_ID}",this.valueOrEmptyString(this.videoConfig.tagId)).replace("{VARIANT}",this.valueOrEmptyString(this.videoConfig.variant)).replace("{INTEGRATION_VARIANT}",this.valueOrEmptyString(t)).replace("{SESSION_ID}",this.valueOrEmptyString(this.trcManager.getSessionId())).replace("{SOURCE_ITEM_ID}",this.valueOrEmptyString(this.trcManager.getItemId())).replace("{VIEW_ID}",this.valueOrEmptyString(TRC.pageManager.getPageData())).replace("{GEO_LAT}",this.valueOrEmptyString((n("loc")||{}).lat)).replace("{GEO_ING}",this.valueOrEmptyString((n("loc")||{}).ing)).replace("{DEVICE_IFA}",this.valueOrEmptyString(this.trcManager.deviceId)).replace("{APP_ID}",this.valueOrEmptyString(n("appid"))).replace("{SESSION_DATA}",this.valueOrEmptyString(this.getSessionData())).replace("{REQUEST_ID}",this.valueOrEmptyString(this.getRequestId())).replace("{APP_NAME}",this.valueOrEmptyString(n("app"))).replace("{CONSENT_DAISY_BIT}",this.valueOrEmptyString(this.getConsentString())).replace("{GDPR_APPLIES}",this.valueOrEmptyString(this.getGdprApplies())).replace("{OPEN_EXCHANGE_ENABLED}",this.valueOrEmptyString(this.getOpenExchangeEnabled())).replace("{EXTERNAL_VIEW_ID}",this.valueOrEmptyString(this.getExternalViewId())).replace("{SOURCE_ITEM_ID}",this.valueOrEmptyString(this.getSourceItemId())).replace("{SOURCE_ITEM_ID_INT}",this.valueOrEmptyString(this.getSourceItemId())).replace("{PUBLISHER_ID}",this.valueOrEmptyString(this.getPublisherId())).replace("{SDK_NAME}",encodeURIComponent(this.valueOrEmptyString(n("sdkt")))).replace("{SDK_VERSION}",this.valueOrEmptyString(n("sdkv"))).replace("{OS}",encodeURIComponent(this.valueOrEmptyString(n("os")))).replace("{USER_ID_SOURCE}",this.valueOrEmptyString(this.getUserIdSource())).replace("{FAGG}",this.valueOrEmptyString(this.videoConfig.aggLevel||1)).replace("{CCPA_DNS}",this.valueOrEmptyString(this.getCcpaDoNotSell())).replace("{CCPA_PRIVACY}",this.valueOrEmptyString(this.getCcpaPrivacyString())).replace("{REGION}",this.valueOrEmptyString(this.getRegion())).replace("{HAS_GDPR_CONSENT}",this.valueOrEmptyString(this.getHasGDPRConsent())).replace("{TCF_VERSION}",this.valueOrEmptyString(this.getTCFVersion())).replace("{CMP_STATUS}",this.valueOrEmptyString(this.consentData.cmpStatus)).replace("{TABOOLA_NETWORK_ID}",this.valueOrEmptyString(this.getTaboolaNetworkId())).replace("{AB_TEST_PERCENT}",this.valueOrEmptyString(i("vidABTestPercent"))).replace("{AB_TEST_LAYER}",this.valueOrEmptyString(i("vidABTestLayer"))).replace("{GENIE_VIDEO_VARIANT}",this.valueOrEmpllStetvoid 0!==TRCImpl.additional_data.sdkd};TRC,TRC.PerfEvenType.START),r.send(null)},TRC.e.inde{r=function(){};break}r=r[o]}return r};TRC.Vide_seq+1||1,this.CALLBACK_NAME_PREFIX+e},TRC.VideoLoader.prototype.genVideoCallback=function(){throw new Error("This is an abstract method that should be inherited.")},TRC.Videoct method that should be inherited.")},TRC.Vi&").concat(t)),r=r.concat(t)}return r},TRC.VideoLoader.prototype.getSessionData=function(){return this.trcResponse["session-data"]},TRC.VideoLoader.prototype.getRequestId=function(){return this.trcResponse["req"]},TRC.videoConfig.placement||this.placement},TRC.VideoLoader.prototype.getUnifiedPlacementName=function(){return this.unifiedPlacement},TRC.VideoLoader.prototype.getExternalViewId=function(){return this.videoConfig.rid},TRC.VideoLoader.prototype.getOpenExchangeEnabled=function(){return this.videoConfig.oee},TRC.VideoLoader.prototype.getSourceItemId=function(){return this.videoConfig.sii},TRC.Videreturn(new Date).getTime().toString()},TRC.VideoLon(){return window.location.search||""},TRC.VideoLoa"]||["vstaging","keyword","customTB"]},TRC.VideoLoader.prototype.getPublisherId=function(){return this.videoConfig.tpubid},TRC.VideoLoader.prototype.getUserIdSource=function(){return this.videoConfig.uis},TRC.VideoLoader.prototype.getCcpaDoNotSell=function(){return this.videoConfig.ccpaDns},TRC.VideoLoader.prototype.getCcpaPrivacyString=function(){return this.videoConfig.ccpaPrivacy},TRC.VideoLoader.prototype.getRegion=function(){return this.videoConfig.region},TRC.VideoLoader.prototype.getHasGDPRConsent=function(){return this.videoConfig.hasGDPRConsent},TRC.Viata||this.consentData.consentDaisyBit},TRC.VideoLoad?2:this.getConsentDaisyBit()?1:void 0},TRC.VideoLoadnction"==typeof window.__cmp?1:void 0},Tr()||this.getTCFVersionByMethodImpl()},TRC.ta.tcString:this.getConsentDaisyBit()},TRC.VideoLoader.prototype.getTaboolaNetworkId=function(){return this.videoConfig.tnetid},TRC.VideoLoader.prototype.getGenieVariantId=function(){return this.trcManager.experimentsData&&this.trcManager.experimentsData[e]?this.trcManager.experimentsData[e].split("|")[1]:null},TRrApplies:this.consentData.gdprApplies}},TRC.InvokeVideoTtLoader=this.initUnitLoader(r,i,o,t))},TRC.VideoTagLoader.prototype=__trcObjectCreate(TRC.VideoLoader.prototype),TRC.VideoTagLoader.prototype.LOCATION_TYPES={ABOVE:"above",BELOW:"below",ITEM:"item",STANDALONE:"standalone",SINGLE_MANAGER:"singleManager"},TRC.Vurn new TRC.SliderVideoUnitLoader(e)}},TRC.VideoTon(e){TRC.filledImpressions.push(e)})},TRC.VideoTagLoader.prototype.getCallbacksObjectKey=function(){return"videoTagCallbacks"},TRC.VideoTagLoader.prototype.shouldBlockVideoLoader=function(e,t){var r=e||!1;if(!r)return isNaN(t)||(r=Math.random()<t/100),TRC.pConsole("page","info","Blocked video: "+r+", block-video-prob: "+t,"string"),r},TRC.VideoTagLoader.prototype.genVideoCallback=function(){var e=this.generateCallbackName(),t=this;return TRC.videoTagCallbacks[e]=function(e){if(TRCImpl.global["enable-video-ajax"]){if(!t.isXHRDone(e.target))return;TRC.performance&&TRC.performance.mark("videoAjaxStop",null,"","","videoAjaxRoundtrip",TRC.PerfEvenType.STOP),e=t.parseTBResponse(e.target.responseText)}var r,i;if(TRC.performance&&TRC.performance.mark("videoJsonpRequestStop",null,"","","videoJsonpRequestTime",TRC.PerfEvenType.STOP),(e=e||{}).tags&&e.tags[0]){(r=t.getLiteUnitVersion(e.tags[0].liteUnitBootSrc||t.videoConfig.liteUnitBootSrc))||(r=e.tags[0].unitBootSrc||t.videoConfig.unitBootSrc),window.TRC.liteUnit&&(r=t.getLiteUnitFromTRCConfig(r));var o=t.getVideoMacrosLiteUnitVersion(e.tags[0].url);o&&-1===window.location.href.indexOf("static-test-files.taboolasyndication")&&(r=t.replaceVersion(r,o));var n=TRC.isAMP?window.context.location.search:window.TRCImpl.getItemUrlQueryString()||"";(n.indexOf("tb_liteUnitUrl")>-1||n.indexOf("tb_liteUnitVersion")>-1)&&(r=t.getVersionFromUrl(r,n)),(i=document.createElement("script")).src=r,i.crossOrigin="anonymous",i.onload=function(){window.TRC=window.TRC||{},window.TRC.liteUnit=window.TRC.liteUnit||{},TRCImpl.global["enable-mw-no-items-exit"]?window.TRC.liteUnit.abTest="scadjtst1_vA":TRCImpl.global["enable-mw-content-ready-margins"]?window.TRC.liteUnit.abTest="scadjtst1_vB":TRCImpl.global["enable-mw-control"]&&(window.TRC.liteUnit.abTest="scadjtst1_vC"),window.TRC.liteUnit&&window.TRC.liteUnit.abTest&&(window.cmTag.set("pixels.startWithABT.isFire",!0),window.cmTag.push("abTest",window.TRC.liteUnit.abTest));var r=t.videoConfig.containerSelector||t.unitLoader.getVideoContainerSelector(t.taboolaContainer)||t.invisibleContainer,i;r&&(window.cmTag.set("parentSelector",r),i=document.querySelector(r));var o=t.unitLoader.loadUnit(e,i);o&&t.setGlobalUnitParams(o)},document.getElementsByTagName("head")[0].appendChild(i)}},"TRC."+this.getCallbacksObjectKey()+"."+e},s&&e.readyState===XMLHttpRequest.DONE},TRC.Vising",TRC.PerfEvenType.STOP)}return t},TRC.VideoTagLo(e.indexOf("(")+1,e.lastIndexOf(")"))},TRC.Videoesktop()?"Desktop":"Mobile")}return""},TRC.Videol was supplied.\nProvided url: "+e),r},TRC.VideoTagLoader.prototype.ALLOWED_LITE_UNIT_URLS_DOMAINS=["localhost","vidstat.taboola.com"],TRConfig.unitType)>-1)return e;return""},TRC.VideoTagLoader.prototype.UNIT_TYPES={Slider:["46","59"],Inline:["193","198","199","194","216","48","32","215"],WidgetItem:["226","227","248","4","5"],FeedManager:["244","245","247"],VideoForPerformance:["232","233"],RecoReelWidget:["254","255"],StoriesWidget:["143","144"],Instream:["107","108"],ExcoPlayer:["242","243"],MidArticleSlider:["147","148"]},TRC.VideoTagLoaion(e,window.TRC.liteUnit.version)),e},TRC.Vrn e.replace(/\d+[_|.]\d+[_|.]\d+/,t)},TRC.VideoTagLoader.pplace(/\'|\"|\s+/g,"");if(i)return i}},TRC.Vider)),i&&(e=this.replaceVersion(e,i)),e},TRgth;r++)if(e[r]===t)return!0;return&&(t,i)}}TRC.VirtualPlacementsManager=e})(),TRC.visibiVPShift=r,o.getHoractitNodo);ih=funmaskedIpParser=e.unmaskedIpParser||new t})(TRC);var CONSTANTS={STYLESHEET:``,BLOCK_CST",r,!0),n.send(JSON.stringify(i))}}}}}(window,window["${jsScope}".intimeStamp("call trcReady"),TRC.trcReady()}(window,document);