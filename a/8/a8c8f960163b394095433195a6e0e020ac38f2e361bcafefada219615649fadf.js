/*!
 * 
 * ------------------------
 * -- NewsUK AD library
 * -- Version:  v1.137.795 - times_render
 * -- Built:    Wed Jan 17 2024 10:06:46 GMT+0000 (Coordinated Universal Time)
 * -- Branch:   master
 * -- GIT SHA1: 82a49d582ab5eaa7721b07262b7d75199d2fe986
 * ------------------------
 *
 */(()=>{var e={378:144:17:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>ue});var r=n(144),o=n.n(r),i=n(411),a=n(6),l=n(442),s=n(989),u=n(168);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var f=void 0,g=const p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e?JSON.parse(JSON.stringify(e)):"undefined";f=t},v=function(){var e=g(),t=u.A.makeKeyValueList(e.window_targeting,"Page");return window.newsUkAdLibraryConfig=d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},window.newsUkAdLibraryConfig,e),{targeting:t}),Promise.resolve(!0)};var b=n(944),m=n(569),y=n(702);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}var A="admantx_data",S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseApiUrl:void 0,apiParams:void 0,mapping:void 0,dfpDefaultValue:void 0},n=t.baseApiUrl,r=t.apiParams,o=t.mapping,i=t.dfpDefaultValue,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"_baseApiUrl",void 0),w(this,"_apiParams",void 0),w(this,"_encodedUriParams",void 0),w(this,"_mapping",void 0),w(this,"_dfpDefaultValue",void 0),w(this,"_flattenedData",void 0),w(this,"_dfpData",void 0),w(this,"_vendorId",void 0),w(this,"vendorId",(0,y.o)("admantx")),this._dfpDefaultValue=i||["DEFAULT"],this._mapping=o||[{serviceName:"admants",serviceKey:"name",dfpKey:"admantx_bs"},{serviceName:"categories",serviceKey:"name",dfpKey:"admantx_cat"},{serviceName:"feelings",serviceKey:"name",dfpKey:"admantx_emotion"},{serviceName:"entities",serviceKey:"name",dfpKey:"admantx_ents"}],this._baseApiUrl=n||this._getApiUri(),this._apiParams=r,this._flattenedData={},this._dfpData={},this._mapping.forEach(()}var t,n,r;return t=e,(n=[{key:"isDataGloballyAvailable",value:function(){var e=u.A.getGlobal(A);if(e&&!e.failed){var t=performance.now()-u.A.getGlobal("nukprt");return l.Z.setPageTargeting({isDataGloballyAvailable:t}),!0}return!1}},{key:"_saveToGlobalScope",value:function(e){var t=k({},this._flattenedData,e);return u.A.setGlobal(A,t),t}},{key:"cleanupValueForDfp",value:,{key:"_getApiUri",value:function(){var e="https://euasync01.admantx.com/admantx/service?request=";return a.Z.debug("Admantx getApiUri:",e),e}},{key:"_getApiParams",value:function(){var e=m.Z.getPath(),t=u.A.getGlobal("newsUkAdLibraryConfig.config.dataLayerPageUrl");t&&(e=u.A.getGlobal(t));var n={key:"f1694ae18c17dc1475ee187e4996ad2b484217b1a436cb04b7ac3dd4902180b6",method:"descriptor",mode:"async",decorator:"json",filter:"default",type:"URL",body:e};return a.Z.debug("Admantx getApiParams:",n),n}},{key:"callService",value:function(){this._encodedUriParams=encodeURIComponent(JSON.stringify(this._apiParams||this._getApiParams()));var e="".concat(this._baseApiUrl).concat(this._encodedUriParams);return fetch(e).then((function(e){if(!e.ok||200!==e.status)throw a.Z.error("Admantx network response was not ok:",e),new Error("Admantx network response was not ok.");return e.json()})).catch((function(e){return u.A.setGlobal(A,{error:e}),a.Z.error("Admantx there was an error fetching data:",e),l.Z.setPageTargeting({admFetchData:e}),Promise.resolve({error:e})}))}},{key:"_processResponse",value:function(e){var t=this,n=e.valid,r=e.error,o=this._mapping.some(();if("OK"!==n||!o||r)return a.Z.error("Admantx might have an issue",k({},r,e)),l.Z.setPageTargeting({admProcessResponseError:1}),k({},r,e);this._mapping.map((function(n){var r=n.serviceName,o=n.serviceKey,i=e[r];i&&(t._flattenedData[r]=i.map(().filter(())}));var i=performance.now()-u.A.getGlobal("nukprt");return l.Z.setPageTargeting({admProcessResponseTime:i}),this._saveToGlobalScope(this._flattenedData)}},{key:"getFlattenedData",value:function(){var e=this;return this.isDataGloballyAvailable()?Promise.resolve(k({},this._flattenedData,u.A.getGlobal(A))):this.callService().then((function(t){return e._processResponse(t)}))}},{key:"getTargetingDataForDfp",value:function(){var e=this;return b.Z.isArticle()?this.getFlattenedData().then((function(t){e._mapping.map((function(n){var r=n.serviceName,o=n.dfpKey;e._dfpData[o]=t[r]}));var n=performance.now()-u.A.getGlobal("nukprt");return l.Z.setPageTargeting({admDataSetForGPT:n}),Promise.resolve(e._dfpData)})):Promise.resolve(this._dfpData)}}])&&h(t.prototype,n),r&&h(t,r),e}(),P=n(147);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"setVpaid",value:,{key:"setIU",value:function(){var e=window.newsUkAdLibraryConfig,t=e.id,n=e.name,r=e.targeting.section;return window.iu="".concat(t,"/").concat(n,"/").concat(r),!0}},{key:"setCMSID",value:,{key:"setCustomParams",value:function(){var e,t,n,r,o,i=this,l=this._getWindowCookiesAsObject(),s=u.A.getGlobal("appState")?u.A.getGlobal("appState.features"):void 0,c=s?Object.keys(s).filter(():void 0,d=x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},null!==(o=null===(t=window)||void 0===t||null===(e=t.newsUkAdLibraryConfig)||void 0===e?void 0:e.targeting)&&void 0!==o?o:{}),{gdpr_consent:null===(r=window)||void 0===r||null===(n=r.newsUkAdLibrary)||void 0===n?void 0:n.tcfConsentString});if(""!==a.Z.getTestMode()&&(d.testmode=a.Z.getTestMode()),void 0!==c&&(d.features=c),void 0!==window.admantx_data){var f=!0,g=!1,p=void 0;try{for(var v,b=Object.entries(window.admantx_data)[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var m=z(v.value,2),y=m[0],h=m[1];switch(y){case"admants":d.admantx_bs=h.join(",");break;case"categories":d.admantx_cat=h.join(",");break;case"entities":d.admantx_ents=h.join(",");break;case"feelings":d.admantx_emotion=h.join(",")}}}catch(e){g=!0,p=e}finally{try{f||null==b.return||b.return()}finally{if(g)throw p}}}["A","P"].map((),this._getIamTgtValues(l,"C")&&(d.C=this._getIamTgtValues(l,"C")+":G");var w=new URLSearchParams(window.cust_params||"");return Object.entries(d).forEach((function(e){var t=z(e,2),n=t[0],r=t[1];void 0!==r&&w.append(n,String(r))})),void 0!==window.pageViewId&&w.append("pageviewID",window.pageViewId),window.cust_params=w.toString(),!0}},{key:"_getWindowCookiesAsObject",value:function(){return document.cookie.split("; ").reduce((,{})}},{key:"_getIamTgtValues",value:function(e,t){e.iam_tgt&&decodeURIComponent(e.iam_tgt).split(":").reduce((function(e,n){return z(n.split(t+"="),2)[1]}),{})}}],(n=null)&&j(t.prototype,n),r&&j(t,r),e}(),Z=n(209),L=n(275);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _,E,D,U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"load",value:function(){if(!e.isEnabled()){var t="Nielsen did not load as its not enabled in config!";return a.Z.warn(t),Promise.reject(t)}e._setInitialData();var n=e.getUrl();return Z.Z.injectScript({src:n})}},{key:"getUrl",value:function(){var e=u.A.getGlobal("newsUkAdLibraryConfig.partners.nielsen.url");return a.Z.log("Request vendor URL: "+e),e}},{key:"isEnabled",value:function(){var e=!!u.A.getGlobal("newsUkAdLibraryConfig.partners.nielsen");return e||a.Z.debug("Nielsen is not enabled"),e}},{key:"_setInitialData",value:],(n=null)&&T(t.prototype,n),r&&T(t,r),e}();_=U,E="vendorId",D=(0,y.o)("nielsen"),E in _?Object.defineProperty(_,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):_[E]=D;var G=n(360);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(){var e=R(window.newsUkAdLibrary.cmd);window.newsUkAdLibrary.cmd.push=function(e){try{"function"==typeof e?e.call(null):a.Z.warn("[CMD] no callback function provided")}catch(e){a.Z.error("[CMD]",e)}},e.map((function(e){try{"function"==typeof e?e.call(null):a.Z.warn("[CMD] no callback function provided")}catch(e){a.Z.error("[CMD]",e)}}))}var B=n(664),V=function(){return{impressionViewable:function(e){var t,n,r,o,i;return null===(i=window)||void 0===i||null===(o=i.googletag)||void 0===o||null===(r=o.pubads)||void 0===r||null===(n=r.call(o))||void 0===n||null===(t=n.addEventListener)||void 0===t?void 0:t.call(n,"impressionViewable",e)},slotRenderEnded:function(e){var t,n,r,o,i;return null===(i=window)||void 0===i||null===(o=i.googletag)||void 0===o||null===(r=o.pubads)||void 0===r||null===(n=r.call(o))||void 0===n||null===(t=n.addEventListener)||void 0===t?void 0:t.call(n,"slotRenderEnded",e)},slotRequested:function(e){var t,n,r,o,i;return null===(i=window)||void 0===i||null===(o=i.googletag)||void 0===o||null===(r=o.pubads)||void 0===r||null===(n=r.call(o))||void 0===n||null===(t=n.addEventListener)||void 0===t?void 0:t.call(n,"slotRequested",e)},visibilityChange:function(e){return document.addEventListener("visibilitychange",e)},prebidAuctionEnd:function(e){var t,n,r;return null===(r=window)||void 0===r||null===(n=r.pbjs)||void 0===n||null===(t=n.onEvent)||void 0===t?void 0:t.call(n,"auctionEnd",e)},amazonAuctionEnd:function(e){return window.addEventListener("amazonAuctionEnd",e)},excoVideoPlayer:};function N(){var e,t;if("art"!==u.A.getGlobal("newsUkAdLibraryConfig.targeting.cont_type"))return!1;var n,r,o,i=null===(t=window.newsUkAdLibraryConfig.config)||void 0===t||null===(e=t.paragraphCounter)||void 0===e?void 0:e.target,l=(n=i,r=document.querySelectorAll(n),(o=Array.from(r).filter(().filter(()).length>0?o.length:r.length);return!!(i&&l>0)&&(a.Z.log("Article paragraph count: ".concat(l)),u.A.setGlobal("newsUkAdLibraryConfig.stowage.article_paragraph_count",l),!0)}var F=n(152),K=n(924),W=n(400);const H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u.A.getGlobal("newsUkAdLibraryConfig.config.swipeTracking")&&"SWIPE"===(null==e?void 0:e.type)&&l.Z.setPageTargeting({swipe:e.payload})};function $(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Q(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var J,X,Y,ee=(J=function(){var e,t,n,r,o=arguments;return Q(this,(function(i){switch(i.label){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,t=o.length>1?o[1]:void 0,a.Z.log("Adding TealiumId to Trackonomics URL"),(null===(r=window)||void 0===r||null===(n=r.utag_data)||void 0===n?void 0:n.tealium_visitor_id)?[3,4]:e<5?[4,t(Math.pow(e,5))]:[3,3];case 1:return i.sent(),[4,ee(e+1,t)];case 2:i.sent(),i.label=3;case 3:return[2];case 4:return document.querySelectorAll('a[href^="https://clicks.trx-hub.com/xid"]').forEach((function(e){return e.href=new URL("".concat(e,"&").concat(new URLSearchParams({Tealium_id:window.utag_data.tealium_visitor_id}))).href})),a.Z.log("TealiumId added to Trackonomics URL"),[2]}}))},X=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=J.apply(e,t);function i(e){$(o,n,r,i,a,"next",e)}function a(e){$(o,n,r,i,a,"throw",e)}i(void 0)}))},function(){return X.apply(this,arguments)}),te=function(){(u.A.getGlobal("newsUkAdLibraryConfig.userReqConsent.tealium")?K.Z.checkConsent("tealium").consent?(a.Z.log("Consent given for tealiumId."),1):(a.Z.log("No consent given for tealiumId."),0):(a.Z.log("Tealium no userReqConsent present"),0))&&ee(1,Z.Z.delayExecution)};function ne(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ne(i,r,o,a,l,"next",e)}function l(e){ne(i,r,o,a,l,"throw",e)}a(void 0)}))}}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var le={config:{useAutoKPI:!0,refreshAllOrders:!0,refreshTimeout:3e4,skinViewportThresholds:{thin:1200,full:1500},breakpoint:{default:810,useDeviceWidth:!1},correlateAds:!0,slotCounter:{enable:!0,target:".Section-ad, .nuk-ad-placeholder"},optimizely:{impressionViewable:!0},paragraphCounter:{target:"#article-main p"}},userReqConsent:{permutive:{consent:[1,3]}},partners:{commercialAnalyticsCollector:{enabled:!1,performanceTracking:{enabled:!1},environment:"production",envs:{staging:{endpoint:"https://commercial-analytics-collector.staging-news.co.uk/track"},production:{endpoint:"https://commercial-analytics-collector.news.co.uk/track"}}},permutive:{enabled:!0,projectId:"88a66e5c-8fe8-48af-9c6c-3ec3f4983aad",apiKey:"6d4308de-b940-4b9d-aeda-a62d7637d513",targetingName:"permutive",storageKey:"_pdfps",addonTypeDefault:"web",permutiveURL:"https://cdn.permutive.com/88a66e5c-8fe8-48af-9c6c-3ec3f4983aad-web.js",globalNamespace:"permutive"},dma:{enabled:!1,environment:"production",priceGranularity:{buckets:[{increment:.02,min:0,max:5,precision:2},{increment:.1,min:5,max:20,precision:2}]},envs:{development:{endpoint:"https://newskit.dev.newsapis.co.uk/graphql",key:"dc754beb06e240df9ed85d9a06249541"},staging:{endpoint:"https://newskit.staging.newsapis.co.uk/graphql",key:"16cb298e3c1e49b9ab7dd19a610e5180"},production:{endpoint:"https://newskit.newsapis.co.uk/graphql",key:"603114ff2e0e4e6ab50e1ebe55eee92f"}}},dianomi:{enabled:!0,contextFeed:{url:"https://www.dianomi.com/js/contextfeed.js",placements:[{placementId:205,sections:["news","world","comment","business","ireland","scotland","newsreview","money","bricksmortar","law"]},{placementId:265,sections:["times2","sport","home","thetimesmagazine","culture","thesundaytimesmagazine","saturdayreview","register"]}]},breakpoint:810,smartadsURL:"https://www.dianomi.com/smartads.epl",smartads:[{section:"style",desktop:{size:[1200,300],id:6415},mobile:{size:[300,250],id:6417}}]},tmt:{url:"https://scripts.webcontentassessor.com/scripts/08f3140e964d35efaaa94ba9f2cdbf9edafbfde6673ba81ffe923565f70bc138?dt=1585330388"},pressboard:{setup:{init:"250822",set:"story"},embedDivId:"pressboard-ad-sponsorship-msg",referenceDivClass:"tags__block",lookupTag:"utag_data.article_topic_tags",lookupTagValue:"branded-content"},brandmetrics:{enabled:!0,survey:"https://cdn.brandmetrics.com/tag/3507d3a478cd4f59b15eb40434141032/thetimes.js"},msb:{enabled:!0,placeholder:{label:"mobile-sticky-banner",placeholderClassName:"dfp-ad",id:"#mobile-sticky-banner-wrapper",selectorStyleMobile:"position: fixed; bottom: 0; left: 0; right: 0; z-index: 1; background: white; text-align: center; min-height:50px;",pageAdjustments:[{selector:"#paywall-portal-page-footer > div",stylingMobile:"bottom:50px"},{selector:"#free-article-promotion > div",stylingMobile:"bottom:50px"}],visible:675,usrAccess:{logOut:"nuk.user.isLoggedIn"}}},video:{enabled:!0}},prebid:{pubcid:{expInterval:43800},realTimeData:{dataProviders:[{name:"permutive",params:{acBidders:["ozone","rubicon"]}}]},userSync:{userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:30}},{name:"parrableId",params:{partner:"c9b19e0e-070c-40ad-bb52-ccfc6249727f",timezoneFilter:{allowedZones:["Europe/London"]}}},{name:"criteo"}],iframeEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:3,syncDelay:6e3,aliasSyncEnabled:!0},priceGranularity:{buckets:[{increment:.02,min:0,max:5,precision:2},{increment:.1,min:5,max:20,precision:2}]},mediaTypePriceGranularity:{video:{buckets:[{increment:.1,min:0,max:40,precision:2}]}},sizeConfig:[{labels:["display"],mediaQuery:"(min-width: 969px)",supportedSizes:[[970,250],[970,90],[728,90],[300,600],[300,250]]},{labels:["tablet"],mediaQuery:"(min-width: 468px) and (max-width: 968px)",supportedSizes:[[728,90],[320,50],[300,250],[300,50]]},{labels:["phone"],mediaQuery:"(min-width: 0px) and (max-width: 467px)",supportedSizes:[[320,50],[300,250],[300,50]]}],outbrain:{bidderUrl:"https://b1h.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h.zemanta.com/usersync/prebid"},video:{inStreamDefaultSize:[640,480]}},intelligentAuction:{floorPrice:1},id:3048,secondaryId:25436805,name:"d.thetimes.co.uk",auction:{timeout:1500,amazon_a9:{accountId:3360,slotID:"thetimes_video_{{duration}}"},realTimeData:{dataProviders:[{name:"ias",waitForIt:!0,params:{pubId:"930174"}}]},criteo:{fastBidVersion:"latest",enableFirstPlayId:!0},prebid:[{bidder:"ozone",params:{accountId:"",placementId:"0420420423",placements:[],publisherId:"OZONENUK0001",siteId:"4204204203",zoneId:""}},{bidder:"mgnipbs",params:{domain:"thetimes-co-uk"}},{bidder:"appnexus",params:{placementId:"7460885"}},{bidder:"rubicon",params:{accountId:7753,siteId:76518,zoneId:448756}},{bidder:"triplelift",params:{placements:[{inventoryCode:"newsuk_thetimes_Prebid_300x250",size:[300,250]},{inventoryCode:"newsuk_thetimes_Prebid_300x600",size:[300,600]},{inventoryCode:"newsuk_thetimes_Prebid_970x250",size:[970,250]},{inventoryCode:"newsuk_thetimes_Prebid_HDX",size:[[320,50],[728,90]]},{inventoryCode:"newsuk_thetimes_Prebid_mobile_inarticle_outstream_mpu",size:[300,250],slots:[["*"],["ad-article-inline"]]}]}},{bidder:"criteo",params:{networkId:1854}},{bidder:"onemobile",params:{dcn:"8a9691fc0173733320f834dbc4a80029",placements:[{pos:"8a9691fc0173733320f834dc145e002b",size:[300,250]},{pos:"8a9691fc0173733320f834dc442d002c",size:[320,50]},{pos:"8a9691fc0173733320f834dc76ee002d",size:[728,90]},{pos:"8a9691fc0173733320f834dcc826002e",size:[970,250]}]}},{bidder:"teads",params:{pageId:119625},placements:{banner:{slots:["^inline-ad$"],placementId:129758},inarticle:{slots:["^inline-ad$","ad-article-inline(-\\d+)?$"],placementId:129758}}}],prebidVideo:[{bidder:"rubicon",params:{accountId:7753,siteId:483746,zoneId:2866950,sizeId:201,video:{language:"en"}}},{bidder:"criteo",params:{zoneId:1757079,video:{skip:0,playbackmethod:1,placement:1}}},{bidder:"appnexus",params:{placementId:"30027333"}},{bidder:"ix",params:{siteId:"983443",size:[640,480],video:{mimes:["video/mp4","video/webm","application/javascript"],minduration:0,protocols:[2,3,5,6],api:[1,2]}}},{bidder:"improvedigital",params:{placementId:"22987798",keyValues:{siteId:"1201",siteName:"The Sun",zoneName:"Video",siteType:"Web",placementName:"The Sun - Instream Video"}}},{bidder:"pubmatic",params:{publisherId:"156034",adSlot:"Times_Video",video:{mimes:["video/mp4","application/javascript"],skippable:!0,minduration:5,startdelay:5,playbackmethod:[3],api:[1,2],protocols:[2,3,5,6],battr:[13,14],linearity:1,placement:1,minbitrate:10,maxbitrate:3e3}}},{bidder:"ozone",params:{publisherId:"OZONENUK0001",siteId:"4204204203",placementId:"1500000080"}}],consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0},usp:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}},prebidModules:{magnite:[{accountId:7753,bidders:["mgnipbs"],defaultVendor:"rubicon",coopSync:!0,userSyncLimit:8,allowUnknownBidderCodes:!0,extPrebid:{cache:{vastxml:{returnCreative:!1}},bidders:{mgnipbs:{wrappername:"7753_News_UK_thetimes_co_uk"}}}}]},exclude:{vars:{ARTICLE_ACCESS:"newsUkAdLibraryConfig.stowage.zephr"}}},window_targeting:{manual:{refresh:"false",pw:"1"},dynamicVars:{testgroup:""},gpt:{ppid:["utag_data.sync_vis_id","utag_data.tealium_visitor_id"]},vars:{path:"nuk.ads.tuples.path",section:"nuk.ads.commercialSection",log:"nuk.user.isLoggedIn",ra:"nuk.user.isMetered",cont_type:"nuk.ads.tuples.cont",aid:"nuk.article.articleId",topic:"nuk.ads.tuples.topic",om_v_id:"utag_data.tealium_visitor_id"},cookie:{eid:"acs_tnl.eid",ppid:"acs_tnl.ppid",cips:"acs_tnl.cips",om_v_id:"utag_main.v_id|$|:"},localStorage:{}},slots:[{name:"ad-header",lazyLoad:{options:{viewportThresholdMultiple:"3"}},exclude:{pageTypes:["index"]},target:{manual:{pos:"header",sg:"Direct"},vars:{pcnt:"newsUkAdLibraryConfig.stowage.article_paragraph_count"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,50],[320,50]]]]},{name:"ad-news",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-news",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-comment",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-comment",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-world",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-world",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-business",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-business",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-sport",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-sport",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-puzzles",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-puzzles",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-times2",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-times2",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-law",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-law",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-scotland",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-scotland",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-ireland",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-ireland",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-christmasSpecial",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-christmasSpecial"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-register",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-register",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-newsReview",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-newsReview"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-money",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-money"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-homeClassroom",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-homeClassroom"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-theSundayTimesMagazine",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-theSundayTimesMagazine"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-style",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-style"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-culture",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-culture"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-travel",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-travel"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-home",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-home"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-irishSport",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-irishSport"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-readers'Lives",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-readers'Lives"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-magazine",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-magazine"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-saturdayReview",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-saturdayReview"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-luxury",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-luxury"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-luxxReport",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-luxxReport"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-weekend",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-weekend"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-richList",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-richList"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-parentPower2022",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-parentPower2022"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-christmasFood",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-christmasFood"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-bricks &Mortar",lazyLoad:{options:{viewportThresholdMultiple:"1"}},exclude:{auctioneers:["mgnipbs"]},target:{manual:{pos:"ad-bricks &Mortar"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-article-inline",lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"inline-ad",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90],[1,1]]],[[768,90],[[728,90],[1,1]]],[[300,100],[[300,250],[300,50],[320,50],[1,1]]]]},{name:"ad-article-inline-1",lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"inline-ad-1",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-article-inline-2",lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"inline-ad-2",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-article-inline-3",lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"inline-ad-3",sg:"Direct"}},config:{refresh:{enabled:!0}},sizes:[[[1024,250],[[970,250],[970,90],[728,90]]],[[768,90],[[728,90]]],[[300,100],[[300,250],[300,50],[320,50]]]]},{name:"ad-mpu",lazyLoad:{options:{viewportThresholdMultiple:"1"}},target:{manual:{pos:"ad-mpu"}},config:{refresh:{enabled:!0}},sizes:[[[1024,90],[[300,600]]],[[768,90],[[300,600]]],[[300,100],[[300,250],[320,50],[300,50]]]]},{name:"advert-section-native-1",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-1",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-2",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-2",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-3",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-3",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-4",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-4",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-5",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-5",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-6",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-6",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-7",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-7",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-section-native-8",exclude:{auctioneers:["ias","mgnipbs"]},lazyLoad:{options:{viewportThresholdMultiple:"2"}},target:{manual:{pos:"advert-section-native-8",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-inarticle-native-1",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-inarticle-native-1",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-inarticle-native-2",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-inarticle-native-2",sg:"TNLnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-travel-native-1",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-travel-native-1",sg:"Travelnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-travel-native-2",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-travel-native-2",sg:"Travelnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-travel-native-3",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-travel-native-3",sg:"Travelnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-travel-native-4",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-travel-native-4",sg:"Travelnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-travel-article-native-1",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-travel-article-native-1",sg:"Travelnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"advert-travel-article-native-2",exclude:{auctioneers:["ias","mgnipbs"]},target:{manual:{pos:"advert-travel-article-native-2",sg:"Travelnative"}},config:{refresh:{enabled:!0}},sizes:[[[0,0],["fluid"]]]},{name:"ad-pixel",target:{manual:{pos:"pixel",sg:"Direct"},vars:{},cookie:{},localStorage:{}},exclude:{auctioneers:["all"]},config:{refresh:{enabled:!0}},sizes:[[[0,0],[[1,1]]]]},{name:"ad-pixelSticky",target:{manual:{pos:"pixelSticky",sg:"Direct"},vars:{},cookie:{},localStorage:{}},config:{refresh:{enabled:!0}},exclude:{auctioneers:["all"]},sizes:[[[0,0],[[2,2]]]]},{name:"pixelVertical",target:{manual:{pos:"pixelVertical"}},config:{refresh:{enabled:!0}},sizes:[[[981,100],[[970,250],[970,90],[728,90],[1,1]]],[[768,100],[[728,90]]],[[0,0],[[320,50],[300,50],[300,250],[1,1]]]],exclude:{auctioneers:["all"]}},{name:"pixelLogo",target:{manual:{pos:"pixel-logo"}},config:{refresh:{enabled:!0}},exclude:{auctioneers:["all"]},sizes:[[[0,0],[[1,1]]]]},{name:"mobile-sticky-banner",target:{manual:{pos:"sticky-leaderboard",sg:"Direct"}},exclude:{viewport:{max:675}},config:{refresh:{enabled:!0}},sizes:[[[0,0],[[320,50]]]]}],dynamicSlots:{target:".nuk-ad-placeholder",templates:{channel:{name:"{%NAME%}",target:{manual:{pos:"{%POS%}"}},sizes:[[[981,100],[[970,250],[970,90],[728,90]]],[[768,100],[[728,90]]],[[0,0],[[320,50],[300,50],[300,250]]]]},channelList:{name:"{%NAME%}",target:{manual:{pos:"{%POS%}"}},sizes:[[[981,100],[[728,90]]],[[768,100],[[728,90]]],[[0,0],[[320,50],[300,50],[300,250]]]]},channelMpu:{name:"{%NAME%}",target:{manual:{pos:"{%POS%}"}},sizes:[[[981,100],[[300,250],[300,600]]],[[0,0],[[320,50],[300,50],[300,250]]]]},pixelLogo:{name:"{%NAME%}",target:{manual:{pos:"{%POS%}"}},exclude:{auctioneers:["all"]},sizes:[[[0,0],[[1,1]]]]}}}},se=null==le||null===(Y=le.auction)||void 0===Y?void 0:Y.timeout,ue=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie(this,"buildInfo",{version:"v1.137.795",buildDate:"2024-01-17T10:06:46.901Z",branch:"master",brand:"times_render",sha:"82a49d582ab5eaa7721b07262b7d75199d2fe986"}),ie(this,"admantx",void 0),ie(this,"getSlotConfig",void 0),ie(this,"admantxDfpData",void 0),ie(this,"tcfConsentString",void 0),ie(this,"videoAuction",void 0),ie(this,"getTalkTvAdProps",void 0),ie(this,"disableRefreshBySlotPos",void 0),ie(this,"useConsent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;a.Z.warn("Consent",e),a.Z.event("Consent",{consent:e}),Z.Z.delayExecution(600).then((function(){!window.newsUkCMPExecution&&window.newsUkAdLibrary.isConsentAvailable()&&(a.Z.info("SP loaded AL."),window.newsUkAdLibrary.render(),window.newsUkCMPExecution=!0)}))})),ie(this,"cmd",(null===(n=window)||void 0===n||null===(t=n.newsUkAdLibrary)||void 0===t?void 0:t.cmd)||[])}var t,n,r;return t=e,n=[{key:"render",value:function(){var e=this;this.admantx=new S,p(le);var t=u.A.getGlobal("newsUkAdLibraryPartners");this.disableRefreshBySlotPos=B.dS,v().then(().then(N).then(Z.Z.setPageViewId).then(().then(l.Z.setGPTDefaultConfig).then(().then(().then((function(e){l.Z.setPageTargeting({pageviewId:u.A.getGlobal("window.newsUkAdLibraryConfig.stowage.pageviewId")}),l.Z.setPageTargeting(e),i.z.AdLibInit({admantxData:e})})).then((function(){C.setCustomParams()})).then((function(){if(b.Z.isAdBlocked())return Promise.reject("Ads are blocked on this page.");Promise.resolve(!0)})).then((function(){var e,t;l.Z.setPageTargeting(null===(t=window)||void 0===t||null===(e=t.newsUkAdLibraryConfig)||void 0===e?void 0:e.targeting),l.Z.setPageTargeting(u.A.getReferrerData()),l.Z.setPageTargeting({skins:s.Z.getSkinViewportThreshold()})})).then((function(){l.Z.detectPrivateSandboxLabel()})).then((function(){var e=a.Z.getTestMode();e&&l.Z.setPageTargeting({testmode:e})})).then(s.Z.setAvailableSlotsInPage).then(l.Z.defineSlots).then((function(){V().slotRenderEnded(l.Z.listRenderedSlotsDetails),V().impressionViewable(l.Z.gptImpressionViewable)})).then(().then(l.Z.enableServices).then((function(){var e=null==t?void 0:t.ias;e&&(new e).makeRequest().catch(()})).then((function(){return(0,G.pF)(s.Z.getRawSlotsInDisplay(),se)})).then((function(){return l.Z.displaySlots((0,F.Oj)(l.Z.getSlotsInDisplay()))})).then(().then((function(){return e.setExecutionStatus(!0)})).then((function(){return e.queueProcessor()})).then(M).then((function(){V().slotRenderEnded(B.Nu),V().impressionViewable(B.bi),W.Z.isEnabled()&&W.Z.load()})).then(().catch((function(e){return a.Z.error(e)}))}},{key:"queueProcessor",value:function(){if(a.Z.log("Preparing que processing."),window.newsUkAdLibraryQue&&window.newsUkAdLibraryQue.length){var e=window.newsUkAdLibraryQue.shift();a.Z.log("Rendering slot with name ".concat(e.name)),window.newsUkAdLibrary.dynamicSlotRender(window.newsUkAdLibrary.getSlotConfigsByTemplate(e.template,e.name)),a.Z.log("Re-running the que processor method."),window.newsUkAdLibrary.queueProcessor()}else a.Z.log("There is no que to process or newsUkAdLibraryQue is not available on window.")}},{key:"loadVendors",value:function(e){return re((function(){var t,n,r,o,i,s,u,c,d,f,g,p;return ae(this,(function(v){return a.Z.log("Vendor inclusion request"),t=e.ias,n=e.tmt,r=e.ozone,o=e.dianomi,i=e.mass,s=e.criteo,u=e.dma,c=e.pressboard,d=e.commercialAnalyticsCollector,f=e.video,g=e.talkTVPlayer,p=e.exco,[n,new l.Z,P.Z,u,t&&new t,o,U,r&&new r,i,s,c,d,f,g,p].filter((function(e){return e&&e.isEnabled()&&!a.Z.isVendorDisabled(e.vendorId)})).map((function(e){return a.Z.log("Initialising vendor: ",e),e.load().catch(()})),a.Z.log("Enabled vendors added"),[2]}))}))()}},{key:"getSlotConfigsByTemplate",value:function(e,t){var n,r,o;if(e||t){var i=null===(o=window)||void 0===o||null===(r=o.newsUkAdLibraryConfig)||void 0===r||null===(n=r.dynamicSlots)||void 0===n?void 0:n.templates[e];if(i){var l=JSON.stringify(i).replace(/{%NAME%}|{%POS%}/gi,t);return a.Z.log("Slot config for slotID: ".concat(t," with template ").concat(e)),JSON.parse(l)}a.Z.error("Requested config for template: ".concat(e," and slotID ").concat(t," is not available."))}else a.Z.error("Requested config for template: ".concat(e," or slotID ").concat(t," is not available."))}},{key:"refreshAllSlotsAndConfigs",value:function(){H(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),l.Z.refreshSlots(),l.Z.findBlankSlotAndInitialise()}},{key:"clearTargeting",value:,{key:"setExecutionStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u.A.setGlobal("newsUkAdLibraryConfig.config.isCompleted",e)}},{key:"getSlotConfigsById",value:function(e){return s.Z.getSlotConfigsById(e)}},{key:"consentReady",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.z.tcfInit(t,null==le||null===(e=le.partners)||void 0===e?void 0:e.permutive),window.newsUkAdLibrary.render(),window.newsUkCMPExecution=!0}}],r=[{key:"dynamicSlotRender",value:function(e){return re((function(){var t;return ae(this,(function(n){switch(n.label){case 0:return u.A.getGlobal("thesun_googletag.hide_ads")?[2,a.Z.warn("Ads are configured not to be displayed on this page!")]:document.querySelector("#".concat(e.name))?((null==e?void 0:e.lazyLoad)&&delete e.lazyLoad,(0,B.UT)(e)&&B.tW.push(e),a.Z.event("dynamicSlotRender",{slotName:e.name}),t=l.Z.slotPrepare(e),[4,(0,G.pF)([e],se)]):[2,a.Z.warn("Requested slot ID:",e.name,"is not available in page")];case 1:return n.sent(),[4,l.Z.displaySlots([t])];case 2:return[2,n.sent()]}}))}))()}},{key:"dynamicRemoveSlotRender",value:function(e){return u.A.getGlobal("thesun_googletag.hide_ads")?(a.Z.error("Ads are not to be displayed."),Promise.reject(void 0)):document.getElementById(e)?(s.Z.publicOutputRemoveSlot(e),l.Z.destroySlot(e)):(a.Z.error('Requested slot "'.concat(e,'" is not available in page to be removed')),Promise.reject(void 0))}}],n&&oe(t.prototype,n),r&&oe(t,r),e}();window.nukprt=performance.now();try{var ce,de="times_render";a.Z.init({version:"v1.137.795",buildDate:"2024-01-17T10:06:46.901Z",branch:"master",brand:"times_render",sha:"82a49d582ab5eaa7721b07262b7d75199d2fe986"}),a.Z.info("Initialising NewsUK AD library\n  > Version: ".concat("v1.137.795"," - ").concat(de,"\n  > Built: ").concat("2024-01-17T10:06:46.901Z","\n  > Branch: ").concat("master","\n  > GIT SHA: ").concat("82a49d582ab5eaa7721b07262b7d75199d2fe986"));var fe=!0===(null==le||null===(ce=le.config)||void 0===ce?void 0:ce.useAutoKPI);if(a.Z.log("AutoKPI is ".concat(fe?"ENABLED":"DISABLED")),fe){var ge=document.currentScript.getAttribute("src"),pe=new URL(ge.startsWith("http")?ge:"https:".concat(ge));pe.pathname="/".concat(de,".json"),o()(pe.toString(),{jsonpCallbackFunction:"jsonp_autokpi"}).then((function(e){return e.json()})).then(().catch(()}}catch(e){console.error(e),a.Z.error(e)}window.newsUkAdLibrary=new ue,window.newsUkAdLibrary.adLibGDPR=!0,window.newsUkAuctionManager=!1,window.newsUkCMPExecution=!1,Z.Z.waitForFirstPaint().then((),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return a.Z.log("TCF: tcfApiAvailable called"),new Promise((function(n,r){var o=0,i=setInterval((function(){o++,window.__tcfapi&&"function"==typeof window.__tcfapi&&(clearInterval(i),n(!0)),o>e/t&&(clearInterval(i),a.Z.warn('Consent - Exceeded "'.concat(e,'ms" timeout detecting TCF API')),r('Exceeded "'.concat(e,'ms" timeout detecting TCF API')))}),t)}))}().then((function(){a.Z.log("TCF: set event listener"),window.__tcfapi("addEventListener",2,(function(e,t){if(t){var n=!1;a.Z.log("TCF: callback triggered, data:",e,"status:",t),a.Z.log("TCF: attach to namespace",window.newsUkAdLibrary),window.newsUkAdLibrary.adLibGDPR=e.gdprApplies,e.gdprApplies?"tcloaded"!==e.eventStatus&&"useractioncomplete"!=e.eventStatus||(a.Z.log("TCF: gdpr apply for current location"),window.newsUkAdLibrary.tcfConsentString=e.tcString,Object.keys(e.purpose.consents).length>0&&window.newsUkAdLibrary.consentReady(),n=!0):(a.Z.log("TCF: gdpr does not apply for current location"),K.Z.getUSAConsent(),window.newsUkAdLibrary.consentReady(!1),n=!0),n&&(window.__tcfapi("removeEventListener",2,(,e.listenerId),a.Z.log("TCF: event removed"))}else a.Z.log("TCF: could not register event",e)}))})).catch(a.Z.error)},6:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(168),o=n(569);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l="ncuAd",s={logging:{flag:"".concat(l,"Debug"),level:2,prefix:"".concat(l)},disabledVendorsFlag:"".concat(l,"DisableVendors"),disabledVendors:[],offValue:"OFF",testing:{flag:"testmode",mode:""}},u=!1,c=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d({method:"log",message:e,messages:n})},d=function(e){var t,n=e.method,o=e.message,i=e.messages;if(u){var s=[],c=performance.now()-r.A.getGlobal("nukprt");s.push("%c".concat(l," ").concat(c.toFixed(3),"ms"),"color: #1176d4;"),s.push(o),(t=console)[n].apply(t,a(s).concat(a(i))),window.newrelic&&window.newrelic.noticeError&&["warn","error"].includes(n)&&window.newrelic.noticeError(new Error([o].concat(a(i)).join(" ")))}};const f={error:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d({method:"error",message:e,messages:n})},warn:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d({method:"warn",message:e,messages:n})},log:c,event:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;window.newrelic&&window.newrelic.noticeError&&(o=window.newrelic).addToTrace.apply(o,["".concat(l,"-").concat(e)].concat(a(n)))},info:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d({method:"info",message:e,messages:n})},debug:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d({method:"debug",message:e,messages:n})},init:function(e){var t=o.Z.getQuerystring(),n={logLevel:s.logging.level,testMode:s.testing.mode};localStorage.getItem(s.logging.flag)&&localStorage.getItem(s.logging.flag)!==s.offValue?u=!0:localStorage.setItem(s.logging.flag,s.offValue);var r=localStorage.getItem(s.logging.flag);if(r&&(n.logLevel=parseInt(r,10)),-1!==t.indexOf(s.logging.flag)){n.logLevel=5;var i=o.Z.getQueryParameterValue(s.logging.flag);i&&(n.logLevel=parseInt(i,10))}var a=localStorage.getItem(s.testing.flag),d=o.Z.getQueryParameterValue(s.testing.flag);a&&(n.testMode=a),d&&(d=d.toLowerCase(),s.testing.mode=d);var f=o.Z.getQueryParameterValue(s.disabledVendorsFlag)||localStorage.getItem(s.disabledVendorsFlag);return s.disabledVendors=f&&f.toLowerCase().split(",")||[],0!==s.disabledVendors.length?c("Disabled Vendors: ".concat(s.disabledVendors.join(", ")," as per QueryString/LocalStorage")):localStorage.setItem(s.disabledVendorsFlag,""),window.newrelic&&window.newrelic.noticeError&&(window.newrelic.setCustomAttribute("".concat(l,"-branch"),e.branch),window.newrelic.setCustomAttribute("".concat(l,"-brand"),e.brand),window.newrelic.setCustomAttribute("".concat(l,"-version"),e.version)),!0},getTestMode:isVendorDisabled:function(e){return-1!==s.disabledVendors.indexOf(String(e).toLowerCase())}}},430:(e,t,n)=>{"use strict";function r(e){var t=new CustomEvent(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return window.dispatchEvent(t)}n.d(t,{r:()=>r})},360:(e,t,n)=>{"use strict";n.d(t,{QV:()=>b,fj:()=>w,pF:()=>y,qb:()=>k,sn:()=>g});var r=n(442),o=n(420),i=n(147),a=n(944),l=n(6),s=n(925),u=n(168),c=n(228);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!0===(null===(e=window)||void 0===e?void 0:e.newsUkAuctionManager))return Promise.resolve(!0);var r=new Promise((function(e){var t=setInterval((function(){var n;!0===(null===(n=window)||void 0===n?void 0:n.newsUkAuctionManager)&&(clearInterval(t),e(!0))}),n)}));return(0,s.X)(r,t)}function p(){var e=(u.A.getGlobal("newsUkAdLibraryConfig.auction.exclude")||{}).vars;return!!e&&Object.entries(e).some((function(e){var t=f(e,2),n=t[0],r=t[1];return u.A.getGlobal(r)===n}))}function v(e,t){return!r.Z.amazonA9AuctionEnabled()||p()?Promise.resolve():(0,s.X)(i.Z.requestBids(e,t),t)}function b(e,t){return!r.Z.prebidAuctionEnabled()||p()?Promise.resolve():(0,s.X)(o.Z.requestBids(e),t)}function m(e,t){return c.ZP.isEnabled()?(0,s.X)(c.ZP.requestBids(e),t):Promise.resolve()}function y(e,t){return a.Z.isAdBlocked()?(l.Z.warn("Ads are configured not to be displayed on this page!"),Promise.resolve()):e.length?Promise.allSettled([v(e,t),b(e,t),m(e,t)]).then((function(e){return e.map((function(e){return l.Z.log("Bids returned from all auctions",(null==e?void 0:e.value)||0)}))})).then(h).then((function(){return e})):(l.Z.warn("No slots provided for auction"),Promise.resolve())}function h(){return u.A.setGlobal("newsUkAuctionManager",!0),!0}function w(e,t){var n=u.A.getPageCharacteristics().deviceType,r=Array.isArray(e)?e:e[n]||[];return r.includes("all")||r.some(()}function k(e,t){if(e.auctionRestrictions){var n=e.auctionRestrictions.sizes;t=t.filter((function(e){return!n.reduce((function(t,n){return t||n[0]===e[0]&&n[1]===e[1]}),!1)}))}return t}},168:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,E:()=>b});var r=n(6),o=n(378);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}var f,g=window;!f||(f={}));var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getWidth",value:function(){return g.innerWidth}},{key:"getHeight",value:function(){return g.innerHeight}},{key:"getReferrerData",value:function(){var e,t=g.document.referrer,n={social:["twitter.com","facebook.com","instagram.com","youtube.com","linkedin.com","reddit.com","tumblr.com","snapchat.com","pinterest.com","nextdoor.com"],search:["google.com","google.co.uk","bing.com"]};try{e=new URL(t).host}catch(e){return{alReferrer:"",alReferrerCat:""===t?f.Direct:f.Uncategorised}}var r=n.search.some((function(t){return e.endsWith(t)}))?f.Search:n.social.some((function(t){return e.endsWith(t)}))?f.Social:f.Uncategorised;return{alReferrer:e,alReferrerCat:r}}},{key:"setGlobal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;e?(e.split(".").reduce((function(e,n,r,o){return e.hasOwnProperty(n)||(e[n]={}),r===o.length-1&&(e[n]=t),e[n]}),g),r.Z.info("setGlobal:",e,t)):r.Z.warn("setGlobal will not use property name: ".concat(e))}},{key:"checkGlobalPropertyValue",value:function(t){var n=t.property,r=t.value,o=t.fallback,i=void 0!==o&&o;return e.getGlobal(n)===r||i}},{key:"getDynamicProperty",value:function(t){var n=String(Math.floor(99*Math.random())+1),r={testgroup:n};return"testgroup"===t&&e.setGlobal("window.newsUkAdLibraryConfig.stowage.testgroup",n),r[t]}},{key:"makeKeyValueList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;r.Z.info("".concat(n," target: preparing to be set"));var o={};return["manual","vars","dynamicVars","localStorage","cookie"].forEach((function(i){t[i]&&Object.keys(t[i]).length&&(Object.assign(o,e.extractKeyValues(t[i],i)),r.Z.info("".concat(n," target: ").concat(i," has been set")))})),r.Z.log("".concat(n," target completed")),o}},{key:"replaceInObject",value:function(e,t,n){return JSON.parse(JSON.stringify(e).replace("{%".concat(t,"%}"),n))}},{key:"deserializer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"string"!=typeof t?{}:t.split(e.splitter).filter(Boolean).map((function(t){return t.trim().split(e.assignmentOperator).map(decodeURIComponent)})).reduce((function(e,t){var n=u(t,2),r=n[0],o=n[1];return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},e),l({},r,o))}),{})}},{key:"extractValueFromCookie",value:function(t){var n={splitter:"&",assignmentOperator:"="},r=t.match(/\|./g)||[];if(2===r.length){var i=u(r.map((),2),a=i[0],l=i[1];n.splitter=a,n.assignmentOperator=l}var s=u(t.split(".").map(().filter(Boolean),2),c=s[0],d=s[1];return!!c&&(d?e.deserializer(n,o.get(c))[d]||!1:o.get(c)||!1)}},{key:"extractKeyValues",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r={},o=!0,i=!1,a=void 0;try{for(var l,s=Object.entries(t)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=u(l.value,2),d=c[0],f=c[1];switch(n){case"vars":r[d]=e.getGlobal(f);break;case"dynamicVars":r[d]=e.getDynamicProperty(d);break;case"cookie":r[d]=e.extractValueFromCookie(f);break;case"localStorage":r[d]=g.localStorage.getItem(f);break;default:r[d]=f}}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"getPageCharacteristics",value:function(){var t=e.getWidth(),n=e.getGlobal("newsUkAdLibraryConfig.config.breakpoint"),r=n.default,o=n.useDeviceWidth?t:r;return{deviceType:e.getDeviceType(o),deviceWidth:t,deviceBreakpoint:o}}}],(n=null)&&a(t.prototype,n),i&&a(t,i),e}();l(p,"getGlobal",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return e.split(".").reduce((,t)})),l(p,"getDeviceType",(function(e){return p.getWidth()<=e?"mobile":"desktop"}));var v=function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var o=n.shift();if(v(e)&&v(o))for(var i in o)v(o[i])?(e[i]||Object.assign(e,l({},i,{})),b(e[i],o[i])):Object.assign(e,l({},i,o[i]));return b.apply(void 0,[e].concat(c(n)))}},152:(e,t,n)=>{"use strict";n.d(t,{Oj:()=>j,cM:()=>w,iT:()=>I});var r,o,i=n(360),a=n(420),l=n(6),s=n(442),u=n(989),c=n(168);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)}))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}unction y(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var h,w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(r=l.Z).log.apply(r,["[Intelligent Auction]: ".concat(e)].concat(m(n)))},k=(h=g((function(e,t){return y(this,(function(n){return[2,new Promise((function(n){var r={rootMargin:"0px 0px ".concat(window.innerHeight*e,"px 0px")};new IntersectionObserver((function(e,t){e.filter((function(e){return e.isIntersecting})).forEach((function(e){t.unobserve(e.target),n(!0)}))}),r).observe(document.getElementById(t))}))]}))})),,A=function(e){var t=window.pbjs.getBidResponsesForAdUnitCode(e).bids,n=c.A.getGlobal("newsUkAdLibraryConfig.intelligentAuction.floorPrice")||0;return t.some(()},S=function(){var e=g((function(e){var t;return y(this,(function(n){switch(n.label){case 0:return t=e.name,A(t)?(w("".concat(e.name," / bid already exists")),[2,!0]):(w("".concat(e.name," / no valuable bid from previous auction")),a.Z.removeAdUnit(t),[4,(0,i.QV)([b(v({},e),{isSecondaryAuction:!0})],c.A.getGlobal("newsUkAdLibraryConfig.auction.timeout")||1500).catch((function(t){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(o=l.Z).error.apply(o,["[Intelligent Auction]: ".concat(e)].concat(m(n)))}(e.name,t)}))]);case 1:return n.sent(),s.Z.getSlotsInDisplay().find(().setTargeting("bid2","1"),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=g((function(e){var t,n,r,o,i;return y(this,(function(a){switch(a.label){case 0:return t=e.name,n=e.intelligentAuction,r=n.options,o=r.vpOnRequest,i=r.vpOnDisplay,[4,Promise.all([k(o,t).then(g((function(){return y(this,(function(n){switch(n.label){case 0:return w("".concat(t," / ready for second auction")),[4,S(e)];case 1:return n.sent(),w("".concat(t," / bid response"),window.pbjs.getBidResponsesForAdUnitCode(t)),[2]}}))}))),k(i,t).then(()])];case 1:return a.sent(),s.Z.displaySlots(s.Z.getSlotsInDisplay().filter((function(e){return e.getSlotElementId()===t}))),w("".concat(t," / completed")),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),O=function(){return u.Z.getRawSlotsInDisplay().filter(().filter((function(e){var t,n=(null===(t=e.intelligentAuction)||void 0===t?void 0:t.options)||{},r=n.vpOnRequest,o=void 0===r?null:r,i=n.vpOnDisplay,a=void 0===i?null:i,l=n.whitelistIds,s=void 0===l?null:l;return!(Array.isArray(s)&&!s.includes(e.name))&&(Number.isInteger(o)&&Number.isInteger(a))}))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=O().map((function(e){return e.name}));return e.filter(()},I=function(){var e=g((function(){var e;return y(this,(function(t){return e=O(),s.Z.prebidAuctionEnabled()&&window.IntersectionObserver?(e.filter(().forEach((function(e){var t=e.name;w("ready to display `".concat(t,"` without 2nd auction")),s.Z.displaySlots(s.Z.getSlotsInDisplay().filter(())})),Promise.all(e.filter(().map(P)),[2,!0]):(s.Z.displaySlots(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=O().map((function(e){return e.name}));return e.filter(()}(s.Z.getSlotsInDisplay())),[2,!1])}))}));return function(){return e.apply(this,arguments)}}()},275:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>v,Dn:()=>m,Nu:()=>b,Zr:()=>A,aF:()=>p,oi:()=>f,y6:()=>g});var r=n(442),o=n(6),i=n(360);function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var f=[],g=function(e){o.Z.log('Adding "'.concat(e.name,'" to lazy load queue')),f.push(e)},p=v=function(e){if(f.length){var t=f.findIndex((function(t){return(null==t?void 0:t.name)===e}));return f[t]&&(o.Z.log('Removing "'.concat(f[t].name,'" from lazy load queue')),f.splice(t,1)),!0}};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f.length?e.reduce((function(e,t){var n=t.getSlotElementId().toString();return f.some((function(e){return e.name===n}))||e.push(t),e}),[]):e}function m(e){var t,n,r=e.slot,o=e.type;if(void 0===r.lazyLoad)return!1;r.target&&!(null===(t=r.target.manual)||void 0===t?void 0:t.lazyLoad)&&(r.target=u(s({},r.target),{manual:u(s({},r.target.manual),{lazyLoad:!0})}));var i=null===(n=r.lazyLoad)||void 0===n?void 0:n.cont_types;return!Array.isArray(i)||i.includes(o)}function y(e,t){return e.map((function(e){if(e.isIntersecting)return h(e.target.id).then(v).then((function(){return t.unobserve(e.target)}))}))}unction w(){var e;return e=function(e){var t;return d(this,(function(n){switch(n.label){case 0:return[4,(0,i.sn)().catch(()];case 1:return n.sent(),t=r.Z.getSlotsInDisplay().filter((),o.Z.log("LazyLoad intersect for ".concat(e)),window.googletag.display(e),r.Z.refreshSlots(t),o.Z.log("Refresh slot(s)",e),[2,e]}}))},w=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)}))},w.apply(this,arguments)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"0px 0px ".concat(window.innerHeight*e,"px 0px")}function A(e,t){return window.IntersectionObserver?e.map((function(e){var n,r=document.getElementById("".concat(e.name));if(r){var o=(null===(n=e.lazyLoad)||void 0===n?void 0:n.options)||{},i=o.viewportThresholdMultiple,a=u(s({},c(o,["viewportThresholdMultiple"])),{rootMargin:k(i)}),l=t||y,a);return l.observe(r)}})):Promise.allSettled(e.map((function(e){return t?t(e):h(e.name)})))}},944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(6),o=n(168);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"_getProperty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?void 0:t,i=e.names,a=void 0===i?[]:i,l=e.defaultValue,s=void 0===l?void 0:l,u=e.namespaces,c=void 0===u?[]:u,d=s,f=[];return n||a?(0==c.length&&c.push("utag_data"),a.push(n),f=c.filter((function(e){return o.A.getGlobal(e)})),a.find((function(e){return f.find((function(t){var n=o.A.getGlobal("".concat(t,".").concat(e));return!!n&&(d=n,!0)}))})),d):(r.Z.warn("called Page._getProperty without a valid property to lookup"),d)}},{key:"getExposedData",value:,{key:"getArticleId",value:function(){return e._getProperty({name:"article_id",defaultValue:""})}},{key:"getHeadline",value:function(){return e._getProperty({name:"article_name",defaultValue:""})}},{key:"getKicker",value:,{key:"getAuthors",value:function(){var t=e._getProperty({name:"article_author",defaultValue:[]});return Array.isArray(t)||(t=t.split(/[,|]/).map((function(e){return e.trim()})).filter((function(e){return e.length}))),t}},{key:"getTags",value:function(){var t=o.A.getGlobal("nuk.ads.page_topics_and_tags");return t||(t=e._getProperty({name:"page_tags",defaultValue:[]})),Array.isArray(t)||(t=t.split(/[,|]/).map((function(e){return e.trim()})).filter((function(e){return e.length}))),t}},{key:"isPremium",value:function(){return!1}},{key:"getModifiedDate",value:function(){var e,t;return null===(t=window)||void 0===t||null===(e=t.utag_data)||void 0===e?void 0:e.article_publish_latest}},{key:"getPublishedDate",value:function(){var e,t;return null===(t=window)||void 0===t||null===(e=t.utag_data)||void 0===e?void 0:e.article_publish_timestamp}},{key:"getTopics",value:,{key:"getType",value:function(){var t=e._getProperty({name:"page_type",defaultValue:void 0});return e.isArticle()?(t="article",!0===o.A.getGlobal("utag_data.videoarticle")&&(t="video"),t):t}},{key:"isArticle",value:function(){var e="article"===o.A.getGlobal("utag_data.page_type"),t="art"===o.A.getGlobal("nuk.ads.tuples.cont"),n="art"===o.A.getGlobal("thesun_googletag.sec");return e||t||n}},{key:"getSection",value:function(){var t=e._getProperty({names:["sectionID","section","commercialSection","sec"],namespaces:["thesun_googletag","ad_data","nuk.ads","adtech"]});if(t)return t.split("?")[0]}},{key:"isAdBlocked",value:function(){return e._getProperty({names:["hide_ads","blocked"],namespaces:["thesun_googletag","nuk.ads"]})}},{key:"getSectionPath",value:function(){return e._getProperty({name:"sectionID",namespaces:["thesun_googletag"]})}},{key:"getSectionSegment",value:function(t){return t?e._getProperty({name:t,defaultValue:""}).toLowerCase():""}},{key:"getContentType",value:function(){return e._getProperty({names:["cont_type","sec","ads.tuples.cont"],namespaces:["thesun_googletag","nuk","adtech"],defaultValue:""})}}],(n=null)&&i(t.prototype,n),a&&i(t,a),e}()},209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(6),o=n(168);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}var d=!1,f=document.currentScript,g=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=u(Array(256)).map((function(e,t){return(t<16?"0":"")+t.toString(16)}));return o[255&e]+o[e>>8&255]+o[e>>16&255]+o[e>>24&255]+"-"+o[255&t]+o[t>>8&255]+"-"+o[t>>16&15|64]+o[t>>24&255]+"-"+o[63&n|128]+o[n>>8&255]+"-"+o[n>>16&255]+o[n>>24&255]+o[255&r]+o[r>>8&255]+o[r>>16&255]+o[r>>24&255]},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=document.createElement(e);return t&&Object.keys(t).map((),n};const v={UUIDv4:g,createElement:p,setPageViewId:function(){var e,t,n=null!==(t=null===(e=window)||void 0===e?void 0:e.pageViewId)&&void 0!==t?t:g();o.A.setGlobal("window.newsUkAdLibraryConfig.stowage.pageviewId",n)},injectInlineScript:function(e){var t=e.content,n=e.target;return new Promise((function(e,o){t||(r.Z.error("No script tag content provided"),o("No script tag content provided"));var i=document.createElement("script");i.onload=i.append(t),document[n].append(i)}))},injectScript:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.src,n=void 0===t?null:t,o=e.async,i=void 0===o||o,s=e.defer,u=void 0!==s&&s,c=e.target,d=void 0===c?"head":c,f=e.programmatic,g=void 0!==f&&f;return n?new Promise((function(e,t){var o=document.querySelector('script[src="'+n+'"]');o&&(r.Z.log("Script element already exists. Removing before creating a new one."),o.remove());var s={src:n,async:i,defer:u,target:d};g&&(s=l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},s),{programmatic:g}));var c=p("script",s);document.getElementsByTagName(d)[0].append(c),c.onload=c.onerror=)):(r.Z.warn("No script tag `src` provided"),Promise.reject("No script tag `src` provided"))},injectImage:function(e){if(e){var t=new window.Image;t.src=e,t.onerror=onerror=document.getElementsByTagName("body")[0].appendChild(t)}else r.Z.error("no src provided for image to load")},waitForFirstPaint:delayExecution:isElementIdInPage:isScriptInPage:function(e){return!!document.querySelector('script[src^="'.concat(e,'"]'))},setStowege:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return window.newsUkAdLibraryConfig.stowage?e?e.split(".").reduce((function(e,t){return e[t]={}}),{}):void 0:window.newsUkAdLibraryConfig.stowage={}},objectToString:useAdLibraryStyles:function(){if(d)return!1;var e=o.A.getGlobal("newsUkAdLibrary.buildInfo.brand"),t=new URL(f.src).hostname,n="//".concat(t,"/ads.").concat(e,".min.css");r.Z.log("Using Ad Library Styles",{href:n});var i=p("link",{href:n,rel:"stylesheet"});document.querySelectorAll("head")[0].appendChild(i),d=!0}}},925:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=new Promise((function(e,n){var r=setTimeout((,t)}));return Promise.race([e,n])}},664:(e,t,n)=>{"use strict";n.d(t,{Nu:()=>p,UT:()=>g,bi:()=>m,dS:()=>w,tW:()=>f});var r=n(6),o=n(17),i=n(944);function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var d=3e4,f=[];function g(e){var t,n,r,o,a,l=i.Z.getSection()||"";if("1"===window.localStorage.getItem("ncuDisableRefresh"))return!1;if((null==e||null===(t=e.config)||void 0===t?void 0:t.hasOwnProperty("refresh"))&&!0===(null===(n=e.config.refresh)||void 0===n?void 0:n.enabled))return!(null==e||null===(o=e.config)||void 0===o||null===(r=o.refresh)||void 0===r?void 0:r.hasOwnProperty("sections"))||(null==e||null===(a=e.config)||void 0===a?void 0:a.refresh.sections.includes(l.split("/")[0]));return e=s({},{config:{refresh:!1},target:{manual:{adrefresh:!1}}},e),!1}function p(e){var t,n,o,i,a,l,c,d,p,b,m,y,h,w,k,A,S,P,O,j,I,x,z,C=Array.isArray(null==e?void 0:e.size)&&(null==e?void 0:e.size[0]),Z=Array.isArray(null==e?void 0:e.size)&&(null==e?void 0:e.size[1]),L=null==e||null===(t=e.slot)||void 0===t?void 0:t.getSlotElementId(),T=null===(a=window)||void 0===a||null===(i=a.newsUkAdLibraryConfig)||void 0===i||null===(o=i.config)||void 0===o||null===(n=o.refresh)||void 0===n?void 0:n.blacklist,_=!0===(null===(d=window)||void 0===d||null===(c=d.newsUkAdLibraryConfig)||void 0===c||null===(l=c.config)||void 0===l?void 0:l.useAutoKPI),E=null===(m=window)||void 0===m||null===(b=m.newsUkAdLibraryConfig)||void 0===b||null===(p=b.config)||void 0===p?void 0:p.refreshAllOrders,D=null===(w=window)||void 0===w||null===(h=w.newsUkAdLibraryConfig)||void 0===h||null===(y=h.config)||void 0===y?void 0:y.refreshTimeout,U=(null===(A=window)||void 0===A||null===(k=A.newsUkAdLibraryAutoKPI)||void 0===k?void 0:k.sponsorshipLineItems)||[],G=(null===(P=window)||void 0===P||null===(S=P.newsUkAdLibraryAutoKPI)||void 0===S?void 0:S.sponsorshipOrderIds)||[],q=(null===(j=window)||void 0===j||null===(O=j.newsUkAdLibraryAutoKPI)||void 0===O?void 0:O.adxOrderIds)||[];if(_&&U.includes(null==e||null===(I=e.lineItemId)||void 0===I?void 0:I.toString()))return r.Z.log("Disabling refresh for slot ".concat(L," due to auto KPI settings")),void(f=f.filter((function(e){return e.name!==L})));if(_&&G.includes(null==e||null===(x=e.campaignId)||void 0===x?void 0:x.toString()))return r.Z.log("Disabling refresh for slot ".concat(L," due to auto KPI settings (order ID)")),void(f=f.filter((function(e){return e.name!==L})));if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t.length)return!1;var n=[e.advertiserId,e.campaignId,e.creativeId,e.lineItemId].filter(();return t.reduce((function(t,o){return n.includes(o)&&(r.Z.log("[REFRESH] ".concat(e.slot.getSlotElementId()," is blacklisted")),t=!0),t}),!1)}(e,T))f=f.filter(();else if(L&&f.some((function(e){return e.name===L}))){_&&(q.includes(null==e||null===(z=e.campaignId)||void 0===z?void 0:z.toString())||E)&&(f=f.map((function(e){return e.name===L?(r.Z.log("[REFRESH] Update refresh time for ".concat(e.name," due to auto KPI settings Adx order ID ").concat(q)),u(s({},e),{config:u(s({},e.config),{refresh:u(s({},e.config.refresh),{timeout:D})})})):e})));var R=v(L);if(g(R)&&C&&Z)r.Z.log("[REFRESH] measured ".concat(C,"x").concat(Z,' for slot "').concat(L,'"')),!function(e,t){f=f.map((function(n){return e.name===n.name?u(s({},n),{target:u(s({},n.target),{manual:u(s({},n.target.manual),{adrefresh:!0})}),sizes:t}):n}))}(R,[[[981,100],[[C,Z]]],[[810,100],[[C,Z]]],[[300,100],[[C,Z]]]]),function(e,t,n){var r=document.getElementById(e);if(r)return r.style.minWidth="".concat(t,"px"),r.style.minHeight="".concat(n,"px"),!0}(L,C,Z);return!0}}function v(e){return f.find(()}function b(e,t){return e.map((function(e){if(e.isIntersecting)return function(e){var t;null===(t=window)||void 0===t||t.googletag.pubads().clearTargeting("swipe");var n=v(e);return n?(r.Z.info('[REFRESH] render "'.concat(n.name,'" slot')),o.ZP.dynamicRemoveSlotRender(n.name).then(().catch(r.Z.error)):Promise.reject("[REFRESH] valid slot not provided on refresh callback")}(e.target.id).then(().then(().catch(r.Z.error)}))}function m(e){var t,n,o=e.slot.getSlotElementId(),i=v(o),a=function(e){var t,n,r=window.newsUkAdLibraryConfig.slots.find((function(t){return t.name===e}));return!1===(null==r||null===(n=r.config)||void 0===n||null===(t=n.refresh)||void 0===t?void 0:t.enabled)}(o);if(i&&!a){r.Z.info('[REFRESH] refresh initialised for "'.concat(null==i?void 0:i.name,'"'));var l=document.getElementById(i.name),s=(null==i||null===(n=i.config)||void 0===n||null===(t=n.refresh)||void 0===t?void 0:t.timeout)||d,u=setTimeout((function(){r.Z.log("[REFRESH] IntersectionObserver called after ".concat(s," for ").concat(o)),new IntersectionObserver(b).observe(l),clearTimeout(u)}),s)}}var y,h,w=(y=function(e){var t;return c(this,(function(n){return-1!==(t=f.findIndex(())&&(f=f.filter((),r.Z.log("[REFRESH]: slot refresh disabled on ".concat(e))),[2]}))},h=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=y.apply(e,t);function i(e){a(o,n,r,i,l,"next",e)}function l(e){a(o,n,r,i,l,"throw",e)}i(void 0)}))},},989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(202),o=n(171),i=n(6),a=n(209);function l(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function f(e,t){return Array.from(e).reduce((function(e,n){var r,o,a=null==n||null===(r=n.dataset)||void 0===r?void 0:r.adLabel,l=JSON.parse((null==n||null===(o=n.dataset)||void 0===o?void 0:o.adKv)||"{}"),s=t[a],d=n.id;if(s&&d)try{var f=JSON.parse(JSON.stringify(s).replace(/{%NAME%}|{%POS%}/gi,d));e.push(c(u({},f),{target:c(u({},f.target),{manual:u({},f.target.manual,l)})}))}catch(e){i.Z.error(e)}return e}),[])}unction p(){var e;return e=function(){var e,t,n,r,o,i,a,l,s;return d(this,(function(u){return a=null===(n=window)||void 0===n||null===(t=n.newsUkAdLibraryConfig)||void 0===t||null===(e=t.dynamicSlots)||void 0===e?void 0:e.target,l=null===(i=window)||void 0===i||null===(o=i.newsUkAdLibraryConfig)||void 0===o||null===(r=o.dynamicSlots)||void 0===r?void 0:r.templates,(s=document.querySelectorAll(a))?[2,f(s,l)]:[2,[]]}))},p=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))},p.apply(this,arguments)}var v=n(168),b=n(275),m=n(664),y=n(944);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P={DMPU:function(e){return A(k({},e),{sizes:e.sizes.map((function(e){return[e[0],e[1].some(()?e[1]:e[1].concat([[300,600]])]}))})}};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function T(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"getRawSlotsInDisplay",value:function(){return e.slotsInDom}},{key:"slotIsValid",value:function(e){var t,n;return!!((null==e?void 0:e.name)&&(null==e||null===(n=e.target)||void 0===n||null===(t=n.manual)||void 0===t?void 0:t.pos)&&(null==e?void 0:e.sizes)&&Array.isArray(e.sizes)&&e.sizes.length>=1)}},{key:"publicOutputProcessedSlots",value:function(e){var t,n,r;if(Array.isArray(null===(n=window.newsUkAdLibraryConfig)||void 0===n||null===(t=n.config)||void 0===t?void 0:t.slotsRendered)&&!window.newsUkAdLibraryConfig.config.slotsRendered.includes(e))return window.newsUkAdLibraryConfig.config.slotsRendered.push(e);(null===(r=window.newsUkAdLibraryConfig)||void 0===r?void 0:r.config)&&(window.newsUkAdLibraryConfig.config.slotsRendered=[e])}},{key:"publicOutputRemoveSlot",value:function(e){var t,n,r=null===(n=window.newsUkAdLibraryConfig)||void 0===n||null===(t=n.config)||void 0===t?void 0:t.slotsRendered,o=null==r?void 0:r.indexOf(e);o>=0&&r.splice(o,1)}},{key:"removeSlotSize",value:function(e,t){return e.filter((function(e){return!(e[0]===t[0]&&e[1]===t[1])}))}},{key:"setAvailableSlotsInPage",value:function(){return(t=function(){var t,n,l;return T(this,(function(s){switch(s.label){case 0:return t=window.newsUkAdLibraryConfig.slots,[4,g()];case 1:return n=s.sent(),l=v.A.getGlobal("newsUkAdLibraryConfig.targeting.cont_type")||v.A.getGlobal("newsUkAdLibraryConfig.targeting.cont"),Z(t).concat(Z(n)).filter((function(e){return a.Z.isElementIdInPage(e.name)&&r.Z.isSlotVisible(e)&&o.Z.validSection(e)})).forEach((function(t){var n=document.getElementById(t.name),r={},o=!0,a=!1,s=void 0;try{for(var u,c=Object.entries((null==n?void 0:n.dataset)||{})[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=C(u.value,2),f=d[0],g=d[1];f.startsWith("adFeature")&&(r[f.slice(9)]=JSON.parse(g||"{}"))}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var p=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=k({},(null==n||null===(e=n.config)||void 0===e?void 0:e.features)||{},t),o=(y.Z.getSection()||"").split("/")[0],a=n,l=!0,s=!1,u=void 0;try{for(var c,d=Object.entries(r)[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var f,g=S(c.value,2),p=g[0],v=g[1];!v.enabled||(null===(f=v.sections)||void 0===f?void 0:f.length)&&!v.sections.includes(o)||(i.Z.log('enabling "'.concat(p,' feature on "').concat(n.name,'"')),a=P[p]&&P[p].call(null,a,v))}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}return a}(r,t);(0,b.Dn)({slot:p,type:l})&&(0,b.y6)(p),(0,m.UT)(p)&&m.tW.push(p),e.getCounterSlotOrderFromDOM(p),e.slotsInDom.push(p),e.publicOutputProcessedSlots(p.name)})),i.Z.log("Available slots in page",e.slotsInDom),[2,e.slotsInDom]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){j(i,r,o,a,l,"next",e)}function l(e){j(i,r,o,a,l,"throw",e)}a(void 0)}))})();var t}},{key:"isCounterEnabled",value:function(){var e=window.newsUkAdLibraryConfig;return!!(e.config&&e.config.slotCounter&&e.config.slotCounter.enable&&e.config.slotCounter.target)}},{key:"getCounterSlotOrderFromDOM",value:function(){var t,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.isCounterEnabled())return i;var a=null===(o=window)||void 0===o||null===(r=o.newsUkAdLibraryConfig)||void 0===r||null===(n=r.config)||void 0===n||null===(t=n.slotCounter)||void 0===t?void 0:t.target,l=document.querySelectorAll(String(a));return Object.keys(l).map((function(e){l[e].id==i.name&&(i.target.manual.counter=parseInt(e)+1)})),i}},{key:"getSlotSizesByBreakpoint",value:function(t){var n=t.slot,r=t.browserWidth,o=t.defaultBreakpoint,i=void 0===o?810:o,a={},l=[];return((null==n?void 0:n.sizes)||[]).map((function(t,o){var l,s,u,c,d=t[0],f=t[1],g=d[0],p=(null===(s=n.exclude)||void 0===s||null===(l=s.viewport)||void 0===l?void 0:l.min)||(null===(c=n.exclude)||void 0===c||null===(u=c.viewport)||void 0===u?void 0:u.max)||i;e.isSlotExcluded(n.name,/(pixel|in-article-fluid|advert-section-native|advert-inarticle-native)/gi)||r>=p&&g>=p&&f.map((function(e){a[e.toString()]=e})),r<=p&&g<p&&f.map(()})),Object.keys(a).forEach((),l.filter((function(e){return"fluid"===e||e[0]<=r}))}},{key:"isSlotExcluded",value:function(e,t){return!!Array.isArray(e.match(t))}},{key:"isNotExcludedFromAllAuctions",value:function(e){var t,n,r,o;return!((null===(n=e.exclude)||void 0===n||null===(t=n.pageTypes)||void 0===t?void 0:t.includes(y.Z.getType()))||(null===(o=e.exclude)||void 0===o||null===(r=o.auctioneers)||void 0===r?void 0:r.includes("all")))}},{key:"filterFluidSizes",value:function(e){var t=e.sizes.reduce((function(e,t){var n=[];return 1===t[1].length&&"fluid"===t[1][0]?n.push([1,1]):n=t[1].filter((),e.push([t[0],n]),e}),[]);return z(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},e),{sizes:t})}},{key:"getSlotConfigsById",value:function(e){var t=window.newsUkAdLibraryConfig.slots,n={};return t.map((),Object.keys(n).length?n:i.Z.warn("Requested ID:",e,"is not available in newsUkAdLibraryConfig")}},{key:"getSkinViewportThreshold",value:function(){var e=v.A.getGlobal("newsUkAdLibraryConfig.config.skinViewportThresholds"),t=v.A.getWidth(),n="none";return t>e.thin&&(n="thin"),t>e.full&&(n="full"),n}}],(n=null)&&I(t.prototype,n),l&&I(t,l),e}();x(_,"slotsInDom",[]),x(_,"slotsInDomOrder",[])},171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(944);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"validSection",value:function(e){var t;if(Array.isArray(null===(t=e.include)||void 0===t?void 0:t.section)){var n,o,i=(r.Z.getSection()||"").split("/")[0];return null===(o=e.include)||void 0===o||null===(n=o.section)||void 0===n?void 0:n.includes(i)}return!0}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}()},202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(168);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"isSlotVisible",value:function(e){if(!document.getElementById(e.name))return!1;if(this.excludeMPU(e.name))return!1;if(!e.exclude||!e.exclude.viewport)return!0;var t=e.exclude.viewport.max,n=e.exclude.viewport.min;return!(t&&r.A.getWidth()>t&&!n||n&&r.A.getWidth()<n&&!t)}},{key:"excludeMPU",value:function(e){return!!("mpu"==e.toLowerCase()&&r.A.checkGlobalPropertyValue({property:"thesun_googletag.sec",value:"art"})&&r.A.getWidth()<=810)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}()},569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(168);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getURI",value:function(){return r.A.getGlobal("location.pathname")}},{key:"getPath",value:function(){return[location.protocol,"//",location.hostname.replace(/local(?:host|\.thesun\.co\.uk)/i,"www-dev.uat-thesun.co.uk"),location.pathname].join("")}},{key:"getQuerystring",value:,{key:"getQueryParameterValue",value:function(t){var n=e.getQuerystring(),r=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(n);return r?r[1]:void 0}},{key:"getURL",value:function(){return r.A.getGlobal("location.href")}},{key:"getReferrer",value:function(){return r.A.getGlobal("document.referrer")}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}()},702:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r={admantx:1,amazonA9:2,brandmetrics:3,consent:4,gpt:5,ias:6,dianomi:7,nielsen:9,ozone:11,permutive:12,prebid:13,tmt:15,gumGum:16,dma:17,pressboard:19,commercialAnalyticsCollector:20,video:21,talkTVPlayer:22,msb:23,exco:24,newrelic:24};,147:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r,o,i=n(6),a=n(442),l=n(209),s=n(989),u=n(168),c=n(702),d=(0,c.o)("gumGum"),f=function(e){if(i.Z.debug("GumGum is not enabled"),!i.Z.isVendorDisabled(d)&&e.vendors&&e.vendors.gumgum)return e.vendors.gumgum.inSlot&&e.vendors.gumgum.inSlot.includes(e.name)?"inSlot":e.vendors.gumgum.default},g=n(360),p=n(430);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}!function(e){e.kwncow="districtm",e["21eyo0"]="dmx",e["1bjkdfk"]="emx",e["1wmpiio"]="gumgum",e.hks83k="indexexchange",e.c10cg0="magnite",e["1ffeosg"]="media.net",e.fwunsw="onetag",e["4tawhs"]="outbraintam",e["14vu48w"]="pubmatic",e["18rofls"]="sharethrough",e.d4ypz4="smartadserver",e.y83v28="sovrn",e["1fzdvk0"]="spotx",e["1ov0vsw"]="triplelift",e.pcgutc="unrulyxssp",e["1taudxc"]="xandr",e["49bpq8"]="yahooinc",e["11jyznk"]="yieldmo",e["1ijs4cg"]="amazontestbidder",e.tpsglc="amazonrealbidder"}(r||(r={})),function(e){e[e["1qvfxts"]=.01]="1qvfxts",e[e["9llwcg"]=.02]="9llwcg",e[e["1945xc0"]=.03]="1945xc0",e[e.ih8wlc=.04]="ih8wlc",e[e["1hzsxkw"]=.05]="1hzsxkw",e[e.pyw3k=.06]="pyw3k",e[e["108ix34"]=.07]="108ix34",e[e.vspeyo=.08]="vspeyo",e[e["1vb9fy8"]=.09]="1vb9fy8",e[e.e1fegw=.1]="e1fegw",e[e["1djzfgg"]=.11]="1djzfgg",e[e.mx2eps=.12]="mx2eps",e[e["1mfmfpc"]=.13]="1mfmfpc",e[e["55se80"]=.14]="55se80",e[e["14ocf7k"]=.15]="14ocf7k",e[e.tksnwg=.16]="tksnwg",e[e["1t3cow0"]=.17]="1t3cow0",e[e.btineo=.18]="btineo",e[e["1bc2oe8"]=.19]="1bc2oe8",e[e.kp5nnk=.2]="kp5nnk",e[e["1k7pon4"]=.21]="1k7pon4",e[e["2xvn5s"]=.22]="2xvn5s",e[e["12gfo5c"]=.23]="12gfo5c",e[e.y0m60w=.24]="y0m60w",e[e["1xj670g"]=.25]="1xj670g",e[e.g9c5j4=.26]="g9c5j4",e[e["1frw6io"]=.27]="1frw6io",e[e.p4z5s0=.28]="p4z5s0",e[e["1onj6rk"]=.29]="1onj6rk",e[e["7dp5a8"]=.3]="7dp5a8",e[e["16w969s"]=.31]="16w969s",e[e.sguadc=.32]="sguadc",e[e["1rzebcw"]=.33]="1rzebcw",e[e.apk9vk=.34]="apk9vk",e[e["1a84av4"]=.35]="1a84av4",e[e.jl7a4g=.36]="jl7a4g",e[e["1j3rb40"]=.37]="1j3rb40",e[e["1tx9mo"]=.38]="1tx9mo",e[e["11cham8"]=.39]="11cham8",e[e.wwnshs=.4]="wwnshs",e[e["1wf7thc"]=.41]="1wf7thc",e[e.f5ds00=.42]="f5ds00",e[e["1enxszk"]=.43]="1enxszk",e[e.o10s8w=.44]="o10s8w",e[e["1njkt8g"]=.45]="1njkt8g",e[e["69qrr4"]=.46]="69qrr4",e[e["15sasqo"]=.47]="15sasqo",e[e.uor1fk=.48]="uor1fk",e[e["1u7b2f4"]=.49]="1u7b2f4",e[e.cxh0xs=.5]="cxh0xs",e[e["1cg11xc"]=.51]="1cg11xc",e[e.lt416o=.52]="lt416o",e[e["1lbo268"]=.53]="1lbo268",e[e["41u0ow"]=.54]="41u0ow",e[e["13ke1og"]=.55]="13ke1og",e[e.z4kjk0=.56]="z4kjk0",e[e["1yn4kjk"]=.57]="1yn4kjk",e[e.hdaj28=.58]="hdaj28",e[e["1gvuk1s"]=.59]="1gvuk1s",e[e.q8xjb4=.6]="q8xjb4",e[e["1prhkao"]=.61]="1prhkao",e[e["8hnitc"]=.62]="8hnitc",e[e["1807jsw"]=.63]="1807jsw",e[e.qswq2o=.64]="qswq2o",e[e["1qbgr28"]=.65]="1qbgr28",e[e["91mpkw"]=.66]="91mpkw",e[e["18k6qkg"]=.67]="18k6qkg",e[e.hx9pts=.68]="hx9pts",e[e["1hftqtc"]=.69]="1hftqtc",e[e["5zpc0"]=.7]="5zpc0",e[e.zojqbk=.71]="zojqbk",e[e.v8q874=.72]="v8q874",e[e["1ura96o"]=.73]="1ura96o",e[e.dhg7pc=.74]="dhg7pc",e[e["1d008ow"]=.75]="1d008ow",e[e.md37y8=.76]="md37y8",e[e["1lvn8xs"]=.77]="1lvn8xs",e[e["4lt7gg"]=.78]="4lt7gg",e[e["144d8g0"]=.79]="144d8g0",e[e.t0th4w=.8]="t0th4w",e[e["1sjdi4g"]=.81]="1sjdi4g",e[e.b9jgn4=.82]="b9jgn4",e[e["1as3hmo"]=.83]="1as3hmo",e[e.k56gw0=.84]="k56gw0",e[e["1jnqhvk"]=.85]="1jnqhvk",e[e["2dwge8"]=.86]="2dwge8",e[e["11wghds"]=.87]="11wghds",e[e.xgmz9c=.88]="xgmz9c",e[e["1wz708w"]=.89]="1wz708w",e[e.fpcyrk=.9]="fpcyrk",e[e["1f7wzr4"]=.91]="1f7wzr4",e[e.okzz0g=.92]="okzz0g",e[e["1o3k000"]=.93]="1o3k000",e[e["6tpyio"]=.94]="6tpyio",e[e["16c9zi8"]=.95]="16c9zi8",e[e.rwv3ls=.96]="rwv3ls",e[e["1rff4lc"]=.97]="1rff4lc",e[e.a5l340=.98]="a5l340",e[e["19o543k"]=.99]="19o543k",e[e.j183cw=1]="j183cw",e[e["1ijs4cg"]=1.01]="1ijs4cg",e[e["19y2v4"]=1.02]="19y2v4",e[e["10si3uo"]=1.03]="10si3uo",e[e.wcolq8=1.04]="wcolq8",e[e["1vv8mps"]=1.05]="1vv8mps",e[e.elel8g=1.06]="elel8g",e[e["1e3ym80"]=1.07]="1e3ym80",e[e.nh1lhc=1.08]="nh1lhc",e[e["1mzlmgw"]=1.09]="1mzlmgw",e[e["5prkzk"]=1.1]="5prkzk",e[e["158blz4"]=1.11]="158blz4",e[e.u4ruo0=1.12]="u4ruo0",e[e["1tnbvnk"]=1.13]="1tnbvnk",e[e.cdhu68=1.14]="cdhu68",e[e["1bw1v5s"]=1.15]="1bw1v5s",e[e.l94uf4=1.16]="l94uf4",e[e["1kroveo"]=1.17]="1kroveo",e[e["3hutxc"]=1.18]="3hutxc",e[e["130euww"]=1.19]="130euww",e[e.yklcsg=1.2]="yklcsg",e[e["1y35ds0"]=1.21]="1y35ds0",e[e.gtbcao=1.22]="gtbcao",e[e["1gbvda8"]=1.23]="1gbvda8",e[e.poycjk=1.24]="poycjk",e[e["1p7idj4"]=1.25]="1p7idj4",e[e["7xoc1s"]=1.26]="7xoc1s",e[e["17g8d1c"]=1.27]="17g8d1c",e[e.rmvi80=1.28]="rmvi80",e[e["1r5fj7k"]=1.29]="1r5fj7k",e[e["9vlhq8"]=1.3]="9vlhq8",e[e["19e5ips"]=1.31]="19e5ips",e[e.ir8hz4=1.32]="ir8hz4",e[e["1i9siyo"]=1.33]="1i9siyo",e[e.zyhhc=1.34]="zyhhc",e[e["10iiigw"]=1.35]="10iiigw",e[e.w2p0cg=1.36]="w2p0cg",e[e["1vl91c0"]=1.37]="1vl91c0",e[e.ebezuo=1.38]="ebezuo",e[e["1dtz0u8"]=1.39]="1dtz0u8",e[e.n7203k=1.4]="n7203k",e[e["1mpm134"]=1.41]="1mpm134",e[e["5frzls"]=1.42]="5frzls",e[e["14yc0lc"]=1.43]="14yc0lc",e[e.tus9a8=1.44]="tus9a8",e[e["1tdca9s"]=1.45]="1tdca9s",e[e.c3i8sg=1.46]="c3i8sg",e[e["1bm29s0"]=1.47]="1bm29s0",e[e.kz591c=1.48]="kz591c",e[e["1khpa0w"]=1.49]="1khpa0w",e[e["37v8jk"]=1.5]="37v8jk",e[e["12qf9j4"]=1.51]="12qf9j4",e[e.yalreo=1.52]="yalreo",e[e["1xt5se8"]=1.53]="1xt5se8",e[e.gjbqww=1.54]="gjbqww",e[e["1g1vrwg"]=1.55]="1g1vrwg",e[e.peyr5s=1.56]="peyr5s",e[e["1oxis5c"]=1.57]="1oxis5c",e[e["7noqo0"]=1.58]="7noqo0",e[e["1768rnk"]=1.59]="1768rnk",e[e.sqtvr4=1.6]="sqtvr4",e[e["1s9dwqo"]=1.61]="1s9dwqo",e[e.azjv9c=1.62]="azjv9c",e[e["1ai3w8w"]=1.63]="1ai3w8w",e[e.jv6vi8=1.64]="jv6vi8",e[e["1jdqwhs"]=1.65]="1jdqwhs",e[e["23wv0g"]=1.66]="23wv0g",e[e["11mgw00"]=1.67]="11mgw00",e[e.x6ndvk=1.68]="x6ndvk",e[e["1wp7ev4"]=1.69]="1wp7ev4",e[e.ffddds=1.7]="ffddds",e[e["1exxedc"]=1.71]="1exxedc",e[e.ob0dmo=1.72]="ob0dmo",e[e["1ntkem8"]=1.73]="1ntkem8",e[e["6jqd4w"]=1.74]="6jqd4w",e[e["162ae4g"]=1.75]="162ae4g",e[e.uyqmtc=1.76]="uyqmtc",e[e["1uhansw"]=1.77]="1uhansw",e[e.d7gmbk=1.78]="d7gmbk",e[e["1cq0nb4"]=1.79]="1cq0nb4",e[e.m33mkg=1.8]="m33mkg",e[e["1llnnk0"]=1.81]="1llnnk0",e[e["4btm2o"]=1.82]="4btm2o",e[e["13udn28"]=1.83]="13udn28",e[e.zek4xs=1.84]="zek4xs",e[e["1yx45xc"]=1.85]="1yx45xc",e[e.hna4g0=1.86]="hna4g0",e[e["1h5u5fk"]=1.87]="1h5u5fk",e[e.qix4ow=1.88]="qix4ow",e[e["1q1h5og"]=1.89]="1q1h5og",e[e["8rn474"]=1.9]="8rn474",e[e["18a756o"]=1.91]="18a756o",e[e.r2wbgg=1.92]="r2wbgg",e[e["1qlgcg0"]=1.93]="1qlgcg0",e[e["9bmayo"]=1.94]="9bmayo",e[e["18u6by8"]=1.95]="18u6by8",e[e.i79b7k=1.96]="i79b7k",e[e["1hptc74"]=1.97]="1hptc74",e[e.fzaps=1.98]="fzaps",e[e.zyjbpc=1.99]="zyjbpc",e[e.viptkw=2]="viptkw",e[e["1v19ukg"]=2.01]="1v19ukg",e[e.drft34=2.02]="drft34",e[e["1d9zu2o"]=2.03]="1d9zu2o",e[e.mn2tc0=2.04]="mn2tc0",e[e["1m5mubk"]=2.05]="1m5mubk",e[e["4vssu8"]=2.06]="4vssu8",e[e["14ectts"]=2.07]="14ectts",e[e.tat2io=2.08]="tat2io",e[e["1std3i8"]=2.09]="1std3i8",e[e.bjj20w=2.1]="bjj20w",e[e["1b2330g"]=2.11]="1b2330g",e[e.kf629s=2.12]="kf629s",e[e["1jxq39c"]=2.13]="1jxq39c",e[e["2nw1s0"]=2.14]="2nw1s0",e[e["126g2rk"]=2.15]="126g2rk",e[e.xqmkn4=2.16]="xqmkn4",e[e["1x96lmo"]=2.17]="1x96lmo",e[e.fzck5c=2.18]="fzck5c",e[e["1fhwl4w"]=2.19]="1fhwl4w",e[e.ouzke8=2.2]="ouzke8",e[e["1odjlds"]=2.21]="1odjlds",e[e["73pjwg"]=2.22]="73pjwg",e[e["16m9kw0"]=2.23]="16m9kw0",e[e.s6uozk=2.24]="s6uozk",e[e["1rpepz4"]=2.25]="1rpepz4",e[e.afkohs=2.26]="afkohs",e[e["19y4phc"]=2.27]="19y4phc",e[e.jb7oqo=2.28]="jb7oqo",e[e["1itrpq8"]=2.29]="1itrpq8",e[e["1jxo8w"]=2.3]="1jxo8w",e[e["112hp8g"]=2.31]="112hp8g",e[e.wmo740=2.32]="wmo740",e[e["1w5883k"]=2.33]="1w5883k",e[e.eve6m8=2.34]="eve6m8",e[e["1edy7ls"]=2.35]="1edy7ls",e[e.nr16v4=2.36]="nr16v4",e[e["1n9l7uo"]=2.37]="1n9l7uo",e[e["5zr6dc"]=2.38]="5zr6dc",e[e["15ib7cw"]=2.39]="15ib7cw",e[e.uerg1s=2.4]="uerg1s",e[e["1txbh1c"]=2.41]="1txbh1c",e[e.cnhfk0=2.42]="cnhfk0",e[e["1c61gjk"]=2.43]="1c61gjk",e[e.lj4fsw=2.44]="lj4fsw",e[e["1l1ogsg"]=2.45]="1l1ogsg",e[e["3rufb4"]=2.46]="3rufb4",e[e["13aegao"]=2.47]="13aegao",e[e.yuky68=2.48]="yuky68",e[e["1yd4z5s"]=2.49]="1yd4z5s",e[e.h3axog=2.5]="h3axog",e[e["1gluyo0"]=2.51]="1gluyo0",e[e.pyxxxc=2.52]="pyxxxc",e[e["1phhyww"]=2.53]="1phhyww",e[e["87nxfk"]=2.54]="87nxfk",e[e["17q7yf4"]=2.55]="17q7yf4",e[e.r7w45c=2.56]="r7w45c",e[e["1qqg54w"]=2.57]="1qqg54w",e[e["9gm3nk"]=2.58]="9gm3nk",e[e["18z64n4"]=2.59]="18z64n4",e[e.ic93wg=2.6]="ic93wg",e[e["1hut4w0"]=2.61]="1hut4w0",e[e.kz3eo=2.62]="kz3eo",e[e["103j4e8"]=2.63]="103j4e8",e[e.vnpm9s=2.64]="vnpm9s",e[e["1v69n9c"]=2.65]="1v69n9c",e[e.dwfls0=2.66]="dwfls0",e[e["1dezmrk"]=2.67]="1dezmrk",e[e.ms2m0w=2.68]="ms2m0w",e[e["1mamn0g"]=2.69]="1mamn0g",e[e["50slj4"]=2.7]="50slj4",e[e["14jcmio"]=2.71]="14jcmio",e[e.tfsv7k=2.72]="tfsv7k",e[e["1sycw74"]=2.73]="1sycw74",e[e.boiups=2.74]="boiups",e[e["1b72vpc"]=2.75]="1b72vpc",e[e.kk5uyo=2.76]="kk5uyo",e[e["1k2pvy8"]=2.77]="1k2pvy8",e[e["2svugw"]=2.78]="2svugw",e[e["12bfvgg"]=2.79]="12bfvgg",e[e.xvmdc0=2.8]="xvmdc0",e[e["1xe6ebk"]=2.81]="1xe6ebk",e[e.g4ccu8=2.82]="g4ccu8",e[e["1fmwdts"]=2.83]="1fmwdts",e[e.ozzd34=2.84]="ozzd34",e[e["1oije2o"]=2.85]="1oije2o",e[e["78pclc"]=2.86]="78pclc",e[e["16r9dkw"]=2.87]="16r9dkw",e[e.sbuhog=2.88]="sbuhog",e[e["1rueio0"]=2.89]="1rueio0",e[e.akkh6o=2.9]="akkh6o",e[e["1a34i68"]=2.91]="1a34i68",e[e.jg7hfk=2.92]="jg7hfk",e[e["1iyrif4"]=2.93]="1iyrif4",e[e["1oxgxs"]=2.94]="1oxgxs",e[e["117hhxc"]=2.95]="117hhxc",e[e.wrnzsw=2.96]="wrnzsw",e[e["1wa80sg"]=2.97]="1wa80sg",e[e.f0dzb4=2.98]="f0dzb4",e[e["1eiy0ao"]=2.99]="1eiy0ao",e[e.nw0zk0=3]="nw0zk0",e[e["1u2b9q8"]=3.05]="1u2b9q8",e[e["3wu800"]=3.1]="3wu800",e[e["1gqurcw"]=3.15]="1gqurcw",e[e.qnwxds=3.2]="qnwxds",e[e["1haty4g"]=3.25]="1haty4g",e[e.dcgf0g=3.3]="dcgf0g",e[e["13zdfr4"]=3.35]="13zdfr4",e[e.k06o74=3.4]="k06o74",e[e["1wu77k0"]=3.45]="1wu77k0",e[e["6oq5ts"]=3.5]="6oq5ts",e[e["19j5beo"]=3.55]="19j5beo",e[e.w7ot1c=3.6]="w7ot1c",e[e["1mults0"]=3.65]="1mults0",e[e.c8i1hc=3.7]="c8i1hc",e[e["12vf280"]=3.75]="12vf280",e[e.pjyjuo=3.8]="pjyjuo",e[e["1r0fqio"]=3.85]="1r0fqio",e[e.uyosg=3.9]="uyosg",e[e["1doz85c"]=3.95]="1doz85c",e[e.tpsglc=4]="tpsglc",e[e["1kcphc0"]=4.05]="1kcphc0",e[e.geby80=4.1]="geby80",e[e["1718yyo"]=4.15]="1718yyo",e[e.jq72tc=4.2]="jq72tc",e[e["1wk7m68"]=4.25]="1wk7m68",e[e["6eqkg0"]=4.3]="6eqkg0",e[e["1cl0um8"]=4.35]="1cl0um8",e[e.z9kc8w=4.4]="z9kc8w",e[e["1pwhczk"]=4.45]="1pwhczk",e[e["96mi9s"]=4.5]="96mi9s",e[e.ztjj0g=4.55]="ztjj0g",e[e.mi30n4=4.6]="mi30n4",e[e["1sodatc"]=4.65]="1sodatc",e[e["2iw934"]=4.7]="2iw934",e[e["1fcwsg0"]=4.75]="1fcwsg0",e[e.s1uwao=4.8]="s1uwao",e[e["1iorx1c"]=4.85]="1iorx1c",e[e.eqedxc=4.9]="eqedxc",e[e["15dbeo0"]=4.95]="15dbeo0",e[e.le4n40=5]="le4n40",e[e["1y856gw"]=5.05]="1y856gw",e[e["82o4qo"]=5.1]="82o4qo",e[e["196ntog"]=5.15]="196ntog",e[e.vv7bb4=5.2]="vv7bb4",e[e["1mi4c1s"]=5.25]="1mi4c1s",e[e.bw0jr4=5.3]="bw0jr4",e[e["12ixkhs"]=5.35]="12ixkhs",e[e.p7h24g=5.4]="p7h24g",e[e["1s1w7pc"]=5.45]="1s1w7pc",e[e["1wf5z4"]=5.5]="1wf5z4",e[e["1eqfpc0"]=5.55]="1eqfpc0",e[e.ur8xs0=5.6]="ur8xs0",e[e["1le5yio"]=5.65]="1le5yio",e[e.hfsfeo=5.7]="hfsfeo",e[e["182pg5c"]=5.75]="182pg5c",e[e.hzrm68=5.8]="hzrm68",e[e["1uts5j4"]=5.85]="1uts5j4",e[e["4ob3sw"]=5.9]="4ob3sw",e[e["1auldz4"]=5.95]="1auldz4",e[e.xj4vls=6]="xj4vls",e[e["1o61wcg"]=6.05]="1o61wcg",e[e.a82zgg=6.1]="a82zgg",e[e["10v0074"]=6.15]="10v0074",e[e.njjhts=6.2]="njjhts",e[e["1tpts00"]=6.25]="1tpts00",e[e["3kcq9s"]=6.3]="3kcq9s",e[e["1ged9mo"]=6.35]="1ged9mo",e[e.rpdekg=6.4]="rpdekg",e[e["1icafb4"]=6.45]="1icafb4",e[e.edww74=6.5]="edww74",e[e["150twxs"]=6.55]="150twxs",e[e.l1n5ds=6.6]="l1n5ds",e[e["1xvnoqo"]=6.65]="1xvnoqo",e[e["7q6n0g"]=6.7]="7q6n0g",e[e["1aklslc"]=6.75]="1aklslc",e[e.x95a80=6.8]="x95a80",e[e["1nw2ayo"]=6.85]="1nw2ayo",e[e.d9yio0=6.9]="d9yio0",e[e["13wvjeo"]=6.95]="13wvjeo",e[e.qlf11c=7]="qlf11c",e[e["1qny8sg"]=7.05]="1qny8sg",e[e.ih728=7.1]="ih728",e[e["1dchqf4"]=7.15]="1dchqf4",e[e.tdayv4=7.2]="tdayv4",e[e["1k07zls"]=7.25]="1k07zls",e[e.g1ughs=7.3]="g1ughs",e[e["16orh8g"]=7.35]="16orh8g",e[e.jdpl34=7.4]="jdpl34",e[e["1w7q4g0"]=7.45]="1w7q4g0",e[e["6292ps"]=7.5]="6292ps",e[e["1c8jcw0"]=7.55]="1c8jcw0",e[e.yx2uio=7.6]="yx2uio",e[e["1pjzv9c"]=7.65]="1pjzv9c",e[e["9j4000"]=7.7]="9j4000",e[e["10610qo"]=7.75]="10610qo",e[e.mukidc=7.8]="mukidc",e[e["1t0usjk"]=7.85]="1t0usjk",e[e["2vdqtc"]=7.9]="2vdqtc",e[e["1fpea68"]=7.95]="1fpea68",e[e.sece0w=8]="sece0w",e[e.b71kao=8.5]="b71kao",e[e.ioqlmo=9]="ioqlmo",e[e["49bpq8"]=9.5]="49bpq8",e[e.wk6ark=10]="wk6ark",e[e.gal3pc=10.5]="gal3pc",e[e.mec64g=11]="mec64g",e[e["7yxa80"]=11.5]="7yxa80",e[e.uzzkzk=12]="uzzkzk",e[e.agtmo0=12.5]="agtmo0",e[e.klet4w=13]="klet4w",e[e["28utc"]=13.5]="28utc",e[e.ygui9s=14]="ygui9s",e[e.fbmiv4=14.5]="fbmiv4",e[e.or8pvk=15]="or8pvk",e[e["59j8qo"]=15.5]="59j8qo",e[e.qwnklc=16]="qwnklc",e[e.ch8oow=16.5]="ch8oow",e[e.jyxq0w=17]="jyxq0w",e[e["2rmwao"]=17.5]="2rmwao",e[e.vrggsg=18]="vrggsg",e[e.hc1kw0=18.5]="hc1kw0",e[e.nfsnb4=19]="nfsnb4",e[e["7mfshs"]=19.5]="7mfshs",e[e.t9k4cg=20]="t9k4cg",e[e.lshk3k=21]="lshk3k",e[e.y9zabk=22]="y9zabk",e[e.pybgu8=23]="pybgu8",e[e.rr8tts=24]="rr8tts",e[e.i1n1fk=25]="i1n1fk",e[e.wyj7r4=26]="wyj7r4",e[e.n8xfcw=27]="n8xfcw",e[e.ugmvb4=28]="ugmvb4",e[e.k223gg=29]="k223gg",e[e.zbfri8=30]="zbfri8",e[e.p5lmv4=31]="p5lmv4",e[e.rnhzb4=32]="rnhzb4",e[e.jbu5ts=33]="jbu5ts",e[e.v4cwlc=34]="v4cwlc",e[e.o6n20w=35]="o6n20w"}(o||(o={}));var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,c=[{key:"load",value:function(){if(!e.isEnabled()){var t="AmazonA9 did not load as its not enabled in config!";return i.Z.log(t),Promise.reject(t)}if(e.scriptInPage()){var n="AmazonA9 do not reload apstag script";return i.Z.log(n),Promise.reject(n)}var r=e.getUrl();return l.Z.injectScript({src:r}).then(e.globalConfig)}},{key:"getUrl",value:function(){var e="https://c.amazon-adsystem.com/aax2/apstag.js";return i.Z.log("Request vendor URL",e),e}},{key:"scriptInPage",value:function(){return!!l.Z.isScriptInPage(e.getUrl())&&(i.Z.log("AmazonA9 apstag script is already on page"),!0)}},{key:"isEnabled",value:function(){return!!u.A.getGlobal("newsUkAdLibraryConfig.auction.amazon_a9")||(i.Z.debug("[A9] is not enabled"),!1)}},{key:"setDisplayBids",value:,{key:"setupGlobalConfig",value:function(){var e,t,n={pubID:u.A.getGlobal("newsUkAdLibraryConfig.auction.amazon_a9.accountId"),adServer:"googletag",videoAdServer:u.A.getGlobal("newsUkAdLibraryConfig.auction.amazon_a9.video")?"DFP":"",deals:!!u.A.getGlobal("newsUkAdLibraryConfig.auction.amazon_a9.videoDeals"),cmpTimeout:u.A.getGlobal("newsUkAdLibraryConfig.auction.consentManagement.timeout"),consent:u.A.getGlobal("window.newsUkAdLibrary.tcfConsentString"),enabled:u.A.getGlobal("window.newsUkAdLibrary.adLibGDPR")},r={};return(null===(t=window.newsUkAdLibrary)||void 0===t||null===(e=t.tcfConsentString)||void 0===e?void 0:e.length)<=4&&(r={params:{us_privacy:window.newsUkAdLibrary.tcfConsentString||null,aps_privacy:window.newsUkAdLibrary.tcfConsentString||null}}),m({},n,r)}},{key:"globalConfig",value:function(){var t=this,n=u.A.getGlobal("apstag");return n?new Promise((function(t){n.init(e.setupGlobalConfig()),i.Z.log("[A9] initialised"),i.Z.log("[A9] config",e.setupGlobalConfig()),t(!0)})):l.Z.waitForFirstPaint().then(()}},{key:"prepareBaseSlot",value:function(e,t,n){return{slotID:e.name,slotName:"/".concat(t,"/").concat(n),slotParams:{ggProduct:f(e)}}}},{key:"prepareMultiFormatSlot",value:function(e,t,n,r,o){return y(m({},e),{mediaType:"multi-format",multiFormatProperties:m({display:{sizes:n}},o[t.name][r])})}},{key:"prepareRegularSlot",value:,{key:"prepareSlots",value:function(t){var n=u.A.getGlobal("newsUkAdLibraryConfig"),r=n.id,o=n.name,a=n.auction.amazon_a9.multiFormat,l=u.A.getPageCharacteristics(),c=l.deviceType,d=l.deviceWidth,f=l.deviceBreakpoint,p=t.filter(s.Z.isNotExcludedFromAllAuctions).map(s.Z.filterFluidSizes).reduce((function(t,n){var i=(0,g.qb)(n,s.Z.getSlotSizesByBreakpoint({slot:n,browserWidth:d,defaultBreakpoint:f})),l=e.prepareBaseSlot(n,r,o);if((i=s.Z.removeSlotSize(i,[1,1])).length){var u,p=(null==a||null===(u=a[n.name])||void 0===u?void 0:u[c])?e.prepareMultiFormatSlot(l,n,i,c,a):e.prepareRegularSlot(l,i);t.push(p)}return t}),[]);return i.Z.log("[A9] slots for auction:",p),p}},{key:"setAuctionIdTargeting",value:function(e,t){e&&t&&(a.Z.getSlotsInDisplay().find(().setTargeting("amazon_auction_id",t),i.Z.log("Slot target set",["amazon_auction_id",t]))}},{key:"fetchBids",value:function(t,n){return new Promise((function(a){if("function"!=typeof u.A.getGlobal("apstag.fetchBids"))return l.Z.waitForFirstPaint().then(();var s=e.prepareSlots(t);if(!s.length)return i.Z.log("[A9] no slots for auction."),a(null);var c=l.Z.UUIDv4();u.A.getGlobal("apstag").fetchBids({slots:s,timeout:n},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i.Z.log("[A9] bids from auction:",t);var n=[],l=!0,s=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var g,v,b,m,y,h,w,k,A=d.value;e.setAuctionIdTargeting(A.slotID,c),n.push({auctionId:c,adUnitCode:A.slotID,amznbid:String(null!==(h=null!==(y=o[null==A||null===(g=A.targeting)||void 0===g?void 0:g.amznbid])&&void 0!==y?y:null==A||null===(v=A.targeting)||void 0===v?void 0:v.amznbid)&&void 0!==h?h:"unknown"),amznp:null!==(k=null!==(w=r[null==A||null===(b=A.targeting)||void 0===b?void 0:b.amznp])&&void 0!==w?w:null==A||null===(m=A.targeting)||void 0===m?void 0:m.amznp)&&void 0!==k?k:"unknown",amznsz:String(A.size)})}}catch(e){s=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return(0,p.r)("amazonAuctionEnd",{detail:n}),a(t)}))}))}}],(n=null)&&v(t.prototype,n),c&&v(t,c),e}();b(h,"vendorId",(0,c.o)("amazonA9")),b(h,"requestBids",()},391:(e,t,n)=>{"use strict";var r=n(6),o=n(168),i=n(209),a=n(442),l=(0,n(702).o)("brandmetrics"),s=function(){return o.A.getGlobal("newsUkAdLibraryConfig.partners.brandmetrics.enabled")},u=function(){if(!s())return r.Z.log("BrandMetrics survey tag is not available."),!1;var e=o.A.getGlobal("newsUkAdLibraryConfig.partners.brandmetrics.survey");return e?(i.Z.injectScript({src:e}),!0):(r.Z.log("BrandMetrics survey URL tag is not available."),!1)},c={vendorId:l,setConfigValue:function(){if(!s())return r.Z.log("BrandMetrics is disabled"),!1;r.Z.log("BrandMetrics is enabled"),u();var e=i.Z.isScriptInPage(o.A.getGlobal("newsUkAdLibraryConfig.partners.brandmetrics.url"));return r.Z.log("Brandmetrics KVP: Setting to 0 as polling widget exists in page"),e?(a.Z.setPageTargeting({poll:"0"}),!0):(r.Z.log("Brandmetrics KVP: Setting to 1 as no polling widget"),a.Z.setPageTargeting({poll:"1"}),!0)},enableSurveyTag:u,isEnabled:s,load:;o.A.setGlobal("newsUkAdLibraryPartners.brandmetrics",c)},924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(168),o=n(702),i=n(6);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n="vendorId",r=(0,o.o)("consent"),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,l;return t=e,l=[{key:"checkConsent",value:function(e){var t=!0,n=void 0,o=r.A.getGlobal("newsUkAdLibraryConfig.userReqConsent.".concat(e));return o&&window.__tcfapi("addEventListener",2,(function(e){e.gdprApplies&&(t=o.consent.reduce((,!0),n=e.tcString)})),{consent:t,tcString:n}}},{key:"checkPurposes",value:function(e){window.__tcfapi("addEventListener",2,(function(t,n){t.gdprApplies&&n&&t.purpose.consents[4]&&e(),t.gdprApplies||e()}))}},{key:"getUSAConsent",value:function(){i.Z.log("A9 - Check consent event"),window.__uspapi("getUSPData",1,(function(e){window.newsUkAdLibrary.tcfConsentString=e.uspString,i.Z.log("A9 - __uspapi",e)}))}}],(n=null)&&a(t.prototype,n),l&&a(t,l),e}()},228:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y});var r=n(6),o=n(168),i=n(944);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(e,t){Array.isArray(t)?t.forEach(():e.appendChild(t.nodeType?t:document.createTextNode(t))},u=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=document.createElement(e);return Object.entries(t||{}).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];n.startsWith("on")&&n.toLowerCase()in window?i.addEventListener(n.toLowerCase().substr(2),r):i.setAttribute(n,r.toString())})),r.forEach((),i};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}unction p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function b(){var e;return e=function(){return v(this,(function(e){return m.isEnabled()?(r.Z.log("[DMA] Loaded"),[2]):[2]}))},b=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))},b.apply(this,arguments)}var m={vendorId:(0,n(702).o)("dma"),recommendations:{},recommendationIds:[],isEnabled:function(){return!!o.A.getGlobal("newsUkAdLibraryConfig.partners.dma.enabled")&&!!i.Z.getArticleId()},load:request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.Z.log("[DMA] Requesting recommendations...");var n=performance.now();return window.fetch(e,t).then((function(e){return e.json()})).then((function(e){var t,o,i=(performance.now()-n).toFixed();r.Z.log("[DMA] Got response in ".concat(i,"ms"));var a=!0,l=!1,s=void 0;try{for(var u,c=((null==e||null===(o=e.data)||void 0===o||null===(t=o.recommendations)||void 0===t?void 0:t.articles)||[])[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;m.recommendationIds.push(d.id),m.recommendations[d.id]=d}}catch(e){l=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}}))},getRequestOptions:function(){var e,t,n,r,a=o.A.getGlobal("newsUkAdLibraryConfig.partners.dma"),l=null==a||null===(t=a.envs)||void 0===t||null===(e=t[null==a?void 0:a.environment])||void 0===e?void 0:e.key,s=i.Z.getArticleId();if(l&&s)return{endpoint:null==a||null===(r=a.envs)||void 0===r||null===(n=r[null==a?void 0:a.environment])||void 0===n?void 0:n.endpoint,method:"POST",headers:{"Content-Type":"application/json","X-API-Key":l},body:JSON.stringify({operationName:"getRecommendedArticles",query:"\nquery getRecommendedArticles($recomArgs: RecommendationsParameters!, $publisher: Publisher!) {\n  recommendations(publisher: $publisher, recomArgs: $recomArgs) {\n    feedbackId\n    articles {\n      id\n      headline\n      kicker\n      url\n      ecpm\n      mediaList {\n        ... on Image {\n          crops(cropsArguments: [{ratio: THREE_BY_TWO, maxPhysicalWidth: 300}]) {\n            url\n            alt\n            width\n            height\n          }\n        }\n      }\n    }\n  }\n}\n",variables:{publisher:null==a?void 0:a.publisher,recomArgs:{articleId:s,recommendationType:"DMA"}}})}},requestBids:function(){if(!m.isEnabled()||m.recommendationIds.length)return Promise.resolve();var e=m.getRequestOptions(),t=e.endpoint,n=g(e,["endpoint"]);return m.request(t,n)},isSlotEnabled:function(e){var t;if(!m.isEnabled())return!1;var n=e.getSlotElementId().toString(),r=o.A.getGlobal("newsUkAdLibraryConfig.slots"),i=o.A.getGlobal("newsUkAdLibraryConfig.dynamicSlots.templates"),a=!0,l=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d,f=u.value;if(f.name===n)return(null==f||null===(d=f.dma)||void 0===d?void 0:d.enabled)||!1}}catch(e){l=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}var g=document.getElementById(e.getSlotElementId());if(null==g||null===(t=g.dataset)||void 0===t?void 0:t.slotType){var v=!0,b=!1,y=void 0;try{for(var h,w=Object.entries(i)[Symbol.iterator]();!(v=(h=w.next()).done);v=!0){var k=p(h.value,2),A=k[0],S=k[1];if(g.dataset.slotType===A){var P,O,j,I,x=!!(null==S||null===(O=S.config)||void 0===O||null===(P=O.dma)||void 0===P?void 0:P.enabled),z=null==S||null===(I=S.config)||void 0===I||null===(j=I.dma)||void 0===j?void 0:j.filter;return x&&(!z||z.includes(n))||!1}}}catch(e){b=!0,y=e}finally{try{v||null==w.return||w.return()}finally{if(b)throw y}}}return!1},setPriceBucket:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.min<=e&&e<=l.max){var s=Math.pow(10,l.precision),u=e.toFixed(l.precision)*s,c=l.increment*s;return(u-(u+l.min*s%c)%c)/s}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return 0},setDisplayBids:function(e){if(m.isEnabled()&&m.recommendationIds.length){var t=o.A.getGlobal("newsUkAdLibraryConfig.partners.dma").priceGranularity.buckets,n=!0,i=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=l.value;if(m.isSlotEnabled(u)){var c=m.recommendationIds.shift();if(!c)return;r.Z.log("[DMA] Setting targeting for slot '".concat(u.getSlotElementId().toString(),"'")),u.updateTargetingFromMap({hb_bidder_dma:"dma",hb_adid_dma:c,hb_pb_dma:m.setPriceBucket(Number(m.recommendations[c].ecpm),t),hb_size_dma:"",hb_format_dma:""})}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}},getAdvert:function(e,t){if(!e)return!1;try{var n=m.recommendations[e];return r.Z.log("[DMA] Rendering recommendation with article id: '".concat(e,"'")),delete m.recommendations[e],function(e){var t,n=e.kicker,r=e.headline,o=e.url,i=e.clickURL,a=e.mediaList,l=!0,s=!1,c=void 0;try{for(var d,f=a[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var g,p,v=d.value;if(null==v||null===(p=v.crops)||void 0===p||null===(g=p[0])||void 0===g?void 0:g.url){var b;t=null==v||null===(b=v.crops)||void 0===b?void 0:b[0].url;break}}}catch(e){s=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw c}}return t?u("div",{class:"article-recommendation-container","data-id":"large-recirc-article"},u("a",{target:"_top",href:"".concat(i).concat(o,"%3Frec_article%3DDMA")},u("div",{class:"article-recommendation story-variant-2"},u("div",null,u("img",{src:t,alt:r})),u("div",null,u("div",{class:"article-recommendation__title article-recommendation__title--cropped"},u("span",{class:"article-recommendation__kicker"},n)," ",u("span",{class:"article-recommendation__headline"},r)))))):""}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({clickURL:t},n))}catch(e){return r.Z.error(e),!1}}};const y=m;o.A.setGlobal("newsUkAdLibraryPartners.dma",m)},491:(e,t,n)=>{"use strict";var r=n(6),o=n(168),i=n(209),a=n(944);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ar u=(0,n(702).o)("dianomi"),c=function(){var e=document.getElementById("sponsored-article-container");if(d(e))return Promise.resolve(!0);var t=a.Z.getSection(),n=o.A.getGlobal("newsUkAdLibraryConfig.partners.dianomi.contextFeed.placements").filter((function(e){if(e.sections.includes(t))return!0})),l=n.length>0?n[0].placementId:void 0,s=i.Z.createElement("div",{"data-dianomi-context-id":l,class:"dianomi_context"});if(!e||!l){var u="Could not find dianomi placement on page";return r.Z.debug(u),Promise.reject(u)}return r.Z.debug("Using Dianomi placement ID ",l),window.addEventListener("load",(function(){e.appendChild(s),i.Z.injectScript({src:o.A.getGlobal("newsUkAdLibraryConfig.partners.dianomi.contextFeed.url")})})),Promise.resolve(!0)},d=function(e){var t=o.A.getGlobal("newsUkAdLibraryConfig.partners.dianomi.smartads"),n=a.Z.getSection(),i=t.find((function(e){return e.section===n}));if(r.Z.log("Checking for Dianomi smartads ID"),!i||!Object.keys(i).length)return!1;r.Z.log("Using Dianomi smartads ID:",i);var l=o.A.getGlobal("newsUkAdLibraryConfig.partners.dianomi.breakpoint"),u=o.A.getWidth()>l?i.desktop:i.mobile;return window.addEventListener("load",(function(){r.Z.log("Trigger Dianomi smartads ID:",u.id,"for size",u.size);var t=u.id,n=s(u.size,2),i=n[0],a=n[1],l=o.A.getGlobal("newsUkAdLibraryConfig.partners.dianomi.smartadsURL"),c='<iframe WIDTH="'.concat(i,'" HEIGHT="').concat(a,'" SCROLLING="NO" src="').concat(l,"?id=").concat(t,'" style="width: 100%; height: ').concat(a,'px; border: none; overflow: hidden;"></iframe>');e.querySelector("#sponsored-article").innerHTML=c})),!0},f=function(){var e=o.A.getGlobal("newsUkAdLibraryConfig.partners.dianomi.enabled");return e||r.Z.log("Dianomi is disabled"),e};o.A.setGlobal("newsUkAdLibraryPartners.dianomi",{load:c,isEnabled:f,vendorId:u})},442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(202),o=n(171),i=n(989),a=n(420),l=n(6),s=n(209),u=n(944),c=n(168),d=n(147),f=n(430),g=n(275),p=n(228),v=n(702),b=n(569),m=n(924);(0,v.o)("newrelic");unction h(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}unction k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ction j(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"vendorId",(0,v.o)("gpt"))}var t,n,y;return t=e,y=[{key:"getSlotIds",value:,{key:"removeSlotFromDisplay",value:function(t){return e.slotsInDisplay.reduce((function(n,r,o){return r.getSlotElementId()===t&&(e.slotsInDisplay.splice(o,1),n.push(r)),n}),[])}},{key:"getSlotsInDisplay",value:,{key:"findBlankSlotAndInitialise",value:function(){var t=c.A.getGlobal("newsUkAdLibraryConfig"),n=t.dynamicSlots.target,i=t.slots,a=c.A.getGlobal("newsUkAdLibrary"),l=a.dynamicSlotRender,u=a.getSlotConfigsByTemplate,d=e.getSlotIds(),f=i.filter((function(e){return!d.includes(e.name)&&s.Z.isElementIdInPage(e.name)&&r.Z.isSlotVisible(e)&&o.Z.validSection(e)})),g=Array.from(document.querySelectorAll(n)).filter(().map(().filter((function(e){return e&&r.Z.isSlotVisible(e)&&o.Z.validSection(e)}));P(f).concat(P(g)).filter(().forEach(l)}},{key:"destroySlot",value:function(t){return new Promise((function(n){if(!e.getSlotIds().includes(t))return l.Z.warn('Slot "'.concat(t,'" is not a valid slot and cannot be removed. This could mean the slot has not been initialised by GPT.')),n(!0);a.Z.isEnabled()&&a.Z.removeAdUnit(t),(0,g.aF)(t)&&(0,g.Dh)(t);var r=e.removeSlotFromDisplay(t),o=document.getElementById(t);new MutationObserver((function(r,o){var a=!0,s=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(a=(c=d.next()).done);a=!0)c.value.removedNodes.length&&(l.Z.log('Slot "'.concat(t,'" has been removed from "').concat(e.getSlotIds().join(", "),'"')),o.disconnect(),i.Z.publicOutputRemoveSlot(t),n(!0))}catch(e){s=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw u}}})).observe(o,{attributes:!1,childList:!0,subtree:!1}),window.googletag.destroySlots(r)}))}},{key:"setGPTDefaultConfig",value:function(){window.googletag=window.googletag||{},window.googletag),window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs()}));var t=c.A.getGlobal("newsUkAdLibraryConfig.stowage.collectorSlotRenders.slotRender");c.A.getGlobal("window.newsUkAdLibraryConfig.stowage")||(window.newsUkAdLibraryConfig.stowage={}),t||Object.assign(window.newsUkAdLibraryConfig.stowage,{collectorSlotRenders:{slotRender:{slot:[]}}}),m.Z.checkPurposes(e.setPublisherProvidedId)}},{key:"detectPrivateSandboxLabel",value:function(){return w((function(){var t;return j(this,(function(n){switch(n.label){case 0:return"cookieDeprecationLabel"in navigator?[4,navigator.cookieDeprecationLabel.getValue()]:[3,2];case 1:t=n.sent(),e.setPageTargeting({cft:t}),c.A.setGlobal("window.newsUkAdLibraryConfig.cookieDeprecationLabel",t),l.Z.log("GPT: cookieDeprecationLabel label ".concat(t)),n.label=2;case 2:return[2]}}))}))()}},{key:"setPageTargeting",value:function(e){return"object"==typeof e?(window.googletag.cmd.push((function(){Object.entries(e).filter(().map((function(e){var t=S(e,2),n=t[0],r=t[1];r="string"==typeof r?r.split("?")[0]:r,window.googletag.pubads().setTargeting(n,r.toString()),l.Z.log("Window target set",[n,r.toString()])}))})),!0):(l.Z.warn("GPT: no window targets set"),!1)}},{key:"enableServices",value:function(){return new Promise((function(e){window.googletag.cmd.push(()}))}},{key:"getPublisherId",value:function(){var e=window.newsUkAdLibraryConfig;return 2===(localStorage.getItem("ncuSwitchPublisherId")&&parseInt(localStorage.getItem("ncuSwitchPublisherId")))?e.secondaryId:e.id}},{key:"setPublisherProvidedId",value:function(){var t,n,r,o,i,a=((null===(n=window.newsUkAdLibraryConfig)||void 0===n||null===(t=n.window_targeting)||void 0===t?void 0:t.gpt)||{}).ppid,l={"utag_data.sync_vis_id":1,"utag_data.tealium_visitor_id":2},s=(void 0===a?[]:a).map(().find((),u=c.A.extractValueFromCookie((null===(i=window.newsUkAdLibraryConfig)||void 0===i||null===(o=i.window_targeting)||void 0===o||null===(r=o.cookie)||void 0===r?void 0:r.om_v_id)||"");if(s){var d=s.key,f=s.value;window.googletag.cmd.push((function(){e.setPageTargeting({cppid:l[d]}),window.googletag.pubads().setPublisherProvidedId(f)}))}u&&!s&&window.googletag.cmd.push((function(){e.setPageTargeting({cppid:Object.keys(l).length+1}),window.googletag.pubads().setPublisherProvidedId(u)}))}},{key:"buildAdPath",value:function(){var t=window.newsUkAdLibraryConfig;return[e.getPublisherId(),t.name.replace(/\/$/,""),u.Z.getSection()].join("/").replace(/ /gi,"-").replace(/\/+$/,"")}},{key:"defineSlots",value:function(){var t=performance.now()-c.A.getGlobal("nukprt");return e.setPageTargeting({gptSlotsReady:t}),new Promise((function(t){window.googletag.cmd.push(()}))}},{key:"slotMapping",value:,{key:"slotPrepare",value:function(t){l.Z.log("slotPrepare",t);var n=e.buildAdPath(),r=t.name,o=window.googletag.defineSlot(n,["fluid"],r);o.defineSizeMapping(e.prepareSizeMapping(t.sizes));var i=c.A.makeKeyValueList(t.target,"slot");if(Object.keys(i).length){var a=!0,s=!1,u=void 0;try{for(var d,f=Object.entries(i)[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var g=S(d.value,2),p=g[0],v=g[1];o.setTargeting(p,String(v)),l.Z.log("Slot ".concat(r," targeting:"),[p,v])}}catch(e){s=!0,u=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw u}}}return o.addService(window.googletag.pubads()),e.slotsInDisplay.push(o),l.Z.log("Prepared slot: ".concat(t.name)),o}},{key:"prepareSizeMapping",value:function(e){var t=window.googletag.sizeMapping();return e.map((),t.build()}},{key:"displaySlots",value:function(t){return w((function(){var n,r,o;return j(this,(function(i){return l.Z.info("Auction is on:",window.newsUkAuctionManager),n=t.map((function(e){return e.getSlotElementId().toString()})),e.amazonA9AuctionEnabled()&&d.Z.setDisplayBids(),e.prebidAuctionEnabled()&&a.Z.setTargetingForGPTAsync(n),e.DMAAuctionEnabled()&&p.ZP.setDisplayBids(t),(r=(0,g.Nu)(t)).map((),e.refreshSlots(r),o=r.map(().join(", "),l.Z.log("Refresh slot(s)",o),[2,r]}))}))()}},{key:"refreshSlots",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&!e.length)return l.Z.info("If requested slots are not available, refresh will not execute");var t=!c.A.getGlobal("newsUkAdLibraryConfig.config.correlateAds");return window.googletag.pubads().refresh(e,{changeCorrelator:t})}},{key:"handleNativeAdWrapperClasses",value:function(e){var t=["advert-section-native-1","advert-section-native-2","advert-section-native-3","advert-section-native-4","advert-section-native-5","advert-section-native-6","advert-section-native-7","advert-section-native-8","advert-inarticle-native-1","advert-inarticle-native-2","advert-section-native-sml-1"],n=t.indexOf(e);if(-1!==n)var r=document.getElementById(t[n]),o=setTimeout((function(){if(r&&r.offsetHeight>1){var e=r.parentElement;l.Z.log("Removing hidden class from parent El: ",e),e&&e.classList.remove("hidden")}clearTimeout(o)}),500)}},{key:"modifyRefreshPostRender",value:function(e){var t,n,r,o,i=e.slot,a=e.size,s=i.getSlotElementId(),u=window.newsUkAdLibraryConfig.slots.findIndex((),c=window.newsUkAdLibraryConfig.slots[u];(null==c||null===(n=c.config)||void 0===n||null===(t=n.refresh)||void 0===t?void 0:t.disableByKVP)&&Object.keys(c.config.refresh.disableByKVP).map((function(e){var t=i.getTargeting(e);Array.isArray(t)&&t[0]===c.config.refresh.disableByKVP[e]&&(l.Z.log("Disabling refresh functionality due to configurations on slot:  ".concat(c.name)),window.newsUkAdLibraryConfig.slots[u].config.refresh.enabled=!1)}));var d,f=null==c||null===(o=c.config)||void 0===o||null===(r=o.refresh)||void 0===r?void 0:r.refreshRateBySlotSize;if(f&&Array.isArray(a)){var g=Object.entries(f).map((function(e){var t=S(e,2),n=t[0],r=t[1];return[n.split("x").map(Number),r]})).find((d=a,function(e){var t=S(e,1)[0];return d.every(()}));g&&(window.newsUkAdLibraryConfig.slots[u].config.refresh.enabled=Boolean(g[1]),window.newsUkAdLibraryConfig.slots[u].config.refresh.timeout=g[1])}return null}},{key:"listRenderedSlotsDetails",value:function(t){var n=performance.now()-window.nukprt;if(e.modifyRefreshPostRender(t),"outstream"===t.slot.getSlotElementId()){var r,o,a,s,u,d=document.getElementById("outstream"),g=setTimeout((function(){d.offsetHeight>1&&!c.A.getGlobal("appState.deviceInfo.isMobile")&&(d.style.marginBottom="16px"),clearTimeout(g)}),2e3),p=window.newsUkAdLibrary.getSlotConfigsById("outstream"),v=null===(a=p.config)||void 0===a||null===(o=a.css)||void 0===o||null===(r=o.exclude)||void 0===r?void 0:r.campaignId,m=(null===(u=p.config)||void 0===u||null===(s=u.css)||void 0===s?void 0:s.minHeight)||"auto";v&&v.length&&-1===v.indexOf(String(t.campaignId))&&(d.style.minHeight=m)}i.Z.isSlotExcluded(t.slot.getSlotElementId(),/pixel/gi)||e.handleNativeAdWrapperClasses(t.slot.getSlotElementId());var y=["Slot name: ".concat(t.slot.getSlotElementId()),"Adunit Path: ".concat(t.slot.getAdUnitPath()),"Advertiser: ".concat(t.advertiserId),"Campaign: ".concat(t.campaignId),"Line item: https://admanager.google.com/".concat(c.A.getGlobal("newsUkAdLibraryConfig.id"),"#delivery/line_item/detail/line_item_id=").concat(t.lineItemId,"&li_tab=settings"),"Creative: ".concat(t.creativeId),"Rendered slot size: ".concat(t.size),"Slot rendered in: ".concat(n.toFixed(3)," ms"),"Slot KVP: ".concat(JSON.stringify(t.slot.getTargetingMap()))].join("\n");l.Z.info(y);var h={name:t.slot.getSlotElementId(),advertiser:t.advertiserId||void 0,campaign:t.campaignId||void 0,creative:t.creativeId||void 0,lineitem:t.lineItemId||void 0,width:t.size?t.size[0]:void 0,height:t.size?t.size[1]:void 0,isempty:t.isEmpty,pos:t.slot.getTargetingMap().pos.toString()||void 0,pageview_id:c.A.getGlobal("newsUkAdLibraryConfig.stowage.pageviewId")||void 0,page_url:b.Z.getURL(),referrer_url:b.Z.getReferrer(),rendered_timestamp:Date.now(),prebid_bid_id:c.A.getGlobal("newsUkAdLibraryConfig.stowage.collectorSlotRenders.prebid.auctionId")||void 0,service_name:t.serviceName,ad_unit_path:t.slot.getAdUnitPath(),slot_element_id:t.slot.getSlotElementId()};(0,f.r)("nukAdLibSlotsRendered",{detail:h}),c.A.getGlobal("newsUkAdLibraryConfig.stowage.collectorSlotRenders.slotRender").slot.push(h),i.Z.publicOutputProcessedSlots(t.slot.getSlotElementId()),function(e){var t=c.A.getGlobal("newsUkAdLibraryConfig.config.newrelic.skinMonitor"),n=Boolean(c.A.getGlobal("newrelic"));if(!t||!n)return!1;var r=e.slot.getSlotElementId(),o=e.campaignId;t.slot.includes(r)&&t.skinOrder.includes(o)||(window.newrelic.setCustomAttribute("ncuAd-skin",e.campaignId),window.newrelic.setCustomAttribute("ncuAd-skin-lineItem",e.lineItemId),l.Z.log("newrelic - custom attribute ncuAd-skin: ".concat(e.campaignId," and ncuAd-skin-lineItem: ").concat(e.lineItemId," has been send.")))}(t)}},{key:"gptImpressionViewable",value:function(e){var t,n;l.Z.info("Impression viewable recorded for: ".concat(e.slot.getSlotElementId())),(null===(n=window.newsUkAdLibraryConfig.config)||void 0===n||null===(t=n.optimizely)||void 0===t?void 0:t.impressionViewable)&&(window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"ad-viewed"}))}}],(n=[{key:"isEnabled",value:,{key:"load",value:function(){var e=this.getUrl();return s.Z.injectScript({src:e})}},{key:"getUrl",value:function(){var e="https://securepubads.g.doubleclick.net/tag/js/gpt.js";return l.Z.debug("Request vendor URL",e),e}}])&&k(t.prototype,n),y&&k(t,y),e}();A(I,"slotsInDisplay",[]),A(I,"prebidAuctionEnabled",(function(){return a.Z.isEnabled()&&!l.Z.isVendorDisabled(a.Z.vendorId)})),A(I,"amazonA9AuctionEnabled",(function(){return d.Z.isEnabled()&&!l.Z.isVendorDisabled(d.Z.vendorId)})),A(I,"DMAAuctionEnabled",(function(){return p.ZP.isEnabled()&&!l.Z.isVendorDisabled(p.ZP.vendorId)}))},400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(6),o=n(168),i=n(702),a=n(209);var l={vendorId:(0,i.o)("msb"),load:function(){return o.A.getGlobal("newsUkAdLibraryConfig.partners.msb.placeholder")&&"art"===o.A.getGlobal("nuk.ads.tuples.cont")&&function(){var e,t=o.A.getGlobal("newsUkAdLibraryConfig.partners.msb.placeholder"),n=!1;o.A.getWidth()<=t.visible&&(n=!0,r.Z.log("MSB - is in mobile viewport"));var i=!1;return(null===(e=t.usrAccess)||void 0===e?void 0:e.logOut)&&!o.A.getGlobal(t.usrAccess.logOut)&&n?(i=!0,r.Z.log("MSB - access granted"),i):(r.Z.log("MSB - access not granted"),!1)}()&&(r.Z.log("MSB - create placeholder"),function(){var e=o.A.getGlobal("newsUkAdLibraryConfig.partners.msb.placeholder"),t=null==e?void 0:e.selectorStyleMobile,n=a.Z.createElement("div",{id:e.id.replace(/(.|#)/,"")});n.setAttribute("style",null!=t?t:""),document.body.appendChild(n);var i=document.querySelector(e.id);i.setAttribute("style",null!=t?t:""),e.pageAdjustments.length&&Object.values(e.pageAdjustments).forEach((function(e){var t=document.querySelector(e.selector);t&&t.setAttribute("style",e.stylingMobile)}));var l=a.Z.createElement("div",{class:e.placeholderClassName,id:e.label});i.appendChild(l)&&(r.Z.log("MSB - call advert"),window.newsUkAdLibrary.dynamicSlotRender(window.newsUkAdLibrary.getSlotConfigsById("mobile-sticky-banner")))}()),!1},isEnabled:;const s=l;o.A.setGlobal("newsUkAdLibraryPartners.msb",l)},411:(e,t,n)=>{"use strict";n.d(t,{z:()=>y});var r=n(6),o=n(168),i=n(209),a=n(944);const l=s=var u=n(924),c=n(442),d=n(702);unction g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}ar m={page:{pageviewId:"",type:"",sectionLevel1:"",sectionLevel2:"",sectionLevel3:"",sectionLevel4:"",user:{status:"",subscription:""},platformType:""}};a.Z.isArticle()&&(m.page.article={id:"",headline:"",kicker:"",authors:[],tags:[],type:"",isPremium:!1,modifiedAt:"",publishedAt:"",vendors:{admantx:{}}});var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,d;return t=e,d=[{key:"getUserSegments",value:function(){var e=o.A.getGlobal("localStorage._papns")||[];try{return JSON.parse(e).slice(0,250).map(String)}catch(e){return[]}}},{key:"_initSnippet",value:function(){var t=o.A.getGlobal(e.config.globalNamespace)||{};if(o.A.setGlobal(e.config.globalNamespace,t),!t.config){t.q=[],t.config=e.config||{},t.config.projectId=e.config.projectId,t.config.apiKey=e.config.apiKey,t.config.environment=t.config.environment||"production";var n=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],r=0;for(r=0;r<n.length;r++){var i=n[r];t[i]=function(e){return (i)}}}},{key:"triggerAddonEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.addonType,i=void 0===n?e.config.addonTypeDefault:n,u=t.data,c=void 0===u?m:u,d=t.admantxData,f=void 0===d?{}:d;o.A.getGlobal("newsUkAdLibraryConfig.userReqConsent.permutive")&&!e.loadStatus.tcf&&e.loadStatus.addonEventQueue.push({admantxData:f});var g=o.A.getGlobal(e.config.globalNamespace),p=v({},c);if(g&&g.addon){var b;if(p.page={pageviewId:null!==(b=o.A.getGlobal("newsUkAdLibraryConfig.stowage.pageviewId"))&&void 0!==b?b:void 0,type:a.Z.getType()||"",sectionLevel1:a.Z.getSectionSegment("page_section"),sectionLevel2:a.Z.getSectionSegment("page_section_2"),sectionLevel3:a.Z.getSectionSegment("page_section_3"),sectionLevel4:a.Z.getSectionSegment("page_section_4"),user:{status:l(),subscription:"".concat(s())},platformType:o.A.getGlobal("newsUkAdLibraryConfig.config.permutivePlatformType")||"web"},a.Z.isArticle()){var y=e._cleanDate(a.Z.getPublishedDate()),h=e._cleanDate(a.Z.getModifiedDate());if(p.page.article={id:"".concat(a.Z.getArticleId())||"",headline:a.Z.getHeadline()||"",kicker:a.Z.getKicker()||"",authors:a.Z.getAuthors()||[],tags:a.Z.getTags()||[],type:a.Z.getType()||"",isPremium:a.Z.isPremium()||!1,vendors:{admantx:{}}},y&&(p.page.article.publishedAt=y),h&&(p.page.article.modifiedAt=h),0!==Object.entries(f).length){var w={entities:f.admantx_ents||[],feelings:f.admantx_emotion||[],categories:f.admantx_cat||[],brandSafety:f.admantx_bs||[]};p.page.article.vendors.admantx=v({},w)}}return r.Z.log("permutive.addon",i,p),g.addon(i,p),v({addonType:i},p)}r.Z.warn(e.config.globalNamespace,'does not exist at global level, or does not have "addon" available',g)}},{key:"_cleanDate",value:function(e){if(e){if(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(e))return e;var t=e.match(/^.+\d/)||[];if(t[0]){var n=(new Date).getTimezoneOffset()/60,o=n>=0?"+"+n:n.toString(),i=t[0]+" UTC"+o;return new Date(i).toISOString()}r.Z.warn("no date matching the format was found")}else r.Z.warn("no date given")}},{key:"AdLibInit",value:function(t){return r.Z.log("Calling Permutive AdLibInit"),e.loadStatus.adLib=!0,!o.A.getGlobal("newsUkAdLibraryConfig.userReqConsent.permutive")||e.loadStatus.tcf?(r.Z.log("Calling Permutive load"),e.load(t)):(r.Z.log("Permutive not loaded - panding on tcf"),Promise.resolve(!0))}},{key:"tcfInit",value:function(t,n){e.config=n,e.loadStatus.tcf=!0,e.loadStatus.consentMandatory=t,e.loadStatus.adLib&&e.load().then(()}},{key:"triggerQueuedAddonEvents",value:function(){e.triggerAddonEvent(e.loadStatus.addonEventQueue.shift()),e.loadStatus.addonEventQueue.length&&e.triggerQueuedAddonEvents()}},{key:"setConsent",value:function(){if(!e.loadStatus.consentMandatory)return!0;var t=u.Z.checkConsent("permutive"),n=t.consent,i=t.tcString,a=performance.now()-o.A.getGlobal("nukprt");return n?!i||(r.Z.log("Forwarding consent to permutive ".concat(i)),window.permutive.consent({opt_in:!0,token:i}),c.Z.setPageTargeting({perConsentAvailable:a}),!0):(e.loadStatus.tcf=void 0,r.Z.log("No consent given for permutive."),!1)}},{key:"waitUntilReady",value:function(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return(n=function(){var n;return b(this,(function(l){switch(l.label){case 0:r.Z.log("Waiting for Permutive segments in the local storage"),n=0,l.label=1;case 1:return n<o/a&&!localStorage.getItem(e.config.storageKey)?[4,i.Z.delayExecution(a)]:[3,3];case 2:return l.sent(),n++,[3,1];case 3:return r.Z.warn("Waited ".concat(n*a,"ms for permutive segments: ").concat(JSON.stringify(localStorage.getItem(e.config.storageKey)))),c.Z.setPageTargeting({perStorageTime:n*a}),[2,t]}}))},()}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e._initSnippet(),e.setConsent()?i.Z.injectScript({src:e.config.permutiveURL}).then(e.waitUntilReady).then((function(n){return t?(e.triggerAddonEvent(t),c.Z.setPageTargeting({perAddon:1})):c.Z.setPageTargeting(p({},e.config.targetingName,JSON.parse(localStorage.getItem(e.config.storageKey)||""))),n})).catch((function(e){return r.Z.error(e),c.Z.setPageTargeting({perErrorMsg:e}),Promise.resolve(e)})):Promise.resolve(!0)}}],(n=null)&&g(t.prototype,n),d&&g(t,d),e}();p(y,"vendorId",(0,d.o)("permutive")),p(y,"config",void 0),p(y,"loadStatus",{adLib:!1,tcf:!1,consentMandatory:void 0,addonEventQueue:[]})},420:(e,t,n)=>{"use strict";n.d(t,{Z:);var r=n(989),o=n(442),i=n(6),a=n(168),l=n(944),s=n(569),u=n(411);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var g="ozone",p=function(){ar t,n,r;return t=e,r=[{key:"getName",value:function(){return g}},{key:"generateBidderData",value:function(e){var t,n,r,o,c=e.bidder,d=e.slot,p=e.slotSizes,v=null==c||null===(t=c.config)||void 0===t?void 0:t.custom,b=l.Z.getContentType(),m=a.A.getPageCharacteristics().deviceType,y=d.name,h=null==v||null===(r=v.eligiblePageTypes)||void 0===r||null===(n=r.includes)||void 0===n?void 0:n.call(r,b),w=(null==v||null===(o=v[m])||void 0===o?void 0:o[b])||{},k=(null==v?void 0:v.incrementalSlotName)||[],A=-1!==Object.keys(w).indexOf(y)?w[y]:Object.keys(w).filter((function(e){if(k.includes(e)&&y.includes(e))return!0})).map(().toString(),S=[];if(!(c&&c.params&&d&&p))return i.Z.info("OzoneParser.generateBidderData failed check"),S;var P=c.params,O=d.target.manual,j=O.pos,I=O.sg,x=d.sizeConfig,z=a.A.getGlobal("newsUkAdLibraryConfig.cookieDeprecationLabel"),C={bidder:g,params:{accountId:P.accountId,placementId:h&&A?A:P.placementId,placements:P.placements,publisherId:P.publisherId,siteId:P.siteId,zoneId:P.zoneId,customData:[{settings:{},targeting:f({pos:j,sg:I,section:l.Z.getSection(),sizes:p,path:s.Z.getURI(),cont_type:l.Z.getContentType(),admantx_bs:a.A.getGlobal("admantx_data.admants"),admantx_cat:a.A.getGlobal("admantx_data.categories"),permutive:u.z.getUserSegments(),cpn:(a.A.getGlobal("utag_data.customer_id")||"").replace(/^CPN:/,""),om_v_id:a.A.getGlobal("utag_data.tealium_visitor_id")||"",testgroup:a.A.getGlobal("newsUkAdLibraryConfig.stowage.testgroup")||""},z&&{cft:z})}]}};return x&&(C.sizeConfig=x),S.push(C),S}}],(n=null)&&c(t.prototype,n),r&&c(t,r),e}(),v="improvedigital";const b=m=function(e){var t=e.bidder,n=e.slot,r=e.slotSizes,o=[];if(i.Z.info("Parser.generateBidderData","bidder",t,"slot",n,"slotSizes",r),!(t&&t.params&&n&&r))return i.Z.info("ImproveDigital.generateBidderData failed check"),o;var a=t.params;n.target.manual.pos;return r.map((function(e){o.push({bidder:v,params:{placementId:a.placementId,keyValues:{siteId:a.keyValues.siteId,siteName:a.keyValues.siteName,zoneName:a.keyValues.zoneName,siteType:a.keyValues.siteType,placementName:a.keyValues.placementName}}})})),o};var y=n(360);S=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"bidders",void 0),w(this,"slot",void 0),w(this,"slotId",void 0),w(this,"slotSizes",void 0),w(this,"realTimeData",void 0),w(this,"newBidderList",void 0),w(this,"segments",void 0),w(this,"admantx_bs",void 0),w(this,"admantx_cats",void 0),w(this,"flagParserProcessed",void 0),w(this,"adUnitPath",void 0),this.bidders=t,this.slotId=n.name,this.slot=n,this.slotSizes=r,this.newBidderList=[],this.flagParserProcessed=[],this.segments=u.z.getUserSegments(),this.admantx_bs=a.A.getGlobal("admantx_data.admants"),this.admantx_cats=a.A.getGlobal("admantx_data.categories"),this.adUnitPath=o,this.realTimeData=i}var t,n,r;return t=e,n=[{key:"bidsWrapper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={code:this.slot.name,slotId:this.slot.name,bids:e};return this.slot.mediaTypes?A(k({},t),{mediaTypes:this.slot.mediaTypes}):A(k({},t),{mediaTypes:{banner:{sizes:this.slotSizes}}})}},{key:"parseBidders",value:function(){var e=this;this.parseOzone(),this.parseIndexExchange(),this.parseOneMobile(),this.parseRubicon(),this.parseTripleLift(),this.parseAppNexus(),this.parseAppNexus("newsconnect"),this.parseCriteo(),this.parseTeads(),this.parseGumGum(),this.parsePxyz(),this.cleanBiddersList();var t=this.bidsWrapper(this.newBidderList);return t.bids=t.bids.filter((),i.Z.log("Parser newBidderList:",t),t}},{key:"auctioneerDisallowed",value:function(e){var t=this,n="exclude.auctioneers",r="include.auctioneers";if(![n,r].find(())return!1;var o=a.A.getGlobal(r,this.slot);if(o&&!(0,y.fj)(o,e))return!0;var i=a.A.getGlobal(n,this.slot);return i&&(0,y.fj)(i,e)}},{key:"cleanBiddersList",value:function(){var e=this;this.bidders.map((function(t){var n=e.newBidderList.find((function(e){return e.bidder===t.bidder})),r=e.flagParserProcessed.find(();n||r||e.newBidderList.push(t)}))}},{key:"getBidderConfig",value:function(e){var t=this.bidders.find((function(t){return t.bidder===e}));return!!t&&(this.auctioneerDisallowed(e)?(i.Z.log("Skip bidder",e,this.slot.name),this.flagParserProcessed.push(e),!1):t)}},{key:"parsePxyz",value:function(){var e=this,t="pxyz",n=this.getBidderConfig(t);if(n){var r=l.Z.getSection()&&l.Z.getSection().length>2?l.Z.getSection().split("/")[0]:l.Z.getSection(),o=a.A.getPageCharacteristics().deviceType,s=n.placements.desktop.size.toString(),u=n.placements.mobile.size.toString(),c="desktop"===o?s:u,d=a.A.getGlobal("thesun_googletag.sec");if(d!==n.placements.eligiblePageType)return this.flagParserProcessed.push(t),i.Z.log("PXYZ: Page type is not eligible",{pageType:d,eligiblePageType:n.placements.eligiblePageType});this.slotSizes.map((function(a){var l=n.placements[o].sections[r],s=n.placements[o].slots.includes(e.slotId);if(!l||!s||c!==a.toString())return e.flagParserProcessed.push(t),i.Z.log("PXYZ: No placement ID for: ",{currentDeviceType:o,currentSection:r,pxyzPlacements:n.placements,isPlacementAllowed:s,placementId:l,currentSize:c});i.Z.log("pxyz",{currentDeviceType:o,currentSection:r,pageType:d,pxyzPlacements:n.placements,placementId:l});var u={bidder:t,params:{placementId:l}};e.slot.sizeConfig&&(u.sizeConfig=e.slot.sizeConfig),e.newBidderList.push(u)})),this.flagParserProcessed.push(t)}}},{key:"parseAdYouLike",value:function(){var e=this,t="adyoulike",n=this.getBidderConfig(t);n&&(this.slotSizes.map((function(){var r=n.params.placement,o={bidder:t,params:{placement:r,permutive:e.segments}};if(n.slots){var a=n.slots[e.slotId]?n.slots[e.slotId]:n.slots[Object.keys(n.slots).find((function(t){return t.match(e.slotId)}))];a&&(Object.assign(o,a),i.Z.log("Vendor ".concat(t," payload overwrite for ").concat(e.slotId," slot"),a,o))}e.slot.sizeConfig&&(o.sizeConfig=e.slot.sizeConfig),e.newBidderList.push(o)})),this.flagParserProcessed.push(t))}},{key:"parseOzone",value:function(){var e=this,t=p.getName(),n=this.getBidderConfig(t);n&&(p.generateBidderData({bidder:n,slot:this.slot,slotSizes:this.slotSizes}).map((function(t){e.newBidderList.push(t)})),this.flagParserProcessed.push(t))}},{key:"parseIndexExchange",value:function(){var e=this,t="ix",n=this.getBidderConfig(t);n&&(this.slotSizes.map((function(r){var o={bidder:t,params:{siteId:n.params.siteId,size:r,keywords:[{key:"sec",value:l.Z.getSection()},{key:"pos",value:e.slot.target.manual.pos}],permutive:e.segments}};n.slots&&n.slots[e.slotId]&&(Object.assign(o,n.slots[e.slotId]),i.Z.log("Vendor ".concat(t," payload overwrite for ").concat(e.slotId," slot"),n.slots[e.slotId],o)),e.slot.sizeConfig&&(o.sizeConfig=e.slot.sizeConfig),e.newBidderList.push(o)})),this.flagParserProcessed.push(t))}},{key:"parseOneMobile",value:function(){var e=this,t="onemobile",n=this.getBidderConfig(t);n&&(this.slotSizes.map((function(r){n.params.placements.filter((function(o){var i=o.pos,a=o.size.toString();if((r=r.toString())===a){var l={bidder:t,params:{dcn:n.params.dcn,pos:i,permutive:e.segments}};e.slot.sizeConfig&&(l.sizeConfig=e.slot.sizeConfig),e.newBidderList.push(l)}}))})),this.flagParserProcessed.push(t))}},{key:"parseRubicon",value:function(){var e="rubicon",t=this.getBidderConfig(e);if(t){var n={bidder:e,params:{accountId:t.params.accountId,siteId:t.params.siteId,zoneId:t.params.zoneId,position:this.slot.target.manual.pos,keywords:a.A.getGlobal("window.thesun_googletag.kw"),visitor:{permutive:this.segments,admantx_bs:this.admantx_bs||[],admantx_cat:this.admantx_cats||[]}}};this.slot.sizeConfig&&(n.sizeConfig=this.slot.sizeConfig),this.newBidderList.push(n),this.flagParserProcessed.push(e)}}},{key:"parseTripleLift",value:function(){var e=this,t="triplelift",n=this.getBidderConfig(t);if(n){var r=this.slotSizes.reduce((function(r,o){return n.params.placements.map((function(n){var i=n.inventoryCode,a=n.size.toString().includes(o.toString()),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(2!==e.length)return!0;var n=e[0].some((function(n){return"*"===n||!e[0].includes(t)})),r=e[1].some((function(n){return"*"===n||e[1].includes(t)}));return n&&r}(null==n?void 0:n.slots,e.slotId);if(a&&l){var s={bidder:t,params:{inventoryCode:i,permutive:e.segments}};e.slot.sizeConfig&&(s.sizeConfig=e.slot.sizeConfig),r.push(s)}})),r}),[]);r.map((function(t){return e.newBidderList.push(t)})),this.flagParserProcessed.push(t)}}},{key:"parseAppNexus",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||"appnexus",t=this.getBidderConfig(e);if(t){var n={bidder:e,params:{placementId:t.params.placementId,keywords:{pos:this.slot.target.manual.pos,sec:l.Z.getSection(),permutive:this.segments,admantx_bs:this.admantx_bs,admantx_cat:this.admantx_cats}}};this.slot.sizeConfig&&(n.sizeConfig=this.slot.sizeConfig),this.newBidderList.push(n),this.flagParserProcessed.push(e)}}},{key:"parseCriteo",value:function(){var e,t="criteo",n=this.getBidderConfig(t);if(n){var r={bidder:t,params:{networkId:null==n||null===(e=n.params)||void 0===e?void 0:e.networkId,permutive:this.segments}};this.slot.sizeConfig&&(r.sizeConfig=this.slot.sizeConfig),this.newBidderList.push(r),this.flagParserProcessed.push(t)}}},{key:"parseTeads",value:function(){var e=this,t="teads",n=this.getBidderConfig(t);if(n)if(this.auctioneerDisallowed(t))this.flagParserProcessed.push(t);else{var r=n.placements,o=r.inarticle,i=r.banner,a=n.params,l=null==o?void 0:o.slots.find((function(t){return new RegExp(t).test(e.slotId)})),s=null==i?void 0:i.slots.find((function(t){return new RegExp(t).test(e.slotId)}));if(!l&&!s)return this.flagParserProcessed.push(t);var u={bidder:t,params:{placementId:l?null==o?void 0:o.placementId:i.placementId,pageId:null==a?void 0:a.pageId}};this.slot.sizeConfig&&(u.sizeConfig=this.slot.sizeConfig),this.newBidderList.push(u),this.flagParserProcessed.push(t)}}},{key:"parseGumGum",value:function(){var e=this,t="gumgum",n=this.getBidderConfig(t),r=this.auctioneerDisallowed(t);if(n)if(r)this.flagParserProcessed.push(t);else{var o=n.params,l=o.zone,s=o.slot,u=o.product,c=o.placements;if(l&&s&&u&&c){var d=a.A.getPageCharacteristics().deviceType,f=c[d],g=f&&f.slots.length>0;if(g){var p=g&&f.slots.find(();if(p&&("^leaderboard$"!==p||!(a.A.getWidth()<1300||a.A.getHeight()<600))){var v={bidder:t,params:{zone:l}};return"desktop"===d&&(v.params.product=u),"mobile"===d&&(v.params.slot=s),this.newBidderList.push(v),this.flagParserProcessed.push(t),!0}this.flagParserProcessed.push(t)}else this.flagParserProcessed.push(t)}else i.Z.log("Malformed config params for ".concat(n))}}},{key:"parseOutbrain",value:function(){var e=this,t="outbrain",n=this.getBidderConfig(t);n&&(n.params.placements.reduce((function(r,o){var i=o.placementName.toLowerCase().split("_").slice(1),a=l.Z.getSection().split("/")[0]||"",s=i[0];if(i[1]===e.slotId&&s===a){var u={bidder:t,params:{publisher:{id:n.params.publisher.publisherId,name:n.params.publisher.name,domain:n.params.publisher.domain}}};e.slot.sizeConfig&&(u.sizeConfig=e.slot.sizeConfig),e.newBidderList.push(u)}})),this.flagParserProcessed.push(t))}},{key:"parseImproveDigital",value:function(){var e=this,t=b(),n=this.getBidderConfig(t);n&&(n.params.placements.reduce((function(t,r){var o=r.placementName.toLowerCase().split("_").slice(1),i=l.Z.getSection().split("/")[0]||"",a=o[0];if(o[1]===e.slotId&&a===i){var s=m({bidder:n,slot:e.slot,slotSizes:e.slotSizes});e.newBidderList.push(s)}})),this.flagParserProcessed.push(t))}}],n&&h(t.prototype,n),r&&h(t,r),e}(),P=[{key:"adt",val:function(e){return e.adt}},{key:"alc",val:function(e){return e.alc}},{key:"dlm",val:function(e){return e.dlm}},{key:"drg",val:function(e){return e.drg}},{key:"hat",val:function(e){return e.hat}},{key:"off",val:function(e){return e.off}},{key:"vio",val:function(e){return e.vio}},{key:"fr",val:function(e){return e.fr}},{key:"id",val:function(e){return e.slots[e.adUnitCode].id}},{key:"vw",val:function(e){return e.slots[e.adUnitCode].vw}},{key:"grm",val:function(e){return e.slots[e.adUnitCode].grm}},{key:"pub",val:function(e){return e.slots[e.adUnitCode].pub}},{key:"vw05",val:function(e){return e.slots[e.adUnitCode].vw05}},{key:"vw10",val:function(e){return e.slots[e.adUnitCode].vw10}},{key:"vw15",val:function(e){return e.slots[e.adUnitCode].vw15}},{key:"vw30",val:],O=function(){var e,t,n;return null===(n=window.newsUkAdLibraryConfig.auction)||void 0===n||null===(t=n.prebidModules)||void 0===t||null===(e=t.mass)||void 0===e?void 0:e.config},j={isEnabled:function(){return!!O()},load:function(){var e=window.newsUkAdLibraryConfig.auction.prebidModules.mass.bidders||{};return a.A.setGlobal("massConfig",e),Promise.resolve(!0)},getMassGlobalSettings:function(){var e=O();return e&&e.dealIdPattern&&(e.dealIdPattern=new RegExp(e.dealIdPattern,"i")),e?{mass:e}:{}}};const I=j;a.A.setGlobal("newsUkAdLibraryPartners.mass",j);const x={getMagniteGlobalSettings:function(){var e,t,n=null===(t=window.newsUkAdLibraryConfig.auction)||void 0===t||null===(e=t.prebidModules)||void 0===e?void 0:e.magnite;return void 0===n?{}:{s2sConfig:n}}};var z=C={isEnabled:load:function(){var e=window.newsUkAdLibraryConfig.auction.prebidModules.criteo.bidders||{};return a.A.setGlobal("criteoConfig",e),Promise.resolve(!0)},getCriteoGlobalSettings:function(){var e=a.A.getGlobal("utag_data.tealium_visitor_id")||"",t={};return a.A.getGlobal("newsUkAdLibraryConfig.auction.criteo.enableFirstPlayId")&&e?(window.pbjs.setBidderConfig({bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:a.A.getGlobal("location.host"),uids:[{id:e,atype:1,ext:{stype:"ppuid",persistence:"js"}}]}]}}}}}}),t):t}};const Z=C;a.A.setGlobal("newsUkAdLibraryPartners.criteo",C);var L=n(702),T=n(152);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"getGlobalPrebid",value:function(){var e=window.pbjs||{};return e.que=e.que||[],e}},{key:"globalConfig",value:function(){var t,n=e.getGlobalPrebid(),r=a.A.getGlobal("newsUkAdLibraryConfig.prebid"),o=r.bidderSettings,l=void 0===o?{}:o,s=r.realTimeData,u=q(r,["bidderSettings","realTimeData"]),c=a.A.getGlobal("newsUkAdLibraryConfig.auction").criteo,d=void 0===c?{}:c;(null==l||null===(t=l.ias)||void 0===t?void 0:t.adserverTargeting)&&(l.ias.adserverTargeting=P),a.A.getGlobal("newsUkAdLibraryConfig.auction.prebid").forEach((function(e){e.bidderSettings&&(l[e.bidder]=Object.assign({},l[e.bidder]||{},e.bidderSettings))})),n.bidderSettings=l;var f=a.A.getGlobal("newsUkAdLibraryConfig.auction.realTimeData.dataProviders"),g=G(U(G(U({},u),{criteo:d,realTimeData:G(U({},s),{dataProviders:M(null==s?void 0:s.dataProviders).concat(M(f))})}),e.getConsentManagementSettings(),I.getMassGlobalSettings(),x.getMagniteGlobalSettings(),Z.getCriteoGlobalSettings()),{bidderTimeout:parseInt(a.A.getGlobal("newsUkAdLibraryConfig.auction.timeout")),currency:{adServerCurrency:"USD",granularityMultiplier:1,bidderCurrencyDefault:{gumgum:"GBP"}}});return n.que.push((),e.setAliasAdapters(),i.Z.log("pbjs global config object - complete",g),window.pbjs=n,n}},{key:"isEnabled",value:function(){return!!a.A.getGlobal("newsUkAdLibraryConfig.auction.prebid")}},{key:"removeAdUnit",value:function(e){window.pbjs.removeAdUnit(e)}},{key:"setTargetingForGPTAsync",value:,{key:"getBidResponses",value:function(){return window.pbjs.getBidResponses()}},{key:"setAliasAdapters",value:function(){return a.A.getGlobal("newsUkAdLibraryConfig.auction.prebid").filter(().map(()}},{key:"prepareSlot",value:,{key:"prepareSlots",value:function(t){var n=o.Z.buildAdPath(),a=e.prepareSlot(n),l=t.filter(r.Z.isNotExcludedFromAllAuctions).map(r.Z.filterFluidSizes).reduce((,[]);return i.Z.log("Prebid: slots for auction:",t.map((function(e){return e.name})),l),l}},{key:"getConsentManagementSettings",value:function(){var e=window.newsUkAdLibraryConfig.auction.consentManagement;return i.Z.log("Prebid: consent management:",e),{consentManagement:e}}},{key:"getRealTimeDataIasConfig",value:function(){var e=window.newsUkAdLibraryConfig.prebid.find((function(e){return e.realTimeData}));return i.Z.log("Prebid: realTimeData IAS:",e),e?{realTimeData:e}:{}}},{key:"configureSlot",value:function(e,t){var n=a.A.getPageCharacteristics(),o=n.deviceWidth,i=n.deviceBreakpoint,l=(0,y.qb)(e,r.Z.getSlotSizesByBreakpoint({slot:e,browserWidth:o,defaultBreakpoint:i}));if(l.length){var s=a.A.getGlobal("newsUkAdLibraryConfig.auction.prebid");if(!0===e.isSecondaryAuction){var u=a.A.getGlobal("newsUkAdLibraryConfig.auction.secondaryPrebid");s=s.map((function(e){if(!Array.isArray(u))return e;var t=u.find(();return t?(0,a.E)({},e,t):e})),(0,T.cM)("modified config",s)}var c=a.A.getGlobal("newsUkAdLibraryConfig.auction.realTimeData");return new S(s,e,l,t,c).parseBidders()}}},{key:"setAuctionIdTargeting",value:function(e,t){e&&t&&(o.Z.getSlotsInDisplay().find((function(t){return String(t.getSlotElementId())===e})).setTargeting("prebid_auction_id",t),i.Z.log("Slot target set",["prebid_auction_id",t]))}},{key:"requestBids",value:function(t){return new Promise((function(n){var r=e.globalConfig();r.que.push((function(){var o=e.prepareSlots(t);r.addAdUnits(o),i.Z.log("requestBids - requestBids send"),r.requestBids({adUnitCodes:o.map((function(e){return e.code})),bidsBackHandler:function(t){i.Z.log("[Prebid] bids from auction:",t),Object.entries(t).forEach((function(t){var n,r,o=R(t,2),i=o[0],a=o[1];return e.setAuctionIdTargeting(i,null===(r=a.bids)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.auctionId)})),n(t)}})}))}))}}],(n=null)&&E(t.prototype,n),l&&E(t,l),e}();D(V,"vendorId",(0,L.o)("prebid"))},822:(e,t,n)=>{"use strict";var r=n(6),o=n(168),i=n(209);function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var s,u,c=(0,n(702).o)("pressboard"),d={isEnabled:function(){return!!(o.A.getGlobal("newsUkAdLibraryConfig.partners.pressboard")&&(e=o.A.getGlobal("newsUkAdLibraryConfig.partners.pressboard"),(o.A.getGlobal(e.lookupTag)||[]).includes(e.lookupTagValue)||Array.from(document.querySelectorAll(".tags__list-item")).filter(().length>0));var e},load:(s=function(){return l(this,(function(e){var t,n,a;return t=o.A.getGlobal("newsUkAdLibraryConfig.partners.pressboard"),n=i.Z.createElement("div",{id:t.embedDivId}),(a=document.getElementsByClassName(t.referenceDivClass)[0])?a.parentNode.insertBefore(n,a):document.getElementsByTagName("body")[0].lastChild.appendChild(n),r.Z.log("Pressboard - embed page div"),function(){var e=o.A.getGlobal("newsUkAdLibraryConfig.partners.pressboard");i.Z.injectInlineScript({content:"!function(p,r,e,s,b,d){p.pbq||(s=p.pbq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);},s.version='1.0',s.queue=[],b=r.createElement(e),b.async=!0,b.src='https://sr.studiostack.com/v3/services',d=r.getElementsByTagName(e)[0],d.parentNode.insertBefore(b,d))}(window,document,'script'); pbq('activate','ceros-universal-analytics');",target:"head"}),r.Z.log("Pressboard - embed JS script"),Object.keys(e.setup).length&&Object.keys(e.setup).forEach((function(t){window.pbq(t,e.setup[t]),r.Z.log("Pressboard setup - ".concat(t,":").concat(e.setup[t]))}))}(),[2]}))},u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function i(e){a(o,n,r,i,l,"next",e)}function l(e){a(o,n,r,i,l,"throw",e)}i(void 0)}))},function(){return u.apply(this,arguments)}),vendorId:c};o.A.setGlobal("newsUkAdLibraryPartners.pressboard",d)},4:(e,t,n)=>{"use strict";var r=n(6),o=n(209),i=n(168),a=(0,n(702).o)("tmt"),l=function(){var e=i.A.getGlobal("newsUkAdLibraryConfig.partners.tmt.url");return r.Z.log("Request vendor URL:",e),e},s=function(){return!!i.A.getGlobal("newsUkAdLibraryConfig.partners.tmt")},u={load:function(){if(!s()){var e="TMT did not load as its not enabled in config!";return r.Z.warn(e),Promise.reject(e)}var t=l();return o.Z.injectScript({src:t})},isEnabled:s,getUrl:l,vendorId:a};i.A.setGlobal("newsUkAdLibraryPartners.tmt",u)},212:(e,t,n)=>{"use strict";var r=n(168),o=n(702),i=n(6),a=n(944),l=n(925);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}unction g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var m,y=1500,h="preroll",w={bidConfig:void 0},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.A.getGlobal("newsUkAdLibraryConfig.auction.amazon_a9.prerollIds")||{},o=r.A.getGlobal("newsUkAdLibraryConfig.auction.amazon_a9.slotID");if(!1!==o){var a="{{duration}}",l=t&&!0===o.includes(a)?"short":"long",s=o.replace(a,l);return i.Z.log("[Video Auction / APS]: slotID override found, '".concat(s,"' will be used.")),s}if(void 0!==n[e]){var u=n[e];return i.Z.log("[Video Auction / APS]: match found on 'prerollIds' config, '".concat(u,"' will be used.")),u}return i.Z.log("[Video Auction / APS]: no match found on 'prerollIds' config, '".concat(h,"' will be used")),h},A=function(e){return i.Z.log("[Video Auction / APS]: AmazonVideoAuction()"),new Promise((function(t,n){var o,a,l,s={slotID:k(e,P()),sizes:[r.A.getGlobal("newsUkAdLibraryConfig.prebid.video.inStreamDefaultSize")],mediaType:"video"};i.Z.log("[Video Auction / APS]: bid config",s),null===(l=window)||void 0===l||null===(a=l.apstag)||void 0===a||null===(o=a.fetchBids)||void 0===o||o.call(a,{slots:[s],timeout:y},(function(e){if(i.Z.log("[Video Auction / APS]: bids",e),void 0===(null==e?void 0:e[0]))return n("No bids returned from APS");t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.qsParams,n=e.targeting;if(void 0!==n&&void 0===t)return n;switch(!0){case void 0===t:return i.Z.error("[Video Auction]: no qsParams found in Amazon bid response"),{};case""===t:return i.Z.error("[Video Auction]: empty qsParams found in Amazon bid response"),{}}return t.split("&").reduce((function(e,t){if(""!==t){var n=v(t.split("="),2),r=n[0],o=n[1];e[r]=o}return e}),{})}(e[0]))}))}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.bidConfig?(i.Z.log("[Video Auction / Prebid]: PrebidVideoAuction()",e),j(e,t)):(i.Z.log("[Video Auction / Prebid]: PrebidVideoAuction() no prebid vendor found, abort auction to Prebid!"),Promise.resolve())},P=function(){var e,t,n,r,o,a;return i.Z.log("[Video Auction]: is Times user and logged in",null===(n=window)||void 0===n||null===(t=n.nuk)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.isLoggedIn),!0===(null===(a=window)||void 0===a||null===(o=a.nuk)||void 0===o||null===(r=o.user)||void 0===r?void 0:r.isLoggedIn)},O=function(e){var t,n,r;return f({},((null===(r=window)||void 0===r||null===(n=r.pbjs)||void 0===n||null===(t=n.getAdserverTargeting)||void 0===t?void 0:t.call(n))||{})[e]))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){var a,l,s;i.Z.log('[Video Auction / Prebid]: "video#'.concat(e,'" initialised')),function(){var e,t,n,r,o,a,l,s,u,c=(null===(n=window)||void 0===n||null===(t=n.pbjs)||void 0===t||null===(e=t.getConfig)||void 0===e?void 0:e.call(t))||{};null===(a=window)||void 0===a||null===(o=a.pbjs)||void 0===o||null===(r=o.setConfig)||void 0===r||r.call(o,g({},c,{cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}})),i.Z.log("[Video Auction / Prebid]: cache url set and config updated",null===(u=window)||void 0===u||null===(s=u.pbjs)||void 0===s||null===(l=s.getConfig)||void 0===l?void 0:l.call(s))}(),function(e){var t,n,r;i.Z.log("[Video Auction / Prebid]: setPrebidVideoAdUnit");var o=JSON.parse(JSON.stringify(e));null===(r=window)||void 0===r||null===(n=r.pbjs)||void 0===n||null===(t=n.addAdUnits)||void 0===t||t.call(n,o),i.Z.log("[Video Auction]: adUnit set",o)}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return[];var n={mediaTypes:{video:g({playerSize:r.A.getGlobal("newsUkAdLibraryConfig.prebid.video.inStreamDefaultSize"),context:"instream",skip:0,playbackmethod:[3],mimes:["video/mp4","video/webm","application/javascript"],maxduration:!0===P()?20:30,protocols:[2,3,5,6,7,8],api:[1,2],linearity:1,placement:1},t)}};return[p(g({},n),{bids:w.bidConfig,code:e})]}(e,t)),i.Z.log("[Video Auction / Prebid]: auction timeout set to ".concat(2e3,"ms (includes buffer to match Prebid)")),null===(s=window)||void 0===s||null===(l=s.pbjs)||void 0===l||null===(a=l.requestBids)||void 0===a||a.call(l,{timeout:y,adUnitCodes:[e],bidsBackHandler:function(t){if(i.Z.log("[Video Auction / Prebid]: bids",t),0===Object.keys(t).length)return o("No bids returned from Prebid");n(O(e))}})}))},I=(m=c((function(e){var t,n;return b(this,(function(r){switch(r.label){case 0:i.Z.log("[Video Auction]: auction code:",e),function(e){var t;"true"===((null===(t=document.getElementById(e))||void 0===t?void 0:t.dataset)||{}).isFeatured&&(window.cust_params="".concat(window.cust_params,"&pos=herov"))}(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,z(e)];case 2:return t=r.sent(),i.Z.log("[Video Auction]: Combined bids",t),[2,t];case 3:return n=r.sent(),i.Z.warn("[Video Auction]: error",n),[3,4];case 4:return[2]}}))})),function(e){return m.apply(this,arguments)}),x=function(e){return e.reduce((function(e,t){var n=t.status,r=t.value;return"fulfilled"===n&&(e=g({},e,void 0===r?{}:r)),e}),{})},z=function(){var e=c((function(e){var t,n,r=arguments;return b(this,(function(o){switch(o.label){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},2e3,[4,Promise.allSettled([(0,l.X)(A(e),2e3),(0,l.X)(S(e,t),2e3)])];case 1:return n=o.sent(),i.Z.log("[Video Auction]: raw bid responses from Amazon/Prebid",n),[2,x(n)]}}))}));return function(t){return e.apply(this,arguments)}}();function C(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,l,"next",e)}function l(e){C(i,r,o,a,l,"throw",e)}a(void 0)}))}}function L(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var T={load:Z((function(){var e;return L(this,(function(t){return!1!==(e=r.A.getGlobal("newsUkAdLibraryConfig.auction.prebidVideo"))&&(r.A.setGlobal("window.newsUkAdLibrary.videoAuction",(function(){return Promise.resolve()})),r.A.setGlobal("window.newsUkAdLibrary.videoHeaderBidding",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.Z.log("[Video Auction / Prebid]: initialised bidConfig",e),e.length?a.Z.isAdBlocked()?(i.Z.log("[Video Auction]: window.newsUkAdLibrary.videoAuction() ads are blocked by the data layer"),function(){return Promise.resolve()}):(w.bidConfig=e,I):(i.Z.log("[Video Auction]: window.newsUkAdLibrary.videoAuction() bid config not provided"),function(){return Promise.resolve()})}(e))),[2]}))})),isEnabled:function(){return r.A.getGlobal("newsUkAdLibraryConfig.partners.video.enabled")},vendorId:(0,o.o)("video")};r.A.setGlobal("newsUkAdLibraryPartners.video",T)}},t={};.n=n.d=n.o=n(411),n(491),n(4),n(822),n(391),n(400),n(212);n(17)})();