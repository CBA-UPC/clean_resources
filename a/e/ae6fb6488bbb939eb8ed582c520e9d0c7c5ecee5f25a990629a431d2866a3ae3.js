(function(){function r(r){var i=$("#outer"),s=r.offset();t&&t.remove(),t=null,t=$(So.lib.template(n,{data:r.data("info")})),i.append(t),t.css({top:s.top+r.height()+5,left:s.left+ -10}).on("mouseenter",function(){clearTimeout(e)}).on("mouseleave",function(){clearTimeout(e),t.fadeOut(200,function(){t&&t.remove(),t=null})}),t.on("mousedown","a",function(){var e=$(this);So.lib.log("renzheng",{type:"click",url:e.data("mdurl")||e.attr("href"),datatype:e.closest(".so_icp_pop").data("v")})})}var e="",t,n=['<dl class="so_icp_pop so_icp_v_<%= data.v %>" data-v="<%= data.v %>" data-pos="<%= data.pos %>">',"	<dd>","		<div>\u6c34\u6ef4\u4fe1\u7528\u4e3a\u60a8\u68c0\u6d4b\u8be5\u7f51\u7ad9\u4e3b\u4f53\u4fe1\u606f</div>",'		<div class="name">\u4e3b\u4f53\uff1a<%= data.name %></div>',"       <% if (data.v == 1 || data.v == 2 || data.v == 4) { %>",'		<div style="margin-top:5px">','           <span class="icon_pass"></span>','           <span class="pass">\u5df2\u6838\u9a8c\u767b\u8bb0\u4fe1\u606f</span>',"           <% if (data.v == 2) { %>",'           <span class="icon_pass"></span>','           <span class="pass">\u5df2\u7ecf\u63d0\u4ea4\u5b88\u4fe1\u7ecf\u8425\u627f\u8bfa\u4e66</span>',"           <% } %>","       </div>","       <% } %>","	</dd>","	<dt>",'       <a href="<%= data.link %>" data-mdurl="<%= data.url %>" target="_blank" class="detail">\u8be6\u60c5 &gt;</a>',"       <span>\u6c34\u6ef4\u4fe1\u7528\u00ae\ufe0f</span>",'       <strong><%= ["\u7acb\u4fe1", "\u5b88\u4fe1\u627f\u8bfa", "\u5b9e\u540d", "\u54c1\u724c"][data.v - 1] %>\u4f01\u4e1a</strong>',"   </dt>","</dl>"].join("");$("body").on("mouseenter",".so_icp",function(){var n=$(this),i=n.data("info"),s=i.pos,o=t&&t.data("pos");s!=o&&r(n),clearTimeout(e),e=setTimeout(function(){t&&t.fadeIn(100),So.lib.log("renzheng",{type:"showpop",datatype:i.v,value:i.web_name})},300,!0)}).on("mouseleave",".so_icp",function(){clearTimeout(e),e=setTimeout(function(){t&&t.fadeOut(100,},300,!0)})})(),function(){var e=$("#adv-search"),t=$(".adv-search-btn"),n=e.find("[data-type=time-range]"),r=$("#head .form"),i="so-adv",s=t.attr("data-val"),o=function(){e.hide(),t.removeClass("hover")},u={init:event:function(){var n;$(".adv-search-wrap").hoverDelay({hoverEvent:outEvent:function(){o()}})},searchItem:function(){e.on("click","a",function(e){var n=$(this).attr("data-val");n==t.attr("data-val")?o():(r.append('<input type="hidden" name="adv_t" value="'+n+'" />'),setTimeout(function(){r.submit()},100))})}};u.init()}(),So.web._richsum=function(){return function(){function l(){if(!So.lib.checkAbv(1653,"1")&&!So.lib.checkAbv(1653,"2")&&So.comm.pn==1&&$(".res-rich.so-rich-doc").length&&(So.comm.monitor.end==0||!So.comm.monitor.end)){var e=function(e){if(e.data&&e.data.length){So.lib.log("doc_rec",{type:"show",datatype:0});var t=e.data,n=[];for(var r=0;r<t.length;r++)if(t[r].UploadTimeTerm&&t[r].WkUrl&&t[r].TitleTerm){var i=t[r],s=new Date(parseInt(i.UploadTimeTerm)*1e3),o=So.lib.formatTime(s,"yyyy\u5e74MM\u6708dd\u65e5",0),u=i.TitleTerm.replace(/<b>/g,"<em>");u=u.replace(/<\/b>/g,"</em>"),n.push({uploadTime:o,title:u,href:i.WkUrl+"?src=www_rec"});if(n.length==6)break}if(n.length==0)return;var a=$(".res-rich.so-rich-doc"),f=[],l=So.web.srplog.params.sms.split(",");for(var r=0;r<l.length;r++){var c=l[r].split(":");(c[1]=="doc"||c[1]=="doc_green"||c[1]=="doc_list")&&f.push(c);if(f.length==3)break}for(var r=0,h=0;r<a.length;r++){if(a.find("[data-norec]").length)break;var p=a.eq(r);if(p.find(".rich-doc-wenku").length)continue;var d=$('<ul class="mydoc-info"></ul>');if(n.length-r*2<1)break;n.length-r*2>=2?($('<li><div class="mydoc_title">\u70ed\u95e8\u63a8\u8350\uff1a</div></li>').appendTo(d),$('<li><div class="mydoc_title"><a data-type="rec" target="_blank" href="'+n[r*2].href+'">'+n[r*2].title+'</a></div><div style="float:right;color:#999">\u4e0a\u4f20\u65f6\u95f4\uff1a'+n[r*2].uploadTime+"</div></li>").appendTo(d),$('<li><div class="mydoc_title"><a data-type="rec" target="_blank" href="'+n[r*2+1].href+'">'+n[r*2+1].title+'</a></div><div style="float:right;color:#999">\u4e0a\u4f20\u65f6\u95f4\uff1a'+n[r*2+1].uploadTime+"</div></li>").appendTo(d)):n.length-r*2==1&&$('<li><div class="mydoc_title">\u70ed\u95e8\u63a8\u8350\uff1a<a data-type="rec" target="_blank" href="'+n[r*2].href+'">'+n[r*2].title+'</a></div><div style="float:right;color:#999">\u4e0a\u4f20\u65f6\u95f4\uff1a'+n[r*2].uploadTime+"</div></li>").appendTo(d),So.lib.log("doc-rec",{type:"show",datatype:f[r][0]}),p.append(d);var v=p.closest(".res-list").find(".res-title a").attr("data-ver");p.closest(".res-list").find(".res-title a").attr("data-ver",(v?v+"_":"")+"rec"),h++;if(h==3)break}}},t=encodeURIComponent(So.comm.q);$.ajax({url:"https://wenku.so.com/api/search/intowk?q="+t,method:"get",dataType:"jsonp",crossDomain:!0,timeout:2e3,success:)}}function c(){if(So.comm.pn==1&&$("div[data-102news-style-type]").length){if($("#mohe-kzx_top").length)return;var e=function(e){if(e.length<2)return;var t=[];for(var n=0;n<e.length;n++)if(e[n].title&&e[n].url&&e[n].pdate){var r=e[n],i=new Date(parseInt(r.pdate)*1e3),o=So.lib.formatTime(i,"yyyy-MM-dd",0),u=r.title.replace(/<b>/g,"<em>");u=u.replace(/<\/b>/g,"</em>"),t.push({uploadTime:o,title:u,href:r.url});if(t.length==3)break}if(t.length<2)return;var a=s.attr("data-102news-style-type"),f=$('<ul class="kzx-news-rec-info"><li class="kzx-news-rec-title">\u70ed\u95e8\u63a8\u8350\uff1a</li></ul>');for(var n=0;n<t.length;n++){var l=$('<li><div class="kzx-info-title"><a data-kzx-rec-a-flag="1" data-type="news-rec" target="_blank" href="'+t[n].href+'">'+t[n].title+'</a></div><div style="float:right;color:#999">'+t[n].uploadTime+'</div><div class="clearfix"></div></li>');f.append(l)}var c=$("<div></div>");c.append(f),s.append(c);var h=$("<div class='clearfix'></div>");h.insertBefore(c),So.lib.log(a+"_rec",{type:"show",datatype:0}),s.closest(".res-list").find(".res-title a").attr("data-ver","rec")},t=$('div[data-102news-style-type^="kzx-news"]'),n=t.eq(0),r=$("div[data-102news-style-type]"),i=!1,s;$.each(r,function(){var e=$(this).data("kzx_is_show");e&&(i=e,s=$(this))});if(i){var o=t.length?n.parent(".res-list").find(".res-title a").data("replaceurl").split("?")[0]:"",u=t.length?n.parent(".res-list").find(".res-title a").html():"",a={n:10,rewrite:1,sort:"rank",c:"WeMedia",from:"so_om_kzxnews_rec",hot_search:1,q:So.comm.q,_url:o,_title:u},f="https://api.ssl.so.com/Search";$.ajax({url:f,data:a,method:"get",dataType:"jsonp",crossDomain:!0,jsonpCallback:"callback",success:error:)}}}function h(){$(".inter_feedback_link").on("click",function(e){if(So.lib.browser.isIE()&&So.lib.browser.isIE()<=9){window.open("http://info.so.com/feedback.html");return}e.preventDefault(),e.stopPropagation();if($(this).hasClass("inter_feedback_cancel"))$(this).removeClass("inter_feedback_cancel"),$(".inter-item").removeClass("inter_feedback_edit"),$(this).find(".inter_feedback_txt").text("\u53cd\u9988");else{$(this).addClass("inter_feedback_cancel");var t=$(this).closest(".inter");t.length&&t.find(".inter-item").addClass("inter_feedback_edit"),$(this).find(".inter_feedback_txt").text("\u53d6\u6d88")}}),$(".inter .inter-close").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".inter").hide(),So.lib.log("official_recom",{type:"close",from:$(this).closest(".image-text-rich-list").attr("data-from"),p1:$(this).closest(".image-text-rich-list").attr("data-type")})}),$("#container").on("mousedown",".inter_feedback_edit .inter-feedback",function(e){e.stopPropagation(),e.preventDefault();var t={words:$(this).data("title"),module_token:"richsum"};So.lib.observer.publish("so.feedback.edit",t,["\u7ed3\u679c\u4e0d\u76f8\u5173","\u5185\u5bb9\u6709\u9519\u8bef","\u7ed3\u679c\u91cd\u590d","\u4e3e\u62a5","\u56fe\u7247\u9519\u8bef"]),So.lib.log("official_recom",{type:"click",datatype:"feedback",from:$(this).closest(".image-text-rich-list").attr("data-from"),p1:$(this).closest(".image-text-rich-list").attr("data-type")})}),So.lib.observer.subscribe("so.feedback.edit.close",}function p(){var e=$(".so-ask"),t=[],n=0;e.length>0&&e.each(function(r){var i=this,s=$(".res-list").index($(i).closest(".res-list"));if(r<3)try{var o=$(i).find(".gray-info"),u=$(i).closest(".res-list").find("[data-mdurl]").data("mdurl"),a={type:"zhihu",url:decodeURIComponent(u)};o.length>0&&o.data("site")=="\u77e5\u4e4e"?$.ajax({url:"//apistore.360.cn/apis/qss/qssweb/richsum_tags",method:"get",data:a,crossDomain:!0,dataType:"json",success:function(r){if(r.errno==0&&r.rec_tag&&r.rec_tag.tags){var i=r.rec_tag.tags.split("	"),u=[];for(var a=0;a<i.length;a++){var f='<a class="zhihu-tag" href="/s?ie=utf-8&q='+encodeURIComponent(i[a])+'&src=zhihu_tag" target="_blank">'+i[a]+"</a>";u.push(f)}o.html('<span class="zhihu-label">\u7b54\u6848\u4e2d\u63d0\u53ca\uff1a</span>'+u.join("\u3001")),o.find(".zhihu-tag").on("click",function(){So.lib.log("zhihu",{type:"click",value:$(this).text(),p1:s})}),t.push(s)}n++,n==(e.length>3?3:e.length)&&So.lib.log("zhihu",{type:"show",p1:t.join(","),p2:t.length})}}):n++}catch(f){console.log(f)}})}function d(){$.each($(".so_rich_form"),function(e,t){function s(e){So.lib.log("rich-search",$.extend({mid:So.lib.getUnMid(So.comm.md||So.lib.cookie.get("__md"))},e))}function o(){i.hide()}unction a(){if($.trim(r.val())=="")return;r.attr("data-val",r.val()).val(r.val()+" site:"+n.attr("data-domain")),n.submit(),r.val(r.attr("data-val"))}var n=$(t),r=n.find(".so_rich_input"),i=n.find(".so_rich_placeholder");$.trim(r.val())==""&&u(),n.find(".so_rich_btn").on("click",function(e){return s({type:"search",value:r.val()}),a(),!1}),r.on("keydown input propertychange",function(e){$.trim(r.val())&&o();if(e.keyCode==13)return s({type:"enter-search",value:r.val()}),a(),!1}).on("keyup",function(){$.trim(r.val())||u()}).on("focus",function(){$.trim(r.val())==""&&s({type:"focus",value:r.val()})}),s({type:"show"})})}$(".res-rich").on("mousedown","a",function(e){var t=$(this);if(t.attr("data-kzx-rec-a-flag")==1)return!0;var n=t.closest(".res-list").find(".res-title a[data-replaceurl]");if(n.length){var r=n.attr("data-replaceurl");r&&/^((ht|f)tps?):\/\/(www.360kuai.com)/.test(r)&&(t.attr("href",n.attr("href")),t.attr("data-mdurl",n.attr("data-initurl")))}}),$(".res-rich").on("click",".res-comm-more",function(e){var t=$(this),n=t.parent(),r="\u5c55\u5f00\u5168\u90e8",i="\u6536\u8d77",s=$(e.delegateTarget),o="li:gt(0)";s.hasClass("so-rich-urllink")?(r="\u67e5\u770b\u66f4\u591a",o=".topmore"):s.hasClass("so-rich-multilink")?o="li:gt(1)":s.hasClass("so-rich-labour-teletext")?(r="\u67e5\u770b\u66f4\u591a",o="li:gt(3)"):s.hasClass("rich-lbs-findplace")?(r="\u5c55\u5f00",i="\u6536\u8d77",o="div a:gt(1)"):s.hasClass("res-autocar")&&(r="\u540c\u7c7b\u8f66\u63a8\u8350",i="\u540c\u7c7b\u8f66\u63a8\u8350",o=".cars"),n.hasClass("res-comm-open")?(t.removeClass("res-comm-arrow").html(r).attr("data-type","open"),n.removeClass("res-comm-open").find(o).hide()):(t.addClass("res-comm-arrow").html(i).attr("data-type","close"),n.addClass("res-comm-open").find(o).show())}),$(".so-rich-site-image, .so-rich-site-life, .so-rich-site-life .cate-nav").each(function(e){var t,n=$(this),r=n.find(".block"),i=".nav a",s=function(e){e.addClass("hover").siblings().removeClass("hover"),r.hide().eq(e.index()).show()};n.hasClass("so-rich-site-image")?(i=".comm-other a",s=function(e){e.hasClass("all")||(r.hide().eq(parseInt(e.index())-1).show(),e.closest(".comm-other").find("a").removeClass("hover"),e.addClass("hover"))},n.find(".block li").each(function(e,t){$(t).mouseenter(function(){$(this).find(".footnote p").removeClass("ol")}).mouseleave(})):n.hasClass("cate-nav")&&(i="a",s=function(e){e.addClass("hover").siblings().removeClass("hover"),e.parent().siblings(".cate-block").hide().eq(e.index()).show()}),n.find(i).mouseenter(function(){var e=$(this);t=setTimeout(function(){s(e)},200)}).mouseleave(function(){clearTimeout(t)})}),$(".res-rich .g-card-foot").length>0&&(_loader.add("haosouPager","https://ss1.360tres.com/static/829be658513aea47/haosouPager.js"),_loader.use("jquery,haosouPager",function(){$(".so-rich-slider").each(function(){var e=$(this),t=$(".list-wrap .block",e),n=$(".g-card-foot",e).attr("data-page");n&&$(".g-card-foot",e).haosouPager({totalPage:n,currPage:1,callback:function(n){var r=$(".list-wrap",e).first().width(),i=$(".list-wrap .list",e).first(),s=t.eq(n-1);So.lib.lazyImg(s),i.stop().animate({left:-(n-1)*r})}})})}));if($(".so-rich-datalist").length>0)for(var e=1;e<4;e++){var t=".datalistPager"+e,n=" .datalist-outer-wrap";if($(t+n).length>0){var r=$(t);r.slider({blockWrap:"ul.datalist-wrap",block:"li",left:".pager-wrap.prev",right:".pager-wrap.next",autoSpeed:0,speed:400,isLoop:!1,eachGroupCount:6,arrowDisableClass:"disabled",pagesTurningFun:function(e){So.lib.lazyImg(e)}})}}$(".so-rich-official-recom .list-wrap").slider({blockWrap:".inter-ul",block:"li",left:".pager-wrap.prev",right:".pager-wrap.next",autoSpeed:0,speed:400,isLoop:!1,eachGroupCount:6,arrowDisableClass:"disabled",pagesTurningFun:),$(".so-rich-ext-top-wrap").on("click",function(){var e="doc_list";$(this).closest(".res-list").find(".mydoc_title").length&&(e+="_rec"),So.lib.log(e,{type:"click"})});if(So.web.cmsbaike&&So.web.cmsbaike.url){var i=!1;$.each($('#main h3.res-title a[data-mdurl*="baike.so.com"]'),function(e,t){!s&&$(t).width()<=440&&($(t).after('<a href="'+So.web.cmsbaike.url+'" target="_blank" class="baike-edit">'+So.web.cmsbaike.txt+"</a>"),s=!0,So.lib.log("yjbk",{type:"show"}),$(".baike-edit").on("mousedown",function(){So.lib.log("yjbk",{type:"click"})}))})}if(So.web.cmswenda&&So.web.cmswenda.url){var s=!1;$.each($('#main h3.res-title a[data-mdurl*="wenda.so.com"]'),function(e,t){!s&&$(t).width()<=440&&($(t).after('<a href="'+So.web.cmswenda.url+'" target="_blank" class="wenda-edit">'+So.web.cmswenda.txt+"</a>"),s=!0,So.lib.log("yjdt",{type:"show"}),$(".wenda-edit").on("mousedown",)})}var o=$(".so-rich-menu");if(o.length>0){var u,a,f;$.each(o,function(e,t){a=$(t),u=a.closest(".res-list").find(".res-title a[data-mdurl]"),u.length&&(f=u.data("mdurl"),$.each(a.find("a"),)})}l(),c(),h(),So.lib.checkAbv(2094,"2")&&So.comm.pn==1&&p(),d()}}(),So.web._richsum(),So.page.reload.push(So.web._richsum),So.web.login=function(){function t(t){e?t():$.ajax({url:"https://s.ssl.qhimg.com/quc/quc7.js?_="+(new Date).getTime(),dataType:"script",cache:!0,success:function(){e=!0;var n=["sou.com","so.com","360.cn","360.com"];QHPass.init({src:"pcw_newso",signIn:{types:["qrcode","mobile","normal"],hideKeepAlive:!1},signUp:{types:["mobile","email"],protocolText:"360\u641c\u7d22\u7528\u6237\u534f\u8bae",protocolUrl:"http://www.so.com/help/help_uagreement.html",privacyText:"360\u641c\u7d22\u9690\u79c1\u534f\u8bae",privacyUrl:"http://www.so.com/help/help_privacy.html",hidePasswordAgain:!1},domainList:n}),QHPass.setConfig("supportHttps",n),t()}})}function n(e){QHPass.signIn(function(){e&&e();var t=new Date;t.setDate(t.getDate()+1),t.setHours(0,0,0),So.lib.cookie.set("loginrec",1,{expires:t}),location.reload(!0)})}function r(){QHPass.signUp(function(){location.reload(!0)})}function i(){QHPass.signOut(["so.com","sou.com"],}function s(e){t(!0)}unction u(){$("#user-login").bind("click",function(){return t(n),!1}),$("#user-reg").bind("click",function(){return t(r),!1}),So.comm.pid!="home"&&$("#user-logout").bind("click",}var e=!1,a={load:function(){$.ajax({url:"https://ss1.360tres.com/ssl/482ef937b07a3803.js",dataType:"script",cache:!0,success:function(){window.QHUC.on("ready",function(e){QHUC.getMid()&&window.HUID&&HUID.setMid(QHUC.getMid());if(e&&e.errno===0)if(e.local){So.lib.log("ws-i",{value:e.local});var t=new Date;t.setDate(t.getDate()+30),So.lib.cookie.set("suw",e.local,{expires:t})}else So.lib.log("ws-i",{value:0}),So.lib.cookie.remove("suw");e&&e.qid&&!So.comm.user.qid&&(a.createBtn(),a.bindEvent())}),window.QHUC.init({src:"pcw_newso",needFastSignIn:!0})}})},controlPop:function(){if($("._uc_").length&&So.lib.isVisible1($("._uc_")[0]))a.hidePop();else{QHUC.showPopup($("#header")[0]);var e=$("._uc_"),t=$("#user_onekey_login"),n=0,r=20;So.comm.pid!="home"&&(t=$("#hd-rtools .user-group"),n=20,r=25),e.hide().slideDown(150).css({left:t.offset().left+t.width()-e.width()+n,top:t.position().top+t.height()+r,position:"absolute",zIndex:3001})}return So.lib.log("login-onekey",{value:"click"}),!1},hidePop:createBtn:function(){var e=$("#user-login");e.hide(),$('<a href="http://i.360.cn/login?src=pcw_newso&destUrl='+encodeURIComponent(location.href)+'" id="user_onekey_login">\u4e00\u952e\u767b\u5f55</a>').insertAfter(e).on("click",a.controlPop),So.lib.log("login-onekey",{value:"show"})},bindEvent:function(){$(window).on("resize scroll",function(){a.hidePop()}),$("body").on("click",function(e){$(e.target).closest("._uc_").length==0&&a.hidePop()}),QHUC.on("fastSignIn",,QHUC.on("other",s)}};return So.page.onload.push(function(){a.load()}),u(),{signIn:s,logout:o}}();var HUID=function(){function p(){var e=w();E(e)}unction v(){var e;try{e=external.GetASC(external.GetSID(window))}catch(t){}if(!e)try{e=window.wdextcmd.GetASC()}catch(t){}if(!e){var n=h("__asc");n&&(e=n)}return e}function m(e){if(e){var t=new Date;t.setFullYear(t.getFullYear()+2),c(n,e,{expires:t,path:"/",domain:a})}}unction y(){try{external.AppCmd(external.GetSID(window),"","GetASC2","","",}catch(e){}try{var t=window.wdextcmd.GetASC2();b(t)}catch(e){}}function b(e){if(e){var t=new Date;t.setFullYear(t.getFullYear()+2),c(r,e,{expires:t,path:"/",domain:a})}}function w(){var e;try{e=external.GetMID(external.GetSID(window))}catch(t){}if(!e)try{e=window.wdextcmd.GetMid()}catch(t){}if(!e){var n=h("_uc_mid");n&&(e=n)}return e||""}function E(n){if(n){var r=new Date;r.setFullYear(r.getFullYear()+2),n=x(n),c(t,n,{expires:r,path:"/",domain:a}),c(e,n,{expires:r,path:"/",domain:a,SameSite:"None"})}}function S(){var e=h(t),n=e.split(".");if(n[0]!==""&&n[1]!==""){var r=parseInt(n[1]);return n[0].substr(2,r)+n[0].substr(15+r)}return""}function x(e){var t=0,n="",r=+(new Date),i=Math.floor(Math.random()*15),s="qihoo360socom";while(t<2)n+=s.charAt(Math.floor(Math.random()*8)),t++;return n+e.substring(0,i)+r+e.substring(i)+"."+i}function T(){clearInterval(f),f=setInterval(u*60*1e3,!0);var e=h(s),t=h(i);h(o)&&(t||e)?l(t||e):N()}function N(){if(!So.lib.browser.isIE())$.ajax({url:"//socm.dmp.360.cn/huid/cors",method:"get",timeout:3e3,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){e&&e.errno===0&&HUID.set(e)}});else{var e=document.createElement("script");e.id="_socomhuid_",e.src="//socm.dmp.360.cn/HUID.set?_="+ +(new Date),document.body.appendChild(e)}}function C(e){var t=document.getElementById("_socomhuid_");t&&document.body.removeChild(t);if(e["errno"]==0&&e.huid){var n=new Date;n.setFullYear(n.getFullYear()+2),c(i,e.huid,{expires:n,path:"/",domain:a,SameSite:"None"}),c(s,e.huid,{expires:n,path:"/",domain:a});var r=new Date;r.setMinutes(r.getMinutes()+u),c(o,"1",{expires:r}),l(e.huid)}}function k(){return h(i)||h(s)}function L(e){l=e||function(){},p(),T()}var e="so_md",t="__md",n="__asc",r="__asc2",i="so_huid",s="__huid",o="gtHuid",u=10,a="so.com",f=null,l,c=function(e,t,n){n=n||{};var r=n.expires,i=n.domain,s=n.path,o=n.SameSite,u=location.protocol=="https:"?!0:!1;if(!u&&o)return;document.cookie=e+"="+encodeURIComponent(t)+(r?"; expires="+r.toUTCString():"")+(i?"; domain="+i:"")+(s?"; path="+s:"")+(u&&o?"; SameSite="+o+"; Secure":"")},h=function(e){var t=document.cookie.split(/\s*;\s*/),n=t.length-1,r,i,s;while(n>=0){r=t[n].split("="),i=r[0],s=r[1];if(i===encodeURIComponent(e))return decodeURIComponent(s);n--}return""};return{init:L,set:C,getMid:w,getHuid:k,setMid:E}}();HUID.init(function(e){if(!window.ActiveXObject&&!("ActiveXObject"in window))return;var t=So.lib.cookie.get("__md"),n;t?n="O"+t:e&&(n="H"+e),n&&So.page.onload.push(function(){$.getScript("//smart.sug.so.com/setid?_="+So.comm.t+"&id="+n)})}),function(){$("body").on("mousedown","a[href]",function(){var e=$(this).attr("href"),t=So.comm.sid||"",n=So.comm.fr||"",r=So.comm.sp||"",i=So.lib.encp(),s=So.comm.monitor&&So.comm.monitor.lm_extend||"",o=So.comm.monitor&&So.comm.monitor.ls||"",u=So.comm.lmsid&&So.comm.lmsid||"",a="",f="",l={},c={},h=e.indexOf("#");(r!=""||t!=""||n!=""||o!=""||u!=""||s!="")&&/^(https?\:\/\/www\.(so|haosou)\.com)?\/s\?/i.test(e)&&(c=So.lib.parseQuery(e),So.newsFlow&&So.newsFlow.type=="news"&&$(this).closest("#mohe-know_side_nlp")&&c.src=="know_side_nlp"&&(e=e.replace("src=know_side_nlp","src=know_side_nlp_new")),r!=""&&!c.sp&&(l.sp=r),i!=""&&!c.cp&&(l.cp=i),t!=""&&!c.psid&&(l.psid=t),n!=""&&!c.fr&&(l.fr=n),o!=""&&!c.ls&&(l.ls=o),u!=""&&!c.lmsid&&(l.lmsid=u),s!=""&&!c.lm_extend&&(l.lm_extend=s),$.isEmptyObject(l)||(f="&"+$.param(l),h>-1?a=e.substring(0,h)+f+e.substr(h):a=e+f,$(this).attr("href",a)))})}(),function(){function r(e,t){if(t&&t.toString().length==32&&!So.lib.cookie.get("isafe")){var n=new Date;n.setFullYear(n.getFullYear()+10),So.lib.cookie.set("isafe",1,{expires:n})}else t===""&&So.lib.cookie.get("isafe")&&So.lib.cookie.remove("isafe")}PageLine.release("release");var e=$("#weixinlk"),t=$("#weixinlk span");e.on("click",function(e){return t.css("display")=="none"?t.fadeIn():t.fadeOut(),e.stopPropagation(),!1}),$(document).on("click",function(){t.css("display")!="none"&&t.fadeOut()}),$("#mobile").on("click",;if(typeof So.lib.cookie.get("dpr")=="undefined"){var n=new Date;n.setFullYear(n.getFullYear()+1),So.lib.cookie.set("dpr",window.devicePixelRatio||"",{expires:n})}So.lib.isSupportWebp(),So.comm.enajax&&(_loader.add("res-ajax","https://ss2.360tres.com/ssl/c831db37ac76200e/result/res-ajax.js"),_loader.use("res-ajax",function(){})),setTimeout(72e6),So.web.typing&&(_loader.add("typing","https://ss1.360tres.com/ssl/a022d4470f689a4e/result/typing.js"),_loader.use("typing",),$("a[data-linkid]").bind("mousedown",function(){So.lib.log("footLink",{type:"click",datatype:$(this).attr("data-linkid")});if($(this).hasClass("link-with-dot")){$(this).removeClass("link-with-dot");var e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0);t.setTime(new Date(+t+864e5-1)),So.lib.cookie.set("lwd",$(this).data("linkid"),{expires:t})}}),So.page.onload.push(function(){var e=So.lib.cookie.get("__huid");if(e){var t=new Image;t.onload=t.onerror=t.src="//cm.mediav.com/lianmeng?maxhuid="+encodeURIComponent(e)}});try{external.AppCmd(external.GetSID(window),"sesafe","GetMid","","",r)}catch(i){}try{r("",window.wdextcmd.GetMid())}catch(i){}(function(){if($.inArray("se7_errors_new",[So.comm.fr,So.comm.src])!==-1){var e;function t(){e=$(document.body).height(),window.postMessage&&window.parent.postMessage({height:e},"*")}t(),setInterval(function(){e!=$(document.body).height()&&t()},200),$(".g-hd-logo a").attr("href","javascript:;"),$("form.form").on("submit",function(){$(this).find('input[name="cp"]').val(So.lib.encp());if($.trim($("#keyword").val())=="")return!1})}})();if(So.comm.scrollToBox.length){if(So.lib.parseQuery(Location.href).noScroll||!window.history.pushState)return;for(var s=0,o=So.comm.scrollToBox.length;s<o;s++){var u=$(".res-list [data-mohe-type="+So.comm.scrollToBox[s]+"]");if(!u.length)continue;window.history.pushState({},0,location.href+"&noScroll=1"),window.onunload=setTimeout(function(){$(window).scrollTop(u.offset().top-$("#header").height()-10)},200);break}}$(window).on("load",function(){$.each(So.page.onload,});var a="",f=null;$(document).on("keydown",function(e){if(document.activeElement.tagName!=="INPUT"){var t=e.key;f&&clearTimeout(f),f=setTimeout(function(){So.lib.log("rpk",{type:"press",value:a}),a=""},500),a+=t}})}(),$(function(){var e={init:bindEvent:function(){var t=["input","textarea","button","img","html","body"];$("#warper").on("mouseup",".res-list",function(n){var r=e.getSelectionText(),i=e.getTipPosition().top,s=e.getTipPosition().left,o=i+10,u=s-18;if(n.target&&n.target.nodeName&&$.inArray(n.target.nodeName.toLowerCase(),t)>=0)return;if(i<=0&&s<=0)return;if(r!=""&&r.length>0&&e.regExp(r)){var a="//fanyi.so.com/index/search";e.ajaxFn(a,r,f);function f(t){var n=e.getTranslationText(t);n.length>0&&e.showTip(n,u,o,r,t)}}}),$("#warper").on("mouseup","res-list",},getSelectionText:function(){var e="";return document.selection?e=document.selection.createRange().text:window.getSelection&&(e=window.getSelection().toString()),e},getSelectionTextPosition:function(){var t=e.getSelectionText(),n=null,r={width:0,height:0,top:0,left:0,right:0};return document.selection&&t.length>0?(n=document.selection.createRange().getBoundingClientRect(),r.top=n.top,r.bottom=n.bottom,r.left=n.left,r.right=n.right,r.width=r.right-r.left,r.height=r.bottom-r.top):window.getSelection&&t.length>0&&(n=window.getSelection().getRangeAt(0).getBoundingClientRect(),r.top=n.top,r.left=n.left,r.width=n.width,r.height=n.height),r},getTranslationText:function(t){var n="",r="",i=0,s=e.isWord(t);if(s){!$.isEmptyObject(t)&&!$.isEmptyObject(t.data)&&!$.isEmptyObject(t.data.explain)&&!$.isEmptyObject(t.data.explain.translation)&&(n=t.data.explain.translation),n.length>=3?i=3:i=n.length;for(var o=0;o<i;o++)r+=n[o]+"<br>"}else!$.isEmptyObject(t)&&!$.isEmptyObject(t.data)&&!$.isEmptyObject(t.data.fanyi)&&(r='<span class="txt">\u8bd1\uff1a</span>'+t.data.fanyi);return r},isWord:function(e){var t;return!$.isEmptyObject(e.data)&&!$.isEmptyObject(e.data.explain)&&($.isEmptyObject(e.data.explain.translation)?$.isEmptyObject(e.data.fanyi)||(t=!1):t=!0),t},getScroll:function(){var e={top:$(document).scrollTop(),left:$(document).scrollLeft()};return e},showTip:function(t,n,r,i,s){var o="<div id='translationTip' class='translationTip'><div class='triangle'><span class='out'></span><i class='inner'></i></div>"+t+"</div>",u=e.isWord(s);$("body").append(o),$("#translationTip").css({top:r+"px",left:n+"px"}).show("fast"),u?So.lib.log("fanyiTip",{q:i,type:"show",datatype:"word"}):So.lib.log("fanyiTip",{q:i,type:"show",datatype:"sentence"})},hideTip:function(){$(document).on("mouseup",function(e){e.target.id!="translationTip"&&$("#translationTip").remove()})},getTipPosition:function(){var t={left:0,top:0},n=e.getSelectionTextPosition().top,r=e.getSelectionTextPosition().left,i=e.getSelectionTextPosition().width,s=e.getSelectionTextPosition().height,o=e.getScroll().top,u=e.getScroll().left;return t.top=n+o+s,t.left=r+u+i/2,t},regExp:function(e){var t=/[\u4e00-\u9fa5]/,n=/\r|\n|\\s/,r=/[a-z]/i;return e.length>0&&t.test(e)==0&&n.test(e)==0&&r.test(e)?!0:!1},ajaxFn:function(e,t,n){$.ajax({method:"POST",dataType:"jsonp",data:{eng:1,query:t,src:"so-pc"},url:e}).done(}};e.init()}),function(){if(So.comm.actags.mod_click_rcmd&&So.comm.actags.mod_click_rcmd=="off"||So.comm.fr==="shaonian")return;var e={$inlineRecommend:null,logMod:null,logParas:{},srpLogParas:null,linkurl:"",resultType:"",pssid:"",version:"",resultTypeSubEventsMaps:{"so.recommend.click":"inline-recommend","dianjing.eideapp.click":"inline-recommend_ad"},init:function(){var e=this,t=".recommend";$(window).off(t),$(document).off(t);for(var n in e.resultTypeSubEventsMaps)e.subRecomData(n);So.lib.observer.subscribe("so.recommend.tpl",function(t,n){e.linkurl=decodeURIComponent(e.getUrlParam("url",t.machine)),e.logParas[t.ssid]={q:So.comm.q,url:e.linkurl,p1:t.machine,p2:e.resultType,p3:t.algorithm},$.isEmptyObject(n)||(e.$inlineRecommend=n.find(".inline-recommend"),e.$inlineRecommend.length&&e.$inlineRecommend.remove(),So.lib.checkAbv(4476,"test1")&&$(".inline-recommend").remove(),n.append($(t.tpl)),e.$inlineRecommend=n.find(".inline-recommend")),e.logMod="inlineRecommend_"+(t.version||t.type),e.srpLogParas=$.extend(e.logParas[t.ssid],{type:"show",value:n&&n.find(".inline-recommend-item a").length})}),e.bindEvents()},subRecomData:function(e){var t=this;So.lib.observer.subscribe(e,function(n,r){if($.isEmptyObject(n)||$.isEmptyObject(r)||$.inArray("clickRecom",So.comm.riskManageList)!=-1||r.attr("data-rec"))return;r.attr("data-rec",1);var i=t.resultTypeSubEventsMaps[e];i=="inline-recommend_ad"&&(t.resultType="ad"),So.comm.is_middle_page==1&&(i=="inline-recommend_ad"?i+=So.comm.pid.substr(3,So.comm.pid.length):i="inline-recommend"+So.comm.pid.substr(3,So.comm.pid.length)),t.getRecommendTpl(n,r,i)})},getRecommendTpl:function(e,t,n){var r=this,i="";if($(".res-recommend-tag").length>0&&$(".res-recommend-tag").data("type")==="middle2top"){var s=$(".res-recommend-tag-cover");if(t&&s.length){var o=s.find(".tag-wrap a"),u=s.height(),a=[];for(var f=0,l=o.length;f<l;f++){var c=$(o[f]);if(!(c.position().top<u))break;a.push(c.text())}i=a.join("|")}}(function(n,s){$.ajax({url:"//api.ssl.so.com/recommand/list?query="+encodeURIComponent(So.comm.q),type:"get",dataType:"jsonp",data:$.extend(e,{ads:s,sid:So.comm.sid,mid:So.lib.getMid(),guid:So.lib.cookie.get("QiHooGUID")||"",huid:So.lib.cookie.get("__huid")||"",abv:So.comm.oabv,llbq:So.comm.llbq,src:So.comm.src,corr:So.comm.monitor.cq,crec:So.lib.recls().wd,urls:r.getPageMd5(),recext:So.lib.cookie.get("recext"),qs:i}),success:function(i){if(i&&i.no===0&&i.data&&i.data.queries&&i.data.queries.length>=2){var s=i.data.version||"";r.version=s;var o=i.data.queries;r.pssid=i.data.ssid||"",So.comm.src=="SoftMgr_search"&&(s="soft"),!So.lib.checkAbv(2339,"4")&&o.length>9&&(o.length=9);var u=['<div class="inline-recommend" data-url="'+e.url+'" data-ssid="'+r.pssid+'"><div class="inline-recommend-inner"><div class="inline-recommend-title"><span class="recommend-icon"></span>\u4e3a\u60a8\u63a8\u8350<span class="so_feedback"><a href="javascript:;" target="_blank" class="so_feedback_link" data-class="inline-recommend-item"> \u00b7 <span class="so_feedback_txt">\u53cd\u9988</span></a></span></div> <div class="inline-recommend-item">'];function a(e){var t=[],n=f(e),r=n.col;for(var i=0;i<r;i++){var s=[];for(var o=0;o<n.row;o++){var u=e[o*r+i];u&&s.push(u)}t.push(s);if(i>=n.count-1)break}return t}function f(e){var t=e.length,n=3,r=Math.ceil(t/n);return{count:t,col:n,row:r}}var l=f(e),c=a(o),h=So.comm.fr=="360weishi"?"_self":"_blank";for(var p=0;p<c.length;p++){var d="";p===c.length-1&&(d=" end-item"),u.push('<div class="item'+d+'">');for(var v=0;v<c[p].length;v++){var m=v*l.col+p;u.push('<span><a href="/s?ie=utf-8&q='+encodeURIComponent(c[p][v])+"&src="+n+"&sp="+So.comm.sp+"&psid="+So.comm.sid+"&pssid="+r.pssid+"&nlpv="+s),So.comm.monitor.ls&&u.push("&ls="+encodeURIComponent(So.comm.monitor.ls)),So.comm.lmsid&&u.push("&lmsid="+encodeURIComponent(So.comm.lmsid)),So.comm.monitor.lm_extend&&u.push("&lm_extend="+encodeURIComponent(So.comm.monitor.lm_extend)),u.push('" target="'+h+'" data-pos="'+(m+1)+'">'+So.lib.escapeHTML(c[p][v])+"</a></span>")}u.push("</div>")}u.push("</div></div></div>"),u=u.join(""),So.lib.observer.publish("so.recommend.tpl",{tpl:u,version:s,machine:i.data.machine,algorithm:i.data.algorithm,src:n,ssid:i.data.ssid},t)}else So.lib.observer.publish("so.recommend.tpl",{type:"nodata"})},error:complete:)})(n,this.resultType)},getPos:function(e){var t;return e=e?e:this.$inlineRecommend,$resInfo=e.closest(".res-list").find("a[data-res]").data("res"),$resInfo?t=$resInfo.pos:t=$("ul.result li.res-list").index(e.closest(".res-list"))+1,t},getUrlParam:function(e,t){var n=new RegExp(e+"=([^&]*)","gi");try{return n.exec(t)[1]}catch(r){return""}},sendLog:function(e,t){if(So.lib.checkAbv(2339,"3")||So.lib.checkAbv(2339,"4")){var n=this;t.p1&&So.lib.log(e,{p1:t.p1,type:"p1"+t.type}),So.lib.log(e,$.extend({psid:So.comm.sid,pssid:this.pssid},t,{p1:"",title:n.getUrlParam("title",t.p1),title_red:n.getUrlParam("title_red",t.p1),ip:n.getUrlParam("ip",t.p1),corr:n.getUrlParam("corr",t.p1),huid:n.getUrlParam("huid",t.p1)}))}else So.lib.log(e,$.extend({psid:So.comm.sid,pssid
:this.pssid},t))},showRecomm:function(){var e=this;So.lib.checkAbv(2339,"3")&&(e.$inlineRecommend.attr("data-rest")||$.each(e.$inlineRecommend.find(".item"),function(t,n){e.$inlineRecommend.attr("data-rest",1),!So.lib.isVisible($(n),!1,e.$inlineRecommend)&&e.$inlineRecommend.find(".inline-recommend-item a").length>6&&t==2&&(e.$inlineRecommend.addClass("less"),$.each(e.$inlineRecommend.find(".item"),,setTimeout(function(){e.$inlineRecommend.find(".item:eq(0)").find("span:eq(1)").insertAfter(e.$inlineRecommend.find(".item:eq(1)").find("span:eq(0)"))},0),setTimeout(function(){e.$inlineRecommend.find(".item:eq(1)").find("span:last").insertAfter(e.$inlineRecommend.find(".item:eq(0)").find("span:eq(0)"))},0),setTimeout(function(){e.$inlineRecommend.find(".item:eq(2)").find("span:eq(0)").insertAfter(e.$inlineRecommend.find(".item:eq(0)").find("span:eq(0)"))},0),setTimeout(function(){e.$inlineRecommend.find(".item:eq(2)").find("span:eq(0)").insertAfter(e.$inlineRecommend.find(".item:eq(1)").find("span:eq(1)"))},0))}));var t=0;setTimeout(function(){$.each(e.$inlineRecommend.find(".inline-recommend-item a"),function(n,r){So.lib.isVisible($(r),!0,e.$inlineRecommend.find(".inline-recommend-item"))&&So.lib.isVisible1(r)&&t++});var n=0,r=3;$.each(e.$inlineRecommend.find(".inline-recommend-item .item"),function(e,t){var i=$(t).position().top;e===0&&(n=i),i!==n&&r--}),e.sendLog(e.logMod,$.extend(e.srpLogParas,{nlpv:e.version,pos:e.getPos(),len:r*3+"_"+t})),e.srpLogParas=null},0)},bindEvents:function(){var e=["obo_dai361gsjsq","relation_video_rank","relation_game","relation_tv_rank","relation_cartoon_rank","relation_variety_rank","famous_pic","360pic","short_video_middle"],t=this;$("#warper").on("click",".res-list:not([no-inline-recommend]) a",function(){var n=$(this);$container=n.closest(".res-list [data-mohe-type]");if($container.length){t.resultType="ob";if($.inArray($container.attr("data-mohe-type"),e)>-1)return;$container=$container.parents(".res-list")}else t.resultType="og",$container=n.closest(".res-list");if(n.closest(".res-list").find(".res-recommend").text()||n.closest(".res-linkinfo").length||n.closest(".g-linkinfo").length||!/^http|^https/.test(n.attr("href"))&&!n.closest("[data-allow-recomm]").length||n.is(".mini-app a"))return;var r,i=[],s=$($container.find("a[data-res], .mh-title, .title a")[0]);$.each(s.find("em"),,t.linkurl=n.data("mdurl")||So.lib.getLinkUrl(n.attr("href")),r=n.attr("title")||n.text()||s.text();if(!t.linkurl)return;So.lib.observer.publish("so.recommend.click",{url:t.linkurl,title:r,count:10,title_red:i.join("|")},$container)}),$("#warper").on("click",".inline-recommend .item a",function(){if($(this).closest(".so_feedback_edit").length)return;var e=$(this).parents(".inline-recommend").data("ssid");t.sendLog(t.logMod,$.extend(t.logParas[e],{type:"click",value:$(this).text(),datatype:$(this).attr("data-pos"),nlpv:t.version,pos:t.getPos($(this)),pssid:e,p1:""}))}),$(document).on("visibilitychange.recommend",function(){!document.hidden&&t.srpLogParas&&t.$inlineRecommend&&So.lib.isVisible1(t.$inlineRecommend[0])&&!t.$inlineRecommend.closest(".res-list").find("[data-appid]").length&&t.showRecomm()});var n=So.lib.browser.isIE()&&So.lib.browser.isIE()<=9;$(window).on("focus.recommend",function(){!document.hidden&&t.srpLogParas&&t.$inlineRecommend&&So.lib.isVisible1(t.$inlineRecommend[0])&&(n||t.$inlineRecommend.closest(".res-list").find("[data-appid]").length)&&t.showRecomm()}),$(window).on("scroll.recommend",function(){t.srpLogParas&&t.$inlineRecommend&&So.lib.isVisible1(t.$inlineRecommend[0])&&t.showRecomm()})},getPageMd5:function(){var e=$(".result .res-list .res-title a"),t=[];return $.each(e,function(e,n){if(e<=4){var r=$(n);t.push(So.lib.md5(r.data("mdurl")||r.data("initurl")||So.lib.getLinkUrl(r.attr("href")))+":"+monitor.util.getReallyPos(r))}}),t.join("|")}};e.init()}(),function(){function t(e){if(So.lib.browser.isIE()&&So.lib.browser.isIE()<=9){window.open("http://info.so.com/feedback.html");return}var t=this;e.preventDefault(),e.stopPropagation(),$.each($(".so_feedback_link"),function(e,r){t!=r&&$(r).hasClass("so_feedback_cancel")&&n($(r))}),n($(t))}function n(t){var n=t.data("class");if(t.hasClass("so_feedback_cancel"))n==="ac_menu"&&($(".ac_menu_ctn .so_feedback_edit li span").off("click.so_feedback_edit"),$(".ac_menu_ctn .so_feedback_edit li").not(".local").off("click.so_feedback_edit")),t.removeClass("so_feedback_cancel"),$("."+n).removeClass("so_feedback_edit"),t.find(".so_feedback_txt").text("\u53cd\u9988");else{t.addClass("so_feedback_cancel");var i=t.closest(".inline-recommend-inner");i.length?i.find(".inline-recommend-item").addClass("so_feedback_edit"):n==="so-pdr-bd"?t.closest(".so-pdr").find(".so-pdr-bd").addClass("so_feedback_edit"):$("."+n).addClass("so_feedback_edit"),t.find(".so_feedback_txt").text("\u53d6\u6d88"),n&&(e.module_token=n),n==="ac_menu"&&($(".ac_menu_ctn .so_feedback_edit li span").on("click.so_feedback_edit",function(t){e.$keyword.blur(),r.call(this,t)}),$(".ac_menu_ctn .so_feedback_edit li").not(".local").on("click.so_feedback_edit",function(e){e.stopPropagation(),e.preventDefault()}))}}function r(t){t.stopPropagation(),t.preventDefault();var n={words:$(this).text()},r=$(this).closest(".ac_menu");r.length&&$.extend(n,{sug_ssid:r.attr("ssid"),sug_prefix:e.$keyword.val()});var i=$(this).closest(".inline-recommend");i.length&&$.extend(n,{url:encodeURIComponent(i.data("url"))}),So.lib.observer.publish(e.EVENTNAME,n,e.feedbackItems)}function i(n){var r=$(".ac_wrap .so_feedback_link");e.$keyword.val()&&$(".ac_menu li").not(".local").length?r.show():r.hide(),r.hasClass("so_feedback_cancel")&&t.call(this,n)}var e={EVENTNAME:"so.feedback.edit",CLOSEEVENTNAME:"so.feedback.edit.close",MOREEVENTNAME:"so.feedback.edit.more",$feedbackDialog:['<div class="so-feedback-mask">','<div class="so-feedback-dialog">','<a href="javascript:;" class="so-feedback-close"></a>',"<h3>\u53cd\u9988\u7406\u7531</h3>",'<p class="so-feedback-query">\u53cd\u9988:<em><%=query%></em></p>','<div class="so-feedback-list">',"<% for(var i = 0; i < items.length; i++) { %>",'<div class="so-feedback-item"><input type="radio" value="<%=items[i]%>" id="item<%=i%>" name="so-feedback-reason"><label for="item<%=i%>"><span class="so-feedback-radio"></span><%=items[i]%></label></div>',"<% } %>",'<div class="so-feedback-item"><input type="radio" value="\u5176\u4ed6\u7406\u7531" id="item" name="so-feedback-reason"><label for="item"><span class="so-feedback-radio"></span><input type="text" class="so-feedback-txt" placeholder="\u8f93\u5165\u5176\u4ed6\u7406\u7531" /></label></div>',"</div>",'<a href="javascript:;" class="so-feedback-btn so-feedback-cancel">\u53d6\u6d88</a><a href="javascript:;" class="so-feedback-btn so-feedback-btn-confirm so-feedback-confirm">\u63d0\u4ea4</a>',"</div>","</div>"].join(""),$feedbackConfirmDialog:$(['<div class="so-feedback-mask">','<div class="so-feedback-dialog">','<a href="javascript:;" class="so-feedback-close"></a>','<div class="so-feedback-list so-feedback-tips">','<div class="so-feedback-item">\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01</div>','<div class="so-feedback-item">\u60a8\u7684\u56de\u590d\u5c06\u5e2e\u52a9\u6211\u4eec\u6539\u5584\u641c\u7d22\u4f7f\u7528\u4f53\u9a8c\u3002</div>',"</div>",'<a href="javascript:;" class="so-feedback-btn so-feedback-more">\u7ee7\u7eed\u53cd\u9988</a><a href="javascript:;" class="so-feedback-btn so-feedback-btn-confirm so-feedback-cancel">\u5b8c\u6210</a>',"</div>","</div>"].join("")),submitData:{},module_token:"",feedbackItems:["\u7ed3\u679c\u4e0d\u76f8\u5173","\u5185\u5bb9\u6709\u9519\u8bef","\u7ed3\u679c\u91cd\u590d","\u4e3e\u62a5"],$keyword:So.comm.pid=="home"?$("#input"):$("#keyword"),$sofeedbackMask:null,ajaxLoading:!1};So.lib.observer.subscribe(e.EVENTNAME,function(t,n){e.submitData={},e.submitData.module_token=e.module_token,t&&$.extend(e.submitData,t),e.$sofeedbackMask&&e.$sofeedbackMask.remove(),$(document.body).append(So.lib.template(e.$feedbackDialog,{items:n,query:So.lib.escapeHTML(e.submitData.words)})),e.$sofeedbackMask=$(".so-feedback-mask")}),$(document.body).on("click",".so_feedback_link",function(n){e.$sofeedbackMask&&e.$sofeedbackMask.remove(),t.call(this,n)}),$(document.body).on("mousedown",".so_feedback_edit a",,$(document.body).on("click",".so_feedback_edit a, .ac_menu_ctn .so_feedback_edit li",,$(document.body).on("click",".so-feedback-confirm",function(){e.submitData.feedback_reason=$("input[name=so-feedback-reason]:checked").val(),e.submitData.feedback_reason==="\u5176\u4ed6\u7406\u7531"&&(e.submitData.feedback_reason+=":"+$(".so-feedback-txt").val());if(!e.submitData.feedback_reason)return;$.extend(e.submitData,{query:So.comm.q,user_id:So.comm.guid,timeStamp:+(new Date),sid:So.comm.sid,huid:So.lib.cookie.get("__huid")||"",mid:So.lib.getUnMid(So.comm.md)});if(e.ajaxLoading)return;e.ajaxLoading=!0;var t=So.comm.ssurl?"https://p.ssl.so.com/waiter/api/feedbackWords":"http://waiter.www.so.com/api/feedbackWords";$.ajax({url:t,type:"post",dataType:"json",timeout:3e3,data:e.submitData}),e.$sofeedbackMask.remove(),$(document.body).append(e.$feedbackConfirmDialog),e.$sofeedbackMask=$(".so-feedback-mask"),e.ajaxLoading=!1}),$(document.body).on("click",".so-feedback-more, .so-feedback-cancel, .so-feedback-close",,$(document.body).on("click",".so-feedback-more",,$(document.body).on("click",".so-feedback-cancel, .so-feedback-close",function(){$.each($(".so_feedback_link"),function(e,t){$(t).hasClass("so_feedback_cancel")&&n($(t))}),So.lib.observer.publish(e.CLOSEEVENTNAME)}),$(document.body).on("focus",".so-feedback-txt",,e.$keyword.on("blur focus input",}(),function(){var e=/msie (\d+)/i.test(navigator.userAgent)&&!window.opera?parseInt(RegExp.$1):0;if(e>0&&e<9||$("#header .s_site").length>0)return;So.page.reload.push(;var t=$("#header"),n=t.find(".inner"),r=n.height(),i=0,s=0,o,u,a,f,l,c,h,p,d,v,m,g;$(window).on("scroll",function(){i=$(window).scrollTop(),i<=$("#tabs-wrap").height()?t.removeClass("shadow"):t.addClass("shadow"),$box=$("#mohe-banner_hotnew, #mohe-wanhui2022"),$box.length&&(i>$box.offset().top+$box.height()?$("body").removeClass("box-header"):$("body").addClass("box-header")),u=$("#so-pdr-guide"),a=$("#rs-top"),v=$("#so-top-tag");if(u.length==0&&a.length==0&&v.length===0)return;d=$("#footer").length>0?$("#footer").offset().top-90:0,f=$("#main").offset().top-r;if(d<$(window).height())return;$(".ac_wrap").hide(),$("#suggest-align").removeClass("sug-border"),h=i+$(window).height()>d;if(s>i&&i>f||h){u.length>0&&$("#head_pdr_guide").length==0&&(u.clone().attr("id","head_pdr_guide").css("height",0).appendTo($("#head")),o=$("#head_pdr_guide"),$soTop=$("#so_top"),o.find(".so-pdr-bd").css("top",0),$.each(o.find(".so-pdr-bd a"),function(e,t){$(this).attr("href",$(this).attr("href").replace("pdr_guide","pdr_guide_head"))}),o.animate({height:30}),u.find(".so-pdr-bd").addClass("become-two-line")),a.length>0&&$("#head_rs_top").length==0&&(a.clone().attr("id","head_rs_top").css("height",0).appendTo($("#head")),l=$("#head_rs_top"),l.find("dd").css("top",0),l.animate({height:30})),p!=So.comm.q&&u.length>0&&(p=So.comm.q,So.lib.log("pdr",{type:"show",datatype:"head",q:So.comm.q,value:So.web.pdrLog()}));if(v.length>0&&$("#head_tag_guide").length==0){var e=v.find("#topRelatedScroll").scrollLeft();v.clone().attr("id","head_tag_guide").css("height",0).appendTo($("#head")),g=$("#head_tag_guide"),$.each(g.find("a"),function(e,t){$(this).attr("href",$(this).attr("href").replace("tag_guide","tag_guide_head"))}),So.lib.checkAbv(3882,"tagsearch1")||So.lib.checkAbv(3882,"tagsearch2")||So.lib.checkAbv(3882,"tagsearch3")?g.css({height:32}):g.animate({height:32}),So.web.tagInit&&So.web.tagInit($("#head_tag_guide")),g.find("#topRelatedScroll").scrollLeft(e),m!=So.comm.q&&(m=So.comm.q,So.lib.log("ptag",{type:"show",datatype:"head",q:So.comm.q}))}}else if(i<=f||i==0)$("#head_pdr_guide").remove(),$("#head_tag_guide").remove(),$("#head_rs_top").remove();else if(s<=i&&!h&&i>f){u.length>0&&$("#head_pdr_guide").length>0&&$("#head_pdr_guide").remove(),a.length>0&&$("#head_rs_top").length>0&&($("#head_rs_top").animate({height:0}),$("#head_rs_top").remove());if((So.lib.checkAbv(3882,"tagsearch1")||So.lib.checkAbv(3882,"tagsearch2")||So.lib.checkAbv(3882,"tagsearch3"))&&v.length>0&&$("#head_tag_guide").length==0){var e=v.find("#topRelatedScroll").scrollLeft();v.clone().attr("id","head_tag_guide").appendTo($("#head")),g=$("#head_tag_guide"),$.each(g.find("a"),function(e,t){$(this).attr("href",$(this).attr("href").replace("tag_guide","tag_guide_head"))}),So.web.tagInit&&So.web.tagInit($("#head_tag_guide")),g.find("#topRelatedScroll").scrollLeft(e),m!=So.comm.q&&(m=So.comm.q,So.lib.log("ptag",{type:"show",datatype:"head",q:So.comm.q}))}}clearTimeout(c),c=setTimeout(10)})}();