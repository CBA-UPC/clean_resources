(()=>{var t={757:487:t=>{t.exports={LIBRARY_SCOPE:"affiliates_library",LIBRARY_MODULES_NAMES:{RENDERER_DESKTOP:"renderer-desktop",RENDERER_MOBILE:"renderer-mobile"},LIBRARY_MODULE_NAME_PATH_PREFIX:"./",LIBRARY_REMOTE_ENTRY_END_POINT:"https://toiassets.indiatimes.com/affiliates/library/remoteEntry.js",WIDGET_FEED_END_POINT:"https://timesofindia.indiatimes.com/affiliates_library_widgets_feed.cms?feedtype=json",WIDGET_FEED_END_POINT_V2:"https://jarvis.indiatimes.com/v1/feeds"}},805:t=>{"use strict";t.exports=n,t.exports.isMobile=n,t.exports.default=n;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/android|ipad|playbook|silk/i;,666:,e={};.n=r.d=r.o=r.r=(();var n={};(()=>{"use strict";r(n),r.d(n,{loadWidget:);var o=r(757),i=r.n(o),a=r(487);const c=r f={},l=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t&&e?"".concat(r.includes("?")?"&":"?").concat(t,"=").concat(e):""};unction p(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!r.length)return t;var o=r.shift();return h(t)&&h(o)&&Object.keys(o).forEach((),p.apply(void 0,[t].concat(r))}var d=const y=function(t){return n=a.LIBRARY_SCOPE,o="".concat(a.LIBRARY_MODULE_NAME_PATH_PREFIX).concat(t),new Promise(function(){var t=e(i().mark((function t(e,a){var c,u,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c="".concat(n,"_").concat(o),!(u=f[c])){t.next=6;break}e(u),t.next=23;break;case 6:return t.prev=6,t.next=9,r.I("default");case 9:return s=window[n],t.next=12,s.init(r.S.default);case 12:return t.next=14,window[n].get(o);case 14:l=t.sent,u=l(),f[c]=u,e(u),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),a(t.t0);case 23:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e,r){return t.apply(this,arguments)}}());var n,o};var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filters,r=void 0===e?{}:e,n=t.type,o=t.id,i=a.WIDGET_FEED_END_POINT;n&&(i+=l("type",n,i)),o&&(i+=l("id",o,i));var c=Object.keys(r);return c.forEach((function(t){void 0!==r[t]&&("pcheck"===t&&("yes"!==r[t]&&!0!==r[t]||(i+=l(t,"yes",i))),i+="country"===t?l(t,r[t].toString().toLowerCase(),i):l(t.toString().toLowerCase(),r[t],i))})),i},m=r(805),g=r.n(m),b="AFFILIATES SDK :: ";const w=E=function(t,e){var r=e.type,n=e.id,o=e.filters,i=void 0===o?{}:o,a=i.website,c=i.platform,u=!0;return t&&(r&&(n||a&&c)||e.widgetFeed)||(u=!1),u};var _,x=new Promise(function(){var t=e(i().mark((function t(e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.__affiliates_libarary_promise||(window.__affiliates_libarary_promise=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return!!t&&new Promise((function(n,o){if(r||!document.getElementById(t)){var i=document.createElement("script");i.src=t,i.id=t,e.defer&&(i.defer=!0),e.async&&(i.async=!0),i.addEventListener("load",(),i.addEventListener("error",(),document.head.appendChild(i)}else n("Script already added to page. Use forced parameter to load/execute the script ")}))}(a.LIBRARY_REMOTE_ENTRY_END_POINT)),window.__affiliates_libarary_promise;case 3:return t.next=5,y(g()()?a.LIBRARY_MODULES_NAMES.RENDERER_MOBILE:a.LIBRARY_MODULES_NAMES.RENDERER_DESKTOP).then((function(t){_=t.default}));case 5:e(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r(),w("error in loading core modules:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),L=function(t,r){return new Promise(function(){var n=e(i().mark((function e(n,o){var a,u,s,f,l,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.props,u=void 0===a?{}:a,E(t,r)){e.next=4;break}return o(),e.abrupt("return");case 4:if(s=[],f=r.widgetFeed,e.prev=6,f){e.next=10;break}return e.next=10,c(v(r)).then(();case 10:if(f.type){e.next=13;break}return o(),e.abrupt("return");case 13:return e.next=15,x;case 15:return s.push(y(f.type).then(()),(h=r.dataURL||f.dataURL)&&s.push(c(h).then((function(t){var e=t;f.data=f.data||{};var n=r.dataPath||f.dataPath;r.dataPath&&(e=d(e,n)),r.dataAliasKey?f.data[r.dataAliasKey]=e:f.data=e,p(f.data,t)}))),e.next=20,Promise.all(s);case 20:(f.error||f.data&&f.data.error)&&o(),p(m={},f,u),_({element:t,Component:l,props:m,className:r.className,colorTheme:r.colorTheme,bgTheme:r.bgTheme,isAMPIframe:r.isAMPIframe}),n(m),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(6),o(),w("Error in fetching feed Url or in loading library component---\x3e".concat(e.t0));case 31:case"end":return e.stop()}}),e,null,[[6,27]])})));return ())}})(),window.til_affiliates_sdk=n})();
//# sourceMappingURL=v1.js.map