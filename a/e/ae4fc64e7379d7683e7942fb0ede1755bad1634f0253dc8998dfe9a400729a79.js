const e={index:0,menuType:"primary"};let t,n,a="",s=e;const r=async e=>{const t=`//www.att.com/scmscontent/cms-services-feedgenerate-nodems/v1/shared/global-nav/${e}/menu.prod.json`;return await fetch(t).then(e=>e.json()).then(e=>{const t=e["cms-feed"].components&&e["cms-feed"].components.default&&e["cms-feed"].components.default.menu&&e["cms-feed"].components.default.menu.content;return t&&Object.keys(t).length?(console.info("attwc-globalnav: fetchSanityFeed: data is updated!"),t):(console.warn("attwc-globalnav: fetchSanityFeed: response length is: ",t),t)}).catch(e=>(console.warn("attwc-globalnav: fetchSanityFeed: error fetching data: "+e),{}))},c=async e=>{const s=`/msapi/idp-content-orchestration/v1/scms/shared/global-nav/${e}/menu`;if(e===n){if(t)return t;if(t&&a)return Promise.resolve(t)}return n=e,t=await fetch(s).then(async e=>200==e.status?e:(a=await r(n),Promise.resolve(a))).then(.then(async e=>{if(a=e["cms-feed"].components&&e["cms-feed"].components.default&&e["cms-feed"].components.default.menu&&e["cms-feed"].components.default.menu.content,void 0!==e&&a&&Object.keys(a).length)return a;console.warn("attwc-globalnav: doFetchMenu: response length is: ",a),await r(n).then(e=>(a=e,Promise.resolve(a)))}).catch(e=>(console.warn("attwc-globalnav: dofetchMenu: error fetching data: "+e),{}))},o=()=>(s={index:-1,menuType:"primary"},Object.assign({},s)),i=()=>(s={index:0,menuType:"primary"},Object.assign({},s)),d=e=>(s.index=e,Object.assign({},s)),l=()=>{const e=a&&a.unauth&&a.unauth.Links&&a.unauth.Links.length;return-1===s.index?e&&(s={index:0,menuType:"primary"}):e&&e>s.index+1?s.index+=1:s.index=0,Object.assign({},s)},m=()=>{const e=a&&a.unauth&&a.unauth.Links&&a.unauth.Links.length;return 0===s.index?e&&(s={index:e-1,menuType:"primary"}):s.index-=1,Object.assign({},s)};export{c as d,i as f,e as i,a as m,l as n,m as p,o as r,d as s};