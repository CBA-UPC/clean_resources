var RichMain=function(){var a;window.document;a=void 0===window.log?window.log;var S,w,k,E,L,T,I,D,r=(S="Compound",w="MemberExpression",k="Literal",L={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},T=e(E={"-":!0,"!":!0,"~":!0,"+":!0}),I=e(L),D={true:!0,false:!1,null:null},t.version="<%= version %>",t.toString=t.addUnaryOp=function(t){return T=Math.max(t.length,T),E[t]=!0,this},t.addBinaryOp=function(t,e){return I=Math.max(t.length,I),L[t]=e,this},t.addLiteral=t.removeUnaryOp=function(t){return delete E[t],t.length===T&&(T=e(E)),this},t.removeAllUnaryOps=function(){return E={},T=0,this},t.removeBinaryOp=function(t){return delete L[t],t.length===I&&(I=e(L)),this},t.removeAllBinaryOps=function(){return L={},I=0,this},t.removeLiteral=t.removeAllLiterals=t);unction e(t){var e,i=0;for(var s in t)(e=s.length)>i&&t.hasOwnProperty(s)&&(i=e);return i}unction P(t,e,i){return{type:"||"===t||"&&"===t?"LogicalExpression":"BinaryExpression",operator:t,left:e,right:i}}unction A(t){return 36===t||35===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122||128<=t&&!L[String.fromCharCode(t)]}function R(t){return 36===t||95===t||65<=t&&t<=90||97<=t&&t<=122||48<=t&&t<=57||128<=t&&!L[String.fromCharCode(t)]}function t(s){function n(t){return a.call(s,t)}unction h(){for(var t=o(u);32===t||9===t||10===t||13===t;)t=o(++u)}function l(){h();for(var t=s.substr(u,I),e=t.length;0<e;){if(L.hasOwnProperty(t)&&(!A(o(u))||u+t.length<s.length&&!R(o(u+t.length))))return u+=e,t;t=t.substr(0,--e)}return!1}function i(){var t,e=o(u),i=u;for(A(e)?u+=1:H("Unexpected "+n(u),u);u<d&&(e=o(u),R(e));)u+=1;return t=s.slice(i,u),D.hasOwnProperty(t)?{type:k,value:D[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}}function r(t){for(var e,i,s=[],n=!1,r=0;u<d;){if(h(),(e=o(u))===t){n=!0,u+=1,41===t&&r&&r>=s.length&&H("Unexpected token "+String.fromCharCode(t),u);break}if(44===e){if(u+=1,++r!==s.length)if(41===t)H("Unexpected token ,",u);else if(93===t)for(var a=s.length;a<r;a+=1)s.push(null)}else(i=p())&&i.type!==S||H("Expected comma",u),s.push(i)}return n||H("Expected "+String.fromCharCode(t),u),s}for(var t,e,u=0,a=s.charAt,c=s.charCodeAt,d=s.length,p=function(){var t,e,i=g();if(h(),63===o(u)){if(u+=1,(t=p())||H("Expected expression",u),h(),58===o(u))return u+=1,(e=p())||H("Expected expression",u),{type:"ConditionalExpression",test:i,consequent:t,alternate:e};H("Expected :",u)}return i},g=function(){var t,e,i,s,n,r,a,o,h;if(r=f(),!(e=l()))return r;for(n={value:e,prec:M(e)},(a=f())||H("Expected expression after "+e,u),s=[r,n,a];(e=l())&&0!==(i=M(e));){for(n={value:e,prec:i},h=e;2<s.length&&i<=s[s.length-2].prec;)a=s.pop(),e=s.pop().value,r=s.pop(),t=P(e,r,a),s.push(t);(t=f())||H("Expected expression after "+h,u),s.push(n,t)}for(t=s[o=s.length-1];1<o;)t=P(s[o-1].value,s[o-2],t),o-=2;return t},f=function(){var t,e,i;if(h(),t=o(u),V(t)||46===t)return v();if(39===t||34===t)return m();if(91===t)return x();for(i=(e=s.substr(u,T)).length;0<i;){if(E.hasOwnProperty(e)&&(!A(o(u))||u+e.length<s.length&&!R(o(u+e.length))))return u+=i,{type:"UnaryExpression",operator:e,argument:f(),prefix:!0};e=e.substr(0,--i)}return!(!A(t)&&40!==t)&&y()},v=function(){for(var t,e,i="";V(o(u));)i+=n(u+=1);if(46===o(u))for(i+=n(u+=1);V(o(u));)i+=n(u+=1);if("e"===(t=n(u))||"E"===t){for(i+=n(u++),"+"!==(t=n(u))&&"-"!==t||(i+=n(u+=1));V(o(u));)i+=n(u+=1);V(o(u-1))||H("Expected exponent ("+i+n(u)+")",u)}return e=o(u),A(e)?H("Variable names cannot start with a number ("+i+n(u)+")",u):46===e&&H("Unexpected period",u),{type:k,value:parseFloat(i),raw:i}},m=function(){for(var t,e="",i=n(u+=1),s=!1;u<d;){if((t=n(u+=1))===i){s=!0;break}if("\\"===t)switch(t=n(u+=1)){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=t}else e+=t}return s||H('Unclosed quote after "'+e+'"',u),{type:k,value:e,raw:i+e+i}},y=function(){var t,e;for(e=40===(t=o(u))?b():i(),h(),t=o(u);46===t||91===t||40===t;)u++,46===t?(h(),e={type:w,computed:!1,object:e,property:i()}):91===t?(e={type:w,computed:!0,object:e,property:p()},h(),93!==(t=o(u))&&H("Unclosed [",u),u++):40===t&&(e={type:"CallExpression",arguments:r(41),callee:e}),h(),t=o(u);return e},b=function(){u+=1;var t=p();if(h(),41===o(u))return u+=1,t;H("Unclosed (",u)},x=function(){return u++,{type:"ArrayExpression",elements:r(93)}},C=[];u<d;)59===(t=o(u))||44===t?u+=1:(e=p())?C.push(e):u<d&&H('Unexpected "'+n(u)+'"',u);return 1===C.length?C[0]:{type:S,body:C}}function i(t,e){var i=return i.scope=t,i.method=e,i}function s(s,n){function e(t){var e=1,i=function(){var t=Math.sin(e);t<=0?(0<n.diffx?n.nextClick():n.previousClick(),n.diffx=0,n.diffy=0,window.cancelAnimationFrame(i)):(0<n.diffx&&!n.nextDisabled||n.diffx<0&&!n.prevDisabled)&&(s.scrollLeft+=n.diffx*t,e-=.04,r(),window.requestAnimationFrame(i))};i(),t.preventDefault(),t.stopPropagation()}function r(){s.scrollLeft+s.clientWidth>=s.scrollWidth?(n.next.classList.add("disabled"),n.nextDisabled=!0,n.nextClick()):n.nextDisabled&&(n.next.classList.remove("disabled"),n.nextDisabled=!1),0<=s.scrollLeft&&n.prevDisabled&&(n.prevDisabled=!1,n.prev.classList.remove("disabled")),s.scrollLeft<=0&&(n.prevDisabled=!0,n.prev.classList.add("disabled"),n.previousClick())}n.mouseDownHandler=i(n,function(t){n.diffx=0,n.diffy=0,t.preventDefault(),t.stopPropagation()}),n.mouseUpPrevHandler=i(n,function(t){n.diffx=-14,e(t)}),n.mouseUpNextHandler=i(n,,n.prev=s.parentElement.querySelector("#prev"),n.next=s.parentElement.querySelector("#next"),n.refresh=r(),n.prev.addEventListener("mousedown",n.mouseDownHandler),n.prev.addEventListener("mouseup",n.mouseUpPrevHandler),n.next.addEventListener("mousedown",n.mouseDownHandler),n.next.addEventListener("mouseup",n.mouseUpNextHandler)}nction o(t,e){var i;c.isObject(t)?(c.copy(t,this),this.isEnabled=!0,this.valid=!0):(this.ctrls=[],t.forEach(function(t){(i=o.createControlInstance(t)).main=e,this.ctrls.push(i)},this));this.isVisible=!0}function h(t){h.super.call(this,t)}function d(t){this.active=!1,d.super.call(this,t)}function p(t){this.selectedIndex=-1,this.selectedText="",p.super.call(this,t),this.values=void 0!==this.values&&this.values instanceof Array?this.values:[],this.defaultSelected=this.selectedIndex}function l(t){l.super.call(this,t)}unction f(t){this.selectedIndex=-1,f.super.call(this,t),this.header||-1!=this.selectedIndex||(this.selectedIndex=0),this.defaultSelected=this.selectedIndex}function v(t){this.checked=[],v.super.call(this,t),this.defaultChecked=this.checked}function m(t){this.selectedIndex=0,m.super.call(this,t),this.defaultSelected=this.selectedIndex}function u(t){u.super.call(this,t)}function y(t){y.super.call(this,t)}function b(t){b.super.call(this,t)}function x(t){this.selectedDate=(new Date).toDateString(),this.rangeStartDate=null,this.rangeEndDate=null,x.super.call(this,t),this.defaultDate=this.selectedDate,this.defaultStart=this.rangeStartDate,this.defaultEnd=this.rangeEndDate}function C(t,e,i,s,n,r,a,o,h){if(this.target=t,this.cb=e,this.version="v1.0-alpha",this.months={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},this.today=new Date,this.currentMonth=this.today.getMonth(),this.currentYear=this.today.getFullYear(),this.selectYear=this.currentYear,this.selectMonth=this.currentMonth,this.selectedDate=i&&new Date(i)||this.today,this.startDate=s&&new Date(s),this.endDate=n&&new Date(n),this.hasEndReached=!(!n||this.currentMonth!=this.endDate.getMonth()||this.currentYear!=this.endDate.getFullYear()),this.hasBeginReached=!(!s||this.currentMonth!=this.startDate.getMonth()||this.currentYear!=this.startDate.getFullYear()),this.events=[],this.apiUrl=null,this.eventsJSON=[],this.weekend=r,this.isRangeSelector=a,this.isRangeSelector&&(this.selectedDate=null,this.rangeStartDate=o&&new Date(o),this.rangeEndDate=h&&new Date(h),this.ranges=[this.rangeStartDate,this.rangeEndDate]),this.inputs=t.parentElement.querySelectorAll("input[type='text'"),0<this.inputs.length)if(this.selectedDate)x.updateInput(this.inputs[0],this.selectedDate);else for(var l=0;l<this.inputs.length;l++)this.ranges[l]&&x.updateInput(this.inputs[l],this.ranges[l])}function B(t){this.selectedIndex=-1,B.super.call(this,t),this.defaultSelected=this.selectedIndex}function j(t){this.selectable=!0,j.super.call(this,t)}function q(t){q.super.call(this,t)}function N(t){N.super.call(this,t)}function F(t){F.super.call(this,t)}function O(t){this.selectedRating=-1,O.super.call(this,t),this.defaultSelected=this.selectedRating}function U(t){U.super.call(this,t)}function z(t){z.super.call(this,t)}function Y(t){Y.super.call(this,t)}unction G(t){G.super.call(this,t)}function Q(t){Q.super.call(this,t)}function _(t){_.super.call(this,t)}unction J(t){J.super.call(this,t)}function Z(t){Z.super.call(this,t)}function $(t){$.super.call(this,t)}function X(t){this.selectedTick=0,X.super.call(this,t),this.defaultTick=this.selectedTick}function tt(t){tt.super.call(this,t)}nction st(e,i){this.id=e.id;var s,n=this;this.controls=[],this.context=e.context,Object.keys(e.controls||{}).forEach(function(t){(s=o.createControlInstance(e.controls[t],i))&&(n.controls.push(s),s.main=i)})}function nt(){this.controls={}}.isObject=function(t){return Object(t)===t&&!(t instanceof Array)},c.copy=function(i,s){return Object.getOwnPropertyNames(i).forEach(,s},c.extend=function(t,e){t.superProto=e.prototype,t.prototype=Object.create(t.superProto),(t.prototype.constructor=t).super=e},c.executeParser=function(t,e){switch(t.type){case"BinaryExpression":case"LogicalExpression":return c.valueComparator(t.operator,c.executeParser(t.left,e),c.executeParser(t.right,e));case"Literal":return t.value;case"MemberExpression":return c.valueMapper(t,e);case"CallExpression":return c.functionParser(t,e);case"UnaryExpression":return!c.executeParser(t.argument,e)}return null},c.valueComparator=function(t,e,i){switch(t){case"==":return e===i;case">":return i<e;case">=":return i<=e;case"<":return e<i;case"<=":return e<=i;case"&&":return e&&i;case"||":return e||i}return null},c.functionParser=function(t,e){return"isEmpty"===t.callee.name?!c.executeParser(t.arguments[0],e):null},c.valueMapper=function(t,e){var i=t.object,s="";if(i&&(s=i.type),"MemberExpression"==s){var n=c.valueMapper(i,e);if(n instanceof g||n instanceof F)return n.text;if(n instanceof d)return n.active;if(n instanceof p)return"selectedText"==t.property.name?n.selectedText:"snapShot"==t.property.name?n.getSnapShot():n.selectedIndex;if(n instanceof b)return"selectedImage"==t.property.name?n.selectedImage:n.selectedIndex;if(n instanceof O)return"ratingText"==t.property.name?n.ratingText:n.selectedRating;if(n instanceof W)return n.active;if(n instanceof et)return n[t.property.name];if(n instanceof X)return"selectedTextValue"==t.property.name?n.selectedTickValue:n.selectedTick;if(n instanceof m||n instanceof f||n instanceof j)return"selectedText"==t.property.name?n.selectedText:n.selectedIndex;if(n instanceof v){if("checkedItemsText"==t.property.name)return n.selectedText;if("item"==t.property.name)return n;var r=parseInt(t.property.name,10);return n.checked[r]}if(n instanceof x){if("selectedDate"==t.property.name)return n.selectedDate;if("rangeStart"==t.property.name)return n.rangeStartDate;if("rangeEnd"==t.property.name)return n.rangeEndDate}else{if(n instanceof z)return n.getColumnForMapper(t.property.name);if(n instanceof Y)return n.getRowForMapper(t.property.name);if(n instanceof q)return n.columnSet;if(!(n instanceof Object)||"Column"!=n.type&&"Row"!=n.type)return n instanceof K?0<n.files.length?n.files:null:n;for(var a=0;a<n.items.length;a++)if(t.property.name==n.items[a].id)return n.items[a]}}else if("Identifier"==s){for(var o,h=i.name.slice(1),l=it.getNodefromStore.call(e.sf,h).getControls(),u=0;u<l.length;u++)if(o=l[u].getControl(t.property.name))return o}else if("Identifier"==t.type)return it.getFromStore.call(e.sf,"CS").getContant(t.name);return null},c.parseValueMapperTemplate=function(t,i){return t&&-1!=t.indexOf("{#")?t.replace(/{#(.*?)}/g,function(t,e){return"nodeIndex"==e?it.getNodeIndex.call(i.sf,i.dv.currentVisibleNode.id):c.valueMapper(r("#"+e),i)}):t},c.parseValueFromConstant=function(t,e){return t&&t.startsWith("#")?it.getFromStore.call(e.sf,"CS").getContant(t):null},n.prototype.registerEventHandler=function(t,e){"onClick"===e?this.clickHandlers[t.id]=t:"onInput"===e?this.textHandlers[t.id]=t:"onChange"===e&&(this.selectHandlers[t.id]=t)},n.prototype.clearListeners=n.prototype.onClick=function(t){var e=t.target.id||t.target.getAttribute("data-id");e&&(-1!==e.indexOf("-")&&(e=e.substr(0,e.indexOf("-"))),this.clickHandlers[e]&&this.clickHandlers[e].onClickEvent(t)),t.stopPropagation()},n.prototype.onInput=function(t){var e=t.target.id;e&&this.textHandlers[e]&&this.textHandlers[e].onInputEvent(t),t.stopPropagation()},n.prototype.onChange=function(t){var e=t.target.id;e&&this.selectHandlers[e]&&this.selectHandlers[e].onSelectEvent(t),t.stopPropagation()},n.prototype.onTouch=function(t){t.target.id;t.stopPropagation()},n.prototype.addDispatcherToContainer=o.parseControl=function(t,e){if(c.isObject(t)){var i=new o(t.items,e);return t.items=void 0,c.copy(t,i),i}return null},o.prototype.executeValidation=function(){if(this.ctrls){for(var t=0;t<this.ctrls.length;t++)if(!this.ctrls[t].validateControl())return!1;return!0}return this.validateControl()},o.prototype.getOutputText=function(){return""},o.prototype.validateControl=function(){if(this.validation&&this.isVisible)for(var t=Object.keys(this.validation),e=0;e<t.length;e++)if(!this.validate(t[e],this.validation[t[e]]))return this.markElementInvalid(t[e]),!1;var i=this.getLabel();return i&&this.main.th.addToAnswers({id:this.id,val:encodeURIComponent(this.getOutputText())||"",lbl:encodeURIComponent(i),type:this.getType(),ansID:this.getAnswerID()}),!0},o.prototype.getLabel=o.prototype.getType=function(){return 0},o.prototype.getAnswerID=function(){return""},o.prototype.markElementInvalid=function(t){var e=this.main.dv.container.querySelector("#"+this.id);this.addInvalid(e);var i=this.getErrorTag(e,t);i&&(i.classList.add("message-visible"),i.setAttribute("aria-hidden",!1)),this.valid=!1},o.prototype.getErrorTag=function(t,e){return t.parentNode.querySelector("[data-validation-message="+e+"]")},o.prototype.resetErrors=function(){var t=this.main.dv.container.querySelector("#"+this.id);this.removeInvalid(t);var e=t.parentNode.parentNode.querySelector(".message-visible");e.classList.remove("message-visible"),e.setAttribute("aria-hidden",!0),this.valid=!0},o.prototype.resetData=function(){},o.prototype.toggleInvalid=function(){},o.prototype.addInvalid=function(){},o.prototype.removeInvalid=function(){},o.prototype.validate=function(){return!0},o.prototype.onVisibilityChange=function(){var t=this.isVisible;this.isVisible=this.checkVisibleCondition(),t!==this.isVisible&&function(t,e){if("function"==typeof t.closest)return t.closest(e)||null;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}(this.main.dv.container.querySelector("#"+this.id),".nuan-row").classList.toggle("displayoff")},o.prototype.onEnableDisableChange=function(){var t=this.isEnabled;if(this.isEnabled=this.checkEnableCondition(),t!==this.isEnabled){var e=this.main.dv.container.querySelector("#"+this.id);e&&(e.disabled=!this.isEnabled)}},o.prototype.registerHandlers=function(){this.visible&&this.main.vh.addToHandler(this),this.enabled&&this.main.edh.addToHandler(this)},o.prototype.invokeHandlers=function(){var t=this.event.name;this.main.vh.invokeVisibilityEvent(t),this.main.edh.invokeEvent(t),this.main.th.handleTransition(t,!0)},o.prototype.invokeCancelHandlers=function(){var t=this.event.name;this.main.vh.invokeVisibilityEvent(t),this.main.edh.invokeEvent(t),this.main.th.handleTransition(t,!1)},o.prototype.invokeResetHandlers=o.prototype.checkVisibleCondition=function(){return this.visible&&this.visible.guard&&(this.visible.parsed||(this.visible.parsed=r(this.visible.guard)),this.isVisible=c.executeParser(this.visible.parsed,this.main)),this.isVisible},o.prototype.checkEnableCondition=function(){return this.enabled&&this.enabled.guard&&(this.enabled.parsed||(this.enabled.parsed=r(this.enabled.guard)),this.isEnabled=c.executeParser(this.enabled.parsed,this.main)),this.isEnabled},o.prototype.disable=function(){if(this.ctrls)for(var t=0;t<this.ctrls.length;t++)this.ctrls[t].disable();else{var e=this.main.dv.container.querySelector("#"+this.id);e&&(e.disabled=!0),this.isEnabled=!1}},o.prototype.enable=function(){if(this.ctrls)for(var t=0;t<this.ctrls.length;t++)this.ctrls[t].enable();else if(this.isEnabled){var e=this.main.dv.container.querySelector("#"+this.id);e&&(e.disabled=!1),this.isEnabled=!0}},o.prototype.getHTML=function(t){if(this.ctrls){for(var e,i=[],s=this.ctrls.length,n=0;n<s;n++)(e=this.ctrls[n]).first=0==n,e.last=n==s-1,i.push(e.getHTML(t));return i.join("")}return""},o.prototype.getControl=function(t){if(this.id===t)return this;if(this.ctrls)for(var e=0;e<this.ctrls.length;e++)if(this.ctrls[e].id===t)return this.ctrls[e];return null},o.prototype.addValidationTags=function(){var e=[],i=this.validation;return i&&Object.keys(i).forEach(function(t){e.push('<small role="alert" aria-hidden="true" data-validation-message='),e.push(t),e.push(">"),e.push(i[t].error),e.push("</small>")},this),e.join("")},o.prototype.isPlugin=function(){if(this.ctrls)for(var t=0;t<this.ctrls.length;t++)if(this.ctrls[t].isPlugin())return!0;return!1},o.prototype.renderPlugin=o.createControlInstance=function(t,e){if(!c.isObject(t))return new o(t,e);switch(t.type){case"Button":case"ImageButton":return new h(t);case"ToggleButton":return new d(t);case"QuickReplyButton":return new p(t);case"ColorPicker":return new l(t);case"Input":case"ShortInput":return new g(t);case"Heading":return new u(t);case"Paragraph":return new y(t);case"CheckBox":return new v(t);case"RadioButton":return new m(t);case"Select":return new f(t);case"Image":return new b(t);case"ListGroup":return new B(t);case"ListSelectableGroup":return new j(t);case"Calendar":return new x(t);case"Card":return new q(t);case"CardDeck":return new N(t);case"TextArea":return new F(t);case"Rating":return new O(t);case"InputGroup":return new U(t);case"ColumnSet":return new z(t);case"RowSet":return new Y(t);case"Switch":return new W(t);case"Box":return new G(t);case"TimePicker":return new Q(t);case"LinkPreview":return new _(t);case"FileUpload":return new K(t);case"CoverImage":return new J(t);case"ButtonGroup":return new Z(t);case"VideoViewer":return new $(t);case"Slider":return new X(t);case"GMap":return new tt(t);case"FormattedLinkText":return new et(t);default:return o.parseControl(t,e)}},o.getContStyleProps=function(t){var e=t.context,i=['style="'];return"object"==typeof e&&(e.itemBackground&&(i.push("background:"),i.push(o.setStyleVal(e.itemBackground)),i.push("padding:.5em .5em .5em .5em;")),e.itemBorder&&(i.push(""),i.push("border-color:"),i.push(o.setStyleVal(e.itemBorder)),i.push("border-radius:"),i.push(null!=e.itemBorderRadius?e.itemBorderRadius+"px;":".3rem;"),i.push("border-width:1px;"),i.push("padding:.5em .5em .5em .5em;"),o.getBoxShadow(e,i)),void 0!==e.itemPadding&&i.push("padding:",e.itemPadding,"px;"),t.textAlign=e.textAlign,t.textColor=e.text,t.textSize=e.textSize,t.textStyle=e.textStyle),t.containerSize&&(i.push("width:"),i.push(t.containerSize),i.push("px;")),t.containerSpace&&(i.push("margin-top:"),i.push(t.containerSpace),i.push("px;")),t.containerSeperator&&(i.push("border-color:"),i.push(o.setStyleVal(t.containerSeperator)),t.containerSeperatorSpace&&(i.push("padding-top:"),i.push(t.containerSeperatorSpace),i.push("px;"))),i.push('"'),i.join("")},o.getBoxShadow=function(t,e){if(t.boxShadow){e.push("box-shadow:");var i=[t.boxShadow.h+"px",t.boxShadow.v+"px",t.boxShadow.blur?t.boxShadow.blur+"px":"",t.boxShadow.spread?t.boxShadow.spread+"px":"",t.boxShadow.color];e.push(o.setStyleVal(i.join(" ")))}},o.setStyleVal=function(t){var e=[t];return e.push(";"),e.join("")},o.prototype.getStyle=function(){var t=['style="'];return this.textAlign&&(t.push("text-align:"),t.push(o.setStyleVal(this.textAlign))),this.textColor&&(t.push("color:"),t.push(o.setStyleVal(this.textColor))),this.width&&(t.push("width:"),t.push(o.setStyleVal(this.width+"px"))),this.height&&(t.push("height:"),t.push(o.setStyleVal(this.height+"px"))),(this.background||this.backgroundColor)&&(t.push("background:"),t.push(o.setStyleVal(this.background||this.backgroundColor))),(this.border||this.borderColor)&&(t.push("border-color:"),t.push(o.setStyleVal(this.border||this.borderColor)),this.borderWidth?(t.push("border-width:"),t.push(this.borderWidth+"px;")):t.push("border-width:1px;"),t.push("border-style:solid;"),o.getBoxShadow(this,t)),this.borderRadius&&(t.push("border-radius:"),t.push(this.borderRadius+"px;")),this.cardBottom&&(t.push("background-color:"),t.push(o.setStyleVal(this.cardBottom))),this.headerBackground&&(t.push("background-color:"),t.push(o.setStyleVal(this.headerBackground))),this.textSize&&(t.push("font-size:"),t.push(o.setStyleVal(this.textSize+"px"))),this.textStyle&&("bold"==this.textStyle?t.push("font-weight:"):t.push("font-style:"),t.push(o.setStyleVal(this.textStyle))),t.push('"'),t.join("")},o.prototype.encodeLabel=function(t){this.main.dv.getPresentedQuestion()[this.id]=encodeURIComponent(t)},c.extend(h,o),h.prototype.onClickEvent=function(){this.isEnabled&&("cancel"==this.actionType?h.superProto.invokeCancelHandlers.call(this):"reset"==this.actionType?h.superProto.invokeResetHandlers.call(this):this.event&&h.superProto.invokeHandlers.call(this))},h.prototype.registerHandlers=function(){h.superProto.registerHandlers.call(this);var t=this.event;(t&&t.name||"reset"==this.actionType||"ToggleButton"===this.type||"QuickReplyButton"===this.type||"ColorPicker"==this.type||"TimePicker"==this.type)&&this.main.ev.registerEventHandler(this,"onClick")},h.prototype.getHTML=function(){this.registerHandlers(),this.checkEnableCondition();var t=c.parseValueFromConstant(this.text,this.main)||this.text;return this.getContent(this.id,t)},h.prototype.getContent=function(t,e,i){var s,n,r,a,o=["<Button "],h=this.context||"primary";o.push("id="),o.push(t),o.push(" class='nuanbtn ");var l="data-id ="+t;switch(this.style){case"outline":o.push("nuanbtn-outline-");break;case"block":o.push("nuanbtn-block nuanbtn-");break;case"outline-block":o.push("nuanbtn-block nuanbtn-outline-");break;default:o.push("nuanbtn-")}if(h instanceof Object)switch(h.color&&h.color.startsWith("#")?h.background=h.color:o.push(h.color||"primary"),s=h.textColor,n=h.titleColor,i&&(h.selectedColor&&(r=h.background,h.background=h.selectedColor),s=h.selectedTextColor||s,n=h.selectedTitleColor||n,h.selectedBorderColor&&(a=h.border,h.border=h.selectedBorderColor)),h.textAlign){case"left":o.push(" nuan-text-left")}else o.push(h);switch(this.size){case"large":o.push(" nuanbtn-lg ");break;default:o.push(" nuanbtn-sm ")}o.push(this.id),this.first&&(o.push(" nuanbtn-first"),"left"==this.align&&o.push(" nuanbtn-first-left")),this.last&&(o.push(" nuanbtn-last"),"right"==this.align&&o.push(" nuanbtn-last-right")),o.push("'"),h instanceof Object&&(o.push(this.getStyle.call(this.context)),i&&(h.selectedBorderColor&&(h.border=a),h.selectedColor&&(h.background=r))),this.isEnabled&&!this.main.isReloading||o.push(" disabled");var u=[""];function c(t,e,i){var s=[];return s.push("<span ",l," class='"),s.push(i),e&&(s.push("' style='"),s.push("color:"),s.push(e),s.push(";'")),s.push("'>"),s.push(t),s.push("</span>"),s.join("")}return this.icon&&0<Object.keys(this.icon).length?(this.icon.position&&"left"!=this.icon.position||u.push(this.getImage(l)),u.push("<span class='nuan-inline-block button-item-center'>")):u.push("<span class='nuan-inline-block'>"),this.title&&(u.push(c(this.title,n,"nuanbtn-label")),u.push("</br>")),u.push(c(e,s,"nuanbtn-text")),u.push("</span>"),this.icon&&this.icon.position&&"right"==this.icon.position&&u.push(this.getImage(l)),o.push.apply(o,[">",u.join(""),"</Button>"]),o.join("")},h.prototype.getImage=function(t){var e=[""];return e.push("<span ",t," class='button-icon ",this.icon.position&&"right"==this.icon.position?"mr-0 ml-2 ":""),e.push(this.icon.name),"center"==this.icon.align&&e.push(" button-item-center "),this.title||this.text||e.push(" mr-0"),e.push("'></span>"),e.join("")},c.extend(d,h),d.prototype.onClickEvent=function(t){t.target&&(t.target.classList.toggle("active"),this.active=!this.active),this.event&&h.superProto.invokeHandlers.call(this)},c.extend(p,h),p.prototype.onClickEvent=function(t){this.selectedIndex=parseInt(t.target.id.substr(-1,1)||t.target.getAttribute("data-id").substr(-1,1),10),this.selectedText=this.text[this.selectedIndex],this.selectedValue=this.getSelectedText(this.selectedIndex),h.prototype.onClickEvent.call(this,t),this.event&&0!=Object.keys(this.event).length?(this.selectedIndex=-1,this.selectedText=""):this.setSelectStyle(t)},p.prototype.setSelectStyle=function(t){var e=this.context;this.selEl&&(this.selEl.style.background=e.color.startsWith("#")?e.color:null,this.selElText.style.color=e.textColor||null,this.selEl.style.borderColor=e.border||null),this.selEl=t.currentTarget.querySelector(["#",this.id,"-",this.selectedIndex].join("")),this.selElText=this.selEl.querySelector(".nuanbtn-text"),e instanceof Object&&this.selEl&&e.selectedColor&&(this.selEl.style.background=e.selectedColor,e.selectedBorderColor&&(this.selEl.style.borderColor=e.selectedBorderColor),e.selectedTextColor&&this.selElText&&(this.selElText.style.color=e.selectedTextColor))},p.prototype.getOutputText=function(){return this.selectedText},p.prototype.getAnswerID=function(){return this.text[this.selectedIndex]||""},p.prototype.getSelectedText=function(t){return this.values[t]?this.values[t]:this.text[t]},p.prototype.getHTML=function(){var t=this.text instanceof Array?this.text:this.colors instanceof Array?this.colors:this.getFromConstant(this.text||this.colors),i=["<div class='quick-reply-container "];switch(this.align){case"left":i.push("quick-reply-left'>");break;case"right":i.push("quick-reply-right'>");break;case"justifyLeft":i.push("justify-left'>");break;case"justifyRight":i.push("justify-right'>");break;case"justifyCenter":i.push("justify-center'>");break;default:i.push("'>")}this.align=void 0;var s=this.selectedIndex;return this.selectedText=this.getSelectedText(),this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.forEach(function(t,e){this.icon=null,this.icons&&e<this.icons.length&&(this.icon=this.icons[e]),this.titles&&e<this.titles.length&&(this.title=this.titles[e]),i.push(this.getQuickContent(this.id+"-"+e,e,t,s==e))},this),i.push("</div> "),this.registerHandlers(),this.text=t,i.join("")},p.prototype.getQuickContent=function(t,e,i,s){var n=["<div class='quick-reply-item'> "];return n.push(this.getContent(t,i,s)),n.push("</div> "),n.join("")},p.prototype.isPlugin=p.prototype.renderPlugin=function(){return this.selEl=this.main.dv.container.querySelector(["#",this.id,"-",this.selectedIndex].join("")),!!this.selEl&&(this.selElText=this.selEl.querySelector(".nuanbtn-text"),!0)},p.prototype.resetData=function(){this.selectedIndex=this.defaultSelected,this.selectedText=""},p.prototype.disable=function(){for(var t=this.main.dv.container.querySelectorAll("."+this.id),e=t.length,i=0;i<e;i+=1)t[i].disabled=!0},p.prototype.enable=function(){for(var t=this.main.dv.container.querySelectorAll("."+this.id),e=t.length,i=0;i<e;i+=1)t[i].disabled=!1},p.prototype.getSnapShot=function(){var t=this.text||this.colors,e=this.selectedIndex;return{text:t[e],title:this.values&&this.values[e],icon:this.icons&&this.icons[e]}},p.prototype.getFromConstant=function(t){var e=c.parseValueFromConstant(t,this.main);return Array.isArray(e)?this.text=e:(this.icons=[e.icon],this.titles=[e.title],this.text=[e.text],this.text)},c.extend(l,p),l.prototype.getQuickContent=function(t,e,i,s){var n=["<div class='quick-reply-item item' style='border-radius:",this.context.borderRadius,"px;'>"];return this.context.color=i,n.push(this.getContent(t,"",s)),n.push("</div> "),n.join("")},l.prototype.renderPlugin=function(){return this.selEl=this.getSelectedElement(),!!this.selEl&&(this.context.selectedOutlineColor&&(this.selEl.style.borderColor=this.context.selectedOutlineColor),!0)},l.prototype.getSelectedElement=function(){return this.main.dv.container.querySelector(["#",this.id,"-",this.selectedIndex].join("")).parentElement},l.prototype.setSelectStyle=function(){this.selEl&&(this.selEl.style.borderColor=null),this.selEl=this.getSelectedElement(),this.selEl&&this.context.selectedOutlineColor&&(this.selEl.style.borderColor=this.context.selectedOutlineColor)},l.prototype.getSelectedText=c.extend(g,o),g.prototype.onInputEvent=function(t){this.text=t.target.value,this.event&&g.superProto.invokeHandlers.call(this),this.valid||this.resetErrors()},g.prototype.getOutputText=function(){return this.text},g.prototype.registerHandlers=function(){g.superProto.registerHandlers.call(this),this.checkEnableCondition(),this.main.ev.registerEventHandler(this,"onInput")},g.prototype.getType=g.prototype.getHTML=function(){this.registerHandlers();var t=["<fieldset class='nuan-fieldset ","ShortInput"==this.type?"nuan-short-input":"w-100","' style='padding-left:2px;padding-right:2px;padding-top:",this.material?".4em":"2px",";padding-bottom:2px;'>"];"date"==this.actionType&&(this.placeholder=this.dateFormat||"mm/dd/yyyy",this.monthIndex=0==this.placeholder.toLowerCase().indexOf("mm")?0:1,this.dayIndex=0==this.placeholder.toLowerCase().indexOf("dd")?0:1);var e=this.id+Date.now()+"hlp";return this.label&&!this.material?(t.push("<label class='nuan-label' for='"),t.push(this.id),t.push("' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.push("<form style='position:relative;'><input type='text' class='nuan-input nuan-form-control",this.material?" nuan-form-control-material":"","'"),t.push(" id="),t.push(this.id),t.push("  aria-describedby='"),t.push(e),t.push("' "),this.placeholder&&!this.material&&(t.push(" placeholder='"),t.push(this.placeholder),t.push("'")),this.isEnabled&&!this.main.isReloading||t.push(" disabled"),this.text&&(t.push(" value="),t.push(this.text)),this.material&&t.push(" required"),t.push("></input><span class='validation-error-icon'></span>"),this.material&&(t.push("<label class='nuan-label-material' for='"),t.push(this.id),t.push("' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>")),t.push("</form>"),t.push(this.addValidationTags()),this.helpText&&(t.push("<small class='form-text text-muted' id='"),t.push(e),t.push("'>"),t.push(this.helpText),t.push("</small>")),t.push("</fieldset>"),t.join("")},g.prototype.validate=function(t,e){switch(t){case"required":return!!this.text;case"minlength":return this.text.length>=e.length;case"maxlength":return this.text.length<=e.length;case"pattern":return new RegExp(e.value).test(this.text)}return null},g.prototype.toggleInvalid=function(t){t.classList.toggle("invalid")},g.prototype.addInvalid=function(t){t.classList.add("invalid"),this.main.dv.container.querySelector("#"+this.id).focus()},g.prototype.removeInvalid=function(t){t.classList.remove("invalid")},g.prototype.getErrorTag=function(t,e){return t.parentNode.parentNode.querySelector("[data-validation-message="+e+"]")},g.prototype.resetData=g.prototype.isPlugin=function(){return!("date"!=this.actionType&&!this.material)},g.prototype.renderPlugin=function(){var t=this.main.dv.container.querySelector("#"+this.id);return!!t&&("date"==this.actionType&&(this.dateKeyUp=this.onDateTextKeyDown.bind(this),t.addEventListener("keyup",this.dateKeyUp),this.onDateTextKeyDown(t),this.dateChange=this.onDateChange.bind(this),t.addEventListener("change",this.dateChange)),this.material&&(this.focusLnr=this.onTextFocus.bind(this),t.addEventListener("focus",this.focusLnr),this.blurLnr=this.onTextBlur.bind(this),t.addEventListener("blur",this.blurLnr)),!0)},g.prototype.onTextFocus=function(t){var e=this.placeholder;setTimeout(250)},g.prototype.onTextBlur=g.prototype.checkValue=function(t,e){if("0"!==t.charAt(0)||"00"==t){var i=parseInt(t,10);(isNaN(i)||i<=0||e<i)&&(i=1),t=i>parseInt(e.toString().charAt(0),10)&&1==i.toString().length?"0"+i:i.toString()}return t},g.prototype.onDateChange=g.prototype.onDateTextKeyDown=function(t){var e;(e=t.target?t.target:t).type="text";var i=e.value,s=t.keyCode||t.charCode;if(8==s||46==s)return!1;/\D\/$/.test(i)&&(i=i.substr(0,i.length-3));var n=i.split("/"),r=i.split("/").map(;r[this.monthIndex]&&(r[this.monthIndex]=this.checkValue(r[this.monthIndex],12)),r[this.dayIndex]&&(r[this.dayIndex]=this.checkValue(r[this.dayIndex],31));var a=r.map(function(t,e){return 2==t.length&&e<2?t+" / ":-1!=n[e].indexOf("/")?t+" / ":t});return e.value=a.join("").substr(0,14),!1},g.prototype.clear=function(){var t=this.main.dv.container.querySelector("#"+this.id);this.dateKeyUp&&(t.removeEventListener("input",this.dateKeyUp),t.removeEventListener("change",this.dateChange)),this.material&&(t.removeEventListener("focus",this.focusLnr),t.removeEventListener("blur",this.blurLnr))},c.extend(f,o),f.prototype.onSelectEvent=function(t){t.target&&(this.selectedIndex=t.target.selectedIndex,this.header&&(this.selectedIndex-=1),this.selectedText=t.target.value||this.items[this.selectedIndex],this.event&&f.superProto.invokeHandlers.call(this),this.valid||this.resetErrors())},f.prototype.getOutputText=function(){return this.selectedText},f.prototype.getAnswerID=function(){return this.items[this.selectedIndex]||""},f.prototype.registerHandlers=function(){f.superProto.registerHandlers.call(this),this.main.ev.registerEventHandler(this,"onChange")},f.prototype.getHTML=function(){this.checkEnableCondition();var i=["<fieldset class='nuan-fieldset w-100'>"],t=this.items||[],s=this.values||[],n=this.selectedIndex>t.length-1?t.length-1:this.selectedIndex;return this.selectedIndex=n,this.label?(i.push("<label class='nuan-label' "),i.push(this.getStyle()),i.push(">"),i.push(this.label),i.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.label),i.push("<div class='nuan-custom-select'><select class='nuan-select' id="),i.push(this.id),this.isEnabled&&!this.main.isReloading||i.push(" disabled"),i.push("> "),this.header&&(i.push("<option value=''>"),i.push(this.header),i.push("</option>")),-1!=n&&(this.selectedText=s.length>n?s[n]:t[n]),t.forEach(function(t,e){i.push("<option "),s.length>e&&(i.push("value="),i.push(s[e])),e===n&&i.push(" selected "),i.push(">"),i.push(t),i.push("</option>")}),i.push("</select><span class='validation-error-icon'></span></div>"),i.push(this.addValidationTags()),this.helpText&&(i.push("<small class='form-text text-muted'>"),i.push(this.helpText),i.push("</small>")),i.push("</fieldset>"),this.registerHandlers(),i.join("")},f.prototype.validate=function(){return!this.header||-1!=this.selectedIndex},f.prototype.addInvalid=f.prototype.removeInvalid=f.prototype.resetData=function(){this.selectedIndex=this.defaultSelected,this.selectedText=""},f.prototype.getErrorTag=function(t,e){return t.parentNode.parentNode.querySelector("[data-validation-message="+e+"]")},c.extend(f),c.extend(v,o),v.prototype.onClickEvent=function(t){if(t.target){var e=parseInt(t.target.id.substr(-1,1),10);this.checked[e]=t.target.checked,this.event&&v.superProto.invokeHandlers.call(this);for(var i="",s=0;s<this.values.length;s++)this.checked[s]&&(i&&(i+=","),i+=this.values[s]);this.selectedText=i,this.valid||this.resetErrors()}},v.prototype.getOutputText=function(){return this.selectedText},v.prototype.getLabel=function(){for(var t="",e=0;e<this.checked.length-1;e++)this.checked[e]&&(t&&(t+=","),t+=this.label||this.hiddenLabel);return t},B.prototype.getAnswerID=function(){for(var t,e=0;e<this.checked.length-1;e++)this.checked[e]&&(t&&(t+=","),t+=this.items[e]);return t},v.prototype.registerHandlers=function(){v.superProto.registerHandlers.call(this),this.main.ev.registerEventHandler(this,"onClick")},v.prototype.getHTML=function(){this.checkEnableCondition();var i=["<fieldset tabindex='0' class='nuan-fieldset w-100' id="];i.push(this.id),this.isEnabled&&!this.main.isReloading||i.push(" disabled"),i.push("> ");var s=this.values||[];return this.label?(i.push("<label class='nuan-label' "),i.push(this.getStyle()),i.push(">"),i.push(this.label),i.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),this.selectedText="",this.items.forEach(function(t,e){i.push("<label class='nuan-check-label'><input type='checkbox' id='"),i.push(this.id),i.push("-"),i.push(e),i.push("' "),s.length>e&&(i.push("value="),i.push(s[e])),this.checked.length>e&&this.checked[e]&&(i.push(" checked"),this.selectedText&&(this.selectedText+=","),this.selectedText+=s.length>e?s[e]:""),i.push("> "),i.push(t),i.push("<span class='nuan-checkbox'></span></label>")},this),i.push(this.addValidationTags()),this.helpText&&(i.push("<small class='form-text text-muted'>"),i.push(this.helpText),i.push("</small>")),i.push("</fieldset>"),this.registerHandlers(),i.join("")},v.prototype.validate=function(){return this.checked.some(},v.prototype.resetData=v.prototype.addInvalid=function(t){for(var e=t.querySelectorAll(".nuan-checkbox"),i=0;i<e.length;i++)e[i].classList.add("invalid");this.main.dv.container.querySelector("#"+this.id).focus()},v.prototype.removeInvalid=function(t){for(var e=t.querySelectorAll(".nuan-checkbox"),i=0;i<e.length;i++)e[i].classList.remove("invalid")},c.extend(m,o),m.prototype.onClickEvent=function(t){t.target&&(this.selectedIndex=parseInt(t.target.id.substr(-1,1),10),this.selectedText=t.target.value||this.options[this.selectedIndex],this.event&&m.superProto.invokeHandlers.call(this))},m.prototype.getOutputText=function(){return this.selectedText},m.prototype.registerHandlers=function(){m.superProto.registerHandlers.call(this),this.main.ev.registerEventHandler(this,"onClick")},m.prototype.getAnswerID=function(){return this.options[this.selectedIndex]||""},m.prototype.getHTML=function(){this.checkEnableCondition();var i=["<fieldset class='nuan-fieldset w-100'  id="];i.push(this.id),this.isEnabled&&!this.main.isReloading||i.push(" disabled"),i.push("> ");var t=this.options||[],e=t.length-1,s=this.values||[],n=!!this.validation,r=this.selectedIndex;return r=e<r?e:r<0?0:r,this.selectedIndex=r,this.selectedText=s.length>r?s[r]:t[r],this.label?(i.push("<label class='nuan-label' "),i.push(this.getStyle()),i.push(">"),i.push(this.label),i.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.forEach(function(t,e){i.push("<label class='nuan-radio-label'><input type='radio' class='nuan-radio' id='"),i.push(this.id),i.push("-"),i.push(e),i.push("' name='"),i.push(this.name),i.push("' "),s.length>e&&(i.push("value="),i.push(s[e])),e===this.selectedIndex&&i.push(" checked "),n&&i.push(" required"),i.push("> "),i.push(t),i.push("<span class='nuan-radio'></span></label>")},this),i.push(this.addValidationTags()),this.helpText&&(i.push("<small class='form-text text-muted'>"),i.push(this.helpText),i.push("</small>")),i.push("</fieldset>"),this.registerHandlers(),i.join("")},m.prototype.resetData=function(){this.selectedIndex=this.defaultSelected},c.extend(u,o),u.prototype.getHTML=function(){var t=this.level||"6",e=["<h"];return e.push(t),e.push("  class='nuan-heading"),e.push("'"),e.push(this.getStyle()),e.push(">"),e.push(c.parseValueMapperTemplate(this.text,this.main)),e.push("</h"),e.push(t),e.push(">"),e.join("")},c.extend(y,o),y.prototype.getHTML=function(){var t=["<p"];return t.push(" tabindex='0' class='nuan-para' "),t.push(this.getStyle()),t.push(">"),t.push(c.parseValueMapperTemplate(this.text,this.main)),t.push("</p>"),this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.join("")},c.extend(b,o),b.prototype.onClickEvent=function(t){t.target&&(this.selectedIndex=parseInt(t.target.getAttribute("data-index").substr(-1,1),10),this.selectedImage=this.src[this.selectedIndex],this.event&&b.superProto.invokeHandlers.call(this))},b.prototype.registerHandlers=function(){this.event&&this.main.ev.registerEventHandler(this,"onClick")},b.prototype.getHTML=function(){if(this.registerHandlers(),"string"==typeof this.src)return this.getImage(this.src);var e=["horizontal"===this.layout?"<div class='nuan-img-cont-scroll'":"<div class='nuan-img-cont-wrap'"," id=",this.id,">"],i=0;return this.src.forEach(function(t){e.push(this.getImage(c.parseValueMapperTemplate(t,this.main),i)),i+=1},this),e.push("</div>"),"horizontal"==this.layout&&e.push("<nav class='carousel-nav'><a class='arrow-left icon prev disabled' id='prev'></a><a class='arrow-right icon next' id='next'></a></nav>"),e.join("")},b.prototype.getImage=function(t,e){var i=["<div class='img-thumbnail-cont mt-2'><img class='img-thumbnail nuan-image' src=",t," data-id=",this.id," data-index=",e];return this.size?(this.size.width&&(i.push(" width="),i.push(this.size.width)),i.push(" height="),this.size.height?i.push(this.size.height):i.push(this.size.width/1.33),i.push("></img></div>"),i.join("")):""},b.prototype.removeEventHandlers=function(){},b.prototype.isPlugin=b.prototype.renderPlugin=function(){if(!this.main.isReloading){var t=this.main.dv.container.querySelector("#"+this.id);if(!t)return!1;s(t,this)}return!0},b.prototype.nextClick=function(){},b.prototype.previousClick=function(){},b.prototype.clear=function(){this.prev.removeEventListener("mousedown",this.mouseDownHandler),this.prev.removeEventListener("mouseup",this.mouseUpPrevHandler),this.next.removeEventListener("mousedown",this.mouseDownHandler),this.next.removeEventListener("mouseup",this.mouseUpNextHandler),this.next=null,this.prev=null,this.mouseDownHandler=null,this.mouseUpPrevHandler=null,this.mouseUpNextHandler=null,this.nextDisabled=this.prevDisabled=!1},c.extend(x,o),x.prototype.onClickEvent=function(){},x.prototype.isPlugin=function(){return!0},x.prototype.getOutputText=function(){return this.selectedDate},x.prototype.getHTML=function(){var t=["<div class='nuan-cal-cont mt-2'>"];if(this.label?(t.push("<label class='nuan-label' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),this.dateInputs){t.push("<div class='nuan-row container-positioning-center mb-2'");var e=o.createControlInstance(this.dateInputs,this.main);t.push(o.getContStyleProps(e)),t.push(">"),e.main=this.main,t.push(e.getHTML()),t.push("</div>"),this.dateInputs=e}return t.push("<div class='nuan-calendar",this.main.isReloading?" disabled' ":"' ","id=",this.id,"></div></div>"),t.join("")},x.prototype.renderPlugin=function(){var i=this,t=this.main.dv.container.querySelector("#"+this.id);return!!t&&(this.dateInputs&&this.dateInputs.renderPlugin(),this.iCal=new C(t,function(t,e){i.rangeSelect?(i.rangeStartDate=t,i.rangeEndDate=e):i.selectedDate=t},this.selectedDate,this.startDate,this.endDate,this.allowedWeekends,this.rangeSelect,this.rangeStartDate,this.rangeEndDate),this.iCal.render(),this.main.isReloading||this.iCal.eventHandler(),!0)},x.prototype.clear=x.prototype.resetData=x.prototype.enable=x.prototype.disable=x.updateInput=function(t,e){t&&(t.value=e.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),t.dispatchEvent(new Event("change")),t.setAttribute("disabled",!0))},C.prototype.render=function(){var t='<div class="cal"><div class="header"><a href="#" class="prev"><span class="left button" id="prev"> &lang; </span></a><span class="month-year" id="label"> June 2020 </span><a href="#" class="next"><span class="right button" id="next"> &rang; </span></a></div>';t+='<table class="days"><td',t+=this.weekend?' class="weekday"':"",t+='>sun</td><td class="weekday">mon</td><td class="weekday">tue</td><td class="weekday">wed</td><td class="weekday">thu</td><td class="weekday">fri</td><td',t+=this.weekend?' class="weekday"':"",t+=">sat</td></table>",t+='<div class="cal-frame"><table class="curr"><tbody id="calendar-body"></tbody></table></div>',t+="</div>",this.target.innerHTML=t,this.updateCalendar(this.currentMonth,this.currentYear)},C.prototype.updateCalendar=function(t,e){var i=new Date(e,t).getDay(),s=this.target.querySelector("#calendar-body");s.innerHTML="",this.target.querySelector("#label").innerHTML=this.months[t]+" "+e;for(var n,r,a,o=1,h=0;h<6;h++){for(var l=document.createElement("tr"),u=0;u<7;u++)if(0===h&&u<i)(n=document.createElement("td")).classList.add("nil"),r=document.createTextNode(""),(a=document.createElement("div")).setAttribute("class","day"),a.appendChild(r),n.appendChild(a),l.appendChild(n);else{if(o>this.daysInMonth(t,e))break;n=document.createElement("td"),r=document.createTextNode(o),(a=document.createElement("div")).setAttribute("class","day");var c=document.createElement("a"),d=this.currentMonth+1,p=new Date(this.currentYear+"-"+d+"-"+o);c.setAttribute("data-id",p.toDateString()),c.setAttribute("class","calendarLink"),c.appendChild(r),a.appendChild(c),o===this.today.getDate()&&e===this.today.getFullYear()&&t===this.today.getMonth()&&a.classList.add("today"),this.selectedDate&&o===this.selectedDate.getDate()&&e===this.selectedDate.getFullYear()&&t===this.selectedDate.getMonth()&&c.classList.add("selected-link"),!this.weekend&&this.isWeekend(this.currentYear,this.currentMonth,o)&&c.classList.add("weekend"),(this.hasEndReached&&o>this.endDate.getDate()||this.hasBeginReached&&o<this.startDate.getDate())&&c.classList.add("outofrange"),this.isRangeSelector&&this.setRangeColor(p,c,n),n.appendChild(a),l.appendChild(n),o++}s.appendChild(l)}},C.prototype.setRangeColor=function(t,e){t>this.rangeStartDate&&t<this.rangeEndDate?e.classList.add("selected-range-link"):this.rangeStartDate&&t.getDate()===this.rangeStartDate.getDate()&&t.getMonth()===this.rangeStartDate.getMonth()&&t.getFullYear()===this.rangeStartDate.getFullYear()?(e.classList.add("selected-link"),e.classList.add("rangestart")):this.rangeEndDate&&t.getDate()===this.rangeEndDate.getDate()&&t.getMonth()===this.rangeEndDate.getMonth()&&t.getFullYear()===this.rangeEndDate.getFullYear()&&(e.classList.add("selected-link"),e.classList.add("rangeend"))},C.prototype.next=function(){(!this.endDate||this.currentYear<this.endDate.getFullYear()||this.currentMonth<this.endDate.getMonth())&&(this.hasBeginReached&&this.target.querySelector("a.prev #prev").classList.remove("disabled"),this.hasBeginReached=!1,this.currentYear=11===this.currentMonth?this.currentYear+1:this.currentYear,this.currentMonth=(this.currentMonth+1)%12,this.hasEndReached=!(!this.endDate||this.currentMonth!=this.endDate.getMonth()||this.currentYear!=this.endDate.getFullYear()),this.updateCalendar(this.currentMonth,this.currentYear)),this.hasEndReached&&this.target.querySelector("a.next #next").classList.add("disabled")},C.prototype.previous=function(){(!this.startDate||this.currentYear>this.startDate.getFullYear()||this.currentMonth>this.startDate.getMonth())&&(this.hasEndReached&&this.target.querySelector("a.next #next").classList.remove("disabled"),this.hasEndReached=!1,this.currentYear=0===this.currentMonth?this.currentYear-1:this.currentYear,this.currentMonth=0===this.currentMonth?11:this.currentMonth-1,this.hasBeginReached=!(!this.startDate||this.currentMonth!=this.startDate.getMonth()||this.currentYear!=this.startDate.getFullYear()),this.updateCalendar(this.currentMonth,this.currentYear)),this.hasBeginReached&&this.target.querySelector("a.prev #prev").classList.add("disabled")},C.prototype.daysInMonth=C.prototype.isWeekend=function(t,e,i){var s=new Date(t,e,i);return 6==s.getDay()||0==s.getDay()},C.prototype.prevButton=function(t){t.preventDefault(),this.previous()},C.prototype.nextButton=C.prototype.dateClicked=function(t){var e=t.target.classList;if(e.contains("calendarLink")&&!e.contains("outofrange")&&(!e.contains("weekend")||this.weekend)){var i,s,n=this.target.querySelector("#calendar-body").querySelectorAll(".selected-link"),r=t.target,a=new Date(r.getAttribute("data-id"));if(this.isRangeSelector){if(2==this.ranges.length||1==this.ranges.length&&a<this.ranges[0]){var o=this.target.querySelector("#calendar-body").querySelectorAll(".selected-range-link");this.ranges=[];var h=n.length;for(i=0;i<h;i++)n[i].classList.remove("selected-link");for(h=o.length,i=0;i<h;i++)o[i].classList.remove("selected-range-link");for(s=0;s<this.inputs.length;s++)this.inputs[s].value=""}var l;if(this.ranges.push(a),this.rangeStartDate=this.ranges[0],this.rangeEndDate=this.ranges[1],r.classList.add("selected-link"),this.rangeStartDate&&this.rangeEndDate){var u=this.target.querySelector("#calendar-body").querySelectorAll(".day");for(i=0;i<u.length;i++)(l=u[i].firstChild).hasAttribute&&l.hasAttribute("data-id")&&this.setRangeColor(new Date(l.getAttribute("data-id")),l,u[i].parentElement);for(s=0;s<this.inputs.length;s++)x.updateInput(this.inputs[s],this.ranges[s]);this.cb(this.rangeStartDate.toDateString(),this.rangeEndDate.toDateString())}else this.rangeStartDate&&x.updateInput(this.inputs[0],a)}else{for(s=0;s<n.length;s++)n[s].classList.remove("selected-link");r.classList.add("selected-link"),this.selectedDate=a,x.updateInput(this.inputs[0],a),this.cb(a.toDateString())}t.preventDefault()}},C.prototype.eventHandler=function(){this.prevh=i(this,this.prevButton),this.nexth=i(this,this.nextButton),this.target.querySelector("a.prev").addEventListener("click",this.prevh),this.target.querySelector("a.next").addEventListener("click",this.nexth),this.datec=i(this,this.dateClicked),this.target.addEventListener("click",this.datec)},C.prototype.clear=function(){this.target.querySelector("a.prev").removeEventListener("click",this.prevh),this.target.querySelector("a.next").removeEventListener("click",this.nexth),this.target.removeEventListener("click",this.datec)},c.extend(B,o),B.prototype.onClickEvent=function(t){if(t.target&&"li"===t.target.tagName.toLowerCase()&&!this.isReload&&this.selectable){this.selectedIndex=parseInt(t.target.id.substr(-1,1),10),this.selectedText=this.values.length>this.selectedIndex?this.values[this.selectedIndex]:this.items[this.selectedIndex];var e=t.target.parentNode.querySelector(".active");e&&e.classList.remove("active"),t.target.classList.toggle("active"),this.event&&B.superProto.invokeHandlers.call(this)}},B.prototype.getOutputText=function(){return this.selectedText},B.prototype.registerHandlers=B.prototype.getAnswerID=B.prototype.getHTML=function(){this.main.isReloading&&(this.isReload=!0);var t=["<ul class='list-group",this.isReload?"disabled'":"'","id=",this.id,">"];return t.push(this.getContent()),t.join("")},B.prototype.enable=function(){this.isReload=!1,this.main.dv.container.querySelector("#"+this.id).classList.remove("disabled")},B.prototype.disable=function(){this.isReload=!0,this.main.dv.container.querySelector("#"+this.id).classList.add("disabled")},B.prototype.getCardHTML=function(){this.main.isReloading&&(this.isReload=!0);var t=["<ul class='list-group list-group-flush",this.isReload?"disabled'":"'","id=",this.id,">"];return t.push(this.getContent()),t.join("")},B.prototype.getContent=function(){var i=[],t=this.items||this.getFromConstant(this.items)||[],e=this.values=this.values||[],s=this.selectedIndex=this.selectedIndex>t.length-1?t.length-1:this.selectedIndex;return this.selectedText=e.length>s?e[s]:t[s],this.header?(i.push("<li class='nuan-list-group-item list-header disabled'>"),i.push(this.header),i.push("</li>"),this.encodeLabel(this.header)):this.label?(inp.push("<label class='nuan-label' "),inp.push(this.getStyle()),inp.push(">"),inp.push(this.label),inp.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),-1!=s&&(this.selectedText=e.length>s?e[s]:t[s]),t.forEach(function(t,e){i.push("<li class='nuan-list-group-item"),e===s&&i.push(" active"),this.selectable&&i.push(" cursor-poiner"),i.push("' id="),i.push(this.id),i.push("-"),i.push(e),i.push(">"),i.push(t),i.push("</li>")},this),i.push("</ul>"),this.registerHandlers(),i.join("")},B.prototype.resetData=function(){this.selectedIndex=this.defaultSelected},B.prototype.getFromConstant=function(t){var e=c.parseValueFromConstant(t,this.main);return e?Array.isArray(e)?e:[e]:null},c.extend(j,B),c.extend(q,o),q.prototype.onClickEvent=function(t){t.target&&this.event&&q.superProto.invokeHandlers.call(this)},q.prototype.registerHandlers=q.prototype.getHTML=function(){this.registerHandlers();var i=this;i.size&&(this.width=i.size),i.context&&(this.background=i.context.color,this.border=i.context.cardBorder,this.borderRadius=i.context.cardBorderRadius,this.boxShadow=i.context.cardShadow);var t=["<div class='card nuan-card mt-2 nuan-card-width' id='",i.id,"'"];t.push(this.getStyle()),t.push(">"),this.background=void 0,this.border=void 0,this.width=void 0;var s=[];if((i.cardTitle||i.cardSubTitle||i.cardText)&&(s.push("<div class='card-body","'>"),i.cardTitle&&(s.push("<h5 class='card-title' "),i.context&&s.push(this.getTextStyle(i.context.title,i.context.titleSize,i.context.titleStyle)),s.push(">"),s.push(i.cardTitle),s.push("</h5>")),i.cardSubTitle&&(s.push("<h6 class='card-subtitle mb-2 text-muted' "),i.context&&s.push(this.getTextStyle(i.context.subTitle,i.context.subTitleSize,i.context.subTitleStyle)),s.push(">"),s.push(i.cardSubTitle),s.push("</h6>")),i.cardText&&(s.push("<p class='card-text' "),i.context&&s.push(this.getTextStyle(i.context.text,i.context.textSize,i.context.textStyle)),s.push(">"),s.push(i.cardText),s.push("</p>")),s.push("</div>")),this.textColor=void 0,i.listGroup&&(i.list_group=new B(i.listGroup),i.list_group.main=i.main,s.push(i.list_group.getCardHTML())),i.columnSet){var e=new z(i.columnSet);e.parentWidget="card",e.main=i.main,s.push(e.getHTML()),i.columnSet=e}return i.context&&i.context.bottomSeperator&&(i.cardBottom=i.context.bottomSeperator,s.push("<hr class='body-separator'",this.getStyle(),"/>")),i.cardButtons&&(s.push("<div class='card-bottom' "),s.push(">"),i.cardButtons.forEach(function(t,e){(t=new h(t)).main=i.main,s.push(t.getHTML()),i.cardButtons[e]=t}),s.push("</div>"),i.cardBottom=void 0),i.cardBottom=void 0,i.header?(t.push("<h5 class='card-header' "),i.context&&(i.headerBackground=i.context.headerBackground,i.textColor=i.context.header),t.push(this.getStyle()),t.push(">"),t.push(i.header),t.push("</h5>"),t.push.apply(t,s),i.headerBackground=void 0,i.textColor=void 0):i.cardImage?(i.cardImage.borderRadius=this.borderRadius,"top"===i.cardImage.position?(i.cardImage.width||i.cardImage.height?(i.cardImage.spaceAround&&t.push("<div class='card-custom-img-top'>"),t.push("<div class='card-img-top' "),t.push(this.getImageStyle.call(i.cardImage)),t.push("></div>"),i.cardImage.spaceAround&&t.push("</div>")):(t.push("<img src='",i.cardImage.src,"' class='card-img-top'"),i.size&&t.push("style='height:",i.size/1.33,";'"),t.push(" ></img>")),t.push.apply(t,s)):"left"==i.cardImage.position?(t.push("<div class='nuan-row-card no-gutters'><div class='card-left-section "),i.cardImage.width&&i.cardImage.height?(i.cardImage.spaceAround&&t.push("card-custom-img-left"),t.push("'><div class='card-img-left card-custom-left-img' "),t.push(this.getImageStyle.call(i.cardImage)),t.push("></div>")):t.push("'>"),t.push("</div>"),t.push("<div class='col-fx-10 card-section' style='position:relative;","'> "),t.push.apply(t,s),t.push("</div></div>")):(t.push("<img src='",i.cardImage.src,"' class='card-img'"),this.cardImage.width&&(t.push(" width="),t.push(this.cardImage.width)),this.cardImage.height&&(t.push(" height="),t.push(this.cardImage.height)),t.push(" ></img>"),t.push("<div class='card-img-overlay'>"),t.push.apply(t,s),t.push("</div>"))):t.push.apply(t,s),t.push("</div>"),t.join("")},q.prototype.enable=function(){this.cardButtons.forEach(function(t){t.enable()}),this.columnSet&&this.columnSet.enable()},q.prototype.getTextStyle=function(t,e,i){return t||e||i?(this.textColor=t,this.textSize=e,this.textStyle=i,this.getStyle()):null},q.prototype.disable=function(){this.cardButtons&&this.cardButtons.forEach(function(t){t.disable()}),this.columnSet&&this.columnSet.disable()},q.prototype.executeValidation=function(){return!this.columnSet||this.columnSet.executeValidation()},q.prototype.getImageStyle=function(){var t=["style='"];return this.src&&(t.push("background-image:"),t.push(o.setStyleVal("url("+this.src+")")),t.push("background-size:"),this.width&&this.height?t.push(o.setStyleVal(this.width+"px "+this.height+"px")):t.push("contain;"),t.push("background-repeat:"),t.push(o.setStyleVal("no-repeat")),t.push("background-position:"),this.align?t.push(o.setStyleVal(this.align)):t.push(o.setStyleVal("center")),"top"==this.position&&this.setImageBorder&&(t.push("border-top-right-radius:"),t.push(o.setStyleVal(this.borderRadius+"px")),t.push("border-top-left-radius:"),t.push(o.setStyleVal(this.borderRadius+"px"))),"left"==this.position&&this.setImageBorder&&(t.push("border-bottom-left-radius:"),t.push(o.setStyleVal(this.borderRadius+"px")),t.push("border-top-left-radius:"),t.push(o.setStyleVal(this.borderRadius+"px"))),this.height&&(t.push("height:"),t.push(o.setStyleVal(this.height+"px")))),t.push("'"),t.join("")},q.prototype.isPlugin=q.prototype.renderPlugin=function(){return this.el=this.main.dv.container.querySelector("#"+this.id),!!this.el&&(this.cardclick=i(this,this.onClickEvent),this.el.addEventListener("click",this.cardclick),!0)},q.prototype.clear=q.prototype.getCard=function(){return this.el=this.el||this.main.dv.container.querySelector("#"+this.id),this.el},c.extend(N,o),N.prototype.getHTML=function(){var i=["<div class='nuan-row-card nuan-card-deck mt-2 flex-nowrap' id=",this.id,">"];if(this.context&&(this.background=this.context.color,this.border=this.context.cardBorder),this.cards.forEach(function(t,e){(t=new q(t)).main=this.main,i.push("<div class='deck-size'>"),i.push(t.getHTML()),i.push("</div>"),this.cards[e]=t},this),"dot"==this.navigationStyle){i.push("</div>"),i.push("<nav class='carousel-nav fixed-nav'><a class='arrow-left icon prev disabled' id='prev'></a><ul>");for(var t=0;t<this.cards.length;t++)i.push(["<li class='nav-dots",0==t?" highlight":"","'></li>"].join(""));i.push("</ul><a class='arrow-right icon next' id='next'></a></nav>")}else i.push("</div><nav class='carousel-nav'><a class='arrow-left icon prev disabled' id='prev'></a><a class='arrow-right icon next' id='next'></a></nav>");return i.join("")},N.prototype.isPlugin=function(){return!0},N.prototype.renderPlugin=function(){if(!this.main.isReloading){if(this.el=this.main.dv.container.querySelector("#"+this.id),!this.el)return!1;s(this.el,this),this.cards.forEach(function(t){t.isPlugin()&&t.renderPlugin()}),this.navDots="dot"==this.navigationStyle&&this.el.parentElement.querySelectorAll(".nav-dots")}return!0},N.prototype.enable=function(){this.cards.forEach(function(t){t.enable()}),s(this.el,this)},N.prototype.nextClick=function(){if(this.navDots&&0<this.navDots.length)for(var t=this.cards.length-1;0<=t;t--){var e=this.cards[t].getCard();if(!(e.offsetLeft-this.el.scrollLeft+e.offsetWidth>=this.el.offsetWidth)){this.navDots[t].classList.add("highlight");break}}},N.prototype.previousClick=function(){if(this.navDots&&0<this.navDots.length)for(var t=this.cards.length-1;0<=t;t--){var e=this.cards[t].getCard();if(!(e.offsetLeft-this.el.scrollLeft+e.offsetWidth>=this.el.offsetWidth))break;this.navDots[t].classList.remove("highlight")}},N.prototype.disable=function(){this.next.classList.add("disabled"),this.prev.classList.add("disabled"),this.clear(),this.cards.forEach(},N.prototype.clear=function(){this.prev.removeEventListener("mousedown",this.mouseDownHandler),this.prev.removeEventListener("mouseup",this.mouseUpPrevHandler),this.next.removeEventListener("mousedown",this.mouseDownHandler),this.next.removeEventListener("mouseup",this.mouseUpNextHandler),this.next=null,this.prev=null,this.mouseDownHandler=null,this.mouseUpPrevHandler=null,this.mouseUpNextHandler=null,this.nextDisabled=this.prevDisabled=!1,this.cards.forEach(},c.extend(F,g),F.prototype.getHTML=function(){this.registerHandlers();var t=["<fieldset class='nuan-fieldset w-100' style='padding-left:2px;padding-right:2px;padding-top:",this.material?".4em":"2px",";padding-bottom:2px;'>"];return this.label&&!this.material?(t.push("<label class='nuan-label' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.push("<form style='position:relative;'><textarea class='nuan-textarea nuan-form-control",this.material?" nuan-form-control-material":"","'"),t.push(" id="),t.push(this.id),this.placeholder&&!this.material&&(t.push(" placeholder='"),t.push(this.placeholder),t.push("'")),this.isEnabled&&!this.main.isReloading||t.push(" disabled"),this.material&&t.push(" required"),this.rows&&(t.push(" rows="),t.push(this.rows)),t.push(">"),this.text&&t.push(this.text),t.push("</textarea><span class='validation-error-icon'></span>"),this.material&&(t.push("<label class='nuan-label-material' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>")),t.push("</form>"),t.push(this.addValidationTags()),this.helpText&&(t.push("<small class='form-text text-muted'>"),t.push(this.helpText),t.push("</small>")),t.push("</fieldset>"),t.join("")},c.extend(O,o),O.prototype.getOutputText=function(){return this.ratingText},O.prototype.getHTML=function(){var t=["<form class='nuan-rating' id='",this.id,"'>"];this.label?(t.push("<label class='nuan-label' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.push("<div class='nuan-text-center'>");for(var e=0;e<this.ratingScale.length;e+=1)t.push("<button type='submit' class='",this.ratingScale[e],e<this.selectedRating+1?" selected":"","' data-indicator='",e+1,"'",this.ratingScale[e],e==this.selectedRating?" aria-pressed=true":"",this.main.isReloading?" disabled":"","></button>");return t.push("</div>"),t.push(this.addValidationTags()),t.push("</form>"),t.join("")},O.prototype.isPlugin=function(){return!0},O.prototype.renderPlugin=function(){var t=this.main.dv.container.querySelector("#"+this.id);return!!t&&(this.el=t,this.registerEvents(),this.values&&(this.ratingText=this.selectedRating<this.values.length?this.values[this.selectedRating]:""),!0)},O.prototype.registerEvents=function(){this.hl=this.highlight.bind(this),this.rs=this.resetSelected.bind(this),this.ra=this.ratingAction.bind(this),this.el.addEventListener("mouseover",this.hl,!1),this.el.addEventListener("focus",this.hl,!0),this.el.addEventListener("mouseleave",this.rs,!0),this.el.addEventListener("blur",this.rs,!0),this.el.addEventListener("submit",this.ra,!1)},O.prototype.disable=function(){this.clear(),this.el.querySelectorAll("button").forEach(},O.prototype.enable=function(){this.registerEvents(),this.el.querySelectorAll("button").forEach(},O.prototype.validate=function(t){return"required"!=t||-1!=this.selectedRating},O.prototype.addInvalid=function(t){t.classList.add("invalid")},O.prototype.removeInvalid=O.prototype.ratingAction=function(t){t.preventDefault();var e=document.activeElement;if(e){var i=parseInt(e.getAttribute("data-indicator"),10);Array.from(t.target.querySelectorAll("button")).forEach(function(t,e){e<i?t.classList.add("selected"):t.classList.remove("selected")});var s=t.target.querySelector('button[aria-pressed="true"]');s&&s.removeAttribute("aria-pressed"),e.setAttribute("aria-pressed",!0),this.selectedRating=i-1,this.values&&(this.ratingText=this.selectedRating<this.values.length?this.values[this.selectedRating]:""),this.resetErrors()}},O.prototype.highlight=function(t){var e=t.target.closest(".nuan-rating");if(t.target.closest("button")&&e){var i=parseInt(t.target.getAttribute("data-indicator"),10);Array.from(e.querySelectorAll("button")).forEach(function(t,e){e<i?t.classList.add("selected"):t.classList.remove("selected")})}},O.prototype.resetSelected=function(t){if(t.target.closest){var e=t.target.closest(".nuan-rating");if(e){var i=Array.from(e.querySelectorAll("button")),s=e.querySelector('button[aria-pressed="true"]'),n=s?parseInt(s.getAttribute("data-indicator"),10):0;i.forEach(}}},O.prototype.clear=O.prototype.resetData=function(){this.selectedRating=this.defaultSelected},c.extend(U,g),U.prototype.getHTML=function(){this.registerHandlers();var t=["<fieldset class='nuan-fieldset ","ShortInput"==this.type?"col-md-6":"w-100","' style='padding-left:2px;padding-right:2px;padding-top:2px;padding-bottom:2px;'>"];return this.label?(t.push("<label class='nuan-label' "),t.push(this.getStyle()),t.push(">"),t.push(this.label),t.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.push("<div class='nuan-input-group'>"),this.inputGroupText&&(t.push("<div class='nuan-input-group-prepend'><span class='nuan-input-group-text'>"),t.push(this.inputGroupText),t.push("</span></div>")),t.push("<input type='text' class='nuan-input nuan-form-control'"),t.push(" id="),t.push(this.id),this.placeholder&&(t.push(" placeholder='"),t.push(this.placeholder),t.push("'")),this.isEnabled&&!this.main.isReloading||t.push(" disabled"),this.text&&(t.push(" value="),t.push(this.text)),t.push("></input>"),t.push("<span class='validation-error-icon'></span></div>"),t.push(this.addValidationTags()),this.helpText&&(t.push("<small class='form-text text-muted'>"),t.push(this.helpText),t.push("</small>")),t.push("</fieldset>"),t.join("")},c.extend(z,o),z.prototype.getHTML=function(){var e=["<div class='nuan-row w-100"];return Array.isArray(this.spaceAround)&&(e.push("' style='padding:"),e.push(this.getSpaceAroundVals(this.spaceAround)),e.push(";'")),e.push("'>"),this.columns&&this.columns.forEach(function(t){"Column"==t.type&&e.push(this.getColumn(t))},this),e.push("</div>"),e.join("")},z.prototype.executeValidation=function(){return this.columns.every(function(t){return t.items.every(function(t){return t.executeValidation()})})},z.prototype.enable=function(){return this.columns.every(function(t){return t.items.every(function(t){return t.enable(),!0})})},z.prototype.disable=function(){return this.columns.every(function(t){return t.items.every(function(t){return t.disable(),!0})})},z.prototype.getColumn=function(i){var s=["<div class='",i.width?"col-md-"+i.width:"col-md-12"];if(Array.isArray(i.spaceAround)&&(s.push("' style='padding:"),s.push(this.getSpaceAroundVals(i.spaceAround)),s.push(";'")),s.push("'>"),i.items){var n=0;i.items.forEach(function(t){s.push("<div class='nuan-row nuan-column-item"),"middle"==i.align?s.push(" align-middle"):"bottom"==i.align&&s.push(" align-bottom");var e=o.createControlInstance(t,this.main);e.spaceAround&&s.push(" mt-0"),i.items[n]=e,s.push("'"),s.push(o.getContStyleProps(e)),s.push(">"),e.main=this.main,s.push(e.getHTML()),s.push("</div>"),n+=1},this)}return s.push("</div>"),s.join("")},z.prototype.getSpaceAroundVals=function(t){var e=[];return t.forEach(function(t){e.push(t+"px")}),e.join(" ")},z.prototype.getColumnForMapper=z.prototype.resetData=function(){return this.columns.every(function(t){return t.items.every(function(t){return t.resetData(),!0})})},c.extend(Y,o),Y.prototype.getHTML=function(){var e=["<div class='nuan-row w-100"];return Array.isArray(this.spaceAround)&&(e.push("' style='padding:"),e.push(this.getSpaceAroundVals(this.spaceAround)),e.push(";'")),e.push("'>"),this.rows&&this.rows.forEach(function(t){"Row"==t.type&&e.push(this.getRow(t))},this),e.push("</div>"),e.join("")},Y.prototype.executeValidation=function(){return this.rows.every(},Y.prototype.enable=function(){return this.rows.every(function(t){return t.items.every(function(t){return t.enable(),!0})})},Y.prototype.disable=function(){return this.rows.every(function(t){return t.items.every(function(t){return t.disable(),!0})})},Y.prototype.getRow=function(i){var s=["<div class='w-100'"];if(Array.isArray(i.spaceAround)&&(s.push(" style='padding:"),s.push(this.getSpaceAroundVals(i.spaceAround)),s.push(";'")),s.push(">"),i.items){var n=0;i.items.forEach(function(t){s.push("<div class='nuan-row nuan-row-item");var e=o.createControlInstance(t,this.main);i.items[n]=e,i.spaceAround&&0==n&&s.push(" mt-0"),s.push("'"),s.push(o.getContStyleProps(e)),s.push(">"),e.main=this.main,s.push(e.getHTML()),s.push("</div>"),n+=1},this)}return s.push("</div>"),s.join("")},Y.prototype.getSpaceAroundVals=function(t){var e=[];return t.forEach(,e.join(" ")},Y.prototype.getRowForMapper=function(t){for(var e=0;e<this.rows.length;e+=1)if(t==this.rows[e].id)return this.rows[e];return null},Y.prototype.resetData=function(){return this.rows.every(function(t){return t.items.every(})},c.extend(W,o),W.prototype.onClickEvent=function(t){t.target&&(this.state=t.target.checked?"on":"off")},W.prototype.getOutputText=W.prototype.registerHandlers=function(){W.superProto.registerHandlers.call(this),this.main.ev.registerEventHandler(this,"onClick")},W.prototype.getHTML=function(){var t=["<div>"];return t.push("<label><input type='checkbox' class='nuan-switch'"),this.active?(t.push(" checked"),this.state="on"):this.state="off",t.push(" id="),t.push(this.id),this.main.isReloading&&t.push(" disabled"),t.push(" ></><div><div></div></div></label>"),t.push("</div>"),this.registerHandlers(),t.join("")},W.prototype.resetData=c.extend(G,o),G.prototype.onClickEvent=G.prototype.registerHandlers=function(){this.event&&(G.superProto.registerHandlers.call(this),this.main.ev.registerEventHandler(this,"onClick"))},G.prototype.getHTML=function(){this.registerHandlers();var t=["<div class='w-100 nuan-flex nuan-box-container' style='justify-content:","left"==this.boxAlign?"flex-start":"right"==this.boxAlign?"flex-end":"center",";'><div",this.id?" id="+this.id:""];if(this.width&&this.height){if("fill"==this.width?t.push(" class='w-100' style='"):t.push(" style='position:relative;width:",this.width,"px;"),t.push("height:",this.height,"px;"),this.context){var e=this.getStyle.call(this.context);t.push(e.substring(7,e.length-1))}if(t.push("'>"),this.item){t.push("<div class='box-item","middle"==this.itemAlign?" middle":"end"==this.itemAlign?" end":"","' style='padding:",this.context&&this.context.boxPadding?this.context.boxPadding:"5","px;'>");var i=o.createControlInstance(this.item,this.main);i.main=this.main,t.push(i.getHTML()),t.push("</div>"),this.item=i}return t.push("</div></div>"),t.join("")}},G.prototype.executeValidation=G.prototype.enable=function(){this.item&&this.item.enable()},G.prototype.disable=c.extend(Q,p),Q.prototype.getHTML=function(){var t=["<div class='timepicker-container'>"];if(this.times)this.text=this.times;else{this.text=[];for(var e=new Date,i=this.getTime(e,this.startHour,this.startMinute),s=this.getTime(e,this.endHour,this.endMinute),n=i;n<s;n+=6e4*this.step){var r=new Date(n),a=r.getHours(),o=r.getMinutes();this.text.push(("12"==this.format&&12<=a?a-12==0?"00":a-12:a)+":"+(o<10?"0":"")+o+("12"==this.format?12<=a?"PM":"AM":""))}}return t.push(Q.superProto.getHTML.call(this)),t.push("</div>"),t.join("")},Q.prototype.getTime=function(t,e,i){return new Date(t.getTime()+6e4*i+36e5*e).getTime()},c.extend(_,o),_.prototype.onClickEvent=function(t){if(this.event&&_.superProto.invokeHandlers.call(this),this.launchMode&&this.metaUrl)switch(this.launchMode){case"parent":window.open(this.metaUrl,"_parent");break;case"tab":window.open(this.metaUrl,"_blank")}t.preventDefault()},_.prototype.registerHandlers=function(){_.superProto.registerHandlers.call(this),this.main.ev.registerEventHandler(this,"onClick")},_.prototype.getHTML=function(){this.registerHandlers();var t=["<div class='w-100 nuan-link-preview nuan-row ","small"==this.size?"small_prev":"","' data-id=",this.id,">"];return t.push("<div class='col-md-4'>"),t.push("<div class='meta_img_cont'"),t.push(this.getImageStyle()),t.push(">"),t.push("</div>"),t.push("</div>"),t.push("<div class='col-md-8'>"),this.metaTitle&&(this.textColor=this.context?this.context.titleColor:this.textColor,t.push("<a href='",this.metaUrl,"' id=",this.id),this.textColor&&t.push(" style='color:",this.textColor,";'"),t.push(">",this.metaTitle,"</a>")),this.metaDescription&&(this.textColor=this.context?this.context.descriptionColor:this.textColor,this.text=this.metaDescription,this.textAlign="left",t.push(new y(this).getHTML())),t.push("</div>"),t.push("</div>"),t.join("")},_.prototype.getImageStyle=function(){var t=["style='"];return this.metaImgSrc&&(t.push("background-image:"),t.push(o.setStyleVal("url("+this.metaImgSrc+")")),t.push("background-size:"),this.width&&this.height?t.push(o.setStyleVal(this.width+"px "+this.height+"px")):t.push("contain;"),t.push("background-repeat:"),t.push(o.setStyleVal("no-repeat")),t.push("background-position:"),t.push(o.setStyleVal("center"))),t.push("'"),t.join("")},_.prototype.isPlugin=_.prototype.renderPlugin=function(){if(!this.id)return!0;var t=this.main.dv.container.querySelector("#"+this.id);return!!t&&(this.linkClick=i(this,this.onClickEvent),t.addEventListener("click",this.linkClick),!0)},_.prototype.clear=function(){var t=this.main.dv.container.querySelector("#"+this.id);t&&t.removeEventListener("click",this.linkClick)},c.extend(K,o),K.prototype.getHTML=function(){var t=["<div class='nuan-file-upload mt-0'",1==this.limit?"style=' justify-content:center;'":""," id=",this.id,">"];return t.push("<div class='nuan-upload-cont upload-button'"),this.context&&this.context.fileBackground&&t.push(" style='background-color:",this.context.fileBackground,";'"),t.push("><i class='nuan-upload-plus nuan-fi-center'></i><input type='file' accept='.jpg,.jpeg,.gif,.png,.doc,.xls,.docx,.xlsx,.pdf,.txt'>"),t.push("</div>"),t.push("</div>"),2<this.limit&&t.push("<nav class='carousel-nav'><a class='arrow-left icon prev disabled' id='prev'></a><a class='arrow-right icon next' id='next'></a></nav>"),t.join("")},K.prototype.getFileContent=function(t,e){var i=["<div class='nuan-upload-cont'"];return this.context&&this.context.fileBackground&&i.push(" style='background-color:",this.context.fileBackground,";'"),i.push("><i class='nuan-fi-close'"," data-id=",this.files.length-1,"></i>"),"png"!=t&&"jpeg"!=t&&"jpg"!=t||!this.imagePreview?(i.push("<div class='nuan-fi nuan-fi-center nuan-fi-",t,"'><div class='fi-content'>",t,"</div></div>"),i.push("<div class='nuan-fi-name'>",e,"</div>")):i.push("<div class='image_preview'"," data-id=",this.files.length-1,"></div>"),i.push("</div>"),i.join("")},K.prototype.isPlugin=function(){return!0},K.prototype.renderPlugin=function(){return!this.id||(this.fileInput=this.main.dv.container.querySelector(".nuan-file-upload input[type=file]"),this.uploadButtonCont=this.main.dv.container.querySelector(".upload-button"),this.cont=this.main.dv.container.querySelector("#"+this.id),!!this.cont&&(this.uploadFIle=i(this,this.onChange),this.fileInput.addEventListener("change",this.uploadFIle),this.containerClick=i(this,this.onContClick),this.cont.addEventListener("click",this.containerClick),s(this.cont,this),!0))},K.prototype.onChange=function(t){var e=t.target.files[0];this.files.push(e);var i=e.type.split("/").pop();this.uploadButtonCont.insertAdjacentHTML("beforebegin",this.getFileContent(i,e.name)),this.setUploadButtonVisibility(),"png"!=i&&"jpeg"!=i&&"jpg"!=i||!this.imagePreview||this.readUrl()},K.prototype.readUrl=function(){var i=this;setTimeout(function(){if(0<i.files.length){var t=new FileReader;t.onload=function(t){var e=i.main.dv.container.querySelectorAll(".image_preview");e&&0<e.length?e[e.length-1].style.backgroundImage="url('"+t.target.result+"')":i.readUrl()},t.readAsDataURL(i.files[i.files.length-1])}},1e3)},K.prototype.onContClick=function(t){var e=t.target.getAttribute("data-id");e&&t.target.classList.contains("nuan-fi-close")&&(t.target.parentElement.parentNode.removeChild(t.target.parentElement),e=parseInt(e,10),this.files.splice(e,1),this.setUploadButtonVisibility(),this.fileInput.value="")},K.prototype.setUploadButtonVisibility=function(){this.files.length==this.limit?this.uploadButtonCont.style.display="none":this.uploadButtonCont.style.display="block",this.uploadButtonCont.parentElement.scrollLeft=this.uploadButtonCont.parentElement.scrollWidth,this.refresh()},K.prototype.clear=function(){this.fileInput&&(this.fileInput.removeEventListener("click",this.uploadFIle),this.cont.removeEventListener("click",this.containerClick)),this.uploadButtonCont=null,this.cont=null,this.fileInput=null,this.prev.removeEventListener("mousedown",this.mouseDownHandler),this.prev.removeEventListener("mouseup",this.mouseUpPrevHandler),this.next.removeEventListener("mousedown",this.mouseDownHandler),this.next.removeEventListener("mouseup",this.mouseUpNextHandler),this.next=null,this.prev=null,this.mouseDownHandler=null,this.mouseUpPrevHandler=null,this.mouseUpNextHandler=null,this.nextDisabled=this.prevDisabled=!1},c.extend(J,o),J.prototype.getHTML=function(){var t=["<div class='nuan-img-cont-wrap nuan-cover-image mr-0 mt-0' id=",this.id];if(t.push(" style='"),this.context){if(this.context.align)switch(this.context.align){case"left":t.push("margin-right:auto !important;");break;case"right":t.push("margin-left:auto;")}this.context.imageBorderRadius&&(t.push("border-radius:"),t.push(this.context.imageBorderRadius),t.push("px;")),this.context.imageBorderColor&&(t.push("border-color:"),t.push(this.context.imageBorderColor),t.push(";")),this.context.imageBorderWidth&&(t.push("border-width:"),t.push(this.context.imageBorderWidth),t.push("px;"))}if(this.width&&t.push("width:",this.width,"px;"),this.height&&t.push("height:",this.height,"px;"),this.url){var e=c.parseValueFromConstant(this.url,this.main)||this.url;t.push("background-image:URL(",e,");")}return t.push("'>"),t.push("<div class='nuan-modal'> <span class='nuan-close nuan-cursor'>&times;</span><div class='nuan-modal-content'><img src='",this.url,"' style='width:100%'></div></div>"),t.push("</div>"),t.join("")},J.prototype.isPlugin=function(){return!0},J.prototype.onImageClick=function(){var t=this.img.querySelector("#"+this.id+" .nuan-modal");t&&(t.style.display="block")},J.prototype.onCloseClick=function(t){var e=this.img.querySelector("#"+this.id+" .nuan-modal");e&&(e.style.display="none"),t.stopPropagation()},J.prototype.renderPlugin=function(){var t=this;return!this.id||(t.img=t.main.dv.container.querySelector("#"+t.id),!!t.img&&(t.imageClick=i(this,this.onImageClick),t.img.addEventListener("click",this.imageClick),t.closeClick=i(this,this.onCloseClick),t.img.querySelector(".nuan-close").addEventListener("click",t.closeClick),!0))},J.prototype.clear=function(){this.img.removeEventListener("click",this.imageClick),this.img.querySelector(".nuan-close").removeEventListener("click",this.closeClick)},c.extend(Z,o),Z.prototype.getHTML=function(){var s=["<div class='nuan-button-group",this.topSeperator?" top-seperator":"","vertical"==this.layout?" vertical-group":"","'>"],n=this;return this.items.forEach(function(t){var e=["<div class='nuan-tab-button",n.horizontalSeperator?" hor-seperator":n.verticalSeperator?" ver-seperator":"","'>"],i=new h(t);i.main=n.main,e.push(i.getHTML()),e.push("</div>"),s.push(e.join(""))}),s.push("</div>"),s.join("")},Z.prototype.disable=function(){this.items.forEach(function(t){t.disable()})},Z.prototype.enable=c.extend($,o),$.prototype.getHTML=function(){var t=["<video id=",this.id," class='nuan-video-viewer'"];return this.posterImageUrl&&t.push(" poster=",this.posterImageUrl),t.push(" style='width:",this.width?this.width:"100%",";'"),t.push(" controls",this.autoPlay?" autoplay":"",">"),t.push("<source src=",this.sourceUrl," type=",this.sourceContentType,"> </source>"),t.push("</video>"),t.join("")},c.extend(X,o),X.prototype.getOutputText=function(){return this.selectedTickValue},X.prototype.getHTML=function(){var t=this.step=this.step||10,e=this.minValue=this.minValue||0,i=this.maxValue=this.maxValue||100;this.selectedTick=this.selectedTick||e,this.setTickValue();var s=[];if(this.label?(s.push("<label class='nuan-label' "),s.push(this.getStyle()),s.push(">"),s.push(this.label),s.push("</label>"),this.encodeLabel(this.label)):this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),s.push("<div class='nuan-tick-slider'",this.id?"id="+this.id:"",">"),s.push("<div class='nuan-tick-slider-background'"),this.context){var n=this.context;s.push(" style='"),n.backgroundColor&&(s.push("background-color:"),s.push(o.setStyleVal(n.backgroundColor))),n.backgroundColorFrom&&n.backgroundColorTo&&(s.push("background-image:"),s.push("linear-gradient(to right,",n.backgroundColorFrom,",",n.backgroundColorTo,");")),s.push("'")}s.push("></div>"),s.push("<div class='nuan-tick-slider-progress' style='"),s.push("width:"),s.push(o.setStyleVal(100*this.getSliderPercent()+"%")),this.context.progressColor&&(s.push("background-color:"),s.push(o.setStyleVal(this.context.progressColor))),s.push("'></div>"),s.push("<div class='nuan-tick-slider-tick-container'>");for(var r=(i-e)/t+1,a=0;a<r;a+=1)s.push("<span class='nuan-tick-slider-tick'>"),s.push("</span>");return s.push("</div>"),s.push("<input class='tick-slider-input' type='range'"),s.push(" min=",e),s.push(" max=",i),s.push(" step=",t),s.push(" value=",this.selectedTick),s.push(" data-tick-step=",t),s.push(" >"),s.push("</input>"),s.push("</div>"),s.push("<div class='nuan-tick-slider-value-container'>"),this.tickValues&&!this.showSliderValue&&this.tickValues.forEach(,this.showSliderValue&&(s.push("<div class='nuan-tick-slider-label'>"),s.push(e),s.push("</div>"),s.push("<div class='nuan-tick-slider-label'>"),s.push(i),s.push("</div>"),s.push("<div class='nuan-tick-slider-value'></div>")),s.push("</div>"),s.join("")},X.prototype.isPlugin=function(){return!0},X.prototype.setTickValue=function(){this.tickValues&&(this.selectedTick==this.minValue?this.selectedTickValue=this.tickValues[0]:this.selectedTickValue=this.tickValues[this.selectedTick/this.step])},X.prototype.renderPlugin=function(){if(!this.id)return!0;var t=this.main.dv.container.querySelector("#"+this.id);return this.slider=t.querySelector('input[type="range"]'),this.sliderProgress=t.querySelector(".nuan-tick-slider-progress"),this.sliderVal=t.parentElement.querySelector(".nuan-tick-slider-value"),this.slider?(this.sliderInput=i(this,this.onSliderInput),this.slider.addEventListener("input",this.sliderInput),!0):(this.updateValue(this.slider),this.updateValuePosition(this.slider),!1)},X.prototype.onSliderInput=function(t){var e=this;this.selectedTick=t.target.value,this.setTickValue(),this.updateProgress(t.target),this.updateValue(this.slider),this.updateValuePosition(this.slider),-1!=this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.event&&X.superProto.invokeHandlers.call(this)},2e3)},X.prototype.getSliderPercent=function(){var t=this.maxValue-this.minValue;return(this.selectedTick-this.minValue)/t},X.prototype.updateProgress=function(t){var e=this.getSliderPercent(t);this.sliderProgress.style.width=100*e+"%"},X.prototype.updateValue=function(t){this.sliderVal.innerHTML="<div>"+t.value+"</div>"},X.prototype.updateValuePosition=function(t){var e=this.getSliderPercent(),i=t.getBoundingClientRect().width,s=this.sliderVal.getBoundingClientRect().width,n=e*(i-18)+9-s/2;n=Math.min(n,i-s),n=t.value===t.min?0:n,this.sliderVal.style.left=n+2+"px"},X.prototype.clear=X.prototype.resetData=function(){this.selectedTick=this.defaultTick},c.extend(tt,o),tt.prototype.getHTML=function(){var t=["<div class='nuan-map-widget mr-0 mt-0' id=",this.id];if(t.push(" style='"),this.context){if(this.context.align)switch(this.context.align){case"left":t.push("margin-right:auto !important;");break;case"right":t.push("margin-left:auto;")}this.context.mapBorderRadius&&(t.push("border-radius:"),t.push(this.context.mapBorderRadius),t.push("px;")),this.context.mapBorderColor&&(t.push("border-color:"),t.push(this.context.mapBorderColor),t.push(";"))}return t.push("width:",this.width||"240","px;"),t.push("height:",this.height||"240","px;"),t.push("'>"),t.push("</div>"),t.join("")},tt.prototype.isPlugin=function(){return!0},tt.prototype.renderPlugin=function(){if(!this.id)return!0;if(this.mapCanvas=this.main.dv.container.querySelector("#"+this.id),this.mapCanvas){if("undefined"!=typeof google&&google.maps||window.initMapWidget){if("undefined"==typeof google)return!1;this.initMap()}else window.initMapWidget=this.initMap.bind(this),this.addMapScript(this.key||"AIzaSyDmODzVAnfVQJAQz8BG9Low_F_8mFTHWNw");return!0}return!1},tt.prototype.initMap=function(){var n=this;this.map=new google.maps.Map(this.mapCanvas,{});var i=new google.maps.LatLngBounds;function r(){if(n.locations&&0<n.locations.length)if(n.locations.forEach(function(t){var e=new google.maps.LatLng(t.lat,t.lng);i.extend(e),n.displayMap(e,t.address,t.name)}),1<n.locations.length)n.map.fitBounds(i);else{var t=new google.maps.LatLng(n.locations[0].lat,n.locations[0].lng);n.map.setCenter(t),n.map.setZoom(17)}}if(this.addresses){var t=new google.maps.Geocoder;this.locations=[],this.addresses.forEach(function(i,s){t.geocode({address:i},function(t,e){"OK"==e&&(n.displayMap(t[0].geometry.location.lat(),t[0].geometry.location.lng()),n.locations.push({lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng(),address:i})),s==n.addresses.length-1&&r()})})}else r()},tt.prototype.displayMap=function(t,e){var i=new google.maps.Marker({position:t,map:this.map,title:e});i.setMap(this.map);var s,n,r=new google.maps.InfoWindow({content:e});google.maps.event.addListener(i,"click",(s=i,n=this.map,)},tt.prototype.addMapScript=function(t){var e=document.createElement("script");e.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+t+"&callback=initMapWidget"),document.body.appendChild(e)},c.extend(et,y),et.prototype.getHTML=function(){var t=["<p"];return t.push(" class='nuan-para nuan-link' "),t.push(this.getStyle()),t.push(">"),t.push(this.text.replace(/{link:(.*?),(.*?),(.*?)}/g,this.replacer.bind(this))),t.push("</p>"),this.hiddenLabel&&this.encodeLabel(this.hiddenLabel),t.join("")},et.prototype.onClickEvent=function(t){for(var e=0;e<t.target.attributes.length;e++){var i=t.target.attributes[e];i.specified&&i.name.startsWith("vtz")&&(this[i.name]=i.value)}this.event&&et.superProto.invokeHandlers.call(this),this.selectedLinkText=this.linkText,t.preventDefault()},et.prototype.getOutputText=function(){return this.selectedLinkText},et.prototype.replacer=function(t,e,i,s){var n=["<a href='",e,"'"];return this.context&&(this.context.linkColor&&(this.textColor=this.context.linkColor),this.context.linkStyle&&(this.textStyle=this.context.linkStyle),this.context.linkSize&&(this.textSize=this.context.linkSize)),n.push(this.getStyle()),s&&(s=s.split(",")).forEach(,n.push(">"),n.push(i),this.linkText=i,n.push("</a>"),n.join("")},et.prototype.isPlugin=function(){return!0},et.prototype.renderPlugin=function(){var e=this;if(!this.id)return!0;var t=this.main.dv.container.querySelectorAll("a");return!!(t&&0<t.length)&&(this.linkClick=i(this,this.onClickEvent),t.forEach(,!0)},et.prototype.clear=function(){var t=this.main.dv.container.querySelectorAll("a");t&&0<t.length&&t.forEach(},it.getFromStore=function(t){return"NS"===t?this.nodeStore:"TS"===t?this.transitionStore:"CS"===t?this.constantStore:null},it.setupFactory=function(t,e,i){var s=t.nodes,n=e||t.initialState;s&&s.forEach(function(t){var e=new st(t,i);this.nodeStore.push(e),t.id===n&&(this.initialNode=e)},this),t.transitions&&t.transitions.forEach(this),t.constants&&(this.constantStore=new ct(t.constants))},it.getInitialNode=it.getNodefromStore=function(e){var i;return this.nodeStore?(this.nodeStore.forEach(,i):null},it.getNodeIndex=function(e){var i=1;return this.nodeStore&&this.nodeStore.some(function(t){return t.id==e||(i+=1,!1)}),i},it.getTransitionFromStore=function(t,e){var i;if(this.transitionStore)for(var s=0;s<this.transitionStore.length;s++)if(i=this.transitionStore[s].getFromStoreByEvent(t,e))return i;return i},it.getNodeSize=function(){return this.nodeStore.length},it.setupFactory.clear=st.prototype.getControls=function(){return this.controls},nt.prototype.addToHandler=function(t){this.controls[t.visible.trigger]?arry.push(t):this.controls[t.visible.trigger]=[t]},nt.prototype.invokeVisibilityEvent=function(t){var e=this.controls[t];e&&e.forEach(function(t){t.onVisibilityChange()})},nt.prototype.clear=function(){this.controls={}},rt.prototype.addToHandler=function(t){this.controls[t.enabled.trigger]?arry.push(t):this.controls[t.enabled.trigger]=[t]},rt.prototype.invokeEvent=function(t){var e=this.controls[t];e&&e.forEach(function(t){t.onEnableDisableChange()})},rt.prototype.clear=var at="STARTING",ot="STARTED",ht="PRESENTED";function lt(){this.questions={}}unction ct(t){Array.isArray(t)&&t.forEach(function(t){this[t.name]=t.value},this)}function dt(t){c.isObject(t)&&c.copy(t,this)}function pt(t,e){t.dv.clear(e),t.vh.clear(),t.edh.clear(),t.ev.clearListeners()}function gt(){this.sf=new it,this.dv=new lt,this.ev=new n,this.vh=new nt,this.edh=new rt,this.th=new ut(this)}return lt.prototype.createPaginationContainer=lt.prototype.displayPagination=function(t,e,i){this.isPaginationDisplayed=!0;var s=document.createDocumentFragment(),n=document.createElement("div");s.appendChild(n);var r=t.clientWidth,a=getComputedStyle(t);r=r-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight);var o=["<div class='nuan-node-bar'  style='"];this.pageHW=parseInt(r/it.getNodeSize.call(i),10),e.background&&o.push("background-color:",e.background,";"),o.push("width:",this.pageHW,"px;'"),o.push("></div>"),s.firstChild.innerHTML=o.join(""),t.appendChild(s),this.sf=i,this.pContainer=t,this.pageSpec=e},lt.prototype.updatePagination=function(t){var e=this.pContainer.querySelector(".nuan-node-bar");e&&(this.pageSpec.style&&"step"!=this.pageSpec.style?e.style.width=this.pageHW*t+"px":e.style.left=e.clientWidth*(t-1)+"px")},lt.prototype.initRendering=function(t,e,i,s){this.currentVisibleNode=t,this.container=this.container||e,this.state=at,this.continerHTML=[],this.type=this.type||i,this.isBuilder=this.isBuilder||s,this.continerHTML.push("<div class='nuan-widget-container nuan-mlr-1 nuan-p-1 "),this.continerHTML.push(this.type?this.type:"form"),this.isBuilder&&this.continerHTML.push(" builder"),this.continerHTML.push("'"),this.continerHTML.push(this.widgetContainerStyle(t.context),">"),this.questions={},this.renderVisibleNode(),this.isPaginationDisplayed&&this.updatePagination(it.getNodeIndex.call(this.sf,t.id))},lt.prototype.initRenderingPartial=function(t,e,i,s){this.container=t,this.continerHTML=[],this.continerHTML.push("<div class='nuan-widget-container nuan-mlr-1 nuan-p-1"),this.isBuilder=s,this.isBuilder&&this.continerHTML.push(" builder"),this.continerHTML.push("'>");var n=this;if(this.isBuilder=s,e.items)e.items.forEach(function(t){var e=o.createControlInstance(t,i);e.main=i,n.renderControl(e)});else if(e.type){var r=o.createControlInstance(e,i);r.main=i,n.renderControl(r)}this.continerHTML.push("</div>"),this.insertFragment()},lt.prototype.widgetContainerStyle=function(t){if(!t)return"";var e=[" style='"];return t.widgetContainerBorderRadius&&e.push("border-radius:",t.widgetContainerBorderRadius,"px;"),t.widgetContainerBorderColor&&(e.push("border-color:",t.widgetContainerBorderColor,";"),e.push("border-width:1px;"),e.push("border-style:solid;")),t.widgetContainerBackgroundColor&&e.push("background-color:",t.widgetContainerBackgroundColor,";"),void 0!==t.widgetContainerPadding&&e.push("padding:",t.widgetContainerPadding,"px!important;"),t.widgetContainerShadow&&(t.boxShadow=t.widgetContainerShadow,o.getBoxShadow(t,e)),t.widgetMarginLeft&&e.push("margin-left:",t.widgetMarginLeft,"px;"),t.widgetMarginRight&&e.push("margin-right:",t.widgetMarginRight,"px;"),e.push("'"),e.join("")},lt.prototype.renderVisibleNode=function(){var e=this;this.state=ot,this.plugins=[],this.currentVisibleNode.getControls().forEach(,this.continerHTML.push("</div>"),this.isBuilder&&this.continerHTML.push(this.getToolTipForBuilder()),this.state=ht,this.insertFragment()},lt.prototype.insertFragment=function(){var t=document.createDocumentFragment(),e=document.createElement("div");e.style.height="100%",this.isBuilder&&e.classList.add("builder"),e.classList.add("nuan-widget-outer-cont"),t.appendChild(e),t.firstChild.innerHTML=this.continerHTML.join(""),this.container.appendChild(t),this.renderPlugins()},lt.prototype.renderControl=function(t){var e=this;e.continerHTML.push('<div class="nuan-row'),t.checkVisibleCondition()||e.continerHTML.push(" displayoff"),e.continerHTML.push(e.getContainerAlignment(t)),e.continerHTML.push(e.showSeperator(t)),e.continerHTML.push('" '),e.continerHTML.push(o.getContStyleProps(t)),t.isPlugin()&&e.plugins.push(t),e.continerHTML.push(">"),e.continerHTML.push(t.getHTML()),e.isBuilder&&e.continerHTML.push(e.getToolTipForBuilder()),e.continerHTML.push("</div>")},lt.prototype.addDropZone=lt.prototype.getToolTipForBuilder=function(){return"<div class='richio-tooltip'><div class='btn-group mr-2' role='group'><i class='far fa-edit'></i><i class='far fa-trash-alt ml-1'></i></div></div>"},lt.prototype.getContainerAlignment=function(t){switch(t.containerAlign){case"alignParentBottom":return" container-positioning-bottom";case"alignParentLeft":break;case"alignParentRight":return" container-positioning-right";case"alignParentCenter":return" container-positioning-center"}return""},lt.prototype.showSeperator=lt.prototype.renderPlugins=function(){var t=this,e=0;t.plugins&&setTimeout(function(){for(;e<t.plugins.length;e++)t.plugins[e].renderPlugin()||setTimeout(t.renderPlugins.bind(t),100)},200)},lt.prototype.clear=function(t){if(this.currentVisibleNode=null,this.state=at,this.plugins)for(var e=0;e<this.plugins.length;e++)this.plugins[e].clear();if(this.container&&t)this.container.innerHTML="";else if(this.container){var i=this.container.querySelector(".nuan-widget-outer-cont");i.parentElement.removeChild(i)}},lt.prototype.getPresentedQuestion=function(){return this.questions},lt.prototype.setNodesValues=function(t,e){if(e)it.getNodefromStore.call(main.sf,e.name.slice(1)).getControls()},lt.prototype.getNodeID=function(){return this.currentVisibleNode.id},lt.prototype.getNodeName=ut.prototype.handleTransition=function(t,e){var i=this.main,s=i.dv.currentVisibleNode,n=it.getTransitionFromStore.call(i.sf,t,s.id);if(null!=n){if(e&&!this.validate(s))return;if("string"==typeof n.to)this.transitionView(n.to);else{var r=n.to.guard;if(r)if(c.isObject(r))this.checkGuardCondition(r.condition)?"string"==typeof r.onTrue?this.transitionView(r.onTrue):this.sendCustomAction(r.onTrue):this.transitionView(r.onFalse);else{var a,o;for(o=0;o<r.length;o++)if(a=r[o],this.checkGuardCondition(a.condition)){"string"==typeof a.onTrue?this.transitionView(a.onTrue):this.sendCustomAction(r.onTrue);break}o===r.length&&this.transitionView(a.onFalse)}else this.sendCustomAction(n.to)}}},ut.prototype.transitionView=function(t){if(t){var e=this.main.dv;e.isBuilder&&this.main.builderViewChangeStartCb&&this.main.builderViewChangeStartCb();var i=e.getPresentedQuestion(),s=this.answers,n=e.getNodeID(),r=e.getNodeName();this.answers=[],pt(this.main),e.initRendering(it.getNodefromStore.call(this.main.sf,t)),e.isBuilder?setTimeout(function(){this.main.builderViewChangeCb&&this.main.builderViewChangeCb()}.bind(this),1e3):this.main.viewChangeCb&&this.main.viewChangeCb(n,r,i,s,e.getNodeID(),e.getNodeName(),e.getPresentedQuestion())}},ut.prototype.resetCurrrentNode=function(){for(var t=this.main.dv.currentVisibleNode,e=t.getControls(),i=0;i<e.length;i++)e[i].resetData();this.main.dv.isBuilder&&this.main.builderViewChangeStartCb&&this.main.builderViewChangeStartCb(),pt(this.main),this.answers=[],this.main.dv.initRendering(t),this.main.dv.isBuilder&&setTimeout(bind(this),1e3)},ut.prototype.validate=function(t){for(var e=t.getControls(),i=0;i<e.length;i++)if(!e[i].executeValidation())return!1;return!0},ut.prototype.checkGuardCondition=ut.prototype.sendCustomAction=function(i){if(i.engage){var s="Customer navidated to chat window";if(i.engage.checkAgent&&i.engage.data&&this.main.CIAPIinst){var t=i.engage.data,n=i.engage.checkAgent,r=this;t.businessUnitID&&this.main.CIAPIinst.checkAgentAvailability(t.businessUnitID,t.agentGroupId,t.agentAttrs,t.queueThreshold,function(t){var e;Object(t)==t&&(t.inHOP?"offline"==t.status?(e=n.offline,s="Agents are offline"):"buzy"==t.status?(e=n.buzy,s="Agents are buzy"):"online"==t.status&&r.sendEngageAction(i.engage):(e=n.isNotHop,s="Not in hours of operation"),r.fireAutomatonEndEvent(s),e&&r.transitionView(e))})}else this.sendEngageAction(i.engage),this.fireAutomatonEndEvent(s)}else if(i.survey){this.parseResult(i);this.fireAutomatonEndEvent("Customer completed post chat survey."),this.main.disable(),this.main.cb&&this.main.cb(i)}else if(Array.isArray(i))for(var e=0;e<i.length;e++)"string"==typeof i[e]?this.transitionView(i[e]):this.sendCustomAction(i[e]);else i&&(this.parseResult(i),this.main.disable(),this.main.cb&&this.main.cb(i))},ut.prototype.sendEngageAction=function(t){t.datapass&&this.parseResult(t),this.main.disable(),this.main.cb&&this.main.cb(t)},ut.prototype.fireAutomatonEndEvent=function(t){if(this.main.viewEndedCb){var e=this.main.dv;this.main.viewEndedCb(e.getNodeID(),e.getNodeName(),!0,t,e.getPresentedQuestion(),this.answers),this.main.viewChangeCb=null,this.main.viewEndedCb=null}},ut.prototype.parseResult=function(t){for(var e in t){var i=t[e];i instanceof Object&&this.parseValues(i)}},ut.prototype.parseValues=function(t){for(var e,i,s=Object.keys(t),n=0;n<s.length;n++)"object"==typeof(e=t[s[n]])?s[n].startsWith("constants")&&e.forEach(function(t){this.parseValues(t)}.bind(this)):e.startsWith("#EmptyAnswer")||0==e.indexOf("#")&&(this.anserCache[e]?i=this.anserCache[e]:(i=c.valueMapper(r(e),this.main),this.anserCache[e]=i),t[s[n]]=i)},ut.prototype.addToAnswers=ct.prototype.getContant=function(t){return this[t=t.slice(1)]?this[t]:t},dt.prototype.getFromStoreByEvent=function(t,e){return this.trigger===t&&this.from===e?this:null},gt.prototype.renderRichContent=function(t,e,i,s,n){var r;return c.isObject(t)||a("spec param should be a json object"),e||a("Container must be provided to render rich html"),t.pagination&&(r=this.dv.createPaginationContainer(e)),this.isReloading=s||!1,it.setupFactory.call(this.sf,t,i,this),this.ev.addDispatcherToContainer(e),this.dv.initRendering(it.getInitialNode.call(this.sf),e,t.widgetType,n),this.viewStartedCb&&this.viewStartedCb(this.dv.getNodeID(),this.dv.getNodeName(),this.dv.getPresentedQuestion()),t.pagination&&this.dv.displayPagination(r,t.pagination,this.sf,e),e.addEventListener("touchstart",function t(){e.removeEventListener("touchstart",t);e.classList.add("can-touch");e=null}),this},gt.prototype.renderRichContentWithPagination=function(t,e,i,s,n){var r,a=t.pagination;return t.pagination=null,r=this.renderRichContent(t,e,s,n),a&&this.dv.displayPagination(i,a,this.sf),r},gt.prototype.renderRichContentForBuilder=function(t,e,i,s,n,r){return this.builderViewChangeCb=r,this.builderViewChangeStartCb=n,this.renderRichContent(t,e,i,s,!0)},gt.prototype.renderSurveyContent=function(t){this.viewStartedCb=t.viewStartedCb,this.viewChangeCb=t.viewChangeCb,this.viewEndedCb=t.viewEndedCb;var e,i=t.spec.pagination;return t.paginationContainer&&(t.spec.pagination=null),e=this.renderRichContent(t.spec,t.container,t.initalView||"",t.isReload||!1,!1),i&&t.paginationContainer&&this.dv.displayPagination(t.paginationContainer,i,this.sf),this.CIAPIinst=t.CIAPI,e},gt.prototype.fireCloseSurveyEvent=function(){this.viewEndedCb&&this.viewEndedCb(this.dv.getNodeID(),this.dv.getNodeName(),!1,"Customer closed chat window",this.dv.getPresentedQuestion(),this.th.answers,1<it.getNodeIndex.call(this.sf,this.dv.getNodeID()))},gt.prototype.renderPartialContent=function(t,e,i){this.dv.initRenderingPartial(e,t,this,i)},gt.prototype.disable=function(){this.dv.currentVisibleNode.getControls().forEach(function(t){t.disable()})},gt.prototype.enable=function(){this.dv.currentVisibleNode.getControls().forEach(function(t){t.enable()})},gt.prototype.registerCBListener=gt.prototype.setControlValues=function(){},gt.prototype.clearAll={setup:function(t){c.isObject(t)||a("allowed type for config param is object"),t.isDivChat&&window.parent.document},get instance}();window.RichMain=RichMain;