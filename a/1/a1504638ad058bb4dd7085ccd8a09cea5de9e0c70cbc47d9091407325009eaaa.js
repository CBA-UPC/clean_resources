(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6443],{21662:(e,t,r)=>{"use strict";r.d(t,{sU:()=>c});var n=r(66062),a=r(55752),o=r.n(a),i=r(18274);var l=r(61850),c=(0,i.H)({ttl:3e5},((e,t)=>function(){var r=(0,n.Z)((function*(r,n){if(o()(n(),["cheerEntryState","cheerEntryMap",t],null))return null;try{var a=yield function(e,t){var r="".concat(window.process.env.API_CHEER,"/api/blogs/").concat(e,"/entries/").concat(t,"/bottom-module");return fetch(r,{mode:"cors"})}(e,t);if(!a.ok)throw new Error(yield a.text());return r(((e,t)=>({type:l.g,payload:{entryId:t,data:e}}))((yield a.json())||{},t))}catch(i){return r((e=>({type:l.v,payload:{error:e},error:!0}))(i))}}));return function(e,t){return r.apply(this,arguments)}}()))},86443:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(66062),a=r(66948),o=r(97175),i=r(45525),l=r(55752),c=r.n(l),u=r(78168),p=r(76955),d=r(55382),y=r.n(d),s=r(40298),f=r.n(s),b=r(18043),v=e=>{var{amebaId:t,isAllowed:r,entryId:n,isAmebaApp:a}=e;return a||!r?null:p.createElement("div",{className:y()(f().Block,b.Qx,b.hn)},p.createElement("iframe",{className:f().Frame,frameBorder:0,height:438,src:"".concat(window.process.env.API_CHEER,"/embed/").concat(t,"/").concat(n),title:"\u3053\u306e\u8a18\u4e8b\u3092\u5fdc\u63f4\u3057\u3066\u307f\u307e\u305b\u3093\u304b\uff1f"}))};const g=p.memo(v);var m=r(73614),h=r(33811),I=r(21662),O=function(){var e=(0,n.Z)((function*(e){var{dispatch:t,getState:r,match:n,location:a}=e;if(!("ameba"===c()(r(),["deviceState","appName"],""))){var{params:o}=n,i=o.amebaId,l=yield t((0,m.Rs)(i));if(!l||!l.error){var u=r().bloggerState,p=u.bloggerMap[i]||{},d=p.attribute||{},{isOfficial:y,isTopBlogger:s}=d;if(y||s){var f=o.entryId,b=u.blogMap[p.blog],{frm:v}=a.query,g=yield t((0,h.x0)(b.blog_id,f,[],v));g&&g.error||(yield t((0,I.sU)(i,f)))}}}}));return (),w=(0,u.ee)((0,i.w1)(f()),(0,o.provideHooks)({done:O}),(0,a.$j)(((e,t)=>{var{match:r}=t,{params:n}=r,a=n.amebaId,o=n.entryId;return{amebaId:a,entryId:o,isAmebaApp:"ameba"===e.deviceState.appName,isAllowed:c()(e,["cheerEntryState","cheerEntryMap",o,"isAllowed"],!1)}})))(g)},33811:(e,t,r)=>{"use strict";r.d(t,{uw:()=>_,x0:);var n=r(41185),a=r(66062),o=r(18274),i=r(55752),l=r.n(i),c=r(5663),u=r.n(c),p=r(74890),d=r.n(p),y=r(62720),s=r(64123),f=r(11622),b=r(18966),v=r(41779);r h=[y.Z.REBLOG,y.Z.HASH_TAG,y.Z.IMAGE,y.Z.VIDEO,y.Z.CLIPBLOG,y.Z.VOICE_BLOG,y.Z.PR,y.Z.AUTO_AD],I=O=(e,t,r)=>({type:b.V7,payload:{blogId:e,entryId:t,error:r},error:!0}),w=(0,o.H)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return function(){var o=(0,a.Z)((function*(a,o,i){var{fetchr:c}=i,p=d()(h.concat(r)),y=l()(o(),["bloggerState","blogMap",e,"blog_name"],"");if(!y||!t)return null;var v=l()(o(),["entryState","entryMetaMap",t],null),g=l()(v,"pagingType",void 0),w=n===g,_=l()(o(),["entryState","entryMap",t],null);if(v&&w&&_&&(!u()(_.entry_text)||404===_.status_code))return null;try{a({type:b.Gh,payload:{blogId:e,entryId:t,fieldFilter:p,frm:n}});var j={amebaId:y,blogId:e,entryId:t,fieldFilter:p,frm:n},S=yield c.read(s.Z.BlogEntry).params(j).end(),E=S.data;if(!(!1!==o().deviceState.isEmojiSupported)&&E.entities&&E.entities.entryMap)try{E=m(m({},E),{},{entities:m(m({},E.entities),{},{entryMap:yield(0,f.R9)(E.entities.entryMap)})})}catch(x){console.warn(x),E=S.data}return a(I(e,t,E,n))}catch(k){return a(O(e,t,k))}}));return ()})),_=(0,o.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,n){var a=l()(n(),["bloggerState","blogMap",e,"blog_name"],"");if(!a||!t)return null;var o=l()(n(),["entryState","entryMap",t],null);if("amember"!==o.publish_flg||o&&(o.entry_text||404===o.statusCode))return null;try{r({type:b.tB,payload:{entryId:t}});var i={token:l()(n(),["amebloTokenState","amebloToken"],null),amebaId:a,entryId:parseInt(t,10)},c=yield(0,v.s)(i);return r(((t,c))}catch(u){return r(((e,t)=>({type:b.Ny,payload:{entryId:e,error:t},error:!0}))(t,u))}}));return ()))},74890:22786:(e,t,r)=>{var n=r(18300)(();n.push([e.id,"._2c2GJuuN{padding:16px}.no-js ._2c2GJuuN{display:none}._HjfC85a5{background:#fff;border-radius:24px;box-shadow:0 4px 14px rgba(8,18,26,.12);display:block;margin:0 auto;max-width:440px;width:100%}",""]),n.locals={Block:"_2c2GJuuN",Frame:"_HjfC85a5"},e.exports=n},40298:(e,t,r)=>{var n=r(22786),a=Object.assign||o=Object.defineProperty||"string"==typeof n&&(n=[[e.id,n,""]]),e.exports=function(e){var t=a({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(n)}}]);