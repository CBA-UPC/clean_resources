/*! For license information please see scripts.a2fcd0d8.js.LICENSE.txt */
!function(){"use strict";var t=function(){function t(t){this.jquery=t}return t.prototype.applyScrollingEffect=function(){var t=this;0!==this.jquery(".big-opening figure img").length&&(this.imageProportion=this.jquery(".big-opening figure img").width()/this.jquery(".big-opening figure img").height(),this.setValues(),this.jquery(window).on("scroll resize",(function(){return t.setValues()})))},t.prototype.setValues=function(){var t=window.scrollY,e=this.jquery(".big-opening figure"),i=this.jquery(".big-opening .gradient"),s=this.jquery(".big-opening .node-title-block-container");if(window.innerWidth>1023)return e.find("img").css("opacity",1),e.css("position","relative"),e.css("top","auto"),e.css("height","auto"),e.css("width","auto"),e.css("transform","scale(1)"),i.css("position","absolute"),i.css("top","auto"),i.css("height","100%"),i.css("transform","scale(1)"),void s.css("margin-top","-20px");var n=window.innerWidth/this.imageProportion,o=(this.jquery("#toolbar-bar").length?this.jquery("#toolbar-bar").height():0)+(this.jquery("#toolbar-item-administration-tray.is-active").length?this.jquery("#toolbar-item-administration-tray.is-active").height():0)+108;e.css("height",n),e.css("width","100%"),e.find("img").css("opacity",1-t/150),e.css("position","fixed"),e.css("top",o),e.css("transform","scale("+(1+t/1e3)+")"),i.css("position","fixed"),i.css("top",o),i.css("height",n),i.css("transform","scale("+(1+t/1e3)+")"),s.css("margin-top",n+70)},t}(),e=function(){function t(t){this.jquery=t}return t.prototype.applyToonMeerExpand=function(){var t=this;this.jquery(".tags-wrapper .tags-wrapper__readmore").on("click touchend",(function(e){e.preventDefault(),t.expandNext6()}))},t.prototype.expandNext6=function(){this.jquery(".tags-wrapper .tags .hidden-tags:lt(6)").removeClass("hidden-tags")},t}(),i=function(){function t(){this.weekInSeconds=604800,this.storage=window.localStorage,this.storageKey="RTL_MSP_WATCHED_VIDEOS",this.watchedList=this.getWatchedList()}return t.prototype.addToWatchedList=function(t){this.clearOutdatedWatchedList(),this.watchedList[t]=this.currentTimeInMillis(),this.saveWatchedList()},t.prototype.getWatchedList=function(){var t=JSON.parse(this.storage.getItem(this.storageKey));return t||{}},t.prototype.clearWatchedList=function(){this.storage.removeItem(this.storageKey)},t.prototype.currentTimeInMillis=function(){return Math.floor(Date.now()/1e3)},t.prototype.saveWatchedList=function(){this.storage.setItem(this.storageKey,JSON.stringify(this.watchedList))},t.prototype.clearOutdatedWatchedList=function(){var t=this,e={},i=this.currentTimeInMillis();Object.keys(this.watchedList).forEach((function(s){i-t.watchedList[s]>t.weekInSeconds||(e[s]=t.watchedList[s])})),this.watchedList=e,this.saveWatchedList()},t}(),s=function(){function t(){var t;this.currentVideo=document.querySelector(".js-video-full"),this.storageManager=new i,this.videoItems=document.querySelectorAll(".js-video-item"),this.videoItemsContainer=null===(t=this.videoItems[0])||void 0===t?void 0:t.parentElement}return t.isOnVideoPage=function(){return!!document.querySelector(".js-video-full")},t.prototype.orderVideoItems=function(){var t=this;this.watchedAllVideos()&&this.storageManager.clearWatchedList();var e=this.storageManager.getWatchedList();this.videoItems.forEach((function(i){i.dataset.nodeId in e&&t.reorderElement(i)})),this.storageManager.addToWatchedList(this.currentVideo.dataset.nodeId)},t.prototype.reorderElement=function(t){void 0!==this.videoItemsContainer&&this.videoItemsContainer.appendChild(t)},t.prototype.watchedAllVideos=function(){var t=this.storageManager.getWatchedList();return Object.keys(t).length===this.videoItems.length},t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=function(){function t(){}return t.prototype.localStorageHas=function(t){return null!==localStorage.getItem(t)},t.prototype.localStorageGet=function(t){var e=localStorage.getItem(t);if(e)return"{"===e[0]||"["===e[0]?JSON.parse(e):e},t.prototype.localStorageSave=function(t,e){void 0===e&&$.error("Can't store undefinded value"),"object"!==n(e)&&"array"!=typeof e||(e=JSON.stringify(e)),"string"!=typeof e&&$.error("Can't store unrecognized format value"),localStorage.setItem(t,e)},t.prototype.localStorageRemove=function(t){localStorage.removeItem(t)},t}(),a=function(){function t(t){(this.jquery=t,this.isVideoDetailPage=this.jquery(".video-node-full").length>0,this.isVideoDetailPage)&&(this.autoplayCheckboxElement=document.querySelector("#switch"),this.localStorage=new o,this.autoplay=this.shouldAutoplay(),this.setAutoplayIcon(),s.isOnVideoPage()&&(new s).orderVideoItems())}return t.prototype.showVideoOverlayAfterPlay=function(){var t=this;window.addEventListener("player-end",(function(){t.jquery(".video-node-full").length&&!1!==t.shouldAutoplay()&&(window.location.href=t.jquery(".video-sidebar__playlist a:first-child").attr("href"))}))},t.prototype.initAutoplayToggle=function(){var t=this;!1!==this.isVideoDetailPage&&(void 0!==this.autoplayCheckboxElement?this.autoplayCheckboxElement.addEventListener("change",(function(e){var i=e.target;t.autoplay=i.checked,t.localStorage.localStorageSave("RTL.autoplay",JSON.stringify(i.checked))})):console.info("Cannot initialise autoplay toggle, element does not exist in DOM."))},t.prototype.shouldAutoplay=function(){if(void 0!==this.autoplay)return this.autoplay;if(!1===this.localStorage.localStorageHas("RTL.autoplay"))return this.localStorage.localStorageSave("RTL.autoplay","true"),!0;var t=this.localStorage.localStorageGet("RTL.autoplay");return"boolean"!=typeof t&&(t=JSON.parse(t)),t},t.prototype.setAutoplayIcon=function(){this.autoplayCheckboxElement.checked=this.shouldAutoplay()},t}(),r=function(){function t(t,e){this.jquery=t,this.drupalSettings=e}return t.prototype.render=function(){var t=this;this.shouldApply()&&this.jquery.ajax({type:"GET",url:"/api/breaking?_format=json",success:function(e){if(e.title&&t.drupalSettings.path.currentPath!=="node/"+e.id){var i=window.localStorage.getItem("closed_notifications");Number(i)!==e.id&&(t.jquery(".breaking-bar").remove(),t.jquery(".region--under-navigation").prepend(t.getTemplate(e.title,e.url)),t.jquery(".breaking-bar__close").click((function(i){i.preventDefault(),t.jquery(".breaking-bar").remove(),window.localStorage.setItem("closed_notifications",e.id)})))}},error:function(t,e){}})},t.prototype.shouldApply=function(){return!0},t.prototype.getTemplate=function(t,e){return'\n      <div class="breaking-bar">\n         <div class="breaking-bar__container">\n           <a href="'.concat(e,'"><b>BREAKING: </b>').concat(t,'</a>\n           <a href="#" class="breaking-bar__close">&times;</a>\n         </div>\n       </div>\n    ')},t}(),h=function(){function t(t){this.jquery=t}return t.isValidResponse=function(t){return t.content.length>0},t.prototype.replaceAll=function(){for(var e=this,i=this.jquery(".block-xhtml"),s=function(i){n.jquery.ajax({type:"GET",url:"/api/xhtml/"+i.dataset.nid+"/asynchronous?_format=json",success:function(s){t.isValidResponse(s)&&e.jquery(i).html(s.content)},error:function(t,s){e.jquery(i).empty()}})},n=this,o=0,a=i.toArray();o<a.length;o++){s(a[o])}},t}(),l=function(){function t(t){this.jquery=t}return t.prototype.apply=function(){this.jquery("button.submenu-toggle").on("click",(function(t){jQuery(t.target).closest("li").toggleClass("active-menu")}))},t}(),d=function(){function t(){}return t.getIconCode=function(t){return"h"===t?"q":"hh"===t?"qq":"i"===t?"t":"ii"===t?"tt":"k"===t?"f":"kk"===t?"ff":"l"===t?"q":"ll"===t?"qq":"o"===t?"b":"oo"===t?"bb":"p"===t?"c":"pp"===t?"cc":t},t.getShortWeatherDescription=function(e){var i=t.getIconCode(e);return"a"===i||"aa"===i?"Vrijwel onbewolkt (zonnig/helder)":"j"===i||"jj"===i?"Mix van opklaringen en hoge bewolking":"b"===i||"bb"===i?"Mix van opklaringen en middelbare of lage bewolking":"c"===i||"cc"===i?"Zwaar bewolkt":"d"===i||"dd"===i?"Afwisselend bewolkt met lokaal mist(banken)":"f"===i||"ff"===i?"Afwisselend bewolkt met (mogelijk) wat lichte regen":"g"===i||"gg"===i?"Opklaringen en kans op enkele pittige (onweers)buien":"r"===i||"rr"===i?"Half bewolkt":"s"===i||"ss"===i?"Bewolkt en kans op enkele pittige (onweers)buien":"t"===i||"tt"===i?"Zware sneeuwval":"m"===i||"mm"===i?"Zwaar bewolkt met wat lichte regen":"n"===i||"nn"===i?"Opklaring en lokaal nevel of mist":"q"===i||"qq"===i?"Zwaar bewolkt en regen":"u"===i||"uu"===i?"Afwisselend bewolkt met lichte sneeuwval":"v"===i||"vv"===i?"Zwaar bewolkt met lichte sneeuwval":"w"===i||"ww"===i?"Zwaar bewolkt met regen en winterse neerslag":"half bewolkt"},t}(),c=function(){function t(){}return t.getImageUrl=function(t,e){return"/themes/custom/rtlnieuws/images/weather/".concat(t,".").concat(e)},t}(),p=function(){function t(t){this.jquery=t}return t.prototype.render=function(){this.renderWeatherInfo(),this.renderTrafficInfo()},t.prototype.renderWeatherInfo=function(){var t=this;this.jquery.ajax({type:"GET",url:"https://api.buienradar.nl/data/actual/1.0/weatherstation/6260?ak=2685abda47664ea7b20c5e3f8c1949c0",success:function(e){if(e.iconcode&&void 0!==e.temperature){var i=Math.round(e.temperature),s=e.iconcode,n=c.getImageUrl(d.getIconCode(s),"svg");t.jquery(".js-weather-temperature").text(i),t.jquery(".js-weather-image").attr("src",n)}},error:function(t,e){}})},t.prototype.renderTrafficInfo=function(){var t=this;this.jquery.ajax({type:"GET",url:"https://data.buienradar.nl/1.0/traffic/all",success:function(e){if(void 0!==e.totalJams&&void 0!==e.totalLength&&void 0!==e.traindisruptions){var i=e.totalJams,s=Math.round(e.totalLength/1e3),n=e.traindisruptions.length;t.jquery(".js-traffic-length").text(s),t.jquery(".js-traffic-nr-jams").text(i),t.jquery(".js-train-disruptions").text(n)}},error:function(t,e){}})},t}(),u=function(){var t=this;this.apply=function(){var e,i,s=null===(e=document.querySelector(".js-video-page"))||void 0===e?void 0:e.getAttribute("data-uuid"),n=document.querySelector(".js-social-icon-embedded");if(s){var o=document.querySelector(".js-embedded-code-copy"),a=t.getIframe(s);null===(i=null==n?void 0:n.firstElementChild)||void 0===i||i.addEventListener("click",(function(t){var e;t.stopImmediatePropagation();var i=document.createElement("section");i.classList.add("embed-code-container"),null==n||n.classList.add("social-icon-embedded--active");var r=document.createElement("p");r.classList.add("embed-code-container__embedded-code"),r.textContent=a,i.appendChild(r),null===(e=document.querySelector(".js-video-page__social"))||void 0===e||e.appendChild(i),o.classList.remove("embedded-code-copy--hidden"),window.dataLayer.push({eventCategory:"article",eventAction:"embed",eventLabel:s})}));var r=document.querySelector(".js-embedded-code-copy__button");null==r||r.addEventListener("click",(function(t){var e,i;t.stopImmediatePropagation(),navigator.clipboard.writeText(a);var s=document.querySelector(".js-embedded-code-copy__button--text");null===(e=document.querySelector(".js-embedded-code-copy__copy-icon"))||void 0===e||e.classList.add("embedded-code-copy__copy-icon--hidden"),null===(i=document.querySelector(".js-embedded-code-copy__check-icon"))||void 0===i||i.classList.remove("embedded-code-copy__check-icon--hidden"),s.textContent="Code gekopieerd",setTimeout((function(){var t,e;s.textContent="Kopieer code",null===(t=document.querySelector(".js-embedded-code-copy__copy-icon"))||void 0===t||t.classList.remove("embedded-code-copy__copy-icon--hidden"),null===(e=document.querySelector(".js-embedded-code-copy__check-icon"))||void 0===e||e.classList.add("embedded-code-copy__check-icon--hidden")}),500)}))}else null==n||n.classList.add("social-icon-embedded--hidden")},this.getIframe=function(t){return'<iframe src="https://embed.rtl.nl?uuid='.concat(t,'&publicatiepunt=rtlnieuwsshare&autoplay=false" allowfullscreen seamless frameborder="0" allow="encrypted-media"></iframe>')}},m=function(){function t(){this.halfpageAd=document.getElementsByClassName("js_halfpage-ad")[0],this.navBar=document.querySelector("#js-top-nav"),this.possibleClassNames=["out-right","in-right","out-left","in-left","out-top","in-top","out-bottom","in-bottom"],this.getDirection=function(t,e){var i=e.getBoundingClientRect(),s=i.width,n=i.height,o=i.top,a=i.left,r=t.pageX-(a+window.pageXOffset)-s/2*(s>n?n/s:1),h=t.pageY-(o+window.pageYOffset)-n/2*(n>s?s/n:1);return{0:"top",1:"right",2:"bottom",3:"left"}[Math.round(Math.atan2(h,r)/1.57079633+5)%4]}}return t.prototype.apply=function(){var t=this;if(this.navBar){var e="down",i=window.pageYOffset;window.onscroll=function(){var s,n=window.pageYOffset;i<=n&&n>50&&"down"===e?(s="-50px",e="up",t.moveHalfpageUp()):i>=n&&"up"===e&&(s="0",e="down",t.moveHalfpageDown()),t.navBar.style.transform="translateY("+s+")",i=n}}},t.prototype.applyDirectionAwareHover=function(){var t=this;this.navBar&&this.navBar.querySelectorAll("li").forEach((function(e,i){e.addEventListener("mouseover",(function(s){return t.update(s,"in",i,e)})),e.addEventListener("mouseout",(function(s){return t.update(s,"out",i,e)}))}))},t.prototype.update=function(t,e,i,s){var n,o=this.getDirection(t,s);(n=s.classList).remove.apply(n,this.possibleClassNames),s.classList.add("".concat(e,"-").concat(o))},t.prototype.moveHalfpageDown=function(){this.halfpageAd&&(this.halfpageAd.style.top="140px")},t.prototype.moveHalfpageUp=function(){this.halfpageAd&&(this.halfpageAd.style.top="90px")},t}();function g(t,e,i){const s=document.createElement(e);return t&&(s.className=t),i&&i.appendChild(s),s}function y(t,e){return t.x=e.x,t.y=e.y,void 0!==e.id&&(t.id=e.id),t}function f(t){t.x=Math.round(t.x),t.y=Math.round(t.y)}function v(t,e){const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return Math.sqrt(i*i+s*s)}function _(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,i){return Math.min(Math.max(t,e),i)}function S(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;return void 0!==i&&(s+=` scale3d(${i},${i},1)`),s}function b(t,e,i,s){t.style.transform=S(e,i,s)}const x="cubic-bezier(.4,0,.22,1)";function P(t,e,i,s){t.style.transition=e?`${e} ${i}ms ${s||x}`:"none"}function L(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const I="idle",A="loading",C="loaded",E="error";function T(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}let z=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{z=!0}}))}catch(t){}class D{constructor(){this._pool=[]}add(t,e,i,s){this._toggleListener(t,e,i,s)}remove(t,e,i,s){this._toggleListener(t,e,i,s,!0)}removeAll(){this._pool.forEach((t=>{this._toggleListener(t.target,t.type,t.listener,t.passive,!0,!0)})),this._pool=[]}_toggleListener(t,e,i,s,n,o){if(!t)return;const a=n?"removeEventListener":"addEventListener";e.split(" ").forEach((e=>{if(e){o||(n?this._pool=this._pool.filter((s=>s.type!==e||s.listener!==i||s.target!==t)):this._pool.push({target:t,type:e,listener:i,passive:s}));const r=!!z&&{passive:s||!1};t[a](e,i,r)}}))}}function O(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function M(t,e,i,s,n){let o=0;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(o=e[i])}return Number(o)||0}function k(t,e,i,s){return{x:e.x-M("left",t,e,i,s)-M("right",t,e,i,s),y:e.y-M("top",t,e,i,s)-M("bottom",t,e,i,s)}}class Z{constructor(t){this.slide=t,this.currZoomLevel=1,this.center={x:0,y:0},this.max={x:0,y:0},this.min={x:0,y:0}}update(t){this.currZoomLevel=t,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(t){const{pswp:e}=this.slide,i=this.slide["x"===t?"width":"height"]*this.currZoomLevel,s=M("x"===t?"left":"top",e.options,e.viewportSize,this.slide.data,this.slide.index),n=this.slide.panAreaSize[t];this.center[t]=Math.round((n-i)/2)+s,this.max[t]=i>n?Math.round(n-i)+s:this.center[t],this.min[t]=i>n?s:this.center[t]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(t,e){return w(e,this.max[t],this.min[t])}}class F{constructor(t,e,i,s){this.pswp=s,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s,this.panAreaSize=i;const n=i.x/s.x,o=i.y/s.y;this.fit=Math.min(1,n<o?n:o),this.fill=Math.min(1,n>o?n:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(t){const e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}class B{constructor(t,e,i){this.data=t,this.index=e,this.pswp=i,this.isActive=e===i.currIndex,this.currentResolution=0,this.panAreaSize={x:0,y:0},this.pan={x:0,y:0},this.isFirstSlide=this.isActive&&!i.opener.isOpen,this.zoomLevels=new F(i.options,t,e,i),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:e}),this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=g("pswp__zoom-wrap","div"),this.holderElement=null,this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.heavyAppended=!1,this.bounds=new Z(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(t){t&&!this.isActive?this.activate():!t&&this.isActive&&this.deactivate()}append(t){this.holderElement=t,this.container.style.transformOrigin="0 0",this.data&&(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate())}load(){this.content.load(!1),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:t}=this;!this.heavyAppended&&t.opener.isOpen&&!t.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}updateContentSize(t){const e=this.currentResolution||this.zoomLevels.initial;if(!e)return;const i=Math.round(this.width*e)||this.pswp.viewportSize.x,s=Math.round(this.height*e)||this.pswp.viewportSize.y;(this.sizeChanged(i,s)||t)&&this.content.setDisplayedSize(i,s)}sizeChanged(t,e){return(t!==this.prevDisplayedWidth||e!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=t,this.prevDisplayedHeight=e,!0)}getPlaceholderElement(){return this.content.placeholder?.element}zoomTo(t,e,i,s){const{pswp:n}=this;if(!this.isZoomable()||n.mainScroll.isShifted())return;n.dispatch("beforeZoomTo",{destZoomLevel:t,centerPoint:e,transitionDuration:i}),n.animations.stopAllPan();const o=this.currZoomLevel;s||(t=w(t,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(t),this.pan.x=this.calculateZoomToPanOffset("x",e,o),this.pan.y=this.calculateZoomToPanOffset("y",e,o),f(this.pan);const a=()=>{this._setResolution(t),this.applyCurrentZoomPan()};i?n.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:a,duration:i,easing:n.options.easing}):a()}toggleZoom(t){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,t,this.pswp.options.zoomAnimationDuration)}setZoomLevel(t){this.currZoomLevel=t,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(t,e,i){if(0===this.bounds.max[t]-this.bounds.min[t])return this.bounds.center[t];e||(e=this.pswp.getViewportCenterPoint()),i||(i=this.zoomLevels.initial);const s=this.currZoomLevel/i;return this.bounds.correctPan(t,(this.pan[t]-e[t])*s+e[t])}panTo(t,e){this.pan.x=this.bounds.correctPan("x",t),this.pan.y=this.bounds.correctPan("y",e),this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),y(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(t,e,i){i/=this.currentResolution||this.zoomLevels.initial,b(this.container,t,e,i)}calculateSize(){const{pswp:t}=this;y(this.panAreaSize,k(t.options,t.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),t.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const t=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return S(this.pan.x,this.pan.y,t)}_setResolution(t){t!==this.currentResolution&&(this.currentResolution=t,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}class q{constructor(t){this.gestures=t,this.pswp=t.pswp,this.startPan={x:0,y:0}}start(){this.pswp.currSlide&&y(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:t,prevP1:e,dragAxis:i}=this.gestures,{currSlide:s}=this.pswp;if("y"===i&&this.pswp.options.closeOnVerticalDrag&&s&&s.currZoomLevel<=s.zoomLevels.fit&&!this.gestures.isMultitouch){const i=s.pan.y+(t.y-e.y);if(!this.pswp.dispatch("verticalDrag",{panY:i}).defaultPrevented){this._setPanWithFriction("y",i,.6);const t=1-Math.abs(this._getVerticalDragRatio(s.pan.y));this.pswp.applyBgOpacity(t),s.applyCurrentZoomPan()}}else{this._panOrMoveMainScroll("x")||(this._panOrMoveMainScroll("y"),s&&(f(s.pan),s.applyCurrentZoomPan()))}}end(){const{velocity:t}=this.gestures,{mainScroll:e,currSlide:i}=this.pswp;let s=0;if(this.pswp.animations.stopAll(),e.isShifted()){const i=(e.x-e.getCurrSlideX())/this.pswp.viewportSize.x;t.x<-.5&&i<0||t.x<.1&&i<-.5?(s=1,t.x=Math.min(t.x,0)):(t.x>.5&&i>0||t.x>-.1&&i>.5)&&(s=-1,t.x=Math.max(t.x,0)),e.moveIndexBy(s,!0,t.x)}i&&i.currZoomLevel>i.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(t){const{velocity:e}=this.gestures,{currSlide:i}=this.pswp;if(!i)return;const{pan:s,bounds:n}=i,o=s[t],a=this.pswp.bgOpacity<1&&"y"===t,r=o+function(t,e){return t*e/(1-e)}(e[t],.995);if(a){const t=this._getVerticalDragRatio(o),e=this._getVerticalDragRatio(r);if(t<0&&e<-.4||t>0&&e>.4)return void this.pswp.close()}const h=n.correctPan(t,r);if(o===h)return;const l=h===r?1:.82,d=this.pswp.bgOpacity,c=h-o;this.pswp.animations.startSpring({name:"panGesture"+t,isPan:!0,start:o,end:h,velocity:e[t],dampingRatio:l,onUpdate:e=>{if(a&&this.pswp.bgOpacity<1){const t=1-(h-e)/c;this.pswp.applyBgOpacity(w(d+(1-d)*t,0,1))}s[t]=Math.floor(e),i.applyCurrentZoomPan()}})}_panOrMoveMainScroll(t){const{p1:e,dragAxis:i,prevP1:s,isMultitouch:n}=this.gestures,{currSlide:o,mainScroll:a}=this.pswp,r=e[t]-s[t],h=a.x+r;if(!r||!o)return!1;if("x"===t&&!o.isPannable()&&!n)return a.moveTo(h,!0),!0;const{bounds:l}=o,d=o.pan[t]+r;if(this.pswp.options.allowPanToNext&&"x"===i&&"x"===t&&!n){const e=a.getCurrSlideX(),i=a.x-e,s=r>0,n=!s;if(d>l.min[t]&&s){if(l.min[t]<=this.startPan[t])return a.moveTo(h,!0),!0;this._setPanWithFriction(t,d)}else if(d<l.max[t]&&n){if(this.startPan[t]<=l.max[t])return a.moveTo(h,!0),!0;this._setPanWithFriction(t,d)}else if(0!==i){if(i>0)return a.moveTo(Math.max(h,e),!0),!0;if(i<0)return a.moveTo(Math.min(h,e),!0),!0}else this._setPanWithFriction(t,d)}else"y"===t&&(a.isShifted()||l.min.y===l.max.y)||this._setPanWithFriction(t,d);return!1}_getVerticalDragRatio(t){return(t-(this.pswp.currSlide?.bounds.center.y??0))/(this.pswp.viewportSize.y/3)}_setPanWithFriction(t,e,i){const{currSlide:s}=this.pswp;if(!s)return;const{pan:n,bounds:o}=s;if(o.correctPan(t,e)!==e||i){const s=Math.round(e-n[t]);n[t]+=s*(i||.35)}else n[t]=e}}function j(t,e,i){return t.x=(e.x+i.x)/2,t.y=(e.y+i.y)/2,t}class N{constructor(t){this.gestures=t,this._startPan={x:0,y:0},this._startZoomPoint={x:0,y:0},this._zoomPoint={x:0,y:0},this._wasOverFitZoomLevel=!1,this._startZoomLevel=1}start(){const{currSlide:t}=this.gestures.pswp;t&&(this._startZoomLevel=t.currZoomLevel,y(this._startPan,t.pan)),this.gestures.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:t,startP1:e,p2:i,startP2:s,pswp:n}=this.gestures,{currSlide:o}=n;if(!o)return;const a=o.zoomLevels.min,r=o.zoomLevels.max;if(!o.isZoomable()||n.mainScroll.isShifted())return;j(this._startZoomPoint,e,s),j(this._zoomPoint,t,i);let h=1/v(e,s)*v(t,i)*this._startZoomLevel;if(h>o.zoomLevels.initial+o.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),h<a)if(n.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const t=1-(a-h)/(a/1.2);n.dispatch("pinchClose",{bgOpacity:t}).defaultPrevented||n.applyBgOpacity(t)}else h=a-.15*(a-h);else h>r&&(h=r+.05*(h-r));o.pan.x=this._calculatePanForZoomLevel("x",h),o.pan.y=this._calculatePanForZoomLevel("y",h),o.setZoomLevel(h),o.applyCurrentZoomPan()}end(){const{pswp:t}=this.gestures,{currSlide:e}=t;(!e||e.currZoomLevel<e.zoomLevels.initial)&&!this._wasOverFitZoomLevel&&t.options.pinchToClose?t.close():this.correctZoomPan()}_calculatePanForZoomLevel(t,e){const i=e/this._startZoomLevel;return this._zoomPoint[t]-(this._startZoomPoint[t]-this._startPan[t])*i}correctZoomPan(t){const{pswp:e}=this.gestures,{currSlide:i}=e;if(!i?.isZoomable())return;0===this._zoomPoint.x&&(t=!0);const s=i.currZoomLevel;let n,o=!0;s<i.zoomLevels.initial?n=i.zoomLevels.initial:s>i.zoomLevels.max?n=i.zoomLevels.max:(o=!1,n=s);const a=e.bgOpacity,r=e.bgOpacity<1,h=y({x:0,y:0},i.pan);let l=y({x:0,y:0},h);t&&(this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=s,y(this._startPan,h)),o&&(l={x:this._calculatePanForZoomLevel("x",n),y:this._calculatePanForZoomLevel("y",n)}),i.setZoomLevel(n),l={x:i.bounds.correctPan("x",l.x),y:i.bounds.correctPan("y",l.y)},i.setZoomLevel(s);const d=!_(l,h);if(!d&&!o&&!r)return i._setResolution(n),void i.applyCurrentZoomPan();e.animations.stopAllPan(),e.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:t=>{if(t/=1e3,d||o){if(d&&(i.pan.x=h.x+(l.x-h.x)*t,i.pan.y=h.y+(l.y-h.y)*t),o){const e=s+(n-s)*t;i.setZoomLevel(e)}i.applyCurrentZoomPan()}r&&e.bgOpacity<1&&e.applyBgOpacity(w(a+(1-a)*t,0,1))},onComplete:()=>{i._setResolution(n),i.applyCurrentZoomPan()}})}}function R(t){return!!t.target.closest(".pswp__container")}class W{constructor(t){this.gestures=t}click(t,e){const i=e.target.classList,s=i.contains("pswp__img"),n=i.contains("pswp__item")||i.contains("pswp__zoom-wrap");s?this._doClickOrTapAction("imageClick",t,e):n&&this._doClickOrTapAction("bgClick",t,e)}tap(t,e){R(e)&&this._doClickOrTapAction("tap",t,e)}doubleTap(t,e){R(e)&&this._doClickOrTapAction("doubleTap",t,e)}_doClickOrTapAction(t,e,i){const{pswp:s}=this.gestures,{currSlide:n}=s,o=t+"Action",a=s.options[o];if(!s.dispatch(o,{point:e,originalEvent:i}).defaultPrevented)if("function"!=typeof a)switch(a){case"close":case"next":s[a]();break;case"zoom":n?.toggleZoom(e);break;case"zoom-or-close":n?.isZoomable()&&n.zoomLevels.secondary!==n.zoomLevels.initial?n.toggleZoom(e):s.options.clickToCloseNonZoomable&&s.close();break;case"toggle-controls":this.gestures.pswp.element?.classList.toggle("pswp--ui-visible")}else a.call(s,e,i)}}class H{constructor(t){this.pswp=t,this.dragAxis=null,this.p1={x:0,y:0},this.p2={x:0,y:0},this.prevP1={x:0,y:0},this.prevP2={x:0,y:0},this.startP1={x:0,y:0},this.startP2={x:0,y:0},this.velocity={x:0,y:0},this._lastStartP1={x:0,y:0},this._intervalP1={x:0,y:0},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this._numActivePoints=0,this._intervalTime=0,this._velocityCalculated=!1,this.isMultitouch=!1,this.isDragging=!1,this.isZooming=!1,this.raf=null,this._tapTimer=null,this.supportsTouch||(t.options.allowPanToNext=!1),this.drag=new q(this),this.zoomLevels=new N(this),this.tapHandler=new W(this),t.on("bindEvents",(()=>{t.events.add(t.scrollWrap,"click",this._onClick.bind(this)),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),t.scrollWrap&&(t.scrollWrap.ontouchmove=()=>{},t.scrollWrap.ontouchend=()=>{})):this._bindEvents("mouse","down","up")}))}_bindEvents(t,e,i,s){const{pswp:n}=this,{events:o}=n,a=s?t+s:"";o.add(n.scrollWrap,t+e,this.onPointerDown.bind(this)),o.add(window,t+"move",this.onPointerMove.bind(this)),o.add(window,t+i,this.onPointerUp.bind(this)),a&&o.add(n.scrollWrap,a,this.onPointerUp.bind(this))}onPointerDown(t){const e="mousedown"===t.type||"mouse"===t.pointerType;if(e&&t.button>0)return;const{pswp:i}=this;i.opener.isOpen?i.dispatch("pointerDown",{originalEvent:t}).defaultPrevented||(e&&(i.mouseDetected(),this._preventPointerEventBehaviour(t)),i.animations.stopAll(),this._updatePoints(t,"down"),1===this._numActivePoints&&(this.dragAxis=null,y(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1):t.preventDefault()}onPointerMove(t){t.preventDefault(),this._numActivePoints&&(this._updatePoints(t,"move"),this.pswp.dispatch("pointerMove",{originalEvent:t}).defaultPrevented||(1!==this._numActivePoints||this.isDragging?this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop()):(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,y(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop()))))}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(t){this._numActivePoints&&(this._updatePoints(t,"up"),this.pswp.dispatch("pointerUp",{originalEvent:t}).defaultPrevented||(0===this._numActivePoints&&(this._rafStopLoop(),this.isDragging?this._finishDrag():this.isZooming||this.isMultitouch||this._finishTap(t)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this._numActivePoints&&(this.dragAxis=null,this._updateStartPoints()))))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?_(this.p1,this.prevP1)||this.drag.change():_(this.p1,this.prevP1)&&_(this.p2,this.prevP2)||this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(t){const e=Date.now(),i=e-this._intervalTime;i<50&&!t||(this.velocity.x=this._getVelocity("x",i),this.velocity.y=this._getVelocity("y",i),this._intervalTime=e,y(this._intervalP1,this.p1),this._velocityCalculated=!0)}_finishTap(t){const{mainScroll:e}=this.pswp;if(e.isShifted())return void e.moveIndexBy(0,!0);if(t.type.indexOf("cancel")>0)return;if("mouseup"===t.type||"mouse"===t.pointerType)return void this.tapHandler.click(this.startP1,t);const i=this.pswp.options.doubleTapAction?300:0;this._tapTimer?(this._clearTapTimer(),v(this._lastStartP1,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,t)):(y(this._lastStartP1,this.startP1),this._tapTimer=setTimeout((()=>{this.tapHandler.tap(this.startP1,t),this._clearTapTimer()}),i))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(t,e){const i=this.p1[t]-this._intervalP1[t];return Math.abs(i)>1&&e>5?i/e:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(t){t.preventDefault()}_updatePoints(t,e){if(this._pointerEventEnabled){const i=t,s=this._ongoingPointers.findIndex((t=>t.id===i.pointerId));"up"===e&&s>-1?this._ongoingPointers.splice(s,1):"down"===e&&-1===s?this._ongoingPointers.push(this._convertEventPosToPoint(i,{x:0,y:0})):s>-1&&this._convertEventPosToPoint(i,this._ongoingPointers[s]),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&y(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&y(this.p2,this._ongoingPointers[1])}else{const i=t;this._numActivePoints=0,i.type.indexOf("touch")>-1?i.touches&&i.touches.length>0&&(this._convertEventPosToPoint(i.touches[0],this.p1),this._numActivePoints++,i.touches.length>1&&(this._convertEventPosToPoint(i.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(t,this.p1),"up"===e?this._numActivePoints=0:this._numActivePoints++)}}_updatePrevPoints(){y(this.prevP1,this.p1),y(this.prevP2,this.p2)}_updateStartPoints(){y(this.startP1,this.p1),y(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const t=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==t){const e=t>0?"x":"y";Math.abs(this.p1[e]-this.startP1[e])>=10&&(this.dragAxis=e)}}}_convertEventPosToPoint(t,e){return e.x=t.pageX-this.pswp.offset.x,e.y=t.pageY-this.pswp.offset.y,"pointerId"in t?e.id=t.pointerId:void 0!==t.identifier&&(e.id=t.identifier),e}_onClick(t){this.pswp.mainScroll.isShifted()&&(t.preventDefault(),t.stopPropagation())}}class V{constructor(t){this.pswp=t,this.x=0,this.slideWidth=0,this._currPositionIndex=0,this._prevPositionIndex=0,this._containerShiftIndex=-1,this.itemHolders=[]}resize(t){const{pswp:e}=this,i=Math.round(e.viewportSize.x+e.viewportSize.x*e.options.spacing),s=i!==this.slideWidth;s&&(this.slideWidth=i,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach(((e,i)=>{s&&b(e.el,(i+this._containerShiftIndex)*this.slideWidth),t&&e.slide&&e.slide.resize()}))}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let t=0;t<3;t++){const e=g("pswp__item","div",this.pswp.container);e.setAttribute("role","group"),e.setAttribute("aria-roledescription","slide"),e.setAttribute("aria-hidden","true"),e.style.display=1===t?"block":"none",this.itemHolders.push({el:e})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(t,e,i){const{pswp:s}=this;let n=s.potentialIndex+t;const o=s.getNumItems();if(s.canLoop()){n=s.getLoopedIndex(n);const e=(t+o)%o;t=e<=o/2?e:e-o}else n<0?n=0:n>=o&&(n=o-1),t=n-s.potentialIndex;s.potentialIndex=n,this._currPositionIndex-=t,s.animations.stopMainScroll();const a=this.getCurrSlideX();if(e){s.animations.startSpring({isMainScroll:!0,start:this.x,end:a,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:t=>{this.moveTo(t)},onComplete:()=>{this.updateCurrItem(),s.appendHeavy()}});let t=s.potentialIndex-s.currIndex;if(s.canLoop()){const e=(t+o)%o;t=e<=o/2?e:e-o}Math.abs(t)>1&&this.updateCurrItem()}else this.moveTo(a),this.updateCurrItem();return Boolean(t)}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){const{pswp:t}=this,e=this._prevPositionIndex-this._currPositionIndex;if(!e)return;this._prevPositionIndex=this._currPositionIndex,t.currIndex=t.potentialIndex;let i,s=Math.abs(e);s>=3&&(this._containerShiftIndex+=e+(e>0?-3:3),s=3);for(let n=0;n<s;n++)e>0?(i=this.itemHolders.shift(),i&&(this.itemHolders[2]=i,this._containerShiftIndex++,b(i.el,(this._containerShiftIndex+2)*this.slideWidth),t.setContent(i,t.currIndex-s+n+2))):(i=this.itemHolders.pop(),i&&(this.itemHolders.unshift(i),this._containerShiftIndex--,b(i.el,this._containerShiftIndex*this.slideWidth),t.setContent(i,t.currIndex+s-n-2)));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),t.animations.stopAllPan(),this.itemHolders.forEach(((t,e)=>{t.slide&&t.slide.setIsActive(1===e)})),t.currSlide=this.itemHolders[1]?.slide,t.contentLoader.updateLazy(e),t.currSlide&&t.currSlide.applyCurrentZoomPan(),t.dispatch("change")}moveTo(t,e){if(!this.pswp.canLoop()&&e){let e=(this.slideWidth*this._currPositionIndex-t)/this.slideWidth;e+=this.pswp.currIndex;const i=Math.round(t-this.x);(e<0&&i>0||e>=this.pswp.getNumItems()-1&&i<0)&&(t=this.x+.35*i)}this.x=t,this.pswp.container&&b(this.pswp.container,t),this.pswp.dispatch("moveMainScroll",{x:t,dragging:e??!1})}}const U={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9},G=(t,e)=>e?t:U[t];class K{constructor(t){this.pswp=t,this._wasFocused=!1,t.on("bindEvents",(()=>{t.options.initialPointerPos||this._focusRoot(),t.events.add(document,"focusin",this._onFocusIn.bind(this)),t.events.add(document,"keydown",this._onKeyDown.bind(this))}));const e=document.activeElement;t.on("destroy",(()=>{t.options.returnFocus&&e&&this._wasFocused&&e.focus()}))}_focusRoot(){!this._wasFocused&&this.pswp.element&&(this.pswp.element.focus(),this._wasFocused=!0)}_onKeyDown(t){const{pswp:e}=this;if(e.dispatch("keydown",{originalEvent:t}).defaultPrevented)return;if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t))return;let i,s,n=!1;const o="key"in t;switch(o?t.key:t.keyCode){case G("Escape",o):e.options.escKey&&(i="close");break;case G("z",o):i="toggleZoom";break;case G("ArrowLeft",o):s="x";break;case G("ArrowUp",o):s="y";break;case G("ArrowRight",o):s="x",n=!0;break;case G("ArrowDown",o):n=!0,s="y";break;case G("Tab",o):this._focusRoot()}if(s){t.preventDefault();const{currSlide:o}=e;e.options.arrowKeys&&"x"===s&&e.getNumItems()>1?i=n?"next":"prev":o&&o.currZoomLevel>o.zoomLevels.fit&&(o.pan[s]+=n?-80:80,o.panTo(o.pan.x,o.pan.y))}i&&(t.preventDefault(),e[i]())}_onFocusIn(t){const{template:e}=this.pswp;e&&document!==t.target&&e!==t.target&&!e.contains(t.target)&&e.focus()}}const Y="cubic-bezier(.4,0,.22,1)";class X{constructor(t){this.props=t;const{target:e,onComplete:i,transform:s,onFinish:n=(()=>{}),duration:o=333,easing:a=Y}=t;this.onFinish=n;const r=s?"transform":"opacity",h=t[r]??"";this._target=e,this._onComplete=i,this._finished=!1,this._onTransitionEnd=this._onTransitionEnd.bind(this),this._helperTimeout=setTimeout((()=>{P(e,r,o,a),this._helperTimeout=setTimeout((()=>{e.addEventListener("transitionend",this._onTransitionEnd,!1),e.addEventListener("transitioncancel",this._onTransitionEnd,!1),this._helperTimeout=setTimeout((()=>{this._finalizeAnimation()}),o+500),e.style[r]=h}),30)}),0)}_onTransitionEnd(t){t.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._helperTimeout&&clearTimeout(this._helperTimeout),P(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}class Q{constructor(t,e,i){this.velocity=1e3*t,this._dampingRatio=e||.75,this._naturalFrequency=i||12,this._dampedFrequency=this._naturalFrequency,this._dampingRatio<1&&(this._dampedFrequency*=Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(t,e){let i,s=0;e/=1e3;const n=Math.E**(-this._dampingRatio*this._naturalFrequency*e);if(1===this._dampingRatio)i=this.velocity+this._naturalFrequency*t,s=(t+i*e)*n,this.velocity=s*-this._naturalFrequency+i*n;else if(this._dampingRatio<1){i=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*t+this.velocity);const o=Math.cos(this._dampedFrequency*e),a=Math.sin(this._dampedFrequency*e);s=n*(t*o+i*a),this.velocity=s*-this._naturalFrequency*this._dampingRatio+n*(-this._dampedFrequency*t*a+this._dampedFrequency*i*o)}return s}}class J{constructor(t){this.props=t,this._raf=0;const{start:e,end:i,velocity:s,onUpdate:n,onComplete:o,onFinish:a=(()=>{}),dampingRatio:r,naturalFrequency:h}=t;this.onFinish=a;const l=new Q(s,r,h);let d=Date.now(),c=e-i;const p=()=>{this._raf&&(c=l.easeFrame(c,Date.now()-d),Math.abs(c)<1&&Math.abs(l.velocity)<50?(n(i),o&&o(),this.onFinish()):(d=Date.now(),n(c+i),this._raf=requestAnimationFrame(p)))};this._raf=requestAnimationFrame(p)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=0}}class tt{constructor(){this.activeAnimations=[]}startSpring(t){this._start(t,!0)}startTransition(t){this._start(t)}_start(t,e){const i=e?new J(t):new X(t);return this.activeAnimations.push(i),i.onFinish=()=>this.stop(i),i}stop(t){t.destroy();const e=this.activeAnimations.indexOf(t);e>-1&&this.activeAnimations.splice(e,1)}stopAll(){this.activeAnimations.forEach((t=>{t.destroy()})),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((t=>!t.props.isPan||(t.destroy(),!1)))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((t=>!t.props.isMainScroll||(t.destroy(),!1)))}isPanRunning(){return this.activeAnimations.some((t=>t.props.isPan))}}class et{constructor(t){this.pswp=t,t.events.add(t.element,"wheel",this._onWheel.bind(this))}_onWheel(t){t.preventDefault();const{currSlide:e}=this.pswp;let{deltaX:i,deltaY:s}=t;if(e&&!this.pswp.dispatch("wheel",{originalEvent:t}).defaultPrevented)if(t.ctrlKey||this.pswp.options.wheelToZoom){if(e.isZoomable()){let i=-s;1===t.deltaMode?i*=.05:i*=t.deltaMode?1:.002,i=2**i;const n=e.currZoomLevel*i;e.zoomTo(n,{x:t.clientX,y:t.clientY})}}else e.isPannable()&&(1===t.deltaMode&&(i*=18,s*=18),e.panTo(e.pan.x-i,e.pan.y-s))}}class it{constructor(t,e){const i=e.name||e.className;let s=e.html;if(!1===t.options[i])return;"string"==typeof t.options[i+"SVG"]&&(s=t.options[i+"SVG"]),t.dispatch("uiElementCreate",{data:e});let n="";e.isButton?(n+="pswp__button ",n+=e.className||`pswp__button--${e.name}`):n+=e.className||`pswp__${e.name}`;let o=e.isButton?e.tagName||"button":e.tagName||"div";o=o.toLowerCase();const a=g(n,o);if(e.isButton){"button"===o&&(a.type="button");let{title:s}=e;const{ariaLabel:n}=e;"string"==typeof t.options[i+"Title"]&&(s=t.options[i+"Title"]),s&&(a.title=s);const r=n||s;r&&a.setAttribute("aria-label",r)}a.innerHTML=function(t){if("string"==typeof t)return t;if(!t||!t.isCustomSVG)return"";const e=t;let i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return i=i.split("%d").join(e.size||32),e.outlineID&&(i+='<use class="pswp__icn-shadow" xlink:href="#'+e.outlineID+'"/>'),i+=e.inner,i+="</svg>",i}(s),e.onInit&&e.onInit(a,t),e.onClick&&(a.onclick=i=>{"string"==typeof e.onClick?t[e.onClick]():"function"==typeof e.onClick&&e.onClick(i,a,t)});const r=e.appendTo||"bar";let h=t.element;"bar"===r?(t.topBar||(t.topBar=g("pswp__top-bar pswp__hide-on-close","div",t.scrollWrap)),h=t.topBar):(a.classList.add("pswp__hide-on-close"),"wrapper"===r&&(h=t.scrollWrap)),h?.appendChild(t.applyFilters("uiElement",a,e))}}function st(t,e,i){t.classList.add("pswp__button--arrow"),t.setAttribute("aria-controls","pswp__items"),e.on("change",(()=>{e.options.loop||(t.disabled=i?!(e.currIndex<e.getNumItems()-1):!(e.currIndex>0))}))}const nt={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:st},ot={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(t,e)=>{st(t,e,!0)}},at={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},rt={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},ht={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(t,e)=>{let i,s=null;const n=e=>{var s,n;i!==e&&(i=e,s="active",n=e,t.classList.toggle("pswp__preloader--"+s,n))},o=()=>{if(!e.currSlide?.content.isLoading())return n(!1),void(s&&(clearTimeout(s),s=null));s||(s=setTimeout((()=>{n(Boolean(e.currSlide?.content.isLoading())),s=null}),e.options.preloaderDelay))};e.on("change",o),e.on("loadComplete",(t=>{e.currSlide===t.slide&&o()})),e.ui&&(e.ui.updatePreloaderVisibility=o)}},lt={name:"counter",order:5,onInit:(t,e)=>{e.on("change",(()=>{t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()}))}};function dt(t,e){t.classList.toggle("pswp--zoomed-in",e)}class ct{constructor(t){this.pswp=t,this.isRegistered=!1,this.uiElementsData=[],this.items=[],this.updatePreloaderVisibility=()=>{},this._lastUpdatedZoomLevel=void 0}init(){const{pswp:t}=this;this.isRegistered=!1,this.uiElementsData=[at,nt,ot,rt,ht,lt],t.dispatch("uiRegister"),this.uiElementsData.sort(((t,e)=>(t.order||0)-(e.order||0))),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach((t=>{this.registerElement(t)})),t.on("change",(()=>{t.element?.classList.toggle("pswp--one-slide",1===t.getNumItems())})),t.on("zoomPanUpdate",(()=>this._onZoomPanUpdate()))}registerElement(t){this.isRegistered?this.items.push(new it(this.pswp,t)):this.uiElementsData.push(t)}_onZoomPanUpdate(){const{template:t,currSlide:e,options:i}=this.pswp;if(this.pswp.opener.isClosing||!t||!e)return;let{currZoomLevel:s}=e;if(this.pswp.opener.isOpen||(s=e.zoomLevels.initial),s===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=s;const n=e.zoomLevels.initial-e.zoomLevels.secondary;if(Math.abs(n)<.01||!e.isZoomable())return dt(t,!1),void t.classList.remove("pswp--zoom-allowed");t.classList.add("pswp--zoom-allowed");dt(t,(s===e.zoomLevels.initial?e.zoomLevels.secondary:e.zoomLevels.initial)<=s),"zoom"!==i.imageClickAction&&"zoom-or-close"!==i.imageClickAction||t.classList.add("pswp--click-to-zoom")}}class pt{constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}class ut{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(t,e,i=100){this._filters[t]||(this._filters[t]=[]),this._filters[t]?.push({fn:e,priority:i}),this._filters[t]?.sort(((t,e)=>t.priority-e.priority)),this.pswp?.addFilter(t,e,i)}removeFilter(t,e){this._filters[t]&&(this._filters[t]=this._filters[t].filter((t=>t.fn!==e))),this.pswp&&this.pswp.removeFilter(t,e)}applyFilters(t,...e){return this._filters[t]?.forEach((t=>{e[0]=t.fn.apply(this,e)})),e[0]}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t]?.push(e),this.pswp?.on(t,e)}off(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((t=>e!==t))),this.pswp?.off(t,e)}dispatch(t,e){if(this.pswp)return this.pswp.dispatch(t,e);const i=new pt(t,e);return this._listeners[t]?.forEach((t=>{t.call(this,i)})),i}}class mt{constructor(t,e){if(this.element=g("pswp__img pswp__img--placeholder",t?"img":"div",e),t){const e=this.element;e.decoding="async",e.alt="",e.src=t,e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){this.element&&("IMG"===this.element.tagName?(L(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=S(0,0,t/250)):L(this.element,t,e))}destroy(){this.element?.parentNode&&this.element.remove(),this.element=null}}class gt{constructor(t,e,i){this.instance=e,this.data=t,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=I,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)}),1e3)}load(t,e){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new mt(t,this.slide.container)}this.element&&!e||this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented||(this.isImageContent()?(this.element=g("pswp__img","img"),this.displayedImageWidth&&this.loadImage(t)):(this.element=g("pswp__content","div"),this.element.innerHTML=this.data.html||""),e&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const e=this.element;this.updateSrcsetSizes(),this.data.srcset&&(e.srcset=this.data.srcset),e.src=this.data.src??"",e.alt=this.data.alt??"",this.state=A,e.complete?this.onLoaded():(e.onload=()=>{this.onLoaded()},e.onerror=()=>{this.onError()})}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=C,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==C&&this.state!==E||this.removePlaceholder())}onError(){this.state=E,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===A,this)}isError(){return this.state===E}isImageContent(){return"image"===this.type}setDisplayedSize(t,e){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,e),!this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented&&(L(this.element,t,e),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=e,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==E,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){let t=g("pswp__error-msg","div");t.innerText=this.instance.options?.errorMsg??"",t=this.instance.applyFilters("contentErrorElement",t,this),this.element=g("pswp__content pswp__error-msg-container","div"),this.element.appendChild(t),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===E)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||T())?(this.isDecoding=!0,this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=!1,this.appendImage()}))):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!T()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==C&&this.state!==E||this.removePlaceholder()))}}function yt(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){let a;n=new F(o,t,-1),a=e.pswp?e.pswp.viewportSize:O(o,e);const r=k(o,a,t,i);n.update(s.width,s.height,r)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}class ft{constructor(t){this.pswp=t,this.limit=Math.max(t.options.preload[0]+t.options.preload[1]+1,5),this._cachedItems=[]}updateLazy(t){const{pswp:e}=this;if(e.dispatch("lazyLoad").defaultPrevented)return;const{preload:i}=e.options,s=void 0===t||t>=0;let n;for(n=0;n<=i[1];n++)this.loadSlideByIndex(e.currIndex+(s?n:-n));for(n=1;n<=i[0];n++)this.loadSlideByIndex(e.currIndex+(s?-n:n))}loadSlideByIndex(t){const e=this.pswp.getLoopedIndex(t);let i=this.getContentByIndex(e);i||(i=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return yt(i,e,t)}(e,this.pswp),i&&this.addToCache(i))}getContentBySlide(t){let e=this.getContentByIndex(t.index);return e||(e=this.pswp.createContentFromData(t.data,t.index),this.addToCache(e)),e.setSlide(t),e}addToCache(t){if(this.removeByIndex(t.index),this._cachedItems.push(t),this._cachedItems.length>this.limit){const t=this._cachedItems.findIndex((t=>!t.isAttached&&!t.hasSlide));if(-1!==t){this._cachedItems.splice(t,1)[0].destroy()}}}removeByIndex(t){const e=this._cachedItems.findIndex((e=>e.index===t));-1!==e&&this._cachedItems.splice(e,1)}getContentByIndex(t){return this._cachedItems.find((e=>e.index===t))}destroy(){this._cachedItems.forEach((t=>t.destroy())),this._cachedItems=[]}}class vt extends ut{getNumItems(){let t=0;const e=this.options?.dataSource;e&&"length"in e?t=e.length:e&&"gallery"in e&&(e.items||(e.items=this._getGalleryDOMElements(e.gallery)),e.items&&(t=e.items.length));const i=this.dispatch("numItems",{dataSource:e,numItems:t});return this.applyFilters("numItems",i.numItems,e)}createContentFromData(t,e){return new gt(t,this,e)}getItemData(t){const e=this.options?.dataSource;let i={};Array.isArray(e)?i=e[t]:e&&"gallery"in e&&(e.items||(e.items=this._getGalleryDOMElements(e.gallery)),i=e.items[t]);let s=i;s instanceof Element&&(s=this._domElementToItemData(s));const n=this.dispatch("itemData",{itemData:s||{},index:t});return this.applyFilters("itemData",n.itemData,t)}_getGalleryDOMElements(t){return this.options?.children||this.options?.childSelector?function(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n="string"==typeof t?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}(this.options.children,this.options.childSelector,t)||[]:[t]}_domElementToItemData(t){const e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);const s=t.querySelector("img");s&&(e.msrc=s.currentSrc||s.src,e.alt=s.getAttribute("alt")??""),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return yt(t,this,e)}}const _t=.003;class wt{constructor(t){this.pswp=t,this.isClosed=!0,this.isOpen=!1,this.isClosing=!1,this.isOpening=!1,this._duration=void 0,this._useAnimation=!1,this._croppedZoom=!1,this._animateRootOpacity=!1,this._animateBgOpacity=!1,this._placeholder=void 0,this._opacityElement=void 0,this._cropContainer1=void 0,this._cropContainer2=void 0,this._thumbBounds=void 0,this._prepareOpen=this._prepareOpen.bind(this),t.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const t=this.pswp.currSlide;this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,t&&t.currZoomLevel*t.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps(),setTimeout((()=>{this._start()}),this._croppedZoom?30:0)}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const t=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,t&&t.zoomLevels.initial*t.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps()}}_applyStartProps(){const{pswp:t}=this,e=this.pswp.currSlide,{options:i}=t;if("fade"===i.showHideAnimationType?(i.showHideOpacity=!0,this._thumbBounds=void 0):"none"===i.showHideAnimationType?(i.showHideOpacity=!1,this._duration=0,this._thumbBounds=void 0):this.isOpening&&t._initialThumbBounds?this._thumbBounds=t._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=e?.getPlaceholderElement(),t.animations.stopAll(),this._useAnimation=Boolean(this._duration&&this._duration>50),this._animateZoom=Boolean(this._thumbBounds)&&e?.content.usePlaceholder()&&(!this.isClosing||!t.mainScroll.isShifted()),this._animateZoom?this._animateRootOpacity=i.showHideOpacity??!1:(this._animateRootOpacity=!0,this.isOpening&&e&&(e.zoomAndPanToInitial(),e.applyCurrentZoomPan())),this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>_t,this._opacityElement=this._animateRootOpacity?t.element:t.bg,!this._useAnimation)return this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,void(this.isOpening&&(t.element&&(t.element.style.opacity=String(_t)),t.applyBgOpacity(1)));this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect?(this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=this.pswp.currSlide?.holderElement,t.container&&(t.container.style.overflow="hidden",t.container.style.width=t.viewportSize.x+"px")):this._croppedZoom=!1,this.isOpening?(this._animateRootOpacity?(t.element&&(t.element.style.opacity=String(_t)),t.applyBgOpacity(1)):(this._animateBgOpacity&&t.bg&&(t.bg.style.opacity=String(_t)),t.element&&(t.element.style.opacity="1")),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(_t)))):this.isClosing&&(t.mainScroll.itemHolders[0]&&(t.mainScroll.itemHolders[0].el.style.display="none"),t.mainScroll.itemHolders[2]&&(t.mainScroll.itemHolders[2].el.style.display="none"),this._croppedZoom&&0!==t.mainScroll.x&&(t.mainScroll.resetPosition(),t.mainScroll.resize()))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&"IMG"===this._placeholder.tagName?new Promise((t=>{let e=!1,i=!0;var s;(s=this._placeholder,"decode"in s?s.decode().catch((()=>{})):s.complete?Promise.resolve(s):new Promise(((t,e)=>{s.onload=()=>t(s),s.onerror=e}))).finally((()=>{e=!0,i||t(!0)})),setTimeout((()=>{i=!1,e&&t(!0)}),50),setTimeout(t,250)})).finally((()=>this._initiate())):this._initiate()}_initiate(){this.pswp.element?.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),this.pswp.element?.classList.toggle("pswp--ui-visible",this.isOpening),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity="1"),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp:t}=this;this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,t.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),t.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed?t.destroy():this.isOpen&&(this._animateZoom&&t.container&&(t.container.style.overflow="visible",t.container.style.width="100%"),t.currSlide?.applyCurrentZoomPan())}_animateToOpenState(){const{pswp:t}=this;this._animateZoom&&(this._croppedZoom&&this._cropContainer1&&this._cropContainer2&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),t.currSlide&&(t.currSlide.zoomAndPanToInitial(),this._animateTo(t.currSlide.container,"transform",t.currSlide.getCurrentTransform()))),this._animateBgOpacity&&t.bg&&this._animateTo(t.bg,"opacity",String(t.options.bgOpacity)),this._animateRootOpacity&&t.element&&this._animateTo(t.element,"opacity","1")}_animateToClosedState(){const{pswp:t}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&t.bgOpacity>.01&&t.bg&&this._animateTo(t.bg,"opacity","0"),this._animateRootOpacity&&t.element&&this._animateTo(t.element,"opacity","0")}_setClosedStateZoomPan(t){if(!this._thumbBounds)return;const{pswp:e}=this,{innerRect:i}=this._thumbBounds,{currSlide:s,viewportSize:n}=e;if(this._croppedZoom&&i&&this._cropContainer1&&this._cropContainer2){const e=-n.x+(this._thumbBounds.x-i.x)+i.w,s=-n.y+(this._thumbBounds.y-i.y)+i.h,o=n.x-i.w,a=n.y-i.h;t?(this._animateTo(this._cropContainer1,"transform",S(e,s)),this._animateTo(this._cropContainer2,"transform",S(o,a))):(b(this._cropContainer1,e,s),b(this._cropContainer2,o,a))}s&&(y(s.pan,i||this._thumbBounds),s.currZoomLevel=this._thumbBounds.w/s.width,t?this._animateTo(s.container,"transform",s.getCurrentTransform()):s.applyCurrentZoomPan())}_animateTo(t,e,i){if(!this._duration)return void(t.style[e]=i);const{animations:s}=this.pswp,n={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{s.activeAnimations.length||this._onAnimationComplete()},target:t};n[e]=i,s.startTransition(n)}}const St={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class bt extends vt{constructor(t){super(),this.options=this._prepareOptions(t||{}),this.offset={x:0,y:0},this._prevViewportSize={x:0,y:0},this.viewportSize={x:0,y:0},this.bgOpacity=1,this.currIndex=0,this.potentialIndex=0,this.isOpen=!1,this.isDestroying=!1,this.hasMouse=!1,this._initialItemData={},this._initialThumbBounds=void 0,this.topBar=void 0,this.element=void 0,this.template=void 0,this.container=void 0,this.scrollWrap=void 0,this.currSlide=void 0,this.events=new D,this.animations=new tt,this.mainScroll=new V(this),this.gestures=new H(this),this.opener=new wt(this),this.keyboard=new K(this),this.contentLoader=new ft(this)}init(){if(this.isOpen||this.isDestroying)return!1;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let t="pswp--open";return this.gestures.supportsTouch&&(t+=" pswp--touch"),this.options.mainClass&&(t+=" "+this.options.mainClass),this.element&&(this.element.className+=" "+t),this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new et(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",(()=>{const{itemHolders:t}=this.mainScroll;t[0]&&(t[0].el.style.display="block",this.setContent(t[0],this.currIndex-1)),t[2]&&(t[2].el.style.display="block",this.setContent(t[2],this.currIndex+1)),this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")})),this.mainScroll.itemHolders[1]&&this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(t){const e=this.getNumItems();return this.options.loop&&(t>e-1&&(t-=e),t<0&&(t+=e)),w(t,0,e-1)}appendHeavy(){this.mainScroll.itemHolders.forEach((t=>{t.slide?.appendHeavy()}))}goTo(t){this.mainScroll.moveIndexBy(this.getLoopedIndex(t)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...t){this.currSlide?.zoomTo(...t)}toggleZoom(){this.currSlide?.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this._listeners={},this.scrollWrap&&(this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null),this.element?.remove(),this.mainScroll.itemHolders.forEach((t=>{t.slide?.destroy()})),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(t){this.contentLoader.removeByIndex(t),this.mainScroll.itemHolders.forEach(((e,i)=>{let s=(this.currSlide?.index??0)-1+i;this.canLoop()&&(s=this.getLoopedIndex(s)),s===t&&(this.setContent(e,t,!0),1===i&&(this.currSlide=e.slide,e.slide?.setIsActive(!0)))})),this.dispatch("change")}setContent(t,e,i){if(this.canLoop()&&(e=this.getLoopedIndex(e)),t.slide){if(t.slide.index===e&&!i)return;t.slide.destroy(),t.slide=void 0}if(!this.canLoop()&&(e<0||e>=this.getNumItems()))return;const s=this.getItemData(e);t.slide=new B(s,e,this),e===this.currIndex&&(this.currSlide=t.slide),t.slide.append(t.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(t){if(this.isDestroying)return;const e=O(this.options,this);!t&&_(e,this._prevViewportSize)||(y(this._prevViewportSize,e),this.dispatch("beforeResize"),y(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(t){this.bgOpacity=Math.max(t,0),this.bg&&(this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity))}mouseDetected(){this.hasMouse||(this.hasMouse=!0,this.element?.classList.add("pswp--has_mouse"))}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout((()=>{this.updateSize()}),500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(t,e){this.offset.x=t,this.offset.y=e,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=g("pswp","div"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=g("pswp__bg","div",this.element),this.scrollWrap=g("pswp__scroll-wrap","section",this.element),this.container=g("pswp__container","div",this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp__items"),this.mainScroll.appendHolders(),this.ui=new ct(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return function(t,e,i){const s=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(s.thumbBounds)return s.thumbBounds;const{element:n}=e;let o,a;if(n&&!1!==i.options.thumbSelector){const t=i.options.thumbSelector||"img";a=n.matches(t)?n:n.querySelector(t)}return a=i.applyFilters("thumbEl",a,e,t),a&&(o=e.thumbCropped?function(t,e,i){const s=t.getBoundingClientRect(),n=s.width/e,o=s.height/i,a=n>o?n:o,r=(s.width-e*a)/2,h=(s.height-i*a)/2,l={x:s.left+r,y:s.top+h,w:e*a};return l.innerRect={w:s.width,h:s.height,x:r,y:h},l}(a,e.width||e.w||0,e.height||e.h||0):function(t){const e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}(a)),i.applyFilters("thumbBounds",o,e,t)}(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(t){return window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(t.showHideAnimationType="none",t.zoomAnimationDuration=0),{...St,...t}}}function xt(t,e,i){const s=document.createElement(e);return t&&(s.className=t),i&&i.appendChild(s),s}function Pt(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const Lt="idle",It="loading",At="loaded",Ct="error";function Et(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n="string"==typeof t?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}function Tt(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}class zt{constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}class Dt{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(t,e,i=100){this._filters[t]||(this._filters[t]=[]),this._filters[t]?.push({fn:e,priority:i}),this._filters[t]?.sort(((t,e)=>t.priority-e.priority)),this.pswp?.addFilter(t,e,i)}removeFilter(t,e){this._filters[t]&&(this._filters[t]=this._filters[t].filter((t=>t.fn!==e))),this.pswp&&this.pswp.removeFilter(t,e)}applyFilters(t,...e){return this._filters[t]?.forEach((t=>{e[0]=t.fn.apply(this,e)})),e[0]}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t]?.push(e),this.pswp?.on(t,e)}off(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((t=>e!==t))),this.pswp?.off(t,e)}dispatch(t,e){if(this.pswp)return this.pswp.dispatch(t,e);const i=new zt(t,e);return this._listeners[t]?.forEach((t=>{t.call(this,i)})),i}}class Ot{constructor(t,e){if(this.element=xt("pswp__img pswp__img--placeholder",t?"img":"div",e),t){const e=this.element;e.decoding="async",e.alt="",e.src=t,e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){this.element&&("IMG"===this.element.tagName?(Pt(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;return void 0!==i&&(s+=` scale3d(${i},${i},1)`),s}(0,0,t/250)):Pt(this.element,t,e))}destroy(){this.element?.parentNode&&this.element.remove(),this.element=null}}class Mt{constructor(t,e,i){this.instance=e,this.data=t,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Lt,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)}),1e3)}load(t,e){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new Ot(t,this.slide.container)}this.element&&!e||this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented||(this.isImageContent()?(this.element=xt("pswp__img","img"),this.displayedImageWidth&&this.loadImage(t)):(this.element=xt("pswp__content","div"),this.element.innerHTML=this.data.html||""),e&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const e=this.element;this.updateSrcsetSizes(),this.data.srcset&&(e.srcset=this.data.srcset),e.src=this.data.src??"",e.alt=this.data.alt??"",this.state=It,e.complete?this.onLoaded():(e.onload=()=>{this.onLoaded()},e.onerror=()=>{this.onError()})}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=At,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==At&&this.state!==Ct||this.removePlaceholder())}onError(){this.state=Ct,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===It,this)}isError(){return this.state===Ct}isImageContent(){return"image"===this.type}setDisplayedSize(t,e){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,e),!this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented&&(Pt(this.element,t,e),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=e,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Ct,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){let t=xt("pswp__error-msg","div");t.innerText=this.instance.options?.errorMsg??"",t=this.instance.applyFilters("contentErrorElement",t,this),this.element=xt("pswp__content pswp__error-msg-container","div"),this.element.appendChild(t),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Ct)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||Tt())?(this.isDecoding=!0,this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=!1,this.appendImage()}))):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!Tt()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==At&&this.state!==Ct||this.removePlaceholder()))}}function kt(t,e,i,s,n){let o=0;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(o=e[i])}return Number(o)||0}class Zt{constructor(t,e,i,s){this.pswp=s,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s,this.panAreaSize=i;const n=i.x/s.x,o=i.y/s.y;this.fit=Math.min(1,n<o?n:o),this.fill=Math.min(1,n>o?n:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(t){const e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}function Ft(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){let a;n=new Zt(o,t,-1),a=e.pswp?e.pswp.viewportSize:function(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(o,e);const r=function(t,e,i,s){return{x:e.x-kt("left",t,e,i,s)-kt("right",t,e,i,s),y:e.y-kt("top",t,e,i,s)-kt("bottom",t,e,i,s)}}(o,a,t,i);n.update(s.width,s.height,r)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}class Bt extends Dt{getNumItems(){let t=0;const e=this.options?.dataSource;e&&"length"in e?t=e.length:e&&"gallery"in e&&(e.items||(e.items=this._getGalleryDOMElements(e.gallery)),e.items&&(t=e.items.length));const i=this.dispatch("numItems",{dataSource:e,numItems:t});return this.applyFilters("numItems",i.numItems,e)}createContentFromData(t,e){return new Mt(t,this,e)}getItemData(t){const e=this.options?.dataSource;let i={};Array.isArray(e)?i=e[t]:e&&"gallery"in e&&(e.items||(e.items=this._getGalleryDOMElements(e.gallery)),i=e.items[t]);let s=i;s instanceof Element&&(s=this._domElementToItemData(s));const n=this.dispatch("itemData",{itemData:s||{},index:t});return this.applyFilters("itemData",n.itemData,t)}_getGalleryDOMElements(t){return this.options?.children||this.options?.childSelector?Et(this.options.children,this.options.childSelector,t)||[]:[t]}_domElementToItemData(t){const e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);const s=t.querySelector("img");s&&(e.msrc=s.currentSrc||s.src,e.alt=s.getAttribute("alt")??""),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return Ft(t,this,e)}}class qt extends Bt{constructor(t){super(),this.options=t||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Et(this.options.gallery,this.options.gallerySelector).forEach((t=>{t.addEventListener("click",this.onThumbnailsClick,!1)}))}onThumbnailsClick(t){if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t)||window.pswp||!1===window.navigator.onLine)return;let e={x:t.clientX,y:t.clientY};e.x||e.y||(e=null);let i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);const s={gallery:t.currentTarget};i>=0&&(t.preventDefault(),this.loadAndOpen(i,s,e))}getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const e=t.target,i=Et(this.options.children,this.options.childSelector,t.currentTarget).findIndex((t=>t===e||t.contains(e)));return-1!==i?i:this.options.children||this.options.childSelector?-1:0}loadAndOpen(t,e,i){return!window.pswp&&(this.options.index=t,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(t,e),!0)}preload(t,e){const{options:i}=this;e&&(i.dataSource=e);const s=[],n=typeof i.pswpModule;if("function"==typeof(o=i.pswpModule)&&o.prototype&&o.prototype.goTo)s.push(Promise.resolve(i.pswpModule));else{if("string"===n)throw new Error("pswpModule as string is no longer supported");if("function"!==n)throw new Error("pswpModule is not valid");s.push(i.pswpModule())}var o;"function"==typeof i.openPromise&&s.push(i.openPromise()),!1!==i.preloadFirstSlide&&t>=0&&(this._preloadedContent=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return Ft(i,e,t)}(t,this));const a=++this._uid;Promise.all(s).then((t=>{if(this.shouldOpen){const e=t[0];this._openPhotoswipe(e,a)}}))}_openPhotoswipe(t,e){if(e!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const i="object"==typeof t?new t.default(this.options):new t(this.options);this.pswp=i,window.pswp=i,Object.keys(this._listeners).forEach((t=>{this._listeners[t]?.forEach((e=>{i.on(t,e)}))})),Object.keys(this._filters).forEach((t=>{this._filters[t]?.forEach((e=>{i.addFilter(t,e.fn,e.priority)}))})),this._preloadedContent&&(i.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),i.on("destroy",(()=>{this.pswp=void 0,delete window.pswp})),i.init()}destroy(){this.pswp?.destroy(),this.shouldOpen=!1,this._listeners={},Et(this.options.gallery,this.options.gallerySelector).forEach((t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)}))}}var jt=function(){function t(){}return t.prototype.apply=function(){new qt({gallerySelector:"#js_article-content",childSelector:".js_gallery-image",pswpModule:bt}).init()},t}(),Nt=function(){function t(t){this.themeStorage=t,this.theme=this.themeStorage.getUserTheme(),this.lightbulb=document.getElementsByClassName("js_light-dark-toggle")[0],this.lightbulbImage=document.getElementsByClassName("js_lightbulb-image")[0],this.moreRtlBrandLogo=document.getElementById("rtl-brand"),this.setElementsBasedOnTheme()}return t.prototype.apply=function(){var t=this;this.lightbulb&&(this.lightbulb.onclick=function(){t.toggleTheme()})},t.prototype.toggleTheme=function(){this.theme="light"===this.theme?"dark":"light",document.documentElement.setAttribute("data-theme",this.theme),this.themeStorage.setUserTheme(this.theme),this.setElementsBasedOnTheme()},t.prototype.setElementsBasedOnTheme=function(){"light"===this.theme?this.enableLightMode():"dark"===this.theme&&this.enableDarkMode()},t.prototype.enableLightMode=function(){this.sendThemeToggledEvent("light"),this.setLightbulb("off"),this.setRtlBrandLogo("off")},t.prototype.enableDarkMode=function(){this.sendThemeToggledEvent("dark"),this.setLightbulb("on"),this.setRtlBrandLogo("on")},t.prototype.setLightbulb=function(t){this.lightbulbImage&&this.lightbulbImage.setAttribute("src","/themes/custom/rtlnieuws/images/icon/lightbulb-".concat(t,".svg"))},t.prototype.setRtlBrandLogo=function(t){this.moreRtlBrandLogo&&this.moreRtlBrandLogo.setAttribute("fill","on"===t?"#fff":"#000")},t.prototype.sendThemeToggledEvent=function(e){var i=new CustomEvent(t.THEME_TOGGLED_EVENT_NAME,{detail:{theme:e}});window.dispatchEvent(i)},t.THEME_TOGGLED_EVENT_NAME="RTL.theme_toggled",t}(),Rt=function(){function t(t){this.jquery=t,this.LATEST_NEWS_API_URL="/net-binnen?_format=json&v=2",this.latestNewsList=document.getElementsByClassName("js_latest-news-block__list")[0]}return t.prototype.apply=function(){var t=this;this.shouldApply()&&this.jquery.ajax({type:"GET",url:this.LATEST_NEWS_API_URL,success:function(e){for(var i=e.items.slice(0,5),s=0;s<i.length;s++){t.latestNewsList.querySelectorAll("li")[s].innerHTML=t.getNewsItemTemplate(i[s])}},error:function(t,e){}})},t.prototype.shouldApply=function(){return void 0!==this.latestNewsList},t.prototype.getNewsItemTemplate=function(t){var e=new Date(1e3*t.aangemaaktDatum.timestamp),i="artikel"===t.metadata.entityBundle;return'\n            <a href="'.concat(t.urlAlias,'" class="latest-news-block-item__link">\n                <span class="latest-news-block-item__time">').concat(("0"+e.getHours()).slice(-2),":").concat(("0"+e.getMinutes()).slice(-2),'</span>\n                <div class="latest-news-block-item__title">\n                    ').concat(!1===i?'<span class="opening-net-binnen-item__entity-type-label">'.concat(t.metadata.entityBundle,"</span>"):"","\n                    ").concat(t.titel,"\n                </div>\n            </a>\n    ")},t}(),Wt=function(){function t(){this.logo=document.querySelector(".footer__logo"),this.breakingAudio=new Audio("/themes/custom/rtlnieuws/audio/breaking.mp3")}return t.prototype.init=function(){var t=this;this.logo&&(this.clickCounter=0,this.logo.addEventListener("click",(function(){if(0===t.clickCounter&&(t.timeLimit=setTimeout((function(){t.clickCounter=0}),3e3)),++t.clickCounter,t.clickCounter>=8){if(!1===t.breakingAudio.paused)return;t.breakingAudio.play(),t.clickCounter=0,t.logo.classList.add("easter-egg"),setTimeout((function(){return t.logo.classList.remove("easter-egg")}),1200),clearTimeout(t.timeLimit)}})))},t}(),Ht=function(){function t(){}return t.prototype.init=function(){if(!1!==this.shouldApply()){var t=new IntersectionObserver((function(t,e){t.forEach((function(t){if(!1===t.isIntersecting){if(null===(e=t.target.querySelector(".rtl-player__video")))return;if(null==(i=e.querySelector("video")))return;!1===i.paused&&e.classList.add("rtl-player--pip")}if(!0===t.isIntersecting){var e,i;if(null===(e=t.target.querySelector(".rtl-player__video")))return;if(null==(i=e.querySelector("video")))return;e.classList.remove("rtl-player--pip")}}))}),{threshold:[.6]}),e=document.querySelectorAll(".rtl-player");e.forEach((function(e){t.observe(e)})),window.addEventListener("player-pip-exit",(function(){e.forEach((function(t){var e=t.querySelector(".rtl-player__video");null!==e&&(e.querySelector("video").pause(),e.classList.remove("rtl-player--pip"))}))})),window.addEventListener("player-play",(function(t){e.forEach((function(e){if(e.dataset.uuid!==t.detail.uuid){var i=e.querySelector(".rtl-player__video");if(null===i)return;i.classList.remove("rtl-player--pip")}}))}))}},t.prototype.initVideoPlayListener=function(){window.addEventListener("player-play",(function(t){document.querySelectorAll(".rtl-player").forEach((function(e){e.dataset.uuid!==t.detail.uuid&&e.querySelector("video").pause()}))}))},t.prototype.shouldApply=function(){return!0},t}(),Vt=function(){function t(t){this.embedAwareThemeService=t}return t.prototype.initListener=function(){var t=this;window.addEventListener(Nt.THEME_TOGGLED_EVENT_NAME,(function(e){t.embedAwareThemeService.applyThemeEmbedsOnPage(e.detail.theme)}))},t}(),Ut=function(){function t(){this.DOMAIN_PARAMETER_MAP=new Map([["timepath.co","darkMode"]])}return t.prototype.applyThemeEmbedsOnPage=function(t){var e=this;this.loadPageEmbeds(),this.pageEmbeds.forEach((function(i){i.addEventListener("load",(function(){e.toggleIframeSrcTheme(i,t),e.toggleIframeDataSrcTheme(i,t)}))}))},t.prototype.loadPageEmbeds=function(){this.pageEmbeds=document.querySelectorAll("iframe")},t.prototype.toggleIframeSrcTheme=function(t,e){if(0!==t.src.length){var i=new URL(t.src),s=this.DOMAIN_PARAMETER_MAP.get(i.hostname);s&&(i.searchParams.set(s,"dark"===e?"true":"false"),t.src=i.href)}},t.prototype.toggleIframeDataSrcTheme=function(t,e){if(t.dataset.src){var i=new URL(t.dataset.src),s=this.DOMAIN_PARAMETER_MAP.get(i.hostname);s&&(i.searchParams.set(s,"dark"===e?"true":"false"),t.src=i.href)}},t}(),Gt=function(){function t(t,e){this.THEME_AWARE_EMBED_ORIGINS=["https://timepath.co"],this.initialized=!1,this.embedAwareThemeService=t,this.themeStorage=e}return t.prototype.init=function(){var t=this;window.onmessage=function(e){if(!0!==t.initialized&&!1!==t.THEME_AWARE_EMBED_ORIGINS.includes(e.origin)){var i=t.themeStorage.getUserTheme();t.embedAwareThemeService.applyThemeEmbedsOnPage(i),t.initialized=!0}}},t}(),Kt=function(){function t(t){this.localStorage=t}return t.prototype.getUserTheme=function(){var t;return null!==(t=localStorage.getItem("RTL.theme"))&&void 0!==t?t:"light"},t.prototype.setUserTheme=function(e){localStorage.setItem(t.LOCALSTORAGE_THEME_KEY,e)},t.LOCALSTORAGE_THEME_KEY="RTL.theme",t}(),$t=function(){function t(t,e){this.hiddenClassName="migration-banner--hidden",this.storageFactory=t,this.uuidService=e;var i=document.querySelector(".js-migration-banner");null!==i&&(this.initDismissButtonEventListener(i),this.initIndirectDismissEventListener(i),this.setBannerUrl(i),this.getCount()<3&&(this.showMigrationBanner(i),this.incrementBannerView()))}return t.getBannerStorageKeyName=function(){return"migration-banner-nieuws-rtlnl"},t.prototype.initDismissButtonEventListener=function(t){var e=this,i=t.querySelector(".js-dismiss");null!==i&&i.addEventListener("click",(function(){e.hideMigrationBanner(t),e.incrementBannerView(1)}))},t.prototype.initIndirectDismissEventListener=function(t){var e=this,i=t.querySelector(".js-migration-banner-background");null!==i&&i.addEventListener("click",(function(){e.hideMigrationBanner(t),e.incrementBannerView(1)}))},t.prototype.setBannerUrl=function(t){var e=t.querySelector(".js-migration-banner-cta");if(null!==e){var i=location.pathname,s="/nieuws";i.includes("/artikel/")?s=i:i.includes("/video/")&&this.getVideoCtaUrl(i)&&(s=this.getVideoCtaUrl(i)),e.href="https://www.rtl.nl".concat(s)}},t.prototype.getVideoCtaUrl=function(t){var e=t.split("/")[t.split("/").length-2];if(this.uuidService.isValidUuid(e)||!isNaN(+e)){if(this.uuidService.isValidUuid(e))return t;var i=document.querySelector(".js-video-page");if(null!==i)return t.replace(e,i.dataset.uuid)}},t.prototype.showMigrationBanner=function(t){t.classList.remove(this.hiddenClassName),this.disablePageScroll()},t.prototype.hideMigrationBanner=function(t){t.classList.add(this.hiddenClassName),this.enablePageScroll()},t.prototype.getCount=function(){var e=this.storageFactory.getStorage();if(!e)return 0;var i=t.getBannerStorageKeyName(),s=e.getItem(i);return Number(s)},t.prototype.incrementBannerView=function(e){void 0===e&&(e=1);var i=this.storageFactory.getStorage();if(i){var s=t.getBannerStorageKeyName(),n=this.getCount();i.setItem(s,String(n+e))}},t.prototype.disablePageScroll=function(){var t=document.documentElement,e=document.body;t.classList.add("no-scroll"),e.classList.add("no-scroll")},t.prototype.enablePageScroll=function(){var t=document.documentElement,e=document.body;t.classList.remove("no-scroll"),e.classList.remove("no-scroll")},t}(),Yt=function(){function t(){}return t.prototype.getStorage=function(){var t,e=(new Date).toString();try{return window.localStorage.setItem(e,e),t=window.localStorage.getItem(e)===e,localStorage.removeItem(e),t&&localStorage}catch(t){}},t}(),Xt=function(){function t(){}return t.prototype.isValidUuid=function(t){return/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(t)},t}(),Qt=function(i){var s=new o,n=new Yt,d=new Kt(s),c=new Ut,g=new Xt;new t(jQuery).applyScrollingEffect(),new e(jQuery).applyToonMeerExpand();var y=new a(jQuery);y.showVideoOverlayAfterPlay(),y.initAutoplayToggle(),new r(jQuery,window.drupalSettings).render(),new h(jQuery).replaceAll(),new Nt(d).apply(),(new jt).apply(),new l(jQuery).apply(),(new u).apply();var f=new m;f.apply(),f.applyDirectionAwareHover(),new p(jQuery).render(),new Rt(jQuery).apply(),(new Wt).init();var v=new Ht;v.init(),v.initVideoPlayListener(),new Vt(c).initListener(),new Gt(c,d).init();new $t(n,g)};jQuery((function(t){var e=window.ge;void 0===e?Qt():e.ready((function(){Qt()}))}))}();etails:n}=null===(o=t.data)||void 0===o?void 0:o.retryData;new PaymentRequest([r],n,{}).canMakePayment().then((t=>{t&&e.setSessionVar("activePaymentMethod","applePay")})).catch((()=>{}))}qn=!1;const a=null===(i=document.body)||void 0===i?void 0:i.querySelector("iframe#".concat("dw-mrf"));a&&document.body.removeChild(a)}})),!qn||!r.activePaymentMethod){var t;const e=document.createElement("iframe");e.id="dw-mrf",e.setAttribute("allow","payment"),e.setAttribute("style","display:none;"),e.src=Vn,null===(t=document.body)||void 0===t||t.appendChild(e),qn=!0}}catch(e){}})(this)}}function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Kn extends Hn{constructor(e,t,r,n){window.__mrfCompass=Gn(Gn({data:[]},window.__mrfCompass||{}),e),super(e,t,r,n)}initialize(){}getEndpointDomain(){return"https://events.newsroom.bi"}getRFV(e){var t,n;null===(t=window)||void 0===t||null===(n=t.top)||void 0===n||n.marfeel.cmd.push(["compass",function(){var t=r((function*(t){t.getRFV(e)}));return function(e){return t.apply(this,arguments)}}()])}getTrackingCommonData(){return r((function*(){return new Promise((e=>{var t,n;null===(t=window)||void 0===t||null===(n=t.top)||void 0===n||n.marfeel.cmd.push(["compass",function(){var t=r((function*(t){return e(yield t.getTrackingCommonData())}));return function(e){return t.apply(this,arguments)}}()])}))}))()}}function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wn="mrfhud";class Zn extends Hn{constructor(e,t,n,i){var o,a;window.__mrfCompass=Xn(Xn({data:[],rm:{lazy:!0}},window.__mrfCompass||{}),e),super(e,t,n,i),function(e){k.apply(this,arguments)}(this,(a=Wn,r((function*(){return!!new URL(window.location.href).hash.includes(a)}))),S(Wn),S("activate-overlay"),(o="".concat("compass-overlay","_").concat(e.accountId),r((function*(){var e=yield _(o);return e&&e.active}))))}}m("compass",["consent","synchronizer","events"],function(){var e=r((function*(e,t){var[r,n]=t;yield O(e,r,n,1e3);try{var i;if(window.top!==window.self&&(null===(i=window.top)||void 0===i?void 0:i.marfeel.config.accountId)===e.accountId)return Promise.resolve(Kn)}catch(e){}return Promise.resolve(Zn)}));return function(t,r){return e.apply(this,arguments)}}());var Qn=a(181),$n=a.n(Qn),Yn=function(e){return e.INLINE="inline",e.FLOWCARDS="flowcards",e.COMPASS="compass",e.RECIRCULATION="recirculation",e.CONVERSIONS="conversions",e.CONTENT="content",e.AD_MANAGER="adManager",e.EXPERIMENTS="experiments",e.EXPERIMENTATION="experimentation",e.GOOGLE_OPTIMIZE="googleOptimize",e.PIANO="piano",e.GOAL_TRACKING="goalTracking",e.LOADER="loader",e.ECOMMERCE="ecommerce",e.MULTIMEDIA="multimedia",e.GENERIC_GOAL_TRACKING="genericGoalTracking",e.SITE_CONTEXT_SYNCHRONIZER="siteContextSynchronizer",e.SOCIAL_ACQUISITION="socialAcquisition",e.CONTEXT_EXPOSITION="contextExposition",e.APP_BANNER="appBanner",e.MARFEEL_OPTIMIZER="marfeelOptimizer",e.MARFEEL_PAY="marfeelPay",e.AFFILIATION_ENHANCER="affiliationEnhancer",e}({}),ei=function(){var e=r((function*(e){var t,r=e.canonical||(null===(t=e.location)||void 0===t?void 0:t.href)||"";if(!r)return"";var n=encodeURIComponent(r);return"url=".concat(n)}));return function(t){return e.apply(this,arguments)}}(),ti=function(){var e=r((function*(e){var t=e.userId;return t&&""!==t?"clid=".concat(t):""}));return function(t){return e.apply(this,arguments)}}(),ri=function(e){return e["2G"]="2g",e["3G"]="3g",e["4G"]="4g",e}(ri||{}),ni={[ri["2G"]]:70,[ri["3G"]]:750,[ri["4G"]]:Number.MAX_VALUE},ii="mrf-connection-speed",oi=[1059,1659,2223,2224,2225,2335,2336,2337,2338,2339,2340],ai=function(){var e=r((function*(e){if(!window.performance||!oi.includes(Number(e.siteId)||0))return"";var t=[...window.performance.getEntriesByType("navigation"),...window.performance.getEntriesByType("resource")].filter((e=>e.transferSize>1e4));if(!t.length){var{connection_kbps:r,connection_type:n}=yield _(ii);return r&&n?"kbps=".concat(r,"&ctyp=").concat(n):""}var i=t.reduce(((e,t)=>t.encodedBodySize>e.encodedBodySize?t:e)),o=i.encodedBodySize/1e3,a=i.responseEnd-i.responseStart,s=Math.round(8*o/(a/1e3)),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<ni[ri["2G"]]?ri["2G"]:e<ni[ri["3G"]]?ri["3G"]:ri["4G"]}(s);return x(ii,{connection_kbps:s,connection_type:c}),"kbps=".concat(s,"&ctyp=").concat(c)}));return function(t){return e.apply(this,arguments)}}(),si=function(){var e=r((function*(){var e=yield _("compass-conversions-counter-entry");if(!e)return"";var t=Object.keys(e).map((t=>"".concat(encodeURIComponent(t),",").concat(e[t])));return"".concat("cnv","=").concat(t.join(","))}));return function(){return e.apply(this,arguments)}}(),ci=function(){var e,t=arguments.length>1?arguments[1]:void 0;return null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(t,"").replace("true","").split("&").find((e=>e.startsWith("mrfexperiences=")||e.startsWith("mrfexp=")||e.startsWith("mrfdebug="))))||void 0===e?void 0:e.split("=")[1]},ui=e=>{if(e){var t=ci(e.hash,"#")||ci(e.search,"?");if(t)return t}return null},li=function(){var e=r((function*(e){var t=e.experienceId;return t&&""!==t?"id=".concat(t):""}));return function(t){return e.apply(this,arguments)}}();function di(e,t){if("provider"!==e)return t}var pi=function(){var e=r((function*(e){var t,r;if(null===(t=e.externalExperiences)||void 0===t||null===(r=t[Yn.FLOWCARDS])||void 0===r||!r.length)return"";var n=e.externalExperiences[Yn.FLOWCARDS].map((e=>{var t=e;return"object"==typeof e.renderProps&&(t.renderProps=JSON.stringify(e.renderProps)),t})),i=encodeURIComponent(JSON.stringify(n,di));return"dflwc=".concat(i)}));return function(t){return e.apply(this,arguments)}}(),fi=function(){var e=r((function*(e){return isNaN(e.firstVisit)?"":"fvst=".concat(e.firstVisit)}));return function(t){return e.apply(this,arguments)}}(),hi="mrfgeo=",mi=function(){var e=r((function*(e){return"geo=".concat((e=>{if(e){var t=e.search.replace("?","").split("&").find((e=>e.startsWith(hi)));if(t)return t.replace(hi,"")}return null})(e.location)||"__INJECT_GEO__")}));return function(t){return e.apply(this,arguments)}}(),vi=function(){var e=r((function*(e){var t=/hubspotutk=(.+?)(?:;|$)/.exec(e.cookies||"");return t?"hutk=".concat(t[1]):""}));return function(t){return e.apply(this,arguments)}}(),gi=function(){var e=r((function*(e){var t=e.pageTechnology?e.pageTechnology:0;return"ptch=".concat(t)}));return function(t){return e.apply(this,arguments)}}(),yi=function(){var e=r((function*(e){return isNaN(e.totalPageViews)?"":"pgv=".concat(e.totalPageViews)}));return function(t){return e.apply(this,arguments)}}(),bi=function(){var e=r((function*(e){if(!e.referrer)return"";var t=encodeURIComponent(e.referrer);return"ppg=".concat(t)}));return function(t){return e.apply(this,arguments)}}();function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pi="croupier-user-activity-entry",Ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(void 0===t)return e;var r=[...e.filter((e=>e!==t)),t];return r.length>100?r.slice(1):r};function ki(){return Si.apply(this,arguments)}function Si(){return(Si=r((function*(){return(yield _(Pi))||{sites:{}}}))).apply(this,arguments)}function Ci(){return(Ci=r((function*(e,t){var r,n=yield ki(),i=Oi(Oi({},n),{},{sites:Oi(Oi({},n.sites),{},{[e]:Oi(Oi({},n.sites[e]),{},{readEditorialIds:Ei(null===(r=n.sites[e])||void 0===r?void 0:r.readEditorialIds,t.editorialId)})})});return x(Pi,i)}))).apply(this,arguments)}var ji=function(){var e=r((function*(e){var{siteId:t}=e;if(void 0!==t){var r,n,i=(e=>e.sort(((e,t)=>e-t)).map(((e,t,r)=>{var n=e;return t>0&&(n-=r[t-1]),n})))(null!==(r=null===(n=(yield ki()).sites[t])||void 0===n?void 0:n.readEditorialIds)&&void 0!==r?r:[]);if(i.length>0)return"red=".concat(i.join(","))}return""}));return function(t){return e.apply(this,arguments)}}(),Ti=function(){var e=r((function*(e){if(!e.recirculationSource)return"";var t=encodeURIComponent(e.recirculationSource);return"rsrc=".concat(t)}));return function(t){return e.apply(this,arguments)}}(),Ai=function(){var e=r((function*(e){if(!e.sessionReferrer)return"";var t=new URL(e.sessionReferrer);t.hash="",t.search="";var r=encodeURIComponent(t.toString());return"ref=".concat(r)}));return function(t){return e.apply(this,arguments)}}(),Ii=function(){var e=r((function*(e){return isNaN(e.sessionDuration)?"":"sdu=".concat(e.sessionDuration)}));return function(t){return e.apply(this,arguments)}}(),_i=function(){var e=r((function*(e){return isNaN(e.siteId)?"":"sid=".concat(e.siteId)}));return function(t){return e.apply(this,arguments)}}(),Di=function(){var e=r((function*(e){var t,r=Object.assign({},e.targeting,(t=e.compassVars)?[...t.page,...t.user,...t.session].reduce(((e,t)=>{var[r,n]=t;return e[r]=n,e}),{}):{});return 0===Object.keys(r).length?"":Object.keys(r).filter((e=>void 0!==r[e])).map((e=>[e,encodeURIComponent(r[e])].join("="))).join("&")}));return function(t){return e.apply(this,arguments)}}(),xi=0,Ni=1,Li=7,Ri=4,Mi=7,Ui=864e5;function Vi(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()+Ri-(t.getUTCDay()||Mi))),n=new Date(Date.UTC(r.getFullYear(),xi,Ni));return{week:Math.ceil(((r.getTime()-n.getTime())/Ui+1)/Li),year:r.getUTCFullYear()}}var qi=function(e){return e.impression="impression",e.close="close",e}({});function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hi,Bi,Gi,Ki="croupier-experiences-count-entry",Ji=(e,t)=>{var r=zi({total:{impression:0,close:0}},e||{}),n="w".concat(Gi.week);return r[n]=r[n]||{impression:0,close:0},r[n][t]++,r},Xi=(e,t)=>{var r=zi({total:{impression:0,close:0}},e||{});return r.total[t]++,r[Bi.getMonth()]=((e,t)=>{var r=zi({total:{impression:0,close:0}},e||{}),n=Bi.getDate();return r[n]=r[n]||{impression:0,close:0},r[n][t]++,r.total[t]++,r})(r[Bi.getMonth()],t),r};function Wi(){return void 0===Hi&&(Bi=new Date(Date.now()),Gi=Vi(Bi),Hi=_(Ki).then((e=>e||{}))),Hi}function Zi(e,t){return Wi().then((r=>{r[e]=function(e,t){var r=zi({total:{impression:0,close:0},last:{impression:0,close:0}},e||{});return r.total[t]++,r[Bi.getFullYear()]=Xi(r[Bi.getFullYear()],t),r[Gi.year]=Ji(r[Gi.year],t),r.last[t]=Number(Date.now()),r}(r[e],t),x(Ki,r)}))}var Qi=function(e){return e.lifetime="l",e.month="m",e.week="w",e.day="d",e}(Qi||{}),$i=function(e){return e.last="ls",e}($i||{}),Yi="c",eo=e=>{if(!e)return 0;var t=Date.now()-e;return Math.floor(t/1e3)},to=(e,t,r,n)=>{var{impression:i,close:o}=n;i>0&&e.has(r)&&t.push(r,String(i)),o>0&&e.has("".concat(Yi).concat(r))&&t.push("".concat(Yi).concat(r),String(o))},ro=new Map([...Object.entries(Qi),...Object.entries($i)].reduce(((e,t)=>{var[r,n]=t;return e.push([r,n]),e.push(["".concat(Yi,"_").concat(r),"".concat(Yi).concat(n)]),e}),[])),no=function(){var e=r((function*(e){var t,r=new Map(Object.entries(null!==(t=e.userExperiences)&&void 0!==t?t:{}).map((e=>{var[t,r]=e,n=[];return r.forEach((e=>{ro.has(e)&&n.push(ro.get(e))})),[t,new Set(n)]})));return Wi().then((e=>{var t=Object.entries(e).reduce(((e,t)=>{var[n,i]=t,o=[],a=r.get(n);if(!i||0===i.total.impression||!a)return e;!function(e,t,r){to(e,t,Qi.lifetime,r.total)}(a,o,i);var s=new Date(Date.now()),c=Vi(s),u=i[s.getFullYear()],l=i[c.year],d=null==u?void 0:u[s.getMonth()],p=null==d?void 0:d[s.getDate()];!function(e,t,r){r&&to(e,t,Qi.month,r.total)}(a,o,d),function(e,t,r,n){if(r){var i=r["w".concat(n.week)];i&&to(e,t,Qi.week,i)}}(a,o,l,c),function(e,t,r){r&&to(e,t,Qi.day,r)}(a,o,p),((e,t,r)=>{r.last&&to(e,t,$i.last,{impression:eo(r.last.impression),close:eo(r.last.close)})})(a,o,i);var f=o.join("|");return f.length>0?e.concat(n,f):e}),[]);return t.length>0?"uexp=".concat(t.join(",")):""}))}));return function(t){return e.apply(this,arguments)}}(),io=function(){var e=r((function*(e){return Array.isArray(e.userSegments)?"useg=".concat(e.userSegments.join(",")):""}));return function(t){return e.apply(this,arguments)}}(),oo=function(){var e=r((function*(e){return isNaN(e.userType)?"":"utyp=".concat(e.userType)}));return function(t){return e.apply(this,arguments)}}(),ao=e=>{try{return decodeURIComponent(e),!0}catch(e){return!1}},so=function(e){return e.USQP="usqp",e.CAMPAIGN="utm_campaign",e.CONTENT="utm_content",e.MEDIUM="utm_medium",e.SOURCE="utm_source",e}(so||{}),co={[so.CAMPAIGN]:"u_cpg",[so.CONTENT]:"u_cnt",[so.MEDIUM]:"u_mdm",[so.SOURCE]:"u_src"},uo={canonical_url:"url",client_id:"clid",connection_speed:"cspd",conversions:"cnv",dynamic_flowcards:"dflwc",experience_id:"id",first_visit:"fvst",hubspot_utk:"hutk",page_technology:"ptch",pageviews:"pgv",previous_page:"ppg",recirculation_source:"rsrc",referrer:"ref",session_duration:"sdu",site_id:"sid",targeting:"trg",user_experiences:"uexp",user_type:"utyp",visitor_frequency:"vfrq"},lo={url:ei,clid:ti,cspd:ai,cnv:si,debug_experiences:e=>{var t=ui(e.location);return Promise.resolve(t?"debug_experiences=".concat(t):"")},dflwc:pi,fvst:fi,geo:mi,hutk:vi,id:li,ptch:gi,pgv:yi,ppg:bi,pti:e=>{var t=e.publishTime;return Promise.resolve(t?"pti=".concat(t):"")},qpa:e=>{var t=e.location,r=[];if(t)for(var n of Array.from(t.searchParams.keys()).reverse())-1===r.indexOf(n)&&r.push(n);return Promise.resolve(r.length>0?"qpa=".concat(r.reverse().join(",")):"")},rsrc:Ti,red:ji,ref:Ai,sdu:Ii,sid:_i,trg:Di,uexp:no,useg:io,utyp:oo,utms:function(){var e=r((function*(e){var t=e.location;if(!t)return"";var r=Object.values(so);return Array.from(t.searchParams.entries()).filter((e=>{var[t]=e;return r.includes(t)})).map((e=>{var t,[r,n]=e;return"".concat(null!==(t=co[r])&&void 0!==t?t:r,"=").concat(n)})).filter(ao).join("&")}));return function(t){return e.apply(this,arguments)}}(),vfrq:function(){var e=r((function*(e){return e.hasConsent?"":"".concat("vfrq","=").concat("6")}));return function(t){return e.apply(this,arguments)}}()},po=function(){var e=r((function*(e,t,r){var n=yield Promise.all((e=>{var t=Object.entries(lo);if(!e)return t;var r=new Set(Array.from(e.values()).map((e=>{var t;return null!==(t=uo[e])&&void 0!==t?t:e})));return r.add("sid"),r.add("ptch"),t.filter((e=>{var[t]=e;return r.has(t)}))})(r).map((t=>{var[r,n]=t;return n(e)})));return"".concat(t,"?").concat(n.filter((e=>!!e)).join("&"))}));return function(t,r,n){return e.apply(this,arguments)}}();function fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mo(e){var t=e[Yn.FLOWCARDS];return t&&!t.actions?ho(ho({},e),{},{[Yn.FLOWCARDS]:ho(ho({},t),{},{actions:t.cards})}):e}function vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yo=function(e){return e.POST_MESSAGE="postmessage",e.HTTP="http",e}({});function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oo=e=>e.reduce(((e,t)=>wo(wo({},e),{},{[t.origin]:t.goal})),{}),Po=function(){var e=r((function*(e,t){var r={handlerName:"content",handled:!1};return t.config.accountId&&e.content&&(r.handled=yield function(e,t){return Ci.apply(this,arguments)}(t.config.accountId,e.content)),Promise.resolve(r)}));return function(t,r){return e.apply(this,arguments)}}(),Eo=a(539);function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Co,jo=(e,t)=>{var r;if("object"==typeof e){r=e;for(var n=t.split("."),i=0;i<n.length;i++){var o;if(n[i].startsWith("[")&&n[i].endsWith("]"))try{var a=parseInt(n[i].replace("[","").replace("]",""),10);r=Array.from(r)[a]}catch(e){r=void 0}else if(i===n.length-1&&"function"==typeof(null===(o=r)||void 0===o?void 0:o[n[i]])){var s,c,u;r=null===(s=r)||void 0===s||null===(c=(u=s)[n[i]])||void 0===c?void 0:c.call(u)}else{var l;r=null===(l=r)||void 0===l?void 0:l[n[i]]}}}return r},To=(e,t)=>{if(void 0===t)return!0;if(void 0!==e&&"*"===t)return!0;if(e===t)return!0;if(Array.isArray(t)){var r=Array.from(e);if(r.length>=t.length)return t.map(((e,t)=>To(r[t],e))).every(Boolean)}return"object"==typeof e&&"object"==typeof t&&Object.entries(t).map((t=>{var[r,n]=t;return To(e[r],n)})).every(Boolean)},Ao=(e,t)=>{switch(t.type){case"composite":return Array.isArray(t.value)?t.value.map((t=>Ao(e,t))):Object.entries(t.value).reduce(((t,r)=>{var[n,i]=r;return So(So({},t),{},{[n]:Ao(e,i)})}),{});case"lookup":return t.value?jo(e,t.value):e;default:return t.value}},Io=e=>{var t,r,n=e.hasTrackedAds();return e.getEngagedTime()>=5&&(n||null===(t=window.googletag)||void 0===t||null===(r=t.cmd)||void 0===r||r.push((()=>{e.setPageVar("mrf::optimized","true"),window.googletag.pubads().refresh()})),!0)};function _o(){return(_o=r((function*(e){var t=yield po(e,"https://experiences.mrf.io/recommenderexperience/render.json",new Set(["canonical_url","client_id","experience_id"])),r=yield fetch(t),n=yield r.json();return null==n?void 0:n.recommendation}))).apply(this,arguments)}!function(e){e.AMP_DOCUMENT="AMPDocument",e.WIDGET_PROVIDER="WidgetProvider",e.AD_SERVER_PROVIDER="AdServerProvider",e.TEXT_HTML="TextHTML",e.CONTAINER="Container"}(Co||(Co={}));var Do=e=>e.type===Co.AMP_DOCUMENT,xo=e=>e.type===Co.TEXT_HTML;function No(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?No(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):No(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ro="mrf-sdk-hero-element-src",Mo="mrf-sdk-hero-element-height",Uo=(e,t)=>{if(e.has(Ro)){var r={src:e.get(Ro)};return e.has(Mo)&&(r.height=parseInt(e.get(Mo),10)),Lo(Lo({},t),{},{heroElement:r})}return t};function Vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fo="mrf-sdk-canonical-url",zo=(e,t)=>{if(e.has(Fo)){var r={url:e.get(Fo)};return qo(qo({},t),{},{canonical:r})}return t},Ho=e=>e.includes("marfeelrecommenderexperienceengine.mrf.io");function Bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ko(){return(Ko=r((function*(e){try{var{headers:t}=yield fetch(e.url);return function(e){var t=[Uo];return Ho(e.url)||t.push(zo),t}(e).reduce(((e,r)=>r(t,e)),{})}catch(t){throw new Error("".concat(t,"::").concat(e.url))}}))).apply(this,arguments)}function Jo(e){return Xo.apply(this,arguments)}function Xo(){return Xo=r((function*(e){return Object.entries(e).map(function(){var e=r((function*(e){var t,r,[n,i]=e;return r=i.content,(Do(r)||xo(r))&&(t=yield function(e){return Ko.apply(this,arguments)}(i.content)),[n,i,t]}));return function(t){return e.apply(this,arguments)}}()).reduce(function(){var e=r((function*(e,t){var r,n=yield e,[i,o,a]=yield t;return a&&(r=function(e,t){return Go(Go({},e),{},{features:Go(Go({},e.features),t)})}(o,a)),n[i]=r||o,n}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}))})),Xo.apply(this,arguments)}function Wo(e,t){return r=>{var n=r.detail;(null==n?void 0:n.owner)===t&&e({uri:n.uri})}}var Zo=[];function Qo(){return(Qo=r((function*(e,t){var r=Zo.map((r=>r(e,t)));return Promise.all(r).then((()=>Promise.resolve()))}))).apply(this,arguments)}var $o=()=>window.location.hash.includes("mrfdebug"),Yo=function(){var e=r((function*(e,t,r){var n,i,o,a,s=$o(),{userIdPromise:c,actualUserId:u}=t.getUserId(),l=s?u:yield c,d=!!s||(yield t.getUserConsent());return function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return po(e,"https://flowcards.mrf.io/json/experiences",t.length>0?new Set(t):void 0)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).then(fetch).then((e=>e.json())).then(mo)}({pageTechnology:t.getPageType(),canonical:(null===(n=document.querySelector('link[rel="canonical"]'))||void 0===n?void 0:n.getAttribute("href"))||void 0,location:new URL(window.location.toString()),publishTime:t.getPublishTime(),siteId:e.accountId,externalExperiences:e.experiences,targeting:e.targeting,userId:l,userSegments:t.getUserSegments(),userType:t.getUserType(),userExperiences:null===(i=e.preflight)||void 0===i||null===(o=i.preflight)||void 0===o||null===(a=o.targeting)||void 0===a?void 0:a.frequencyCap,firstVisit:t.getFirstVisit(),recirculationSource:t.getRecirculationSource(),referrer:t.getReferrer(),sessionDuration:t.getSessionDuration(),sessionReferrer:t.getSessionReferrer(),totalPageViews:t.getTotalPageviews(),cookies:document.cookie,compassVars:{user:t.getUserVars(),session:t.getSessionVars(),page:t.getPageVars()},hasConsent:d},r)}));return function(t,r,n){return e.apply(this,arguments)}}();function ea(e,t){var r=document.createElement("script");return r.setAttribute("type","application/javascript"),r.setAttribute("src",e),t&&(r.id=t),r}function ta(e){return(t,r)=>{var n=ea(t,r);n.setAttribute("type","module"),e.appendChild(n)}}function ra(e){return(t,r)=>{var n=ea(t,r);n.noModule=!0,n.async=!0,n.defer=!0,e.appendChild(n)}}function na(e){return(t,r)=>{var n=ea(t,r);e.appendChild(n)}}function ia(e){return"marfeel-".concat(e)}function oa(e){return function(e){return document.querySelector(ia(e))}(e)||function(e){return document.body.appendChild(document.createElement(ia(e)))}(e)}var aa,sa=function(){var e=r((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{onInteraction:r=!0,strategy:n="async"}=t;return(e=>{var t="string"!=typeof e?e.module:e;return!!document.querySelector('script[src="'.concat(t,'"]'))})(e)?Promise.resolve():(r?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e4,r=["touchstart","click","scroll"];return new Promise((n=>{var i=()=>{r.forEach((e=>((e,t)=>{document.removeEventListener(e,t)})(e,i))),window.clearTimeout(e),n()};r.forEach((e=>((e,t)=>{document.addEventListener(e,t,{passive:!0})})(e,i))),e=window.setTimeout(i,t)}))}():Promise.resolve()).then((()=>{"sync"===n?"string"!=typeof e?(function(){ta(document.head)(...arguments)}(e.module),function(){ra(document.head)(...arguments)}(e.nomodule)):function(){na(document.head)(...arguments)}(e):"string"!=typeof e?(function(){ta(document.body)(...arguments)}(e.module),function(){ra(document.body)(...arguments)}(e.nomodule)):function(){na(document.body)(...arguments)}(e)}))}));return function(t){return e.apply(this,arguments)}}(),ca=function(){var e=r((function*(e){var t;p(l.INIT_HANDLE_EXPERIMENTATION);var r=null===(t=e.experimentation)||void 0===t?void 0:t.actions,n={handlerName:Yn.EXPERIMENTATION,handled:!1};return r&&(yield Promise.all(Object.values(r).map((e=>{var{url:t}=e,r=new URL(t),n=r.searchParams.get("experimentType");if(null!==n&&document.querySelector('[src*="experimentType='.concat(n,'"]')))return Promise.resolve();var i=new URL(t);return r.searchParams.append("version","esnext"),i.searchParams.append("version","legacy"),sa({module:r.toString(),nomodule:i.toString()},{onInteraction:!1,strategy:"sync"})}))),n.handled=!0),f(l.INIT_HANDLE_EXPERIMENTATION,l.END_HANDLE_EXPERIMENTATION,{jsonResponse:e}),Promise.resolve(n)}));return function(t){return e.apply(this,arguments)}}();var ua="complete",la="interactive",da="loading",pa=()=>document.readyState===ua,fa=()=>document.readyState===la,ha=()=>{var e;return document.readyState===da&&!(null===(e=document.head)||void 0===e||!e.appendChild)},ma=function(){var e=r((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua;return new Promise((t=>{var r=(e=>{switch(e){case da:return[ha,fa,pa];case la:return[fa,pa];default:return[pa]}})(e),n=()=>r.some((e=>e()));n()?t():document.addEventListener("readystatechange",(()=>{n()&&t()}))}))}));return function(){return e.apply(this,arguments)}}();function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?va(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ya=function(){var e=r((function*(e,t,r){var{documentState:n=ua,prepare:i=(()=>Promise.resolve())}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};p(l.INIT_HANDLE_INLINE_EXPERIENCE);var o=t[e]||{actions:{}},a=o.actions||{},s={handlerName:e,handled:!1};if(Object.keys(a).length>0){yield i();var c=ga(ga({},o),{},{actions:yield Jo(o.actions)});yield ma(n),function(e,t){var r=document.createElement("script");r.setAttribute("type","application/json"),r.innerHTML=JSON.stringify(t);var n=oa(e);n.innerHTML="",n.appendChild(r),n.setAttribute("initialization","inline")}(e,c),yield r(c),s.handled=!0}return f(l.INIT_HANDLE_INLINE_EXPERIENCE,l.END_HANDLE_INLINE_EXPERIENCE,{type:e,jsonResponse:t}),s}));return function(t,r,n){return e.apply(this,arguments)}}();function ba(e,t){return t.id||e}function wa(e,t){Object.entries(t.actions).forEach((t=>{var[r,n]=t,i=function(e){var t;return(null===(t=e.features.canonical)||void 0===t?void 0:t.url)||(Do(e.content)||xo(e.content)?e.content.url:e.content.type===Co.WIDGET_PROVIDER||(e=>e.type===Co.AD_SERVER_PROVIDER)(e.content)?e.content.name:void 0)}(n);i&&e.trackRecirculationEvent("elegible",[{n:ba(r,n),e:[i]}],"")}))}var Oa,Pa,Ea="//flowcards.mrf.io/statics/experience-web",ka="".concat(Ea,"/index.es2015.standalone.js"),Sa="".concat(Ea,"/index.es5.standalone.js"),Ca=function(){var e=r((function*(e,t){if(matchMedia("only screen and (min-width:800px)").matches)return{handlerName:Yn.FLOWCARDS,handled:!1};var{compassSDK:n}=t;return ya(Yn.FLOWCARDS,e,function(){var e=r((function*(e){var t;wa(n,e),yield sa({module:ka,nomodule:Sa}),t=oa(Yn.FLOWCARDS),aa=[],t.addEventListener("snappointchange",(e=>{var{snapPoint:t,cardId:r}=e.detail;(function(e){return"initial"===e||"active"===e})(t)&&!function(e){return aa.indexOf(e)>-1}(r)&&function(e){aa.push(e),Zi(e,qi.impression)}(r)}))}));return function(t){return e.apply(this,arguments)}}())}));return function(t,r){return e.apply(this,arguments)}}(),ja=(e,t)=>e.includes(t),Ta="https://experiences.mrf.io/statics/inline-experiences",Aa="".concat(Ta,"/esnext/standalone.js"),Ia="".concat(Ta,"/legacy/standalone.js"),_a=function(){var e=r((function*(e){return ya(Yn.INLINE,e,function(){var e=r((function*(e){var t,{actions:r={}}=e;null===(t=window.mrfInlineExperiences)||void 0===t||t.init(),(e=>{Oa=[],Pa=[],Object.entries(e).forEach((e=>{var t,[r,n]=e;ja(Oa,n.id)||(t=n.id,Oa.push(t),Zi(t,qi.impression))})),document.addEventListener("mrfCloseInline",(e=>{var t,r=null===(t=e.detail)||void 0===t?void 0:t.id;ja(Pa,r)||(Pa.push(r),Zi(r,qi.close))}))})(r)}));return function(t){return e.apply(this,arguments)}}(),{documentState:la,prepare:(t=r((function*(){yield ma(da),yield sa({module:Aa,nomodule:Ia},{onInteraction:!1,strategy:"sync"})})),function(){return t.apply(this,arguments)})});var t}));return function(t){return e.apply(this,arguments)}}();function Da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Na=function(){var e=r((function*(e){var{loader:t={actions:{}},multimedia:r={actions:{}},ecommerce:n={actions:{}}}=e,i=Object.values(xa(xa(xa({},t.actions),r.actions),n.actions)),o={handlerName:Yn.LOADER,handled:!1};return i.length&&(Object.values(i).forEach((e=>{var{moduleName:t,config:r}=e;window.marfeel.cmd.push(["loader",function(e){e.load(t,r)}])})),o.handled=!0),Promise.resolve(o)}));return function(t){return e.apply(this,arguments)}}(),La=function(){var e=r((function*(e,t){var{contextExposition:r}=e,n=(null==r?void 0:r.actions)||{},i={handlerName:Yn.CONTEXT_EXPOSITION,handled:!1};return Object.keys(n).length&&(i.handled=!0,Object.values(n).forEach((e=>{var{contextVariables:r}=e;try{r&&t.compassSDK.setContext(JSON.parse(r))}catch(e){console.error("not valid JSON for the contextExposition experience")}}))),Promise.resolve(i)}));return function(t,r){return e.apply(this,arguments)}}(),Ra="closed",Ma=function(){var e=r((function*(e,t){var r,n,i=yield t.wait("piano-offer");return!("purchase"!==i.offerType||("inline"===i.displayMode?(e.compassSDK.setPageVar(Ra,"hard-paywall"),0):"modal"!==i.displayMode||!i.activeMeters||"DefaultMeter"!==(r=i.activeMeters,n=JSON.parse(r),Array.isArray(n)?n[0]:n).meterName||(e.compassSDK.setPageVar(Ra,"dynamic-paywall"),0)))}));return function(t,r){return e.apply(this,arguments)}}(),Ua="piano subscribe",Va=function(){var e=r((function*(e,t,r){var n,i=yield r.wait("piano-subscription"),o=t.find((e=>e.rid===i.rid));return!!o&&(e.compassSDK.trackConversion(null!==(n=o.conversion)&&void 0!==n?n:Ua),!0)}));return function(t,r,n){return e.apply(this,arguments)}}(),qa=function(){var e=r((function*(e,t,n){var i,o,a=yield Promise.all(t.map(function(){var t=r((function*(t){if(yield((e,t)=>new Promise((r=>{e.api.callApi("/access/check",{rid:t},(function(e){var t=e.access.granted;return r(t)}))})))(e,t.rid))return t}));return function(e){return t.apply(this,arguments)}}()));n.compassSDK.setUserType(null!==(i=null===(o=a.find(Boolean))||void 0===o?void 0:o.userType)&&void 0!==i?i:"logged")}));return function(t,r,n){return e.apply(this,arguments)}}(),Fa=function(){var e=r((function*(e,t){var r,n,i=null!==(r=null===(n=e.pianoId.getUser())||void 0===n?void 0:n.uid)&&void 0!==r?r:void 0;if(!i)try{var o,a;i=JSON.parse(atob(null===(o=e.pianoId.getToken())||void 0===o||null===(a=o.split("."))||void 0===a?void 0:a[1])).sub}catch(e){}i&&t.compassSDK.setSiteUserId(i)}));return function(t,r){return e.apply(this,arguments)}}(),za=function(){var e=r((function*(){if(window.tp&&!Array.isArray(window.tp)||(yield new Promise((e=>{!function(){window.tp=window.tp||[],Array.isArray(window.tp)&&window.tp.push(arguments)}("init",e)}))),window.tp&&!Array.isArray(window.tp))return window.tp}));return function(){return e.apply(this,arguments)}}(),Ha=e=>Array.isArray(e.resources)?e.resources:e.rid.split(";").map((e=>({rid:e,userType:3,conversion:Ua}))),Ba=function(){var e=r((function*(e,t,r,n){return!(!e.pianoId.isUserValid()&&!e.user.isUserValid()||(yield qa(e,r,n),t&&e.pianoId.isUserValid()&&(yield Fa(e,n)),0))}));return function(t,r,n,i){return e.apply(this,arguments)}}(),Ga=function(){var e=r((function*(e,t,n){var i,o=null===(i=e.piano)||void 0===i?void 0:i.actions,a={handlerName:Yn.PIANO,handled:!1};if(o){var s=Object.values(o).map(Ha).reduce(((e,t)=>[...e,...t]),[]),c=Object.values(o).some((e=>null==e?void 0:e.deviceUnification));return new Promise((e=>{Promise.all([Ma(t,n),Va(t,s,n),za().then(function(){var e=r((function*(e){return new Promise((n=>{if(!e)return n();var i=0,o=setInterval(r((function*(){if((yield Ba(e,c,s,t))||i>=3)return clearInterval(o),n();i+=1})),5e3)}))}));return function(t){return e.apply(this,arguments)}}())]).then((()=>{a.handled=!0,e(a)}))}))}return Promise.resolve(a)}));return function(t,r,n){return e.apply(this,arguments)}}(),Ka=function(){var e=r((function*(){if(!document.querySelector(".js_smartbanner")){var[e]=yield Promise.all([a.e(512).then(a.bind(a,512)),a.e(376).then(a.bind(a,376))]);(new e.default).publish()}}));return function(){return e.apply(this,arguments)}}(),Ja=function(){var e=r((function*(e){[["smartbanner:title",e.title],["smartbanner:author",e.author],["smartbanner:price","GET"],["smartbanner:price-suffix-google"," - In Google Play"],["smartbanner:price-suffix-apple"," - On the App Store"],["smartbanner:icon-google",e.icon],["smartbanner:icon-apple",e.icon],["smartbanner:button-url-google","https://play.google.com/store/apps/details?id=".concat(e.androidId)],["smartbanner:button-url-apple","https://apps.apple.com/app/id".concat(e.iosId)],["smartbanner:enabled-platforms","android,ios"],["smartbanner:button","VIEW"],["smartbanner:custom-design-modifier","marfeel"],["smartbanner:api","true"]].forEach((e=>{var[t,r]=e;return((e,t)=>{var r=document.createElement("meta");r.name=e,r.content=t,document.head.appendChild(r)})(t,r)})),yield Ka()}));return function(t){return e.apply(this,arguments)}}(),Xa=function(){var e=r((function*(e,t){var r,n=null===(r=e.appBanner)||void 0===r?void 0:r.actions,i={handlerName:Yn.APP_BANNER,handled:!1};if(n){var o=Object.values(n)[0];o&&(yield Ja(o),i.handled=!0)}return i}));return function(t,r){return e.apply(this,arguments)}}(),Wa=a(136),Za=(e,t,r,n)=>{var i=document.createElement("button");return i.appendChild(((e,t,r)=>{var n=document.createElement("div"),i=document.createElement("p"),o=document.createElement("p");if(i.innerText=e,i.classList.add("mrf-pay__btn-info"),o.innerText=t,o.classList.add("mrf-pay__btn-details"),null!==r){var a=document.createElement("span");a.innerHTML=r,a.classList.add("mrf-pay__btn-details-logo"),o.append(a)}return n.append(i,o),n})(e,t,n)),i.onclick=r,i.classList.add("mrf-pay__btn","didomi-button"),i},Qa=()=>{var e;return null===(e=document.querySelector("#didomi-host .didomi-buttons"))||void 0===e?void 0:e.classList.add("mrf-pay-loaded")},$a=function(){var e=r((function*(e,t){var{country:n,currency:i,amount:o}=e;Promise.resolve().then(a.bind(a,729)),Wa.loadStripe.setLoadParameters({advancedFraudSignals:!1});var s=yield(0,Wa.loadStripe)("pk_live_51OAsSrI9IMiECPdnF7Uxe0ajMEjUomCmf270a3bsb0j9egZrTK0Bn1FrqzATJY9ZKtDkT5hXHbEztxBlv9JRqsk10072m1l8PK");if(s){window.setTimeout(Qa,5e3);var c,u=s.paymentRequest({country:n,currency:i,total:{label:"marfeel pay",amount:30},requestPayerEmail:!0,requestPayerName:!0}),l=s.paymentRequest({country:n,currency:i,total:{label:"marfeel pay",amount:299},requestPayerEmail:!0,requestPayerName:!0}),d=yield u.canMakePayment(),p=yield l.canMakePayment(),f=document.querySelector("#didomi-host #buttons"),h=null==f?void 0:f.querySelector("#didomi-notice-learn-more-button");if(f&&h&&d&&p&&(d.applePay||d.googlePay||d.link)){null==(c=document.querySelector("#didomi-notice-agree-button"))||c.style.setProperty("--mrf-pay-loader-color",window.getComputedStyle(c).getPropertyValue("color"));var m=((e,t,r)=>{var n=(e=>e.applePay?'\n\t<svg width="36" height="14" viewBox="0 0 36 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t<g id="Group">\n\t\t\t<g id="Group_2">\n\t\t\t\t<path id="Vector"\n\t\t\t\t\td="M7.18168 1.80478C7.56842 1.31491 7.83914 0.670347 7.76179 0C7.19457 0.0257826 6.49844 0.373849 6.09881 0.863718C5.73786 1.27624 5.41557 1.95948 5.50581 2.60404C6.13749 2.65561 6.78205 2.28176 7.18168 1.80478Z"\n\t\t\t\t\tfill="#343B44" />\n\t\t\t\t<path id="Vector_2"\n\t\t\t\t\td="M7.74937 2.72018C6.8212 2.66861 6.03483 3.24872 5.59652 3.24872C5.15822 3.24872 4.47498 2.74596 3.74018 2.75885C2.78622 2.77174 1.89672 3.31318 1.41974 4.1769C0.427115 5.89144 1.16192 8.44391 2.12877 9.83617C2.60574 10.5323 3.17296 11.2929 3.90776 11.2671C4.61678 11.2413 4.8875 10.8159 5.75122 10.8159C6.61493 10.8159 6.85987 11.2671 7.60757 11.2542C8.38104 11.2413 8.87091 10.5581 9.335 9.87485C9.87643 9.08848 10.0956 8.32789 10.1085 8.27633C10.0956 8.26344 8.61309 7.69622 8.60019 5.99457C8.5873 4.56363 9.76041 3.89329 9.82487 3.84172C9.15452 2.86198 8.11032 2.74596 7.74937 2.72018Z"\n\t\t\t\t\tfill="#343B44" />\n\t\t\t</g>\n\t\t\t<g id="Group_3">\n\t\t\t\t<path id="Vector_3"\n\t\t\t\t\td="M17.0047 0.786346C19.0158 0.786346 20.4209 2.17861 20.4209 4.20254C20.4209 6.23936 18.99 7.63162 16.9532 7.63162H14.723V11.1767H13.1116V0.786346H17.0047ZM14.723 6.27804H16.5793C17.9845 6.27804 18.7837 5.51745 18.7837 4.21543C18.7837 2.90052 17.9845 2.15282 16.5922 2.15282H14.7359C14.723 2.15282 14.723 6.27804 14.723 6.27804Z"\n\t\t\t\t\tfill="#343B44" />\n\t\t\t\t<path id="Vector_4"\n\t\t\t\t\td="M20.8213 9.02391C20.8213 7.6961 21.8397 6.92263 23.7089 6.8195L25.72 6.70347V6.12337C25.72 5.28543 25.1657 4.82135 24.173 4.82135C23.3609 4.82135 22.7679 5.23387 22.6519 5.87843H21.1951C21.2338 4.53774 22.51 3.558 24.2246 3.558C26.068 3.558 27.2669 4.52485 27.2669 6.02024V11.1896H25.7715V9.93919H25.7329C25.3075 10.7513 24.3664 11.267 23.3609 11.267C21.8655 11.2541 20.8213 10.3646 20.8213 9.02391ZM25.72 8.35356V7.77345L23.9281 7.88947C22.9226 7.95393 22.394 8.32778 22.394 8.98523C22.394 9.61691 22.9355 10.0294 23.7992 10.0294C24.8949 10.0294 25.72 9.3333 25.72 8.35356Z"\n\t\t\t\t\tfill="#343B44" />\n\t\t\t\t<path id="Vector_5"\n\t\t\t\t\td="M28.6327 13.9613V12.7108C28.7358 12.7237 28.9808 12.7366 29.1097 12.7366C29.8187 12.7366 30.2312 12.4401 30.4762 11.6537L30.618 11.1896L27.885 3.63533H29.5738L31.4688 9.77159H31.5075L33.4025 3.63533H35.0526L32.2165 11.5764C31.5719 13.394 30.8242 13.9999 29.2515 13.9999C29.1355 13.9999 28.7487 13.987 28.6327 13.9613Z"\n\t\t\t\t\tfill="#343B44" />\n\t\t\t</g>\n\t\t</g>\n\t</svg>\n':e.googlePay?'\n<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\tviewBox="0 0 80 38.1" style="enable-background:new 0 0 80 38.1;" height="14" xml:space="preserve">\n\t<style type="text/css">\n\t\t.st0 {\n\t\t\tfill: #5F6368;\n\t\t}\n\n\t\t.st1 {\n\t\t\tfill: #4285F4;\n\t\t}\n\n\t\t.st2 {\n\t\t\tfill: #34A853;\n\t\t}\n\n\t\t.st3 {\n\t\t\tfill: #FBBC04;\n\t\t}\n\n\t\t.st4 {\n\t\t\tfill: #EA4335;\n\t\t}\n\n\t</style>\n\t<path class="st0" d="M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2\n\tL37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2\n\tL37.8,8.8L37.8,8.8z" />\n\t<path class="st0" d="M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7\n\tc-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7\n\tc0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2\n\tc0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1\n\tc-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z" />\n\t<path class="st0" d="M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z" />\n\t<path class="st1"\n\t\td="M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z" />\n\t<path class="st2" d="M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4\n\tC3.7,27.8,8.2,30.6,13.2,30.6z" />\n\t<path class="st3" d="M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z" />\n\t<path class="st4" d="M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4\n\tC6.8,11.7,9.8,9.4,13.2,9.4z" />\n</svg>':null)(r),i=document.createElement("div");i.classList.add("mrf-pay");var o=document.createElement("p");o.textContent="...O RECHAZAR Y CONTINUAR";var a=Za("24h sin publicidad","0,30",(()=>{e.show()}),n),s=Za("1 mes sin publicidad","2,99",(()=>{t.show()}),n),c=document.createElement("span");return i.append(o,a,s,c),i})(u,l,d);f.removeChild(h),f.appendChild(m)}Qa();var v=(e,n)=>{e.on("paymentmethod",function(){var e=r((function*(e){var{error:r,clientSecret:o}=yield fetch("https://experiences.mrf.io/marfeelpass/stripe/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currency:i,amount:n,paymentMethodType:e.paymentMethod.type,email:e.payerEmail,address:null,customer:null})}).then((e=>e.json()));if(r)e.complete("fail");else{var a,{error:c,paymentIntent:u}=yield s.confirmCardPayment(o,{payment_method:e.paymentMethod.id},{handleActions:!1});c?e.complete("fail"):(null===(a=window.Didomi)||void 0===a||a.setUserDisagreeToAll(),(e=>{2223===Number(e.config.accountId)&&(()=>{var e;null!=(e=document.getElementById("acceptationCMPWall"))&&(e.style.display="none"),document.body.style.overflow="",__tcfapi("getTCData",2,((e,t)=>{window.cmpConsentString=t?e.tcString:void 0}),[1,2,3])})()})(t),e.complete("success"),"requires_action"===(null==u?void 0:u.status)&&(yield s.confirmCardPayment(o)))}}));return function(t){return e.apply(this,arguments)}}())};v(u,30),v(l,299)}else Qa()}));return function(t,r){return e.apply(this,arguments)}}(),Ya=a(595),es=["www.amazon","/dp/"],ts="asc_refurl",rs="asc_source",ns="asc_campaign";const is=new class{isAffiliateUrl(e){return es.every((t=>e.includes(t)))}getModifiedUrl(e,t){var r=new URL(e),n=r.searchParams.get(ts),i=r.searchParams.get(ns),o=r.searchParams.get(rs);return!n&&t.url&&r.searchParams.set(ts,t.url),!o&&t.source&&r.searchParams.set(rs,t.source),!i&&t.campaign&&r.searchParams.set(ns,t.campaign),{isCorrect:!!n&&!!o&&!!i,url:r.toString()}}};var os=[is],as=(e,t)=>{[...document.querySelectorAll("a")].filter((e=>!!e.href)).forEach((r=>{try{var n,{url:i,isValid:o,build:a}=((e,t)=>{var r=new URL(e);if(t){var n=r.searchParams.get(t);return{isValid:!!n,build:e=>(r.searchParams.set(t,encodeURIComponent(e)),r.toString()),url:n?decodeURIComponent(decodeURIComponent(n)):""}}return{isValid:!0,build:e=>e,url:r.toString()}})(r.href,t);if(!o)return;var s=null===(n=os.filter((e=>e.isAffiliateUrl(i))))||void 0===n?void 0:n[0];if(!s)return;var{isCorrect:c,url:u}=s.getModifiedUrl(i,e);c||(r.href=a(u))}catch(e){}}))},ss=[[(e,t)=>{var r,n,i={handlerName:"experiments",handled:!1};return e.experiments&&(i.handled=(r=e.experiments,n=t.compassSDK,0!==r.length&&(r.forEach((e=>{var{name:t,group:r}=e;n.setUserVar("".concat("mrfExperiment_").concat(t),r.toString())})),!0))),Promise.resolve(i)}],[_a],[(e,t)=>{var{compass:r={actions:{}},recirculation:n={actions:{}},conversions:i={actions:{}}}=e,o=Object.values(go(go(go({},null==r?void 0:r.actions),null==n?void 0:n.actions),null==i?void 0:i.actions)),a={handlerName:"compass",handled:!1};if(o.length){var s={layouts:[],modules:[],blacklist:[],redirectionLinks:[]};Object.values(o).forEach((e=>{var{recirculationModules:r=[],userType:n,userVars:i={},conversionButtons:o=[],layouts:a=[],blacklist:c=[],redirectionLinks:u=[]}=e;t.compassSDK.setConversionButtons(o),void 0!==n&&t.compassSDK.setUserType(n),Object.entries(i).forEach((e=>{var[r,n]=e;return t.compassSDK.setUserVar(r,n)})),s.modules.push(...r),s.layouts.push(...a),s.blacklist.push(...c),s.redirectionLinks.push(...u)})),t.compassSDK.setRecirculationConfig(s),a.handled=!0}return Promise.resolve(a)}],[e=>{var{adManager:t}=e,r={handlerName:"ad-manager",handled:!1};return null!=t&&t.actions&&(Object.values(t.actions).forEach((e=>{var t,{targeting:r}=e;(t=r)&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],t.forEach((e=>{var{key:t,value:r}=e;window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting(t,r)}))})))})),r.handled=!0),Promise.resolve(r)},Po,ca,Ca,(e,t)=>{var r,n=null===(r=e.googleOptimize)||void 0===r?void 0:r.actions,i={handlerName:Yn.GOOGLE_OPTIMIZE,handled:!1};if(n){var o=Object.values(n).map((e=>{var{experiments:t}=e;return t})).reduce(((e,t)=>(t.forEach((t=>e.add(t))),e)),new Set);if(o.size>0)return new Promise((e=>{!function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("event","optimize.callback",{callback:(r,n)=>{o.has(n)&&(t.compassSDK.setUserVar("optimize-".concat(n),r),o.delete(n)),0===o.size&&(i.handled=!0,e(i))}})}))}return Promise.resolve(i)},Ga,e=>{var t,r=null===(t=e.socialAcquisition)||void 0===t?void 0:t.actions,n={handlerName:Yn.SOCIAL_ACQUISITION,handled:!1};return r&&(Object.values(r).forEach((e=>{var{pixelId:t}=e;(e=>{var{pixelId:t}=e;!function(e,t,r,n,i,o,a){e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(o=t.createElement(r)).async=!0,o.src="https://connect.facebook.net/en_US/fbevents.js",(a=t.getElementsByTagName(r)[0]).parentNode.insertBefore(o,a))}(window,document,"script"),window.fbq("init",t),window.fbq("track","PageView")})({pixelId:t})})),n.handled=!0),Promise.resolve(n)},(e,t)=>{var{goalTracking:r}=e,n={handlerName:"goalTracking",handled:!1};return null!=r&&r.actions&&(Object.values(r.actions).forEach((e=>{var{goals:r}=e;null==r||r.forEach((e=>t.compassSDK.trackConversion(e)))})),n.handled=!0),Promise.resolve(n)},(e,t)=>{var{genericGoalTracking:r}=e,n={handlerName:"genericGoalTracking",handled:!1},i=!1;if(null!=r&&r.actions){var o,a,s=Object.values(r.actions).reduce(((e,t)=>((e[t.source]=e[t.source]||[]).push(t),e)),{});if((null===(o=s[yo.POST_MESSAGE])||void 0===o?void 0:o.length)>0){var c=Oo(s[yo.POST_MESSAGE]);window.addEventListener("message",(e=>{if(Object.keys(c).includes(e.origin)){var r,n;try{n=JSON.parse(e.data)}catch(e){return}"complete"!==n.event&&("close"!==n.event&&"purge"!==n.event||null===(r=n.params)||void 0===r||!r.completePayment)||i||(i=!0,t.compassSDK.trackConversion(c[e.origin]))}})),n.handled=!0}if((null===(a=s[yo.HTTP])||void 0===a?void 0:a.length)>0){var u=Oo(s[yo.HTTP]),l=window.fetch,d=window.XMLHttpRequest.prototype.open;window.fetch=(e,r)=>{var n=l(e,r);return Object.keys(u).includes(e)&&n.then((r=>{r.ok&&t.compassSDK.trackConversion(u[e])})),n},window.XMLHttpRequest.prototype.open=function(){d.apply(this,arguments);try{var e=new URL(arguments[1]);Object.keys(u).includes(e.origin)&&t.compassSDK.setPageVar(u[e.origin],"true")}catch(e){}},n.handled=!0}}return Promise.resolve(n)},Na,(e,t)=>{var{siteContextSynchronizer:r}=e,n={handlerName:"siteContextSynchronizer",handled:!1};return null!=r&&r.actions&&(Object.values(r.actions).forEach((e=>{e.definition.forEach((e=>{return r=e,n=t.compassSDK,i=0,o=(e,t)=>{var r=Ao(e,t.params);switch(function(e){return void 0!==(null==e?void 0:e.name)}(t.action)?t.action.name:t.action){case"userType":"string"!=typeof r&&"number"!=typeof r||n.setUserType(r);break;case"conversion":"string"==typeof r&&n.trackConversion(r);break;case"marfeelCMD":var i=t.action;window.marfeel.cmd.push([i.config.module,e=>{var t;Array.isArray(r)&&(null==e||null===(t=e[i.config.method])||void 0===t||t.call(e,...r))}])}},a=e=>{for(var t of r.effects)if(To(e,t.condition))return void o(e,t)},(s=function e(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=r.path.startsWith("window.")?r.path.substring(7):r.path,s=jo(window,o);if(s)if("array"===r.type){if(Array.isArray(s)){for(var c=i;c<s.length;c++)a(s[c]);i=s.length}}else a(s);var u=null!==(t=r.observe)&&void 0!==t?t:5e3;n&&u>0&&setTimeout((()=>e()),u)})(),void(0,Eo.C)((()=>{s(!1)}));var r,n,i,o,a,s}))})),n.handled=!0),Promise.resolve(n)},La,Xa,(e,t)=>{var{marfeelOptimizer:r}=e,n={handlerName:"marfeelOptimizer",handled:!1};return null!=r&&r.actions&&Object.values(r.actions).length>0?new Promise((e=>{var r=Io(t.compassSDK),n=0;if(r)return e();var i=setInterval((()=>{if(Io(t.compassSDK)||n>=2)return clearInterval(i),e();n+=1}),5e3)})).then((()=>(n.handled=!0,Promise.resolve(n)))):Promise.resolve(n)},(e,t)=>{var r,n=null===(r=e.marfeelPay)||void 0===r?void 0:r.actions,i={handlerName:Yn.MARFEEL_PAY,handled:!1};if(n){var o,a=(null===(o=ui(new URL(window.location.href)))||void 0===o?void 0:o.split(","))||[],s=!1;Object.values(n).filter((e=>{var{id:t}=e;return a.includes(t)})).forEach((e=>{(e=>{window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push((t=>{if(null!=t&&t.notice.isVisible())e();else if(!t.isUserConsentStatusPartial()){window.didomiEventListeners=window.didomiEventListeners||[],window.didomiEventListeners.push({event:"notice.shown",listener:e});try{t.notice.show()}catch(e){}}}))})((()=>{$a(e,t)})),s=!0})),i.handled=s}return Promise.resolve(i)},e=>{var t,r=null===(t=e.affiliationEnhancer)||void 0===t?void 0:t.actions,n={handlerName:Yn.AFFILIATION_ENHANCER,handled:!1};return r&&(Object.values(r).forEach((e=>{var{context:t,queryParam:r}=e;((e,t)=>{as(e,t),(0,Ya.N)((()=>{as(e,t)}))})(JSON.parse(t),r)})),n.handled=!0),Promise.resolve(n)}]],cs=function(){var e=r((function*(e,t,r){var n=[];for(var[i,o]of ss.entries()){p(l.INIT_HANDLE_ACTION);var a=yield Promise.all(o.map((n=>n(e,t,r))));f(l.INIT_HANDLE_ACTION,l.END_HANDLE_ACTION,{index:i}),n.push(...a)}return n}));return function(t,r,n){return e.apply(this,arguments)}}();class us{constructor(){i(this,"promise",void 0),i(this,"promiseResolve",void 0),this.promise=new Promise((e=>{this.promiseResolve=e}))}resolve(){var e;null===(e=this.promiseResolve)||void 0===e||e.call(this)}}var ls=function(e){return e.NOT_EQUALS="NOT_EQUALS",e.EQUALS="EQUALS",e}({}),ds=e=>e.replace(/\/+$/,""),ps=(e,t)=>e.hostname===t.hostname&&ds(e.pathname)===ds(t.pathname),fs=function(){var e=r((function*(e){var t=window.location;switch(e.operator){case ls.NOT_EQUALS:return e.values.every((e=>!ps(t,new URL(e))));case ls.EQUALS:default:return e.values.some((e=>ps(t,new URL(e))))}}));return function(t){return e.apply(this,arguments)}}(),hs=function(){var e=r((function*(e,t){if($o()||e.operator!==ls.EQUALS)return!0;var n=function(){var e=r((function*(){return new Promise((e=>{if(window.didomiConfig)return window.didomiOnReady=window.didomiOnReady||[],void window.didomiOnReady.push((t=>{e(t.shouldConsentBeCollected())}));t.consentSDK.hasToPromptForConsent(e)}))}));return function(){return e.apply(this,arguments)}}();return!!(yield n())||!function(e){var t=new RegExp("(^|;) ?".concat("mrfpass","=([^;]*)(;|$)")).exec(document.cookie);return t?t[2]:null}()&&e.values.some((e=>!t.consentSDK.hasConsentForPurpose(+e)))}));return function(t,r){return e.apply(this,arguments)}}(),ms="pendingConsent";function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ys=function(){var e=r((function*(e){var t=window.location.hostname;switch(e.operator){case ls.NOT_EQUALS:return e.values.every((e=>e!==t));case ls.EQUALS:default:return e.values.some((e=>e===t))}}));return function(t){return e.apply(this,arguments)}}(),bs=function(){var e=r((function*(e){var t=document.documentElement.lang||"None";switch(e.operator){case ls.NOT_EQUALS:return e.values.every((e=>e!==t));case ls.EQUALS:default:return e.values.some((e=>e===t))}}));return function(t){return e.apply(this,arguments)}}(),ws=function(){var e=r((function*(e){var[t,r="/"]=window.location.pathname.split("/"),n="/"!==r?"/".concat(r,"/"):r;switch(e.operator){case ls.NOT_EQUALS:return e.values.every((e=>e!==n));case ls.EQUALS:default:return e.values.some((e=>e===n))}}));return function(t){return e.apply(this,arguments)}}(),Os=function(){var e=r((function*(e){var t,r=(null==(t=window.navigator.language||window.navigator.userLanguage)?void 0:t.split("-")[0].toLowerCase())||"en";switch(e.operator){case ls.NOT_EQUALS:return e.values.every((e=>e!==r));case ls.EQUALS:default:return e.values.some((e=>e===r))}}));return function(t){return e.apply(this,arguments)}}();function Ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ks={url:fs,[ms]:hs,domain:ys,htmlLang:bs,browserLang:Os,folder:ws},Ss=function(){var e=r((function*(e,t){return Promise.all(e.map(t)).then((t=>e.filter(((e,r)=>t[r]))))}));return function(t,r){return e.apply(this,arguments)}}(),Cs=[e=>(e=>"content"in e)(e)&&xo(e.content)&&e.content.url.includes("marfeelpassexperienceengine.mrf.io")?gs(gs({},e),{},{filters:[...e.filters||[],{operator:ls.EQUALS,values:["1","2","3","4","5","6","7","8","9","10","11"],key:ms}]}):e],js=function(){var e=r((function*(e,t){return!Array.isArray(e.filters)||0===e.filters.length||(yield Promise.all(e.filters.map((e=>{var r=ks[e.key];return!r||r(e,t)})))).every(Boolean)}));return function(t,r){return e.apply(this,arguments)}}(),Ts=function(){var e=r((function*(e,t){if(!e.actions)return e;var r=yield t(e.actions);return 0!==r.length?Es(Es({},e),{},{actions:r.reduce(((e,t)=>{var[r,n]=t;return Es(Es({},e),{},{[r]:n})}),{})}):void 0}));return function(t,r){return e.apply(this,arguments)}}(),As=function(){var e=r((function*(e,t){return Object.entries(e).reduce(function(){var e=r((function*(e,r){var[n,i]=r,o=yield((e,t)=>Ts(e,(e=>Ss(Object.entries(e),(e=>{var r,[n,i]=e;return js((r=i,Cs.reduce(((e,t)=>t(e)),r)),t)})))))(i,t);return o?Es(Es({},yield e),{},{[n]:o}):e}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}))}));return function(t,r){return e.apply(this,arguments)}}(),Is=function(){var e=r((function*(e){var t=ui(new URL(window.location.href));return t?Object.entries(e).reduce(function(){var e=r((function*(e,r){var[n,i]=r,o=yield((e,t)=>Ts(e,(e=>Ss(Object.entries(e),(e=>{var[r,n]=e;return((e,t)=>Promise.resolve(t.some((t=>e.id===t))))(n,t)})))))(i,t.split(","));return o?Es(Es({},yield e),{},{[n]:o}):e}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({})):Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}();function _s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xs=e=>!!e,Ns=function(){var e=r((function*(e,t){var r=yield As(e,t);return yield Is(r)}));return function(t,r){return e.apply(this,arguments)}}();class Ls{constructor(e,t,r,n){i(this,"config",void 0),i(this,"compassSDK",void 0),i(this,"synchronizer",void 0),i(this,"consentSDK",void 0),i(this,"executionData",void 0),i(this,"deferred",void 0);var o=e.experiences||e.flowcards;this.compassSDK=t,this.synchronizer=r,this.consentSDK=n,this.config={accountId:e.accountId,targeting:{}},o&&Object.assign(this.config,o),this.deferred=new us,this.executionData=this.loadExperiences(),this.trackPayment()}trackPayment(){var e=this;return r((function*(){yield ma(),e.compassSDK.trackPaymentMethod()}))()}loadExperiences(){var e=this;return r((function*(){p(l.LOADING_EXPERIENCES);var t,n,i,o,a,s,c,u={},d=[],h={config:e.config,compassSDK:e.compassSDK,consentSDK:e.consentSDK},{active:m,clientParameters:v,preflight:g}=yield(t=e.config,t.preflight?(t.preflight.active=t.preflight.active||!!ui(new URL(window.location.href)),Promise.resolve(t.preflight)):function(e){return(e=>po(e,"https://flowcards.mrf.io/json/active",new Set(["sid","ptch","debug_experiences"])))(e).then(fetch).then((e=>e.json())).then((e=>e.preflight?ho(ho({},e),{},{preflight:mo(e.preflight)}):e))}({location:new URL(window.location.toString()),siteId:t.accountId,pageTechnology:0})),y=Promise.resolve();if(g){var b=yield Ns(g,h);u=$n()(u,b),y=((e,t,r)=>{var n=cs(e,t,r),i=new Promise((e=>{window.setTimeout((()=>{e(void 0)}),3e3)}));return Promise.race([n,i])})(b,h,e.synchronizer).then((e=>{Array.isArray(e)&&d.push(...e);var[t]=d.filter((e=>"compass"===(null==e?void 0:e.handlerName)));(null==t||!t.handled)&&h.compassSDK.setRecirculationConfig({})}))}if(m){yield(n=e.config,i=e.deferred,null!==(o=n.waitFor)&&void 0!==o&&o.promise?n.waitFor.promise:null!==(a=n.waitFor)&&void 0!==a&&a.timeout?(c=n.waitFor.timeout,new Promise((e=>{setTimeout(e,c)}))):null!==(s=n.waitFor)&&void 0!==s&&s.done?i.promise:Promise.resolve()),yield function(e,t){return Qo.apply(this,arguments)}(e.config,e.compassSDK);var w=yield Yo(e.config,e.compassSDK,v).then(function(){var t=r((function*(t){var r=yield Ns(t,h);return u=$n()(u,r),((e,t,r)=>cs(e,t,r))(r,h,e.synchronizer)}));return function(e){return t.apply(this,arguments)}}());Array.isArray(w)&&d.push(...w)}yield y;var O=d.filter(xs).reduce(((e,t)=>Ds(Ds({},e),{},{[t.handlerName]:e[t.handlerName]||t.handled})),{});return Object.values(Yn).forEach((t=>{e.synchronizer.resolve(t,!!O[t])})),f(l.LOADING_EXPERIENCES,l.END_LOADING_EXPERIENCES),{handled:O,experiences:u}}))()}done(){this.deferred.resolve()}addTargeting(e,t){this.config.targeting[e]=t}addExperience(e,t){var r,n,i,o;null!==(n=(r=this.config).experiences)&&void 0!==n||(r.experiences={}),null!==(o=(i=this.config.experiences)[e])&&void 0!==o||(i[e]=[]),this.config.experiences[e].push(t)}addEventListener(e,t,r){var n=function(e,t){return"navigationchange"===e?e=>{t(e)}:"navigationfromcard"===e?Wo(t,"host"):"navigationtocard"===e?Wo(t,"flowcards"):null}(t,r);n&&oa(e).addEventListener("navigationchange",n)}hasExperiences(e){return this.executionData.then((t=>{var{handled:r}=t;return!!r[e]}))}triggerExperiences(){var e=this;return r((function*(){return e.loadExperiences()}))()}hasExperimentation(e){return this.executionData.then((t=>{var{experiences:r}=t;return((e,t)=>{var r,n=null===(r=e.experimentation)||void 0===r?void 0:r.actions;return!!n&&Object.values(n).some((e=>{var{url:r}=e;return-1!==r.indexOf("experimentType=".concat(t))}))})(r,e)}))}getRecommendations(e){var t=this;return r((function*(){return yield function(e){return _o.apply(this,arguments)}({experienceId:e,canonical:t.compassSDK.getCanonical(),userId:t.compassSDK.getUserId().actualUserId})}))()}}m("experiences",["compass","synchronizer","consent"],(()=>Promise.resolve(Ls)));class Rs{constructor(e,t){i(this,"croupier",void 0),this.croupier=t}addTargeting(e,t){this.croupier.addTargeting(e,t)}addCard(e){this.croupier.addExperience(Yn.FLOWCARDS,e)}addEventListener(e,t){this.croupier.addEventListener(Yn.FLOWCARDS,e,t)}hasCards(){return this.croupier.hasExperiences(Yn.FLOWCARDS)}}function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}m("flowcards",["experiences"],(()=>Promise.resolve(Rs))),m("multimedia",["compass","consent","synchronizer"],function(){var e=r((function*(e,t){var r,n,i,[o,s,c]=t;return yield O(Us(Us({},e),{},{blockOnNoConsent:!(null===(r=e.multimedia)||void 0===r||!r.providers)&&-1!==(null===(n=e.multimedia)||void 0===n||null===(i=n.providers)||void 0===i?void 0:i.indexOf("youtube"))||e.blockOnNoConsent}),s,c),e.multimedia?a.e(492).then(a.bind(a,492)).then((e=>e.default)):Promise.reject()}));return function(t,r){return e.apply(this,arguments)}}());class Vs{constructor(){i(this,"promises",void 0),this.promises={}}wait(e){var t,r;null!==(r=(t=this.promises)[e])&&void 0!==r||(t[e]={});var n=this.promises[e].promise;return void 0===n?(n=new Promise(((t,r)=>{this.promises[e].resolve=t,this.promises[e].reject=r})),this.promises[e].promise=n,n):n}resolve(e,t){var r,n;null!==(n=(r=this.promises)[e])&&void 0!==n||(r[e]={}),void 0===this.promises[e].resolve?this.promises[e].promise=Promise.resolve(t):(0,this.promises[e].resolve)(t)}reject(e,t){var r,n;null!==(n=(r=this.promises)[e])&&void 0!==n||(r[e]={}),void 0===this.promises[e].reject?this.promises[e].promise=Promise.reject(t):(0,this.promises[e].reject)(t)}}m("synchronizer",[],(()=>Promise.resolve(Vs)));let qs=()=>({emit(e,...t){for(let r=0,n=this.events[e]||[],i=n.length;r<i;r++)n[r](...t)},events:{},on(e,t){return(this.events[e]||=[]).push(t),()=>{this.events[e]=this.events[e]?.filter((e=>t!==e))}}});function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hs={elegible:"eligible",impression:"impression",click:"click"};class Bs{constructor(){i(this,"emitter",void 0),this.emitter=qs()}on(e,t){this.emitter.on(e,(e=>{"click"===e.t?null==t||t(e):setTimeout((()=>{null==t||t(e)}),0)}))}emitRecirculation(e){var t=function(e){return{t:Hs[e.t],m:e.m}}(e),r=function(e){return e.m.reduce(((t,r)=>{var n=r.n;if(n.startsWith("FC_")||n.startsWith("IL_")){var i,o=n.startsWith("IL_")?"inline":"flowcards";return zs(zs({},t),{},{["recirculation:".concat(o)]:{t:e.t,m:[...(null===(i=t["recirculation:".concat(o)])||void 0===i?void 0:i.m)||[],r]},["recirculation:".concat(n)]:{t:e.t,m:[r]}})}return zs(zs({},t),{},{["recirculation:".concat(n)]:{t:e.t,m:[r]}})}),{})}(t);this.emitter.emit("recirculation",t),Object.keys(r).forEach((e=>{this.emitter.emit(e,r[e])}))}}m("events",[],(()=>Promise.resolve(Bs)));var Gs=(e,t,r)=>{var n,i;n=((e,t,r)=>{var n=document.createElement("script");return n.src=e,n.id=r,t?n.type="module":n.setAttribute("nomodule",""),n})(e,r,t),i=document.body,new Promise(((e,t)=>{n.addEventListener("error",(e=>t(e.error))),i.append(n)}))},Ks="https://sdk.mrf.io/statics",Js={ecommerce:{srcModule:"".concat(Ks,"/compass-ecommerce-sdk.js"),srcNoModule:"".concat(Ks,"/compass-ecommerce-sdk.es5.js"),dependencies:["compass"]},multimedia:{srcModule:"".concat(Ks,"/compass-multimedia-sdk.js"),srcNoModule:"".concat(Ks,"/compass-multimedia-sdk.es5.js"),dependencies:["compass"]}},Xs=e=>"".concat(e,"?version=877");class Ws{load(e,t){var r=Js[e];t&&function(){h.addConfig(...arguments)}(t),Gs(Xs(r.srcModule),e,!0),Gs(Xs(r.srcNoModule),e,!1)}}m("loader",[],(()=>Promise.resolve(Ws)))})();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             "});l(a,"path",{d:h+j,"class":"f_logo_f"});return a};d=function(a){a=l(null,"svg",ES("Object","assign",!1,{viewBox:"0 0 213 213",preserveAspectRatio:"xMinYMin"},a));l(a,"path",{d:h+i,"class":"f_logo_circle",fill:"white"});l(a,"path",{d:h+j,"class":"f_logo_f",fill:"white"});return a};e=function(a){a=l(null,"svg",ES("Object","assign",!1,{viewBox:"-2 -2 104 104",preserveAspectRatio:"xMinYMin"},a));l(a,"rect",{x:"5",y:"5",width:"91",height:"91","stroke-width":"9",rx:"23","class":"ig_logo_body"});l(a,"circle",{cx:"77",cy:"23",r:"6","class":"ig_logo_flash"});l(a,"circle",{cx:"50",cy:"50",r:"21","stroke-width":"9","class":"ig_logo_lens"});return a};f=function(a){var b=c("guid")();a=l(null,"svg",ES("Object","assign",!1,{viewBox:"-2 -2 104 104",preserveAspectRatio:"xMinYMin"},a));var d=l(a,"defs",{}),e=l(d,"mask",{id:b});l(e,"circle",{cx:"77",cy:"23",r:"6",fill:"white"});l(e,"circle",{cx:"50",cy:"50",r:"21","stroke-width":"9",stroke:"white"});l(e,"rect",{x:"5",y:"5",width:"91",height:"91","stroke-width":"9",rx:"23",stroke:"white",fill:"none"});e=l(d,"linearGradient",{id:"purplepink",x1:"0",x2:".15",y1:"0",y2:".6"});l(e,"stop",{offset:"12%","stop-color":"rgb(88,85,214)"});l(e,"stop",{offset:"85%","stop-color":"rgb(215,27,122)"});e=l(d,"radialGradient",{id:"yelloworange",cx:".35",cy:"1",r:"2"});l(e,"stop",{offset:"7%","stop-color":"rgb(252,215,114)"});l(e,"stop",{offset:"20%","stop-color":"rgb(244,102,37)"});l(e,"stop",{offset:"38%","stop-color":"rgb(225,37,122)","stop-opacity":"0"});l(a,"rect",{x:"1",y:"1",width:"99",height:"99","stroke-width":"0",rx:"23",fill:"url(#purplepink)",style:"mask: url(#"+b+")"});l(a,"rect",{x:"1",y:"1",width:"99",height:"99","stroke-width":"0",rx:"23",fill:"url(#yelloworange)",style:"mask: url(#"+b+")"});return a};g.close=a;g.facebook=b;g.facebookWhite=d;g.instagram=e;g.instagramColor=f}),98);
__d("sdk.SharedStringConstants",["sdk.fbt"],(function(a,b,c,d,e,f,g){"use strict";b={continueWith:(a=c("sdk.fbt"))._("Continua con {facebook_app_name} o {instagram_app_name}"),continueWithShort:a._("{facebook_app_name} o {instagram_app_name}"),loginButtonAriaLabel:a._("Continua con Facebook o Instagram"),logout:a._("Esci"),logoutButtonAriaLabel:a._("Disconnettiti dal sito attuale"),titleText:a._("Scegli un account"),promptText:a._("Quale account vuoi usare per accedere?"),facebookText:a._("Accedi con Facebook"),facebookTextShort:a._("Log in"),instagramText:a._("Accedi con Instagram"),disambiguationDialogAriaLabelText:a._("Log in with Facebook or Instagram"),fbButtonText:a._("Continua con Facebook"),igButtonText:a._("Continua con Instagram")};g.buttonStringsFBT=b}),98);
__d("sdk.XFBML.ShadowDOMLoginButton",["DOMPlugin","UrlMap","sdk.Auth","sdk.Event","sdk.LoggingUtils","sdk.PluginUtils","sdk.Runtime","sdk.SVGLogos","sdk.SharedStringConstants","sdk.createIframe","sdk.ui"],(function(a,b,c,d,e,f,g){var h={small:"11px",medium:"13px",large:"16px"},i={small:"20px",medium:"30px",large:"40px"},j="{facebook_app_name}";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f,g,h){b=a.call(this,b,e,f,g,h)||this;b.stateObservers=[];b.shadowCss=["css:fb.shadow.css.fb_login_button"];b.container=document.createElement("div");b.container.classList.add("fb_login_button_container");b.container.dir="auto";b.loginButtonText=b.updateLabel();b.fbLoginButton=document.createElement("button");b.borderRadius=b.updateRadius(b.params);b.fbLoginButton=b.createSingleButton(b.loginButtonText);b.createFBButton("fb-button-main-element",d("sdk.SharedStringConstants").buttonStringsFBT.logout,d("sdk.SharedStringConstants").buttonStringsFBT.logoutButtonAriaLabel,r,function(a){this.style.display=a.status==="connected"?"flex":"none"},ES(function(a){c("sdk.Auth").logout(),a&&a.detail===0&&this.fbLoginButton&&this.fbLoginButton.style.display!=="none"&&this.fbLoginButton.focus()},"bind",!0,babelHelpers.assertThisInitialized(b)));return b}var e=b.prototype;e.render=function(a){var b=this;this.updateDisplay({shouldHideDisambiguation:!0,status:c("sdk.Runtime").getLoginStatus()});d("sdk.Event").subscribe("auth.statusChange",function(a){a={shouldHideDisambiguation:!0,status:a.status,fxApp:a.loginSource};b.updateDisplay(a)});return this.container};e.createSingleButton=function(a){return this.createFBButton("fb-button-main-element",a,a,q,function(a){this.style.display=a.status==="connected"?"none":"flex"},ES(function(a){a.stopPropagation(),d("sdk.LoggingUtils").logLoginEvent(this.params,d("sdk.LoggingUtils").logEventName.buttonClick+"_single_fb"),this.loginTrigger()},"bind",!0,this))};e.loginTrigger=function(){var a="";c("sdk.ui")({method:"permissions.oauth",display:"popup",scope:a},this.loginCb())};e.createFBButton=function(a,b,c,d,e,f){var g=document.createElement("button");g.classList.add(a);g.setAttribute("aria-label",c);a=document.createElement("span");a.classList.add("fb_button_label_element");a.classList.add("fb_button_label");this.applyStyles(g,this.params);this.use_continue_as===!0?a.append(this.createIframeOverlay(this.container,this.params)):d(this.params,b,a);g.appendChild(a);g.addEventListener("click",function(a){f(a),g.blur()});g.updateDisplay=ES(e,"bind",!0,g);this.stateObservers.push(g);this.container.appendChild(g);return g};e.loginCb=function(){var a=this;return function(b){b.authResponse!=null&&b.status==="connected"?d("sdk.LoggingUtils").logLoginEvent(a.params,d("sdk.LoggingUtils").logEventName.loginSuccess+"_single_fb"):d("sdk.LoggingUtils").logLoginEvent(a.params,d("sdk.LoggingUtils").logEventName.loginCancel+"_single_fb")}};e.updateDisplay=function(a){this.stateObservers.forEach(function(b){return b.updateDisplay(a)})};e.updateLabel=function(){var a=this.params["button-type"]==="login_with"?d("sdk.SharedStringConstants").buttonStringsFBT.facebookText:d("sdk.SharedStringConstants").buttonStringsFBT.fbButtonText,b=o(this.params,a);this.params["button-type"]==="login_with"&&(a=b?a:d("sdk.SharedStringConstants").buttonStringsFBT.facebookTextShort);return a};e.updateRadius=function(a){var b;b=(b=d("sdk.PluginUtils").getVal(a,"layout"))!=null?b:"default";a=String(d("sdk.PluginUtils").getVal(a,"size"));a=a!==""?a:"small";a=a==="large"?"4px":"3px";return b==="rounded"?"20px":a};e.applyStyles=function(a,b){var c=String(d("sdk.PluginUtils").getVal(b,"size"));c=c!==""?c:"small";a.style.borderRadius=this.borderRadius;b=(b=d("sdk.PluginUtils").getVal(b,"width"))!=null?b:null;a.style.width=k(c,b).toString();a.style.fontSize=h[c];a.style.height=i[c];a.style.backgroundColor="rgb(26,119,242)";a.style.color="#fff";a.style.border="0";a.style.fontWeight="bold"};e.createIframeOverlay=function(a,b){var e,f=String(d("sdk.PluginUtils").getVal(b,"size"));f=f!==""?f:"small";var g=c("sdk.Runtime").getClientID(),h=String(d("sdk.PluginUtils").getVal(b,"layout"));h=h!==""?h:"default";e=(e=d("sdk.PluginUtils").getVal(b,"width"))!=null?e:null;e=k(f,e).toString();g=d("UrlMap").resolve("www")+("/plugins/login_button_overlay/"+g+"/"+e+"/"+f+"/"+h+"/");h={root:a,url:g,borderRadius:(f=d("sdk.PluginUtils").getVal(b,"layout"))!=null?f:"default",width:e};a=c("sdk.createIframe")(h);a.classList.add("fb-iframe-overlay");return a};return b}(d("DOMPlugin").DOMPlugin);function k(a,b){a=a!=null?a:"small";return b===""||b==null?m(a):l(a,b)}function l(a,b){b=isNaN(b)?0:Number(b);var c=m(a),d=n(a);if(b<m(a))return c;return b>n(a)?d:b}function m(a){switch(a){case"large":return 240;case"medium":return 200;default:return 200}}function n(a){switch(a){case"large":return 400;case"medium":return 320;default:return 300}}function o(a,b){var c;b=b.replace(/\s?{facebook_app_name}\s?/,"");c=(c=d("sdk.PluginUtils").getVal(a,"width"))!=null?c:null;a=(a=d("sdk.PluginUtils").getVal(a,"size"))!=null?a:"large";a=k(a,c);c=p(b)?p(b):0;return c<a}function p(a){var b=p.canvas||(p.canvas=document.createElement("canvas"));b=b.getContext("2d");b=b==null?void 0:b.measureText(a);return b==null?void 0:b.width}function q(a,b,c){var d=document.createElement("span"),e=s();e.classList.add("single_button_svg_logo");c.append(e);d.textContent=o(a,b)?b:"";c.append(d)}function r(a,b,c){c.textContent="";a=b.search(j);var d=a+j.length,e=Math.min(a),f=Math.min(d);a=Math.max(a);d=Math.max(d);var g=s(),h=document.createElement("span");h.style.whiteSpace="nowrap";h.append(b.substring(0,e));e=document.createElement("span");e.style.whiteSpace="nowrap";e.append(b.substring(f,a));f=document.createElement("span");f.style.whiteSpace="nowrap";f.append(b.substring(d,b.length));c.append(g);c.append(h);c.append(e);c.append(f)}function s(){return d("sdk.SVGLogos").facebookWhite({"class":"fb_button_svg_logo login_fb_logo"})}g["default"]=a}),98);
__d("sdk.XFBML.LoginButton",["IframePlugin","Log","guid","safeEval","sdk.Auth","sdk.Auth.LoginStatus","sdk.Dialog","sdk.ErrorHandling","sdk.Impressions","sdk.PluginUtils","sdk.Runtime","sdk.Scribe","sdk.UIServer","sdk.XD","sdk.XFBML.ShadowDOMLoginButton","sdk.feature","sdk.getContextType","sdk.modFeatureCheck","sdk.ui"],(function(a,b,c,d,e,f,g){var h=c("sdk.feature")("https_only_learn_more","");function i(a,b,d){a&&(typeof a==="string"?c("sdk.ErrorHandling").unguard(c("safeEval"))(a,d):a.apply&&c("sdk.ErrorHandling").unguard(a).apply(b,d||[]))}function j(a,b,e){a.id=c("guid")();a.plugin_prepare=!0;a.origin=c("sdk.getContextType")();a.domain=location.hostname;a.fallback_redirect_uri=document.location.href;var f=c("sdk.feature")("e2e_tracking",!0);f&&(a.e2e={});f=function(a){g!=null&&d("sdk.XD").sendToFacebook(b,{method:"loginComplete",params:ES("JSON","stringify",!1,{frame_name:g.id,status:c("sdk.Runtime").getLoginStatus()})}),e(a)};var g=c("sdk.UIServer").prepareCall(a,f);g!=null&&(g.dims={},g.dims.screenX=window.screenX,g.dims.screenY=window.screenY,g.dims.outerWidth=window.outerWidth,g.dims.outerHeight=window.outerHeight,g.dims.screenWidth=window.screen.width);d("sdk.XD").sendToFacebook(b,{method:"loginButtonStateInit",params:ES("JSON","stringify",!1,{call:g})})}a=c("IframePlugin").extend({constructor:function(a,b,e,f){if((d("sdk.modFeatureCheck").forIDs("allow_shadow_dom_for_apps_with_id",[c("sdk.Runtime").getClientID()])||f["data-shadow-test"]!=null&&f["data-shadow-test"]==="true")&&c("sdk.feature")("allow_shadow_dom",!1)===!0&&f["data-use-continue-as"]!=="true")return new(c("sdk.XFBML.ShadowDOMLoginButton"))(a,b,e,f,{width:"string",size:"string","button-type":"string",layout:"string","auto-logout-link":"bool","use-continue-as":"bool"});if(location.protocol!=="https:"){var g="The Login Button plugin no longer works on http pages. Please update your site to use https for Facebook Login. %s";d("Log").log("error",-1,g,h);c("sdk.feature")("https_only_scribe_logging",!0)&&d("sdk.Scribe").log("jssdk_error",{appId:c("sdk.Runtime").getClientID(),error:"HttpsOnly",extra:{message:"LoginButton"}})}this.parent(a,b,e,f);var k=d("sdk.PluginUtils").getVal(f,"on_login"),l=null,m=this._iframeOptions.name;k&&(l=function(a){if(a.error_code){d("Log").debug("Plugin Return Error (%s): %s",a.error_code,a.error_message||a.error_description);return}i(k,null,[a])},this.subscribe("login.status",l));var n=function(a){i(l,null,[a]),d("sdk.XD").sendToFacebook(m,{method:"loginReload",params:ES("JSON","stringify",!1,a)})};this.subscribe("xd.login_button_dialog_open",function(a){c("sdk.ui")(ES("JSON","parse",!1,a.params),function(a){d("sdk.XD").sendToFacebook(m,{method:"loginComplete",params:"{}"}),n(a)})});this.subscribe("xd.login_button_prepare_call",function(a){var b=ES("JSON","parse",!1,a.params),d=a.params;j(b,m,n);c("sdk.Auth").subscribe("status.change",function(a){var b=ES("JSON","parse",!1,d);b.logger_id=c("guid")();a!=null&&a.status!=null&&a.status!=="connected"&&j(b,m,n)})});this.subscribe("xd.login_button_click",function(a){var b=ES("JSON","parse",!1,a.params);if(b.popup){if(c("sdk.feature")("e2e_tracking",!0)){a=c("sdk.Dialog").get(b.call.id);a.subscribe("e2e:end",function(a){a.method=b.call.params.method,a.display=b.call.params.display,d("Log").debug("e2e: %s",ES("JSON","stringify",!1,a)),d("sdk.Impressions").log(114,{payload:a})})}}else c("sdk.feature")("popup_blocker_scribe_logging",!0)&&d("sdk.Scribe").log("jssdk_error",{appId:c("sdk.Runtime").getClientID(),error:"POPUP_MAYBE_BLOCKED_NEW",extra:{call:b.call.name}})});var o=function(){i(l,null,[{status:c("sdk.Runtime").getLoginStatus(),authResponse:c("sdk.Auth").getAuthResponse()}])};this.subscribe("xd.login_button_connected",o);this.subscribe("xd.login_button_popup_closed",function(){c("sdk.Auth.LoginStatus").getLoginStatus(o,!0)})},shouldIgnoreWidth:function(){return!1},getParams:function(){return{scope:"string",asset_scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",show_login_numbers:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string",default_audience:"string",use_continue_as:"bool",layout:"string",button_type:"string",width:"px",height:"px",force_confirmation:"bool",messenger_page_id:"string",reset_messenger_state:"bool",config_id:"string"}}});b=a;g["default"]=b}),98);
__d("sdk.XFBML.MessengerCheckbox",["FB","IframePluginClass","Log","PluginAttrTypes","sdk.XD"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.app_id,c=a.page_id;a=a.user_ref;c='[page_id="'+c+'"][messenger_app_id="'+b+'"][user_ref="'+a+'"] iframe';b=document.querySelector(c);return(b==null?void 0:b.getAttribute("name"))||null}c("FB").provide("CheckboxPlugin",{confirm:function(a){var b=a.app_id,c=a.page_id,e=a.user_ref,f=h(a);if(b==null){d("Log").warn("app_id is a required parameter.");return}if(c==null){d("Log").warn("page_id is a required parameter.");return}if(e==null){d("Log").warn("user_ref is a required parameter.");return}if(f==null){d("Log").warn("No matching checkbox for the app_id, page_id, and user_ref given.");return}d("sdk.XD").sendToFacebook(f,{method:"confirmCheckboxSubmission",params:a})}});a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){return a.call(this,b,c,d,e,{fluid:!0,full_width:!0,mobile_fullsize:!1})||this}var c=b.prototype;c.getParams=function(){var a;return{messenger_app_id:(a=d("PluginAttrTypes")).string,page_id:a.string,pixel_id:a.string,prechecked:a.bool,allow_login:a.bool,size:a.string,origin:a.string,user_ref:a.string,identity_match:a.string,center_align:a.bool,opt_in_type:a.string,promotional_frequency:a.string,promotional_topic:a.string}};return b}(c("IframePluginClass"));g["default"]=a}),98);
__d("sdk.XFBML.MessengerCheckboxWrapper",["sdk.Observable","sdk.XFBML.MessengerCheckbox"],(function(a,b,c,d,e,f,g){a=function(a,b,c,d){return new h(a,b,c,d)};var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e){var f;f=b.call(this)||this;f.$MessengerCheckboxWrapper$p_2=a;f.$MessengerCheckboxWrapper$p_3=c;f.$MessengerCheckboxWrapper$p_4=d;f.$MessengerCheckboxWrapper$p_5=e;return f}var d=a.prototype;d.process=function(){var a=this;this.$MessengerCheckboxWrapper$p_5.should_use_new_domain=!0;this.$MessengerCheckboxWrapper$p_1=new(c("sdk.XFBML.MessengerCheckbox"))(this.$MessengerCheckboxWrapper$p_2,this.$MessengerCheckboxWrapper$p_3,this.$MessengerCheckboxWrapper$p_4,this.$MessengerCheckboxWrapper$p_5);this.$MessengerCheckboxWrapper$p_1.subscribe("render",function(){a.inform("render")});this.$MessengerCheckboxWrapper$p_1.process()};return a}(d("sdk.Observable").Observable);b=a;g["default"]=b}),98);
__d("sdk.XFBML.MessengerMessageUs",["IframePluginClass","PluginAttrTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){return a.call(this,b,c,d,e,{fluid:!1,full_width:!1,mobile_fullsize:!0})||this}var c=b.prototype;c.getParams=function(){var a;return{messenger_app_id:(a=d("PluginAttrTypes")).string,page_id:a.string,color:a.string,size:a.string}};return b}(c("IframePluginClass"));g["default"]=a}),98);
__d("sdk.XFBML.MessengerMessageUsWrapper",["sdk.Observable","sdk.XFBML.MessengerMessageUs"],(function(a,b,c,d,e,f,g){a=function(a,b,c,d){return new h(a,b,c,d)};var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e){var f;f=b.call(this)||this;f.$MessengerMessageUsWrapper$p_2=a;f.$MessengerMessageUsWrapper$p_3=c;f.$MessengerMessageUsWrapper$p_4=d;f.$MessengerMessageUsWrapper$p_5=e;return f}var d=a.prototype;d.process=function(){var a=this;this.$MessengerMessageUsWrapper$p_5.should_use_new_domain=!0;this.$MessengerMessageUsWrapper$p_1=new(c("sdk.XFBML.MessengerMessageUs"))(this.$MessengerMessageUsWrapper$p_2,this.$MessengerMessageUsWrapper$p_3,this.$MessengerMessageUsWrapper$p_4,this.$MessengerMessageUsWrapper$p_5);this.$MessengerMessageUsWrapper$p_1.subscribe("render",function(){a.inform("render")});this.$MessengerMessageUsWrapper$p_1.process()};return a}(d("sdk.Observable").Observable);b=a;g["default"]=b}),98);
__d("sdk.XFBML.Save",["IframePlugin","UrlMap","sdk.Content","sdk.DOM","sdk.DialogUtils","sdk.Event","sdk.Runtime","sdk.UA","sdk.XD","sdk.createIframe"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("IframePlugin").extend({constructor:function(a,b,e,f){var g=this;this.parent(a,b,e,f);var i=c("sdk.UA").mobile();this.subscribe("xd.savePluginGetBlankIframe",function(a){var b,c=function(a){a&&d("sdk.DOM").removeCss(a,"fb_invisible")},e=function(a){a&&d("sdk.DOM").addCss(a,"fb_invisible")};i&&(b=d("sdk.DialogUtils").setupNewDarkOverlay(),e(b),d("sdk.Content").append(b),d("sdk.DialogUtils").addDoubleClickAction(b,function(){return j.forEach(e)},5e3));var f=g.setupNewIframeDialog(ES("JSON","parse",!1,a.data),a.fromIframe);e(f);d("sdk.Content").append(f);var j=[f,b],k=function(){j.forEach(e),d("sdk.DialogUtils").onDialogHideCleanup(i),window.clearInterval(h)},l;g.subscribe("xd.savePluginShowIframe",function(){d("sdk.Event").fire("savePlugin:hideDialog"),j.forEach(c),g.positionOnScreen(f,b),!i&&!l&&(l=d("sdk.DialogUtils").addIdleDesktopAction(f,k,7e3))});g.subscribe("xd.savePluginHideIframe",function(){return k()});d("sdk.Event").subscribe("savePlugin:hideDialog",function(){return k()});var m=window.setInterval(function(){var b=document.getElementsByName(a.fromIframe);b.length===0&&(window.clearInterval(m),k(),j.forEach(function(a){a&&a.parentNode.removeChild(a)}))},500)})},positionOnScreen:function(a,b){var e=c("sdk.UA").mobile();if(e){var f=function(a,b){b!=null&&d("sdk.DialogUtils").setDialogPositionToCenter(b,e),d("sdk.DialogUtils").setDialogPositionToCenter(a,e)};f(a,b);d("sdk.DialogUtils").addMobileOrientationChangeAction(function(c){f(a,b)});h=window.setInterval(function(){return f(a,b)},100)}else d("sdk.DOM").setStyle(a,"position","fixed"),d("sdk.DOM").setStyle(a,"top","20px"),d("sdk.DOM").setStyle(a,"right","20px")},getOverlayIFrameURL:function(){return d("UrlMap").resolve("www")+(c("sdk.Runtime").getIsVersioned()?"/"+c("sdk.Runtime").getVersion():"")+"/plugins/save/overlay?app_id="+c("sdk.Runtime").getClientID()},setupNewIframeDialog:function(a,b){var e=this,f=d("sdk.DialogUtils").setupNewDialog(),g=function(){d("sdk.XD").sendToFacebook(b,{method:"saveOverlayIFrameAck",params:ES("JSON","stringify",!1,{name:"overlay_"+e._iframeOptions.name})})};c("sdk.createIframe")({url:this.getOverlayIFrameURL(),name:"overlay_"+this._iframeOptions.name,root:f.contentRoot,tabindex:-1,onload:ES(g,"bind",!0,this)});d("sdk.DOM").addCss(f.contentRoot,"fb_dialog_iframe");ES("Object","assign",!1,f.dialogElement.style,a.style||{});d("sdk.DOM").setStyle(f.dialogElement,"width",a.width+"px");d("sdk.DOM").setStyle(f.dialogElement,"height",a.height+"px");a.classList.forEach(function(a){return d("sdk.DOM").addCss(f.dialogElement,a)});d("sdk.DOM").removeCss(f.dialogElement,"fb_dialog_advanced");return f.dialogElement},getParams:function(){return{uri:"url",url_category:"string",size:"string"}}});b=a;g["default"]=b}),98);
__d("sdk.XFBML.SendToMessenger",["IframePluginClass","PluginAttrTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){return a.call(this,b,c,d,e,{fluid:!1,full_width:!1,mobile_fullsize:!0})||this}var c=b.prototype;c.getParams=function(){var a;return{messenger_app_id:(a=d("PluginAttrTypes")).string,page_id:a.string,color:a.string,size:a.string,enforce_login:a.bool,identity_match:a.string,origin:a.string,cta_text:a.string,allow_login:a.bool}};return b}(c("IframePluginClass"));g["default"]=a}),98);
__d("sdk.XFBML.SendToMessengerWrapper",["sdk.Observable","sdk.XFBML.SendToMessenger"],(function(a,b,c,d,e,f,g){a=function(a,b,c,d){return new h(a,b,c,d)};var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e){var f;f=b.call(this)||this;f.$SendToMessengerWrapper$p_2=a;f.$SendToMessengerWrapper$p_3=c;f.$SendToMessengerWrapper$p_4=d;f.$SendToMessengerWrapper$p_5=e;return f}var d=a.prototype;d.process=function(){var a=this;this.$SendToMessengerWrapper$p_5.should_use_new_domain=!0;this.$SendToMessengerWrapper$p_1=new(c("sdk.XFBML.SendToMessenger"))(this.$SendToMessengerWrapper$p_2,this.$SendToMessengerWrapper$p_3,this.$SendToMessengerWrapper$p_4,this.$SendToMessengerWrapper$p_5);this.$SendToMessengerWrapper$p_1.subscribe("render",function(){a.inform("render")});this.$SendToMessengerWrapper$p_1.process()};return a}(d("sdk.Observable").Observable);b=a;g["default"]=b}),98);
__d("sdk.XFBML.ShareButton",["IframePlugin"],(function(a,b,c,d,e,f,g){"use strict";a=c("IframePlugin").extend({constructor:function(a,b,c,d){this.parent(a,b,c,d)},getParams:function(){return{href:"url",layout:"string",mobile_iframe:"bool",type:"string",size:"string"}}});b=a;g["default"]=b}),98);
__d("sdk.XFBML.Video",["Assert","IframePlugin","ObservableMixin","sdk.Event","sdk.XD"],(function(a,b,c,d,e,f,g){var h=function(){function a(a){this.$1=a.isMuted,this.$2=a.volume,this.$3=a.timePosition,this.$4=a.duration}var b=a.prototype;b.update=function(a){a.isMuted!==void 0&&(this.$1=a.isMuted),a.volume!==void 0&&(this.$2=a.volume),a.timePosition!==void 0&&(this.$3=a.timePosition),a.duration!==void 0&&(this.$4=a.duration)};b.isMuted=function(){return this.$1};b.getVolume=function(){return this.$1?0:this.$2};b.getCurrentPosition=function(){return this.$3};b.getDuration=function(){return this.$4};return a}(),i=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.play=function(){d("sdk.XD").sendToFacebook(this.$1,{method:"play",params:ES("JSON","stringify",!1,{})})};b.pause=function(){d("sdk.XD").sendToFacebook(this.$1,{method:"pause",params:ES("JSON","stringify",!1,{})})};b.seek=function(a){c("Assert").isNumber(a,"Invalid argument"),d("sdk.XD").sendToFacebook(this.$1,{method:"seek",params:ES("JSON","stringify",!1,{target:a})})};b.mute=function(){d("sdk.XD").sendToFacebook(this.$1,{method:"mute",params:ES("JSON","stringify",!1,{})})};b.unmute=function(){d("sdk.XD").sendToFacebook(this.$1,{method:"unmute",params:ES("JSON","stringify",!1,{})})};b.setVolume=function(a){c("Assert").isNumber(a,"Invalid argument"),d("sdk.XD").sendToFacebook(this.$1,{method:"setVolume",params:ES("JSON","stringify",!1,{volume:a})})};b.isMuted=function(){return this.$3.isMuted()};b.getVolume=function(){return this.$3.getVolume()};b.getCurrentPosition=function(){return this.$3.getCurrentPosition()};b.getDuration=function(){return this.$3.getDuration()};b.subscribe=function(a,b){var d=this;c("Assert").isString(a,"Invalid argument");c("Assert").isFunction(b,"Invalid argument");this.$2.subscribe(a,b);return{release:function(){d.$2.unsubscribe(a,b)}}};return a}();a=c("IframePlugin").extend({constructor:function(a,b,e,f){this.parent(a,b,e,f),this._videoController=null,this._sharedObservable=null,this._sharedVideoCache=null,this.subscribe("xd.onVideoAPIReady",function(a){this._sharedObservable=new(c("ObservableMixin"))(),this._sharedVideoCache=new h(ES("JSON","parse",!1,a.data)),this._videoController=new i(this._iframeOptions.name,this._sharedObservable,this._sharedVideoCache),d("sdk.Event").fire("xfbml.ready",{type:"video",id:f.id,instance:this._videoController})}),this.subscribe("xd.stateChange",function(a){this._sharedObservable.inform(a.state)}),this.subscribe("xd.cachedStateUpdateRequest",function(a){this._sharedVideoCache.update(ES("JSON","parse",!1,a.data))})},getParams:function(){return{allowfullscreen:"bool",autoplay:"bool",controls:"bool",href:"url",show_captions:"bool",show_text:"bool"}},getConfig:function(){return{fluid:!0,full_width:!0}}});b=a;g["default"]=b}),98);
__d("sdk.CustomTags",["sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.CustomerChatWrapper","sdk.XFBML.LWIAdsCreation","sdk.XFBML.LWIAdsInsights","sdk.XFBML.LoginButton","sdk.XFBML.MessengerCheckboxWrapper","sdk.XFBML.MessengerMessageUsWrapper","sdk.XFBML.Save","sdk.XFBML.SendToMessengerWrapper","sdk.XFBML.ShareButton","sdk.XFBML.Video"],(function(a,b,c,d,e,f,g){"use strict";a={comments:b("sdk.XFBML.Comments"),comments_count:b("sdk.XFBML.CommentsCount"),login_button:b("sdk.XFBML.LoginButton"),customerchat:d("sdk.XFBML.CustomerChatWrapper").CustomerChatWrapperPlugin,lwi_ads_creation:b("sdk.XFBML.LWIAdsCreation"),lwi_ads_insights:b("sdk.XFBML.LWIAdsInsights"),messengermessageus:b("sdk.XFBML.MessengerMessageUsWrapper"),send_to_messenger:b("sdk.XFBML.SendToMessengerWrapper"),messenger_checkbox:b("sdk.XFBML.MessengerCheckboxWrapper"),save:b("sdk.XFBML.Save"),share_button:b("sdk.XFBML.ShareButton"),video:b("sdk.XFBML.Video")};c=a;g["default"]=c}),98);
__d("sdk.XFBML-public",["AssertionError","FB","IframePlugin","PluginConfig","PluginTags","XFBML","sdk.CustomTags","sdk.Event","sdk.domReady","sdk.feature","wrapFunction"],(function(a,b,c,d,e,f){function a(){b("FB").provide("XFBML",{parse:function(a){if(a!=null&&!((a.nodeType===1||a.nodeType===9)&&typeof a.nodeName==="string"))throw new(b("AssertionError"))("Invalid argument");a&&a.nodeType===9&&a.body;return b("XFBML").parse.apply(null,arguments)}});b("XFBML").subscribe("parse",function(a){return b("sdk.Event").fire("xfbml.parse",a[0],a[1])});b("XFBML").subscribe("render",function(a){return b("sdk.Event").fire("xfbml.render",a[0],a[1])});b("sdk.Event").subscribe("init:post",function(a){a.xfbml&&window.setTimeout(b("wrapFunction")(ES(b("sdk.domReady"),"bind",!0,null,b("XFBML").parse),"entry","init:post:xfbml.parse"),0)});try{document.namespaces&&!document.namespaces.item.fb&&document.namespaces.add("fb")}catch(a){}}function c(){var a=b("sdk.feature")("plugin_tags_blocklist",[]);Object.keys(b("PluginTags")).forEach(function(c){if(a.indexOf(c)!==-1)return;b("XFBML").registerTag({xmlns:"fb",localName:c.replace(/_/g,"-"),ctor:b("IframePlugin").withParams(b("PluginTags")[c],b("PluginConfig")[c])})});Object.keys(b("sdk.CustomTags")).forEach(function(c){if(a.indexOf(c)!==-1)return;b("XFBML").registerTag({xmlns:"fb",localName:c.replace(/_/g,"-"),ctor:b("sdk.CustomTags")[c]})})}d={init:a,initXFBMLBasedSocialPlugin:c};e=d;f["default"]=e}),66);
__d("sdk.api-public",["ApiClient","FB","sdk.Runtime","sdk.Scribe","sdk.api","sdk.feature"],(function(a,b,c,d,e,f,g){var h=c("sdk.feature")("should_log_response_error",!1),i;function a(){var a;c("sdk.Runtime").subscribe("ClientID.change",function(a){return c("ApiClient").setClientID(a)});c("sdk.Runtime").subscribe("AccessToken.change",function(a){i=a,c("ApiClient").setAccessToken(a)});(a=c("ApiClient")).setDefaultParams({sdk:"joey"});a.subscribe("request.complete",function(a,b,d,e){a=!1;e&&typeof e==="object"&&(e.error?(e.error=="invalid_token"||e.error.type=="OAuthException"&&e.error.code==190)&&(a=!0):e.error_code&&(e.error_code=="190"&&(a=!0)));a&&i===c("sdk.Runtime").getAccessToken()&&c("sdk.Runtime").setAccessToken(null)});a.subscribe("request.complete",function(a,b,d,e){(a=="/me/permissions"&&b==="delete"||a=="/restserver.php"&&d.method=="Auth.revokeAuthorization")&&e===!0&&c("sdk.Runtime").setAccessToken(null)});a.subscribe("request.error",function(a,b,e,f){h&&f.error.type==="http"&&d("sdk.Scribe").log("jssdk_error",{appId:c("sdk.Runtime").getClientID(),error:"transport",extra:{name:"transport",message:ES("JSON","stringify",!1,f.error)+" from "+a+" , "+b}})});c("FB").provide("",{api:c("sdk.api")})}b={init:a};e=b;g["default"]=e}),98);
__d("sdk.MBasicInitializer",["UrlMap","sdk.DOM","sdk.Runtime","sdk.UA","sdk.URI","sdk.fbt"],(function(a,b,c,d,e,f,g){var h=function(){function a(a){if(!a)return;var b=a.parentNode;if(!b)return;var e=d("sdk.DOM").getAttr(a,"href")||window.location.href,f=new(c("sdk.URI"))(d("UrlMap").resolve("m"));f.setPath("/dialog/share");f.addQueryData("href",encodeURI(e));f.addQueryData("app_id",c("sdk.Runtime").getClientID());f.addQueryData("mbasic_link",1);e=document.createElement("a");e.style="display:inline-block; zoom:1;";e.textContent=c("sdk.fbt")._("Condividi su Facebook");e.setAttribute("href",f.toString());e.setAttribute("target","_blank");b.insertBefore(e,a);b.removeChild(a)}ES("Array","from",!1,document.getElementsByTagName("fb:share-button")).forEach(function(b){return a(b)});ES("Array","from",!1,document.getElementsByClassName("fb-share-button")).forEach(function(b){return a(b)})};function a(){if(!c("sdk.UA").mBasic())return;h()}g.init=a}),98);
__d("sdk.init",["Log","ManagedError","sdk.Cookie","sdk.Event","sdk.MBasicInitializer","sdk.PlatformVersioning","sdk.Runtime","sdk.UA","sdk.URI"],(function(a,b,c,d,e,f,g){function h(a){var b=typeof a==="number"&&a>0||typeof a==="string"&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(a);if(b)return a.toString();d("Log").warn("Invalid App Id: Must be a number or numeric string representing the application id.");return null}function a(a){c("sdk.Runtime").getInitialized()&&d("Log").warn("FB.init has already been called - this could indicate a problem");if(c("sdk.Runtime").getIsVersioned()){if(Object.prototype.toString.call(a)!=="[object Object]")throw new(c("ManagedError"))("Invalid argument");if(a.authResponse)throw new(c("ManagedError"))("Setting authResponse is not supported");a.version||(a.version=new(c("sdk.URI"))(location.href).getQueryData().sdk_version);d("sdk.PlatformVersioning").assertValidVersion(a.version);c("sdk.Runtime").setVersion(a.version)}else/number|string/.test(typeof a)&&(d("Log").warn("FB.init called with invalid parameters"),a={apiKey:a}),a.status==null&&(a.legacyStatusInit=!0),a=babelHelpers["extends"]({status:!0},a||{});var b=h(a.appId||a.apiKey);b!==null&&c("sdk.Runtime").setClientID(b);"scope"in a&&c("sdk.Runtime").setScope(a.scope);a.cookie&&(c("sdk.Runtime").setUseCookie(!0),typeof a.cookie==="string"&&d("sdk.Cookie").setDomain(a.cookie));(a.localStorage===!1||a.localStorage==="false")&&c("sdk.Runtime").setUseLocalStorage(!1);a.kidDirectedSite&&c("sdk.Runtime").setKidDirectedSite(!0);a.useFamilyLogin&&c("sdk.Runtime").setShouldLoadFamilyLogin(!0);(a.autoLogAppEvents==="1"||a.autoLogAppEvents==="true")&&(a.autoLogAppEvents=!0);a.ab&&c("sdk.Runtime").setSDKAB(a.ab);c("sdk.Runtime").setInitialized(!0);c("sdk.UA").mBasic()&&d("sdk.MBasicInitializer").init();d("sdk.Event").fire("init:post",a)}g["default"]=a}),98);
__d("sdk.init-public",["FB","QueryString","sdk.AppEvents","sdk.ErrorHandling","sdk.Event","sdk.Frictionless","sdk.XD","sdk.init"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("sdk.XD"),b("sdk.AppEvents"),b("sdk.Frictionless"),window.setTimeout(function(){var a=/(connect\.facebook\.net|\.facebook\.com\/assets.php|\.facebook\.net\/assets.php).*?#(.*)/;ES("Array","from",!1,window.document.getElementsByTagName("script")).forEach(function(b){if(b.src){b=a.exec(b.src);if(b){var d={};b=c("QueryString").decode(b[2]);for(var e in b)if(Object.prototype.hasOwnProperty.call(b,e)){var f=b[e];f==="0"?d[e]=0:d[e]=f}c("sdk.init")(d)}}});window.fbAsyncInit&&!window.fbAsyncInit.hasRun&&(d("sdk.Event").fire("init:asyncstart"),window.fbAsyncInit.hasRun=!0,c("sdk.ErrorHandling").unguard(window.fbAsyncInit)())},0),c("FB").provide("",{init:c("sdk.init")}),d("sdk.Event").subscribe("init:post",function(){window.__buffer!==void 0&&window.__buffer.replay()}),window.setTimeout(function(){window.__buffer&&window.__buffer.opts&&c("sdk.init")(window.__buffer.opts)},0)}e={initialize:a};f=e;g["default"]=f}),98);
__d("sdk.Time",["Log","sdk.Impressions","sdk.Runtime","sdk.URI","sdk.feature"],(function(a,b,c,d,e,f,g){"use strict";var h=window.performance,i=h&&"now"in h&&"getEntriesByName"in h,j,k={};function a(){function a(a,b){var e=!1;try{a=new(c("sdk.URI"))(a.name);var f=a.getDomain();a=a.getPath();e=f===b.getDomain()&&ES(a,"includes",!0,"/rsrc.php/")}catch(a){d("Log").error("Malformed URL was passed to the URL constructor: Error %s occured",a.message)}return e}function b(b){try{var e=h.getEntriesByType("resource").filter(function(d){return a(d,new(c("sdk.URI"))(b))}),f=e.length>=1;f||(e=h.getEntriesByType("resource").filter(function(a){return ES(a.name,"startsWith",!0,b)}));return e}catch(a){d("Log").error("Malformed URL was passed to the URL constructor: Error %s occured",a.message)}}if(i){var e=c("sdk.Runtime").getSDKUrl(),f=null;b=b(e);if(b&&b.length>1)if(b>2)b=null;else{var g=ES(b,"findIndex",!0,function(a){return ES(a.name,"startsWith",!0,e+"?hash=")});!g?b=null:(f=b.splice(g)[0],b=b[0])}else if(b&&b.length===1){g=document.getElementById("facebook-jssdk-iframe");g&&g instanceof HTMLIFrameElement&&(f=g.contentWindow.performance.getEntriesByType("resource").find(function(a){return ES(a.name,"startsWith",!0,e)}));b=b[0]}else b=null;b&&(k.fetchTime=Math.round(b.duration),f&&(k.fetchTime+=Math.round(f.duration)),"transferSize"in b&&(k.transferSize=b.transferSize,f&&(k.transferSize+=f.transferSize)),d("Log").debug("sdkperf: it took %s ms and %s bytes to load %s",k.fetchTime,k.transferSize,e),j=b.startTime,k.ns=c("sdk.Runtime").getSDKNS(),j&&window.setTimeout(function(){var a=c("sdk.feature")("log_perf",!1),b=c("sdk.Runtime").getSDKAB();b&&(k.ab=b,a=!0);a&&d("sdk.Impressions").log(116,k)},1e4))}}function b(a){if(!i||!j)return;k[a]=Math.round(h.now()-j);d("Log").debug("sdkperf: %s logged after %s ms",a,k[a])}g.recordBootload=a;g.log=b}),98);
__d("sdk.time-public",["runOnce","sdk.Event","sdk.Time"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;d("sdk.Time").recordBootload();(a=d("sdk.Event")).subscribe("init:post",function(){d("sdk.Time").log("init")});a.subscribe("init:asyncstart",function(){d("sdk.Time").log("asyncstart")});a.subscribe("iframeplugin:create",c("runOnce")(function(){return d("sdk.Time").log("pluginframe")}));a.subscribe("iframeplugin:onload",c("runOnce")(function(){return d("sdk.Time").log("ttfp")}))}b={init:a};e=b;g["default"]=e}),98);
__d("legacy:fb.sdk.index",["FB","sdk.AppEvents-public","sdk.Auth-public","sdk.Canvas-public","sdk.Event-public","sdk.Frictionless-public","sdk.GamingServices-public","sdk.Runtime","sdk.XFBML-public","sdk.api-public","sdk.init-public","sdk.time-public","sdk.ui"],(function(a,b,c,d,e,f,g){c("sdk.api-public").init();c("sdk.AppEvents-public").init();c("sdk.Auth-public").init();(a=c("sdk.Canvas-public")).init();a.initCanvasPlugin();a.initCanvasPrefetcher();a.initCanvasPresence();c("sdk.Event-public").init();c("sdk.Frictionless-public").init();c("sdk.GamingServices-public").init();c("sdk.init-public").initialize();c("sdk.time-public").init();c("FB").provide("",{ui:c("sdk.ui")});c("sdk.XFBML-public").init();c("sdk.XFBML-public").initXFBMLBasedSocialPlugin();c("sdk.Runtime").setIsVersioned(!0)}),35);
window.FB&&window.FB.__buffer&&(window.__buffer=babelHelpers["extends"]({},window.FB.__buffer));    }  }).call(global);})();} catch (e) {var i = new Image();i.crossOrigin = 'anonymous';i.dataset.testid = 'fbSDKErrorReport';i.src='https://www.facebook.com/platform/scribe_endpoint.php/?c=jssdk_error&m='+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script||"sdk.js")+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"1010857813","namespace":"FB","message":"'+e.message+'"}}');document.body.appendChild(i);}