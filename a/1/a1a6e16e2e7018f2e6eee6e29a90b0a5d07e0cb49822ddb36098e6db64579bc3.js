(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8392],{70355:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=null,i=o=function(){var t=window;return t.google&&t.google.ima?Promise.resolve(t.google.ima):(n||(n=new Promise(function(t,e){var r=document.createElement("script");r.async=!0,r.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js",r.onload=t,r.onerror=e,document.body.appendChild(r)}).then().then(i).catch(i),n)}},18724:82469:93296:function(t,e,r){"use strict";r.d(e,{Xm:function(){return T},cz:function(){return S}});var n,i=r(18724);new Uint8Array([79,112,117,115,72,101,97,100]);var o=a=n=[{id:3,parser:,{id:4,parser:,{id:5,parser:function(t){return{tag:5,bytes:t}}},{id:6,parser:];var s=u={EBML:(0,i.Ki)([26,69,223,163]),DocType:(0,i.Ki)([66,130]),Segment:(0,i.Ki)([24,83,128,103]),SegmentInfo:(0,i.Ki)([21,73,169,102]),Tracks:(0,i.Ki)([22,84,174,107]),Track:(0,i.Ki)([174]),TrackNumber:(0,i.Ki)([215]),DefaultDuration:(0,i.Ki)([35,227,131]),TrackEntry:(0,i.Ki)([174]),TrackType:(0,i.Ki)([131]),FlagDefault:(0,i.Ki)([136]),CodecID:(0,i.Ki)([134]),CodecPrivate:(0,i.Ki)([99,162]),VideoTrack:(0,i.Ki)([224]),AudioTrack:(0,i.Ki)([225]),Cluster:(0,i.Ki)([31,67,182,117]),Timestamp:(0,i.Ki)([231]),TimestampScale:(0,i.Ki)([42,215,177]),BlockGroup:(0,i.Ki)([160]),BlockDuration:(0,i.Ki)([155]),Block:(0,i.Ki)([161]),SimpleBlock:(0,i.Ki)([163])},l=[128,64,32,16,8,4,2,1],d=c=h=p=f=function t(e,r){r=Array.isArray(n=r)?n.map(function(t){return h(t)}):[h(n)],e=(0,i.Ki)(e);var n,o=[];if(!r.length)return o;for(var a=0;a<e.length;){var s=c(e,a,!1),u=c(e,a+s.length),l=a+s.length+u.length;127===u.value&&(u.value=p(s,e,l),u.value!==e.length&&(u.value-=l));var d=l+u.value>e.length?e.length:l+u.value,f=e.subarray(l,d);(0,i.G3)(r[0],s.bytes)&&(1===r.length?o.push(f):o=o.concat(t(f,r.slice(1))));var g=s.length+u.length+f.length;a+=g}return o},g=r(40600),m=(0,i.Ki)([0,0,0,1]),y=(0,i.Ki)([0,0,1]),v=(0,i.Ki)([0,0,3]),b=A=E={webm:(0,i.Ki)([119,101,98,109]),matroska:(0,i.Ki)([109,97,116,114,111,115,107,97]),flac:(0,i.Ki)([102,76,97,67]),ogg:(0,i.Ki)([79,103,103,83]),ac3:(0,i.Ki)([11,119]),riff:(0,i.Ki)([82,73,70,70]),avi:(0,i.Ki)([65,86,73]),wav:(0,i.Ki)([87,65,86,69]),"3gp":(0,i.Ki)([102,116,121,112,51,103]),mp4:(0,i.Ki)([102,116,121,112]),fmp4:(0,i.Ki)([115,116,121,112]),mov:(0,i.Ki)([102,116,121,112,113,116]),moov:(0,i.Ki)([109,111,111,118]),moof:(0,i.Ki)([109,111,111,102])},D={aac:function(t){var e=(0,g.c)(t);return(0,i.G3)(t,[255,16],{offset:e,mask:[255,22]})},mp3:webm:function(t){var e=f(t,[u.EBML,u.DocType])[0];return(0,i.G3)(e,E.webm)},mkv:mp4:mov:"3gp":ac3:function(t){var e=(0,g.c)(t);return(0,i.G3)(t,E.ac3,{offset:e})},ts:flac:ogg:avi:function(t){return(0,i.G3)(t,E.riff)&&(0,i.G3)(t,E.avi,{offset:8})},wav:h264:h265:,w=Object.keys(D).filter(.concat(["ts","h264","h265"]);w.forEach(;var T=S=,44532:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var n=r(82765),i=r.n(n),o=r(46785).lW;function a(t){for(var e=i().atob?i().atob(t):o.from(t,"base64").toString("binary"),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}},40600:1235:80430:97263:17111:,56591,46785,61453,82765,81010,93413,29630s]=i[s]},45147:function(t,e,r){"use strict";r.d(e,{_b:function(){return f}});var n=r(e)})},t}(),o=r(57384),a=r(13901),s=r(e+1)},1eturn n},c=funrs=[],e}(0,n.Z)(e,t);var r=e.prototype;return r.push=function(t){var e,r,n=this;if(0!==(t=t.trim()).length){if("#"!==t[0]){this.trigger("data",{type:"uri",uri:t});return}this.tagMapperat([n])},[t]).forEach(function(t){for(var i=0;i<n.customParsers.length;i++)if(n.customParsers[i].call(n,t))return;if(0!==t.indexOf("#EXT")){n.trigger("data",{type:"comment",text:t.slice(1)});return}if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t)){n.trigger("data",{type:"tag",tagType:"m3u"});return}if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t)){r={type:"tag",tagType:"inf"},e[1]&&(r.duration=parseFloat(e[1])),e[2]&&(r.title=e[2]),n.trigger("data",r);return}if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t)){r={type:"tag",tagType:"targetduration"},e[1]&&(r.duration=parseInt(e[1],10)),n.trigger("data",r);return}if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t)){r={type:"tag",tagType:"version"},e[1]&&(r.version=parseInt(e[1],10)),n.trigger("data",r);return}if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t)){r={type:"tag",tagType:"media-sequence"},e[1]&&(r.number=parseInt(e[1],10)),n.trigger("data",r);return}if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t)){r={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(r.number=parseInt(e[1],10)),n.trigger("data",r);return}if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t)){r={type:"tag",tagType:"playlist-type"},e[1]&&(r.playlistType=e[1]),n.trigger("data",r);return}if(e=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(t)){r=(0,o.Z)(l(e[1]),{type:"tag",tagType:"byterange"}),n.trigger("data",r);return}if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t)){r={type:"tag",tagType:"allow-cache"},e[1]&&(r.allowed=!/NO/.test(e[1])),n.trigger("data",r);return}if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(r={type:"tag",tagType:"map"},e[1]){var a=d(e[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=l(a.BYTERANGE))}n.trigger("data",r);return}if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(r={type:"tag",tagType:"stream-inf"},e[1]){if(r.attributes=d(e[1]),r.attributes.RESOLUTION){var s=r.attributes.RESOLUTION.split("x"),u={};s[0]&&(u.width=parseInt(s[0],10)),s[1]&&(u.height=parseInt(s[1],10)),r.attributes.RESOLUTION=u}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}n.trigger("data",r);return}if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t)){r={type:"tag",tagType:"media"},e[1]&&(r.attributes=d(e[1])),n.trigger("data",r);return}if(e=/^#EXT-X-ENDLIST/.exec(t)){n.trigger("data",{type:"tag",tagType:"endlist"});return}if(e=/^#EXT-X-DISCONTINUITY/.exec(t)){n.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t)){r={type:"tag",tagType:"program-date-time"},e[1]&&(r.dateTimeString=e[1],r.dateTimeObject=new Date(e[1])),n.trigger("data",r);return}if(e=/^#EXT-X-KEY:?(.*)$/.exec(t)){r={type:"tag",tagType:"key"},e[1]&&(r.attributes=d(e[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),n.trigger("data",r);return}if(e=/^#EXT-X-START:?(.*)$/.exec(t)){r={type:"tag",tagType:"start"},e[1]&&(r.attributes=d(e[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),n.trigger("data",r);return}if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t)){r={type:"tag",tagType:"cue-out-cont"},e[1]?r.data=e[1]:r.data="",n.trigger("data",r);return}if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t)){r={type:"tag",tagType:"cue-out"},e[1]?r.data=e[1]:r.data="",n.trigger("data",r);return}if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t)){r={type:"tag",tagType:"cue-in"},e[1]?r.data=e[1]:r.data="",n.trigger("data",r);return}if((e=/^#EXT-X-SKIP:(.*)$/.exec(t))&&e[1]){(r={type:"tag",tagType:"skip"}).attributes=d(e[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split("	")),n.trigger("data",r);return}if((e=/^#EXT-X-PART:(.*)$/.exec(t))&&e[1]){(r={type:"tag",tagType:"part"}).attributes=d(e[1]),["DURATION"].forEach(function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseFloat(r.attributes[t]))}),["INDEPENDENT","GAP"].forEach(function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=/YES/.test(r.attributes[t]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=l(r.attributes.BYTERANGE)),n.trigger("data",r);return}if((e=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t))&&e[1]){(r={type:"tag",tagType:"server-control"}).attributes=d(e[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseFloat(r.attributes[t]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"]es[t]))}),n.trigger("data",r);return}if((e=/^#EXT-X-PART-INF:(.*)$/.exec(t))&&e[1]){(r={type:"tag",tagType:"part-inf"}).attributes=d(e[1]),["PART-TARGET"]es[t]))}),n.trigger("data",r);return}if((e=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t))&&e[1]){(r={type:"tag",tagType:"preload-hint"}).attributes=d(e[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(t){r.attributes.hasOwnProperty(t)&&(r.attributes[t]=parseInt(r.attributes[t],10),r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange["BYTERANGE-LENGTH"===t?"length":"offset"]=r.attributes[t],delete r.attributes[t])}),n.trigger("data",r);return}if((e=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t))&&e[1]){(r={type:"tag",tagType:"rendition-report"}).attributes=d(e[1]),["LAST-MSN","LAST-PART"]t],10))}),n.trigger("data",r);return}n.trigger("data",{type:"tag",data:t.slice(4)})})}},r.a}),!0})},r.addT(t):t})},e}(i),h=function(t){var e={};return Object.keys(t))]=t[r[a]=u)}},f=function(t){function e(){(e=t.call(this)||this).lineStream=new u,e.parseStream=new c,e.lineStream.pipe(e.parseStream);var e,r,n,i=(0,a.Z)(e),l=[],d={},f=!1,g=function(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},y=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var v=0,b=0;return e.ment=d)}),e.parseStream.on("data",function(t){var e,a;({tag:function(){((ersion)},"alloche=!0)},b.length}Listments=l},key:function(){if(!t.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if("NONE"===t.attributes.METHOD){n=null;return}if(!t.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if("com.apple.streamingkeydelivery"===t.attributes.KEYFORMAT){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:t.attributes};return}if("com.microsoft.playready"===t.attributes.KEYFORMAT){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:t.attributes.URI};return}if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){if(-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2))){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:(0,s.Z)(t.attributes.URI.split(",")[1])};return}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(n.iv=t.attributes.IV)},"media-s.number},"discontinuity-s.number},"playliistT.key=n)},"stributesNAME]=a},discolength)},"program-daeObject},targetnifestRECISE}},"cue-out":function(){d.cueOut=t.data},"cue-out-cont":function(){d.cueOutCont=t.data},=t.daENTS"RT"})})},"server- set"})},"preload-hint":function(){var e=this.manifest.segments.length,r=h(t.attributes),n=r.type&&"PART"===r.type;d.preloadHints=d.preloadHints||[],d.preloadHints.push(r),r.byterange&&!r.byterange.hasOwnProperty("offset")&&(r.byterange.offset=n?b:0,n&&(b=r.byterange.offset+r.byterange.length));var i=d.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+e,t.attributes,["TYPE","URI"]),r.type)for(var o=0;o<d.preloadHints.length-1;o++){var a=d.preloadHints[o];a.type&&a.type===r.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+e+" has the same TYPE "+r.type+" as preload hint #"+o})}},"renditionutes,n)},"pnifest)}})[t.tagType]||g).call=0,d={}},comment:function(){t.data)}})[t.type].call(i)}),e}(0,n.Z)(e,t);var r=e.prototype;return r.warnOnMissingAtt", ")})},r.push=function(t){this.lineStream.push(t("end")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(i)},47470:function(t,e,r){"use strict";r.d(e,{jp:function(){return w},mm:function(){return k},Qc:function(){return th},LG:function(){return tp}});var n=r(80430),i=r(82765),o=,n,i)})},s=r(44532),u=ryp,e tete)etturn -1},m={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},y=function(t){var e=t.baseUrl,r=t.source,i=void 0===r?"":r,a=t.range,s=void 0===a?"":a,u=t.indexRange,l=void 0===u?"":u,d={uri:i,resolvedUri:(0,n.Z)((void 0===e?"":e)||"",i)};if(s||l){var c,h=(s||l).split("-"),p=o().BigInt?o().BigInt(h[0]):parseInt(h[0],10),f=o().BigInt?o().BigInt(h[1]):parseInt(h[1],10);p<Number.MAX_SAFE_INTEGER&&"bigint"==typeof p&&(p=Number(p)),f<Number.MAX_SAFE_INTEGER&&"bigint"==typeof f&&(f=Number(f)),"bigint"==typeof(c="bigint"==typeof f||"bigint"==typeof p?o().BigInt(f)-o().BigInt(p)+o().BigInt(1):f-p+1)&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),d.byterange={length:c,offset:p}}rett+"-"+e},b=function(t){return(t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t))?null:t},And:n/a}},dynamic:function(t){var e=t.NOW,r=t.clientOffset,n=t.availabilityStartTime,i=t.timescale,o=void 0===i?1:i,a=t.duration,s=t.periodStart,u=t.minimumUpdatePeriod,l=t.timeShiftBufferDepth,d=b(t.endNumber),c=(e+r)/1e3,h=n+(void 0===s?0:s);return{start:Math.max(0,Math.floor((c-h-(void 0===l?1/0:l))*o/a)),end:"number"==typeof d?d:Math.min(Math.ceil((c+(void 0===u?0:u)-h)*o/a),Math.floor((c-h)*o/a))}}},E=function(t){var e=t.type,r=t.duration,n=t.timescale,i=t.periodDuration,o=t.sourceDuration,a=A[e](t),s=h(a.start,a.me:e*r}});if("static"===e){var u=s.length-1;s[u].duration=("number"==typeof i?i:o)-r/(void 0===n?1:n)*u}ret0:u,[c]},w=function(t,e,r){var n,i=t.sidx.map?t.sidx.map:null,a=t.sidx.duration,s=t.timeline||0,u=t.sidx.byterange,l=u.offset+u.length,d=e.timescale,c=e.referencenceType}),h=[],p=t.endList?"static":"dynamic",f=t.sidx.timeline,g=f,m=t.mediaSequence||0;n="bigint"==typeof e.firstOffset?o().BigInt(l)+e.firstOffset:l+e.firstOffset;for(var y=0;y<c.length;y++){var v=e.references[y],b=v.referencedSize,A=v.subsegmentDuration,E=void 0;E="bigint"==typeof n?n+o().BigInt(b)-o().BigInt(1):n+b-1;var w=D({baseUrl:r,timescale:d,timeline:s,periodStart:f,presentationTime:g,number:m,duration:A,sourceDuration:a,indexRange:n+"-"+E,type:p})[0];i&&(w.map=i),h.push(w),"bigint"==typeof n?n+=o().BigInt(b):n+=b,g+=A/d,m++}return t.segments=h,t},T=["AUDIO","SUBTITLES"],S=1/60,C=function(t){return c(]=e}),t},{ne?1rn[]ncerrter[]dUetubents:n}},_=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var n,i=t.reduce(function(t,i){var o=i.attributes.role&&i.attributes.role.value||"",a=i.attributes.lang||"",s=i.attributes.label||"main";a&&!i.attributes.label&&(s=""+i.attributes.lang+(o?" ("+o+")":"")),t[s]||(t[s]={language:a,autoselect:!0,default:"main"===o,playlists:[],uri:""});var u=M(U(i,r),e);return t[s].playlists.push(u),void 0===n&&"main"===o&&((n=i).default=!0),t},{});if(!n){var o=Object.keys(i)[0];i[o].default=!0}return i},q=function(t){var e,r=t.attributes,n=t.segments,i=t.sidx,o=t.discontinuityStarts,a={attributes:((e={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth})["PROGRAM-ID"]=1,e),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuityStarts:o,timelineStarts:r.timelineStarts,segments:n};return r.contentProtection&&(a.contentProtection=r.contentProtection),i&&(a.sidx=i),a},j=function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contenenenr=,[]):[]},X=function(t){var e,r,n=t.dashPlaylists,i=t.locations,o=t.sidxMapping,a=void 0===o?{}:o,s=t.previousManifest;if(!n.length)return{};var u=n[0].attributes,l=u.sourceDuration,d=u.type,c=u.suggestedPresentationDelay,h=u.minimumUpdatePeriod,p=x(n.filter(j)).map(q),f=x(n.filter(F)),g=x(n.filter(V))ervices}).filter(Boolean),y={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((r={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:l,playlists:O(p,a)};h>=0&&(y.minimumUpdatePeriod=1e3*h),i&&(y.locations=i),"dynamic"===d&&(y.suggestedPresentationDelay=c);var v=0===y.playlists.length,b=f.length?_(f,a,v):null,A=g.length?(void 0===(e=a)&&(e={}),),e)),t},{})):null,E=p.concat(G(b),G(A))eStarts});return y.timelineStarts=C(D),H(E,y.timelineStarts),b&&(y.mediaGroups.AUDIO.audio=b),A&&(y.mediaGroups.SUBTITLES.subs=A),m.length&&(y.mediaGroups["CLOSED-CAPTIONS"].cc="])}),t},{})),s?I({oldManifest:s,newManifest:)-eturn p},K=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Y=function(t,e){return t.r("0")+o})},$=function(t,e){var r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,o=void 0===i?{sourceURL:"",range:""}:i,a=y({baseUrl:t.baseUrl,source:Y(o.sourceURL,r),range:o.range});return(t.duration||e?t.duration?E(t):z(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStarTimemap=o,a},J=function(t,e){var r,n=t.duration,i=t.segmentUrls,o=t.periodStart;if(!n&&!e||n&&e)throw Error(m.SEGMENT_TIME_UNSPECIFIED);var a=(void 0===i?[ Z(t,e)});return n&&(r=E(t)),e&&(r=z(t,es)/i,n}}).filter(function(t){returs=[e==.trt(u||0)},tn={mediaPresentationDuration:function(t){return tr(t)},availabilityS(e)/1e3},minimumUpdatePeriod:function(t){return tr(t)},suggestedPresentationDelay:function(t){return tr(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return tr(t)},start:function(t){return tr(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},tr(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t(t,10)}etur,{}):{}},to={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primet})}[t]?null:0},tl=function(t,e){void 0===e&&(e={});var r=e,n=r.manifestUri,i=r.NOW,o=void 0===i?Date.now():i,a=r.clientOffset,u=tt(t,"Period");if(!u.length)throw Error(m.INVALID_NUMBER_OF_PERIOD);var l=tt(t,"Location"),c=ti(t),h=ta([void 0===n?"":n],tt(t,"BaseURL"));c.type=c.type||"static",c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=o,c.clientOffset=void 0===a?0:a,l.length&&(c.locations=l.map(te));var f=[];return utes:r})}),{locations:c.locations,representationInfo:p(f.map(function(t,e){var r=ta(h,tt(t.node,"BaseURL")),n=d(c,{periodStart:t.attributes.start});"number"==typeof t.attributes.duration&&(n.periodDuration=t.attributes.duration);var i=tt(t.node,"AdaptationSet"),o=ts(t.node);return p(i.map(function(t){var e,i,a=ti(t),u=ta(r,tt(t,"BaseURL")),l=d(n,a,{role:ti(tt(t,"Role")[0])}),c="urn:scte:dash:cc:cea-608:2015"===(e=ti(tt(t,"Accessibility")[0])).schemeIdUri?("string"!=typeof e.value?[]:e.value.split(";")).map(function(t){if(r=t,/^CC\d=/.test(t)){var e,r,n=t.split("=");e=n[0],r=n[1]}else/^CC\d$/.test(t)&&(e=t);return{channel:e,language:r}}):"urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri?("string"!=typeof e.value?[]:e.value.split("nnel),e}):void 0;c&&(l=d(l,{captionServices:c}));var h=tt(t,"Label")[0];h&&h.childNodes.length&&(l=d(l,{label:h.childNodes[0].nodeValue.trim()}));var f=tt(t,"ContentProtection"eturn t},{});Object.keys(f).length&&(l=d(l,{contentProtection:f}));var g=ts(t),m=tt(t,"Representation"),y=d(o,g);return p(m.:t})}})})))}))etueturn r},th=function(t,e){void 0===e&&(e={});var r=tl(td(t),e);return X({dashPlaylists:r.representationInfo.map(Q),locations:r.locations,sidxMapping:e.sidxMapping,previousManifest:e.previousManife(td(t))}},7905:function(t,e){"useze(t):t}var n=r({HTML:"text/html",isHTML:function(t){return t===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml=i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}turn i}},e.freeze=r,e.MIME_TYPE=n,e.NAMESPACE=i},90109:function(t,e,r){var n=r(7905),i=r(78640),o=r(6213),a=r(28830),s=i.DOMImplementation,u=n.NAMESPACE,l=a.ParseError,d=a.Xe)}c.prototype.parseFr),i.doc},h.prototype={startstemId)},starode(l)}},enentNode},startPrefin(t,e){},endPrefixMapping:function(t){},processingInsthis,r)},ignorableWht,e,r){},chtor,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumenmber=0)}this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},type=i}},warning:function(t){console.warn("[xmldom warning]	"+t,f(this.locator)cator))},faocator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replacn null}}),e.DOMParser=c,i.DOMImplementation,i.XMLSerializer},78640:function(t,e,r){var n=r(7905),i=n.find,o=n.N)):[]}function l(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[ctor=t)}var c={},h=c.ELEMENT_NODE=1,p=c.ATTRIBUTE_NODE=2,f=c.TEXT_NODE=3,g=c.CDATA_SECTION_NODE=4,m=c.ENTITY_REFERENCE_NODE=5,y=c.ENTITY_NODE=6,v=c.PROCESSING_INSTRUCTION_NODE=7,b=c.COMMENT_NODE=8,A=c.DOCUMENT_NODE=9,E=c.DOCUMENT_TYPE_NODE=10,D=c.DOCUMENT_FRAGMENT_NODE=11,w=c.NOTATION_NODE=12,T={},S={};T.INDEX_SIZE_ERR=(S[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2);var C=T.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3);T.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7);var P=T.NOT_FOUND_ERR=(S[8]="Not found",8);T.NOT_SUPPORTED_ERR=(S[9]="Not supported",9);var L=T.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in  "+e),r}functinc=e}}funct"+r))}function B(){}funct,e}function X(t){return t&&t.nodeType===_.DOCUMENT_TYPE_NODE}function W(t){return t&&t.nodeType===_.ELEM,e}function Q(){this._nsMap={}}function tt(){}function te(){}function tr(){}function tn(){}function ti(){}function to(){}function ta(){}function ts(){}function tu(){}function tl(){}function td(){}functi,'"')}function tg(t,e,r,n,i){if(i||(i=[]),n){if(!(t=n(t)))return;if("string"==typeof t){e.push(t);return}}switch(t.nodeType){case h:var a,s=t.attributes,u=s.length,l=t.firstChild,d=t.tagName;r=o.isHTML(t.namespaceURI)||r;var c=d;if(!r&&!t.prefix&&t.namespaceURI){for(var y=0;y<s.length;y++)if("xmlns"===s.item(y).name){a=s.item(y).value;break}if(!a)for(var w=i.length-1;w>=0;w--){var T=i[w];if(""===T.prefix&&T.namespace===t.namespaceURI){a=T.namespace;break}}if(a!==t.namespaceURI)for(var w=i.length-1;w>=0;w--){var T=i[w];if(T.namespace===t.namespaceURI){T.prefix&&(c=T.prefix+":"+d);break}}}e.push("<",c);for(var S=0;S<u;S++){var C=s.item(S);"xmlns"==C.prefix?i.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&i.push({prefix:"",namespace:C.value})}for(var S=0;S<u;S++){var C=s.item(S);if(tp(C,r,i)){var P=C.prefix||"",L=C.namespaceURI;tf(e,P?"xmlns:"+P:"xmlns",L),i.push({prefix:P,namespace:L})}tg(C,e,r,n,i)}if(d===c&&tp(t,r,i)){var P=t.prefix||"",L=t.namespaceURI;tf(e,P?"xmlns:"+P:"xmlns",L),i.push({prefix:P,namespace:L})}if(l||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(d)){if(e.push(">"),r&&/^script$/i.test(d))for(;l;)l.data?e.push(l.data):tg(l,e,r,n,i.slice()),l=l.nextSibling;else for(;l;)tg(l,e,r,n,i.slice()),l=l.nextSibling;e.push("</",c,">")}else e.push("/>");return;case A:case D:for(var l=t.firstChild;l;)tg(l,e,r,n,i.slice()),l=l.nextSibling;return;case p:return tf(e,t.name,t.value);case f:return e.push(t.data.replace(/[<&]/g,q).replace(/]]>/g,"]]&gt;"));case g:return e.push("<![CDATA[",t.data,"]]>");case b:return e.push("<!--",t.data,"-->");case E:var N=t.publicId,R=t.systemId;if(e.push("<!DOCTYPE ",t.name),N)e.push(" PUBLIC ",N),R&&"."!=R&&e.push(" ",R),e.push(">");else if(R&&"."!=R)e.push(" SYSTEM ",R,">");else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case v:return e.push("<?",t.target," ",t.data,"?>");case m:return e.push("&",t.nodeName,";");default:e.push("??",t.no{t[e]=r}T.INVALID_STATE_ERR=(S[11]="Invalid state",11),T.SYNTAX_ERR=(S[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),T.NAMESPACE_ERR=(S[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(S[15]="Invalid access",15),N.prototype=Error.prototype,l(T,N),R.prototype={lengtt]:null},oin("")},filter:function(t){return Array.prototype.filter.call(this,t)}this,t)}},I.protot]||null},d(I,R),x.prototype={length:0,item:R.prototype.item,getNturn r}},setN,t,r),r},setNam,t,e),e},removeNis,e),e},removeNamis,r),r},getNamrn null}},B.prototype={hasFeature:function(t,e){return!0},createeturn n},createDocur||"",n}},_.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,inseis,t,e)},replhild(e)},remthis,t)},appt,null)},hasChstChild},cthis,t)},n),t=e)}},isSre(t,e)},hasAtength>0},lookrn null},lookupNamern null},isDefaultNefix(t)}},l(c,_),l(c,_.prototype),F.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insent=t),t},remthis,t)},replment=t)},imis,t,e)},getEle,!0}),e},getElementsByC}}),n})},creatent=e,e},createDocumentnew R,t},createTextNode:function(t){var e=new tr;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new tn;return e.ownerDocument=this,e.appendData(t),e},createCDATta(t),e},createProcessingInsata=e,r},createAed=!0,e},createEntityRame=t,e},createEent=r,r},createAttame=e,r}},d(F,_),Q.prototype={nodeType:h,hasANode(t)},getAlue||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setANode(r)},removeANode(e)},appe,r),r)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttribuemNS(t)},removeAttrideName)},removeAttNode(r)},hasAttNS(t,e)},getAttlue||""},setAttNode(n)},getAttribuNS(t,e)},getElementsB)}),r})},getElementsByT)}),n})}},F.prototype.getElementsByTagName=Q.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=Q.prototype.getElementsByTagNameNS,d(Q,_),tt.prototype.nodeType=p,d(tt,_),te.prototype={data:"",subst(t,t+e)},ap.length},in(t,0,e)},appr(S[C])},det,e,"")},rep.length}},d(te,_),tr.prototype={nodeName:"#text",nodeType:f,sling),n}},d(tr,te),tn.prototype={nodeName:"#comment",nodeType:b},d(tn,te),ti.prototype={nodeName:"#cdata-section",nodeType:g},d(ti,te),to.prototype.nodeType=E,d(to,_),ta.prototype.nodeType=w,d(ta,_),ts.prototype.nodeType=y,d(ts,_),tu.prototype.nodeType=m,d(tu,_),tl.prototype.nodeName="#document-fragment",tl.prototype.nodeType=D,d(tl,_),td.prototype.nodeType=v,d(td,_),tc.prototype.serialize(t,e,r)},_.prototype.toString=th;try{Object.defineProperty&&(Object.defineProperty(I.prototype,"leng$length}}),Object.defineProperty(_.prototype,"textConte}(thalue=$"+e]=r})}catch(t){}e.DocumentType=to,e.DOMException=N,e.DOMImplementation=B,e.Element=Q,e.Node=_,e.NodeList=R,e.XMLSerializer=Dot:",TScy:"Ð¦",tscy:"Ñ†",TSHcy:"Ð‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†ž",twoheadrightarrow:"â† ",Uacute:"\xda",uacute:"\xfa",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"ÐŽ",ubrcy:"Ñž",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"Ð£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufishâ†¾",uhblk:"âArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð’",vcy:"Ð²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbaf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"âˆ",vrtri:"âŠ³",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"âŸº",xharr:"âŸ·",Xi:"Îž",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"\xdd",yacute:"\xfd",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ‹",yen:"\xa5",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD½",zcaron:"Å¾",Zcy:"Ð—",zcy:"Ð·e+o.source+"*)?$");function s(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.ber,e}function d(t,e,r){for(var i=t.tagName,o=null,a=t.length;a--;){var s=t[a],u=s.qName,l=s.value,d=u.indexOf(":");if(d>0)var h=s.prefix=u.slice(0,d),p=u.slice(d+1),f="xmlns"===h&&p;else p=u,h=null,f="xmlns"===u&&"";s.localName=p,!1!==f&&(null==o&&(o={},c(r,r={})),r[f]=o[f]=l,s.uri=n.XMLNS,e.startPrefixMapping(f,l))}for(var a=t.length;a--;){var h=(s=t[a]).prefix;h&&("xml"===h&&(s.uri=n.XML),"xmlns"!==h&&(s.uri=r[h||""]))}var d=i.indexOf(":");d>0?(h=t.prefix=i.slice(0,d),p=t.localName=i.slice(d+1)):(h=null,p=t.localName=i);var g=t.uri=r[h||""];if(e.startElement(g,p,i,t),!t.closed)return t.currentNSMap=r,t.localNSMap=o,!0;if(e.endElement(g,p,i),o)for(h in o)Object.prototype.hasOwnProperty.call(o,h)&&e.endPrefixMapping(h)}function c(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function h(){this.attributeNames={}}s.prototype=Error(),s.prototype.name=s.name,u.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),c(e,e={}),function(t,e,r,i,o){function a(t){var e,n=t.slice(1,-1);return n in r?r[n]:"#"!==n.charAt(0)?(o.error("entity not found:"+t),t):(e=parseInt(n.substr(1).replace("x","0x")))>65535?String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e)):String.fromCharCode(e)}function u(e){if(e>b){var r=t.substring(b,e).replace(/&#?\w+;/g,a);m&&c(b),i.characters(r,0,e-b),b=e}}function c(e,r){for(;e>=f&&(r=g.exec(t));)f=(p=r.index)+r[0].length,m.lineNumber++;m.columnNumber=e-p+1}for(var p=0,f=0,g=/.*(?:\r\n?|\n)|.*$/g,m=i.locator,y=[{currentNSMap:e}],v={},b=0;;){try{var A=t.indexOf("<",b);if(A<0){if(!t.substr(b).match(/^\s*$/)){var E=i.doc,D=E.createTextNode(t.substr(b));E.appendChild(D),i.currentElement=D}return}switch(A>b&&u(A),t.charAt(A+1)){case"/":var w=t.indexOf(">",A+3),T=t.substring(A+2,w).replace(/[ \t\n\r]+$/g,""),S=y.pop();w<0?(T=t.substring(A+2).replace(/[\s<].*/,""),o.error("end tag name: "+T+" is not complete:"+S.tagName),w=A+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),o.agName.toLowerCase()==T.toLowerCase()){if(i.endElement(S.uri,S.localName,T),C)for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&i.endPrefixMapping(L);P||o.fatalError("end tag name: "+T+" is not match the current start tagName:"+S.tagName)}else tion(t,e,r,n){if("-"===t.charAt(e+2)){if("-"===t.charAt(e+3)){var i=t.indexOf("-->",e+4);if(i>e)return r.comment(t,e+4,i-e-4),i+3;n.error("Unclosed comment")}}else{if("CDATA["==t.substr(e+3,6)){vardCDATA(),}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=!1,l=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],l=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(l=o[3][0]));var d=o[a-1];return r.+d[0].length}}return -1}(t,A,i,o);br quot(slice(isable;breakmes[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){ret){MLbue.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=n(t.subarray(i)),r.firstOffset=n(t.subarray(i+8)),i+=16),i+=2;var o=e.getUint16(i);for(i+=2;o>0;i+=12,o--)r.references.push({referenceType:(128&t[i])>>>7,referencedSize:2147483647&e.getUint32(i),subsegmentDuration:e.getUint32(i+4),startoTsToVideoTs:function(t,r){return e(i(t,r))},videoTsToAudioTs:function(t,e){return r(n(t),e)},metadataTsToSeconds:function(t,e,r){return n(r?t:t-e)}}},33810:function(t){t.exports={getUint64:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getBigUint64?(e=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(e):e:4294967296*r.getUint32(0)+r.get)\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#*))\/(,t.trigger("resumeended")):c(t,"ype||t.ads._hasThereBeenALoadedData)&&("loadedmetadata"!=BeenALoadedMetaDatac(t,"ad",e).ads.cata"===t.type||"loadedmetadata"===t.type?f(this,t):"play"===t.type?g(this,t):this.ads.isInAdMode()&&(this.ads.isContentResuming()?c(this,"content",t):c(this,"ad",t))}var y={},v=function(t){if(i.default.dom.isInFrame()&&"function"!=typeof a().__tcfapi){for(var e,r=a(),n={};r;){try{if(r.frames.__tcfapiLocator){e=r;break}}catch(t){}if(r===a().top)break;r=r.parent}e&&(a().__tcfapi=function(t,r,i,o){var a=Math.random()+"";n[a]=i,e.postMessage({__tcfapiCall:{command:t,parameter:o,version:r,callId:a}},"*")},a().addEventListener("message",function(t){var e={};try{e="string"==typeof t.data?JSON.parse(){return o[e+"}"}),void 0===e&&(e=!1);var s={};for(var l in void 0!==r&&(s=r),s["his.options_["dats["{player.width}"]=this.currentWidth(),s["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",s["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",s["{mediainfo.duration}"]=this.mediainfo?"{player.duration}"]=this.duration(),s["{player.pageUrl}"]=i.default.dom.isInFrame()?u().referrer:a().location.href,s["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",s["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",s["{timestamp}"]=new Date().getTime(),s["{document.referrer}"]=u().referrer,s["{window.location.href}"]=a().location.href,s["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(function(t){n.mediainfo&&n.mediainfo[t]?s["{mediainfo."+t+"}"]=n.mediainfo[t]:o["{mediainfo."+t+"}"]?s["{mediainfo."+t+"}"]=o["{mediainfo."+t+"}"]:s["{mediainfo."+t+"}"]=""}),E(this.mediainfo,s,"custom_fields"),E(this.mediainfo,s,"customFields"),Object.keys(y).forEach(function(t){s["{tcf."+t+"}"]=y[t]}),s["{tcf.gdprAppliesInt}"]=y.gdprApplies?1:0,s)t=t.split(l).join(A(s[l],e));for(var d in t=t.replace(/{pageVariable\.([^}]+)}/g,function(t,r){for(var n,s=a(),u=r.split("."),l=0;l<u.length;l++)l===u.length-1?n=s[u[l]]:s=s[u[l]];var d=typeof n;return null===n?"null":void 0===n?o["{pageVariable."+r+"}"]?o["{pageVariable."+r+"}"]:(i.default.log.warn('Page variable "'+r+'" not found'),"")(String(n),er(var r=t.textTracks(),n=function(r){"metadata"===r.kind&&(t.ads.cueTextTracks.setMetadataTrackMode(r),e(t,r))},i=0;i<r.length;i++)[o],ss is not a supported ad cue.",a).middleware.TERMINATOR},play:function(return t.getState=function(e){if(e&&t.statete"};var e=t.prototype;return e.transitionTo=function(t){var e=this.player;this.cleanup(e);var r=new t(e);e.ads._state=r,e.ads.debug(this.constructor._getName()+" -> "+r.constructor._getName());for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r.init.apply(r,[e].concat(i))},e.init=function(){},e.cleanup=function(){},e.onPlay=function(){},e.onPlaying=function(){},e.onEnded=function(){},e.onAdEnded=function(){},e.onAdsReady=function(){i.default.log.warn("Unexpected adsready event")},e.onAdsError=function(){},e.onAdsCanceled=function(){},e.onAdTimeout=function(){},e.onAdStarted=function(){},e.onContentChanged=function(){},e.onContentResumed=function(){},e.onReadyForPostroll=function(){i.default.log.warn("Unexpected readyforpostroll event")},e.onNoPreroll=function(){},e.onNoPostroll=function(){},e.startLinearAdMode=function(){i.default.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.endLinearAdMode=function(){i.default.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.skipLinearAdMode=function(){i.default.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.isAdState=function(){throw Error("isAdState unimplemented for "+this.constructor._getName())},e.isW()dended"===t&&this.onAdEnded(e)},t}();function k(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}R.registerState("State",I);var x=function(t){function e(e){var r;return(r=t.call(this,e)||this).contentResuming=!1,r.waitingForAdBreak=!1,r}k(e,t);var r=e.prototype;return r.isAdState=function(){return!0},r.onPlaying=function(){var t=R.getState("ContentPlayback");o(t)},r.onContentResumed=function(){var t=R.getState("ContentPlayback");this.contentResuming&&this.transitionTo(t)},r.isWaitingForAdBreak=function(){return this.waitingForAdBreak},r.isContentResuming=function(){return this.contentResuming},r.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},e}(I);R.registerState("AdState",x);var M=function(t){function e(){return t.apply(this,arguments)||this}k(e,t);var r=e.prototype;return r.isAdState=function(){return!1},r.onContentChanged=function(t){var e=R.getState("BeforePreroll")prototype;retdsDone)")},e}(R.g);var U={start:fuble().length,sources:t.currentrack:u,mode:u.mome(),t.volume,void 0===e&&(e=funcRestore){t.ads.disableNextSnapshotRestore=!1,delete t.ads.snapshot,e();returnwser.IS_IOS&&t.ads.o.ended)t.currarn("Play prom(t.off("contentcanplay",e),n&&t.clearTimeout(n),(a=t.el().querySelector(".vjs-tech")).readyState>1||void 0===a.seekable||a.seekable.length>0)return d();if(s--)t.setTimeout(e,50);else try{d()}catch(t){i.default.log.warn("Failed to resume the content after an advertisement",t)}};if("style"in o&e("style",o.style||""),t.ads.videoElementRecycled())t.one("resumeended",function(){delete t.ads.snapshot,e()}),t.one("cout(c,2e3);else{ifn snapshot restAdVolume_),e())}},B=function(t){function e(){return t.apply(tForPreroll=function(){var t=this.player;this.afterLoadStart(function(pe="preroll",this.waitingForAdBreak=!1,U.start(t),t.ads._sis.adsReady,this.shouldResumeToContent)},r.onAdsCanceled=fu=function(t){function e(){return t.apply(this,arguments)||this}k(e,t),e()&&t.ads.endLinearAdMode()},r.cleanup=function(t){t.removeClass("vjs-ad-loadin&(r=t.ads.settings.postrollTimeout),this._postrollTimeout=t.setTimeout(function(){t.trigger("adtimeout")},r)}},r.startLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?i.default.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(t.ads.adType="postroll",t.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,U.start(t))},r.onAdStarted=function(t){t.removeClass("vjs-avar t=this,e=this.player,r=R.getState("AdsDone");this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),this.resumeContent(e),his.isContentResumis.inAdBreak()){var r=R.ger.onNoPostroll=function(t){this.isContentResuming()||this.inAdBreak()?i.default.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(t)},r.resumeContent=function(t){this.contentResuming=!0,t.addClass("vjs-ad-sumeContent(t),t.removeClass("vjs-ad-loading"),this.transitionTo(e)},r.cleanup=function(t){t.removeClass("vjs-adding=!1},e}(R.geunction e(){return t.apply(this,arguments)||this}k(e,t),e._getName=function(){return"ContentPlayback"};var r=e.prototype;return r.init=function(t){t.ads._shouldBlockPlay=!1},r.onAdsReady=function(t){t.ads.debug("Receiroll_||(t.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),t.trigger("readyforpreroll"))},r.onReadyForPostroll=function(t){var e=R.getState("Postroll");t.ads.debug("Received readyforpostroll event"),this.transitionTo(e)},r.startLinearAdMode=function(){var t=R.getState("Mlayer.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},r.startLinearAdMode=function(){var t=R.getState("Stitchte("ContentSeak=!1,this.contentReedContentPlayback");U.end(this.player),this.transitionTo(t)},e}(R.getState("AdState"));R.registerState("StitchedAdRoll",H);var G=C.isMiddlewareMediatorSupported,X=i.default.getTech("Html5").Events,W={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:i.default.options.normalizeAutoplay||!1},z=function(t){var e,r,n=this,o=i.default.mergeOptions(W,t),a=[];X.concat(["firstplay",i.default.log("Using cancelContentPlay to block content playback"),n.on("play",S)),n.setTimeout(function(){n.ads._hasThereBeenALoadStartDuringPlayerLife||""===n.src()||i.default.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that vidimmediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),n.on("ended",function(){n.hasClass("vjs-has-started")||n.addClass("vjs-has-started")}),n.on("contenttimeupdate",function(){n.removeClass("vjs-waiting")}),n.on(["addurationchange","adcanplay"],function(){if(!(n.ads.settings.stitchedAds||n.hasStarted())&&(!n.ads.snapshot||n.currentSrc()!==n.ads.snapshot.currentSrc)&&n.ads.inAopostroll event"),n.ads.nopostroll_=!0}),nadedDataenALoadedMetaData=!0}),n.ads=(r=n,{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1locked:!1,_playRhotRestore=!1,r.ads._contentEnding=!1,Play=!1,r.ads._shouldBlockPlay=!1,r.ads._playBlocked=!1,r.ads.nopreroll_=!1,r.ads.nopostroll_=!1,r.ads._playRequested=!1},startLinearAdMode:function(){r.ads._state.startLinearAdMode()},endLinearAdMode:function(){r.ads._state.endLinearAdMode()},skipLinearAdMode:function(){r.ads._state.skipLinearAdModturn this._state.isContentResumin=e.length&&"string"==typeof e[stitchedAds,o.stitchedAds?n.ads._state=new(R.getState("StitchedContentPlayback"))(n):n.ads._state=new(R.getState("BeforePreroll"))(n),n.ads._state.init(n),n.ads.cueTextTracks=w,n.ads.adMacroReplacement=D.bind(n),(e=n).ads.contentSrc=e.currentSrc(),e.ads._seenInitialLoadstart=!1,e.on("loadstart",function(){if(!e.ads.inAdBreak()){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.ads._seenInitialLoadstart&&e.trigger({type:"contentchanged"}),e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}}),n.on("contentchanged",n.ads.reset);var s=function(){var t=n.t","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(t){n.ads._state.handleEveneware_&&(i.default.use("*",L),i.default.usingContribAdsMiddleware_=!0,i.default.log.debug("Play middleware has been registered with videojs")))},29493:function(t,e,r){"use stri"",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayay",this.setUpPlayerIntervals.bindListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("reout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPrequestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(e)};i.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkFoprototype.checkForSeeking=fune()-this.contentPlayheadckInterval+this.seekThresholdeviousTime=this.vjsPlayer.currentTime()},i.prototype.checkForResize=function(){var t=this.getPlayerWidth(),eight=e,this.controlonContentComplete()),this.c.vjsPlayer.one("play",thidedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var t=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var e in t)t[e]&&clearInterval(t[e])},i.prototype.onReadyForPreroll=function(){this.controller.ementsByClassName("vjs-tech")[&this.controller.setSetting("ads.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange"yer.vois.vjsPlayer.width()},i.prototype.getContentPlayheadTrack("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var o=function(t){this.controller=t,this.adCoElement("div"),this.progr=document.createElement("his.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().siv,"ima-ad-contaier",this.showAdControls.bind(this),!1)onAdContainerClick.bind(this),!1),this.createControls(),this.controller.injectAdyle.width="100%",this.consDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(thventListener("click",this.onAdPteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1)velDiv,"ima-slider-level-("click",this.onAdFullscreenClDiv.appendChild(this.controlthis.controlsDiv.appendChild(t.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},o.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},oroller.toggleFullscreen()},o.protoonAdsPlaying=function(){thi-paused")},o.prototype.updao="0"+o);var a=": ";i>1&&(a=" ("+n+"rHTML=this.controller.getSe00*(t/r)+"%"},o.prototype.uns.removeClass(this.mu00*this.controller.getPls.removeClass(this.muteDiv,"im.width="0%"},o.prototype.onAdt.addEventListener("mousemove",this.boundOnMouseMove,!1)},o.prototype.onMouseMove=function(t){this.changeVolume(t)},o.prototype.onMouseUp=function(t){this.changeVolume(t),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},o.prototype.changeVolume=function(t){var e=(t.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;e*=100,e=Math.min(Math.max(e,0),100),this.sliderLevelDiv.style.width=e+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(e/100)},o.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},o.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},o.prototype.onAdContainerClick=function(){this.isAdNonlinear&&this.controller.togglePlayback()},o.prototype.reset=function(){this.hideAdContainer()},o.prototype.onAdError=function(){this.hideAdContainer()},o.prototype.onAdBreakStart=function(t){this.showAdContainer(),"application/javascript"!==t.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},o.prototype.onAdBreakEnd=function(){var t=this.controller.getCurrentAd();(null==t||t.isLinear())&&this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},o.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},o.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!1},o.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!0},o.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},o.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-full,"on:"2.1.0",license:"Apache-2.0",main:"./dist/videojs.ima.js",module:"./dist/videojs.ima.es.js",author:{name:"Google Inc."},engines:{node:">=0.8.0"},scripts:{contBuild:"watch 'npm run rollup:max' src",predevServer:'echo "Starting up server on localhost:8000."',devServer:"npm-run-all -p testServer contBuild",lint:'eslint "src/**/*.js"',rollup:"npm-run-all rollup:*","rollup:max":"rollup -c configs/rollup.config.js","rollup:es":"rollup -c configs/rollup.config.es.js","rollup:min":"rollup -c configs/rollup.config.min.js",pretest:"npm run rollup",start:"npm run devServer",test:"npm-run-all test:*","test:vjs6":"npm install video.js@6 --no-save && npm-run-all -p -r testServer webdriver","test:vjs7":"npm install video.js@7 --no-save && npm-run-all -p -r testServer webdriver",testServer:"http-server --cors -p 8000 --silent",preversion:"node scripts/preversion.js && npm run lint && npm test",version:"node scripts/version.js",postversion:"node scripts/postversion.js",webdriver:"mocha test/webdriver/*.js --no-timeouts"},repository:{type:"git",url:"https://github.com/googleads/videojs-ima"},files:["CHANGELOG.md","LICENSE","README.md","dist/","src/"],peerDependencies:{"video.js":"^5.19.2 || ^6 || ^7"},dependencies:{"@hapi/cryptiles":"^5.1.0","can-autoplay":"^3.0.2",extend:">=3.0.2","videojs-contrib-ads":"^6.9.0"},devDependencies:{axios:"^0.25.0","babel-core":"^6.26.3","babel-preset-env":"^1.7.0",child_process:"^1.0.2",chromedriver:"^102.0.0","conventional-changelog-cli":"^2.2.2","conventional-changelog-videojs":"^3.0.2",ecstatic:"^4.1.4",eslint:"^8.8.0","eslint-config-google":"^0.9.1","eslint-plugin-jsdoc":"^3.15.1",geckodriver:"^2.0.4","http-server":"^14.1.0",ini:">=1.3.7",mocha:"^9.2.0","npm-run-all":"^4.1.5",path:"^0.12.7",protractor:"^7.0.0",rimraf:"^2.7.1",rollup:"^0.51.8","rollup-plugin-babel":"^3.0.7","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.1","rollup-plugin-uglify":"^2.0.1","selenium-webdriver":"^3.6.0","uglify-es":"^3.3.9","video.js":"^7.17.0",watch:"^0.13.0","webdriver-manager":"^12.1.7",xmldom:"^0.6.0"},keywords:["videojs","videojs-plugin"]},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:fuol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){this.controller=t,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===tngs().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettingManagerLoadedEvent.Type.ADS_Mnd(this),!1),this.controllerFullSlot&&(t.forceNonLinearFullSlot=!0etSettings().omidVendonLinearAdSlotWidth=this.con.controller.getPlayerWidth(),t.nonLiPlayerHeight(),t.setAdWillAutoPlay(thyMuted());var r=this.controllebject.keys(r).forEach(fpe:"ads-request",AdsRequer(google.ima.AdErrorEv)),this.adsManager.addEv_READY,this.onAdBreakReadENT_PAUSE_REQUESTED,,this.adsManager.addEventListener(google(google.ima.AdEvent.Type.STARTis)),this.adsManager.addEvents.onAdResumed.bind(this)),this.contrthis.controller.onAdsRea,this.controller.getSettinontroller.onErrorLoadingAds(t),this.s.controller.getPlayerHeight();thiss.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(t){this.onAdError(t)}},u.prototype.createAdsRenderingSettings=function(){if(this.adadsRenderingSettings)for(var t in this.controller.getSettings().adsRenderingSettings)""!==t&&(ter.getSettings().adsRenderingSettings[t])},u.prototype.onAdError=function(t){var e=void 0!==t.getError?t.getError():t.stack;window.console.warn("Ad error: "+e),this.adsManager.destroy(),this.controller.onAdErronAdBreakReady=function(t){this.adBreakReadyListener(t)},u.prototype.onContentPauseRequested=roller.onAdBreakStart(t)},u.prototype.onContentResumeRequested=function(t){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()}Linear()||(this.controllngTimer=setInterval(this.onAdt()):this.controller.onNonLinearAdStart()},u.prototype.onAdPaused=function(){thn(){if(null!==this.adsManager){var t=this.adsManager.getRemainingTime(),e=this.currentAd.getDuration(),r=e-t;r=r>0?r:0;var n=0,i=void 0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().getAdPosition(),n=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(r,t,e,i,n)}},u.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),(this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)||!this.adsManager)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},u.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},u.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.conller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},u.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},u.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},u.prototype.onPlayerVolumeChanged=function(t){this.adsManager&&this.adsManager.setVolume(t),0==t?this.adMuted=!0:this.adMuted=!1},u.prototype.onPlayerResize=function(t,e){this.adsManager&&(this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=e,this.adsManager.resize{this.adBreakReadyListenerhis.adPlaying=!1},u.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},u.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},u.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},u.prototype.setVolume=function(t){this.adsManager.setVolume(t),0==t?this.adMuted=!0:this.adMuted=!1},u.prototype.initialiinerInitialized&&(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0)},u.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},u.prototype.addEventListener=function(t,e){this.adsManager&&this.adsManager.addEventListener(t,e)},u.prototype.getAdsManager=function(){return this.adsManthis.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var l=function(t,e){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(e);var r=Object.assign({},{debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},e.contribAdsSettings||{});this.playerWrapper=new i(t,r,this),this.adUi=new o(this),this.sdkImpl=new u(this)};l.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoaecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},l.prototype.warnAboutDeprecatedSettings=function(){var t=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(e){void 0!==t.settings[e]&&console.warn("WARNING: videojs.ima setting "+e+" is deprecated")})},l.prototype.getSettings=function(){return this.settings},l.prototype.getIsMobile=function(){return this.isMobile},l.prototype.getIsIos=function(){return this.isIos},l.prototype.injectAdContainerDiv=function(t){this.playerWrapper.injectAdContainerDiv(t)},l.pe.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},l.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},l.prototype.requestAds=function(){this.sdkImpl.requestAds()},l.prototype.setSetting=function(t,e){this.settings[t]=e},l.prototype.onErrorLoadingAds=function(dPlaying()?(this.ampl.resumeAds())},l.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},l.prototype.setVolume=function(t){this.playerWrapper.setVolume(t),this.sdkImpl.setVolume(t)}er.toggleFullscreen()},l.prototype.onAdError=function(t){this.adUi.onAdError(),this.playerWrapper.onAdError(t)},l.prototype.onAdBreakStart=function(t){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(t)},l.prototype.showAdContainer=function(){this.adUi.showAdContainer()},l.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},l.prototype.onAllAdsCompleted=funapper.onAllAdsCompleted()},l.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},l.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},l.prototype.onAdPlayheadUpdated=function(t,e,r,n,i){this.adUi.updateAdUi(t,e,r,n,i)},l.prototype.onAdLog=function(t){this.adUi.onLinearAdStart(),t.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},l.prototype.&this.contentAndAdsEndedListeners[t]()},l.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},l.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyFot()},l.prototype.onPlanterFullscreen=function(){tFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},l.prototype.onPlayerVolumeChanged=function(t){this.adUi.onPlayerVolumeChanged(t),this.sdkImpl.onPlayerVolumeChanged(t)},l.prototype.setContentWithAdTag=function(t,e){this.reset(),this.settings.adTagUrl=e||this.settings.adTagUrl,this.playerWrapper.changeSource(t)},l.prototype.setContentWithAdsResponse=function(t,e){this.reset(),this.settings.adsResponse=e||this.settings.adsResponse,this.playerWrapper.changeSource(t)},l.prototype.setContentWithAdsRequest=function(t,e){this.reset(),this.settings.adsRequest=e||this.settings.adsRequest,this.playerWrapper.changeSour=function(t){this.sdkImtotype.adsWillAutoplay=his.settings.adWillPlayMutPlayerEvent=function(t,e){this.playerWrapper.triggerPlayerEvent(t,e)};var d=function(t,e,r){this.vjsPlayer=t,this.dar"),this.h5Player=null,this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("pause",this.onPause.bind(this)),this.vjsPlayer.on("play",this.onPlay.bind(this)),this.vjsPlayer.on("seeked",this.onSeekEnd.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(d 0!==t.getError?t.g=null,this.vjsPlayer=null,[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,l={};l[u.value.key]=u.value.data,e.streamManager.onTimedMetadata(l)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}})},c.prototype.createAdUiDiv=function(){var t=document.createElement("div");t.id="ad-ui",t.style.height="calc(100% - 3em)",this.streamPlayer.parentNode.appendChild(t),this.adUiDiv=t},c.prototype.onStreamPause=function(){this.isAdBreak&&(this.adUiDiv.style.display="none")},c.prototype.onStreamPlay=function(){this.isAdBreak&&(this.adUiDiv.style.display="block")},c.prototype.onSeekEnd=function(t){if("live"!==this.daiController.getSettings().streamType){if(this.isSnapback){this.isSnapback=!1;return}var e=this.streamManager.previousCuePointForStreamTime(t);e&&!e.played&&(this.iseamEvent=function(t){switch(t.type){case google.ima.dai.api.StreamEvent.Type.LOADED:this.loadUrl(t.getStreamData().url);break;case google.imt),this.daiController.getSettings().fallTED:this.isAdBreak=!0,this.adUiDiv.style.display="block",this.daiController.onAdBreakStart();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.isAdBreak=!1,this.adUiDiv.style.display="none",this.daiController.onAdBreakEnd(),this.snapForwardTime&&this.snapForwardTime>this.vjsPlayer.currentTime()&&(this.vjsPlayer.currentTime(this.snapForwardTime),this.snapForwardTime=0)}},c.prototype.loadUrl=function(){var e=this.daiController.getSettings().streamFormat;this.vjsPlayer.src({src:t,type:this.SOURCE_TYPES[e]});var r=this.daiController.getSettings().bookmarkTime;if(r){var n=this.streamManager.streamTimeForContentTime(r);this.isSnapback=!0,this.vjsPlayer.currear t=void 0,e=this.daiControlquest).contentSourceId=this.daiController.getSettings().cmsId,t.videoId=this.daiController.getSettings().videoId):"live"===e?(t=new google.ima.dai.api.LiveStreamRequest).assetKey=this.daiController.getSetelected"),t.format=this.daiController.getSettings().streamFormat,this.daiController.getSettings().apiKey&&(t.apiKey=this.daiController.getSettings().apiKey),this.daiController.getSettings().authToken&&(t.authToken=this.daiController.getSettings().authToken),this.dai.streamActivityMonitorId&&(t.streamActivityMonitorId=this.daiController.getSettings().streamActLae.warnAboutDeprecatedSettings=function(){var t=this;[].forEach(function(e){void 0!==t.settings[e]&&console.warn("WARNING: videojs.imaDai setting "+e+" is deprecated")})},h.prototype.getSettings=function(){return this.settings},h.prototype.getIsMobile=function(){return this.isMobile},h.prototype.getIsIos=function(){return this.isIos},h.prototype.getStreamPlayer=function(){return this.playerWrapper.getStreamPlayer()},h.prototype.getVjsPlayer=function(){return this.playerWrapper.getVjsPlayer()},h.prototype.requestStream=function(){this.sdkImpl.requestStream()},h.prototype.setSetting=function(t,e){this.settings[t]=e},h.prototype.onErrorLoadingAds=function(t){this.playerWrapper.onAdError(t)},h.prototype.onAdError=function(t){this.playerWrapper.onAdError(t)},h.prototype.onAdBreakStart=function(){this.inAdBreak=!0,this.playerWrapper.onAdBreakStart()},h.prototype.onAdBreakEnd=function(){this.inAdBreak=!1,this.playerWrapper.onAdBreakEnd()},n(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},h.prototype.isInAdBreak=function(){return this.inAdBreak},h.prototype.onSeekEnd=function(t){this.sdkImpl.onSeekEnd(t)},h.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},h.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},h.!==this.settings.streamWillAutoplay?this.settings.str ftializeAdDisplayContainer=(function(){this.controller.initializeAdDisplayContainer()}).bind(this),this.pauseAd=(function(){this.controller.pauseAd()}).bind(this),this.playAdBreak=(function(){this(funllereakRis),thistWithAdTe)}).bind(this),this.setContentWithAdsRequest=(function(t,e){this.controller.setContentWithAdsRequest(t,e)}).bind(this),this.setShowCountdown=(function(t){this.controller.setShowCountdown(t)}).bind(this)},g=function(t,e){this.controller=new h(t,e),this.streamEndedListener=(function(t){this.controller.addStreamEndedListener(t)}).bind(this),this.addEventListener=(furPlugin||n.default.plugin;v("ima",function(t){this.ima=new f(this,t)}),v("imaDai",function(t,e){if(t instanceof m)e.streamType="live",e.assetKey=t.assetKey;else if(t instanceof y)e.streamType="vod",e.cmsId=t.cmsId,e.videoId=t.videoId;else{window.console.error("initDai() first parameter must be an instance of LiveStream or VodStream.");return}e.streamFormat=t.streamFormat,this.imaDai=new g(this,e)})},82883:function(t,e,r){var n=r(82765),i=t.exports={WebVTT:r(5247),VTTCue:r(20990),VTTRegion:r(75791)};n.vttjs=i,n.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=n.VTTCue,u=n.VTTRegion;i.shim=function(){n.VTTCue=o,n.VTTRegion=a},i.restore=function(){n.VTTCue=s,n.VTTRegion=u},n.VTTCue||i.shim()},5247:function(t,e,r){var n=r(61453),i=Object.create||function(){function t(){}return function(e){if(1!=arguments.length)throw Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function o(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function a(t){function e(t,e,r,n){return(0|t)*3600+(0|e)*60+(0|r)+(0|n)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function s(){this.values=i(null)}function u(t,e,r,n){var i=n?t.split(n):[t];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(r);2===a.length&&e(a[0].trim(),a[1].trim())}}o.prototype=i(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\on f(t,e){for(var r,n=t.document.createElement("div"),i=n,o=[];null!==(r=function(){if(!e)return null;var t,r=e.match(/^([^<]*)(<[^>]*>?)?/);return t=r[1]?r[1]:r[2],e=e.substr(t.length),t}());){if("<"===r[0]){if("/"===r[1]){o.length&&o[o.length-1]===r.substr(2).replace(">","")&&(o.pop(),i=i.parentNode);continue}var s,u,f,g,m=a(r.substr(1,r.length-2));if(m){g=t.document.createProcessingInstruction("timestamp",m),i.appendChild(g);continue}var y=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y||!(g=function(e,r){var n=d[e];if(!n)return null;var i=t.document.createElement(n),o=h[e];return o&&r&&(i[o]=r.trim()),i}(y[1],y[3]2042],[2048,2069],[2074,2074],[2084,28207],[64285,64285],[64216],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,6488,68023],[68030,68031223],[68352,68405],[6841],[126497,126498],[530,126530],[126535,126535],[1265,126562],[126564,126564],[126567m(){}function y(t,e,r){m.call(top:0,bottom:0,display:function t(e){ifodes?(n(e,r),t(e)):voifunction(t){fonction(t)(t[e]))return!0;return!1},v.prototype.w.righttion(t/):u(n,function(t,r)}e.pos",g="auto",m="auto",y=100,v="center";Object.ction(nction(t){l=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){retur},set:fid or was spmerablplayState=void 0}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=i},75791:function(t){var e={"":!0,up:!0};function r(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,n=3,i=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(t){if("number"!=typeof t)throw TypeError("Lines must be set to a number.");n=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var r="string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase();!1===r?console.warn("Scroll: an invalid or illegal string was specified."):u=r}}})}},76398:function(){},80699:function(){},13753:function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},13901:function(t,e,r){"use strict";function n(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,{Z:function(){return n}})},16982:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(45174);function i(t,e,r){return(i=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,r){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return r&&(0,n.Z)(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}},57384:function(t,e,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}r.d(e,{Z:function(){return n}})},39482:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(45174);function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,n.Z)(t,e)}},16179:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(45174);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,n.Z)(t,e)}},45174:function(t,e,r){"use strict";function n(t,e){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}r.d(e,{Z:function(){return n}})}}]);
//# sourceMappingURL=8392-bc840a2602b59cd3.js.map