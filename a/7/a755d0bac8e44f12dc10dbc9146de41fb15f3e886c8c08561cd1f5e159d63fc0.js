!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[4624],{56724:(e,a,t)=>{t.d(a,{Z:()=>v});var r=t(5754),s=t.n(r),n=t(45222),i=t(2474),o=t(2629);let l=e=>{var a=e.link,t=e.blogTitle,r=e.avatarImageResponse;return(0,o.jsx)("a",{className:"usfiq",href:a,children:(0,o.jsxs)("figure",{className:"bH35Z",children:[(0,o.jsx)(i.Mq,{className:"lHKgh",size:{height:14,width:14}}),r&&(0,o.jsx)(n.Z,{dimension:26,imageResponse:r}),(0,o.jsx)("figcaption",{className:"AoHEQ",children:t})]})})};var g=t(33970),m=t.n(g),d=t(95004),c=t(37560),u=t(78667),h=t(60042);let p={iframe:"oqiM3"},f=e=>{var a=e.tumblelogName,t=e.variant,r=d.useState(250),s=m()(r,2),n=s[0],i=s[1],l=d.useState(50),g=m()(l,2),f=g[0],v=g[1],b=d.useState(!1),w=m()(b,2),I=w[0],y=w[1],x=(0,u.bp)(),Z=x._t,N=x.wwwBaseUrl;return d.useEffect(()=>{var e=(0,h.oL)("tumblr-unified-controls",{"IframeControls:size":e=>{var a=e.width,t=e.height;i(a),v(t)}}).handler;return y(!0),,[]),(0,o.jsx)("div",{style:{height:f,width:n},children:I&&(0,o.jsx)(c.Z,{className:p.iframe,src:`${N}/dashboard/iframe`,title:Z("Tumblr toolbar"),queryParams:{tumblelogName:a,variant:t}})})},v=function(e){var a=e.link,t=e.blogName,r=e.blogTitle,n=e.isVisible,i=e.avatarImageResponse,g=e.children,m=e.iframeVariant,d=e.className;return(0,o.jsxs)("header",{className:s()("gSfy_",d,{kqXxn:!n,RrflF:"archive"===m}),children:[(0,o.jsxs)("div",{className:"axZNe",children:[(0,o.jsx)(l,{link:a,blogTitle:r,avatarImageResponse:i}),g]}),(0,o.jsx)("div",{className:"ggBTJ",children:(0,o.jsx)(f,{tumblelogName:t,variant:m})})]})}},2474:(e,a,t)=>{t.d(a,{Ii:()=>o,Mq:()=>n,_C:()=>c,br:()=>d,fj:()=>g,vK:()=>m});var r=t(36343),s=e=>(0,r.q)("arrow",{style:{transform:`rotate(${e}deg)`,transformOrigin:"center"}}),n=s(0),i=s(45),o=s(90),l=s(135),g=s(180),m=s(225),d=s(270),c=s(315);[n,i,o,l,g,m,d,c].forEach(e=>e.defaultProps={size:{width:20,height:17}})},37560:(e,a,t)=>{t.d(a,{Z:()=>g});var r=t(50209),s=t.n(r),n=t(95004),i=t(36485),o=t(2629);class l extends n.Component{render(){var e=this.props,a=e.className,t=e.src,r=e.title,s=e.queryParams,n=e.scrolling,l=e.frameBorder,g=e.style,m=e.onLoad,d=e.placementId,c=e.allow,u=e.allowFullScreen;return(0,o.jsx)("iframe",{className:a,name:d,title:r,src:(0,i.Z)(t,s),scrolling:n,frameBorder:l,style:g,onLoad:m,allow:c,allowFullScreen:u})}}s()(l,"defaultProps",{className:"",queryParams:{},scrolling:"no",frameBorder:0});let g=l},48352:(e,a,t)=>{t.d(a,{Z:()=>f});var r=t(54138),s=t.n(r),n=t(33970),i=t.n(n),o=t(95004),l=t(78994),g=t(55673),m=t(43523),d=t(22424),c=t(12736),u=t(14544),h=t(78667);let p=e=>{var a=(0,h.bp)().logEvent,t=(0,l.TH)().pathname,r=(0,g.lr)(),n=i()(r,1)[0];(0,o.useEffect)(()=>{"embed"===n.get("source")&&a({pathname:t,eventName:m.J.EmbedPostClick,eventDetails:s()(s()({},e),{},{refUrl:n.get("refUrl"),action:n.get("action")})})},[])},f=e=>{var a=e.page,t=e.eventDetails,r=(0,d.wL)().logEvent,n=(0,l.TH)().pathname,h=(0,g.lr)(),f=i()(h,1)[0],v=(0,u.M)().name,b=(0,c.z)(),w=b.isModalShowing,I=b.isPeeprShowing,y=(0,o.useRef)(w||I),x=f.get("source"),Z=()=>r({page:a,pathname:n,eventName:m.J.ScreenView,eventDetails:s()(s()({pathname:n,referrer:document.referrer,color_palette:v},x&&{source:x}),t)});return(0,o.useEffect)([n,a]),(0,o.useEffect)(()=>{!y.current||w||I||Z(),y.current=w||I},[y,w,I]),p(),null}},27812:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var r=t(54138),s=t.n(r),n=t(33970),i=t.n(n),o=t(50209),l=t.n(o),g=t(95004),m=t(56724),d=t(29846),c=t(44009),u=t(35665),h=t(10381),p=t(50591),f=t(68346);let v={imagePage:"YSHaC",imagePageContent:"zCVH8",button:"nPrYg",buttonInner:"X6eAw",image:"r2nEi"};var b=t(2629);class w extends g.Component{constructor(){super(...arguments),l()(this,"state",{isImageZoomedIn:!1}),l()(this,"getZoomStyle",()=>({cursor:this.state.isImageZoomedIn?"zoom-out":"zoom-in"})),l()(this,"getLargestImageDimensions",()=>{var e=new f.Z(this.props.photo.imageResponse).getLargestImage();return{width:e.width,height:e.height}}),l()(this,"getPageZoomStyle",()=>{var e=this.getLargestImageDimensions(),a=e.width,t=e.height;return this.state.isImageZoomedIn?{minWidth:a+30,minHeight:t+30}:{}}),l()(this,"getSrcSetSize",()=>{var e=this.getLargestImageDimensions().width;return this.state.isImageZoomedIn?`${e}px`:`(max-width: ${e}px) 100vw, ${e}px`}),l()(this,"isImageZoomable",e=>{var a=this.getLargestImageDimensions(),t=a.width,r=a.height,s=e.width-30,n=e.height-30-55;return!(t<s)||!(r<n)}),l()(this,"zoomOnClick",}render(){var e=this.props,a=e.blog,t=e.photo,r=e.post;return(0,b.jsxs)("div",{className:v.imagePage,children:[(0,b.jsx)(d.Z,{}),(0,b.jsx)(m.Z,{blogName:a.name,blogTitle:a.title,avatarImageResponse:a.avatar,link:r.postUrl,isVisible:!this.state.isImageZoomedIn,iframeVariant:p.Z.SingleMedia}),(0,b.jsx)("main",{className:v.imagePageContent,style:this.getPageZoomStyle(),children:(0,b.jsx)(h.ZP,{children:e=>{var a=(0,b.jsx)(u.Z,{className:v.image,imageResponse:t.imageResponse,sizes:this.getSrcSetSize(),altText:t.altText});return this.isImageZoomable(e)?(0,b.jsx)(c.Z,{label:void 0,wrapperClassName:v.button,className:v.buttonInner,onClick:this.zoomOnClick,wrapperStyle:this.getZoomStyle(),children:a}):a}})})]})}}var I=t(29860),y=t(48352),x=t(32560),Z=t(78667),N=t(33464);let S=()=>{var e=(0,Z.bp)(),a=e._c,t=e.getBootstrap,r=(0,g.useState)(t(N.Rn,{})),n=i()(r,1)[0],o=n.blog,l=o.title,m=o.description,d=o.url,c=o.avatar,u=o.name,h=n.post,p=n.photo,v=new f.Z(c).getLargestImage().url,S=new f.Z(p.imageResponse),j=`${d.replace(/\/$/,"")}${(0,x.Fz)({postId:h.postId.toString()})}`,P={description:m,title:a("Title for a blog image page. Placeholder is the blog's title","%1$s: Photo",[l]),openGraph:{image:S.getLargestImage()},canonicalUrl:j,favicon:{href:v,type:void 0},mstile:null,maskicon:null,svgicon:null,pageName:N.HJ.analyticsPageName,imageUrl:v,type:"post",author:u,decodedTag:`${N.HJ.analyticsPageName}: ${h.tags.join(",")}`,parselyLink:j};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.Z,{page:N.HJ.analyticsPageName}),(0,b.jsx)(I.Z,s()({},P)),(0,b.jsx)(w,{blog:n.blog,post:h,photo:p})]})}},50591:(e,a,t)=>{t.d(a,{Z:()=>s});var r=r||{});let s=r},68859:(e,a,t)=>{t.d(a,{Z:()=>r});let r=e=>{if(!e)return!1;try{a=new URL(e)}catch(e){return!1}var a,t=a.hostname;return"safe.txmblr.com"===t||/(?:^tumblr|\.tumblr)\.(?:com|net)$/.test(t)}},60042:(e,a,t)=>{t.d(a,{Ev:()=>i,ag:()=>o,bG:()=>l,oL:()=>n});var r=t(94576),s=t(68859);function n(e,a){var t,n=r=>{var n=function(e){var a,t=e.origin,r=e.source,n=e.data;if(!(n&&t&&r)||!(0,s.Z)(t))return null;try{a=JSON.parse(n)}catch(e){return null}if(!a.method)return null;var i=a.method.match(/^([^:]+):(.+)$/);if(!i)return null;var o=i[1],l=i[2],g=a.args[0];return{origin:t,namespace:o,name:l,source:r,cid:a.cid,data:g}}(r);if(n&&n.namespace===e){if("_syn"===n.name){t={namespace:e,source:n.source,origin:n.origin},function(e,a,t,r){var s=JSON.stringify({method:`${t}:_method_callback_responder`,args:[r]});e.postMessage(s,a)}(n.source,n.origin,e,{response:"ack",cid_response:n.cid});return}a[n.name]&&a[n.name](n.data)}};return(0,r.Rr)("message",n),{handler:n,getChannelInfo:}ar o={listen:n,unlisten:i};function l(e,a,t){var r=e.source,s=e.target,n=e.namespace,i=JSON.stringify({method:`${n}:${a}`,args:[t]});r.postMessage(i,s)}}}]);