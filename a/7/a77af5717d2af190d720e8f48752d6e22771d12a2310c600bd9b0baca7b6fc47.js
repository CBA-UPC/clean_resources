(()=>{var R=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var Ye=R(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.default=yt;var Oe,vt=new Uint8Array(16);function yt(){if(!Oe&&(Oe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oe(vt)}});var pr=R(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var pt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Ie.default=pt});var _e=R(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=void 0;var ht=gt(pr());function gt(e){return e&&e.__esModule?e:{default:e}}function wt(e){return typeof e=="string"&&ht.default.test(e)}var bt=wt;Ee.default=bt});var ve=R(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.default=void 0;me.unsafeStringify=hr;var St=xt(_e());function xt(e){return e&&e.__esModule?e:{default:e}}var D=[];for(let e=0;e<256;++e)D.push((e+256).toString(16).slice(1));function hr(e,i=0){return D[e[i+0]]+D[e[i+1]]+D[e[i+2]]+D[e[i+3]]+"-"+D[e[i+4]]+D[e[i+5]]+"-"+D[e[i+6]]+D[e[i+7]]+"-"+D[e[i+8]]+D[e[i+9]]+"-"+D[e[i+10]]+D[e[i+11]]+D[e[i+12]]+D[e[i+13]]+D[e[i+14]]+D[e[i+15]]}function kt(e,i=0){let r=hr(e,i);if(!(0,St.default)(r))throw TypeError("Stringified UUID is invalid");return r}var Ot=kt;me.default=Ot});var wr=R(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.default=void 0;var It=qt(Ye()),Et=ve();function qt(e){return e&&e.__esModule?e:{default:e}}var gr,Ke,Xe=0,Qe=0;function At(e,i,r){let n=i&&r||0,a=i||new Array(16);e=e||{};let o=e.node||gr,d=e.clockseq!==void 0?e.clockseq:Ke;if(o==null||d==null){let E=e.random||(e.rng||It.default)();o==null&&(o=gr=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),d==null&&(d=Ke=(E[6]<<8|E[7])&16383)}let w=e.msecs!==void 0?e.msecs:Date.now(),h=e.nsecs!==void 0?e.nsecs:Qe+1,k=w-Xe+(h-Qe)/1e4;if(k<0&&e.clockseq===void 0&&(d=d+1&16383),(k<0||w>Xe)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xe=w,Qe=h,Ke=d,w+=122192928e5;let A=((w&268435455)*1e4+h)%4294967296;a[n++]=A>>>24&255,a[n++]=A>>>16&255,a[n++]=A>>>8&255,a[n++]=A&255;let O=w/4294967296*1e4&268435455;a[n++]=O>>>8&255,a[n++]=O&255,a[n++]=O>>>24&15|16,a[n++]=O>>>16&255,a[n++]=d>>>8|128,a[n++]=d&255;for(let E=0;E<6;++E)a[n+E]=o[E];return i||(0,Et.unsafeStringify)(a)}var Tt=At;qe.default=Tt});var Ze=R(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var Pt=Dt(_e());function Dt(e){return e&&e.__esModule?e:{default:e}}function Ct(e){if(!(0,Pt.default)(e))throw TypeError("Invalid UUID");let i,r=new Uint8Array(16);return r[0]=(i=parseInt(e.slice(0,8),16))>>>24,r[1]=i>>>16&255,r[2]=i>>>8&255,r[3]=i&255,r[4]=(i=parseInt(e.slice(9,13),16))>>>8,r[5]=i&255,r[6]=(i=parseInt(e.slice(14,18),16))>>>8,r[7]=i&255,r[8]=(i=parseInt(e.slice(19,23),16))>>>8,r[9]=i&255,r[10]=(i=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=i/4294967296&255,r[12]=i>>>24&255,r[13]=i>>>16&255,r[14]=i>>>8&255,r[15]=i&255,r}var Rt=Ct;Ae.default=Rt});var $e=R(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.URL=ie.DNS=void 0;ie.default=Bt;var Mt=ve(),Ut=Nt(Ze());function Nt(e){return e&&e.__esModule?e:{default:e}}function Lt(e){e=unescape(encodeURIComponent(e));let i=[];for(let r=0;r<e.length;++r)i.push(e.charCodeAt(r));return i}var br="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ie.DNS=br;var Sr="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ie.URL=Sr;function Bt(e,i,r){function n(a,o,d,w){var h;if(typeof a=="string"&&(a=Lt(a)),typeof o=="string"&&(o=(0,Ut.default)(o)),((h=o)===null||h===void 0?void 0:h.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let k=new Uint8Array(16+a.length);if(k.set(o),k.set(a,o.length),k=r(k),k[6]=k[6]&15|i,k[8]=k[8]&63|128,d){w=w||0;for(let A=0;A<16;++A)d[w+A]=k[A];return d}return(0,Mt.unsafeStringify)(k)}try{n.name=e}catch{}return n.DNS=br,n.URL=Sr,n}});var kr=R(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;function Vt(e){if(typeof e=="string"){let i=unescape(encodeURIComponent(e));e=new Uint8Array(i.length);for(let r=0;r<i.length;++r)e[r]=i.charCodeAt(r)}return Jt(Ht(jt(e),e.length*8))}function Jt(e){let i=[],r=e.length*32,n="0123456789abcdef";for(let a=0;a<r;a+=8){let o=e[a>>5]>>>a%32&255,d=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);i.push(d)}return i}function xr(e){return(e+64>>>9<<4)+14+1}function Ht(e,i){e[i>>5]|=128<<i%32,e[xr(i)-1]=i;let r=1732584193,n=-271733879,a=-1732584194,o=271733878;for(let d=0;d<e.length;d+=16){let w=r,h=n,k=a,A=o;r=M(r,n,a,o,e[d],7,-680876936),o=M(o,r,n,a,e[d+1],12,-389564586),a=M(a,o,r,n,e[d+2],17,606105819),n=M(n,a,o,r,e[d+3],22,-1044525330),r=M(r,n,a,o,e[d+4],7,-176418897),o=M(o,r,n,a,e[d+5],12,1200080426),a=M(a,o,r,n,e[d+6],17,-1473231341),n=M(n,a,o,r,e[d+7],22,-45705983),r=M(r,n,a,o,e[d+8],7,1770035416),o=M(o,r,n,a,e[d+9],12,-1958414417),a=M(a,o,r,n,e[d+10],17,-42063),n=M(n,a,o,r,e[d+11],22,-1990404162),r=M(r,n,a,o,e[d+12],7,1804603682),o=M(o,r,n,a,e[d+13],12,-40341101),a=M(a,o,r,n,e[d+14],17,-1502002290),n=M(n,a,o,r,e[d+15],22,1236535329),r=U(r,n,a,o,e[d+1],5,-165796510),o=U(o,r,n,a,e[d+6],9,-1069501632),a=U(a,o,r,n,e[d+11],14,643717713),n=U(n,a,o,r,e[d],20,-373897302),r=U(r,n,a,o,e[d+5],5,-701558691),o=U(o,r,n,a,e[d+10],9,38016083),a=U(a,o,r,n,e[d+15],14,-660478335),n=U(n,a,o,r,e[d+4],20,-405537848),r=U(r,n,a,o,e[d+9],5,568446438),o=U(o,r,n,a,e[d+14],9,-1019803690),a=U(a,o,r,n,e[d+3],14,-187363961),n=U(n,a,o,r,e[d+8],20,1163531501),r=U(r,n,a,o,e[d+13],5,-1444681467),o=U(o,r,n,a,e[d+2],9,-51403784),a=U(a,o,r,n,e[d+7],14,1735328473),n=U(n,a,o,r,e[d+12],20,-1926607734),r=N(r,n,a,o,e[d+5],4,-378558),o=N(o,r,n,a,e[d+8],11,-2022574463),a=N(a,o,r,n,e[d+11],16,1839030562),n=N(n,a,o,r,e[d+14],23,-35309556),r=N(r,n,a,o,e[d+1],4,-1530992060),o=N(o,r,n,a,e[d+4],11,1272893353),a=N(a,o,r,n,e[d+7],16,-155497632),n=N(n,a,o,r,e[d+10],23,-1094730640),r=N(r,n,a,o,e[d+13],4,681279174),o=N(o,r,n,a,e[d],11,-358537222),a=N(a,o,r,n,e[d+3],16,-722521979),n=N(n,a,o,r,e[d+6],23,76029189),r=N(r,n,a,o,e[d+9],4,-640364487),o=N(o,r,n,a,e[d+12],11,-421815835),a=N(a,o,r,n,e[d+15],16,530742520),n=N(n,a,o,r,e[d+2],23,-995338651),r=L(r,n,a,o,e[d],6,-198630844),o=L(o,r,n,a,e[d+7],10,1126891415),a=L(a,o,r,n,e[d+14],15,-1416354905),n=L(n,a,o,r,e[d+5],21,-57434055),r=L(r,n,a,o,e[d+12],6,1700485571),o=L(o,r,n,a,e[d+3],10,-1894986606),a=L(a,o,r,n,e[d+10],15,-1051523),n=L(n,a,o,r,e[d+1],21,-2054922799),r=L(r,n,a,o,e[d+8],6,1873313359),o=L(o,r,n,a,e[d+15],10,-30611744),a=L(a,o,r,n,e[d+6],15,-1560198380),n=L(n,a,o,r,e[d+13],21,1309151649),r=L(r,n,a,o,e[d+4],6,-145523070),o=L(o,r,n,a,e[d+11],10,-1120210379),a=L(a,o,r,n,e[d+2],15,718787259),n=L(n,a,o,r,e[d+9],21,-343485551),r=re(r,w),n=re(n,h),a=re(a,k),o=re(o,A)}return[r,n,a,o]}function jt(e){if(e.length===0)return[];let i=e.length*8,r=new Uint32Array(xr(i));for(let n=0;n<i;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function re(e,i){let r=(e&65535)+(i&65535);return(e>>16)+(i>>16)+(r>>16)<<16|r&65535}function Ft(e,i){return e<<i|e>>>32-i}function Te(e,i,r,n,a,o){return re(Ft(re(re(i,e),re(n,o)),a),r)}function M(e,i,r,n,a,o,d){return Te(i&r|~i&n,e,i,a,o,d)}function U(e,i,r,n,a,o,d){return Te(i&n|r&~n,e,i,a,o,d)}function N(e,i,r,n,a,o,d){return Te(i^r^n,e,i,a,o,d)}function L(e,i,r,n,a,o,d){return Te(r^(i|~n),e,i,a,o,d)}var zt=Vt;Pe.default=zt});var Ir=R(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Wt=Or($e()),Gt=Or(kr());function Or(e){return e&&e.__esModule?e:{default:e}}var Yt=(0,Wt.default)("v3",48,Gt.default),Kt=Yt;De.default=Kt});var Er=R(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=void 0;var Xt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qt={randomUUID:Xt};Ce.default=Qt});var Tr=R(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.default=void 0;var qr=Ar(Er()),Zt=Ar(Ye()),$t=ve();function Ar(e){return e&&e.__esModule?e:{default:e}}function en(e,i,r){if(qr.default.randomUUID&&!i&&!e)return qr.default.randomUUID();e=e||{};let n=e.random||(e.rng||Zt.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,i){r=r||0;for(let a=0;a<16;++a)i[r+a]=n[a];return i}return(0,$t.unsafeStringify)(n)}var rn=en;Re.default=rn});var Pr=R(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;function tn(e,i,r,n){switch(e){case 0:return i&r^~i&n;case 1:return i^r^n;case 2:return i&r^i&n^r&n;case 3:return i^r^n}}function er(e,i){return e<<i|e>>>32-i}function nn(e){let i=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let d=unescape(encodeURIComponent(e));e=[];for(let w=0;w<d.length;++w)e.push(d.charCodeAt(w))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,a=Math.ceil(n/16),o=new Array(a);for(let d=0;d<a;++d){let w=new Uint32Array(16);for(let h=0;h<16;++h)w[h]=e[d*64+h*4]<<24|e[d*64+h*4+1]<<16|e[d*64+h*4+2]<<8|e[d*64+h*4+3];o[d]=w}o[a-1][14]=(e.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(e.length-1)*8&4294967295;for(let d=0;d<a;++d){let w=new Uint32Array(80);for(let P=0;P<16;++P)w[P]=o[d][P];for(let P=16;P<80;++P)w[P]=er(w[P-3]^w[P-8]^w[P-14]^w[P-16],1);let h=r[0],k=r[1],A=r[2],O=r[3],E=r[4];for(let P=0;P<80;++P){let Be=Math.floor(P/20),Ve=er(h,5)+tn(Be,k,A,O)+E+i[Be]+w[P]>>>0;E=O,O=A,A=er(k,30)>>>0,k=h,h=Ve}r[0]=r[0]+h>>>0,r[1]=r[1]+k>>>0,r[2]=r[2]+A>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var an=nn;Me.default=an});var Cr=R(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;var on=Dr($e()),dn=Dr(Pr());function Dr(e){return e&&e.__esModule?e:{default:e}}var ln=(0,on.default)("v5",80,dn.default),cn=ln;Ue.default=cn});var Rr=R(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var un="00000000-0000-0000-0000-000000000000";Ne.default=un});var Mr=R(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var fn=sn(_e());function sn(e){return e&&e.__esModule?e:{default:e}}function _n(e){if(!(0,fn.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var mn=_n;Le.default=mn});var Ur=R(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});Object.defineProperty(H,"NIL",{enumerable:!0,get:function(){return gn.default}});Object.defineProperty(H,"parse",{enumerable:!0,get:function(){return xn.default}});Object.defineProperty(H,"stringify",{enumerable:!0,get:function(){return Sn.default}});Object.defineProperty(H,"v1",{enumerable:!0,get:function(){return vn.default}});Object.defineProperty(H,"v3",{enumerable:!0,get:function(){return yn.default}});Object.defineProperty(H,"v4",{enumerable:!0,get:function(){return pn.default}});Object.defineProperty(H,"v5",{enumerable:!0,get:function(){return hn.default}});Object.defineProperty(H,"validate",{enumerable:!0,get:function(){return bn.default}});Object.defineProperty(H,"version",{enumerable:!0,get:function(){return wn.default}});var vn=K(wr()),yn=K(Ir()),pn=K(Tr()),hn=K(Cr()),gn=K(Rr()),wn=K(Mr()),bn=K(_e()),Sn=K(ve()),xn=K(Ze());function K(e){return e&&e.__esModule?e:{default:e}}});var _t="https://api.juspay.in/payout/client/v1/temptoken";function mt(e,...i){e&&e.success_handler&&e.success_handler(...i)}function yr(e,...i){e&&e.error_handler&&e.error_handler(...i)}function We(e,i,r,n,a){var o=document.querySelector(r.payment_form);if(!i.hasOwnProperty("success_handler")||typeof i.success_handler!="function")throw new Error("success_handler is not specified");if(!i.hasOwnProperty("error_handler")||typeof i.error_handler!="function")throw new Error("error_handler is not specified");var d=i.target_api!=="add_card",w=e.validate_form(d,onlyCardNumberMandatory=!0);if(!w.valid)yr(i,{error_code:"invalid",error_message:"Invalid card details",status:"FAILED"});else{var h={};if(r.type=="express"){var k=e.valueOf(o.querySelector(r.field_card_token));e.extend(h,{stored_card_token:k,card_security_code:null})}else{var A=e.valueOf(o.querySelector(r.field_merchant_id));let O={card_number:null,is_payout_tokenize:null};r.iframe_elements.name_on_card!=null&&(O.name_on_card=null),r.iframe_elements.card_exp_month!=null&&(O.card_exp_month=null),r.iframe_elements.card_exp_year!=null&&(O.card_exp_year=null),r.iframe_elements.security_code!=null&&(O.card_security_code=null),e.extend(h,O)}r.card_encoding_key&&r.card_encoding_version&&e.extend(h,{card_encoding_key:r.card_encoding_key,card_encoding_version:r.card_encoding_version}),r.customer.client_auth_token&&e.extend(h,{client_auth_token:r.customer.client_auth_token}),A&&e.extend(h,{merchant_id:A}),n(_t,a,h,function(O){mt(i,O)},function(O){yr(i,O)})}}var{v4:kn}=Ur(),On=kn();(function(){typeof window.console!="object"&&(window.console={log:function(e){},info:function(e){},warn:function(e){}})})();function le(e,...i){e&&e.success_handler&&e.success_handler(...i)}function j(e,...i){e&&e.error_handler&&e.error_handler(...i)}(function(){var e=function(){var f;return f=navigator.userAgent,screen.width<=720||screen.height<=720||/Android/i.test(f)||/iPhone/i.test(f)||/iPad/i.test(f)},i=new Date().getTime(),r=document.location.hostname,n=r.indexOf("juspay.in")>=0,a="https://api.juspay.in";if(n){var o=document.location.protocol,d=document.location.port;a=o+"//"+r+(d?":"+d:"")}var w="https://api.juspay.in/txns",h="https://api.juspay.in/order/payment-status",k="https://api.juspay.in/card/tokenize",A="https://api.juspay.in/upi/verify-vpa",O="https://api.juspay.in/iframe-element",E="https://api.juspay.in/payjs-iframe-sender",P="https://logs.juspay.in/godel/analytics",Be="https://api.juspay.in/event/addMetric",Ve="https://api.juspay.in/card/fingerprint";window.location.protocol=="file:"&&(O=O+"?domain_check=false",E=E+"?domain_check=false");function In(f,_,g){}function Nr(f,_,g){for(var t in g)f[t]=_[t]===void 0?g[t]:_[t];return f}var X={READY:"READY",PROCESSING:"PROCESSING",PROCESSING_3D:"3D_SECURE",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},Lr={payment_form:"#frm",success_handler:0,error_handler:0,form_error_handler:0,second_factor_window_closed_handler:0,field_order_id:".order_id",field_product_id:".product_id",field_amount:".amount",field_merchant_id:".merchant_id",field_gateway_id:".gateway_id",field_customer_email:".customer_email",field_customer_phone:".customer_phone",field_card_token:".card_token",field_card_isin:".card_isin",field_payment_method_type:".payment_method_type",field_payment_method:".payment_method",field_card_number:".card_number",field_name_on_card:".name_on_card",field_card_security_code:".security_code",field_card_exp_month:".card_exp_month",field_card_exp_year:".card_exp_year",field_juspay_locker_save:".juspay_locker_save",field_tokenize:".tokenize",field_redirect:".redirect",field_is_emi:".is_emi",field_emi_bank:".emi_bank",field_emi_tenure:".emi_tenure",field_emi_type:".emi_type",field_offers:".offers",field_upi_vpa:".upi_vpa",field_txn_type:".txn_type",field_mobile_number:".mobile_number",field_alt_mobile_number:".alt_mobile_number",field_auth_type:".auth_type",field_should_create_mandate:".should_create_mandate",field_payment_channel:".payment_channel",field_mandate_type:".mandate_type",submit_btn:".make_payment",type:"inline",iframe_elements:{},styles:{},iframe_element_callback:function(){},auto_tab_enabled:!1,autofill_card_exp_month:!1,auto_tab_from_card_number:"",auto_tab_from_security_code:"",disable_auto_fill:!1,card_encoding_key:"",card_encoding_version:"",card_bin_info_min_digits:6,tokenize_support:!1,customer:{}};function y(f){f.uuid=On;let _;window.merchant_id?_={data:[f],merchant_id:window.merchant_id}:_={data:[f]};var g=new te;window.iframeId&&g(P,iframeId,_,function(){},function(){})}var Je=function(f){},En=function(){var f=function(_,g){var t=new XMLHttpRequest;return t.onreadystatechange=function(){this.readyState==4&&(this.status==200?_():g())},t};return{get:function(_,g,t,B){var c=f(t,B);c.open("GET",_,!0),c.send(g)},post:function(_,g,t,B){var c=f(t,B);c.open("POST",_,!0),c.setRequestHeader("Content-type","application/x-godel-gzip-pubkey-encrypted"),c.setRequestHeader("jp-product","payv3"),c.send(g)}}}(),te=function(){if(typeof window.postMessage!="function")return null;var f=!1,_=function(){var c=document.createElement("iframe");c.style.display="none",c.src=E,c.id="juspay-hidden-form"+new Date().getTime();var S=document.getElementsByTagName("body")[0];return S||(S=document.getElementsByTagName("head")[0]),S.appendChild(c),c.contentWindow}(),g=function(){var c={};return new function(){this.register=function(S,C){c[S]=C},this.processMessage=function(S){c[S.senderId](S.messageId,S)},this.unregister=function(S){delete c[S.senderId]}}}(),t=function(){var c=0;return function(){var S="SID_"+c;return c+=1,S}}();window.addEventListener("message",function(c){if(c.origin.indexOf("juspay.in")>=0){var S=JSON.parse(c.data);S.messageId==="check-ok"?f=!0:/^MID_/.test(S.messageId)&&/^SID_/.test(S.senderId)&&g.processMessage(S)}});var B=function(){var c=t(),S=0,C={generic:function(){}},I={generic:function(){alert("There has been an error, please retry.")}},W=function(q,F,G,ue,oe){S+=1;var fe="MID_"+S;C[fe]=ue,I[fe]=oe;var l={url:q,messageId:fe,senderId:c,iframeId:F,payload:G};_.postMessage(JSON.stringify(l),E)},ce=function(q,F){var G;!C[q]||!I[q]?G=C[q]||I[q]:F.ok?G=C[q]||C.generic:G=I[q]||I.generic,G(F.payload),delete C[q],delete I[q]};return g.register(c,ce),W};return function(){var c=new B;return function(){return function(S,C,I,W,ce){var q;function F(){f&&(window.clearInterval(q),c.apply(null,[S,C,I,W,ce]))}f?F():q=window.setInterval(F,100)}}}()}(),Br=function(f){var _=[];for(var g in f)f.hasOwnProperty(g)&&_.push(encodeURIComponent(g)+"="+encodeURIComponent(f[g]));return _.join("&")},rr=function(f){return f?f.value:""},Vr=function(f){this.toQueryString=Br,this.valueOf=rr;var _=function(l){for(var u="",m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",v=0;v<l;v++)u+=m.charAt(Math.floor(Math.random()*m.length));return u}(16);window.iframeId=_;var g=new Date().getTime(),t=Nr({},f,Lr),B=X.READY,c=document.querySelector(t.payment_form);new MutationObserver(l=>{for(let u of l)if(u.removedNodes&&u.removedNodes.length)for(let m of u.removedNodes)m===c&&y({d:"SDK Closed / Form Unmounted"})}).observe(document,{childList:!0,subtree:!0});var C;try{C=rr(c.querySelector(t.field_merchant_id))}catch{C=""}window.merchant_id=C;var I=c.querySelector(t.submit_btn);if(f.type!==void 0&&(f.type=="inline"||f.type=="express"||t.type=="payoutTokenize")?t.type=f.type:t.type=this.valueOf(c.querySelector(".card_token"))!==""?"express":"inline",this.clear_form=function(){y({d:"clear form triggered "});var l={messageId:"clear-iframe-element"};for(var u in t.iframe_elements)q[u].contentWindow.postMessage(JSON.stringify(l),q[u].src)},t.type=="express")p[t.payment_form]={security_code:{target_element:"security_code",empty:!0,valid:!1,card_brand:"none"}};else if(t.type=="payoutTokenize"){let l={card_number:{target_element:"card_number",empty:!0,partially_valid:!1,valid:!1,card_brand:"none"}};t.iframe_elements.name_on_card!=null&&(l.name_on_card={target_element:"name_on_card",empty:!0,valid:!1}),t.iframe_elements.card_exp_month!=null&&(l.card_exp_month={target_element:"card_exp_month",empty:!0,valid:!1,expiry_valid:!1}),t.iframe_elements.card_exp_year!=null&&(l.card_exp_year={target_element:"card_exp_year",empty:!0,valid:!1,expiry_valid:!1}),t.iframe_elements.security_code!=null&&(l.security_code={target_element:"security_code",empty:!0,valid:!1}),p[t.payment_form]=l}else p[t.payment_form]={card_number:{target_element:"card_number",empty:!0,partially_valid:!1,valid:!1,card_brand:"none"},name_on_card:{target_element:"name_on_card",empty:!0,valid:!1},card_exp_month:{target_element:"card_exp_month",empty:!0,valid:!1,expiry_valid:!1},card_exp_year:{target_element:"card_exp_year",empty:!0,valid:!1,expiry_valid:!1},security_code:{target_element:"security_code",empty:!0,valid:!1}};this.validate_form=function(l,u){var m={},v=this.valueOf(c.querySelector(t.field_payment_method_type)),b=this.valueOf(c.querySelector(t.field_payment_method));return v=="NB"||v=="WALLET"||v=="UPI"||v=="CONSUMER_FINANCE"||b&&/^ATM_CARD_/.test(b)||v=="REWARD"?m.valid=!0:t.type=="inline"?(y({d:"validate form inline type"}),p[t.payment_form].card_number.valid?u?m=p[t.payment_form].card_number:!t.iframe_elements.name_on_card||p[t.payment_form].name_on_card.valid?(p[t.payment_form].card_number.card_brand=="MAESTRO"||p[t.payment_form].card_number.card_brand=="BAJAJ")&&p[t.payment_form].card_exp_month.empty&&p[t.payment_form].card_exp_year.empty&&p[t.payment_form].security_code.empty?m.valid=!0:p[t.payment_form].card_exp_month.expiry_valid?l?p[t.payment_form].security_code.valid?m.valid=!0:m=p[t.payment_form].security_code:m.valid=!0:p[t.payment_form].card_exp_month.valid?p[t.payment_form].card_exp_year.valid?(m=p[t.payment_form].card_exp_year,m.valid=!1):m=p[t.payment_form].card_exp_year:m=p[t.payment_form].card_exp_month:m=p[t.payment_form].name_on_card:m=p[t.payment_form].card_number):t.type=="express"?(y({d:"validate form express type"}),l?p[t.payment_form].security_code.empty&&t.iframe_elements.security_code===void 0||(p[t.payment_form].security_code.card_brand=="SODEXO"||p[t.payment_form].security_code.card_brand=="MAESTRO"||p[t.payment_form].security_code.card_brand=="BAJAJ")&&p[t.payment_form].security_code.empty||p[t.payment_form].security_code.valid?m.valid=!0:m=p[t.payment_form].security_code:m.valid=!0):m.valid=!0,m},this.get_status=function(){return B},this.set_type=function(l){return l!==void 0&&(l=="inline"||l=="express")&&(t.type=l),t.type};var W=function(){var l={};return l.isCordovaApp=window.hasOwnProperty("cordova"),l.isIonicApp=window.hasOwnProperty("ionic"),l.platform="",l.isCordovaApp&&(l.platform=window.device.platform.toLowerCase()),function(){return l}}(),ce=function(l){var u=document.createElement("iframe");u.src=O,u.setAttribute("frameborder","0"),u.setAttribute("allowTransparency","true"),u.setAttribute("scrolling","no"),u.setAttribute("name",l+"_iframe_"+_),u.setAttribute("class",l+"_iframe"),u.style.border="none",u.style.margin="0",u.style.padding="0",u.style.height="100%",u.style.width="100%",u.style.float="left",u.style.overflow="hidden",u.style.display="block";var m=c.querySelector(t.iframe_elements[l].container);return m.appendChild(u),u.addEventListener("load",function(){var v={messageId:"create-iframe-element",iframeId:_,elementName:l,formName:t.payment_form,elementAttributes:t.iframe_elements[l].attributes,styles:t.styles,cardBinInfoMinDigits:t.card_bin_info_min_digits,clientAuthToken:t.customer.client_auth_token,customerId:t.customer.customer_id,disableAutoFill:t.disable_auto_fill};t.auto_tab_enabled?(v.autoTabEnabled=!0,l=="card_number"&&(v.autoTabFromCardNumber=t.auto_tab_from_card_number),l=="security_code"&&(v.autoTabFromSecurityCode=t.auto_tab_from_security_code)):v.autoTabEnabled=!1,v.autoFillCardExpMonth=t.autofill_card_exp_month,v.tokenizeSupport=t.tokenize_support===!0,c.querySelector(t.field_card_isin)&&(v.cardIsin=c.querySelector(t.field_card_isin).value),c.querySelector(".merchant_id")&&(v.merchantId=c.querySelector(".merchant_id").value),u.contentWindow.postMessage(JSON.stringify(v),u.src)}),u},q={};for(var F in t.iframe_elements)q[F]=ce(F);window.addEventListener("message",function(l){if(l.origin.indexOf("juspay.in")>=0){var u=JSON.parse(l.data);if(u.messageId==="handle-iframe-event"&&u.senderId===t.payment_form){switch(u.eventObject.target_element){case"card_number":p[t.payment_form].card_number=u.eventObject;break;case"name_on_card":p[t.payment_form].name_on_card=u.eventObject;break;case"card_exp_month":p[t.payment_form].card_exp_month=u.eventObject,p[t.payment_form].card_exp_year.expiry_valid=u.eventObject.expiry_valid;break;case"card_exp_year":p[t.payment_form].card_exp_year=u.eventObject,p[t.payment_form].card_exp_month.expiry_valid=u.eventObject.expiry_valid;break;case"security_code":p[t.payment_form].security_code=u.eventObject;break}t.iframe_element_callback(JSON.parse(JSON.stringify(u.eventObject)))}else if(u.messageId==="get-platform-quirks"){var m=u.senderId+"_iframe_"+_,v=q[u.senderId];if(y({d:"iframe Element loaded: "+u.senderId}),t.iframe_element_callback({target_element:u.senderId,type:"onready",valid:!1}),v&&v.getAttribute("name")==m&&v.contentWindow!=null)try{var b=W();v.contentWindow.postMessage(JSON.stringify({messageId:"fix-platform-quirks",senderId:"pay-controller",quirks:b}),v.src)}catch{}}else if(u.messageId==="platform-quirks-fixed")try{var m=u.senderId+"_iframe_"+_;if(q.hasOwnProperty(u.senderId)&&q[u.senderId].getAttribute("name")==m&&q[u.senderId].contentWindow!=null){var b=W();b.isCordovaApp&&b.isIonicApp&&b.platform==="ios"&&ionic.tap.register(q[u.senderId].contentWindow.document)}}catch{}}});var G=function(l){var u={},m={cardExpMonth:"card_exp_month",cardExpYear:"card_exp_year",cardSecurityCode:"card_security_code",cardNumber:"card_number",name:"name_on_card",orderId:"order_id",merchantId:"merchant_id",emiBank:"emi_bank",emiTenure:"emi_tenure",emiType:"emi_type",isEmi:"is_emi",cardToken:"card_token",juspayLockerSave:"save_to_locker",expressCheckout:"express_checkout",redirect:"redirect_after_payment",authentication_method:"authentication_method",gatewayId:"gateway_id",paymentMethodType:"payment_method_type",paymentMethod:"payment_method",authType:"auth_type",shouldCreateMandate:"should_create_mandate",mandateType:"mandate_type",upiVpa:"upi_vpa",directWalletToken:"direct_wallet_token",txnType:"txn_type",mobileNumber:"mobile_number",cardEncodingKey:"card_encoding_key",cardEncodingVersion:"card_encoding_version",offers:"offers",metadata:"metadata",tokenizeCard:"tokenize",paymentChannel:"payment_channel",customerId:"customer_id",clientAuthToken:"client_auth_token"};for(var v in l)if(m[v]){var b=m[v];u[b]=l[v]}return u.format="json",u.payjs_version="v3",u.metadata=JSON.stringify(u.metadata),u};this.extend=function(l){l=l||{};for(var u=1;u<arguments.length;u++)if(!!arguments[u])for(var m in arguments[u])arguments[u].hasOwnProperty(m)&&(l[m]=arguments[u][m]);return l};var ue=function(l){if(!!l){if(typeof l.classList=="object")l.classList.remove("disabled");else{var u=l.className.split(/\s+/g);u.splice(u.indexOf("disabled"),1),l.className=u.join(" ")}l.disabled=!1}},oe=function(l){!l||(typeof l.classList=="object"?l.classList.add("disabled"):l.className+=" disabled",l.disabled=!1)};this.submit_form=function(){var l=!0,u=this.validate_form(l),m=0;if(u.valid){var v=new Date().getTime();oe(I);var b=this.valueOf(c.querySelector(t.field_merchant_id)),s=this.valueOf(c.querySelector(t.field_order_id)),ye=this.valueOf(c.querySelector(t.field_gateway_id)),He=this.valueOf(c.querySelector(t.field_amount)),se=this.valueOf(c.querySelector(t.field_customer_email)),zr=this.valueOf(c.querySelector(t.field_customer_phone)),Wr=this.valueOf(c.querySelector(t.field_product_id)),tr=this.valueOf(c.querySelector(t.field_is_emi)),Gr=this.valueOf(c.querySelector(t.field_emi_type))||"STANDARD_EMI",Yr=this.valueOf(c.querySelector(t.field_emi_bank)),Kr=this.valueOf(c.querySelector(t.field_emi_tenure)),je=this.valueOf(c.querySelector(t.field_offers)),Y=this.valueOf(c.querySelector(t.field_payment_method_type)),Xr=this.valueOf(c.querySelector(t.field_direct_wallet_token)),Z=this.valueOf(c.querySelector(t.field_payment_method)),pe=this.valueOf(c.querySelector(t.field_auth_type));pe||(pe=this.valueOf(c.querySelector(t.field_auth_type+" input[type=radio]:checked")));var he=this.valueOf(c.querySelector(t.field_should_create_mandate));he||(he=this.valueOf(c.querySelector(t.field_should_create_mandate+" input[type=radio]:checked")));var nr=this.valueOf(c.querySelector(t.field_mandate_type)),Qr=this.valueOf(c.querySelector(t.field_upi_vpa)),ar=this.valueOf(c.querySelector(t.field_txn_type)),Zr=this.valueOf(c.querySelector(t.field_mobile_number)),ir=this.valueOf(c.querySelector(t.field_alt_mobile_number)),or=this.valueOf(c.querySelector(t.field_payment_channel));y({o:s,d:"Time taken for submit: "+(v-i)}),v-i,t.type,y({o:s,d:"Submit form invoked"});var ge="",$r="",et=c.querySelector(t.field_redirect).value,T={metadata:{}};if(typeof tr<"u"&&this.extend(T,{isEmi:tr,emiBank:Yr,emiTenure:Kr,emiType:Gr}),je&&typeof je=="string"){var rt=je.split(",").map(function(x){return x.trim()});T.offers=JSON.stringify(rt)}if(or&&this.extend(T,{paymentChannel:or}),ir&&(T.metadata.customer_info={mobile_number:ir}),Y=="NB"||Y=="CONSUMER_FINANCE"||Y=="REWARD")this.extend(T,{paymentMethodType:Y,paymentMethod:Z,orderId:s,merchantId:b});else if(Y=="WALLET")this.extend(T,{paymentMethodType:Y,directWalletToken:Xr,paymentMethod:Z,orderId:s,merchantId:b,txnType:ar,mobileNumber:Zr,customerId:t.customer.customer_id,clientAuthToken:t.customer.client_auth_token});else if(Z&&/^ATM_CARD_/.test(Z))this.extend(T,{paymentMethodType:Y,paymentMethod:Z,authType:pe,orderId:s,merchantId:b});else if(Y=="UPI")this.extend(T,{paymentMethodType:Y,paymentMethod:Z,orderId:s,merchantId:b,upiVpa:Qr,txnType:ar});else if(t.type=="inline"){var we=c.querySelector(t.field_juspay_locker_save);we!==null&&(we=we.checked),this.extend(T,{cardNumber:null,cardExpMonth:null,cardExpYear:null,cardSecurityCode:null,merchantId:b,orderId:s,juspayLockerSave:we,paymentMethodType:"CARD",paymentMethod:Z});var J=c.querySelector(t.field_tokenize);J!==null&&(J=J.value==="true"||J.value===!0||J.checked,this.extend(T,{tokenizeCard:J})),t.iframe_elements.name_on_card&&this.extend(T,{name:null}),t.card_encoding_key&&t.card_encoding_version&&this.extend(T,{cardEncodingKey:t.card_encoding_key,cardEncodingVersion:t.card_encoding_version})}else if(t.type=="express"){var tt=this.valueOf(c.querySelector(t.field_card_token));this.extend(T,{cardToken:tt,merchantId:b,orderId:s,expressCheckout:!0,paymentMethodType:"CARD",paymentMethod:Z,...t.iframe_elements.security_code===void 0?{}:{cardSecurityCode:null}});var J=c.querySelector(t.field_tokenize);J!==null&&(J=J.value==="true"||J.value===!0||J.checked,this.extend(T,{tokenizeCard:J})),t.card_encoding_key&&t.card_encoding_version&&this.extend(T,{cardEncodingKey:t.card_encoding_key,cardEncodingVersion:t.card_encoding_version})}var $=function(x,be){be!=null&&(T[x]=be)};$("amount",He),$("customerEmail",se),$("customerPhone",zr),$("productId",Wr),$("gatewayId",ye),$("authType",pe),$("shouldCreateMandate",he),he=="true"&&nr!=""&&$("mandateType",nr),ge=G(T);var V=null,dr=ye=="20";!dr&&!(et==="true"||e())?V=Juspay.startSecondFactor(b,s,$r,c):(T.redirect=!0,T.authentication_method="GET",ge=G(T)),y({o:s,d:"form submit params"+JSON.stringify(ge)});var nt=new te;typeof window.postMessage!="function"&&y({d:"window.postMessage not found / not a function"});var at=w;y({o:s,d:"Initiating txns call"}),nt(at,_,ge,function(x){if(y({o:s,d:"HandlePay response received: "+x.status}),x.status=="PENDING_VBV"||x.status=="JUSPAY_DECLINED"){try{var be=x.txn_id,it=x.payment,Fe=it.authentication,ee=Fe.url,lr=Fe.method,cr=Fe.params;if(x.serviceProvider="juspay",lr.toUpperCase()==="POST"){var de=document.createElement("form");y({o:s,d:"Creating form for POST authMethod, formUrl Action "+ee});var ur="auth_form_"+new Date().getTime();de.method=lr,de.action=ee,de.setAttribute("id",ur);for(var fr in cr){var Se=document.createElement("input");Se.type="hidden",Se.name=fr,Se.value=cr[fr],de.appendChild(Se)}var xe=document.createElement("div");xe.appendChild(de);var sr=xe.innerHTML.replace(/&amp;/g,"&");if(V){y({o:s,d:"Triggering authForm Submit in secure_w"}),sr+="<script type='text/javascript'>document.forms['"+ur+"'].submit()<\/script>";var ot=V.document.documentElement.innerHTML;V.document.open(),V.document.write(ot+sr),V.document.close()}else{y({o:s,d:"Triggering authForm Submit in current page itself"});var dt=document.querySelector("body");xe.style.display="none",dt.appendChild(xe),de.submit();return}}else if(y({o:s,d:"HandlePay response with GET method"}),V!=null&&V.location!==null)y({o:s,d:"HandlePay response GET method redirect in secure_w, Url:"+ee}),V.location.href=ee;else{if(x.offer_details&&x.offer_details.offers&&Array.isArray(x.offer_details.offers)){var _r=x.offer_details.offers.filter(function(ae){return ae&&ae.status==="FAILED"});if(y({o:s,d:"Any Offer failed: "+(_r.length>0)}),_r.length>0){j(t,x.resp_code||X.FAILURE,x.resp_message,"","","");return}}window.parent&&window.parent!==window&&window.parent.location&&window.parent.location.href?(y({o:s,d:"Redirect in window parent location"+ee}),window.parent.location.href=ee):(y({o:s,d:"Redirect in window location"+ee}),window.location.href=ee)}var lt=0,ze=0,mr=0,vr=0}catch(ae){y({o:s,d:"Error handler block for PENDING_VBV or JUSPAY_DECLINED : "+ae}),j(t,ae)}var ke=function(){try{if(V&&V.closed==!0){y({o:s,d:"3D secure window has been closed."});var ae=te();ae(h,_,{orderId:s,merchantId:b,completeReturnUrl:!0},function(z){if(z.status=="PENDING_VBV")vr==1?(oe(I),y({o:s,d:"3D secure window is closed due to timeout."}),Je("/acs_popup_closed_timeout")):(ue(I),y({o:s,d:"3D secure window is closed by user."}),Je("/acs_popup_closed_by_user")),typeof t.second_factor_window_closed_handler=="function"&&(mr||(t.second_factor_window_closed_handler(),mr=1));else if(z.status=="CHARGED"){var st=new Date().getTime();st-v,t.type,le(t,X.SUCCESS,z)}else ue(I),j(t,X.FAILURE,z.errorMessage,z.bankErrorCode,z.bankErrorMessage,z.gatewayId,z)},function(){alert("There has been an error. Please retry.")})}else if(b=="nspi"||b=="tspi"||b=="spicinemas_testing"){var ut=new Date().getTime();if(ut-i>260*1e3){Juspay.stopSecondFactor();var ft="Prematurely closing 3D secure window. Mark txn for cancellation.";y({o:s,t:be,d:ft}),oe(I),window.setTimeout(ke,3e3),vr=1}else window.setTimeout(ke,1e3)}else window.setTimeout(ke,1e3);ze=ze+1,ze%30==0&&y({o:s,d:"3D secure window is still open."})}catch(z){j(t,z)}};lt=window.setTimeout(ke,1e3)}else if(dr)if(y({o:s,d:"HandlePay response with noSecondFactor "}),x.status=="CHARGED"){var ct=new Date().getTime();ct-v,t.type,le(t,X.SUCCESS,x)}else ue(I),j(t,X.FAILURE,x.errorMessage,x.bankErrorCode,x.bankErrorMessage,x.gatewayId);else if(x.status=="CHARGED")y({o:s,d:"HandlePay response with Charged "}),V&&V.close(),le(t,X.SUCCESS,x);else{V&&V.close(),oe(I),y({o:s,d:"Internal Server Error. Check logs."});var ne=x.errorMessage?x.errorMessage:x.error_message;ne=ne||"Something went wrong with your submission.",y({o:s,d:"Internal Server Error."+ne}),t.error_handler?j(t,X.FAILURE,ne,"",ne,""):alert("Error : "+ne+". Please retry.")}})}else{u.on_submit=!0,t.iframe_element_callback(JSON.parse(JSON.stringify(u)));return}return!1},this.tokenize=function(l){if(!l.hasOwnProperty("success_handler")||typeof l.success_handler!="function")throw new Error("success_handler is not specified");if(!l.hasOwnProperty("error_handler")||typeof l.error_handler!="function")throw new Error("error_handler is not specified");var u=l.target_api!=="add_card",m=this.validate_form(u);if(!m.valid)j(l,{error_code:"invalid",error_message:"Invalid card details",status:"FAILED"});else{var v=this.valueOf(c.querySelector(t.field_merchant_id)),b=this.valueOf(c.querySelector(t.field_order_id)),s={};if(s.merchant_id=v,s.target_api=l.target_api||"txns",t.type=="express"){var ye=this.valueOf(c.querySelector(t.field_card_token));this.extend(s,{stored_card_token:ye,card_security_code:null})}else this.extend(s,{card_number:null,card_security_code:null,card_exp_month:null,card_exp_year:null,name_on_card:null});t.card_encoding_key&&t.card_encoding_version&&this.extend(s,{card_encoding_key:t.card_encoding_key,card_encoding_version:t.card_encoding_version});var He=new te;He(k,_,s,function(se){le(l,se)},function(se){j(l,se)})}},this.payoutTokenize=l=>{var u=new te;return We(this,l,t,u,_)},this.verify_vpa=function(l){if(!l.hasOwnProperty("success_handler")||typeof l.success_handler!="function")throw new Error("success_handler is not specified");if(!l.hasOwnProperty("error_handler")||typeof l.error_handler!="function")throw new Error("error_handler is not specified");var u=this.valueOf(c.querySelector(t.field_merchant_id)),m=this.valueOf(c.querySelector(t.field_upi_vpa));if(!m)j(l,{error_code:"invalid",error_message:"Empty vpa",status:"FAILED"});else{var v={};v.merchant_id=u,v.vpa=m;var b=new te;b(A,_,v,function(s){le(l,s)},function(s){j(l,s)})}},this.get_card_fingerprint=function(l){if(!l.hasOwnProperty("success_handler")||typeof l.success_handler!="function")throw new Error("success_handler is not specified");if(!l.hasOwnProperty("error_handler")||typeof l.error_handler!="function")throw new Error("error_handler is not specified");let u=t.customer.client_auth_token,m=t.customer.customer_id;var v={};v.customer_id=m,v.client_auth_token=u,v.is_card_fingerprint_call=!0;var b=new te;b(Ve,_,v,function(s){le(l,s)},function(s){j(l,s)})};var fe=this;return c.onsubmit=function(l){return l.preventDefault(),fe.submit_form(),!1},this};function Jr(){var f=window.navigator.userAgent,_=f.indexOf("MSIE ");return _>0?parseInt(f.substring(_+5,f.indexOf(".",_))):0}function Hr(f,_){for(var g=0;g<f.length;g++)if(f[g]==_)return!0;return!1}var jr=["405450","405451","430463","438587","438628","450900","455038","455390","456407","456822","461795","461796","461797","493714","517700","518371","518936","520386","526421","529117","529495","540165","540175","541497","542556","552093","552137","554619","554637","544170","531662","554637","554637","554619","532662","532663","549777","549778","549779","508159","508125","508126","508192","508227"];function Fr(f){return f?Hr(jr,f):!1}var Q=null;window.Juspay=new function(){this.Setup=function(f){return new Vr(f)},this.startSecondFactor=function(f,_,g,t){return Q&&!Q.closed||(Q=Juspay.twoFactor(f,_,g,t)),Q},this.stopSecondFactor=function(f){Q&&!Q.closed&&Q.close()},this.twoFactor=function(f,_,g,t){if(e()){y({d:"two factor, return since it is Mobile"});return}var B="height=440,width=800,left=200,top=150,location=1,status=1,scrollbars=1,screenX=200";Fr(g)&&(B="height=600,width=1000,left=100,top=100,location=1,status=1,scrollbars=1,screenX=100"),this.valueOf(t.querySelector("input.popup_attrs"))&&(B=this.valueOf(t.querySelector("input.popup_attrs")));var c=window.open("","mywindow",B);if(setTimeout(function(){if(!c||c.closed||typeof c>"u"||typeof c.closed>"u"){setTimeout(function(){y({o:_,d:"ACS Popup Blocked by browser"}),Je("/acs_popup_blocked")},10*1e3);var W=Jr();W>0?W==8?(y({o:_,d:"Alert for Popup blocked by IE browser v8"}),alert("Oops. Popup blocked by browser. Please allow "+window.location.hostname+" to open popup. Kindly retry after that. See above for details or check under Internet Options > Privacy > Settings.")):(y({o:_,d:"Alert for Popup blocked by IE browser, version != 8"}),alert("Oops. Popup blocked by browser. Please allow "+window.location.hostname+" to open popup. Kindly retry after that. See below for details or check under Internet Options > Privacy > Settings.")):(y({o:_,d:"Alert for Popup blocked by IE browser, version < 0"}),alert("Oops. Popup blocked by browser. Please allow "+window.location.hostname+" to open popup. Kindly retry after that."))}},1*1e3),c){y({d:"Inside s_w, redirecting to bank website"});var S="https://d3oxf4lkkqx2kx.cloudfront.net/images/processing.gif",C="https://d3oxf4lkkqx2kx.cloudfront.net/images/secured-by-juspay-v1.jpg",I="<br><br><br><div align='center'><div style='font-size: 32px;'>";I+="<div><img src='"+S+"'/><br><br>",I+="<div style='font-size: 16px;'>You will be redirected to your bank website for 3D secure authentication.</div>",I+="<p style='font-size: 16px; '>Please do not refresh the page or click the back or close button of your browser.</p>",I+=`<br>  <img width="106" height="59" src='`+C+"'/>",I+="<br><br></div></div></div>",c.document.write(I),c.document.close()}return c},this.validateCardNumber=function(f){if(/[^0-9 -]+/.test(f))return!1;var _=0,g=0,t=!1;f=f.replace(/\D/g,"");for(var B=f.length-1;B>=0;B--){var c=f.charAt(B),g=parseInt(c,10);t&&(g*=2)>9&&(g-=9),_+=g,t=!t}return _%10==0}};var p={}})();})();
