(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{1128:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var n=function(){return n=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)},i=function(){function t(t,e,o){var i=this;this.endVal=e,this.options=o,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){i.startTime||(i.startTime=t);var e=t-i.startTime;i.remaining=i.duration-e,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(e,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(e,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(e/i.duration);var o=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=o?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),e<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(t){var e,o,n,r,a=t<0?"-":"";e=Math.abs(t).toFixed(i.options.decimalPlaces);var s=(e+="").split(".");if(o=s[0],n=s.length>1?i.options.decimal+s[1]:"",i.options.useGrouping){r="";for(var l=3,p=0,u=0,c=o.length;u<c;++u)i.options.useIndianSeparators&&4===u&&(l=2,p=1),0!==u&&p%l==0&&(r=i.options.separator+r),p++,r=o[c-u-1]+r;o=r}return i.options.numerals&&i.options.numerals.length&&(o=o.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]})),n=n.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]}))),a+i.options.prefix+o+n+i.options.suffix},this.easeOutExpo=function(t,e,o,n){return o*(1-Math.pow(2,-10*t/n))*1024/1023+e},this.options=n(n({},this.defaults),o),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return i.handleScroll(i)})),window.onscroll=function(){window.onScrollFns.forEach((function(t){return t()}))},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var e=window.innerHeight+window.scrollY,o=t.el.getBoundingClientRect(),n=o.top+window.pageYOffset,i=o.top+o.height+window.pageYOffset;i<e&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout((function(){return t.start()}),t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||n>e)&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var o=this.countDown?1:-1;this.endVal=t+o*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e;if(this.el){var o=this.formattingFn(t);(null===(e=this.options.plugin)||void 0===e?void 0:e.render)?this.options.plugin.render(this.el,o):"INPUT"===this.el.tagName?this.el.value=o:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=o:this.el.innerHTML=o}},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}()},308:function(t,e,o){var n=o(310),i=o(88),r=o(183),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var o=s.test(t);return o||l.test(t)?p(t.slice(2),o?2:8):a.test(t)?NaN:+t}},309:function(t,e,o){var n=o(80);t.exports=function(){return n.Date.now()}},310:function(t,e,o){var n=o(311),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},311:function(t,e){var o=/\s/;t.exports=function(t){for(var e=t.length;e--&&o.test(t.charAt(e)););return e}},571:function(t,e,o){var n=o(759),i=o(308);t.exports=function(t,e,o){return void 0===o&&(o=e,e=void 0),void 0!==o&&(o=(o=i(o))==o?o:0),void 0!==e&&(e=(e=i(e))==e?e:0),n(i(t),e,o)}},587:function(t,e){t.exports=function(t){if(null==t)throw new TypeError("Cannot destructure "+t)},t.exports.__esModule=!0,t.exports.default=t.exports},715:function(t,e,o){!function(){"use strict";t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var o,n=t.HTMLElement||t.Element,i=468,r={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:n.prototype.scroll||l,scrollIntoView:n.prototype.scrollIntoView},a=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(o=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==p(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):r.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(p(arguments[0])?r.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==p(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==p(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==p(arguments[0])){var o=function(t){for(;t!==e.body&&!1===d(t);)t=t.parentNode||t.host;return t}(this),n=o.getBoundingClientRect(),i=this.getBoundingClientRect();o!==e.body?(h.call(this,o,o.scrollLeft+i.left-n.left,o.scrollTop+i.top-n.top),"fixed"!==t.getComputedStyle(o).position&&t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):t.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function p(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function c(e,o){var n=t.getComputedStyle(e,null)["overflow"+o];return"auto"===n||"scroll"===n}function d(t){var e=u(t,"Y")&&c(t,"Y"),o=u(t,"X")&&c(t,"X");return e||o}function f(e){var o,n,r,s,l=(a()-e.startTime)/i;s=l=l>1?1:l,o=.5*(1-Math.cos(Math.PI*s)),n=e.startX+(e.x-e.startX)*o,r=e.startY+(e.y-e.startY)*o,e.method.call(e.scrollable,n,r),n===e.x&&r===e.y||t.requestAnimationFrame(f.bind(t,e))}function h(o,n,i){var s,p,u,c,d=a();o===e.body?(s=t,p=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,c=r.scroll):(s=o,p=o.scrollLeft,u=o.scrollTop,c=l),f({scrollable:s,method:c,startTime:d,startX:p,startY:u,x:n,y:i})}}}}()},759:function(t,e){t.exports=function(t,e,o){return t==t&&(void 0!==o&&(t=t<=o?t:o),void 0!==e&&(t=t>=e?t:e)),t}},86:function(t,e,o){var n=o(88),i=o(309),r=o(308),a=Math.max,s=Math.min;t.exports=function(t,e,o){var l,p,u,c,d,f,h=0,m=!1,v=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var o=l,n=p;return l=p=void 0,h=e,c=t.apply(n,o)}function x(t){var o=t-f;return void 0===f||o>=e||o<0||v&&t-h>=u}function y(){var t=i();if(x(t))return b(t);d=setTimeout(y,function(t){var o=e-(t-f);return v?s(o,u-(t-h)):o}(t))}function b(t){return d=void 0,w&&l?g(t):(l=p=void 0,c)}function V(){var t=i(),o=x(t);if(l=arguments,p=this,f=t,o){if(void 0===d)return function(t){return h=t,d=setTimeout(y,e),m?g(t):c}(f);if(v)return clearTimeout(d),d=setTimeout(y,e),g(f)}return void 0===d&&(d=setTimeout(y,e)),c}return e=r(e)||0,n(o)&&(m=!!o.leading,u=(v="maxWait"in o)?a(r(o.maxWait)||0,e):u,w="trailing"in o?!!o.trailing:w),V.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=f=p=d=void 0},V.flush=function(){return void 0===d?c:b(i())},V}},934:function(t,e,o){(function(o){var n,i,r;"undefined"!=typeof window&&window,i=[],void 0===(r="function"==typeof(n=function(){var t=function(e,o){"use strict";var n=Object.create(t.prototype),i=0,r=0,a=0,s=0,l=[],p=!0,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},c=null,d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassive",null,f),window.removeEventListener("testPassive",null,f)}catch(t){}var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,m=window.transformProp||function(){var t=document.createElement("div");if(null===t.style.transform){var e=["Webkit","Moz","ms"];for(var o in e)if(void 0!==t.style[e[o]+"Transform"])return e[o]+"Transform"}return"transform"}();function v(){if(3===n.options.breakpoints.length&&Array.isArray(n.options.breakpoints)){var t,e=!0,o=!0;if(n.options.breakpoints.forEach((function(n){"number"!=typeof n&&(o=!1),null!==t&&n<t&&(e=!1),t=n})),e&&o)return}n.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}n.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},o&&Object.keys(o).forEach((function(t){n.options[t]=o[t]})),o&&o.breakpoints&&v(),e||(e=".rellax");var w="string"==typeof e?document.querySelectorAll(e):[e];if(w.length>0){if(n.elems=w,n.options.wrapper&&!n.options.wrapper.nodeType){var g=document.querySelector(n.options.wrapper);if(!g)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");n.options.wrapper=g}var x,y=function(t){var e=n.options.breakpoints;return t<e[0]?"xs":t>=e[0]&&t<e[1]?"sm":t>=e[1]&&t<e[2]?"md":"lg"},b=function(){for(var t=0;t<n.elems.length;t++){var e=E(n.elems[t]);l.push(e)}},V=function(){for(var t=0;t<l.length;t++)n.elems[t].style.cssText=l[t].style;l=[],r=window.innerHeight,s=window.innerWidth,x=y(s),A(),b(),O(),p&&(window.addEventListener("resize",V),p=!1,F())},E=function(t){var e,o=t.getAttribute("data-rellax-percentage"),i=t.getAttribute("data-rellax-speed"),a=t.getAttribute("data-rellax-xs-speed"),l=t.getAttribute("data-rellax-mobile-speed"),p=t.getAttribute("data-rellax-tablet-speed"),u=t.getAttribute("data-rellax-desktop-speed"),c=t.getAttribute("data-rellax-vertical-speed"),d=t.getAttribute("data-rellax-horizontal-speed"),f=t.getAttribute("data-rellax-vertical-scroll-axis"),h=t.getAttribute("data-rellax-horizontal-scroll-axis"),m=t.getAttribute("data-rellax-zindex")||0,v=t.getAttribute("data-rellax-min"),w=t.getAttribute("data-rellax-max"),g=t.getAttribute("data-rellax-min-x"),y=t.getAttribute("data-rellax-max-x"),b=t.getAttribute("data-rellax-min-y"),V=t.getAttribute("data-rellax-max-y"),E=!0;a||l||p||u?e={xs:a,sm:l,md:p,lg:u}:E=!1;var A=n.options.wrapper?n.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;n.options.relativeToWrapper&&(A=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-n.options.wrapper.offsetTop);var S=n.options.vertical&&(o||n.options.center)?A:0,F=n.options.horizontal&&(o||n.options.center)?n.options.wrapper?n.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,O=S+t.getBoundingClientRect().top,Y=t.clientHeight||t.offsetHeight||t.scrollHeight,L=F+t.getBoundingClientRect().left,z=t.clientWidth||t.offsetWidth||t.scrollWidth,X=o||(S-O+r)/(Y+r),C=o||(F-L+s)/(z+s);n.options.center&&(C=.5,X=.5);var N=E&&null!==e[x]?Number(e[x]):i||n.options.speed,k=c||n.options.verticalSpeed,D=d||n.options.horizontalSpeed,M=f||n.options.verticalScrollAxis,B=h||n.options.horizontalScrollAxis,R=T(C,X,N,k,D),P=t.style.cssText,q="",W=/transform\s*:/i.exec(P);if(W){var j=W.index,I=P.slice(j),H=I.indexOf(";");q=H?" "+I.slice(11,H).replace(/\s/g,""):" "+I.slice(11).replace(/\s/g,"")}return{baseX:R.x,baseY:R.y,top:O,left:L,height:Y,width:z,speed:N,verticalSpeed:k,horizontalSpeed:D,verticalScrollAxis:M,horizontalScrollAxis:B,style:P,transform:q,zindex:m,min:v,max:w,minX:g,maxX:y,minY:b,maxY:V}},A=function(){var t=i,e=a;if(i=n.options.wrapper?n.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,a=n.options.wrapper?n.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,n.options.relativeToWrapper){var o=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;i=o-n.options.wrapper.offsetTop}return!(t==i||!n.options.vertical)||!(e==a||!n.options.horizontal)},T=function(t,e,o,i,r){var a={},s=(r||o)*(100*(1-t)),l=(i||o)*(100*(1-e));return a.x=n.options.round?Math.round(s):Math.round(100*s)/100,a.y=n.options.round?Math.round(l):Math.round(100*l)/100,a},S=function(){window.removeEventListener("resize",S),window.removeEventListener("orientationchange",S),(n.options.wrapper?n.options.wrapper:window).removeEventListener("scroll",S),(n.options.wrapper?n.options.wrapper:document).removeEventListener("touchmove",S),c=u(F)},F=function(){A()&&!1===p?(O(),c=u(F)):(c=null,window.addEventListener("resize",S),window.addEventListener("orientationchange",S),(n.options.wrapper?n.options.wrapper:window).addEventListener("scroll",S,!!d&&{passive:!0}),(n.options.wrapper?n.options.wrapper:document).addEventListener("touchmove",S,!!d&&{passive:!0}))},O=function(){for(var t,e=0;e<n.elems.length;e++){var o=l[e].verticalScrollAxis.toLowerCase(),p=l[e].horizontalScrollAxis.toLowerCase(),u=-1!=o.indexOf("x")?i:0,c=-1!=o.indexOf("y")?i:0,d=-1!=p.indexOf("x")?a:0,f=(c+(-1!=p.indexOf("y")?a:0)-l[e].top+r)/(l[e].height+r),h=(u+d-l[e].left+s)/(l[e].width+s),v=(t=T(h,f,l[e].speed,l[e].verticalSpeed,l[e].horizontalSpeed)).y-l[e].baseY,w=t.x-l[e].baseX;null!==l[e].min&&(n.options.vertical&&!n.options.horizontal&&(v=v<=l[e].min?l[e].min:v),n.options.horizontal&&!n.options.vertical&&(w=w<=l[e].min?l[e].min:w)),null!=l[e].minY&&(v=v<=l[e].minY?l[e].minY:v),null!=l[e].minX&&(w=w<=l[e].minX?l[e].minX:w),null!==l[e].max&&(n.options.vertical&&!n.options.horizontal&&(v=v>=l[e].max?l[e].max:v),n.options.horizontal&&!n.options.vertical&&(w=w>=l[e].max?l[e].max:w)),null!=l[e].maxY&&(v=v>=l[e].maxY?l[e].maxY:v),null!=l[e].maxX&&(w=w>=l[e].maxX?l[e].maxX:w);var g=l[e].zindex,x="translate3d("+(n.options.horizontal?w:"0")+"px,"+(n.options.vertical?v:"0")+"px,"+g+"px) "+l[e].transform;n.elems[e].style[m]=x}n.options.callback(t)};return n.destroy=function(){for(var t=0;t<n.elems.length;t++)n.elems[t].style.cssText=l[t].style;p||(window.removeEventListener("resize",V),p=!0),h(c),c=null},V(),n.refresh=V,n}console.warn("Rellax: The elements you're trying to select don't exist.")};return t})?n.apply(e,i):n)||(t.exports=r)}).call(this,o(113))}}]);ertImage(t,r.url,e)}))};a.a.add("wysiwyg-button","click",(function(t,e){var n=c.a.findTargets(t,e.target).data("redactor");n&&n[e.module][e.fn].apply(n[e.module],e.args)}),{target:".redactor/textarea",args:[]}),a.a.add("wysiwyg-popover","click",(function(t,e){y.preserveSelection(c.a.findTargets(t,e.target).data("redactor"))}),{target:".redactor/textarea"}),a.a.add("wysiwyg-link-popover","click",(function(t,e,n){var r,o=c.a.findTargets(t,e.target).data("redactor");if(o){if(o.selection.getNodes().find((t=>t.hasAttribute("data-animated-gif"))))return void n.stopImmediatePropagation();const e=u.a.escapeHtml(o.selection.getText()),a=o.utils.isCurrentOrParent("A"),s="object"==typeof o.selection.getNodes().find((t=>"IMG"===t.nodeName))||i()(o.selection.getCurrent()).find("img").length;y.preserveSelection(o),t.data("popover",i.a.extend(!0,t.data("popover"),{tplData:a?{href:(r=a.href,r.replace(location.href.replace(/#.*$/,""),"")),content:u.a.escapeHtml(a.textContent||a.innerText),showContent:!s}:{href:"",content:e,showContent:!s}}))}}),{target:".redactor/textarea"}),a.a.add("wysiwyg-link-update","submit",(function(t,e){var n,r=c.a.findTargets(t,e.target).data("redactor"),o=t.prop("href").value,a=t.prop("content"),s=!!a&&a.value;r&&o&&(t.trigger("layer-destroy"),r.$editor.focus(),s||(s=r.selection.getHtml()||r.selection.getCurrent().innerHTML||o),n=r.utils.isCurrentOrParent("A"),t.prop("unlink")?n&&(r.buffer.set(),i()(n).replaceWith(i()(n).contents())):(r.buffer.set(),n||(n=r.insert.node(document.createElement("a"))),n&&(n.href=/^https?:\/\//.test(o)?o:"https://"+o,n.innerHTML=s,n.target="_blank")),r.code.sync())}),{target:".redactor/textarea"}),a.a.add("wysiwyg-code","click",(function(t,e){var n=c.a.findTargets(t,e.target).data("redactor"),r=c.a.findTargets(t,e.textarea).val();n&&r&&(t.trigger("layer-destroy"),n.insert.htmlWithoutClean(r))}),{target:".redactor/textarea"}),a.a.add("wysiwyg-image","click change",(function(t,e){const n=c.a.findTargets(t,e.target).data("redactor"),r=c.a.findTargets(t,n.opts.imageTargetUrl).val(),o=c.a.findTargets(t,e.file)[0].files[0];if(n&&(o||r)){let a={};if(e.dataControlTargets){let n;e.dataControlTargets.forEach((function(e){n=c.a.findTargets(t,e)[0],n.checked&&(a[n.name]=n.value)}))}t.trigger("layer-destroy"),O(n,a,Object.assign({},e,{file:o,url:r,trigger:{$trigger:e.trigger?i()(e.trigger):t}}))}}),{target:".redactor/textarea",events:["click"]}),y.prepareRedactors(),a.a.add("wysiwyg","init",y.prepareRedactors),i()(document).on("wysiwyg-update",(function(){setTimeout(y.prepareRedactors,0)})),e.b=y},316:function(t,e,n){var r,i,o;o=this,r=[n(0)],void 0===(i=function(t){return o.returnExportsGlobal=function(t){"use strict";var e,n,r,i,o,a,s,l;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){var e,n,r,i;return(i=s.getSelection())&&(r=0,n=!1,(e=function(t,o){var s,l,c,u,d,p;for(p=[],c=0,u=(d=o.childNodes).length;c<u&&(s=d[c],!n);c++)if(3===s.nodeType){if(r+s.length>=t){n=!0,(l=a.createRange()).setStart(s,t-r),i.removeAllRanges(),i.addRange(l);break}p.push(r+=s.length)}else p.push(e(t,s));return p})(t,this.domInputor)),this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=a.selection.createRange(),(t=a.body.createTextRange()).moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?((t=n.cloneRange()).selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):a.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return(t=a.selection.createRange().duplicate()).moveStart("character",-1),{height:(e=t.getBoundingClientRect()).bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var n,r,i,o,l;return s.getSelection&&(i=this.range())?(i.endOffset-1>0&&i.endContainer!==this.domInputor&&((n=i.cloneRange()).setStart(i.endContainer,i.endOffset-1),n.setEnd(i.endContainer,i.endOffset),r={height:(o=n.getBoundingClientRect()).height,left:o.left+o.width,top:o.top},n.detach()),r&&0!==(null!=r?r.height:void 0)||(n=i.cloneRange(),l=t(a.createTextNode("|")),n.insertNode(l[0]),n.selectNode(l[0]),r={height:(o=n.getBoundingClientRect()).height,left:o.left,top:o.top},l.remove(),n.detach())):a.selection&&(r=this.getOldIEOffset()),r&&(r.top+=t(s).scrollTop(),r.left+=t(s).scrollLeft()),r},e.prototype.range=function(){var t;if(s.getSelection)return(t=s.getSelection()).rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,r,i,o;return e=this.domInputor,r=0,(i=a.selection.createRange())&&i.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n").length,(o=e.createTextRange()).moveToBookmark(i.getBookmark()),(t=e.createTextRange()).collapse(!1),r=o.compareEndPoints("StartToEnd",t)>-1?n:-o.moveStart("character",-n)),r},e.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,a.selection?((n=e.createTextRange()).move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e;return e=this.domInputor.createTextRange(),t||(t=this.getPos()),e.move("character",t),{left:e.boundingLeft,top:e.boundingTop,height:e.boundingHeight}},e.prototype.getOffset=function(e){var n,r,i;return n=this.$inputor,a.selection?((r=this.getIEOffset(e)).top+=t(s).scrollTop()+n.scrollTop(),r.left+=t(s).scrollLeft()+n.scrollLeft(),r):(r=n.offset(),i=this.getPosition(e),{left:r.left+i.left-n.scrollLeft(),top:r.top+i.top-n.scrollTop(),height:i.height})},e.prototype.getPosition=function(t){var e,n,i,o,a;return e=this.$inputor,i=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),a=e.val().slice(0,t),n=e.val().slice(t),o="<span style='position: relative; display: inline;'>"+i(a)+"</span>",o+="<span id='caret' style='position: relative; display: inline;'>|</span>",o+="<span style='position: relative; display: inline;'>"+i(n)+"</span>",new r(e).create(o).rect()},e.prototype.getIEPosition=function(t){var e,n;return n=this.getIEOffset(t),e=this.$inputor.offset(),{left:n.left-e.left,top:n.top-e.top,height:n.height}},e}(),r=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,(function(t,r){return e[r]=n.$inputor.css(r)})),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return n={left:(e=(t=this.$mirror.find("#caret")).position()).left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),i={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},o={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return a.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},a=null,s=null,l=function(t){var e;return(e=null!=t?t.iframe:void 0)?(s=e.contentWindow,a=e.contentDocument||s.document):(s=window,a=document)},t.fn.caret=function(r,a,s){var c;return o[r]?(t.isPlainObject(a)?(l(a),a=void 0):l(s),c=i.contentEditable(this)?new e(this):new n(this),o[r].apply(c,[a])):t.error("Method "+r+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=i,t.fn.caret.apis=o}(t)}.apply(e,r))||(t.exports=i)},317:function(t,e,n){var r,i;r=[n(0)],i=function(t){return u=[].slice,d={}.hasOwnProperty,p=function(t,e){for(var n in e)d.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=$(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){return this.$el=this.$inputor.parents(".redactor-box").find(".atwho-container")},t.prototype.setupRootElement=function(t,e){if(null==e&&(e=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){throw this.iframe=null,new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.")}}return this.createContainer((this.iframeAsRoot=e)?this.document:document)},t.prototype.controller=function(t){var e,n,r,i;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else for(r in i=this.controllers)if(e=i[r],r===t){n=e;break}return n||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var n,r;return n=(r=this.controllers)[t]||(r[t]=this.$inputor.is("[contentEditable]")?new o(this,t):new l(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),n.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",(t=this,function(e){var n;return null!=(n=t.controller())&&n.view.hide(),t.isComposing=!0})).on("compositionend",function(t){return function(e){return t.isComposing=!1}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("scroll.atwhoInner",function(t){return function(e){var n;return null!=(n=t.controller())?n.view.hide(e):void 0}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;if(n=t.controller())return n.view.hide(e,n.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this));var t},t.prototype.shutdown=function(){var t,e;for(t in e=this.controllers)e[t].destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){return $.map(this.controllers,(e=this,function(n){var r;return(r=n.getOpt("delay"))?(clearTimeout(e.delayedCallback),e.delayedCallback=setTimeout((function(){if(n.lookUp(t))return e.setContextFor(n.at)}),r)):n.lookUp(t)?e.setContextFor(n.at):void 0}));var e},t.prototype.onKeyup=function(t){var e;switch(t.keyCode){case a.ESC:t.preventDefault(),null!=(e=this.controller())&&e.view.hide();break;case a.DOWN:case a.UP:case a.CTRL:$.noop();break;case a.P:case a.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var e,n;if((e=null!=(n=this.controller())?n.view:void 0)&&e.visible())switch(t.keyCode){case a.ESC:t.preventDefault(),e.hide(t);break;case a.UP:t.preventDefault(),e.prev();break;case a.DOWN:t.preventDefault(),e.next();break;case a.P:if(!t.ctrlKey)return;t.preventDefault(),e.prev();break;case a.N:if(!t.ctrlKey)return;t.preventDefault(),e.next();break;case a.TAB:case a.ENTER:case a.SPACE:if(!e.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===a.SPACE)return;t.preventDefault(),e.choose(t);break;default:$.noop()}},t}(),r=function(){function t(t,e){this.app=t,this.at=e,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=$("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=$("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new s(this),this.view=new c(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=$.extend({},this.setting||$.fn.atwho.default,t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,e,n;n=arguments[0],t=2<=arguments.length?u.call(arguments,1):[];try{return i[n].apply(this,t)}catch(t){return e=t,$.error(e+" Or maybe At.js doesn't have function "+n)}},t.prototype.trigger=function(t,e){var n,r;return null==e&&(e=[]),e.push(this),r=(n=this.getOpt("alias"))?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(r,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||i[t]},t.prototype.getOpt=function(t,e){try{return this.setting[t]}catch(t){return null}},t.prototype.insertContentFor=function(t){var e,n;return n=this.getOpt("insertTpl"),e=$.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,e)},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var e,n,r,i;if(!$.isArray(t))return t;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],$.isPlainObject(e)?i.push(e):i.push({name:e});return i},t.prototype.lookUp=function(t){var e,n;if(e=this.catchQuery(t))return n=function(t){return t&&t.length>0?this.renderView(this.constructor.arrayToDefaultHash(t)):this.view.hide()},this.model.query(e.text,$.proxy(n,this)),e},t}(),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.catchQuery=function(){var t,e,n,r,i,o;return e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),o=e.slice(0,t),"string"==typeof(r=this.callbacks("matcher").call(this,this.at,o,this.getOpt("startWithSpace")))&&r.length<=this.getOpt("maxLen",20)?(n=(i=t-r.length)+r.length,this.pos=i,r={text:r,headPos:i,endPos:n},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},e.prototype.insert=function(t,e){var n,r,i,o,a;return a=""+(i=(r=(n=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(t+=o=""===(o=this.getOpt("suffix"))?o:o||" ")+r.slice(this.query.endPos||0),n.val(a),n.caret("pos",i.length+t.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},e}(r),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype._getRange=function(){var t;if((t=this.app.window.getSelection()).rangeCount>0)return t.getRangeAt(0)},e.prototype._setRange=function(t,e,n){if(null==n&&(n=this._getRange()),n)return e=$(e)[0],"after"===t?(n.setEndAfter(e),n.setStartAfter(e)):(n.setEndBefore(e),n.setStartBefore(e)),n.collapse(!1),this._clearRange(n)},e.prototype._clearRange=function(t){var e;return null==t&&(t=this._getRange()),(e=this.app.window.getSelection()).removeAllRanges(),e.addRange(t)},e.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===a.RIGHT||e===a.LEFT||e===a.UP||e===a.DOWN},e.prototype._unwrap=function(t){var e;return(e=(t=$(t).unwrap().get(0)).nextSibling)&&e.nodeValue&&(t.nodeValue+=e.nodeValue,$(e).remove()),t},e.prototype.catchQuery=function(t){var e,n,r,i,o,s,l,c,u,d;if(!this.app.isComposing&&(u=this._getRange())&&u.commonAncestorContainer.nodeType===Node.TEXT_NODE){if(t.which===a.ENTER)return(n=$(u.startContainer).closest(".atwho-query")).contents().unwrap(),n.is(":empty")&&n.remove(),(n=$(".atwho-query",this.app.document)).text(n.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if($(u.startContainer).is(this.$inputor))return void this._clearRange();t.which===a.BACKSPACE&&u.startContainer.nodeType===document.ELEMENT_NODE&&(l=u.startOffset-1)>=0?((d=u.cloneRange()).setStart(u.startContainer,l),$(d.cloneContents()).contents().last().is(".atwho-inserted")&&(i=$(u.startContainer).contents().get(l),this._setRange("after",$(i).contents().last()))):t.which===a.LEFT&&u.startContainer.nodeType===document.TEXT_NODE&&(e=$(u.startContainer.previousSibling)).is(".atwho-inserted")&&0===u.startOffset&&this._setRange("after",e.contents().last())}return $(u.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(n=$(".atwho-query",this.app.document)).length>0&&n.is(":empty")&&0===n.text().length&&n.remove(),this._movingEvent(t)||n.removeClass("atwho-inserted"),(d=u.cloneRange()).setStart(u.startContainer,0),s=this.callbacks("matcher").call(this,this.at,d.toString(),this.getOpt("startWithSpace")),0===n.length&&"string"==typeof s&&(r=u.startOffset-this.at.length-s.length)>=0&&(u.setStart(u.startContainer,r),n=$("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),u.surroundContents(n.get(0)),o=n.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(u.setStart(o,o.length),u.setEnd(o,o.length),this._clearRange(u)):this._setRange("after",o,u)),"string"==typeof s&&s.length<=this.getOpt("maxLen",20)?(c={text:s,el:n},this.trigger("matched",[this.at,c.text]),this.query=c):(this.view.hide(),this.query={el:n},n.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&n.hasClass("atwho-inserted")?n.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,n)&&this._setRange("after",this._unwrap(n.text(n.text()).contents().first()))),null)}},e.prototype.insert=function(t,e){var n,r,i;return r=(r=this.getOpt("suffix"))?r:r||" ",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t),(n=this._getRange())&&(n.setEndAfter(this.query.el[0]),n.collapse(!1),n.insertNode(i=this.app.document.createTextNode(r)),this._setRange("after",i,n)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},e}(r),s=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var n,r,i;return n=this.fetch(),r=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,t,n,r)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?e(n):i.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?$.ajax(t,{dataType:"json"}).done((e=this,function(t){return e.save(t)})):this.save(t);var e},t}(),c=function(){function t(t){this.context=t,this.$el=$(this.context.$el).parents(".atwho-container").find(".atwho-view"),this.timeoutID=null,this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t,e;return(t=this.$el).on("mouseenter.atwho-view","li",(function(e){return t.find(".cur").removeClass("cur"),$(e.currentTarget).addClass("cur")})).on("click.atwho-view","li",(e=this,function(n){return t.find(".cur").removeClass("cur"),$(n.currentTarget).addClass("cur"),e.choose(n),n.preventDefault()}))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.choose=function(t){var e,n;if((e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.next=function(){var t;return(t=this.$el.find(".cur").removeClass("cur").next()).length||(t=this.$el.find("li:first")),t.addClass("cur")},t.prototype.prev=function(){var t;return(t=this.$el.find(".cur").removeClass("cur").prev()).length||(t=this.$el.find("li:last")),t.addClass("cur")},t.prototype.show=function(){if(!this.stopShowing)return this.visible()?void 0:(this.$el.show(),this.$el.parent(".atwho-container").show(),this.context.trigger("shown"));this.stopShowing=!1},t.prototype.hide=function(t,e){var n,r;if(this.visible())return isNaN(e)?(this.$el.parent(".atwho-container").hide(),this.$el.hide(),this.context.trigger("hidden",[t])):(r=this,n=function(){return r.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},t.prototype.render=function(t){var e,n,r,i,o,a,s;if($.isArray(t)&&t.length>0){for(this.$el.empty(),n=this.$el,o=this.context.getOpt("displayTpl"),a=0,s=t.length;a<s;a++)r=t[a],r=$.extend({},r,{"atwho-at":this.context.at}),i=this.context.callbacks("tplEval").call(this.context,o,r),(e=$(this.context.callbacks("highlighter").call(this.context,i,this.context.query.text))).data("item-data",r),n.append(e);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0}this.hide()},t}(),a={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},i={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,n){var r,i,o;return r="A-Za-z0-9_."+(i="\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f")+"가-하|@+-",t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),(o=new RegExp(t+"(["+r+"]*)$|"+t+"([^"+i+"]*)$","gi").exec(e))?o[2]||o[1]:null},filter:function(t,e,n){var r,i,o,a;for(a=[],i=0,o=e.length;i<o;i++)r=e[i],~new String(r[n]).toLowerCase().indexOf(t.toLowerCase())&&a.push(r);return a},remoteFilter:null,sorter:function(t,e,n){var r,i,o,a;if(!t)return e;for(a=[],i=0,o=e.length;i<o;i++)(r=e[i]).atwho_order=new String(r[n]).toLowerCase().indexOf(t.toLowerCase()),r.atwho_order>-1&&a.push(r);return a.sort((function(t,e){return t.atwho_order-e.atwho_order}))},tplEval:function(t,e){var n;n=t;try{return"string"!=typeof t&&(n=t(e)),n.replace(/\$\{([^\}]*)\}/g,(function(t,n,r){return e[n]}))}catch(t){return""}},highlighter:function(t,e){var n,r;return n="A-Za-z0-9_.\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f가-하",e?(r=new RegExp(">\\s*(["+n+"]*?)("+e.replace("+","\\+")+")(["+n+"]*?)\\s*<","ig"),t.replace(r,(function(t,e,n,r){return"> "+e+"<strong>"+n+"</strong>"+r+" <"}))):t},beforeInsert:function(t,e){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},e={load:function(t,e){var n;if(n=this.controller(t))return n.model.load(e)},isSelecting:function(){var t;return null!=(t=this.controller())?t.view.visible():void 0},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},$.fn.atwho=function(t){var r,i;return i=arguments,r=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each((function(){var o,a;return(a=(o=$(this)).data("atwho"))||o.data("atwho",a=new n(this)),"object"!=typeof t&&t?e[t]&&a?r=e[t].apply(a,Array.prototype.slice.call(i,1)):$.error("Method "+t+" does not exist on jQuery.caret"):a.reg(t.at,t)})),r||this},void($.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:i,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,editableAtwhoQueryAttrs:{}});var e,n,r,i,o,a,s,l,c,u,d,p}.apply(e,r),void 0===i||(t.exports=i)},507:function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return u}));var r=n(510),i=n(5),o=n(511),a={__name:"notification-button",props:{count:{type:Number,default:0},square:Boolean,selected:Boolean,countTop:Boolean},setup(t){const e=t,n=Object(i.computed)((()=>({"button--square":e.square,"button--selected":e.selected})));return{__sfc:!0,props:e,buttonClasses:n,CircleLabel:o.a,BaseButton:r.a}}},s=n(45);Object(s.a)(a,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.BaseButton,t._g({staticClass:"overflow--visible",class:n.buttonClasses,attrs:{variant:"secondary",mode:"default"}},t.$listeners),[t._t("default"),t.count&&t.countTop||t.count&&t.square?e(n.CircleLabel,{staticClass:"text--b button--square space--h-0 aGrid-item aGrid-item--r-n7 aGrid-item--t-n7",attrs:{size:"xs",mode:"primary"}},[t._v(" "+t._s(t.count)+" ")]):t.count?e(n.CircleLabel,{staticClass:"text--b button--square space--h-0 space--ml-2",attrs:{size:"m",mode:"primary"}},[t._v(" "+t._s(t.count)+" ")]):t._e()],2)}),[],!1,null,null,null).exports;const l={brand:"button--mode-brand",white:"button--mode-white"};var c={__name:"segmented-button",props:{mode:{type:String,default:"brand",validate:t=>t in l},name:{type:String,required:!1},selectedValue:{type:String,required:!1},mandatory:Boolean},emits:["update:selectedValue"],setup(t,e){let{emit:n}=e;const r=t,o=Object(i.computed)((()=>l[r.mode])),a=Object(i.computed)((()=>r.name===r.selectedValue));return{__sfc:!0,modes:l,emit:n,props:r,mode:o,selected:a,toggle:function(){n("update:selectedValue",a.value&&!r.mandatory?null:r.name)}}}},u=Object(s.a)(c,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("button",{staticClass:"button button--type-segmented",class:[n.mode,{"button--selected zIndex--atopNormal":n.selected}],attrs:{type:"button"},on:{click:n.toggle}},[t._t("default")],2)}),[],!1,null,null,null).exports},510:function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(5),a=n(541),s=n(515);const l=["tag"];var c=Object(o.defineComponent)({__name:"base-button",props:{variant:{default:"none"},mode:{default:"none"},size:{default:"none"},loading:{type:Boolean},selected:{type:Boolean},square:{type:Boolean},seal:{type:Boolean},disabled:{type:Boolean},ellipsis:{type:Boolean},wrap:{type:Boolean}},emits:["click","mousedown"],setup(t,e){let{emit:n}=e;const r=t,c=Object(o.ref)(null),u=Object(o.useAttrs)(),d=Object(a.a)(u),p=Object(o.computed)((()=>{const t=d.value;return i()(t,l)})),h=Object(o.computed)((()=>a.d[r.variant])),m=Object(o.computed)((()=>Object(a.b)(r.variant,r.mode)[r.mode])),f=Object(o.computed)((()=>a.c[r.size])),g=Object(o.computed)((()=>({"button--disabled":r.disabled,"button--sealed":r.seal||r.loading,"button--square":r.square,"button--selected":r.selected,"seal--cover aGrid":r.loading&&"none"===r.variant})));return{__sfc:!0,emit:n,props:r,buttonRef:c,attrs:u,config:d,computedConfig:p,variantClasses:h,modeClasses:m,sizeClasses:f,buttonClasses:g,handleClick:function(t){r.disabled||n("click",t)},BaseSpinner:s.a}}}),u=n(45),d=Object(u.a)(c,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.config.tag,t._b({ref:"buttonRef",tag:"Component",class:[n.variantClasses,n.modeClasses,n.sizeClasses,n.buttonClasses],attrs:{disabled:t.disabled},on:{click:n.handleClick,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.handleClick.apply(null,arguments)},mousedown:function(e){return t.$emit("mousedown",e)}}},"Component",n.computedConfig,!1),[t.loading?e(n.BaseSpinner,{staticClass:"spinner--centered"}):t._e(),e("span",{staticClass:"flex--inline boxAlign-ai--all-c",class:{"mute--opacity-0":t.loading,"flex--width-calc-fix":t.ellipsis,"flex--wrap":t.wrap}},[t.ellipsis?e("span",{staticClass:"overflow--ellipsis"},[t._t("default")],2):t._t("default")],2),t._t("postfix")],2)}),[],!1,null,null,null);e.a=d.exports},511:function(t,e,n){"use strict";var r={props:{size:{type:String,required:!1,default:"m"},mode:{type:String,required:!1,default:"primary"}},computed:{sizeClasses(){return this.$options.classes.sizes[this.size]},modeClasses(){return this.$options.classes.modes[this.mode]}},classes:{sizes:{xs:"circle--xs",s:"circle--s",m:"circle--m",l:"circle--l"},modes:{alert:"bg--color-red",primary:"bg--color-brandPrimary","primary-inverted":"bg--color-white text--color-brandPrimary"}}},i=n(45),o=Object(i.a)(r,(function(){var t=this;return(0,t._self._c)("span",{class:[t.sizeClasses,t.modeClasses]},[t._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},515:function(t,e,n){"use strict";var r=n(45),i=Object(r.a)({},(function(t,e){return t("svg",{staticClass:"spinner",class:e.data.staticClass,attrs:{viewBox:"0 0 66 66"}},[t("circle",{staticClass:"spinner-background",attrs:{cx:"33",cy:"33",r:"30"}}),t("circle",{staticClass:"spinner-bar",attrs:{cx:"33",cy:"33",r:"30"}})])}),[],!0,null,null,null);e.a=i.exports},516:function(t,e,n){"use strict";var r=n(525),i=n(522),o=n(519),a=n(517),s=n(512),l=n(520);e.a={name:"popoverMixin",components:{BasePopover:i.a,PopoverHead:o.a,PopoverBody:a.a,PopoverClose:s.a,PopoverAsync:l.a},directives:{popover:r.a}}},52:function(t,e,n){"use strict";var r=n(0),i=n.n(r),o={};o.legacyUpload=!(window.File&&window.FileList&&window.Blob&&window.FormData),o.inputToJson=function(t,e,n){var r,i,a=t.match(/^(\w+|\[(\w*)])(.*$)/),s=n;return a?(r=void 0===a[2]?a[1]:a[2],i=a[3],r?(s||(s={}),s[r]?o.inputToJson(i,e,s[r]):s[r]=o.inputToJson(i,e)):(s||(s=[]),s.push(o.inputToJson(i,e)))):s=e,s},o.toJson=function(t,e){var n={};return t.serializeArray().forEach((function(t){o.inputToJson(t.name,t.value,n)})),e&&(o.legacyUpload&&new Error("browser does not support file api or FormData"),t.find("input[type=file][name]").each((function(t,e){o.getFiles(i()(e)).forEach((function(t){o.inputToJson(e.name,t,n)}))}))),n},o.jsonToInputs=function(t,e,n){return e||(e=[]),i.a.each(t,(function(t,r){var a=n?n+"["+t+"]":t;r&&"object"==typeof r?o.jsonToInputs(r,e,a):e.push(i()('<input type="hidden"/>').prop("name",a).prop("value",r))})),e},o.formData=function(t){var e;return window.FormData||new Error("browser does not support FormData"),e=new window.FormData,function t(n,r){var o;return i.a.each(n,(function(n,i){o=r?r+"["+n+"]":n,!i||"object"!=typeof i||i instanceof window.File||i instanceof window.Blob?e.append(o,i):t(i,o)})),e}(t)},o.sendJson=function(t,e,n){const r=i.a.Deferred(),a=i.a.ajax(e,{type:n||"POST",xhr:function(){const t=i.a.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",(function(t){t.lengthComputable&&r.notify(t.loaded,t.total)})),t},data:"string"==typeof t?t:o.formData(t),success:r.resolve,error:r.reject,cache:!1,contentType:!1,processData:!1}),s=r.promise();return s.abort=function(){a.abort()},s},o.send=function(t,e){return"multipart/form-data"===t.attr("enctype")?o.legacyUpload?function(t){return t.submit(),i.a.Deferred().promise()}(t):o.sendJson(o.toJson(t,!0),t.attr("action"),t.attr("method")):i.a.ajax(t.attr("action"),{type:t.attr("method"),data:e?t.serialize().concat("&",i.a.param(e)):t.serialize(),beforeSend:(t,e)=>{t.requestUrl=e.url}})},o.resetFile=function(t){try{t.val(""),t.val()&&t.prop("type","text").prop("type","file")}catch(t){}return t.data("imageControlExcludes",[])},o.excludeFile=function(t,e){var n=t.data("imageControlExcludes")||[];return-1===n.indexOf(e)&&n.push(e),t.data("imageControlExcludes",n)},o.unExcludeFile=function(t,e){var n=t.data("imageControlExcludes")||[],r=n.indexOf(e);return-1!==r&&n.splice(r,1),t.data("imageControlExcludes",n)},o.getFiles=function(t){const e=t.data("imageControlExcludes"),n=[];for(let e=0;e<t[0].files.length;e+=1)n.push(t[0].files[e]);return n.filter((function(t,n){return!e||-1===e.indexOf(n)}))},o.postStatic=function(t,e){i()("<form/>").attr("method","post").attr("action",e).append(o.jsonToInputs(t)).appendTo(document.body).submit()},e.a=o},521:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d}));var r=n(10),i=n.n(r),o=n(11),a=n.n(o);let s=function(t){return t.CROP="cp",t.RESIZE="re",t.BLUR="bl",t.FIT="fi",t.FIT_BY_SIZE="fs",t.QUALITY="qt",t.FILE_TYPE="ft",t}({}),l=function(t){return t.ANIMATED_SOURCE="as",t}({});const c={[s.CROP]:"crop",[s.RESIZE]:"resize",[s.BLUR]:"blur",[s.FIT]:"fit",[s.FIT_BY_SIZE]:"fitBySize",[s.QUALITY]:"quality",[s.FILE_TYPE]:"fileType"};let u=function(){function t(e,n){if(i()(this,t),e){if("object"==typeof e){const{path:t,name:r}=e;if(!t||!r)throw Error("Invalid picsy image object");const i=e.animated?"".concat(l.ANIMATED_SOURCE,"/"):"",{name:o=r,ext:a="jpg"}=n||{},s=e.ext||a;this.path="".concat("https://static.pepper.com","/").concat(t,"/").concat(r,"/").concat(i),this.file="".concat(o,".").concat(s)}else{if("string"!=typeof e)throw Error("Expected picsy image path, but received: ".concat(e));if("string"!=typeof n)throw Error("Expected picsy image file name, but received: ".concat(n));this.path=e,this.file=n}Object.freeze(this)}}return a()(t,[{key:"blur",value:function(t){return t>0&&t<=100?this.addOperation(s.BLUR,t):this}},{key:"quality",value:function(t){return t>=0&&t<=100?this.addOperation(s.QUALITY,t):this}},{key:"resize",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.dimOperation(s.RESIZE,...e)}},{key:"fit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.dimOperation(s.FIT,...e)}},{key:"fitBySize",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.dimOperation(s.FIT_BY_SIZE,...e)}},{key:"crop",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.dimOperation(s.CROP,...e)}},{key:"fileType",value:function(e){if(!e||!this.file)return this;const n="".concat(this.file.substr(0,this.file.lastIndexOf(".")),".").concat(e);return new t(this.path,n)}},{key:"toString",value:function(){return this.path?this.path+this.file:""}},{key:"apply",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((t,e)=>{let[n,...r]=e;const i=c[n];return i?t[i](...r):t}),this)}},{key:"dimOperation",value:function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Math.round(e)||"",o=Math.round(n)||"";return i||o?this.addOperation(t,"".concat(i).concat(o?"x"+o:"").concat(r?"w":"")):this}},{key:"addOperation",value:function(e,n){return this.path?new t("".concat(this.path).concat(e,"/").concat(n,"/"),this.file):this}}]),t}();const d=t=>{const e=[s.CROP,s.RESIZE,s.FIT,s.FIT_BY_SIZE];for(const[n,r,i]of t)if(e.includes(n))return{width:r,height:i};return{width:0,height:0}}},523:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(4),i=n(64);const o=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a,o=0;return{beforeCreate(){++o>1||(r.a.registerModule(t,e.create.call(this,n.get())),e.update&&n.sub(e.update))},destroyed(){if(--o>0)return;e.update&&n.unsub(e.update),e.destroy&&e.destroy();const i="".concat(t,"/tearDown");i in r.a._actions&&r.a.dispatch(i),r.a.unregisterModule(t)}}},a=(t,e)=>o(t,{create:n=>{if(!(t in n))throw Error("Missing initial state for: ".concat(t));return e(n[t])},update:e=>{const n="".concat(t,"/replace");t in e&&n in r.a._actions&&r.a.dispatch(n,e[t])}})},525:function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(241),a=n(533);const s=["focus","hover","click","fixed"],l=!0;function c(t,e,n){const{arg:r,modifiers:{focus:a,hover:c,click:p=!a&&!c,fixed:h},value:m}=e,f=i()(e.modifiers,s),g=!Array.isArray(m),v=e=>{if(g&&null!=m&&m.disabled)return;const i=(g?null==m?void 0:m.layouts:m)||Object.keys(f).map((t=>({preset:t,fixed:h})));if(!(l||null!=i&&i.length))throw Error("Missing layout for v-popover");return u(t,n.context,r).activate(i,{type:e.type,target:e.currentTarget})},b=[];if(p&&b.push(Object(o.a)(t,"click",v)),a&&b.push(Object(o.a)(t,"focus",v)),c&&b.push(Object(o.a)(t,"mouseenter",v)),!l&&p&&a)throw Error("Invalid v-popover event modifiers: there should be no reason to combine click & focus");d.set(t,b)}const u=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===n){const e=t.querySelector(".popover-origin");if(!l&&!e&&!r)throw Error("Couldn't find nested popover inside v-popover trigger");return null==e?void 0:e.__vue__}let i=e.$refs[n];if(Array.isArray(i)&&(i=i[0]),!l&&!i&&!r)throw Error("Invalid v-popover name: ".concat(n,", please verify ref"));for(;i&&i.$options.name!==a.a.name;)i=i.$children[0];if(!l&&!i&&!r)throw Error("Component linked via v-popover is not a popover: ".concat(n));return i},d=new WeakMap;e.a={bind:c,update:function(t,e,n){const{arg:r,value:i,oldValue:o}=e,a=Array.isArray(i)?i:null==i?void 0:i.layouts;if(a===(Array.isArray(o)?o:null==o?void 0:o.layouts))return;d.get(t).forEach((t=>t())),c(t,e,n);const s=u(t,n.context,r);s.active&&s.currentActivation.trigger.target===t&&s.updateLayouts(a)},unbind:function(t,e,n){let{arg:r}=e;d.get(t).forEach((t=>t()));const i=u(t,n.context,r,!0);i&&i.active&&i.currentActivation.trigger.target===t&&i.close()}}},526:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(633),i=n.n(r),o=n(636),a=n.n(o),s=n(41);const l=["uuid","userId"],c={set(t){return Object.assign(this.payload,t),this},record(t,e){if(this.enabled){const n=this.sanitizePayload(Object.assign({},this.payload,t));this.track(this.validPayload(n),e)}},validPayload(t){return a()(t,this.whiteList)},sanitizePayload:t=>Object(s.b)()?t:i()(t,l)},u=Object.assign(Object.create(c),{enabled:!0,whiteList:["category","action","label","value"],track(t,e){const n=e&&e.nonInteraction;window.gtag&&t.category&&t.action&&window.gtag("event",t.action,{event_category:t.category,event_label:t.label,value:t.value,non_interaction:n?1:0})}}),d=()=>Object.assign(Object.create(u),{payload:{}})},533:function(t,e,n){"use strict";var r=n(525);n.d(e,"e",(function(){return r.a}));var i=n(522);n.d(e,"a",(function(){return i.a}));var o=n(519);n.d(e,"d",(function(){return o.a}));var a=n(517);n.d(e,"b",(function(){return a.a}));n(524);var s=n(512);n.d(e,"c",(function(){return s.a}));n(520)},538:function(t,e,n){"use strict";var r=n(5),i=n(522),o=n(550);const a={center:o.e,bottomSheet:o.b,bottomCenter:o.c,bottomRight:o.d,fullscreen:o.f,absolute:o.a},s=Object(r.defineComponent)({name:"BaseModal"});var l=Object(r.defineComponent)(Object.assign({},s,{props:{layout:{type:[String,Object],default:"center",validator:t=>"string"!=typeof t||t in a},backdrop:{type:Boolean,default:!0},mobileSheet:{type:Boolean,default:!0},contentRepos:{type:Boolean,default:!1},scrollRepos:{type:Boolean,default:!1}},setup(t,e){let{expose:n}=e;const o=t,s=Object(r.computed)((()=>{const t="string"==typeof o.layout?a[o.layout]:o.layout;return[Object.assign({},t,{backdrop:o.backdrop})]})),l=Object(r.ref)(),c=()=>l.value.close();return Object(r.onMounted)((()=>l.value.activate(s))),Object(r.watch)(s,(()=>l.value.updateLayouts(s))),n({close:c}),{__sfc:!0,layoutPresets:a,props:o,popoverLayouts:s,popover:l,close:c,BasePopover:i.a}}})),c=n(45),u=Object(c.a)(l,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.BasePopover,t._g(t._b({ref:"popover",attrs:{"scroll-repos":t.scrollRepos,"content-repos":t.contentRepos,"mobile-sheet":t.mobileSheet&&"fullscreen"!==t.layout},scopedSlots:t._u([{key:"default",fn:function({}){return[t._t("default",null,{close:n.close})]}}],null,!0)},"BasePopover",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.a=u.exports},541:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c}));var r=n(5);const i={none:"",s:"button--size-s",m:"button--size-m",l:"button--size-l"},o={none:"",primary:"button button--shape-circle button--type-primary",secondary:"button button--shape-circle button--type-secondary",tertiary:"button button--shape-circle button--type-tertiary",text:"button button--type-text",tag:"button button--type-tag"},a={base:{brand:"button--mode-brand",success:"button--mode-success",danger:"button--mode-danger",info:"button--mode-info",warning:"button--mode-warning",white:"button--mode-white"},primary:{dark:"button--mode-dark",expired:"button--mode-expired"},secondary:{default:"button--mode-default"},tertiary:{default:"button--mode-default"},text:{primary:"button--mode-primary",secondary:"button--mode-secondary",white:"button--mode-white"},tag:{dark:"button--mode-dark",light:"button--mode-light"}};function s(t){const e=function(t){return"primary"===t||"secondary"===t||"tertiary"===t?a.base:{}}(t);return Object.assign({},e,a[t])}function l(t){return t.href?function(t){return Object(r.computed)((()=>({tag:"a",href:t.disabled?null:t.href})))}(t):t.to?function(t){return Object(r.computed)((()=>({tag:"router-link",to:t.to})))}(t):function(t){return Object(r.computed)((()=>({tag:"button",type:t.type||"button"})))}(t)}function c(t,e){return s(t)}},564:function(t,e,n){"use strict";n.d(e,"o",(function(){return u})),n.d(e,"p",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return w})),n.d(e,"n",(function(){return x})),n.d(e,"l",(function(){return O})),n.d(e,"m",(function(){return k})),n.d(e,"h",(function(){return j})),n.d(e,"e",(function(){return _}));var r=n(642),i=n(1),o=n(6);const a={startWithProtocol:["^","(?:(?:(?:https?):)?\\/\\/)"],makeProtocolOptional:["?"],continue:["(?:\\S+(?::\\S*)?@)?","(?:","(?!(?:10|127)(?:\\.\\d{1,3}){3})","(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})","(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})","(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])","(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}","(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))","|","(?:","(?:","[a-z0-9\\p{L}]","[a-z0-9\\p{L}-]{0,62}",")?","[a-z0-9\\p{L}]\\.",")+","(?:[a-z\\p{L}]{2,}\\.?)",")","(?::\\d{2,5})?","(?:[/?#]\\S*)?","$"]};var s=n(5),l=n(579);const c=function(t,e,n,i){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"value";return r.b.withParams({type:e,validationData:{},field:t},(async e=>{if(a&&Object(r.d)(e))return!0;const l={remote:!0,messages:[],valid:!0};try{var c;l._data=await Object(o.b)({req:n,params:{field:t,[s]:e,validations:i}}).request,l.messages=null!==(c=l._data.validation)&&void 0!==c?c:[],l.valid=0===l.messages.length}catch(t){l.messages=t.validation,l.valid=!1}return l}))},u=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return c(t,"validRemoteField",i.md,n,e)},d=t=>r.b.withParams({type:"validRemoteFields",validationData:{},fields:t},(async()=>{const e={remote:!0,multiple:!0,messages:[],valid:!0};try{var n;e._data=await Object(o.b)({req:i.nd,params:{fields:t}}).request,e.messages=null!==(n=e._data.validation)&&void 0!==n?n:[],e.valid=0===e.messages.length}catch(t){e.messages=t.validation,e.valid=!1}return e})),p=(t,e,n)=>r.b.withParams({type:"betweenNumeric",validationData:Object.assign({min:t,max:e},n)},(n=>Object(r.a)(n)||n>=t&&n<=e)),h=(t,e,n)=>r.b.withParams({type:"betweenString",validationData:Object.assign({min:t,max:e},n)},(n=>Object(r.d)(n)||"string"==typeof n&&n.length>=t&&n.length<=e)),m=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.b.withParams({type:"maxArray",validationData:Object.assign({max:t},e)},(e=>{const i=n?e.filter(n):e;return Object(r.c)(i)||Array.isArray(i)&&i.length<=t}))},f=(t,e)=>r.b.withParams({type:"maxString",validationData:Object.assign({max:t},e)},(e=>Object(r.d)(e)||"string"==typeof e&&e.length<=t)),g=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.b.withParams({type:"minArray",validationData:Object.assign({min:t},e)},(e=>{const i=n?e.filter(n):e;return Object(r.c)(i)||Array.isArray(i)&&i.length>=t}))},v=(t,e)=>r.b.withParams({type:"minNumeric",validationData:Object.assign({min:t},e)},(e=>Object(r.a)(e)||"number"==typeof e&&e>=Object(s.unref)(t))),b=t=>r.b.withParams({type:"localNumeric",validationData:Object.assign({},t)},(t=>Object(r.a)(t)||/^[0-9,. ]+$/.test(t))),y=t=>r.b.withParams({type:"required",validationData:Object.assign({},t)},r.b.req),w=(t,e)=>r.b.withParams({type:"required",validationData:Object.assign({},e)},(e=>{let n=!1;if("function"==typeof t)n=t.call(void 0,e);else{const e=Object(s.unref)(t);n=e&&0!==e}return!n||r.b.req(e)})),x=(t,e)=>r.b.withParams({type:"url",validationData:Object.assign({},e)},(e=>Object(r.d)(e)||"string"==typeof e&&function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new RegExp(a.startWithProtocol.concat(t?a.makeProtocolOptional:[]).concat(a.continue).join(""),"iu")}(t).test(e))),O=t=>r.b.withParams({type:"sameOriginUrl",validationData:Object.assign({},t)},(t=>Object(r.d)(t)||"string"==typeof t&&new URL(t).origin===window.location.origin)),k=(t,e)=>r.b.withParams({type:"treeSelectRequiredWith",validationData:Object.assign({},e)},(e=>{const n=Object(l.a)(e);return!Object(s.unref)(t)||n.length>0})),j=(t,e)=>r.b.withParams({type:"minDatetime",validationData:Object.assign({minDate:t},e)},(e=>{var n;const i=null===(n=Object(s.unref)(t))||void 0===n?void 0:n.timestamp;return Object(r.a)(e.timestamp)||Object(r.a)(i)||e.timestamp>=i})),_=(t,e)=>r.b.withParams({type:"maxDatetime",validationData:Object.assign({maxDate:t},e)},(e=>{var n;const i=null===(n=Object(s.unref)(t))||void 0===n?void 0:n.timestamp;return Object(r.a)(e.timestamp)||e.timestamp<=i}))},566:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(680),i=n.n(r);const o=t=>t.files&&t.files.length?i()(t.files):null,a=6144,s=t=>t.size>6291456,l=t=>{const e=new Image;return new Promise(((n,r)=>{e.addEventListener("load",(()=>{n({width:e.naturalWidth,height:e.naturalHeight})})),e.addEventListener("error",r),e.src=t}))}},567:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"j",(function(){return S})),n.d(e,"m",(function(){return _})),n.d(e,"e",(function(){return C})),n.d(e,"g",(function(){return $})),n.d(e,"f",(function(){return j})),n.d(e,"l",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"b",(function(){return k})),n.d(e,"a",(function(){return x})),n.d(e,"i",(function(){return I})),n.d(e,"k",(function(){return E}));var r=n(32),i=n.n(r),o=n(5),a=n(87),s=n(4),l=n(104),c=n(616),u=n(6),d=n(611),p=n(513),h=n(1),m=n(21),f=n(653);const g=["wysiwyg"];function v(){const t=S(),e=Object(p.b)(),n=Object(o.ref)(!!t.value.threadId||function(t){return t.type===h.Ab.Deal&&Boolean(t.link||t.title||t.price||t.scheduledReleaseDate.date||t.endDate.date)}(t.value));return Object(m.j)(["thread_created_location"]),{isFullForm:n,showFullForm:function(){n.value=!0,e.replace({query:Object.assign({},e.currentRoute.query),hash:"#thread-details"})}}}const b=()=>{const t=S(),e=Object(o.ref)(null);Object(o.onUnmounted)((()=>{y().value.destroy()}));const{submitForm:n,validationMessages:r}=w({form:e,route:Object(p.a)()});return{form:e,thread:t,formOptions:j(),submitForm:n,validationMessages:r}},y=()=>Object(o.computed)((()=>l.b.create("threadSubmit"))),w=t=>{let{form:e,route:n}=t;const r=Object(o.ref)([]);return{submitForm:async function(){const t=y();if(t.value.isLoading())return;let i=null;try{var a;await Object(d.a)(),t.value.reset(),t.value.add(new Promise((t=>{i=t}))),e&&e.value.updateShortcodes();const l=j(),p=(t=>{const e={threadCreatedLocation:{name:"thread_created_location",data:t.query.thread_created_location}};return Object(o.ref)(e)})(n),h=S();h.value.isLocal&&(h.value.dispatchedFrom=null);const m="thread-desc-".concat(null!==(a=h.value.threadId)&&void 0!==a?a:"new"),g=Object(u.b)({req:c.e,params:{threadData:h.value,mentions:l.wysiwyg.plugins.mentions,morph:"threads.switch"===n.name,token:s.a.state.threadForm.token,ocular:p.value.threadCreatedLocation.data?p.value:null}}),v=await t.value.add(g.request),{thread:b,validation:y,responseMessages:w=[]}=x(v);if(r.value=y,!b)return i(),{responseMessages:w};Object(f.a)(m),window.onbeforeunload=()=>null,window.onunload=()=>null,window.location.href=null==b?void 0:b.url}catch(e){var l;console.error(e),null===(l=i)||void 0===l||l();const{validation:n,responseMessages:o}=x(e);return r.value=n,t.value.reset(),{responseMessages:o}}},validationMessages:r}};function x(t){if(t.errors&&t.errors.length)return{thread:null,validation:[],responseMessages:[]};const{messages:e}=t,{thread:n,validation:r}=t.persistThread||{};if(r&&r.length)return{thread:null,validation:r,responseMessages:[]};return(null!=e?e:[]).some((t=>"error"===t.type))?{thread:null,validation:[],responseMessages:e}:{thread:n,validation:[],responseMessages:e}}const O=async(t,e)=>{var n;const{submitForm:r,validationMessages:i}=w({route:t}),{responseMessages:o}=null!==(n=await r())&&void 0!==n?n:{};s.a.dispatch("pageMsgs/set",o),Object(c.d)(e,i.value)},k=()=>{const t=new URLSearchParams(window.location.search).get("imageurl");t&&s.a.dispatch("threadForm/addGalleryImages",[{remoteUrl:t}])},j=()=>{const t=Object(a.d)({countries:{namespace:"threadForm",path:"countries"},groups:{namespace:"threadForm",path:"groups"},locations:{namespace:"threadForm",path:"locations"},events:{namespace:"threadForm",path:"events"}});return t.wysiwyg={plugins:_()},t},_=()=>{const t=Object(a.d)({mentions:{namespace:"threadForm",path:"mentions"},shortcodes:{namespace:"threadForm",path:"thread.shortcodes"}});return t.link={href:"",content:""},t.emoji=!0,t},C=()=>{const t=j(),e=S();return Object(o.computed)((()=>{var n;const r=s.a.state.threadForm.features||{},{wysiwyg:o={}}=r,a=i()(r,g),l=o.html&&(!e.value.threadId||(null===(n=e.value.user)||void 0===n?void 0:n.userId)===s.a.getters["auth/me"].userId);return Object.assign({},a,{wysiwyg:Object.assign({},o,{html:l}),dispatchedFrom:a.dispatchedFrom&&t.countries.length,locations:a.locations&&!!t.locations.id,events:a.events&&t.events.length,groups:a.groups&&t.groups.length})}))},$=t=>{const e=j();return Object(o.computed)((()=>({groups:e.groups,max:t})))},S=()=>{const{thread:t}=Object(a.d)({thread:{namespace:"threadForm",path:"thread",deep:!0}});return Object(o.ref)(t)},I=t=>{const e=S(),n=Object(o.watch)(e,(r=>{r&&(window.onbeforeunload=()=>"Er zijn niet-opgeslagen aanpassingen! ",((t,e)=>{const n=e?"MultiStep":"SinglePage",r=["THREAD_SUBMISSION"],i=[h.Ab.Deal].includes(t.value.type)?"".concat(n).concat(t.value.type,"Abandoned"):null;window.onunload=()=>{i&&r.includes(h.q[i])&&t.value.link&&!t.value.threadId&&(localStorage.setItem("formAbandoned",h.q[i]),localStorage.setItem("formAbandonedTimer",String(Date.now())))}})(e,t),n())}),{deep:!0})},E=()=>{const e=S(),n=Object(o.computed)((()=>e.value.locations.checked));return Object(o.computed)((()=>{if(!e.value.isLocal)return null;if(n.value)return"Landelijk";if(!e.value.locations||!e.value.locations.items)return null;const r=e.value.locations.items.filter((t=>t.checked)),i=e.value.locations.items.reduce(((t,e)=>(e.items&&!e.checked&&t.push(...e.items.filter((t=>t.checked))),t)),[]);return[r.length?t("{1} :count regio|{2} :count regio's|[3,*] :count regio's|",{count:r.length}):"",i.length?t("{1} :count locatie|{2} :count locaties|[3,*] :count locaties",{count:i.length}):""].filter((t=>t)).join(" / ")}))}}).call(this,n(70).translation)},569:function(t,e,n){"use strict";var r=n(5),i=n(16);r.default.directive("click-outside",{bind(t,e,n){const r=n.context,{handler:o,isActive:a}=function(t){const e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,isActive:!(!1===t.isActive)}}(e.value);a&&(t.clickOutsideEvent=function(e){Object(i.b)(t,e.target)&&o.call(r,e)},document.body.addEventListener("mousedown",t.clickOutsideEvent))},unbind(t){document.body.removeEventListener("mousedown",t.clickOutsideEvent)}})},577:function(t,e,n){"use strict";n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return g})),n.d(e,"a",(function(){return v})),n.d(e,"h",(function(){return b})),n.d(e,"b",(function(){return y}));var r,i=n(134),o=n.n(i),a=n(8),s=n.n(a),l=n(20),c=n(6),u=n(1);const d={getSuggestions:"/search/users",getProfile:(t,e)=>Object(l.b)(r||(r=o()(["/profile/","/","?"])),t,e),profileRedirect:"/profile/prg",postSocialTerms:t=>"user/social/provider/".concat(t,"/terms")},p=(t,e,n)=>s.a.post(d.postSocialTerms(t),{username:n,termsConditionsAndPrivacy:e?"on":"off"}),h=t=>Object(c.a)({req:u.kd,params:{id:t}}).then((t=>{let{user:e}=t;return(null==e?void 0:e.lastAddress)||null})),m=()=>Object(c.a)({req:u.oc}).then((t=>t.infractions)),f=(t,e)=>Object(c.a)({req:u.nc,params:{typeId:t,placeholder:e}}).then((t=>t.infraction)),g=t=>Object(c.a)({req:u.jd,params:{id:t}}).then((t=>t.user.infractions.points.active)),v=t=>Object(c.a)({req:u.mc,params:{infraction:t}}),b=()=>Object(c.a)({req:u.Oc}).then((t=>t.resentEmailConfirmationToCurrentUser.result)),y=(t,e)=>Object(c.a)({req:u.fc,params:{userId:t,follow:e}}).then((t=>{let{followUser:e}=t;return e.follow}))},579:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>{const e=[];return function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!n)return;if(n.checked)return void e.push(n.id);if(!n.items)return;n.items.map(t)}(t),e}},587:function(t,e,n){"use strict";var r=n(676),i=n.n(r);const o={default:()=>n.e(203).then(n.bind(null,1270)),soft:()=>n.e(208).then(n.bind(null,1271)),admin:()=>n.e(202).then(n.bind(null,1269))};var a={components:o,inheritAttrs:!1,model:{event:"update"},props:{value:{type:Array,default:()=>[]},target:{type:String,default:""}},computed:{groupedNotifications(){return i()(this.notifications,(t=>t.context||"default"))},notificatonsByContext(){return t=this.groupedNotifications,Object.keys(t).map((e=>({context:e,messages:t[e]})));var t},notifications:{get(){return this.value},set(t){this.$emit("update",t)}}},methods:{contextComponent:t=>(t=t.replace(":",""))in o?t:"default",updateNotifications(t,e){var n;this.groupedNotifications[t]=e,this.notifications=(n=this.groupedNotifications,[].concat(...Object.values(n)))}}},s=n(45),l={components:{NotificationMessages:Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",t._l(t.notificatonsByContext,(function(n){return e(t.contextComponent(n.context),{key:n.context,tag:"Component",attrs:{messages:n.messages},on:{"update-messages":function(e){return t.updateNotifications(n.context,e)}}})})),1)}),[],!1,null,null,null).exports},computed:{notifications:{get(){return this.$store.state.pageMsgs.messages},set(t){return this.$store.dispatch("pageMsgs/set",t)}}}},c=Object(s.a)(l,(function(){var t=this;return(0,t._self._c)("NotificationMessages",{model:{value:t.notifications,callback:function(e){t.notifications=e},expression:"notifications"}})}),[],!1,null,null,null);e.a=c.exports},589:function(t,e,n){"use strict";n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return w}));var r=n(32),i=n.n(r),o=n(10),a=n.n(o),s=n(11),l=n.n(s),c=n(5);n(667);const u=(t,e)=>{const n=Object.assign({},e.validationData,{attribute:e.attribute});return t.replace(/:(\w+)/gi,(t=>n[t.substring(1)]||""))},d=(t,e)=>{const{translation:n}=e.validationData;return u(n||h[t]||m[t],e)},p="De datum en tijd zijn vereist of het formaat is onjuist.",h={},m={accepted:"Accepteer het privacybeleid",alpha:":attribute mag alleen letters bevatten",alphaDash:":attribute mag alleen letters, cijfers en koppeltekens bevatten",alphaNum:":attribute mag alleen letters en cijfers bevatten",array:":attribute moet een array zijn",betweenArray:":attribute moet tussen :min - :max artikelen bevatten",betweenNumeric:":attribute moet een getal zijn tussen :min - :max",betweenString:":attribute moet tussen :min - :max karakters lang zijn",different:":attribute en :other moeten verschillen",digits:":attribute moet :digits tekens zijn",digitsBetween:":attribute moet tussen de :min en :max tekens zijn",email:"Voer alsjeblieft een geldig e-mailadres in.",inArray:"geselecteerde :attribute is ongeldig",integer:":attribute moet een heel getal zijn",maxArray:":attribute mag niet meer dan :max artikelen bevatten",maxNumeric:":attribute mag niet groter zijn dan :max",maxString:"Het maximale aantal tekens is :max",maxFile:":attribute mag niet groter zijn dan :max kilobytes",minArray:":attribute minstens :min artikelen bevatten",minNumeric:":attribute moet minstens :min zijn",minString:":attribute moet minstens :min karakters bevatten",notInArray:"geselecteerde :attribute is ongeldig",numeric:":attribute moet een cijfer zijn",localNumeric:"Dit veld mag enkel bestaan uit cijfers, komma's en punten.",regex:"format van :attribute is ongeldig",required:"Dit veld is verplicht.",same:":attribute en :other moeten overeenstemmen",sizeArray:":attribute moet :size artikelen bevatten",sizeNumeric:":attribute moet :size zijn",sizeString:":attribute moet :size karakters zijn",url:"format van :attribute is ongeldig",sameOriginUrl:"De link die je opgeeft moet afkomstig zijn van Pepper.",minDatetime:p,maxDatetime:p},f=["valid","remote","multiple","messages"],g=t=>t.reduce(((t,e)=>[...t,...e.translations.map((t=>{let{body:e}=t;return{text:e}}))]),[]),v=(t,e)=>e.reduce(((t,e)=>{const n=t[e.path]||[];return t[e.path]=[...n,...e.translations.map((t=>{let{body:e}=t;return{text:e}}))],t}),t);let b=function(){function t(e){a()(this,t),this._validators={},this.error={},this.anyError=!1,this.messages={},this.check=this.check.bind(this),this.clear=this.clear.bind(this),this.invalid=this.invalid.bind(this),this.validate=this.validate.bind(this),this.resolve={},this.setup(e)}return l()(t,[{key:"setup",value:function(t){Object.keys(this._validators).forEach((e=>{e in t||(delete this._validators[e],delete this.error[e],delete this.messages[e])}));for(const[e,n]of Object.entries(t))this.set(e,n),e in this.messages||this.clear(e);this.check()}},{key:"destroy",value:function(){this.resolve={}}},{key:"errors",value:function(t){return this.messages[t]||[]}},{key:"invalid",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?this.error[t]:Object.keys(this.messages).some(this.invalid)}},{key:"clear",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t)return c.default.set(this.error,t,!1),void c.default.set(this.messages,t,[]);Object.keys(this.messages).map(this.clear)}},{key:"add",value:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[t]=e.reduce(((e,n)=>(e.indexOf(n)<0&&(e.push(n),this.clear(t)),e)),this._validators[t]||[])}},{key:"set",value:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._validators[t]=e}},{key:"check",value:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?this.error[t]=!!this.errors(t).length:this.anyError=!!Object.keys(this.messages).filter(this.check).length}},{key:"resolvePending",value:function(t){var e,n;null===(e=(n=this.resolve)[t])||void 0===e||e.call(n),delete this.resolve[t]}},{key:"hasValidator",value:function(t){return t in this._validators}},{key:"setMessages",value:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.hasValidator(t)&&(this.messages[t].splice(0,this.messages[t].length,...e),this.check())}},{key:"validate",value:async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];this.clear(t),this.hasValidator(t)&&(this.resolvePending(t),await new Promise((async r=>{this.resolve[t]=r;for(const r of this._validators[t]){let a=await r(e,...o),{valid:s,remote:l,multiple:c,messages:p}=a,h=i()(a,f);if(!s){if(Array.isArray(p))l&&c?this.messages=v(this.messages,p):(p=l?g(p):p.map((t=>({text:t}))),this.messages[t].push(...p));else{const e=Object.assign({attribute:t},h);this.messages[t].push({text:n?u(n,e):d(h.type,e)})}break}}this.resolvePending(t)})),this.check(t))}}]),t}();const y={data(){return this.$options.validations&&c.default.util.defineReactive(this,"_validate",null),{}},beforeCreate(){const t=this.$options,e=t.validations;e&&(t.computed||(t.computed={}),t.computed.$validators||(t.computed.$validators="function"==typeof e?e:function(){return e},t.computed.$v||(t.computed.$v=function(){return null===this._validate&&(this._validate=new b("function"==typeof e?e.call(this):e),this.$once("hook:beforeDestroy",this.$watch("$validators",(t=>{this._validate.setup(t)})))),this._validate?this._validate:null})))},beforeDestroy(){this._validate&&(this._validate.destroy(),this._validate=null)},provide(){return{$v:this.$v}}},w=t=>{if(!t)return;const e=Object(c.ref)(new b(t));return Object(c.provide)("$v",e.value),Object(c.onBeforeUnmount)((()=>{e.value.destroy(),e.value=null})),e}},597:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));const r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=[];return{params:Object.keys(t).reduce(((n,r)=>(e.push(r),n[r]=JSON.stringify(t[r]),n)),{}),handlers:e.join(" ")}};e.a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{computed:{$d(){return r(Object.assign({},t,this.$directives||{}))}}}}},610:function(t,e,n){"use strict";e.a=window.RedactorPlugins||(window.RedactorPlugins={})},611:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var r=n(4),i=n(1),o=n(682),a=n(60),s=n(17),l=n(324);const c=t=>t.groups.some((t=>t.source===a.b)),u=n.n(l)()((async t=>await Object(i.Nb)({filter:t})),(t=>{var e,n;return"".concat(t.terms.join("_"),"_").concat(null!==(e=null===(n=t.price)||void 0===n?void 0:n.eq)&&void 0!==e?e:"")})),d=async()=>{if(!r.a.getters["threadForm/canAutoAssignGroups"])return;const t=r.a.state.threadForm.thread;if(![s.f,s.g].includes(t.type))try{var e;const n=r.a.state.threadForm.groups,i=null!==(e=r.a.state.threadForm.fetchedFromUrl.title)&&void 0!==e?e:"",l={threadId:{eq:t.threadId},threadUrl:{eq:t.link},threadTypeName:{eq:t.type},terms:[t.title,i]};null!==t.price&&void 0!==t.price&&""!==t.price&&(l.price={eq:t.price});const{data:{groups:d}}=await u(l),p=t.type===s.e;if(d.length<1)return r.a.commit("threadForm/UPDATE_FIELD",{path:"thread.groups",value:t.groups.filter((t=>!t.assignedBySystem))}),void r.a.commit("threadForm/UPDATE_FIELD",{path:"groups",value:n.filter((t=>Object(o.g)(t,p)!==a.a||!t.assignedBySystem)).map((t=>Object.assign({},t,{matchesAutoAssignment:!1})))});if(c(t)&&!p||c(t)&&(t=>t.groups.some((t=>t.source===a.c)))(t))return;const h=d.map((t=>Object.assign({},t,{assignedBySystem:!0}))),m=h.reduce(((t,e)=>(t.primary||Object(o.g)(e,p)!==a.b||(t.groups.push(e),t.primary=!0),t.secondary||Object(o.g)(e,p)!==a.c||(t.groups.push(e),t.secondary=!0),Object(o.g)(e)===a.a&&t.groups.push(e),t)),{primary:!1,secondary:!1,groups:[]}),f=[...n.filter((t=>!h.some((e=>e.threadGroupId===t.threadGroupId)))).map((t=>Object.assign({},t,{matchesAutoAssignment:!1}))),...h.filter((t=>Object(o.g)(t,p)!==a.a)).map((t=>Object.assign({},t,{matchesAutoAssignment:!0})))],g=[...t.groups.filter((t=>!t.assignedBySystem)),...m.groups];r.a.commit("threadForm/UPDATE_FIELD",{path:"groups",value:f}),r.a.commit("threadForm/UPDATE_FIELD",{path:"thread.groups",value:g})}catch(t){}},p=t=>{const{cpcLink:e,claimCodeCampaignId:n,isExclusive:i,nsfw:o,scheduledReleaseDate:a,events:l,disclaimers:c,uploadImage:u}=r.a.state.threadForm.features,d=e||n||i||o||a||l||c;return t.type===s.e?d||u:d}},616:function(t,e,n){"use strict";n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return k}));var r=n(32),i=n.n(r),o=n(1),a=n(642),s=n(753);var l=n(107),c=n(6),u=n(120),d=n(724),p=n(17);const h=["merchant","morphsTo","user","shippingPrice","freeShipping","events","groups","images","imageSuggestions","mainImage","galleryImages","disclaimers","titleSlug","threadTypeId","preparedHtmlDescription"],m=["isSelected","source","matchesAutoAssignment"],f=["checked"],g=(t,e)=>{let{mentions:n,morph:r}=e;const{merchant:{merchantId:o,merchantName:c}={},shippingPrice:u,freeShipping:d,events:g,groups:v,galleryImages:b,disclaimers:y}=t,w=i()(t,h);switch(w.mentions=n,r&&(w.morph=w.type),o&&(w.merchant={merchantId:o,merchantName:c}),w.groups=v.map((t=>i()(t,m))),w.events=g.map((t=>i()(t,f))),w.locations.id||delete w.locations,w.startDate.timestamp||(w.startDate=null),w.endDate.timestamp||(w.endDate=null),w.scheduledReleaseDate.timestamp||(w.scheduledReleaseDate=null),Object(a.a)(d)&&Object(a.a)(u)||(w.shipping={isFree:!!d,price:u||0}),[p.o,p.a,p.g].includes(w.type)?((w.type===p.a&&!w.price&&!Object(s.b)(w.price)||[p.o,p.g].includes(w.type)&&Object(s.a)(w.price))&&(w.price=""),w.percentage||(w.percentage=0)):(delete w.price,delete w.percentage,delete w.isLocal),w.discountType){case p.c:delete w.price;break;case p.d:delete w.percentage;break;case p.b:delete w.price,delete w.percentage}return w.type===p.a?w.nextBestPrice||(w.nextBestPrice=0):w.nextBestPrice||delete w.nextBestPrice,w.disclaimers=y.map((t=>{let{threadDisclaimerId:e}=t;return{threadDisclaimerId:e}})),Object.assign({},w,"locations"in w&&{locations:(x=w.locations,"1"===x.id&&x.checked&&delete x.items,x)},{galleryImages:{bucket:"threads",slots:b.map((t=>{const e={remoteUrl:t.remoteUrl||"",slotData:null};return t.remoteUrl||(e.slotData=Object(l.d)(t)?Object.assign({},t.slots[0]):Object.assign({},t)),e}))}});var x},v=function(){let{threadData:t,mentions:e="",morph:n=!1,token:r=null,ocular:i=null,descriptionEditOnly:a=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.Ac)({payload:{thread:g(t,{mentions:e,morph:n}),token:r,ocular:i,descriptionEditOnly:a}})},b=t=>{const e=[];return Object.entries(t).forEach((t=>{let[n,r]=t;if(Array.isArray(r)&&r.length){const t=r[0].translations[0];e.push({title:t.title,text:t.body,type:n})}})),e},y=async function(t){const e=await Object(d.f)(t);return{request:e.request.then(b),cancel:e.cancel}},w=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object(c.d)(Object(d.a)(t,e),11e3);return{request:n.request.then((t=>{var e;let{duplicates:n}=t;return null!=n&&null!==(e=n.threads)&&void 0!==e&&e.length?n:null})),cancel:n.cancel}},x=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Object(c.d)(Object(d.b)(t,e,n),5e3);return{request:r.request.then((t=>{let{duplicates:e}=t;return null!=e&&e.length?e:[]})),cancel:r.cancel}},O=()=>Object(u.c)(),k=(t,e)=>{e.map((e=>{let n=e.path;return"threadLocationSelected"===n&&(n="locations"),t.setMessages(n,e.translations.map((t=>({text:t.body}))))}))}},628:function(t,e,n){},631:function(t,e,n){"use strict";var r=n(597),i=n(71),o={name:"WysiwygButton",components:{BaseButton:n(507).a},mixins:[Object(r.a)(),Object(i.a)({button:{any:!0,smAndDown:!0,mdAndDown:!0,lgAndDown:!0},text:{any:!0,smAndDown:!0,mdAndDown:!0,lgAndDown:!0}})],props:{action:{type:Object,default:()=>({})},target:{type:String,required:!0}},computed:{$directives(){return{"wysiwyg-button":Object.assign({},this.action,{target:this.target}),"popover-close":null}}}},a=n(45),s=Object(a.a)(o,(function(){var t=this,e=t._self._c;return e("BaseButton",{class:["space--mr-1",`button--${t.action.key}`],attrs:{variant:"tag",mode:"light",square:"",title:t.action.title,"data-handler":t.$d.handlers,"data-wysiwyg-button":t.$d.params["wysiwyg-button"]}},[e("BaseIcon",{attrs:{name:t.action.icon}})],1)}),[],!1,null,null,null);e.a=s.exports},637:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return v}));var r=n(749),i=n.n(r),o=n(107),a=n(1),s=n(521),l=n(566),c=n(4);const u=(t,e)=>{let{variation:n}=e;try{if(!t)return"";if(i()(t))return t;if(Object(o.d)(t))return Object(o.e)(t,t.slots[0].name,n);const e=[["re",300,300],["ft","jpg"],["qt",60]];return new s.a(t).apply(e).toString()}catch(t){}return null},d=t=>{try{return!(!t||i()(t))&&(Object(o.d)(t)?!!Object(o.f)(t,t.slots[0].name,{}).isPoorQuality:t.isPoorQuality)}catch(t){}return!1},p=async t=>{let{bucket:e,value:n,fileName:r}=t;return"string"==typeof n?await Object(a.hd)({url:n,bucket:e}):await Object(a.gd)({file:n,bucket:e,fileName:r})},h=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["image/jpg","image/jpeg","image/png","image/gif","image/webp"];return(null==t?void 0:t.type)&&e.includes(t.type)};function m(t){c.a.dispatch("pageMsgs/set",[Object.assign({type:"error",priority:"low"},t)])}function f(){m({body:t(":attribute mag niet groter zijn dan :max kilobytes",{replaces:{attribute:"image",max:l.d}})})}function g(e){m({body:t("Sorry, we accepteren maar :max_allowed aantal afbeeldingen.",{replaces:{max_allowed:e},count:e})})}function v(t){m({title:"paste-local-file"===t?"Lokale afbeeldingen plakken (vanaf het klembord) is niet mogelijk.":"Het slepen van lokale afbeeldingen is niet mogelijk.",body:"Gebruik in plaats daarvan de upload-knop."})}}).call(this,n(70).translation)},642:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return a}));n(315);const r={req:t=>{if(Array.isArray(t))return!!t.length;if(null==t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"==typeof t){for(let e in t)return!0;return!1}return!!String(t).length},withParams:(t,e)=>async function(){const n=await e(...arguments);return"object"==typeof n?t=Object.assign({},t,n):t.valid=n,t}},i=t=>null==t||""===t,o=t=>i(t)||""===t,a=t=>i(t)||Array.isArray(t)&&0===t.length},643:function(t,e,n){"use strict";(function(t){var r=n(5);e.a=Object(r.defineComponent)({__name:"character-counter",props:{value:null,maxCharacters:{default:140}},setup(e){const n=e,i=Object(r.computed)((()=>n.value.length>n.maxCharacters?"text--color-red":"")),o=Object(r.computed)((()=>n.maxCharacters-n.value.length)),a=Object(r.computed)((()=>t("1 karakter over|:count karakters over",{replaces:{remaining:o.value},count:o.value})));return{__sfc:!0,props:n,textColor:i,remaining:o,remainingLabel:a}}})}).call(this,n(70).translation)},653:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(14);e.b={created(){this.markForRestore=this.markForRestore.bind(this),this.undoRestore=this.undoRestore.bind(this),this.clearRestore=this.clearRestore.bind(this),this.restoreStorage=new r.a("redactor-restore")},data:()=>({restoredContent:"",initialContent:"",restoreId:""}),watch:{restoredContent(t){this.$emit("canRestore",Boolean(t))}},methods:{restoreConfig(){return{markForRestore:this.markForRestore}},markForRestore(t){let{restoreId:e,restoredContent:n,initialContent:r}=t;this.restoreId=e,this.restoredContent=n||"",this.initialContent=r||""},undoRestore(){this.$editor.code.set(this.initialContent,!0),this.clearRestore()},clearRestore(){this.restoreStorage.del(this.restoreId),this.restoredContent=""}}};const i=t=>{new r.a("redactor-restore").del(t)}},666:function(t,e,n){"use strict";var r=n(538),i=n(519),o=n(517),a=n(524),s=n(512),l=n(520);e.a={components:{BaseModal:r.a,ModalHead:i.a,ModalBody:o.a,ModalFooter:a.a,ModalClose:s.a,ModalAsync:l.a}}},673:function(t,e,n){"use strict";var r=n(677),i=n.n(r);const o={angel:"Engel",annoyed:"Geërgerd",blank:"Uhm...",cheeky:"Cheeky",confused:"Verward",cool:"Cool",creep:"Creep",cry:"Huilen",devil:"Duivel",embarrassed:"Beschaamd",excited:"Excited",fierce:"Woest",flirt:"Flirt",football:"Voetbal",happy:"Blij",highfive:"Highfive",horror:"Horror",kitty:"Kitty",laugh:"Lachen",lipstick:"Lipstick",lol:"Superfunny",love:"Liefde",lucha:"",mad:"Boos",nerd:"Nerd",ninja:"Ninja",nutella:"",onion:"",party:"Feest",pirate:"Piraat",police:"",poo:"Poep",popcorn:"Popcorn",rainbow:"Rainbow",relieved:"Opgelucht",sad:"Droevig",shock:"Shock",sir:"Heer",skeptical:"Sceptisch",smiley:"Smiley",strong:"Strong",superfunny:"Supergrappig",thumb:"Thumbs up",tongue:"Tong",unicorn:"Unicorn",wink:"Wink",woot:"Woot",worldcup:"WK",worried:"Bezorgd",zombie:"Zombie"};e.a=Object.freeze(Object.keys(i.a).map((t=>Object.assign({name:t,label:o[t]},i.a[t]))))},677:function(t,e,n){t.exports=n(678)},678:function(t,e,n){const r=n(679);t.exports=Object.assign(r,{excited:{text:"(excited)",availableIn:["emoticon-popover"],order:15},flirt:{text:"(flirt)",availableIn:["emoticon-popover"],order:27},football:{text:"(football)",availableIn:["emoticon-popover"],order:47},lipstick:{text:"(lipstick)",availableIn:["emoticon-popover"],order:45},strong:{text:"(strong)",availableIn:["emoticon-popover"],order:44},unicorn:{text:"(unicorn)",availableIn:["emoticon-popover"],order:25},worldcup:{text:"(worldcup)",availableIn:[],order:46}})},679:function(t,e){t.exports={angel:{text:"(angel)",availableIn:["emoticon-popover"],order:10},annoyed:{text:"(annoyed)",availableIn:["emoticon-popover"],order:31},blank:{text:":|",availableIn:["emoticon-popover"],order:28},cheeky:{text:"(cheeky)",availableIn:["emoticon-popover"],order:12},confused:{text:"(confused)",availableIn:["emoticon-popover"],order:29},cool:{text:"8)",availableIn:["emoticon-popover"],order:19},cry:{text:";(",availableIn:["emoticon-popover"],order:38},devil:{text:"(devil)",availableIn:["emoticon-popover"],order:42},embarrassed:{text:"(embarrassed)",availableIn:["emoticon-popover"],order:13},fierce:{text:"(fierce)",availableIn:["emoticon-popover"],order:34},happy:{text:":D",availableIn:["emoticon-popover"],order:3},highfive:{text:"(highfive)",availableIn:["emoticon-popover"],order:18},horror:{text:"(horror)",availableIn:["emoticon-popover"],order:36},kitty:{text:":3",availableIn:["emoticon-popover"],order:43},laugh:{text:"XD",availableIn:["emoticon-popover"],order:5},lol:{text:"(lol)",availableIn:["emoticon-popover"],order:6},love:{text:"<3",availableIn:["emoticon-popover"],order:14},mad:{text:"(mad)",availableIn:["emoticon-popover"],order:33},nerd:{text:"(nerd)",availableIn:["emoticon-popover"],order:21},ninja:{text:"(ninja)",availableIn:["emoticon-popover"],order:22},party:{text:"(party)",availableIn:["emoticon-popover"],order:16},pirate:{text:"(pirate)",availableIn:["emoticon-popover"],order:24},poo:{text:"(poo)",availableIn:["emoticon-popover"],order:41},popcorn:{text:"(popcorn)",availableIn:["emoticon-popover"],order:7},relieved:{text:"(:I",availableIn:["emoticon-popover"],order:9},sad:{text:":(",availableIn:["emoticon-popover"],order:32},shock:{text:"(shock)",availableIn:["emoticon-popover"],order:35},sir:{text:":{",availableIn:["emoticon-popover"],order:20},skeptical:{text:"(skeptical)",availableIn:["emoticon-popover"],order:30},smiley:{text:":)",availableIn:["emoticon-popover"],order:1},thumb:{text:"(y)",availableIn:["emoticon-popover"],order:2},tongue:{text:":p",availableIn:["emoticon-popover"],order:17},wink:{text:";)",availableIn:["emoticon-popover"],order:11},woot:{text:":o",availableIn:["emoticon-popover"],order:39},worried:{text:":S",availableIn:["emoticon-popover"],order:37},zombie:{text:"(zombie)",availableIn:["emoticon-popover"],order:47}}},680:function(t,e,n){t.exports=n(681)},681:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},682:function(t,e,n){"use strict";n.d(e,"g",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return m}));var r=n(60),i=n(17),o=n(564);const a=function(t){return!!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.isDefault&&t.isDiscussion:t.isDefault&&!t.isDiscussion)},s=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.source?t.source:a(t,e)?"primary":t.isDefault&&e?"secondary":t.isDefault?"tertiary":"other"},l=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((t=>Object.assign({},t,{source:s(t,e)})))},c=t=>!!t.isSelected,u=t=>!(!t.assignedBySystem||!t.matchesAutoAssignment),d=(t,e)=>{const n=[...e],r=n.findIndex((e=>e.threadGroupId===t.threadGroupId));return r>-1&&n.splice(r,1),c(t)&&n.push(t),n},p=(t,e,n)=>{const i=((t,e)=>{const n=t.find((t=>t.threadGroupId===e.id));return n?(n.isSelected=e.isSelected,n.source=n.source||r.a,n):null})(e,n);return i?d(i,t):null},h=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n={threadGroups:[],systemAssignedGroups:[]},r=t===i.e,s=r?"discussionThreadGroups":"threadGroups",l=t=>a(t,r);return r&&(n.discussionThreadGroups=[]),n[s].push(Object(o.j)({translation:"Kies de meest relevante categorie"}),Object(o.g)(1,{},l)),e&&n[s].push(Object(o.d)(e,{},l)),n};function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"groups";const n=Object.assign({},t);return Object.keys(n).forEach((t=>{n[t]={fieldName:e,rules:n[t]}})),n}},698:function(t,e,n){"use strict";n(628)},699:function(t,e,n){"use strict";e.a={methods:{preserveSelection(){const t=this.$editor;t&&!t.isSelectionStored&&(t.selection.save(),t.isSelectionStored=!0,t.$editor.one("focusin",(()=>{t.selection.restore(),t.isSelectionStored=!1})))}}}},700:function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(106);e.a={created(){this.registerHandler("link","handleLink"),this.registerWriter("updateLink","updateLink"),this.registerWriter("removeLink","removeLink")},methods:{captureLinkSelection(){if(!this.$editor)return{href:"",content:""};const t=this.$editor.utils.isCurrentOrParent("A"),e=t?t.href:"",n=t?t.innerHTML:this.$editor.selection.getHtml()||this.$editor.selection.getCurrent().innerHTML;return{href:e,content:n?Object(o.c)(n):""}},handleLink(t){if(!this.pluginEnabled("link"))return;const{href:e,content:n}=t;void 0!==e&&(this.plugins.link.href=e),void 0!==n&&(this.plugins.link.content=n)},updateLink(t){let{href:e,content:n}=t;if(!this.$editor)return;this.$editor.$editor.focus(),n||(n=this.$editor.selection.getHtml()||this.$editor.selection.getCurrent().innerHTML||e);let r=this.$editor.utils.isCurrentOrParent("A");this.$editor.buffer.set(),r||(r=this.$editor.insert.node(document.createElement("a"))),r&&(r.href=/^https?:\/\//.test(e)?e:"https://"+e,r.innerHTML=n,r.target="_blank"),this.$editor.code.sync()},updateLinkSelection(){"link"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)&&this.handleLink(this.captureLinkSelection())},removeLink(){if(!this.$editor)return;this.$editor.$editor.focus();const t=this.$editor.utils.isCurrentOrParent("A");t&&(this.$editor.buffer.set(),i()(t).replaceWith(i()(t).contents()),this.$editor.code.sync())}}}},701:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof t.vue)return t.vue(e)}},702:function(t,e,n){"use strict";var r=n(10),i=n.n(r),o=n(11),a=n.n(o),s=n(0),l=n.n(s),c=n(610),u=n(106),d=n(52);const p={};c.a.shortcode=function(){return{instance:null,init:function(){this.shortcode.instance=new p.Shortcode(this)}}},p.Shortcode=function(){function t(e){i()(this,t);const n=this;let r;n.redactor=e,n.namespace=e.opts.shortcodeNamespace,"function"==typeof e.opts.markForShortcodes?e.opts.markForShortcodes(n.updateForm.bind(n)):(n.$form=l()(e.$element[0].form),n.$form.on("submit",n.updateForm.bind(n))),r=n.readForm(),n.types={},e.replacer.add({regexp:/\[shortcode id="([^"]+)"\/]/g,replacer:function(t,e,i,o){return n.html(r[o])}}),e.code.syncTransformers.push((function(t){return t.find("[data-embed]").each((function(){const t=l()(this);t.replaceWith(n.marker(t.data("embed")))})),t})),e.$editor.on("click","[data-embed]",(function(){const t=l()(this),r=n.data(t),i=n.getType(r);i.onClick&&i.onClick(r,t,e)}))}return a()(t,[{key:"readForm",value:function(){return this.redactor.opts.formatShortcodes?this.redactor.opts.formatShortcodes():this.$form.find('input[name^="'+this.namespace+'["]').get().reduce((function(t,e){return d.a.inputToJson(e.name,e.value,t)}),{})[this.namespace]||{}}},{key:"updateForm",value:function(){const t=this.embeds().get().map((function(t){return this.data(l()(t))}),this);if(this.redactor.opts.vue)return t;this.$form.find('input[name^="'+this.namespace+'["]').remove(),t.length&&this.$form.append(t.reduce(function(t,e){return t.concat(d.a.jsonToInputs(e,[],this.namespace+"["+e.id+"]"))}.bind(this),[]))}},{key:"registerType",value:function(t){this.types[t.name]=t}},{key:"getType",value:function(t){return t&&this.types[t.type]||null}},{key:"add",value:function(t){return t.id="new".concat(Date.now()),l()(this.redactor.insert.node(l()(this.html(t))))}},{key:"set",value:function(t){this.embed(t.id).replaceWith(this.html(t)),this.redactor.replacer.format("shortcode"),this.redactor.code.sync()}},{key:"del",value:function(t){this.embed(t).remove(),this.redactor.code.sync()}},{key:"marker",value:function(t){return'[shortcode id="'+t+'"/]'}},{key:"html",value:function(t){const e=this.getType(t);return e?e.html(this.redactor,l.a.extend({attr:' data-embed="'+t.id+'" data-embed-obj="'+u.a.escapeHtml(JSON.stringify(t))+'" contenteditable="false"'},t)):""}},{key:"embed",value:function(t){return this.redactor.$editor.find('[data-embed="'+t+'"]')}},{key:"embeds",value:function(){return this.redactor.$editor.find("[data-embed]")}},{key:"data",value:function(t){return t.data("embed-obj")}}]),t}(),p.find=function(t){const e=l()('[data-embed="'+t+'"]').closest(".redactor").find("textarea").data("redactor");return e?e.shortcode.instance:null},p.isChild=function(t){return Boolean(l()(t).closest("[data-embed]").length)},e.a=p},704:function(t,e,n){"use strict";var r=n(673),i={props:{filter:{type:String,default:"emoticon-popover"},mode:{type:String,default:"default"}},data:()=>({emojis:r.a,selected:null}),computed:{availableEmojis(){return this.emojis.filter((t=>t.availableIn.includes(this.filter))).sort(((t,e)=>t.order-e.order))}},methods:{emojiType:t=>"emoji--type-".concat(t.name),preview(t){this.selected=t,this.$emit("preview",{emoji:"&nbsp;".concat(t.text,"&nbsp;")})},insert(t,e){e.stopImmediatePropagation(),e.preventDefault(),this.$emit("insert",{emoji:"&nbsp;".concat(t.text,"&nbsp;"),event:e})}}},o=(n(698),n(45)),a=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"emojiSelector-list cGrid boxAlign-jc--all-sb"},t._l(t.availableEmojis,(function(n){return e("li",{key:n.name,staticClass:"box--all-i hAlign--all-c"},[e("button",{staticClass:"button button--emoji button--shape-circle button--square space--h-1 space--v-1",class:{"button--selected":n===t.selected},attrs:{type:"button",title:n.text},on:{mouseenter:function(e){return t.preview(n)},touchstart:function(e){return t.insert(n,e)},click:function(e){return t.insert(n,e)}}},[e("span",{class:["emoji",t.emojiType(n)]})])])})),0)])}),[],!1,null,null,null);e.a=a.exports},705:function(t,e,n){"use strict";var r=n(564),i=n(509),o=n(589),a={components:{BaseButton:n(507).a,FormList:i.l,FormRow:i.o,FormLabel:i.k,FormMessageList:i.m,FormContent:i.c,FormInput:i.e},mixins:[o.b],model:{event:"update",prop:"link"},props:{id:{type:String,default:"insertLink"},link:{type:Object,default:()=>({href:"",content:""})},i18n:{type:Object,default:()=>({insertButtonText:"Invoegen",updateButtonText:"Update",unlinkButtonText:"Verwijder",urlLabel:"URL",contentLabel:"Tekst"})},mode:{type:String,default:"default"}},data(){return{linkUrl:this.link.href,formName:this.id,updating:!!this.link.href}},computed:{buttonDisabled(){return!this.linkUrl.length}},watch:{"$v.$invalid"(t){this.$emit("invalid",t)}},validations:{href:[Object(r.j)(),Object(r.n)()]},methods:{setLinkUrl(t){this.linkUrl=t},remove(t){this.$emit("remove",{event:t})},insert(t){this.$v.$invalid||this.$emit("insert",{link:this.link,event:t})}}},s=n(45),l=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{},[t.$v.error[t.id]?e("FormMessageList",{staticClass:"text--b space--b-2",attrs:{messages:t.$v.messages[t.id]}}):t._e(),e("FormList",[e("FormRow",{attrs:{error:t.$v.error.href}},[e("FormLabel",[t._v(t._s(t.i18n.urlLabel))]),e("FormContent",[e("FormInput",{attrs:{name:"href"},on:{change:function(e){return t.$v.validate("href",t.link.href)},update:function(e){return t.setLinkUrl(t.link.href)}},model:{value:t.link.href,callback:function(e){t.$set(t.link,"href",e)},expression:"link.href"}}),e("FormMessageList",{attrs:{messages:t.$v.messages.href}})],1)],1),e("FormRow",{attrs:{error:t.$v.error.content}},[e("FormLabel",[t._v(t._s(t.i18n.contentLabel))]),e("FormContent",[e("FormInput",{attrs:{name:"content"},model:{value:t.link.content,callback:function(e){t.$set(t.link,"content",e)},expression:"link.content"}}),e("FormMessageList",{attrs:{messages:t.$v.messages.content}})],1)],1),e("FormRow",[e("FormContent",{staticClass:"flex",class:{"boxAlign-jc--all-sb":t.updating}},[t.updating?e("BaseButton",{staticClass:"flex--shrink-0 space--mr-2",attrs:{variant:"tertiary",mode:"default"},on:{click:t.remove}},[t._v(" "+t._s(t.i18n.unlinkButtonText)+" ")]):t._e(),e("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:t.buttonDisabled},on:{click:t.insert}},[t._v(" "+t._s(t.updating?t.i18n.updateButtonText:t.i18n.insertButtonText)+" ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=l.exports},707:function(t,e,n){"use strict";var r=n(516),i=n(631),o=n(704),a=n(705),s=n(564),l=n(509),c=n(589),u=n(507),d={components:{BaseButton:u.a,FormList:l.l,FormRow:l.o,FormMessageList:l.m,FormContent:l.c,FormTextarea:l.s},mixins:[c.b],model:{event:"update"},props:{id:{type:String,default:"insertCode"},i18n:{type:Object,default:()=>({buttonText:"Plaats"})},mode:{type:String,default:"default",validators:t=>-1!==["primary","default"].indexOf(t)}},validations:{code:[Object(s.j)()]},data(){return{formName:this.id,code:""}}},p=n(45),h=Object(p.a)(d,(function(){var t=this,e=t._self._c;return e("FormList",[e("FormRow",{attrs:{error:t.$v.error.code}},[e("FormContent",[e("FormTextarea",{staticClass:"space--mt-1",attrs:{id:"codePopover-code",rows:"5",placeholder:"HTML",name:"code"},on:{change:function(e){return t.$v.validate("code",t.code)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),e("FormMessageList",{attrs:{messages:t.$v.messages.code}})],1)],1),e("FormRow",[e("FormContent",[e("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:!t.code},on:{click:function(e){return t.$emit("insert",t.code)}}},[t._v(" "+t._s(t.i18n.buttonText)+" ")])],1)],1)],1)}),[],!1,null,null,null).exports,m=n(71),f=n(597),g={components:{InsertLink:a.a,InsertCode:h,EmojiSelector:o.a,WysiwygButton:i.a,BaseButton:u.a},mixins:[r.a,Object(m.a)({button:{any:!0,smAndDown:!0},buttonText:{any:!0,smAndDown:!0,mdAndDown:!0},primaryButton:{any:!0,smAndDown:!0},primaryButtonText:{any:!0,smAndDown:!0},toolbarActions:{xsOnly:!0,smAndDown:!0},toolbarCompactButton:{smAndUp:!0}})],props:{target:{type:String,required:!0},directives:{type:Object,default:()=>({})},expanded:{type:Boolean,default:!1},plugins:{type:Object,default:()=>({})}},data:()=>({actionsPopoverActive:!1,emojiPopoverActive:!1,linkPopoverActive:!1,imageUploadPopoverActive:!1,htmlPopoverActive:!1}),computed:{popoverLayouts(){const t={preset:"s",right:{target:".redactor"},left:{target:".redactor"},classes:"zIndex--modal"};return[t,Object.assign({},t,{preset:"n"})]},imageUploadAvailable(){return(!!this.$slots["image-upload"]||!!this.$scopedSlots["image-upload"])&&this.plugins.image},toggleExpandedText(){return this.expanded?"Inkrimpen":"Uitbreiden"},$d(){return Object.assign({expandEditor:Object(f.b)({toggle:{toggles:[{target:".redactor",className:"aGrid redactor--height-full bg--main"}]}})},this.directives)}},methods:{updatePlugin(t,e){this.$emit("plugin-update",{key:t,value:e})},toggleExpandEditor(){this.$emit("editor-expand",!this.expanded)},captureFocus(t){this.$emit("editor-capture",t)}}},v={components:{WysiwygToolbarBase:Object(p.a)(g,(function(){var t=this,e=t._self._c;return e("div",t._g(t._b({staticClass:"toolbar space--h-2 width--all-12"},"div",t.$attrs,!1),t.$listeners),[t._t("before"),t.$scopedSlots.actions?e("div",[e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",class:[t.toolbarCompactButtonResponsive],attrs:{variant:"tag",mode:"light",selected:t.actionsPopoverActive,title:"Tekst"}},[e("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"format-text"}}),e("BaseIcon",{staticClass:"button-dropdown-icon",attrs:{name:"dropdown"}}),e("BasePopover",{attrs:{active:t.actionsPopoverActive},on:{"update:active":function(e){t.actionsPopoverActive=e},open:function(e){return t.captureFocus("formatText")}},scopedSlots:t._u([{key:"default",fn:function({close:n}){return[e("PopoverHead",{attrs:{icon:"format-text"}},[t._v(t._s("Tekst"))]),e("PopoverBody",[t._t("actions",null,{close:n})],2)]}}],null,!0)})],1),e("span",{class:t.toolbarActionsResponsive},[t._t("actions",null,{close:()=>null})],2)],1):t._e(),t.plugins&&t.plugins.line?e("WysiwygButton",{attrs:{action:t.plugins.line,target:t.target,breakpoints:t.plugins.line.breakpoints}}):t._e(),t.plugins.emoji?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Emoticons",selected:t.emojiPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"smiley"}}),e("BasePopover",{attrs:{active:t.emojiPopoverActive,width:"300","mobile-sheet":""},on:{"update:active":function(e){t.emojiPopoverActive=e},open:function(e){return t.captureFocus("emoji")}},scopedSlots:t._u([{key:"default",fn:function({close:n}){return[e("PopoverHead",{attrs:{icon:"smiley"}},[t._v(t._s("Emoticons"))]),e("PopoverBody",[e("EmojiSelector",{on:{insert:function(e){t.$emit("editor-insert",{content:e.emoji}),n()}}})],1)]}}],null,!1,1470812403)})],1):t._e(),t.plugins.link?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Link",selected:t.linkPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"link"}}),e("BasePopover",{attrs:{active:t.linkPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(e){t.linkPopoverActive=e},open:function(e){return t.captureFocus("link")}},scopedSlots:t._u([{key:"default",fn:function({close:n}){return[e("PopoverHead",{attrs:{icon:"link"}},[t._v(t._s("Link"))]),e("PopoverBody",[e("InsertLink",{attrs:{link:{...t.plugins.link}},on:{remove:function(e){t.$emit("editor-insert",{method:"removeLink"}),n()},insert:function(e){t.$emit("editor-insert",{content:e.link,method:"updateLink"}),n()},update:function(e){return t.updatePlugin("link",e)}}})],1)]}}],null,!1,541552780)})],1):t._e(),t.imageUploadAvailable?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"Afbeelding",selected:t.imageUploadPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"image"}}),e("BasePopover",{attrs:{active:t.imageUploadPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(e){t.imageUploadPopoverActive=e},open:function(e){return t.captureFocus("image")}},scopedSlots:t._u([{key:"default",fn:function({close:n}){return[e("PopoverHead",{attrs:{icon:"image"}},[t._v(t._s("Afbeelding toevoegen"))]),e("PopoverBody",[t._t("image-upload",null,{close:n})],2)]}}],null,!0)})],1):t._e(),t.plugins.html?e("BaseButton",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverLayouts,expression:"popoverLayouts"}],staticClass:"space--mr-1",attrs:{variant:"tag",mode:"light",square:"",title:"HTML",selected:t.htmlPopoverActive}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:"code"}}),e("BasePopover",{attrs:{active:t.htmlPopoverActive,width:"340","mobile-sheet":""},on:{"update:active":function(e){t.htmlPopoverActive=e},open:function(e){return t.captureFocus("html")}},scopedSlots:t._u([{key:"default",fn:function({close:n}){return[e("PopoverHead",{attrs:{icon:"code"}},[t._v(t._s("Plaats HTML code"))]),e("PopoverBody",[e("InsertCode",{on:{insert:function(e){t.$emit("editor-insert",{content:e}),n()}}})],1)]}}],null,!1,192895544)})],1):t._e(),t.plugins.expand?e("BaseButton",{class:{"button-expand--selected":t.expanded},attrs:{variant:"tag",mode:"light",square:"","data-handler":t.$d.expandEditor.handlers,"data-toggle":t.$d.expandEditor.params.toggle,title:t.toggleExpandedText},on:{click:t.toggleExpandEditor}},[e("BaseIcon",{attrs:{width:"20",height:"20",name:t.expanded?"contract":"expand"}})],1):t._e(),t._t("after")],2)}),[],!1,null,null,null).exports,WysiwygButton:i.a},props:{target:{type:String,required:!0},plugins:{type:Object,default:()=>({})},breakpoints:{type:Object,default:()=>({toolbarActions:{xsOnly:"hide"},toolbarCompactButton:{smAndUp:"hide"}})}},computed:{hasActions(){return this.plugins.bold||this.plugins.strike||this.plugins.italic||this.plugins.list}}},b=Object(p.a)(v,(function(){var t=this,e=t._self._c;return e("WysiwygToolbarBase",t._g(t._b({attrs:{target:t.target,plugins:t.plugins,breakpoints:t.breakpoints},scopedSlots:t._u([{key:"before",fn:function(){return[t._t("before")]},proxy:!0},t.hasActions?{key:"actions",fn:function({close:n}){return[e("span",{staticClass:"flex"},[t.plugins.bold?e("WysiwygButton",{attrs:{action:t.plugins.bold,target:t.target,breakpoints:t.plugins.bold.breakpoints},nativeOn:{click:function(t){return n.apply(null,arguments)}}}):t._e(),t.plugins.strike?e("WysiwygButton",{attrs:{action:t.plugins.strike,target:t.target,breakpoints:t.plugins.strike.breakpoints},nativeOn:{click:function(t){return n.apply(null,arguments)}}}):t._e(),t.plugins.italic?e("WysiwygButton",{attrs:{action:t.plugins.italic,target:t.target,breakpoints:t.plugins.italic.breakpoints},nativeOn:{click:function(t){return n.apply(null,arguments)}}}):t._e(),t.plugins.list?e("WysiwygButton",{attrs:{action:t.plugins.list,target:t.target,breakpoints:t.plugins.list.breakpoints},nativeOn:{click:function(t){return n.apply(null,arguments)}}}):t._e()],1)]}}:null,{key:"image-upload",fn:function({close:e}){return[t._t("image-upload",null,{close:e})]}},{key:"after",fn:function(){return[t._t("after")]},proxy:!0}],null,!0)},"WysiwygToolbarBase",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.a=b.exports},708:function(t,e,n){"use strict";var r={components:{ImageUploadForm:n(725).a},props:{bucket:{type:String},variation:{type:String,default:"content"},mode:{type:String,default:"default"}},methods:{async handleSubmit(t){this.$emit("upload",t)}}},i=n(45),o=Object(i.a)(r,(function(){var t=this;return(0,t._self._c)("ImageUploadForm",{attrs:{mode:t.mode,"has-alignment-selector":"","has-url-input":"","show-file-name":"","is-loading":!1},on:{submit:t.handleSubmit}})}),[],!1,null,null,null);e.a=o.exports},716:function(t,e,n){"use strict";var r=n(312),i=n(597),o=n(707),a=n(708),s=n(699);let l=null;var c,u,d={created(){this.$on("focus",(()=>{l=this.name}))}},p={methods:{textConfig(t){let{breakpoints:e={button:{any:"btn--square"},text:{any:"hide"}}}=t;return{bold:{module:"inline",fn:"format",args:["strong"],title:"Bold",key:"bold",icon:"bold",breakpoints:e},strike:{module:"inline",fn:"format",args:["del"],title:"Verwijderd",key:"deleted",icon:"strike",breakpoints:e},italic:{module:"inline",fn:"format",args:["em"],title:"Cursief",key:"italic",icon:"italic",breakpoints:e},list:{module:"list",fn:"toggle",args:["unorderedlist"],title:"Lijst",key:"unorderedlist",icon:"bullet-list",breakpoints:e},blockquote:{breakpoints:e},line:{module:"line",fn:"insert",title:"Lijn",key:"line",icon:"line",breakpoints:e,showOnExpand:!0}}}}},h=n(700),m=n(32),f=n.n(m),g=n(134),v=n.n(g),b=(n(8),n(20));const y=t=>Object(b.b)(c||(c=v()(["/image/upload/","?"])),t),w=t=>Object(b.b)(u||(u=v()(["/image/upload-from-uri/","?"])),t),x=["type","value"];var O={created(){this.registerWriter("insertImage","insertImage")},computed:{imageUploadAvailable(){return(!!this.$slots["image-upload"]||!!this.$scopedSlots["image-upload"])&&this.pluginConfig.plugins.image}},methods:{insertImage(t){this.$editor.$editor.focus();const{type:e,value:n}=t,i=f()(t,x);Object(r.a)(this.$editor,i,{[e.toLowerCase()]:n})},imageConfig(t){return{image:Object.assign({bucket:t.imageBucket,variation:t.imageVariation},this.plugins.image||{})}},imageUploadConfig(t){let{imageVariation:e="content",imageBucket:n="threads"}=t;return{imageFormat:e,imageType:e,imageUploadEndpoint:y(n),imageLinkEndpoint:w(n),imageVariation:e,imageBucket:n}}}},k={methods:{htmlConfig:()=>({html:!0})}},j={inheritAttrs:!1},_=n(45),C=Object(_.a)(j,(function(){var t=this,e=t._self._c;return e("div",[e("input",t._g(t._b({staticClass:"mentionList",attrs:{name:"mentionsList",type:"hidden"}},"input",t.$attrs,!1),t.$listeners)),t._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"mentions atwho-container space--t-2 space--h-2"},[t("span",{staticClass:"atwho-at mute--text lbox--v-2"},[this._v("@")]),t("ul",{staticClass:"atwho-view fGrid"})])}],!1,null,null,null).exports,$=n(577);var S={components:{Mentions:C},data:()=>({currentMentions:""}),created(){this.handleMentions=this.handleMentions.bind(this),this.updateMentions=this.updateMentions.bind(this),this.registerHandler("mentions","handleMentions")},methods:{handleMentions(t){this.plugins.mentions=t,this.currentMentions=t},updateMentions(){return this.currentMentions},mentionsConfig:()=>({searchUrl:$.i.getSuggestions,mentionInputSelector:".mentionList",profileUrl:"".concat("https://nl.pepper.com").concat($.i.getProfile("==NameReplace==")),replacementKey:"==NameReplace=="})}};const I=["id","type"],E=["shortcode"],T=["shortcode","shortcode_id"];var F={created(){this.markForShortcodes=this.markForShortcodes.bind(this),this.updateShortcodes=this.updateShortcodes.bind(this),this.formatShortcodes=this.formatShortcodes.bind(this)},methods:{shortcodeConfig(){return{markForShortcodes:this.markForShortcodes,formatShortcodes:this.formatShortcodes}},markForShortcodes(t){this.redactorShortcode=t},updateShortcodes(){const t=this.plugins.shortcodes;return this.plugins.shortcodes=this.redactorShortcode().map((e=>{const{id:n,type:r}=e,i=f()(e,I),o=t.find((t=>t.shortcode_id===n))||{},{shortcode:a={}}=o,s=f()(o,E);return Object.assign({},s,{shortcode_id:n,type:r,shortcode:Object.assign({},a,i)})})),this.plugins.shortcodes},formatShortcodes(){var t;return null===(t=this.plugins.shortcodes)||void 0===t?void 0:t.reduce(((t,e)=>{let{shortcode:n,shortcode_id:r}=e,i=f()(e,T);return t[r]=Object.assign({id:r},i,n),t}),{})}}},P=n(653),L={methods:{expandEditor(t){this.expanded=t},expandConfig:()=>({expand:!0})}},A=n(5),B=n(0),D=n.n(B),R=n(2),M=n(7),U=n(46),N=n(3),q=n(106);const z={history:[],max:100};D()(document).on("focusin",(t=>{z.history.unshift(t)>z.max&&(z.history.length=z.max)}));var H=t=>{var e=null;return z.history.some((n=>{var r;return!(!D.a.contains(document,n.target)||!(r=D()(n.target)).is(t))&&(e=r,!0)})),e},W=n(610),G=n(701),Q=n(44),V=n(23),K=n(702);function J(t,e,n){e=D()(e),M.a.process(D.a.get(n.endpoint),{$trigger:e}).always(U.a.init(e,n.seal)).always(N.a.tmpClass(e,n.className)).done((function(e){const n=e.data.shortcode,r=t.shortcode.instance.add(n);t.$editor.scrollTop(r.position().top),t.caret.setAfter(D()("<br><br>").insertAfter(r)[1])}))}function Y(t,e){t=D()(t);const n=K.a.find(e.id),r=n.data(n.embed(e.id));if(r){const i=void 0!==e.content?e.content:N.a.findTargets(t,e.textarea).val();r.content=q.a.escapeHtml(i),n.set(r)}t.trigger("layer-destroy")}function Z(t,e){t=D()(t);const n=K.a.find(e.id);n&&n.del(e.id),t.trigger("layer-destroy")}W.a.quote=function(){return{init:function(){const t=this.opts,e={name:"quote",html:function(t,e){return e.content=q.a.escapeHtml(e.content),(t=>{let{attr:e,content:n,original_comment_username:r,original_comment_created_at_formatted:i}=t;return'\n\t<blockquote class="userHtml-quote" '.concat(e,'>\n\t\t<span class="userHtml-quote-author">').concat(r,'</span>\n\t\t<span class="userHtml-quote-time">').concat(i,'</span>\n\t\t<p class="userHtml-quote-content">').concat(n,"</p>\n\t</blockquote>\n")})(e)},onClick:function(e,n){Object(G.a)(t,{key:"editQuote",value:e}),Q.a.clickHandler(n,D.a.extend({},N.a.$win.height()<600?V.a.defaults:{layout:[{preset:"n",x:0},{preset:"s",x:0}],close:!1,reTrigger:"ignore"},{target:"#template-quotePopover",tplData:e}))}};this.shortcode.instance.registerType(e),this.shortcode.instance.registerType(D.a.extend({},e,{name:"legacy_quote"}))}}},R.a.add("quote-add","click",(function(t,e){const n=H(".redactor-editor")||D()(".redactor-editor"),i=r.b.getTextarea(n);r.b.initRedactor(i).then((n=>{J(n,t,e)}))}),{className:"",seal:{cover:!1}}),R.a.add("quote-update","click",Y),R.a.add("quote-del","click",Z);const X=new A.default({data:()=>({shortcodeId:null}),methods:{triggerQuote(t,e){this.$emit("triggerQuote",{event:t,entityId:e})},addQuote(t,e){this.$emit("addQuote",{event:t,entityId:e})},editQuote(t){this.shortcodeId=t},updateQuote(t,e){this.$emit("updateQuote",{event:t,content:e,shortcodeId:this.shortcodeId}),this.shortcodeId=null},deleteQuote(t,e){this.$emit("deleteQuote",{event:t,shortcodeId:e})}}});var tt={created(){this.registerHandler("editQuote","editQuote"),this.addQuote=this.addQuote.bind(this),this.editQuote=this.editQuote.bind(this),this.updateQuote=this.updateQuote.bind(this),this.deleteQuote=this.deleteQuote.bind(this),X.$on("addQuote",this.addQuote),X.$on("updateQuote",this.updateQuote),X.$on("deleteQuote",this.deleteQuote),this.$once("hook:beforeDestroy",(()=>{X.$off("addQuote",this.addQuote),X.$off("updateQuote",this.updateQuote),X.$off("deleteQuote",this.deleteQuote)}))},methods:{addQuote(t){let{event:e,entityKey:n="comment_id",entityId:r}=t;this.name===l&&J(this.$editor,e.target,{endpoint:"/shortcodes/template/quote?".concat(n,"=").concat(r),seal:{cover:!1},className:""})},updateQuote(t){let{event:e,shortcodeId:n,content:r}=t;this.name===l&&Y(e.target,{id:n,content:r})},deleteQuote(t){let{event:e,shortcodeId:n}=t;this.name===l&&Z(e.target,{id:n})},editQuote(t){X.editQuote(t)}}},et=n(637),nt=n(566),rt=n(120),it=(n(569),n(719));const ot={allowedTags:["ul","li","a","strong","em","del","br","span","div","img","iframe","hr","blockquote"],plugins:["emoji","imagify","shortcode","video","linkify","restore","quote"],buttonActiveClass:"button--selected",buttonTarget:".redactor/.button{% if key %}--{{key}}{% endif %}",forceReplaceDivsOnPaste:!0,linebreaks:!0,imageEditable:!1,imageUrl:"url",replaceDivs:!1,staticDom:!0,maxImages:null};var at={components:{SlideUpDown:it.a,WysiwygToolbar:o.a,EditorImageUpload:a.a},mixins:[Object(i.a)(),d,s.a,L,k,P.b,p,h.a,O,S,F,tt],inheritAttrs:!1,model:{event:"update"},props:{name:{type:String,required:!0},value:{type:String,default:""},disabled:{type:Boolean,default:!1},directives:{type:Object,default:()=>({})},features:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},plugins:{type:Object,default:()=>({})},mode:{type:String,default:"default",validators:t=>-1!==["brand","default"].indexOf(t)},hasError:{type:Boolean,default:!1}},data(){return{wysiwygConfig:Object.assign({},ot,{mentions:this.mentionsConfig&&this.mentionsConfig()},this.restoreConfig?this.restoreConfig():{},this.imageUploadConfig?this.imageUploadConfig(this.config):{},this.shortcodeConfig?this.shortcodeConfig():{},this.config),isTipVisible:!1,expanded:!1}},computed:{redactorStyles(){return this.config.minHeight?{"min-height":this.config.minHeight}:null},pluginConfig(){const t=this.mapPlugins();return{target:"#".concat(this.name),plugins:t}},redactorValue:{get(){return this.value},set(t){this.syncFromEditor(Object(rt.d)(t))}},$directives(){return Object.assign({"focus-toggle":{toggles:[{className:"redactor--focus",target:".redactor"}]}},this.directives)},editorClassList(){return{"redactor-editor--small":this.config.small,"redactor-editor--admin":this.config.admin}}},async mounted(){this.$editor=await r.b.initRedactor(this.$refs.input,Object.assign({},this.wysiwygConfig,{vue:this.updatePlugin.bind(this)}));const t=t=>this.$emit("change",t),e=t=>this.$emit("focus",t),n=t=>{if(t.data){const t=this.$refs.editor.innerHTML;this.syncFromEditor(t)}};this.$refs.editor.addEventListener("blur",t),this.$refs.editor.addEventListener("focus",e),this.$refs.editor.addEventListener("input",n),this.$once("hook:beforeDestroy",(()=>{this.$refs.editor.removeEventListener("blur",t),this.$refs.editor.removeEventListener("focus",e),this.$refs.editor.removeEventListener("input",n)})),setTimeout((()=>this.$emit("ready")))},destroyed(){this.handlers={},this.writers={},this.$editor=null},methods:{mapPlugins(){const t={},e=this.wysiwygConfig,n=Object.assign({},this.textConfig?this.textConfig(e):{},this.imageConfig?this.imageConfig(e):{},this.expandConfig?this.expandConfig(e):{},this.htmlConfig?this.htmlConfig(e):{},this.plugins);for(const[e,r]of Object.entries(n))(e in this.features&&this.features[e]||void 0===this.features[e])&&(t[e]=r);return t},registerHandler(t,e){this.handlers=this.handlers||{value:"syncToEditor"},this.handlers[t]=e},registerWriter(t,e){this.writers=this.writers||{},this.writers[t]=e},pluginEnabled(t){return!1!==this.plugins[t]},updatePlugin(t){let{key:e,value:n}=t;if(e in this.handlers)return this[this.handlers[e]](n)},syncFromEditor(t){this.$emit("update",t)},syncToEditor(t){this.redactorValue!==t&&(this.redactorValue=t)},async syncRedactor(){await this.$nextTick(),this.$refs.editor.innerHTML=this.redactorValue},captureEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.preserveSelection(),this.updateLinkSelection&&this.updateLinkSelection(t)},insertEditor(t){let{content:e,method:n="htmlWithoutClean"}=t;n in this.writers?this[this.writers[n]](e):this.$editor.insert[n](e)},showTip(){this.$scopedSlots.tip&&(this.isTipVisible=!0)},hideTip(){this.isTipVisible=!1},dropLocalImages(t){const{maxImages:e,dragImageUpload:n}=this.wysiwygConfig,r=Array.from((null==t?void 0:t.detail.files)||[]),i=this.getNumberOfImgToUpload();if(!n)return void Object(et.f)(t.type);if(0===r.length)return;let o=r.filter((t=>Object(et.a)(t))).filter((t=>{const e=!Object(nt.a)(t);return e||Object(et.d)(),e}));e&&o.length>i&&(Object(et.e)(e),o=o.slice(0,i)),o.forEach((t=>{this.insertEditor({content:{alignment:"left",type:"FILE",value:t},method:"insertImage"})}))},insertLocalImage(t){const{maxImages:e}=this.wysiwygConfig;0!==this.getNumberOfImgToUpload()?this.insertEditor({content:t,method:"insertImage"}):Object(et.e)(e)},getNumberOfImgToUpload(){const t=(this.$refs.editor.innerHTML.match(/<img/g)||[]).length,{maxImages:e}=this.wysiwygConfig;return e?e-t:e}}},st=at,lt=Object(_.a)(st,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{isActive:t.$slots.tip,handler:t.hideTip},expression:"{ isActive: $slots.tip, handler: hideTip }"}],staticClass:"redactor redactor-box aGrid",class:{"redactor--hasError":t.hasError},attrs:{disabled:t.disabled},on:{click:t.showTip}},[e("div",{ref:"editor",staticClass:"redactor-editor redactor-placeholder size--all-m border--b-r width--all-12 overflow--scrollX-raw overflow--scrollY-raw userHtml userHtml--wysiwyg overflow--wrap-break hide--js-off",class:t.editorClassList,style:t.redactorStyles,attrs:{"data-handler":t.$d.handlers,"data-focus-toggle":t.$d.params["focus-toggle"],"data-field-name":t.name,tabindex:"0"}}),e("div",{staticClass:"redactor-tips",class:{"space--h-2 space--v-2":t.$slots.tip}},[e("SlideUpDown",[t.isTipVisible?e("div",[t._t("tip")],2):t._e()])],1),e("textarea",t._g(t._b({ref:"input",staticClass:"width--all-12 hide--js-on",attrs:{id:t.name,name:t.name},domProps:{value:t.redactorValue},on:{"paste-local-file":t.dropLocalImages,"drop-local-file":t.dropLocalImages}},"textarea",t.$attrs,!1),t.$listeners)),t.pluginEnabled("mentions")?e("Mentions",{attrs:{value:t.plugins.mentions}}):t._e(),t._t("default",(function(){return[e("WysiwygToolbar",t._b({attrs:{expanded:t.expanded},on:{"plugin-update":t.updatePlugin,"editor-insert":t.insertEditor,"editor-capture":t.captureEditor,"editor-expand":t.expandEditor},scopedSlots:t._u([t.pluginEnabled("image")?{key:"image-upload",fn:function({close:n}){return[e("EditorImageUpload",t._b({attrs:{mode:"brand"},on:{upload:function(e){t.insertLocalImage(e),n()}}},"EditorImageUpload",t.pluginConfig.plugins.image,!1))]}}:null],null,!0)},"WysiwygToolbar",t.pluginConfig,!1))]}),{pluginConfig:t.pluginConfig,pluginEnabled:t.pluginEnabled,updatePlugin:t.updatePlugin,insertEditor:t.insertEditor,captureEditor:t.captureEditor,expandEditor:t.expandEditor})],2)}),[],!1,null,null,null);e.a=lt.exports},724:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return u}));var r=n(1),i=n(6);const o=async t=>{const e=[r.h,r.g,r.Hb,r.f,r.e],n={url:t,field:"link",value:t},o=await Object(i.c)({queries:e});return await o(n)},a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(i.b)({req:r.bc,params:{url:t,filter:e},options:n})},s=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(i.b)({req:r.cc,params:{url:t,voucherCode:e,filter:n},options:o})},l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.b)({req:r.Yc,params:t,options:e})},c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.b)({req:r.Xc,params:t,options:e})},u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.b)({req:r.uc,params:{url:t},options:e})}},725:function(t,e,n){"use strict";var r=n(526),i=n(509),o=n(566),a={components:{FormInput:i.e},props:{showFileName:{required:!0,type:Boolean,default:!1},disableControl:{type:Boolean,default:!1},value:{required:!1},mode:{type:String,default:"default"}},computed:{selectedFileName(){return this.value?this.value.name:"Niks geselecteerd"},labelMode(){return"brand"===this.mode?"button--mode-brand":"button--mode-default"}},methods:{selectFile(){this.$emit("input",Object(o.b)(this.$refs.file.$el))}}},s=n(45),l=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("span",{staticClass:"tGrid tGrid--auto width--all-12 hide--js-off"},[e("span",{staticClass:"tGrid-cell tGrid-cell--shrink"},[e("label",{staticClass:"button button--type-secondary button--shape-circle width--all-12",class:[t.labelMode,{"button--disabled":t.disableControl}]},[t._v(" "+t._s("Kies")+" "),e("FormInput",{ref:"file",staticClass:"hide",attrs:{disabled:t.disableControl,type:"file",accept:".jpg, .jpeg, .png, .gif, .webp",name:"file"},on:{change:t.selectFile}})],1)]),t.showFileName?e("span",{staticClass:"tGrid-cell vAlign--all-m space--l-2"},[e("span",{staticClass:"mute--text size--all-m box--all-b overflow--ellipsis-tableFix"},[t._v(t._s(t.selectedFileName))])]):t._e()])}),[],!1,null,null,null).exports,c=n(507),u={__name:"alignment-selector-control",setup:t=>({__sfc:!0,alignments:[{name:"left",icon:"align-left",label:"Links"},{name:"center",icon:"align-center",label:"Midden"}],SegmentedButton:c.b})},d=Object(s.a)(u,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex"},t._l(n.alignments,(function(r){return e(n.SegmentedButton,t._g(t._b({key:r.name,staticClass:"width--all-6",attrs:{name:r.name,mandatory:""}},"SegmentedButton",t.$attrs,!1),t.$listeners),[e("BaseIcon",{attrs:{name:r.icon,left:""}}),t._v(" "+t._s(r.label)+" ")],1)})),1)}),[],!1,null,null,null).exports,p=n(637);const h=Object(r.a)().set({label:"engagement"});var m={components:{BaseButton:c.a,FormList:i.l,FormRow:i.o,FormLabel:i.k,FormContent:i.c,FormInput:i.e,FileUploadControl:l,AlignmentSelectorControl:d},inheritAttrs:!1,props:{isLoading:{type:Boolean,required:!0},hasAlignmentSelector:{type:Boolean,default:!1},hasUrlInput:{type:Boolean,default:!1},immediateUpload:{type:Boolean,default:!1},showFileName:{type:Boolean,default:!1},mode:{type:String,default:"default"}},data:()=>({file:null,url:null,alignment:"left"}),computed:{noSelectionMade(){return!this.file&&!this.url},shouldDisableFileControl(){return!(!this.isLoading&&!this.url)},shouldDisableURLControl(){return!(!this.isLoading&&!this.file)},shouldDisableSubmitControl(){return!(!this.isLoading&&!this.noSelectionMade)}},methods:{submit(){const t=this.file?"FILE":"URL",e=this.file?this.file:this.url;if("FILE"===t&&Object(o.a)(e))return void Object(p.d)();let n={type:t,value:e};this.hasAlignmentSelector&&(n=Object.assign(n,{alignment:this.alignment})),this.$emit("submit",n)},handleURL(){h.record({action:"add_image_url"})},handleFile(){h.record({action:"add_image"}),this.immediateUpload&&this.submit()}}},f=Object(s.a)(m,(function(){var t=this,e=t._self._c;return e("FormList",[t._t("above"),e("FormRow",{attrs:{disabled:t.shouldDisableFileControl}},[e("FormLabel",[t._v(t._s("Upload afbeelding"))]),e("FormContent",[e("FileUploadControl",{attrs:{mode:t.mode,"disable-control":t.shouldDisableFileControl,"show-file-name":t.showFileName},on:{input:t.handleFile},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1),t.hasUrlInput?e("FormRow",{attrs:{disabled:t.shouldDisableURLControl}},[e("FormLabel",[t._v(t._s("Afbeelding uit URL"))]),e("FormContent",[e("FormInput",{attrs:{name:"url",placeholder:"Afbeeldings-URL",disabled:t.shouldDisableURLControl},on:{input:t.handleURL},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1):t._e(),t.hasAlignmentSelector?e("FormRow",[e("FormLabel",[t._v(t._s("Plaatsing"))]),e("FormContent",[e("AlignmentSelectorControl",{attrs:{"selected-value":t.alignment},on:{"update:selectedValue":function(e){t.alignment=e},"update:selected-value":function(e){t.alignment=e}}})],1)],1):t._e(),e("FormRow",[e("FormContent",[e("BaseButton",{staticClass:"width--all-12",attrs:{variant:"primary",mode:"brand",disabled:t.shouldDisableSubmitControl},on:{click:function(e){return t.submit()}}},[t._v(" "+t._s("Plaats afbeelding")+" ")])],1)],1),t._t("default")],2)}),[],!1,null,null,null);e.a=f.exports},728:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={images:"getImageSuggestions",price:"getPriceSuggestion",shippingPrice:"getShippingPriceSuggestion",specification:"getSpecificationSuggestion",title:"getTitleSuggestion"}},734:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(107),i=n(611);const o={model:{event:"update"},props:{value:{type:Object,default:()=>({})},i18n:{type:Object,default:()=>({})},features:{type:Object,default:()=>({})},wysiwyg:{type:Object,default:()=>({})},messages:{type:Array,default:()=>[]},groupOptions:{type:Object,default:()=>({groups:[],max:1})}},methods:{autoAssignGroups:i.a,clearRestore(){return this.$refs.form.clearRestore()},updateShortcodes(){return this.$refs.form.updateShortcodes()}},computed:{wysiwygConfig(){return Object.assign({restoreId:"thread-desc-".concat(this.hasThread?this.thread.threadId:"new")},this.wysiwyg.config)},thread:{get(){return this.value},set(t){this.$emit("update",t)}},hasThread(){return this.thread&&this.thread.threadId},hasImage(){return this.thread&&Object(r.d)(this.thread.images)&&Object(r.c)(this.thread.images,"default")},hasMerchant(){return!(!this.thread||!this.thread.merchant)},hasMerchantImage(){return!(!this.hasMerchant||!Object(r.b)(this.thread.merchant))},merchantImageUrl(){return this.hasMerchantImage?Object(r.e)(this.thread.merchant.images,"avatar","10241X","/assets/img/default-merchant_d651c.png"):""},isShowAdminSection(){return Object(i.b)(this.thread)}},watch:{"thread.link":{handler(t){this.features.preSelectIsLocal&&null===this.thread.threadId&&(this.thread.isLocal=!(t&&t.trim()))},immediate:!0}}}},736:function(t,e,n){"use strict";var r=n(109),i=n(564),o=n(509),a=n(734),s=n(589),l=n(754),c=n(772),u=n(616),d=n(507),p=n(5),h=n(17),m=Object(p.defineComponent)({__name:"form-thread-morph-link",props:{morph:null,threadId:null},setup(t){const e=t,n={[h.a]:"",[h.o]:"",[h.e]:"",[h.f]:""},r=Object(p.computed)((()=>Object.keys(h.n).find((t=>h.n[t]===e.morph.type)))),i=Object(p.computed)((()=>"threads.switch.to.".concat(r.value.toLocaleLowerCase())));return{__sfc:!0,props:e,ceptClass:n,threadType:r,routeName:i}}}),f=n(45),g=Object(f.a)(m,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("RouterLink",{staticClass:"thread-link linkPlain mute--text space--ml-3",class:n.ceptClass[n.threadType],attrs:{to:{name:n.routeName,params:{threadId:t.threadId}}}},[t._v(" "+t._s(t.morph.translation)+" ")])}),[],!1,null,null,null).exports;const v={titleLabel:"",titlePlaceholder:"",descriptionLabel:"",descriptionPlaceholder:"",groupsLabel:"",groupsSublabel:"Selecteer ten minste één van de onderstaande categorieën:",submitButtonText:"Plaats Aanbieding"};var b={components:{BaseButton:d.a,FormList:o.l,FormMessageList:o.m,Portal:r.Portal,FormRowTitle:l.a,FormRowDescription:c.a,FormThreadMorphLink:g},mixins:[s.b,a.a],inheritAttrs:!1,props:{id:{type:String,default:"threadForm"},validations:{type:Object,default:()=>({})},portalGroups:{type:String,default:""},validateOnSubmit:{type:String,default:""}},data(){return{formName:this.id,translations:Object.assign({},v,this.i18n)}},watch:{messages(t){Object(u.d)(this.$v,t)}},validations(){return Object.assign({title:[Object(i.j)(),Object(i.b)(4,140)],description:[Object(i.j)(),Object(i.f)(65535)]},this.validations)},methods:{async submitForm(t){t.preventDefault(),this.validateOnSubmit&&await this.$v.validate(this.validateOnSubmit),await this.$v.check(),this.$v.anyError||this.$emit("form-submit",t)},clearRestore(){return this.$refs.wysiwygField.$refs.wysiwygComponent.markForRestore({restoreId:this.wysiwygConfig.restoreId}),this.$refs.wysiwygField.$refs.wysiwygComponent.clearRestore()},updateShortcodes(){return this.$refs.wysiwygField.$refs.wysiwygComponent.updateShortcodes()}}},y=Object(f.a)(b,(function(){var t=this,e=t._self._c;return e("form",t._g(t._b({staticClass:"width--all-12",attrs:{id:t.id,name:t.id},on:{submit:t.submitForm}},"form",t.$attrs,!1),t.$listeners),[t.$v.error[t.id]?e("FormMessageList",{staticClass:"text--b space--b-2",attrs:{messages:t.$v.messages[t.id]}}):t._e(),e("FormList",{attrs:{wide:""}},[t._t("title"),t.hasThread&&t.features.morphThread?e("p",{staticClass:"bg--em bRad--a space--h-3 space--v-3 space--mt-2"},t._l(t.thread.morphsTo,(function(n){return e("FormThreadMorphLink",{key:n.type,attrs:{morph:n,"thread-id":t.thread.threadId}})})),1):t._e(),t._t("prepend",null,{v:t.$v}),t.features.title?e("FormRowTitle",{attrs:{placeholder:t.translations.titlePlaceholder,"tips-feature":t.features.tips,"only-number":!1},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.translations.titleLabel))]},proxy:!0}],null,!1,1023730630),model:{value:t.thread.title,callback:function(e){t.$set(t.thread,"title",e)},expression:"thread.title"}}):t._e(),e("FormRowDescription",{ref:"wysiwygField",attrs:{"tips-feature":t.features.tips,"wysiwyg-features":t.features.wysiwyg,"wysiwyg-config":t.wysiwyg.config,"entity-id":t.thread.threadId,placeholder:t.translations.descriptionPlaceholder},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s("Beschrijving"))]},proxy:!0}]),model:{value:t.thread.description,callback:function(e){t.$set(t.thread,"description",e)},expression:"thread.description"}}),t._t("default",null,{v:t.$v}),t._t("actions",(function(){return[e("Portal",{attrs:{to:"submit"}},[e("BaseButton",{staticClass:"width--all-12 width--fromW2-auto",attrs:{form:t.id,type:"submit",variant:"primary",mode:"brand"},on:{click:t.submitForm}},[t._v(" "+t._s(t.translations.submitButtonText)+" ")])],1)]}),{submitButtonText:t.translations.submitButtonText})],2)],1)}),[],!1,null,null,null);e.a=y.exports},750:function(t,e,n){"use strict";var r={components:{BaseSpinner:n(515).a},props:{title:{type:String,default:""},progress:{type:Number,default:0},error:{type:[Boolean,String],default:!1},size:{type:String,default:"xxl"},i18n:{type:Object,default:()=>({})},hasBar:{type:Boolean,default:!0}},computed:{progressClassList(){return{"vote-temp--burn":!!this.error,"vote-temp--cold":!this.error}},progressStyleList(){return{width:"".concat(this.progress,"%")}},textClassList(){return{"size--all-m":"sm"===this.size,"size--all-xxl":"sm"!==this.size}},contentClassList(){return{"vote-temp--burn":!!this.error,"progress--title":!this.error}}},methods:{retry(){this.$emit("retry")},cancel(){this.$emit("cancel")}}},i=n(45),o=Object(i.a)(r,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"js-progress--cover progress--cover progress--cover-fullscreen"},[e("span",{staticClass:"progress--content-align"},[e("span",{staticClass:"progress--content"},[e("div",{staticClass:"text--b vAlign--all-m space--b-1",class:t.contentClassList},[t.error?t._e():e("BaseSpinner",{staticClass:"vAlign--all-m"}),e("span",{staticClass:"space--l-1 vAlign--all-m",class:t.textClassList},[t._v(" "+t._s(t.title)+" ")])],1),t.hasBar?e("div",{staticClass:"progress--bar"},[e("div",{staticClass:"js-progress--indicator progress--indicator",class:t.progressClassList,style:t.progressStyleList})]):t._e(),e("div",[t.error?e("button",{staticClass:"js-progress--retry progress--retry text--b link link--type-default space--t-1",attrs:{type:"button"}},[e("span",{staticClass:"flex boxAlign-ai--all-c space--b-1"},[e("BaseIcon",{attrs:{name:"refresh"}}),e("span",{staticClass:"space--l-2 vAlign--all-m",class:t.textClassList,on:{click:t.retry}},[t._v(" "+t._s(t.i18n.retry)+" ")])],1)]):t._e(),e("button",{staticClass:"js-progress--cancel progress--cancel text--b mute--text space--t-1",attrs:{type:"button"},on:{click:t.cancel}},[t._v(" "+t._s(t.i18n.cancel)+" ")])])])])])}),[],!1,null,null,null).exports,a=n(104),s=n(567),l={__name:"thread-submission-loader",props:{hasBar:{type:Boolean}},setup:t=>({__sfc:!0,loader:Object(s.h)(),ProgressOverlay:o,BaseLoader:a.a})},c=Object(i.a)(l,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.BaseLoader,t._g(t._b({staticClass:"width--all-12",attrs:{mode:"hidden","linked-to":n.loader},scopedSlots:t._u([{key:"default",fn:function({loading:r,error:i}){return[t._t("default"),r||i?e(n.ProgressOverlay,{attrs:{error:i,"has-bar":t.hasBar}}):t._e()]}}],null,!0)},"BaseLoader",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.a=c.exports},753:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n(548);const i=t=>("string"==typeof t?""!==t.trim():null!=t)&&0===Number(Object(r.b)(t)),o=t=>!Number(Object(r.b)(t))},754:function(t,e,n){"use strict";var r=n(5),i=n(509),o=n(643).a,a=n(45),s=Object(a.a)(o,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("p",{staticClass:"formList-info",class:n.textColor},[t._t("default",(function(){return[t._v(" "+t._s(n.remainingLabel)+" ")]}),{remaining:n.remaining})],2)}),[],!1,null,null,null).exports,l=n(611),c={__name:"form-row-title",props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},fieldName:{type:String,default:"title"},tipsFeature:{type:Boolean,default:!1},required:{type:Boolean,default:!1},onlyNumber:{type:Boolean,default:!0}},emits:["input"],setup(t,e){let{emit:n}=e;const o=t,a=Object(r.inject)("$v"),c=Object(r.computed)({get:()=>o.value,set(t){n("input",t)}}),u=t=>{a.validate(o.fieldName,t)};return{__sfc:!0,$v:a,props:o,emit:n,localValue:c,validate:u,changeTitle:async()=>{await u(c.value),a.error.title||Object(l.a)()},FormRow:i.o,FormLabel:i.k,FormInput:i.e,FormContent:i.c,FormMessageList:i.m,FormTip:i.t,CharacterCounter:s}}},u=Object(a.a)(c,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.FormRow,{directives:[{name:"track",rawName:"v-track:formField",value:{name:t.fieldName},expression:"{ name: fieldName }",arg:"formField"}],attrs:{error:n.$v.error.title}},[e("div",{staticClass:"flex boxAlign-jc--all-sb"},[e(n.FormLabel,{attrs:{required:t.required}},[t._t("label")],2),e(n.CharacterCounter,{attrs:{value:n.localValue},scopedSlots:t._u([t.onlyNumber?{key:"default",fn:function({remaining:e}){return[t._v(" "+t._s(e)+" ")]}}:null],null,!0)})],1),e(n.FormContent,[e(n.FormTip,{attrs:{available:t.tipsFeature,title:"Laat je titel opvallen",descr:"Vermeld het merk, het producttype, de kleur en het model in de titel (bijv. adidas UltraBoost (zwart))"},scopedSlots:t._u([{key:"default",fn:function({toggleFormTip:r}){return[e(n.FormInput,{directives:[{name:"track",rawName:"v-track:submissionFieldSelected.focus",arg:"submissionFieldSelected",modifiers:{focus:!0}}],staticClass:"input--mode-primary width--all-12",attrs:{name:t.fieldName,placeholder:t.placeholder},on:{change:n.changeTitle,focus:r,blur:r},model:{value:n.localValue,callback:function(t){n.localValue=t},expression:"localValue"}})]}}])}),e(n.FormMessageList,{attrs:{messages:n.$v.messages.title}})],1)],1)}),[],!1,null,null,null);e.a=u.exports},772:function(t,e,n){"use strict";var r=n(509),i=n(716),o=n(567),a=n(5),s={__name:"form-row-description",props:{value:{type:String,default:""},entityId:{type:[Number,String],default:"new"},fieldName:{type:String,default:"description"},wysiwygFeatures:{type:Object,default:()=>({})},wysiwygConfig:{type:Object,default:()=>({})},tipsFeature:{type:Boolean,default:!1},required:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input","update:preparedHtmlDescription"],setup(t,e){let{emit:n}=e;const s=t,l=Object(o.m)(),c=Object(a.ref)(!1),u=Object(a.inject)("$v"),d=Object(a.ref)(null),p=Object(a.computed)({get:()=>s.value,set(t){n("input",t),u.validate(s.fieldName,t)}}),h=Object(a.computed)((()=>{var t;return Object.assign({restoreId:"thread-desc-".concat(null!==(t=s.entityId)&&void 0!==t?t:"new")},s.wysiwygConfig)})),m=Object(a.computed)((()=>u.messages[s.fieldName]&&u.messages[s.fieldName].length>0));return{__sfc:!0,wysiwygPlugins:l,canRestore:c,$v:u,emit:n,props:s,wysiwygComponent:d,localValue:p,wysiwygConfigOverridden:h,hasError:m,update:function(){n("update:preparedHtmlDescription",d.value.$editor.$editor.html()),d.value.updateShortcodes()},FormTipLabel:r.u,WysiwygEditor:i.a,FormRow:r.o,FormLabel:r.k,FormContent:r.c,FormMessageList:r.m}}},l=n(45),c=Object(l.a)(s,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.FormRow,{directives:[{name:"track",rawName:"v-track:formField",value:{name:t.fieldName},expression:"{ name: fieldName }",arg:"formField"}],attrs:{error:n.$v.error[t.fieldName]}},[e(n.FormLabel,{staticClass:"flex",attrs:{required:t.required},scopedSlots:t._u([{key:"end",fn:function(){return[n.canRestore?e("button",{staticClass:"link text--color-brandPrimary",attrs:{type:"button"},on:{click:t.$refs.wysiwygComponent.undoRestore}},[t._v(" "+t._s("Negeer opgeslagen omschrijving")+" ")]):t._e()]},proxy:!0}])},[t._t("label")],2),e(n.FormContent,[e(n.WysiwygEditor,{directives:[{name:"track",rawName:"v-track:submissionFieldSelected.focus",arg:"submissionFieldSelected",modifiers:{focus:!0}}],ref:"wysiwygComponent",staticClass:"redactor--mode-primary width--all-12",attrs:{"has-error":n.hasError,name:t.fieldName,placeholder:t.placeholder,config:n.wysiwygConfigOverridden,plugins:n.wysiwygPlugins,features:t.wysiwygFeatures},on:{canRestore:t=>n.canRestore=t,update:n.update},scopedSlots:t._u([{key:"tip",fn:function(){return[t._t("descTip",(function(){return[t.tipsFeature?e(n.FormTipLabel,{attrs:{title:"Vertel ons over je deal.",descr:"Voeg details over het product toe, links naar relevante info/reviews en waarom je denkt dat het een goede aanbieding is"}}):t._e()]}))]},proxy:!0}],null,!0),model:{value:n.localValue,callback:function(t){n.localValue=t},expression:"localValue"}}),n.$v.messages[t.fieldName]&&n.$v.messages[t.fieldName].length?e(n.FormMessageList,{attrs:{messages:n.$v.messages[t.fieldName]}}):t._e()],1)],1)}),[],!1,null,null,null);e.a=c.exports},780:function(t,e,n){"use strict";var r=n(17);const i={[r.a]:"ThreadPreviewDeal",[r.o]:"ThreadPreviewVoucher",[r.e]:"ThreadPreviewDiscussion",[r.f]:"ThreadPreviewFeedback"};var o={components:{ThreadPreviewDeal:()=>Promise.all([n.e(13),n.e(36),n.e(234)]).then(n.bind(null,1273)),ThreadPreviewVoucher:()=>Promise.all([n.e(13),n.e(36),n.e(236)]).then(n.bind(null,1333)),ThreadPreviewDiscussion:()=>Promise.all([n.e(13),n.e(207)]).then(n.bind(null,1334)),ThreadPreviewFeedback:()=>Promise.all([n.e(13),n.e(213)]).then(n.bind(null,1335))},props:{thread:{type:Object,required:!0},imagePlaceholder:{type:String,default:""},layout:{type:String,default:"list"},i18n:{type:Object,default:()=>({})},features:{type:Object,default:()=>({})}},computed:{previewType(){return i[this.thread.type]},imageUrl(){return this.$store.getters["threadForm/getGalleryImageUrl"](0)}}},a=n(45),s=Object(a.a)(o,(function(){var t=this;return(0,t._self._c)(t.previewType,{tag:"Component",staticClass:"threadPreview",attrs:{layout:t.layout,thread:t.thread,image:t.imageUrl,i18n:t.i18n,features:t.features}})}),[],!1,null,null,null);e.a=s.exports},805:function(t,e,n){"use strict";var r=n(540),i=n.n(r),o=n(17),a=n(87),s=n(682),l=n(107),c=n(521),u=n(566),d=n(43),p=n(728),h=n(724),m=n(6),f=n(616);const g=function(t,e,n){var r,i,a,c;let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=t.shipping||{isFree:null,price:null},p=d.isFree,h=d.price,m=null!=t&&null!==(r=t.startDate)&&void 0!==r&&r.timestamp?t.startDate:{},f=null!=t&&null!==(i=t.endDate)&&void 0!==i&&i.timestamp?t.endDate:{},g=null!=t&&null!==(a=t.scheduledReleaseDate)&&void 0!==a&&a.timestamp?t.scheduledReleaseDate:{},v=t.type||e||"";return{threadId:t.threadId||null,type:v,images:Object(l.d)(t.images)?t.images:{bucket:"threads",slots:[]},link:t.link||"",galleryImages:t.galleryImages||[],user:t.user||null,claimCodeCampaignId:t.claimCodeCampaignId||"",discountType:t.discountType||null,disclaimers:t.disclaimers||[],cpcLink:t.cpcLink||"",price:t.price||null,percentage:t.percentage||null,nextBestPrice:t.nextBestPrice||null,title:t.title||"",titleSlug:t.titleSlug||"",threadTypeId:t.threadTypeId||null,description:t.description||"",groups:t.groups?Object(s.d)(t.groups,v===o.e):[],freeShipping:p,shippingPrice:h,startDate:m,endDate:f,scheduledReleaseDate:g,voucherCode:t.voucherCode||"",isLocal:!!(t.isLocal||!t.threadId&&u.preSelectIsLocal),isExclusive:!!t.isExclusive,locations:t.locations||n,dispatchedFrom:t.dispatchedFrom||null,nsfw:!!t.nsfw,events:t.events||[],eventOnly:!!t.eventOnly,merchant:t.merchant||{},morphsTo:t.morphsTo||[],shortcodes:t.shortcodes||[],imageSuggestions:t.imageSuggestions||[],preparedHtmlDescription:(null===(c=t.threadDetails)||void 0===c?void 0:c.preparedHtmlDescription)||null}},v=function(){let{formId:t="threadForm",thread:e={},locations:n={id:null},countries:r=[],events:i=[],groups:o=[],mentions:a="",threadType:s="",features:l={},imageSuggestions:c=[],fetchedFromUrl:u={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d={formId:t,thread:g(e,s,n,l),locations:n,countries:r,events:i,groups:o,mentions:a,features:l,imageSuggestions:c,fetchedFromUrl:u};return Object.assign({},d,{token:Object(f.c)()})},b={getField:a.c,getGalleryImageUrl:t=>function(e){let{pixVariant:n="thread_medium",picsyVariant:r=[["re",300,300],["ft","jpg"],["qt",60]]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.thread.galleryImages[e];return i?"remoteUrl"in i?i.remoteUrl:Object(l.d)(i)?Object(l.e)(i,i.slots[0].name,n):new c.a(i).apply(r).toString():""},isShowGalleryImageSizeWarning:t=>e=>{const n=t.thread.galleryImages[e];return!!n&&("remoteUrl"in n?n.isPoorQuality:Object(l.d)(n)?!!Object(l.f)(n,n.slots[0].name,{}).isPoorQuality:n.isPoorQuality)},isAnyGalleryImageSizeWarning:(t,e)=>t.thread.galleryImages.some(((t,n)=>e.isShowGalleryImageSizeWarning(n))),canAutoAssignGroups:t=>{if(0===t.groups.length)return!0;return!t.thread.groups.some((t=>!t.assignedBySystem))}},y={clearFormSuggestionsFromLink(t){let{commit:e}=t;e("UPDATE_FIELD",{path:"fetchedFromUrl",value:{}})},getFormSuggestionsFromLink(t,e){let{dispatch:n,commit:r,state:i}=t,{url:o}=e;if(!o)return;const a={},s=t=>{var e;return!(null===(e=a[t])||void 0===e||!e.isLoading())},{thread:l}=i,c={images:0===l.galleryImages.length,price:!l.price,shippingPrice:!0,title:!0};Object.keys(c).forEach((t=>c[t]&&(t=>{const e=d.b.create(p.a[t]);a[t]=e,e.startLoading()})(t)));const u=Object(m.d)(Object(h.c)(Object.assign({url:o},c)),11e3);return u.request.then((t=>{let{submissionSuggestion:e}=t;const{images:o,price:a,title:l}=e.external,{shippingCosts:c}=e.internal;var u,d;s("images")&&null!=o&&o.length&&n("addGalleryImages",o.slice(0,8).map((t=>({remoteUrl:t.url})))),u="price",d=a.value,s(u)&&d&&r("UPDATE_FIELD",{path:"thread.".concat(u),value:d}),r("UPDATE_FIELD",{path:"fetchedFromUrl",value:Object.assign({},i.fetchedFromUrl,{title:l,price:a.value,shippingCosts:null==c?void 0:c.map((t=>t.price))})})})).finally((()=>{Object.keys(a).forEach((t=>{a[t].stopLoading()}))})),u},addGalleryImages(t){let{state:e,commit:n,dispatch:r}=t;const a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((t=>Object.assign({},t,{id:i()("gallery_")})));n("UPDATE_FIELD",{path:"thread.galleryImages",value:e.thread.galleryImages.concat(a)}),a.forEach((t=>{t.remoteUrl&&Object(u.c)(t.remoteUrl).then((e=>{let{width:n,height:i}=e;r("updateGalleryImageById",{id:t.id,data:Object.assign({},t,{isPoorQuality:Object(o.x)(n,i)})})})).catch((()=>{}))}))},removeGalleryImage(t,e){let{state:n,commit:r}=t;const i=[...n.thread.galleryImages];i.splice(e,1),r("UPDATE_FIELD",{path:"thread.galleryImages",value:i})},removeAllGalleryImages(t){let{commit:e}=t;e("UPDATE_FIELD",{path:"thread.galleryImages",value:[]})},changeGalleryImagesOrder(t,e){let{state:n,commit:r}=t,{from:i,to:o}=e;const a=[...n.thread.galleryImages],s=a.splice(i,1)[0];a.splice(o,0,s),r("UPDATE_FIELD",{path:"thread.galleryImages",value:a})},updateGalleryImageById(t,e){let{state:n,commit:r}=t,{id:i,data:o}=e;const a=[...n.thread.galleryImages],s=a.findIndex((t=>t.id===i));s>=0&&(a[s]=o,r("UPDATE_FIELD",{path:"thread.galleryImages",value:a}))},getMerchantFromThreadLink(t,e){let{commit:n}=t;const r=Object(h.d)(e);return r.request.then((t=>{let{merchant:e}=t;return n("UPDATE_FIELD",{path:"thread.merchant",value:e||{}}),e})),r},getProductSpecificationFromLink(t,e){let{state:n,commit:r}=t;const{thread:i,features:o}=n;function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r("UPDATE_FIELD",{path:"fetchedFromUrl",value:Object.assign({},n.fetchedFromUrl,{specification:t})})}if(!(o.specification&&!i.title&&!i.description&&!i.threadId))return;a("");const s=d.b.create(p.a.specification);s.startLoading();const l=Object(h.e)(e);return l.request.then((t=>{let{submissionSuggestion:e}=t;const{specification:n}=e.external;a(n)})).finally((()=>{s.stopLoading()})),l}},w={UPDATE_FIELD:a.b,UPDATE_TOKEN(t){t.token=Object(f.c)()}};e.a=t=>({namespaced:!0,state:v(t),getters:b,actions:y,mutations:w})},810:function(t,e,n){"use strict";n.d(e,"b",(function(){return f}));var r=n(509),i=n(736),o=n(780),a=n(109),s=n(666),l={components:{BaseButton:n(507).a,PortalTarget:a.PortalTarget},mixins:[s.a],props:{i18n:{type:Object,default:()=>({})},preview:{type:Boolean,default:!0}},data(){return{isModalOpen:!1,translations:Object.assign({previewTitle:"Preview"},this.i18n)}}},c=n(45),u=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-center tGrid tGrid--auto height--all-full"},[t._t("messages"),e("div",{staticClass:"width--fromW4-8 box--fromW3-c vAlign--all-t"},[e("div",{staticClass:"page-content page-content--persistent page-space--v-l bg--main"},[t._t("form")],2),e("div",{staticClass:"page-content page-content--persistent page-space--v-l bg--color-greyPanel"},[e("div",{staticClass:"flex flex--wrap flex--dir-row-reverse boxAlign-jc--all-fs space--mb-n2"},[e("PortalTarget",{staticClass:"space--fromW2-ml-3 space--mb-2 width--all-12 width--fromW2-auto",attrs:{name:"submit"}}),t.preview?e("BaseButton",{directives:[{name:"track",rawName:"v-track:previewButton.click",arg:"previewButton",modifiers:{click:!0}}],staticClass:"space--mb-2 width--all-12 width--fromW2-auto",attrs:{variant:"secondary",mode:"default"},on:{click:function(e){t.isModalOpen=!0}}},[t._v(" "+t._s(t.translations.previewTitle)+" ")]):t._e()],1)])]),t.isModalOpen?e("BaseModal",{attrs:{active:t.isModalOpen,"max-width":"540","content-class":"space--h-3 space--v-3"},on:{"update:active":function(e){t.isModalOpen=e}}},[e("ModalClose",{staticClass:"aGrid-close space--mt-2 space--mr-2"}),t._t("preview")],2):t._e(),t._t("loader")],2)}),[],!1,null,null,null).exports,d=n(750),p=n(587),h=n(21),m=n(567);const f={formId:{type:String,default:"threadForm"},maxGroups:{type:Number,default:1},i18n:{type:Object,default:()=>({})}};e.a=function(){let{i18n:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{components:{FormRow:r.o,FormContent:r.c,PageMessages:p.a,ThreadForm:i.a,ThreadPreview:o.a,ThreadSubmissionLayout:u,ThreadSubmissionLoader:d.a},props:f,setup(e){const{thread:n,formOptions:r,submitForm:i,form:o,validationMessages:a}=Object(m.l)(),s=Object(m.g)(e.maxGroups),l=Object(m.e)(),c=Object.assign({},t,e.i18n||{},{form:Object.assign({},t.form,(e.i18n||{}).form)});return Object(h.j)(["thread_created_location"]),Object(m.b)(),Object(m.i)(!1),{thread:n,formOptions:r,formFeatures:l,groupOptions:s,submitForm:i,form:o,validationMessages:a,translations:c}}}}},89:function(t,e,n){"use strict";function r(t){const e=Object.prototype.toString;let n=t.length;const o=new Array(n);for(;n;)switch(n-=1,e.call(t[n])){case"[object Object]":o[n]=i({},t[n]);break;case"[object Array]":o[n]=r(t[n]);break;default:o[n]=t[n]}return o}function i(t,e){const n=Object.prototype.toString;let o;for(o in e)if(e.hasOwnProperty(o))switch(n.call(e[o])){case"[object Object]":t[o]=i("[object Object]"===n.call(t[o])?t[o]:{},e[o]);break;case"[object Array]":t[o]=r(e[o]);break;default:t[o]=e[o]}return t}e.a={boundMethod:function(t,e){return t[""+e]||(t[""+e]=t[e].bind(t))},deepCloneArray:r,deepMerge:i,uniqueArray:function(t){return t.filter(((e,n)=>t.indexOf(e)===n))}}}}]);