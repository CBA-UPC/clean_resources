/*! News Corp RE-Player - release/prod-12  - v2.0.5 - 1/12/2024, 4:04:42 PM */
(window.jpf=window.jpf||[]).push([[0],{122:function(F,e,K){"use strict";var z=Math.round;K.d(e,"a",function(){return W});var X,Z=K(67),t=K(3),Q=K(0),a=K(5),r=K(1),n=K(134),i=K(130),o=(X=function(a,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}X(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),l=function(a){function e(t){var n=a.call(this,document.createElement("div"))||this;return n.container=t,n.element.className=e.CSS_NAME,n.hide(),n.iconContainer=document.createElement("div"),n.iconContainer.className="vms-vertical-share-icon-container",n.close=document.createElement("div"),n.close.className="vms-vertical-share-popup-close",n.close.innerHTML="X",n.element.appendChild(n.close),n.title=document.createElement("div"),n.title.className="vms-vertical-share-popup-title",n.title.innerHTML="Share to",n.element.appendChild(n.title),n.copyLink=document.createElement("div"),n.copyLink.className="vms-vertical-share-icon vms-vertical-share-popup-copy",n.copyLink.innerHTML="",n.iconContainer.appendChild(n.copyLink),n.emailLink=document.createElement("div"),n.emailLink.className="vms-vertical-share-icon vms-vertical-share-popup-email",n.emailLink.innerHTML="",n.iconContainer.appendChild(n.emailLink),n.twitterLink=document.createElement("div"),n.twitterLink.className="vms-vertical-share-icon vms-vertical-share-popup-twitter",n.twitterLink.innerHTML="",n.iconContainer.appendChild(n.twitterLink),n.facebookLink=document.createElement("div"),n.facebookLink.className="vms-vertical-share-icon vms-vertical-share-popup-facebook",n.facebookLink.innerHTML="",n.iconContainer.appendChild(n.facebookLink),n.element.appendChild(n.iconContainer),n.setEvents(),n}return o(e,a),e.prototype.setEvents=function(){var a=this;r.a.onClick(this.close,function(){var e=a.container.getService(Q.a.context);a.hide();var t=a.container.getService(Q.a.lightningPlayerOrchestrator);t.current.view.sharePopupOpen=!1,e.isVvaafca()?t.next||!t.current.view.element.classList.contains("vjs-ended")?(t.current.bcPlayer.play(),t.current.view.element.style.opacity=1):t.current.view.element.style.opacity=1:(t.current.bcPlayer.ended()||t.current.bcPlayer.play(),t.current.view.element.style.opacity=1)}),r.a.onClickOnly(this.copyLink,function(){var e=a.container.getService(Q.a.lightningPlayerOrchestrator),t=document.createElement("input");t.style.display="none",document.body.appendChild(t);var n=e.current.view.player.getVideoUrl()?e.current.view.player.getVideoUrl():window.location.href;t.value=n,t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),navigator.clipboard.writeText(n),r.a.addClass(a.copyLink,"copied"),setTimeout(2e3)}),r.a.onClickOnly(this.emailLink,function(){a.container.getPluginInstance(n.a.pluginName).then(function(t){t.view.mail.click()})}),r.a.onClickOnly(this.facebookLink,function(){a.container.getPluginInstance(n.a.pluginName).then(function(t){t.view.facebook.click()})}),r.a.onClickOnly(this.twitterLink,function(){a.container.getPluginInstance(n.a.pluginName).then(});var e=this.container.getService(Q.a.eventManager);e.addCustomListener(this.container,i.a.EVENT_SWIPE_DOWN_ANIMATION_FINISHED,function(){a.close.click()}),e.addCustomListener(this.container,i.a.EVENT_SWIPE_UP_ANIMATION_FINISHED,function(){a.close.click()})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_NAME="vms-vertical-share-popup",e}(a.a),s=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),c=function(o){function e(t,n){var i=o.call(this,document.createElement("div"))||this;i.element.className=e.CSS_CLASS,i.lightning=n,i.container=t,i.setupElement(),i.setEvents();var r=i.container.getService(Q.a.lightningPlayerOrchestrator);return r.sharePopup||(r.sharePopup=new l(i.container)),i.popup=r.sharePopup,i.lightning&&(i.appendTo(i.lightning.view.element.querySelector("."+g.CSS_CLASS)),r.overlay.querySelector("."+l.CSS_NAME)||i.popup.appendTo(r.overlay)),i}return s(e,o),e.prototype.setupElement=function(){var a=this.container.getService(Q.a.environment),e=document.createElement("img"),t=a.getAssetUrlPrefix(),n=a.browser.isMobile()||a.browser.isMobileResolution();e.src=n?t+"/build/47d075386303a50f20612ad5a7434648.svg":t+"/build/273ae8b9f84b4bd98c3984201f12d601.svg",e.alt="Share video button",e.height=32,e.width=32,this.element.innerHTML="<span>Share</span>",this.element.prepend(e)},e.prototype.close=function(){this.container.getService(Q.a.lightningPlayerOrchestrator).disposeAll()},e.prototype.setEvents=function(){var a=this;r.a.onClickOnly(this.element,function(){var e=a.lightning.getVideoUrl(),r=a.container.getService(Q.a.lightningPlayerOrchestrator);r.current.view.sharePopupOpen=!0;var n=document.title.split("|")[0];if(r.current.view&&(n=r.current.view.player.capiVideo.title?r.current.view.player.capiVideo.title:n),navigator&&navigator.share)try{navigator.share({text:"I recommend you watch "+n,url:e})}catch(t){console.error("Share function is not supported",t)}else a.popup.show(),r.current.bcPlayer.pause(),r.current.view.element.style.opacity="0.5"})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_CLASS="vms-vertical-share",e}(a.a),d=K(46),p=K(6),u=K(62),m=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),v=function(o){function e(t,n){var i=o.call(this,document.createElement("a"))||this;if(window.location.href.includes("/kitchen/"))return i;i.lightning=n,i.container=t,i.supportedSites=u.VIDEO_HUB_URLS,i.currentDomain=new URL(window.location.href).hostname,i.currentDomain=d.a.cleanDomainName(i.currentDomain);var r=t.getService(Q.a.environment).getEnvFromDomainStrict();if("sit"==r?i.currentDomain=i.currentDomain.replace(".com","sit.com"):"uat"==r&&(i.currentDomain=i.currentDomain.replace(".com","uat.com")),!i.supportedSites||!i.supportedSites.some(function(t){return t.site===i.currentDomain}))return i;i.element.className=e.CSS_CLASS;var a=i.supportedSites.find(;return i.setupElement(a.redirect),i.lightning&&i.appendTo(i.lightning.view.element.querySelector("."+g.CSS_CLASS)),i}return m(e,o),e.prototype.setupElement=function(o){var e=this,t=this.container.getService(Q.a.environment),n=document.createElement("img"),i=t.getAssetUrlPrefix(),r=t.browser.isMobile()||t.browser.isMobileResolution();n.src=r?i+"/build/425f10e54d9f8c2275c63daf2afa3828.svg":i+"/build/7f64bf3d2836f5f81d4df7999aa6287e.svg",n.alt="See more videos button",n.height=32,n.width=32,this.element.innerHTML="<span>More<br/>videos</span>",this.element.prepend(n),this.element.setAttribute("href",o),this.element.addEventListener("click",function(t){t.preventDefault(),e.trackEvent().then(})},e.prototype.trackEvent=function(){var a=this;return new Promise(function(e){a.container.getService(Q.a.analytics).omniture.track([p.a.LIGHTNING_MORE_VIDEOS]),e()})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_CLASS="vms-vertical-more-videos",e}(a.a),y=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),g=function(a){function e(t,n){var i=a.call(this,document.createElement("div"))||this;return i.element.className=e.CSS_CLASS,i.player=n,i.container=t,i.player.bcPlayer.el_.classList.contains(e.CSS_CLASS_ACTIONS_ADDED)||(i.player.bcPlayer.el_.classList.add(e.CSS_CLASS_ACTIONS_ADDED),i.appendTo(i.player.bcPlayer.el_),i.setupActions()),i}return y(e,a),e.prototype.setupActions=function(){this.moreVideos=new v(this.container,this.player),this.share=new c(this.container,this.player)},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_CLASS="vms-vertical-actions",e.CSS_CLASS_ACTIONS_ADDED="vms-actions-added",e}(a.a),h=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),_=function(a){function e(t){var n=a.call(this,document.createElement("div"))||this;return n.element.className=e.CSS_CLASS,n.container=t,n.currentDomain=new URL(window.location.href).hostname,n.currentDomainPath=window.location.href,n.currentDomain.toLowerCase().includes("sit.com")?n.currentDomain=n.currentDomain.toLowerCase().replace("sit.com",".com"):n.currentDomain.toLowerCase().includes("uat.com")&&(n.currentDomain=n.currentDomain.toLowerCase().replace("uat.com",".com")),"www."===n.currentDomain.substring(0,4)&&(n.currentDomain=n.currentDomain.replace("www.","")),n.brandLogoSupportedDomains=["heraldsun.com.au","kidspot.com.au/kitchen","kidspot.com.au","news.com.au","ntnews.com.au","taste.com.au","adelaidenow.com.au","theaustralian.com.au","couriermail.com.au","dailytelegraph.com.au","vogue.com.au","localhost","bodyandsoul.com.au","cairnspost.com.au","codesports.com.au","escape.com.au","geelongadvertiser.com.au","goldcoastbulletin.com.au","themercury.com.au","thechronicle.com.au","townsvillebulletin.com.au","weeklytimesnow.com.au","ktv"],n.setLogo(),n.appendTo(t.bcPlayer().el_),n}return h(e,a),e.prototype.setLogo=function(){var a=this;if(this.brandLogoSupportedDomains.includes(this.currentDomain)){var e=document.createElement("a");e.setAttribute("href",window.location.origin),e.setAttribute("target","_blank"),Promise.resolve().then(K.bind(null,62)).then(function(t){var n;n=a.currentDomainPath.toLowerCase().includes("sport/live-streams")&&u.KTV_BRANDS.includes(a.currentDomain)?t.BRAND_LOGOS_SVGS.ktv:t.BRAND_LOGOS_SVGS[a.currentDomain],e.innerHTML=n}),e.addEventListener("click",function(){var e=a.container.getService(Q.a.lightningPlayerOrchestrator);e.current.view.pauseUntilInteraction=!0,e.current.view.element.classList.add("vms-force-pause"),e.current.view.element.querySelector(".vjs-ima3-ad-container").style.pointerEvents="none"}),this.element.appendChild(e)}else this.container.log("not sure what brand this is",this.currentDomain)},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_CLASS="vms-brand-logo",e}(a.a),E=K(19),S=K(49),P=K(123),C=function(){function t(a,n){this.container=a,this.lightning=n,this.element=document.createElement("div"),this.element.className="rp-end-state-container",this.endStateView=new S.a(a),this.endStateView.attach(this.element),this.endStateView.element.style.removeProperty("display"),this.setEvents()}return t.prototype.setEvents=function(){var t=this;r.a.onClickOnly(this.endStateView.watchButton,function(){t.watchAgain()})},t.prototype.watchAgain=function(){var a=this,e=this.container.getService(Q.a.context);if(this.container.getService(Q.a.lightningPlayerOrchestrator).disposeAll(!0),this.container.getPluginInstance(P.a.pluginName).then(function(n){a.container.getPluginInstance(E.a.pluginName).then(function(t){n.expand.expand("recommended",t.view.recommendations.items[0].capiVideo)})}),e.isVvaafca()){var t=e.capiVideo.title,n=e.capiVideo.vaafcaUrl;n&&(window.history.replaceState(null,t,n),document.title=t)}},t.prototype.getPlayer=function(){var t;return(null===(t=this.lightning)||void 0===t?void 0:t.bcPlayer)||this.container.bcPlayer()},t.prototype.refresh=t.prototype.appendTo=function(t){t.appendChild(this.element)},t}(),b=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),w=function(a){function e(t){var n=a.call(this,document.createElement("div"))||this;n.element.className=e.CSS_CLASS,n.container=t,n.hide(),n.setupElement(),n.setEvents();var i=n.container.getService(Q.a.lightningPlayerOrchestrator);return i.overlay.querySelector("."+e.CSS_CLASS)||n.appendTo(i.overlay),n}return b(e,a),e.prototype.setupElement=e.prototype.show=function(){this.element.classList.remove("hidden-node")},e.prototype.hide=e.prototype.setEvents=function(){var a=this;try{var e=this.container.getService(Q.a.environment);if(e.browser.isMobile()||e.browser.isIpad()){var t=window.matchMedia("(orientation: portrait)");window.matchMedia("(orientation: portrait)").matches||this.handleLandscape(),t.addEventListener("change",function(e){e.matches?setTimeout(function(){a.handlePortrait()},200):a.handleLandscape()})}}catch(t){console.warn(t)}},e.prototype.handlePortrait=function(){this.hide();var a=this.container.getService(Q.a.lightningPlayerOrchestrator);a.current.view.fitDisplay(),a.next&&a.next.view.fitDisplay(),a.previous&&a.previous.view.fitDisplay();var e=.01*window.innerHeight;a.overlay.style.setProperty("--vh",e+"px"),a.current.bcPlayer.ended()||(a.current.bcPlayer.ima3.adsManager?a.current.bcPlayer.ima3.adsManager.resume():a.current.bcPlayer.play())},e.prototype.handleLandscape=function(){this.show();var t=this.container.getService(Q.a.lightningPlayerOrchestrator);t.current.bcPlayer.ima3.adsManager?t.current.bcPlayer.ima3.adsManager.pause():(t.current.bcPlayer.pause(),t.retryInverval&&clearInterval(t.retryInverval))},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_CLASS="lp-rotate-screen",e}(a.a),T=K(140),N=K(132),f=K(8),I=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=function(a){function e(t,n){var i=a.call(this,t,e.pluginName)||this;return i.lightning=n,i.element=document.createElement("div"),i.element.className=e.CSS_CLASS,i.element.innerHTML="Your video will play after the ad",i}return I(e,a),e.prototype.show=function(){this.lightning.bcPlayer.el_.appendChild(this.element),this.element.style.display="block"},e.prototype.hide=function(){this.element.style.display="none"},e.prototype.setEvents=function(){var t=this;this.lightning.bcPlayer.on("ads-ad-started",function(){return t.show()}),this.lightning.bcPlayer.on("ads-allpods-completed",},e.pluginName="LP_AD_LABEL",e.CSS_CLASS="lp-ad-label",e}(f.a),A=K(141),O=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),V=function(a){function e(e,o,n){var i=a.call(this,document.createElement("div"))||this;return i.container=e,i.lightning=o,i.element.className=i.getClassName(),i.element.innerHTML=i.getDefaultContent(),i.appendTo(n),i.setEvents(),i}return O(e,a),e.prototype.appendTo=function(t){t.appendChild(this.element)},e.className="",e}(a.a),k=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),x=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return k(e,a),e.prototype.getClassName=function(){return e.className},e.prototype.getDefaultContent=e.prototype.setEvents=function(){var a=this;r.a.onClickOnly(this.element,function(){var e=a.container.getService(Q.a.context),t=a.container.getService(Q.a.lightningPlayerOrchestrator);e.isVvaafca()?t.redirectToPreviousUrl():t.disposeAll()})},e.className="lp-close",e.defaultContent="X",e}(V),D=K(149),M=K(142),R=K(135),H=K(143),U=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),W=function(r){function l(e,o){var n=r.call(this,e)||this;n.touchmove=!1,n.pauseUntilInteraction=!1,n.totalScroll=0,n.vudooLoaded=!1,n.sharePopupOpen=!1,n.className=o;var i=n.getService(Q.a.environment),a=n.container.getService(Q.a.context).isVvaafca();if(i.browser.isMobile()&&(n.className+=" mobile"),n.id="lp-"+new Date().getTime(),n.element=document.createElement("video-js"),n.element.setAttribute("id",n.id),n.element.setAttribute("data-embed","default"),n.element.setAttribute("controls","controls"),n.element.setAttribute("playsinline","playsinline"),n.element.className="lightning-player "+n.className,a||(n.observer=new Z.ResizeObserver(function(){n.fitDisplay()}),n.observer.observe(window.document.body)),a){var l=.01*window.innerHeight;n.container.getService(Q.a.lightningPlayerOrchestrator).overlay.style.setProperty("--vh",l+"px"),n.fitDisplay()}return n}return U(l,r),l.prototype.fitDisplay=function(){var a,e=this.container.getService(Q.a.environment),t=e.browser.isMobile()||e.browser.isMobileResolution(),n=this.container.getService(Q.a.context).isVvaafca(),o=9*(a=t||!n?N.a.getCorrectViewportHeight():N.a.getCorrectViewportHeight()-64)/16;o>N.a.getCorrectViewportWidth()&&(o=N.a.getCorrectViewportWidth()),this.element.style.height=z(a)+"px",this.element.style.width=z(o)+"px",n||(this.element.style.marginLeft="-"+o/2+"px")},l.prototype.show=function(a){var e=this;this.player=a,this.registerComponents(),this.container.getService(Q.a.context).isVvaafca()&&this.setBackground(),this.detectSwipe(),this.element.addEventListener("mouseover",{passive:!0})},l.prototype.setBackground=function(){var o,e,t,n=this.container.getService(Q.a.lightningPlayerOrchestrator);if(null===(t=null===(e=null===(o=n.current)||void 0===o?void 0:o.bcPlayer)||void 0===e?void 0:e.mediainfo)||void 0===t?void 0:t.poster){var i=document.querySelector(".vms-lightning-background");i||((i=document.createElement("div")).classList.add("vms-lightning-background"),i.style.backgroundSize="cover",n.overlay.prepend(i)),i.style.backgroundImage="url(\""+n.current.bcPlayer.mediainfo.poster+"\")";var r=document.querySelector(".vms-lightning-background-overlay");r||((r=document.createElement("div")).classList.add("vms-lightning-background-overlay"),r.style.background="rgba(0, 0, 0, 0.64)",n.overlay.prepend(r))}},l.prototype.registerComponents=function(){this.pauseArea=new H.a(this.container,this.player),this.pauseArea.appendTo(this.player.bcPlayer.el_);var t=this.player.capiVideo.extendedMetadata.hasCaptions;this.swipeup=new T.a(this.container,this.player),this.closeButton=new x(this.container,this.player,this.player.bcPlayer.el_),this.captions=new A.a(this.container,t,this.player),this.captions.appendTo(this.player.bcPlayer.el_),this.description=new D.Description(this.container,this.player),this.description.appendTo(this.player.bcPlayer.el_),this.actions=new g(this.container,this.player),this.description.refresh(this.player.capiVideo),this.element.setAttribute("capi-id",this.player.capiVideo.id),this.live=new M.a(this.container,this.player),this.live.appendTo(this.player.bcPlayer.el_),this.mute=new R.a(this.container,this.player.bcPlayer.el_),this.mute.appendTo(this.player.bcPlayer.el_),this.brandLogo=new _(this.container),this.brandLogo.appendTo(this.player.bcPlayer.el_),this.player.bcPlayer.muted("true"===localStorage.getItem(R.a.STORAGE_NAME)),this.mute.updateMuteIconStatus(),this.adLabel=new L(this.container,this.player),this.adLabel.setEvents(),this.rotateScreen=new w(this.container)},l.prototype.addEndState=function(){this.endState||(this.endState=new C(this.container,this.player),this.endState.appendTo(this.player.bcPlayer.el_),this.endState.element.querySelector(".rp-end-state").classList.remove("hidden-node"),this.endState.refresh(this.player.capiVideo))},l.prototype.detectSwipe=function(){var s=this,e=this.player.bcPlayer.el_,t=this.container.getService(Q.a.eventManager),i=this.container.getService(Q.a.lightningPlayerOrchestrator),r=0,a=0;e.addEventListener("touchmove",function(e){i.vudooOverlayOpen||"lp-recommendation-item-image"!==e.target.className&&(s.touchmove=!0,t.trigger(s.container,l.EVENT_SWIPE_MOVE,e.changedTouches[0].screenY))},{passive:!0}),e.addEventListener("touchstart",function(e){i.vudooOverlayOpen||(setTimeout(function(){var e;if(s.touchmove){var t="true"===localStorage.getItem("vms-lp-mute");try{null===(e=i.next)||void 0===e||e.bcPlayer.muted(t),i.next.bcPlayer.play().then(function(){var a;null===(a=i.next)||void 0===a||a.bcPlayer.muted(t)}).catch(function(){var a;(null===(a=i.next)||void 0===a?void 0:a.bcPlayer.play()).then(function(){var a;null===(a=i.next)||void 0===a||a.bcPlayer.muted(t),console.warn("Safari doesn't allow auto play with sound enabled. So auto play will continue playing muted videos.")})})}catch(t){console.warn(t)}try{i.previous&&i.previous.bcPlayer&&(i.previous.bcPlayer.muted(t),i.previous.bcPlayer.play().then(.catch(function(){i.previous.bcPlayer.play().then(function(){i.previous.bcPlayer.muted(t),console.warn("Safari doesn't allow auto play with sound enabled. So auto play will continue playing muted videos.")})}))}catch(t){console.warn(t)}}},50),1<e.touches.length&&e.preventDefault(),r=e.changedTouches[0].screenY,s.touchStartY=r)},!0),e.addEventListener("touchend",function(e){if(!i.vudooOverlayOpen&&!e.target.classList.contains("vms-brand-logo")&&!e.target.closest(".vms-brand-logo")){setTimeout(50),a=e.changedTouches[0].screenY;var n=Math.abs(r-a);a<r&&n>l.PIXELS_SWIPE_THRESHOLD&&i.next&&(i.next.view.userClickedToPlay=!0),a>r&&n>l.PIXELS_SWIPE_THRESHOLD&&i.previous&&(i.previous.view.userClickedToPlay=!0),t.trigger(s.container,l.EVENT_SWIPE_END,a)}},!0)},l.prototype.hide=function(){this.element.style.opacity="0"},l.EVENT_SWIPE_UP="LP_EVENT_SWIPE_UP",l.EVENT_ON_INTERACT="LP_EVENT_ON_INTERACT",l.EVENT_AUTO_SWIPES="LP_EVENT_AUTO_SWIPES",l.EVENT_SWIPE_DOWN="LP_EVENT_SWIPE_DOWN",l.EVENT_SWIPE_MOVE="LP_EVENT_SWIPE_MOVE",l.EVENT_SWIPE_END="LP_EVENT_SWIPE_END",l.EVENT_REFRESH_VIEW="EVENT_REFRESH_LP_VIEW",l.PIXELS_SWIPE_THRESHOLD=85,l}(t.a)},123:function(K,e,z){"use strict";z.d(e,"a",function(){return B});var X,n=z(14),Z=z(0),a=z(1),r=z(4),o=z(57),i=z(15),l=z(79),t=z(8),s=z(41),c=z(17),d=z(5),p=z(128),u=z(122),Q=z(6),m=(X=function(a,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}X(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),v=function(o){function e(t){var a=o.call(this,document.createElement("div"))||this;a.element.className=e.CSS_CLASS,a.container=t,a.setEvents();var n=a.container.getService(Z.a.lightningPlayerOrchestrator);return a.appendTo(n.overlay),a.element.style.display="none",a}return m(e,o),e.prototype.close=function(){this.container.getService(Z.a.lightningPlayerOrchestrator).disposeAll(),this.element.style.display="none"},e.prototype.setEvents=function(){var r=this,e=this.container.getService(Z.a.eventManager),t=this.container.getService(Z.a.lightningPlayerOrchestrator);e.addCustomListener(this.container,p.a.EVENT_RECOMMENDATIONS_DEPLETED,function(){t.current.bcPlayer.on("ended",function(){r.element.style.display="block"})}),e.addCustomListener(this.container,u.a.EVENT_SWIPE_DOWN,,a.a.onClick(this.element,function(){r.container.getService(Z.a.analytics).omniture.track([Q.a.FULLSCREEN_CHANGE]),r.close()})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.CSS_CLASS="vms-vertical-close",e}(d.a),y=z(42),g=z(19),_=z(87),E=z(40),h=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),S=function(r){function e(e){var a=r.call(this,document.createElement("div"))||this;return a.expanded=!1,a.container=e,a.setEvents(),a}return h(e,r),e.prototype.expand=function(o,S){var P=this;void 0===o&&(o="vertical");var e=this.container.getService(Z.a.context),t=this.container.getService(Z.a.pageManager),n=this.container.getService(Z.a.lightningPlayerOrchestrator);this.container.getPluginInstance(g.a.pluginName).then(function(r){P.container.getPluginInstance(B.pluginName).then(function(i){var l=P.container.bcPlayer();"vertical"!==o&&"recommended"!==o||n.setOverlay();var s=("carousel"===o||"recommended"===o)&&(S||e.capiVideo);if("carousel"===o)n.index=+t.startAt,n.carouselLength=r.view.recommendations.items.length,n.adIndex=-1;else if("recommended"===o){var c=r.view.recommendations.items.findIndex(;n.index=c,n.adIndex=0,n.next||n.getNext(!0)}else{n.index=0;var d=S||e.capiVideo,p=new _.a(P.container,d,r.view.recommendations);r.view.recommendations.items.find(||r.view.recommendations.items.unshift(p),n.adIndex=-1}n.overlay.style.display="block";var u=e.bcVideo;if(S){var m=S.platformId.split("-");2===m.length?l.catalog.getVideo(m[1],:n.load(P.container,u,s)}else n.load(P.container,u,s);i.scrollTop=window.scrollY||window.pageYOffset,a.a.addClass(window.document.body.parentElement,"video-full-screen"),P.container.getService(Z.a.eventManager).trigger(P.container,E.b),P.expanded=!0;var v=P.container.getService(Z.a.analytics).omniture,g={};e.isContainerOneFAST()&&(e.isVertical()?g.eVar195=y.a.VERTICAL_PLAYER:g.eVar195=y.a.HORIZONTAL_PLAYER),v.track([Q.a.CLICK_TO_PLAY],g)})})},e.prototype.setEvents=function(){var n=this;a.a.onClickOnly(this.element,function(){n.container.getService(Z.a.analytics).omniture.track([Q.a.FULLSCREEN_CHANGE]),n.expand()});try{window.matchMedia("(orientation: portrait)").addEventListener("change",function(e){e.matches||n.expanded&&(n.container.getService(Z.a.context).isVvaafca()||(n.container.getService(Z.a.lightningPlayerOrchestrator).disposeAll(),n.expanded=!1))})}catch(t){console.warn(t)}this.container.getService(Z.a.eventManager).addCustomListener(this.container,E.c,function(){n.expand()})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e}(d.a),P=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),C=function(r){function o(e){var t=r.call(this,e,o.pluginName)||this;return t.counter=1,t.inactivityLimit=5,t.setEvents(),t}return P(o,r),o.prototype.setEvents=function(){var a=this,e=this.container.getService(Z.a.eventManager);e.addCustomListener(this.container,E.a,,e.addCustomListener(this.container,u.a.EVENT_SWIPE_END,function(){a.detectInactivityPanel()}),e.addCustomListener(this.container,p.a.EVENT_NAVIGATION_CLICK_DOWN,function(){a.detectInactivityPanel()}),e.addCustomListener(this.container,p.a.EVENT_NAVIGATION_CLICK_UP,function(){a.detectInactivityPanel()})},o.prototype.detectInactivityPanel=function(){var a=this;this.counter=1;var e=document.querySelector("."+o.className);this.container.getPluginInstance(B.pluginName).then(function(n){e&&(a.hideInactivityPanel(),n.close&&(n.close.element.style.display="none"))})},o.prototype.hideInactivityPanel=function(){var t;(null===(t=this.element)||void 0===t?void 0:t.parentNode)&&this.element.parentNode.removeChild(this.element)},o.prototype.showInactivity=function(){var t=this,e=this.container.getService(Z.a.lightningPlayerOrchestrator);this.container.getPluginInstance(B.pluginName).then(function(n){t.element=document.createElement("div"),t.element.className=o.className;var i=document.createElement("div");i.className="lp-inactivity-container",t.continueWatching=document.createElement("div"),t.continueWatching.className="continue-watching",t.continueWatching.innerHTML="Continue watching",t.cancel=document.createElement("button"),t.cancel.className="lp-inactivity-cancel",t.cancel.innerHTML="Cancel",i.innerHTML="<h3>Are you still watching?</h3>",i.appendChild(t.continueWatching),i.appendChild(t.cancel),t.element.appendChild(i),e.current.bcPlayer.el_.appendChild(t.element),a.a.onClick(t.continueWatching,function(){t.counter=1,t.hideInactivityPanel(),e.current.autoNext(),n.close&&(n.close.element.style.display="none")}),a.a.onClick(t.cancel,function(){t.counter=1,n.close&&(n.close.element.style.display="none"),e.disposeAll()}),n.close&&(n.close.element.style.display="block")})},o.pluginName="LP_PLUGIN_INACTIVITY",o.className="lp-inactivity",o}(t.a),b=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),w=function(a){function o(e){var t=a.call(this,document.createElement("div"))||this;t.element.className=o.CSS_CLASS,t.container=e,t.setEvents();var n=t.container.getService(Z.a.lightningPlayerOrchestrator);return n.overlay.querySelector("."+o.CSS_CLASS)||t.appendTo(n.overlay),t.show(),t}return b(o,a),o.prototype.show=function(){var t=this.container.getService(Z.a.lightningPlayerOrchestrator).overlay.querySelector("."+o.CSS_CLASS);t&&(t.style.display="block")},o.prototype.hide=function(){var t=this.container.getService(Z.a.lightningPlayerOrchestrator);this.container.getService(Z.a.eventManager).addListener(this.container,"ready",function(){var e=t.overlay.querySelector("."+o.CSS_CLASS);e&&(e.style.display="none")})},o.prototype.setEvents=function(){var t=this;this.container.getService(Z.a.eventManager).addCustomListener(this.container,E.b,function(){t.hide()})},o.prototype.appendTo=function(t){t.appendChild(this.element)},o.CSS_CLASS="vms-progress-indicator",o}(d.a),T=z(140),N=z(62),f=z(129),I=z(141),L=z(142),A=z(135),O=z(143),V=z(35),k=z(31),x=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),D=function(l,e,a,t){return new(a||(a=Promise))(function(n,r){function i(a){try{c(t.next(a))}catch(t){r(t)}}function o(a){try{c(t.throw(a))}catch(t){r(t)}}function c(r){var l;r.done?n(r.value):(l=r.value,l instanceof a?l:new a(function(t){t(l)})).then(i,o)}c((t=t.apply(l,e||[])).next())})},M=function(l,e){function t(t){return function(a){return function(t){if(s)throw new TypeError("Generator is already executing.");for(;d;)try{if(s=1,n&&(i=2&t[0]?n.return:t[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,t[1])).done)return i;switch(n=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return d.label++,{value:t[1],done:!1};case 5:d.label++,n=t[1],t=[0];continue;case 7:t=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=0<i.length&&i[i.length-1])||6!==t[0]&&2!==t[0])){d=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){d.label=t[1];break}if(6===t[0]&&d.label<i[1]){d.label=i[1],i=t;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(t);break}i[2]&&d.ops.pop(),d.trys.pop();continue;}t=e.call(l,d)}catch(a){t=[6,a],n=0}finally{s=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,a])}}var s,n,i,c,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},R=function(o){function e(t,a){var n=o.call(this,t,e.pluginName)||this;return n.htmlElements=[],a&&(n.lightning=a),n.element=document.createElement("div"),n.element.className=e.className,n}return x(e,o),e.prototype.getPlayer=function(){var t;return(null===(t=this.lightning)||void 0===t?void 0:t.bcPlayer)||this.container.bcPlayer()},e.prototype.fetch=function(a){return D(this,void 0,void 0,function(){var e;return M(this,function(t){switch(t.label){case 0:return[4,this.getService(Z.a.capi).getVideosById([a.id],this.container,V.a.RECOMMENDATION_KEY)];case 1:return e=t.sent(),a=e[0],this.refreshView(a),[2,a];}})})},e.prototype.refreshView=function(a){var e=this.htmlElements.find(;e&&(e.querySelector(".lp-recommendation-item-image").src=a.poster,e.querySelector(".lp-recommendation-item-title").innerHTML=a.title)},e.prototype.addRecommendations=function(o){var s=this,e=function(p){var m=o[p],e=document.createElement("div");e.className="lp-recommendation-item",e.setAttribute("data-capi-id",m.id);var n=document.createElement("div");n.className="img-container";var r=document.createElement("img");r.className="lp-recommendation-item-image",m.poster&&(r.src=m.poster),r.width=.4*t.getPlayer().el_.offsetWidth,r.height=16*r.width/9,n.append(r),e.appendChild(n);var l=document.createElement("h5");if(l.innerHTML=m.title,l.className="lp-recommendation-item-title",e.appendChild(l),t.element.appendChild(e),!1===m.fetched){r.src=k.a.get()+"img/fallback-916.jpg",l.innerHTML="...";var i={root:t.getPlayer().element};new IntersectionObserver(function(t,e){t.forEach(function(t){if(0<t.intersectionRatio){e.disconnect();var a=s.getService(Z.a.capi);a.ready().then(function(){a.getVideosById([m.id],s.container,V.a.RECOMMENDATION_KEY).then(function(t){if(m.fetched=!0,0<t.length){var a=t[0];l.innerHTML=a.title,r.src=a.poster,s.container.getPluginInstance(g.a.pluginName).then(function(t){t.view.recommendations.items[parseInt(p)+1].capiVideo=a}),m=a;var e=s.getService(Z.a.vidora);null==e||e.client.trackShown(a)}})})}})},i).observe(e)}else new IntersectionObserver(function(t,e){t.forEach(function(t){if(0<t.intersectionRatio){e.disconnect();var a=s.getService(Z.a.vidora);null==a||a.client.trackShown(m)}})}).observe(e);a.a.onClickOnly(e,function(){if(m.fetched){s.container.getPluginInstance(B.pluginName).then(;var t=s.getService(Z.a.vidora);null==t||t.client.trackClick(m),s.getService(Z.a.analytics).omniture.track([Q.a.SELECT_PLAYLIST])}}),t.htmlElements.push(e)},t=this;for(var n in o)e(n)},e.prototype.show=function(){for(var a,r=this.container.getService(Z.a.context),e=0,t=this.htmlElements;e<t.length;e++)a=t[e],a.style.display=a.getAttribute("data-capi-id")===r.capiVideo.id?"none":"block"},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.pluginName="LP_PLUGIN_RECOMMENDATIONS",e.className="lp-recommendations",e}(t.a),H=z(145),U=z(132),W=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),B=function(d){function e(e){var a=d.call(this,e)||this;a.scrollTop=0,a.muted=!1,a.muted="true"===localStorage.getItem(A.a.STORAGE_NAME),a.orchestrator=new H.a(a.container);var n=a.getService(Z.a.context);return(a.container.view.element.classList.contains("vms-vaafca")||!o.a.getCaptionStatus(a.container)&&n.isVertical())&&o.a.setCaptionStatus(!0,a.container),a.progressIndicator=new w(a.container),a.expand&&a.expand.expanded||a.setEvents(),a}return W(e,d),e.prototype.setEvents=function(){var u=this,e=this.getService(Z.a.context),m=this.container.getService(Z.a.lightningPlayerOrchestrator);if(e.isVertical()&&!r.a.isAmp()){U.a.fitInViewport(this.container);var t=this.getService(Z.a.eventManager);t.addListener(this.container,"playing",function(){u.captions.refreshState()}),t.addListener(this.container,"ready",function(){if(!e.isCarousel()||!e.isVvaafca()){u.canonicalVideo=e.capiVideo;var r=u.canonicalVideo.extendedMetadata.hasCaptions;u.mute=new A.a(u.container,u.container.bcPlayer().el_),-1<u.container.view.cssClasses.indexOf("vms-vaafca")&&localStorage.setItem(A.a.STORAGE_NAME,"true"),u.mute.appendTo(u.container.bcPlayer().el_),u.container.bcPlayer().muted("true"===localStorage.getItem(A.a.STORAGE_NAME)),u.container.bcPlayer().tech_.off("dblclick"),u.container.bcPlayer().removeTechControlsListeners_(),a.a.removeClass(u.container.view.element,"vms-mobile"),u.close=new v(u.container),new O.a(u.container).appendTo(u.container.bcPlayer().el_),u.captions=new I.a(u.container,r),u.captions.appendTo(u.container.bcPlayer().el_),e.isVvaafca()&&e.isCarousel()||Promise.resolve().then(z.bind(null,149)).then(function(t){var a=t.Description;u.description=new a(u.container),u.description.appendTo(u.container.bcPlayer().el_),u.description.refresh(e.capiVideo)}),new L.a(u.container).appendTo(u.container.bcPlayer().el_)}u.recommendations=new R(u.container),u.expand=new S(u.container),t.addCustomListener(u.container,n.a.CAPI_RELATED_FETCHED,function(e){u.related&&u.related.length||(u.related=e,u.container.getPluginInstance(s.a.pluginName).then(function(e){u.recommendations.appendTo(e.view.element)}),u.recommendations.addRecommendations(e),-1<u.container.view.cssClasses.indexOf("martini-fullscreen")&&u.expand.expand("carousel"))}),t.addListener(u.container,"pause",,t.addListener(u.container,"ended",function(){var e;u.container.getPluginInstance(i.a.pluginName).then(,u.container.getPluginInstance(l.a.pluginName).then(function(a){var e;null===(e=null==a?void 0:a.events)||void 0===e||e.cancelCountdown()}),u.description.element.classList.remove("expanded"),null===(e=u.description.element.querySelector(".seemore"))||void 0===e||e.classList.remove("seeless"),u.container.bcPlayer().el_.classList.remove("lp-description-expanded"),u.container.view.element.querySelector(".vms-description-overlay").classList.add("hidden-node")}),u.navigation=new p.a(u.container,u.container.view.wrapper),u.inactivity=new C(u.container),t.addCustomListener(u.container,c.a.EVENT_RECOMMENDATIONS_SET,function(){!u.expand.expanded||u.orchestrator.next||e.isCarousel()||u.orchestrator.getNext(!0)})}),t.addMultipleListener(this.container,["play","timeupdate"],function(){u.expand.expanded&&u.container.bcPlayer().pause()}),t.addCustomListener(this.container,E.b,function(){u.expand.expanded=!0,u.getService(Z.a.pageManager).pauseAll([u.container])}),t.addCustomListener(this.container,E.a,function(){var e;u.container.getService(Z.a.analytics).heartbeat.stopTracking=!1,window.scrollTo({top:u.scrollTop,left:0,behavior:"auto"});var t=1e3,a=setInterval(function(){0!=--t&&u.scrollTop!==window.scrollY||(U.a.fitInViewport(u.container),clearInterval(a))},1);u.expand.expanded=!1,null===(e=m.overlay.querySelector("."+T.a.CSS_CLASS))||void 0===e||e.remove(),m.removeOverlay()}),t.addListener(this.container,"fullscreenchange",function(){var e=u.container.bcPlayer();e.isFullscreen()&&(e.exitFullscreen(),u.expand.expand("vertical"))}),t.addCustomListener(this.container,f.e,function(){var e=document.querySelector("#"+u.getPlayer().id_+" .rp-end-state"),a=!!document.querySelector("#"+u.getPlayer().id_+" .lp-inactivity"),n=!!e&&"none"!==window.getComputedStyle(e).display;a?(u.inactivity.counter=1,u.inactivity.hideInactivityPanel(),m.current.autoNext(),u.close.element.style.display="none"):n?m.current.view.endState.watchAgain():u.togglePlay()}),t.addCustomListener(this.container,f.c,function(){var e="true"===o.a.getCaptionStatus(u.container);o.a.setCaptionStatus(!e,u.container),u.captions.refreshState()}),this.detectKeyboardEvents()}},e.prototype.togglePlay=function(){var a=this.getPlayer();if(a.paused()?a.play():a.pause(),a.ads.isAdPlaying())try{var e=a.ima3.adPlayer;e.paused()?e.play():e.pause()}catch(t){console.warn("Problem with adPlayer")}},e.prototype.detectKeyboardEvents=e.prototype.getPlayer=function(t){return void 0===t&&(t="current"),this.container.getService(Z.a.lightningPlayerOrchestrator)[t].bcPlayer||this.container.bcPlayer()},e.pluginName="PLUGIN_VERTICAL",e.CSS_CLASS=N.VERTICAL_PLAYER_CSS_CLASS,e}(t.a)},124:function(l,e,t){"use strict";t.d(e,"a",function(){return o});var d,n=t(8),r=t(66),a=t(0),i=(d=function(a,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}d(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=function(o){function e(t){var a=o.call(this,t,e.pluginName)||this;return a.createComponent(),a}return i(e,o),e.prototype.createComponent=function(){this.loader=document.createElement("div"),this.loader.className="vms-controls";var i=this.container.getService(a.a.environment),e=this.container.getService(a.a.context);if(i.browser.isMobile()||e.isVertical()){var t=new r.a;this.loader.appendChild(t.element)}else this.loader.innerHTML="<div class=\"vms-center\">\n                                <span class=\"vms-btn-loading\"></span>\n                            </div>";this.container.view.element.appendChild(this.loader)},e.pluginName="PLUGIN_LOADER",e}(n.a)},125:function(d,e,t){"use strict";t.d(e,"a",function(){return l});var p,m=t(23),r=t(28),a=t(32),o=t(0),n=t(8),i=(p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),l=function(l){function e(t){var a=l.call(this,t,e.pluginName)||this;return a.setEvents(),a}return i(e,l),e.prototype.getPlayer=function(t){return t.ads.isAdPlaying()&&t.ima3&&t.ima3.adPlayer||t},e.prototype.setEvents=function(){var l=this,e=this.getService(o.a.eventManager),s=this.getService(o.a.context);e.addCustomListener(this.container,r.a.EVENT_SCROLL_HIDDEN,function(){if(!s.preventViewabilityPause){var e=l.container.bcPlayer();e&&(s.wasPlaying=!!s.playing,l.getPlayer(e).pause())}}),e.addCustomListener(this.container,r.a.EVENT_SCROLL_VISIBLE,function(){var e=l.container.bcPlayer();e&&s.wasPlaying&&l.getPlayer(e).play()}),e.addCustomListener(this.container,r.a.EVENT_PAGE_HIDDEN,function(){if(!s.preventViewabilityPause){var e=l.container.bcPlayer();e&&(s.wasPlaying=!!s.playing,l.getPlayer(e).pause(),setTimeout(function(){a.a.playerVariant.variant===m.e&&l.getPlayer(e).play()},1e3))}}),e.addCustomListener(this.container,r.a.EVENT_PAGE_VISIBLE,function(){if(a.a.playerVariant.variant!==m.e){var e=l.container.getService(o.a.lightningPlayerOrchestrator),t=l.container.bcPlayer();!t||!s.wasPlaying||e.current&&e.current.bcPlayer||l.getPlayer(t).play()}})},e.pluginName="PLUGIN_VIEWABILITY",e}(n.a)},126:function(l,e,t){"use strict";t.d(e,"a",function(){return i});var d,p=t(0),n=t(15),a=t(8),r=(d=function(a,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}d(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),i=function(l){function s(e){var t=l.call(this,e,s.pluginName)||this,n=t.container.getService(p.a.eventManager),a=s.ATTEMPTS;return n.addListener(t.container,"ready",function(){var i=setInterval(function(){a--,(localStorage.getItem(s.STORAGE_ITEM_KEY)||0==a)&&(t.pushToGoogleTag(),clearInterval(i))},100),e=s.ATTEMPTS,n=setInterval(function(){e--,(-1<document.body.innerHTML.indexOf("https://getadmiral.com")||0===e)&&(t.pauseIfPopupDisplayed(),clearInterval(n))},100)}),t}return r(s,l),s.prototype.admiralEngaged=function(){var t=!1;try{var e=(localStorage.getItem(s.STORAGE_ITEM_KEY)||"").split(","),a=parseInt(e[4]);t=a&&0<a}catch(t){}return t},s.prototype.pushToGoogleTag=function(){this.admiralEngaged()&&(this.getService(p.a.context).admiralEngaged=!0)},s.prototype.pauseIfPopupDisplayed=function(){-1<document.body.innerHTML.indexOf("href=\"https://getadmiral.com")&&(this.container.bcPlayer().pause(),this.container.getPluginInstance(n.a.pluginName).then(function(t){t.events.pause()}))},s.pluginName="PLUGIN_ADMIRAL_ENGAGED",s.STORAGE_ITEM_KEY="v4ac1eiZr0",s.ATTEMPTS=100,s}(a.a)},127:function(d,e,t){"use strict";t.d(e,"a",function(){return s});var p,i=t(0),r=t(1),a=t(9),n=t(8),o=(p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),s=function(l){eturn o(d,l),d.prototype.setEvents=function(){var o=this,e=this.container.getService(i.a.eventManager);e.addListener(this.container,"loadedmetadata",function(){r.a.removeClass(o.container.view.element,d.CSS_CLASS_DVR)}),e.addListener(this.container,"play",function(){0>=o.container.player.videoDuration?r.a.addClass(o.container.view.wrapper,d.CSS_CLASS_LIVE):r.a.removeClass(o.container.view.wrapper,d.CSS_CLASS_LIVE),o.durationContainer&&r.a.addClass(o.durationContainer,"hidden")}),e.addListener(this.container,"timeupdate",function(){var t=o.container.bcPlayer().liveTracker;if((null==t?void 0:t.isLive())&&(r.a.addClass(o.container.view.element,d.CSS_CLASS_DVR),!o.markerAdded)){o.markerAdded=!0;var n=o.container.view.wrapper.querySelector(".vjs-live-display");n&&r.a.onClick(n,function(){o.container.bcPlayer().liveTracker&&(o.container.bcPlayer().liveTracker.seekToLiveEdge(),r.a.addClass(o.durationContainer,"hidden"))}),o.durationContainer=document.createElement("div"),o.durationContainer.className="vms-dvr-scrub-marker hidden",o.container.view.wrapper.appendChild(o.durationContainer);var l=o.getService(i.a.environment);l.getBrowser().isDesktop()||(e.addMultipleListener(o.container,["seeking","timeupdate"],function(){r.a.addClass(o.durationContainer,"hidden");var e=o.container.view.element.querySelector(".vjs-play-progress.vjs-slider-bar");e&&(o.durationContainer.style.left=e.clientWidth-(l.browser.isIOS()&&!l.browser.isMobile()?-120:50)+"px")}),e.addListener(o.container,"seeking",function(){r.a.removeClass(o.durationContainer,"hidden");var e=o.container.bcPlayer();o.durationContainer.innerHTML="-"+a.a.formatDuration(e.liveTracker.liveCurrentTime()-e.currentTime())}))}})},d.pluginName="PLUGIN_LIVE_STREAM",d.CSS_CLASS_DVR="vms-dvr",d.CSS_CLASS_LIVE="vjs-live-stream",d}(n.a)},128:function(m,e,t){"use strict";t.d(e,"a",function(){return d});var v,y=t(0),r=t(1),a=t(6),n=t(5),o=t(40),s=t(129),l=t(122),c=t(130),i=(v=function(a,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}v(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),d=function(d){function p(e){var t=d.call(this,document.createElement("div"))||this;t.mouseWheelScrolling=!1;var a=e.getService(y.a.environment);if(a.browser.isMobile()||a.browser.isMobileResolution())return t;t.element.className=p.CSS_CLASS,t.container=e,t.up=document.createElement("div"),t.up.className="lp-nav "+p.DISABLED_CSS_CLASS,t.up.innerHTML="<div class=\"lp-up\"></div>",t.down=document.createElement("div"),t.down.className="lp-nav "+p.DISABLED_CSS_CLASS,t.down.innerHTML="<div class=\"lp-down\"></div>",t.element.appendChild(t.up),t.element.appendChild(t.down),t.setEvents();var n=t.container.getService(y.a.lightningPlayerOrchestrator);return t.appendTo(n.overlay),t.hide(),t}return i(p,d),p.prototype.show=function(){this.element.style.display="flex"},p.prototype.setEvents=function(){var a=this,e=this.container.getService(y.a.eventManager),n=this.container.getService(y.a.lightningPlayerOrchestrator);e.addCustomListener(this.container,o.b,function(){a.show()}),r.a.onClickOnly(this.up,function(){a.goToPreviousVideo()}),r.a.onClickOnly(this.down,function(){a.goToNextVideo()}),n.overlay.addEventListener("wheel",function(e){n.vudooOverlayOpen||(e.preventDefault(),a.mouseWheelScrolling||(a.mouseWheelScrolling=!0,setTimeout(1500),0<e.deltaY?a.goToNextVideo():a.goToPreviousVideo()))},{passive:!1}),e.addCustomListener(this.container,l.a.EVENT_REFRESH_VIEW,function(){a.refresh()}),e.addCustomListener(this.container,c.a.EVENT_USER_SWIPE_UP,function(){r.a.addClass(a.down,p.DISABLED_CSS_CLASS)}),e.addCustomListener(this.container,c.a.EVENT_NEXT_LOADED,function(){r.a.removeClass(a.down,p.DISABLED_CSS_CLASS)}),e.addCustomListener(this.container,c.a.EVENT_USER_SWIPE_DOWN,function(){r.a.addClass(a.up,p.DISABLED_CSS_CLASS)}),e.addCustomListener(this.container,c.a.EVENT_PREV_LOADED,,e.addCustomListener(this.container,o.a,,e.addCustomListener(this.container,s.a,function(){a.goToNextVideo()}),e.addCustomListener(this.container,s.b,function(){a.goToPreviousVideo()})},p.prototype.goToNextVideo=function(){var t=this.container.getService(y.a.eventManager),e=this.container.getService(y.a.lightningPlayerOrchestrator);if(!this.down.classList.contains(p.DISABLED_CSS_CLASS)&&e.hasNext){if(e.current.bcPlayer.ima3.adsManager&&0<e.current.bcPlayer.ima3.adsManager.getRemainingTime()){var n=e.current.view.element.nextElementSibling,r=e.current.view.element;n=r.cloneNode(!0),r.parentNode.insertBefore(n,r.nextSibling),n.style.opacity="0",e.current.view.userClickedToPlay=!0}else e.next&&(e.next.view.userClickedToPlay=!0);t.trigger(this.container,l.a.EVENT_SWIPE_UP,300),t.trigger(this.container,l.a.EVENT_ON_INTERACT),t.trigger(this.container,p.EVENT_NAVIGATION_CLICK_DOWN)}},p.prototype.goToPreviousVideo=function(){var t=this.container.getService(y.a.eventManager),e=this.container.getService(y.a.analytics),n=this.container.getService(y.a.lightningPlayerOrchestrator);!r.a.hasClass(this.up,p.DISABLED_CSS_CLASS)&&n.hasPrev&&(n.current.bcPlayer.ima3.adsManager&&0<n.current.bcPlayer.ima3.adsManager.getRemainingTime()&&e.omniture.track([a.a.AD_SKIPPED]),n.previous&&(n.current.view.autoplayEventTracked=!0,n.current.view.videoAutoplay=null,n.current.view.userClickedToPlay=null,n.previous.view.userClickedToPlay=!0),t.trigger(this.container,l.a.EVENT_SWIPE_DOWN,0),t.trigger(this.container,l.a.EVENT_ON_INTERACT),t.trigger(this.container,p.EVENT_NAVIGATION_CLICK_UP))},p.prototype.refresh=function(){var t=this.container.getService(y.a.lightningPlayerOrchestrator),e=this.container.getService(y.a.eventManager);void 0!==t.previous&&null!==t.previous&&t.hasPrev?r.a.removeClass(this.up,p.DISABLED_CSS_CLASS):(r.a.addClass(this.up,p.DISABLED_CSS_CLASS),e.trigger(this.container,p.EVENT_BACK_TO_FIRST)),void 0!==t.next&&null!==t.next&&t.hasNext?r.a.removeClass(this.down,p.DISABLED_CSS_CLASS):t.index===t.carouselLength-1&&0!==t.carouselLength&&r.a.addClass(this.down,p.DISABLED_CSS_CLASS),t.vudooOverlayOpen&&(r.a.addClass(this.up,p.DISABLED_CSS_CLASS),r.a.addClass(this.down,p.DISABLED_CSS_CLASS))},p.prototype.appendTo=function(t){t.appendChild(this.element)},p.CSS_CLASS="lp-navigation",p.DISABLED_CSS_CLASS="disabled",p.EVENT_RECOMMENDATIONS_DEPLETED="EVENT_LP_RECO_DEPLETED",p.EVENT_BACK_TO_FIRST="EVENT_LP_BACK_TO_FIRST",p.EVENT_NAVIGATION_CLICK_DOWN="LP_EVENT_NAVIGATION_CLICK_DOWN",p.EVENT_NAVIGATION_CLICK_UP="LP_EVENT_NAVIGATION_CLICK_UP",p}(n.a)},129:130:function(a,e,t){"use strict";t.d(e,"a",function(){return n});var n=)},131:function(g,e,t){"use strict";t.d(e,"a",function(){return h});var _,n=t(8),r=t(5),a=(_=function(a,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}_(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=function(n){function e(){var t=n.call(this,document.createElement("div"))||this;return t.element.className=e.CSS_CLASS,t.element.style.display="none",t.message=document.createElement("div"),t.message.className="message",t.message.innerHTML="<p><strong>Video paused due to user inactivity</strong></p><p>Continue watching?</p>",t.button=document.createElement("button"),t.button.innerText="Yes",t.element.appendChild(t.message),t.message.appendChild(t.button),t}return a(e,n),e.prototype.attach=function(t){t.appendChild(this.element)},e.CSS_CLASS="vms-user-inactive",e}(r.a),i=t(3),s=t(0),l=t(1),c=t(11),d=t(45),p=t(53),u=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),v=function(a){function r(e,r){var n=a.call(this,e)||this;return n.watched=0,n.plugin=r,n.setEvents(),n}return u(r,a),r.prototype.setEvents=function(){var t=this,e=this.getService(s.a.eventManager);e.addListener(this.container,"ready",function(){t.plugin.view.attach(t.container.view.wrapper),t.addUserEvents()}),e.addListener(this.container,"loadedmetadata",function(){t.watched++,t.watched===r.PLAY_LIMIT&&(setTimeout(500),t.plugin.view.show())}),l.a.onClickOnly(this.plugin.view.button,function(){t.plugin.view.hide(),t.container.bcPlayer().play(),t.reset()}),e.addCustomListener(this.container,r.EVENT_RESET_USER_INACTIVITY,function(){t.reset()})},r.prototype.reset=r.prototype.addUserEvents=function(){var a=this,e=this.getService(s.a.eventManager);e.addCustomListener(this.container,c.a.UP_NEXT_CLICK,function(){a.reset()}),e.addCustomListener(this.container,d.a.ON_SKIP_EVENT,function(){a.reset()}),e.addCustomListener(this.container,p.a.EVENT_ENDSTATE_METADATA_CLICK,function(){a.reset()}),e.addListener(this.container,"seek",function(){a.reset()}),this.container.bcPlayer().controlBar.playToggle&&l.a.onFutureClick(this.container.bcPlayer().controlBar.playToggle.el(),function(){a.reset()})},r.EVENT_RESET_USER_INACTIVITY="EVENT_RESET_USER_INACTIVITY",r.PLAY_LIMIT=5,r}(i.a),m=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),h=function(a){function e(t){var n=a.call(this,t,e.pluginName)||this;return n.container.getService(s.a.context).isVertical()||(n.view=new o(t),n.events=new v(t,n)),n}return m(e,a),e.pluginName="PLUGIN_USER_INACTIVITY",e}(n.a)},132:function(a,e,t){"use strict";var p=Math.min;t.d(e,"a",function(){return n});var m=t(0),n=function(){eturn v.getMaxHeight=function(e){var t,n=1*e.view.element.offsetWidth/v.RATIO,r=e.getService(m.a.environment),a=window.document,i=a.querySelector(".main-header-content.mini-nav")||a.querySelector(".navigation")||a.querySelector(".header__top")||a.querySelector("header"),o=(null==i?void 0:i.offsetHeight)||0,s=(null===(t=window.document.getElementById("fixed-ads"))||void 0===t?void 0:t.offsetHeight)||0,l=v.PERCENT_HEIGHT*(this.getCorrectViewportHeight()-o-s),c=n?p(n,l):l;return r.browser.isDesktop()?p(c,v.DESKTOP_HEIGHT_LIMIT):c},v.fitInViewport=function(e){try{var t=v.RATIO;e.view.element.style.width="100%";var a=v.getMaxHeight(e),n=a*t||e.view.element.parentElement.offsetWidth*t;n>this.getCorrectViewportWidth()&&(a=(n=this.getCorrectViewportWidth()-50)*(1/t)),n<v.MINIMUM_WIDTH&&(a=(n=v.MINIMUM_WIDTH)*(1/t)),e.view.element.style.height=a+"px",e.view.element.style.width=n+"px",e.view.element.style.setProperty("--martini-player-width",n+"px"),e.view.element.style.setProperty("--martini-player-height",a+"px"),262>n?e.view.element.style.setProperty("--martini-player-title-lines","1"):e.view.element.style.setProperty("--martini-player-title-lines","3")}catch(t){console.warn(t)}},v.getCorrectViewportWidth=function(){return+(window.innerWidth&&document.documentElement.clientWidth?p(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth)},v.getCorrectViewportHeight=function(){return+(window.innerHeight&&document.documentElement.clientHeight?p(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight)},v.PERCENT_HEIGHT=.7,v.DESKTOP_HEIGHT_LIMIT=1e3,v.MINIMUM_WIDTH=224,v.RATIO=9/16,v}()},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return VudooInteractive});var extendStatics,_Service_ServiceNameInterface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_Plugin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_Vertical_LightningPlayer_View__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(122),_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(145),__extends=(extendStatics=function(a,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}extendStatics(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),VudooInteractive=function(_super){function VudooInteractive(container,lightningPlayer){var _this=_super.call(this,container)||this;return _this.isApplicable=function(){return"undefined"!=typeof videojs&&_this.lightningPlayer&&_this.lightningPlayer.bcPlayer&&_this.lightningPlayer.capiVideo&&_this.lightningPlayer.capiVideo.platformId&&_this.lightningPlayer.capiVideo.videoTypes&&_this.lightningPlayer.capiVideo.videoTypes.includes(VudooInteractive.INTERACTIVE_VIDEO_TYPE)},_this.postPluginSetup=function(){_this.isApplicable()&&_this.invokePluginForPlayer().then(function(){_this.subscribeEvents()})},_this.setupPlugin=function(){return new Promise(function(resolve,reject){eval("import('"+_this.vudooBaseUrl+"/plugins/brightcove/js')").then(function(t){_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.VudooInteractivePluginRegistered||(videojs.registerPlugin("vudooPlugin",t.vudooPlugin),_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.vudooPluginInstance=t.vudooPlugin,_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.VudooInteractivePluginRegistered=!0),resolve(t.vudooPlugin)}).catch(})},_this.invokePluginForPlayer=function(){return new Promise(function(t){_this.lightningPlayer.view.vudooLoaded||(_this.lightningPlayer.bcPlayer.vudooPlugin({vudooBaseURL:_this.vudooBaseUrl,brightcoveVideoId:_this.lightningPlayer.capiVideo.platformId.split("-")[1]}),_this.lightningPlayer.view.vudooLoaded=!0),t(!0)})},_this.eventCallback=_this.logEvent=_this.subscribeEvents=function(){_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.vudooInteractiveEventsSubscribed||(["pin_click","view_id","embed_id","interactions_ready","firstplay","checkpoint_reach","overlay_open","overlay_close","overlay_button_click","shoppable_open","shoppable_close"].forEach(,_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.vudooPluginInstance.subscribe("overlay_open",_this.handleOverlayOpen),_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.vudooPluginInstance.subscribe("overlay_close",_this.handleOverlayClose),_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.vudooInteractiveEventsSubscribed=!0),_this.lightningPlayer&&_this.lightningPlayer.bcPlayer.one("timeupdate",function(){_this.lightningPlayer.view.element.classList.contains(VudooInteractive.CSS_CLASS_HIDE_INTERACTIVES)&&_this.lightningPlayer.view.element.classList.remove(VudooInteractive.CSS_CLASS_HIDE_INTERACTIVES)})},_this.handleOverlayOpen=function(){var a=_this.container.getService(_Service_ServiceNameInterface__WEBPACK_IMPORTED_MODULE_0__.a.lightningPlayerOrchestrator),e=_this.container.getService(_Service_ServiceNameInterface__WEBPACK_IMPORTED_MODULE_0__.a.eventManager);if(a.vudooOverlayOpen=!0,_this.lightningPlayer){clearInterval(a.retryInverval),_this.lightningPlayer.view.element.querySelector(".lp-pause-area").classList.remove("hidden-node");try{_this.lightningPlayer.bcPlayer.pause()}catch(t){console.log("*** no pause method for bcPlayer")}}e.trigger(_this.container,_Vertical_LightningPlayer_View__WEBPACK_IMPORTED_MODULE_2__.a.EVENT_REFRESH_VIEW)},_this.handleOverlayClose=function(){var a=_this.container.getService(_Service_ServiceNameInterface__WEBPACK_IMPORTED_MODULE_0__.a.lightningPlayerOrchestrator),e=_this.container.getService(_Service_ServiceNameInterface__WEBPACK_IMPORTED_MODULE_0__.a.eventManager);a.vudooOverlayOpen=!1;try{_this.lightningPlayer.bcPlayer.play()}catch(t){console.log("*** no play method for bcPlayer")}e.trigger(_this.container,_Vertical_LightningPlayer_View__WEBPACK_IMPORTED_MODULE_2__.a.EVENT_REFRESH_VIEW)},_this.lightningPlayer=lightningPlayer,_this.vudooBaseUrl=VudooInteractive.VUDOO_PROD_ENV,_this.lightningPlayer&&(_this.lightningPlayer.view.element.classList.add(VudooInteractive.CSS_CLASS_HIDE_INTERACTIVES),_this.isApplicable()?_Vertical_Orchestrator__WEBPACK_IMPORTED_MODULE_3__.a.VudooInteractivePluginRegistered?_this.postPluginSetup():_this.setupPlugin().then(function(){_this.postPluginSetup()}):_this.container.log("vudoo vjs not found")),_this}return __extends(VudooInteractive,_super),VudooInteractive.VUDOO_PROD_ENV="https://vudoo.io",VudooInteractive.INTERACTIVE_VIDEO_TYPE="interactive",VudooInteractive.CSS_CLASS_HIDE_INTERACTIVES="vms-hide-vudoo-interactives",VudooInteractive.pluginName="VUDOO_INTERACTIVE",VudooInteractive}(_Plugin__WEBPACK_IMPORTED_MODULE_1__.a)},134:function(S,e,t){"use strict";t.d(e,"a",function(){return _});var P,n=t(8),r=t(5),a=(P=function(a,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}P(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=function(l){function e(){var t=l.call(this,document.createElement("div"))||this;t.element.className=e.CSS_NAME;var n=document.createElement("label");n.innerHTML="SHARE",t.element.appendChild(n),t.label=n;var i=document.createElement("span");i.className="rp-share-fb",t.element.appendChild(i),t.facebook=i;var r=document.createElement("span");r.className="rp-share-twitter",t.element.appendChild(r),t.twitter=r;var a=document.createElement("span");return a.className="rp-share-mail",t.element.appendChild(a),t.mail=a,t}return a(e,l),e.prototype.attach=function(t){t.appendChild(this.element)},e.CSS_NAME="rp-share",e}(r.a),i=t(3),s=t(0),l=t(1),c=t(6),d=t(41),p=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),u=function(a){eturn p(e,a),e.prototype.set=function(a,e,t){return this.title=e,this.url="facebook"===a?"http://www.facebook.com/sharer.php?u="+encodeURIComponent(t)+"&t="+this.title:"http://twitter.com/share?url="+encodeURIComponent(t)+"&text="+this.title,this.title=e,this},e.prototype.show=function(){var a=window.innerWidth||document.documentElement.clientWidth||screen.width,e=window.innerHeight||document.documentElement.clientHeight||screen.height,t=(a-550)/2+(void 0===window.screenLeft?screen.left:window.screenLeft),n=(e-300)/2+(void 0===window.screenTop?screen.top:window.screenTop),i=window.open(this.url,"standalone"in window.navigator&&window.navigator.standalone?"_blank":"Share","width=550px,height=300px,left="+t+"px,top="+n+"px,resizeable,scrollbars");i&&i.focus&&i.focus()},e}(i.a),v=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),m=function(a){function r(e,r){var n=a.call(this,e)||this;return n.view=r,n.popup=new u(e),n.setEvents(),n}return v(r,a),r.prototype.setEvents=function(){var a=this;this.getService(s.a.eventManager).addSingleEventListener(this.container,"ready",function(){a.container.getPluginInstance(d.a.pluginName).then(});var e=this.getService(s.a.analytics);l.a.onClick(this.view.facebook,function(){e.omniture.track([c.a.SOCIAL_SHARING],{eVar43:r.FACEBOOK}),a.popup.set(r.FACEBOOK,a.getTitle(),a.getUrl()).show()}),l.a.onClick(this.view.twitter,function(){e.omniture.track([c.a.SOCIAL_SHARING],{eVar43:r.TWITTER}),a.popup.set(r.TWITTER,a.getTitle(),a.getUrl()).show()}),l.a.onClick(this.view.mail,function(){var t=document.createElement("a");t.setAttribute("href","mailto:?subject=Watch: "+a.getTitle()+"&body=I recommend you watch "+a.getTitle()+", watch it here "+a.getUrl()),t.setAttribute("target","_blank"),t.click(),e.omniture.track([c.a.SOCIAL_SHARING],{eVar43:r.MAIL})})},r.prototype.getTitle=function(){var a=this.container.getService(s.a.lightningPlayerOrchestrator),e=this.getService(s.a.context).capiVideo.title;a.current.view&&(e=a.current.view.player.capiVideo.title?a.current.view.player.capiVideo.title:e);var t=document.createElement("div");return t.innerHTML=e,t.textContent},r.prototype.getUrl=function(){var a=this.container.getService(s.a.lightningPlayerOrchestrator),e=this.container.getService(s.a.context),t=this.getService(s.a.environment).pageUrl;return t=a.current.view?a.current.view.player.getVideoUrl()?a.current.view.player.getVideoUrl():t:e.capiVideo.vaafcaUrl?e.capiVideo.vaafcaUrl:t},r.FACEBOOK="facebook",r.TWITTER="twitter",r.MAIL="email",r}(i.a),h=t(2),y=t(4),g=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),_=function(a){function e(t){var n=this;return-1===y.a.getDomain().indexOf(h.a.KIDSNEWS)&&((n=a.call(this,t,e.pluginName)||this).view=new o,n.events=new m(t,n.view)),n}return g(e,a),e.pluginName="PLUGIN_SHARING_LINKS",e}(n.a)},135:function(p,e,t){"use strict";t.d(e,"a",function(){return s});var m,v=t(0),r=t(1),a=t(8),n=t(129),i=(m=function(a,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}m(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=function(a){function o(e,t){var n=a.call(this,e,o.pluginName)||this;return n.element=document.createElement("div"),n.element.className=o.className,n.element.innerHTML=o.defaultContent,n.appendTo(t),n.setEvents(),n}return i(o,a),o.prototype.setEvents=function(){var a=this,e=new IntersectionObserver(function(e,r){e.forEach(function(e){0<e.intersectionRatio&&(a.show(),r.disconnect())})},{root:null}),t=this.getService(v.a.eventManager);this.container.getService(v.a.context).isVvaafca()?this.show():t.addListener(this.container,"playing",},o.prototype.appendTo=function(t){t.appendChild(this.element)},o.prototype.hide=o.prototype.show=function(){var t=this;null===localStorage.getItem(o.STORAGE_NAME)&&"true"===localStorage.getItem(s.STORAGE_NAME)&&(localStorage.setItem(o.STORAGE_NAME,"true"),r.a.addClass(this.element,"lp-mute-tooltip__active"),setTimeout(function(){t.hide()},3e3))},o.prototype.getPlayer=function(){return this.container.getService(v.a.lightningPlayerOrchestrator).current.bcPlayer||this.container.bcPlayer()},o.pluginName="LP_PLUGIN_MUTE_TOOLTIP",o.STORAGE_NAME="vms-lp-mute-tooltip",o.className="lp-mute-tooltip",o.defaultContent="Click to unmute",o}(a.a),l=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),s=function(a){function s(e,t){var n=a.call(this,e,s.pluginName)||this;return n.muted=!1,n.element=document.createElement("div"),null===localStorage.getItem(s.STORAGE_NAME)&&localStorage.setItem(s.STORAGE_NAME,"true"),n.element.className=s.className,"true"===localStorage.getItem(s.STORAGE_NAME)&&n.element.classList.add("lp-muted"),n.tooltip=new o(e,t),n.setEvents(),n}return l(s,a),s.prototype.getPlayer=function(t){return void 0===t&&(t="current"),this.container.getService(v.a.lightningPlayerOrchestrator)[t].bcPlayer||this.container.bcPlayer()},s.prototype.toggleMute=function(){var t,e,n=this.container.getService(v.a.eventManager),r="true"===localStorage.getItem(s.STORAGE_NAME);(r=!r)?(localStorage.setItem(s.STORAGE_NAME,"true"),this.tooltip.show(),n.trigger(this.container,s.EVENT_ON_MUTE_TOGGLE,!0)):(localStorage.setItem(s.STORAGE_NAME,"false"),this.tooltip.hide(),n.trigger(this.container,s.EVENT_ON_MUTE_TOGGLE,!1));var i=this.getPlayer();i.muted(r),i.ima3&&i.ima3.adPlayer&&i.ima3.adsManager&&(null===(e=null===(t=i.ima3)||void 0===t?void 0:t.adPlayer)||void 0===e||e.muted(r)),this.updateMuteIconStatus(),this.getService(v.a.analytics).omniture.events.trackMuteStatus(r)},s.prototype.updateMuteIconStatus=function(t){var e,a;void 0===t&&(t="current");var n=this.container.getService(v.a.lightningPlayerOrchestrator);this.getPlayer(t).muted()?(n[t].view?(r.a.addClass(null===(e=n[t])||void 0===e?void 0:e.view.mute.element,"lp-muted"),n[t].view.mute.tooltip.show()):r.a.addClass(this.element,"lp-muted"),localStorage.setItem(s.STORAGE_NAME,"true")):(n[t].view?(r.a.removeClass(null===(a=n[t])||void 0===a?void 0:a.view.mute.element,"lp-muted"),n[t].view.mute.tooltip.hide()):r.a.removeClass(this.element,"lp-muted"),localStorage.setItem(s.STORAGE_NAME,"false"))},s.prototype.setEvents=function(){var t=this;this.getPlayer().on("play",function(){!0==("true"===localStorage.getItem(s.STORAGE_NAME))?t.element.classList.add("lp-muted"):t.element.classList.remove("lp-muted")}),r.a.onClickOnly(this.element,function(){t.toggleMute()}),this.container.getService(v.a.eventManager).addCustomListener(this.container,n.d,},s.prototype.appendTo=function(t){t.appendChild(this.element)},s.pluginName="LP_PLUGIN_MUTE",s.className="lp-mute",s.EVENT_ON_MUTE_TOGGLE="EVENT_LP_MUTE_TOGGLE",s.STORAGE_NAME="vms-lp-mute",s}(a.a)},136:function(l,e,t){"use strict";t.d(e,"a",function(){return r});var s,d=t(0),n=t(8),a=(s=function(a,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}s(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),r=function(r){function e(t){var a=r.call(this,t,e.pluginName)||this;return a.setEvents(),a}return a(e,r),e.prototype.setEvents=function(){var o=this,e=this.getService(d.a.environment),l=this.getService(d.a.context),t=this.getService(d.a.eventManager);t.addListener(this.container,"ready",function(){var t;if(!e.browser.isIOS()&&!l.ssai){var n=o.container.bcPlayer(),r=n.ima3&&n.ima3.adControlBar&&(null===(t=n.ima3.adControlBar)||void 0===t?void 0:t.fullscreenToggle);r&&r.addClass("active")}}),t.addListener(this.container,"ima3-started",function(){var t;if(e.browser.isIOS()&&!l.ssai){var n=o.container.bcPlayer(),r=n.ima3&&n.ima3.adControlBar&&(null===(t=n.ima3.adControlBar)||void 0===t?void 0:t.fullscreenToggle);r&&r.removeClass("active")}}),t.addListener(this.container,["adserror","ads-allpods-completed","ads-ad-skipped","adtimeout"],function(){var e,t,n,r=o.container.bcPlayer();l.ssai||null===(t=null===(e=r.ima3.adControlBar)||void 0===e?void 0:e.fullscreenToggle)||void 0===t||t.addClass("active"),null===(n=r.controlBar.fullscreenToggle)||void 0===n||n.addClass("active")})},e.pluginName="PLUGIN_IOS_FULLSCREEN_ADS",e}(n.a)},137:function(l,e,t){"use strict";t.d(e,"a",function(){return i});var s,n=t(0),r=t(29),a=(s=function(a,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}s(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),i=function(r){function e(t){var a=r.call(this,t,e.pluginName)||this;return a.isApplicable()&&a.setEvents(),a}return a(e,r),e.prototype.setEvents=function(){var a=this;this.getService(n.a.eventManager).addListener(this.container,"ended",},e.pluginName="PLUGIN_MOBILE_FULLSCREEN",e}(r.a)},138:function(d,e,t){"use strict";t.d(e,"a",function(){return s});var p,n=t(10),r=t(0),a=t(8),i=t(1),o=(p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),s=function(a){eturn o(e,a),e.prototype.setEvents=function(){var a=this,e=this.container.getService(r.a.eventManager);e.addCustomListener(this.container,n.a.BC_READY,function(){var o=a.container.getService(r.a.context);e.addListener(a.container,"ima3-started",function(){if(!o.adsDisabled){var e=a.container.player.getBCPlayer();e&&e.ima3&&!a.adInterval&&(a.adInterval=setInterval(function(){var t;(null===(t=e.ima3.adsManager)||void 0===t?void 0:t.getAdSkippableState())&&(a.skipButton=document.createElement("div"),a.skipButton.className="vms-skip-button",a.container.view.wrapper.appendChild(a.skipButton),clearInterval(a.adInterval),a.adInterval=null,i.a.onClick(a.skipButton,function(){var t;e.play(),null===(t=e.ima3.adsManager)||void 0===t||t.skip(),a.removeButton()}))},500))}}),e.addMultipleListener(a.container,["ima3-started","play","ended","ima3-all-ads-completed"],function(){a.removeButton()})})},e.prototype.removeButton=function(){try{this.container.view.wrapper.removeChild(this.skipButton)}catch(t){}this.skipButton=null},e.pluginName="PLUGIN_SKIPPABLE_AD",e}(a.a)},139:function(l,e,t){"use strict";t.d(e,"a",function(){return i});var d,n=t(8),p=t(0),a=t(1),r=(d=function(a,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}d(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),i=function(o){function e(t){var a=o.call(this,t,e.pluginName)||this;return a.setEvents(),a}return r(e,o),e.prototype.setEvents=function(){var o=this,e=this.getService(p.a.eventManager),d=this.getService(p.a.context);e.addListener(this.container,"ima3-started",function(){if(!o.added){var e=o.container.bcPlayer(),t=e.ima3.adControlBar.currentTimeDisplay.el(),n=e.controlBar.CustomControlSpacer.el(),r=e.ima3.adControlBar.timeDivider.el(),i=e.ima3.adControlBar.durationDisplay.el(),s=o.getService(p.a.environment).browser;if(s.isIpad()&&(e.ima3.adControlBar.el_.appendChild(t),t.style.display="block",e.ima3.adControlBar.el_.appendChild(r),r.style.display="block",e.ima3.adControlBar.el_.appendChild(i),i.style.display="block"),s.isDesktop()&&!d.useMobileUi()){var l=e.ima3.adControlBar.fullscreenToggle.el_;e.ima3.adControlBar.el_.insertBefore(t,l),t.style.display="block",e.ima3.adControlBar.el_.insertBefore(r,l),r.style.display="block",e.ima3.adControlBar.el_.insertBefore(i,l),i.style.display="block",a.a.addClass(n,"vms-spacer-sticky-ad"),e.ima3.adControlBar.el_.insertBefore(n,l)}o.added=!0}})},e.pluginName="PLUGIN_DURATION_DISPLAY",e}(n.a)},140:function(l,e,t){"use strict";t.d(e,"a",function(){return r});var s,n=t(5),d=t(0),a=(s=function(a,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}s(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),r=function(l){function p(e,t){var n=l.call(this,document.createElement("div"))||this;n.animate=!0,n.element.className=p.CSS_CLASS,n.lightning=t;var r=document.createElement("div");r.classList.add("vms-swipe-animation__wrapper");var a=document.createElement("div");a.classList.add("vms-swipe-animation__circle");var i=document.createElement("div");return i.classList.add("vms-swipe-animation__hand"),r.appendChild(i),r.appendChild(a),n.element.appendChild(r),n.container=e,n.setEvents(),n}return a(p,l),p.prototype.setAnimation=function(){sessionStorage.setItem(p.STORAGE,"true");var t=this.container.getService(d.a.lightningPlayerOrchestrator);this.appendTo(t.overlay),this.animate=!1},p.prototype.setEvents=function(){var u=this,e=this.container.getService(d.a.lightningPlayerOrchestrator),n=this.container.getService(d.a.environment),i=this.container.getService(d.a.context);this.lightning.bcPlayer.one("play",function(){var r=null!==sessionStorage.getItem(p.STORAGE),d=null,o=0,c=u.lightning.bcPlayer.duration();u.lightning.bcPlayer.on("timeupdate",function(){var s=u.lightning.bcPlayer.currentTime(),t=u.lightning.bcPlayer.duration();d||(d=s,c=t-s),o=s-d,30<c&&15==Math.round(o)&&u.animate&&(n.browser.isMobile()||n.browser.isIpad())&&i.hasRecommendations&&e.next&&!r&&u.setAnimation()})})},p.prototype.appendTo=function(t){t.appendChild(this.element)},p.CSS_CLASS="vms-swipe-animation",p.STORAGE="vms.swipeup.shown",p}(n.a)},141:function(d,e,t){"use strict";t.d(e,"a",function(){return o});var p,u=t(0),r=t(1),a=t(57),n=t(8),i=(p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=function(o){function e(t,n,i){var r=o.call(this,t,e.pluginName)||this;return r.lightning=null,r.enabled=!1,r.hasCaptions=!1,r.element=document.createElement("div"),r.element.className=e.className,r.lightning=i,r.hasCaptions=n,r.setState(),r.setEvents(),r}return i(e,o),e.prototype.getPlayer=function(){return this.container.getService(u.a.lightningPlayerOrchestrator).current.bcPlayer||this.container.bcPlayer()},e.prototype.refreshState=function(){var o,e=this.container.getService(u.a.lightningPlayerOrchestrator);o=this.getPlayer().el_.closest(".vms-vertical-overlay")?e.current.view.captions.element:this.element;var t="true"===a.a.getCaptionStatus(this.container);t?r.a.addClass(o,"active"):r.a.removeClass(o,"active");for(var n,l=0,i=this.getPlayer().textTracks().tracks_;l<i.length;l++)if(n=i[l],"subtitles"===n.kind){n.mode=t?"showing":"disabled";break}},e.prototype.setState=function(){this.hasCaptions?r.a.removeClass(this.element,"cc-disabled"):r.a.addClass(this.element,"cc-disabled")},e.prototype.getState=e.prototype.setEvents=function(){var n=this;this.getPlayer().on("play",function(){n.getPlayer().one("timeupdate",}),this.getPlayer().on("loadedmetadata",function(){n.refreshState()}),r.a.onClickOnly(this.element,function(){var e="true"===a.a.getCaptionStatus(n.container);a.a.setCaptionStatus(!e,n.container),n.refreshState()})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.pluginName="LP_PLUGIN_CAPTIONS",e.className="lp-captions cc-disabled",e}(n.a)},142:function(l,e,t){"use strict";t.d(e,"a",function(){return a});var s,n=t(8),r=(s=function(a,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}s(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),a=function(a){function e(t,n){var i=a.call(this,t,e.pluginName)||this;return i.element=document.createElement("div"),i.element.className=e.className,i.element.innerHTML="",i.lightning=n,i.setEvents(),i}return r(e,a),e.prototype.checkDisplay=e.prototype.getPlayer=function(){var t;return(null===(t=this.lightning)||void 0===t?void 0:t.bcPlayer)||this.container.bcPlayer()},e.prototype.setEvents=function(){var t=this;this.checkDisplay(),this.getPlayer().on("play",function(){t.checkDisplay()})},e.prototype.hide=function(){this.element.style.display="none"},e.prototype.show=e.prototype.appendTo=function(t){t.appendChild(this.element)},e.prototype.shouldDisplay=function(){return this.lightning?0>=this.lightning.capiVideo.duration:0>=this.container.player.videoDuration},e.pluginName="LP_PLUGIN_LIVE",e.className="lp-live",e}(n.a)},143:function(l,e,t){"use strict";t.d(e,"a",function(){return i});var d,p=t(0),n=t(1),a=t(8),r=(d=function(a,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}d(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),i=function(a){function e(t,n){var i=a.call(this,t,e.pluginName)||this;return i.element=document.createElement("div"),i.element.className=e.className,i.lightning=n,i.setEvents(),i}return r(e,a),e.prototype.getPlayer=function(){var t;return(null===(t=this.lightning)||void 0===t?void 0:t.bcPlayer)||this.container.bcPlayer()},e.prototype.setEvents=function(){var r=this;n.a.onClickOnly(this.element,function(){var e=r.container.getService(p.a.lightningPlayerOrchestrator);if(e.current.view){e.current.view.pauseUntilInteraction=!1;var t=e.current.view.element.querySelector(".vjs-ima3-ad-container");t&&(t.style.pointerEvents="all"),e.current.view.element.classList.remove("vms-force-pause")}var n=r.getPlayer();if(n.paused()?n.play().catch(:n.pause(),r.getPlayer().ads.isAdPlaying())try{var i=r.getPlayer().ima3.adPlayer;i.paused()?i.play():i.pause()}catch(t){console.warn("Problem with adPlayer")}})},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.pluginName="LP_PLUGIN_PAUSE_AREA",e.className="lp-pause-area",e}(a.a)},144:function(V,e,t){"use strict";var k=Math.round;t.d(e,"a",function(){return f});var x,D=t(7),r=t(10),M=t(0),a=t(8),n=t(3),o=t(4),i=(x=function(a,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}x(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),l=function(a){eturn i(e,a),e.prototype.getS3Url=function(){return"prod"===this.container.getService(M.a.environment).getEnvName()?e.PROD_S3_URL:e.NON_PROD_S3_URL},e.prototype.getLambdaUrl=function(){return"prod"===this.container.getService(M.a.environment).getEnvName()?e.PROD_LAMBDA_URL:e.NON_PROD_LAMBDA_URL},e.NON_PROD_LAMBDA_URL="https://kk2v1j15q2.execute-api.ap-southeast-2.amazonaws.com/default/video-live-worm",e.NON_PROD_S3_URL="https://video-live-worm.s3.ap-southeast-2.amazonaws.com",e.PROD_S3_URL="https://video-live-worm-prod.s3.ap-southeast-2.amazonaws.com",e.PROD_LAMBDA_URL="https://7cxw7l028c.execute-api.ap-southeast-2.amazonaws.com/default/video-live-worm",e}(n.a),s=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),c=function(l,e,a,t){return new(a||(a=Promise))(function(n,r){function i(a){try{c(t.next(a))}catch(t){r(t)}}function o(a){try{c(t.throw(a))}catch(t){r(t)}}function c(r){var l;r.done?n(r.value):(l=r.value,l instanceof a?l:new a(function(t){t(l)})).then(i,o)}c((t=t.apply(l,e||[])).next())})},d=function(l,e){function t(t){return function(a){return function(t){if(s)throw new TypeError("Generator is already executing.");for(;d;)try{if(s=1,n&&(i=2&t[0]?n.return:t[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,t[1])).done)return i;switch(n=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return d.label++,{value:t[1],done:!1};case 5:d.label++,n=t[1],t=[0];continue;case 7:t=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=0<i.length&&i[i.length-1])||6!==t[0]&&2!==t[0])){d=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){d.label=t[1];break}if(6===t[0]&&d.label<i[1]){d.label=i[1],i=t;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(t);break}i[2]&&d.ops.pop(),d.trys.pop();continue;}t=e.call(l,d)}catch(a){t=[6,a],n=0}finally{s=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,a])}}var s,n,i,c,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},p=function(p){function u(e,s,n,i){void 0===i&&(i="live");var r=p.call(this,e)||this;r.serviceUrl="",r.s3Url="",r.debug=!1,r.readAttempts=1,r.eventsType="live",r.capiId=s,r.userId=n;var a=new l(e);return r.serviceUrl=a.getLambdaUrl(),r.s3Url=a.getS3Url(),r.eventsType=i,r}return s(u,p),u.prototype.getS3Url=function(t){return this.s3Url+"/"+this.capiId+"/"+this.capiId+"-"+Math.floor(t)+".json"},u.prototype.getHash=u.prototype.sendRequest=function(a,o,t){return void 0===a&&(a="ping"),void 0===o&&(o=null),void 0===t&&(t=null),c(this,void 0,void 0,function(){var n;return d(this,function(l){switch(l.label){case 0:return n={capiId:this.capiId,event:a,updatedAt:k(Date.now()/1e3),hash:this.getHash()},o&&(n.score1=o),t&&(n.score2=t),this.log("send request",a,o,t),[4,fetch(this.serviceUrl,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:n})})];case 1:return[2,l.sent()];}})})},u.prototype.read=function(){return c(this,void 0,void 0,function(){var t,e,n,i;return d(this,function(r){switch(r.label){case 0:return"live"===this.eventsType?(t=this.readTimestamp||k(Date.now()/1e3)-u.S3_PROCESSING_DELAY,this.log("read",t),e=this.getS3Url(t),[4,fetch(e).then(]):[2];case 1:return n=r.sent(),0===Object.keys(n).length?(this.readTimestamp=t,this.readAttempts--,i=o.a.getSearchParams(),0===this.readAttempts||i.liveWormAdmin?(this.readAttempts=2,this.readTimestamp=null,this.log("read - s3 / fallback read from AWS"),[4,this.readFromAws()]):[3,3]):[3,4];case 2:return[2,r.sent()];case 3:return[2,{}];case 4:return this.readTimestamp=null,this.readAttempts=2,this.log("read - s3 response",n),[2,n];}})})},u.prototype.readFromAws=function(){return c(this,void 0,void 0,function(){var a;return d(this,function(e){switch(e.label){case 0:return"live"===this.eventsType?(this.log("join"),[4,this.sendRequest("read")]):[2];case 1:if((a=e.sent()).ok)return[2,a.json()];throw"Not started";}})})},u.prototype.hasStarted=function(){return c(this,void 0,void 0,function(){var a;return d(this,function(e){switch(e.label){case 0:return"live"===this.eventsType?(0,this.log("has started",0),a=this.getS3Url(0)+"?t="+Date.now()+"}",[4,fetch(a).then(function(){return!1})]):[2];case 1:return[2,e.sent()];}})})},u.prototype.getMetadata=function(){return c(this,void 0,void 0,function(){var a;return d(this,function(e){switch(e.label){case 0:return a=this.s3Url+"/"+this.capiId+"/"+this.capiId+"-00.json?t="+Date.now(),[4,fetch(a).then(function(t){return!!t.ok&&t.json()},function(){return!1})];case 1:return[2,e.sent()];}})})},u.prototype.hasEnded=function(){return c(this,void 0,void 0,function(){var a;return d(this,function(e){switch(e.label){case 0:return"live"===this.eventsType?(a=this.s3Url+"/"+this.capiId+"/"+this.capiId+"-end.json?t="+Date.now(),this.log("has ended",Date.now()/1e3),[4,fetch(a).then(function(t){return!!t.ok&&t.json()},function(){return!1})]):[2];case 1:return[2,e.sent()];}})})},u.prototype.getPlayback=function(){return c(this,void 0,void 0,function(){var a;return d(this,function(e){switch(e.label){case 0:return a=this.s3Url+"/"+this.capiId+"/playback-"+this.capiId+".json?t="+Date.now(),this.log("has ended",Date.now()/1e3),[4,fetch(a).then(function(){return!1})];case 1:return[2,e.sent()];}})})},u.prototype.join=function(){return c(this,void 0,void 0,function(){var a;return d(this,function(e){switch(e.label){case 0:return"live"===this.eventsType?(this.log("join"),[4,this.sendRequest("join")]):[2];case 1:if((a=e.sent()).ok)return[2,a.json()];throw"Not started";}})})},u.prototype.voteUpC1=function(){return c(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.vote(.9,null)];case 1:return[2,t.sent()];}})})},u.prototype.voteDownC1=function(){return c(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.vote(.1,null)];case 1:return[2,t.sent()];}})})},u.prototype.voteUpC2=function(){return c(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.vote(null,.9)];case 1:return[2,t.sent()];}})})},u.prototype.voteDownC2=function(){return c(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.vote(null,.1)];case 1:return[2,t.sent()];}})})},u.prototype.vote=function(a,e){return c(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return"live"===this.eventsType?(this.log("vote",a,e),[4,this.sendRequest("vote",a,e)]):[2];case 1:return[2,t.sent()];}})})},u.prototype.log=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.debug&&console.log("[LiveWorm]",a)},u.S3_PROCESSING_DELAY=3,u}(n.a),u=t(1),m=t(6),v=function(l,e,a,t){return new(a||(a=Promise))(function(n,r){function i(a){try{c(t.next(a))}catch(t){r(t)}}function o(a){try{c(t.throw(a))}catch(t){r(t)}}function c(r){var l;r.done?n(r.value):(l=r.value,l instanceof a?l:new a(function(t){t(l)})).then(i,o)}c((t=t.apply(l,e||[])).next())})},y=function(l,e){function t(t){return function(a){return function(t){if(s)throw new TypeError("Generator is already executing.");for(;d;)try{if(s=1,n&&(i=2&t[0]?n.return:t[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,t[1])).done)return i;switch(n=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return d.label++,{value:t[1],done:!1};case 5:d.label++,n=t[1],t=[0];continue;case 7:t=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=0<i.length&&i[i.length-1])||6!==t[0]&&2!==t[0])){d=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){d.label=t[1];break}if(6===t[0]&&d.label<i[1]){d.label=i[1],i=t;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(t);break}i[2]&&d.ops.pop(),d.trys.pop();continue;}t=e.call(l,d)}catch(a){t=[6,a],n=0}finally{s=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,a])}}var s,n,i,c,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},g=function(){function o(a,r,t){void 0===t&&(t="live"),this.currentSecond=0,this.twoSecondMarker=0,this.thirtySecondMarker=0,this.hasStarted=!1,this.hasEnded=!1,this.voteTimer=0,this.track_ended=!1,this.track_open=!1,this.track_notopen=!1,this.eventsType="live",this.container=a,this.plugin=r,this.eventsType=t,this.setEvents()}return o.prototype.checkEnded=function(e){return v(this,void 0,void 0,function(){var t;return y(this,function(a){switch(a.label){case 0:return[4,e.hasEnded()];case 1:if(t=a.sent())if(t.reason)switch(t.reason){case"paused":this.plugin.view.headline.innerHTML="Voting has now closed! Stay tuned for the results.",this.plugin.view.paused=!0,this.plugin.view.firstCandidate.disableVote(),this.plugin.view.secondCandidate.disableVote();break;case"final":this.plugin.view.hide(),this.plugin.enabled=!1,u.a.removeClass(this.container.view.element,"vms-live-worm-enabled");}else this.hasEnded=!0,this.trackOnce(o.ANALYTICS_ENDED),this.plugin.view.showEndScreen(t);return[2];}})})},o.prototype.trackOnce=function(e){var t=this.container.getService(M.a.analytics);e===o.ANALYTICS_ENDED?this.track_ended||(this.track_ended=!0,t.omniture.track([],{eVar178:o.ANALYTICS_ENDED})):e===o.ANALYTICS_OPEN?this.track_open||(this.track_open=!0,t.omniture.track([],{eVar178:o.ANALYTICS_OPEN})):e===o.ANALYTICS_NOTOPEN?this.track_notopen||(this.track_notopen=!0,t.omniture.track([],{eVar178:o.ANALYTICS_NOTOPEN})):void 0},o.prototype.setEvents=function(){var e=this;if(this.currentSecond=k(Date.now()/1e3),this.plugin.enabled){var l=this.container.getService(M.a.eventManager),t=this.container.getService(M.a.context),d=new p(this.container,t.capiVideo.id,this.plugin.userId,this.eventsType),n=this.container.getService(M.a.analytics);this.setTimeEvents(),l.addSingleEventListener(this.container,"play",function(){return v(e,void 0,void 0,function(){var a;return y(this,function(e){switch(e.label){case 0:return this.plugin.enabled?(u.a.addClass(this.container.view.element,"vms-live-worm-enabled"),this.plugin.view.initView(),this.plugin.view.paint({}),"live"===this.eventsType&&this.checkEnded(d),[4,d.getMetadata()]):[3,2];case 1:return a=e.sent(),this.plugin.view.firstCandidate.refresh(a.candidate1.image||"",a.candidate1.firstName,a.candidate1.lastName,a.candidate1.color),this.plugin.view.secondCandidate.refresh(a.candidate2.image||"",a.candidate2.firstName,a.candidate2.lastName,a.candidate2.color),a.candidate1.color&&(this.plugin.view.candidate1Color=a.candidate1.color,this.plugin.view.firstCandidate.pictureContainer.style.border="solid 3px "+a.candidate1.color),a.candidate2.color&&(this.plugin.view.candidate2Color=a.candidate2.color,this.plugin.view.secondCandidate.pictureContainer.style.border="solid 3px "+a.candidate2.color),[3,3];case 2:u.a.removeClass(this.container.view.element,"vms-live-worm-enabled"),e.label=3;case 3:return[2];}})})}),l.addCustomListener(this.container,o.EVENT_NEXT_SECOND,function(){return v(e,void 0,void 0,function(){var e,t,n,r,a;return y(this,function(i){switch(i.label){case 0:return"live"===this.eventsType?this.plugin.enabled?this.hasStarted?[4,d.read()]:[3,2]:[2]:[3,3];case 1:e=i.sent(),this.plugin.view.paint(e),0<this.voteTimer?(this.plugin.view.disableButtons(),this.voteTimer--):this.plugin.view.enableButtons(),i.label=2;case 2:return this.hasStarted?this.hasEnded?this.trackOnce(o.ANALYTICS_ENDED):this.trackOnce(o.ANALYTICS_OPEN):this.trackOnce(o.ANALYTICS_NOTOPEN),[3,4];case 3:for(this.plugin.view.savedData={},t={},n=90,this.container.getService(M.a.environment).browser.isMobile()&&(n=50),r=0;r<n;r++)0<(a=k(this.container.bcPlayer().currentTime())+r-n)&&(t[a]=this.plugin.view.playbackData[a]);this.plugin.view.paint(t),i.label=4;case 4:return[2];}})})}),l.addCustomListener(this.container,o.EVENT_NEXT_2,function(){return v(e,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return this.plugin.enabled&&"live"===this.eventsType?this.hasStarted?[3,2]:(e=this,[4,d.hasStarted()]):[2];case 1:e.hasStarted=t.sent(),this.hasStarted&&l.trigger(this.container,o.EVENT_STARTED),t.label=2;case 2:return this.checkEnded(d),[2];}})})}),l.addCustomListener(this.container,o.EVENT_NEXT_30,function(){e.plugin.enabled&&"live"===e.eventsType&&e.hasStarted&&d.join()}),l.addCustomListener(this.container,o.EVENT_STARTED,function(){"live"===e.eventsType&&(d.join(),e.plugin.view.start(),u.a.onClick(e.plugin.view.firstCandidate.like,function(){0===e.voteTimer&&e.plugin.view.firstCandidate.voteAllowed&&(e.plugin.view.firstCandidate.displayLike(),e.plugin.view.firstCandidate.increaseScore(),n.omniture.track([m.a.LIVEWORM_THUMBSUP],{eVar177:""+e.plugin.view.firstCandidate.getFullName()}),d.voteUpC1(),e.voteTimer=o.VOTE_TIMER_LIMITATION)}),u.a.onClick(e.plugin.view.firstCandidate.dislike,function(){0===e.voteTimer&&e.plugin.view.firstCandidate.voteAllowed&&(e.plugin.view.firstCandidate.displayDislike(),e.plugin.view.firstCandidate.decreaseScore(),n.omniture.track([m.a.LIVEWORM_THUMBSDOWN],{eVar177:""+e.plugin.view.firstCandidate.getFullName()}),d.voteDownC1(),e.voteTimer=o.VOTE_TIMER_LIMITATION)}),u.a.onClick(e.plugin.view.secondCandidate.like,function(){0===e.voteTimer&&e.plugin.view.secondCandidate.voteAllowed&&(e.plugin.view.secondCandidate.displayLike(),e.plugin.view.secondCandidate.increaseScore(),n.omniture.track([m.a.LIVEWORM_THUMBSUP],{eVar177:""+e.plugin.view.secondCandidate.getFullName()}),d.voteUpC2(),e.voteTimer=o.VOTE_TIMER_LIMITATION)}),u.a.onClick(e.plugin.view.secondCandidate.dislike,function(){0===e.voteTimer&&e.plugin.view.secondCandidate.voteAllowed&&(e.plugin.view.secondCandidate.displayDislike(),e.plugin.view.secondCandidate.decreaseScore(),n.omniture.track([m.a.LIVEWORM_THUMBSDOWN],{eVar177:""+e.plugin.view.secondCandidate.getFullName()}),d.voteDownC2(),e.voteTimer=o.VOTE_TIMER_LIMITATION)}))})}},o.prototype.setTimeEvents=function(){var e=this,t=this.container.getService(M.a.eventManager);t.addListener(this.container,"timeupdate",function(){if(e.plugin.enabled&&!e.hasEnded){var a=k(Date.now()/1e3);a>e.currentSecond&&(e.currentSecond=a,t.trigger(e.container,o.EVENT_NEXT_SECOND))}}),t.addCustomListener(this.container,o.EVENT_NEXT_SECOND,function(){e.plugin.enabled&&(0===e.thirtySecondMarker&&(t.trigger(e.container,o.EVENT_NEXT_30),e.thirtySecondMarker=31),e.thirtySecondMarker--,0===e.twoSecondMarker&&(t.trigger(e.container,o.EVENT_NEXT_2),e.twoSecondMarker=3),e.twoSecondMarker--)})},o.ANALYTICS_ENDED="Ended",o.ANALYTICS_OPEN="Open",o.ANALYTICS_NOTOPEN="Not Open",o.EVENT_NEXT_SECOND="LW_ON_NEXT_SECOND",o.EVENT_NEXT_2="LW_ON_NEXT_2",o.EVENT_NEXT_30="LW_ON_NEXT_30",o.EVENT_STARTED="LW_EVENT_STARTED",o.VOTE_TIMER_LIMITATION=5,o}(),h=t(5),_=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),E=function(a){function e(e){var o=a.call(this,document.createElement("div"))||this;o.candidate=e,u.a.addClass(o.element,"vms-lw-results-candidate"),o.image=document.createElement("img"),o.image.src=e.image.src;var n=document.createElement("div");n.className="image",n.appendChild(o.image);var i=document.createElement("div");return o.name=document.createElement("div"),o.name.className="name",i.appendChild(o.name),o.scoreContainer=document.createElement("div"),o.scoreContainer.className="score",i.appendChild(o.scoreContainer),o.element.appendChild(n),o.element.appendChild(i),o.refresh(),o}return _(e,a),e.prototype.setName=function(a,e){this.name.innerHTML=a+" <strong>"+e+"</strong>"},e.prototype.setScore=function(t){isNaN(t)&&(t=.5),this.scoreContainer.innerHTML="<strong>"+k(100*t)+"</strong>%",.5<t?(u.a.addClass(this.scoreContainer,"vms-lw-score-over50"),u.a.removeClass(this.scoreContainer,"vms-lw-score-under50")):(u.a.addClass(this.scoreContainer,"vms-lw-score-under50"),u.a.removeClass(this.scoreContainer,"vms-lw-score-over50"))},e.prototype.refresh=function(){this.setName(this.candidate.firstname.innerText,this.candidate.lastname.innerText),this.setScore(this.candidate.finalScore),this.image.parentElement.style.border="solid 2px "+this.candidate.color,this.image.src=this.candidate.image.src},e}(h.a),S=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),P=function(a){function e(t){var n=a.call(this,document.createElement("div"))||this;return n.finalScore=.5,n.voteAllowed=!1,n.localScore=.5,n.color=t,n.element.className=e.CSS_NAME,n.pictureContainer=document.createElement("div"),n.pictureContainer.className="vms-lw-candidate-picture-container",n.image=document.createElement("img"),n.image.className="vms-lw-candidate-image",n.pictureContainer.appendChild(n.image),n.pictureContainer.style.border="solid 2px "+n.color,n.actionContainer=document.createElement("div"),n.actionContainer.className="vms-lw-candidate-action-container",n.likeContainer=document.createElement("div"),n.dislikeContainer=document.createElement("div"),n.likeContainer.className="vms-lw-action-like-container",n.dislikeContainer.className="vms-lw-action-dislike-container",n.like=document.createElement("div"),n.like.innerHTML="<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M0 0h20v20H0z\"/><path id=\"thumb\" d=\"M.833 17.5h3.334v-10H.833v10zm18.334-9.167c0-.916-.75-1.666-1.667-1.666h-5.258l.791-3.809.025-.266c0-.342-.141-.659-.366-.884l-.884-.875-5.483 5.492A1.63 1.63 0 0 0 5.833 7.5v8.333c0 .917.75 1.667 1.667 1.667H15c.692 0 1.283-.417 1.533-1.017l2.517-5.875c.075-.191.117-.391.117-.608V8.333z\" fill=\"#606669\" fill-rule=\"nonzero\"/></g></svg>",n.like.className="vms-lw-action-like",n.dislike=document.createElement("div"),n.dislike.innerHTML=n.like.innerHTML="<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M0 0h20v20H0z\"/><path id=\"thumb\" d=\"M.833 17.5h3.334v-10H.833v10zm18.334-9.167c0-.916-.75-1.666-1.667-1.666h-5.258l.791-3.809.025-.266c0-.342-.141-.659-.366-.884l-.884-.875-5.483 5.492A1.63 1.63 0 0 0 5.833 7.5v8.333c0 .917.75 1.667 1.667 1.667H15c.692 0 1.283-.417 1.533-1.017l2.517-5.875c.075-.191.117-.391.117-.608V8.333z\" fill=\"#606669\" fill-rule=\"nonzero\"/></g></svg>",n.dislike.className="vms-lw-action-dislike",n.likeContainer.appendChild(n.like),n.dislikeContainer.appendChild(n.dislike),n.actionContainer.appendChild(n.likeContainer),n.actionContainer.appendChild(n.dislikeContainer),n.nameContainer=document.createElement("div"),n.nameContainer.className="vms-lw-candidate-name-container",n.firstname=document.createElement("div"),n.firstname.className="vms-lw-candidate-firstname",n.lastname=document.createElement("div"),n.lastname.className="vms-lw-candidate-lastname",n.nameContainer.appendChild(n.firstname),n.nameContainer.appendChild(n.lastname),n.element.appendChild(n.pictureContainer),n.element.appendChild(n.nameContainer),n.element.appendChild(n.actionContainer),n.results=new E(n),n}return S(e,a),e.prototype.increaseScore=function(){this.localScore+=f.SCORE_INCREMENT,1<=this.localScore&&(this.localScore=1)},e.prototype.decreaseScore=function(){this.localScore-=f.SCORE_INCREMENT,0>=this.localScore&&(this.localScore=0)},e.prototype.getFullName=e.prototype.enableVote=function(){this.voteAllowed=!0,this.voteAllowed=!0,u.a.addClass(this.like,"active"),u.a.addClass(this.dislike,"active"),u.a.removeClass(this.likeContainer,"vms-lw-clicked"),u.a.removeClass(this.dislikeContainer,"vms-lw-clicked"),this.likeContainer.style.background="#404446",this.dislikeContainer.style.background="#404446"},e.prototype.disableVote=function(){this.voteAllowed=!1,this.voteAllowed=!1,u.a.removeClass(this.like,"active"),u.a.removeClass(this.dislike,"active")},e.prototype.displayLike=function(){this.likeContainer.style.background=this.color,u.a.addClass(this.likeContainer,"vms-lw-clicked"),u.a.removeClass(this.dislike,"active")},e.prototype.displayDislike=function(){this.dislikeContainer.style.background=this.color,u.a.addClass(this.dislikeContainer,"vms-lw-clicked"),u.a.removeClass(this.like,"active")},e.prototype.refresh=function(a,e,t,n){var i=this;this.image.src=a,this.image.onerror=function(){i.image.src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MXtmaWxsOiMxOTE5MTl9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzY5IDM3MS45VjQwMEgzMXYtMjguMUMzMSAyOTguNSA5MC41IDIzOSAxNjMuOSAyMzloNzIuMmM3My40IDAgMTMyLjkgNTkuNSAxMzIuOSAxMzIuOXoiLz48Y2lyY2xlIGNsYXNzPSJzdDEiIGN4PSIyMDAiIGN5PSIxMzgiIHI9IjgwIi8+PC9zdmc+",i.image.width=32,i.image.height=32,i.image.style.background="color"},this.firstname.innerHTML=e,this.lastname.innerHTML=t,n&&(this.color=n),this.results.refresh()},e.prototype.start=e.CSS_NAME="vms-lw-candidate",e}(h.a),C=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),b=function(a){function r(e){var t=a.call(this,document.createElement("div"))||this;return t.candidate1Color="#d25f5f",t.candidate2Color="#5c9ad3",t.endScreenShown=!1,t.strokeWidth=3,t.paused=!1,t.container=e,t.element.className=r.CSS_NAME,t.candidateContainer=document.createElement("div"),t.candidateContainer.className="vms-candidates-container",t.candidate1Container=document.createElement("div"),t.candidate1Container.className="lw-candidate1",t.headline=document.createElement("div"),t.headline.className="vms-lw-headline",t.headline.innerHTML="Not long to go now! Voting is almost open.",t.candidate2Container=document.createElement("div"),t.candidate2Container.className="lw-candidate2",t.firstCandidate=new P(t.candidate1Color),t.candidate1Container.appendChild(t.firstCandidate.element),t.firstCandidate.refresh("","First","Candidate"),t.secondCandidate=new P(t.candidate2Color),t.candidate2Container.appendChild(t.secondCandidate.element),t.secondCandidate.refresh("","Second","Candidate"),t.metadataContainer=document.createElement("div"),t.metadataContainer.className="vms-lw-metadata",t.metadataContainer.appendChild(t.headline),t.candidateContainer.append(t.candidate1Container),t.candidateContainer.append(t.candidate2Container),t.metadataContainer.appendChild(t.candidateContainer),t.element.appendChild(t.metadataContainer),t.strokeWidth=2,t.hide(),t}return C(r,a),r.prototype.hide=function(){a.prototype.hide.call(this),u.a.removeClass(this.container.view.element,"vms-live-worm-enabled")},r.prototype.start=function(){this.headline.innerHTML="Voting is officially OPEN",this.firstCandidate.start(),this.secondCandidate.start()},r.prototype.createSvg=function(){this.div.innerHTML="",this.svg=document.createElement("svg");var t=this.container.view.wrapper.offsetWidth,e=r.VIEW_HEIGHT;this.svg.setAttribute("width",""+t),this.svg.setAttribute("height",""+e),this.div.appendChild(this.svg)},r.prototype.mergeData=function(a){this.savedData||(this.savedData={});for(var e,r=0,t=Object.keys(a);r<t.length;r++)e=t[r],this.savedData[e]||(this.savedData[e]=a[e]);return this.savedData},r.prototype.paint=function(t){if(!this.paused){var e=90;this.container.getService(M.a.environment).browser.isMobile()&&(e=50),t=this.mergeData(t);var n=Object.keys(t);if(0<n.length){for(var i,o=[],l=[],a=0,c=n;a<c.length;a++)i=t[c[a]]||[.5,.5],o.push(i[0]),l.push(i[1]);o.length>e&&(o=o.slice(o.length-e),l=l.slice(l.length-e)),this.redraw(o.map(function(t){return r.VIEW_HEIGHT-t*r.VIEW_HEIGHT}),l.map(function(t){return r.VIEW_HEIGHT-t*r.VIEW_HEIGHT}))}else this.redraw([],[])}},r.prototype.initView=function(){var t=document.createElement("div");t.className="vms-live-worm-svg",t.style.width="100%",t.style.height=r.VIEW_HEIGHT+"px",t.style["z-index"]=1e5,t.style.top="0",this.div=t,this.createSvg(),this.element.appendChild(this.div)},r.prototype.redraw=function(p,e){for(var t=0,n="",i=p[0],r=0,a=0,o=p;a<o.length;a++){o[a];var c=u=[t,i];(c=[t+=5,i=p[++r]])[1]&&(n+="<line x1=\""+u[0]+"\" y1=\""+u[1]+"\" x2=\""+c[0]+"\" y2=\""+c[1]+"\" style=\"stroke:"+this.candidate1Color+";stroke-width:"+this.strokeWidth+"\"></line>")}i=e[0],r=0,t=0;for(var s=0,l=e;s<l.length;s++){var u;l[s],c=u=[t,i],(c=[t+=5,i=e[++r]])[1]&&(n+="<line x1=\""+u[0]+"\" y1=\""+u[1]+"\" x2=\""+c[0]+"\" y2=\""+c[1]+"\" style=\"stroke:"+this.candidate2Color+";stroke-width:"+this.strokeWidth+"\"></line>")}n=this.addDefaultLines(n),this.createSvg(),this.svg.innerHTML=n,this.svg.innerHTML+="",this.div.innerHTML+=""},r.prototype.disableButtons=r.prototype.enableButtons=r.prototype.setPlayback=function(p,e){var t;if(this.firstCandidate.actionContainer.style.display="none",this.secondCandidate.actionContainer.style.display="none",this.headline.style.display="none",null===(t=e.extendedMetadata)||void 0===t?void 0:t.cuePoints)for(var n,a=0,i=e.extendedMetadata.cuePoints;a<i.length;a++)if(n=i[a],"liveworm"===n.name){for(var r,u=parseInt(n.time),o={},c=0,s=Object.keys(p);c<s.length;c++)r=s[c],o[u+parseInt(r)]=p[r];p=o;for(var l=0;l<u;l++)p[l]=[.5,.5]}console.log("PLAYBACK DATA",p),this.playbackData=p},r.prototype.addDefaultLines=function(t){return"<line x1=\"0\" y1=\"0\" x2=\""+this.container.view.wrapper.offsetWidth+"\" y2=\"0\"\n                style=\"stroke: #404446;\"></line>\n            <text x=\"10\" y=\"30\" class=\"svg-text\">Up Votes</text>\n            <line x1=\"0\" y1=\""+.5*r.VIEW_HEIGHT+"\" x2=\""+this.container.view.wrapper.offsetWidth+"\" y2=\""+.5*r.VIEW_HEIGHT+"\"\n                  style=\"stroke: #555;stroke-width: 2;stroke-dasharray: 5,5;\"></line>\n            <line x1=\"0\" y1=\""+r.VIEW_HEIGHT+"\" x2=\""+this.container.view.wrapper.offsetWidth+"\" y2=\""+r.VIEW_HEIGHT+"\"\n                    style=\"stroke: #404446;\"></line>\n            <text x=\"10\" y=\""+(r.VIEW_HEIGHT-20)+"\" class=\"svg-text\">Down Votes</text>"+t},r.prototype.showEndScreen=function(a){if(!this.endScreenShown){this.endScreenShown=!0;var e=Object.keys(a),t=e[e.length-1];this.firstCandidate.finalScore=a[t][0],this.secondCandidate.finalScore=a[t][1],u.a.addClass(this.element,"vms-lw-ended"),this.headline.innerHTML="Voting has now finished - thank you for participating.",this.candidate1Container.style.display="none",this.candidate2Container.style.display="none",this.div.style.display="none",this.resultContainer=document.createElement("div"),u.a.addClass(this.resultContainer,"vms-lw-results"),this.resultContainer.appendChild(this.firstCandidate.results.element),this.resultContainer.appendChild(this.secondCandidate.results.element),this.element.appendChild(this.resultContainer),this.firstCandidate.results.refresh(),this.secondCandidate.results.refresh()}},r.prototype.attachTo=r.VIEW_HEIGHT=100,r.CSS_NAME="vms-live-worm",r}(h.a),w=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=function(l,e,a,t){return new(a||(a=Promise))(function(n,r){function i(a){try{c(t.next(a))}catch(t){r(t)}}function o(a){try{c(t.throw(a))}catch(t){r(t)}}function c(r){var l;r.done?n(r.value):(l=r.value,l instanceof a?l:new a(function(t){t(l)})).then(i,o)}c((t=t.apply(l,e||[])).next())})},N=function(l,e){function t(t){return function(a){return function(t){if(s)throw new TypeError("Generator is already executing.");for(;d;)try{if(s=1,n&&(i=2&t[0]?n.return:t[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,t[1])).done)return i;switch(n=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return d.label++,{value:t[1],done:!1};case 5:d.label++,n=t[1],t=[0];continue;case 7:t=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=0<i.length&&i[i.length-1])||6!==t[0]&&2!==t[0])){d=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){d.label=t[1];break}if(6===t[0]&&d.label<i[1]){d.label=i[1],i=t;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(t);break}i[2]&&d.ops.pop(),d.trys.pop();continue;}t=e.call(l,d)}catch(a){t=[6,a],n=0}finally{s=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,a])}}var s,n,i,c,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},f=function(a){function e(e){var o=a.call(this,e)||this;o.enabled=!1,o.current=0,o.score1=.5,o.score2=.5;var n=o.getService(M.a.eventManager),l=o.getService(M.a.context);return o.view=new b(e),n.addCustomListener(e,r.a.BC_READY,function(){return T(o,void 0,void 0,function(){var r,e,t,n,i;return N(this,function(a){switch(a.label){case 0:return r=!1,e=l.auth,t=this.getService(M.a.utag),n=t.get("pc_pcsid"),e.getAuthProvider()===D.a.PROVIDER_IDP&&D.a.getStatusFromCookie()===D.a.USER_SUBSCRIBER&&(r=!0),0<l.bcVideo.duration?"Yes"===l.bcVideo.custom_fields.live_worm?[4,new p(this.container,l.capiVideo.id,"playback").getPlayback()]:[3,2]:[3,4];case 1:return(i=a.sent())&&(this.enabled=!0,this.events=new g(this.container,this,"playback"),this.view.setPlayback(i,l.capiVideo)),[3,3];case 2:this.enabled=!1,this.view.hide(),a.label=3;case 3:return[3,5];case 4:"Yes"===l.bcVideo.custom_fields.live_worm&&(r?(this.userId=window.btoa(n+"-"+l.capiVideo.id),this.enabled=!0,this.events=new g(this.container,this)):(this.enabled=!1,this.view.hide())),a.label=5;case 5:return[2];}})})}),n.addListener(e,"play",function(){o.enabled&&(o.view.show(),o.container.view.wrapper.appendChild(o.view.element))}),o}return w(e,a),e.pluginName="PLUGIN_LIVE_WORM",e.SCORE_INCREMENT=.1,e.STORAGE_USER_ID="vms-livew-userid",e.STORAGE_SCORE1="vms-lw-user-score1",e.STORAGE_SCORE2="vms-lw-user-score2",e}(a.a)},145:function(B,e,t){"use strict";var n=Math.abs,G=Math.round;t.d(e,"a",;var Y,i=t(28),q=t(30),a=t(3),F=t(0),c=t(1),r=t(6),l=t(61),s=t(19),o=t(128),d=t(40),p=t(129),K=t(122),m=t(130),u=(Y=function(a,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}Y(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),v=function(a){eturn u(e,a),e.prototype.setEvents=function(){var c=this,e=this.getService(F.a.eventManager);e.addCustomListener(this.container,K.a.EVENT_SWIPE_END,function(t){var d,i=c.getService(F.a.context);if(i.hasRecommendations){var r=(null===(d=c.orchestrator.current.view)||void 0===d?void 0:d.touchStartY)-t;if(0>r){if(!c.orchestrator.previous||!c.orchestrator.hasPrev)return;if(c.orchestrator.current.view&&-.1>r/c.orchestrator.current.view.element.clientHeight)e.trigger(c.container,K.a.EVENT_SWIPE_DOWN,r);else var p=0,o=setInterval(function(){var e;p<n(r)?(p+=n(r)/50,c.orchestrator.previous.view.element.style["margin-top"]="-"+((null===(e=c.orchestrator.next)||void 0===e?void 0:e.view.element.clientHeight)+(r+p))+"px",c.orchestrator.current.view.element.style["margin-top"]=-r-p+"px"):clearInterval(o)},1)}else{if(!c.orchestrator.next||!c.orchestrator.hasNext)return;if(c.orchestrator.current.view&&.1<r/c.orchestrator.current.view.element.clientHeight)e.trigger(c.container,K.a.EVENT_SWIPE_UP,r);else var s=0,l=setInterval(function(){s<r?(s+=r/50,c.orchestrator.current&&c.orchestrator.current.view&&(c.orchestrator.current.view.element.style["margin-top"]=-r+s+"px"),c.orchestrator.next&&c.orchestrator.next.view&&(i.isVvaafca()?c.orchestrator.next.view.element.style["margin-top"]=c.orchestrator.next.view.element.clientHeight-r+32+s+"px":c.orchestrator.next.view.element.style["margin-top"]=c.orchestrator.next.view.element.clientHeight-r+s+"px")):clearInterval(l)},1)}}}),e.addCustomListener(this.container,K.a.EVENT_SWIPE_UP,function(p){var t,n;void 0===p&&(p=0);var r=c.getService(F.a.context);if(c.orchestrator.current.bcPlayer.ima3.adsManager&&0<c.orchestrator.current.bcPlayer.ima3.adsManager.getRemainingTime()){var a=c.orchestrator.current.view.element.nextElementSibling;setTimeout(function(){return c.orchestrator.current.bcPlayer.currentTime(0)},0);var o=0;if(a)var s=setInterval(function(){o++;var e=c.orchestrator.current.view.element.clientHeight/30;c.orchestrator.current.view.element.style["margin-top"]="-"+(p+e*o)+"px";var t=a.clientHeight-p-e*o;a.style["margin-top"]=t+"px",(0>=G(t)||30==o)&&(clearInterval(s),c.finishedUpAd())},1)}else if(r.hasRecommendations&&c.orchestrator.hasNext){e.trigger(c.container,m.a.EVENT_USER_SWIPE_UP),c.orchestrator.previous&&c.orchestrator.previous.bcPlayer&&(null===(n=null===(t=c.orchestrator.previous)||void 0===t?void 0:t.bcPlayer)||void 0===n||n.dispose(),delete window.videojs.players[c.orchestrator.previous.view.id],c.orchestrator.previous=null),c.orchestrator.index++,c.orchestrator.current.bcPlayer.paused()||c.orchestrator.current.bcPlayer.pause(),setTimeout(0);var l=0,u=setInterval(function(){l++;var e=c.orchestrator.current.view.element.clientHeight/30;c.orchestrator.current.view.element.style["margin-top"]="-"+(p+e*l)+"px";var t=c.orchestrator.next.view.element.clientHeight-p-e*l;c.orchestrator.next.view.element.style["margin-top"]=t+"px",(0>=G(t)||30==l)&&(clearInterval(u),c.finishedUp())},1)}}),e.addCustomListener(this.container,K.a.EVENT_SWIPE_DOWN,function(o){if(void 0===o&&(o=0),c.getService(F.a.context).hasRecommendations&&c.orchestrator.hasPrev&&void 0!==c.orchestrator.previous){e.trigger(c.container,m.a.EVENT_USER_SWIPE_DOWN);var n=0;c.orchestrator.current.bcPlayer.paused()||c.orchestrator.current.bcPlayer.pause(),c.orchestrator.current.bcPlayer.currentTime(0);var i=setInterval(function(){c.orchestrator.current.view.element.classList.add("vms-animating-upwards"),n++;var e=c.orchestrator.current.view.element.clientHeight/40,t=o+c.orchestrator.current.view.element.clientHeight-n*e;c.orchestrator.previous.view.element.style["margin-top"]="-"+t+"px",c.orchestrator.current.view.element.style["margin-top"]=e*n-o+"px",(0>t||40==n)&&(clearInterval(i),c.orchestrator.current.view.element.classList.remove("vms-animating-upwards"),c.finishedDown())},1)}}),e.addCustomListener(this.container,K.a.EVENT_SWIPE_MOVE,function(e){var t=c.getService(F.a.context);if(t.hasRecommendations){var n=c.orchestrator.current.view.touchStartY-e;if(!(0<n))c.orchestrator.hasPrev&&c.orchestrator.previous&&(c.orchestrator.current.view.element.style["margin-top"]=-n+"px",t.isVvaafca()?(c.orchestrator.previous.view.element.style["margin-top"]=-c.orchestrator.current.view.element.clientHeight-32-n+"px",c.orchestrator.next&&(c.orchestrator.next.view.element.style["margin-top"]=c.orchestrator.next.view.element.clientHeight+32-n+"px")):c.orchestrator.previous.view.element.style["margin-top"]=-c.orchestrator.current.view.element.clientHeight-n+"px");else if(c.orchestrator.current.bcPlayer.ima3.adsManager&&0<c.orchestrator.current.bcPlayer.ima3.adsManager.getRemainingTime()){var o=c.orchestrator.current.view.element.nextElementSibling;if(o.getAttribute("id")!=c.orchestrator.current.view.element.getAttribute("id")){var r=c.orchestrator.current.view.element;o=r.cloneNode(!0),r.parentNode.insertBefore(o,r.nextSibling),o.style.opacity="0"}else c.orchestrator.current.view.element.style["margin-top"]="-"+n+"px",o.style["margin-top"]=c.orchestrator.next.view.element.clientHeight-n+"px"}else c.orchestrator.hasNext&&c.orchestrator.next&&(c.orchestrator.current.view.element.style["margin-top"]="-"+n+"px",c.orchestrator.next.view.element.style["margin-top"]=t.isVvaafca()?c.orchestrator.next.view.element.clientHeight+32-n+"px":c.orchestrator.next.view.element.clientHeight-n+"px")}})},e.prototype.finishedUp=function(){this.orchestrator.previous=this.orchestrator.current,c.a.removeClass(this.orchestrator.previous.view.element,R.CURRENT_PLAYER_ID),c.a.addClass(this.orchestrator.previous.view.element,R.PREVIOUS_PLAYER_ID),this.orchestrator.previous.view.element.style.removeProperty("margin-top"),this.orchestrator.current=this.orchestrator.next,this.orchestrator.current.view.element.style.removeProperty("margin-top"),c.a.removeClass(this.orchestrator.current.view.element,R.NEXT_PLAYER_ID),c.a.addClass(this.orchestrator.current.view.element,R.CURRENT_PLAYER_ID),this.orchestrator.getNext(!0),this.getService(F.a.eventManager).trigger(this.container,m.a.EVENT_SWIPE_UP_ANIMATION_FINISHED),this.updateUrlWithCapiId()},e.prototype.finishedUpAd=function(){var a=this.getService(F.a.analytics).omniture;this.orchestrator.current.bcPlayer.ima3.adsManager&&(this.orchestrator.current.bcPlayer.ima3.adsManager.discardAdBreak(),this.orchestrator.current.bcPlayer.ima3.adsManager.destroy(),this.orchestrator.current.bcPlayer.ima3.adsManager=null),this.orchestrator.current.bcPlayer.ads.endLinearAdMode(),this.orchestrator.current.view.adLabel.hide(),a.track([r.a.AD_SKIPPED]);var e=this.orchestrator.current.view.element.nextElementSibling;e.getAttribute("id")==this.orchestrator.current.view.element.getAttribute("id")&&e.remove(),this.orchestrator.current.bcPlayer.currentTime(0),this.orchestrator.current.bcPlayer.play(),this.orchestrator.next&&(this.orchestrator.hasNext=!0),this.orchestrator.current.view.element.style["margin-top"]="0px",a.track([r.a.CONTENT_POST_AD]);var t=this.getService(F.a.eventManager);t.trigger(this.container,K.a.EVENT_REFRESH_VIEW),t.trigger(this.container,m.a.EVENT_SWIPE_UP_ANIMATION_FINISHED)},e.prototype.finishedDown=function(){var a,e;null===(e=null===(a=this.orchestrator.next)||void 0===a?void 0:a.bcPlayer)||void 0===e||e.dispose(),this.orchestrator.next&&delete window.videojs.players[this.orchestrator.next.view.id],this.orchestrator.next=this.orchestrator.current,c.a.removeClass(this.orchestrator.current.view.element,R.CURRENT_PLAYER_ID),c.a.addClass(this.orchestrator.current.view.element,R.NEXT_PLAYER_ID),this.orchestrator.next.view.element.style.removeProperty("margin-top"),this.orchestrator.current=this.orchestrator.previous,c.a.removeClass(this.orchestrator.current.view.element,R.PREVIOUS_PLAYER_ID),c.a.addClass(this.orchestrator.current.view.element,R.CURRENT_PLAYER_ID),this.orchestrator.current.view.element.style.removeProperty("margin-top"),this.orchestrator.getPrevious(),this.getService(F.a.eventManager).trigger(this.container,m.a.EVENT_SWIPE_DOWN_ANIMATION_FINISHED),this.updateUrlWithCapiId()},e.prototype.updateUrlWithCapiId=function(){var a=this.getService(F.a.context);if(a.isVvaafca()){var e=this.orchestrator.current.view.player.capiVideo.title,t=this.orchestrator.current.view.player.capiVideo.vaafcaUrl;0===this.orchestrator.index&&(t=a.capiVideo.vaafcaUrl),t&&(window.history.replaceState(null,e,t),document.title=e)}},e}(a.a),y=t(17),g=t(133),_=t(123),E=t(12),h=t(46),S=t(42),P=t(90),C=t(57),b=t(93),w=t(71),T=t(83),N=t(8),f=t(85),I=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=function(a){function e(t,n){var i=a.call(this,t,e.pluginName)||this;return i.trackPlay=!1,i.setVodFullscreen=!1,i.activeSession=!1,i.lightning=n,i}return I(e,a),e.prototype.reset=e.prototype.initialiseSession=function(a){var e;this.activeSession&&this.endSession();var t=ADB.va.MediaHeartbeat;this.mediaObject=t.createMediaObject(a.mediainfo.name,a.mediainfo.id,a.mediainfo.duration,this.setVodFullscreen?"vod_fullscreen":t.StreamType.VOD),this.setMetadata(),null===(e=this.mediaHeartbeat)||void 0===e||e.trackSessionStart(this.mediaObject,{}),this.activeSession=!0},e.prototype.setMetadata=function(){if(this.mediaObject){var a=ADB.va.MediaHeartbeat,e=this.getMetadata(this.getService(F.a.context));this.mediaObject.setValue(a.MediaObjectKey.StandardVideoMetadata,e)}},e.prototype.endSession=function(){var t;this.activeSession&&(null===(t=this.mediaHeartbeat)||void 0===t||t.trackSessionEnd(this.mediaObject,{}),this.activeSession=!1),this.mediaHeartbeat=null},e.prototype.getMetadata=function(c){var e,t=this.getService(F.a.environment),n=this.lightning.capiVideo,i=new P.a,r=this.getService(F.a.lightningPlayerOrchestrator);i.channel=n.categoriesExtended().slice(0,4).join(", "),i.brand=t.brand(),i.site=t.site(),i.videoSource=n.source&&n.source.toLowerCase()||"NA",i.playlistIndex=c.recommendationsOrigin||null,i.advtType=c.ssai?"SSAI":"CSAI",i["a.media.network"]=t.network(),c.collectionID&&(i["a.media.feed"]=c.collectionID),n.videoTypes&&(i["a.media.format"]=n.videoTypes.join(", ")),i["a.media.placement"]=c.isContainerOneFAST().toString();var a=this.lightning.bcPlayer.mediainfo;if(a){var o=h.a.CT_STANDARD;if(a.custom_fields)switch(a.custom_fields.ad_controls){case h.a.AC_SENSITIVE:o=h.a.AC_SENSITIVE;break;case h.a.AC_SPONSORED:o=h.a.AC_SPONSORED;break;default:-1<this.container.view.cssClasses.indexOf(h.a.SPONSORED_CSS)&&(o=h.a.AC_SPONSORED);}i.mediacontenttype=o}if(i.inactivetab=t.tabLoaded,i.videoQuality=c.videoQuality,i.playlistOrder=(r.index+1).toString(),i.accessType=n.accessType===E.a.ACCESS_TYPE_PREMIUM?"restricted":"free",null===(e=n.date)||void 0===e?void 0:e.live){var s=new Date(n.date.live),l=s.getFullYear(),u=s.getMonth()+1,d=s.getDate();i["a.media.digitalDate"]=l+"-"+u+"-"+d}i["a.media.keyword"]=n.categoriesExtended().join(", "),i.channel=n.categoriesExtended().slice(0,4).join(", ");var p="close caption disabled";return c.hasSubtitles()&&"true"===C.a.getCaptionStatus(this.container)&&(p="closed caption enabled"),i.mediacaptionstatus=p,i},e.prototype.set=function(c){var d=this;void 0===c&&(c=!1),this.heartbeatConfig=this.getService(F.a.config).heartbeat,this.setVodFullscreen=c;var t=this.lightning.bcPlayer;if(t&&null!==t){var e,p=ADB.va.MediaHeartbeat,n=ADB.va.MediaHeartbeatConfig,a=new(0,ADB.va.MediaHeartbeatDelegate);a.getCurrentPlaybackTime=function(){var a=0;try{a=t.currentTime()}catch(t){console.warn(t)}return a},a.getQoSObject=function(){var t,e=null;try{var n=d.lightning.bcPlayer.getVideoPlaybackQuality(),r=null===(t=d.lightning.bcPlayer.tech(!0).vhs.playlists.media())||void 0===t?void 0:t.attributes;e=p.createQoSObject(r&&r.BANDWIDTH||0,n.creationTime,24,n.droppedVideoFrames)}catch(t){console.warn(t)}return e},"undefined"!=typeof Visitor&&"function"==typeof Visitor.getInstance&&window.utag_data.adobe&&(e=Visitor.getInstance(this.heartbeatConfig.visitor.orgId,window.utag_data.adobe.visitorObjectConfig));var r=null;window.metrics&&(void 0===window.metrics.s?((r=new AppMeasurement(this.heartbeatConfig.appMeasurement.rsid)).visitor=e,r.trackingServer=this.heartbeatConfig.appMeasurement.trackingServer,r.account=this.heartbeatConfig.appMeasurement.rsid,r.visitorID=this.heartbeatConfig.appMeasurement.visitorId,r.pageName="",r.charSet="UTF-8"):r=window.metrics.s);var i=new n,o=this.getService(F.a.context);i.trackingServer=this.heartbeatConfig.heartbeat.trackingServer,i.playerName=S.a.VERTICAL_PLAYER_FULLSCREEN,o.isVvaafca()&&(i.playerName=S.a.VERTICAL_VVAAFCA),(o.isCarousel()||o.isVvaafca()&&!o.isHubsVvaafca()&&document.referrer.includes(window.location.origin))&&(i.playerName=S.a.VERTICAL_CAROUSEL),o.isHubsVvaafca()&&(i.playerName=S.a.VERTICAL_HUBS_VVAAFCA),i.channel=this.lightning.capiVideo.categories.join(", "),i.debugLogging=!1,i.appVersion="",i.ssl=!0,i.ovp="",r&&(this.mediaHeartbeat=new p(a,i,r),this.initialiseSession(t),this.setEvents())}},e.prototype.setEvents=function(){var a=this,e=this.lightning.bcPlayer;this.container.getPluginInstance(T.a.pluginName).then(function(e){var t=new b.a(a.container);e.load(),a.nielsenEvents=new w.a(a.container,t,e)}),this.getService(F.a.context);var t=function(){var t;e.ads.isAdPlaying()||(a.trackPlay=!0,null===(t=a.mediaHeartbeat)||void 0===t||t.trackPlay())};e.on("playing",function(){a.trackPlay?e.off("playing",t):t()}),this.container.getService(F.a.eventManager).addCustomListener(this.container,d.a,,e.one("timeupdate",function(){var t;a.activeSession||a.initialiseSession(e),a.setVodFullscreen||null===(t=a.mediaHeartbeat)||void 0===t||t.trackPlay()}),e.on("timeupdate",,e.on("pause",function(){var t;e.ended()||null===(t=a.mediaHeartbeat)||void 0===t||t.trackPause(),a.nielsenEvents.stopEvent(e)}),e.on("ended",function(){var t;null===(t=a.mediaHeartbeat)||void 0===t||t.trackComplete(a.mediaObject,{}),a.endSession(),a.nielsenEvents.endEvent(e)}),e.on("ads-play",function(){var e;null===(e=a.mediaHeartbeat)||void 0===e||e.trackPlay(),a.nielsenEvents.sendAdMetadata()}),e.on("ads-pause",function(){var t;null===(t=a.mediaHeartbeat)||void 0===t||t.trackPause(),a.nielsenEvents.stopEvent(e)}),e.on("ads-ad-started",function(){a.activeSession||a.initialiseSession(e);var t=ADB.va.MediaHeartbeat;if(e.ads.ad&&e.ads&&e.ads.ad.duration&&e.ads.ad.duration>S.a.AD_DURATION_TRACKING_THRESHOLD){var n=t.createAdBreakObject("Ad break name",0,0);a.mediaHeartbeat.trackEvent(t.Event.AdBreakStart,n);var i=t.createAdObject("Ad title",e.ads.ad.id+"",e.ads.ad.index,e.ads.ad.duration);a.mediaHeartbeat.trackEvent(t.Event.AdStart,i,{})}a.nielsenEvents.sendAdMetadata()});var n=function(){var e=ADB.va.MediaHeartbeat;a.mediaHeartbeat.trackEvent(e.Event.AdSkip),a.mediaHeartbeat.trackEvent(e.Event.AdBreakComplete),a.mediaHeartbeat.trackPlay(),a.container.getPluginInstance(f.a.pluginName).then(};e.on("ads-ad-skipped",function(){n(),a.nielsenEvents.stopEvent(e),a.nielsenEvents.sendMetadataEvent()}),e.on("ima3error",n),e.on("ima3-ad-error",n),e.on("ads-ad-ended",function(){if(e.ads.ad){var t=ADB.va.MediaHeartbeat;a.mediaHeartbeat.trackEvent(t.Event.AdComplete),a.mediaHeartbeat.trackEvent(t.Event.AdBreakComplete)}a.nielsenEvents.stopEvent(e)}),e.on("ads-ad-skipped",function(){e.ads.ad&&a.getService(F.a.analytics).omniture.track([r.a.AD_SKIPPED])}),e.on("ima3-ad-error",function(){e.ads.ad&&a.getService(F.a.analytics).omniture.track([r.a.AD_FAILED])}),e.on("ima3error",function(){e.ads.ad&&a.getService(F.a.analytics).omniture.track([r.a.AD_FAILED_LOADING])}),e.on("adserror",function(){e.ads.ad&&a.getService(F.a.analytics).omniture.track([r.a.AD_FAILED])}),e.on("play",function(){a.trackPlay=!0,t(),a.nielsenEvents.playEvent(e),a.nielsenEvents.playerPlayAndTimeUpdateEvent()})},e.pluginName="LP_PLUGIN_ANALYTICS",e}(N.a),A=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),O=function(a){eturn A(e,a),e.prototype.init=function(l,e,t){var s=this;return void 0===e&&(e=!1),void 0===t&&(t=!1),this.capiVideo=l,this.lastActive=new Date().getTime(),new Promise(function(t){var n,i,a;if(s.bcPlayer)return t();s.view=new K.a(s.container,s.id),s.view.element.setAttribute("data-martini-id",l.platformId);var m=s.container.getService(F.a.lightningPlayerOrchestrator);e?m.overlay.insertBefore(s.view.element,m.current.view.element):m.overlay.appendChild(s.view.element);var o=null===(a=null===(i=null===(n=m.current)||void 0===n?void 0:n.view)||void 0===i?void 0:i.element)||void 0===a?void 0:a.querySelector(".lp-close");if(o){var u=new CustomEvent("video-element-added-to-dom",{detail:{closeButton:o}});window.dispatchEvent(u)}return s.bcPlayer=window.bc(s.view.id,{preload:"metadata",controlBar:{children:["progressControl"]}}),s.analytics=new L(s.container,s),s.bcPlayer.one("play",function(){s.container.getPluginInstance(_.a.pluginName).then(function(a){var e=!s.container.bcPlayer().ended()&&a.canonicalVideo===m.current.capiVideo,t=50,n=setInterval(function(){window.metrics?(s.analytics.set(e),s.analytics.setMetadata(),clearInterval(n)):t--,0>t&&clearInterval(n)},100);s.view.element.classList.contains("vms-ad-assigned")&&s.view.element.classList.remove("vms-ad-assigned")})}),s.bcPlayer.removeTechControlsListeners_(),s.bcPlayer.one("ready",function(){new g.a(s.container,s)}),s.bcPlayer.on("ready",function(){s.bcPlayer.tech_.off("dblclick"),s.bcPlayer.options_.userActions.hotkeys.fullscreenKey=function(){return!1},s.bcPlayer.options_.userActions.hotkeys.playPauseKey=var a=s.view.closeButton.element.offsetHeight+10;s.bcPlayer.one("ads-ad-started",function(){s.view.element.classList.contains("vms-ad-assigned")&&s.view.element.classList.remove("vms-ad-assigned");var e=s.bcPlayer.el_.offsetHeight-a-10;s.bcPlayer.el_.style.setProperty("--ads-max-height",e+"px","important"),s.bcPlayer.el_.style.setProperty("--ads-margin-top",a+"px","important"),s.bcPlayer.el_.style.setProperty("--ads-label-bottom",s.bcPlayer.el_.offsetHeight-e+100+"px","important");var t=100/(100-2*(100/s.bcPlayer.ads.ad.duration));s.bcPlayer.el_.style.setProperty("--ads-progress-bar-scaling-factor",t)})}),s.bcPlayer.on("fullscreenchange",function(){var t=s.bcPlayer;t.isFullscreen()&&t.exitFullscreen()}),s.bcPlayer.on("play",function(){var d,e,t,n,i,r,a,o,c=!(null!==(e=null===(d=m.previous)||void 0===d?void 0:d.bcPlayer)&&void 0!==e)||!e.paused(),s=!(null!==(n=null===(t=m.next)||void 0===t?void 0:t.bcPlayer)&&void 0!==n)||!n.paused();c&&(null===(r=null===(i=m.previous)||void 0===i?void 0:i.bcPlayer)||void 0===r||r.pause()),s&&(null===(o=null===(a=m.next)||void 0===a?void 0:a.bcPlayer)||void 0===o||o.pause())}),s.bcPlayer.one("timeupdate",function(){if(setTimeout(function(){if(s.trackVidora){var t=s.getService(F.a.vidora);null==t||t.client.trackPlay(s.capiVideo),s.trackVidora=!1}},5e3),s.trackVidora){var e=s.getService(F.a.analytics).omniture,t=function(){y.a.recommendationsType[l.id]===y.a.RECOMMENDATION_TYPE_SIMILAR?e.track([r.a.VIDORA_SIMILARS]):y.a.recommendationsType[l.id]===y.a.RECOMMENDATION_TYPE_USER_RECOMMENDATIONS&&e.track([r.a.VIDORA_USER_RECOMMENDATION])},n=s.getService(F.a.pageManager);if(0==m.carouselLength)t();else{var i=2>m.carouselLength-n.startAt?m.carouselLength-n.startAt-1:2;m.index>i&&t()}}s.view.element.classList.contains("vms-ad-assigned")&&s.view.element.classList.remove("vms-ad-assigned")}),c.a.onClick(s.view.element,,s.bcPlayer.on("ads-ad-skipped",function(){var e=s.getService(F.a.analytics).omniture;m.current.view.userClickedToPlay=!0,m.current.view.videoAutoplay=!1,e.track([r.a.CONTENT_POST_AD],{eVar42:l.source&&l.source.toLowerCase()||"NA"})}),s.bcPlayer.on("ima3-ad-error",,s.bcPlayer.on("ima3-complete",,s.bcPlayer.on("timeupdate",function(){(s.view.element.classList.contains("vms-ad-assigned")&&s.view.element.classList.remove("vms-ad-assigned"),c.a.hasClass(s.view.element,R.CURRENT_PLAYER_ID))||!s.bcPlayer.paused()&&s.bcPlayer.pause(),5e3<new Date().getTime()-s.lastActive?s.bcPlayer.userActive(!1):s.bcPlayer.userActive(!0),m.current&&m.current.view&&m.current.view.pauseUntilInteraction&&(m.current.bcPlayer.pause(),m.current.bcPlayer.ima3.adsManager&&m.current.bcPlayer.ima3.adsManager.pause())}),s.bcPlayer.on("ended",function(){s.container.getPluginInstance(_.a.pluginName).then(function(a){var e=a.inactivity;e.counter!==e.inactivityLimit&&s.autoNext(),e.counter===e.inactivityLimit&&e.showInactivity();var t=s.getService(F.a.vidora);t&&(t.client?null==t||t.client.trackEnded(s.capiVideo):t.ready().then(function(){null==t||t.client.trackEnded(s.capiVideo)})),e.counter++})}),s.bcPlayer.on("timeupdate",function(){if(s.bcPlayer.id()==m.current.bcPlayer.id()){var t=s.getService(F.a.analytics).omniture;if(s.view.autoplayEventTracked)return;s.view.userClickedToPlay?(t.track([r.a.CLICK_TO_PLAY]),s.view.userClickedToPlay=null,s.view.videoAutoplay=null,s.view.autoplayEventTracked=!0):s.view.videoAutoplay&&(t.track([r.a.AUTOPLAY]),s.view.userClickedToPlay=null,s.view.videoAutoplay=null,s.view.autoplayEventTracked=!0)}}),s.bcPlayer.one("loadedmetadata",,c.a.onTouch(s.bcPlayer.el_,function(){s.getService(F.a.eventManager).trigger(s.container,K.a.EVENT_ON_INTERACT)}),s.view.show(s),t()})},e.prototype.autoNext=function(){var a=this.getService(F.a.lightningPlayerOrchestrator);if(!a.vudooOverlayOpen)if(a.next){var e=this.getService(F.a.eventManager);a.next.view.videoAutoplay=!0,e.trigger(this.container,K.a.EVENT_SWIPE_UP,300),e.trigger(this.container,K.a.EVENT_AUTO_SWIPES)}else this.view.addEndState()},e.prototype.load=function(a){var e=this;return new Promise(function(t){0===a.duration?(e.bcPlayer.catalog.load(a),t()):(e.bcPlayer.one("loadedmetadata",,0>a.duration&&e.bcPlayer.play(),e.bcPlayer.catalog.load(a))})},e.prototype.getVideoUrl=function(){var a=this.container.getService(F.a.lightningPlayerOrchestrator),e=this.container.getService(F.a.context),t=this.capiVideo.vaafcaUrl;return 0!==a.index||t||(t=e.capiVideo.vaafcaUrl),t||(t=window.location.href),t},e}(a.a),V=t(135),k=t(132),x=),D=M=function(l,e){function t(t){return function(a){return function(t){if(s)throw new TypeError("Generator is already executing.");for(;d;)try{if(s=1,n&&(i=2&t[0]?n.return:t[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,t[1])).done)return i;switch(n=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return d.label++,{value:t[1],done:!1};case 5:d.label++,n=t[1],t=[0];continue;case 7:t=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=0<i.length&&i[i.length-1])||6!==t[0]&&2!==t[0])){d=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){d.label=t[1];break}if(6===t[0]&&d.label<i[1]){d.label=i[1],i=t;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(t);break}i[2]&&d.ops.pop(),d.trys.pop();continue;}t=e.call(l,d)}catch(a){t=[6,a],n=0}finally{s=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,a])}}var s,n,i,c,d={label:0,sent:trys:[],ops:[]};return c={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=,c},R=function(a){function y(e){var c=a.call(this,e)||this;c.index=0,c.adIndex=0,c.carouselLength=0,c.hasNext=!1,c.hasPrev=!1,c.wasPlayingOnPageHidden=!1,c.wasAdPlayingOnPageHidden=!1,c.vudooOverlayOpen=!1,c.handleKeyboardShortcuts=function(i){if(!c.vudooOverlayOpen){var e=c.current.bcPlayer;if(e){var t=e.el_.closest(".vms-vertical-overlay"),n=document.querySelector("#"+e.id_+" .rp-end-state"),d=!!document.querySelector("#"+e.id_+" .lp-inactivity"),a=!!n&&"none"!==window.getComputedStyle(n).display,o=c.getService(F.a.eventManager);if(t){if("m"===i.key){if(a||d)return;o.trigger(c.container,p.d)}if("k"===i.key&&o.trigger(c.container,p.e),"f"===i.key&&c.disposeAll(),"c"===i.key){if(a||d)return;o.trigger(c.container,p.c)}if("N"!==i.key)"ArrowDown"===i.key?o.trigger(c.container,p.a):"ArrowUp"===i.key&&o.trigger(c.container,p.b);else if(a)c.current.view.endState.watchAgain();else if(c.hasNext){if(c.current.bcPlayer.ima3.adsManager&&0<c.current.bcPlayer.ima3.adsManager.getRemainingTime()){var s=c.current.view.element.nextElementSibling,l=c.current.view.element;s=l.cloneNode(!0),l.parentNode.insertBefore(s,l.nextSibling),s.style.opacity="0"}c.next&&(c.next.view.userClickedToPlay=!0),o.trigger(c.container,K.a.EVENT_SWIPE_UP,300),o.trigger(c.container,K.a.EVENT_ON_INTERACT)}}}}},c.current=new O(c.container,y.CURRENT_PLAYER_ID),c.container.serviceProvider.register(F.a.lightningPlayerOrchestrator,c),c.overlay=document.createElement("div"),c.overlay.className="vms-vertical-overlay",c.setEvents();var t=c.container.getService(F.a.context);return(t.isVvaafca()||t.isCarousel())&&c.setOverlay(),t.isVvaafca()&&c.overlay.classList.add("vms-vertical-overlay-vaafca"),c}return x(y,a),y.prototype.setOverlay=function(){document.body.querySelector("."+this.overlay.className)||document.body.appendChild(this.overlay)},y.prototype.removeOverlay=function(){var a,e;null===(a=document.body.querySelector("."+this.overlay.className))||void 0===a||a.remove(),null===(e=document.body.querySelector(".martini-fullscreen"))||void 0===e||e.remove()},y.prototype.getNext=function(t){return void 0===t&&(t=!1),D(this,void 0,void 0,function(){var e,a=this;return M(this,function(n){switch(n.label){case 0:return e=this.container.getService(F.a.context),[4,this.container.getPluginInstance(s.a.pluginName).then(function(n){return D(a,void 0,void 0,function(){var a,r,i,o,l,s,c,d=this;return M(this,function(p){switch(p.label){case 0:return 1!==n.view.recommendations.items.length||e.isVvaafca()||e.isDemoMode()?(this.index===this.carouselLength-1&&0!==this.carouselLength&&this.container.fetchRelated(e.capiVideo),a=null===(l=n.view.recommendations.items[this.index+1])||void 0===l?void 0:l.capiVideo,r=null===(s=n.view.recommendations.items[this.index+2])||void 0===s?void 0:s.capiVideo,e.isCarousel()?0==this.index%6&&0<this.index&&this.index>this.carouselLength&&this.container.related.getNextPage(q.a.TYPE_RELATED):0==this.index%6&&0<this.index&&this.container.related.getNextPage(q.a.TYPE_RELATED),this.next=null,a?!1===a.fetched?[4,this.container.getPluginInstance(_.a.pluginName).then(function(r){return D(d,void 0,void 0,function(){return M(this,function(e){switch(e.label){case 0:return[4,r.recommendations.fetch(a)];case 1:return a=e.sent(),n.view.recommendations.items.map(function(r,e){r.capiVideo.id===a.id&&(n.view.recommendations.items[e].capiVideo=a)}),[2];}})})})]:[3,2]:[3,3]):[2];case 1:p.sent(),p.label=2;case 2:this.next=new O(this.container,y.NEXT_PLAYER_ID),this.next.trackVidora=!0,this.next.init(a),t&&this.showAds("next"),null===(c=this.next.view)||void 0===c||c.mute.updateMuteIconStatus("next"),i=a.platformId.split("-"),this.next.bcPlayer.catalog.getVideo(i[1],function(a,e){d.next.bcPlayer.one("loadstart",function(){o.trigger(d.container,m.a.EVENT_NEXT_LOADED,e)});var t=[];0>e.duration&&(t=e.sources.filter(),0<t.length&&(e.sources=t),d.showPoster(d.next.bcPlayer,e),d.next.bcPlayer.catalog.load(e)}),r&&!1===r.fetched&&setTimeout(function(){return D(d,void 0,void 0,function(){var a=this;return M(this,function(){return this.container.getPluginInstance(_.a.pluginName).then(function(n){return D(a,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return[4,n.recommendations.fetch(r)];case 1:return r=t.sent(),[2];}})})}),[2]})})},100),p.label=3;case 3:return(o=this.container.getService(F.a.eventManager)).trigger(this.container,K.a.EVENT_REFRESH_VIEW),[2];}})})})];case 1:return n.sent(),[2];}})})},y.prototype.showAds=function(s){return void 0===s&&(s="current"),D(this,void 0,void 0,function(){var e,t,n,r=this;return M(this,function(a){switch(a.label){case 0:"next"==s&&this.adIndex++,a.label=1;case 1:return a.trys.push([1,4,,5]),y.AD_ENABLED?(this[s].bcPlayer.ima3.settings.requestMode="onload",0==this.adIndex%2?(e=new URLSearchParams(window.location.search),t=e.get("ads"),y.AD_ENABLED&&(null===t||"disabled"!==t)?[4,this.container.getPluginInstance(l.a.pluginName).then(function(e){r[s].bcPlayer.ima3.adMacroReplacement=)]:[3,3]):[3,3]):[3,3];case 2:a.sent(),this[s].view.hasAds=!0,this[s].view.element.classList.add("vms-ad-assigned"),a.label=3;case 3:return[3,5];case 4:return n=a.sent(),this.container.log("Lightning player ad exception:",n),[3,5];case 5:return"current"==s&&this.adIndex++,[2];}})})},y.prototype.showPoster=function(a,e){a.el_.style.background="url("+e.poster+")",a.el_.style["background-size"]="contain",a.el_.style["background-repeat"]="no-repeat",a.el_.style["background-position"]="center"},y.prototype.getPrevious=function(t){var c=this;void 0===t&&(t=!1),this.previous=null;var e=this.container.getService(F.a.eventManager);t||this.index--,this.container.getPluginInstance(s.a.pluginName).then(function(n){var r,a,i=null===(r=n.view.recommendations.items[c.index-1])||void 0===r?void 0:r.capiVideo;if(i){c.previous=new O(c.container,y.PREVIOUS_PLAYER_ID),c.previous.init(i,!0);var o=i.platformId.split("-");c.previous.bcPlayer.catalog.getVideo(o[1],function(a,n){c.previous.bcPlayer.one("loadstart",function(){e.trigger(c.container,m.a.EVENT_PREV_LOADED,n)}),c.previous.bcPlayer.catalog.load(n),c.showPoster(c.previous.bcPlayer,n)}),null===(a=c.previous)||void 0===a||a.view.mute.updateMuteIconStatus("previous")}t||c.container.getService(F.a.eventManager).trigger(c.container,K.a.EVENT_REFRESH_VIEW)})},y.prototype.load=function(a,e,t){var n=this;void 0===t&&(t=!1);var i=this.getService(F.a.pageManager);this.container.getPluginInstance(s.a.pluginName).then(function(r){var o;n.originalRecommendationItems=r.view.recommendations.items,n.current.init(null===(o=n.originalRecommendationItems[n.index])||void 0===o?void 0:o.capiVideo,!1,!0).then(function(){n.current.bcPlayer.one("play",function(){n.current.view.captions.refreshState()}),n.current.load(e).then(function(){setTimeout(function(){(0!==n.current.capiVideo.duration&&n.current.bcPlayer.mediainfo.id===n.container.bcPlayer().mediainfo.id&&(n.container.bcPlayer().ended()||n.current.bcPlayer.currentTime(n.container.bcPlayer().currentTime())),t&&0!==+i.startAt&&(n.previous||n.getPrevious(!0)),t&&0==n.adIndex)?(n.showAds("current"),n.next||n.getNext(!1)):n.container.getService(F.a.context).isVvaafca()?n.getNext(!1):n.next?n.showAds("next"):n.getNext(!0),n.current.bcPlayer.paused()&&n.current.bcPlayer.play().then(function(){n.retryPlaying()}).catch(function(){n.retryPlaying()})},100)},}).catch(function(t){console.warn(t)})})},y.prototype.disposeAll=function(t){var m,n,i,r,a,o,l=this;void 0===t&&(t=!1),c.a.removeClass(window.document.body.parentElement,"video-full-screen"),this.previous&&this.previous.bcPlayer&&(this.previous.analytics.endSession(),null===(n=null===(m=this.previous)||void 0===m?void 0:m.bcPlayer)||void 0===n||n.dispose(),delete window.videojs.players[this.previous.view.id],this.previous=null),this.current&&this.current.bcPlayer&&(this.current.analytics.endSession(),null===(r=null===(i=this.current)||void 0===i?void 0:i.bcPlayer)||void 0===r||r.dispose(),delete window.videojs.players[this.current.view.id],this.current=new O(this.container,y.CURRENT_PLAYER_ID)),this.next&&this.next.bcPlayer&&(this.next.analytics.endSession(),null===(o=null===(a=this.next)||void 0===a?void 0:a.bcPlayer)||void 0===o||o.dispose(),delete window.videojs.players[this.next.view.id],this.next=null),this.container.getPluginInstance(s.a.pluginName).then(,this.removeOverlay(),this.container.getService(F.a.context).isVvaafca()&&!t&&this.redirectToPreviousUrl();var u=this.getService(F.a.pageManager);u.carouselVideosLoaded&&(u.carouselVideosLoaded=!1),u.vidoraVideosLoaded&&(u.vidoraVideosLoaded=!1),u.collectionID="",u.recommendations=[],y.vudooInteractiveEventsSubscribed=!1,y.VudooInteractivePluginRegistered=!1,this.getService(F.a.eventManager).trigger(this.container,d.a,t)},y.prototype.retryPlaying=function(){var a=this;if(this.current.bcPlayer&&(clearInterval(this.retryInverval),!(this.current&&this.current.view&&this.current.view.pauseUntilInteraction))){var e=this.current.bcPlayer.el_.querySelector(".lp-pause-area");e.classList.add("hidden-node");var t=0;this.retryInverval=setInterval(function(){return a.current&&a.current.view&&a.current.view.sharePopupOpen?(e.classList.remove("hidden-node"),void clearInterval(a.retryInverval)):void(3<=t?(e.classList.remove("hidden-node"),clearInterval(a.retryInverval)):(t++,setTimeout(function(){var e,t;if(a.current&&a.current.bcPlayer){var n=null===(t=null===(e=a.current)||void 0===e?void 0:e.bcPlayer)||void 0===t?void 0:t.play();null==n||n.then(function(){a.current.bcPlayer.play().then(function(){a.current.bcPlayer.play()}).catch(function(){a.current.bcPlayer.play()})})}},0)))},500)}},y.prototype.setEvents=function(){var a=this,e=this.getService(F.a.eventManager);e.addCustomListener(this.container,m.a.EVENT_USER_SWIPE_UP,function(){a.current.bcPlayer.paused()||a.current.bcPlayer.pause(),a.current.trackVidora=!1,a.hasNext=!1,a.hasPrev=!0;try{a.current.bcPlayer.ima3.adsManager.discardAdBreak()}catch(t){}}),e.addCustomListener(this.container,m.a.EVENT_USER_SWIPE_DOWN,function(){a.current.bcPlayer.paused()||a.current.bcPlayer.pause(),a.current.trackVidora=!1,a.hasNext=!0,a.hasPrev=!1;try{a.current.bcPlayer.ima3.adsManager.discardAdBreak()}catch(t){}}),e.addCustomListener(this.container,m.a.EVENT_NEXT_LOADED,function(){a.hasNext=!0}),e.addCustomListener(this.container,m.a.EVENT_PREV_LOADED,function(){a.hasPrev=!0}),e.addCustomListener(this.container,o.a.EVENT_RECOMMENDATIONS_DEPLETED,,e.addCustomListener(this.container,m.a.EVENT_SWIPE_UP_ANIMATION_FINISHED,function(){if((a.current.lastActive=new Date().getTime(),a.current.bcPlayer.play().then(function(){a.retryPlaying()}).catch(function(){a.retryPlaying()}),a.index===a.originalRecommendationItems.length-1)&&a.container.getService(F.a.context).isVvaafca()){var e=k.a.getCorrectViewportHeight();a.current.view.element.style.height=G(e)+"px"}a.current.view.autoplayEventTracked=!1,a.current.bcPlayer.on("playing",function(){a.current.view.captions.refreshState()})}),e.addCustomListener(this.container,i.a.RAW_EVENT_PAGE_HIDDEN,function(){if(a.container.bcPlayer()||a.current.bcPlayer){var e=a.current.bcPlayer||a.container.bcPlayer(),t=!e.paused(),n=e.ads.isAdPlaying();if(a.timeWhenLeavingPage=e.currentTime(),a.wasPlayingOnPageHidden=t,a.wasAdPlayingOnPageHidden=n,t&&e.pause(),n)try{e.ima3.adsManager.pause(),e.ima3.adPlayer.pause()}catch(e){a.container.log("Lightning player ad pause exception:",e)}}}),e.addCustomListener(this.container,i.a.RAW_EVENT_PAGE_VISIBLE,function(){var e=a.current.bcPlayer||a.container.bcPlayer(),t=a.container.getService(F.a.context);if(e&&e.currentTime(a.timeWhenLeavingPage),!t.isKTV()){if(e&&a.current&&a.current.view&&a.current.view.pauseUntilInteraction)return e.pause(),void(e.ima3.adsManager&&e.ima3.adsManager.pause());if(a.wasPlayingOnPageHidden&&e&&(!e.paused()||e.play()),a.wasAdPlayingOnPageHidden&&a.current&&e&&e.ads.isAdPlaying())try{e.ima3.adPlayer.play()}catch(e){a.container.log("Lightning player ad play exception:",e)}}}),e.addCustomListener(this.container,V.a.EVENT_ON_MUTE_TOGGLE,function(e){a.next&&a.next.bcPlayer&&(a.next.bcPlayer.muted(e),a.next.view.mute.updateMuteIconStatus("next")),a.previous&&a.previous.bcPlayer&&(a.previous.bcPlayer.muted(e),a.previous.view.mute.updateMuteIconStatus("previous"))}),e.addCustomListener(this.container,K.a.EVENT_SWIPE_UP,function(){var e;a.current.bcPlayer.ended()&&(null===(e=a.current.analytics.mediaHeartbeat)||void 0===e||e.trackComplete(a.current.analytics.mediaObject,{})),a.current.analytics.endSession(),a.current.bcPlayer.one("play",function(){a.current.analytics.set()})}),e.addCustomListener(this.container,K.a.EVENT_SWIPE_DOWN,function(){a.current.analytics.endSession(),a.current.bcPlayer.one("play",function(){a.current.analytics.set()})}),e.addCustomListener(this.container,m.a.EVENT_SWIPE_DOWN_ANIMATION_FINISHED,function(){a.current.lastActive=new Date().getTime(),a.current.bcPlayer.play().then(function(){a.retryPlaying()}).catch(function(){a.retryPlaying()}),a.current.view.autoplayEventTracked=!1,a.current.bcPlayer.on("playing",}),new v(this.container,this).setEvents()},y.prototype.redirectToPreviousUrl=function(){this.container.getService(F.a.analytics).omniture.track([r.a.EXIT_VAAFCA]),setTimeout(function(){var a=localStorage.getItem("vms-vaafca-accessed-from");if(localStorage.removeItem("vms-vaafca-accessed-from"),"website"==a)window.history.back();else if(window.location.href.includes("/kitchen")){var e=window.location.href.split("/kitchen")[0]+"/kitchen";window.location.assign(e)}else window.location.assign(window.location.origin)},1e3)},y.AD_ENABLED=!0,y.PREVIOUS_PLAYER_ID="lightning-player-previous",y.CURRENT_PLAYER_ID="lightning-player-current",y.NEXT_PLAYER_ID="lightning-player-next",y.VudooInteractivePluginRegistered=!1,y.vudooInteractiveEventsSubscribed=!1,y}(a.a)},146:function(d,e,t){"use strict";t.d(e,"a",function(){return l});var p,m=t(0),n=t(8),a=t(5),r=(p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=function(a){function e(t){var n=a.call(this,document.createElement("div"))||this;return n.isSkippable=!1,n.container=t,n.element.className=e.CSS_NAME,n.adText=document.createElement("div"),n.adText.innerHTML="",n.adText.className="vms-ad-count-text",n.element.appendChild(n.adText),n}return r(e,a),e.prototype.display=function(a){var e=this.container.bcPlayer();!this.container.getService(m.a.context).ssai&&(!e.ima3||e.ima3.currentAd&&e.ima3.currentAd.isSkippable())||a.appendChild(this.element)},e.CSS_NAME="vms-ad-count",e}(a.a),i=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),l=function(a){function e(t){var n=a.call(this,t,e.pluginName)||this;return n.container.getService(m.a.environment).browser.isMobile()||(n.view=new o(n.container),n.setEvents()),n}return i(e,a),e.prototype.setEvents=function(){var d=this,e=this.getService(m.a.context),t=this.getService(m.a.eventManager);t.addListener(this.container,"ads-ad-started",function(){var t,n,i,r,a;if(!e.adsDisabled){d.view.show();var o;if(null===(n=null===(t=d.container.bcPlayer())||void 0===t?void 0:t.ima3)||void 0===n?void 0:n.adControlBar)(o=d.container.bcPlayer().ima3.adControlBar).el_.insertBefore(d.view.adText,o.progressControl.el_),o.el_.insertBefore(o.currentTimeDisplay.el_,o.progressControl.el_);else{var c=null===(a=null==(o=null===(r=null===(i=d.container.view.element.querySelector(".vjs-ssai-ad-remaining-time"))||void 0===i?void 0:i.parentNode)||void 0===r?void 0:r.parentNode)?void 0:o.querySelector(".vjs-ssai-ad-remaining-time"))||void 0===a?void 0:a.parentNode;o.insertBefore(d.view.adText,c)}var s=d.container.player.getBCPlayer();s.ima3&&s.ima3.currentAd&&s.ima3.currentAd.data&&s.ima3.currentAdEventInfo&&1<s.ima3.currentAdEventInfo.adPodLength?(d.view.display(d.container.bcPlayer().el_),d.view.adText.innerHTML="Ad "+s.ima3.currentAd.data.adPodInfo.adPosition+" of "+s.ima3.currentAdEventInfo.adPodLength+" \xB7 "):d.view.adText.innerHTML="Ad "}}),t.addListener(this.container,"play",function(){d.view.hide()}),t.addListener(this.container,"ads-ad-ended",function(){d.view.hide()}),t.addListener(this.container,"ima3-complete",},e.pluginName="PLUGIN_AD_COUNTER_DISPLAY",e}(n.a)},147:function(p,e,t){"use strict";t.d(e,"a",function(){return c});var m,n=t(0),r=t(8),a=t(41),i=t(5),o=(m=function(a,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}m(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),s=function(a){function e(){var t=a.call(this,document.createElement("div"))||this;return t.element.className=e.CSS_NAME,t.progress=document.createElement("div"),t.progress.className="rp-progress",t.element.appendChild(t.progress),t}return o(e,a),e.CSS_NAME="rp-alternate-progress-bar",e}(i.a),l=function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),c=function(r){function e(t){var a=r.call(this,t,e.pluginName)||this;return a.setEvents(),a}return l(e,r),e.prototype.setEvents=function(){var r=this,e=this.getService(n.a.eventManager);e.addListener(this.container,"ready",function(){var e=r.container.bcPlayer();r.view=new s,r.recommendationsBar=new s,r.recommendationsBar.element.className+="-mobile",r.container.getPluginInstance(a.a.pluginName).then(,e.el().appendChild(r.view.element)}),e.addListener(this.container,"timeupdate",function(){if(r.container.view.element.parentNode){var e=r.container.bcPlayer(),t=e.currentTime(),a=e.duration();r.view.progress.style.width=100*(t/a)+"%",r.recommendationsBar.progress.style.width=100*(t/a)+"%"}})},e.pluginName="PLUGIN_PROGRESS_BAR",e}(r.a)},148:function(y,e,t){(function(e){r m=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,a=parseInt,o="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,s=o||c||Function("return this")(),l=Object.prototype.toString,b=Math.max,d=Math.min,p=y.exports=function(m,h,t){i,r,T,a,o,s=0,l=!1,c=!1,u=!0;if("function"!=typeof m)throw new TypeError("Expected a function");return h=v(h)||0,C(t)&&(l=!!t.leading,r=(c="maxWait"in t)?b(v(t.maxWait)||0,h):r,u="trailing"in t?!!t.trailing:u),S.cancel=S.flush=S}}).call(this,t(65))},149:function(m,e,t){"use strict";t.r(e),t.d(e,"Description",function(){return d});var y,n=t(148),g=t.n(n),a=t(67),o=t(48),c=t(1),r=t(8),l=t(46),_=t(0),s="/build/53b093c7e668778718c1889f1fe2e17a.svg",i=(y=function(a,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(a,e)},function(a,e){function t(){this.constructor=a}y(a,e),a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),d=function(d){function e(t,a){var n=d.call(this,t,e.pluginName)||this;return n.shaving=!1,n.currentDomain="",n.vaafcaInitialSetupDone=!1,n.element=document.createElement("div"),n.element.className=e.className,n.uniqueId=new Date().getTime(),n.element.setAttribute("id","description-"+n.uniqueId),n.lightning=a,n.shaveConfig={character:"..... See more",charclassname:"see-more-"+n.uniqueId},n.overlay=document.createElement("div"),n.overlay.className="vms-description-overlay hidden-node",n.getPlayer().el_.appendChild(n.overlay),n.setEvents(),n.lightning&&n.lightning.capiVideo&&n.lightning.capiVideo.seoOwnerDomain&&(n.currentDomain=n.lightning.capiVideo.seoOwnerDomain,n.currentDomain.toLowerCase().includes("sit.com")?n.currentDomain=n.currentDomain.toLowerCase().replace("sit.com",".com"):n.currentDomain.toLowerCase().includes("uat.com")&&(n.currentDomain=n.currentDomain.toLowerCase().replace("uat.com",".com")),"www."===n.currentDomain.substring(0,4)&&(n.currentDomain=n.currentDomain.replace("www.",""))),n.authorBrandLogoMap={"adelaidenow.com.au":"/build/793c72c24f66fb13d442ad5269c9ecae.svg","cairnspost.com.au":"/build/43c10a5e47af9f8ac9276b859d506f78.svg","couriermail.com.au":"/build/8fe44f88fa2833ef3c4be55fa07e2aa4.svg","dailytelegraph.com.au":"/build/5e3864d3ee67e7548b7c5864f06c4309.svg","goldcoastbulletin.com.au":"/build/ab6bd376bef110fdc4cbddc8199b5966.svg","heraldsun.com.au":"/build/5b4154ccea6d205af54a8769481b0196.svg","kidspot.com.au":"/build/f32855f0b8b600b217fd2573e534b1a3.svg","news.com.au":"/build/4fd5cb60edd37dd58158e88887036da1.svg","ntnews.com.au":"/build/207a452bcb3e3495d3b788aa858e3959.svg","taste.com.au":"/build/08a2803a5140bad1dc15d172cfa7d1f2.svg","thechronicle.com.au":"/build/3669c92bb5426c7f0fc99a7f0c7f02db.svg","themercury.com.au":"/build/03a8db9088ec072a6c3edd3fa9f4ed5c.svg","townsvillebulletin.com.au":"/build/bb852f9d3a4a91e9b1ec4eb0ac75573a.svg","vogue.com.au":s,"weeklytimesnow.com.au":"/build/f5f6a5b8ab10d829a2611b77fe7599bf.svg",localhost:s},n}return i(e,d),e.prototype.setEvents=function(){var t=this;this.lightning&&this.getPlayer().on("timeupdate",function(){t.getPlayer().userActive_||c.a.hasClass(t.overlay,"hidden-node")||t.toggleDescription()})},e.prototype.getPlayer=function(){var t;return(null===(t=this.lightning)||void 0===t?void 0:t.bcPlayer)||this.container.bcPlayer()},e.prototype.appendTo=function(t){t.appendChild(this.element)},e.prototype.refresh=function(a){var e=this;this.capiVideo=a,this.element.innerHTML=""+a.standfirst,this.lightning?this.getPlayer().one("play",function(){e.lightning&&(e.getPlayer().lastActive=new Date().getTime());try{e.setLayout()}catch(t){console.warn(t)}}):this.setLayout(),this.refreshAuthorBrandLogo(this.capiVideo)},e.prototype.toggleDescription=function(){var a="lp-text-"+this.uniqueId,e=this.element.querySelector("#lp-btn-"+this.uniqueId),t=this.getPlayer().getAttribute("id"),n=document.querySelector("#"+t);return(n.classList.toggle("lp-description-expanded"),n.querySelector(".vms-description-overlay").classList.toggle("hidden-node"),document.querySelector("#"+a+" .js-shave"))?(document.querySelector("#"+a).textContent=this.descriptionText,void(e.textContent="See less")):void(Object(o.a)("#"+a,40,this.shaveConfig),this.formatShavedText(),e.textContent="See more")},e.prototype.formatShavedText=function(){document.querySelector(".see-more-"+this.uniqueId).classList.toggle("hidden-node");var t=document.querySelector("#lp-text-"+this.uniqueId).firstChild.textContent+"...";document.querySelector("#lp-text-"+this.uniqueId).firstChild.textContent=t,this.shaving=!1},e.prototype.setLayout=function(){var o=this,e="lp-title-"+this.uniqueId,d="lp-text-"+this.uniqueId,t="lp-text-wrapper-"+this.uniqueId,n="lp-btn-"+this.uniqueId;if(this.element.innerHTML="<div class=\"lp-title\" id=\""+e+"\">"+this.capiVideo.title+"</div>\n                                  <div id=\""+t+"\">\n                                  <div id=\""+d+"\" class=\"lp-text\">"+this.element.innerHTML+"</div>\n                                  <button id=\""+n+"\" class=\"lp-button\">See more</button>\n                                  </div>",this.lightning&&this.capiVideo.callToAction){var r=document.createElement("a");r.setAttribute("href",""+this.capiVideo.callToAction.link),r.setAttribute("role","button"),r.setAttribute("target","_blank"),r.classList.add("lp-cta"),r.innerHTML="<span class=\"lp-cta__label\">\n                                 "+this.capiVideo.callToAction.text+"\n                                 </span>",r.addEventListener("click",function(){var e=o.container.getService(_.a.lightningPlayerOrchestrator);(o.getService(_.a.analytics).omniture.track(["event10"],{eVar23:"video|player|cta|videocontentlink|"+o.capiVideo.callToAction.text}),e.current.view)&&(e.current.view.pauseUntilInteraction=!0,e.current.view.element.querySelector(".vjs-ima3-ad-container").style.pointerEvents="none"),o.getPlayer().pause()}),this.element.appendChild(r)}var i=this.element.querySelector("#"+n),s=this.generateBrandLogoElement(this.capiVideo);s&&this.element.prepend(s),i.addEventListener("click",this.toggleDescription.bind(this),!1),this.descriptionText=document.querySelector("#lp-text-"+this.uniqueId).textContent,this.shave();var l,c=g()(function(){if(o.element&&o.getPlayer().el_){var e=100-100*o.element.offsetHeight/o.getPlayer().el_.offsetHeight-5;o.getPlayer().el_.querySelector("video").style.setProperty("--webkit-media-text-track-container-maxheight",e+"%","important"),o.getPlayer().el_.querySelector(".vjs-text-track-display").style.setProperty("--webkit-media-text-track-container-maxheight",e+"%","important"),document.querySelector("#"+d+" .js-shave")&&o.shave(),o.lightning&&(o.getPlayer().el_.style.setProperty("--lightning-player-height",o.getPlayer().el_.offsetHeight+"px","important"),o.getPlayer().el_.style.setProperty("--lightning-player-width",o.getPlayer().el_.offsetWidth+"px","important"),setTimeout(function(){o.getPlayer().el_.classList.add("vms-lp-width-set")},100),o.vaafcaInitialSetupDone=!0)}},100);this.container.getService(_.a.context).isVvaafca()?this.vaafcaInitialSetupDone||c():l=new a.ResizeObserver(function(){if(o.container.getService(_.a.context).isVvaafca()){if(o.vaafcaInitialSetupDone)return;c()}else c()});var p=document.querySelector("#lp-text-wrapper-"+this.uniqueId),u=this.element.closest(".videoWrapper");(l&&l.observe(p),u)&&new MutationObserver(function(t){t.forEach(function(a){var e=a.target;e.classList.contains("vms-end-state")||e.classList.contains("vms-pause-state")?l&&l.unobserve(p):l&&l.observe(p)})}).observe(u,{attributes:!0,subtree:!1,attributeFilter:["class"]})},e.prototype.refreshAuthorBrandLogo=e.prototype.generateBrandLogoElement=function(d){var p=this;this.element.querySelector(".lp-author-brand-logo")&&(null==(t=this.element.querySelector(".lp-author-brand-logo"))||t.remove());var e=d.seoOwnerDomain;e=l.a.cleanDomainName(e);var t,n=new URL(window.location.href).hostname;if((n=l.a.cleanDomainName(n))!=e){(t=document.createElement("div")).classList.add("lp-author-brand-logo");var r=document.createElement("a");r.classList.add("lp-author-brand-logo-link");var a=document.createElement("img");a.classList.add("lp-author-brand-logo-img"),a.height=24,a.width=24;var i=this.container.getService(_.a.environment).getPlayerUrlPrefix();if(!this.authorBrandLogoMap.hasOwnProperty(e))return a.src="",null;a.src=i+this.authorBrandLogoMap[e],r.append(a);var o=document.createElement("span");return this.authorBrandLogoMap.hasOwnProperty(e)&&(o.innerHTML+=e,r.setAttribute("href","https://"+e),r.setAttribute("target","_blank")),r.append(o),t.appendChild(r),t.addEventListener("click",function(){var t=p.container.getService(_.a.lightningPlayerOrchestrator);t.current.view&&(t.current.view.pauseUntilInteraction=!0,t.current.view.element.querySelector(".vjs-ima3-ad-container").style.pointerEvents="none"),p.getPlayer().pause()}),t}null==(t=this.element.querySelector(".lp-author-brand-logo"))||t.remove()},e.prototype.shave=function(){if(!this.shaving){this.shaving=!0;var l=this.getPlayer().getAttribute("id"),e=document.querySelector("#"+l),t="lp-title-"+this.uniqueId,n="lp-text-"+this.uniqueId,i="lp-btn-"+this.uniqueId,r=this.element.querySelector("#"+i);(e.classList.contains("vjs-user-active")||e.classList.contains("vjs-user-inactive"))&&(document.querySelector("#"+n).textContent=this.descriptionText,Object(o.a)("#"+n,40,this.shaveConfig),document.querySelector("#"+n+" .js-shave")?this.formatShavedText():(c.a.addClass(r,"hidden-node"),this.shaving=!1)),Object(o.a)("#"+t,60)}},e.pluginName="LP_PLUGIN_DESCRIPTION",e.className="lp-description",e}(r.a)}}]);