"use strict";(self.webpackChunkWPS_Drive=self.webpackChunkWPS_Drive||[]).push([[7172],{63598:function(e,t,r){r.r(t),r.d(t,{default:function(){return at}});var n=r(81045),a=r(15861),s=r(4942),o=r(87757),i=r.n(o),c=r(78684),l=r(14500),u=r(5448),m=r(20296),p=r.n(m),d=r(89602),f=r(90336),_=r(20629),h=r(69034),v={computed:{isDeptTeamCreator:function(){var e;try{e="creator"===this.$store.state.team.current.user_role}catch(e){}return e&&this.$store.getters.isDeptTeam},creatorPermission:function(){var e,t;try{e=this.$store.state.user.id,t=this.$store.state.team.current.creator.id}catch(e){}return t===e},isPlusCompany:function(){var e=this.$store.state.user,t=e.is_plus,r=e.companyid;return t&&r},showTransferEntTeam:function(){return this.creatorPermission&&this.isPlusCompany&&"Enterprise"===this.$store.state.route.name}},methods:{transferEntTeam:function(){var e=this,t=this.$store.getters.userBindedPhone,r=function(){setTimeout((function(){e.dialog("transferTeamMembers",{backprev:!0,source:e.isDeptTeamCreator?"deptMembers":"groupMembers"})}))};if(!this.powerConfig.get("transferTeamSecurityCheck"))return r();this.powerConfig.get("transferTeamPhoneCheck")&&!t?this.dialog("secureInfo",{backprev:!0,csource:"YunCreateFolder",entrance:"teamtransfer",callbackFun:function(){r()}}):r()}}},g=r(30675);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={name:"TeamSettingDialog",mixins:[c.Z,u.Z,v],props:{dwEntrance:{type:String,default:"more_btn"},shakeSwitchCss:{type:Boolean,default:!1}},data:function(){return{secureStatus:!1,shakeSwitch:!1,elSwitchStyle:{width:32,"active-color":"#417FF9","inactive-color":"#E6E6E6"}}},mounted:function(){try{this.getSecureTeamStatus(),this.shakeSwitch=this.shakeSwitchCss}catch(e){console.log(e),this._error(e),this.$emit("close")}},deactivated:function(){this.shakeSwitch=!1},computed:y({currentTeam:isCreator:teamName:teamMembers:function(){return(this.currentTeam.recent_members||[]).slice(0,4)},teamMemberCounts:function(){return this.currentTeam.member_count},adminPermission:function(){var e=this.currentTeam.user_role||"";return!!~["creator","manager","admin"].indexOf(e)},showRename:showSecureTeam:user:function(){return this.$store.state.user},switchClass:,(0,_.Se)(["isDeptTeam"])),methods:y({operate:p()(function(){var e=(0,a.Z)(i().mark((function e(t){var r,n,a,s,o,c,l,u,m=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.$store.state.team.filePerSetting,n=r.ban_download,a=r.ban_share,s=r.ban_delete,o=r.ban_creator_delete,e.t0=t,e.next="RENAME_TEAM"===e.t0?4:"INVITE_MEMBER"===e.t0?6:"FILE_PERMISSION_SETTING"===e.t0?8:"SECURE_TEAM"===e.t0?10:"TRANSFER_TEAM"===e.t0?30:"EXIT_TEAM"===e.t0?32:36;break;case 4:return this.dialog("renameShareFolder",Object.assign({},this.currentTeam,{backprev:!0})),e.abrupt("break",36);case 6:return(0,g.BN)({file:this.currentTeam},this),e.abrupt("break",36);case 8:return this.dialog("ModifyFilePerSetting",{groupid:this.currentTeam.id,banDownLoad:n,banShare:a,banDelete:s,banCreatorDelete:o,updateSetting:backprev:!0}),e.abrupt("break",36);case 10:if(this.secureStatus){e.next=15;break}h.Z.onEvent("group_operate_head",{entrance:this.dwEntrance,operate:"securitygroup_click",identify:this.currentTeam.user_role}),this.dialog("openSecureTips",{dwEntrance:this.dwEntrance,afterSuccess:),e.next=29;break;case 15:if(this.isCreator){e.next=17;break}return e.abrupt("return",this.$message.error(this.$t("dialog_team_Setting19")));case 17:return e.prev=17,e.next=20,this[d.kU9]();case 20:c=e.sent,l=c.data.phone,u=function(){setTimeout((function(){m.dialog("closeSecure",{backprev:!0,title:m.$t("dialog_team_Setting20"),afterClose:m.getSecureTeamStatus})}))},l&&l.value?u():this.dialog("secureInfo",{backprev:!0,csource:"YunCreateFolder",entrance:"teamsecure",callbackFun:),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(17),this._error(e.t1);case 29:return e.abrupt("break",36);case 30:return this.transferEntTeam(),e.abrupt("break",36);case 32:if(!this.isDeptTeamCreator){e.next=34;break}return e.abrupt("return");case 34:return this.exitTeam({params:{file:this.currentTeam}}),e.abrupt("break",36);case 36:case"end":return e.stop()}}),e,this,[[17,26]])})));return function(t){return e.apply(this,arguments)}}(),150),exitTeam:function(e){var t,r=this,n=e.params.file,s=this.isCreator;this.dialog("removeTeamFolder",{source:n,title:s?this.$t("dialog_team_Setting14"):this.$t("dialog_team_Setting15"),onCommit:(t=(0,a.Z)(i().mark((function e(){var t,a,s,o,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},a=n.user_role||t.user_role,s={tid:t.id||n.id},o=null,"creator"!==a){e.next=10;break}return e.next=7,r.$store.dispatch(d.jSQ,{params:s});case 7:o=e.sent,e.next=13;break;case 10:return e.next=12,r.$store.dispatch(d.bQ6,{params:s,memberInfo:r.$store.state.user.userid});case 12:o=e.sent;case 13:if(!(o&&o.data&&o.data.taskid)){e.next=16;break}return e.next=16,r.asyncMessage("delete",t.id,o.data.taskid,!1);case 16:r.$store.dispatch(d.xgE),r.$store.commit(d.aFD,{ids:[t.id]}),r.$eventBus.emit(f.aW,"MyGroup");case 19:case"end":return e.stop()}}),e)}))),,backprev:!0})},getSecureTeamStatus:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showSecureTeam){t.next=2;break}return t.abrupt("return");case 2:return r=e.$store.state.team.current,n=r.id,a=e.$store.state.user,t.prev=5,t.next=8,l.drive.get("/api/v5/groups/".concat(n,"/secure"));case 8:s=t.sent,o=s.data,e.secureStatus=1===o.secure_switch,t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),"SecureGroupNotExist"===(t.t0.response&&t.t0.response.data||{}).result&&(e.secureStatus=!1,h.Z.onEvent("group_operate_head",{entrance:e.dwEntrance,operate:"securitygroup_closeshow",identity:r.user_role}));case 17:return t.prev=17,a.is_plus&&(e.secureStatus?e.$store.dispatch(d.VNZ):e.$store.commit(d.aXv),e.$store.commit(d.YzX,{tid:r.id,flag:e.secureStatus})),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])})))()}},(0,_.nv)([d.kU9]))},$=C,S=r(51900),w=(0,S.Z)($,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"team-setting-dialog-content"},[r("div",{staticClass:"item-row type-1"},[r("label",{staticClass:"item-head"},[e._v(e._s(e.powerConfig.get("isBeemwork")?e.$t("dialog_team_Setting0_beemwork"):e.$t("dialog_team_Setting0")))]),r("div",{staticClass:"item-content"},[r("span",[e._v(e._s(e.teamName))]),e.showRename?r("a",{directives:[{name:"dw-click",rawName:"v-dw-click",value:{event:"group_operate_head",params:{entrance:e.dwEntrance,operate:"rename_team",identity:e.currentTeam.user_role}},expression:"{event: 'group_operate_head',\n                     params: {entrance: dwEntrance, operate: 'rename_team', identity: currentTeam.user_role}}"}],attrs:{href:"javascript:;"},on:{click:function(t){return e.operate("RENAME_TEAM")}}},[e._v(e._s(e.$t("dialog_team_Setting1")))]):e._e()])]),r("div",{staticClass:"item-row"},[r("label",{staticClass:"item-head"},[e._v(e._s(e.$t("dialog_team_Setting2")))]),r("div",{staticClass:"item-content"},[r("div",{staticClass:"members"},[e._l(e.teamMembers,(function(e,t){return r("div",{key:e.id,staticClass:"stack",style:{"z-index":t}},[r("span",{staticClass:"stack-box"},[r("avatar",{attrs:{avatarSrc:e.avatar,size:"24"}})],1)])})),e.teamMemberCounts>4?r("div",{staticClass:"stack etc"},[r("span",{staticClass:"stack-box"},[r("icon",{attrs:{type:"more"}})],1)]):e._e(),r("div",{staticClass:"stack member-count"},[e._v(e._s(e.teamMemberCounts)+e._s(e.$t("dialog_team_Setting3")))])],2),r("a",{directives:[{name:"dw-click",rawName:"v-dw-click",value:{event:"group_operate_head",params:{entrance:e.dwEntrance,operate:"add_team_member",identity:e.currentTeam.user_role}},expression:"{event: 'group_operate_head',\n                     params: {entrance: dwEntrance, operate: 'add_team_member', identity: currentTeam.user_role}}"}],attrs:{href:"javascript:;"},on:{click:function(t){return e.operate("INVITE_MEMBER")}}},[e._v(e._s(e.$t("dialog_team_Setting4")))])])]),e.showSecureTeam?r("div",{staticClass:"division"}):e._e(),e.adminPermission?r("div",{staticClass:"item-row"},[r("div",{staticClass:"item-content"},[r("h1",{on:{click:function(t){return e.operate("FILE_PERMISSION_SETTING")}}},[e._v(e._s(e.$t("dialog_team_Setting5")))]),r("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.operate("FILE_PERMISSION_SETTING")}}},[e._v(e._s(e.$t("dialog_team_Setting6")))])]),r("div",{staticClass:"secure-line secure-line-2"},[r("p",[e._v(e._s(e.$t("dialog_team_Setting7")))])])]):e._e(),e.showSecureTeam?r("div",{staticClass:"item-row secure"},[r("div",{staticClass:"secure-line secure-line-1"},[r("h1",{on:{click:function(t){return e.operate("SECURE_TEAM")}}},[e._v(e._s(e.$t("dialog_team_Setting8")))]),r("el-switch",e._b({class:e.switchClass,attrs:{value:e.secureStatus},nativeOn:{click:function(t){return e.operate("SECURE_TEAM")}}},"el-switch",e.elSwitchStyle,!1))],1),r("div",{staticClass:"secure-line secure-line-2"},[r("p",[e._v(e._s(e.$t("dialog_team_Setting9"))+" 600M "+e._s(e.$t("dialog_team_Setting10"))+" Office "+e._s(e.$t("dialog_team_Setting11"))+" WPS "+e._s(e.$t("dialog_team_Setting12")))])])]):e._e(),r("div",{staticClass:"division"}),e.showTransferEntTeam?r("div",{staticClass:"item-row"},[r("h1",{staticClass:"transfer-team",on:{click:function(t){return e.operate("TRANSFER_TEAM")}}},[e._v(e._s(e.$t("dialog_team_Setting13")))])]):e._e(),r("div",{staticClass:"item-row type-2"},[r("h1",{directives:[{name:"dw-click",rawName:"v-dw-click",value:{event:"group_operate_head",params:{entrance:e.dwEntrance,operate:"delete_and_exit_team",identity:e.currentTeam.user_role}},expression:"{event: 'group_operate_head',\n                   params: {entrance: dwEntrance, operate: 'delete_and_exit_team', identity: currentTeam.user_role}}"}],class:["delete-team",{"delete-team-disable":e.isDeptTeamCreator}],on:{click:function(t){return e.operate("EXIT_TEAM")}}},[e._v(e._s(e.isCreator?e.$t("dialog_team_Setting14"):e.$t("dialog_team_Setting15")))]),e.isDeptTeamCreator?r("p",[e._v(e._s(e.$t("dialog_team_Setting16")))]):r("p",[e._v(e._s(e.isCreator?e.$t("dialog_team_Setting17"):e.$t("dialog_team_Setting18")))])])])}),[],!1,null,null,null).exports,T={name:"OpenSecureTipsDialog",props:{dwEntrance:{default:"more_btn"},afterSuccess:{type:Function,default:function(){}}},data:function(){return{}},computed:{currentTeam:function(){return this.$store.state.team.current}},methods:{openSecureTeam:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a,s,o,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentTeam,n=r.id,a=r.user_role,t.prev=1,t.next=4,l.drive.post("/api/v5/groups/secure",{groupid:n});case 4:s=t.sent,1===s.data.secure_switch?(e.$message.success(e.$t("team_secureteam_OpenSecureTips6")),h.Z.onEvent("group_operate_head",{entrance:e.dwEntrance,operate:"securitygroup_finish",identify:a}),e.close()):e.$message.error(e.$t("team_secureteam_OpenSecureTips7")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),o=t.t0.response||{},c=o.data,(u=void 0===c?{}:c).msg&&e.$message.error(u.msg);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},cancel:function(){this.$emit("close")},close:},k=T,x=(0,S.Z)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"open-secure-tips-dialog-container"},[r("div",{staticClass:"open-secure-tips-dialog-content"},[r("div",{staticClass:"sub-text"},[e._v(e._s(e.$t("team_secureteam_OpenSecureTips0"))+"600M"+e._s(e.$t("team_secureteam_OpenSecureTips1"))+"Office"+e._s(e.$t("team_secureteam_OpenSecureTips2"))+" "+e._s(e.$t("team_secureteam_OpenSecureTips3")))])]),r("div",{staticClass:"open-secure-tips-dialog-footer"},[r("el-button",{on:{click:e.cancel}},[e._v(e._s(e.$t("team_secureteam_OpenSecureTips4")))]),r("el-button",{attrs:{type:"primary"},on:{click:e.openSecureTeam}},[e._v(e._s(e.$t("team_secureteam_OpenSecureTips5")))])],1)])}),[],!1,null,null,null).exports,O={name:"OpenSecureTipsDialog",props:{dwEntrance:{default:"more_btn"}},data:function(){return{}},computed:{currentTeam:function(){return this.$store.state.team.current}},methods:{openSecureTeam:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentTeam,n=r.id,a=r.user_role,t.prev=1,t.next=4,l.drive.post("/api/v5/groups/".concat(n,"/secure/close"),{groupid:n});case 4:s=t.sent,1===s.data.init_convert_status?(e.$message.success(e.$t("team_secureteam_CloseSecureTips2")),setTimeout((,2e3),h.Z.onEvent("group_operate_head",{entrance:e.dwEntrance,operate:"securitygroup_finish",identify:a})):e.$message.error(e.$t("team_secureteam_CloseSecureTips3")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),(o=t.t0.response||{}).msg&&e.$message.error(o.msg);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},cancel:function(){this.$emit("close")},close:},E=O,M=(0,S.Z)(E,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"open-secure-tips-dialog-container"},[e._m(0),r("div",{staticClass:"open-secure-tips-dialog-footer"},[r("el-button",{on:{click:e.cancel}},[e._v(e._s(e.$t("team_secureteam_CloseSecureTips0")))]),r("el-button",{attrs:{type:"primary"},on:{click:e.openSecureTeam}},[e._v(e._s(e.$t("team_secureteam_CloseSecureTips1")))])],1)])}),[,!1,null,null,null).exports;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j={name:"SafetyVerification",data:function(){return{form:{code:""},rules:{code:[{required:!0,message:this.$t("components_dialog_SafetyVerification7"),trigger:"blur"}]},countDown:0,loading:!1,phone:""}},props:{onCancel:{type:Function},onOk:{type:Function,default:function(){}}},computed:D({},(0,_.rn)({bindstatus:function(e){return e.user.bindstatus}})),created:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.phone=e.bindstatus.phone&&e.bindstatus.phone.value,e.phone){t.next=17;break}return e.loading=!0,t.prev=3,t.next=6,e[d.kU9]();case 6:r=t.sent,(n=r.data.phone)&&n.value?e.phone=n.value:e.$parent.$emit("close","ok"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e._error(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})))()},beforeDestroy:methods:D({sendCode:function(){var e=this;return(0,a.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.countDown>0)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,e[d.IHk]({action:"verify",CHECK_JUMP:"JUMP"});case 6:e.countDown=59,e.timer=setInterval((function(){e.countDown>0?e.countDown--:clearInterval(e.timer)}),1e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e._error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},onSubmit:function(){var e=this;return(0,a.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.form.validate(function(){var t=(0,a.Z)(i().mark((function t(r){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return n=e.form,a=n.code,t.prev=4,t.next=7,e[d.G1b]({CHECK_JUMP:"JUMP",smscode:a});case 7:e.onOk(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),e._error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},cancel:function(){this.onCancel?this.onCancel():this.$parent.$emit("close","ok")}},(0,_.nv)([d.IHk,d.G1b,d.kU9]))},I=j,Z=(0,S.Z)(I,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"safety"},[e.loading?r("Loading"):r("div",[r("p",{staticClass:"title"},[e._v(e._s(e.$t("components_dialog_SafetyVerification0"))+e._s(e.phone)+e._s(e.$t("components_dialog_SafetyVerification1")))]),r("el-form",{ref:"form",staticClass:"input",attrs:{model:e.form,rules:e.rules},nativeOn:{submit:},[r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{directives:[{name:"pad-focus",rawName:"v-pad-focus"}],attrs:{placeholder:e.$t("components_dialog_SafetyVerification2")},nativeOn:{keydown:,model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[r("el-button",{style:0===e.countDown?{color:"#2E68F8"}:{},attrs:{slot:"append"},on:{click:e.sendCode},slot:"append"},[e._v(" "+e._s(0===e.countDown?e.$t("components_dialog_SafetyVerification3"):e.$t("components_dialog_SafetyVerification4")+"("+e.countDown+")")+" ")])],1)],1)],1),r("div",{staticClass:"btns"},[r("el-button",{on:{click:e.cancel}},[e._v(e._s(e.$t("components_dialog_SafetyVerification5")))]),r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("components_dialog_SafetyVerification6")))])],1)],1)],1)}),[],!1,null,"d9ebcdcc",null),N=Z.exports;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var G={name:"CloseSecure",data:function(){return{verified:!1,checked:!1}},props:{afterClose:{type:Function,default:function(){}}},components:{SafetyVerification:N},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,_.rn)({team:function(e){return e.team.current}})),methods:{cancel:function(){this.$emit("close","ok")},onSubmit:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.team.id,t.prev=1,t.next=4,l.drive.put("/api/v5/groups/".concat(r,"/secure/close"),{groupid:r});case 4:e.$message.success(e.$t("team_secureteam_CloseSecure7")),e.afterClose(),e.cancel(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e._error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},onVerified:function(){this.verified=!0,this.$emit("propsChange",{title:this.$t("team_secureteam_CloseSecure8")})}}},A=G,F=(0,S.Z)(A,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.verified?r("div",[r("p",[e._v(e._s(e.$t("team_secureteam_CloseSecure0")))]),r("p",[e._v(e._s(e.$t("team_secureteam_CloseSecure1"))),r("b",[e._v(e._s(e.$t("team_secureteam_CloseSecure2")))]),e._v(e._s(e.$t("team_secureteam_CloseSecure3")))]),r("footer",[r("div",[r("el-checkbox",{model:{value:e.checked,callback:expression:"checked"}},[e._v(e._s(e.$t("team_secureteam_CloseSecure4")))])],1),r("div",[r("el-button",{on:{click:e.cancel}},[e._v(e._s(e.$t("team_secureteam_CloseSecure5")))]),r("el-button",{attrs:{disabled:!e.checked,type:"danger"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("team_secureteam_CloseSecure6")))])],1)])]):r("SafetyVerification",{attrs:{onOk:e.onVerified}})],1)}),[],!1,null,"33d37cf4",null).exports,L={name:"SecureSettingDialog",mixins:[c.Z],props:{dwEntrance:{default:"more_btn"}},data:function(){return{secureStatus:!1,loading:!0}},created:function(){this.getSecureTeamStatus()},methods:{getSecureTeamStatus:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store.state.team.current,n=r.id,t.prev=2,t.next=5,l.drive.get("/api/v5/groups/".concat(n,"/secure"));case 5:a=t.sent,1===a.data.secure_switch&&(e.secureStatus=!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),"SecureGroupNotExist"===(t.t0.response&&t.t0.response.data||{}).result&&h.Z.onEvent("group_operate_head",{entrance:e.dwEntrance,operate:"securitygroup_closeshow",identity:r.user_role});case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})))()},openSecureTeam:function(){if(!this.secureStatus){var e=this.$store.state.team.current;h.Z.onEvent("group_operate_head",{entrance:this.dwEntrance,operate:"securitygroup_click",identify:e.user_role}),this.dialog("openSecureTips",{dwEntrance:this.dwEntrance})}}}},R=L,U=(0,S.Z)(R,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?e._e():r("div",{staticClass:"secure-setting-dialog-container"},[r("div",{staticClass:"secure-setting-dialog-content"},[r("div",{staticClass:"secure-setting-dialog-content-switch"},[r("span",[e._v(e._s(e.$t("team_secureteam_SecureSetting0")))]),r("span",{class:{active:!e.secureStatus},on:{click:e.openSecureTeam}},[e._v(e._s(e.secureStatus?e.$t("team_secureteam_SecureSetting1"):e.$t("team_secureteam_SecureSetting2")))])]),r("div",{staticClass:"secure-setting-dialog-content-text"},[e._v(" "+e._s(e.$t("team_secureteam_SecureSetting3"))+" 600M "+e._s(e.$t("team_secureteam_SecureSetting4"))+" Office "+e._s(e.$t("team_secureteam_SecureSetting5"))+" WPS "+e._s(e.$t("team_secureteam_SecureSetting6"))+" ")])])])}),[],!1,null,null,null).exports,B={name:"TransferTeamTips",mixins:[c.Z],methods:{onClose:function(){this.$emit("close")},onCommit:function(){var e=this;this.dialog("sharePhoneBind",{entrance:"teamtransfer",backprev:!0,isTransferteamCallback:!0,callbackFun:function(){e.$emit("close"),setTimeout(()}})}}},V=B,z=(0,S.Z)(V,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"transfer-team-tips-container"},[r("div",{staticClass:"transfer-team-tips-content"},[r("label",[e._v(e._s(e.$t("team_transferteam_TransferTeamTips0")))])]),r("div",{staticClass:"transfer-team-tips-footer"},[r("el-button",{on:{click:e.onClose}},[e._v(e._s(e.$t("team_transferteam_TransferTeamTips1")))]),r("el-button",{attrs:{type:"primary"},on:{click:e.onCommit}},[e._v(e._s(e.$t("team_transferteam_TransferTeamTips2")))])],1)])}),[],!1,null,"21606714",null).exports,K=r(21628),q=void 0,J={name:"TransferTeamMembers",props:{source:{type:String,default:"groupMembers"},emptySearchInfo:{type:String,default:function(){q.$t("team_transferteam_TransferTeamMembers0")}},emptyInfo:{type:String,default:},mixins:[c.Z],data:function(){return{rightTitle:this.$t("team_transferteam_TransferTeamMembers1"),memberRoleType:"admin,manager,member,read_member",filterIds:[]}},mounted:function(){var e=this.$store.state.user;this.filterIds.push(e.id)},computed:{currTeam:function(){return this.$store.state.team.current},entrance:function(){var e=this.currTeam.id;return"groupMembers"===this.source?{eType:"team",id:e}:{eType:"ownerCandidates",cid:this.$route.params.cid,id:e}}},methods:{onClose:function(){this.$emit("close")},onSubmit:function(e){var t=e.users;1===t.length&&(this.$emit("close"),this.dialog("transferTeamComfirm",{member:t[0]}))},onHide:toggleElHeader:K.toggleElHeader}},W=(0,S.Z)(J,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"transfer-team-members-container"},[r("KMemberSelector",{attrs:{onSubmit:e.onSubmit,disableIds:e.filterIds,entrance:e.entrance,onCancel:e.onClose,memberRoleType:e.memberRoleType,rightTitle:e.rightTitle,emptyInfo:e.emptyInfo,emptySearchInfo:e.emptySearchInfo,showNextHeader:!1,showInfoCard:!1,single:!0}})],1)}),[],!1,null,null,null).exports,Q={name:"TransferTeamComfirm",props:{member:{type:Object,default:function(){}}},computed:{currTeam:function(){return this.$store.state.team.current}},methods:{onClose:function(){this.$emit("close")},onCommit:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.currTeam.id,n=e.member.userid,t.prev=2,!r||!n){t.next=10;break}return t.next=6,l.drive.put("api/v5/corpgroups/".concat(r,"/owner"),{new_owner:n});case 6:return t.next=8,e.$store.dispatch(d.Dpl);case 8:e.$message.success(e.$t("team_transferteam_TransferTeamComfirm4")),setTimeout((,1e3);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),(a=t.t0.response&&t.t0.response.data||{}).result&&(s=a.msg,"notGroupMember"===a.result?s=e.$t("team_transferteam_TransferTeamComfirm5"):"toAcceptUserAsOwnerForbidden"===a.result&&(s=e.$t("team_transferteam_TransferTeamComfirm6")),e.$message.error(s));case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))()}}},X=Q,Y=(0,S.Z)(X,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"transfer-team-comfirm-container"},[r("div",{staticClass:"transfer-team-comfirm-content"},[r("div",[e._v(e._s(e.$t("team_transferteam_TransferTeamComfirm0"))+" "),r("span",[e._v(e._s(e.member.name))])]),r("div",[e._v(e._s(e.$t("team_transferteam_TransferTeamComfirm1")))])]),r("div",{staticClass:"transfer-team-comfirm-footer"},[r("el-button",{on:{click:e.onClose}},[e._v(e._s(e.$t("team_transferteam_TransferTeamComfirm2")))]),r("el-button",{attrs:{type:"primary"},on:{click:e.onCommit}},[e._v(e._s(e.$t("team_transferteam_TransferTeamComfirm3")))])],1)])}),[],!1,null,"826c0080",null).exports,ee={name:"GroupApplyList",components:{KVersionTagsList:,props:{groupId:{type:Number}}},te=(0,S.Z)(ee,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("KVersionTagsList",{staticClass:"dialog-version-tags",attrs:{groupId:e.groupId,useNewLayout:e.$store.state.ui.useNewLayout}})}),[],!1,null,"6c471570",null).exports,re={name:"ReportContacts",data:function(){return{memberRoleType:"creator,admin,manager,member"}},props:{groupid:{type:Number},filterIds:{type:Array,default:function(){return[]}},callbackFun:{type:Function,default:function(){}}},methods:{onClose:function(){this.$emit("close")},onSubmit:function(e){var t=e.users;t.length<1||(this.callbackFun(t),this.$emit("close"))}}},ne=(0,S.Z)(re,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("KMemberSelector",{attrs:{onSubmit:e.onSubmit,disableIds:e.filterIds,entrance:{eType:"team",id:e.groupid},onCancel:e.onClose,showDropDown:!1,showNextHeader:!1,showInfoCard:!1,memberRoleType:e.memberRoleType}})}),[],!1,null,null,null).exports,ae=r(423),se={name:"GuideToTeam",componentName:"GuideToTeam",props:["dialogObj"],mixins:[c.Z],data:computed:{_src:function(){var e=this.$store.state.company.eduCompany.name||this.$ua.isEduEntry;return"".concat(ae.UX,"/register?hide_components=title&utm_source=docsWeb&utm_medium=").concat(e?"edu":"docs_botton_left_card")},lists:function(){return[{title:this.$t("dialog_team_GuideToTeam2"),description:this.$t("dialog_team_GuideToTeam3"),buttonName:this.$t("dialog_team_GuideToTeam4"),actions:"createShareFolder",conf:{back:!1,allClose:!0}},{title:this.$t("dialog_team_GuideToTeam5"),description:this.$t("dialog_team_GuideToTeam6"),buttonName:this.$t("dialog_team_GuideToTeam7"),actions:"createCompany",conf:{src:this._src,back:!1,allClose:!0}}]}},methods:{doClose:function(){this.$emit("close")},doActions:function(e){this.dialog(e.actions,e.conf||"")}}},oe=(0,S.Z)(se,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"business-team"},[r("div",{staticClass:"close-btn el-dialog__headerbtn",on:{click:e.doClose}},[r("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),r("div",{staticClass:"team-header"},[e._v(e._s(e.$t("dialog_team_GuideToTeam1")))]),r("div",{staticClass:"team-content"},[r("div",{staticClass:"team-content-left"},[r("img",{attrs:{src:e.bg}})]),r("ul",{staticClass:"team-content-right"},e._l(e.lists,(function(t,n){return r("li",{key:n},[r("div",{staticClass:"list-left"},[r("h3",[e._v(e._s(t.title))]),r("p",[e._v(e._s(t.description))])]),r("el-button",{staticClass:"list-btn",attrs:{type:"primary",plain:""},on:{click:function(r){return e.doActions(t)}}},[e._v(e._s(t.buttonName))])],1)})),0)])])}),[],!1,null,"1db9de86",null).exports,ie=r(16739),ce=r(79835),le=r(70536),ue=r(26743),me={1:"wps",2:"et",3:"wpp"},pe={name:"TemplateCard",props:{popupId:String,app:Number,icon:String,bigTitle:String,subTitle:String,template:{type:Array,default:function(){return[{down_number:2038,id:20539161,is_reco:0,pay_type:1,name:"项目计划进度表.xlsx",p_count:0,thumb_big_url:"https://img8.file.cache.docer.com/storage/official/preview/2020/12/22/065832db-f0f3-f8b3-ef27-28cff8ac4bf1.jpg"},{down_number:1099,id:20608653,is_reco:0,pay_type:1,name:"工作计划表.docx",p_count:0,thumb_big_url:"https://img8.file.cache.docer.com/storage/official/preview/2021/05/13/cd0b640b-4da5-70fb-715e-5136bf6a04d1.jpg"},{down_number:851,id:20626781,is_reco:0,pay_type:1,name:"员工招聘信息记录表.xlsx",p_count:0,thumb_big_url:"https://img8.file.cache.docer.com/storage/official/preview/2021/07/09/6202a7bf-b4b9-e66f-ed:{cdn:function(){return e.substring(0,e.lastIndexOf("."))}},methods:{iconUrl:function(e){var t=(0(function(e){return ie.UZ[e].includes(t)}))||"unknown";return"".concat((0,ue.getCDN)(),"/s1/images/dotview/lose:function(){this.$emit("close","ok")},use:function(e){var t=this;return(0,a.Z)(i().mark((function r(){var n,a,s,o,c,l,u,m,p;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=t.$store.state.team,a=(n||{}).current,r.next=5,(0,le.dP)();case 5:if(s=r.sent,o=window.open(),!s){r.next=16;break}return r.next=10,s.createNewPage({tid:e.id,tname:e.name,gid:a.id,pid:0,type:me[t.app],agreement:location.protocol.replace(":")});case 10:c=r.sent,l=c.code,u=c.href,0===l&&u?(o?o.location.href=u:window.open(u),h.Z.onEvent("guidebar_linkfolder_pc",{action:"click_template",template_id:e.id,popup_id:t.popupId})):(m="".concat(ae.RX,"/solution/index/").concat(a.id,"-0"),o?o.location.href=m:window.open(m)),r.next=18;break;case 16:p="".concat(ae.RX,"/solution/index/").concat(a.id,"-0"),o?o.location.href=p:window.open(p);case 18:t.$emit("close","ok"),r.next=25;break;case 21:r.prev=21,r.t0=r.catch(0),t.$message({type:"error",message:"服务异常，请稍后重试！"}),console.log(r.t0);case 25:case"end":return r.stop()}}),r,null,[[0,21]])})))()},moreTemplate:function(){window.open("".concat(ae.RX,"/new/search/").concat(me[this.app],"?text=").concat(this.bigTitle,"&from=pcfolder")),h.Z.onEvent("guidebar_linkfolder_pc",{action:"click_go_template",popup_id:this.popupId}),this.$emit("close","ok")}}},de=pe,fe=(0,S.Z)(de,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("img",{staticClass:"icon-close",attrs:{src:e.cdn+"/kdocs/cloud/icon/icon_close.svg",alt:""},on:{click:e.close}}),r("header",{staticClass:"header"},[r("img",{attrs:{src:e.icon,alt:""}}),r("div",{staticClass:"info"},[r("h1",[e._v(e._s(e.bigTitle))]),r("h2",[e._v(e._s(e.subTitle))])])]),r("ul",{staticClass:"main-box"},e._l(e.template,(function(t){return r("li",{key:t.id,staticClass:"item"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.is_reco,expression:"item.is_reco"}],staticClass:"label"},[e._v(e._s(e.$t("views_templates_Index3")))]),r("div",{staticClass:"cover-box"},[r("img",{attrs:{src:t.thumb_big_url,alt:""}})]),r("p",{staticClass:"info"},[r("img",{staticClass:"icon",attrs:{src:e.iconUrl(t.name),alt:""}}),r("span",[e._v(e._s(e._f("filename")(t.name)))"use-footer"},[r("span",{on:{click:function(r){return e.use(t)}}},[e._v(e._s(e.$t("views_templates_Index2")))])])])})),0),r("footer",{staticClass:"footer"},[r("span",{on:{click:e.moreTemplate}},[e._v(e._s(e.$t("views_templates_Index4")))])])])}),[],!1,null,null,null).exports;function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}retr.e(1897),r.e(6788),r.e(147),r.e(9573)]).then(r.bind(r,16214))}},computed:he(he({},(0,_.rn)({company:function(e){var t=e.company;return Oroleid:t.current.userRted:function(){return this.$store.state.company.hasMailInvited},reqData:function(){return{source:{invite_info:{scene:"compmainpage",invite_source:"docsWeb"}}}}}),methods:{onCopySuccess:function(){h.Z.onEvent("invite_colleague",{type:"link",origin:this.hasMailInvited?"company_page_invitemail":"company_page",companyid:this.company.id})},onClose:function(){this.$emit("close")}}},ge=(0,S.Z)(ve,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("KInviteColleague",{attrs:{onCopySuccess:e.onCopySuccess,onLoadError:e.onClose,company:e.company,inviter:e.inviter,autoCheck:!1,getLinkReqQuery:e.reqData}})}),[],!1,null,null,null).exports,be=r(64678),ye=r(94602),Ce="el-dialog__header",$e="".concat(Ce,"-hide"),Se="".concat(ae.Q7,"/register?utm_source=docsWeb&utm_medium=docs_botton_left_card&hide_components=title"),we={name:"CreateCompany",props:{src:{type:String,default:Se},fromLinkGroup:{type:Boolean,default:!1},afterCreate:{typection(){return{isCreateCompany:!1,companyid:0,teamid:0,URL:Se}},created:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch(d.Oel);case 3:r=t.sent,n=r.userid,(void 0===n?0:n)||e.jumpLoginPage(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.jumpLoginPage();case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},mounted:function(){var e=this,t="https:";(0,ye.Z9)("eventName",{createCompanySuccess:function(t){e.isCreateCompany=!0,t.companyid&&(e.companyid=t.companyid),e.fromLinkGroup&&(e.$emit("close"),e.afterCreate(e.companyid))},redirectNewCompany:function(r){e.fromLinkGroup||(r.companyid&&(e.companyid=r.companyid),e.$emit("close"),location.href="".concat(t,"//").concat(location.host,"/ent/").concat(e.companyid).concat(location.search))},toCompanyPage:function(r){r.companyid&&(e.companyid=r.companyid),r.teamid&&(e.teamid=r.teamid),e.$emit("close"),location.href="".concat(t,"//").concat(location.host,"/ent/").concat(e.companyid,"/helper")}}),this.hideHeader()},methods:{hideHeader:function(){document.getElementsByClassName(Ce)[0].classList.add($e)},closeDialog:function(){this.isCreateCompany&&this.companyid>0?location.href="".concat("https:","//").concat(location.host,"/ent/").concat(this.companyid,"/helper").concat(location.search):this.$emit("close")},jumpLoginPage:function(){try{var e=(0,be.W)(location.href),t=(0,ue.getAccountFrom)(),r=(0,be.e)(),n=r?"&accessid=".concat(r):"";location.href="".concat(ae.yV,"?qrcode=kdocs&from=").concat(t).concat(n,"(){document.getElementsByClassName(Ce)[0].classList.remove($e)}},Te=we,ke=(0,S.Z)(Te,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-company-container"},[r("iframe",{attrs:{id:"createCompany",frameborder:"0",src:e.src||e.URL}}),r("div",{staticClass:"close-btn el-dialog__headerbtn",on:{click:e.closeDialog}},[r("i",{staticClass:"el-dialog__close el-icon el-icon-close"})])])}),[],!1,null,null,null).exports,xe=r(52966);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPrProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Me={name:"MemberApproval",mixins:[c.Z],components:{Scroll:xe.Z},data:function(){return{list:[],pagination:{count:20,offset:0},page:1,loading:!1,needApproval:!1,statusMap:{agree:this.$t("dialog_company_MemberApproval1"),refuse:this.$t("dialog_company_MemberApproval2"),targeted_agree:this.$t("dialog_company_MemberApproval1"),targeted_refuse:this.$t("dialog_company_MemberApproval2"),apply:[{type:"primary",text:this.$t("dialog_company_MemberApproval3")},{text:this.$t("dialog_company_MemberApproval4")}],phone:this.$t("dialog_company_MemberApproval5"),email:this.$t("dialog_company_MemberApproval6"),free_approve:this.$t("dit:function(){return{list:this.list,paginatngPerm"])),(rams.cid},permissions:function(e){return e.company.permissions}})),mounted:function(){this.fetchItems()},methods:Ee({fetchItems:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a,s,o,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.cid,n=e.page,0===(a=e.list.length)&&(e.loading=!0),t.next=6,e[d.tcr]({cid:r,page:n});case 6:return s=t.sent,o=s.applies,c=s.total,e.list=e.list.concat(o),e.total=c,e.pagination.offset=a,e.page++,t.abrupt("return",{items:o,pagination:e.pagination});case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0);case 19:return t.prev=19,e.loading=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})))()},onHandle:function(e,t,r){var n=this;return(0,a.Z)(i().mark((function a(){var s,o;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=e===n.statusMap.apply[0].text,o={approve_type:"function",approve_source:n.$ua.wxpcmini?"wxminiprogrampc":"docs_web",scene:"company_page"},a.prev=2,a.next=5,n.$store.dispatch("POST",{host:"plussvr",url:"/api/".concat(n.cid,"/user/").concat(s?"approve":"refuse"),userids:t,CHECK_JUMP:"JUMP",params:{source:JSON.stringify(o)}});case 5:h.Z.onEvent("company_admin_click",{operation:s?"Approve":"Refuse",companyid:n.cid,groupid:n.$route.params.tid}),n.$set(n.list[r],"status",s?"agree":"refuse"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),n._error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()}},(0,_.nv)([d.tcr]))},Pe=Me,De=(0,S.Z)(Pe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.loading?r("Loading"):0===e.list.length?r("div",{staticClass:"empty"},[r("Icon",{attrs:{type:"member-apply"}}),r("p",[e._v(e._s(e.$t("dialog_company_MemberApproval0")))])],1):r("div",{class:["apply-list",{"apply-list-min":!e.needApproval}]},[r("Scroll",{attrs:{scrollContent:e.scrollContent}},e._l(e.list,(function(t,n){return r("div",{key:n,staticClass:"apply-list-item"},[r("Avatar",{attrs:{customStyle:{margin:"0 15px 0 0"},avatarSrc:t.avatar,size:"30"}}),r("div",{staticClass:"message"},[r("p",[e._v(e._s(t.user_name))]),r("span",[e._v(e._s(t.phone))]),r("span",[e._v(e._s(t.email))])]),r("div",{staticClass:"actions"},["string"==typeof e.statusMap[t.status]?r("span",[e._v(e._s(e.statusMap[t.status]))]):r("div",e._l(e.statusMap[t.status],(functionpe},on:{click:function(r){return e.onHandle(a.text,t.userid,n)}}},[e._v(" "+e._s(a.text)+" ")])})),1)])],1)})),0)],1)],1)}),[],!1,null,"5824bc6a",null).exports;function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ie={name:"EditCompMemberName",props:{member:{type:Object,default:function(){return{}}},onSuccess:{type:Function,default:function(){}}},data:function(){return{loading:!1,form:{name:this.member.name},rules:{name:[{pattern:/^[^!@#$^*<>?]+$/,message:this.$t("dialog_company_EditCompMemberName3")+"!@#$^*<>?",trigger:"change"},{max:30,message:this.$t("dialog_company_EditCompMemberName4")+"30"+this.$t("dialog_company_EditCompMemberName5"),trigger:"change"}]}}},computed:{disabled:function(){return this.member.name===this.form.name||!/\S/.test(this.form.name)}},mounted:function(){var e=this.$refs.form.$el.getElementsByClassName("el-input__inner")[0]||this.$refs.form.$el.getElementsByClassName("kdv-input__inner")[0];e&&e.focus()},methods:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({submit:function(){var e=this;this.loading||this.$refs.form.validate(function(){var t=(0,a.Z)(i().mark((function t(r){var n,a,s,o,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||e.disabled){t.next=23;break}return t.prev=1,e.loading=!0,n=e.member,a=n.comp_id,s=n.comp_uid,t.next=6,e[d._od]({cid:a,playload:{comp_uid:s,user_name:e.form.name}});case 6:e.onSuccess(e.form.name),e.$message.success(e.$t("dialog_company_EditCompMemberName6")),e.$emit("close"),t.next=20;break;case 11:if(t.prev=11,t.t0=t.catch(1),o=t.t0||{},c=o.response,l=(c||{}).data,"PermissionDenied"!==(l||{}).result){t.next=19;break}return e._error(e.$t("dialog_company_EditCompMemberName7")),t.abrupt("return");case 19:e._error(t.t0);case 20:return t.prev=20,e.loading=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[1,11,20,23]])})));return function(e){return t.apply(this,arguments)}}())}},(0,_.nv)([d._od]))},Ze=Ie,Ne=(0,S.Z)(Ze,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"form",on(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{directives:[{name:"pad-focus",rawName:"v-pad-focus"}],attrs:{placeholder:e.$t("dialog_cvalue:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("div",{staticClass:"footer"},[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v(e._s(e.$t("dialog_company_EditCompMemberName1")))]),r("el-button",{attrs:{type:"primary",disabled:e.disabled,loading:e.loading},on:{click:e.submit}},[e._v(e._s(e.$t("dialog_company_EditCompMemberNamepertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ae={name:"DeleteCompMember",props:{member:{type:Object,default:function(){tion,defProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onDelete:function(){var e=this;return(0,a.Z)(i().mark((function t(){var r,n,a,s,o,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.loading){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,r=e.member,n=r.comp_id,a=r.comp_uid,s=r.def_dept_id,t.next=7,e[d.G_m]({cid:n,comp_uids:a,dept_id:s});case 7:e.onSuccess(),e.$message.success(e.$t("dialog_company_DeleteCompMember3")),e.$emit("close"),t.next=21;break;case 12:if(t.prev=12,t.t0=t.catch(0),o=t.t0||{},c=o.response,l=(c||{}).data,"PermissionDenied"!==(l||{}).result){t.next=20;break}return e._error(e.$t("dialog_company_DeleteCompMember4")),t.abrupt("return");case 20:e._error(t.t0);case 21:return t.prev=21,e.loading=!1,t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,12,21,24]])})))()}},(0,_.nv)([d.G_m]))},Fe=Ae,Le=(0,S.Z)(Fe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",[e._v(e._s(e.$t("dialog_compa,[r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v(e._s(e.$t("dialog_company_DeleteCompMember1")))]),r("el-button",{attrs:{type:"danger",loading:e.loading},on:{click:e.onDelete}},[e._v(e._s(e.$t("dialog_company_DeleteCompMember2")))])],1)])}),[],!1,null,"e5016a38",null).exports,Re="el-dialog__header",Ue="".concat(Re,"-hide"),Be={name:"UpToCorpTeam",components:{KUpToCorpTeam:function(){return r.e(6647).then(r.bind(r,99337))}},data:function(){return{}},props:{hideDialogHeader:{type:Boolean,default:!0},linkgroups:{type:Array,default:function(){return[]}},corps:{type:Array,default:function(){return[]}},commit:{type:Function,default:function(){return Promise.resolve(!0)}},toBackPrevs:{type:Function,default:function(){return Promise.resolve(!0)}},toCreateCorp:{type:Function,default:function(){return Promise.resolve(!0)}},afterClose:{type:Function,default:function(){return Promise.resolve(!0)}},processFlag:{type:Number,default:1},toAcceptUsers:{type:Array,default:function(){return[]}},successList:{type:A(){return[]}},failList:{type:Array,default:function(){return[]}},errorType:Number},mounted:function(){this.hideHeader()},methods:{close:function(){this.$emit("close")},hideHeader:function(){this.hideDialogHeader&&(this.dialogHeader=document.getElementsByClassName(Re)[0],this.dialogHeader.classList.add(Ue))},showHeader:function(){this.hideDialogHeader&&(this.dialogHeader=document.getElementsByClassName(Re)[0],this.dialogHeader&&this.dialogHeader.classList.remove(Ue))},onToast:function(e){this.$message.error(e)},propsChange:function(e){this.$emit("propsChange",e)}},deactivated:function(){this.$destroy()},beforeDestroy:function(){this.showHeader()}},Ve=(0,S.Z)(Be,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("KUpToCorpTeam",{attrs:{toCreateCorp:e.toCreateCorp,afterClose:e.afterClose,commit:e.commit,linkgroups:e.linkgroups,corps:e.corps,toBackPrevs:e.toBackPrevs,processFlag:e.processFlag,toAcceptUsers:e.toAcceptUsers,errorType:e.errorType,successList:e.successList,failList:e.failList},on:{close:e.close,toast:e.onToast,showHeader:e.showHeader,p("div",{staticClass:"logo"},[t("img"mpanyMoveTips",9073}},computed:{user:function(){return this.$store.state.user}},methods:{getDate:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate();return"".concat(t,".").concat(r,".").concat(n)},handleCopySuccess:function(){this.$message.success(this.$t("dialog_company_oldCompanyMoveTips11")+"QQ"+t$message.error(this.$t("dialog_company_oldCompanyMoveTips13"))}}},qe=(0,S.Z)(Ke,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"oldCompany-move-tips-container"},[r("div",{staticClass:"oldCompany-move-tips-content"},[r("p",{staticClass:"h1"},[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips0"))+e._s(e.user.name||e.user.nickname)+e._s(e.$t("dialog_company_oldCompanyMoveTips1")))]),r("p",{staticClass:"mb-12"},[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips2")))]),r("p",[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips3")))]),r("p",[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips4")))]),r("p",[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips5")))]),r("p",[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips6")))]),r("p",{staticClass:"mt-12"},[e._v(" "+e._s(e.$t("dialog_company_oldCompanyMoveTips7"))+"QQ"+e._s(e.$t("dialog_company_oldCompanyMoveTips8"))+"343869073 "),r("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.qqGroupNumber,expression:"qqGroupNumber"}],staticClass:"copy-text-btn",on:{success:e.handleCopySuccess,error:e.handleCopyError}},[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips9")))])],1)]),r("div",{staticClass:"oldCompany-move-tips-footer"},[e._m(0),r("p",[e._v(e._s(e.$t("dialog_company_oldCompanyMoveTips10"))+" ")]),r("p",[e._v(e._s(e.getDate()))])])])}),ze,!1,null,null,null).exports,Je={props:["companyID"],computed:{src:function(){return"".concat(ae.V1,"/apps/avatar/").concat(this.companyID)}},methods:{},mounted:function(){var e=this;window.addEventListener("message",function(){var t=(0,a.Z)(i().mark((function t(r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("success"!==(n=(r.data.detail||{}).type)){t.next=7;break}return t.next=4,e.$store.dispatch(d.ZmK,{corpId:e.companyID});case 4:e.$emit("close"),t.next=8;break;case 7:("cancel"===n||"close"===n)&&e.$()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},We=Je,Qe=(0,S.Z)(We,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("iframe",{staticClass:"iframe-change-logo",attrs:{id:"iframeChangeLogo",src:e.src}})}),[],!1,null,null,null).exporeturn Promise.all([r.e(343),r.e(6775)]).tht:{type:Function,default:function(){return Promise.resolve(!0)}}},data:function(){return{}},mixins:[c.Z],computed:{cid:function(){return+this.$store.state.route.params.cid}},methods:{onSubmit:function(){this.afterSubmit(),this.dialoeader:!0,back:!1})},onToast:function(e){this.$message.error(e)}}},Ye=(0,S.Z)(Xe,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("KJoinCompPrivilege",{attrs:{cid:e.cid},on:{onSubmit:e.onSubmit,toast:e.onToast}})}),[],!1,null,null,null).exports,et="el-dialog__header",tt="".concat(et,"-hide"),CompPrturn r.e(3922).then(r.bind(r,5254))}},data:function(){return{}},puted:{cid:function(){return this.$store.state.route.pais.hideHeader()},methods:{close:function(){this.$emit("close")},hideHeader:function(){this.hideDialogHeader&&(this.dialogHeader=document.getElementsByClassName(et)[0],this.dialogHeader.classList.add(tt))}}},nt=(0,S.Z)(rt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("KFinishCompPrivilege",{attrs:{cid:e.cid},on:{close:e.close}})}),[],!1,null,null,null).exports,at={templateCard:{title:"",body:fe,footer:null,hideHeader:!0},teamSetting:{title:(0,n.GH)("components_dialog_events51"),body:w,footer:null},secureSetting:{title:(0,n.GH)("components_dialog_events52"),body:U,footer:null},openSecureTips:{title:(0,n.GH)("components_dialog_events53"),body:x,footer:null},closeSecureTips:{title:(0,n.GH)("components_dialog_events54"),body:M,footer:null},closeSecure:{title:"<% title %>",body:F,footer:null},companyInvite:{title:(0,n.GH)("components_dialog_events55"),size:"large",body:ge,footer:null},createCompany:{size:"large",body:ke,footer:null},applicationContacts:{title:"<% title %>",size:"large",body:ne,footer:null},transferTeamTips:{title:(0,n.GH)("components_dialog_events57"),body:z,footer:null},transferTeamMembers:{size:"large",body:W,footer:null,hideHeader:!0},transferTeamComfirm:{title:(0,n.GH)("components_dialog_events57"),body:Y,footer:null},memberApproval:{title:(0,n.GH)("components_dialog_events61"),body:De,size:"large",footer:null},editCompMemberName:{title:(0,n.GH)("components_dialog_events63"),size:"large",body:He,footer:null},deleteCompMember:{title:(0,n.GH)("components_dialog_events64"),size:"large",body:Le,footer:null},JoinCompPrivilege:{title:(0,n.GH)("components_dialog_events66"),body:Ye,size:"large",footer:null},FinishCompPrivilege:{body:nt,size:"large",footer:null},UpToCorpTeam:{title:"<% title %>",body:Ve,footer:null},oldCompanyMoveTips:{title:"",body:qe,footer:null},companyChangeLogo:{title:"",size:"large",body:Qe,footer:null},GuideToTeam:{body:oe,footer:null},historyMark:{title:(0,n.GH)("history_mark"),body:te,footer:null}}},5448:function(e,t,r){var n=r(15861),a=r(87757),s=r.n(a),o=r(52477),i=r(89602),c=r(81045),l={copy:(0,c.GH)("mixins_asyncMessage0"),copySuccess:(0,c.GH)("mixins_asyncMessage1"),delete:(0,c.GH)("mixins_asyncMessage2"),move:(0,c.GH)("mixins_asyncMessage3"),moveto:(0,c.GH)("mixins_asyncMessage4"),cancelShare:(0,c.GH)("mixins_asyncMessage5")};t.Z={mixins:[o.default],methods:{MesText:function(e){return"cancelShare"===e?"".concat((0,c.GH)("mixins_asyncMessage6")).concat(l[e],"，").concat((0,c.GH)("mixins_asyncMessage7")):"".concat((0,c.GH)("mixins_asyncMessage6")).concat(l[e]).concat((0,c.GH)("mixins_asyncMessage8"))},changeProgress:function(e,t,r,a){var o=this;return new Promise((function(u,m){o.timer=setInterval((0,n.Z)(s().mark((function n(){var p,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.$store.dispatch(i.iri,{groupid:t,taskid:r});case 3:p=n.sent,(d=p.data).done?(window.clearInterval(o.timer),o.message&&o.message.close(),u(d.fileids),a&&o.$message.success("".concat("copy"===e?l.copySuccess:l[e]).concat((0,c.GH)("mixins_asyncMessage9")))):o.message&&(o.message.message=o.MesText(e,d.progress)),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),o.message&&o.message.close(),window.clearInterval(o.timer),m(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,8]])}))),1e3)}))},asyncMessage:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return this.message&&(this.message.close(),window.clearInterval(this.timer)),a&&(this.message=this.$message({message:this.MesText(e,0),iconClass:"el-icon-loading",duration:0,onClose:this.onClose})),this.changeProgress(e,t,r,n)},onClose:function(e){var t=e.$el;t&&(e.$destroy(Child(t))}}}},52966:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(15861),a=r(87757),s=r.n(a),o=r(23279),i=r.n(o);function c(e,t){var r="";return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyleyle&&(t=t.replace(/-(\w)/g,(funturn t.toUpperCase()})),r=e.currentStyle[t]),r}var l=function(){},u={componentName:"Scroll",created:function(){var ,this.$seItems=!1}))},data:function(){return{fetching:!1,noMoreItems:!1}},props:{scrollContent:Object,customStyle:Object,execScrollEvent:{type:Boolean,default:!0},total:Number},activated:function(){try{this.$sco{}},computed:},isScrollDone:function(){return!this.fetching&&this.noMoreItems}},watch:{$route:function(){this.noMoreItems=!1},isScrollDone:function(e){this.$emit("isScrollDone",e)},"scrollContent.pagination.offset":function(e){0===e&&(this.$el.scrollTop=0)}},methods:{scrollEvent:function(e){var t=this;return(0,n.Z)(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.handleScroll(e);case 2:t.$emit("scrollEvent");case 3:case"end":return r.stop()}}),r)})))()},handleScroll:function(e){var t=this;return(0,n.Z)(s().mark((function r(){var n,a,o,i,c,l,u,m,p,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.execScrollEvent){r.next=2;break}return r.abrupt("return");case 2:if(n=(e||{}).type,a=t.$el,o=a.scrollTop,t.$scoll=a,t._keep_scrollTop=o,!t.fetching&&!t.noMoreItems){r.next=9;break}return r.abrupt("return");case 9:if(i=a.offsetHeight||a.clientHeight,!(a.scrollHeight-(o+i)>1&&"block"!==t.$refs.more.style.display)){r.next=13;break}return r.abrupt("return");case 13:if("scroll"!==n||0!==o){r.next=15;break}return r.abrupt("return");case 15:t.fetching=!0,c=t.$parent;case 17:if(!c){r.next=43;break}if(!c.fetchItems){r.next=40;break}return r.prev=19,r.next=22,c.fetchItems();case 22:if(l=r.sent){r.next=25;break}return r.abrupt("return");case 25:u=l.items,m=l.pagination,p=u.length,d=m.offset,t.total?(0===p||d+p>=t.total)&&(t.noMoreItems=!0):0===p&&(t.noMoreItems=!0),r.next=34;break;case 31:r.prev=31,r.t0=r.catch(19),t.noMoreItems=!0;case 34:return r.prev=34,t.fetching=!1,c=null,r.finish(34);case 38:r.next=41;break;case 40:c=c.$parent;case 41:r.next=17;break;case 43:case"end":return r.stop()}}),r,null,[[19,31,34,38]])})))()},afterDataAppend:function(){var e=this,t=this.scrollContent.list.length,r=this.scrollContent.pagination.offset,n=parseInt(c(this.$el,"padding-top")),a=parseInt(c(this.$el,"padding-bottom")),s=this.$el.offsetHeight-n-a,o=function(t){var r=t?"none":"block";e.noMoreItems&&(r="none");var n="extendable";e.$refs.more&&(e.$refs.more.style.display=r),e.$el.className.indexOf("extendable")>-1?!e.fetching&&t&&(e.$el.className=e.$el.className.replace(n,"")):t||e.fetching||(e.$el.className="".concat(e.$el.className," ").concat(n).replace(/\s{2,}/g," "))};this.$refs.inner&&(this.$refs.inner.offsetHeight<s?(this.$emit("update:scrollbar",!1),o(t<r||0=bar",!0),o(!this.noMoreItems=!1},scrollToTop:function(){this.$el.scrollTop=0}},mounted:function(){l=i()(this.afterDataAppend.bind(this),20),this.aft,beforeDtListener("resize",l)},updated:function(){this.afterDataAppend()}},m=(0,r(51900).Z)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{scroll:!0,extendable:e.fetching},style:e.customStyle,on:{scroll:e.scrollEvent}},[r("div",{ref:"inner",staticClass:"drive-scroller-inner"},[e._t("default")],2),r("div",{staticClass:"scroll-extend-box"},[e.fetching?r("div",{key:"loading",ref:"loading",staticClass:"content-list-loadmore"},[e._v(" 加载中... ")]):r("div",{key:"more",ref:"more",staticClass:"content-list-click-more"},[r("a",{on:{click:e.handleScroll3289:function(e,t,r){e.exports=r.p+"s1/static/images/871798b005bc77aae265.svg"}}]);
