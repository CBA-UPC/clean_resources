(()=>{"use strict";window["br_flx_0_18"]=e=>{try{let n,t,a=e.templateParams["<PREBID_INSTANCE>"],o=window[a],d=e.templateParams["<PREBID_INSTANCE_CONFIG>"],s=window[d],r=e.templateParams["<FLUX_DIV_ID>"],l=Number(e.templateParams["<ARRAY_INDEX>"]);async function g(e,i,n,t){return new Promise((a=>{let d=u(e,t),s=c(n);if(!s.length)return a();var r=!!o.adUnits.find(();o=o||{},o.que=o.que||[],o.que.push((function(){if(!r){var e={code:i,mediaTypes:{banner:{sizes:s}},bids:d};o.addAdUnits(e)}o.requestBids({adUnitCodes:[i],auctionId:i,bidsBackHandler:)}))}))}function u(e,i){if(s&&s.allUnits&&e&&i){var n=s.allUnits[i];if(n){var t;let e=n.bids?n.bids:n[l].bids;try{t=JSON.parse(JSON.stringify(e))}catch(i){t=e}return t}}}sync function f(e,i,n){return new Promise((function(t){let a=c(n);if(!a.length)return t();window.apstag.fetchBids({slots:[{slotID:i,slotName:e,sizes:a}]},(function(e){return window.apstag.setDisplayBids(),t()}))}))}async function w(e){return new Promise((i=>{o.que.push((function(){o.requestBids({adUnitCodes:[e],auctionId:e,bidsBackHandler:)}))}))}function p(i,n,t,a){const o=[];"fluid"!==a?(o.push(w(i)),e.amznBidConf&&o.push(f(t,i,a))):o.push(Promise.resolve()),Promise.all(o).then((()=>{e.targeting&&e.targeting.forEach((function(e){n.setTargeting(e.key,e.value)})),n.setTargeting("browsiRefresh",!0),window.googletag.pubads().refresh([n],{changeCorrelator:!1})}))}function m(){var i,a,d;if(t){if("fluid"!==t){let n=o.adUnits.find(();(null===(a=null===(i=null==n?void 0:n.mediaTypes)||void 0===i?void 0:i.banner)||void 0===a?void 0:a.sizes)&&(n.mediaTypes.banner.sizes=[t])}const d=window.googletag.sizeMapping().addSize([0,0],t).build();n.defineSizeMapping(d)}p(e.divId,n,null===(d=e.amznBidConf)||void 0===d?void 0:d.slotName,t)}return window.googletag=window.googletag||{cmd:[]},window.apstagLOADED||(i=e.amznBidConf,!!window.apstag&&window.apstag.init({pubID:i.pubID,adServer:i.adServer,bidTimeout:i.timeout})),window.googletag.cmd.push((()=>{n=window.googletag.defineSlot(e.adUnit,e.spotsSizes,e.divId).addService(window.googletag.pubads()),window.googletag.enableServices();const i=[];i.push(g(e.adUnit,e.divId,e.spotsSizes,r)),e.amznBidConf&&i.push(f(e.amznBidConf.slotName,e.divId,e.spotsSizes)),Promise.all(i).then((()=>{e.targeting&&e.targeting.forEach((),window.googletag.pubads().addEventListener("slotRenderEnded",(i=>{if(i.slot.getSlotElementId()===e.divId){t=i.size;const n={gamInfo:{lid:i.lineItemId,oid:i.campaignId}};e.callback(i.isEmpty,void 0,n)}})),window.googletag.display(e.divId),window.googletag.pubads().isInitialLoadDisabled()&&window.googletag.pubads().refresh([n],{changeCorrelator:!1})}))})),{refresh:m}}catch(v){e.callback(v.message)}var i}})();